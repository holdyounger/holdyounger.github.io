

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme="dark">



<head>
  <meta charset="UTF-8">

  <link rel="apple-touch-icon" sizes="76x76" href="https://avatars.githubusercontent.com/u/88082435?v=4">
  <link rel="icon" href="https://avatars.githubusercontent.com/u/88082435?v=4">
  

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="mingming">
  <meta name="keywords" content>
  
    <meta name="description" content="概述：windows下编译libpq 🍡 注意1：PostgreSQL 从版本10之后就只有64位了。使用pqxx也不用考虑32位 使用版本说明：  PostGreSQL: 16.1 pqxx: 7.7.6  🍡 注意2: pqxx 使用的是 C++17">
<meta property="og:type" content="article">
<meta property="og:title" content="【PostgreSQL】windows下编译pqxx">
<meta property="og:url" content="https://hodlyounger.github.io/C_OpenSource/%E3%80%90PostgreSQL%E3%80%91pqxx%20%E7%BC%96%E8%AF%91/index.html">
<meta property="og:site_name" content="oone">
<meta property="og:description" content="概述：windows下编译libpq 🍡 注意1：PostgreSQL 从版本10之后就只有64位了。使用pqxx也不用考虑32位 使用版本说明：  PostGreSQL: 16.1 pqxx: 7.7.6  🍡 注意2: pqxx 使用的是 C++17">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://hodlyounger.github.io/C_OpenSource/%E3%80%90PostgreSQL%E3%80%91pqxx%20%E7%BC%96%E8%AF%91/%E3%80%90PostgreSQL%E3%80%91pqxx%20%E7%BC%96%E8%AF%91/IMG-20240813181628011.png">
<meta property="article:published_time" content="2023-11-16T06:40:46.281Z">
<meta property="article:modified_time" content="2024-08-15T09:19:56.731Z">
<meta property="article:author" content="mingming">
<meta property="article:tag" content="OpenSource">
<meta property="article:tag" content="libpq">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://hodlyounger.github.io/C_OpenSource/%E3%80%90PostgreSQL%E3%80%91pqxx%20%E7%BC%96%E8%AF%91/%E3%80%90PostgreSQL%E3%80%91pqxx%20%E7%BC%96%E8%AF%91/IMG-20240813181628011.png">
  
  
  
  <title>【PostgreSQL】windows下编译pqxx - oone</title>

  <link rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css">



  <link rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css">

  <link rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css">

  <link rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css">



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1749284_5i9bdhy70f8.css">



<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1736178_k526ubmyhba.css">


<link rel="stylesheet" href="/css/main.css">


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css">
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css">
  



  
<link rel="stylesheet" href="/css/callout_blocks.css">



  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"hodlyounger.github.io","root":"/","version":"1.9.8","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":{"measurement_id":null},"tencent":{"sid":null,"cid":null},"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false},"umami":{"src":null,"website_id":null,"domains":null,"start_time":"2024-01-01T00:00:00.000Z","token":null,"api_server":"holdyounger.github.io"}},"search_path":"/local-search.xml","include_content_in_search":true};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script src="/js/utils.js"></script>
  <script src="/js/color-schema.js"></script>
  


  
<meta name="generator" content="Hexo 7.1.1"><link rel="alternate" href="/atom.xml" title="oone" type="application/atom+xml">
</head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>Montarius</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/" target="_self">
                <i class="iconfont icon-home-fill"></i>
                <span>首页</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/" target="_self">
                <i class="iconfont icon-archive-fill"></i>
                <span>归档</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/" target="_self">
                <i class="iconfont icon-category-fill"></i>
                <span>分类</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/" target="_self">
                <i class="iconfont icon-tags-fill"></i>
                <span>标签</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/" target="_self">
                <i class="iconfont icon-user-fill"></i>
                <span>关于</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax="true" style="background: url('/img/default.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="【PostgreSQL】windows下编译pqxx"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2023-11-16 14:40" pubdate>
          2023年11月16日 下午
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          1.6k 字
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          14 分钟
        
      </span>
    

    
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <h1 id="seo-header">【PostgreSQL】windows下编译pqxx</h1>
            
            
              <div class="markdown-body">
                
                <blockquote>
<p>概述：windows下编译libpq</p>
<p>🍡 注意1：PostgreSQL 从版本10之后就只有64位了。使用pqxx也不用考虑32位</p>
<p>使用版本说明：</p>
<ul>
<li>PostGreSQL: 16.1</li>
<li>pqxx: 7.7.6</li>
</ul>
<p>🍡 注意2: pqxx 使用的是 C++17</p>
</blockquote>
<span id="more"></span>
<h2 id="0x01-前言"><a class="markdownIt-Anchor" href="#0x01-前言"></a> 0x01 前言</h2>
<p>what: The official C++ client API for PostgreSQL.</p>
<h2 id="0x02-下载源码"><a class="markdownIt-Anchor" href="#0x02-下载源码"></a> 0x02 下载源码</h2>
<ul>
<li>
<p>postgresql二进制文件下载链接 <a target="_blank" rel="external nofollow noopener noreferrer" href="https://www.enterprisedb.com/download-postgresql-binaries">Community DL Page</a></p>
</li>
<li>
<p>pqxx <a target="_blank" rel="external nofollow noopener noreferrer" href="https://github.com/jtv/libpqxx/tree/7.7">jtv/libpqxx at 7.7</a></p>
</li>
</ul>
<p>源码仓库提供了windows下快速编译libpq的方法。但不好用，本人尝试但未能成功。</p>
<ul>
<li>Easy-PQXX-Build-for-Windows-Visual-Studio <a target="_blank" rel="external nofollow noopener noreferrer" href="https://github.com/GordonLElliott/Easy-PQXX-Build-for-Windows-Visual-Studio">GordonLElliott/Easy-PQXX-Build-for-Windows-Visual-Studio: Quickly build libpqxx, the official C++ client API for PostgreSQL, in Windows environment with Visual Studio. Create both Debug and Release configurations with optional efficiency patches, install in Program Files directory, create property sheets to easily use in Visual Studio applications, with named versions for configurations, and options.</a></li>
</ul>
<h2 id="0x03-使用-cmake-编译-pqxx"><a class="markdownIt-Anchor" href="#0x03-使用-cmake-编译-pqxx"></a> 0x03 使用 cmake 编译 pqxx</h2>
<h3 id="编译"><a class="markdownIt-Anchor" href="#编译"></a> 编译</h3>
<p>编译 pqxx 需要 PostGreSQL 的运行环境，因此需要下载二进制包才能编译成功。去 PostgreSQL 官网下载安装包或者二进制包都可以。</p>
<p>下载完成后，分两种情况，如果是下载的安装包，安装 postgresql 后直接用 cmake 编译就可以了，如果下载的是二进制文件，则需要配置cmake的变量如下所示，直接修改根目录的 <code>CMakeLists.txt</code></p>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs cmake"><span class="hljs-keyword">cmake_minimum_required</span>(VERSION <span class="hljs-number">3.8</span>)<br><br><span class="hljs-keyword">file</span>(READ VERSION VER_FILE_CONTENT)<br><span class="hljs-keyword">string</span>(STRIP <span class="hljs-variable">$&#123;VER_FILE_CONTENT&#125;</span> VER_FILE_CONTENT)<br><br><span class="hljs-keyword">project</span>(<br>    libpqxx<br>    VERSION <span class="hljs-variable">$&#123;VER_FILE_CONTENT&#125;</span><br>    LANGUAGES CXX<br>)<br><br><span class="hljs-comment"># 在这里声明 postgresql 的二进制根目录，根据个人下情况配置即可</span><br><span class="hljs-keyword">set</span>(PostgreSQL_ROOT <span class="hljs-string">&quot;D:\\Documents\\postgresql\\postgresql-16.1-1-windows-x64-binaries\\pgsql&quot;</span>)<br><br><span class="hljs-keyword">if</span>(<span class="hljs-keyword">NOT</span> <span class="hljs-string">&quot;$&#123;CMAKE_CXX_STANDARD&#125;&quot;</span>)<br>    <span class="hljs-keyword">set</span>(CMAKE_CXX_STANDARD <span class="hljs-number">17</span>)<br><span class="hljs-keyword">endif</span>()<br><span class="hljs-keyword">set</span>(CMAKE_CXX_STANDARD_REQUIRED <span class="hljs-keyword">ON</span>)<br><span class="hljs-keyword">set</span>(CMAKE_CXX_EXTENSIONS <span class="hljs-keyword">OFF</span>)<br><span class="hljs-keyword">set</span>(CMAKE_MODULE_PATH <span class="hljs-variable">$&#123;PROJECT_SOURCE_DIR&#125;</span>/cmake)<br></code></pre></td></tr></table></figure>
<p>然后就是使用 <code>cmake</code> 编译了，目前 VSCode 和 Visual Studio 都支持 CMake 文件的编译，直接编译即可。</p>
<p>这里使用 Visual Studio 编译后，会在 out 目录下生成lib文件，如下所示：</p>
<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">D:\Documents\A_Source\OpenSource\libpqxx\<span class="hljs-keyword">out</span>&gt;tree /F<br>卷 本地磁盘 的文件夹 <span class="hljs-type">PATH</span> 列表<br>卷序列号为 <span class="hljs-number">724</span>D<span class="hljs-number">-690</span>E<br>D:.<br>├─build<br>│  └─x64-<span class="hljs-keyword">Debug</span><br>│      │  .ninja_deps<br>│      │  .ninja_log<br>│      │  build.ninja<br>│      │  CMakeCache.txt<br>│      │  cmake_install.cmake<br>│      │  CPackConfig.cmake<br>│      │  CPackSourceConfig.cmake<br>│      │  install_manifest.txt<br>│      │  libpqxx-config-<span class="hljs-keyword">version</span>.cmake<br>│      │  libpqxx-config.cmake<br>│      │  libpqxx-targets.cmake<br>│      │  libpqxx.pc<br>│      │  VSInheritEnvironments.txt<br>│      │<br>│      ├─.cmake<br>│      │  └─api<br>│      │      └─v1<br>│      │          ├─query<br>│      │          │  └─client-MicrosoftVS<br>│      │          │          query.json<br>│      │          │<br>│      │          └─reply<br>│      │                  <span class="hljs-keyword">cache</span>-v2<span class="hljs-number">-4</span>c1f3ae5d14ffd09e2dd.json<br>│      │                  cmakeFiles-v1<span class="hljs-number">-6</span>f2def4807820d15719b.json<br>│      │                  codemodel-v2<span class="hljs-number">-8933</span>aef952d7508a3af3.json<br>│      │                  directory-.-<span class="hljs-keyword">Debug</span><span class="hljs-number">-6</span>b54e12c0d4bd01edfca.json<br>│      │                  directory-<span class="hljs-keyword">include</span>-<span class="hljs-keyword">Debug</span>-ba96d77232f254970ce6.json<br>│      │                  directory-src-<span class="hljs-keyword">Debug</span><span class="hljs-number">-5</span>d1cc30954eb9bce3508.json<br>│      │                  directory-test-<span class="hljs-keyword">Debug</span>-f18be1977b403cfd1a50.json<br>│      │                  <span class="hljs-keyword">index</span><span class="hljs-number">-2023</span><span class="hljs-number">-11</span><span class="hljs-number">-16</span>T09<span class="hljs-number">-03</span><span class="hljs-number">-01</span><span class="hljs-number">-0309.</span><span class="hljs-type">json</span><br>│      │                  target-pqxx-<span class="hljs-keyword">Debug</span><span class="hljs-number">-08</span>c4b9d672ef282e41c8.json<br>│      │                  target-runner-<span class="hljs-keyword">Debug</span>-b625a8b78dd4666c4f11.json<br>│      │                  toolchains-v1<span class="hljs-number">-3</span>b995f712f6d6e9a85c1.json<br>│      │<br>│      ├─CMakeFiles<br>│      │  │  cmake.check_cache<br>│      │  │  CMakeConfigureLog.yaml<br>│      │  │  rules.ninja<br>│      │  │  TargetDirectories.txt<br>│      │  │<br>│      │  ├─<span class="hljs-number">3.26</span><span class="hljs-number">.4</span>-msvc4<br>│      │  │  │  CMakeCXXCompiler.cmake<br>│      │  │  │  CMakeDetermineCompilerABI_CXX.bin<br>│      │  │  │  CMakeRCCompiler.cmake<br>│      │  │  │  CMakeSystem.cmake<br>│      │  │  │<br>│      │  │  └─CompilerIdCXX<br>│      │  │      │  CMakeCXXCompilerId.cpp<br>│      │  │      │  CMakeCXXCompilerId.exe<br>│      │  │      │  CMakeCXXCompilerId.obj<br>│      │  │      │<br>│      │  │      └─tmp<br>│      │  ├─CMakeTmp<br>│      │  ├─Export<br>│      │  │  └─d6b66e93f8212dd1f00debf9f6654819<br>│      │  │          libpqxx-targets-<span class="hljs-keyword">debug</span>.cmake<br>│      │  │          libpqxx-targets.cmake<br>│      │  │<br>│      │  ├─pkgRedirects<br>│      │  └─ShowIncludes<br>│      │          foo.h<br>│      │          main.c<br>│      │          main.obj<br>│      │<br>│      ├─<span class="hljs-keyword">include</span><br>│      │  │  cmake_install.cmake<br>│      │  │<br>│      │  ├─CMakeFiles<br>│      │  └─pqxx<br>│      │          config-<span class="hljs-type">internal</span>-compiler.h<br>│      │          config-<span class="hljs-type">internal</span>-libpq.h<br>│      │          config-<span class="hljs-built_in">public</span>-compiler.h<br>│      │          config_cmake.h.<span class="hljs-keyword">in</span><br>│      │<br>│      ├─src<br>│      │  │  cmake_install.cmake<br>│      │  │  pqxx.lib<br>│      │  │<br>│      │  └─CMakeFiles<br>│      │      └─pqxx.dir<br>│      │              <span class="hljs-keyword">array</span>.cxx.obj<br>│      │              binarystring.cxx.obj<br>│      │              blob.cxx.obj<br>│      │              <span class="hljs-keyword">connection</span>.cxx.obj<br>│      │              <span class="hljs-keyword">cursor</span>.cxx.obj<br>│      │              encodings.cxx.obj<br>│      │              errorhandler.cxx.obj<br>│      │              <span class="hljs-keyword">except</span>.cxx.obj<br>│      │              field.cxx.obj<br>│      │              largeobject.cxx.obj<br>│      │              notification.cxx.obj<br>│      │              params.cxx.obj<br>│      │              pipeline.cxx.obj<br>│      │              pqxx.pdb<br>│      │              result.cxx.obj<br>│      │              robusttransaction.cxx.obj<br>│      │              <span class="hljs-keyword">row</span>.cxx.obj<br>│      │              sql_cursor.cxx.obj<br>│      │              strconv.cxx.obj<br>│      │              stream_from.cxx.obj<br>│      │              stream_to.cxx.obj<br>│      │              subtransaction.cxx.obj<br>│      │              <span class="hljs-type">time</span>.cxx.obj<br>│      │              <span class="hljs-keyword">transaction</span>.cxx.obj<br>│      │              transaction_base.cxx.obj<br>│      │              util.cxx.obj<br>│      │              <span class="hljs-keyword">version</span>.cxx.obj<br>│      │              wait.cxx.obj<br>│      │<br>│      ├─test<br>│      │  │  cmake_install.cmake<br>│      │  │  CTestTestfile.cmake<br>│      │  │  runner.exe<br>│      │  │  runner.ilk<br>│      │  │  runner.pdb<br>│      │  │<br>│      │  └─CMakeFiles<br>│      │      └─runner.dir<br>│      │          │  embed.manifest<br>│      │          │  intermediate.manifest<br>│      │          │  manifest.rc<br>│      │          │  manifest.res<br>│      │          │  runner.cxx.obj<br>│      │          │  test00.cxx.obj<br>│      │          │  test01.cxx.obj<br>│      │          │  test02.cxx.obj<br>│      │          │  test04.cxx.obj<br>│      │          │  test07.cxx.obj<br>│      │          │  test10.cxx.obj<br>│      │          │  test11.cxx.obj<br>│      │          │  test13.cxx.obj<br>│      │          │  test14.cxx.obj<br>│      │          │  test16.cxx.obj<br>│      │          │  test17.cxx.obj<br>│      │          │  test18.cxx.obj<br>│      │          │  test20.cxx.obj<br>│      │          │  test21.cxx.obj<br>│      │          │  test26.cxx.obj<br>│      │          │  test29.cxx.obj<br>│      │          │  test30.cxx.obj<br>│      │          │  test32.cxx.obj<br>│      │          │  test37.cxx.obj<br>│      │          │  test39.cxx.obj<br>│      │          │  test46.cxx.obj<br>│      │          │  test56.cxx.obj<br>│      │          │  test60.cxx.obj<br>│      │          │  test61.cxx.obj<br>│      │          │  test62.cxx.obj<br>│      │          │  test69.cxx.obj<br>│      │          │  test70.cxx.obj<br>│      │          │  test71.cxx.obj<br>│      │          │  test72.cxx.obj<br>│      │          │  test74.cxx.obj<br>│      │          │  test75.cxx.obj<br>│      │          │  test76.cxx.obj<br>│      │          │  test77.cxx.obj<br>│      │          │  test78.cxx.obj<br>│      │          │  test79.cxx.obj<br>│      │          │  test82.cxx.obj<br>│      │          │  test84.cxx.obj<br>│      │          │  test87.cxx.obj<br>│      │          │  test88.cxx.obj<br>│      │          │  test89.cxx.obj<br>│      │          │  test90.cxx.obj<br>│      │          │  vc140.pdb<br>│      │          │<br>│      │          └─unit<br>│      │                  test_array.cxx.obj<br>│      │                  test_binarystring.cxx.obj<br>│      │                  test_blob.cxx.obj<br>│      │                  test_cancel_query.cxx.obj<br>│      │                  test_column.cxx.obj<br>│      │                  test_composite.cxx.obj<br>│      │                  test_connection.cxx.obj<br>│      │                  test_cursor.cxx.obj<br>│      │                  test_encodings.cxx.obj<br>│      │                  test_errorhandler.cxx.obj<br>│      │                  test_error_verbosity.cxx.obj<br>│      │                  test_escape.cxx.obj<br>│      │                  test_exceptions.cxx.obj<br>│      │                  test_field.cxx.obj<br>│      │                  test_float.cxx.obj<br>│      │                  test_largeobject.cxx.obj<br>│      │                  test_nonblocking_connect.cxx.obj<br>│      │                  test_notification.cxx.obj<br>│      │                  test_pipeline.cxx.obj<br>│      │                  test_prepared_statement.cxx.obj<br>│      │                  test_range.cxx.obj<br>│      │                  test_read_transaction.cxx.obj<br>│      │                  test_result_iteration.cxx.obj<br>│      │                  test_result_slicing.cxx.obj<br>│      │                  test_row.cxx.obj<br>│      │                  test_separated_list.cxx.obj<br>│      │                  test_simultaneous_transactions.cxx.obj<br>│      │                  test_sql_cursor.cxx.obj<br>│      │                  test_stateless_cursor.cxx.obj<br>│      │                  test_strconv.cxx.obj<br>│      │                  test_stream_from.cxx.obj<br>│      │                  test_stream_to.cxx.obj<br>│      │                  test_string_conversion.cxx.obj<br>│      │                  test_subtransaction.cxx.obj<br>│      │                  test_test_helpers.cxx.obj<br>│      │                  test_thread_safety_model.cxx.obj<br>│      │                  test_time.cxx.obj<br>│      │                  test_transaction.cxx.obj<br>│      │                  test_transaction_base.cxx.obj<br>│      │                  test_transaction_focus.cxx.obj<br>│      │                  test_transactor.cxx.obj<br>│      │                  test_type_name.cxx.obj<br>│      │                  test_zview.cxx.obj<br>│      │<br>│      └─Testing<br>│          └─<span class="hljs-keyword">Temporary</span><br>│                  LastTest.<span class="hljs-keyword">log</span><br>│<br>└─install<br>    └─x64-<span class="hljs-keyword">Debug</span><br>        ├─<span class="hljs-keyword">include</span><br>        │  └─pqxx<br>        │      │  <span class="hljs-keyword">array</span><br>        │      │  <span class="hljs-keyword">array</span>.hxx<br>        │      │  binarystring<br>        │      │  binarystring.hxx<br>        │      │  blob<br>        │      │  blob.hxx<br>        │      │  composite<br>        │      │  composite.hxx<br>        │      │  config-<span class="hljs-built_in">public</span>-compiler.h<br>        │      │  <span class="hljs-keyword">connection</span><br>        │      │  <span class="hljs-keyword">connection</span>.hxx<br>        │      │  <span class="hljs-keyword">cursor</span><br>        │      │  <span class="hljs-keyword">cursor</span>.hxx<br>        │      │  dbtransaction<br>        │      │  dbtransaction.hxx<br>        │      │  errorhandler<br>        │      │  errorhandler.hxx<br>        │      │  <span class="hljs-keyword">except</span><br>        │      │  <span class="hljs-keyword">except</span>.hxx<br>        │      │  field<br>        │      │  field.hxx<br>        │      │  <span class="hljs-keyword">isolation</span><br>        │      │  <span class="hljs-keyword">isolation</span>.hxx<br>        │      │  largeobject<br>        │      │  largeobject.hxx<br>        │      │  nontransaction<br>        │      │  nontransaction.hxx<br>        │      │  notification<br>        │      │  notification.hxx<br>        │      │  params<br>        │      │  params.hxx<br>        │      │  pipeline<br>        │      │  pipeline.hxx<br>        │      │  pqxx<br>        │      │  prepared_statement<br>        │      │  prepared_statement.hxx<br>        │      │  range<br>        │      │  range.hxx<br>        │      │  result<br>        │      │  result.hxx<br>        │      │  robusttransaction<br>        │      │  robusttransaction.hxx<br>        │      │  <span class="hljs-keyword">row</span><br>        │      │  <span class="hljs-keyword">row</span>.hxx<br>        │      │  separated_list<br>        │      │  separated_list.hxx<br>        │      │  strconv<br>        │      │  strconv.hxx<br>        │      │  stream_from<br>        │      │  stream_from.hxx<br>        │      │  stream_to<br>        │      │  stream_to.hxx<br>        │      │  subtransaction<br>        │      │  subtransaction.hxx<br>        │      │  <span class="hljs-type">time</span><br>        │      │  <span class="hljs-type">time</span>.hxx<br>        │      │  <span class="hljs-keyword">transaction</span><br>        │      │  <span class="hljs-keyword">transaction</span>.hxx<br>        │      │  transaction_base<br>        │      │  transaction_base.hxx<br>        │      │  transaction_focus<br>        │      │  transaction_focus.hxx<br>        │      │  transactor<br>        │      │  transactor.hxx<br>        │      │  <span class="hljs-keyword">types</span><br>        │      │  <span class="hljs-keyword">types</span>.hxx<br>        │      │  util<br>        │      │  util.hxx<br>        │      │  <span class="hljs-keyword">version</span><br>        │      │  <span class="hljs-keyword">version</span>.hxx<br>        │      │  zview<br>        │      │  zview.hxx<br>        │      │<br>        │      └─<span class="hljs-type">internal</span><br>        │          │  <span class="hljs-keyword">array</span>-composite.hxx<br>        │          │  callgate.hxx<br>        │          │  concat.hxx<br>        │          │  conversions.hxx<br>        │          │  encodings.hxx<br>        │          │  encoding_group.hxx<br>        │          │  <span class="hljs-keyword">header</span>-post.hxx<br>        │          │  <span class="hljs-keyword">header</span>-pre.hxx<br>        │          │  ignore-deprecated-post.hxx<br>        │          │  ignore-deprecated-pre.hxx<br>        │          │  libpq-forward.hxx<br>        │          │  result_iter.hxx<br>        │          │  result_iterator.hxx<br>        │          │  sql_cursor.hxx<br>        │          │  statement_parameters.hxx<br>        │          │  stream_iterator.hxx<br>        │          │  wait.hxx<br>        │          │<br>        │          └─gates<br>        │                  <span class="hljs-keyword">connection</span>-errorhandler.hxx<br>        │                  <span class="hljs-keyword">connection</span>-largeobject.hxx<br>        │                  <span class="hljs-keyword">connection</span>-notification_receiver.hxx<br>        │                  <span class="hljs-keyword">connection</span>-pipeline.hxx<br>        │                  <span class="hljs-keyword">connection</span>-sql_cursor.hxx<br>        │                  <span class="hljs-keyword">connection</span>-stream_from.hxx<br>        │                  <span class="hljs-keyword">connection</span>-stream_to.hxx<br>        │                  <span class="hljs-keyword">connection</span>-<span class="hljs-keyword">transaction</span>.hxx<br>        │                  errorhandler-<span class="hljs-keyword">connection</span>.hxx<br>        │                  icursorstream-icursor_iterator.hxx<br>        │                  icursor_iterator-icursorstream.hxx<br>        │                  result-<span class="hljs-keyword">connection</span>.hxx<br>        │                  result-creation.hxx<br>        │                  result-pipeline.hxx<br>        │                  result-sql_cursor.hxx<br>        │                  <span class="hljs-keyword">transaction</span>-sql_cursor.hxx<br>        │                  <span class="hljs-keyword">transaction</span>-transaction_focus.hxx<br>        │<br>        ├─lib<br>        │  │  pqxx.lib<br>        │  │<br>        │  ├─cmake<br>        │  │  └─libpqxx<br>        │  │          libpqxx-config-<span class="hljs-keyword">version</span>.cmake<br>        │  │          libpqxx-config.cmake<br>        │  │          libpqxx-targets-<span class="hljs-keyword">debug</span>.cmake<br>        │  │          libpqxx-targets.cmake<br>        │  │<br>        │  └─pkgconfig<br>        │          libpqxx.pc<br>        │<br>        └─<span class="hljs-keyword">share</span><br>            └─doc<br>                └─libpqxx<br>                        accessing-results.md<br>                        binary-data.md<br>                        datatypes.md<br>                        escaping.md<br>                        getting-started.md<br>                        mainpage.md<br>                        parameters.md<br>                        performance.md<br>                        <span class="hljs-keyword">prepared</span>-<span class="hljs-keyword">statement</span>.md<br>                        streams.md<br>                        thread-safety.md<br></code></pre></td></tr></table></figure>
<p>⚠ 然后就可以编代码使用 pqxx.lib 了。除此之外，在编译项目时还需要添加 libpq.lib.</p>
<p>除此之外可以看到以下两个目录，这两个目录待会要引入到 VS 工程中：</p>
<ul>
<li>
<p>include：D:\Documents\A_Source\OpenSource\libpqxx\out\install\x64-Debug\include</p>
</li>
<li>
<p>lib: D:\Documents\A_Source\OpenSource\libpqxx\out\install\x64-Debug\lib</p>
</li>
<li>
<p>还需引入 libpq.lib 的目录。</p>
</li>
</ul>
<h3 id="使用"><a class="markdownIt-Anchor" href="#使用"></a> 使用</h3>
<p>以下代码可直接使用，自测是没问题的。</p>
<p>如果有编译报错 <code>C4996: '_Header_ciso646'</code>，关闭 <mark>SDL检查</mark> 再编译试试。</p>
<p>另外补充一点，编译的PE文件运行时依赖很多dll，包括但不限于 libpq.dll、libssl 等，可以选择部署到另外一台机器上，同时部署 C++ 运行时文件。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;windows.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;pqxx/pqxx&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;pqxx/transaction&gt;</span></span><br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">(<span class="hljs-type">int</span> argc, <span class="hljs-type">char</span>* argv[])</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// (Normally you&#x27;d check for valid command-line arguments.)</span><br><br>    <span class="hljs-keyword">if</span> (argc &lt; <span class="hljs-number">3</span>)<br>    &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Usage:\n %s &lt;username&gt; &lt;password&gt;&quot;</span>, argv[<span class="hljs-number">0</span>]);<br>        <span class="hljs-built_in">exit</span>(<span class="hljs-number">-1</span>);<br>    &#125;<br><br>    <span class="hljs-type">char</span> conn[MAX_PATH];<br><br>    <span class="hljs-built_in">sprintf</span>(conn, <span class="hljs-string">&quot;postgresql://%s:%s@localhost/postgres&quot;</span>, argv[<span class="hljs-number">1</span>], argv[<span class="hljs-number">2</span>]);<br><br>    <span class="hljs-keyword">try</span><br>    &#123;<br>        pqxx::connection c&#123; conn &#125;;<br>        pqxx::work txn&#123; c &#125;;<br><br>        <span class="hljs-comment">// For querying just one single value, the transaction has a shorthand method</span><br>        <span class="hljs-comment">// query_value().</span><br>        <span class="hljs-comment">//</span><br>        <span class="hljs-comment">// Use txn.quote() to escape and quote a C++ string for use as an SQL string</span><br>        <span class="hljs-comment">// in a query&#x27;s text.</span><br>        pqxx::result res = txn.<span class="hljs-built_in">exec</span>(<span class="hljs-string">&quot;SELECT * FROM pg_authid&quot;</span>);<br><br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; res.<span class="hljs-built_in">size</span>(); i++)<br>        &#123;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j = <span class="hljs-number">0</span>; j &lt; res[i].<span class="hljs-built_in">size</span>(); j++)<br>                std::cout &lt;&lt; <span class="hljs-string">&quot;&quot;</span> &lt;&lt; res[i].<span class="hljs-built_in">at</span>(j) &lt;&lt; <span class="hljs-string">&#x27;\t&#x27;</span>;<br><br>            std::cout &lt;&lt; <span class="hljs-string">&#x27;\n&#x27;</span>;<br>        &#125;<br>    &#125;<br>    <span class="hljs-built_in">catch</span> (std::bad_alloc <span class="hljs-type">const</span>&amp;)<br>    &#123;<br>        std::cerr &lt;&lt; <span class="hljs-string">&quot;Out of memory!&quot;</span> &lt;&lt; std::endl;<br>    &#125;<br>    <span class="hljs-built_in">catch</span> (pqxx::sql_error <span class="hljs-type">const</span>&amp; e)<br>    &#123;<br>        std::cerr &lt;&lt; <span class="hljs-string">&quot;SQL error: &quot;</span> &lt;&lt; e.<span class="hljs-built_in">what</span>() &lt;&lt; std::endl<br>            &lt;&lt; <span class="hljs-string">&quot;Query was: &quot;</span> &lt;&lt; e.<span class="hljs-built_in">query</span>() &lt;&lt; std::endl;<br>    &#125;<br>    <span class="hljs-built_in">catch</span> (std::exception <span class="hljs-type">const</span>&amp; e)<br>    &#123;<br>        std::cerr &lt;&lt; <span class="hljs-string">&quot;Exception: &quot;</span> &lt;&lt; e.<span class="hljs-built_in">what</span>() &lt;&lt; std::endl;<br>    &#125;<br>    <span class="hljs-built_in">catch</span> (...)<br>    &#123;<br>        std::cerr &lt;&lt; <span class="hljs-string">&quot;Unknown exception&quot;</span> &lt;&lt; std::endl;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>在安装postgresql的机器上输出如下所示：</p>
<p><img src="%E3%80%90PostgreSQL%E3%80%91pqxx%20%E7%BC%96%E8%AF%91/IMG-20240813181628011.png" srcset="/img/loading.gif" lazyload alt="输出截图"></p>

                
              </div>
            
            <hr>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/C-OpenSource/" class="category-chain-item">C_OpenSource</a>
  
  

      </span>
    
  
</span>

    </div>
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/OpenSource/" class="print-no-link">#OpenSource</a>
      
        <a href="/tags/libpq/" class="print-no-link">#libpq</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>【PostgreSQL】windows下编译pqxx</div>
      <div>https://hodlyounger.github.io/C_OpenSource/【PostgreSQL】pqxx 编译/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>作者</div>
          <div>mingming</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>发布于</div>
          <div>2023年11月16日</div>
        </div>
      
      
      
        <div class="license-meta-item">
          <div>许可协议</div>
          <div>
            
              
              
                <a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by/4.0/" rel="external nofollow noopener noreferrer">
                  <span class="hint--top hint--rounded" aria-label="BY - 署名">
                    <i class="iconfont icon-cc-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/A_OS/Windows/Visual%20Studio/%E3%80%90Visual%20Studio%E3%80%91MSVC%E9%93%BE%E6%8E%A5%E5%99%A8%E9%80%89%E9%A1%B9/" title="【Visual Studio】 MSVC链接器选项">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">【Visual Studio】 MSVC链接器选项</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/wiki/%E5%BC%B1%E5%AF%86%E7%A0%81/%E3%80%90%E5%BC%B1%E5%AF%86%E7%A0%81%E3%80%91PostgreSQL/" title="【弱密码】PostgreSQL">
                        <span class="hidden-mobile">【弱密码】PostgreSQL</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>目录</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="external nofollow noopener noreferrer"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="external nofollow noopener noreferrer"><span>Fluid</span></a> 
    </div>
  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js"></script>
  <link rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css">

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script src="https://lib.baomitu.com/jquery/3.6.4/jquery.min.js"></script>
<script src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js"></script>
<script src="/js/events.js"></script>
<script src="/js/plugins.js"></script>


  <script src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js"></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script src="/js/img-lazyload.js"></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.20.1/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src="https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js"></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/5.0.0/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script src="/js/local-search.js"></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script src="/js/boot.js"></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
</body>
</html>
