<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta name="generator" content="Hexo 6.3.0">
  <meta name="hexo-theme" content="https://github.com/xaoxuu/hexo-theme-stellar/tree/1.19.0">
  <meta charset="utf-8">
  

  <meta http-equiv="x-dns-prefetch-control" content="on">
  <link rel="dns-prefetch" href="https://gcore.jsdelivr.net">
  <link rel="preconnect" href="https://gcore.jsdelivr.net" crossorigin>
  <link rel="dns-prefetch" href="//unpkg.com">

  <meta name="renderer" content="webkit">
  <meta name="force-rendering" content="webkit">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
  <meta name="HandheldFriendly" content="True">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="theme-color" content="#f8f8f8">
  
  <title>【PostgreSQL】windows下编译pqxx - oone</title>

  
    <meta name="description" content="概述：windows下编译libpq :dango: 注意1：PostgreSQL 从版本10之后就只有64位了。使用pqxx也不用考虑32位 使用版本说明：  PostGreSQL: 16.1 pqxx: 7.7.6  :dango: 注意2: pqxx 使用的是 C++17">
<meta property="og:type" content="article">
<meta property="og:title" content="【PostgreSQL】windows下编译pqxx">
<meta property="og:url" content="http://example.com/C_OpenSource/pqxx/index.html">
<meta property="og:site_name" content="oone">
<meta property="og:description" content="概述：windows下编译libpq :dango: 注意1：PostgreSQL 从版本10之后就只有64位了。使用pqxx也不用考虑32位 使用版本说明：  PostGreSQL: 16.1 pqxx: 7.7.6  :dango: 注意2: pqxx 使用的是 C++17">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/C_OpenSource/pqxx/image-20231116183017528.png">
<meta property="article:published_time" content="2023-11-16T06:40:46.281Z">
<meta property="article:modified_time" content="2023-11-24T10:35:10.754Z">
<meta property="article:author" content="mingming">
<meta property="article:tag" content="libpq">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/C_OpenSource/pqxx/image-20231116183017528.png">
  
  
  
  <meta name="keywords" content="libpq">

  <!-- feed -->
  
    <link rel="alternate" href="/atom.xml" title="oone" type="application/atom+xml">
  

  
    
<link rel="stylesheet" href="/css/main.css">

  

  
    <link rel="shortcut icon" href="/images/avator.png">
  

  

  


  
</head>

<body>
  




  <div class="l_body" id="start">
    <aside class="l_left" layout="post">
    

  

<header class="header"><div class="logo-wrap"><a class="avatar" href="/about/"><div class="bg" style="opacity:0;background-image:url(https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.4/avatar/round/rainbow64@3x.webp);"></div><img no-lazy class="avatar" src="/images/avator.png" onerror="javascript:this.classList.add('error');this.src='https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.4/image/2659360.svg';"></a><a class="title" href="/"><div class="main" ff="title">oone</div><div class="sub normal cap">固执无罪，梦想无价</div><div class="sub hover cap" style="opacity:0"> Coding For Knowledge</div></a></div>

<nav class="menu dis-select"><a class="nav-item" href="/readme/">主页</a><a class="nav-item" href="/wiki/">项目</a><a class="nav-item" href="/more/">更多</a></nav>
</header>


<div class="widgets">
<widget class="widget-wrapper search"><div class="widget-body"><div class="search-wrapper" id="search"><form class="search-form"><input type="text" class="search-input" id="search-input" data-filter="/blog/" placeholder="文章搜索"><svg t="1670596976048" class="icon search-icon" viewbox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2676" width="200" height="200"><path d="M938.2 832.6L723.8 618.1c-2.5-2.5-5.3-4.4-7.9-6.4 36.2-55.6 57.3-121.8 57.3-193.1C773.3 222.8 614.6 64 418.7 64S64 222.8 64 418.6c0 195.9 158.8 354.6 354.6 354.6 71.3 0 137.5-21.2 193.2-57.4 2 2.7 3.9 5.4 6.3 7.8L832.5 938c14.6 14.6 33.7 21.9 52.8 21.9 19.1 0 38.2-7.3 52.8-21.8 29.2-29.1 29.2-76.4 0.1-105.5M418.7 661.3C284.9 661.3 176 552.4 176 418.6 176 284.9 284.9 176 418.7 176c133.8 0 242.6 108.9 242.6 242.7 0 133.7-108.9 242.6-242.6 242.6" p-id="2677"/></svg></form><div id="search-result"></div><div class="search-no-result">没有找到内容！</div></div></div></widget>


<widget class="widget-wrapper toc single" id="data-toc"><div class="widget-header cap dis-select"><span class="name">【PostgreSQL】windows下编译pqxx</span></div><div class="widget-body fs14"><div class="doc-tree active"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#0x01-%E5%89%8D%E8%A8%80"><span class="toc-text">0x01 前言</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0x02-%E4%B8%8B%E8%BD%BD%E6%BA%90%E7%A0%81"><span class="toc-text">0x02 下载源码</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0x03-%E4%BD%BF%E7%94%A8-cmake-%E7%BC%96%E8%AF%91-pqxx"><span class="toc-text">0x03 使用 cmake 编译 pqxx</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BC%96%E8%AF%91"><span class="toc-text">编译</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8"><span class="toc-text">使用</span></a></li></ol></li></ol></div></div></widget>

<widget class="widget-wrapper recent"><div class="widget-header cap theme dis-select"><span class="name">最近更新</span></div><div class="widget-body related-posts fs14"><a class="item title" href="/A_OS/Windows/RPC/%E3%80%90RPC%E3%80%91ALPC/"><span class="title">【RPC】ALPC 调用详解（翻译|TODO）</span></a><a class="item title" href="/A_OS/Windows/%E6%9D%83%E9%99%90%E4%B8%8E%E4%BC%9A%E8%AF%9D/Privilege%20constants/"><span class="title">【Windows】权限(Privilege Constants)</span></a><a class="item title" href="/A_OS/Windows/%E6%9D%83%E9%99%90%E4%B8%8E%E4%BC%9A%E8%AF%9D/%E6%8F%90%E6%9D%83%E5%B7%A5%E5%85%B7/"><span class="title">【Windows】提权工具 psExec.exe</span></a><a class="item title" href="/A_OS/Windows/RPC/%E3%80%90RPC%E3%80%91%E8%B0%83%E7%94%A8%E8%BF%87%E7%A8%8B%E5%AE%9E%E4%BE%8B%E8%AF%A6%E8%A7%A3/"><span class="title">【RPC】调用过程实例详解</span></a><a class="item title" href="/A_OS/Windows/RPC/%E3%80%90RPC%E3%80%91%E6%BC%8F%E6%B4%9E/"><span class="title">【RPC】漏洞</span></a></div></widget>




</div>


    </aside>
    <div class="l_main">
      

      



<div class="bread-nav fs12"><div id="breadcrumb"><a class="cap breadcrumb" href="/">主页</a><span class="sep"></span><a class="cap breadcrumb" href="/">文章</a><span class="sep"></span><a class="cap breadcrumb-link" href="/categories/C-OpenSource/">C_OpenSource</a></div><div id="post-meta">发布于&nbsp;<time datetime="2023-11-16T06:40:46.281Z">2023-11-16</time></div></div>

<article class="md-text content post">
<h1 class="article-title"><span>【PostgreSQL】windows下编译pqxx</span></h1>
<blockquote>
<p>概述：windows下编译libpq</p>
<p>:dango: 注意1：PostgreSQL 从版本10之后就只有64位了。使用pqxx也不用考虑32位</p>
<p>使用版本说明：</p>
<ul>
<li>PostGreSQL: 16.1</li>
<li>pqxx: 7.7.6</li>
</ul>
<p>:dango: 注意2: pqxx 使用的是 C++17</p>
</blockquote>
<span id="more"></span>



<h2 id="0x01-前言"><a href="#0x01-前言" class="headerlink" title="0x01 前言"></a>0x01 前言</h2><p>what: The official C++ client API for PostgreSQL.</p>
<h2 id="0x02-下载源码"><a href="#0x02-下载源码" class="headerlink" title="0x02 下载源码"></a>0x02 下载源码</h2><ul>
<li><p>postgresql二进制文件下载链接 <a target="_blank" rel="external nofollow noopener noreferrer" href="https://www.enterprisedb.com/download-postgresql-binaries">Community DL Page</a></p>
</li>
<li><p>pqxx <a target="_blank" rel="external nofollow noopener noreferrer" href="https://github.com/jtv/libpqxx/tree/7.7">jtv&#x2F;libpqxx at 7.7</a></p>
</li>
</ul>
<p>源码仓库提供了windows下快速编译libpq的方法。但不好用，本人尝试但未能成功。</p>
<ul>
<li>Easy-PQXX-Build-for-Windows-Visual-Studio <a target="_blank" rel="external nofollow noopener noreferrer" href="https://github.com/GordonLElliott/Easy-PQXX-Build-for-Windows-Visual-Studio">GordonLElliott&#x2F;Easy-PQXX-Build-for-Windows-Visual-Studio: Quickly build libpqxx, the official C++ client API for PostgreSQL, in Windows environment with Visual Studio. Create both Debug and Release configurations with optional efficiency patches, install in Program Files directory, create property sheets to easily use in Visual Studio applications, with named versions for configurations, and options.</a></li>
</ul>
<h2 id="0x03-使用-cmake-编译-pqxx"><a href="#0x03-使用-cmake-编译-pqxx" class="headerlink" title="0x03 使用 cmake 编译 pqxx"></a>0x03 使用 cmake 编译 pqxx</h2><h3 id="编译"><a href="#编译" class="headerlink" title="编译"></a>编译</h3><p>编译 pqxx 需要 PostGreSQL 的运行环境，因此需要下载二进制包才能编译成功。去 PostgreSQL 官网下载安装包或者二进制包都可以。</p>
<p>下载完成后，分两种情况，如果是下载的安装包，安装 postgresql 后直接用 cmake 编译就可以了，如果下载的是二进制文件，则需要配置cmake的变量如下所示，直接修改根目录的 <code>CMakeLists.txt</code></p>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">cmake_minimum_required</span>(VERSION <span class="number">3.8</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">file</span>(READ VERSION VER_FILE_CONTENT)</span><br><span class="line"><span class="keyword">string</span>(STRIP <span class="variable">$&#123;VER_FILE_CONTENT&#125;</span> VER_FILE_CONTENT)</span><br><span class="line"></span><br><span class="line"><span class="keyword">project</span>(</span><br><span class="line">    libpqxx</span><br><span class="line">    VERSION <span class="variable">$&#123;VER_FILE_CONTENT&#125;</span></span><br><span class="line">    LANGUAGES CXX</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 在这里声明 postgresql 的二进制根目录，根据个人下情况配置即可</span></span><br><span class="line"><span class="keyword">set</span>(PostgreSQL_ROOT <span class="string">&quot;D:\\Documents\\postgresql\\postgresql-16.1-1-windows-x64-binaries\\pgsql&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">NOT</span> <span class="string">&quot;$&#123;CMAKE_CXX_STANDARD&#125;&quot;</span>)</span><br><span class="line">    <span class="keyword">set</span>(CMAKE_CXX_STANDARD <span class="number">17</span>)</span><br><span class="line"><span class="keyword">endif</span>()</span><br><span class="line"><span class="keyword">set</span>(CMAKE_CXX_STANDARD_REQUIRED <span class="keyword">ON</span>)</span><br><span class="line"><span class="keyword">set</span>(CMAKE_CXX_EXTENSIONS <span class="keyword">OFF</span>)</span><br><span class="line"><span class="keyword">set</span>(CMAKE_MODULE_PATH <span class="variable">$&#123;PROJECT_SOURCE_DIR&#125;</span>/cmake)</span><br></pre></td></tr></table></figure>

<p>然后就是使用 <code>cmake</code> 编译了，目前 VSCode 和 Visual Studio 都支持 CMake 文件的编译，直接编译即可。</p>
<p>这里使用 Visual Studio 编译后，会在 out 目录下生成lib文件，如下所示：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br></pre></td><td class="code"><pre><span class="line">D:\Documents\A_Source\OpenSource\libpqxx\out&gt;tree /F</span><br><span class="line">卷 本地磁盘 的文件夹 PATH 列表</span><br><span class="line">卷序列号为 724D-690E</span><br><span class="line">D:.</span><br><span class="line">├─build</span><br><span class="line">│  └─x64-Debug</span><br><span class="line">│      │  .ninja_deps</span><br><span class="line">│      │  .ninja_log</span><br><span class="line">│      │  build.ninja</span><br><span class="line">│      │  CMakeCache.txt</span><br><span class="line">│      │  cmake_install.cmake</span><br><span class="line">│      │  CPackConfig.cmake</span><br><span class="line">│      │  CPackSourceConfig.cmake</span><br><span class="line">│      │  install_manifest.txt</span><br><span class="line">│      │  libpqxx-config-version.cmake</span><br><span class="line">│      │  libpqxx-config.cmake</span><br><span class="line">│      │  libpqxx-targets.cmake</span><br><span class="line">│      │  libpqxx.pc</span><br><span class="line">│      │  VSInheritEnvironments.txt</span><br><span class="line">│      │</span><br><span class="line">│      ├─.cmake</span><br><span class="line">│      │  └─api</span><br><span class="line">│      │      └─v1</span><br><span class="line">│      │          ├─query</span><br><span class="line">│      │          │  └─client-MicrosoftVS</span><br><span class="line">│      │          │          query.json</span><br><span class="line">│      │          │</span><br><span class="line">│      │          └─reply</span><br><span class="line">│      │                  cache-v2-4c1f3ae5d14ffd09e2dd.json</span><br><span class="line">│      │                  cmakeFiles-v1-6f2def4807820d15719b.json</span><br><span class="line">│      │                  codemodel-v2-8933aef952d7508a3af3.json</span><br><span class="line">│      │                  directory-.-Debug-6b54e12c0d4bd01edfca.json</span><br><span class="line">│      │                  directory-include-Debug-ba96d77232f254970ce6.json</span><br><span class="line">│      │                  directory-src-Debug-5d1cc30954eb9bce3508.json</span><br><span class="line">│      │                  directory-test-Debug-f18be1977b403cfd1a50.json</span><br><span class="line">│      │                  index-2023-11-16T09-03-01-0309.json</span><br><span class="line">│      │                  target-pqxx-Debug-08c4b9d672ef282e41c8.json</span><br><span class="line">│      │                  target-runner-Debug-b625a8b78dd4666c4f11.json</span><br><span class="line">│      │                  toolchains-v1-3b995f712f6d6e9a85c1.json</span><br><span class="line">│      │</span><br><span class="line">│      ├─CMakeFiles</span><br><span class="line">│      │  │  cmake.check_cache</span><br><span class="line">│      │  │  CMakeConfigureLog.yaml</span><br><span class="line">│      │  │  rules.ninja</span><br><span class="line">│      │  │  TargetDirectories.txt</span><br><span class="line">│      │  │</span><br><span class="line">│      │  ├─3.26.4-msvc4</span><br><span class="line">│      │  │  │  CMakeCXXCompiler.cmake</span><br><span class="line">│      │  │  │  CMakeDetermineCompilerABI_CXX.bin</span><br><span class="line">│      │  │  │  CMakeRCCompiler.cmake</span><br><span class="line">│      │  │  │  CMakeSystem.cmake</span><br><span class="line">│      │  │  │</span><br><span class="line">│      │  │  └─CompilerIdCXX</span><br><span class="line">│      │  │      │  CMakeCXXCompilerId.cpp</span><br><span class="line">│      │  │      │  CMakeCXXCompilerId.exe</span><br><span class="line">│      │  │      │  CMakeCXXCompilerId.obj</span><br><span class="line">│      │  │      │</span><br><span class="line">│      │  │      └─tmp</span><br><span class="line">│      │  ├─CMakeTmp</span><br><span class="line">│      │  ├─Export</span><br><span class="line">│      │  │  └─d6b66e93f8212dd1f00debf9f6654819</span><br><span class="line">│      │  │          libpqxx-targets-debug.cmake</span><br><span class="line">│      │  │          libpqxx-targets.cmake</span><br><span class="line">│      │  │</span><br><span class="line">│      │  ├─pkgRedirects</span><br><span class="line">│      │  └─ShowIncludes</span><br><span class="line">│      │          foo.h</span><br><span class="line">│      │          main.c</span><br><span class="line">│      │          main.obj</span><br><span class="line">│      │</span><br><span class="line">│      ├─include</span><br><span class="line">│      │  │  cmake_install.cmake</span><br><span class="line">│      │  │</span><br><span class="line">│      │  ├─CMakeFiles</span><br><span class="line">│      │  └─pqxx</span><br><span class="line">│      │          config-internal-compiler.h</span><br><span class="line">│      │          config-internal-libpq.h</span><br><span class="line">│      │          config-public-compiler.h</span><br><span class="line">│      │          config_cmake.h.in</span><br><span class="line">│      │</span><br><span class="line">│      ├─src</span><br><span class="line">│      │  │  cmake_install.cmake</span><br><span class="line">│      │  │  pqxx.lib</span><br><span class="line">│      │  │</span><br><span class="line">│      │  └─CMakeFiles</span><br><span class="line">│      │      └─pqxx.dir</span><br><span class="line">│      │              array.cxx.obj</span><br><span class="line">│      │              binarystring.cxx.obj</span><br><span class="line">│      │              blob.cxx.obj</span><br><span class="line">│      │              connection.cxx.obj</span><br><span class="line">│      │              cursor.cxx.obj</span><br><span class="line">│      │              encodings.cxx.obj</span><br><span class="line">│      │              errorhandler.cxx.obj</span><br><span class="line">│      │              except.cxx.obj</span><br><span class="line">│      │              field.cxx.obj</span><br><span class="line">│      │              largeobject.cxx.obj</span><br><span class="line">│      │              notification.cxx.obj</span><br><span class="line">│      │              params.cxx.obj</span><br><span class="line">│      │              pipeline.cxx.obj</span><br><span class="line">│      │              pqxx.pdb</span><br><span class="line">│      │              result.cxx.obj</span><br><span class="line">│      │              robusttransaction.cxx.obj</span><br><span class="line">│      │              row.cxx.obj</span><br><span class="line">│      │              sql_cursor.cxx.obj</span><br><span class="line">│      │              strconv.cxx.obj</span><br><span class="line">│      │              stream_from.cxx.obj</span><br><span class="line">│      │              stream_to.cxx.obj</span><br><span class="line">│      │              subtransaction.cxx.obj</span><br><span class="line">│      │              time.cxx.obj</span><br><span class="line">│      │              transaction.cxx.obj</span><br><span class="line">│      │              transaction_base.cxx.obj</span><br><span class="line">│      │              util.cxx.obj</span><br><span class="line">│      │              version.cxx.obj</span><br><span class="line">│      │              wait.cxx.obj</span><br><span class="line">│      │</span><br><span class="line">│      ├─test</span><br><span class="line">│      │  │  cmake_install.cmake</span><br><span class="line">│      │  │  CTestTestfile.cmake</span><br><span class="line">│      │  │  runner.exe</span><br><span class="line">│      │  │  runner.ilk</span><br><span class="line">│      │  │  runner.pdb</span><br><span class="line">│      │  │</span><br><span class="line">│      │  └─CMakeFiles</span><br><span class="line">│      │      └─runner.dir</span><br><span class="line">│      │          │  embed.manifest</span><br><span class="line">│      │          │  intermediate.manifest</span><br><span class="line">│      │          │  manifest.rc</span><br><span class="line">│      │          │  manifest.res</span><br><span class="line">│      │          │  runner.cxx.obj</span><br><span class="line">│      │          │  test00.cxx.obj</span><br><span class="line">│      │          │  test01.cxx.obj</span><br><span class="line">│      │          │  test02.cxx.obj</span><br><span class="line">│      │          │  test04.cxx.obj</span><br><span class="line">│      │          │  test07.cxx.obj</span><br><span class="line">│      │          │  test10.cxx.obj</span><br><span class="line">│      │          │  test11.cxx.obj</span><br><span class="line">│      │          │  test13.cxx.obj</span><br><span class="line">│      │          │  test14.cxx.obj</span><br><span class="line">│      │          │  test16.cxx.obj</span><br><span class="line">│      │          │  test17.cxx.obj</span><br><span class="line">│      │          │  test18.cxx.obj</span><br><span class="line">│      │          │  test20.cxx.obj</span><br><span class="line">│      │          │  test21.cxx.obj</span><br><span class="line">│      │          │  test26.cxx.obj</span><br><span class="line">│      │          │  test29.cxx.obj</span><br><span class="line">│      │          │  test30.cxx.obj</span><br><span class="line">│      │          │  test32.cxx.obj</span><br><span class="line">│      │          │  test37.cxx.obj</span><br><span class="line">│      │          │  test39.cxx.obj</span><br><span class="line">│      │          │  test46.cxx.obj</span><br><span class="line">│      │          │  test56.cxx.obj</span><br><span class="line">│      │          │  test60.cxx.obj</span><br><span class="line">│      │          │  test61.cxx.obj</span><br><span class="line">│      │          │  test62.cxx.obj</span><br><span class="line">│      │          │  test69.cxx.obj</span><br><span class="line">│      │          │  test70.cxx.obj</span><br><span class="line">│      │          │  test71.cxx.obj</span><br><span class="line">│      │          │  test72.cxx.obj</span><br><span class="line">│      │          │  test74.cxx.obj</span><br><span class="line">│      │          │  test75.cxx.obj</span><br><span class="line">│      │          │  test76.cxx.obj</span><br><span class="line">│      │          │  test77.cxx.obj</span><br><span class="line">│      │          │  test78.cxx.obj</span><br><span class="line">│      │          │  test79.cxx.obj</span><br><span class="line">│      │          │  test82.cxx.obj</span><br><span class="line">│      │          │  test84.cxx.obj</span><br><span class="line">│      │          │  test87.cxx.obj</span><br><span class="line">│      │          │  test88.cxx.obj</span><br><span class="line">│      │          │  test89.cxx.obj</span><br><span class="line">│      │          │  test90.cxx.obj</span><br><span class="line">│      │          │  vc140.pdb</span><br><span class="line">│      │          │</span><br><span class="line">│      │          └─unit</span><br><span class="line">│      │                  test_array.cxx.obj</span><br><span class="line">│      │                  test_binarystring.cxx.obj</span><br><span class="line">│      │                  test_blob.cxx.obj</span><br><span class="line">│      │                  test_cancel_query.cxx.obj</span><br><span class="line">│      │                  test_column.cxx.obj</span><br><span class="line">│      │                  test_composite.cxx.obj</span><br><span class="line">│      │                  test_connection.cxx.obj</span><br><span class="line">│      │                  test_cursor.cxx.obj</span><br><span class="line">│      │                  test_encodings.cxx.obj</span><br><span class="line">│      │                  test_errorhandler.cxx.obj</span><br><span class="line">│      │                  test_error_verbosity.cxx.obj</span><br><span class="line">│      │                  test_escape.cxx.obj</span><br><span class="line">│      │                  test_exceptions.cxx.obj</span><br><span class="line">│      │                  test_field.cxx.obj</span><br><span class="line">│      │                  test_float.cxx.obj</span><br><span class="line">│      │                  test_largeobject.cxx.obj</span><br><span class="line">│      │                  test_nonblocking_connect.cxx.obj</span><br><span class="line">│      │                  test_notification.cxx.obj</span><br><span class="line">│      │                  test_pipeline.cxx.obj</span><br><span class="line">│      │                  test_prepared_statement.cxx.obj</span><br><span class="line">│      │                  test_range.cxx.obj</span><br><span class="line">│      │                  test_read_transaction.cxx.obj</span><br><span class="line">│      │                  test_result_iteration.cxx.obj</span><br><span class="line">│      │                  test_result_slicing.cxx.obj</span><br><span class="line">│      │                  test_row.cxx.obj</span><br><span class="line">│      │                  test_separated_list.cxx.obj</span><br><span class="line">│      │                  test_simultaneous_transactions.cxx.obj</span><br><span class="line">│      │                  test_sql_cursor.cxx.obj</span><br><span class="line">│      │                  test_stateless_cursor.cxx.obj</span><br><span class="line">│      │                  test_strconv.cxx.obj</span><br><span class="line">│      │                  test_stream_from.cxx.obj</span><br><span class="line">│      │                  test_stream_to.cxx.obj</span><br><span class="line">│      │                  test_string_conversion.cxx.obj</span><br><span class="line">│      │                  test_subtransaction.cxx.obj</span><br><span class="line">│      │                  test_test_helpers.cxx.obj</span><br><span class="line">│      │                  test_thread_safety_model.cxx.obj</span><br><span class="line">│      │                  test_time.cxx.obj</span><br><span class="line">│      │                  test_transaction.cxx.obj</span><br><span class="line">│      │                  test_transaction_base.cxx.obj</span><br><span class="line">│      │                  test_transaction_focus.cxx.obj</span><br><span class="line">│      │                  test_transactor.cxx.obj</span><br><span class="line">│      │                  test_type_name.cxx.obj</span><br><span class="line">│      │                  test_zview.cxx.obj</span><br><span class="line">│      │</span><br><span class="line">│      └─Testing</span><br><span class="line">│          └─Temporary</span><br><span class="line">│                  LastTest.log</span><br><span class="line">│</span><br><span class="line">└─install</span><br><span class="line">    └─x64-Debug</span><br><span class="line">        ├─include</span><br><span class="line">        │  └─pqxx</span><br><span class="line">        │      │  array</span><br><span class="line">        │      │  array.hxx</span><br><span class="line">        │      │  binarystring</span><br><span class="line">        │      │  binarystring.hxx</span><br><span class="line">        │      │  blob</span><br><span class="line">        │      │  blob.hxx</span><br><span class="line">        │      │  composite</span><br><span class="line">        │      │  composite.hxx</span><br><span class="line">        │      │  config-public-compiler.h</span><br><span class="line">        │      │  connection</span><br><span class="line">        │      │  connection.hxx</span><br><span class="line">        │      │  cursor</span><br><span class="line">        │      │  cursor.hxx</span><br><span class="line">        │      │  dbtransaction</span><br><span class="line">        │      │  dbtransaction.hxx</span><br><span class="line">        │      │  errorhandler</span><br><span class="line">        │      │  errorhandler.hxx</span><br><span class="line">        │      │  except</span><br><span class="line">        │      │  except.hxx</span><br><span class="line">        │      │  field</span><br><span class="line">        │      │  field.hxx</span><br><span class="line">        │      │  isolation</span><br><span class="line">        │      │  isolation.hxx</span><br><span class="line">        │      │  largeobject</span><br><span class="line">        │      │  largeobject.hxx</span><br><span class="line">        │      │  nontransaction</span><br><span class="line">        │      │  nontransaction.hxx</span><br><span class="line">        │      │  notification</span><br><span class="line">        │      │  notification.hxx</span><br><span class="line">        │      │  params</span><br><span class="line">        │      │  params.hxx</span><br><span class="line">        │      │  pipeline</span><br><span class="line">        │      │  pipeline.hxx</span><br><span class="line">        │      │  pqxx</span><br><span class="line">        │      │  prepared_statement</span><br><span class="line">        │      │  prepared_statement.hxx</span><br><span class="line">        │      │  range</span><br><span class="line">        │      │  range.hxx</span><br><span class="line">        │      │  result</span><br><span class="line">        │      │  result.hxx</span><br><span class="line">        │      │  robusttransaction</span><br><span class="line">        │      │  robusttransaction.hxx</span><br><span class="line">        │      │  row</span><br><span class="line">        │      │  row.hxx</span><br><span class="line">        │      │  separated_list</span><br><span class="line">        │      │  separated_list.hxx</span><br><span class="line">        │      │  strconv</span><br><span class="line">        │      │  strconv.hxx</span><br><span class="line">        │      │  stream_from</span><br><span class="line">        │      │  stream_from.hxx</span><br><span class="line">        │      │  stream_to</span><br><span class="line">        │      │  stream_to.hxx</span><br><span class="line">        │      │  subtransaction</span><br><span class="line">        │      │  subtransaction.hxx</span><br><span class="line">        │      │  time</span><br><span class="line">        │      │  time.hxx</span><br><span class="line">        │      │  transaction</span><br><span class="line">        │      │  transaction.hxx</span><br><span class="line">        │      │  transaction_base</span><br><span class="line">        │      │  transaction_base.hxx</span><br><span class="line">        │      │  transaction_focus</span><br><span class="line">        │      │  transaction_focus.hxx</span><br><span class="line">        │      │  transactor</span><br><span class="line">        │      │  transactor.hxx</span><br><span class="line">        │      │  types</span><br><span class="line">        │      │  types.hxx</span><br><span class="line">        │      │  util</span><br><span class="line">        │      │  util.hxx</span><br><span class="line">        │      │  version</span><br><span class="line">        │      │  version.hxx</span><br><span class="line">        │      │  zview</span><br><span class="line">        │      │  zview.hxx</span><br><span class="line">        │      │</span><br><span class="line">        │      └─internal</span><br><span class="line">        │          │  array-composite.hxx</span><br><span class="line">        │          │  callgate.hxx</span><br><span class="line">        │          │  concat.hxx</span><br><span class="line">        │          │  conversions.hxx</span><br><span class="line">        │          │  encodings.hxx</span><br><span class="line">        │          │  encoding_group.hxx</span><br><span class="line">        │          │  header-post.hxx</span><br><span class="line">        │          │  header-pre.hxx</span><br><span class="line">        │          │  ignore-deprecated-post.hxx</span><br><span class="line">        │          │  ignore-deprecated-pre.hxx</span><br><span class="line">        │          │  libpq-forward.hxx</span><br><span class="line">        │          │  result_iter.hxx</span><br><span class="line">        │          │  result_iterator.hxx</span><br><span class="line">        │          │  sql_cursor.hxx</span><br><span class="line">        │          │  statement_parameters.hxx</span><br><span class="line">        │          │  stream_iterator.hxx</span><br><span class="line">        │          │  wait.hxx</span><br><span class="line">        │          │</span><br><span class="line">        │          └─gates</span><br><span class="line">        │                  connection-errorhandler.hxx</span><br><span class="line">        │                  connection-largeobject.hxx</span><br><span class="line">        │                  connection-notification_receiver.hxx</span><br><span class="line">        │                  connection-pipeline.hxx</span><br><span class="line">        │                  connection-sql_cursor.hxx</span><br><span class="line">        │                  connection-stream_from.hxx</span><br><span class="line">        │                  connection-stream_to.hxx</span><br><span class="line">        │                  connection-transaction.hxx</span><br><span class="line">        │                  errorhandler-connection.hxx</span><br><span class="line">        │                  icursorstream-icursor_iterator.hxx</span><br><span class="line">        │                  icursor_iterator-icursorstream.hxx</span><br><span class="line">        │                  result-connection.hxx</span><br><span class="line">        │                  result-creation.hxx</span><br><span class="line">        │                  result-pipeline.hxx</span><br><span class="line">        │                  result-sql_cursor.hxx</span><br><span class="line">        │                  transaction-sql_cursor.hxx</span><br><span class="line">        │                  transaction-transaction_focus.hxx</span><br><span class="line">        │</span><br><span class="line">        ├─lib</span><br><span class="line">        │  │  pqxx.lib</span><br><span class="line">        │  │</span><br><span class="line">        │  ├─cmake</span><br><span class="line">        │  │  └─libpqxx</span><br><span class="line">        │  │          libpqxx-config-version.cmake</span><br><span class="line">        │  │          libpqxx-config.cmake</span><br><span class="line">        │  │          libpqxx-targets-debug.cmake</span><br><span class="line">        │  │          libpqxx-targets.cmake</span><br><span class="line">        │  │</span><br><span class="line">        │  └─pkgconfig</span><br><span class="line">        │          libpqxx.pc</span><br><span class="line">        │</span><br><span class="line">        └─share</span><br><span class="line">            └─doc</span><br><span class="line">                └─libpqxx</span><br><span class="line">                        accessing-results.md</span><br><span class="line">                        binary-data.md</span><br><span class="line">                        datatypes.md</span><br><span class="line">                        escaping.md</span><br><span class="line">                        getting-started.md</span><br><span class="line">                        mainpage.md</span><br><span class="line">                        parameters.md</span><br><span class="line">                        performance.md</span><br><span class="line">                        prepared-statement.md</span><br><span class="line">                        streams.md</span><br><span class="line">                        thread-safety.md</span><br></pre></td></tr></table></figure>

<p>⚠ 然后就可以编代码使用 pqxx.lib 了。除此之外，在编译项目时还需要添加 libpq.lib.</p>
<p>除此之外可以看到以下两个目录，这两个目录待会要引入到 VS 工程中：</p>
<ul>
<li><p>include：D:\Documents\A_Source\OpenSource\libpqxx\out\install\x64-Debug\include</p>
</li>
<li><p>lib: D:\Documents\A_Source\OpenSource\libpqxx\out\install\x64-Debug\lib</p>
</li>
<li><p>还需引入 libpq.lib 的目录。</p>
</li>
</ul>
<h3 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h3><p>以下代码可直接使用，自测是没问题的。</p>
<p>如果有编译报错 <code>C4996: &#39;_Header_ciso646&#39;</code>，关闭 &#x3D;&#x3D;SDL检查&#x3D;&#x3D; 再编译试试。</p>
<p>另外补充一点，编译的PE文件运行时依赖很多dll，包括但不限于 libpq.dll、libssl 等，可以选择部署到另外一台机器上，同时部署 C++ 运行时文件。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;windows.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;pqxx/pqxx&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;pqxx/transaction&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span>* argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// (Normally you&#x27;d check for valid command-line arguments.)</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (argc &lt; <span class="number">3</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;Usage:\n %s &lt;username&gt; &lt;password&gt;&quot;</span>, argv[<span class="number">0</span>]);</span><br><span class="line">        <span class="built_in">exit</span>(<span class="number">-1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="type">char</span> conn[MAX_PATH];</span><br><span class="line"></span><br><span class="line">    <span class="built_in">sprintf</span>(conn, <span class="string">&quot;postgresql://%s:%s@localhost/postgres&quot;</span>, argv[<span class="number">1</span>], argv[<span class="number">2</span>]);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span></span><br><span class="line">    &#123;</span><br><span class="line">        pqxx::connection c&#123; conn &#125;;</span><br><span class="line">        pqxx::work txn&#123; c &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// For querying just one single value, the transaction has a shorthand method</span></span><br><span class="line">        <span class="comment">// query_value().</span></span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        <span class="comment">// Use txn.quote() to escape and quote a C++ string for use as an SQL string</span></span><br><span class="line">        <span class="comment">// in a query&#x27;s text.</span></span><br><span class="line">        pqxx::result res = txn.<span class="built_in">exec</span>(<span class="string">&quot;SELECT * FROM pg_authid&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; res.<span class="built_in">size</span>(); i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>; j &lt; res[i].<span class="built_in">size</span>(); j++)</span><br><span class="line">                std::cout &lt;&lt; <span class="string">&quot;&quot;</span> &lt;&lt; res[i].<span class="built_in">at</span>(j) &lt;&lt; <span class="string">&#x27;\t&#x27;</span>;</span><br><span class="line"></span><br><span class="line">            std::cout &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">catch</span> (std::bad_alloc <span class="type">const</span>&amp;)</span><br><span class="line">    &#123;</span><br><span class="line">        std::cerr &lt;&lt; <span class="string">&quot;Out of memory!&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">catch</span> (pqxx::sql_error <span class="type">const</span>&amp; e)</span><br><span class="line">    &#123;</span><br><span class="line">        std::cerr &lt;&lt; <span class="string">&quot;SQL error: &quot;</span> &lt;&lt; e.<span class="built_in">what</span>() &lt;&lt; std::endl</span><br><span class="line">            &lt;&lt; <span class="string">&quot;Query was: &quot;</span> &lt;&lt; e.<span class="built_in">query</span>() &lt;&lt; std::endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">catch</span> (std::exception <span class="type">const</span>&amp; e)</span><br><span class="line">    &#123;</span><br><span class="line">        std::cerr &lt;&lt; <span class="string">&quot;Exception: &quot;</span> &lt;&lt; e.<span class="built_in">what</span>() &lt;&lt; std::endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">catch</span> (...)</span><br><span class="line">    &#123;</span><br><span class="line">        std::cerr &lt;&lt; <span class="string">&quot;Unknown exception&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在安装postgresql的机器上输出如下所示：</p>
<img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="/C_OpenSource/pqxx/image-20231116183017528.png" class title="输出截图">


<div class="article-footer reveal fs14"><section id="license"><div class="header"><span>许可协议</span></div><div class="body"><p>本文采用 <a target="_blank" rel="external nofollow noopener noreferrer" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">署名-非商业性使用-相同方式共享 4.0 国际</a> 许可协议，转载请注明出处。</p>
</div></section></div>

</article>

<div class="related-wrap reveal" id="read-next"><section class="body"><div class="item" id="prev"><div class="note">较新文章</div><a href="/A_OS/Windows/Visual%20Studio/%E3%80%90Visual%20Studio%E3%80%91MSVC%E9%93%BE%E6%8E%A5%E5%99%A8%E9%80%89%E9%A1%B9/">【Visual Studio】 MSVC链接器选项</a></div><div class="item" id="next"><div class="note">较早文章</div><a href="/G_%E5%B7%A5%E5%85%B7/%E3%80%90%E5%B7%A5%E5%85%B7%E3%80%91IDA%20%E4%BD%BF%E7%94%A8%E8%AF%A6%E8%AE%B0/">【工具】IDA 使用详记</a></div></section></div>


<div class="related-wrap reveal" id="related-posts">
    <section class="header">
      <div class="title cap theme">您可能感兴趣的文章</div>
    </section>
    <section class="body">
    <div class="related-posts"><a class="item" href="\C_OpenSource\RapidJson\" title="rapidjson 使用整理"><span class="title">rapidjson 使用整理</span></a></div></section></div>





      
<footer class="page-footer reveal fs12"><hr><div class="text"><p>本站由 <a href="/">@anonymity</a> 使用 <a target="_blank" rel="external nofollow noopener noreferrer" href="https://github.com/xaoxuu/hexo-theme-stellar">Stellar</a> 主题创建。<br>本博客所有文章除特别声明外，均采用 <a target="_blank" rel="external nofollow noopener noreferrer" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> 许可协议，转载请注明出处。</p>
</div></footer>

      <div class="float-panel mobile-only blur" style="display:none">
  <button type="button" class="sidebar-toggle mobile" onclick="sidebar.toggle()">
    <svg class="icon" style="width: 1em; height: 1em;vertical-align: middle;fill: currentColor;overflow: hidden;" viewbox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="15301"><path d="M566.407 808.3c26.9-0.1 49.3-20.8 51.6-47.6-1.9-27.7-23.9-49.7-51.6-51.6h-412.6c-28.2-1.4-52.6 19.5-55.5 47.6 2.3 26.8 24.6 47.5 51.6 47.6h416.5v4z m309.3-249.9c26.9-0.1 49.3-20.8 51.6-47.6-2.2-26.8-24.6-47.5-51.6-47.6h-721.9c-27.7-2.8-52.5 17.4-55.3 45.1-0.1 0.8-0.1 1.7-0.2 2.5 0.9 27.2 23.6 48.5 50.7 47.6H875.707z m-103.1-245.9c26.9-0.1 49.3-20.8 51.6-47.6-0.4-28.3-23.2-51.1-51.5-51.6h-618.9c-29.5-1.1-54.3 21.9-55.5 51.4v0.2c1.4 27.8 25.2 49.2 53 47.8 0.8 0 1.7-0.1 2.5-0.2h618.8z" p-id="15302"/><path d="M566.407 808.3c26.9-0.1 49.3-20.8 51.6-47.6-1.9-27.7-23.9-49.7-51.6-51.6h-412.6c-28.2-1.4-52.6 19.5-55.5 47.6 1.9 27.7 23.9 49.7 51.6 51.6h416.5z m309.3-249.9c26.9-0.1 49.3-20.8 51.6-47.6-2.2-26.8-24.6-47.5-51.6-47.6h-721.9c-27.7-2.8-52.5 17.4-55.3 45.1-0.1 0.8-0.1 1.7-0.2 2.5 0.9 27.2 23.6 48.5 50.7 47.6H875.707z m-103.1-245.9c26.9-0.1 49.3-20.8 51.6-47.6-0.4-28.3-23.2-51.1-51.5-51.6h-618.9c-29.5-1.1-54.3 21.9-55.5 51.4v0.2c1.4 27.8 25.2 49.2 53 47.8 0.8 0 1.7-0.1 2.5-0.2h618.8z" p-id="15303"/></svg>
  </button>
</div>

    </div>
  </div>
  <div class="scripts">
    <script type="text/javascript">
  const stellar = {
    // 懒加载 css https://github.com/filamentgroup/loadCSS
    loadCSS: (href, before, media, attributes) => {
      var doc = window.document;
      var ss = doc.createElement("link");
      var ref;
      if (before) {
        ref = before;
      } else {
        var refs = (doc.body || doc.getElementsByTagName("head")[0]).childNodes;
        ref = refs[refs.length - 1];
      }
      var sheets = doc.styleSheets;
      if (attributes) {
        for (var attributeName in attributes) {
          if (attributes.hasOwnProperty(attributeName)) {
            ss.setAttribute(attributeName, attributes[attributeName]);
          }
        }
      }
      ss.rel = "stylesheet";
      ss.href = href;
      ss.media = "only x";
      function ready(cb) {
        if (doc.body) {
          return cb();
        }
        setTimeout(function () {
          ready(cb);
        });
      }
      ready(function () {
        ref.parentNode.insertBefore(ss, before ? ref : ref.nextSibling);
      });
      var onloadcssdefined = function (cb) {
        var resolvedHref = ss.href;
        var i = sheets.length;
        while (i--) {
          if (sheets[i].href === resolvedHref) {
            return cb();
          }
        }
        setTimeout(function () {
          onloadcssdefined(cb);
        });
      };
      function loadCB() {
        if (ss.addEventListener) {
          ss.removeEventListener("load", loadCB);
        }
        ss.media = media || "all";
      }
      if (ss.addEventListener) {
        ss.addEventListener("load", loadCB);
      }
      ss.onloadcssdefined = onloadcssdefined;
      onloadcssdefined(loadCB);
      return ss;
    },

    // 从 butterfly 和 volantis 获得灵感
    loadScript: (src, opt) => new Promise((resolve, reject) => {
      var script = document.createElement('script');
      if (src.startsWith('/')){
        src = stellar.config.root + src.substring(1);
      }
      script.src = src;
      if (opt) {
        for (let key of Object.keys(opt)) {
          script[key] = opt[key]
        }
      } else {
        // 默认异步，如果需要同步，第二个参数传入 {} 即可
        script.async = true
      }
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    }),

    // https://github.com/jerryc127/hexo-theme-butterfly
    jQuery: (fn) => {
      if (typeof jQuery === 'undefined') {
        stellar.loadScript(stellar.plugins.jQuery).then(fn)
      } else {
        fn()
      }
    }
  };
  stellar.version = '1.19.0';
  stellar.github = 'https://github.com/xaoxuu/hexo-theme-stellar/tree/1.19.0';
  stellar.config = {
    date_suffix: {
      just: '刚刚',
      min: '分钟前',
      hour: '小时前',
      day: '天前',
      month: '个月前',
    },
    root : '/',
  };

  // required plugins (only load if needs)
  stellar.plugins = {
    jQuery: 'https://gcore.jsdelivr.net/npm/jquery@3.6.2/dist/jquery.min.js'
  };

  if ('local_search') {
    stellar.search = {};
    stellar.search.service = 'local_search';
    if (stellar.search.service == 'local_search') {
      let service_obj = Object.assign({}, {"field":"all","path":"/search.json","content":true,"codeblock":true,"sort":"-date"});
      stellar.search[stellar.search.service] = service_obj;
    }
  }

  // stellar js
  stellar.plugins.stellar = Object.assign({"sites":"/js/plugins/sites.js","friends":"/js/plugins/friends.js","ghinfo":"/js/plugins/ghinfo.js","timeline":"/js/plugins/timeline.js","linkcard":"/js/plugins/linkcard.js","fcircle":"/js/plugins/fcircle.js","weibo":"/js/plugins/weibo.js"});

  stellar.plugins.marked = Object.assign("https://cdn.bootcdn.net/ajax/libs/marked/4.0.18/marked.min.js");
  // optional plugins
  if ('true' == 'true') {
    stellar.plugins.lazyload = Object.assign({"enable":true,"js":"https://gcore.jsdelivr.net/npm/vanilla-lazyload@17.8.3/dist/lazyload.min.js","transition":"blur"});
  }
  if ('true' == 'true') {
    stellar.plugins.swiper = Object.assign({"enable":true,"css":"https://unpkg.com/swiper@8.4.5/swiper-bundle.min.css","js":"https://unpkg.com/swiper@8.4.5/swiper-bundle.min.js"});
  }
  if ('' == 'true') {
    stellar.plugins.scrollreveal = Object.assign({"enable":null,"js":"https://gcore.jsdelivr.net/npm/scrollreveal@4.0.9/dist/scrollreveal.min.js","distance":"8px","duration":500,"interval":100,"scale":1});
  }
  if ('true' == 'true') {
    stellar.plugins.preload = Object.assign({"enable":true,"service":"flying_pages","instant_page":"https://gcore.jsdelivr.net/gh/volantis-x/cdn-volantis@4.1.2/js/instant_page.js","flying_pages":"https://gcore.jsdelivr.net/gh/gijo-varghese/flying-pages@2.1.2/flying-pages.min.js"});
  }
  if ('true' == 'true') {
    stellar.plugins.fancybox = Object.assign({"enable":true,"js":"https://gcore.jsdelivr.net/npm/@fancyapps/ui@4.0/dist/fancybox.umd.js","css":"https://gcore.jsdelivr.net/npm/@fancyapps/ui@4.0/dist/fancybox.css","selector":".swiper-slide img"});
  }
  if ('false' == 'true') {
    stellar.plugins.heti = Object.assign({"enable":false,"css":"https://unpkg.com/heti@0.9.2/umd/heti.min.css","js":"https://unpkg.com/heti@0.9.2/umd/heti-addon.min.js"});
  }
  if ('true' == 'true') {
    stellar.plugins.copycode = Object.assign({"enable":true,"js":"/js/plugins/copycode.js","default_text":"Copy","success_text":"Copied"});
  }
</script>

<!-- required -->

  
<script src="/js/main.js" async></script>



<!-- optional -->



<!-- inject -->


  </div>
</body>
</html>
