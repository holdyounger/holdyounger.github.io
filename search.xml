<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>windbgæ‰‹å†Œ</title>
      <link href="/OS/Windows/Windbg/Windbg%E6%89%8B%E5%86%8C/"/>
      <url>/OS/Windows/Windbg/Windbg%E6%89%8B%E5%86%8C/</url>
      
        <content type="html"><![CDATA[<h2 id="0n-å‘½ä»¤"><a href="#0n-å‘½ä»¤" class="headerlink" title="? 0n å‘½ä»¤"></a>? 0n å‘½ä»¤</h2><p>Windbgä¸­çš„ ?0n æ˜¯ä¸€ä¸ªå‘½ä»¤ï¼Œç”¨æ¥è®¾ç½®è¡¨è¾¾å¼çš„æ•°åˆ¶ä¸ºåè¿›åˆ¶ã€‚å…·ä½“æ¥è¯´ï¼Œå½“ä½ éœ€è¦æŸ¥çœ‹ä¸€ä¸ªå†…å­˜åœ°å€æˆ–è€…å˜é‡ä»¥åè¿›åˆ¶æ ¼å¼æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ ?0n å‘½ä»¤ã€‚</p><p>åœ¨Windbgä¸­ï¼Œæ•°åˆ¶çš„è¡¨ç¤ºï¼š</p><ul><li><p>0xè¡¨ç¤ºåå…­è¿›åˆ¶</p></li><li><p>0nè¡¨ç¤ºåè¿›åˆ¶</p></li><li><p>0tè¡¨ç¤ºå…«è¿›åˆ¶</p></li><li><p>0yè¡¨ç¤ºäºŒè¿›åˆ¶ã€‚</p></li></ul><p>Windbgé»˜è®¤æ•°åˆ¶ä¸ºåå…­è¿›åˆ¶ã€‚</p><h2 id="åˆ‡æ¢çº¿ç¨‹"><a href="#åˆ‡æ¢çº¿ç¨‹" class="headerlink" title="åˆ‡æ¢çº¿ç¨‹"></a>åˆ‡æ¢çº¿ç¨‹</h2><p>åœ¨WinDbgä¸­ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥åˆ‡æ¢çº¿ç¨‹ï¼š</p><ol><li><code>~</code> å‘½ä»¤ï¼šç”¨äºåˆ‡æ¢å½“å‰æ´»åŠ¨çº¿ç¨‹ã€‚ä¾‹å¦‚ï¼Œ<code>~0s</code>å°†åˆ‡æ¢åˆ°çº¿ç¨‹IDä¸º0çš„çº¿ç¨‹ã€‚</li><li><code>~*</code> å‘½ä»¤ï¼šç”¨äºåˆ‡æ¢åˆ°æ‰€æœ‰çº¿ç¨‹ä¸­çš„ä¸‹ä¸€ä¸ªçº¿ç¨‹ã€‚</li><li><code>~[]</code> å‘½ä»¤ï¼šç”¨äºåˆ‡æ¢åˆ°ç‰¹å®šç´¢å¼•çš„çº¿ç¨‹ã€‚ä¾‹å¦‚ï¼Œ<code>~[3]s</code>å°†åˆ‡æ¢åˆ°ç´¢å¼•ä¸º3çš„çº¿ç¨‹ã€‚</li></ol><p>è¯·æ³¨æ„ï¼Œä½¿ç”¨è¿™äº›å‘½ä»¤æ—¶ï¼Œè¦ç¡®ä¿å·²ç»åœ¨è°ƒè¯•ä¼šè¯ä¸­åŠ è½½äº†é€‚å½“çš„ç¬¦å·å’Œæºä»£ç ï¼Œå¹¶ä¸”å·²ç»æ‰“å¼€äº†éœ€è¦è°ƒè¯•çš„è¿›ç¨‹å’Œçº¿ç¨‹ã€‚</p><h2 id="åˆ‡æ¢è¿›ç¨‹"><a href="#åˆ‡æ¢è¿›ç¨‹" class="headerlink" title="åˆ‡æ¢è¿›ç¨‹"></a>åˆ‡æ¢è¿›ç¨‹</h2><p>åœ¨WinDbgä¸­ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥åˆ‡æ¢è¿›ç¨‹ï¼š</p><ol><li><code>|</code> å‘½ä»¤ï¼šç”¨äºåˆ‡æ¢å½“å‰æ´»åŠ¨è¿›ç¨‹ã€‚ä¾‹å¦‚ï¼Œ<code>|1s</code>å°†åˆ‡æ¢åˆ°è¿›ç¨‹IDä¸º1çš„è¿›ç¨‹ã€‚</li><li><code>~*</code> å‘½ä»¤ï¼šç”¨äºåˆ‡æ¢åˆ°æ‰€æœ‰è¿›ç¨‹ä¸­çš„ä¸‹ä¸€ä¸ªè¿›ç¨‹ã€‚</li><li><code>~[]</code> å‘½ä»¤ï¼šç”¨äºåˆ‡æ¢åˆ°ç‰¹å®šç´¢å¼•çš„è¿›ç¨‹ã€‚ä¾‹å¦‚ï¼Œ<code>~[3]s</code>å°†åˆ‡æ¢åˆ°ç´¢å¼•ä¸º3çš„è¿›ç¨‹ã€‚</li></ol><p>è¯·æ³¨æ„ï¼Œä½¿ç”¨è¿™äº›å‘½ä»¤æ—¶ï¼Œè¦ç¡®ä¿å·²ç»åœ¨è°ƒè¯•ä¼šè¯ä¸­åŠ è½½äº†é€‚å½“çš„ç¬¦å·å’Œæºä»£ç ï¼Œå¹¶ä¸”å·²ç»æ‰“å¼€äº†éœ€è¦è°ƒè¯•çš„è¿›ç¨‹å’Œçº¿ç¨‹ã€‚</p><h2 id="process-å‘½ä»¤"><a href="#process-å‘½ä»¤" class="headerlink" title="!process å‘½ä»¤"></a>!process å‘½ä»¤</h2><p>åœ¨Windows Debuggerï¼ˆWinDbgï¼‰ä¸­ï¼Œ<code>!process</code>å‘½ä»¤ç”¨äºæ˜¾ç¤ºæœ‰å…³ç‰¹å®šè¿›ç¨‹æˆ–æ‰€æœ‰è¿›ç¨‹çš„ä¿¡æ¯ï¼ŒåŒ…æ‹¬EPROCESSå—ã€‚</p><p>è¯¥å‘½ä»¤çš„è¯­æ³•éšWindowsç‰ˆæœ¬çš„ä¸åŒè€Œæœ‰æ‰€ä¸åŒã€‚</p><p>åœ¨Windows NT 4.0ä¸­ï¼Œå®ƒçš„è¯­æ³•å¦‚ä¸‹ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">!</span>process[<span class="type">Process</span>[<span class="type">Flags</span>]]</span><br></pre></td></tr></table></figure><p>åœ¨Windows 2000ä¸­ï¼Œå®ƒçš„è¯­æ³•å¦‚ä¸‹ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">!</span>process[<span class="operator">/</span>sSession] [<span class="type">Process</span>[<span class="type">Flags</span>]]</span><br></pre></td></tr></table></figure><p>åœ¨Windows XPåŠæ›´é«˜ç‰ˆæœ¬ä¸­ï¼Œå®ƒçš„è¯­æ³•å¦‚ä¸‹ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">!</span>process[<span class="operator">/</span>sSession] [<span class="operator">/</span>mModule] [<span class="type">Process</span>[<span class="type">Flags</span>]]</span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šå‘½ä»¤ä¸­çš„å‚æ•°å«ä¹‰å¦‚ä¸‹ï¼š</p><ul><li><code>/sSession</code>ï¼ˆWindows 2000åŠä¹‹åï¼‰æŒ‡å®šæ‹¥æœ‰ç»™å®šè¿›ç¨‹çš„ä¼šè¯ï¼ˆsessionï¼‰ã€‚</li><li><code>/mModule</code>ï¼ˆWindows XPåŠä¹‹åï¼‰æŒ‡å®šæ‹¥æœ‰éœ€è¦çš„è¿›ç¨‹çš„æ¨¡å—ã€‚</li><li><code>Process</code> æŒ‡å®šç›®æ ‡æœºä¸ŠæŸä¸ªè¿›ç¨‹çš„16è¿›åˆ¶åœ°å€æˆ–è€…è¿›ç¨‹IDã€‚</li><li><code>Flags</code> æ˜¯ç”¨äºæ§åˆ¶å‘½ä»¤è¡Œä¸ºçš„æ ‡å¿—ä½ï¼Œä¾‹å¦‚ï¼Œ<code>/d</code> ç”¨äºæ˜¾ç¤ºå®Œæ•´çš„è¿›ç¨‹ç¯å¢ƒå—ï¼Œ<code>/c</code> ç”¨äºæ˜¾ç¤ºå®Œæ•´çš„çº¿ç¨‹ç¯å¢ƒå—ç­‰ã€‚</li></ul><p>ä»¥ä¸Šä¿¡æ¯ä»…ä¾›å‚è€ƒï¼Œå¦‚éœ€æ›´å¤šä¿¡æ¯ï¼Œå»ºè®®å’¨è¯¢ä¸“ä¸šçš„æŠ€æœ¯äººå‘˜ã€‚</p><h2 id="IDT"><a href="#IDT" class="headerlink" title="!IDT"></a>!IDT</h2><p>åœ¨WinDbgä¸­ï¼Œ<code>!idt</code>å‘½ä»¤ç”¨äºæ˜¾ç¤ºä¸­æ–­åˆ†é…è¡¨ï¼ˆInterrupt Dispatch Tableï¼Œç®€ç§°IDTï¼‰ä¸­çš„ä¸­æ–­æœåŠ¡ä¾‹ç¨‹ï¼ˆInterrupt Service Routineï¼Œç®€ç§°ISRï¼‰ã€‚</p><p>è¯¥å‘½ä»¤çš„è¯­æ³•ä¸ºï¼š<code>!idt [IDT]</code>ï¼Œå…¶ä¸­<code>IDT</code>æ˜¯å¯é€‰é¡¹ï¼Œç”¨äºæŒ‡å®šè¦æ˜¾ç¤ºçš„ç‰¹å®šIDTã€‚</p><p>å¦‚æœæœªæŒ‡å®šIDTï¼Œå¹¶ä¸”åœ¨æ²¡æœ‰æŒ‡å®š<code>-a</code>é€‰é¡¹çš„æƒ…å†µä¸‹ï¼Œè¯¥å‘½ä»¤å°†ç®€çŸ­åœ°æ˜¾ç¤ºç›®æ ‡æœºä¸Šæ‰€æœ‰å¤„ç†å™¨çš„IDTã€‚</p><p>å¦‚æœæŒ‡å®šäº†<code>-a</code>é€‰é¡¹ï¼Œè¯¥å‘½ä»¤å°†æ˜¾ç¤ºæ‰€æœ‰IDTçš„ISRã€‚</p><p>å¦‚æœéœ€è¦è·å–è¯¥å‘½ä»¤çš„å¸®åŠ©æ–‡æœ¬ï¼Œå¯ä»¥åœ¨è°ƒè¯•å™¨å‘½ä»¤çª—å£ä¸­ä½¿ç”¨<code>!idt -?</code>å‘½ä»¤ã€‚</p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¯¥å‘½ä»¤åªèƒ½å¯¹x64æˆ–è€…x86ç›®æ ‡æœºä½¿ç”¨ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> OS </category>
          
          <category> Windows </category>
          
          <category> Windbg </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>GetPrivateProfileString ç”¨æ³•</title>
      <link href="/OS/Windows/API/GetPrivageProfileString/"/>
      <url>/OS/Windows/API/GetPrivageProfileString/</url>
      
        <content type="html"><![CDATA[<p>GetPrivateProfileStringæ˜¯Windows APIä¸­çš„ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒç”¨äºä»æ³¨å†Œè¡¨è¯»å–æŒ‡å®šé”®å€¼å¯¹çš„å­—ç¬¦ä¸²å€¼ã€‚ </p><p>è¯¥å‡½æ•°çš„åŸå‹ä¸º</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">DWORD <span class="title">GetPrivateProfileString</span><span class="params">( </span></span></span><br><span class="line"><span class="params"><span class="function">    HKEY hKey, </span></span></span><br><span class="line"><span class="params"><span class="function">    LPCTSTR lpStringName, </span></span></span><br><span class="line"><span class="params"><span class="function">    LPCTSTR lpStringValue, </span></span></span><br><span class="line"><span class="params"><span class="function">    DWORD dwReserved, </span></span></span><br><span class="line"><span class="params"><span class="function">    LPDWORD lpdwResult </span></span></span><br><span class="line"><span class="params"><span class="function">)</span></span>; </span><br></pre></td></tr></table></figure><p>å…¶ä¸­ï¼ŒhKeyè¡¨ç¤ºè¦è¯»å–çš„æ³¨å†Œè¡¨é”®ï¼ŒlpStringNameè¡¨ç¤ºè¦è¯»å–çš„é”®çš„åç§°ï¼ŒlpStringValueè¡¨ç¤ºè¦è¯»å–çš„é”®çš„å€¼ï¼ŒdwReservedè¡¨ç¤ºä¿ç•™å­—æ®µï¼ŒlpdwResultè¡¨ç¤ºè¿”å›ç»“æœçš„ç¼“å†²åŒºã€‚ </p><h2 id="è¯»å–æ³¨å†Œè¡¨"><a href="#è¯»å–æ³¨å†Œè¡¨" class="headerlink" title="è¯»å–æ³¨å†Œè¡¨"></a>è¯»å–æ³¨å†Œè¡¨</h2><p>è°ƒç”¨è¯¥å‡½æ•°å¯ä»¥ä»æ³¨å†Œè¡¨è¯»å–æŒ‡å®šé”®å€¼å¯¹çš„å­—ç¬¦ä¸²å€¼ï¼Œä¾‹å¦‚: </p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">HKEY hKey; </span><br><span class="line">LPCTSTR lpStringName = <span class="string">&quot;MyString&quot;</span>; </span><br><span class="line">LPCTSTR lpStringValue = <span class="string">&quot;MyValue&quot;</span>; </span><br><span class="line">DWORD dwReserved = <span class="number">0</span>; </span><br><span class="line">LPDWORD lpdwResult = <span class="literal">NULL</span>; </span><br><span class="line"> </span><br><span class="line">GetPrivateProfileString(HKEY_CURRENT_USER, lpStringName, lpStringValue, <span class="number">0</span>, &amp;dwReserved, (LPDWORD)&amp;lpdwResult); </span><br><span class="line"><span class="keyword">if</span> (lpdwResult != <span class="literal">NULL</span>) &#123; </span><br><span class="line">    <span class="comment">// å¤„ç†è¯»å–æˆåŠŸçš„ä¿¡æ¯ </span></span><br><span class="line">&#125; <span class="keyword">else</span> &#123; </span><br><span class="line">    <span class="comment">// å¤„ç†è¯»å–å¤±è´¥çš„ä¿¡æ¯ </span></span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure><p>åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ä»æ³¨å†Œè¡¨è¯»å–äº†åä¸ºâ€MyStringâ€çš„é”®çš„å€¼ï¼Œå¹¶å°†ç»“æœå­˜å‚¨åœ¨lpdwResultä¸­ã€‚å¦‚æœè¯»å–æˆåŠŸï¼Œåˆ™lpdwResultéNULL,å¦åˆ™lpdwResultä¸ºNULLã€‚</p><h2 id="è¯»å†™é…ç½®æ–‡ä»¶"><a href="#è¯»å†™é…ç½®æ–‡ä»¶" class="headerlink" title="è¯»å†™é…ç½®æ–‡ä»¶"></a>è¯»å†™é…ç½®æ–‡ä»¶</h2><p>è¯»å†™æ–‡ä»¶æµ‹è¯•ï¼Œåˆ›å»ºtest.iniæ–‡ä»¶å†™å…¥ä¸€ä¸‹å†…å®¹</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[NETWORK]</span></span><br><span class="line"><span class="attr">ServerIP</span>=<span class="number">127.0</span>.<span class="number">0.1</span></span><br><span class="line"><span class="attr">LocalHost</span>=www.baidu.com</span><br><span class="line"><span class="section">[NETSET]</span></span><br><span class="line"><span class="attr">Net</span>=<span class="number">443</span></span><br><span class="line"><span class="attr">NetHost</span>=<span class="number">8080</span></span><br></pre></td></tr></table></figure><h3 id="è¯»å–é…ç½®æ–‡ä»¶"><a href="#è¯»å–é…ç½®æ–‡ä»¶" class="headerlink" title="è¯»å–é…ç½®æ–‡ä»¶"></a>è¯»å–é…ç½®æ–‡ä»¶</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;windows.h&gt;</span> <span class="comment">//è¿™ä¸ªå¤´æ–‡ä»¶ä¸€å®šè¦æ·»åŠ ï¼Œå¦åˆ™GetPrivateProfileString(...)å‡½æ•°æ— æ³•ä½¿ç”¨</span></span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="type">char</span> ip[<span class="number">16</span>];</span><br><span class="line"><span class="type">char</span> add[<span class="number">20</span>];</span><br><span class="line"><span class="type">char</span> net[<span class="number">20</span>];</span><br><span class="line"><span class="type">char</span> set[<span class="number">20</span>];</span><br><span class="line"></span><br><span class="line">DWORD num;<span class="comment">//longç±»å‹ï¼Œå¯ä»¥çœç•¥ä¸å†™ï¼Œå¦‚ä¸‹å‡ è¡Œã€‚</span></span><br><span class="line">num = <span class="built_in">GetPrivateProfileString</span>(<span class="string">&quot;NETWORK&quot;</span>, <span class="string">&quot;ServerIP&quot;</span>, <span class="string">&quot;&quot;</span>, ip, <span class="built_in">sizeof</span>(ip), <span class="string">&quot;\C:\\test.ini&quot;</span>);</span><br><span class="line"><span class="built_in">GetPrivateProfileString</span>(<span class="string">&quot;NETWORK&quot;</span>, <span class="string">&quot;LocalHost&quot;</span>, <span class="string">&quot;&quot;</span>, add, <span class="built_in">sizeof</span>(add), <span class="string">&quot;C:\\test.ini&quot;</span>);</span><br><span class="line"><span class="built_in">GetPrivateProfileString</span>(<span class="string">&quot;NETSET&quot;</span>, <span class="string">&quot;Net&quot;</span>, <span class="string">&quot;&quot;</span>, net, <span class="built_in">sizeof</span>(net), <span class="string">&quot;C:\\test.ini&quot;</span>);</span><br><span class="line"><span class="built_in">GetPrivateProfileString</span>(<span class="string">&quot;NETSET&quot;</span>, <span class="string">&quot;NetHost&quot;</span>, <span class="string">&quot;&quot;</span>, set, <span class="built_in">sizeof</span>(set), <span class="string">&quot;e:\\test.ini&quot;</span>);</span><br><span class="line"> </span><br><span class="line">cout &lt;&lt; num &lt;&lt; endl;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;-----------------\n&quot;</span>;</span><br><span class="line"></span><br><span class="line">cout &lt;&lt; ip &lt;&lt; endl;</span><br><span class="line">cout &lt;&lt; add &lt;&lt; endl;</span><br><span class="line">cout &lt;&lt; net &lt;&lt; endl;</span><br><span class="line">cout &lt;&lt; set &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">cout &lt;&lt; <span class="string">&quot;------------\n&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å†™å…¥é…ç½®æ–‡ä»¶"><a href="#å†™å…¥é…ç½®æ–‡ä»¶" class="headerlink" title="å†™å…¥é…ç½®æ–‡ä»¶"></a>å†™å…¥é…ç½®æ–‡ä»¶</h3><p>è¿è¡Œç¨‹åºåï¼Œæ–‡ä»¶å†…å®¹å¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[NETWORK]</span></span><br><span class="line"><span class="attr">ServerIP</span>=<span class="number">127.0</span>.<span class="number">0.1</span></span><br><span class="line"><span class="attr">LocalHost</span>=www.baidu.com</span><br><span class="line"><span class="section">[NETSET]</span></span><br><span class="line"><span class="attr">Net</span>=<span class="number">443</span></span><br><span class="line"><span class="attr">NetHost</span>=<span class="number">8080</span></span><br><span class="line"><span class="section">[Device]</span></span><br><span class="line"><span class="attr">Name</span>=PC</span><br></pre></td></tr></table></figure><p>è¿è¡Œdemoï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;windows.h&gt;</span><span class="comment">//è¿™ä¸ªå¤´æ–‡ä»¶ä¸€å®šè¦æ·»åŠ ï¼Œå¦åˆ™GetPrivateProfileString(...)å‡½æ•°æ— æ³•ä½¿ç”¨</span></span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="built_in">WritePrivateProfileString</span>(<span class="string">&quot;Device&quot;</span>, <span class="string">&quot;Name&quot;</span>, <span class="string">&quot;PC&quot;</span>, <span class="string">&quot;C:\\test.ini&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> OS </category>
          
          <category> Windows </category>
          
          <category> API </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Windows </tag>
            
            <tag> API </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Stellar ä¸»é¢˜ç”¨æ³•</title>
      <link href="/%E6%89%8B%E5%86%8C/%E4%B8%AA%E4%BA%BA%E9%85%8D%E7%BD%AE/Stellar%E4%B8%BB%E9%A2%98%E7%94%A8%E6%B3%95/"/>
      <url>/%E6%89%8B%E5%86%8C/%E4%B8%AA%E4%BA%BA%E9%85%8D%E7%BD%AE/Stellar%E4%B8%BB%E9%A2%98%E7%94%A8%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<p>å¼•ç”¨æ–‡ç« </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">references:</span><br><span class="line">  - title: &#x27;å¿ƒè·³ä¹‹æ—…â€”ğŸ’—â€”iOSç”¨æ‰‹æœºæ‘„åƒå¤´æ£€æµ‹å¿ƒç‡(PPG)&#x27;</span><br><span class="line">    url: https://punmy.cn/2016/07/28/15231176397746.html</span><br><span class="line">  - title: &#x27;PPGå…‰ç”µå®¹ç§¯è„‰ææ³¢æè®°æ³•æŠ€æœ¯æ¦‚å†µ&#x27;</span><br><span class="line">    url: https://www.jianshu.com/p/695c131abfa5</span><br><span class="line">  ...</span><br><span class="line">---</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> æ‰‹å†Œ </category>
          
          <category> ä¸ªäººé…ç½® </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Retmote Registry æœåŠ¡</title>
      <link href="/OS/Windows/%E6%9C%8D%E5%8A%A1/RemoteRegistry/"/>
      <url>/OS/Windows/%E6%9C%8D%E5%8A%A1/RemoteRegistry/</url>
      
        <content type="html"><![CDATA[<blockquote><p>Remote Registryæ˜¯ä»€ä¹ˆæœåŠ¡ï¼Ÿ</p><blockquote><p>Remote Registry,ç¿»è¯‘ä¸ºâ€è¿œç¨‹æ³¨å†Œè¡¨â€,å¦‚æœè¿œç¨‹çš„è®¡ç®—æœºè¿æ¥åˆ°äº†ä½ çš„è®¡ç®—æœºé‚£ä¹ˆä»–å¯ä»¥é€šè¿‡å­—ç¬¦ç•Œé¢æˆ–è€…å…¶ä»–æ–¹å¼è¿œç¨‹ä¿®æ”¹æ³¨å†Œè¡¨.è¿™æ˜¯ä¸€ä¸ªç›¸å½“ä¸¥é‡çš„æ¼æ´,å¯ä»¥ä¸ºé»‘å®¢å…¥ä¾µæä¾›æ—©æœŸçš„æ–¹ä¾¿(ä¿®æ”¹æŸäº›é¡¹ç›®ä¾¿äºå…¥ä¾µ,æ¯”å¦‚æ“ä½œç³»ç»Ÿç‰ˆæœ¬).</p></blockquote></blockquote><p>[toc]</p><h1 id="å¼€å¯-Remote-Regustiy-æœåŠ¡"><a href="#å¼€å¯-Remote-Regustiy-æœåŠ¡" class="headerlink" title="å¼€å¯ Remote Regustiy æœåŠ¡"></a>å¼€å¯ Remote Regustiy æœåŠ¡</h1><p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒWindows 7 ç¦ç”¨è¿œç¨‹æ³¨å†Œè¡¨æœåŠ¡ï¼ˆå¯èƒ½æ˜¯å‡ºäºå®‰å…¨åŸå› ï¼‰ã€‚</p><h2 id="æ–¹æ³•1-ui"><a href="#æ–¹æ³•1-ui" class="headerlink" title="æ–¹æ³•1 ui"></a>æ–¹æ³•1 ui</h2><p>æ‰“å¼€windowsæœåŠ¡ï¼Œåœ¨æœåŠ¡ä¸­ä¿®æ”¹ Remote Registry æœåŠ¡çš„å¯åŠ¨ç±»å‹ä¸ºæ‰‹åŠ¨ï¼Œç„¶åå¯åŠ¨ Remote Registry æœåŠ¡ã€‚</p><h2 id="æ–¹æ³•2-å‘½ä»¤è¡Œ"><a href="#æ–¹æ³•2-å‘½ä»¤è¡Œ" class="headerlink" title="æ–¹æ³•2 å‘½ä»¤è¡Œ"></a>æ–¹æ³•2 å‘½ä»¤è¡Œ</h2><ol><li>è¦ä»å‘½ä»¤è¡Œå¯ç”¨å®ƒï¼Œè¯·é”®å…¥ä»¥ä¸‹å†…å®¹ï¼š</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sc \\computername config remoteregistry start= auto</span><br></pre></td></tr></table></figure><p>ç¡®ä¿ &#x3D; ç¬¦å·å’Œ auto ä¹‹é—´æœ‰ä¸€ä¸ªç©ºæ ¼ï¼Œ<br>å¦‚æœæ‚¨åœ¨æœ¬åœ°è®¡ç®—æœºä¸Šæ‰§è¡Œæ­¤æ“ä½œï¼Œæ‚¨å¯ä»¥åˆ é™¤ \computername éƒ¨åˆ†ï¼Œ<br>æ‚¨ä¹Ÿå¯ä»¥å°†â€œremoteregistryâ€æ›¿æ¢ä¸ºå¦ä¸€ä¸ªæœåŠ¡æ¥å¯ç”¨æˆ–ç¦ç”¨å®ƒã€‚</p><p>å¯ç”¨è¯¥æœåŠ¡åï¼Œæ‚¨å¯ä»¥é‡æ–°å¯åŠ¨è®¡ç®—æœºï¼Œæˆ–è€…ç«‹å³ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å¯åŠ¨å®ƒï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sc \\computername start remoteregistry</span><br></pre></td></tr></table></figure><ol start="2"><li>ä½¿ç”¨pså·¥å…·</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sc start remoteregistry start= auto</span><br></pre></td></tr></table></figure><ul><li>å¯åŠ¨æœåŠ¡å¹¶å°†å…¶è®¾ç½®ä¸ºè‡ªåŠ¨ </li><li>ä¸éœ€è¦å¯åŠ¨æœåŠ¡</li></ul><h1 id="Remote-RegistryæœåŠ¡å¯ä»¥å…³é—­å—ï¼Ÿ"><a href="#Remote-RegistryæœåŠ¡å¯ä»¥å…³é—­å—ï¼Ÿ" class="headerlink" title="Remote RegistryæœåŠ¡å¯ä»¥å…³é—­å—ï¼Ÿ"></a>Remote RegistryæœåŠ¡å¯ä»¥å…³é—­å—ï¼Ÿ</h1><p>å› æ­¤å…³é—­è¿™ä¸ªæœåŠ¡æ²¡æœ‰ä»€ä¹ˆå®³å¤„,è€Œç›Šå¤„å¾ˆå¤š.å¼ºçƒˆå»ºè®®å…³é—­,å¹¶ä¸”ç¦ç”¨.å¦å¤–ç³»ç»Ÿä¸­æ²¡æœ‰å…¶ä»–æœåŠ¡æ˜¯ä¾èµ–æˆ–è€…è·Ÿæ­¤æœåŠ¡æœ‰å…³è”çš„ï¼Œæ‰€ä»¥ç¦ç”¨ä¹‹åä¸ä¼šå¯¹å…¶ä»–æœåŠ¡äº§ç”Ÿå½±å“ã€‚</p><p>Remote RegistryæœåŠ¡å…³é—­æ–¹æ³•ï¼š</p><p>1ã€æŒ‰ä½é”®ç›˜çš„â€œWin+Râ€å¿«æ·ç»„åˆé”®ï¼Œæ‰“å¼€â€œè¿è¡Œâ€å¯¹è¯å‘½ä»¤çª—å£ï¼Œè¾“å…¥â€œservices.mscâ€å‘½ä»¤ï¼Œç‚¹å‡»â€œç¡®å®šâ€ï¼›ï¼Œå¦‚å›¾ï¼š</p><div class="tag-plugin image"><div class="image-bg"><img src="../images/RemoteRegistry/20171206102840976.jpg"/></div></div><p>2ã€æ‰“å¼€æœåŠ¡ç•Œé¢åæ‰¾åˆ°â€œRemote Registryâ€é€‰é¡¹ï¼Œå¹¶å·¦é”®åŒå‡»æ‰“å¼€å…¶å±æ€§å¯¹è¯çª—å£ï¼›</p><div class="tag-plugin image"><div class="image-bg"><img src="../images/RemoteRegistry/20171206102840304.jpg"/></div></div><p>3ã€åœ¨æ‰“å¼€çš„â€œRemote Registry çš„å±æ€§â€å¯¹è¯çª—å£ä¸­ï¼Œåœ¨å¯åŠ¨ç±»å‹é€‰é¡¹ä¸­é€‰æ‹©â€œç¦ç”¨â€é€‰é¡¹ï¼Œå†ç‚¹å‡»â€œåº”ç”¨â€â€“â€œåœæ­¢â€â€“â€œç¡®å®šâ€æŒ‰é’®ä¿å­˜è®¾ç½®å³å¯è§£å†³é—®é¢˜ã€‚</p><p>ä»¥ä¸Šå°±æ˜¯Remote RegistryæœåŠ¡çš„è¯¦ç»†ä»‹ç»äº†ï¼Œå°ç¼–å¼ºçƒˆå»ºè®®å…³é—­æ­¤æœåŠ¡ï¼Œå› ä¸ºæ³¨å†Œè¡¨æ˜¯ä¸€å°ç”µè„‘çš„æ ¸å¿ƒæ•°æ®åº“ï¼Œæˆ‘ä»¬å¿…é¡»ä¿è¯è‡ªå·±æ ¸å¿ƒæ•°æ®åº“çš„å®‰å…¨ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> OS </category>
          
          <category> Windows </category>
          
          <category> æœåŠ¡ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> windows </tag>
            
            <tag> registry </tag>
            
            <tag> æ³¨å†Œè¡¨ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>pdmç”¨æ³•æ•´ç†</title>
      <link href="/Code/Python/pdm%E7%94%A8%E6%B3%95/"/>
      <url>/Code/Python/pdm%E7%94%A8%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<p><a href="https://zhuanlan.zhihu.com/p/468445226">æ¥äº†ï¼åˆ’æ—¶ä»£çš„ Python åŒ…ç®¡ç†å·¥å…· â€“ PDM - çŸ¥ä¹</a></p><h3 id="åˆå§‹åŒ–-PDM-ï¼š"><a href="#åˆå§‹åŒ–-PDM-ï¼š" class="headerlink" title="åˆå§‹åŒ– PDM ï¼š"></a>åˆå§‹åŒ– PDM ï¼š</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pdm init</span><br></pre></td></tr></table></figure><h3 id="æŸ¥çœ‹å¸®åŠ©"><a href="#æŸ¥çœ‹å¸®åŠ©" class="headerlink" title="æŸ¥çœ‹å¸®åŠ©"></a>æŸ¥çœ‹å¸®åŠ©</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pdm -h</span><br></pre></td></tr></table></figure><h3 id="åˆ‡æ¢pythonç¯å¢ƒ"><a href="#åˆ‡æ¢pythonç¯å¢ƒ" class="headerlink" title="åˆ‡æ¢pythonç¯å¢ƒ"></a>åˆ‡æ¢pythonç¯å¢ƒ</h3><p>å½“ä½ åœ¨åˆå§‹åŒ– pdm é¡¹ç›®æ—¶ï¼Œå°±å·²ç»é€‰å®šäº†å½“å‰çš„ Python ç‰ˆæœ¬å’Œå¯ç”¨çš„ Python ç‰ˆæœ¬èŒƒå›´ï¼Œåé¢å¦‚æœæƒ³æ›´æ”¹ï¼Œå¯ä»¥ä½¿ç”¨ use å‘½ä»¤ï¼Œä½†ç‰ˆæœ¬è¦å—ä¹‹å‰è®¾å®šçš„ç‰ˆæœ¬èŒƒå›´çº¦æŸã€‚</p><p>å‡è®¾å…è®¸èŒƒå›´æ˜¯ python 3.9+ï¼Œå½“å‰ä½¿ç”¨çš„æ˜¯ python 3.10ï¼Œå¯ä»¥ç›´æ¥åˆ‡æ¢è¿‡å»ã€‚</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pdm use python3.9</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> Python </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Windowsæƒé™(Privilege Constants)</title>
      <link href="/OS/Windows/%E6%9D%83%E9%99%90%E4%B8%8E%E4%BC%9A%E8%AF%9D/Privilege%20constants/"/>
      <url>/OS/Windows/%E6%9D%83%E9%99%90%E4%B8%8E%E4%BC%9A%E8%AF%9D/Privilege%20constants/</url>
      
        <content type="html"><![CDATA[<blockquote><p>windows ææƒæ—¶å¸¸ç”¨çš„ Constants</p><p>å¾®è½¯å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://learn.microsoft.com/en-us/windows/win32/secauthz/privilege-constants">Privilege Constants (Winnt.h) - Win32 apps | Microsoft Learn</a></p></blockquote><h1 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h1><h2 id="Constants"><a href="#Constants" class="headerlink" title="Constants"></a>Constants</h2><table><thead><tr><th align="left">Constant&#x2F;value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><strong>SE_ASSIGNPRIMARYTOKEN_NAME</strong><br />TEXT(â€œSeAssignPrimaryTokenPrivilegeâ€)</td><td align="left">Required to assign the <a href="https://learn.microsoft.com/en-us/windows/desktop/SecGloss/p-gly"><em>primary token</em></a> of a process. User Right: Replace a process-level token.</td></tr><tr><td align="left"><strong>SE_AUDIT_NAME</strong><br />TEXT(â€œSeAuditPrivilegeâ€)</td><td align="left">Required to generate audit-log entries. Give this privilege to secure servers. User Right: Generate security audits.</td></tr><tr><td align="left"><strong>SE_BACKUP_NAME</strong><br />TEXT(â€œSeBackupPrivilegeâ€)</td><td align="left">Required to perform backup operations. This privilege causes the system to grant all read access control to any file, regardless of the <a href="https://learn.microsoft.com/en-us/windows/desktop/SecGloss/a-gly"><em>access control list</em></a> (ACL) specified for the file. Any access request other than read is still evaluated with the ACL. This privilege is required by the <a href="https://learn.microsoft.com/en-us/windows/desktop/api/winreg/nf-winreg-regsavekeya"><strong>RegSaveKey</strong></a> and <a href="https://learn.microsoft.com/en-us/windows/desktop/api/winreg/nf-winreg-regsavekeyexa"><strong>RegSaveKeyEx</strong></a>functions. The following access rights are granted if this privilege is held: READ_CONTROLACCESS_SYSTEM_SECURITYFILE_GENERIC_READFILE_TRAVERSEUser Right: Back up files and directories. If the file is located on a removable drive and the â€œAudit Removable Storageâ€ is enabled, the SE_SECURITY_NAME is required to have ACCESS_SYSTEM_SECURITY.</td></tr><tr><td align="left"><strong>SE_CHANGE_NOTIFY_NAME</strong><br />TEXT(â€œSeChangeNotifyPrivilegeâ€)</td><td align="left">Required to receive notifications of changes to files or directories. This privilege also causes the system to skip all traversal access checks. It is enabled by default for all users. User Right: Bypass traverse checking.</td></tr><tr><td align="left"><strong>SE_CREATE_GLOBAL_NAME</strong><br />TEXT(â€œSeCreateGlobalPrivilegeâ€)</td><td align="left">Required to create named file mapping objects in the global namespace during Terminal Services sessions. This privilege is enabled by default for administrators, services, and the local system account. User Right: Create global objects.</td></tr><tr><td align="left"><strong>SE_CREATE_PAGEFILE_NAME</strong><br />TEXT(â€œSeCreatePagefilePrivilegeâ€)</td><td align="left">Required to create a paging file. User Right: Create a pagefile.</td></tr><tr><td align="left"><strong>SE_CREATE_PERMANENT_NAME</strong><br />TEXT(â€œSeCreatePermanentPrivilegeâ€)</td><td align="left">Required to create a permanent object. User Right: Create permanent shared objects.</td></tr><tr><td align="left"><strong>SE_CREATE_SYMBOLIC_LINK_NAME</strong><br />TEXT(â€œSeCreateSymbolicLinkPrivilegeâ€)</td><td align="left">Required to create a symbolic link. User Right: Create symbolic links.</td></tr><tr><td align="left">**SE_CREATE_TOKEN_NAME<br />**TEXT(â€œSeCreateTokenPrivilegeâ€)</td><td align="left">Required to create a primary token. User Right: Create a token object. You cannot add this privilege to a user account with the â€œCreate a token objectâ€ policy. Additionally, you cannot add this privilege to an owned process using Windows APIs.<strong>Windows Server 2003 and Windows XP with SP1 and earlier:</strong> Windows APIs can add this privilege to an owned process.</td></tr><tr><td align="left">**SE_DEBUG_NAME<br />**TEXT(â€œSeDebugPrivilegeâ€)</td><td align="left">Required to debug and adjust the memory of a process owned by another account. User Right: Debug programs.</td></tr><tr><td align="left">**SE_DELEGATE_SESSION_USER_IMPERSONATE_NAME<br />**TEXT(â€œSeDelegateSessionUserImpersonatePrivilegeâ€)</td><td align="left">Required to obtain an impersonation token for another user in the same session. User Right: Impersonate other users.</td></tr><tr><td align="left"><strong>SE_ENABLE_DELEGATION_NAME</strong><br />TEXT(â€œSeEnableDelegationPrivilegeâ€)</td><td align="left">Required to mark user and computer accounts as trusted for delegation. User Right: Enable computer and user accounts to be trusted for delegation.</td></tr><tr><td align="left"><strong>SE_IMPERSONATE_NAME</strong><br />TEXT(â€œSeImpersonatePrivilegeâ€)</td><td align="left">Required to impersonate. User Right: Impersonate a client after authentication.</td></tr><tr><td align="left"><strong>SE_INC_BASE_PRIORITY_NAME</strong><br />TEXT(â€œSeIncreaseBasePriorityPrivilegeâ€)</td><td align="left">Required to increase the base priority of a process. User Right: Increase scheduling priority.</td></tr><tr><td align="left"><strong>SE_INCREASE_QUOTA_NAME</strong><br />TEXT(â€œSeIncreaseQuotaPrivilegeâ€)</td><td align="left">Required to increase the quota assigned to a process. User Right: Adjust memory quotas for a process.</td></tr><tr><td align="left">**SE_INC_WORKING_SET_NAME<br />**TEXT(â€œSeIncreaseWorkingSetPrivilegeâ€)</td><td align="left">Required to allocate more memory for applications that run in the context of users. User Right: Increase a process working set.</td></tr><tr><td align="left">**SE_LOAD_DRIVER_NAME<br />**TEXT(â€œSeLoadDriverPrivilegeâ€)</td><td align="left">Required to load or unload a device driver. User Right: Load and unload device drivers.</td></tr><tr><td align="left">**SE_LOCK_MEMORY_NAME<br />**TEXT(â€œSeLockMemoryPrivilegeâ€)</td><td align="left">Required to lock physical pages in memory. User Right: Lock pages in memory.</td></tr><tr><td align="left">**SE_MACHINE_ACCOUNT_NAME<br />**TEXT(â€œSeMachineAccountPrivilegeâ€)</td><td align="left">Required to create a computer account. User Right: Add workstations to domain.</td></tr><tr><td align="left"><strong>SE_MANAGE_VOLUME_NAME</strong><br />TEXT(â€œSeManageVolumePrivilegeâ€)</td><td align="left">Required to enable volume management privileges. User Right: Manage the files on a volume.</td></tr><tr><td align="left"><strong>SE_PROF_SINGLE_PROCESS_NAME</strong><br />TEXT(â€œSeProfileSingleProcessPrivilegeâ€)</td><td align="left">Required to gather profiling information for a single process. User Right: Profile single process.</td></tr><tr><td align="left"><strong>SE_RELABEL_NAME</strong><br />TEXT(â€œSeRelabelPrivilegeâ€)</td><td align="left">Required to modify the mandatory integrity level of an object. User Right: Modify an object label.</td></tr><tr><td align="left">**SE_REMOTE_SHUTDOWN_NAME<br />**TEXT(â€œSeRemoteShutdownPrivilegeâ€)</td><td align="left">Required to shut down a system using a network request. User Right: Force shutdown from a remote system.</td></tr><tr><td align="left"><strong>SE_RESTORE_NAME</strong><br />TEXT(â€œSeRestorePrivilegeâ€)</td><td align="left">Required to perform restore operations. This privilege causes the system to grant all write access control to any file, regardless of the ACL specified for the file. Any access request other than write is still evaluated with the ACL. Additionally, this privilege enables you to set any valid user or group SID as the owner of a file. This privilege is required by the <a href="https://learn.microsoft.com/en-us/windows/desktop/api/winreg/nf-winreg-regloadkeya"><strong>RegLoadKey</strong></a> function. The following access rights are granted if this privilege is held: WRITE_DACWRITE_OWNERACCESS_SYSTEM_SECURITYFILE_GENERIC_WRITEFILE_ADD_FILEFILE_ADD_SUBDIRECTORYDELETEUser Right: Restore files and directories. If the file is located on a removable drive and the â€œAudit Removable Storageâ€ is enabled, the SE_SECURITY_NAME is required to have ACCESS_SYSTEM_SECURITY.</td></tr><tr><td align="left"><strong>SE_SECURITY_NAME</strong><br />TEXT(â€œSeSecurityPrivilegeâ€)</td><td align="left">Required to perform a number of security-related functions, such as controlling and viewing audit messages. This privilege identifies its holder as a security operator. User Right: Manage auditing and security log.</td></tr><tr><td align="left"><strong>SE_SHUTDOWN_NAME</strong><br />TEXT(â€œSeShutdownPrivilegeâ€)</td><td align="left">Required to shut down a local system. User Right: Shut down the system.</td></tr><tr><td align="left"><strong>SE_SYNC_AGENT_NAME</strong><br />TEXT(â€œSeSyncAgentPrivilegeâ€)</td><td align="left">Required for a domain controller to use the <a href="https://learn.microsoft.com/en-us/windows/desktop/SecGloss/l-gly"><em>Lightweight Directory Access Protocol</em></a> directory synchronization services. This privilege enables the holder to read all objects and properties in the directory, regardless of the protection on the objects and properties. By default, it is assigned to the Administrator and LocalSystem accounts on domain controllers. User Right: Synchronize directory service data.</td></tr><tr><td align="left"><strong>SE_SYSTEM_ENVIRONMENT_NAME</strong><br />TEXT(â€œSeSystemEnvironmentPrivilegeâ€)</td><td align="left">Required to modify the nonvolatile RAM of systems that use this type of memory to store configuration information. User Right: Modify firmware environment values.</td></tr><tr><td align="left"><strong>SE_SYSTEM_PROFILE_NAME</strong><br />TEXT(â€œSeSystemProfilePrivilegeâ€)</td><td align="left">Required to gather profiling information for the entire system. User Right: Profile system performance.</td></tr><tr><td align="left"><strong>SE_SYSTEMTIME_NAME</strong><br />TEXT(â€œSeSystemtimePrivilegeâ€)</td><td align="left">Required to modify the system time. User Right: Change the system time.</td></tr><tr><td align="left"><strong>SE_TAKE_OWNERSHIP_NAME</strong><br />TEXT(â€œSeTakeOwnershipPrivilegeâ€)</td><td align="left">Required to take ownership of an object without being granted discretionary access. This privilege allows the owner value to be set only to those values that the holder may legitimately assign as the owner of an object. User Right: Take ownership of files or other objects.</td></tr><tr><td align="left">**SE_TCB_NAME<br />**TEXT(â€œSeTcbPrivilegeâ€)</td><td align="left">This privilege identifies its holder as part of the trusted computer base. Some trusted protected subsystems are granted this privilege. User Right: Act as part of the operating system.</td></tr><tr><td align="left">**SE_TIME_ZONE_NAME<br />**TEXT(â€œSeTimeZonePrivilegeâ€)</td><td align="left">Required to adjust the time zone associated with the computerâ€™s internal clock. User Right: Change the time zone.</td></tr><tr><td align="left"><strong>SE_TRUSTED_CREDMAN_ACCESS_NAME</strong><br />TEXT(â€œSeTrustedCredManAccessPrivilegeâ€)</td><td align="left">Required to access Credential Manager as a trusted caller. User Right: Access Credential Manager as a trusted caller.</td></tr><tr><td align="left"><strong>SE_UNDOCK_NAME</strong><br />TEXT(â€œSeUndockPrivilegeâ€)</td><td align="left">Required to undock a laptop. User Right: Remove computer from docking station.</td></tr><tr><td align="left">**SE_UNSOLICITED_INPUT_NAME<br />**TEXT(â€œSeUnsolicitedInputPrivilegeâ€)</td><td align="left">Required to read unsolicited input from a <a href="https://learn.microsoft.com/en-us/windows/desktop/SecGloss/t-gly"><em>terminal</em></a> device. User Right: Not applicable.</td></tr></tbody></table><h1 id="ç”¨æ³•"><a href="#ç”¨æ³•" class="headerlink" title="ç”¨æ³•"></a>ç”¨æ³•</h1><p>valueä¸åŒï¼Œå¯¹åº”çš„æ“ä½œå’Œæƒé™ä¹Ÿä¸åŒï¼Œæœ¬æ–‡åˆ—ä¸¾äº†æœ‰å…³ Privilege Constants çš„ä¸€äº›ä½¿ç”¨æ–¹å¼ã€‚</p><h2 id="LookupPrivilegeValue"><a href="#LookupPrivilegeValue" class="headerlink" title="LookupPrivilegeValue"></a>LookupPrivilegeValue</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">BOOL <span class="title">EnablePrivilege</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    LUID PrivilegeRequired ;</span><br><span class="line">    BOOL bRes = FALSE;</span><br><span class="line">  </span><br><span class="line">    bRes = <span class="built_in">LookupPrivilegeValue</span>(<span class="literal">NULL</span>, SE_DEBUG_NAME, &amp;PrivilegeRequired);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> bRes;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ä½¿ç”¨-AdjustTokenPrivileges-ä¿®æ”¹æƒé™"><a href="#ä½¿ç”¨-AdjustTokenPrivileges-ä¿®æ”¹æƒé™" class="headerlink" title="ä½¿ç”¨ AdjustTokenPrivileges ä¿®æ”¹æƒé™"></a>ä½¿ç”¨ AdjustTokenPrivileges ä¿®æ”¹æƒé™</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">inline</span> BOOL <span class="title">CToolhelp::EnablePrivilege</span><span class="params">(PCTSTR szPrivilege, BOOL fEnable)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">   <span class="comment">// Enabling the debug privilege allows the application to see</span></span><br><span class="line">   <span class="comment">// information about service applications</span></span><br><span class="line">   BOOL fOk = FALSE;    <span class="comment">// Assume function fails</span></span><br><span class="line">   HANDLE hToken;</span><br><span class="line"></span><br><span class="line">   <span class="comment">// Try to open this process&#x27;s access token</span></span><br><span class="line">   <span class="keyword">if</span> (<span class="built_in">OpenProcessToken</span>(<span class="built_in">GetCurrentProcess</span>(), TOKEN_ADJUST_PRIVILEGES, </span><br><span class="line">      &amp;hToken)) &#123;</span><br><span class="line"></span><br><span class="line">      <span class="comment">// Attempt to modify the given privilege</span></span><br><span class="line">      TOKEN_PRIVILEGES tp;</span><br><span class="line">      tp.PrivilegeCount = <span class="number">1</span>;</span><br><span class="line">      <span class="built_in">LookupPrivilegeValue</span>(<span class="literal">NULL</span>, szPrivilege, &amp;tp.Privileges[<span class="number">0</span>].Luid);</span><br><span class="line">      tp.Privileges[<span class="number">0</span>].Attributes = fEnable ? SE_PRIVILEGE_ENABLED : <span class="number">0</span>;</span><br><span class="line">      <span class="built_in">AdjustTokenPrivileges</span>(hToken, FALSE, &amp;tp, <span class="built_in">sizeof</span>(tp), <span class="literal">NULL</span>, <span class="literal">NULL</span>);</span><br><span class="line">      fOk = (<span class="built_in">GetLastError</span>() == ERROR_SUCCESS);</span><br><span class="line"></span><br><span class="line">      <span class="comment">// Don&#x27;t forget to close the token handle</span></span><br><span class="line">      <span class="built_in">CloseHandle</span>(hToken);</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">return</span>(fOk);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// usage</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> OS </category>
          
          <category> Windows </category>
          
          <category> æƒé™ä¸ä¼šè¯ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>ADåŸŸ</title>
      <link href="/OS/Windows/%E5%AE%89%E5%85%A8/AD%E5%9F%9F/"/>
      <url>/OS/Windows/%E5%AE%89%E5%85%A8/AD%E5%9F%9F/</url>
      
        <content type="html"><![CDATA[<h1 id="ADåŸŸ"><a href="#ADåŸŸ" class="headerlink" title="ADåŸŸ"></a>ADåŸŸ</h1><p>ADåŸŸï¼ˆActive Directory Domainï¼‰æ˜¯ä¸€ç§Windows Serverçš„ç»„ç»‡å•å…ƒï¼Œç”¨äºç®¡ç†è®¡ç®—æœºã€ç”¨æˆ·ã€ç»„ç»‡å’Œå…¶ä»–èµ„æºã€‚å®ƒæä¾›äº†ä¸€ç§é›†ä¸­å¼çš„ç®¡ç†æ–¹å¼ï¼Œå¯ä»¥è®©ç®¡ç†å‘˜è½»æ¾åœ°ç®¡ç†ç½‘ç»œä¸­çš„èµ„æºã€‚ADåŸŸæ”¯æŒä»¥ä¸‹åŠŸèƒ½ï¼š</p><ol><li>ç”¨æˆ·å’Œè®¡ç®—æœºç®¡ç†ï¼šå¯ä»¥ä½¿ç”¨ADåŸŸæ¥ç®¡ç†ç½‘ç»œä¸­çš„ç”¨æˆ·å’Œè®¡ç®—æœºï¼ŒåŒ…æ‹¬åˆ›å»ºã€åˆ é™¤ã€ä¿®æ”¹ç”¨æˆ·å’Œè®¡ç®—æœºçš„å±æ€§ç­‰ã€‚</li><li>ç»„ç»‡ç®¡ç†ï¼šå¯ä»¥ä½¿ç”¨ADåŸŸæ¥ç®¡ç†ç½‘ç»œä¸­çš„ç»„ç»‡ï¼ŒåŒ…æ‹¬åˆ›å»ºã€åˆ é™¤ã€ä¿®æ”¹ç»„ç»‡çš„å±æ€§ç­‰ã€‚</li><li>æƒé™ç®¡ç†ï¼šå¯ä»¥ä½¿ç”¨ADåŸŸæ¥ç®¡ç†ç½‘ç»œä¸­çš„æƒé™ï¼ŒåŒ…æ‹¬æˆäºˆç”¨æˆ·è®¿é—®èµ„æºçš„æƒé™ç­‰ã€‚</li><li>ç½‘ç»œæœåŠ¡ç®¡ç†ï¼šå¯ä»¥ä½¿ç”¨ADåŸŸæ¥ç®¡ç†ç½‘ç»œä¸­çš„æœåŠ¡ï¼ŒåŒ…æ‹¬æ‰“å°æœåŠ¡ã€é‚®ä»¶æœåŠ¡ç­‰ã€‚</li><li>æ•°æ®å¤‡ä»½å’Œæ¢å¤ï¼šå¯ä»¥ä½¿ç”¨ADåŸŸæ¥å¤‡ä»½å’Œæ¢å¤ç½‘ç»œä¸­çš„æ•°æ®ï¼Œä»¥é˜²æ­¢æ•°æ®ä¸¢å¤±ã€‚</li></ol>]]></content>
      
      
      <categories>
          
          <category> OS </category>
          
          <category> Windows </category>
          
          <category> å®‰å…¨ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>DCSYNCæ”»å‡»é˜²æŠ¤</title>
      <link href="/OS/Windows/%E5%AE%89%E5%85%A8/DCSYNC%E6%94%BB%E5%87%BB/"/>
      <url>/OS/Windows/%E5%AE%89%E5%85%A8/DCSYNC%E6%94%BB%E5%87%BB/</url>
      
        <content type="html"><![CDATA[<h1 id="DCSYNCæ”»å‡»"><a href="#DCSYNCæ”»å‡»" class="headerlink" title="DCSYNCæ”»å‡»"></a>DCSYNCæ”»å‡»</h1><p>DCSYNCæ”»å‡»æ˜¯ä¸€ç§åˆ©ç”¨DCï¼ˆåŸŸæ§åˆ¶å™¨ï¼‰ä¹‹é—´çš„åŒæ­¥è¿‡ç¨‹æ¥å®ç°çš„æ”»å‡»ã€‚æ”»å‡»è€…å¯ä»¥åˆ©ç”¨è¿™ä¸ªè¿‡ç¨‹æ¥è·å–åŸŸç®¡ç†å‘˜çš„æƒé™ï¼Œä»è€Œå¯¹åŸŸä¸­çš„è®¡ç®—æœºå’Œç”¨æˆ·è¿›è¡Œæ”»å‡»ã€‚ä¸ºäº†é˜²æŠ¤DCSYNCæ”»å‡»ï¼Œå¯ä»¥é‡‡å–ä»¥ä¸‹æªæ–½ï¼š</p><pre><code>1. å®‰è£…æœ€æ–°çš„å®‰å…¨è¡¥ä¸ï¼šç¡®ä¿æ‰€æœ‰çš„DCéƒ½å®‰è£…äº†æœ€æ–°çš„å®‰å…¨è¡¥ä¸ï¼Œä»¥é˜²æ­¢æ”»å‡»è€…åˆ©ç”¨å·²çŸ¥çš„æ¼æ´è¿›è¡Œæ”»å‡»ã€‚2. å¯ç”¨å®‰å…¨ç­–ç•¥ï¼šå¯ç”¨å®‰å…¨ç­–ç•¥ï¼Œä¾‹å¦‚é™åˆ¶ç®¡ç†å‘˜çš„æƒé™ï¼Œä»¥é˜²æ­¢æ”»å‡»è€…åˆ©ç”¨ç®¡ç†å‘˜æƒé™è¿›è¡Œæ”»å‡»ã€‚3. ä½¿ç”¨é˜²ç«å¢™ï¼šä½¿ç”¨é˜²ç«å¢™æ¥é™åˆ¶DCä¹‹é—´çš„é€šä¿¡ï¼Œä»¥é˜²æ­¢æ”»å‡»è€…åˆ©ç”¨é€šä¿¡è¿‡ç¨‹è¿›è¡Œæ”»å‡»ã€‚4. å¯ç”¨IPsecï¼šå¯ç”¨IPsecæ¥åŠ å¯†DCä¹‹é—´çš„é€šä¿¡ï¼Œä»¥é˜²æ­¢æ”»å‡»è€…æˆªè·é€šä¿¡å†…å®¹ã€‚5. å¯ç”¨èº«ä»½éªŒè¯ï¼šå¯ç”¨èº«ä»½éªŒè¯ï¼Œä¾‹å¦‚ä½¿ç”¨Kerberosï¼Œä»¥é˜²æ­¢æ”»å‡»è€…å†’å……åŸŸç”¨æˆ·è¿›è¡Œæ”»å‡»ã€‚6. å®šæœŸå®¡è®¡ï¼šå®šæœŸå®¡è®¡DCä¹‹é—´çš„é€šä¿¡ï¼Œä»¥åŠåŸŸç”¨æˆ·çš„æ´»åŠ¨ï¼Œä»¥å‘ç°å¯èƒ½çš„æ”»å‡»è¡Œä¸ºã€‚</code></pre><h1 id="ç›¸å…³è¡¥å……"><a href="#ç›¸å…³è¡¥å……" class="headerlink" title="ç›¸å…³è¡¥å……"></a>ç›¸å…³è¡¥å……</h1><h2 id="åŸŸæ§åˆ¶å™¨"><a href="#åŸŸæ§åˆ¶å™¨" class="headerlink" title="åŸŸæ§åˆ¶å™¨"></a>åŸŸæ§åˆ¶å™¨</h2><p>åŸŸæ§åˆ¶å™¨ï¼ˆDomain Controllerï¼ŒDCï¼‰æ˜¯ä¸€å°æœåŠ¡å™¨ï¼Œç®¡ç†ç½‘ç»œå’Œèº«ä»½å®‰å…¨ï¼Œæœ‰æ•ˆåœ°å……å½“ç”¨æˆ·éªŒè¯å’Œæˆæƒè¿›å…¥åŸŸå†… IT èµ„æºçš„é—¨å«ã€‚åŸŸæ§åˆ¶å™¨åœ¨å¾®è½¯ç›®å½•æœåŠ¡æœ¯è¯­ä¸­å°¤å…¶é‡è¦ï¼Œå®ƒæ˜¯ä¸€å°è®¡ç®—æœºï¼Œå­˜å‚¨å’Œç®¡ç†åŸŸå†…çš„ç”¨æˆ·å’Œè®¡ç®—æœºä¿¡æ¯ï¼Œä»¥åŠç½‘ç»œä¸Šçš„å…¶ä»–ä¿¡æ¯ã€‚å®ƒè´Ÿè´£ä¸ºåŸŸå†…çš„ç”¨æˆ·å’Œè®¡ç®—æœºæä¾›èº«ä»½éªŒè¯å’ŒæˆæƒæœåŠ¡ï¼Œå¹¶ç»´æŠ¤åŸŸå†…çš„å®‰å…¨æ€§ã€‚</p><h2 id="Kerberos"><a href="#Kerberos" class="headerlink" title="Kerberos"></a>Kerberos</h2><p>Kerberosæ˜¯ä¸€ç§ç½‘ç»œè®¤è¯åè®®ï¼Œç”¨äºåœ¨ç½‘ç»œä¸ŠéªŒè¯ç”¨æˆ·çš„èº«ä»½ã€‚å®ƒä½¿ç”¨ä¸€ç§ç§°ä¸ºâ€œç¥¨æ®â€çš„æ¦‚å¿µæ¥å®ç°èº«ä»½éªŒè¯ï¼Œå…¶ä¸­åŒ…å«ç”¨æˆ·çš„èº«ä»½ä¿¡æ¯å’ŒæœåŠ¡å™¨çš„èº«ä»½ä¿¡æ¯ã€‚å½“ç”¨æˆ·è¯·æ±‚è®¿é—®æœåŠ¡å™¨æ—¶ï¼Œå®ƒä¼šå‘ç¥¨æ®å‘è¡Œæœºï¼ˆKDCï¼‰å‘é€è¯·æ±‚ï¼Œè¯·æ±‚ä¸€ä¸ªç¥¨æ®ã€‚KDCä¼šæ ¹æ®ç”¨æˆ·çš„èº«ä»½ä¿¡æ¯å’ŒæœåŠ¡å™¨çš„èº«ä»½ä¿¡æ¯ç”Ÿæˆä¸€ä¸ªç¥¨æ®ï¼Œå¹¶å°†å…¶å‘é€ç»™ç”¨æˆ·ã€‚ç”¨æˆ·å°†ç¥¨æ®å‘é€ç»™æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨ä¼šéªŒè¯ç¥¨æ®çš„æœ‰æ•ˆæ€§ï¼Œå¹¶æ ¹æ®ç¥¨æ®ä¸­çš„ä¿¡æ¯æˆäºˆç”¨æˆ·è®¿é—®æƒé™ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> OS </category>
          
          <category> Windows </category>
          
          <category> å®‰å…¨ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>windbg åˆ†æå®æˆ˜</title>
      <link href="/OS/Windows/Windbg/%E5%88%86%E6%9E%90%E5%AE%9E%E6%88%98/"/>
      <url>/OS/Windows/Windbg/%E5%88%86%E6%9E%90%E5%AE%9E%E6%88%98/</url>
      
        <content type="html"><![CDATA[<h1 id="Process-è¾“å‡º"><a href="#Process-è¾“å‡º" class="headerlink" title="!Process è¾“å‡º"></a>!Process è¾“å‡º</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br></pre></td><td class="code"><pre><span class="line">1: kd&gt; !process fffffa800c5c8060 3</span><br><span class="line">PROCESS fffffa800c5c8060</span><br><span class="line">    SessionId: 0  Cid: 06fc    Peb: 7fffffd4000  ParentCid: 025c</span><br><span class="line">    DirBase: 1f8dfb000  ObjectTable: fffff8a0020a44e0  HandleCount: 281.</span><br><span class="line">    Image: svchost.exe</span><br><span class="line">    VadRoot fffffa800c5c8570 Vads 128 Clone 0 Private 2532. Modified 992. Locked 0.</span><br><span class="line">    DeviceMap fffff8a001b400b0</span><br><span class="line">    Token                             fffff8a0020ac060</span><br><span class="line">    ElapsedTime                       00:06:27.486</span><br><span class="line">    UserTime                          00:00:00.046</span><br><span class="line">    KernelTime                        00:00:00.093</span><br><span class="line">    QuotaPoolUsage[PagedPool]         94704</span><br><span class="line">    QuotaPoolUsage[NonPagedPool]      32760</span><br><span class="line">    Working Set Sizes (now,min,max)  (4303, 50, 345) (17212KB, 200KB, 1380KB)</span><br><span class="line">    PeakWorkingSetSize                4717</span><br><span class="line">    VirtualSize                       57 Mb</span><br><span class="line">    PeakVirtualSize                   57 Mb</span><br><span class="line">    PageFaultCount                    6769</span><br><span class="line">    MemoryPriority                    BACKGROUND</span><br><span class="line">    BasePriority                      8</span><br><span class="line">    CommitCharge                      2766</span><br><span class="line"></span><br><span class="line">        THREAD fffffa800c5d0060  Cid 06fc.0700  Teb: 000007fffffde000 Win32Thread: fffff900c075cc10 WAIT: (UserRequest) UserMode Non-Alertable</span><br><span class="line">            fffffa800c3d96a0  SynchronizationEvent</span><br><span class="line"></span><br><span class="line">        THREAD fffffa800c482060  Cid 06fc.0704  Teb: 000007fffffdc000 Win32Thread: 0000000000000000 WAIT: (UserRequest) UserMode Alertable</span><br><span class="line">            fffffa800c471060  SynchronizationTimer</span><br><span class="line">            fffffa800c42d200  SynchronizationTimer</span><br><span class="line">            fffffa800c467680  SynchronizationEvent</span><br><span class="line">            fffffa800c48b440  SynchronizationEvent</span><br><span class="line">            fffffa800c47f1f0  SynchronizationEvent</span><br><span class="line">            fffffa800c534060  SynchronizationEvent</span><br><span class="line">            fffffa800c556060  SynchronizationEvent</span><br><span class="line">            fffffa800c5212f0  SynchronizationEvent</span><br><span class="line">            fffffa800c5213f0  SynchronizationEvent</span><br><span class="line">            fffffa800c41f5d0  SynchronizationTimer</span><br><span class="line">            fffffa800c4595d0  SynchronizationTimer</span><br><span class="line">            fffffa800c592240  SynchronizationEvent</span><br><span class="line">            fffffa800c593b00  ProcessObject</span><br><span class="line">            fffffa800c459550  SynchronizationEvent</span><br><span class="line">            fffffa800c59b400  SynchronizationEvent</span><br><span class="line">            fffffa800c3f6810  SynchronizationEvent</span><br><span class="line">            fffffa800c5a1120  SynchronizationEvent</span><br><span class="line">            fffffa800c5b5120  SynchronizationEvent</span><br><span class="line">            fffffa800c482610  SynchronizationTimer</span><br><span class="line">            fffffa800c466060  SynchronizationEvent</span><br><span class="line">            fffffa800c59b060  SynchronizationEvent</span><br><span class="line">            fffffa800c3ec2d0  SynchronizationEvent</span><br><span class="line">            fffffa800c466240  SynchronizationEvent</span><br><span class="line"></span><br><span class="line">        THREAD fffffa800c4ad370  Cid 06fc.0708  Teb: 000007fffffda000 Win32Thread: fffff900c07cac10 WAIT: (UserRequest) UserMode Non-Alertable</span><br><span class="line">            fffffa800cbdf3e0  SynchronizationEvent</span><br><span class="line"></span><br><span class="line">        THREAD fffffa800c4a2060  Cid 06fc.0714  Teb: 000007fffff9e000 Win32Thread: 0000000000000000 WAIT: (UserRequest) UserMode Non-Alertable</span><br><span class="line">            fffffa800c4a9110  NotificationEvent</span><br><span class="line"></span><br><span class="line">        THREAD fffffa800c537370  Cid 06fc.0718  Teb: 000007fffff9c000 Win32Thread: 0000000000000000 WAIT: (UserRequest) UserMode Non-Alertable</span><br><span class="line">            fffffa80075eb840  NotificationEvent</span><br><span class="line"></span><br><span class="line">        THREAD fffffa800c54c370  Cid 06fc.0724  Teb: 000007fffff9a000 Win32Thread: 0000000000000000 WAIT: (UserRequest) UserMode Non-Alertable</span><br><span class="line">            fffffa800c556140  NotificationEvent</span><br><span class="line"></span><br><span class="line">        THREAD fffffa800c54a060  Cid 06fc.072c  Teb: 000007fffffd6000 Win32Thread: 0000000000000000 WAIT: (UserRequest) UserMode Non-Alertable</span><br><span class="line">            fffffa800c5386b0  SynchronizationEvent</span><br><span class="line">            fffffa800c521370  NotificationEvent</span><br><span class="line">            fffffa800c521140  NotificationEvent</span><br><span class="line">            fffffa800c54a5b0  NotificationEvent</span><br><span class="line">            fffffa800c543760  NotificationEvent</span><br><span class="line"></span><br><span class="line">        THREAD fffffa800c51e060  Cid 06fc.0734  Teb: 000007fffff96000 Win32Thread: 0000000000000000 WAIT: (UserRequest) UserMode Non-Alertable</span><br><span class="line">            fffffa800b2f8600  SynchronizationEvent</span><br><span class="line">            fffffa800c5341d0  SynchronizationEvent</span><br><span class="line">            fffffa800c556620  SynchronizationEvent</span><br><span class="line">            fffffa800c583780  SynchronizationEvent</span><br><span class="line">            fffffa800c5ce280  SynchronizationEvent</span><br><span class="line">            fffffa800cbcf660  SynchronizationEvent</span><br><span class="line"></span><br><span class="line">        THREAD fffffa800c41e380  Cid 06fc.0754  Teb: 000007fffff94000 Win32Thread: 0000000000000000 WAIT: (WrLpcReply) UserMode Non-Alertable</span><br><span class="line">            fffffa800c41e748  Semaphore Limit 0x1</span><br><span class="line"></span><br><span class="line">        THREAD fffffa800c41f060  Cid 06fc.075c  Teb: 000007fffff90000 Win32Thread: 0000000000000000 WAIT: (WrQueue) UserMode Alertable</span><br><span class="line">            fffffa800c5b53c0  QueueObject</span><br><span class="line"></span><br><span class="line">        THREAD fffffa800c466300  Cid 06fc.0760  Teb: 000007fffff8e000 Win32Thread: 0000000000000000 WAIT: (UserRequest) UserMode Alertable</span><br><span class="line">            fffffa800c3ec060  SynchronizationEvent</span><br><span class="line"></span><br><span class="line">        THREAD fffffa800c461060  Cid 06fc.0764  Teb: 000007fffff8c000 Win32Thread: 0000000000000000 WAIT: (UserRequest) UserMode Non-Alertable</span><br><span class="line">            fffffa800c41f790  SynchronizationEvent</span><br><span class="line">            fffffa800c41f810  NotificationEvent</span><br><span class="line"></span><br><span class="line">        THREAD fffffa8007c92060  Cid 06fc.00a0  Teb: 000007fffffd8000 Win32Thread: 0000000000000000 WAIT: (WrQueue) UserMode Alertable</span><br><span class="line">            fffffa800c3d9500  QueueObject</span><br><span class="line"></span><br><span class="line">        THREAD fffffa800780e640  Cid 06fc.19f0  Teb: 000007fffff98000 Win32Thread: 0000000000000000 WAIT: (WrQueue) UserMode Alertable</span><br><span class="line">            fffffa800c3d9500  QueueObject</span><br><span class="line"></span><br><span class="line">        THREAD fffffa80078fe650  Cid 06fc.1010  Teb: 000007fffff92000 Win32Thread: 0000000000000000 WAIT: (WrQueue) UserMode Alertable</span><br><span class="line">            fffffa800c3d9500  QueueObject</span><br><span class="line"></span><br><span class="line">        THREAD fffffa8007ebdb50  Cid 06fc.12e4  Teb: 000007fffff8a000 Win32Thread: 0000000000000000 WAIT: (UserRequest) UserMode Non-Alertable</span><br><span class="line">            fffffa800d8a88c0  SynchronizationEvent</span><br><span class="line"></span><br><span class="line">        THREAD fffffa8008228b50  Cid 06fc.0e3c  Teb: 000007fffff88000 Win32Thread: 0000000000000000 WAIT: (WrQueue) UserMode Alertable</span><br><span class="line">            fffffa800c3d9500  QueueObject</span><br><span class="line"></span><br><span class="line">        THREAD fffffa8007800b50  Cid 06fc.0440  Teb: 000007fffff86000 Win32Thread: 0000000000000000 WAIT: (WrQueue) UserMode Alertable</span><br><span class="line">            fffffa800c3d9500  QueueObject</span><br></pre></td></tr></table></figure><p>è¿™æ˜¯Windows Debuggerï¼ˆWinDbgï¼‰ä¸­<code>!process</code>å‘½ä»¤çš„è¾“å‡ºï¼Œæä¾›äº†å…³äºç‰¹å®šè¿›ç¨‹çš„ä¿¡æ¯ã€‚<br>ç¬¬ä¸€è¡Œæ˜¾ç¤ºäº†è¿›ç¨‹çš„IDï¼Œå³<code>fffffa800c5c8060</code>ã€‚ç¬¬äºŒè¡Œæ˜¾ç¤ºäº†è¿›ç¨‹çš„ä¼šè¯IDï¼Œå³<code>0</code>ã€‚ç¬¬ä¸‰è¡Œæ˜¾ç¤ºäº†è°ƒç”¨è¿›ç¨‹çš„IDï¼Œå³<code>025c</code>ã€‚<br>ç¬¬å››è¡Œæ˜¾ç¤ºäº†è¿›ç¨‹åœ¨å†…å­˜ä¸­çš„åŸºåœ°å€ï¼Œå³<code>1f8dfb000</code>ã€‚ç¬¬äº”è¡Œæ˜¾ç¤ºäº†è¿›ç¨‹çš„å¯¹è±¡è¡¨ï¼Œå³<code>ffff8a0020a44e0</code>ã€‚ç¬¬å…­è¡Œæ˜¾ç¤ºäº†è¿›ç¨‹çš„å¥æŸ„æ•°ï¼Œå³<code>281</code>ã€‚<br>ç¬¬ä¸ƒè¡Œæ˜¾ç¤ºäº†è¿›ç¨‹çš„å›¾åƒï¼Œå³<code>svchost.exe</code>ã€‚ç¬¬å…«è¡Œæ˜¾ç¤ºäº†è¿›ç¨‹çš„è™šæ‹Ÿåœ°å€æ ¹ï¼Œå³<code>ffffa800c5c8570</code>ã€‚ç¬¬ä¹è¡Œæ˜¾ç¤ºäº†è¿›ç¨‹ä¸­çš„VADï¼ˆè™šæ‹Ÿåœ°å€ç›®å½•ï¼‰æ•°ï¼Œå³<code>128</code>ã€‚ç¬¬åè¡Œæ˜¾ç¤ºäº†è¿›ç¨‹æ˜¯å¦ä¸ºå…‹éš†è¿›ç¨‹ï¼Œå³<code>0</code>ã€‚ç¬¬åä¸€è¡Œæ˜¾ç¤ºäº†è¿›ç¨‹æ˜¯å¦ä¸ºç§æœ‰è¿›ç¨‹ï¼Œå³<code>2532</code>ã€‚ç¬¬åäºŒè¡Œæ˜¾ç¤ºäº†è¿›ç¨‹çš„ä¿®æ”¹è®¡æ•°ï¼Œå³<code>992</code>ã€‚ç¬¬åä¸‰è¡Œæ˜¾ç¤ºäº†è¿›ç¨‹çš„é”å®šè®¡æ•°ï¼Œå³<code>0</code>ã€‚<br>ç¬¬åå››è¡Œæ˜¾ç¤ºäº†è¿›ç¨‹çš„è®¾å¤‡æ˜ å°„ï¼Œå³<code>ffff8a001b400b0</code>ã€‚ç¬¬åäº”è¡Œæ˜¾ç¤ºäº†è¿›ç¨‹çš„ä»¤ç‰Œï¼Œå³<code>ffff8a0020ac060</code>ã€‚ç¬¬åå…­è¡Œæ˜¾ç¤ºäº†è¿›ç¨‹çš„è¿è¡Œæ—¶é—´ï¼Œå³<code>00:06:27.486</code>ã€‚ç¬¬åä¸ƒè¡Œæ˜¾ç¤ºäº†è¿›ç¨‹çš„ç”¨æˆ·æ—¶é—´ï¼Œå³<code>00:00:00.046</code>ã€‚ç¬¬åå…«è¡Œæ˜¾ç¤ºäº†è¿›ç¨‹çš„å†…æ ¸æ—¶é—´ï¼Œå³<code>00:00:00.093</code>ã€‚ç¬¬åä¹è¡Œæ˜¾ç¤ºäº†è¿›ç¨‹çš„é…é¢æ± ä½¿ç”¨æƒ…å†µï¼Œå³<code>94704</code>ç”¨äºé¡µé¢æ± å’Œ<code>32760</code>ç”¨äºéé¡µé¢æ± ã€‚ç¬¬äºŒåè¡Œæ˜¾ç¤ºäº†è¿›ç¨‹çš„å·¥ä½œé›†å¤§å°ï¼Œå³<code>4303</code>ç”¨äºç°åœ¨ã€<code>50</code>ç”¨äºæœ€å°å’Œ<code>345</code>ç”¨äºæœ€å¤§ã€‚ç¬¬äºŒåä¸€è¡Œæ˜¾ç¤ºäº†è¿›ç¨‹çš„å³°å€¼å·¥ä½œé›†å¤§å°ï¼Œå³<code>4717</code>ã€‚ç¬¬äºŒåäºŒè¡Œæ˜¾ç¤ºäº†è¿›ç¨‹çš„è™šæ‹Ÿå¤§å°ï¼Œå³<code>57 MB</code>ã€‚ç¬¬äºŒåä¸‰è¡Œæ˜¾ç¤ºäº†è¿›ç¨‹çš„å³°å€¼è™šæ‹Ÿå¤§å°ï¼Œä¹Ÿæ˜¯<code>57 MB</code>ã€‚ç¬¬äºŒåå››è¡Œæ˜¾ç¤ºäº†è¿›ç¨‹çš„é¡µé¢æ•…éšœæ¬¡æ•°ï¼Œå³<code>6769</code>ã€‚ç¬¬äºŒåäº”è¡Œæ˜¾ç¤ºäº†è¿›ç¨‹çš„å†…å­˜ä¼˜å…ˆçº§ï¼Œå³<code>BACKGROUND</code>ã€‚ç¬¬äºŒåå…­è¡Œæ˜¾ç¤ºäº†è¿›ç¨‹çš„åŸºæœ¬ä¼˜å…ˆçº§ï¼Œå³<code>8</code>ã€‚ç¬¬äºŒåä¸ƒè¡Œæ˜¾ç¤ºäº†è¿›ç¨‹çš„æäº¤é‡ï¼Œå³<code>2766</code>ã€‚<br>æœ€åä¸€éƒ¨åˆ†è¾“å‡ºæ˜¾ç¤ºäº†è¿›ç¨‹çš„çº¿ç¨‹ã€‚æ¯ä¸ªçº¿ç¨‹éƒ½ç”¨ä¸€è¡Œè¡¨ç¤ºï¼ŒåŒ…æ‹¬çº¿ç¨‹IDã€Cidï¼ˆè¿æ¥IDï¼‰ã€Tebï¼ˆçº¿ç¨‹ç¯å¢ƒå—ï¼‰å’Œç­‰å¾…ç±»å‹å’Œç­‰å¾…çš„å¯¹è±¡ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> OS </category>
          
          <category> Windows </category>
          
          <category> Windbg </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>windowsè¿›ç¨‹é—´é€šä¿¡æ•´ç†</title>
      <link href="/OS/Windows/IPC/windows%E8%BF%9B%E7%A8%8B%E9%97%B4%E9%80%9A%E4%BF%A1/"/>
      <url>/OS/Windows/IPC/windows%E8%BF%9B%E7%A8%8B%E9%97%B4%E9%80%9A%E4%BF%A1/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æ¦‚è¿°ï¼šwindowsè¿›ç¨‹é—´é€šä¿¡çš„å„ç§æ–¹å¼</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">graph LR</span><br><span class="line"></span><br><span class="line">A(windowsè¿›ç¨‹é—´é€šä¿¡) --&gt; B[&quot;ç®¡é“(pipe)&quot;]</span><br><span class="line">A --&gt; C[&quot;é‚®ä»¶æ§½(Mailslots)&quot;]</span><br><span class="line">A --&gt; D[&quot;æ–‡ä»¶æ˜ å°„(fileMapping)&quot;]</span><br><span class="line">A --&gt; E[&quot;ä¿¡å·é‡(Semaphore)&quot;]</span><br><span class="line">A --&gt; F[&quot;ä¿¡å·(signal)&quot;]</span><br><span class="line">A --&gt; G[&quot;å¥—æ¥å­—(Socket)&quot;]</span><br><span class="line">A --&gt; H[&quot;åŠ¨æ€åº“(dll)&quot;]</span><br><span class="line">A --&gt; I[&quot;ç»„ä»¶å¯¹è±¡æ¨¡å‹(COM)&quot;]</span><br><span class="line"></span><br><span class="line">B --&gt; B1[&quot;åŒ¿åç®¡é“(Anonymous pipe)&quot;]</span><br><span class="line">B --&gt; B2[&quot;å‘½åç®¡é“(named pipe)&quot;]</span><br><span class="line"></span><br><span class="line">D --&gt; D1[&quot;å…±äº«å†…å­˜(shared memory)&quot;]</span><br><span class="line"></span><br><span class="line">F --&gt; F1[&quot;windowsæ²¡æœ‰ä¿¡å·è¿™ä¸ªæ¦‚å¿µï¼Œä½†æ˜¯ä¼šæä¾›ç±»ä¼¼åŠŸèƒ½çš„apiï¼Œæ¯”å¦‚æ€æ­»è¿›ç¨‹ã€‚linuxä¸‹çš„killä¿¡å·ï¼Œwindowsä¸‹æä¾›TerminateProcess&quot;]</span><br><span class="line"></span><br><span class="line">H --&gt; H1[&quot;åœ°å€æ— å…³ä»£ç ï¼šä¸¤ä¸ªè¿›ç¨‹æ— æ³•é€šè¿‡åŒä¸€ä¸ªdllè¿›è¡Œæ•°æ®äº¤æ¢&quot;]</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> OS </category>
          
          <category> Windows </category>
          
          <category> IPC </category>
          
      </categories>
      
      
        <tags>
            
            <tag> IPC </tag>
            
            <tag> windows </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Win32å¤šçº¿ç¨‹â€”â€”çº¿ç¨‹åŒæ­¥ä¹‹ä¿¡å·é‡ï¼ˆSemaphoresï¼‰</title>
      <link href="/OS/Windows/%E5%A4%9A%E7%BA%BF%E7%A8%8B/%E7%BA%BF%E7%A8%8B%E5%90%8C%E6%AD%A5%E4%B9%8B%E4%BF%A1%E5%8F%B7%E9%87%8FSeamphorse/"/>
      <url>/OS/Windows/%E5%A4%9A%E7%BA%BF%E7%A8%8B/%E7%BA%BF%E7%A8%8B%E5%90%8C%E6%AD%A5%E4%B9%8B%E4%BF%A1%E5%8F%B7%E9%87%8FSeamphorse/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æ¦‚è¿°ï¼š semaphores çš„è¯´æ˜å’Œä½¿ç”¨</p><p>å¾®è½¯å®˜æ–¹æ–‡æ¡£ï¼š </p><ul><li><a href="https://learn.microsoft.com/en-us/windows/win32/sync/semaphore-objects">Semaphore Objects - Win32 apps | Microsoft Learn</a></li></ul></blockquote><p>Semaphoresæ˜¯è§£å†³å„ç§ producer&#x2F;consumeré—®é¢˜çš„å…³é”®è¦ç´ ã€‚è¿™ç§é—®é¢˜ä¼šå­˜æœ‰ä¸€ä¸ªç¼“å†²åŒºï¼Œå¯èƒ½åœ¨åŒä¸€æ—¶é—´å†…è¢«è¯»å‡ºæ•°æ®æˆ–è¢«å†™å…¥æ•°æ®ã€‚</p><p>ç†è®ºå¯ä»¥è¯æ˜,mutex æ˜¯ semaphore çš„ä¸€ç§é€€åŒ–ã€‚å¦‚æœä½ äº§ç”Ÿä¸€ä¸ªsemaphore å¹¶ä»¤æœ€å¤§å€¼ä¸º1,é‚£å°±æ˜¯ä¸€ä¸ª mutexã€‚ä¹Ÿå› æ­¤, mutexåˆå¸¸è¢«ç§°ä¸ºbinary semaphoreã€‚åœ¨è®¸å¤šç³»ç»Ÿä¸­, semaphores å¸¸è¢«ä½¿ç”¨, å› ä¸º mutexeså¯èƒ½å¹¶ä¸å­˜åœ¨ã€‚åœ¨Win32ä¸­semaphores è¢«ä½¿ç”¨çš„æƒ…å†µå°±å°‘å¾—å¤šï¼Œå› ä¸º mutex å­˜åœ¨çš„ç¼˜æ•…ã€‚</p><h2 id="åˆ›å»º-semaphore"><a href="#åˆ›å»º-semaphore" class="headerlink" title="åˆ›å»º semaphore"></a>åˆ›å»º semaphore</h2><p><a href="https://learn.microsoft.com/zh-CN/windows/win32/api/winbase/nf-winbase-createsemaphorea">createSemaphoreA å‡½æ•° (winbase.h) - Win32 apps | Microsoft Learn</a></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">HANDLE <span class="title">CreateSemaphore</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">LPSECURITY_ATTRIBUTES lpAttributes,<span class="comment">// å®‰å…¨å±æ€§, å¯ä»¥è®¾ç½®NULL</span></span></span></span><br><span class="line"><span class="params"><span class="function">LONG lInitialCount,<span class="comment">// åˆå§‹å€¼, [0, lMaximumCount]</span></span></span></span><br><span class="line"><span class="params"><span class="function">LONG lMaximumCount,<span class="comment">// æœ€å¤§å€¼, è¿™ä¹Ÿå°±æ˜¯åœ¨åŒä¸€æ—¶é—´å†…èƒ½å¤Ÿé”ä½semaphoreä¹‹çº¿ç¨‹çš„æœ€å¤šä¸ªæ•°</span></span></span></span><br><span class="line"><span class="params"><span class="function">LPCTSTR lpName<span class="comment">// åç§°, å…¶ä»–çº¿ç¨‹æˆ–è¿›ç¨‹å¯ä»¥æ ¹æ®åç§°å¼•ç”¨è¯¥ä¿¡å·é‡; NULLåˆ™äº§ç”Ÿæ— åç§°ä¿¡å·é‡</span></span></span></span><br><span class="line"><span class="params"><span class="function">)</span></span>;</span><br></pre></td></tr></table></figure><p>å¦‚æœæˆåŠŸå°±ä¼ å›ä¸€ä¸ªhandle, å¦åˆ™ä¼ å›NULL. ä¸è®ºå“ªä¸€ç§æƒ…å†µ,GetLastError()éƒ½ä¼šä¼ å›ä¸€ä¸ªåˆç†çš„ç»“æœ. å¦‚æœæŒ‡å®šçš„semaphoreåç§°å·²ç»å­˜åœ¨,åˆ™è¯¥å‡½æ•°è¿˜æ˜¯æˆåŠŸçš„, GetLastError()ä¼šä¼ å›ERROR_ALREADY_EXISTS.</p><h2 id="è·å¾—-semaphore"><a href="#è·å¾—-semaphore" class="headerlink" title="è·å¾— semaphore"></a>è·å¾— semaphore</h2><blockquote><p> é€šè¿‡ä¿¡å·é‡åï¼Œè·å¾—ä¿¡å·é‡å¯¹è±¡å¥æŸ„</p><p><a href="https://learn.microsoft.com/en-us/windows/win32/api/synchapi/nf-synchapi-opensemaphorew">OpenSemaphoreW function (synchapi.h) - Win32 apps | Microsoft Learn</a></p></blockquote><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">HANDLE <span class="title">OpenSemaphoreW</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">  [in] DWORD   dwDesiredAccess, <span class="comment">// è®¿é—®æƒé™ï¼Œä¸€èˆ¬ä¼ å…¥ SEMAPHORE_ALL_ACCESS </span></span></span></span><br><span class="line"><span class="params"><span class="function">  [in] BOOL    bInheritHandle, <span class="comment">// ä¿¡å·é‡å¥æŸ„ç»§æ‰¿æ€§ï¼Œä¸€èˆ¬ä¼ å…¥TRUEå³å¯</span></span></span></span><br><span class="line"><span class="params"><span class="function">  [in] LPCWSTR lpName <span class="comment">// åç§°ï¼Œä¸åŒè¿›ç¨‹ä¸­ä¸ªçº¿ç¨‹å¯ä»¥é€šè¿‡åç§°æ¥ç¡®ä¿å®ƒä»¬è®¿é—®åŒä¸€ä¸ªä¿¡å·é‡</span></span></span></span><br><span class="line"><span class="params"><span class="function">)</span></span>;</span><br></pre></td></tr></table></figure><p>semaphoreçš„ç°å€¼ä»£è¡¨çš„æ„ä¹‰æ˜¯ç›®å‰å¯ç”¨çš„èµ„æºæ•°, å¦‚æœsemaphoreçš„ç°å€¼ä¸º1, è¡¨ç¤ºè¿˜æœ‰ä¸€ä¸ªé”å®šåŠ¨ä½œå¯ä»¥æˆåŠŸ; å¦‚æœç°å€¼ä¸º5, å°±è¡¨ç¤ºè¿˜æœ‰äº”ä¸ªé”å®šåŠ¨ä½œå¯ä»¥æˆåŠŸ. æ¯å½“ä¸€ä¸ªé”å®šåŠ¨ä½œæˆåŠŸ, semaphoreçš„ç°å€¼å°±ä¼šå‡1. ä½ å¯ä»¥ä½¿ç”¨ä»»ä½•ä¸€ç§ <code>Wait()</code> å‡½æ•°(ä¾‹å¦‚ <code>WaitForSingleObject()</code> )è¦æ±‚é”å®šä¸€ä¸ªsemaphore. å› æ­¤, å¦‚æœsemaphoreçš„ç°å€¼ä¸ä¸º0, <code>Wait()</code> å‡½æ•°ä¼šç«‹åˆ»è¿”å›.<br>ä¸€ä¸ªçº¿ç¨‹å¯ä»¥åå¤è°ƒç”¨ <code>Wait()</code> å‡½æ•°ä»¥äº§ç”Ÿæ–°çš„é”å®š.  è¿™å’Œmutexç»ä¸ç›¸åŒï¼šæ‹¥æœ‰mutexçš„çº¿ç¨‹ä¸è®ºå†è°ƒç”¨å¤šå°‘æ¬¡ <code>Wait()</code> å‡½æ•°, ä¹Ÿä¸ä¼šè¢«é˜»å¡ä½ã€‚<br>ä¸€æ—¦semaphoreçš„ç°å€¼é™åˆ°0, å°±è¡¨ç¤ºèµ„æºå·²ç»è€—å°½. æ­¤æ—¶, ä»»ä½•çº¿ç¨‹å¦‚æœè°ƒç”¨Waitâ€¦()å‡½æ•°, å¿…ç„¶è¦ç­‰å¾…, ç›´åˆ°æŸä¸ªé”å®šè¢«è§£é™¤ä¸ºæ­¢.</p><h2 id="è§£é™¤-semaphore"><a href="#è§£é™¤-semaphore" class="headerlink" title="è§£é™¤ semaphore"></a>è§£é™¤ semaphore</h2><blockquote><p> é‡Šæ”¾ä¿¡å·é‡</p><p> <a href="https://learn.microsoft.com/en-us/windows/win32/api/synchapi/nf-synchapi-releasesemaphore">ReleaseSemaphore function (synchapi.h) - Win32 apps | Microsoft Learn</a></p><p> æ³¨ï¼šä¼ å…¥çš„å¥æŸ„å¿…é¡»æœ‰ <strong>SEMAPHORE_MODIFY_STATE</strong>  æƒé™ï¼Œå‚è€ƒ <a href="https://learn.microsoft.com/zh-cn/windows/win32/sync/synchronization-object-security-and-access-rights">åŒæ­¥å¯¹è±¡å®‰å…¨æ€§å’Œè®¿é—®æƒé™ - Win32 apps | Microsoft Learn</a></p></blockquote><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">BOOL <span class="title">ReleaseSemaphore</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">  [in]            HANDLE hSemaphore, <span class="comment">// ä¿¡å·é‡çš„å¥æŸ„</span></span></span></span><br><span class="line"><span class="params"><span class="function">  [in]            LONG   lReleaseCount, <span class="comment">// è¡¨ç¤ºå¢åŠ ä¸ªæ•°ï¼Œå¿…é¡»å¤§äº0ä¸”ä¸è¶…è¿‡æœ€å¤§èµ„æºæ•°é‡</span></span></span></span><br><span class="line"><span class="params"><span class="function">  [out, optional] LPLONG lpPreviousCount <span class="comment">// å¯ä»¥ç”¨æ¥ä¼ å‡ºå…ˆå‰çš„èµ„æºè®¡æ•°ï¼Œè®¾ä¸ºNULLè¡¨ç¤ºä¸éœ€è¦ä¼ å‡º</span></span></span></span><br><span class="line"><span class="params"><span class="function">)</span></span>;</span><br></pre></td></tr></table></figure><p>ReleaseSemaphoreå‡½æ•°ä¼šè§¦å‘WaitForSingleObjectå‡½æ•°ã€‚ReleaseSemaphoreå‡½æ•°ç”¨äºé‡Šæ”¾ä¸€ä¸ªä¿¡å·é‡å¯¹è±¡çš„è®¡æ•°ï¼Œè€ŒWaitForSingleObjectå‡½æ•°ç”¨äºç­‰å¾…ä¸€ä¸ªä¿¡å·é‡å¯¹è±¡çš„è®¡æ•°ã€‚å½“ReleaseSemaphoreå‡½æ•°è¢«è°ƒç”¨æ—¶ï¼Œå®ƒä¼šå°†ä¿¡å·é‡å¯¹è±¡çš„è®¡æ•°å¢åŠ ï¼Œå¹¶ä¸”å¦‚æœæœ‰ä¸€ä¸ªçº¿ç¨‹æ­£åœ¨ç­‰å¾…è¿™ä¸ªä¿¡å·é‡å¯¹è±¡çš„è®¡æ•°ï¼Œé‚£ä¹ˆè¿™ä¸ªçº¿ç¨‹å°±ä¼šè¢«å”¤é†’ã€‚å› æ­¤ï¼ŒReleaseSemaphoreå‡½æ•°ä¼šè§¦å‘WaitForSingleObjectå‡½æ•°ã€‚</p><h2 id="è¡¥å……è¯´æ˜"><a href="#è¡¥å……è¯´æ˜" class="headerlink" title="è¡¥å……è¯´æ˜"></a>è¡¥å……è¯´æ˜</h2><h3 id="ä¸ºä»€ä¹ˆ-semaphore-è¦æœ‰ä¸€ä¸ªåˆå€¼"><a href="#ä¸ºä»€ä¹ˆ-semaphore-è¦æœ‰ä¸€ä¸ªåˆå€¼" class="headerlink" title="ä¸ºä»€ä¹ˆ semaphore è¦æœ‰ä¸€ä¸ªåˆå€¼"></a>ä¸ºä»€ä¹ˆ semaphore è¦æœ‰ä¸€ä¸ªåˆå€¼</h3><p>CreateSemaphore()çš„ç¬¬äºŒä¸ªå‚æ•°æ˜¯lInitialCount, å®ƒçš„å­˜åœ¨ç†ç”±å’ŒCreateMutex()çš„bInitialOwnerå‚æ•°çš„å­˜åœ¨ç†ç”±æ˜¯ä¸€æ ·çš„. å¦‚æœä½ æŠŠåˆå€¼è®¾å®šä¸º0, ä½ çš„çº¿ç¨‹å°±å¯ä»¥åœ¨äº§ç”Ÿsemaphoreä¹‹åè¿›è¡Œæ‰€æœ‰å¿…è¦çš„åˆå§‹åŒ–å·¥ä½œ. å¾…åˆå§‹åŒ–å·¥ä½œå®Œæˆå, è°ƒç”¨ ReleaseSemaphore()å°±å¯ä»¥æŠŠç°å€¼å¢åŠ åˆ°å…¶æœ€å¤§å¯èƒ½å€¼.</p><h2 id="Demo-å¤šçº¿ç¨‹åŒæ­¥"><a href="#Demo-å¤šçº¿ç¨‹åŒæ­¥" class="headerlink" title="Demo å¤šçº¿ç¨‹åŒæ­¥"></a>Demo å¤šçº¿ç¨‹åŒæ­¥</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;process.h&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;windows.h&gt;</span>  </span></span><br><span class="line"><span class="type">long</span> g_nNum;</span><br><span class="line"><span class="function"><span class="type">unsigned</span> <span class="type">int</span> __stdcall <span class="title">Fun</span><span class="params">(<span class="type">void</span>* pPM)</span></span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> THREAD_NUM = <span class="number">10</span>;</span><br><span class="line"><span class="comment">//ä¿¡å·é‡ä¸å…³é”®æ®µ  </span></span><br><span class="line">HANDLE            g_hThreadParameter;</span><br><span class="line">CRITICAL_SECTION  g_csThreadCode;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;     ç»å…¸çº¿ç¨‹åŒæ­¥ ä¿¡å·é‡Semaphore\n&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot; -- by MoreWindows( http://blog.csdn.net/MoreWindows ) --\n\n&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//åˆå§‹åŒ–ä¿¡å·é‡å’Œå…³é”®æ®µ  </span></span><br><span class="line">    g_hThreadParameter = <span class="built_in">CreateSemaphore</span>(<span class="literal">NULL</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="literal">NULL</span>);<span class="comment">//å½“å‰0ä¸ªèµ„æºï¼Œæœ€å¤§å…è®¸1ä¸ªåŒæ—¶è®¿é—®  </span></span><br><span class="line">    <span class="built_in">InitializeCriticalSection</span>(&amp;g_csThreadCode);</span><br><span class="line"></span><br><span class="line">    HANDLE  handle[THREAD_NUM];</span><br><span class="line">    g_nNum = <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (i &lt; THREAD_NUM)</span><br><span class="line">    &#123;</span><br><span class="line">        handle[i] = (HANDLE)_beginthreadex(<span class="literal">NULL</span>, <span class="number">0</span>, Fun, &amp;i, <span class="number">0</span>, <span class="literal">NULL</span>);</span><br><span class="line">        <span class="built_in">WaitForSingleObject</span>(g_hThreadParameter, INFINITE);<span class="comment">//ç­‰å¾…ä¿¡å·é‡&gt;0  </span></span><br><span class="line">        ++i;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">WaitForMultipleObjects</span>(THREAD_NUM, handle, TRUE, INFINITE);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//é”€æ¯ä¿¡å·é‡å’Œå…³é”®æ®µ  </span></span><br><span class="line">    <span class="built_in">DeleteCriticalSection</span>(&amp;g_csThreadCode);</span><br><span class="line">    <span class="built_in">CloseHandle</span>(g_hThreadParameter);</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; THREAD_NUM; i++)</span><br><span class="line">        <span class="built_in">CloseHandle</span>(handle[i]);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">unsigned</span> <span class="type">int</span> __stdcall <span class="title">Fun</span><span class="params">(<span class="type">void</span>* pPM)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> nThreadNum = *(<span class="type">int</span>*)pPM;</span><br><span class="line">    <span class="built_in">ReleaseSemaphore</span>(g_hThreadParameter, <span class="number">1</span>, <span class="literal">NULL</span>);<span class="comment">//ä¿¡å·é‡++  </span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">Sleep</span>(<span class="number">50</span>);<span class="comment">//some work should to do  </span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">EnterCriticalSection</span>(&amp;g_csThreadCode);</span><br><span class="line">    ++g_nNum;</span><br><span class="line">    <span class="built_in">Sleep</span>(<span class="number">0</span>);<span class="comment">//some work should to do  </span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;çº¿ç¨‹ç¼–å·ä¸º%d  å…¨å±€èµ„æºå€¼ä¸º%d\n&quot;</span>, nThreadNum, g_nNum);</span><br><span class="line">    <span class="built_in">LeaveCriticalSection</span>(&amp;g_csThreadCode);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> OS </category>
          
          <category> Windows </category>
          
          <category> å¤šçº¿ç¨‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> windows </tag>
            
            <tag> å¤šçº¿ç¨‹ </tag>
            
            <tag> semaphores </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>TEB (çº¿ç¨‹ç¯å¢ƒå—)</title>
      <link href="/OS/Windows/Windbg/TEB(%E7%BA%BF%E7%A8%8B%E7%8E%AF%E5%A2%83%E5%9D%97)/"/>
      <url>/OS/Windows/Windbg/TEB(%E7%BA%BF%E7%A8%8B%E7%8E%AF%E5%A2%83%E5%9D%97)/</url>
      
        <content type="html"><![CDATA[<blockquote><p> æ¦‚è¿°ï¼šTEBï¼ˆThread <a href="https://so.csdn.net/so/search?q=Environment&spm=1001.2101.3001.7020">Environment</a> Blockï¼Œçº¿ç¨‹ç¯å¢ƒå—ï¼‰æŒ‡çº¿ç¨‹ç¯å¢ƒå—ï¼Œè¯¥ç»“æ„ä½“åŒ…å«è¿›ç¨‹ä¸­è¿è¡Œçº¿ç¨‹çš„å„ç§ä¿¡æ¯ï¼Œè¿›ç¨‹ä¸­çš„æ¯ä¸ªçº¿ç¨‹éƒ½å¯¹åº”ç€ä¸€ä¸ªTEBç»“æ„ä½“ã€‚ä¸åŒOSä¸­TEBç»“æ„ä½“çš„å½¢æ€ç•¥å¾®æœ‰ç‚¹ä¸åŒ</p><p> å¾®è½¯å®˜æ–¹æ–‡æ¡£ï¼š</p><ul><li><p><a href="https://learn.microsoft.com/zh-cn/windows/win32/debug/thread-environment-block--debugging-notes-">çº¿ç¨‹ç¯å¢ƒå— (è°ƒè¯•è¯´æ˜) - Win32 apps | Microsoft Learn</a></p></li><li><p><a href="https://learn.microsoft.com/zh-cn/windows/win32/api/winternl/ns-winternl-teb">TEB (winternl.h) - Win32 apps | Microsoft Learn</a></p></li></ul></blockquote><p>[toc]</p><h1 id="TEB-ç»“æ„ä½“å®šä¹‰"><a href="#TEB-ç»“æ„ä½“å®šä¹‰" class="headerlink" title="TEB ç»“æ„ä½“å®šä¹‰"></a>TEB ç»“æ„ä½“å®šä¹‰</h1><h2 id="MSDN"><a href="#MSDN" class="headerlink" title="MSDN"></a>MSDN</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span> <span class="title class_">_TEB</span> &#123;</span><br><span class="line">  PVOID Reserved1[<span class="number">12</span>];</span><br><span class="line">  PPEB  ProcessEnvironmentBlock;</span><br><span class="line">  PVOID Reserved2[<span class="number">399</span>];</span><br><span class="line">  BYTE  Reserved3[<span class="number">1952</span>];</span><br><span class="line">  PVOID TlsSlots[<span class="number">64</span>];</span><br><span class="line">  BYTE  Reserved4[<span class="number">8</span>];</span><br><span class="line">  PVOID Reserved5[<span class="number">26</span>];</span><br><span class="line">  PVOID ReservedForOle;</span><br><span class="line">  PVOID Reserved6[<span class="number">4</span>];</span><br><span class="line">  PVOID TlsExpansionSlots;</span><br><span class="line">&#125; TEB, *PTEB;</span><br></pre></td></tr></table></figure><h2 id="Windows-XP-SP3"><a href="#Windows-XP-SP3" class="headerlink" title="Windows XP SP3"></a>Windows XP SP3</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line">nt!_TEB</span><br><span class="line">   +<span class="number">0x000</span> NtTib            : _NT_TIB</span><br><span class="line">   +<span class="number">0x01c</span> EnvironmentPointer : Ptr32 Void</span><br><span class="line">   +<span class="number">0x020</span> ClientId         : _CLIENT_ID</span><br><span class="line">   +<span class="number">0x028</span> ActiveRpcHandle  : Ptr32 Void</span><br><span class="line">   +<span class="number">0x02c</span> ThreadLocalStoragePointer : Ptr32 Void</span><br><span class="line">   +<span class="number">0x030</span> ProcessEnvironmentBlock : Ptr32 _PEB</span><br><span class="line">   +<span class="number">0x034</span> LastErrorValue   : Uint4B</span><br><span class="line">   +<span class="number">0x038</span> CountOfOwnedCriticalSections : Uint4B</span><br><span class="line">   +<span class="number">0x03c</span> CsrClientThread  : Ptr32 Void</span><br><span class="line">   +<span class="number">0x040</span> Win32ThreadInfo  : Ptr32 Void</span><br><span class="line">   +<span class="number">0x044</span> User32Reserved   : [<span class="number">26</span>] Uint4B</span><br><span class="line">   +<span class="number">0x0ac</span> UserReserved     : [<span class="number">5</span>] Uint4B</span><br><span class="line">   +<span class="number">0x0c0</span> WOW32Reserved    : Ptr32 Void</span><br><span class="line">   +<span class="number">0x0c4</span> CurrentLocale    : Uint4B</span><br><span class="line">   +<span class="number">0x0c8</span> FpSoftwareStatusRegister : Uint4B</span><br><span class="line">   +<span class="number">0x0cc</span> SystemReserved1  : [<span class="number">54</span>] Ptr32 Void</span><br><span class="line">   +<span class="number">0x1a4</span> ExceptionCode    : Int4B</span><br><span class="line">   +<span class="number">0x1a8</span> ActivationContextStack : _ACTIVATION_CONTEXT_STACK</span><br><span class="line">   +<span class="number">0x1bc</span> SpareBytes1      : [<span class="number">24</span>] UChar</span><br><span class="line">   +<span class="number">0x1d4</span> GdiTebBatch      : _GDI_TEB_BATCH</span><br><span class="line">   +<span class="number">0x6b4</span> RealClientId     : _CLIENT_ID</span><br><span class="line">   +<span class="number">0x6bc</span> GdiCachedProcessHandle : Ptr32 Void</span><br><span class="line">   +<span class="number">0x6c0</span> GdiClientPID     : Uint4B</span><br><span class="line">   +<span class="number">0x6c4</span> GdiClientTID     : Uint4B</span><br><span class="line">   +<span class="number">0x6c8</span> GdiThreadLocalInfo : Ptr32 Void</span><br><span class="line">   +<span class="number">0x6cc</span> Win32ClientInfo  : [<span class="number">62</span>] Uint4B</span><br><span class="line">   +<span class="number">0x7c4</span> glDispatchTable  : [<span class="number">233</span>] Ptr32 Void</span><br><span class="line">   +<span class="number">0xb68</span> glReserved1      : [<span class="number">29</span>] Uint4B</span><br><span class="line">   +<span class="number">0xbdc</span> glReserved2      : Ptr32 Void</span><br><span class="line">   +<span class="number">0xbe0</span> glSectionInfo    : Ptr32 Void</span><br><span class="line">   +<span class="number">0xbe4</span> glSection        : Ptr32 Void</span><br><span class="line">   +<span class="number">0xbe8</span> glTable          : Ptr32 Void</span><br><span class="line">   +<span class="number">0xbec</span> glCurrentRC      : Ptr32 Void</span><br><span class="line">   +<span class="number">0xbf0</span> glContext        : Ptr32 Void</span><br><span class="line">   +<span class="number">0xbf4</span> LastStatusValue  : Uint4B</span><br><span class="line">   +<span class="number">0xbf8</span> StaticUnicodeString : _UNICODE_STRING</span><br><span class="line">   +<span class="number">0xc00</span> StaticUnicodeBuffer : [<span class="number">261</span>] Uint2B</span><br><span class="line">   +<span class="number">0xe0c</span> DeallocationStack : Ptr32 Void</span><br><span class="line">   +<span class="number">0xe10</span> TlsSlots         : [<span class="number">64</span>] Ptr32 Void</span><br><span class="line">   +<span class="number">0xf10</span> TlsLinks         : _LIST_ENTRY</span><br><span class="line">   +<span class="number">0xf18</span> Vdm              : Ptr32 Void</span><br><span class="line">   +<span class="number">0xf1c</span> ReservedForNtRpc : Ptr32 Void</span><br><span class="line">   +<span class="number">0xf20</span> DbgSsReserved    : [<span class="number">2</span>] Ptr32 Void</span><br><span class="line">   +<span class="number">0xf28</span> HardErrorsAreDisabled : Uint4B</span><br><span class="line">   +<span class="number">0xf2c</span> Instrumentation  : [<span class="number">16</span>] Ptr32 Void</span><br><span class="line">   +<span class="number">0xf6c</span> WinSockData      : Ptr32 Void</span><br><span class="line">   +<span class="number">0xf70</span> GdiBatchCount    : Uint4B</span><br><span class="line">   +<span class="number">0xf74</span> InDbgPrint       : UChar</span><br><span class="line">   +<span class="number">0xf75</span> FreeStackOnTermination : UChar</span><br><span class="line">   +<span class="number">0xf76</span> HasFiberData     : UChar</span><br><span class="line">   +<span class="number">0xf77</span> IdealProcessor   : UChar</span><br><span class="line">   +<span class="number">0xf78</span> Spare3           : Uint4B</span><br><span class="line">   +<span class="number">0xf7c</span> ReservedForPerf  : Ptr32 Void</span><br><span class="line">   +<span class="number">0xf80</span> ReservedForOle   : Ptr32 Void</span><br><span class="line">   +<span class="number">0xf84</span> WaitingOnLoaderLock : Uint4B</span><br><span class="line">   +<span class="number">0xf88</span> Wx86Thread       : _Wx86ThreadState</span><br><span class="line">   +<span class="number">0xf94</span> TlsExpansionSlots : Ptr32 Ptr32 Void</span><br><span class="line">   +<span class="number">0xf98</span> ImpersonationLocale : Uint4B</span><br><span class="line">   +<span class="number">0xf9c</span> IsImpersonating  : Uint4B</span><br><span class="line">   +<span class="number">0xfa0</span> NlsCache         : Ptr32 Void</span><br><span class="line">   +<span class="number">0xfa4</span> pShimData        : Ptr32 Void</span><br><span class="line">   +<span class="number">0xfa8</span> HeapVirtualAffinity : Uint4B</span><br><span class="line">   +<span class="number">0xfac</span> CurrentTransactionHandle : Ptr32 Void</span><br><span class="line">   +<span class="number">0xfb0</span> ActiveFrame      : Ptr32 _TEB_ACTIVE_FRAME</span><br><span class="line">   +<span class="number">0xfb4</span> SafeThunkCall    : UChar</span><br><span class="line">   +<span class="number">0xfb5</span> BooleanSpare     : [<span class="number">3</span>] UChar</span><br></pre></td></tr></table></figure><h3 id="å„å˜é‡è¯´æ˜"><a href="#å„å˜é‡è¯´æ˜" class="headerlink" title="å„å˜é‡è¯´æ˜"></a>å„å˜é‡è¯´æ˜</h3><p>â€œ_TEBâ€ æ˜¯ä¸€ä¸ªWindowså†…æ ¸å¯¹è±¡çš„ç»“æ„ä½“ï¼Œç”¨äºæè¿°ä¸€ä¸ªçº¿ç¨‹çš„çŠ¶æ€å’Œä¿¡æ¯ã€‚å®ƒåŒ…å«äº†çº¿ç¨‹çš„ä¸€äº›åŸºæœ¬ä¿¡æ¯ï¼Œä¾‹å¦‚çº¿ç¨‹çš„å †æ ˆæŒ‡é’ˆã€ç¯å¢ƒå˜é‡ã€å †æ ˆå¤§å°ç­‰ã€‚<br>ä»¥ä¸‹æ˜¯ â€œ_TEBâ€ ç»“æ„ä½“ä¸­çš„ä¸€äº›å¸¸ç”¨å˜é‡åŠå…¶è¯´æ˜ï¼š</p><ul><li>*NtTeb: æŒ‡å‘å½“å‰çº¿ç¨‹çš„ â€œ_TEBâ€ ç»“æ„ä½“çš„æŒ‡é’ˆã€‚</li><li>StackBase: æŒ‡å‘çº¿ç¨‹çš„å †æ ˆèµ·å§‹åœ°å€ã€‚</li><li>StackLimit: æŒ‡å‘çº¿ç¨‹çš„å †æ ˆç»“æŸåœ°å€ã€‚</li><li>StackReserveSize: æŒ‡å®šçº¿ç¨‹çš„å †æ ˆå¤§å°ã€‚</li><li>EnvironmentPointer: æŒ‡å‘çº¿ç¨‹çš„ç¯å¢ƒå˜é‡çš„æŒ‡é’ˆã€‚</li><li>ThreadLocalStoragePointer: æŒ‡å‘çº¿ç¨‹çš„çº¿ç¨‹å±€éƒ¨å­˜å‚¨ç©ºé—´çš„æŒ‡é’ˆã€‚</li><li>*ProcessEnvironmentBlock: æŒ‡å‘è¿›ç¨‹çš„ç¯å¢ƒå˜é‡çš„æŒ‡é’ˆã€‚</li><li>BasePriority: æŒ‡å®šçº¿ç¨‹çš„ä¼˜å…ˆçº§ã€‚</li><li>UniqueThreadID: æŒ‡å®šçº¿ç¨‹çš„å”¯ä¸€IDã€‚</li><li>IdealProcessor: æŒ‡å®šçº¿ç¨‹çš„ç†æƒ³å¤„ç†å™¨ã€‚</li><li>IdealProcessorGroup: æŒ‡å®šçº¿ç¨‹çš„ç†æƒ³å¤„ç†å™¨ç»„ã€‚</li><li>ThreadLocale: æŒ‡å®šçº¿ç¨‹çš„æœ¬åœ°åŒ–ä¿¡æ¯ã€‚</li><li>ActiveStackAddress: æŒ‡å‘çº¿ç¨‹å½“å‰æ´»è·ƒçš„å †æ ˆåœ°å€ã€‚</li><li>TlsSlots: æŒ‡å‘çº¿ç¨‹çš„çº¿ç¨‹å±€éƒ¨å­˜å‚¨ç©ºé—´çš„æŒ‡é’ˆæ•°ç»„ã€‚</li><li>TlsExpansionSlots: æŒ‡å®šçº¿ç¨‹çš„çº¿ç¨‹å±€éƒ¨å­˜å‚¨ç©ºé—´çš„æ‰©å±•æ§½æ•°é‡ã€‚</li><li>Reserved: ä¿ç•™å­—æ®µã€‚</li><li>Reserved2: ä¿ç•™å­—æ®µã€‚</li></ul><p>è¿™äº›å˜é‡å¯ä»¥ç”¨äºæŸ¥çœ‹å’Œåˆ†æçº¿ç¨‹çš„çŠ¶æ€å’Œä¿¡æ¯ã€‚æ‚¨å¯ä»¥ä½¿ç”¨Windowsè°ƒè¯•å·¥å…·ä¸­çš„ â€œdtâ€ å‘½ä»¤æŸ¥çœ‹è¿™äº›å˜é‡çš„å€¼å’Œç›¸å…³ä¿¡æ¯ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">dt</span> nt!_TEB &lt;teb_object&gt;</span><br></pre></td></tr></table></figure><p>å…¶ä¸­ â€œ<teb_object>â€œ æ˜¯çº¿ç¨‹çš„ â€œ_TEBâ€ ç»“æ„ä½“çš„å®ä¾‹ï¼Œä¾‹å¦‚ â€œfffffa800cd85b00â€ã€‚è¿™å°†æ˜¾ç¤ºçº¿ç¨‹çš„åç§°ã€å¤§å°ã€å½“å‰çº¿ç¨‹ç­‰ä¿¡æ¯ã€‚æ‚¨å¯ä»¥æ ¹æ®éœ€è¦è¿›ä¸€æ­¥æŸ¥çœ‹å’Œåˆ†æè¿™äº›ä¿¡æ¯ã€‚</p><h2 id="é‡è¦æˆå‘˜"><a href="#é‡è¦æˆå‘˜" class="headerlink" title="é‡è¦æˆå‘˜"></a>é‡è¦æˆå‘˜</h2><p>åœ¨ç”¨æˆ·æ¨¡å¼è°ƒè¯•ä¸­èµ·ç€é‡è¦ä½œç”¨çš„æˆå‘˜æœ‰2ä¸ªï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">+<span class="number">0x000</span> NtTib            : _NT_TIB</span><br><span class="line">â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦</span><br><span class="line">+<span class="number">0x030</span> ProcessEnvironmentBlock : Ptr32 _PEB</span><br></pre></td></tr></table></figure><h2 id="ProcessEnvironmentBlockæˆå‘˜ï¼š"><a href="#ProcessEnvironmentBlockæˆå‘˜ï¼š" class="headerlink" title="ProcessEnvironmentBlockæˆå‘˜ï¼š"></a>ProcessEnvironmentBlockæˆå‘˜ï¼š</h2><p>å…ˆçœ‹Offset 30å¤„çš„ProcessEnvironmentBlockæˆå‘˜ï¼Œå®ƒæ˜¯æŒ‡å‘PEBï¼ˆProcess Environment Blockï¼Œè¿›ç¨‹ç¯å¢ƒå—ï¼‰ç»“æ„ä½“æŒ‡é’ˆã€‚PEBæ˜¯è¿›ç¨‹ç¯å¢ƒå—ï¼Œæ¯ä¸ªè¿›ç¨‹å¯¹åº”1ä¸ªPEBç»“æ„ä½“ã€‚</p><h2 id="NtTibæˆå‘˜"><a href="#NtTibæˆå‘˜" class="headerlink" title="NtTibæˆå‘˜"></a>NtTibæˆå‘˜</h2><p><code>TEB</code>ç»“æ„ä½“çš„ç¬¬ä¸€ä¸ªæˆå‘˜ä¸º<code>_NT_TIB</code>ç»“æ„ä½“ï¼ˆ<code>TIB</code>æ˜¯Thread Information Blockçš„ç®€ç§°ï¼Œæ„ä¸ºâ€œçº¿ç¨‹ä¿¡æ¯å—â€ï¼‰ï¼Œ<code>_NT_TIB</code>ç»“æ„ä½“çš„å®šä¹‰å¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span> <span class="title class_">_NT_TIB</span>          <span class="comment">//sizeof  1ch</span></span><br><span class="line">&#123;</span><br><span class="line"> <span class="number">00</span>h   <span class="keyword">struct</span> <span class="title class_">_EXCEPTION_REGISTRATION_RECORD</span>  *ExceptionList;          <span class="comment">//SEHé“¾å…¥å£</span></span><br><span class="line"> <span class="number">04</span>h   PVOID                            StackBase;              <span class="comment">//å †æ ˆåŸºå€</span></span><br><span class="line"> <span class="number">08</span>h   PVOID                            StackLimit;             <span class="comment">//å †æ ˆå¤§å°</span></span><br><span class="line"> <span class="number">0</span>ch   PVOID                            SubSystemTib;</span><br><span class="line">       <span class="keyword">union</span> &#123;</span><br><span class="line">           PVOID                FiberData;</span><br><span class="line"> <span class="number">10</span>h       DWORD                Version;</span><br><span class="line">       &#125;;</span><br><span class="line"> <span class="number">14</span>h   PVOID                            ArbitraryUserPointer;</span><br><span class="line"> <span class="number">18</span>h   <span class="keyword">struct</span> <span class="title class_">_NT_TIB</span>                   *Self;                  <span class="comment">//æœ¬NT_TIBç»“æ„è‡ªèº«çš„çº¿æ€§åœ°å€</span></span><br><span class="line">&#125;NT_TIB;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">typedef</span>     NT_TIB      *PNT_TIB;</span><br></pre></td></tr></table></figure><p>ExceptionListæˆå‘˜æŒ‡å‘_EXCEPTION_REGISTRATION_RECORDç»“æ„ä½“ç»„æˆçš„é“¾è¡¨ï¼Œå®ƒç”¨äºWindows OSçš„SEHã€‚Selfæˆå‘˜æ˜¯_NT_TIBç»“æ„ä½“çš„è‡ªå¼•ç”¨æŒ‡é’ˆï¼Œä¹Ÿæ˜¯TEBç»“æ„ä½“çš„æŒ‡é’ˆï¼ˆå› ä¸ºTEBç»“æ„ä½“çš„ç¬¬ä¸€ä¸ªæˆå‘˜å°±æ˜¯_NT_TIBç»“æ„ä½“ï¼‰ã€‚é‚£ä¹ˆæˆ‘ä»¬å¦‚ä½•åœ¨ç”¨æˆ·æ¨¡å¼ä¸‹è®¿é—®åˆ°TEBç»“æ„ä½“å‘¢ï¼Ÿåªæœ‰è®¿é—®å®ƒæ‰èƒ½ä½¿ç”¨ç›¸åº”ä¿¡æ¯ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> OS </category>
          
          <category> Windows </category>
          
          <category> Windbg </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>windbgå†…æ ¸è°ƒè¯•</title>
      <link href="/OS/Windows/Windbg/windbg%E5%86%85%E6%A0%B8%E8%B0%83%E8%AF%95/"/>
      <url>/OS/Windows/Windbg/windbg%E5%86%85%E6%A0%B8%E8%B0%83%E8%AF%95/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æ¦‚è¿°ï¼š</p><p>å‚è€ƒï¼š<a href="https://learn.microsoft.com/zh-cn/windows-hardware/drivers/debugger/getting-started-with-windbg--kernel-mode-">WinDbg (å†…æ ¸æ¨¡å¼) å…¥é—¨ - Windows drivers | Microsoft Learn</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> OS </category>
          
          <category> Windows </category>
          
          <category> Windbg </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>netsh æŠ“åŒ…</title>
      <link href="/%E7%BD%91%E7%BB%9C%E9%80%9A%E4%BF%A1/%E6%8A%93%E5%8C%85/netsh%E6%8A%93%E5%8C%85/"/>
      <url>/%E7%BD%91%E7%BB%9C%E9%80%9A%E4%BF%A1/%E6%8A%93%E5%8C%85/netsh%E6%8A%93%E5%8C%85/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æ¦‚è¿°ï¼šwindowsç³»ç»Ÿä¸‹ä½¿ç”¨ <code>netsh</code> å‘½ä»¤æŠ“åŒ…</p></blockquote><h1 id="æ­¥éª¤"><a href="#æ­¥éª¤" class="headerlink" title="æ­¥éª¤"></a>æ­¥éª¤</h1><h2 id="1-æ‰“å¼€ç®¡ç†å‘˜å‘½ä»¤è¡Œ"><a href="#1-æ‰“å¼€ç®¡ç†å‘˜å‘½ä»¤è¡Œ" class="headerlink" title="1 æ‰“å¼€ç®¡ç†å‘˜å‘½ä»¤è¡Œ"></a>1 æ‰“å¼€ç®¡ç†å‘˜å‘½ä»¤è¡Œ</h2><p><kbd>win</kbd> -&gt; è¾“å…¥ <code>cmd</code> -&gt; <kbd>ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œ</kbd></p><img src="images/netsh%E6%8A%93%E5%8C%85/image-20230825214027512.png" alt="image-20230825214027512" style="zoom:67%;" /><h2 id="2-è¾“å…¥ä»¥ä¸‹å‘½ä»¤å¼€å§‹æŠ“åŒ…"><a href="#2-è¾“å…¥ä»¥ä¸‹å‘½ä»¤å¼€å§‹æŠ“åŒ…" class="headerlink" title="2 è¾“å…¥ä»¥ä¸‹å‘½ä»¤å¼€å§‹æŠ“åŒ…"></a>2 è¾“å…¥ä»¥ä¸‹å‘½ä»¤å¼€å§‹æŠ“åŒ…</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">netsh trace start capture=YES report=YES persistent=YES</span><br></pre></td></tr></table></figure><p>è¿è¡ŒæˆåŠŸåï¼Œå¦‚ä¸‹æ‰€ç¤º</p><div class="tag-plugin image"><div class="image-bg"><img src="images/netsh%E6%8A%93%E5%8C%85/image-20230825214252186.png"/></div></div><h2 id="3-è¿è¡Œ-é›¶ä¿¡ä»»å®¢æˆ·ç«¯"><a href="#3-è¿è¡Œ-é›¶ä¿¡ä»»å®¢æˆ·ç«¯" class="headerlink" title="3 è¿è¡Œ é›¶ä¿¡ä»»å®¢æˆ·ç«¯"></a>3 è¿è¡Œ é›¶ä¿¡ä»»å®¢æˆ·ç«¯</h2><p>è¿æ¥tacï¼Œç›´åˆ°å¤ç°æ•²é—¨å¤±è´¥æƒ…å†µ</p><h2 id="4-å›åˆ°-cmd-ç•Œé¢"><a href="#4-å›åˆ°-cmd-ç•Œé¢" class="headerlink" title="4 å›åˆ° cmd ç•Œé¢"></a>4 å›åˆ° <code>cmd</code> ç•Œé¢</h2><p>é”®å…¥å¹¶å›è½¦ä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">netsh trace stop</span><br></pre></td></tr></table></figure><p>å›è½¦åç¨ç­‰ä¸€ä¼šï¼Œç•Œé¢ä¸Šä¼šè¾“å‡ºä»¥ä¸‹å†…å®¹ï¼Œå°†å›¾ç¤ºè·¯å¾„æ–‡ä»¶æ”¶é›†å³å¯ã€‚</p><div class="tag-plugin image"><div class="image-bg"><img src="images/netsh%E6%8A%93%E5%8C%85/image-20230825214449220.png"/></div></div><h2 id="æ ¼å¼è½¬æ¢"><a href="#æ ¼å¼è½¬æ¢" class="headerlink" title="æ ¼å¼è½¬æ¢"></a>æ ¼å¼è½¬æ¢</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">etl2pcapng.exe nettrace.etl nettrace.cap</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ç½‘ç»œé€šä¿¡ </category>
          
          <category> æŠ“åŒ… </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>windows socketä½¿ç”¨Demo</title>
      <link href="/%E7%BD%91%E7%BB%9C%E9%80%9A%E4%BF%A1/SOCKET%E7%9B%B8%E5%85%B3%E5%87%BD%E6%95%B0/"/>
      <url>/%E7%BD%91%E7%BB%9C%E9%80%9A%E4%BF%A1/SOCKET%E7%9B%B8%E5%85%B3%E5%87%BD%E6%95%B0/</url>
      
        <content type="html"><![CDATA[<blockquote><p>Windows ä¸‹ Socketç›¸å…³</p></blockquote><h1 id="ä¸€ã€socket-å‡½æ•°-åˆ›å»ºå¥—æ¥å­—"><a href="#ä¸€ã€socket-å‡½æ•°-åˆ›å»ºå¥—æ¥å­—" class="headerlink" title="ä¸€ã€socket()å‡½æ•° åˆ›å»ºå¥—æ¥å­—"></a>ä¸€ã€socket()å‡½æ•° åˆ›å»ºå¥—æ¥å­—</h1><p>Windows ä¸æŠŠå¥—æ¥å­—ä½œä¸ºæ™®é€šæ–‡ä»¶å¯¹å¾…ï¼Œè€Œæ˜¯è¿”å› SOCKET ç±»å‹çš„å¥æŸ„ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">SOCKET <span class="title">socket</span><span class="params">(<span class="type">int</span> af, <span class="type">int</span> type, <span class="type">int</span> protocol)</span></span>;</span><br></pre></td></tr></table></figure><p>å®ä¾‹ï¼Œåˆ›å»ºTCPå¥—æ¥å­—ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SOCKET sock = <span class="built_in">socket</span>(AF_INET, SOCK_STREAM, <span class="number">0</span>);  <span class="comment">//åˆ›å»ºTCPå¥—æ¥å­—</span></span><br></pre></td></tr></table></figure><h1 id="äºŒã€bind"><a href="#äºŒã€bind" class="headerlink" title="äºŒã€bind()"></a>äºŒã€bind()</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">bind</span><span class="params">(SOCKET sock, <span class="type">const</span> <span class="keyword">struct</span> sockaddr *addr, <span class="type">int</span> addrlen)</span></span>;  <span class="comment">//Windows</span></span><br></pre></td></tr></table></figure><p><code>sock </code>ä¸º socket æ–‡ä»¶æè¿°ç¬¦<br><code>addr </code>ä¸º sockaddr ç»“æ„ä½“å˜é‡çš„æŒ‡é’ˆ<br><code>addrlen </code>ä¸º addr å˜é‡çš„å¤§å°ï¼Œå¯ç”± sizeof() è®¡ç®—å¾—å‡ºã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»ºå¥—æ¥å­—</span></span><br><span class="line">SOCKET servSock = <span class="built_in">socket</span>(PF_INET,SOCK_STREAM,IPPROTO_TCP);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç»‘å®šå¥—æ¥å­—</span></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">sockaddr_in</span> sockAddr;</span><br><span class="line"><span class="built_in">memset</span> (&amp;sockAddr, <span class="number">0</span>, <span class="built_in">sizeof</span>(sockAddr)); <span class="comment">// æ¯ä¸ªå¥—æ¥å­—éƒ½ç”¨0å¡«å……</span></span><br><span class="line">sockAddr.sin_family = PF_INET; <span class="comment">// ä½¿ç”¨IPv4åœ°å€</span></span><br><span class="line">sockAddr.sin_addr.s_addr = <span class="built_in">inet_addr</span>(<span class="string">&quot;127.0.0.1&quot;</span>);</span><br><span class="line">sockAddr.sin_port = <span class="built_in">htons</span>(<span class="number">1234</span>);<span class="comment">// ç«¯å£</span></span><br><span class="line"><span class="built_in">bind</span>(servSock, (SOCKADDR*)&amp;sockAddr, <span class="built_in">sizeof</span>(SOCKADDR));</span><br></pre></td></tr></table></figure><h4 id="sockaddrç»“æ„ä½“"><a href="#sockaddrç»“æ„ä½“" class="headerlink" title="sockaddrç»“æ„ä½“"></a>sockaddrç»“æ„ä½“</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">sockaddr</span>&#123;</span><br><span class="line">    <span class="type">sa_family_t</span>  sin_family;   <span class="comment">//åœ°å€æ—ï¼ˆAddress Familyï¼‰ï¼Œä¹Ÿå°±æ˜¯åœ°å€ç±»å‹</span></span><br><span class="line">    <span class="type">char</span>         sa_data[<span class="number">14</span>];  <span class="comment">//IPåœ°å€å’Œç«¯å£å·</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h4 id="sockaddr-in-ç»“æ„ä½“"><a href="#sockaddr-in-ç»“æ„ä½“" class="headerlink" title="sockaddr_in ç»“æ„ä½“"></a>sockaddr_in ç»“æ„ä½“</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">sockaddr_in</span>&#123;</span><br><span class="line">    <span class="type">sa_family_t</span>     sin_family;   <span class="comment">//åœ°å€æ—ï¼ˆAddress Familyï¼‰ï¼Œä¹Ÿå°±æ˜¯åœ°å€ç±»å‹</span></span><br><span class="line">    <span class="type">uint16_t</span>        sin_port;     <span class="comment">//16ä½çš„ç«¯å£å·</span></span><br><span class="line">    <span class="keyword">struct</span> <span class="title class_">in_addr</span>  sin_addr;     <span class="comment">//32ä½IPåœ°å€</span></span><br><span class="line">    <span class="type">char</span>            sin_zero[<span class="number">8</span>];  <span class="comment">//ä¸ä½¿ç”¨ï¼Œä¸€èˆ¬ç”¨0å¡«å……</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><ol><li><code>sin_family </code>å’Œ<code>socket()</code>çš„ç¬¬ä¸€ä¸ªå‚æ•°çš„å«ä¹‰ç›¸åŒï¼Œå–å€¼ä¹Ÿè¦ä¿æŒä¸€è‡´ã€‚</li><li><code>sin_prot </code>ä¸ºç«¯å£å·ã€‚uint16_t çš„é•¿åº¦ä¸ºä¸¤ä¸ªå­—èŠ‚ï¼Œç†è®ºä¸Šç«¯å£å·çš„å–å€¼èŒƒå›´ä¸º 0<del>65536ï¼Œä½† 0</del>1023 çš„ç«¯å£ä¸€èˆ¬ç”±ç³»ç»Ÿåˆ†é…ç»™ç‰¹å®šçš„æœåŠ¡ç¨‹åºï¼Œä¾‹å¦‚ Web æœåŠ¡çš„ç«¯å£å·ä¸º 80ï¼ŒFTP æœåŠ¡çš„ç«¯å£å·ä¸º 21ï¼Œæ‰€ä»¥æˆ‘ä»¬çš„ç¨‹åºè¦å°½é‡åœ¨ 1024~65536 ä¹‹é—´åˆ†é…ç«¯å£å·ã€‚ç«¯å£å·éœ€è¦ç”¨ <code>htons() </code>å‡½æ•°è½¬æ¢ï¼Œåé¢ä¼šè®²è§£ä¸ºä»€ä¹ˆã€‚</li><li><code>sin_addr </code>æ˜¯ struct in_addr ç»“æ„ä½“ç±»å‹çš„å˜é‡ï¼Œä¸‹é¢ä¼šè¯¦ç»†è®²è§£ã€‚</li><li><code>sin_zero[8]</code>æ˜¯å¤šä½™çš„8ä¸ªå­—èŠ‚ï¼Œæ²¡æœ‰ç”¨ï¼Œä¸€èˆ¬ä½¿ç”¨<code> memset()</code> å‡½æ•°å¡«å……ä¸º 0ã€‚ä¸Šé¢çš„ä»£ç ä¸­ï¼Œå…ˆç”¨ <code>memset()</code> å°†ç»“æ„ä½“çš„å…¨éƒ¨å­—èŠ‚å¡«å……ä¸º 0ï¼Œå†ç»™å‰3ä¸ªæˆå‘˜èµ‹å€¼ï¼Œå‰©ä¸‹çš„ <code>sin_zero </code>è‡ªç„¶å°±æ˜¯ 0 äº†ã€‚</li></ol><h4 id="in-addr-ç»“æ„ä½“"><a href="#in-addr-ç»“æ„ä½“" class="headerlink" title="in_addr ç»“æ„ä½“"></a>in_addr ç»“æ„ä½“</h4><p>sockaddr_in çš„ç¬¬3ä¸ªæˆå‘˜æ˜¯ in_addr ç±»å‹çš„ç»“æ„ä½“ï¼Œè¯¥ç»“æ„ä½“åªåŒ…å«ä¸€ä¸ªæˆå‘˜ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">in_addr</span>&#123;</span><br><span class="line">    <span class="type">in_addr_t</span>  s_addr;  <span class="comment">//32ä½çš„IPåœ°å€</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p><code>in_addr_t </code>åœ¨å¤´æ–‡ä»¶ &lt;netinet&#x2F;in.h&gt; ä¸­å®šä¹‰ï¼Œç­‰ä»·äº unsigned longï¼Œé•¿åº¦ä¸º4ä¸ªå­—èŠ‚ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œ<code>s_addr </code>æ˜¯ä¸€ä¸ªæ•´æ•°ï¼Œè€ŒIPåœ°å€æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œæ‰€ä»¥éœ€è¦**Â inet_addr() **å‡½æ•°è¿›è¡Œè½¬æ¢ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">unsigned</span> <span class="type">long</span> ip = <span class="built_in">inet_addr</span>(<span class="string">&quot;127.0.0.1&quot;</span>);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%ld\n&quot;</span>, ip);</span><br></pre></td></tr></table></figure><p>è¿è¡Œç»“æœï¼š<br><code>16777343</code></p><h1 id="ä¸‰ã€connect-å‡½æ•°"><a href="#ä¸‰ã€connect-å‡½æ•°" class="headerlink" title="ä¸‰ã€connect() å‡½æ•°"></a>ä¸‰ã€connect() å‡½æ•°</h1><p>å‚æ•°ä¸<code>bind()</code>ç›¸åŒã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">connect</span><span class="params">(SOCKET sock, <span class="type">const</span> <span class="keyword">struct</span> sockaddr *serv_addr, <span class="type">int</span> addrlen)</span></span>;  <span class="comment">//Windows</span></span><br></pre></td></tr></table></figure><h1 id="å››ã€listen-å‡½æ•°"><a href="#å››ã€listen-å‡½æ•°" class="headerlink" title="å››ã€listen() å‡½æ•°"></a>å››ã€listen() å‡½æ•°</h1><p>é€šè¿‡ listen() å‡½æ•°å¯ä»¥è®©å¥—æ¥å­—è¿›å…¥è¢«åŠ¨ç›‘å¬çŠ¶æ€ï¼Œå®ƒçš„åŸå‹ä¸ºï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">listen</span><span class="params">(SOCKET sock, <span class="type">int</span> backlog)</span></span>;  <span class="comment">//Windows</span></span><br></pre></td></tr></table></figure><p><code>sock </code>ä¸ºéœ€è¦è¿›å…¥ç›‘å¬çŠ¶æ€çš„å¥—æ¥å­—ï¼Œ<code>backlog </code>ä¸ºè¯·æ±‚é˜Ÿåˆ—çš„æœ€å¤§é•¿åº¦ã€‚</p><p><strong>è¢«åŠ¨ç›‘å¬ï¼š</strong>æ˜¯æŒ‡å½“æ²¡æœ‰å®¢æˆ·ç«¯è¯·æ±‚æ—¶ï¼Œå¥—æ¥å­—å¤„äºâ€œç¡çœ â€çŠ¶æ€ï¼Œåªæœ‰å½“æ¥æ”¶åˆ°å®¢æˆ·ç«¯è¯·æ±‚æ—¶ï¼Œå¥—æ¥å­—æ‰ä¼šè¢«â€œå”¤é†’â€æ¥å“åº”è¯·æ±‚ã€‚<br>å¦‚æœå°† backlog çš„å€¼è®¾ç½®ä¸º <strong>SOMAXCONN</strong>ï¼Œå°±ç”±ç³»ç»Ÿæ¥å†³å®šè¯·æ±‚é˜Ÿåˆ—é•¿åº¦ï¼Œè¿™ä¸ªå€¼ä¸€èˆ¬æ¯”è¾ƒå¤§ï¼Œå¯èƒ½æ˜¯å‡ ç™¾ï¼Œæˆ–è€…æ›´å¤šã€‚<br>å½“è¯·æ±‚é˜Ÿåˆ—æ»¡æ—¶ï¼Œå°±ä¸å†æ¥æ”¶æ–°çš„è¯·æ±‚ï¼Œå¯¹äº <strong>Linux</strong>ï¼Œå®¢æˆ·ç«¯ä¼šæ”¶åˆ° **ECONNREFUSED **é”™è¯¯ï¼Œå¯¹äº <strong>Windows</strong>ï¼Œå®¢æˆ·ç«¯ä¼šæ”¶åˆ° **WSAECONNREFUSED **é”™è¯¯ã€‚<br><strong>æ³¨æ„ï¼š</strong><code>listen()</code>åªæ˜¯è®©å¥—æ¥å­—å¤„äºç›‘å¬çŠ¶æ€ï¼Œå¹¶æ²¡æœ‰æ¥æ”¶è¯·æ±‚ã€‚æ¥æ”¶è¯·æ±‚éœ€è¦ä½¿ç”¨<code>accept()</code>å‡½æ•°ã€‚</p><h1 id="äº”ã€accept-å‡½æ•°"><a href="#äº”ã€accept-å‡½æ•°" class="headerlink" title="äº”ã€accept() å‡½æ•°"></a>äº”ã€accept() å‡½æ•°</h1><p>å½“å¥—æ¥å­—å¤„äºç›‘å¬çŠ¶æ€æ—¶ï¼Œå¯ä»¥é€šè¿‡ <code>accept()</code>å‡½æ•°æ¥æ¥æ”¶å®¢æˆ·ç«¯è¯·æ±‚ã€‚å®ƒçš„åŸå‹ä¸ºï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">SOCKET <span class="title">accept</span><span class="params">(SOCKET sock, <span class="keyword">struct</span> sockaddr *addr, <span class="type">int</span> *addrlen)</span></span>;  <span class="comment">//Windows</span></span><br></pre></td></tr></table></figure><p>å®ƒçš„å‚æ•°ä¸ listen() å’Œ connect() æ˜¯ç›¸åŒçš„ï¼š<code>sock</code>ä¸ºæœåŠ¡å™¨ç«¯å¥—æ¥å­—ï¼Œ<code>addr</code>ä¸º sockaddr_in ç»“æ„ä½“å˜é‡ï¼Œ<code>addrlen</code>ä¸ºå‚æ•° addr çš„é•¿åº¦ï¼Œå¯ç”± <code>sizeof()</code> æ±‚å¾—ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> ç½‘ç»œé€šä¿¡ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç½‘ç»œ </tag>
            
            <tag> Socket </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>IOå¤šè·¯å¤ç”¨</title>
      <link href="/%E7%BD%91%E7%BB%9C%E9%80%9A%E4%BF%A1/IO%E5%A4%9A%E8%B7%AF%E5%A4%8D%E7%94%A8/"/>
      <url>/%E7%BD%91%E7%BB%9C%E9%80%9A%E4%BF%A1/IO%E5%A4%9A%E8%B7%AF%E5%A4%8D%E7%94%A8/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æœ€è¿‘é¢è¯•ï¼Œå²—ä½æ˜¯å®‰å…¨å¼€å‘å²—ã€‚é—®äº†è¾ƒå¤šçš„ç½‘ç»œç›¸å…³å‡½æ•°ã€‚å…¶ä¸­å…³äºioå¤šè·¯å¤ç”¨çš„é—®é¢˜ï¼Œç”±äºå·¥ä½œä¸­æ¶‰åŠçš„æ¯”è¾ƒå°‘ï¼Œå›ç­”çš„ä¸€å¡Œç³Šæ¶‚ã€‚çŸ¥è€»è€Œåå‹‡ï¼Œä¸“é—¨æ•´ç†ä¸€éè®°å½•ä¸€ä¸‹è¿™ä¸ªçŸ¥è¯†ç‚¹å§</p><p>ä¸»è¦æ˜¯ä¹‹å‰è¿˜ä¸“é—¨å†™è¿‡ä¸€éç¬”è®°ç”¨æ¥è®°å½•å½“æ—¶çš„å­¦ä¹ æƒ…å†µï¼Œè¿˜å†™çš„æŒºè¯¦ç»†ï¼ï¼ï¼</p><p><a href="https://blog.csdn.net/Fuel_Ming/article/details/122931926">ã€ä¸€æ–‡ææ‡‚ã€‘FD_SETçš„ä½¿ç”¨_æ¬§æ©æ„çš„åšå®¢-CSDNåšå®¢</a></p></blockquote><p>[toc]</p><h1 id="IOå¤šè·¯å¤ç”¨"><a href="#IOå¤šè·¯å¤ç”¨" class="headerlink" title="IOå¤šè·¯å¤ç”¨"></a>IOå¤šè·¯å¤ç”¨</h1><h2 id="æ¦‚å¿µ"><a href="#æ¦‚å¿µ" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h2><p>é¡¾åæ€ä¹‰ï¼Œå°±æ˜¯å¯ä»¥å¤šä¸ªå¯ä»¥é‡å¤ä½¿ç”¨çš„ioï¼ˆè¾“å…¥\è¾“å‡ºï¼‰ã€‚</p><ul><li><p>å¤šè·¯ï¼šæ ¸å¿ƒéœ€æ±‚æ˜¯è¦ç”¨å°½å¯èƒ½å°‘çš„çº¿ç¨‹æ¥å¤„ç†å°½å¯èƒ½å¤šçš„è¿æ¥ï¼Œè¿™é‡Œçš„å¤šè·¯æ˜¯æŒ‡éœ€è¦å¤„ç†çš„ä¼—å¤šè¿æ¥ã€‚</p></li><li><p>å¤ç”¨ï¼šæ ¸å¿ƒéœ€æ±‚æ˜¯è¦æ±‚ä½¿ç”¨å°½å¯èƒ½å°‘çš„çº¿ç¨‹ï¼Œå°½å¯èƒ½å‡å°‘ç³»ç»Ÿå¼€é”€å»å¤„ç†å°½å¯èƒ½å¤šçš„è¿æ¥ï¼Œé‚£ä¹ˆè¿™ä¸ªå¤ç”¨æ˜¯æŒ‡åˆ©ç”¨æœ‰é™çš„èµ„æºã€‚ä¹Ÿå°±æ˜¯è¯´åˆ©ç”¨æœ‰é™çš„èµ„æºå»å¤„ç†å°½å¯èƒ½å¤šçš„ä»»åŠ¡ã€‚ä¾‹å¦‚ï¼šåœ¨é˜»å¡IOä¸­ï¼Œä¸€ä¸ªè¿æ¥éœ€è¦ä¸€ä¸ªçº¿ç¨‹å»å¤„ç†ï¼Œä½†æ˜¯åœ¨IOå¤šè·¯å¤ç”¨çš„æ¨¡å‹ä¸­ï¼Œåˆ™å¯ä»¥ä½¿ç”¨ä¸€ä¸ªçº¿ç¨‹å»å¤„ç†å¤šä¸ªä»»åŠ¡ã€‚</p></li></ul><p>å‚è€ƒåŠå¼•ç”¨ï¼š</p><ul><li><a href="https://devarea.com/linux-io-multiplexing-select-vs-poll-vs-epoll/#.XYD0TygzaUl">Linux â€“ IO Multiplexing â€“ Select vs Poll vs Epoll â€“ Developers Area</a></li><li><a href="https://notes.shichao.io/unp/ch6/">Chapter 6. I&#x2F;O Multiplexing: The select and poll Functions - Shichaoâ€™s Notes</a></li><li><a href="https://www.ulduzsoft.com/2014/01/select-poll-epoll-practical-difference-for-system-architects/">select &#x2F; poll &#x2F; epoll: practical difference for system architects | UlduzSoft</a></li><li><a href="https://www.bilibili.com/video/BV1qJ411w7du/?spm_id_from=333.880.my_history.page.click&vd_source=2d8da596010444663e6f18397a9e3505">ã€å¹¶å‘ã€‘IOå¤šè·¯å¤ç”¨select&#x2F;poll&#x2F;epollä»‹ç»_å“”å“©å“”å“©_bilibili</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> ç½‘ç»œé€šä¿¡ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç½‘ç»œ </tag>
            
            <tag> IOå¤ç”¨ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åŸŸåè§£æç›¸å…³ç»éªŒ</title>
      <link href="/%E7%BD%91%E7%BB%9C%E9%80%9A%E4%BF%A1/DNS/%E5%9F%9F%E5%90%8D%E8%A7%A3%E6%9E%90%E7%BB%8F%E9%AA%8C%E6%95%B4%E7%90%86/"/>
      <url>/%E7%BD%91%E7%BB%9C%E9%80%9A%E4%BF%A1/DNS/%E5%9F%9F%E5%90%8D%E8%A7%A3%E6%9E%90%E7%BB%8F%E9%AA%8C%E6%95%B4%E7%90%86/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æ•´ç†è®°å½•æ’æŸ¥ç½‘ç»œé—®é¢˜äº‹çš„åŸŸåè§£æç›¸å…³é—®é¢˜</p></blockquote><p>[toc]</p><h1 id="åŸºç¡€çŸ¥è¯†ç‚¹"><a href="#åŸºç¡€çŸ¥è¯†ç‚¹" class="headerlink" title="åŸºç¡€çŸ¥è¯†ç‚¹"></a>åŸºç¡€çŸ¥è¯†ç‚¹</h1><h2 id="A-å’Œ-AAAA"><a href="#A-å’Œ-AAAA" class="headerlink" title="A å’Œ AAAA"></a><code>A</code> å’Œ <code>AAAA</code></h2><p><code>A</code> å’Œ <code>AAAA</code> éƒ½æ˜¯DNSè®°å½•ï¼Œå®ƒä»¬çš„ä½œç”¨æ˜¯å°†åŸŸåè§£æåˆ°IPåœ°å€ã€‚å…·ä½“æ¥è¯´ï¼ŒAè®°å½•å°†åŸŸåè§£æåˆ°IPv4åœ°å€ï¼Œè€ŒAAAAè®°å½•å°†åŸŸåè§£æåˆ°IPv6åœ°å€ã€‚</p><p>å› æ­¤ï¼Œä¸»è¦çš„åŒºåˆ«åœ¨äº <code>A</code> è®°å½•ç”¨äºIPv4ï¼Œè€Œ <code>AAAA</code> è®°å½•ç”¨äºIPv6ã€‚</p><h1 id="ç›¸å…³å·¥å…·"><a href="#ç›¸å…³å·¥å…·" class="headerlink" title="ç›¸å…³å·¥å…·"></a>ç›¸å…³å·¥å…·</h1><h2 id="è®¾ç½®åŸŸåå·¥å…·"><a href="#è®¾ç½®åŸŸåå·¥å…·" class="headerlink" title="è®¾ç½®åŸŸåå·¥å…·"></a>è®¾ç½®åŸŸåå·¥å…·</h2><blockquote><p>å¸¸è§æ–¹å¼æ˜¯åœ¨ç½‘å¡çš„é…ç½®ç•Œé¢è®¾ç½® <code>dns</code> æœåŠ¡å™¨ï¼Œåœ¨é«˜çº§é¡µé¢å¯ä»¥é…ç½®å¤šä¸ª <code>DNS</code> æœåŠ¡å™¨ã€‚ä½†æ˜¯ï¼Œåœ¨ç‰¹æ®Šç¯å¢ƒï¼š</p><p>å¦‚ä½¿ç”¨ <code>netsh</code> å‘½ä»¤è®¾ç½®çš„é™æ€ <code>dns</code> æœåŠ¡å™¨ç­‰ä¸ç”¨æˆ·æ‰‹åŠ¨æ·»åŠ çš„ <code>dns</code> ä¸€æ ·æ—¶ï¼Œå¯èƒ½ä¼šå‡ºç° <code>dns</code> è§£æå¼‚å¸¸çš„é—®é¢˜ã€‚</p></blockquote><ul><li><code>quicksetdns_sec</code>å·¥å…·:<a href="https://www.appinn.com/quicksetdns/">QuickSetDNS - å¿«é€Ÿä¿®æ”¹ DNS æœåŠ¡å™¨å·¥å…· - å°ä¼—è½¯ä»¶</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> ç½‘ç»œé€šä¿¡ </category>
          
          <category> DNS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç½‘ç»œ </tag>
            
            <tag> DNS </tag>
            
            <tag> åŸŸå </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æŸ¥çœ‹æµè§ˆå™¨DNSç¼“å­˜</title>
      <link href="/%E7%BD%91%E7%BB%9C%E9%80%9A%E4%BF%A1/DNS/%E6%9F%A5%E7%9C%8B%E6%B5%8F%E8%A7%88%E5%99%A8DNS%E7%BC%93%E5%AD%98/"/>
      <url>/%E7%BD%91%E7%BB%9C%E9%80%9A%E4%BF%A1/DNS/%E6%9F%A5%E7%9C%8B%E6%B5%8F%E8%A7%88%E5%99%A8DNS%E7%BC%93%E5%AD%98/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æ¦‚è¿°ï¼šæœ¬æ–‡ä¸»è¦ä»‹ç»å¦‚ä½•åœ¨æµè§ˆå™¨æŸ¥çœ‹DNSç¼“å­˜ï¼ŒåŒæ—¶ç½—åˆ—äº†DNSæŸ¥è¯¢çš„ä¸€äº›é¡ºåº</p></blockquote><p>[toc]</p><h1 id="DNS-ç¼“å­˜ä¸è§£æ"><a href="#DNS-ç¼“å­˜ä¸è§£æ" class="headerlink" title="DNS ç¼“å­˜ä¸è§£æ"></a>DNS ç¼“å­˜ä¸è§£æ</h1><h2 id="DNS-ç¼“å­˜åˆ†ç±»"><a href="#DNS-ç¼“å­˜åˆ†ç±»" class="headerlink" title="DNS ç¼“å­˜åˆ†ç±»"></a>DNS ç¼“å­˜åˆ†ç±»</h2><h4 id="1ã€æµè§ˆå™¨ç¼“å­˜"><a href="#1ã€æµè§ˆå™¨ç¼“å­˜" class="headerlink" title="1ã€æµè§ˆå™¨ç¼“å­˜"></a>1ã€æµè§ˆå™¨ç¼“å­˜</h4><p>æµè§ˆå™¨ä¼šæ ¹æ®ä¸€å®šé¢‘ç‡ç¼“å­˜DNSè®°å½•ï¼›</p><h4 id="2ã€æœ¬åœ°DNSç¼“å­˜"><a href="#2ã€æœ¬åœ°DNSç¼“å­˜" class="headerlink" title="2ã€æœ¬åœ°DNSç¼“å­˜"></a>2ã€æœ¬åœ°DNSç¼“å­˜</h4><p>å¦‚æœæµè§ˆå™¨ç¼“å­˜ä¸­æ‰¾ä¸åˆ°è§£æè®°å½•ï¼Œå°±ä¼šå»è¯¢é—®æ“ä½œç³»ç»Ÿä¸­çš„ç¼“å­˜ï¼›</p><h4 id="3ã€æœ¬åœ°HOSTSæ–‡ä»¶"><a href="#3ã€æœ¬åœ°HOSTSæ–‡ä»¶" class="headerlink" title="3ã€æœ¬åœ°HOSTSæ–‡ä»¶"></a>3ã€æœ¬åœ°HOSTSæ–‡ä»¶</h4><p>HOSTSæ˜¯è®°å½•åŸŸåä¸IPåœ°å€ä¸€ä¸€æ˜ å°„å…³ç³»çš„æœ¬åœ°æ–‡ä»¶ï¼ŒWindowsç³»ç»Ÿä¸­ä½äº <code>C:\Windows\System32\drivers\etc</code></p><h4 id="4ã€è·¯ç”±å™¨DNSç¼“å­˜"><a href="#4ã€è·¯ç”±å™¨DNSç¼“å­˜" class="headerlink" title="4ã€è·¯ç”±å™¨DNSç¼“å­˜"></a>4ã€è·¯ç”±å™¨DNSç¼“å­˜</h4><p>æˆ‘ä»¬å¸¸ç”¨çš„è·¯ç”±å™¨ä¹Ÿå¸¦æœ‰è‡ªåŠ¨ç¼“å­˜åŠŸèƒ½ï¼Œè·¯ç”±å™¨DNSè¢«ç¯¡æ”¹ä¼šé€ æˆåŸŸååŠ«æŒï¼Œå°†è®¿é—®ç½‘å€å®šä½åˆ°å¦å¤–ä¸€ä¸ªæœåŠ¡å™¨ï¼›</p><h4 id="5ã€é€’å½’æœåŠ¡å™¨ç¼“å­˜"><a href="#5ã€é€’å½’æœåŠ¡å™¨ç¼“å­˜" class="headerlink" title="5ã€é€’å½’æœåŠ¡å™¨ç¼“å­˜"></a>5ã€é€’å½’æœåŠ¡å™¨ç¼“å­˜</h4><p>é€’å½’æœåŠ¡å™¨åœ¨å°†è§£æç»“æœå‘ŠçŸ¥å®¢æˆ·ç«¯çš„åŒæ—¶ï¼Œå°†è®°å½•ç¼“å­˜ä¸‹æ¥ï¼Œå½“ä¸‹æ¬¡è¯·æ±‚åŒä¸€ä¸ªåŸŸåæ—¶ï¼Œç›´æ¥ä¼šå°†è®°å½•è¿”å›ï¼Œè€Œæ— éœ€å†è¿›è¡Œå…¨çƒæŸ¥è¯¢ã€‚</p><h2 id="DNS-è§£æé¡ºåº"><a href="#DNS-è§£æé¡ºåº" class="headerlink" title="DNS è§£æé¡ºåº"></a>DNS è§£æé¡ºåº</h2><p>DNSè§£æé¡ºåºæ˜¯ â€œå…ˆæŸ¥ç¼“å­˜ï¼Œå†é€’å½’è§£æâ€ï¼ŒæŸ¥è¯¢é¡ºåºä¸ºï¼šæµè§ˆå™¨ç¼“å­˜ -&gt; ç³»ç»Ÿç¼“å­˜ -&gt; è·¯ç”±å™¨ç¼“å­˜ -&gt; é€’å½’æœåŠ¡å™¨ç¼“å­˜ -&gt; é€’å½’æŸ¥è¯¢</p><p>ä»¥ <code>www.baidu.com</code> è¿™ä¸ªåŸŸåä¸ºä¾‹è¿›è¡ŒæŸ¥è¯¢ï¼Œå…·ä½“æµç¨‹å¦‚ä¸‹ï¼š</p><h3 id="1-æœç´¢æµè§ˆå™¨è‡ªå¸¦çš„DNSç¼“å­˜"><a href="#1-æœç´¢æµè§ˆå™¨è‡ªå¸¦çš„DNSç¼“å­˜" class="headerlink" title="1. æœç´¢æµè§ˆå™¨è‡ªå¸¦çš„DNSç¼“å­˜"></a>1. æœç´¢æµè§ˆå™¨è‡ªå¸¦çš„DNSç¼“å­˜</h3><blockquote><p>å½“æ”¶åˆ°è®¿é—®è¯·æ±‚åï¼Œæµè§ˆå™¨é¦–å…ˆä¼šæŸ¥è¯¢æµè§ˆå™¨è‡ªèº«çš„DNSç¼“å­˜ï¼Œè¿™ä¸ªç¼“å­˜æ—¶é—´æ¯”è¾ƒçŸ­ï¼ˆchrome:&#x2F;&#x2F;net-internals&#x2F;#dns è¿™é‡Œå¯ä»¥æŸ¥è¯¢ç¼“å­˜çš„dnsè®°å½•ï¼‰ï¼Œä¸”åªèƒ½å®¹çº³ 1000æ¡ç¼“å­˜ï¼Œå¦‚æœç¼“å­˜ä¸­æœ‰å¯¹åº”æ¡ç›®ï¼Œè¿”å›ç»“æœï¼Œè§£æåˆ°æ­¤ç»“æŸã€‚</p></blockquote><p>åœ¨chromeæ‰“å¼€ <code>chrome://net-internals/#dns</code> </p><div class="tag-plugin image"><div class="image-bg"><img src="images/%E6%9F%A5%E7%9C%8B%E6%B5%8F%E8%A7%88%E5%99%A8DNS%E7%BC%93%E5%AD%98/1.png"/></div></div><p>å¦‚ä¸Šæ‰€ç¤ºï¼Œæµè§ˆå™¨è§£æåˆ°äº† <code>www.baidu.com</code> çš„ip</p><h3 id="2-æŸ¥è¯¢æ“ä½œç³»ç»Ÿç¼“å­˜å’Œhostsæœ¬åœ°æ–‡ä»¶"><a href="#2-æŸ¥è¯¢æ“ä½œç³»ç»Ÿç¼“å­˜å’Œhostsæœ¬åœ°æ–‡ä»¶" class="headerlink" title="2. æŸ¥è¯¢æ“ä½œç³»ç»Ÿç¼“å­˜å’Œhostsæœ¬åœ°æ–‡ä»¶"></a>2. æŸ¥è¯¢æ“ä½œç³»ç»Ÿç¼“å­˜å’Œhostsæœ¬åœ°æ–‡ä»¶</h3><blockquote><p>å¦‚æœæµè§ˆå™¨ç¼“å­˜ä¸­æ²¡æœ‰æ‰¾åˆ°å¯¹åº”æ¡ç›®ï¼ˆ<code>ipconfig/displaydns</code>å¯ä»¥æŸ¥çœ‹ï¼‰ï¼Œæ“ä½œç³»ç»Ÿä¹Ÿä¼šæœ‰ä¸€ä¸ªåŸŸåè§£æçš„è¿‡ç¨‹ï¼Œæµè§ˆå™¨ä¼šå…ˆæœç´¢æ“ä½œç³»ç»Ÿçš„DNSç¼“å­˜ä¸­æ˜¯å¦æœ‰è¿™ä¸ªåŸŸåè§£æè®°å½•ï¼Œå¦‚æœæœ‰è¿”å›ç»“æœï¼Œè§£æç»“æŸã€‚</p><p>æ­¤å¤–ï¼Œç”µè„‘æœ¬åœ°æ–‡ä»¶HOSTSä¸­å¯ä»¥è®¾å®šåŸŸååˆ°IPåœ°å€çš„æŒ‡å‘å…³ç³»ã€‚å¦‚æœHOSTSæ–‡ä»¶ä¸­ä¿å­˜æœ‰è¯¥åŸŸåçš„è®°å½•ï¼Œæµè§ˆå™¨ä¼šé¦–å…ˆä½¿ç”¨è¿™ä¸ªIPåœ°å€ï¼Œå¹¶å°†å…¶ç»“æœç¼“å­˜ä¸‹æ¥ï¼Œç¼“å­˜æ—¶é—´åŒæ ·å—åŸŸåå¤±æ•ˆæ—¶é—´å’Œç¼“å­˜ç©ºé—´å¤§å°å†³å®šã€‚</p></blockquote><h3 id="3-æŸ¥è¯¢è·¯ç”±å™¨ç¼“å­˜"><a href="#3-æŸ¥è¯¢è·¯ç”±å™¨ç¼“å­˜" class="headerlink" title="3. æŸ¥è¯¢è·¯ç”±å™¨ç¼“å­˜"></a>3. æŸ¥è¯¢è·¯ç”±å™¨ç¼“å­˜</h3><blockquote><p>å¦‚æœæµè§ˆå™¨å’Œæ“ä½œç³»ç»Ÿä¸­æ²¡æœ‰åŸŸåè§£æè®°å½•ï¼Œå°±ä¼šæŸ¥è¯¢è·¯ç”±å™¨ä¸­çš„DNSç¼“å­˜ï¼Œå¦‚æœè·¯ç”±å™¨DNSç¼“å­˜ä¸­æœ‰è§£ææ¡ç›®ï¼Œç›´æ¥è¿”å›ç»“æœï¼Œè§£æç»“æŸã€‚</p></blockquote><h3 id="4-é€’å½’è§£ææœåŠ¡å™¨ç¼“å­˜"><a href="#4-é€’å½’è§£ææœåŠ¡å™¨ç¼“å­˜" class="headerlink" title="4. é€’å½’è§£ææœåŠ¡å™¨ç¼“å­˜"></a>4. é€’å½’è§£ææœåŠ¡å™¨ç¼“å­˜</h3><blockquote><p>å¦‚æœæœ¬æœºå’Œè·¯ç”±å™¨DNSç¼“å­˜ä¸­æ²¡æœ‰è¯¥åŸŸåçš„è§£æè®°å½•ï¼Œæµè§ˆå™¨å°±ä¼šå‘é€’å½’æœåŠ¡å™¨å‘èµ·è¯·æ±‚ï¼Œå¦‚æœé€’å½’æœåŠ¡å™¨ç¼“å­˜æœ‰è¯¥åŸŸåè§£ææ¡ç›®ï¼Œè¿”å›ç»“æœï¼Œè§£æç»“æŸã€‚</p></blockquote><h3 id="5-æŸ¥è¯¢æ ¹åŸŸåæœåŠ¡å™¨"><a href="#5-æŸ¥è¯¢æ ¹åŸŸåæœåŠ¡å™¨" class="headerlink" title="5. æŸ¥è¯¢æ ¹åŸŸåæœåŠ¡å™¨"></a>5. æŸ¥è¯¢æ ¹åŸŸåæœåŠ¡å™¨</h3><blockquote><p>å¦‚æœé€’å½’æœåŠ¡å™¨ç¼“å­˜ä¸­æ²¡æœ‰ç»“æœï¼Œå°±ä¼šå§”æ‰˜é€’å½’æœåŠ¡å™¨å‘èµ·å…¨çƒæŸ¥è¯¢ï¼Œé¦–å…ˆé€’å½’æœåŠ¡å™¨ä¼šå‘æ ¹åŸŸåæœåŠ¡å™¨å‘èµ·è§£æè¯·æ±‚ã€‚æ ¹åŸŸåæœåŠ¡å™¨å‘ŠçŸ¥.comé¡¶çº§åŸŸåæœåŠ¡å™¨åœ°å€ã€‚</p></blockquote><h3 id="6-æŸ¥è¯¢é¡¶çº§åŸŸåæœåŠ¡å™¨"><a href="#6-æŸ¥è¯¢é¡¶çº§åŸŸåæœåŠ¡å™¨" class="headerlink" title="6. æŸ¥è¯¢é¡¶çº§åŸŸåæœåŠ¡å™¨"></a>6. æŸ¥è¯¢é¡¶çº§åŸŸåæœåŠ¡å™¨</h3><blockquote><p>é€’å½’æœåŠ¡å™¨å‘.comé¡¶çº§åŸŸåæœåŠ¡å™¨å‘èµ·DNSè¯·æ±‚ï¼Œ.comé¡¶çº§æœåŠ¡å™¨å‘ŠçŸ¥example.comæ‰€å±æƒå¨åŸŸåæœåŠ¡å™¨åœ°å€ã€‚</p></blockquote><h3 id="7-æŸ¥è¯¢æƒå¨åŸŸåæœåŠ¡å™¨"><a href="#7-æŸ¥è¯¢æƒå¨åŸŸåæœåŠ¡å™¨" class="headerlink" title="7. æŸ¥è¯¢æƒå¨åŸŸåæœåŠ¡å™¨"></a>7. æŸ¥è¯¢æƒå¨åŸŸåæœåŠ¡å™¨</h3><blockquote><p>é€’å½’æœåŠ¡å™¨å‘example.comçš„æƒå¨åŸŸåæœåŠ¡å™¨åœ°å€å‘èµ·è¯·æ±‚ï¼Œæƒå¨æœåŠ¡å™¨å‘ŠçŸ¥<a href="http://www.example.comæ‰€å¯¹åº”çš„ipåœ°å€./">www.example.comæ‰€å¯¹åº”çš„IPåœ°å€ã€‚</a></p></blockquote><h3 id="8-è¿”å›è§£æç»“æœ"><a href="#8-è¿”å›è§£æç»“æœ" class="headerlink" title="8. è¿”å›è§£æç»“æœ"></a>8. è¿”å›è§£æç»“æœ</h3><blockquote><p>å¾—åˆ°<a href="http://www.example.comçš„ipåœ°å€å,é€’å½’æœåŠ¡å™¨å°†ç»“æœå‘ŠçŸ¥å®¢æˆ·ç«¯,å®¢æˆ·ç«¯å¯¹è¯¥ipåœ°å€å‘èµ·è®¿é—®.æ•´ä¸ªdnsè§£ææµç¨‹åˆ°æ­¤ç»“æŸ./">www.example.comçš„IPåœ°å€åï¼Œé€’å½’æœåŠ¡å™¨å°†ç»“æœå‘ŠçŸ¥å®¢æˆ·ç«¯ï¼Œå®¢æˆ·ç«¯å¯¹è¯¥IPåœ°å€å‘èµ·è®¿é—®ã€‚æ•´ä¸ªDNSè§£ææµç¨‹åˆ°æ­¤ç»“æŸã€‚</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> ç½‘ç»œé€šä¿¡ </category>
          
          <category> DNS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> DNS </tag>
            
            <tag> ç¼“å­˜ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>DNSç”¨çš„æ˜¯TCPåè®®è¿˜æ˜¯UDPåè®®</title>
      <link href="/%E7%BD%91%E7%BB%9C%E9%80%9A%E4%BF%A1/DNS/DNS%E5%8D%8F%E8%AE%AE/"/>
      <url>/%E7%BD%91%E7%BB%9C%E9%80%9A%E4%BF%A1/DNS/DNS%E5%8D%8F%E8%AE%AE/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æ¦‚è¿°: å…³äº DNS ä½¿ç”¨çš„æ˜¯ TCP è¿˜æ˜¯ UDP çš„è¯´æ˜</p><p>DNSç¼“å­˜é—®é¢˜å¯ä»¥çœ‹è¿™ç¯‡æ–‡ç«  <a href="./%E6%9F%A5%E7%9C%8B%E6%B5%8F%E8%A7%88%E5%99%A8DNS%E7%BC%93%E5%AD%98.md">ã€æŸ¥çœ‹æµè§ˆå™¨DNSç¼“å­˜ã€‘</a></p></blockquote><p>[toc]</p><h1 id="DNSæ¦‚è¿°"><a href="#DNSæ¦‚è¿°" class="headerlink" title="DNSæ¦‚è¿°"></a>DNSæ¦‚è¿°</h1><p>DNSå ç”¨53å·ç«¯å£ï¼ŒåŒæ—¶ä½¿ç”¨TCPå’ŒUDPåè®®ã€‚</p><p>ğŸ“Œ é‚£ä¹ˆDNSåœ¨ä»€ä¹ˆæƒ…å†µä¸‹ä½¿ç”¨è¿™ä¸¤ç§åè®®ï¼Ÿ</p><ul><li><p>DNSåœ¨åŒºåŸŸä¼ è¾“çš„æ—¶å€™ä½¿ç”¨TCPåè®®ï¼Œå…¶ä»–æ—¶å€™ä½¿ç”¨UDPåè®®ã€‚</p></li><li><p>DNSåŒºåŸŸä¼ è¾“çš„æ—¶å€™ä½¿ç”¨TCPåè®®ï¼š</p><ol><li><p>è¾…åŸŸåæœåŠ¡å™¨ä¼šå®šæ—¶ï¼ˆä¸€èˆ¬3å°æ—¶ï¼‰å‘ä¸»åŸŸåæœåŠ¡å™¨è¿›è¡ŒæŸ¥è¯¢ä»¥ä¾¿äº†è§£æ•°æ®æ˜¯å¦æœ‰å˜åŠ¨ã€‚å¦‚æœ‰å˜åŠ¨ï¼Œä¼šæ‰§è¡Œä¸€æ¬¡åŒºåŸŸä¼ é€ï¼Œè¿›è¡Œæ•°æ®åŒæ­¥ã€‚åŒºåŸŸä¼ é€ä½¿ç”¨TCPè€Œä¸æ˜¯UDPï¼Œå› ä¸ºæ•°æ®åŒæ­¥ä¼ é€çš„æ•°æ®é‡æ¯”ä¸€ä¸ªè¯·æ±‚åº”ç­”çš„æ•°æ®é‡è¦å¤šå¾—å¤šã€‚</p></li><li><p>TCPæ˜¯ä¸€ç§å¯é è¿æ¥ï¼Œä¿è¯äº†æ•°æ®çš„å‡†ç¡®æ€§ã€‚</p></li></ol></li></ul><p>ğŸƒ åŸŸåè§£ææ—¶ä½¿ç”¨UDPåè®®ï¼š</p><p>å®¢æˆ·ç«¯å‘DNSæœåŠ¡å™¨æŸ¥è¯¢åŸŸåï¼Œä¸€èˆ¬è¿”å›çš„å†…å®¹éƒ½ä¸è¶…è¿‡512å­—èŠ‚ï¼Œç”¨UDPä¼ è¾“å³å¯ã€‚ä¸ç”¨ç»è¿‡ä¸‰æ¬¡æ¡æ‰‹ï¼Œè¿™æ ·DNSæœåŠ¡å™¨è´Ÿè½½æ›´ä½ï¼Œå“åº”æ›´å¿«ã€‚ç†è®ºä¸Šè¯´ï¼Œå®¢æˆ·ç«¯ä¹Ÿå¯ä»¥æŒ‡å®šå‘DNSæœåŠ¡å™¨æŸ¥è¯¢æ—¶ç”¨TCPï¼Œä½†äº‹å®ä¸Šï¼Œå¾ˆå¤šDNSæœåŠ¡å™¨è¿›è¡Œé…ç½®çš„æ—¶å€™ï¼Œä»…æ”¯æŒUDPæŸ¥è¯¢åŒ…ã€‚</p><h1 id="DNSä¸ºä»€ä¹ˆç”¨TCPå’ŒUDP"><a href="#DNSä¸ºä»€ä¹ˆç”¨TCPå’ŒUDP" class="headerlink" title="DNSä¸ºä»€ä¹ˆç”¨TCPå’ŒUDP"></a>DNSä¸ºä»€ä¹ˆç”¨TCPå’ŒUDP</h1><p>DNSåŒæ—¶å ç”¨UDPå’ŒTCPç«¯å£53æ˜¯å…¬è®¤çš„ï¼Œè¿™ç§å•ä¸ªåº”ç”¨åè®®åŒæ—¶ä½¿ç”¨ä¸¤ç§ä¼ è¾“åè®®çš„æƒ…å†µåœ¨TCP&#x2F;IPæ ˆä¹Ÿç®—æ˜¯ä¸ªå¦ç±»ã€‚ä½†å¾ˆå°‘æœ‰äººçŸ¥é“DNSåˆ†åˆ«åœ¨ä»€ä¹ˆæƒ…å†µä¸‹ä½¿ç”¨è¿™ä¸¤ç§åè®®ã€‚</p><h2 id="å…ˆç®€å•ä»‹ç»ä¸‹TCPä¸UDP"><a href="#å…ˆç®€å•ä»‹ç»ä¸‹TCPä¸UDP" class="headerlink" title="å…ˆç®€å•ä»‹ç»ä¸‹TCPä¸UDP"></a>å…ˆç®€å•ä»‹ç»ä¸‹TCPä¸UDP</h2><blockquote><p>TCPæ˜¯ä¸€ç§é¢å‘è¿æ¥çš„åè®®ï¼Œæä¾›å¯é çš„æ•°æ®ä¼ è¾“ï¼Œä¸€èˆ¬æœåŠ¡è´¨é‡è¦æ±‚æ¯”è¾ƒé«˜çš„æƒ…å†µï¼Œä½¿ç”¨è¿™ä¸ªåè®®ã€‚UDPâ€”ç”¨æˆ·æ•°æ®æŠ¥åè®®ï¼Œæ˜¯ä¸€ç§æ— è¿æ¥çš„ä¼ è¾“å±‚åè®®ï¼Œæä¾›é¢å‘äº‹åŠ¡çš„ç®€å•ä¸å¯é ä¿¡æ¯ä¼ é€æœåŠ¡ã€‚</p></blockquote><h4 id="TCPä¸UDPçš„åŒºåˆ«ï¼š"><a href="#TCPä¸UDPçš„åŒºåˆ«ï¼š" class="headerlink" title="TCPä¸UDPçš„åŒºåˆ«ï¼š"></a>TCPä¸UDPçš„åŒºåˆ«ï¼š</h4><p>UDPå’ŒTCPåè®®çš„ä¸»è¦åŒºåˆ«æ˜¯ä¸¤è€…åœ¨å¦‚ä½•å®ç°ä¿¡æ¯çš„<span style="class: faa-bounce animated-hover;border-bottom: 5px solid #8F81EF;">å¯é ä¼ é€’</span>æ–¹é¢ä¸åŒã€‚TCPåè®®ä¸­åŒ…å«äº†ä¸“é—¨çš„ä¼ é€’ä¿è¯æœºåˆ¶ï¼Œå½“æ•°æ®æ¥æ”¶æ–¹æ”¶åˆ°å‘é€æ–¹ä¼ æ¥çš„ä¿¡æ¯æ—¶ï¼Œä¼šè‡ªåŠ¨å‘å‘é€æ–¹å‘å‡ºç¡®è®¤æ¶ˆæ¯ï¼›å‘é€æ–¹åªæœ‰åœ¨æ¥æ”¶åˆ°è¯¥ç¡®è®¤æ¶ˆæ¯ä¹‹åæ‰ç»§ç»­ä¼ é€å…¶å®ƒä¿¡æ¯ï¼Œå¦åˆ™å°†ä¸€ç›´ç­‰å¾…ç›´åˆ°æ”¶åˆ°ç¡®è®¤ä¿¡æ¯ä¸ºæ­¢ã€‚ ä¸TCPä¸åŒï¼ŒUDPåè®®å¹¶ä¸æä¾›æ•°æ®ä¼ é€çš„ä¿è¯æœºåˆ¶ã€‚å¦‚æœåœ¨ä»å‘é€æ–¹åˆ°æ¥æ”¶æ–¹çš„ä¼ é€’è¿‡ç¨‹ä¸­å‡ºç°æ•°æ®æŠ¥çš„ä¸¢å¤±ï¼Œåè®®æœ¬èº«å¹¶ä¸èƒ½åšå‡ºä»»ä½•æ£€æµ‹æˆ–æç¤ºã€‚å› æ­¤ï¼Œé€šå¸¸äººä»¬æŠŠUDPåè®®ç§°ä¸ºä¸å¯é çš„ä¼ è¾“åè®®ã€‚ç›¸å¯¹äºTCPåè®®ï¼ŒUDPåè®®çš„å¦å¤–ä¸€ä¸ªä¸åŒä¹‹å¤„åœ¨äºå¦‚ä½•æ¥æ”¶çªå‘æ€§çš„å¤šä¸ªæ•°æ®æŠ¥ã€‚ä¸åŒäºTCPï¼ŒUDPå¹¶ä¸èƒ½ç¡®ä¿æ•°æ®çš„å‘é€å’Œæ¥æ”¶é¡ºåºã€‚äº‹å®ä¸Šï¼ŒUDPåè®®çš„è¿™ç§ä¹±åºæ€§åŸºæœ¬ä¸Šå¾ˆå°‘å‡ºç°ï¼Œé€šå¸¸åªä¼šåœ¨ç½‘ç»œéå¸¸æ‹¥æŒ¤çš„æƒ…å†µä¸‹æ‰æœ‰å¯èƒ½å‘ç”Ÿã€‚</p><blockquote><p>æ—¢ç„¶UDPæ˜¯ä¸€ç§ä¸å¯é çš„ç½‘ç»œåè®®ï¼Œé‚£ä¹ˆè¿˜æœ‰ä»€ä¹ˆä½¿ç”¨ä»·å€¼æˆ–å¿…è¦å‘¢ï¼Ÿ</p><blockquote><p>å…¶å®ä¸ç„¶ï¼Œåœ¨æœ‰äº›æƒ…å†µä¸‹UDPåè®®å¯èƒ½ä¼šå˜å¾—éå¸¸æœ‰ç”¨ã€‚å› ä¸ºUDPå…·æœ‰TCPæ‰€æœ›å°˜è«åŠçš„é€Ÿåº¦ä¼˜åŠ¿ã€‚è™½ç„¶TCPåè®®ä¸­æ¤å…¥äº†å„ç§å®‰å…¨ä¿éšœåŠŸèƒ½ï¼Œä½†æ˜¯åœ¨å®é™…æ‰§è¡Œçš„è¿‡ç¨‹ä¸­ä¼šå ç”¨å¤§é‡çš„ç³»ç»Ÿå¼€é”€ï¼Œæ— ç–‘ä½¿é€Ÿåº¦å—åˆ°ä¸¥é‡çš„å½±å“ã€‚åè§‚UDPç”±äºæ’é™¤äº†ä¿¡æ¯å¯é ä¼ é€’æœºåˆ¶ï¼Œå°†å®‰å…¨å’Œæ’åºç­‰åŠŸèƒ½ç§»äº¤ç»™ä¸Šå±‚åº”ç”¨æ¥å®Œæˆï¼Œæå¤§é™ä½äº†æ‰§è¡Œæ—¶é—´ï¼Œä½¿é€Ÿåº¦å¾—åˆ°äº†ä¿è¯ã€‚</p></blockquote></blockquote><p>DNSåœ¨è¿›è¡ŒåŒºåŸŸä¼ è¾“çš„æ—¶å€™ä½¿ç”¨TCPåè®®ï¼Œå…¶å®ƒæ—¶å€™åˆ™ä½¿ç”¨UDPåè®®ï¼›<br>DNSçš„è§„èŒƒè§„å®šäº†2ç§ç±»å‹çš„DNSæœåŠ¡å™¨ï¼Œä¸€ä¸ªå«<span style="class: faa-bounce animated-hover;border-bottom: 5px solid #8F81EF;">ä¸»DNSæœåŠ¡å™¨</span>ï¼Œä¸€ä¸ªå«<span style="class: faa-bounce animated-hover;border-bottom: 5px solid #8F81EF;">è¾…åŠ©DNSæœåŠ¡å™¨</span>ã€‚åœ¨ä¸€ä¸ªåŒºä¸­ä¸»DNSæœåŠ¡å™¨ä»è‡ªå·±æœ¬æœºçš„æ•°æ®æ–‡ä»¶ä¸­è¯»å–è¯¥åŒºçš„DNSæ•°æ®ä¿¡æ¯ï¼Œè€Œè¾…åŠ©DNSæœåŠ¡å™¨åˆ™ä»åŒºçš„ä¸»DNSæœåŠ¡å™¨ä¸­è¯»å–è¯¥åŒºçš„DNSæ•°æ®ä¿¡æ¯ã€‚å½“ä¸€ä¸ªè¾…åŠ©DNSæœåŠ¡å™¨å¯åŠ¨æ—¶ï¼Œå®ƒéœ€è¦ä¸ä¸»DNSæœåŠ¡å™¨é€šä¿¡ï¼Œå¹¶åŠ è½½æ•°æ®ä¿¡æ¯ï¼Œè¿™å°±å«åšåŒºä¼ é€ï¼ˆzone transferï¼‰ã€‚</p><h4 id="ä¸ºä»€ä¹ˆæ—¢ä½¿ç”¨TCPåˆä½¿ç”¨UDPï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆæ—¢ä½¿ç”¨TCPåˆä½¿ç”¨UDPï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆæ—¢ä½¿ç”¨TCPåˆä½¿ç”¨UDPï¼Ÿ"></a>ä¸ºä»€ä¹ˆæ—¢ä½¿ç”¨TCPåˆä½¿ç”¨UDPï¼Ÿ</h4><p>é¦–å…ˆäº†è§£ä¸€ä¸‹TCPä¸UDPä¼ é€å­—èŠ‚çš„é•¿åº¦é™åˆ¶ï¼š</p><p>UDPæŠ¥æ–‡çš„æœ€å¤§é•¿åº¦ä¸º512å­—èŠ‚ï¼Œè€ŒTCPåˆ™å…è®¸æŠ¥æ–‡é•¿åº¦è¶…è¿‡512å­—èŠ‚ã€‚å½“DNSæŸ¥è¯¢è¶…è¿‡512å­—èŠ‚æ—¶ï¼Œåè®®çš„TCæ ‡å¿—å‡ºç°åˆ é™¤æ ‡å¿—ï¼Œè¿™æ—¶åˆ™ä½¿ç”¨TCPå‘é€ã€‚é€šå¸¸ä¼ ç»Ÿçš„UDPæŠ¥æ–‡ä¸€èˆ¬ä¸ä¼šå¤§äº512å­—èŠ‚ã€‚</p><p>åŒºåŸŸä¼ é€æ—¶ä½¿ç”¨TCPï¼Œä¸»è¦æœ‰ä¸€ä¸‹ä¸¤ç‚¹è€ƒè™‘ï¼š</p><ol><li><p>è¾…åŸŸåæœåŠ¡å™¨ä¼šå®šæ—¶ï¼ˆä¸€èˆ¬æ—¶3å°æ—¶ï¼‰å‘ä¸»åŸŸåæœåŠ¡å™¨è¿›è¡ŒæŸ¥è¯¢ä»¥ä¾¿äº†è§£æ•°æ®æ˜¯å¦æœ‰å˜åŠ¨ã€‚å¦‚æœ‰å˜åŠ¨ï¼Œåˆ™ä¼šæ‰§è¡Œä¸€æ¬¡åŒºåŸŸä¼ é€ï¼Œè¿›è¡Œæ•°æ®åŒæ­¥ã€‚åŒºåŸŸä¼ é€å°†ä½¿ç”¨TCPè€Œä¸æ˜¯UDPï¼Œå› ä¸ºæ•°æ®åŒæ­¥ä¼ é€çš„æ•°æ®é‡æ¯”ä¸€ä¸ªè¯·æ±‚å’Œåº”ç­”çš„æ•°æ®é‡è¦å¤šå¾—å¤šã€‚</p></li><li><p>TCPæ˜¯ä¸€ç§å¯é çš„è¿æ¥ï¼Œä¿è¯äº†æ•°æ®çš„å‡†ç¡®æ€§ã€‚</p></li></ol><h3 id="åŸŸåè§£ææ—¶ä½¿ç”¨UDPåè®®ï¼š"><a href="#åŸŸåè§£ææ—¶ä½¿ç”¨UDPåè®®ï¼š" class="headerlink" title="åŸŸåè§£ææ—¶ä½¿ç”¨UDPåè®®ï¼š"></a>åŸŸåè§£ææ—¶ä½¿ç”¨UDPåè®®ï¼š</h3><p>å®¢æˆ·ç«¯å‘DNSæœåŠ¡å™¨æŸ¥è¯¢åŸŸåï¼Œä¸€èˆ¬è¿”å›çš„å†…å®¹éƒ½ä¸è¶…è¿‡512å­—èŠ‚ï¼Œç”¨UDPä¼ è¾“å³å¯ã€‚ä¸ç”¨ç»è¿‡TCPä¸‰æ¬¡æ¡æ‰‹ï¼Œè¿™æ ·DNSæœåŠ¡å™¨è´Ÿè½½æ›´ä½ï¼Œå“åº”æ›´å¿«ã€‚è™½ç„¶ä»ç†è®ºä¸Šè¯´ï¼Œå®¢æˆ·ç«¯ä¹Ÿå¯ä»¥æŒ‡å®šå‘DNSæœåŠ¡å™¨æŸ¥è¯¢çš„æ—¶å€™ä½¿ç”¨TCPï¼Œä½†äº‹å®ä¸Šï¼Œå¾ˆå¤šDNSæœåŠ¡å™¨è¿›è¡Œé…ç½®çš„æ—¶å€™ï¼Œä»…æ”¯æŒUDPæŸ¥è¯¢åŒ…ã€‚</p><h2 id="UDP"><a href="#UDP" class="headerlink" title="UDP"></a>UDP</h2><blockquote><p>UDP ä¸ TCP çš„ä¸»è¦åŒºåˆ«åœ¨äº UDP ä¸ä¸€å®šæä¾›å¯é çš„æ•°æ®ä¼ è¾“ã€‚äº‹å®ä¸Šï¼Œè¯¥åè®®ä¸èƒ½ä¿è¯æ•°æ®å‡†ç¡®æ— è¯¯åœ°åˆ°è¾¾ç›®çš„åœ°ã€‚UDP åœ¨è®¸å¤šæ–¹é¢éå¸¸æœ‰æ•ˆã€‚å½“æŸä¸ªç¨‹åºçš„ç›®æ ‡æ˜¯å°½å¿«åœ°ä¼ è¾“å°½å¯èƒ½å¤šçš„ä¿¡æ¯æ—¶ï¼ˆå…¶ä¸­ä»»æ„ç»™å®šæ•°æ®çš„é‡è¦æ€§ç›¸å¯¹è¾ƒä½ï¼‰ï¼Œå¯ä½¿ç”¨ UDPã€‚ICQ çŸ­æ¶ˆæ¯ä½¿ç”¨ UDP åè®®å‘é€æ¶ˆæ¯ã€‚</p></blockquote><p>è®¸å¤šç¨‹åºå°†ä½¿ç”¨å•ç‹¬çš„TCPè¿æ¥å’Œå•ç‹¬çš„UDPè¿æ¥ã€‚é‡è¦çš„çŠ¶æ€ä¿¡æ¯éšå¯é çš„TCPè¿æ¥å‘é€ï¼Œè€Œä¸»æ•°æ®æµé€šè¿‡UDPå‘é€ã€‚</p><h2 id="TCP"><a href="#TCP" class="headerlink" title="TCP"></a>TCP</h2><p>TCPçš„ç›®çš„æ˜¯æä¾›å¯é çš„æ•°æ®ä¼ è¾“ï¼Œå¹¶åœ¨ç›¸äº’è¿›è¡Œé€šä¿¡çš„è®¾å¤‡æˆ–æœåŠ¡ä¹‹é—´ä¿æŒä¸€ä¸ªè™šæ‹Ÿè¿æ¥ã€‚TCPåœ¨æ•°æ®åŒ…æ¥æ”¶æ— åºã€ä¸¢å¤±æˆ–åœ¨äº¤ä»˜æœŸé—´è¢«ç ´åæ—¶ï¼Œè´Ÿè´£æ•°æ®æ¢å¤ã€‚å®ƒé€šè¿‡ä¸ºå…¶å‘é€çš„æ¯ä¸ªæ•°æ®åŒ…æä¾›ä¸€ä¸ªåºå·æ¥å®Œæˆæ­¤æ¢å¤ã€‚è®°ä½ï¼Œè¾ƒä½çš„ç½‘ç»œå±‚ä¼šå°†æ¯ä¸ªæ•°æ®åŒ…è§†ä¸ºä¸€ä¸ªç‹¬ç«‹çš„å•å…ƒï¼Œå› æ­¤ï¼Œæ•°æ®åŒ…å¯ä»¥æ²¿å®Œå…¨ä¸åŒçš„è·¯å¾„å‘é€ï¼Œå³ä½¿å®ƒä»¬éƒ½æ˜¯åŒä¸€æ¶ˆæ¯çš„ç»„æˆéƒ¨åˆ†ã€‚è¿™ç§è·¯ç”±ä¸ç½‘ç»œå±‚å¤„ç†åˆ†æ®µå’Œé‡æ–°ç»„è£…æ•°æ®åŒ…çš„æ–¹å¼éå¸¸ç›¸ä¼¼ï¼Œåªæ˜¯çº§åˆ«æ›´é«˜è€Œå·²ã€‚</p><p>ä¸ºç¡®ä¿æ­£ç¡®åœ°æ¥æ”¶æ•°æ®ï¼ŒTCPè¦æ±‚åœ¨ç›®æ ‡è®¡ç®—æœºæˆåŠŸæ”¶åˆ°æ•°æ®æ—¶å‘å›ä¸€ä¸ªç¡®è®¤ï¼ˆå³ ACKï¼‰ã€‚å¦‚æœåœ¨æŸä¸ªæ—¶é™å†…æœªæ”¶åˆ°ç›¸åº”çš„ ACKï¼Œå°†é‡æ–°ä¼ é€æ•°æ®åŒ…ã€‚å¦‚æœç½‘ç»œæ‹¥å¡ï¼Œè¿™ç§é‡æ–°ä¼ é€å°†å¯¼è‡´å‘é€çš„æ•°æ®åŒ…é‡å¤ã€‚ä½†æ˜¯ï¼Œæ¥æ”¶è®¡ç®—æœºå¯ä½¿ç”¨æ•°æ®åŒ…çš„åºå·æ¥ç¡®å®šå®ƒæ˜¯å¦ä¸ºé‡å¤æ•°æ®åŒ…ï¼Œå¹¶åœ¨å¿…è¦æ—¶ä¸¢å¼ƒå®ƒã€‚</p><h2 id="TCPä¸UDPçš„é€‰æ‹©"><a href="#TCPä¸UDPçš„é€‰æ‹©" class="headerlink" title="TCPä¸UDPçš„é€‰æ‹©"></a>TCPä¸UDPçš„é€‰æ‹©</h2><p>å¦‚æœæ¯”è¾ƒUDPåŒ…å’ŒTCPåŒ…çš„ç»“æ„ï¼Œå¾ˆæ˜æ˜¾UDPåŒ…ä¸å…·å¤‡TCPåŒ…å¤æ‚çš„å¯é æ€§ä¸æ§åˆ¶æœºåˆ¶ã€‚ä¸TCPåè®®ç›¸åŒï¼ŒUDPçš„æºç«¯å£æ•°å’Œç›®çš„ç«¯å£æ•°ä¹Ÿéƒ½æ”¯æŒä¸€å°ä¸»æœºä¸Šçš„å¤šä¸ªåº”ç”¨ã€‚ä¸€ä¸ª16ä½çš„UDPåŒ…åŒ…å«äº†ä¸€ä¸ªå­—èŠ‚é•¿çš„å¤´éƒ¨å’Œæ•°æ®çš„é•¿åº¦ï¼Œæ ¡éªŒç åŸŸä½¿å…¶å¯ä»¥è¿›è¡Œæ•´ä½“æ ¡éªŒã€‚ï¼ˆè®¸å¤šåº”ç”¨åªæ”¯æŒUDPï¼Œå¦‚ï¼šå¤šåª’ä½“æ•°æ®æµï¼Œä¸äº§ç”Ÿä»»ä½•é¢å¤–çš„æ•°æ®ï¼Œå³ä½¿çŸ¥é“æœ‰ç ´åçš„åŒ…ä¹Ÿä¸è¿›è¡Œé‡å‘ã€‚ï¼‰</p><p>å¾ˆæ˜æ˜¾ï¼Œå½“æ•°æ®ä¼ è¾“çš„æ€§èƒ½å¿…é¡»è®©ä½äºæ•°æ®ä¼ è¾“çš„å®Œæ•´æ€§ã€å¯æ§åˆ¶æ€§å’Œå¯é æ€§æ—¶ï¼ŒTCPåè®®æ˜¯å½“ç„¶çš„é€‰æ‹©ã€‚å½“å¼ºè°ƒä¼ è¾“æ€§èƒ½è€Œä¸æ˜¯ä¼ è¾“çš„å®Œæ•´æ€§æ—¶ï¼Œå¦‚ï¼šéŸ³é¢‘å’Œå¤šåª’ä½“åº”ç”¨ï¼ŒUDPæ˜¯æœ€å¥½çš„é€‰æ‹©ã€‚åœ¨æ•°æ®ä¼ è¾“æ—¶é—´å¾ˆçŸ­ï¼Œä»¥è‡³äºæ­¤å‰çš„è¿æ¥è¿‡ç¨‹æˆä¸ºæ•´ä¸ªæµé‡ä¸»ä½“çš„æƒ…å†µä¸‹ï¼ŒUDPä¹Ÿæ˜¯ä¸€ä¸ªå¥½çš„é€‰æ‹©ï¼Œå¦‚ï¼šDNSäº¤æ¢ã€‚æŠŠSNMPå»ºç«‹åœ¨UDPä¸Šçš„éƒ¨åˆ†åŸå› æ˜¯è®¾è®¡è€…è®¤ä¸ºå½“å‘ç”Ÿç½‘ç»œé˜»å¡æ—¶ï¼ŒUDPè¾ƒä½çš„å¼€é”€ä½¿å…¶æœ‰æ›´å¥½çš„æœºä¼šå»ä¼ é€ç®¡ç†æ•°æ®ã€‚TCPä¸°å¯Œçš„åŠŸèƒ½æœ‰æ—¶ä¼šå¯¼è‡´ä¸å¯é¢„æ–™çš„æ€§èƒ½ä½ä¸‹ï¼Œä½†æ˜¯æˆ‘ä»¬ç›¸ä¿¡åœ¨ä¸è¿œçš„å°†æ¥ï¼ŒTCPå¯é çš„ç‚¹å¯¹ç‚¹è¿æ¥å°†ä¼šç”¨äºç»å¤§å¤šæ•°çš„ç½‘ç»œåº”ç”¨ã€‚</p><h4 id="TCP-1"><a href="#TCP-1" class="headerlink" title="TCP"></a>TCP</h4><p>TCPï¼ˆTransmission Control Protocolï¼Œä¼ è¾“æ§åˆ¶åè®®ï¼‰æ˜¯åŸºäºè¿æ¥çš„åè®®ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨æ­£å¼æ”¶å‘æ•°æ®å‰ï¼Œå¿…é¡»å’Œå¯¹æ–¹å»ºç«‹å¯é çš„è¿æ¥ã€‚</p><p>ä¸€ä¸ªTCPè¿æ¥å¿…é¡»è¦ç»è¿‡ä¸‰æ¬¡â€œå¯¹è¯â€æ‰èƒ½å»ºç«‹èµ·æ¥ã€‚ä¸‰æ¬¡å¯¹è¯çš„ç®€å•è¿‡ç¨‹ï¼šä¸»æœºAå‘ä¸»æœºBå‘å‡ºè¿æ¥è¯·æ±‚æ•°æ®åŒ…ï¼šâ€œæˆ‘æƒ³ç»™ä½ å‘æ•°æ®ï¼Œå¯ä»¥å—ï¼Ÿâ€ï¼Œè¿™æ˜¯ç¬¬ä¸€æ¬¡å¯¹è¯ï¼›ä¸»æœºBå‘ä¸»æœºAå‘é€åŒæ„è¿æ¥å’Œè¦æ±‚åŒæ­¥ï¼ˆåŒæ­¥å°±æ˜¯ä¸¤å°ä¸»æœºä¸€ä¸ªåœ¨å‘é€ï¼Œä¸€ä¸ªåœ¨æ¥æ”¶ï¼Œåè°ƒå·¥ä½œï¼‰çš„æ•°æ®åŒ…ï¼šâ€œå¯ä»¥ï¼Œä½ ä»€ä¹ˆæ—¶å€™å‘ï¼Ÿâ€ï¼Œè¿™æ˜¯ç¬¬äºŒæ¬¡å¯¹è¯ï¼›ä¸»æœºAå†å‘å‡ºä¸€ä¸ªæ•°æ®åŒ…ç¡®è®¤ä¸»æœºBçš„è¦æ±‚åŒæ­¥ï¼šâ€œæˆ‘ç°åœ¨å°±å‘ï¼Œä½ æ¥ç€å§ï¼â€ï¼Œè¿™æ˜¯ç¬¬ä¸‰æ¬¡å¯¹è¯ã€‚ä¸‰æ¬¡â€œå¯¹è¯â€çš„ç›®çš„æ˜¯ä½¿æ•°æ®åŒ…çš„å‘é€å’Œæ¥æ”¶åŒæ­¥ï¼Œç»è¿‡ä¸‰æ¬¡â€œå¯¹è¯â€ä¹‹åï¼Œä¸»æœºAæ‰å‘ä¸»æœºBæ­£å¼å‘é€æ•°æ®ã€‚</p><h4 id="UDP-1"><a href="#UDP-1" class="headerlink" title="UDP"></a>UDP</h4><p>UDPï¼ˆUser Data Protocolï¼Œç”¨æˆ·æ•°æ®æŠ¥åè®®ï¼‰æ˜¯ä¸TCPç›¸å¯¹åº”çš„åè®®ã€‚å®ƒæ˜¯é¢å‘éè¿æ¥çš„åè®®ï¼Œå®ƒä¸ä¸å¯¹æ–¹å»ºç«‹è¿æ¥ï¼Œè€Œæ˜¯ç›´æ¥å°±æŠŠæ•°æ®åŒ…å‘é€è¿‡å»ï¼</p><p>UDPé€‚ç”¨äºä¸€æ¬¡åªä¼ é€å°‘é‡æ•°æ®ã€å¯¹å¯é æ€§è¦æ±‚ä¸é«˜çš„åº”ç”¨ç¯å¢ƒã€‚æ¯”å¦‚ï¼Œæˆ‘ä»¬ç»å¸¸ä½¿ç”¨â€œpingâ€å‘½ä»¤æ¥æµ‹è¯•ä¸¤å°ä¸»æœºä¹‹é—´TCP&#x2F;IPé€šä¿¡æ˜¯å¦æ­£å¸¸ï¼Œå…¶å®â€œpingâ€å‘½ä»¤çš„åŸç†å°±æ˜¯å‘å¯¹æ–¹ä¸»æœºå‘é€UDPæ•°æ®åŒ…ï¼Œç„¶åå¯¹æ–¹ä¸»æœºç¡®è®¤æ”¶åˆ°æ•°æ®åŒ…ï¼Œå¦‚æœæ•°æ®åŒ…æ˜¯å¦åˆ°è¾¾çš„æ¶ˆæ¯åŠæ—¶åé¦ˆå›æ¥ï¼Œé‚£ä¹ˆç½‘ç»œå°±æ˜¯é€šçš„ã€‚ä¾‹å¦‚ï¼Œåœ¨é»˜è®¤çŠ¶æ€ä¸‹ï¼Œä¸€æ¬¡â€œpingâ€æ“ä½œå‘é€4ä¸ªæ•°æ®åŒ…ï¼ˆå¦‚å›¾2æ‰€ç¤ºï¼‰ã€‚å¤§å®¶å¯ä»¥çœ‹åˆ°ï¼Œå‘é€çš„æ•°æ®åŒ…æ•°é‡æ˜¯4åŒ…ï¼Œæ”¶åˆ°çš„ä¹Ÿæ˜¯4åŒ…ï¼ˆå› ä¸ºå¯¹æ–¹ä¸»æœºæ”¶åˆ°åä¼šå‘å›ä¸€ä¸ªç¡®è®¤æ”¶åˆ°çš„æ•°æ®åŒ…ï¼‰ã€‚è¿™å……åˆ†è¯´æ˜äº†UDPåè®®æ˜¯é¢å‘éè¿æ¥çš„åè®®ï¼Œæ²¡æœ‰å»ºç«‹è¿æ¥çš„è¿‡ç¨‹ã€‚æ­£å› ä¸ºUDPåè®®æ²¡æœ‰è¿æ¥çš„è¿‡ç¨‹ï¼Œæ‰€ä»¥å®ƒçš„é€šä¿¡æ•ˆæœé«˜ï¼›ä½†ä¹Ÿæ­£å› ä¸ºå¦‚æ­¤ï¼Œå®ƒçš„å¯é æ€§ä¸å¦‚TCPåè®®é«˜ã€‚QQå°±ä½¿ç”¨UDPå‘æ¶ˆæ¯ï¼Œå› æ­¤æœ‰æ—¶ä¼šå‡ºç°æ”¶ä¸åˆ°æ¶ˆæ¯çš„æƒ…å†µã€‚HTTPæ˜¯ç”¨TCPåè®®ä¼ è¾“çš„ã€‚</p><h2 id="TCPåè®®ä¸UDPåè®®çš„åŒºåˆ«"><a href="#TCPåè®®ä¸UDPåè®®çš„åŒºåˆ«" class="headerlink" title="TCPåè®®ä¸UDPåè®®çš„åŒºåˆ«"></a>TCPåè®®ä¸UDPåè®®çš„åŒºåˆ«</h2><p>TCPåŸºäº<strong>é¢å‘è¿æ¥çš„åè®®</strong>ï¼Œæ•°æ®ä¼ è¾“<strong>å¯é </strong>ï¼Œ<strong>ä¼ è¾“é€Ÿåº¦æ…¢</strong>ï¼Œé€‚ç”¨äº<strong>ä¼ è¾“å¤§é‡æ•°æ®</strong>ï¼Œå¯é æ€§è¦æ±‚é«˜çš„åœºåˆã€‚</p><p>UDPåè®®<strong>é¢å‘éè¿æ¥åè®®</strong>ï¼Œæ•°æ®ä¼ è¾“ä¸å¯é ï¼Œ<strong>ä¼ è¾“é€Ÿåº¦å¿«</strong>ï¼Œé€‚ç”¨äº<strong>ä¸€æ¬¡åªä¼ é€å°‘é‡æ•°æ®</strong>ã€å¯¹å¯é æ€§è¦æ±‚ä¸é«˜çš„åº”ç”¨ç¯å¢ƒã€‚</p><h4 id="é¢å‘è¿æ¥çš„TCP"><a href="#é¢å‘è¿æ¥çš„TCP" class="headerlink" title="é¢å‘è¿æ¥çš„TCP"></a>é¢å‘è¿æ¥çš„TCP</h4><p>â€œé¢å‘è¿æ¥â€å°±æ˜¯åœ¨æ­£å¼é€šä¿¡å‰å¿…é¡»è¦ä¸å¯¹æ–¹å»ºç«‹èµ·è¿æ¥ã€‚æ¯”å¦‚ä½ ç»™åˆ«äººæ‰“ç”µè¯ï¼Œå¿…é¡»ç­‰çº¿è·¯æ¥é€šäº†ã€å¯¹æ–¹æ‹¿èµ·è¯ç­’æ‰èƒ½ç›¸äº’é€šè¯ã€‚</p><p>TCPåè®®èƒ½ä¸ºåº”ç”¨ç¨‹åºæä¾›å¯é çš„é€šä¿¡è¿æ¥ï¼Œä½¿ä¸€å°è®¡ç®—æœºå‘å‡ºçš„å­—èŠ‚æµæ— å·®é”™åœ°å‘å¾€ç½‘ç»œä¸Šçš„å…¶ä»–è®¡ç®—æœºï¼Œå¯¹å¯é æ€§è¦æ±‚é«˜çš„æ•°æ®é€šä¿¡ç³»ç»Ÿå¾€å¾€ä½¿ç”¨TCPåè®®ä¼ è¾“æ•°æ®ã€‚</p><h4 id="é¢å‘éè¿æ¥çš„UDPåè®®"><a href="#é¢å‘éè¿æ¥çš„UDPåè®®" class="headerlink" title="é¢å‘éè¿æ¥çš„UDPåè®®"></a>é¢å‘éè¿æ¥çš„UDPåè®®</h4><p>â€œé¢å‘éè¿æ¥â€œå°±æ˜¯åœ¨æ­£å¼é€šä¿¡å‰ä¸å¿…ä¸å¯¹æ–¹å…ˆå»ºç«‹è¿æ¥ï¼Œä¸ç®¡å¯¹æ–¹çŠ¶æ€å°±ç›´æ¥å‘é€ã€‚è¿™ä¸ç°åœ¨é£è¡Œçš„æ‰‹æœºçŸ­ä¿¡éå¸¸ç›¸ä¼¼ï¼šä½ åœ¨å‘çŸ­ä¿¡çš„æ—¶å€™ï¼Œåªéœ€è¦è¾“å…¥å¯¹æ–¹æ‰‹æœºå·å°±OKäº†ã€‚</p><p>UDPé€‚ç”¨äºä¸€æ¬¡åªä¼ é€å°‘é‡æ•°æ®ã€å¯¹å¯é æ€§è¦æ±‚ä¸é«˜çš„åº”ç”¨ç¯å¢ƒ</p><p>UDPåè®®æ˜¯é¢å‘éè¿æ¥çš„åè®®ï¼Œæ²¡æœ‰å»ºç«‹è¿æ¥çš„è¿‡ç¨‹ã€‚æ­£å› ä¸ºUDPåè®®æ²¡æœ‰è¿æ¥çš„è¿‡ç¨‹ï¼Œæ‰€ä»¥å®ƒçš„é€šä¿¡æ•ˆæœé«˜ï¼›ä½†ä¹Ÿæ­£å› ä¸ºå¦‚æ­¤ï¼Œå®ƒçš„å¯é æ€§ä¸å¦‚TCPåè®®é«˜ã€‚QQå°±ä½¿ç”¨UDPå‘æ¶ˆæ¯ï¼Œå› æ­¤æœ‰æ—¶ä¼šå‡ºç°æ”¶ä¸åˆ°æ¶ˆæ¯çš„æƒ…å†µã€‚</p><h4 id="TCPåè®®ä¸UDPåè®®æ”¯æŒçš„åº”ç”¨åè®®"><a href="#TCPåè®®ä¸UDPåè®®æ”¯æŒçš„åº”ç”¨åè®®" class="headerlink" title="TCPåè®®ä¸UDPåè®®æ”¯æŒçš„åº”ç”¨åè®®"></a>TCPåè®®ä¸UDPåè®®æ”¯æŒçš„åº”ç”¨åè®®</h4><p>TCPæ”¯æŒçš„åº”ç”¨åè®®ä¸»è¦æœ‰ï¼š<strong>Telnetã€FTPã€SMTP</strong> ç­‰ï¼›<br>UDPæ”¯æŒçš„åº”ç”¨å±‚åè®®ä¸»è¦æœ‰ï¼š<strong>NFSï¼ˆç½‘ç»œæ–‡ä»¶ç³»ç»Ÿï¼‰ã€SNMPï¼ˆç®€å•ç½‘ç»œç®¡ç†åè®®ï¼‰ã€DNSï¼ˆä¸»åŸŸåç§°ç³»ç»Ÿï¼‰ã€TFTPï¼ˆé€šç”¨æ–‡ä»¶ä¼ è¾“åè®®ï¼‰</strong>ç­‰ã€‚</p><p>TCPå’ŒUDPéƒ½æ˜¯ä½äºOSIæ¨¡å‹ä¸­çš„ä¼ è¾“å±‚ä¸­ã€‚</p><p>ğŸ“¢ <strong>TCPä¼˜ç‚¹</strong>ï¼šé¢å‘è¿æ¥çš„,å…·æœ‰å®æ—¶æ€§,å°±è±¡æ‰“ç”µè¯ä¸€æ ·,ä¸¤è€…å¿…é¡»å»ºç«‹è¿æ¥.<br>å®ƒä¿è¯ä½ æ‰€ä¼ è¾“çš„ä¸œè¥¿æ˜¯å‡†ç¡®åˆ°è¾¾çš„,å¹¶ä¸”æ”¶æ–¹è¦ç»™ä½ ä¸€ä¸ªæ”¶åˆ°æˆ–æ²¡æœ‰\æ”¶åˆ°çš„å›å¤,æ‰€ä»¥å®ƒå…·æœ‰å®‰å…¨æ€§çš„ç‰¹ç‚¹..<br>ğŸ“¢ <strong>UDPä¼˜ç‚¹</strong>ï¼šé¢å‘æ— è¿æ¥çš„,å°±è±¡ç»™æŸäººå¯„ä¿¡ä¸€æ ·,å¯¹æ–¹ä¸éœ€è¦åœ¨é‚®å±€ç­‰ç€ä½ çš„ä¿¡åˆ°.<br>æ‰€ä»¥è¯´,å®ƒæ²¡æœ‰ä¿éšœæ€§,ä¸èƒ½ç¡®ä¿ä½ ä¸€å®šèƒ½æ”¶åˆ°ä¿¡,ä¸è±¡TCPé‚£æ ·,,ä½†æ˜¯ å®ƒæ¯”TCPå¥½çš„ä¸€ç‚¹,å°±æ˜¯é€Ÿåº¦å¿«,å› ä¸ºä»–ä¸éœ€è¦åŒæ–¹äº¤æµæ˜¯å¦æ”¶åˆ°,å¯¹å‘çš„ä¸œè¥¿æœ‰ä¸€ä¸ªç¡®è®¤çš„è¿‡ç¨‹.</p>]]></content>
      
      
      <categories>
          
          <category> ç½‘ç»œé€šä¿¡ </category>
          
          <category> DNS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> DNS </tag>
            
            <tag> UDP </tag>
            
            <tag> TCP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>DDoSæ”»å‡»</title>
      <link href="/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/DDoS%E6%94%BB%E5%87%BB/"/>
      <url>/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/DDoS%E6%94%BB%E5%87%BB/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æ¦‚è¿°ï¼šDDoS() æŠ€æœ¯é‰´èµ</p></blockquote><p>[toc]</p><h1 id="DDoSè¯´æ˜"><a href="#DDoSè¯´æ˜" class="headerlink" title="DDoSè¯´æ˜"></a>DDoSè¯´æ˜</h1><blockquote><p>DDoS(Distributed Denial of Service)å³åˆ†å¸ƒå¼æ‹’ç»æœåŠ¡æ”»å‡»,æ˜¯ä¸€ç§é€šè¿‡å¤§é‡å ç”¨ç›®æ ‡æœåŠ¡å™¨èµ„æºçš„æ–¹å¼,ä½¿æœåŠ¡æš‚æ—¶ä¸­æ–­æˆ–åœæ­¢,æ— æ³•å¯¹æ­£å¸¸ç”¨æˆ·æä¾›æœåŠ¡çš„æ”»å‡»æ‰‹æ®µã€‚</p></blockquote><p>DDoSæ”»å‡»çš„ä¸»è¦ç‰¹å¾åŒ…æ‹¬:</p><blockquote><ul><li>åˆ†å¸ƒå¼ - åˆ©ç”¨å¤§é‡åˆ†å¸ƒåœ¨ä¸åŒåœ°ç‚¹çš„æ”»å‡»æºè¿›è¡Œæ”»å‡»ã€‚</li><li>æµé‡æ³›æ»¥ - é€šè¿‡å‘é€å¤§é‡æµé‡æ·¹æ²¡ç›®æ ‡æœåŠ¡å™¨çš„å¸¦å®½æˆ–èµ„æºã€‚å¸¸è§çš„æœ‰UDP floodã€ICMP floodç­‰ã€‚</li><li>èµ„æºè€—å°½ - å ç”¨ç›®æ ‡æœåŠ¡å™¨çš„å…³é”®ç³»ç»Ÿèµ„æº,å¦‚è¿æ¥æ•°ã€çº¿ç¨‹æ•°ç­‰ã€‚å¦‚SYN floodæ”»å‡»ã€‚</li><li>æ”»å‡»å¢å¼º - é€šè¿‡å„ç§æ–¹å¼å¢å¼ºæ”»å‡»æµé‡å’Œæ•ˆæœã€‚å¦‚IPåœ°å€æ¬ºéª—ã€‚</li><li>å¤šå‘é‡ç»„åˆ - ç»¼åˆä½¿ç”¨å„ç§ç±»å‹çš„æ”»å‡»æ‰‹æ®µ,å¯¹ç›®æ ‡å‘èµ·å¤šç»´æ”»å‡»ã€‚</li></ul></blockquote><p>é˜²å¾¡DDoSæ”»å‡»çš„ä¸»è¦æ‰‹æ®µåŒ…æ‹¬:</p><blockquote><ul><li><p>å¢åŠ å¸¦å®½ - æé«˜æµé‡æ‰¿è½½èƒ½åŠ›ã€‚</p></li><li><p>ä½¿ç”¨DDoSé˜²æŠ¤æœåŠ¡ - ç”±æœåŠ¡æä¾›å•†è¿‡æ»¤æ”»å‡»æµé‡ã€‚</p></li><li><p>é™åˆ¶è¿æ¥å’Œè¯·æ±‚ - åŠ å¼ºå¯¹é«˜æµé‡æºçš„è®¿é—®æ§åˆ¶ã€‚</p></li><li><p>ä¸¢å¼ƒæ— æ•ˆæµé‡ - é€šè¿‡æŠ€æœ¯æ‰‹æ®µè¯†åˆ«å¹¶ä¸¢å¼ƒæ”»å‡»æµé‡ã€‚</p></li><li><p>æ‰©å±•å…³é”®ç³»ç»Ÿèµ„æº - æé«˜å…³é”®èµ„æºæ± å®¹é‡ã€‚</p></li><li><p>æœåŠ¡é™çº§ - åœ¨è¢«æ”»å‡»æ—¶æš‚æ—¶åœæ­¢éæ ¸å¿ƒæœåŠ¡ã€‚</p></li><li><p>æœåŠ¡åˆ†æ•£ - é€šè¿‡CDNç­‰æ–¹å¼åˆ†æ•£æœåŠ¡,é¿å…å•ç‚¹æ•…éšœã€‚</p></li><li><p>åˆç†é™é€Ÿ - å¯¹æºIPè®¿é—®é¢‘ç‡å’Œæµé‡è¿›è¡Œæ§åˆ¶ã€‚</p><p>DDoSé˜²å¾¡éœ€è¦ç»¼åˆè¿ç”¨å„ç§æŠ€æœ¯æ‰‹æ®µ,ä»ç½‘ç»œã€æœåŠ¡å’Œåº”ç”¨å±‚è¿›è¡Œé˜²æŠ¤,æœ€å¤§ç¨‹åº¦å‡è½»æ”»å‡»å½±å“ã€‚</p></li></ul></blockquote>]]></content>
      
      
      <categories>
          
          <category> ç½‘ç»œå®‰å…¨ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç½‘ç»œå®‰å…¨ </tag>
            
            <tag> DDoS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¯†é’¥åˆ†é…</title>
      <link href="/%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/%E3%80%8A%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%20%E7%AC%AC7%E7%89%88%E3%80%8B/%E7%AC%AC7%E7%AB%A0%20%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/7.5%20%E5%AF%86%E9%92%A5%E5%88%86%E9%85%8D/"/>
      <url>/%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/%E3%80%8A%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%20%E7%AC%AC7%E7%89%88%E3%80%8B/%E7%AC%AC7%E7%AB%A0%20%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/7.5%20%E5%AF%86%E9%92%A5%E5%88%86%E9%85%8D/</url>
      
        <content type="html"><![CDATA[<h1 id="å¯†é’¥åˆ†é…"><a href="#å¯†é’¥åˆ†é…" class="headerlink" title="å¯†é’¥åˆ†é…"></a>å¯†é’¥åˆ†é…</h1><p>ç”±äºå¯†ç ç®—æ³•æ˜¯å…¬å¼€çš„ï¼Œç½‘è·¯çš„å®‰å…¨æ€§å°±å®Œå…¨åŸºäºå¯†é’¥çš„å®‰å…¨ä¿æŠ¤ä¸Šã€‚å› æ­¤åœ¨å¯†ç å­¦ä¸­å‡ºç°äº†ä¸€ä¸ªé‡è¦çš„åˆ†æ”¯â€”â€”å¯†é’¥ç®¡ç†ã€‚å¯†é’¥ç®¡ç†åŒ…æ‹¬ï¼šå¯†é’¥çš„äº§ç”Ÿã€åˆ†é…ã€æ³¨å…¥ã€éªŒè¯å’Œä½¿ç”¨ã€‚æœ¬èŠ‚åªè®¨è®ºå¯†é’¥çš„åˆ†é…ã€‚</p><blockquote><p><strong>å¯†é’¥åˆ†é…</strong>ï¼ˆæˆ–<strong>å¯†é’¥åˆ†å‘</strong>ï¼‰æ˜¯å¯†é’¥ç®¡ç†ä¸­æœ€å¤§çš„é—®é¢˜ã€‚å¯†é’¥å¿…é¡»é€šè¿‡æœ€å®‰å…¨çš„é€šè·¯è¿›è¡Œåˆ†é…ã€‚</p><p>ä¾‹å¦‚ï¼Œå¯ä»¥æ´¾éå¸¸å¯é çš„ä¿¡ä½¿æºå¸¦å¯†é’¥åˆ†é…ç»™äº’ç›¸é€šä¿¡çš„å„ç”¨æˆ·ã€‚è¿™ç§æ–¹æ³•ç§°ä¸º<strong>ç½‘å¤–åˆ†é…æ–¹å¼</strong>ã€‚ä½†éšç€ç”¨æˆ·çš„å¢å¤šå’Œç½‘ç»œæµé‡çš„å¢å¤§ï¼Œå¯†é’¥æ›´æ¢é¢‘ç¹ï¼ˆå¯†é’¥å¿…é¡»å®šæœŸæ›´æ¢æ‰èƒ½åšåˆ°å¯é ï¼‰ï¼Œæ´¾ä¿¡ä½¿çš„åŠæ³•å·²ä¸å†ä½¿ç”¨ï¼Œè€Œåº”é‡‡ç”¨ç½‘å†…åˆ†é…æ–¹å¼ï¼Œå³å¯¹å¯†é’¥è‡ªåŠ¨åˆ†é…ã€‚</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> ç«‹å¿—åšè§ˆç¾¤ä¹¦ </category>
          
          <category> ã€Šè®¡ç®—æœºç½‘ç»œ ç¬¬7ç‰ˆã€‹ </category>
          
          <category> ç¬¬7ç«  ç½‘ç»œå®‰å…¨ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å¯†é’¥ç®¡ç† </tag>
            
            <tag> å¯¹ç§°å¯†é’¥ </tag>
            
            <tag> å…¬é’¥ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç¬¬7ç«  ç½‘ç»œå®‰å…¨</title>
      <link href="/%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/%E3%80%8A%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%20%E7%AC%AC7%E7%89%88%E3%80%8B/%E7%AC%AC7%E7%AB%A0%20%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/index/"/>
      <url>/%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/%E3%80%8A%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%20%E7%AC%AC7%E7%89%88%E3%80%8B/%E7%AC%AC7%E7%AB%A0%20%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/index/</url>
      
        <content type="html"><![CDATA[<p>æœ¬ç« åªæ˜¯å¯¹è®¡ç®—æœºç½‘ç»œå®‰å…¨é—®é¢˜è¿›è¡Œåˆæ­¥çš„ä»‹ç»ã€‚</p><p>æœ¬ç« æœ€é‡è¦çš„å†…å®¹æ˜¯ï¼š</p><ol><li>è®¡ç®—æœºå®Œäº†è¿‡é¢ä¸´çš„å®‰å…¨æ€§å¨èƒå’Œè®¡ç®—æœºç½‘ç»œå®‰å…¨çš„ä¸»è¦é—®é¢˜</li></ol>]]></content>
      
      
      <categories>
          
          <category> ç«‹å¿—åšè§ˆç¾¤ä¹¦ </category>
          
          <category> ã€Šè®¡ç®—æœºç½‘ç»œ ç¬¬7ç‰ˆã€‹ </category>
          
          <category> ç¬¬7ç«  ç½‘ç»œå®‰å…¨ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç½‘ç»œå®‰å…¨ </tag>
            
            <tag> é˜²ç«å¢™ </tag>
            
            <tag> å¯¹ç§°å¯†é’¥ </tag>
            
            <tag> å…¬é’¥ </tag>
            
            <tag> ssl </tag>
            
            <tag> tls </tag>
            
            <tag> ç³»ç»Ÿå®‰å…¨ </tag>
            
            <tag> æ•°å­—ç­¾åä¸é‰´åˆ« </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è¿”å›å€¼ç±»å‹çš„è§„èŒƒ</title>
      <link href="/%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/%E3%80%8AWindows%E6%A0%B8%E5%BF%83%E7%BC%96%E7%A8%8B%E3%80%8B/1-1-%E8%BF%94%E5%9B%9E%E5%80%BC%E7%B1%BB%E5%9E%8B%E7%9A%84%E8%A7%84%E8%8C%83/"/>
      <url>/%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/%E3%80%8AWindows%E6%A0%B8%E5%BF%83%E7%BC%96%E7%A8%8B%E3%80%8B/1-1-%E8%BF%94%E5%9B%9E%E5%80%BC%E7%B1%BB%E5%9E%8B%E7%9A%84%E8%A7%84%E8%8C%83/</url>
      
        <content type="html"><![CDATA[<p>å‚ç…§ Windows å¯¹ç¨‹åºé”™è¯¯çš„å¤„ç†ä¸­ï¼Œå‡½æ•°å¸¸ç”¨è¿”å›å€¼çš„è®¾ç½®ï¼Œä½œä¸ºC++å¼€å‘ï¼Œä¹Ÿåº”è¯¥å‚ç…§è¿™ä¸€æ ‡å‡†ã€‚</p><blockquote><p>å½“è°ƒç”¨ä¸€ä¸ª Windows å‡½æ•°æ—¶ï¼Œå®ƒé¦–å…ˆè¦æ£€éªŒä¼ é€’ç»™å®ƒçš„çš„å„ä¸ªå‚æ•°çš„æœ‰æ•ˆæ€§ï¼Œç„¶åå†è®¾æ³•</p><p>æ‰§è¡Œä»»åŠ¡ã€‚å¦‚æœä¼ é€’äº†ä¸€ä¸ªæ— æ•ˆå‚æ•°ï¼Œæˆ–è€…ç”±äºæŸç§åŸå› æ— æ³•æ‰§è¡Œè¿™é¡¹æ“ä½œï¼Œé‚£ä¹ˆæ“ä½œç³»ç»Ÿå°±</p><p>ä¼šè¿”å›ä¸€ä¸ªå€¼ï¼ŒæŒ‡æ˜è¯¥å‡½æ•°åœ¨æŸç§ç¨‹åº¦ä¸Šè¿è¡Œå¤±è´¥äº†ã€‚è¡¨ 1 - 1åˆ—å‡ºäº†å¤§å¤šæ•° Windows å‡½æ•°ä½¿ç”¨</p><p>çš„è¿”å›å€¼çš„æ•°æ®ç±»å‹</p></blockquote><center>Windows å‡½æ•°å¸¸ç”¨çš„è¿”å›å€¼ç±»å‹</center><table><thead><tr><th>æ•°æ®ç±»å‹</th><th>è¡¨ç¤ºå¤±è´¥çš„å€¼</th></tr></thead><tbody><tr><td>void</td><td>è¯¥å‡½æ•°çš„è¿è¡Œä¸å¯èƒ½å¤±è´¥ã€‚Windows å‡½æ•°çš„è¿”å›å€¼ç±»å‹å¾ˆå°‘æ˜¯ void</td></tr><tr><td>bool</td><td>å¦‚æœå‡½æ•°è¿è¡Œå¤±è´¥ï¼Œé‚£ä¹ˆè¿”å›å€¼æ˜¯0ï¼Œå¦åˆ™è¿”å›çš„æ˜¯é0å€¼ã€‚æœ€å¥½å¯¹è¿”å›å€¼è¿›è¡Œæµ‹è¯•ï¼Œä»¥ç¡®å®šå®ƒæ˜¯0è¿˜æ˜¯é0ã€‚ä¸è¦æµ‹è¯•è¿”å›å€¼æ˜¯å¦ä¸ºTRUE</td></tr><tr><td>HANDLE</td><td>å¦‚æœå‡½æ•°è¿è¡Œå¤±è´¥ï¼Œåˆ™è¿”å›å€¼é€šå¸¸æ˜¯ NULLï¼Œå¦åˆ™è¿”å›å€¼ä¸º HANDLEï¼Œç”¨äºæ ‡è¯†ä½ å¯ä»¥æ“ä½œçš„ä¸€ä¸ªå¯¹è±¡ã€‚æ³¨æ„ï¼Œæœ‰äº›å‡½æ•°ä¼šè¿”å›ä¸€ä¸ªå¥æŸ„å€¼ INVALID_ HANDLE_VALUEï¼Œå®ƒè¢«å®šä¹‰ä¸º -1ã€‚å‡½æ•°çš„Platform SDK æ–‡æ¡£å°†ä¼šæ¸…æ¥šåœ°è¯´æ˜è¯¥å‡½æ•°è¿è¡Œå¤±è´¥æ—¶è¿”å›çš„æ˜¯ NULL è¿˜æ˜¯ INVALID_HANDLE_VALID</td></tr><tr><td>PVOID</td><td>å¦‚æœå‡½æ•°è¿è¡Œå¤±è´¥ï¼Œåˆ™è¿”å›å€¼æ˜¯ NULLï¼Œå¦åˆ™è¿”å›PVOIDï¼Œä»¥æ ‡è¯†æ•°æ®å—çš„å†…å­˜åœ°å€</td></tr><tr><td>LONG&#x2F;DWORD</td><td>è¿™æ˜¯ä¸ªéš¾ä»¥å¤„ç†çš„å€¼ã€‚è¿”å›æ•°é‡çš„å‡½æ•°é€šå¸¸è¿”å›LONGæˆ–DWORDã€‚å¦‚æœç”±äºæŸç§åŸå› ï¼Œå‡½æ•°æ— æ³•å¯¹æƒ³è¦è¿›è¡Œè®¡æ•°çš„å¯¹è±¡è¿›è¡Œè®¡æ•°ï¼Œé‚£ä¹ˆè¯¥å‡½æ•°é€šå¸¸è¿”å› 0æˆ–-1ï¼ˆæ ¹æ®å‡½æ•°è€Œå®šï¼‰ã€‚å¦‚æœè°ƒç”¨çš„å‡½æ•°åæ‚”äº†LONG&#x2F;DWORDï¼Œé‚£ä¹ˆéœ€è¦é˜…è¯»ç›¸åº”çš„å‡½æ•°è¯´æ˜ï¼Œä»¥ç¡®ä¿èƒ½æ­£ç¡®æ£€æŸ¥æ½œåœ¨çš„é”™è¯¯ã€‚</td></tr></tbody></table><p>ä¸€ä¸ª <code>Windows</code> å‡½æ•°è¿”å›çš„é”™è¯¯ä»£ç å¯¹äº†è§£è¯¥å‡½æ•°ä¸ºä»€ä¹ˆä¼šè¿è¡Œå¤±è´¥å°å°å¾ˆæœ‰ç”¨ã€‚</p><blockquote><p>ä»ç³»ç»Ÿå†…éƒ¨æ¥è®²ï¼Œå½“ä¸€ä¸ªWindowså‡½æ•°æ£€æµ‹åˆ°ä¸€ä¸ªé”™è¯¯æ—¶ï¼Œå®ƒä¼šä½¿ç”¨ä¸€ä¸ªç§°ä¸ºçº¿ç¨‹æœ¬åœ°å­˜å‚¨å™¨ï¼ˆthread-local storageï¼‰çš„æœºåˆ¶ï¼Œå°†ç›¸åº”çš„é”™è¯¯ä»£ç å·ç ä¸è°ƒç”¨çš„çº¿ç¨‹å…³è”èµ·æ¥ã€‚è¿™å°†ä½¿çº¿ç¨‹èƒ½å¤Ÿäº’ç›¸ç‹¬ç«‹è¿è¡Œï¼Œè€Œä¸ä¼šå½±å“å„è‡ªçš„é”™è¯¯ä»£ç ã€‚å½“å‡½æ•°è¿”å›æ—¶ï¼Œå®ƒçš„è¿”å›å€¼å°±èƒ½æŒ‡æ˜ä¸€ä¸ªé”™è¯¯å·²ç»å‘ç”Ÿã€‚è‹¥è¦ç¡®å®šè¿™æ˜¯ä¸ªä»€ä¹ˆé”™è¯¯ï¼Œåˆ™éœ€è¦è°ƒç”¨ <code>GetLastError</code> å‡½æ•°ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DWORD GetLastError</span><br></pre></td></tr></table></figure></blockquote>]]></content>
      
      
      <categories>
          
          <category> ç«‹å¿—åšè§ˆç¾¤ä¹¦ </category>
          
          <category> ã€ŠWindowsæ ¸å¿ƒç¼–ç¨‹ã€‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ã€ŠWindowsæ ¸å¿ƒç¼–ç¨‹ã€‹ </tag>
            
            <tag> è§„èŒƒ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>OSIå‚è€ƒæ¨¡å‹</title>
      <link href="/%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/%E3%80%8A%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3Windows%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E3%80%8B/7-1-OSI%E5%8F%82%E8%80%83%E6%A8%A1%E5%9E%8B/"/>
      <url>/%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/%E3%80%8A%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3Windows%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E3%80%8B/7-1-OSI%E5%8F%82%E8%80%83%E6%A8%A1%E5%9E%8B/</url>
      
        <content type="html"><![CDATA[<p>OSI å‚è€ƒæ¨¡å‹æ˜¯ä¸€ä¸ªç†æƒ³åŒ–çš„æ–¹æ¡ˆã€‚è¿™ä¹ˆè¯´æ˜¯å› ä¸ºå¾ˆå°‘æœ‰ç³»ç»Ÿæ˜¯å®Œå…¨æŒ‰ç…§å®ƒæ¥å®ç°ï¼ˆå…³äºè¿™ä¸€ç‚¹å¯ä»¥åç»­å†è®¨è®ºï¼‰ï¼Œä½†æ˜¯å®ƒé€šå¸¸è¢«ç”¨æ¥ä½œä¸ºç½‘ç»œåŸç†è®¨è®ºçš„æ¡†æ¶ã€‚</p><blockquote><p>ä¸€å°æœºå™¨ä¸Šçš„æ¯ä¸€å±‚éƒ½å‡è®¾å®ƒåœ¨è·Ÿå¦ä¸€å°æœºå™¨ä¸Šçš„åŒä¸€å±‚â€œé€šè¯â€ã€‚åœ¨åŒä¸€å±‚æ¬¡ä¸Šï¼Œä¸¤å°æœºå™¨â€œè¯´â€çš„æ˜¯åŒä¸€ç§è¯­è¨€æˆ–åè®®ã€‚</p></blockquote><p>æ¯ä¸€æ¬¡ç½‘ç»œä¼ è¾“å¿…é¡»éƒ½è¦å‘ä¸‹ä¼ è¾“ï¼Œé€šè¿‡å®¢æˆ·æœºå™¨çš„æ¯ä¸€å±‚ï¼Œå†ä¼ è¾“åˆ°ç½‘ç»œä¸Šï¼Œç„¶åå†ç›®æ ‡æœºå™¨ä¸Šå‘ä¸Šä¼ é€’ï¼Œç›´è‡³åˆ°è¾¾æŸä¸€å¯ä»¥ç†è§£å’Œæ‰§è¡Œè¯¥è¯·æ±‚çš„å±‚ã€‚</p><p>åœ¨ OSI æ¨¡å‹ä¸­ï¼Œæ¯ä¸€å±‚çš„ç›®çš„æ˜¯ï¼šå‘æ›´é«˜çš„å±‚æä¾›æœåŠ¡ï¼Œå¹¶ä¸”å¯¹å¦‚ä½•åœ¨ä½å±‚ä¸Šå®ç°è¿™äº›æœåŠ¡è¿›è¡ŒæŠ½è±¡ã€‚</p><p>ä»¥ä¸‹å†…å®¹ä¸º OSI ä¸ƒå±‚ä¸­æ¯ä¸€å±‚çš„ä»‹ç»:</p><ol><li>ç‰©ç†å±‚</li><li>æ•°æ®é“¾è·¯å±‚</li><li>ç½‘ç»œå±‚</li><li>ä¼ è¾“å±‚</li><li>ä¼šè¯å±‚</li><li>è¡¨ç¤ºå±‚</li><li>åº”ç”¨å±‚</li></ol>]]></content>
      
      
      <categories>
          
          <category> ç«‹å¿—åšè§ˆç¾¤ä¹¦ </category>
          
          <category> ã€Šæ·±å…¥ç†è§£Windowsæ“ä½œç³»ç»Ÿã€‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ã€Šæ·±å…¥ç†è§£Windowsæ“ä½œç³»ç»Ÿã€‹ </tag>
            
            <tag> ç½‘ç»œç¼–ç¨‹ </tag>
            
            <tag> Windows </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>çƒ­è¡¥ä¸æ”¯æŒ</title>
      <link href="/%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/%E3%80%8A%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3Windows%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E3%80%8B/3-13-%E7%83%AD%E8%A1%A5%E4%B8%81%E6%94%AF%E6%8C%81/"/>
      <url>/%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/%E3%80%8A%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3Windows%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E3%80%8B/3-13-%E7%83%AD%E8%A1%A5%E4%B8%81%E6%94%AF%E6%8C%81/</url>
      
        <content type="html"><![CDATA[<p>[TOC]</p><h1 id="è¡¥ä¸"><a href="#è¡¥ä¸" class="headerlink" title="è¡¥ä¸"></a>è¡¥ä¸</h1><h2 id="å®šä¹‰"><a href="#å®šä¹‰" class="headerlink" title="å®šä¹‰"></a>å®šä¹‰</h2><p>è¡¥ä¸æ˜¯æŒ‡è¡£æœã€è¢«è¤¥ä¸Šä¸ºé®æ©ç ´æ´è€Œé’‰è¡¥ä¸Šçš„å°å¸ƒå—ã€‚æ˜ç™½äº†å—ï¼Ÿ</p><blockquote><p>ç°åœ¨ä¹ŸæŒ‡å¯¹äºå¤§å‹<a href="https://baike.baidu.com/item/%E8%BD%AF%E4%BB%B6">è½¯ä»¶</a>ç³»ç»Ÿ(å¦‚<a href="https://baike.baidu.com/item/%E5%BE%AE%E8%BD%AF%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/233219">å¾®è½¯æ“ä½œç³»ç»Ÿ</a>)åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­æš´éœ²çš„é—®é¢˜ï¼ˆä¸€èˆ¬ç”±<a href="https://baike.baidu.com/item/%E9%BB%91%E5%AE%A2/118396">é»‘å®¢</a>æˆ–<a href="https://baike.baidu.com/item/%E7%97%85%E6%AF%92/21267">ç—…æ¯’</a>è®¾è®¡è€…å‘ç°ï¼‰è€Œå‘å¸ƒçš„è§£å†³é—®é¢˜çš„å°ç¨‹åºã€‚å°±åƒè¡£æœçƒ‚äº†å°±è¦æ‰“è¡¥ä¸ä¸€æ ·ï¼Œäººç¼–å†™ç¨‹åºä¸å¯èƒ½åå…¨åç¾çš„ï¼Œæ‰€ä»¥<a href="https://baike.baidu.com/item/%E8%BD%AF%E4%BB%B6/12053">è½¯ä»¶</a>ä¹Ÿå…ä¸äº†ä¼šå‡ºç°BUGï¼Œè€Œè¡¥ä¸æ˜¯ä¸“é—¨ä¿®å¤è¿™äº›BUGåšçš„å› ä¸ºåŸæ¥å‘å¸ƒçš„è½¯ä»¶å­˜åœ¨ç¼ºé™·ï¼Œå‘ç°ä¹‹åå¦å¤–ç¼–åˆ¶ä¸€ä¸ªå°ç¨‹åºä½¿å…¶å®Œå–„ï¼Œè¿™ç§å°ç¨‹åºä¿—ç§°è¡¥ä¸ã€‚è¡¥ä¸æ˜¯ç”±<a href="https://baike.baidu.com/item/%E8%BD%AF%E4%BB%B6/12053">è½¯ä»¶</a>çš„åŸæ¥ä½œè€…åˆ¶ä½œçš„ï¼Œå¯ä»¥è®¿é—®ç½‘ç«™ä¸‹è½½è¡¥ä¸ã€‚</p><p>è¡¥ä¸ä¸€èˆ¬éƒ½æ˜¯ <code>.exe</code> æ–‡ä»¶</p></blockquote><h2 id="å¾®è½¯è¡¥ä¸"><a href="#å¾®è½¯è¡¥ä¸" class="headerlink" title="å¾®è½¯è¡¥ä¸"></a>å¾®è½¯è¡¥ä¸</h2><p><a href="https://baike.baidu.com/item/%E5%BE%AE%E8%BD%AF">å¾®è½¯</a>çš„<a href="https://baike.baidu.com/item/Windows%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F">Windowsæ“ä½œç³»ç»Ÿ</a>æ¯”è¾ƒå¤§ï¼Œæ¯”è¾ƒå¤æ‚ã€‚å› æ­¤æ€»æœ‰è€ƒè™‘ä¸å‘¨çš„åœ°æ–¹ã€‚æœ‰äº›ç—…æ¯’æˆ–è€…é»‘å®¢å°±åˆ©ç”¨å¾®è½¯çš„æ¼æ´è¿›è¡Œæ”»å‡»ã€‚å¾®è½¯å‘ç°æ¼æ´åå°±å‘å¸ƒä¸€äº›è¡¥ä¸ç¨‹åºã€‚ æˆ‘ä»¬å¾—åˆ°å¾®è½¯çš„è¡¥ä¸ç¨‹åºåå®‰è£…åˆ°è®¡ç®—æœºä¸Šå°±å«æ‰“è¡¥ä¸ã€‚</p><blockquote><p>ä»€ä¹ˆæ˜¯å¾®è½¯è¡¥ä¸ï¼Ÿ</p><p>å¾®è½¯å‘å¸ƒçš„ç³»ç»Ÿè¡¥ä¸æœ‰ä¸¤ç§ç±»å‹ï¼š<code>Hotfix</code> å’Œ <code>Service Pack</code>ï¼Œä¸‹é¢ä»‹ç»å®ƒä»¬ä¹‹é—´çš„åŒºåˆ«å’Œè”ç³»ã€‚</p><ul><li><code>hotfix</code> æ˜¯å¾®è½¯é’ˆå¯¹æŸä¸€ä¸ªå…·ä½“çš„ç³»ç»Ÿæ¼æ´æˆ–å®‰å…¨é—®é¢˜è€Œå‘å¸ƒçš„ä¸“é—¨è§£å†³ç¨‹åºï¼Œ<code>Hotfix</code>çš„ç¨‹åºæ–‡ä»¶åæœ‰ä¸¥æ ¼çš„è§„å®šï¼Œä¸€èˆ¬æ ¼å¼ä¸ºâ€œäº§å“å-KBXXXXXX-å¤„ç†å™¨å¹³å°-è¯­è¨€ç‰ˆæœ¬.exeâ€ã€‚ç°åœ¨ä¸€ä¸ªä¾‹å­æ¥è¯¦ç»†è¯´æ˜ï¼šå¾®è½¯é’ˆå¯¹éœ‡è¡ç—…æ¯’è€Œå‘å¸ƒçš„<code>Hotfix</code>ç¨‹åºåä¸ºâ€œWin2K-KB835732-X86-CHS.exeâ€ï¼Œæˆ‘ä»¬çŸ¥é“è¿™ä¸ªè¡¥ä¸æ˜¯é’ˆå¯¹Win2000ç³»ç»Ÿçš„ï¼Œå…¶çŸ¥è¯†åº“ç¼–å·ä¸º 835732ï¼Œåº”ç”¨äº X86 å¤„ç†å™¨å¹³å°ï¼Œè¯­è¨€ç‰ˆæœ¬ä¸ºç®€ä½“ä¸­æ–‡ã€‚</li><li><code>Hotfix</code> æ˜¯é’ˆå¯¹æŸä¸€ä¸ªå…·ä½“é—®é¢˜è€Œå‘å¸ƒçš„è§£å†³ç¨‹åºï¼Œå› æ­¤å®ƒä¼šç»å¸¸å‘å¸ƒï¼Œæ•°é‡éå¸¸å¤§ã€‚ç”¨æˆ·æƒ³è¦çŸ¥é“ç›®å‰å·²ç»å‘å¸ƒäº†å“ªäº›<code>Hotfix</code>ç¨‹åºæ˜¯ä¸€ä»¶éå¸¸éº»çƒ¦çš„äº‹ã€‚å› æ­¤å¾®è½¯å°†è¿™äº›<code>Hotfix</code>è¡¥ä¸å…¨éƒ¨æ‰“åŒ…æˆä¸€ä¸ªç¨‹åºæä¾›ç»™ç”¨æˆ·å®‰è£…ï¼Œè¿™å°±æ˜¯<code>Service Pack</code>ï¼Œç®€ç§°<code>SP</code>ã€‚<code>Service Pack</code>åŒ…å«äº†å‘å¸ƒæ—¥æœŸä»¥å‰æ‰€æœ‰çš„<code>Hotfix</code>ç¨‹åºï¼Œå› æ­¤åªè¦å®‰è£…äº†å®ƒï¼Œå°±å¯ä»¥ä¿è¯è‡ªå·±ä¸ä¼šæ¼æ‰ä¸€ä¸ª<code>Hotfix</code>ç¨‹åºã€‚è€Œä¸”å‘å¸ƒæ—¶é—´æ™šçš„<code>Service Pack</code>ç¨‹åºä¼šåŒ…å«ä»¥å‰çš„<code>Service Pack</code>ï¼Œä¾‹å¦‚ <code>SP3</code>ä¼šåŒ…å«<code>SP1</code>ã€<code>SP2</code>çš„æ‰€æœ‰è¡¥ä¸ã€‚</li></ul></blockquote><h1 id="çƒ­è¡¥ä¸æ”¯æŒ"><a href="#çƒ­è¡¥ä¸æ”¯æŒ" class="headerlink" title="çƒ­è¡¥ä¸æ”¯æŒ"></a>çƒ­è¡¥ä¸æ”¯æŒ</h1><blockquote><p>é‡æ–°å¼•å¯¼ä¸€å°æœºå™¨ä»¥ä¾¿æŠŠæœ€æ–°çš„è¡¥ä¸éƒ½åº”ç”¨ä¸Šï¼Œè¿™å¯¹äºæœåŠ¡å™¨æ¥è¯´å¯èƒ½ä¼šæ„å‘³ç€ä¸€æ®µæ˜¾è‘—çš„å®•æœºæ—¶é—´ï¼Œè¿™ä¹Ÿæ­£æ˜¯ä¸ºä»€ä¹ˆWindowsè¦æ”¯æŒè¿è¡Œæ—¶åˆ»çš„è¡¥ä¸æ–¹æ³•ï¼Œç§°ä¸ºçƒ­è¡¥ä¸ï¼ˆhot patchï¼Œæˆ–ç®€åŒ–ä¸ºhotpatchï¼‰ã€‚ä¸ä¹‹ç›¸åçš„æ˜¯å†·è¡¥ä¸ï¼ˆcoldpatchï¼‰ï¼Œå®ƒè¦æ±‚ä¸€æ¬¡é‡æ–°å¼•å¯¼ã€‚çƒ­è¡¥ä¸å¹¶éåªæ˜¯ç®€å•åœ°å…è®¸æ–‡ä»¶å¯åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­è¢«è¦†ç›–;ç›¸ååœ°ï¼Œå®ƒåŒ…æ‹¬äº†ä¸€ç³»åˆ—å¯èƒ½ä¼šè¢«è¯·æ±‚æ‰§è¡Œçš„å¤æ‚æ“ä½œï¼ˆè¿™äº›æ“ä½œä¹Ÿå¯èƒ½ä¼šç»„åˆèµ·æ¥ï¼‰ã€‚</p></blockquote><h2 id="çƒ­è¡¥ä¸æ‰§è¡Œæ“ä½œ"><a href="#çƒ­è¡¥ä¸æ‰§è¡Œæ“ä½œ" class="headerlink" title="çƒ­è¡¥ä¸æ‰§è¡Œæ“ä½œ"></a>çƒ­è¡¥ä¸æ‰§è¡Œæ“ä½œ</h2><p>ä¸‹è¡¨åˆ—å‡ºäº†è¿™äº›æ“ä½œï¼š</p><table><thead><tr><th>æ“ä½œ</th><th>å«ä¹‰</th><th>ç”¨é€”</th></tr></thead><tbody><tr><td>æ˜ åƒæ–‡ä»¶æ”¹åç§°<br />ï¼ˆRename Image)</td><td>æ›¿æ¢ç£ç›˜ä¸Šä¸€ä¸ªæ­£åœ¨è¢«å…¶ä»–åº”ç”¨ç¨‹åºä½¿ç”¨çš„DLLï¼Œæˆ–è€…æ›¿æ¢ç£ç›˜ä¸Šä¸€ä¸ªå·²ç»è¢«å†…æ ¸åŠ è½½åˆ°ç³»ç»Ÿä¸­çš„é©±åŠ¨ç¨‹åº</td><td>å½“ä¸€ä¸ªç”¨æˆ·æ¨¡å¼çš„åº“éœ€è¦å®Œæ•´åœ°è¢«æ›¿æ¢çš„æ—¶å€™ï¼Œå†…æ ¸å¯ä»¥æ£€æµ‹åˆ°å“ªäº›è¿›ç¨‹å’ŒæœåŠ¡æ­£åœ¨å¼•ç”¨è¯¥åº“ï¼Œå°†å®ƒä»¬å¸è½½å‡ºå†…å­˜ï¼Œç„¶åæ›´æ–°DLLï¼Œå†é‡æ–°å¯åŠ¨è¿™äº›ç¨‹åºå’ŒæœåŠ¡ï¼ˆé€šè¿‡<u>é‡å¯ç®¡ç†å™¨</u>[restart manager]æ¥å®Œæˆï¼‰ã€‚å½“ä¸€ä¸ªé©±åŠ¨ç¨‹åºéœ€è¦è¢«æ›¿æ¢çš„æ—¶å€™ï¼Œå†…æ ¸å¯ä»¥å¸è½½è¯¥é©±åŠ¨ç¨‹åºï¼ˆè¯¥é©±åŠ¨ç¨‹åºè¦æ±‚æœ‰ä¸€ä¸ªå¸è½½ä¾‹ç¨‹ï¼‰ï¼Œæ›´æ–°é©±åŠ¨ç¨‹åºï¼Œç„¶åé‡æ–°åŠ è½½æ›¿æ¢åçš„é©±åŠ¨ç¨‹åº</td></tr><tr><td>å¯¹è±¡äº¤æ¢<br />ï¼ˆObject Swapï¼‰</td><td>ä»¥åŸå­æ“ä½œçš„æ–¹å¼æ›´æ”¹å¯¹è±¡ç›®å½•åå­—ç©ºé—´ä¸­çš„ä¸€ä¸ªå¯¹è±¡</td><td>å½“ä¸€ä¸ªæ–‡ä»¶ï¼ˆå¾€å¾€æ˜¯å·²çŸ¥çš„DLLï¼‰éœ€è¦è¢«åŸå­å‡¡äº‹ä¿®æ”¹åç§°ï¼Œä½†ä¸å½±å“ä»»ä½•å¯èƒ½æ­£åœ¨ä½¿ç”¨è¯¥æ–‡ä»¶çš„è¿›ç¨‹æ—¶ï¼ˆæ‰€ä»¥ï¼Œè¿™äº›è¿›ç¨‹å¯ä»¥ç«‹å³ä½¿ç”¨æ–°çš„æ–‡ä»¶ï¼Œä¸”ä»ç„¶ä½¿ç”¨è€çš„å¥æŸ„ï¼Œä½†ä¸è¦æ±‚åº”ç”¨ç¨‹åºé‡æ–°å¯åŠ¨ï¼‰</td></tr><tr><td>è¡¥ä¸å‡½æ•°ä»£ç <br />ï¼ˆPatch Function Codeï¼‰</td><td>å°†ä¸€ä¸ªæ˜ åƒæ–‡ä»¶ä¸­çš„ä¸€ä¸ªæˆ–å¤šä¸ªå‡½æ•°çš„ä»£ç æ›¿æ¢ä¸ºæ–°çš„ç‰ˆæœ¬</td><td>å¦‚æœåœ¨è¿è¡Œæ—¶åˆ»ä¸€ä¸ªDLLæˆ–é©±åŠ¨ç¨‹åºä¸èƒ½è¢«æ›¿æ¢æˆ–ä¿®æ”¹åç§°ï¼Œåˆ™è¯¥æ˜ åƒä¸­çš„å‡½æ•°å¯ä»¥ç›´æ¥è¢«æ‰“ä¸Šè¡¥ä¸ã€‚å¯¹äºä¸€ä¸ªåŒ…å«äº†æ–°ä»£ç çš„çƒ­è¡¥ä¸DLLï¼Œå½“è€çš„å‡½æ•°è¢«è°ƒç”¨æ—¶ï¼Œå®ƒä¼šè·³è½¬åˆ°æ–°çš„ä»£ç ä¸­ã€‚</td></tr><tr><td>åˆ·æ–°ç³»ç»ŸDLL<br />ï¼ˆRefresh System DLLï¼‰</td><td>é‡æ–°ä¸ºNtdll.dllåŠ è½½å†…å­˜æ˜ å°„åŒºå¯¹è±¡</td><td>Windowsçš„ç³»ç»ŸåŸç”Ÿåº“Ntdll.dllåªåœ¨ç³»ç»Ÿå¼•å¯¼è¿‡ç¨‹ä¸­è¢«åŠ è½½ä¸€æ¬¡ï¼Œä»¥ååªæ˜¯è¢«ç®€å•åœ°å¤åˆ¶åˆ°æ¯ä¸ªæ–°è¿›ç¨‹çš„åœ°å€ç©ºé—´ä¸­ã€‚å¦‚æœå®ƒå‘—çƒ­è¡¥ä¸äº†ï¼Œé‚£ä¹ˆï¼Œç³»ç»Ÿå¿…é¡»åˆ·æ–°è¿™ä¸€å†…å­˜åŒºå¯¹è±¡ï¼Œä»¥ä¾¿åŠ è½½æ–°çš„ç‰ˆæœ¬</td></tr></tbody></table><h2 id="ç‰¹æ€§"><a href="#ç‰¹æ€§" class="headerlink" title="ç‰¹æ€§"></a>ç‰¹æ€§</h2><p><mark style="background-color:red">è¿è¡Œæ—¶åˆ»å¸è½½</mark></p><p>çƒ­è¡¥ä¸æ–‡ä»¶çš„æ„æˆé™¤äº†åŒ…æ‹¬è¦æ›¿æ¢çš„å‡½æ•°éƒ¨åˆ†ï¼Œè¿˜åŒ…æ‹¬ä¸€ä¸ª<u><code>Update.exe</code>çš„ç¨‹åº</u>ä»¥åŠ<u>ä¸€ä¸ªé¢å¤–çš„<code>.hp</code>çƒ­è¡¥ä¸æ–‡ä»¶</u>ã€‚</p><ul><li><code>Update.exe</code>ï¼šå®Œæˆè¯¥è¡¥ä¸çš„æå–å·¥ä½œï¼Œä¹Ÿæ‰§è¡Œç›¸åº”çš„æ›´æ–°è¿‡ç¨‹ã€‚</li><li><code>.hp</code>çƒ­è¡¥ä¸æ–‡ä»¶ï¼šæ­¤æ–‡ä»¶åŒ…å«ä¸€ä¸ªç‰¹æ®Šçš„<code>PEå¤´</code>ï¼Œç§°ä¸º<code>.HOT1</code>ã€‚è¯¥PEå¤´åŒ…å«äº†ä¸€ä¸ªæ•°æ®ç»“æ„ï¼Œæè¿°äº†è¯¥æ–‡ä»¶ä¸­å‡ºç°çš„å„ç§è¡¥ä¸æè¿°ç¬¦ï¼ˆpatch descriptorï¼‰ã€‚æ¯ä¸€ä¸ªè¡¥ä¸æè¿°è¿°ç¬¦æŒ‡æ˜äº†åœ¨åŸå§‹æ–‡ä»¶ä¸­éœ€è¦è¢«è¡¥ä¸çš„åç§»ä½ç½®ã€ä¸€ä¸ªéªŒè¯æœºåˆ¶ï¼ˆå®ƒå¯ä»¥åŒ…å«ä¸€ä»½è€æ•°æ®çš„ç®€å•æ¯”è¾ƒã€ä¸€ä¸ªæ ¡éªŒå’Œï¼Œæˆ–è€…ä¸€ä¸ªæ•£åˆ—å€¼ï¼‰ï¼Œä»¥åŠå¾…è¡¥ä¸çš„æ–°æ•°æ®ã€‚å†…æ ¸å°†è§£æè¿™äº›æè¿°ç¬¦ï¼Œå¹¶ä¸”æ‰§è¡Œæ°å½“çš„ä¿®æ”¹åŠ¨ä½œã€‚è‹¥æ˜¯è¢«ä¿æŠ¤çš„è¿›ç¨‹ï¼ˆprotected processï¼Œæœ‰å…³è¿›ç¨‹çš„æ›´å¤šä¿¡æ¯ï¼Œå‚è§ã€Šæ·±å…¥ç†è§£Windowsæ“ä½œç³»ç»Ÿã€‹ç¬¬5ç« ï¼‰ï¼Œæˆ–è€…å…¶ä»–ç»è¿‡æ•°å­—ç­¾åçš„äºŒè¿›åˆ¶æ˜ åƒï¼Œåœ¨è¿™äº›æƒ…å†µä¸‹ï¼Œçƒ­è¡¥ä¸ä¹Ÿå¿…é¡»è¢«ç»è¿‡æ•°å­—ç­¾åï¼Œä»¥é¿å…é’ˆå¯¹æ•æ„Ÿæ–‡ä»¶æˆ–è¿›ç¨‹æ‰§è¡Œâ€œä¼ªé€ çš„â€è¡¥ä¸ã€‚</li></ul><p>åœ¨ç¼–è¯‘æ—¶åˆ»å¯¹çƒ­è¡¥ä¸çš„æ”¯æŒï¼Œæ˜¯é€šè¿‡åœ¨æ¯ä¸ªå‡½æ•°çš„å¼€å§‹å¤„åŠ å…¥7ä¸ªé¢å¤–çš„å­—èŠ‚æ¥åšåˆ°çš„ã€‚å…¶ä¸­5ä¸ªå­—èŠ‚è¢«çœ‹åšå‰ä¸€ä¸ªå‡½æ•°çš„ç»“æŸéƒ¨åˆ†ï¼Œ2ä¸ªå­—èŠ‚è¢«çœ‹ä½œ<strong>å‡½æ•°å‰ç¼€</strong>ï¼ˆfunction prologï¼‰éƒ¨åˆ†ï¼Œä¹Ÿå°±æ˜¯å‡½æ•°çš„å¼€å§‹ã€‚</p><h2 id="é™åˆ¶"><a href="#é™åˆ¶" class="headerlink" title="é™åˆ¶"></a>é™åˆ¶</h2><p>ä½¿ç”¨çƒ­è¡¥ä¸ä¹Ÿå­˜åœ¨ä¸€äº›é™åˆ¶ï¼š</p><ol><li>ä¸å®‰å…¨è½¯ä»¶çš„ä¸å…¼å®¹ã€‚åƒå®‰å…¨è½¯ä»¶ç±»çš„ç¬¬ä¸‰æ–¹åº”ç”¨ç¨‹åºå¯èƒ½ä¼šé˜»æ­¢è¿™æ ·çš„è¡¥ä¸ï¼›è¡¥ä¸ä¹Ÿå¯èƒ½ä¸ç¬¬ä¸‰æ–¹åº”ç”¨ç¨‹åºçš„æ“ä½œç³»ç»Ÿä¸å…¼å®¹</li><li>è¡¥ä¸è¦ä¿®æ”¹ä¸€ä¸ªæ–‡ä»¶çš„å¯¼å‡ºè¡¨æˆ–å¯¼å…¥è¡¨</li><li>è¡¥ä¸è¦æ”¹å˜æ•°æ®ç»“æ„ï¼Œä¿®æ­£æ— é™å¾ªç¯ï¼Œæˆ–è€…åŒ…å«å†…è”çš„æ±‡ç¼–ä»£ç </li></ol>]]></content>
      
      
      <categories>
          
          <category> ç«‹å¿—åšè§ˆç¾¤ä¹¦ </category>
          
          <category> ã€Šæ·±å…¥ç†è§£Windowsæ“ä½œç³»ç»Ÿã€‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ã€Šæ·±å…¥ç†è§£Windowsæ“ä½œç³»ç»Ÿã€‹ </tag>
            
            <tag> Windows </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>&lt;3&gt; ç¡®å®šå¯¹è±¡ä½¿ç”¨å‰åˆå§‹åŒ–</title>
      <link href="/%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/%E3%80%8AEfficient%20C++%E3%80%8B/3_%E7%A1%AE%E5%AE%9A%E5%AF%B9%E8%B1%A1%E4%BD%BF%E7%94%A8%E5%89%8D%E5%88%9D%E5%A7%8B%E5%8C%96/"/>
      <url>/%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/%E3%80%8AEfficient%20C++%E3%80%8B/3_%E7%A1%AE%E5%AE%9A%E5%AF%B9%E8%B1%A1%E4%BD%BF%E7%94%A8%E5%89%8D%E5%88%9D%E5%A7%8B%E5%8C%96/</url>
      
        <content type="html"><![CDATA[<p>[toc]</p><h1 id="æœªåˆå§‹åŒ–çš„å¯¹è±¡"><a href="#æœªåˆå§‹åŒ–çš„å¯¹è±¡" class="headerlink" title="æœªåˆå§‹åŒ–çš„å¯¹è±¡"></a>æœªåˆå§‹åŒ–çš„å¯¹è±¡</h1><p>åœ¨åˆå§‹åŒ–å¯¹è±¡çš„å€¼æ–¹é¢ï¼ŒC++ ä¼¼ä¹ç›¸å½“å–„å˜ã€‚å¦‚ä¸‹é¢ç¤ºä¾‹ä»£ç ï¼Œ<code>g_var</code> ä¸ºå…¨å±€å˜é‡ï¼Œè‡ªåŠ¨åˆå§‹åŒ–ä¸º 0ï¼Œè€Œ a æ˜¯ä¸€ä¸ªéšæœºå€¼ã€‚p çš„æˆå‘˜å˜é‡æœ‰æ—¶å€™è¢«åˆå§‹åŒ–ä¸º 0ï¼Œæœ‰æ—¶å€™ä¸ä¼šï¼Œä»è¿è¡Œç»“æœæ¥çœ‹ä¸¤æ¬¡éƒ½å·²ç»åˆå§‹åŒ–ä¸º 0ã€‚</p><p>è€Œå…¶ä»–å˜æˆè¯­è¨€ä¸­ç”¨ä¸€ä¸ª â€œæ— åˆå€¼å¯¹è±¡â€ æ˜¯ä¸å­˜åœ¨çš„ï¼Œè¿™å¾ˆé‡è¦ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// initObj.h</span></span><br><span class="line"><span class="meta">#<span class="keyword">ifndef</span> __INITOBJ_H__</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> __INITOBJ_H__</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> g_var;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Point</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Point</span>() &#123;&#125;</span><br><span class="line">    ~<span class="built_in">Point</span>() &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">x</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> xp; &#125;</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">y</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> yp; &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="type">int</span> xp;</span><br><span class="line">    <span class="type">int</span> yp;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span> <span class="comment">// __INITOBJ_H__</span></span></span><br></pre></td></tr></table></figure><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// initObj.cpp</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;initObj.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> a;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;a = &quot;</span> &lt;&lt; a &lt;&lt; std::endl;</span><br><span class="line"></span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;g_var = &quot;</span> &lt;&lt; g_var &lt;&lt; std::endl;</span><br><span class="line"></span><br><span class="line">    Point p;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;Point::x = &quot;</span> &lt;&lt; p.<span class="built_in">x</span>() &lt;&lt; std::endl;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;Point::y = &quot;</span> &lt;&lt; p.<span class="built_in">y</span>() &lt;&lt; std::endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="C-åˆå§‹åŒ–"><a href="#C-åˆå§‹åŒ–" class="headerlink" title="C++åˆå§‹åŒ–"></a>C++åˆå§‹åŒ–</h1><p>é€šå¸¸å¦‚æœä½ ä½¿ç”¨ç±» C è¯­æ³•éƒ¨åˆ†è€Œæœªåˆå§‹åŒ–å¯èƒ½æ‹›è‡´è¿è¡ŒæœŸæˆæœ¬ï¼Œé‚£ä¹ˆå°±ä¸ä¿è¯å‘ç”Ÿåˆå§‹åŒ–ã€‚ä¸€æ—¦è¿›å…¥çº¯ C++ éƒ¨åˆ†ï¼Œè§„åˆ™æœ‰äº›å˜åŒ–ã€‚è¿™å°±å¾ˆå¥½åœ°è§£é‡Šäº†ä¸ºä»€ä¹ˆæ•°ç»„ä¸ä¿è¯å…¶å†…å®¹è¢«åˆå§‹åŒ–ï¼Œè€Œ <code>vector</code> å´èƒ½ä¿è¯åˆå§‹åŒ–ã€‚</p><h4 id="åŸºç¡€æ•°æ®ç±»å‹åˆå§‹åŒ–"><a href="#åŸºç¡€æ•°æ®ç±»å‹åˆå§‹åŒ–" class="headerlink" title="åŸºç¡€æ•°æ®ç±»å‹åˆå§‹åŒ–"></a>åŸºç¡€æ•°æ®ç±»å‹åˆå§‹åŒ–</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// baseData.cpp</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> x = <span class="number">0</span>;                              <span class="comment">// æ‰‹åŠ¨åˆå§‹åŒ– int ç±»å‹å¯¹è±¡</span></span><br><span class="line">    <span class="type">const</span> <span class="type">char</span> * text = <span class="string">&quot;shiyanlou&quot;</span>;        <span class="comment">// æ‰‹åŠ¨åˆå§‹åŒ–æŒ‡é’ˆå­—ç¬¦ä¸²</span></span><br><span class="line">    <span class="type">double</span> d;                               <span class="comment">// é€šè¿‡è¯»å–è¾“å…¥æ–¹å¼åˆå§‹åŒ–</span></span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;è¯·è¾“å…¥ï¼š&quot;</span>;</span><br><span class="line">    std::cin &gt;&gt; d;</span><br><span class="line"></span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;x = &quot;</span> &lt;&lt; x &lt;&lt; std::endl;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;text = &quot;</span> &lt;&lt; text &lt;&lt; std::endl;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;d = &quot;</span> &lt;&lt; d &lt;&lt; std::endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="ç±»åˆå§‹åŒ–"><a href="#ç±»åˆå§‹åŒ–" class="headerlink" title="ç±»åˆå§‹åŒ–"></a>ç±»åˆå§‹åŒ–</h4><p>è‡³äºå†…ç½®ç±»å‹ä»¥å¤–çš„ä»»ä½•å…¶ä»–å¯¹è±¡ï¼Œåˆå§‹åŒ–è´£ä»»è½åœ¨äº†æ„é€ å‡½æ•°ã€‚è§„åˆ™å¾ˆç®€å•ï¼Œç¡®ä¿æ¯ä¸€ä¸ªæ„é€ å‡½æ•°éƒ½å°†å¯¹è±¡çš„æ¯ä¸€ä¸ªæˆå‘˜åˆå§‹åŒ–ã€‚</p><p>è¿™ä¸ªè§„åˆ™å¾ˆç®€å•ï¼Œé‡è¦çš„æ˜¯åˆ«æ··æ·†äº†èµ‹å€¼å’Œåˆå§‹åŒ–ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// initClass.h</span></span><br><span class="line"><span class="meta">#<span class="keyword">ifndef</span> __INITCLASS_H__</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> __INITCLASS_H__</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;list&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">PhoneNumber</span> &#123;  &#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ABEntry</span></span><br><span class="line">&#123; <span class="comment">// ABEntry = â€œAddress Book Entryâ€</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">ABEntry</span>(<span class="type">const</span> std::string&amp; name, <span class="type">const</span> std::string&amp; address,</span><br><span class="line">    <span class="type">const</span> std::list&lt;PhoneNumber&gt;&amp; phones);</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    std::string theName;</span><br><span class="line">    std::string theAddress;</span><br><span class="line">    std::list&lt;PhoneNumber&gt; thePhones;</span><br><span class="line">    <span class="type">int</span> numTimesConsulted;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span> <span class="comment">// __INITCLASS_H__</span></span></span><br></pre></td></tr></table></figure><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// initClass.cpp</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;initClass.h&quot;</span></span></span><br><span class="line"></span><br><span class="line">ABEntry::<span class="built_in">ABEntry</span>(<span class="type">const</span> std::string&amp; name,</span><br><span class="line">    <span class="type">const</span> std::string&amp; address,</span><br><span class="line">    <span class="type">const</span> std::list&lt;PhoneNumber&gt;&amp; phones)</span><br><span class="line">&#123;</span><br><span class="line">    theName = name;         <span class="comment">// è¿™äº›éƒ½æ˜¯èµ‹å€¼è€Œéåˆå§‹åŒ–</span></span><br><span class="line">    theAddress = address;</span><br><span class="line">    thePhones = phones;</span><br><span class="line">    numTimesConsulted = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™å°†äº§ç”Ÿå…·æœ‰ä½ æœŸæœ›çš„å€¼çš„ <code>ABEntry</code> å¯¹è±¡ï¼Œä½†è¿™ä»ç„¶ä¸æ˜¯æœ€å¥½çš„æ–¹æ³•ã€‚C++ çš„è§„åˆ™è§„å®šï¼Œå¯¹è±¡çš„æ•°æ®æˆå‘˜åœ¨è¿›å…¥æ„é€ å‡½æ•°çš„ä¸»ä½“ä¹‹å‰è¢«åˆå§‹åŒ–ã€‚åœ¨ <code>ABEntry</code> æ„é€ å‡½æ•°ä¸­ï¼Œ<code>theName</code>ã€<code>theAddress</code> å’Œ <code>thePhones</code> æ²¡æœ‰è¢«åˆå§‹åŒ–ï¼Œå®ƒä»¬åªæ˜¯è¢«èµ‹å€¼ã€‚åˆå§‹åŒ–å‘ç”Ÿåœ¨è¿›å…¥ <code>ABEntry</code> æ„é€ å‡½æ•°æ­£æ–‡ä¹‹å‰ï¼Œå³è‡ªåŠ¨è°ƒç”¨å®ƒä»¬çš„é»˜è®¤æ„é€ å‡½æ•°æ—¶è¿›è¡Œçš„ã€‚åœ¨è¿›å…¥ <code>ABEntry</code> æ„é€ å‡½æ•°çš„ä¸»ä½“ä¹‹å‰ï¼Œå·²ç»è¿›è¡Œäº†åˆå§‹åŒ–ã€‚è¿™å¯¹äº <code>numTimesConsulted</code> ä¸æ˜¯è¿™æ ·ï¼Œå› ä¸ºå®ƒæ˜¯ä¸€ä¸ªå†…ç½®ç±»å‹ã€‚å¯¹å®ƒæ¥è¯´ï¼Œä¸èƒ½ä¿è¯å®ƒåœ¨è¢«èµ‹å€¼ä¹‹å‰å°±è¢«åˆå§‹åŒ–äº†ã€‚</p><h1 id="åˆå§‹åŒ–åˆ—è¡¨"><a href="#åˆå§‹åŒ–åˆ—è¡¨" class="headerlink" title="åˆå§‹åŒ–åˆ—è¡¨"></a>åˆå§‹åŒ–åˆ—è¡¨</h1><p><code>ABEntry</code> æ„é€ å‡½æ•°çš„ä¸€ä¸ªè¾ƒä½³å†™æ³•æ˜¯ä½¿ç”¨åˆå§‹åŒ–åˆ—è¡¨è¿›è¡Œåˆå§‹åŒ–ã€‚</p><h4 id="åˆå§‹åŒ–åˆ—è¡¨ä½¿ç”¨æ–¹æ³•"><a href="#åˆå§‹åŒ–åˆ—è¡¨ä½¿ç”¨æ–¹æ³•" class="headerlink" title="åˆå§‹åŒ–åˆ—è¡¨ä½¿ç”¨æ–¹æ³•"></a>åˆå§‹åŒ–åˆ—è¡¨ä½¿ç”¨æ–¹æ³•</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// initList.h</span></span><br><span class="line"><span class="meta">#<span class="keyword">ifndef</span> __INITLIST_H__</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> __INITLIST_H__</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;list&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">PhoneNumber</span> &#123;  &#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ABEntry</span></span><br><span class="line">&#123; <span class="comment">// ABEntry = â€œAddress Book Entryâ€</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">ABEntry</span>(<span class="type">const</span> std::string&amp; name, <span class="type">const</span> std::string&amp; address,</span><br><span class="line">    <span class="type">const</span> std::list&lt;PhoneNumber&gt;&amp; phones);</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    std::string theName;</span><br><span class="line">    std::string theAddress;</span><br><span class="line">    std::list&lt;PhoneNumber&gt; thePhones;</span><br><span class="line">    <span class="type">int</span> numTimesConsulted;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span> <span class="comment">// __INITLIST_H__</span></span></span><br></pre></td></tr></table></figure><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// initList.cpp</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;initList.h&quot;</span></span></span><br><span class="line"></span><br><span class="line">ABEntry::<span class="built_in">ABEntry</span>(<span class="type">const</span> std::string&amp; name,</span><br><span class="line">    <span class="type">const</span> std::string&amp; address,</span><br><span class="line">    <span class="type">const</span> std::list&lt;PhoneNumber&gt;&amp; phones) :</span><br><span class="line">    <span class="built_in">theName</span>(name),      <span class="comment">// ä»¥ä¸‹ä½¿ç”¨åˆå§‹åŒ–åˆ—è¡¨ï¼Œä»å†’å·ï¼ˆ:ï¼‰åå¼€å§‹</span></span><br><span class="line">    <span class="built_in">theAddress</span>(address),</span><br><span class="line">    <span class="built_in">thePhones</span>(phones),</span><br><span class="line">    <span class="built_in">numTimesConsulted</span>(<span class="number">0</span>)</span><br><span class="line">&#123;&#125;                      <span class="comment">// æ„é€ å‡½æ•°ä¸­ä¸ºç©º</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç¤ºä¾‹ä»£ç ä¸­æ„é€ å‡½æ•°ä¸åœ¨æ„é€ å‡½æ•°ä¸­èµ‹å€¼çš„æœ€ç»ˆç»“æœç›¸åŒï¼Œä½†å®ƒå¾€å¾€æ›´æœ‰æ•ˆç‡ã€‚åŸºäºèµ‹å€¼çš„ç‰ˆæœ¬é¦–å…ˆè°ƒç”¨é»˜è®¤æ„é€ å‡½æ•°æ¥åˆå§‹åŒ– <code>theName</code>ã€<code>theAddress</code> å’Œ <code>thePhones</code>ï¼Œç„¶åç«‹å³åœ¨é»˜è®¤æ„é€ çš„åŸºç¡€ä¸Šåˆ†é…æ–°çš„å€¼ã€‚å› æ­¤ï¼Œæ‰€æœ‰åœ¨è¿™äº›é»˜è®¤æ„é€ ä¸­è¿›è¡Œçš„å·¥ä½œéƒ½è¢«æµªè´¹äº†ã€‚æˆå‘˜åˆå§‹åŒ–åˆ—è¡¨çš„æ–¹æ³•é¿å…äº†è¿™ä¸ªé—®é¢˜ï¼Œå› ä¸ºåˆå§‹åŒ–åˆ—è¡¨ä¸­çš„å‚æ•°è¢«ç”¨ä½œå„ç§æ•°æ®æˆå‘˜çš„æ„é€ å™¨å‚æ•°ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ<code>theName</code> æ˜¯ç”± <code>name</code> æ‹·è´æ„é€ çš„ï¼Œ<code>theAddress</code> æ˜¯ç”± <code>address</code> å¤åˆ¶æ„é€ çš„ï¼Œ<code>thePhones</code> æ˜¯ç”± <code>phones</code> æ‹·è´æ„é€ çš„ã€‚</p><p>å¯¹å¤§å¤šæ•°ç±»å‹è€Œè¨€ï¼Œæ¯”èµ·å…ˆè°ƒç”¨é»˜è®¤æ„é€ å‡½æ•°ç„¶åå†è°ƒç”¨æ‹·è´èµ‹å€¼æ“ä½œç¬¦ï¼Œå•åªè°ƒç”¨ä¸€æ¬¡èµ‹å€¼æ„é€ å‡½æ•°æ˜¯æ¯”è¾ƒé«˜æ•ˆçš„ï¼Œæœ‰æ—¶ç”šè‡³é«˜æ•ˆå¾—å¤šã€‚å¯¹äºå†…ç½®å‹å¯¹è±¡å¦‚ <code>numTimesConsulted</code>ï¼Œå…¶åˆå§‹åŒ–å’Œèµ‹å€¼çš„æˆæœ¬ç›¸åŒï¼Œä½†ä¸ºäº†ä¸€è‡´æ€§æœ€å¥½ä¹Ÿé€šè¿‡æˆå‘˜åˆå€¼åˆ—æ¥åˆå§‹åŒ–ã€‚åŒæ ·é“ç†ï¼Œç”šè‡³å½“ä½ æƒ³è¦é»˜è®¤æ„é€ ä¸€ä¸ªæˆå‘˜å˜é‡ï¼Œä½ éƒ½å¯ä»¥ä½¿ç”¨æˆå‘˜åˆå€¼åˆ—ï¼Œåªè¦æŒ‡å®š 0 æˆ–è€…ç©ºä½œä¸ºåˆå§‹åŒ–å®å‚å³å¯ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">ABEntry::<span class="built_in">ABEntry</span>() :</span><br><span class="line">    <span class="built_in">theName</span>(),              <span class="comment">// è°ƒç”¨ thenName é»˜è®¤æ„é€ å‡½æ•°</span></span><br><span class="line">    <span class="built_in">theAddress</span>(),           <span class="comment">// è°ƒç”¨ theAddress é»˜è®¤æ„é€ å‡½æ•°</span></span><br><span class="line">    <span class="built_in">thePhones</span>(),            <span class="comment">// è°ƒç”¨ thePhones é»˜è®¤æ„é€ å‡½æ•°</span></span><br><span class="line">    <span class="built_in">numTimesConsulted</span>(<span class="number">0</span>)    <span class="comment">// åˆå§‹åŒ–ä¸º 0</span></span><br><span class="line">&#123;&#125;</span><br></pre></td></tr></table></figure><h4 id="åˆå§‹åŒ–è¯´æ˜"><a href="#åˆå§‹åŒ–è¯´æ˜" class="headerlink" title="åˆå§‹åŒ–è¯´æ˜"></a>åˆå§‹åŒ–è¯´æ˜</h4><p>å½“ç”¨æˆ·å®šä¹‰ç±»å‹çš„æ•°æ®æˆå‘˜åœ¨æˆå‘˜åˆå§‹åŒ–åˆ—è¡¨ä¸­æ²¡æœ‰åˆå§‹åŒ–æ—¶ï¼Œç¼–è¯‘å™¨ä¼šè‡ªåŠ¨è°ƒç”¨è¿™äº›æ•°æ®æˆå‘˜çš„é»˜è®¤æ„é€ å™¨ï¼Œæ‰€ä»¥æœ‰äº›ç¨‹åºå‘˜è®¤ä¸ºä¸Šè¿°æ–¹æ³•æ˜¯å¤šä½™çš„æ˜¯å¯ä»¥ç†è§£çš„ï¼Œä½†æ˜¯å¦‚æœæœ‰ä¸€ä¸ªæ€»æ˜¯åœ¨åˆå§‹åŒ–åˆ—è¡¨ä¸­åˆ—å‡ºæ¯ä¸ªæ•°æ®æˆå‘˜çš„ç­–ç•¥ï¼Œå°±å¯ä»¥é¿å…è®°ä½å“ªäº›æ•°æ®æˆå‘˜åœ¨è¢«çœç•¥åå¯èƒ½ä¼šè¢«æœªåˆå§‹åŒ–ã€‚ä¾‹å¦‚ï¼Œç”±äº <code>numTimesConsulted</code> æ˜¯ä¸€ä¸ªå†…ç½®çš„ç±»å‹ï¼Œå¦‚æœæ²¡æœ‰åœ¨åˆå§‹åŒ–åˆ—è¡¨ä¸­é—æ¼æ²¡æœ‰åˆå€¼æ—¶å°±ä¼šå¯¼è‡´ä¸æ˜ç¡®è¡Œä¸ºã€‚</p><p>æœ‰äº›æƒ…å†µä¸‹å³ä½¿é¢å¯¹çš„æˆå‘˜å˜é‡å±äºå†…ç½®ç±»å‹ï¼ˆå…¶åˆå§‹åŒ–ä¸èµ‹å€¼çš„æˆæœ¬ç›¸åŒï¼‰ï¼Œä¹Ÿä¸€å®šå¾—ä½¿ç”¨åˆå€¼åˆ—ã€‚æ˜¯çš„ï¼Œå¦‚æœæˆå‘˜å˜é‡æ˜¯å¸¸é‡æˆ–å¼•ç”¨æ—¶ï¼Œå®ƒä»¬å°±ä¸€å®šéœ€è¦åˆå€¼ï¼Œä¸èƒ½è¢«èµ‹å€¼ã€‚ä¸ºé¿å…éœ€è¦è®°ä½æˆå‘˜å˜é‡ä½•æ—¶å¿…é¡»åœ¨æˆå‘˜åˆå€¼åˆ—ä¸­åˆå§‹åŒ–ï¼Œä½•æ—¶ä¸éœ€è¦ï¼Œæœ€ç®€å•çš„åšæ³•å°±æ˜¯ï¼šæ€»æ˜¯ä½¿ç”¨æˆå‘˜åˆå€¼åˆ—ã€‚è¿™æ ·åšæœ‰æ—¶å€™ç»å¯¹å¿…è¦ï¼Œä¸”åˆå¾€å¾€æ¯”èµ‹å€¼æ›´é«˜æ•ˆã€‚</p><p>è®¸å¤šç±»æ‹¥æœ‰å¤šä¸ªæ„é€ å‡½æ•°ï¼Œæ¯ä¸ªæ„é€ å‡½æ•°æœ‰è‡ªå·±çš„æˆå‘˜åˆå€¼åˆ—ã€‚å¦‚æœè¿™ç§ç±»å­˜åœ¨è®¸å¤šæˆå‘˜å˜é‡æˆ–åŸºç±»ï¼Œå¤šä»½æˆå‘˜åˆå€¼åˆ—çš„å­˜åœ¨å°±ä¼šå¯¼è‡´ä¸å—æ¬¢è¿çš„é‡å¤ï¼ˆåœ¨åˆå€¼åˆ—å†…ï¼‰å’Œæ— èŠçš„å·¥ä½œï¼ˆå¯¹ç¨‹åºå‘˜è€Œè¨€ï¼‰ã€‚è¿™ç§æƒ…å†µä¸‹å¯ä»¥åˆç†åœ°åœ¨åˆå€¼åˆ—ä¸­é—æ¼é‚£äº› â€œèµ‹å€¼è¡¨ç°åƒåˆå§‹åŒ–ä¸€æ ·å¥½â€ çš„æˆå‘˜å˜é‡ï¼Œæ”¹ç”¨å®ƒä»¬çš„èµ‹å€¼æ“ä½œï¼Œå¹¶å°†é‚£äº›èµ‹å€¼æ“ä½œç§»å¾€æŸä¸ªå‡½æ•°ï¼ˆé€šå¸¸æ˜¯ç§æœ‰çš„ï¼‰ï¼Œä¾›æ‰€æœ‰æ„é€ å‡½æ•°è°ƒç”¨ã€‚è¿™ç§åšæ³•åœ¨ â€œæˆå‘˜å˜é‡çš„åˆå€¼ç³»ç”±æ–‡ä»¶æˆ–æ•°æ®åº“è¯»å…¥â€ æ—¶ç‰¹åˆ«æœ‰ç”¨ã€‚ç„¶è€Œï¼Œæ¯”èµ·ç»ç”±èµ‹å€¼æ“ä½œå®Œæˆçš„ â€œä¼ªåˆå§‹åŒ–â€ï¼ˆpseudo-initializationï¼‰ï¼Œé€šè¿‡æˆå‘˜åˆå€¼åˆ—å®Œæˆçš„ â€œçœŸæ­£åˆå§‹åŒ–â€ é€šå¸¸æ›´åŠ å¯å–ã€‚</p><p>C++ æœ‰ç€ååˆ†å›ºå®šçš„ â€œæˆå‘˜åˆå§‹åŒ–é¡ºåºâ€ã€‚é¡ºåºæ€»æ˜¯ç›¸åŒï¼šåŸºç±»æ›´æ—©äºå…¶å­ç±»è¢«åˆå§‹åŒ–ï¼Œè€Œç±»çš„æˆå‘˜å˜é‡æ€»æ˜¯ä»¥å…¶å£°æ˜æ¬¡åºè¢«åˆå§‹åŒ–ã€‚å›å¤´çœ‹çœ‹ <code>ABEntry</code>ï¼Œå…¶ <code>theName</code> æˆå‘˜æ°¸è¿œæœ€å…ˆè¢«åˆå§‹åŒ–ï¼Œç„¶åæ˜¯ <code>theAddress</code>ï¼Œå†æ˜¯ <code>thePhones</code>ï¼Œæœ€åæ˜¯ <code>numTimesConsulted</code>ã€‚å³ä½¿å®ƒä»¬åœ¨æˆå‘˜åˆå€¼åˆ—ä¸­ä»¥ä¸åŒçš„é¡ºåºå‡ºç°ï¼ˆå¾ˆä¸å¹¸é‚£æ˜¯åˆæ³•çš„ï¼‰ï¼Œä¹Ÿä¸ä¼šæœ‰ä»»ä½•å½±å“ã€‚ä¸ºé¿å…ä½ æˆ–ä½ çš„æ£€æŸ¥ä»£ç çš„äººè¿·æƒ‘ï¼Œå¹¶é¿å…æŸäº›å¯èƒ½å­˜åœ¨çš„æ™¦æ¶©é”™è¯¯ï¼Œå½“ä½ åœ¨æˆå‘˜åˆå€¼åˆ—ä¸­æ¡åˆ—å„ä¸ªæˆå‘˜æ—¶ï¼Œæœ€å¥½æ€»æ˜¯ä»¥å…¶å£°æ˜æ¬¡åºä¸ºæ¬¡åºã€‚</p><h1 id="åˆå§‹åŒ–é™æ€å¯¹è±¡"><a href="#åˆå§‹åŒ–é™æ€å¯¹è±¡" class="headerlink" title="åˆå§‹åŒ–é™æ€å¯¹è±¡"></a>åˆå§‹åŒ–é™æ€å¯¹è±¡</h1><p>é™æ€ï¼ˆstaticï¼‰å¯¹è±¡å¯¿å‘½ä»è¢«æ„é€ å‡ºæ¥ç›´åˆ°ç¨‹åºç»“æŸä¸ºæ­¢ï¼Œå› æ­¤æ ˆå’Œå †å¯¹è±¡éƒ½è¢«æ’é™¤ã€‚åŒ…æ‹¬å…¨å±€å¯¹è±¡ã€å‘½åç©ºé—´å†…çš„å¯¹è±¡ã€ç±»ã€å‡½æ•°å’Œæ–‡ä»¶å†…è¢«å£°æ˜é™æ€çš„å¯¹è±¡ã€‚å‡½æ•°å†…çš„é™æ€å¯¹è±¡ç§°ä¸ºå±€éƒ¨é™æ€å¯¹è±¡ï¼ˆå› ä¸ºå®ƒä»¬å¯¹å‡½æ•°è€Œè¨€æ˜¯å±€éƒ¨çš„ï¼‰ï¼Œå…¶ä»–é™æ€å¯¹è±¡ç§°ä¸ºéå±€éƒ¨é™æ€å¯¹è±¡ã€‚ç¨‹åºç»“æŸæ—¶é™æ€å¯¹è±¡ä¼šè¢«è‡ªåŠ¨é”€æ¯ï¼Œä¹Ÿå°±æ˜¯å®ƒä»¬çš„ææ„å‡½æ•°ä¼šåœ¨ <code>main()</code> ç»“æŸæ—¶è¢«è‡ªåŠ¨è°ƒç”¨ã€‚</p><h1 id="åˆå§‹åŒ–é¡ºåº"><a href="#åˆå§‹åŒ–é¡ºåº" class="headerlink" title="åˆå§‹åŒ–é¡ºåº"></a>åˆå§‹åŒ–é¡ºåº</h1><p>å¦‚ä¸‹ç¤ºä¾‹ä»£ç ï¼Œæˆ‘ä»¬å…³å¿ƒçš„é—®é¢˜æ¶‰åŠè‡³å°‘ä¸¤ä¸ªæºç æ–‡ä»¶ï¼Œæ¯ä¸€ä¸ªå†…å«è‡³å°‘ä¸€ä¸ªéå±€éƒ¨é™æ€å¯¹è±¡ï¼ˆä¹Ÿå°±æ˜¯è¯´è¯¥å¯¹è±¡æ˜¯å…¨å±€æˆ–ä½äºå‘½åç©ºé—´å†…ï¼ŒæŠ‘æˆ–åœ¨ç±»å†…æˆ–æºç æ–‡ä»¶å†…è¢«å£°æ˜ä¸ºé™æ€ï¼‰ã€‚çœŸæ­£çš„é—®é¢˜æ˜¯ï¼šå¦‚æœæŸç¼–è¯‘å•å…ƒå†…çš„æŸä¸ªéå±€éƒ¨é™æ€å¯¹è±¡çš„åˆå§‹åŒ–åŠ¨ä½œä½¿ç”¨äº†å¦ä¸€ç¼–è¯‘å•å…ƒå†…çš„æŸä¸ªéå±€éƒ¨é™æ€å¯¹è±¡ï¼Œå®ƒæ‰€ç”¨åˆ°çš„è¿™ä¸ªå¯¹è±¡å¯èƒ½å°šæœªè¢«åˆå§‹åŒ–ï¼Œå› ä¸º C++ å¯¹ â€œå®šä¹‰äºä¸åŒç¼–è¯‘å•å…ƒå†…çš„éå±€éƒ¨é™æ€å¯¹è±¡â€ çš„åˆå§‹åŒ–æ¬¡åºå¹¶æ— æ˜ç¡®å®šä¹‰ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// FileSystem.h</span></span><br><span class="line"><span class="meta">#<span class="keyword">ifndef</span> __FILESYSTEM_H__</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> __FILESYSTEM_H__</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">    å‡è®¾æœ‰ä¸€ä¸ª FileSystem ç±»ï¼Œå®ƒè®©äº’è”ç½‘ä¸Šçš„æ–‡ä»¶çœ‹èµ·æ¥å¥½åƒä½äºæœ¬æœºã€‚</span></span><br><span class="line"><span class="comment">    ç”±äºè¿™ä¸ªç±»ä½¿æ–‡ä»¶ç³»ç»Ÿçœ‹èµ·æ¥åƒä¸ªå•ä¸€æ–‡ä»¶ç³»ç»Ÿï¼Œä½ å¯èƒ½ä¼šäº§å‡ºä¸€ä¸ªç‰¹æ®Šå¯¹è±¡ï¼Œ</span></span><br><span class="line"><span class="comment">    ä½äºå…¨å±€æˆ–å‘½åç©ºé—´ä½œç”¨åŸŸå†…ï¼Œåƒæ˜¯å•ä¸€æ–‡ä»¶ç³»ç»Ÿã€‚</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">FileSystem</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">FileSystem</span>() &#123;&#125;</span><br><span class="line">    ~<span class="built_in">FileSystem</span>() &#123;&#125;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    <span class="function">std::<span class="type">size_t</span> <span class="title">numDisks</span><span class="params">()</span> <span class="type">const</span></span>; <span class="comment">// å…¶ä¸­ä¸€ä¸ªæˆå‘˜å‡½æ•°</span></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  FileSystem å¯¹è±¡ç»ä¸æ˜¯ä¸€ä¸ªç¨€æ¾å¹³å¸¸æ— å…³ç—›ç—’çš„å¯¹è±¡ï¼Œ</span></span><br><span class="line"><span class="comment">  å› ä¸ºä½ çš„å®¢æˆ·å¦‚æœåœ¨ theFileSystem å¯¹è±¡æ„é€ å®Œæˆå‰å°±ä½¿ç”¨å®ƒï¼Œä¼šå¾—åˆ°æƒ¨é‡çš„ç¾æƒ…ã€‚</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">// é¢„ç•™ç»™ç”¨æˆ·ä½¿ç”¨çš„å¯¹è±¡</span></span><br><span class="line"><span class="keyword">extern</span> FileSystem tfs;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span> <span class="comment">// __FILESYSTEM_H__</span></span></span><br></pre></td></tr></table></figure><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Directory.h</span></span><br><span class="line"><span class="meta">#<span class="keyword">ifndef</span> __DIRECTORY_H__</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> __DIRECTORY_H__</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;FileSystem.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Directory</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Directory</span>(<span class="type">const</span> FileSystem &amp;fs);</span><br><span class="line">    ~<span class="built_in">Directory</span>();</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span> <span class="comment">// __DIRECTORY_H__</span></span></span><br></pre></td></tr></table></figure><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Director.cpp</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;Directory.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  å‡è®¾æŸäº›å®¢æˆ·å»ºç«‹äº†ä¸€ä¸ª Directory ç±»ç”¨ä»¥å¤„ç†æ–‡ä»¶ç³»ç»Ÿå†…çš„ç›®å½•ã€‚</span></span><br><span class="line"><span class="comment">  å¾ˆè‡ªç„¶ä»–ä»¬çš„ç±»ä¼šç”¨ä¸Š theFileSystem å¯¹è±¡</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">Directory::<span class="built_in">Directory</span>(<span class="type">const</span> FileSystem &amp;tfs)</span><br><span class="line">&#123;</span><br><span class="line">    std::<span class="type">size_t</span> disks = tfs.<span class="built_in">numDisks</span>(); <span class="comment">// ä½¿ç”¨ tfs å¯¹è±¡</span></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Directory::~<span class="built_in">Directory</span>()</span><br><span class="line">&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// main.cpp</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;FileSystem.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;Directory.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// å‡è®¾åˆ›å»ºä¸€ä¸ªç›®å½•æ¥å­˜æ”¾ä¸´æ—¶æ–‡ä»¶</span></span><br><span class="line">    <span class="function">Directory <span class="title">tempDir</span><span class="params">(tfs)</span></span>;     <span class="comment">// ä¸´æ—¶æ–‡ä»¶å­˜æ”¾ç›®å½•</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç°åœ¨ï¼Œåˆå§‹åŒ–æ¬¡åºçš„é‡è¦æ€§æ˜¾ç°å‡ºæ¥äº†ï¼šé™¤é <code>tfs</code> åœ¨ <code>tempDir</code> ä¹‹å‰å…ˆè¢«åˆå§‹åŒ–ï¼Œå¦åˆ™ <code>tempDir</code> çš„æ„é€ å‡½æ•°ä¼šç”¨åˆ°å°šæœªåˆå§‹åŒ–çš„ <code>tfs</code>ã€‚ä½† <code>tfs</code> å’Œ <code>tempDir</code> æ˜¯ä¸åŒçš„äººåœ¨ä¸åŒçš„æ—¶é—´äºä¸åŒçš„æºç æ–‡ä»¶å»ºç«‹èµ·æ¥çš„ï¼Œå®ƒä»¬æ˜¯å®šä¹‰äºä¸åŒç¼–è¯‘å•å…ƒå†…çš„éå±€éƒ¨é™æ€å¯¹è±¡ã€‚å¦‚ä½•èƒ½å¤Ÿç¡®å®š <code>tfs</code> ä¼šåœ¨ <code>tempDir</code> ä¹‹å‰å…ˆè¢«åˆå§‹åŒ–ï¼Ÿ</p><p>C++ å¯¹ â€œå®šä¹‰äºä¸åŒçš„ç¼–è¯‘å•å…ƒå†…çš„éå±€éƒ¨é™æ€å¯¹è±¡â€ çš„åˆå§‹åŒ–ç›¸å¯¹æ¬¡åºå¹¶æ— æ˜ç¡®å®šä¹‰ã€‚è¿™æ˜¯æœ‰åŸå› çš„ï¼šå†³å®šå®ƒä»¬çš„åˆå§‹åŒ–æ¬¡åºç›¸å½“å›°éš¾ï¼Œæ ¹æœ¬æ— è§£ã€‚åœ¨å…¶æœ€å¸¸è§å½¢å¼ï¼Œä¹Ÿå°±æ˜¯å¤šä¸ªç¼–è¯‘å•å…ƒå†…çš„éå±€éƒ¨é™æ€å¯¹è±¡ç»ç”± â€œæ¨¡æ¿éšå¼å…·ç°åŒ–â€ å½¢æˆï¼ˆè€Œåè€…è‡ªå·±å¯èƒ½ä¹Ÿæ˜¯ç»ç”± â€œæ¨¡æ¿éšå¼å…·ç°åŒ–â€ å½¢æˆï¼‰ï¼Œä¸ä½†ä¸å¯èƒ½å†³å®šæ­£ç¡®çš„åˆå§‹åŒ–æ¬¡åºï¼Œç”šè‡³å¾€å¾€ä¸å€¼å¾—å¯»æ‰¾ â€œå¯å†³å®šæ­£ç¡®æ¬¡åºâ€ çš„ç‰¹æ®Šæƒ…å†µã€‚</p><h1 id="å•ä¾‹æ¨¡å¼"><a href="#å•ä¾‹æ¨¡å¼" class="headerlink" title="å•ä¾‹æ¨¡å¼"></a>å•ä¾‹æ¨¡å¼</h1><p>å¹¸è¿çš„æ˜¯ä¸€ä¸ªå°å°çš„è®¾è®¡ä¾¿å¯å®Œå…¨æ¶ˆé™¤è¿™ä¸ªé—®é¢˜ã€‚å”¯ä¸€éœ€è¦åšçš„æ˜¯ï¼šå°†æ¯ä¸ª éå±€éƒ¨é™æ€å¯¹è±¡æ¬åˆ°è‡ªå·±çš„ä¸“å±å‡½æ•°å†…ï¼ˆè¯¥å¯¹è±¡åœ¨æ­¤å‡½æ•°å†…è¢«å£°æ˜ä¸ºé™æ€ï¼‰ã€‚è¿™äº›å‡½æ•°è¿”å›ä¸€ä¸ªå¼•ç”¨æŒ‡å‘å®ƒæ‰€å«çš„å¯¹è±¡ã€‚ç„¶åç”¨æˆ·è°ƒç”¨è¿™äº›å‡½æ•°ï¼Œè€Œä¸ç›´æ¥æŒ‡æ¶‰è¿™äº›å¯¹è±¡ã€‚æ¢å¥è¯è¯´ï¼Œéå±€éƒ¨é™æ€å¯¹è±¡è¢«å±€éƒ¨é™æ€å¯¹è±¡æ›¿æ¢äº†ã€‚è®¾è®¡æ¨¡å¼çš„è¿·å“¥è¿·å¦¹ä»¬æƒ³å¿…è®¤å‡ºæ¥äº†ï¼Œè¿™æ˜¯å•ä¾‹æ¨¡å¼çš„ä¸€ä¸ªå¸¸è§å®ç°æ‰‹æ³•ã€‚</p><p>è¿™ä¸ªæ‰‹æ³•çš„åŸºç¡€åœ¨äºï¼šC++ ä¿è¯ï¼Œå‡½æ•°å†…çš„å±€éƒ¨é™æ€å¯¹è±¡ä¼šåœ¨è¯¥å‡½æ•°è¢«è°ƒç”¨æœŸé—´é¦–æ¬¡é‡ä¸Šè¯¥å¯¹è±¡ä¹‹å®šä¹‰å¼æ—¶è¢«åˆå§‹åŒ–ã€‚æ‰€ä»¥å¦‚æœä½ ä»¥ â€œå‡½æ•°è°ƒç”¨â€ï¼ˆè¿”å›ä¸€ä¸ªå¼•ç”¨æŒ‡å‘å±€éƒ¨é™æ€å¯¹è±¡ï¼‰æ›¿æ¢ç›´æ¥è®¿é—®éå±€éƒ¨é™æ€å¯¹è±¡ï¼Œä½ å°±è·å¾—äº†ä¿è¯ï¼Œä¿è¯ä½ æ‰€è·å¾—çš„é‚£ä¸ªå¼•ç”¨å°†æŒ‡å‘ä¸€ä¸ªå†ç»åˆå§‹åŒ–çš„å¯¹è±¡ã€‚æ›´æ£’çš„æ˜¯ï¼Œå¦‚æœä½ ä»æœªè°ƒç”¨éå±€éƒ¨é™æ€å¯¹è±¡çš„ â€œä»¿çœŸå‡½æ•°â€ï¼Œå°±ç»ä¸ä¼šå¼•å‘æ„é€ å’Œææ„æˆæœ¬ï¼›çœŸæ­£çš„éå±€éƒ¨é™æ€å¯¹è±¡å¯æ²¡è¿™ç­‰ä¾¿å®œï¼</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// FileSystem.cpp</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;FileSystem.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è¯¥å‡½æ•°æ›¿æ¢ tfs å¯¹è±¡ï¼Œåœ¨ç±»ä¸­æ˜¯é™æ€çš„ï¼Œ</span></span><br><span class="line"><span class="function">FileSystem&amp; <span class="title">tfs</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">static</span> FileSystem tfs;  <span class="comment">// å®šä¹‰å¹¶åˆå§‹åŒ–éå±€éƒ¨é™æ€å¯¹è±¡</span></span><br><span class="line">    <span class="keyword">return</span> tfs;             <span class="comment">// è¿”å›å¯¹è±¡å¼•ç”¨</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">std::<span class="type">size_t</span> <span class="title">FileSystem::numDisks</span><span class="params">()</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Director.cpp</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;Directory.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  å‡è®¾æŸäº›å®¢æˆ·å»ºç«‹äº†ä¸€ä¸ª Directory ç±»ç”¨ä»¥å¤„ç†æ–‡ä»¶ç³»ç»Ÿå†…çš„ç›®å½•ã€‚</span></span><br><span class="line"><span class="comment">  å¾ˆè‡ªç„¶ä»–ä»¬çš„ç±»ä¼šç”¨ä¸Š theFileSystem å¯¹è±¡</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">Directory::<span class="built_in">Directory</span>(<span class="type">const</span> FileSystem &amp;tfs)</span><br><span class="line">&#123;</span><br><span class="line">    std::<span class="type">size_t</span> disks = tfs.<span class="built_in">numDisks</span>(); <span class="comment">// ä½¿ç”¨ tfs å¯¹è±¡</span></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Directory::~<span class="built_in">Directory</span>()</span><br><span class="line">&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™ä¹ˆä¿®æ”¹ä¹‹åï¼Œè¿™ä¸ªç³»ç»Ÿç¨‹åºçš„å®¢æˆ·å®Œå…¨åƒä»¥å‰ä¸€æ ·åœ°ç”¨å®ƒï¼Œå”¯ä¸€ä¸åŒçš„æ˜¯ä»–ä»¬ç°åœ¨ä½¿ç”¨ <code>tfs()</code> å’Œ <code>tempDir()</code> å‡½æ•°ï¼Œè€Œä¸å†æ˜¯ <code>tfs</code> å’Œ <code>tempDir</code> å¯¹è±¡ã€‚ä¹Ÿå°±æ˜¯è¯´ä»–ä»¬ä½¿ç”¨å‡½æ•°è¿”å›çš„ â€œæŒ‡å‘é™æ€å¯¹è±¡â€ çš„å¼•ç”¨ï¼Œè€Œä¸å†ä½¿ç”¨å¯¹è±¡è‡ªèº«ã€‚</p><p>è¿™ç§ç»“æ„ä¸‹çš„è¿”å›å¼•ç”¨å‡½æ•°å¾€å¾€ååˆ†å•çº¯ï¼šç¬¬ä¸€è¡Œå®šä¹‰å¹¶åˆå§‹åŒ–ä¸€ä¸ªå±€éƒ¨é™æ€å¯¹è±¡ï¼Œç¬¬äºŒè¡Œè¿”å›å®ƒã€‚è¿™æ ·çš„å•çº¯æ€§å¾€å¾€ä½¿ç”¨å†…è”å‡½æ•°ï¼Œå°¤å…¶å¦‚æœå®ƒä»¬è¢«é¢‘ç¹è°ƒç”¨çš„è¯ï¼ˆè§å®éªŒã€Šé€å½»å†…è”ã€‹ï¼‰ã€‚ä½†æ˜¯ä»å¦ä¸€ä¸ªè§’åº¦çœ‹ï¼Œè¿™äº›å‡½æ•° â€œå†…å«é™æ€å¯¹è±¡â€ çš„äº‹å®ä½¿å®ƒä»¬åœ¨å¤šçº¿ç¨‹ç³»ç»Ÿä¸­å¸¦æœ‰ä¸ç¡®å®šæ€§ã€‚å†è¯´ä¸€æ¬¡ï¼Œä»»ä½•ä¸€ç§éå¸¸é‡é™æ€å¯¹è±¡ï¼Œä¸è®ºå®ƒæ˜¯å±€éƒ¨æˆ–éå±€éƒ¨ï¼Œåœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹å¾€å¾€éƒ½ä¼šå¾ˆéº»çƒ¦ã€‚å¤„ç†è¿™ä¸ªéº»çƒ¦çš„ä¸€ç§åšæ³•æ˜¯ï¼šåœ¨ç¨‹åºçš„å•çº¿ç¨‹å¯åŠ¨é˜¶æ®µæ‰‹å·¥è°ƒç”¨æ‰€æœ‰è¿”å›å¼•ç”¨å‡½æ•°ï¼Œè¿™å¯æ¶ˆé™¤ä¸åˆå§‹åŒ–æœ‰å…³çš„ â€œç«é€Ÿæ¡ä»¶ï¼ˆrace conditionsï¼‰â€ã€‚</p><p>ä¸ºé¿å…åœ¨å¯¹è±¡åˆå§‹åŒ–ä¹‹å‰è¿‡æ—©åœ°ä½¿ç”¨å®ƒä»¬ï¼Œä½ éœ€è¦åšä¸‰ä»¶äº‹ï¼š</p><ol><li>æ‰‹åŠ¨åˆå§‹åŒ–å†…ç½®å‹éæˆå‘˜å˜é‡ã€‚</li><li>ä½¿ç”¨åˆå§‹åŒ–åˆ—è¡¨åˆå§‹åŒ–æˆå‘˜å˜é‡ã€‚</li><li>åœ¨åˆå§‹åŒ–é¡ºåºä¸ç¡®å®šæƒ…å†µä¸‹åŠ å¼ºè®¾è®¡ã€‚</li></ol>]]></content>
      
      
      <categories>
          
          <category> ç«‹å¿—åšè§ˆç¾¤ä¹¦ </category>
          
          <category> ã€ŠEfficient C++ã€‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Efficent C++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>&lt;4&gt; äº†è§£C++é»˜è®¤åˆ›å»ºå¹¶è°ƒç”¨çš„å‡½æ•°</title>
      <link href="/%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/%E3%80%8AEfficient%20C++%E3%80%8B/4-%E4%BA%86%E8%A7%A3C++%E9%BB%98%E8%AE%A4%E5%88%9B%E5%BB%BA%E5%B9%B6%E8%B0%83%E7%94%A8%E7%9A%84%E5%87%BD%E6%95%B0/"/>
      <url>/%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/%E3%80%8AEfficient%20C++%E3%80%8B/4-%E4%BA%86%E8%A7%A3C++%E9%BB%98%E8%AE%A4%E5%88%9B%E5%BB%BA%E5%B9%B6%E8%B0%83%E7%94%A8%E7%9A%84%E5%87%BD%E6%95%B0/</url>
      
        <content type="html"><![CDATA[<p>[toc]</p><h1 id="ç¼–è¯‘å™¨åˆ›å»ºçš„å‡½æ•°"><a href="#ç¼–è¯‘å™¨åˆ›å»ºçš„å‡½æ•°" class="headerlink" title="ç¼–è¯‘å™¨åˆ›å»ºçš„å‡½æ•°"></a>ç¼–è¯‘å™¨åˆ›å»ºçš„å‡½æ•°</h1><p>ç©ºç±»ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Empty</span>&#123;&#125;;</span><br></pre></td></tr></table></figure><p>ç¼–è¯‘å™¨é»˜è®¤æ·»åŠ çš„å‡½æ•°ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// defaultFunc.h</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Empty</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// å½“ç¨‹åºä¸­æœªå®šä¹‰ä»¥ä¸‹å‡½æ•°æ—¶ç¼–è¯‘å™¨é»˜è®¤æ·»åŠ </span></span><br><span class="line">    <span class="built_in">Empty</span>() &#123;  &#125;                                <span class="comment">// é»˜è®¤æ„é€ å‡½æ•°</span></span><br><span class="line">    <span class="built_in">Empty</span>(<span class="type">const</span> Empty&amp; rhs) &#123;  &#125;                <span class="comment">// æ‹·è´æ„é€ å‡½æ•°</span></span><br><span class="line">    ~<span class="built_in">Empty</span>() &#123;  &#125;                               <span class="comment">// ææ„å‡½æ•°</span></span><br><span class="line">    Empty&amp; <span class="keyword">operator</span>=(<span class="type">const</span> Empty&amp; rhs) &#123;  &#125;     <span class="comment">// æ‹·è´èµ‹å€¼æ“ä½œç¬¦å‡½æ•°</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h1 id="æ‹·è´æ„é€ å‡½æ•°ä¸æ‹·è´èµ‹å€¼æ“ä½œç¬¦å‡½æ•°"><a href="#æ‹·è´æ„é€ å‡½æ•°ä¸æ‹·è´èµ‹å€¼æ“ä½œç¬¦å‡½æ•°" class="headerlink" title="æ‹·è´æ„é€ å‡½æ•°ä¸æ‹·è´èµ‹å€¼æ“ä½œç¬¦å‡½æ•°"></a>æ‹·è´æ„é€ å‡½æ•°ä¸æ‹·è´èµ‹å€¼æ“ä½œç¬¦å‡½æ•°</h1><p>æ‹·è´æ„é€ å‡½æ•°å’Œæ‹·è´èµ‹å€¼æ“ä½œç¬¦å‡½æ•°ï¼Œç¼–è¯‘å™¨åˆ›å»ºçš„ç‰ˆæœ¬åªæ˜¯å•çº¯åœ°å°†æ¥æºå¯¹è±¡çš„æ¯ä¸€ä¸ªéé™æ€æˆå‘˜å˜é‡æ‹·è´åˆ°ç›®æ ‡å¯¹è±¡ã€‚å¦‚ä¸‹æ¨¡æ¿ç±» <code>NamedObject</code>ï¼Œå®ƒå…è®¸ä½ å°†ä¸€ä¸ªåç§°å’Œç±»å‹ä¸º T çš„å¯¹è±¡äº§ç”Ÿå…³è”ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// copy.h</span></span><br><span class="line"><span class="meta">#<span class="keyword">ifndef</span> __COPY_H__</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> __COPY_H__</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">NamedObject</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">      ç”±äºå…¶ä¸­å£°æ˜äº†ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œç¼–è¯‘å™¨äºæ˜¯ä¸å†ä¸ºå®ƒåˆ›å»ºé»˜è®¤æ„é€ å‡½æ•°ã€‚</span></span><br><span class="line"><span class="comment">      è¿™å¾ˆé‡è¦ï¼Œæ„å‘³å¦‚æœä½ ç”¨å¿ƒè®¾è®¡ä¸€ä¸ªç±»ï¼Œå…¶æ„é€ å‡½æ•°è¦æ±‚å®å‚ï¼Œ</span></span><br><span class="line"><span class="comment">      ä½ å°±æ— é¡»æ‹…å¿ƒç¼–è¯‘å™¨ä¼šæ¯«æ— æŒ‚è™‘åœ°ä¸ºä½ æ·»åŠ ä¸€ä¸ªæ— å®å‚æ„é€ å‡½æ•°ï¼ˆå³é»˜è®¤æ„é€ å‡½æ•°ï¼‰è€Œé®ç›–æ‰ä½ çš„ç‰ˆæœ¬ã€‚</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="built_in">NamedObject</span>(<span class="type">const</span> <span class="type">char</span> *name, <span class="type">const</span> T&amp; value) : <span class="built_in">nameValue</span>(name), <span class="built_in">objectValue</span>(value) &#123;&#125;</span><br><span class="line">    <span class="built_in">NamedObject</span>(<span class="type">const</span> std::string&amp; name, <span class="type">const</span> T&amp; value) : <span class="built_in">nameValue</span>(name), <span class="built_in">objectValue</span>(value) &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    std::string nameValue;</span><br><span class="line">    T objectValue;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span> <span class="comment">// __COPY_H__</span></span></span><br></pre></td></tr></table></figure><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// main.cpp</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;copy.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">      NamedObject æ—¢æ²¡æœ‰å£°æ˜æ‹·è´æ„é€ å‡½æ•°ï¼Œä¹Ÿæ²¡æœ‰å£°æ˜æ‹·è´èµ‹å€¼æ“ä½œç¬¦å‡½æ•°ï¼Œ</span></span><br><span class="line"><span class="comment">      æ‰€ä»¥ç¼–è¯‘å™¨ä¼šä¸ºå®ƒåˆ›å»ºé‚£äº›å‡½æ•°ï¼ˆå¦‚æœå®ƒä»¬è¢«è°ƒç”¨çš„è¯ï¼‰ã€‚</span></span><br><span class="line"><span class="comment">      ç°åœ¨ï¼Œçœ‹çœ‹æ‹·è´æ„é€ å‡½æ•°çš„ç”¨æ³•</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function">NamedObject&lt;<span class="type">int</span>&gt; <span class="title">no1</span><span class="params">(<span class="string">&quot;Smallest Prime Number&quot;</span>, <span class="number">2</span>)</span></span>;</span><br><span class="line">    <span class="function">NamedObject&lt;<span class="type">int</span>&gt; <span class="title">no2</span><span class="params">(no1)</span></span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="ç¼–è¯‘å™¨æ‹’ç»åˆ›å»ºæ‹·è´èµ‹å€¼æ“ä½œç¬¦å‡½æ•°çš„æƒ…å†µ"><a href="#ç¼–è¯‘å™¨æ‹’ç»åˆ›å»ºæ‹·è´èµ‹å€¼æ“ä½œç¬¦å‡½æ•°çš„æƒ…å†µ" class="headerlink" title="ç¼–è¯‘å™¨æ‹’ç»åˆ›å»ºæ‹·è´èµ‹å€¼æ“ä½œç¬¦å‡½æ•°çš„æƒ…å†µ"></a>ç¼–è¯‘å™¨æ‹’ç»åˆ›å»ºæ‹·è´èµ‹å€¼æ“ä½œç¬¦å‡½æ•°çš„æƒ…å†µ</h1><p>ç¼–è¯‘å™¨ä¸º <code>NamedObject&lt;int&gt;</code> æ‰€äº§ç”Ÿçš„æ‹·è´èµ‹å€¼æ“ä½œç¬¦å‡½æ•°ï¼Œå…¶è¡Œä¸ºåŸºæœ¬ä¸Šä¸æ‹·è´æ„é€ å‡½æ•°å¦‚å‡ºä¸€è¾™ï¼Œä½†ä¸€èˆ¬è€Œè¨€åªæœ‰å½“ç”Ÿå‡ºçš„ä»£ç åˆæ³•ä¸”æœ‰é€‚å½“æœºä¼šè¯æ˜å®ƒæœ‰æ„ä¹‰ï¼Œå…¶è¡¨ç°æ‰ä¼šå¦‚æˆ‘å…ˆå‰æ‰€è¯´ã€‚ä¸‡ä¸€ä¸¤ä¸ªæ¡ä»¶æœ‰ä¸€ä¸ªä¸ç¬¦åˆï¼Œç¼–è¯‘å™¨ä¼šæ‹’ç»ä¸ºç±»äº§ç”Ÿæ‹·è´èµ‹å€¼æ“ä½œç¬¦å‡½æ•°ã€‚</p><p>ç¼–è¯‘å™¨æ‹’ç»åˆ›å»ºæ‹·è´èµ‹å€¼æ“ä½œç¬¦å‡½æ•°æƒ…å†µï¼š</p><ul><li>æˆå‘˜å‡½æ•°ä¸ºå¼•ç”¨ç±»å‹ã€‚</li><li>æˆå‘˜å‡½æ•°ä¸ºå¸¸é‡ã€‚</li></ul>]]></content>
      
      
      <categories>
          
          <category> ç«‹å¿—åšè§ˆç¾¤ä¹¦ </category>
          
          <category> ã€ŠEfficient C++ã€‹ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>ã€ŠEfficient C++ã€‹ å¯¼è¯»</title>
      <link href="/%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/%E3%80%8AEfficient%20C++%E3%80%8B/Readme/"/>
      <url>/%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/%E3%80%8AEfficient%20C++%E3%80%8B/Readme/</url>
      
        <content type="html"><![CDATA[<h1 id="å¯¼è¯»ç›®å½•"><a href="#å¯¼è¯»ç›®å½•" class="headerlink" title="å¯¼è¯»ç›®å½•"></a>å¯¼è¯»ç›®å½•</h1><ol><li><a href="./2_const%E5%85%B3%E9%94%AE%E5%AD%97.md">2_constå…³é”®å­—</a></li><li><a href="./3_%E7%A1%AE%E5%AE%9A%E5%AF%B9%E8%B1%A1%E4%BD%BF%E7%94%A8%E5%89%8D%E5%88%9D%E5%A7%8B%E5%8C%96.md">3_ç¡®å®šå¯¹è±¡ä½¿ç”¨å‰åˆå§‹åŒ–</a></li><li><a href="./4-%E4%BA%86%E8%A7%A3C++%E9%BB%98%E8%AE%A4%E5%88%9B%E5%BB%BA%E5%B9%B6%E8%B0%83%E7%94%A8%E7%9A%84%E5%87%BD%E6%95%B0.md">4-äº†è§£C++é»˜è®¤åˆ›å»ºå¹¶è°ƒç”¨çš„å‡½æ•°</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> ç«‹å¿—åšè§ˆç¾¤ä¹¦ </category>
          
          <category> ã€ŠEfficient C++ã€‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C++ </tag>
            
            <tag> ã€ŠEfficient C++ã€‹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€ŠLinuxå‘½ä»¤è¡Œä¸shellè„šæœ¬ç¼–ç¨‹å¤§å…¨ã€‹ å¯¼è¯»</title>
      <link href="/%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/%E3%80%8ALinux%E5%91%BD%E4%BB%A4%E8%A1%8C%E4%B8%8Eshell%E8%84%9A%E6%9C%AC%E7%BC%96%E7%A8%8B%E5%A4%A7%E5%85%A8.%E7%AC%AC3%E7%89%88%E3%80%8B/Readme/"/>
      <url>/%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/%E3%80%8ALinux%E5%91%BD%E4%BB%A4%E8%A1%8C%E4%B8%8Eshell%E8%84%9A%E6%9C%AC%E7%BC%96%E7%A8%8B%E5%A4%A7%E5%85%A8.%E7%AC%AC3%E7%89%88%E3%80%8B/Readme/</url>
      
        <content type="html"><![CDATA[<h1 id="å¯¼è¯»ç›®å½•"><a href="#å¯¼è¯»ç›®å½•" class="headerlink" title="å¯¼è¯»ç›®å½•"></a>å¯¼è¯»ç›®å½•</h1>]]></content>
      
      
      <categories>
          
          <category> ç«‹å¿—åšè§ˆç¾¤ä¹¦ </category>
          
          <category> ã€ŠLinuxå‘½ä»¤è¡Œä¸shellè„šæœ¬ç¼–ç¨‹å¤§å…¨.ç¬¬3ç‰ˆã€‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
            <tag> ã€ŠLinuxå‘½ä»¤è¡Œä¸shellè„šæœ¬ç¼–ç¨‹å¤§å…¨ã€‹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>&lt;2&gt; const å…³é”®å­—</title>
      <link href="/%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/%E3%80%8AEfficient%20C++%E3%80%8B/2_const%E5%85%B3%E9%94%AE%E5%AD%97/"/>
      <url>/%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/%E3%80%8AEfficient%20C++%E3%80%8B/2_const%E5%85%B3%E9%94%AE%E5%AD%97/</url>
      
        <content type="html"><![CDATA[<p>[toc]</p><h1 id="const-ä¿®é¥°æŒ‡é’ˆå˜é‡"><a href="#const-ä¿®é¥°æŒ‡é’ˆå˜é‡" class="headerlink" title="const ä¿®é¥°æŒ‡é’ˆå˜é‡"></a><code>const</code> ä¿®é¥°æŒ‡é’ˆå˜é‡</h1><p>å¯¹äºæŒ‡é’ˆï¼Œä½ å¯ä»¥æŒ‡å®šæŒ‡é’ˆæœ¬èº«æ˜¯å¦ä¸ºå¸¸é‡ï¼Œä¹Ÿå¯ä»¥æŒ‡å®šæŒ‡é’ˆæ‰€æŒ‡å‘çš„å†…å®¹æ˜¯å¸¸é‡ï¼Œæˆ–ä¸¤è€…éƒ½æ˜¯ï¼Œæˆ–ä¸¤è€…éƒ½ä¸æ˜¯ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// constPointer.h</span></span><br><span class="line"><span class="meta">#<span class="keyword">ifndef</span> __CONSTPOINTER_H__</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> __CONSTPOINTER_H__</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">char</span> greeting[] = <span class="string">&quot;Hello&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Widget</span></span><br><span class="line">&#123;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">f1</span><span class="params">(<span class="type">const</span> Widget *pw)</span></span>; <span class="comment">// f1 è·å–ä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘å¸¸é‡çš„ Widget å¯¹è±¡</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">f2</span><span class="params">(Widget <span class="type">const</span> *pw)</span></span>; <span class="comment">// f2 ç›¸åŒ</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span> <span class="comment">// __CONSTPOINTER_H__</span></span></span><br></pre></td></tr></table></figure><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// constPointer.cpp</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;constPointer.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">char</span> *p1 = greeting;                <span class="comment">// éå¸¸é‡æŒ‡é’ˆ, éå¸¸é‡æ•°æ®</span></span><br><span class="line">    <span class="type">const</span> <span class="type">char</span> *p2 = greeting;          <span class="comment">// éå¸¸é‡æŒ‡é’ˆ, å¸¸é‡æ•°æ®</span></span><br><span class="line">    <span class="type">char</span> <span class="type">const</span> *p3 = greeting;          <span class="comment">// éå¸¸é‡æŒ‡é’ˆ, å¸¸é‡æ•°æ®</span></span><br><span class="line">    <span class="type">char</span> * <span class="type">const</span> p4 = greeting;         <span class="comment">// å¸¸é‡æŒ‡é’ˆ, éå¸¸é‡æ•°æ®</span></span><br><span class="line">    <span class="type">const</span> <span class="type">char</span> * <span class="type">const</span> p5 = greeting;   <span class="comment">// å¸¸é‡æŒ‡é’ˆ, å¸¸é‡æ•°æ®</span></span><br><span class="line"></span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;p1 = &quot;</span> &lt;&lt; p1 &lt;&lt; std::endl;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;p2 = &quot;</span> &lt;&lt; p2 &lt;&lt; std::endl;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;p3 = &quot;</span> &lt;&lt; p3 &lt;&lt; std::endl;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;p4 = &quot;</span> &lt;&lt; p4 &lt;&lt; std::endl;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;p5 = &quot;</span> &lt;&lt; p5 &lt;&lt; std::endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>æ€»ç»“</strong>ï¼šå¦‚æœ <code>const</code> å‡ºç°åœ¨æ˜Ÿå·çš„å·¦è¾¹ï¼Œé‚£ä¹ˆè¢«æŒ‡é’ˆæŒ‡å‘çš„å†…å®¹å°±æ˜¯å¸¸é‡ï¼›å¦‚æœ <code>const</code> å‡ºç°åœ¨æ˜Ÿå·çš„å³è¾¹ï¼Œé‚£ä¹ˆæŒ‡é’ˆæœ¬èº«å°±æ˜¯å¸¸é‡ï¼›å¦‚æœ <code>const</code> å‡ºç°åœ¨æ˜Ÿå·ä¸¤è¾¹ï¼Œåˆ™è¡¨ç¤ºæŒ‡é’ˆå’ŒæŒ‡é’ˆæŒ‡å‘çš„å†…å®¹éƒ½æ˜¯å¸¸é‡ã€‚</p><h1 id="è¿­ä»£å™¨ä¸­çš„-const"><a href="#è¿­ä»£å™¨ä¸­çš„-const" class="headerlink" title="è¿­ä»£å™¨ä¸­çš„ const"></a>è¿­ä»£å™¨ä¸­çš„ <code>const</code></h1><p><code>STL</code> çš„è¿­ä»£å™¨æ˜¯ä»¥æŒ‡é’ˆä¸ºæ¨¡å‹çš„ï¼Œæ‰€ä»¥ä¸€ä¸ªè¿­ä»£å™¨çš„è¡Œä¸ºå¾ˆæƒ³ä¸€ä¸ªå’Œ <code>T*</code> æŒ‡é’ˆã€‚å£°æ˜ä¸€ä¸ªè¿­ä»£å™¨çš„å¸¸æ•°å°±åƒå£°æ˜ä¸€ä¸ªæŒ‡é’ˆçš„å¸¸é‡ï¼ˆå³å£°æ˜ä¸€ä¸ª <code>T*</code> å¸¸é‡æŒ‡é’ˆï¼‰ã€‚è¿­ä»£å™¨ä¸å…è®¸æŒ‡å‘ä¸åŒçš„å†…å®¹ï¼Œä½†å®ƒæŒ‡å‘çš„å†…å®¹å¯ä»¥è¢«ä¿®æ”¹ã€‚å¦‚æœä½ æƒ³è¦ä¸€ä¸ªè¿­ä»£å™¨æŒ‡å‘ä¸èƒ½è¢«ä¿®æ”¹çš„ä¸œè¥¿ï¼ˆå³ STL ç±»ä¼¼äºä¸€ä¸ª <code>const T*</code> æŒ‡é’ˆï¼‰ï¼Œåˆ™éœ€è¦ä¸€ä¸ª <code>const_itrerator</code>ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// constIterator.h</span></span><br><span class="line"><span class="meta">#<span class="keyword">ifndef</span> __CONSTITERATOR_H__</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> __CONSTITERATOR_H__</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line">std::vector&lt;<span class="type">int</span>&gt; vec = &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span> <span class="comment">// __CONSTITERATOR_H__</span></span></span><br></pre></td></tr></table></figure><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// constIterator.cpp</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;constIterator.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// 1. æŒ‡é’ˆä¸ºéå¸¸é‡ï¼Œå†…å®¹ä¸ºéå¸¸é‡</span></span><br><span class="line">    std::vector&lt;<span class="type">int</span>&gt;::iterator iter1 = vec.<span class="built_in">begin</span>();</span><br><span class="line">    *iter1 = <span class="number">10</span>;     <span class="comment">// æ­£ç¡®</span></span><br><span class="line">    ++iter1;         <span class="comment">// æ­£ç¡®</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 2. æŒ‡é’ˆä¸ºå¸¸é‡ï¼Œå†…å®¹ä¸ºéå¸¸é‡</span></span><br><span class="line">    <span class="type">const</span> std::vector&lt;<span class="type">int</span>&gt;::iterator iter2 = vec.<span class="built_in">begin</span>();</span><br><span class="line">    *iter2 = <span class="number">10</span>;     <span class="comment">// æ­£ç¡®ï¼Œ ä¿®æ”¹æŒ‡é’ˆæ‰€æŒ‡å†…å®¹</span></span><br><span class="line">    ++iter2;         <span class="comment">// é”™è¯¯ï¼Œiter2 ä¸ºå¸¸é‡æŒ‡é’ˆï¼Œä¸èƒ½ä¿®æ”¹</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 3. æŒ‡é’ˆä¸ºéå¸¸é‡ï¼Œå†…å®¹ä¸ºå¸¸é‡</span></span><br><span class="line">    std::vector&lt;<span class="type">int</span>&gt;::const_iterator iter3 = vec.<span class="built_in">begin</span>();</span><br><span class="line">    *iter3 = <span class="number">10</span>;    <span class="comment">// é”™è¯¯ï¼Œ *iter3 è¡¨ç¤ºæŒ‡é’ˆæ‰€æŒ‡å†…å®¹ä¸ºå¸¸é‡ï¼Œä¸èƒ½ä¿®æ”¹</span></span><br><span class="line">    ++iter3;        <span class="comment">// æ­£ç¡®ï¼ŒæŒ‡é’ˆéå¸¸é‡ï¼Œå¯ä»¥æ”¹å˜</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 4. æŒ‡é’ˆä¸ºå¸¸é‡ï¼Œå†…å®¹ä¸ºå¸¸é‡</span></span><br><span class="line">    <span class="type">const</span> std::vector&lt;<span class="type">int</span>&gt;::const_iterator iter4 = vec.<span class="built_in">begin</span>();</span><br><span class="line">    *iter4 = <span class="number">10</span>;    <span class="comment">// é”™è¯¯ï¼Œ *iter4 è¡¨ç¤ºæŒ‡é’ˆæ‰€æŒ‡å†…å®¹ä¸ºå¸¸é‡ï¼Œä¸èƒ½ä¿®æ”¹</span></span><br><span class="line">    ++iter4;        <span class="comment">// é”™è¯¯ï¼Œiter4 ä¸ºå¸¸é‡æŒ‡é’ˆï¼Œä¸èƒ½ä¿®æ”¹</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 5. ç­‰æ•ˆäº std::vector&lt;int&gt;::const_iterator iter5 = vec.begin();</span></span><br><span class="line">    <span class="keyword">auto</span> iter5 = vec.<span class="built_in">cbegin</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="const-ä¿®é¥°å‡½æ•°è¿”å›å€¼"><a href="#const-ä¿®é¥°å‡½æ•°è¿”å›å€¼" class="headerlink" title="const ä¿®é¥°å‡½æ•°è¿”å›å€¼"></a><code>const</code> ä¿®é¥°å‡½æ•°è¿”å›å€¼</h1><p>åœ¨æˆå‘˜å‡½æ•°ä¸Šä½¿ç”¨ <code>const</code> çš„ç›®çš„æ˜¯ä¸ºäº†ç¡®å®šå“ªäº›æˆå‘˜å‡½æ•°å¯ä»¥åœ¨ <code>const</code>å¯¹è±¡ä¸Šè°ƒç”¨ã€‚è¿™æ ·çš„æˆå‘˜å‡½æ•°å¾ˆé‡è¦ï¼ŒåŸå› æœ‰äºŒã€‚é¦–å…ˆï¼Œå®ƒä»¬ä½¿ä¸€ä¸ªç±»çš„æ¥å£æ›´å®¹æ˜“ç†è§£ã€‚çŸ¥é“å“ªäº›å‡½æ•°å¯ä»¥ä¿®æ”¹ä¸€ä¸ªå¯¹è±¡ï¼Œå“ªäº›ä¸å¯ä»¥ï¼Œæ˜¯å¾ˆé‡è¦çš„ã€‚ç¬¬äºŒï¼Œå®ƒä»¬ä½¿æˆ‘ä»¬æœ‰å¯èƒ½ä¸å¸¸é‡å¯¹è±¡ä¸€èµ·å·¥ä½œã€‚è¿™æ˜¯ç¼–å†™é«˜æ•ˆä»£ç çš„ä¸€ä¸ªå…³é”®æ–¹é¢ï¼Œæé«˜ C++ ç¨‹åºæ€§èƒ½çš„åŸºæœ¬æ–¹æ³•ä¹‹ä¸€æ˜¯é€šè¿‡å¼•ç”¨åˆ°å¸¸é‡æ¥ä¼ é€’å¯¹è±¡ã€‚è¿™ç§æŠ€æœ¯åªæœ‰åœ¨æœ‰å¸¸é‡æˆå‘˜å‡½æ•°çš„æƒ…å†µä¸‹æ‰æ˜¯å¯è¡Œçš„ï¼Œå¯ä»¥ç”¨å®ƒæ¥å¤„ç†äº§ç”Ÿçš„å¸¸é‡é™å®šçš„å¯¹è±¡ã€‚</p><p>å…³äº <code>const</code> ä¿®é¥°æˆå‘˜å‡½æ•°ä¸»è¦è®²ä»¥ä¸‹ä¸‰ä¸ªçŸ¥è¯†ç‚¹ï¼š</p><ul><li><code>const</code> ä¿®é¥°çš„æˆå‘˜å‡½æ•°å¯ä»¥è¢«é‡è½½ã€‚</li><li>å…³äº â€äºŒè¿›åˆ¶ä½å¸¸é‡æ€§â€œ ä¸ â€é€»è¾‘å¸¸é‡æ€§â€œã€‚</li><li>é¿å…é‡è½½è€Œå¯¼è‡´é‡å¤ä»£ç ã€‚</li></ul><h2 id="const-ä¿®é¥°æˆå‘˜å˜é‡å¯ä»¥è¢«é‡è½½"><a href="#const-ä¿®é¥°æˆå‘˜å˜é‡å¯ä»¥è¢«é‡è½½" class="headerlink" title="const ä¿®é¥°æˆå‘˜å˜é‡å¯ä»¥è¢«é‡è½½"></a><code>const</code> ä¿®é¥°æˆå‘˜å˜é‡å¯ä»¥è¢«é‡è½½</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// overloadConst.h</span></span><br><span class="line"><span class="meta">#<span class="keyword">ifndef</span> __OVERLOADCONST_H__</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> __OVERLOADCONST_H__</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">TextBlock</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">TextBlock</span>(std::string t) : <span class="built_in">text</span>(t) &#123;&#125;</span><br><span class="line">    ~<span class="built_in">TextBlock</span>() &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="type">const</span> <span class="type">char</span>&amp; <span class="keyword">operator</span>[](std::<span class="type">size_t</span> position) <span class="type">const</span></span><br><span class="line">    &#123;</span><br><span class="line">        std::cout &lt;&lt; <span class="string">&quot;const char&amp; operator[](std::size_t position) const&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">        <span class="keyword">return</span> text[position];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="type">char</span>&amp; <span class="keyword">operator</span>[](std::<span class="type">size_t</span> position)</span><br><span class="line">    &#123;</span><br><span class="line">        std::cout &lt;&lt; <span class="string">&quot;char&amp; operator[](std::size_t position)&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">        <span class="keyword">return</span> text[position];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    std::string text;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span> <span class="comment">// __OVERLOADCONST_H__</span></span></span><br></pre></td></tr></table></figure><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// overloadConst.cpp</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;overloadConst.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// åœ¨å‡½æ•°ä¸­, ctb æ˜¯å¸¸é‡</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">print</span><span class="params">(<span class="type">const</span> TextBlock&amp; ctb)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// è°ƒç”¨ const TextBlock::operator[]</span></span><br><span class="line">    std::cout &lt;&lt; ctb[<span class="number">0</span>] &lt;&lt; std::endl;</span><br><span class="line">    <span class="comment">// ctb[0] = &#x27;x&#x27;;                           // é”™è¯¯ï¼Œä¸èƒ½ä¿®æ”¹ä¸€ä¸ªå¸¸é‡</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// è°ƒç”¨ TextBlock::operator[]</span></span><br><span class="line">    <span class="function">TextBlock <span class="title">tb</span><span class="params">(<span class="string">&quot;Hello&quot;</span>)</span></span>;</span><br><span class="line">    std::cout &lt;&lt; tb[<span class="number">0</span>] &lt;&lt; std::endl;        <span class="comment">// æ­£ç¡®ï¼Œåªè¯»ä¸€ä¸ªéå¸¸é‡</span></span><br><span class="line">    tb[<span class="number">0</span>] = <span class="string">&#x27;x&#x27;</span>;                            <span class="comment">// æ­£ç¡®ï¼Œä¿®æ”¹ä¸€ä¸ªéå¸¸é‡</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// è°ƒç”¨ const TextBlock::operator[]</span></span><br><span class="line">    <span class="function"><span class="type">const</span> TextBlock <span class="title">ctb</span><span class="params">(<span class="string">&quot;World&quot;</span>)</span></span>;</span><br><span class="line">    std::cout &lt;&lt; ctb[<span class="number">0</span>] &lt;&lt; std::endl;       <span class="comment">// æ­£ç¡®ï¼Œåªè¯»ä¸€ä¸ªå¸¸é‡</span></span><br><span class="line">    <span class="comment">// ctb[0] = &#x27;x&#x27;;                           // é”™è¯¯ï¼Œä¸èƒ½ä¿®æ”¹ä¸€ä¸ªå¸¸é‡</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(tb);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>é€šè¿‡é‡è½½ <code>operator[]</code> å¹¶èµ‹äºˆä¸åŒç‰ˆæœ¬çš„è¿”å›å€¼ç±»å‹ï¼Œä½ å¯ä»¥å¯¹å¸¸é‡å’Œéå¸¸é‡ <code>TextBlocks</code> è¿›è¡Œä¸åŒçš„å¤„ç†ã€‚</li><li>å¸¸é‡å¯¹è±¡åœ¨å®é™…ç¨‹åºä¸­æœ€å¸¸å‡ºç°çš„æ˜¯é€šè¿‡æŒ‡é’ˆæˆ–å¼•ç”¨åˆ°å¸¸é‡çš„ç»“æœã€‚ä¾‹å¦‚ç¤ºä¾‹ä»£ç ä¸­çš„ <code>void print(const TextBlock&amp; ctb)</code> å‡½æ•°ã€‚</li><li>è¯·æ³¨æ„ï¼Œ<code>main()</code> å‡½æ•°ä¸­ <code>ctb[0] = &#39;x&#39;;</code> çš„é”™è¯¯åªä¸è¢«è°ƒç”¨çš„ <code>operator[]</code> çš„è¿”å›ç±»å‹æœ‰å…³ï¼›å¯¹ <code>operator[]</code> æœ¬èº«çš„è°ƒç”¨éƒ½æ˜¯æ­£å¸¸çš„ã€‚é”™è¯¯æ˜¯ç”±äºè¯•å›¾å¯¹ <code>const char&amp;</code> è¿›è¡Œèµ‹å€¼ã€‚</li><li><code>operator[]</code> çš„è¿”å›æ•°æ®ç±»å‹æ˜¯ <code>char&amp;</code>ï¼Œä¸æ˜¯ <code>char</code>ã€‚å¦‚æœ <code>operator[]</code> å¦‚æœåªè¿”å›ä¸€ä¸ª <code>char</code>ï¼Œæ˜¯ä¸ä¼šè¢«ç¼–è¯‘é€šè¿‡çš„ï¼Œå› ä¸ºä¿®æ”¹å†…ç½®æ•°æ®ç±»å‹çš„å‡½æ•°çš„è¿”å›å€¼æ˜¯ä¸åˆæ³•çš„ã€‚å³ä½¿å®ƒæ˜¯åˆæ³•çš„ï¼ŒC++ æŒ‰å€¼è¿”å›å¯¹è±¡çš„äº‹å®å°†æ„å‘³ç€ä¸€ä¸ª <code>tb.text[0]</code> çš„å‰¯æœ¬ä¼šè¢«ä¿®æ”¹ï¼Œè€Œä¸æ˜¯ <code>tb.text[0]</code> æœ¬èº«ã€‚</li></ul><h2 id="äºŒè¿›åˆ¶ä½å¸¸é‡æ€§ä¸é€»è¾‘å¸¸é‡æ€§"><a href="#äºŒè¿›åˆ¶ä½å¸¸é‡æ€§ä¸é€»è¾‘å¸¸é‡æ€§" class="headerlink" title="äºŒè¿›åˆ¶ä½å¸¸é‡æ€§ä¸é€»è¾‘å¸¸é‡æ€§"></a>äºŒè¿›åˆ¶ä½å¸¸é‡æ€§ä¸é€»è¾‘å¸¸é‡æ€§</h2><p>ä¸€ä¸ªæˆå‘˜å‡½æ•°ä¸ºå¸¸é‡æ„å‘³ç€ä»€ä¹ˆï¼Ÿæœ‰ä¸¤ä¸ªæ™®éçš„æ¦‚å¿µï¼šâ€œäºŒè¿›åˆ¶ä½å¸¸é‡æ€§â€ï¼ˆä¹Ÿç§°ä¸º â€œç‰©ç†å¸¸é‡æ€§â€ï¼‰å’Œ â€œé€»è¾‘å¸¸é‡æ€§â€ã€‚</p><h4 id="äºŒè¿›åˆ¶ä½å¸¸é‡æ€§"><a href="#äºŒè¿›åˆ¶ä½å¸¸é‡æ€§" class="headerlink" title="äºŒè¿›åˆ¶ä½å¸¸é‡æ€§"></a>äºŒè¿›åˆ¶ä½å¸¸é‡æ€§</h4><p>â€äºŒè¿›åˆ¶ä½å¸¸é‡æ€§â€œ é˜µè¥è®¤ä¸ºï¼Œå½“ä¸”ä»…å½“ä¸€ä¸ªæˆå‘˜å‡½æ•°ä¸ä¿®æ”¹å¯¹è±¡çš„ä»»ä½•æ•°æ®æˆå‘˜ï¼ˆä¸åŒ…æ‹¬é™æ€æˆå‘˜ï¼‰æ—¶ï¼Œå®ƒæ‰æ˜¯å¸¸é‡ï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒä¸ä¿®æ”¹å¯¹è±¡å†…éƒ¨çš„ä»»ä½•æ¯”ç‰¹ä½ã€‚æ¯”ç‰¹æ’å®šæ€§çš„å¥½å¤„æ˜¯ï¼Œå®ƒå¾ˆå®¹æ˜“è¢«æ£€æµ‹åˆ°è¿è§„è¡Œä¸ºï¼Œç¼–è¯‘å™¨åªéœ€æŸ¥çœ‹å¯¹æ•°æ®æˆå‘˜çš„èµ‹å€¼ã€‚äº‹å®ä¸Šï¼Œé€ä½ä¸å˜æ€§æ˜¯ C++ å¯¹ä¸å˜æ€§çš„å®šä¹‰ï¼Œè€Œä¸”ä¸€ä¸ªå¸¸é‡æˆå‘˜å‡½æ•°ä¸å…è®¸ä¿®æ”¹å…¶æ‰€åœ¨å¯¹è±¡çš„ä»»ä½•éé™æ€æ•°æ®æˆå‘˜ã€‚</p><p>é—æ†¾çš„æ˜¯ï¼Œè®¸å¤šä¸æ€ä¹ˆè§„èŒƒçš„æˆå‘˜å‡½æ•°éƒ½é€šè¿‡äº†äºŒè¿›åˆ¶ä½å¸¸é‡æ€§æµ‹è¯•ã€‚ç‰¹åˆ«æ˜¯ï¼Œä¸€ä¸ªä¿®æ”¹äº† â€œæŒ‡é’ˆæ‰€æŒ‡å‘çš„å†…å®¹â€ çš„æˆå‘˜å‡½æ•°ç»å¸¸ä¸ç®—æ˜¯å¸¸é‡æˆå‘˜ã€‚ä½†å¦‚æœå¯¹è±¡ä¸­åªæœ‰æŒ‡é’ˆï¼Œé‚£ä¹ˆç§°è¯¥å‡½æ•°æ˜¯ â€œäºŒè¿›åˆ¶ä½å¸¸é‡æ€§â€ï¼Œç¼–è¯‘å™¨ä¹Ÿä¸ä¼šæœ‰å¼‚è®®ã€‚ä¾‹å¦‚ä¸‹é¢çš„ç¤ºä¾‹ä»£ç æ‰€ç¤ºï¼Œå‡è®¾æœ‰ä¸€ä¸ªç±»ä¼¼äº <code>TextBlock</code> çš„ç±»ï¼Œå®ƒå°†å…¶æ•°æ®å­˜å‚¨ä¸º <code>char*</code> ç±»å‹è€Œä¸æ˜¯ <code>string</code>ç±»å‹ï¼Œå› ä¸ºå®ƒéœ€è¦é€šè¿‡ä¸€ä¸ªä¸è®¤è¯† <code>string</code> å¯¹è±¡çš„ <code>C API</code> è¿›è¡Œäº¤äº’ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bitwise.h</span></span><br><span class="line"><span class="meta">#<span class="keyword">ifndef</span> __BITWISE_H__</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> __BITWISE_H__</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CTextBlock</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">CTextBlock</span>(std::string txt);</span><br><span class="line">    ~<span class="built_in">CTextBlock</span>();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// äºŒè¿›åˆ¶ä½å¸¸é‡æ€§å£°æ˜ï¼Œå®é™…å¹¶ä¸åˆé€‚</span></span><br><span class="line">    <span class="type">char</span>&amp; <span class="keyword">operator</span>[](std::<span class="type">size_t</span> position) <span class="type">const</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> pText[position];</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">release</span><span class="params">()</span></span>;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="type">char</span> *pText;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span> <span class="comment">// __BITWISE_H__</span></span></span><br></pre></td></tr></table></figure><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bitwise.cpp</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;bitwise.h&quot;</span></span></span><br><span class="line"></span><br><span class="line">CTextBlock::<span class="built_in">CTextBlock</span>(std::string txt) : <span class="built_in">pText</span>(<span class="literal">NULL</span>)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">release</span>();</span><br><span class="line">    <span class="type">int</span> len = txt.<span class="built_in">length</span>();</span><br><span class="line">    pText = <span class="keyword">new</span> <span class="type">char</span>[len + <span class="number">1</span>];</span><br><span class="line">    <span class="built_in">memset</span>(pText, <span class="number">0</span>, len + <span class="number">1</span>);</span><br><span class="line">    <span class="built_in">memcpy</span>(pText, txt.<span class="built_in">data</span>(), len);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">CTextBlock::~<span class="built_in">CTextBlock</span>()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">release</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">CTextBlock::release</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(pText != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">delete</span> pText;</span><br><span class="line">        pText = <span class="literal">NULL</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function"><span class="type">const</span> CTextBlock <span class="title">cctb</span><span class="params">(<span class="string">&quot;Hello&quot;</span>)</span></span>;</span><br><span class="line">    <span class="type">char</span> *pc = &amp;cctb[<span class="number">0</span>];</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;before modified: pc = &quot;</span> &lt;&lt; *pc &lt;&lt; std::endl;</span><br><span class="line">    *pc = <span class="string">&#x27;J&#x27;</span>;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;after modified: pc = &quot;</span> &lt;&lt; *pc &lt;&lt; std::endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>CTextBlock</code> ç±»ï¼ˆä¸æ°å½“åœ°ï¼‰å°† <code>operator[]</code> å£°æ˜ä¸ºä¸€ä¸ªå¸¸é‡æˆå‘˜å‡½æ•°ï¼Œå°½ç®¡è¯¥å‡½æ•°è¿”å›çš„æ˜¯å¯¹å¯¹è±¡å†…éƒ¨æ•°æ®çš„å¼•ç”¨ã€‚æ³¨æ„åˆ° <code>operator[]</code> çš„å®ç°å¹¶æ²¡æœ‰ä»¥ä»»ä½•æ–¹å¼ä¿®æ”¹ <code>pText</code>ã€‚å› æ­¤ï¼Œç¼–è¯‘å™¨ä¼šå¾ˆä¹æ„ä¸º <code>operator[]</code> ç”Ÿæˆä»£ç ã€‚</p><p>ä½†æ˜¯æˆ‘ä»¬å´å‘ç°åœ¨ <code>main()</code> å‡½æ•°ä¸­ <code>*pc = &#39;J&#39;;</code> å¯¹è¿”å›å€¼è¿›è¡Œäº†ä¿®æ”¹ï¼Œ<code>*pc</code> å¯æ˜¯è°ƒç”¨ <code>operator[]</code> åçš„è¿”å›å€¼ã€‚</p><h4 id="é€»è¾‘å¸¸é‡æ€§"><a href="#é€»è¾‘å¸¸é‡æ€§" class="headerlink" title="é€»è¾‘å¸¸é‡æ€§"></a>é€»è¾‘å¸¸é‡æ€§</h4><p>å‡ºç°ä¸Šé¢ â€œäºŒè¿›åˆ¶ä½å¸¸é‡æ€§â€ ç¤ºä¾‹ä»£ç ä¸­é—®é¢˜åå‡ºç°äº† â€œé€»è¾‘å¸¸é‡æ€§â€ æ´¾ã€‚ ä¸€ä¸ªå¸¸é‡æˆå‘˜å‡½æ•°å¯èƒ½ä¼šä¿®æ”¹å®ƒæ‰€è°ƒç”¨çš„å¯¹è±¡ä¸­çš„æ¯”ç‰¹ä½ï¼Œä½†åªæ˜¯ä»¥å®¢æˆ·ç«¯æ£€æµ‹ä¸åˆ°çš„æ–¹å¼ã€‚ä¾‹å¦‚ï¼Œå½“ä½ çš„ <code>CTextBlock</code> ç±»è¢«è¯·æ±‚åï¼Œå¯èƒ½æƒ³ç¼“å­˜æ–‡æœ¬å—çš„é•¿åº¦ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// logic.h</span></span><br><span class="line"><span class="meta">#<span class="keyword">ifndef</span> __LOGIC_H__</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> __LOGIC_H__</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CTextBlock</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">std::<span class="type">size_t</span> <span class="title">length</span><span class="params">()</span> <span class="type">const</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="type">char</span> *pText;</span><br><span class="line">    std::<span class="type">size_t</span> textLength;     <span class="comment">// æœ€è¿‘ä¸€æ¬¡è®¡ç®—æ–‡æœ¬åŒºå—é•¿åº¦</span></span><br><span class="line">    <span class="type">bool</span> lengthIsValid;         <span class="comment">// ç›®å‰é•¿åº¦æ˜¯å¦æœ‰æ•ˆ</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span> <span class="comment">// __LOGIC_H__</span></span></span><br></pre></td></tr></table></figure><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// logic.cpp</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;logic.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function">std::<span class="type">size_t</span> <span class="title">CTextBlock::length</span><span class="params">()</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!lengthIsValid) &#123;</span><br><span class="line">        <span class="comment">// é”™è¯¯ï¼Œconst æˆå‘˜å‡½æ•°å†…ä¸èƒ½ç»™ textLength å’Œ lengthIsValid èµ‹å€¼</span></span><br><span class="line">        textLength = std::<span class="built_in">strlen</span>(pText);</span><br><span class="line">        lengthIsValid = <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> textLength;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>length()</code> çš„å®ç°ä¸æ˜¯ â€œäºŒè¿›åˆ¶ä½å¸¸é‡æ€§â€ï¼Œå› ä¸º <code>textLength</code> å’Œ <code>lengthIsValid</code> éƒ½å¯èƒ½è¢«ä¿®æ”¹ã€‚è¿™ä¸¤ä¸ªæ•°æ®è¢«ä¿®æ”¹å¯¹ <code>const CTextBlock</code> å¯¹è±¡è€Œè¨€è™½ç„¶å¯æ¥å—ï¼Œä½†ç¼–è¯‘å™¨ä¸åŒæ„ã€‚</p><p>è§£å†³åŠæ³•ä¹Ÿå¾ˆç®€å•ï¼Œåˆ©ç”¨ C++ çš„ä¸€ä¸ªä¸ <code>const</code> ç›¸å…³çš„æ‘†åŠ¨åœºï¼š<code>mutable</code>ï¼ˆå¯å˜çš„ï¼‰ã€‚<code>mutable</code> é‡Šæ”¾æ‰éé™æ€æˆå‘˜å˜é‡çš„ â€œäºŒè¿›åˆ¶ä½å¸¸é‡æ€§â€ çº¦æŸã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// logic.h</span></span><br><span class="line"><span class="meta">#<span class="keyword">ifndef</span> __LOGIC_H__</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> __LOGIC_H__</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CTextBlock</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">std::<span class="type">size_t</span> <span class="title">length</span><span class="params">()</span> <span class="type">const</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="type">char</span> *pText;</span><br><span class="line">    <span class="keyword">mutable</span> std::<span class="type">size_t</span> textLength;     <span class="comment">// æœ€è¿‘ä¸€æ¬¡è®¡ç®—æ–‡æœ¬åŒºå—é•¿åº¦</span></span><br><span class="line">    <span class="keyword">mutable</span> <span class="type">bool</span> lengthIsValid;         <span class="comment">// ç›®å‰é•¿åº¦æ˜¯å¦æœ‰æ•ˆ</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span> <span class="comment">// __LOGIC_H__</span></span></span><br></pre></td></tr></table></figure><h2 id="é¿å…å¸¸é‡å’Œéå¸¸é‡æˆå‘˜é‡å¤"><a href="#é¿å…å¸¸é‡å’Œéå¸¸é‡æˆå‘˜é‡å¤" class="headerlink" title="é¿å…å¸¸é‡å’Œéå¸¸é‡æˆå‘˜é‡å¤"></a>é¿å…å¸¸é‡å’Œéå¸¸é‡æˆå‘˜é‡å¤</h2><p><code>mutable</code> æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„è§£å†³æ–¹æ¡ˆï¼Œå®ƒè§£å†³äº†äºŒè¿›åˆ¶ä½å¸¸é‡æ€§éæˆ‘æ‰€æ¬²çš„é—®é¢˜ï¼Œä½†å®ƒå¹¶æ²¡æœ‰è§£å†³æ‰€æœ‰ä¸å¸¸é‡ç›¸å…³çš„å›°éš¾ã€‚ä¾‹å¦‚ï¼Œå‡è®¾ <code>TextBlock</code>ï¼ˆå’Œ <code>CTextBlock</code>ï¼‰ä¸­çš„ <code>operator[]</code> ä¸ä»…è¿”å›å¯¹ç›¸åº”å­—ç¬¦çš„å¼•ç”¨ï¼Œå®ƒè¿˜æ‰§è¡Œè¾¹ç•Œæ£€æŸ¥ï¼Œè®°å½•è®¿é—®ä¿¡æ¯ï¼Œç”šè‡³å¯èƒ½è¿›è¡Œæ•°æ®å®Œæ•´æ€§éªŒè¯ã€‚æŠŠæ‰€æœ‰è¿™äº›æ”¾åœ¨å¸¸é‡å’Œéå¸¸é‡çš„ <code>operator[]</code> å‡½æ•°ä¸­ï¼ˆä¸è¦æ‹…å¿ƒï¼Œç°åœ¨æœ‰éšå¼å†…è”é•¿åº¦çš„å‡½æ•°â€“è§å®éªŒã€Šé€å½»å†…è”ã€‹ï¼‰ä¼šäº§ç”Ÿè¿™ç§æ€ªå¼‚çš„ç°è±¡ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// avoidDuplication.h</span></span><br><span class="line"><span class="meta">#<span class="keyword">ifndef</span> __AVOIDDUPLICATION_H__</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> __AVOIDDUPLICATION_H__</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">TextBlock</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"></span><br><span class="line">    <span class="type">const</span> <span class="type">char</span>&amp; <span class="keyword">operator</span>[](std::<span class="type">size_t</span> position) <span class="type">const</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// è¾¹ç•Œæ£€æŸ¥</span></span><br><span class="line">        <span class="comment">// æ—¥å¿—æ•°æ®è®¿é—®</span></span><br><span class="line">        <span class="comment">// éªŒè¯æ•°æ®å®Œæ•´æ€§</span></span><br><span class="line">        <span class="keyword">return</span> text[position];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="type">char</span>&amp; <span class="keyword">operator</span>[](std::<span class="type">size_t</span> position)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// è¾¹ç•Œæ£€æŸ¥</span></span><br><span class="line">        <span class="comment">// æ—¥å¿—æ•°æ®è®¿é—®</span></span><br><span class="line">        <span class="comment">// éªŒè¯æ•°æ®å®Œæ•´æ€§</span></span><br><span class="line">        <span class="keyword">return</span> text[position];</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    std::string text;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span> <span class="comment">// __AVOIDDUPLICATION_H__</span></span></span><br></pre></td></tr></table></figure><p>çœ‹åˆ°ä¸Šé¢ç¤ºä¾‹ä»£ç ï¼Œä½ èƒ½è¯´ä»£ç é‡å¤ï¼Œä»¥åŠéšä¹‹è€Œæ¥çš„ç¼–è¯‘æ—¶é—´ã€ç»´æŠ¤å’Œä»£ç æ¼æ´ç­‰é—®é¢˜å—ï¼Ÿå½“ç„¶ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠæ‰€æœ‰çš„è¾¹ç•Œæ£€æŸ¥ç­‰ä»£ç ç§»åˆ°ä¸€ä¸ªå•ç‹¬çš„æˆå‘˜å‡½æ•°ä¸­ï¼ˆç§æœ‰çš„ï¼‰ï¼Œä¸¤ä¸ªç‰ˆæœ¬çš„ <code>operator[]</code> éƒ½ä¼šè°ƒç”¨ã€‚ä½†ä½ ä»ç„¶ä¼šé‡å¤è°ƒç”¨è¯¥å‡½æ•°ï¼Œå¹¶ä¸”ä½ ä»ç„¶æœ‰é‡å¤çš„è¿”å›è¯­å¥ä»£ç ã€‚</p><p>ä½ çœŸæ­£æƒ³åšçš„æ˜¯å®ç°ä¸€æ¬¡ <code>operator[]</code> åŠŸèƒ½å¹¶ä½¿ç”¨å®ƒä¸¤æ¬¡ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä½ æƒ³è®©ä¸€ä¸ªç‰ˆæœ¬çš„ <code>operator[]</code> è°ƒç”¨ <code>const operator[]</code>ã€‚è¿™å°±ä½¿å¾—æˆ‘ä»¬éœ€è¦å»é™¤å¸¸é‡æ€§ã€‚</p><h4 id="å»é‡å¤ä»£ç "><a href="#å»é‡å¤ä»£ç " class="headerlink" title="å»é‡å¤ä»£ç "></a>å»é‡å¤ä»£ç </h4><p>ä½œä¸ºä¸€èˆ¬è§„åˆ™ï¼Œè½¬å‹æ˜¯ä¸€ä¸ªç³Ÿç³•çš„æƒ³æ³•ï¼Œåœ¨å®éªŒã€Šå°½é‡å°‘ç±»å‹è½¬æ¢ã€‹æ•´ä¸ªå®éªŒæ¥è®¨è®ºè¿™ä¸ªé—®é¢˜ï¼Œä½†ä»£ç é‡å¤ä¹Ÿä¸æ˜¯ä»€ä¹ˆå¥½äº‹ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œ<code>const operator[]</code> æ‰€åšçš„ä¸ <code>operator[]</code> æ‰€åšçš„äº‹æƒ…ç›¸åŒï¼Œåªæœ‰å¸¸é‡ç‰ˆæœ¬è¿”å›å€¼ç±»å‹å—åˆ°å¸¸é‡çº¦æŸã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå°†è¿”å›å€¼ä¸­çš„ <code>const</code> è½¬å‹æ˜¯å®‰å…¨çš„ã€‚å› ä¸ºä¸è®ºè°ƒç”¨ <code>operator[]</code> è¿˜æ˜¯ <code>const operator[]</code> éƒ½ä¸€å®šé¦–å…ˆæœ‰ä¸ªéå¸¸é‡å¯¹è±¡ï¼Œå¦åˆ™å°±ä¸èƒ½å¤Ÿè°ƒç”¨éå¸¸é‡å‡½æ•°ã€‚æ‰€ä»¥ç”¨ <code>operator[]</code> è°ƒç”¨ <code>const operator[]</code> æ˜¯ä¸€ä¸ªé¿å…ä»£ç é‡å¤çš„å®‰å…¨åšæ³•ï¼Œå³ä½¿è¿‡ç¨‹ä¸­éœ€è¦ä¸€ä¸ªè½¬å‹åŠ¨ä½œã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// safeCast.h</span></span><br><span class="line"><span class="meta">#<span class="keyword">ifndef</span> __TEXTBLOCK_H__</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> __TEXTBLOCK_H__</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">TextBlock</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"></span><br><span class="line">    <span class="type">const</span> <span class="type">char</span>&amp; <span class="keyword">operator</span>[](std::<span class="type">size_t</span> position) <span class="type">const</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// è¾¹ç•Œæ£€æŸ¥</span></span><br><span class="line">        <span class="comment">// æ—¥å¿—æ•°æ®è®¿é—®</span></span><br><span class="line">        <span class="comment">// éªŒè¯æ•°æ®å®Œæ•´æ€§</span></span><br><span class="line">        <span class="keyword">return</span> text[position];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="type">char</span>&amp; <span class="keyword">operator</span>[](std::<span class="type">size_t</span> position)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">const_cast</span>&lt;<span class="type">char</span>&amp;&gt;(<span class="built_in">static_cast</span>&lt;<span class="type">const</span> TextBlock&amp;&gt;(*<span class="keyword">this</span>)[position]);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    std::string text;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span> <span class="comment">// __TEXTBLOCK_H__</span></span></span><br></pre></td></tr></table></figure><ul><li>å¦‚ç¤ºä¾‹ä»£ç æ‰€ç¤ºï¼Œä»£ç æœ‰ä¸¤ä¸ªè½¬å‹ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªã€‚ç¬¬ä¸€æ¬¡ç”¨æ¥ä¸º <code>*this</code> æ·»åŠ  <code>const</code> ä½¿å¾— <code>operator[]</code> å¯ä»¥è°ƒç”¨ <code>const operator[]</code>ï¼Œç¬¬äºŒæ¬¡åˆ™æ˜¯ä» <code>const operator[]</code> çš„è¿”å›å€¼ä¸­å»é™¤å¸¸é‡æ€§ã€‚</li><li>ç¤ºä¾‹ä»£ç ä¸­ä½¿ç”¨ <code>operator[]</code> è°ƒç”¨ <code>const operator[]</code>ï¼Œä½†å¦‚æœåªæ˜¯å•çº¯çš„è°ƒç”¨ä¼šé€’å½’è°ƒç”¨è‡ªå·±ï¼Œé‚£ä¹ˆä»£ç ä¼šä¸€ç›´é‡å¤è°ƒç”¨ã€‚ä¸ºäº†é¿å…æ— ç©·é€’å½’ï¼Œè°ƒç”¨æ—¶å¿…é¡»æ˜ç¡®æŒ‡å‡ºè°ƒç”¨çš„æ˜¯ <code>const operator[]</code>ã€‚</li><li>C++ ç¼ºä¹ç›´æ¥çš„è¯­æ³•å¯ä»¥å»è°ƒç”¨ï¼Œå› æ­¤å°† <code>*this</code> ä»å…¶åŸå§‹ç±»å‹ <code>TextBlock&amp;</code> è½¬å‹ä¸º <code>const TextBlock&amp;</code>ã€‚</li><li>ä½¿ç”¨ <code>static_cast</code> æ·»åŠ å¸¸é‡æ€§ï¼Œå¼ºåˆ¶è¿›è¡Œäº†ä¸€æ¬¡å®‰å…¨è½¬å‹ï¼›å†ä½¿ç”¨ <code>const_cast</code> å»é™¤å¸¸é‡æ€§ã€‚</li></ul><h1 id="const-ä¿®é¥°æˆå‘˜å‡½æ•°"><a href="#const-ä¿®é¥°æˆå‘˜å‡½æ•°" class="headerlink" title="const ä¿®é¥°æˆå‘˜å‡½æ•°"></a><code>const</code> ä¿®é¥°æˆå‘˜å‡½æ•°</h1>]]></content>
      
      
      <categories>
          
          <category> ç«‹å¿—åšè§ˆç¾¤ä¹¦ </category>
          
          <category> ã€ŠEfficient C++ã€‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C++ </tag>
            
            <tag> ã€ŠEfficient C++ã€‹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å‹å…ƒ</title>
      <link href="/%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/%E3%80%8AC++%20primer%20plus%E3%80%8B/%E7%AC%AC11%E7%AB%A0%20%E4%BD%BF%E7%94%A8%E7%B1%BB/%E5%8F%8B%E5%85%83/"/>
      <url>/%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/%E3%80%8AC++%20primer%20plus%E3%80%8B/%E7%AC%AC11%E7%AB%A0%20%E4%BD%BF%E7%94%A8%E7%B1%BB/%E5%8F%8B%E5%85%83/</url>
      
        <content type="html"><![CDATA[<p>[toc]</p><h1 id="å‹å…ƒ"><a href="#å‹å…ƒ" class="headerlink" title="å‹å…ƒ"></a>å‹å…ƒ</h1><p>C++ æä¾›äº†å¦å¤–ä¸€ç§å½¢å¼çš„è®¿é—®æƒé™ï¼šå‹å…ƒã€‚å‹å…ƒæœ‰3ç§ï¼š</p><ul><li>å‹å…ƒå‡½æ•°</li><li>å‹å…ƒç±»</li><li>å‹å…ƒæˆå‘˜å‡½æ•°</li></ul><p>é€šè¿‡è®©å‡½æ•°æˆä¸ºç±»çš„å‹å…ƒï¼Œå¯ä»¥èµ‹äºˆè¯¥å‡½æ•°ä¸ç±»çš„æˆå‘˜å‡½æ•°ç›¸åŒçš„è®¿é—®æƒé™ã€‚</p><h1 id="ä¸ºä½•éœ€è¦å‹å…ƒ"><a href="#ä¸ºä½•éœ€è¦å‹å…ƒ" class="headerlink" title="ä¸ºä½•éœ€è¦å‹å…ƒ"></a>ä¸ºä½•éœ€è¦å‹å…ƒ</h1><blockquote><p>åœ¨ä¸ºç±»é‡è½½äºŒå…ƒè¿ç®—ç¬¦æ—¶ï¼ˆå¸¦ä¸¤ä¸ªå‚æ•°çš„è¿ç®—ç¬¦ï¼‰å¸¸å¸¸éœ€è¦å‹å…ƒã€‚å°† Time å¯¹è±¡ä¹˜ä»¥å®æ•°å°±å±äºè¿™ç§æƒ…å†µã€‚</p></blockquote><p>ä¸‹é¢çš„è¯­å¥ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">A = B * <span class="number">2.75</span>ï¼›</span><br></pre></td></tr></table></figure><p>å°†è¢«è½¬æ¢æˆï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">A = B.<span class="keyword">operator</span>*(<span class="number">2.75</span>);</span><br></pre></td></tr></table></figure><p>ä½†ä¸‹é¢çš„è¯­å¥åˆå¦‚ä½•å‘¢?</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">A = <span class="number">2.75</span> * B;</span><br></pre></td></tr></table></figure><p>ä»æ¦‚å¿µä¸Šè¯´ï¼Œ<code>2.75*B</code> ä¸ <code>B*2.75</code> ç›¸åŒï¼Œä½†ç¬¬ä¸€ä¸ªè¡¨è¾¾å¼ä¸å¯¹åº”äºæˆå‘˜å‡½æ•°ï¼Œå› ä¸º2.75ä¸æ˜¯ Timer ç±»å‹çš„å¯¹è±¡ã€‚è®°ä½ï¼Œå·¦ä¾§çš„æ“ä½œæ•°åº”æ˜¯è°ƒç”¨å¯¹è±¡ï¼Œä½†2.75ä¸æ˜¯å¯¹è±¡ã€‚å› æ­¤ï¼Œç¼–è¯‘å™¨ä¸èƒ½ä½¿ç”¨æˆå‘˜å‡½æ•°è°ƒç”¨æ¥æ›¿æ¢è¯¥è¡¨è¾¾å¼ã€‚</p><p>è§£å†³è¿™ä¸ªéš¾é¢˜çš„ä¸€ç§æ–¹å¼æ˜¯ï¼Œå‘ŠçŸ¥æ¯ä¸ªäººï¼ˆåŒ…æ‹¬ç¨‹åºå‘˜è‡ªå·±ï¼‰ï¼Œåªèƒ½æŒ‰ <code>B*2.75</code> çš„æ ¼å¼ç¼–å†™ï¼Œä¸èƒ½å†™æˆ<code>2.75*B</code>ã€‚è¿™æ˜¯ä¸€ç§å¯¹æœåŠ¡å™¨å‹å¥½-å®¢æˆ·è­¦æƒ•çš„ï¼ˆserver-friendly, client-beware)è§£å†³æ–¹æ¡ˆï¼Œä¸OOPæ— å…³ã€‚</p><p>å½“ç„¶ï¼Œä¸Šè¿°çš„é—®é¢˜ä¹Ÿæœ‰è§£å†³æ–¹æ¡ˆâ€”â€”éæˆå‘˜å‡½æ•°ã€‚éæˆå‘˜å‡½æ•°ä¸æ˜¯ç”±å¯¹è±¡è°ƒç”¨çš„ï¼Œå®ƒä½¿ç”¨çš„æ‰€æœ‰å€¼ï¼ˆåŒ…æ‹¬å¯¹è±¡ï¼‰éƒ½æ˜¯æ˜¾å¼å‚æ•°ã€‚è¿™æ ·ï¼Œç¼–è¯‘å™¨èƒ½å¤Ÿå°†ä¸‹é¢çš„è¡¨è¾¾å¼:</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">A = <span class="number">2.75</span> * B;</span><br></pre></td></tr></table></figure><p>ä¸ä¸‹é¢çš„éæˆå‘˜å‡½æ•°è°ƒç”¨åŒ¹é…ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">A = <span class="keyword">operator</span>*(<span class="number">2.75</span>,B);</span><br></pre></td></tr></table></figure><p>è¯¥å‡½æ•°çš„åŸå‹å¦‚ä¸‹ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Time <span class="keyword">operator</span>*(<span class="type">double</span> m, <span class="type">const</span> Time &amp;t);</span><br></pre></td></tr></table></figure><p>å¯¹äºéæˆå‘˜é‡è½½è¿ç®—ç¬¦å‡½æ•°æ¥è¯´ï¼Œè¿ç®—ç¬¦è¡¨è¾¾å¼å·¦è¾¹çš„æ“ä½œæ•°å¯¹åº”äºè¿ç®—ç¬¦å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œè¿ç®—ç¬¦è¡¨è¾¾å¼å³è¾¹çš„æ“ä½œæ•°å¯¹åº”äºè¿ç®—ç¬¦å‡½æ•°çš„ç¬¬äºŒä¸ªå‚æ•°ã€‚è€ŒåŸæ¥çš„æˆå‘˜å‡½æ•°å¯ä»¥è®¿é—®ç±»çš„ç§æœ‰æˆå‘˜ï¼Œå®ƒä»¬è¢«ç§°ä¸ºå‹å…ƒå‡½æ•°ã€‚</p><h1 id="åˆ›å»ºå‹å…ƒ"><a href="#åˆ›å»ºå‹å…ƒ" class="headerlink" title="åˆ›å»ºå‹å…ƒ"></a>åˆ›å»ºå‹å…ƒ</h1><p>åˆ›å»ºå‹å…ƒå‡½æ•°çš„ç¬¬ä¸€æ­¥æ˜¯å°†å…¶åŸå‹æ”¾åœ¨ç±»å£°æ˜ä¸­ï¼Œå¹¶åœ¨åŸå‹å£°æ˜å‰åŠ ä¸Šå…³é”®å­— <code>friend</code>:</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">friend</span> Time <span class="keyword">operator</span>*(<span class="type">double</span> m, <span class="type">const</span> Time &amp; t);</span><br></pre></td></tr></table></figure><p>è¯¥åŸå‹æ„å‘³ç€ä¸‹é¢ä¸¤ç‚¹ï¼š</p><ul><li>è™½ç„¶ <code>operator*()</code> å‡½æ•°æ˜¯åœ¨ç±»å£°æ˜ä¸­å£°æ˜çš„ï¼Œä½†å®ƒä¸æ˜¯æˆå‘˜å‡½æ•°ï¼Œå› æ­¤ä¸èƒ½ä½¿ç”¨æˆå‘˜è¿ç®—ç¬¦æ¥è°ƒç”¨ï¼›</li><li>è™½ç„¶ <code>operator*()</code> å‡½æ•°ä¸æ˜¯æˆå‘˜å‡½æ•°ï¼Œä½†å®ƒä¸æˆå‘˜å‡½æ•°çš„è®¿é—®æƒé™ç›¸åŒã€‚</li></ul><p>ç¬¬äºŒæ­¥æ˜¯ç¼–å†™å‡½æ•°å®šä¹‰ã€‚å› ä¸ºå®ƒä¸æ˜¯æˆå‘˜å‡½æ•°ï¼Œæ‰€ä»¥ä¸è¦ä½¿ç”¨ Time:: é™å®šç¬¦ã€‚å¦å¤–ï¼Œä¸è¦åœ¨å®šä¹‰ä¸­ä½¿ç”¨å…³é”®å­— <code>friend</code>ï¼Œå®šä¹‰å¦‚ä¸‹ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Time <span class="keyword">operator</span>*(<span class="type">double</span> m,<span class="type">const</span> Tlme &amp; t)<span class="comment">// frlend not ued in definition</span></span><br><span class="line">&#123;</span><br><span class="line">    Time result; </span><br><span class="line">    <span class="type">long</span> totalminutes = t.hours * m * <span class="number">60</span> + t.minutes * m;</span><br><span class="line">    result.hours = totalminutes/<span class="number">60</span>;</span><br><span class="line">    result.minutes = totalminutes % <span class="number">60</span>;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ€»ä¹‹ï¼Œç±»çš„å‹å…ƒå‡½æ•°æ˜¯éæˆå‘˜å‡½æ•°ï¼Œå…¶è®¿é—®æƒé™ä¸æˆå‘˜å‡½æ•°ç›¸åŒã€‚ </p>]]></content>
      
      
      <categories>
          
          <category> ç«‹å¿—åšè§ˆç¾¤ä¹¦ </category>
          
          <category> ã€ŠC++ primer plusã€‹ </category>
          
          <category> ç¬¬11ç«  ä½¿ç”¨ç±» </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ã€ŠC++ primer plusã€‹ </tag>
            
            <tag> å‹å…ƒ </tag>
            
            <tag> friend </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++ æšä¸¾</title>
      <link href="/%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/%E3%80%8AC++%20primer%20plus%E3%80%8B/enum/"/>
      <url>/%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/%E3%80%8AC++%20primer%20plus%E3%80%8B/enum/</url>
      
        <content type="html"><![CDATA[<p>[toc]</p><h1 id="æšä¸¾"><a href="#æšä¸¾" class="headerlink" title="æšä¸¾"></a>æšä¸¾</h1><p>C++çš„æšä¸¾å·¥å…·æä¾›äº†å¦ä¸€ç§åˆ›å»ºç¬¦å·å¸¸é‡çš„æ–¹å¼ï¼Œè¿™ç§æ–¹å¼å¯ä»¥ä»£æ›¿<code>const</code>ã€‚è¿˜å…è®¸å®šä¹‰æ–°ç±»å‹ï¼Œä½†å¿…é¡»æŒ‰ä¸¥æ ¼çš„é™åˆ¶æ‰§è¡Œã€‚ä½¿ç”¨<code>enum</code>çš„å¥æ³•ä¸<code>struct</code>ç±»ä¼¼ã€‚</p><p><code>enum color &#123; red, orange, blue, green, red, black&#125;</code></p><p>è¿™æ¡è¯­å¥å®šä¹‰äº†ä¸€ä¸ªåä¸º<code>color</code>çš„æ–°ç±»å‹ï¼Œå®ƒçš„å–å€¼èŒƒå›´ä¸º<code>red, orange, blue, green, red, black</code>ï¼Œç§°ä¸ºç¬¦å·å¸¸é‡ï¼ŒåŒæ—¶å°†<code>0~5</code>åˆ†åˆ«å¯¹åº”äº<code>red~black</code>ã€‚åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼Œ<code>0</code>å¯¹åº”çš„æ˜¯<code>red</code>,<code>5</code>å¯¹åº”çš„æ˜¯<code>black</code>,å…¶ä»–ä»¥æ­¤ç±»æ¨ã€‚</p><h2 id="å£°æ˜ä¸ä½¿ç”¨"><a href="#å£°æ˜ä¸ä½¿ç”¨" class="headerlink" title="å£°æ˜ä¸ä½¿ç”¨"></a>å£°æ˜ä¸ä½¿ç”¨</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">color cor1; <span class="comment">//å®šä¹‰äº†ä¸€ä¸ªç±»å‹ä¸ºcolorçš„å˜é‡cor1</span></span><br><span class="line"><span class="comment">//æšä¸¾å˜é‡çš„èµ‹å€¼</span></span><br><span class="line">cor1 = red; <span class="comment">//æ­£å¸¸èµ‹å€¼</span></span><br><span class="line">cor1 = <span class="number">20</span>; <span class="comment">//éæ³•ï¼Œ20ä¸æ˜¯æšä¸¾å˜é‡</span></span><br></pre></td></tr></table></figure><p>ç”±æ­¤å¯ä»¥çœ‹å‡ºï¼Œæšä¸¾å˜é‡çš„èµ‹å€¼å—åˆ°é™åˆ¶ï¼Œä¸ç¨‹åºå‘˜çš„å®šä¹‰æœ‰å…³ã€‚</p><ul><li><p>å¯¹æšä¸¾è€Œè¨€ï¼Œå®ƒçš„æ“ä½œç¬¦åªæœ‰èµ‹å€¼è¿ç®—ç¬¦<code>=</code>ï¼Œè¿™å°±æ„å‘³ç€æšä¸¾å˜é‡ä¸èƒ½æ‰§è¡Œ<code>++ã€--ã€+ã€â€”</code>ç­‰<code>ç­‰å·</code>ä»¥å¤–çš„æ“ä½œã€‚</p></li><li><p>æšä¸¾é‡æ˜¯æ•´å½¢ï¼Œå¯è¢«æå‡ä¸ºintç±»å‹ï¼Œä½†intç±»å‹ä¸èƒ½è‡ªåŠ¨è½¬æ¢ä¸ºæšä¸¾ç±»å‹</p></li><li><p>æšä¸¾å¯ä»¥è¿›è¡Œå¼ºåˆ¶ç±»å‹è½¬æ¢ï¼Œä½†ä¸ç¡®å®šå…¶ç»“æœï¼Œå¦‚<code>cor1 = spectrum(100);</code></p></li><li><p>å¦‚æœåªæ‰“ç®—ä½¿ç”¨å¸¸é‡ï¼Œè€Œä¸åˆ›å»ºæšä¸¾ç±»å‹çš„å˜é‡ï¼Œåˆ™å¯ä»¥çœç•¥æšä¸¾ç±»å‹çš„åç§° <code>enum &#123;red,orange&#125;</code>ï¼›</p></li></ul><h2 id="è®¾ç½®æšä¸¾çš„å€¼"><a href="#è®¾ç½®æšä¸¾çš„å€¼" class="headerlink" title="è®¾ç½®æšä¸¾çš„å€¼"></a>è®¾ç½®æšä¸¾çš„å€¼</h2><p>å¯ä»¥ä½¿ç”¨èµ‹å€¼è¿ç®—ç¬¦æ˜¾å¼åœ°æ¥è®¾ç½®æšä¸¾é‡çš„å€¼ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="title class_">bits</span> &#123;one = <span class="number">1</span>, two = <span class="number">2</span>, three = <span class="number">3</span>&#125;;</span><br></pre></td></tr></table></figure><p>ä½†æ˜¯ï¼ŒæŒ‡å®šçš„å€¼å¿…é¡»æ˜¯æ•´æ•°ã€‚ä¹Ÿå¯ä»¥åªæ˜¾å¼çš„è®¾ç½®å…¶ä¸­ä¸€éƒ¨åˆ†çš„å€¼ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œæšä¸¾çš„ ç¬¬ä¸€ä¸ªå¸¸é‡å§‹ç»ˆæ˜¯ä»<code>0</code>å¼€å§‹çš„ï¼Œè¿™ä¸€ç‚¹éœ€è¦æ³¨æ„ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="title class_">digits</span> &#123;zero, one = <span class="number">0</span>, two, three = <span class="number">1</span>&#125;;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œï¼Œ<code>zero</code>å’Œ<code>one</code>çš„æšä¸¾é‡éƒ½ä¸º<code>0</code>,<code>two</code>å’Œ<code>three</code>éƒ½æ˜¯<code>1</code>ã€‚</p><p>é™¤äº†å¯ä»¥å°†<code>int</code>ç±»å‹çš„å€¼èµ‹å€¼ç»™æšä¸¾é‡ï¼Œè¿˜å¯ä»¥ä½¿ç”¨<code>long</code>å’Œ<code>long long</code>ç±»å‹çš„å€¼ã€‚</p><h2 id="æšä¸¾çš„å–å€¼èŒƒå›´"><a href="#æšä¸¾çš„å–å€¼èŒƒå›´" class="headerlink" title="æšä¸¾çš„å–å€¼èŒƒå›´"></a>æšä¸¾çš„å–å€¼èŒƒå›´</h2><p>ç°åœ¨æœ‰æŒ‡å®šäº†æšä¸¾é‡çš„æšä¸¾å¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">enum</span> <span class="title">bits</span><span class="params">(one = <span class="number">1</span>, two = <span class="number">2</span>,four = <span class="number">4</span>,eight = <span class="number">8</span>&#125;;</span></span></span><br><span class="line"><span class="params"><span class="function">bits myflag;</span></span></span><br><span class="line"><span class="params"><span class="function">myflag = bits(<span class="number">6</span>);</span></span></span><br></pre></td></tr></table></figure><p>é—®ï¼š</p><div align=center style="filter:blur(5);">    ä¸Šè¿°èµ‹å€¼æ˜¯å¦åˆæ³•<pre><code>    åˆæ³•ï¼Œè™½ç„¶`6`ä¸æ˜¯æšä¸¾é‡ï¼Œä½†å®ƒä½äºæšä¸¾å®šä¹‰çš„å–å€¼èŒƒå›´å†…ã€‚</code></pre></div><p>å…³äºå–å€¼èŒƒå›´çš„å®šä¹‰ï¼ˆå‚è€ƒC++ primer ç¬¬å…­ç‰ˆï¼‰ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">enum</span> <span class="title">bigstep</span><span class="params">(firat,second = <span class="number">100</span>, third&#125;;</span></span></span><br></pre></td></tr></table></figure><blockquote><p>é¦–å…ˆï¼Œè¦æ‰¾å‡ºä¸Šé™ï¼Œéœ€è¦çŸ¥é“æšä¸¾é‡çš„æœ€å¤§å€¼ã€‚æ‰¾åˆ°å¤§äºè¿™ä¸ªæœ€å¤§å€¼çš„ã€æœ€å°çš„2çš„å¹‚ï¼Œå°†å®ƒå‡å»1ï¼Œå¾—åˆ°çš„ä¾¿æ˜¯å–å€¼èŒƒå›´çš„ä¸Šé™ã€‚ä¾‹å¦‚ï¼Œå®šä¹‰çš„bigstepçš„æœ€å¤§å€¼æšä¸¾å€¼æ˜¯101ã€‚åœ¨2çš„å¹‚ä¸­ï¼Œæ¯”è¿™ä¸ªæ•°å¤§çš„æœ€å°å€¼ä¸º128ï¼Œå› æ­¤å–å€¼èŒƒå›´çš„ä¸Šé™ä¸º127ã€‚è¦è®¡ç®—ä¸‹é™ï¼Œéœ€è¦çŸ¥é“æšä¸¾é‡çš„æœ€å°å€¼ã€‚å¦‚æœå®ƒä¸å°äº0ï¼Œåˆ™å–å€¼èŒƒå›´çš„ä¸‹é™ä¸º0âˆ¶å¦åˆ™ï¼Œé‡‡ç”¨ä¸å¯»æ‰¾ä¸Šé™æ–¹å¼ç›¸åŒçš„æ–¹å¼ï¼Œä½†åŠ ä¸Šè´Ÿå·ã€‚</p><hr><p>ä¾‹å¦‚ï¼Œå¦‚æœæœ€å°çš„æšä¸¾é‡ä¸º-6ï¼Œè€Œæ¯”å®ƒå°çš„ã€æœ€å¤§çš„2çš„å¹‚æ˜¯-8ï¼ˆåŠ ä¸Šè´Ÿå·ï¼‰ï¼Œå› æ­¤ä¸‹é™ä¸º-7ã€‚é€‰æ‹©ç”¨å¤šå°‘ç©ºé—´æ¥å­˜å‚¨æšä¸¾ç”±ç¼–è¯‘å™¨å†³å®šã€‚å¯¹äºå–å€¼èŒƒå›´è¾ƒå°çš„æšä¸¾ï¼Œä½¿ç”¨ä¸€ä¸ªå­—èŠ‚æˆ–æ›´å°‘çš„ç©ºé—´âˆ¶è€Œå¯¹äºåŒ…å« longç±»å‹å€¼çš„æšä¸¾ï¼Œåˆ™ä½¿ç”¨4ä¸ªå­—èŠ‚ã€‚</p></blockquote><h2 id="åº”ç”¨å®ä¾‹"><a href="#åº”ç”¨å®ä¾‹" class="headerlink" title="åº”ç”¨å®ä¾‹"></a>åº”ç”¨å®ä¾‹</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;main.h&quot;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">enum</span> <span class="title class_">myFlag</span> &#123;</span><br><span class="line">one,</span><br><span class="line">two = <span class="number">0</span>,</span><br><span class="line">three,</span><br><span class="line">four = <span class="number">1</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cout &lt;&lt; three &lt;&lt; endl;</span><br><span class="line">myFlag flag = <span class="built_in">myFlag</span>(<span class="number">0</span>);</span><br><span class="line">cout &lt;&lt; flag &lt;&lt; endl;</span><br><span class="line"><span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¾“å‡ºç»“æœï¼š</p><div style="background:black;color:white">1<br>0<br></div><hr><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">enum</span> <span class="title class_">color</span> &#123; red=<span class="number">1</span>, green, blue &#125;;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">enum</span>  <span class="title class_">color</span> favorite_color;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">/* ç”¨æˆ·è¾“å…¥æ•°å­—æ¥é€‰æ‹©é¢œè‰² */</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;è¯·è¾“å…¥ä½ å–œæ¬¢çš„é¢œè‰²: (1. red, 2. green, 3. blue): &quot;</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%u&quot;</span>, &amp;favorite_color);</span><br><span class="line"> </span><br><span class="line">    <span class="comment">/* è¾“å‡ºç»“æœ */</span></span><br><span class="line">    <span class="keyword">switch</span> (favorite_color)</span><br><span class="line">    &#123;</span><br><span class="line">    <span class="keyword">case</span> red:</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;ä½ å–œæ¬¢çš„é¢œè‰²æ˜¯çº¢è‰²&quot;</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> green:</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;ä½ å–œæ¬¢çš„é¢œè‰²æ˜¯ç»¿è‰²&quot;</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> blue:</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;ä½ å–œæ¬¢çš„é¢œè‰²æ˜¯è“è‰²&quot;</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;ä½ æ²¡æœ‰é€‰æ‹©ä½ å–œæ¬¢çš„é¢œè‰²&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><div style="background:black;color:white">è¯·è¾“å…¥ä½ å–œæ¬¢çš„é¢œè‰²: (1. red, 2. green, 3. blue): 1<br>ä½ å–œæ¬¢çš„é¢œè‰²æ˜¯çº¢è‰²</div><h1 id="æšä¸¾è¿›é˜¶"><a href="#æšä¸¾è¿›é˜¶" class="headerlink" title="æšä¸¾è¿›é˜¶"></a>æšä¸¾è¿›é˜¶</h1><h2 id="1-ä½è¿ç®—æ”¯æŒ"><a href="#1-ä½è¿ç®—æ”¯æŒ" class="headerlink" title="1. ä½è¿ç®—æ”¯æŒ"></a>1. ä½è¿ç®—æ”¯æŒ</h2><blockquote><p>åœ¨ä½¿ç”¨æšä¸¾æ—¶ç»“åˆåˆ° <mark>2è¿›åˆ¶</mark> çš„å¼ºå¤§ï¼Œå¯¹æšä¸¾å€¼è‡ªç”±çš„è¿›è¡Œå¼‚æˆ–è¿ç®—ã€‚</p></blockquote><p>ä¸¾ä¾‹ä¸€ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="title class_">AttributeTargets</span></span><br><span class="line">&#123;</span><br><span class="line">     Assembly = <span class="number">0x0001</span>,</span><br><span class="line">     Class = <span class="number">0x0002</span>,</span><br><span class="line">     Struct = <span class="number">0x0004</span></span><br><span class="line">     ...</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>ä¸¾ä¾‹äºŒï¼š</p><p>ä½†æ˜¯åœ¨</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="title class_">FileAccess</span></span><br><span class="line">&#123;</span><br><span class="line">     Read = <span class="number">0x1</span>,</span><br><span class="line">     Write = <span class="number">0x2</span>,</span><br><span class="line">     ReadWrite = Read | Write</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="2-0å€¼"><a href="#2-0å€¼" class="headerlink" title="2. 0å€¼"></a>2. 0å€¼</h2><p>ä¸ºç®€å•æšä¸¾æä¾›ä¸€ä¸ª 0 å€¼æšä¸¾é‡ï¼Œå¯ä»¥è€ƒè™‘å°†å…¶å‘½åä¸º <code>None</code>ã€‚å¦‚æœè¿™ä¸ªåå¯¹äºç‰¹å®šçš„æšä¸¾ä¸åˆé€‚çš„æ—¶å€™ï¼Œå¯ä»¥è‡ªè¡Œæ‰¾ä¸€ä¸ªå‡†ç¡®çš„ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="title class_">Compression</span></span><br><span class="line">&#123;</span><br><span class="line">     None = <span class="number">0</span>,</span><br><span class="line">     GZip,</span><br><span class="line">     Deflate</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="3-ç”¨æšä¸¾ä»£æ›¿define"><a href="#3-ç”¨æšä¸¾ä»£æ›¿define" class="headerlink" title="3. ç”¨æšä¸¾ä»£æ›¿define"></a>3. ç”¨æšä¸¾ä»£æ›¿<code>define</code></h2><blockquote><p>åœ¨åˆé€‚çš„æƒ…å†µä¸‹å°½é‡ä½¿ç”¨æšä¸¾ç±»å‹ï¼Œè€Œä¸æ˜¯é™æ€å¸¸é‡æˆ– â€œ#defineâ€ å€¼ ã€‚æšä¸¾ ç±»å‹æ˜¯ä¸€ä¸ªå…·æœ‰ä¸€ä¸ªé™æ€å¸¸é‡é›†åˆçš„ç»“æ„ä½“ã€‚å¦‚æœéµå®ˆè¿™äº›è§„èŒƒï¼Œå®šä¹‰æšä¸¾ç±»å‹ï¼Œè€Œä¸æ˜¯å¸¦ æœ‰é™æ€å¸¸é‡çš„ç»“æ„ä½“ï¼Œæ‚¨ä¾¿ä¼šå¾—åˆ°é¢å¤–çš„ç¼–è¯‘å™¨å’Œåå°„æ”¯æŒï¼Œåœ¨è°ƒè¯•ä»£ç æ—¶ä¹Ÿèƒ½æ›´åŠ ç›´è§‚ã€‚</p></blockquote><p>Good:</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">enum</span> <span class="title class_">Color</span></span><br><span class="line">&#123;</span><br><span class="line">     Red,</span><br><span class="line">     Green,</span><br><span class="line">     Blue</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>bad:</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">const</span> <span class="type">int</span> RED = <span class="number">0</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> GREEN = <span class="number">1</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> BLUE = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> RED 0</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> GREEN 1</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> BLUE 2</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ç«‹å¿—åšè§ˆç¾¤ä¹¦ </category>
          
          <category> ã€ŠC++ primer plusã€‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ã€ŠC++ primer plusã€‹ </tag>
            
            <tag> enum </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¸‰é»‘è±†æµ†</title>
      <link href="/%E6%9D%82%E8%AE%B0/%E9%A3%9F%E7%89%A9/%E4%B8%89%E9%BB%91%E8%B1%86%E6%B5%86/"/>
      <url>/%E6%9D%82%E8%AE%B0/%E9%A3%9F%E7%89%A9/%E4%B8%89%E9%BB%91%E8%B1%86%E6%B5%86/</url>
      
        <content type="html"><![CDATA[<ol><li>é…æ–™è¡¨</li></ol><ul><li><p>é»‘è±† 25å…‹</p></li><li><p>é»‘ç±³ 20å…‹</p></li><li><p>é»‘èŠéº» 15å…‹</p></li><li><p>æ ¸æ¡ƒ 25å…‹</p></li><li><p>å†°ç³– 15å…‹</p></li><li><p>å‡‰æ°´ 800ml</p></li></ul>]]></content>
      
      
      <categories>
          
          <category> æ‚è®° </category>
          
          <category> é£Ÿç‰© </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç²¥ç±» </tag>
            
            <tag> ç†¬å¤œ </tag>
            
            <tag> è±†æµ† </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å£°ç½‘å‚èµ›ç»å†è®°å½•â€”â€”ç™½æ¿æ’ä»¶å¼€å‘(å‰ç«¯)</title>
      <link href="/%E6%9D%82%E8%AE%B0/%E5%A3%B0%E7%BD%91%E5%8F%82%E8%B5%9B%E5%88%86%E4%BA%AB/"/>
      <url>/%E6%9D%82%E8%AE%B0/%E5%A3%B0%E7%BD%91%E5%8F%82%E8%B5%9B%E5%88%86%E4%BA%AB/</url>
      
        <content type="html"><![CDATA[<div class="tag-plugin image"><div class="image-bg"><img src="https://raw.githubusercontent.com/holdyounger/ScopeBlog/rc_images/Images/_posts/%E6%9D%82%E8%AE%B0/%E5%A3%B0%E7%BD%91%E5%8F%82%E8%B5%9B%E5%88%86%E4%BA%AB/image-20220925184747631.png"/></div></div><p>[toc]</p><h1 id="æ¯”èµ›åˆ›æ„"><a href="#æ¯”èµ›åˆ›æ„" class="headerlink" title="# æ¯”èµ›åˆ›æ„"></a># æ¯”èµ›åˆ›æ„</h1><p>æœ€å¼€å§‹è®¨è®ºçš„ç»“æœæ—¶åšä¸€ä¸ªä¼šè®®è®°å½•ç›¸å…³çš„æ’ä»¶ï¼Œç»“åˆå£°æœ›åŸæœ¬æä¾›çš„ç™½æ¿æ’ä»¶åŠŸèƒ½ï¼Œå¯ä»¥å®æ—¶çš„è¿›è¡Œå±•ç¤ºï¼Œå¤šäººæ“ä½œã€äº’åŠ¨ï¼ŒéŸ³è§†é¢‘é€šè¯ã€‚åŒºåˆ«äºç°æœ‰ä¼šè®®æ¨¡å¼çš„ä¸€ç‚¹å°±æ˜¯ï¼Œé™¤äº†éŸ³è§†é¢‘é€šè¯ï¼Œè¿˜å¯ä»¥åœ¨é€šè¯çš„åŒæ—¶ï¼Œåœ¨ç™½æ¿ä¸Šè¿›è¡Œæ“ä½œï¼Œç±»ä¼¼äºWebä¸Š <mark>åœ¨çº¿æ–‡æ¡£</mark>ã€<mark>åœ¨çº¿ä¼šè®®</mark>ã€<mark>åœ¨çº¿ç”»æ¿</mark> ä¸‰è€…åŠŸèƒ½é›†ä¸€èº«çš„ä¸€æ¬¾ç™½æ¿æ’ä»¶ï¼Œå½“ç„¶è¿™é‡Œåœ¨çº¿ç™½æ¿çš„åŠŸèƒ½æ˜¯ç”±å£°æœ›çš„ <code>SDK</code> æä¾›äº†è¿™ä¸ªèƒ½åŠ›ï¼Œåœ¨çº¿æ–‡æ¡£çš„è¿™äº›å…·ä½“çš„åœ¨çº¿åŒæ­¥çš„é€»è¾‘è¿˜æ˜¯è¦ä»¥å£°æœ›æä¾›çš„ä¸ºåŸºå‡†ã€‚</p><h1 id="1-æœ€ç»ˆç»“æœ"><a href="#1-æœ€ç»ˆç»“æœ" class="headerlink" title="1. æœ€ç»ˆç»“æœ"></a>1. æœ€ç»ˆç»“æœ</h1><p>æœ€ç»ˆç”±äºæˆ‘ä»¬äººåŠ›æœ‰é™ï¼Œå¹¶ä¸”éƒ½æ˜¯å…¼èŒå‚åŠ æ¯”èµ›ï¼Œæ‰€ä»¥å®Œæˆä¸Šæ˜¯å¤§æ‰“æŠ˜æ‰£ã€‚</p><ul><li>è°ƒç”¨äº†è®¯é£çš„å®æ—¶è¯­éŸ³è¯†åˆ«æ¥å£å®ç°äº†æ’ä»¶çš„ <mark>è¯­éŸ³è½¬å†™</mark> åŠŸèƒ½ï¼Œå¯ä»¥è¿›è¡Œå¤šäººè¯­éŸ³è¯†åˆ«åˆ°æ’ä»¶å†…éƒ¨</li><li>å¯ä»¥å¯¹ä¼šè®®å†…å®¹å’Œè¯†åˆ«è®°å½•è¿›è¡Œ <mark>ä¸€é”®å¯¼å‡º</mark> çš„åŠŸèƒ½</li></ul><p>æœ€åå‘¢ï¼Œç”±äºå®ç°çš„åŠŸèƒ½è¿‡äºå•è°ƒï¼Œåˆæ–°å¢äº†ä¸€ä¸ª <code>Markdown</code> çš„ç¼–è¾‘å™¨ï¼Œæ’ä»¶å¯åŠ¨åå¯ä»¥ç¼–è¾‘ï¼Œä½†æ˜¯è¿™ä¸ªå†…å®¹æ˜¯ä¸åŒæ­¥çš„ã€‚</p><h1 id="æŠ€æœ¯æ€»ç»“"><a href="#æŠ€æœ¯æ€»ç»“" class="headerlink" title="# æŠ€æœ¯æ€»ç»“"></a># æŠ€æœ¯æ€»ç»“</h1><p>æ€»ç»“ä¸€ä¸‹æˆ‘ä¸ªäººåœ¨æ¯”èµ›ä¸­å­¦ä¹ å’Œä½¿ç”¨åˆ°çš„ä¸€äº›æŠ€æœ¯ï¼Œç”±äºæˆ‘æœ¬äººæ˜¯ C++å®¢æˆ·ç«¯ å¼€å‘ï¼Œä¹‹å‰è™½ç„¶ä¹Ÿæœ‰å­¦ä¹ è¿‡VUEå’Œå‰ç«¯çŸ¥è¯†ï¼Œä½†æ˜¯ <code>VUE3</code> çš„æ”¹åŠ¨è¿˜æ˜¯æŒºå¤§ï¼Œä½¿ç”¨èµ·æ¥é¢‡æœ‰äº›ä¸å¤ªä¹ æƒ¯çš„åœ°æ–¹ã€‚ä¸»è¦çš„å‰ç«¯æ¡†æ¶ä»¥åŠä»£ç åŠŸèƒ½éƒ½æ˜¯ç”±æˆ‘æ¯”èµ›çš„é˜Ÿå‹å»å®Œæˆçš„ã€‚æˆ‘è´Ÿè´£åå°æ•°æ®ç›¸å…³çš„ä¸€äº›å·¥ä½œã€‚ä¸»è¦é¢å‘äºéŸ³è§†é¢‘å½•åˆ¶ã€å­˜å‚¨ã€å‘é€ç­‰ï¼Œä»¥åŠè°ƒç”¨è¯­éŸ³è¯†åˆ«æ¥å£ã€‚</p><ol><li>AgoraRTC(å£°ç½‘çš„sdkï¼Œæä¾›å®æ—¶éŸ³è§†é¢‘æœåŠ¡)</li><li>IatRecorder(è®¯é£å°è£…çš„ä¸€ä¸ªè¯­éŸ³è¯†åˆ«æ¥å£)</li><li>Vue</li><li>å‰ç«¯ä¸‰å‰‘å®¢ï¼ˆjsã€h5ã€CSSï¼‰è¿™ä¸‰ä¸ªåœ¨è°ƒè¯•è¿‡ç¨‹ä¸­å æ¯”å¾ˆå¤§</li></ol><h1 id="å®ç°"><a href="#å®ç°" class="headerlink" title="# å®ç°"></a># å®ç°</h1><p>å®ç°éƒ¨åˆ†ä¸»è¦è®²å…³äºéŸ³é¢‘ä¼ è¾“ã€å½•éŸ³ã€å®æ—¶è¯­éŸ³è½¬å†™è¿™ä¸‰ç‚¹ï¼š</p><h2 id="éŸ³é¢‘ä¼ è¾“"><a href="#éŸ³é¢‘ä¼ è¾“" class="headerlink" title="éŸ³é¢‘ä¼ è¾“"></a>éŸ³é¢‘ä¼ è¾“</h2><p>éŸ³é¢‘ä¼ è¾“æ–¹é¢ã€‚å£°ç½‘æœ‰ç°æˆçš„demoæä¾›å­¦ä¹ ï¼Œä½¿ç”¨èµ·æ¥ç›¸å¯¹æ¯”è¾ƒç®€å•ã€‚</p><p><a href="https://github.com/AgoraIO/API-Examples-Web/tree/main/Demo/selfRendering">API-Examples-Web&#x2F;Demo&#x2F;selfRendering at main Â· AgoraIO&#x2F;API-Examples-Web</a></p>]]></content>
      
      
      <categories>
          
          <category> æ‚è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å£°ç½‘ </tag>
            
            <tag> æ¯”èµ› </tag>
            
            <tag> RTC </tag>
            
            <tag> éŸ³è§†é¢‘ </tag>
            
            <tag> å‰ç«¯ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¸´æ—¶æ–‡ä»¶</title>
      <link href="/%E6%9D%82%E8%AE%B0/%E4%B8%B4%E6%97%B6%E7%AC%94%E8%AE%B0/"/>
      <url>/%E6%9D%82%E8%AE%B0/%E4%B8%B4%E6%97%B6%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<p>[toc]</p><p>äººæ–‡ç¯å¢ƒçš„å½¢æˆæ˜¯å¸¸å¹´ç´¯æœˆçš„ç§¯æ·€ï¼Œæ˜¯äººçš„æ”¹é€ ä¸è‡ªç„¶çš„æ‰“ç£¨å·§å¦™ç»“åˆå½¢æˆçš„ï¼Œå› æ­¤ä¹Ÿè•´å«äº†ç‹¬ç‰¹çš„ç²¾ç¥åŠ›é‡å’Œéš¾å¾—çš„ç‰©è´¨åº•è‰²ã€‚ä»ç‰©è´¨æ–‡åŒ–å’Œç²¾ç¥æ–‡åŒ–ä¸¤ä¸ªè§’åº¦æ¥çœ‹ï¼Œå¯¹äººæ–‡ç¯å¢ƒä¸­çš„å»ºç­‘è¿›è¡Œè®¾è®¡æ‰€å—åˆ°çš„ç‰µåˆ¶è¾ƒå¤šã€‚çºµå‘çœ‹ï¼Œæœ‰å†å²æ–‡åŒ–çš„å½±å“ï¼›æ¨ªå‘çœ‹ï¼Œæœ‰åœ°åŸŸå› ç´ çš„åˆ¶çº¦ï¼›å¦ä¸€ä¸ªæ–¹é¢ï¼Œè§‚è€…çš„å®¡ç¾è§’åº¦ã€ä½¿ç”¨è€…çš„ç”Ÿæ´»ä¹ æƒ¯ï¼Œä»¥åŠäººä»¬é“å¾·è§„èŒƒçš„çº¦æŸéƒ½æ˜¯äººæ–‡ç¯å¢ƒä¸­å¯¹å»ºç­‘æ¶ˆéšçš„é‡è¦å› ç´ ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œåšåˆ°â€œæ¶ˆéšâ€ï¼Œéœ€è¦è®¾è®¡å¸ˆè€ƒè™‘å„æ–¹é¢çš„å› ç´ ï¼Œä»è€Œåšå‡ºæ›´èƒ½çªå‡ºå»ºç­‘ç‰¹ï¼Œåˆèƒ½è¾¾åˆ°â€œæ¶ˆéšâ€ç›®çš„çš„è®¾è®¡æ–¹æ¡ˆã€‚ä»¥ä¸‹ç»“åˆä¸‰ä¸ªç›¸å¯¹å…¸å‹çš„æ¡ˆä¾‹è¿›è¡Œå…·ä½“çš„åˆ†æã€‚</p><p>å»ºç­‘è®¾è®¡ç¯èŠ‚éœ€è¦è€ƒè™‘çš„å› ç´ é™¤äº†äººæ–‡ç¯å¢ƒã€é€ ä»·ã€é£æ ¼ä¹‹å¤–ï¼Œä¹Ÿåº”è€ƒè™‘åˆ°å»ºç­‘æŠ€æœ¯å¯¹å»ºç­‘è®¾è®¡çš„æå‡ã€‚ä¸ä»…å¦‚æ­¤ï¼Œå»ºç­‘æŠ€æœ¯å¯ä»¥è¯´æ˜¯å»ºç­‘åˆ›ä½œä¸­é‡è¦çš„ä¸€ä¸ªç¯èŠ‚ï¼Œå…¶æœ€ç»ˆä½“ç°åœ¨å»ºç­‘çš„ç©ºé—´å½¢æ€ä¸Šï¼Œå»ºç­‘å½¢æ€æ˜¯å¦ä¼˜ç¾ã€æ˜¯å¦è¾¾åˆ°äº†æ•ˆæœï¼Œåˆå¯ä»¥ç›´æ¥åé¦ˆå‡ºå»ºç­‘æŠ€æœ¯çš„ä½¿ç”¨æƒ…å†µã€‚å»ºç­‘æŠ€æœ¯çš„è¦ç´ åŒ…æ‹¬ææ–™ã€ç»“æ„ã€æ–½å·¥ç­‰ä¸åŒçš„ç±»åˆ«ï¼Œä»é€‰æåˆ°æ–½å·¥ï¼Œæ¯ä¸€ä¸ªæŠ€æœ¯ç¯èŠ‚éƒ½æœ‰å…¶å¯¹åº”çš„ä½¿ç”¨ç¯å¢ƒï¼Œå……åˆ†åˆ©ç”¨è¿™ä¸€ç‰¹å®šç¯å¢ƒï¼Œä»è€Œæœ‰æ•ˆåœ°åˆ©ç”¨å»ºç­‘æŠ€æœ¯å¯¹æ¯ä¸ªç¯èŠ‚è¿›è¡Œæ”¹é€ å’Œæå‡ã€‚è¿™ä¹Ÿèƒ½å……åˆ†ä½“ç°ç¯å¢ƒæ•´ä½“è§‚çš„ç†å¿µã€‚</p><h1 id="ç¤¾ä¼šè®¿è°ˆï¼š-ä¸€åå·¥ç¨‹å¸ˆçœ¼ä¸­çš„æ–°æ—¶ä»£åŠå¯ç¤º"><a href="#ç¤¾ä¼šè®¿è°ˆï¼š-ä¸€åå·¥ç¨‹å¸ˆçœ¼ä¸­çš„æ–°æ—¶ä»£åŠå¯ç¤º" class="headerlink" title="ç¤¾ä¼šè®¿è°ˆï¼š ä¸€åå·¥ç¨‹å¸ˆçœ¼ä¸­çš„æ–°æ—¶ä»£åŠå¯ç¤º"></a>ç¤¾ä¼šè®¿è°ˆï¼š ä¸€åå·¥ç¨‹å¸ˆçœ¼ä¸­çš„æ–°æ—¶ä»£åŠå¯ç¤º</h1><p>æ·±å…¥è®¿è°ˆä¸€ä¸ªè‡ªå·±çš„é•¿è¾ˆï¼Œè¯·å…¶ä»‹ç»èŒä¸šç»å†å’Œäººç”Ÿé˜…å†ï¼Œå¹¶é€šè¿‡è¿™ä¸ªåˆ‡å…¥ç‚¹ï¼Œä»¥å°è§å¤§ä»‹ç»å…¶å¯¹å›½å®¶å‘å±•çš„çœ‹æ³•æ„Ÿå—ï¼Œè®°è¿°å…¶è®¿è°ˆå†…å®¹åŠå¯¹è‡ªå·±æœªæ¥çš„å¯ç¤ºã€‚</p><h2 id="è®¿è°ˆå¯¹è±¡ï¼š"><a href="#è®¿è°ˆå¯¹è±¡ï¼š" class="headerlink" title="è®¿è°ˆå¯¹è±¡ï¼š"></a><strong>è®¿è°ˆå¯¹è±¡ï¼š</strong></h2><p>è®¿è°ˆå¯¹è±¡ï¼šåŒå­¦çš„èˆ…èˆ… </p><p>æ€§åˆ«ï¼šç”· </p><p>å¹´é¾„ï¼š48</p><p>èŒä¸šï¼šç»“æ„å·¥ç¨‹å¸ˆ </p><p>å•ä½ï¼šä¸­å»ºä¸€å±€æŸåˆ†å…¬å¸ </p><p>èŒåŠ¡ï¼šå·¥ç¨‹å¸ˆ</p><p>ä»ä¸šå¹´æ•°ï¼š22 </p><p>è®¿è°ˆæ—¶é—´ï¼š2022.11.26</p><p>è®¿è°ˆå½¢å¼ï¼šç”µè¯</p><h2 id="è®¿è°ˆå†…å®¹ï¼š"><a href="#è®¿è°ˆå†…å®¹ï¼š" class="headerlink" title="è®¿è°ˆå†…å®¹ï¼š"></a><strong>è®¿è°ˆå†…å®¹ï¼š</strong></h2><ol><li><h3 id="æ‚¨æ˜¯å¦‚ä½•æ‰¾åˆ°è¿™ä»½å·¥ä½œçš„ï¼Ÿ"><a href="#æ‚¨æ˜¯å¦‚ä½•æ‰¾åˆ°è¿™ä»½å·¥ä½œçš„ï¼Ÿ" class="headerlink" title="æ‚¨æ˜¯å¦‚ä½•æ‰¾åˆ°è¿™ä»½å·¥ä½œçš„ï¼Ÿ"></a>æ‚¨æ˜¯å¦‚ä½•æ‰¾åˆ°è¿™ä»½å·¥ä½œçš„ï¼Ÿ</h3></li></ol><p>å½“æ—¶å·¥ä½œè¿˜æ˜¯åŒ…åˆ†é…çš„ï¼Œæ¯•ä¸šåæˆ‘é€‰æ‹©äº†å»ä¸­å»ºã€‚</p><ol start="2"><li><h3 id="å°±æ‚¨çš„å·¥ä½œè€Œè¨€ï¼Œæ‚¨æœ€å–œæ¬¢ä»€ä¹ˆï¼Ÿæœ€ä¸å–œæ¬¢ä»€ä¹ˆï¼Ÿ"><a href="#å°±æ‚¨çš„å·¥ä½œè€Œè¨€ï¼Œæ‚¨æœ€å–œæ¬¢ä»€ä¹ˆï¼Ÿæœ€ä¸å–œæ¬¢ä»€ä¹ˆï¼Ÿ" class="headerlink" title="å°±æ‚¨çš„å·¥ä½œè€Œè¨€ï¼Œæ‚¨æœ€å–œæ¬¢ä»€ä¹ˆï¼Ÿæœ€ä¸å–œæ¬¢ä»€ä¹ˆï¼Ÿ"></a>å°±æ‚¨çš„å·¥ä½œè€Œè¨€ï¼Œæ‚¨æœ€å–œæ¬¢ä»€ä¹ˆï¼Ÿæœ€ä¸å–œæ¬¢ä»€ä¹ˆï¼Ÿ</h3></li></ol><p>å–œæ¬¢çš„æ˜¯è‡ªå·±å’Œå¤§å®¶ä¸€èµ·åŠªåŠ›å·¥ä½œä¹‹åï¼Œå‡ºç°çš„é—®é¢˜è¢«è§£å†³ï¼Œå·¥ç¨‹ä¸€æ—¥æ—¥é€æ¸è¢«å®Œæˆï¼Œæœ€ç»ˆè¢«äº¤ä»˜çš„é‚£ç§å–œæ‚¦ã€‚</p><p>ä¸å–œæ¬¢å·¥ä½œä¸­çš„ä¸äººæ‰“äº¤é“ï¼Œåœ¨å·¥ä½œä¸­ä¼šäº§ç”Ÿå†…è€—ï¼Œéœ€è¦å¤„ç†å¥½å¤æ‚çš„äººé™…å…³ç³»ã€‚è¿˜æœ‰å°±æ˜¯å·¥ä½œå¸¸å¹´åœ¨å¤–ï¼Œå…¨å›½å„åœ°åœ°è·‘ï¼Œå’Œå®¶äººæ˜¯èšå°‘ç¦»å¤šã€‚ä¸è¿‡å·¥ä½œè¿™ä¹ˆäº›å¹´ï¼Œä¹Ÿä¹ æƒ¯äº†ï¼Œæœ‰ç©ºé—´å°±ä¼šå›å®¶çœ‹çœ‹å®¶äººï¼Œè¿™ä¸¤å¹´å› ä¸ºç–«æƒ…çš„åŸå› ï¼Œå›å»çš„æ›´å°‘äº†ã€‚åœ¨å•ä½ï¼Œå°±æ˜¯æƒ³ç€æ€ä¹ˆæŠŠå·¥ä½œå¹²å¥½ã€‚ä¿è´¨ä¿é‡å®Œæˆå»ºè®¾ä»»åŠ¡ã€‚</p><ol start="3"><li><h3 id="æ‚¨çš„èŒä½æ˜¯ä»€ä¹ˆï¼Ÿä½ çš„ä¸»è¦èŒè´£æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#æ‚¨çš„èŒä½æ˜¯ä»€ä¹ˆï¼Ÿä½ çš„ä¸»è¦èŒè´£æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="æ‚¨çš„èŒä½æ˜¯ä»€ä¹ˆï¼Ÿä½ çš„ä¸»è¦èŒè´£æ˜¯ä»€ä¹ˆï¼Ÿ"></a>æ‚¨çš„èŒä½æ˜¯ä»€ä¹ˆï¼Ÿä½ çš„ä¸»è¦èŒè´£æ˜¯ä»€ä¹ˆï¼Ÿ</h3></li></ol><p>ç›®å‰æ˜¯é¡¹ç›®éƒ¨çš„å·¥ç¨‹å¸ˆï¼Œä¸»è¦èŒè´£å°±æ˜¯è´Ÿè´£å·¥ç¨‹ä¸Šçš„é¡¹ç›®è¿›è¡Œç›‘å·¥ä»¥åŠé¡¹ç›®éƒ¨è§„åˆ’ç­‰å†…å®¹ã€‚</p><ol start="4"><li><h3 id="å¤§å­¦æœŸé—´å¯ä»¥åšçš„å‡†å¤‡æœ‰ä»€ä¹ˆï¼Ÿ"><a href="#å¤§å­¦æœŸé—´å¯ä»¥åšçš„å‡†å¤‡æœ‰ä»€ä¹ˆï¼Ÿ" class="headerlink" title="å¤§å­¦æœŸé—´å¯ä»¥åšçš„å‡†å¤‡æœ‰ä»€ä¹ˆï¼Ÿ"></a>å¤§å­¦æœŸé—´å¯ä»¥åšçš„å‡†å¤‡æœ‰ä»€ä¹ˆï¼Ÿ</h3></li></ol><p>å­¦å¥½è‡ªå·±çš„ä¸“ä¸šçŸ¥è¯†ï¼Œå°½é‡æ‹“å±•çŸ¥è¯†é¢ã€‚è¿™ä¸ªå²—ä½å¯¹ä¸“ä¸šçš„å¯¹å£æ€§ä¸€èˆ¬è¦æ±‚ä¸é«˜ï¼Œä½†æ˜¯ä¸è®ºæ˜¯ç»æµç±»ã€ç®¡ç†ç±»è¿˜æ˜¯å·¥ç¨‹ç±»çš„ä¸“ä¸šï¼Œè¿˜æ˜¯éœ€è¦è®¤çœŸå­¦ä¹ çš„ï¼Œå®ƒè™½ç„¶è¦æ±‚çš„é¢å¹¿ï¼Œä½†ä½ æ€»å¾—æœ‰ä¸€æ–¹é¢æ˜¯è¦æœ‰æ ¸å¿ƒç«äº‰åŠ›çš„ã€‚å°½é‡å¤šå­¦ä¹ å…¶ä»–çŸ¥è¯†ï¼Œåšåˆ°â€œè§å¤šè¯†å¹¿â€ï¼Œå› ä¸ºè¿™ä¸ªå²—ä½ä¼šé‡åˆ°å¾ˆå¤šäººï¼Œå¾ˆå¤šä¸åŒç§ç±»çš„é¡¹ç›®ï¼Œè¿™æ ·å·¥ä½œèµ·æ¥æ€ç»´ä¼šæ¯”è¾ƒå¿«ï¼Œæ²Ÿé€šä¹Ÿä¼šå˜å¾—å®¹æ˜“äº›ã€‚</p><p>æœ‰ä¾§é‡çš„é”»ç‚¼è‡ªå·±çš„æ²Ÿé€šã€å†™ä½œã€è¡¨è¾¾èƒ½åŠ›ã€‚å¤šå‚åŠ ç¤¾å›¢æ´»åŠ¨ï¼Œå’Œä¸€äº›æœ‰æ„ä¹‰çš„æ¯”èµ›ï¼Œå†ç»ƒè‡ªå·±ã€‚</p><ol start="5"><li><h3 id="åœ¨è¡Œä¸šå†…ï¼Œå…ˆä»ä»€ä¹ˆæ ·çš„å·¥ä½œå²—ä½åšèµ·ï¼Œèƒ½å­¦åˆ°æœ€å¤šçš„çŸ¥è¯†ï¼Œæœ€æœ‰ç›Šäºå‘å±•ï¼Ÿ"><a href="#åœ¨è¡Œä¸šå†…ï¼Œå…ˆä»ä»€ä¹ˆæ ·çš„å·¥ä½œå²—ä½åšèµ·ï¼Œèƒ½å­¦åˆ°æœ€å¤šçš„çŸ¥è¯†ï¼Œæœ€æœ‰ç›Šäºå‘å±•ï¼Ÿ" class="headerlink" title="åœ¨è¡Œä¸šå†…ï¼Œå…ˆä»ä»€ä¹ˆæ ·çš„å·¥ä½œå²—ä½åšèµ·ï¼Œèƒ½å­¦åˆ°æœ€å¤šçš„çŸ¥è¯†ï¼Œæœ€æœ‰ç›Šäºå‘å±•ï¼Ÿ"></a>åœ¨è¡Œä¸šå†…ï¼Œå…ˆä»ä»€ä¹ˆæ ·çš„å·¥ä½œå²—ä½åšèµ·ï¼Œèƒ½å­¦åˆ°æœ€å¤šçš„çŸ¥è¯†ï¼Œæœ€æœ‰ç›Šäºå‘å±•ï¼Ÿ</h3></li></ol><p>å…ˆåº”è˜èµ„æ–™å‘˜æˆ–è´¨æ£€å‘˜ã€æ–½å·¥å‘˜,èƒ½åˆ©ç”¨åœ¨æ ¡å­¦åˆ°çš„çŸ¥è¯†,å·¥ä½œèµ·æ¥é¡ºæ‰‹,å·¥ä½œåé€šè¿‡è‡ªå­¦å°½å¿«æŒæ¡å„ç§å·¥ç¨‹è½¯ä»¶çš„åº”ç”¨,æŒæ¡åæ ¹æ®è‡ªå·±çš„çˆ±å¥½,å¯è½¬è¡Œé¢„ç®—å‘˜ã€æŠ€æœ¯å‘˜ã€æµ‹é‡å‘˜ç­‰.</p><ol start="6"><li><h3 id="å·¥ä½œåœ°ç‚¹åœ¨å“ªé‡Œï¼Ÿä¸»è¦å·¥ä½œåœºæ‰€æ˜¯ä»€ä¹ˆï¼Ÿæœ‰å“ªäº›ç‰¹å¾ï¼Ÿ"><a href="#å·¥ä½œåœ°ç‚¹åœ¨å“ªé‡Œï¼Ÿä¸»è¦å·¥ä½œåœºæ‰€æ˜¯ä»€ä¹ˆï¼Ÿæœ‰å“ªäº›ç‰¹å¾ï¼Ÿ" class="headerlink" title="å·¥ä½œåœ°ç‚¹åœ¨å“ªé‡Œï¼Ÿä¸»è¦å·¥ä½œåœºæ‰€æ˜¯ä»€ä¹ˆï¼Ÿæœ‰å“ªäº›ç‰¹å¾ï¼Ÿ"></a>å·¥ä½œåœ°ç‚¹åœ¨å“ªé‡Œï¼Ÿä¸»è¦å·¥ä½œåœºæ‰€æ˜¯ä»€ä¹ˆï¼Ÿæœ‰å“ªäº›ç‰¹å¾ï¼Ÿ</h3></li></ol><p>å·¥ä½œåœ°ç‚¹æœ‰å·¥åœ°ï¼Œé¡¹ç›®éƒ¨ã€‚ä¸»è¦åœºæ‰€æ˜¯é¡¹ç›®éƒ¨ã€‚å¿™çš„æ—¶å€™æ¥å›å¥”æ³¢ï¼Œä¹Ÿä¼šåŠ ç­èµ¶å·¥æœŸã€‚</p><ol start="7"><li><h3 id="æ‚¨åœ¨åšè¿™ä»½å·¥ä½œæ—¶ï¼Œæ—¥å¸¸é¢ä¸´çš„é—®é¢˜æ˜¯ä»€ä¹ˆï¼Œä»€ä¹ˆæœ€æœ‰æŒ‘æˆ˜æ€§ï¼Ÿ"><a href="#æ‚¨åœ¨åšè¿™ä»½å·¥ä½œæ—¶ï¼Œæ—¥å¸¸é¢ä¸´çš„é—®é¢˜æ˜¯ä»€ä¹ˆï¼Œä»€ä¹ˆæœ€æœ‰æŒ‘æˆ˜æ€§ï¼Ÿ" class="headerlink" title="æ‚¨åœ¨åšè¿™ä»½å·¥ä½œæ—¶ï¼Œæ—¥å¸¸é¢ä¸´çš„é—®é¢˜æ˜¯ä»€ä¹ˆï¼Œä»€ä¹ˆæœ€æœ‰æŒ‘æˆ˜æ€§ï¼Ÿ"></a>æ‚¨åœ¨åšè¿™ä»½å·¥ä½œæ—¶ï¼Œæ—¥å¸¸é¢ä¸´çš„é—®é¢˜æ˜¯ä»€ä¹ˆï¼Œä»€ä¹ˆæœ€æœ‰æŒ‘æˆ˜æ€§ï¼Ÿ</h3></li></ol><p>è¿™ä¸ªå¾ˆå¤šï¼Œæ¯”å¦‚åˆšå¼€å§‹å·¥ä½œçš„æ—¶å€™ï¼Œè¦æ…¢æ…¢é€‚åº”å·¥å‚çš„ç¯å¢ƒ;è¿˜è¦å’ŒåŒäº‹æ‰“å¥½å…³ç³»ç­‰ç­‰ã€‚ç‰¹åˆ«æ˜¯å‚é‡Œçš„ä¸€äº›è€å¸ˆå‚…åœ¨æˆ‘ä»¬æ­£å¼ä¸Šå²—å‰ç»è¡ŒåŸ¹è®­çš„æ—¶å€™ï¼Œè€å¸ˆå‚…ä¼ æˆäº†ä¸€äº›æˆ‘ä»¬åœ¨å­¦æ ¡é‡Œæ²¡è§è¿‡çš„åŠ å·¥æ–¹æ³•ï¼Œæˆ‘ä»¬åªèƒ½ä»å¤´å­¦èµ·ã€‚æˆ‘æƒ³è¯´çš„æ˜¯å­¦æ ¡é‡Œçš„æ•™æä¹‹ç±»çš„ä¸èƒ½å¤ªè¿‡ç›¸ä¿¡ï¼Œæœ‰äº›è€æ—§çš„æ•™æçš„å†…å®¹å·²ç»é€æ¸è¢«æ·˜æ±°ï¼Œå› æ­¤è¦ä¸æ–­åœ°å­¦ä¹ ï¼Œè¦å…³æ³¨è¡Œä¸šå‘å±•åŠ¨æ€ã€‚</p><ol start="8"><li><h3 id="åœ¨æ‚¨çš„å·¥ä½œé¢†åŸŸé‡Œåˆçº§èŒä½å’Œç•¥é«˜çº§åˆ«èŒä½çš„è–ªæ°´ä¸€èˆ¬æ˜¯ä»€ä¹ˆæ°´å¹³ï¼Ÿ"><a href="#åœ¨æ‚¨çš„å·¥ä½œé¢†åŸŸé‡Œåˆçº§èŒä½å’Œç•¥é«˜çº§åˆ«èŒä½çš„è–ªæ°´ä¸€èˆ¬æ˜¯ä»€ä¹ˆæ°´å¹³ï¼Ÿ" class="headerlink" title="åœ¨æ‚¨çš„å·¥ä½œé¢†åŸŸé‡Œåˆçº§èŒä½å’Œç•¥é«˜çº§åˆ«èŒä½çš„è–ªæ°´ä¸€èˆ¬æ˜¯ä»€ä¹ˆæ°´å¹³ï¼Ÿ"></a>åœ¨æ‚¨çš„å·¥ä½œé¢†åŸŸé‡Œåˆçº§èŒä½å’Œç•¥é«˜çº§åˆ«èŒä½çš„è–ªæ°´ä¸€èˆ¬æ˜¯ä»€ä¹ˆæ°´å¹³ï¼Ÿ</h3></li></ol><p>æ”¶å…¥è¿˜å¯ä»¥ï¼ŒåŒ…æ‹¬åŸºæœ¬å·¥èµ„+å¹´åº•å¥–é‡‘ã€‚ä¸»è¦è¿˜æ˜¯æ ¹æ®å·¥ç¨‹éš¾åº¦ï¼Œå·¥æœŸé•¿çŸ­ï¼Œä»¥åŠå·¥ä½œåœ°ç‚¹ç­‰å› ç´ å½±å“ã€‚åˆçº§å¹³å‡å¯ä»¥æ‹¿åˆ°8000å·¦å³ï¼Œå¹´åº•5~20ä¸‡ä¸ç­‰ã€‚</p><ol start="9"><li><h3 id="åœ¨è¿™ä¸ªèŒä½ä¸Šï¼Œå¦‚æœæƒ³è·å¾—æˆåŠŸå¿…é¡»æ‹¥æœ‰å¹¶ä¿æŒä»€ä¹ˆæ ·çš„èƒ½åŠ›ï¼Ÿ"><a href="#åœ¨è¿™ä¸ªèŒä½ä¸Šï¼Œå¦‚æœæƒ³è·å¾—æˆåŠŸå¿…é¡»æ‹¥æœ‰å¹¶ä¿æŒä»€ä¹ˆæ ·çš„èƒ½åŠ›ï¼Ÿ" class="headerlink" title="åœ¨è¿™ä¸ªèŒä½ä¸Šï¼Œå¦‚æœæƒ³è·å¾—æˆåŠŸå¿…é¡»æ‹¥æœ‰å¹¶ä¿æŒä»€ä¹ˆæ ·çš„èƒ½åŠ›ï¼Ÿ"></a>åœ¨è¿™ä¸ªèŒä½ä¸Šï¼Œå¦‚æœæƒ³è·å¾—æˆåŠŸå¿…é¡»æ‹¥æœ‰å¹¶ä¿æŒä»€ä¹ˆæ ·çš„èƒ½åŠ›ï¼Ÿ</h3></li></ol><p>éœ€è¦æœ‰åšå®çš„åŸºç¡€å­¦ç§‘çŸ¥è¯†ï¼Œæ›´éœ€è¦æœ‰ä¸æ–­å­¦ä¹ çš„èƒ½åŠ›ï¼Œå»æŒ‘æˆ˜çš„æ–°çš„å»ºè®¾éœ€æ±‚ã€‚å…¶æ¬¡çš„è¯å°±æ˜¯æœ‰ä¸€å®šçš„ä¸äººäº¤å¾€çš„èƒ½åŠ›ã€‚</p><ol start="10"><li><h3 id="ç›®å‰è¿˜ç¼ºä¹çš„å¿…é¡»æ”¹è¿›çš„èƒ½åŠ›æœ‰å“ªäº›ï¼Ÿ"><a href="#ç›®å‰è¿˜ç¼ºä¹çš„å¿…é¡»æ”¹è¿›çš„èƒ½åŠ›æœ‰å“ªäº›ï¼Ÿ" class="headerlink" title="ç›®å‰è¿˜ç¼ºä¹çš„å¿…é¡»æ”¹è¿›çš„èƒ½åŠ›æœ‰å“ªäº›ï¼Ÿ"></a>ç›®å‰è¿˜ç¼ºä¹çš„å¿…é¡»æ”¹è¿›çš„èƒ½åŠ›æœ‰å“ªäº›ï¼Ÿ</h3></li></ol><p>éœ€è¦çš„æŠ€èƒ½ï¼šCADåŠå„ç§è®¡ç®—è½¯ä»¶ï¼Œæ¯”å¦‚PKPMã€YJKã€3D3Sã€MIDASç­‰ï¼ˆè‡³å°‘å­¦ä¼šä¸€åˆ°ä¸¤ç§ï¼Œå„è½¯ä»¶æœ‰ç›¸é€šä¹‹å¤„ï¼‰ã€‚</p><ol start="11"><li><h3 id="æ‚¨è®¤ä¸ºä»€ä¹ˆæ ·çš„ä¸ªäººå“è´¨ã€æ€§æ ¼å’Œèƒ½åŠ›å¯¹åšå¥½è¿™ä»½å·¥ä½œæ¥è®²æ˜¯é‡è¦çš„ï¼Ÿ"><a href="#æ‚¨è®¤ä¸ºä»€ä¹ˆæ ·çš„ä¸ªäººå“è´¨ã€æ€§æ ¼å’Œèƒ½åŠ›å¯¹åšå¥½è¿™ä»½å·¥ä½œæ¥è®²æ˜¯é‡è¦çš„ï¼Ÿ" class="headerlink" title="æ‚¨è®¤ä¸ºä»€ä¹ˆæ ·çš„ä¸ªäººå“è´¨ã€æ€§æ ¼å’Œèƒ½åŠ›å¯¹åšå¥½è¿™ä»½å·¥ä½œæ¥è®²æ˜¯é‡è¦çš„ï¼Ÿ"></a>æ‚¨è®¤ä¸ºä»€ä¹ˆæ ·çš„ä¸ªäººå“è´¨ã€æ€§æ ¼å’Œèƒ½åŠ›å¯¹åšå¥½è¿™ä»½å·¥ä½œæ¥è®²æ˜¯é‡è¦çš„ï¼Ÿ</h3></li></ol><p>èƒ½åšæŒä¸‹å»ï¼Œæœ‰åˆ›æ–°æ€æƒ³ï¼Œå¸¸ä¸äººæ²Ÿé€šäº¤æµï¼Œé€šè¿‡å·¥ä½œä¸æ–­ç§¯ç´¯è‡ªå·±çš„ç»éªŒã€‚</p><ol start="12"><li><h3 id="æ‚¨è®¤ä¸ºåšå¥½è¿™ä»½å·¥ä½œåº”è¯¥å…·å¤‡å“ªäº›çŸ¥è¯†ã€æŠ€èƒ½å’Œç»éªŒï¼Ÿ"><a href="#æ‚¨è®¤ä¸ºåšå¥½è¿™ä»½å·¥ä½œåº”è¯¥å…·å¤‡å“ªäº›çŸ¥è¯†ã€æŠ€èƒ½å’Œç»éªŒï¼Ÿ" class="headerlink" title="æ‚¨è®¤ä¸ºåšå¥½è¿™ä»½å·¥ä½œåº”è¯¥å…·å¤‡å“ªäº›çŸ¥è¯†ã€æŠ€èƒ½å’Œç»éªŒï¼Ÿ"></a>æ‚¨è®¤ä¸ºåšå¥½è¿™ä»½å·¥ä½œåº”è¯¥å…·å¤‡å“ªäº›çŸ¥è¯†ã€æŠ€èƒ½å’Œç»éªŒï¼Ÿ</h3></li></ol><p>è¦æŒæ¡ä¸€äº›åŸºæœ¬çš„ä¸“ä¸šçŸ¥è¯†ï¼Œæ¯”å¦‚åˆ¶å›¾ï¼ˆåŒ…æ‹¬CAD)ï¼Œé‡‘å±åŠ å·¥çš„æŠ€è‰ºï¼Œè¿˜æœ‰å°±æ˜¯ä¸€äº›è¡Œä¸šè§„å®šï¼Œè¡Œä¸šè¯­è¨€ç­‰ï¼Œä¹‹åå½“ç„¶è¦è€ƒå–è¿™ç§è¯ä¹¦æ¥è¡¨æ˜å·²ç»æŒæ¡äº†è¿™äº›å†…å®¹ã€‚å½“ç„¶ï¼Œç»éªŒä¹Ÿæ˜¯å¾ˆé‡è¦çš„ï¼Œç‰¹åˆ«æ˜¯å‡ºç°ä¸€äº›è¯¾æœ¬ä¸Šæˆ–å¹³æ—¶æ²¡å‡ºç°è¿‡çš„æƒ…å†µæ—¶ï¼Œç»éªŒæ˜¾å¾—å°¤ä¸ºé‡è¦ã€‚</p><ol start="13"><li><h3 id="ç›®å‰ï¼Œè¡Œä¸šå†…è¦æ±‚ä»äº‹è¿™ä»½å·¥ä½œçš„äººåº”è¯¥æœ‰ä»€ä¹ˆå‡†å¤‡ï¼Ÿ"><a href="#ç›®å‰ï¼Œè¡Œä¸šå†…è¦æ±‚ä»äº‹è¿™ä»½å·¥ä½œçš„äººåº”è¯¥æœ‰ä»€ä¹ˆå‡†å¤‡ï¼Ÿ" class="headerlink" title="ç›®å‰ï¼Œè¡Œä¸šå†…è¦æ±‚ä»äº‹è¿™ä»½å·¥ä½œçš„äººåº”è¯¥æœ‰ä»€ä¹ˆå‡†å¤‡ï¼Ÿ"></a>ç›®å‰ï¼Œè¡Œä¸šå†…è¦æ±‚ä»äº‹è¿™ä»½å·¥ä½œçš„äººåº”è¯¥æœ‰ä»€ä¹ˆå‡†å¤‡ï¼Ÿ</h3></li></ol><p>é¦–å…ˆæ¢³ç†è‡ªå·±å·²æœ‰çš„ä¸“ä¸šçŸ¥è¯†èƒ½åŠ›ï¼Œå®¢è§‚åœ°è¯„ä»·è‡ªå·±çš„ä¼˜åŠ¿å’ŒåŠ£åŠ¿ï¼Œå°½å¯èƒ½åšåˆ°æ‰¬é•¿è¡¥çŸ­ã€‚å…¶æ¬¡æœ‰ç›®çš„åœ°æå‰é”å®šä¸€äº›ç›®æ ‡å®ä¹ å•ä½ï¼Œæœ‰é’ˆå¯¹æ€§åœ°è¿›è¡Œä¸€äº›å…³æ³¨å’Œè°ƒç ”ï¼Œåšåˆ°æœ‰çš„æ”¾çŸ¢ã€‚æœ€åå¯ä»¥é˜…è¯»ä¸€äº›äººé™…äº¤å¾€æˆ–ç¤¾äº¤ç¤¼ä»ªçš„çŸ¥è¯†ï¼ŒåŠ›æ±‚åœ¨ç»†èŠ‚æ–¹é¢ä¹Ÿåšåˆ°ä½ï¼Œä¹Ÿå¯ä»¥å‘å¾€å±Šå¸ˆå…„å¸ˆå§è®¨æ•™å®ä¹ çš„ä¸€äº›é²œæ´»çš„ç»éªŒï¼Œä»¥åˆ©äºè¾ƒå¿«åœ°é€‚åº”è§’è‰²å’Œå¿ƒæ€çš„è½¬å˜ã€‚</p><ol start="14"><li><h3 id="å­¦æ ¡ä¸­çš„å“ªäº›è¯¾ç¨‹å¯¹è¿™ä¸ªè¡Œä¸šæ¯”è¾ƒæœ‰å¸®åŠ©ï¼Ÿ"><a href="#å­¦æ ¡ä¸­çš„å“ªäº›è¯¾ç¨‹å¯¹è¿™ä¸ªè¡Œä¸šæ¯”è¾ƒæœ‰å¸®åŠ©ï¼Ÿ" class="headerlink" title="å­¦æ ¡ä¸­çš„å“ªäº›è¯¾ç¨‹å¯¹è¿™ä¸ªè¡Œä¸šæ¯”è¾ƒæœ‰å¸®åŠ©ï¼Ÿ"></a>å­¦æ ¡ä¸­çš„å“ªäº›è¯¾ç¨‹å¯¹è¿™ä¸ªè¡Œä¸šæ¯”è¾ƒæœ‰å¸®åŠ©ï¼Ÿ</h3></li></ol><p>æ€»çš„æ¥è¯´æ˜¯æœ‰å¸®åŠ©çš„ï¼Œä½†æ˜¯å¤§å®¶éƒ½çŸ¥é“ï¼Œä¹¦ä¸Šçš„çŸ¥è¯†æ°¸è¿œèµ¶ä¸ä¸ŠæŠ€æœ¯çš„å‘å±•ï¼Œæ‰€æœ‰å¦‚æœä½ å‘åœ¨è¿™ä¸ªè¡Œä¸šæœ‰å¥½çš„å‘å±•çš„è¯ï¼Œå°±ä¸èƒ½å±€é™äºä¹¦æœ¬ä¸Šçš„ä¸œè¥¿ï¼Œè¦å¤šåŠ¨æ‰‹ï¼Œè¿™æ ·èƒ½å­¦åˆ°çš„ä¸œè¥¿æ¯”ä½ è¯¾ç¨‹ä¸Šæ‰€èƒ½å­¦åˆ°çš„å¤šå¾ˆå¤šã€‚</p><ol start="15"><li><h3 id="è¡Œä¸šå†…ï¼Œå•ä½å¯¹åˆšè¿›å…¥è¯¥é¢†åŸŸå·¥ä½œçš„å‘˜å·¥ä¸€èˆ¬ä¼šæä¾›å“ªäº›åŸ¹è®­ï¼Ÿ"><a href="#è¡Œä¸šå†…ï¼Œå•ä½å¯¹åˆšè¿›å…¥è¯¥é¢†åŸŸå·¥ä½œçš„å‘˜å·¥ä¸€èˆ¬ä¼šæä¾›å“ªäº›åŸ¹è®­ï¼Ÿ" class="headerlink" title="è¡Œä¸šå†…ï¼Œå•ä½å¯¹åˆšè¿›å…¥è¯¥é¢†åŸŸå·¥ä½œçš„å‘˜å·¥ä¸€èˆ¬ä¼šæä¾›å“ªäº›åŸ¹è®­ï¼Ÿ"></a>è¡Œä¸šå†…ï¼Œå•ä½å¯¹åˆšè¿›å…¥è¯¥é¢†åŸŸå·¥ä½œçš„å‘˜å·¥ä¸€èˆ¬ä¼šæä¾›å“ªäº›åŸ¹è®­ï¼Ÿ</h3></li></ol><p>æ¯ä¸€ä¸ªæ–°è¿›å…¥çš„å‘˜å·¥éƒ½ä¼šè¿›è¡Œä¸€ç³»åˆ—ç›¸å…³çš„åŸ¹è®­ï¼Œå†…å®¹ä¸»è¦æ˜¯å¯¹æ–°æ¥å‘˜å·¥åŸ¹è®­ç›¸å…³æŠ€èƒ½ï¼Œè®©å‘˜å·¥èƒ½å¤Ÿæ›´å¥½çš„å°†å­¦æ ¡ä¸­æ‰€å­¦åˆ°çš„çŸ¥è¯†æ›´å¥½çš„è½¬åŒ–ä¸ºæƒ³ç”¨çš„æŠ€èƒ½ã€‚é™¤äº†éƒ¨é—¨è‡ªå·±ç»„ç»‡çš„å­¦ä¹ ä»¥å¤–ï¼Œå…¬å¸æ¯å¹´éƒ½ä¼šç»„ç»‡ä¸€äº›åŸ¹è®­ï¼Œè®©å¤§å®¶æ›´å¥½çš„äº†è§£å½“å‰è¡Œä¸šçš„æ–°æŠ€æœ¯ï¼Œæ–°åŠ¨æ€ã€‚æ­£å¼è¿›å…¥å·¥ä½œå²—ä½åï¼Œè¦æ±‚æ¯ä¸ªäººéƒ½æœ‰ä¸€å®šçš„æŠ€èƒ½ï¼Œèƒ½å¤Ÿç‹¬ç«‹é¢å¯¹ä¸€äº›é—®é¢˜ï¼Œåœ¨æŠ€æœ¯æ–¹é¢è¦æ±‚ä¼šæ¯”è¾ƒå¤šã€‚åœ¨æ·±é€ æ–¹é¢ï¼Œå…¬å¸æ˜¯æ¯”è¾ƒæ”¯æŒå¤§å®¶è¿›è¡Œæ›´åŠ é«˜å±‚çš„å­¦ä¹ ã€‚</p><ol start="16"><li><h3 id="è¿™ä¸ªè¡Œä¸šå­˜åœ¨çš„å›°éš¾åŠå‰æ™¯å¦‚ä½•ï¼Ÿ"><a href="#è¿™ä¸ªè¡Œä¸šå­˜åœ¨çš„å›°éš¾åŠå‰æ™¯å¦‚ä½•ï¼Ÿ" class="headerlink" title="è¿™ä¸ªè¡Œä¸šå­˜åœ¨çš„å›°éš¾åŠå‰æ™¯å¦‚ä½•ï¼Ÿ"></a>è¿™ä¸ªè¡Œä¸šå­˜åœ¨çš„å›°éš¾åŠå‰æ™¯å¦‚ä½•ï¼Ÿ</h3></li></ol><p>ç›®å‰è¿™ä¸€è¡Œä¸šå·¥ä½œè¾ƒä¸ºè¾›è‹¦ï¼Œæœ‰å¾ˆå¤šäººéš¾ä»¥åšæŒä¸‹æ¥ï¼Œç°æœ‰çš„äººå‘˜æ„æˆå¹¶ä¸æ˜¯éå¸¸åˆç†ï¼Œå°½ç®¡åšè¿™ä¸ªæ–¹é¢çš„äººç›¸å½“å¤šï¼Œä½†æ˜¯å¾ˆç¼ºå°‘èƒ½å¤Ÿç‹¬å½“ä¸€é¢çš„ä¼˜ç§€äººæ‰ï¼Œæ€»çš„æ¥è¯´å°±æ˜¯ï¼Œé«˜å±‚ç„¶æ‰æ¯”è¾ƒæ¬ ç¼ºï¼Œä½å±‚äººå‘˜æ³›æ»¥ã€‚æ‰€ä»¥ï¼Œå¯¹äºæ¯ä¸€ä¸ªæƒ³è¦åœ¨æ­¤è¡Œä¸šæœ‰æ‰€å‘å±•çš„äººæ¥è¯´ï¼Œæœºé‡å’ŒæŒ‘æˆ˜æ˜¯åŒæ—¶å¹¶å­˜çš„ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æ‚è®° </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>å®‰è£…PEMæ–‡ä»¶</title>
      <link href="/%E6%9D%82%E8%AE%B0/%E5%AE%89%E8%A3%85PEM%E6%96%87%E4%BB%B6/"/>
      <url>/%E6%9D%82%E8%AE%B0/%E5%AE%89%E8%A3%85PEM%E6%96%87%E4%BB%B6/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æ¦‚è¿°ï¼š windowså’ŒLinuxå®‰è£…PEMæ–‡ä»¶æ­¥éª¤</p></blockquote><p>[toc]</p><h1 id="å¦‚ä½•å®‰è£…PEMè¯ä¹¦"><a href="#å¦‚ä½•å®‰è£…PEMè¯ä¹¦" class="headerlink" title="å¦‚ä½•å®‰è£…PEMè¯ä¹¦"></a>å¦‚ä½•å®‰è£…PEMè¯ä¹¦</h1><p>æ›´æ–°ï¼š2023-05-29 21:11</p><p>PEMè¯ä¹¦æ˜¯ä¸€ç§å¸¸è§çš„è¯ä¹¦æ–‡ä»¶æ ¼å¼ï¼Œé€šå¸¸ç”¨äºåŠ å¯†ã€éªŒè¯å’Œèº«ä»½è®¤è¯ç­‰ã€‚åœ¨è¿è¡Œåº”ç”¨ç¨‹åºæˆ–æœåŠ¡æ—¶ï¼Œæœ‰æ—¶éœ€è¦å°†PEMè¯ä¹¦å®‰è£…åˆ°ç³»ç»Ÿæˆ–è®¾å¤‡ä¸­ï¼Œå¹¶ç¡®ä¿å…¶æ­£ç¡®é…ç½®ã€‚æœ¬æ–‡å°†ä»‹ç»å¦‚ä½•å®‰è£…PEMè¯ä¹¦ã€‚</p><h2 id="1-ä¸‹è½½PEMè¯ä¹¦æ–‡ä»¶"><a href="#1-ä¸‹è½½PEMè¯ä¹¦æ–‡ä»¶" class="headerlink" title="1. ä¸‹è½½PEMè¯ä¹¦æ–‡ä»¶"></a>1. ä¸‹è½½PEMè¯ä¹¦æ–‡ä»¶</h2><p>é¦–å…ˆï¼Œæ‚¨éœ€è¦æœ‰PEMè¯ä¹¦æ–‡ä»¶ã€‚å®ƒå¯ä»¥æ˜¯è‡ªç­¾åè¯ä¹¦ã€å®¢æˆ·ç«¯æˆ–æœåŠ¡å™¨è¯ä¹¦ã€æ ¹è¯ä¹¦æˆ–ä¸­é—´è¯ä¹¦ã€‚æ‚¨å¯ä»¥ä»è®¸å¤šæ¥æºè·å–PEMè¯ä¹¦æ–‡ä»¶ï¼Œä¾‹å¦‚ï¼š</p><ul><li>è¯ä¹¦é¢å‘æœºæ„ (CA)</li><li>å‚å•†æä¾›çš„PEMè¯ä¹¦</li><li>è‡ªå·±åˆ›å»ºçš„PEMè¯ä¹¦æ–‡ä»¶</li></ul><p>ç¡®ä¿æ‚¨å·²ç»è·å¾—PEMè¯ä¹¦æ–‡ä»¶å¹¶å°†å…¶ä¸‹è½½åˆ°è®¡ç®—æœºçš„æœ¬åœ°æ–‡ä»¶å¤¹ä¸­ã€‚</p><h2 id="2-å®‰è£…PEMè¯ä¹¦æ–‡ä»¶"><a href="#2-å®‰è£…PEMè¯ä¹¦æ–‡ä»¶" class="headerlink" title="2. å®‰è£…PEMè¯ä¹¦æ–‡ä»¶"></a>2. å®‰è£…PEMè¯ä¹¦æ–‡ä»¶</h2><h3 id="2-1-åœ¨Linuxç³»ç»Ÿä¸Šå®‰è£…PEMè¯ä¹¦"><a href="#2-1-åœ¨Linuxç³»ç»Ÿä¸Šå®‰è£…PEMè¯ä¹¦" class="headerlink" title="2.1 åœ¨Linuxç³»ç»Ÿä¸Šå®‰è£…PEMè¯ä¹¦"></a>2.1 åœ¨Linuxç³»ç»Ÿä¸Šå®‰è£…PEMè¯ä¹¦</h3><p>å¦‚æœæ‚¨æƒ³åœ¨Linuxç³»ç»Ÿä¸Šå®‰è£…PEMè¯ä¹¦ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ­¥éª¤ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo cp server.crt /usr/local/share/ca-certificates/</span><br><span class="line">sudo update-ca-certificates</span><br></pre></td></tr></table></figure><p>åœ¨ä¸Šè¿°å‘½ä»¤ä¸­ï¼Œâ€œserver.crtâ€æ˜¯æ‚¨çš„PEMè¯ä¹¦æ–‡ä»¶åã€‚é€šè¿‡å°†PEMè¯ä¹¦æ–‡ä»¶å¤åˆ¶åˆ°â€œ&#x2F;usr&#x2F;local&#x2F;share&#x2F;ca-certificates&#x2F;â€ç›®å½•ï¼Œæ‚¨å¯ä»¥å°†PEMè¯ä¹¦æ·»åŠ åˆ°ç³»ç»Ÿçš„å¯ä¿¡è¯ä¹¦åˆ—è¡¨ä¸­ã€‚æ¥ä¸‹æ¥ï¼Œè¿è¡Œâ€œsudo update-ca-certificatesâ€å‘½ä»¤ä»¥æ›´æ–°è¯ä¹¦åˆ—è¡¨å¹¶ä½¿å…¶ç”Ÿæ•ˆã€‚</p><h3 id="2-2-åœ¨Windowsç³»ç»Ÿä¸Šå®‰è£…PEMè¯ä¹¦"><a href="#2-2-åœ¨Windowsç³»ç»Ÿä¸Šå®‰è£…PEMè¯ä¹¦" class="headerlink" title="2.2 åœ¨Windowsç³»ç»Ÿä¸Šå®‰è£…PEMè¯ä¹¦"></a>2.2 åœ¨Windowsç³»ç»Ÿä¸Šå®‰è£…PEMè¯ä¹¦</h3><ul><li>æ–¹å¼ä¸€</li></ul><p>å¦‚æœæ‚¨æƒ³åœ¨Windowsç³»ç»Ÿä¸Šå®‰è£…PEMè¯ä¹¦ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ­¥éª¤ï¼š</p><ol><li>åŒå‡»PEMè¯ä¹¦æ–‡ä»¶ï¼Œæ‰“å¼€è¯ä¹¦å‘å¯¼ã€‚</li><li>åœ¨å¼¹å‡ºçª—å£ä¸­ï¼Œé€‰æ‹©â€œå®‰è£…è¯ä¹¦â€é€‰é¡¹ï¼Œå¹¶å•å‡»â€œä¸‹ä¸€æ­¥â€ã€‚</li><li>é€‰æ‹©â€œè®¡ç®—æœºå¸æˆ·â€é€‰é¡¹ï¼Œå¹¶å•å‡»â€œä¸‹ä¸€æ­¥â€ã€‚</li><li>åœ¨â€œé€‰æ‹©å­˜å‚¨ä½ç½®â€çª—å£ä¸­ï¼Œé€‰æ‹©â€œå—ä¿¡ä»»çš„æ ¹è¯ä¹¦é¢å‘æœºæ„â€é€‰é¡¹ï¼Œå¹¶å•å‡»â€œä¸‹ä¸€æ­¥â€ã€‚</li><li>å•å‡»â€œä¸‹ä¸€æ­¥â€ä»¥ç¡®è®¤é€‰é¡¹ï¼Œå¹¶å•å‡»â€œå®Œæˆâ€ä»¥å®Œæˆè¯ä¹¦å®‰è£…ã€‚</li></ol><p>ç°åœ¨ï¼Œæ‚¨çš„PEMè¯ä¹¦å·²ç»å®‰è£…åœ¨æ‚¨çš„Windowsç³»ç»Ÿä¸­ã€‚</p><ul><li>æ–¹å¼äºŒ</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">æ‰“å¼€æ§åˆ¶é¢æ¿ -&gt; ç½‘ç»œè®¾ç½® -&gt; Interneté€‰é¡¹ -&gt; å†…å®¹ -&gt; è¯ä¹¦ -&gt; å¯¼å…¥</span><br></pre></td></tr></table></figure><p>ç„¶åé€‰æ‹©ä½ éœ€è¦å®‰è£…çš„è¯ä¹¦å¯¼å…¥å³å¯ã€‚</p><ul><li>æ–¹å¼ä¸‰<ul><li>æ‰“å¼€â€œå¼€å§‹â€èœå•ï¼Œæœç´¢â€œmmcâ€å¹¶æ‰“å¼€â€œMicrosoft Management Consoleâ€ã€‚</li><li>ç‚¹å‡»â€œæ–‡ä»¶â€èœå•ï¼Œé€‰æ‹©â€œæ·»åŠ &#x2F;åˆ é™¤ç®¡ç†å•å…ƒâ€ã€‚</li><li>åœ¨â€œå¯ç”¨çš„ç®¡ç†å•å…ƒâ€åˆ—è¡¨ä¸­ï¼Œé€‰æ‹©â€œè¯ä¹¦â€å¹¶ç‚¹å‡»â€œæ·»åŠ â€ã€‚</li><li>é€‰æ‹©â€œè®¡ç®—æœºå¸æˆ·â€å¹¶ç‚¹å‡»â€œä¸‹ä¸€æ­¥â€ã€‚</li><li>é€‰æ‹©â€œæœ¬åœ°è®¡ç®—æœºâ€å¹¶ç‚¹å‡»â€œå®Œæˆâ€ã€‚</li><li>åœ¨â€œæ§åˆ¶å°æ ¹è¯ä¹¦å­˜å‚¨â€ä¸‹ï¼Œå³é”®ç‚¹å‡»â€œå—ä¿¡ä»»çš„æ ¹è¯ä¹¦é¢å‘æœºæ„â€å¹¶é€‰æ‹©â€œæ‰€æœ‰ä»»åŠ¡â€ &gt; â€œå¯¼å…¥â€ã€‚</li><li>ç‚¹å‡»â€œä¸‹ä¸€æ­¥â€ï¼Œæµè§ˆåˆ°æ‚¨çš„Pemè¯ä¹¦æ–‡ä»¶å¹¶é€‰æ‹©å®ƒã€‚</li><li>ç‚¹å‡»â€œä¸‹ä¸€æ­¥â€ï¼Œé€‰æ‹©â€œå°†æ‰€æœ‰è¯ä¹¦éƒ½æ”¾ç½®åœ¨ä¸‹åˆ—å­˜å‚¨ä¸­â€å¹¶ç‚¹å‡»â€œæµè§ˆâ€ã€‚</li><li>é€‰æ‹©â€œå—ä¿¡ä»»çš„æ ¹è¯ä¹¦é¢å‘æœºæ„â€å¹¶ç‚¹å‡»â€œç¡®å®šâ€ã€‚</li><li>ç‚¹å‡»â€œä¸‹ä¸€æ­¥â€å¹¶å®Œæˆè¯ä¹¦å®‰è£…ã€‚</li></ul></li></ul><h2 id="3-ä½¿ç”¨PEMè¯ä¹¦æ–‡ä»¶"><a href="#3-ä½¿ç”¨PEMè¯ä¹¦æ–‡ä»¶" class="headerlink" title="3. ä½¿ç”¨PEMè¯ä¹¦æ–‡ä»¶"></a>3. ä½¿ç”¨PEMè¯ä¹¦æ–‡ä»¶</h2><p>ä¸€æ—¦æ‚¨å·²ç»å®‰è£…äº†PEMè¯ä¹¦ï¼Œæ‚¨å¯ä»¥å¼€å§‹ä½¿ç”¨å®ƒã€‚é€šå¸¸ï¼Œæ‚¨éœ€è¦åœ¨åº”ç”¨ç¨‹åºæˆ–æœåŠ¡çš„é…ç½®æ–‡ä»¶ä¸­æŒ‡å®šPEMè¯ä¹¦çš„è·¯å¾„æˆ–åç§°ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›ç¤ºä¾‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">ssl_certificate /path/to/your/cert.pem;</span><br><span class="line"></span><br><span class="line">// For Node.js server</span><br><span class="line">const server = https.createServer(&#123;</span><br><span class="line">  key: fs.readFileSync(&#x27;server.key&#x27;),</span><br><span class="line">  cert: fs.readFileSync(&#x27;server.cert&#x27;)</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>ä»¥Nginx WebæœåŠ¡å™¨å’ŒNode.jsæœåŠ¡å™¨ä¸ºä¾‹ï¼Œæ‚¨å¯ä»¥å°†PEMè¯ä¹¦æ–‡ä»¶è·¯å¾„æˆ–åç§°æŒ‡å®šä¸ºâ€œssl_certificateâ€æˆ–â€œcertâ€é€‰é¡¹çš„å€¼ã€‚</p><h2 id="ç»“è®º"><a href="#ç»“è®º" class="headerlink" title="ç»“è®º"></a>ç»“è®º</h2><p>åœ¨æœ¬æ–‡ä¸­ï¼Œæ‚¨å·²äº†è§£å¦‚ä½•å®‰è£…PEMè¯ä¹¦æ–‡ä»¶å¹¶åœ¨åº”ç”¨ç¨‹åºæˆ–æœåŠ¡ä¸­ä½¿ç”¨å®ƒä»¬ã€‚æ— è®ºæ‚¨è¦åœ¨å“ªä¸ªå¹³å°ä¸Šå®‰è£…PEMè¯ä¹¦ï¼Œéƒ½éœ€è¦æŒ‰ç…§ç›¸åº”çš„æ­¥éª¤æ¥æ‰§è¡Œã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æ‚è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è¯ä¹¦ </tag>
            
            <tag> PEM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è‡ªç„¶è¾©è¯æ³•</title>
      <link href="/%E6%9D%82%E8%AE%B0/%E8%87%AA%E7%84%B6%E8%BE%A9%E8%AF%81%E6%B3%95/"/>
      <url>/%E6%9D%82%E8%AE%B0/%E8%87%AA%E7%84%B6%E8%BE%A9%E8%AF%81%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<p>å‚è€ƒé“¾æ¥ï¼š<a href="http://www.doczj.com/doc/6110418199-11.html">2019è‡ªç„¶è¾©è¯æ³•è¯¾åæ€è€ƒé¢˜åŠç­”æ¡ˆ_æ–‡æ¡£ä¹‹å®¶</a></p><p>[toc]</p><h2 id="ç¬¬ä¸€ç« -è‡ªç„¶è¾©è¯æ³•ï¼ˆbyselfï¼‰"><a href="#ç¬¬ä¸€ç« -è‡ªç„¶è¾©è¯æ³•ï¼ˆbyselfï¼‰" class="headerlink" title="ç¬¬ä¸€ç«  è‡ªç„¶è¾©è¯æ³•ï¼ˆbyselfï¼‰"></a>ç¬¬ä¸€ç«  è‡ªç„¶è¾©è¯æ³•ï¼ˆbyselfï¼‰</h2><h3 id="1-å¦‚ä½•ç†è§£æœ´ç´ å”¯ç‰©ä¸»ä¹‰è‡ªç„¶è§‚ã€æœºæ¢°å”¯ç‰©ä¸»ä¹‰è‡ªç„¶è§‚å’Œè¾©è¯å”¯ç‰©ä¸»ä¹‰è‡ªç„¶è§‚çš„è¾©è¯å…³ç³»ï¼Ÿ"><a href="#1-å¦‚ä½•ç†è§£æœ´ç´ å”¯ç‰©ä¸»ä¹‰è‡ªç„¶è§‚ã€æœºæ¢°å”¯ç‰©ä¸»ä¹‰è‡ªç„¶è§‚å’Œè¾©è¯å”¯ç‰©ä¸»ä¹‰è‡ªç„¶è§‚çš„è¾©è¯å…³ç³»ï¼Ÿ" class="headerlink" title="1.å¦‚ä½•ç†è§£æœ´ç´ å”¯ç‰©ä¸»ä¹‰è‡ªç„¶è§‚ã€æœºæ¢°å”¯ç‰©ä¸»ä¹‰è‡ªç„¶è§‚å’Œè¾©è¯å”¯ç‰©ä¸»ä¹‰è‡ªç„¶è§‚çš„è¾©è¯å…³ç³»ï¼Ÿ"></a>1.å¦‚ä½•ç†è§£æœ´ç´ å”¯ç‰©ä¸»ä¹‰è‡ªç„¶è§‚ã€æœºæ¢°å”¯ç‰©ä¸»ä¹‰è‡ªç„¶è§‚å’Œè¾©è¯å”¯ç‰©ä¸»ä¹‰è‡ªç„¶è§‚çš„è¾©è¯å…³ç³»ï¼Ÿ</h3><p>ï¼ˆ1ï¼‰å¤ä»£æœ´ç´ è‡ªç„¶è§‚ä»¥ç›´è§‚æ€§ã€æ€è¾¨æ€§å’ŒçŒœæµ‹æ€§çš„æ–¹å¼ä»æ•´ä½“æŠŠæ¡è®¤è¯†è‡ªç„¶ç•Œçš„æœ¬æºå’Œå‘å±•ï¼Œä½†ç¼ºä¹ç³»ç»Ÿçš„ã€ä»¥å®éªŒä¸ºåŸºç¡€çš„ç§‘å­¦ä¾æ®ï¼Œå°¤å…¶æ˜¯å°†éç‰©è´¨æ€§çš„ä¸œè¥¿å½“åšé™äºç‰©è´¨ä¸–ç•Œçš„ç‹¬ç«‹å­˜åœ¨ï¼Œå¹¶è®¤ä¸ºç‰©è´¨ä¸–ç•Œæ˜¯å®ƒçš„æ´¾ç”Ÿç‰©ï¼Œä¸ºå”¯å¿ƒä¸»ä¹‰çš„äº§ç”Ÿæä¾›äº†å€Ÿå£ï¼Œæœ€ç»ˆå¯¼è‡´äººç±»è®¤è¯†çš„åˆ†åŒ–ã€‚</p><p>ï¼ˆ2ï¼‰æœºæ¢°å”¯ç‰©ä¸»ä¹‰è‡ªç„¶è§‚çš„æ ¸å¿ƒæ˜¯è‡ªç„¶ç•Œç»å¯¹ä¸å˜ï¼Œè™½ç„¶åœ¨å®è¯ç§‘å­¦çš„åŸºç¡€ä¸Šç»§æ‰¿å’ŒåšæŒäº†å¤ä»£æœ´ç´ å”¯ç‰©ä¸»ä¹‰çš„æ€æƒ³ï¼Œä½†æ˜¯ä¸æ‡‚å¾—ä¸€èˆ¬ä¸ä¸ªåˆ«ã€è¿åŠ¨å’Œé™æ­¢ç­‰çš„è¾©è¯å…³ç³»ï¼Œä»¥ä¸€ç§ç‰‡é¢çš„ã€å­¤ç«‹çš„å’Œé™æ­¢çš„æ–¹æ³•è§‚å¯Ÿè‡ªç„¶ç•Œï¼ŒæŒ¤ä¸åŠ¨çš„è‡ªç„¶ç•Œçš„è¾©è¯æ³•ï¼Œè‡ªç„¶ä¸èƒ½å§å”¯ç‰©ä¸»ä¹‰åšæŒåˆ°åº•ã€‚</p><p>ï¼ˆ3ï¼‰è¾©è¯å”¯ç‰©ä¸»ä¹‰è‡ªç„¶å…‹æœäº†ä»¥å¾€å“²å­¦è‡ªç„¶è§‚çš„ç¼ºé™·ï¼ŒåšæŒäº†ç‰©è´¨ä¸–ç•Œçš„å®¢è§‚å®åœ¨æ€§çš„å”¯ç‰©ä¸»ä¹‰ä¸€å…ƒè®ºåŸåˆ™ï¼Œçªå‡ºäº†ç‰©è´¨ä¸–ç•Œçš„æ•´ä½“æ€§å’ŒçŸ›ç›¾æ€§ï¼Œæç¤ºäº†ç‰©è´¨ä¸–ç•Œçš„æ™®éè”ç³»ï¼Œå¼ºè°ƒäº†äººç±»èµ·æºäºè‡ªç„¶ç•Œã€ä¾èµ–äºè‡ªç„¶å¹¶åœ¨æŠŠæ¡è‡ªç„¶ç•Œå‘å±•è§„å¾‹çš„åŸºç¡€ä¸Šèƒ½ç§»åŠ¨åœ°å’Œæ”¹é€ è‡ªç„¶ï¼Œå¼ºè°ƒäº†äººä¸è‡ªç„¶ç•Œçš„å’Œè°ç»Ÿä¸€ã€‚</p><h3 id="2-å¦‚ä½•ç†è§£ç³»ç»Ÿè‡ªç„¶è§‚ã€äººå·¥è‡ªç„¶è§‚å’Œç”Ÿæ€è‡ªç„¶è§‚çš„è¾©è¯å…³ç³»ï¼Ÿ"><a href="#2-å¦‚ä½•ç†è§£ç³»ç»Ÿè‡ªç„¶è§‚ã€äººå·¥è‡ªç„¶è§‚å’Œç”Ÿæ€è‡ªç„¶è§‚çš„è¾©è¯å…³ç³»ï¼Ÿ" class="headerlink" title="2.å¦‚ä½•ç†è§£ç³»ç»Ÿè‡ªç„¶è§‚ã€äººå·¥è‡ªç„¶è§‚å’Œç”Ÿæ€è‡ªç„¶è§‚çš„è¾©è¯å…³ç³»ï¼Ÿ"></a>2.å¦‚ä½•ç†è§£ç³»ç»Ÿè‡ªç„¶è§‚ã€äººå·¥è‡ªç„¶è§‚å’Œç”Ÿæ€è‡ªç„¶è§‚çš„è¾©è¯å…³ç³»ï¼Ÿ</h3><p>ç¬¬ä¸€ï¼Œå®ƒä»¬éƒ½å›´ç»•äººä¸è‡ªç„¶ç•Œå…³ç³»çš„ä¸»é¢˜ï¼Œä¸°å¯Œå’Œå‘å±•äº†é©¬å…‹æ€æ³¨æ„è‡ªç„¶è§‚çš„æœ¬ä½“è®ºã€è®¤è¯†è®ºå’Œæ–¹æ³•è®ºï¼›å®ƒä»¬éƒ½åšæŒäººç±»ä¸è‡ªç„¶ç•Œã€äººå·¥è‡ªç„¶ç•Œå’Œå¤©ç„¶è‡ªç„¶ç•Œã€äººä¸ç”Ÿæ€ç³»ç»Ÿçš„è¾©è¯ç»Ÿä¸€ï¼Œéƒ½ä¸ºå®ç°å¯æŒç»­å‘å±•å’Œç”Ÿæ€æ–‡æ˜å»ºè®¾å¥ å®šäº†ç†è®ºåŸºç¡€ã€‚</p><p>ç¬¬äºŒï¼Œå®ƒä»¬åœ¨ç ”ç©¶äººä¸è‡ªç„¶ç•Œå…³ç³»çš„å„æ–¹é¢å„æœ‰å…¶ä¾§é‡ç‚¹ï¼›ç³»ç»Ÿè‡ªç„¶è§‚ä¸ºæ­£ç¡®è®¤è¯†å’Œå¤„ç†äººä¸è‡ªç„¶åœ°å…³ç³»æä¾›äº†æ–°çš„æ€ç»´æ–¹å¼ï¼Œäººå·¥è‡ªç„¶è§‚çªå‡ºå¹¶åæ€äº†äººçš„ä¸»ä½“æ€§å’Œåˆ›é€ æ€§ï¼›è‡ªç„¶ç”Ÿæ€é¦†ç«™åœ¨äººç±»æ–‡æ˜çš„ç«‹åœºï¼Œå¼ºè°ƒäº†äººä¸è‡ªç„¶ç•Œçš„åè°ƒä¸å‘å±•ã€‚</p><p>ç¬¬ä¸‰ï¼Œå®ƒä»¬åœ¨ç ”ç©¶äººä¸è‡ªç„¶ç•Œçš„å…³ç³»æ–¹é¢ç›¸äº’å…³è”ï¼›ç³»ç»Ÿè‡ªç„¶è§‚é€šè¿‡ç³»ç»Ÿæ€ç»´æ–¹å¼ï¼Œä¸ºäººå·¥è‡ªç„¶è§‚å’Œç”Ÿæ€è‡ªç„¶è§‚æä¾›äº†æ–¹æ³•è®ºåŸºç¡€ï¼›äººå·¥è‡ªç„¶è§‚é€šè¿‡çªå‡ºäººçš„ä¸»ä½“æ€§å’Œå®è·µæ€§ï¼Œä¸ºç³»ç»Ÿè‡ªç„¶è§‚å’Œç”Ÿæ€è‡ªç„¶è§‚æä¾›äº†è®¤è¯†è®ºå‰æï¼›ç”Ÿæ€è‡ªç„¶è§‚é€šè¿‡å¼ºè°ƒäººä¸è‡ªç„¶ç•Œçš„ç»Ÿä¸€æ€§ã€åè°ƒæ€§å…³ç³»ä¸ºç³»ç»Ÿè‡ªç„¶è§‚å’Œäººå·¥è‡ªç„¶è§‚æŒ‡æ˜äº†å‘å±•æ–¹å‘å’Œç›®æ ‡ã€‚</p><h3 id="3-å¦‚ä½•è®¤è¯†ç”Ÿæ€è‡ªç„¶è§‚å’Œç”Ÿæ€æ–‡æ˜å»ºè®¾ä¹‹é—´çš„è¾©è¯å…³ç³»ï¼Ÿ"><a href="#3-å¦‚ä½•è®¤è¯†ç”Ÿæ€è‡ªç„¶è§‚å’Œç”Ÿæ€æ–‡æ˜å»ºè®¾ä¹‹é—´çš„è¾©è¯å…³ç³»ï¼Ÿ" class="headerlink" title="3.å¦‚ä½•è®¤è¯†ç”Ÿæ€è‡ªç„¶è§‚å’Œç”Ÿæ€æ–‡æ˜å»ºè®¾ä¹‹é—´çš„è¾©è¯å…³ç³»ï¼Ÿ"></a>3.å¦‚ä½•è®¤è¯†ç”Ÿæ€è‡ªç„¶è§‚å’Œç”Ÿæ€æ–‡æ˜å»ºè®¾ä¹‹é—´çš„è¾©è¯å…³ç³»ï¼Ÿ</h3><p>ç”Ÿæ€æ–‡æ˜æ˜¯äººç±»æ–‡æ˜çš„ä¸€ç§å½¢å¼ã€‚å®ƒä»¥å°Šé‡å’Œç»´æŠ¤ç”Ÿæ€ç¯å¢ƒä¸ºä¸»æ—¨ï¼Œä»¥å¯æŒç»­å‘å±•ä¸ºæ ¹æ®ï¼Œä»¥æœªæ¥äººç±»çš„ç»§ç»­å‘å±•ä¸ºç€çœ¼ç‚¹ã€‚äººç±»å¯¹ç”Ÿæ€æ–‡æ˜çš„æ¢ç´¢ï¼Œæ˜¯å¯¹äººä¸è‡ªç„¶å’Œè°å…³ç³»çš„è¡¨ç°ã€‚ç”Ÿæ€æ–‡æ˜ä¸ç”Ÿæ€è‡ªç„¶è§‚æœ‰ç€ç´§å¯†çš„è”ç³»ï¼Œç”Ÿæ€æ–‡æ˜æ˜¯ç”Ÿæ€è‡ªç„¶è§‚çš„åº”æœ‰ä¹‹ä¹‰ï¼Œç”Ÿæ€è‡ªç„¶è§‚å¯¹ç°ä»Šä¸–ç•Œç”Ÿæ€æ–‡æ˜å‘å±•åŠå®è·µæœ‰ç€å¹¿æ³›çš„æŒ‡å¯¼æ„ä¹‰ã€‚ç”Ÿæ€æ–‡æ˜çš„æå‡ºï¼Œæ˜¯äººä»¬å¯¹å¯æŒç»­å‘å±•é—®é¢˜è®¤è¯†æ·±åŒ–çš„å¿…ç„¶ç»“æœã€‚äººç±»é€šè¿‡éµå®ˆå¯æŒç»­æ€§ã€å…±åŒæ€§å’Œå…¬å¹³æ€§ç­‰åŸåˆ™ï¼Œé€šè¿‡å®æ–½èŠ‚èƒ½å‡æ’å’Œå‘å±•ä½ç¢³ç»æµï¼Œæ„å»ºå’Œè°ç¤¾ä¼šå’Œå»ºè®¾ç”Ÿæ€æ–‡æ˜ï¼Œå®ç°äººç±»ç¤¾ä¼šä¸ç”Ÿæ€ç³»ç»Ÿçš„åè°ƒå‘å±•ï¼›äººä¸ç”Ÿæ€ç³»ç»Ÿçš„åè°ƒå‘å±•ä»åº”ä»¥äººç±»ä¸ºä¸»ä½“ï¼Œä»åº”åŒ…æ‹¬æ”¹é€ è‡ªç„¶çš„å†…å®¹ï¼Œæ³¨é‡ä¿æŠ¤ç”Ÿæ€ç¯å¢ƒå’Œé˜²ç¾å‡ç¾ï¼›ç”Ÿæ€è‡ªç„¶ç•Œæ˜¯å¤©ç„¶è‡ªç„¶ç•Œå’Œäººå·¥è‡ªç„¶ç•Œçš„ç»Ÿä¸€ï¼Œæ˜¯äººç±»æ–‡æ˜å‘å±•çš„ç›®æ ‡ï¼Œç”Ÿæ€æ–‡æ˜çš„æå‡ºï¼Œæ˜¯äººä»¬å¯¹å¯æŒç»­å‘å±•é—®é¢˜è®¤è¯†æ·±åŒ–çš„å¿…ç„¶ç»“æœã€‚ç”Ÿæ€è‡ªç„¶è§‚æŒ‡å‡ºï¼Œäººä¸è‡ªç„¶éƒ½æ˜¯ç”Ÿæ€ç³»ç»Ÿä¸­ä¸å¯æˆ–ç¼ºçš„é‡è¦ç»„æˆéƒ¨åˆ†ï¼Œäººä¸è‡ªç„¶æ˜¯ç›¸äº’ä¾å­˜ã€å’Œè°å…±å¤„ã€å…±åŒä¿ƒè¿›çš„å…³ç³»ã€‚äººç±»çš„å‘å±•åº”è¯¥æ˜¯äººä¸ç¤¾ä¼šã€äººä¸ç¯å¢ƒã€å½“ä»£äººä¸åä»£äººçš„åè°ƒå‘å±•ã€‚äººç±»çš„å‘å±•ä¸ä»…è¦è®²ç©¶ä»£å†…å…¬å¹³ï¼Œè€Œä¸”è¦è®²ç©¶ä»£é™…ä¹‹é—´çš„å…¬å¹³ï¼Œä¸èƒ½ä»¥å½“ä»£äººçš„åˆ©ç›Šä¸ºä¸­å¿ƒï¼Œç”šè‡³ä¸ºäº†å½“ä»£äººçš„åˆ©ç›Šè€Œä¸æƒœç‰ºç‰²åä»£äººçš„åˆ©ç›Šã€‚è€Œå¿…é¡»è®²ç©¶ç”Ÿæ€æ–‡æ˜ï¼Œç‰¢å›ºæ ‘ç«‹èµ·å¯æŒç»­å‘å±•çš„ç”Ÿæ€æ–‡æ˜è§‚ã€‚</p><h3 id="4-å¦‚ä½•ç†è§£â€œç»¿æ°´é’å±±å°±æ˜¯é‡‘å±±é“¶å±±â€ï¼Ÿ"><a href="#4-å¦‚ä½•ç†è§£â€œç»¿æ°´é’å±±å°±æ˜¯é‡‘å±±é“¶å±±â€ï¼Ÿ" class="headerlink" title="4.å¦‚ä½•ç†è§£â€œç»¿æ°´é’å±±å°±æ˜¯é‡‘å±±é“¶å±±â€ï¼Ÿ"></a>4.å¦‚ä½•ç†è§£â€œç»¿æ°´é’å±±å°±æ˜¯é‡‘å±±é“¶å±±â€ï¼Ÿ</h3><p>ç®€å•çš„æ¥è¯´ï¼Œâ€ç»¿æ°´é’å±±å°±æ˜¯é‡‘å±±é“¶å±±â€å°±æ˜¯æŒ‡ç”Ÿæ€å¯æŒç»­å‘å±•ã€‚è“å¤©ç™½äº‘ã€é’å±±ç»¿æ°´æ˜¯äººç±»èµ–ä»¥ç”Ÿå­˜çš„ç¯å¢ƒï¼Œæ˜¯ç¤¾ä¼šé•¿è¿œå‘å±•çš„æœ€å¤§æœ¬é’±ï¼Œç”Ÿæ€ä¼˜åŠ¿å¯ä»¥å˜æˆç»æµä¼˜åŠ¿ã€å‘å±•ä¼˜åŠ¿ï¼Œå½¢æˆäº†ä¸€ç§æµ‘ç„¶ä¸€ä½“ã€å’Œè°ç»Ÿä¸€çš„å…³ç³»ã€‚å› æ­¤ä¿æŠ¤ç»¿æ°´é’å±±ï¼Œæ‰èƒ½ä¿ä½äººä»¬èµ–ä»¥ç”Ÿå­˜çš„ç”Ÿæ€ç¯å¢ƒï¼Œä»è€Œèµ¢å¾—é•¿è¿œçš„ç»æµå¯æŒç»­å‘å±•ã€‚</p><p>ä¹ è¿‘å¹³æ€»ä¹¦è®°å…³äºç»¿æ°´é’å±±å°±æ˜¯é‡‘å±±é“¶å±±çš„è¾©è¯è®ºæ˜¯ç”Ÿæ€ç¯å¢ƒç”Ÿäº§åŠ›ç†è®ºç”ŸåŠ¨ã€æœ´å®å’Œå¯Œå«å“²ç†çš„å°è¯ï¼šâ€œç»¿æ°´é’å±±å¯ä»¥æºæºä¸æ–­åœ°å¸¦æ¥é‡‘å±±é“¶å±±ï¼Œç»¿æ°´é’å±±æœ¬èº«å°±æ˜¯é‡‘å±±é“¶å±±ï¼Œæˆ‘ä»¬ç§çš„å¸¸é’æ ‘å°±æ˜¯æ‘‡é’±æ ‘ï¼Œç”Ÿæ€ä¼˜åŠ¿å˜æˆç»æµä¼˜åŠ¿ã€‚â€</p><p>â€œå¦‚æœèƒ½å¤ŸæŠŠè¿™äº›ç”Ÿæ€ç¯å¢ƒä¼˜åŠ¿è½¬åŒ–ä¸ºç”Ÿæ€å†œä¸šã€ç”Ÿæ€å·¥ä¸šã€ç”Ÿæ€æ—…æ¸¸ç­‰ç”Ÿæ€ç»æµçš„ä¼˜åŠ¿ï¼Œé‚£ä¹ˆç»¿æ°´é’å±±ä¹Ÿå°±å˜æˆäº†é‡‘å±±é“¶å±±ã€‚â€å½“ç„¶ï¼Œç»¿æ°´é’å±±å’Œé‡‘å±±é“¶</p><p>å±±ä¹‹é—´ä¹Ÿæœ‰çŸ›ç›¾ï¼Œç»¿æ°´é’å±±æ˜¯çœŸæ­£çš„é‡‘ä¸æ¢ï¼Œâ€œç»¿æ°´é’å±±å¯å¸¦æ¥é‡‘å±±é“¶å±±ï¼Œä½†é‡‘å±±é“¶å±±å´ä¹°ä¸åˆ°ç»¿æ°´é’å±±â€ã€‚</p><p>å› æ­¤ï¼Œå½“ç»¿æ°´é’å±±å’Œé‡‘å±±é“¶å±±ä¹‹é—´æœ‰ä¸å¯è°ƒå’Œçš„çŸ›ç›¾æ—¶ï¼Œæˆ‘ä»¬å®è¦ç»¿æ°´é’å±±ï¼Œä¸è¦é‡‘å±±é“¶å±±ã€‚è¦åƒå¯¹å¾…ç”Ÿå‘½ä¸€æ ·å¯¹å¾…ç”Ÿæ€ç¯å¢ƒï¼Œç»Ÿç­¹å±±æ°´æ—ç”°æ¹–è‰ç³»ç»Ÿæ²»ç†ï¼Œå®è¡Œæœ€ä¸¥æ ¼çš„ç”Ÿæ€ç¯å¢ƒä¿æŠ¤åˆ¶åº¦ï¼Œå½¢æˆç»¿è‰²å‘å±•æ–¹å¼å’Œç”Ÿæ´»æ–¹å¼ï¼Œåšå®šèµ°ç”Ÿäº§å‘å±•ã€ç”Ÿæ´»å¯Œè£•ã€ç”Ÿæ€è‰¯å¥½çš„æ–‡æ˜å‘å±•é“è·¯ï¼Œå»ºè®¾ç¾ä¸½ä¸­å›½ã€‚</p><p>ç»¿æ°´é’å±±å°±æ˜¯é‡‘å±±é“¶å±±çš„ç†å¿µï¼Œä¸€å¤´æ˜¯äººç±»èµ–ä»¥ç”Ÿå­˜çš„è‡ªç„¶ç¯å¢ƒï¼Œå¦ä¸€å¤´ç‰µç€è´¢å¯Œç”Ÿäº§ï¼›ä¸€å¤´è¿ç€ç”Ÿæ€ç¯å¢ƒï¼Œå¦ä¸€å¤´æ˜¯äººç±»æ´»åŠ¨çš„äº§ç‰©ã€‚ä»äººä¸è‡ªç„¶æ˜¯ç”Ÿå‘½å…±åŒä½“å‡ºå‘ï¼Œå°†ç”Ÿæ€ç¯å¢ƒå†…åŒ–ä¸ºç”Ÿäº§åŠ›çš„å†…ç”Ÿå˜é‡ä¸ä»·å€¼ç›®æ ‡ï¼Œè•´å«ç€å°Šé‡è‡ªç„¶ã€é¡ºåº”è‡ªç„¶ã€ä¿æŠ¤è‡ªç„¶ï¼Œè°‹æ±‚äººä¸è‡ªç„¶å’Œè°å‘å±•çš„ç”Ÿæ€ç†å¿µå’Œä»·å€¼è¯‰æ±‚ã€‚</p><p>æ­ç¤ºäº†ç”Ÿæ€ç¯å¢ƒä¸ç”Ÿäº§åŠ›ä¹‹é—´çš„è¾©è¯ç»Ÿä¸€å…³ç³»ï¼Œçªç ´äº†æŠŠä¿æŠ¤ç”Ÿæ€ä¸å‘å±•ç”Ÿäº§åŠ›å¯¹ç«‹èµ·æ¥çš„åƒµåŒ–æ€ç»´ï¼Œå†…å«äº†ä¿æŠ¤ã€æ”¹å–„ä¸å»ºè®¾ç”Ÿæ€ç¯å¢ƒå’Œä¿æŠ¤ä¸å‘å±•ç”Ÿäº§åŠ›çš„æœ‰æœºç»Ÿä¸€ï¼Œé²œæ´»åœ°æ¦‚æ‹¬äº†æœ‰ä¸­å›½æ°”æ´¾ã€ä¸­å›½é£æ ¼å’Œä¸­å›½è¯è¯­ç‰¹è‰²çš„ç»¿è‰²å‘å±•å†…æ¶µï¼Œæ˜¯ä¸­å›½åŒ–é©¬å…‹æ€ä¸»ä¹‰ç†è®ºçš„å…‰è¾‰å…¸èŒƒã€‚</p><h2 id="ç¬¬ä¸€ç« -è‡ªç„¶è¾©è¯æ³•"><a href="#ç¬¬ä¸€ç« -è‡ªç„¶è¾©è¯æ³•" class="headerlink" title="ç¬¬ä¸€ç«  è‡ªç„¶è¾©è¯æ³•"></a>ç¬¬ä¸€ç«  è‡ªç„¶è¾©è¯æ³•</h2><h3 id="1-å¦‚ä½•ç†è§£æœ´ç´ å”¯ç‰©ä¸»ä¹‰è‡ªç„¶è§‚ã€æœºæ¢°å”¯ç‰©ä¸»ä¹‰è‡ªç„¶è§‚å’Œè¾©è¯å”¯ç‰©ä¸»ä¹‰è‡ªç„¶è§‚çš„è¾©è¯å…³ç³»ï¼Ÿ-1"><a href="#1-å¦‚ä½•ç†è§£æœ´ç´ å”¯ç‰©ä¸»ä¹‰è‡ªç„¶è§‚ã€æœºæ¢°å”¯ç‰©ä¸»ä¹‰è‡ªç„¶è§‚å’Œè¾©è¯å”¯ç‰©ä¸»ä¹‰è‡ªç„¶è§‚çš„è¾©è¯å…³ç³»ï¼Ÿ-1" class="headerlink" title="1.å¦‚ä½•ç†è§£æœ´ç´ å”¯ç‰©ä¸»ä¹‰è‡ªç„¶è§‚ã€æœºæ¢°å”¯ç‰©ä¸»ä¹‰è‡ªç„¶è§‚å’Œè¾©è¯å”¯ç‰©ä¸»ä¹‰è‡ªç„¶è§‚çš„è¾©è¯å…³ç³»ï¼Ÿ"></a>1.å¦‚ä½•ç†è§£æœ´ç´ å”¯ç‰©ä¸»ä¹‰è‡ªç„¶è§‚ã€æœºæ¢°å”¯ç‰©ä¸»ä¹‰è‡ªç„¶è§‚å’Œè¾©è¯å”¯ç‰©ä¸»ä¹‰è‡ªç„¶è§‚çš„è¾©è¯å…³ç³»ï¼Ÿ</h3><p>æœ´ç´ å”¯ç‰©ä¸»ä¹‰è‡ªç„¶è§‚æ˜¯å¤ä»£è‡ªç„¶å“²å­¦å®¶ä»¬ä»¥ç§‘å­¦æŠ€æœ¯ä¸ºåŸºç¡€ï¼Œæ¦‚æ‹¬å’Œæ€»ç»“è‡ªç„¶ç•ŒåŠå…¶ä¸äººç±»çš„å…³ç³»å½¢æˆçš„æ€»çš„è§‚ç‚¹ã€‚å®ƒæ˜¯é©¬å…‹æ€ä¸»ä¹‰è‡ªç„¶è§‚å½¢æˆçš„æœ€åˆæ€æƒ³æ¸Šæºã€‚å®ƒå…·æœ‰â‘ æ•´ä½“æ€§å’Œç›´è§‚æ€§ï¼Œâ‘¡æ€è¾¨æ€§å’Œè‡†æµ‹æ€§ï¼Œâ‘¢è‡ªå‘æ€§å’Œä¸å½»åº•æ€§ã€‚æœ´ç´ å”¯ç‰©ä¸»ä¹‰è‡ªç„¶è§‚çš„æ€æƒ³æ¸Šæºæ˜¯åŸå§‹å®—æ•™ç¥è¯è‡ªç„¶è§‚ï¼Œå…¶ç†è®ºåŸºç¡€æ˜¯è‡ªç„¶å“²å­¦ã€‚æœ´ç´ å”¯ç‰©ä¸»ä¹‰è‡ªç„¶è§‚å…·æœ‰ä¸€å®šçš„ç¼ºé™·ï¼šâ‘ ä¸èƒ½å½»åº•åœ°åšæŒå”¯ç‰©ä¸»ä¹‰ï¼Œå…·æœ‰å”¯å¿ƒä¸»ä¹‰å› ç´ ï¼Œå¦‚æ³°å‹’æ–¯çš„â€æ°´æœ¬åŸè¯´â€â‘¡ä¸èƒ½æ»¡è¶³æ°‘ä¼—çš„éœ€è¦ï¼Œæºæ‚ç€å®¿å‘½å’Œè¿·ä¿¡ç­‰å› ç´ ã€‚â‘¢ä¸èƒ½ç§‘å­¦åœ°è¯´æ˜è‡ªç„¶ç•Œã€‚</p><p>æœºæ¢°å”¯ç‰©ä¸»ä¹‰è‡ªç„¶è§‚æ˜¯è¿‘ä»£è‡ªç„¶ç§‘å­¦å®¶ä»¬ä»¥è¿‘ä»£ç§‘å­¦æŠ€æœ¯ä¸ºåŸºç¡€ï¼Œæ¦‚æ‹¬å’Œæ€»ç»“è‡ªç„¶ç•ŒåŠå…¶ä¸äººç±»çš„å…³ç³»å½¢æˆçš„æ€»çš„è§‚ç‚¹ã€‚å®ƒæ˜¯é©¬å…‹æ€ä¸»ä¹‰è‡ªç„¶è§‚å½¢æˆçš„é‡è¦æ€æƒ³æ¸Šæºã€‚å®ƒå…·æœ‰â‘ æœºæ¢°æ€§â‘¡ä¸å½»åº•æ€§â‘¢å½¢è€Œä¸Šå­¦æ€§ã€‚æœºæ¢°å”¯ç‰©ä¸»ä¹‰è‡ªç„¶è§‚â‘ ä¸ºè¾©è¯å”¯ç‰©ä¸»ä¹‰è‡ªç„¶è§‚çš„å½¢æˆåˆ›é€ äº†æ¡ä»¶ã€‚ä»–ä»¥è¿‘ä»£è‡ªç„¶ç§‘å­¦ä¸ºåŸºç¡€ï¼Œå¼ºè°ƒè‡ªç„¶ç•Œå­˜åœ¨çš„å®¢è§‚æ€§ï¼Œç‰©è´¨æ€§å’Œå‘å±•çš„è§„å¾‹æ€§ï¼Œä¼ æ‰¿äº†æœ´ç´ å”¯ç‰©ä¸»ä¹‰è‡ªç„¶è§‚çš„æ€æƒ³ä¼ ç»Ÿã€‚â‘¢ä¸ºè¾©è¯å”¯ç‰©ä¸»ä¹‰è‡ªç„¶è§‚çš„å½¢æˆæä¾›äº†å‰æã€‚å®ƒæ‰€åŸ¹æ¤çš„å´‡å°šç†æ€§çš„ç§‘å­¦ç²¾ç¥ä¿ƒè¿›äº†è¾©è¯å”¯ç‰©ä¸»ä¹‰è‡ªç„¶è§‚çš„å½¢æˆã€‚</p><p>è¾©è¯å”¯ç‰©ä¸»ä¹‰è‡ªç„¶è§‚æ˜¯é©¬å…‹æ€æ©æ ¼æ–¯ä»¥è¿‘ä»£ç§‘å­¦æŠ€æœ¯ä¸ºåŸºç¡€ï¼Œæ¦‚æ‹¬å’Œæ€»ç»“è‡ªç„¶ç•ŒåŠå…¶ä¸äººç±»å…³ç³»å½¢æˆçš„æ€»çš„è§‚ç‚¹ã€‚å®ƒæ˜¯é©¬å…‹æ€ä¸»ä¹‰è‡ªç„¶è§‚å½¢æˆçš„é‡è¦æ ‡å¿—ã€‚è¾©è¯å”¯ç‰©ä¸»ä¹‰è‡ªç„¶è§‚å…·æœ‰â‘ å®è·µæ€§â‘¡å†å²æ€§â‘¢è¾©è¯æ€§â‘£æ‰¹åˆ¤æ€§ã€‚è¾©è¯å”¯ç‰©ä¸»ä¹‰è‡ªç„¶è§‚â€œæ‰¬å¼ƒâ€äº†æœºæ¢°å”¯ç‰©ä¸»ä¹‰è‡ªç„¶è§‚ï¼Œåœ¨æ›´é«˜å±‚æ¬¡ä¸Šå®ç°äº†å‘å¤å¸Œè…Šæœ´ç´ å”¯ç‰©ä¸»ä¹‰è‡ªç„¶è§‚çš„å›å½’ã€‚</p><p>ä¸‰ç§è‡ªç„¶è§‚çš„å‘å±•æœ¬è´¨æ˜¯äººç±»è®¤è¯†çš„å‘å±•ï¼Œè¾©è¯å”¯ç‰©ä¸»ä¹‰è‡ªç„¶è§‚æ˜¯å¯¹æœ´ç´ å”¯ç‰©ä¸»ä¹‰è‡ªç„¶è§‚çš„å¦å®šä¹‹å¦å®šï¼Œæ˜¯å¯¹æœºæ¢°å”¯ç‰©ä¸»ä¹‰è‡ªç„¶è§‚çš„å¦å®šã€‚ä»»ä½•ä¸€ç§è‡ªç„¶è§‚çš„äº§ç”Ÿéƒ½è„±ç¦»ä¸äº†å½“æ—¶ç§‘å­¦çš„å‘å±•æ°´å¹³ï¼Œä¹Ÿç¦»ä¸å¼€äººä»¬çš„è®¤è¯†æ°´å¹³ã€‚è€Œæ›´å…ˆè¿›çš„è‡ªç„¶è§‚å¯¹ç§‘å­¦çš„å‘å±•åˆå…·æœ‰æŒ‡å¯¼æ€§æ„ä¹‰ã€‚è¿™ä¸ªå‘å±•æ˜¯èºæ—‹ä¸Šå‡çš„ï¼Œåœ¨æˆ‘ä»¬çš„è®¤è¯†ä¸­è¿˜ä¼šè¿›è¡Œè¡¥å……å’Œä¸°å¯Œï¼Œåœ¨è¿åŠ¨ä¸­å‘å±•è‡ªå·±ã€‚</p><h3 id="2-å¦‚ä½•ç†è§£ç³»ç»Ÿè‡ªç„¶è§‚ã€äººå·¥è‡ªç„¶è§‚å’Œç”Ÿæ€è‡ªç„¶è§‚çš„è¾©è¯å…³ç³»ï¼Ÿ-1"><a href="#2-å¦‚ä½•ç†è§£ç³»ç»Ÿè‡ªç„¶è§‚ã€äººå·¥è‡ªç„¶è§‚å’Œç”Ÿæ€è‡ªç„¶è§‚çš„è¾©è¯å…³ç³»ï¼Ÿ-1" class="headerlink" title="2.å¦‚ä½•ç†è§£ç³»ç»Ÿè‡ªç„¶è§‚ã€äººå·¥è‡ªç„¶è§‚å’Œç”Ÿæ€è‡ªç„¶è§‚çš„è¾©è¯å…³ç³»ï¼Ÿ"></a>2.å¦‚ä½•ç†è§£ç³»ç»Ÿè‡ªç„¶è§‚ã€äººå·¥è‡ªç„¶è§‚å’Œç”Ÿæ€è‡ªç„¶è§‚çš„è¾©è¯å…³ç³»ï¼Ÿ</h3><p>P42</p><h3 id="3-å¦‚ä½•è®¤è¯†ç”Ÿæ€è‡ªç„¶è§‚å’Œç”Ÿæ€æ–‡æ˜å»ºè®¾ä¹‹é—´çš„è¾©è¯å…³ç³»ï¼Ÿ-1"><a href="#3-å¦‚ä½•è®¤è¯†ç”Ÿæ€è‡ªç„¶è§‚å’Œç”Ÿæ€æ–‡æ˜å»ºè®¾ä¹‹é—´çš„è¾©è¯å…³ç³»ï¼Ÿ-1" class="headerlink" title="3.å¦‚ä½•è®¤è¯†ç”Ÿæ€è‡ªç„¶è§‚å’Œç”Ÿæ€æ–‡æ˜å»ºè®¾ä¹‹é—´çš„è¾©è¯å…³ç³»ï¼Ÿ"></a>3.å¦‚ä½•è®¤è¯†ç”Ÿæ€è‡ªç„¶è§‚å’Œç”Ÿæ€æ–‡æ˜å»ºè®¾ä¹‹é—´çš„è¾©è¯å…³ç³»ï¼Ÿ</h3><p>ç”Ÿæ€æ–‡æ˜æ˜¯äººç±»æ–‡æ˜çš„ä¸€ç§å½¢å¼ã€‚å®ƒä»¥å°Šé‡å’Œç»´æŠ¤ç”Ÿæ€ç¯å¢ƒä¸ºä¸»æ—¨ï¼Œä»¥å¯æŒç»­å‘å±•ä¸ºæ ¹æ®ï¼Œä»¥æœªæ¥äººç±»çš„ç»§ç»­å‘å±•ä¸ºç€çœ¼ç‚¹ã€‚äººç±»å¯¹ç”Ÿæ€æ–‡æ˜çš„æ¢ç´¢ï¼Œæ˜¯å¯¹äººä¸è‡ªç„¶å’Œè°å…³ç³»çš„è¡¨ç°ã€‚ç”Ÿæ€æ–‡æ˜ä¸ç”Ÿæ€è‡ªç„¶è§‚æœ‰ç€ç´§å¯†çš„è”ç³»ï¼Œç”Ÿæ€æ–‡æ˜æ˜¯ç”Ÿæ€è‡ªç„¶è§‚çš„åº”æœ‰ä¹‹ä¹‰ï¼Œç”Ÿæ€è‡ªç„¶è§‚å¯¹ç°ä»Šä¸–ç•Œç”Ÿæ€æ–‡æ˜å‘å±•åŠå®è·µæœ‰ç€å¹¿æ³›çš„æŒ‡å¯¼æ„ä¹‰ã€‚ç”Ÿæ€æ–‡æ˜çš„æå‡ºï¼Œæ˜¯äººä»¬å¯¹å¯æŒç»­å‘å±•é—®é¢˜è®¤è¯†æ·±åŒ–çš„å¿…ç„¶ç»“æœã€‚äººç±»é€šè¿‡éµå®ˆå¯æŒç»­æ€§ã€å…±åŒæ€§å’Œå…¬å¹³æ€§ç­‰åŸåˆ™ï¼Œé€šè¿‡å®æ–½èŠ‚èƒ½å‡æ’å’Œå‘å±•ä½ç¢³ç»æµï¼Œæ„å»ºå’Œè°ç¤¾ä¼šå’Œå»ºè®¾ç”Ÿæ€æ–‡æ˜ï¼Œå®ç°äººç±»ç¤¾ä¼šä¸ç”Ÿæ€ç³»ç»Ÿçš„åè°ƒå‘å±•ï¼›äººä¸ç”Ÿæ€ç³»ç»Ÿçš„åè°ƒå‘å±•ä»åº”ä»¥äººç±»ä¸ºä¸»ä½“ï¼Œä»åº”åŒ…æ‹¬æ”¹é€ è‡ªç„¶çš„å†…å®¹ï¼Œæ³¨é‡ä¿æŠ¤ç”Ÿæ€ç¯å¢ƒå’Œé˜²ç¾å‡ç¾ï¼›ç”Ÿæ€è‡ªç„¶ç•Œæ˜¯å¤©ç„¶è‡ªç„¶ç•Œå’Œäººå·¥è‡ªç„¶ç•Œçš„ç»Ÿä¸€ï¼Œæ˜¯äººç±»æ–‡æ˜å‘å±•çš„ç›®æ ‡ï¼Œç”Ÿæ€æ–‡æ˜çš„æå‡ºï¼Œæ˜¯äººä»¬å¯¹å¯æŒç»­å‘å±•é—®é¢˜è®¤è¯†æ·±åŒ–çš„å¿…ç„¶ç»“æœã€‚ç”Ÿæ€è‡ªç„¶è§‚æŒ‡å‡ºï¼Œäººä¸è‡ªç„¶éƒ½æ˜¯ç”Ÿæ€ç³»ç»Ÿä¸­ä¸å¯æˆ–ç¼ºçš„é‡è¦ç»„æˆéƒ¨åˆ†ï¼Œäººä¸è‡ªç„¶æ˜¯ç›¸äº’ä¾å­˜ã€å’Œè°å…±å¤„ã€å…±åŒä¿ƒè¿›çš„å…³ç³»ã€‚äººç±»çš„å‘å±•åº”è¯¥æ˜¯äººä¸ç¤¾ä¼šã€äººä¸ç¯å¢ƒã€å½“ä»£äººä¸åä»£äººçš„åè°ƒå‘å±•ã€‚äººç±»çš„å‘å±•ä¸ä»…è¦è®²ç©¶ä»£å†…å…¬å¹³ï¼Œè€Œä¸”è¦è®²ç©¶ä»£é™…ä¹‹é—´çš„å…¬å¹³ï¼Œä¸èƒ½ä»¥å½“ä»£äººçš„åˆ©ç›Šä¸ºä¸­å¿ƒï¼Œç”šè‡³ä¸ºäº†å½“ä»£äººçš„åˆ©ç›Šè€Œä¸æƒœç‰ºç‰²åä»£äººçš„åˆ©ç›Šã€‚è€Œå¿…é¡»è®²ç©¶ç”Ÿæ€æ–‡æ˜ï¼Œç‰¢å›ºæ ‘ç«‹èµ·å¯æŒç»­å‘å±•çš„ç”Ÿæ€æ–‡æ˜è§‚ã€‚</p><h3 id="4-å¦‚ä½•ç†è§£â€œç»¿æ°´é’å±±å°±æ˜¯é‡‘å±±é“¶å±±â€ï¼Ÿ-1"><a href="#4-å¦‚ä½•ç†è§£â€œç»¿æ°´é’å±±å°±æ˜¯é‡‘å±±é“¶å±±â€ï¼Ÿ-1" class="headerlink" title="4.å¦‚ä½•ç†è§£â€œç»¿æ°´é’å±±å°±æ˜¯é‡‘å±±é“¶å±±â€ï¼Ÿ"></a>4.å¦‚ä½•ç†è§£â€œç»¿æ°´é’å±±å°±æ˜¯é‡‘å±±é“¶å±±â€ï¼Ÿ</h3><p>â€œç»¿æ°´é’å±±å°±æ˜¯é‡‘å±±é“¶å±±â€çš„é‡è¦æ€æƒ³ï¼Œè§¦åŠåˆ°äº†ä¸€ä¸ªäººç±»ç¤¾ä¼šå‘å±•çš„å¤§éš¾é¢˜ï¼Œå³ï¼šé‡‘å±±é“¶å±±æ˜¯äººçš„ç‰©è´¨è¿½æ±‚ï¼Œç»¿æ°´é’å±±æ˜¯äººèµ–ä»¥ç”Ÿå­˜çš„è‡ªç„¶æ¡ä»¶ï¼Œè¿™ä¸¤è€…éƒ½æ˜¯äººç”Ÿå­˜å’Œå‘å±•æ‰€éœ€è¦çš„ï¼Œè€Œè¿™ä¸¤è€…å¯¹äºäººæ¥è¯´åˆå¾ˆéš¾å…¼å¾—ã€‚è‡ªå·¥ä¸šé©å‘½ä»¥æ¥ï¼Œäººç±»ä»¥ç‰ºç‰²ç»¿æ°´é’å±±æ¥å®ç°è‡ªå·±çš„ç‰©è´¨è¿½æ±‚ï¼Œæ›¾ç»åˆ›é€ äº†å‰æ‰€æœªæœ‰çš„æ–‡æ˜å¥‡è¿¹ã€‚ä½†æ˜¯ï¼Œè¿™ç§ä¸å¯æŒç»­çš„ç»æµå¢é•¿æ–¹å¼é€ æˆäº†è®¸å¤šç¾éš¾æ€§çš„åæœï¼Œä¿ƒä½¿äººä»¬åœ¨å¯¹ä¼ ç»Ÿçš„å¢é•¿æ–¹å¼å’Œå‘å±•ç†è®ºè¿›è¡Œåæ€çš„åŒæ—¶ï¼Œå¼€å§‹é‡æ–°ç ”ç©¶å‘å±•ç†è®ºï¼Œé‡æ–°ç ”ç©¶å‘å±•ä¸­äººä¸è‡ªç„¶çš„å…³ç³»ã€‚</p><p>ä»¥æˆ‘å›½ä¸ºä¾‹ï¼Œæˆ‘ä»¬åœ¨è¿‡å»å®è¡Œçš„æ˜¯â€œå…ˆå¢é•¿åæ²»æ±¡â€æ¨¡å¼ï¼Œåœ¨â€œä¸¤åº§å±±â€é—®é¢˜ä¸Šå®é™…ä¸Šæ˜¯é‡‡å–äº†â€œä¸ºäº†é‡‘å±±é“¶å±±å¯ä»¥æš‚æ—¶ç‰ºç‰²ç»¿æ°´é’å±±â€çš„åšæ³•;åæ¥è®¤è¯†åˆ°è¿™æ ·åšä¸ä»…ä¸å¯æŒç»­ï¼Œè€Œä¸”æ²»æ±¡çš„ä»£ä»·è¦å¤§äºå¢é•¿è·å¾—çš„æ”¶ç›Šï¼Œäºæ˜¯è®¸å¤šåœ°æ–¹æå‡ºäº†â€œå®è¦ç»¿æ°´é’å±±ï¼Œä¸è¦é‡‘å±±é“¶å±±â€çš„å£å·ï¼Œå³ä¸‹å†³å¿ƒæ”¹å˜â€œå…ˆå¢é•¿åæ²»æ±¡â€çš„æ¨¡å¼ï¼Œä¼˜åŒ–ç¯å¢ƒï¼Œä¿æŠ¤ç”Ÿæ€ã€‚è¿™æ ·çš„å£å·ï¼Œè¿™æ ·çš„åšæ³•ï¼Œè™½ç„¶ä¹Ÿè®²â€œå¯æŒç»­å‘å±•â€ï¼Œä½†å®é™…ä¸Šæ˜¯æŠŠâ€œå¯æŒç»­â€ä¸â€œå‘å±•â€å‰²è£‚å¼€æ¥ï¼Œè¿™ä¸åˆ©äºç”Ÿäº§åŠ›çš„å‘å±•ã€‚</p><p>â€œç»¿æ°´é’å±±å°±æ˜¯é‡‘å±±é“¶å±±â€ï¼Œåˆ™ä»¥â€œå°±æ˜¯â€ä¸€è¯æŠŠâ€œç»¿æ°´é’å±±â€å’Œâ€œé‡‘å±±é“¶å±±â€è¾©è¯åœ°è¿æ¥èµ·æ¥ï¼Œä»¥ç§¯æçš„è€Œä¸æ˜¯æ‚²è§‚çš„æ€åº¦é˜æ˜äº†è¿™ä¸¤è€…ä¹‹é—´çš„å…³ç³»ï¼Œè®²æ¸…æ¥šäº†å‘å±•ä¸­äººä¸è‡ªç„¶çš„è¾©è¯ç»Ÿä¸€å…³ç³»ç»¿æ°´é’å±±å°±æ˜¯é‡‘å±±é“¶å±±â€è¿™ä¸€é‡è¦æ€æƒ³ï¼Œæ‰€è¡¨è¾¾çš„åˆ™æ˜¯ç¯å¢ƒã€ç”Ÿæ€åº”è¯¥æ˜¯ç¤¾ä¼šç”Ÿäº§åŠ›å†…éƒ¨çš„ä¸€ä¸ªæœ‰æœºç»„æˆéƒ¨åˆ†ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¹ è¿‘å¹³æŠŠç¯å¢ƒã€ç”Ÿæ€çº³å…¥äº†ç¤¾ä¼šç”Ÿäº§åŠ›çš„èŒƒç•´ã€‚è¿™ç§æ€åº¦å°±æ˜¯é©¬å…‹æ€ä¸»ä¹‰çš„æ€åº¦ï¼Œè¿™ç§è®¤è¯†å°±æ˜¯é©¬å…‹æ€ä¸»ä¹‰çš„è®¤è¯†ã€‚ã€‚</p><p>å› æ­¤ï¼Œæˆ‘ä»¬è¯´ä¹ è¿‘å¹³å…³äºâ€œç»¿æ°´é’å±±å°±æ˜¯é‡‘å±±é“¶å±±â€çš„é‡è¦æ€æƒ³ï¼Œä»¥ä¸€ç§æ–°é¢–çš„å‘å±•ç†å¿µï¼ŒåšæŒå’Œå‘å±•äº†é©¬å…‹æ€ä¸»ä¹‰åˆ›å§‹äººä»¥ç§¯æä¹è§‚çš„æ€åº¦è®¤è¯†å’Œå¤„ç†å‘å±•ä¸­äººä¸è‡ªç„¶å…³ç³»é—®é¢˜çš„ç§‘å­¦æ€æƒ³ã€‚</p><h3 id="5-ç®€è¿°è¾©è¯å”¯ç‰©ä¸»ä¹‰è‡ªç„¶è§‚æˆ˜èƒœæœºæ¢°è®ºè‡ªç„¶è§‚çš„å†å²å¿…ç„¶æ€§ã€‚"><a href="#5-ç®€è¿°è¾©è¯å”¯ç‰©ä¸»ä¹‰è‡ªç„¶è§‚æˆ˜èƒœæœºæ¢°è®ºè‡ªç„¶è§‚çš„å†å²å¿…ç„¶æ€§ã€‚" class="headerlink" title="5.ç®€è¿°è¾©è¯å”¯ç‰©ä¸»ä¹‰è‡ªç„¶è§‚æˆ˜èƒœæœºæ¢°è®ºè‡ªç„¶è§‚çš„å†å²å¿…ç„¶æ€§ã€‚"></a>5.ç®€è¿°è¾©è¯å”¯ç‰©ä¸»ä¹‰è‡ªç„¶è§‚æˆ˜èƒœæœºæ¢°è®ºè‡ªç„¶è§‚çš„å†å²å¿…ç„¶æ€§ã€‚</h3><p>æœºæ¢°è®ºè‡ªç„¶è§‚çš„äº§ç”Ÿæœ‰å…¶å†å²çš„å¿…ç„¶æ€§å’Œåˆç†æ€§ï¼Œä½†å®ƒç”¨å­¤ç«‹çš„ï¼Œé™æ­¢çš„ï¼Œç‰‡é¢çš„è§‚ç‚¹å»çœ‹å¾…ä¸–ç•Œï¼Œå¦è®¤äº‹ç‰©çš„è”ç³»å’Œå‘å±•å˜åŒ–ï¼Œå¦è®¤äº‹ç‰©çš„å†…éƒ¨çŸ›ç›¾ã€‚å®è·µæ˜¯æ£€éªŒçœŸç†çš„å”¯ä¸€æ ‡å‡†ï¼Œæœºæ¢°è®ºè‡ªç„¶è§‚çš„è¿™äº›ç‰¹ç‚¹ä¸è¿‘ä»£è‡ªç„¶ç§‘å­¦å·²ç»ç›¸æ‚–ï¼Œåº”å½“æ‘’å¼ƒã€‚äººç±»ç¤¾ä¼šçš„å¤§è¶‹åŠ¿æ˜¯å‘å±•ï¼Œåœ¨ç›®å‰çš„å†å²ç¯å¢ƒä¸‹ï¼Œæœºæ¢°è®ºè‡ªç„¶è§‚çš„å­˜åœ¨åªä¼šé˜»ç¢è¿™ç§å‘å±•ï¼Œæ‰€ä»¥å¿…å°†è¢«é€‚åº”å½“å‰è‡ªç„¶ç§‘å­¦çš„è¾©è¯å”¯ç‰©ä¸»ä¹‰è‡ªç„¶è§‚æ‰€å–ä»£ï¼Œè¿™æ˜¯å†å²å¿…ç„¶æ€§ã€‚</p><p>P28</p><h2 id="ç¬¬äºŒç« -ç§‘å­¦æŠ€æœ¯è§‚ï¼ˆbyselfï¼‰"><a href="#ç¬¬äºŒç« -ç§‘å­¦æŠ€æœ¯è§‚ï¼ˆbyselfï¼‰" class="headerlink" title="ç¬¬äºŒç«  ç§‘å­¦æŠ€æœ¯è§‚ï¼ˆbyselfï¼‰"></a>ç¬¬äºŒç«  ç§‘å­¦æŠ€æœ¯è§‚ï¼ˆbyselfï¼‰</h2><h3 id="6-å¦‚ä½•ç†è§£18-19ä¸–çºªç§‘å­¦æŠ€æœ¯å‘å±•ä¸é©¬å…‹æ€æ©æ ¼æ–¯ç§‘å­¦æŠ€æœ¯æ€æƒ³äº§ç”Ÿçš„å…³ç³»ï¼Ÿ"><a href="#6-å¦‚ä½•ç†è§£18-19ä¸–çºªç§‘å­¦æŠ€æœ¯å‘å±•ä¸é©¬å…‹æ€æ©æ ¼æ–¯ç§‘å­¦æŠ€æœ¯æ€æƒ³äº§ç”Ÿçš„å…³ç³»ï¼Ÿ" class="headerlink" title="6.å¦‚ä½•ç†è§£18.19ä¸–çºªç§‘å­¦æŠ€æœ¯å‘å±•ä¸é©¬å…‹æ€æ©æ ¼æ–¯ç§‘å­¦æŠ€æœ¯æ€æƒ³äº§ç”Ÿçš„å…³ç³»ï¼Ÿ"></a>6.å¦‚ä½•ç†è§£18.19ä¸–çºªç§‘å­¦æŠ€æœ¯å‘å±•ä¸é©¬å…‹æ€æ©æ ¼æ–¯ç§‘å­¦æŠ€æœ¯æ€æƒ³äº§ç”Ÿçš„å…³ç³»ï¼Ÿ</h3><p>p45</p><p>ä»18ä¸–çºª60å¹´ä»£èµ·å§‹äºè‹±å›½çš„ç¬¬ä¸€å¤´æ¬¡æŠ€æœ¯é©å‘½å’Œç»§ä¹‹è€Œæ¥çš„äº§ä¸šé©å‘½ï¼Œæ—¢å‘ç§‘å­¦æå‡ºäº†æ–°çš„è¦æ±‚ï¼Œä¹Ÿä¸ºç§‘å­¦æä¾›äº†æ–°çš„äº‹å®ï¼Œæ›´ä¸ºç§‘å­¦æä¾›äº†æ–°çš„äº¤æµæ–¹æ³•ï¼Œä»è€Œä½¿ç§‘å­¦åœ¨19ä¸–çºªè·å¾—äº†é•¿è¶³çš„è¿›æ­¥ï¼Œå–å¾—äº†å½±å“æ·±è¿œçš„ä¸€äº›é‡è¦å‘ç°ï¼Œä¸ºè¾©è¯å”¯ç‰©ä¸»ä¹‰è‡ªç„¶è§‚çš„äº§ç”Ÿæä¾›äº†ä¸°å¯Œçš„ç‰©è´¨åŸºç¡€</p><p>19ä¸–çºªçš„è‡ªç„¶ç§‘å­¦æˆå°±ä¸ºè¾©è¯å”¯ç‰©ä¸»ä¹‰è‡ªç„¶è§‚äº§ç”Ÿæä¾›äº†ç§‘å­¦å‰æã€‚å¦‚åœ¨å¤©æ–‡å­¦ä¸Šï¼Œ1755å¹´åº·å¾·å’Œæ‹‰æ™®æ‹‰æ–¯ï¼ˆ1796å¹´ï¼‰åˆ†åˆ«æå‡ºçš„å…³äºå¤ªé˜³ç³»èµ·æºçš„æ˜Ÿå»å‡è®¾ã€‚åœ¨åœ°è´¨å­¦ä¸Šï¼Œè‹±å›½ç§‘å­¦å®¶è±ä¼Šå°”1830å¹´å‘è¡¨â€œåœ°çƒæ¼”åŒ–å­¦è¯´â€ï¼Œåœ¨ç‰©ç†å­¦ä¸Šç„¦è€³å‘ç°èƒ½é‡è½¬åŒ–å’Œå®ˆæ’å®šå¾‹ï¼Œä»è€ŒåŠ¨æ‘‡äº†å½¢è€Œä¸Šå­¦çš„åŸºç¡€ï¼Œåœ¨åŒ–å­¦ä¸Š1824å¹´ç”±ç»´ç­‰äººåˆæˆå°¿ç´ ï¼Œåœ¨ç”Ÿç‰©ä¸Šï¼Œ1838å¹´æ–½æ—ºæå‡ºç»†èƒæ˜¯ç”Ÿå‘½ çš„åŸºæœ¬ç»“æ„å•ä½ï¼Œ1958å¹´è¾¾å°”æ–‡åˆ›ç«‹ç‰¹ç§èµ·æºè®ºï¼Œå¯¹äºè¿™äº›é‡è¦çš„å‘ç°ï¼Œæ©æ ¼æ–¯ç»è¿‡åå¤ç ”ç©¶ï¼Œä»è‡ªç„¶è§‚çš„é«˜åº¦æå‡ºäº†è¿åŠ¨å½¢å¼åŠå…¶ç›¸äº’è½¬åŒ–çš„å­¦è¯´ã€‚æ©æ ¼æ–¯å…³äºè¿åŠ¨å½¢å¼çš„å­¦è¯´æŠŠè•´å«åœ¨å½“æ—¶è¯¸å¤šç§‘å­¦å‘ç°ä¸­çš„æ€æƒ³ç²¾åä½œäº†æ¦‚å¿µæ€§å‡åï¼Œä»è€Œæä¾›äº†ä¸€ç§è§‚å¯Ÿç ”ç©¶è‡ªç„¶çš„å“²å­¦æ–¹å¼</p><p>ç»¼ä¸Šæ‰€è¿°ï¼Œè¾©è¯å”¯ç‰©ä¸»ä¹‰è‡ªç„¶è§‚çš„äº§ç”Ÿåæ˜ äº†ç§‘å­¦æŠ€æœ¯å‘å±•çš„å†å²å¿…ç„¶æ€§ã€‚</p><h3 id="7-æ€æ ·è®¤è¯†é©¬å…‹æ€æ©æ ¼æ–¯çš„ç§‘å­¦æŠ€æœ¯æ€æƒ³åœ¨é©¬å…‹æ€ä¸»ä¹‰ç†è®ºä½“ç³»ä¸­çš„é‡è¦åœ°ä½ï¼Ÿ"><a href="#7-æ€æ ·è®¤è¯†é©¬å…‹æ€æ©æ ¼æ–¯çš„ç§‘å­¦æŠ€æœ¯æ€æƒ³åœ¨é©¬å…‹æ€ä¸»ä¹‰ç†è®ºä½“ç³»ä¸­çš„é‡è¦åœ°ä½ï¼Ÿ" class="headerlink" title="7.æ€æ ·è®¤è¯†é©¬å…‹æ€æ©æ ¼æ–¯çš„ç§‘å­¦æŠ€æœ¯æ€æƒ³åœ¨é©¬å…‹æ€ä¸»ä¹‰ç†è®ºä½“ç³»ä¸­çš„é‡è¦åœ°ä½ï¼Ÿ"></a>7.æ€æ ·è®¤è¯†é©¬å…‹æ€æ©æ ¼æ–¯çš„ç§‘å­¦æŠ€æœ¯æ€æƒ³åœ¨é©¬å…‹æ€ä¸»ä¹‰ç†è®ºä½“ç³»ä¸­çš„é‡è¦åœ°ä½ï¼Ÿ</h3><p>é©¬å…‹æ€ä¸»ä¹‰ç†è®ºä½“ç³»ï¼Œæ˜¯å…³äºå…¨ä¸–ç•Œæ— äº§é˜¶çº§å’Œå…¨äººç±»å½»åº•è§£æ”¾çš„å­¦è¯´ã€‚å®ƒç”±é©¬å…‹æ€ä¸»ä¹‰å“²å­¦ã€é©¬å…‹æ€ä¸»ä¹‰æ”¿æ²»ç»æµå­¦å’Œç§‘å­¦ç¤¾ä¼šä¸»ä¹‰ä¸‰å¤§éƒ¨åˆ†ç»„æˆï¼Œæ˜¯é©¬å…‹æ€ã€æ©æ ¼æ–¯åœ¨æ‰¹åˆ¤åœ°ç»§æ‰¿å’Œå¸æ”¶äººç±»å…³äºè‡ªç„¶ç§‘å­¦ã€æ€ç»´ç§‘å­¦ã€ç¤¾ä¼šç§‘å­¦ä¼˜ç§€æˆæœçš„åŸºç¡€ä¸Šäº19ä¸–çºª40å¹´ä»£åˆ›ç«‹çš„ï¼Œå¹¶åœ¨å®è·µä¸­ä¸æ–­åœ°ä¸°å¯Œã€å‘å±•å’Œå®Œå–„çš„æ— äº§é˜¶çº§æ€æƒ³çš„ç§‘å­¦ä½“ç³»ã€‚</p><p>é©¬å…‹æ€æ©æ ¼æ–¯ç§‘å­¦æŠ€æœ¯æ€æƒ³è¡¨æ˜äº†ç§‘å­¦æŠ€æœ¯æ˜¯æ¨åŠ¨ç¤¾ä¼šå‘å±•çš„é©å‘½åŠ›é‡ï¼Œé€šè¿‡å¯¹ç§‘å­¦æŠ€æœ¯çš„ç†è§£ã€ç§‘å­¦çš„åˆ†ç±»ã€ç§‘å­¦æŠ€æœ¯ä¸å“²å­¦çš„å…³ç³»ã€ç§‘å­¦æŠ€æœ¯æ˜¯ç”Ÿäº§åŠ›ã€ç§‘å­¦æŠ€æœ¯çš„ç”Ÿäº§åŠ¨å› ã€ç§‘å­¦æŠ€æœ¯çš„ç¤¾ä¼šåŠŸèƒ½ã€ç§‘å­¦æŠ€æœ¯ä¸ç¤¾ä¼šåˆ¶åº¦ã€ç§‘å­¦ä¸æŠ€æœ¯çš„ç›¸äº’å…³ç³»ã€ç§‘å­¦æŠ€æœ¯å¼‚åŒ–ç­‰æ–¹é¢è§‚ç‚¹çš„é˜è¿°ï¼Œæå¤§çš„ä¸°å¯Œå’Œå‘å±•äº†é©¬å…‹æ€ä¸»ä¹‰ç†è®ºï¼Œæœ‰åŠ©äºæŒ‡å¯¼æˆ‘ä»¬æ­£ç¡®åˆ†æç§‘å­¦æŠ€æœ¯åŠå…¶å‘å±•çš„ç†è®ºå’Œç°å®é—®é¢˜ã€‚</p><h3 id="8-é©¬æ©ä¸å›½å¤–å­¦è€…å…³äºç§‘æŠ€çš„æœ¬è´¨åŒºåˆ«p51-55"><a href="#8-é©¬æ©ä¸å›½å¤–å­¦è€…å…³äºç§‘æŠ€çš„æœ¬è´¨åŒºåˆ«p51-55" class="headerlink" title="8.é©¬æ©ä¸å›½å¤–å­¦è€…å…³äºç§‘æŠ€çš„æœ¬è´¨åŒºåˆ«p51-55"></a>8.é©¬æ©ä¸å›½å¤–å­¦è€…å…³äºç§‘æŠ€çš„æœ¬è´¨åŒºåˆ«p51-55</h3><h3 id="9-å¦‚ä½•ç†è§£ç§‘å­¦æŠ€æœ¯ä¸€ä½“åŒ–çš„ç‰¹å¾ï¼Ÿ"><a href="#9-å¦‚ä½•ç†è§£ç§‘å­¦æŠ€æœ¯ä¸€ä½“åŒ–çš„ç‰¹å¾ï¼Ÿ" class="headerlink" title="9.å¦‚ä½•ç†è§£ç§‘å­¦æŠ€æœ¯ä¸€ä½“åŒ–çš„ç‰¹å¾ï¼Ÿ"></a>9.å¦‚ä½•ç†è§£ç§‘å­¦æŠ€æœ¯ä¸€ä½“åŒ–çš„ç‰¹å¾ï¼Ÿ</h3><p>åœ¨äººç±»å†å²ä¸Šï¼Œç§‘å­¦ä¸æŠ€æœ¯ç»å†äº†å‡ æ¬¡åˆ†åˆã€‚ç§‘å­¦ä¸æŠ€æœ¯æºèµ·äºäººç±»çš„ç¤¾ä¼šç”Ÿäº§å®è·µï¼Œæœ¬æ¥æ˜¯å†…åœ¨ç»Ÿä¸€çš„ï¼Œä½†éšç€ç”Ÿäº§åŠ›çš„å‘å±•ï¼Œå‡ºç°äº†è„‘åŠ›åŠ³åŠ¨ä¸ä½“åŠ›åŠ³åŠ¨çš„åˆ†å·¥ï¼Œä¸€éƒ¨åˆ†äººä»å•çº¯çš„ä½“åŠ›åŠ³åŠ¨ä¸­åˆ†åŒ–å‡ºæ¥ï¼Œä¸“é—¨ä»äº‹æ”¿æ²»ã€å®—æ•™ã€è‰ºæœ¯ã€å“²å­¦ç­‰æ´»åŠ¨ï¼Œç§‘å­¦ä¸æŠ€æœ¯ä»æ­¤åˆ†é“æ‰¬é•³ï¼Œç§‘å­¦æ´»åŠ¨ç”±å­¦è€…ä»¬æ‰¿æ‹…ï¼ŒæŠ€æœ¯ç ”ç©¶åˆ™ç”±å·¥åŒ ä»¬æŒæ¡ã€‚åœ¨å¤ä»£ï¼Œç§‘å­¦å¯¹æŠ€æœ¯çš„å½±å“ç”šå¾®ï¼Œæ— è®ºæ˜¯è‡ªç„¶ç»æµæ¡ä»¶ä¸‹çš„å†œä¸šæŠ€æœ¯ï¼Œè¿˜æ˜¯å·¥åŒ çš„æ‰‹å·¥ä¸šæŠ€æœ¯ï¼Œéƒ½æ˜¯å‡­ç»éªŒæŒæ¡å’Œç§¯ç´¯çš„ï¼Œé‚£æ—¶å‡ ä¹æ²¡æœ‰ä»¥ç§‘å­¦çš„åº”ç”¨ä¸ºç‰¹å¾çš„æŠ€æœ¯ï¼Œè€Œåªæœ‰æ‰‹è‰ºã€æŠ€èƒ½â€”â€”å°½ç®¡è¿™äº›ç»éªŒå¯èƒ½å‘å±•åˆ°æƒŠäººçš„æ°´å¹³ã€‚</p><p>ä»15ä¸–çºªä¸‹åŠå¶è¿‘ä»£è‡ªç„¶ç§‘å­¦äº§ç”Ÿä»¥åï¼Œç›´åˆ°19ä¸–çºªçš„ä¸ŠåŠå¶ï¼Œç§‘å­¦çš„å®é™…åº”ç”¨æ‰é€æ­¥æ˜¾ç°æ•ˆèƒ½ã€‚æ­£å¦‚é©¬å…‹æ€æ‰€è¯´ï¼šåªæœ‰åœ¨èµ„æœ¬ä¸»ä¹‰æ¡ä»¶ä¸‹ï¼Œæ‰ç¬¬ä¸€æ¬¡äº§ç”Ÿäº†åªæœ‰ç”¨ç§‘å­¦æ–¹æ³•æ‰èƒ½è§£å†³çš„å®é™…é—®é¢˜ï¼Œæ‰ç¬¬ä¸€æ¬¡è¾¾åˆ°ä½¿ç§‘å­¦çš„åº”ç”¨æˆä¸ºå¯èƒ½å’Œå¿…è¦çš„é‚£æ ·ä¸€ç§è§„æ¨¡ï¼Œç§‘å­¦è·å¾—äº†æˆä¸ºè‡´å¯Œæ‰‹æ®µçš„ä½¿ç”¨ï¼Œå‘æ˜æˆä¸ºä¸€ç§ç‰¹æ®Šçš„èŒä¸šï¼Œç§‘å­¦æˆä¸ºç”Ÿäº§è¿‡ç¨‹çš„å› ç´ ï¼Œç”Ÿäº§è¿‡ç¨‹æˆä¸ºç§‘å­¦çš„åº”ç”¨ã€‚15ä¸–çºªä»¥åï¼Œç§‘å­¦å®éªŒæ´»åŠ¨èå…¥ç§‘å­¦ç ”ç©¶20ç§‘å­¦æˆå°±æ˜¯åœ¨æŠ€æœ¯åŸºç¡€ä¸Šçš„â€œæŠ€æœ¯ç§‘å­¦åŒ–â€çš„ç»“æœï¼ŒæŠ€æœ¯å¯ä»¥äº§ç”Ÿç§‘å­¦ï¼Œâ€œæŠ€æœ¯ç§‘å­¦åŒ–â€è¡¨æ˜:æŠ€æœ¯æ˜¯ç§‘å­¦å‘å±•çš„åŠ¨åŠ› ï¼Œç§‘å­¦éœ€è¦æ¨åŠ¨æŠ€æœ¯å‰è¿›ï¼›æŠ€æœ¯ä¸ºç§‘å­¦çš„å‘å±•æä¾›ç ”ç©¶æ‰‹æ®µï¼Œç‰¹åˆ«æ˜¯ç§‘å­¦å®</p><h3 id="10-ä¸ºä»€ä¹ˆè¯´ç§‘å­¦å‘å±•è¡¨ç°ä¸ºç»§æ‰¿ä¸åˆ›æ–°çš„ç»Ÿä¸€ï¼Ÿï¼ˆp62ï¼‰"><a href="#10-ä¸ºä»€ä¹ˆè¯´ç§‘å­¦å‘å±•è¡¨ç°ä¸ºç»§æ‰¿ä¸åˆ›æ–°çš„ç»Ÿä¸€ï¼Ÿï¼ˆp62ï¼‰" class="headerlink" title="10.ä¸ºä»€ä¹ˆè¯´ç§‘å­¦å‘å±•è¡¨ç°ä¸ºç»§æ‰¿ä¸åˆ›æ–°çš„ç»Ÿä¸€ï¼Ÿï¼ˆp62ï¼‰"></a>10.ä¸ºä»€ä¹ˆè¯´ç§‘å­¦å‘å±•è¡¨ç°ä¸ºç»§æ‰¿ä¸åˆ›æ–°çš„ç»Ÿä¸€ï¼Ÿï¼ˆp62ï¼‰</h3><h3 id="11-æ€æ ·è®¤è¯†æŠ€æœ¯å‘å±•çš„åŠ¨åŠ›ï¼Ÿå¯¹æŠ€æœ¯å…·æœ‰åŒåˆƒå‰‘ä½œç”¨çš„çœ‹æ³•ï¼Ÿ"><a href="#11-æ€æ ·è®¤è¯†æŠ€æœ¯å‘å±•çš„åŠ¨åŠ›ï¼Ÿå¯¹æŠ€æœ¯å…·æœ‰åŒåˆƒå‰‘ä½œç”¨çš„çœ‹æ³•ï¼Ÿ" class="headerlink" title="11.æ€æ ·è®¤è¯†æŠ€æœ¯å‘å±•çš„åŠ¨åŠ›ï¼Ÿå¯¹æŠ€æœ¯å…·æœ‰åŒåˆƒå‰‘ä½œç”¨çš„çœ‹æ³•ï¼Ÿ"></a>11.æ€æ ·è®¤è¯†æŠ€æœ¯å‘å±•çš„åŠ¨åŠ›ï¼Ÿå¯¹æŠ€æœ¯å…·æœ‰åŒåˆƒå‰‘ä½œç”¨çš„çœ‹æ³•ï¼Ÿ</h3><p>æŠ€æœ¯å‘å±•å²ä¸æ–­è¯æ˜,æŠ€æœ¯åƒä¸€æŠŠåŒåˆƒå‰‘,æ—¢æœ‰æœ‰ç›Šäºäººç±»å‘å±•çš„ä¸€é¢,ä¹Ÿæœ‰å±å®³äººç±»åˆ©ç›Šçš„ä¸€é¢ã€‚ä¸€æ–¹é¢ï¼ŒæŠ€æœ¯çš„è¿›æ­¥æ¨åŠ¨äº†ç”Ÿäº§åŠ›å†…éƒ¨å„è¦ç´ çš„å˜é©ï¼Œä¿ƒè¿›äº†äº§ä¸šç»“æ„çš„è°ƒæ•´ã€ç»æµå½¢å¼çš„å˜åŒ–å’Œç»æµå¢é•¿æ–¹å¼çš„å˜åŒ–ï¼Œå®ç°äº†ç»æµè½¬å‹ï¼›å˜é©äº†ç”Ÿäº§å…³ç³»ï¼Œå¢è¿›äº†äººç±»è‡ªç”±è€Œå…¨é¢çš„å‘å±•ï¼Œæ¨åŠ¨äººç±»ç¤¾ä¼šè¿›å…¥å‘å±•çš„æ–°é˜¶æ®µï¼›å°†äººç±»ä»ç¹é‡çš„åŠ³åŠ¨ä¸­è§£æ”¾å‡ºæ¥ï¼Œå¯¹äººç±»çš„ç”Ÿæ´»æ–¹å¼äº§ç”Ÿäº†æ·±åˆ»çš„å½±å“ã€‚å¦ä¸€æ–¹é¢ï¼ŒæŠ€æœ¯çš„è¿›æ­¥ä¹Ÿäº§ç”Ÿäº†ä¸€äº›é“å¾·å’Œä¼¦ç†é—®é¢˜ï¼Œå¦‚å…‹éš†äººçš„ä¼¦ç†é—®é¢˜ã€åŸºå› æ²»ç–—å’ŒåŸºå› å¢å¼ºçš„ä¼¦ç†é—®é¢˜ã€ç½‘ç»œä¼¦ç†é—®é¢˜ã€æ ¸ä¼¦ç†é—®é¢˜ç­‰ã€‚</p><p>å› æ­¤ï¼Œå¿…é¡»ä»¥äººæ°‘ä¸ºä¸­å¿ƒï¼Œå¤§åŠ›å‘å±•äº‹å…³å›½è®¡æ°‘ç”Ÿçš„ç§‘å­¦æŠ€æœ¯ï¼›å¿…é¡»ä»¥å…ˆè¿›çš„æ–‡åŒ–æ¥å¼•å¯¼ï¼Œåè°ƒç§‘å­¦æ–‡åŒ–ä¸äººæ–‡æ–‡åŒ–çš„å†²çªï¼›å¿…é¡»æ”¹å˜å•çº¯æœ‰åˆ©äºç»æµå¢é•¿çš„å€¾å‘ï¼Œèµ°ç»æµå¢é•¿ä¸ç¯å¢ƒä¿æŠ¤åŒèµ¢ä¹‹è·¯ï¼›å¿…é¡»å®¢è§‚å…¨é¢è¯„ä»·ç§‘å­¦æŠ€æœ¯çš„é£é™©å’Œæ”¶ç›Šï¼ŒæŒ‡å®šæ°å½“çš„ç§‘å­¦æŠ€æœ¯å…¬å…±æ”¿ç­–ã€‚</p><h2 id="ç¬¬äºŒç« -ç§‘å­¦æŠ€æœ¯è§‚"><a href="#ç¬¬äºŒç« -ç§‘å­¦æŠ€æœ¯è§‚" class="headerlink" title="ç¬¬äºŒç«  ç§‘å­¦æŠ€æœ¯è§‚"></a>ç¬¬äºŒç«  ç§‘å­¦æŠ€æœ¯è§‚</h2><h3 id="1-å¦‚ä½•ç†è§£18ã€19ä¸–çºªç§‘å­¦æŠ€æœ¯å‘å±•ä¸é©¬å…‹æ€ã€æ©æ ¼æ–¯ç§‘å­¦æŠ€æœ¯æ€æƒ³äº§ç”Ÿçš„å…³ç³»ï¼Ÿ"><a href="#1-å¦‚ä½•ç†è§£18ã€19ä¸–çºªç§‘å­¦æŠ€æœ¯å‘å±•ä¸é©¬å…‹æ€ã€æ©æ ¼æ–¯ç§‘å­¦æŠ€æœ¯æ€æƒ³äº§ç”Ÿçš„å…³ç³»ï¼Ÿ" class="headerlink" title="1.å¦‚ä½•ç†è§£18ã€19ä¸–çºªç§‘å­¦æŠ€æœ¯å‘å±•ä¸é©¬å…‹æ€ã€æ©æ ¼æ–¯ç§‘å­¦æŠ€æœ¯æ€æƒ³äº§ç”Ÿçš„å…³ç³»ï¼Ÿ"></a>1.å¦‚ä½•ç†è§£18ã€19ä¸–çºªç§‘å­¦æŠ€æœ¯å‘å±•ä¸é©¬å…‹æ€ã€æ©æ ¼æ–¯ç§‘å­¦æŠ€æœ¯æ€æƒ³äº§ç”Ÿçš„å…³ç³»ï¼Ÿ</h3><p>18ã€19ä¸–çºªï¼Œå¤©æ–‡å­¦ã€åœ°ç†å­¦ã€ç‰©ç†å­¦ã€åŒ–å­¦ã€è§£å‰–å­¦ã€ç”Ÿç‰©å­¦ç­‰éƒ½æœ‰äº†é•¿è¶³çš„å‘å±•ï¼Œç‰¹åˆ«æ˜¯èƒ½é‡å®ˆæ’ä¸è½¬åŒ–å®šå¾‹ã€ç»†èƒå­¦è¯´å’Œç”Ÿç‰©è¿›åŒ–è®ºä¸‰å¤§å‘ç°ï¼Œä½¿è‡ªç„¶ç§‘å­¦çš„å‘å±•è¿›å…¥äº†ä¸€ä¸ªæ–°æ—¶æœŸï¼Œä¸¤æ¬¡ç§‘æŠ€é©å‘½ä½¿äººç±»è¿›å…¥äº†å·¥ä¸šæ–‡æ˜æ—¶ä»£ã€‚é©¬å…‹æ€ã€æ©æ ¼æ–¯åœ¨æ€»ç»“å’Œæ¦‚æ‹¬19ä¸–çºªç§‘å­¦æŠ€æœ¯æˆæœçš„åŸºç¡€ä¸Šï¼Œå½¢æˆäº†ä»¥è¾©è¯å”¯ç‰©ä¸»ä¹‰ä¸ºç†è®ºåŸºç¡€çš„ç§‘å­¦æŠ€æœ¯æ€æƒ³ã€‚</p><h3 id="2-æ€æ ·è®¤è¯†é©¬å…‹æ€ã€æ©æ ¼æ–¯çš„ç§‘å­¦æŠ€æœ¯æ€æƒ³åœ¨é©¬å…‹æ€ä¸»ä¹‰ç†è®ºä½“ç³»ä¸­çš„åœ°ä½ï¼Ÿ"><a href="#2-æ€æ ·è®¤è¯†é©¬å…‹æ€ã€æ©æ ¼æ–¯çš„ç§‘å­¦æŠ€æœ¯æ€æƒ³åœ¨é©¬å…‹æ€ä¸»ä¹‰ç†è®ºä½“ç³»ä¸­çš„åœ°ä½ï¼Ÿ" class="headerlink" title="2.æ€æ ·è®¤è¯†é©¬å…‹æ€ã€æ©æ ¼æ–¯çš„ç§‘å­¦æŠ€æœ¯æ€æƒ³åœ¨é©¬å…‹æ€ä¸»ä¹‰ç†è®ºä½“ç³»ä¸­çš„åœ°ä½ï¼Ÿ"></a>2.æ€æ ·è®¤è¯†é©¬å…‹æ€ã€æ©æ ¼æ–¯çš„ç§‘å­¦æŠ€æœ¯æ€æƒ³åœ¨é©¬å…‹æ€ä¸»ä¹‰ç†è®ºä½“ç³»ä¸­çš„åœ°ä½ï¼Ÿ</h3><p>é©¬å…‹æ€ä¸»ä¹‰ç§‘å­¦æŠ€æœ¯è§‚æ˜¯åŸºäºé©¬å…‹æ€ã€æ©æ ¼æ–¯çš„ç§‘å­¦æŠ€æœ¯æ€æƒ³ï¼Œå¯¹ç§‘å­¦åŸºç¡€æœºå™¨å‘å±•è§„å¾‹çš„æ¦‚æ‹¬å’Œæ€»ç»“ï¼Œæ˜¯é©¬å…‹æ€ä¸»ä¹‰å…³äºç§‘å­¦æŠ€æœ¯çš„æœ¬ä½“è®ºå’Œè®¤è¯†è®ºã€‚</p><p>ä»è¾©è¯å”¯ç‰©ä¸»ä¹‰å’Œå†å²å”¯ç‰©ä¸»ä¹‰çš„åŸºæœ¬ç«‹åœºå‡ºå‘ï¼Œåœ¨æ€»ä½“ä¸ŠæŠŠæ¡é©¬å…‹æ€ã€æ©æ ¼æ–¯çš„ç§‘å­¦æŠ€æœ¯æ€æƒ³ï¼›é©¬å…‹æ€ä¸»ä¹‰è®¤ä¸ºç§‘å­¦æ˜¯ä¸€èˆ¬ç”Ÿäº§åŠ›ï¼ŒæŠ€æœ¯æ˜¯ç°å®ç”Ÿäº§åŠ›ï¼›ç§‘å­¦æ˜¯è®¤è¯†ä¸–ç•Œï¼ŒæŠ€æœ¯æ˜¯æ”¹é€ ä¸–ç•Œã€‚ç°ä»£ç§‘å­¦å’ŒæŠ€æœ¯å½¢æˆæ—¢æœ‰åŒºåˆ«åˆæœ‰è”ç³»çš„ä½“ç³»ç»“æ„ã€‚</p><h3 id="3-é©¬å…‹æ€ã€æ©æ ¼æ–¯å’Œå›½å¤–å­¦è€…å…³äºç§‘å­¦æŠ€æœ¯æœ¬è´¨çš„åˆ†ææœ‰ä½•ä¸»è¦å·®å¼‚ï¼Ÿ"><a href="#3-é©¬å…‹æ€ã€æ©æ ¼æ–¯å’Œå›½å¤–å­¦è€…å…³äºç§‘å­¦æŠ€æœ¯æœ¬è´¨çš„åˆ†ææœ‰ä½•ä¸»è¦å·®å¼‚ï¼Ÿ" class="headerlink" title="3.é©¬å…‹æ€ã€æ©æ ¼æ–¯å’Œå›½å¤–å­¦è€…å…³äºç§‘å­¦æŠ€æœ¯æœ¬è´¨çš„åˆ†ææœ‰ä½•ä¸»è¦å·®å¼‚ï¼Ÿ"></a>3.é©¬å…‹æ€ã€æ©æ ¼æ–¯å’Œå›½å¤–å­¦è€…å…³äºç§‘å­¦æŠ€æœ¯æœ¬è´¨çš„åˆ†ææœ‰ä½•ä¸»è¦å·®å¼‚ï¼Ÿ</h3><p>ï¼ˆ1ï¼‰é©¬å…‹æ€ã€æ©æ ¼æ–¯å…³äºæŠ€æœ¯æœ¬è´¨ç‰¹å¾çš„åˆ†æ</p><p>  é©¬å…‹æ€ã€æ©æ ¼æ–¯è®¤ä¸ºæŠ€æœ¯åœ¨æœ¬è´¨ä¸Šä½“ç°äº†â€œäººç±»å¯¹è‡ªç„¶çš„å®è·µå…³ç³»â€ï¼ŒæŠ€æœ¯æ˜¯äººçš„æœ¬è´¨åŠ›é‡çš„å¯¹è±¡åŒ–ã€‚<br>  ç¬¬ä¸€ï¼ŒåŠ³åŠ¨èµ„æ–™å»¶é•¿äº†äººçš„è‡ªç„¶çš„è‚¢ä½“ã€‚<br>  ç¬¬äºŒï¼Œå·¥è‰ºå­¦åœ¨æœ¬è´¨ä¸Šæ­ç¤ºå‡ºäººå¯¹è‡ªç„¶çš„èƒ½åŠ¨å…³ç³»ã€‚<br>  ç¬¬ä¸‰ï¼ŒæŠ€æœ¯çš„å‘å±•å¼•èµ·ç”Ÿäº§å…³ç³»çš„å˜é©ã€‚</p><p>ï¼ˆ2ï¼‰å›½å¤–å­¦è€…å¯¹æŠ€æœ¯æœ¬è´¨ç‰¹å¾çš„ç ”ç©¶</p><p>  æ¬§ç¾æŠ€æœ¯å“²å­¦å­˜åœ¨å·¥ç¨‹å­¦çš„å’Œäººæ–‡ä¸»ä¹‰çš„ä¸¤ç§æŠ€æœ¯ç ”ç©¶è·¯çº¿ï¼›æ—¥æœ¬çš„æŠ€æœ¯è®ºåœ¨æŠ€æœ¯çš„æœ¬è´¨é—®é¢˜ä¸Šå½¢æˆäº†â€œæ–¹æ³•æŠ€èƒ½è¯´â€ã€â€œåŠ³åŠ¨æ‰‹æ®µè¯´â€ã€â€œçŸ¥è¯†åº”ç”¨è¯´â€ç­‰è§‚ç‚¹ã€‚è¿™äº›è§‚ç‚¹å„æœ‰ç‰¹è‰²ï¼Œä½†å¤§éƒ½è¡¨ç°å‡ºå¯¹æŠ€æœ¯ç†è§£çš„å•ä¸€æ€§ã€‚<br>  æˆ‘ä»¬éœ€è¦ç”¨é©¬å…‹æ€ä¸»ä¹‰ç§‘å­¦æŠ€æœ¯è§‚è¿›è¡Œåˆ†æè¯„ä»·ã€‚é©¬å…‹æ€ä¸»ä¹‰è®¤ä¸ºï¼ŒæŠ€æœ¯æ˜¯äººç±»ä¸ºæ»¡è¶³è‡ªèº«çš„éœ€è¦ï¼Œåœ¨å®è·µæ´»åŠ¨ä¸­æ ¹æ®å®è·µç»éªŒæˆ–ç§‘å­¦åŸç†æ‰€åˆ›é€ å‘æ˜çš„å„ç§æ‰‹æ®µå’Œæ–¹å¼æ–¹æ³•çš„æ€»å’Œã€‚ä¸»è¦ä½“ç°åœ¨ä¸¤ä¸ªæ–¹é¢ï¼šä¸€æ˜¯æŠ€æœ¯æ´»åŠ¨ï¼Œç‹­ä¹‰çš„æŠ€æœ¯æ˜¯æŒ‡äººç±»åœ¨åˆ©ç”¨è‡ªç„¶ã€æ”¹é€ è‡ªç„¶çš„åŠ³åŠ¨è¿‡ç¨‹ä¸­æ‰€æŒæ¡çš„æ–¹æ³•å’Œæ‰‹æ®µï¼›å¹¿ä¹‰çš„æŠ€æœ¯æ˜¯æŒ‡äººç±»æ”¹é€ è‡ªç„¶ã€æ”¹é€ ç¤¾ä¼šå’Œæ”¹é€ äººç±»è‡ªèº«çš„æ–¹æ³•å’Œæ‰‹æ®µã€‚äºŒæ˜¯æŠ€æœ¯æˆæœï¼ŒåŒ…æ‹¬æŠ€æœ¯ç†è®ºã€æŠ€èƒ½æŠ€å·§ã€æŠ€æœ¯å·¥è‰ºä¸æŠ€æœ¯äº§å“ï¼ˆç‰©è´¨è®¾å¤‡ï¼‰ã€‚<br>  æŠ€æœ¯åœ¨æœ¬è´¨ä¸Šä½“ç°äº†äººå¯¹è‡ªç„¶çš„å®è·µå…³ç³»ï¼Œæ˜¯äººçš„æœ¬è´¨åŠ›é‡çš„å±•ç°ï¼Œå±äºç›´æ¥ç”Ÿäº§åŠ›ï¼Œæ˜¯è‡ªç„¶æ€§å’Œç¤¾ä¼šæ€§ã€ç‰©è´¨æ€§å’Œç²¾ç¥æ€§ã€ä¸­ç«‹æ€§ä¸ä»·å€¼æ€§ã€ä¸»ä½“æ€§å’Œå®¢ä½“æ€§ã€è·ƒè¿æ€§å’Œç§¯ç´¯æ€§çš„ç»Ÿä¸€ã€‚</p><h3 id="4-å¦‚ä½•ç†è§£ç§‘å­¦æŠ€æœ¯ä¸€ä½“åŒ–çš„ç‰¹å¾ï¼Ÿ"><a href="#4-å¦‚ä½•ç†è§£ç§‘å­¦æŠ€æœ¯ä¸€ä½“åŒ–çš„ç‰¹å¾ï¼Ÿ" class="headerlink" title="4.å¦‚ä½•ç†è§£ç§‘å­¦æŠ€æœ¯ä¸€ä½“åŒ–çš„ç‰¹å¾ï¼Ÿ"></a>4.å¦‚ä½•ç†è§£ç§‘å­¦æŠ€æœ¯ä¸€ä½“åŒ–çš„ç‰¹å¾ï¼Ÿ</h3><p>ï¼ˆ1ï¼‰ç°ä»£ç§‘å­¦çš„ä½“ç³»ç»“æ„ç”±å­¦ç§‘ç»“æ„å’ŒçŸ¥è¯†ç»“æ„ç»„æˆ</p><p>  å­¦ç§‘ç»“æ„ç”±åŸºç¡€ç§‘å­¦ã€æŠ€æœ¯ç§‘å­¦ã€å·¥ç¨‹ç§‘å­¦æ„æˆã€‚çŸ¥è¯†ç»“æ„ç”±ç§‘å­¦äº‹å®ã€ç§‘å­¦æ¦‚å¿µã€ç§‘å­¦å®šå¾‹ã€ç§‘å­¦å‡è¯´ã€ç§‘å­¦ç†è®ºæ„æˆã€‚ç°ä»£ç§‘å­¦çš„ä½“ç³»ç»“æ„è¡¨ç°å‡ºç°ä»£ç§‘å­¦çš„å‘å±•è¿‡ç¨‹ï¼Œå…¶ä¸­å­¦ç§‘ç»“æ„å½¢æˆç«‹ä½“çš„æ¶æ„ï¼ŒçŸ¥è¯†ç»“æ„å„è¦ç´ æ¸—é€åœ¨å­¦ç§‘ç»“æ„ç›¸å¯¹åº”çš„è¦ç´ ä¹‹ä¸­ã€‚åŸºç¡€ç§‘å­¦ã€æŠ€æœ¯ç§‘å­¦ã€å·¥ç¨‹ç§‘å­¦éƒ½æ˜¯ç³»ç»ŸåŒ–çš„çŸ¥è¯†ï¼Œéƒ½ä¼šç»è¿‡ä¸€ä¸ªç”±ç§‘å­¦äº‹å®åˆ°ç§‘å­¦ç†è®ºçš„å½¢æˆè¿‡ç¨‹ã€‚</p><p>ï¼ˆ2ï¼‰ç°ä»£æŠ€æœ¯çš„ä½“ç³»ç»“æ„ç”±é—¨ç±»ç»“æ„å’Œå½¢æ€ç»“æ„ç»„æˆ</p><p>  é—¨ç±»ç»“æ„ç”±å®éªŒæŠ€æœ¯ã€åŸºæœ¬æŠ€æœ¯å’Œäº§ä¸šæŠ€æœ¯æ„æˆã€‚<br>  å½¢æ€ç»“æ„ç”±ç»éªŒå½¢æ€çš„æŠ€æœ¯ã€å®ä½“å½¢æ€çš„æŠ€æœ¯å’ŒçŸ¥è¯†å½¢æ€çš„æŠ€æœ¯æ„æˆã€‚<br>  ç°ä»£æŠ€æœ¯çš„ä½“ç³»ç»“æ„è¡¨ç°å‡ºç°ä»£æŠ€æœ¯çš„å‘å±•è¿‡ç¨‹ï¼Œå…¶ä¸­é—¨ç±»ç»“æ„æ˜¯ç«‹ä½“çš„æ¶æ„ï¼Œå½¢æ€ç»“æ„çš„å„è¦ç´ åŒæ ·æ¸—é€å’‹é—¨ç±»ç»“æ„ç›¸å¯¹åº”çš„è¦ç´ å½“ä¸­ã€‚å®éªŒæŠ€æœ¯ã€åŸºæœ¬æŠ€æœ¯å’Œäº§ä¸šæŠ€æœ¯éƒ½åŒ…å«ç»éªŒæŠ€èƒ½ï¼Œéƒ½ä½¿ç”¨å·¥å…·æœºå™¨ï¼Œéƒ½è•´å«äº†çŸ¥è¯†ã€‚<br>  ç°ä»£ç§‘å­¦æŠ€æœ¯ä½“ç³»ç»“æ„çš„ç ”ç©¶è¡¨æ˜ï¼Œç§‘å­¦æŠ€æœ¯åœ¨å„è‡ªçš„å‘å±•ä¸­ï¼Œä¸ä½†æ—¥ç›Šå¤šæ ·åŒ–å’Œç³»ç»ŸåŒ–ï¼Œè€Œä¸”è¶Šæ¥è¶Šå‘ˆç°å‡ºç§‘å­¦æŠ€æœ¯ä¸€ä½“åŒ–çš„ç‰¹å¾ã€‚</p><h3 id="5-ä¸ºä»€ä¹ˆè¯´ç§‘å­¦å‘å±•è¡¨ç°ä¸ºç»§æ‰¿ä¸åˆ›æ–°çš„ç»Ÿä¸€ï¼Ÿ"><a href="#5-ä¸ºä»€ä¹ˆè¯´ç§‘å­¦å‘å±•è¡¨ç°ä¸ºç»§æ‰¿ä¸åˆ›æ–°çš„ç»Ÿä¸€ï¼Ÿ" class="headerlink" title="5.ä¸ºä»€ä¹ˆè¯´ç§‘å­¦å‘å±•è¡¨ç°ä¸ºç»§æ‰¿ä¸åˆ›æ–°çš„ç»Ÿä¸€ï¼Ÿ"></a>5.ä¸ºä»€ä¹ˆè¯´ç§‘å­¦å‘å±•è¡¨ç°ä¸ºç»§æ‰¿ä¸åˆ›æ–°çš„ç»Ÿä¸€ï¼Ÿ</h3><p>ç»§æ‰¿ï¼šå¸‚ç§‘å­¦æŠ€æœ¯å‘å±•ä¸­çš„é‡å˜ï¼Œå®ƒå¯ä½¿ç§‘å­¦çŸ¥è¯†å»¶ç»­ã€æ‰©å¤§å’ŒåŠ æ·±ã€‚ç§‘å­¦æ˜¯ä¸ªå¼€æ”¾ç³»ç»Ÿï¼Œå®ƒåœ¨æ—¶é—´ä¸Šæœ‰ç»§æ‰¿æ€§ï¼Œåœ¨ç©ºé—´ä¸Šæœ‰ç§¯ç´¯æ€§ã€‚åªæœ‰ç»§æ‰¿å·²å‘ç°çš„ç§‘å­¦äº‹å®ã€å·²æœ‰ç†è®ºä¸­çš„æ­£ç¡®ä¸œè¥¿ï¼Œç§‘å­¦æ‰èƒ½å‘å±•ã€ä¸æ–­å®Œå–„ã€‚</p><p>åˆ›æ–°ï¼šæ˜¯äººç±»å¯¹è‡ªç„¶çš„è®¤è¯†å‡ºç°æ–°çš„é£è·ƒï¼Œå¼•èµ·ç§‘å­¦å‘å±•ä¸­çš„è´¨å˜ã€‚åˆ›æ–°æ˜¯ç»§æ‰¿çš„å¿…ç„¶è¶‹åŠ¿å’Œç›®çš„ã€‚</p><p>åœ¨ç§‘å­¦æŠ€æœ¯çš„å‘å±•æ¨¡å¼åŠåŠ¨åŠ›é—®é¢˜ä¸Šï¼Œé©¬å…‹æ€ä¸»ä¹‰è®¤ä¸ºç§‘å­¦å‘å±•åœ¨çºµå‘ä¸Šè¡¨ç°ä¸ºæ¸è¿›ä¸é£è·ƒçš„ç»Ÿä¸€ï¼Œåœ¨æ¨ªå‘ä¸Šè¡¨ç°ä¸ºåˆ†åŒ–ä¸ç»¼åˆçš„ç»Ÿä¸€ï¼Œåœ¨æ€»ä½“è¶‹åŠ¿ä¸Šè¡¨ç°ä¸ºç»§æ‰¿ä¸åˆ›æ–°çš„ç»Ÿä¸€ã€‚</p><p>æŠ€æœ¯çš„å‘å±•ç”±ç¤¾ä¼šéœ€è¦ã€æŠ€æœ¯ç›®çš„åŠç§‘å­¦è¿›æ­¥ç­‰å¤šç§å› ç´ å…±åŒæ¨åŠ¨ã€‚å…¶ä¸­ç¤¾ä¼šéœ€æ±‚ä¸æŠ€æœ¯å‘å±•æ°´å¹³ä¹‹é—´çš„çŸ›ç›¾æ˜¯æŠ€æœ¯å‘å±•çš„åŸºæœ¬åŠ¨åŠ›ï¼ŒæŠ€æœ¯ç›®çš„å’ŒæŠ€æœ¯æ‰‹æ®µä¹‹é—´çš„çŸ›ç›¾æ˜¯æŠ€æœ¯å‘å±•çš„ç›´æ¥åŠ¨åŠ›ï¼Œç§‘å­¦è¿›æ­¥æ˜¯æŠ€æœ¯å‘å±•çš„é‡è¦æ¨åŠ¨åŠ›ã€‚</p><h3 id="6-æ€æ ·è®¤è¯†æŠ€æœ¯å‘å±•çš„åŠ¨åŠ›ï¼Ÿ"><a href="#6-æ€æ ·è®¤è¯†æŠ€æœ¯å‘å±•çš„åŠ¨åŠ›ï¼Ÿ" class="headerlink" title="6.æ€æ ·è®¤è¯†æŠ€æœ¯å‘å±•çš„åŠ¨åŠ›ï¼Ÿ"></a>6.æ€æ ·è®¤è¯†æŠ€æœ¯å‘å±•çš„åŠ¨åŠ›ï¼Ÿ</h3><p>é©¬å…‹æ€ä¸»ä¹‰è®¤ä¸ºï¼ŒæŠ€æœ¯çš„å‘å±•ç”±ç¤¾ä¼šéœ€è¦ã€æŠ€æœ¯ç›®çš„ä»¥åŠç§‘å­¦è¿›æ­¥ç­‰å¤šç§å› ç´ å…±åŒæ¨åŠ¨ã€‚</p><p>ï¼ˆ1ï¼‰ç¤¾ä¼šéœ€æ±‚ä¸æŠ€æœ¯å‘å±•æ°´å¹³ä¹‹é—´çš„çŸ›ç›¾æ˜¯æŠ€æœ¯å‘å±•çš„åŸºæœ¬åŠ¨åŠ›<br>  ä»»ä½•æŠ€æœ¯ï¼Œæœ€æ—©éƒ½æºäºäººç±»çš„éœ€è¦ã€‚æ­£æ˜¯ä¸ºäº†ç”Ÿå­˜å‘å±•çš„éœ€è¦ï¼Œäººç±»èµ·åˆæ¨¡ä»¿è‡ªç„¶ï¼Œè¿›è€Œè¿›è¡Œåˆ›é€ ï¼Œå‘æ˜äº†å„ç§æŠ€æœ¯ã€‚åŒæ—¶ï¼Œæ–‡åŒ–å¯¹æŠ€æœ¯å‘å±•å…·æœ‰æ˜æ˜¾çš„å¼ åŠ›ä½œç”¨ã€‚å…ˆè¿›çš„æ€æƒ³æ–‡åŒ–ä¼šæ¨åŠ¨æŠ€æœ¯çš„å‘å±•ï¼Œè€Œè½åçš„æ€æƒ³æ–‡åŒ–åˆ™ä¼šåˆ¶çº¦å’Œé˜»ç¢æŠ€æœ¯çš„å‘å±•ï¼ŒåŒ…æ‹¬å½±åƒæŠ€æœ¯å†³ç­–ã€æŠ€æœ¯ç ”å‘ä»¥åŠæŠ€æœ¯æˆæœçš„äº§ä¸šåŒ–å„æ–¹é¢ã€‚</p><p>ï¼ˆ2ï¼‰æŠ€æœ¯ç›®çš„å’ŒæŠ€æœ¯æ‰‹æ®µä¹‹é—´çš„çŸ›ç›¾æ˜¯æŠ€æœ¯å‘å±•çš„ç›´æ¥åŠ¨åŠ›<br>  æŠ€æœ¯ç›®çš„å°±æ˜¯åœ¨æŠ€æœ¯å®è·µè¿‡ç¨‹ä¸­åœ¨è§‚å¿µä¸Šé¢„å…ˆå»ºç«‹çš„æŠ€æœ¯ç»“æœçš„ä¸»è§‚å½¢è±¡ï¼Œæ˜¯æŠ€æœ¯å®è·µçš„å†…åœ¨è¦æ±‚ï¼Œå½±å“å¹¶è´¯ç©¿æŠ€æœ¯å®è·µçš„å…¨è¿‡ç¨‹ã€‚æŠ€æœ¯æ‰‹æ®µå³å®ç°æŠ€æœ¯ç›®çš„ä¸­ä»‹å› ç´ ï¼ŒåŒ…æ‹¬å®ç°æŠ€æœ¯ç›®çš„çš„å·¥å…·å’Œå®ç”¨å·¥å…·çš„å½¢å¼ã€‚æŠ€æœ¯ç›®çš„çš„æå‡ºå’Œå®ç°ï¼Œå¿…é¡»ä¾èµ–äºä¸ä¹‹ç›¸åŒ¹é…çš„æŠ€æœ¯æ‰‹æ®µã€‚æŠ€æœ¯æ‰‹æ®µæ˜¯å®ç°æŠ€æœ¯ç›®çš„çš„ä¸­ä»‹å’Œä¿è¯ï¼Œå®ƒåŒ…æ‹¬è¾¾åˆ°æŠ€æœ¯åŠŸèƒ½è¦æ±‚æ‰€ä½¿ç”¨çš„å·¥å…·ä»¥åŠåº”ç”¨å·¥å…·çš„æ–¹å¼ã€‚</p><p>ï¼ˆ3ï¼‰ç§‘å­¦è¿›æ­¥æ˜¯æŠ€æœ¯å‘å±•çš„é‡è¦æ¨åŠ¨åŠ›<br>  19ä¸–çºªä¸­æœŸä»¥åï¼Œç§‘å­¦èµ°åˆ°äº†æŠ€æœ¯å‰é¢ï¼Œæˆä¸ºæŠ€æœ¯å‘å±•çš„ç†è®ºå‘å¯¼ã€‚ç§‘å­¦é©å‘½å¯¼è‡´æŠ€æœ¯é©å‘½ï¼ŒæŠ€æœ¯å‘å±•å¯¹ç§‘å­¦è¿›æ­¥çš„ä¾èµ–ç¨‹åº¦è¶Šæ¥è¶Šé«˜ï¼ŒæŠ€æœ¯å·²æˆä¸ºç§‘å­¦çš„åº”ç”¨ã€‚å°¤å…¶æ˜¯å½“ä»Šç¤¾ä¼šçš„å‘å±•ï¼Œå·²å½¢æˆäº†ç§‘å­¦æŠ€æœ¯ä¸€ä½“åŒ–çš„åŒå‘äº’åŠ¨è¿‡ç¨‹ã€‚</p><h2 id="ç¬¬ä¸‰ç« -ç§‘å­¦æŠ€æœ¯æ–¹æ³•è®º"><a href="#ç¬¬ä¸‰ç« -ç§‘å­¦æŠ€æœ¯æ–¹æ³•è®º" class="headerlink" title="ç¬¬ä¸‰ç«  ç§‘å­¦æŠ€æœ¯æ–¹æ³•è®º"></a>ç¬¬ä¸‰ç«  ç§‘å­¦æŠ€æœ¯æ–¹æ³•è®º</h2><h3 id="1-å¦‚ä½•ç†è§£é©¬å…‹æ€ä¸»ä¹‰ç§‘å­¦æŠ€æœ¯æ–¹æ³•è®ºä¸ç§‘å­¦ç ”ç©¶ä¸­çš„å…·ä½“æ–¹æ³•çš„å…³ç³»ï¼Ÿ"><a href="#1-å¦‚ä½•ç†è§£é©¬å…‹æ€ä¸»ä¹‰ç§‘å­¦æŠ€æœ¯æ–¹æ³•è®ºä¸ç§‘å­¦ç ”ç©¶ä¸­çš„å…·ä½“æ–¹æ³•çš„å…³ç³»ï¼Ÿ" class="headerlink" title="1.å¦‚ä½•ç†è§£é©¬å…‹æ€ä¸»ä¹‰ç§‘å­¦æŠ€æœ¯æ–¹æ³•è®ºä¸ç§‘å­¦ç ”ç©¶ä¸­çš„å…·ä½“æ–¹æ³•çš„å…³ç³»ï¼Ÿ"></a>1.å¦‚ä½•ç†è§£é©¬å…‹æ€ä¸»ä¹‰ç§‘å­¦æŠ€æœ¯æ–¹æ³•è®ºä¸ç§‘å­¦ç ”ç©¶ä¸­çš„å…·ä½“æ–¹æ³•çš„å…³ç³»ï¼Ÿ</h3><p>é©¬å…‹æ€ä¸»ä¹‰çš„ç§‘å­¦æŠ€æœ¯æ–¹æ³•è®ºæ˜¯ä»¥è¾©è¯å”¯ç‰©ä¸»ä¹‰ç«‹åœºã€è§‚ç‚¹ä¸ºåŸºç¡€ï¼Œå¸å–å…·ä½“ç§‘å­¦æŠ€æœ¯ç ”ç©¶ä¸­çš„åŸºæœ¬æ–¹æ³•ï¼Œå¹¶å¯¹å…¶è¿›è¡Œæ¦‚æ‹¬å’Œå‡åçš„æ–¹æ³•è®ºã€‚</p><p>ç§‘å­¦æŠ€æœ¯ç ”ç©¶ï¼Œç¦»ä¸å¼€è¾©è¯æ€ç»´ã€‚åˆ†æä¸ç»¼åˆã€å½’çº³ä¸æ¼”ç»ã€ä»æŠ½è±¡åˆ°å…·ä½“ã€å†å²ä¸é€»è¾‘çš„ç»Ÿä¸€ï¼Œè¿™äº›è¾©è¯æ€ç»´çš„å½¢å¼ä½“ç°å’Œè´¯å½»åœ¨ç§‘å­¦å®¶ã€å·¥ç¨‹å¸ˆçš„å…·ä½“ç§‘å­¦æŠ€æœ¯ç ”ç©¶ä¸­ã€‚è‡ªè§‰çš„è®¤è¯†å’Œæå‡è¿™äº›è¾©è¯æ€ç»´çš„å½¢å¼ï¼Œå¯¹äºæ ‘ç«‹ï¼Œé©¬å…‹æ€ä¸»ä¹‰ç§‘å­¦æŠ€æœ¯è§‚ï¼Œæ·±å…¥ç ”ç©¶ç§‘å­¦æŠ€æœ¯ï¼Œå»ºè®¾åˆ›æ–°å‹å›½å®¶å…·æœ‰é‡è¦æ„ä¹‰ã€‚</p><h3 id="2-å¦‚ä½•ç†è§£è¾©è¯æ€ç»´æ¸—é€åœ¨ç§‘å­¦ç ”ç©¶çš„å…¨éƒ¨è¿‡ç¨‹ä¸­ï¼Ÿ"><a href="#2-å¦‚ä½•ç†è§£è¾©è¯æ€ç»´æ¸—é€åœ¨ç§‘å­¦ç ”ç©¶çš„å…¨éƒ¨è¿‡ç¨‹ä¸­ï¼Ÿ" class="headerlink" title="2.å¦‚ä½•ç†è§£è¾©è¯æ€ç»´æ¸—é€åœ¨ç§‘å­¦ç ”ç©¶çš„å…¨éƒ¨è¿‡ç¨‹ä¸­ï¼Ÿ"></a>2.å¦‚ä½•ç†è§£è¾©è¯æ€ç»´æ¸—é€åœ¨ç§‘å­¦ç ”ç©¶çš„å…¨éƒ¨è¿‡ç¨‹ä¸­ï¼Ÿ</h3><p>é©¬å…‹æ€ä¸»ä¹‰ç§‘å­¦æŠ€æœ¯æ–¹æ³•è®ºçš„æ ¸å¿ƒå°±æ˜¯è¾©è¯æ€ç»´ã€‚é©¬å…‹æ€ä¸»ä¹‰ç§‘å­¦æŠ€æœ¯æ–¹æ³•è®ºçš„åŸºæœ¬åŸåˆ™å°±æ˜¯æŠŠè¾©è¯æ³•è´¯å½»åˆ°ç§‘å­¦æŠ€æœ¯ç ”ç©¶ä¸­ï¼Œä»¥å¯¹ç«‹ç»Ÿä¸€ã€è´¨é‡äº’å˜å’Œå¦å®šä¹‹å¦å®šçš„è¾©è¯æ€æƒ³æ¸—é€åˆ°å…·ä½“çš„ç§‘å­¦æŠ€æœ¯ç ”ç©¶ä¸­ï¼ŒæŠŠæ¡å…·ä½“ç§‘å­¦æŠ€æœ¯çš„ç ”ç©¶è¿‡ç¨‹ã€‚</p><h3 id="3-å¦‚ä½•æŠŠæ¡åˆ›é€ æ€§æ€ç»´ç‰¹æ€§ï¼Ÿ"><a href="#3-å¦‚ä½•æŠŠæ¡åˆ›é€ æ€§æ€ç»´ç‰¹æ€§ï¼Ÿ" class="headerlink" title="3.å¦‚ä½•æŠŠæ¡åˆ›é€ æ€§æ€ç»´ç‰¹æ€§ï¼Ÿ"></a>3.å¦‚ä½•æŠŠæ¡åˆ›é€ æ€§æ€ç»´ç‰¹æ€§ï¼Ÿ</h3><p>åˆ›é€ æ˜¯ç§‘å­¦ç ”ç©¶å’ŒæŠ€æœ¯å‘æ˜æœ€é‡è¦ç‰¹æ€§ä¹‹ä¸€ã€‚åˆ›é€ æ€§æ€ç»´ä¸æ˜¯åœ¨æ‰€æœ‰è¾©è¯æ€ç»´å’Œç§‘å­¦ç ”ç©¶æ–¹æ³•ä¹‹å¤–ç‹¬ç«‹çš„ä¸€ç§æ€ç»´æ–¹å¼æˆ–æ–¹æ³•ï¼Œæ˜¯èƒ½å¤Ÿæå‡ºåˆ›è§çš„æ€ç»´ï¼Œä¸ä¸€èˆ¬æ€§æ€ç»´ç›¸æ¯”ï¼Œæ˜¯åœ¨æ€ç»´ç‰¹å¾æ–¹é¢ä¸åˆ»æ¿ï¼Œç»„åˆå„ç§æ€ç»´ã€çµæ´»è°ƒç”¨æ€ç»´çš„ç‰¹æ€§ã€‚</p><p>åˆ›é€ æ€§æ€ç»´çš„ç‰¹ç‚¹æ˜¯æ€ç»´æ–¹å‘çš„æ±‚å¼‚æ€§ï¼Œæ€ç»´ç»“æ„çš„çµæ´»æ€§ã€æ€ç»´è¿›ç¨‹çš„é£è·ƒæ€§ã€æ€ç»´æ•ˆæœçš„æ•´ä½“æ€§ã€æ€ç»´è¡¨è¾¾çš„æ–°é¢–æ€§ç­‰ã€‚</p><p>åˆ›é€ æ€§æ€ç»´ç‰¹åˆ«æ³¨é‡é€»è¾‘æ€ç»´ä¸éé€»è¾‘æ€ç»´çš„ç»Ÿä¸€ã€æŠ½è±¡æ€ç»´ä¸å½¢è±¡æ€ç»´çš„è¾©è¯ç»Ÿä¸€ã€‚</p><h3 id="4-æ³¨æ„å¤šå­¦ç§‘çš„äº¤å‰ä¸èè´¯æœ‰ä½•æ–¹æ³•è®ºæ„ä¹‰ï¼Ÿ"><a href="#4-æ³¨æ„å¤šå­¦ç§‘çš„äº¤å‰ä¸èè´¯æœ‰ä½•æ–¹æ³•è®ºæ„ä¹‰ï¼Ÿ" class="headerlink" title="4.æ³¨æ„å¤šå­¦ç§‘çš„äº¤å‰ä¸èè´¯æœ‰ä½•æ–¹æ³•è®ºæ„ä¹‰ï¼Ÿ"></a>4.æ³¨æ„å¤šå­¦ç§‘çš„äº¤å‰ä¸èè´¯æœ‰ä½•æ–¹æ³•è®ºæ„ä¹‰ï¼Ÿ</h3><p>ç§»æ¤å’Œå­¦ç§‘äº¤å‰æˆ–è·¨å­¦ç§‘çš„ç ”ç©¶æ–¹æ³•ï¼Œæ˜¯åˆ›é€ æ€§æ€ç»´çš„ä¸¤ç§éå¸¸æœ‰æ•ˆçš„ç ”ç©¶æ–¹æ³•ã€‚å½“ä»£ç§‘å­¦ç ”ç©¶å’ŒæŠ€æœ¯å‘æ˜å˜å¾—è¶Šæ¥è¶Šå¤æ‚ï¼Œè¿›è¡Œç§»æ¤ä¸äº¤å‰ï¼Œé€šè¿‡å¤šå­¦ç§‘æˆ–è·¨å­¦ç§‘çš„ç ”ç©¶ï¼Œå¸¸å¸¸èƒ½å¤Ÿè·å¾—å•ä¸€å­¦ç§‘ç ”ç©¶æ— æ³•è·å¾—çš„åˆ›æ–°æˆæœã€‚å¤šå­¦ç§‘èåˆæˆ–é€šè¿‡è·¨å­¦ç§‘ç ”ç©¶é—®é¢˜ä¹Ÿæ˜¯å½“ä»£ç§‘å­¦å’ŒæŠ€æœ¯è§£å†³é—®é¢˜çš„åˆ›é€ æ€§æ–¹æ³•ï¼Œä½“ç°äº†å¹¿æ³›è”ç³»å’Œå‘å±•çš„è¾©è¯æ³•ã€‚</p><p>å½“ä»£å„é—¨ç§‘å­¦ä¹‹é—´çš„äº¤å‰å‹è¶Šæ¥è¶Šå¤§ï¼Œé€šè¿‡å­¦ç§‘ä¹‹é—´çš„äº¤å‰å¾€å¾€å¯ä»¥è·å¾—æ–°çš„è®¤è¯†ï¼Œå¸¦æ¥åˆ›æ–°ã€‚å­¦ç§‘äº¤å‰æˆä¸ºä¸€ç§æ–°çš„æ€è€ƒæ–¹å¼å’Œç ”ç©¶æ–¹æ³•ã€‚</p><p>æ‰€è°“å­¦ç§‘äº¤å‰æ–¹æ³•ï¼Œå°±æ˜¯ä¸¤é—¨ä»¥ä¸Šçš„å­¦ç§‘ä¹‹é—´åœ¨é¢å¯¹åŒä¸€ç ”ç©¶å¯¹è±¡æ—¶ï¼Œä»ä¸åŒå­¦ç§‘çš„è§’åº¦è¿›è¡Œæ¯”å¯¹ç ”ç©¶çš„æ–¹æ³•ã€‚å€Ÿé‰´å…¶ä»–å­¦ç§‘çš„ç ”ç©¶ï¼Œæ€è€ƒæœ¬å­¦ç§‘çš„é—®é¢˜å’Œå¯¹è±¡ï¼Œèåˆå…¶ä»–å­¦ç§‘çš„ç ”ç©¶æ–¹æ³•ï¼Œä»¥è¾¾åˆ°å¯¹ç ”ç©¶å¯¹è±¡çš„æ–°è®¤è¯†ã€‚</p><p>æ‰€è°“è·¨å­¦ç§‘æ–¹æ³•å°±æ˜¯é€šè¿‡å¤šå­¦ç§‘çš„åä½œå…±åŒè§£å†³åŒä¸€é—®é¢˜çš„æ–¹æ³•ï¼Œè·¨å­¦ç§‘ä¹Ÿæ˜¯ä¸€ç§å­¦ç§‘èåˆçš„æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥ç§°ä¸ºå¤šç»´èè´¯çš„æ–¹æ³•ã€‚</p><h3 id="5-æˆ˜ç•¥æ€§æ€ç»´å¯¹äºç§‘å­¦ç ”ç©¶æœ‰ä½•æ„ä¹‰ï¼Ÿ"><a href="#5-æˆ˜ç•¥æ€§æ€ç»´å¯¹äºç§‘å­¦ç ”ç©¶æœ‰ä½•æ„ä¹‰ï¼Ÿ" class="headerlink" title="5.æˆ˜ç•¥æ€§æ€ç»´å¯¹äºç§‘å­¦ç ”ç©¶æœ‰ä½•æ„ä¹‰ï¼Ÿ"></a>5.æˆ˜ç•¥æ€§æ€ç»´å¯¹äºç§‘å­¦ç ”ç©¶æœ‰ä½•æ„ä¹‰ï¼Ÿ</h3><p>æˆ˜ç•¥æ€§æ€ç»´æ˜¯å¯¹æˆ˜ç•¥ç§‘å­¦å®¶çš„æ€ç»´è¦æ±‚ã€‚åŒæ—¶å¯¹äºä¸€ä¸ªä»äº‹ä¸€èˆ¬ç§‘å­¦ç ”ç©¶ã€æŠ€æœ¯å‘æ˜å’Œå·¥ç¨‹å»ºè®¾çš„ç§‘å­¦å®¶ä¹Ÿæœ‰é‡è¦æ„ä¹‰ã€‚ä¹ è¿‘å¹³éå¸¸é‡è§†æˆ˜ç•¥æ€§æ€ç»´çš„é‡è¦ä½œç”¨ä¸æ·±åˆ»æ„ä¹‰ï¼Œæ˜¯å…¶æå‡ºçš„â€œå…­å¤§æ€ç»´â€ä¹‹ä¸€ï¼Œæˆ˜ç•¥æ€§æ€ç»´å¯¹äºç§‘å­¦ç ”ç©¶è€Œè¨€ï¼Œéå¸¸é‡è¦ã€‚</p><p>æˆ˜ç•¥æ€§æ€ç»´æ˜¯é«˜ç»è¿œç©ã€ç»Ÿæ½å…¨å±€ã€å–„äºæŠŠæ¡äº‹ç‰©å‘å±•æ€»ä½“è¶‹åŠ¿å’Œæ–¹å‘çš„æ€ç»´æ–¹æ³•ï¼Œå±•ç¤ºçš„æ˜¯çœ‹é—®é¢˜çš„é«˜åº¦å’Œæ·±åº¦ã€‚å¤äººè®²ï¼šâ€œä¸è°‹ä¸‡ä¸–è€…ï¼Œä¸è¶³è°‹ä¸€æ—¶ï¼›ä¸è°‹å…¨å±€è€…ï¼Œä¸è¶³è°‹ä¸€åŸŸã€‚â€ç§‘å­¦å®¶ä¸å·¥ç¨‹å¸ˆæ²¡æœ‰æˆ˜ç•¥æ€§æ€ç»´ã€å…·æœ‰ä»€ä¹ˆæ ·çš„æˆ˜ç•¥æ€§æ€ç»´ï¼Œä¸€å®šç¨‹åº¦ä¸Šå†³å®šç€åœ¨ä¸­å›½ç‰¹è‰²ç¤¾ä¼šä¸»ä¹‰ä¼Ÿå¤§äº‹ä¸šä¸­çš„ç§‘å­¦æŠ€æœ¯ç ”ç©¶èƒ½ç™»å¤šé«˜ã€èƒ½èµ°å¤šè¿œã€å°†æŠµè¾¾ä½•å¤„ã€‚æˆ˜ç•¥æ€§æ€ç»´èƒ½åŠ›çš„å¼ºå¼±ï¼Œå–å†³äºæ€è€ƒé—®é¢˜çš„é«˜åº¦ã€ç†è®ºç ”ç©¶çš„æ·±åº¦ã€çŸ¥è¯†è§†é‡çš„å¹¿åº¦ï¼Œä»¥åŠå¯¹äºç§‘å­¦æŠ€æœ¯å‘å±•å…¨å±€çš„æ—¶é—´è·¨åº¦çš„è®¤è¯†ä¸æŠŠæ¡ã€‚</p><p>å¯¹äºå›½å®¶è€Œè¨€ï¼Œç§‘å­¦æŠ€æœ¯çš„æ€»ä½“è§„åˆ’æ˜¯ä¸€ç§ç§‘å­¦æŠ€æœ¯ç ”ç©¶çš„æˆ˜ç•¥ï¼Œæˆ˜ç•¥ç§‘å­¦å®¶éœ€è¦æŒæ¡å›½å®¶ç§‘å­¦æŠ€æœ¯çš„åŸºæœ¬æˆ˜ç•¥ï¼ŒæŒ‰ç…§å›½å®¶éœ€è¦ï¼Œç»“åˆè‡ªå·±åŠå…¶ç ”ç©¶å›¢é˜Ÿçš„ç ”ç©¶ç¡®å®šç§‘å­¦ç ”ç©¶æ–¹å‘ã€‚</p><h2 id="ç¬¬å››ç« -ç§‘å­¦æŠ€æœ¯ç¤¾ä¼šè®º"><a href="#ç¬¬å››ç« -ç§‘å­¦æŠ€æœ¯ç¤¾ä¼šè®º" class="headerlink" title="ç¬¬å››ç«  ç§‘å­¦æŠ€æœ¯ç¤¾ä¼šè®º"></a>ç¬¬å››ç«  ç§‘å­¦æŠ€æœ¯ç¤¾ä¼šè®º</h2><h3 id="1-ä¸ºä»€ä¹ˆè¯´â€œç§‘å­¦æ˜¯ä¸€ç§åœ¨å†å²ä¸Šèµ·æ¨åŠ¨ä½œç”¨çš„ã€é©å‘½çš„åŠ›é‡â€ï¼Ÿ"><a href="#1-ä¸ºä»€ä¹ˆè¯´â€œç§‘å­¦æ˜¯ä¸€ç§åœ¨å†å²ä¸Šèµ·æ¨åŠ¨ä½œç”¨çš„ã€é©å‘½çš„åŠ›é‡â€ï¼Ÿ" class="headerlink" title="1.ä¸ºä»€ä¹ˆè¯´â€œç§‘å­¦æ˜¯ä¸€ç§åœ¨å†å²ä¸Šèµ·æ¨åŠ¨ä½œç”¨çš„ã€é©å‘½çš„åŠ›é‡â€ï¼Ÿ"></a>1.ä¸ºä»€ä¹ˆè¯´â€œç§‘å­¦æ˜¯ä¸€ç§åœ¨å†å²ä¸Šèµ·æ¨åŠ¨ä½œç”¨çš„ã€é©å‘½çš„åŠ›é‡â€ï¼Ÿ</h3><p>   ç§‘å­¦æŠ€æœ¯æ˜¯å†å²å‘å±•çš„ç«è½¦å¤´ï¼Œæ”¹å˜äº†ç¤¾ä¼šå†å²è¿›ç¨‹ï¼Œé€ å°±äº†æ–°çš„ç¤¾ä¼šå½¢æ€;æ¨åŠ¨äº†ç”Ÿäº§åŠ›å†…éƒ¨å„è¦ç´ çš„å˜é©ï¼Œå¼•å‘äº†äº§ä¸šç»“æ„çš„è°ƒæ•´ã€ç»æµå½¢å¼çš„å˜åŒ–å’Œç»æµå¢é•¿æ–¹å¼çš„è½¬å˜ï¼Œé€ å°±äº†ç»æµè½¬å‹;äº§ç”Ÿäº†æŠ€æœ¯å¼‚åŒ–ç°è±¡ï¼Œè¦å¯¹å¼‚åŒ–çš„èµ„æœ¬ä¸»ä¹‰åˆ¶åº¦å±•å¼€æ‰¹åˆ¤ï¼Œæ›´å¥½åœ°å‘æŒ¥ç§‘å­¦æŠ€æœ¯çš„ç¤¾ä¼šåŠŸèƒ½ã€‚<br> ç§‘å­¦æŠ€æœ¯ä½œä¸ºç¤¾ä¼šå‘å±•çš„åŠ¨åŠ›,æ˜¯é©¬å…‹æ€ä¸»ä¹‰çš„åŸºæœ¨è§‚ç‚¹ã€‚ç§‘å­¦æ˜¯ç”Ÿäº§åŠ›çš„â€œçŸ¥è¯†çš„å½¢æ€â€ã€‚ä½œä¸ºç”Ÿäº§åŠ›çš„ç§‘å­¦æŠ€æœ¯ï¼Œèƒ½å¤Ÿå¤§å¤§æé«˜ç¤¾ä¼šç”Ÿäº§åŠ›æ°´å¹³ï¼Œæ¨åŠ¨ç€æ•´ä¸ªäººç±»ç‰©è´¨ç”Ÿäº§çš„è¿…çŒ›å‘å±•ã€‚<br> ä½œä¸ºå¼ºå¤§çš„ç²¾ç¥åŠ›é‡çš„ç§‘å­¦æŠ€æœ¯ï¼Œèƒ½å¤Ÿä¿ƒè¿›äººç±»æ€æƒ³çš„è§£æ”¾ï¼Œåœ¨äº§ä¸šé©å‘½çš„åŸºç¡€ä¸Šï¼Œæ¨åŠ¨ç¤¾ä¼šå˜é©ï¼Œå¯¹ç¤¾ä¼šç”Ÿäº§å…³ç³»äº§ç”Ÿæœ‰åŠ›å½±å“ã€‚<br> ä½œä¸ºäººç±»æœ€ç»ˆèµ°å‘ç™½ç”±çš„ç§‘å­¦æŠ€æœ¯ï¼Œèƒ½å¤Ÿä½œä¸ºè§£æ”¾çš„æ æ†ï¼Œå¢è¿›äººç±»ç²¾ç¥ç”Ÿæ´»çš„ä¸°å¯Œæ€§å’Œè‡ªæˆ‘å‘å±•èƒ½åŠ›ï¼Œæœ‰åŠ©äºå®ç°äººçš„å…¨é¢è‡ªç”±çš„å‘å±•ã€‚</p><h3 id="2-å¦‚ä½•çœ‹å¾…ç§‘å­¦æŠ€æœ¯å¯¹äººçš„å¼‚åŒ–å’Œå¯¹è‡ªç„¶çš„å¼‚åŒ–ï¼Ÿ"><a href="#2-å¦‚ä½•çœ‹å¾…ç§‘å­¦æŠ€æœ¯å¯¹äººçš„å¼‚åŒ–å’Œå¯¹è‡ªç„¶çš„å¼‚åŒ–ï¼Ÿ" class="headerlink" title="2.å¦‚ä½•çœ‹å¾…ç§‘å­¦æŠ€æœ¯å¯¹äººçš„å¼‚åŒ–å’Œå¯¹è‡ªç„¶çš„å¼‚åŒ–ï¼Ÿ"></a>2.å¦‚ä½•çœ‹å¾…ç§‘å­¦æŠ€æœ¯å¯¹äººçš„å¼‚åŒ–å’Œå¯¹è‡ªç„¶çš„å¼‚åŒ–ï¼Ÿ</h3><p> ç§‘æŠ€å¼‚åŒ–å®è´¨ä¸Šæ˜¯åœ¨èµ„æœ¬ä¸»ä¹‰åˆ¶åº¦ä¸‹åŠ³åŠ¨å¼‚åŒ–å’Œäººçš„å¼‚åŒ–ä¸€ç§å¿…ç„¶ç»“æœã€‚ç”±äºåŠ³åŠ¨æ˜¯äººçš„æœ€æ ¹æœ¬æœ€ç°å®çš„å®è·µæ´»åŠ¨ï¼Œæ˜¯äººåŠäººç±»ç¤¾ä¼šå­˜åœ¨çš„æ ¹æœ¬æ–¹å¼ï¼ŒåŠ³åŠ¨çš„å¼‚åŒ–å¿…ç„¶å¸¦æ¥äººçš„å…¶ä»–ç¤¾ä¼šæ´»åŠ¨å’Œç¤¾ä¼šå…³ç³»çš„å…¨é¢å¼‚åŒ–ï¼Œç§‘å­¦æŠ€æœ¯ä¹Ÿä¸ä¾‹å¤–ï¼Œå› ä¸ºâ€œå®—æ•™ã€å®¶åº­ã€å›½å®¶ã€æ³•ã€é“å¾·ã€ç§‘å­¦ã€è‰ºæœ¯ç­‰ç­‰ï¼Œéƒ½ä¸è¿‡æ˜¯ç”Ÿäº§çš„ä¸€äº›ç‰¹æ®Šçš„æ–¹å¼ï¼Œå¹¶ä¸”å—ç”Ÿäº§çš„æ™®éè§„å¾‹çš„æ”¯é…ã€‚â€</p><p> å› æ­¤ï¼Œç§‘å­¦æŠ€æœ¯ä½œä¸ºåŠ³åŠ¨äº¦å³äººå¤„ç†è‡ªèº«ä¸è‡ªç„¶ç•Œå…³ç³»çš„ç¤¾ä¼šæ´»åŠ¨çš„äº§ç‰©ï¼Œä¹Ÿå¿…ç„¶éšç€èµ„æœ¬ä¸»ä¹‰ç¤¾ä¼šåŠ³åŠ¨çš„å¼‚åŒ–è€Œè¡¨ç°å‡ºå¼‚åŒ–çš„ç°è±¡ã€‚æœ€æ ¹æœ¬çš„æ˜¯è¦æ¶ˆç­å¯¹ç§‘å­¦æŠ€æœ¯çš„èµ„æœ¬ä¸»ä¹‰åˆ©ç”¨æ–¹å¼ï¼ŒæŠŠç°ä»£ç§‘å­¦æŠ€æœ¯ä»èµ„æœ¬ä¸»ä¹‰åˆ¶åº¦ä¸‹è§£æ”¾å‡ºæ¥ã€‚ä¹Ÿå°±æ˜¯è¯´åªæœ‰é€šè¿‡æ— äº§é˜¶çº§é©å‘½æ¥æœ€ç»ˆè§£å†³èµ„æœ¬ä¸»ä¹‰çš„ç§‘æŠ€å¼‚åŒ–é—®é¢˜ã€‚å½“ç„¶ï¼Œåœ¨é©¬å…‹æ€çœ‹æ¥ï¼Œå¼‚åŒ–çš„å®Œå…¨å…‹æœåªæœ‰åœ¨å…±äº§ä¸»ä¹‰ç¤¾ä¼šåˆ¶åº¦ä¸­æ‰èƒ½æœ€ç»ˆå®ç°ã€‚</p><h3 id="3-ç§‘å­¦æŠ€æœ¯çš„ç¤¾ä¼šä½“åˆ¶å’Œç»„ç»‡æœºæ„å¯¹ç§‘å­¦æŠ€æœ¯çš„å‘å±•æœ‰ä½•æ„ä¹‰ï¼Ÿ"><a href="#3-ç§‘å­¦æŠ€æœ¯çš„ç¤¾ä¼šä½“åˆ¶å’Œç»„ç»‡æœºæ„å¯¹ç§‘å­¦æŠ€æœ¯çš„å‘å±•æœ‰ä½•æ„ä¹‰ï¼Ÿ" class="headerlink" title="3.ç§‘å­¦æŠ€æœ¯çš„ç¤¾ä¼šä½“åˆ¶å’Œç»„ç»‡æœºæ„å¯¹ç§‘å­¦æŠ€æœ¯çš„å‘å±•æœ‰ä½•æ„ä¹‰ï¼Ÿ"></a>3.ç§‘å­¦æŠ€æœ¯çš„ç¤¾ä¼šä½“åˆ¶å’Œç»„ç»‡æœºæ„å¯¹ç§‘å­¦æŠ€æœ¯çš„å‘å±•æœ‰ä½•æ„ä¹‰ï¼Ÿ</h3><p> ç§‘å­¦æŠ€æœ¯çš„ç¤¾ä¼šå»ºåˆ¶æœ‰ä¸€ä¸ªå†å²è¿‡ç¨‹ã€‚ç»æµæ”¯æŒåˆ¶åº¦ã€æ³•å¾‹ä¿éšœä½“ç³»ç­‰ç§‘å­¦æŠ€æœ¯ä½“åˆ¶æ˜¯æ ¹æœ¬ï¼Œå„ç§ç»„ç»‡æœºæ„åŠå…¶ç§‘ç ”ç»„ç»‡è¿è¡Œæ˜¯ä¿è¯ï¼Œç§‘å­¦æŠ€æœ¯çš„ä¼¦ç†è§„èŒƒæ˜¯å¯¼å¼•ã€‚åœ¨ç§‘å­¦æŠ€æœ¯å‘å±•åº”ç”¨çš„æ–°é˜¶æ®µï¼Œç§‘å­¦æŠ€æœ¯çš„ç¤¾ä¼šå»ºåˆ¶å‘ˆç°å‡ºä¸€äº›æ–°ç‰¹ç‚¹ï¼Œå› æ­¤å¿…é¡»è¿›è¡Œç§‘å­¦æŠ€æœ¯ä½“åˆ¶æ”¹é©ï¼Œä»¥ä¿è¯ç§‘å­¦æŠ€æœ¯çš„è‰¯å¥½è¿è¡Œã€‚<br> ä½œä¸ºç¤¾ä¼šå»ºåˆ¶çš„ç§‘å­¦æŠ€æœ¯ä½“åˆ¶æ˜¯åœ¨ä¸€å®šç¤¾ä¼šä»·å€¼è§‚å¿µæ”¯é…ä¸‹ï¼Œä¾æ®ç›¸åº”çš„ç‰©è´¨è®¾å¤‡æ¡ä»¶å½¢æˆçš„ä¸€ç§ç¤¾ä¼šç»„ç»‡åˆ¶åº¦ï¼Œæ—¨åœ¨æ”¯æŒæ¨åŠ¨äººç±»å¯¹è‡ªç„¶çš„è®¤è¯†å’Œåˆ©ç”¨ã€‚ç§‘å­¦æŠ€æœ¯çš„ä½“åˆ¶åŒ–ä»¥ç›¸åº”çš„èŒä¸šåŒ–ä¸ºæ ¸å¿ƒï¼Œå…¶å†…æ¶µéšç€ç§‘å­¦æŠ€æœ¯çš„å‘å±•è€Œä¸æ–­æ‹“å±•å’Œä¸°å¯Œã€‚ç§‘å­¦æŠ€æœ¯çš„ç¤¾ä¼šä½“åˆ¶åŒ…æ‹¬:ç»„ç»‡é¢†å¯¼ä½“åˆ¶ã€ç»æµæ”¯æŒåˆ¶åº¦ã€æ³•å¾‹ä¿éšœä½“åˆ¶ã€äº¤æµä¸ä¼ æ’­ä½“åˆ¶ã€äººæ‰æ•™è‚²åŸ¹å…»åˆ¶åº¦ç­‰ã€‚ç§‘å­¦æŠ€æœ¯ä¸å…¶ä»–å„ç§äº‹ä¸šå¯†åˆ‡ç›¸å…³,éœ€è¦å»ºç«‹ç›¸åº”çš„ç»„ç»‡æœºæ„ä»¥ä¿è¯ç§‘å­¦æŠ€æœ¯æ´»åŠ¨çš„é¡ºåˆ©è¿›è¡Œã€‚ç§‘å­¦æŠ€æœ¯ç»„ç»‡æœºæ„éšç€å†å²çš„æ¼”åŒ–è€Œå˜åŒ–ï¼Œå…·æœ‰å„ç™½çš„ç‰¹ç‚¹å’ŒåŠŸèƒ½ï¼Œæ˜¯å®ç°ç§‘å­¦æŠ€æœ¯ç°ä»£åŒ–çš„ç»„ç»‡ä¿è¯ã€‚åœ¨ç§‘å­¦æŠ€æœ¯ç¤¾ä¼šå²ä¸Šå½¢æˆä¸å‘å±•èµ·æ¥çš„ç»„ç»‡æœºæ„æœ‰:ç§‘å­¦æŠ€æœ¯å†³ç­–ã€ç®¡ç†ä¸å’¨è¯¢æœºæ„ï¼Œç§‘å­¦æŠ€æœ¯æ´»åŠ¨ç»„ç»‡æœºæ„ï¼Œç§‘å­¦æŠ€æœ¯ä¼ æ’­æœºæ„ï¼Œç§‘å­¦æŠ€æœ¯äººæ‰åŸ¹å…»æœºæ„ã€‚</p><blockquote><p>ã€ä»¥ä¸‹æ‘˜ç™½ç™¾åº¦è´´å§å¸–å­â€œç§‘å­¦æŠ€æœ¯çš„ç¤¾ä¼šä½“åˆ¶åŒ–åŠå…¶å¯¹ç§‘å­¦å‘å±•çš„æ„ä¹‰â€ã€‘<br>ç§‘å­¦æŠ€æœ¯ä½“åˆ¶åŒ–çš„å†…å®¹åŒ…æ‹¬:ç§‘å­¦æŠ€æœ¯çš„æŠ•å…¥ä½“åˆ¶ã€ç§‘æŠ€ç ”ç©¶çš„ç»“æ„æ¯”ä¾‹ã€ç§‘å­¦æŠ€æœ¯çš„æ³•å¾‹åˆ¶åº¦ã€ç§‘æŠ€ç ”ç©¶çš„ç®¡ç†ä½“åˆ¶ã€‚<br>ç§‘å­¦æŠ€æœ¯çš„ç¤¾ä¼šä½“åˆ¶åŒ–å¯¹ç§‘å­¦å‘å±•çš„æ„ä¹‰:1ã€å®ƒå¯ä»¥ç§¯èšç¤¾ä¼šä¸Šçš„åŠ›é‡æ¥è¿›è¡ŒæŸ‘åº”çš„ç§‘å­¦ç ”ç©¶;2ã€å½“ä»£ç§‘æŠ€æ´»åŠ¨çš„ç»“æ„ä¸­åŸºç¡€ç ”ç©¶å°†ä¼šæœ‰å¤§é‡çš„äººå‘˜å‚lä¸j;3ã€æ˜ç¡®çš„æ³•å¾‹ä»¥åŠç®¡ç†åˆ¶åº¦å°†ä¼šæ›´è¿›ä¸€æ­¥ä¿ƒè¿›ç§‘å­¦æŠ€æœ¯çš„å‘å±•ã€‚</p></blockquote><h3 id="4-ä¸ºä»€ä¹ˆè¦å¯¹ç§‘å­¦æŠ€æœ¯å·¥ä½œè€…è¿›è¡Œä¼¦ç†è§„èŒƒï¼Ÿ"><a href="#4-ä¸ºä»€ä¹ˆè¦å¯¹ç§‘å­¦æŠ€æœ¯å·¥ä½œè€…è¿›è¡Œä¼¦ç†è§„èŒƒï¼Ÿ" class="headerlink" title="4.ä¸ºä»€ä¹ˆè¦å¯¹ç§‘å­¦æŠ€æœ¯å·¥ä½œè€…è¿›è¡Œä¼¦ç†è§„èŒƒï¼Ÿ"></a>4.ä¸ºä»€ä¹ˆè¦å¯¹ç§‘å­¦æŠ€æœ¯å·¥ä½œè€…è¿›è¡Œä¼¦ç†è§„èŒƒï¼Ÿ</h3><p> ç§‘å­¦æŠ€æœ¯æ´»åŠ¨ä¸äººç±»å…¶ä»–æ´»åŠ¨ä¸€æ ·ï¼Œå»ºç«‹åœ¨è¯šä¿¡å’Œé“å¾·çš„åŸºç¡€ä¸Šã€‚ç°é˜¶æ®µï¼Œé»˜é¡¿çš„ç§‘å­¦çš„ç²¾ç¥æ°”è´¨å—åˆ°æŒ‘æˆ˜ï¼Œç§‘å­¦æŠ€æœ¯å·¥ä½œè€…æœ‰å¤±èŒƒè¡Œä¸ºï¼Œéœ€è¦åˆ¶å®šç›¸å…³ç§‘ç ”è¯šä¿¡æŒ‡å—å’Œå·¥ç¨‹å¸ˆä¼¦ç†å‡†åˆ™åŠ ä»¥è§„èŒƒã€‚ç§‘å­¦å·¥ä½œè€…è¿›è¡Œç§‘å­¦ç ”ç©¶å’ŒåŒ»å­¦å®è·µï¼Œå°¤å…¶æ˜¯è¿›è¡Œäººä½“å®éªŒå’ŒåŠ¨ç‰©å®éªŒï¼Œåº”è¯¥éµå¾ªç¤¾ä¼šä¼¦ç†ã€ç”Ÿå‘½ä¼¦ç†ã€åŠ¨ç‰©ä¼¦ç†ç­‰ã€‚æŠ€æœ¯å·¥ä½œè€…ï¼Œå°¤å…¶æ˜¯å·¥ç¨‹å¸ˆï¼Œåœ¨å·¥ç¨‹æŠ€æœ¯æ´»åŠ¨ä¸­ï¼Œåº”è¯¥éµå¾ªä¸€å®šçš„èŒä¸šä¼¦ç†å’Œç¤¾ä¼šä¼¦ç†å‡†åˆ™ï¼Œåº”è¯¥æ‰¿æ‹…å¯¹ç¤¾ä¼šã€ä¸“ä¸šã€é›‡ä¸»å’ŒåŒäº‹çš„è´£ä»»ï¼Œåº”è¯¥å¯¹å·¥ç¨‹çš„ç¯å¢ƒå½±å“è´Ÿæœ‰ç‰¹åˆ«çš„è´£ä»»ï¼Œè§„èŒƒç™½å·±çš„è¡Œä¸ºï¼Œä¸ºäººç±»ç¦ç¥‰å’Œç¯å¢ƒä¿æŠ¤æœåŠ¡ã€‚</p><h3 id="5-å¦‚ä½•ç†è§£ç§‘å­¦æŠ€æœ¯æ–‡åŒ–ä¸äººæ–‡æ–‡åŒ–ä¹‹é—´çš„å†²çªä¸åè°ƒï¼Ÿ"><a href="#5-å¦‚ä½•ç†è§£ç§‘å­¦æŠ€æœ¯æ–‡åŒ–ä¸äººæ–‡æ–‡åŒ–ä¹‹é—´çš„å†²çªä¸åè°ƒï¼Ÿ" class="headerlink" title="5.å¦‚ä½•ç†è§£ç§‘å­¦æŠ€æœ¯æ–‡åŒ–ä¸äººæ–‡æ–‡åŒ–ä¹‹é—´çš„å†²çªä¸åè°ƒï¼Ÿ"></a>5.å¦‚ä½•ç†è§£ç§‘å­¦æŠ€æœ¯æ–‡åŒ–ä¸äººæ–‡æ–‡åŒ–ä¹‹é—´çš„å†²çªä¸åè°ƒï¼Ÿ</h3><p>(ä¸€ï¼‰ç¤¾ä¼šæ–‡åŒ–å¯¹ç§‘å­¦æŠ€æœ¯çš„å½±å“</p><p> ç§‘å­¦æŠ€æœ¯çš„äº§ç”Ÿå’Œå‘å±•éœ€è¦ä¸€å®šçš„ç¤¾ä¼šæ–‡åŒ–ç¯å¢ƒã€‚ç¤¾ä¼šæ–‡åŒ–ä¸ç§‘å­¦æŠ€æœ¯æ–‡åŒ–ç´§å¯†å…³è”ï¼Œå¹¶ç”±æ­¤å½±å“ç§‘å­¦æŠ€æœ¯çš„å‘å±•åŠå…¶åº”ç”¨ã€‚é»˜é¡¿åœ¨ã€Šåä¸ƒä¸–çºªè‹±æ ¼å…°çš„ç§‘å­¦ã€æŠ€æœ¯ä¸ç¤¾ä¼šã€‹ä¸­æå‡ºçš„â€œæ¸…æ•™ä¸»ä¹‰ä¿ƒè¿›è‹±å›½è¿‘ä»£ç§‘å­¦çš„åˆ¶åº¦å˜åŒ–â€ï¼Œä»¥åŠâ€œæçº¦ç‘Ÿéš¾é¢˜â€â€”â€”â€œè¿‘ä»£ç§‘å­¦ä¸ºä»€ä¹ˆæ²¡æœ‰åœ¨ä¸­å›½è¯ç”Ÿâ€çš„è§£ç­”ï¼Œå°±è¯´æ˜äº†è¿™ä¸€ç‚¹ã€‚</p><p>(äºŒï¼‰ç§‘å­¦æ–‡åŒ–ä¸äººæ–‡æ–‡åŒ–çš„åè°ƒ<br>  1ï¼è¦é˜²æ­¢ç§‘å­¦åœ¨ç”Ÿæ´»ä¸–ç•Œã€è‡ªç„¶ä¸–ç•Œå¯¹äººæ–‡çš„åƒ­è¶Šæ‰€é€ æˆçš„ç§‘å­¦æ–‡åŒ–ä¸äººæ–‡æ–‡åŒ–ä¹‹é—´çš„å†²çªï¼Œæ·±åˆ»ç†è§£ç§‘å­¦çš„é™åº¦ï¼Œç”¨æ­£ç¡®çš„äººæ–‡ç†å¿µæŒ‡å¯¼æˆ‘ä»¬çš„ç”Ÿæ´»ã€‚<br>  2ï¼å¿…é¡»ä»¥ç¤¾ä¼šå…ˆè¿›æ–‡åŒ–æ¥å¼•é¢†ç§‘å­¦æŠ€æœ¯æ–‡åŒ–ï¼Œä½¿ç§‘å­¦æŠ€æœ¯å‘å±•å’Œåº”ç”¨ä¸ºç»æµç¤¾ä¼šå¥åº·å…¨é¢å‘å±•æœåŠ¡ã€‚å¾—åˆ°å¹¿æ³›æå€¡çš„ç¯å¢ƒç§‘å­¦æŠ€æœ¯å°±æ˜¯ä¸ºäº†åè°ƒäººä¸è‡ªç„¶ä¹‹é—´çš„å…³ç³»æ‰€åšçš„åŠªåŠ›ï¼Œæ˜¯ç§‘å­¦æŠ€æœ¯æ–‡åŒ–ä¸äººæ–‡æ–‡åŒ–â€”â€”ç»¿è‰²æ–‡åŒ–çš„è‰¯æ€§äº’åŠ¨äº§ç‰©ã€‚</p><h3 id="6-ç§‘å­¦æŠ€æœ¯çš„é£é™©æœ‰å“ªäº›ï¼Ÿå¦‚ä½•æ°å½“åœ°è¿›è¡Œç§‘å­¦æŠ€æœ¯é£é™©è¯„ä»·ä¸å†³ç­–ï¼Ÿ"><a href="#6-ç§‘å­¦æŠ€æœ¯çš„é£é™©æœ‰å“ªäº›ï¼Ÿå¦‚ä½•æ°å½“åœ°è¿›è¡Œç§‘å­¦æŠ€æœ¯é£é™©è¯„ä»·ä¸å†³ç­–ï¼Ÿ" class="headerlink" title="6.ç§‘å­¦æŠ€æœ¯çš„é£é™©æœ‰å“ªäº›ï¼Ÿå¦‚ä½•æ°å½“åœ°è¿›è¡Œç§‘å­¦æŠ€æœ¯é£é™©è¯„ä»·ä¸å†³ç­–ï¼Ÿ"></a>6.ç§‘å­¦æŠ€æœ¯çš„é£é™©æœ‰å“ªäº›ï¼Ÿå¦‚ä½•æ°å½“åœ°è¿›è¡Œç§‘å­¦æŠ€æœ¯é£é™©è¯„ä»·ä¸å†³ç­–ï¼Ÿ</h3><p> ç§‘å­¦æŠ€æœ¯çš„é£é™©åŒ…æ‹¬ç¯å¢ƒé£é™©ã€æ”¿æ²»é£é™©ã€ç»æµé£é™©ã€å¥åº·é£é™©å’Œä¼¦ç†é£é™©ç­‰ã€‚è¿™äº›é£é™©ä¼šå¼•å‘ä¸€ç³»åˆ—äº‰è®ºï¼Œé€ æˆè¯„ä»·å’Œå†³ç­–ä¸Šçš„å›°éš¾ã€‚ä¹ è¿‘å¹³æŒ‡å‡º:â€œè¦åŠ å¿«å»ºç«‹ç§‘æŠ€å’¨è¯¢æ”¯æ’‘è¡Œæ”¿å†³ç­–çš„ç§‘æŠ€å†³ç­–æœºåˆ¶ï¼ŒåŠ å¼ºç§‘æŠ€å†³ç­–å’¨è¯¢ç³»ç»Ÿï¼Œå»ºè®¾é«˜æ°´å¹³ç§‘æŠ€æ™ºåº“ã€‚è¦åŠ å¿«æ¨è¿›é‡å¤§ç§‘æŠ€å†³ç­–åˆ¶åº¦åŒ–ï¼Œè§£å†³å¥½å®é™…å­˜åœ¨çš„éƒ¨é—¨é¢†å¯¼æ‹è„‘è¢‹ã€ç§‘æŠ€ä¸“å®¶çœ‹é¢œè‰²è¡Œäº‹ç­‰é—®é¢˜ã€‚â€</p><p>è¦æ°å½“è¿›è¡Œç§‘å­¦æŠ€æœ¯é£é™©è¯„ä»·ä¸å†³ç­–ï¼Œå°±åº”è¯¥å…¨é¢è¯„ä»·ç§‘å­¦æŠ€æœ¯é£é™©â€”æ”¶ç›Šçš„å¤šä¸ªæ–¹é¢ï¼Œæ‰¹åˆ¤æ€§åœ°è€ƒå¯Ÿâ€œå†…éƒ¨â€å­˜æœ‰äº‰è®®çš„ç§‘å­¦çŸ¥è¯†æˆ–æŠ€æœ¯çŸ¥è¯†ï¼Œåˆ†æç›¸äº’ç«äº‰çš„åˆ©ç›Šé›†å›¢å’Œç¤¾ä¼šç»“æ„çš„â€å¤–éƒ¨â€æ”¿æ²»å­¦ï¼Œç†è§£ç§‘å­¦æŠ€æœ¯ä¸“å®¶çŸ¥è¯†å’Œå†³ç­–çš„å±€é™æ€§ã€å…¬ä¼—ç†è§£ç§‘å­¦çš„å¿…è¦æ€§ä»¥åŠå¤–è¡ŒçŸ¥è¯†çš„ä¼˜åŠ¿ï¼Œæ˜ç¡®æ”¿åºœã€ç§‘å­¦æŠ€æœ¯ä¸“å®¶ä»¥åŠå…¬ä¼—åœ¨ä¸ç§‘å­¦æŠ€æœ¯é£é™©ç›¸å…³çš„å…¬å…±å†³ç­–ä¸­çš„ä¸åŒä½œç”¨ï¼Œç¡®ç«‹å…¬ä¼—å‚ä¸å†³ç­–çš„å¯èƒ½æ–¹å¼ï¼Œä»è€Œå½¢æˆæœ€ä¼˜åŒ–çš„ç§‘å­¦æŠ€æœ¯å…¬å…±æ”¿ç­–æ¨¡å¼ï¼Œä»¥è¾¾åˆ°å¯¹ç§‘å­¦æŠ€æœ¯é£é™©ç¤¾ä¼šæœ‰æ•ˆæ²»ç†çš„ç›®çš„ã€‚</p><h2 id="ç¬¬äº”ç« -ä¸­å›½é©¬å…‹æ€ä¸»ä¹‰ç§‘å­¦æŠ€æœ¯è§‚"><a href="#ç¬¬äº”ç« -ä¸­å›½é©¬å…‹æ€ä¸»ä¹‰ç§‘å­¦æŠ€æœ¯è§‚" class="headerlink" title="ç¬¬äº”ç«  ä¸­å›½é©¬å…‹æ€ä¸»ä¹‰ç§‘å­¦æŠ€æœ¯è§‚"></a>ç¬¬äº”ç«  ä¸­å›½é©¬å…‹æ€ä¸»ä¹‰ç§‘å­¦æŠ€æœ¯è§‚</h2><h3 id="1-ä¸ºä»€ä¹ˆè¯´æ–°æ—¶ä»£ä¸­å›½é©¬å…‹æ€ä¸»ä¹‰ç§‘å­¦æŠ€æœ¯æ˜¯ä¸€ä¸ªç§‘å­¦ã€å®Œæ•´çš„æ€æƒ³ç†è®ºä½“ç³»ï¼Ÿ"><a href="#1-ä¸ºä»€ä¹ˆè¯´æ–°æ—¶ä»£ä¸­å›½é©¬å…‹æ€ä¸»ä¹‰ç§‘å­¦æŠ€æœ¯æ˜¯ä¸€ä¸ªç§‘å­¦ã€å®Œæ•´çš„æ€æƒ³ç†è®ºä½“ç³»ï¼Ÿ" class="headerlink" title="1.ä¸ºä»€ä¹ˆè¯´æ–°æ—¶ä»£ä¸­å›½é©¬å…‹æ€ä¸»ä¹‰ç§‘å­¦æŠ€æœ¯æ˜¯ä¸€ä¸ªç§‘å­¦ã€å®Œæ•´çš„æ€æƒ³ç†è®ºä½“ç³»ï¼Ÿ"></a>1.ä¸ºä»€ä¹ˆè¯´æ–°æ—¶ä»£ä¸­å›½é©¬å…‹æ€ä¸»ä¹‰ç§‘å­¦æŠ€æœ¯æ˜¯ä¸€ä¸ªç§‘å­¦ã€å®Œæ•´çš„æ€æƒ³ç†è®ºä½“ç³»ï¼Ÿ</h3><p> æ¯›æ³½ä¸œã€é‚“å°å¹³ã€â€¦â€¦ã€èƒ¡é”¦æ¶›ã€ä¹ è¿‘å¹³çš„ç§‘å­¦æŠ€æœ¯æ€æƒ³ï¼Œæ˜¯åœ¨ä¸­å›½å…±äº§å…šé¢†å¯¼æˆ‘å›½ç§‘å­¦æŠ€æœ¯äº‹ä¸šå‘å±•å’Œè¿›è¡Œç¤¾ä¼šä¸»ä¹‰ç°ä»£åŒ–å»ºè®¾çš„ä¼Ÿå¤§æ—¶é—´ä¸­ï¼Œé€æ¸å½¢æˆã€å‘å±•å’Œå®Œå–„çš„ã€‚</p><p> ä¸­å›½é©¬å…‹æ€ä¸»ä¹‰ç§‘å­¦æŠ€æœ¯è§‚æ˜¯åŸºäºé©¬å…‹æ€ã€æ©æ ¼æ–¯çš„ç§‘å­¦æŠ€æœ¯æ€æƒ³ï¼Œå¯¹å½“ä»£ç§‘å­¦æŠ€æœ¯æœºå™¨å‘å±•è§„å¾‹çš„æ¦‚æ‹¬å’Œæ€»ç»“ï¼Œæ˜¯é©¬å…‹æ€ä¸»ä¹‰ç§‘å­¦æŠ€æœ¯è®ºçš„é‡è¦ç»„æˆéƒ¨åˆ†ã€‚</p><p> ä¸­å›½é©¬å…‹æ€ä¸»ä¹‰ç§‘å­¦æŠ€æœ¯è§‚æ˜¯ä¸­å›½å…±äº§å…šäººé›†ä½“æ™ºæ…§çš„ç»“æ™¶ï¼Œæ˜¯å¯¹æ¯›æ³½ä¸œã€é‚“å°å¹³ã€â€¦â€¦ã€ä¹ è¿‘å¹³ç§‘å­¦æŠ€æœ¯æ€æƒ³çš„æ¦‚æ‹¬å’Œæ€»ç»“ï¼Œæ˜¯ä»–ä»¬ç§‘å­¦æŠ€æœ¯æ€æƒ³çš„ç†è®ºå‡åå’Œé£è·ƒï¼Œæ˜¯ä»–ä»¬ç§‘å­¦æŠ€æœ¯æ€æƒ³çš„å‡ç»ƒå’Œç²¾é«“ã€‚</p><p> ä¸­å›½é©¬å…‹æ€ä¸»ä¹‰ç§‘å­¦æŠ€æœ¯è§‚çš„å†…å®¹ä¸°å¯Œï¼Œæ¶‰åŠäº†ç§‘å­¦æŠ€æœ¯çš„åŠŸèƒ½ã€ç›®æ ‡ã€æœºåˆ¶ã€æˆ˜ç•¥ã€äººæ‰å’Œæ–¹é’ˆç­‰é‡å¤§é—®é¢˜ï¼Œæ˜¯ä¸€ä¸ªç§‘å­¦ã€å®Œæ•´çš„æ€æƒ³ç†è®ºä½“ç³»ã€‚</p><h3 id="2-å¦‚ä½•ç†è§£ä¸­å›½é©¬å…‹æ€ä¸»ä¹‰ç§‘å­¦æŠ€æœ¯è§‚çš„ç†è®ºç²¾é«“ï¼Ÿ"><a href="#2-å¦‚ä½•ç†è§£ä¸­å›½é©¬å…‹æ€ä¸»ä¹‰ç§‘å­¦æŠ€æœ¯è§‚çš„ç†è®ºç²¾é«“ï¼Ÿ" class="headerlink" title="2.å¦‚ä½•ç†è§£ä¸­å›½é©¬å…‹æ€ä¸»ä¹‰ç§‘å­¦æŠ€æœ¯è§‚çš„ç†è®ºç²¾é«“ï¼Ÿ"></a>2.å¦‚ä½•ç†è§£ä¸­å›½é©¬å…‹æ€ä¸»ä¹‰ç§‘å­¦æŠ€æœ¯è§‚çš„ç†è®ºç²¾é«“ï¼Ÿ</h3><p> ä¸­å›½é©¬å…‹æ€ä¸»ä¹‰ç§‘å­¦æŠ€æœ¯è§‚æ¦‚æ‹¬å’Œæ€»ç»“äº†æ¯›æ³½ä¸œã€é‚“å°å¹³ã€Â·Â·Â·ã€ä¹ è¿‘å¹³ç­‰çš„ç§‘å­¦æŠ€æœ¯æ€æƒ³ï¼ŒåŒ…æ‹¬ç§‘å­¦æŠ€æœ¯çš„åŠŸèƒ½è§‚ã€æˆ˜ç•¥è§‚ã€äººæ‰è§‚ã€å’Œè°è§‚å’Œåˆ›æ–°è§‚çš„åŸºæœ¨å†…å®¹ï¼Œä½“ç°å‡ºæ—¶ä»£æ€§ã€å®è·µæ€§ã€ç§‘å­¦æ€§ã€åˆ›æ–°æ€§ã€è‡ªä¸»æ€§ã€äººæœ¬æ€§ç­‰ç‰¹å¾ï¼Œå»ºè®¾ä¸­å›½ç‰¹è‰²çš„åˆ›æ–°å‹å›½å®¶ï¼Œæ˜¯ä¸­å›½é©¬å…‹æ€ä¸»ä¹‰ç§‘å­¦æŠ€æœ¯è§‚çš„å…·ä½“ä½“ç°ã€‚ä¸­å›½é©¬å…‹æ€ä¸»ä¹‰ç§‘å­¦æŠ€æœ¯è§‚ï¼Œæ˜¯é©¬å…‹æ€ä¸»ä¹‰ç§‘å­¦æŠ€æœ¯è§‚ä¸ä¸­å›½å…·ä½“ç§‘å­¦æŠ€æœ¯å®è·µç›¸ç»“åˆçš„äº§ç‰©ï¼Œæ˜¯é©¬å…‹æ€ä¸»ä¹‰ç§‘å­¦æŠ€æœ¯è®ºçš„é‡è¦ç»„æˆéƒ¨åˆ†ã€‚</p><h3 id="3-å¦‚ä½•ç†è§£ä¹ è¿‘å¹³æ–°æ—¶ä»£ä¸­å›½ç‰¹è‰²ç¤¾ä¼šä¸»ä¹‰æ€æƒ³ä¸­çš„ç§‘å­¦æŠ€æœ¯è§‚çš„æ—¶ä»£æ„ä¹‰ï¼Ÿ"><a href="#3-å¦‚ä½•ç†è§£ä¹ è¿‘å¹³æ–°æ—¶ä»£ä¸­å›½ç‰¹è‰²ç¤¾ä¼šä¸»ä¹‰æ€æƒ³ä¸­çš„ç§‘å­¦æŠ€æœ¯è§‚çš„æ—¶ä»£æ„ä¹‰ï¼Ÿ" class="headerlink" title="3.å¦‚ä½•ç†è§£ä¹ è¿‘å¹³æ–°æ—¶ä»£ä¸­å›½ç‰¹è‰²ç¤¾ä¼šä¸»ä¹‰æ€æƒ³ä¸­çš„ç§‘å­¦æŠ€æœ¯è§‚çš„æ—¶ä»£æ„ä¹‰ï¼Ÿ"></a>3.å¦‚ä½•ç†è§£ä¹ è¿‘å¹³æ–°æ—¶ä»£ä¸­å›½ç‰¹è‰²ç¤¾ä¼šä¸»ä¹‰æ€æƒ³ä¸­çš„ç§‘å­¦æŠ€æœ¯è§‚çš„æ—¶ä»£æ„ä¹‰ï¼Ÿ</h3><p> ä¸­å›½é©¬å…‹æ€ä¸»ä¹‰ç§‘å­¦æŠ€æœ¯è§‚çš„ä¸‰ä¸ªå†å²é˜¶æ®µæ˜¯å…¶å„è‡ªæ‰€å¤„çš„å†å²æ¡ä»¶æ‰€å†³å®šçš„ï¼Œæ˜¯å¯¹æ—¶ä»£èƒŒæ™¯å®äº‹æ±‚æ˜¯çš„åæ˜ ï¼Œå› æ­¤ç§‘å­¦æŠ€æœ¯æ€æƒ³éƒ½é•Œåˆ»äº†æ—¶ä»£çš„çƒ™å°ï¼Œåæ˜ äº†æ—¶ä»£çš„éœ€æ±‚ã€‚</p><p> ä¹ è¿‘å¹³æ–°æ—¶ä»£ä¸­å›½ç‰¹è‰²ç¤¾ä¼šä¸»ä¹‰æ€æƒ³ä¸­çš„ç§‘å­¦æŠ€æœ¯è§‚ï¼Œæ˜¯åœ¨ä¸­å›½ç‰¹è‰²ç¤¾ä¼šä¸»ä¹‰è¿›å…¥æ–°æ—¶ä»£çš„å†å²æ¡ä»¶ä¸‹å½¢æˆçš„ã€‚æ–°æ—¶ä»£ä¹‹â€œæ–°â€ï¼Œä¸€æ˜¯åœ¨äºæˆ‘ä»¬è¿›å…¥äº†ä¸€ä¸ªæ–°çš„å‘å±•é˜¶æ®µï¼Œå‘å±•ç¯å¢ƒã€å‘å±•æ¡ä»¶éƒ½å‘ç”Ÿäº†æ–°çš„å˜åŒ–ï¼Œç›®æ ‡ä»»åŠ¡ä¹Ÿå‘ç”Ÿäº†æ–°çš„å˜åŒ–;äºŒæ˜¯åœ¨äºæˆ‘ä»¬é¢ä¸´ç€æ–°çš„ç¤¾ä¼šä¸»ä¹‰ä¸»è¦çŸ›ç›¾;ä¸‰æ˜¯æˆ‘ä»¬è¿ˆå‘æ–°çš„å¥‹æ–—ç›®æ ‡ã€‚æ­£æ˜¯åŸºäºè¿™ä¸€æ–°æ—¶ä»£çš„â€æ–°â€ç‰¹å¾æ—¶ä»£èƒŒæ™¯ï¼Œä¹ è¿‘å¹³ç«‹è¶³äºæˆ‘è´µå“¦ç§‘å­¦æŠ€æœ¯ä¸ç¤¾ä¼šå‘å±•çš„ç°å®éœ€è¦ï¼Œæå‡ºäº†ä¸€ç³»åˆ—å…³äºç§‘å­¦æŠ€æœ¯å‘å±•çš„ç†è®ºè§‚ç‚¹ï¼Œå½¢æˆäº†ä¹ è¿‘å¹³æ–°æ—¶ä»£ä¸­å›½ç‰¹è‰²ç¤¾ä¼šä¸»ä¹‰ç§‘å­¦æŠ€æœ¯è§‚ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æ‚è®° </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>pngå’Œjpgæ ¼å¼çš„å›¾ç‰‡(äºŒ)</title>
      <link href="/%E6%9D%82%E8%AE%B0/Qt-images/"/>
      <url>/%E6%9D%82%E8%AE%B0/Qt-images/</url>
      
        <content type="html"><![CDATA[<p>[TOC]</p><h1 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h1><p>åœ¨ä¸Šç¯‡æ–‡ç«  <a href="./png%E5%92%8Cjpg%E6%A0%BC%E5%BC%8F%E5%9B%BE%E7%89%87.md">pngå’Œjpgæ ¼å¼å›¾ç‰‡</a> ä¸­ç¬”è€…å°± <code>jpg</code> å’Œ <code>png</code> ä¸¤ç§æ ¼å¼è¿›è¡Œäº†è¯´æ˜ï¼Œä½†æ˜¯å…³äº Qt æ‰“å¼€æ”¹åç¼€æ–‡ä»¶åä¹‹åå›¾ç‰‡çš„é—®é¢˜ä¾ç„¶æ²¡æœ‰è¯´æ˜ã€‚è¦æ¢ç©¶Qtä¸ºä½•ä¸èƒ½æ‰“å¼€æ”¹äº†åç¼€çš„å›¾ç‰‡æ–‡ä»¶ï¼Œè¿™ä¸ªè¿˜æ˜¯å¾—ä»å¤šæ–¹é¢å»å®šä½ã€‚å‰æ–‡è¯´äº†ï¼Œé€šè¿‡ä¸‰ç§æ–¹å¼è®¾ç½®äº† <code>QLabel</code> çš„å›¾ç‰‡ã€‚</p><h2 id="åœºæ™¯å¤ç°"><a href="#åœºæ™¯å¤ç°" class="headerlink" title="åœºæ™¯å¤ç°"></a>åœºæ™¯å¤ç°</h2><blockquote><p>è¿™é‡Œè¿˜æ˜¯å…ˆè¯´æ˜ä¸€ä¸‹è®¾ç½®ä¸æˆåŠŸçš„åœºæ™¯å¦‚ä½•å¤ç°:</p><ol><li>æ‰¾ä¸€å¼  <code>.jpg</code> çš„å›¾ç‰‡ï¼Œä¿®æ”¹åç¼€ä¹Ÿå°±æ˜¯æ–‡ä»¶å±æ€§ä¸º <code>.png</code></li><li>é€šè¿‡ä»¥ä¸‹ä¸‰ç§æ–¹å¼ä¸­çš„ä»»æ„ä¸€ç§å»è®¾ç½® <code>QLabel</code> ä¸ºå›¾ç‰‡ã€‚</li></ol><p>Qt ç‰ˆæœ¬æ˜¯ <code>5.9</code></p><p>ç¼–è¯‘å™¨è¯•äº† <code>MSVC</code> å’Œ <code>mingw</code> éƒ½ä¸å¥½ä½¿ã€‚</p></blockquote><h2 id="QLabel-è®¾ç½®å›¾ç‰‡æ–¹æ³•"><a href="#QLabel-è®¾ç½®å›¾ç‰‡æ–¹æ³•" class="headerlink" title="QLabel è®¾ç½®å›¾ç‰‡æ–¹æ³•"></a><code>QLabel</code> è®¾ç½®å›¾ç‰‡æ–¹æ³•</h2><ol><li>é€šè¿‡ <code>QPixmap</code>è®¾ç½® <code>QLabel</code> çš„å›¾ç‰‡</li></ol><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">QPixmap <span class="title">img</span><span class="params">(<span class="string">&quot;:/Win11.png&quot;</span>)</span></span>;</span><br><span class="line"></span><br><span class="line">ui-&gt;label-&gt;<span class="built_in">setPixmap</span>(img);</span><br><span class="line">ui-&gt;label-&gt;<span class="built_in">setScaledContents</span>(<span class="literal">true</span>);</span><br></pre></td></tr></table></figure><ol start="2"><li>é€šè¿‡ <code>QImage</code> è®¾ç½® <code>QLabel</code> çš„å›¾ç‰‡</li></ol><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">QImage img;</span><br><span class="line">img.<span class="built_in">load</span>(<span class="string">&quot;:/Win11.png&quot;</span>);</span><br><span class="line">ui-&gt;label-&gt;<span class="built_in">setPixmap</span>(QPixmap::<span class="built_in">fromImage</span>(img))</span><br></pre></td></tr></table></figure><ol start="3"><li>é€šè¿‡ <code>QLabel.setStyleSheet()</code> çš„å›¾ç‰‡</li></ol><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ui-&gt;label-&gt;<span class="built_in">setStyleSheet</span>(<span class="built_in">QString</span>(<span class="string">&quot;QLabel&#123;&quot;</span></span><br><span class="line">                                 <span class="string">&quot;border-image:url(:/Win11.png) 4 4 4 4 stretch stretch;&quot;</span></span><br><span class="line">                                 <span class="string">&quot;&#125;&quot;</span>));</span><br></pre></td></tr></table></figure><p>å½“ç„¶è¿˜æœ‰ç¬¬å››ç§æ–¹æ³•ï¼Œé€šè¿‡ <code>QSvgRenderer</code> è®¾ç½®ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QSvgRenderer&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function">QSvgRenderer <span class="title">svgRender</span><span class="params">(QString(<span class="string">&quot;:/Win11.svg&quot;</span>))</span></span>;</span><br><span class="line"><span class="function">QPixmap <span class="title">pixmap</span><span class="params">(<span class="number">20</span>,<span class="number">20</span>)</span></span>;</span><br><span class="line"><span class="function">QPainter <span class="title">painter</span><span class="params">(&amp;pixmap)</span></span>;</span><br><span class="line">svgRender.<span class="built_in">render</span>(&amp;painter);</span><br><span class="line">ui-&gt;label-&gt;<span class="built_in">setPixmap</span>(pixmap);</span><br></pre></td></tr></table></figure><p>åœºæ™¯æ˜¯æè¿°å®Œäº†ï¼Œå¯ä»¥åŠ¨æ‰‹å°è¯•äº†</p><h1 id="æ“ä½œ"><a href="#æ“ä½œ" class="headerlink" title="æ“ä½œ"></a>æ“ä½œ</h1><p>æ¥ç€å°±æ˜¯å»æŸ¥çœ‹å‡ ç§å®ç°æ–¹å¼ä¸­çš„æºç æ˜¯å¦‚ä½•æ˜¯è®¾ç½®çš„äº†ï¼Œè¿™é‡Œå…ˆçŒœä¸€ä¸‹ç»“è®º</p><blockquote><p>å°±æ˜¯ <code>png</code> å’Œ <code>jpg</code> æ ¼å¼çš„ç®—æ³•ä¸åŒï¼Œæ ¼å¼é—®é¢˜å¯¼è‡´çš„è¯»å–çš„ç®—æ³•ä¸ä¸€è‡´ï¼Œå› æ­¤Qtå†…éƒ¨å®ç°çš„è¯»å–å›¾ç‰‡çš„ç®—æ³•åªèƒ½æ ¹æ®å›¾ç‰‡æ–‡ä»¶çš„åç¼€æ‰€å¯¹åº”çš„ç®—æ³•å»è¯»å–ç®—æ³•ï¼Œè€Œ <code>setStyleSheet</code> ç®—æ³•ä¹Ÿæ˜¯åŸºäºè¿™ä¹ˆä¸€ä¸ªé€»è¾‘ï¼Œå› æ­¤ä¸‰ç§è¯»å–æ–¹å¼éƒ½ä¸æˆåŠŸã€‚</p><p>å…³äºå›¾ç‰‡ç®—æ³•çš„é—®é¢˜ï¼Œåœ¨ä¸Šç¯‡æ–‡ç«  <a href="./png%E5%92%8Cjpg%E6%A0%BC%E5%BC%8F%E5%9B%BE%E7%89%87.md">pngå’Œjpgæ ¼å¼å›¾ç‰‡</a> ä¸­ä¹Ÿç•¥å¾®æåˆ°ï¼Œè¿™ä¸ªæˆ‘ä»¬ä¸æ·±åšç ”ç©¶ï¼Œåªéœ€çŸ¥é“ <code>jpg</code> å’Œ <code>png</code> ä¸æ˜¯åŒä¸€ç§ç®—æ³•ï¼Œä¹Ÿä¸é€šç”¨å³å¯ã€‚</p></blockquote><h2 id="åˆæ­¥éªŒè¯"><a href="#åˆæ­¥éªŒè¯" class="headerlink" title="åˆæ­¥éªŒè¯"></a>åˆæ­¥éªŒè¯</h2><p>å› ä¸ºä¸Šè¿°å‡ ç§æ­¥éª¤ç¬”è€…éƒ½åšè¿‡å°è¯•ï¼Œå› æ­¤åœ¨éªŒè¯è¿‡ç¨‹ä¸­æˆ‘ä»¬ä¸çº ç»“äºä½¿ç”¨å“ªä¸€ç§æ–¹å¼ï¼Œç›´æ¥çœ‹ç»“æœã€‚</p><ol><li>é‚£å¦‚ä½•å»éªŒè¯å‘¢ï¼Œæˆ‘ä»¬è¿˜æ˜¯çœ‹ä»£ç ï¼Œè¿™æ¬¡æˆ‘ä»¬åœ¨ Qt çš„ <code>qrc</code> æ–‡ä»¶ä¸­ï¼Œå»æ‰å›¾ç‰‡çš„åç¼€åï¼Œä¸å¸¦åç¼€å±æ€§å»è¯»å–å›¾ç‰‡çœ‹çœ‹å…¶æ˜¯å¦å¯ä»¥è¯»å–æˆåŠŸã€‚</li></ol><div class="tag-plugin image"><div class="image-bg"><img src="../../images/Qt%E5%9B%BE%E7%89%87/image-20220423143541263.png"/></div></div><p><mark>è¿è¡Œç»“æœ</mark>:  <code>QLabel</code> è¯»å–æˆåŠŸ</p><p>å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œåœ¨ <code>qrc</code> æ–‡ä»¶ä¸­å»æ‰å›¾ç‰‡çš„åç¼€ï¼Œè¯»å–å›¾ç‰‡è®¾ç½®åˆ° <code>QLabel</code> ä¾ç„¶æ˜¯æˆåŠŸçš„ã€‚ </p><ol start="2"><li>æˆ‘ä»¬æ¥ç€æ“ä½œï¼Œåœ¨ä»£ç ä¸­ä¿®æ”¹å›¾ç‰‡åç¼€ä¸º <code>png</code>ï¼Œçœ‹çœ‹è¿™æ¬¡èƒ½ä¸èƒ½è¯»å–æˆåŠŸã€‚</li></ol><img src="../../images/Qt%E5%9B%BE%E7%89%87/image-20220423143916480.png" alt="ä¿®æ”¹åç¼€ä¸ºpng" style="zoom:50%;" /><p><mark>è¿è¡Œç»“æœ</mark>ï¼šè¯»å–å¤±è´¥</p><p>å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œæ·»åŠ åç¼€ååè€Œè¿˜å±•ç¤ºä¸æˆåŠŸäº†ã€‚</p><h2 id="åˆæ­¥éªŒè¯çš„ç»“æœ"><a href="#åˆæ­¥éªŒè¯çš„ç»“æœ" class="headerlink" title="åˆæ­¥éªŒè¯çš„ç»“æœ"></a>åˆæ­¥éªŒè¯çš„ç»“æœ</h2><p>è¿™å°±åŸºæœ¬ä¸Šè¯´æ˜äº†ï¼š</p><blockquote><p>åœ¨ <code>Qt</code> çš„å†…éƒ¨æœ‰å¾ˆå¤§çš„å‡ ç‡æ˜¯é€šè¿‡æ–‡ä»¶çš„åç¼€å»åˆ¤æ–­è°ƒç”¨å“ªä¸ªå›¾ç‰‡è¯»å–ç®—æ³•çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå½“ä½ äººä¸ºçš„ä¿®æ”¹äº† <code>png-&gt;jpg</code> æ—¶ï¼Œåœ¨ <code>Qt</code> ä¸­å°±ä¼šå‡ºç°è®¾ç½®å›¾ç‰‡å¤±è´¥çš„é—®é¢˜ã€‚ç›®å‰çœ‹æ¥ï¼Œåœ¨ä»£ç æ²¡æœ‰é—®é¢˜ï¼Œä½†æ˜¯å›¾ç‰‡è®¾ç½®åä¸æ˜¾ç¤ºçš„æƒ…å†µä¸‹ï¼Œæœ€å¥½çš„æ–¹å¼æ˜¯ï¼Œå°±æ˜¯å»æ‰å›¾ç‰‡çš„åç¼€ï¼Œè®© <code>Qt</code> è‡ªå·±å»åˆ¤æ–­è°ƒç”¨å“ªä¸ªç®—æ³•è¯»å–å›¾ç‰‡ã€‚</p></blockquote><h1 id="æºç åˆ†æ"><a href="#æºç åˆ†æ" class="headerlink" title="æºç åˆ†æ"></a>æºç åˆ†æ</h1><p>è¿™é‡Œæœ‰å…³äº <code>Qt</code> å›¾ç‰‡ <code>I\O</code> çš„æè¿°å¯ä»¥çœ‹çœ‹Qtå¸®åŠ©æ‰‹å†Œä¸­å…³äºå›¾åƒæ–‡ä»¶è¯»å†™çš„æ–‡æ¡£ã€‚</p><div class="tag-plugin image"><div class="image-bg"><img src="../../images/Qt%E5%9B%BE%E7%89%87/image-20220423152853629.png"/></div></div><p>æºç éƒ¨åˆ†ï¼Œæˆ‘ä»¬åªéœ€æŸ¥çœ‹ä¸¤ä¸ª<code>Qt</code> ç±»å°±è¡Œï¼Œä¸ªäººæ„Ÿè§‰çœ‹ä¸€ä¸ªå°±çŸ¥é“äº†ã€‚ä¸¤è€…è¯†åˆ«å›¾ç‰‡çš„ç®—æ³•åº”è¯¥æ˜¯ä¸€è‡´çš„ã€‚åŒ…æ‹¬ <code>setStyleSheet()</code>æ¥å£ä¸­è®¾ç½®å›¾ç‰‡çš„æ¥å£åº”è¯¥éƒ½æ˜¯ä¸€è‡´çš„ã€‚ </p><blockquote><ol><li>QPixmapä¾èµ–äºæ‰€åœ¨çš„å¹³å°çš„ç»˜å›¾å¼•æ“ï¼Œæ•…ä¾‹å¦‚åé”¯é½¿ç­‰ä¸€äº›æ•ˆæœåœ¨ä¸åŒçš„å¹³å°ä¸Šå¯èƒ½ä¼šæœ‰ä¸åŒçš„æ˜¾ç¤ºæ•ˆæœï¼ŒQImageä½¿ç”¨Qtè‡ªèº«çš„ç»˜å›¾å¼•æ“ï¼Œå¯åœ¨ä¸åŒå¹³å°ä¸Šå…·æœ‰ç›¸åŒçš„æ˜¾ç¤ºæ•ˆæœ</li><li>ç›®å‰çš„Qtä¼šæŠŠQPixmapéƒ½å­˜å‚¨åœ¨graphics memoryä¸­ï¼ŒQImageæ˜¯å­˜å‚¨åœ¨å®¢æˆ·ç«¯çš„ï¼Œæ˜¯ç‹¬ç«‹äºç¡¬ä»¶çš„ã€‚åœ¨X11, Mac ä»¥åŠ Symbianå¹³å°ä¸Šï¼ŒQPixmap æ˜¯å­˜å‚¨åœ¨æœåŠ¡å™¨ç«¯ï¼Œè€ŒQImageåˆ™æ˜¯å­˜å‚¨åœ¨å®¢æˆ·ç«¯ï¼Œåœ¨Windowså¹³å°ä¸Šï¼ŒQPixmapå’ŒQImageéƒ½æ˜¯å­˜å‚¨åœ¨å®¢æˆ·ç«¯ï¼Œå¹¶ä¸ä½¿ç”¨ä»»ä½•çš„GDIèµ„æºã€‚</li><li>ç”±äºQImageæ˜¯ç‹¬ç«‹äºç¡¬ä»¶çš„ï¼Œä¹Ÿæ˜¯ä¸€ç§QPaintDeviceï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥åœ¨å¦ä¸€ä¸ªçº¿ç¨‹ä¸­å¯¹å…¶è¿›è¡Œç»˜åˆ¶ï¼Œè€Œä¸éœ€è¦åœ¨GUIçº¿ç¨‹ä¸­å¤„ç†ï¼Œä½¿ç”¨è¿™ä¸€æ–¹å¼å¯ä»¥å¾ˆå¤§å¹…åº¦æé«˜UIå“åº”é€Ÿåº¦ã€‚</li></ol></blockquote><h2 id="QPixmap"><a href="#QPixmap" class="headerlink" title="QPixmap"></a>QPixmap</h2><p>æŸ¥è¯¢åˆ°QPixmapçš„æºæ–‡ä»¶ï¼Œä¸€èˆ¬å­˜æ”¾åœ¨ <code>Qt</code> å®‰è£…ç›®å½•ä¸‹ <code>$&#123;å®‰è£…ç›®å½•&#125;\5.9.9\Src\qtbase\src\gui\image</code>ï¼Œæ–‡ä»¶åä¸º <code>qpixmap.h qpixmap.cpp</code></p><p>å…ˆçœ‹ä¸€ä¸‹ <code>QPixmap</code> çš„ æ„é€ å‡½æ•°ä¸­è¯»å–å›¾ç‰‡æ–‡ä»¶çš„æ–¹æ³•ã€‚</p><ol><li><p><code>QPixmap::QPixmap(const QString&amp; fileName, const char *format, Qt::ImageConversionFlags flags)</code>çš„æºç </p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">QPixmap::<span class="built_in">QPixmap</span>(<span class="type">const</span> QString&amp; fileName, <span class="type">const</span> <span class="type">char</span> *format, Qt::ImageConversionFlags flags)</span><br><span class="line">    : <span class="built_in">QPaintDevice</span>()</span><br><span class="line">   &#123;</span><br><span class="line">        <span class="built_in">doInit</span>(<span class="number">0</span>, <span class="number">0</span>, QPlatformPixmap::PixmapType);</span><br><span class="line">        <span class="keyword">if</span> (!<span class="built_in">qt_pixmap_thread_test</span>())</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">        <span class="built_in">load</span>(fileName, format, flags); <span class="comment">// è¿™é‡Œçœ‹åˆ°è°ƒç”¨äº†load()çš„æ¥å£ï¼Œæ¥ç€æŸ¥çœ‹loadæ˜¯å¦‚ä½•å®ç°çš„</span></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></li><li><p><code>load()</code>å‡½æ•°æºç </p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*!</span></span><br><span class="line"><span class="comment">    Loads a pixmap from the file with the given \a fileName. Returns</span></span><br><span class="line"><span class="comment">    true if the pixmap was successfully loaded; otherwise invalidates</span></span><br><span class="line"><span class="comment">    the pixmap and returns \c false.</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    The loader attempts to read the pixmap using the specified \a</span></span><br><span class="line"><span class="comment">    format. If the \a format is not specified (which is the default),</span></span><br><span class="line"><span class="comment">    the loader probes the file for a header to guess the file format.</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    The file name can either refer to an actual file on disk or to one</span></span><br><span class="line"><span class="comment">    of the application&#x27;s embedded resources. See the</span></span><br><span class="line"><span class="comment">    \l&#123;resources.html&#125;&#123;Resource System&#125; overview for details on how to</span></span><br><span class="line"><span class="comment">    embed pixmaps and other resource files in the application&#x27;s</span></span><br><span class="line"><span class="comment">    executable.</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    If the data needs to be modified to fit in a lower-resolution</span></span><br><span class="line"><span class="comment">    result (e.g. converting from 32-bit to 8-bit), use the \a flags to</span></span><br><span class="line"><span class="comment">    control the conversion.</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    Note that QPixmaps are automatically added to the QPixmapCache</span></span><br><span class="line"><span class="comment">    when loaded from a file; the key used is internal and can not</span></span><br><span class="line"><span class="comment">    be acquired.</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    \sa loadFromData(), &#123;QPixmap#Reading and Writing Image</span></span><br><span class="line"><span class="comment">    Files&#125;&#123;Reading and Writing Image Files&#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* ç¿»è¯‘è¿‡æ¥å°±æ˜¯</span></span><br><span class="line"><span class="comment">ä»ç»™å®šçš„æ–‡ä»¶åçš„æ–‡ä»¶ä¸­åŠ è½½ä¸€ä¸ªåƒç´ å›¾ã€‚å¦‚æœpixmapæˆåŠŸåŠ è½½ï¼Œåˆ™ä¸ºTrue;å¦åˆ™è¿”å›æ— æ•ˆpixmapå¹¶è¿”å›\c falseã€‚</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">åŠ è½½å™¨å°è¯•ä½¿ç”¨æŒ‡å®šçš„\aè¯»å–pixmapæ ¼å¼ã€‚å¦‚æœæ²¡æœ‰æŒ‡å®š\aæ ¼å¼(è¿™æ˜¯é»˜è®¤çš„)ï¼Œ</span></span><br><span class="line"><span class="comment">åŠ è½½å™¨æ¢æµ‹æ–‡ä»¶çš„å¤´ï¼Œä»¥çŒœæµ‹æ–‡ä»¶çš„æ ¼å¼ã€‚</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">æ–‡ä»¶åå¯ä»¥æŒ‡å‘ç£ç›˜ä¸Šçš„å®é™…æ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥æŒ‡å‘ç£ç›˜ä¸Šçš„å®é™…æ–‡ä»¶åº”ç”¨ç¨‹åºçš„åµŒå…¥å¼èµ„æºã€‚çœ‹åˆ°\l&#123;resources.html&#125;&#123;Resource System&#125;æ¦‚è¿°å¦‚ä½•åµŒå…¥pixmapå’Œå…¶ä»–èµ„æºæ–‡ä»¶åœ¨åº”ç”¨ç¨‹åºçš„å¯æ‰§è¡Œæ–‡ä»¶ã€‚</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">å¦‚æœæ•°æ®éœ€è¦ä¿®æ”¹ä»¥é€‚åº”ä½åˆ†è¾¨ç‡ç»“æœ(ä¾‹å¦‚ä»32ä½è½¬æ¢åˆ°8ä½)ï¼Œä½¿ç”¨\aæ ‡å¿—æ¥æ§åˆ¶è½¬æ¢ã€‚</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">æ³¨æ„ï¼Œqpixmapä¼šè‡ªåŠ¨æ·»åŠ åˆ°QPixmapCacheä¸­</span></span><br><span class="line"><span class="comment">å½“ä»æ–‡ä»¶åŠ è½½æ—¶;ä½¿ç”¨çš„å¯†é’¥æ˜¯å†…éƒ¨çš„ï¼Œä¸èƒ½è¢«æ”¶è´­ã€‚</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">\sa loadFromData()ï¼Œ &#123;QPixmap#è¯»å†™å›¾åƒè¯»å†™å›¾åƒæ–‡ä»¶&#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// loadFromdataçš„æºç æˆ‘ä¹Ÿè¡¥å……åˆ°äº†æ–‡æœ«</span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">QPixmap::load</span><span class="params">(<span class="type">const</span> QString &amp;fileName, <span class="type">const</span> <span class="type">char</span> *format, Qt::ImageConversionFlags flags)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!fileName.<span class="built_in">isEmpty</span>()) &#123;</span><br><span class="line"></span><br><span class="line">        <span class="function">QFileInfo <span class="title">info</span><span class="params">(fileName)</span></span>;</span><br><span class="line">        <span class="comment">// Note: If no extension is provided, we try to match the</span></span><br><span class="line">        <span class="comment">// file against known plugin extensions</span></span><br><span class="line">        <span class="keyword">if</span> (info.<span class="built_in">completeSuffix</span>().<span class="built_in">isEmpty</span>() || info.<span class="built_in">exists</span>()) &#123;</span><br><span class="line"></span><br><span class="line">            QString key = <span class="built_in">QLatin1String</span>(<span class="string">&quot;qt_pixmap&quot;</span>)</span><br><span class="line">                    % info.<span class="built_in">absoluteFilePath</span>()</span><br><span class="line">                    % <span class="built_in">HexString</span>&lt;uint&gt;(info.<span class="built_in">lastModified</span>().<span class="built_in">toSecsSinceEpoch</span>())</span><br><span class="line">                    % <span class="built_in">HexString</span>&lt;quint64&gt;(info.<span class="built_in">size</span>())</span><br><span class="line">                    % <span class="built_in">HexString</span>&lt;uint&gt;(data ? data-&gt;<span class="built_in">pixelType</span>() : QPlatformPixmap::PixmapType);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (QPixmapCache::<span class="built_in">find</span>(key, <span class="keyword">this</span>))</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">            data = QPlatformPixmap::<span class="built_in">create</span>(<span class="number">0</span>, <span class="number">0</span>, data ? data-&gt;<span class="built_in">pixelType</span>() : QPlatformPixmap::PixmapType);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (data-&gt;<span class="built_in">fromFile</span>(fileName, format, flags)) &#123;</span><br><span class="line">                QPixmapCache::<span class="built_in">insert</span>(key, *<span class="keyword">this</span>);</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (!<span class="built_in">isNull</span>()) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">isQBitmap</span>())</span><br><span class="line">            *<span class="keyword">this</span> = <span class="built_in">QBitmap</span>();</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            data.<span class="built_in">reset</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><p>ä¸€çœ‹æºç æ˜¯ä¸æ˜¯å°±æ¸…æ™°å¤šäº†ã€‚åœ¨ <code>load()</code>å‡½æ•°çš„å®ç°ä¸­ï¼šâ‘ åˆ¤æ–­æ–‡ä»¶åæ˜¯ä¸æ˜¯ä¸ºç©ºï¼›â‘¡ä¸ä¸ºç©ºæ—¶ï¼Œé¦–å…ˆå°±æ˜¯è¯»å–æ–‡ä»¶çš„åç¼€ã€‚è¿™é‡Œæˆ‘ä»¬å¯ä»¥ç»†ç»†æŸ¥ä¸€ä¸‹ç¬¬äºŒä¸ª <code>if</code> åˆ¤æ–­ä¸­ <code>QString</code> ç±»å‹çš„ <code>key</code> åˆ°åº•æ˜¯è¿›è¡Œäº†ä¸€ä¸ªä»€ä¹ˆæ“ä½œã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">QString key = <span class="built_in">QLatin1String</span>(<span class="string">&quot;qt_pixmap&quot;</span>)</span><br><span class="line">                    % info.<span class="built_in">absoluteFilePath</span>() <span class="comment">// è¿”å›æ–‡ä»¶åçš„ç»å¯¹è·¯å¾„</span></span><br><span class="line">                    % <span class="built_in">HexString</span>&lt;uint&gt;(info.<span class="built_in">lastModified</span>().<span class="built_in">toSecsSinceEpoch</span>()) <span class="comment">// è¿”å›æ–‡ä»¶æœ€åä¸€æ¬¡ä¿®æ”¹çš„æ—¥æœŸå’Œæ—¶é—´</span></span><br><span class="line">                    % <span class="built_in">HexString</span>&lt;quint64&gt;(info.<span class="built_in">size</span>()) <span class="comment">// è¿”å›æ–‡ä»¶çš„å¤§å°</span></span><br><span class="line">                    % <span class="built_in">HexString</span>&lt;uint&gt;(data ? data-&gt;<span class="built_in">pixelType</span>() : QPlatformPixmap::PixmapType); <span class="comment">// è¿™é‡Œçš„dataæ˜¯æˆå‘˜å˜é‡ï¼Œå°±æ˜¯è¯´å¦‚æœè®¾ç½®äº†dataçš„pixelTypeçš„å€¼å°±è¯»å–ï¼Œæ²¡è®¾ç½®çš„è¯å°±æ˜¯é»˜è®¤å€¼ QPlatformPixmap::PixmapType</span></span><br></pre></td></tr></table></figure><p>ä¸Šè¿°çš„ <code>HexString&lt;type&gt;</code>å°±æ˜¯ ASCII çš„æ•°ç»„å½¢å¼ï¼Œ<code>16è¿›åˆ¶</code> çš„æ•°ç»„ã€‚<u>ä¸Šè¿°ä»£ç ä¸­çš„ <code>%</code> æ“ä½œå¦‚æœä¸æ˜¯æ±‚ä½™çš„è¯ä¼šæ˜¯ä»€ä¹ˆå‘¢ã€‚å¦‚æœæ˜¯æ±‚ä½™ï¼Œ<code>QString</code> ä¼šæŠ¥é”™æ‰æ˜¯å‘€ï¼Ÿï¼Ÿï¼Ÿ</u></p><p>è¿™é‡Œæœ€ç»ˆè¿˜æ˜¯é€šè¿‡è®¾ç½®å’ŒæŸ¥çœ‹ <code>QPixmap</code> çš„å†…ç½®å˜é‡ <code>data</code> ä¸­çš„æ ‡å¿—å»æŸ¥çœ‹å½“å‰æ–‡ä»¶æ˜¯ä¸æ˜¯å›¾ç‰‡ï¼Œå¦‚æœæ˜¯å›¾ç‰‡ï¼Œåˆ™ä¼šä¿®æ”¹å½“å‰çš„ <code>QPixmap</code> æŒ‡é’ˆï¼Œå¦‚æœä¸æ˜¯å°±ä¼šè¿”å› <mark style="background:red;">false</mark>ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (QPixmapCache::<span class="built_in">find</span>(key, <span class="keyword">this</span>))</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œè¡¥å……ä¸€ä¸ª<code>QPixmapCache</code>çš„demoï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*åœ¨ç¼“å­˜ä¸­æŸ¥æ‰¾ä¸ç»™å®šé”®å…³è”çš„ç¼“å­˜pixmapã€‚å¦‚æœæ‰¾åˆ°äº†pixmapï¼Œå‡½æ•°å°†pixmapè®¾ç½®ä¸ºè¯¥pixmapå¹¶è¿”å›true;å¦åˆ™ï¼Œå®ƒå°†ä¿ç•™pixmapå¹¶è¿”å›falseã€‚*/</span></span><br><span class="line">QPixmap pm;</span><br><span class="line"><span class="keyword">if</span> (!QPixmapCache::<span class="built_in">find</span>(<span class="string">&quot;my_big_image&quot;</span>, &amp;pm)) &#123;</span><br><span class="line">    pm.<span class="built_in">load</span>(<span class="string">&quot;bigimage.png&quot;</span>);</span><br><span class="line">    QPixmapCache::<span class="built_in">insert</span>(<span class="string">&quot;my_big_image&quot;</span>, pm);</span><br><span class="line">&#125;</span><br><span class="line">painter-&gt;<span class="built_in">drawPixmap</span>(<span class="number">0</span>, <span class="number">0</span>, pm);</span><br></pre></td></tr></table></figure><p>æœ€ç»ˆåˆ¤æ–­å½“å‰æ–‡ä»¶æ˜¯ä¸æ˜¯å›¾ç‰‡åº”è¯¥æ˜¯åœ¨ <code>data-&gt;fromFile()</code> ä¸­å®ç°çš„ã€‚</p><p>è¿™ä¸ª<code>data</code>çš„å®šä¹‰ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">QExplicitlySharedDataPointer&lt;QPlatformPixmap&gt; data;</span><br></pre></td></tr></table></figure><p><mark>æœªå®Œæˆ</mark>è¿™ç¯‡æ–‡ç« è¿˜åœ¨ç¼–è¾‘ä¸­</p><h1 id="è¡¥å……"><a href="#è¡¥å……" class="headerlink" title="è¡¥å……"></a>è¡¥å……</h1><blockquote><p>è¡¥å……ä¸€ä¸‹</p><p><code>load()</code>çš„å‡½æ•°æœ‰å¿…è¦è¯»ä¸€ä¸‹ã€‚</p><p> <code>QPixmap::loadFromData()</code> çš„æºç ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*!</span></span><br><span class="line"><span class="comment">    \fn bool QPixmap::loadFromData(const uchar *data, uint len, const char *format, Qt::ImageConversionFlags flags)</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    Loads a pixmap from the \a len first bytes of the given binary \a</span></span><br><span class="line"><span class="comment">    data.  Returns \c true if the pixmap was loaded successfully;</span></span><br><span class="line"><span class="comment">    otherwise invalidates the pixmap and returns \c false.</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    The loader attempts to read the pixmap using the specified \a</span></span><br><span class="line"><span class="comment">    format. If the \a format is not specified (which is the default),</span></span><br><span class="line"><span class="comment">    the loader probes the file for a header to guess the file format.</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    If the data needs to be modified to fit in a lower-resolution</span></span><br><span class="line"><span class="comment">    result (e.g. converting from 32-bit to 8-bit), use the \a flags to</span></span><br><span class="line"><span class="comment">    control the conversion.</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    \sa load(), &#123;QPixmap#Reading and Writing Image Files&#125;&#123;Reading and</span></span><br><span class="line"><span class="comment">    Writing Image Files&#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">QPixmap::loadFromData</span><span class="params">(<span class="type">const</span> uchar *buf, uint len, <span class="type">const</span> <span class="type">char</span> *format, Qt::ImageConversionFlags flags)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (len == <span class="number">0</span> || buf == <span class="number">0</span>) &#123;</span><br><span class="line">        data.<span class="built_in">reset</span>();</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    data = QPlatformPixmap::<span class="built_in">create</span>(<span class="number">0</span>, <span class="number">0</span>, QPlatformPixmap::PixmapType);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (data-&gt;<span class="built_in">fromData</span>(buf, len, format, flags))</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">    data.<span class="built_in">reset</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></blockquote>]]></content>
      
      
      <categories>
          
          <category> æ‚è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å›¾ç‰‡ </tag>
            
            <tag> Qt </tag>
            
            <tag> æ ¼å¼ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>pngå’Œjpgæ ¼å¼çš„å›¾ç‰‡(ä¸€)</title>
      <link href="/%E6%9D%82%E8%AE%B0/png%E5%92%8Cjpg%E6%A0%BC%E5%BC%8F%E5%9B%BE%E7%89%87/"/>
      <url>/%E6%9D%82%E8%AE%B0/png%E5%92%8Cjpg%E6%A0%BC%E5%BC%8F%E5%9B%BE%E7%89%87/</url>
      
        <content type="html"><![CDATA[<p>[toc]</p><h1 id="jpg-å’Œ-png-å›¾ç‰‡æ ¼å¼"><a href="#jpg-å’Œ-png-å›¾ç‰‡æ ¼å¼" class="headerlink" title="jpg å’Œ png å›¾ç‰‡æ ¼å¼"></a><code>jpg</code> å’Œ <code>png</code> å›¾ç‰‡æ ¼å¼</h1><p>åœ¨å†™è¿™ç¯‡æ–‡ç« ä¹‹å‰ï¼Œç¬”è€…åœ¨ç¼–å†™ä¸€ä¸ªç®€å•çš„ Qt ç¨‹åºæ—¶é‡åˆ°äº†è¿™æ ·ä¸€ä¸ªé—®é¢˜ï¼š</p><blockquote><p>é—®é¢˜ï¼šä¸€ä¸ª<code>png</code>æ ¼å¼çš„å›¾ç‰‡æ”¹æˆåç¼€ä¸º<code>jpg</code>æ ¼å¼çš„å›¾ç‰‡æ—¶ï¼ŒQLabelæ— æ³•è¯»å–çš„é—®é¢˜ã€‚ç¬”è€…æ˜¯é€šè¿‡<code>setStyleSheet()</code>ã€<code>QImage</code>ã€<code>QPixmap</code>çš„æ¥å£å‡å°è¯•è¿‡å°†æ”¹åç¼€åå›¾ç‰‡è®¾ç½®åˆ°<code>QLabel</code>ä¸­ï¼Œå‡ä»¥<mark style="background-color:red">å¤±è´¥</mark>å‘Šç»ˆã€‚</p></blockquote><p>ç‰¹æ­¤ç ”ç©¶äº†ä¸€ä¸‹è¿™<code>jpg</code>å’Œ<code>png</code>ä¸¤è€…ä¹‹é—´çš„åŒºåˆ«ï¼Œåç»­å†ç ”ç©¶ä¸€ä¸‹Qtå…³äºç›¸å…³æ ¼å¼å›¾ç‰‡è¯»å–çš„é—®é¢˜ã€‚</p><p>å›¾ç‰‡ä¼šæœ‰<code>jpg</code>å’Œ<code>png</code>ä¸¤ç§æ ¼å¼ï¼Œé‚£ä¹ˆè¿™ä¿©ç§æ ¼å¼çš„å›¾ç‰‡åˆæœ‰ç€ä»€ä¹ˆæ ·çš„åŒºåˆ«å‘¢ï¼Ÿä¸‹é¢å°±ç»™å¤§å®¶åˆ†äº«ä¸€ä¸‹ã€‚ <code>png</code>å’Œ<code>jpg</code>éƒ½æ˜¯å¸¸ç”¨çš„å›¾ç‰‡æ ¼å¼ï¼Œå…¶ä¸­<code>png</code>å±äºæ— æŸå‹ç¼©ï¼Œ<code>jpg</code>æ˜¯æœ‰æŸå‹ç¼©ï¼Œä½¿ç”¨ä¸­ä¸¤è€…æœ€æ˜æ˜¾çš„ä¸€ä¸ªåŒºåˆ«æ˜¯:</p><ul><li>pngæ”¯æŒé€æ˜é€šé“</li><li>jpgçš„å›¾ç‰‡æ›´é€‚åˆåœ¨ç½‘ç»œä¸­ä¼ æ’­å’Œä½¿ç”¨ã€‚</li></ul><h2 id="jpgæ ¼å¼"><a href="#jpgæ ¼å¼" class="headerlink" title="jpgæ ¼å¼"></a><code>jpg</code>æ ¼å¼</h2><blockquote><p><strong>jpgï¼š</strong>æ˜¯JPEGæ ‡å‡†çš„äº§ç‰©ï¼Œä¹Ÿæ˜¯ç›®å‰ç½‘ç»œæœ€ä¸ºæµè¡Œçš„å›¾ç‰‡æ ¼å¼ï¼Œjpgæ ¼å¼çš„å›¾ç‰‡å¯ä»¥å°†å›¾åƒæ–‡ä»¶å‹ç¼©åˆ°æœ€å°æ ¼å¼ï¼Œåœ¨é«˜åº¦å‹ç¼©ç‡çš„åŒæ—¶ï¼Œå¯ä»¥å±•ç°æ˜¯åˆ†ä¸°å¯Œç”ŸåŠ¨çš„å›¾åƒï¼Œä½†æ˜¯éšç€å‹ç¼©æ¯”çš„å¢å¤§ï¼Œå›¾ç‰‡çš„å“è´¨ä¼šé€æ¸é™ä½çš„ã€‚æˆ‘ä»¬ç°åœ¨å¸¸ç”¨çš„jpgçš„æ ‡å‡†å…¨ç¨‹ä¸º<code>JPEG 2000æ ‡å‡†</code>ï¼Œæœ‰ä»¥ä¸‹å‡ ç‚¹ç‰¹æ€§ï¼š</p><ol><li>é«˜å‹ç¼©ç‡</li><li>æ— æŸå‹ç¼©å’Œæœ‰æŸå‹ç¼©</li><li>æ¸è¿›ä¼ è¾“</li><li>æ„Ÿå…´è¶£åŒºåŸŸå‹ç¼©</li><li>ç æµçš„éšæœºè®¿é—®å’Œå¤„ç†</li><li>å®¹é”™æ€§</li><li>åŸºäºå†…å®¹çš„æè¿°</li></ol></blockquote><h2 id="pngæ ¼å¼"><a href="#pngæ ¼å¼" class="headerlink" title="pngæ ¼å¼"></a><code>png</code>æ ¼å¼</h2><blockquote><p><strong>pngï¼š</strong>æ˜¯ä¸€ç§é‡‡ç”¨æ— æŸå‹ç¼©ç®—æ³•çš„ä½å›¾æ¨¡å¼ï¼Œå…¶è®¾è®¡ç›®çš„æ˜¯è§†å›¾æ›¿ä»£GIFå’ŒTIFFæ–‡ä»¶æ ¼å¼ï¼ŒåŒæ—¶å¢åŠ ä¸€ä¸‹GIFæ–‡ä»¶æ ¼å¼æ‰€ä¸å…·å¤‡çš„ç‰¹æ€§ã€‚PNGä½¿ç”¨ä»LZ77æ´¾ç”Ÿçš„æ— æŸæ•°æ®å‹ç¼©ç®—æ³•ï¼Œä¸€èˆ¬åº”ç”¨äºJAVAç¨‹åºã€ç½‘é¡µæˆ–S60ç¨‹åºä¸­ï¼ŒåŸå› å°±æ˜¯å› ä¸ºpngçš„å‹ç¼©æ¯”æ›´é«˜ï¼Œç”Ÿæˆæ–‡ä»¶ä½“ç§¯å°ã€‚pngå›¾ç‰‡ä¹Ÿæœ‰ä¸€äº›ç‰¹æ€§ï¼š</p><ol><li>ä½“ç§¯å°</li><li>æ— æŸå‹ç¼©</li><li>ç´¢å¼•å½©è‰²æ¨¡å¼</li><li>æ›´ä¼˜åŒ–çš„ç½‘ç»œä¼ è¾“æ˜¾ç¤º</li><li><strong>æ”¯æŒé€æ˜æ¨¡å¼</strong></li></ol></blockquote><p>å…³äº <code>png</code> æ ¼å¼è¿˜éœ€è¦è¯´æ˜çš„æ˜¯ï¼š</p><p>pngæ ¼å¼æœ‰8ä½ã€24ä½ã€32ä½ä¸‰ç§å½¢å¼ï¼Œå…¶ä¸­8ä½PNGæ”¯æŒä¸¤ç§ä¸åŒçš„é€æ˜å½¢å¼ï¼ˆç´¢å¼•é€æ˜å’Œalphaé€æ˜ï¼‰ï¼Œ24ä½PNGä¸æ”¯æŒé€æ˜ï¼Œ32ä½PNGåœ¨24ä½åŸºç¡€ä¸Šå¢åŠ äº†8ä½é€æ˜é€šé“ï¼Œå› æ­¤å¯å±•ç°256çº§é€æ˜ç¨‹åº¦ã€‚</p><p>PNG8å’ŒPNG24åé¢çš„æ•°å­—åˆ™æ˜¯ä»£è¡¨è¿™ç§PNGæ ¼å¼æœ€å¤šå¯ä»¥ç´¢å¼•å’Œå­˜å‚¨çš„é¢œè‰²å€¼ã€‚8ä»£è¡¨2çš„8æ¬¡æ–¹ä¹Ÿå°±æ˜¯256è‰²ï¼Œè€Œ24åˆ™ä»£è¡¨2çš„24æ¬¡æ–¹å¤§æ¦‚æœ‰1600å¤šä¸‡è‰²ã€‚</p><h1 id="åŒºåˆ«ï¼špng-å’Œ-jpg"><a href="#åŒºåˆ«ï¼špng-å’Œ-jpg" class="headerlink" title="åŒºåˆ«ï¼špng å’Œ jpg"></a>åŒºåˆ«ï¼š<code>png</code> å’Œ <code>jpg</code></h1><blockquote><p>è½¬è‡ªç™¾åº¦ç™¾ç§‘ï¼š</p><p>1ã€<a href="https://baike.baidu.com/item/JPEG">JPEG</a>å¯ä»¥å¯¹ç…§ç‰‡ï¼ˆæˆ–ç±»ä¼¼ï¼‰å›¾åƒç”Ÿæˆæ›´å°çš„æ–‡ä»¶ï¼Œè¿™æ˜¯ç”±äºJPEGé‡‡ç”¨äº†ä¸€ç§é’ˆå¯¹ç…§ç‰‡å›¾åƒçš„ç‰¹å®šæœ‰æŸç¼–ç æ–¹æ³•ï¼Œè¿™ç§ç¼–ç é€‚ç”¨äºä½å¯¹æ¯”ï¼Œå›¾åƒé¢œè‰²è¿‡æ¸¡å¹³æ»‘ï¼Œå™ªå£°å¤šï¼Œä¸”ç»“æ„ä¸è§„åˆ™çš„æƒ…å†µä¸‹ã€‚å¦‚æœåœ¨è¿™ç§æƒ…å†µä¸‹ç”¨PNGä»£æ›¿JPEGï¼Œæ–‡ä»¶å°ºå¯¸å¢å¤§å¾ˆå¤šï¼Œè€Œå›¾åƒè´¨é‡çš„æé«˜æœ‰é™ã€‚ç›¸åº”çš„ï¼Œå¦‚æœä¿å­˜æ–‡æœ¬ï¼Œçº¿æ¡æˆ–ç±»ä¼¼çš„è¾¹ç¼˜æ¸…æ™°ï¼Œæœ‰å¤§å—ç›¸åŒé¢œè‰²åŒºåŸŸçš„å›¾åƒï¼ŒPNGæ ¼å¼çš„å‹ç¼©æ•ˆæœå°±è¦æ¯”JPEGå¥½å¾ˆå¤šï¼Œå¹¶ä¸”ä¸ä¼šå‡ºç°JPEGé‚£æ ·çš„é«˜å¯¹æ¯”åº¦åŒºåŸŸçš„å›¾åƒæœ‰æŸã€‚å¦‚æœå›¾åƒæ—¢æœ‰æ¸…æ™°è¾¹ç¼˜ï¼Œåˆæœ‰ç…§ç‰‡å›¾åƒçš„ç‰¹ç‚¹ï¼Œå°±åœ¨åœ¨è¿™ä¸¤ç§æ ¼å¼ä¹‹é—´æƒè¡¡ä¸€ä¸‹äº†ã€‚JPEGä¸æ”¯æŒé€æ˜åº¦ã€‚</p><p>2ã€ç”±äºJPEGæ˜¯æœ‰æŸå‹ç¼©ï¼Œä¼šäº§ç”Ÿè¿­ä»£æœ‰æŸï¼Œåœ¨é‡å¤å‹ç¼©å’Œè§£ç çš„è¿‡ç¨‹ä¸­ä¼šä¸æ–­ä¸¢å¤±ä¿¡æ¯ä½¿å›¾åƒè´¨é‡ä¸‹é™ã€‚ç”±äºPNGæ˜¯æ— æŸçš„ï¼Œä¿å­˜å°†è¦è¢«ç¼–è¾‘çš„å›¾åƒæ¥è¯´æ›´åŠ åˆé€‚ã€‚è™½ç„¶PNGå‹ç¼©ç…§ç‰‡å›¾åƒä¹Ÿæœ‰æ•ˆï¼Œä½†æœ‰ä¸“é—¨é’ˆå¯¹ç…§ç‰‡å›¾åƒè®¾è®¡çš„æ— æŸå‹ç¼©æ ¼å¼ï¼Œæ¯”å¦‚æ— æŸJPEG2000ï¼ŒAdobe DNGç­‰ã€‚æ€»çš„æ¥è¯´è¿™äº›æ ¼å¼éƒ½ä¸èƒ½åšåˆ°é€‚ç”¨æ‰€æœ‰å›¾åƒã€‚å¯¹äºå°†è¦å‘å¸ƒçš„å›¾åƒå¯ä»¥ä¿å­˜æˆJPEGï¼Œç”¨JPEGç¼–ç ä¸€æ¬¡ä¸ä¼šé€ æˆæ˜æ˜¾çš„å›¾åƒæœ‰æŸã€‚</p></blockquote><p>æ€»ç»“å°±æ˜¯ï¼š</p><ol><li><code>jpg</code>æ ¼å¼çš„å›¾ç‰‡èƒ½åœ¨é«˜åº¦å‹ç¼©ç‡çš„åŒæ—¶ï¼Œå±•ç°ååˆ†ä¸°å¯Œç”ŸåŠ¨çš„å›¾åƒï¼Œä½†æ˜¯éšç€å‹ç¼©æ¯”çš„å¢å¤§ï¼Œå›¾ç‰‡çš„å“è´¨ä¼šé€æ¸é™ä½çš„ã€‚è€Œ<code>png</code>å›¾ç‰‡çš„ç‰¹æ€§å°±æ˜¯ä½“ç§¯å°ï¼ŒèŠ‚çº¦ç©ºé—´ï¼Œä¸<code>jpg</code>å›¾ç‰‡ç›¸æ¯”ï¼Œ<code>png</code>å›¾ç‰‡æ—¶æ— æŸå‹ç¼©ï¼Œåœ¨ä¸æŸå¤±å›¾ç‰‡æ•°æ®çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥å¿«é€Ÿçš„è·å–è‡ªå·±æƒ³è¦çš„å›¾ç‰‡ï¼Œè€Œä¸”å›¾ç‰‡çš„è´¨é‡å¹¶ä¸ä¼šä¸‹é™ã€‚</li><li><code>png</code>æ ¼å¼çš„å›¾ç‰‡å¯ä»¥ç¼–è¾‘ï¼Œæ¯”å¦‚å›¾ç‰‡ä¸­çš„å­—ä½“ã€çº¿æ¡ç­‰ï¼Œå¯ä»¥é€šè¿‡psç­‰è½¯ä»¶æ›´æ”¹ã€‚ä½†æ˜¯<code>jpg</code>æ ¼å¼çš„å›¾ç‰‡åˆ™ä¸å¯ä»¥æ›´æ”¹ï¼Œ<code>png</code>ä¸<code>jpg</code>å›¾ç‰‡ç›¸æ¯”<code>png</code>æ ¼å¼çš„å›¾ç‰‡æ›´å¤§ã€‚</li></ol>]]></content>
      
      
      <categories>
          
          <category> æ‚è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å›¾ç‰‡ </tag>
            
            <tag> æ ¼å¼ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¸­å›½é©¬å…‹æ€ä¸»ä¹‰ç§‘å­¦æŠ€æœ¯è§‚</title>
      <link href="/%E6%9D%82%E8%AE%B0/%E4%B8%AD%E5%9B%BD%E9%A9%AC%E5%85%8B%E6%80%9D%E4%B8%BB%E4%B9%89%E7%A7%91%E5%AD%A6%E6%8A%80%E6%9C%AF%E8%A7%82/"/>
      <url>/%E6%9D%82%E8%AE%B0/%E4%B8%AD%E5%9B%BD%E9%A9%AC%E5%85%8B%E6%80%9D%E4%B8%BB%E4%B9%89%E7%A7%91%E5%AD%A6%E6%8A%80%E6%9C%AF%E8%A7%82/</url>
      
        <content type="html"><![CDATA[<p>[toc]</p><h1 id="ç¬¬å››ç« ã€ç§‘å­¦æŠ€æœ¯ç¤¾ä¼šè®º"><a href="#ç¬¬å››ç« ã€ç§‘å­¦æŠ€æœ¯ç¤¾ä¼šè®º" class="headerlink" title="ç¬¬å››ç« ã€ç§‘å­¦æŠ€æœ¯ç¤¾ä¼šè®º"></a>ç¬¬å››ç« ã€ç§‘å­¦æŠ€æœ¯ç¤¾ä¼šè®º</h1><h2 id="1-ä¸ºä»€ä¹ˆè¯´â€œç§‘å­¦æ˜¯ä¸€ç§åœ¨å†å²ä¸Šèµ·æ¨åŠ¨ä½œç”¨çš„ã€é©å‘½çš„åŠ›é‡â€ï¼Ÿ"><a href="#1-ä¸ºä»€ä¹ˆè¯´â€œç§‘å­¦æ˜¯ä¸€ç§åœ¨å†å²ä¸Šèµ·æ¨åŠ¨ä½œç”¨çš„ã€é©å‘½çš„åŠ›é‡â€ï¼Ÿ" class="headerlink" title="1. ä¸ºä»€ä¹ˆè¯´â€œç§‘å­¦æ˜¯ä¸€ç§åœ¨å†å²ä¸Šèµ·æ¨åŠ¨ä½œç”¨çš„ã€é©å‘½çš„åŠ›é‡â€ï¼Ÿ"></a>1. ä¸ºä»€ä¹ˆè¯´â€œç§‘å­¦æ˜¯ä¸€ç§åœ¨å†å²ä¸Šèµ·æ¨åŠ¨ä½œç”¨çš„ã€é©å‘½çš„åŠ›é‡â€ï¼Ÿ</h2><blockquote><p>&amp;nbsp;&amp;nbsp;ç§‘å­¦æŠ€æœ¯æ˜¯å†å²å‘å±•çš„ç«è½¦å¤´ï¼Œæ”¹å˜äº†ç¤¾ä¼šå†å²è¿›ç¨‹ï¼Œé€ å°±äº†æ–°çš„ç¤¾ä¼šå½¢æ€;æ¨åŠ¨äº†ç”Ÿäº§åŠ›å†…éƒ¨å„è¦ç´ çš„å˜é©ï¼Œå¼•å‘äº†äº§ä¸šç»“æ„çš„è°ƒæ•´ã€ç»æµå½¢å¼çš„å˜åŒ–å’Œç»æµå¢é•¿æ–¹å¼çš„è½¬å˜ï¼Œé€ å°±äº†ç»æµè½¬å‹;äº§ç”Ÿäº†æŠ€æœ¯å¼‚åŒ–ç°è±¡ï¼Œè¦å¯¹å¼‚åŒ–çš„èµ„æœ¬ä¸»ä¹‰åˆ¶åº¦å±•å¼€æ‰¹åˆ¤ï¼Œæ›´å¥½åœ°å‘æŒ¥ç§‘å­¦æŠ€æœ¯çš„ç¤¾ä¼šåŠŸèƒ½ã€‚<br>&amp;nbsp;&amp;nbsp;ç§‘å­¦æŠ€æœ¯ä½œä¸ºç¤¾ä¼šå‘å±•çš„åŠ¨åŠ›,æ˜¯é©¬å…‹æ€ä¸»ä¹‰çš„åŸºæœ¨è§‚ç‚¹ã€‚ç§‘å­¦æ˜¯ç”Ÿäº§åŠ›çš„â€œçŸ¥è¯†çš„å½¢æ€â€ã€‚ä½œä¸ºç”Ÿäº§åŠ›çš„ç§‘å­¦æŠ€æœ¯ï¼Œèƒ½å¤Ÿå¤§å¤§æé«˜ç¤¾ä¼šç”Ÿäº§åŠ›æ°´å¹³ï¼Œæ¨åŠ¨ç€æ•´ä¸ªäººç±»ç‰©è´¨ç”Ÿäº§çš„è¿…çŒ›å‘å±•ã€‚<br>&amp;nbsp;&amp;nbsp;ä½œä¸ºå¼ºå¤§çš„ç²¾ç¥åŠ›é‡çš„ç§‘å­¦æŠ€æœ¯ï¼Œèƒ½å¤Ÿä¿ƒè¿›äººç±»æ€æƒ³çš„è§£æ”¾ï¼Œåœ¨äº§ä¸šé©å‘½çš„åŸºç¡€ä¸Šï¼Œæ¨åŠ¨ç¤¾ä¼šå˜é©ï¼Œå¯¹ç¤¾ä¼šç”Ÿäº§å…³ç³»äº§ç”Ÿæœ‰åŠ›å½±å“ã€‚<br>&amp;nbsp;&amp;nbsp;ä½œä¸ºäººç±»æœ€ç»ˆèµ°å‘ç™½ç”±çš„ç§‘å­¦æŠ€æœ¯ï¼Œèƒ½å¤Ÿä½œä¸ºè§£æ”¾çš„æ æ†ï¼Œå¢è¿›äººç±»ç²¾ç¥ç”Ÿæ´»çš„ä¸°å¯Œæ€§å’Œè‡ªæˆ‘å‘å±•èƒ½åŠ›ï¼Œæœ‰åŠ©äºå®ç°äººçš„å…¨é¢è‡ªç”±çš„å‘å±•ã€‚</p></blockquote><h2 id="2-å¦‚ä½•çœ‹å¾…ç§‘å­¦æŠ€æœ¯å¯¹äººçš„å¼‚åŒ–å’Œå¯¹è‡ªç„¶çš„å¼‚åŒ–ï¼Ÿ"><a href="#2-å¦‚ä½•çœ‹å¾…ç§‘å­¦æŠ€æœ¯å¯¹äººçš„å¼‚åŒ–å’Œå¯¹è‡ªç„¶çš„å¼‚åŒ–ï¼Ÿ" class="headerlink" title="2. å¦‚ä½•çœ‹å¾…ç§‘å­¦æŠ€æœ¯å¯¹äººçš„å¼‚åŒ–å’Œå¯¹è‡ªç„¶çš„å¼‚åŒ–ï¼Ÿ"></a>2. å¦‚ä½•çœ‹å¾…ç§‘å­¦æŠ€æœ¯å¯¹äººçš„å¼‚åŒ–å’Œå¯¹è‡ªç„¶çš„å¼‚åŒ–ï¼Ÿ</h2><blockquote><p>&amp;nbsp;&amp;nbsp;ç§‘æŠ€å¼‚åŒ–å®è´¨ä¸Šæ˜¯åœ¨èµ„æœ¬ä¸»ä¹‰åˆ¶åº¦ä¸‹åŠ³åŠ¨å¼‚åŒ–å’Œäººçš„å¼‚åŒ–ä¸€ç§å¿…ç„¶ç»“æœã€‚ç”±äºåŠ³åŠ¨æ˜¯äººçš„æœ€æ ¹æœ¬æœ€ç°å®çš„å®è·µæ´»åŠ¨ï¼Œæ˜¯äººåŠäººç±»ç¤¾ä¼šå­˜åœ¨çš„æ ¹æœ¬æ–¹å¼ï¼ŒåŠ³åŠ¨çš„å¼‚åŒ–å¿…ç„¶å¸¦æ¥äººçš„å…¶ä»–ç¤¾ä¼šæ´»åŠ¨å’Œç¤¾ä¼šå…³ç³»çš„å…¨é¢å¼‚åŒ–ï¼Œç§‘å­¦æŠ€æœ¯ä¹Ÿä¸ä¾‹å¤–ï¼Œå› ä¸ºâ€œå®—æ•™ã€å®¶åº­ã€å›½å®¶ã€æ³•ã€é“å¾·ã€ç§‘å­¦ã€è‰ºæœ¯ç­‰ç­‰ï¼Œéƒ½ä¸è¿‡æ˜¯ç”Ÿäº§çš„ä¸€äº›ç‰¹æ®Šçš„æ–¹å¼ï¼Œå¹¶ä¸”å—ç”Ÿäº§çš„æ™®éè§„å¾‹çš„æ”¯é…ã€‚â€</p><p>&amp;nbsp;&amp;nbsp;å› æ­¤ï¼Œç§‘å­¦æŠ€æœ¯ä½œä¸ºåŠ³åŠ¨äº¦å³äººå¤„ç†è‡ªèº«ä¸è‡ªç„¶ç•Œå…³ç³»çš„ç¤¾ä¼šæ´»åŠ¨çš„äº§ç‰©ï¼Œä¹Ÿå¿…ç„¶éšç€èµ„æœ¬ä¸»ä¹‰ç¤¾ä¼šåŠ³åŠ¨çš„å¼‚åŒ–è€Œè¡¨ç°å‡ºå¼‚åŒ–çš„ç°è±¡ã€‚æœ€æ ¹æœ¬çš„æ˜¯è¦æ¶ˆç­å¯¹ç§‘å­¦æŠ€æœ¯çš„èµ„æœ¬ä¸»ä¹‰åˆ©ç”¨æ–¹å¼ï¼ŒæŠŠç°ä»£ç§‘å­¦æŠ€æœ¯ä»èµ„æœ¬ä¸»ä¹‰åˆ¶åº¦ä¸‹è§£æ”¾å‡ºæ¥ã€‚ä¹Ÿå°±æ˜¯è¯´åªæœ‰é€šè¿‡æ— äº§é˜¶çº§é©å‘½æ¥æœ€ç»ˆè§£å†³èµ„æœ¬ä¸»ä¹‰çš„ç§‘æŠ€å¼‚åŒ–é—®é¢˜ã€‚å½“ç„¶ï¼Œåœ¨é©¬å…‹æ€çœ‹æ¥ï¼Œå¼‚åŒ–çš„å®Œå…¨å…‹æœåªæœ‰åœ¨å…±äº§ä¸»ä¹‰ç¤¾ä¼šåˆ¶åº¦ä¸­æ‰èƒ½æœ€ç»ˆå®ç°ã€‚</p></blockquote><h2 id="3-ç§‘å­¦æŠ€æœ¯çš„ç¤¾ä¼šä½“åˆ¶å’Œç»„ç»‡æœºæ„å¯¹ç§‘å­¦æŠ€æœ¯çš„å‘å±•æœ‰ä½•æ„ä¹‰ï¼Ÿ"><a href="#3-ç§‘å­¦æŠ€æœ¯çš„ç¤¾ä¼šä½“åˆ¶å’Œç»„ç»‡æœºæ„å¯¹ç§‘å­¦æŠ€æœ¯çš„å‘å±•æœ‰ä½•æ„ä¹‰ï¼Ÿ" class="headerlink" title="3. ç§‘å­¦æŠ€æœ¯çš„ç¤¾ä¼šä½“åˆ¶å’Œç»„ç»‡æœºæ„å¯¹ç§‘å­¦æŠ€æœ¯çš„å‘å±•æœ‰ä½•æ„ä¹‰ï¼Ÿ"></a>3. ç§‘å­¦æŠ€æœ¯çš„ç¤¾ä¼šä½“åˆ¶å’Œç»„ç»‡æœºæ„å¯¹ç§‘å­¦æŠ€æœ¯çš„å‘å±•æœ‰ä½•æ„ä¹‰ï¼Ÿ</h2><blockquote><p>&amp;nbsp;&amp;nbsp;ç§‘å­¦æŠ€æœ¯çš„ç¤¾ä¼šå»ºåˆ¶æœ‰ä¸€ä¸ªå†å²è¿‡ç¨‹ã€‚ç»æµæ”¯æŒåˆ¶åº¦ã€æ³•å¾‹ä¿éšœä½“ç³»ç­‰ç§‘å­¦æŠ€æœ¯ä½“åˆ¶æ˜¯æ ¹æœ¬ï¼Œå„ç§ç»„ç»‡æœºæ„åŠå…¶ç§‘ç ”ç»„ç»‡è¿è¡Œæ˜¯ä¿è¯ï¼Œç§‘å­¦æŠ€æœ¯çš„ä¼¦ç†è§„èŒƒæ˜¯å¯¼å¼•ã€‚åœ¨ç§‘å­¦æŠ€æœ¯å‘å±•åº”ç”¨çš„æ–°é˜¶æ®µï¼Œç§‘å­¦æŠ€æœ¯çš„ç¤¾ä¼šå»ºåˆ¶å‘ˆç°å‡ºä¸€äº›æ–°ç‰¹ç‚¹ï¼Œå› æ­¤å¿…é¡»è¿›è¡Œç§‘å­¦æŠ€æœ¯ä½“åˆ¶æ”¹é©ï¼Œä»¥ä¿è¯ç§‘å­¦æŠ€æœ¯çš„è‰¯å¥½è¿è¡Œã€‚<br>&amp;nbsp;&amp;nbsp;ä½œä¸ºç¤¾ä¼šå»ºåˆ¶çš„ç§‘å­¦æŠ€æœ¯ä½“åˆ¶æ˜¯åœ¨ä¸€å®šç¤¾ä¼šä»·å€¼è§‚å¿µæ”¯é…ä¸‹ï¼Œä¾æ®ç›¸åº”çš„ç‰©è´¨è®¾å¤‡æ¡ä»¶å½¢æˆçš„ä¸€ç§ç¤¾ä¼šç»„ç»‡åˆ¶åº¦ï¼Œæ—¨åœ¨æ”¯æŒæ¨åŠ¨äººç±»å¯¹è‡ªç„¶çš„è®¤è¯†å’Œåˆ©ç”¨ã€‚ç§‘å­¦æŠ€æœ¯çš„ä½“åˆ¶åŒ–ä»¥ç›¸åº”çš„èŒä¸šåŒ–ä¸ºæ ¸å¿ƒï¼Œå…¶å†…æ¶µéšç€ç§‘å­¦æŠ€æœ¯çš„å‘å±•è€Œä¸æ–­æ‹“å±•å’Œä¸°å¯Œã€‚ç§‘å­¦æŠ€æœ¯çš„ç¤¾ä¼šä½“åˆ¶åŒ…æ‹¬:ç»„ç»‡é¢†å¯¼ä½“åˆ¶ã€ç»æµæ”¯æŒåˆ¶åº¦ã€æ³•å¾‹ä¿éšœä½“åˆ¶ã€äº¤æµä¸ä¼ æ’­ä½“åˆ¶ã€äººæ‰æ•™è‚²åŸ¹å…»åˆ¶åº¦ç­‰ã€‚ç§‘å­¦æŠ€æœ¯ä¸å…¶ä»–å„ç§äº‹ä¸šå¯†åˆ‡ç›¸å…³,éœ€è¦å»ºç«‹ç›¸åº”çš„ç»„ç»‡æœºæ„ä»¥ä¿è¯ç§‘å­¦æŠ€æœ¯æ´»åŠ¨çš„é¡ºåˆ©è¿›è¡Œã€‚ç§‘å­¦æŠ€æœ¯ç»„ç»‡æœºæ„éšç€å†å²çš„æ¼”åŒ–è€Œå˜åŒ–ï¼Œå…·æœ‰å„ç™½çš„ç‰¹ç‚¹å’ŒåŠŸèƒ½ï¼Œæ˜¯å®ç°ç§‘å­¦æŠ€æœ¯ç°ä»£åŒ–çš„ç»„ç»‡ä¿è¯ã€‚åœ¨ç§‘å­¦æŠ€æœ¯ç¤¾ä¼šå²ä¸Šå½¢æˆä¸å‘å±•èµ·æ¥çš„ç»„ç»‡æœºæ„æœ‰:ç§‘å­¦æŠ€æœ¯å†³ç­–ã€ç®¡ç†ä¸å’¨è¯¢æœºæ„ï¼Œç§‘å­¦æŠ€æœ¯æ´»åŠ¨ç»„ç»‡æœºæ„ï¼Œç§‘å­¦æŠ€æœ¯ä¼ æ’­æœºæ„ï¼Œç§‘å­¦æŠ€æœ¯äººæ‰åŸ¹å…»æœºæ„ã€‚</p><hr><p>ã€ä»¥ä¸‹æ‘˜ç™½ç™¾åº¦è´´å§å¸–å­â€œç§‘å­¦æŠ€æœ¯çš„ç¤¾ä¼šä½“åˆ¶åŒ–åŠå…¶å¯¹ç§‘å­¦å‘å±•çš„æ„ä¹‰â€ã€‘<br>ç§‘å­¦æŠ€æœ¯ä½“åˆ¶åŒ–çš„å†…å®¹åŒ…æ‹¬:ç§‘å­¦æŠ€æœ¯çš„æŠ•å…¥ä½“åˆ¶ã€ç§‘æŠ€ç ”ç©¶çš„ç»“æ„æ¯”ä¾‹ã€ç§‘å­¦æŠ€æœ¯çš„æ³•å¾‹åˆ¶åº¦ã€ç§‘æŠ€ç ”ç©¶çš„ç®¡ç†ä½“åˆ¶ã€‚<br>ç§‘å­¦æŠ€æœ¯çš„ç¤¾ä¼šä½“åˆ¶åŒ–å¯¹ç§‘å­¦å‘å±•çš„æ„ä¹‰:1ã€å®ƒå¯ä»¥ç§¯èšç¤¾ä¼šä¸Šçš„åŠ›é‡æ¥è¿›è¡ŒæŸ‘åº”çš„ç§‘å­¦ç ”ç©¶;2ã€å½“ä»£ç§‘æŠ€æ´»åŠ¨çš„ç»“æ„ä¸­åŸºç¡€ç ”ç©¶å°†ä¼šæœ‰å¤§é‡çš„äººå‘˜å‚lä¸j;3ã€æ˜ç¡®çš„æ³•å¾‹ä»¥åŠç®¡ç†åˆ¶åº¦å°†ä¼šæ›´è¿›ä¸€æ­¥ä¿ƒè¿›ç§‘å­¦æŠ€æœ¯çš„å‘å±•ã€‚</p></blockquote><h2 id="4-ä¸ºä»€ä¹ˆè¦å¯¹ç§‘å­¦æŠ€æœ¯å·¥ä½œè€…è¿›è¡Œä¼¦ç†è§„èŒƒï¼Ÿ"><a href="#4-ä¸ºä»€ä¹ˆè¦å¯¹ç§‘å­¦æŠ€æœ¯å·¥ä½œè€…è¿›è¡Œä¼¦ç†è§„èŒƒï¼Ÿ" class="headerlink" title="4. ä¸ºä»€ä¹ˆè¦å¯¹ç§‘å­¦æŠ€æœ¯å·¥ä½œè€…è¿›è¡Œä¼¦ç†è§„èŒƒï¼Ÿ"></a>4. ä¸ºä»€ä¹ˆè¦å¯¹ç§‘å­¦æŠ€æœ¯å·¥ä½œè€…è¿›è¡Œä¼¦ç†è§„èŒƒï¼Ÿ</h2><blockquote><p>&amp;nbsp;&amp;nbsp;ç§‘å­¦æŠ€æœ¯æ´»åŠ¨ä¸äººç±»å…¶ä»–æ´»åŠ¨ä¸€æ ·ï¼Œå»ºç«‹åœ¨è¯šä¿¡å’Œé“å¾·çš„åŸºç¡€ä¸Šã€‚ç°é˜¶æ®µï¼Œé»˜é¡¿çš„ç§‘å­¦çš„ç²¾ç¥æ°”è´¨å—åˆ°æŒ‘æˆ˜ï¼Œç§‘å­¦æŠ€æœ¯å·¥ä½œè€…æœ‰å¤±èŒƒè¡Œä¸ºï¼Œéœ€è¦åˆ¶å®šç›¸å…³ç§‘ç ”è¯šä¿¡æŒ‡å—å’Œå·¥ç¨‹å¸ˆä¼¦ç†å‡†åˆ™åŠ ä»¥è§„èŒƒã€‚ç§‘å­¦å·¥ä½œè€…è¿›è¡Œç§‘å­¦ç ”ç©¶å’ŒåŒ»å­¦å®è·µï¼Œå°¤å…¶æ˜¯è¿›è¡Œäººä½“å®éªŒå’ŒåŠ¨ç‰©å®éªŒï¼Œåº”è¯¥éµå¾ªç¤¾ä¼šä¼¦ç†ã€ç”Ÿå‘½ä¼¦ç†ã€åŠ¨ç‰©ä¼¦ç†ç­‰ã€‚æŠ€æœ¯å·¥ä½œè€…ï¼Œå°¤å…¶æ˜¯å·¥ç¨‹å¸ˆï¼Œåœ¨å·¥ç¨‹æŠ€æœ¯æ´»åŠ¨ä¸­ï¼Œåº”è¯¥éµå¾ªä¸€å®šçš„èŒä¸šä¼¦ç†å’Œç¤¾ä¼šä¼¦ç†å‡†åˆ™ï¼Œåº”è¯¥æ‰¿æ‹…å¯¹ç¤¾ä¼šã€ä¸“ä¸šã€é›‡ä¸»å’ŒåŒäº‹çš„è´£ä»»ï¼Œåº”è¯¥å¯¹å·¥ç¨‹çš„ç¯å¢ƒå½±å“è´Ÿæœ‰ç‰¹åˆ«çš„è´£ä»»ï¼Œè§„èŒƒç™½å·±çš„è¡Œä¸ºï¼Œä¸ºäººç±»ç¦ç¥‰å’Œç¯å¢ƒä¿æŠ¤æœåŠ¡ã€‚</p></blockquote><h2 id="5-å¦‚ä½•ç†è§£ç§‘å­¦æŠ€æœ¯æ–‡åŒ–ä¸äººæ–‡æ–‡åŒ–ä¹‹é—´çš„å†²çªä¸åè°ƒï¼Ÿ"><a href="#5-å¦‚ä½•ç†è§£ç§‘å­¦æŠ€æœ¯æ–‡åŒ–ä¸äººæ–‡æ–‡åŒ–ä¹‹é—´çš„å†²çªä¸åè°ƒï¼Ÿ" class="headerlink" title="5. å¦‚ä½•ç†è§£ç§‘å­¦æŠ€æœ¯æ–‡åŒ–ä¸äººæ–‡æ–‡åŒ–ä¹‹é—´çš„å†²çªä¸åè°ƒï¼Ÿ"></a>5. å¦‚ä½•ç†è§£ç§‘å­¦æŠ€æœ¯æ–‡åŒ–ä¸äººæ–‡æ–‡åŒ–ä¹‹é—´çš„å†²çªä¸åè°ƒï¼Ÿ</h2><blockquote><p>(ä¸€ï¼‰ç¤¾ä¼šæ–‡åŒ–å¯¹ç§‘å­¦æŠ€æœ¯çš„å½±å“<br>&amp;nbsp;&amp;nbsp;ç§‘å­¦æŠ€æœ¯çš„äº§ç”Ÿå’Œå‘å±•éœ€è¦ä¸€å®šçš„ç¤¾ä¼šæ–‡åŒ–ç¯å¢ƒã€‚ç¤¾ä¼šæ–‡åŒ–ä¸ç§‘å­¦æŠ€æœ¯æ–‡åŒ–ç´§å¯†å…³è”ï¼Œå¹¶ç”±æ­¤å½±å“ç§‘å­¦æŠ€æœ¯çš„å‘å±•åŠå…¶åº”ç”¨ã€‚é»˜é¡¿åœ¨ã€Šåä¸ƒä¸–çºªè‹±æ ¼å…°çš„ç§‘å­¦ã€æŠ€æœ¯ä¸ç¤¾ä¼šã€‹ä¸­æå‡ºçš„â€œæ¸…æ•™ä¸»ä¹‰ä¿ƒè¿›è‹±å›½è¿‘ä»£ç§‘å­¦çš„åˆ¶åº¦å˜åŒ–â€ï¼Œä»¥åŠâ€œæçº¦ç‘Ÿéš¾é¢˜â€â€”â€”â€œè¿‘ä»£ç§‘å­¦ä¸ºä»€ä¹ˆæ²¡æœ‰åœ¨ä¸­å›½è¯ç”Ÿâ€çš„è§£ç­”ï¼Œå°±è¯´æ˜äº†è¿™ä¸€ç‚¹ã€‚</p><p>(äºŒï¼‰ç§‘å­¦æ–‡åŒ–ä¸äººæ–‡æ–‡åŒ–çš„åè°ƒ<br>&amp;nbsp;&amp;nbsp;1ï¼è¦é˜²æ­¢ç§‘å­¦åœ¨ç”Ÿæ´»ä¸–ç•Œã€è‡ªç„¶ä¸–ç•Œå¯¹äººæ–‡çš„åƒ­è¶Šæ‰€é€ æˆçš„ç§‘å­¦æ–‡åŒ–ä¸äººæ–‡æ–‡åŒ–ä¹‹é—´çš„å†²çªï¼Œæ·±åˆ»ç†è§£ç§‘å­¦çš„é™åº¦ï¼Œç”¨æ­£ç¡®çš„äººæ–‡ç†å¿µæŒ‡å¯¼æˆ‘ä»¬çš„ç”Ÿæ´»ã€‚<br>&amp;nbsp;&amp;nbsp;2ï¼å¿…é¡»ä»¥ç¤¾ä¼šå…ˆè¿›æ–‡åŒ–æ¥å¼•é¢†ç§‘å­¦æŠ€æœ¯æ–‡åŒ–ï¼Œä½¿ç§‘å­¦æŠ€æœ¯å‘å±•å’Œåº”ç”¨ä¸ºç»æµç¤¾ä¼šå¥åº·å…¨é¢å‘å±•æœåŠ¡ã€‚å¾—åˆ°å¹¿æ³›æå€¡çš„ç¯å¢ƒç§‘å­¦æŠ€æœ¯å°±æ˜¯ä¸ºäº†åè°ƒäººä¸è‡ªç„¶ä¹‹é—´çš„å…³ç³»æ‰€åšçš„åŠªåŠ›ï¼Œæ˜¯ç§‘å­¦æŠ€æœ¯æ–‡åŒ–ä¸äººæ–‡æ–‡åŒ–â€”â€”ç»¿è‰²æ–‡åŒ–çš„è‰¯æ€§äº’åŠ¨äº§ç‰©ã€‚</p></blockquote><h2 id="6-ç§‘å­¦æŠ€æœ¯çš„é£é™©æœ‰å“ªäº›ï¼Ÿå¦‚ä½•æ°å½“åœ°è¿›è¡Œç§‘å­¦æŠ€æœ¯é£é™©è¯„ä»·ä¸å†³ç­–ï¼Ÿ"><a href="#6-ç§‘å­¦æŠ€æœ¯çš„é£é™©æœ‰å“ªäº›ï¼Ÿå¦‚ä½•æ°å½“åœ°è¿›è¡Œç§‘å­¦æŠ€æœ¯é£é™©è¯„ä»·ä¸å†³ç­–ï¼Ÿ" class="headerlink" title="6. ç§‘å­¦æŠ€æœ¯çš„é£é™©æœ‰å“ªäº›ï¼Ÿå¦‚ä½•æ°å½“åœ°è¿›è¡Œç§‘å­¦æŠ€æœ¯é£é™©è¯„ä»·ä¸å†³ç­–ï¼Ÿ"></a>6. ç§‘å­¦æŠ€æœ¯çš„é£é™©æœ‰å“ªäº›ï¼Ÿå¦‚ä½•æ°å½“åœ°è¿›è¡Œç§‘å­¦æŠ€æœ¯é£é™©è¯„ä»·ä¸å†³ç­–ï¼Ÿ</h2><blockquote><p>&amp;nbsp;&amp;nbsp;ç§‘å­¦æŠ€æœ¯çš„é£é™©åŒ…æ‹¬ç¯å¢ƒé£é™©ã€æ”¿æ²»é£é™©ã€ç»æµé£é™©ã€å¥åº·é£é™©å’Œä¼¦ç†é£é™©ç­‰ã€‚è¿™äº›é£é™©ä¼šå¼•å‘ä¸€ç³»åˆ—äº‰è®ºï¼Œé€ æˆè¯„ä»·å’Œå†³ç­–ä¸Šçš„å›°éš¾ã€‚ä¹ è¿‘å¹³æŒ‡å‡º:â€œè¦åŠ å¿«å»ºç«‹ç§‘æŠ€å’¨è¯¢æ”¯æ’‘è¡Œæ”¿å†³ç­–çš„ç§‘æŠ€å†³ç­–æœºåˆ¶ï¼ŒåŠ å¼ºç§‘æŠ€å†³ç­–å’¨è¯¢ç³»ç»Ÿï¼Œå»ºè®¾é«˜æ°´å¹³ç§‘æŠ€æ™ºåº“ã€‚è¦åŠ å¿«æ¨è¿›é‡å¤§ç§‘æŠ€å†³ç­–åˆ¶åº¦åŒ–ï¼Œè§£å†³å¥½å®é™…å­˜åœ¨çš„éƒ¨é—¨é¢†å¯¼æ‹è„‘è¢‹ã€ç§‘æŠ€ä¸“å®¶çœ‹é¢œè‰²è¡Œäº‹ç­‰é—®é¢˜ã€‚â€</p><p> è¦æ°å½“è¿›è¡Œç§‘å­¦æŠ€æœ¯é£é™©è¯„ä»·ä¸å†³ç­–ï¼Œå°±åº”è¯¥å…¨é¢è¯„ä»·ç§‘å­¦æŠ€æœ¯é£é™©â€”æ”¶ç›Šçš„å¤šä¸ªæ–¹é¢ï¼Œæ‰¹åˆ¤æ€§åœ°è€ƒå¯Ÿâ€œå†…éƒ¨â€å­˜æœ‰äº‰è®®çš„ç§‘å­¦çŸ¥è¯†æˆ–æŠ€æœ¯çŸ¥è¯†ï¼Œåˆ†æç›¸äº’ç«äº‰çš„åˆ©ç›Šé›†å›¢å’Œç¤¾ä¼šç»“æ„çš„â€å¤–éƒ¨â€æ”¿æ²»å­¦ï¼Œç†è§£ç§‘å­¦æŠ€æœ¯ä¸“å®¶çŸ¥è¯†å’Œå†³ç­–çš„å±€é™æ€§ã€å…¬ä¼—ç†è§£ç§‘å­¦çš„å¿…è¦æ€§ä»¥åŠå¤–è¡ŒçŸ¥è¯†çš„ä¼˜åŠ¿ï¼Œæ˜ç¡®æ”¿åºœã€ç§‘å­¦æŠ€æœ¯ä¸“å®¶ä»¥åŠå…¬ä¼—åœ¨ä¸ç§‘å­¦æŠ€æœ¯é£é™©ç›¸å…³çš„å…¬å…±å†³ç­–ä¸­çš„ä¸åŒä½œç”¨ï¼Œç¡®ç«‹å…¬ä¼—å‚ä¸å†³ç­–çš„å¯èƒ½æ–¹å¼ï¼Œä»è€Œå½¢æˆæœ€ä¼˜åŒ–çš„ç§‘å­¦æŠ€æœ¯å…¬å…±æ”¿ç­–æ¨¡å¼ï¼Œä»¥è¾¾åˆ°å¯¹ç§‘å­¦æŠ€æœ¯é£é™©ç¤¾ä¼šæœ‰æ•ˆæ²»ç†çš„ç›®çš„ã€‚</p></blockquote><h1 id="ç¬¬äº”ç« ã€ä¸­å›½é©¬å…‹æ€ä¸»ä¹‰ç§‘å­¦æŠ€æœ¯è§‚"><a href="#ç¬¬äº”ç« ã€ä¸­å›½é©¬å…‹æ€ä¸»ä¹‰ç§‘å­¦æŠ€æœ¯è§‚" class="headerlink" title="ç¬¬äº”ç« ã€ä¸­å›½é©¬å…‹æ€ä¸»ä¹‰ç§‘å­¦æŠ€æœ¯è§‚"></a>ç¬¬äº”ç« ã€ä¸­å›½é©¬å…‹æ€ä¸»ä¹‰ç§‘å­¦æŠ€æœ¯è§‚</h1><h2 id="1-ä¸ºä»€ä¹ˆè¯´æ–°æ—¶ä»£ä¸­å›½é©¬å…‹æ€ä¸»ä¹‰ç§‘å­¦æŠ€æœ¯æ˜¯ä¸€ä¸ªç§‘å­¦ã€å®Œæ•´çš„æ€æƒ³ç†è®ºä½“ç³»ï¼Ÿ"><a href="#1-ä¸ºä»€ä¹ˆè¯´æ–°æ—¶ä»£ä¸­å›½é©¬å…‹æ€ä¸»ä¹‰ç§‘å­¦æŠ€æœ¯æ˜¯ä¸€ä¸ªç§‘å­¦ã€å®Œæ•´çš„æ€æƒ³ç†è®ºä½“ç³»ï¼Ÿ" class="headerlink" title="1. ä¸ºä»€ä¹ˆè¯´æ–°æ—¶ä»£ä¸­å›½é©¬å…‹æ€ä¸»ä¹‰ç§‘å­¦æŠ€æœ¯æ˜¯ä¸€ä¸ªç§‘å­¦ã€å®Œæ•´çš„æ€æƒ³ç†è®ºä½“ç³»ï¼Ÿ"></a>1. ä¸ºä»€ä¹ˆè¯´æ–°æ—¶ä»£ä¸­å›½é©¬å…‹æ€ä¸»ä¹‰ç§‘å­¦æŠ€æœ¯æ˜¯ä¸€ä¸ªç§‘å­¦ã€å®Œæ•´çš„æ€æƒ³ç†è®ºä½“ç³»ï¼Ÿ</h2><blockquote><p>&amp;nbsp;&amp;nbsp;æ¯›æ³½ä¸œã€é‚“å°å¹³ã€â€¦â€¦ã€èƒ¡é”¦æ¶›ã€ä¹ è¿‘å¹³çš„ç§‘å­¦æŠ€æœ¯æ€æƒ³ï¼Œæ˜¯åœ¨ä¸­å›½å…±äº§å…šé¢†å¯¼æˆ‘å›½ç§‘å­¦æŠ€æœ¯äº‹ä¸šå‘å±•å’Œè¿›è¡Œç¤¾ä¼šä¸»ä¹‰ç°ä»£åŒ–å»ºè®¾çš„ä¼Ÿå¤§æ—¶é—´ä¸­ï¼Œé€æ¸å½¢æˆã€å‘å±•å’Œå®Œå–„çš„ã€‚</p><p>&amp;nbsp;&amp;nbsp;ä¸­å›½é©¬å…‹æ€ä¸»ä¹‰ç§‘å­¦æŠ€æœ¯è§‚æ˜¯åŸºäºé©¬å…‹æ€ã€æ©æ ¼æ–¯çš„ç§‘å­¦æŠ€æœ¯æ€æƒ³ï¼Œå¯¹å½“ä»£ç§‘å­¦æŠ€æœ¯æœºå™¨å‘å±•è§„å¾‹çš„æ¦‚æ‹¬å’Œæ€»ç»“ï¼Œæ˜¯é©¬å…‹æ€ä¸»ä¹‰ç§‘å­¦æŠ€æœ¯è®ºçš„é‡è¦ç»„æˆéƒ¨åˆ†ã€‚</p><p>&amp;nbsp;&amp;nbsp;ä¸­å›½é©¬å…‹æ€ä¸»ä¹‰ç§‘å­¦æŠ€æœ¯è§‚æ˜¯ä¸­å›½å…±äº§å…šäººé›†ä½“æ™ºæ…§çš„ç»“æ™¶ï¼Œæ˜¯å¯¹æ¯›æ³½ä¸œã€é‚“å°å¹³ã€â€¦â€¦ã€ä¹ è¿‘å¹³ç§‘å­¦æŠ€æœ¯æ€æƒ³çš„æ¦‚æ‹¬å’Œæ€»ç»“ï¼Œæ˜¯ä»–ä»¬ç§‘å­¦æŠ€æœ¯æ€æƒ³çš„ç†è®ºå‡åå’Œé£è·ƒï¼Œæ˜¯ä»–ä»¬ç§‘å­¦æŠ€æœ¯æ€æƒ³çš„å‡ç»ƒå’Œç²¾é«“ã€‚</p><p>&amp;nbsp;&amp;nbsp;ä¸­å›½é©¬å…‹æ€ä¸»ä¹‰ç§‘å­¦æŠ€æœ¯è§‚çš„å†…å®¹ä¸°å¯Œï¼Œæ¶‰åŠäº†ç§‘å­¦æŠ€æœ¯çš„åŠŸèƒ½ã€ç›®æ ‡ã€æœºåˆ¶ã€æˆ˜ç•¥ã€äººæ‰å’Œæ–¹é’ˆç­‰é‡å¤§é—®é¢˜ï¼Œæ˜¯ä¸€ä¸ªç§‘å­¦ã€å®Œæ•´çš„æ€æƒ³ç†è®ºä½“ç³»ã€‚</p></blockquote><h2 id="2-å¦‚ä½•ç†è§£ä¸­å›½é©¬å…‹æ€ä¸»ä¹‰ç§‘å­¦æŠ€æœ¯è§‚çš„ç†è®ºç²¾é«“ï¼Ÿ"><a href="#2-å¦‚ä½•ç†è§£ä¸­å›½é©¬å…‹æ€ä¸»ä¹‰ç§‘å­¦æŠ€æœ¯è§‚çš„ç†è®ºç²¾é«“ï¼Ÿ" class="headerlink" title="2. å¦‚ä½•ç†è§£ä¸­å›½é©¬å…‹æ€ä¸»ä¹‰ç§‘å­¦æŠ€æœ¯è§‚çš„ç†è®ºç²¾é«“ï¼Ÿ"></a>2. å¦‚ä½•ç†è§£ä¸­å›½é©¬å…‹æ€ä¸»ä¹‰ç§‘å­¦æŠ€æœ¯è§‚çš„ç†è®ºç²¾é«“ï¼Ÿ</h2><blockquote><p>&amp;nbsp;&amp;nbsp;ä¸­å›½é©¬å…‹æ€ä¸»ä¹‰ç§‘å­¦æŠ€æœ¯è§‚æ¦‚æ‹¬å’Œæ€»ç»“äº†æ¯›æ³½ä¸œã€é‚“å°å¹³ã€Â·Â·Â·ã€ä¹ è¿‘å¹³ç­‰çš„ç§‘å­¦æŠ€æœ¯æ€æƒ³ï¼ŒåŒ…æ‹¬ç§‘å­¦æŠ€æœ¯çš„åŠŸèƒ½è§‚ã€æˆ˜ç•¥è§‚ã€äººæ‰è§‚ã€å’Œè°è§‚å’Œåˆ›æ–°è§‚çš„åŸºæœ¨å†…å®¹ï¼Œä½“ç°å‡ºæ—¶ä»£æ€§ã€å®è·µæ€§ã€ç§‘å­¦æ€§ã€åˆ›æ–°æ€§ã€è‡ªä¸»æ€§ã€äººæœ¬æ€§ç­‰ç‰¹å¾ï¼Œå»ºè®¾ä¸­å›½ç‰¹è‰²çš„åˆ›æ–°å‹å›½å®¶ï¼Œæ˜¯ä¸­å›½é©¬å…‹æ€ä¸»ä¹‰ç§‘å­¦æŠ€æœ¯è§‚çš„å…·ä½“ä½“ç°ã€‚ä¸­å›½é©¬å…‹æ€ä¸»ä¹‰ç§‘å­¦æŠ€æœ¯è§‚ï¼Œæ˜¯é©¬å…‹æ€ä¸»ä¹‰ç§‘å­¦æŠ€æœ¯è§‚ä¸ä¸­å›½å…·ä½“ç§‘å­¦æŠ€æœ¯å®è·µç›¸ç»“åˆçš„äº§ç‰©ï¼Œæ˜¯é©¬å…‹æ€ä¸»ä¹‰ç§‘å­¦æŠ€æœ¯è®ºçš„é‡è¦ç»„æˆéƒ¨åˆ†ã€‚</p></blockquote><h2 id="3-å¦‚ä½•ç†è§£ä¹ è¿‘å¹³æ–°æ—¶ä»£ä¸­å›½ç‰¹è‰²ç¤¾ä¼šä¸»ä¹‰æ€æƒ³ä¸­çš„ç§‘å­¦æŠ€æœ¯è§‚çš„æ—¶ä»£æ„ä¹‰ï¼Ÿ"><a href="#3-å¦‚ä½•ç†è§£ä¹ è¿‘å¹³æ–°æ—¶ä»£ä¸­å›½ç‰¹è‰²ç¤¾ä¼šä¸»ä¹‰æ€æƒ³ä¸­çš„ç§‘å­¦æŠ€æœ¯è§‚çš„æ—¶ä»£æ„ä¹‰ï¼Ÿ" class="headerlink" title="3. å¦‚ä½•ç†è§£ä¹ è¿‘å¹³æ–°æ—¶ä»£ä¸­å›½ç‰¹è‰²ç¤¾ä¼šä¸»ä¹‰æ€æƒ³ä¸­çš„ç§‘å­¦æŠ€æœ¯è§‚çš„æ—¶ä»£æ„ä¹‰ï¼Ÿ"></a>3. å¦‚ä½•ç†è§£ä¹ è¿‘å¹³æ–°æ—¶ä»£ä¸­å›½ç‰¹è‰²ç¤¾ä¼šä¸»ä¹‰æ€æƒ³ä¸­çš„ç§‘å­¦æŠ€æœ¯è§‚çš„æ—¶ä»£æ„ä¹‰ï¼Ÿ</h2><blockquote><p>&amp;nbsp;&amp;nbsp;ä¸­å›½é©¬å…‹æ€ä¸»ä¹‰ç§‘å­¦æŠ€æœ¯è§‚çš„ä¸‰ä¸ªå†å²é˜¶æ®µæ˜¯å…¶å„è‡ªæ‰€å¤„çš„å†å²æ¡ä»¶æ‰€å†³å®šçš„ï¼Œæ˜¯å¯¹æ—¶ä»£èƒŒæ™¯å®äº‹æ±‚æ˜¯çš„åæ˜ ï¼Œå› æ­¤ç§‘å­¦æŠ€æœ¯æ€æƒ³éƒ½é•Œåˆ»äº†æ—¶ä»£çš„çƒ™å°ï¼Œåæ˜ äº†æ—¶ä»£çš„éœ€æ±‚ã€‚</p><p>&amp;nbsp;&amp;nbsp;ä¹ è¿‘å¹³æ–°æ—¶ä»£ä¸­å›½ç‰¹è‰²ç¤¾ä¼šä¸»ä¹‰æ€æƒ³ä¸­çš„ç§‘å­¦æŠ€æœ¯è§‚ï¼Œæ˜¯åœ¨ä¸­å›½ç‰¹è‰²ç¤¾ä¼šä¸»ä¹‰è¿›å…¥æ–°æ—¶ä»£çš„å†å²æ¡ä»¶ä¸‹å½¢æˆçš„ã€‚æ–°æ—¶ä»£ä¹‹â€œæ–°â€ï¼Œä¸€æ˜¯åœ¨äºæˆ‘ä»¬è¿›å…¥äº†ä¸€ä¸ªæ–°çš„å‘å±•é˜¶æ®µï¼Œå‘å±•ç¯å¢ƒã€å‘å±•æ¡ä»¶éƒ½å‘ç”Ÿäº†æ–°çš„å˜åŒ–ï¼Œç›®æ ‡ä»»åŠ¡ä¹Ÿå‘ç”Ÿäº†æ–°çš„å˜åŒ–;äºŒæ˜¯åœ¨äºæˆ‘ä»¬é¢ä¸´ç€æ–°çš„ç¤¾ä¼šä¸»ä¹‰ä¸»è¦çŸ›ç›¾;ä¸‰æ˜¯æˆ‘ä»¬è¿ˆå‘æ–°çš„å¥‹æ–—ç›®æ ‡ã€‚æ­£æ˜¯åŸºäºè¿™ä¸€æ–°æ—¶ä»£çš„â€æ–°â€ç‰¹å¾æ—¶ä»£èƒŒæ™¯ï¼Œä¹ è¿‘å¹³ç«‹è¶³äºæˆ‘è´µå“¦ç§‘å­¦æŠ€æœ¯ä¸ç¤¾ä¼šå‘å±•çš„ç°å®éœ€è¦ï¼Œæå‡ºäº†ä¸€ç³»åˆ—å…³äºç§‘å­¦æŠ€æœ¯å‘å±•çš„ç†è®ºè§‚ç‚¹ï¼Œå½¢æˆäº†ä¹ è¿‘å¹³æ–°æ—¶ä»£ä¸­å›½ç‰¹è‰²ç¤¾ä¼šä¸»ä¹‰ç§‘å­¦æŠ€æœ¯è§‚ã€‚</p></blockquote><p>å‚è€ƒé“¾æ¥ï¼š</p><p><a href="http://www.doczj.com/doc/6110418199-11.html">2019è‡ªç„¶è¾©è¯æ³•è¯¾åæ€è€ƒé¢˜åŠç­”æ¡ˆ_æ–‡æ¡£ä¹‹å®¶</a></p>]]></content>
      
      
      <categories>
          
          <category> æ‚è®° </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>é‡Šæ€€</title>
      <link href="/%E6%97%A5%E8%AE%B0/%E9%87%8A%E6%80%80/"/>
      <url>/%E6%97%A5%E8%AE%B0/%E9%87%8A%E6%80%80/</url>
      
        <content type="html"><![CDATA[<p>çœŸæ­£çš„æˆç†Ÿï¼Œå¤§æ¦‚å°±æ˜¯ï¼Œå–œæ¬¢çš„ä¸œè¥¿è¿˜æ˜¯å–œæ¬¢ï¼Œåªæ˜¯ä¸å†å¼ºæ±‚æ‹¥æœ‰äº†ï¼Œå®³æ€•çš„ä¸œè¥¿è¿˜æ˜¯å®³æ€•ï¼Œåªæ˜¯æ•¢äºé¢å¯¹äº†ã€‚</p><p>æˆé•¿çš„æ„ä¹‰å°±åœ¨äºï¼Œæ€»æœ‰ä¸€å¤©ï¼Œæˆ‘ä»¬è¦å­¦ä¼šå¦ç„¶é¢å¯¹ç”Ÿå‘½ä¸­æ‰€æœ‰çªå¦‚å…¶æ¥çš„å¢ƒé‡ã€‚</p><p>æœ‰çš„äººç¦»å¼€ï¼Œæœ‰çš„äººèµ°æ¥ï¼Œæœ‰çš„äººé‡é€¢ï¼Œæœ‰çš„äººå†ä¹Ÿä¸è§ã€‚</p><p>å¤ªé˜³ç…§å¸¸å‡èµ·ï¼Œè‰æœ¨å²å²æ¯è£ã€‚</p><p>æ‰€æœ‰çš„èˆä¸å¾—ï¼Œæ‰€æœ‰çš„æ— å¥ˆï¼Œéƒ½æœ‰é‡Šæ€€çš„ä¸€å¤©ã€‚</p><p>ä½ ä¸€ä¸ªäººï¼Œè¿‡å¾—å¥½å—ï¼ŸåŠªåŠ›ç”Ÿæ´»ï¼Œå°±æ˜¯ç­”æ¡ˆã€‚</p><p>äººè¿™ä¸€è¾ˆå­ï¼Œæœ‰äººç¾¡æ…•ä½ ï¼Œæœ‰äººçœ‹ä¸èµ·ä½ ï¼Œæœ‰äººè¯¯ä¼šä½ ï¼Œæœ‰äººè®¨åŒä½ ï¼Œä¹Ÿæœ‰äººå«‰å¦’ä½ ï¼Œä¸è¦åœ¨ä¹åˆ«äººæ€ä¹ˆçœ‹ä½ ã€‚</p><p>ä¸€å®šè¦å‘Šè¯‰è‡ªå·±ï¼Œèº«ä½“æ˜¯è‡ªå·±çš„ï¼Œä¸€å®šè¦çˆ±æƒœï¼Œå¿ƒæƒ…ä¹Ÿæ˜¯è‡ªå·±çš„ï¼Œä¸€å®šè¦é¡¾åŠï¼Œä¸è¦ä¸ºäº†é‚£äº›ä¸å€¼å¾—çš„äººå’Œäº‹ä¸ºéš¾è‡ªå·±ã€‚</p><p>æŠŠèº«ä½“å…»å¥½ï¼Œå«ä½“è´¨ï¼ŒæŠŠå¿ƒæƒ…è°ƒå¥½ï¼Œå«æ ¼å±€ï¼ŒæŠŠæ—¥å­è¿‡å¥½ï¼Œå«æœ¬äº‹ã€‚</p><p>ç°åœ¨è¿™ä¸ªç¤¾ä¼šï¼Œå½“é¢ä¸€å¥—èƒŒåä¸€å¥—ï¼Œå£æ˜¯å¿ƒéçš„äººå¤šäº†å»äº†ï¼Œæ‰€ä»¥åšå¥½è‡ªå·±å°±è¡Œï¼Œå‰©ä¸‹çš„äº¤ç»™è‰¯å¿ƒï¼</p><p>æœ‰äº›ä¸œè¥¿ï¼Œå¾—ä¹‹æˆ‘å¹¸ï¼Œå¤±ä¹‹æˆ‘å‘½ï¼Œé€‰æ‹©æ”¾ä¸‹ï¼Œä¸æ˜¯ä¸ºäº†åŸè°…åˆ«äººï¼Œåªæ˜¯ä¸ºäº†æ”¾è¿‡è‡ªå·±ã€‚</p><p>è®°å¾—æœ‰äººè¯´è¿‡ï¼Œä¸€ä¸ªäººé¦–å…ˆè¦çˆ±è‡ªå·±ï¼Œæ‰æœ‰èƒ½åŠ›çˆ±åˆ«äººã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æ—¥è®° </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>çµé­‚</title>
      <link href="/%E6%97%A5%E8%AE%B0/%E7%81%B5%E9%AD%82/"/>
      <url>/%E6%97%A5%E8%AE%B0/%E7%81%B5%E9%AD%82/</url>
      
        <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <script id="hbeData" type="hbeData" data-hmacdigest="d1955ce545a181f79482f3a3906952a96712b5c89f0c11663f08e70c085728b9">411319705e21b53bb2f6c15c89490a4bd99c949e9cc067890e4786115d9455c9a9c938b70cf42818108866b63a3f2427e938731ea75f4e57749450f67d78e1d03760dc8c272a554c59fdff38ea2a654d7e178f84e81a67c7d3f6849b4b5d1dd47c521d48ed7f98a4999357d031a90fd7b5c76a3036e65f9de2988ae6982eb66ec5df782c8c7f2de0edd7d4a839e00344db9ff754f6b075e9da22f78935932493eb0d7a842a475c62518fcfdcfb86cfa44ca51017e7f00529f5afb69d6a9403d3f5eafe819952213e9b70f72686badd3b827464f499acf18f923209cd4f292db505afea1dd7f5fee8aed3eb6a26282a2574f1b3d19b33db2af20715ea9f511dab29348b02cb57b51a36e924920626adaf5e5a3eb736c6f48a79627d06fd1cb8716a092723741c2db5b5a22ac3c3a4a717687e9e2e96b40c90f6424f4479c2958c0dbfb2a12e7de5a29e8f4654834ac836beb54e065720571c2048a442f5a24d80644db38f2c0045decd9d8496df0ab91abeaa77fe275eced851b7b9cb7248f5c1db078afa9c5973833fa9b606a9938e212417b7303be61ef28811b947d4e39fe57ac8048b0111c3255230a34e19aeba8052b6b7a732718a995dc1f4d4e7d446f7f36a4ad1ecc027ae4707118ce05589badcd01015d4bd94446d96edf7bc7f8f686d62f0ceb838b42188c6300a711021406b80b0d36176e443207b4eaf0bccca0f5ab25b017a21d65fad5da89f2f3eeea88d38a0f1c314533d1e445d21328990f2e35a6101824057b9504a468b35d7e4a5a86db89ddd6046762c4f8546ea37213aa27fb413ca9add077c029459ddbac8c2979094d05ff061b4c82c2fc825749f89931e273f313b4df54b94ffa9e75debf5fb86cce7808b02469dd156eff9aaa95b19976ab9e4cd7179518e48c566fd58beb2744917d6925af8e0f77a81b13a3e32297e1ab3e2c4569ee5810b911105d500890a1bb6cf30d555015d15fba094ac1954924f7481ce3878ac54729f6f5446c65d71312337e07853243f5593476a7760370b846ca0b1b68f3ed47f4806b9d27583dc9230735c42ee0e84c9bdcd749b1c38c3ddb7c01b8ec95bedb728b119e46580a68a3f713371e0e41a85b7f413556d0b44fb7fd64085f18e719b8bd78fd39acf1903d614596991700edf77ad7e558975d9b06bec9228c4fcd8f5f929bfc8e682496207e789daf461e46a31709e228765c7ef56c40a5f069ef4692d0a7b54a56425d0d239db7792b08bb6156312c2b9561f81cf42005ee888c97ded151c9794d3fd4b4d11148221b6c8795c5980c86aa5b6ed722d2a19496b6f068466a07ffe65463ed95483aa88947ddede577dfd5259d57de823716894600cf0963ecbea2f0eef5184d615cdfa5fc1cde58f6ad216e9a3feedd43cb4165006e37ed5244bd2a8611d516abfd2ce0ced0f29debe96642ac1ab4430da9b17ee350c9902b338a46f3c9de90ee440bbe8909a734e57c86bfb2e8fbde3f29da01392b36b5581ce0d1555c46cf590188f9bd4420f013c2e52893da28fa8f579163b3136618eb06c64e75e5e080bf3f3bc268dd3bef07534642722a86205253e14b59d56c5f585870c5b650c9032baf67f3590fe4a130914fd203feb38648155fa60b06277136f7f7527f36a1d38d488d93828164acdb4f2db7f143a1bb6c739df00bdbb242b25c8083dd3299c8710a1baae8486f3f97431bef2e123b6d1eda949f6ffe704a63f1055bbc48fd97f31a6e6c82158be80bbd3c7ee4409d0ea9b5d1a3f3dde1ac63393f4dc550c433c4bd1eb0952cf1b2f377ca10eaa8c2ed724be1d2aecdf2ce5a77430b217774d72024d449a64ad6a0404c1acf6f08684a8897d25f6ff254d83d689334e8fdb081a20b0a4fe81a6a332ac489974811879f4e8a03922701e639e331f5a15cc490c7d2e2477a0936b00ffaa53a5b99d2204724f28fa011bd0d1357f99132fe4e30f7a1cbb09d05414a1f6c843b73e6a229d4b52c5a62de76f621c028d81b8b73a90cbc1590128f26e107b34740ad17f123efbb3b51fade0d5e28889390e4f70a92c149cb7275aecd85dc7fe895df7aad0320511a8b88aff9d26bb9e79f5d83f9fad45b59a01a856cfd52c1bc87a58f651ae6406ccb2e7065f67649cfe16c112d42dd9855d1d6df2eec0388852ee8598cebe131968f259c6a88584b5bbf79d7dba1db82b2e0e7c12de8b9553a9864322d89a37dc9a914617a479cbeba95f808062acda355e1cfeb44d22f0e8da8fd8174df8c8e86817ef03958169855790ee9d8b912e2fb46b9a988fa4c4e41b2bf216c805551265ec67d946144d7f4309786d0261ce22a6ecd8634eb19011dac46315d97b6cbff239b8cdf61548ec3b4c07f619453763bb8d11078048eeb0b385a7c603ec819a016943b3b5f42b4436b925fb1e6319fce0c52cc3f6c05420f3ed98a8e4ce24857f16f82d64b7bf3f28b53fe08d9afd60a883c957d9eb410d832c1278dd88b210d2b84334aaa6d0d55f850e721b9b881c77a4494c2b9ccd8f93a5b6e30d8ae29c9cdb6b35935fb852e90adc169dcb7c3b60e856ed3b614a30a492a440dc4c4c1e6c861da41f24bea39f747ed7a60c44d375e42a30ee3b850e5feae03236e23c3094c97637c46ce089f992</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">Hey, password is required here.</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      
      
      <categories>
          
          <category> æ—¥è®° </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Linux å‘½ä»¤è„šæœ¬</title>
      <link href="/%E6%89%8B%E5%86%8C/%E8%84%9A%E6%9C%AC/linux%E5%91%BD%E4%BB%A4%E7%9B%B8%E5%85%B3%E8%84%9A%E6%9C%AC%E6%95%B4%E7%90%86/"/>
      <url>/%E6%89%8B%E5%86%8C/%E8%84%9A%E6%9C%AC/linux%E5%91%BD%E4%BB%A4%E7%9B%B8%E5%85%B3%E8%84%9A%E6%9C%AC%E6%95%B4%E7%90%86/</url>
      
        <content type="html"><![CDATA[<p>[toc]</p><h1 id="ll-awk-è·å–æ–‡ä»¶markdowné“¾æ¥"><a href="#ll-awk-è·å–æ–‡ä»¶markdowné“¾æ¥" class="headerlink" title="ll + awk è·å–æ–‡ä»¶markdowné“¾æ¥"></a><code>ll + awk</code> è·å–æ–‡ä»¶markdowné“¾æ¥</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ll | awk <span class="string">&#x27;&#123;print &quot;[&quot;$9&quot;](./&quot;$9&quot;readme.md)&quot;&#125;&#x27;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> æ‰‹å†Œ </category>
          
          <category> è„šæœ¬ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>å¸¸è§æ’åºç®—æ³•æ•´ç†ï¼ˆC++)</title>
      <link href="/%E6%97%A5%E8%AE%B0/%E5%88%B7%E9%A2%98%E8%AE%B0%E5%BD%95/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/"/>
      <url>/%E6%97%A5%E8%AE%B0/%E5%88%B7%E9%A2%98%E8%AE%B0%E5%BD%95/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<h1 id="å¿«é€Ÿæ’åº"><a href="#å¿«é€Ÿæ’åº" class="headerlink" title="å¿«é€Ÿæ’åº"></a>å¿«é€Ÿæ’åº</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/******************************************************************************</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Welcome to GDB Online.</span></span><br><span class="line"><span class="comment">GDB online is an online compiler and debugger tool for C, C++, Python, Java, PHP, Ruby, Perl,</span></span><br><span class="line"><span class="comment">C#, OCaml, VB, Swift, Pascal, Fortran, Haskell, Objective-C, Assembly, HTML, CSS, JS, SQLite, Prolog.</span></span><br><span class="line"><span class="comment">Code, Compile, Run and Debug online from anywhere in world.</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*******************************************************************************/</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// å·¦é—­å³é—­åŒºé—´</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">getRand</span><span class="params">(<span class="type">int</span> min, <span class="type">int</span> max)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> ( <span class="built_in">rand</span>() % (max - min + <span class="number">1</span>) ) + min ;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">quickSort</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums, <span class="type">int</span> start, <span class="type">int</span> end)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(start &gt; end)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">        </span><br><span class="line">    <span class="type">int</span> i = start, j = end;</span><br><span class="line">    <span class="type">int</span> key = nums[start];</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span>(i &lt; j)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">while</span>(i &lt; j &amp;&amp; nums[j] &lt; key)</span><br><span class="line">            j--;</span><br><span class="line">        <span class="keyword">while</span>(i &lt; j &amp;&amp; nums[i] &gt;= key)</span><br><span class="line">            i++;</span><br><span class="line">            </span><br><span class="line">        <span class="keyword">if</span>(i&lt;j)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">swap</span>(nums[i],nums[j]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">swap</span>(nums[i], nums[start]);</span><br><span class="line">    <span class="built_in">quickSort</span>(nums, start, i<span class="number">-1</span>);</span><br><span class="line">    <span class="built_in">quickSort</span>(nums, i+<span class="number">1</span>, end);</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">sort</span><span class="params">(vector&lt;<span class="type">int</span>&gt; &amp; nums)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(nums.<span class="built_in">empty</span>() || nums.<span class="built_in">size</span>() &lt; <span class="number">2</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">quickSort</span>(nums, <span class="number">0</span>, nums.<span class="built_in">size</span>() - <span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; nums;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">20</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        nums.<span class="built_in">push_back</span>(std::<span class="built_in">move</span>(<span class="built_in">getRand</span>(<span class="number">0</span>,<span class="number">100</span>)));</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">sort</span>(nums);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> it : nums)</span><br><span class="line">        cout &lt;&lt; it &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> æ—¥è®° </category>
          
          <category> åˆ·é¢˜è®°å½• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ’åº </tag>
            
            <tag> å¿«é€Ÿæ’åº </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/%E6%89%8B%E5%86%8C/%E6%89%80%E8%A7%81%E5%8D%B3%E6%89%80%E5%BE%97_Typora%E5%8F%8A%E7%94%A8%E6%B3%95/"/>
      <url>/%E6%89%8B%E5%86%8C/%E6%89%80%E8%A7%81%E5%8D%B3%E6%89%80%E5%BE%97_Typora%E5%8F%8A%E7%94%A8%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<h1 id="Markdownä»‹ç»"><a href="#Markdownä»‹ç»" class="headerlink" title="Markdownä»‹ç»"></a>Markdownä»‹ç»</h1><p><i class="fa fa-quote-left fa-3x fa-pull-left fa-border" aria-hidden="true"></i><code>Markdown</code>æ˜¯ä¸€ç§å¯ä»¥ä½¿ç”¨æ™®é€šæ–‡æœ¬ç¼–è¾‘å™¨ç¼–å†™çš„æ ‡è®°è¯­è¨€ï¼Œé€šè¿‡ç®€å•çš„æ ‡è®°è¯­æ³•ï¼Œå®ƒå¯ä»¥ä½¿æ™®é€šæ–‡æœ¬å†…å®¹å…·æœ‰ä¸€å®šçš„æ ¼å¼ã€‚<br> <code>Markdown</code>è¯­æ³•çš„ç›®æ ‡æ˜¯ï¼šæˆä¸ºä¸€ç§é€‚ç”¨äºç½‘ç»œçš„ä¹¦å†™è¯­è¨€ã€Œæ˜“è¯»æ˜“å†™ã€ã€‚å¹¶ä¸”<code>Markdown</code>å…¼å®¹HTMLã€‚ä½ å¯ä»¥ä½¿ç”¨HTMLè¯­è¨€ç¼–å†™Markdownï¼Œå¦‚æœä½ è¦éƒ¨ç½²ä½ çš„ä¸ªäººåšå®¢ï¼Œé‚£è¿™æ›´æ˜¯ä½ å¿…ä¸å¯å°‘çš„æŠ€èƒ½ä¹‹ä¸€ï¼ï¼ï¼</p><p><strong>å¼ºçƒˆæ¨ètyporaè¿™æ¬¾markdownè½¯ä»¶ï¼Œè°ç”¨è°è¯´å¥½ï¼</strong></p><p><font color=green face="åæ–‡å½©äº‘" size=5px>ä¸€æ¬¾ä¼˜è´¨çš„Markdownç¼–è¾‘å™¨,ä¸ä»…ä»…æ˜¯Markdown</font></p><p>é™¤æ­¤ä¹‹å¤–ï¼Œå¦‚æœä½ æ„¿æ„èŠ±ä¸€ç‚¹ç‚¹æ—¶é—´æ¥äº†è§£{ post_link }</p><hr><h1 id="ç®€è¿°Markdownå¸¸è§ç”¨æ³•"><a href="#ç®€è¿°Markdownå¸¸è§ç”¨æ³•" class="headerlink" title="ç®€è¿°Markdownå¸¸è§ç”¨æ³•"></a>ç®€è¿°Markdownå¸¸è§ç”¨æ³•</h1><p>åœ¨ä¸‹é¢ï¼Œæˆ‘å°†ç®€å•ä»‹ç»å‡ ä¸ªå¸¸ç”¨çš„<code>markdown</code>å†™æ³•ã€‚å¸Œæœ›å¤§å®¶å†™å‡ºæ›´å¥½çš„è§‚çœ‹æ•ˆæœçš„æ–‡ç« ã€‚æœ¬æ–‡ä¸€äº›å†…å®¹æ˜¯å±äºHexoä¸‹buttrerflyä¸»é¢˜çš„å†…ç½®æ ‡ç­¾ã€‚</p><hr><p>å¤§å®¶å¯ä»¥è‡ªå·±ä¸‹è½½<a href="https://typora.io/">Typora</a>å°è¯•ä¸€ä¸‹<code>markdown</code>ã€‚</p><iframe src="https://typora.io/" cols="50%,50%" heigth=500px width=100% style="width:100%;height:500px;scroll-x:auto;"></iframe><p>ä¸ºä»€ä¹ˆæ¨è<mark>Typora</mark>,æˆ‘å½’çº³äº†ä»¥ä¸‹å‡ ç‚¹ï¼š</p><p><font style="font-size:20px;font-weight:900;color:green;font-family:'åæ–‡å½©äº‘'">ä¸€</font> â€œæ‰€è§å³æ‰€å¾—â€ï¼ˆå³æ—¶æ¸²æŸ“ï¼‰</p><p><font style="font-size:20px;font-weight:900;color:green;font-family:'åæ–‡å½©äº‘'">äºŒ</font> æ”¯æŒå›¾åºŠåŠŸèƒ½ï¼Œé…åˆPicGOå¯ä»¥å®ç°å›¾ç‰‡çš„éšç”¨éšä¼ </p><div class="tag-plugin image"><div class="image-bg"><img src="https://tva3.sinaimg.cn/large/0072YHp3ly1gk9x8gmzdlj30v904ddg1.jpg"/></div></div><p>å¦‚ä¸‹æ‰€ç¤ºï¼Œå³å‡»å›¾ç‰‡å°±å¯ä»¥ä¸Šä¼ åˆ°PicGoæŒ‡å®šçš„å›¾åºŠã€‚çœŸçš„å¾ˆå¥½ç”¨ï¼ï¼ï¼<img src="https://tva4.sinaimg.cn/large/0072YHp3ly1gk9x9cn79xj30v705jq3r.jpg" alt="Markdown" width="1123" data-width="1123" data-height="199"></p><p><font style="font-size:20px;font-weight:900;color:green;font-family:'åæ–‡å½©äº‘'">ä¸‰</font> Typoraè¿˜æ”¯æŒå°†<code>mdæ–‡ä»¶</code>å¯¼å‡ºä¸ºå¤šç§æ ¼å¼çš„æ–‡ä»¶ï¼Œç›®å‰æ”¯æŒä»¥ä¸‹æ–‡ä»¶:</p><img src="https://tva1.sinaimg.cn/large/0072YHp3ly1gk9x4ku3rqj304u09iq2u.jpg" alt="Markdown" width="174" data-width="174" data-height="342"><p><font style="font-size:20px;font-weight:900;color:green;font-family:'åæ–‡å½©äº‘'">å››</font> å¦‚æœä½ è¿˜ä¼šä¸€ç‚¹CSS,é‚£ä½ ç”šè‡³å¯ä»¥è‡ªå®šä¹‰ç•Œé¢æ ·å¼</p><div class="tag-plugin image"><div class="image-bg"><img src="https://tva4.sinaimg.cn/large/0072YHp3ly1gk9xloodttj306i0d1gls.jpg"/></div></div><p><big>ä¸‹é¢æˆ‘å°†ä»ä»¥ä¸‹è¿™å‡ ä¸ªæ–¹é¢ä»‹ç»ä¸€ä¸‹Typoraçš„ä¸€äº›ä½¿ç”¨æ–¹æ³•ï¼š</big></p><ul><li><a href="#%E5%AD%97%E4%BD%93">å­—ä½“</a>             <code> ï¼ˆ&lt;small&gt;å°&lt;/small&gt;     &lt;big&gt;å¤§&lt;/big&gt;ï¼‰</code></li><li><a href="#%E6%96%9C%E4%BD%93">æ–œä½“</a>                    <code> *æ–œä½“*</code></li><li><a href="#%E5%8A%A0%E7%B2%97">ç²—ä½“</a>                   <code> **ç²—ä½“**</code></li><li><a href="#%E6%96%9C%E4%BD%93%E5%8A%A0%E7%B2%97">æ–œä½“ + ç²—ä½“</a>          <code> ***æ–œä½“+ç²—ä½“\***</code></li><li><a href="#%E5%88%A0%E9%99%A4">åˆ é™¤</a>                  <code>~~åŸä»·ï¼š99.9å…ƒ~~</code></li><li><a href="#%E9%93%BE%E6%8E%A5">é“¾æ¥</a>               <code>[http://www.jianshu.com](https://www.jianshu.com)</code></li><li><a href="#%E5%88%86%E5%89%B2%E7%BA%BF">åˆ†å‰²çº¿</a></li><li><a href="#%E4%B8%8B%E5%88%92%E7%BA%BF">ä¸‹åˆ’çº¿</a></li><li><a href="#%E6%A0%87%E9%A2%98">æ ‡é¢˜</a></li><li><a href="#%E4%BB%BB%E5%8A%A1%E5%88%97%E8%A1%A8">ä»»åŠ¡åˆ—è¡¨</a></li><li><a href="#%E5%9B%BE%E7%89%87">å›¾ç‰‡</a></li><li><a href="#%E5%8C%BA%E5%9D%97%E5%BC%95%E7%94%A8">åŒºå—å¼•ç”¨</a></li><li><a href="#%E8%A1%8C%E5%86%85%E4%BB%A3%E7%A0%81">è¡Œå†…ä»£ç </a>    `markdown`</li><li><a href="#%E5%88%97%E8%A1%A8">åˆ—è¡¨</a></li><li><a href="#%E8%A1%A8%E6%A0%BC">è¡¨æ ¼</a></li><li><a href="#%E8%84%9A%E6%B3%A8">è„šæ³¨</a></li><li><a href="#%E9%AB%98%E4%BA%AE%3Cmark%3E">é«˜äº®</a></li></ul><h2 id="å­—ä½“"><a href="#å­—ä½“" class="headerlink" title="å­—ä½“"></a>å­—ä½“</h2><!--tab æ ¼å¼ --><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">small</span>&gt;</span></span>å°å·å­—ä½“<span class="language-xml"><span class="tag">&lt;/<span class="name">small</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">big</span>&gt;</span></span>å¤§å·å­—ä½“<span class="language-xml"><span class="tag">&lt;/<span class="name">big</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;text-align:center;&quot;</span>&gt;</span></span><span class="language-xml"><span class="tag">&lt;<span class="name">font</span> <span class="attr">color</span>=<span class="string">rgb(25,26,35)</span> <span class="attr">face</span>=<span class="string">&quot;åæ–‡å½©äº‘&quot;</span> <span class="attr">size</span>=<span class="string">100px</span> <span class="attr">style</span>=<span class="string">&quot;text-align:center&quot;</span>&gt;</span></span>å…¶ä»–å¿«æ·æ–¹å¼<span class="language-xml"><span class="tag">&lt;/<span class="name">font</span>&gt;</span></span><span class="language-xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure><table><thead><tr><th>å±æ€§</th><th>å€¼</th><th>æè¿°</th></tr></thead><tbody><tr><td>color</td><td>rgb();<br>#XXXXXX<br>colorname</td><td>è§„å®šæ–‡æœ¬çš„é¢œè‰²ï¼Œå¯ä»¥ä½¿ç”¨<code>style</code>ä»£æ›¿</td></tr><tr><td>face</td><td>font_family</td><td>è§„å®šæ–‡æœ¬çš„å­—ä½“</td></tr><tr><td>size</td><td>number</td><td>è§„å®šæ–‡æœ¬çš„å¤§å°</td></tr></tbody></table><p><small>å°å·å­—ä½“</small></p><p><big>å¤§å·å­—ä½“</big></p><div style="text-align:center;"><font color=rgb(25,26,35) face="åæ–‡å½©äº‘" size=100px style="text-align:center">å…¶ä»–å¿«æ·æ–¹å¼</font></div><h2 id="æ–œä½“"><a href="#æ–œä½“" class="headerlink" title="æ–œä½“"></a>æ–œä½“</h2><p>è¥¿æ–¹æ–œä½“è¿™ä¸€ä¹ æƒ¯çœ‹ä¸ªäººå–œå¥½å§ã€‚åœ¨æ–‡å­—å‰åå„åŠ ä¸€ä¸ª<code>*</code>å°±ğŸ‘Œäº†</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="emphasis">*æ–œä½“*</span></span><br></pre></td></tr></table></figure><p> æ•ˆæœå¦‚ä¸‹ï¼š<br><em>æ–œä½“</em></p><h2 id="åŠ ç²—"><a href="#åŠ ç²—" class="headerlink" title="åŠ ç²—"></a>åŠ ç²—</h2><p>åœ¨æ–‡å­—å‰åå„åŠ ä¸¤ä¸ª<code>**</code>å°±ğŸ‘Œäº†</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="strong">**åŠ ç²—**</span></span><br></pre></td></tr></table></figure><p>æ•ˆæœå¦‚ä¸‹ï¼š<br> <strong>åŠ ç²—</strong></p><h2 id="æ–œä½“åŠ ç²—"><a href="#æ–œä½“åŠ ç²—" class="headerlink" title="æ–œä½“åŠ ç²—"></a>æ–œä½“åŠ ç²—</h2><p>æ–œä½“æ–‡å­—å‰åå„åŠ <code>*</code>ï¼ŒåŠ ç²—æ–‡å­—å‰åå„åŠ <code>**</code>ï¼Œæ–œä½“åŠ ç²—åœ¨æ–‡å­—å‰ååŠ <code>***</code>ã€‚æ²¡æ¯›ç—…â€¦</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="strong">**<span class="emphasis">*æ–œä½“åŠ ç²—*</span>**</span></span><br></pre></td></tr></table></figure><p>æ•ˆæœå¦‚ä¸‹:<br> <em><strong>æ–œä½“åŠ ç²—</strong></em></p><h2 id="åˆ é™¤"><a href="#åˆ é™¤" class="headerlink" title="åˆ é™¤"></a>åˆ é™¤</h2><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">~~content~~</span><br></pre></td></tr></table></figure><p> æ•ˆæœå¦‚ä¸‹ï¼š<br><del>content</del></p><h2 id="é“¾æ¥"><a href="#é“¾æ¥" class="headerlink" title="é“¾æ¥"></a>é“¾æ¥</h2><p>é“¾æ¥åº”è¯¥æ˜¯ä½¿ç”¨æœ€å¤šçš„åœºæ™¯äº†ã€‚ä»–äººæœ‰å¥½çš„æ–‡å­—æˆ–è€…è‡ªå·±æ‘˜è‡ªå“ªé‡Œã€éƒ½å¯ä»¥ä¼ é€é—¨ç›´æ¥è¿‡å»ã€‚</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[<span class="string">ç½‘ç«™å</span>](<span class="link">åœ°å€</span>)</span><br><span class="line">åœ°å€</span><br></pre></td></tr></table></figure><p> æ•ˆæœå¦‚ä¸‹ï¼š<br><a href="mailto:example@163.com">example@163.com</a><br><a href="http://www.baidu.com/">http://www.baidu.com</a></p><h2 id="åˆ†å‰²çº¿"><a href="#åˆ†å‰²çº¿" class="headerlink" title="åˆ†å‰²çº¿"></a>åˆ†å‰²çº¿</h2><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1 <span class="strong">****</span></span><br><span class="line">2 <span class="strong">****</span>*</span><br><span class="line">3 ---</span><br><span class="line">ä»¥ä¸Šä¸‰ç§å†™æ³•éƒ½å¯ä»¥ï¼Œæ•ˆæœä¸€æ ·ï¼Œçœ‹ä¸ªäººå¿ƒæƒ…ä½¿ç”¨ã€‚</span><br></pre></td></tr></table></figure><hr><hr><hr><h2 id="ä¸‹åˆ’çº¿"><a href="#ä¸‹åˆ’çº¿" class="headerlink" title="ä¸‹åˆ’çº¿"></a>ä¸‹åˆ’çº¿</h2><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">u</span>&gt;</span></span>å†…å®¹<span class="language-xml"><span class="tag">&lt;/<span class="name">u</span>&gt;</span></span></span><br></pre></td></tr></table></figure><p><u>å†…å®¹</u></p><h2 id="æ ‡é¢˜"><a href="#æ ‡é¢˜" class="headerlink" title="æ ‡é¢˜"></a>æ ‡é¢˜</h2><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># ä¸€çº§æ ‡é¢˜</span></span><br><span class="line">Â·Â·Â·</span><br><span class="line"><span class="section">###### å…­çº§æ ‡é¢˜ //æœ€å¤šæ”¯æŒå…­çº§æ ‡é¢˜</span></span><br></pre></td></tr></table></figure><p>æ•ˆæœå¦‚ä¸‹ï¼š</p><p><font size=10px style="font-weight:700">ä¸€çº§æ ‡é¢˜</font></p><p><font size=3px style="font-weight:600">å…­çº§æ ‡é¢˜</font></p><h2 id="ä»»åŠ¡åˆ—è¡¨"><a href="#ä»»åŠ¡åˆ—è¡¨" class="headerlink" title="ä»»åŠ¡åˆ—è¡¨"></a>ä»»åŠ¡åˆ—è¡¨</h2><p>æ ¼å¼ï¼š</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet"> -</span> [] å¾…å®Œæˆ</span><br><span class="line"><span class="bullet">-</span> [X] å·²å®Œæˆ</span><br></pre></td></tr></table></figure><p>æ•ˆæœå¦‚ä¸‹ï¼š</p><ul><li><input disabled="" type="checkbox"> å¾…å®Œæˆ</li><li><input checked="" disabled="" type="checkbox"> å·²å®Œæˆ</li></ul><h2 id="å›¾ç‰‡"><a href="#å›¾ç‰‡" class="headerlink" title="å›¾ç‰‡"></a>å›¾ç‰‡</h2><p>æ ¼å¼ä¸º<code>&#123;% image   %&#125;</code></p><p>å…¶ä¸­å›¾ç‰‡åç§°å¯ä»¥ä¸ºç©ºã€‚ç›´æ¥è¾“å…¥[]å°±å¯ä»¥ã€‚ä¸‹é¢æˆ‘çš„<code>url</code>è¾“å…¥çš„ç›´æ¥å°±æ–‡å­—urlã€‚æ‰€ä»¥è‚¯å®šæ˜¯ç©ºå›¾ç‰‡å•¦ã€‚Typoraä¹Ÿå¯ä»¥ç›´æ¥æŠŠç”µè„‘æœ¬åœ°çš„å›¾ç‰‡æ‹–è¿›æ¥ï¼Œè‡ªåŠ¨ç”Ÿæˆå›¾ç‰‡é“¾æ¥ã€‚</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% image URL  %&#125;</span><br></pre></td></tr></table></figure><h2 id="åŒºå—å¼•ç”¨"><a href="#åŒºå—å¼•ç”¨" class="headerlink" title="åŒºå—å¼•ç”¨"></a>åŒºå—å¼•ç”¨</h2><p>ä»£ç å—ï¼Œä½¿ç”¨â€™`â€˜å’Œ<code>~</code>éƒ½å¯ä»¥</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="code">```</span></span><br><span class="line"><span class="code">ä»£ç </span></span><br><span class="line"><span class="code">```</span></span><br></pre></td></tr></table></figure><p>æ•ˆæœå¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ä»£ç </span><br></pre></td></tr></table></figure><h2 id="è¡Œå†…ä»£ç "><a href="#è¡Œå†…ä»£ç " class="headerlink" title="è¡Œå†…ä»£ç "></a>è¡Œå†…ä»£ç </h2><p>ç¨‹åºçŒ¿å¼•ç”¨ä»£ç ï¼Œæˆ–è€…æ˜¯æ–‡ç« ä¸­æœ‰ä¸€äº›å…³é”®æ€§çš„åè¯å•Šï¼Œæˆ–è€…ä¸ºäº†çªå‡ºé†’ç›®ã€‚æ•ˆæœä¸é”™ã€‚</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="code">`printf(&quot;test&quot;)`</span></span><br></pre></td></tr></table></figure><p>æ•ˆæœå¦‚ä¸‹ï¼š<br> <code>printf(&quot;testâ€);</code></p><h2 id="åˆ—è¡¨"><a href="#åˆ—è¡¨" class="headerlink" title="åˆ—è¡¨"></a>åˆ—è¡¨</h2><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">-</span> æ— åºé¡¹ç›®1</span><br><span class="line"><span class="bullet">*</span> æ— åºé¡¹ç›®2</span><br><span class="line"><span class="bullet">+</span> æ— åºé¡¹ç›®3</span><br><span class="line"><span class="bullet">-</span> æ— åºäºŒçº§1</span><br><span class="line"><span class="bullet">-</span> æ— åºäºŒçº§2</span><br><span class="line"><span class="bullet">1.</span> æœ‰åºæ ‡é¢˜</span><br><span class="line"><span class="bullet">1.</span> æ— åºäºŒçº§æ ‡é¢˜</span><br></pre></td></tr></table></figure><ul><li>æ— åºé¡¹ç›®1</li></ul><ul><li>æ— åºé¡¹ç›®2</li></ul><ul><li>æ— åºé¡¹ç›®3<ul><li>æ— åºäºŒçº§1</li><li>æ— åºäºŒçº§2</li></ul></li></ul><ol><li><p>æœ‰åºæ ‡é¢˜</p><ol><li>æ— åºäºŒçº§æ ‡é¢˜</li></ol></li></ol><h2 id="è¡¨æ ¼"><a href="#è¡¨æ ¼" class="headerlink" title="è¡¨æ ¼"></a>è¡¨æ ¼</h2><p><kbd>ctrl+t</kbd>æ›´æ–¹ä¾¿</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">| ç¬¬ä¸€æ ¼è¡¨å¤´                       | ç¬¬äºŒæ ¼è¡¨å¤´             |</span><br><span class="line">| -------------------------------- | ---------------------- |</span><br><span class="line">| å†…å®¹å•å…ƒæ ¼ ç¬¬ä¸€åˆ—ç¬¬ä¸€æ ¼          | å†…å®¹å•å…ƒæ ¼ç¬¬äºŒåˆ—ç¬¬ä¸€æ ¼ |</span><br><span class="line">| å†…å®¹å•å…ƒæ ¼ ç¬¬ä¸€åˆ—ç¬¬äºŒæ ¼ å¤šåŠ æ–‡å­— | å†…å®¹å•å…ƒæ ¼ç¬¬äºŒåˆ—ç¬¬äºŒæ ¼ |</span><br></pre></td></tr></table></figure><p>æ•ˆæœå¦‚ä¸‹:</p><table><thead><tr><th>ç¬¬ä¸€æ ¼è¡¨å¤´</th><th>ç¬¬äºŒæ ¼è¡¨å¤´</th></tr></thead><tbody><tr><td>å†…å®¹å•å…ƒæ ¼ ç¬¬ä¸€åˆ—ç¬¬ä¸€æ ¼</td><td>å†…å®¹å•å…ƒæ ¼ç¬¬äºŒåˆ—ç¬¬ä¸€æ ¼</td></tr><tr><td>å†…å®¹å•å…ƒæ ¼ ç¬¬ä¸€åˆ—ç¬¬äºŒæ ¼ å¤šåŠ æ–‡å­—</td><td>å†…å®¹å•å…ƒæ ¼ç¬¬äºŒåˆ—ç¬¬äºŒæ ¼</td></tr></tbody></table><h2 id="è„šæ³¨"><a href="#è„šæ³¨" class="headerlink" title="è„šæ³¨"></a>è„šæ³¨</h2><p><code>H~2~o</code>æ•ˆæœé¢„è§ˆâ€“&gt;H<del>2</del>o</p><h2 id="é«˜äº®-lt-mark-gt"><a href="#é«˜äº®-lt-mark-gt" class="headerlink" title="é«˜äº®&lt;mark&gt;"></a>é«˜äº®&lt;mark&gt;</h2><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">mark</span>&gt;</span></span>content<span class="language-xml"><span class="tag">&lt;/<span class="name">mark</span>&gt;</span></span></span><br></pre></td></tr></table></figure><p><code>&lt;mark&gt;</code>æ ‡ç­¾æ”¯æŒå…¨å±€å±æ€§ï¼Œå› æ­¤å¯ä»¥é€šè¿‡è‡ªå®šä¹‰<code>style</code>ä¿®æ”¹markçš„æ ·å¼ã€‚</p><p>å‚è€ƒè¿™ä¸ªâ†“ï¼š</p><p><a href="http://codingdict.com/article/1679">HTMLå‚è€ƒæ‰‹å†Œ|ç¼–ç¨‹å­—å…¸</a></p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">mark</span>&gt;</span></span>åŸå§‹æ ·å¼<span class="language-xml"><span class="tag">&lt;/<span class="name">mark</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">mark</span> <span class="attr">style</span>=<span class="string">&quot;font:&#x27;å¾®è½¯é›…é»‘&#x27;;color:red;font-weight:900&quot;</span>&gt;</span></span>CSSæ ·å¼<span class="language-xml"><span class="tag">&lt;/<span class="name">mark</span>&gt;</span></span></span><br></pre></td></tr></table></figure><p><mark>åŸå§‹æ ·å¼</mark><br><mark style="font:'å¾®è½¯é›…é»‘';color:green;font-weight:900;background:lightgray">CSSæ ·å¼</mark></p>]]></content>
      
      
      <categories>
          
          <category> æ‰‹å†Œ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Visual Assist å¿«æ·é”®æ•´ç†</title>
      <link href="/%E6%89%8B%E5%86%8C/%E5%BF%AB%E6%8D%B7%E9%94%AE%E6%95%B4%E7%90%86/Visual%20Assist%20%E5%BF%AB%E6%8D%B7%E9%94%AE/"/>
      <url>/%E6%89%8B%E5%86%8C/%E5%BF%AB%E6%8D%B7%E9%94%AE%E6%95%B4%E7%90%86/Visual%20Assist%20%E5%BF%AB%E6%8D%B7%E9%94%AE/</url>
      
        <content type="html"><![CDATA[<p>Visual Assist å¿«æ·é”®ï¼š</p><p>shift+alt+F æŸ¥æ‰¾å¼•ç”¨<br>alt+M æŸ¥çœ‹å½“å‰æ–‡ä»¶ä¸‹å‡½æ•°åˆ—è¡¨<br>alt+up å°†å½“å‰è¡Œçš„ä»£ç æ”¾åˆ°ä¸Šä¸€è¡Œ<br>alt+down å°†å½“å‰è¡Œçš„ä»£ç æ”¾åˆ°ä¸‹ä¸€è¡Œ<br>alt+O .h&#x2F;.cppæ–‡ä»¶çš„åˆ‡æ¢<br>Ctrl + -ï¼šå…‰æ ‡å›åˆ°ä¸Šä¸€å¤„<br>Ctrl + Shift + -ï¼šå…‰æ ‡å›åˆ°ä¸‹ä¸€å¤„<br>Alt + Gï¼šå¿«é€Ÿè·³åˆ°å®šä¹‰</p><p>shift+alt+O æ‰“å¼€è§£å†³æ–¹æ¡ˆæ–‡ä»¶å¯¹è¯æ¡†<br>shift+alt+S æŸ¥æ‰¾æŸä¸ªå¯¹è±¡æˆ–æ˜¯å˜é‡<br>shift+alt+Q é¼ æ ‡å®šä½åˆ°å‡½æ•°åä¸Šï¼Œè‹¥æ˜¯åœ¨cppæ–‡ä»¶ä¸­ï¼Œåˆ™æŒ‰æ­¤å¿«æ·é”®ä¼šå¼¹å‡ºå³é”®èœå•ï¼Œé‡Œé¢æœ‰ä¸€ä¸ªé€‰é¡¹â€“åˆ›å»ºå£°æ˜ã€‚ <strong>ä¸Alt+Oé…åˆä¼šæ¯”è¾ƒæ–¹ä¾¿ã€‚</strong><br>shift+alt+F æ‰¾åˆ°å¯¹è±¡çš„æ‰€æœ‰å¼•ç”¨<br>shift+alt+R æ‰¾åˆ°æ‰€æœ‰å¯¹è±¡å¹¶é‡å‘½å</p>]]></content>
      
      
      <categories>
          
          <category> æ‰‹å†Œ </category>
          
          <category> å¿«æ·é”®æ•´ç† </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å¿«æ·é”® </tag>
            
            <tag> VA </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å†™ä½œåä½œæ‰‹å†Œ</title>
      <link href="/%E6%89%8B%E5%86%8C/%E5%86%99%E4%BD%9C%E6%A0%B7%E5%BC%8F/"/>
      <url>/%E6%89%8B%E5%86%8C/%E5%86%99%E4%BD%9C%E6%A0%B7%E5%BC%8F/</url>
      
        <content type="html"><![CDATA[<p>[toc]</p><blockquote><p>æš‚æ—¶æˆ‘ä¸æƒ³çŸ¥é“ä½ åœ¨æƒ³ä»€ä¹ˆï¼</p></blockquote><ul><li>ä½ æƒ³çŸ¥é“ä»€ä¹ˆï¼Ÿ</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">int</span> argc,<span class="type">const</span> <span class="type">char</span> *argv[])</span></span>&#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;Hello World&quot;</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><img src="https://img.shields.io/badge/éš¾åº¦-å›°éš¾-red"  align="left" /><img src="https://img.shields.io/badge/éš¾åº¦-ä¸­ç­‰-yellow" align="left"  /><img src="https://img.shields.io/badge/éš¾åº¦-ç®€å•-green" align="left"  /><div class="tag-plugin image"><div class="image-bg"><img src="https://files.mdnice.com/blue.jpg"/></div></div><div class="tag-plugin image"><div class="image-bg"><img src="https://files.mdnice.com/green.jpg"/></div></div><div class="tag-plugin image"><div class="image-bg"><img src="https://files.mdnice.com/red.jpg"/></div></div><h1 id="å¸¸ç”¨é¢œè‰²ä»£ç "><a href="#å¸¸ç”¨é¢œè‰²ä»£ç " class="headerlink" title="å¸¸ç”¨é¢œè‰²ä»£ç "></a>å¸¸ç”¨é¢œè‰²ä»£ç </h1><div style="background:marnoon;color:black">color=maroon</div><div style="background:grey;">color=grey</div><div style="background:silver;">color=silver</div><div style="background:lightgrey;">color=lightgrey</div><div style="background:HotPink;">color=HotPink</div><div style="background:DeepPink;">color=DeepPink</div><div style="background:VioletRed;">color=VioletRed</div><div style="background:Purple;">color=Purple</div><div style="background:navy;">color=navy</div><div style="background:Blue;">color=Blue</div><div style="background:DeepSkyBlue;">color=DeepSkyBlue</div><div style="background:LightSkyBlue;">color=LightSkyBlue</div><div style="background:aqua;">color=aqua</div><div style="background:DarkTurquoise;">color=DarkTurquoise</div><div style="background:LightSeaGreen;">color=LightSeaGreen</div><div style="background:YellowGreen;">color=YellowGreen</div><div style="background:GreenYellow;">color=GreenYellow</div><div style="background:Yellow;">color=Yellow</div><div style="background:Tomato;">color=Tomato</div><div style="background:red;">color=red</div><div style="background:fuchsia;">color=fuchsia</div><div style="background:MediumOrchid;">color=MediumOrchid</div><div style="background:DarkViolet;">color=DarkViolet</div><p><a href="https://img.shields.io/badge/%E4%B8%AA%E4%BA%BA%E4%B8%BB%E9%A1%B5-fole_del.github.io-blue">https://img.shields.io/badge/ä¸ªäººä¸»é¡µ-fole_del.github.io-blue</a></p><div class="tag-plugin image"><div class="image-bg"><img src="../images/image-20201012182346086.png"/></div></div><p>å¸¸ç”¨æ¨¡æ¿ï¼ˆå¤æ‚åº¦ï¼‰</p><div class="tag-plugin image"><div class="image-bg"><img src="https://img.shields.io/badge/-brightgreen-brightgreen"/></div></div><div class="tag-plugin image"><div class="image-bg"><img src="https://img.shields.io/badge/-green-green"/></div></div><div class="tag-plugin image"><div class="image-bg"><img src="https://img.shields.io/badge/-yellowgreen-yellowgreen"/></div></div><div class="tag-plugin image"><div class="image-bg"><img src="https://img.shields.io/badge/-yellow-yellow"/></div></div><div class="tag-plugin image"><div class="image-bg"><img src="https://img.shields.io/badge/-orange-orange"/></div></div><div class="tag-plugin image"><div class="image-bg"><img src="https://img.shields.io/badge/-red-red"/></div></div><div class="tag-plugin image"><div class="image-bg"><img src="https://img.shields.io/badge/-blue-blue"/></div></div><div class="tag-plugin image"><div class="image-bg"><img src="https://img.shields.io/badge/-lightgrey-lightgrey"/></div></div><div class="tag-plugin image"><div class="image-bg"><img src="https://img.shields.io/badge/-success-success"/></div></div><div class="tag-plugin image"><div class="image-bg"><img src="https://img.shields.io/badge/-important-important"/></div></div><div class="tag-plugin image"><div class="image-bg"><img src="https://img.shields.io/badge/-critical-critical"/></div></div><div class="tag-plugin image"><div class="image-bg"><img src="https://img.shields.io/badge/-informational-informational"/></div></div><div class="tag-plugin image"><div class="image-bg"><img src="https://img.shields.io/badge/-inactive-inactive"/></div></div><div class="tag-plugin image"><div class="image-bg"><img src="https://img.shields.io/badge/-blueviolet-blueviolet"/></div></div><div class="tag-plugin image"><div class="image-bg"><img src="https://img.shields.io/badge/-ff69b4-ff69b4"/></div></div><div class="tag-plugin image"><div class="image-bg"><img src="https://img.shields.io/badge/-9cf-9cf"/></div></div><table><thead><tr><th><code>?style=plastic&amp;logo=appveyor</code></th><th><div class="tag-plugin image"><div class="image-bg"><img src="https://img.shields.io/badge/style-plastic-green?logo=appveyor&style=plastic"/></div></div></th></tr></thead><tbody><tr><td><code>?style=flat&amp;logo=appveyor</code></td><td><div class="tag-plugin image"><div class="image-bg"><img src="https://img.shields.io/badge/style-flat-green?logo=appveyor&style=flat"/></div></div></td></tr><tr><td><code>?style=flat-square&amp;logo=appveyor</code></td><td><div class="tag-plugin image"><div class="image-bg"><img src="https://img.shields.io/badge/style-flat--square-green?logo=appveyor&style=flat-square"/></div></div></td></tr><tr><td><code>?style=for-the-badge&amp;logo=appveyor</code></td><td><div class="tag-plugin image"><div class="image-bg"><img src="https://img.shields.io/badge/style-for--the--badge-green?logo=appveyor&style=for-the-badge"/></div></div></td></tr><tr><td><code>?style=social&amp;logo=appveyor</code></td><td><div class="tag-plugin image"><div class="image-bg"><img src="https://img.shields.io/badge/style-social-green?logo=appveyor&style=social"/></div></div></td></tr></tbody></table><div class="tag-plugin image"><div class="image-bg"><img src="https://img.shields.io/badge/ç©ºé—´å¤æ‚åº¦-nÂ²-red"/></div></div> <div class="tag-plugin image"><div class="image-bg"><img src="https://img.shields.io/badge/æ—¶é—´å¤æ‚åº¦-nÂ²-information"/></div></div><h1 id="å…¶ä»–å¿«æ·æ–¹å¼"><a href="#å…¶ä»–å¿«æ·æ–¹å¼" class="headerlink" title="å…¶ä»–å¿«æ·æ–¹å¼"></a><font color=rgb(25,26,35) face="åæ–‡å½©äº‘" size=100px>å…¶ä»–å¿«æ·æ–¹å¼</font></h1><p>^_^</p><p>&#x2F;* default *&#x2F;</p><div class="note  icon custom iconfont icon-QQ2" style="background: #f7f7f7;border-left-color: #777;"><p>default</p></div><p>&#x2F;* success *&#x2F;</p><div class="note  icon custom iconfont icon-QQ2" style="background: #eff8f0;border-left-color: #5cb85c;"><p>success</p></div><p>&#x2F;* primary *&#x2F;</p><div class="note  icon custom iconfont icon-QQ2" style="background: #f5f0fa;border-left-color: #6f42c1;"><p>primary</p></div><p>&#x2F;* info *&#x2F;</p><div class="note  icon custom iconfont icon-QQ2" style="background: #eef7fa;border-left-color: #428bca;"><p>info</p></div><p>&#x2F;* warning *&#x2F;</p><div class="note  icon custom iconfont icon-QQ2" style="background: #fdf8ea;border-left-color: #f0ad4e;"><p>warning</p></div><p>&#x2F;* danger *&#x2F;</p><div class="note  icon custom iconfont icon-QQ2" style="background: #fcf1f2;border-left-color: #d9534f;"><p>danger</p></div><h1 id="åŠ¨ç”»"><a href="#åŠ¨ç”»" class="headerlink" title="åŠ¨ç”»"></a><font color=rgb(25,26,35) face="åæ–‡å½©äº‘" size=100px>åŠ¨ç”»</font></h1><blockquote><p>éœ€è¦æ³¨æ„çš„æ˜¯åœ¨ä½¿ç”¨æ—¶éœ€è¦æ·»åŠ <code>fas</code>çš„å±æ€§ï¼Œå¦‚<code>&lt;span class=&quot;fas faa-wrench animated&quot;&gt;&lt;/span&gt;</code></p></blockquote><p><a href="https://www.antmoe.com/posts/a811d614/index.html#%E9%98%85%E8%AF%BB%E6%A8%A1%E5%BC%8F%E7%9A%84%E8%83%8C%E6%99%AF%E4%B8%8E%E5%AD%97%E4%BD%93">å°åº·åšå®¢</a></p><table><thead><tr><th align="center">On DOM load</th><th align="center">On hover</th><th align="center">On parent hover</th></tr></thead><tbody><tr><td align="center">faa-wrench animated</td><td align="center">faa-wrench animated-hover</td><td align="center">faa-wrench</td></tr><tr><td align="center">faa-ring animated</td><td align="center">faa-ring animated-hover</td><td align="center">faa-ring</td></tr><tr><td align="center">faa-horizontal animated</td><td align="center">faa-horizontal animated-hover</td><td align="center">faa-horizontal</td></tr><tr><td align="center">faa-vertical animated</td><td align="center">faa-vertical animated-hover</td><td align="center">faa-vertical</td></tr><tr><td align="center">faa-flash animated</td><td align="center">faa-flash animated-hover</td><td align="center">faa-flash</td></tr><tr><td align="center">faa-bounce animated</td><td align="center">faa-bounce animated-hover</td><td align="center">faa-bounce</td></tr><tr><td align="center">faa-spin animated</td><td align="center">faa-spin animated-hover</td><td align="center">faa-spin</td></tr><tr><td align="center">faa-float animated</td><td align="center">faa-float animated-hover</td><td align="center">faa-float</td></tr><tr><td align="center">faa-pulse animated</td><td align="center">faa-pulse animated-hover</td><td align="center">faa-pulse</td></tr><tr><td align="center">faa-shake animated</td><td align="center">faa-shake animated-hover</td><td align="center">faa-shake</td></tr><tr><td align="center">faa-tada animated</td><td align="center">faa-tada animated-hover</td><td align="center">faa-tada</td></tr><tr><td align="center">faa-passing animated</td><td align="center">faa-passing animated-hover</td><td align="center">faa-passing</td></tr><tr><td align="center">faa-passing-reverse animated</td><td align="center">faa-passing-reverse animated-hover</td><td align="center">faa-passing-reverse</td></tr><tr><td align="center">faa-burst animated</td><td align="center">faa-burst animated-hover</td><td align="center">faa-burst</td></tr><tr><td align="center">faa-falling animated</td><td align="center">faa-falling animated-hover</td><td align="center">faa-falling</td></tr><tr><td align="center">faa-rising animated</td><td align="center">faa-rising animated-hover</td><td align="center">faa-rising</td></tr></tbody></table><h1 id="å¤–æŒ‚æ ‡ç­¾"><a href="#å¤–æŒ‚æ ‡ç­¾" class="headerlink" title="å¤–æŒ‚æ ‡ç­¾"></a>å¤–æŒ‚æ ‡ç­¾</h1><h2 id="checkbox"><a href="#checkbox" class="headerlink" title="checkbox"></a>checkbox</h2><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&#123;% checkbox çº¯æ–‡æœ¬æµ‹è¯• %&#125;</span><br><span class="line">&#123;% checkbox checked, æ”¯æŒç®€å•çš„ [<span class="string">markdown</span>](<span class="link">https://guides.github.com/features/mastering-markdown/</span>) è¯­æ³• %&#125;</span><br><span class="line">&#123;% checkbox red, æ”¯æŒè‡ªå®šä¹‰é¢œè‰² %&#125;</span><br><span class="line">&#123;% checkbox green checked, ç»¿è‰² + é»˜è®¤é€‰ä¸­ %&#125;</span><br><span class="line">&#123;% checkbox yellow checked, é»„è‰² + é»˜è®¤é€‰ä¸­ %&#125;</span><br><span class="line">&#123;% checkbox cyan checked, é’è‰² + é»˜è®¤é€‰ä¸­ %&#125;</span><br><span class="line">&#123;% checkbox blue checked, è“è‰² + é»˜è®¤é€‰ä¸­ %&#125;</span><br><span class="line">&#123;% checkbox plus green checked, å¢åŠ  %&#125;</span><br><span class="line">&#123;% checkbox minus yellow checked, å‡å°‘ %&#125;</span><br><span class="line">&#123;% checkbox times red checked, å‰ %&#125;</span><br><span class="line">&#123;% radio çº¯æ–‡æœ¬æµ‹è¯• %&#125;</span><br><span class="line">&#123;% radio checked, æ”¯æŒç®€å•çš„ [<span class="string">markdown</span>](<span class="link">https://guides.github.com/features/mastering-markdown/</span>) è¯­æ³• %&#125;</span><br><span class="line">&#123;% radio red, æ”¯æŒè‡ªå®šä¹‰é¢œè‰² %&#125;</span><br><span class="line">&#123;% radio green, ç»¿è‰² %&#125;</span><br><span class="line">&#123;% radio yellow, é»„è‰² %&#125;</span><br><span class="line">&#123;% radio cyan, é’è‰² %&#125;</span><br><span class="line">&#123;% radio blue, è“è‰² %&#125;</span><br></pre></td></tr></table></figure><div class="tag-plugin image"><div class="image-bg"><img src="../images/Markdownå·¥å…·é›†/image-20210611120738604.png"/></div></div><hr><h1 id="æ‰€æœ‰è¡¨æƒ…"><a href="#æ‰€æœ‰è¡¨æƒ…" class="headerlink" title="æ‰€æœ‰è¡¨æƒ…"></a><font color=rgb(25,26,35) face="åæ–‡å½©äº‘">æ‰€æœ‰è¡¨æƒ…</font></h1><p>:a: :ab: :abc: :abcd: :accept: :aerial_tramway: :afghanistan: :airplane: :central_african_republic: :earth_africa: :south_africa: :aland_islands: :alarm_clock: :alembic:</p><table><thead><tr><th>ğŸ˜„ <code>:smile:</code></th><th>ğŸ˜† <code>:laughing:</code></th><th></th></tr></thead><tbody><tr><td>ğŸ˜Š <code>:blush:</code></td><td>ğŸ˜ƒ <code>:smiley:</code></td><td>â˜ºï¸ <code>:relaxed:</code></td></tr><tr><td>ğŸ˜ <code>:smirk:</code></td><td>ğŸ˜ <code>:heart_eyes:</code></td><td>ğŸ˜˜ <code>:kissing_heart:</code></td></tr><tr><td>ğŸ˜š <code>:kissing_closed_eyes:</code></td><td>ğŸ˜³ <code>:flushed:</code></td><td>ğŸ˜Œ <code>:relieved:</code></td></tr><tr><td>ğŸ˜† <code>:satisfied:</code></td><td>ğŸ˜ <code>:grin:</code></td><td>ğŸ˜‰ <code>:wink:</code></td></tr><tr><td>ğŸ˜œ <code>:stuck_out_tongue_winking_eye:</code></td><td>ğŸ˜ <code>:stuck_out_tongue_closed_eyes:</code></td><td>ğŸ˜€ <code>:grinning:</code></td></tr><tr><td>ğŸ˜— <code>:kissing:</code></td><td>ğŸ˜™ <code>:kissing_smiling_eyes:</code></td><td>ğŸ˜› <code>:stuck_out_tongue:</code></td></tr><tr><td>ğŸ˜´ <code>:sleeping:</code></td><td>ğŸ˜Ÿ <code>:worried:</code></td><td>ğŸ˜¦ <code>:frowning:</code></td></tr><tr><td>ğŸ˜§ <code>:anguished:</code></td><td>ğŸ˜® <code>:open_mouth:</code></td><td>ğŸ˜¬ <code>:grimacing:</code></td></tr><tr><td>ğŸ˜• <code>:confused:</code></td><td>ğŸ˜¯ <code>:hushed:</code></td><td>ğŸ˜‘ <code>:expressionless:</code></td></tr><tr><td>ğŸ˜’ <code>:unamused:</code></td><td>ğŸ˜… <code>:sweat_smile:</code></td><td>ğŸ˜“ <code>:sweat:</code></td></tr><tr><td>ğŸ˜¥ <code>:disappointed_relieved:</code></td><td>ğŸ˜© <code>:weary:</code></td><td>ğŸ˜” <code>:pensive:</code></td></tr><tr><td>ğŸ˜ <code>:disappointed:</code></td><td>ğŸ˜– <code>:confounded:</code></td><td>ğŸ˜¨ <code>:fearful:</code></td></tr><tr><td>ğŸ˜° <code>:cold_sweat:</code></td><td>ğŸ˜£ <code>:persevere:</code></td><td>ğŸ˜¢ <code>:cry:</code></td></tr><tr><td>ğŸ˜­ <code>:sob:</code></td><td>ğŸ˜‚ <code>:joy:</code></td><td>ğŸ˜² <code>:astonished:</code></td></tr><tr><td>ğŸ˜± <code>:scream:</code></td><td></td><td>ğŸ˜« <code>:tired_face:</code></td></tr><tr><td>ğŸ˜  <code>:angry:</code></td><td>ğŸ˜¡ <code>:rage:</code></td><td>ğŸ˜¤ <code>:triumph:</code></td></tr><tr><td>ğŸ˜ª <code>:sleepy:</code></td><td>ğŸ˜‹ <code>:yum:</code></td><td>ğŸ˜· <code>:mask:</code></td></tr><tr><td>ğŸ˜ <code>:sunglasses:</code></td><td>ğŸ˜µ <code>:dizzy_face:</code></td><td>ğŸ‘¿ <code>:imp:</code></td></tr><tr><td>ğŸ˜ˆ <code>:smiling_imp:</code></td><td>ğŸ˜ <code>:neutral_face:</code></td><td>ğŸ˜¶ <code>:no_mouth:</code></td></tr><tr><td>ğŸ˜‡ <code>:innocent:</code></td><td>ğŸ‘½ <code>:alien:</code></td><td>ğŸ’› <code>:yellow_heart:</code></td></tr><tr><td>ğŸ’™ <code>:blue_heart:</code></td><td>ğŸ’œ <code>:purple_heart:</code></td><td>â¤ï¸ <code>:heart:</code></td></tr><tr><td>ğŸ’š <code>:green_heart:</code></td><td>ğŸ’” <code>:broken_heart:</code></td><td>ğŸ’“ <code>:heartbeat:</code></td></tr><tr><td>ğŸ’— <code>:heartpulse:</code></td><td>ğŸ’• <code>:two_hearts:</code></td><td>ğŸ’ <code>:revolving_hearts:</code></td></tr><tr><td>ğŸ’˜ <code>:cupid:</code></td><td>ğŸ’– <code>:sparkling_heart:</code></td><td>âœ¨ <code>:sparkles:</code></td></tr><tr><td>â­ï¸ <code>:star:</code></td><td>ğŸŒŸ <code>:star2:</code></td><td>ğŸ’« <code>:dizzy:</code></td></tr><tr><td>ğŸ’¥ <code>:boom:</code></td><td>ğŸ’¥ <code>:collision:</code></td><td>ğŸ’¢ <code>:anger:</code></td></tr><tr><td>â—ï¸ <code>:exclamation:</code></td><td>â“ <code>:question:</code></td><td>â• <code>:grey_exclamation:</code></td></tr><tr><td>â” <code>:grey_question:</code></td><td>ğŸ’¤ <code>:zzz:</code></td><td>ğŸ’¨ <code>:dash:</code></td></tr><tr><td>ğŸ’¦ <code>:sweat_drops:</code></td><td>ğŸ¶ <code>:notes:</code></td><td>ğŸµ <code>:musical_note:</code></td></tr><tr><td>ğŸ”¥ <code>:fire:</code></td><td>ğŸ’© <code>:hankey:</code></td><td>ğŸ’© <code>:poop:</code></td></tr><tr><td>ğŸ’© <code>:shit:</code></td><td>ğŸ‘ <code>:+1:</code></td><td>ğŸ‘ <code>:thumbsup:</code></td></tr><tr><td>ğŸ‘ <code>:-1:</code></td><td>ğŸ‘ <code>:thumbsdown:</code></td><td>ğŸ‘Œ <code>:ok_hand:</code></td></tr><tr><td>ğŸ‘Š <code>:punch:</code></td><td>ğŸ‘Š <code>:facepunch:</code></td><td>âœŠ <code>:fist:</code></td></tr><tr><td>âœŒï¸ <code>:v:</code></td><td>ğŸ‘‹ <code>:wave:</code></td><td>âœ‹ <code>:hand:</code></td></tr><tr><td>âœ‹ <code>:raised_hand:</code></td><td>ğŸ‘ <code>:open_hands:</code></td><td>â˜ï¸ <code>:point_up:</code></td></tr><tr><td>ğŸ‘‡ <code>:point_down:</code></td><td>ğŸ‘ˆ <code>:point_left:</code></td><td>ğŸ‘‰ <code>:point_right:</code></td></tr><tr><td>ğŸ™Œ <code>:raised_hands:</code></td><td>ğŸ™ <code>:pray:</code></td><td>ğŸ‘† <code>:point_up_2:</code></td></tr><tr><td>ğŸ‘ <code>:clap:</code></td><td>ğŸ’ª <code>:muscle:</code></td><td>ğŸ¤˜ <code>:metal:</code></td></tr><tr><td>ğŸ–• <code>:fu:</code></td><td>ğŸš¶ <code>:walking:</code></td><td>ğŸƒ <code>:runner:</code></td></tr><tr><td>ğŸƒ <code>:running:</code></td><td>ğŸ‘« <code>:couple:</code></td><td>ğŸ‘ª <code>:family:</code></td></tr><tr><td>ğŸ‘¬ <code>:two_men_holding_hands:</code></td><td>ğŸ‘­ <code>:two_women_holding_hands:</code></td><td>ğŸ’ƒ <code>:dancer:</code></td></tr><tr><td>ğŸ‘¯ <code>:dancers:</code></td><td>ğŸ™† <code>:ok_woman:</code></td><td>ğŸ™… <code>:no_good:</code></td></tr><tr><td>ğŸ’ <code>:information_desk_person:</code></td><td>ğŸ™‹ <code>:raising_hand:</code></td><td>ğŸ‘° <code>:bride_with_veil:</code></td></tr><tr><td>ğŸ™ <code>:person_with_pouting_face:</code></td><td>ğŸ™ <code>:person_frowning:</code></td><td>ğŸ™‡ <code>:bow:</code></td></tr><tr><td>:couplekiss: <code>:couplekiss:</code></td><td>ğŸ’‘ <code>:couple_with_heart:</code></td><td>ğŸ’† <code>:massage:</code></td></tr><tr><td>ğŸ’‡ <code>:haircut:</code></td><td>ğŸ’… <code>:nail_care:</code></td><td>ğŸ‘¦ <code>:boy:</code></td></tr><tr><td>ğŸ‘§ <code>:girl:</code></td><td>ğŸ‘© <code>:woman:</code></td><td>ğŸ‘¨ <code>:man:</code></td></tr><tr><td>ğŸ‘¶ <code>:baby:</code></td><td>ğŸ‘µ <code>:older_woman:</code></td><td>ğŸ‘´ <code>:older_man:</code></td></tr><tr><td>ğŸ‘± <code>:person_with_blond_hair:</code></td><td>ğŸ‘² <code>:man_with_gua_pi_mao:</code></td><td>ğŸ‘³ <code>:man_with_turban:</code></td></tr><tr><td>ğŸ‘· <code>:construction_worker:</code></td><td>ğŸ‘® <code>:cop:</code></td><td>ğŸ‘¼ <code>:angel:</code></td></tr><tr><td>ğŸ‘¸ <code>:princess:</code></td><td>ğŸ˜º <code>:smiley_cat:</code></td><td>ğŸ˜¸ <code>:smile_cat:</code></td></tr><tr><td>ğŸ˜» <code>:heart_eyes_cat:</code></td><td>ğŸ˜½ <code>:kissing_cat:</code></td><td>ğŸ˜¼ <code>:smirk_cat:</code></td></tr><tr><td>ğŸ™€ <code>:scream_cat:</code></td><td>ğŸ˜¿ <code>:crying_cat_face:</code></td><td>ğŸ˜¹ <code>:joy_cat:</code></td></tr><tr><td>ğŸ˜¾ <code>:pouting_cat:</code></td><td>ğŸ‘¹ <code>:japanese_ogre:</code></td><td>ğŸ‘º <code>:japanese_goblin:</code></td></tr><tr><td>ğŸ™ˆ <code>:see_no_evil:</code></td><td>ğŸ™‰ <code>:hear_no_evil:</code></td><td>ğŸ™Š <code>:speak_no_evil:</code></td></tr><tr><td>ğŸ’‚ <code>:guardsman:</code></td><td>ğŸ’€ <code>:skull:</code></td><td>ğŸ¾ <code>:feet:</code></td></tr><tr><td>ğŸ‘„ <code>:lips:</code></td><td>ğŸ’‹ <code>:kiss:</code></td><td>ğŸ’§ <code>:droplet:</code></td></tr><tr><td>ğŸ‘‚ <code>:ear:</code></td><td>ğŸ‘€ <code>:eyes:</code></td><td>ğŸ‘ƒ <code>:nose:</code></td></tr><tr><td>ğŸ‘… <code>:tongue:</code></td><td>ğŸ’Œ <code>:love_letter:</code></td><td>ğŸ‘¤ <code>:bust_in_silhouette:</code></td></tr><tr><td>ğŸ‘¥ <code>:busts_in_silhouette:</code></td><td>ğŸ’¬ <code>:speech_balloon:</code></td><td>ğŸ’­ <code>:thought_balloon:</code></td></tr></tbody></table><p>Nature</p><table><thead><tr><th>â˜€ï¸ <code>:sunny:</code></th><th>â˜”ï¸ <code>:umbrella:</code></th><th>â˜ï¸ <code>:cloud:</code></th></tr></thead><tbody><tr><td>â„ï¸ <code>:snowflake:</code></td><td>â›„ï¸ <code>:snowman:</code></td><td>âš¡ï¸ <code>:zap:</code></td></tr><tr><td>ğŸŒ€ <code>:cyclone:</code></td><td>ğŸŒ <code>:foggy:</code></td><td>ğŸŒŠ <code>:ocean:</code></td></tr><tr><td>ğŸ± <code>:cat:</code></td><td>ğŸ¶ <code>:dog:</code></td><td>ğŸ­ <code>:mouse:</code></td></tr><tr><td>ğŸ¹ <code>:hamster:</code></td><td>ğŸ° <code>:rabbit:</code></td><td>ğŸº <code>:wolf:</code></td></tr><tr><td>ğŸ¸ <code>:frog:</code></td><td>ğŸ¯ <code>:tiger:</code></td><td>ğŸ¨ <code>:koala:</code></td></tr><tr><td>ğŸ» <code>:bear:</code></td><td>ğŸ· <code>:pig:</code></td><td>ğŸ½ <code>:pig_nose:</code></td></tr><tr><td>ğŸ® <code>:cow:</code></td><td>ğŸ— <code>:boar:</code></td><td>ğŸµ <code>:monkey_face:</code></td></tr><tr><td>ğŸ’ <code>:monkey:</code></td><td>ğŸ´ <code>:horse:</code></td><td>ğŸ <code>:racehorse:</code></td></tr><tr><td>ğŸ« <code>:camel:</code></td><td>ğŸ‘ <code>:sheep:</code></td><td>ğŸ˜ <code>:elephant:</code></td></tr><tr><td>ğŸ¼ <code>:panda_face:</code></td><td>ğŸ <code>:snake:</code></td><td>ğŸ¦ <code>:bird:</code></td></tr><tr><td>ğŸ¤ <code>:baby_chick:</code></td><td>ğŸ¥ <code>:hatched_chick:</code></td><td>ğŸ£ <code>:hatching_chick:</code></td></tr><tr><td>ğŸ” <code>:chicken:</code></td><td>ğŸ§ <code>:penguin:</code></td><td>ğŸ¢ <code>:turtle:</code></td></tr><tr><td>ğŸ› <code>:bug:</code></td><td>ğŸ <code>:honeybee:</code></td><td>ğŸœ <code>:ant:</code></td></tr><tr><td>ğŸ <code>:beetle:</code></td><td>ğŸŒ <code>:snail:</code></td><td>ğŸ™ <code>:octopus:</code></td></tr><tr><td>ğŸ  <code>:tropical_fish:</code></td><td>ğŸŸ <code>:fish:</code></td><td>ğŸ³ <code>:whale:</code></td></tr><tr><td>ğŸ‹ <code>:whale2:</code></td><td>ğŸ¬ <code>:dolphin:</code></td><td>ğŸ„ <code>:cow2:</code></td></tr><tr><td>ğŸ <code>:ram:</code></td><td>ğŸ€ <code>:rat:</code></td><td>ğŸƒ <code>:water_buffalo:</code></td></tr><tr><td>ğŸ… <code>:tiger2:</code></td><td>ğŸ‡ <code>:rabbit2:</code></td><td>ğŸ‰ <code>:dragon:</code></td></tr><tr><td>ğŸ <code>:goat:</code></td><td>ğŸ“ <code>:rooster:</code></td><td>ğŸ• <code>:dog2:</code></td></tr><tr><td>ğŸ– <code>:pig2:</code></td><td>ğŸ <code>:mouse2:</code></td><td>ğŸ‚ <code>:ox:</code></td></tr><tr><td>ğŸ² <code>:dragon_face:</code></td><td>ğŸ¡ <code>:blowfish:</code></td><td>ğŸŠ <code>:crocodile:</code></td></tr><tr><td>ğŸª <code>:dromedary_camel:</code></td><td>ğŸ† <code>:leopard:</code></td><td>ğŸˆ <code>:cat2:</code></td></tr><tr><td>ğŸ© <code>:poodle:</code></td><td>ğŸ¾ <code>:paw_prints:</code></td><td>ğŸ’ <code>:bouquet:</code></td></tr><tr><td>ğŸŒ¸ <code>:cherry_blossom:</code></td><td>ğŸŒ· <code>:tulip:</code></td><td>ğŸ€ <code>:four_leaf_clover:</code></td></tr><tr><td>ğŸŒ¹ <code>:rose:</code></td><td>ğŸŒ» <code>:sunflower:</code></td><td>ğŸŒº <code>:hibiscus:</code></td></tr><tr><td>ğŸ <code>:maple_leaf:</code></td><td>ğŸƒ <code>:leaves:</code></td><td>ğŸ‚ <code>:fallen_leaf:</code></td></tr><tr><td>ğŸŒ¿ <code>:herb:</code></td><td>ğŸ„ <code>:mushroom:</code></td><td>ğŸŒµ <code>:cactus:</code></td></tr><tr><td>ğŸŒ´ <code>:palm_tree:</code></td><td>ğŸŒ² <code>:evergreen_tree:</code></td><td>ğŸŒ³ <code>:deciduous_tree:</code></td></tr><tr><td>ğŸŒ° <code>:chestnut:</code></td><td>ğŸŒ± <code>:seedling:</code></td><td>ğŸŒ¼ <code>:blossom:</code></td></tr><tr><td>ğŸŒ¾ <code>:ear_of_rice:</code></td><td>ğŸš <code>:shell:</code></td><td>ğŸŒ <code>:globe_with_meridians:</code></td></tr><tr><td>ğŸŒ <code>:sun_with_face:</code></td><td>ğŸŒ <code>:full_moon_with_face:</code></td><td>ğŸŒš <code>:new_moon_with_face:</code></td></tr><tr><td>ğŸŒ‘ <code>:new_moon:</code></td><td>ğŸŒ’ <code>:waxing_crescent_moon:</code></td><td>ğŸŒ“ <code>:first_quarter_moon:</code></td></tr><tr><td>ğŸŒ” <code>:waxing_gibbous_moon:</code></td><td>ğŸŒ• <code>:full_moon:</code></td><td>ğŸŒ– <code>:waning_gibbous_moon:</code></td></tr><tr><td>ğŸŒ— <code>:last_quarter_moon:</code></td><td>ğŸŒ˜ <code>:waning_crescent_moon:</code></td><td>ğŸŒœ <code>:last_quarter_moon_with_face:</code></td></tr><tr><td>ğŸŒ› <code>:first_quarter_moon_with_face:</code></td><td>ğŸŒ” <code>:moon:</code></td><td>ğŸŒ <code>:earth_africa:</code></td></tr><tr><td>ğŸŒ <code>:earth_americas:</code></td><td>ğŸŒ <code>:earth_asia:</code></td><td>ğŸŒ‹ <code>:volcano:</code></td></tr><tr><td>ğŸŒŒ <code>:milky_way:</code></td><td>â›…ï¸ <code>:partly_sunny:</code></td><td></td></tr></tbody></table><p>Objects</p><table><thead><tr><th>ğŸ <code>:bamboo:</code></th><th>ğŸ’ <code>:gift_heart:</code></th><th>ğŸ <code>:dolls:</code></th></tr></thead><tbody><tr><td>ğŸ’ <code>:school_satchel:</code></td><td>ğŸ“ <code>:mortar_board:</code></td><td>ğŸ <code>:flags:</code></td></tr><tr><td>ğŸ† <code>:fireworks:</code></td><td>ğŸ‡ <code>:sparkler:</code></td><td>ğŸ <code>:wind_chime:</code></td></tr><tr><td>ğŸ‘ <code>:rice_scene:</code></td><td>ğŸƒ <code>:jack_o_lantern:</code></td><td>ğŸ‘» <code>:ghost:</code></td></tr><tr><td>ğŸ… <code>:santa:</code></td><td>ğŸ„ <code>:christmas_tree:</code></td><td>ğŸ <code>:gift:</code></td></tr><tr><td>ğŸ”” <code>:bell:</code></td><td>ğŸ”• <code>:no_bell:</code></td><td>ğŸ‹ <code>:tanabata_tree:</code></td></tr><tr><td>ğŸ‰ <code>:tada:</code></td><td>ğŸŠ <code>:confetti_ball:</code></td><td>ğŸˆ <code>:balloon:</code></td></tr><tr><td>ğŸ”® <code>:crystal_ball:</code></td><td>ğŸ’¿ <code>:cd:</code></td><td>ğŸ“€ <code>:dvd:</code></td></tr><tr><td>ğŸ’¾ <code>:floppy_disk:</code></td><td>ğŸ“· <code>:camera:</code></td><td>ğŸ“¹ <code>:video_camera:</code></td></tr><tr><td>ğŸ¥ <code>:movie_camera:</code></td><td>ğŸ’» <code>:computer:</code></td><td>ğŸ“º <code>:tv:</code></td></tr><tr><td>ğŸ“± <code>:iphone:</code></td><td>â˜ï¸ <code>:phone:</code></td><td>â˜ï¸ <code>:telephone:</code></td></tr><tr><td>ğŸ“ <code>:telephone_receiver:</code></td><td>ğŸ“Ÿ <code>:pager:</code></td><td>ğŸ“  <code>:fax:</code></td></tr><tr><td>ğŸ’½ <code>:minidisc:</code></td><td>ğŸ“¼ <code>:vhs:</code></td><td>ğŸ”‰ <code>:sound:</code></td></tr><tr><td>ğŸ”ˆ <code>:speaker:</code></td><td>ğŸ”‡ <code>:mute:</code></td><td>ğŸ“¢ <code>:loudspeaker:</code></td></tr><tr><td>ğŸ“£ <code>:mega:</code></td><td>âŒ›ï¸ <code>:hourglass:</code></td><td>â³ <code>:hourglass_flowing_sand:</code></td></tr><tr><td>â° <code>:alarm_clock:</code></td><td>âŒšï¸ <code>:watch:</code></td><td>ğŸ“» <code>:radio:</code></td></tr><tr><td>ğŸ“¡ <code>:satellite:</code></td><td>â¿ <code>:loop:</code></td><td>ğŸ” <code>:mag:</code></td></tr><tr><td>ğŸ” <code>:mag_right:</code></td><td>ğŸ”“ <code>:unlock:</code></td><td>ğŸ”’ <code>:lock:</code></td></tr><tr><td>ğŸ” <code>:lock_with_ink_pen:</code></td><td>ğŸ” <code>:closed_lock_with_key:</code></td><td>ğŸ”‘ <code>:key:</code></td></tr><tr><td>ğŸ’¡ <code>:bulb:</code></td><td>ğŸ”¦ <code>:flashlight:</code></td><td>ğŸ”† <code>:high_brightness:</code></td></tr><tr><td>ğŸ”… <code>:low_brightness:</code></td><td>ğŸ”Œ <code>:electric_plug:</code></td><td>ğŸ”‹ <code>:battery:</code></td></tr><tr><td>ğŸ“² <code>:calling:</code></td><td>âœ‰ï¸ <code>:email:</code></td><td>ğŸ“« <code>:mailbox:</code></td></tr><tr><td>ğŸ“® <code>:postbox:</code></td><td>ğŸ›€ <code>:bath:</code></td><td>ğŸ› <code>:bathtub:</code></td></tr><tr><td>ğŸš¿ <code>:shower:</code></td><td>ğŸš½ <code>:toilet:</code></td><td>ğŸ”§ <code>:wrench:</code></td></tr><tr><td>ğŸ”© <code>:nut_and_bolt:</code></td><td>ğŸ”¨ <code>:hammer:</code></td><td>ğŸ’º <code>:seat:</code></td></tr><tr><td>ğŸ’° <code>:moneybag:</code></td><td>ğŸ’´ <code>:yen:</code></td><td>ğŸ’µ <code>:dollar:</code></td></tr><tr><td>ğŸ’· <code>:pound:</code></td><td>ğŸ’¶ <code>:euro:</code></td><td>ğŸ’³ <code>:credit_card:</code></td></tr><tr><td>ğŸ’¸ <code>:money_with_wings:</code></td><td>ğŸ“§ <code>:e-mail:</code></td><td>ğŸ“¥ <code>:inbox_tray:</code></td></tr><tr><td>ğŸ“¤ <code>:outbox_tray:</code></td><td>âœ‰ï¸ <code>:envelope:</code></td><td>ğŸ“¨ <code>:incoming_envelope:</code></td></tr><tr><td>ğŸ“¯ <code>:postal_horn:</code></td><td>ğŸ“ª <code>:mailbox_closed:</code></td><td>ğŸ“¬ <code>:mailbox_with_mail:</code></td></tr><tr><td>ğŸ“­ <code>:mailbox_with_no_mail:</code></td><td>ğŸšª <code>:door:</code></td><td>ğŸš¬ <code>:smoking:</code></td></tr><tr><td>ğŸ’£ <code>:bomb:</code></td><td>ğŸ”« <code>:gun:</code></td><td>ğŸ”ª <code>:hocho:</code></td></tr><tr><td>ğŸ’Š <code>:pill:</code></td><td>ğŸ’‰ <code>:syringe:</code></td><td>ğŸ“„ <code>:page_facing_up:</code></td></tr><tr><td>ğŸ“ƒ <code>:page_with_curl:</code></td><td>ğŸ“‘ <code>:bookmark_tabs:</code></td><td>ğŸ“Š <code>:bar_chart:</code></td></tr><tr><td>ğŸ“ˆ <code>:chart_with_upwards_trend:</code></td><td>ğŸ“‰ <code>:chart_with_downwards_trend:</code></td><td>ğŸ“œ <code>:scroll:</code></td></tr><tr><td>ğŸ“‹ <code>:clipboard:</code></td><td>ğŸ“† <code>:calendar:</code></td><td>ğŸ“… <code>:date:</code></td></tr><tr><td>ğŸ“‡ <code>:card_index:</code></td><td>ğŸ“ <code>:file_folder:</code></td><td>ğŸ“‚ <code>:open_file_folder:</code></td></tr><tr><td>âœ‚ï¸ <code>:scissors:</code></td><td>ğŸ“Œ <code>:pushpin:</code></td><td>ğŸ“ <code>:paperclip:</code></td></tr><tr><td>âœ’ï¸ <code>:black_nib:</code></td><td>âœï¸ <code>:pencil2:</code></td><td>ğŸ“ <code>:straight_ruler:</code></td></tr><tr><td>ğŸ“ <code>:triangular_ruler:</code></td><td>ğŸ“• <code>:closed_book:</code></td><td>ğŸ“— <code>:green_book:</code></td></tr><tr><td>ğŸ“˜ <code>:blue_book:</code></td><td>ğŸ“™ <code>:orange_book:</code></td><td>ğŸ““ <code>:notebook:</code></td></tr><tr><td>ğŸ“” <code>:notebook_with_decorative_cover:</code></td><td>ğŸ“’ <code>:ledger:</code></td><td>ğŸ“š <code>:books:</code></td></tr><tr><td>ğŸ”– <code>:bookmark:</code></td><td>ğŸ“› <code>:name_badge:</code></td><td>ğŸ”¬ <code>:microscope:</code></td></tr><tr><td>ğŸ”­ <code>:telescope:</code></td><td>ğŸ“° <code>:newspaper:</code></td><td>ğŸˆ <code>:football:</code></td></tr><tr><td>ğŸ€ <code>:basketball:</code></td><td>âš½ï¸ <code>:soccer:</code></td><td>âš¾ï¸ <code>:baseball:</code></td></tr><tr><td>ğŸ¾ <code>:tennis:</code></td><td>ğŸ± <code>:8ball:</code></td><td>ğŸ‰ <code>:rugby_football:</code></td></tr><tr><td>ğŸ³ <code>:bowling:</code></td><td>â›³ï¸ <code>:golf:</code></td><td>ğŸšµ <code>:mountain_bicyclist:</code></td></tr><tr><td>ğŸš´ <code>:bicyclist:</code></td><td>ğŸ‡ <code>:horse_racing:</code></td><td>ğŸ‚ <code>:snowboarder:</code></td></tr><tr><td>ğŸŠ <code>:swimmer:</code></td><td>ğŸ„ <code>:surfer:</code></td><td>ğŸ¿ <code>:ski:</code></td></tr><tr><td>â™ ï¸ <code>:spades:</code></td><td>â™¥ï¸ <code>:hearts:</code></td><td>â™£ï¸ <code>:clubs:</code></td></tr><tr><td>â™¦ï¸ <code>:diamonds:</code></td><td>ğŸ’ <code>:gem:</code></td><td>ğŸ’ <code>:ring:</code></td></tr><tr><td>ğŸ† <code>:trophy:</code></td><td>ğŸ¼ <code>:musical_score:</code></td><td>ğŸ¹ <code>:musical_keyboard:</code></td></tr><tr><td>ğŸ» <code>:violin:</code></td><td>ğŸ‘¾ <code>:space_invader:</code></td><td>ğŸ® <code>:video_game:</code></td></tr><tr><td>ğŸƒ <code>:black_joker:</code></td><td>ğŸ´ <code>:flower_playing_cards:</code></td><td>ğŸ² <code>:game_die:</code></td></tr><tr><td>ğŸ¯ <code>:dart:</code></td><td>ğŸ€„ï¸ <code>:mahjong:</code></td><td>ğŸ¬ <code>:clapper:</code></td></tr><tr><td>ğŸ“ <code>:memo:</code></td><td>ğŸ“ <code>:pencil:</code></td><td>ğŸ“– <code>:book:</code></td></tr><tr><td>ğŸ¨ <code>:art:</code></td><td>ğŸ¤ <code>:microphone:</code></td><td>ğŸ§ <code>:headphones:</code></td></tr><tr><td>ğŸº <code>:trumpet:</code></td><td>ğŸ· <code>:saxophone:</code></td><td>ğŸ¸ <code>:guitar:</code></td></tr><tr><td>ğŸ‘ <code>:shoe:</code></td><td>ğŸ‘¡ <code>:sandal:</code></td><td>ğŸ‘  <code>:high_heel:</code></td></tr><tr><td>ğŸ’„ <code>:lipstick:</code></td><td>ğŸ‘¢ <code>:boot:</code></td><td>ğŸ‘• <code>:shirt:</code></td></tr><tr><td>ğŸ‘• <code>:tshirt:</code></td><td>ğŸ‘” <code>:necktie:</code></td><td>ğŸ‘š <code>:womans_clothes:</code></td></tr><tr><td>ğŸ‘— <code>:dress:</code></td><td>ğŸ½ <code>:running_shirt_with_sash:</code></td><td>ğŸ‘– <code>:jeans:</code></td></tr><tr><td>ğŸ‘˜ <code>:kimono:</code></td><td>ğŸ‘™ <code>:bikini:</code></td><td>ğŸ€ <code>:ribbon:</code></td></tr><tr><td>ğŸ© <code>:tophat:</code></td><td>ğŸ‘‘ <code>:crown:</code></td><td>ğŸ‘’ <code>:womans_hat:</code></td></tr><tr><td>ğŸ‘ <code>:mans_shoe:</code></td><td>ğŸŒ‚ <code>:closed_umbrella:</code></td><td>ğŸ’¼ <code>:briefcase:</code></td></tr><tr><td>ğŸ‘œ <code>:handbag:</code></td><td>ğŸ‘ <code>:pouch:</code></td><td>ğŸ‘› <code>:purse:</code></td></tr><tr><td>ğŸ‘“ <code>:eyeglasses:</code></td><td>ğŸ£ <code>:fishing_pole_and_fish:</code></td><td>â˜•ï¸ <code>:coffee:</code></td></tr><tr><td>ğŸµ <code>:tea:</code></td><td>ğŸ¶ <code>:sake:</code></td><td>ğŸ¼ <code>:baby_bottle:</code></td></tr><tr><td>ğŸº <code>:beer:</code></td><td>ğŸ» <code>:beers:</code></td><td>ğŸ¸ <code>:cocktail:</code></td></tr><tr><td>ğŸ¹ <code>:tropical_drink:</code></td><td>ğŸ· <code>:wine_glass:</code></td><td>ğŸ´ <code>:fork_and_knife:</code></td></tr><tr><td>ğŸ• <code>:pizza:</code></td><td>ğŸ” <code>:hamburger:</code></td><td>ğŸŸ <code>:fries:</code></td></tr><tr><td>ğŸ— <code>:poultry_leg:</code></td><td>ğŸ– <code>:meat_on_bone:</code></td><td>ğŸ <code>:spaghetti:</code></td></tr><tr><td>ğŸ› <code>:curry:</code></td><td>ğŸ¤ <code>:fried_shrimp:</code></td><td>ğŸ± <code>:bento:</code></td></tr><tr><td>ğŸ£ <code>:sushi:</code></td><td>ğŸ¥ <code>:fish_cake:</code></td><td>ğŸ™ <code>:rice_ball:</code></td></tr><tr><td>ğŸ˜ <code>:rice_cracker:</code></td><td>ğŸš <code>:rice:</code></td><td>ğŸœ <code>:ramen:</code></td></tr><tr><td>ğŸ² <code>:stew:</code></td><td>ğŸ¢ <code>:oden:</code></td><td>ğŸ¡ <code>:dango:</code></td></tr><tr><td>ğŸ¥š <code>:egg:</code></td><td>ğŸ <code>:bread:</code></td><td>ğŸ© <code>:doughnut:</code></td></tr><tr><td>ğŸ® <code>:custard:</code></td><td>ğŸ¦ <code>:icecream:</code></td><td>ğŸ¨ <code>:ice_cream:</code></td></tr><tr><td>ğŸ§ <code>:shaved_ice:</code></td><td>ğŸ‚ <code>:birthday:</code></td><td>ğŸ° <code>:cake:</code></td></tr><tr><td>ğŸª <code>:cookie:</code></td><td>ğŸ« <code>:chocolate_bar:</code></td><td>ğŸ¬ <code>:candy:</code></td></tr><tr><td>ğŸ­ <code>:lollipop:</code></td><td>ğŸ¯ <code>:honey_pot:</code></td><td>ğŸ <code>:apple:</code></td></tr><tr><td>ğŸ <code>:green_apple:</code></td><td>ğŸŠ <code>:tangerine:</code></td><td>ğŸ‹ <code>:lemon:</code></td></tr><tr><td>ğŸ’ <code>:cherries:</code></td><td>ğŸ‡ <code>:grapes:</code></td><td>ğŸ‰ <code>:watermelon:</code></td></tr><tr><td>ğŸ“ <code>:strawberry:</code></td><td>ğŸ‘ <code>:peach:</code></td><td>ğŸˆ <code>:melon:</code></td></tr><tr><td>ğŸŒ <code>:banana:</code></td><td>ğŸ <code>:pear:</code></td><td>ğŸ <code>:pineapple:</code></td></tr><tr><td>ğŸ  <code>:sweet_potato:</code></td><td>ğŸ† <code>:eggplant:</code></td><td>ğŸ… <code>:tomato:</code></td></tr><tr><td>ğŸŒ½ <code>:corn:</code></td><td></td><td></td></tr></tbody></table><p>Places</p><table><thead><tr><th>ğŸ  <code>:house:</code></th><th>ğŸ¡ <code>:house_with_garden:</code></th><th>ğŸ« <code>:school:</code></th></tr></thead><tbody><tr><td>ğŸ¢ <code>:office:</code></td><td>ğŸ£ <code>:post_office:</code></td><td>ğŸ¥ <code>:hospital:</code></td></tr><tr><td>ğŸ¦ <code>:bank:</code></td><td>ğŸª <code>:convenience_store:</code></td><td>ğŸ© <code>:love_hotel:</code></td></tr><tr><td>ğŸ¨ <code>:hotel:</code></td><td>ğŸ’’ <code>:wedding:</code></td><td>â›ªï¸ <code>:church:</code></td></tr><tr><td>ğŸ¬ <code>:department_store:</code></td><td>ğŸ¤ <code>:european_post_office:</code></td><td>ğŸŒ‡ <code>:city_sunrise:</code></td></tr><tr><td>ğŸŒ† <code>:city_sunset:</code></td><td>ğŸ¯ <code>:japanese_castle:</code></td><td>ğŸ° <code>:european_castle:</code></td></tr><tr><td>â›ºï¸ <code>:tent:</code></td><td>ğŸ­ <code>:factory:</code></td><td>ğŸ—¼ <code>:tokyo_tower:</code></td></tr><tr><td>ğŸ—¾ <code>:japan:</code></td><td>ğŸ—» <code>:mount_fuji:</code></td><td>ğŸŒ„ <code>:sunrise_over_mountains:</code></td></tr><tr><td>ğŸŒ… <code>:sunrise:</code></td><td>ğŸŒ  <code>:stars:</code></td><td>ğŸ—½ <code>:statue_of_liberty:</code></td></tr><tr><td>ğŸŒ‰ <code>:bridge_at_night:</code></td><td>ğŸ  <code>:carousel_horse:</code></td><td>ğŸŒˆ <code>:rainbow:</code></td></tr><tr><td>ğŸ¡ <code>:ferris_wheel:</code></td><td>â›²ï¸ <code>:fountain:</code></td><td>ğŸ¢ <code>:roller_coaster:</code></td></tr><tr><td>ğŸš¢ <code>:ship:</code></td><td>ğŸš¤ <code>:speedboat:</code></td><td>â›µï¸ <code>:boat:</code></td></tr><tr><td>â›µï¸ <code>:sailboat:</code></td><td>ğŸš£ <code>:rowboat:</code></td><td>âš“ï¸ <code>:anchor:</code></td></tr><tr><td>ğŸš€ <code>:rocket:</code></td><td>âœˆï¸ <code>:airplane:</code></td><td>ğŸš <code>:helicopter:</code></td></tr><tr><td>ğŸš‚ <code>:steam_locomotive:</code></td><td>ğŸšŠ <code>:tram:</code></td><td>ğŸš <code>:mountain_railway:</code></td></tr><tr><td>ğŸš² <code>:bike:</code></td><td>ğŸš¡ <code>:aerial_tramway:</code></td><td>ğŸšŸ <code>:suspension_railway:</code></td></tr><tr><td>ğŸš  <code>:mountain_cableway:</code></td><td>ğŸšœ <code>:tractor:</code></td><td>ğŸš™ <code>:blue_car:</code></td></tr><tr><td>ğŸš˜ <code>:oncoming_automobile:</code></td><td>ğŸš— <code>:car:</code></td><td>ğŸš— <code>:red_car:</code></td></tr><tr><td>ğŸš• <code>:taxi:</code></td><td>ğŸš– <code>:oncoming_taxi:</code></td><td>ğŸš› <code>:articulated_lorry:</code></td></tr><tr><td>ğŸšŒ <code>:bus:</code></td><td>ğŸš <code>:oncoming_bus:</code></td><td>ğŸš¨ <code>:rotating_light:</code></td></tr><tr><td>ğŸš“ <code>:police_car:</code></td><td>ğŸš” <code>:oncoming_police_car:</code></td><td>ğŸš’ <code>:fire_engine:</code></td></tr><tr><td>ğŸš‘ <code>:ambulance:</code></td><td>ğŸš <code>:minibus:</code></td><td>ğŸšš <code>:truck:</code></td></tr><tr><td>ğŸš‹ <code>:train:</code></td><td>ğŸš‰ <code>:station:</code></td><td>ğŸš† <code>:train2:</code></td></tr><tr><td>ğŸš… <code>:bullettrain_front:</code></td><td>ğŸš„ <code>:bullettrain_side:</code></td><td>ğŸšˆ <code>:light_rail:</code></td></tr><tr><td>ğŸš <code>:monorail:</code></td><td>ğŸšƒ <code>:railway_car:</code></td><td>ğŸš <code>:trolleybus:</code></td></tr><tr><td>ğŸ« <code>:ticket:</code></td><td>â›½ï¸ <code>:fuelpump:</code></td><td>ğŸš¦ <code>:vertical_traffic_light:</code></td></tr><tr><td>ğŸš¥ <code>:traffic_light:</code></td><td>âš ï¸ <code>:warning:</code></td><td>ğŸš§ <code>:construction:</code></td></tr><tr><td>ğŸ”° <code>:beginner:</code></td><td>ğŸ§ <code>:atm:</code></td><td>ğŸ° <code>:slot_machine:</code></td></tr><tr><td>ğŸš <code>:busstop:</code></td><td>ğŸ’ˆ <code>:barber:</code></td><td>â™¨ï¸ <code>:hotsprings:</code></td></tr><tr><td>ğŸ <code>:checkered_flag:</code></td><td>ğŸŒ <code>:crossed_flags:</code></td><td>ğŸ® <code>:izakaya_lantern:</code></td></tr><tr><td>ğŸ—¿ <code>:moyai:</code></td><td>ğŸª <code>:circus_tent:</code></td><td>ğŸ­ <code>:performing_arts:</code></td></tr><tr><td>ğŸ“ <code>:round_pushpin:</code></td><td>ğŸš© <code>:triangular_flag_on_post:</code></td><td>ğŸ‡¯ğŸ‡µ <code>:jp:</code></td></tr><tr><td>ğŸ‡°ğŸ‡· <code>:kr:</code></td><td>ğŸ‡¨ğŸ‡³ <code>:cn:</code></td><td>ğŸ‡ºğŸ‡¸ <code>:us:</code></td></tr><tr><td>ğŸ‡«ğŸ‡· <code>:fr:</code></td><td>ğŸ‡ªğŸ‡¸ <code>:es:</code></td><td>ğŸ‡®ğŸ‡¹ <code>:it:</code></td></tr><tr><td>ğŸ‡·ğŸ‡º <code>:ru:</code></td><td>ğŸ‡¬ğŸ‡§ <code>:gb:</code></td><td>ğŸ‡¬ğŸ‡§ <code>:uk:</code></td></tr><tr><td>ğŸ‡©ğŸ‡ª <code>:de:</code></td><td></td><td></td></tr></tbody></table><p>Symbols</p><table><thead><tr><th>1ï¸âƒ£ <code>:one:</code></th><th>2ï¸âƒ£ <code>:two:</code></th><th>3ï¸âƒ£ <code>:three:</code></th></tr></thead><tbody><tr><td>4ï¸âƒ£ <code>:four:</code></td><td>5ï¸âƒ£ <code>:five:</code></td><td>6ï¸âƒ£ <code>:six:</code></td></tr><tr><td>7ï¸âƒ£ <code>:seven:</code></td><td>8ï¸âƒ£ <code>:eight:</code></td><td>9ï¸âƒ£ <code>:nine:</code></td></tr><tr><td>ğŸ”Ÿ <code>:keycap_ten:</code></td><td>ğŸ”¢ <code>:1234:</code></td><td>0ï¸âƒ£ <code>:zero:</code></td></tr><tr><td>#ï¸âƒ£ <code>:hash:</code></td><td>ğŸ”£ <code>:symbols:</code></td><td>â—€ï¸ <code>:arrow_backward:</code></td></tr><tr><td>â¬‡ï¸ <code>:arrow_down:</code></td><td>â–¶ï¸ <code>:arrow_forward:</code></td><td>â¬…ï¸ <code>:arrow_left:</code></td></tr><tr><td>ğŸ”  <code>:capital_abcd:</code></td><td>ğŸ”¡ <code>:abcd:</code></td><td>ğŸ”¤ <code>:abc:</code></td></tr><tr><td>â†™ï¸ <code>:arrow_lower_left:</code></td><td>â†˜ï¸ <code>:arrow_lower_right:</code></td><td>â¡ï¸ <code>:arrow_right:</code></td></tr><tr><td>â¬†ï¸ <code>:arrow_up:</code></td><td>â†–ï¸ <code>:arrow_upper_left:</code></td><td>â†—ï¸ <code>:arrow_upper_right:</code></td></tr><tr><td>â¬ <code>:arrow_double_down:</code></td><td>â« <code>:arrow_double_up:</code></td><td>ğŸ”½ <code>:arrow_down_small:</code></td></tr><tr><td>â¤µï¸ <code>:arrow_heading_down:</code></td><td>â¤´ï¸ <code>:arrow_heading_up:</code></td><td>â†©ï¸<code>:leftwards_arrow_with_hook:</code></td></tr><tr><td>â†ªï¸ <code>:arrow_right_hook:</code></td><td>â†”ï¸ <code>:left_right_arrow:</code></td><td>â†•ï¸ <code>:arrow_up_down:</code></td></tr><tr><td>ğŸ”¼ <code>:arrow_up_small:</code></td><td>ğŸ”ƒ <code>:arrows_clockwise:</code></td><td>ğŸ”„ <code>:arrows_counterclockwise:</code></td></tr><tr><td>âª <code>:rewind:</code></td><td>â© <code>:fast_forward:</code></td><td>â„¹ï¸ <code>:information_source:</code></td></tr><tr><td>ğŸ†— <code>:ok:</code></td><td>ğŸ”€ <code>:twisted_rightwards_arrows:</code></td><td>ğŸ” <code>:repeat:</code></td></tr><tr><td>ğŸ”‚ <code>:repeat_one:</code></td><td>ğŸ†• <code>:new:</code></td><td>ğŸ” <code>:top:</code></td></tr><tr><td>ğŸ†™ <code>:up:</code></td><td>ğŸ†’ <code>:cool:</code></td><td>ğŸ†“ <code>:free:</code></td></tr><tr><td>ğŸ†– <code>:ng:</code></td><td>ğŸ¦ <code>:cinema:</code></td><td>ğŸˆ <code>:koko:</code></td></tr><tr><td>ğŸ“¶ <code>:signal_strength:</code></td><td>ğŸˆ¹ <code>:u5272:</code></td><td>ğŸˆ´ <code>:u5408:</code></td></tr><tr><td>ğŸˆº <code>:u55b6:</code></td><td>ğŸˆ¯ï¸ <code>:u6307:</code></td><td>ğŸˆ·ï¸ <code>:u6708:</code></td></tr><tr><td>ğŸˆ¶ <code>:u6709:</code></td><td>ğŸˆµ <code>:u6e80:</code></td><td>ğŸˆšï¸ <code>:u7121:</code></td></tr><tr><td>ğŸˆ¸ <code>:u7533:</code></td><td>ğŸˆ³ <code>:u7a7a:</code></td><td>ğŸˆ² <code>:u7981:</code></td></tr><tr><td>ğŸˆ‚ï¸ <code>:sa:</code></td><td>ğŸš» <code>:restroom:</code></td><td>ğŸš¹ <code>:mens:</code></td></tr><tr><td>ğŸšº <code>:womens:</code></td><td>ğŸš¼ <code>:baby_symbol:</code></td><td>ğŸš­ <code>:no_smoking:</code></td></tr><tr><td>ğŸ…¿ï¸ <code>:parking:</code></td><td>â™¿ï¸ <code>:wheelchair:</code></td><td>ğŸš‡ <code>:metro:</code></td></tr><tr><td>ğŸ›„ <code>:baggage_claim:</code></td><td>ğŸ‰‘ <code>:accept:</code></td><td>ğŸš¾ <code>:wc:</code></td></tr><tr><td>ğŸš° <code>:potable_water:</code></td><td>ğŸš® <code>:put_litter_in_its_place:</code></td><td>ãŠ™ï¸ <code>:secret:</code></td></tr><tr><td>ãŠ—ï¸ <code>:congratulations:</code></td><td>â“‚ï¸ <code>:m:</code></td><td>ğŸ›‚ <code>:passport_control:</code></td></tr><tr><td>ğŸ›… <code>:left_luggage:</code></td><td>ğŸ›ƒ <code>:customs:</code></td><td>ğŸ‰ <code>:ideograph_advantage:</code></td></tr><tr><td>ğŸ†‘ <code>:cl:</code></td><td>ğŸ†˜ <code>:sos:</code></td><td>ğŸ†” <code>:id:</code></td></tr><tr><td>ğŸš« <code>:no_entry_sign:</code></td><td>ğŸ” <code>:underage:</code></td><td>ğŸ“µ <code>:no_mobile_phones:</code></td></tr><tr><td>ğŸš¯ <code>:do_not_litter:</code></td><td>ğŸš± <code>:non-potable_water:</code></td><td>ğŸš³ <code>:no_bicycles:</code></td></tr><tr><td>ğŸš· <code>:no_pedestrians:</code></td><td>ğŸš¸ <code>:children_crossing:</code></td><td>â›”ï¸ <code>:no_entry:</code></td></tr><tr><td>âœ³ï¸ <code>:eight_spoked_asterisk:</code></td><td>âœ´ï¸ <code>:eight_pointed_black_star:</code></td><td>ğŸ’Ÿ <code>:heart_decoration:</code></td></tr><tr><td>ğŸ†š <code>:vs:</code></td><td>ğŸ“³ <code>:vibration_mode:</code></td><td>ğŸ“´ <code>:mobile_phone_off:</code></td></tr><tr><td>ğŸ’¹ <code>:chart:</code></td><td>ğŸ’± <code>:currency_exchange:</code></td><td>â™ˆï¸ <code>:aries:</code></td></tr><tr><td>â™‰ï¸ <code>:taurus:</code></td><td>â™Šï¸ <code>:gemini:</code></td><td>â™‹ï¸ <code>:cancer:</code></td></tr><tr><td>â™Œï¸ <code>:leo:</code></td><td>â™ï¸ <code>:virgo:</code></td><td>â™ï¸ <code>:libra:</code></td></tr><tr><td>â™ï¸ <code>:scorpius:</code></td><td>â™ï¸ <code>:sagittarius:</code></td><td>â™‘ï¸ <code>:capricorn:</code></td></tr><tr><td>â™’ï¸ <code>:aquarius:</code></td><td>â™“ï¸ <code>:pisces:</code></td><td>â› <code>:ophiuchus:</code></td></tr><tr><td>ğŸ”¯ <code>:six_pointed_star:</code></td><td>â<code>:negative_squared_cross_mark:</code></td><td>ğŸ…°ï¸ <code>:a:</code></td></tr><tr><td>ğŸ…±ï¸ <code>:b:</code></td><td>ğŸ† <code>:ab:</code></td><td>ğŸ…¾ï¸ <code>:o2:</code></td></tr><tr><td>ğŸ’ <code>:diamond_shape_with_a_dot_inside:</code></td><td>â™»ï¸ <code>:recycle:</code></td><td>ğŸ”š <code>:end:</code></td></tr><tr><td>ğŸ”› <code>:on:</code></td><td>ğŸ”œ <code>:soon:</code></td><td>ğŸ• <code>:clock1:</code></td></tr><tr><td>ğŸ•œ <code>:clock130:</code></td><td>ğŸ•™ <code>:clock10:</code></td><td>ğŸ•¥ <code>:clock1030:</code></td></tr><tr><td>ğŸ•š <code>:clock11:</code></td><td>ğŸ•¦ <code>:clock1130:</code></td><td>ğŸ•› <code>:clock12:</code></td></tr><tr><td>ğŸ•§ <code>:clock1230:</code></td><td>ğŸ•‘ <code>:clock2:</code></td><td>ğŸ• <code>:clock230:</code></td></tr><tr><td>ğŸ•’ <code>:clock3:</code></td><td>ğŸ• <code>:clock330:</code></td><td>ğŸ•“ <code>:clock4:</code></td></tr><tr><td>ğŸ•Ÿ <code>:clock430:</code></td><td>ğŸ•” <code>:clock5:</code></td><td>ğŸ•  <code>:clock530:</code></td></tr><tr><td>ğŸ•• <code>:clock6:</code></td><td>ğŸ•¡ <code>:clock630:</code></td><td>ğŸ•– <code>:clock7:</code></td></tr><tr><td>ğŸ•¢ <code>:clock730:</code></td><td>ğŸ•— <code>:clock8:</code></td><td>ğŸ•£ <code>:clock830:</code></td></tr><tr><td>ğŸ•˜ <code>:clock9:</code></td><td>ğŸ•¤ <code>:clock930:</code></td><td>ğŸ’² <code>:heavy_dollar_sign:</code></td></tr><tr><td>Â©ï¸ <code>:copyright:</code></td><td>Â®ï¸ <code>:registered:</code></td><td>â„¢ï¸ <code>:tm:</code></td></tr><tr><td>âŒ <code>:x:</code></td><td>â—ï¸ <code>:heavy_exclamation_mark:</code></td><td>â€¼ï¸ <code>:bangbang:</code></td></tr><tr><td>â‰ï¸ <code>:interrobang:</code></td><td>â­•ï¸ <code>:o:</code></td><td>âœ–ï¸ <code>:heavy_multiplication_x:</code></td></tr><tr><td>â• <code>:heavy_plus_sign:</code></td><td>â– <code>:heavy_minus_sign:</code></td><td>â— <code>:heavy_division_sign:</code></td></tr><tr><td>ğŸ’® <code>:white_flower:</code></td><td>ğŸ’¯ <code>:100:</code></td><td>âœ”ï¸ <code>:heavy_check_mark:</code></td></tr><tr><td>â˜‘ï¸ <code>:ballot_box_with_check:</code></td><td>ğŸ”˜ <code>:radio_button:</code></td><td>ğŸ”— <code>:link:</code></td></tr><tr><td>â° <code>:curly_loop:</code></td><td>ã€°ï¸ <code>:wavy_dash:</code></td><td>ã€½ï¸ <code>:part_alternation_mark:</code></td></tr><tr><td>ğŸ”± <code>:trident:</code></td><td>:black_square: <code>:black_square:</code></td><td>:white_square: <code>:white_square:</code></td></tr><tr><td>âœ… <code>:white_check_mark:</code></td><td>ğŸ”² <code>:black_square_button:</code></td><td>ğŸ”³ <code>:white_square_button:</code></td></tr><tr><td>âš«ï¸ <code>:black_circle:</code></td><td>âšªï¸ <code>:white_circle:</code></td><td>ğŸ”´ <code>:red_circle:</code></td></tr><tr><td>ğŸ”µ <code>:large_blue_circle:</code></td><td>ğŸ”· <code>:large_blue_diamond:</code></td><td>ğŸ”¶ <code>:large_orange_diamond:</code></td></tr><tr><td>ğŸ”¹ <code>:small_blue_diamond:</code></td><td>ğŸ”¸ <code>:small_orange_diamond:</code></td><td>ğŸ”º <code>:small_red_triangle:</code></td></tr><tr><td>ğŸ”» <code>:small_red_triangle_down:</code></td><td></td><td></td></tr></tbody></table><h1 id="span-list"><a href="#span-list" class="headerlink" title="span list"></a>span list</h1><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">1</span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;fas faa-ring animated-hover&quot;</span> <span class="attr">style</span>=<span class="string">&quot;border-bottom:3px solid green&quot;</span>&gt;</span>ã€ŠåŠå°æ—¶æ¼«ç”»ä¸­å›½å“²å­¦å²ã€‹<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">2</span><br><span class="line"><span class="tag">&lt;<span class="name">span</span>  <span class="attr">style</span>=<span class="string">&quot;text-align:center;font-size:20px;font:30px ä¹¦ä½“åŠå…°äº­ä½“;color:blueviolent;word-spacing:30px;&quot;</span>&gt;</span>â€œ æ—¢è®¸ä¸€äººä»¥åçˆ±ï¼Œæ„¿å°½ä½™ç”Ÿä¹‹æ…·æ…¨ â€<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">3</span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">style</span>=<span class="string">&quot;class: faa-bounce animated-hover;border-bottom: 5px solid #8F81EF;&quot;</span>&gt;</span>[data.jsonæ–‡ä»¶é“¾æ¥](https://pan.baidu.com/s/1omzU65YMpJr0jPPFItZ7SA )<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"> 4  </span><br><span class="line"><span class="tag">&lt;<span class="name">mark</span> <span class="attr">style</span>=<span class="string">&quot;background:royalBlue;border-bottom:lightblue 2px solid;color:white;font-family:consolas&quot;</span>&gt;</span>å½“ä½¿ç”¨é‡åšæ—¥å¿—æ–‡ä»¶æ¥è¿›è¡Œæ•°æ®åº“æ¢å¤æ—¶ï¼ŒORACLEå°†è¯»å–å…¶ä¸­çš„é‡åšè®°å½•(åŒ…æ‹¬å…¶ä¸­çš„ä¿®æ”¹å‘é‡)ï¼Œå¹¶ä¸”å°†è¿™äº›ä¿®æ”¹ç”¨äºç›¸å…³çš„å—ä¸­ã€‚<span class="tag">&lt;/<span class="name">mark</span>&gt;</span></span><br><span class="line">5</span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">style</span>=<span class="string">&quot;background: PaleVioletRed;border-radius:10px;padding:1px 5px;color:white;font-weight:900&quot;</span>&gt;</span>å­˜å‚¨ç»“æ„ç®¡ç†ä¸»è¦å°±æ˜¯é€šè¿‡å¯¹è¡¨ç©ºé—´çš„ç®¡ç†æ¥å®ç°çš„<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">6</span><br><span class="line"><span class="tag">&lt;<span class="name">mark</span> <span class="attr">style</span>=<span class="string">&quot;background:green;border-radius:10px;color:white&quot;</span>&gt;</span>æ•ˆæœå¦‚ä¸‹ï¼š<span class="tag">&lt;/<span class="name">mark</span>&gt;</span></span><br><span class="line">7</span><br><span class="line"><span class="tag">&lt;<span class="name">font</span> <span class="attr">size</span>=<span class="string">10px</span> <span class="attr">style</span>=<span class="string">&quot;font-weight:700;font-family:&#x27;åæ–‡å½©äº‘&#x27;;color:rgb(100,190,100)&quot;</span>&gt;</span>åŸºæœ¬è¯­è¨€(ä¸€)<span class="tag">&lt;/<span class="name">font</span>&gt;</span></span><br><span class="line">8</span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">style</span>=<span class="string">&quot;border-bottom: 2px dashed #000000&quot;</span>&gt;</span>ä»£ç æ®µã€æ•°æ®æ®µã€BSSæ®µã€å †åŒºã€æ–‡ä»¶æ˜ å°„åŒºä»¥åŠæ ˆåŒº<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">9</span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;background:black;font:conloas;color:white;&quot;</span>&gt;</span></span><br><span class="line"><span class="symbol">&amp;nbsp;</span>æ•°ç»„é•¿åº¦ä¸ºï¼š3<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"><span class="symbol">&amp;nbsp;</span>è¯·æŒ‰ä»»æ„é”®ç»§ç»­. . .</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">10</span><br><span class="line"><span class="tag">&lt;<span class="name">mark</span> <span class="attr">style</span>=<span class="string">&quot;color:white;background:red;font-weight:600;border_radius:100px&quot;</span>&gt;</span>ä½†æ•ˆç‡æ›´é«˜<span class="tag">&lt;/<span class="name">mark</span>&gt;</span></span><br></pre></td></tr></table></figure><hr><ol><li><span class="fas faa-ring animated-hover" style="border-bottom:3px solid green">ã€ŠåŠå°æ—¶æ¼«ç”»ä¸­å›½å“²å­¦å²ã€‹</span></li></ol><hr><ol start="2"><li><span  style="text-align:center;font-size:20px;font:30px ä¹¦ä½“åŠå…°äº­ä½“;color:blueviolent;word-spacing:30px;">â€œ æ—¢è®¸ä¸€äººä»¥åçˆ±ï¼Œæ„¿å°½ä½™ç”Ÿä¹‹æ…·æ…¨ â€</span></li></ol><hr><ol start="3"><li><span style="class: faa-bounce animated-hover;border-bottom: 5px solid #8F81EF;"><a href="https://pan.baidu.com/s/1omzU65YMpJr0jPPFItZ7SA">data.jsonæ–‡ä»¶é“¾æ¥</a></span></li></ol><hr><ol start="4"><li><mark style="background:royalBlue;border-bottom:lightblue 2px solid;color:white;font-family:consolas">å½“ä½¿ç”¨é‡åšæ—¥å¿—æ–‡ä»¶æ¥è¿›è¡Œæ•°æ®åº“æ¢å¤æ—¶ï¼ŒORACLEå°†è¯»å–å…¶ä¸­çš„é‡åšè®°å½•(åŒ…æ‹¬å…¶ä¸­çš„ä¿®æ”¹å‘é‡)ï¼Œå¹¶ä¸”å°†è¿™äº›ä¿®æ”¹ç”¨äºç›¸å…³çš„å—ä¸­ã€‚</mark></li></ol><hr><ol start="5"><li><span style="background: PaleVioletRed;border-radius:10px;padding:1px 5px;color:white;font-weight:900">å­˜å‚¨ç»“æ„ç®¡ç†ä¸»è¦å°±æ˜¯é€šè¿‡å¯¹è¡¨ç©ºé—´çš„ç®¡ç†æ¥å®ç°çš„</span></li></ol><hr><ol start="6"><li><mark style="background:green;border-radius:10px;color:white;padding: 5px">æ•ˆæœå¦‚ä¸‹ï¼š</mark></li></ol><hr><ol start="7"><li><font size=10px style="font-weight:700;font-family:'åæ–‡å½©äº‘';color:rgb(100,190,100)">åŸºæœ¬è¯­è¨€(ä¸€)</font></li></ol><hr><ol start="8"><li><span style="border-bottom: 2px dashed #000000">ä»£ç æ®µã€æ•°æ®æ®µã€BSSæ®µã€å †åŒºã€æ–‡ä»¶æ˜ å°„åŒºä»¥åŠæ ˆåŒº</span></li></ol><hr><ol start="9"><li><div style="background:black;font:conloas;color:white;">&nbsp; æ•°ç»„é•¿åº¦ä¸ºï¼š3 <br>&nbsp; è¯·æŒ‰ä»»æ„é”®ç»§ç»­. . .</div></li><li><p><mark style="color:white;background:red;font-weight:600;border_radius:100px">ä½†æ•ˆç‡æ›´é«˜</mark></p></li></ol><h1 id="For-the-Badge"><a href="#For-the-Badge" class="headerlink" title="For the Badge"></a>For the Badge</h1><p><a href="https://forthebadge.com/">For the Badge</a></p>]]></content>
      
      
      <categories>
          
          <category> æ‰‹å†Œ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ‰‹å†Œ </tag>
            
            <tag> CSS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¸¸ç”¨å˜é‡åç¼©å†™</title>
      <link href="/%E6%89%8B%E5%86%8C/%E5%B8%B8%E7%94%A8%E5%8F%98%E9%87%8F%E5%90%8D%E7%BC%A9%E5%86%99/"/>
      <url>/%E6%89%8B%E5%86%8C/%E5%B8%B8%E7%94%A8%E5%8F%98%E9%87%8F%E5%90%8D%E7%BC%A9%E5%86%99/</url>
      
        <content type="html"><![CDATA[<table><thead><tr><th>å˜é‡å</th><th>ç¼©å†™</th></tr></thead><tbody><tr><td>addition</td><td>add</td></tr><tr><td>address</td><td>addr</td></tr><tr><td>administrator</td><td>adm</td></tr><tr><td>answer</td><td>ans</td></tr><tr><td>application</td><td>app</td></tr><tr><td>arguments</td><td>args</td></tr><tr><td>array</td><td>arr</td></tr><tr><td>assemble</td><td>asm</td></tr><tr><td>asynchronization</td><td>asyn</td></tr><tr><td>attribute</td><td>attr</td></tr><tr><td>authority&#x2F;authorize</td><td>auth</td></tr><tr><td>average</td><td>avg</td></tr><tr><td>begin</td><td>beg</td></tr><tr><td>bitmap</td><td>bmp</td></tr><tr><td>break</td><td>brk</td></tr><tr><td>buffer</td><td>buf&#x2F;buff</td></tr><tr><td>button</td><td>btn</td></tr><tr><td>calculate</td><td>calc</td></tr><tr><td>calendar</td><td>cal</td></tr><tr><td>character</td><td>char</td></tr><tr><td>click</td><td>clk</td></tr><tr><td>clock</td><td>clk</td></tr><tr><td>color</td><td>clr</td></tr><tr><td>column</td><td>col</td></tr><tr><td>command</td><td>cmd</td></tr><tr><td>compare</td><td>cmp</td></tr><tr><td>config</td><td>conf</td></tr><tr><td>configuration</td><td>cfg</td></tr><tr><td>container</td><td>cntr</td></tr><tr><td>control</td><td>ctrl</td></tr><tr><td>coordinates</td><td>coord</td></tr><tr><td>copy</td><td>cpy</td></tr><tr><td>count</td><td>cnt</td></tr><tr><td>current</td><td>cur</td></tr><tr><td>cylinder</td><td>cyl</td></tr><tr><td>database</td><td>db</td></tr><tr><td>debug</td><td>dbg</td></tr><tr><td>decrease</td><td>dec</td></tr><tr><td>default</td><td>def</td></tr><tr><td>define</td><td>def</td></tr><tr><td>delete</td><td>del</td></tr><tr><td>department</td><td>dept</td></tr><tr><td>dependency&#x2F;dependent&#x2F;depends</td><td>dep</td></tr><tr><td>destination</td><td>dst&#x2F;dest</td></tr><tr><td>develop</td><td>dev</td></tr><tr><td>device</td><td>dev</td></tr><tr><td>dialog</td><td>dlg</td></tr><tr><td>dictionary</td><td>dict</td></tr><tr><td>display</td><td>disp</td></tr><tr><td>division</td><td>div</td></tr><tr><td>document</td><td>doc</td></tr><tr><td>double</td><td>dbl</td></tr><tr><td>driver</td><td>drv</td></tr><tr><td>duplicate&#x2F;duplication</td><td>dup</td></tr><tr><td>educate&#x2F;education</td><td>edu</td></tr><tr><td>equal&#x2F;equality&#x2F;equivalence&#x2F;equivalent</td><td>eq</td></tr><tr><td>error</td><td>err</td></tr><tr><td>escape</td><td>esc</td></tr><tr><td>execute</td><td>exec</td></tr><tr><td>extend</td><td>ext</td></tr><tr><td>float</td><td>flt</td></tr><tr><td>frame</td><td>frm</td></tr><tr><td>frequency</td><td>freq</td></tr><tr><td>function</td><td>func</td></tr><tr><td>government</td><td>gov</td></tr><tr><td>group</td><td>grp</td></tr><tr><td>hexadecimal</td><td>hex</td></tr><tr><td>horizontal</td><td>horz</td></tr><tr><td>image</td><td>img</td></tr><tr><td>implement</td><td>impl</td></tr><tr><td>increment</td><td>inc</td></tr><tr><td>index</td><td>idx</td></tr><tr><td>individual</td><td>indv</td></tr><tr><td>information</td><td>info</td></tr><tr><td>initialize</td><td>init</td></tr><tr><td>insert</td><td>ins</td></tr><tr><td>instance</td><td>ins</td></tr><tr><td>interrupt</td><td>intr</td></tr><tr><td>iterator</td><td>it</td></tr><tr><td>lable</td><td>lbl</td></tr><tr><td>length</td><td>len</td></tr><tr><td>library</td><td>lib</td></tr><tr><td>link</td><td>lnk</td></tr><tr><td>list</td><td>lst</td></tr><tr><td>maximum</td><td>max</td></tr><tr><td>memory</td><td>mem</td></tr><tr><td>message</td><td>msg</td></tr><tr><td>middle</td><td>mid</td></tr><tr><td>minimum</td><td>min</td></tr><tr><td>multiplication</td><td>mul</td></tr><tr><td>navigation</td><td>nav</td></tr><tr><td>negative</td><td>neg</td></tr><tr><td>number</td><td>num</td></tr><tr><td>object</td><td>obj</td></tr><tr><td>offset</td><td>ofs</td></tr><tr><td>operator</td><td>opr</td></tr><tr><td>optimization</td><td>opt</td></tr><tr><td>organization</td><td>org</td></tr><tr><td>original</td><td>orig</td></tr></tbody></table><table><thead><tr><th>å˜é‡å</th><th>ç¼©å†™</th></tr></thead><tbody><tr><td>package</td><td>pkg</td></tr><tr><td>parameter</td><td>param</td></tr><tr><td>password</td><td>pwd</td></tr><tr><td>picture</td><td>pic</td></tr><tr><td>point</td><td>pt</td></tr><tr><td>pointer</td><td>ptr</td></tr><tr><td>position</td><td>pos</td></tr><tr><td>positive</td><td>pos</td></tr><tr><td>previous</td><td>pre</td></tr><tr><td>print</td><td>prn</td></tr><tr><td>program</td><td>prg</td></tr><tr><td>properties</td><td>props</td></tr><tr><td>public</td><td>pub</td></tr><tr><td>receive&#x2F;received</td><td>recv</td></tr><tr><td>record</td><td>rec</td></tr><tr><td>reference</td><td>ref</td></tr><tr><td>register</td><td>reg</td></tr><tr><td>request</td><td>req</td></tr><tr><td>resource</td><td>res</td></tr><tr><td>result</td><td>res</td></tr><tr><td>response</td><td>rsp</td></tr><tr><td>return</td><td>ret</td></tr><tr><td>screen</td><td>scr</td></tr><tr><td>second</td><td>sec</td></tr><tr><td>segment</td><td>seg</td></tr><tr><td>select</td><td>sel</td></tr><tr><td>semaphore</td><td>sem</td></tr><tr><td>sequence</td><td>seq</td></tr><tr><td>server</td><td>srv</td></tr><tr><td>signal</td><td>sig</td></tr><tr><td>source</td><td>src</td></tr><tr><td>stack</td><td>stk</td></tr><tr><td>standard</td><td>std</td></tr><tr><td>statistic</td><td>stat</td></tr><tr><td>status</td><td>stat</td></tr><tr><td>storage</td><td>stg</td></tr><tr><td>string</td><td>str</td></tr><tr><td>student</td><td>stu</td></tr><tr><td>subtraction</td><td>sub</td></tr><tr><td>summation&#x2F;summary</td><td>sum</td></tr><tr><td>synchronize</td><td>sync</td></tr><tr><td>system</td><td>sys</td></tr><tr><td>table</td><td>tbl</td></tr><tr><td>temporary</td><td>tmp&#x2F;temp</td></tr><tr><td>test</td><td>tst</td></tr><tr><td>text</td><td>txt</td></tr><tr><td>time stamp</td><td>ts</td></tr><tr><td>total</td><td>tot</td></tr><tr><td>translate</td><td>trans</td></tr><tr><td>update</td><td>upd</td></tr><tr><td>upgrade</td><td>upg</td></tr><tr><td>unknown</td><td>unk</td></tr><tr><td>user</td><td>usr</td></tr><tr><td>utility</td><td>util</td></tr><tr><td>value</td><td>val</td></tr><tr><td>variable</td><td>var</td></tr><tr><td>version</td><td>ver</td></tr><tr><td>vertical</td><td>vert</td></tr><tr><td>window</td><td>win</td></tr><tr><td>thread</td><td>thrd</td></tr><tr><td></td><td></td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> æ‰‹å†Œ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ‰‹å†Œ </tag>
            
            <tag> å˜é‡ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Forkå¿«æ·é”®æ•´ç†</title>
      <link href="/%E6%89%8B%E5%86%8C/%E5%BF%AB%E6%8D%B7%E9%94%AE%E6%95%B4%E7%90%86/Fork/"/>
      <url>/%E6%89%8B%E5%86%8C/%E5%BF%AB%E6%8D%B7%E9%94%AE%E6%95%B4%E7%90%86/Fork/</url>
      
        <content type="html"><![CDATA[<p>[toc]</p><h1 id="Fork-å¿«æ·é”®"><a href="#Fork-å¿«æ·é”®" class="headerlink" title="Fork å¿«æ·é”®"></a>Fork å¿«æ·é”®</h1><h5 id="General-Navigation"><a href="#General-Navigation" class="headerlink" title="General Navigation"></a>General Navigation</h5><ul><li>Ctrl1 - Show Changes view (second press will focus commit field)</li><li>Ctrl2 - Show All Commits view (second press will jump to HEAD)</li><li>Ctrl0 - Reveal HEAD</li><li>CtrlP - Show Quick Launch window</li><li>CtrlTab - Select next tab</li><li>CtrlShiftTab - Select previous tab</li><li>CtrlT - Open new tab</li><li>CtrlW - Close current tab</li><li>Ctrl&#x3D;&#x2F;Ctrl- Zoom in&#x2F; Zoom out</li><li>Ctrl, - Open Fork preferences</li></ul><h5 id="All-Commits-View"><a href="#All-Commits-View" class="headerlink" title="All Commits View"></a>All Commits View</h5><ul><li>Ctrl0 - Jump to HEAD</li><li>CtrlF - Commit search</li><li><ul><li>Enter, F3 - Jump to next search result</li></ul></li><li><ul><li>ShiftEnter, ShiftF3 - Jump to previous search result</li></ul></li><li>CtrlC - Copy commit info</li><li>Delete - Remove branch&#x2F;stash</li><li>CtrlShiftA - Filter by active branch</li></ul><h5 id="Changes-View"><a href="#Changes-View" class="headerlink" title="Changes View"></a>Changes View</h5><ul><li>CtrlEnter - Commit</li><li>CtrlShiftEnter - Commit and push</li><li>Ctrl1 - Focus commit message field</li><li>CtrlF - Filter</li><li>Enter, CtrlShiftS - Stage&#x2F;unstage selected file (or lines)</li><li>CtrlAltShiftS - Stage&#x2F;unstage all files</li><li>Backspace, CtrlShiftD - Discard selected file (or lines)</li><li>CtrlO - Open selected file</li><li>CtrlD - Open selected file in external diff tool</li><li>CtrlC - Copy selected file full path</li></ul><h5 id="Repository"><a href="#Repository" class="headerlink" title="Repository"></a>Repository</h5><ul><li>F5 - Refresh</li><li>CtrlShiftN - Init new repository</li><li>CtrlN - Clone new repository</li><li>CtrlO - Open repository</li><li>CtrlShiftF - Fetch</li><li>CtrlAltShiftF (Ctrl + click on button) - Quick Fetch</li><li>CtrlShiftL - Pull</li><li>CtrlAltShiftL (Ctrl + click on button) - Quick Pull</li><li>CtrlShiftP - Push</li><li>CtrlAltShiftP (Ctrl + click on button) - Quick Push</li><li>CtrlShiftB - New branch</li><li>CtrlShiftT - New tag</li><li>CtrlShiftH - Create stash</li><li>CtrlAltO - Open in File Explorer</li><li>CtrlAltT - Open in Terminal</li></ul><h5 id="Repository-Manager"><a href="#Repository-Manager" class="headerlink" title="Repository Manager"></a>Repository Manager</h5><ul><li>F2 - Rename Repository</li><li>Delete - Remove Repository</li><li>Enter - Open Repository</li></ul>]]></content>
      
      
      <categories>
          
          <category> æ‰‹å†Œ </category>
          
          <category> å¿«æ·é”®æ•´ç† </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å¿«æ·é”® </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>typora bluebook è‡ªå®šä¹‰ä¿®æ”¹ä¸»é¢˜ä»£ç </title>
      <link href="/%E6%89%8B%E5%86%8C/%E4%B8%AA%E4%BA%BA%E9%85%8D%E7%BD%AE/typora%E4%B8%BB%E9%A2%98%E8%87%AA%E5%AE%9A%E4%B9%89/"/>
      <url>/%E6%89%8B%E5%86%8C/%E4%B8%AA%E4%BA%BA%E9%85%8D%E7%BD%AE/typora%E4%B8%BB%E9%A2%98%E8%87%AA%E5%AE%9A%E4%B9%89/</url>
      
        <content type="html"><![CDATA[<h1 id="è¯´æ˜"><a href="#è¯´æ˜" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h1><ol><li>ä¿®æ”¹äº†ç›®å½•ä¸­ ä»£ç å— çš„é¢œè‰²</li><li>ä¿®æ”¹äº†ç¼–è¾‘é¡µé¢çš„æœ€å°å®½åº¦</li></ol><h1 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h1><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br><span class="line">620</span><br><span class="line">621</span><br><span class="line">622</span><br><span class="line">623</span><br><span class="line">624</span><br><span class="line">625</span><br><span class="line">626</span><br><span class="line">627</span><br><span class="line">628</span><br><span class="line">629</span><br><span class="line">630</span><br><span class="line">631</span><br><span class="line">632</span><br><span class="line">633</span><br><span class="line">634</span><br><span class="line">635</span><br><span class="line">636</span><br><span class="line">637</span><br><span class="line">638</span><br><span class="line">639</span><br><span class="line">640</span><br><span class="line">641</span><br><span class="line">642</span><br><span class="line">643</span><br><span class="line">644</span><br><span class="line">645</span><br><span class="line">646</span><br><span class="line">647</span><br><span class="line">648</span><br><span class="line">649</span><br><span class="line">650</span><br><span class="line">651</span><br><span class="line">652</span><br><span class="line">653</span><br><span class="line">654</span><br><span class="line">655</span><br><span class="line">656</span><br><span class="line">657</span><br><span class="line">658</span><br><span class="line">659</span><br><span class="line">660</span><br><span class="line">661</span><br><span class="line">662</span><br><span class="line">663</span><br><span class="line">664</span><br><span class="line">665</span><br><span class="line">666</span><br><span class="line">667</span><br><span class="line">668</span><br><span class="line">669</span><br><span class="line">670</span><br><span class="line">671</span><br><span class="line">672</span><br><span class="line">673</span><br><span class="line">674</span><br><span class="line">675</span><br><span class="line">676</span><br><span class="line">677</span><br><span class="line">678</span><br><span class="line">679</span><br><span class="line">680</span><br><span class="line">681</span><br><span class="line">682</span><br><span class="line">683</span><br><span class="line">684</span><br><span class="line">685</span><br><span class="line">686</span><br><span class="line">687</span><br><span class="line">688</span><br><span class="line">689</span><br><span class="line">690</span><br><span class="line">691</span><br><span class="line">692</span><br><span class="line">693</span><br><span class="line">694</span><br><span class="line">695</span><br><span class="line">696</span><br><span class="line">697</span><br><span class="line">698</span><br><span class="line">699</span><br><span class="line">700</span><br><span class="line">701</span><br><span class="line">702</span><br><span class="line">703</span><br><span class="line">704</span><br><span class="line">705</span><br><span class="line">706</span><br><span class="line">707</span><br><span class="line">708</span><br><span class="line">709</span><br><span class="line">710</span><br><span class="line">711</span><br><span class="line">712</span><br><span class="line">713</span><br><span class="line">714</span><br><span class="line">715</span><br><span class="line">716</span><br><span class="line">717</span><br><span class="line">718</span><br><span class="line">719</span><br><span class="line">720</span><br><span class="line">721</span><br><span class="line">722</span><br><span class="line">723</span><br><span class="line">724</span><br><span class="line">725</span><br><span class="line">726</span><br><span class="line">727</span><br><span class="line">728</span><br><span class="line">729</span><br><span class="line">730</span><br><span class="line">731</span><br><span class="line">732</span><br><span class="line">733</span><br><span class="line">734</span><br><span class="line">735</span><br><span class="line">736</span><br><span class="line">737</span><br><span class="line">738</span><br><span class="line">739</span><br><span class="line">740</span><br><span class="line">741</span><br><span class="line">742</span><br><span class="line">743</span><br><span class="line">744</span><br><span class="line">745</span><br><span class="line">746</span><br><span class="line">747</span><br><span class="line">748</span><br><span class="line">749</span><br><span class="line">750</span><br><span class="line">751</span><br><span class="line">752</span><br><span class="line">753</span><br><span class="line">754</span><br><span class="line">755</span><br><span class="line">756</span><br><span class="line">757</span><br><span class="line">758</span><br><span class="line">759</span><br><span class="line">760</span><br><span class="line">761</span><br><span class="line">762</span><br><span class="line">763</span><br><span class="line">764</span><br><span class="line">765</span><br><span class="line">766</span><br><span class="line">767</span><br><span class="line">768</span><br><span class="line">769</span><br><span class="line">770</span><br><span class="line">771</span><br><span class="line">772</span><br><span class="line">773</span><br><span class="line">774</span><br><span class="line">775</span><br><span class="line">776</span><br><span class="line">777</span><br><span class="line">778</span><br><span class="line">779</span><br><span class="line">780</span><br><span class="line">781</span><br><span class="line">782</span><br><span class="line">783</span><br><span class="line">784</span><br><span class="line">785</span><br><span class="line">786</span><br><span class="line">787</span><br><span class="line">788</span><br><span class="line">789</span><br><span class="line">790</span><br><span class="line">791</span><br><span class="line">792</span><br><span class="line">793</span><br><span class="line">794</span><br><span class="line">795</span><br><span class="line">796</span><br><span class="line">797</span><br><span class="line">798</span><br><span class="line">799</span><br><span class="line">800</span><br><span class="line">801</span><br><span class="line">802</span><br><span class="line">803</span><br><span class="line">804</span><br><span class="line">805</span><br><span class="line">806</span><br><span class="line">807</span><br><span class="line">808</span><br><span class="line">809</span><br><span class="line">810</span><br><span class="line">811</span><br><span class="line">812</span><br><span class="line">813</span><br><span class="line">814</span><br><span class="line">815</span><br><span class="line">816</span><br><span class="line">817</span><br><span class="line">818</span><br><span class="line">819</span><br><span class="line">820</span><br><span class="line">821</span><br><span class="line">822</span><br><span class="line">823</span><br><span class="line">824</span><br><span class="line">825</span><br><span class="line">826</span><br><span class="line">827</span><br><span class="line">828</span><br><span class="line">829</span><br><span class="line">830</span><br><span class="line">831</span><br><span class="line">832</span><br><span class="line">833</span><br><span class="line">834</span><br><span class="line">835</span><br><span class="line">836</span><br><span class="line">837</span><br><span class="line">838</span><br><span class="line">839</span><br><span class="line">840</span><br><span class="line">841</span><br><span class="line">842</span><br><span class="line">843</span><br><span class="line">844</span><br><span class="line">845</span><br><span class="line">846</span><br><span class="line">847</span><br><span class="line">848</span><br><span class="line">849</span><br><span class="line">850</span><br><span class="line">851</span><br><span class="line">852</span><br><span class="line">853</span><br><span class="line">854</span><br><span class="line">855</span><br><span class="line">856</span><br><span class="line">857</span><br><span class="line">858</span><br><span class="line">859</span><br><span class="line">860</span><br><span class="line">861</span><br><span class="line">862</span><br><span class="line">863</span><br><span class="line">864</span><br><span class="line">865</span><br><span class="line">866</span><br><span class="line">867</span><br><span class="line">868</span><br><span class="line">869</span><br><span class="line">870</span><br><span class="line">871</span><br><span class="line">872</span><br><span class="line">873</span><br><span class="line">874</span><br><span class="line">875</span><br><span class="line">876</span><br><span class="line">877</span><br><span class="line">878</span><br><span class="line">879</span><br><span class="line">880</span><br><span class="line">881</span><br><span class="line">882</span><br><span class="line">883</span><br><span class="line">884</span><br><span class="line">885</span><br><span class="line">886</span><br><span class="line">887</span><br><span class="line">888</span><br><span class="line">889</span><br><span class="line">890</span><br><span class="line">891</span><br><span class="line">892</span><br><span class="line">893</span><br><span class="line">894</span><br><span class="line">895</span><br><span class="line">896</span><br><span class="line">897</span><br><span class="line">898</span><br><span class="line">899</span><br><span class="line">900</span><br><span class="line">901</span><br><span class="line">902</span><br><span class="line">903</span><br><span class="line">904</span><br><span class="line">905</span><br><span class="line">906</span><br><span class="line">907</span><br><span class="line">908</span><br><span class="line">909</span><br><span class="line">910</span><br><span class="line">911</span><br><span class="line">912</span><br><span class="line">913</span><br><span class="line">914</span><br><span class="line">915</span><br><span class="line">916</span><br><span class="line">917</span><br><span class="line">918</span><br><span class="line">919</span><br><span class="line">920</span><br><span class="line">921</span><br><span class="line">922</span><br><span class="line">923</span><br><span class="line">924</span><br><span class="line">925</span><br><span class="line">926</span><br><span class="line">927</span><br><span class="line">928</span><br><span class="line">929</span><br><span class="line">930</span><br><span class="line">931</span><br><span class="line">932</span><br><span class="line">933</span><br><span class="line">934</span><br><span class="line">935</span><br><span class="line">936</span><br><span class="line">937</span><br><span class="line">938</span><br><span class="line">939</span><br><span class="line">940</span><br><span class="line">941</span><br><span class="line">942</span><br><span class="line">943</span><br><span class="line">944</span><br><span class="line">945</span><br><span class="line">946</span><br><span class="line">947</span><br><span class="line">948</span><br><span class="line">949</span><br><span class="line">950</span><br><span class="line">951</span><br><span class="line">952</span><br><span class="line">953</span><br><span class="line">954</span><br><span class="line">955</span><br><span class="line">956</span><br><span class="line">957</span><br><span class="line">958</span><br><span class="line">959</span><br><span class="line">960</span><br><span class="line">961</span><br><span class="line">962</span><br><span class="line">963</span><br><span class="line">964</span><br><span class="line">965</span><br><span class="line">966</span><br><span class="line">967</span><br><span class="line">968</span><br><span class="line">969</span><br><span class="line">970</span><br><span class="line">971</span><br><span class="line">972</span><br><span class="line">973</span><br><span class="line">974</span><br><span class="line">975</span><br><span class="line">976</span><br><span class="line">977</span><br><span class="line">978</span><br><span class="line">979</span><br><span class="line">980</span><br><span class="line">981</span><br><span class="line">982</span><br><span class="line">983</span><br><span class="line">984</span><br><span class="line">985</span><br><span class="line">986</span><br><span class="line">987</span><br><span class="line">988</span><br><span class="line">989</span><br><span class="line">990</span><br><span class="line">991</span><br><span class="line">992</span><br><span class="line">993</span><br><span class="line">994</span><br><span class="line">995</span><br><span class="line">996</span><br><span class="line">997</span><br><span class="line">998</span><br><span class="line">999</span><br><span class="line">1000</span><br><span class="line">1001</span><br><span class="line">1002</span><br><span class="line">1003</span><br><span class="line">1004</span><br><span class="line">1005</span><br><span class="line">1006</span><br><span class="line">1007</span><br><span class="line">1008</span><br><span class="line">1009</span><br><span class="line">1010</span><br><span class="line">1011</span><br><span class="line">1012</span><br><span class="line">1013</span><br><span class="line">1014</span><br><span class="line">1015</span><br><span class="line">1016</span><br><span class="line">1017</span><br><span class="line">1018</span><br><span class="line">1019</span><br><span class="line">1020</span><br><span class="line">1021</span><br><span class="line">1022</span><br><span class="line">1023</span><br><span class="line">1024</span><br><span class="line">1025</span><br><span class="line">1026</span><br><span class="line">1027</span><br><span class="line">1028</span><br><span class="line">1029</span><br><span class="line">1030</span><br><span class="line">1031</span><br><span class="line">1032</span><br><span class="line">1033</span><br><span class="line">1034</span><br><span class="line">1035</span><br><span class="line">1036</span><br><span class="line">1037</span><br><span class="line">1038</span><br><span class="line">1039</span><br><span class="line">1040</span><br><span class="line">1041</span><br><span class="line">1042</span><br><span class="line">1043</span><br><span class="line">1044</span><br><span class="line">1045</span><br><span class="line">1046</span><br><span class="line">1047</span><br><span class="line">1048</span><br><span class="line">1049</span><br><span class="line">1050</span><br><span class="line">1051</span><br><span class="line">1052</span><br><span class="line">1053</span><br><span class="line">1054</span><br><span class="line">1055</span><br><span class="line">1056</span><br><span class="line">1057</span><br><span class="line">1058</span><br><span class="line">1059</span><br><span class="line">1060</span><br><span class="line">1061</span><br><span class="line">1062</span><br><span class="line">1063</span><br><span class="line">1064</span><br><span class="line">1065</span><br><span class="line">1066</span><br><span class="line">1067</span><br><span class="line">1068</span><br><span class="line">1069</span><br><span class="line">1070</span><br><span class="line">1071</span><br><span class="line">1072</span><br><span class="line">1073</span><br><span class="line">1074</span><br><span class="line">1075</span><br><span class="line">1076</span><br><span class="line">1077</span><br><span class="line">1078</span><br><span class="line">1079</span><br><span class="line">1080</span><br><span class="line">1081</span><br><span class="line">1082</span><br><span class="line">1083</span><br><span class="line">1084</span><br><span class="line">1085</span><br><span class="line">1086</span><br><span class="line">1087</span><br><span class="line">1088</span><br><span class="line">1089</span><br><span class="line">1090</span><br><span class="line">1091</span><br><span class="line">1092</span><br><span class="line">1093</span><br><span class="line">1094</span><br><span class="line">1095</span><br><span class="line">1096</span><br><span class="line">1097</span><br><span class="line">1098</span><br><span class="line">1099</span><br><span class="line">1100</span><br><span class="line">1101</span><br><span class="line">1102</span><br><span class="line">1103</span><br><span class="line">1104</span><br><span class="line">1105</span><br><span class="line">1106</span><br><span class="line">1107</span><br><span class="line">1108</span><br><span class="line">1109</span><br><span class="line">1110</span><br><span class="line">1111</span><br><span class="line">1112</span><br><span class="line">1113</span><br><span class="line">1114</span><br><span class="line">1115</span><br><span class="line">1116</span><br><span class="line">1117</span><br><span class="line">1118</span><br><span class="line">1119</span><br><span class="line">1120</span><br><span class="line">1121</span><br><span class="line">1122</span><br><span class="line">1123</span><br><span class="line">1124</span><br><span class="line">1125</span><br><span class="line">1126</span><br><span class="line">1127</span><br><span class="line">1128</span><br><span class="line">1129</span><br><span class="line">1130</span><br><span class="line">1131</span><br><span class="line">1132</span><br><span class="line">1133</span><br><span class="line">1134</span><br><span class="line">1135</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@charset</span> <span class="string">&quot;UTF-8&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* è‡ªå®šä¹‰è¡¨æ ¼ */</span></span><br><span class="line"><span class="selector-tag">tr</span><span class="selector-class">.md-end-block</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: dodgerblue;</span><br><span class="line">  <span class="attribute">font-weight</span>: <span class="number">700</span>;</span><br><span class="line">  <span class="attribute">color</span>: white;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*** Custom fonts ***/</span></span><br><span class="line"><span class="keyword">@import</span> url(<span class="string">&#x27;./blubook/fonts.css&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">/*** Color setting ***/</span></span><br><span class="line"><span class="selector-pseudo">:root</span> &#123;</span><br><span class="line">  <span class="attr">--side-bar-bg-color</span>: <span class="number">#183055</span>;</span><br><span class="line">  <span class="attr">--active-file-bg-color</span>: <span class="number">#2f4566</span>;</span><br><span class="line">  <span class="attr">--active-file-text-color</span>: <span class="number">#ffffff</span>;</span><br><span class="line">  <span class="attr">--active-file-border-color</span>: <span class="number">#757575</span>;</span><br><span class="line">  <span class="attr">--active-search-item-bg-color</span>: <span class="number">#23242b</span>;</span><br><span class="line">  <span class="attr">--item-hover-bg-color</span>: <span class="number">#ececec</span>;</span><br><span class="line">  <span class="attr">--item-hover-text-color</span>: <span class="number">#000000</span>;</span><br><span class="line">  <span class="attr">--control-text-color</span>: <span class="number">#ddd</span>;</span><br><span class="line">  <span class="attr">--window-border</span>: <span class="number">1px</span> solid <span class="number">#183055</span>;</span><br><span class="line">  <span class="attr">--code-cursor</span>: <span class="number">#f0f0f0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*** Btn in search bar ***/</span></span><br><span class="line"><span class="selector-id">#filesearch-case-option-btn</span>,</span><br><span class="line"><span class="selector-id">#filesearch-word-option-btn</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">var</span>(--side-bar-bg-color);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/****** #write basic ******/</span></span><br><span class="line"><span class="selector-id">#write</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: static;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">90%</span>;</span><br><span class="line">  <span class="attribute">min-width</span>: <span class="number">90%</span>;</span><br><span class="line">  <span class="attribute">max-width</span>: <span class="number">700px</span>;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">1.6</span>;</span><br><span class="line">  <span class="attribute">transform</span>: none;</span><br><span class="line">  <span class="attribute">height</span>: auto;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/****** #write h1-h6 ******/</span></span><br><span class="line"><span class="selector-id">#write</span> <span class="selector-tag">h1</span>,</span><br><span class="line"><span class="selector-id">#write</span> <span class="selector-tag">h2</span>,</span><br><span class="line"><span class="selector-id">#write</span> <span class="selector-tag">h3</span>,</span><br><span class="line"><span class="selector-id">#write</span> <span class="selector-tag">h4</span>,</span><br><span class="line"><span class="selector-id">#write</span> <span class="selector-tag">h5</span>,</span><br><span class="line"><span class="selector-id">#write</span> <span class="selector-tag">h6</span>,</span><br><span class="line"><span class="selector-id">#write</span> <span class="selector-tag">p</span>,</span><br><span class="line"><span class="selector-id">#write</span> pre &#123;</span><br><span class="line">  <span class="attribute">width</span>: auto;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#write</span> <span class="selector-tag">h1</span><span class="selector-pseudo">::before</span>,</span><br><span class="line"><span class="selector-id">#write</span> <span class="selector-tag">h2</span><span class="selector-pseudo">::before</span>,</span><br><span class="line"><span class="selector-id">#write</span> <span class="selector-tag">h3</span><span class="selector-pseudo">::before</span>,</span><br><span class="line"><span class="selector-id">#write</span> <span class="selector-tag">h4</span><span class="selector-pseudo">::before</span>,</span><br><span class="line"><span class="selector-id">#write</span> <span class="selector-tag">h5</span><span class="selector-pseudo">::before</span>,</span><br><span class="line"><span class="selector-id">#write</span> <span class="selector-tag">h6</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">right</span>: <span class="built_in">calc</span>(<span class="number">100%</span> + <span class="number">10px</span>);</span><br><span class="line">  <span class="attribute">bottom</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#b4b4b4</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">1rem</span>;</span><br><span class="line">  <span class="attribute">font-weight</span>: bold;</span><br><span class="line">  <span class="attribute">font-variant</span>: <span class="string">&#x27;small-caps&#x27;</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">left</span>: auto;</span><br><span class="line">  <span class="attribute">float</span>: none;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#write</span> <span class="selector-tag">h1</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">2.2rem</span>;</span><br><span class="line">  <span class="attribute">font-style</span>: normal;</span><br><span class="line">  <span class="attribute">font-weight</span>: <span class="number">800</span>;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">2</span>;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">14px</span>;</span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="number">14px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#write</span> <span class="selector-tag">h1</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&#x27;H1&#x27;</span>;</span><br><span class="line">  <span class="attribute">bottom</span>: <span class="number">1rem</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#write</span> <span class="selector-tag">h2</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">2rem</span>;</span><br><span class="line">  <span class="attribute">font-weight</span>: <span class="number">800</span>;</span><br><span class="line">  <span class="attribute">font-style</span>: normal;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">2</span>;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">14px</span>;</span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="number">14px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#write</span> <span class="selector-tag">h2</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&#x27;H2&#x27;</span>;</span><br><span class="line">  <span class="attribute">bottom</span>: .<span class="number">85rem</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#write</span> <span class="selector-tag">h3</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">1.6rem</span>;</span><br><span class="line">  <span class="attribute">font-weight</span>: <span class="number">800</span>;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">2</span>;</span><br><span class="line">  <span class="attribute">font-style</span>: normal;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">14px</span>;</span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="number">14px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#write</span> <span class="selector-tag">h3</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&#x27;H3&#x27;</span>;</span><br><span class="line">  <span class="attribute">top</span>: .<span class="number">44rem</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">3px</span> <span class="number">0</span> <span class="number">3px</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#write</span> <span class="selector-tag">h4</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">1.4rem</span>;</span><br><span class="line">  <span class="attribute">font-weight</span>: <span class="number">800</span>;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">2</span>;</span><br><span class="line">  <span class="attribute">font-style</span>: normal;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">14px</span>;</span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="number">14px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#write</span> <span class="selector-tag">h4</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&#x27;H4&#x27;</span>;</span><br><span class="line">  <span class="attribute">top</span>: .<span class="number">4rem</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#write</span> <span class="selector-tag">h5</span>,</span><br><span class="line"><span class="selector-id">#write</span> <span class="selector-tag">h6</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">1.2rem</span>;</span><br><span class="line">  <span class="attribute">font-weight</span>: <span class="number">800</span>;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">2</span>;</span><br><span class="line">  <span class="attribute">font-style</span>: normal;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">14px</span>;</span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="number">14px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#write</span> <span class="selector-tag">h5</span><span class="selector-pseudo">::before</span>,</span><br><span class="line"><span class="selector-id">#write</span> <span class="selector-tag">h6</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">top</span>: .<span class="number">2rem</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#write</span> <span class="selector-tag">h5</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&#x27;H5&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#write</span> <span class="selector-tag">h6</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&#x27;H6&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">h3</span><span class="selector-class">.md-focus</span><span class="selector-pseudo">:before</span>,</span><br><span class="line"><span class="selector-tag">h4</span><span class="selector-class">.md-focus</span><span class="selector-pseudo">:before</span>,</span><br><span class="line"><span class="selector-tag">h5</span><span class="selector-class">.md-focus</span><span class="selector-pseudo">:before</span>,</span><br><span class="line"><span class="selector-tag">h6</span><span class="selector-class">.md-focus</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#ddd</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">var</span>(--heading-char-color);</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">3px</span>;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">left</span>: -<span class="number">1.642857143rem</span>;</span><br><span class="line">  <span class="attribute">top</span>: .<span class="number">357142857rem</span>;</span><br><span class="line">  <span class="attribute">float</span>: left;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">9px</span>;</span><br><span class="line">  <span class="attribute">padding-left</span>: <span class="number">2px</span>;</span><br><span class="line">  <span class="attribute">padding-right</span>: <span class="number">2px</span>;</span><br><span class="line">  <span class="attribute">vertical-align</span>: bottom;</span><br><span class="line">  <span class="attribute">font-weight</span>: <span class="number">400</span>;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/****** Global Style ******/</span></span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">font-family</span>: <span class="string">&#x27;Glow Sans SC&#x27;</span>, -apple-system, sans-serif;</span><br><span class="line">  <span class="attribute">font-weight</span>: <span class="number">500</span>;</span><br><span class="line">  <span class="attribute">text-rendering</span>: geometricPrecision;</span><br><span class="line">  -webkit-<span class="attribute">font-smoothing</span>: antialiased;</span><br><span class="line">  -webkit-text-size-adjust: <span class="number">100%</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">html</span>,</span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#242A31</span>;</span><br><span class="line">  <span class="comment">/* width: 100%; */</span></span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">14px</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#ffffff</span>;</span><br><span class="line">  <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">1rem</span>;</span><br><span class="line">  text-size-adjust: <span class="number">100%</span>;</span><br><span class="line">  -moz-osx-<span class="attribute">font-smoothing</span>: grayscale;</span><br><span class="line">  -webkit-text-size-adjust: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">hr &#123;</span><br><span class="line">  <span class="attribute">border-color</span>: <span class="number">#e6ecf1</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">2px</span>;</span><br><span class="line">  <span class="attribute">border-top</span>: <span class="number">2px</span> solid <span class="number">#e6ecf1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">img</span> &#123;</span><br><span class="line">  <span class="attribute">max-width</span>: <span class="number">80%</span>;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">0.2rem</span>;</span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="number">0.2rem</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/****** ul ol Style ******/</span></span><br><span class="line"></span><br><span class="line"><span class="selector-tag">ul</span>&gt;<span class="selector-tag">li</span>&gt;<span class="selector-tag">ul</span>&gt;<span class="selector-tag">li</span> &#123;</span><br><span class="line">  <span class="attribute">list-style-type</span>: circle;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">ul</span>&gt;<span class="selector-tag">li</span>&gt;<span class="selector-tag">ul</span>&gt;<span class="selector-tag">li</span>&gt;<span class="selector-tag">ul</span>&gt;<span class="selector-tag">li</span> &#123;</span><br><span class="line">  <span class="attribute">list-style-type</span>: square;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">ol</span>,</span><br><span class="line"><span class="selector-tag">ul</span> &#123;</span><br><span class="line">  <span class="attribute">padding-left</span>: <span class="number">2rem</span>;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">ol</span>&gt;<span class="selector-tag">li</span> &#123;</span><br><span class="line">  <span class="attribute">list-style-type</span>: decimal</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">ol</span>&gt;<span class="selector-tag">li</span>&gt;<span class="selector-tag">ol</span>&gt;<span class="selector-tag">li</span> &#123;</span><br><span class="line">  <span class="attribute">list-style-type</span>: lower-alpha</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">ol</span>&gt;<span class="selector-tag">li</span>&gt;<span class="selector-tag">ol</span>&gt;<span class="selector-tag">li</span>&gt;<span class="selector-tag">ol</span>&gt;<span class="selector-tag">li</span> &#123;</span><br><span class="line">  <span class="attribute">list-style-type</span>: lower-roman</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/****** Table Style ******/</span></span><br><span class="line"></span><br><span class="line"><span class="selector-tag">table</span> &#123;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">word-break</span>: initial;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">table</span> <span class="selector-tag">tr</span> &#123;</span><br><span class="line">  <span class="attribute">border-top</span>: <span class="number">1px</span> solid <span class="number">#dfe2e5</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">table</span> <span class="selector-tag">tr</span><span class="selector-pseudo">:nth-child</span>(<span class="number">2</span>n),</span><br><span class="line"><span class="selector-tag">thead</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#f5f7f9</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">table</span> <span class="selector-tag">tr</span> <span class="selector-tag">th</span> &#123;</span><br><span class="line">  <span class="attribute">font-weight</span>: bold;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#dfe2e5</span>;</span><br><span class="line">  <span class="attribute">border-bottom</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">6px</span> <span class="number">13px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">table</span> <span class="selector-tag">tr</span> <span class="selector-tag">td</span> &#123;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#dfe2e5</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">6px</span> <span class="number">13px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">table</span> <span class="selector-tag">tr</span> <span class="selector-tag">th</span><span class="selector-pseudo">:first</span>-child,</span><br><span class="line"><span class="selector-tag">table</span> <span class="selector-tag">tr</span> <span class="selector-tag">td</span><span class="selector-pseudo">:first</span>-child &#123;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">table</span> <span class="selector-tag">tr</span> <span class="selector-tag">th</span><span class="selector-pseudo">:last-child</span>,</span><br><span class="line"><span class="selector-tag">table</span> <span class="selector-tag">tr</span> <span class="selector-tag">td</span><span class="selector-pseudo">:last-child</span> &#123;</span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/****** YAML Style ******/</span></span><br><span class="line">pre<span class="selector-class">.md-meta-block</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: .<span class="number">85rem</span> <span class="meta">!important</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#5d5d5d</span>;</span><br><span class="line">  <span class="attribute">min-height</span>: .<span class="number">8rem</span>;</span><br><span class="line">  <span class="attribute">white-space</span>: pre-wrap;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#f5f7f9</span>;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">  <span class="attribute">overflow-x</span>: hidden;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">1rem</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">8px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/****** Global Text ******/</span></span><br><span class="line"><span class="selector-tag">p</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">16px</span>;</span><br><span class="line">  <span class="attribute">font-family</span>: <span class="string">&quot;Glow Sans SC&quot;</span>, -apple-system, sans-serif;</span><br><span class="line">  <span class="attribute">font-weight</span>: <span class="number">500</span>;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">1.6</span>;</span><br><span class="line">  <span class="attribute">font-style</span>: normal;</span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">rgb</span>(<span class="number">59</span>, <span class="number">69</span>, <span class="number">78</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">a</span> &#123;</span><br><span class="line">  <span class="comment">/* color: rgb(164, 78, 237); */</span></span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">rgb</span>(<span class="number">56</span>, <span class="number">132</span>, <span class="number">254</span>);</span><br><span class="line">  <span class="attribute">font-weight</span>: <span class="number">500</span>;</span><br><span class="line">  <span class="attribute">text-decoration</span>: none;</span><br><span class="line">  <span class="attribute">text-decoration-style</span>: none;</span><br><span class="line">  <span class="attribute">cursor</span>: pointer;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">3px</span> <span class="number">0</span> <span class="number">3px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#write</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">rgb</span>(<span class="number">56</span>, <span class="number">132</span>, <span class="number">254</span>);</span><br><span class="line">  <span class="attribute">text-decoration</span>: underline;</span><br><span class="line">  <span class="attribute">text-decoration-style</span>: solid;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">strong</span> &#123;</span><br><span class="line">  <span class="attribute">font-weight</span>: <span class="number">700</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">mark</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#87CEFA</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">2px</span> <span class="number">0</span> <span class="number">2px</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">2px</span> <span class="number">0</span> <span class="number">2px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">h1</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">2rem</span>;</span><br><span class="line">  <span class="attribute">font-style</span>: normal;</span><br><span class="line">  <span class="attribute">font-weight</span>: <span class="number">800</span>;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">2</span>;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">14px</span>;</span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="number">14px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">h2</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">1.8rem</span>;</span><br><span class="line">  <span class="attribute">font-weight</span>: <span class="number">800</span>;</span><br><span class="line">  <span class="attribute">font-style</span>: normal;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">2</span>;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">14px</span>;</span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="number">14px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">h3</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">1.6rem</span>;</span><br><span class="line">  <span class="attribute">font-weight</span>: <span class="number">800</span>;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">2</span>;</span><br><span class="line">  <span class="attribute">font-style</span>: normal;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">14px</span>;</span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="number">14px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">h4</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">1.2rem</span>;</span><br><span class="line">  <span class="attribute">font-weight</span>: <span class="number">800</span>;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">2</span>;</span><br><span class="line">  <span class="attribute">font-style</span>: normal;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">14px</span>;</span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="number">14px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">h5</span>,</span><br><span class="line"><span class="selector-tag">h6</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">1rem</span>;</span><br><span class="line">  <span class="attribute">font-weight</span>: <span class="number">800</span>;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">2</span>;</span><br><span class="line">  <span class="attribute">font-style</span>: normal;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">14px</span>;</span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="number">14px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/****** Print header ******/</span></span><br><span class="line"><span class="keyword">@media</span> print &#123;</span><br><span class="line">  <span class="selector-class">.typora-export</span> * &#123;</span><br><span class="line">    -webkit-print-<span class="attribute">color</span>-adjust: exact;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="selector-id">#write</span> <span class="selector-tag">h1</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">    <span class="attribute">bottom</span>: <span class="number">1rem</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="selector-id">#write</span> <span class="selector-tag">h2</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">    <span class="attribute">bottom</span>: <span class="number">1rem</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="selector-id">#write</span> <span class="selector-tag">h3</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">    <span class="attribute">bottom</span>: <span class="number">1rem</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="selector-id">#write</span> <span class="selector-tag">h4</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">    <span class="attribute">bottom</span>: <span class="number">1rem</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="selector-id">#write</span> <span class="selector-tag">h5</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">    <span class="attribute">bottom</span>: <span class="number">1rem</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="selector-id">#write</span> <span class="selector-tag">h6</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">    <span class="attribute">bottom</span>: <span class="number">1rem</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/****** #write Code Fences ******/</span></span><br><span class="line"><span class="selector-id">#write</span> <span class="selector-class">.md-fences</span> &#123;</span><br><span class="line">  -webkit-<span class="attribute">font-smoothing</span>: initial;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">1rem</span> <span class="number">0</span> <span class="number">1rem</span> <span class="number">0</span> <span class="meta">!important</span>;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">1.43rem</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">3px</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">0.95rem</span>;</span><br><span class="line">  <span class="attribute">word-wrap</span>: normal;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="selector-id">#write</span> <span class="selector-class">.CodeMirror-wrap</span> <span class="selector-class">.CodeMirror-code</span> pre &#123;</span><br><span class="line">  <span class="attribute">padding-left</span>: <span class="number">30px</span>;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">1.55rem</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#write</span> <span class="selector-class">.CodeMirror-cursors</span> <span class="selector-class">.CodeMirror-cursor</span> &#123;</span><br><span class="line">  <span class="attribute">border-left</span>: <span class="number">2px</span> solid <span class="built_in">var</span>(--code-cursor);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#write</span> <span class="selector-tag">code</span>,</span><br><span class="line">tt &#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">2px</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">4px</span> <span class="number">6px</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">6px</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">0.92rem</span> <span class="meta">!important</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#f5f7f9</span>;</span><br><span class="line">  <span class="attribute">display</span>: inline;</span><br><span class="line">  <span class="attribute">vertical-align</span>: bottom;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">1.8</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#write</span> <span class="selector-class">.md-footnote</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">var</span>(--main-<span class="number">5</span>);</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="built_in">var</span>(--main-<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.cm-s-inner</span><span class="selector-class">.CodeMirror</span>,</span><br><span class="line"><span class="selector-class">.cm-s-inner</span> <span class="selector-class">.CodeMirror-gutters</span> &#123;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0.75rem</span> <span class="number">0.15rem</span> <span class="number">0.75rem</span> <span class="number">0.15rem</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#183055</span> <span class="meta">!important</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#f8f8f2</span> <span class="meta">!important</span>;</span><br><span class="line">  <span class="attribute">border</span>: none;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">6px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="selector-class">.code-tooltip</span> &#123;</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">1px</span> <span class="number">1px</span> <span class="number">0</span> <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">28</span>, <span class="number">36</span>, .<span class="number">3</span>);</span><br><span class="line">  <span class="attribute">border-top</span>: <span class="number">1px</span> solid <span class="number">#eef2f2</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#183055</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">6px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.md-fences</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: .<span class="number">9rem</span>;</span><br><span class="line">  <span class="attribute">position</span>: relative <span class="meta">!important</span>;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">  <span class="attribute">page-break-inside</span>: avoid;</span><br><span class="line">  <span class="attribute">text-align</span>: left;</span><br><span class="line">  <span class="attribute">overflow</span>: visible;</span><br><span class="line">  <span class="attribute">white-space</span>: pre;</span><br><span class="line">  <span class="attribute">background</span>: inherit;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.md-fences</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#f8f8f8</span>;</span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="number">15px</span>;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">15px</span>;</span><br><span class="line">  <span class="attribute">padding-top</span>: <span class="number">8px</span>;</span><br><span class="line">  <span class="attribute">padding-bottom</span>: <span class="number">6px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.md-fences</span>,</span><br><span class="line">tt &#123;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">3px</span>;</span><br><span class="line">  <span class="comment">/* color: #f0f0f0; */</span></span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">0.9rem</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/****** Sidebar ******/</span></span><br><span class="line"><span class="selector-id">#typora-sidebar</span> * &#123;</span><br><span class="line">  <span class="comment">/* color: #f0f0f0; */</span></span><br><span class="line">  <span class="attribute">color</span>: white;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">code</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#3399CC</span><span class="meta">!important</span>;</span><br><span class="line">  <span class="attribute">font-weight</span>: <span class="number">700</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#typora-sidebar</span> <span class="selector-class">.file-tree-node</span><span class="selector-class">.file-library-file-node</span><span class="selector-class">.active</span> <span class="selector-class">.file-node-background</span> &#123;</span><br><span class="line">  <span class="attribute">border-left</span>: <span class="number">5px</span> solid <span class="number">#3884ff</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">2.2rem</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#sidebar-files-menu</span> &#123;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">0.7</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.file-list-item</span> &#123;</span><br><span class="line">  <span class="attribute">border-bottom</span>: <span class="built_in">var</span>(--window-border);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.file-list-item</span> &#123;</span><br><span class="line">  <span class="attribute">overflow</span>: hidden;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">12px</span>;</span><br><span class="line">  <span class="attribute">border-bottom</span>: <span class="number">1px</span> solid <span class="number">#eee</span>;</span><br><span class="line">  <span class="attribute">border-bottom</span>: <span class="built_in">var</span>(--window-border);</span><br><span class="line">  <span class="attribute">cursor</span>: pointer;</span><br><span class="line">  <span class="attribute">padding-right</span>: <span class="number">8px</span>;</span><br><span class="line">  <span class="attribute">padding-top</span>: <span class="number">12px</span>;</span><br><span class="line">  <span class="attribute">padding-left</span>: <span class="number">24px</span>;</span><br><span class="line">  <span class="attribute">transition</span>: top .<span class="number">5s</span>;</span><br><span class="line">  -webkit-<span class="attribute">transition</span>: top .<span class="number">5s</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.file-list-item</span><span class="selector-class">.active</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#2f4566</span>;</span><br><span class="line">  <span class="comment">/* background: var(--active-file-bg-color); */</span></span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">var</span>(--active-file-text-color);</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">12px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.file-list-item</span><span class="selector-pseudo">:not</span>(<span class="selector-class">.active</span>) &#123;</span><br><span class="line">  <span class="attribute">opacity</span>: .<span class="number">9</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.file-node-content</span> &#123;</span><br><span class="line">  <span class="attribute">padding-top</span>: <span class="number">6px</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">8px</span> <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">cursor</span>: default;</span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">var</span>(--control-text-color);</span><br><span class="line">  <span class="attribute">white-space</span>: nowrap;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">2.2rem</span>;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">1.5</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.ty-on-drag-enter</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#2f4566</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">var</span>(--item-hover-text-color);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.file-node-content</span><span class="selector-pseudo">:active</span> &#123;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">0px</span> <span class="meta">!important</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#2f4566</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.active</span> <span class="selector-class">.file-node-content</span> &#123;</span><br><span class="line">  <span class="attribute">font-weight</span>: bold;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.file-node-content</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">cursor</span>: pointer;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">0px</span> <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.file-node-icon</span>,</span><br><span class="line"><span class="selector-class">.file-node-open-state</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">  <span class="attribute">float</span>: left;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">1.5</span>;</span><br><span class="line">  <span class="attribute">min-height</span>: <span class="number">15px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.file-node-icon</span> &#123;</span><br><span class="line">  <span class="attribute">margin-right</span>: <span class="number">6px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.file-list-item-file-name</span> &#123;</span><br><span class="line">  <span class="attribute">font-weight</span>: <span class="number">700</span>;</span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="number">3px</span>;</span><br><span class="line">  <span class="attribute">white-space</span>: nowrap;</span><br><span class="line">  <span class="attribute">overflow</span>: hidden;</span><br><span class="line">  <span class="attribute">text-overflow</span>: ellipsis;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.sidebar-footer</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">var</span>(--side-bar-bg-color);</span><br><span class="line">  <span class="attribute">border-top</span>: <span class="number">1px</span> <span class="number">#555</span> solid;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.html-for-mac</span> <span class="selector-id">#file-library-search-input</span> &#123;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">border-bottom</span>: <span class="number">1px</span> solid <span class="number">#ccc</span>;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">16px</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">5px</span> <span class="number">16px</span> <span class="number">0px</span> <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="comment">/* -webkit-flex: 1; */</span></span><br><span class="line">  <span class="attribute">flex</span>: <span class="number">1</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">0</span> <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#bbc0ca</span> <span class="meta">!important</span>;</span><br><span class="line">  <span class="comment">/* transform: translateY(-3px); */</span></span><br><span class="line">  <span class="comment">/* overflow: auto; */</span></span><br><span class="line">  <span class="attribute">padding-top</span>: <span class="number">6px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#typora-sidebar</span> <span class="selector-id">#ty-sidebar-footer</span> <span class="selector-class">.sidebar-footer-item</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#021d43</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#typora-sidebar</span> <span class="selector-id">#outline-content</span> <span class="selector-class">.outline-item</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#202020</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#typora-sidebar</span> <span class="selector-id">#ty-sidebar-footer</span> <span class="selector-id">#sidebar-files-menu</span> <span class="selector-class">.show</span>+<span class="selector-class">.menuitem-group-label</span><span class="selector-class">.show</span> &#123;</span><br><span class="line">  <span class="attribute">border-color</span>: <span class="number">#202020</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#typora-sidebar</span> <span class="selector-id">#ty-sidebar-footer</span> &#123;</span><br><span class="line">  <span class="attribute">border-top</span>: <span class="number">1px</span> solid <span class="number">#19191c</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#typora-sidebar</span> <span class="selector-id">#ty-sidebar-footer</span> <span class="selector-id">#sidebar-files-menu</span> <span class="selector-tag">li</span>&gt;<span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#021d43</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#typora-sidebar</span> <span class="selector-id">#ty-sidebar-footer</span> <span class="selector-id">#sidebar-files-menu</span> <span class="selector-class">.ty-side-sort-btn</span><span class="selector-class">.active</span>,</span><br><span class="line"><span class="selector-id">#typora-sidebar</span> <span class="selector-id">#ty-sidebar-footer</span> <span class="selector-id">#sidebar-files-menu</span> <span class="selector-class">.ty-side-sort-btn</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#3884FF</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#typora-sidebar</span> <span class="selector-id">#ty-sidebar-footer</span> <span class="selector-id">#sidebar-files-menu</span> <span class="selector-class">.ty-side-sort-btn</span><span class="selector-class">.active</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#001129</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#typora-sidebar</span> <span class="selector-class">.file-list-item</span><span class="selector-class">.file-library-node</span><span class="selector-pseudo">:not</span>(<span class="selector-class">.active</span>)<span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#243959</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">12px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#typora-sidebar</span> <span class="selector-class">.file-tree-node</span><span class="selector-class">.file-library-file-node</span><span class="selector-pseudo">:not</span>(<span class="selector-class">.active</span>)<span class="selector-pseudo">:hover</span> <span class="selector-class">.file-node-background</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#243959</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">12px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">2.2rem</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/****** Quote style ******/</span></span><br><span class="line"><span class="selector-tag">blockquote</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="comment">/*  margin: 1rem 1 1rem 2rem; */</span></span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">1rem</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#827676</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#f5f7f9</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">6px</span>;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">blockquote</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0rem</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0rem</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">width</span>: .<span class="number">30rem</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#3884ff</span>;</span><br><span class="line">  <span class="attribute">border-top-left-radius</span>: <span class="number">6px</span>;</span><br><span class="line">  <span class="attribute">border-bottom-left-radius</span>: <span class="number">6px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/****** task list style ******/</span></span><br><span class="line"><span class="selector-class">.task-list</span> &#123;</span><br><span class="line">  <span class="attribute">padding-left</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.md-task-list-item</span>&gt;<span class="selector-tag">input</span> &#123;</span><br><span class="line">  <span class="attribute">top</span>: -<span class="number">0.2rem</span>;</span><br><span class="line">  <span class="attribute">margin-left</span>: -<span class="number">1.6rem</span>;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="built_in">calc</span>(<span class="number">1rem</span> + <span class="number">1px</span>);</span><br><span class="line">  -webkit-appearance: initial;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.md-task-list-item</span>&gt;<span class="selector-tag">input</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid<span class="number">#0185ff</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">1rem</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">1rem</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">1rem</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#fff</span>;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&#x27; &#x27;</span>;</span><br><span class="line">  <span class="attribute">transition</span>: background-color <span class="number">200ms</span> ease-in-out;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.md-task-list-item</span>&gt;<span class="selector-tag">input</span><span class="selector-pseudo">:checked</span><span class="selector-pseudo">:before</span>,</span><br><span class="line"><span class="selector-class">.md-task-list-item</span>&gt;<span class="selector-tag">input</span><span class="selector-attr">[checked]</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#0185ff</span>;</span><br><span class="line">  <span class="attribute">border-width</span>: <span class="number">1px</span>;</span><br><span class="line">  <span class="attribute">transition</span>: background-color <span class="number">200ms</span> ease-in-out;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.md-task-list-item</span>&gt;<span class="selector-tag">input</span><span class="selector-pseudo">:checked</span><span class="selector-pseudo">:after</span>,</span><br><span class="line"><span class="selector-class">.md-task-list-item</span>&gt;<span class="selector-tag">input</span><span class="selector-attr">[checked]</span><span class="selector-pseudo">:after</span> &#123;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.md-task-list-item</span>&gt;<span class="selector-tag">input</span><span class="selector-pseudo">:after</span> &#123;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">  -webkit-<span class="attribute">transition</span>: opacity <span class="number">0.05s</span> ease-in-out;</span><br><span class="line">  -moz-<span class="attribute">transition</span>: opacity <span class="number">0.05s</span> ease-in-out;</span><br><span class="line">  <span class="attribute">transition</span>: opacity <span class="number">0.05s</span> ease-in-out;</span><br><span class="line">  -webkit-<span class="attribute">transform</span>: <span class="built_in">rotate</span>(-<span class="number">45deg</span>);</span><br><span class="line">  -moz-<span class="attribute">transform</span>: <span class="built_in">rotate</span>(-<span class="number">45deg</span>);</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">rotate</span>(-<span class="number">45deg</span>);</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0.25rem</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0.19rem</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">0.6rem</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">0.375rem</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">2px</span> solid <span class="number">#fff</span>;</span><br><span class="line">  <span class="attribute">border-top</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">border-right</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&#x27; &#x27;</span>;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/****** Source style ******/</span></span><br><span class="line"><span class="selector-class">.typora-sourceview-on</span> <span class="selector-id">#write</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: none</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#typora-source</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: fixed;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">bottom</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: inherit;</span><br><span class="line">  <span class="attribute">padding-right</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">padding-left</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">padding-top</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">display</span>: none;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">1.5</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.mac-seamless-mode</span> <span class="selector-id">#typora-source</span> &#123;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">20px</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#typora-source</span> <span class="selector-class">.CodeMirror</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">overflow-x</span>: hidden</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#typora-source</span> <span class="selector-class">.CodeMirror-gutters</span> &#123;</span><br><span class="line">  <span class="attribute">left</span>: initial <span class="meta">!important</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#typora-source</span> <span class="selector-class">.CodeMirror-lines</span> &#123;</span><br><span class="line">  <span class="attribute">padding-top</span>: <span class="number">30px</span>;</span><br><span class="line">  <span class="attribute">padding-bottom</span>: <span class="number">60px</span>;</span><br><span class="line">  <span class="attribute">padding-left</span>: <span class="number">60px</span>;</span><br><span class="line">  <span class="attribute">padding-right</span>: <span class="number">30px</span>;</span><br><span class="line">  <span class="attribute">max-width</span>: <span class="number">800px</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span> auto</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#typora-source</span> <span class="selector-class">.CodeMirror-wrap</span> <span class="selector-class">.CodeMirror-scroll</span> &#123;</span><br><span class="line">  <span class="attribute">overflow-y</span>: auto</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.CodeMirror-activeline</span> <span class="selector-class">.cm-trailing-space-new-line</span><span class="selector-pseudo">:after</span> &#123;</span><br><span class="line">  <span class="attribute">opacity</span>: .<span class="number">6</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.CodeMirror-activeline</span> <span class="selector-class">.cm-starttab</span> <span class="selector-class">.cm-tab</span><span class="selector-pseudo">:after</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAMCAYAAAAkuj5RAAAAAXNSR0IArs4c6QAAAGFJREFUSMft1LsRQFAQheHPowAKoACx3IgEKtaEHujDjORSgWTH/ZOdnZOcM/sgk/kFFWY0qV8foQwS4MKBCS3qR6ixBJvElOobYAtivseIE120FaowJPN75GMu8j/LfMwNjh4HUpwg4LUAAAAASUVORK5CYII=</span>);</span><br><span class="line">  <span class="attribute">background-position</span>: right;</span><br><span class="line">  <span class="attribute">background-repeat</span>: no-repeat;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.CodeMirror-activeline</span> <span class="selector-class">.cm-startspace</span><span class="selector-pseudo">:after</span>,</span><br><span class="line"><span class="selector-class">.CodeMirror-activeline</span> <span class="selector-class">.cm-trailing-space-new-line</span><span class="selector-pseudo">:after</span> &#123;</span><br><span class="line">  <span class="attribute">opacity</span>: .<span class="number">2</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.cm-s-inner</span> <span class="selector-class">.CodeMirror-vscrollbar</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: none <span class="meta">!important</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#typora-source</span> <span class="selector-class">.CodeMirror-gutter-wrapper</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute <span class="meta">!important</span>;</span><br><span class="line">  <span class="attribute">left</span>: -<span class="number">6ch</span> <span class="meta">!important</span>;</span><br><span class="line">  <span class="attribute">min-width</span>: <span class="number">4ch</span> <span class="meta">!important</span>;</span><br><span class="line">  <span class="attribute">text-align</span>: right;</span><br><span class="line">  <span class="attribute">font-family</span>: monospace;</span><br><span class="line">  <span class="attribute">font-size</span>: .<span class="number">8rem</span>;</span><br><span class="line">  <span class="attribute">margin-top</span>: .<span class="number">1rem</span>;</span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">  <span class="attribute">opacity</span>: .<span class="number">6</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#typora-source</span> <span class="selector-class">.CodeMirror-linenumber</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: auto <span class="meta">!important</span>;</span><br><span class="line">  <span class="attribute">visibility</span>: hidden</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#typora-source</span> <span class="selector-class">.CodeMirror-sizer</span> &#123;</span><br><span class="line">  <span class="attribute">margin-left</span>: <span class="number">0</span> <span class="meta">!important</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#typora-source</span> <span class="selector-class">.CodeMirror-gutter</span> &#123;</span><br><span class="line">  <span class="attribute">min-width</span>: <span class="number">4ch</span> <span class="meta">!important</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#typora-source</span> <span class="selector-class">.CodeMirror-activeline</span> <span class="selector-class">.CodeMirror-linenumber</span>,</span><br><span class="line"><span class="selector-id">#typora-source</span> <span class="selector-class">.CodeMirror-linenumber</span><span class="selector-class">.CodeMirror-linenumber-show</span> &#123;</span><br><span class="line">  <span class="attribute">visibility</span>: visible</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#typora-source</span> <span class="selector-class">.CodeMirror-code</span>&gt;<span class="selector-class">.CodeMirror-activeline</span><span class="selector-pseudo">::before</span>,</span><br><span class="line"><span class="selector-id">#typora-source</span> <span class="selector-class">.CodeMirror-code</span>&gt;<span class="selector-pseudo">:first</span>-child<span class="selector-pseudo">::before</span>,</span><br><span class="line"><span class="selector-id">#typora-source</span> <span class="selector-class">.CodeMirror-code</span>&gt;<span class="selector-pseudo">:last-child</span><span class="selector-pseudo">::before</span>,</span><br><span class="line"><span class="selector-id">#typora-source</span> <span class="selector-class">.CodeMirror-code</span>&gt;<span class="selector-pseudo">:nth-child</span>(<span class="number">10</span>n)<span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">visibility</span>: visible</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.cm-s-typora-default</span> <span class="selector-class">.cm-header1</span><span class="selector-pseudo">:not</span>(<span class="selector-class">.cm-atom</span>)<span class="selector-pseudo">:not</span>(<span class="selector-class">.cm-s-inner</span>) &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">2.2rem</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.cm-s-typora-default</span> <span class="selector-class">.cm-header2</span><span class="selector-pseudo">:not</span>(<span class="selector-class">.cm-atom</span>)<span class="selector-pseudo">:not</span>(<span class="selector-class">.cm-s-inner</span>) &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">2rem</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.cm-s-typora-default</span> <span class="selector-class">.cm-header3</span><span class="selector-pseudo">:not</span>(<span class="selector-class">.cm-atom</span>)<span class="selector-pseudo">:not</span>(<span class="selector-class">.cm-s-inner</span>) &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">1.6rem</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.cm-s-typora-default</span> <span class="selector-class">.cm-header4</span><span class="selector-pseudo">:not</span>(<span class="selector-class">.cm-atom</span>)<span class="selector-pseudo">:not</span>(<span class="selector-class">.cm-s-inner</span>) &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">1.4rem</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.cm-s-typora-default</span> <span class="selector-class">.cm-header5</span><span class="selector-pseudo">:not</span>(<span class="selector-class">.cm-atom</span>)<span class="selector-pseudo">:not</span>(<span class="selector-class">.cm-s-inner</span>) &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">1.2rem</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.cm-s-typora-default</span> <span class="selector-class">.cm-header6</span><span class="selector-pseudo">:not</span>(<span class="selector-class">.cm-atom</span>)<span class="selector-pseudo">:not</span>(<span class="selector-class">.cm-s-inner</span>) &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">1.2rem</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.cm-s-typora-default</span> <span class="selector-class">.cm-header</span>,</span><br><span class="line"><span class="selector-class">.cm-s-typora-default</span> <span class="selector-class">.cm-property</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#183055</span> <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">pre<span class="selector-class">.CodeMirror-line</span> &#123;</span><br><span class="line">  <span class="attribute">page-break-inside</span>: avoid;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/****** Code style ******/</span></span><br><span class="line"><span class="selector-tag">code</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: .<span class="number">9rem</span>;</span><br><span class="line">  <span class="comment">/*   color: #333333; /*  #537AA2;  </span></span><br><span class="line"><span class="comment">      border: 1px solid #d0d0d0;  */</span></span><br><span class="line">  <span class="attribute">font-family</span>: <span class="string">&#x27;Cascadia Code&#x27;</span>, Consolas, <span class="string">&#x27;Noto Sans SC&#x27;</span>, <span class="string">&#x27;Courier New&#x27;</span>, monospace;</span><br><span class="line">  <span class="attribute">padding</span>: .<span class="number">2rem</span> .<span class="number">2rem</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">3px</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#f5f7f9</span> <span class="meta">!important</span>;</span><br><span class="line">  <span class="attribute">display</span>: inline;</span><br><span class="line">  <span class="attribute">vertical-align</span>: bottom;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">1.8</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">code</span>,</span><br><span class="line">pre &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">95%</span> <span class="meta">!important</span>;</span><br><span class="line">  <span class="attribute">font-weight</span>: normal;</span><br><span class="line">  <span class="attribute">font-family</span>: <span class="string">&#x27;Cascadia Code&#x27;</span>, Consolas, <span class="string">&#x27;Noto Sans SC&#x27;</span>, <span class="string">&#x27;Courier New&#x27;</span>, monospace;</span><br><span class="line">  -webkit-<span class="attribute">font-smoothing</span>: initial;</span><br><span class="line">  -moz-osx-<span class="attribute">font-smoothing</span>: initial</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/****** The flow chart ******/</span></span><br><span class="line">pre<span class="selector-class">.md-fences</span><span class="selector-attr">[lang=sequence]</span><span class="selector-class">.md-focus</span> <span class="selector-class">.md-diagram-panel</span>,</span><br><span class="line">pre<span class="selector-class">.md-fences</span><span class="selector-attr">[lang=flow]</span><span class="selector-class">.md-focus</span> <span class="selector-class">.md-diagram-panel</span>,</span><br><span class="line">pre<span class="selector-class">.md-fences</span><span class="selector-attr">[lang=mermaid]</span><span class="selector-class">.md-focus</span> <span class="selector-class">.md-diagram-panel</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: -webkit-sticky;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#777</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">6px</span>;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">6px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.code-tooltip</span> <span class="selector-class">.ty-input</span>,</span><br><span class="line"><span class="selector-class">.code-tooltip</span> <span class="selector-tag">input</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: transparent;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">2px</span>;</span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="number">2px</span>;</span><br><span class="line">  <span class="attribute">margin-left</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">margin-right</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">3px</span>;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">  <span class="attribute">min-width</span>: <span class="number">140px</span>;</span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">4px</span>;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">1.5</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.enable-diagrams</span> pre<span class="selector-class">.md-fences</span><span class="selector-attr">[lang=sequence]</span> <span class="selector-class">.code-tooltip</span>,</span><br><span class="line"><span class="selector-class">.enable-diagrams</span> pre<span class="selector-class">.md-fences</span><span class="selector-attr">[lang=flow]</span> <span class="selector-class">.code-tooltip</span>,</span><br><span class="line"><span class="selector-class">.enable-diagrams</span> pre<span class="selector-class">.md-fences</span><span class="selector-attr">[lang=mermaid]</span> <span class="selector-class">.code-tooltip</span> &#123;</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">8px</span>;</span><br><span class="line">  <span class="attribute">bottom</span>: -<span class="number">2.2em</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/****** Windows contral ******/</span></span><br><span class="line"><span class="selector-class">.megamenu-menu-list</span> <span class="selector-tag">li</span> <span class="selector-tag">a</span><span class="selector-class">.active</span>,</span><br><span class="line"><span class="selector-class">.megamenu-menu-list</span><span class="selector-pseudo">:not</span>(<span class="selector-class">.saved</span>) <span class="selector-tag">li</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#285e8e</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/****** Fix ******/</span></span><br><span class="line"><span class="selector-class">.md-tab</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">  <span class="attribute">white-space</span>: pre;</span><br><span class="line">  <span class="attribute">font-family</span>: initial;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">div</span><span class="selector-class">.md-mathjax-preview</span><span class="selector-class">.mathjax-candidate</span><span class="selector-class">.mathjax-candidate-show</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: white <span class="meta">!important</span>;</span><br><span class="line">  -webkit-user-modify: read-only;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.mathjax-candidate</span> &#123;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">  <span class="attribute">padding-top</span>: inherit;</span><br><span class="line">  <span class="attribute">overflow-x</span>: auto;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">10px</span> <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: white;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">input</span> &#123;</span><br><span class="line">  <span class="attribute">font-weight</span>: bold;</span><br><span class="line">  <span class="attribute">background-color</span>: inherit;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="built_in">var</span>(--bg-color);</span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">var</span>(--text-color) <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#write</span> <span class="selector-tag">input</span> &#123;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translateY</span>(-<span class="number">6.5px</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.task-list</span> &#123;</span><br><span class="line">  <span class="attribute">padding-left</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.md-task-list-item</span>&gt;<span class="selector-tag">input</span> &#123;</span><br><span class="line">  <span class="attribute">top</span>: -<span class="number">0.2rem</span>;</span><br><span class="line">  <span class="attribute">margin-left</span>: -<span class="number">1.6rem</span>;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="built_in">calc</span>(<span class="number">1rem</span> + <span class="number">1px</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.auto-suggest-container</span> <span class="selector-tag">li</span> &#123;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">1px</span>;</span><br><span class="line">  <span class="attribute">padding-left</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">padding-right</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">cursor</span>: pointer;</span><br><span class="line">  -webkit-user-select: none;</span><br><span class="line">  user-select: none;</span><br><span class="line">  <span class="attribute">min-width</span>: <span class="number">124px</span>;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">1.4</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.auto-suggest-container</span> &#123;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#ddd</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">3px</span>;</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">1px</span> <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, .<span class="number">1</span>);</span><br><span class="line">  <span class="attribute">position</span>: fixed;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#fff</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="built_in">var</span>(--bg-color);</span><br><span class="line">  <span class="attribute">z-index</span>: <span class="number">10</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: .<span class="number">9rem</span>;</span><br><span class="line">  <span class="attribute">display</span>: none;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">4px</span> <span class="number">6px</span> <span class="number">4px</span> <span class="number">6px</span>;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/****** Code highlight ******/</span></span><br><span class="line"><span class="selector-class">.cm-s-inner</span> <span class="selector-class">.CodeMirror-guttermarker</span>,</span><br><span class="line"><span class="selector-class">.cm-s-inner</span> <span class="selector-class">.CodeMirror-guttermarker-subtle</span>,</span><br><span class="line"><span class="selector-class">.cm-s-inner</span> <span class="selector-class">.CodeMirror-linenumber</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#596774</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.cm-s-inner</span> <span class="selector-class">.CodeMirror-cursor</span> &#123;</span><br><span class="line">  <span class="attribute">border-left</span>: <span class="number">1px</span> solid <span class="number">#f8f8f0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.cm-s-inner</span> <span class="selector-tag">div</span><span class="selector-class">.CodeMirror-selected</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.15</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.cm-s-inner</span><span class="selector-class">.CodeMirror-focused</span> <span class="selector-tag">div</span><span class="selector-class">.CodeMirror-selected</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.10</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.cm-s-inner</span> <span class="selector-class">.CodeMirror-line</span><span class="selector-pseudo">::selection</span>,</span><br><span class="line"><span class="selector-class">.cm-s-inner</span> <span class="selector-class">.CodeMirror-line</span>&gt;<span class="selector-tag">span</span><span class="selector-pseudo">::selection</span>,</span><br><span class="line"><span class="selector-class">.cm-s-inner</span> <span class="selector-class">.CodeMirror-line</span>&gt;<span class="selector-tag">span</span>&gt;<span class="selector-tag">span</span><span class="selector-pseudo">::selection</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.10</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.cm-s-inner</span> <span class="selector-class">.CodeMirror-line</span>::-moz-selection,</span><br><span class="line">.cm-s-inner .CodeMirror-line&gt;span::-moz-selection,</span><br><span class="line">.cm-s-inner .CodeMirror-line&gt;span&gt;span::-moz-selection &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.10</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.cm-s-inner</span> <span class="selector-class">.CodeMirror-activeline-background</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.cm-s-inner</span> <span class="selector-class">.cm-keyword</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">rgba</span>(<span class="number">199</span>, <span class="number">146</span>, <span class="number">234</span>, <span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.cm-s-inner</span> <span class="selector-class">.cm-operator</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">rgba</span>(<span class="number">233</span>, <span class="number">237</span>, <span class="number">237</span>, <span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.cm-s-inner</span> <span class="selector-class">.cm-variable-2</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#80CBC4</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.cm-s-inner</span> <span class="selector-class">.cm-variable-3</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#82B1FF</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.cm-s-inner</span> <span class="selector-class">.cm-builtin</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#DECB6B</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.cm-s-inner</span> <span class="selector-class">.cm-atom</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#F77669</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.cm-s-inner</span> <span class="selector-class">.cm-number</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#F77669</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.cm-s-inner</span> <span class="selector-class">.cm-def</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">rgba</span>(<span class="number">233</span>, <span class="number">237</span>, <span class="number">237</span>, <span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.cm-s-inner</span> <span class="selector-class">.cm-string</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#C3E88D</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.cm-s-inner</span> <span class="selector-class">.cm-string-2</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#80CBC4</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.cm-s-inner</span> <span class="selector-class">.cm-comment</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#aebcc2</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.cm-s-inner</span> <span class="selector-class">.cm-variable</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#82B1FF</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.cm-s-inner</span> <span class="selector-class">.cm-tag</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#80CBC4</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.cm-s-inner</span> <span class="selector-class">.cm-meta</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#80CBC4</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.cm-s-inner</span> <span class="selector-class">.cm-attribute</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#FFCB6B</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.cm-s-inner</span> <span class="selector-class">.cm-property</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#80CBAE</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.cm-s-inner</span> <span class="selector-class">.cm-qualifier</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#DECB6B</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.cm-s-inner</span> <span class="selector-class">.cm-variable-3</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#DECB6B</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.cm-s-inner</span> <span class="selector-class">.cm-tag</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">83</span>, <span class="number">112</span>, <span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.cm-s-inner</span> <span class="selector-class">.cm-error</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">1.0</span>);</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#EC5F67</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.cm-s-inner</span> <span class="selector-class">.CodeMirror-matchingbracket</span> &#123;</span><br><span class="line">  <span class="attribute">text-decoration</span>: underline;</span><br><span class="line">  <span class="attribute">color</span>: white <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.cm-s-inner</span> <span class="selector-class">.cm-header</span>,</span><br><span class="line"><span class="selector-class">.cm-s-inner</span><span class="selector-class">.cm-header</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#334EEA</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.md-fences</span> <span class="selector-class">.code-tooltip</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#263238</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> æ‰‹å†Œ </category>
          
          <category> ä¸ªäººé…ç½® </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ‰‹å†Œ </tag>
            
            <tag> è‡ªå®šä¹‰ </tag>
            
            <tag> themes </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å‡½æ•°å£°æ˜</title>
      <link href="/%E6%89%8B%E5%86%8C/%E4%B8%AA%E4%BA%BA%E9%85%8D%E7%BD%AE/%E5%87%BD%E6%95%B0%E6%96%87%E4%BB%B6TODO%E5%A3%B0%E6%98%8E/"/>
      <url>/%E6%89%8B%E5%86%8C/%E4%B8%AA%E4%BA%BA%E9%85%8D%E7%BD%AE/%E5%87%BD%E6%95%B0%E6%96%87%E4%BB%B6TODO%E5%A3%B0%E6%98%8E/</url>
      
        <content type="html"><![CDATA[<h1 id="å‡½æ•°å£°æ˜"><a href="#å‡½æ•°å£°æ˜" class="headerlink" title="å‡½æ•°å£°æ˜"></a>å‡½æ•°å£°æ˜</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">/*</span><br><span class="line">* @fn           $MethodName$</span><br><span class="line">* @brief        </span><br><span class="line">* @param[in]    </span><br><span class="line">* @param[out]   </span><br><span class="line">* @return       </span><br><span class="line">*               </span><br><span class="line">* @detail      </span><br><span class="line">*/</span><br></pre></td></tr></table></figure><h1 id="æ–‡ä»¶å£°æ˜"><a href="#æ–‡ä»¶å£°æ˜" class="headerlink" title="æ–‡ä»¶å£°æ˜"></a>æ–‡ä»¶å£°æ˜</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">/********************************************************************************</span><br><span class="line"> *</span><br><span class="line"> *        Copyright (C) 2022 QIANXIN</span><br><span class="line"> *        All rights reserved</span><br><span class="line"> *</span><br><span class="line"> *        filename:    $FILE$</span><br><span class="line"> *        description: </span><br><span class="line"> *</span><br><span class="line"> *        created by  shi.mingming on $DATE$</span><br><span class="line"> *</span><br><span class="line"> ********************************************************************************/</span><br></pre></td></tr></table></figure><h1 id="TODO"><a href="#TODO" class="headerlink" title="TODO"></a>TODO</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">// TODO(shimingming@qianxin.com): what: when:? how:ï¼Ÿ</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> æ‰‹å†Œ </category>
          
          <category> ä¸ªäººé…ç½® </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ‰‹å†Œ </tag>
            
            <tag> é…ç½® </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Wikiè‡ªåŠ¨æ›´æ–°è„šæœ¬</title>
      <link href="/%E6%89%8B%E5%86%8C/%E4%B8%AA%E4%BA%BA%E9%85%8D%E7%BD%AE/%E8%87%AA%E5%8A%A8%E6%8F%90%E4%BA%A4%E8%84%9A%E6%9C%AC/"/>
      <url>/%E6%89%8B%E5%86%8C/%E4%B8%AA%E4%BA%BA%E9%85%8D%E7%BD%AE/%E8%87%AA%E5%8A%A8%E6%8F%90%E4%BA%A4%E8%84%9A%E6%9C%AC/</url>
      
        <content type="html"><![CDATA[<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">@echo off</span><br><span class="line">:reInput</span><br><span class="line"></span><br><span class="line">echo                                      Gitè‡ªåŠ¨æ›´æ–°è„šæœ¬ï¼ˆè¾“å…¥åºå·é€‰æ‹©å‘½ä»¤ï¼‰</span><br><span class="line">echo ===================================================================================</span><br><span class="line">echo 1 ï¼ˆ:memo: æ›´æ–°æ–‡æ¡£ï¼‰</span><br><span class="line">echo 2 ï¼ˆ:fire:ï¼‰</span><br><span class="line">echo 3 ï¼ˆ:wrench: éƒ¨ç½²ï¼‰</span><br><span class="line">echo 4 ï¼ˆ:bug:ï¼‰</span><br><span class="line">echo 5 ï¼ˆæ‰‹åŠ¨æ·»åŠ commitä¿¡æ¯ï¼‰</span><br><span class="line">echo ===================================================================================</span><br><span class="line">echo.</span><br><span class="line"></span><br><span class="line">echo=</span><br><span class="line">choice /c:12345 /m:&quot;è¯·è¾“å…¥Git æ•°å­—å‘½ä»¤æ›´æ–°å˜åŠ¨ï¼š&quot;</span><br><span class="line">if %errorlevel% == 1 set change=&quot;:memo: æ›´æ–°æ–‡æ¡£&quot;</span><br><span class="line">if %errorlevel% == 2 set change=&quot;:bug:&quot;</span><br><span class="line">if %errorlevel% == 3 set change=&quot;:wrench: éƒ¨ç½²&quot;</span><br><span class="line">if %errorlevel% == 4 set change=&quot;:bug:&quot;</span><br><span class="line">if %errorlevel% == 5 set /p change=&quot;è¯·è¾“å…¥Commitä¿¡æ¯ï¼š&quot;</span><br><span class="line"></span><br><span class="line">if %change%==&quot;&quot; (</span><br><span class="line">cls</span><br><span class="line">echo -------</span><br><span class="line">echo æäº¤ä¿¡æ¯ä¸èƒ½ä¸ºç©ºï¼</span><br><span class="line">echo -------</span><br><span class="line">goto reInput </span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">echo.</span><br><span class="line"></span><br><span class="line">:: cd &quot;D:\\wiki\\&quot;</span><br><span class="line"></span><br><span class="line">git pull</span><br><span class="line"></span><br><span class="line">git add .</span><br><span class="line"></span><br><span class="line">git commit -m %change%</span><br><span class="line"></span><br><span class="line">git push</span><br><span class="line"></span><br><span class="line">echo.</span><br><span class="line">echo ===================================================================================</span><br><span class="line">echo                                      æ›´æ–°å®Œæ¯•</span><br><span class="line">echo.</span><br><span class="line">title &quot; update SUCCESS&quot;</span><br><span class="line">pause</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> æ‰‹å†Œ </category>
          
          <category> ä¸ªäººé…ç½® </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ‰‹å†Œ </tag>
            
            <tag> è‡ªå®šä¹‰ </tag>
            
            <tag> Config </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>winDbg è°ƒè¯•æ‰‹å†Œ</title>
      <link href="/%E6%89%8B%E5%86%8C/WinDbg/%E8%B0%83%E8%AF%95%E6%89%8B%E5%86%8C/"/>
      <url>/%E6%89%8B%E5%86%8C/WinDbg/%E8%B0%83%E8%AF%95%E6%89%8B%E5%86%8C/</url>
      
        <content type="html"><![CDATA[<blockquote><p>ç›¸å…³å·¥å…·æ•´ç†ï¼š</p><ol><li>API Monitor</li><li>PCHunterå·¥å…·</li><li>windbgè„šæœ¬</li></ol></blockquote><p>åˆ†æ32ä½</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.load wow64exts</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> æ‰‹å†Œ </category>
          
          <category> WinDbg </category>
          
      </categories>
      
      
        <tags>
            
            <tag> windbg </tag>
            
            <tag> è°ƒè¯• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>3-hexo ä¸»é¢˜å¿«æ·é”®</title>
      <link href="/%E6%89%8B%E5%86%8C/%E4%B8%AA%E4%BA%BA%E9%85%8D%E7%BD%AE/3-hexo%E4%B8%BB%E9%A2%98%E5%BF%AB%E6%8D%B7%E9%94%AE/"/>
      <url>/%E6%89%8B%E5%86%8C/%E4%B8%AA%E4%BA%BA%E9%85%8D%E7%BD%AE/3-hexo%E4%B8%BB%E9%A2%98%E5%BF%AB%E6%8D%B7%E9%94%AE/</url>
      
        <content type="html"><![CDATA[<p>å¿«æ·é”®ä¸ºvimé£æ ¼çš„ã€‚æŒ‰é”®å¯èƒ½ä¸vimiumï¼ˆchromeæ’ä»¶ï¼‰çš„å¿«æ·é”®æœ‰å†²çªï¼Œæ’ä»¶è®¾ç½®å±è”½æ‰æ­¤ç«™çš„å¿«æ·é”®å³å¯</p><h2 id="è¯´æ˜"><a href="#è¯´æ˜" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h2><h3 id="å…¨å±€"><a href="#å…¨å±€" class="headerlink" title="å…¨å±€"></a>å…¨å±€</h3><table><thead><tr><th align="left">Key</th><th align="left">Descption</th></tr></thead><tbody><tr><td align="left">s&#x2F;S</td><td align="left">å…¨å±&#x2F;å–æ¶ˆå…¨å±</td></tr><tr><td align="left">w&#x2F;W</td><td align="left">æ‰“å¼€&#x2F;å…³é—­æ–‡ç« ç›®å½•</td></tr><tr><td align="left">i&#x2F;I</td><td align="left">è·å–æœç´¢æ¡†ç„¦ç‚¹</td></tr><tr><td align="left">j&#x2F;J</td><td align="left">å‘ä¸‹æ»‘åŠ¨</td></tr><tr><td align="left">k&#x2F;K</td><td align="left">å‘ä¸Šæ»‘åŠ¨</td></tr><tr><td align="left">gg&#x2F;GG</td><td align="left">åˆ°æœ€é¡¶ç«¯</td></tr><tr><td align="left">shift+G&#x2F;g</td><td align="left">åˆ°æœ€ä¸‹ç«¯</td></tr></tbody></table><h3 id="æœç´¢æ¡†"><a href="#æœç´¢æ¡†" class="headerlink" title="æœç´¢æ¡†"></a>æœç´¢æ¡†</h3><table><thead><tr><th align="left">Key</th><th align="left">Descption</th></tr></thead><tbody><tr><td align="left">ESC</td><td align="left">1.å¦‚æœè¾“å…¥æ¡†æœ‰å†…å®¹ï¼Œæ¸…é™¤å†…å®¹ 2.å¦‚æœè¾“å…¥æ¡†æ— å†…å®¹ï¼Œå¤±å»ç„¦ç‚¹</td></tr><tr><td align="left">ä¸‹</td><td align="left">å‘ä¸‹é€‰æ‹©æ–‡ç« </td></tr><tr><td align="left">ä¸Š</td><td align="left">å‘ä¸Šé€‰æ‹©æ–‡ç« </td></tr><tr><td align="left">å›è½¦</td><td align="left">æ‰“å¼€å½“å‰é€‰ä¸­çš„æ–‡ç« ï¼Œè‹¥æ²¡æœ‰ï¼Œåˆ™é»˜è®¤æ‰“å¼€ç¬¬ä¸€ä¸ª</td></tr></tbody></table><h3 id="å…³é—­å¿«æ·é”®"><a href="#å…³é—­å¿«æ·é”®" class="headerlink" title="å…³é—­å¿«æ·é”®"></a>å…³é—­å¿«æ·é”®</h3><p>åœ¨ä¸»é¢˜ä¸‹ <code>_config.yml</code> ä¸­ æ‰¾åˆ° <code>shortcutKey</code> è®¾ä¸º <code>false</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">shortcutKey: false</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> æ‰‹å†Œ </category>
          
          <category> ä¸ªäººé…ç½® </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> å¿«æ·é”® </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Typora Emoji</title>
      <link href="/%E6%89%8B%E5%86%8C/Typora%20Emoji/"/>
      <url>/%E6%89%8B%E5%86%8C/Typora%20Emoji/</url>
      
        <content type="html"><![CDATA[<p>[toc]</p><h1 id="People"><a href="#People" class="headerlink" title="People"></a>People</h1><table><thead><tr><th>ğŸ˜„ <code>:smile:</code></th><th>ğŸ˜† <code>:laughing:</code></th><th></th></tr></thead><tbody><tr><td>ğŸ˜Š <code>:blush:</code></td><td>ğŸ˜ƒ <code>:smiley:</code></td><td>â˜ºï¸ <code>:relaxed:</code></td></tr><tr><td>ğŸ˜ <code>:smirk:</code></td><td>ğŸ˜ <code>:heart_eyes:</code></td><td>ğŸ˜˜ <code>:kissing_heart:</code></td></tr><tr><td>ğŸ˜š <code>:kissing_closed_eyes:</code></td><td>ğŸ˜³ <code>:flushed:</code></td><td>ğŸ˜Œ <code>:relieved:</code></td></tr><tr><td>ğŸ˜† <code>:satisfied:</code></td><td>ğŸ˜ <code>:grin:</code></td><td>ğŸ˜‰ <code>:wink:</code></td></tr><tr><td>ğŸ˜œ <code>:stuck_out_tongue_winking_eye:</code></td><td>ğŸ˜ <code>:stuck_out_tongue_closed_eyes:</code></td><td>ğŸ˜€ <code>:grinning:</code></td></tr><tr><td>ğŸ˜— <code>:kissing:</code></td><td>ğŸ˜™ <code>:kissing_smiling_eyes:</code></td><td>ğŸ˜› <code>:stuck_out_tongue:</code></td></tr><tr><td>ğŸ˜´ <code>:sleeping:</code></td><td>ğŸ˜Ÿ <code>:worried:</code></td><td>ğŸ˜¦ <code>:frowning:</code></td></tr><tr><td>ğŸ˜§ <code>:anguished:</code></td><td>ğŸ˜® <code>:open_mouth:</code></td><td>ğŸ˜¬ <code>:grimacing:</code></td></tr><tr><td>ğŸ˜• <code>:confused:</code></td><td>ğŸ˜¯ <code>:hushed:</code></td><td>ğŸ˜‘ <code>:expressionless:</code></td></tr><tr><td>ğŸ˜’ <code>:unamused:</code></td><td>ğŸ˜… <code>:sweat_smile:</code></td><td>ğŸ˜“ <code>:sweat:</code></td></tr><tr><td>ğŸ˜¥ <code>:disappointed_relieved:</code></td><td>ğŸ˜© <code>:weary:</code></td><td>ğŸ˜” <code>:pensive:</code></td></tr><tr><td>ğŸ˜ <code>:disappointed:</code></td><td>ğŸ˜– <code>:confounded:</code></td><td>ğŸ˜¨ <code>:fearful:</code></td></tr><tr><td>ğŸ˜° <code>:cold_sweat:</code></td><td>ğŸ˜£ <code>:persevere:</code></td><td>ğŸ˜¢ <code>:cry:</code></td></tr><tr><td>ğŸ˜­ <code>:sob:</code></td><td>ğŸ˜‚ <code>:joy:</code></td><td>ğŸ˜² <code>:astonished:</code></td></tr><tr><td>ğŸ˜± <code>:scream:</code></td><td>ğŸ˜« <code>:tired_face:</code></td><td></td></tr><tr><td>ğŸ˜  <code>:angry:</code></td><td>ğŸ˜¡ <code>:rage:</code></td><td>ğŸ˜¤ <code>:triumph:</code></td></tr><tr><td>ğŸ˜ª <code>:sleepy:</code></td><td>ğŸ˜‹ <code>:yum:</code></td><td>ğŸ˜· <code>:mask:</code></td></tr><tr><td>ğŸ˜ <code>:sunglasses:</code></td><td>ğŸ˜µ <code>:dizzy_face:</code></td><td>ğŸ‘¿ <code>:imp:</code></td></tr></tbody></table><p>æ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯</p><table><thead><tr><th>ğŸ˜ˆ <code>:smiling_imp:</code></th><th>ğŸ˜ <code>:neutral_face:</code></th><th>ğŸ˜¶ <code>:no_mouth:</code></th></tr></thead><tbody><tr><td>ğŸ˜‡ <code>:innocent:</code></td><td>ğŸ‘½ <code>:alien:</code></td><td>ğŸ’› <code>:yellow_heart:</code></td></tr><tr><td>ğŸ’™ <code>:blue_heart:</code></td><td>ğŸ’œ <code>:purple_heart:</code></td><td>â¤ï¸ <code>:heart:</code></td></tr><tr><td>ğŸ’š <code>:green_heart:</code></td><td>ğŸ’” <code>:broken_heart:</code></td><td>ğŸ’“ <code>:heartbeat:</code></td></tr><tr><td>ğŸ’— <code>:heartpulse:</code></td><td>ğŸ’• <code>:two_hearts:</code></td><td>ğŸ’ <code>:revolving_hearts:</code></td></tr><tr><td>ğŸ’˜ <code>:cupid:</code></td><td>ğŸ’– <code>:sparkling_heart:</code></td><td>âœ¨ <code>:sparkles:</code></td></tr><tr><td>â­ï¸ <code>:star:</code></td><td>ğŸŒŸ <code>:star2:</code></td><td>ğŸ’« <code>:dizzy:</code></td></tr><tr><td>ğŸ’¥ <code>:boom:</code></td><td>ğŸ’¥ <code>:collision:</code></td><td>ğŸ’¢ <code>:anger:</code></td></tr><tr><td>â—ï¸ <code>:exclamation:</code></td><td>â“ <code>:question:</code></td><td>â• <code>:grey_exclamation:</code></td></tr><tr><td>â” <code>:grey_question:</code></td><td>ğŸ’¤ <code>:zzz:</code></td><td>ğŸ’¨ <code>:dash:</code></td></tr><tr><td>ğŸ’¦ <code>:sweat_drops:</code></td><td>ğŸ¶ <code>:notes:</code></td><td>ğŸµ <code>:musical_note:</code></td></tr><tr><td>ğŸ”¥ <code>:fire:</code></td><td>ğŸ’© <code>:hankey:</code></td><td>ğŸ’© <code>:poop:</code></td></tr><tr><td>ğŸ’© <code>:shit:</code></td><td>ğŸ‘ <code>:+1:</code></td><td>ğŸ‘ <code>:thumbsup:</code></td></tr><tr><td>ğŸ‘ <code>:-1:</code></td><td>ğŸ‘ <code>:thumbsdown:</code></td><td>ğŸ‘Œ <code>:ok_hand:</code></td></tr><tr><td>ğŸ‘Š <code>:punch:</code></td><td>ğŸ‘Š <code>:facepunch:</code></td><td>âœŠ <code>:fist:</code></td></tr><tr><td>âœŒï¸ <code>:v:</code></td><td>ğŸ‘‹ <code>:wave:</code></td><td>âœ‹ <code>:hand:</code></td></tr><tr><td>âœ‹ <code>:raised_hand:</code></td><td>ğŸ‘ <code>:open_hands:</code></td><td>â˜ï¸ <code>:point_up:</code></td></tr><tr><td>ğŸ‘‡ <code>:point_down:</code></td><td>ğŸ‘ˆ <code>:point_left:</code></td><td>ğŸ‘‰ <code>:point_right:</code></td></tr><tr><td>ğŸ™Œ <code>:raised_hands:</code></td><td>ğŸ™ <code>:pray:</code></td><td>ğŸ‘† <code>:point_up_2:</code></td></tr><tr><td>ğŸ‘ <code>:clap:</code></td><td>ğŸ’ª <code>:muscle:</code></td><td>ğŸ¤˜ <code>:metal:</code></td></tr><tr><td>ğŸ–• <code>:fu:</code></td><td>ğŸš¶ <code>:walking:</code></td><td>ğŸƒ <code>:runner:</code></td></tr><tr><td>ğŸƒ <code>:running:</code></td><td>ğŸ‘« <code>:couple:</code></td><td>ğŸ‘ª <code>:family:</code></td></tr><tr><td>ğŸ‘¬ <code>:two_men_holding_hands:</code></td><td>ğŸ‘­ <code>:two_women_holding_hands:</code></td><td>ğŸ’ƒ <code>:dancer:</code></td></tr><tr><td>ğŸ‘¯ <code>:dancers:</code></td><td>ğŸ™† <code>:ok_woman:</code></td><td>ğŸ™… <code>:no_good:</code></td></tr><tr><td>ğŸ’ <code>:information_desk_person:</code></td><td>ğŸ™‹ <code>:raising_hand:</code></td><td>ğŸ‘° <code>:bride_with_veil:</code></td></tr><tr><td>ğŸ™ <code>:person_with_pouting_face:</code></td><td>ğŸ™ <code>:person_frowning:</code></td><td>ğŸ™‡ <code>:bow:</code></td></tr><tr><td>ğŸ’ <code>:couplekiss:</code></td><td>ğŸ’‘ <code>:couple_with_heart:</code></td><td>ğŸ’† <code>:massage:</code></td></tr><tr><td>ğŸ’‡ <code>:haircut:</code></td><td>ğŸ’… <code>:nail_care:</code></td><td>ğŸ‘¦ <code>:boy:</code></td></tr><tr><td>ğŸ‘§ <code>:girl:</code></td><td>ğŸ‘© <code>:woman:</code></td><td>ğŸ‘¨ <code>:man:</code></td></tr><tr><td>ğŸ‘¶ <code>:baby:</code></td><td>ğŸ‘µ <code>:older_woman:</code></td><td>ğŸ‘´ <code>:older_man:</code></td></tr><tr><td>ğŸ‘± <code>:person_with_blond_hair:</code></td><td>ğŸ‘² <code>:man_with_gua_pi_mao:</code></td><td>ğŸ‘³ <code>:man_with_turban:</code></td></tr><tr><td>ğŸ‘· <code>:construction_worker:</code></td><td>ğŸ‘® <code>:cop:</code></td><td>ğŸ‘¼ <code>:angel:</code></td></tr><tr><td>ğŸ‘¸ <code>:princess:</code></td><td>ğŸ˜º <code>:smiley_cat:</code></td><td>ğŸ˜¸ <code>:smile_cat:</code></td></tr><tr><td>ğŸ˜» <code>:heart_eyes_cat:</code></td><td>ğŸ˜½ <code>:kissing_cat:</code></td><td>ğŸ˜¼ <code>:smirk_cat:</code></td></tr><tr><td>ğŸ™€ <code>:scream_cat:</code></td><td>ğŸ˜¿ <code>:crying_cat_face:</code></td><td>ğŸ˜¹ <code>:joy_cat:</code></td></tr><tr><td>ğŸ˜¾ <code>:pouting_cat:</code></td><td>ğŸ‘¹ <code>:japanese_ogre:</code></td><td>ğŸ‘º <code>:japanese_goblin:</code></td></tr><tr><td>ğŸ™ˆ <code>:see_no_evil:</code></td><td>ğŸ™‰ <code>:hear_no_evil:</code></td><td>ğŸ™Š <code>:speak_no_evil:</code></td></tr><tr><td>ğŸ’‚ <code>:guardsman:</code></td><td>ğŸ’€ <code>:skull:</code></td><td>ğŸ¾ <code>:feet:</code></td></tr><tr><td>ğŸ‘„ <code>:lips:</code></td><td>ğŸ’‹ <code>:kiss:</code></td><td>ğŸ’§ <code>:droplet:</code></td></tr><tr><td>ğŸ‘‚ <code>:ear:</code></td><td>ğŸ‘€ <code>:eyes:</code></td><td>ğŸ‘ƒ <code>:nose:</code></td></tr><tr><td>ğŸ‘… <code>:tongue:</code></td><td>ğŸ’Œ <code>:love_letter:</code></td><td>ğŸ‘¤ <code>:bust_in_silhouette:</code></td></tr><tr><td>ğŸ‘¥ <code>:busts_in_silhouette:</code></td><td>ğŸ’¬ <code>:speech_balloon:</code></td><td>ğŸ’­ <code>:thought_balloon:</code></td></tr></tbody></table><p>æ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯</p><h1 id="Nature"><a href="#Nature" class="headerlink" title="Nature"></a>Nature</h1><table><thead><tr><th>â˜€ï¸ <code>:sunny:</code></th><th>â˜”ï¸ <code>:umbrella:</code></th><th>â˜ï¸ <code>:cloud:</code></th></tr></thead><tbody><tr><td>â„ï¸ <code>:snowflake:</code></td><td>â›„ï¸ <code>:snowman:</code></td><td>âš¡ï¸ <code>:zap:</code></td></tr><tr><td>ğŸŒ€ <code>:cyclone:</code></td><td>ğŸŒ <code>:foggy:</code></td><td>ğŸŒŠ <code>:ocean:</code></td></tr><tr><td>ğŸ± <code>:cat:</code></td><td>ğŸ¶ <code>:dog:</code></td><td>ğŸ­ <code>:mouse:</code></td></tr><tr><td>ğŸ¹ <code>:hamster:</code></td><td>ğŸ° <code>:rabbit:</code></td><td>ğŸº <code>:wolf:</code></td></tr><tr><td>ğŸ¸ <code>:frog:</code></td><td>ğŸ¯ <code>:tiger:</code></td><td>ğŸ¨ <code>:koala:</code></td></tr><tr><td>ğŸ» <code>:bear:</code></td><td>ğŸ· <code>:pig:</code></td><td>ğŸ½ <code>:pig_nose:</code></td></tr><tr><td>ğŸ® <code>:cow:</code></td><td>ğŸ— <code>:boar:</code></td><td>ğŸµ <code>:monkey_face:</code></td></tr><tr><td>ğŸ’ <code>:monkey:</code></td><td>ğŸ´ <code>:horse:</code></td><td>ğŸ <code>:racehorse:</code></td></tr><tr><td>ğŸ« <code>:camel:</code></td><td>ğŸ‘ <code>:sheep:</code></td><td>ğŸ˜ <code>:elephant:</code></td></tr><tr><td>ğŸ¼ <code>:panda_face:</code></td><td>ğŸ <code>:snake:</code></td><td>ğŸ¦ <code>:bird:</code></td></tr><tr><td>ğŸ¤ <code>:baby_chick:</code></td><td>ğŸ¥ <code>:hatched_chick:</code></td><td>ğŸ£ <code>:hatching_chick:</code></td></tr><tr><td>ğŸ” <code>:chicken:</code></td><td>ğŸ§ <code>:penguin:</code></td><td>ğŸ¢ <code>:turtle:</code></td></tr><tr><td>ğŸ› <code>:bug:</code></td><td>ğŸ <code>:honeybee:</code></td><td>ğŸœ <code>:ant:</code></td></tr><tr><td>ğŸ <code>:beetle:</code></td><td>ğŸŒ <code>:snail:</code></td><td>ğŸ™ <code>:octopus:</code></td></tr><tr><td>ğŸ  <code>:tropical_fish:</code></td><td>ğŸŸ <code>:fish:</code></td><td>ğŸ³ <code>:whale:</code></td></tr><tr><td>ğŸ‹ <code>:whale2:</code></td><td>ğŸ¬ <code>:dolphin:</code></td><td>ğŸ„ <code>:cow2:</code></td></tr><tr><td>ğŸ <code>:ram:</code></td><td>ğŸ€ <code>:rat:</code></td><td>ğŸƒ <code>:water_buffalo:</code></td></tr><tr><td>ğŸ… <code>:tiger2:</code></td><td>ğŸ‡ <code>:rabbit2:</code></td><td>ğŸ‰ <code>:dragon:</code></td></tr><tr><td>ğŸ <code>:goat:</code></td><td>ğŸ“ <code>:rooster:</code></td><td>ğŸ• <code>:dog2:</code></td></tr><tr><td>ğŸ– <code>:pig2:</code></td><td>ğŸ <code>:mouse2:</code></td><td>ğŸ‚ <code>:ox:</code></td></tr><tr><td>ğŸ² <code>:dragon_face:</code></td><td>ğŸ¡ <code>:blowfish:</code></td><td>ğŸŠ <code>:crocodile:</code></td></tr><tr><td>ğŸª <code>:dromedary_camel:</code></td><td>ğŸ† <code>:leopard:</code></td><td>ğŸˆ <code>:cat2:</code></td></tr><tr><td>ğŸ© <code>:poodle:</code></td><td>ğŸ¾ <code>:paw_prints:</code></td><td>ğŸ’ <code>:bouquet:</code></td></tr><tr><td>ğŸŒ¸ <code>:cherry_blossom:</code></td><td>ğŸŒ· <code>:tulip:</code></td><td>ğŸ€ <code>:four_leaf_clover:</code></td></tr><tr><td>ğŸŒ¹ <code>:rose:</code></td><td>ğŸŒ» <code>:sunflower:</code></td><td>ğŸŒº <code>:hibiscus:</code></td></tr><tr><td>ğŸ <code>:maple_leaf:</code></td><td>ğŸƒ <code>:leaves:</code></td><td>ğŸ‚ <code>:fallen_leaf:</code></td></tr><tr><td>ğŸŒ¿ <code>:herb:</code></td><td>ğŸ„ <code>:mushroom:</code></td><td>ğŸŒµ <code>:cactus:</code></td></tr><tr><td>ğŸŒ´ <code>:palm_tree:</code></td><td>ğŸŒ² <code>:evergreen_tree:</code></td><td>ğŸŒ³ <code>:deciduous_tree:</code></td></tr><tr><td>ğŸŒ° <code>:chestnut:</code></td><td>ğŸŒ± <code>:seedling:</code></td><td>ğŸŒ¼ <code>:blossom:</code></td></tr><tr><td>ğŸŒ¾ <code>:ear_of_rice:</code></td><td>ğŸš <code>:shell:</code></td><td>ğŸŒ <code>:globe_with_meridians:</code></td></tr><tr><td>ğŸŒ <code>:sun_with_face:</code></td><td>ğŸŒ <code>:full_moon_with_face:</code></td><td>ğŸŒš <code>:new_moon_with_face:</code></td></tr><tr><td>ğŸŒ‘ <code>:new_moon:</code></td><td>ğŸŒ’ <code>:waxing_crescent_moon:</code></td><td>ğŸŒ“ <code>:first_quarter_moon:</code></td></tr><tr><td>ğŸŒ” <code>:waxing_gibbous_moon:</code></td><td>ğŸŒ• <code>:full_moon:</code></td><td>ğŸŒ– <code>:waning_gibbous_moon:</code></td></tr><tr><td>ğŸŒ— <code>:last_quarter_moon:</code></td><td>ğŸŒ˜ <code>:waning_crescent_moon:</code></td><td>ğŸŒœ <code>:last_quarter_moon_with_face:</code></td></tr><tr><td>ğŸŒ› <code>:first_quarter_moon_with_face:</code></td><td>ğŸŒ” <code>:moon:</code></td><td>ğŸŒ <code>:earth_africa:</code></td></tr><tr><td>ğŸŒ <code>:earth_americas:</code></td><td>ğŸŒ <code>:earth_asia:</code></td><td>ğŸŒ‹ <code>:volcano:</code></td></tr><tr><td>ğŸŒŒ <code>:milky_way:</code></td><td>â›…ï¸ <code>:partly_sunny:</code></td><td></td></tr></tbody></table><p>æ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯</p><h1 id="Objects"><a href="#Objects" class="headerlink" title="Objects"></a>Objects</h1><table><thead><tr><th>ğŸ <code>:bamboo:</code></th><th>ğŸ’ <code>:gift_heart:</code></th><th>ğŸ <code>:dolls:</code></th></tr></thead><tbody><tr><td>ğŸ’ <code>:school_satchel:</code></td><td>ğŸ“ <code>:mortar_board:</code></td><td>ğŸ <code>:flags:</code></td></tr><tr><td>ğŸ† <code>:fireworks:</code></td><td>ğŸ‡ <code>:sparkler:</code></td><td>ğŸ <code>:wind_chime:</code></td></tr><tr><td>ğŸ‘ <code>:rice_scene:</code></td><td>ğŸƒ <code>:jack_o_lantern:</code></td><td>ğŸ‘» <code>:ghost:</code></td></tr><tr><td>ğŸ… <code>:santa:</code></td><td>ğŸ„ <code>:christmas_tree:</code></td><td>ğŸ <code>:gift:</code></td></tr><tr><td>ğŸ”” <code>:bell:</code></td><td>ğŸ”• <code>:no_bell:</code></td><td>ğŸ‹ <code>:tanabata_tree:</code></td></tr><tr><td>ğŸ‰ <code>:tada:</code></td><td>ğŸŠ <code>:confetti_ball:</code></td><td>ğŸˆ <code>:balloon:</code></td></tr><tr><td>ğŸ”® <code>:crystal_ball:</code></td><td>ğŸ’¿ <code>:cd:</code></td><td>ğŸ“€ <code>:dvd:</code></td></tr><tr><td>ğŸ’¾ <code>:floppy_disk:</code></td><td>ğŸ“· <code>:camera:</code></td><td>ğŸ“¹ <code>:video_camera:</code></td></tr><tr><td>ğŸ¥ <code>:movie_camera:</code></td><td>ğŸ’» <code>:computer:</code></td><td>ğŸ“º <code>:tv:</code></td></tr><tr><td>ğŸ“± <code>:iphone:</code></td><td>â˜ï¸ <code>:phone:</code></td><td>â˜ï¸ <code>:telephone:</code></td></tr><tr><td>ğŸ“ <code>:telephone_receiver:</code></td><td>ğŸ“Ÿ <code>:pager:</code></td><td>ğŸ“  <code>:fax:</code></td></tr><tr><td>ğŸ’½ <code>:minidisc:</code></td><td>ğŸ“¼ <code>:vhs:</code></td><td>ğŸ”‰ <code>:sound:</code></td></tr><tr><td>ğŸ”ˆ <code>:speaker:</code></td><td>ğŸ”‡ <code>:mute:</code></td><td>ğŸ“¢ <code>:loudspeaker:</code></td></tr><tr><td>ğŸ“£ <code>:mega:</code></td><td>âŒ›ï¸ <code>:hourglass:</code></td><td>â³ <code>:hourglass_flowing_sand:</code></td></tr><tr><td>â° <code>:alarm_clock:</code></td><td>âŒšï¸ <code>:watch:</code></td><td>ğŸ“» <code>:radio:</code></td></tr><tr><td>ğŸ“¡ <code>:satellite:</code></td><td>â¿ <code>:loop:</code></td><td>ğŸ” <code>:mag:</code></td></tr><tr><td>ğŸ” <code>:mag_right:</code></td><td>ğŸ”“ <code>:unlock:</code></td><td>ğŸ”’ <code>:lock:</code></td></tr><tr><td>ğŸ” <code>:lock_with_ink_pen:</code></td><td>ğŸ” <code>:closed_lock_with_key:</code></td><td>ğŸ”‘ <code>:key:</code></td></tr><tr><td>ğŸ’¡ <code>:bulb:</code></td><td>ğŸ”¦ <code>:flashlight:</code></td><td>ğŸ”† <code>:high_brightness:</code></td></tr><tr><td>ğŸ”… <code>:low_brightness:</code></td><td>ğŸ”Œ <code>:electric_plug:</code></td><td>ğŸ”‹ <code>:battery:</code></td></tr><tr><td>ğŸ“² <code>:calling:</code></td><td>âœ‰ï¸ <code>:email:</code></td><td>ğŸ“« <code>:mailbox:</code></td></tr><tr><td>ğŸ“® <code>:postbox:</code></td><td>ğŸ›€ <code>:bath:</code></td><td>ğŸ› <code>:bathtub:</code></td></tr><tr><td>ğŸš¿ <code>:shower:</code></td><td>ğŸš½ <code>:toilet:</code></td><td>ğŸ”§ <code>:wrench:</code></td></tr><tr><td>ğŸ”© <code>:nut_and_bolt:</code></td><td>ğŸ”¨ <code>:hammer:</code></td><td>ğŸ’º <code>:seat:</code></td></tr><tr><td>ğŸ’° <code>:moneybag:</code></td><td>ğŸ’´ <code>:yen:</code></td><td>ğŸ’µ <code>:dollar:</code></td></tr><tr><td>ğŸ’· <code>:pound:</code></td><td>ğŸ’¶ <code>:euro:</code></td><td>ğŸ’³ <code>:credit_card:</code></td></tr><tr><td>ğŸ’¸ <code>:money_with_wings:</code></td><td>ğŸ“§ <code>:e-mail:</code></td><td>ğŸ“¥ <code>:inbox_tray:</code></td></tr><tr><td>ğŸ“¤ <code>:outbox_tray:</code></td><td>âœ‰ï¸ <code>:envelope:</code></td><td>ğŸ“¨ <code>:incoming_envelope:</code></td></tr><tr><td>ğŸ“¯ <code>:postal_horn:</code></td><td>ğŸ“ª <code>:mailbox_closed:</code></td><td>ğŸ“¬ <code>:mailbox_with_mail:</code></td></tr><tr><td>ğŸ“­ <code>:mailbox_with_no_mail:</code></td><td>ğŸšª <code>:door:</code></td><td>ğŸš¬ <code>:smoking:</code></td></tr><tr><td>ğŸ’£ <code>:bomb:</code></td><td>ğŸ”« <code>:gun:</code></td><td>ğŸ”ª <code>:hocho:</code></td></tr><tr><td>ğŸ’Š <code>:pill:</code></td><td>ğŸ’‰ <code>:syringe:</code></td><td>ğŸ“„ <code>:page_facing_up:</code></td></tr><tr><td>ğŸ“ƒ <code>:page_with_curl:</code></td><td>ğŸ“‘ <code>:bookmark_tabs:</code></td><td>ğŸ“Š <code>:bar_chart:</code></td></tr><tr><td>ğŸ“ˆ <code>:chart_with_upwards_trend:</code></td><td>ğŸ“‰ <code>:chart_with_downwards_trend:</code></td><td>ğŸ“œ <code>:scroll:</code></td></tr><tr><td>ğŸ“‹ <code>:clipboard:</code></td><td>ğŸ“† <code>:calendar:</code></td><td>ğŸ“… <code>:date:</code></td></tr><tr><td>ğŸ“‡ <code>:card_index:</code></td><td>ğŸ“ <code>:file_folder:</code></td><td>ğŸ“‚ <code>:open_file_folder:</code></td></tr><tr><td>âœ‚ï¸ <code>:scissors:</code></td><td>ğŸ“Œ <code>:pushpin:</code></td><td>ğŸ“ <code>:paperclip:</code></td></tr><tr><td>âœ’ï¸ <code>:black_nib:</code></td><td>âœï¸ <code>:pencil2:</code></td><td>ğŸ“ <code>:straight_ruler:</code></td></tr><tr><td>ğŸ“ <code>:triangular_ruler:</code></td><td>ğŸ“• <code>:closed_book:</code></td><td>ğŸ“— <code>:green_book:</code></td></tr><tr><td>ğŸ“˜ <code>:blue_book:</code></td><td>ğŸ“™ <code>:orange_book:</code></td><td>ğŸ““ <code>:notebook:</code></td></tr><tr><td>ğŸ“” <code>:notebook_with_decorative_cover:</code></td><td>ğŸ“’ <code>:ledger:</code></td><td>ğŸ“š <code>:books:</code></td></tr><tr><td>ğŸ”– <code>:bookmark:</code></td><td>ğŸ“› <code>:name_badge:</code></td><td>ğŸ”¬ <code>:microscope:</code></td></tr><tr><td>ğŸ”­ <code>:telescope:</code></td><td>ğŸ“° <code>:newspaper:</code></td><td>ğŸˆ <code>:football:</code></td></tr><tr><td>ğŸ€ <code>:basketball:</code></td><td>âš½ï¸ <code>:soccer:</code></td><td>âš¾ï¸ <code>:baseball:</code></td></tr><tr><td>ğŸ¾ <code>:tennis:</code></td><td>ğŸ± <code>:8ball:</code></td><td>ğŸ‰ <code>:rugby_football:</code></td></tr><tr><td>ğŸ³ <code>:bowling:</code></td><td>â›³ï¸ <code>:golf:</code></td><td>ğŸšµ <code>:mountain_bicyclist:</code></td></tr><tr><td>ğŸš´ <code>:bicyclist:</code></td><td>ğŸ‡ <code>:horse_racing:</code></td><td>ğŸ‚ <code>:snowboarder:</code></td></tr><tr><td>ğŸŠ <code>:swimmer:</code></td><td>ğŸ„ <code>:surfer:</code></td><td>ğŸ¿ <code>:ski:</code></td></tr><tr><td>â™ ï¸ <code>:spades:</code></td><td>â™¥ï¸ <code>:hearts:</code></td><td>â™£ï¸ <code>:clubs:</code></td></tr><tr><td>â™¦ï¸ <code>:diamonds:</code></td><td>ğŸ’ <code>:gem:</code></td><td>ğŸ’ <code>:ring:</code></td></tr><tr><td>ğŸ† <code>:trophy:</code></td><td>ğŸ¼ <code>:musical_score:</code></td><td>ğŸ¹ <code>:musical_keyboard:</code></td></tr><tr><td>ğŸ» <code>:violin:</code></td><td>ğŸ‘¾ <code>:space_invader:</code></td><td>ğŸ® <code>:video_game:</code></td></tr><tr><td>ğŸƒ <code>:black_joker:</code></td><td>ğŸ´ <code>:flower_playing_cards:</code></td><td>ğŸ² <code>:game_die:</code></td></tr><tr><td>ğŸ¯ <code>:dart:</code></td><td>ğŸ€„ï¸ <code>:mahjong:</code></td><td>ğŸ¬ <code>:clapper:</code></td></tr><tr><td>ğŸ“ <code>:memo:</code></td><td>ğŸ“ <code>:pencil:</code></td><td>ğŸ“– <code>:book:</code></td></tr><tr><td>ğŸ¨ <code>:art:</code></td><td>ğŸ¤ <code>:microphone:</code></td><td>ğŸ§ <code>:headphones:</code></td></tr><tr><td>ğŸº <code>:trumpet:</code></td><td>ğŸ· <code>:saxophone:</code></td><td>ğŸ¸ <code>:guitar:</code></td></tr><tr><td>ğŸ‘ <code>:shoe:</code></td><td>ğŸ‘¡ <code>:sandal:</code></td><td>ğŸ‘  <code>:high_heel:</code></td></tr><tr><td>ğŸ’„ <code>:lipstick:</code></td><td>ğŸ‘¢ <code>:boot:</code></td><td>ğŸ‘• <code>:shirt:</code></td></tr><tr><td>ğŸ‘• <code>:tshirt:</code></td><td>ğŸ‘” <code>:necktie:</code></td><td>ğŸ‘š <code>:womans_clothes:</code></td></tr><tr><td>ğŸ‘— <code>:dress:</code></td><td>ğŸ½ <code>:running_shirt_with_sash:</code></td><td>ğŸ‘– <code>:jeans:</code></td></tr><tr><td>ğŸ‘˜ <code>:kimono:</code></td><td>ğŸ‘™ <code>:bikini:</code></td><td>ğŸ€ <code>:ribbon:</code></td></tr><tr><td>ğŸ© <code>:tophat:</code></td><td>ğŸ‘‘ <code>:crown:</code></td><td>ğŸ‘’ <code>:womans_hat:</code></td></tr><tr><td>ğŸ‘ <code>:mans_shoe:</code></td><td>ğŸŒ‚ <code>:closed_umbrella:</code></td><td>ğŸ’¼ <code>:briefcase:</code></td></tr><tr><td>ğŸ‘œ <code>:handbag:</code></td><td>ğŸ‘ <code>:pouch:</code></td><td>ğŸ‘› <code>:purse:</code></td></tr><tr><td>ğŸ‘“ <code>:eyeglasses:</code></td><td>ğŸ£ <code>:fishing_pole_and_fish:</code></td><td>â˜•ï¸ <code>:coffee:</code></td></tr><tr><td>ğŸµ <code>:tea:</code></td><td>ğŸ¶ <code>:sake:</code></td><td>ğŸ¼ <code>:baby_bottle:</code></td></tr><tr><td>ğŸº <code>:beer:</code></td><td>ğŸ» <code>:beers:</code></td><td>ğŸ¸ <code>:cocktail:</code></td></tr><tr><td>ğŸ¹ <code>:tropical_drink:</code></td><td>ğŸ· <code>:wine_glass:</code></td><td>ğŸ´ <code>:fork_and_knife:</code></td></tr><tr><td>ğŸ• <code>:pizza:</code></td><td>ğŸ” <code>:hamburger:</code></td><td>ğŸŸ <code>:fries:</code></td></tr><tr><td>ğŸ— <code>:poultry_leg:</code></td><td>ğŸ– <code>:meat_on_bone:</code></td><td>ğŸ <code>:spaghetti:</code></td></tr><tr><td>ğŸ› <code>:curry:</code></td><td>ğŸ¤ <code>:fried_shrimp:</code></td><td>ğŸ± <code>:bento:</code></td></tr><tr><td>ğŸ£ <code>:sushi:</code></td><td>ğŸ¥ <code>:fish_cake:</code></td><td>ğŸ™ <code>:rice_ball:</code></td></tr><tr><td>ğŸ˜ <code>:rice_cracker:</code></td><td>ğŸš <code>:rice:</code></td><td>ğŸœ <code>:ramen:</code></td></tr><tr><td>ğŸ² <code>:stew:</code></td><td>ğŸ¢ <code>:oden:</code></td><td>ğŸ¡ <code>:dango:</code></td></tr><tr><td>ğŸ¥š <code>:egg:</code></td><td>ğŸ <code>:bread:</code></td><td>ğŸ© <code>:doughnut:</code></td></tr><tr><td>ğŸ® <code>:custard:</code></td><td>ğŸ¦ <code>:icecream:</code></td><td>ğŸ¨ <code>:ice_cream:</code></td></tr><tr><td>ğŸ§ <code>:shaved_ice:</code></td><td>ğŸ‚ <code>:birthday:</code></td><td>ğŸ° <code>:cake:</code></td></tr><tr><td>ğŸª <code>:cookie:</code></td><td>ğŸ« <code>:chocolate_bar:</code></td><td>ğŸ¬ <code>:candy:</code></td></tr><tr><td>ğŸ­ <code>:lollipop:</code></td><td>ğŸ¯ <code>:honey_pot:</code></td><td>ğŸ <code>:apple:</code></td></tr><tr><td>ğŸ <code>:green_apple:</code></td><td>ğŸŠ <code>:tangerine:</code></td><td>ğŸ‹ <code>:lemon:</code></td></tr><tr><td>ğŸ’ <code>:cherries:</code></td><td>ğŸ‡ <code>:grapes:</code></td><td>ğŸ‰ <code>:watermelon:</code></td></tr><tr><td>ğŸ“ <code>:strawberry:</code></td><td>ğŸ‘ <code>:peach:</code></td><td>ğŸˆ <code>:melon:</code></td></tr><tr><td>ğŸŒ <code>:banana:</code></td><td>ğŸ <code>:pear:</code></td><td>ğŸ <code>:pineapple:</code></td></tr><tr><td>ğŸ  <code>:sweet_potato:</code></td><td>ğŸ† <code>:eggplant:</code></td><td>ğŸ… <code>:tomato:</code></td></tr><tr><td>ğŸŒ½ <code>:corn:</code></td><td></td><td></td></tr></tbody></table><p>æ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯</p><h1 id="Places"><a href="#Places" class="headerlink" title="Places"></a>Places</h1><table><thead><tr><th>ğŸ  <code>:house:</code></th><th>ğŸ¡ <code>:house_with_garden:</code></th><th>ğŸ« <code>:school:</code></th></tr></thead><tbody><tr><td>ğŸ¢ <code>:office:</code></td><td>ğŸ£ <code>:post_office:</code></td><td>ğŸ¥ <code>:hospital:</code></td></tr><tr><td>ğŸ¦ <code>:bank:</code></td><td>ğŸª <code>:convenience_store:</code></td><td>ğŸ© <code>:love_hotel:</code></td></tr><tr><td>ğŸ¨ <code>:hotel:</code></td><td>ğŸ’’ <code>:wedding:</code></td><td>â›ªï¸ <code>:church:</code></td></tr><tr><td>ğŸ¬ <code>:department_store:</code></td><td>ğŸ¤ <code>:european_post_office:</code></td><td>ğŸŒ‡ <code>:city_sunrise:</code></td></tr><tr><td>ğŸŒ† <code>:city_sunset:</code></td><td>ğŸ¯ <code>:japanese_castle:</code></td><td>ğŸ° <code>:european_castle:</code></td></tr><tr><td>â›ºï¸ <code>:tent:</code></td><td>ğŸ­ <code>:factory:</code></td><td>ğŸ—¼ <code>:tokyo_tower:</code></td></tr><tr><td>ğŸ—¾ <code>:japan:</code></td><td>ğŸ—» <code>:mount_fuji:</code></td><td>ğŸŒ„ <code>:sunrise_over_mountains:</code></td></tr><tr><td>ğŸŒ… <code>:sunrise:</code></td><td>ğŸŒ  <code>:stars:</code></td><td>ğŸ—½ <code>:statue_of_liberty:</code></td></tr><tr><td>ğŸŒ‰ <code>:bridge_at_night:</code></td><td>ğŸ  <code>:carousel_horse:</code></td><td>ğŸŒˆ <code>:rainbow:</code></td></tr><tr><td>ğŸ¡ <code>:ferris_wheel:</code></td><td>â›²ï¸ <code>:fountain:</code></td><td>ğŸ¢ <code>:roller_coaster:</code></td></tr><tr><td>ğŸš¢ <code>:ship:</code></td><td>ğŸš¤ <code>:speedboat:</code></td><td>â›µï¸ <code>:boat:</code></td></tr><tr><td>â›µï¸ <code>:sailboat:</code></td><td>ğŸš£ <code>:rowboat:</code></td><td>âš“ï¸ <code>:anchor:</code></td></tr><tr><td>ğŸš€ <code>:rocket:</code></td><td>âœˆï¸ <code>:airplane:</code></td><td>ğŸš <code>:helicopter:</code></td></tr><tr><td>ğŸš‚ <code>:steam_locomotive:</code></td><td>ğŸšŠ <code>:tram:</code></td><td>ğŸš <code>:mountain_railway:</code></td></tr><tr><td>ğŸš² <code>:bike:</code></td><td>ğŸš¡ <code>:aerial_tramway:</code></td><td>ğŸšŸ <code>:suspension_railway:</code></td></tr><tr><td>ğŸš  <code>:mountain_cableway:</code></td><td>ğŸšœ <code>:tractor:</code></td><td>ğŸš™ <code>:blue_car:</code></td></tr><tr><td>ğŸš˜ <code>:oncoming_automobile:</code></td><td>ğŸš— <code>:car:</code></td><td>ğŸš— <code>:red_car:</code></td></tr><tr><td>ğŸš• <code>:taxi:</code></td><td>ğŸš– <code>:oncoming_taxi:</code></td><td>ğŸš› <code>:articulated_lorry:</code></td></tr><tr><td>ğŸšŒ <code>:bus:</code></td><td>ğŸš <code>:oncoming_bus:</code></td><td>ğŸš¨ <code>:rotating_light:</code></td></tr><tr><td>ğŸš“ <code>:police_car:</code></td><td>ğŸš” <code>:oncoming_police_car:</code></td><td>ğŸš’ <code>:fire_engine:</code></td></tr><tr><td>ğŸš‘ <code>:ambulance:</code></td><td>ğŸš <code>:minibus:</code></td><td>ğŸšš <code>:truck:</code></td></tr><tr><td>ğŸš‹ <code>:train:</code></td><td>ğŸš‰ <code>:station:</code></td><td>ğŸš† <code>:train2:</code></td></tr><tr><td>ğŸš… <code>:bullettrain_front:</code></td><td>ğŸš„ <code>:bullettrain_side:</code></td><td>ğŸšˆ <code>:light_rail:</code></td></tr><tr><td>ğŸš <code>:monorail:</code></td><td>ğŸšƒ <code>:railway_car:</code></td><td>ğŸš <code>:trolleybus:</code></td></tr><tr><td>ğŸ« <code>:ticket:</code></td><td>â›½ï¸ <code>:fuelpump:</code></td><td>ğŸš¦ <code>:vertical_traffic_light:</code></td></tr><tr><td>ğŸš¥ <code>:traffic_light:</code></td><td>âš ï¸ <code>:warning:</code></td><td>ğŸš§ <code>:construction:</code></td></tr><tr><td>ğŸ”° <code>:beginner:</code></td><td>ğŸ§ <code>:atm:</code></td><td>ğŸ° <code>:slot_machine:</code></td></tr><tr><td>ğŸš <code>:busstop:</code></td><td>ğŸ’ˆ <code>:barber:</code></td><td>â™¨ï¸ <code>:hotsprings:</code></td></tr><tr><td>ğŸ <code>:checkered_flag:</code></td><td>ğŸŒ <code>:crossed_flags:</code></td><td>ğŸ® <code>:izakaya_lantern:</code></td></tr><tr><td>ğŸ—¿ <code>:moyai:</code></td><td>ğŸª <code>:circus_tent:</code></td><td>ğŸ­ <code>:performing_arts:</code></td></tr><tr><td>ğŸ“ <code>:round_pushpin:</code></td><td>ğŸš© <code>:triangular_flag_on_post:</code></td><td>ğŸ‡¯ğŸ‡µ <code>:jp:</code></td></tr><tr><td>ğŸ‡°ğŸ‡· <code>:kr:</code></td><td>ğŸ‡¨ğŸ‡³ <code>:cn:</code></td><td>ğŸ‡ºğŸ‡¸ <code>:us:</code></td></tr><tr><td>ğŸ‡«ğŸ‡· <code>:fr:</code></td><td>ğŸ‡ªğŸ‡¸ <code>:es:</code></td><td>ğŸ‡®ğŸ‡¹ <code>:it:</code></td></tr><tr><td>ğŸ‡·ğŸ‡º <code>:ru:</code></td><td>ğŸ‡¬ğŸ‡§ <code>:gb:</code></td><td>ğŸ‡¬ğŸ‡§ <code>:uk:</code></td></tr><tr><td>ğŸ‡©ğŸ‡ª <code>:de:</code></td><td></td><td></td></tr></tbody></table><p>æ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯</p><h1 id="Symbols"><a href="#Symbols" class="headerlink" title="Symbols"></a>Symbols</h1><table><thead><tr><th>1ï¸âƒ£ <code>:one:</code></th><th>2ï¸âƒ£ <code>:two:</code></th><th>3ï¸âƒ£ <code>:three:</code></th></tr></thead><tbody><tr><td>4ï¸âƒ£ <code>:four:</code></td><td>5ï¸âƒ£ <code>:five:</code></td><td>6ï¸âƒ£ <code>:six:</code></td></tr><tr><td>7ï¸âƒ£ <code>:seven:</code></td><td>8ï¸âƒ£ <code>:eight:</code></td><td>9ï¸âƒ£ <code>:nine:</code></td></tr><tr><td>ğŸ”Ÿ <code>:keycap_ten:</code></td><td>ğŸ”¢ <code>:1234:</code></td><td>0ï¸âƒ£ <code>:zero:</code></td></tr><tr><td>#ï¸âƒ£ <code>:hash:</code></td><td>ğŸ”£ <code>:symbols:</code></td><td>â—€ï¸ <code>:arrow_backward:</code></td></tr><tr><td>â¬‡ï¸ <code>:arrow_down:</code></td><td>â–¶ï¸ <code>:arrow_forward:</code></td><td>â¬…ï¸ <code>:arrow_left:</code></td></tr><tr><td>ğŸ”  <code>:capital_abcd:</code></td><td>ğŸ”¡ <code>:abcd:</code></td><td>ğŸ”¤ <code>:abc:</code></td></tr><tr><td>â†™ï¸ <code>:arrow_lower_left:</code></td><td>â†˜ï¸ <code>:arrow_lower_right:</code></td><td>â¡ï¸ <code>:arrow_right:</code></td></tr><tr><td>â¬†ï¸ <code>:arrow_up:</code></td><td>â†–ï¸ <code>:arrow_upper_left:</code></td><td>â†—ï¸ <code>:arrow_upper_right:</code></td></tr><tr><td>â¬ <code>:arrow_double_down:</code></td><td>â« <code>:arrow_double_up:</code></td><td>ğŸ”½ <code>:arrow_down_small:</code></td></tr><tr><td>â¤µï¸ <code>:arrow_heading_down:</code></td><td>â¤´ï¸ <code>:arrow_heading_up:</code></td><td>â†©ï¸<code>:leftwards_arrow_with_hook:</code></td></tr><tr><td>â†ªï¸ <code>:arrow_right_hook:</code></td><td>â†”ï¸ <code>:left_right_arrow:</code></td><td>â†•ï¸ <code>:arrow_up_down:</code></td></tr><tr><td>ğŸ”¼ <code>:arrow_up_small:</code></td><td>ğŸ”ƒ <code>:arrows_clockwise:</code></td><td>ğŸ”„ <code>:arrows_counterclockwise:</code></td></tr><tr><td>âª <code>:rewind:</code></td><td>â© <code>:fast_forward:</code></td><td>â„¹ï¸ <code>:information_source:</code></td></tr><tr><td>ğŸ†— <code>:ok:</code></td><td>ğŸ”€ <code>:twisted_rightwards_arrows:</code></td><td>ğŸ” <code>:repeat:</code></td></tr><tr><td>ğŸ”‚ <code>:repeat_one:</code></td><td>ğŸ†• <code>:new:</code></td><td>ğŸ” <code>:top:</code></td></tr><tr><td>ğŸ†™ <code>:up:</code></td><td>ğŸ†’ <code>:cool:</code></td><td>ğŸ†“ <code>:free:</code></td></tr><tr><td>ğŸ†– <code>:ng:</code></td><td>ğŸ¦ <code>:cinema:</code></td><td>ğŸˆ <code>:koko:</code></td></tr><tr><td>ğŸ“¶ <code>:signal_strength:</code></td><td>ğŸˆ¹ <code>:u5272:</code></td><td>ğŸˆ´ <code>:u5408:</code></td></tr><tr><td>ğŸˆº <code>:u55b6:</code></td><td>ğŸˆ¯ï¸ <code>:u6307:</code></td><td>ğŸˆ·ï¸ <code>:u6708:</code></td></tr><tr><td>ğŸˆ¶ <code>:u6709:</code></td><td>ğŸˆµ <code>:u6e80:</code></td><td>ğŸˆšï¸ <code>:u7121:</code></td></tr><tr><td>ğŸˆ¸ <code>:u7533:</code></td><td>ğŸˆ³ <code>:u7a7a:</code></td><td>ğŸˆ² <code>:u7981:</code></td></tr><tr><td>ğŸˆ‚ï¸ <code>:sa:</code></td><td>ğŸš» <code>:restroom:</code></td><td>ğŸš¹ <code>:mens:</code></td></tr><tr><td>ğŸšº <code>:womens:</code></td><td>ğŸš¼ <code>:baby_symbol:</code></td><td>ğŸš­ <code>:no_smoking:</code></td></tr><tr><td>ğŸ…¿ï¸ <code>:parking:</code></td><td>â™¿ï¸ <code>:wheelchair:</code></td><td>ğŸš‡ <code>:metro:</code></td></tr><tr><td>ğŸ›„ <code>:baggage_claim:</code></td><td>ğŸ‰‘ <code>:accept:</code></td><td>ğŸš¾ <code>:wc:</code></td></tr><tr><td>ğŸš° <code>:potable_water:</code></td><td>ğŸš® <code>:put_litter_in_its_place:</code></td><td>ãŠ™ï¸ <code>:secret:</code></td></tr><tr><td>ãŠ—ï¸ <code>:congratulations:</code></td><td>â“‚ï¸ <code>:m:</code></td><td>ğŸ›‚ <code>:passport_control:</code></td></tr><tr><td>ğŸ›… <code>:left_luggage:</code></td><td>ğŸ›ƒ <code>:customs:</code></td><td>ğŸ‰ <code>:ideograph_advantage:</code></td></tr><tr><td>ğŸ†‘ <code>:cl:</code></td><td>ğŸ†˜ <code>:sos:</code></td><td>ğŸ†” <code>:id:</code></td></tr><tr><td>ğŸš« <code>:no_entry_sign:</code></td><td>ğŸ” <code>:underage:</code></td><td>ğŸ“µ <code>:no_mobile_phones:</code></td></tr><tr><td>ğŸš¯ <code>:do_not_litter:</code></td><td>ğŸš± <code>:non-potable_water:</code></td><td>ğŸš³ <code>:no_bicycles:</code></td></tr><tr><td>ğŸš· <code>:no_pedestrians:</code></td><td>ğŸš¸ <code>:children_crossing:</code></td><td>â›”ï¸ <code>:no_entry:</code></td></tr><tr><td>âœ³ï¸ <code>:eight_spoked_asterisk:</code></td><td>âœ´ï¸ <code>:eight_pointed_black_star:</code></td><td>ğŸ’Ÿ <code>:heart_decoration:</code></td></tr><tr><td>ğŸ†š <code>:vs:</code></td><td>ğŸ“³ <code>:vibration_mode:</code></td><td>ğŸ“´ <code>:mobile_phone_off:</code></td></tr><tr><td>ğŸ’¹ <code>:chart:</code></td><td>ğŸ’± <code>:currency_exchange:</code></td><td>â™ˆï¸ <code>:aries:</code></td></tr><tr><td>â™‰ï¸ <code>:taurus:</code></td><td>â™Šï¸ <code>:gemini:</code></td><td>â™‹ï¸ <code>:cancer:</code></td></tr><tr><td>â™Œï¸ <code>:leo:</code></td><td>â™ï¸ <code>:virgo:</code></td><td>â™ï¸ <code>:libra:</code></td></tr><tr><td>â™ï¸ <code>:scorpius:</code></td><td>â™ï¸ <code>:sagittarius:</code></td><td>â™‘ï¸ <code>:capricorn:</code></td></tr><tr><td>â™’ï¸ <code>:aquarius:</code></td><td>â™“ï¸ <code>:pisces:</code></td><td>â› <code>:ophiuchus:</code></td></tr><tr><td>ğŸ”¯ <code>:six_pointed_star:</code></td><td>â<code>:negative_squared_cross_mark:</code></td><td>ğŸ…°ï¸ <code>:a:</code></td></tr><tr><td>ğŸ…±ï¸ <code>:b:</code></td><td>ğŸ† <code>:ab:</code></td><td>ğŸ…¾ï¸ <code>:o2:</code></td></tr><tr><td>ğŸ’ <code>:diamond_shape_with_a_dot_inside:</code></td><td>â™»ï¸ <code>:recycle:</code></td><td>ğŸ”š <code>:end:</code></td></tr><tr><td>ğŸ”› <code>:on:</code></td><td>ğŸ”œ <code>:soon:</code></td><td>ğŸ• <code>:clock1:</code></td></tr><tr><td>ğŸ•œ <code>:clock130:</code></td><td>ğŸ•™ <code>:clock10:</code></td><td>ğŸ•¥ <code>:clock1030:</code></td></tr><tr><td>ğŸ•š <code>:clock11:</code></td><td>ğŸ•¦ <code>:clock1130:</code></td><td>ğŸ•› <code>:clock12:</code></td></tr><tr><td>ğŸ•§ <code>:clock1230:</code></td><td>ğŸ•‘ <code>:clock2:</code></td><td>ğŸ• <code>:clock230:</code></td></tr><tr><td>ğŸ•’ <code>:clock3:</code></td><td>ğŸ• <code>:clock330:</code></td><td>ğŸ•“ <code>:clock4:</code></td></tr><tr><td>ğŸ•Ÿ <code>:clock430:</code></td><td>ğŸ•” <code>:clock5:</code></td><td>ğŸ•  <code>:clock530:</code></td></tr><tr><td>ğŸ•• <code>:clock6:</code></td><td>ğŸ•¡ <code>:clock630:</code></td><td>ğŸ•– <code>:clock7:</code></td></tr><tr><td>ğŸ•¢ <code>:clock730:</code></td><td>ğŸ•— <code>:clock8:</code></td><td>ğŸ•£ <code>:clock830:</code></td></tr><tr><td>ğŸ•˜ <code>:clock9:</code></td><td>ğŸ•¤ <code>:clock930:</code></td><td>ğŸ’² <code>:heavy_dollar_sign:</code></td></tr><tr><td>Â©ï¸ <code>:copyright:</code></td><td>Â®ï¸ <code>:registered:</code></td><td>â„¢ï¸ <code>:tm:</code></td></tr><tr><td>âŒ <code>:x:</code></td><td>â—ï¸ <code>:heavy_exclamation_mark:</code></td><td>â€¼ï¸ <code>:bangbang:</code></td></tr><tr><td>â‰ï¸ <code>:interrobang:</code></td><td>â­•ï¸ <code>:o:</code></td><td>âœ–ï¸ <code>:heavy_multiplication_x:</code></td></tr><tr><td>â• <code>:heavy_plus_sign:</code></td><td>â– <code>:heavy_minus_sign:</code></td><td>â— <code>:heavy_division_sign:</code></td></tr><tr><td>ğŸ’® <code>:white_flower:</code></td><td>ğŸ’¯ <code>:100:</code></td><td>âœ”ï¸ <code>:heavy_check_mark:</code></td></tr><tr><td>â˜‘ï¸ <code>:ballot_box_with_check:</code></td><td>ğŸ”˜ <code>:radio_button:</code></td><td>ğŸ”— <code>:link:</code></td></tr><tr><td>â° <code>:curly_loop:</code></td><td>ã€°ï¸ <code>:wavy_dash:</code></td><td>ã€½ï¸ <code>:part_alternation_mark:</code></td></tr><tr><td>ğŸ”± <code>:trident:</code></td><td>:black_square: <code>:black_square:</code></td><td>:white_square: <code>:white_square:</code></td></tr><tr><td>âœ… <code>:white_check_mark:</code></td><td>ğŸ”² <code>:black_square_button:</code></td><td>ğŸ”³ <code>:white_square_button:</code></td></tr><tr><td>âš«ï¸ <code>:black_circle:</code></td><td>âšªï¸ <code>:white_circle:</code></td><td>ğŸ”´ <code>:red_circle:</code></td></tr><tr><td>ğŸ”µ <code>:large_blue_circle:</code></td><td>ğŸ”· <code>:large_blue_diamond:</code></td><td>ğŸ”¶ <code>:large_orange_diamond:</code></td></tr><tr><td>ğŸ”¹ <code>:small_blue_diamond:</code></td><td>ğŸ”¸ <code>:small_orange_diamond:</code></td><td>ğŸ”º <code>:small_red_triangle:</code></td></tr><tr><td>ğŸ”» <code>:small_red_triangle_down:</code></td><td></td><td></td></tr></tbody></table><p>æ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯</p>]]></content>
      
      
      <categories>
          
          <category> æ‰‹å†Œ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>UML ç‰‡æ®µè¯´æ˜</title>
      <link href="/%E6%89%8B%E5%86%8C/UML/%E7%89%87%E6%AE%B5%E8%AF%B4%E6%98%8E/"/>
      <url>/%E6%89%8B%E5%86%8C/UML/%E7%89%87%E6%AE%B5%E8%AF%B4%E6%98%8E/</url>
      
        <content type="html"><![CDATA[<table><thead><tr><th>ç‰‡æ–­ç±»å‹</th><th>åç§°</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>Opt</td><td>é€‰é¡¹</td><td>åŒ…å«ä¸€ä¸ªå¯èƒ½å‘ç”Ÿæˆ–å¯èƒ½ä¸å‘ç”Ÿçš„åºåˆ—ã€‚ èƒ½å¤Ÿåœ¨ä¸´ç•Œä¸­æŒ‡å®šåºåˆ—å‘ç”Ÿçš„æ¡ä»¶ã€‚</td></tr><tr><td>Alt</td><td>æŠ‰æ‹©</td><td>åŒ…å«ä¸€ä¸ªç‰‡æ–­åˆ—è¡¨ï¼Œè¿™äº›ç‰‡æ–­åŒ…å«å¤‡é€‰æ¶ˆæ¯åºåˆ—ã€‚ åœ¨ä»»ä½•åœºåˆä¸‹åªå‘ç”Ÿä¸€ä¸ªåºåˆ—ã€‚èƒ½å¤Ÿåœ¨æ¯ä¸€ä¸ªç‰‡æ–­ä¸­è®¾ç½®ä¸€ä¸ªä¸´ç•Œæ¥æŒ‡ç¤ºè¯¥ç‰‡æ–­èƒ½å¤Ÿè¿è¡Œçš„æ¡ä»¶ã€‚ else çš„ä¸´ç•ŒæŒ‡ç¤ºå…¶ä½™ä»»ä½•ä¸´ç•Œéƒ½ä¸ä¸º True æ—¶åº”è¿è¡Œçš„ç‰‡æ–­ã€‚ è‹¥æ˜¯å…¨éƒ¨ä¸´ç•Œéƒ½ä¸º False è€Œä¸”æ²¡æœ‰ elseï¼Œåˆ™ä¸æ‰§è¡Œä»»ä½•ç‰‡æ–­ã€‚</td></tr><tr><td>Loop</td><td>å¾ªç¯</td><td>ç‰‡æ–­é‡å¤å¿…å®šæ¬¡æ•°ã€‚ èƒ½å¤Ÿåœ¨ä¸´ç•Œä¸­æŒ‡ç¤ºç‰‡æ–­é‡å¤çš„æ¡ä»¶ã€‚Loop ç»„åˆç‰‡æ–­å…·å¤‡â€œMinâ€å’Œâ€œMaxâ€å±æ€§ï¼Œå®ƒä»¬æŒ‡ç¤ºç‰‡æ–­èƒ½å¤Ÿé‡å¤çš„æœ€å°å’Œæœ€å¤§æ¬¡æ•°ã€‚ é»˜è®¤å€¼æ˜¯æ— é™åˆ¶ã€‚</td></tr><tr><td>Break</td><td>ä¸­æ–­</td><td>è‹¥æ˜¯æ‰§è¡Œæ­¤ç‰‡æ–­ï¼Œåˆ™æ”¾å¼ƒåºåˆ—çš„å…¶ä»–éƒ¨åˆ†ã€‚ å¯ä½¿ç”¨ä¸´ç•Œæ¥æŒ‡ç¤ºå‘ç”Ÿä¸­æ–­çš„æ¡ä»¶ã€‚</td></tr><tr><td>Par</td><td>å¹¶è¡Œ</td><td>å¹¶è¡Œå¤„ç†ã€‚ ç‰‡æ–­ä¸­çš„äº‹ä»¶èƒ½å¤Ÿäº¤é”™ã€‚</td></tr><tr><td>Critical</td><td>å…³é”®</td><td>ç”¨åœ¨ Par æˆ– Seq ç‰‡æ–­ä¸­ã€‚ æŒ‡ç¤ºæ­¤ç‰‡æ–­ä¸­çš„æ¶ˆæ¯ä¸å¾—ä¸å…¶ä½™æ¶ˆæ¯äº¤é”™ã€‚</td></tr><tr><td>Seq</td><td>å¼±é¡ºåº</td><td>æœ‰ä¸¤ä¸ªæˆ–æ›´å¤šæ“åšæ•°ç‰‡æ–­ã€‚ æ¶‰åŠåŒä¸€è¾ˆå­å‘½çº¿çš„æ¶ˆæ¯å¿…é¡»ä»¥ç‰‡æ–­çš„é¡ºåºå‘ç”Ÿã€‚ è‹¥æ˜¯æ¶ˆæ¯æ¶‰åŠçš„ç”Ÿå‘½çº¿ä¸ä¸€æ ·ï¼Œæ¥è‡ªä¸ä¸€æ ·ç‰‡æ–­çš„æ¶ˆæ¯å¯èƒ½ä¼šå¹¶è¡Œäº¤é”™ã€‚</td></tr><tr><td>Strict</td><td>å¼ºé¡ºåº</td><td>æœ‰ä¸¤ä¸ªæˆ–æ›´å¤šæ“åšæ•°ç‰‡æ–­ã€‚ è¿™äº›ç‰‡æ–­å¿…é¡»æŒ‰ç»™å®šé¡ºåºå‘ç”Ÿã€‚</td></tr></tbody></table><p>10.40.61.20&#x2F;255.255.255.0|192.168.160.1&#x2F;255.255.255.0|192.168.142.1&#x2F;255.255.255.0</p>]]></content>
      
      
      <categories>
          
          <category> æ‰‹å†Œ </category>
          
          <category> UML </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Readme å·¥å…·ä½¿ç”¨æ‰‹å†Œ</title>
      <link href="/%E6%89%8B%E5%86%8C/Readme%E4%BD%BF%E7%94%A8%E6%89%8B%E5%86%8C/"/>
      <url>/%E6%89%8B%E5%86%8C/Readme%E4%BD%BF%E7%94%A8%E6%89%8B%E5%86%8C/</url>
      
        <content type="html"><![CDATA[<p>[toc]</p><h1 id="ReadMe"><a href="#ReadMe" class="headerlink" title="ReadMe"></a>ReadMe</h1><blockquote><p>readme æ˜¯ä¸€ä¸ªè‡ªåŠ¨ç”Ÿæˆ <code>readme</code> çš„å·¥å…·</p><p>å¼€æºé¡¹ç›®åœ°å€ï¼š<a href="https://github.com/kefranabg/readme-md-generator">https://github.com/kefranabg/readme-md-generator</a></p><p>å¼€æºé¡¹ç›®ä½œè€…ï¼šFranck Abgrall</p></blockquote><h1 id="ç”¨æ³•"><a href="#ç”¨æ³•" class="headerlink" title="ç”¨æ³•"></a>ç”¨æ³•</h1><h2 id="npx-ç”¨æ³•"><a href="#npx-ç”¨æ³•" class="headerlink" title="npx ç”¨æ³•"></a>npx ç”¨æ³•</h2><p>Make sure you have npx installed (npx is shipped by default since npm 5.2.0)</p><p>Just run the following command at the root of your project and answer questions:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npx readme-md-generator</span><br></pre></td></tr></table></figure><p>Or use default values for all questions (-y):</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npx readme-md-generator -y</span><br></pre></td></tr></table></figure><p>Use your own ejs README template (-p):</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npx readme-md-generator -p path/to/my/own/template.md</span><br></pre></td></tr></table></figure><p>You can find ejs README template examples here.ã€</p><h2 id="Windows-ç³»ç»Ÿä½¿ç”¨"><a href="#Windows-ç³»ç»Ÿä½¿ç”¨" class="headerlink" title="Windows ç³»ç»Ÿä½¿ç”¨"></a>Windows ç³»ç»Ÿä½¿ç”¨</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">readme</span><br></pre></td></tr></table></figure><p>Or use default values for all questions (-y):</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">readme -y</span><br></pre></td></tr></table></figure><p>Use your own ejs README template (-p):</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">readme -p D:my/own/template.md</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> æ‰‹å†Œ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>å‰ç«¯æ ·å¼é…ç½® style</title>
      <link href="/%E6%89%8B%E5%86%8C/SpanStyleList/"/>
      <url>/%E6%89%8B%E5%86%8C/SpanStyleList/</url>
      
        <content type="html"><![CDATA[<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">1</span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;fas faa-ring animated-hover&quot;</span> <span class="attr">style</span>=<span class="string">&quot;border-bottom:3px solid green&quot;</span>&gt;</span>ã€ŠåŠå°æ—¶æ¼«ç”»ä¸­å›½å“²å­¦å²ã€‹<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">2</span><br><span class="line"><span class="tag">&lt;<span class="name">span</span>  <span class="attr">style</span>=<span class="string">&quot;text-align:center;font-size:20px;font:30px ä¹¦ä½“åŠå…°äº­ä½“;color:blueviolent;word-spacing:30px;&quot;</span>&gt;</span>â€œ æ—¢è®¸ä¸€äººä»¥åçˆ±ï¼Œæ„¿å°½ä½™ç”Ÿä¹‹æ…·æ…¨ â€<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">3</span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">style</span>=<span class="string">&quot;class: faa-bounce animated-hover;border-bottom: 5px solid #8F81EF;&quot;</span>&gt;</span>[data.jsonæ–‡ä»¶é“¾æ¥](https://pan.baidu.com/s/1omzU65YMpJr0jPPFItZ7SA )<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"> 4  </span><br><span class="line"><span class="tag">&lt;<span class="name">mark</span> <span class="attr">style</span>=<span class="string">&quot;background:royalBlue;border-bottom:lightblue 2px solid;color:white;font-family:consolas&quot;</span>&gt;</span>å½“ä½¿ç”¨é‡åšæ—¥å¿—æ–‡ä»¶æ¥è¿›è¡Œæ•°æ®åº“æ¢å¤æ—¶ï¼ŒORACLEå°†è¯»å–å…¶ä¸­çš„é‡åšè®°å½•(åŒ…æ‹¬å…¶ä¸­çš„ä¿®æ”¹å‘é‡)ï¼Œå¹¶ä¸”å°†è¿™äº›ä¿®æ”¹ç”¨äºç›¸å…³çš„å—ä¸­ã€‚<span class="tag">&lt;/<span class="name">mark</span>&gt;</span></span><br><span class="line">5</span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">style</span>=<span class="string">&quot;background: PaleVioletRed;border-radius:10px;padding:1px 5px;color:white;font-weight:900&quot;</span>&gt;</span>å­˜å‚¨ç»“æ„ç®¡ç†ä¸»è¦å°±æ˜¯é€šè¿‡å¯¹è¡¨ç©ºé—´çš„ç®¡ç†æ¥å®ç°çš„<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">6</span><br><span class="line"><span class="tag">&lt;<span class="name">mark</span> <span class="attr">style</span>=<span class="string">&quot;background:green;border-radius:10px;color:white&quot;</span>&gt;</span>æ•ˆæœå¦‚ä¸‹ï¼š<span class="tag">&lt;/<span class="name">mark</span>&gt;</span></span><br><span class="line">7</span><br><span class="line"><span class="tag">&lt;<span class="name">font</span> <span class="attr">size</span>=<span class="string">10px</span> <span class="attr">style</span>=<span class="string">&quot;font-weight:700;font-family:&#x27;åæ–‡å½©äº‘&#x27;;color:rgb(100,190,100)&quot;</span>&gt;</span>åŸºæœ¬è¯­è¨€(ä¸€)<span class="tag">&lt;/<span class="name">font</span>&gt;</span></span><br><span class="line">8</span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">style</span>=<span class="string">&quot;border-bottom: 2px dashed #000000&quot;</span>&gt;</span>ä»£ç æ®µã€æ•°æ®æ®µã€BSSæ®µã€å †åŒºã€æ–‡ä»¶æ˜ å°„åŒºä»¥åŠæ ˆåŒº<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">9</span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;background:black;font:conloas;color:white;&quot;</span>&gt;</span></span><br><span class="line"> æ•°ç»„é•¿åº¦ä¸ºï¼š3<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"> è¯·æŒ‰ä»»æ„é”®ç»§ç»­. . .</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">10</span><br><span class="line"><span class="tag">&lt;<span class="name">mark</span> <span class="attr">style</span>=<span class="string">&quot;color:white;background:red;font-weight:600;border_radius:100px&quot;</span>&gt;</span>ä½†æ•ˆç‡æ›´é«˜<span class="tag">&lt;/<span class="name">mark</span>&gt;</span></span><br><span class="line">11</span><br><span class="line"><span class="tag">&lt;<span class="name">details</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">summary</span>&gt;</span>æ›´å¤š<span class="tag">&lt;/<span class="name">summary</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>å†…å®¹<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">details</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="1"><a href="#1" class="headerlink" title="1"></a>1</h1><p><span class="fas faa-ring animated-hover" style="border-bottom:3px solid green">ã€ŠåŠå°æ—¶æ¼«ç”»ä¸­å›½å“²å­¦å²ã€‹</span></p><h1 id="2"><a href="#2" class="headerlink" title="2"></a>2</h1><p><span  style="text-align:center;font-size:20px;font:30px ä¹¦ä½“åŠå…°äº­ä½“;color:blueviolent;word-spacing:30px;">â€œ æ—¢è®¸ä¸€äººä»¥åçˆ±ï¼Œæ„¿å°½ä½™ç”Ÿä¹‹æ…·æ…¨ â€</span></p><h1 id="3"><a href="#3" class="headerlink" title="3"></a>3</h1><p><span style="class: faa-bounce animated-hover;border-bottom: 5px solid #8F81EF;"><a href="https://pan.baidu.com/s/1omzU65YMpJr0jPPFItZ7SA">data.jsonæ–‡ä»¶é“¾æ¥</a></span> </p><h1 id="4"><a href="#4" class="headerlink" title="4"></a>4</h1><p><mark style="background:royalBlue;border-bottom:lightblue 2px solid;color:white;font-family:consolas">å½“ä½¿ç”¨é‡åšæ—¥å¿—æ–‡ä»¶æ¥è¿›è¡Œæ•°æ®åº“æ¢å¤æ—¶ï¼ŒORACLEå°†è¯»å–å…¶ä¸­çš„é‡åšè®°å½•(åŒ…æ‹¬å…¶ä¸­çš„ä¿®æ”¹å‘é‡)ï¼Œå¹¶ä¸”å°†è¿™äº›ä¿®æ”¹ç”¨äºç›¸å…³çš„å—ä¸­ã€‚</mark></p><h1 id="5"><a href="#5" class="headerlink" title="5"></a>5</h1><p><span style="background: PaleVioletRed;border-radius:10px;padding:1px 5px;color:white;font-weight:900">å­˜å‚¨ç»“æ„ç®¡ç†ä¸»è¦å°±æ˜¯é€šè¿‡å¯¹è¡¨ç©ºé—´çš„ç®¡ç†æ¥å®ç°çš„</span></p><h1 id="6"><a href="#6" class="headerlink" title="6"></a>6</h1><p><mark style="background:green;border-radius:10px;color:white">æ•ˆæœå¦‚ä¸‹ï¼š</mark></p><h1 id="7"><a href="#7" class="headerlink" title="7"></a>7</h1><p><font size=10px style="font-weight:700;font-family:'åæ–‡å½©äº‘';color:rgb(100,190,100)">åŸºæœ¬è¯­è¨€(ä¸€)</font></p><h1 id="8"><a href="#8" class="headerlink" title="8"></a>8</h1><p><span style="border-bottom: 2px dashed #000000">ä»£ç æ®µã€æ•°æ®æ®µã€BSSæ®µã€å †åŒºã€æ–‡ä»¶æ˜ å°„åŒºä»¥åŠæ ˆåŒº</span></p><h1 id="9"><a href="#9" class="headerlink" title="9"></a>9</h1><div style="background:black;font:conloas;color:white;"> æ•°ç»„é•¿åº¦ä¸ºï¼š3<br> è¯·æŒ‰ä»»æ„é”®ç»§ç»­. . .</div><h1 id="10"><a href="#10" class="headerlink" title="10"></a>10</h1><p><mark style="color:white;background:red;font-weight:600;border_radius:100px">ä½†æ•ˆç‡æ›´é«˜</mark></p><h1 id="11-æŠ˜å "><a href="#11-æŠ˜å " class="headerlink" title="11 æŠ˜å "></a>11 æŠ˜å </h1><details>  <summary>æ›´å¤š</summary>  1. åˆ—è¡¨1<br>  2. åˆ—è¡¨2</details>]]></content>
      
      
      <categories>
          
          <category> æ‰‹å†Œ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ‰‹å†Œ </tag>
            
            <tag> æ ·å¼ </tag>
            
            <tag> CSS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é€šè¿‡ Commit å…³é—­ Issue</title>
      <link href="/%E6%89%8B%E5%86%8C/Git/%E5%85%B3%E9%97%ADissue/"/>
      <url>/%E6%89%8B%E5%86%8C/Git/%E5%85%B3%E9%97%ADissue/</url>
      
        <content type="html"><![CDATA[<p>[toc]</p><h1 id="commitå…³é—­issue"><a href="#commitå…³é—­issue" class="headerlink" title="commitå…³é—­issue"></a>commitå…³é—­issue</h1><p>å¦‚æœè¦åœ¨ç›¸åŒä»“åº“å…³é—­ä¸€ä¸ªIssueï¼ˆå·¥å•ï¼‰ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢åˆ—è¡¨ä¸­çš„å…³é”®è¯å¹¶åœ¨å…¶åé¢åŠ ä¸ŠIssueç¼–å·çš„åº”ç”¨ï¼ˆ#+issueç¼–å·ï¼‰ã€‚</p><p>ä¾‹å¦‚ä¸€ä¸ªæäº¤ä¿¡æ¯ä¸­åŒ…å« Fixes #45 ï¼Œé‚£ä¹ˆä¸€æ—¦è¿™æ¬¡æäº¤è¢«åˆå¹¶åˆ°é»˜è®¤åˆ†æ”¯ï¼Œä»“åº“ä¸­çš„45å·issueå°±ä¼šè‡ªåŠ¨å…³é—­ã€‚</p><h2 id="Issue-å…³é”®å­—"><a href="#Issue-å…³é”®å­—" class="headerlink" title="Issue å…³é”®å­—"></a>Issue å…³é”®å­—</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">close</span><br><span class="line">closes</span><br><span class="line">closed</span><br><span class="line">fix</span><br><span class="line">fixes</span><br><span class="line">fixed</span><br><span class="line">resolve</span><br><span class="line">resolves</span><br><span class="line">resolved</span><br></pre></td></tr></table></figure><h2 id="å…³é—­å¤šä¸ªissues"><a href="#å…³é—­å¤šä¸ªissues" class="headerlink" title="å…³é—­å¤šä¸ªissues"></a>å…³é—­å¤šä¸ªissues</h2><p>å¦‚æœä½ åœ¨commitçš„å¼€å¤´ä½¿ç”¨å¤šä¸ªä¸Šè¿°å…³é”®å­—åŠ issueçš„å¼•ç”¨çš„è¯ï¼Œä½ å°±å¯ä»¥å…³é—­å¤šä¸ªissuesã€‚<br>ä¾‹å¦‚ï¼ŒThis closes #34, closes #23, and closes example_user&#x2F;example_repo#42å°†ä¼šå…³é—­åŒä¸€ä¸ªä»“åº“çš„34å’Œ23å·issueä»¥åŠ example_user&#x2F;example_repo ä»“åº“çš„42å·issueã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æ‰‹å†Œ </category>
          
          <category> Git </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ‰‹å†Œ </tag>
            
            <tag> Git </tag>
            
            <tag> Issue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Git é€ŸæŸ¥æ‰‹å†Œ</title>
      <link href="/%E6%89%8B%E5%86%8C/Git/Git%E9%80%9F%E6%9F%A5%E6%89%8B%E5%86%8C/"/>
      <url>/%E6%89%8B%E5%86%8C/Git/Git%E9%80%9F%E6%9F%A5%E6%89%8B%E5%86%8C/</url>
      
        <content type="html"><![CDATA[<h1 id="æŸ¥çœ‹è¿œç¨‹ä»“"><a href="#æŸ¥çœ‹è¿œç¨‹ä»“" class="headerlink" title="æŸ¥çœ‹è¿œç¨‹ä»“"></a>æŸ¥çœ‹è¿œç¨‹ä»“</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote -v</span><br></pre></td></tr></table></figure><h1 id="åˆ†æ”¯"><a href="#åˆ†æ”¯" class="headerlink" title="åˆ†æ”¯"></a>åˆ†æ”¯</h1><h2 id="æŸ¥çœ‹"><a href="#æŸ¥çœ‹" class="headerlink" title="æŸ¥çœ‹"></a>æŸ¥çœ‹</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æŸ¥çœ‹æœ¬åœ°åˆ†æ”¯</span></span><br><span class="line">git branch</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æŸ¥çœ‹è¿œç¨‹åˆ†æ”¯</span></span><br><span class="line">git branch -r</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æŸ¥çœ‹æ‰€æœ‰åˆ†æ”¯</span></span><br><span class="line">git branch -a</span><br></pre></td></tr></table></figure><h2 id="åˆ é™¤"><a href="#åˆ é™¤" class="headerlink" title="åˆ é™¤"></a>åˆ é™¤</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">åˆ é™¤è¿œç¨‹åˆ†æ”¯</span></span><br><span class="line">git push origin --delete [branch_name]</span><br><span class="line"></span><br><span class="line">2. åˆ é™¤æœ¬åœ°åˆ†æ”¯åŒºåˆ«</span><br><span class="line">git branch -d ä¼šåœ¨åˆ é™¤å‰æ£€æŸ¥mergeçŠ¶æ€ï¼ˆå…¶ä¸ä¸Šæ¸¸åˆ†æ”¯æˆ–è€…ä¸headï¼‰ã€‚</span><br><span class="line">git branch -D æ˜¯git branch --delete --forceçš„ç®€å†™ï¼Œå®ƒä¼šç›´æ¥åˆ é™¤ã€‚</span><br><span class="line"></span><br><span class="line">å…±åŒç‚¹</span><br><span class="line">éƒ½æ˜¯åˆ é™¤æœ¬åœ°åˆ†æ”¯çš„æ–¹æ³•ï¼ˆä¸åˆ é™¤è¿œç¨‹åˆ†æ”¯å‘½ä»¤ç›¸ç‹¬ç«‹ï¼Œè¦æƒ³æœ¬åœ°å’Œè¿œç¨‹éƒ½åˆ é™¤ï¼Œå¿…é¡»å¾—è¿è¡Œä¸¤ä¸ªå‘½ä»¤ï¼‰ã€‚</span><br><span class="line"></span><br><span class="line">3. gitæŸ¥çœ‹åˆ†æ”¯ï¼š</span><br><span class="line">æŸ¥çœ‹æœ¬åœ°åˆ†æ”¯ git branch</span><br><span class="line">æŸ¥çœ‹è¿œç¨‹åˆ†æ”¯ git branch -r</span><br><span class="line">æŸ¥çœ‹æœ¬åœ°å’Œè¿œç¨‹åˆ†æ”¯ git branch -a</span><br><span class="line"></span><br><span class="line">4.gitåˆ é™¤åˆ†æ”¯ï¼š</span><br><span class="line">åˆ é™¤æœ¬åœ°åˆ†æ”¯ git branch -d æœ¬åœ°åˆ†æ”¯å</span><br><span class="line">åˆ é™¤è¿œç¨‹åˆ†æ”¯ git push origin --delete è¿œç¨‹åˆ†æ”¯å</span><br><span class="line">æ¨é€ç©ºåˆ†æ”¯åˆ°è¿œç¨‹ï¼ˆåˆ é™¤è¿œç¨‹åˆ†æ”¯å¦ä¸€ç§å®ç°ï¼‰git push origin :è¿œç¨‹åˆ†æ”¯</span><br></pre></td></tr></table></figure><h1 id="Config"><a href="#Config" class="headerlink" title="Config"></a>Config</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æŸ¥çœ‹git config</span></span><br><span class="line">git config -l </span><br></pre></td></tr></table></figure><h1 id="stash"><a href="#stash" class="headerlink" title="stash"></a>stash</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git stash</span><br><span class="line"></span><br><span class="line">git stash pop</span><br></pre></td></tr></table></figure><h1 id="æ‹‰å–"><a href="#æ‹‰å–" class="headerlink" title="æ‹‰å–"></a>æ‹‰å–</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ‹‰å–è¿œç«¯åˆ†æ”¯åˆ°æœ¬åœ°åˆ†æ”¯ Developåˆ†æ”¯åˆ°æœ¬åœ°Developåˆ†æ”¯</span></span><br><span class="line">git fetch origin Develop:Develop</span><br></pre></td></tr></table></figure><h1 id="æŸ¥çœ‹å·²pushä½†æœªæäº¤çš„å†…å®¹"><a href="#æŸ¥çœ‹å·²pushä½†æœªæäº¤çš„å†…å®¹" class="headerlink" title="æŸ¥çœ‹å·²pushä½†æœªæäº¤çš„å†…å®¹"></a>æŸ¥çœ‹å·²pushä½†æœªæäº¤çš„å†…å®¹</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git cherry -v</span><br></pre></td></tr></table></figure><h1 id="åˆå¹¶"><a href="#åˆå¹¶" class="headerlink" title="åˆå¹¶"></a>åˆå¹¶</h1><h2 id="åˆå¹¶æŸä¸ªåˆ†æ”¯ä¸Šçš„æŸä¸€ä¸ªæ–‡ä»¶"><a href="#åˆå¹¶æŸä¸ªåˆ†æ”¯ä¸Šçš„æŸä¸€ä¸ªæ–‡ä»¶" class="headerlink" title="åˆå¹¶æŸä¸ªåˆ†æ”¯ä¸Šçš„æŸä¸€ä¸ªæ–‡ä»¶"></a>åˆå¹¶æŸä¸ªåˆ†æ”¯ä¸Šçš„æŸä¸€ä¸ªæ–‡ä»¶</h2><ol><li>åˆ‡æ¢åˆ°å½“å‰åˆ†æ”¯ï¼ˆå³ï¼šè¦åˆå¹¶æ–‡ä»¶åˆ°çš„åˆ†æ”¯ï¼‰</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout current_branch</span><br></pre></td></tr></table></figure><ol start="2"><li>åˆå¹¶æŒ‡å®šåˆ†æ”¯ä¸Šçš„æ–‡ä»¶åˆ°å½“å‰åˆ†æ”¯</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout --patch zhiding_branch f.txt</span><br></pre></td></tr></table></figure><p>åˆå¹¶ <code>zhiding_branch</code> åˆ†æ”¯ä¸Šçš„ <code>f.txt</code> æ–‡ä»¶åˆ° <code>current_branch</code></p><h1 id="git-log-æœ€å¼ºè¯­å¥"><a href="#git-log-æœ€å¼ºè¯­å¥" class="headerlink" title="git log æœ€å¼ºè¯­å¥"></a>git log æœ€å¼ºè¯­å¥</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global alias.lg &quot;log --graph --pretty=format:&#x27;%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)&lt;%an&gt;%Creset&#x27; --abbrev-commit --date=relative&quot;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> æ‰‹å†Œ </category>
          
          <category> Git </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ‰‹å†Œ </tag>
            
            <tag> Git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Git é…ç½®å¤šè´¦å·</title>
      <link href="/%E6%89%8B%E5%86%8C/Git/Git%E9%85%8D%E7%BD%AE%E5%A4%9A%E8%B4%A6%E5%8F%B7/"/>
      <url>/%E6%89%8B%E5%86%8C/Git/Git%E9%85%8D%E7%BD%AE%E5%A4%9A%E8%B4%A6%E5%8F%B7/</url>
      
        <content type="html"><![CDATA[<p>[toc]</p><h1 id="ç”Ÿæˆå¤šä¸ªå¯†é’¥"><a href="#ç”Ÿæˆå¤šä¸ªå¯†é’¥" class="headerlink" title="ç”Ÿæˆå¤šä¸ªå¯†é’¥"></a>ç”Ÿæˆå¤šä¸ªå¯†é’¥</h1><ol><li><p>ç”Ÿæˆå¤šä¸ªå¯†é’¥ï¼Œç”Ÿæˆæ—¶ä¿®æ”¹å¯†é’¥æ–‡ä»¶çš„æ–‡ä»¶å</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -C <span class="string">&quot;é‚®ç®±&quot;</span></span><br></pre></td></tr></table></figure><p>æ³¨æ„ä¸Šè¿°å‘½ä»¤æ‰§è¡Œå®Œä¹‹åç¬¬ä¸€ä¸ªè¾“å…¥è¦æ±‚çš„æ˜¯è¾“å…¥çš„ä¿å­˜çš„æ–‡ä»¶å</p><p>ç¤ºä¾‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -C <span class="string">&quot;holdyounger@163.com&quot;</span></span><br><span class="line"><span class="comment"># ä¿å­˜çš„æ—¶å€™å¯ä»¥é€‰æ‹©ä¿å­˜æ–‡ä»¶çš„åç§°è®¾ç½®ä¸º fork_hodlyounger_ssh_key</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ¥ç€æ‰§è¡Œå¦å¤–ä¸€ä¸ªè´¦å·</span></span><br><span class="line">ssh-keygen -t rsa -C <span class="string">&quot;å…¬å¸é‚®ç®±&quot;</span></span><br><span class="line"><span class="comment"># ä¿å­˜çš„æ—¶å€™å¯ä»¥é€‰æ‹©ä¿å­˜æ–‡ä»¶çš„åç§°è®¾ç½®ä¸º id_rsa</span></span><br></pre></td></tr></table></figure></li><li><p>æ·»åŠ å¯†é’¥</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ‡æ¢</span></span><br><span class="line">ssh-agent bash</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ·»åŠ </span></span><br><span class="line">ssh-add ~/.ssh/fork_hodlyounger_ssh_key</span><br><span class="line">ssh-add ~/.ssh/id_rsa</span><br></pre></td></tr></table></figure></li><li><p>å°†å¯†é’¥æ·»åŠ åˆ°è´¦æˆ·ä¸­</p><p>ä½¿ç”¨ <code>cat</code> æŸ¥çœ‹å¯¹åº”è´¦æˆ·çš„ <code>pub</code> æ–‡ä»¶ã€‚å°†å…¶å†…å®¹æ·»åŠ åˆ°è´¦æˆ·ä¸­ã€‚</p></li><li><p>æ·»åŠ æœ¬åœ°é…ç½®æ–‡ä»¶</p><blockquote><p>æ·»åŠ æœ¬åœ°é…ç½®æ–‡ä»¶ç”¨ä»¥åŒºåˆ†å¯†é’¥åœ¨å“ªä¸ªgitä¸­ä½¿ç”¨ï¼Œé…ç½®å¦‚ä¸‹æ‰€ç¤º<br>é…ç½®æ–‡ä»¶æ›´è¯¦ç»†çš„è¯´æ˜å¯ä»¥å‚è€ƒè¿™ç¯‡æ–‡ç«  <a href="https://www.cnblogs.com/nhdlb/p/16718642.html">Gitï¼šå•å°ç”µè„‘åŒæ—¶é…ç½®å¤šä¸ªgitè´¦å· - æ€’å¼çš„èåœ - åšå®¢å›­</a></p></blockquote><p>æ–°å»ºconfigæ–‡ä»¶ï¼Œæ–‡ä»¶å†…å®¹å¦‚ä¸‹æ‰€ç¤ºã€‚</p></li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è¿™ä¸ªæ˜¯æˆ‘ç§äººçš„GitHub</span></span><br><span class="line">Host github</span><br><span class="line">HostName github.com</span><br><span class="line">PreferredAuthentications publickey</span><br><span class="line">IdentityFile  ~/.ssh/fork_hodlyounger_ssh_key</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿™ä¸ªæ˜¯å…¬å¸çš„GitLab</span></span><br><span class="line">Host git-biz.cn</span><br><span class="line">HostName git-biz.cn</span><br><span class="line">PreferredAuthentications publickey</span><br><span class="line">IdentityFile ~/.ssh/id_rsa</span><br></pre></td></tr></table></figure><p>é…ç½®æ–‡ä»¶è¡¥å……è¯´æ˜</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è¿™é‡Œæ˜¯è‡ªå®šä¹‰çš„hostç®€ç§°ï¼Œä»¥åè¿æ¥è¿œç¨‹æœåŠ¡å™¨å°±å¯ä»¥ç”¨å‘½ä»¤ssh myhost</span></span><br><span class="line">Host</span><br><span class="line"><span class="comment"># ä¸»æœºåå¯ç”¨ipä¹Ÿå¯ä»¥æ˜¯åŸŸå(å¦‚:github.comæˆ–è€…bitbucket.org)</span></span><br><span class="line">HostName</span><br><span class="line"><span class="comment"># æœåŠ¡å™¨open-sshç«¯å£ï¼ˆé»˜è®¤ï¼š22,é»˜è®¤æ—¶ä¸€èˆ¬ä¸å†™æ­¤è¡Œï¼‰</span></span><br><span class="line">Port</span><br><span class="line"><span class="comment"># é…ç½®ç™»å½•æ—¶ç”¨ä»€ä¹ˆæƒé™è®¤è¯</span></span><br><span class="line"><span class="comment"># å¯è®¾ä¸º(publickey, password publickey, keyboard-interactive ç­‰)</span></span><br><span class="line">PreferredAuthentications</span><br><span class="line"><span class="comment"># è¯ä¹¦æ–‡ä»¶è·¯å¾„ï¼ˆå¦‚~/.ssh/id_rsa_*)</span></span><br><span class="line">IdentityFile</span><br><span class="line"><span class="comment"># äº‘ç«¯ä»“åº“ç™»å½•ç”¨æˆ·å</span></span><br><span class="line">User</span><br></pre></td></tr></table></figure><h1 id="æ ¡éªŒ"><a href="#æ ¡éªŒ" class="headerlink" title="æ ¡éªŒ"></a>æ ¡éªŒ</h1><p>   ç®€å•ç‚¹å°±æ˜¯sshï¼š</p>   <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -T <span class="string">&quot;holdyoungere@163.com&quot;</span></span><br></pre></td></tr></table></figure><p>   è¿”å› <code>Hi (ç”¨æˆ·å)! You&#39;ve successfully authenticated, but GitHub does not provide shell access.</code> å¼€å¤´æ ·å¼çš„è¡¨ç¤ºæ·»åŠ å¯†é’¥æˆåŠŸäº†ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æ‰‹å†Œ </category>
          
          <category> Git </category>
          
      </categories>
      
      
        <tags>
            
            <tag> git </tag>
            
            <tag> å¤šè´¦å· </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>git emojiæ‰‹å†Œ</title>
      <link href="/%E6%89%8B%E5%86%8C/Git%20emoji%E6%89%8B%E5%86%8C/"/>
      <url>/%E6%89%8B%E5%86%8C/Git%20emoji%E6%89%8B%E5%86%8C/</url>
      
        <content type="html"><![CDATA[<table><thead><tr><th align="center">emoji</th><th align="center">emoji ä»£ç </th><th align="center">commit è¯´æ˜</th></tr></thead><tbody><tr><td align="center">ğŸ¨ (è°ƒè‰²æ¿)</td><td align="center"><code>:art:</code></td><td align="center">æ”¹è¿›ä»£ç ç»“æ„ &#x2F; ä»£ç æ ¼å¼</td></tr><tr><td align="center">âš¡ï¸ (é—ªç”µ) ğŸ (èµ›é©¬)</td><td align="center"><code>:zap:</code> <code>:racehorse:</code></td><td align="center">æå‡æ€§èƒ½</td></tr><tr><td align="center">ğŸ”¥ (ç«ç„°)</td><td align="center"><code>:fire:</code></td><td align="center">ç§»é™¤ä»£ç æˆ–æ–‡ä»¶</td></tr><tr><td align="center">ğŸ› (bug)</td><td align="center"><code>:bug:</code></td><td align="center">ä¿®å¤ bug</td></tr><tr><td align="center">ğŸš‘ (æ€¥æ•‘è½¦)</td><td align="center"><code>:ambulance:</code></td><td align="center">é‡è¦è¡¥ä¸</td></tr><tr><td align="center">âœ¨ (ç«èŠ±)</td><td align="center"><code>:sparkles:</code></td><td align="center">å¼•å…¥æ–°åŠŸèƒ½</td></tr><tr><td align="center">ğŸ“ (å¤‡å¿˜å½•)</td><td align="center"><code>:memo:</code></td><td align="center">æ’°å†™æ–‡æ¡£</td></tr><tr><td align="center">ğŸš€ (ç«ç®­)</td><td align="center"><code>:rocket:</code></td><td align="center">éƒ¨ç½²åŠŸèƒ½</td></tr><tr><td align="center">ğŸ’„ (å£çº¢)</td><td align="center"><code>:lipstick:</code></td><td align="center">æ›´æ–° UI å’Œæ ·å¼æ–‡ä»¶</td></tr><tr><td align="center">ğŸ‰ (åº†ç¥)</td><td align="center"><code>:tada:</code></td><td align="center">åˆæ¬¡æäº¤</td></tr><tr><td align="center">âœ… (ç™½è‰²å¤é€‰æ¡†)</td><td align="center"><code>:white_check_mark:</code></td><td align="center">æ›´æ–°æµ‹è¯•</td></tr><tr><td align="center">ğŸ”’ (é”)</td><td align="center"><code>:lock:</code></td><td align="center">ä¿®å¤å®‰å…¨é—®é¢˜</td></tr><tr><td align="center">ğŸ (è‹¹æœ)</td><td align="center"><code>:apple:</code></td><td align="center">ä¿®å¤ macOS ä¸‹çš„é—®é¢˜</td></tr><tr><td align="center">ğŸ§ (ä¼é¹…)</td><td align="center"><code>:penguin:</code></td><td align="center">ä¿®å¤ Linux ä¸‹çš„é—®é¢˜</td></tr><tr><td align="center">ğŸ (æ——å¸œ)</td><td align="center"><code>:checkered_flag:</code></td><td align="center">ä¿®å¤ Windows ä¸‹çš„é—®é¢˜</td></tr><tr><td align="center">ğŸ¤–ï¼ˆæœºå™¨äººï¼‰</td><td align="center"><code>:robot:</code></td><td align="center">ä¿®å¤ Android ä¸‹çš„é—®é¢˜</td></tr><tr><td align="center">ğŸ (ç»¿è‹¹æœ)</td><td align="center"><code>:green_apple:</code></td><td align="center">ä¿®å¤ iOS ä¸‹çš„é—®é¢˜</td></tr><tr><td align="center">ğŸ”– (ä¹¦ç­¾)</td><td align="center"><code>:bookmark:</code></td><td align="center">å‘è¡Œ &#x2F; ç‰ˆæœ¬æ ‡ç­¾</td></tr><tr><td align="center">ğŸš¨ (è­¦è½¦ç¯)</td><td align="center"><code>:rotating_light:</code></td><td align="center">ç§»é™¤ linter è­¦å‘Š</td></tr><tr><td align="center">ğŸš§ (æ–½å·¥)</td><td align="center"><code>:construction:</code></td><td align="center">å·¥ä½œè¿›è¡Œä¸­</td></tr><tr><td align="center">ğŸ‘· (å·¥äºº)</td><td align="center"><code>:construction_worker:</code></td><td align="center">æ·»åŠ  CI æ„å»ºç³»ç»Ÿ</td></tr><tr><td align="center">ğŸ’š (ç»¿å¿ƒ)</td><td align="center"><code>:green_heart:</code></td><td align="center">ä¿®å¤ CI æ„å»ºé—®é¢˜</td></tr><tr><td align="center">â¬†ï¸ (ä¸Šå‡ç®­å¤´)</td><td align="center"><code>:arrow_up:</code></td><td align="center">å‡çº§ä¾èµ–</td></tr><tr><td align="center">â¬‡ï¸ (ä¸‹é™ç®­å¤´)</td><td align="center"><code>:arrow_down:</code></td><td align="center">é™çº§ä¾èµ–</td></tr><tr><td align="center">ğŸ“Œ (å›¾é’‰)</td><td align="center"><code>:pushpin:</code></td><td align="center">å°†ä¾èµ–é¡¹å›ºå®šåˆ°ç‰¹å®šç‰ˆæœ¬</td></tr><tr><td align="center">ğŸ“ˆ (ä¸Šå‡è¶‹åŠ¿å›¾)</td><td align="center"><code>:chart_with_upwards_trend:</code></td><td align="center">æ·»åŠ åˆ†ææˆ–è·Ÿè¸ªä»£ç </td></tr><tr><td align="center">â™»ï¸ ï¼ˆå›æ”¶ï¼‰</td><td align="center"><code>:recycle:</code></td><td align="center">é‡æ„ä»£ç </td></tr><tr><td align="center">ğŸ³ (é²¸é±¼)</td><td align="center"><code>:whale:</code></td><td align="center">Docker ç›¸å…³å·¥ä½œ</td></tr><tr><td align="center">ğŸŒ (å¸¦å­åˆçº¿çš„åœ°çƒä»ª)</td><td align="center"><code>:globe_with_meridians:</code></td><td align="center">å›½é™…åŒ–ä¸æœ¬åœ°åŒ–</td></tr><tr><td align="center">â• (åŠ å·)</td><td align="center"><code>:heavy_plus_sign:</code></td><td align="center">å¢åŠ ä¸€ä¸ªä¾èµ–</td></tr><tr><td align="center">â– (å‡å·)</td><td align="center"><code>:heavy_minus_sign:</code></td><td align="center">å‡å°‘ä¸€ä¸ªä¾èµ–</td></tr><tr><td align="center">ğŸ”§ (æ‰³æ‰‹)</td><td align="center"><code>:wrench:</code></td><td align="center">ä¿®æ”¹é…ç½®æ–‡ä»¶</td></tr><tr><td align="center">ğŸ”¨ (é”¤å­)</td><td align="center"><code>:hammer:</code></td><td align="center">é‡å¤§é‡æ„</td></tr><tr><td align="center">âœï¸ (é“…ç¬”)</td><td align="center"><code>:pencil2:</code></td><td align="center">ä¿®å¤ typo</td></tr><tr><td align="center">ğŸ’© (ç²‘ç²‘â€¦)</td><td align="center"><code>:hankey:</code></td><td align="center">å†™äº†è¾£é¸¡ä»£ç éœ€è¦ä¼˜åŒ–</td></tr><tr><td align="center">âª (å€’å¸¦)</td><td align="center"><code>:rewind:</code></td><td align="center">æ¢å¤æ›´æ”¹</td></tr><tr><td align="center">ğŸ”€ (äº¤å‰å‘å³çš„ç®­å¤´)</td><td align="center"><code>:twisted_rightwards_arrows:</code></td><td align="center">åˆå¹¶åˆ†æ”¯</td></tr><tr><td align="center">ğŸ“¦ (åŒ…è£¹)</td><td align="center"><code>:package:</code></td><td align="center">æ›´æ–°ç¼–è¯‘çš„æ–‡ä»¶æˆ–åŒ…</td></tr><tr><td align="center">ğŸ‘½ (å¤–æ˜Ÿäºº)</td><td align="center"><code>:alien:</code></td><td align="center">ç”±äºå¤–éƒ¨ API æ›´æ”¹è€Œæ›´æ–°ä»£ç </td></tr><tr><td align="center">ğŸšš (è´§è½¦)</td><td align="center"><code>:truck:</code></td><td align="center">ç§»åŠ¨æˆ–è€…é‡å‘½åæ–‡ä»¶</td></tr><tr><td align="center">ğŸ“„ (æ­£é¢æœä¸Šçš„é¡µé¢)</td><td align="center"><code>:page_facing_up:</code></td><td align="center">å¢åŠ æˆ–æ›´æ–°è®¸å¯è¯ä¹¦</td></tr><tr><td align="center">ğŸ’¥ (çˆ†ç‚¸)</td><td align="center"><code>:boom:</code></td><td align="center">å¼•å…¥çªç ´æ€§çš„å˜åŒ–</td></tr><tr><td align="center">ğŸ± (é“…ç¬”)</td><td align="center"><code>:bento:</code></td><td align="center">å¢åŠ æˆ–æ›´æ–°èµ„æº</td></tr><tr><td align="center">ğŸ‘Œ (OK æ‰‹åŠ¿)</td><td align="center"><code>:ok_hand:</code></td><td align="center">ç”±äºä»£ç å®¡æŸ¥æ›´æ”¹è€Œæ›´æ–°ä»£ç </td></tr><tr><td align="center">â™¿ï¸ (è½®æ¤…)</td><td align="center"><code>:wheelchair:</code></td><td align="center">æ”¹å–„æ— éšœç¢äº¤äº’</td></tr><tr><td align="center">ğŸ’¡ (ç¯æ³¡)</td><td align="center"><code>:bulb:</code></td><td align="center">ç»™ä»£ç æ·»åŠ æ³¨é‡Š</td></tr><tr><td align="center">ğŸ» (å•¤é…’)</td><td align="center"><code>:beers:</code></td><td align="center">é†‰é†ºé†ºåœ°å†™ä»£ç â€¦</td></tr><tr><td align="center">ğŸ’¬ (æ¶ˆæ¯æ°”æ³¡)</td><td align="center"><code>:speech_balloon:</code></td><td align="center">æ›´æ–°æ–‡æœ¬æ–‡æ¡£</td></tr><tr><td align="center">ğŸ—ƒ (å¡ç‰‡æ–‡ä»¶ç›’)</td><td align="center"><code>:card_file_box:</code></td><td align="center">æ‰§è¡Œä¸æ•°æ®åº“ç›¸å…³çš„æ›´æ”¹</td></tr><tr><td align="center">ğŸ”Š (éŸ³é‡å¤§)</td><td align="center"><code>:loud_sound:</code></td><td align="center">å¢åŠ æ—¥å¿—</td></tr><tr><td align="center">ğŸ”‡ (é™éŸ³)</td><td align="center"><code>:mute:</code></td><td align="center">ç§»é™¤æ—¥å¿—</td></tr><tr><td align="center">ğŸ‘¥ (è½®å»“ä¸­çš„åŠèº«åƒ)</td><td align="center"><code>:busts_in_silhouette:</code></td><td align="center">å¢åŠ è´¡çŒ®è€…</td></tr><tr><td align="center">ğŸš¸ (å­©ç«¥é€šè¡Œ)</td><td align="center"><code>:children_crossing:</code></td><td align="center">ä¼˜åŒ–ç”¨æˆ·ä½“éªŒã€å¯ç”¨æ€§</td></tr><tr><td align="center">ğŸ— (å»ºç­‘å»ºé€ )</td><td align="center"><code>:building_construction:</code></td><td align="center">ç»“æ„å˜åŠ¨</td></tr><tr><td align="center">ğŸ“± (iPhone)</td><td align="center"><code>:iphone:</code></td><td align="center">åšå“åº”å¼è®¾è®¡</td></tr><tr><td align="center">ğŸ¤¡ (å°ä¸‘è„¸)</td><td align="center"><code>:clown_face:</code></td><td align="center">å˜²å¼„äº‹ç‰©ï¼ˆç›´è¯‘ï¼Œè¿™ä¸ªæ²¡æ˜ç™½ï¼‰</td></tr><tr><td align="center">ğŸ¥š (é¸¡è›‹)</td><td align="center"><code>:egg:</code></td><td align="center">å¢åŠ å½©è›‹</td></tr><tr><td align="center">ğŸ™ˆ (çœ‹ä¸è§é‚ªæ¶)</td><td align="center"><code>:see_no_evil:</code></td><td align="center">å¢åŠ æˆ–æ›´æ”¹ gitignore</td></tr><tr><td align="center">ğŸ“¸ (ç…§ç›¸æœºé—ªå…‰ç¯)</td><td align="center"><code>:camera_flash:</code></td><td align="center">å¢åŠ æˆ–æ›´æ–°æˆªå›¾</td></tr><tr><td align="center">âš—ï¸ (è’¸é¦å™¨)</td><td align="center"><code>:alembic:</code></td><td align="center">å°è¯•æ–°ä¸œè¥¿</td></tr><tr><td align="center">ğŸ” (æ”¾å¤§é•œ)</td><td align="center"><code>:mag:</code></td><td align="center">SEO ä¼˜åŒ–</td></tr><tr><td align="center">â˜¸ï¸ (èˆ¹çš„æ–¹å‘ç›˜)</td><td align="center"><code>:wheel_of_dharma:</code></td><td align="center">å…³äº Kubernetes çš„å·¥ä½œ</td></tr><tr><td align="center">ğŸ· (æ ‡ç­¾)</td><td align="center"><code>:label:</code></td><td align="center">å¢åŠ ç±»å‹ï¼ˆFLowã€Typescriptï¼‰</td></tr><tr><td align="center">ğŸŒ±(å¬è¯Šå™¨)</td><td align="center"><code>:seedling:</code></td><td align="center">æ·»åŠ æˆ–æ›´æ–°ç§å­æ–‡ä»¶</td></tr><tr><td align="center">ğŸ§µ (æ¯›çº¿åœˆ)</td><td align="center"><code>:thread:</code></td><td align="center">æ·»åŠ æˆ–æ›´æ–°ä¸å¤šçº¿ç¨‹æˆ–å¹¶å‘æ€§ç›¸å…³çš„ä»£ç </td></tr><tr><td align="center">ğŸ¦º(å®‰å…¨é©¬ç”²)</td><td align="center"><code>:safety_vest:</code></td><td align="center">æ·»åŠ æˆ–æ›´æ–°ä¸éªŒè¯ç›¸å…³çš„ä»£ç </td></tr><tr><td align="center">ğŸ§‘â€ğŸ’»(ç¨‹åº)</td><td align="center"><code>:technologist:</code></td><td align="center">æ”¹å–„å¼€å‘è€…ä½“éªŒ :technologist:</td></tr><tr><td align="center">ğŸ§±(ç –)</td><td align="center"><code>:bricks:</code></td><td align="center">åŸºç¡€è®¾æ–½ç›¸å…³çš„å˜åŒ–</td></tr><tr><td align="center">ğŸ©º(å¬è¯Šå™¨)</td><td align="center"><code>:stethoscope:</code></td><td align="center">æ·»åŠ æˆ–æ›´æ–°è¿è¡ŒçŠ¶å†µæ£€æŸ¥</td></tr><tr><td align="center">ğŸ‘”(è¡¬è¡«)</td><td align="center"><code>:necktie:</code></td><td align="center">æ·»åŠ æˆ–æ›´æ–°ä¸šåŠ¡é€»è¾‘</td></tr><tr><td align="center">ğŸ§ª(è¯•ç®¡)</td><td align="center"><code>:test_tube:</code></td><td align="center">æ·»åŠ å¤±è´¥çš„æµ‹è¯•</td></tr><tr><td align="center">âš°ï¸(æ£ºæ¤)</td><td align="center"><code>:coffin:</code></td><td align="center">åˆ é™¤æ­»ä»£ç </td></tr><tr><td align="center">ğŸ§(è§‚å¯Ÿ)</td><td align="center"><code>:monocle_face:</code></td><td align="center">æ•°æ®æ¢ç´¢&#x2F;æ£€æŸ¥</td></tr><tr><td align="center">ğŸ©¹(åˆ›å¯è´´)</td><td align="center"><code>:adhesive_bandage:</code></td><td align="center">ç®€å•ä¿®å¤éå…³é”®é—®é¢˜</td></tr><tr><td align="center">ğŸ›‚(é‰´æƒ)</td><td align="center"><code>:passport_control:</code></td><td align="center">å¤„ç†ä¸æˆæƒã€è§’è‰²å’Œæƒé™ç›¸å…³çš„ä»£ç </td></tr><tr><td align="center">ğŸ—‘ï¸(åƒåœ¾æ¡¶)</td><td align="center"><code>:wastebasket:</code></td><td align="center">éœ€è¦æ¸…ç†çš„åºŸå¼ƒä»£ç </td></tr><tr><td align="center">ğŸ’«(åŠ¨ç”»)</td><td align="center"><code>:dizzy:</code></td><td align="center">æ·»åŠ æˆ–æ›´æ–°åŠ¨ç”»å’Œè¿‡æ¸¡</td></tr><tr><td align="center">ğŸ¥…(è¶³çƒé—¨)</td><td align="center"><code>:goal_net:</code></td><td align="center">æ•è·å¼‚å¸¸</td></tr><tr><td align="center">ğŸš©(æ——å¸œ)</td><td align="center"><code>:triangular_flag_on_post:</code></td><td align="center">æ·»åŠ ã€æ›´æ–°æˆ–åˆ é™¤åŠŸèƒ½æ ‡å¿—</td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> æ‰‹å†Œ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ‰‹å†Œ </tag>
            
            <tag> git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è‹±é›„è”ç›Ÿè¯­å½•</title>
      <link href="/%E6%89%8B%E5%86%8C/Game/LOL/"/>
      <url>/%E6%89%8B%E5%86%8C/Game/LOL/</url>
      
        <content type="html"><![CDATA[<ol><li>ä»ä¹‰é“å¾·ï¼Œä¹Ÿæ˜¯ä¸€ç§å¥¢ä¾ˆã€‚â€”â€”äºšç´¢</li><li>åƒå†›ä¸‡é©¬ä¸€å°†åœ¨ï¼Œæ¢å›Šå–ç‰©æœ‰ä½•éš¾ã€‚â€”â€”çš‡å­</li><li>è½å¶çš„ä¸€ç”Ÿï¼Œåªæ˜¯ä¸ºäº†å½’æ ¹ä¹ˆã€‚â€”â€”äºšç´¢</li><li>æˆ‘å¯¹ä½ çš„çˆ±å°±å¦‚é—ªç”µï¼Œç‹‚æš´è€Œå‰§çƒˆï¼Œé£å‡ºçš„é£é•–ï¼Œæ˜¯æˆ‘å‘ä½ ä¼ è¾¾çš„æ€å¿µã€‚â€”â€”ç‹‚æš´ä¹‹å¿ƒ</li><li>ä¸”å¬é£åŸï¼Œå¾¡å‰‘äºå¿ƒã€‚â€”â€”äºšç´¢</li><li>ä¸€æ›²ç»ˆäº†ï¼Œç¹èŠ±æ•£å°½ï¼Œä¼Šäººå·²é€ï¼Œåªä½™ä¸€å£°ç©ºå¹ã€‚â€”â€”æ­»äº¡é¢‚å”±è€…</li><li>æˆ‘åªæ˜¯éƒ¨è½é—å­ï¼Œä½ ç¡®æ˜¯é«˜è´µå…¬ä¸»ï¼Œæˆ‘æ„¿æŠŠæˆ‘ç”Ÿå‘½çš„åŠ›é‡åŒ–ä¸ºä¸‰åˆ€ä¸ºä½ è€Œæˆ˜ï¼Œåªä¸ºè¯æ˜æˆ‘ï¼Œé…çš„ä¸Šä½ ã€‚â€”â€”è›®æ—ä¹‹ç‹</li><li>æˆ‘å¯¹ä½ çš„çˆ±å°±å¦‚é—ªç”µï¼Œç‹‚æš´è€Œå‰§çƒˆï¼Œé£å‡ºçš„é£é•–æ˜¯å‘ä½ ä¼ è¾¾çš„æ€å¿µã€‚â€”â€”ç‹‚æš´ä¹‹å¿ƒ</li><li>æ— æƒ…çš„å²æœˆæ…¢æ…¢çš„ä¾µèš€ä½ æˆ‘çš„ç”Ÿå‘½ï¼Œåœ¨è¿™å°½å¤´è¯·å…è®¸æˆ‘ä¸ºä½ å¼¹ä¸‹é‚£å›å¿†çš„è‚–é‚¦ã€‚â€”â€”ç´ç‘Ÿä»™å¥³</li><li>ä»æˆ‘æ‰‹ä¸­è„±ç¦»çš„åˆ€åˆƒä¸€ç›´åœ¨é£èˆï¼Œæˆ‘ä¸æ–­çš„å˜å¼ºï¼Œåªæ˜¯ä¸ºäº†å®ˆæŠ¤æˆ‘ä»¬çš„å®¶å›­ï¼Œæˆ‘ç­‰å€™ä½ çš„å½’æ¥ã€‚â€”â€”åˆ€é”‹æ„å¿—</li><li>æ”¾é©¬è¿‡æ¥å§ï¼ä½ ä¼šæ­»çš„å¾ˆå…‰è£çš„ï¼â€”â€”ç›–ä¼¦</li><li>å³ä½¿ä¸€æ— æ‰€æœ‰ï¼Œä¹Ÿè¦æœªé›¨ç»¸ç¼ªï¼â€”â€”æ³•å¤–ç‹‚å¾’</li><li>å¾æˆ˜æ²™åœºï¼Œåªä¸ºå®ˆæŠ¤æˆ‘ä»¬çš„å®¶å›­ã€‚åªä¸ºè§£ç”²å½’ç”°åï¼Œå¯ä»¥åœ¨å¢“å‰å®ˆæŠ¤ä½ ä¸€è¾ˆå­ã€‚â€”â€”å¾·é‚¦</li><li>æˆ‘ä»¬ä¸å—å²æœˆå·¦å³ã€‚â€”â€”é©¬å°”æ‰å“ˆ</li><li>æˆ‘å¯ä»¥æƒ³å»å“ªå°±å»å“ªï¼Œä½†æ˜¯æˆ‘åªæƒ³è¿›å…¥ä½ çš„å¿ƒé‡Œã€‚â€”â€”ç¥–å®‰ç‹‚äºº</li><li>æƒ³è¦å†æ¥ä¸€å‘å—ï¼Œæˆ‘å¯ä¸ä¼šç•™ä¸‹ä»»ä½•æ‚¬å¿µã€‚â€”â€”å¥³è­¦</li><li>ä½“å‹å¹¶ä¸èƒ½è¯´æ˜ä¸€åˆ‡ï¼â€”â€”æè«</li><li>å¦©åªšå€¾åŸçš„é¢å®¹ï¼Œæˆ‘è›Šæƒ‘ä¸‡åƒä¼—ç”Ÿï¼Œå­°ä¸çŸ¥ï¼Œå¿ƒé‡Œï¼Œæ—©æœ‰äº†ä¸€ä¸ªäººã€‚å´åªèƒ½æ— å°½çš„æ€å¿µï¼Œä½ é€æˆ‘çš„å®ç ï¼Œæˆ‘ä¸€ç›´å¸¦ç€ï¼Œåªå› ä¸ºæˆ‘èƒ½çœ‹è§ä½ çš„èº«å½±ã€‚â€”â€”ä¹å°¾å¦–ç‹</li><li>è§„åˆ™å°±æ˜¯ç”¨æ¥æ‰“ç ´çš„ï¼â€”â€”é‡‘å…‹ä¸</li><li>ä½ çš„é—ä½“å°†æ…¢æ…¢æ¶ˆæ•£ï¼ŒåŒ–ä¸ºæ°¸æ’ï¼Œå°±åƒæ²™æ¼ ä¸­çš„æ²™ç ¾é‚£æ ·ã€‚â€”â€”ç‹—å¤´</li><li>ä¸ç®¡æ˜¯æ€ä¹ˆæ ·çš„å¤©æ°”ï¼Œä¸ç®¡æ˜¯ä»€ä¹ˆæ ·çš„ç¯å¢ƒï¼Œä¸ç®¡æœ‰ä»€ä¹ˆæ ·çš„å±é™©ï¼Œæˆ‘çš„ä¼™ä¼´ï¼Œé›ªäººï¼Œä¸€ç›´éƒ½ä¼šé™ªç€æˆ‘ã€‚â€”â€”é›ªäººéª‘å£«</li><li>ä¸–ç•Œä¸Šæœ€ç—›è‹¦çš„äº‹æƒ…ï¼Œè«è¿‡äºçˆ±ä½ ï¼Œå´ä¸èƒ½å¯¹ä½ è¯´å‡ºï¼Œæˆ‘åªèƒ½å€¾æ³¨äºæˆ‘çš„ç´ï¼Œè®©æˆ‘çš„æ—‹å¾‹è¯‰è¯´æˆ‘çš„çˆ±ã€‚â€”â€”ç´ç‘Ÿä»™å¥³</li><li>ä¸‹äº†æ‰‹ä¸­çš„æ­¦å™¨ï¼Œæˆ‘çŸ¥é“ä½ å·²åŒå€¦ã€‚ç›®é€ä½ ç¦»å¼€ï¼Œæˆ‘äº®èµ·é»„æ˜çš„è·¯ç¯ï¼Œç…§äº®ä½ å›å®¶çš„è·¯ã€‚â€”â€”æ­¦å™¨å¤§å¸ˆ</li><li>ä»–ä»¬ä¼šåƒè¿æ¥è‹±é›„ä¸€èˆ¬è¿æ¥ä½ ä»¬ã€‚â€”â€”æš—è£”å‰‘é­”</li><li>è¿™ä¸ªæ•…äº‹è¿˜æ²¡æœ‰å®Œç»“ã€‚â€”â€”äºšç´¢</li><li>æˆ‘å®æ„¿çŠ¯é”™è¯¯ï¼Œä¹Ÿä¸æ„¿ä»€ä¹ˆéƒ½ä¸åšã€‚â€”â€”è‰¾å…‹</li><li>æ–­å‰‘é‡é“¸ä¹‹æ—¥ï¼Œå…¶åŠ¿å½’æ¥ä¹‹æ—¶ï¼â€”â€”ç‘æ–‡</li><li>æˆ‘è¿½é€çš„æ˜¯ä½ çš„èƒŒå½±ï¼Œæˆ‘è·Ÿéšçš„æ˜¯ä½ çš„å¾®ç¬‘ï¼Œå°±ç®—æš´é£é›¨åˆ°æ¥æˆ‘ä¾ç„¶èƒ½åœ¨ä½ å·¦å³ã€‚â€”â€”é›·éœ†å’†å“®</li><li>åªæœ‰è ¢è´§æ‰ä¼šçŠ¹è±«ä¸å†³ã€‚â€”â€”å¡ç‰¹ç³å¨œ</li><li>å…¥ä½“å†°å‡‰çš„æœˆå…‰éƒ½æ¯”ä¸ä¸Šä½ ç»æƒ…çš„ç›®å…‰ï¼Œä¸ºäº†å‡»ç¢ä½ ä¼ªè£…çš„è¡¨é¢ï¼Œæˆ‘åªèƒ½ç”¨å°½å…¨èº«åŠ›æ°”æŒ¥å‡ºé‚£æƒŠé¸¿çš„åŠæœˆå¼§å…‰ã€‚â€”â€”çšæœˆå¥³ç¥</li><li>å¿µå½“å¹´æœ‰çˆ±çš„æˆ‘ï¼Œå¯æƒœå•Šï¼Œä½ ä»¬çœ‹ä¸åˆ°å•¦ã€‚â€”â€”æ°´æ™¶å…ˆé”‹</li><li>å¤œï¼Œé›ªèŠ±é£˜è½ï¼›æˆ‘ï¼Œå­¤ç‹¬é£ä¸­ï¼›å‡›å†½çš„å¯’é£ï¼Œå‰²è£‚ç€æˆ‘çš„çš®è‚¤ã€‚ä¸çŸ¥ç»å¯¹çš„é›¶åº¦æ˜¯å¦èƒ½å†»ç»“å¯¹ä½ çš„æ€å¿µã€‚â€”â€”é›ªäººéª‘å£«</li><li>äººç”Ÿæœ€ç—›è‹¦çš„äº‹è«è¿‡äºä½ æ˜çŸ¥è¦å¤±å»ï¼Œå´è¿˜æ²¡å‘ç”Ÿã€‚â€”â€”åŸºå…°</li><li>å³ä½¿æ˜¯ä¸€æ— æ‰€æœ‰çš„äººä¹Ÿä¼šä¸ºè‡ªå·±æ‰€çæƒœçš„ä¸€åˆ‡è€ŒçŒ®å‡ºç”Ÿå‘½ã€‚â€”â€”æš—è£”å‰‘é­”</li><li>äººä»¬å‘å¾€å¤©å ‚ï¼Œå¯å¤©å ‚æ²¡æœ‰ä½ ã€‚äºæ˜¯æˆ‘å •è½å‡¡é—´è¿½å¯»ä½ çš„è„šæ­¥ï¼Œåªå› æœ‰ä½ çš„åœ°æ–¹æ‰æ˜¯å¤©å ‚ã€‚â€”â€”å •è½å¤©ä½¿</li><li>è¿™åªæ˜¯ä¸€åœºæˆ˜å½¹ï¼Œè€Œæˆ‘ï¼Œå·²ç»èµ¢ä¸‹äº†æˆ˜äº‰ï¼â€”â€”ä¸½æ¡‘å“</li><li>æˆ‘æ¥è‡ªæ·±æµ·ï¼Œæˆ‘æ²¡æœ‰æœ‹å‹ï¼Œå¤§å®¶éƒ½ä¸å’Œæˆ‘ç©ï¼Œåªæœ‰å·¨é²¨æ˜¯æˆ‘çš„æœ‹å‹ï¼Œä½ æ„¿æ„å’Œå®ƒä¸€èµ·ç©å—ï¼Ÿâ€”â€”æ½®æ±æµ·çµ</li><li>å¾æˆ˜æ²™åœºï¼Œåªä¸ºå®ˆæŠ¤æˆ‘ä»¬çš„å®¶å›­ã€‚åªä¸ºè§£ç”²å½’ç”°åï¼Œå¯ä»¥åœ¨å¢“å‰å®ˆæŠ¤ä½ ä¸€è¾ˆå­ã€‚â€”â€”å¾·é‚¦æ€»ç®¡</li><li>å“¼ï¼Œä¸€ä¸ªèƒ½æ‰“çš„éƒ½æ²¡æœ‰ï¼â€”â€”æ­¦å™¨å¤§å¸ˆ</li><li>åˆ«çœ‹æˆ‘çš„çœ¼ç›ï¼Œé‡Œé¢åªæœ‰æ„¤æ€’å’Œç—›è‹¦ã€‚æˆ‘è¯…å’’ç€ä¸€åˆ‡ï¼Œä¹Ÿè¯…å’’ç€è‡ªå·±ã€‚â€”â€”é­”è›‡ä¹‹æ‹¥</li><li>æˆ‘ä¸€ç›´æ€¥é€Ÿå‰è¡Œï¼Œç©¿æ¢­äºäººäººä¹‹é—´ï¼Œè¯•å›¾å«åº”æ¥ä¸æš‡çš„é£æ™¯è®©æˆ‘è¤ªå»å¯¹ä½ çš„æ€å¿µã€‚â€”â€”æ— æå‰‘åœ£</li><li>å¤ªé˜³ä¸ä¼šæ­éœ²çœŸç›¸ã€‚å®ƒçš„å…‰èŠ’åªä¼šè®©äººç¼ä¼¤å’Œè‡´ç›²ã€‚â€”â€”é»›å®‰å¨œ</li><li>æˆ‘ä¸€ç›´æ€¥é€Ÿå‰è¡Œç©¿æ¢­äºäººäººä¹‹é—´è¯•å›¾å«åº”æ¥ä¸æš‡çš„é£æ™¯è®©æˆ‘è¤ªå»å¯¹ä½ çš„æ€å¿µâ€”â€”æ— æå‰‘åœ£</li><li>æ­»åèƒ½åšçš„æœ€æ£’çš„äº‹æƒ…æ˜¯ä»€ä¹ˆï¼Ÿå°±æ˜¯ç¢¾ç¢ä½ çš„æ•Œäººï¼Œçœ‹ç€ä»–ä»¬å…ˆä½ ä¸€æ­¥è€Œå»ï¼Œå¹¶è†å¬ä»–ä»¬æ€¯æ‡¦çš„å“­å–Šã€‚â€”â€”èµ›æ©</li><li>ä½ æœ‰ä¸€åŒæ‘„äººå¿ƒé­„çš„çœ¼ç›ã€‚æˆ‘éå¸¸å–œæ¬¢ã€‚â€”â€”èµé‡‘çŒäºº</li><li>å‘½è¿å·²åšå‡ºäº†å®ƒçš„é€‰æ‹©ï¼â€”â€”èµµä¿¡</li><li>ä½ æ€»è¯´æˆ‘å¤ªå°ï¼Œä½†æ˜¯å‡ºç°å±é™©æˆ‘éƒ½ä¼šè·³è·ƒåˆ°ä½ èº«è¾¹ï¼Œå°†å±é™©æ¨å¼€ã€‚ç”¨æ‰‹ä¸­çš„ç‚®ç­’ï¼Œå®ˆæŠ¤æˆ‘å°å°çš„çˆ±ã€‚â€”â€”éº¦æ—ç‚®æ‰‹</li><li>ä½ ä»¬ä¸èƒ½é€®æ•æˆ‘ï¼Œæˆ‘çˆ¹æ˜¯ç“¦ç½—å…°çš„æŠ—æŠŠå­ã€‚â€”â€”å¥¥æ‹‰å¤«</li><li>æ‚„æ‚„çš„æˆ‘èµ°äº†ï¼Œæ­£å¦‚æˆ‘æ‚„æ‚„çš„æ¥ï¼›æˆ‘æ‘¸ä¸€æ‘¸æˆ’æŒ‡ï¼Œå†å¸¦èµ°ä¸€æ¬¡äº”æ€ã€‚â€”â€”å‰‘åœ£</li><li>ä½ ä»¬çŸ¥é“æœ€å¼ºçš„æ­¦å™¨æ˜¯ä»€ä¹ˆï¼Ÿæ²¡é”™ï¼Œå°±æ˜¯è¡¥ä¸ï¼â€”â€”æ­¦å™¨å¤§å¸ˆ</li><li>æˆ‘åœ¨æ—¶å…‰ä¸­ç©¿æ¢­ï¼Œåªä¸ºæ‰¾å›æ›¾ç»ç¾å¥½çš„æ—¶å…‰ã€‚â€”â€”æ—¶å…‰å®ˆæŠ¤è€…</li><li>ä½ ä»¬è¿™ç§æˆ˜æ–—åŠ›ï¼Œæˆ‘å»ºè®®ä½ ä»¬è¿˜æ˜¯æŠ•é™ç®—äº†ã€‚â€”â€”æ‹‰å…‹ä¸</li><li>ç‚™çƒ­çš„é“æ‹³ç ¸ä¸å¼€ä½ é¢å‰çš„ç‰¢ç¬¼ï¼Œä¸ç”˜æ”¾å¼ƒçš„åŠªåŠ›ï¼Œåªä¸ºäº†æœ‰ä¸€å¤©èƒ½ç ¸å¼€ç‰¢ç¬¼è§ä½ ä¸€é¢ã€‚â€”â€”çš®åŸæ‰§æ³•å®˜</li><li>æƒ³æ”»å‡»æˆ‘ï¼Ÿå…ˆè¯•è¯•å’Œå½±å­ç©æ‹³å‡»å§ã€‚â€”â€”æš—å¤œçŒæ‰‹</li><li>æˆ‘ç–¯ç‹‚çš„å¥”è·‘ï¼Œåªæƒ³ä¸ºä½ æ‰¿å—ä¸€åˆ‡çš„ä¼¤å®³ï¼Œæˆ‘ç«–èµ·äº†å±±ä¸˜ï¼Œä¸æ„¿ä½ çœ‹è§æˆ‘ä¸‘é™‹çš„è„¸åºã€‚â€”â€”è¯…å’’å·¨é­”</li><li>å“ªä¸€ä¸ªæ¯”è¾ƒæ²‰é‡ï¼Œä½ çš„å‰‘åˆƒï¼Œè¿˜æ˜¯ä½ çš„è¿‡å»ï¼Ÿâ€”â€”äºšç´¢</li><li>ç‰©æ˜¯äººéï¼Œå¯æˆ‘ä¾æ—§ç©¿ç€å«è¡£ï¼Œåœ¨é»‘å¤œä¸­å¯»æ‰¾ä½ çš„èº«å½±ã€‚ä½ æˆ‘çš„çº¦å®šæˆ‘ä¸€ç›´è®°å¾—ï¼Œé‚£ä¸€é“é“ç’€ç’¨çš„å…‰æŸï¼Œéƒ½æ˜¯ä¸ºä½ æ‰€äº®ã€‚â€”â€”å¯¡å¦‡åˆ¶é€ è€…</li><li>æ–­å‰‘å¯ä»¥é‡é“¸ï¼Œç ´é•œæ˜¯å¦å¯ä»¥é‡åœ†ï¼Ÿå¿ƒç¢å¯ä»¥å¯ä»¥æ— ç—•ï¼Ÿâ€”â€”æ”¾é€ä¹‹åˆƒ</li><li>ä¸è¦æµ‹è¯•ä½ çš„è¿æ°”ï¼Œå¬å”¤å¸ˆï¼â€”â€”å¡ç‰¹ç³å¨œ</li><li>æ›¾ç»ï¼Œæˆ‘ä»¬é”™è¿‡äº†ï¼Œä½†æ˜¯ï¼Œæˆ‘å¸Œæœ›ä½ çš„æœªæ¥æœ‰æˆ‘ï¼Œæœ‰æˆ‘æ¥å®ˆæŠ¤ç€ä½ ã€‚â€”â€”æœªæ¥å®ˆæŠ¤è€…</li><li>æ²¡æœ‰ä½ çš„ä¸–ç•Œï¼Œæˆ‘æ„Ÿåˆ°å­¤ç‹¬ã€‚æˆ‘ä¸€æ¬¡æ¬¡åœ°æƒ³éšä½ è€Œå»ï¼Œä½†æ˜¯åˆä¸€æ¬¡æ¬¡åœ°é‡ç”Ÿã€‚é•¿ç”Ÿä¸æ­»å¯¹æˆ‘è€Œè¨€æ˜¯ä¸€ä»¶å¤šä¹ˆç—›è‹¦çš„äº‹æƒ…ã€‚â€”â€”æš—è£”å‰‘é­”</li><li>å¾ä¹‹è£è€€ï¼Œç¦»åˆ«å·²ä¹…ã€‚â€”â€”äºšç´¢</li><li>è¿™åœºæµæ˜Ÿé›¨ï¼Œåªæ˜¯æƒ³ç»™ä½ çœ‹ï¼Œæ²¡æƒ³åˆ°å´æ˜¯ä¼¤å®³äº†ä½ ã€‚â€”â€”ä¼—æ˜Ÿä¹‹å­</li><li>ä½ å°†å¿˜è®°å‘¼å¸ï¼Œä½ å°†å¿˜è®°çˆ±æƒ…ã€‚â€”â€”å¡å°”è¨æ–¯</li><li>åœ¨ç“¦ç½—å…°ï¼Œæˆ‘æ˜¯ä¸€ä¸ªæ— æ¶ä¸ä½œçš„å¤§æµ·ç›—ã€‚è€Œæˆä¸ºæµ·ç›—çš„åŸå› æ˜¯ä¸ºä½ ä¿é©¾æŠ¤èˆªã€‚â€”â€”æµ·ç›—èˆ¹é•¿</li><li>å¤–è¡¨å¯æ˜¯å…·æœ‰æ¬ºéª—æ€§çš„ã€‚â€”â€”å¦–å§¬</li><li>é‚£æ‹¿æªçš„æµ·ç›—ï¼Œæ˜¯è®°å¿†é‡Œçš„æ ¸å¿ƒï¼›æµ©ç©ºé‡Œçš„æµæ˜Ÿï¼Œåœ¨æˆ‘çš„è„‘æµ·é—ªè¿‡ã€‚â€”â€”èµé‡‘çŒäºº</li><li>å®ˆæŠ¤ä½ æ˜¯æˆ‘æœ€åçš„å¸Œæœ›ï¼ŒæŸç¼šç€çš„æ˜¯æ€å¿µï¼Œä¸¢å¼ƒçš„æ˜¯æ— å¥ˆï¼Œæœ€åæˆ‘ä¼šç•™ä¸‹ä¸€ä¸ªåœˆæ‘†æ”¾ä½ æˆ‘çš„å›å¿†ï¼Œç›´åˆ°æˆ‘ä¹Ÿå¹²æ¯ï¼Œä½ ä¹Ÿè¿œå»ï¼â€”â€”æ‰­æ›²æ ‘ç²¾</li><li>æ—¶é—´ä¸åœ¨äºä½ æ‹¥æœ‰å¤šå°‘ï¼Œè€Œåœ¨äºä½ æ€æ ·ä½¿ç”¨ã€‚â€”â€”è‰¾å…‹</li><li>æˆ‘æ¯å‘ä½ å°„å‡ºä¸€æ”¯ç®­ï¼Œä¾¿ä»£è¡¨æˆ‘å¯¹ä½ çš„çˆ±å¤šä¸€åˆ†ï¼Œè€Œä½ ï¼Œæ˜¯å¦ä¼šæ¥å—æˆ‘ä¸‡åƒçš„çˆ±ï¼Ÿâ€”â€”å¯’å†°å°„æ‰‹</li><li>æˆ‘ä¸€ç›´æ€¥é€Ÿå‰è¡Œï¼Œç©¿æ¢­äºäººäººä¹‹é—´ã€‚è¯•å›¾å€Ÿåº”æ¥ä¸æš‡çš„é£æ™¯è®©æˆ‘è¤ªå»å¯¹ä½ çš„æ€å¿µã€‚â€”â€”æ— æå‰‘åœ£</li><li>æ­»äº¡å¦‚é£ï¼Œå¸¸ä¼´å¾èº«ã€‚â€”â€”äºšç´¢</li><li>é¡ºæˆ‘è€…æ˜Œï¼Œé€†æˆ‘è€…äº¡ï¼Œæ­¤ä¹ƒå¤©æ„ã€‚â€”â€”å¡ç‰Œ</li><li>å³ä½¿ä¸‘é™‹çš„å¤–è¡¨ä¹Ÿæ©ç›–ä¸äº†æˆ‘å¯¹å¬å”¤å¸ˆçš„æ„Ÿæ¿€ä¹‹æƒ…ï¼Œå³ä½¿åœ¨å¾ˆå±é™©çš„æƒ…å†µä¸‹æˆ‘ä¹Ÿä¼šæŒºèº«è€Œå‡ºã€‚â€”â€”è¯…å’’å·¨é­”</li><li>é‚£åŒæªä¸‹çš„å¼¹å¹•ï¼Œä¸æ˜¯çƒŸèŠ±ï¼Œæ˜¯ç´ä¸Šå¾‹ï¼›çˆ†å‘åœ¨å¥½è¿é—´ï¼Œé‡Šæ”¾ç€æµ·ç›—ä¼¼çš„é‡ã€‚â€”â€”èµé‡‘çŒäºº</li><li>äººç»ˆå½’æ˜¯è¦æ­»çš„ï¼Œä¸ºä»€ä¹ˆä¸é€‰æ‹©ä¸€ç§æ­»äº¡çš„æ–¹å¼å‘¢ï¼Ÿâ€”â€”å¡å°”è¨æ–¯</li><li>è¿‡å»é‚£ä¸ªçˆ±ç¬‘çš„æˆ‘å·²ç»ä¸åœ¨äº†ï¼Œç°åœ¨çš„æˆ‘åªå‰©ä¸‹é­”æ³•ä¸è®°å¿†ä»¥åŠè¿™ä¸ªä¸‘é™‹ä¸å ªçš„èº«èº¯ï¼Œå­¤ç‹¬çš„åœ¨è¿™ä¸ªä¸–ç•Œå¾˜å¾Šã€‚â€”â€”æ°´æ™¶å…ˆé”‹</li><li>è¿™ä¸ä»…ä»…åªæ˜¯å± æ€ï¼Œè€Œæ˜¯æˆ‘çš„æ°ä½œã€‚â€”â€”æš—è£”å‰‘é­”</li><li>æˆ‘æ˜¯ä¸€ä¸ªå½±å­ï¼Œå½“æˆ‘æ½œå…¥é˜´å½±ä¹‹ä¸­ï¼Œæ²¡æœ‰äººèƒ½å¤Ÿçœ‹è§æˆ‘ï¼Œä½†æ˜¯æˆ‘å¸Œæœ›ä½ æ˜¯ä¸ªä¾‹å¤–ï¼â€”â€”å½±æµä¹‹ä¸»</li><li>ç”²æ¿ä¸Šçš„è„šå°ï¼Œç¨³ç¨³çš„åœ¨èˆ¹ä¸Šè”“å»¶ï¼›åœ¨ç¢§æµ·çš„æ³¢æµªé‡Œï¼Œæˆ‘å¦‚æ„¿åšä¸€æ¡é£é±¼ï¼â€”â€”èµé‡‘çŒäºº</li><li>æœ‹å‹ï¼Œæœ‰æˆ‘åœ¨ä½ å°±æ˜¯ä¸æ­»çš„ã€‚å³ä½¿æˆ‘æ­»äº†ã€‚ä¹Ÿè¦è®©ä½ æ´»ç€ç¦»å¼€ã€‚â€”â€”ä¼—æ˜Ÿä¹‹å­</li><li>æˆ‘æ²¡æœ‰è¿‡å¤šçš„æŠ±æ€¨ï¼Œæ¼«å¤©çš„ä¹Œé¸¦éƒ½æ˜¯æˆ‘çš„æœ‹å‹ï¼Œæœ‰è¿™ä¸ªï¼Œå°±è¶³å¤Ÿäº†â€”â€”æœ«æ—¥ä½¿è€…</li><li>æˆ‘çš„å‰‘æ¯”ä»€ä¹ˆéƒ½é‡è¦ï¼Œé™¤äº†ç¾é…’ã€‚â€”â€”äºšç´¢</li><li>æˆ‘ä¹Ÿå¸Œæœ›å˜æˆè´è¶çš„é‚£ä¸€å¤©ï¼Œä¸å†ç°è‰²ï¼Œä¸å†ç—›è‹¦ã€‚ä¸ä¼šå†è®©æˆ‘ä¸‘é™‹çš„å¤–è¡¨å“åˆ°ç¾ä¸½çš„ä½ ã€‚â€”â€”æ·±æ¸Šå·¨å£</li><li>æˆ‘æ„šè ¢çš„ä»¥ä¸ºï¼Œå¤´ä¸Šçš„é‡‘ç®åœˆå¯ä»¥åœˆä½ä½ æ‰€æœ‰çš„çˆ±ï¼Œå¯æƒœæˆ‘æ‰‹ä¸­çš„é‡‘ç®æ£’æ”¹å˜ä¸äº†é‚£ä¸ªå¼€å§‹ï¼Œä¹Ÿå†³å®šä¸äº†è¿™ä¸ªç»“å±€ï¼Œæ ¹æœ¬æ²¡æœ‰é½å¤©å¤§åœ£ï¼Œæˆ‘åªæ˜¯ä¸€åªçŒ´å­ã€‚â€”â€”é½å¤©å¤§åœ£</li><li>å†°å†·çš„é”é“¾ï¼Œæ— æƒ…çš„æŸç¼šï¼Œé»‘è‰²çš„ç¾½æ¯›ï¼Œè¡€è‰²çš„åŒçœ¼ï¼Œæ‰€æœ‰çš„ä¸€åˆ‡éƒ½æ˜¯å› ä¸ºé‚£é¢—å†·å¯‚çš„å¿ƒã€‚â€”â€”å •è½å¤©ä½¿</li><li>ç‹‚é‡å°†ä½¿ä»–ä»¬æ„Ÿåˆ°ç•æƒ§ã€‚â€”â€”è±¹å¥³</li><li>æˆ‘ä¸é¡¾ä¸€åˆ‡çš„å†²å‡ºå»â€¦â€¦ä¸ºä½ å¼€è¾Ÿä¸€æ¡å®‰ç¨³çš„è·¯ã€‚æˆ‘æ»¡è…”çƒ­è¡€çš„æ‹æ‰“ç€â€¦â€¦ä¸ºä½ æŠ›å¼€ä»»ä½•ç»Šè„šçš„çŸ³ã€‚æœ€åï¼Œæˆ‘å¦ç„¶å¾®ç¬‘ç€ç”¨èº¯ä½“ä¸ºä½ æŠµæŒ¡ä¸€åˆ‡â€¦â€¦å› ä¸ºæˆ‘çš„èº«ä½“ä¸Šæ—‹è½¬ç€æˆ‘ä»¬çš„èª“è¨€ï¼â€”â€”ç‰›å¤´é…‹é•¿</li><li>æˆ‘ä¸ä¼šæ€€ç€è€»è¾±è€Œæ­»ï¼â€”â€”äºšç´¢</li><li>æ–­åˆƒå¯ä»¥ä¿®å¤ï¼Œæ®‹å¿ƒå¦‚ä½•å¼¥è¡¥ã€‚â€”â€”æ”¾é€ä¹‹åˆƒ</li><li>å†°å°åƒå¹´çš„å¿ƒï¼Œåªä¸ºç­‰å¾…é‚£ç¬é—´çš„èåŒ–ã€‚æ—¥å¤œå‡„ç¾çš„å‘¼å”¤ã€‚ä¹Ÿæ¢ä¸å›ä½ å¾®ç¬‘çš„å›çœ¸ã€‚â€”â€”å†°æ™¶å‡¤å‡°</li><li>æ ‘å¶çš„ä¸€ç”Ÿåªæ˜¯ä¸ºäº†å½’æ ¹ä¹ˆï¼Ÿâ€”â€”ç–¾é£å‰‘è±ª</li><li>é—­ä¸Šçœ¼ç›ï¼Œä½ ä¼šçœ‹åˆ°æ›´å¤šã€‚â€”â€”ä»™çµå¥³å·«ç’ç’</li><li>ç‚½çƒ­çš„é“æ‹³ç ¸ä¸å¼€ä½ é¢å‰çš„ç‰¢ç¬¼ï¼Œä¸ç”˜æ”¾å¼ƒçš„åŠªåŠ›ï¼Œåªä¸ºäº†æœ‰ä¸€å¤©èƒ½ç ¸å¼€ç‰¢ç¬¼è§ä½ ä¸€é¢ã€‚â€”â€”çš®åŸæ‰§æ³•å®˜è”š</li><li>æˆ‘èƒ½åœ¨ç©ºæ°”ä¸­å—…åˆ°æ•Œäººçš„å‘³é“ï¼Œæˆ‘å¾ˆåŠªåŠ›äº†ï¼Œå¯æ˜¯ï¼Œä¸ºä»€ä¹ˆè¿˜æ˜¯æ‰¾ä¸åˆ°ä½ çš„è¸ªè¿¹å‘¢ï¼â€”â€”å—œè¡€çŒæ‰‹</li><li>æ”¾ä¸‹äº†æ‰‹ä¸­çš„æ­¦å™¨ï¼Œæˆ‘çŸ¥é“ä½ å·²åŒå€¦ï¼Œç›®é€ä½ ç¦»å¼€ï¼Œäº®èµ·é»„æ˜çš„è·¯ç¯ï¼Œç…§äº®ä½ å›å®¶çš„è·¯ã€‚â€”â€”æ­¦å™¨å¤§å¸ˆ</li><li>ä½ ä¸€ç›´åœ¨ç•æƒ§æˆ‘çš„æ¯’åˆºï¼Œåˆ«æ€•ï¼Œè®©æˆ‘ç”¨æˆ‘çš„æ¯’åˆºæŠŠä½ ç‰µå¼•åˆ°æˆ‘çš„èº«è¾¹ã€‚â€”â€”æ°´æ™¶å…ˆé”‹</li><li>è¿½é€çš„æ˜¯ä½ çš„èƒŒå½±ï¼Œæˆ‘è·Ÿéšçš„æ˜¯ä½ çš„å¾®ç¬‘ï¼Œå°±ç®—é»‘å¤œåˆ°æ¥æˆ‘ä¾ç„¶èƒ½åœ¨ä½ å·¦å³ã€‚â€”â€”æ°¸æ’æ¢¦é­‡</li><li>æˆ‘æ—¥å¤ä¸€æ—¥åœ°æŠŠè‡ªå·±å¼„å¾—ä¼¤ç—•ç´¯ç´¯ï¼Œåªæ˜¯ä¸ºäº†çœ‹åˆ°ä½ ä¸ºæˆ‘æŸ¥çœ‹ä¼¤å£æ—¶çš„æŸ”æƒ…ã€‚â€”â€”é˜¿æœ¨æœ¨</li><li>åƒè‹±é›„ä¸€æ ·æˆ˜æ–—ï¼Œæˆ–è€…åƒæ‡¦å¤«ä¸€æ ·æ­»å»ã€‚â€”â€”æš—è£”å‰‘é­”</li><li>æˆ‘å’Œæˆ˜äº‰ä¸€æ ·æ°¸æ’ã€‚â€”â€”æš—è£”å‰‘é­”</li><li>æˆ‘ç­‘èµ·é«˜å¢™ï¼Œåªä¸ºäº†è·Ÿä½ é”åœ¨ä¸€èµ·ï¼Œä¸ç¦»ä¸å¼ƒã€‚â€”â€”çš‡å­</li><li>è°è¯´ç¬‘ç€å°±æ˜¯æ„‰æ‚¦ï¼Œåœ¨æˆ‘å¾®ç¬‘çš„é¢å…·ä¸‹ï¼Œæ˜¯å·²ä¸ºä½ é£å¹²äº†ä¼¤ç—•çš„å¿ƒï¼Œä¹‹æ‰€ä»¥é€—ä¸‡åƒäººå¼€å¿ƒï¼Œåªä¸è¿‡æ˜¯ä¸ºäº†ç­‰ä½ è½¬ä¸–ä¹‹åå¯¹æˆ‘çš„ï¼Œè½»æµ…ä¸€ç¬‘ã€‚â€”â€”æ¶é­”å°ä¸‘</li><li>æ˜æ—¥å®‰åœ¨ï¼Œæ— äººèƒ½å…ã€‚â€”â€”äºšç´¢</li><li>åœ¨æ— äººæ³¨è§†çš„è§’è½ï¼Œç‹¬è‡ªé»˜é»˜çš„å¼¹å¥ã€‚ç´éŸ³å¸¦ç€æˆ‘çš„æ€æ‹ï¼Œå¦„å›¾æ‹‰ä½ä½ è½¬èº«è€Œå»çš„è¢–è§’ã€‚â€”â€”ç´ç‘Ÿä»™å¥³</li><li>ç”Ÿå‘½ï¼Œä¸è¿‡åªæ˜¯ä¸€åœºéª—å±€ï¼Œä»ä½ å¼€å§‹å‘¼å¸çš„é‚£ä¸€åˆ»èµ·ï¼Œä½ å°±å·²ç»åœ¨æ…¢æ…¢æ­»äº¡äº†ã€‚â€”â€”æ­»äº¡é¢‚å”±è€…</li><li>è¿™åœºæˆ˜äº‰ï¼Œå°†ä¼šæ˜¯æˆ‘çš„æ°ä½œï¼â€”â€”æš—è£”å‰‘é­”</li><li>æ— å½¢ä¹‹åˆƒï¼Œæœ€ä¸ºè‡´å‘½ã€‚â€”â€”åŠ«</li><li>å¦©åªšå€¾åŸçš„é¢å®¹ï¼Œæˆ‘è›Šæƒ‘ä¸‡åƒä¼—ç”Ÿã€‚æ®Šä¸çŸ¥å¿ƒé‡Œæ—©æœ‰äº†ä¸€ä¸ªäººï¼Œå´åªèƒ½æ— å°½çš„æ€å¿µã€‚ä½ é€æˆ‘çš„å®ç æˆ‘ä¸€ç›´å¸¦ç€ï¼Œåªå› ä¸ºæˆ‘èƒ½çœ‹è§ä½ çš„èº«å½±ã€‚â€”â€”ä¹å°¾å¦–ç‹</li><li>æ°¸è¿œä¸è¦è´¨ç–‘æˆ‘çš„å¿ è¯šï¼Œä½ ä¸ä¼šäº†è§£æˆ‘ä¸ºä¹‹å¿å—çš„ä¸€åˆ‡ã€‚â€”â€”å¡ç‰¹ç³å¨œ</li><li>å¦‚æœä½ èµ¢ä¸äº†ï¼Œè¯•è¯•æ¢ä¸€æŠŠå¤§ç‚¹çš„å‰‘ï¼é€šå¸¸éƒ½æœ‰ç”¨ã€‚â€”â€”å’†å•¸æ·±æ¸Š</li><li>æˆ‘æŠ«ä¸Šåšç”²ï¼ŒæŒ¡åœ¨ä½ å‰é¢ã€‚ä¸‡åƒçš„å…³å¿ƒï¼ŒåªåŒ–ä¸ºä¸€å¥å°å¿ƒã€‚â€”â€”æŠ«ç”²é¾™é¾Ÿ</li><li>å¤§åœ°çš„èåŒ–ï¼Œæµ·æ°´çš„æš´æ¶¨ï¼Œæ˜Ÿè¾°çš„å è½ã€‚æˆ‘è™šç©ºçš„çœ¼ç›æ— æ³•å…ˆçŸ¥ä½ çš„è¶³è¿¹ã€‚â€”â€”è™šç©ºå…ˆçŸ¥</li><li>æˆ‘åœ¨æ—¶ç©ºä¸­ç©¿æ¢­ï¼Œåªä¸ºæ‰¾å›æ›¾ç»ç¾å¥½çš„æ—¶å…‰â€¦â€¦â€”â€”æ—¶å…‰è€äºº</li><li>åœ¨è¯ºå…‹è¨æ–¯æœ‰ä¸€ä¸ªæ®‹å¿çš„æ€æ‰‹ï¼Œä½†æ˜¯ä½ ä»¬éƒ½ä¸æ˜ç™½ä»–å…¶å®æ˜¯ä¸ºäº†å›½å®¶åœ¨æˆ˜æ–—ï¼Œä»–çš„è‹¦æ¥šæœ‰å‡ äººæ‡‚ï¼Ÿâ€”â€”è¯ºå…‹è¨ä¹‹æ‰‹</li><li>æœ‰æˆ‘åœ¨å°±ä¸å…è®¸åˆ«äººä¼¤å®³ä½ ï¼Œå³ä½¿æˆ‘æ­»äº†ï¼Œä¹Ÿè¦ä½ æ´»ç€ç¦»å¼€ã€‚â€”â€”ä¼—æ˜Ÿä¹‹å­</li><li>åˆ€å…‰å‰‘å½±ï¼Œé“çŸ³å¿ƒè‚ ï¼Œåªæœ‰ä½ çŸ¥é“åœ¨éšé›¾ä¸‹çš„æˆ‘ï¼Œè¿˜æ˜¯é‚£ä¹ˆè„†å¼±ï¼Œå®¹æ˜“æ„Ÿä¼¤ã€‚â€”â€”åˆ€é”‹ä¹‹å½±</li><li>å¦‚æœæˆ‘ä¿©è§’è‰²äº’æ¢ï¼Œæˆ‘ä¼šè®©ä½ çœ‹çœ‹ï¼Œä»€ä¹ˆå«æ®‹å¿ï¼â€”â€”ç»´å˜‰</li><li>æˆ‘æ²¡æœ‰è¿‡å¤šçš„æŠ±æ€¨ï¼Œæ¼«å¤©çš„ä¹Œé¸¦éƒ½æ˜¯æˆ‘çš„æœ‹å‹ï¼Œæœ‰è¿™ä¸ªï¼Œå°±è¶³å¤Ÿäº†ã€‚â€”â€”æœ«æ—¥ä½¿è€…</li><li>ä¸–é—´ä¸‡ç‰©ï¼Œè¡¨é‡Œå¦‚ä¸€è€…ï¼Œåˆæœ‰å‡ ä½•ï¼Ÿâ€”â€”å©•æ‹‰</li><li>å‘å¾®çš„æˆ‘æ‹¿èµ·æ‰‹å¼©éšåŒ¿åœ¨ä½ çš„å·¦å³ï¼Œå®ˆæŠ¤ç€ä½ ï¼Œå³ä½¿ä½ æ°¸è¿œä¹Ÿä¸çŸ¥é“ã€‚â€”â€”ç˜Ÿç–«ä¹‹æº</li><li>æ¯ä¸€å¼ ç‰Œï¼Œéƒ½æ˜¯å¯¹ä½ çš„æ€å¿µã€‚æˆ‘èµŒèµ¢äº†æ‰€æœ‰ï¼Œå´èµ¢ä¸å›ä½ çš„çˆ±ã€‚â€”â€”å¡ç‰Œå¤§å¸ˆ</li><li>é‚£æ‰‹ä¸­çš„å†¥ç«ï¼Œæ˜¯å¦å…‹ä¸­çš„å™©æ¢¦ï¼›æ— æé‡Œçš„é¬¼å½±ï¼Œåœ¨æˆ‘çš„èº«è¾¹ç©¿æ¢­ã€‚â€”â€”å‰‘åœ£</li><li>æ¯ä¸€å¼ ç‰Œï¼Œéƒ½æ˜¯å¯¹ä½ çš„ä¸€ä»½æ€å¿µï¼Œæˆ‘èµŒèµ¢äº†æ‰€æœ‰ï¼Œå´èµ¢ä¸å›ä½ çš„çˆ±ã€‚â€”â€”å¡ç‰Œå¤§å¸ˆ</li><li>è¡Œèµ°äºè™šç©ºï¼Œæˆ‘å½·å¾¨ï¼Œæˆ‘è¿·èŒ«ã€‚æˆ‘ä¸çŸ¥ä½•å»ä½•ä»ï¼Œåªæœ‰é£˜é£˜è¡è¡ã€‚â€”â€”è™šç©ºè¡Œè€…</li><li>ä¸è¦é”™æŠŠä»æ…ˆå½“åšå¼±å°ã€‚â€”â€”å†°å¥³</li><li>æˆ‘ä»¬è¯¥æ€ä¹ˆè¿›è¡Œï¼Œè¿™ä»¤äººé¢„çº¦çš„æŠ˜ç£¨å‘¢ï¼Ÿâ€”â€”é­‚é”å…¸ç‹±é•¿</li><li>æˆ‘ä¸€è·¯ç§ä¸‹äº†è˜‘è‡ï¼Œåªä¸ºè®©ä½ çŸ¥é“å›å®¶çš„è·¯ã€‚â€”â€”è¿…æ·æ–¥å€™</li><li>é‚ªæ¶çš„å¤–è¡¨ï¼Œå…¶å®å¹¶ä¸æ˜¯æˆ‘çš„å†…å¿ƒã€‚ä½ æ€»æ˜¯è¯´æˆ‘å›°ä½äº†ä½ ï¼Œä½ ä¼šä¸ºæˆ‘åœç•™ä¹ˆï¼Ÿâ€”â€”é‚ªæ¶å°æ³•å¸ˆ</li><li>å¿ƒæ€€ææƒ§çš„æ­»å»ï¼Œæˆ–è€…æ‰‹æŸ“é²œè¡€çš„è·èƒœã€‚â€”â€”æš—è£”å‰‘é­”</li><li>æ©â€¦â€¦ä½ ä»¬çš„è‚‰éå¸¸å¯å£ã€‚â€“å—œè¡€çŒæ‰‹</li><li>æˆ‘æ˜¯ä¸€ä¸ªå½±å­ï¼Œå½“æˆ‘æ½œå…¥é˜´å½±ä¹‹ä¸­ï¼Œæ²¡æœ‰äººèƒ½å¤Ÿçœ‹è§æˆ‘ï¼Œä½†æ˜¯ï¼Œæˆ‘å¸Œæœ›ä½ æ˜¯ä¸ªä¾‹å¤–ï¼â€“å½±æµä¹‹ä¸»</li><li>æ¶²å‹ç³»ç»Ÿå·²å¼€å¯ã€‚â€“é¦–é¢†ä¹‹å‚²</li><li>æˆ‘æŠ«ä¸Šåšç”²ï¼ŒæŒ¡åœ¨ä½ çš„èº«å‰ï¼Œä¸‡åƒçš„å…³å¿ƒåªåŒ–ä¸ºä¸€å¥ï¼šå°å¿ƒã€‚â€“æŠ«ç”²é¾™é¾Ÿ</li><li>è®©æˆ‘ä»¬åˆä¼™å¹²å§ï¼â€“çŒ©çº¢æ”¶å‰²è€…</li><li>è¦åè°ƒã€‚â€“ç´ç‘Ÿä»™å¥³</li><li>ä½ ä¸€ç›´åœ¨ç•æƒ§æˆ‘çš„æ¯’åˆºï¼Œåˆ«æ€•ï¼Œè®©æˆ‘ç”¨æˆ‘çš„æ¯’åˆºæŠŠä½ ç‰µå¼•åˆ°æˆ‘çš„èº«è¾¹ã€‚â€“æ°´æ™¶å…ˆé”‹</li><li>æˆ‘æ•¢æ‰“èµŒï¼Œä½ çš„å‘³é“å’Œé¸¡è‚‰å·®ä¸å¤šã€‚â€“ç­–å£«ç»Ÿé¢†</li><li>ä¼—æ˜Ÿå•Šâ€¦â€¦æˆ‘â€¦â€¦å›æ¥â€¦â€¦äº†â€¦â€¦â€“ä¼—æ˜Ÿä¹‹å­</li><li>é¢å…·çš„ç¬‘å®¹ï¼Œé®æŒ¡ä¸ä½æˆ‘çš„æ‚²ä¼¤ï¼Œè°èƒ½çœ‹åˆ°æˆ‘é¢å…·ä¸‹çš„çœ¼æ³ªã€‚â€“æ¶é­”å°ä¸‘</li><li>å¦©åªšå€¾åŸçš„é¢å®¹ï¼Œæˆ‘è›Šæƒ‘ä¸‡åƒä¼—ç”Ÿï¼Œå­°ä¸çŸ¥å¿ƒé‡Œæ—©å·²æœ‰äº†ä¸€ä¸ªäººï¼Œå´åªèƒ½æ— å°½çš„æ€å¿µï¼Œä½ é€æˆ‘çš„å®ç æˆ‘ä¸€ç›´å¸¦ç€ï¼Œåªå› ä¸ºæˆ‘èƒ½çœ‹è§ä½ çš„èº«å½±ã€‚â€“ä¹å°¾å¦–ç‹</li><li>ä½ è¦æ¥å‡ å‘ä¹ˆï¼Ÿâ€“å¯’å†°å°„æ‰‹</li><li>é‡æ€§çš„æœ¬èƒ½ï¼ŒæŒ‡å¼•ç€æˆ‘ä»¬çš„æ‹³å¤´ã€‚â€“é‡å…½ä¹‹çµ</li><li>è¡€å—å˜åšäº†ã€‚â€“çŒ©çº¢æ”¶å‰²è€…</li><li>æˆ‘å¯ä»¥åœ¨ç©ºæ°”ä¸­å—…åˆ°æ•Œäººçš„å‘³é“ï¼Œæˆ‘å¾ˆåŠªåŠ›äº†ï¼Œå¯æ˜¯ï¼Œä¸ºä»€ä¹ˆè¿˜æ˜¯æ‰¾ä¸åˆ°ä½ çš„è¸ªè¿¹ã€‚â€“å—œè¡€çŒæ‰‹</li><li>æˆ‘ä»¬çš„æœ¬èƒ½å¦‚åŒå‰ƒåˆ€èˆ¬é”‹åˆ©ï¼â€“é‡å…½ä¹‹çµ</li><li>å‘½è¿å·²åšå‡ºäº†å®ƒçš„é€‰æ‹©ï¼â€“å¾·é‚¦æ€»ç®¡</li><li>æ¶ä½œå‰§çš„å¯¹è±¡ï¼Œæ˜¯ä½ å“Ÿï¼â€“æ¶é­”å°ä¸‘</li><li>æ²¡é”™ï¼Œæˆ‘çŸ¥é“æˆ‘è®©ä½ æ— æ³•å‘¼å¸ã€‚â€“é£æš´å¥³ç¥</li><li>åœ¨æ— å°½çš„è™šç©ºä¸­ï¼Œæˆ‘æ„Ÿåˆ°äº†å‰æ‰€æœªæœ‰çš„å­¤ç‹¬ï¼Œæˆ‘å¯ä»¥æ å¤ºä»»ä½•ç”Ÿå‘½ï¼Œä½†æ˜¯å´æ å¤ºä»–ä»¬çš„å¿ƒã€‚â€“è™šç©ºæ å¤ºè€…</li><li>ç°åœ¨ä»–ä»¬å¯ä»¥æ­»äº†ï¼â€“è›®æ—ä¹‹ç‹</li><li>å¬æˆ‘è¯´ï¼Œå¬å”¤å¸ˆã€‚æˆ‘å¹¶æ²¡æœ‰å…„å¼Ÿï¼Œä¹Ÿä¸è®¤è¯†ç‰¹æ–¯æ‹‰ï¼æˆ‘çš„ç¬ç§»ä»¥åŠåˆ†èº«é çš„éƒ½æ˜¯é­”æ³•ï¼â€“æ¶é­”å°ä¸‘</li><li>æˆ‘çš„å‰‘åˆƒä¸ä½†å‡†ï¼Œè€Œä¸”ç‹ ï¼â€“åˆ€é”‹æ„å¿—</li><li>æ„¿æ„é€æˆ‘ç‚¹è¡€å—ï¼Ÿâ€“çŒ©çº¢æ”¶å‰²è€…</li><li>è‰¾æ¬§å°¼äºšä¸ä¼šç­äº¡ã€‚â€“åˆ€é”‹æ„å¿—</li><li>è¡€æ¶²æ­£åœ¨æ…¢æ…¢æ»´è½ã€‚â€“çŒ©çº¢æ”¶å‰²è€…</li><li>å½“é»‘è‰²çš„ç«ç‘°æ‚„æ‚„ç»½æ”¾ï¼Œé™¤äº†é•œèŠ±æ°´æœˆï¼Œåˆæœ‰è°èƒ½äº†è§£æˆ‘çš„å¿ƒã€‚â€“è¯¡æœ¯å¦–å§¬</li><li>ç§ç§ä½ çš„èƒŒå~â€“æ¶é­”å°ä¸‘</li><li>åˆ€å…‰å‰‘å½±ï¼Œé“çŸ³å¿ƒè‚ ï¼Œåªæœ‰ä½ çŸ¥é“åœ¨éšé›¾ä¸‹çš„æˆ‘ï¼Œè¿˜æ˜¯é‚£ä¹ˆè„†å¼±ï¼Œå®¹æ˜“æ„Ÿä¼¤ã€‚â€“åˆ€é”‹ä¹‹å½±</li><li>è¡€æµæˆæ²³ï¼â€“çŒ©çº¢æ”¶å‰²è€…</li><li>å›¢ç»“èµ·æ¥å§ï¼Œæˆ‘ä»¬å¿…å°†å‡¯æ—‹ã€‚â€“å¤©å¯è€…</li><li>å‡»é¼“ï¼Œè¿›å†›ï¼â€“å¾·é‚¦æ€»ç®¡</li><li>æˆ‘æ²¡æœ‰è¿‡å¤šçš„æŠ±æ€¨ï¼Œæ¼«å¤©çš„ä¹Œé¸¦éƒ½æ˜¯æˆ‘çš„æœ‹å‹ï¼Œæœ‰è¿™ä¸ªå°±è¶³å¤Ÿäº†ã€‚â€“æœ«æ—¥ä½¿è€…</li><li>æˆ‘ä¼šå°½æƒ…äº«å—ä»–ä»¬çš„éª¨å¤´çš„ã€‚â€“å—œè¡€çŒæ‰‹</li><li>ä»–ä»¬çš„èƒœåˆ©å¿…å°†æˆä¸ºå¥¢æœ›ï¼â€“åˆ€é”‹æ„å¿—</li><li>ä½ ä»¬æ‰“æ¶çš„æ—¶å€™æ€»æ˜¯è¿™ä¹ˆä¸ç»™åŠ›ä¹ˆï¼Ÿâ€“ä¼—æ˜Ÿä¹‹å­</li><li>ç¼“æ…¢çš„æ­¥ä¼ï¼Œè¸‰è·„çš„è„šæ­¥ï¼Œæ»¡å˜´çš„èƒ¡è¯ï¼Œè¿˜æœ‰å˜´è§’é‚£ä¸€æŠ¹è‹¦æ¶©çš„å¾®ç¬‘ï¼Œä¸ºä½•é…’ç²¾éƒ½ä¸èƒ½è§£è„±æˆ‘å¯¹ä½ çš„æ€å¿µã€‚â€“é…’æ¡¶</li><li>æ²¡æœ‰åœ°æ–¹å¯ä»¥å®‰ç”Ÿï¼â€“æ‰­æ›²æ ‘ç²¾</li><li>ä½ ç¬‘æˆ‘ä¸ºä½•æ‹¿ä¸Šé”¤å’Œç›¾ï¼Œä½ è¯´æœ‰ä½ åœ¨ï¼Œæˆ‘ä¸ä¼šå—åˆ°ä¼¤å®³ã€‚å¯æ˜¯ä½ ä¸çŸ¥é“ï¼Œè®©æˆ‘å—ä¼¤çš„äººï¼Œæ˜¯ä½ ã€‚â€“é’¢é“å¤§ä½¿</li><li>æ”¶è·ä¹‹æœˆï¼Œå¤šç¾å¦™çš„åå­—å•Šã€‚â€“çŒ©çº¢æ”¶å‰²è€…</li><li>å®çŸ³ä»¬æ˜¾éœ²ç€å®ƒä»¬çš„é”‹èŠ’ã€‚â€“å®çŸ³éª‘å£«</li><li>ä½ ä»¬åªæ˜¯ç»ç’ƒåˆ¶å“ï¼Œä¸€ç¢°å°±ç¢ã€‚â€“å®çŸ³éª‘å£«</li><li>æˆ‘å¾ˆæƒ³é™ªä¼´åœ¨ä½ çš„èº«è¾¹ï¼Œåªæ˜¯ä½ ä¸å…è®¸ï¼Œæ²¡å…³ç³»ï¼Œåœ¨ä½ éœ€è¦å¸®åŠ©æ—¶ï¼Œæˆ‘è¿˜æ˜¯ä¼šå‡ºç°åœ¨ä½ çš„èº«è¾¹ã€‚â€“æš®å…‰ä¹‹çœ¼</li><li>æè«é˜Ÿé•¿æ­£åœ¨å¾…å‘½ï¼â€“è¿…æ·æ–¥å€™</li><li>è¦ä¼˜ç¾ã€‚â€“ç´ç‘Ÿä»™å¥³</li><li>æˆ‘è¿½é€çš„æ˜¯ä½ çš„èƒŒå½±ï¼Œæˆ‘è·Ÿéšçš„æ˜¯ä½ çš„å¾®ç¬‘ï¼Œå°±ç®—æš´é£é›¨åˆ°æ¥ï¼Œæˆ‘ä¾ç„¶åœ¨ä½ çš„å·¦å³ã€‚â€“é›·éœ†å’†å“®</li><li>ä¸‹äº†æ‰‹ä¸­çš„æ­¦å™¨ï¼Œæˆ‘çŸ¥é“ä½ å·²åŒå€¦ï¼Œç›®é€ä½ ç¦»å¼€ï¼Œäº®çš„èµ·é»„æ˜çš„è·¯ç¯ï¼Œç…§äº®ä½ å›å®¶çš„è·¯ã€‚â€“æ­¦å™¨å¤§å¸ˆ</li><li>ä¸ºè£èª‰è€Œæˆ˜ï¼â€“æˆ˜äº‰å¥³ç¥</li><li>æ‚¨æœç„¶æ·±æ€ç†Ÿè™‘ï¼Œå¬å”¤å¸ˆã€‚â€“æš®å…‰ä¹‹çœ¼</li><li>å™¢ï¼Œä½ æƒ³è¦ä»€ä¹ˆï¼Ÿâ€“ç˜Ÿç–«ä¹‹æº</li><li>ç²¾å½©çš„äºŒé‡å”±ã€‚â€“ç´ç‘Ÿä»™å¥³</li><li>æˆ‘çš„å‰‘åˆƒä»ä¸é¢¤æŠ–ã€‚â€“åˆ€é”‹æ„å¿—</li><li>åªæœ‰é£é€Ÿçš„æ—‹è½¬ï¼Œæ‰å¯ä»¥æ­¢ä½æˆ‘çš„æ³ªæ°´ï¼Œå¿˜è®°ä½ çš„æ¨¡æ ·ã€‚â€“ä¸ç¥¥ä¹‹åˆƒ</li><li>ç»™æˆ‘æ‰¾äº›æ›´å¼ºçš„æ•Œäººï¼â€“å˜‰æ–‡å››ä¸–</li><li>å¯ä»¥æ¥å—çš„å†’é™©ã€‚â€“ç­–å£«ç»Ÿé¢†</li><li>è®©æˆ‘æ¥å¼•é¢†æ‚¨èµ°å‘èƒœåˆ©ã€‚â€“ä¼—æ˜Ÿä¹‹å­</li><li>é€‰ç‰Œå§ï¼â€“å¡ç‰Œå¤§å¸ˆ</li><li>æˆ‘å–œæ¬¢æœ‰å¿ƒè„çš„å‹‡å£«ï¼Œå¹¶ä¸”ç»å¯¹ä¸ä¼šè®©ä»–ä»¬è¿‡æœŸã€‚â€“çŒ©çº¢æ”¶å‰²è€…</li><li>æˆ‘çŸ¥é“è‡ªå·±ä¸€èº«çš„ç—›è‹¦ï¼Œæˆ‘æ²¡æœ‰é€‰æ‹©ï¼Œæˆ‘åªæœ‰å¸¦ç€ä½ çš„çµé­‚ç¦»å»ã€‚â€“é‡‘å±å¤§å¸ˆ</li><li>å°†ä»–ä»¬å†²æ•£ï¼â€“ç‰›å¤´é…‹é•¿</li><li>åœ¨æ¼†é»‘çš„å¤œé‡Œä½ éœ€è¦ä¸€é“å…‰ç…§äº®å¤œè¡Œçš„è·¯ï¼Œæˆ‘ç‡ƒçƒ§äº†è‡ªå·±ï¼Œä½†ä¹Ÿé€ å°±äº†ä½ æˆ‘ä¸èƒ½ç›¸æ‹¥ã€‚â€“å¤ä»‡ç„°é­‚</li><li>å½“æ°´æ™¶ç®­å°„åƒä½ çš„æ—¶å€™ï¼Œè¯·ä¸è¦å®³æ€•ï¼Œåªæ˜¯ä¸ºäº†è®©ä½ ç‰‡åˆ»çš„é©»è¶³ï¼Œå¥½è®©æˆ‘è¿½èµ¶ä½ çš„è„šæ­¥ã€‚â€“å¯’å†°å°„æ‰‹</li><li>ç›®æ ‡å·²è¢«æ ‡è®°ã€‚â€“æš®å…‰ä¹‹çœ¼</li><li>ä¿æŠ¤å¿ è‰¯ï¼â€“å˜‰æ–‡å››ä¸–</li><li>å“ªé‡Œæœ‰æˆ˜æ–—ï¼Œå“ªé‡Œå°±æœ‰æˆ‘ã€‚â€“å¤©å¯è€…</li><li>æ˜¯å•Šï¼å“ˆå“ˆå“ˆå“ˆå“ˆï¼â€“é‚ªæ¶å°æ³•å¸ˆ</li><li>ä¸€æ›²ç»ˆäº†ï¼Œç¹èŠ±æ•£å°½ï¼Œä¼Šäººå·²é€ï¼Œåªä½™ä¸€å£°ç©ºå¹ã€‚â€“æ­»äº¡é¢‚å”±è€…</li><li>é­”æ³•ï¼å®ƒåœ¨å¬å”¤æˆ‘ï¼â€“é‚ªæ¶å°æ³•å¸ˆ</li><li>æˆ‘æ¥è‡ªæ·±æµ·ï¼Œæˆ‘æ²¡æœ‰æœ‹å‹ï¼Œå¤§å®¶éƒ½ä¸å’Œæˆ‘ç©ï¼Œåªæœ‰å·¨é²¨æ˜¯æˆ‘çš„æœ‹å‹ï¼Œä½ æ„¿æ„å’Œä»–ä¸€èµ·ç©å—ï¼Ÿâ€“æ½®å¤•æµ·çµ</li><li>æˆ‘æ˜¯é­”é¬¼ï¼ä¸è®¸ç¬‘ï¼â€“é‚ªæ¶å°æ³•å¸ˆ</li><li>ä¸€åˆ‡å°½åœ¨å¡ç‰Œä¹‹ä¸­ã€‚â€“å¡ç‰Œå¤§å¸ˆ</li><li>æ˜¯æ‘‡ï¼Œè¿˜æ˜¯ä¸æ‘‡ï¼Œè¿™æ˜¯ä¸€ä¸ªé—®é¢˜ã€‚â€“ç‚¼é‡‘æœ¯å£«</li><li>åƒæˆ‘ä¸€è®°é‡å‡»ï¼â€“äº¡çµå‹‡å£«</li><li>ä¸­åœºä¼‘æ¯æ—¶é—´ï¼â€“ç´ç‘Ÿä»™å¥³</li><li>æˆ‘æƒ³æˆ‘ä¼šè®©ä½ éš¾å—ä¸€é˜µå­çš„ï¼â€“å®çŸ³éª‘å£«</li><li>æˆ‘ç”¨æ„å¿µä¼ è¾¾ç»™æ‚¨ã€‚â€“ç´ç‘Ÿä»™å¥³</li><li>è¿™é¦–æ˜¯æ…¢æ¿æ›²ï¼Œå¬å”¤å¸ˆã€‚â€“ç´ç‘Ÿä»™å¥³</li><li>å®Œç¾çš„èŠ‚æ‹ã€‚â€“ç´ç‘Ÿä»™å¥³</li><li>æˆ‘ä¼šæ‚¼å¿µä½ çš„ã€‚â€“å®çŸ³éª‘å£«</li><li>å¦‚æœå–„å¾…åŠ¨ç‰©åä¼šé—®èµ·æ¥çš„è¯ï¼Œæˆ‘ä»¬å°±è¯´è¿™äº›çš®æ¯›æ˜¯ä»¿åˆ¶çš„ã€‚â€“é‡å…½ä¹‹çµ</li><li>æˆ‘å®æ„¿ç›¸ä¿¡ä¸€åˆ‡ï¼Œä¹Ÿä¸æ„¿å†ç›¸ä¿¡ä¸–äººï¼Œåªæœ‰é‡å…½èƒ½å‘Šè¯‰æˆ‘ä»€ä¹ˆå«æ„Ÿæƒ…ã€‚â€“é‡å…½ä¹‹çµ</li><li>å¿ è¯šä¹‹å¿ƒæ°¸ä¸åœæ¯ã€‚â€“é¦–é¢†ä¹‹å‚²</li><li>æˆ‘çš„&#96;é“è·¯ï¼Œæ¸…æ¾ˆæ— æ¯”ã€‚â€“ä¼—æ˜Ÿä¹‹å­</li><li>æˆ‘ä¼šä¸‹è¾¾å‘½ä»¤ã€‚â€“ç­–å£«ç»Ÿé¢†</li><li>ä¿ºå¾ˆç”Ÿæ°”ï¼Œåæœå¾ˆä¸¥é‡ï¼â€“ç‰›å¤´é…‹é•¿</li><li>è§†æ­»å¦‚å½’ï¼Œå°±åœ¨ä»Šå¤©ï¼â€“å˜‰æ–‡å››ä¸–</li><li>æ­£åšç€å‘¢ï¼â€“å¡ç‰Œå¤§å¸ˆ</li><li>å¦‚æœæˆ‘èƒ½ä¼‘æ¯å°±å¥½äº†ã€‚â€“æ‰­æ›²æ ‘ç²¾</li><li>è¦è±¡å¾ç¾å¥½æ—¶å…‰ï¼Œè¯·æ‰¾ç¥ç€ã€‚â€“å®çŸ³éª‘å£«</li><li>ä½ æ˜¯æ²¡æœ‰æœºä¼šèµ¢æˆ‘çš„ã€‚â€“è›®æ—ä¹‹ç‹</li><li>æ²¡æœ‰é€€è·¯äº†ï¼â€“åˆ€é”‹æ„å¿—</li><li>äº¡å‘½å¤©æ¶¯ï¼Œåªæ˜¯ä¸ºäº†è¿½å¯»ä½ çš„è¶³è¿¹ã€‚å´ä¸æƒ³å‘½è¿çš„æ‰å¼„ï¼Œæ€»æ˜¯è®©ä½ æˆ‘å¤©å„ä¸€æ–¹ã€‚â€“æ³•å¤–ç‹‚å¾’</li><li>æ°¸æ’ç—›è‹¦çš„èµ å“ã€‚â€“é¦–é¢†ä¹‹å‚²</li><li>æˆ˜æ–—å§ï¼â€“æˆ˜äº‰å¥³ç¥</li><li>è¿™å°±æ˜¯æˆ‘æ”¶å…»é‚£äº›æµæµªå‰‘åˆƒçš„ç»“æœã€‚â€“åˆ€é”‹æ„å¿—</li><li>æˆ‘å¥½æƒ³å°„ç‚¹å„¿ä»€ä¹ˆï¼â€“éº¦æ—ç‚®æ‰‹</li><li>ç‹©çŒçš„æ—¶å€™åˆ°äº†ã€‚â€“å—œè¡€çŒæ‰‹</li><li>æˆ‘ä¹Ÿè¯•å›¾ç»ˆç»“è¿‡è¿™å›°æ‰°ï¼Œä½†å®ƒæ€»ä¼šå·åœŸé‡æ¥ã€‚â€“æ‰­æ›²æ ‘ç²¾</li><li>æ‰§è¡Œå‡è¡¡ä¹‹ä»¤ã€‚â€“æš®å…‰ä¹‹çœ¼</li><li>å¾·ç›è¥¿äºšï¼Œæ°¸ä¸–é•¿å­˜ï¼â€“å˜‰æ–‡å››ä¸–</li><li>æ˜¯ï¼Œé•¿å®˜ï¼â€“è¿…æ·æ–¥å€™</li><li>ä¸è¦å¦è®¤ä½ çš„æœ¬èƒ½ï¼Œå¬å”¤å¸ˆã€‚â€“é‡å…½ä¹‹çµ</li><li>ä½ æˆ‘çš„çº¦å®šï¼Œæˆ‘ä¸€ç›´è®°å¾—ã€‚é‚£ä¸€é“é“ç’€ç’¨çš„å…‰è¾‰ï¼Œéƒ½æ˜¯ä¸ºä½ æ‰€äº®ã€‚â€“å…‰è¾‰å¥³éƒ</li><li>æˆ‘æ„šè ¢çš„ä»¥ä¸ºï¼Œå¤´ä¸Šçš„é‡‘ç®åœˆå¯ä»¥åœˆä½ä½ æ‰€æœ‰çš„çˆ±ï¼Œå¯æ˜¯æˆ‘æ‰‹ä¸­çš„é‡‘ç®æ£’æ”¹å˜ä¸äº†é‚£ä¸ªå¼€å§‹ï¼Œä¹Ÿå†³å®šä¸äº†è¿™ä¸ªç»“å±€ï¼Œæ ¹æœ¬æ²¡æœ‰é½å¤©å¤§åœ£ï¼Œæˆ‘åªæ˜¯ä¸€åªçŒ´å­ã€‚â€“é½å¤©å¤§åœ£</li><li>è¿™å¾ˆå¥½ç©å–ï¼â€“æ¶é­”å°ä¸‘</li><li>æˆ‘å¯¹ä½ çš„çˆ±å°±å¦‚é—ªç”µï¼Œç‹‚æš´è€Œå‰§çƒˆï¼Œé£å‡ºçš„é£é•–ï¼Œæ˜¯æˆ‘å‘ä½ ä¼ è¾¾çš„æ€å¿µã€‚â€“ç‹‚æš´ä¹‹å¿ƒ</li><li>æˆ‘é†’æ¥äº†ï¼Œä½†æ˜¯ä»€ä¹ˆéƒ½ä¸è®°å¾—ï¼Œæˆ‘å¾ˆå®³æ€•ï¼Œæˆ‘åŒ…è£¹ä½è‡ªå·±çš„èº«ä½“ï¼Œç‹¬è‡ªåœ¨é»‘æš—ä¸­å“­æ³£ã€‚â€“æ®‡ä¹‹æœ¨ä¹ƒä¼Š</li><li>ä¸ºäº†å†…å¿ƒçš„å®‰å®ã€‚â€“ä¼—æ˜Ÿä¹‹å­</li><li>åƒèŠ‚æ‹å™¨ä¸€æ ·å‡†ç¡®æ— è¯¯ã€‚â€“ç´ç‘Ÿä»™å¥³</li><li>ç¨³æ­¥å‰è¿›ï¼â€“åˆ€é”‹æ„å¿—</li><li>æ¥æ¬¡é­”æœ¯æˆæ³•ï¼Œå’‹æ ·ï¼Ÿâ€“æ¶é­”å°ä¸‘</li><li>ä½ çš„äº²å‹ä»¬æ­£åœ¨é¥±å—æŠ˜ç£¨ï¼â€“é‚ªæ¶å°æ³•å¸ˆ</li><li>ç‰©æ˜¯äººéï¼Œå¯æ˜¯æˆ‘ä¾ç„¶ç©¿ç€å«è¡£ï¼Œåœ¨é»‘æš—ä¸­å¯»æ‰¾ä½ çš„èº«å½±ã€‚â€“å¯¡å¦‡åˆ¶é€ è€…</li><li>å¥½æäº†ï¼â€“çŒ©çº¢æ”¶å‰²è€…</li><li>æˆ‘ä¸é¡¾ä¸€åˆ‡çš„å†²å‡ºå»ï¼Œä¸ºä½ å¼€è¾Ÿä¸€æ¡å®‰ç¨³çš„è·¯ï¼Œæˆ‘æ»¡è…”çƒ­è¡€çš„æ‹æ‰“ç€ï¼Œä¸ºä½ æŠ›å¼€ä»»ä½•ç»Šè„šçš„çŸ³ï¼Œæœ€åï¼Œæˆ‘å¦ç„¶çš„å¾®ç¬‘ç€ç”¨æˆ‘çš„èº«ä½“ä¸ºä½ æŠµæŒ¡ä¸€åˆ‡â€¦å› ä¸ºæˆ‘çš„èº«ä½“ä¸Šæ—‹è½¬ç€æˆ‘ä»¬çš„èª“è¨€ã€‚â€“ç‰›å¤´é…‹é•¿</li><li>ä½ ä»¬è·Œå€’äº†æ²¡ï¼Ÿå´©æºƒäº†ä¹ˆï¼Ÿâ€“éº¦æ—ç‚®æ‰‹</li><li>èƒœåˆ©åœ¨æœ›ã€‚â€“ç­–å£«ç»Ÿé¢†</li><li>æ”˜é™¤å¥¸é‚ªï¼â€“å˜‰æ–‡å››ä¸–</li><li>æˆ‘è‡ªäººç±»è¯ç”Ÿï¼Œå´è¢«äººç±»æŠ›å¼ƒï¼Œå­¤ç‹¬çš„å¾˜å¾Šäºä¸–é—´ï¼Œå´ä¸ä¸–é—´æ ¼æ ¼ä¸å…¥ï¼Œäºæ˜¯æˆ‘åªèƒ½è¯•å›¾æŠ“ä½æ¯ä¸ªé‡åˆ°çš„ç”Ÿå‘½ï¼Œå»å€¾è¯‰é‚£é¢—ä»ä¸è¢«ç†è§£çš„å¿ƒã€‚â€“è’¸æ°”æœºå™¨äºº</li><li>ä¸ºäº†çˆ¶ç‹ï¼â€“å˜‰æ–‡å››ä¸–</li><li>è¿™å±€èƒœè´Ÿå·²å®šã€‚â€“å—œè¡€çŒæ‰‹</li><li>æ¼«å¤©çš„å†°é›ªå†»ç»“äº†æˆ‘çš„å¿ƒï¼Œä½†å®ƒå†»ç»“ä¸äº†æˆ‘å¿ƒä¸­çš„æ­£ä¹‰ï¼Œæˆ‘æ„¿ç”¨æˆ‘ä¸¥å¯’çš„èº«èº¯å†°å†»è¿™ä¸–é—´çš„é‚ªæ¶ã€‚â€“å†°æ™¶å‡¤å‡°</li><li>å¥‰å¾ç‹ä¹‹å‘½ï¼â€“å¾·é‚¦æ€»ç®¡</li><li>æˆ‘å¯¹ä½ çš„çˆ±å°±å¦‚é—ªç”µï¼Œç‹‚æš´è€Œå‰§çƒˆï¼Œé£å‡ºçš„é£é•–æ˜¯å¯¹ä½ çš„æ€å¿µã€‚â€“ç‹‚æš´ä¹‹å¿ƒ</li><li>ä½ å¿…é¡»è·Ÿç€ä¿ºï¼â€“ç‰›å¤´é…‹é•¿</li><li>å¼€æˆ˜å§ï¼â€“è›®æ—ä¹‹ç‹</li><li>ä»æˆ‘æ‰‹ä¸­è„±ç¦»çš„åˆ€åˆƒä¸€ç›´åœ¨é£èˆï¼Œæˆ‘ä¸æ–­åœ¨å˜å¼ºï¼Œåªæ˜¯ä¸ºäº†å®ˆæŠ¤æˆ‘ä»¬çš„å®¶å›­ï¼Œç­‰å€™ä½ çš„å½’æ¥ã€‚â€“åˆ€é”‹æ„å¿—</li><li>çœŸæ­£çš„æ„å¿—æ˜¯ä¸ä¼šè¢«å‡»è´¥çš„ï¼â€“åˆ€é”‹æ„å¿—</li><li>æˆ‘ä¹Ÿå¸Œæœ›å˜æˆè´è¶çš„é‚£ä¸€å¤©ï¼Œä¸å†ç°è‰²ï¼Œä¸å†ç—›è‹¦ï¼Œä¸å†è®©æˆ‘ä¸‘é™‹çš„å¤–è¡¨å“åˆ°ç¾ä¸½çš„ä½ ã€‚â€“æ·±æ¸Šå·¨å£</li><li>æˆ‘ä¼šåœ¨é‚£å„¿çš„ã€‚â€“ç˜Ÿç–«ä¹‹æº</li><li>æˆ‘å¯ä»¥æƒ³å»å“ªé‡Œå°±å»å“ªé‡Œï¼Œä½†æ˜¯æˆ‘åªæƒ³å»ä½ å¿ƒé‡Œã€‚â€“ç¥–å®‰ç‹‚äºº</li><li>éšå¿ƒè€ŒåŠ¨ï¼Œéšåˆƒè€Œè¡Œï¼â€“è›®æ—ä¹‹ç‹</li><li>æˆ‘çš„ç›®æ ‡å¾ˆçº¯ç²¹ã€‚â€“ç­–å£«ç»Ÿé¢†</li><li>æˆ‘è§‰å¾—æˆ‘â€¦â€¦å˜å›äººç±»äº†â€¦â€¦â€“å—œè¡€çŒæ‰‹</li><li>æ˜¯çš„ï¼Œåªè¦998ï¼Œå°±èƒ½è®©ä½ çˆ½åˆ°ä¸èƒ½å‘¼å¸å“Ÿã€‚â€“é£æš´å¥³ç¥</li><li>æˆ‘ä»¬ä¸çŸ¥é“ä½•ä¸ºæ€œæ‚¯ï¼Œå³ä½¿å¯¹è±¡æ˜¯ä½ ï¼â€“é‡å…½ä¹‹çµ</li><li>ä½ å·²ç»æ­»äº†â€¦â€¦åªæ˜¯ä½ è¿˜æ²¡å‘è§‰è€Œå·²ã€‚â€“æš®å…‰ä¹‹çœ¼</li><li>ç”Ÿå­˜ï¼Œå°±æ˜¯æŠ˜ç£¨ã€‚â€“é¦–é¢†ä¹‹å‚²</li><li>è¯ºå…‹è¨æ–¯äººä»æ¥ä¸ä¼šé—²é€›ã€‚â€“ç­–å£«ç»Ÿé¢†</li><li>å“¦å¥½çš„ï¼Œå¥½çš„ï¼â€“ç˜Ÿç–«ä¹‹æº</li><li>éå¸¸è£å¹¸ã€‚â€“æš®å…‰ä¹‹çœ¼</li><li>æœ‰æƒ…å†µï¼â€“è¿…æ·æ–¥å€™</li><li>å…¥ä½“å†°å‡‰çš„æœˆå…‰ï¼Œéƒ½æ¯”ä¸ä¸Šä½ ç»æƒ…çš„ç›®å…‰ã€‚ä¸ºäº†å‡»ç¢ä½ ä¼ªè£…çš„è¡¨é¢ï¼Œæˆ‘åªèƒ½ç”¨å°½å…¨èº«åŠ›æ°”æŒ¥å‡ºé‚£æƒŠé¸¿çš„åŠæœˆå¼§å…‰ã€‚â€”â€”çšæœˆå¥³ç¥</li><li>æˆ‘æŸç¼šä½äº†ä½ çš„äººï¼Œå´æŸç¼šä¸ä½ä½ çš„å¿ƒã€‚æ‰€ä»¥æˆ‘åªèƒ½è¿œè¿œè·³ç¦»ä½ èº«è¾¹ï¼Œå› ä¸ºæˆ‘çŸ¥é“ï¼Œç¦»ä½ è¶Šè¿‘ï¼Œæˆ‘çš„å¿ƒå°±ä¼šè¶Šç—›ã€‚â€”â€”çš®åŸå¥³è­¦</li><li>æ²™æ¼ ä¸­çš„å¤ªé˜³ï¼Œæ˜¯æˆ‘å¯¹ä½ çˆ±çš„è±¡å¾ã€‚â€”â€”æ²™æ¼ æ­»ç¥</li><li>åœ¨æ— äººæ³¨è§†çš„è§’è½ï¼Œç‹¬è‡ªé»˜é»˜çš„å¼¹å¥ã€‚ç´éŸ³å¸¦ç€æˆ‘çš„æ€æ‹ï¼Œå¦„å›¾æ‹‰ä½ä½ è½¬èº«è€Œå»çš„è¢–è§’ã€‚â€”â€”ç´ç‘Ÿä»™å¥³</li><li>æˆ‘è¿½é€çš„æ˜¯ä½ çš„èƒŒå½±ï¼Œæˆ‘è·Ÿéšçš„æ˜¯ä½ çš„å¾®ç¬‘ã€‚å°±ç®—æš´é£é›¨åˆ°æ¥ï¼Œæˆ‘ä¾ç„¶èƒ½åœ¨ä½ å·¦å³ã€‚â€”â€”é›·éœ†å’†å“®</li><li>é»˜é»˜çš„åœ¨èƒŒåæœ›ç€ä½ çš„èƒŒå½±ï¼Œå½“ä½ æœ‰å±é™©æ—¶æˆ‘ä¼šæ¯«ä¸çŠ¹è±«çš„ä»å¤©è€Œé™ã€‚å“ªæ€•åŒè…¿éœ‡å¾—ç”Ÿç–¼ï¼Œæˆ‘ä¾ç„¶ä¼šå’¬ç´§ç‰™å…³å†æ¬¡è·³å‘å¯¹æ‰‹ï¼ŒæŠ›å‡ºæ‰‹ä¸­çš„æˆ˜çŸ›ã€‚å“ªæ€•æ˜¯æ­»ï¼Œæˆ‘ä¹Ÿè¦ä¿æŠ¤ä½ çš„å®‰å…¨ã€‚â€”â€”æˆ˜äº‰ä¹‹ç‹</li><li>åˆ«çœ‹æˆ‘çš„çœ¼ç›ï¼Œé‡Œé¢åªæœ‰æ„¤æ€’å’Œç—›è‹¦ã€‚æˆ‘è¯…å’’ç€ä¸€åˆ‡ï¼Œä¹Ÿè¯…å’’ç€è‡ªå·±ã€‚â€”â€”é­”è›‡ä¹‹æ‹¥</li><li>é‡‘è‰²çš„é•¿é©½é™ªä¼´æˆ‘çš„ä¸€ç”Ÿï¼Œæ²¾æ»¡é²œè¡€çš„åŒæ‰‹å´ç£¨ç­ä¸äº†å¿ƒä¸­çš„ä¼¤ç—›ï¼Œæˆ‘ç¿»è…¾ç€èº«å½±åœ¨äººç¾¤ä¸­é—ªçƒï¼Œå¯»æ‰¾ä¸€å¥æœ€çœŸå¿ƒçš„é—®å€™ã€‚ç„¶åæˆ‘æ‚„æ‚„çš„éšæ²¡ã€éšæ²¡ï¼Œéšæ²¡åœ¨é‚£å­¤å¯‚çš„è‰ä¸›â€¦â€¦â€”â€”æš—å¤œçŒæ‰‹</li><li>è¡Œèµ°äºè™šç©ºï¼Œæˆ‘å½·å¾¨ï¼Œæˆ‘è¿·èŒ«ã€‚æˆ‘ä¸çŸ¥ä½•å»ä½•ä»ï¼Œåªæœ‰é£˜é£˜è¡è¡ã€‚â€”â€”è™šç©ºè¡Œè€…</li><li>é€äºæ™¨ï¼Œè¯äºæš®ã€‚è¿½å¯»ç€èŠ³é¦™çš„è¡€æ¶²ï¼Œç¯äºä¸–ä¸å¢“ä¹‹é—´ã€‚â€”â€”çŒ©çº¢æ”¶å‰²ç€</li><li>å°˜å°åƒå¹´ï¼Œè‚‰ä½“æ—©å·²æ¹®ç­ï¼Œæ„è¯†å·²ç„¶ä¸æ¸…ã€‚æ¢ç´¢äº†å…¨éƒ¨é­”æ³•çš„å¥¥ç§˜ï¼Œåªä¸ºèƒ½å¼€è¾Ÿè™šç©ºï¼Œå¯»æ‰¾æ—©å·²å¤±å»çš„ä½ ã€‚â€”â€”è¿œå¤å·«çµ</li><li>ä½ æ€»è¯´æˆ‘å¤ªå°ï¼Œä½†æ˜¯å‡ºç°å±é™©æˆ‘éƒ½ä¼šè·³è·ƒåˆ°ä½ èº«è¾¹ï¼Œå°†å±é™©æ¨å¼€ã€‚ç”¨æ‰‹ä¸­çš„ç‚®ç­’ï¼Œå®ˆæŠ¤æˆ‘å°å°çš„çˆ±ã€‚â€”â€”éº¦æ—ç‚®æ‰‹</li><li>ç‚™çƒ­çš„é“æ‹³ç ¸ä¸å¼€ä½ é¢å‰çš„ç‰¢ç¬¼ï¼Œä¸ç”˜æ”¾å¼ƒçš„åŠªåŠ›ï¼Œåªä¸ºäº†æœ‰ä¸€å¤©èƒ½ç ¸å¼€ç‰¢ç¬¼è§ä½ ä¸€é¢ã€‚â€”â€”çš®åŸæ‰§æ³•å®˜</li></ol>]]></content>
      
      
      <categories>
          
          <category> æ‰‹å†Œ </category>
          
          <category> Game </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è¯­å½• </tag>
            
            <tag> LOL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¸¸è§ç¼–ç¨‹å‘½åç¼©å†™</title>
      <link href="/%E6%89%8B%E5%86%8C/En/%E5%B8%B8%E8%A7%81%E5%91%BD%E5%90%8D%E7%BC%A9%E5%86%99/"/>
      <url>/%E6%89%8B%E5%86%8C/En/%E5%B8%B8%E8%A7%81%E5%91%BD%E5%90%8D%E7%BC%A9%E5%86%99/</url>
      
        <content type="html"><![CDATA[<table><thead><tr><th>é€šç”¨</th><th>ç¼©å†™</th><th>ç¿»è¯‘</th><th>æ§ä»¶</th><th>ç¼©å†™</th><th>ç¿»è¯‘</th></tr></thead><tbody><tr><td>address</td><td>addr</td><td>åœ°å€</td><td>calendar</td><td>cdr</td><td>æ—¥å†</td></tr><tr><td>application</td><td>app</td><td>åº”ç”¨ç¨‹åº</td><td>messageDialog</td><td>msgdlg</td><td>æ¶ˆæ¯æ¡†</td></tr><tr><td>asynchronization</td><td>asyn</td><td>å¼‚æ­¥</td><td>drawer</td><td>drw</td><td>æŠ½å±‰</td></tr><tr><td>average</td><td>avg</td><td>å¹³å‡æ•°</td><td>buttonGroup</td><td>btngrp</td><td>æŒ‰é’®åˆ†ç»„</td></tr><tr><td>bitmap</td><td>bmp</td><td>ä½å›¾</td><td>checkBox</td><td>chk</td><td>å¤é€‰æ¡†</td></tr><tr><td>buffer</td><td>buf</td><td>ç¼“å†²åŒº</td><td>container</td><td>cntr</td><td>å®¹å™¨</td></tr><tr><td>character</td><td>char</td><td>å­—ç¬¦</td><td>button</td><td>btn</td><td>æŒ‰é’®</td></tr><tr><td>color</td><td>clr</td><td>é¢œè‰²</td><td>comboBox</td><td>cmb</td><td>ä¸‹æ‹‰æ¡†</td></tr><tr><td>command</td><td>cmd</td><td>å‘½ä»¤</td><td>lable</td><td>lbl</td><td>æ ‡ç­¾</td></tr><tr><td>delete</td><td>del</td><td>åˆ é™¤</td><td>progressBar</td><td>prg</td><td>è¿›åº¦æ¡</td></tr><tr><td>destination</td><td>dest&#x2F;dst</td><td>ç›®çš„åœ°</td><td>pageIndicator</td><td>pgindic</td><td>Tabåˆ†é¡µæ§ä»¶</td></tr><tr><td>decrease</td><td>dec</td><td>å‡å°‘</td><td>radioButton</td><td>rdo</td><td>å•é€‰æ¡†</td></tr><tr><td>device</td><td>dev</td><td>è®¾å¤‡</td><td>rangeSlider</td><td>rngsld</td><td>æ»‘å—</td></tr><tr><td>different</td><td>diff</td><td>ä¸åŒçš„</td><td>scrollView</td><td>svw</td><td>è§†å›¾æ»šåŠ¨</td></tr><tr><td>directory</td><td>dir</td><td>ç›®å½•</td><td>scrollBar</td><td>vsb(å‚ç›´)&#x2F;hsb(æ°´å¹³)</td><td>æ»šåŠ¨æ¡</td></tr><tr><td>document</td><td>doc</td><td>æ–‡æ¡£</td><td>slider</td><td>sld</td><td>æ»‘åŠ¨å™¨</td></tr><tr><td>dynamic</td><td>dyna</td><td>åŠ¨æ€çš„</td><td>spinBox</td><td>spn</td><td>æ—‹è½¬æ¡†</td></tr><tr><td>environment</td><td>env</td><td>ç¯å¢ƒ</td><td>splitView</td><td>spltvw</td><td>åˆ†å‰²è§†å›¾</td></tr><tr><td>error</td><td>err</td><td>é”™è¯¯</td><td>stackView</td><td>stackvw</td><td>å †æ ˆè§†å›¾</td></tr><tr><td>execute</td><td>exec</td><td>æ‰§è¡Œ</td><td>statusBar</td><td>statbr</td><td>çŠ¶æ€æ¡</td></tr><tr><td>group</td><td>grp</td><td>ç»„</td><td>swipeView</td><td>swpvw</td><td>æ»‘åŠ¨æ§ä»¶</td></tr><tr><td>image</td><td>img</td><td>å›¾åƒ</td><td>switch</td><td>sw</td><td>å¼€å…³</td></tr><tr><td>information</td><td>info</td><td>ä¿¡æ¯</td><td>tabBar</td><td>tbbr</td><td>tabæ </td></tr><tr><td>initialize</td><td>init</td><td>åˆå§‹åŒ–</td><td>textField</td><td>txtfld</td><td>æ–‡æœ¬è¾“å…¥æ¡†</td></tr><tr><td>library</td><td>lib</td><td>åº“</td><td>toolBar</td><td>tlbr</td><td>å·¥å…·æ </td></tr><tr><td>maximum</td><td>max</td><td>æœ€å¤§å€¼</td><td>toolTip</td><td>tltp</td><td>æç¤ºæ¡†</td></tr><tr><td>minimum</td><td>min</td><td>æœ€å°å€¼</td><td>toolButton</td><td>tlbtn</td><td>å·¥å…·æŒ‰é’®</td></tr><tr><td>message</td><td>msg</td><td>æ¶ˆæ¯</td><td>treeView</td><td>trvw</td><td>æ ‘å½¢è§†å›¾</td></tr><tr><td>number</td><td>num</td><td>æ•°å­—ï¼Œæ•°ï¼Œæ•°é‡</td><td>layout</td><td>lyt</td><td>å¸ƒå±€</td></tr><tr><td>object</td><td>obj</td><td>å¯¹è±¡</td><td>mainMenu</td><td>mmnu</td><td>èœå•æ </td></tr><tr><td>parameter</td><td>Param</td><td>å‚æ•°(å½¢å‚)</td><td>groupBox</td><td>gbx</td><td>ç»„åˆæ¡†</td></tr><tr><td>package</td><td>pkg</td><td>æ‰“åŒ…</td><td>pictureBox</td><td>pic</td><td>å›¾ç‰‡æ¡†</td></tr><tr><td>position</td><td>pos</td><td>ä½ç½®</td><td>listView</td><td>lvw</td><td>åˆ—è¡¨è§†å›¾</td></tr><tr><td>previous</td><td>pre</td><td>å‰ä¸€ä¸ª</td><td>window</td><td>win(wnd)</td><td>çª—å£</td></tr><tr><td>process&#x2F;Procedure</td><td>proc</td><td>è¿›ç¨‹&#x2F;è¿‡ç¨‹</td><td>form</td><td>frm</td><td>è¡¨å•</td></tr><tr><td>pointer</td><td>ptr</td><td>æŒ‡é’ˆ</td><td>textBox</td><td>txt</td><td>æ–‡æœ¬æ¡†</td></tr><tr><td>password</td><td>pwd</td><td>å¯†ç </td><td>linkLabel</td><td>llbl</td><td>è¶…é“¾æ¥æ ‡ç­¾æ¡†</td></tr><tr><td>public</td><td>pub</td><td>å…¬å…±çš„</td><td>dialog</td><td>dlg</td><td>å¯¹è¯æ¡†</td></tr><tr><td>reference</td><td>ref</td><td>å¼•ç”¨</td><td>scrollIndicator</td><td>scrlindic</td><td>æ»šåŠ¨æŒ‡ç¤ºå™¨</td></tr><tr><td>source</td><td>src</td><td>æº</td><td></td><td></td><td></td></tr><tr><td>string</td><td>str</td><td>å­—ç¬¦ä¸²</td><td></td><td></td><td></td></tr><tr><td>summation</td><td>sum</td><td>å’Œ</td><td></td><td></td><td></td></tr><tr><td>synchronization</td><td>sync</td><td>åŒæ­¥</td><td></td><td></td><td></td></tr><tr><td>system</td><td>sys</td><td>ç³»ç»Ÿ</td><td></td><td></td><td></td></tr><tr><td>table</td><td>tbl</td><td>è¡¨æ ¼</td><td></td><td></td><td></td></tr><tr><td>temporary</td><td>tmp</td><td>ä¸´æ—¶</td><td></td><td></td><td></td></tr><tr><td>text</td><td>txt</td><td>æ–‡æœ¬</td><td></td><td></td><td></td></tr><tr><td>variable</td><td>var</td><td>å˜é‡</td><td></td><td></td><td></td></tr><tr><td>addition</td><td>add</td><td>åŠ æ³•&#x2F;æ·»åŠ </td><td></td><td></td><td></td></tr><tr><td>argument</td><td>arg</td><td>å®å‚</td><td></td><td></td><td></td></tr><tr><td>array</td><td>arr</td><td>æ•°ç»„</td><td></td><td></td><td></td></tr><tr><td>calculate</td><td>calc</td><td>è®¡ç®—</td><td></td><td></td><td></td></tr><tr><td>configuration</td><td>config</td><td>é…ç½®</td><td></td><td></td><td></td></tr><tr><td>column</td><td>col</td><td>åˆ—</td><td></td><td></td><td></td></tr><tr><td>control</td><td>ctrl</td><td>æ§åˆ¶</td><td></td><td></td><td></td></tr><tr><td>hexadecimal</td><td>hex</td><td>åå…­è¿›åˆ¶</td><td></td><td></td><td></td></tr><tr><td>original</td><td>orig</td><td>åŸä»¶</td><td></td><td></td><td></td></tr><tr><td>return</td><td>rtn</td><td>è¿”å›</td><td></td><td></td><td></td></tr><tr><td>repeat</td><td>rpt</td><td>é‡å¤</td><td></td><td></td><td></td></tr><tr><td>signal</td><td>sig</td><td>ä¿¡å·</td><td></td><td></td><td></td></tr><tr><td>status</td><td>stat</td><td>çŠ¶æ€</td><td></td><td></td><td></td></tr><tr><td>stack</td><td>stk</td><td>æ ˆåŒº</td><td></td><td></td><td></td></tr><tr><td>standard</td><td>std</td><td>æ ‡å‡†</td><td></td><td></td><td></td></tr><tr><td>trigger</td><td>trig</td><td>è§¦å‘</td><td></td><td></td><td></td></tr><tr><td>background</td><td>bg</td><td>èƒŒæ™¯</td><td></td><td></td><td></td></tr><tr><td>escape</td><td>esc</td><td>é€€å‡º</td><td></td><td></td><td></td></tr><tr><td>user</td><td>usr</td><td>ç”¨æˆ·</td><td></td><td></td><td></td></tr><tr><td>list</td><td>lst</td><td>åˆ—è¡¨</td><td></td><td></td><td></td></tr><tr><td>server</td><td>srv</td><td>æœåŠ¡</td><td></td><td></td><td></td></tr><tr><td>manager</td><td>mgr</td><td>ç®¡ç†è€…</td><td></td><td></td><td></td></tr><tr><td>insert</td><td>ins</td><td>æ’å…¥</td><td></td><td></td><td></td></tr><tr><td>point</td><td>pt</td><td>ç‚¹</td><td></td><td></td><td></td></tr><tr><td>function</td><td>func</td><td>å‡½æ•°</td><td></td><td></td><td></td></tr><tr><td>back</td><td>bk</td><td>è¿”å›</td><td></td><td></td><td></td></tr><tr><td>break</td><td>brk</td><td>é—´æ–­</td><td></td><td></td><td></td></tr><tr><td>date</td><td>dat</td><td>æ—¥æœŸ</td><td></td><td></td><td></td></tr><tr><td>edit</td><td>edt</td><td>ç¼–è¾‘</td><td></td><td></td><td></td></tr><tr><td>flag</td><td>flg</td><td>æ ‡å¿—</td><td></td><td></td><td></td></tr><tr><td>grid</td><td>grd</td><td>ç½‘æ ¼</td><td></td><td></td><td></td></tr><tr><td>increment</td><td>inc</td><td>å¢é‡</td><td></td><td></td><td></td></tr><tr><td>length</td><td>len</td><td>é•¿åº¦</td><td></td><td></td><td></td></tr><tr><td>oracle</td><td>ora</td><td>ç”²éª¨æ–‡æ•°æ®åº“</td><td></td><td></td><td></td></tr><tr><td>panorama</td><td>pano</td><td>å…¨æ™¯</td><td></td><td></td><td></td></tr><tr><td>print</td><td>prn</td><td>æ‰“å°</td><td></td><td></td><td></td></tr><tr><td>program</td><td>prg</td><td>ç¨‹åº</td><td></td><td></td><td></td></tr><tr><td>statistic</td><td>stat</td><td>ç»Ÿè®¡</td><td></td><td></td><td></td></tr><tr><td>administrator</td><td>adm</td><td>ç®¡ç†å‘˜</td><td></td><td></td><td></td></tr><tr><td>database</td><td>db</td><td>æ•°æ®åº“</td><td></td><td></td><td></td></tr><tr><td>change</td><td>chg</td><td>æ”¹å˜</td><td></td><td></td><td></td></tr><tr><td>click</td><td>clk</td><td>ç‚¹å‡»</td><td></td><td></td><td></td></tr><tr><td>compare</td><td>cmp</td><td>æ¯”è¾ƒ</td><td></td><td></td><td></td></tr><tr><td>coordinates</td><td>coord</td><td>åæ ‡</td><td></td><td></td><td></td></tr><tr><td>copy</td><td>cpy</td><td>å¤åˆ¶</td><td></td><td></td><td></td></tr><tr><td>current</td><td>cur</td><td>å½“å‰çš„</td><td></td><td></td><td></td></tr><tr><td>dictionary</td><td>dict</td><td>å­—å…¸</td><td></td><td></td><td></td></tr><tr><td>display</td><td>disp</td><td>æ˜¾ç¤º</td><td></td><td></td><td></td></tr><tr><td>driver</td><td>drv</td><td>é©±åŠ¨</td><td></td><td></td><td></td></tr><tr><td>extend</td><td>ex&#x2F;ext</td><td>æ‰©å±•</td><td></td><td></td><td></td></tr><tr><td>frame</td><td>frm</td><td>æ¡†æ¶&#x2F;å¸§</td><td></td><td></td><td></td></tr><tr><td>index</td><td>idx&#x2F;ndx</td><td>ç´¢å¼•</td><td></td><td></td><td></td></tr><tr><td>horizontal</td><td>horz</td><td>æ°´å¹³</td><td></td><td></td><td></td></tr><tr><td>instance</td><td>ins</td><td>å®ä¾‹</td><td></td><td></td><td></td></tr><tr><td>increase</td><td>inc</td><td>å¢åŠ </td><td></td><td></td><td></td></tr><tr><td>link</td><td>lnk</td><td>é“¾æ¥</td><td></td><td></td><td></td></tr><tr><td>middle</td><td>mid</td><td>ä¸­é—´</td><td></td><td></td><td></td></tr><tr><td>multiply</td><td>mul</td><td>ä¹˜</td><td></td><td></td><td></td></tr><tr><td>resource</td><td>res</td><td>èµ„æº</td><td></td><td></td><td></td></tr><tr><td>select</td><td>sel</td><td>é€‰æ‹©</td><td></td><td></td><td></td></tr><tr><td>test</td><td>tst</td><td>æµ‹è¯•</td><td></td><td></td><td></td></tr><tr><td>vertical</td><td>vert</td><td>å‚ç›´</td><td></td><td></td><td></td></tr></tbody></table><table><thead><tr><th>è‹±æ–‡æœ¯è¯­</th><th>æè¿°</th></tr></thead><tbody><tr><td>abstract</td><td>æŠ½è±¡çš„</td></tr><tr><td>abstraction</td><td>æŠ½è±¡æ€§</td></tr><tr><td>access</td><td>è®¿é—®</td></tr><tr><td>access level</td><td>è®¿é—®çº§åˆ«</td></tr><tr><td>access function</td><td>è®¿é—®å‡½æ•°</td></tr><tr><td>adapter</td><td>é€‚é…å™¨</td></tr><tr><td>address</td><td>åœ°å€</td></tr><tr><td>address-of operator</td><td>å–åœ°å€æ“ä½œç¬¦</td></tr><tr><td>aggregation</td><td>èšåˆ</td></tr><tr><td>algorithm</td><td>ç®—æ³•</td></tr><tr><td>allocate</td><td>åˆ†é…</td></tr><tr><td>allocator</td><td>åˆ†é…å™¨</td></tr><tr><td>application</td><td>åº”ç”¨ç¨‹åº</td></tr><tr><td>architecture</td><td>ä½“ç³»ç»“æ„</td></tr><tr><td>argument</td><td>å®å‚</td></tr><tr><td>array</td><td>æ•°ç»„</td></tr><tr><td>arrow operator</td><td>ç®­å¤´æ“ä½œç¬¦</td></tr><tr><td>assembly language</td><td>æ±‡ç¼–è¯­è¨€</td></tr><tr><td>assert(-ion)</td><td>æ–­è¨€</td></tr><tr><td>assign(-ment)</td><td>èµ‹å€¼</td></tr><tr><td>assignment operator</td><td>èµ‹å€¼æ“ä½œç¬¦</td></tr><tr><td>base class</td><td>åŸºç±»</td></tr><tr><td>base type</td><td>åŸºç±»å‹</td></tr><tr><td>binary search</td><td>äºŒåˆ†æŸ¥æ‰¾</td></tr><tr><td>binary tree</td><td>äºŒå‰æ ‘</td></tr><tr><td>binary operator</td><td>äºŒå…ƒæ“ä½œç¬¦</td></tr><tr><td>binding</td><td>ç»‘å®š</td></tr><tr><td>bit</td><td>ä½</td></tr><tr><td>bitwise</td><td>ä»¥ bit ä¸ºå•å…ƒé€ä¸€â€¦â€¦</td></tr><tr><td>block</td><td>åŒºå—</td></tr><tr><td>boolean</td><td>å¸ƒå°”å€¼</td></tr><tr><td>breakpoint</td><td>æ–­ç‚¹</td></tr><tr><td>build</td><td>æ„å»º</td></tr><tr><td>build-in</td><td>å†…ç½®</td></tr><tr><td>bus</td><td>æ€»çº¿</td></tr><tr><td>byte</td><td>å­—èŠ‚</td></tr><tr><td>cache</td><td>é«˜é€Ÿç¼“å­˜ï¼ˆåŒºï¼‰</td></tr><tr><td>call</td><td>è°ƒç”¨</td></tr><tr><td>callback</td><td>å›è°ƒ</td></tr><tr><td>call operator</td><td>call æ“ä½œç¬¦</td></tr><tr><td>character</td><td>å­—ç¬¦</td></tr><tr><td>child class</td><td>å­ç±»</td></tr><tr><td>class</td><td>ç±»</td></tr><tr><td>class template</td><td>ç±»æ¨¡æ¿</td></tr><tr><td>client</td><td>å®¢æˆ·ï¼ˆç«¯ï¼‰</td></tr><tr><td>code</td><td>ä»£ç </td></tr><tr><td>compatible</td><td>å…¼å®¹</td></tr><tr><td>compiler time</td><td>ç¼–è¯‘æœŸ</td></tr><tr><td>compiler</td><td>ç¼–è¯‘å™¨</td></tr><tr><td>component</td><td>ç»„ä»¶</td></tr><tr><td>composition</td><td>å¤åˆ</td></tr><tr><td>concrete</td><td>å…·è±¡çš„</td></tr><tr><td>concurrent</td><td>å¹¶å‘</td></tr><tr><td>configuration</td><td>é…ç½®</td></tr><tr><td>connection</td><td>è¿æ¥</td></tr><tr><td>constraint</td><td>çº¦æŸï¼ˆæ¡ä»¶ï¼‰</td></tr><tr><td>construct</td><td>æ„ä»¶</td></tr><tr><td>container</td><td>å®¹å™¨</td></tr><tr><td>const</td><td>C++ å…³é”®å­—ï¼Œconstant çš„ç¼©å†™</td></tr><tr><td>constant</td><td>å¸¸é‡</td></tr><tr><td>constructor</td><td>æ„é€ å‡½æ•°</td></tr><tr><td>copy</td><td>æ‹·è´ï¼ˆåŠ¨è¯&#x2F;åè¯ï¼‰ï¼Œå‰¯æœ¬ï¼ˆåè¯ï¼‰</td></tr><tr><td>create</td><td>åˆ›å»º</td></tr><tr><td>custom</td><td>å®šåˆ¶</td></tr><tr><td>data</td><td>æ•°æ®</td></tr><tr><td>database</td><td>æ•°æ®åº“</td></tr><tr><td>data member</td><td>æ•°æ®æˆå‘˜ï¼ˆå˜é‡ï¼‰</td></tr><tr><td>data structure</td><td>æ•°æ®ç»“æ„</td></tr><tr><td>debug</td><td>è°ƒè¯•</td></tr><tr><td>debugger</td><td>è°ƒè¯•å™¨</td></tr><tr><td>declaration</td><td>å£°æ˜å¼</td></tr><tr><td>default</td><td>ç¼ºçœï¼ˆé»˜è®¤ï¼‰</td></tr><tr><td>definition</td><td>å®šä¹‰å¼</td></tr><tr><td>delegate</td><td>å§”æ‰˜</td></tr><tr><td>dereference</td><td>æé¢†ï¼ˆè§£å‚è€ƒï¼‰</td></tr><tr><td>derived class</td><td>æ´¾ç”Ÿç±»</td></tr><tr><td>design pattern</td><td>è®¾è®¡æ¨¡å¼</td></tr><tr><td>destroy</td><td>é”€æ¯</td></tr><tr><td>destructor</td><td>ææ„å‡½æ•°</td></tr><tr><td>directive</td><td>æŒ‡ç¤ºç¬¦</td></tr><tr><td>document</td><td>æ–‡æ¡£</td></tr><tr><td>dynamic binding</td><td>åŠ¨æ€ç»‘å®š</td></tr><tr><td>entity</td><td>ç‰©ä½“</td></tr><tr><td>encapsulation</td><td>å°è£…</td></tr><tr><td>enum(-eration)</td><td>æšä¸¾</td></tr><tr><td>equality</td><td>ç›¸ç­‰</td></tr><tr><td>equivalence</td><td>ç­‰ä»·</td></tr><tr><td>evaluate</td><td>æ ¸å®šã€æ ¸ç®—</td></tr><tr><td>exception</td><td>å¼‚å¸¸</td></tr><tr><td>explicit</td><td>æ˜¾å¼</td></tr><tr><td>expression</td><td>è¡¨è¾¾å¼</td></tr><tr><td>file</td><td>æ–‡ä»¶</td></tr><tr><td>framework</td><td>æ¡†æ¶</td></tr><tr><td>full specialization</td><td>å…¨ç‰¹åŒ–</td></tr><tr><td>function</td><td>å‡½æ•°</td></tr><tr><td>function object</td><td>å‡½æ•°å¯¹è±¡</td></tr><tr><td>function template</td><td>å‡½æ•°æ¨¡æ¿</td></tr><tr><td>generic</td><td>æ³›å‹ã€æ³›åŒ–ã€ä¸€èˆ¬åŒ–</td></tr><tr><td>getter</td><td>å–å€¼å‡½æ•°</td></tr><tr><td>global</td><td>å…¨å±€çš„</td></tr><tr><td>handle</td><td>å¥æŸ„</td></tr><tr><td>handler</td><td>å¤„ç†å‡½æ•°</td></tr><tr><td>hash table</td><td>å“ˆå¸Œè¡¨ã€æ•£åˆ—è¡¨</td></tr><tr><td>header(file)</td><td>å¤´æ–‡ä»¶</td></tr><tr><td>heap</td><td>å †</td></tr><tr><td>hierarchy</td><td>ç»§æ‰¿ä½“ç³»</td></tr><tr><td>identifier</td><td>æ ‡è¯†ç¬¦</td></tr><tr><td>implement(-ation)</td><td>å®ç°</td></tr><tr><td>implicit</td><td>éšå–»çš„ã€æš—è‡ªçš„ã€éšå¼</td></tr><tr><td>information</td><td>ä¿¡æ¯</td></tr><tr><td>inheritance</td><td>ç»§æ‰¿</td></tr><tr><td>inline</td><td>å†…è”</td></tr><tr><td>initialization list</td><td>åˆå§‹åŒ–åˆ—è¡¨</td></tr><tr><td>initialize</td><td>åˆå§‹åŒ–</td></tr><tr><td>instance</td><td>å®ä½“</td></tr><tr><td>instantiate</td><td>å®ä½“åŒ–</td></tr><tr><td>interface</td><td>æ¥å£</td></tr><tr><td>Internet</td><td>äº’è”ç½‘</td></tr><tr><td>interpreter</td><td>è§£é‡Šå™¨</td></tr><tr><td>invariants</td><td>æ’å¸¸æ€§</td></tr><tr><td>invoke</td><td>è°ƒç”¨</td></tr><tr><td>iterator</td><td>è¿­ä»£å™¨</td></tr><tr><td>library</td><td>ç¨‹åºåº“</td></tr><tr><td>linker</td><td>è¿æ¥å™¨</td></tr><tr><td>literal</td><td>å­—é¢å¸¸é‡</td></tr><tr><td>list</td><td>é“¾è¡¨</td></tr><tr><td>load</td><td>è£…è½½</td></tr><tr><td>local</td><td>å±€éƒ¨çš„</td></tr><tr><td>lock</td><td>æœºé”</td></tr><tr><td>loop</td><td>å¾ªç¯</td></tr><tr><td>lvalue</td><td>å·¦å€¼</td></tr><tr><td>macro</td><td>å®</td></tr><tr><td>member</td><td>æˆå‘˜</td></tr><tr><td>member function</td><td>æˆå‘˜å‡½æ•°</td></tr><tr><td>memory</td><td>å†…å­˜</td></tr><tr><td>memory leak</td><td>å†…å­˜æ³„æ¼</td></tr><tr><td>meta</td><td>å…ƒ</td></tr><tr><td>meta-programming</td><td>å…ƒç¼–ç¨‹</td></tr><tr><td>modeling</td><td>å¡‘è†œ</td></tr><tr><td>module</td><td>æ¨¡å—</td></tr><tr><td>modifier</td><td>ä¿®é¥°ç¬¦</td></tr><tr><td>multi-tasking</td><td>å¤šä»»åŠ¡</td></tr><tr><td>namespace</td><td>å‘½åç©ºé—´</td></tr><tr><td>native</td><td>å›ºæœ‰çš„</td></tr><tr><td>nested</td><td>åµŒå¥—çš„</td></tr><tr><td>object</td><td>å¯¹è±¡</td></tr><tr><td>object based</td><td>åŸºäºå¯¹è±¡çš„</td></tr><tr><td>object model</td><td>å¯¹è±¡æ¨¡å‹</td></tr><tr><td>object oriented</td><td>é¢å¯¹å¯¹è±¡</td></tr><tr><td>operand</td><td>æ“ä½œæ•°</td></tr><tr><td>operating system</td><td>æ“ä½œç³»ç»Ÿ</td></tr><tr><td>operator</td><td>æ“ä½œç¬¦</td></tr><tr><td>overflow</td><td>æº¢å‡º</td></tr><tr><td>overhead</td><td>é¢å¤–å¼€é”€</td></tr><tr><td>overload</td><td>é‡è½½</td></tr><tr><td>override</td><td>è¦†å†™</td></tr><tr><td>package</td><td>åŒ…</td></tr><tr><td>parallel</td><td>å¹¶è¡Œ</td></tr><tr><td>parameter</td><td>å‚æ•°ã€å½¢å‚</td></tr><tr><td>parent class</td><td>çˆ¶ç±»</td></tr><tr><td>parse</td><td>è§£æ</td></tr><tr><td>partial specialization</td><td>åç‰¹åŒ–</td></tr><tr><td>pass by reference</td><td>æŒ‰å€ä¼ é€’</td></tr><tr><td>pass by value</td><td>æŒ‰å€¼ä¼ é€’</td></tr><tr><td>pattern</td><td>æ¨¡å¼</td></tr><tr><td>placement delete</td><td>ï¼ˆæŸç§ç‰¹æ®Šå½¢å¼çš„ delete operatoeï¼‰</td></tr><tr><td>placement new</td><td>ï¼ˆæŸç§ç‰¹æ®Šå½¢å¼çš„ new operatoeï¼‰</td></tr><tr><td>pointer</td><td>æŒ‡é’ˆ</td></tr><tr><td>polymorphism</td><td>å¤šæ€</td></tr><tr><td>preprocessor</td><td>é¢„å¤„ç†å™¨</td></tr><tr><td>print</td><td>æ‰“å°</td></tr><tr><td>printer</td><td>æ‰“å°æœº</td></tr><tr><td>process</td><td>è¿›ç¨‹</td></tr><tr><td>program</td><td>ç¨‹åº</td></tr><tr><td>programer</td><td>ç¨‹åºå‘˜</td></tr><tr><td>programming</td><td>ç¼–ç¨‹</td></tr><tr><td>project</td><td>é¡¹ç›®</td></tr><tr><td>pseudo code</td><td>ä¼ªä»£ç </td></tr><tr><td>quality</td><td>è´¨é‡</td></tr><tr><td>queue</td><td>é˜Ÿåˆ—</td></tr><tr><td>raw</td><td>åŸå§‹çš„ã€æœªç»å¤„ç†çš„</td></tr><tr><td>recursive</td><td>é€’å½’</td></tr><tr><td>refer to</td><td>æŒ‡å‘ã€æŒ‡ç§°</td></tr><tr><td>reference</td><td>å¼•ç”¨</td></tr><tr><td>regular expression</td><td>æ­£åˆ™è¡¨è¾¾å¼</td></tr><tr><td>resolve</td><td>è§£æ</td></tr><tr><td>return</td><td>è¿”å›</td></tr><tr><td>return type</td><td>è¿”å›ç±»å‹</td></tr><tr><td>return value</td><td>è¿”å›å€¼</td></tr><tr><td>runtime</td><td>è¿è¡ŒæœŸ</td></tr><tr><td>rvalue</td><td>å³å€¼</td></tr><tr><td>save</td><td>ä¿å­˜</td></tr><tr><td>schedule</td><td>è°ƒåº¦</td></tr><tr><td>scheduler</td><td>è°ƒåº¦å™¨</td></tr><tr><td>scope</td><td>ä½œç”¨åŸŸ</td></tr><tr><td>search</td><td>æŸ¥æ‰¾</td></tr><tr><td>semantics</td><td>è¯­ä¹‰</td></tr><tr><td>setter</td><td>è®¾å€¼å‡½æ•°</td></tr><tr><td>signature</td><td>ç­¾å</td></tr><tr><td>smart pointer</td><td>æ™ºèƒ½æŒ‡é’ˆ</td></tr><tr><td>specialization</td><td>ç‰¹åŒ–</td></tr><tr><td>source</td><td>æºç </td></tr><tr><td>stack</td><td>æ ˆ</td></tr><tr><td>standard library</td><td>æ ‡å‡†ç¨‹åºåº“</td></tr><tr><td>statement</td><td>è¯­å¥</td></tr><tr><td>static</td><td>é™æ€çš„</td></tr><tr><td>string</td><td>å­—ç¬¦ä¸²</td></tr><tr><td>subtype</td><td>å­ç±»å‹</td></tr><tr><td>support</td><td>æ”¯æŒ</td></tr><tr><td>template</td><td>æ¨¡æ¿</td></tr><tr><td>temporary object</td><td>ä¸´æ—¶å¯¹è±¡</td></tr><tr><td>text</td><td>æ–‡æœ¬</td></tr><tr><td>thread</td><td>çº¿ç¨‹</td></tr><tr><td>thread safe</td><td>å¤šçº¿ç¨‹å®‰å…¨</td></tr><tr><td>throw</td><td>æŠ›å‡º</td></tr><tr><td>token</td><td>è¯­æ±‡å•å…ƒ</td></tr><tr><td>type</td><td>ç±»å‹</td></tr><tr><td>unary function</td><td>å•å‚å‡½æ•°</td></tr><tr><td>underflow</td><td>ä¸‹æº¢</td></tr><tr><td>unqualified</td><td>æœªç»èµ„æ ¼ä¿®é¥°</td></tr><tr><td>user</td><td>ç”¨æˆ·</td></tr><tr><td>user interface</td><td>ç”¨æˆ·ç•Œé¢</td></tr><tr><td>value</td><td>å€¼</td></tr><tr><td>variable</td><td>å˜é‡</td></tr><tr><td>vector</td><td>çŸ¢é‡</td></tr><tr><td>virtual function</td><td>è™šæ‹Ÿå‡½æ•°</td></tr><tr><td>virtual machine</td><td>è™šæ‹Ÿæœº</td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> æ‰‹å†Œ </category>
          
          <category> En </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ‰‹å†Œ </tag>
            
            <tag> é€ŸæŸ¥ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€Šæ·±å…¥ç†è§£Windowsæ“ä½œç³»ç»Ÿã€‹ä¸€ä¹¦é™„å½•ä¸­è‹±è¯­å•è¯æ•´ç†</title>
      <link href="/%E6%89%8B%E5%86%8C/En/CodeEn_from_Windows/"/>
      <url>/%E6%89%8B%E5%86%8C/En/CodeEn_from_Windows/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æ‘˜è‡ªã€Šæ·±å…¥ç†è§£Windowsæ“ä½œç³»ç»Ÿã€‹é™„å½•ç« èŠ‚çš„è‹±è¯­å¯¹ç…§ã€‚</p></blockquote><h1 id="ã€Šæ·±å…¥ç†è§£Windowsæ“ä½œç³»ç»Ÿã€‹æœ¯è¯­å¯¹ç…§è¡¨"><a href="#ã€Šæ·±å…¥ç†è§£Windowsæ“ä½œç³»ç»Ÿã€‹æœ¯è¯­å¯¹ç…§è¡¨" class="headerlink" title="ã€Šæ·±å…¥ç†è§£Windowsæ“ä½œç³»ç»Ÿã€‹æœ¯è¯­å¯¹ç…§è¡¨"></a>ã€Šæ·±å…¥ç†è§£Windowsæ“ä½œç³»ç»Ÿã€‹æœ¯è¯­å¯¹ç…§è¡¨</h1><table><thead><tr><th>è‹±æ–‡</th><th>å¯¹ç…§</th></tr></thead><tbody><tr><td>access token</td><td>è®¿é—®ä»¤ç‰Œ</td></tr><tr><td>access validation</td><td>è®¿é—®éªŒè¯</td></tr><tr><td>access-control entryï¼ŒACE</td><td>è®¿é—®æ§åˆ¶é¡¹</td></tr><tr><td>access-control listï¼ŒACL</td><td>è®¿é—´æ§åˆ¶åˆ—è¡¨</td></tr><tr><td>Active Directory</td><td>æ´»åŠ¨ç›®å½•</td></tr><tr><td>Address Windowing Extensionï¼ŒAWE</td><td>åœ°å€çª—å£ context switch ç¯å¢ƒåˆ‡æ¢æ‰©å±•</td></tr><tr><td>affinity</td><td>äº²å’Œæ€§</td></tr><tr><td>alert</td><td>è­¦é†’</td></tr><tr><td>assertion</td><td>æ–­è¨€</td></tr><tr><td>asymmetric multiprocessingï¼ŒASMP</td><td>éå¯¹ç§°å¤šå¤„ç†</td></tr><tr><td>asynchronous procedure callï¼ŒAPC</td><td>å¼‚æ­¥è¿‡ç¨‹è°ƒç”¨</td></tr><tr><td>attach</td><td>é™„è½½</td></tr><tr><td>authentication</td><td>è®¤è¯</td></tr><tr><td>balance set manager</td><td>å¹³è¡¡é›†ç®¡ç†å™¨</td></tr><tr><td>bin</td><td>å·¢ç®±</td></tr><tr><td>bindï¼Œ binding</td><td>ç»‘å®š</td></tr><tr><td>blue screen</td><td>è“å±</td></tr><tr><td>boost</td><td>æå‡</td></tr><tr><td>boot</td><td>å¼•å¯¼</td></tr><tr><td>boot partition</td><td>å¼•å¯¼åˆ†åŒº</td></tr><tr><td>boot sector</td><td>å¼•å¯¼æ‰‡åŒº</td></tr><tr><td>boot volume</td><td>å¼•å¯¼å·</td></tr><tr><td>bucket</td><td>æ¡¶</td></tr><tr><td>bug check</td><td>é”™è¯¯æ£€æŸ¥</td></tr><tr><td>bus driver</td><td>æ€»çº¿å‹é©±åŠ¨ç¨‹åº</td></tr><tr><td>cable</td><td>çº¿ç¼†</td></tr><tr><td>cache manager</td><td>ç¼“å­˜ç®¡ç†å™¨</td></tr><tr><td>cache miss</td><td>ç¼“å­˜æœªå‘½ä¸­</td></tr><tr><td>Careful Write file system</td><td>è°¨æ…å†™æ–‡ä»¶ç³»ç»Ÿ</td></tr><tr><td>catalog file</td><td>ç¼–ç›®æ–‡ä»¶</td></tr><tr><td>cel</td><td>å·¢å®¤</td></tr><tr><td>change journal</td><td>å˜åŒ–æ—¥å¿—</td></tr><tr><td>class driver</td><td>ç±»é©±åŠ¨ç¨‹åº</td></tr><tr><td>cluster</td><td>ç°‡ï¼ˆç”¨äºç£ç›˜å­˜å‚¨å•å…ƒï¼‰ï¼Œé›†ç¾¤</td></tr><tr><td>COM</td><td>ç»„ä»¶å¯¹è±¡æ¨¡å‹</td></tr><tr><td>committed memory</td><td>æäº¤çš„å†…å­˜</td></tr><tr><td>Common Internet File Systemï¼Œ CIFS Internet</td><td>æ–‡ä»¶ç³»ç»Ÿ</td></tr><tr><td>compatibility</td><td>å…¼å®¹æ€§</td></tr><tr><td>concurrency</td><td>å¹¶å‘æ€§</td></tr><tr><td>context</td><td>ç¯å¢ƒ</td></tr><tr><td>copy-on-write</td><td>å†™æ—¶å¤åˆ¶</td></tr><tr><td>crash analysis</td><td>å´©æºƒåˆ†æ</td></tr><tr><td>crash dump</td><td>å´©æºƒè½¬å‚¨</td></tr><tr><td>credential</td><td>å‡­è¯</td></tr><tr><td>critical section</td><td>ä¸´ç•ŒåŒº</td></tr><tr><td>cryptographic service providerï¼ŒCSP</td><td>å¯†ç æœåŠ¡æä¾›è€…</td></tr><tr><td>cyclic redundancy checksumï¼Œ CRC</td><td>å¾ªç¯å†—ä½™æ£€éªŒå’Œ</td></tr><tr><td>DCOM</td><td>åˆ†å¸ƒå¼ç»„ä»¶å¯¹è±¡æ¨¡å‹</td></tr><tr><td>deadlock</td><td>æ­»é”</td></tr><tr><td>debugger</td><td>è°ƒè¯•å™¨</td></tr><tr><td>deferred procedure callï¼ŒDPC</td><td>å»¶è¿Ÿè¿‡ç¨‹è°ƒç”¨</td></tr><tr><td>defragmenter</td><td>ç¢ç‰‡æ•´ç†å™¨</td></tr><tr><td>deliver</td><td>äº¤ä»˜ï¼ˆé’ˆå¯¹APC&amp;DPCï¼‰</td></tr><tr><td>dependency</td><td>ç›¸ä¾æ€§</td></tr><tr><td>desktop</td><td>æ¡Œé¢</td></tr><tr><td>device driver</td><td>è®¾å¤‡é©±åŠ¨ç¨‹åº</td></tr><tr><td>Device Enumeration</td><td>è®¾å¤‡åˆ—ä¸¾</td></tr><tr><td>Discretionary access controlï¼ŒDAC</td><td>è‡ªä¸»è®¿é—®æ§åˆ¶</td></tr><tr><td>disk spanning</td><td>ç£ç›˜è·¨å±•</td></tr><tr><td>dismount</td><td>å¸è½½</td></tr><tr><td>dispatcher</td><td>åˆ†å‘å™¨</td></tr><tr><td>dispatching</td><td>åˆ†å‘</td></tr><tr><td>Distributed File Systemï¼ŒDFS</td><td>åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿ</td></tr><tr><td>docking station</td><td>æ’æ¥ç«™</td></tr><tr><td>double-freeing</td><td>ä¸¤æ¬¡é‡Šæ”¾</td></tr><tr><td>drive letter</td><td>é©±åŠ¨å™¨å­—æ¯</td></tr><tr><td>Driver Verifier</td><td>é©±åŠ¨ç¨‹åºæ£€éªŒå™¨</td></tr><tr><td>dynamic link libraryï¼ŒDLL</td><td>åŠ¨æ€é“¾æ¥åº“</td></tr><tr><td>Encrypting File Systemï¼Œ EFS</td><td>åŠ å¯†æ–‡ä»¶ç³»ç»Ÿ</td></tr><tr><td>environment subsystem</td><td>ç¯å¢ƒå­ç³»ç»Ÿ</td></tr><tr><td>ETWï¼Œ Event Tracing for Windows Windows</td><td>äº‹ä»¶è·Ÿè¸ª</td></tr><tr><td>event</td><td>äº‹ä»¶</td></tr><tr><td>Event Log</td><td>äº‹ä»¶æ—¥å¿—</td></tr><tr><td>exception</td><td>å¼‚å¸¸</td></tr><tr><td>exception dispatching</td><td>å¼‚å¸¸åˆ†å‘</td></tr><tr><td>exception frame</td><td>å¼‚å¸¸å¸§</td></tr><tr><td>exception handler</td><td>å¼‚å¸¸å¤„ç†å™¨</td></tr><tr><td>exception handling</td><td>å¼‚å¸¸å¤„ç†</td></tr><tr><td>executive</td><td>æ‰§è¡Œä½“</td></tr><tr><td>executive object</td><td>æ‰§è¡Œä½“å¯¹è±¡</td></tr><tr><td>extended partition</td><td>æ‰©å±•åˆ†åŒº</td></tr><tr><td>extensibility</td><td>æ‰©å±•æ€§</td></tr><tr><td>Extensible Firmware Interfaceï¼ŒEFI</td><td>å¯æ‰©å±•çš„å›ºä»¶æ¥å£</td></tr><tr><td>fast mutex</td><td>å¿«é€Ÿäº’æ–¥ä½“</td></tr><tr><td>fault tolerance</td><td>å®¹é”™</td></tr><tr><td>fiber</td><td>çº¤ç¨‹</td></tr><tr><td>fibre channel</td><td>å…‰çº¤é€šé“</td></tr><tr><td>file allocation table</td><td>æ–‡ä»¶åˆ†é…è¡¨</td></tr><tr><td>file encryption keyï¼ŒFEK</td><td>æ–‡ä»¶åŠ å¯†å¯†é’¥</td></tr><tr><td>file mapping object</td><td>æ–‡ä»¶æ˜ å°„å¯¹è±¡</td></tr><tr><td>file system driverï¼Œ FSD</td><td>æ–‡ä»¶ç³»ç»Ÿé©±åŠ¨ç¨‹åº</td></tr><tr><td>file system recognizer</td><td>æ–‡ä»¶ç³»ç»Ÿè¯†åˆ«å™¨</td></tr><tr><td>filter driver</td><td>è¿‡æ»¤å‹é©±åŠ¨ç¨‹åº</td></tr><tr><td>firmware</td><td>å›ºä»¶</td></tr><tr><td>footprint</td><td>å°è¿¹</td></tr><tr><td>free list</td><td>ç©ºé—²ï¼ˆé¡µé¢ï¼‰åˆ—è¡¨</td></tr><tr><td>function driver</td><td>åŠŸèƒ½å‹é©±åŠ¨ç¨‹åº</td></tr><tr><td>GINA</td><td>å›¾å½¢åŒ–æ ‡è¯†å’Œè®¤è¯</td></tr><tr><td>Group Policy</td><td>ç»„ç­–ç•¥</td></tr><tr><td>guard page</td><td>å®ˆæŠ¤é¡µé¢</td></tr><tr><td>GUID</td><td>å…¨å±€å”¯ä¸€æ ‡è¯†ç¬¦</td></tr><tr><td>GUID Partition Tableï¼ŒGPT GUID</td><td>åˆ†åŒºè¡¨</td></tr><tr><td>handle</td><td>å¥æŸ„</td></tr><tr><td>handle table</td><td>å¥æŸ„è¡¨</td></tr><tr><td>handler</td><td>å¤„ç†å™¨</td></tr><tr><td>hardware abstraction layer</td><td>ç¡¬ä»¶æŠ½è±¡å±‚ï¼ˆHALï¼‰</td></tr><tr><td>heap manager</td><td>å †ç®¡ç†å™¨</td></tr><tr><td>hive</td><td>å‚¨å·¢</td></tr><tr><td>hotfix</td><td>çƒ­è¡¥ä¸</td></tr><tr><td>Hyper-Threading</td><td>è¶…çº¿ç¨‹</td></tr><tr><td>I&#x2F;O request packetï¼ŒIRP I&#x2F;O</td><td>è¯·æ±‚åŒ…</td></tr><tr><td>idle process</td><td>ç©ºé—²è¿›ç¨‹</td></tr><tr><td>idle thread</td><td>ç©ºé—²çº¿ç¨‹</td></tr><tr><td>impersonation</td><td>æ¨¡ä»¿</td></tr><tr><td>inter-processor interruptï¼ŒIPI</td><td>å¤„ç†å™¨é—´çš„ä¸­æ–­</td></tr><tr><td>interrupt controller</td><td>ä¸­æ–­æ§åˆ¶å™¨</td></tr><tr><td>interrupt dispatch table</td><td>ä¸­æ–­åˆ†å‘è¡¨</td></tr><tr><td>interrupt handler</td><td>ä¸­æ–­å¤„ç†å™¨</td></tr><tr><td>interrupt request levelï¼ŒIRQL</td><td>ä¸­æ–­è¯·æ±‚çº§åˆ«</td></tr><tr><td>Interrupt service routineï¼ŒISR</td><td>ä¸­æ–­æœåŠ¡ä¾‹ç¨‹</td></tr><tr><td>interupt</td><td>ä¸­æ–­</td></tr><tr><td>job</td><td>ä½œä¸š</td></tr><tr><td>junction</td><td>äº¤æ¥</td></tr><tr><td>kernel</td><td>å†…æ ¸</td></tr><tr><td>kernel mode</td><td>å†…æ ¸æ¨¡å¼</td></tr><tr><td>kernel object</td><td>å†…æ ¸å¯¹è±¡</td></tr><tr><td>key ring</td><td>å¯†é’¥ç¯</td></tr><tr><td>keystroke</td><td>é”®å‡»</td></tr><tr><td>last known goodï¼ŒLKG</td><td>æœ€åå·²çŸ¥çš„å¥½é…ç½®ï¼Œæœ€åå·²çŸ¥çš„å¥½æ§åˆ¶é›†</td></tr><tr><td>lazy write file system</td><td>å»¶è¿Ÿå†™æ–‡ä»¶ç³»ç»Ÿ</td></tr><tr><td>lazy writer</td><td>å»¶è¿Ÿå†™å‡ºå™¨</td></tr><tr><td>Lightweight Directory Acess Protocol, LDAP</td><td>è½»é‡çš„ç›®å½•è®¿é—®åè®®</td></tr><tr><td>local procedure callï¼ŒLPC</td><td>æœ¬åœ°è¿‡ç¨‹è°ƒç”¨</td></tr><tr><td>local security authentication</td><td>æœ¬åœ°å®‰å…¨è®¤è¯</td></tr><tr><td>lock convoy</td><td>é”å°æŠ¤</td></tr><tr><td>loCompletion I&#x2F;O</td><td>å®Œæˆ</td></tr><tr><td>logical cluster number.LCN</td><td>é€»è¾‘ç°‡å·</td></tr><tr><td>Logical Disk Manager.LDM</td><td>é€»è¾‘ç£ç›˜ç®¡ç†å™¨</td></tr><tr><td>logical prefetcher</td><td>é€»è¾‘é¢„å–å™¨</td></tr><tr><td>logical sequence numberï¼ŒLSN</td><td>é€»è¾‘åºåˆ—å·</td></tr><tr><td>logon</td><td>ç™»å½•</td></tr><tr><td>look-aside list</td><td>é¢„è¯»åˆ—è¡¨</td></tr><tr><td>Low Fragmentation Heapï¼ŒLFH</td><td>ä½ç¢ç‰‡å †</td></tr><tr><td>LUID</td><td>æœ¬åœ°å”¯ä¸€æ ‡è¯†ç¬¦</td></tr><tr><td>mailslot</td><td>é‚®ä»¶æ§½</td></tr><tr><td>managed code</td><td>æ‰˜ç®¡ä»£ç </td></tr><tr><td>manifest</td><td>æ¸…å•</td></tr><tr><td>mapped file</td><td>æ˜ å°„çš„æ–‡ä»¶</td></tr><tr><td>master boot record.MBR</td><td>ä¸»å¼•å¯¼è®°å½•</td></tr><tr><td>master file table</td><td>ä¸»æ–‡ä»¶è¡¨</td></tr><tr><td>mechanism</td><td>æœºåˆ¶</td></tr><tr><td>memory</td><td>å†…å­˜</td></tr><tr><td>memory descriptor list.MDL</td><td>å†…å­˜æè¿°ç¬¦åˆ—è¡¨</td></tr><tr><td>memory mapped file</td><td>å†…å­˜æ˜ å°„æ–‡ä»¶</td></tr><tr><td>metadata</td><td>å…ƒæ•°æ®</td></tr><tr><td>microkernel</td><td>å¾®å†…æ ¸</td></tr><tr><td>minidump</td><td>å°è½¬å‚¨</td></tr><tr><td>miniport</td><td>å°ç«¯å£</td></tr><tr><td>miniport driver</td><td>å°ç«¯å£é©±åŠ¨ç¨‹åº</td></tr><tr><td>mirrored volume</td><td>é•œåƒå·</td></tr><tr><td>MMC snap-in MMC</td><td>åŠ è½½ä»¶</td></tr><tr><td>modified page writer</td><td>å·²ä¿®æ”¹é¡µé¢å†™å‡ºå™¨</td></tr><tr><td>mount</td><td>æŒ‚è½½</td></tr><tr><td>mount point</td><td>æŒ‚è½½ç‚¹</td></tr><tr><td>multimaster replication</td><td>å¤šä¸»å¤åˆ¶</td></tr><tr><td>Multiple Provider Router</td><td>å¤šæä¾›è€…è½¬å‘å™¨</td></tr><tr><td>Multiple UNC Providerï¼ŒMUP</td><td>å¤šUNCæä¾›è€…</td></tr><tr><td>multiprocessing</td><td>å¤šå¤„ç†</td></tr><tr><td>multitasking</td><td>å¤šä»»åŠ¡</td></tr><tr><td>mutant</td><td>çªå˜ä½“</td></tr><tr><td>mutex</td><td>äº’æ–¥ä½“</td></tr><tr><td>named pipe</td><td>å‘½åç®¡é“</td></tr><tr><td>native</td><td>åŸç”Ÿçš„</td></tr><tr><td>network address translation.NAT</td><td>ç½‘ç»œåœ°å€è½¬è¯‘</td></tr><tr><td>Network Driver Interface Specification, NDIS</td><td>ç½‘ç»œé©±åŠ¨ç¨‹åºæ¥å£è§„èŒƒ</td></tr><tr><td>Network Monitor</td><td>ç½‘ç»œç›‘è§†å™¨</td></tr><tr><td>network share</td><td>ç½‘ç»œå…±äº«ä½“</td></tr><tr><td>NTFS object atribute NTFS</td><td>å¯¹è±¡å±æ€§</td></tr><tr><td>NUMAï¼ˆnon-uniform memory architectureï¼‰</td><td>éä¸€è‡´çš„å†…å­˜ç»“æ„</td></tr><tr><td>objcct manager</td><td>å¯¹è±¡ç®¡ç†å™¨</td></tr><tr><td>object linking and embedding. OLE</td><td>å¯¹è±¡é“¾æ¥å’ŒåµŒå…¥</td></tr><tr><td>ommit</td><td>æäº¤</td></tr><tr><td>on-disk structure</td><td>ç£ç›˜ä¸Šçš„ç»“æ„</td></tr><tr><td>Open System Interconnectionï¼Œ OSI</td><td>å¼€æ”¾ç³»ç»Ÿäº’è”</td></tr><tr><td>opportunistic lockingï¼Œoplock</td><td>æœºä¼šé”</td></tr><tr><td>overlapped</td><td>å¯é‡å çš„</td></tr><tr><td>page</td><td>é¡µé¢</td></tr><tr><td>page directory</td><td>é¡µç›®å½•</td></tr><tr><td>page directory entryï¼ŒPDE</td><td>é¡µç›®å½•é¡¹</td></tr><tr><td>page fault</td><td>é¡µé¢é”™è¯¯</td></tr><tr><td>page fileï¼Œpaging file</td><td>é¡µé¢æ–‡ä»¶</td></tr><tr><td>page frame numberï¼ŒPFN</td><td>é¡µé¢å¸§ç¼–å·</td></tr><tr><td>page table</td><td>é¡µè¡¨</td></tr><tr><td>page table entryï¼ŒPTE</td><td>é¡µè¡¨é¡¹</td></tr><tr><td>pageable</td><td>æ¢é¡µçš„</td></tr><tr><td>paged poolï¼Œ nonpaged pool</td><td>æ¢é¡µå†…å­˜æ± ï¼Œéæ¢é¡µå†…å­˜æ± </td></tr><tr><td>pager</td><td>æ¢é¡µå™¨</td></tr><tr><td>parition</td><td>åˆ†åŒº</td></tr><tr><td>partition table</td><td>åˆ†åŒºè¡¨</td></tr><tr><td>payload</td><td>æœ‰æ•ˆè½½è·</td></tr><tr><td>Performance Monitor</td><td>æ€§èƒ½ç›‘è§†å™¨</td></tr><tr><td>Performance tool</td><td>æ€§èƒ½å·¥å…·</td></tr><tr><td>Physical Address Extensionï¼ŒPAE</td><td>ç‰©ç†åœ°å€æ‰©å±•</td></tr><tr><td>placement policy</td><td>æ”¾ç½®ç­–ç•¥</td></tr><tr><td>plug and play</td><td>å³æ’å³ç”¨</td></tr><tr><td>pool tracking</td><td>å†…å­˜æ± è·Ÿè¸ª</td></tr><tr><td>port driver</td><td>ç«¯å£é©±åŠ¨ç¨‹åº</td></tr><tr><td>portability</td><td>å¯ç§»æ¤æ€§</td></tr><tr><td>preempt</td><td>æŠ¢å </td></tr><tr><td>preemptive</td><td>æŠ¢å…ˆå¼</td></tr><tr><td>prefetcher</td><td>é¢„å–å™¨</td></tr><tr><td>principal</td><td>å®‰å…¨ä¸ªä½“</td></tr><tr><td>priority boost</td><td>ä¼˜å…ˆçº§æå‡</td></tr><tr><td>priority inversion</td><td>ä¼˜å…ˆçº§å€’ç½®</td></tr><tr><td>privilege</td><td>ç‰¹æƒ</td></tr><tr><td>procedure</td><td>è¿‡ç¨‹</td></tr><tr><td>process</td><td>è¿›ç¨‹</td></tr><tr><td>Process environment blockï¼ŒPEB</td><td>è¿›ç¨‹ç¯å¢ƒå—</td></tr><tr><td>process explorer</td><td>è¿›ç¨‹ç®¡ç†å™¨ï¼ˆè§†ä¸Šä¸‹æ–‡</td></tr><tr><td>process manager</td><td>è¿›ç¨‹ç®¡ç†å™¨ï¼ˆè§†ä¸Šä¸‹æ–‡</td></tr><tr><td>processor</td><td>å¤„ç†å™¨</td></tr><tr><td>profile</td><td>è½®å»“ï¼Œæ€§èƒ½å‰–æ</td></tr><tr><td>prototype page table entryï¼Œprototype PTE</td><td>åŸå‹é¡µè¡¨é¡¹</td></tr><tr><td>push lock</td><td>æ¨é”</td></tr><tr><td>quality of serviceï¼ŒQOS</td><td>æœåŠ¡è´¨é‡</td></tr><tr><td>quantum</td><td>æ—¶é™</td></tr><tr><td>quantum boosting</td><td>æ—¶é™å¢å¤§</td></tr><tr><td>queue</td><td>é˜Ÿåˆ—</td></tr><tr><td>quota</td><td>é…é¢</td></tr><tr><td>quota charges</td><td>é…é¢èŠ±è´¹</td></tr><tr><td>RAM Optimizer RAM</td><td>ä¼˜åŒ–å™¨</td></tr><tr><td>read-ahead</td><td>é¢„è¯»</td></tr><tr><td>record</td><td>è®°å½•</td></tr><tr><td>recoverability</td><td>å¯æ¢å¤æ€§</td></tr><tr><td>Recovery Console</td><td>æ¢å¤æ§åˆ¶å°</td></tr><tr><td>redirector</td><td>é‡å®šå‘å™¨</td></tr><tr><td>redo</td><td>é‡åš</td></tr><tr><td>reference count</td><td>å¼•ç”¨è®¡æ•°</td></tr><tr><td>reference monitor</td><td>å¼•ç”¨ç›‘è§†å™¨</td></tr><tr><td>registry</td><td>æ³¨å†Œè¡¨</td></tr><tr><td>registry key</td><td>æ³¨å†Œè¡¨é”®</td></tr><tr><td>registry value</td><td>æ³¨å†Œè¡¨å€¼</td></tr><tr><td>reliability</td><td>å¯é æ€§</td></tr><tr><td>Remote Direct Memory Accessï¼Œ RDMA</td><td>è¿œç¨‹ç›´æ¥å†…å­˜è®¿é—®</td></tr><tr><td>Remote NDIS</td><td>å¤–æ¥NDIS</td></tr><tr><td>remote procedure callï¼ŒRPC</td><td>è¿œè¿‡ç¨‹è°ƒç”¨</td></tr><tr><td>reparse</td><td>é‡è§£æ</td></tr><tr><td>reparse point</td><td>é‡è§£æç‚¹</td></tr><tr><td>reserved memory</td><td>ä¿ç•™çš„å†…å­˜</td></tr><tr><td>resource accounting</td><td>èµ„æºè®°è´¦</td></tr><tr><td>resource gate</td><td>èµ„æºé—¨æ§</td></tr><tr><td>Resource Reservation Protocolï¼ŒRSVP</td><td>èµ„æºé¢„ç•™åè®®</td></tr><tr><td>robustness</td><td>å¥å£®æ€§</td></tr><tr><td>routine</td><td>ä¾‹ç¨‹</td></tr><tr><td>run</td><td>è¡Œä¸²ï¼ˆç”¨äºNTFSç»“æ„ä¸­ï¼‰</td></tr><tr><td>scalability</td><td>å¯ä¼¸ç¼©æ€§</td></tr><tr><td>scatter&#x2F;gather LI&#x2F;O</td><td>åˆ†æ•£&#x2F;èšé›† I&#x2F;O</td></tr><tr><td>scheduler</td><td>è°ƒåº¦å™¨</td></tr><tr><td>schema</td><td>è¡¨ç»“æ„</td></tr><tr><td>secondary object namespace</td><td>ä»å±å¯¹è±¡åå­—ç©ºé—´</td></tr><tr><td>section object</td><td>å†…å­˜åŒºå¯¹è±¡</td></tr><tr><td>sectionï¼Œ memory section</td><td>å†…å­˜åŒº</td></tr><tr><td>sector sparing</td><td>æ‰‡åŒºå¤‡ç”¨</td></tr><tr><td>secure attention sequence.SAS</td><td>å®‰å…¨æ³¨æ„åºåˆ—</td></tr><tr><td>Security Accounts Managerï¼Œ SAM</td><td>å®‰å…¨è´¦æˆ·ç®¡</td></tr><tr><td>security credential</td><td>å®‰å…¨å‡­è¯</td></tr><tr><td>Security descriptor</td><td>å®‰å…¨æè¿°ç¬¦</td></tr><tr><td>security identifierï¼Œ SID</td><td>å®‰å…¨æ ‡è¯†ç¬¦</td></tr><tr><td>security quality of serviceï¼Œ SQOS</td><td>å®‰å…¨æœåŠ¡è´¨é‡</td></tr><tr><td>Security reference monitor</td><td>å®‰å…¨å¼•ç”¨ç›‘è§†å™¨</td></tr><tr><td>Security Support Provider Interfaceï¼ŒSSPI</td><td>å®‰å…¨æ”¯æŒæä¾›è€…æ¥å£</td></tr><tr><td>security validation</td><td>å®‰å…¨éªŒè¯</td></tr><tr><td>Semaphore</td><td>ä¿¡å·é‡</td></tr><tr><td>serial port</td><td>ä¸²è¡Œå£</td></tr><tr><td>server</td><td>æœåŠ¡å™¨</td></tr><tr><td>service</td><td>æœåŠ¡</td></tr><tr><td>Service Control Managerï¼ŒSCM</td><td>æœåŠ¡æ§åˆ¶ç®¡ç†å™¨</td></tr><tr><td>service descriptor table</td><td>æœåŠ¡æè¿°ç¬¦è¡¨</td></tr><tr><td>Service Pack</td><td>æœåŠ¡è¡¥ä¸åŒ…</td></tr><tr><td>session manager</td><td>ä¼šè¯ç®¡ç†å™¨</td></tr><tr><td>session namespace</td><td>ä¼šè¯åå­—ç©ºé—´</td></tr><tr><td>shared memory</td><td>å…±äº«çš„å†…å­˜</td></tr><tr><td>shim</td><td>é“ºå«</td></tr><tr><td>shutdown</td><td>åœæœº</td></tr><tr><td>socket</td><td>å¥—æ¥å­—</td></tr><tr><td>sof fault</td><td>è½¯é”™è¯¯</td></tr><tr><td>Software Restriction Policy</td><td>è½¯ä»¶é™åˆ¶ç­–ç•¥</td></tr><tr><td>spanned volume</td><td>è·¨è·å·</td></tr><tr><td>spin-down</td><td>åœæ­¢æ—‹è½¬</td></tr><tr><td>spinlock</td><td>è‡ªæ—‹é”</td></tr><tr><td>splash screen</td><td>å¯åŠ¨å±å¹•</td></tr><tr><td>stack frame</td><td>æ ˆå¸§</td></tr><tr><td>stack location</td><td>æ ˆå•å…ƒ</td></tr><tr><td>stack overrun</td><td>æ ˆæº¢å‡º</td></tr><tr><td>stack trash</td><td>æ ˆç ´å</td></tr><tr><td>standby list</td><td>å¤‡ç”¨ï¼ˆé¡µé¢ï¼‰åˆ—è¡¨</td></tr><tr><td>startup</td><td>å¯åŠ¨</td></tr><tr><td>starvation</td><td>é¥¥é¥¿</td></tr><tr><td>storage area networkï¼ŒSAN</td><td>å­˜å‚¨åŒºåŸŸç½‘ç»œ</td></tr><tr><td>striped volume</td><td>æ¡å¸¦å·</td></tr><tr><td>stub</td><td>å­˜æ ¹</td></tr><tr><td>symbolic link</td><td>ç¬¦å·é“¾æ¥</td></tr><tr><td>symmetric multiprocessingï¼Œ SMP</td><td>å¯¹ç§°å¤šå¤„ç†</td></tr><tr><td>synchronization</td><td>åŒæ­¥</td></tr><tr><td>system service</td><td>ç³»ç»ŸæœåŠ¡</td></tr><tr><td>system service call</td><td>ç³»ç»ŸæœåŠ¡è°ƒç”¨ç†å™¨</td></tr><tr><td>system service dispatching</td><td>ç³»ç»ŸæœåŠ¡åˆ†å‘</td></tr><tr><td>system volume</td><td>ç³»ç»Ÿå·</td></tr><tr><td>targeted DPC</td><td>å®šå‘çš„DPCï¼ˆä¸ç‰¹å®šçš„CPUç›¸å…³è”ï¼‰</td></tr><tr><td>Task Manager</td><td>ä»»åŠ¡ç®¡ç†å™¨</td></tr><tr><td>task ofloading</td><td>ä»»åŠ¡å¤–ç§»</td></tr><tr><td>TDI transport TD</td><td>1ä¼ è¾“å™¨</td></tr><tr><td>terminal service</td><td>ç»ˆç«¯æœåŠ¡</td></tr><tr><td>thread</td><td>çº¿ç¨‹</td></tr><tr><td>Thread environment blockï¼ŒTEB</td><td>çº¿ç¨‹ç¯å¢ƒå—</td></tr><tr><td>thread scheduling</td><td>çº¿ç¨‹è°ƒåº¦</td></tr><tr><td>thread-thrashing</td><td>çº¿ç¨‹é¢‘ç¹è½®æ¢</td></tr><tr><td>tick</td><td>å˜€å—’</td></tr><tr><td>time slice</td><td>æ—¶é—´ç‰‡</td></tr><tr><td>timer</td><td>å®šæ—¶å™¨</td></tr><tr><td>TLS</td><td>çº¿ç¨‹å±€éƒ¨å­˜å‚¨åŒº</td></tr><tr><td>transaction</td><td>äº‹åŠ¡</td></tr><tr><td>transition</td><td>è½¬ç§»ï¼Œè½¬æ¢</td></tr><tr><td>Translation Look-aside Bufferï¼ŒTLB</td><td>åœ°å€è½¬è¯‘å¿«æŸ¥ç¼“å†²åŒº</td></tr><tr><td>Transport Driver Interfaceï¼Œ TDI</td><td>ä¼ è¾“é©±åŠ¨ç¨‹åºæ¥å£</td></tr><tr><td>trap</td><td>æ•è·ï¼ˆåŠ¨è¯ï¼‰ï¼Œé™·é˜±ï¼ˆåè¯ï¼‰</td></tr><tr><td>trap frame</td><td>é™·é˜±å¸§</td></tr><tr><td>trap handler</td><td>é™·é˜±å¤„ç†å™¨</td></tr><tr><td>trigger</td><td>è§¦å‘å™¨</td></tr><tr><td>trim</td><td>ä¿®å‰ª</td></tr><tr><td>truncate</td><td>æˆªæ–­ã€æˆªçŸ­</td></tr><tr><td>undo</td><td>æ’¤é”€</td></tr><tr><td>unicast</td><td>å•æ’­</td></tr><tr><td>Universal Disk Formatï¼Œ UDF</td><td>é€šç”¨ç£ç›˜æ ¼å¼</td></tr><tr><td>Universal Naming Conventionï¼Œ UNC</td><td>ç»Ÿä¸€å‘½åè§„èŒƒ</td></tr><tr><td>Universal Plug and Play.UPnP</td><td>é€šç”¨å³æ’å³ç”¨</td></tr><tr><td>unmanaged code</td><td>éæ‰˜ç®¡ä»£ç </td></tr><tr><td>user mode</td><td>ç”¨æˆ·æ¨¡å¼</td></tr><tr><td>view</td><td>è§†å›¾ï¼ˆç¡®åˆ‡å«ä¹‰è§†ä¸Šä¸‹æ–‡ï¼‰</td></tr><tr><td>virtual address control blockï¼ŒVACB</td><td>è™šæ‹Ÿåœ°å€æ§åˆ¶å—</td></tr><tr><td>Virtual address descriptorï¼ŒVAD</td><td>è™šæ‹Ÿåœ°å€æè¿°ç¬¦</td></tr><tr><td>virtual cluster numberï¼ŒVCN</td><td>è™šæ‹Ÿç°‡å·</td></tr><tr><td>volatile</td><td>æ˜“å¤±çš„ã€æ˜“å¤±æ€§</td></tr><tr><td>window station</td><td>çª—å£ç«™</td></tr><tr><td>Windows</td><td>ç®¡ç†è§„èŒƒ</td></tr><tr><td>Windows Driver Modelï¼Œ WDM Windows</td><td>é©±åŠ¨ç¨‹åºæ¨¡å‹</td></tr><tr><td>Windows Error Reporting Windows</td><td>é”™è¯¯æŠ¥å‘Š</td></tr><tr><td>Windows File Protectionï¼Œ WFP Windows</td><td>æ–‡ä»¶ä¿æŠ¤æœºåˆ¶</td></tr><tr><td>Windows Global Flags Windows</td><td>å…¨å±€æ ‡å¿—</td></tr><tr><td>Windows Internet</td><td>åç§°æœåŠ¡</td></tr><tr><td>Windows Internet Name Service</td><td>WINSï¼ŒWindowsç®¡ç†è§„èŒƒ</td></tr><tr><td>Windows Management Instrumentation</td><td>Windowsç®¡ç†è§„èŒƒ</td></tr><tr><td>Windows Sockets Directï¼Œ WSD Windows</td><td>å¥—æ¥å­—ç›´æ¥è®¿é—®</td></tr><tr><td>working set</td><td>å·¥ä½œé›†</td></tr><tr><td>working set trimming</td><td>å·¥ä½œé›†ä¿®å‰ª</td></tr><tr><td>write throtling</td><td>å†™èŠ‚æµ</td></tr><tr><td>write-behind</td><td>æ»åå†™</td></tr><tr><td>write-through</td><td>ç›´å†™</td></tr><tr><td>yield</td><td>æ”¾å¼ƒ</td></tr><tr><td>zero list</td><td>é›¶ï¼ˆé¡µé¢ï¼‰åˆ—è¡¨</td></tr><tr><td>zero page thread</td><td>é›¶é¡µé¢çº¿ç¨‹</td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> æ‰‹å†Œ </category>
          
          <category> En </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ‰‹å†Œ </tag>
            
            <tag> ã€Šæ·±å…¥ç†è§£Windowsæ“ä½œç³»ç»Ÿã€‹ </tag>
            
            <tag> è‹±è¯­ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç¼–ç¨‹å¸¸ç”¨è‹±è¯­è¯æ±‡</title>
      <link href="/%E6%89%8B%E5%86%8C/En/CodeEn/"/>
      <url>/%E6%89%8B%E5%86%8C/En/CodeEn/</url>
      
        <content type="html"><![CDATA[<h1 id="ç¼–ç¨‹å¸¸ç”¨è‹±è¯­æ•´ç†"><a href="#ç¼–ç¨‹å¸¸ç”¨è‹±è¯­æ•´ç†" class="headerlink" title="ç¼–ç¨‹å¸¸ç”¨è‹±è¯­æ•´ç†"></a>ç¼–ç¨‹å¸¸ç”¨è‹±è¯­æ•´ç†</h1><h2 id="ä¸€ã€äº¤äº’å¼ç¯å¢ƒä¸printè¾“å‡º"><a href="#ä¸€ã€äº¤äº’å¼ç¯å¢ƒä¸printè¾“å‡º" class="headerlink" title="ä¸€ã€äº¤äº’å¼ç¯å¢ƒä¸printè¾“å‡º"></a>ä¸€ã€äº¤äº’å¼ç¯å¢ƒä¸printè¾“å‡º</h2><p>1ã€printï¼šæ‰“å°&#x2F;è¾“å‡º<br>2ã€codingï¼šç¼–ç <br>3ã€syntaxï¼šè¯­æ³•<br>4ã€errorï¼šé”™è¯¯<br>5ã€invalidï¼šæ— æ•ˆ<br>6ã€identifierï¼šåç§°&#x2F;æ ‡è¯†ç¬¦<br>7ã€character ï¼šå­—ç¬¦</p><h2 id="äºŒã€å­—ç¬¦ä¸²çš„æ“ä½œ"><a href="#äºŒã€å­—ç¬¦ä¸²çš„æ“ä½œ" class="headerlink" title="äºŒã€å­—ç¬¦ä¸²çš„æ“ä½œ"></a>äºŒã€å­—ç¬¦ä¸²çš„æ“ä½œ</h2><p>1ã€userï¼šç”¨æˆ·<br>2ã€nameï¼šå§“å&#x2F;åç§°<br>3ã€attributeï¼šå­—æ®µ&#x2F;å±æ€§<br>4ã€valueï¼šå€¼</p><h2 id="ä¸‰ã€é‡å¤-x2F-è½¬æ¢-x2F-æ›¿æ¢-x2F-åŸå§‹å­—ç¬¦ä¸²"><a href="#ä¸‰ã€é‡å¤-x2F-è½¬æ¢-x2F-æ›¿æ¢-x2F-åŸå§‹å­—ç¬¦ä¸²" class="headerlink" title="ä¸‰ã€é‡å¤&#x2F;è½¬æ¢&#x2F;æ›¿æ¢&#x2F;åŸå§‹å­—ç¬¦ä¸²"></a>ä¸‰ã€é‡å¤&#x2F;è½¬æ¢&#x2F;æ›¿æ¢&#x2F;åŸå§‹å­—ç¬¦ä¸²</h2><p>1ã€upperï¼šä¸Šé¢<br>2ã€lowerï¼šä¸‹é¢<br>3ã€capitalizeï¼šç”¨å¤§å†™å­—æ¯å†™æˆ–å°åˆ·<br>4ã€titleï¼šæ ‡é¢˜<br>5ã€replaceï¼šæ›¿æ¢<br>6ã€oldï¼šæ—§çš„<br>7ã€newï¼šæ–°çš„<br>8ã€countï¼šè®¡æ•°<br>9ã€swapï¼šäº’æ¢<br>10ã€caseï¼šæƒ…å½¢<br>11ã€pathï¼šè·¯å¾„<br>12ã€newï¼šæ–°çš„\æ–°å»º<br>13ã€projectï¼šé¡¹ç›®<br>14ã€testï¼šæµ‹è¯•<br>15ã€fileï¼šæ–‡ä»¶<br>16ã€dataï¼šæ•°æ®</p><h2 id="å››ã€å»é™¤-x2F-æŸ¥è¯¢-x2F-è®¡æ•°"><a href="#å››ã€å»é™¤-x2F-æŸ¥è¯¢-x2F-è®¡æ•°" class="headerlink" title="å››ã€å»é™¤&#x2F;æŸ¥è¯¢&#x2F;è®¡æ•°"></a>å››ã€å»é™¤&#x2F;æŸ¥è¯¢&#x2F;è®¡æ•°</h2><p>1ã€stripï¼šå»é™¤<br>2ã€indexï¼šç´¢å¼•<br>3ã€findï¼šæŸ¥æ‰¾<br>4ã€countï¼šè®¡æ•°<br>5ã€startï¼šå¼€å§‹<br>6ã€endï¼šç»“æŸ<br>7ã€charsï¼šå­—ç¬¦<br>8ã€subï¼šé™„å±</p><h2 id="äº”ã€è·å–è¾“å…¥-x2F-æ ¼å¼åŒ–"><a href="#äº”ã€è·å–è¾“å…¥-x2F-æ ¼å¼åŒ–" class="headerlink" title="äº”ã€è·å–è¾“å…¥&#x2F;æ ¼å¼åŒ–"></a>äº”ã€è·å–è¾“å…¥&#x2F;æ ¼å¼åŒ–</h2><p>1ã€inputï¼šè¾“å…¥<br>2ã€promptï¼šæç¤º<br>3ã€IDï¼šèº«ä»½è¯<br>4ã€formatï¼šæ ¼å¼åŒ–<br>5ã€argsï¼ˆargumentï¼‰ï¼šå‚æ•°<br>6ã€kwargsï¼šå…³é”®å­—å‚æ•°<br>7ã€yearï¼šå¹´<br>8ã€monthï¼šæœˆ<br>9ã€dayï¼šæ—¥</p><h2 id="å…­ã€å…ƒç¥–"><a href="#å…­ã€å…ƒç¥–" class="headerlink" title="å…­ã€å…ƒç¥–"></a>å…­ã€å…ƒç¥–</h2><p>1ã€tupleï¼šå…ƒç»„<br>2ã€maxï¼šæœ€å¤§<br>3ã€minï¼šæœ€å°<br>4ã€iterableï¼šå¯è¿­ä»£<br>5ã€keyï¼šå…³é”®å­—<br>6ã€functionï¼šæ–¹æ³•&#x2F;å‡½æ•°<br>7ã€stopï¼šåœæ­¢<br>8ã€objectï¼šå¯¹è±¡</p><h2 id="ä¸ƒã€åˆ—è¡¨"><a href="#ä¸ƒã€åˆ—è¡¨" class="headerlink" title="ä¸ƒã€åˆ—è¡¨"></a>ä¸ƒã€åˆ—è¡¨</h2><p>1ã€listï¼šåˆ—è¡¨<br>2ã€reverseï¼šåå‘<br>3ã€trueï¼šçœŸ<br>4ã€falseï¼šå‡<br>5ã€appendï¼šé™„åŠ <br>6ã€extendï¼šæ‰©å±•<br>7ã€insertï¼šæ’å…¥<br>8ã€popï¼šå–å‡º<br>9ã€removeï¼šç§»é™¤<br>10ã€delï¼ˆdeleteï¼‰ï¼šåˆ é™¤<br>11ã€clearï¼šæ¸…é™¤<br>12ã€sortï¼šæ’åº</p><h2 id="å…«ã€é›†åˆ"><a href="#å…«ã€é›†åˆ" class="headerlink" title="å…«ã€é›†åˆ"></a>å…«ã€é›†åˆ</h2><p>1ã€setï¼šé›†åˆ&#x2F;è®¾ç½®<br>2ã€addï¼šæ·»åŠ <br>3ã€updateï¼šæ›´æ–°<br>4ã€discardï¼šä¸¢å¼ƒ<br>5ã€intersectionï¼šç›¸äº¤<br>6ã€unionï¼šè”åˆ<br>7ã€differenceï¼šå·®æ•°<br>8ã€symmetricï¼šå¯¹ç§°<br>9ã€inï¼šåœ¨â€¦é‡Œé¢<br>10ã€notï¼šä¸&#x2F;ä¸æ˜¯<br>11ã€disjointï¼šä¸ç›¸äº¤<br>12ã€subsetï¼šå­é›†<br>13ã€supersetï¼šçˆ¶é›†&#x2F;è¶…é›†<br>14ã€copyï¼šå¤åˆ¶</p><h2 id="ä¹ã€å­—å…¸"><a href="#ä¹ã€å­—å…¸" class="headerlink" title="ä¹ã€å­—å…¸"></a>ä¹ã€å­—å…¸</h2><p>1ã€dictï¼šå­—å…¸<br>2ã€keyï¼šé”®&#x2F;å…³é”®å­—<br>3ã€valueï¼šå€¼<br>4ã€itemï¼šé¡¹<br>5ã€mappingï¼šæ˜ å°„<br>6ã€seqï¼ˆsequenceï¼‰ï¼šåºåˆ—<br>7ã€fromï¼šä»&#x2F;æ¥è‡ª<br>8ã€getï¼šè·å–<br>9ã€defaultï¼šé»˜è®¤<br>10ã€noneï¼šæ²¡æœ‰<br>11ã€argï¼šå¯å˜å…ƒç´ <br>12ã€kwargsï¼ˆkeyword argsï¼‰ï¼šå¯å˜å…³é”®å­—å…ƒç´ </p><h2 id="åã€å¸¸ç”¨çš„ä¸€äº›å¿…å¤‡çš„è‹±è¯­å•è¯"><a href="#åã€å¸¸ç”¨çš„ä¸€äº›å¿…å¤‡çš„è‹±è¯­å•è¯" class="headerlink" title="åã€å¸¸ç”¨çš„ä¸€äº›å¿…å¤‡çš„è‹±è¯­å•è¯"></a>åã€å¸¸ç”¨çš„ä¸€äº›å¿…å¤‡çš„è‹±è¯­å•è¯</h2><ul><li>Projects ï¼šé¡¹ç›®</li><li>Process finished with exit code 0     è¿›ç¨‹ç»“æŸï¼Œé€€å‡ºä»£ç ä¸º0ï¼Œä¸€èˆ¬æ˜¯æ‰§è¡ŒæˆåŠŸçš„è¿‡ç¨‹</li><li>Processï¼š  è¿‡ç¨‹</li><li>code ï¼šä»£ç </li><li>Tracebackï¼šå›æº¯</li><li>Fileï¼šæ–‡ä»¶</li><li>lineï¼šè¡Œ</li><li>moduleï¼šæ¨¡å—[â€˜mÉ‘dÊ’ul]</li><li>NameErrorï¼šåç§°é”™è¯¯</li><li>is not definedï¼šæ²¡æœ‰å®šä¹‰</li><li>SyntaxErrorï¼šè¯­æ³•é”™è¯¯</li><li>literalï¼šæ–‡å­—ï¼Œæ–‡å­—çš„</li><li>stringï¼šå­—ç¬¦ä¸²</li><li>scanningï¼šæ‰«æ</li><li>EOL ï¼šå¯¿å‘½ç»ˆæ­¢</li><li>IndentationErrorï¼šç¼©å‡é”™è¯¯</li><li>unindentï¼šå–æ¶ˆç¼©è¿›</li><li>matchï¼šåŒ¹é…</li><li>indentationï¼šç¼©è¿› [,ÉªndÉ›nâ€™teÊƒÉ™n]ç¼©è¿›</li><li>unindent does not match any outer indentation levelï¼š æœªç¼©è¿›ä¸åŒ¹é…ä»»ä½•å¤–éƒ¨ç¼©è¿›çº§åˆ«</li><li>invalid syntaxï¼šæ— æ•ˆçš„è¯­æ³•</li></ul><h2 id="åä¸€ã€æ‰‡è´"><a href="#åä¸€ã€æ‰‡è´" class="headerlink" title="åä¸€ã€æ‰‡è´"></a>åä¸€ã€æ‰‡è´</h2><p>æ‰‡è´ä¸Šæœ‰ä¸“é—¨æ•´ç†å¥½çš„pyhonå¸¸ç”¨å•è¯ï¼Œä½†æ˜¯è¦æ”¯ä»˜199è´å£³ã€‚</p><p>æˆ‘å†™äº†ä¸ªçˆ¬è™«ï¼Œå…199è´å£³å»æ”¯ä»˜â€¦æ‹¿ä¸‹ç½‘é¡µçš„å•è¯ï¼Œä¸‹é¢æ˜¯ä»£ç ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line">file = <span class="built_in">open</span>(<span class="string">&quot;vocabulary.doc&quot;</span>, <span class="string">&quot;w&quot;</span>, encoding=<span class="string">&quot;utf-8&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">spider</span>(<span class="params">url</span>):</span><br><span class="line"></span><br><span class="line">    res = requests.get(url).text</span><br><span class="line"></span><br><span class="line">    pattern = <span class="string">&#x27;&lt;strong&gt;([a-z,A-Z]*?)&lt;/strong&gt;\s*&lt;/td&gt;\s*&lt;td class=&quot;span10&quot;&gt;(.*?)&lt;/td&gt;&#x27;</span></span><br><span class="line"></span><br><span class="line">    vocabulary_list = re.findall(pattern, res)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> vocabulary <span class="keyword">in</span> vocabulary_list:</span><br><span class="line"></span><br><span class="line"> file.writelines((vocabulary[<span class="number">0</span>].strip(<span class="string">&#x27;&#x27;</span>), vocabulary[<span class="number">1</span>].strip(<span class="string">&#x27;&#x27;</span>), <span class="string">&quot;\n&quot;</span>))</span><br><span class="line"></span><br><span class="line">url_list = [<span class="string">&quot;[è¯ä¸²ï¼š list 1](https://www.shanbay.com/wordlist/104899/202159/?page=)&quot;</span>,</span><br><span class="line"></span><br><span class="line">     <span class="string">&quot;[è¯ä¸²ï¼š list 2](https://www.shanbay.com/wordlist/104899/202162/?page=)&quot;</span>,</span><br><span class="line"></span><br><span class="line">     ]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> url <span class="keyword">in</span> url_list:</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">10</span>):</span><br><span class="line"></span><br><span class="line"> url = <span class="string">&quot;[è¯ä¸²ï¼š list 1](https://www.shanbay.com/wordlist/104899/202159/?page=)&quot;</span> + <span class="built_in">str</span>(i)</span><br><span class="line"></span><br><span class="line"> spider(url)</span><br><span class="line"></span><br><span class="line">file.close()</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¼šç”Ÿæˆä¸€ä¸ªwordçš„ç»“æœæ–‡æ¡£åœ¨ä»£ç è¿è¡Œçš„åŒä¸€ç›®å½•ä¸‹ï¼Œç»“æœå¦‚ä¸‹ï¼Œæ²¡æœ‰å¯ä»¥æ’ç‰ˆï¼Œæœ€å¥½æ˜¯æ”¾åœ¨excelä¸‹ã€‚</p><h2 id="åäºŒã€ç¨‹åºå‘˜å¸¸ç”¨å•è¯600ä¸ª"><a href="#åäºŒã€ç¨‹åºå‘˜å¸¸ç”¨å•è¯600ä¸ª" class="headerlink" title="åäºŒã€ç¨‹åºå‘˜å¸¸ç”¨å•è¯600ä¸ª"></a>åäºŒã€ç¨‹åºå‘˜å¸¸ç”¨å•è¯600ä¸ª</h2><h3 id="A"><a href="#A" class="headerlink" title="A"></a>A</h3><table><thead><tr><th>application</th><th>åº”ç”¨ç¨‹å¼ åº”ç”¨ã€åº”ç”¨ç¨‹åº</th></tr></thead><tbody><tr><td>application framework</td><td>åº”ç”¨ç¨‹å¼æ¡†æ¶ã€åº”ç”¨æ¡†æ¶ åº”ç”¨ç¨‹åºæ¡†æ¶</td></tr><tr><td>architecture</td><td>æ¶æ„ã€ç³»ç»Ÿæ¶æ„ <a href="https://www.zhihu.com/search?q=%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84&search_source=Entity&hybrid_search_source=Entity&hybrid_search_extra=%7B%22sourceType%22:%22article%22,%22sourceId%22:%2242475745%22%7D">ä½“ç³»ç»“æ„</a></td></tr><tr><td>argument</td><td>å¼•æ•°ï¼ˆä¼ ç»™å‡½å¼çš„å€¼ï¼‰ã€‚åè§ parameter åæ•°ã€å®è´¨åæ•°ã€å®åã€è‡ªå˜é‡</td></tr><tr><td>array</td><td>é˜µåˆ— æ•°ç»„</td></tr><tr><td>arrow operator arrow</td><td>ï¼ˆç®­å¤´ï¼‰è¿ç®—å­ ç®­å¤´æ“ä½œç¬¦</td></tr><tr><td>assembly</td><td>è£…é…ä»¶</td></tr><tr><td>assembly language</td><td>ç»„åˆè¯­è¨€ æ±‡ç¼–è¯­è¨€</td></tr><tr><td>assert</td><td>(ion) æ–­è¨€</td></tr><tr><td>assign</td><td>æŒ‡æ´¾ã€æŒ‡å®šã€è®¾å€¼ã€èµ‹å€¼ èµ‹å€¼</td></tr><tr><td>assignment</td><td>æŒ‡æ´¾ã€æŒ‡å®š èµ‹å€¼ã€åˆ†é…</td></tr><tr><td>assignment operator</td><td>æŒ‡æ´¾ï¼ˆèµ‹å€¼ï¼‰è¿ç®—å­ &#x3D; èµ‹å€¼æ“ä½œç¬¦</td></tr><tr><td>associated</td><td>ç›¸åº”çš„ã€ç›¸å…³çš„ ç›¸å…³çš„ã€å…³è”ã€ç›¸åº”çš„</td></tr><tr><td>associative container</td><td>å…³è”å¼å®¹å™¨ï¼ˆå¯¹åº” sequential containerï¼‰ å…³è”å¼å®¹å™¨</td></tr><tr><td>atomic</td><td>ä¸å¯åˆ†å‰²çš„ åŸå­çš„</td></tr><tr><td>attribute</td><td>å±æ€§ å±æ€§ã€ç‰¹æ€§</td></tr><tr><td>audio</td><td>éŸ³è®¯ éŸ³é¢‘</td></tr><tr><td>A.I.</td><td>äººå·¥æ™ºæ…§ äººå·¥æ™ºèƒ½</td></tr></tbody></table><h3 id="B"><a href="#B" class="headerlink" title="B"></a>B</h3><table><thead><tr><th>background</th><th>èƒŒæ™¯ èƒŒæ™¯ï¼ˆç”¨æ–¼å›¾å½¢ç€è‰²ï¼‰ åå°ï¼ˆç”¨æ–¼è¡Œç¨‹ï¼‰</th></tr></thead><tbody><tr><td>backward compatible</td><td>å›æº¯ç›¸å®¹ å‘ä¸‹å…¼å®¹</td></tr><tr><td>bandwidth</td><td>é¢‘å®½ å¸¦å®½</td></tr><tr><td>base class</td><td>åŸºç¡€ç±»åˆ« åŸºç±»</td></tr><tr><td>base type</td><td>åŸºç¡€å‹åˆ« (ç­‰åŒæ–¼ base class)</td></tr><tr><td>batch</td><td>æ‰¹æ¬¡ï¼ˆæ„æ€æ˜¯æ•´æ‰¹ä½œä¸šï¼‰ æ‰¹å¤„ç†</td></tr><tr><td>benefit</td><td>åˆ©ç›Š æ”¶ç›Š</td></tr><tr><td>best viable function</td><td>æœ€ä½³å¯è¡Œå‡½å¼ æœ€ä½³å¯è¡Œå‡½å¼ ï¼ˆä» viable functions ä¸­æŒ‘å‡ºçš„æœ€ä½³å»åˆè€…ï¼‰</td></tr><tr><td>binary search</td><td>äºŒåˆ†æœå¯»æ³• äºŒåˆ†æŸ¥æ‰¾</td></tr><tr><td>binary tree</td><td>äºŒå…ƒæ ‘ äºŒå‰æ ‘</td></tr><tr><td>binary function</td><td>äºŒå…ƒå‡½å¼ åŒåå‡½æ•°</td></tr><tr><td>binary operator</td><td>äºŒå…ƒè¿ç®—å­ äºŒå…ƒæ“ä½œç¬¦</td></tr><tr><td>binding</td><td>ç³»ç»“ ç»‘å®š</td></tr><tr><td>bit</td><td>ä½å…ƒ ä½</td></tr><tr><td>bit field</td><td>ä½å…ƒæ  ä½åŸŸ</td></tr><tr><td>bitmap</td><td>ä½å…ƒå›¾ ä½å›¾</td></tr><tr><td>bitwise</td><td>ä»¥ bit ä¸ºå•å…ƒé€ä¸€â”…</td></tr><tr><td>bitwise copy</td><td>ä»¥ bit ä¸ºå•å…ƒè¿›è¡Œå¤åˆ¶ï¼›ä½å…ƒé€ä¸€å¤åˆ¶ ä½æ‹·è´</td></tr><tr><td>block</td><td>åŒºå—,åŒºæ®µ å—ã€åŒºå—ã€è¯­å¥å—</td></tr><tr><td>boolean</td><td><a href="https://www.zhihu.com/search?q=%E5%B8%83%E6%9E%97%E5%80%BC&search_source=Entity&hybrid_search_source=Entity&hybrid_search_extra=%7B%22sourceType%22:%22article%22,%22sourceId%22:%2242475745%22%7D">å¸ƒæ—å€¼</a>ï¼ˆçœŸå‡å€¼ï¼Œtrue æˆ– falseï¼‰ <a href="https://www.zhihu.com/search?q=%E5%B8%83%E5%B0%94%E5%80%BC&search_source=Entity&hybrid_search_source=Entity&hybrid_search_extra=%7B%22sourceType%22:%22article%22,%22sourceId%22:%2242475745%22%7D">å¸ƒå°”å€¼</a></td></tr><tr><td>border</td><td>è¾¹æ¡†ã€æ¡†çº¿ è¾¹æ¡†</td></tr><tr><td>brace</td><td>(curly brace) å¤§æ‹¬å¼§ã€å¤§æ‹¬å· èŠ±æ‹¬å¼§ã€èŠ±æ‹¬å·</td></tr><tr><td>bracket</td><td>(square brakcet) ä¸­æ‹¬å¼§ã€ä¸­æ‹¬å· æ–¹æ‹¬å¼§ã€æ–¹æ‹¬å·</td></tr><tr><td>breakpoint</td><td>ä¸­æ–­ç‚¹ æ–­ç‚¹</td></tr><tr><td>build</td><td>å»ºé€ ã€æ„ç­‘ã€å»ºç½®ï¼ˆMS ç”¨è¯­ï¼‰</td></tr><tr><td>buildï¼in</td><td>å†…å»º å†…ç½®</td></tr><tr><td>bus</td><td><a href="https://www.zhihu.com/search?q=%E6%B1%87%E6%B5%81%E6%8E%92&search_source=Entity&hybrid_search_source=Entity&hybrid_search_extra=%7B%22sourceType%22:%22article%22,%22sourceId%22:%2242475745%22%7D">æ±‡æµæ’</a> æ€»çº¿</td></tr><tr><td>business</td><td>å•†åŠ¡,ä¸šåŠ¡ ä¸šåŠ¡</td></tr><tr><td>buttons</td><td>æŒ‰é’® æŒ‰é’®</td></tr><tr><td>byte</td><td>ä½å…ƒç»„ï¼ˆç”± 8 bits ç»„æˆï¼‰ å­—èŠ‚</td></tr></tbody></table><h3 id="C"><a href="#C" class="headerlink" title="C"></a>C</h3><table><thead><tr><th>cache</th><th>å¿«å– é«˜é€Ÿç¼“å­˜</th></tr></thead><tbody><tr><td>call</td><td>å‘¼å«ã€å«ç”¨ è°ƒç”¨</td></tr><tr><td>callback</td><td>å›å‘¼ å›è°ƒ</td></tr><tr><td>call operator call</td><td>ï¼ˆå‡½å¼å‘¼å«ï¼‰è¿ç®—å­è°ƒç”¨æ“ä½œç¬¦  ï¼ˆåŒ function call operatorï¼‰</td></tr><tr><td>candidate function</td><td>å€™é€‰å‡½å¼ å€™é€‰å‡½æ•°  ï¼ˆåœ¨å‡½å¼å¤šè½½å†³è®®ç¨‹åºä¸­å‡ºç°çš„å€™é€‰å‡½å¼ï¼‰</td></tr><tr><td>chain</td><td>ä¸²é“¾ï¼ˆä¾‹ chain of function callsï¼‰ é“¾</td></tr><tr><td>character</td><td>å­—å…ƒ å­—ç¬¦</td></tr><tr><td>check box</td><td>æ ¸å–æ–¹å— (i.e. check button) å¤é€‰æ¡†</td></tr><tr><td>checked exception</td><td>å¯æ§å¼å¼‚å¸¸(Java)</td></tr><tr><td>check button</td><td>æ–¹é’® (i.e. check box) å¤é€‰æŒ‰é’®</td></tr><tr><td>child class</td><td>å­ç±»åˆ«ï¼ˆæˆ–ç§°ä¸ºderived class, subtypeï¼‰ å­ç±»</td></tr><tr><td>class</td><td>ç±»åˆ« ç±»</td></tr><tr><td>class body</td><td>ç±»åˆ«æœ¬ä½“ ç±»ä½“</td></tr><tr><td>class declaration</td><td>ç±»åˆ«å®£å‘Šã€ç±»åˆ«å®£å‘Šå¼ ç±»å£°æ˜</td></tr><tr><td>class definition</td><td>ç±»åˆ«å®šä¹‰ã€ç±»åˆ«å®šä¹‰å¼ ç±»å®šä¹‰</td></tr><tr><td>class derivation list</td><td>ç±»åˆ«è¡åŒ–åˆ— ç±»ç»§æ‰¿åˆ—è¡¨</td></tr><tr><td>class head</td><td>ç±»åˆ«è¡¨å¤´ ç±»å¤´</td></tr><tr><td>class hierarchy</td><td>ç±»åˆ«ç»§æ‰¿ä½“ç³», ç±»åˆ«é˜¶å±‚ ç±»å±‚æ¬¡ä½“ç³»</td></tr><tr><td>class library</td><td>ç±»åˆ«ç¨‹å¼åº“ã€ç±»åˆ«åº“ ç±»åº“</td></tr><tr><td>class template</td><td>ç±»åˆ«æ¨¡æ¿ã€ç±»åˆ«èŒƒæœ¬ ç±»æ¨¡æ¿</td></tr><tr><td>class template partial specializations</td><td>ç±»åˆ«æ¨¡æ¿åç‰¹åŒ– ç±»æ¨¡æ¿éƒ¨åˆ†ç‰¹åŒ–</td></tr><tr><td>class template specializations</td><td>ç±»åˆ«æ¨¡æ¿ç‰¹åŒ– ç±»æ¨¡æ¿ç‰¹åŒ–</td></tr><tr><td>cleanup</td><td>æ¸…ç†ã€å–„å æ¸…ç†ã€æ¸…é™¤</td></tr><tr><td>client</td><td>å®¢ç«¯ã€å®¢æˆ·ç«¯ã€å®¢æˆ· å®¢æˆ·</td></tr><tr><td>clientï¼server</td><td>ä¸»ä»æ¶æ„ å®¢æˆ·&#x2F;æœåŠ¡å™¨</td></tr><tr><td>clipboard</td><td>å‰ªè´´ç°¿ å‰ªè´´æ¿</td></tr><tr><td>clone</td><td>å¤åˆ¶ å…‹éš†</td></tr><tr><td>collection</td><td>ç¾¤é›† é›†åˆ</td></tr><tr><td>combo box</td><td>å¤åˆæ–¹å—ã€å¤åˆæ¡† ç»„åˆæ¡†</td></tr><tr><td>command line</td><td>å‘½ä»¤åˆ— å‘½ä»¤è¡Œ (ç³»ç»Ÿæ–‡å­—æ¨¡å¼ä¸‹çš„æ•´è¡Œæ‰§è¡Œå‘½ä»¤)</td></tr><tr><td>communication</td><td>é€šè®¯ é€šè®¯</td></tr><tr><td>compatible</td><td>ç›¸å®¹ å…¼å®¹</td></tr><tr><td>compile time</td><td>ç¼–è¯‘æœŸ ç¼–è¯‘æœŸã€ç¼–è¯‘æ—¶</td></tr><tr><td>compiler</td><td>ç¼–è¯‘å™¨ ç¼–è¯‘å™¨</td></tr><tr><td>component</td><td>ç»„ä»¶ ç»„ä»¶</td></tr><tr><td>composition</td><td>å¤åˆã€åˆæˆã€ç»„åˆ ç»„åˆ</td></tr><tr><td>computer</td><td>ç”µè„‘ã€è®¡ç®—æœº è®¡ç®—æœºã€ç”µè„‘</td></tr><tr><td>concept</td><td>æ¦‚å¿µ æ¦‚å¿µ</td></tr><tr><td>concrete</td><td>å…·è±¡çš„ å®åœ¨çš„</td></tr><tr><td>concurrent</td><td>å¹¶è¡Œ å¹¶å‘</td></tr><tr><td>configuration</td><td>ç»„æ€ é…ç½®</td></tr><tr><td>connection</td><td>è¿æ¥ï¼Œè¿çº¿ï¼ˆç½‘ç»œ,èµ„æ–™åº“ï¼‰ è¿æ¥</td></tr><tr><td>constraint</td><td>çº¦æŸï¼ˆæ¡ä»¶ï¼‰</td></tr><tr><td>construct</td><td>æ„ä»¶ æ„ä»¶</td></tr><tr><td>container</td><td>å®¹å™¨ å®¹å™¨ï¼ˆå­˜æ”¾èµ„æ–™çš„æŸç§ç»“æ„å¦‚ list, vectorâ€¦ï¼‰</td></tr><tr><td>containment</td><td>å†…å« åŒ…å®¹</td></tr><tr><td>context</td><td>èƒŒæ™¯å…³ç³»ã€å‘¨é­ç¯å¢ƒã€ä¸Šä¸‹è„‰ç»œ ç¯å¢ƒã€ä¸Šä¸‹æ–‡</td></tr><tr><td>control</td><td><a href="https://www.zhihu.com/search?q=%E6%8E%A7%E5%88%B6%E5%85%83%E4%BB%B6&search_source=Entity&hybrid_search_source=Entity&hybrid_search_extra=%7B%22sourceType%22:%22article%22,%22sourceId%22:%2242475745%22%7D">æ§åˆ¶å…ƒä»¶</a>ã€æ§ä»¶ æ§ä»¶</td></tr><tr><td>console</td><td>ä¸»æ§å° æ§åˆ¶å°</td></tr><tr><td>const</td><td>å¸¸æ•°ï¼ˆconstant çš„ç¼©å†™ï¼ŒC++ å…³é”®å­—ï¼‰</td></tr><tr><td>constant</td><td>å¸¸æ•°ï¼ˆç›¸å¯¹æ–¼ variableï¼‰ å¸¸é‡</td></tr><tr><td>constructor</td><td>(ctorï¼‰ å»ºæ„å¼ æ„é€ å‡½æ•° ï¼ˆä¸class åŒåçš„ä¸€ç§ member functionsï¼‰</td></tr><tr><td>copy</td><td>(v) å¤åˆ¶ã€æ‹·è´ æ‹·è´</td></tr><tr><td>copy</td><td>(n) å¤ä»¶, å‰¯æœ¬</td></tr><tr><td>cover</td><td>æ¶µç›– è¦†ç›–</td></tr><tr><td>create</td><td>åˆ›å»ºã€å»ºç«‹ã€äº§ç”Ÿã€ç”Ÿæˆ åˆ›å»º</td></tr><tr><td>creation</td><td>äº§ç”Ÿã€ç”Ÿæˆ åˆ›å»º</td></tr><tr><td>cursor</td><td>æ¸¸æ ‡ å…‰æ ‡</td></tr><tr><td>custom</td><td>è®¢åˆ¶ã€è‡ªå®š å®šåˆ¶</td></tr></tbody></table><h3 id="D"><a href="#D" class="headerlink" title="D"></a>D</h3><table><thead><tr><th>data</th><th>èµ„æ–™ æ•°æ®</th></tr></thead><tbody><tr><td>database</td><td>èµ„æ–™åº“ æ•°æ®åº“</td></tr><tr><td>database schema</td><td>æ•°æ®åº“ç»“æ„çº²ç›®</td></tr><tr><td>data member</td><td>èµ„æ–™æˆå‘˜ã€æˆå‘˜å˜æ•° æ•°æ®æˆå‘˜ã€æˆå‘˜å˜é‡</td></tr><tr><td>data structure</td><td>èµ„æ–™ç»“æ„ æ•°æ®ç»“æ„</td></tr><tr><td>datagram</td><td>èµ„æ–™å…ƒ æ•°æ®æŠ¥æ–‡</td></tr><tr><td>dead lock</td><td>æ­»ç»“ æ­»é”</td></tr><tr><td>debug</td><td>é™¤é”™ è°ƒè¯•</td></tr><tr><td>debugger</td><td>é™¤é”™å™¨ è°ƒè¯•å™¨</td></tr><tr><td>declaration</td><td>å®£å‘Šã€å®£å‘Šå¼ å£°æ˜</td></tr><tr><td>deduction</td><td>æ¨å¯¼ï¼ˆä¾‹ï¼štemplate argument deductionï¼‰ æ¨å¯¼ã€æ¨æ–­</td></tr><tr><td>default</td><td>é¢„è®¾ ç¼ºçœã€é»˜è®¤</td></tr><tr><td>defer</td><td>å»¶ç¼“ æ¨è¿Ÿ</td></tr><tr><td>define</td><td>å®šä¹‰ é¢„å®šä¹‰</td></tr><tr><td>definition</td><td>å®šä¹‰ã€å®šä¹‰åŒºã€å®šä¹‰å¼ å®šä¹‰</td></tr><tr><td>delegate</td><td>å§”æ´¾ã€å§”æ‰˜ã€å§”ä»» å§”æ‰˜</td></tr><tr><td>delegation</td><td>ï¼ˆåŒä¸Šï¼‰</td></tr><tr><td>demarshal</td><td>åç¼–åˆ— æ•£é›†</td></tr><tr><td>dereference</td><td>æé¢†ï¼ˆå–å‡ºæŒ‡æ ‡æ‰€æŒ‡ç‰©ä½“çš„å†…å®¹ï¼‰ è§£åè€ƒ</td></tr><tr><td>dereference operator dereference</td><td>ï¼ˆæé¢†ï¼‰è¿ç®—å­ * è§£åè€ƒæ“ä½œç¬¦</td></tr><tr><td>derived class</td><td>è¡ç”Ÿç±»åˆ« æ´¾ç”Ÿç±»</td></tr><tr><td>design by contract</td><td>å¥‘çº¦å¼è®¾è®¡</td></tr><tr><td>design pattern</td><td>è®¾è®¡èŒƒå¼ã€è®¾è®¡æ ·å¼ è®¾è®¡æ¨¡å¼ â€» æœ€è¿‘æˆ‘æ¯”è¾ƒå–œæ¬¢ã€Œè®¾è®¡èŒƒå¼ã€ä¸€è¯</td></tr><tr><td>destroy</td><td>æ‘§æ¯ã€é”€æ¯</td></tr><tr><td>destructor</td><td>è§£æ„å¼ <a href="https://www.zhihu.com/search?q=%E6%9E%90%E6%9E%84%E5%87%BD%E6%95%B0&search_source=Entity&hybrid_search_source=Entity&hybrid_search_extra=%7B%22sourceType%22:%22article%22,%22sourceId%22:%2242475745%22%7D">ææ„å‡½æ•°</a></td></tr><tr><td>device</td><td>è£…ç½®ã€è®¾å¤‡ è®¾å¤‡</td></tr><tr><td>dialog</td><td>å¯¹è¯çª—ã€å¯¹è¯ç›’ å¯¹è¯æ¡†</td></tr><tr><td>directive</td><td>æŒ‡ä»¤ï¼ˆä¾‹ï¼šusing directiveï¼‰ (ç¼–è¯‘)æŒ‡ç¤ºç¬¦</td></tr><tr><td>directory</td><td>ç›®å½• ç›®å½•</td></tr><tr><td>disk</td><td>ç¢Ÿ ç›˜</td></tr><tr><td>dispatch</td><td>åˆ†æ´¾ åˆ†æ´¾</td></tr><tr><td>distributed computing</td><td>åˆ†å¸ƒå¼è®¡ç®— (<a href="https://www.zhihu.com/search?q=%E5%88%86%E5%B8%83%E5%BC%8F%E7%94%B5%E7%AE%97&search_source=Entity&hybrid_search_source=Entity&hybrid_search_extra=%7B%22sourceType%22:%22article%22,%22sourceId%22:%2242475745%22%7D">åˆ†å¸ƒå¼ç”µç®—</a>) åˆ†å¸ƒå¼è®¡ç®— åˆ†æ•£å¼è®¡ç®— (åˆ†æ•£å¼ç”µç®—)</td></tr><tr><td>document</td><td>æ–‡ä»¶ æ–‡æ¡£</td></tr><tr><td>dot operator dot</td><td>ï¼ˆå¥ç‚¹ï¼‰è¿ç®—å­ . (åœ†)ç‚¹æ“ä½œç¬¦</td></tr><tr><td>driver</td><td>é©±åŠ¨ç¨‹å¼ é©±åŠ¨ï¼ˆç¨‹åºï¼‰</td></tr><tr><td>dynamic binding</td><td>åŠ¨æ€ç³»ç»“ åŠ¨æ€ç»‘å®š</td></tr></tbody></table><h3 id="E"><a href="#E" class="headerlink" title="E"></a>E</h3><table><thead><tr><th>efficiency</th><th>æ•ˆç‡ æ•ˆç‡</th></tr></thead><tbody><tr><td>efficient</td><td>é«˜æ•ˆ é«˜æ•ˆ</td></tr><tr><td>end user</td><td>ç»ˆç«¯ç”¨æˆ·</td></tr><tr><td>entity</td><td>ç‰©ä½“ å®ä½“ã€ç‰©ä½“</td></tr><tr><td>encapsulation</td><td>å°è£… å°è£…</td></tr><tr><td>enclosing class</td><td>å¤–å›´ç±»åˆ«ï¼ˆä¸å·¢çŠ¶ç±»åˆ« nested class æœ‰å…³ï¼‰å¤–å›´ç±»</td></tr><tr><td>enum</td><td>(enumeration) åˆ—ä¸¾ï¼ˆä¸€ç§ C++ èµ„æ–™å‹åˆ«ï¼‰ æšä¸¾</td></tr><tr><td>enumerators</td><td>åˆ—ä¸¾å…ƒï¼ˆenum å‹åˆ«ä¸­çš„æˆå‘˜ï¼‰ æšä¸¾æˆå‘˜ã€æšä¸¾å™¨</td></tr><tr><td>equal</td><td>ç›¸ç­‰ ç›¸ç­‰</td></tr><tr><td>equality</td><td>ç›¸ç­‰æ€§ ç›¸ç­‰æ€§</td></tr><tr><td>equality operator equality</td><td>ï¼ˆç­‰å·ï¼‰è¿ç®—å­ &#x3D;&#x3D; ç­‰å·æ“ä½œç¬¦</td></tr><tr><td>equivalence</td><td>ç­‰ä»·æ€§ã€ç­‰åŒæ€§ã€å¯¹ç­‰æ€§ ç­‰ä»·æ€§</td></tr><tr><td>equivalent</td><td>ç­‰ä»·ã€ç­‰åŒã€å¯¹ç­‰ ç­‰ä»·</td></tr><tr><td>escape code</td><td>è½¬ä¹‰ç  è½¬ä¹‰ç </td></tr><tr><td>evaluate</td><td>è¯„ä¼°ã€æ±‚å€¼ã€æ ¸å®š è¯„ä¼°</td></tr><tr><td>event</td><td>äº‹ä»¶ äº‹ä»¶</td></tr><tr><td>event driven</td><td>äº‹ä»¶é©±åŠ¨çš„ äº‹ä»¶é©±åŠ¨çš„</td></tr><tr><td>exception</td><td>å¼‚å¸¸æƒ…å†µ å¼‚å¸¸</td></tr><tr><td>exception declaration</td><td>å¼‚å¸¸å®£å‘Šï¼ˆref. C++ Primer 3&#x2F;e, 11.3ï¼‰ å¼‚å¸¸å£°æ˜</td></tr><tr><td>exception handling</td><td>å¼‚å¸¸å¤„ç†ã€å¼‚å¸¸å¤„ç†æœºåˆ¶ å¼‚å¸¸å¤„ç†ã€å¼‚å¸¸å¤„ç†æœºåˆ¶</td></tr><tr><td>exception specification</td><td>å¼‚å¸¸è§„æ ¼ï¼ˆref. C++ Primer 3&#x2F;e, 11.4ï¼‰ å¼‚å¸¸è§„èŒƒ</td></tr><tr><td>exit</td><td>é€€ç¦»ï¼ˆæŒ‡ç¦»å¼€å‡½å¼æ—¶çš„é‚£ä¸€ä¸ªæ‰§è¡Œç‚¹ï¼‰ é€€å‡º</td></tr><tr><td>explicit</td><td>æ˜ç™½çš„ã€æ˜æ˜¾çš„ã€æ˜¾å¼ æ˜¾å¼</td></tr><tr><td>export</td><td>æ±‡å‡º å¼•å‡ºã€å¯¼å‡º</td></tr><tr><td>expression</td><td>è¿ç®—å¼ã€ç®—å¼ è¡¨è¾¾å¼</td></tr></tbody></table><h3 id="F"><a href="#F" class="headerlink" title="F"></a>F</h3><table><thead><tr><th>facility</th><th>è®¾æ–½ã€è®¾å¤‡ è®¾æ–½ã€è®¾å¤‡</th></tr></thead><tbody><tr><td>feature</td><td>ç‰¹æ€§</td></tr><tr><td>field</td><td>æ ä½,èµ„æ–™æ ï¼ˆJavaï¼‰ å­—æ®µ, å€¼åŸŸï¼ˆJavaï¼‰</td></tr><tr><td>file</td><td>æ¡£æ¡ˆ æ–‡ä»¶</td></tr><tr><td>firmware</td><td>éŸ§ä½“ å›ºä»¶</td></tr><tr><td>flag</td><td>æ——æ ‡ æ ‡è®°</td></tr><tr><td>flash memory</td><td>å¿«é—ªè®°å¿†ä½“ é—ªå­˜</td></tr><tr><td>flexibility</td><td>å¼¹æ€§ çµæ´»æ€§</td></tr><tr><td>flush</td><td>æ¸…ç†ã€æ‰«æ¸… åˆ·æ–°</td></tr><tr><td>font</td><td>å­—å‹ å­—ä½“</td></tr><tr><td>form</td><td>è¡¨å•ï¼ˆprogramming ç”¨è¯­ï¼‰ çª—ä½“</td></tr><tr><td>formal parameter</td><td>å½¢å¼åæ•° å½¢å¼åæ•°</td></tr><tr><td>forward declaration</td><td>å‰ç½®å®£å‘Š å‰ç½®å£°æ˜</td></tr><tr><td>forwarding</td><td>è½¬å‘¼å«,è½¬å‘ è½¬å‘</td></tr><tr><td>forwarding function</td><td>è½¬å‘¼å«å‡½å¼,è½¬å‘å‡½å¼ è½¬å‘å‡½æ•°</td></tr><tr><td>fractal</td><td>ç¢å½¢ åˆ†å½¢</td></tr><tr><td>framework</td><td>æ¡†æ¶ æ¡†æ¶</td></tr><tr><td>full specialization</td><td>å…¨ç‰¹åŒ–ï¼ˆref. partial specializationï¼‰</td></tr><tr><td>function</td><td>å‡½å¼ã€å‡½æ•° å‡½æ•°</td></tr><tr><td>function call operator</td><td>åŒ call operator</td></tr><tr><td>function object</td><td>å‡½å¼ç‰©ä»¶ï¼ˆref. C++ Primer 3&#x2F;e, 12.3ï¼‰ å‡½æ•°å¯¹è±¡</td></tr><tr><td>function overloaded resolution</td><td>å‡½å¼å¤šè½½å†³è®®ç¨‹åº å‡½æ•°é‡è½½è§£å†³ï¼ˆæ–¹æ¡ˆï¼‰</td></tr><tr><td>functionality</td><td>åŠŸèƒ½ã€æœºèƒ½ åŠŸèƒ½</td></tr><tr><td>function template</td><td>å‡½å¼æ¨¡æ¿ã€å‡½å¼èŒƒæœ¬ å‡½æ•°æ¨¡æ¿</td></tr><tr><td>functor</td><td>ä»¿å‡½å¼ ä»¿å‡½å¼ã€å‡½å­</td></tr></tbody></table><h3 id="G"><a href="#G" class="headerlink" title="G"></a>G</h3><table><thead><tr><th>game</th><th>æ¸¸æˆ æ¸¸æˆ</th></tr></thead><tbody><tr><td>generate</td><td>ç”Ÿæˆ</td></tr><tr><td>generic</td><td>æ³›å‹ã€ä¸€èˆ¬åŒ–çš„ ä¸€èˆ¬åŒ–çš„ã€é€šç”¨çš„ã€æ³›åŒ–</td></tr><tr><td>generic algorithm</td><td>æ³›å‹æ¼”ç®—æ³• é€šç”¨ç®—æ³•</td></tr><tr><td>getter</td><td>(ç›¸å¯¹æ–¼ setter) å–å€¼å‡½å¼</td></tr><tr><td>global</td><td>å…¨åŸŸçš„ï¼ˆå¯¹åº”æ–¼ localï¼‰ å…¨å±€çš„</td></tr><tr><td>global object</td><td>å…¨åŸŸç‰©ä»¶ å…¨å±€å¯¹è±¡</td></tr><tr><td>global scope resolution operator</td><td>å…¨åŸŸç”Ÿå­˜ç©ºé—´ï¼ˆèŒƒå›´å†³è®®ï¼‰è¿ç®—å­ :: å…¨å±€èŒƒå›´è§£ææ“ä½œç¬¦</td></tr><tr><td>group</td><td>ç¾¤ç»„</td></tr><tr><td>group box</td><td>ç¾¤ç»„æ–¹å— åˆ†ç»„æ¡†</td></tr><tr><td>guard clause</td><td>å«è¿°å¥ (Refactoring, p250) å«è¯­å¥</td></tr><tr><td>GUI</td><td>å›¾å½¢ä»‹é¢ å›¾å½¢ç•Œé¢</td></tr></tbody></table><h3 id="H"><a href="#H" class="headerlink" title="H"></a>H</h3><table><thead><tr><th>hand shaking</th><th>æ¡æ‰‹åå•†</th></tr></thead><tbody><tr><td>handle</td><td>è¯†åˆ«ç ã€è¯†åˆ«å·ã€å·ç ç‰Œã€æƒæŸ„ å¥æŸ„</td></tr><tr><td>handler</td><td>å¤„ç†å¸¸å¼ å¤„ç†å‡½æ•°</td></tr><tr><td>hardï¼coded</td><td>ç¼–æ­»çš„ ç¡¬ç¼–ç çš„</td></tr><tr><td>hardï¼copy</td><td>ç¡¬æ‹·å›¾ å±å¹•æˆªå›¾</td></tr><tr><td>hard disk</td><td>ç¡¬ç¢Ÿ ç¡¬ç›˜</td></tr><tr><td>hardware</td><td>ç¡¬ä½“ ç¡¬ä»¶</td></tr><tr><td>hash table</td><td>æ‚å‡‘è¡¨ å“ˆå¸Œè¡¨ã€æ•£åˆ—è¡¨</td></tr><tr><td>header file</td><td>è¡¨å¤´æ¡£ã€æ ‡å¤´æ¡£ å¤´æ–‡ä»¶</td></tr><tr><td>heap</td><td>å †ç§¯ å †</td></tr><tr><td>hierarchy</td><td>é˜¶å±‚ä½“ç³» å±‚æ¬¡ç»“æ„ï¼ˆä½“ç³»ï¼‰</td></tr><tr><td>hook</td><td>æŒ‚é’© é’©å­</td></tr><tr><td>hyperlink</td><td>è¶…é“¾ç»“ è¶…é“¾æ¥</td></tr></tbody></table><h3 id="I"><a href="#I" class="headerlink" title="I"></a>I</h3><table><thead><tr><th>icon</th><th>å›¾ç¤ºã€å›¾æ ‡ å›¾æ ‡</th></tr></thead><tbody><tr><td>IDE</td><td>æ•´åˆå¼€å‘ç¯å¢ƒ é›†æˆå¼€å‘ç¯å¢ƒ</td></tr><tr><td>identifier</td><td>è¯†åˆ«å­—ã€è¯†åˆ«ç¬¦å· æ ‡è¯†ç¬¦</td></tr><tr><td>if and only if</td><td>è‹¥ä¸”å”¯è‹¥ å½“ä¸”ä»…å½“</td></tr><tr><td>Illinois</td><td>ä¼Šåˆ©è¯º ä¼Šåˆ©è¯ºæ–¯</td></tr><tr><td>image</td><td>å½±åƒ å›¾è±¡</td></tr><tr><td>immediate base</td><td>ç›´æ¥çš„ï¼ˆç´§ä¸´çš„ï¼‰ä¸Šå±‚ base classã€‚ ç›´æ¥ä¸Šå±‚åŸºç±»</td></tr><tr><td>immediate derived</td><td>ç›´æ¥çš„ï¼ˆç´§ä¸´çš„ï¼‰ä¸‹å±‚ derived classã€‚ ç›´æ¥ä¸‹å±‚æ´¾ç”Ÿç±»</td></tr><tr><td>immutability</td><td>ä¸å˜æ€§</td></tr><tr><td>immutable</td><td>ä¸å¯å˜ï¼ˆçš„ï¼‰</td></tr><tr><td>implement</td><td>å®ä½œã€å®ç° å®ç°</td></tr><tr><td>implementation</td><td>å®ä½œå“ã€å®ä½œä½“ã€å®ä½œç ã€å®ä»¶ å®ç°</td></tr><tr><td>implicit</td><td>éšå–»çš„ã€æš—è‡ªçš„ã€éšå¼ éšå¼</td></tr><tr><td>import</td><td>æ±‡å…¥ å¯¼å…¥</td></tr><tr><td>increment operator</td><td>ç´¯åŠ è¿ç®—å­ ++ å¢åŠ æ“ä½œç¬¦</td></tr><tr><td>infinite loop</td><td>æ— ç©·å›åœˆ æ— é™å¾ªç¯</td></tr><tr><td>infinite recursive</td><td>æ— ç©·é€’å› æ— é™é€’å½’</td></tr><tr><td>information</td><td>èµ„è®¯ ä¿¡æ¯</td></tr><tr><td>infrastructure</td><td>å…¬å…±åŸºç¡€å»ºè®¾</td></tr><tr><td>inheritance</td><td>ç»§æ‰¿ã€ç»§æ‰¿æœºåˆ¶ ç»§æ‰¿ã€ç»§æ‰¿æœºåˆ¶</td></tr><tr><td>inline</td><td>è¡Œå†… å†…è”</td></tr><tr><td>inline expansion</td><td>è¡Œå†…å±•å¼€ å†…è”å±•å¼€</td></tr><tr><td>initialization</td><td>åˆå§‹åŒ–ï¼ˆåŠ¨ä½œï¼‰ åˆå§‹åŒ–</td></tr><tr><td>initialization list</td><td>åˆå€¼åˆ— åˆå§‹å€¼åˆ—è¡¨</td></tr><tr><td>initialize</td><td>åˆå§‹åŒ– åˆå§‹åŒ–</td></tr><tr><td>inner class</td><td>å†…éšç±»åˆ« å†…åµŒç±»</td></tr><tr><td>instance</td><td>å®ä½“ å®ä¾‹ ï¼ˆæ ¹æ®æŸç§è¡¨è¿°è€Œå®é™…äº§ç”Ÿçš„ã€Œä¸œè¥¿ã€ï¼‰</td></tr><tr><td>instantiated</td><td>å…·ç°åŒ–ã€å®ä½“åŒ–ï¼ˆå¸¸åº”ç”¨æ–¼ templateï¼‰ å®ä¾‹åŒ–</td></tr><tr><td>instantiation</td><td>å…·ç°ä½“ã€å…·ç°åŒ–å®ä½“ï¼ˆå¸¸åº”ç”¨æ–¼ templateï¼‰ å®ä¾‹</td></tr><tr><td>integer</td><td>(integral) æ•´æ•°ï¼ˆçš„ï¼‰ æ•´å‹ï¼ˆçš„ï¼‰</td></tr><tr><td>integrate</td><td>æ•´åˆ é›†æˆ</td></tr><tr><td>interacts</td><td>äº¤è°ˆã€äº’åŠ¨ äº¤äº’</td></tr><tr><td>interface</td><td>ä»‹é¢ æ¥å£</td></tr><tr><td>for GUI</td><td>ä»‹é¢ ç•Œé¢</td></tr><tr><td>interpreter</td><td>ç›´è¯‘å™¨ è§£é‡Šå™¨</td></tr><tr><td>invariants</td><td>æ’å¸¸æ€§,çº¦æŸæ¡ä»¶ çº¦æŸæ¡ä»¶</td></tr><tr><td>invoke</td><td>å”¤èµ· è°ƒç”¨</td></tr><tr><td>iterate</td><td>è¿­ä»£ï¼ˆå›åœˆä¸€ä¸ªè½®å›ä¸€ä¸ªè½®å›åœ°è¿›è¡Œï¼‰ è¿­ä»£</td></tr><tr><td>iterative</td><td>åè¦†çš„ï¼Œè¿­ä»£çš„</td></tr><tr><td>iterator</td><td>è¿­ä»£å™¨ï¼ˆä¸€ç§æ³›å‹æŒ‡æ ‡ï¼‰ è¿­ä»£å™¨</td></tr><tr><td>iteration</td><td>è¿­ä»£ï¼ˆå›åœˆæ¯æ¬¡è½®å›ç§°ä¸ºä¸€ä¸ª iterationï¼‰ è¿­ä»£</td></tr><tr><td>item</td><td>é¡¹ç›®ã€æ¡æ¬¾ é¡¹ã€æ¡æ¬¾ã€é¡¹ç›®</td></tr></tbody></table><h3 id="L"><a href="#L" class="headerlink" title="L"></a>L</h3><table><thead><tr><th>laser</th><th>é›·å°„ æ¿€å…‰</th></tr></thead><tbody><tr><td>level</td><td>é˜¶ å±‚ (çº§) ä¾‹ high level é«˜é˜¶ é«˜å±‚</td></tr><tr><td>library</td><td>ç¨‹å¼åº“ã€å‡½å¼åº“ åº“ã€å‡½æ•°åº“</td></tr><tr><td>lifetime</td><td>ç”Ÿå‘½æœŸã€å¯¿å‘½ ç”Ÿå‘½æœŸã€å¯¿å‘½</td></tr><tr><td>link</td><td>è”ç»“ã€è¿ç»“ è¿æ¥,é“¾æ¥</td></tr><tr><td>linker</td><td>è”ç»“å™¨ã€è¿ç»“å™¨ è¿æ¥å™¨</td></tr><tr><td>literal constant</td><td>å­—é¢å¸¸æ•°ï¼ˆä¾‹ 3.14 æˆ– â€œhiâ€ è¿™ç­‰å¸¸æ•°å€¼ï¼‰ å­—é¢å¸¸æ•°</td></tr><tr><td>list</td><td>ä¸²åˆ—ï¼ˆlinkedï¼listï¼‰ åˆ—è¡¨ã€è¡¨ã€é“¾è¡¨</td></tr><tr><td>list box</td><td>åˆ—è¡¨æ–¹å—ã€åˆ—è¡¨æ¡† åˆ—è¡¨æ¡†</td></tr><tr><td>load</td><td>è½½å…¥ è£…è½½</td></tr><tr><td>loader</td><td>è½½å…¥å™¨ è£…è½½å™¨ã€è½½å…¥å™¨</td></tr><tr><td>local</td><td>åŒºåŸŸçš„ï¼ˆå¯¹åº”æ–¼ globalï¼‰ å±€éƒ¨çš„</td></tr><tr><td>local object</td><td>åŒºåŸŸç‰©ä»¶ å±€éƒ¨å¯¹è±¡</td></tr><tr><td>lock</td><td>æœºé”</td></tr><tr><td>loop</td><td>å›åœˆ å¾ªç¯</td></tr><tr><td>lvalue</td><td>å·¦å€¼ å·¦å€¼</td></tr></tbody></table><h3 id="M"><a href="#M" class="headerlink" title="M"></a>M</h3><table><thead><tr><th>macro</th><th>å·¨é›† å®</th></tr></thead><tbody><tr><td>magic number</td><td>é­”æœ¯æ•°å­— é­”æ³•æ•°</td></tr><tr><td>maintain</td><td>ç»´æŠ¤ ç»´æŠ¤</td></tr><tr><td>manipulator</td><td>æ“çºµå™¨ï¼ˆiostream é¢„å…ˆå®šä¹‰çš„ä¸€ç§ä¸œè¥¿ï¼‰ æ“çºµå™¨</td></tr><tr><td>marshal</td><td>ç¼–åˆ— åˆ—é›† åè€ƒ demarshal</td></tr><tr><td>mechanism</td><td>æœºåˆ¶ æœºåˆ¶</td></tr><tr><td>member</td><td>æˆå‘˜ æˆå‘˜</td></tr><tr><td>member access operator</td><td>æˆå‘˜å–ç”¨è¿ç®—å­ï¼ˆæœ‰ dot å’Œ arrow ä¸¤ç§ï¼‰ æˆå‘˜å­˜å–æ“ä½œç¬¦</td></tr><tr><td>member function</td><td>æˆå‘˜å‡½å¼ æˆå‘˜å‡½æ•°</td></tr><tr><td>member initialization list</td><td>æˆå‘˜åˆå€¼åˆ— æˆå‘˜åˆå§‹å€¼åˆ—è¡¨</td></tr><tr><td>memberwise</td><td>ä»¥ member ä¸ºå•å…ƒâ”…ã€members é€ä¸€â”… ä»¥æˆå‘˜ä¸ºå•ä½</td></tr><tr><td>memberwise copy</td><td>ä»¥ members ä¸ºå•å…ƒé€ä¸€å¤åˆ¶</td></tr><tr><td>memory</td><td>è®°å¿†ä½“ å†…å­˜</td></tr><tr><td>menu</td><td>è¡¨å•ã€é€‰å• èœå•</td></tr><tr><td>message</td><td>è®¯æ¯ æ¶ˆæ¯</td></tr><tr><td>message based</td><td>ä»¥è®¯æ¯ä¸ºåŸºç¡€çš„ åŸºæ–¼æ¶ˆæ¯çš„</td></tr><tr><td>message loop</td><td>è®¯æ¯å›åœˆ æ¶ˆæ¯ç¯</td></tr><tr><td>method</td><td>(Java) æ–¹æ³•ã€è¡Œä¸ºã€å‡½å¼ æ–¹æ³•</td></tr><tr><td>meta</td><td></td></tr><tr><td>micro</td><td>å¾®</td></tr><tr><td>middleware</td><td>ä¸­ä»‹å±‚ ä¸­é—´ä»¶</td></tr><tr><td>modeling</td><td>æ¨¡å¡‘</td></tr><tr><td>modeling language</td><td>å¡‘æ¨¡è¯­è¨€ï¼Œå»ºæ¨¡è¯­è¨€</td></tr><tr><td>modem</td><td>æ•°æ®æœº <a href="https://www.zhihu.com/search?q=%E8%B0%83%E5%88%B6%E8%A7%A3%E8%B0%83%E5%99%A8&search_source=Entity&hybrid_search_source=Entity&hybrid_search_extra=%7B%22sourceType%22:%22article%22,%22sourceId%22:%2242475745%22%7D">è°ƒåˆ¶è§£è°ƒå™¨</a></td></tr><tr><td>module</td><td>æ¨¡ç»„ æ¨¡å—</td></tr><tr><td>modifier</td><td>é¥°è¯ <a href="https://www.zhihu.com/search?q=%E4%BF%AE%E9%A5%B0%E7%AC%A6&search_source=Entity&hybrid_search_source=Entity&hybrid_search_extra=%7B%22sourceType%22:%22article%22,%22sourceId%22:%2242475745%22%7D">ä¿®é¥°ç¬¦</a></td></tr><tr><td>most derived class</td><td>æœ€æœ«å±‚è¡ç”Ÿç±»åˆ« æœ€åº•å±‚çš„æ´¾ç”Ÿç±»</td></tr><tr><td>mouse</td><td>æ»‘é¼  é¼ æ ‡</td></tr><tr><td>mutable</td><td>å¯å˜çš„ å¯å˜çš„</td></tr><tr><td>multiï¼tasking</td><td>å¤šå·¥ å¤šä»»åŠ¡</td></tr></tbody></table><h3 id="N"><a href="#N" class="headerlink" title="N"></a>N</h3><table><thead><tr><th>namespace</th><th>å‘½åç©ºé—´ åå­—ç©ºé—´ã€å‘½åç©ºé—´</th></tr></thead><tbody><tr><td>native</td><td>åŸç”Ÿçš„ æœ¬åœ°çš„ã€å›ºæœ‰çš„</td></tr><tr><td>nested class</td><td>å·¢çŠ¶ç±»åˆ« åµŒå¥—ç±»</td></tr><tr><td>network</td><td>ç½‘è·¯ ç½‘ç»œ</td></tr><tr><td>network card</td><td>ç½‘è·¯å¡ ç½‘å¡</td></tr></tbody></table><h3 id="O"><a href="#O" class="headerlink" title="O"></a>O</h3><table><thead><tr><th>object</th><th>ç‰©ä»¶ å¯¹è±¡</th></tr></thead><tbody><tr><td>object based</td><td>ä»¥ç‰©ä»¶ä¸ºåŸºç¡€çš„ åŸºæ–¼å¯¹è±¡çš„</td></tr><tr><td>object file</td><td>ç›®çš„æ¡£ ç›®æ ‡æ–‡ä»¶</td></tr><tr><td>object model</td><td>ç‰©ä»¶æ¨¡å‹ å¯¹è±¡æ¨¡å‹</td></tr><tr><td>object oriented</td><td>ç‰©ä»¶å¯¼å‘çš„ é¢å‘å¯¹è±¡çš„</td></tr><tr><td>online</td><td>çº¿ä¸Š åœ¨çº¿</td></tr><tr><td>opaque</td><td>ä¸é€æ˜çš„</td></tr><tr><td>operand</td><td>è¿ç®—å…ƒ æ“ä½œæ•°</td></tr><tr><td>operating system</td><td>(OS) ä½œä¸šç³»ç»Ÿ æ“ä½œç³»ç»Ÿ</td></tr><tr><td>operation</td><td>æ“ä½œã€æ“ä½œè¡Œä¸º æ“ä½œ</td></tr><tr><td>operator</td><td>è¿ç®—å­ æ“ä½œç¬¦ã€è¿ç®—ç¬¦</td></tr><tr><td>option</td><td>é€‰é¡¹ï¼Œå¯é€‰æ–¹æ¡ˆ é€‰é¡¹</td></tr><tr><td>ordinary</td><td>å¸¸è§„çš„ å¸¸è§„çš„</td></tr><tr><td>overflow</td><td>ä¸Šé™æº¢ä½ï¼ˆç›¸å¯¹æ–¼ underflowï¼‰ æº¢å‡ºï¼ˆunderflow:ä¸‹æº¢ï¼‰</td></tr><tr><td>overhead</td><td>é¢å¤–è´Ÿæ‹…ã€é¢å¤–å¼€é”€ é¢å¤–å¼€é”€</td></tr><tr><td>overload</td><td>å¤šè½½åŒ–ã€å¤šè½½åŒ–ã€é‡è½½ é‡è½½</td></tr><tr><td>overloaded function</td><td>å¤šè½½åŒ–å‡½å¼ é‡è½½çš„å‡½æ•°</td></tr><tr><td>overloaded operator</td><td>å¤šè½½åŒ–è¿ç®—å­ è¢«é‡è½½çš„æ“ä½œç¬¦</td></tr><tr><td>overloaded set</td><td>å¤šè½½é›†åˆ é‡è½½é›†åˆ</td></tr><tr><td>override</td><td>æ”¹å†™ã€è¦†å†™ é‡è½½ã€æ”¹å†™ã€é‡æ–°å®šä¹‰ ï¼ˆåœ¨ derived class ä¸­é‡æ–°å®šä¹‰è™šæ‹Ÿå‡½å¼</td></tr></tbody></table><h3 id="P"><a href="#P" class="headerlink" title="P"></a>P</h3><table><thead><tr><th>package</th><th>å¥—ä»¶ åŒ…</th></tr></thead><tbody><tr><td>pair</td><td>å¯¹ç»„</td></tr><tr><td>palette</td><td>è°ƒè‰²ç›˜ã€ç»„ä»¶ç›˜ã€å·¥å…·ç®±</td></tr><tr><td>pane</td><td>çª—æ ¼ çª—æ ¼ï¼ˆæœ‰æ—¶ä¸ºåµŒæ¿ä¹‹æ„ï¼Œä¾‹ Java Content Paneï¼‰</td></tr><tr><td>parallel</td><td>å¹³è¡Œ å¹¶è¡Œ</td></tr><tr><td>parameter</td><td>åæ•°ï¼ˆå‡½å¼åæ•°åˆ—ä¸Šçš„å˜æ•°ï¼‰ åæ•°ã€å½¢å¼åæ•°ã€å½¢å</td></tr><tr><td>parameter list</td><td>åæ•°åˆ— åæ•°åˆ—è¡¨</td></tr><tr><td>parent class</td><td>çˆ¶ç±»åˆ«ï¼ˆæˆ–ç§° base classï¼‰ çˆ¶ç±»</td></tr><tr><td>parentheses</td><td>å°æ‹¬å¼§ã€å°æ‹¬å· åœ†æ‹¬å¼§ã€åœ†æ‹¬å·</td></tr><tr><td>parse</td><td>è§£æ è§£æ</td></tr><tr><td>part</td><td>é›¶ä»¶ éƒ¨ä»¶</td></tr><tr><td>partial specialization</td><td>åç‰¹åŒ–ï¼ˆref. C++ Primer 3&#x2F;e, 16.10ï¼‰ å±€éƒ¨ç‰¹åŒ– ï¼ˆref. full specializationï¼‰</td></tr><tr><td>pass by address</td><td>ä¼ å€ï¼ˆå‡½å¼å¼•æ•°çš„ä¼ é€’æ–¹å¼ï¼‰ï¼ˆéæ­£å¼ç”¨è¯­ï¼‰ä¼ åœ°å€</td></tr><tr><td>pass by reference</td><td>ä¼ å€ï¼ˆå‡½å¼å¼•æ•°çš„ä¸€ç§ä¼ é€’æ–¹å¼ï¼‰ ä¼ åœ°å€, æŒ‰å¼•ç”¨ä¼ é€’</td></tr><tr><td>pass by value</td><td>ä¼ å€¼ï¼ˆå‡½å¼å¼•æ•°çš„ä¸€ç§ä¼ é€’æ–¹å¼ï¼‰ æŒ‰å€¼ä¼ é€’</td></tr><tr><td>pattern</td><td>èŒƒå¼ã€æ ·å¼ æ¨¡å¼</td></tr><tr><td>performance</td><td>æ•ˆç‡ã€æ€§èƒ½å…¼è€Œæœ‰ä¹‹ æ€§èƒ½</td></tr><tr><td>persistence</td><td>æ°¸ç»­æ€§ æŒä¹…æ€§</td></tr><tr><td>pixel</td><td>å›¾ç´ ã€åƒç´  åƒç´ </td></tr><tr><td>placement delete</td><td>ref. C++ Primer3&#x2F;e, 15.8.2</td></tr><tr><td>placement new</td><td>ref. C++ Primer 3&#x2F;e, 15.8.2</td></tr><tr><td>platform</td><td>å¹³å° å¹³å°</td></tr><tr><td>pointer</td><td>æŒ‡æ ‡ æŒ‡é’ˆ å€ä½å™¨ï¼ˆå’Œå€åå™¨ reference å½¢æˆå¯¹æ˜ ï¼Œæ»¡å¥½ï¼‰</td></tr><tr><td>poll</td><td>è½®è¯¢ è½®è¯¢</td></tr><tr><td>polymorphism</td><td>å¤šå‹ å¤šæ€</td></tr><tr><td>pop up</td><td>å†’èµ·å¼ã€å¼¹å‡ºå¼ å¼¹å‡ºå¼</td></tr><tr><td>port</td><td>åŸ  ç«¯å£</td></tr><tr><td>postfix</td><td>åç½®å¼ã€ååºå¼ åç½®å¼</td></tr><tr><td>precedence</td><td>ä¼˜å…ˆåºï¼ˆé€šå¸¸ç”¨æ–¼è¿ç®—å­çš„ä¼˜å…ˆæ‰§è¡Œæ¬¡åºï¼‰</td></tr><tr><td>prefix</td><td>å‰ç½®å¼ã€å‰åºå¼ å‰ç½®å¼</td></tr><tr><td>preprocessor</td><td>å‰å¤„ç†å™¨ é¢„å¤„ç†å™¨</td></tr><tr><td>prime</td><td>è´¨æ•° ç´ æ•°</td></tr><tr><td>primitive type</td><td>åŸºæœ¬å‹åˆ« (ä¸åŒæ–¼ base class,åŸºç¡€ç±»åˆ«)</td></tr><tr><td>print</td><td>åˆ—å° æ‰“å°</td></tr><tr><td>printer</td><td>å°è¡¨æœº æ‰“å°æœº</td></tr><tr><td>priority</td><td>ä¼˜å…ˆæƒ (é€šå¸¸ç”¨æ–¼æ‰§è¡Œç»ªè·å¾— CPU æ—¶é—´çš„ä¼˜å…ˆæ¬¡åºï¼‰</td></tr><tr><td>procedure</td><td>ç¨‹åº è¿‡ç¨‹</td></tr><tr><td>procedural</td><td>ç¨‹åºæ€§çš„ã€ç¨‹åºå¼çš„ è¿‡ç¨‹å¼çš„ã€è¿‡ç¨‹åŒ–çš„</td></tr><tr><td>process</td><td>è¡Œç¨‹ è¿›ç¨‹</td></tr><tr><td>profile</td><td>è¯„æµ‹ è¯„æµ‹</td></tr><tr><td>profiler</td><td>æ•ˆèƒ½ï¼ˆæ•ˆç‡ï¼‰è¯„æµ‹å™¨ æ•ˆèƒ½ï¼ˆæ€§èƒ½ï¼‰è¯„æµ‹å™¨</td></tr><tr><td>programmer</td><td>ç¨‹å¼å‘˜ ç¨‹åºå‘˜</td></tr><tr><td>programming</td><td>ç¼–ç¨‹ã€ç¨‹å¼è®¾è®¡ã€ç¨‹å¼åŒ– ç¼–ç¨‹</td></tr><tr><td>progress bar</td><td>è¿›åº¦æŒ‡ç¤ºå™¨ è¿›åº¦æŒ‡ç¤ºå™¨</td></tr><tr><td>project</td><td>ä¸“æ¡ˆ é¡¹ç›®ã€å·¥ç¨‹</td></tr><tr><td>property</td><td>å±æ€§</td></tr><tr><td>protocol</td><td>åå®š åè®®</td></tr><tr><td>pseudo code</td><td>å‡ç ã€è™šæ‹Ÿç ã€ä¼ªç  ä¼ªç </td></tr></tbody></table><h3 id="Q"><a href="#Q" class="headerlink" title="Q"></a>Q</h3><table><thead><tr><th>qualified</th><th>ç»è¿‡èµ„æ ¼ä¿®é¥°ï¼ˆä¾‹å¦‚åŠ ä¸Š scope è¿ç®—å­ï¼‰ é™å®š</th></tr></thead><tbody><tr><td>qualifier</td><td>èµ„æ ¼ä¿®é¥°è¯ã€é¥°è¯ é™å®šä¿®é¥°è¯</td></tr><tr><td>quality</td><td>å“è´¨ è´¨é‡</td></tr><tr><td>queue</td><td>ä¼«åˆ— é˜Ÿåˆ—</td></tr></tbody></table><h3 id="R"><a href="#R" class="headerlink" title="R"></a>R</h3><table><thead><tr><th>radian</th><th>å¾„åº¦ å¼§åº¦</th></tr></thead><tbody><tr><td>radio button</td><td>åœ†é’® å•é€‰æŒ‰é’®</td></tr><tr><td>raise</td><td>å¼•å‘ï¼ˆå¸¸ç”¨æ¥è¡¨ç¤ºå‘å‡ºä¸€ä¸ª exceptionï¼‰ å¼•èµ·ã€å¼•å‘</td></tr><tr><td>random number</td><td>éšæœºæ•°ã€ä¹±æ•° éšæœºæ•°</td></tr><tr><td>range</td><td>èŒƒå›´ã€åŒºé—´ï¼ˆç”¨æ–¼ STL æ—¶ï¼‰ èŒƒå›´ã€åŒºé—´</td></tr><tr><td>rank</td><td>ç­‰çº§ã€åˆ†ç­‰ï¼ˆref. C++Primer 3&#x2F;e 9,15ç« ï¼‰ ç­‰çº§</td></tr><tr><td>raw</td><td>ç”Ÿé²œçš„ã€æœªç»å¤„ç†çš„ æœªç»å¤„ç†çš„</td></tr><tr><td>record</td><td>è®°å½• è®°å½•</td></tr><tr><td>recordset</td><td>è®°å½•é›† è®°å½•é›†</td></tr><tr><td>recursive</td><td>é€’å› é€’å½’</td></tr><tr><td>reï¼direction</td><td>é‡å¯¼å‘ é‡å®šå‘</td></tr><tr><td>refactoring</td><td>é‡æ„ã€é‡æ•´ é‡æ„</td></tr><tr><td>refer</td><td>å–ç”¨ åè€ƒ</td></tr><tr><td>refer to</td><td>æŒ‡å‘ã€æŒ‡æ¶‰ã€æŒ‡ä»£</td></tr><tr><td>reference</td><td>ï¼ˆC++ ä¸­ç±»ä¼¼æŒ‡æ ‡çš„ä¸œè¥¿ï¼Œç›¸å½“æ–¼ â€œåŒ–èº«â€ï¼‰ å¼•ç”¨ã€åè€ƒ å€åå™¨, see pointer</td></tr><tr><td>register</td><td>æš‚å­˜å™¨ å¯„å­˜å™¨</td></tr><tr><td>reflection</td><td>åå°„ åå°„ã€æ˜ åƒ</td></tr><tr><td>relational database</td><td>å…³è”å¼èµ„æ–™åº“ å…³ç³»æ•°æ®åº“</td></tr><tr><td>represent</td><td>è¡¨è¿°ï¼Œè¡¨ç° è¡¨è¿°ï¼Œè¡¨ç°</td></tr><tr><td>resolve</td><td>å†³è®®ï¼ˆä¸ºç®—å¼ä¸­çš„ç¬¦å·åç§°å¯»æ‰¾ è§£æ å¯¹åº”ä¹‹å®£å‘Šå¼çš„è¿‡ç¨‹ï¼‰</td></tr><tr><td>resolution</td><td>å†³è®®ç¨‹åºã€å†³è®®è¿‡ç¨‹ è§£æè¿‡ç¨‹</td></tr><tr><td>resolution</td><td>è§£æåº¦ åˆ†è¾¨ç‡</td></tr><tr><td>restriction</td><td>å±€é™</td></tr><tr><td>return</td><td>ä¼ å›ã€å›è¿” è¿”å›</td></tr><tr><td>return type</td><td>å›è¿”å‹åˆ« è¿”å›ç±»å‹</td></tr><tr><td>return value</td><td>å›è¿”å€¼ è¿”å›å€¼</td></tr><tr><td>robust</td><td>å¼ºå›ºã€ç¨³å¥ å¥å£®</td></tr><tr><td>robustness</td><td>å¼ºå›ºæ€§ã€ç¨³å¥æ€§ å¥å£®æ€§</td></tr><tr><td>routine</td><td>å¸¸å¼ ä¾‹ç¨‹</td></tr><tr><td>runtime</td><td>æ‰§è¡ŒæœŸ è¿è¡ŒæœŸã€è¿è¡Œæ—¶</td></tr><tr><td>common language runtime</td><td>(CLR) è¯‘ä¸ºã€Œé€šç”¨è¯­è¨€æ‰§è¡Œå±‚ã€</td></tr><tr><td>rvalue</td><td>å³å€¼ å³å€¼</td></tr></tbody></table><h3 id="S"><a href="#S" class="headerlink" title="S"></a>S</h3><table><thead><tr><th>save</th><th>å‚¨å­˜ å­˜å‚¨</th></tr></thead><tbody><tr><td>schedule</td><td>æ’ç¨‹ è°ƒåº¦</td></tr><tr><td>scheduler</td><td>æ’ç¨‹å™¨ è°ƒåº¦ç¨‹åº</td></tr><tr><td>scheme</td><td>ç»“æ„çº²ç›®ã€ç»„ç»‡çº²ç›®</td></tr><tr><td>scroll bar</td><td>å·è½´ æ»šåŠ¨æ¡</td></tr><tr><td>scope</td><td>ç”Ÿå­˜ç©ºé—´ã€ç”Ÿå­˜èŒƒå›´ã€èŒƒç•´ã€<a href="https://www.zhihu.com/search?q=%E4%BD%9C%E7%94%A8%E5%9F%9F&search_source=Entity&hybrid_search_source=Entity&hybrid_search_extra=%7B%22sourceType%22:%22article%22,%22sourceId%22:%2242475745%22%7D">ä½œç”¨åŸŸ</a> ç”Ÿå­˜ç©ºé—´</td></tr><tr><td>scope operator</td><td>ç”Ÿå­˜ç©ºé—´ï¼ˆèŒƒå›´å†³è®®ï¼‰è¿ç®—å­ :: ç”Ÿå­˜ç©ºé—´æ“ä½œç¬¦</td></tr><tr><td>scope resolution operator</td><td>ç”Ÿå­˜ç©ºé—´å†³è®®è¿ç®—å­ ç”Ÿå­˜ç©ºé—´è§£ææ“ä½œç¬¦ ï¼ˆä¸scope operatoråŒï¼‰</td></tr><tr><td>screen</td><td>è¤å¹• å±å¹•</td></tr><tr><td>search</td><td>æœå¯» æŸ¥æ‰¾</td></tr><tr><td>semantics</td><td>è¯­æ„ è¯­ä¹‰</td></tr><tr><td>sequential container</td><td>åºåˆ—å¼å®¹å™¨ é¡ºåºå¼å®¹å™¨ ï¼ˆå¯¹åº”æ–¼ associative containerï¼‰</td></tr><tr><td>server</td><td>ä¼ºæœå™¨ã€ä¼ºæœç«¯ æœåŠ¡å™¨ã€æœåŠ¡ç«¯</td></tr><tr><td>serial</td><td>ä¸²è¡Œ</td></tr><tr><td>serialization</td><td>æ¬¡ç¬¬è¯»å†™,<a href="https://www.zhihu.com/search?q=%E5%BA%8F%E5%88%97%E5%8C%96&search_source=Entity&hybrid_search_source=Entity&hybrid_search_extra=%7B%22sourceType%22:%22article%22,%22sourceId%22:%2242475745%22%7D">åºåˆ—åŒ–</a> åºåˆ—åŒ– (serialize)</td></tr><tr><td>setter</td><td>(ç›¸å¯¹æ–¼ getter) è®¾å€¼å‡½å¼</td></tr><tr><td>signal</td><td>ä¿¡å·</td></tr><tr><td>signature</td><td>æ ‡è®°å¼ã€ç­¾åå¼ã€ç½²åå¼ ç­¾å</td></tr><tr><td>slider</td><td>æ»šè½´ æ»‘å—</td></tr><tr><td>slot</td><td>æ¡å­”ã€æ§½ æ§½</td></tr><tr><td>smart pointer</td><td>çµå·§æŒ‡æ ‡ã€ç²¾çµæŒ‡æ ‡ æ™ºèƒ½æŒ‡é’ˆ</td></tr><tr><td>snapshot</td><td>è¤å¹•å¿«ç…§ï¼ˆå›¾ï¼‰ å±å¹•æˆªå›¾</td></tr><tr><td>specialization</td><td>ç‰¹æ®ŠåŒ–ã€ç‰¹æ®ŠåŒ–å®šä¹‰ã€ç‰¹æ®ŠåŒ–å®£å‘Š ç‰¹åŒ–</td></tr><tr><td>specification</td><td>è§„æ ¼ è§„æ ¼ã€è§„èŒƒ</td></tr><tr><td>splitter</td><td>åˆ†è£‚è§†çª— åˆ‡åˆ†çª—å£</td></tr><tr><td>software</td><td>è½¯ä½“ è½¯ä»¶</td></tr><tr><td>solution</td><td>è§£æ³•,è§£å†³æ–¹æ¡ˆ æ–¹æ¡ˆ</td></tr><tr><td>source</td><td>åŸå§‹ç  æºç ã€æºä»£ç </td></tr><tr><td>stack</td><td>å †å  æ ˆ</td></tr><tr><td>stack unwinding</td><td>å †å è¾—è½¬å¼€è§£ï¼ˆæ­¤è¯ç”¨æ–¼ exception ä¸»é¢˜ï¼‰ æ ˆè¾—è½¬å¼€è§£ *</td></tr><tr><td>standard library</td><td>æ ‡å‡†ç¨‹å¼åº“</td></tr><tr><td>standard template library</td><td>æ ‡å‡†æ¨¡æ¿ç¨‹å¼åº“</td></tr><tr><td>statement</td><td>è¿°å¥ è¯­å¥ã€å£°æ˜</td></tr><tr><td>status bar</td><td>çŠ¶æ€åˆ—ã€çŠ¶æ€æ  çŠ¶æ€æ¡</td></tr><tr><td>STL</td><td>è§ standard template library</td></tr><tr><td>stream</td><td>èµ„æ–™æµã€ä¸²æµ æµ</td></tr><tr><td>string</td><td>å­—ä¸² å­—ç¬¦ä¸²</td></tr><tr><td>subroutine</td><td>å­è·¯ç”±</td></tr><tr><td>subscript operator</td><td>ä¸‹æ ‡è¿ç®—å­ [ ] ä¸‹æ ‡æ“ä½œç¬¦</td></tr><tr><td>subtype</td><td>å­å‹åˆ« å­ç±»å‹</td></tr><tr><td>support</td><td>æ”¯æ´ æ”¯æŒ</td></tr><tr><td>suspend</td><td>è™šæ‚¬ æŒ‚èµ·</td></tr><tr><td>symbol</td><td>ç¬¦å· è®°å·</td></tr><tr><td>syntax</td><td>è¯­æ³• è¯­æ³•</td></tr></tbody></table><h3 id="T"><a href="#T" class="headerlink" title="T"></a>T</h3><table><thead><tr><th>tag</th><th>æ ‡ç­¾ æ ‡è®° ç´¢å¼•æ ‡ç­¾,é¡µç­¾</th></tr></thead><tbody><tr><td>target</td><td>æ ‡çš„ï¼ˆä¾‹ target pointerï¼šæ ‡çš„æŒ‡æ ‡ï¼‰ ç›®æ ‡</td></tr><tr><td>task switch</td><td>å·¥ä½œåˆ‡æ¢ ä»»åŠ¡åˆ‡æ¢</td></tr><tr><td>template</td><td>æ¨¡æ¿ã€èŒƒæœ¬ æ¨¡æ¿</td></tr><tr><td>template argument deduction</td><td>æ¨¡æ¿å¼•æ•°æ¨å¯¼ æ¨¡æ¿åæ•°æ¨å¯¼</td></tr><tr><td>template explicit specialization</td><td>æ¨¡æ¿æ˜¾å¼ç‰¹åŒ–ï¼ˆç‰ˆæœ¬ï¼‰ æ¨¡æ¿æ˜¾å¼ç‰¹åŒ–</td></tr><tr><td>template parameter</td><td>æ¨¡æ¿åæ•° æ¨¡æ¿åæ•°</td></tr><tr><td>temporary object</td><td>æš‚æ—¶ç‰©ä»¶ ä¸´æ—¶å¯¹è±¡</td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> æ‰‹å†Œ </category>
          
          <category> En </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ‰‹å†Œ </tag>
            
            <tag> è‹±è¯­ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Curl è¯·æ±‚ Https</title>
      <link href="/%E6%89%8B%E5%86%8C/Curl/curl%E8%AF%B7%E6%B1%82https/"/>
      <url>/%E6%89%8B%E5%86%8C/Curl/curl%E8%AF%B7%E6%B1%82https/</url>
      
        <content type="html"><![CDATA[<p>ä½¿ç”¨ curl å‘é€ https è¯·æ±‚æ—¶ï¼Œå¦‚ä¸‹å‘½ä»¤å°±ä¼šæŠ¥é”™ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl &quot;https://www.baidu.com&quot;</span><br></pre></td></tr></table></figure><p>é”™è¯¯ä»£ç ï¼š</p><div style="background:black;font:conloas;color:white;">curl: (60) SSL certificate problem: unable to get local issuer certificateMore details here: https://curl.haxx.se/docs/sslcerts.html </div><p>ä¸€èˆ¬çš„è§£å†³åŠæ³•å°±æ˜¯ä¸‹è½½CAè¯ä¹¦ã€‚ä½†æ˜¯ä½¿ç”¨C++ä»£ç è°ƒç”¨ <code>libcurl</code> å‘é€ https è¯·æ±‚ï¼Œåªéœ€è¦åœ¨è®¾ç½®ä¸€ä¸‹è¿™ä¸ªå°±å¯ä»¥å…³é—­ ssl éªŒè¯ï¼Œä»è€Œèƒ½å¤Ÿå‘é€ https è¯·æ±‚ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">curl_easy_setopt</span>(curl, CURLOPT_SSL_VERIFYPEER, <span class="literal">false</span>);</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> æ‰‹å†Œ </category>
          
          <category> Curl </category>
          
      </categories>
      
      
        <tags>
            
            <tag> curl </tag>
            
            <tag> https </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CMakeList</title>
      <link href="/%E6%89%8B%E5%86%8C/CMake%E4%BD%BF%E7%94%A8/"/>
      <url>/%E6%89%8B%E5%86%8C/CMake%E4%BD%BF%E7%94%A8/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æ¦‚è¿°ï¼š CMake ä½¿ç”¨æ‰‹å†Œ</p></blockquote><p>[toc]</p><h1 id="é»˜è®¤é…ç½®"><a href="#é»˜è®¤é…ç½®" class="headerlink" title="é»˜è®¤é…ç½®"></a>é»˜è®¤é…ç½®</h1><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">project</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> æ‰‹å†Œ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>ä½¿ç”¨ osquery æŸ¥è¯¢ç³»ç»Ÿuuidå’Œç³»ç»Ÿä¿¡æ¯</title>
      <link href="/%E5%B7%A5%E5%85%B7/osquery/%E6%9F%A5%E8%AF%A2uuid%E5%92%8C%E7%B3%BB%E7%BB%9F%E4%BF%A1%E6%81%AF/"/>
      <url>/%E5%B7%A5%E5%85%B7/osquery/%E6%9F%A5%E8%AF%A2uuid%E5%92%8C%E7%B3%BB%E7%BB%9F%E4%BF%A1%E6%81%AF/</url>
      
        <content type="html"><![CDATA[<h1 id="æŸ¥è¯¢uuid"><a href="#æŸ¥è¯¢uuid" class="headerlink" title="æŸ¥è¯¢uuid"></a>æŸ¥è¯¢uuid</h1><h2 id="æ–¹æ³•ä¸€-è§æŸ¥è¯¢ä¿¡æ¯"><a href="#æ–¹æ³•ä¸€-è§æŸ¥è¯¢ä¿¡æ¯" class="headerlink" title="æ–¹æ³•ä¸€ è§æŸ¥è¯¢ä¿¡æ¯"></a>æ–¹æ³•ä¸€ è§<a href="#sysinfo">æŸ¥è¯¢ä¿¡æ¯</a></h2><h2 id="æ–¹æ³•äºŒ-é€šè¿‡æ³¨å†Œè¡¨"><a href="#æ–¹æ³•äºŒ-é€šè¿‡æ³¨å†Œè¡¨" class="headerlink" title="æ–¹æ³•äºŒ é€šè¿‡æ³¨å†Œè¡¨"></a>æ–¹æ³•äºŒ é€šè¿‡æ³¨å†Œè¡¨</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> data <span class="keyword">from</span> registry <span class="keyword">where</span> key <span class="operator">=</span><span class="string">&#x27;HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Cryptography&#x27;</span> <span class="keyword">AND</span> name<span class="operator">=</span><span class="string">&#x27;MachineGuid&#x27;</span>;</span><br><span class="line"></span><br><span class="line"># æˆ–è€…</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> data <span class="keyword">FROM</span> registry <span class="keyword">WHERE</span> path<span class="operator">=</span><span class="string">&#x27;HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Cryptography\\MachineGuid&#x27;</span></span><br></pre></td></tr></table></figure><div class="tag-plugin image"><div class="image-bg"><img src="https://img2023.cnblogs.com/blog/2166070/202307/2166070-20230710100249111-804875540.png"/></div></div><h1 id="æŸ¥è¯¢ç³»ç»Ÿç‰ˆæœ¬å·å’Œwindowsç‰ˆæœ¬"><a href="#æŸ¥è¯¢ç³»ç»Ÿç‰ˆæœ¬å·å’Œwindowsç‰ˆæœ¬" class="headerlink" title="æŸ¥è¯¢ç³»ç»Ÿç‰ˆæœ¬å·å’Œwindowsç‰ˆæœ¬"></a>æŸ¥è¯¢ç³»ç»Ÿç‰ˆæœ¬å·å’Œwindowsç‰ˆæœ¬</h1><h2 id="æ–¹æ³•ä¸€-ç›´æ¥æŸ¥è¯¢"><a href="#æ–¹æ³•ä¸€-ç›´æ¥æŸ¥è¯¢" class="headerlink" title="æ–¹æ³•ä¸€ ç›´æ¥æŸ¥è¯¢"></a>æ–¹æ³•ä¸€ <a id="sysinfo"></a>ç›´æ¥æŸ¥è¯¢</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> uuid, computer_name, hardware_model, hardware_serial <span class="keyword">FROM</span> system_info;</span><br></pre></td></tr></table></figure><div class="tag-plugin image"><div class="image-bg"><img src="https://img2023.cnblogs.com/blog/2166070/202307/2166070-20230710100234639-1950797265.png"/></div></div><h2 id="æ–¹æ³•äºŒ-é€šè¿‡æ³¨å†Œè¡¨-1"><a href="#æ–¹æ³•äºŒ-é€šè¿‡æ³¨å†Œè¡¨-1" class="headerlink" title="æ–¹æ³•äºŒ é€šè¿‡æ³¨å†Œè¡¨"></a>æ–¹æ³•äºŒ é€šè¿‡æ³¨å†Œè¡¨</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> data </span><br><span class="line"><span class="keyword">FROM</span> registry </span><br><span class="line"><span class="keyword">WHERE</span> key <span class="operator">=</span> <span class="string">&#x27;HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Windows NT\\CurrentVersion&#x27;</span> </span><br><span class="line"><span class="keyword">AND</span> name <span class="keyword">IN</span>(<span class="string">&#x27;CurrentMajorVersionNumber&#x27;</span>,<span class="string">&#x27;CurrentMinorVersionNumber&#x27;</span>, <span class="string">&#x27;CurrentBuildNumber&#x27;</span>, <span class="string">&#x27;ProductName&#x27;</span>)</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span></span><br><span class="line">   <span class="keyword">CASE</span> name</span><br><span class="line">      <span class="keyword">WHEN</span> <span class="string">&#x27;ProductName&#x27;</span> <span class="keyword">THEN</span> <span class="number">1</span></span><br><span class="line">      <span class="keyword">WHEN</span> <span class="string">&#x27;CurrentMajorVersionNumber&#x27;</span> <span class="keyword">THEN</span> <span class="number">2</span></span><br><span class="line">      <span class="keyword">WHEN</span> <span class="string">&#x27;CurrentMinorVersionNumber&#x27;</span> <span class="keyword">THEN</span> <span class="number">3</span></span><br><span class="line">      <span class="keyword">WHEN</span> <span class="string">&#x27;CurrentBuildNumber&#x27;</span> <span class="keyword">THEN</span> <span class="number">4</span></span><br><span class="line">      <span class="keyword">ELSE</span> <span class="number">3</span></span><br><span class="line">   <span class="keyword">END</span>;</span><br></pre></td></tr></table></figure><div class="tag-plugin image"><div class="image-bg"><img src="https://img2023.cnblogs.com/blog/2166070/202307/2166070-20230710100158910-1063727182.png"/></div></div>]]></content>
      
      
      <categories>
          
          <category> å·¥å…· </category>
          
          <category> osquery </category>
          
      </categories>
      
      
        <tags>
            
            <tag> windows </tag>
            
            <tag> osquery </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è‡ªåŠ¨ç”Ÿæˆ readme æ–‡æ¡£</title>
      <link href="/%E5%B7%A5%E5%85%B7/ReadneGenerator/"/>
      <url>/%E5%B7%A5%E5%85%B7/ReadneGenerator/</url>
      
        <content type="html"><![CDATA[<blockquote><p>å¼€æºåœ°å€ï¼š <a href="https://github.com/kefranabg/readme-md-generator">https://github.com/kefranabg/readme-md-generator</a></p></blockquote><p>è‡ªåŠ¨ç”Ÿæˆ readme çš„å¼€æºå·¥å…·</p><p>å®‰è£…æ–¹å¼ï¼šnpm i -g readme-md-generator</p><p>npmç‰ˆæœ¬è¦å¤§äº8</p><div class="tag-plugin image"><div class="image-bg"><img src="https://raw.githubusercontent.com/holdyounger/ScopeBlog/rc_images/Images/_posts%2Fimages%2FReadneGenerator.jpeg"/></div></div>]]></content>
      
      
      <categories>
          
          <category> å·¥å…· </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å·¥å…· </tag>
            
            <tag> readme </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä½¿ç”¨SM3åŠ å¯†æ–‡ä»¶</title>
      <link href="/%E5%B7%A5%E5%85%B7/OpenSSL/%E4%BD%BF%E7%94%A8sm3%E5%8A%A0%E5%AF%86%E6%96%87%E4%BB%B6/"/>
      <url>/%E5%B7%A5%E5%85%B7/OpenSSL/%E4%BD%BF%E7%94%A8sm3%E5%8A%A0%E5%AF%86%E6%96%87%E4%BB%B6/</url>
      
        <content type="html"><![CDATA[<p>ä»¥ä¸‹æ˜¯ä½¿ç”¨ OpenSSL åº“è¿›è¡Œ SM3 æ¶ˆæ¯æ‘˜è¦å’Œæ–‡ä»¶åŠ å¯†çš„ C++ ç¤ºä¾‹ä»£ç ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;fstream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;openssl/evp.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;openssl/sha.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;openssl/sm3.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è®¡ç®—å­—ç¬¦ä¸²çš„ SM3 æ‘˜è¦å€¼</span></span><br><span class="line"><span class="function">std::string <span class="title">sm3_hash_string</span><span class="params">(<span class="type">const</span> std::string&amp; str)</span> </span>&#123;</span><br><span class="line">    <span class="type">unsigned</span> <span class="type">char</span> md[SM3_DIGEST_LENGTH];</span><br><span class="line">    <span class="built_in">SM3</span>(<span class="built_in">reinterpret_cast</span>&lt;<span class="type">const</span> <span class="type">unsigned</span> <span class="type">char</span>*&gt;(str.<span class="built_in">data</span>()), str.<span class="built_in">size</span>(), md);</span><br><span class="line">    <span class="function">std::string <span class="title">hash_str</span><span class="params">(<span class="keyword">reinterpret_cast</span>&lt;<span class="type">const</span> <span class="type">char</span>*&gt;(md), SM3_DIGEST_LENGTH)</span></span>;</span><br><span class="line">    <span class="keyword">return</span> hash_str;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è®¡ç®—æ–‡ä»¶çš„ SM3 æ‘˜è¦å€¼</span></span><br><span class="line"><span class="function">std::string <span class="title">sm3_hash_file</span><span class="params">(<span class="type">const</span> std::string&amp; file_path)</span> </span>&#123;</span><br><span class="line">    <span class="type">unsigned</span> <span class="type">char</span> md[SM3_DIGEST_LENGTH];</span><br><span class="line">    <span class="function">std::ifstream <span class="title">input</span><span class="params">(file_path, std::ios::binary)</span></span>;</span><br><span class="line">    <span class="keyword">if</span> (input) &#123;</span><br><span class="line">        EVP_MD_CTX* mdctx = <span class="built_in">EVP_MD_CTX_new</span>();</span><br><span class="line">        <span class="built_in">EVP_DigestInit_ex</span>(mdctx, <span class="built_in">EVP_sm3</span>(), <span class="literal">nullptr</span>);</span><br><span class="line">        <span class="type">const</span> <span class="type">size_t</span> buf_size = <span class="number">4096</span>;</span><br><span class="line">        <span class="type">char</span> buf[buf_size];</span><br><span class="line">        <span class="keyword">while</span> (input.<span class="built_in">read</span>(buf, buf_size)) &#123;</span><br><span class="line">            <span class="built_in">EVP_DigestUpdate</span>(mdctx, buf, buf_size);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">size_t</span> remain_size = input.<span class="built_in">gcount</span>();</span><br><span class="line">        <span class="built_in">EVP_DigestUpdate</span>(mdctx, buf, remain_size);</span><br><span class="line">        <span class="built_in">EVP_DigestFinal_ex</span>(mdctx, md, <span class="literal">nullptr</span>);</span><br><span class="line">        <span class="built_in">EVP_MD_CTX_free</span>(mdctx);</span><br><span class="line">        input.<span class="built_in">close</span>();</span><br><span class="line">        <span class="function">std::string <span class="title">hash_str</span><span class="params">(<span class="keyword">reinterpret_cast</span>&lt;<span class="type">const</span> <span class="type">char</span>*&gt;(md), SM3_DIGEST_LENGTH)</span></span>;</span><br><span class="line">        <span class="keyword">return</span> hash_str;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">throw</span> std::<span class="built_in">runtime_error</span>(<span class="string">&quot;fail to open file &quot;</span> + file_path);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨å¯†ç å¯¹æ–‡ä»¶è¿›è¡ŒåŠ å¯†</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">encrypt_file</span><span class="params">(<span class="type">const</span> std::string&amp; input_file_path, <span class="type">const</span> std::string&amp; output_file_path, <span class="type">const</span> std::string&amp; password)</span> </span>&#123;</span><br><span class="line">    <span class="function">std::ifstream <span class="title">input</span><span class="params">(input_file_path, std::ios::binary)</span></span>;</span><br><span class="line">    <span class="function">std::ofstream <span class="title">output</span><span class="params">(output_file_path, std::ios::binary)</span></span>;</span><br><span class="line">    <span class="keyword">if</span> (input &amp;&amp; output) &#123;</span><br><span class="line">        <span class="type">const</span> <span class="type">int</span> key_len = EVP_MAX_KEY_LENGTH;</span><br><span class="line">        <span class="type">const</span> <span class="type">int</span> iv_len = EVP_MAX_IV_LENGTH;</span><br><span class="line">        <span class="type">unsigned</span> <span class="type">char</span> key[key_len];</span><br><span class="line">        <span class="type">unsigned</span> <span class="type">char</span> iv[iv_len];</span><br><span class="line">        <span class="built_in">EVP_BytesToKey</span>(<span class="built_in">EVP_aes_256_cbc</span>(), <span class="built_in">EVP_sm3</span>(), <span class="literal">nullptr</span>, <span class="built_in">reinterpret_cast</span>&lt;<span class="type">const</span> <span class="type">unsigned</span> <span class="type">char</span>*&gt;(password.<span class="built_in">data</span>()), password.<span class="built_in">size</span>(), <span class="number">1</span>, key, iv);</span><br><span class="line">        EVP_CIPHER_CTX* ctx = <span class="built_in">EVP_CIPHER_CTX_new</span>();</span><br><span class="line">        <span class="built_in">EVP_EncryptInit_ex</span>(ctx, <span class="built_in">EVP_aes_256_cbc</span>(), <span class="literal">nullptr</span>, key, iv);</span><br><span class="line">        <span class="type">const</span> <span class="type">size_t</span> buf_size = <span class="number">4096</span>;</span><br><span class="line">        <span class="type">char</span> buf[buf_size];</span><br><span class="line">        <span class="keyword">while</span> (input.<span class="built_in">read</span>(buf, buf_size)) &#123;</span><br><span class="line">            <span class="type">int</span> len = input.<span class="built_in">gcount</span>();</span><br><span class="line">            <span class="type">int</span> out_len = <span class="number">0</span>;</span><br><span class="line">            <span class="built_in">EVP_EncryptUpdate</span>(ctx, <span class="built_in">reinterpret_cast</span>&lt;<span class="type">unsigned</span> <span class="type">char</span>*&gt;(buf), &amp;out_len, <span class="built_in">reinterpret_cast</span>&lt;<span class="type">unsigned</span> <span class="type">char</span>*&gt;(buf), len);</span><br><span class="line">            output.<span class="built_in">write</span>(buf, out_len);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> len = input.<span class="built_in">gcount</span>();</span><br><span class="line">        <span class="type">int</span> out_len = <span class="number">0</span>;</span><br><span class="line">        <span class="built_in">EVP_EncryptFinal_ex</span>(ctx, <span class="built_in">reinterpret_cast</span>&lt;<span class="type">unsigned</span> <span class="type">char</span>*&gt;(buf), &amp;out_len);</span><br><span class="line">        output.<span class="built_in">write</span>(buf, out_len);</span><br><span class="line">        <span class="built_in">EVP_CIPHER_CTX_free</span>(ctx);</span><br><span class="line">        input.<span class="built_in">close</span>();</span><br><span class="line">        output.<span class="built_in">close</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">throw</span> std::<span class="built_in">runtime_error</span>(<span class="string">&quot;fail to open input/output file.&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    std::string str = <span class="string">&quot;message to be hashed&quot;</span>;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;SM3 hash of string \&quot;&quot;</span> &lt;&lt; str &lt;&lt; <span class="string">&quot;\&quot;: &quot;</span> &lt;&lt; <span class="built_in">sm3_hash_string</span>(str) &lt;&lt; std::endl;</span><br><span class="line">    std::string file_path = <span class="string">&quot;test.txt&quot;</span>;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;SM3 hash of file \&quot;&quot;</span> &lt;&lt; file_path &lt;&lt; <span class="string">&quot;\&quot;: &quot;</span> &lt;&lt; <span class="built_in">sm3_hash_file</span>(file_path) &lt;&lt; std::endl;</span><br><span class="line">    std::string password = <span class="string">&quot;123456&quot;</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="built_in">encrypt_file</span>(file_path, <span class="string">&quot;test_encrypted.txt&quot;</span>, password);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">catch</span> (<span class="type">const</span> std::exception&amp; e) &#123;</span><br><span class="line">        std::cout &lt;&lt; <span class="string">&quot;Error: &quot;</span> &lt;&lt; e.<span class="built_in">what</span>() &lt;&lt; std::endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸Šè¿°ä»£ç ä¸­ï¼Œä½¿ç”¨ SM3 å‡½æ•°å¯¹å­—ç¬¦ä¸²æˆ–æ–‡ä»¶å†…å®¹è¿›è¡Œæ‘˜è¦ï¼›ä½¿ç”¨ EVP_BytesToKey å‡½æ•°ç”Ÿæˆå¯†ç åŠ å¯†å¯†é’¥å’Œåˆå§‹åŒ–å‘é‡ï¼Œå¹¶ä½¿ç”¨ EVP_EncryptInit_ex å‡½æ•°åˆå§‹åŒ–åŠ å¯†ä¸Šä¸‹æ–‡ï¼Œåœ¨å¾ªç¯ä¸­è°ƒç”¨ EVP_EncryptUpdate å‡½æ•°å¯¹æ–‡ä»¶è¿›è¡Œé€å—åŠ å¯†ï¼Œæœ€åè°ƒç”¨ EVP_EncryptFinal_ex å‡½æ•°å®ŒæˆåŠ å¯†è¿‡ç¨‹ï¼Œå°†ç»“æœå†™å…¥æ–°çš„åŠ å¯†æ–‡ä»¶ä¸­ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å·¥å…· </category>
          
          <category> OpenSSL </category>
          
      </categories>
      
      
        <tags>
            
            <tag> åŠ å¯† </tag>
            
            <tag> SM3 </tag>
            
            <tag> OpenSSL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/index/"/>
      <url>/index/</url>
      
        <content type="html"><![CDATA[<p>å­¦ä¹ |è®°å½•|åˆ†äº«</p><p>ğŸ¤—ğŸ™‚ğŸ¤©ğŸ¤”ğŸ¤¨ğŸ˜—ğŸ¥°ğŸ˜˜ğŸ˜€ğŸ˜ğŸ˜‚ğŸ¤£ğŸ˜ƒğŸ˜„ğŸ˜…ğŸ˜†ğŸ˜—ğŸ¥°ğŸ˜˜ğŸ˜ğŸ˜ğŸ˜‹ğŸ˜ŠğŸ˜‰ğŸ˜™ğŸ˜šğŸ˜ğŸ˜‘ğŸ˜¶ğŸ™„ğŸ™‚ğŸ¤—ğŸ˜ğŸ¤©ğŸ˜£ğŸ¤”ğŸ˜¥ğŸ¤¨ğŸ˜®ğŸ˜›ğŸ˜ŒğŸ˜´ğŸ˜«ğŸ¥±ğŸ˜ªğŸ˜¯ğŸ¤ğŸ˜œğŸ˜ğŸ¤¤ğŸ˜’ğŸ˜“ğŸ˜”ğŸ˜•ğŸ™ƒğŸ¤‘ğŸ˜²â˜¹ğŸ™ğŸ˜ğŸ˜–ğŸ˜ŸğŸ˜¤ğŸ˜¬ğŸ¤¯ğŸ˜©ğŸ˜¨ğŸ˜§ğŸ˜¦ğŸ˜­ğŸ˜¢ğŸ˜°ğŸ˜±ğŸ¥µğŸ¥¶ğŸ˜³ğŸ¤ªğŸ˜µğŸ¥´ğŸ¤®ğŸ¤¢ğŸ¤•ğŸ¤’ğŸ˜·ğŸ¤¬ğŸ˜¡ğŸ˜ ğŸ¤§ğŸ˜‡ğŸ¥³ğŸ¥ºğŸ¤ ğŸ¤¡ğŸ¤¥ğŸ¤«ğŸ’€ğŸ‘ºğŸ‘¹ğŸ‘¿ğŸ˜ˆğŸ¤“ğŸ§ğŸ¤­â˜ ğŸ‘»ğŸ‘½ğŸ‘¾ğŸ¤–ğŸ’©ğŸ˜ºğŸ˜¸ğŸ±â€ğŸ‘¤ğŸ˜¾ğŸ˜¿ğŸ™€ğŸ˜½ğŸ˜¼ğŸ˜»ğŸ˜¹</p><blockquote><p>ä¸ªäººç»´æŠ¤çš„wikiï¼Œæ¶‰åŠå·¥ä½œã€å­¦ä¹ ä¸­ç”¨åˆ°çš„æŠ€æœ¯å’Œæ–¹æ¡ˆä»¥åŠå·¥å…·</p></blockquote><p><a href="https://holdyounger.github.io/resume/?template=template1&user=holdyounger">æˆ‘çš„ç®€å†</a></p><p><a href="readme">ğŸ“š æ–‡ç« åˆ—è¡¨</a></p><p><a href="../../xmind/">ğŸ‘‰ Xmindæ–‡ä»¶</a></p><p><a href="../../music/">ğŸµ éŸ³ä¹</a></p><p><a href="../../Cover/">ğŸ¨ å°é¢</a></p><p><a href="../../resour/">ğŸ” èµ„æº</a></p><p><a href="../../UML/">ğŸ¨ UML</a></p><p><a href="../../Demo/">ğŸ“º Code</a></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>æ–‡ç« æ±‡æ€»</title>
      <link href="/readme/"/>
      <url>/readme/</url>
      
        <content type="html"><![CDATA[<p><a href="../index">ğŸ  è¿”å›</a></p><h1 id="Qt"><a href="#Qt" class="headerlink" title="Qt"></a>Qt</h1><ol><li><a href="https://github.com/holdyounger/Issue/issues/143">Qt é¼ æ ‡ hover æ“ä½œæ—¶å¼¹å‡ºæ–‡å­—æ°”æ³¡</a></li><li><a href="https://github.com/holdyounger/Issue/issues/142">Qt Http ä¸‹è½½ï¼ˆè½¬è½½ï¼‰</a></li><li><a href="https://github.com/holdyounger/Issue/issues/141">pngå’Œjpgæ ¼å¼çš„å›¾ç‰‡(äºŒ)</a></li><li><a href="https://github.com/holdyounger/Issue/issues/140">Qt é‡å¯</a></li><li><a href="https://github.com/holdyounger/Issue/issues/125">Qt åœ†å½¢è¿›åº¦æ¡</a></li><li><a href="https://github.com/holdyounger/Issue/issues/124">QtåŠ¨ç”»ç±»</a></li><li><a href="https://github.com/holdyounger/Issue/issues/123">Qtè·å–æ§ä»¶ä½ç½®</a></li><li><a href="https://github.com/holdyounger/Issue/issues/122">Qt æˆªå›¾</a></li><li><a href="https://github.com/holdyounger/Issue/issues/121">Qtåœ¨Winç³»ç»Ÿä¸Šçš„æ¶ˆæ¯é€šçŸ¥</a></li><li><a href="https://github.com/holdyounger/Issue/issues/120">Qt è‡ªå®šä¹‰æ°”æ³¡</a></li><li><a href="https://github.com/holdyounger/Issue/issues/127">Qtæ’ä»¶â€”â€”ä½¿ç”¨ QtCipherSqlitePlugin å¯¹æ•°æ®åº“è¿›è¡ŒåŠ å¯†</a></li><li><a href="https://github.com/holdyounger/Issue/issues/110">Qtå¸¸ç”¨åŸºç¡€ä»£ç æ±‡æ€»</a></li><li><a href="https://github.com/holdyounger/Issue/issues/116">QListWidget ç”¨æ³•æ•´ç†</a></li><li><a href="https://github.com/holdyounger/Issue/issues/119">ã€ä¸€æ–‡ææ‡‚ã€‘qss</a></li><li><a href="https://github.com/holdyounger/Issue/issues/118">ä½¿ç”¨ QWebEngineView åŠ è½½ç½‘é¡µæ…¢çš„é—®é¢˜</a></li><li><a href="https://github.com/holdyounger/Issue/issues/117">çª—ä½“ä¸æ˜¾ç¤ºæˆ–åŠé€æ˜</a></li><li><a href="https://github.com/holdyounger/Issue/issues/77">QTableWidget éå†</a></li><li><a href="https://github.com/holdyounger/Issue/issues/75">Qtçª—å£é€‚é…ç³»ç»Ÿç¼©æ”¾</a></li><li><a href="https://github.com/holdyounger/Issue/issues/74">QLineEdit ä¿®æ”¹éƒ¨åˆ†æ–‡æœ¬æ ·å¼</a></li><li><a href="https://github.com/holdyounger/Issue/issues/73">QStackWidgetåŠ¨ç”»2</a></li><li><a href="https://github.com/holdyounger/Issue/issues/72">Qt å› ä¸ºæ§½å‡½æ•°é—®é¢˜æˆ–è€…é€»è¾‘é—®é¢˜å¯¼è‡´é‡å¤newé—®é¢˜è§£å†³åŠæ³•åŠå»ºè®®</a></li><li><a href="https://github.com/holdyounger/Issue/issues/71">Qtä»»åŠ¡æ æ˜¾ç¤ºè¿›åº¦æ¡</a></li><li><a href="https://github.com/holdyounger/Issue/issues/70">QStackWidgetåŠ¨ç”»ï¼ˆ1ï¼‰</a></li><li><a href="https://github.com/holdyounger/Issue/issues/69">Qt å¯åŠ¨åŠ¨ç”»</a></li><li><a href="https://github.com/holdyounger/Issue/issues/68">Qt åŠ¨ç”»æ•ˆæœ ï¼ˆæŠ–åŠ¨ã€ä¸‹å ã€é€æ˜åº¦ï¼‰</a></li><li><a href="https://github.com/holdyounger/Issue/issues/43">Qtäº‹ä»¶è¿‡æ»¤å™¨ï¼ˆeventFilterï¼‰</a></li><li><a href="https://github.com/holdyounger/Issue/issues/42">Qtå›¾ç‰‡æ—‹è½¬</a></li><li><a href="https://github.com/holdyounger/Issue/issues/41">Qt çª—å£å±…ä¸­æ˜¾ç¤º</a></li><li><a href="https://github.com/holdyounger/Issue/issues/40">Qtå®ç°çª—å£æ‹–æ‹½</a></li><li><a href="https://github.com/holdyounger/Issue/issues/39">Qt å›½é™…åŒ–</a></li></ol><h1 id="Linux"><a href="#Linux" class="headerlink" title="Linux"></a>Linux</h1><ol><li><a href="https://github.com/holdyounger/Issue/issues/133">Linux RPC</a></li><li><a href="https://github.com/holdyounger/Issue/issues/132">LinuxæŸ¥è¯¢æ˜¯å¦å®‰è£…äº†æŸä¸ªè½¯ä»¶</a></li><li><a href="https://github.com/holdyounger/Issue/issues/131">5 ç¯å¢ƒå˜é‡ä¸æ–‡ä»¶æŸ¥æ‰¾</a></li><li><a href="https://github.com/holdyounger/Issue/issues/130">LinuxåŸºç¡€å…¥é—¨15 Linuxè¿›ç¨‹æ¦‚å¿µ</a></li><li><a href="https://github.com/holdyounger/Issue/issues/67">Linuxå†…æ ¸2 è·Ÿè¸ªåˆ†æLinuxå†…æ ¸çš„å¯åŠ¨è¿‡ç¨‹</a></li><li><a href="https://github.com/holdyounger/Issue/issues/66">lså‘½ä»¤è¯¦è§£</a></li><li><a href="https://github.com/holdyounger/Issue/issues/65">Linux å†…æ ¸åˆ†æé…å¥—å®éªŒ</a></li><li><a href="https://github.com/holdyounger/Issue/issues/64">linux å†…æ ¸1 å®Œæˆä¸€ä¸ªç®€å•çš„æ—¶é—´ç‰‡è½®è½¬èº²åˆ°ç¨‹åºå†…æ ¸ä»£ç </a></li></ol><h1 id="å·¥å…·"><a href="#å·¥å…·" class="headerlink" title="å·¥å…·"></a>å·¥å…·</h1><ol><li><a href="https://github.com/holdyounger/Issue/issues/111">Readme å·¥å…·ä½¿ç”¨æ‰‹å†Œ</a></li><li><a href="https://github.com/holdyounger/Issue/issues/138">è‡ªåŠ¨ç”Ÿæˆ readme æ–‡æ¡£</a></li></ol><h1 id="Windows"><a href="#Windows" class="headerlink" title="Windows"></a>Windows</h1><ol><li><a href="https://github.com/holdyounger/Issue/issues/59">Procmon è¿‡æ»¤ç”¨æ³•</a></li><li><a href="https://github.com/holdyounger/Issue/issues/58">Win7 ä½¿ç”¨æœªç­¾åé©±åŠ¨ç¨‹åº</a></li><li><a href="https://github.com/holdyounger/Issue/issues/57">FormatMessageå‡½æ•°çš„ä½¿ç”¨</a></li><li><a href="https://github.com/holdyounger/Issue/issues/56">Windowsèšç„¦ä¸æ›´æ–°</a></li><li><a href="https://github.com/holdyounger/Issue/issues/55">ç›‘æ§ç³»ç»Ÿäº‹ä»¶ï¼ˆç½‘å¡ï¼‰</a></li><li><a href="https://github.com/holdyounger/Issue/issues/106">winuserè¯´æ˜</a></li><li><a href="https://github.com/holdyounger/Issue/issues/105">cmdâ€”â€”route</a></li><li><a href="https://github.com/holdyounger/Issue/issues/113">çƒ­è¡¥ä¸æ”¯æŒ</a></li><li><a href="https://github.com/holdyounger/Issue/issues/109">ç½‘ç»œè¿æ¥äº‹ä»¶</a></li><li><a href="https://github.com/holdyounger/Issue/issues/108">ç›‘æ§è·¯ç”±äº‹ä»¶</a></li><li><a href="https://github.com/holdyounger/Issue/issues/107">ä¸€ä¸ªå®Œæ•´çš„wfpé©±åŠ¨</a></li><li><a href="https://github.com/holdyounger/Issue/issues/104">ææƒå·¥å…· psExec.exe</a></li><li><a href="https://github.com/holdyounger/Issue/issues/103">æ‰¹å¤„ç†è·å–ipåˆ°å‰ªåˆ‡æ¿</a></li><li><a href="https://github.com/holdyounger/Issue/issues/102">æœåŠ¡ä¸­ä»¥ç®¡ç†å‘˜&amp;#92;æ™®é€šæƒé™å¯åŠ¨è¿›ç¨‹</a></li><li><a href="https://github.com/holdyounger/Issue/issues/101">Windows é™æƒ</a></li><li><a href="https://github.com/holdyounger/Issue/issues/100">ä½¿ç”¨ UMDH å®šä½ç”¨æˆ·æ¨¡å¼å†…å­˜æ³„æ¼</a></li><li><a href="https://github.com/holdyounger/Issue/issues/99">iphepler æ¥å£æ•´ç†</a></li><li><a href="https://github.com/holdyounger/Issue/issues/98">ææƒ</a></li><li><a href="https://github.com/holdyounger/Issue/issues/97">ç›‘æ§æŒ‡å®šç½‘å¡äº‹ä»¶</a></li><li><a href="https://github.com/holdyounger/Issue/issues/96">C++ é€šè¿‡ COM ç»„ä»¶ å¯ç”¨&amp;#92;ç¦ç”¨&amp;#92;æŸ¥çœ‹ ç½‘å¡çŠ¶æ€</a></li><li><a href="https://github.com/holdyounger/Issue/issues/95">æ“ä½œç½‘å¡ç±»</a></li><li><a href="https://github.com/holdyounger/Issue/issues/94">ç›‘æ§ç½‘å¡äº‹ä»¶</a></li><li><a href="https://github.com/holdyounger/Issue/issues/93">ä½¿ç”¨ winsock2 ç›¸å…³å‡½æ•°</a></li><li><a href="https://github.com/holdyounger/Issue/issues/61">åŠ è½½åŠ¨æ€åº“ (loadlibrary)</a></li><li><a href="https://github.com/holdyounger/Issue/issues/134">windows æŸ¥çœ‹è¿›ç¨‹å¯åŠ¨å‚æ•°å‘½ä»¤è¡Œ</a></li><li><a href="https://github.com/holdyounger/Issue/issues/25">ã€ç®¡é“ã€‘ï¼ˆäºŒï¼‰ ç®¡é“é€šä¿¡</a></li><li><a href="https://github.com/holdyounger/Issue/issues/24">ã€ç®¡é“ã€‘ï¼ˆä¸€ï¼‰ åˆè¯†ç®¡é“</a></li></ol><h1 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h1><ol><li><a href="https://github.com/holdyounger/Issue/issues/115">å­—ç¬¦ä¸²ç±»å‹è½¬æ¢æ•´ç†(charã€TCHARã€stringã€wstringã€CStringã€WCHAR)</a></li><li><a href="https://github.com/holdyounger/Issue/issues/114">å¯†é’¥åˆ†é…</a></li><li><a href="https://github.com/holdyounger/Issue/issues/112">ç¬¬7ç«  ç½‘ç»œå®‰å…¨</a></li><li><a href="https://github.com/holdyounger/Issue/issues/92">å¸¸ç”¨å†™æ³•æ•´ç†</a></li><li><a href="https://github.com/holdyounger/Issue/issues/91">å†…å­˜æ³„æ¼åˆ†æå®æˆ˜</a></li><li><a href="https://github.com/holdyounger/Issue/issues/90">å‹å…ƒ</a></li><li><a href="https://github.com/holdyounger/Issue/issues/89">UML ç‰‡æ®µè¯´æ˜</a></li><li><a href="https://github.com/holdyounger/Issue/issues/88">é…ç½®å¤šä¸ªè´¦å·</a></li><li><a href="https://github.com/holdyounger/Issue/issues/87">3-hexo ä¸»é¢˜å¿«æ·é”®</a></li><li><a href="https://github.com/holdyounger/Issue/issues/86">å‡½æ•°å£°æ˜</a></li><li><a href="https://github.com/holdyounger/Issue/issues/84">&lt;2&gt; const å…³é”®å­—</a></li><li><a href="https://github.com/holdyounger/Issue/issues/83">&lt;3&gt; ç¡®å®šå¯¹è±¡ä½¿ç”¨å‰åˆå§‹åŒ–</a></li><li><a href="https://github.com/holdyounger/Issue/issues/82">è¿”å›å€¼ç±»å‹çš„è§„èŒƒ</a></li><li><a href="https://github.com/holdyounger/Issue/issues/81">&lt;4&gt; äº†è§£C++é»˜è®¤åˆ›å»ºå¹¶è°ƒç”¨çš„å‡½æ•°</a></li><li><a href="https://github.com/holdyounger/Issue/issues/80">OSIå‚è€ƒæ¨¡å‹</a></li><li><a href="https://github.com/holdyounger/Issue/issues/79">ä¸‰é»‘è±†æµ†</a></li><li><a href="https://github.com/holdyounger/Issue/issues/78">C++ æšä¸¾</a></li><li><a href="https://github.com/holdyounger/Issue/issues/76">typora bluebook è‡ªå®šä¹‰ä¿®æ”¹ä¸»é¢˜ä»£ç </a></li><li><a href="https://github.com/holdyounger/Issue/issues/63">tcp.flags è¯´æ˜</a></li><li><a href="https://github.com/holdyounger/Issue/issues/62">Xcode ä¸‹è½½ä¸å®‰è£…</a></li><li><a href="https://github.com/holdyounger/Issue/issues/60">UnSplash è·å–éšæœºå›¾ç‰‡çš„API</a></li><li><a href="https://github.com/holdyounger/Issue/issues/54">ç³»ç»Ÿé”</a></li><li><a href="https://github.com/holdyounger/Issue/issues/53">ç®¡é“demo</a></li><li><a href="https://github.com/holdyounger/Issue/issues/52">libeventâ€”â€”evconnlistener_new_bind(1)</a></li><li><a href="https://github.com/holdyounger/Issue/issues/51">ã€Šæ·±å…¥ç†è§£Windowsæ“ä½œç³»ç»Ÿã€‹ä¸€ä¹¦é™„å½•ä¸­è‹±è¯­å•è¯æ•´ç†</a></li><li><a href="https://github.com/holdyounger/Issue/issues/50">Curl è¯·æ±‚ Https</a></li><li><a href="https://github.com/holdyounger/Issue/issues/37">æ­£åˆ™è¡¨è¾¾å¼åå‘å¼•ç”¨</a></li><li><a href="https://github.com/holdyounger/Issue/issues/36">åˆ‡æ¢shell</a></li><li><a href="https://github.com/holdyounger/Issue/issues/35">IPv6</a></li><li><a href="https://github.com/holdyounger/Issue/issues/34">socket é•¿è¿æ¥</a></li><li><a href="https://github.com/holdyounger/Issue/issues/33">TCP&#x2F;IPçš„å››å…ƒç»„ã€äº”å…ƒç»„ã€ä¸ƒå…ƒç»„</a></li><li><a href="https://github.com/holdyounger/Issue/issues/32">Curlä½¿ç”¨çš„ä¸€äº›demoï¼Œè®°å½•</a></li><li><a href="https://github.com/holdyounger/Issue/issues/31">ä¸´æ—¶æ–‡ä»¶</a></li><li><a href="https://github.com/holdyounger/Issue/issues/30">pngå’Œjpgæ ¼å¼çš„å›¾ç‰‡(ä¸€)</a></li><li><a href="https://github.com/holdyounger/Issue/issues/29">è‡ªç„¶è¾©è¯æ³•</a></li><li><a href="https://github.com/holdyounger/Issue/issues/28">QAction Icon å¤§å°é—®é¢˜</a></li><li><a href="https://github.com/holdyounger/Issue/issues/27">æ–‡ä»¶å¤§å°æ¢ç®—æ–¹æ³•</a></li><li><a href="https://github.com/holdyounger/Issue/issues/26">GO HACK PEæ–‡ä»¶åˆ†æ</a></li><li><a href="https://github.com/holdyounger/Issue/issues/23">try-catchå—</a></li><li><a href="https://github.com/holdyounger/Issue/issues/22">Lambdaè¡¨è¾¾å¼</a></li><li><a href="https://github.com/holdyounger/Issue/issues/21">using ç”¨æ³•æ•´ç†</a></li><li><a href="https://github.com/holdyounger/Issue/issues/20">åŠ¨æ€å£°æ˜å­ç±»</a></li><li><a href="https://github.com/holdyounger/Issue/issues/19">å„ç§å®å®šä¹‰ç”¨æ³•æ•´ç†</a></li><li><a href="https://github.com/holdyounger/Issue/issues/18">æ–‡ä»¶åç¼€æ ¡éªŒ</a></li><li><a href="https://github.com/holdyounger/Issue/issues/17">Json11 C++ ç”¨æ³•æ€»ç»“</a></li><li><a href="https://github.com/holdyounger/Issue/issues/16">â° æ—¶é—´å¤„ç†</a></li><li><a href="https://github.com/holdyounger/Issue/issues/15">visual studio ç¼–è¯‘å‘Šè­¦å¸¸è§å¤„ç†æ‰‹æ®µ</a></li><li><a href="https://github.com/holdyounger/Issue/issues/14">TypeScript</a></li><li><a href="https://github.com/holdyounger/Issue/issues/13">ä¸­å›½é©¬å…‹æ€ä¸»ä¹‰ç§‘å­¦æŠ€æœ¯è§‚</a></li><li><a href="https://github.com/holdyounger/Issue/issues/12">TODO</a></li><li><a href="https://github.com/holdyounger/Issue/issues/4">using ç”¨æ³•æ•´ç†</a></li><li><a href="https://github.com/holdyounger/Issue/issues/3">åŠ¨æ€å£°æ˜å­ç±»</a></li><li><a href="https://github.com/holdyounger/Issue/issues/2">å„ç§å®å®šä¹‰ç”¨æ³•æ•´ç†</a></li><li><a href="https://github.com/holdyounger/Issue/issues/1">æ–‡ä»¶åç¼€æ ¡éªŒ</a></li><li><a href="https://github.com/holdyounger/Issue/issues/137">ã€ä¸æ•¢è¯´ä¸€æ–‡ææ‡‚ã€‘VLD å†…å­˜æ³„æ¼å®šä½</a></li><li><a href="https://github.com/holdyounger/Issue/issues/136">å…±äº«æ–‡ä»¶å¤¹</a></li><li><a href="https://github.com/holdyounger/Issue/issues/129">libevent http server</a></li><li><a href="https://github.com/holdyounger/Issue/issues/128">OSIä¸ƒå±‚ç½‘ç»œåè®®æ¨¡å‹å„å±‚åè®®</a></li><li><a href="https://github.com/holdyounger/Issue/issues/126">éŸ³é¢‘æˆ¿é—´åˆ›å»ºåŠè¿æ¥è¯´æ˜</a></li><li><a href="https://github.com/holdyounger/Issue/issues/139">å£°ç½‘å‚èµ›ç»å†è®°å½•â€”â€”ç™½æ¿æ’ä»¶å¼€å‘(å‰ç«¯)</a></li></ol><h1 id="æ‰‹å†Œ"><a href="#æ‰‹å†Œ" class="headerlink" title="æ‰‹å†Œ"></a>æ‰‹å†Œ</h1><ol><li><a href="https://github.com/holdyounger/Issue/issues/11">ä»£ç è§„èŒƒ</a></li><li><a href="https://github.com/holdyounger/Issue/issues/10">git emojiæ‰‹å†Œ</a></li><li><a href="https://github.com/holdyounger/Issue/issues/9">Typora Emoji</a></li><li><a href="https://github.com/holdyounger/Issue/issues/8">Visual Assist å¿«æ·é”®æ•´ç†</a></li><li><a href="https://github.com/holdyounger/Issue/issues/7">å‰ç«¯æ ·å¼é…ç½® style</a></li><li><a href="https://github.com/holdyounger/Issue/issues/6">å¸¸ç”¨å˜é‡åç¼©å†™</a></li><li><a href="https://github.com/holdyounger/Issue/issues/5">å†™ä½œåä½œæ‰‹å†Œ</a></li><li><a href="https://github.com/holdyounger/Issue/issues/49">Git é€ŸæŸ¥æ‰‹å†Œ</a></li><li><a href="https://github.com/holdyounger/Issue/issues/48">å¸¸è§ç¼–ç¨‹å‘½åç¼©å†™</a></li><li><a href="https://github.com/holdyounger/Issue/issues/47">ç¼–ç¨‹å¸¸ç”¨è‹±è¯­è¯æ±‡</a></li><li><a href="https://github.com/holdyounger/Issue/issues/46">winDbg è°ƒè¯•æ‰‹å†Œ</a></li><li><a href="https://github.com/holdyounger/Issue/issues/45">è‹±é›„è”ç›Ÿè¯­å½•</a></li><li><a href="https://github.com/holdyounger/Issue/issues/44">éšæœºå­—ç¬¦ä¸²</a></li><li><a href="https://github.com/holdyounger/Issue/issues/38">SQLite3 æ•°æ®åº“åŠ å¯†</a></li></ol><h1 id="è„šæœ¬"><a href="#è„šæœ¬" class="headerlink" title="è„šæœ¬"></a>è„šæœ¬</h1><ol><li><a href="https://github.com/holdyounger/Issue/issues/85">Wikiè‡ªåŠ¨æ›´æ–°è„šæœ¬</a></li></ol><h1 id="CPP"><a href="#CPP" class="headerlink" title="CPP"></a>CPP</h1><ol><li><a href="https://github.com/holdyounger/Issue/issues/135">C++ å¸¸è§é”™è¯¯â€”â€”æ— æ³•è§£æçš„å¤–éƒ¨ç¬¦å·</a></li></ol>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>TODO</title>
      <link href="/TODO/index/"/>
      <url>/TODO/index/</url>
      
        <content type="html"><![CDATA[<p>[TOC]</p><hr><h1 id="reinterpret-cast-lt-gt"><a href="#reinterpret-cast-lt-gt" class="headerlink" title="reinterpret_cast&lt;&gt;()"></a>reinterpret_cast&lt;&gt;()</h1><blockquote><ol><li>2022å¹´7æœˆ20æ—¥18:07:34</li></ol></blockquote><h1 id="declspec-selectany"><a href="#declspec-selectany" class="headerlink" title="__declspec(selectany)"></a>__declspec(selectany)</h1><blockquote><ol><li>2022å¹´7æœˆ20æ—¥18:08:56</li></ol></blockquote><h1 id="qt-http-ä¸Šä¼ å’Œä¸‹è½½èµ„æºçš„è¿›åº¦æ¡æ˜¾ç¤º"><a href="#qt-http-ä¸Šä¼ å’Œä¸‹è½½èµ„æºçš„è¿›åº¦æ¡æ˜¾ç¤º" class="headerlink" title="qt http ä¸Šä¼ å’Œä¸‹è½½èµ„æºçš„è¿›åº¦æ¡æ˜¾ç¤º"></a>qt http ä¸Šä¼ å’Œä¸‹è½½èµ„æºçš„è¿›åº¦æ¡æ˜¾ç¤º</h1><blockquote><ol><li><blockquote><p>2022å¹´7æœˆ20æ—¥18:09:11 å…³äºqtçš„httpä¸Šä¼ å’Œä¸‹è½½èµ„æºçš„è¿›åº¦æ¡æ˜¾ç¤º_yangkping123çš„åšå®¢-CSDNåšå®¢<br><a href="https://blog.csdn.net/yangkping123/article/details/46804181?utm_source=blogxgwz5">https://blog.csdn.net/yangkping123/article/details/46804181?utm_source=blogxgwz5</a></p></blockquote></li><li><p>2022å¹´7æœˆ20æ—¥18:09:28</p></li></ol></blockquote><h1 id="windows-DEP"><a href="#windows-DEP" class="headerlink" title="windows DEP"></a>windows DEP</h1><blockquote><p>2022å¹´7æœˆ20æ—¥18:00:14</p></blockquote><h1 id="qtç¬¬äº”ä¸ªå‚æ•°"><a href="#qtç¬¬äº”ä¸ªå‚æ•°" class="headerlink" title="qtç¬¬äº”ä¸ªå‚æ•°"></a>qtç¬¬äº”ä¸ªå‚æ•°</h1><blockquote><ol><li>2022å¹´7æœˆ20æ—¥18:10:00</li><li></li></ol></blockquote>]]></content>
      
      
      <categories>
          
          <category> TODO </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>ä»£ç è§„èŒƒ</title>
      <link href="/QIANXIN/safecode/"/>
      <url>/QIANXIN/safecode/</url>
      
        <content type="html"><![CDATA[<h1 id="TrustClient-ç›¸å…³"><a href="#TrustClient-ç›¸å…³" class="headerlink" title="TrustClient ç›¸å…³"></a>TrustClient ç›¸å…³</h1><h2 id="1ï¼‰-win-apiä½¿ç”¨å®æ§åˆ¶"><a href="#1ï¼‰-win-apiä½¿ç”¨å®æ§åˆ¶" class="headerlink" title="1ï¼‰ win apiä½¿ç”¨å®æ§åˆ¶"></a>1ï¼‰ win apiä½¿ç”¨å®æ§åˆ¶</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifdef</span> Q_OS_WIN</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;Windows.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br></pre></td></tr></table></figure><h1 id="å†…å­˜ç›¸å…³"><a href="#å†…å­˜ç›¸å…³" class="headerlink" title="å†…å­˜ç›¸å…³"></a>å†…å­˜ç›¸å…³</h1><h2 id="å‡½æ•°æ®µ"><a href="#å‡½æ•°æ®µ" class="headerlink" title="å‡½æ•°æ®µ"></a>å‡½æ•°æ®µ</h2><ol><li>ç”³è¯·å†…å­˜</li></ol><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> *<span class="title">zallloc</span><span class="params">(<span class="type">size_t</span> len)</span> </span>&#123;</span><br><span class="line">    <span class="type">void</span> *p = <span class="built_in">malloc</span>(len);</span><br><span class="line">    <span class="keyword">if</span>(p) &#123;</span><br><span class="line">        <span class="built_in">memset</span>(p, <span class="number">0</span>, len);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> p;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å¸¸ç”¨çš„å®"><a href="#å¸¸ç”¨çš„å®" class="headerlink" title="å¸¸ç”¨çš„å®"></a>å¸¸ç”¨çš„å®</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> safe_free(p) &#123;\</span></span><br><span class="line"><span class="meta">free(p);\</span></span><br><span class="line"><span class="meta">p = NULL;\</span></span><br><span class="line"><span class="meta">&#125;\</span></span><br></pre></td></tr></table></figure><h1 id="çº¿ç¨‹çš„èµ„æºç«äº‰"><a href="#çº¿ç¨‹çš„èµ„æºç«äº‰" class="headerlink" title="çº¿ç¨‹çš„èµ„æºç«äº‰"></a>çº¿ç¨‹çš„èµ„æºç«äº‰</h1><ol><li>å¯¹<code>é“¾è¡¨ã€è¾¹ç•Œèµ„æºã€ä¸´ç•ŒåŒºåŸŸ</code>çš„æ“ä½œä¸€å®šè¦<mark style="background-color:red">åŠ é”</mark></li></ol><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">std::mutex mtx; <span class="comment">// ä¿æŠ¤counter</span></span><br><span class="line"></span><br><span class="line">mtx.<span class="built_in">lock</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¦è¿›è¡Œçš„èµ„æºæ“ä½œ</span></span><br><span class="line"><span class="built_in">todo</span>();</span><br><span class="line"></span><br><span class="line">mtx.<span class="built_in">unlock</span>();</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> QIANXIN </category>
          
      </categories>
      
      
        <tags>
            
            <tag> code </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>rapidjson ä½¿ç”¨æ•´ç†</title>
      <link href="/OpenSource/RapidJson/"/>
      <url>/OpenSource/RapidJson/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æ¦‚è¿°: rapidjsonä½¿ç”¨æ•´ç†</p></blockquote><p><a href="http://rapidjson.org/zh-cn/">RapidJSON: é¦–é¡µ</a></p><p>[toc]</p>]]></content>
      
      
      <categories>
          
          <category> OpenSource </category>
          
      </categories>
      
      
        <tags>
            
            <tag> json </tag>
            
            <tag> opensource </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>UnSplash è·å–éšæœºå›¾ç‰‡çš„API</title>
      <link href="/OpenSource/API/Unsplash%20API/"/>
      <url>/OpenSource/API/Unsplash%20API/</url>
      
        <content type="html"><![CDATA[<p>æˆ‘ç»å¸¸ä¼šä½¿ç”¨ unsplashï¼Œ è¿™é‡Œé¢çš„å›¾ç‰‡éå¸¸æ¸…çˆ½ï¼Œæˆ‘çš„å¤§å¤šæ•°æ–‡ç« çš„å›¾ç‰‡éƒ½æ˜¯åœ¨è¿™ä¸ªç½‘ä¸Šæ‰¾çš„ï¼Œè™½ç„¶ä¹Ÿæœ‰åŒç±»å‹ç½‘ç«™ï¼Œä½†æ˜¯ç”¨è¿‡ä¸€æ®µæ—¶é—´ä»¥ååŸºæœ¬éƒ½æ”¾å¼ƒäº†ï¼Œå›¾ç‰‡è´¨é‡å‚å·®ä¸é½ï¼Œç­›é€‰è¿‡ç¨‹å¤ªè´¹åŠ²ã€‚</p><p>ä½†æ˜¯ unsplash è®¿é—®é€Ÿåº¦æ˜¯ä¸ªå¤§é—®é¢˜ï¼Œæˆ‘ç»å¸¸ä¼šå› ä¸ºå›¾ç‰‡æ— æ³•åŠ è½½è€Œè¢«åŠé€€ã€‚</p><p>ä»Šå¤©ä¸€æ—¶æ‰‹ç—’ï¼Œé¡ºæ‰‹æœäº† unsplash api è¿™ä¸ªå…³é”®å­—ï¼Œçœ‹å®˜æ–¹æœ‰æ²¡æœ‰æä¾›ç›¸å…³çš„ api æœåŠ¡ï¼Œè¿˜çœŸæœ‰ï¼</p><p>unsplash æä¾›äº† 2 ä¸ªç‰ˆæœ¬çš„ APIã€‚ ä¸€ä¸ªæ˜¯ç®€å•ç‰ˆï¼Œä¸»è¦æ˜¯ç»™å°å‹åº”ç”¨ï¼Œæµé‡æ¯”è¾ƒå°‘çš„ app ä½¿ç”¨ï¼Œå¯ä»¥é€šè¿‡ source.unsplash.com è¿›å…¥ï¼›ä¸€ä¸ªæ˜¯è¿›é˜¶ç‰ˆçš„å¼€å‘è€…ä¸­å¿ƒ API, æ”¯æŒæ›´å¤šæµé‡çš„ app ä½¿ç”¨ï¼Œå¯ä»¥é€šè¿‡ unsplash.com&#x2F;developers è¿›å…¥ã€‚</p><h3 id="Source-API"><a href="#Source-API" class="headerlink" title="Source API"></a>Source API</h3><p>source api æä¾›çš„åŠŸèƒ½æ¯”è¾ƒç®€å•ã€‚å¦‚æœæƒ³è·å–ä¸€å¼ éšæœºå›¾ç‰‡ï¼Œå¯ä»¥è®¿é—®åœ°å€ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://source.unsplash.com/random</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªåœ°å€ä¼šé‡å®šå‘åˆ°ä¸€å¼ å›¾ç‰‡çš„åœ°å€ï¼Œå¯ä»¥é€šè¿‡å“åº”ç›´æ¥è·å–åˆ°ä¸€å¼ å›¾ç‰‡ã€‚</p><p>å¦‚æœå›¾ç‰‡å¤ªå¤§ï¼ŒåŠ è½½é€Ÿåº¦ä¹Ÿä¼šæ¯”è¾ƒæ…¢ã€‚ä½ å¯ä»¥åœ¨ url åé¢æ·»åŠ å°ºå¯¸ï¼Œæ§åˆ¶è¿”å›çš„å›¾ç‰‡å¤§å°ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://source.unsplash.com/random/800x600</span><br></pre></td></tr></table></figure><p>å¦‚æœåŸå›¾ç‰‡ä¸æ˜¯è¿™ç§é•¿å®½æ¯”ï¼Œunsplash ä¼šå¯¹å›¾ç‰‡è¿›è¡Œè£å‰ªï¼ŒæŸäº›éƒ¨åˆ†å°±ä¼šä¸¢å¤±ã€‚å¦‚æœä½ æƒ³ä¿æŒå›¾ç‰‡çš„åŸå§‹æ¯”ä¾‹ï¼Œå¯ä»¥æŠŠé«˜åº¦è®¾æˆ 0 ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://source.unsplash.com/random/800x0</span><br></pre></td></tr></table></figure><blockquote><p>å°æç¤º</p><p>æ— è®ºæ˜¯ä»€ä¹ˆ API, ä½ éƒ½å¯ä»¥åœ¨æœ€åä½¿ç”¨ &#x2F;800x0 è¿™æ ·çš„æ–¹å¼æ§åˆ¶å›¾ç‰‡çš„å¤§å°ã€‚</p></blockquote><p>ä½ å¯ä»¥æŒ‡å®šè·å–æŸä½ä½œè€…çš„å›¾ç‰‡ã€‚æ¯”å¦‚æˆ‘ç‰¹åˆ«å–œæ¬¢ Raamin ka æ‹æ‘„çš„ç…§ç‰‡ã€‚</p><p>æˆ‘å¯ä»¥æŠŠå®ƒçš„ç”¨æˆ·åå°å†™ä»¥åå†å»æ‰ç©ºæ ¼ï¼Œæ·»åŠ åˆ° &#x2F;user çš„åé¢ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://source.unsplash.com/user/raaminka</span><br></pre></td></tr></table></figure><p>è¿™æ ·æˆ‘å°±èƒ½è·å–åˆ°è¿™ä½ä½œè€…æ‹æ‘„çš„éšæœºå¦¹å­ç…§ç‰‡äº†ã€‚ä¸è¦å¿˜äº†ï¼Œä½ åŒæ ·æ˜¯å¯ä»¥æ§åˆ¶å›¾ç‰‡å°ºå¯¸çš„ã€‚</p><p>è·å–æŸä¸ªç”¨æˆ·å–œæ¬¢çš„ç…§ç‰‡ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://source.unsplash.com/user/raaminka/like</span><br></pre></td></tr></table></figure><p>unsplash api è¿˜æ”¯æŒæœç´¢ã€‚é€šå¸¸æ¥è¯´ï¼Œæˆ‘éƒ½ä¼šæ ¹æ®è¦å†™çš„æ–‡ç« çš„ä¸»é¢˜åœ¨ unsplash ä¸Šæœç´¢å›¾ç‰‡ã€‚æ¯”å¦‚æˆ‘è¦å†™ä¸€ç¯‡å…³äºåŠ å¯†çš„æ–‡ç« ï¼Œé‚£æˆ‘å°±ä¼šå»æœç´¢ encryption ç›¸å…³çš„å›¾ç‰‡ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://source.unsplash.com/800x0/?encryption</span><br></pre></td></tr></table></figure><p>ä½ ä¹Ÿå¯ä»¥ç»„åˆå¤šä¸ªä¸åŒçš„å…³é”®å­—ã€‚å¦‚æœæ²¡æœ‰å›¾ç‰‡åŒæ—¶åŒ…å«è¿™äº›å…³é”®å­—ï¼Œåˆ™ä¼šä¼˜å…ˆåŒ¹é…æœ€åçš„å…³é”®å­—ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://source.unsplash.com/800x0/?encryption,girl</span><br></pre></td></tr></table></figure><p>ç°åœ¨æˆ‘ä»¬æ¯æ¬¡è®¿é—®åŒä¸€ä¸ª API, å¾—åˆ°å›¾ç‰‡éƒ½ä¸ä¸€æ ·ï¼Œå› ä¸ºæ˜¯éšæœºç”Ÿæˆçš„ã€‚ä½†æ˜¯å¦‚æœæˆ‘ä»¬åœ¨æ¯ä¸ª API çš„åé¢æ·»åŠ  &#x2F;daily æˆ–è€… &#x2F;weeklyï¼Œ åˆ™å¯ä»¥å¾—åˆ°å›ºå®šçš„ä¸€å¼ å›¾ã€‚éœ€è¦æ³¨æ„ï¼Œè¿™å¹¶ä¸æ˜¯è¯´è¿™äº›å›¾ç‰‡æ›´åŠ çƒ­é—¨æˆ–è€…è´¨é‡æ›´é«˜ï¼Œåªæ˜¯æ¯å¤©&#x2F;æ¯å‘¨ä¿æŒä¸å˜çš„éšæœºå›¾ç‰‡è€Œå·²ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://source.unsplash.com/800x0/daily?sports</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> OpenSource </category>
          
          <category> API </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å›¾ç‰‡ </tag>
            
            <tag> èµ„æº </tag>
            
            <tag> Unsplash </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>libeventâ€”â€”evconnlistener_new_bind(1)</title>
      <link href="/OpenSource/libevent/evconnlistener_new_bind(1)/"/>
      <url>/OpenSource/libevent/evconnlistener_new_bind(1)/</url>
      
        <content type="html"><![CDATA[<p>libeventå°è£…äº†ç›‘å¬å¥—æ¥å­—ï¼Œå°†å¥—æ¥å­—å’Œ<code>struct event</code>ç»Ÿä¸€ç®¡ç†ã€‚</p><p>å®˜æ–¹çš„è§£é‡Šæ˜¯ï¼š</p><blockquote><p>The evonnlistener mechanism gives you a way to listen for and accept incoming TCP connections</p></blockquote><p>é¦–å…ˆè¿˜æ˜¯å­¦ä¹ æ€ä¹ˆå»ä½¿ç”¨<code>evconnlistener</code></p><h2 id="ï¼ˆä¸€ï¼‰æ¥å£"><a href="#ï¼ˆä¸€ï¼‰æ¥å£" class="headerlink" title="ï¼ˆä¸€ï¼‰æ¥å£"></a>ï¼ˆä¸€ï¼‰æ¥å£</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//åˆ›å»º</span></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">evconnlistener</span> *<span class="built_in">evconnlistener_new</span>(<span class="keyword">struct</span> event_base*base,evconnlistener_cb cb,</span><br><span class="line"><span class="type">void</span> *ptr,<span class="type">unsigned</span> flags ,<span class="type">int</span> backlog,<span class="type">evutil_socket_t</span> fd);</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">evconnlistener</span>*<span class="built_in">evconnlistener_new_bind</span>(<span class="keyword">struct</span> event_base*base,evconnlistener_cb cb,</span><br><span class="line"><span class="type">void</span> *ptr,<span class="type">unsigned</span> flags,<span class="type">int</span> backlog,<span class="type">const</span> <span class="keyword">struct</span> sockaddr*sa,<span class="type">int</span> socklen);</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">evconnlistener_free</span><span class="params">(<span class="keyword">struct</span> evconnlistener*lev)</span></span></span><br><span class="line"><span class="function"><span class="comment">//å…¶ä¸­callbackçš„å®šä¹‰å¦‚ä¸‹ï¼š</span></span></span><br><span class="line"><span class="function"><span class="keyword">typedef</span> <span class="title">void</span> <span class="params">(*evconnlistener_cb)</span><span class="params">(<span class="keyword">struct</span> evconnlistener *listener,<span class="type">evutil_socket_t</span> sock,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="keyword">struct</span> sockaddr*addr,<span class="type">int</span> len,<span class="type">void</span> *ptr)</span></span>;</span><br><span class="line"><span class="comment">//enable å’Œ disable</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">evconnlistener_disable</span><span class="params">(<span class="keyword">struct</span> evconnlistener *lev)</span></span>;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">evconnlistener_enable</span><span class="params">(<span class="keyword">struct</span> evconnlistener *lev)</span></span>;</span><br><span class="line"><span class="comment">//è°ƒæ•´callback</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">evconnlistener_set_cb</span><span class="params">(<span class="keyword">struct</span> evconnlistener*lev,evconnlistener_cb cb,<span class="type">void</span> *arg)</span></span></span><br><span class="line"><span class="function"><span class="comment">//æ£€æŸ¥evconnlistener</span></span></span><br><span class="line"><span class="function"><span class="type">evutil_socket_t</span> <span class="title">evconnlistener_get_fd</span><span class="params">(<span class="keyword">struct</span> evconnlistener *lev)</span></span></span><br><span class="line"><span class="function"><span class="keyword">struct</span> event_base *<span class="title">evconnlistener_get_base</span><span class="params">(<span class="keyword">struct</span> evconnlistener*lev)</span></span></span><br></pre></td></tr></table></figure><p><code>evconnlistener</code>æ˜¯å¯¹  <u>å¥—æ¥å­—å’Œ<code>event</code></u> çš„å°è£…ï¼Œå¯ä»¥æƒ³è§ï¼Œåœ¨è¿™äº›æ¥å£ä¸­ï¼Œé™¤äº†è°ƒç”¨<code>socket api</code>ä¹‹å¤–ï¼Œè¿˜ä¼šå…³è”å¥—æ¥å­åˆ°<code>event</code>ä¸Šè¿›è€Œæ³¨å†Œåˆ°<code>event_base</code>ä¸Šå»</p><p>ä¸è¿‡æ¥å£å°è£…å¥½äº†è¿™äº›è¡Œä¸ºï¼Œåªéœ€è¦äº†è§£è¿™äº›å‚æ•°çš„å«ä¹‰å³å¯ã€‚</p><blockquote><p>baseï¼šå³event_base<br>cbï¼šå½“æœ‰æ–°è¿æ¥æ—¶è°ƒç”¨çš„å›è°ƒå‡½æ•°<br>ptrï¼šcallbackçš„å‚æ•°<br>flagsï¼šæ§åˆ¶listnerçš„è¡Œä¸º<br>backlogï¼šåŒ listen(2)ä¸­backlogçš„å«ä¹‰<br>fdï¼šå·²ç»bindçš„fdï¼Œä¼ å…¥apiè®©libeventåšlistenè°ƒç”¨</p></blockquote><h2 id="ï¼ˆäºŒï¼‰ä¾‹å­"><a href="#ï¼ˆäºŒï¼‰ä¾‹å­" class="headerlink" title="ï¼ˆäºŒï¼‰ä¾‹å­"></a>ï¼ˆäºŒï¼‰ä¾‹å­</h2><p>ä½¿ç”¨<code>evconnlistener</code>ç®¡ç†ç›‘å¬å¥—æ¥å­—æ„å»ºä¸€ä¸ªç®€å•çš„ <mark>echo server</mark><br>ä»£ç ä¹Ÿå¯å‚è€ƒgayhub</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;event2/listener.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;event2/bufferevent.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;event2/buffer.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;arpa/inet.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;errno.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;assert.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="type">static</span> <span class="type">void</span> </span></span><br><span class="line"><span class="function"><span class="title">echo_read_cb</span><span class="params">(<span class="keyword">struct</span> bufferevent*bev,<span class="type">void</span>*ctx)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">struct</span> <span class="title class_">evbuffer</span>*input=<span class="built_in">bufferevent_get_input</span>(bev);</span><br><span class="line">    <span class="keyword">struct</span> <span class="title class_">evbuffer</span>*output=<span class="built_in">bufferevent_get_output</span>(bev);</span><br><span class="line">    <span class="built_in">evbuffer_add_buffer</span>(output,input);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">static</span> <span class="type">void</span></span></span><br><span class="line"><span class="function"><span class="title">echo_event_cb</span><span class="params">(<span class="keyword">struct</span> bufferevent*bev,<span class="type">short</span> events,<span class="type">void</span>*ctx)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(events&amp;BEV_EVENT_ERROR)</span><br><span class="line">    <span class="built_in">perror</span>(<span class="string">&quot;Error from bufferevent&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span>(events&amp;(BEV_EVENT_EOF|BEV_EVENT_ERROR))</span><br><span class="line">    &#123;</span><br><span class="line">    <span class="built_in">bufferevent_free</span>(bev);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">static</span> <span class="type">void</span></span></span><br><span class="line"><span class="function"><span class="title">accept_error_cb</span><span class="params">(<span class="keyword">struct</span> evconnlistener*listener,<span class="type">void</span>*ctx)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">struct</span> <span class="title class_">event_base</span>*base=<span class="built_in">evconnlistener_get_base</span>(listener);</span><br><span class="line">    <span class="built_in">event_base_loopexit</span>(base,<span class="literal">NULL</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">accept_conn_cb</span><span class="params">(<span class="keyword">struct</span> evconnlistener*listener,<span class="type">evutil_socket_t</span> fd,<span class="keyword">struct</span> sockaddr*address,<span class="type">int</span> socklen,<span class="type">void</span>*ctx)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">struct</span> <span class="title class_">event_base</span>*base=<span class="built_in">evconnlistener_get_base</span>(listener);</span><br><span class="line">    <span class="keyword">struct</span> <span class="title class_">bufferevent</span>*bev = <span class="built_in">bufferevent_socket_new</span>(base,</span><br><span class="line">        fd,</span><br><span class="line">        BEV_OPT_CLOSE_ON_FREE);</span><br><span class="line">    <span class="built_in">bufferevent_setcb</span>(bev,echo_read_cb,<span class="literal">NULL</span>,echo_event_cb,<span class="literal">NULL</span>);</span><br><span class="line">    <span class="built_in">bufferevent_enable</span>(bev,EV_READ|EV_WRITE);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">int</span> argc,<span class="type">char</span>**argv)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">struct</span> <span class="title class_">event_base</span> *base;</span><br><span class="line">    <span class="keyword">struct</span> <span class="title class_">evconnlistener</span> *listener;</span><br><span class="line">    <span class="keyword">struct</span> <span class="title class_">sockaddr_in</span> sin;</span><br><span class="line">    <span class="type">int</span> port = <span class="number">1025</span>;</span><br><span class="line">    base = <span class="built_in">event_base_new</span>();</span><br><span class="line">    <span class="built_in">assert</span>(base!=<span class="literal">NULL</span>);</span><br><span class="line">    <span class="built_in">memset</span>(&amp;sin,<span class="number">0</span>,<span class="built_in">sizeof</span>(sin));</span><br><span class="line">    sin.sin_family=AF_INET;</span><br><span class="line">    sin.sin_addr.s_addr=<span class="built_in">htonl</span>(<span class="number">0</span>);</span><br><span class="line">    sin.sin_port=<span class="built_in">htons</span>(port);</span><br><span class="line">    listener=<span class="built_in">evconnlistener_new_bind</span>(base,<span class="comment">//event_base</span></span><br><span class="line">        accept_conn_cb,<span class="comment">//cb</span></span><br><span class="line">        <span class="literal">NULL</span>,<span class="comment">// ptr</span></span><br><span class="line">        LEV_OPT_CLOSE_ON_FREE|LEV_OPT_REUSEABLE,<span class="comment">//flag</span></span><br><span class="line">        <span class="number">-1</span>,<span class="comment">//backlog</span></span><br><span class="line">        (<span class="keyword">struct</span> sockaddr*)&amp;sin,</span><br><span class="line">        <span class="built_in">sizeof</span>(sin));</span><br><span class="line">    <span class="built_in">assert</span>(listener!=<span class="literal">NULL</span>);</span><br><span class="line">    <span class="built_in">evconnlistener_set_error_cb</span>(listener,accept_error_cb);</span><br><span class="line">    <span class="built_in">event_base_dispatch</span>(base);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ï¼ˆä¸‰ï¼‰æºç "><a href="#ï¼ˆä¸‰ï¼‰æºç " class="headerlink" title="ï¼ˆä¸‰ï¼‰æºç "></a>ï¼ˆä¸‰ï¼‰æºç </h2><p>çœ‹çœ‹evconnlistenråšäº†å“ªäº›å°è£…</p><h3 id="3-1ç»“æ„ä½“"><a href="#3-1ç»“æ„ä½“" class="headerlink" title="3.1ç»“æ„ä½“"></a><strong>3.1ç»“æ„ä½“</strong></h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">evconnlistener</span> &#123;</span><br><span class="line">    <span class="type">const</span> <span class="keyword">struct</span> <span class="title class_">evconnlistener_ops</span> *ops; <span class="comment">//ä¸€äº›å›è°ƒå‡½æ•°</span></span><br><span class="line">    <span class="type">void</span> *lock;</span><br><span class="line">    evconnlistener_cb cb;<span class="comment">//</span></span><br><span class="line">    evconnlistener_errorcb errorcb;</span><br><span class="line">    <span class="type">void</span> *user_data;<span class="comment">//</span></span><br><span class="line">    <span class="type">unsigned</span> flags;</span><br><span class="line">    <span class="type">short</span> refcnt;</span><br><span class="line">    <span class="type">unsigned</span> enabled : <span class="number">1</span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">evconnlistener_event</span> &#123;</span><br><span class="line">    <span class="keyword">struct</span> <span class="title class_">evconnlistener</span> base;</span><br><span class="line">    <span class="keyword">struct</span> <span class="title class_">event</span> listener;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p><code>evconnlistener</code>ç»“æ„ä½“å°†ä¸€äº›åŸºæœ¬çš„å›è°ƒå‡½æ•°ã€ç”¨æˆ·æ•°æ®ç­‰å°è£…ï¼Œç„¶å<code>evconnlistener_event</code>å°†è¿™äº›ä¸œè¥¿å’Œ<code>struct event</code>å°è£…åœ¨ä¸€èµ·</p><h3 id="3-2åˆ›å»ºä¸€ä¸ªevconnlistener"><a href="#3-2åˆ›å»ºä¸€ä¸ªevconnlistener" class="headerlink" title="3.2åˆ›å»ºä¸€ä¸ªevconnlistener"></a><strong>3.2åˆ›å»ºä¸€ä¸ªevconnlistener</strong></h3><p>çœ‹ä¸€ä¸‹åˆå§‹åŒ–æœ‰å“ªäº›å†…å®¹ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">evconnlistener</span> *</span><br><span class="line"><span class="built_in">evconnlistener_new</span>(<span class="keyword">struct</span> event_base *base,</span><br><span class="line">    evconnlistener_cb cb, <span class="type">void</span> *ptr, <span class="type">unsigned</span> flags, <span class="type">int</span> backlog,</span><br><span class="line">    <span class="type">evutil_socket_t</span> fd)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">struct</span> <span class="title class_">evconnlistener_event</span> *lev;</span><br><span class="line">    <span class="keyword">if</span> (backlog &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">listen</span>(fd, backlog) &lt; <span class="number">0</span>)<span class="comment">//è°ƒç”¨listen</span></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (backlog &lt; <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">listen</span>(fd, <span class="number">128</span>) &lt; <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    lev = <span class="built_in">mm_calloc</span>(<span class="number">1</span>, <span class="built_in">sizeof</span>(<span class="keyword">struct</span> evconnlistener_event));</span><br><span class="line">    <span class="keyword">if</span> (!lev)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">        <span class="comment">//lev-&gt;baseæ˜¯ä¸€ä¸ªevconnlistenerç»“æ„ä½“</span></span><br><span class="line">    lev-&gt;base.ops = &amp;evconnlistener_event_ops;<span class="comment">//è®¾ç½®opså‚æ•°</span></span><br><span class="line">    lev-&gt;base.cb = cb;<span class="comment">//è®¾ç½®å›è°ƒ</span></span><br><span class="line">    lev-&gt;base.user_data = ptr;<span class="comment">//ptr</span></span><br><span class="line">    lev-&gt;base.flags = flags;<span class="comment">//flag</span></span><br><span class="line">    lev-&gt;base.refcnt = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> (flags &amp; LEV_OPT_THREADSAFE) &#123;</span><br><span class="line">        <span class="built_in">EVTHREAD_ALLOC_LOCK</span>(lev-&gt;base.lock, EVTHREAD_LOCKTYPE_RECURSIVE);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//å°†fdå…³è”åˆ°struct eventä¸Šå» lev-&gt;listeneræ˜¯struct eventç»“æ„ä½“</span></span><br><span class="line">    <span class="comment">//è¿™æ ·assighå°†listener_read_cbè®¾ç½®åˆ°eventçš„cbä¸­ï¼Œå¹¶å°†struct evconnlistneråšä¸ºå‚æ•°</span></span><br><span class="line">    <span class="comment">//è¿™æ˜¯ä¸€ä¸ªæ¯”è¾ƒå¤æ‚çš„è¿‡ç¨‹ï¼Œé¦–å…ˆç”±äºeventæ¿€æ´»ï¼Œå°†å…ˆè°ƒç”¨listener_read_cb</span></span><br><span class="line">    <span class="comment">//åœ¨listener_read_cbé€šè¿‡ä¼ å…¥çš„struct evconnlistnerè°ƒç”¨ç”¨æˆ·è‡ªå®šä¹‰å›è°ƒ</span></span><br><span class="line">    <span class="built_in">event_assign</span>(&amp;lev-&gt;listener, base, fd, EV_READ|EV_PERSIST,</span><br><span class="line">        listener_read_cb, lev);</span><br><span class="line">        <span class="comment">//è¿™é‡Œåº•å±‚è°ƒç”¨event_enable</span></span><br><span class="line">    <span class="built_in">evconnlistener_enable</span>(&amp;lev-&gt;base);</span><br><span class="line">    <span class="keyword">return</span> &amp;lev-&gt;base;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨å¦å¤–ä¸€ä¸ªæ¥å£<code>evconnlistener_new_bind</code>ä¸­ç”±äºæŒ‡å®šäº†å¥—æ¥å­—ç»“æ„ä½“ï¼Œå› æ­¤åœ¨åº•å±‚è¿˜è°ƒç”¨äº†<code>bind</code></p><h3 id="3-3-listener-read-cb"><a href="#3-3-listener-read-cb" class="headerlink" title="3.3 listener_read_cb"></a><strong>3.3 listener_read_cb</strong></h3><p>è¿™ä¸ªåº•å±‚çš„å›è°ƒå‡½æ•°å…ˆäºç”¨æˆ·å›è°ƒå‡½æ•°è°ƒç”¨ï¼Œåœ¨è¿™ä¸ªå›è°ƒä¸­ä¼šè°ƒç”¨ç”¨æˆ·å›è°ƒï¼Œå¹¶ä¸”ä¼šå°†å·²è¿æ¥çš„å¥—æ¥å­—ä½œä¸ºå‚æ•°ä¼ å…¥ç”¨æˆ·å›è°ƒï¼Œ<br>è¿™ä¹Ÿæ­£æ˜¯<code>evconnlistener</code>çš„ç²¾é«“ï¼Œæ— éœ€è¦ç”¨æˆ·è¿›è¡Œ<code>listenã€bindã€accept</code>ç­‰æ“ä½œ</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">static</span> <span class="type">void</span></span></span><br><span class="line"><span class="function"><span class="title">listener_read_cb</span><span class="params">(<span class="type">evutil_socket_t</span> fd, <span class="type">short</span> what, <span class="type">void</span> *p)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">struct</span> <span class="title class_">evconnlistener</span> *lev = p;</span><br><span class="line">    <span class="type">int</span> err;</span><br><span class="line">    evconnlistener_cb cb;</span><br><span class="line">    evconnlistener_errorcb errorcb;</span><br><span class="line">    <span class="type">void</span> *user_data;</span><br><span class="line">    <span class="built_in">LOCK</span>(lev);</span><br><span class="line">    <span class="keyword">while</span> (<span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">struct</span> <span class="title class_">sockaddr_storage</span> ss;</span><br><span class="line">        <span class="type">socklen_t</span> socklen = <span class="built_in">sizeof</span>(ss);</span><br><span class="line">        <span class="type">evutil_socket_t</span> new_fd = <span class="built_in">accept</span>(fd, (<span class="keyword">struct</span> sockaddr*)&amp;ss, &amp;socklen);<span class="comment">//accept</span></span><br><span class="line">        <span class="keyword">if</span> (new_fd &lt; <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">if</span> (socklen == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="comment">/* This can happen with some older linux kernels in</span></span><br><span class="line"><span class="comment">             * response to nmap. */</span></span><br><span class="line">            <span class="built_in">evutil_closesocket</span>(new_fd);</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (!(lev-&gt;flags &amp; LEV_OPT_LEAVE_SOCKETS_BLOCKING))</span><br><span class="line">            <span class="built_in">evutil_make_socket_nonblocking</span>(new_fd);<span class="comment">//non blocking</span></span><br><span class="line">        <span class="keyword">if</span> (lev-&gt;cb == <span class="literal">NULL</span>) &#123;</span><br><span class="line">            <span class="built_in">UNLOCK</span>(lev);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        ++lev-&gt;refcnt;</span><br><span class="line">        cb = lev-&gt;cb;<span class="comment">//æ‹¿åˆ°ç”¨æˆ·å›è°ƒ</span></span><br><span class="line">        user_data = lev-&gt;user_data;</span><br><span class="line">        <span class="built_in">UNLOCK</span>(lev);</span><br><span class="line">        <span class="built_in">cb</span>(lev, new_fd, (<span class="keyword">struct</span> sockaddr*)&amp;ss, (<span class="type">int</span>)socklen,</span><br><span class="line">            user_data);<span class="comment">//è°ƒç”¨ç”¨æˆ·å›è°ƒå¹¶å°†connfdä¼ å…¥ç”¨æˆ·å›è°ƒ</span></span><br><span class="line">        <span class="built_in">LOCK</span>(lev);</span><br><span class="line">        <span class="keyword">if</span> (lev-&gt;refcnt == <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="type">int</span> freed = <span class="built_in">listener_decref_and_unlock</span>(lev);</span><br><span class="line">            <span class="built_in">EVUTIL_ASSERT</span>(freed);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        --lev-&gt;refcnt;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ï¼ˆå››ï¼‰å‚è€ƒ"><a href="#ï¼ˆå››ï¼‰å‚è€ƒ" class="headerlink" title="ï¼ˆå››ï¼‰å‚è€ƒ"></a>ï¼ˆå››ï¼‰å‚è€ƒ</h2><p>1.libevent programming<br>2.libevent æ·±å…¥æµ…å‡º</p>]]></content>
      
      
      <categories>
          
          <category> OpenSource </category>
          
          <category> libevent </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Opensource </tag>
            
            <tag> libevent </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ±‡ç¼–å‘½ä»¤æ•´ç†</title>
      <link href="/OS/%E6%B1%87%E7%BC%96/%E6%B1%87%E7%BC%96%E5%9F%BA%E7%A1%80%E5%91%BD%E4%BB%A4/"/>
      <url>/OS/%E6%B1%87%E7%BC%96/%E6%B1%87%E7%BC%96%E5%9F%BA%E7%A1%80%E5%91%BD%E4%BB%A4/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æ¦‚è¿°: æ±‡ç¼–å‘½ä»¤æ•´ç†</p></blockquote><p>[toc]</p><h4 id="COMISS"><a href="#COMISS" class="headerlink" title="COMISS"></a>COMISS</h4><p>COMISSï¼ˆCompare Or Ordered Move SIMD Singleï¼‰æŒ‡ä»¤æ˜¯x86æŒ‡ä»¤é›†ä¸­çš„ä¸€æ¡æ¯”è¾ƒæŒ‡ä»¤ï¼Œç”¨äºæ¯”è¾ƒä¸¤ä¸ªå•ç²¾åº¦æµ®ç‚¹æ•°æˆ–å•ç²¾åº¦å¯„å­˜å™¨ï¼Œå¹¶è®¾ç½®æ ‡å¿—ä½ã€‚å®ƒä¹Ÿå¯ä»¥å°†æ¯”è¾ƒç»“æœç§»åŠ¨åˆ°å¦ä¸€ä¸ªå¯„å­˜å™¨æˆ–å†…å­˜ä½ç½®ã€‚</p><p>å…·ä½“æ¥è¯´ï¼ŒCOMISSæŒ‡ä»¤å°†ä¸¤ä¸ªå•ç²¾åº¦æµ®ç‚¹æ•°æˆ–å•ç²¾åº¦å¯„å­˜å™¨è¿›è¡Œæ¯”è¾ƒï¼Œå¹¶è®¾ç½®æ ‡å¿—ä½ZFï¼ˆZero Flagï¼Œé›¶æ ‡å¿—ä½ï¼‰ã€PFï¼ˆParity Flagï¼Œå¥‡å¶æ ‡å¿—ä½ï¼‰å’ŒCFï¼ˆCarry Flagï¼Œè¿›ä½æ ‡å¿—ä½ï¼‰ã€‚å®ƒå¯ä»¥å°†æ¯”è¾ƒç»“æœç§»åŠ¨åˆ°ç›®æ ‡å¯„å­˜å™¨æˆ–å†…å­˜ä½ç½®ã€‚</p><p>ä¾‹å¦‚ï¼Œä»¥ä¸‹æ˜¯ä¸€æ¡COMISSæŒ‡ä»¤çš„ç¤ºä¾‹ä»£ç ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">å¤åˆ¶ä»£ç </span><br><span class="line"></span><br><span class="line">comiss xmm1, xmm2   ; æ¯”è¾ƒxmm1å’Œxmm2å¯„å­˜å™¨ä¸­çš„å•ç²¾åº¦æµ®ç‚¹æ•°</span><br></pre></td></tr></table></figure><p>è¯¥æŒ‡ä»¤ä¼šå°†ä¸¤ä¸ªå¯„å­˜å™¨ä¸­çš„å•ç²¾åº¦æµ®ç‚¹æ•°è¿›è¡Œæ¯”è¾ƒï¼Œå¹¶è®¾ç½®ç›¸åº”çš„æ ‡å¿—ä½ã€‚ç„¶åï¼Œå¯ä»¥å°†æ¯”è¾ƒç»“æœç§»åŠ¨åˆ°å¦ä¸€ä¸ªå¯„å­˜å™¨æˆ–å†…å­˜ä½ç½®ã€‚</p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒCOMISSæŒ‡ä»¤åªèƒ½ç”¨äºå•ç²¾åº¦æµ®ç‚¹æ•°çš„æ¯”è¾ƒï¼Œä¸èƒ½ç”¨äºåŒç²¾åº¦æµ®ç‚¹æ•°çš„æ¯”è¾ƒã€‚</p><h4 id="CVTSD2SS"><a href="#CVTSD2SS" class="headerlink" title="CVTSD2SS"></a>CVTSD2SS</h4><p>CVTSD2SS æ˜¯ Intel C&#x2F;C++ ç¼–è¯‘å™¨çš„ä¸€ä¸ªæŒ‡ä»¤ï¼Œç”¨äºå°† 64 ä½åŒç²¾åº¦æµ®ç‚¹æ•°è½¬æ¢ä¸º 32 ä½å•ç²¾åº¦æµ®ç‚¹æ•°ã€‚åœ¨æ­¤è¿‡ç¨‹ä¸­ï¼Œæºæ“ä½œæ•°ï¼ˆSRCï¼‰è¢«è¯»å–å¹¶è½¬æ¢ä¸º 32 ä½å•ç²¾åº¦æµ®ç‚¹æ•°ï¼Œç„¶åå­˜å‚¨åœ¨ç›®æ ‡æ“ä½œæ•°ï¼ˆDESTï¼‰ä¸­ã€‚</p><p>æ³¨æ„ï¼Œä»¥ä¸Šä¿¡æ¯ä»…ä¾›å‚è€ƒã€‚åœ¨å®é™…ç¼–ç¨‹ä¸­ï¼Œå¦‚æœä½ ä½¿ç”¨ CVTSD2SS æŒ‡ä»¤ï¼Œä½ éœ€è¦å‚è€ƒ Intel å¤„ç†å™¨çš„æ¶æ„å’Œç›¸å…³æ–‡æ¡£ï¼Œä»¥ç¡®ä¿ä½ çš„ä»£ç å¯ä»¥åœ¨ç›®æ ‡ç¡¬ä»¶ä¸Šæ­£ç¡®æ‰§è¡Œã€‚</p><h4 id="JAE"><a href="#JAE" class="headerlink" title="JAE"></a>JAE</h4><blockquote><p>åœ¨æ±‡ç¼–è¯­è¨€ä¸­ï¼ŒJAEï¼ˆJump if Above or Equalï¼‰æŒ‡ä»¤æ˜¯ä¸€ç§æ ¹æ®æ— ç¬¦å·æ•´æ•°æ¯”è¾ƒçš„ç»“æœè¿›è¡Œæ¡ä»¶è½¬ç§»çš„æŒ‡ä»¤ã€‚</p><p>å½“CFï¼ˆCarry Flagï¼‰ä¸º0ä¸”ZFï¼ˆZero Flagï¼‰ä¸º0æ—¶ï¼Œè¡¨ç¤ºå‰é¢çš„æ“ä½œç»“æœæ˜¯æ— ç¬¦å·æ•´æ•°å¤§äºï¼ˆAboveï¼‰æˆ–ç­‰äºï¼ˆEqualï¼‰çš„æƒ…å†µï¼Œæ­¤æ—¶æ‰§è¡Œè·³è½¬æ“ä½œã€‚</p><p>ä¾‹å¦‚ï¼Œå‡è®¾å½“å‰æŒ‡ä»¤çš„åœ°å€ä¸º0x1000ï¼Œä¸‹ä¸€æ¡æŒ‡ä»¤çš„åœ°å€ä¸º0x1001ï¼Œè€ŒæŸä¸ªæ— ç¬¦å·æ•´æ•°çš„æ¯”è¾ƒç»“æœä½¿å¾—CFä¸º0ä¸”ZFä¸º0ï¼Œé‚£ä¹ˆæ‰§è¡ŒJAEæŒ‡ä»¤åï¼Œç¨‹åºå°†ä¼šè·³è½¬åˆ°åœ°å€0x1001å¤„æ‰§è¡Œä¸‹ä¸€æ¡æŒ‡ä»¤ã€‚</p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå…·ä½“çš„æŒ‡ä»¤ç”¨æ³•å’Œè¯­æ³•å¯èƒ½ä¼šå› ä¸ºä¸åŒçš„æ±‡ç¼–è¯­è¨€è€Œç•¥æœ‰ä¸åŒï¼Œå…·ä½“éœ€è¦å‚è€ƒå¯¹åº”çš„æ±‡ç¼–è¯­è¨€æ–‡æ¡£æˆ–æ‰‹å†Œã€‚</p></blockquote><h4 id="JE"><a href="#JE" class="headerlink" title="JE"></a>JE</h4><blockquote><p>åœ¨æ±‡ç¼–è¯­è¨€ä¸­ï¼ŒJEæŒ‡ä»¤å…¨ç§°ä¸ºâ€œJump if Equalâ€ï¼Œä¹Ÿè¢«ç§°ä¸ºâ€œJump if Zeroâ€ã€‚å®ƒæ ¹æ®æ ‡å¿—å¯„å­˜å™¨ä¸­çš„é›¶æ ‡å¿—ä½(ZF)çš„å€¼æ¥åˆ¤æ–­æ˜¯å¦è¿›è¡Œè·³è½¬ã€‚å½“ZFä¸º1æ—¶ï¼Œè¡¨ç¤ºå‰é¢çš„æ“ä½œç»“æœä¸ºé›¶ï¼Œåˆ™è·³è½¬åˆ°ç›®æ ‡åœ°å€æ‰§è¡Œï¼›å½“ZFä¸º0æ—¶ï¼Œåˆ™ä¸è¿›è¡Œè·³è½¬ã€‚</p></blockquote><h4 id="JP"><a href="#JP" class="headerlink" title="JP"></a>JP</h4><blockquote><p>åœ¨æ±‡ç¼–è¯­è¨€ä¸­ï¼ŒJPï¼ˆJump if Parityï¼‰æŒ‡ä»¤æ˜¯ä¸€ç§æ ¹æ®å¥‡å¶æ ‡å¿—ä½PFï¼ˆParity Flagï¼‰çš„çŠ¶æ€è¿›è¡Œè·³è½¬çš„æ¡ä»¶è½¬ç§»æŒ‡ä»¤ã€‚</p><p>å½“PFä¸º1æ—¶ï¼Œè¡¨ç¤ºå‰é¢æ“ä½œçš„ç»“æœå…·æœ‰å¶æ•°ä¸ª1ä½ï¼ˆå³ä½8ä½æœ‰å¶æ•°ä¸ª1ï¼‰ï¼Œæ­¤æ—¶æ‰§è¡Œè·³è½¬æ“ä½œï¼›å½“PFä¸º0æ—¶ï¼Œè¡¨ç¤ºå‰é¢æ“ä½œçš„ç»“æœå…·æœ‰å¥‡æ•°ä¸ª1ä½ï¼ˆå³ä½8ä½æœ‰å¥‡æ•°ä¸ª1ï¼‰ï¼Œæ­¤æ—¶ä¸æ‰§è¡Œè·³è½¬æ“ä½œã€‚</p><p>ä¾‹å¦‚ï¼Œå‡è®¾å½“å‰æŒ‡ä»¤çš„åœ°å€ä¸º0x1000ï¼Œä¸‹ä¸€æ¡æŒ‡ä»¤çš„åœ°å€ä¸º0x1001ï¼Œè€ŒæŸä¸ªæ“ä½œçš„ç»“æœä½¿å¾—PFä¸º1ï¼Œé‚£ä¹ˆæ‰§è¡ŒJPæŒ‡ä»¤åï¼Œç¨‹åºå°†ä¼šè·³è½¬åˆ°åœ°å€0x1001å¤„æ‰§è¡Œä¸‹ä¸€æ¡æŒ‡ä»¤ã€‚</p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå…·ä½“çš„æŒ‡ä»¤ç”¨æ³•å’Œè¯­æ³•å¯èƒ½ä¼šå› ä¸ºä¸åŒçš„æ±‡ç¼–è¯­è¨€è€Œç•¥æœ‰ä¸åŒï¼Œå…·ä½“éœ€è¦å‚è€ƒå¯¹åº”çš„æ±‡ç¼–è¯­è¨€æ–‡æ¡£æˆ–æ‰‹å†Œã€‚</p></blockquote><h4 id="DD"><a href="#DD" class="headerlink" title="DD"></a>DD</h4><blockquote><p>DD ä½œä¸ºä¼ªæ“ä½œå‘½ä»¤ï¼Œç”¨äºå®šä¹‰æ“ä½œæ•°å ç”¨çš„å­—èŠ‚æ•°ï¼Œå³DoubleWordçš„ç¼©å†™ï¼Œè¡¨ç¤º4ä¸ªå­—èŠ‚ï¼ˆ32ä½ï¼‰ã€‚</p></blockquote><h4 id="movaps"><a href="#movaps" class="headerlink" title="movaps"></a>movaps</h4><p>movapsæ˜¯x86æŒ‡ä»¤é›†ä¸­çš„ä¸€ç§æŒ‡ä»¤ï¼Œç”¨äºå°†å¯¹é½çš„å°è£…å¥½çš„128ä½æ•°æ®ä»æºåœ°å€ç§»åŠ¨åˆ°ç›®æ ‡åœ°å€ã€‚è¿™ä¸ªæŒ‡ä»¤é€šå¸¸ç”¨äºå¤„ç†SSEï¼ˆStreaming SIMD Extensionsï¼‰å¯„å­˜å™¨ä¹‹é—´çš„æ•°æ®ä¼ é€ã€‚</p><p>åœ¨movapsæŒ‡ä»¤ä¸­ï¼Œâ€apsâ€è¡¨ç¤ºâ€Aligned Packed Singleâ€ï¼Œå³å¯¹é½çš„å°è£…å¥½çš„å•ç²¾åº¦æµ®ç‚¹æ•°ã€‚å®ƒè¦æ±‚æºåœ°å€å’Œç›®æ ‡åœ°å€éƒ½æ˜¯16å­—èŠ‚å¯¹é½çš„ï¼Œä»¥ç¡®ä¿æ•°æ®ä¼ é€çš„æ•ˆç‡ã€‚</p><p>ä¾‹å¦‚ï¼Œå‡è®¾æœ‰ä¸¤ä¸ªSSEå¯„å­˜å™¨xmm0å’Œxmm1ï¼Œä»¥åŠä¸€ä¸ªå†…å­˜åœ°å€addrï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨ä»¥ä¸‹æŒ‡ä»¤å°†xmm0ä¸­çš„æ•°æ®ç§»åŠ¨åˆ°addræ‰€æŒ‡å‘çš„å†…å­˜ä¸­ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">å¤åˆ¶ä»£ç </span><br><span class="line"></span><br><span class="line">movaps [addr], xmm0</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªæŒ‡ä»¤å°†ä¼šå°†xmm0ä¸­çš„128ä½æ•°æ®ï¼ˆå³4ä¸ªå•ç²¾åº¦æµ®ç‚¹æ•°ï¼‰å¯¹é½åœ°å­˜å‚¨åœ¨addræ‰€æŒ‡å‘çš„å†…å­˜åœ°å€ä¸­ã€‚</p><h4 id="movss"><a href="#movss" class="headerlink" title="movss"></a>movss</h4><blockquote><p>movss æ˜¯x86æŒ‡ä»¤é›†ä¸­çš„ä¸€ç§å•ç²¾åº¦ç§»åŠ¨æŒ‡ä»¤ï¼Œç”¨äºå°†å•ç²¾åº¦æµ®ç‚¹æ•°ï¼ˆ32ä½ï¼‰ä»ä¸€ä¸ªä½ç½®ç§»åŠ¨åˆ°å¦ä¸€ä¸ªä½ç½®ã€‚è¿™ä¸ªæŒ‡ä»¤å¯ä»¥ç”¨äºå¯„å­˜å™¨ä¹‹é—´ã€å­˜å‚¨å™¨å’Œå¯„å­˜å™¨ä¹‹é—´ã€å­˜å‚¨å™¨ä¹‹é—´çš„æ•°æ®ä¼ é€ã€‚</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> OS </category>
          
          <category> æ±‡ç¼– </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ±‡ç¼– </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/OS/Windows/%E9%A9%B1%E5%8A%A8/%E9%A9%B1%E5%8A%A8%E5%AE%89%E8%A3%85%E9%94%99%E8%AF%AF/"/>
      <url>/OS/Windows/%E9%A9%B1%E5%8A%A8/%E9%A9%B1%E5%8A%A8%E5%AE%89%E8%A3%85%E9%94%99%E8%AF%AF/</url>
      
        <content type="html"><![CDATA[<hr><hr><h2 id="å®‰è£…å£°ç½‘å¡é©±åŠ¨æŠ¥é”™ï¼Œä»£ç ï¼š0xe0000246"><a href="#å®‰è£…å£°ç½‘å¡é©±åŠ¨æŠ¥é”™ï¼Œä»£ç ï¼š0xe0000246" class="headerlink" title="å®‰è£…å£°ç½‘å¡é©±åŠ¨æŠ¥é”™ï¼Œä»£ç ï¼š0xe0000246"></a>å®‰è£…å£°ç½‘å¡é©±åŠ¨æŠ¥é”™ï¼Œä»£ç ï¼š0xe0000246</h2><p>æ‰“å¼€<a href="https://so.csdn.net/so/search?q=%E6%B3%A8%E5%86%8C%E8%A1%A8&spm=1001.2101.3001.7020">æ³¨å†Œè¡¨</a>ï¼Œæ‰¾åˆ°ï¼šHKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\DeviceInstall\Parameters</p><p>å°†ï¼šDeviceInstallDisabled çš„å€¼æ”¹ä¸º 0<br>é‡æ–°å®‰è£…é©±åŠ¨å³å¯</p><p>å‚è€ƒï¼š<a href="https://social.msdn.microsoft.com/Forums/en-US/ae757663-1d0b-41f7-b216-3a1df00de1ab/error-0xe0000246-in-installing-driver?forum=wdk">0xe0000246è§£å†³æ–¹æ¡ˆ</a></p><h2 id="æ³¨å†Œè¡¨è¢«ä¿æŠ¤é—®é¢˜"><a href="#æ³¨å†Œè¡¨è¢«ä¿æŠ¤é—®é¢˜" class="headerlink" title="æ³¨å†Œè¡¨è¢«ä¿æŠ¤é—®é¢˜"></a>æ³¨å†Œè¡¨è¢«ä¿æŠ¤é—®é¢˜</h2><p><a href="https://techquack.com/how-to-fix-the-the-configuration-registry-database-is-corrupt-error/">https://techquack.com/how-to-fix-the-the-configuration-registry-database-is-corrupt-error/</a></p>]]></content>
      
      
      <categories>
          
          <category> OS </category>
          
          <category> Windows </category>
          
          <category> é©±åŠ¨ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>é©±åŠ¨å¸¸è§é”™è¯¯åŠè§£å†³æ–¹æ¡ˆ</title>
      <link href="/OS/Windows/%E9%A9%B1%E5%8A%A8/%E9%A9%B1%E5%8A%A8%E5%BC%80%E5%8F%91%E5%B8%B8%E8%A7%81%E9%94%99%E8%AF%AF%E5%8F%8A%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/"/>
      <url>/OS/Windows/%E9%A9%B1%E5%8A%A8/%E9%A9%B1%E5%8A%A8%E5%BC%80%E5%8F%91%E5%B8%B8%E8%A7%81%E9%94%99%E8%AF%AF%E5%8F%8A%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æ¦‚è¿°ï¼š windowsé©±åŠ¨å¼€å‘å¸¸è§é”™è¯¯æ•´ç†åŠå…¶è§£å†³æ€è·¯æ•´ç†</p></blockquote><p>[toc]</p><h1 id="1-æŒ‡å®šçš„æœåŠ¡å·²è¢«æ ‡è®°ä¸ºåˆ é™¤"><a href="#1-æŒ‡å®šçš„æœåŠ¡å·²è¢«æ ‡è®°ä¸ºåˆ é™¤" class="headerlink" title="1 æŒ‡å®šçš„æœåŠ¡å·²è¢«æ ‡è®°ä¸ºåˆ é™¤"></a>1 æŒ‡å®šçš„æœåŠ¡å·²è¢«æ ‡è®°ä¸ºåˆ é™¤</h1><p>åœ¨Windowsç³»ç»Ÿä¸­ï¼Œæœ‰æ—¶å€™åœ¨å°è¯•å¯åŠ¨æˆ–åœæ­¢æœåŠ¡æ—¶ï¼Œå¯èƒ½ä¼šé‡åˆ°â€œæŒ‡å®šçš„æœåŠ¡å·²è¢«æ ‡è®°ä¸ºåˆ é™¤â€é”™è¯¯ã€‚è¿™ä¸ªé”™è¯¯å¸¸æ˜¯ç”±äºæœåŠ¡å·²è¢«åˆ é™¤ï¼Œä½†æ˜¯å…¶é…ç½®ä¿¡æ¯ä»ç„¶å­˜åœ¨äºç³»ç»Ÿä¸­æ‰€å¯¼è‡´çš„ã€‚æœ¬æ–‡å°†è¯¦ç»†è®²è§£å¦‚ä½•è§£å†³â€œæŒ‡å®šçš„æœåŠ¡å·²è¢«æ ‡è®°ä¸ºåˆ é™¤â€é”™è¯¯ï¼ŒåŒ…æ‹¬ä½¿ç”¨æ–¹æ³•å’Œç¤ºä¾‹è¯´æ˜ã€‚</p><h2 id="è§£å†³â€œæŒ‡å®šçš„æœåŠ¡å·²è¢«æ ‡è®°ä¸ºåˆ é™¤â€é”™è¯¯"><a href="#è§£å†³â€œæŒ‡å®šçš„æœåŠ¡å·²è¢«æ ‡è®°ä¸ºåˆ é™¤â€é”™è¯¯" class="headerlink" title="è§£å†³â€œæŒ‡å®šçš„æœåŠ¡å·²è¢«æ ‡è®°ä¸ºåˆ é™¤â€é”™è¯¯"></a>è§£å†³â€œæŒ‡å®šçš„æœåŠ¡å·²è¢«æ ‡è®°ä¸ºåˆ é™¤â€é”™è¯¯</h2><p>è¦è§£å†³æŒ‡å®šçš„æœåŠ¡å·²è¢«æ ‡è®°ä¸ºåˆ é™¤â€é”™è¯¯ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•ï¼š</p><h3 id="æ–¹æ³•ä¸€ï¼šä½¿ç”¨å‘½ä»¤è¡Œ"><a href="#æ–¹æ³•ä¸€ï¼šä½¿ç”¨å‘½ä»¤è¡Œ" class="headerlink" title="æ–¹æ³•ä¸€ï¼šä½¿ç”¨å‘½ä»¤è¡Œ"></a>æ–¹æ³•ä¸€ï¼šä½¿ç”¨å‘½ä»¤è¡Œ</h3><ol><li>æ‰“å¼€å‘½ä»¤æç¤ºç¬¦ï¼ˆä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œï¼‰ã€‚</li><li>è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sc delete servicename</span><br></pre></td></tr></table></figure><p>å…¶ä¸­ï¼Œservicenameæ˜¯è¦åˆ é™¤çš„æœåŠ¡çš„åç§°ã€‚</p><ol><li>æŒ‰ä¸‹å›è½¦é”®ï¼Œå¾…å‘½æ‰§è¡Œå®Œæˆã€‚</li><li>é‡æ–°å¯åŠ¨è®¡ç®—æœºã€‚</li></ol><h3 id="æ–¹æ³•äºŒï¼šä½¿ç”¨æ³¨å†Œè¡¨ç¼–è¾‘å™¨"><a href="#æ–¹æ³•äºŒï¼šä½¿ç”¨æ³¨å†Œè¡¨ç¼–è¾‘å™¨" class="headerlink" title="æ–¹æ³•äºŒï¼šä½¿ç”¨æ³¨å†Œè¡¨ç¼–è¾‘å™¨"></a>æ–¹æ³•äºŒï¼šä½¿ç”¨æ³¨å†Œè¡¨ç¼–è¾‘å™¨</h3><ol><li>æ‰“å¼€æ³¨å†Œè¡¨ç¼–è¾‘å™¨ï¼ˆä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œï¼‰ã€‚</li><li>å¯¼èˆªåˆ°ä»¥ä¸‹è·¯å¾„ï¼š</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services</span><br></pre></td></tr></table></figure><p>3.æ‰¾å¹¶åˆ é™¤è¦åˆ é™¤çš„æœåŠ¡çš„å­é¡¹ã€‚</p><ol><li>é‡æ–°å¯åŠ¨è®¡ç®—æœºã€‚</li></ol><h2 id="ä½¿ç”¨ç¤ºä¾‹"><a href="#ä½¿ç”¨ç¤ºä¾‹" class="headerlink" title="ä½¿ç”¨ç¤ºä¾‹"></a>ä½¿ç”¨ç¤ºä¾‹</h2><p>ä»¥ä¸‹æ˜¯ä¸¤ä¸ªä½¿ç”¨å‘½ä»¤è¡Œå’Œæ³¨å†Œè¡¨ç¼–è¾‘å™¨è§£å†³â€œæŒ‡å®šçš„æœåŠ¡å·²è¢«æ ‡è®°ä¸ºåˆ é™¤â€é”™è¯¯çš„ç¤ºä¾‹è¯´æ˜ï¼š</p><ol><li>ä½¿ç”¨å‘½ä»¤è¡Œåˆ é™¤æœåŠ¡ï¼šå‡è®¾æˆ‘ä»¬éœ€è¦åˆ é™¤åâ€œtestserviceâ€çš„æœåŠ¡ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sc delete testservice</span><br></pre></td></tr></table></figure><p>è¿™æ ·å°±å¯ä»¥åˆ é™¤è¯¥æœåŠ¡ã€‚</p><ol><li>ä½¿ç”¨æ³¨å†Œè¡¨ç¼–è¾‘å™¨åˆ é™¤æœåŠ¡ï¼šå‡è®¾æˆ‘ä»¬éœ€è¦åˆ é™¤åä¸ºâ€œtestserviceâ€çš„æœåŠ¡ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ­¥éª¤ï¼š</li><li>æ‰“å¼€æ³¨å†Œè¡¨ç¼–è¾‘å™¨ã€‚</li><li>å¯¼èˆªåˆ°â€œHKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Servicesâ€è·¯å¾„ã€‚</li><li>æŸ¥æ‰¾åä¸ºâ€œtestserviceâ€çš„å­é¡¹ï¼Œå¹¶åˆ é™¤è¯¥å­é¡¹ã€‚</li><li>é‡æ–°å¯åŠ¨è®¡ç®—æœºã€‚</li></ol><p>è¿™æ ·å°±å¯ä»¥åˆ é™¤è¯¥æœåŠ¡ã€‚</p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>ä»¥ä¸Šæ˜¯å…³äºå¦‚ä½•è§£å†³â€œæŒ‡å®šçš„æœåŠ¡å·²è¢«æ ‡è®°ä¸ºåˆ é™¤â€é”™è¯¯çš„æ”»ç•¥ï¼ŒåŒ…æ‹¬æ–¹æ³•å’Œç¤ºä¾‹è¯´æ˜ã€‚å¦‚æœæ‚¨é‡åˆ°äº†è¿™ä¸ªé”™è¯¯ï¼Œè¯·å°è¯•ä½¿ç”¨ä»¥ä¸Šæ–¹æ³•è§£å†³ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> OS </category>
          
          <category> Windows </category>
          
          <category> é©±åŠ¨ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Windows </tag>
            
            <tag> é©±åŠ¨ </tag>
            
            <tag> OS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é©±åŠ¨ç¦ç”¨ç­¾å</title>
      <link href="/OS/Windows/%E9%A9%B1%E5%8A%A8/%E9%A9%B1%E5%8A%A8%E7%A6%81%E7%94%A8%E7%AD%BE%E5%90%8D/"/>
      <url>/OS/Windows/%E9%A9%B1%E5%8A%A8/%E9%A9%B1%E5%8A%A8%E7%A6%81%E7%94%A8%E7%AD%BE%E5%90%8D/</url>
      
        <content type="html"><![CDATA[<p>æ–¹æ³•ä¸€ï¼šä½¿ç”¨å‘½ä»¤æç¤ºç¬¦</p><p>\1. é¦–å…ˆï¼ŒæŒ‰ä¸‹Win+Xç»„åˆé”®ï¼Œé€‰æ‹©â€œå‘½ä»¤æç¤ºç¬¦ï¼ˆç®¡ç†å‘˜ï¼‰â€ã€‚ 2. åœ¨å‘½ä»¤æç¤ºç¬¦çª—å£ä¸­ï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤å¹¶æŒ‰ä¸‹å›è½¦é”®ï¼šbcdedit &#x2F;set testsigning on 3. ç³»ç»Ÿä¼šæ˜¾ç¤ºâ€œæ“ä½œæˆåŠŸå®Œæˆâ€çš„æç¤ºä¿¡æ¯ï¼Œè¡¨ç¤ºå·²æˆåŠŸç¦ç”¨é©±åŠ¨ç­¾åã€‚ 4. é‡æ–°å¯åŠ¨ç”µè„‘ï¼Œå³å¯ç”Ÿæ•ˆã€‚</p><p>ç°åœ¨ï¼Œä½ å·²ç»æˆåŠŸç¦ç”¨äº†Win10çš„é©±åŠ¨ç­¾åé™åˆ¶ï¼Œå¯ä»¥è‡ªç”±å®‰è£…éå®˜æ–¹æˆ–æœªç»è®¤è¯çš„é©±åŠ¨ç¨‹åºäº†ï¼ä½†æ˜¯è¯·æ³¨æ„ï¼Œç¦ç”¨é©±åŠ¨ç­¾åå¯èƒ½ä¼šå¸¦æ¥ä¸€å®šçš„å®‰å…¨é£é™©ï¼Œæ‰€ä»¥åœ¨å®‰è£…é©±åŠ¨ç¨‹åºæ—¶ï¼Œè¯·ç¡®ä¿æ¥æºå¯é ï¼Œå¹¶åŠæ—¶æ¢å¤é©±åŠ¨ç­¾åä»¥ä¿è¯ç³»ç»Ÿçš„å®‰å…¨æ€§ã€‚</p><p>å¸Œæœ›æœ¬æ–‡çš„æ•™ç¨‹èƒ½å¤Ÿå¸®åŠ©åˆ°å¤§å®¶ï¼Œè®©ä½ çš„ç”µè„‘æ›´åŠ è‡ªç”±çµæ´»ã€‚å¦‚æœä½ æœ‰ä»»ä½•é—®é¢˜æˆ–è€…å»ºè®®ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºç•™è¨€ï¼Œæˆ‘ä¼šå°½åŠ›è§£ç­”ã€‚ç¥å¤§å®¶ä½¿ç”¨æ„‰å¿«ï¼</p>]]></content>
      
      
      <categories>
          
          <category> OS </category>
          
          <category> Windows </category>
          
          <category> é©±åŠ¨ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>ç½‘ç»œè¿æ¥äº‹ä»¶</title>
      <link href="/OS/Windows/%E7%BD%91%E7%BB%9Chelper/%E7%BD%91%E7%BB%9C%E8%BF%9E%E6%8E%A5%E4%BA%8B%E4%BB%B6/"/>
      <url>/OS/Windows/%E7%BD%91%E7%BB%9Chelper/%E7%BD%91%E7%BB%9C%E8%BF%9E%E6%8E%A5%E4%BA%8B%E4%BB%B6/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      <categories>
          
          <category> OS </category>
          
          <category> Windows </category>
          
          <category> ç½‘ç»œhelper </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>è·å–ç½‘å¡æ•°é‡</title>
      <link href="/OS/Windows/%E7%BD%91%E7%BB%9Chelper/%E8%8E%B7%E5%8F%96%E7%BD%91%E5%8D%A1%E6%95%B0%E9%87%8F/"/>
      <url>/OS/Windows/%E7%BD%91%E7%BB%9Chelper/%E8%8E%B7%E5%8F%96%E7%BD%91%E5%8D%A1%E6%95%B0%E9%87%8F/</url>
      
        <content type="html"><![CDATA[<p>è·å–è™šæ‹Ÿç½‘å¡çš„ä¸ªæ•°</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">GetNetCardNums</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">int</span> nRet = <span class="number">0</span>;</span><br><span class="line"><span class="built_in">CoInitialize</span>(<span class="literal">NULL</span>);</span><br><span class="line">INetConnectionManager* pNetManager;</span><br><span class="line">INetConnection* pNetConnection;</span><br><span class="line">IEnumNetConnection* pEnum;</span><br><span class="line"></span><br><span class="line">ULONG celtFetched;</span><br><span class="line">std::string strComGuid;</span><br><span class="line">NETCON_PROPERTIES* properties = <span class="literal">nullptr</span>;</span><br><span class="line"><span class="type">bool</span> bIsInstalledNcCard = <span class="literal">false</span>;</span><br><span class="line">TapReg setRegGuid = <span class="built_in">get_tap_reg</span>();</span><br><span class="line">NcStatusList ncStausList;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (setRegGuid.<span class="built_in">size</span>() == <span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">SP_LOGW</span>(<span class="string">&quot;%s Reg Not Found, Re Install&quot;</span>, __SP_FUNC__);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (S_OK != <span class="built_in">CoCreateInstance</span>(CLSID_ConnectionManager, <span class="literal">NULL</span>, CLSCTX_SERVER, IID_INetConnectionManager, (<span class="type">void</span>**)&amp;pNetManager))</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">SP_LOGW</span>(<span class="string">&quot;%s Com Instance Failed, sleep(5s)&quot;</span>, __SP_FUNC__);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">pNetManager-&gt;<span class="built_in">EnumConnections</span>(NCME_DEFAULT, &amp;pEnum);</span><br><span class="line">pNetManager-&gt;<span class="built_in">Release</span>();</span><br><span class="line"><span class="keyword">if</span> (<span class="literal">NULL</span> == pEnum)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> (pEnum-&gt;<span class="built_in">Next</span>(<span class="number">1</span>, &amp;pNetConnection, &amp;celtFetched) == S_OK)</span><br><span class="line">&#123;</span><br><span class="line">pNetConnection-&gt;<span class="built_in">GetProperties</span>(&amp;properties);</span><br><span class="line"></span><br><span class="line">strComGuid = <span class="built_in">GUIDToString</span>(properties-&gt;guidId);</span><br><span class="line"></span><br><span class="line"><span class="comment">// æŸ¥çœ‹å½“å‰ç½‘å¡ä¸æ³¨å†Œè¡¨çš„guidä¸€è‡´æ—¶çš„çŠ¶æ€</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">auto</span>&amp; it : setRegGuid)</span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">// #1 åˆ¤æ–­æ˜¯å¦å®‰è£…äº† è™šæ‹Ÿç½‘å¡</span></span><br><span class="line"><span class="keyword">if</span> (strComGuid.<span class="built_in">compare</span>(it) == <span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line">nRet++;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">pEnum-&gt;<span class="built_in">Release</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> nRet;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="ç½‘å¡ä¿æ´»"><a href="#ç½‘å¡ä¿æ´»" class="headerlink" title="ç½‘å¡ä¿æ´»"></a>ç½‘å¡ä¿æ´»</h1><p>å£°æ˜</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* @fnkeepAlive</span></span><br><span class="line"><span class="comment">* @brief        ç½‘ç»œè¿æ¥ä¿æ´»</span></span><br><span class="line"><span class="comment">*</span></span><br><span class="line"><span class="comment">* @detailçº¿ç¨‹ï¼Œé€šè¿‡COMç»„ä»¶å®ç°</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">keepDeviceTAVnicAlive</span><span class="params">()</span></span>;</span><br></pre></td></tr></table></figure><p>å®ç°</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">keepDeviceTAVnicAlive</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="function">std::lock_guard&lt;std::mutex&gt; <span class="title">lock</span><span class="params">(g_mutex)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="type">bool</span> bRet = <span class="literal">false</span>;</span><br><span class="line"><span class="type">static</span> <span class="type">int</span> iRePtunFlag = <span class="number">1</span>; <span class="comment">// Ncé‡è¿æ ‡å¿—</span></span><br><span class="line"><span class="type">static</span> <span class="type">int</span> iReLoadFlag = <span class="number">1</span>; <span class="comment">// Dllé‡è½½æ ‡å¿—</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ipc ä¸»è¦å¤„ç†ncå‘é€çš„æ¶ˆæ¯</span></span><br><span class="line"><span class="function">TrustSpaceIPCUtil <span class="title">m_ncIpc</span><span class="params">(<span class="string">&quot;trustNcToCore&quot;</span>)</span></span>;</span><br><span class="line">m_ncIpc.<span class="built_in">Initialize</span>(&amp;HandleIpcCallBack);</span><br><span class="line"></span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">CoInitialize</span>(<span class="literal">NULL</span>);</span><br><span class="line">INetConnectionManager* pNetManager = <span class="literal">nullptr</span>;</span><br><span class="line">INetConnection* pNetConnection = <span class="literal">nullptr</span>;</span><br><span class="line">IEnumNetConnection* pEnum = <span class="literal">nullptr</span>;</span><br><span class="line"></span><br><span class="line">ULONG celtFetched;</span><br><span class="line">std::string strComGuid;</span><br><span class="line"><span class="type">bool</span> bIsInstalledNcCard = <span class="literal">false</span>;</span><br><span class="line">TapReg setRegGuid = <span class="built_in">get_tap_reg</span>();</span><br><span class="line">NcStatusList ncStausList;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (setRegGuid.<span class="built_in">size</span>() == <span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">SP_LOGW</span>(<span class="string">&quot;%s Reg Not Found, Re Install&quot;</span>, __SP_FUNC__);</span><br><span class="line"></span><br><span class="line"><span class="keyword">goto</span> __REINSTALL;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (S_OK != <span class="built_in">CoCreateInstance</span>(CLSID_ConnectionManager, <span class="literal">NULL</span>, CLSCTX_SERVER, IID_INetConnectionManager, (<span class="type">void</span>**)&amp;pNetManager))</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">SP_LOGW</span>(<span class="string">&quot;%s Com Instance Failed, sleep(5s)&quot;</span>, __SP_FUNC__);</span><br><span class="line"></span><br><span class="line">std::this_thread::<span class="built_in">sleep_for</span>(std::chrono::<span class="built_in">milliseconds</span>(<span class="number">1000</span> * <span class="number">5</span>));</span><br><span class="line"></span><br><span class="line"><span class="keyword">continue</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">pNetManager-&gt;<span class="built_in">EnumConnections</span>(NCME_DEFAULT, &amp;pEnum);</span><br><span class="line"><span class="keyword">if</span> (pNetManager)</span><br><span class="line">&#123;</span><br><span class="line">pNetManager-&gt;<span class="built_in">Release</span>();</span><br><span class="line">pNetManager = <span class="literal">nullptr</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="literal">NULL</span> == pEnum)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> (pEnum-&gt;<span class="built_in">Next</span>(<span class="number">1</span>, &amp;pNetConnection, &amp;celtFetched) == S_OK)</span><br><span class="line">&#123;</span><br><span class="line">NETCON_PROPERTIES* properties = <span class="literal">nullptr</span>;</span><br><span class="line"></span><br><span class="line">pNetConnection-&gt;<span class="built_in">GetProperties</span>(&amp;properties);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (properties != <span class="literal">nullptr</span>)</span><br><span class="line">&#123;</span><br><span class="line">strComGuid = <span class="built_in">GUIDToString</span>(properties-&gt;guidId);</span><br><span class="line"></span><br><span class="line"><span class="comment">// T1 æŸ¥çœ‹å½“å‰ç½‘å¡ä¸æ³¨å†Œè¡¨çš„guidä¸€è‡´æ—¶çš„çŠ¶æ€</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">auto</span>&amp; it : setRegGuid)</span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">// #1 åˆ¤æ–­æ˜¯å¦å®‰è£…äº† è™šæ‹Ÿç½‘å¡</span></span><br><span class="line"><span class="type">int</span> minSize = <span class="built_in">min</span>(strComGuid.<span class="built_in">size</span>(), it.<span class="built_in">size</span>());</span><br><span class="line"><span class="keyword">if</span> (it.<span class="built_in">compare</span>(<span class="number">0</span>, minSize, strComGuid, <span class="number">0</span>, minSize) == <span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line">ncStausList[properties-&gt;Status] = properties-&gt;pszwDeviceName;</span><br><span class="line"></span><br><span class="line"><span class="comment">// #2 å·²å®‰è£…</span></span><br><span class="line">bIsInstalledNcCard = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// #3 åˆ¤æ–­æ˜¯å¦è¢«ç¦ç”¨</span></span><br><span class="line"><span class="keyword">if</span> (NCS_DISCONNECTED == properties-&gt;Status)</span><br><span class="line">&#123;</span><br><span class="line">pNetConnection-&gt;<span class="built_in">Connect</span>();</span><br><span class="line"><span class="built_in">SP_LOGI</span>(<span class="string">&quot;%s [NcCard] ReConnect&quot;</span>, __SP_FUNC__);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (pNetConnection)</span><br><span class="line">&#123;</span><br><span class="line">pNetConnection-&gt;<span class="built_in">Release</span>();</span><br><span class="line">pNetConnection = <span class="literal">nullptr</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (pEnum)</span><br><span class="line">&#123;</span><br><span class="line">pEnum-&gt;<span class="built_in">Release</span>();</span><br><span class="line">pEnum = <span class="literal">nullptr</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// T2 ç½‘å¡å¯ç”¨æ—¶ï¼Œåˆ¤æ–­æ˜¯å¦æœ‰ä¸šåŠ¡éœ€è¦å¼€å¯</span></span><br><span class="line"><span class="keyword">if</span> (g_sp_trust_model &amp;&amp; g_sp_trust_model-&gt;<span class="built_in">Session</span>()-&gt;<span class="built_in">NeedsL3Tunnel</span>() &amp;&amp; <span class="comment">// æœ‰ä¸‰å±‚ä¸šåŠ¡</span></span><br><span class="line">!g_sp_trust_model-&gt;<span class="built_in">Session</span>()-&gt;<span class="built_in">IsTunnelSvrsEmpty</span>() &amp;&amp; <span class="comment">// æœåŠ¡ä¸ä¸ºç©º</span></span><br><span class="line">g_sp_trust_model-&gt;<span class="built_in">Session</span>()-&gt;<span class="built_in">IsOnline</span>() &amp;&amp;  <span class="comment">// ä¼šè¯åœ¨çº¿</span></span><br><span class="line">g_bNetWorkOnline) <span class="comment">// å¿…é¡»è”ç½‘</span></span><br><span class="line">&#123;</span><br><span class="line">iRePtunFlag = (iRePtunFlag &gt; <span class="number">300</span>) ? <span class="number">0</span> : ++iRePtunFlag;</span><br><span class="line"><span class="keyword">if</span> (ncStausList.<span class="built_in">find</span>(NCS_CONNECTED) == ncStausList.<span class="built_in">end</span>() &amp;&amp; (iRePtunFlag % <span class="number">30</span> == <span class="number">0</span>))</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">SP_LOGI</span>(<span class="string">&quot;%s [NcCard] Auto Detect ReConnect PTUN&quot;</span>, __SP_FUNC__);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (iReLoadFlag == <span class="number">5</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">SP_LOGI</span>(<span class="string">&quot;%s [NcCard] Auto Detect ReConnect PTUN FAILED. RUN TIMES OVER 5, NECT:[NO OPTION]&quot;</span>, __SP_FUNC__);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">handleReStartNc</span>();</span><br><span class="line"></span><br><span class="line"><span class="built_in">Sleep</span>(<span class="number">5</span> * <span class="number">1000</span>);</span><br><span class="line"></span><br><span class="line">iReLoadFlag++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (ncStausList.<span class="built_in">find</span>(NCS_CONNECTED) != ncStausList.<span class="built_in">end</span>())</span><br><span class="line">&#123;</span><br><span class="line">iReLoadFlag = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">__REINSTALL:</span><br><span class="line"></span><br><span class="line"><span class="built_in">CoUninitialize</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="literal">false</span> == bIsInstalledNcCard) <span class="comment">// æœªå®‰è£…ï¼Œé‡æ–°å®‰è£…</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">// #1 æœªå®‰è£…ï¼Œé‡æ–°å®‰è£…</span></span><br><span class="line"><span class="keyword">if</span> (<span class="literal">false</span> == bIsInstalledNcCard)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">SP_DEV_LOGW</span>(<span class="string">&quot;[NetCard] Detect Nc Card Not Installed&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// #2 é‡æ–°å®‰è£…</span></span><br><span class="line">bIsInstalledNcCard = <span class="literal">true</span>;</span><br><span class="line"><span class="function">std::thread <span class="title">installCardThread</span><span class="params">([] &#123;</span></span></span><br><span class="line"><span class="params"><span class="function">g_sp_trust_model-&gt;NotifyUpMessage(SP_TRUST_TOPIC_MSG_NC_INSTALL, SPJSONObject(), <span class="number">100</span>);</span></span></span><br><span class="line"><span class="params"><span class="function">&#125;)</span></span>;</span><br><span class="line">installCardThread.<span class="built_in">detach</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// #3 ç­‰å¾…å®¢æˆ·ç«¯å®‰è£…</span></span><br><span class="line"><span class="built_in">Sleep</span>(<span class="number">15</span> * <span class="number">1000</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">Sleep</span>(<span class="number">1</span> * <span class="number">1000</span>); <span class="comment">// æ¯ä¸€ç§’æ£€æŸ¥ä¸€æ¬¡</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125; <span class="keyword">while</span> (<span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="ç½‘å¡æ˜¯å¦å­˜åœ¨"><a href="#ç½‘å¡æ˜¯å¦å­˜åœ¨" class="headerlink" title="ç½‘å¡æ˜¯å¦å­˜åœ¨"></a>ç½‘å¡æ˜¯å¦å­˜åœ¨</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">IsExistNcCard</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">bool</span> bIsExist = <span class="literal">false</span>;</span><br><span class="line"><span class="type">int</span> nNetCardSize = <span class="number">20</span>;</span><br><span class="line"></span><br><span class="line"><span class="function">std::shared_ptr&lt;IP_ADAPTER_INFO&gt; <span class="title">pIpAdapterInfo</span><span class="params">(<span class="keyword">new</span> IP_ADAPTER_INFO[nNetCardSize])</span></span>;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">long</span> stSize = <span class="built_in">sizeof</span>(IP_ADAPTER_INFO) * nNetCardSize;</span><br><span class="line"><span class="comment">//è·å–æ‰€æœ‰ç½‘å¡ä¿¡æ¯ï¼Œå‚æ•°äºŒä¸ºè¾“å…¥è¾“å‡ºå‚æ•° </span></span><br><span class="line"><span class="type">int</span> nRel = <span class="built_in">GetAdaptersInfo</span>(pIpAdapterInfo.<span class="built_in">get</span>(), &amp;stSize);</span><br><span class="line"><span class="comment">// ç©ºé—´ä¸è¶³</span></span><br><span class="line"><span class="keyword">if</span> (ERROR_BUFFER_OVERFLOW == nRel) &#123;</span><br><span class="line"></span><br><span class="line">pIpAdapterInfo.<span class="built_in">reset</span>(<span class="keyword">new</span> IP_ADAPTER_INFO[stSize]);</span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">GetAdaptersInfo</span>(pIpAdapterInfo.<span class="built_in">get</span>(), &amp;stSize) != NO_ERROR)</span><br><span class="line">&#123;</span><br><span class="line">std::cout &lt;&lt; <span class="string">&quot;Failed to get adapter info&quot;</span> &lt;&lt; std::endl;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">PIP_ADAPTER_INFO cur = pIpAdapterInfo.<span class="built_in">get</span>();</span><br><span class="line"><span class="comment">// å¤šä¸ªç½‘å¡ é€šè¿‡é“¾è¡¨å½¢å¼é“¾æ¥èµ·æ¥çš„</span></span><br><span class="line">std::string netdesc;</span><br><span class="line">std::string netip;</span><br><span class="line"><span class="keyword">while</span> (cur) &#123;</span><br><span class="line"></span><br><span class="line">netdesc = cur-&gt;Description;</span><br><span class="line"><span class="keyword">switch</span> (cur-&gt;Type) &#123;</span><br><span class="line"><span class="keyword">case</span> MIB_IF_TYPE_OTHER:</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> MIB_IF_TYPE_ETHERNET:</span><br><span class="line">&#123;</span><br><span class="line">IP_ADDR_STRING* pIpAddrString = &amp;(cur-&gt;IpAddressList);</span><br><span class="line">netip = pIpAddrString-&gt;IpAddress.String;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> MIB_IF_TYPE_TOKENRING:</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> MIB_IF_TYPE_FDDI:</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> MIB_IF_TYPE_PPP:</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> MIB_IF_TYPE_LOOPBACK:</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> MIB_IF_TYPE_SLIP:</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">default</span>:<span class="comment">//æ— çº¿ç½‘å¡,Unknown type</span></span><br><span class="line">&#123;</span><br><span class="line">IP_ADDR_STRING* pIpAddrString = &amp;(cur-&gt;IpAddressList);</span><br><span class="line">netip = pIpAddrString-&gt;IpAddress.String;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">char</span> hex[<span class="number">16</span>] = &#123; <span class="string">&#x27;0&#x27;</span>,<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;2&#x27;</span>,<span class="string">&#x27;3&#x27;</span>,<span class="string">&#x27;4&#x27;</span>,<span class="string">&#x27;5&#x27;</span>,<span class="string">&#x27;6&#x27;</span>,<span class="string">&#x27;7&#x27;</span>,<span class="string">&#x27;8&#x27;</span>,<span class="string">&#x27;9&#x27;</span>,<span class="string">&#x27;A&#x27;</span>,<span class="string">&#x27;B&#x27;</span>,<span class="string">&#x27;C&#x27;</span>,<span class="string">&#x27;D&#x27;</span>,<span class="string">&#x27;E&#x27;</span>,<span class="string">&#x27;F&#x27;</span> &#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// mac åœ°å€ä¸€èˆ¬6ä¸ªå­—èŠ‚ </span></span><br><span class="line"><span class="comment">// mac äºŒè¿›åˆ¶è½¬16è¿›åˆ¶å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="type">char</span> macStr[<span class="number">18</span>] = &#123; <span class="number">0</span> &#125;;<span class="comment">//12+5+1</span></span><br><span class="line"><span class="type">int</span> k = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (UINT j = <span class="number">0</span>; j &lt; cur-&gt;AddressLength; j++) &#123;</span><br><span class="line">macStr[k++] = hex[(cur-&gt;Address[j] &amp; <span class="number">0xf0</span>) &gt;&gt; <span class="number">4</span>];</span><br><span class="line">macStr[k++] = hex[cur-&gt;Address[j] &amp; <span class="number">0x0f</span>];</span><br><span class="line">macStr[k++] = <span class="string">&#x27;-&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (k &lt; <span class="number">18</span> &amp;&amp; k &gt; <span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line">macStr[k - <span class="number">1</span>] = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">cur = cur-&gt;Next;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ‰¾åˆ° &quot;TrustAgent VNIC&quot;</span></span><br><span class="line"><span class="keyword">if</span> (netdesc.<span class="built_in">find</span>(<span class="string">&quot;TrustAgent VNIC&quot;</span>) != std::string::npos)</span><br><span class="line">&#123;</span><br><span class="line">bIsExist = <span class="literal">true</span>;</span><br><span class="line"><span class="keyword">goto</span> _END_;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">_END_:</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> bIsExist;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> OS </category>
          
          <category> Windows </category>
          
          <category> ç½‘ç»œhelper </category>
          
      </categories>
      
      
        <tags>
            
            <tag> windows </tag>
            
            <tag> ç½‘å¡ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¸€ä¸ªå®Œæ•´çš„wfpé©±åŠ¨</title>
      <link href="/OS/Windows/%E9%A9%B1%E5%8A%A8/%E4%B8%80%E4%B8%AA%E5%AE%8C%E6%95%B4%E5%9C%B0wfp%E9%A9%B1%E5%8A%A8/"/>
      <url>/OS/Windows/%E9%A9%B1%E5%8A%A8/%E4%B8%80%E4%B8%AA%E5%AE%8C%E6%95%B4%E5%9C%B0wfp%E9%A9%B1%E5%8A%A8/</url>
      
        <content type="html"><![CDATA[<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;ntddk.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">pragma</span> <span class="keyword">warning</span>(push)</span></span><br><span class="line"><span class="meta">#<span class="keyword">pragma</span> <span class="keyword">warning</span>(disable:4201)       <span class="comment">// unnamed struct/union</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">pragma</span> <span class="keyword">warning</span>(disable:4995)</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;fwpsk.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">pragma</span> <span class="keyword">warning</span>(pop)</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;ndis.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;fwpmk.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;limits.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;ws2ipdef.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;in6addr.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;ip2string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;strsafe.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> INITGUID</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;guiddef.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> bool BOOLEAN</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> true TRUE </span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> false FALSE</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> DEVICE_NAME <span class="string">L&quot;\\Device\\WFP_TEST&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> DEVICE_DOSNAME <span class="string">L&quot;\\DosDevices\\WFP_TEST&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> kmalloc(_s) ExAllocatePoolWithTag(NonPagedPool, _s, <span class="string">&#x27;SYSQ&#x27;</span>)</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> kfree(_p) ExFreePool(_p)</span></span><br><span class="line"></span><br><span class="line">DEFINE_GUID <span class="comment">// &#123;6812FC83-7D3E-499a-A012-55E0D85F348B&#125;</span></span><br><span class="line">(</span><br><span class="line">GUID_ALE_AUTH_CONNECT_CALLOUT_V4,</span><br><span class="line"><span class="number">0x6812fc83</span>,</span><br><span class="line"><span class="number">0x7d3e</span>,</span><br><span class="line"><span class="number">0x499a</span>,</span><br><span class="line"><span class="number">0xa0</span>, <span class="number">0x12</span>, <span class="number">0x55</span>, <span class="number">0xe0</span>, <span class="number">0xd8</span>, <span class="number">0x5f</span>, <span class="number">0x34</span>, <span class="number">0x8b</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">PDEVICE_OBJECT  gDevObj;</span><br><span class="line"></span><br><span class="line">HANDLEgEngineHandle = <span class="number">0</span>;</span><br><span class="line">HANDLEgInjectHandle = <span class="number">0</span>;</span><br><span class="line"><span class="comment">//CalloutId</span></span><br><span class="line">UINT32gAleConnectCalloutId = <span class="number">0</span>;</span><br><span class="line"><span class="comment">//FilterId</span></span><br><span class="line">UINT64gAleConnectFilterId = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">ä»¥ä¸‹ä¸¤ä¸ªå›è°ƒå‡½æ•°æ²¡å•¥ç”¨</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function">NTSTATUS NTAPI <span class="title">WallNotifyFn</span></span></span><br><span class="line"><span class="function"><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">IN FWPS_CALLOUT_NOTIFY_TYPE  notifyType,</span></span></span><br><span class="line"><span class="params"><span class="function">IN <span class="type">const</span> GUID  *filterKey,</span></span></span><br><span class="line"><span class="params"><span class="function">IN <span class="type">const</span> FWPS_FILTER  *filter</span></span></span><br><span class="line"><span class="params"><span class="function">)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">KdPrint</span>((<span class="string">&quot;NotifyFn\n&quot;</span>));</span><br><span class="line"><span class="keyword">return</span> STATUS_SUCCESS;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">VOID NTAPI <span class="title">WallFlowDeleteFn</span></span></span><br><span class="line"><span class="function"><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">IN UINT16  layerId,</span></span></span><br><span class="line"><span class="params"><span class="function">IN UINT32  calloutId,</span></span></span><br><span class="line"><span class="params"><span class="function">IN UINT64  flowContext</span></span></span><br><span class="line"><span class="params"><span class="function">)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">KdPrint</span>((<span class="string">&quot;FlowDeleteFn\n&quot;</span>));</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åè®®ä»£ç è½¬ä¸ºåç§°</span></span><br><span class="line"><span class="function"><span class="type">char</span>* <span class="title">ProtocolIdToName</span><span class="params">(UINT16 id)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">char</span> *ProtocolName = <span class="built_in">kmalloc</span>(<span class="number">16</span>);</span><br><span class="line"><span class="built_in">RtlZeroMemory</span>(ProtocolName,<span class="number">16</span>);</span><br><span class="line"><span class="keyword">switch</span> (id)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line"><span class="built_in">strcpy_s</span>(ProtocolName, <span class="number">4</span> + <span class="number">1</span>, <span class="string">&quot;ICMP&quot;</span>);</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line"><span class="built_in">strcpy_s</span>(ProtocolName, <span class="number">4</span> + <span class="number">1</span>, <span class="string">&quot;IGMP&quot;</span>);</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="number">6</span>:</span><br><span class="line"><span class="built_in">strcpy_s</span>(ProtocolName, <span class="number">3</span> + <span class="number">1</span>, <span class="string">&quot;TCP&quot;</span>);</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="number">17</span>:</span><br><span class="line"><span class="built_in">strcpy_s</span>(ProtocolName, <span class="number">3</span> + <span class="number">1</span>, <span class="string">&quot;UDP&quot;</span>);</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="number">27</span>:</span><br><span class="line"><span class="built_in">strcpy_s</span>(ProtocolName, <span class="number">3</span> + <span class="number">1</span>, <span class="string">&quot;RDP&quot;</span>);</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">default</span>:</span><br><span class="line"><span class="built_in">strcpy_s</span>(ProtocolName, <span class="number">7</span> + <span class="number">1</span>, <span class="string">&quot;UNKNOWN&quot;</span>);</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> ProtocolName;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æœ€é‡è¦çš„è¿‡æ»¤å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="type">void</span> NTAPI <span class="title">WallALEConnectClassify</span></span></span><br><span class="line"><span class="function"><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">IN <span class="type">const</span> FWPS_INCOMING_VALUES0* inFixedValues,<span class="comment">//æ­¤ç»“æ„åŒ…å«ç­›é€‰å±‚ä¸Šæ¯ä¸ªæ•°æ®å­—æ®µçš„å€¼  </span></span></span></span><br><span class="line"><span class="params"><span class="function"><span class="comment">//incomingValue[index] =&gt; indexçš„å€¼æ˜¯æšä¸¾ç±»å‹FWPS_FIELDS_ALE_AUTH_CONNECT_V4,</span></span></span></span><br><span class="line"><span class="params"><span class="function"><span class="comment">//æšä¸¾åå­—è¯´æ˜äº†è¯¥å€¼çš„ç±»å‹ä¾‹å¦‚:FWPS_FIELD_ALE_AUTH_CONNECT_V4_IP_LOCAL_ADDRESS å°±æ˜¯æœ¬åœ°IP</span></span></span></span><br><span class="line"><span class="params"><span class="function"></span></span></span><br><span class="line"><span class="params"><span class="function">IN <span class="type">const</span> FWPS_INCOMING_METADATA_VALUES0* inMetaValues,<span class="comment">//æ­¤ç»“æ„åŒ…å«ç­›é€‰å±‚ä¸Šæ¯ä¸ªå…ƒæ•°æ®å­—æ®µçš„å€¼ã€‚</span></span></span></span><br><span class="line"><span class="params"><span class="function">IN OUT <span class="type">void</span>* layerData,<span class="comment">//æŒ‡å‘ç»“æ„çš„æŒ‡é’ˆï¼Œè¯¥ç»“æ„æè¿°æ­£åœ¨è¿‡æ»¤çš„å±‚ä¸Šçš„åŸå§‹æ•°æ®ã€‚æ­¤å‚æ•°å¯èƒ½ä¸ºNULLï¼Œ</span></span></span></span><br><span class="line"><span class="params"><span class="function"><span class="comment">//è¿™å–å†³äºæ‰€ç­›é€‰çš„å±‚å’Œè°ƒç”¨classfyFn0æ ‡æ³¨å‡½æ•°çš„æ¡ä»¶ã€‚</span></span></span></span><br><span class="line"><span class="params"><span class="function"><span class="comment">//å¯¹äºæµå±‚ï¼Œæ­¤å‚æ•°æŒ‡å‘FWPS_stream_Callout_IO_PACKET 0ç»“æ„ã€‚</span></span></span></span><br><span class="line"><span class="params"><span class="function"><span class="comment">//å¯¹äºæ‰€æœ‰å…¶ä»–å±‚ï¼Œå¦‚æœNetBufferListç»“æ„ä¸æ˜¯NULLï¼Œåˆ™è¯¥å‚æ•°æŒ‡å‘è¯¥ç»“æ„ã€‚</span></span></span></span><br><span class="line"><span class="params"><span class="function">IN <span class="type">const</span> <span class="type">void</span>* classifyContext,<span class="comment">//ç”±è¿‡æ»¤å™¨å¼•æ“æŒ‡å‘ä¸æ ‡æ³¨é©±åŠ¨ç¨‹åºå…³è”çš„ä¸Šä¸‹æ–‡æ•°æ®çš„æŒ‡é’ˆ æ²¡æœ‰æ‰¾å‡ºè¯¥æŒ‡é’ˆç±»å‹</span></span></span></span><br><span class="line"><span class="params"><span class="function">IN <span class="type">const</span> FWPS_FILTER* filter,<span class="comment">//æŒ‡å‘FWPS_FILTER1ç»“æ„çš„æŒ‡é’ˆã€‚æ­¤ç»“æ„æè¿°æŒ‡å®šç­›é€‰å™¨æ“ä½œçš„æ ‡æ³¨çš„ç­›é€‰å™¨ã€‚</span></span></span></span><br><span class="line"><span class="params"><span class="function">IN UINT64 flowContext,<span class="comment">//åŒ…å«ä¸æ•°æ®æµå…³è”çš„ä¸Šä¸‹æ–‡çš„UINT 64ç±»å‹å˜é‡ã€‚å¦‚æœæ²¡æœ‰ä¸æ•°æ®æµç›¸å…³è”çš„ä¸Šä¸‹æ–‡ï¼Œåˆ™æ­¤å‚æ•°ä¸ºé›¶ã€‚</span></span></span></span><br><span class="line"><span class="params"><span class="function"><span class="comment">//å¦‚æœåœ¨ä¸æ”¯æŒæ•°æ®æµçš„è¿‡æ»¤å±‚å°†æ ‡æ³¨æ·»åŠ åˆ°ç­›é€‰å¼•æ“ä¸­ï¼Œåˆ™clamfyFn1å›è°ƒå‡½æ•°åº”å¿½ç•¥æ­¤å‚æ•°</span></span></span></span><br><span class="line"><span class="params"><span class="function">OUT FWPS_CLASSIFY_OUT* classifyOut <span class="comment">//æŒ‡å‘FWPS_GARGY_OUT 0ç»“æ„çš„æŒ‡é’ˆï¼Œè¯¥ç»“æ„æ¥æ”¶clamfyFn1å›è°ƒå‡½æ•°è¿”å›ç»™è°ƒç”¨æ–¹çš„ä»»ä½•æ•°æ®</span></span></span></span><br><span class="line"><span class="params"><span class="function">)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="type">char</span> *ProtocolName = <span class="literal">NULL</span>;</span><br><span class="line">DWORD LocalIp, RemoteIP;</span><br><span class="line">PWCHAR Path = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">&#123;</span><br><span class="line">Path = <span class="built_in">ExAllocatePoolWithTag</span>(NonPagedPool, inMetaValues-&gt;processPath-&gt;size+<span class="number">2</span>, <span class="string">&#x27;NET&#x27;</span>);</span><br><span class="line"><span class="keyword">if</span> (<span class="literal">NULL</span>==Path)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">RtlZeroMemory</span>(Path, inMetaValues-&gt;processPath-&gt;size + <span class="number">2</span>);</span><br><span class="line"><span class="built_in">wcscpy_s</span>(Path, inMetaValues-&gt;processPath-&gt;size / <span class="number">2</span>, (WCHAR*)inMetaValues-&gt;processPath-&gt;data);</span><br><span class="line"></span><br><span class="line">LocalIp = inFixedValues-&gt;incomingValue[FWPS_FIELD_ALE_AUTH_CONNECT_V4_IP_LOCAL_ADDRESS].value.uint32;</span><br><span class="line">RemoteIP = inFixedValues-&gt;incomingValue[FWPS_FIELD_ALE_AUTH_CONNECT_V4_IP_REMOTE_ADDRESS].value.uint32;</span><br><span class="line">ProtocolName = <span class="built_in">ProtocolIdToName</span>(inFixedValues-&gt;incomingValue[FWPS_FIELD_ALE_AUTH_CONNECT_V4_IP_PROTOCOL].value.uint16);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">DbgPrint</span>(<span class="string">&quot;è¿›ç¨‹ID : %d&quot;</span>, (DWORD)(inMetaValues-&gt;processId));</span><br><span class="line"><span class="built_in">DbgPrint</span>(<span class="string">&quot;Path=%S&quot;</span>, Path);</span><br><span class="line"><span class="built_in">DbgPrint</span>(<span class="string">&quot;æœ¬åœ°åœ°å€=%u.%u.%u.%u &quot;</span>, (LocalIp &gt;&gt; <span class="number">24</span>) &amp; <span class="number">0xFF</span>, (LocalIp &gt;&gt; <span class="number">16</span>) &amp; <span class="number">0xFF</span>, (LocalIp &gt;&gt; <span class="number">8</span>) &amp; <span class="number">0xFF</span>, LocalIp &amp; <span class="number">0xFF</span>);</span><br><span class="line"><span class="built_in">DbgPrint</span>(<span class="string">&quot;ç«¯å£%d\n&quot;</span>, inFixedValues-&gt;incomingValue[FWPS_FIELD_ALE_AUTH_CONNECT_V4_IP_LOCAL_PORT].value.uint16);</span><br><span class="line"></span><br><span class="line"><span class="built_in">DbgPrint</span>(<span class="string">&quot;è¿œç¨‹åœ°å€=%u.%u.%u.%u &quot;</span>, (RemoteIP &gt;&gt; <span class="number">24</span>) &amp; <span class="number">0xFF</span>, (RemoteIP &gt;&gt; <span class="number">16</span>) &amp; <span class="number">0xFF</span>, (RemoteIP &gt;&gt; <span class="number">8</span>) &amp; <span class="number">0xFF</span>, RemoteIP &amp; <span class="number">0xFF</span>);</span><br><span class="line"><span class="built_in">DbgPrint</span>(<span class="string">&quot;ç«¯å£%d\n&quot;</span>, inFixedValues-&gt;incomingValue[FWPS_FIELD_ALE_AUTH_CONNECT_V4_IP_REMOTE_PORT].value.uint16);</span><br><span class="line"><span class="built_in">DbgPrint</span>(<span class="string">&quot;åè®®å: %s\n&quot;</span>, ProtocolName);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">kfree</span>(ProtocolName);</span><br><span class="line">&#125; <span class="keyword">while</span> (<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="literal">NULL</span> != Path)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">ExFreePoolWithTag</span>(Path, <span class="string">&#x27;NET&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line">classifyOut-&gt;actionType = FWP_ACTION_PERMIT;<span class="comment">//å…è®¸è¿æ¥</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">NTSTATUS <span class="title">RegisterCalloutForLayer</span></span></span><br><span class="line"><span class="function"><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">IN <span class="type">const</span> GUID* layerKey,</span></span></span><br><span class="line"><span class="params"><span class="function">IN <span class="type">const</span> GUID* calloutKey,</span></span></span><br><span class="line"><span class="params"><span class="function">IN FWPS_CALLOUT_CLASSIFY_FN classifyFn,</span></span></span><br><span class="line"><span class="params"><span class="function">IN FWPS_CALLOUT_NOTIFY_FN notifyFn,</span></span></span><br><span class="line"><span class="params"><span class="function">IN FWPS_CALLOUT_FLOW_DELETE_NOTIFY_FN flowDeleteNotifyFn,</span></span></span><br><span class="line"><span class="params"><span class="function">OUT UINT32* calloutId,   <span class="comment">//æ³¨å†Œcalloutæ—¶è¿”å›æ­¤ID</span></span></span></span><br><span class="line"><span class="params"><span class="function">OUT UINT64* filterId</span></span></span><br><span class="line"><span class="params"><span class="function">)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">NTSTATUS        status = STATUS_SUCCESS;</span><br><span class="line">FWPS_CALLOUT    sCallout = &#123; <span class="number">0</span> &#125;;</span><br><span class="line">FWPM_FILTER     mFilter = &#123; <span class="number">0</span> &#125;;</span><br><span class="line">FWPM_FILTER_CONDITION mFilter_condition[<span class="number">1</span>] = &#123; <span class="number">0</span> &#125;;</span><br><span class="line">FWPM_CALLOUT    mCallout = &#123; <span class="number">0</span> &#125;;</span><br><span class="line">FWPM_DISPLAY_DATA mDispData = &#123; <span class="number">0</span> &#125;;</span><br><span class="line">BOOLEAN         bCalloutRegistered = FALSE;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è¿™é‡ŒæœªæŒ‡å®šsCallout.flags</span></span><br><span class="line">sCallout.calloutKey = *calloutKey;   <span class="comment">//ä¸€ä¸ªå”¯ä¸€çš„GUIDå€¼,ç”¨æ¥æ ‡è®°æ­¤callout</span></span><br><span class="line">sCallout.classifyFn = classifyFn;    <span class="comment">//æ¯å½“å›è°ƒå¤„ç†ç½‘ç»œæ•°æ®æ—¶ï¼Œè¿‡æ»¤å™¨å¼•æ“å°†è°ƒç”¨æ­¤å‡½æ•°,å¤„ç†ç½‘ç»œæ•°æ®åœ¨è¿™ä¸ªå›è°ƒå‡½æ•°é‡Œé¢å¤„ç†.</span></span><br><span class="line">sCallout.flowDeleteFn = flowDeleteNotifyFn;  <span class="comment">//æ¯å½“ç»ˆæ­¢ç”±å›è°ƒå¤„ç†çš„æ•°æ®æµæ—¶ï¼Œç­›é€‰å™¨å¼•æ“å°†è°ƒç”¨æ­¤å‡½æ•°</span></span><br><span class="line">sCallout.notifyFn = notifyFn; <span class="comment">//å¸è½½calloutæ—¶,ä¼šè°ƒç”¨è¿™ä¸ªå›è°ƒ</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//è¦ä½¿ç”¨å“ªä¸ªè®¾å¤‡å¯¹è±¡æ³¨å†Œ</span></span><br><span class="line">status = <span class="built_in">FwpsCalloutRegister</span>(gDevObj, <span class="comment">//è‡ªå·±åˆ›å»ºçš„è®¾å¤‡å¯¹è±¡</span></span><br><span class="line">&amp;sCallout, <span class="comment">//è¯¥ç»“æ„ä½“æœ‰ç”¨çš„æ˜¯æŒ‡å®šäº†classifyFnå›è°ƒ,å¤„ç†è¿æ¥æ—¶çš„æ•°æ®å°±ä¼šç”¨åˆ°è¿™ä¸ªå›è°ƒå‡½æ•°.</span></span><br><span class="line">calloutId  <span class="comment">//è¿”å›çš„calloutID ,å–æ¶ˆæ³¨å†Œcalloutä¼šç”¨åˆ°è¿™ä¸ªå€¼</span></span><br><span class="line">);</span><br><span class="line"><span class="keyword">if</span> (!<span class="built_in">NT_SUCCESS</span>(status))</span><br><span class="line"><span class="keyword">goto</span> exit;</span><br><span class="line"></span><br><span class="line">bCalloutRegistered = TRUE;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">mDispData.name = <span class="string">L&quot;WFP TEST&quot;</span>;        <span class="comment">//å¯é€‰çš„åå­—</span></span><br><span class="line">mDispData.description = <span class="string">L&quot;yxp&#x27;s WFP TEST&quot;</span>;   <span class="comment">//å¯é€‰çš„æè¿°</span></span><br><span class="line"><span class="comment">//ä½ æ„Ÿå…´è¶£çš„å†…å®¹</span></span><br><span class="line">mCallout.applicableLayer = *layerKey;  <span class="comment">//è¿‡æ»¤å±‚æ ‡è¯†ç¬¦   æ­¤è¿‡æ»¤å±‚å…è®¸æˆæƒå¯¹ä¼ å‡ºtcpè¿æ¥çš„è¿æ¥è¯·æ±‚ï¼Œ</span></span><br><span class="line"><span class="comment">//ä»¥åŠåŸºäºå‘é€çš„ç¬¬ä¸€ä¸ªæ•°æ®åŒ…æˆæƒä¼ å‡ºétcpé€šä¿¡é‡</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//ä½ æ„Ÿå…´è¶£çš„å†…å®¹çš„GUID</span></span><br><span class="line">mCallout.calloutKey = *calloutKey;   <span class="comment">//è¯¥GUIDå€¼å¿…é¡»ä¸FwpsCalloutRegisteræ³¨å†Œæ—¶çš„GUIDå€¼ç›¸åŒ.</span></span><br><span class="line">mCallout.displayData = mDispData;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å‘è¿‡æ»¤å¼•æ“æ·»åŠ callout</span></span><br><span class="line">status = <span class="built_in">FwpmCalloutAdd</span>(gEngineHandle,</span><br><span class="line">&amp;mCallout,  <span class="comment">//flagsæ²¡æœ‰è®¾ç½®</span></span><br><span class="line"><span class="literal">NULL</span>,  <span class="comment">//å®‰å…¨æè¿°ç¬¦  å¯ä»¥ä¸ºNULL</span></span><br><span class="line"><span class="literal">NULL</span>); <span class="comment">//è¿”å›ä¸€ä¸ªID  ä¸FwpsCalloutRegisterå‡½æ•°è¿”å›çš„IDæ˜¯ç›¸åŒçš„.</span></span><br><span class="line"><span class="keyword">if</span> (!<span class="built_in">NT_SUCCESS</span>(status))</span><br><span class="line"><span class="keyword">goto</span> exit;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//FWPM_action0ç»“æ„æŒ‡å®šåœ¨æ‰€æœ‰ç­›é€‰æ¡ä»¶éƒ½ä¸ºçœŸæ—¶æ‰€é‡‡å–çš„æ“ä½œ</span></span><br><span class="line">mFilter.action.calloutKey = *calloutKey;</span><br><span class="line"><span class="comment">//äº¤ç»™calloutå¤„ç†  ç”±calloutæ¥å†³å®šè¿”å›é˜»æ­¢(block)æˆ–è€…å…è®¸(permit)</span></span><br><span class="line">mFilter.action.type = FWP_ACTION_CALLOUT_TERMINATING;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æè¿°</span></span><br><span class="line">mFilter.displayData.name = <span class="string">L&quot;WFP TEST&quot;</span>;</span><br><span class="line">mFilter.displayData.description = <span class="string">L&quot;yxp&#x27;s WFP TEST&quot;</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">mFilter.layerKey = *layerKey;<span class="comment">//è¿™ä¸ªå€¼å’ŒFwpmCalloutAddé‡Œé¢ä½¿ç”¨çš„å€¼ä¸€æ · è¿‡æ»¤å±‚æ ‡è¯†ç¬¦   æ­¤è¿‡æ»¤å±‚å…è®¸æˆæƒå¯¹ä¼ å‡ºtcpè¿æ¥çš„è¿æ¥è¯·æ±‚ï¼Œ</span></span><br><span class="line"><span class="comment">//ä»¥åŠåŸºäºå‘é€çš„ç¬¬ä¸€ä¸ªæ•°æ®åŒ…æˆæƒä¼ å‡ºétcpé€šä¿¡é‡  </span></span><br><span class="line"></span><br><span class="line"><span class="comment">//è¿‡æ»¤æ¡ä»¶æ•°</span></span><br><span class="line">mFilter.numFilterConditions = <span class="number">0</span>;</span><br><span class="line"><span class="comment">//è¿‡æ»¤æ¡ä»¶</span></span><br><span class="line">mFilter.filterCondition = mFilter_condition;</span><br><span class="line"></span><br><span class="line">mFilter.subLayerKey = FWPM_SUBLAYER_UNIVERSAL;  <span class="comment">//æ­¤å­å±‚æ‰¿è½½æ‰€æœ‰æœªåˆ†é…ç»™ä»»ä½•å…¶ä»–å­å±‚çš„ç­›é€‰å™¨</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//BFEå°†æ ¹æ®è¿‡æ»¤æ¡ä»¶è‡ªåŠ¨åˆ†é…æƒé‡</span></span><br><span class="line">mFilter.weight.type = FWP_EMPTY;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ·»åŠ ä¸€ä¸ªæ–°çš„è¿‡æ»¤å™¨å¯¹è±¡åˆ°ç³»ç»Ÿä¸­</span></span><br><span class="line">status = <span class="built_in">FwpmFilterAdd</span>(gEngineHandle, &amp;mFilter, <span class="literal">NULL</span>, filterId);</span><br><span class="line"><span class="keyword">if</span> (!<span class="built_in">NT_SUCCESS</span>(status))</span><br><span class="line"><span class="keyword">goto</span> exit;</span><br><span class="line">exit:</span><br><span class="line"><span class="keyword">if</span> (!<span class="built_in">NT_SUCCESS</span>(status))</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (bCalloutRegistered)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">FwpsCalloutUnregisterById</span>(*calloutId);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> status;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">NTSTATUS <span class="title">WallRegisterCallouts</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">NTSTATUS    status = STATUS_SUCCESS;</span><br><span class="line">BOOLEAN     bInTransaction = FALSE;</span><br><span class="line">BOOLEAN     bEngineOpened = FALSE;</span><br><span class="line">FWPM_SESSION session = &#123; <span class="number">0</span> &#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç½®æ­¤æ ‡å¿—æ—¶ï¼Œä¼šè¯ç»“æŸæ—¶å°†è‡ªåŠ¨åˆ é™¤åœ¨ä¼šè¯æœŸé—´æ·»åŠ çš„ä»»ä½•å¯¹è±¡</span></span><br><span class="line">session.flags = FWPM_SESSION_FLAG_DYNAMIC;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å¼€å¯WFPå¼•æ“</span></span><br><span class="line">status = <span class="built_in">FwpmEngineOpen</span>(<span class="literal">NULL</span>,</span><br><span class="line">RPC_C_AUTHN_WINNT,</span><br><span class="line"><span class="literal">NULL</span>,</span><br><span class="line">&amp;session,</span><br><span class="line">&amp;gEngineHandle);</span><br><span class="line"><span class="keyword">if</span> (!<span class="built_in">NT_SUCCESS</span>(status))</span><br><span class="line"><span class="keyword">goto</span> exit;</span><br><span class="line">bEngineOpened = TRUE;</span><br><span class="line"><span class="comment">// åœ¨å½“å‰ä¼šè¯ä¸­å¼€å§‹æ˜¾å¼äº‹åŠ¡</span></span><br><span class="line">status = <span class="built_in">FwpmTransactionBegin</span>(gEngineHandle, <span class="number">0</span>);</span><br><span class="line"><span class="keyword">if</span> (!<span class="built_in">NT_SUCCESS</span>(status))</span><br><span class="line"><span class="keyword">goto</span> exit;</span><br><span class="line">bInTransaction = TRUE;</span><br><span class="line"><span class="comment">//æ³¨å†Œå›è°ƒå‡½æ•°</span></span><br><span class="line">status = <span class="built_in">RegisterCalloutForLayer</span>(</span><br><span class="line">&amp;FWPM_LAYER_ALE_AUTH_CONNECT_V4,  <span class="comment">//æ­¤è¿‡æ»¤å±‚å…è®¸æˆæƒå¯¹ä¼ å‡ºtcpè¿æ¥çš„è¿æ¥è¯·æ±‚ï¼Œ</span></span><br><span class="line"><span class="comment">//ä»¥åŠåŸºäºå‘é€çš„ç¬¬ä¸€ä¸ªæ•°æ®åŒ…æˆæƒä¼ å‡ºétcpé€šä¿¡é‡</span></span><br><span class="line">&amp;GUID_ALE_AUTH_CONNECT_CALLOUT_V4,</span><br><span class="line">WallALEConnectClassify,</span><br><span class="line">WallNotifyFn,</span><br><span class="line">WallFlowDeleteFn,</span><br><span class="line">&amp;gAleConnectCalloutId,</span><br><span class="line">&amp;gAleConnectFilterId);</span><br><span class="line"><span class="keyword">if</span> (!<span class="built_in">NT_SUCCESS</span>(status))</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">DbgPrint</span>(<span class="string">&quot;RegisterCalloutForLayerå¤±è´¥!\n&quot;</span>);</span><br><span class="line"><span class="keyword">goto</span> exit;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//ç¡®è®¤æ‰€æœ‰å†…å®¹å¹¶æäº¤ï¼Œè®©å›è°ƒå‡½æ•°æ­£å¼å‘æŒ¥ä½œç”¨</span></span><br><span class="line">status = <span class="built_in">FwpmTransactionCommit</span>(gEngineHandle);</span><br><span class="line"><span class="keyword">if</span> (!<span class="built_in">NT_SUCCESS</span>(status))</span><br><span class="line"><span class="keyword">goto</span> exit;</span><br><span class="line">bInTransaction = FALSE;</span><br><span class="line">exit:</span><br><span class="line"><span class="keyword">if</span> (!<span class="built_in">NT_SUCCESS</span>(status))</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (bInTransaction)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">FwpmTransactionAbort</span>(gEngineHandle);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (bEngineOpened)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">FwpmEngineClose</span>(gEngineHandle);</span><br><span class="line">gEngineHandle = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> status;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">NTSTATUS <span class="title">WallUnRegisterCallouts</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span> (gEngineHandle != <span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">//åˆ é™¤FilterId</span></span><br><span class="line"><span class="built_in">FwpmFilterDeleteById</span>(gEngineHandle, gAleConnectFilterId);</span><br><span class="line"><span class="comment">//åˆ é™¤CalloutId</span></span><br><span class="line"><span class="built_in">FwpmCalloutDeleteById</span>(gEngineHandle, gAleConnectCalloutId);</span><br><span class="line"><span class="comment">//æ¸…ç©ºFilterId</span></span><br><span class="line">gAleConnectFilterId = <span class="number">0</span>;</span><br><span class="line"><span class="comment">//åæ³¨å†ŒCalloutId</span></span><br><span class="line"><span class="built_in">FwpsCalloutUnregisterById</span>(gAleConnectCalloutId);</span><br><span class="line"><span class="comment">//æ¸…ç©ºCalloutId</span></span><br><span class="line">gAleConnectCalloutId = <span class="number">0</span>;</span><br><span class="line"><span class="comment">//å…³é—­å¼•æ“</span></span><br><span class="line"><span class="built_in">FwpmEngineClose</span>(gEngineHandle);</span><br><span class="line">gEngineHandle = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> STATUS_SUCCESS;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">VOID <span class="title">DriverUnload</span><span class="params">(PDRIVER_OBJECT driverObject)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">NTSTATUS status;</span><br><span class="line">UNICODE_STRING  deviceDosName = &#123; <span class="number">0</span> &#125;;</span><br><span class="line">status = <span class="built_in">WallUnRegisterCallouts</span>();</span><br><span class="line"><span class="keyword">if</span> (!<span class="built_in">NT_SUCCESS</span>(status))</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">DbgPrint</span>(<span class="string">&quot;WallUnRegisterCalloutså¤±è´¥\n&quot;</span>);</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">RtlInitUnicodeString</span>(&amp;deviceDosName, DEVICE_DOSNAME);</span><br><span class="line"><span class="built_in">IoDeleteSymbolicLink</span>(&amp;deviceDosName);</span><br><span class="line"><span class="keyword">if</span> (gDevObj)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">IoDeleteDevice</span>(gDevObj);</span><br><span class="line">gDevObj = <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">DbgPrint</span>(<span class="string">&quot;é©±åŠ¨å¸è½½æˆåŠŸ\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">NTSTATUS <span class="title">DriverEntry</span><span class="params">(PDRIVER_OBJECT driverObject, PUNICODE_STRING registryPath)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">UNICODE_STRING  deviceName = &#123; <span class="number">0</span> &#125;;</span><br><span class="line">UNICODE_STRING  deviceDosName = &#123; <span class="number">0</span> &#125;;</span><br><span class="line">NTSTATUS status = STATUS_SUCCESS;</span><br><span class="line">driverObject-&gt;DriverUnload = DriverUnload;</span><br><span class="line"><span class="built_in">RtlInitUnicodeString</span>(&amp;deviceName, DEVICE_NAME);</span><br><span class="line">status = <span class="built_in">IoCreateDevice</span>(driverObject,</span><br><span class="line"><span class="number">0</span>,</span><br><span class="line">&amp;deviceName,</span><br><span class="line">FILE_DEVICE_NETWORK,</span><br><span class="line"><span class="number">0</span>,</span><br><span class="line">FALSE,</span><br><span class="line">&amp;gDevObj);</span><br><span class="line"><span class="keyword">if</span> (!<span class="built_in">NT_SUCCESS</span>(status))</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">DbgPrint</span>(<span class="string">&quot;åˆ›å»ºè®¾å¤‡å¯¹è±¡å¤±è´¥\n&quot;</span>);</span><br><span class="line"><span class="keyword">return</span> STATUS_UNSUCCESSFUL;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">RtlInitUnicodeString</span>(&amp;deviceDosName, DEVICE_DOSNAME);</span><br><span class="line">status = <span class="built_in">IoCreateSymbolicLink</span>(&amp;deviceDosName, &amp;deviceName);</span><br><span class="line"><span class="keyword">if</span> (!<span class="built_in">NT_SUCCESS</span>(status))</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">DbgPrint</span>(<span class="string">&quot;åˆ›å»ºç¬¦å·é“¾æ¥å¤±è´¥\n&quot;</span>);</span><br><span class="line"><span class="keyword">return</span> STATUS_UNSUCCESSFUL;</span><br><span class="line">&#125;</span><br><span class="line">status = <span class="built_in">WallRegisterCallouts</span>();</span><br><span class="line"><span class="keyword">if</span> (!<span class="built_in">NT_SUCCESS</span>(status))</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">DbgPrint</span>(<span class="string">&quot;WallRegisterCallouts å¤±è´¥!\n&quot;</span>);</span><br><span class="line"><span class="keyword">return</span> STATUS_UNSUCCESSFUL;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">DbgPrint</span>(<span class="string">&quot;è¿‡æ»¤é©±åŠ¨åŠ è½½æˆåŠŸ\n&quot;</span>);</span><br><span class="line"><span class="keyword">return</span> status;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> OS </category>
          
          <category> Windows </category>
          
          <category> é©±åŠ¨ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> windows </tag>
            
            <tag> é©±åŠ¨ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HelloWorldé©±åŠ¨ä¸å®‰è£…</title>
      <link href="/OS/Windows/%E9%A9%B1%E5%8A%A8/windows%E9%A9%B1%E5%8A%A8%E5%BC%80%E5%8F%91%E6%95%99%E7%A8%8B/HelloWorld%E9%A9%B1%E5%8A%A8%E4%B8%8E%E5%AE%89%E8%A3%85/"/>
      <url>/OS/Windows/%E9%A9%B1%E5%8A%A8/windows%E9%A9%B1%E5%8A%A8%E5%BC%80%E5%8F%91%E6%95%99%E7%A8%8B/HelloWorld%E9%A9%B1%E5%8A%A8%E4%B8%8E%E5%AE%89%E8%A3%85/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æ¦‚è¿°ï¼šå®ç°ä¸€ä¸ªæœ€ç®€å•çš„helloworldé©±åŠ¨ï¼Œå¾®è½¯å®˜æ–¹æœ‰ç›¸å…³æ•™ç¨‹ <a href="https://learn.microsoft.com/zh-cn/windows-hardware/drivers/gettingstarted/writing-a-very-small-kmdf--driver">ç¼–å†™ Hello World Windows é©±åŠ¨ç¨‹åº (KMDF) - Windows drivers | Microsoft Learn</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> OS </category>
          
          <category> Windows </category>
          
          <category> é©±åŠ¨ </category>
          
          <category> windowsé©±åŠ¨å¼€å‘æ•™ç¨‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> windows </tag>
            
            <tag> é©±åŠ¨ </tag>
            
            <tag> driver </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Visual Studio 2022 é©±åŠ¨å¼€å‘ç¯å¢ƒå‡†å¤‡</title>
      <link href="/OS/Windows/%E9%A9%B1%E5%8A%A8/windows%E9%A9%B1%E5%8A%A8%E5%BC%80%E5%8F%91%E6%95%99%E7%A8%8B/%E9%A9%B1%E5%8A%A8%E5%BC%80%E5%8F%91%E5%87%86%E5%A4%87(VS2022)/"/>
      <url>/OS/Windows/%E9%A9%B1%E5%8A%A8/windows%E9%A9%B1%E5%8A%A8%E5%BC%80%E5%8F%91%E6%95%99%E7%A8%8B/%E9%A9%B1%E5%8A%A8%E5%BC%80%E5%8F%91%E5%87%86%E5%A4%87(VS2022)/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æ¦‚è¿°ï¼šé©±åŠ¨å¼€å‘ç¯å¢ƒå‡†å¤‡</p></blockquote><p>[toc]</p><h1 id="æ­¥éª¤ä¸€-å®‰è£…sdkä¸wdk"><a href="#æ­¥éª¤ä¸€-å®‰è£…sdkä¸wdk" class="headerlink" title="æ­¥éª¤ä¸€ å®‰è£…sdkä¸wdk"></a>æ­¥éª¤ä¸€ å®‰è£…sdkä¸wdk</h1><p>å®‰è£…windowsç›¸å…³çš„sdk</p><p>å‚è€ƒå¾®è½¯æ–‡æ¡£ï¼š<a href="https://learn.microsoft.com/zh-cn/windows-hardware/drivers/download-the-wdk">ä¸‹è½½ Windows é©±åŠ¨ç¨‹åºå·¥å…·åŒ… (WDK) - Windows drivers | Microsoft Learn</a></p><h1 id="æ­¥éª¤äºŒ-è°ƒè¯•ä¸å®‰è£…å·¥å…·"><a href="#æ­¥éª¤äºŒ-è°ƒè¯•ä¸å®‰è£…å·¥å…·" class="headerlink" title="æ­¥éª¤äºŒ è°ƒè¯•ä¸å®‰è£…å·¥å…·"></a>æ­¥éª¤äºŒ è°ƒè¯•ä¸å®‰è£…å·¥å…·</h1><ul><li><p>ä¸‹è½½ dbgview</p><p>dbgview åœ¨ SysinternalsSuite å¥—ä»¶ä¸­ï¼Œä¸‹è½½ SysinternalsSuite å¥—ä»¶å³å¯ã€‚</p><p><a href="https://docs.microsoft.com/zh-cn/sysinternals/downloads/">https://docs.microsoft.com/zh-cn/sysinternals/downloads/</a></p></li><li><p>ä¸‹è½½é©±åŠ¨å®‰è£…å™¨</p><p>KmdManageré©±åŠ¨åŠ è½½è°ƒè¯•å·¥å…·</p><p><a href="https://www.downloadcrew.com/article/27494/kernel_mode_drivers_manager">Kernel Mode Drivers Manager 1.3 free download - Software reviews, downloads, news, free trials, freeware and full commercial software - Downloadcrew</a></p></li><li><p>PCHunter</p><p><a href="http://www.xuetr.com/">http://www.xuetr.com/</a></p></li></ul><h1 id="æ­¥éª¤ä¸‰-é©±åŠ¨æ¡†æ¶"><a href="#æ­¥éª¤ä¸‰-é©±åŠ¨æ¡†æ¶" class="headerlink" title="æ­¥éª¤ä¸‰ é©±åŠ¨æ¡†æ¶"></a>æ­¥éª¤ä¸‰ é©±åŠ¨æ¡†æ¶</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;ntddk.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// #include &lt;ntifs.h&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="function">NTSTATUS <span class="title">UnloadDriver</span><span class="params">(PDRIVER_OBJECT pDriver)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">DbgPrint</span>(<span class="string">&quot;Bye, Driver&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">NTSTATUS <span class="title">DriverEntry</span><span class="params">(PDRIVER_OBJECT pDriver, PUNICODE_STRING pReg)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">DbgPrint</span>(<span class="string">&quot;Hello World, Driver&quot;</span>);</span><br><span class="line"><span class="built_in">DbgPrint</span>(<span class="string">&quot;DRIVER ADDress, [%]&quot;</span>);</span><br><span class="line"><span class="built_in">DbgPrint</span>(<span class="string">&quot;Hello World, Driver&quot;</span>);</span><br><span class="line"></span><br><span class="line">pDriver-&gt;DriverUnload = UnloadDriver;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> STATUS_SUCCESS;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="æ­¥éª¤ä¸‰-Visual-Studioé…ç½®"><a href="#æ­¥éª¤ä¸‰-Visual-Studioé…ç½®" class="headerlink" title="æ­¥éª¤ä¸‰ Visual Studioé…ç½®"></a>æ­¥éª¤ä¸‰ Visual Studioé…ç½®</h1><ol><li>C&#x2F;C++ -&gt; å¸¸è§„ -&gt; å°†è­¦å‘Šè§†ä¸ºé”™è¯¯ -&gt; å¦</li><li>C&#x2F;C++ -&gt; å¸¸è§„ -&gt; è­¦å‘Šç­‰çº§ -&gt; ç­‰çº§3ï¼ˆä¹Ÿå¯å¿½ç•¥ï¼‰</li><li>é©±åŠ¨è¿è¡Œç¯å¢ƒ</li><li>inf2cat -&gt; å¦</li><li>ç¼–è¯‘è¿è¡Œï¼Œä¼šç”Ÿæˆsysæ–‡ä»¶</li></ol><h1 id="å…¶ä»–è¡¥å……"><a href="#å…¶ä»–è¡¥å……" class="headerlink" title="å…¶ä»–è¡¥å……"></a>å…¶ä»–è¡¥å……</h1><h2 id="ç¦ç”¨ç•Œé¢è¾“å‡ºæ— ç”¨ä¿¡æ¯"><a href="#ç¦ç”¨ç•Œé¢è¾“å‡ºæ— ç”¨ä¿¡æ¯" class="headerlink" title="ç¦ç”¨ç•Œé¢è¾“å‡ºæ— ç”¨ä¿¡æ¯"></a>ç¦ç”¨ç•Œé¢è¾“å‡ºæ— ç”¨ä¿¡æ¯</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ed nt!Kd_SXS_Mask</span><br><span class="line">ed nt!Kd_FUSION_Mask</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> OS </category>
          
          <category> Windows </category>
          
          <category> é©±åŠ¨ </category>
          
          <category> windowsé©±åŠ¨å¼€å‘æ•™ç¨‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> windows </tag>
            
            <tag> é©±åŠ¨ </tag>
            
            <tag> driver </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é©±åŠ¨å¼€å‘ç›¸å…³APIæ•´ç†</title>
      <link href="/OS/Windows/%E9%A9%B1%E5%8A%A8/windows%E9%A9%B1%E5%8A%A8%E5%BC%80%E5%8F%91%E6%95%99%E7%A8%8B/%E9%A9%B1%E5%8A%A8%E5%BC%80%E5%8F%91%E7%9B%B8%E5%85%B3%E5%87%BD%E6%95%B0%E6%95%B4%E7%90%86/"/>
      <url>/OS/Windows/%E9%A9%B1%E5%8A%A8/windows%E9%A9%B1%E5%8A%A8%E5%BC%80%E5%8F%91%E6%95%99%E7%A8%8B/%E9%A9%B1%E5%8A%A8%E5%BC%80%E5%8F%91%E7%9B%B8%E5%85%B3%E5%87%BD%E6%95%B0%E6%95%B4%E7%90%86/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æ¦‚è¿°ï¼šé©±åŠ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œç›¸å…³APIçš„å­¦ä¹ æ•´ç†</p></blockquote><p>[toc]</p><h4 id="WdfDriverCreate"><a href="#WdfDriverCreate" class="headerlink" title="WdfDriverCreate"></a>WdfDriverCreate</h4><p>WdfDriverCreate æ˜¯ Windows Driver Frameworks (WDF) ä¸­ç”¨äºåˆ›å»ºé©±åŠ¨ç¨‹åºçš„å‡½æ•°ã€‚å®ƒç”¨äºåˆå§‹åŒ–é©±åŠ¨ç¨‹åºï¼Œå¹¶å°†å…¶ä¸ Windows æ“ä½œç³»ç»Ÿè¿›è¡Œé›†æˆã€‚</p><p>WdfDriverCreate å‡½æ•°éœ€è¦å¡«å†™ä¸€ä¸ª WDFDRIVER ç»“æ„ä½“æ¥å®šä¹‰é©±åŠ¨ç¨‹åºçš„å±æ€§å’Œè¡Œä¸ºã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸è§çš„å‚æ•°ï¼š</p><ul><li>DriverName: é©±åŠ¨ç¨‹åºçš„åç§°ï¼Œç”¨äºåœ¨è°ƒè¯•å’Œæ—¥å¿—è®°å½•ä¸­æ ‡è¯†é©±åŠ¨ç¨‹åºã€‚</li><li>DriverVersion: é©±åŠ¨ç¨‹åºçš„ç‰ˆæœ¬å·ï¼Œç”¨äºæ ‡è¯†é©±åŠ¨ç¨‹åºçš„ç‰ˆæœ¬ã€‚</li><li>DeviceAddVersion: ç”¨äºæ·»åŠ æ–°è®¾å¤‡çš„ WDF å‡½æ•°ç‰ˆæœ¬ã€‚</li><li>DriverUnload: é©±åŠ¨ç¨‹åºå¸è½½æ—¶çš„å›è°ƒå‡½æ•°ï¼Œç”¨äºæ¸…ç†èµ„æºå¹¶æ‰§è¡Œå…¶ä»–å¿…è¦çš„æ“ä½œã€‚</li><li>DispatchTable: ä¸€ä¸ªåŒ…å«é©±åŠ¨ç¨‹åºå¤„ç† IRP è¯·æ±‚çš„å›è°ƒå‡½æ•°çš„è¡¨ã€‚</li><li>RegistryPath: é©±åŠ¨ç¨‹åºåœ¨æ³¨å†Œè¡¨ä¸­çš„è·¯å¾„ï¼Œç”¨äºå­˜å‚¨é…ç½®ä¿¡æ¯å’Œè®¾ç½®ã€‚</li></ul><h4 id="WdfDeviceCreate"><a href="#WdfDeviceCreate" class="headerlink" title="WdfDeviceCreate"></a>WdfDeviceCreate</h4><p>WdfDeviceCreate æ˜¯ Windows Driver Frameworks (WDF) ä¸­çš„ä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºåˆ›å»ºè®¾å¤‡å¯¹è±¡å¹¶åˆå§‹åŒ–ä¸è®¾å¤‡ç›¸å…³çš„æ•°æ®ç»“æ„ã€‚å®ƒæ˜¯ WDF ä¸­éå¸¸é‡è¦å’Œå¸¸ç”¨çš„å‡½æ•°ä¹‹ä¸€ã€‚</p><p>WdfDeviceCreate å‡½æ•°éœ€è¦å¡«å†™ä¸€ä¸ª WDFDEVICE_INIT ç»“æ„ä½“æ¥å®šä¹‰è®¾å¤‡çš„å±æ€§å’Œè¡Œä¸ºã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸è§çš„å‚æ•°ï¼š</p><ul><li>Driver: æŒ‡å‘é©±åŠ¨ç¨‹åºçš„æŒ‡é’ˆï¼Œç”¨äºå…³è”è®¾å¤‡å’Œé©±åŠ¨ç¨‹åºã€‚</li><li>DeviceAttributes: æŒ‡å‘è°ƒç”¨æ–¹åˆ†é…çš„ WDF_OBJECT_ATTRIBUTES ç»“æ„çš„æŒ‡é’ˆï¼Œè¯¥ç»“æ„åŒ…å«æ–°è®¾å¤‡çš„å±æ€§ã€‚</li><li>StackSize: è®¾å¤‡çš„å †æ ˆå¤§å°ï¼Œç”¨äºå®šä¹‰è®¾å¤‡å¯¹è±¡çš„æ‰§è¡Œç¯å¢ƒã€‚</li><li>DeviceInit: æŒ‡å‘ WDFDEVICE_INIT ç»“æ„çš„æŒ‡é’ˆçš„åœ°å€ï¼Œç”¨äºåˆå§‹åŒ–è®¾å¤‡çš„çŠ¶æ€å’Œè¡Œä¸ºã€‚</li></ul><p>åœ¨è°ƒç”¨ WdfDeviceCreate ä¹‹åï¼ŒWDF å°†ä½¿ç”¨æä¾›çš„å‚æ•°æ¥åˆ›å»ºå¹¶åˆå§‹åŒ–ä¸€ä¸ªè®¾å¤‡å¯¹è±¡ã€‚ç„¶åï¼Œè®¾å¤‡å¯ä»¥ä½¿ç”¨ WDF æä¾›çš„å…¶ä»–å‡½æ•°æ¥ç®¡ç†è®¾å¤‡çš„çŠ¶æ€ã€å¤„ç†è¯·æ±‚ä»¥åŠä¸å…¶ä»–è®¾å¤‡æˆ–é©±åŠ¨ç¨‹åºè¿›è¡Œäº¤äº’ã€‚</p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒWdfDeviceCreate æ˜¯ä¸€ä¸ªé«˜çº§åˆ«çš„å‡½æ•°ï¼Œé€šå¸¸ç”¨äºåˆ›å»ºå®Œæ•´çš„è®¾å¤‡å¯¹è±¡ã€‚å¯¹äºè¾ƒç®€å•çš„è®¾å¤‡æˆ–éœ€è¦æ›´ç²¾ç»†æ§åˆ¶çš„æƒ…å†µï¼Œå¯èƒ½éœ€è¦ä½¿ç”¨å…¶ä»– WDF å‡½æ•°æ¥æ‰‹åŠ¨åˆ›å»ºå’Œé…ç½®è®¾å¤‡å¯¹è±¡ã€‚åŒæ—¶ï¼Œåœ¨ä½¿ç”¨ WdfDeviceCreate å’Œå…¶ä»– WDF å‡½æ•°æ—¶ï¼Œåº”æ³¨æ„éµå¾ªæ­£ç¡®çš„ä½¿ç”¨æ–¹æ³•å’Œè§„èŒƒï¼Œä»¥é¿å…äº§ç”Ÿæ½œåœ¨çš„é—®é¢˜å’Œé£é™©ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> OS </category>
          
          <category> Windows </category>
          
          <category> é©±åŠ¨ </category>
          
          <category> windowsé©±åŠ¨å¼€å‘æ•™ç¨‹ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>ç›‘æ§ç½‘å¡äº‹ä»¶</title>
      <link href="/OS/Windows/%E7%BD%91%E7%BB%9Chelper/%E7%9B%91%E6%8E%A7%E7%BD%91%E5%8D%A1%E7%A6%81%E7%94%A8%E4%BA%8B%E4%BB%B6/"/>
      <url>/OS/Windows/%E7%BD%91%E7%BB%9Chelper/%E7%9B%91%E6%8E%A7%E7%BD%91%E5%8D%A1%E7%A6%81%E7%94%A8%E4%BA%8B%E4%BB%B6/</url>
      
        <content type="html"><![CDATA[<h1 id="æ–¹æ³•ä¸€"><a href="#æ–¹æ³•ä¸€" class="headerlink" title="æ–¹æ³•ä¸€"></a>æ–¹æ³•ä¸€</h1><h3 id=""><a href="#" class="headerlink" title=""></a></h3><p>å¯ä»¥ä½¿ç”¨Win32 APIä¸­çš„NotifySubscribeCalloutså’ŒNotifyRegisterNetEvent apiå‡½æ•°æ¥ç›‘æ§ç½‘ç»œé€‚é…å™¨çŠ¶æ€çš„æ”¹å˜ï¼ŒåŒ…æ‹¬è¢«ç¦ç”¨çš„äº‹ä»¶ã€‚</p><p>å…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š</p><ol><li><p>ä½¿ç”¨NotifySubscribeCalloutså‡½æ•°æ¥æ³¨å†Œä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œå½“ç½‘ç»œé€‚é…å™¨çŠ¶æ€æ”¹å˜æ—¶ä¼šè°ƒç”¨è¯¥å‡½æ•°ã€‚</p></li><li><p>åœ¨å›è°ƒå‡½æ•°ä¸­ä½¿ç”¨NotifyRegisterNetEventå‡½æ•°æ¥æ³¨å†Œä¸€ä¸ªç½‘ç»œäº‹ä»¶ï¼Œæ¯”å¦‚ç½‘ç»œé€‚é…å™¨è¢«ç¦ç”¨ã€‚</p></li><li><p>ç›‘å¬å›è°ƒå‡½æ•°ä¸­ä¼ é€’çš„äº‹ä»¶ç±»å‹ï¼Œå½“äº‹ä»¶ç±»å‹ä¸ºè¢«ç¦ç”¨æ—¶ï¼Œæ‰§è¡Œè‡ªå·±çš„é€»è¾‘å¤„ç†ã€‚</p></li></ol><p>ç¤ºä¾‹ä»£ç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;windows.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;ipexport.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function">BOOL WINAPI <span class="title">HandlerRoutine</span><span class="params">(DWORD dwCtrlType)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> CALLBACK</span></span><br><span class="line"><span class="function"><span class="title">NetEventCallback</span><span class="params">(PVOID pCallerContext, ULONG NotificationType, PVOID Notification)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">// æ³¨å†Œæ§åˆ¶äº‹ä»¶å¤„ç†å‡½æ•°</span></span><br><span class="line"><span class="built_in">SetConsoleCtrlHandler</span>(HandlerRoutine, TRUE);</span><br><span class="line"></span><br><span class="line">HANDLE hEvent = <span class="built_in">CreateEvent</span>(<span class="literal">NULL</span>, FALSE, FALSE, <span class="literal">NULL</span>);</span><br><span class="line">HANDLE hWaitableHandle[<span class="number">2</span>] = &#123; hEvent, INVALID_HANDLE_VALUE &#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ³¨å†Œç½‘ç»œäº‹ä»¶å›è°ƒå‡½æ•°</span></span><br><span class="line">DWORD dwFlags = NOTIFY_FILTER_INTERFACE_CHANGE | NOTIFY_FILTER_DRIVER_LOADED;</span><br><span class="line">HMODULE hModule = <span class="literal">NULL</span>;</span><br><span class="line">PVOID pCallerContext = (PVOID)hEvent;</span><br><span class="line">HANDLE hNotifyObject = <span class="literal">NULL</span>;</span><br><span class="line"><span class="built_in">NotifySubscribeCallouts</span>(dwFlags, NetEventCallback, pCallerContext, hModule, &amp;hNotifyObject);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç­‰å¾…äº‹ä»¶</span></span><br><span class="line">DWORD dwWaitResult;</span><br><span class="line"><span class="keyword">do</span> &#123;</span><br><span class="line">dwWaitResult = <span class="built_in">WaitForMultipleObjects</span>(<span class="number">2</span>, hWaitableHandle, FALSE, INFINITE);</span><br><span class="line"></span><br><span class="line">&#125; <span class="keyword">while</span> (dwWaitResult != WAIT_OBJECT_0);</span><br><span class="line"></span><br><span class="line"><span class="comment">// å–æ¶ˆè®¢é˜…å¹¶å…³é—­äº‹ä»¶å¥æŸ„</span></span><br><span class="line"><span class="built_in">NotifyUnsubscribeCallouts</span>(hNotifyObject);</span><br><span class="line"><span class="built_in">CloseHandle</span>(hEvent);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">BOOL WINAPI <span class="title">HandlerRoutine</span><span class="params">(DWORD dwCtrlType)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">switch</span> (dwCtrlType)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">case</span> CTRL_CLOSE_EVENT:</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot; Close signal received.&quot;</span>);</span><br><span class="line"><span class="keyword">return</span> TRUE;</span><br><span class="line"></span><br><span class="line"><span class="keyword">default</span>:</span><br><span class="line"><span class="keyword">return</span> FALSE;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> CALLBACK <span class="title">NetEventCallback</span><span class="params">(PVOID pCallerContext, ULONG NotificationType, PVOID Notification)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">switch</span> (NotificationType)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">case</span> NOTIFY_INTERFACE_ARRIVAL:</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot; Interface arrival.&quot;</span>);</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">case</span> NOTIFY_INTERFACE_REMOVAL:</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot; Interface removal.&quot;</span>);</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">case</span> NOTIFY_INTERFACE_ENABLED:</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot; Interface enabled.&quot;</span>);</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">case</span> NOTIFY_INTERFACE_DISABLED:</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot; Interface disabled.&quot;</span>);</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">default</span>:</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot; Unknown notification type.&quot;</span>);</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">PIP_INTERFACE_INFO pIfInfo = (PIP_INTERFACE_INFO)Notification;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç›‘å¬ç½‘å¡è¢«ç¦ç”¨äº‹ä»¶</span></span><br><span class="line"><span class="keyword">if</span> (NotificationType == NOTIFY_INTERFACE_DISABLED)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot; Interface % ws has been disabled.&quot;</span>, pIfInfo-&gt;Adapter[<span class="number">0</span>].Name);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ³¨æ„äº‹é¡¹ï¼š</p><ol><li><p>å¦‚æœéœ€è¦ä½¿ç”¨NotifyRegisterNetEventå‡½æ•°ï¼Œéœ€è¦å°†åº”ç”¨ç¨‹åºç¼–è¯‘ä¸ºé©±åŠ¨ç¨‹åºæˆ–ç³»ç»ŸæœåŠ¡ï¼Œå› ä¸ºè¿™ä¸ªå‡½æ•°éœ€è¦ç®¡ç†å‘˜æƒé™ã€‚</p></li><li><p>å›è°ƒå‡½æ•°ä¸­ä¸èƒ½é˜»å¡æˆ–è¿›è¡Œè€—æ—¶æ“ä½œï¼Œå› ä¸ºè¿™ä¼šå½±å“ç³»ç»ŸåŠŸèƒ½çš„æ­£å¸¸è¿ä½œã€‚</p></li><li><p>å¯ä»¥ä½¿ç”¨SetConsoleCtrlHandlerå‡½æ•°æ³¨å†Œæ§åˆ¶äº‹ä»¶å¤„ç†å‡½æ•°ï¼Œä»¥ä¾¿åœ¨æ”¶åˆ°æ§åˆ¶äº‹ä»¶æ—¶å¯ä»¥åŠæ—¶é€€å‡ºç¨‹åºã€‚</p></li></ol><h1 id="æ–¹æ³•äºŒ"><a href="#æ–¹æ³•äºŒ" class="headerlink" title="æ–¹æ³•äºŒ"></a>æ–¹æ³•äºŒ</h1><p>å‚è€ƒ<a href="https://learn.microsoft.com/zh-cn/windows/win32/devio/registering-for-device-notification">æ³¨å†Œè®¾å¤‡é€šçŸ¥ - Win32 apps | Microsoft Learn</a></p><p>è¦è·å–Windowsç½‘å¡è¢«ç¦ç”¨äº‹ä»¶ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ­¥éª¤ï¼š</p><ol><li>ä½¿ç”¨Windows APIå‡½æ•°æ³¨å†Œç½‘ç»œé…ç½®æ›´æ”¹é€šçŸ¥ã€‚ä½¿ç”¨ä»¥ä¸‹ä»£ç ï¼š</li></ol><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">HANDLE hNotify = <span class="literal">NULL</span>;</span><br><span class="line">HDEVNOTIFY hDevNotify = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">hNotify = <span class="built_in">FindFirstChangeNotificationW</span>(</span><br><span class="line">    HKEY_LOCAL_MACHINE,</span><br><span class="line">    <span class="string">L&quot;SYSTEM\\CurrentControlSet\\Control\\Network&quot;</span>,</span><br><span class="line">    FALSE,</span><br><span class="line">    FILE_NOTIFY_CHANGE_LAST_WRITE);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (hNotify == INVALID_HANDLE_VALUE)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// Handle error</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">hDevNotify = <span class="built_in">RegisterDeviceNotification</span>(</span><br><span class="line">    hwnd,</span><br><span class="line">    &amp;filter,</span><br><span class="line">    DEVICE_NOTIFY_WINDOW_HANDLE);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (hDevNotify == <span class="literal">NULL</span>)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// Handle error</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å…¶ä¸­ï¼ŒHWNDæ˜¯æ¥æ”¶é€šçŸ¥çš„çª—å£å¥æŸ„ï¼Œfilteræ˜¯ä¸€äº›æ¡ä»¶ï¼Œä¾‹å¦‚é€šçŸ¥ç±»å‹ï¼Œè®¾å¤‡èŒƒå›´ç­‰ã€‚</p><ol start="2"><li>åœ¨æ‚¨çš„çª—å£è¿‡ç¨‹å‡½æ•°ä¸­å¤„ç†é€šçŸ¥æ¶ˆæ¯ã€‚ å®ƒå°†æä¾›ä¸€ä¸ª lParam å‚æ•°ï¼Œè¯¥å‚æ•°æ˜¯ä¸€ä¸ªåŒ…å«æœ‰å…³æ›´æ”¹çš„ç»“æ„ä½“ã€‚ æ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹ä»£ç æ¥æ£€æŸ¥æ˜¯å¦ç¦ç”¨äº†ä»»ä½•ç½‘ç»œé€‚é…å™¨ï¼š</li></ol><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">case</span> WM_DEVICECHANGE:</span><br><span class="line">    PDEV_BROADCAST_HDR pHdr = (PDEV_BROADCAST_HDR)lParam;</span><br><span class="line">    <span class="keyword">if</span> (pHdr-&gt;dbch_devicetype == DBT_DEVTYP_VOLUME)</span><br><span class="line">    &#123;</span><br><span class="line">        PDEV_BROADCAST_VOLUME pVol = (PDEV_BROADCAST_VOLUME)pHdr;</span><br><span class="line">        <span class="comment">// Check if network adapter is disabled</span></span><br><span class="line">        <span class="keyword">if</span> (pVol-&gt;dbcv_flags &amp; DBTF_MEDIA) <span class="comment">// Media is removed</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">// Check if any network adapter is disabled</span></span><br><span class="line">            DWORD dwDriveMask = pVol-&gt;dbcv_unitmask;</span><br><span class="line">            <span class="keyword">if</span> (dwDriveMask != <span class="number">0</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">26</span>; i++)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="keyword">if</span> ((dwDriveMask &amp; <span class="number">0x01</span>) == <span class="number">0x01</span>)</span><br><span class="line">                    &#123;</span><br><span class="line">                        <span class="type">char</span> szDrive[<span class="number">4</span>] = &#123; <span class="string">&#x27;A&#x27;</span> + i, <span class="string">&#x27;:&#x27;</span>, <span class="string">&#x27;\\&#x27;</span>, <span class="string">&#x27;\0&#x27;</span> &#125;;</span><br><span class="line">                        <span class="keyword">if</span> (<span class="built_in">GetDriveType</span>(szDrive) == DRIVE_CDROM)</span><br><span class="line">                        &#123;</span><br><span class="line">                            <span class="comment">// Network adapter on this drive is disabled</span></span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                    dwDriveMask &gt;&gt; = <span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> TRUE;</span><br></pre></td></tr></table></figure><p>è¿™æ®µä»£ç æ£€æŸ¥ç½‘ç»œé€‚é…å™¨æ˜¯å¦è¢«ç¦ç”¨ï¼Œå¹¶æ ¹æ®éœ€è¦æ‰§è¡Œæ“ä½œã€‚</p><p>è¯·æ³¨æ„ï¼Œè¿™äº›ä»£ç åªæ˜¯ä¸€ç§å‚è€ƒã€‚è¦ä½¿å®ƒä»¬æ­£å¸¸å·¥ä½œï¼Œæ‚¨éœ€è¦å°†å®ƒä»¬æ¤å…¥åˆ°æ‚¨çš„ä»£ç ä¸­ï¼Œå¹¶æ ¹æ®éœ€è¦è¿›è¡Œä¿®æ”¹ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> OS </category>
          
          <category> Windows </category>
          
          <category> ç½‘ç»œhelper </category>
          
      </categories>
      
      
        <tags>
            
            <tag> windows </tag>
            
            <tag> ç½‘å¡ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç›‘æ§è·¯ç”±äº‹ä»¶</title>
      <link href="/OS/Windows/%E7%BD%91%E7%BB%9Chelper/%E7%9B%91%E6%8E%A7%E8%B7%AF%E7%94%B1%E4%BA%8B%E4%BB%B6/"/>
      <url>/OS/Windows/%E7%BD%91%E7%BB%9Chelper/%E7%9B%91%E6%8E%A7%E8%B7%AF%E7%94%B1%E4%BA%8B%E4%BB%B6/</url>
      
        <content type="html"><![CDATA[<blockquote><p>ç›¸å…³æ–‡ç« ï¼š <a href=".%5C%E4%BD%BF%E7%94%A8winsock2">ä½¿ç”¨winsock2</a></p></blockquote><h1 id="è¯´æ˜"><a href="#è¯´æ˜" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h1><p>ç›‘æ§ç½‘å¡å¯ä»¥ä½¿ç”¨ <code>NotifyRouteChange</code> å’Œ <code>NotifyRouteChange2</code> å‡½æ•°ï¼Œé€šè¿‡æ³¨å†Œå›è°ƒå®ç°è·¯ç”±ç›‘æ§</p><h1 id="ä¸»è¦æ­¥éª¤"><a href="#ä¸»è¦æ­¥éª¤" class="headerlink" title="ä¸»è¦æ­¥éª¤"></a>ä¸»è¦æ­¥éª¤</h1><ol><li>å£°æ˜ä¸€ä¸ªå›è°ƒå‡½æ•°å¤„ç†é€šçŸ¥</li><li>è°ƒç”¨notifyRouteChange2æ³¨å†Œé€šçŸ¥,æŒ‡å®šé€šçŸ¥ç±»å‹</li><li>ç­‰å¾…é€šçŸ¥</li><li>å–æ¶ˆé€šçŸ¥(å¯é€‰)</li><li>åœ¨å›è°ƒå‡½æ•°ä¸­æ ¹æ®é€šçŸ¥ç±»å‹è¿›è¡Œå¤„ç†</li></ol><h1 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> WIN32_LEAN_AND_MEAN</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> WIN32_LEAN_AND_MEAN</span></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> _WINSOCK_DEPRECATED_NO_WARNINGS</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iomanip&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;windows.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;winsock2.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;ws2tcpip.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iphlpapi.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">pragma</span> comment(lib, <span class="string">&quot;iphlpapi.lib&quot;</span>)</span></span><br><span class="line"><span class="meta">#<span class="keyword">pragma</span> comment(lib, <span class="string">&quot;ws2_32.lib&quot;</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> NAMEPRINTFORMAT(X) std::left &lt;&lt; setw(60)&lt;&lt; #X &lt;&lt; <span class="string">&quot;\t\t&quot;</span> &lt;&lt; X</span></span><br><span class="line"></span><br><span class="line"><span class="function">std::string <span class="title">ipToString</span><span class="params">(DWORD dwIP)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">std::string strDestIp = <span class="string">&quot;&quot;</span>;</span><br><span class="line">std::string strMaskIp = <span class="string">&quot;&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">in_addr</span> network;</span><br><span class="line">network.S_un.S_addr = dwIP;    <span class="comment">//ä¸ºs_addrèµ‹å€¼--ç½‘ç»œå­—èŠ‚åº</span></span><br><span class="line">strDestIp = <span class="built_in">inet_ntoa</span>(network);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> strDestIp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> CALLBACK <span class="title">RouteChanged1</span><span class="params">(<span class="type">void</span>* CallerContext, PMIB_IPFORWARD_ROW2 Table, MIB_NOTIFICATION_TYPE NotificationType)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">using</span> context = <span class="built_in">void</span>(*)(DWORD);</span><br><span class="line"></span><br><span class="line">context ctx = (context)CallerContext;</span><br><span class="line"></span><br><span class="line"><span class="keyword">auto</span> PrintTable = [](MIB_IPFORWARD_ROW2 table) &#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;---------------&quot;</span> &lt;&lt; endl;</span><br><span class="line">cout &lt;&lt; <span class="built_in">NAMEPRINTFORMAT</span>(table.InterfaceLuid.Info.IfType) &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">cout &lt;&lt; <span class="built_in">NAMEPRINTFORMAT</span>(table.InterfaceLuid.Info.NetLuidIndex) &lt;&lt; endl;</span><br><span class="line">cout &lt;&lt; <span class="built_in">NAMEPRINTFORMAT</span>(table.InterfaceLuid.Info.Reserved) &lt;&lt; endl;</span><br><span class="line">cout &lt;&lt; <span class="built_in">NAMEPRINTFORMAT</span>(table.InterfaceLuid.Value) &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">cout &lt;&lt; <span class="built_in">NAMEPRINTFORMAT</span>(table.InterfaceIndex) &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">cout &lt;&lt; <span class="built_in">NAMEPRINTFORMAT</span>(table.DestinationPrefix.Prefix.si_family) &lt;&lt; endl;</span><br><span class="line">cout &lt;&lt; <span class="built_in">NAMEPRINTFORMAT</span>(table.DestinationPrefix.Prefix.Ipv4.sin_addr.S_un.S_addr) &lt;&lt; <span class="string">&quot;\t&quot;</span> &lt;&lt; <span class="built_in">ipToString</span>(table.DestinationPrefix.Prefix.Ipv4.sin_addr.S_un.S_addr) &lt;&lt; endl;</span><br><span class="line">cout &lt;&lt; <span class="built_in">NAMEPRINTFORMAT</span>(table.DestinationPrefix.Prefix.Ipv4.sin_family) &lt;&lt; endl;</span><br><span class="line">cout &lt;&lt; <span class="built_in">NAMEPRINTFORMAT</span>(table.DestinationPrefix.Prefix.Ipv4.sin_port) &lt;&lt; endl;</span><br><span class="line">cout &lt;&lt; <span class="built_in">NAMEPRINTFORMAT</span>(table.DestinationPrefix.Prefix.Ipv4.sin_zero) &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">cout &lt;&lt; <span class="built_in">NAMEPRINTFORMAT</span>(table.DestinationPrefix.Prefix.Ipv6.sin6_addr.u.Byte) &lt;&lt; endl;</span><br><span class="line">cout &lt;&lt; <span class="built_in">NAMEPRINTFORMAT</span>(table.DestinationPrefix.Prefix.Ipv6.sin6_addr.u.Word) &lt;&lt; endl;</span><br><span class="line">cout &lt;&lt; <span class="built_in">NAMEPRINTFORMAT</span>(table.DestinationPrefix.Prefix.Ipv6.sin6_family) &lt;&lt; endl;</span><br><span class="line">cout &lt;&lt; <span class="built_in">NAMEPRINTFORMAT</span>(table.DestinationPrefix.Prefix.Ipv6.sin6_flowinfo) &lt;&lt; endl;</span><br><span class="line">cout &lt;&lt; <span class="built_in">NAMEPRINTFORMAT</span>(table.DestinationPrefix.Prefix.Ipv6.sin6_port) &lt;&lt; endl;</span><br><span class="line">cout &lt;&lt; <span class="built_in">NAMEPRINTFORMAT</span>(table.DestinationPrefix.Prefix.Ipv6.sin6_scope_id) &lt;&lt; endl;</span><br><span class="line">cout &lt;&lt; <span class="built_in">NAMEPRINTFORMAT</span>(table.DestinationPrefix.Prefix.Ipv6.sin6_scope_struct.Level) &lt;&lt; endl;</span><br><span class="line">cout &lt;&lt; <span class="built_in">NAMEPRINTFORMAT</span>(table.DestinationPrefix.Prefix.Ipv6.sin6_scope_struct.Value) &lt;&lt; endl;</span><br><span class="line">cout &lt;&lt; <span class="built_in">NAMEPRINTFORMAT</span>(table.DestinationPrefix.Prefix.Ipv6.sin6_scope_struct.Zone) &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">cout &lt;&lt; <span class="built_in">NAMEPRINTFORMAT</span>(table.NextHop.Ipv4.sin_addr.S_un.S_addr) &lt;&lt; <span class="string">&quot;\t&quot;</span> &lt;&lt; <span class="built_in">ipToString</span>(table.NextHop.Ipv4.sin_addr.S_un.S_addr) &lt;&lt; endl;</span><br><span class="line">cout &lt;&lt; <span class="built_in">NAMEPRINTFORMAT</span>(table.NextHop.Ipv6.sin6_addr.u.Byte) &lt;&lt; endl;</span><br><span class="line">cout &lt;&lt; <span class="built_in">NAMEPRINTFORMAT</span>(table.NextHop.Ipv6.sin6_addr.u.Word) &lt;&lt; endl;</span><br><span class="line">cout &lt;&lt; <span class="built_in">NAMEPRINTFORMAT</span>(table.SitePrefixLength) &lt;&lt; endl;</span><br><span class="line">cout &lt;&lt; <span class="built_in">NAMEPRINTFORMAT</span>(table.ValidLifetime) &lt;&lt; endl;</span><br><span class="line">cout &lt;&lt; <span class="built_in">NAMEPRINTFORMAT</span>(table.PreferredLifetime) &lt;&lt; endl;</span><br><span class="line">cout &lt;&lt; <span class="built_in">NAMEPRINTFORMAT</span>(table.Metric) &lt;&lt; endl;</span><br><span class="line">cout &lt;&lt; <span class="built_in">NAMEPRINTFORMAT</span>(table.Protocol) &lt;&lt; endl;</span><br><span class="line">cout &lt;&lt; <span class="built_in">NAMEPRINTFORMAT</span>(table.Loopback) &lt;&lt; endl;</span><br><span class="line">cout &lt;&lt; <span class="built_in">NAMEPRINTFORMAT</span>(table.AutoconfigureAddress) &lt;&lt; endl;</span><br><span class="line">cout &lt;&lt; <span class="built_in">NAMEPRINTFORMAT</span>(table.Immortal) &lt;&lt; endl;</span><br><span class="line">cout &lt;&lt; <span class="built_in">NAMEPRINTFORMAT</span>(table.Age) &lt;&lt; endl;</span><br><span class="line">cout &lt;&lt; <span class="built_in">NAMEPRINTFORMAT</span>(table.Origin) &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">cout &lt;&lt; <span class="string">&quot;---------------&quot;</span> &lt;&lt; endl &lt;&lt; endl;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// å¤„ç†è·¯ç”±è¡¨å˜æ›´é€šçŸ¥</span></span><br><span class="line"><span class="keyword">switch</span> (NotificationType)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">case</span> MibParameterNotification:</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;1-- å‚æ•°è¢«æ›´æ”¹&quot;</span> &lt;&lt; endl;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> MibAddInstance:</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;2-- æ·»åŠ &quot;</span> &lt;&lt; endl;</span><br><span class="line"><span class="built_in">PrintTable</span>(*Table);</span><br><span class="line"></span><br><span class="line"><span class="built_in">ctx</span>(Table-&gt;DestinationPrefix.Prefix.Ipv4.sin_addr.S_un.S_addr);</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> MibDeleteInstance:</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;3-- åˆ é™¤&quot;</span> &lt;&lt; endl;</span><br><span class="line"><span class="built_in">PrintTable</span>(*Table);</span><br><span class="line"></span><br><span class="line"><span class="built_in">ctx</span>(Table-&gt;DestinationPrefix.Prefix.Ipv4.sin_addr.S_un.S_addr);</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> MibInitialNotification:</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;4-- å‡½æ•°å·²æ³¨å†Œ&quot;</span> &lt;&lt; endl;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">default</span>:</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">checkIsMyRoute</span> <span class="params">(DWORD ip)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cout &lt;&lt; <span class="built_in">NAMEPRINTFORMAT</span>(<span class="built_in">ipToString</span>(ip)) &lt;&lt; endl;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">HANDLE hEvent = <span class="built_in">CreateEvent</span>(<span class="literal">NULL</span>, FALSE, FALSE, <span class="literal">NULL</span>);</span><br><span class="line">HANDLE hNotify = <span class="literal">NULL</span>;</span><br><span class="line">PVOID callerContext = <span class="built_in">static_cast</span>&lt;PVOID&gt;(&amp;checkIsMyRoute);</span><br><span class="line">BOOLEAN bSuccess = TRUE;</span><br><span class="line">ULONG pdwPrevNotified = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (callerContext != <span class="literal">nullptr</span> &amp;&amp; <span class="built_in">NotifyRouteChange2</span>(AF_UNSPEC, &amp;RouteChanged1, callerContext, bSuccess, &amp;hNotify) != NO_ERROR) &#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;Could not register for route change notifications\n&quot;</span>);</span><br><span class="line"><span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> (TRUE) &#123;</span><br><span class="line">DWORD dwWait = <span class="built_in">WaitForSingleObject</span>(hNotify, INFINITE);</span><br><span class="line"><span class="keyword">if</span> (dwWait == WAIT_OBJECT_0) &#123;</span><br><span class="line"><span class="comment">// æ¥æ”¶åˆ°å¼‚æ­¥é€šçŸ¥ï¼Œå¤„ç†ç»“æœ</span></span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å–æ¶ˆç›‘æ§</span></span><br><span class="line"><span class="built_in">CancelMibChangeNotify2</span>(hNotify);</span><br><span class="line"><span class="built_in">CloseHandle</span>(hNotify);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> OS </category>
          
          <category> Windows </category>
          
          <category> ç½‘ç»œhelper </category>
          
      </categories>
      
      
        <tags>
            
            <tag> windows </tag>
            
            <tag> ç›‘æ§ </tag>
            
            <tag> route </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++ é€šè¿‡ COM ç»„ä»¶ å¯ç”¨&#92;ç¦ç”¨&#92;æŸ¥çœ‹ ç½‘å¡çŠ¶æ€</title>
      <link href="/OS/Windows/%E7%BD%91%E7%BB%9Chelper/COM%E6%9F%A5%E7%9C%8B%E7%BD%91%E5%8D%A1%E7%8A%B6%E6%80%81/"/>
      <url>/OS/Windows/%E7%BD%91%E7%BB%9Chelper/COM%E6%9F%A5%E7%9C%8B%E7%BD%91%E5%8D%A1%E7%8A%B6%E6%80%81/</url>
      
        <content type="html"><![CDATA[<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;NetCon.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">ChangeNetState</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">CoInitialize</span>(<span class="literal">NULL</span>);</span><br><span class="line">    INetConnectionManager* pNetManager;</span><br><span class="line">    INetConnection* pNetConnection;</span><br><span class="line">    IEnumNetConnection* pEnum;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (S_OK != <span class="built_in">CoCreateInstance</span>(CLSID_ConnectionManager, <span class="literal">NULL</span>, CLSCTX_SERVER, IID_INetConnectionManager, (<span class="type">void</span>**)&amp;pNetManager))</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    pNetManager-&gt;<span class="built_in">EnumConnections</span>(NCME_DEFAULT, &amp;pEnum);</span><br><span class="line">    pNetManager-&gt;<span class="built_in">Release</span>();</span><br><span class="line">    <span class="keyword">if</span> (<span class="literal">NULL</span> == pEnum)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ULONG celtFetched;</span><br><span class="line">    <span class="keyword">while</span> (pEnum-&gt;<span class="built_in">Next</span>(<span class="number">1</span>, &amp;pNetConnection, &amp;celtFetched) == S_OK)</span><br><span class="line">    &#123;</span><br><span class="line">        NETCON_PROPERTIES* properties;</span><br><span class="line">        pNetConnection-&gt;<span class="built_in">GetProperties</span>(&amp;properties);</span><br><span class="line">        <span class="comment">//properties-&gt;pszwName; //ç½‘ç»œè¿æ¥çš„åç§°</span></span><br><span class="line">        <span class="comment">//properties-&gt;pszwDeviceName; //ç½‘å¡åç§°</span></span><br><span class="line">        <span class="comment">//properties-&gt;Status;     //çŠ¶æ€</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//pNetConnection-&gt;Disconnect(); //ç¦ç”¨ç½‘å¡</span></span><br><span class="line">        <span class="comment">//pNetConnection-&gt;Connect();    //å¯ç”¨ç½‘å¡</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">CoUninitialize</span>();</span><br><span class="line">    <span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><code>NETCON_PROPERTIES</code> ç»“æ„ä½“ä½¿ç”¨çš„å˜é‡ä¸ºå®½å­—ç¬¦ï¼Œåœ¨æ‰“å°æ—¶éœ€è¦åœ¨ç¨‹åºå…¥å£è°ƒç”¨ä»¥ä¸‹å‡½æ•°æ‰èƒ½æ­£ç¡®è¾“å‡ºã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">setlocale</span>(LC_CTYPE, <span class="string">&quot;chs&quot;</span>);</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> OS </category>
          
          <category> Windows </category>
          
          <category> ç½‘ç»œhelper </category>
          
      </categories>
      
      
        <tags>
            
            <tag> windows </tag>
            
            <tag> ç½‘å¡ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>iphepler æ¥å£æ•´ç†</title>
      <link href="/OS/Windows/%E7%BD%91%E7%BB%9Chelper/iphelper%E6%8E%A5%E5%8F%A3%E6%95%B4%E7%90%86/"/>
      <url>/OS/Windows/%E7%BD%91%E7%BB%9Chelper/iphelper%E6%8E%A5%E5%8F%A3%E6%95%B4%E7%90%86/</url>
      
        <content type="html"><![CDATA[<p>The following functions are used in Windows networking:</p><h3 id="Obsolete-Functions"><a href="#Obsolete-Functions" class="headerlink" title="Obsolete Functions"></a>Obsolete Functions</h3><p>The following function is provided only for compatibility with 16-bit versions of Windows:</p><p>windowsæä¾›äº†å¤§é‡çš„ç½‘ç»œè¾…åŠ©å‡½æ•°ï¼Œå¦‚ä¸‹ä¹Ÿä¸ºæ¢è®¨å†…å®¹ï¼š</p><h1 id="IP-Helper-Functions"><a href="#IP-Helper-Functions" class="headerlink" title="IP Helper Functions"></a>IP Helper Functions</h1><p>The following functions retrieve and modify configuration settings for the TCP&#x2F;IP transport on the local computer. The following categorical listing can help determine which collection of functions is best suited for a given task:</p><h3 id="Adapter-Management"><a href="#Adapter-Management" class="headerlink" title="Adapter Management"></a>Adapter Management</h3><ul><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa365909(v=vs.85).aspx">GetAdapterIndex</a></li><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa365915(v=vs.85).aspx">GetAdaptersAddresses</a></li><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa365917(v=vs.85).aspx">GetAdaptersInfo</a></li><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa366012(v=vs.85).aspx">GetPerAdapterInfo</a></li><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa366034(v=vs.85).aspx">GetUniDirectionalAdapterInfo</a></li></ul><h3 id="Address-Resolution-Protocol-ARP-Management"><a href="#Address-Resolution-Protocol-ARP-Management" class="headerlink" title="Address Resolution Protocol (ARP) Management"></a>Address Resolution Protocol (ARP) Management</h3><ul><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa365866(v=vs.85).aspx">CreateIpNetEntry</a></li><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa365868(v=vs.85).aspx">CreateProxyArpEntry</a></li><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa365882(v=vs.85).aspx">DeleteIpNetEntry</a></li><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa365889(v=vs.85).aspx">DeleteProxyArpEntry</a></li><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa365905(v=vs.85).aspx">FlushIpNetTable</a></li><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa365956(v=vs.85).aspx">GetIpNetTable</a></li><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa366358(v=vs.85).aspx">SendARP</a></li><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa366365(v=vs.85).aspx">SetIpNetEntry</a></li></ul><h3 id="Interface-Conversion"><a href="#Interface-Conversion" class="headerlink" title="Interface Conversion"></a>Interface Conversion</h3><ul><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa365821(v=vs.85).aspx">ConvertInterfaceAliasToLuid</a></li><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa365823(v=vs.85).aspx">ConvertInterfaceGuidToLuid</a></li><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa365826(v=vs.85).aspx">ConvertInterfaceIndexToLuid</a></li><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/bb408400(v=vs.85).aspx">ConvertInterfaceLuidToAlias</a></li><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa365829(v=vs.85).aspx">ConvertInterfaceLuidToGuid</a></li><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa365835(v=vs.85).aspx">ConvertInterfaceLuidToIndex</a></li><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa365842(v=vs.85).aspx">ConvertInterfaceLuidToNameA</a></li><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa365847(v=vs.85).aspx">ConvertInterfaceLuidToNameW</a></li><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa365852(v=vs.85).aspx">ConvertInterfaceNameToLuidA</a></li><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa365855(v=vs.85).aspx">ConvertInterfaceNameToLuidW</a></li><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/bb408408(v=vs.85).aspx">if_indextoname</a></li><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/bb408409(v=vs.85).aspx">if_nametoindex</a></li></ul><h3 id="Interface-Management"><a href="#Interface-Management" class="headerlink" title="Interface Management"></a>Interface Management</h3><ul><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa365931(v=vs.85).aspx">GetFriendlyIfIndex</a></li><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa365939(v=vs.85).aspx">GetIfEntry</a></li><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa365941(v=vs.85).aspx">GetIfEntry2</a></li><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa814412(v=vs.85).aspx">GetIfStackTable</a></li><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa365943(v=vs.85).aspx">GetIfTable</a></li><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa365945(v=vs.85).aspx">GetIfTable2</a></li><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa814413(v=vs.85).aspx">GetIfTable2Ex</a></li><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa365947(v=vs.85).aspx">GetInterfaceInfo</a></li><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa814414(v=vs.85).aspx">GetInvertedIfStackTable</a></li><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa814417(v=vs.85).aspx">GetIpInterfaceEntry</a></li><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa814418(v=vs.85).aspx">GetIpInterfaceTable</a></li><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa365970(v=vs.85).aspx">GetNumberOfInterfaces</a></li><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa814437(v=vs.85).aspx">InitializeIpInterfaceEntry</a></li><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa366362(v=vs.85).aspx">SetIfEntry</a></li><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa814465(v=vs.85).aspx">SetIpInterfaceEntry</a></li></ul><h3 id="Internet-Protocol-IP-and-Internet-Control-Message-Protocol-ICMP"><a href="#Internet-Protocol-IP-and-Internet-Control-Message-Protocol-ICMP" class="headerlink" title="Internet Protocol (IP) and Internet Control Message Protocol (ICMP)"></a>Internet Protocol (IP) and Internet Control Message Protocol (ICMP)</h3><ul><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa365934(v=vs.85).aspx">GetIcmpStatistics</a></li><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa365959(v=vs.85).aspx">GetIpStatistics</a></li><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa366037(v=vs.85).aspx">Icmp6CreateFile</a></li><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa366039(v=vs.85).aspx">Icmp6ParseReplies</a></li><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa366041(v=vs.85).aspx">Icmp6SendEcho2</a></li><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa366043(v=vs.85).aspx">IcmpCloseHandle</a></li><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa366045(v=vs.85).aspx">IcmpCreateFile</a></li><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa366048(v=vs.85).aspx">IcmpParseReplies</a></li><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa366050(v=vs.85).aspx">IcmpSendEcho</a></li><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa366051(v=vs.85).aspx">IcmpSendEcho2</a></li><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/bb309069(v=vs.85).aspx">IcmpSendEcho2Ex</a></li><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa366369(v=vs.85).aspx">SetIpTTL</a></li></ul><h3 id="IP-Address-Management"><a href="#IP-Address-Management" class="headerlink" title="IP Address Management"></a>IP Address Management</h3><ul><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa365801(v=vs.85).aspx">AddIPAddress</a></li><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa814398(v=vs.85).aspx">CreateAnycastIpAddressEntry</a></li><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa814401(v=vs.85).aspx">CreateUnicastIpAddressEntry</a></li><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa365875(v=vs.85).aspx">DeleteIPAddress</a></li><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa814402(v=vs.85).aspx">DeleteAnycastIpAddressEntry</a></li><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa814405(v=vs.85).aspx">DeleteUnicastIpAddressEntry</a></li><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa814409(v=vs.85).aspx">GetAnycastIpAddressEntry</a></li><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa814410(v=vs.85).aspx">GetAnycastIpAddressTable</a></li><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa365949(v=vs.85).aspx">GetIpAddrTable</a></li><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa814424(v=vs.85).aspx">GetMulticastIpAddressEntry</a></li><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa814425(v=vs.85).aspx">GetMulticastIpAddressTable</a></li><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa814427(v=vs.85).aspx">GetUnicastIpAddressEntry</a></li><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa814428(v=vs.85).aspx">GetUnicastIpAddressTable</a></li><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa814438(v=vs.85).aspx">InitializeUnicastIpAddressEntry</a></li><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa366056(v=vs.85).aspx">IpReleaseAddress</a></li><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa366057(v=vs.85).aspx">IpRenewAddress</a></li><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa814452(v=vs.85).aspx">NotifyStableUnicastIpAddressTable</a></li><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa814467(v=vs.85).aspx">SetUnicastIpAddressEntry</a></li></ul><h3 id="IP-Address-String-Conversion"><a href="#IP-Address-String-Conversion" class="headerlink" title="IP Address String Conversion"></a>IP Address String Conversion</h3><ul><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa814456(v=vs.85).aspx">RtlIpv4AddressToString</a></li><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa814457(v=vs.85).aspx">RtlIpv4AddressToStringEx</a></li><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa814458(v=vs.85).aspx">RtlIpv4StringToAddress</a></li><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa814459(v=vs.85).aspx">RtlIpv4StringToAddressEx</a></li><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa814460(v=vs.85).aspx">RtlIpv6AddressToString</a></li><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa814461(v=vs.85).aspx">RtlIpv6AddressToStringEx</a></li><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa814462(v=vs.85).aspx">RtlIpv6StringToAddress</a></li><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa814463(v=vs.85).aspx">RtlIpv6StringToAddressEx</a></li></ul><h3 id="IP-Neighbor-Address-Management"><a href="#IP-Neighbor-Address-Management" class="headerlink" title="IP Neighbor Address Management"></a>IP Neighbor Address Management</h3><ul><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa814400(v=vs.85).aspx">CreateIpNetEntry2</a></li><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa814404(v=vs.85).aspx">DeleteIpNetEntry2</a></li><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa814406(v=vs.85).aspx">FlushIpNetTable2</a></li><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa814419(v=vs.85).aspx">GetIpNetEntry2</a></li><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa814420(v=vs.85).aspx">GetIpNetTable2</a></li><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa814455(v=vs.85).aspx">ResolveIpNetEntry2</a></li><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/bb736271(v=vs.85).aspx">ResolveNeighbor</a></li><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa814466(v=vs.85).aspx">SetIpNetEntry2</a></li></ul><h3 id="IP-Path-Management"><a href="#IP-Path-Management" class="headerlink" title="IP Path Management"></a>IP Path Management</h3><ul><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa814407(v=vs.85).aspx">FlushIpPathTable</a></li><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa814421(v=vs.85).aspx">GetIpPathEntry</a></li><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa814423(v=vs.85).aspx">GetIpPathTable</a></li></ul><h3 id="IP-Route-Management"><a href="#IP-Route-Management" class="headerlink" title="IP Route Management"></a>IP Route Management</h3><ul><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa365860(v=vs.85).aspx">CreateIpForwardEntry</a></li><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa814399(v=vs.85).aspx">CreateIpForwardEntry2</a></li><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa365878(v=vs.85).aspx">DeleteIpForwardEntry</a></li><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa814403(v=vs.85).aspx">DeleteIpForwardEntry2</a></li><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa365896(v=vs.85).aspx">EnableRouter</a></li><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa365920(v=vs.85).aspx">GetBestInterface</a></li><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa365922(v=vs.85).aspx">GetBestInterfaceEx</a></li><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa365924(v=vs.85).aspx">GetBestRoute</a></li><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa814411(v=vs.85).aspx">GetBestRoute2</a></li><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa814415(v=vs.85).aspx">GetIpForwardEntry2</a></li><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa365953(v=vs.85).aspx">GetIpForwardTable</a></li><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa814416(v=vs.85).aspx">GetIpForwardTable2</a></li><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa366013(v=vs.85).aspx">GetRTTAndHopCount</a></li><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa814436(v=vs.85).aspx">InitializeIpForwardEntry</a></li><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa366363(v=vs.85).aspx">SetIpForwardEntry</a></li><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa814464(v=vs.85).aspx">SetIpForwardEntry2</a></li><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa366367(v=vs.85).aspx">SetIpStatistics</a></li><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/bb736272(v=vs.85).aspx">SetIpStatisticsEx</a></li><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa366392(v=vs.85).aspx">UnenableRouter</a></li></ul><h3 id="IP-Table-Memory-Management"><a href="#IP-Table-Memory-Management" class="headerlink" title="IP Table Memory Management"></a>IP Table Memory Management</h3><ul><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa814408(v=vs.85).aspx">FreeMibTable</a></li></ul><h3 id="IP-Utility"><a href="#IP-Utility" class="headerlink" title="IP Utility"></a>IP Utility</h3><ul><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/bb408401(v=vs.85).aspx">ConvertIpv4MaskToLength</a></li><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/bb408402(v=vs.85).aspx">ConvertLengthToIpv4Mask</a></li><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/bb870773(v=vs.85).aspx">CreateSortedAddressPairs</a></li><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/bb408412(v=vs.85).aspx">ParseNetworkString</a></li></ul><h3 id="Network-Configuration"><a href="#Network-Configuration" class="headerlink" title="Network Configuration"></a>Network Configuration</h3><ul><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa365968(v=vs.85).aspx">GetNetworkParams</a></li></ul><h3 id="Notification"><a href="#Notification" class="headerlink" title="Notification"></a>Notification</h3><ul><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa814397(v=vs.85).aspx">CancelMibChangeNotify2</a></li><li><a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa366329(v=vs.85).aspx">NotifyAddrChange</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> OS </category>
          
          <category> Windows </category>
          
          <category> ç½‘ç»œhelper </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç½‘ç»œ </tag>
            
            <tag> windows </tag>
            
            <tag> ip </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>socket ä¿æ´»</title>
      <link href="/OS/Windows/%E7%BD%91%E7%BB%9Chelper/socket%E4%BF%9D%E6%B4%BB/"/>
      <url>/OS/Windows/%E7%BD%91%E7%BB%9Chelper/socket%E4%BF%9D%E6%B4%BB/</url>
      
        <content type="html"><![CDATA[<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">BOOL _KeepAlive(SP_SOCKET fd)</span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">//å®šä¹‰ç»“æ„åŠå®</span></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">KeepAlive</span></span><br><span class="line">&#123;</span><br><span class="line">u_long onoff;</span><br><span class="line">u_long keepalivetime;</span><br><span class="line">u_long keepaliveinterval;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> SIO_KEEPALIVE_VALS _WSAIOW(IOC_VENDOR,4)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//KeepAliveå®ç°</span></span><br><span class="line">KeepAlive inKeepAlive = &#123; <span class="number">0</span> &#125;; <span class="comment">//è¾“å…¥å‚æ•°</span></span><br><span class="line"><span class="type">unsigned</span> <span class="type">long</span> ulInLen = <span class="built_in">sizeof</span>(KeepAlive);</span><br><span class="line"></span><br><span class="line">KeepAlive outKeepAlive = &#123; <span class="number">0</span> &#125;; <span class="comment">//è¾“å‡ºå‚æ•°</span></span><br><span class="line"><span class="type">unsigned</span> <span class="type">long</span> ulOutLen = <span class="built_in">sizeof</span>(KeepAlive);</span><br><span class="line"><span class="type">unsigned</span> <span class="type">long</span> ulBytesReturn = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//keepalive xpä»¥å‰çš„ç³»ç»Ÿå‘é€5æ¬¡ï¼Œxpä¹‹åçš„ç³»ç»Ÿå‘é€10</span></span><br><span class="line">inKeepAlive.onoff = <span class="number">1</span>;</span><br><span class="line">inKeepAlive.keepaliveinterval = <span class="number">5000</span>; <span class="comment">//ä¸¤æ¬¡KeepAliveæ¢æµ‹é—´çš„æ—¶é—´é—´éš”</span></span><br><span class="line">inKeepAlive.keepalivetime = <span class="number">5000</span>; <span class="comment">//å¼€å§‹é¦–æ¬¡KeepAliveæ¢æµ‹å‰çš„TCPç©ºé—­æ—¶é—´</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">WSAIoctl</span>((SOCKET)fd, SIO_KEEPALIVE_VALS,</span><br><span class="line">(LPVOID)&amp;inKeepAlive, ulInLen,</span><br><span class="line">(LPVOID)&amp;outKeepAlive, ulOutLen,</span><br><span class="line">&amp;ulBytesReturn, <span class="literal">NULL</span>, <span class="literal">NULL</span>) == SOCKET_ERROR)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">LOGT</span>(<span class="string">&quot;Set Keep Alive FAILED.&quot;</span>);</span><br><span class="line"><span class="keyword">return</span> FALSE;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">LOGT</span>(<span class="string">&quot;Set Keep Alive OK.&quot;</span>);</span><br><span class="line"><span class="keyword">return</span> TRUE;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> OS </category>
          
          <category> Windows </category>
          
          <category> ç½‘ç»œhelper </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>ä½¿ç”¨ winsock2 ç›¸å…³å‡½æ•°</title>
      <link href="/OS/Windows/%E7%BD%91%E7%BB%9Chelper/%E4%BD%BF%E7%94%A8winsock2/"/>
      <url>/OS/Windows/%E7%BD%91%E7%BB%9Chelper/%E4%BD%BF%E7%94%A8winsock2/</url>
      
        <content type="html"><![CDATA[<p>winsock2.håœ¨æœ€å¼€å§‹include</p><p>ipçš„ä¸€äº›å·¥å…·å‡½æ•°åœ¨ <code>Iphlpapi.h</code></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;winsock2.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;ws2tcpip.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">pragma</span> comment(lib, <span class="string">&quot;Ws2_32.lib&quot;</span>)</span></span><br></pre></td></tr></table></figure><p><code>windows.h</code> é»˜è®¤åŠ è½½ winsockç‰ˆæœ¬1.<br><code>winsock2.h</code> é»˜è®¤åŠ  windows.h</p><p>ä¸å¾—ä¸åŠ  <code>windows.h</code> æ—¶å€™è®°å¾—åŠ å® <code>WIN32_LEAN_AND_MEAN</code></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> WIN32_LEAN_AND_MEAN</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> WIN32_LEAN_AND_MEAN</span></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;windows.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;winsock2.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;ws2tcpip.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iphlpapi.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">pragma</span> comment(lib, <span class="string">&quot;Ws2_32.lib&quot;</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> OS </category>
          
          <category> Windows </category>
          
          <category> ç½‘ç»œhelper </category>
          
      </categories>
      
      
        <tags>
            
            <tag> win </tag>
            
            <tag> winsock </tag>
            
            <tag> iphelper </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ“ä½œç½‘å¡ç±»</title>
      <link href="/OS/Windows/%E7%BD%91%E7%BB%9Chelper/%E6%93%8D%E4%BD%9C%E7%BD%91%E5%8D%A1%E7%B1%BB/"/>
      <url>/OS/Windows/%E7%BD%91%E7%BB%9Chelper/%E6%93%8D%E4%BD%9C%E7%BD%91%E5%8D%A1%E7%B1%BB/</url>
      
        <content type="html"><![CDATA[<blockquote><p>åœ¨ windows ç¯å¢ƒä¸‹ï¼Œä½¿ç”¨wmiä¿®æ”¹ç½‘å¡ ip+dns</p></blockquote><h2 id="main-cpp"><a href="#main-cpp" class="headerlink" title="main.cpp"></a>main.cpp</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//main.cpp:</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;locale&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;codecvt&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;net_config.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">pragma</span> execution_character_set(<span class="string">&quot;utf-8&quot;</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">std::locale::<span class="built_in">global</span>(std::<span class="built_in">locale</span>(<span class="string">&quot;&quot;</span>));</span><br><span class="line"></span><br><span class="line">NetConfig config;</span><br><span class="line"><span class="comment">//ç½‘å¡çš„keyå¯ä»¥ä»æ³¨å†Œè¡¨è·å–, è·¯å¾„: è®¡ç®—æœº\HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\Tcpip\Parameters\Interfaces\</span></span><br><span class="line"><span class="comment">config.set_key(&quot;&#123;cd574b17-73e1-42df-a50c-f95d7f15c1d0&#125;&quot;);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//è®¾ç½®é™æ€ipä¹‹å‰è¦è°ƒç”¨ä¸‹enable_dhcp, å¯ä»¥æŠŠä»¥å‰è®¾ç½®çš„ipå’Œç½‘å…³éƒ½æ¸…ç©º, å¦åˆ™æ³¨å†Œè¡¨ä¼šæœ‰å¤šä¸ªipä¿¡æ¯</span></span><br><span class="line"><span class="keyword">if</span> (config.<span class="built_in">enable_dhcp</span>()) &#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;enable_dhcp success&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;error code: &quot;</span> &lt;&lt; config.<span class="built_in">get_last_error_code</span>() &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (config.<span class="built_in">set_ip_config</span>(<span class="string">&quot;192.168.1.100&quot;</span>, <span class="string">&quot;255.255.255.0&quot;</span>, <span class="string">&quot;192.168.1.1&quot;</span>)) &#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;set_ip_config success&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;error code: &quot;</span> &lt;&lt; config.<span class="built_in">get_last_error_code</span>() &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (config.<span class="built_in">set_dns</span>(<span class="string">&quot;255.255.255.0&quot;</span>, <span class="string">&quot;&quot;</span>)) &#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;set_dns success&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;error code: &quot;</span> &lt;&lt; config.<span class="built_in">get_last_error_code</span>() &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">cin.<span class="built_in">get</span>();</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="net-config-h"><a href="#net-config-h" class="headerlink" title="net_config.h"></a>net_config.h</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//net_config.h</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">pragma</span> once</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;memory&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;Wbemidl.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">NetConfig</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">NetConfig</span>() &#123;&#125;</span><br><span class="line"><span class="built_in">NetConfig</span>(<span class="type">const</span> std::string &amp;key) </span><br><span class="line">:<span class="built_in">key_</span>(key)&#123; &#125;</span><br><span class="line">~<span class="built_in">NetConfig</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">//è®¾ç½®ç½‘ç»œè®¾å¤‡GUID</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">set_key</span><span class="params">(<span class="type">const</span> std::string &amp;key)</span> </span>&#123;</span><br><span class="line"><span class="built_in">clear</span>();</span><br><span class="line">key_ = key;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//å¯ç”¨DHCP</span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">enable_dhcp</span><span class="params">()</span></span>;</span><br><span class="line"><span class="comment">//å¯åŠ¨é™æ€IP,è®¾ç½®IP,æ©ç ,ç½‘å…³</span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">set_ip_config</span><span class="params">(<span class="type">const</span> std::string &amp;ip, <span class="type">const</span> std::string &amp;mask, <span class="type">const</span> std::string &amp;gateway)</span></span>;</span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">set_ip_config</span><span class="params">(<span class="type">const</span> std::string &amp;ip, <span class="type">const</span> std::string &amp;mask)</span></span>;</span><br><span class="line"><span class="comment">//è®¾ç½®ç½‘å…³</span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">set_gateway</span><span class="params">(<span class="type">const</span> std::string &amp;gateway)</span></span>;</span><br><span class="line"><span class="comment">//è®¾ç½®DNSåœ°å€</span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">set_dns</span><span class="params">(<span class="type">const</span> std::string &amp;default_dns, <span class="type">const</span> std::string &amp;backup_dns)</span></span>;</span><br><span class="line"><span class="comment">//è®¾ç½®è‡ªåŠ¨DNS</span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">set_auto_dns</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">get_last_error_code</span><span class="params">()</span><span class="type">const</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> last_error_code_;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">clear</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"><span class="built_in">NetConfig</span>(<span class="type">const</span> NetConfig &amp;rhs) = <span class="keyword">delete</span>;</span><br><span class="line">NetConfig &amp;<span class="keyword">operator</span> = (<span class="type">const</span> NetConfig &amp;rhs) = <span class="keyword">delete</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"><span class="comment">//åˆå§‹åŒ–</span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">init</span><span class="params">()</span></span>;</span><br><span class="line"><span class="comment">//åˆ›å»ºCOMæ•°ç»„</span></span><br><span class="line"><span class="function">std::shared_ptr&lt;SAFEARRAY&gt; <span class="title">create_SAFEARRAY</span><span class="params">(<span class="type">const</span> std::vector&lt;std::string&gt; &amp;args)</span></span>;</span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">set_dns_base</span><span class="params">(<span class="type">bool</span> is_auto, <span class="type">const</span> std::string &amp;default_dns, <span class="type">const</span> std::string &amp;backup_dns)</span></span>;</span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">exec_method</span><span class="params">(<span class="type">const</span> <span class="type">wchar_t</span> *method, IWbemClassObject *params_instance)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">std::string key_;</span><br><span class="line"><span class="type">bool</span> is_init_ = <span class="literal">false</span>;</span><br><span class="line">IWbemLocator* p_instance_ = <span class="literal">NULL</span>;</span><br><span class="line">IWbemServices* p_service_ = <span class="literal">NULL</span>;</span><br><span class="line">IEnumWbemClassObject* p_enum_ = <span class="literal">NULL</span>;</span><br><span class="line">IWbemClassObject *p_obj_ = <span class="literal">NULL</span>;</span><br><span class="line">IWbemClassObject *p_config = <span class="literal">NULL</span>;</span><br><span class="line">VARIANT path_;</span><br><span class="line"><span class="type">int</span> last_error_code_ = <span class="number">0</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="net-config-cpp"><a href="#net-config-cpp" class="headerlink" title="net_config.cpp"></a>net_config.cpp</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//net_config.cpp</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;net_config.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;codecvt&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;atlbase.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;comutil.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">ifdef</span> _DEBUG</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">pragma</span> comment(lib, <span class="string">&quot;wbemuuid.lib&quot;</span>)</span></span><br><span class="line"><span class="meta">#<span class="keyword">pragma</span> comment(lib, <span class="string">&quot;comsuppw.lib&quot;</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">pragma</span> execution_character_set(<span class="string">&quot;utf-8&quot;</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line">NetConfig::~<span class="built_in">NetConfig</span>()</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">clear</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">NetConfig::enable_dhcp</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span> (!<span class="built_in">init</span>())</span><br><span class="line"><span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"><span class="keyword">return</span> <span class="built_in">exec_method</span>(<span class="string">L&quot;EnableDHCP&quot;</span>, <span class="literal">NULL</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">NetConfig::set_ip_config</span><span class="params">(<span class="type">const</span> std::string &amp; ip, <span class="type">const</span> std::string &amp; mask, <span class="type">const</span> std::string &amp; gateway)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">set_ip_config</span>(ip, mask)) &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="built_in">set_gateway</span>(gateway);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">NetConfig::set_ip_config</span><span class="params">(<span class="type">const</span> std::string &amp; ip, <span class="type">const</span> std::string &amp; mask)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">bool</span> rt = <span class="literal">false</span>;</span><br><span class="line"><span class="keyword">if</span> (!<span class="built_in">init</span>())</span><br><span class="line"><span class="keyword">return</span> rt;</span><br><span class="line"></span><br><span class="line">IWbemClassObject *params = <span class="literal">NULL</span>;</span><br><span class="line">IWbemClassObject *paramsInst = <span class="literal">NULL</span>;</span><br><span class="line">p_config-&gt;<span class="built_in">GetMethod</span>(<span class="type">_bstr_t</span>(<span class="string">&quot;EnableStatic&quot;</span>), <span class="number">0</span>, &amp;params, <span class="literal">NULL</span>);</span><br><span class="line">params-&gt;<span class="built_in">SpawnInstance</span>(<span class="number">0</span>, &amp;paramsInst);</span><br><span class="line"></span><br><span class="line"><span class="keyword">auto</span> p1 = <span class="built_in">create_SAFEARRAY</span>(&#123; ip &#125;);</span><br><span class="line">VARIANT paramVt;</span><br><span class="line">paramVt.vt = VT_ARRAY | VT_BSTR;</span><br><span class="line">paramVt.parray = p1.<span class="built_in">get</span>();</span><br><span class="line">paramsInst-&gt;<span class="built_in">Put</span>(<span class="string">L&quot;IPAddress&quot;</span>, <span class="number">0</span>, &amp;paramVt, <span class="literal">NULL</span>);</span><br><span class="line">p1 = <span class="built_in">create_SAFEARRAY</span>(&#123; mask &#125;);</span><br><span class="line">paramVt.parray = p1.<span class="built_in">get</span>();</span><br><span class="line">paramsInst-&gt;<span class="built_in">Put</span>(<span class="string">L&quot;SubnetMask&quot;</span>, <span class="number">0</span>, &amp;paramVt, <span class="literal">NULL</span>);</span><br><span class="line"></span><br><span class="line">rt = <span class="built_in">exec_method</span>(<span class="string">L&quot;EnableStatic&quot;</span>, paramsInst);</span><br><span class="line"><span class="keyword">if</span> (params) &#123;</span><br><span class="line">params-&gt;<span class="built_in">Release</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> rt;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">NetConfig::set_dns</span><span class="params">(<span class="type">const</span> std::string &amp; default_dns, <span class="type">const</span> std::string &amp; backup_dns)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="built_in">set_dns_base</span>(<span class="literal">false</span>, default_dns, backup_dns);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">NetConfig::set_auto_dns</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="built_in">set_dns_base</span>(<span class="literal">true</span>, <span class="string">&quot;&quot;</span>, <span class="string">&quot;&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">NetConfig::set_gateway</span><span class="params">(<span class="type">const</span> std::string &amp; gateway)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">bool</span> rt = <span class="literal">false</span>;</span><br><span class="line"><span class="keyword">if</span> (!<span class="built_in">init</span>())</span><br><span class="line"><span class="keyword">return</span> rt;</span><br><span class="line"></span><br><span class="line">IWbemClassObject *params = <span class="literal">NULL</span>;</span><br><span class="line">IWbemClassObject *paramsInst = <span class="literal">NULL</span>;</span><br><span class="line">p_config-&gt;<span class="built_in">GetMethod</span>(<span class="type">_bstr_t</span>(<span class="string">&quot;SetGateways&quot;</span>), <span class="number">0</span>, &amp;params, <span class="literal">NULL</span>);</span><br><span class="line">params-&gt;<span class="built_in">SpawnInstance</span>(<span class="number">0</span>, &amp;paramsInst);</span><br><span class="line"></span><br><span class="line"><span class="keyword">auto</span> p1 = <span class="built_in">create_SAFEARRAY</span>(&#123; gateway &#125;);</span><br><span class="line">VARIANT paramVt;</span><br><span class="line">paramVt.vt = VT_ARRAY | VT_BSTR;</span><br><span class="line">paramVt.parray = p1.<span class="built_in">get</span>();</span><br><span class="line">paramsInst-&gt;<span class="built_in">Put</span>(<span class="string">L&quot;DefaultIPGateway&quot;</span>, <span class="number">0</span>, &amp;paramVt, <span class="literal">NULL</span>);</span><br><span class="line">paramVt.vt = VT_UINT;</span><br><span class="line">paramVt.uintVal = <span class="number">1</span>;</span><br><span class="line">paramsInst-&gt;<span class="built_in">Put</span>(<span class="string">L&quot;GatewayCostMetric&quot;</span>, <span class="number">0</span>, &amp;paramVt, <span class="literal">NULL</span>);</span><br><span class="line"></span><br><span class="line">rt = <span class="built_in">exec_method</span>(<span class="string">L&quot;SetGateways&quot;</span>, paramsInst);</span><br><span class="line"><span class="keyword">if</span> (params) &#123;</span><br><span class="line">params-&gt;<span class="built_in">Release</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> rt;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">NetConfig::clear</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span> (p_config) &#123;</span><br><span class="line">p_config-&gt;<span class="built_in">Release</span>();</span><br><span class="line">p_config = <span class="literal">nullptr</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (p_obj_) &#123;</span><br><span class="line">p_obj_-&gt;<span class="built_in">Release</span>();</span><br><span class="line">p_obj_ = <span class="literal">nullptr</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (p_enum_) &#123;</span><br><span class="line">p_enum_-&gt;<span class="built_in">Release</span>();</span><br><span class="line">p_enum_ = <span class="literal">nullptr</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (p_service_) &#123;</span><br><span class="line">p_service_-&gt;<span class="built_in">Release</span>();</span><br><span class="line">p_service_ = <span class="literal">nullptr</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (p_instance_) &#123;</span><br><span class="line">p_instance_-&gt;<span class="built_in">Release</span>();</span><br><span class="line">p_instance_ = <span class="literal">nullptr</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (is_init_) &#123;</span><br><span class="line"><span class="built_in">CoUninitialize</span>();</span><br><span class="line">&#125;</span><br><span class="line">is_init_ = <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">NetConfig::init</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span> (is_init_) &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Step 1: Initialize COM.</span></span><br><span class="line">HRESULThres = <span class="built_in">CoInitializeEx</span>(<span class="number">0</span>, COINIT_MULTITHREADED);</span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">FAILED</span>(hres)) &#123;</span><br><span class="line"><span class="meta">#<span class="keyword">ifdef</span> _DEBUG</span></span><br><span class="line">cout &lt;&lt; <span class="string">&quot;CoInitializeEx failed: &quot;</span> &lt;&lt; hres &lt;&lt; endl;</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"><span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">// Step 2: Set general COM security levels</span></span><br><span class="line"><span class="comment">hres = CoInitializeSecurity(</span></span><br><span class="line"><span class="comment">NULL,</span></span><br><span class="line"><span class="comment">-1,                          // COM negotiates service</span></span><br><span class="line"><span class="comment">NULL,                        // Authentication services</span></span><br><span class="line"><span class="comment">NULL,                        // Reserved</span></span><br><span class="line"><span class="comment">RPC_C_AUTHN_LEVEL_DEFAULT,   // Default authentication </span></span><br><span class="line"><span class="comment">RPC_C_IMP_LEVEL_IMPERSONATE, // Default Impersonation  </span></span><br><span class="line"><span class="comment">NULL,                        // Authentication info</span></span><br><span class="line"><span class="comment">EOAC_NONE,                   // Additional capabilities </span></span><br><span class="line"><span class="comment">NULL                         // Reserved</span></span><br><span class="line"><span class="comment">);</span></span><br><span class="line"><span class="comment">//ASSERT_THROW(SUCCEEDED(hres), &quot;CoInitializeSecurity failed&quot;);</span></span><br><span class="line"><span class="comment">if (FAILED(hres)) &#123;</span></span><br><span class="line"><span class="comment">#ifdef _DEBUG</span></span><br><span class="line"><span class="comment">cout &lt;&lt; &quot;CoInitializeSecurity failed: &quot; &lt;&lt; hres &lt;&lt; endl;</span></span><br><span class="line"><span class="comment">#endif</span></span><br><span class="line"><span class="comment">return false;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Step 3:  Obtain the initial locator to WMI</span></span><br><span class="line">hres = <span class="built_in">CoCreateInstance</span>(</span><br><span class="line">CLSID_WbemLocator,</span><br><span class="line"><span class="number">0</span>,</span><br><span class="line">CLSCTX_INPROC_SERVER,</span><br><span class="line">IID_IWbemLocator,</span><br><span class="line">(LPVOID*)&amp;p_instance_);</span><br><span class="line"><span class="comment">//ASSERT_THROW(SUCCEEDED(hres), &quot;CoCreateInstance failed&quot;);</span></span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">FAILED</span>(hres)) &#123;</span><br><span class="line"><span class="meta">#<span class="keyword">ifdef</span> _DEBUG</span></span><br><span class="line">cout &lt;&lt; <span class="string">&quot;CoCreateInstance failed: &quot;</span> &lt;&lt; hres &lt;&lt; endl;</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"><span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Step 4: Connect to the local root\cimv2 namespace and obtain pointer pSvc to make IWbemServices calls.</span></span><br><span class="line">hres = p_instance_-&gt;<span class="built_in">ConnectServer</span>(</span><br><span class="line"><span class="type">_bstr_t</span>(<span class="string">L&quot;ROOT\\CIMV2&quot;</span>),</span><br><span class="line"><span class="literal">NULL</span>,</span><br><span class="line"><span class="literal">NULL</span>,</span><br><span class="line"><span class="number">0</span>,</span><br><span class="line"><span class="literal">NULL</span>,</span><br><span class="line"><span class="number">0</span>,</span><br><span class="line"><span class="number">0</span>,</span><br><span class="line">&amp;p_service_</span><br><span class="line">);</span><br><span class="line"><span class="comment">//ASSERT_THROW(SUCCEEDED(hres), &quot;ConnectServer failed&quot;);</span></span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">FAILED</span>(hres)) &#123;</span><br><span class="line"><span class="meta">#<span class="keyword">ifdef</span> _DEBUG</span></span><br><span class="line">cout &lt;&lt; <span class="string">&quot;ConnectServer failed: &quot;</span> &lt;&lt; hres &lt;&lt; endl;</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"><span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Step 5:  Set security levels for the proxy</span></span><br><span class="line">hres = <span class="built_in">CoSetProxyBlanket</span>(</span><br><span class="line">p_service_,                        <span class="comment">// Indicates the proxy to set</span></span><br><span class="line">RPC_C_AUTHN_WINNT,           <span class="comment">// RPC_C_AUTHN_xxx </span></span><br><span class="line">RPC_C_AUTHZ_NONE,            <span class="comment">// RPC_C_AUTHZ_xxx </span></span><br><span class="line"><span class="literal">NULL</span>,                        <span class="comment">// Server principal name </span></span><br><span class="line">RPC_C_AUTHN_LEVEL_CALL,      <span class="comment">// RPC_C_AUTHN_LEVEL_xxx </span></span><br><span class="line">RPC_C_IMP_LEVEL_IMPERSONATE, <span class="comment">// RPC_C_IMP_LEVEL_xxx</span></span><br><span class="line"><span class="literal">NULL</span>,                        <span class="comment">// client identity</span></span><br><span class="line">EOAC_NONE                    <span class="comment">// proxy capabilities </span></span><br><span class="line">);</span><br><span class="line"><span class="comment">//ASSERT_THROW(SUCCEEDED(hres), &quot;CoSetProxyBlanket failed&quot;);</span></span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">FAILED</span>(hres)) &#123;</span><br><span class="line"><span class="meta">#<span class="keyword">ifdef</span> _DEBUG</span></span><br><span class="line">cout &lt;&lt; <span class="string">&quot;CoSetProxyBlanket failed: &quot;</span> &lt;&lt; hres &lt;&lt; endl;</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"><span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// é€šè¿‡é€‚é…å™¨åç§°æ¥æ‰¾åˆ°æŒ‡å®šçš„é€‚é…å™¨å¯¹è±¡.</span></span><br><span class="line">CComBSTR TheQuery = <span class="string">L&quot;SELECT * FROM Win32_NetworkAdapterConfiguration WHERE SettingID = \&quot;&quot;</span>;</span><br><span class="line">std::wstring_convert&lt;std::codecvt_utf8_utf16&lt;<span class="type">wchar_t</span>&gt;, <span class="type">wchar_t</span>&gt; conversion;</span><br><span class="line">TheQuery += conversion.<span class="built_in">from_bytes</span>(key_).<span class="built_in">c_str</span>();</span><br><span class="line">TheQuery += <span class="string">L&quot;\&quot;&quot;</span>;</span><br><span class="line">hres = p_service_-&gt;<span class="built_in">ExecQuery</span>(</span><br><span class="line"><span class="comment">//SysAllocString(L&quot;WQL&quot;),</span></span><br><span class="line"><span class="string">L&quot;WQL&quot;</span>,</span><br><span class="line">TheQuery,</span><br><span class="line">WBEM_FLAG_RETURN_IMMEDIATELY | WBEM_FLAG_FORWARD_ONLY,</span><br><span class="line"><span class="literal">NULL</span>,</span><br><span class="line">&amp;p_enum_);</span><br><span class="line"><span class="comment">//ASSERT_THROW(SUCCEEDED(hres), &quot;ExecQuery failed&quot;);</span></span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">FAILED</span>(hres)) &#123;</span><br><span class="line"><span class="meta">#<span class="keyword">ifdef</span> _DEBUG</span></span><br><span class="line">cout &lt;&lt; <span class="string">&quot;ExecQuery failed: &quot;</span> &lt;&lt; hres &lt;&lt; endl;</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"><span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Get the adapter object.</span></span><br><span class="line">ULONG num = <span class="number">0</span>;</span><br><span class="line">hres = p_enum_-&gt;<span class="built_in">Next</span>(WBEM_INFINITE, <span class="number">1</span>, &amp;p_obj_, &amp;num);</span><br><span class="line"><span class="comment">//ASSERT_THROW(SUCCEEDED(hres), &quot;Next failed&quot;);</span></span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">FAILED</span>(hres)) &#123;</span><br><span class="line"><span class="meta">#<span class="keyword">ifdef</span> _DEBUG</span></span><br><span class="line">cout &lt;&lt; <span class="string">&quot;Next failed: &quot;</span> &lt;&lt; hres &lt;&lt; endl;</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"><span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ASSERT_THROW(0 &lt; num, &quot;Next failed&quot;);</span></span><br><span class="line"><span class="keyword">if</span> (num &lt; <span class="number">1</span>) &#123;</span><br><span class="line"><span class="meta">#<span class="keyword">ifdef</span> _DEBUG</span></span><br><span class="line">cout &lt;&lt; <span class="string">&quot;Next failed num &lt; 1&quot;</span> &lt;&lt; endl;</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"><span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">VariantInit</span>(&amp;path_);</span><br><span class="line">hres = p_obj_-&gt;<span class="built_in">Get</span>(<span class="string">L&quot;__PATH&quot;</span>, <span class="number">0</span>, &amp;path_, <span class="literal">NULL</span>, <span class="literal">NULL</span>);</span><br><span class="line"><span class="comment">//ASSERT_THROW(SUCCEEDED(hres), &quot;Get path failed&quot;);</span></span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">FAILED</span>(hres)) &#123;</span><br><span class="line"><span class="meta">#<span class="keyword">ifdef</span> _DEBUG</span></span><br><span class="line">cout &lt;&lt; <span class="string">&quot;Get failed: &quot;</span> &lt;&lt; hres &lt;&lt; endl;</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"><span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line">hres = p_service_-&gt;<span class="built_in">GetObject</span>(<span class="type">_bstr_t</span>(<span class="string">L&quot;Win32_NetworkAdapterConfiguration&quot;</span>), <span class="number">0</span>, <span class="literal">NULL</span>, &amp;p_config, <span class="literal">NULL</span>);</span><br><span class="line"><span class="comment">//ASSERT_THROW(SUCCEEDED(hres), &quot;GetObject Win32_NetworkAdapterConfiguration failed&quot;);</span></span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">FAILED</span>(hres)) &#123;</span><br><span class="line"><span class="meta">#<span class="keyword">ifdef</span> _DEBUG</span></span><br><span class="line">cout &lt;&lt; <span class="string">&quot;GetObject failed: &quot;</span> &lt;&lt; hres &lt;&lt; endl;</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"><span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line">is_init_ = <span class="literal">true</span>;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">std::shared_ptr&lt;SAFEARRAY&gt; <span class="title">NetConfig::create_SAFEARRAY</span><span class="params">(<span class="type">const</span> std::vector&lt;std::string&gt; &amp;args)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">SAFEARRAY *psa = <span class="built_in">SafeArrayCreateVector</span>(VT_BSTR, <span class="number">0</span>, args.<span class="built_in">size</span>());</span><br><span class="line"><span class="type">long</span> idx[] = &#123; <span class="number">0</span> &#125;;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; args.<span class="built_in">size</span>(); i++) &#123;</span><br><span class="line">std::wstring_convert&lt;std::codecvt_utf8_utf16&lt;<span class="type">wchar_t</span>&gt;, <span class="type">wchar_t</span>&gt; conversion;</span><br><span class="line">BSTR ip = <span class="built_in">SysAllocString</span>(conversion.<span class="built_in">from_bytes</span>(args[i]).<span class="built_in">c_str</span>());</span><br><span class="line">idx[<span class="number">0</span>] = i;</span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">FAILED</span>(<span class="built_in">SafeArrayPutElement</span>(psa, idx, ip))) &#123;</span><br><span class="line"><span class="keyword">return</span> (<span class="literal">false</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">SysFreeString</span>(ip);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="built_in">shared_ptr</span>&lt;SAFEARRAY&gt;(psa, [](SAFEARRAY *psa) &#123;<span class="built_in">SafeArrayDestroy</span>(psa); &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">NetConfig::set_dns_base</span><span class="params">(<span class="type">bool</span> is_auto, <span class="type">const</span> std::string &amp; default_dns, <span class="type">const</span> std::string &amp; backup_dns)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">bool</span> rt = <span class="literal">false</span>;</span><br><span class="line"><span class="keyword">if</span> (!<span class="built_in">init</span>())</span><br><span class="line"><span class="keyword">return</span> rt;</span><br><span class="line"></span><br><span class="line">IWbemClassObject *params = <span class="literal">NULL</span>;</span><br><span class="line">IWbemClassObject *paramsInst = <span class="literal">NULL</span>;</span><br><span class="line">p_config-&gt;<span class="built_in">GetMethod</span>(<span class="type">_bstr_t</span>(<span class="string">&quot;SetDNSServerSearchOrder&quot;</span>), <span class="number">0</span>, &amp;params, <span class="literal">NULL</span>);</span><br><span class="line">params-&gt;<span class="built_in">SpawnInstance</span>(<span class="number">0</span>, &amp;paramsInst);</span><br><span class="line"></span><br><span class="line">shared_ptr&lt;SAFEARRAY&gt; p1;</span><br><span class="line"><span class="keyword">if</span> (is_auto) &#123;</span><br><span class="line">paramsInst-&gt;<span class="built_in">Put</span>(<span class="string">L&quot;DNSServerSearchOrder&quot;</span>, <span class="number">0</span>, <span class="literal">NULL</span>, <span class="literal">NULL</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">if</span> (backup_dns.<span class="built_in">size</span>()) &#123;</span><br><span class="line">p1 = <span class="built_in">create_SAFEARRAY</span>(&#123; default_dns, backup_dns &#125;);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">p1 = <span class="built_in">create_SAFEARRAY</span>(&#123; default_dns &#125;);</span><br><span class="line">&#125;</span><br><span class="line">VARIANT paramVt;</span><br><span class="line">paramVt.vt = VT_ARRAY | VT_BSTR;</span><br><span class="line">paramVt.parray = p1.<span class="built_in">get</span>();</span><br><span class="line">paramsInst-&gt;<span class="built_in">Put</span>(<span class="string">L&quot;DNSServerSearchOrder&quot;</span>, <span class="number">0</span>, &amp;paramVt, <span class="literal">NULL</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">rt = <span class="built_in">exec_method</span>(<span class="string">L&quot;SetDNSServerSearchOrder&quot;</span>, paramsInst);</span><br><span class="line"><span class="keyword">if</span> (params) &#123;</span><br><span class="line">params-&gt;<span class="built_in">Release</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> rt;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">NetConfig::exec_method</span><span class="params">(<span class="type">const</span> <span class="type">wchar_t</span> * method, IWbemClassObject * params_instance)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">bool</span> rt = <span class="literal">false</span>;</span><br><span class="line">IWbemClassObject *results = <span class="literal">NULL</span>;</span><br><span class="line"><span class="keyword">auto</span> res = p_service_-&gt;<span class="built_in">ExecMethod</span>(path_.bstrVal, <span class="type">_bstr_t</span>(method), <span class="number">0</span>, <span class="literal">NULL</span>, params_instance, &amp;results, <span class="literal">NULL</span>);</span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">SUCCEEDED</span>(res)) &#123;</span><br><span class="line">VARIANT vtRet;</span><br><span class="line"><span class="built_in">VariantInit</span>(&amp;vtRet);</span><br><span class="line"><span class="keyword">if</span> (!<span class="built_in">FAILED</span>(results-&gt;<span class="built_in">Get</span>(<span class="string">L&quot;ReturnValue&quot;</span>, <span class="number">0</span>, &amp;vtRet, <span class="literal">NULL</span>, <span class="number">0</span>))) &#123;</span><br><span class="line"><span class="keyword">if</span> (vtRet.uintVal == <span class="number">0</span> || vtRet.uintVal == <span class="number">1</span>) &#123;</span><br><span class="line">rt = <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">last_error_code_ = vtRet.uintVal;</span><br><span class="line"><span class="meta">#<span class="keyword">ifdef</span> _DEBUG</span></span><br><span class="line">wcout &lt;&lt; method &lt;&lt; <span class="string">&quot; failed, result: &quot;</span> &lt;&lt; last_error_code_ &lt;&lt; endl;</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">#<span class="keyword">ifdef</span> _DEBUG</span></span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;ExecMethod Get ReturnValue failed: &quot;</span> &lt;&lt; res &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"><span class="built_in">VariantClear</span>(&amp;vtRet);</span><br><span class="line">results-&gt;<span class="built_in">Release</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">#<span class="keyword">ifdef</span> _DEBUG</span></span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;ExecMethod failed: &quot;</span> &lt;&lt; res &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"><span class="keyword">if</span> (params_instance) &#123;</span><br><span class="line">params_instance-&gt;<span class="built_in">Release</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> rt;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> OS </category>
          
          <category> Windows </category>
          
          <category> ç½‘ç»œhelper </category>
          
      </categories>
      
      
        <tags>
            
            <tag> windows </tag>
            
            <tag> ç½‘å¡ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç›‘æ§æŒ‡å®šç½‘å¡äº‹ä»¶</title>
      <link href="/OS/Windows/%E7%BD%91%E7%BB%9Chelper/(%E8%B6%85%E8%AF%A6%E7%BB%86)%E7%9B%91%E6%8E%A7%E7%BD%91%E5%8D%A1%E4%BA%8B%E4%BB%B62/"/>
      <url>/OS/Windows/%E7%BD%91%E7%BB%9Chelper/(%E8%B6%85%E8%AF%A6%E7%BB%86)%E7%9B%91%E6%8E%A7%E7%BD%91%E5%8D%A1%E4%BA%8B%E4%BB%B62/</url>
      
        <content type="html"><![CDATA[<p>[toc]</p><h1 id="win-comç±»å’Œæ¥å£è¯´æ˜"><a href="#win-comç±»å’Œæ¥å£è¯´æ˜" class="headerlink" title="win comç±»å’Œæ¥å£è¯´æ˜"></a>win comç±»å’Œæ¥å£è¯´æ˜</h1><h2 id="1-INetworkListManager"><a href="#1-INetworkListManager" class="headerlink" title="1. INetworkListManager"></a>1. INetworkListManager</h2><blockquote><p><strong>INetworkListManager</strong> æ¥å£æä¾›äº†ä¸€ç»„ç”¨äºæ‰§è¡Œç½‘ç»œåˆ—è¡¨ç®¡ç†åŠŸèƒ½çš„æ–¹æ³•ã€‚</p><p><a href="https://learn.microsoft.com/zh-cn/windows/win32/api/netlistmgr/nn-netlistmgr-inetworklistmanager">[é€šè¿‡comç»„ä»¶è·å–ç³»ç»Ÿç½‘å¡]</a> INetworkListManageræ¥å£</p></blockquote><table><thead><tr><th><a href="https://learn.microsoft.com/zh-cn/windows/win32/api/netlistmgr/nf-netlistmgr-inetworklistmanager-clearsimulatedprofileinfo">INetworkListManagerï¼šï¼šClearSimulatedProfileInfo</a>  æ¸…é™¤ä»¥å‰é€šè¿‡ SetSimulatedProfileInfo åº”ç”¨äº Internet è¿æ¥é…ç½®æ–‡ä»¶çš„è¿æ¥é…ç½®æ–‡ä»¶å€¼ã€‚ ä¸‹ä¸€ä¸ª Internet è¿æ¥æŸ¥è¯¢ï¼ˆé€šè¿‡ GetInternetConnectionProfileï¼‰å°†ä½¿ç”¨ç³»ç»Ÿä¿¡æ¯ã€‚</th></tr></thead><tbody><tr><td><a href="https://learn.microsoft.com/zh-cn/windows/win32/api/netlistmgr/nf-netlistmgr-inetworklistmanager-get_isconnected">INetworkListManagerï¼šï¼šget_IsConnected</a>  get_IsConnected å±æ€§æŒ‡å®šæœ¬åœ°è®¡ç®—æœºæ˜¯å¦å…·æœ‰ç½‘ç»œè¿æ¥ã€‚</td></tr><tr><td><a href="https://learn.microsoft.com/zh-cn/windows/win32/api/netlistmgr/nf-netlistmgr-inetworklistmanager-get_isconnectedtointernet">INetworkListManagerï¼šï¼šget_IsConnectedToInternet</a>  get_IsConnectedToInternet å±æ€§æŒ‡å®šæœ¬åœ°è®¡ç®—æœºæ˜¯å¦å…·æœ‰ Internet è¿æ¥ã€‚</td></tr><tr><td><a href="https://learn.microsoft.com/zh-cn/windows/win32/api/netlistmgr/nf-netlistmgr-inetworklistmanager-getconnectivity">INetworkListManagerï¼šï¼šGetConnectivity</a>  GetConnectivity æ–¹æ³•è¿”å›è®¡ç®—æœºçš„æ•´ä½“è¿æ¥çŠ¶æ€ã€‚</td></tr><tr><td><a href="https://learn.microsoft.com/zh-cn/windows/win32/api/netlistmgr/nf-netlistmgr-inetworklistmanager-getnetwork">INetworkListManagerï¼šï¼šGetNetwork</a>  GetNetwork æ–¹æ³•åŸºäºæä¾›çš„ç½‘ç»œ ID æ£€ç´¢ç½‘ç»œã€‚</td></tr><tr><td><a href="https://learn.microsoft.com/zh-cn/windows/win32/api/netlistmgr/nf-netlistmgr-inetworklistmanager-getnetworkconnection">INetworkListManagerï¼šï¼šGetNetworkConnection</a>  GetNetworkConnection æ–¹æ³•åŸºäºæä¾›çš„ç½‘ç»œè¿æ¥ ID æ£€ç´¢ç½‘ç»œã€‚</td></tr><tr><td><a href="https://learn.microsoft.com/zh-cn/windows/win32/api/netlistmgr/nf-netlistmgr-inetworklistmanager-getnetworkconnections">INetworkListManagerï¼šï¼šGetNetworkConnections</a>  GetNetworkConnections æ–¹æ³•æšä¸¾å·²å»ºç«‹çš„ç½‘ç»œè¿æ¥çš„å®Œæ•´åˆ—è¡¨ã€‚</td></tr><tr><td><a href="https://learn.microsoft.com/zh-cn/windows/win32/api/netlistmgr/nf-netlistmgr-inetworklistmanager-getnetworks">INetworkListManagerï¼šï¼šGetNetworks</a>  GetNetworks æ–¹æ³•æ£€ç´¢æœ¬åœ°è®¡ç®—æœºä¸Šå¯ç”¨çš„ç½‘ç»œåˆ—è¡¨ã€‚</td></tr><tr><td><a href="https://learn.microsoft.com/zh-cn/windows/win32/api/netlistmgr/nf-netlistmgr-inetworklistmanager-setsimulatedprofileinfo">INetworkListManagerï¼šï¼šSetSimulatedProfileInfo</a> SetSimulatedProfileInfo æ–¹æ³•å°†ä¸€ç»„ç‰¹å®šçš„è¿æ¥é…ç½®æ–‡ä»¶å€¼åº”ç”¨äº Internet è¿æ¥é…ç½®æ–‡ä»¶ï¼Œä»¥æ”¯æŒç‰¹å®šæŒ‰æµé‡è®¡è´¹çš„ Internet è¿æ¥æ¡ä»¶æ¨¡æ‹Ÿã€‚</td></tr></tbody></table><p>ä½¿ç”¨å‚è€ƒï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">IUnknown* pUnknown = <span class="literal">NULL</span>;</span><br><span class="line">HRESULT Result = <span class="built_in">CoCreateInstance</span>(CLSID_NetworkListManager, <span class="literal">NULL</span>, CLSCTX_ALL, IID_IUnknown, (<span class="type">void</span>**)&amp;pUnknown);</span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">SUCCEEDED</span>(Result))</span><br><span class="line">&#123;</span><br><span class="line">    INetworkListManager* pNetworkListManager = <span class="literal">NULL</span>;</span><br><span class="line">    Result = pUnknown-&gt;<span class="built_in">QueryInterface</span>(IID_INetworkListManager, (<span class="type">void</span>**)&amp;pNetworkListManager);</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">SUCCEEDED</span>(Result))</span><br><span class="line">    &#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">...</span><br></pre></td></tr></table></figure><h2 id="2-INetConnectionManager"><a href="#2-INetConnectionManager" class="headerlink" title="2. INetConnectionManager"></a>2. INetConnectionManager</h2><blockquote></blockquote><h2 id="3-IConnectionPointContainer"><a href="#3-IConnectionPointContainer" class="headerlink" title="3. IConnectionPointContainer"></a>3. IConnectionPointContainer</h2><blockquote><p>æ”¯æŒå¯è¿æ¥å¯¹è±¡çš„è¿æ¥ç‚¹ã€‚</p></blockquote><table><thead><tr><th><a href="https://learn.microsoft.com/zh-cn/windows/win32/api/ocidl/nf-ocidl-iconnectionpointcontainer-enumconnectionpoints">IConnectionPointContainerï¼šï¼šEnumConnectionPoints</a>  åˆ›å»ºæšä¸¾å™¨å¯¹è±¡ä»¥å¾ªç¯è®¿é—®å¯è¿æ¥å¯¹è±¡ä¸­æ”¯æŒçš„æ‰€æœ‰è¿æ¥ç‚¹ï¼Œæ¯ä¸ªä¼ å‡º IID ä¸€ä¸ªè¿æ¥ç‚¹ã€‚</th></tr></thead><tbody><tr><td><a href="https://learn.microsoft.com/zh-cn/windows/win32/api/ocidl/nf-ocidl-iconnectionpointcontainer-findconnectionpoint">IConnectionPointContainerï¼šï¼šFindConnectionPoint</a>  å¦‚æœ IID æè¿°æ”¯æŒçš„ä¼ å‡ºæ¥å£ï¼Œåˆ™è¿”å›æŒ‡å‘æŒ‡å®š IID çš„è¿æ¥ç‚¹çš„ IConnectionPoint æ¥å£çš„æŒ‡é’ˆã€‚</td></tr></tbody></table><p>ä½¿ç”¨å‚è€ƒï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">IConnectionPointContainer* pCPContainer = <span class="literal">NULL</span>;</span><br><span class="line">Result = pNetworkListManager-&gt;<span class="built_in">QueryInterface</span>(IID_IConnectionPointContainer, (<span class="type">void</span>**)&amp;pCPContainer);</span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">SUCCEEDED</span>(Result))</span><br><span class="line">&#123;</span><br><span class="line">    IConnectionPoint* pConnectPoint = <span class="literal">NULL</span>;</span><br><span class="line">    Result = pCPContainer-&gt;<span class="built_in">FindConnectionPoint</span>(IID_INetworkListManagerEvents, &amp;pConnectPoint); <span class="comment">// æŸ¥æ‰¾ IID å¯¹åº”çš„è¿æ¥ç‚¹</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">SUCCEEDED</span>(Result))</span><br><span class="line">    &#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">...</span><br></pre></td></tr></table></figure><h2 id="4-IConnectionPoint"><a href="#4-IConnectionPoint" class="headerlink" title="4. IConnectionPoint"></a>4. IConnectionPoint</h2><blockquote><p>æ”¯æŒå¯è¿æ¥å¯¹è±¡çš„è¿æ¥ç‚¹ã€‚é€šè¿‡ <code>IConnectionPointContainer::FindConnectionPoint</code> è·å–ã€‚é€šè¿‡å…¶å‡½æ•° <code>Advise</code> å¯ä»¥å»ºç«‹è¿æ¥ç‚¹å¯¹è±¡ä¸å®¢æˆ·ç«¯æ¥æ”¶å™¨ä¹‹é—´çš„è¿æ¥ã€‚ä¹Ÿå°±æ˜¯å¯ä»¥é€šè¿‡æ­¤æ¥å£å®ç°ç½‘ç»œäº‹ä»¶çš„ç›‘æ§ã€‚</p></blockquote><ul><li>ç¬¬ä¸€ä¸ªå‚æ•°å‚è€ƒ <a href="https://learn.microsoft.com/zh-cn/windows/win32/api/netlistmgr/">netListmgr.h</a></li></ul><p>ä½¿ç”¨å‚è€ƒï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">IConnectionPoint* pConnectPoint = <span class="literal">NULL</span>;</span><br><span class="line">Result = pCPContainer-&gt;<span class="built_in">FindConnectionPoint</span>(IID_INetworkListManagerEvents, &amp;pConnectPoint);</span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">SUCCEEDED</span>(Result))</span><br><span class="line">&#123;</span><br><span class="line">    DWORD Cookie = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">    CNetworkMonitor networkMonitor;</span><br><span class="line">    std::function&lt;<span class="type">void</span>(<span class="type">bool</span>)&gt; monitorFunc = std::<span class="built_in">bind</span>(&amp;CNetworkMonitor::NetworkStatusChangedCallback, networkMonitor, std::placeholders::_1);</span><br><span class="line">    <span class="comment">// CNetworkListManagerEvent ä¸ºç»§æ‰¿è‡ª INetworkListManagerEvents çš„ç±»ï¼Œé‡è½½äº† ConnectivityChanged å‡½æ•°</span></span><br><span class="line">    CNetworkListManagerEvent* pNetEvent = <span class="built_in">new</span>(std::nothrow) <span class="built_in">CNetworkListManagerEvent</span>(monitorFunc);</span><br><span class="line">    <span class="keyword">if</span> (pNetEvent)</span><br><span class="line">    &#123;</span><br><span class="line">        Result = pConnectPoint-&gt;<span class="built_in">Advise</span>((IUnknown*)pNetEvent, &amp;Cookie);</span><br><span class="line">        ...</span><br></pre></td></tr></table></figure><h2 id="5-INetConnection"><a href="#5-INetConnection" class="headerlink" title="5. INetConnection"></a>5. INetConnection</h2><p><a href="https://learn.microsoft.com/en-us/windows/win32/api/netcon/nn-netcon-inetconnection">https://learn.microsoft.com/en-us/windows/win32/api/netcon/nn-netcon-inetconnection</a></p><h1 id="ä½¿ç”¨ç¤ºä¾‹-1ï¼š"><a href="#ä½¿ç”¨ç¤ºä¾‹-1ï¼š" class="headerlink" title="ä½¿ç”¨ç¤ºä¾‹ 1ï¼š"></a>ä½¿ç”¨ç¤ºä¾‹ 1ï¼š</h1><blockquote><p>ç›‘æ§ç½‘ç»œçŠ¶æ€ï¼ŒåŒæ—¶å¯ä»¥ç›‘æ§wifeçš„ç½‘ç»œè´¨é‡</p></blockquote><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;memory&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;thread&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;locale&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;codecvt&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;functional&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;Windows.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;netlistmgr.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;atlbase.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;objbase.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;wtypes.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;wlanapi.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;netcon.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;IPHlpApi.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;comutil.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">pragma</span> comment(lib, <span class="string">&quot;comsuppwd.lib&quot;</span>)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">pragma</span> comment(lib, <span class="string">&quot;ole32.lib&quot;</span>)</span></span><br><span class="line"><span class="meta">#<span class="keyword">pragma</span> comment(lib, <span class="string">&quot;wlanapi.lib&quot;</span>)</span></span><br><span class="line"><span class="meta">#<span class="keyword">pragma</span> comment(lib, <span class="string">&quot;Iphlpapi.lib&quot;</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">static</span> std::string <span class="title">WCharToMByte</span><span class="params">(LPCWSTR lpcwszStr)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">std::string str;</span><br><span class="line">DWORD dwMinSize = <span class="number">0</span>;</span><br><span class="line">LPSTR lpszStr = <span class="literal">NULL</span>;</span><br><span class="line">dwMinSize = <span class="built_in">WideCharToMultiByte</span>(CP_OEMCP, <span class="literal">NULL</span>, lpcwszStr, <span class="number">-1</span>, <span class="literal">NULL</span>, <span class="number">0</span>, <span class="literal">NULL</span>, FALSE);</span><br><span class="line"><span class="keyword">if</span> (<span class="number">0</span> == dwMinSize)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span> FALSE;</span><br><span class="line">&#125;</span><br><span class="line">lpszStr = <span class="keyword">new</span> <span class="type">char</span>[dwMinSize];</span><br><span class="line"><span class="built_in">WideCharToMultiByte</span>(CP_OEMCP, <span class="literal">NULL</span>, lpcwszStr, <span class="number">-1</span>, lpszStr, dwMinSize, <span class="literal">NULL</span>, FALSE);</span><br><span class="line">str = lpszStr;</span><br><span class="line"><span class="keyword">delete</span>[] lpszStr;</span><br><span class="line"><span class="keyword">return</span> str;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">static</span> std::wstring <span class="title">GUIDToString</span><span class="params">(<span class="type">const</span> GUID&amp; guid)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">OLECHAR guidString[<span class="number">40</span>] = &#123; <span class="number">0</span> &#125;;</span><br><span class="line">::<span class="built_in">StringFromGUID2</span>(guid, guidString, <span class="built_in">sizeof</span>(guidString));</span><br><span class="line"><span class="keyword">return</span> guidString;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">static</span> std::string <span class="title">UnicodeToUTF8</span><span class="params">(<span class="type">const</span> std::wstring&amp; wstr)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">std::string ret;</span><br><span class="line"><span class="keyword">try</span></span><br><span class="line">&#123;</span><br><span class="line">std::wstring_convert&lt; std::codecvt_utf8&lt;<span class="type">wchar_t</span>&gt; &gt; wcv;</span><br><span class="line">ret = wcv.<span class="built_in">to_bytes</span>(wstr);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">catch</span> (<span class="type">const</span> std::exception&amp; e)</span><br><span class="line">&#123;</span><br><span class="line">std::cerr &lt;&lt; e.<span class="built_in">what</span>() &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> ret;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">NetWorkEvent</span> : <span class="keyword">public</span> INetworkConnectionEvents</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">LONG _ref;</span><br><span class="line">std::function&lt;<span class="type">void</span>()&gt; _callback;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">NetWorkEvent</span>(<span class="type">const</span> std::function&lt;<span class="built_in">void</span>()&gt;&amp; cb);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">virtual</span> HRESULT STDMETHODCALLTYPE <span class="title">NetworkConnectionConnectivityChanged</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function"><span class="comment">/* [in] */</span> GUID connectionId,</span></span></span><br><span class="line"><span class="params"><span class="function"><span class="comment">/* [in] */</span> NLM_CONNECTIVITY newConnectivity)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">virtual</span> HRESULT STDMETHODCALLTYPE <span class="title">NetworkConnectionPropertyChanged</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function"><span class="comment">/* [in] */</span> GUID connectionId,</span></span></span><br><span class="line"><span class="params"><span class="function"><span class="comment">/* [in] */</span> NLM_CONNECTION_PROPERTY_CHANGE flags)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function">STDMETHODIMP <span class="title">QueryInterface</span><span class="params">(REFIID refIID, <span class="type">void</span>** pIFace)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">virtual</span> ULONG __stdcall <span class="title">AddRef</span><span class="params">(<span class="type">void</span>)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">virtual</span> ULONG __stdcall <span class="title">Release</span><span class="params">(<span class="type">void</span>)</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">NetWorkEvent::<span class="built_in">NetWorkEvent</span>(<span class="type">const</span> std::function&lt;<span class="built_in">void</span>()&gt;&amp; cb)</span><br><span class="line">: _callback(cb)</span><br><span class="line">&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">HRESULT <span class="title">NetWorkEvent::NetworkConnectionConnectivityChanged</span><span class="params">(GUID connectionId, NLM_CONNECTIVITY newConnectivity)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">std::wcout &lt;&lt; <span class="built_in">GUIDToString</span>(connectionId) &lt;&lt; <span class="string">&quot; | NUL_CONNECTIVITY : &quot;</span> &lt;&lt; newConnectivity &lt;&lt; std::endl;</span><br><span class="line"><span class="keyword">if</span> (_callback)</span><br><span class="line">&#123;</span><br><span class="line">_callback();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> S_OK;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">HRESULT <span class="title">NetWorkEvent::NetworkConnectionPropertyChanged</span><span class="params">(GUID connectionId, NLM_CONNECTION_PROPERTY_CHANGE flags)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> S_OK;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">STDMETHODIMP <span class="title">NetWorkEvent::QueryInterface</span><span class="params">(REFIID refIID, <span class="type">void</span>** pIFace)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">HRESULT hr = S_OK;</span><br><span class="line">*pIFace = <span class="literal">NULL</span>;</span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">IsEqualIID</span>(refIID, IID_IUnknown))</span><br><span class="line">&#123;</span><br><span class="line">*pIFace = (IUnknown*)<span class="keyword">this</span>;</span><br><span class="line">((IUnknown*)*pIFace)-&gt;<span class="built_in">AddRef</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">IsEqualIID</span>(refIID, IID_INetworkConnectionEvents))</span><br><span class="line">&#123;</span><br><span class="line">*pIFace = (INetworkConnectionEvents*)<span class="keyword">this</span>;</span><br><span class="line">((IUnknown*)*pIFace)-&gt;<span class="built_in">AddRef</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">hr = E_NOINTERFACE;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> hr;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">ULONG <span class="title">NetWorkEvent::AddRef</span><span class="params">(<span class="type">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> (ULONG)<span class="built_in">InterlockedIncrement</span>(&amp;_ref);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">ULONG <span class="title">NetWorkEvent::Release</span><span class="params">(<span class="type">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">LONG Result = <span class="built_in">InterlockedDecrement</span>(&amp;_ref);</span><br><span class="line"><span class="keyword">if</span> (Result == <span class="number">0</span>)</span><br><span class="line"><span class="keyword">delete</span> <span class="keyword">this</span>;</span><br><span class="line"><span class="keyword">return</span> (ULONG)Result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">enum</span> <span class="title class_">NetworkType</span></span><br><span class="line">&#123;</span><br><span class="line">NotNetwork,</span><br><span class="line">Ethernet,</span><br><span class="line">Wlan,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">enum</span> <span class="title class_">WiFiQuality</span></span><br><span class="line">&#123;</span><br><span class="line">Weak,             <span class="comment">// (-INF, -70dBm)</span></span><br><span class="line">Fair,             <span class="comment">// [-70dBm, -60dBm)</span></span><br><span class="line">Good,             <span class="comment">// [-60dBm, -50dBm)</span></span><br><span class="line">Excellent         <span class="comment">// [-50dBm, +INF)</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">ConnectionInfo</span></span><br><span class="line">&#123;</span><br><span class="line">std::wstring guid;</span><br><span class="line">NetworkType type;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">NetworkMonitor</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="function"><span class="keyword">friend</span> <span class="type">void</span> <span class="title">OnNotificationCallback</span><span class="params">(PWLAN_NOTIFICATION_DATA Data, PVOID context)</span></span>;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">NetworkMonitor</span>();</span><br><span class="line">~<span class="built_in">NetworkMonitor</span>();</span><br><span class="line"></span><br><span class="line"><span class="function">std::vector&lt;ConnectionInfo&gt; <span class="title">GetNetworkConnections</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function">NetworkType <span class="title">GetNetAdpaterType</span><span class="params">(<span class="type">const</span> std::wstring&amp; guid)</span></span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">OnNetworkStatusChange</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function">WiFiQuality <span class="title">GetWiFiSignalQuality</span><span class="params">(<span class="type">const</span> std::wstring&amp; guid)</span></span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">OnWiFiQualityChange</span><span class="params">(<span class="type">const</span> GUID&amp; guid)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">ShowNetworkStatus</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">std::unique_ptr&lt;NetWorkEvent&gt; _networkEvent;</span><br><span class="line"></span><br><span class="line">DWORD _cookie;</span><br><span class="line">CComPtr&lt;INetworkListManager&gt; _pNLM;</span><br><span class="line">CComPtr&lt;IConnectionPointContainer&gt; _pCpc;</span><br><span class="line">CComPtr&lt;IConnectionPoint&gt; _pConnectionPoint;</span><br><span class="line"></span><br><span class="line">HANDLE _wlanHandle;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">static</span> NetworkMonitor* <span class="title">InstanceOfNetworkMonitor</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">static</span> NetworkMonitor instance;</span><br><span class="line"><span class="keyword">return</span> &amp;instance;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">NetworkMonitor::<span class="built_in">NetworkMonitor</span>()</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">CoInitializeEx</span>(<span class="literal">NULL</span>, COINIT_MULTITHREADED | COINIT_DISABLE_OLE1DDE);</span><br><span class="line"></span><br><span class="line">HRESULT hr = <span class="built_in">CoCreateInstance</span>(CLSID_NetworkListManager, <span class="literal">NULL</span>, CLSCTX_ALL, IID_INetworkListManager, (LPVOID*)&amp;_pNLM);</span><br><span class="line">hr = _pNLM-&gt;<span class="built_in">QueryInterface</span>(IID_IConnectionPointContainer, (<span class="type">void</span>**)&amp;_pCpc);</span><br><span class="line">hr = _pCpc-&gt;<span class="built_in">FindConnectionPoint</span>(IID_INetworkConnectionEvents, &amp;_pConnectionPoint);</span><br><span class="line"></span><br><span class="line">_networkEvent = std::<span class="built_in">make_unique</span>&lt;NetWorkEvent&gt;(std::<span class="built_in">bind</span>(&amp;NetworkMonitor::OnNetworkStatusChange, <span class="keyword">this</span>));</span><br><span class="line">hr = _pConnectionPoint-&gt;<span class="built_in">Advise</span>((IUnknown*)_networkEvent.<span class="built_in">get</span>(), &amp;_cookie);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">NetworkMonitor::~<span class="built_in">NetworkMonitor</span>()</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (_pConnectionPoint)</span><br><span class="line">&#123;</span><br><span class="line">_pConnectionPoint-&gt;<span class="built_in">Unadvise</span>(_cookie);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">CloseHandle</span>(_wlanHandle);</span><br><span class="line"></span><br><span class="line"><span class="built_in">CoUninitialize</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">OnNotificationCallback</span><span class="params">(PWLAN_NOTIFICATION_DATA Data, PVOID context)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span> (Data != <span class="literal">NULL</span> &amp;&amp;</span><br><span class="line">Data-&gt;NotificationSource == WLAN_NOTIFICATION_SOURCE_MSM &amp;&amp;</span><br><span class="line">Data-&gt;NotificationCode == wlan_notification_msm_signal_quality_change)</span><br><span class="line">&#123;</span><br><span class="line">WLAN_SIGNAL_QUALITY Qality = (WLAN_SIGNAL_QUALITY)Data-&gt;pData;</span><br><span class="line">std::cout &lt;&lt; <span class="string">&quot;WiFi OnNotification Qality : &quot;</span> &lt;&lt; Qality &lt;&lt; std::endl;</span><br><span class="line"><span class="built_in">InstanceOfNetworkMonitor</span>()-&gt;<span class="built_in">OnWiFiQualityChange</span>(Data-&gt;InterfaceGuid);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">std::vector&lt;ConnectionInfo&gt; <span class="title">NetworkMonitor::GetNetworkConnections</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">std::vector&lt;ConnectionInfo&gt; result;</span><br><span class="line"></span><br><span class="line">CComPtr&lt;IEnumNetworkConnections&gt; enumConnectons;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">FAILED</span>(_pNLM-&gt;<span class="built_in">GetNetworkConnections</span>(&amp;enumConnectons)))</span><br><span class="line">&#123;</span><br><span class="line">std::cerr &lt;&lt; <span class="string">&quot;GetNetworkConnections error : &quot;</span> &lt;&lt; <span class="built_in">GetLastError</span>() &lt;&lt; std::endl;</span><br><span class="line"><span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (enumConnectons)</span><br><span class="line">&#123;</span><br><span class="line">ULONG lFetch;</span><br><span class="line">INetworkConnection* connection = <span class="literal">nullptr</span>;</span><br><span class="line"><span class="keyword">while</span> (<span class="built_in">SUCCEEDED</span>(enumConnectons-&gt;<span class="built_in">Next</span>(<span class="number">1</span>, &amp;connection, &amp;lFetch)) &amp;&amp; <span class="literal">nullptr</span> != connection)</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ¤æ–­æ˜¯å¦å½“å‰è¿æ¥ç½‘å¡</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">VARIANT_BOOL isConnectInternet = VARIANT_FALSE;</span></span><br><span class="line"><span class="comment">connection-&gt;get_IsConnectedToInternet(&amp;isConnectInternet);</span></span><br><span class="line"><span class="comment">if (isConnectInternet == VARIANT_FALSE)</span></span><br><span class="line"><span class="comment">&#123;</span></span><br><span class="line"><span class="comment">continue;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line">ConnectionInfo item;</span><br><span class="line">GUID guid;</span><br><span class="line">INetwork* network;</span><br><span class="line">BSTR strNetWorkName = <span class="literal">nullptr</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">SUCCEEDED</span>(connection-&gt;<span class="built_in">GetNetwork</span>(&amp;network)) &amp;&amp; network != <span class="literal">nullptr</span>)</span><br><span class="line">&#123;</span><br><span class="line">network-&gt;<span class="built_in">GetName</span>(&amp;strNetWorkName);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">std::string strName = _com_util::<span class="built_in">ConvertBSTRToString</span>(strNetWorkName);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (strName.<span class="built_in">compare</span>(<span class="string">&quot;TrustAgent VNIC&quot;</span>) != <span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">continue</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è·å– GUID</span></span><br><span class="line">connection-&gt;<span class="built_in">GetAdapterId</span>(&amp;guid);</span><br><span class="line">item.guid = <span class="built_in">GUIDToString</span>(guid);</span><br><span class="line"></span><br><span class="line">result.<span class="built_in">push_back</span>(item);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (connection)</span><br><span class="line">&#123;</span><br><span class="line">connection-&gt;<span class="built_in">Release</span>();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">auto</span> it = result.<span class="built_in">begin</span>(); it != result.<span class="built_in">end</span>(); ++it)</span><br><span class="line">&#123;</span><br><span class="line">it-&gt;type = <span class="built_in">GetNetAdpaterType</span>(it-&gt;guid);</span><br><span class="line">&#125;</span><br><span class="line">std::<span class="built_in">partition</span>(result.<span class="built_in">begin</span>(), std::<span class="built_in">partition</span>(result.<span class="built_in">begin</span>(), result.<span class="built_in">end</span>(), [](<span class="type">const</span> ConnectionInfo&amp; info)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span> info.type != NetworkType::NotNetwork;</span><br><span class="line">&#125;), [](<span class="type">const</span> ConnectionInfo&amp; info)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span> info.type == NetworkType::Ethernet;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">auto</span> it = result.<span class="built_in">begin</span>(); it != result.<span class="built_in">end</span>(); ++it)</span><br><span class="line">&#123;</span><br><span class="line">std::wcout &lt;&lt; <span class="string">&quot;connect network guid : &quot;</span> &lt;&lt; it-&gt;guid &lt;&lt; <span class="string">&quot; | type : &quot;</span> &lt;&lt; it-&gt;type &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">NetworkType <span class="title">NetworkMonitor::GetNetAdpaterType</span><span class="params">(<span class="type">const</span> std::wstring&amp; guid)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">long</span> unSize = <span class="built_in">sizeof</span>(IP_ADAPTER_INFO);</span><br><span class="line">std::unique_ptr&lt;<span class="type">uint8_t</span>[]&gt; data = std::<span class="built_in">make_unique</span>&lt;<span class="type">uint8_t</span>[]&gt;(unSize);</span><br><span class="line"><span class="type">bool</span> find = <span class="literal">false</span>;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">long</span> unResult = <span class="built_in">GetAdaptersInfo</span>(<span class="built_in">reinterpret_cast</span>&lt;PIP_ADAPTER_INFO&gt;(data.<span class="built_in">get</span>()), &amp;unSize);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (ERROR_BUFFER_OVERFLOW == unResult)</span><br><span class="line">&#123;</span><br><span class="line">data = std::<span class="built_in">make_unique</span>&lt;<span class="type">uint8_t</span>[]&gt;(unSize);</span><br><span class="line">unResult = <span class="built_in">GetAdaptersInfo</span>(<span class="built_in">reinterpret_cast</span>&lt;PIP_ADAPTER_INFO&gt;(data.<span class="built_in">get</span>()), &amp;unSize);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (ERROR_SUCCESS == unResult)</span><br><span class="line">&#123;</span><br><span class="line">PIP_ADAPTER_INFO pIpAdapterInfo = <span class="built_in">reinterpret_cast</span>&lt;PIP_ADAPTER_INFO&gt;(data.<span class="built_in">get</span>());</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> (pIpAdapterInfo)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">UnicodeToUTF8</span>(guid) == pIpAdapterInfo-&gt;AdapterName)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span> MIB_IF_TYPE_ETHERNET == pIpAdapterInfo-&gt;Type ? NetworkType::Ethernet :</span><br><span class="line">IF_TYPE_IEEE80211 == pIpAdapterInfo-&gt;Type ? NetworkType::Wlan : NetworkType::NotNetwork;</span><br><span class="line">&#125;</span><br><span class="line">pIpAdapterInfo = pIpAdapterInfo-&gt;Next;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> NetworkType::NotNetwork;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">NetworkMonitor::OnNetworkStatusChange</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">ShowNetworkStatus</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">WiFiQuality <span class="title">NetworkMonitor::GetWiFiSignalQuality</span><span class="params">(<span class="type">const</span> std::wstring&amp; guid)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">WiFiQuality result = WiFiQuality::Weak;</span><br><span class="line">DWORD dwMaxClient = <span class="number">2</span>;</span><br><span class="line">DWORD dwCurVersion = <span class="number">0</span>;</span><br><span class="line">DWORD dwResult = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">unsigned</span> <span class="type">int</span> i, j;</span><br><span class="line"></span><br><span class="line">PWLAN_INTERFACE_INFO_LIST pIfList = <span class="literal">NULL</span>;</span><br><span class="line">PWLAN_INTERFACE_INFO pIfInfo = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">PWLAN_AVAILABLE_NETWORK_LIST pBssList = <span class="literal">NULL</span>;</span><br><span class="line">PWLAN_AVAILABLE_NETWORK pBssEntry = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> iRSSI = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (_wlanHandle == <span class="literal">NULL</span>)</span><br><span class="line">&#123;</span><br><span class="line">dwResult = <span class="built_in">WlanOpenHandle</span>(dwMaxClient, <span class="literal">NULL</span>, &amp;dwCurVersion, &amp;_wlanHandle);</span><br><span class="line"><span class="keyword">if</span> (dwResult != ERROR_SUCCESS)</span><br><span class="line">&#123;</span><br><span class="line">std::cerr &lt;&lt; <span class="string">&quot;WlanOpenHandle failed with error: &quot;</span> &lt;&lt; dwResult &lt;&lt; std::endl;</span><br><span class="line"><span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line">dwResult = <span class="built_in">WlanRegisterNotification</span>(_wlanHandle, WLAN_NOTIFICATION_SOURCE_ALL, TRUE, <span class="built_in">WLAN_NOTIFICATION_CALLBACK</span>(OnNotificationCallback), <span class="literal">NULL</span>, <span class="literal">NULL</span>, <span class="literal">NULL</span>);</span><br><span class="line"><span class="keyword">if</span> (dwResult != ERROR_SUCCESS)</span><br><span class="line">&#123;</span><br><span class="line">std::cerr &lt;&lt; <span class="string">&quot;WlanRegisterNotification failed with error: &quot;</span> &lt;&lt; dwResult &lt;&lt; std::endl;</span><br><span class="line"><span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">dwResult = <span class="built_in">WlanEnumInterfaces</span>(_wlanHandle, <span class="literal">NULL</span>, &amp;pIfList);</span><br><span class="line"><span class="keyword">if</span> (dwResult != ERROR_SUCCESS)</span><br><span class="line">&#123;</span><br><span class="line">std::cerr &lt;&lt; <span class="string">&quot;WlanEnumInterfaces failed with error: &quot;</span> &lt;&lt; dwResult &lt;&lt; std::endl;</span><br><span class="line"><span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; (<span class="type">int</span>)pIfList-&gt;dwNumberOfItems; i++)</span><br><span class="line">&#123;</span><br><span class="line">pIfInfo = (WLAN_INTERFACE_INFO*)&amp;pIfList-&gt;InterfaceInfo[i];</span><br><span class="line"><span class="keyword">if</span> (guid != <span class="built_in">GUIDToString</span>(pIfInfo-&gt;InterfaceGuid) || pIfInfo-&gt;isState != wlan_interface_state_connected)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">continue</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">dwResult = <span class="built_in">WlanGetAvailableNetworkList</span>(_wlanHandle,</span><br><span class="line">&amp;pIfInfo-&gt;InterfaceGuid,</span><br><span class="line"><span class="number">0</span>,</span><br><span class="line"><span class="literal">NULL</span>,</span><br><span class="line">&amp;pBssList);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (dwResult != ERROR_SUCCESS)</span><br><span class="line">&#123;</span><br><span class="line">std::cerr &lt;&lt; <span class="string">&quot;WlanGetAvailableNetworkList failed with error:&quot;</span> &lt;&lt; dwResult &lt;&lt; std::endl;</span><br><span class="line"><span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; pBssList-&gt;dwNumberOfItems; j++)</span><br><span class="line">&#123;</span><br><span class="line">pBssEntry = (WLAN_AVAILABLE_NETWORK*)&amp;pBssList-&gt;Network[j];</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (pBssEntry-&gt;bNetworkConnectable &amp;&amp; (pBssEntry-&gt;dwFlags &amp; WLAN_AVAILABLE_NETWORK_CONNECTED))</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (pBssEntry-&gt;wlanSignalQuality == <span class="number">0</span>)</span><br><span class="line">iRSSI = <span class="number">-100</span>;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (pBssEntry-&gt;wlanSignalQuality == <span class="number">100</span>)</span><br><span class="line">iRSSI = <span class="number">-50</span>;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">iRSSI = <span class="number">-100</span> + (pBssEntry-&gt;wlanSignalQuality / <span class="number">2</span>);</span><br><span class="line"></span><br><span class="line">std::cout &lt;&lt; <span class="string">&quot;Signal Quality:\t &quot;</span> &lt;&lt; pBssEntry-&gt;wlanSignalQuality &lt;&lt; <span class="string">&quot; (RSSI: &quot;</span> &lt;&lt; iRSSI &lt;&lt; <span class="string">&quot; dBm)&quot;</span> &lt;&lt; std::endl;</span><br><span class="line"></span><br><span class="line">result = iRSSI &lt; <span class="number">-70</span> ? WiFiQuality::Weak :</span><br><span class="line">iRSSI &lt; <span class="number">-60</span> ? WiFiQuality::Fair :</span><br><span class="line">iRSSI &lt; <span class="number">-50</span> ? WiFiQuality::Good : WiFiQuality::Excellent;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (pBssList != <span class="literal">NULL</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">WlanFreeMemory</span>(pBssList);</span><br><span class="line">pBssList = <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (pIfList != <span class="literal">NULL</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">WlanFreeMemory</span>(pIfList);</span><br><span class="line">pIfList = <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">NetworkMonitor::OnWiFiQualityChange</span><span class="params">(<span class="type">const</span> GUID&amp; guid)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">auto</span> nowQuality = <span class="built_in">GetWiFiSignalQuality</span>(<span class="built_in">GUIDToString</span>(guid));</span><br><span class="line">std::cout &lt;&lt; <span class="string">&quot;WiFi signal quality now : &quot;</span> &lt;&lt; nowQuality &lt;&lt; std::endl;</span><br><span class="line"><span class="built_in">ShowNetworkStatus</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">NetworkMonitor::ShowNetworkStatus</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">NetworkType type;</span><br><span class="line">WiFiQuality quality;</span><br><span class="line"><span class="keyword">auto</span> connections = <span class="built_in">GetNetworkConnections</span>();</span><br><span class="line"><span class="keyword">if</span> (connections.<span class="built_in">empty</span>())</span><br><span class="line">&#123;</span><br><span class="line">type = NetworkType::NotNetwork;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">type = connections.<span class="built_in">front</span>().type;</span><br><span class="line"><span class="keyword">if</span> (type == NetworkType::Wlan)</span><br><span class="line">&#123;</span><br><span class="line">quality = <span class="built_in">GetWiFiSignalQuality</span>(connections.<span class="built_in">front</span>().guid);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">std::cout &lt;&lt; <span class="string">&quot;====== Notify ======&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">std::cout &lt;&lt; <span class="string">&quot;* Type : &quot;</span> &lt;&lt; (type == NetworkType::NotNetwork ? <span class="string">&quot;NetworkError&quot;</span> : type == NetworkType::Ethernet ? <span class="string">&quot;Ethernet&quot;</span> : <span class="string">&quot;WiFi&quot;</span>) &lt;&lt; std::endl;</span><br><span class="line"><span class="keyword">if</span> (type == NetworkType::Wlan)</span><br><span class="line">&#123;</span><br><span class="line">std::cout &lt;&lt; <span class="string">&quot;* Signal : &quot;</span> &lt;&lt; quality + <span class="number">1</span> &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br><span class="line">std::cout &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">InstanceOfNetworkMonitor</span>()-&gt;<span class="built_in">ShowNetworkStatus</span>();</span><br><span class="line"><span class="keyword">while</span> (<span class="literal">true</span>) std::this_thread::<span class="built_in">sleep_for</span>(std::chrono::<span class="built_in">hours</span>(<span class="number">10</span>));</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="ä½¿ç”¨ç¤ºä¾‹2"><a href="#ä½¿ç”¨ç¤ºä¾‹2" class="headerlink" title="ä½¿ç”¨ç¤ºä¾‹2"></a>ä½¿ç”¨ç¤ºä¾‹2</h1><blockquote><p>ç›‘æ§ç½‘ç»œè¿æ¥çŠ¶æ€</p></blockquote><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;netlistmgr.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;sp_log.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;atomic&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;thread&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;mutex&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;netcon.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;Shlwapi.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;TLHELP32.H&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;UserEnv.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iphlpapi.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">pragma</span> comment(lib,<span class="string">&quot;shlwapi.lib&quot;</span>)</span></span><br><span class="line"><span class="meta">#<span class="keyword">pragma</span> comment(lib,<span class="string">&quot;Iphlpapi.lib&quot;</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CNetworkListManagerEvent</span> : <span class="keyword">public</span> INetworkListManagerEvents</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">CNetworkListManagerEvent</span>(std::function&lt;<span class="built_in">void</span>(<span class="type">bool</span>)&gt; netChangedHandler) </span><br><span class="line">: <span class="built_in">m_ref</span>(<span class="number">1</span>)</span><br><span class="line">, <span class="built_in">netChangedHandler_</span>(netChangedHandler)</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">~<span class="built_in">CNetworkListManagerEvent</span>()</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">HRESULT STDMETHODCALLTYPE <span class="title">QueryInterface</span><span class="params">(REFIID riid, <span class="type">void</span>** ppvObject)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">HRESULT Result = S_OK;</span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">IsEqualIID</span>(riid, IID_IUnknown))</span><br><span class="line">&#123;</span><br><span class="line">*ppvObject = (IUnknown*)<span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">IsEqualIID</span>(riid, IID_INetworkListManagerEvents))</span><br><span class="line">&#123;</span><br><span class="line">*ppvObject = (INetworkListManagerEvents*)<span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">Result = E_NOINTERFACE;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> Result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">ULONG STDMETHODCALLTYPE <span class="title">AddRef</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> (ULONG)<span class="built_in">InterlockedIncrement</span>(&amp;m_ref);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">ULONG STDMETHODCALLTYPE <span class="title">Release</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">LONG Result = <span class="built_in">InterlockedDecrement</span>(&amp;m_ref);</span><br><span class="line"><span class="keyword">if</span> (Result == <span class="number">0</span>)</span><br><span class="line"><span class="keyword">delete</span> <span class="keyword">this</span>;</span><br><span class="line"><span class="keyword">return</span> (ULONG)Result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">virtual</span> HRESULT STDMETHODCALLTYPE <span class="title">ConnectivityChanged</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function"><span class="comment">/* [in] */</span> NLM_CONNECTIVITY newConnectivity)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span> (newConnectivity == NLM_CONNECTIVITY_DISCONNECTED)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">SP_DEV_LOGT</span>(<span class="string">&quot;internet status changed. connect closed&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç½‘ç»œæ–­å¼€</span></span><br><span class="line"><span class="built_in">netChangedHandler_</span>(<span class="literal">false</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> ((newConnectivity &amp; NLM_CONNECTIVITY_IPV4_INTERNET) || (newConnectivity &amp; NLM_CONNECTIVITY_IPV6_INTERNET))</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">SP_DEV_LOGT</span>(<span class="string">&quot;internet status changed. connect success&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç½‘ç»œè¿æ¥æˆåŠŸ</span></span><br><span class="line"><span class="built_in">netChangedHandler_</span>(<span class="literal">true</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> S_OK;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">LONG m_ref;</span><br><span class="line">std::function&lt;<span class="type">void</span>(<span class="type">bool</span>)&gt; netChangedHandler_;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CNetworkMonitor</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">CNetworkMonitor</span>() &#123;&#125;;</span><br><span class="line">~<span class="built_in">CNetworkMonitor</span>() &#123;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"><span class="comment">// ç›‘æ§ç½‘ç»œçŠ¶æ€å˜åŒ–</span></span><br><span class="line"><span class="function"><span class="type">static</span> <span class="type">void</span> <span class="title">InitNetworkMonitor</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">SP_DEV_LOGT</span>(<span class="string">&quot;InitNetworkMonitor&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="type">bool</span> bSuccess = <span class="literal">false</span>;</span><br><span class="line"><span class="built_in">CoInitialize</span>(<span class="literal">NULL</span>);</span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  é€šè¿‡NLAæ¥å£è·å–ç½‘ç»œçŠ¶æ€</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line">IUnknown* pUnknown = <span class="literal">NULL</span>;</span><br><span class="line">HRESULT Result = <span class="built_in">CoCreateInstance</span>(CLSID_NetworkListManager, <span class="literal">NULL</span>, CLSCTX_ALL, IID_IUnknown, (<span class="type">void</span>**)&amp;pUnknown);</span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">SUCCEEDED</span>(Result))</span><br><span class="line">&#123;</span><br><span class="line">INetworkListManager* pNetworkListManager = <span class="literal">NULL</span>;</span><br><span class="line">Result = pUnknown-&gt;<span class="built_in">QueryInterface</span>(IID_INetworkListManager, (<span class="type">void</span>**)&amp;pNetworkListManager);</span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">SUCCEEDED</span>(Result))</span><br><span class="line">&#123;</span><br><span class="line">VARIANT_BOOL IsConnect = VARIANT_FALSE;</span><br><span class="line">Result = pNetworkListManager-&gt;<span class="built_in">get_IsConnectedToInternet</span>(&amp;IsConnect);</span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">SUCCEEDED</span>(Result))</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;connect to internet:%s&quot;</span>, IsConnect == VARIANT_TRUE ? <span class="string">&quot;TRUE&quot;</span> : <span class="string">&quot;FALSE&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">IConnectionPointContainer* pCPContainer = <span class="literal">NULL</span>;</span><br><span class="line">Result = pNetworkListManager-&gt;<span class="built_in">QueryInterface</span>(IID_IConnectionPointContainer, (<span class="type">void</span>**)&amp;pCPContainer);</span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">SUCCEEDED</span>(Result))</span><br><span class="line">&#123;</span><br><span class="line">IConnectionPoint* pConnectPoint = <span class="literal">NULL</span>;</span><br><span class="line">Result = pCPContainer-&gt;<span class="built_in">FindConnectionPoint</span>(IID_INetworkListManagerEvents, &amp;pConnectPoint);</span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">SUCCEEDED</span>(Result))</span><br><span class="line">&#123;</span><br><span class="line">DWORD Cookie = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">CNetworkMonitor networkMonitor;</span><br><span class="line">std::function&lt;<span class="type">void</span>(<span class="type">bool</span>)&gt; monitorFunc = std::<span class="built_in">bind</span>(&amp;CNetworkMonitor::NetworkStatusChangedCallback, networkMonitor, std::placeholders::_1);</span><br><span class="line">CNetworkListManagerEvent* pNetEvent = <span class="built_in">new</span>(std::nothrow) <span class="built_in">CNetworkListManagerEvent</span>(monitorFunc);</span><br><span class="line"><span class="keyword">if</span> (pNetEvent)</span><br><span class="line">&#123;</span><br><span class="line">Result = pConnectPoint-&gt;<span class="built_in">Advise</span>((IUnknown*)pNetEvent, &amp;Cookie);</span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">SUCCEEDED</span>(Result))</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;InitNetworkMonitor success&quot;</span>);</span><br><span class="line">bSuccess = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">MSG msg;</span><br><span class="line"><span class="keyword">while</span> (<span class="built_in">GetMessage</span>(&amp;msg, <span class="literal">NULL</span>, <span class="number">0</span>, <span class="number">0</span>))</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">TranslateMessage</span>(&amp;msg);</span><br><span class="line"><span class="built_in">DispatchMessage</span>(&amp;msg);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (msg.message == WM_QUIT)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">pConnectPoint-&gt;<span class="built_in">Unadvise</span>(Cookie);</span><br><span class="line">pConnectPoint-&gt;<span class="built_in">Release</span>();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">pCPContainer-&gt;<span class="built_in">Release</span>();</span><br><span class="line">&#125;</span><br><span class="line">pNetworkListManager-&gt;<span class="built_in">Release</span>();</span><br><span class="line">&#125;</span><br><span class="line">pUnknown-&gt;<span class="built_in">Release</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">CoUninitialize</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">NetworkStatusChangedCallback</span><span class="params">(<span class="type">bool</span> status)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">g_bNetWorkOnline = status;</span><br><span class="line"><span class="keyword">if</span> (status)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (g_sp_trust_model.<span class="built_in">get</span>())</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (g_sp_trust_model-&gt;<span class="built_in">IsOnline</span>())</span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">//ä¼‘çœ å”¤é†’åç½‘ç»œè¿æ¥æˆåŠŸï¼Œè‡ªåŠ¨å‘é€ä¸€æ¬¡å¿ƒè·³</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;Sleep wakes up and automatically triggers a heartbeat&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;No login, will not rebuild trust nc&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;rebuild trust nc - g_sp_trust_model is null&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">StartMonitor</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="function">std::thread <span class="title">monitorThread</span><span class="params">(&amp;InitNetworkMonitor)</span></span>;</span><br><span class="line">monitorThread.<span class="built_in">detach</span>();</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> OS </category>
          
          <category> Windows </category>
          
          <category> ç½‘ç»œhelper </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>ç›‘æ§ç³»ç»Ÿäº‹ä»¶ï¼ˆç½‘å¡ï¼‰</title>
      <link href="/OS/Windows/%E7%9B%91%E6%8E%A7%E7%B3%BB%E7%BB%9F%E4%BA%8B%E4%BB%B6/"/>
      <url>/OS/Windows/%E7%9B%91%E6%8E%A7%E7%B3%BB%E7%BB%9F%E4%BA%8B%E4%BB%B6/</url>
      
        <content type="html"><![CDATA[<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">pragma</span> once</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;netlistmgr.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;atomic&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function">std::atomic_bool <span class="title">g_bNetWorkOnline</span><span class="params">(<span class="literal">true</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CNetworkListManagerEvent</span> : <span class="keyword">public</span> INetworkListManagerEvents</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">CNetworkListManagerEvent</span>(std::function&lt;<span class="built_in">void</span>(<span class="type">bool</span>)&gt; netChangedHandler) </span><br><span class="line">: <span class="built_in">m_ref</span>(<span class="number">1</span>)</span><br><span class="line">, <span class="built_in">netChangedHandler_</span>(netChangedHandler)</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">~<span class="built_in">CNetworkListManagerEvent</span>()</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">HRESULT STDMETHODCALLTYPE <span class="title">QueryInterface</span><span class="params">(REFIID riid, <span class="type">void</span>** ppvObject)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">HRESULT Result = S_OK;</span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">IsEqualIID</span>(riid, IID_IUnknown))</span><br><span class="line">&#123;</span><br><span class="line">*ppvObject = (IUnknown*)<span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">IsEqualIID</span>(riid, IID_INetworkListManagerEvents))</span><br><span class="line">&#123;</span><br><span class="line">*ppvObject = (INetworkListManagerEvents*)<span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">Result = E_NOINTERFACE;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> Result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">ULONG STDMETHODCALLTYPE <span class="title">AddRef</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> (ULONG)<span class="built_in">InterlockedIncrement</span>(&amp;m_ref);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">ULONG STDMETHODCALLTYPE <span class="title">Release</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">LONG Result = <span class="built_in">InterlockedDecrement</span>(&amp;m_ref);</span><br><span class="line"><span class="keyword">if</span> (Result == <span class="number">0</span>)</span><br><span class="line"><span class="keyword">delete</span> <span class="keyword">this</span>;</span><br><span class="line"><span class="keyword">return</span> (ULONG)Result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">virtual</span> HRESULT STDMETHODCALLTYPE <span class="title">ConnectivityChanged</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function"><span class="comment">/* [in] */</span> NLM_CONNECTIVITY newConnectivity)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span> (newConnectivity == NLM_CONNECTIVITY_DISCONNECTED)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">SP_DEV_LOGT</span>(<span class="string">&quot;internet status changed. connect closed&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç½‘ç»œæ–­å¼€</span></span><br><span class="line"><span class="built_in">netChangedHandler_</span>(<span class="literal">false</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> ((newConnectivity &amp; NLM_CONNECTIVITY_IPV4_INTERNET) || (newConnectivity &amp; NLM_CONNECTIVITY_IPV6_INTERNET))</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">SP_DEV_LOGT</span>(<span class="string">&quot;internet status changed. connect success&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç½‘ç»œè¿æ¥æˆåŠŸ</span></span><br><span class="line"><span class="built_in">netChangedHandler_</span>(<span class="literal">true</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> S_OK;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">LONG m_ref;</span><br><span class="line">std::function&lt;<span class="type">void</span>(<span class="type">bool</span>)&gt; netChangedHandler_;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CNetworkMonitor</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">CNetworkMonitor</span>() &#123;&#125;;</span><br><span class="line">~<span class="built_in">CNetworkMonitor</span>() &#123;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"><span class="comment">// ç›‘æ§ç½‘ç»œçŠ¶æ€å˜åŒ–</span></span><br><span class="line"><span class="function"><span class="type">static</span> <span class="type">void</span> <span class="title">InitNetworkMonitor</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">SP_DEV_LOGT</span>(<span class="string">&quot;InitNetworkMonitor&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="type">bool</span> bSuccess = <span class="literal">false</span>;</span><br><span class="line"><span class="built_in">CoInitialize</span>(<span class="literal">NULL</span>);</span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  é€šè¿‡NLAæ¥å£è·å–ç½‘ç»œçŠ¶æ€</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line">IUnknown* pUnknown = <span class="literal">NULL</span>;</span><br><span class="line">HRESULT Result = <span class="built_in">CoCreateInstance</span>(CLSID_NetworkListManager, <span class="literal">NULL</span>, CLSCTX_ALL, IID_IUnknown, (<span class="type">void</span>**)&amp;pUnknown);</span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">SUCCEEDED</span>(Result))</span><br><span class="line">&#123;</span><br><span class="line">INetworkListManager* pNetworkListManager = <span class="literal">NULL</span>;</span><br><span class="line">Result = pUnknown-&gt;<span class="built_in">QueryInterface</span>(IID_INetworkListManager, (<span class="type">void</span>**)&amp;pNetworkListManager);</span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">SUCCEEDED</span>(Result))</span><br><span class="line">&#123;</span><br><span class="line">VARIANT_BOOL IsConnect = VARIANT_FALSE;</span><br><span class="line">Result = pNetworkListManager-&gt;<span class="built_in">get_IsConnectedToInternet</span>(&amp;IsConnect);</span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">SUCCEEDED</span>(Result))</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">SP_DEV_LOGT</span>(<span class="string">&quot;connect to internet:%s&quot;</span>, IsConnect == VARIANT_TRUE ? <span class="string">&quot;TRUE&quot;</span> : <span class="string">&quot;FALSE&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">IConnectionPointContainer* pCPContainer = <span class="literal">NULL</span>;</span><br><span class="line">Result = pNetworkListManager-&gt;<span class="built_in">QueryInterface</span>(IID_IConnectionPointContainer, (<span class="type">void</span>**)&amp;pCPContainer);</span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">SUCCEEDED</span>(Result))</span><br><span class="line">&#123;</span><br><span class="line">IConnectionPoint* pConnectPoint = <span class="literal">NULL</span>;</span><br><span class="line">Result = pCPContainer-&gt;<span class="built_in">FindConnectionPoint</span>(IID_INetworkListManagerEvents, &amp;pConnectPoint);</span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">SUCCEEDED</span>(Result))</span><br><span class="line">&#123;</span><br><span class="line">DWORD Cookie = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">CNetworkMonitor networkMonitor;</span><br><span class="line">std::function&lt;<span class="type">void</span>(<span class="type">bool</span>)&gt; monitorFunc = std::<span class="built_in">bind</span>(&amp;CNetworkMonitor::NetworkStatusChangedCallback, networkMonitor, std::placeholders::_1);</span><br><span class="line">CNetworkListManagerEvent* pNetEvent = <span class="built_in">new</span>(std::nothrow) <span class="built_in">CNetworkListManagerEvent</span>(monitorFunc);</span><br><span class="line"><span class="keyword">if</span> (pNetEvent)</span><br><span class="line">&#123;</span><br><span class="line">Result = pConnectPoint-&gt;<span class="built_in">Advise</span>((IUnknown*)pNetEvent, &amp;Cookie);</span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">SUCCEEDED</span>(Result))</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">SP_DEV_LOGT</span>(<span class="string">&quot;InitNetworkMonitor success&quot;</span>);</span><br><span class="line">bSuccess = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">MSG msg;</span><br><span class="line"><span class="keyword">while</span> (<span class="built_in">GetMessage</span>(&amp;msg, <span class="literal">NULL</span>, <span class="number">0</span>, <span class="number">0</span>))</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">TranslateMessage</span>(&amp;msg);</span><br><span class="line"><span class="built_in">DispatchMessage</span>(&amp;msg);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (msg.message == WM_QUIT)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">pConnectPoint-&gt;<span class="built_in">Unadvise</span>(Cookie);</span><br><span class="line">pConnectPoint-&gt;<span class="built_in">Release</span>();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">pCPContainer-&gt;<span class="built_in">Release</span>();</span><br><span class="line">&#125;</span><br><span class="line">pNetworkListManager-&gt;<span class="built_in">Release</span>();</span><br><span class="line">&#125;</span><br><span class="line">pUnknown-&gt;<span class="built_in">Release</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">CoUninitialize</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">NetworkStatusChangedCallback</span><span class="params">(<span class="type">bool</span> status)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">g_bNetWorkOnline = status;</span><br><span class="line"><span class="keyword">if</span> (status)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (g_sp_trust_model.<span class="built_in">get</span>())</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (g_sp_trust_model-&gt;<span class="built_in">IsOnline</span>())</span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">//ä¼‘çœ å”¤é†’åç½‘ç»œè¿æ¥æˆåŠŸï¼Œè‡ªåŠ¨å‘é€ä¸€æ¬¡å¿ƒè·³</span></span><br><span class="line"><span class="built_in">SP_LOGI</span>(<span class="string">&quot;Sleep wakes up and automatically triggers a heartbeat&quot;</span>);</span><br><span class="line">g_sp_trust_model-&gt;<span class="built_in">OnWakeToSendHeartBeat</span>();</span><br><span class="line"></span><br><span class="line"><span class="built_in">SP_LOGI</span>(<span class="string">&quot;rebuild trust nc&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (g_sp_trust_model-&gt;<span class="built_in">Session</span>()-&gt;<span class="built_in">NeedsL3Tunnel</span>() &amp;&amp; !g_sp_trust_model-&gt;<span class="built_in">Session</span>()-&gt;<span class="built_in">IsTunnelSvrsEmpty</span>())</span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">// ç½‘ç»œè¿æ¥æˆåŠŸåè‡ªåŠ¨è§¦å‘é‡è¿</span></span><br><span class="line"><span class="function">std::thread <span class="title">buildUtunThread</span><span class="params">([] &#123;</span></span></span><br><span class="line"><span class="params"><span class="function">g_sp_trust_model-&gt;NotifyUpMessage(SP_TRUST_TOPIC_BUILD_UTUN, SPJSONObject());</span></span></span><br><span class="line"><span class="params"><span class="function">&#125;)</span></span>;</span><br><span class="line">buildUtunThread.<span class="built_in">detach</span>();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">SP_LOGI</span>(<span class="string">&quot;No login, will not rebuild trust nc&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">SP_LOGI</span>(<span class="string">&quot;rebuild trust nc - g_sp_trust_model is null&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">StartMonitor</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="function">std::thread <span class="title">monitorThread</span><span class="params">(&amp;InitNetworkMonitor)</span></span>;</span><br><span class="line">monitorThread.<span class="built_in">detach</span>();</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> OS </category>
          
          <category> Windows </category>
          
      </categories>
      
      
        <tags>
            
            <tag> windows </tag>
            
            <tag> ç›‘æ§ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç®¡é“demo</title>
      <link href="/OS/Windows/%E7%AE%A1%E9%81%93%E7%9A%84%E4%BD%BF%E7%94%A8/"/>
      <url>/OS/Windows/%E7%AE%A1%E9%81%93%E7%9A%84%E4%BD%BF%E7%94%A8/</url>
      
        <content type="html"><![CDATA[<p>[toc]</p><h1 id="ç®¡é“ç±»"><a href="#ç®¡é“ç±»" class="headerlink" title="ç®¡é“ç±»"></a>ç®¡é“ç±»</h1><h2 id="h"><a href="#h" class="headerlink" title=".h"></a>.h</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">pragma</span> once</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;tchar.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;Windows.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;thread&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;memory&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> TIME_ASECOND 1000</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">enum</span> <span class="title class_">PIPEUSERTYPE</span> &#123;</span><br><span class="line">USER_CLIENT, <span class="comment">//å®¢æˆ·ç«¯</span></span><br><span class="line">USER_SERVER, <span class="comment">//æœåŠ¡ç«¯</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">PipeIPC</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="keyword">explicit</span> <span class="title">PipeIPC</span><span class="params">(PIPEUSERTYPE role)</span> :m_Role(role), m_hPipeHandle(INVALID_HANDLE_VALUE) &#123;</span>&#125;;</span><br><span class="line">~<span class="built_in">PipeIPC</span>();</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">WriteData</span><span class="params">(__in <span class="type">const</span> std::string&amp; datas)</span></span>; <span class="comment">//å†™å…¥æ•°æ®</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Release</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">ReadData</span><span class="params">(__out std::string&amp; datas, __out <span class="type">bool</span> bIsPipeEnd)</span></span>; <span class="comment">//è¯»å–æ•°æ®</span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">InitPipeIPC</span><span class="params">()</span></span>; <span class="comment">//åˆå§‹åŒ–ç®¡é“é€šä¿¡</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">IsInit</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function">BOOL <span class="title">InitSecurityAttributes</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Connect</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">DisConnect</span><span class="params">()</span></span>;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">PIPEUSERTYPE m_Role;</span><br><span class="line">HANDLE m_hPipeHandle;</span><br><span class="line">SECURITY_ATTRIBUTES m_sec_attr;  <span class="comment">//security attributes </span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="cpp"><a href="#cpp" class="headerlink" title=".cpp"></a>.cpp</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;PipeIPC.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;AccCtrl.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;AclAPI.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> PIPE_SERVER_NAME       <span class="string">&quot;\\\\.\\pipe\\TrustAgent\\pipe.ToFixService&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> PIPE_CLIENT_NAME       <span class="string">&quot;\\\\.\\pipe\\TrustAgent\\pipe.ToTrustAgent&quot;</span></span></span><br><span class="line"></span><br><span class="line">PipeIPC::~<span class="built_in">PipeIPC</span>()</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (m_hPipeHandle != INVALID_HANDLE_VALUE)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">DisconnectNamedPipe</span>(m_hPipeHandle);</span><br><span class="line"><span class="built_in">CloseHandle</span>(m_hPipeHandle);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">PipeIPC::InitPipeIPC</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span> (USER_SERVER == m_Role &amp;&amp; <span class="literal">nullptr</span> != m_hPipeHandle)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">InitSecurityAttributes</span>();</span><br><span class="line"><span class="comment">// cout &lt;&lt; &quot;ser&quot; &lt;&lt; endl;</span></span><br><span class="line">m_hPipeHandle = <span class="built_in">CreateNamedPipeA</span>(PIPE_SERVER_NAME, PIPE_ACCESS_DUPLEX, <span class="comment">//åŒå‘æ¨¡å¼</span></span><br><span class="line">PIPE_TYPE_MESSAGE | PIPE_READMODE_MESSAGE<span class="comment">/* | PIPE_NOWAIT*/</span>,</span><br><span class="line">PIPE_UNLIMITED_INSTANCES,<span class="comment">//è®¾ç½®æœ€å¤§å®¹çº³å®ä¾‹æ•°ç›®</span></span><br><span class="line"><span class="number">0</span>,</span><br><span class="line"><span class="number">0</span>,</span><br><span class="line"><span class="literal">NULL</span>, (LPSECURITY_ATTRIBUTES)&amp;m_sec_attr);</span><br><span class="line"><span class="comment">//å¦‚æœç®¡é“åˆ›å»ºå¤±è´¥</span></span><br><span class="line"><span class="keyword">if</span> (m_hPipeHandle == INVALID_HANDLE_VALUE)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">if</span> 0</span></span><br><span class="line"><span class="keyword">if</span> (!<span class="built_in">ConnectNamedPipe</span>(m_hPipeHandle, <span class="literal">nullptr</span>)) &#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;ConnectNamedPipe failed&quot;</span> &lt;&lt; endl;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">WaitNamedPipeA</span>(PIPE_CLIENT_NAME, TIME_ASECOND * <span class="number">5</span>) == FALSE)</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">m_hPipeHandle = <span class="built_in">CreateFileA</span>(</span><br><span class="line">PIPE_CLIENT_NAME,</span><br><span class="line">GENERIC_READ | GENERIC_WRITE,</span><br><span class="line"><span class="number">0</span>,</span><br><span class="line"><span class="literal">NULL</span>,</span><br><span class="line">OPEN_EXISTING,</span><br><span class="line">FILE_ATTRIBUTE_NORMAL,</span><br><span class="line"><span class="literal">NULL</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//å¦‚æœç®¡é“åˆ›å»ºå¤±è´¥</span></span><br><span class="line"><span class="keyword">if</span> (m_hPipeHandle == INVALID_HANDLE_VALUE)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">WriteData</span>(<span class="string">&quot;[PIPE] ------ V10 Init ------&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">PipeIPC::IsInit</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> m_hPipeHandle == INVALID_HANDLE_VALUE ? <span class="literal">false</span> : <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">[details] åˆ›å»ºç®¡é“å»ç®¡ç†å‘˜æƒé™</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function">BOOL <span class="title">PipeIPC::InitSecurityAttributes</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">PSID pEveryoneSID = <span class="literal">NULL</span>;</span><br><span class="line">PACL pACL = <span class="literal">NULL</span>;</span><br><span class="line">EXPLICIT_ACCESS ea;</span><br><span class="line">PSECURITY_DESCRIPTOR pSD = <span class="literal">NULL</span>;</span><br><span class="line"><span class="type">void</span>* ea_addr = <span class="literal">NULL</span>;</span><br><span class="line"><span class="type">void</span>* acl_addr = <span class="literal">NULL</span>;</span><br><span class="line"><span class="type">void</span>* sd_addr = <span class="literal">NULL</span>;</span><br><span class="line">SID_IDENTIFIER_AUTHORITY SIDAuthWorld = SECURITY_WORLD_SID_AUTHORITY;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (!<span class="built_in">AllocateAndInitializeSid</span>(&amp;SIDAuthWorld, <span class="number">1</span>, SECURITY_WORLD_RID, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, &amp;pEveryoneSID))</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span> FALSE;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">ZeroMemory</span>(&amp;ea, <span class="built_in">sizeof</span>(EXPLICIT_ACCESS));</span><br><span class="line">ea.grfAccessPermissions = SPECIFIC_RIGHTS_ALL | STANDARD_RIGHTS_ALL;</span><br><span class="line">ea.grfAccessMode = SET_ACCESS;</span><br><span class="line">ea.grfInheritance = NO_INHERITANCE;</span><br><span class="line">ea.Trustee.TrusteeForm = TRUSTEE_IS_SID;</span><br><span class="line">ea.Trustee.TrusteeType = TRUSTEE_IS_WELL_KNOWN_GROUP;</span><br><span class="line">ea.Trustee.ptstrName = (LPTSTR)pEveryoneSID;</span><br><span class="line">ea_addr = &amp;ea;</span><br><span class="line"><span class="keyword">if</span> (ERROR_SUCCESS != <span class="built_in">SetEntriesInAcl</span>(<span class="number">1</span>, &amp;ea, <span class="literal">NULL</span>, &amp;pACL))</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">goto</span> cleanup;</span><br><span class="line">&#125;</span><br><span class="line">acl_addr = &amp;pACL;</span><br><span class="line">pSD = (PSECURITY_DESCRIPTOR)<span class="built_in">LocalAlloc</span>(LPTR, SECURITY_DESCRIPTOR_MIN_LENGTH);</span><br><span class="line"><span class="keyword">if</span> (<span class="literal">NULL</span> == pSD)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">goto</span> cleanup;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (!<span class="built_in">InitializeSecurityDescriptor</span>(pSD, SECURITY_DESCRIPTOR_REVISION))</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">goto</span> cleanup;</span><br><span class="line">&#125;</span><br><span class="line">sd_addr = &amp;pSD;</span><br><span class="line"><span class="keyword">if</span> (!<span class="built_in">SetSecurityDescriptorDacl</span>(pSD, TRUE, pACL, FALSE))</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">goto</span> cleanup;</span><br><span class="line">&#125;</span><br><span class="line">m_sec_attr.nLength = <span class="built_in">sizeof</span>(SECURITY_ATTRIBUTES);</span><br><span class="line">m_sec_attr.lpSecurityDescriptor = pSD;</span><br><span class="line">m_sec_attr.bInheritHandle = FALSE;</span><br><span class="line"><span class="keyword">return</span> TRUE;</span><br><span class="line"></span><br><span class="line">cleanup:</span><br><span class="line"><span class="keyword">if</span> (pEveryoneSID)</span><br><span class="line"><span class="built_in">FreeSid</span>(pEveryoneSID);</span><br><span class="line"><span class="keyword">if</span> (pACL)</span><br><span class="line"><span class="built_in">LocalFree</span>(pACL);</span><br><span class="line"><span class="keyword">if</span> (pSD)</span><br><span class="line"><span class="built_in">LocalFree</span>(pSD);</span><br><span class="line"><span class="keyword">return</span> FALSE;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">PipeIPC::Connect</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">ConnectNamedPipe</span>(m_hPipeHandle, <span class="literal">nullptr</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">PipeIPC::DisConnect</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">DisconnectNamedPipe</span>(m_hPipeHandle);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è¯»å–æ•°æ®</span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">PipeIPC::ReadData</span><span class="params">(__out std::string&amp; datas, __out <span class="type">bool</span> bIsPipeEnd)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span> (INVALID_HANDLE_VALUE == m_hPipeHandle || <span class="literal">nullptr</span> == m_hPipeHandle)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">InitPipeIPC</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">DWORD cbRead = <span class="number">0</span>;<span class="comment">//å®šä¹‰æ•°æ®é•¿åº¦</span></span><br><span class="line">DWORD cbData = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">ReadFile</span>(m_hPipeHandle, &amp;cbData, <span class="built_in">sizeof</span>(cbData), &amp;cbRead, <span class="literal">nullptr</span>) &amp;&amp; <span class="built_in">sizeof</span>(cbData) == cbRead)</span><br><span class="line">&#123;</span><br><span class="line">DWORD error = <span class="built_in">GetLastError</span>();</span><br><span class="line">bIsPipeEnd = (error == ERROR_BROKEN_PIPE ? <span class="literal">true</span> : <span class="literal">false</span>);</span><br><span class="line"></span><br><span class="line">datas.<span class="built_in">resize</span>(cbData);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">ReadFile</span>(m_hPipeHandle, (LPVOID)datas.<span class="built_in">data</span>(), cbData, &amp;cbRead, <span class="literal">nullptr</span>) &amp;&amp; cbData == cbRead)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">DWORD dwError = <span class="built_in">GetLastError</span>();</span><br><span class="line">bIsPipeEnd = (dwError == ERROR_BROKEN_PIPE) ? <span class="literal">true</span> : <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">datas.<span class="built_in">resize</span>(<span class="number">0</span>);</span><br><span class="line"><span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å†™å…¥æ•°æ®</span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">PipeIPC::WriteData</span><span class="params">(__in <span class="type">const</span> std::string&amp; datas)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span> (m_Role == USER_SERVER)</span><br><span class="line">&#123;</span><br><span class="line"><span class="type">bool</span> connect = <span class="built_in">ConnectNamedPipe</span>(m_hPipeHandle, <span class="literal">NULL</span>);</span><br><span class="line"><span class="keyword">if</span> (!connect)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (!<span class="built_in">InitPipeIPC</span>())</span><br><span class="line">&#123;</span><br><span class="line">DWORD error = <span class="built_in">GetLastError</span>();</span><br><span class="line"><span class="keyword">if</span> (error != ERROR_PIPE_CONNECTED)</span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">//cout &lt;&lt; &quot;å®¢æˆ·ç«¯è¿˜æ²¡è¿æ¥&quot; &lt;&lt; endl;</span></span><br><span class="line"><span class="comment">//è¿æ¥å¤±è´¥</span></span><br><span class="line"><span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (!<span class="built_in">IsInit</span>())</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (!<span class="built_in">InitPipeIPC</span>())</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è¿æ¥æˆåŠŸï¼</span></span><br><span class="line">DWORD wLen;</span><br><span class="line"><span class="type">const</span> DWORD cbData = datas.<span class="built_in">size</span>() * <span class="built_in">sizeof</span>(datas[<span class="number">0</span>]);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (!<span class="built_in">WriteFile</span>(m_hPipeHandle, &amp;cbData, <span class="built_in">sizeof</span>(cbData), &amp;wLen, <span class="literal">NULL</span>))</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (!<span class="built_in">WriteFile</span>(m_hPipeHandle, datas.<span class="built_in">c_str</span>(), datas.<span class="built_in">size</span>() * <span class="built_in">sizeof</span>(datas[<span class="number">0</span>]), &amp;wLen, <span class="literal">NULL</span>))</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">PipeIPC::Release</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span> (m_hPipeHandle)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">DisconnectNamedPipe</span>(m_hPipeHandle);</span><br><span class="line"><span class="built_in">CloseHandle</span>(m_hPipeHandle); <span class="comment">// å…³é—­å¥æŸ„</span></span><br><span class="line">m_hPipeHandle = <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="å®šä¹‰ä¸å£°æ˜"><a href="#å®šä¹‰ä¸å£°æ˜" class="headerlink" title="å®šä¹‰ä¸å£°æ˜"></a>å®šä¹‰ä¸å£°æ˜</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">__declspec(selectany) PipeIPC* pRead = <span class="keyword">new</span> <span class="built_in">PipeIPC</span>(USER_SERVER);</span><br><span class="line">__declspec(selectany) PipeIPC* pWrite = <span class="keyword">new</span> <span class="built_in">PipeIPC</span>(USER_CLIENT);</span><br></pre></td></tr></table></figure><h1 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h1><h2 id="ç›‘å¬ç®¡é“"><a href="#ç›‘å¬ç®¡é“" class="headerlink" title="ç›‘å¬ç®¡é“"></a>ç›‘å¬ç®¡é“</h2><blockquote><p> éšç¨‹åºåŒæ—¶å¯åŠ¨</p></blockquote><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">   </span><br><span class="line"><span class="function">BOOL <span class="title">StartPipeRead</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">EventLog</span>(LOG_ALL, <span class="string">&quot;[IPC][THREAD] ,Create PipeReadThread Success, pipe = %p&quot;</span>, pRead );</span><br><span class="line"><span class="built_in">EventLog</span>(LOG_ALL, <span class="string">&quot;pipe = %p, pipe-&gt;IsInit()=%d&quot;</span>, pRead, pRead-&gt;<span class="built_in">IsInit</span>());</span><br><span class="line"></span><br><span class="line"><span class="type">bool</span> isPipeEnd = <span class="literal">true</span>;</span><br><span class="line"><span class="keyword">while</span> (<span class="literal">true</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (isPipeEnd)</span><br><span class="line">&#123;</span><br><span class="line">pRead-&gt;<span class="built_in">Connect</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">std::string datas;</span><br><span class="line"><span class="keyword">if</span> (!pRead-&gt;<span class="built_in">ReadData</span>(datas, isPipeEnd))</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (isPipeEnd)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">EventLog</span>(LOG_ALL, <span class="string">&quot;-----------[PIPE END]----------&quot;</span>);</span><br><span class="line">pRead-&gt;<span class="built_in">DisConnect</span>();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">datas = <span class="string">&quot;Add&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ•°æ®å¤„ç†</span></span><br><span class="line"><span class="keyword">if</span> (datas.<span class="built_in">find</span>(<span class="string">&quot;start&quot;</span>) != std::string::npos) <span class="comment">// å¯åŠ¨æˆåŠŸ</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">EventLog</span>(LOG_ALL, <span class="string">&quot; [PIPE] [REC] TrustAgentStart&quot;</span>);</span><br><span class="line"><span class="comment">// å¯åŠ¨ ç®¡é“å®¢æˆ·ç«¯</span></span><br><span class="line"><span class="keyword">if</span> (!<span class="built_in">StartPipeWrite</span>())</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">EventLog</span>(LOG_ALL, <span class="string">&quot; [PIPE] Failed to Create Client Pipe, GetLastError()=&quot;</span>, <span class="built_in">GetLastError</span>());</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (!datas.<span class="built_in">empty</span>())</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">EventLog</span>(LOG_ALL, <span class="string">&quot;[PIPE] [RECV] datas: %s&quot;</span>, datas.<span class="built_in">c_str</span>());</span><br><span class="line"><span class="comment">// è°ƒç”¨å¯¼å‡ºçš„æ¥å£</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="function">std::thread <span class="title">th</span><span class="params">(HandleFix, datas)</span></span>;</span><br><span class="line">th.<span class="built_in">detach</span>();</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// NSPTRUST::SendRpcMsgToPlugin(POLICY_SENDTQA_USER, datas.c_str());</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å†™ç®¡é“"><a href="#å†™ç®¡é“" class="headerlink" title="å†™ç®¡é“"></a>å†™ç®¡é“</h2><p>å¯åŠ¨æ—¶æœºï¼ŒåŒåç®¡é“çš„ç›‘å¬ç®¡é“å¯åŠ¨åå†å¯åŠ¨</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">BOOL <span class="title">StartPipeWrite</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span> (pWrite-&gt;<span class="built_in">IsInit</span>())</span><br><span class="line"><span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line"><span class="keyword">return</span> pWrite-&gt;<span class="built_in">InitPipeIPC</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å†™æ•°æ®</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">std::string datas = <span class="string">&quot;Send data to PIPE Read&quot;</span>;</span><br><span class="line">pWrite-&gt;<span class="built_in">WriteData</span>(datas);</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> OS </category>
          
          <category> Windows </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>ç³»ç»Ÿé”</title>
      <link href="/OS/Windows/%E7%B3%BB%E7%BB%9F%E9%94%81/"/>
      <url>/OS/Windows/%E7%B3%BB%E7%BB%9F%E9%94%81/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æ¦‚è¿°ï¼šç³»ç»Ÿé”å°±æ˜¯åœ¨åˆ›å»ºå¥æŸ„ï¼Œå†æ¬¡åˆ›å»ºè¯¥å¥æŸ„æ—¶ï¼Œä¼šè¿”å›å¤±è´¥</p></blockquote><p>[toc]</p><h1 id="ç³»ç»Ÿé”"><a href="#ç³»ç»Ÿé”" class="headerlink" title="ç³»ç»Ÿé”"></a>ç³»ç»Ÿé”</h1><p>ç³»ç»Ÿé”å°±æ˜¯ä½¿ç”¨ <code>CreateMutexA</code> åˆ›å»ºä¸€ä¸ªå¥æŸ„ï¼Œåˆ›å»ºæˆåŠŸæ—¶ï¼Œå¥æŸ„ä¸ä¸ºç©ºã€‚å½“å†æ¬¡ä½¿ç”¨è¯¥é”çš„å‘½ååˆ›å»ºæ—¶ï¼Œå› ä¸ºå·²ç»åˆ›å»ºäº†ä¸€ä¸ªåŒåé”äº†ï¼Œæ‰€ä»¥ä¼šæŠ¥é”™ï¼Œä¹Ÿå°±å®ç°äº†è¿›ç¨‹å¯åŠ¨ä¸€æ¬¡æˆ–è€…å‡½æ•°æ‰§è¡Œä¸€æ¬¡çš„é€»è¾‘ã€‚</p><h1 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">WinSingleleton</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"> <span class="built_in">WinSingleleton</span>(string name);</span><br><span class="line"> </span><br><span class="line"> ~<span class="built_in">WinSingleleton</span>() </span><br><span class="line"> &#123;</span><br><span class="line"> <span class="keyword">if</span> (_handle != INVALID_HANDLE_VALUE)</span><br><span class="line"> &#123;</span><br><span class="line"> <span class="built_in">CloseHandle</span>(_handle);</span><br><span class="line"> &#125;</span><br><span class="line"> _handle = INVALID_HANDLE_VALUE;</span><br><span class="line"> &#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"> HANDLE _handle;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">WinSingleleton::<span class="built_in">WinSingleleton</span>(string name) </span><br><span class="line"> :_handle(INVALID_HANDLE_VALUE)</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line"> _handle = <span class="built_in">CreateMutexA</span>(<span class="literal">NULL</span>, FALSE, name.<span class="built_in">c_str</span>());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> OS </category>
          
          <category> Windows </category>
          
      </categories>
      
      
        <tags>
            
            <tag> windows </tag>
            
            <tag> é” </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Windows é™æƒ</title>
      <link href="/OS/Windows/%E6%9D%83%E9%99%90%E4%B8%8E%E4%BC%9A%E8%AF%9D/%E9%99%8D%E6%9D%83/"/>
      <url>/OS/Windows/%E6%9D%83%E9%99%90%E4%B8%8E%E4%BC%9A%E8%AF%9D/%E9%99%8D%E6%9D%83/</url>
      
        <content type="html"><![CDATA[<p>[toc]</p><h1 id="èƒŒæ™¯è¯´æ˜"><a href="#èƒŒæ™¯è¯´æ˜" class="headerlink" title="èƒŒæ™¯è¯´æ˜"></a>èƒŒæ™¯è¯´æ˜</h1><p>åœ¨æœåŠ¡ç¨‹åºä¸­è°ƒç”¨äº†æŸä¸€ä¸ªç¨‹åºçš„å®‰è£…ç¨‹åºï¼Œç”±äºæƒé™çš„é—®é¢˜ï¼Œè¿™ä¸ªå®‰è£…ç¨‹åºä¹Ÿç»§æ‰¿äº†æœåŠ¡çš„ <code>SYSTEM</code> æƒé™ï¼Œå¯¼è‡´å®‰è£…ç¨‹åºä¸é¢„æœŸä¸ç¬¦åˆã€‚</p><h1 id="è§£å†³æ–¹æ¡ˆ"><a href="#è§£å†³æ–¹æ¡ˆ" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h1><p>æœ€ç»ˆå®ç°çš„ç›®æ ‡å°±æ˜¯åœ¨æœåŠ¡ä¸­ä»¥æ™®é€šç”¨æˆ·çš„æƒé™å»å¯åŠ¨å®‰è£…ç¨‹åºï¼Œè¦ä»¥æ™®é€šç”¨æˆ·å»å¯åŠ¨ï¼Œå°±æ¶‰åŠåˆ°é™æƒçš„é—®é¢˜ï¼Œéœ€è¦è·å–ç”¨æˆ·çš„ä¿¡æ¯ã€‚åœ¨ä»»åŠ¡ç®¡ç†å™¨è¯¦ç»†ä¿¡æ¯ä¸­å¯ä»¥çœ‹åˆ°ï¼Œèµ„æºç®¡ç†å™¨æ˜¯ä»¥æ™®é€šç”¨æˆ·çš„èº«ä»½å¯åŠ¨çš„ï¼Œå› æ­¤å¯ä»¥åœ¨æœåŠ¡ä¸­ä»¥ <code>Explore.exe</code> çš„æƒé™å»è°ƒç”¨å®‰è£…ç¨‹åºã€‚</p><h1 id="å®ç°é€»è¾‘"><a href="#å®ç°é€»è¾‘" class="headerlink" title="å®ç°é€»è¾‘"></a>å®ç°é€»è¾‘</h1><p>æ­¤é€»è¾‘ä¹Ÿå¯ä»¥ç”¨äºè§£å†³ <code>UAC</code> å¼¹çª—çš„é—®é¢˜ã€‚</p><ol><li>è·å–token</li><li>é€šè¿‡tokenè·å–ç”¨æˆ·çš„ä¼šè¯ID</li><li>é€šè¿‡tokenå’ŒIDå¯åŠ¨è¿›ç¨‹</li></ol><h1 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h1><h2 id="æ¥å£"><a href="#æ¥å£" class="headerlink" title="æ¥å£"></a>æ¥å£</h2><p>æœ€ç»ˆè°ƒç”¨çš„æ¥å£ä¸ºï¼š <code>CreateProcessAsUser</code></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">ExecutePackage</span><span class="params">(LPCSTR pszPath, LPCSTR pszParams)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span> (<span class="literal">nullptr</span> == pszPath)</span><br><span class="line"><span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line"></span><br><span class="line">wstring szPath = <span class="built_in">stringToWstring</span>(pszPath);</span><br><span class="line"></span><br><span class="line">wstring szParams;</span><br><span class="line"><span class="keyword">if</span> (pszParams)</span><br><span class="line">&#123;</span><br><span class="line">szParams = <span class="built_in">stringToWstring</span>(pszParams);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">CreateProcessWithAdmin</span>(szPath.<span class="built_in">c_str</span>(), szParams.<span class="built_in">c_str</span>());</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å®ç°"><a href="#å®ç°" class="headerlink" title="å®ç°"></a>å®ç°</h2><p>å®ç°å¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* @fn           </span></span><br><span class="line"><span class="comment">* @brief        CreateProcessWithAdmin</span></span><br><span class="line"><span class="comment">* @param[in]    </span></span><br><span class="line"><span class="comment">*   strpathï¼š ç¨‹åºè·¯å¾„</span></span><br><span class="line"><span class="comment">*   strParams: ç¨‹åºæ‰§è¡Œå‘½ä»¤</span></span><br><span class="line"><span class="comment">* @param[out]   </span></span><br><span class="line"><span class="comment">* @return       </span></span><br><span class="line"><span class="comment">*               </span></span><br><span class="line"><span class="comment">* @detail      </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">CreateProcessWithAdmin</span><span class="params">(LPCWSTR lpExePath, LPCWSTR lpParam)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    HANDLE hExplorerToken = <span class="built_in">GetExplorerToken</span>();</span><br><span class="line">    HANDLE hTokenDup = <span class="literal">NULL</span>;</span><br><span class="line">    LPVOID pEnvironment = <span class="literal">nullptr</span>;</span><br><span class="line">    <span class="type">bool</span> res&#123; <span class="literal">false</span> &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="type">char</span>szErr[<span class="number">256</span>] = &#123; <span class="number">0</span> &#125;;</span><br><span class="line">    <span class="type">int</span>iErrCode = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">do</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (hExplorerToken == <span class="literal">NULL</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            iErrCode = <span class="built_in">GetLastError</span>();</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// å¤åˆ¶ä»¤ç‰Œ,æŠŠè°ƒç”¨æ–¹æœ‰æ•ˆçš„æ‰€æœ‰è®¿é—®æƒé™ç»™å¤åˆ¶åçš„ä»¤ç‰Œ.</span></span><br><span class="line">        DWORD dwReturnBytes = <span class="number">0</span>;</span><br><span class="line">        DWORD dwReturnLen = <span class="number">0</span>;</span><br><span class="line">        DWORD dwTokenSessionId = <span class="number">0</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// é€šè¿‡tokenè·å–sessionId</span></span><br><span class="line">        <span class="keyword">if</span> (::<span class="built_in">GetTokenInformation</span>(hExplorerToken, TokenSessionId, &amp;dwTokenSessionId, <span class="built_in">sizeof</span>(DWORD), &amp;dwReturnLen) == FALSE)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// é€šè¿‡ SessionId å’Œ Tokenè¿è¡Œç¨‹åº</span></span><br><span class="line">-res = _CreateProcessAsSystemBySession(lpExePath, lpParam, <span class="literal">NULL</span>, dwTokenSessionId, hExplorerToken); <span class="comment">// æ”¹åŠ¨å¦‚ä¸‹æ‰€ç¤º</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">// æ”¹åŠ¨</span></span><br><span class="line">        <span class="comment">// åˆ¤æ–­å½“å‰ç‰¹æƒtokenæ˜¯å¦å·²æå‡ï¼Œå¦‚æœå·²ç»æå‡ï¼Œåˆ™ç›´æ¥é€šè¿‡å½“å‰çš„tokenå¯åŠ¨ï¼Œå¦‚æœæœªæå‡ï¼Œåˆ™é€šè¿‡æå‡åçš„tokenå¯åŠ¨</span></span><br><span class="line">+        HANDLE hNewToken = <span class="literal">NULL</span>;</span><br><span class="line">+<span class="keyword">if</span> (<span class="built_in">GetElevatedToken</span>(hExplorerToken, &amp;hNewToken) &amp;&amp; hNewToken)</span><br><span class="line">+&#123;</span><br><span class="line">+res = <span class="built_in">CreateProcessByToken</span>(hNewToken, hExplorerToken, lpExePath, lpParam, <span class="literal">NULL</span>, FALSE);</span><br><span class="line">+<span class="built_in">CloseHandle</span>(hNewToken);</span><br><span class="line">+&#125;</span><br><span class="line">+<span class="keyword">else</span></span><br><span class="line">+&#123;</span><br><span class="line">+res = <span class="built_in">CreateProcessAsSystemBySession</span>(lpExePath, lpParam, <span class="literal">NULL</span>, dwTokenSessionId, hExplorerToken);</span><br><span class="line">+&#125;</span><br><span class="line">+<span class="built_in">CloseHandle</span>(hExplorerToken);</span><br><span class="line">        </span><br><span class="line">    &#125; <span class="keyword">while</span> (<span class="literal">false</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åˆ¤æ–­tokenæ˜¯å¦è¢«æå‡ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">BOOL <span class="title">IsElevatedToken</span><span class="params">(HANDLE hToken, PBOOL pbElevated)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">DWORD dwReturnBytes = <span class="number">0</span>;</span><br><span class="line">DWORD dwElevateionType = <span class="number">0</span>;</span><br><span class="line">BOOL bElevated = FALSE;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (hToken &amp;&amp; pbElevated)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">GetTokenInformation</span>(hToken, TokenElevationType, &amp;dwElevateionType, <span class="built_in">sizeof</span>(dwElevateionType), &amp;dwReturnBytes))</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (dwElevateionType == TokenElevationTypeFull)</span><br><span class="line">bElevated = TRUE;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (dwElevateionType == TokenElevationTypeDefault)</span><br><span class="line">&#123;</span><br><span class="line">TOKEN_ELEVATION te;</span><br><span class="line"><span class="built_in">ZeroMemory</span>(&amp;te, <span class="built_in">sizeof</span>(te));</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">GetTokenInformation</span>(hToken, TokenElevation, &amp;te, <span class="built_in">sizeof</span>(te), &amp;dwReturnBytes))</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (te.TokenIsElevated)</span><br><span class="line">bElevated = TRUE;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (pbElevated)</span><br><span class="line">*pbElevated = bElevated;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> TRUE;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> FALSE;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">BOOL <span class="title">GetElevatedToken</span><span class="params">(HANDLE hToken, PHANDLE phNewToken)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">BOOL bElevated = FALSE;</span><br><span class="line"></span><br><span class="line"><span class="built_in">IsElevatedToken</span>(hToken, &amp;bElevated);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (bElevated)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="built_in">DuplicateTokenEx</span>(hToken, TOKEN_ALL_ACCESS, <span class="literal">NULL</span>, SecurityImpersonation, TokenPrimary, phNewToken);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">DWORD dwReturnBytes = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">return</span> <span class="built_in">GetTokenInformation</span>(hToken, TokenLinkedToken, phNewToken, <span class="built_in">sizeof</span>(HANDLE), &amp;dwReturnBytes);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> FALSE;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è·å–èµ„æºç®¡ç†å™¨çš„ <code>token</code></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function">HANDLE <span class="title">GetExplorerToken</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">PromotePrivilege</span>();</span><br><span class="line"></span><br><span class="line">    HANDLE hSnapshot = ::<span class="built_in">CreateToolhelp32Snapshot</span>(TH32CS_SNAPPROCESS, <span class="number">0</span>);</span><br><span class="line">    <span class="keyword">if</span> (hSnapshot == INVALID_HANDLE_VALUE)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    HANDLE hExplorerToken = <span class="literal">NULL</span>;</span><br><span class="line">    PROCESSENTRY32 pe = &#123; <span class="number">0</span> &#125;;</span><br><span class="line">    pe.dwSize = <span class="built_in">sizeof</span>(pe);</span><br><span class="line"></span><br><span class="line">    BOOL bMore = ::<span class="built_in">Process32First</span>(hSnapshot, &amp;pe);</span><br><span class="line">    <span class="keyword">while</span> (bMore)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">StrCmpI</span>(<span class="string">L&quot;explorer.exe&quot;</span>, pe.szExeFile) == <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            HANDLE hProcess = <span class="built_in">OpenProcess</span>(PROCESS_QUERY_INFORMATION, FALSE, pe.th32ProcessID);</span><br><span class="line">            <span class="keyword">if</span> (hProcess == <span class="literal">NULL</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">OpenProcessToken</span>(hProcess, TOKEN_QUERY, &amp;hExplorerToken))</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">CloseHandle</span>(hProcess);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        bMore = ::<span class="built_in">Process32Next</span>(hSnapshot, &amp;pe);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">CloseHandle</span>(hSnapshot);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> hExplorerToken;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ç»™æœ¬è¿›ç¨‹ç‰¹æƒï¼Œä»¥ä¾¿è®¿é—®ç³»ç»Ÿè¿›ç¨‹</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* @fn       PromotePrivilege</span></span><br><span class="line"><span class="comment">* @brief    è°ƒæ•´è¿›ç¨‹æƒé™      </span></span><br><span class="line"><span class="comment">*               </span></span><br><span class="line"><span class="comment">* @detail   å°†è¿›ç¨‹æƒé™æå‡æˆå…·æœ‰è°ƒè¯•æƒé™çš„è¿›ç¨‹ï¼Œè¿™ä¸ªæƒé™åº”è¯¥æ˜¯è¿›ç¨‹æ‰€èƒ½å…·æœ‰çš„æœ€å¤§æƒé™</span></span><br><span class="line"><span class="comment">*           å‰æå¯åŠ¨è¿™ä¸ªè¿›ç¨‹çš„è´¦æˆ·å¿…é¡»æ˜¯ä¸€ä¸ªç®¡ç†å‘˜ï¼Œå¦åˆ™æ²¡æ³•æå‡</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function">BOOL <span class="title">PromotePrivilege</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// é™„ç»™æœ¬è¿›ç¨‹ç‰¹æƒ,ä»¥ä¾¿è®¿é—®ç³»ç»Ÿè¿›ç¨‹  </span></span><br><span class="line">    HANDLE hToken;</span><br><span class="line">    <span class="comment">// æ‰“å¼€ä¸€ä¸ªè¿›ç¨‹çš„è®¿é—®ä»¤ç‰Œ  </span></span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">OpenProcessToken</span>(<span class="built_in">GetCurrentProcess</span>(), TOKEN_ADJUST_PRIVILEGES, &amp;hToken))</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// å–å¾—ç‰¹æƒåç§°ä¸º&quot;SetDebugPrivilege&quot;çš„LUID  </span></span><br><span class="line">        LUID uID;</span><br><span class="line">        <span class="keyword">if</span> (!<span class="built_in">LookupPrivilegeValue</span>(<span class="literal">NULL</span>, SE_DEBUG_NAME, &amp;uID))</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">CloseHandle</span>(hToken);</span><br><span class="line">            <span class="keyword">return</span> FALSE;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// è°ƒæ•´ç‰¹æƒçº§åˆ«  </span></span><br><span class="line">        TOKEN_PRIVILEGES tp;</span><br><span class="line">        tp.PrivilegeCount = <span class="number">1</span>; <span class="comment">// åªå¯åŠ¨è°ƒè¯•æƒé™ï¼Œæ‰€ä»¥æƒé™çš„ä¸ªæ•°æ˜¯ä¸€ä¸ª</span></span><br><span class="line">        tp.Privileges[<span class="number">0</span>].Luid = uID;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//å½“Attributes = SE_PRIVILEGE_ENABLEæ—¶ï¼Œæ¿€æ´»æƒé™</span></span><br><span class="line">        <span class="comment">//å½“Attributes = 0æ—¶ï¼Œå…³é—­æƒé™</span></span><br><span class="line">        tp.Privileges[<span class="number">0</span>].Attributes = SE_PRIVILEGE_ENABLED;</span><br><span class="line">        </span><br><span class="line"><span class="comment">// AdjustTokenPrivilegeså‡½æ•°æ¿€æ´»æˆ–è€…å…³é—­tpä¸­ç»™å®šçš„æƒé™</span></span><br><span class="line">        <span class="keyword">if</span> (!<span class="built_in">AdjustTokenPrivileges</span>(hToken, FALSE, &amp;tp, <span class="built_in">sizeof</span>(tp), <span class="literal">NULL</span>, <span class="literal">NULL</span>))</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">CloseHandle</span>(hToken);</span><br><span class="line">            <span class="keyword">return</span> FALSE;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// å…³é—­è®¿é—®ä»¤ç‰Œå¥æŸ„  </span></span><br><span class="line">        <span class="built_in">CloseHandle</span>(hToken);</span><br><span class="line">        <span class="keyword">return</span> TRUE;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> FALSE;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è®¾ç½®å½“å‰è¿›ç¨‹çš„ä¼šè¯ä¿¡æ¯ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">bool</span> <span class="title">CreateProcessAsSystemBySession</span><span class="params">(LPCTSTR pszAppName, LPCTSTR pszCmd, LPCTSTR pszCwd, DWORD dwSession, HANDLE hEnvToken)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (pszCmd == <span class="literal">NULL</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">    <span class="type">bool</span> bRet = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">    HANDLE hTokenThis = <span class="literal">NULL</span>;</span><br><span class="line">    bRet = <span class="built_in">OpenProcessToken</span>(<span class="built_in">GetCurrentProcess</span>(), TOKEN_DUPLICATE | TOKEN_QUERY, &amp;hTokenThis);</span><br><span class="line">    <span class="keyword">if</span> (!bRet || hTokenThis == <span class="literal">NULL</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">    HANDLE hTokenDup = <span class="literal">NULL</span>;</span><br><span class="line">    bRet = <span class="built_in">DuplicateTokenEx</span>(hTokenThis, MAXIMUM_ALLOWED, <span class="literal">NULL</span>, SecurityIdentification, TokenPrimary, &amp;hTokenDup);</span><br><span class="line">    <span class="built_in">CloseHandle</span>(hTokenThis);</span><br><span class="line">    <span class="keyword">if</span> (!bRet || hTokenDup == <span class="literal">NULL</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (!<span class="built_in">SetTokenInformation</span>(hTokenDup, TokenSessionId, &amp;dwSession, <span class="built_in">sizeof</span>(DWORD)))</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">CloseHandle</span>(hTokenDup);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    bRet = <span class="built_in">CreateProcessByToken</span>(hTokenDup, hEnvToken, pszAppName, pszCmd, pszCwd, TRUE);</span><br><span class="line">    <span class="built_in">CloseHandle</span>(hTokenDup);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> bRet;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è°ƒç”¨æ¥å£åˆ›å»ºè¿›ç¨‹ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">typedef</span> <span class="title">BOOL</span><span class="params">(STDMETHODCALLTYPE FAR* LPFNCREATEENVIRONMENTBLOCK)</span> <span class="params">(LPVOID* lpEnvironment, HANDLE  hToken, BOOL    bInherit)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">typedef</span> <span class="title">BOOL</span><span class="params">(STDMETHODCALLTYPE FAR* LPFNDESTROYENVIRONMENTBLOCK)</span> <span class="params">(LPVOID lpEnvironment)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">CreateProcessByToken</span><span class="params">(HANDLE hToken, HANDLE hEnvToken, LPCTSTR pszAppName, LPCTSTR pszCmd, LPCTSTR pszCwd, BOOL bWndHide<span class="comment">/* = FALSE*/</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    STARTUPINFO si = &#123; <span class="built_in">sizeof</span>(si) &#125;;</span><br><span class="line">    PROCESS_INFORMATION pi = &#123; <span class="number">0</span> &#125;;</span><br><span class="line"></span><br><span class="line">    si.lpDesktop = (LPWSTR)<span class="string">L&quot;Winsta0\\Default&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (bWndHide)</span><br><span class="line">    &#123;</span><br><span class="line">        si.dwFlags = STARTF_USESHOWWINDOW;</span><br><span class="line">        si.wShowWindow = SW_HIDE;</span><br><span class="line">    &#125;</span><br><span class="line">    DWORD  dwCreationFlag = NORMAL_PRIORITY_CLASS | CREATE_NEW_CONSOLE;</span><br><span class="line">    LPVOID pEnvironment = <span class="literal">NULL</span>;</span><br><span class="line">    LPFNCREATEENVIRONMENTBLOCK  lpfnCreateEnvironmentBlock = <span class="literal">NULL</span>;</span><br><span class="line">    LPFNDESTROYENVIRONMENTBLOCK lpfnDestroyEnvironmentBlock = <span class="literal">NULL</span>;</span><br><span class="line">    HMODULE hUserEnvLib = <span class="literal">NULL</span>;</span><br><span class="line">    hUserEnvLib = <span class="built_in">LoadLibrary</span>(<span class="string">L&quot;userenv.dll&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span> (<span class="literal">NULL</span> != hUserEnvLib)</span><br><span class="line">    &#123;</span><br><span class="line">        lpfnCreateEnvironmentBlock = (LPFNCREATEENVIRONMENTBLOCK)<span class="built_in">GetProcAddress</span>(hUserEnvLib, <span class="string">&quot;CreateEnvironmentBlock&quot;</span>);</span><br><span class="line">        lpfnDestroyEnvironmentBlock = (LPFNDESTROYENVIRONMENTBLOCK)<span class="built_in">GetProcAddress</span>(hUserEnvLib, <span class="string">&quot;DestroyEnvironmentBlock&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (<span class="literal">NULL</span> != lpfnCreateEnvironmentBlock)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">lpfnCreateEnvironmentBlock</span>(&amp;pEnvironment, hEnvToken, FALSE))</span><br><span class="line">        &#123;</span><br><span class="line">            dwCreationFlag |= CREATE_UNICODE_ENVIRONMENT; <span class="comment">// must specify</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            pEnvironment = <span class="literal">NULL</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="type">bool</span> bRet = <span class="literal">false</span>;</span><br><span class="line">    BOOL bDisableRedirect = FALSE;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">CreateProcessAsUser</span>(hToken, pszAppName, (LPTSTR)pszCmd, <span class="literal">NULL</span>, <span class="literal">NULL</span>, FALSE, dwCreationFlag, pEnvironment, pszCwd, &amp;si, &amp;pi))</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">CloseHandle</span>(pi.hThread);</span><br><span class="line"></span><br><span class="line">        DWORD dwRet = <span class="built_in">WaitForSingleObject</span>(pi.hProcess, <span class="number">2</span> * <span class="number">60</span> * <span class="number">60</span> * <span class="number">1000</span>);</span><br><span class="line">        <span class="keyword">if</span> (WAIT_TIMEOUT == dwRet)</span><br><span class="line">        &#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (WAIT_OBJECT_0 == dwRet)</span><br><span class="line">        &#123;</span><br><span class="line"></span><br><span class="line">            bRet = <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">CloseHandle</span>(pi.hProcess);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (<span class="literal">NULL</span> != lpfnDestroyEnvironmentBlock)</span><br><span class="line">        <span class="built_in">lpfnDestroyEnvironmentBlock</span>(pEnvironment);</span><br><span class="line">    <span class="keyword">if</span> (<span class="literal">NULL</span> != hUserEnvLib)</span><br><span class="line">        <span class="built_in">FreeLibrary</span>(hUserEnvLib);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> bRet;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> OS </category>
          
          <category> Windows </category>
          
          <category> æƒé™ä¸ä¼šè¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Windows </tag>
            
            <tag> æƒé™ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åˆ¤æ–­windowsç‰ˆæœ¬</title>
      <link href="/OS/Windows/%E6%9F%A5%E8%AF%A2%E7%B3%BB%E7%BB%9F%E4%BF%A1%E6%81%AF/%E5%88%A4%E6%96%ADwindows%E7%89%88%E6%9C%AC/"/>
      <url>/OS/Windows/%E6%9F%A5%E8%AF%A2%E7%B3%BB%E7%BB%9F%E4%BF%A1%E6%81%AF/%E5%88%A4%E6%96%ADwindows%E7%89%88%E6%9C%AC/</url>
      
        <content type="html"><![CDATA[<p>[toc]</p><h1 id="æ¥å£è¯´æ˜"><a href="#æ¥å£è¯´æ˜" class="headerlink" title="æ¥å£è¯´æ˜"></a>æ¥å£è¯´æ˜</h1><p>åœ¨windowsæ“ä½œç³»ç»Ÿä¸Šï¼Œåˆ¤æ–­ç³»ç»Ÿç‰ˆæœ¬å·ä¸€èˆ¬éƒ½æ˜¯ä½¿ç”¨ <code>GetVersionEx</code> å‡½æ•°ï¼Œä½†æ˜¯è¯¥å‡½æ•° <code>windows8.1</code> ä»¥åè¢«å¯ç”¨äº†ï¼Œå°½ç®¡å¯ä»¥é€šè¿‡æ·»åŠ å®æ¥å¿½ç•¥ <code>4996</code> çš„é”™è¯¯ã€‚åœ¨æ–°çš„APIä¸­æä¾›äº†æ–°çš„æ¥å£ä»¥ä¾›åˆ¤æ–­æ“ä½œç³»ç»Ÿç‰ˆæœ¬ï¼š</p><ol><li><a href="https://learn.microsoft.com/zh-cn/windows/win32/api/versionhelpers/">Versionhelpers.h æ ‡å¤´ - Win32 apps | Microsoft Learn</a></li><li><a href="https://learn.microsoft.com/zh-cn/windows/win32/winprog/using-the-windows-headers#macros-for-conditional-declarations">å£°æ˜çš„å®</a></li></ol><p>æœ¬æ–‡ä»‹ç»å¦‚ä½•ä½¿ç”¨ <code>IsWindowsVersionOrGreater </code> å’Œ <code>verifyVersionInfoW</code> å‡½æ•°ã€‚</p><p>å…³äºå¦‚ä½•æŸ¥è¯¢windowsç‰ˆæœ¬å·å¯ä»¥çœ‹è¿™ä¸ªæ–‡æ¡£ï¼š <a href="https://learn.microsoft.com/zh-cn/cpp/porting/modifying-winver-and-win32-winnt?view=msvc-170">æ›´æ–° WINVER å’Œ _WIN32_WINNT | Microsoft Learn</a></p><h1 id="Windowså„ä¸ªç‰ˆæœ¬çš„å®"><a href="#Windowså„ä¸ªç‰ˆæœ¬çš„å®" class="headerlink" title="Windowså„ä¸ªç‰ˆæœ¬çš„å®"></a>Windowså„ä¸ªç‰ˆæœ¬çš„å®</h1><table><thead><tr><th align="left">æ‰€éœ€çš„æœ€ä½ç³»ç»Ÿ</th><th align="left">NTDDI_VERSIONçš„å€¼</th></tr></thead><tbody><tr><td align="left">Windows 10 1903 â€œ19H1â€</td><td align="left"><strong>NTDDI_WIN10_19H1</strong> (0x0A000007)</td></tr><tr><td align="left">Windows 10 1809 â€œçº¢çŸ³ 5â€</td><td align="left"><strong>NTDDI_WIN10_RS5</strong> (0x0A000006)</td></tr><tr><td align="left">Windows 10 1803 â€œçº¢çŸ³ 4â€</td><td align="left"><strong>NTDDI_WIN10_RS4</strong> (0x0A000005)</td></tr><tr><td align="left">Windows 10 1709 â€œçº¢çŸ³ 3â€</td><td align="left"><strong>NTDDI_WIN10_RS3</strong> (0x0A000004)</td></tr><tr><td align="left">Windows 10 1703 â€œçº¢çŸ³ 2â€</td><td align="left"><strong>NTDDI_WIN10_RS2</strong> (0x0A000003)</td></tr><tr><td align="left">Windows 10 1607 â€œçº¢çŸ³ 1â€</td><td align="left"><strong>NTDDI_WIN10_RS1</strong> (0x0A000002)</td></tr><tr><td align="left">Windows 10 1511â€œé˜ˆå€¼ 2â€</td><td align="left"><strong>NTDDI_WIN10_TH2</strong> (0x0A000001)</td></tr><tr><td align="left">Windows 10 1507â€œé˜ˆå€¼â€</td><td align="left"><strong>NTDDI_WIN10</strong> (0x0A000000)</td></tr><tr><td align="left">Windows 8.1</td><td align="left"><strong>NTDDI_WINBLUE</strong> (0x06030000)</td></tr><tr><td align="left">Windows 8</td><td align="left"><strong>NTDDI_WIN8</strong> (0x06020000)</td></tr><tr><td align="left">Windows 7</td><td align="left"><strong>NTDDI_WIN7</strong> (0x06010000)</td></tr><tr><td align="left">Windows Server 2008</td><td align="left"><strong>NTDDI_WS08</strong> (0x06000100)</td></tr><tr><td align="left">Windows Vista Service Pack 1 (SP1)</td><td align="left"><strong>NTDDI_VISTASP1</strong> (0x06000100)</td></tr><tr><td align="left">Windows Vista</td><td align="left"><strong>NTDDI_VISTA</strong> (0x06000000)</td></tr><tr><td align="left">Windows Server 2003 Service Pack 2 (SP2)</td><td align="left"><strong>NTDDI_WS03SP2</strong> (0x05020200)</td></tr><tr><td align="left">å¸¦æœ‰ Service Pack 1 (SP1) çš„ Windows Server 2003</td><td align="left"><strong>NTDDI_WS03SP1</strong> (0x05020100)</td></tr><tr><td align="left">Windows Server 2003</td><td align="left"><strong>NTDDI_WS03</strong> (0x05020000)</td></tr><tr><td align="left">Windows XP Service Pack 3 (SP3)</td><td align="left"><strong>NTDDI_WINXPSP3</strong> (0x05010300)</td></tr><tr><td align="left">Windows XP Service Pack 2 (SP2)</td><td align="left"><strong>NTDDI_WINXPSP2</strong> (0x05010200)</td></tr><tr><td align="left">Windows XP Service Pack 1 (SP1)</td><td align="left"><strong>NTDDI_WINXPSP1</strong> (0x05010100)</td></tr><tr><td align="left">Windows XP</td><td align="left"><strong>NTDDI_WINXP</strong> (0x05010000)</td></tr></tbody></table><h1 id="è¡¥å……"><a href="#è¡¥å……" class="headerlink" title="è¡¥å……"></a>è¡¥å……</h1><p>å…³äº å‡½æ•°çš„ä¸‰ä¸ªå‚æ•°çš„è¾“å…¥å¯ä»¥å‚è€ƒæ–‡æ¡£ä¸­å®šä¹‰çš„å®ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> OSVER(Version)  ((Version) &amp; OSVERSION_MASK)</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> SPVER(Version)  (((Version) &amp; SPVERSION_MASK) &gt;&gt; 8)</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> SUBVER(Version) (((Version) &amp; SUBVERSION_MASK) )</span></span><br></pre></td></tr></table></figure><p>é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å®è·å–ä¸‰ä¸ªç‰ˆæœ¬å·ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">LOWORD()å¾—åˆ°ä¸€ä¸ª32bitæ•°çš„ä½16bit  </span></span><br><span class="line"><span class="comment">HIWORD()å¾—åˆ°ä¸€ä¸ª32bitæ•°çš„é«˜16bit</span></span><br><span class="line"><span class="comment">LOBYTE()å¾—åˆ°ä¸€ä¸ª16bitæ•°æœ€ä½ï¼ˆæœ€å³è¾¹ï¼‰é‚£ä¸ªå­—èŠ‚</span></span><br><span class="line"><span class="comment">HIBYTE()å¾—åˆ°ä¸€ä¸ª16bitæ•°æœ€é«˜ï¼ˆæœ€å·¦è¾¹ï¼‰é‚£ä¸ªå­—èŠ‚</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> LOWORD(l)           ((WORD)(((DWORD_PTR)(l)) &amp; 0xffff))</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> HIWORD(l)           ((WORD)((((DWORD_PTR)(l)) &gt;&gt; 16) &amp; 0xffff))</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> LOBYTE(w)           ((BYTE)(((DWORD_PTR)(w)) &amp; 0xff))</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> HIBYTE(w)           ((BYTE)((((DWORD_PTR)(w)) &gt;&gt; 8) &amp; 0xff))</span></span><br></pre></td></tr></table></figure><h1 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h1><p><code>IsWindowsVersionOrGreater</code> å‡½æ•°æ˜¯ Windows API ä¸­çš„ä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºæ£€æŸ¥å½“å‰è¿è¡Œçš„æ“ä½œç³»ç»Ÿç‰ˆæœ¬æ˜¯å¦æ»¡è¶³æŒ‡å®šçš„æ¡ä»¶ã€‚ä»¥ä¸‹æ˜¯è¯¥å‡½æ•°çš„ä¸€äº›å¸¸è§ç”¨æ³•ï¼š</p><ol><li><h2 id="æ£€æŸ¥ç‰¹å®šç‰ˆæœ¬åŠä»¥ä¸Šçš„-Windows-ç‰ˆæœ¬ï¼š"><a href="#æ£€æŸ¥ç‰¹å®šç‰ˆæœ¬åŠä»¥ä¸Šçš„-Windows-ç‰ˆæœ¬ï¼š" class="headerlink" title="æ£€æŸ¥ç‰¹å®šç‰ˆæœ¬åŠä»¥ä¸Šçš„ Windows ç‰ˆæœ¬ï¼š"></a>æ£€æŸ¥ç‰¹å®šç‰ˆæœ¬åŠä»¥ä¸Šçš„ Windows ç‰ˆæœ¬ï¼š</h2></li></ol><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;Windows.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ç¤ºä¾‹ï¼šæ£€æŸ¥ Windows 7 åŠä»¥ä¸Šç‰ˆæœ¬</span></span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">IsWindowsVersionOrGreater</span>(<span class="number">6</span>, <span class="number">1</span>, <span class="number">0</span>))</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// åœ¨ Windows 7 æˆ–æ›´é«˜ç‰ˆæœ¬ä¸Šæ‰§è¡ŒæŸäº›æ“ä½œ</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol><li><h2 id="æ£€æŸ¥ç‰¹å®šç‰ˆæœ¬å’Œ-Service-Pack-çš„-Windows-ç‰ˆæœ¬ï¼š"><a href="#æ£€æŸ¥ç‰¹å®šç‰ˆæœ¬å’Œ-Service-Pack-çš„-Windows-ç‰ˆæœ¬ï¼š" class="headerlink" title="æ£€æŸ¥ç‰¹å®šç‰ˆæœ¬å’Œ Service Pack çš„ Windows ç‰ˆæœ¬ï¼š"></a>æ£€æŸ¥ç‰¹å®šç‰ˆæœ¬å’Œ Service Pack çš„ Windows ç‰ˆæœ¬ï¼š</h2></li></ol><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;Windows.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ç¤ºä¾‹ï¼šæ£€æŸ¥ Windows 10 ç‰ˆæœ¬ 1809ï¼ˆç§‹å­£åˆ›æ„è€…æ›´æ–°ï¼‰åŠä»¥ä¸Šç‰ˆæœ¬</span></span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">IsWindowsVersionOrGreater</span>(<span class="number">10</span>, <span class="number">0</span>, <span class="number">17763</span>))</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// åœ¨ Windows 10 ç‰ˆæœ¬ 1809ï¼ˆç§‹å­£åˆ›æ„è€…æ›´æ–°ï¼‰æˆ–æ›´é«˜ç‰ˆæœ¬ä¸Šæ‰§è¡ŒæŸäº›æ“ä½œ</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol><li><h2 id="æ£€æŸ¥æ˜¯å¦ä¸ºç‰¹å®š-Windows-Server-ç‰ˆæœ¬ï¼š"><a href="#æ£€æŸ¥æ˜¯å¦ä¸ºç‰¹å®š-Windows-Server-ç‰ˆæœ¬ï¼š" class="headerlink" title="æ£€æŸ¥æ˜¯å¦ä¸ºç‰¹å®š Windows Server ç‰ˆæœ¬ï¼š"></a>æ£€æŸ¥æ˜¯å¦ä¸ºç‰¹å®š Windows Server ç‰ˆæœ¬ï¼š</h2></li></ol><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;Windows.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ç¤ºä¾‹ï¼šæ£€æŸ¥æ˜¯å¦ä¸º Windows Server 2016 ç‰ˆæœ¬</span></span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">IsWindowsVersionOrGreater</span>(<span class="built_in">HIBYTE</span>(_WIN32_WINNT_WIN10), <span class="built_in">LOBYTE</span>(_WIN32_WINNT_WIN10), <span class="number">0</span>))</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// åœ¨ Windows Server 2016 æˆ–æ›´é«˜ç‰ˆæœ¬ä¸Šæ‰§è¡ŒæŸäº›æ“ä½œ</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol><li><h2 id="æ£€æŸ¥ç‰¹å®šç‰ˆæœ¬ã€Service-Pack-å’Œäº§å“ç±»å‹çš„-Windows-ç‰ˆæœ¬ï¼š"><a href="#æ£€æŸ¥ç‰¹å®šç‰ˆæœ¬ã€Service-Pack-å’Œäº§å“ç±»å‹çš„-Windows-ç‰ˆæœ¬ï¼š" class="headerlink" title="æ£€æŸ¥ç‰¹å®šç‰ˆæœ¬ã€Service Pack å’Œäº§å“ç±»å‹çš„ Windows ç‰ˆæœ¬ï¼š"></a>æ£€æŸ¥ç‰¹å®šç‰ˆæœ¬ã€Service Pack å’Œäº§å“ç±»å‹çš„ Windows ç‰ˆæœ¬ï¼š</h2></li></ol><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;Windows.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ç¤ºä¾‹ï¼šæ£€æŸ¥ Windows 8.1 Update ç‰ˆæœ¬ä¸”ä¸ºå·¥ä½œç«™ç±»å‹</span></span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">IsWindowsVersionOrGreater</span>(<span class="number">6</span>, <span class="number">3</span>, <span class="number">0</span>, VER_GREATER_EQUAL, VER_NT_WORKSTATION))</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// åœ¨ Windows 8.1 Update ç‰ˆæœ¬ä¸”ä¸ºå·¥ä½œç«™ç±»å‹ä¸Šæ‰§è¡ŒæŸäº›æ“ä½œ</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™äº›ç¤ºä¾‹å¯ä»¥å¸®åŠ©ä½ ç†è§£ <code>IsWindowsVersionOrGreater</code> å‡½æ•°çš„å„ç§ç”¨æ³•ï¼Œä½ å¯ä»¥æ ¹æ®å®é™…éœ€æ±‚åœ¨ä»£ç ä¸­é€‚å½“è°ƒæ•´å‚æ•°å’Œæ¡ä»¶ã€‚</p><p>è¯·æ³¨æ„ï¼Œ<code>IsWindowsVersionOrGreater</code> æ˜¯ä¸€ä¸ªåŠ¨æ€é“¾æ¥åº“å‡½æ•°ï¼Œåœ¨ä½¿ç”¨æ—¶éœ€è¦åŒ…å« <code>&lt;Windows.h&gt;</code> å¤´æ–‡ä»¶ï¼Œä¸”éœ€è¦é“¾æ¥åˆ° <code>Version.lib</code> åº“ã€‚</p><h1 id="åˆ¤æ–­-dwPlatformId"><a href="#åˆ¤æ–­-dwPlatformId" class="headerlink" title="åˆ¤æ–­ dwPlatformId"></a>åˆ¤æ–­ dwPlatformId</h1><h2 id="dwPlatformId-å­—æ®µè¯´æ˜"><a href="#dwPlatformId-å­—æ®µè¯´æ˜" class="headerlink" title="dwPlatformId å­—æ®µè¯´æ˜"></a>dwPlatformId å­—æ®µè¯´æ˜</h2><p>åœ¨ Windows ç³»ç»Ÿä¸­ï¼Œå¸¸ç”¨çš„å¹³å°æ ‡è¯†ï¼ˆPlatform IDï¼‰å®šä¹‰å¦‚ä¸‹ï¼š</p><ul><li><code>VER_PLATFORM_WIN32s</code>ï¼šè¡¨ç¤º Win32s å­ç³»ç»Ÿï¼Œå®ƒæ˜¯ä¸º Windows 3.1 æä¾›çš„ä¸€ä¸ªæ‰©å±•è¿è¡Œç¯å¢ƒï¼Œä½¿å¾—éƒ¨åˆ† 32 ä½åº”ç”¨ç¨‹åºå¯ä»¥åœ¨ Windows 3.1 ä¸Šè¿è¡Œã€‚</li><li><code>VER_PLATFORM_WIN32_WINDOWS</code>ï¼šè¡¨ç¤º Windows 9x ç³»åˆ—æ“ä½œç³»ç»Ÿï¼ŒåŒ…æ‹¬ Windows 95ã€Windows 98 å’Œ Windows MEã€‚è¿™äº›æ“ä½œç³»ç»Ÿéƒ½æ˜¯åŸºäº MS-DOS çš„ã€‚</li><li><code>VER_PLATFORM_WIN32_NT</code>ï¼šè¡¨ç¤º Windows NT ç³»åˆ—æ“ä½œç³»ç»Ÿï¼ŒåŒ…æ‹¬ Windows NTã€Windows 2000ã€Windows XPã€Windows Server 2003ã€Windows Vistaã€Windows 7ã€Windows 8ã€Windows 10 ç­‰ç‰ˆæœ¬ã€‚è¿™äº›æ“ä½œç³»ç»Ÿæ˜¯åŸºäºå…¨æ–°çš„å†…æ ¸è®¾è®¡çš„ï¼Œå¹¶å…·æœ‰æ›´å¼ºå¤§çš„åŠŸèƒ½å’Œç¨³å®šæ€§ã€‚</li></ul><p>æ¯ä¸ªå¹³å°æ ‡è¯†å¯¹åº”ä¸åŒçš„æ“ä½œç³»ç»Ÿç³»åˆ—ï¼Œå› æ­¤åœ¨å¼€å‘åº”ç”¨ç¨‹åºæ—¶ï¼Œæ ¹æ®éœ€è¦é€‰æ‹©æ­£ç¡®çš„å¹³å°æ ‡è¯†æ˜¯å¾ˆé‡è¦çš„ã€‚</p><h2 id="åˆ¤æ–­"><a href="#åˆ¤æ–­" class="headerlink" title="åˆ¤æ–­"></a>åˆ¤æ–­</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">bool</span> <span class="title">IsWindowsNT</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">OSVERSIONINFOEX osvi;</span><br><span class="line"><span class="built_in">ZeroMemory</span>(&amp;osvi, <span class="built_in">sizeof</span>(OSVERSIONINFOEX));</span><br><span class="line">osvi.dwOSVersionInfoSize = <span class="built_in">sizeof</span>(OSVERSIONINFOEX);</span><br><span class="line"><span class="comment">// osvi.dwPlatformId = VER_PLATFORM_WIN32s;</span></span><br><span class="line"><span class="comment">// osvi.dwPlatformId = VER_PLATFORM_WIN32_WINDOWS;</span></span><br><span class="line">osvi.dwPlatformId = VER_PLATFORM_WIN32_NT;</span><br><span class="line"></span><br><span class="line">DWORDLONG conditionMask = <span class="number">0</span>;</span><br><span class="line"><span class="built_in">VER_SET_CONDITION</span>(conditionMask, VER_PLATFORMID, VER_EQUAL);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span>  <span class="built_in">VerifyVersionInfo</span>(&amp;osvi, VER_PLATFORMID, conditionMask);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> OS </category>
          
          <category> Windows </category>
          
          <category> æŸ¥è¯¢ç³»ç»Ÿä¿¡æ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> windows </tag>
            
            <tag> os </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€windowsã€‘æŸ¥è¯¢å¤„ç†å™¨æ¶æ„</title>
      <link href="/OS/Windows/%E6%9F%A5%E8%AF%A2%E7%B3%BB%E7%BB%9F%E4%BF%A1%E6%81%AF/%E6%9F%A5%E8%AF%A2%E5%A4%84%E7%90%86%E5%99%A8%E6%9E%B6%E6%9E%84/"/>
      <url>/OS/Windows/%E6%9F%A5%E8%AF%A2%E7%B3%BB%E7%BB%9F%E4%BF%A1%E6%81%AF/%E6%9F%A5%E8%AF%A2%E5%A4%84%E7%90%86%E5%99%A8%E6%9E%B6%E6%9E%84/</url>
      
        <content type="html"><![CDATA[<p>é—®é¢˜ï¼š åœ¨ <code>arm</code> æ¶æ„çš„ <code>windows</code> ä¸Šä½¿ç”¨ <code>GetSystemInfo</code> è·å–åˆ°çš„ <code>wProcessorArchitecture</code> å‚æ•°ä¸å‡†ç¡®ã€‚</p><blockquote><p> ç”±äº <code>arm</code> æ¶æ„çš„ <code>windows</code> æ“ä½œç³»ç»Ÿéå¸¸å°‘è§ï¼Œæ‰€ä»¥å®¢æˆ·ç«¯ä¸Šçº¿æ—¶å¹¶æ²¡æœ‰å›å½’è¿‡æ£€æµ‹ <code>arm</code> æ“ä½œç³»ç»Ÿã€‚å¯¼è‡´ä¸Šçº¿åå‡ºç°é©±åŠ¨å®‰è£…å¤±è´¥é—®é¢˜ã€‚</p></blockquote><p>[toc]</p><h1 id="ä½¿ç”¨-GetSystemInfo-æŸ¥è¯¢"><a href="#ä½¿ç”¨-GetSystemInfo-æŸ¥è¯¢" class="headerlink" title="ä½¿ç”¨ GetSystemInfo æŸ¥è¯¢"></a>ä½¿ç”¨ <code>GetSystemInfo</code> æŸ¥è¯¢</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">std::string <span class="title">GetNcProcessorArchitecture</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">SYSTEM_INFO si = &#123; <span class="number">0</span> &#125;;</span><br><span class="line"><span class="built_in">GetSystemInfo</span>(&amp;si);</span><br><span class="line">DWORD architecture = si.wProcessorArchitecture;</span><br><span class="line"><span class="meta">#<span class="keyword">if</span> 0</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> PROCESSOR_ARCHITECTURE_INTEL 0 </span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> PROCESSOR_ARCHITECTURE_MIPS 1  </span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> PROCESSOR_ARCHITECTURE_ALPHA 2</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> PROCESSOR_ARCHITECTURE_PPC 3</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> PROCESSOR_ARCHITECTURE_SHX 4 </span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> PROCESSOR_ARCHITECTURE_ARM 5  </span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> PROCESSOR_ARCHITECTURE_IA64 6 </span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> PROCESSOR_ARCHITECTURE_ALPHA64 7  </span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> PROCESSOR_ARCHITECTURE_MSIL 8  </span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> PROCESSOR_ARCHITECTURE_AMD64 9</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> PROCESSOR_ARCHITECTURE_ARM64 12</span></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (architecture == PROCESSOR_ARCHITECTURE_AMD64)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="string">&quot;amd64&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (architecture == PROCESSOR_ARCHITECTURE_INTEL)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="string">&quot;i386&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (architecture == PROCESSOR_ARCHITECTURE_ARM64 || architecture == PROCESSOR_ARCHITECTURE_ARM)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="string">&quot;arm&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ <code>GetSystemInfo</code> æŸ¥è¯¢çš„ <code>wProcessorArchitecture</code> çš„å€¼ä¸º <code>0</code>ã€‚</p><h1 id="æŸ¥è¯¢æ³¨å†Œè¡¨"><a href="#æŸ¥è¯¢æ³¨å†Œè¡¨" class="headerlink" title="æŸ¥è¯¢æ³¨å†Œè¡¨"></a>æŸ¥è¯¢æ³¨å†Œè¡¨</h1><p>è°ƒç ”ä¸€ç•ªåï¼Œå‘ç°ä½¿ç”¨æ³¨å†Œè¡¨çš„æ–¹å¼æ›´ç¨³å¦¥ä¸€ç‚¹ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;Windows.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    HKEY hKey;</span><br><span class="line">    TCHAR processorArchitecture[<span class="number">255</span>];</span><br><span class="line">    DWORD bufferSize = <span class="built_in">sizeof</span>(processorArchitecture);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ‰“å¼€æ³¨å†Œè¡¨é”®</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">RegOpenKeyEx</span>(HKEY_LOCAL_MACHINE, <span class="built_in">TEXT</span>(<span class="string">&quot;SYSTEM\\CurrentControlSet\\Control\\Session Manager\\Environment&quot;</span>), <span class="number">0</span>, KEY_READ, &amp;hKey) == ERROR_SUCCESS) &#123;</span><br><span class="line">        <span class="comment">// è¯»å–æ³¨å†Œè¡¨å€¼</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">RegQueryValueEx</span>(hKey, <span class="built_in">TEXT</span>(<span class="string">&quot;PROCESSOR_ARCHITECTURE&quot;</span>), <span class="literal">nullptr</span>, <span class="literal">nullptr</span>, <span class="built_in">reinterpret_cast</span>&lt;LPBYTE&gt;(processorArchitecture), &amp;bufferSize) == ERROR_SUCCESS) &#123;</span><br><span class="line">            std::cout &lt;&lt; <span class="string">&quot;Processor Architecture: &quot;</span> &lt;&lt; processorArchitecture;</span><br><span class="line">        &#125;</span><br><span class="line">      </span><br><span class="line">        <span class="comment">// å…³é—­æ³¨å†Œè¡¨é”®</span></span><br><span class="line">        <span class="built_in">RegCloseKey</span>(hKey);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> OS </category>
          
          <category> Windows </category>
          
          <category> æŸ¥è¯¢ç³»ç»Ÿä¿¡æ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> windows </tag>
            
            <tag> sysinfo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ææƒ</title>
      <link href="/OS/Windows/%E6%9D%83%E9%99%90%E4%B8%8E%E4%BC%9A%E8%AF%9D/%E6%8F%90%E6%9D%83/"/>
      <url>/OS/Windows/%E6%9D%83%E9%99%90%E4%B8%8E%E4%BC%9A%E8%AF%9D/%E6%8F%90%E6%9D%83/</url>
      
        <content type="html"><![CDATA[<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function">BOOL  <span class="title">EnablePrivilege</span><span class="params">(LPCTSTR lpszPrivilegeName, BOOL bEnable)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> nResult = FALSE;</span><br><span class="line">    <span class="type">int</span> nRetCode = FALSE;</span><br><span class="line">    HANDLE hToken = <span class="literal">NULL</span>;</span><br><span class="line">    TOKEN_PRIVILEGES tkp = &#123; <span class="number">0</span> &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">do</span></span><br><span class="line">    &#123;</span><br><span class="line">        nRetCode = ::<span class="built_in">OpenProcessToken</span>(<span class="built_in">GetCurrentProcess</span>(), TOKEN_ADJUST_PRIVILEGES | TOKEN_QUERY, &amp;hToken);</span><br><span class="line">        <span class="keyword">if</span> (!nRetCode)</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">        nRetCode = ::<span class="built_in">LookupPrivilegeValue</span>(<span class="literal">NULL</span>, lpszPrivilegeName, &amp;tkp.Privileges[<span class="number">0</span>].Luid);</span><br><span class="line">        <span class="keyword">if</span> (!nRetCode)</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">        tkp.PrivilegeCount = <span class="number">1</span>;</span><br><span class="line">        tkp.Privileges[<span class="number">0</span>].Attributes = bEnable ? SE_PRIVILEGE_ENABLED : <span class="number">0</span>;</span><br><span class="line">        nRetCode = ::<span class="built_in">AdjustTokenPrivileges</span>(hToken, FALSE, &amp;tkp, <span class="built_in">sizeof</span>(tkp), <span class="literal">NULL</span>, <span class="literal">NULL</span>);</span><br><span class="line">        <span class="keyword">if</span> (!nRetCode)</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">        nResult = TRUE;</span><br><span class="line">    &#125; <span class="keyword">while</span> (FALSE);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (hToken != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">CloseHandle</span>(hToken);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> nResult;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">HANDLE <span class="title">GetExplorerToken</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">EnablePrivilege</span>(SE_DEBUG_NAME, TRUE);</span><br><span class="line"></span><br><span class="line">    HANDLE hSnapshot = ::<span class="built_in">CreateToolhelp32Snapshot</span>(TH32CS_SNAPPROCESS, <span class="number">0</span>);</span><br><span class="line">    <span class="keyword">if</span> (hSnapshot == INVALID_HANDLE_VALUE)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    HANDLE hExplorerToken = <span class="literal">NULL</span>;</span><br><span class="line">    PROCESSENTRY32 pe = &#123; <span class="number">0</span> &#125;;</span><br><span class="line">    pe.dwSize = <span class="built_in">sizeof</span>(pe);</span><br><span class="line"></span><br><span class="line">    BOOL bMore = ::<span class="built_in">Process32First</span>(hSnapshot, &amp;pe);</span><br><span class="line">    <span class="keyword">while</span> (bMore)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (_tcsicmp(<span class="string">&quot;explorer.exe&quot;</span>, pe.szExeFile) == <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            HANDLE hProcess = <span class="built_in">OpenProcess</span>(PROCESS_QUERY_INFORMATION, FALSE, pe.th32ProcessID);</span><br><span class="line">            <span class="keyword">if</span> (hProcess == <span class="literal">NULL</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">OpenProcessToken</span>(hProcess, TOKEN_QUERY, &amp;hExplorerToken))</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">CloseHandle</span>(hProcess);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="built_in">CloseHandle</span>(hProcess);</span><br><span class="line">        &#125;</span><br><span class="line">        bMore = ::<span class="built_in">Process32Next</span>(hSnapshot, &amp;pe);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">CloseHandle</span>(hSnapshot);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> hExplorerToken;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">HANDLE hExplorerToken = <span class="built_in">GetExplorerToken</span>();</span><br><span class="line"><span class="keyword">if</span> (hExplorerToken == <span class="literal">NULL</span>)</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">char</span> szUserProfilePath[MAX_PATH] = &#123; <span class="number">0</span> &#125;;</span><br><span class="line">DWORD cchSize = MAX_PATH;</span><br><span class="line"><span class="keyword">if</span> (!<span class="built_in">GetUserProfileDirectoryA</span>(hExplorerToken, szUserProfilePath, &amp;cchSize))</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">CloseHandle</span>(hExplorerToken);</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> OS </category>
          
          <category> Windows </category>
          
          <category> æƒé™ä¸ä¼šè¯ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>ææƒå·¥å…· psExec.exe</title>
      <link href="/OS/Windows/%E6%9D%83%E9%99%90%E4%B8%8E%E4%BC%9A%E8%AF%9D/%E6%8F%90%E6%9D%83%E5%B7%A5%E5%85%B7/"/>
      <url>/OS/Windows/%E6%9D%83%E9%99%90%E4%B8%8E%E4%BC%9A%E8%AF%9D/%E6%8F%90%E6%9D%83%E5%B7%A5%E5%85%B7/</url>
      
        <content type="html"><![CDATA[<p>ä½¿ç”¨æ–¹æ³•ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">psexec -i -d -s  cmd.exe <span class="comment"># å°±æ˜¯ææƒè¿è¡Œcmd</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> OS </category>
          
          <category> Windows </category>
          
          <category> æƒé™ä¸ä¼šè¯ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>æœåŠ¡ä¸­ä»¥ç®¡ç†å‘˜&#92;æ™®é€šæƒé™å¯åŠ¨è¿›ç¨‹</title>
      <link href="/OS/Windows/%E6%9D%83%E9%99%90%E4%B8%8E%E4%BC%9A%E8%AF%9D/%E6%9D%83%E9%99%90%E4%B8%8E%E4%BC%9A%E8%AF%9D/"/>
      <url>/OS/Windows/%E6%9D%83%E9%99%90%E4%B8%8E%E4%BC%9A%E8%AF%9D/%E6%9D%83%E9%99%90%E4%B8%8E%E4%BC%9A%E8%AF%9D/</url>
      
        <content type="html"><![CDATA[<h1 id="ç®¡ç†å‘˜æƒé™å¯åŠ¨è¿›ç¨‹"><a href="#ç®¡ç†å‘˜æƒé™å¯åŠ¨è¿›ç¨‹" class="headerlink" title="ç®¡ç†å‘˜æƒé™å¯åŠ¨è¿›ç¨‹"></a>ç®¡ç†å‘˜æƒé™å¯åŠ¨è¿›ç¨‹</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç®¡ç†å‘˜æƒé™å¯åŠ¨è¿›ç¨‹</span></span><br><span class="line"><span class="meta">#<span class="keyword">ifdef</span> UNICODE</span></span><br><span class="line"><span class="function">MMSYSSHARED_EXPORT <span class="type">bool</span> <span class="title">CreateProcessWithAdmin</span><span class="params">(<span class="type">const</span> std::wstring&amp; exe, <span class="type">const</span> std::wstring&amp; param, <span class="type">bool</span> show)</span></span></span><br><span class="line"><span class="function"><span class="meta">#<span class="keyword">else</span></span></span></span><br><span class="line"><span class="function">MMSYSSHARED_EXPORT <span class="type">bool</span> <span class="title">CreateProcessWithAdmin</span><span class="params">(<span class="type">const</span> std::string&amp; exe, <span class="type">const</span> std::string&amp; param, <span class="type">bool</span> show)</span></span></span><br><span class="line"><span class="function"><span class="meta">#<span class="keyword">endif</span> <span class="comment">// UNICODE</span></span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    HANDLE hToken&#123; <span class="literal">NULL</span> &#125;;</span><br><span class="line">    HANDLE hTokenDup&#123; <span class="literal">NULL</span> &#125;;</span><br><span class="line">    LPVOID pEnvironment&#123; <span class="literal">NULL</span> &#125;;</span><br><span class="line">    <span class="type">bool</span> res&#123; <span class="literal">false</span> &#125;;</span><br><span class="line"><span class="meta">#<span class="keyword">ifdef</span> UNICODE</span></span><br><span class="line">    <span class="type">wchar_t</span>* cmd = (<span class="type">wchar_t</span>*)param.<span class="built_in">c_str</span>();</span><br><span class="line"><span class="meta">#<span class="keyword">else</span></span></span><br><span class="line">    <span class="type">char</span>* cmd = (<span class="type">wchar_t</span>*)param.<span class="built_in">c_str</span>();</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">do</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (exe.<span class="built_in">empty</span>())</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">LOG_ERROR</span>(<span class="string">&quot;exe is null!&quot;</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (!<span class="built_in">GetTokenWithProcessName</span>(<span class="string">L&quot;explorer.exe&quot;</span>, hToken))</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">LOG_ERROR</span>(<span class="string">&quot;GetTokenWithProcessName Error: %u&quot;</span>, <span class="built_in">GetLastError</span>());</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// å¤åˆ¶ä»¤ç‰Œ,æŠŠè°ƒç”¨æ–¹æœ‰æ•ˆçš„æ‰€æœ‰è®¿é—®æƒé™ç»™å¤åˆ¶åçš„ä»¤ç‰Œ.</span></span><br><span class="line">        <span class="keyword">if</span> (!<span class="built_in">DuplicateTokenEx</span>(hToken, MAXIMUM_ALLOWED<span class="comment">/*TOKEN_ALL_ACCESS*/</span>, <span class="literal">NULL</span><span class="comment">/*&amp;sa*/</span>, SecurityImpersonation, TokenPrimary, &amp;hTokenDup))</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">LOG_ERROR</span>(<span class="string">&quot;DuplicateTokenEx Error: %u&quot;</span>, <span class="built_in">GetLastError</span>());</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        STARTUPINFO si;</span><br><span class="line">        <span class="built_in">ZeroMemory</span>(&amp;si, <span class="built_in">sizeof</span>(STARTUPINFO));</span><br><span class="line">        si.cb = <span class="built_in">sizeof</span>(STARTUPINFO);</span><br><span class="line"><span class="meta">#<span class="keyword">ifdef</span> UNICODE</span></span><br><span class="line">        <span class="type">wchar_t</span> desk[]&#123; <span class="built_in">TEXT</span>(<span class="string">&quot;WinSta0\\Default&quot;</span>) &#125;;</span><br><span class="line"><span class="meta">#<span class="keyword">else</span></span></span><br><span class="line">        <span class="type">char</span> desk[]&#123; <span class="built_in">TEXT</span>(<span class="string">&quot;WinSta0\\Default&quot;</span>) &#125;;</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line">        si.lpDesktop = desk;</span><br><span class="line">        <span class="keyword">if</span> (show)</span><br><span class="line">        &#123;</span><br><span class="line">            si.wShowWindow = SW_SHOW;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            si.wShowWindow = SW_HIDE;</span><br><span class="line">        &#125;</span><br><span class="line">        si.dwFlags = STARTF_USESHOWWINDOW;</span><br><span class="line">        PROCESS_INFORMATION pi;</span><br><span class="line">        <span class="comment">// æ£€ç´¢æŒ‡å®šç”¨æˆ·çš„ç¯å¢ƒå˜é‡ã€‚ç„¶åï¼Œå¯ä»¥å°†æ­¤å—ä¼ é€’ç»™ CreateProcessAsUser å‡½æ•°ã€‚</span></span><br><span class="line">        <span class="keyword">if</span> (!<span class="built_in">CreateEnvironmentBlock</span>(&amp;pEnvironment, hTokenDup, FALSE))</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">LOG_ERROR</span>(<span class="string">&quot;CreateEnvironmentBlock Error: %u&quot;</span>, <span class="built_in">GetLastError</span>());</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// ç¼ºå°‘ç¯å¢ƒå˜é‡æ—¶æŸäº›ä¾èµ–ç¯å¢ƒå˜é‡çš„ç¨‹åºæ‰“ä¸å¼€ï¼Œæˆ–è€…è¿è¡Œä¸æ­£å¸¸ã€‚</span></span><br><span class="line">        <span class="keyword">if</span> (!<span class="built_in">CreateProcessAsUser</span>(hTokenDup, exe.<span class="built_in">c_str</span>(), cmd, <span class="literal">NULL</span>, <span class="literal">NULL</span>, FALSE</span><br><span class="line">            , NORMAL_PRIORITY_CLASS </span><br><span class="line">            <span class="comment">/*| CREATE_NEW_CONSOLE  */</span> </span><br><span class="line">            | CREATE_UNICODE_ENVIRONMENT</span><br><span class="line">            , pEnvironment, <span class="literal">NULL</span>, &amp;si, &amp;pi))</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">LOG_ERROR</span>(<span class="string">&quot;CreateProcessAsUser Error: %u&quot;</span>, <span class="built_in">GetLastError</span>());</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        res = <span class="literal">true</span>;</span><br><span class="line">    &#125; <span class="keyword">while</span> (<span class="number">0</span>);</span><br><span class="line">    <span class="comment">// æ¸…ç†</span></span><br><span class="line">    <span class="keyword">if</span> (cmd)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">delete</span>[]cmd;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (pEnvironment)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">DestroyEnvironmentBlock</span>(pEnvironment);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(hToken)</span><br><span class="line">        <span class="built_in">CloseHandle</span>(hToken);</span><br><span class="line">    <span class="keyword">if</span> (hTokenDup)</span><br><span class="line">        <span class="built_in">CloseHandle</span>(hTokenDup);</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="æ™®é€šç”¨æˆ·æƒé™å¯åŠ¨è¿›ç¨‹"><a href="#æ™®é€šç”¨æˆ·æƒé™å¯åŠ¨è¿›ç¨‹" class="headerlink" title="æ™®é€šç”¨æˆ·æƒé™å¯åŠ¨è¿›ç¨‹"></a>æ™®é€šç”¨æˆ·æƒé™å¯åŠ¨è¿›ç¨‹</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ™®é€šç”¨æˆ·æƒé™å¯åŠ¨è¿›ç¨‹</span></span><br><span class="line"><span class="meta">#<span class="keyword">ifdef</span> UNICODE</span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">CreateProcessWithUser</span><span class="params">(<span class="type">const</span> std::wstring&amp; exePath, <span class="type">const</span> std::wstring&amp; param, <span class="type">bool</span> show)</span></span></span><br><span class="line"><span class="function"><span class="meta">#<span class="keyword">else</span></span></span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">CreateProcessWithUser</span><span class="params">(<span class="type">const</span> std::string&amp; exePath, <span class="type">const</span> std::string&amp; param, <span class="type">bool</span> show)</span></span></span><br><span class="line"><span class="function"><span class="meta">#<span class="keyword">endif</span> <span class="comment">// UNICODE</span></span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    HANDLE hToken = <span class="number">0</span>;</span><br><span class="line">    HANDLE hNewToken = <span class="number">0</span>;</span><br><span class="line">    LPVOID pEnvironment&#123; <span class="literal">NULL</span> &#125;;</span><br><span class="line">    <span class="type">bool</span> res&#123; <span class="literal">false</span> &#125;;</span><br><span class="line">    <span class="type">int</span> l = param.<span class="built_in">length</span>();</span><br><span class="line"><span class="meta">#<span class="keyword">ifdef</span> UNICODE</span></span><br><span class="line">    <span class="type">wchar_t</span>* cmd = <span class="keyword">new</span> <span class="type">wchar_t</span>[l + <span class="number">1</span>];</span><br><span class="line">    <span class="built_in">memcpy</span>(cmd, param.<span class="built_in">c_str</span>(), l * <span class="built_in">sizeof</span>(<span class="type">wchar_t</span>));</span><br><span class="line">    cmd[l] = <span class="number">0</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">else</span></span></span><br><span class="line">    <span class="type">char</span>* cmd = <span class="keyword">new</span> <span class="type">char</span>[l + <span class="number">1</span>];</span><br><span class="line">    <span class="built_in">memcpy</span>(cmd, param.<span class="built_in">c_str</span>(), l * <span class="built_in">sizeof</span>(<span class="type">char</span>));</span><br><span class="line">    cmd[l] = <span class="number">0</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span> <span class="comment">// UNICODE</span></span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">do</span> </span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (!<span class="built_in">GetTokenWithProcessName</span>(<span class="string">L&quot;explorer.exe&quot;</span>, hToken))</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">LOG_ERROR</span>(<span class="string">&quot;GetTokenWithProcessName Error: %u&quot;</span>, <span class="built_in">GetLastError</span>());</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (!<span class="built_in">DuplicateTokenEx</span>(hToken, TOKEN_ALL_ACCESS, <span class="literal">NULL</span><span class="comment">/*&amp;sa*/</span>, SECURITY_MAX_IMPERSONATION_LEVEL, TokenPrimary, &amp;hNewToken))</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">LOG_ERROR</span>(<span class="string">&quot;DuplicateTokenEx Error: %u&quot;</span>, <span class="built_in">GetLastError</span>());</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        DWORD dwCreationFlag = NORMAL_PRIORITY_CLASS <span class="comment">/*| CREATE_NEW_CONSOLE*/</span> | CREATE_UNICODE_ENVIRONMENT;</span><br><span class="line">        <span class="comment">// æ£€ç´¢æŒ‡å®šç”¨æˆ·çš„ç¯å¢ƒå˜é‡ã€‚ç„¶åï¼Œå¯ä»¥å°†æ­¤å—ä¼ é€’ç»™ CreateProcessAsUser å‡½æ•°ã€‚</span></span><br><span class="line">        <span class="keyword">if</span> (!<span class="built_in">CreateEnvironmentBlock</span>(&amp;pEnvironment, hNewToken, FALSE))</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">LOG_ERROR</span>(<span class="string">&quot;CreateEnvironmentBlock Error: %u&quot;</span>, <span class="built_in">GetLastError</span>());</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        STARTUPINFO si;</span><br><span class="line">        PROCESS_INFORMATION pi;</span><br><span class="line">        <span class="built_in">ZeroMemory</span>(&amp;si, <span class="built_in">sizeof</span>(STARTUPINFO));</span><br><span class="line">        si.cb = <span class="built_in">sizeof</span>(STARTUPINFO);</span><br><span class="line"><span class="meta">#<span class="keyword">ifdef</span> UNICODE</span></span><br><span class="line">        <span class="type">wchar_t</span> desktop[] = <span class="string">L&quot;winsta0\\default&quot;</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">else</span></span></span><br><span class="line">        <span class="type">char</span> desktop[] = <span class="string">&quot;winsta0\\default&quot;</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span> </span></span><br><span class="line">        si.lpDesktop = desktop;</span><br><span class="line">        si.dwFlags = STARTF_USESHOWWINDOW;</span><br><span class="line">        <span class="keyword">if</span> (show)</span><br><span class="line">        &#123;</span><br><span class="line">            si.wShowWindow = SW_SHOW;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            si.wShowWindow = SW_HIDE;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (!<span class="built_in">CreateProcessAsUser</span>(hNewToken, exePath.<span class="built_in">c_str</span>(), cmd, <span class="number">0</span>, <span class="number">0</span>, FALSE, dwCreationFlag, pEnvironment, <span class="number">0</span>, &amp;si, &amp;pi))</span><br><span class="line">        &#123;</span><br><span class="line"><span class="meta">#<span class="keyword">ifdef</span> UNICODE</span></span><br><span class="line">            std::string ansicmd = mm::Charset::<span class="built_in">UnicodeToANSI</span>(cmd);</span><br><span class="line">            std::string ansibat = mm::Charset::<span class="built_in">UnicodeToANSI</span>(exePath.<span class="built_in">c_str</span>());</span><br><span class="line">            <span class="built_in">LOG_ERROR</span>(<span class="string">&quot;CreateProcessAsUser error! LastError=%ld, %s, %s&quot;</span>, <span class="built_in">GetLastError</span>(), ansibat.<span class="built_in">c_str</span>(), ansicmd.<span class="built_in">c_str</span>());</span><br><span class="line"><span class="meta">#<span class="keyword">else</span></span></span><br><span class="line">            <span class="built_in">LOG_ERROR</span>(<span class="string">&quot;CreateProcessAsUser error! LastError=%ld, %s, %s&quot;</span>, <span class="built_in">GetLastError</span>(), exePath.<span class="built_in">c_str</span>(), cmd.<span class="built_in">c_str</span>());</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span> <span class="comment">// UNICODE</span></span></span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        res = <span class="literal">true</span>;</span><br><span class="line">    &#125; <span class="keyword">while</span> (<span class="number">0</span>);</span><br><span class="line">    <span class="comment">// æ¸…ç†</span></span><br><span class="line">    <span class="keyword">delete</span>[] cmd;</span><br><span class="line">    <span class="keyword">if</span> (hToken)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">CloseHandle</span>(hToken);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (hNewToken) </span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">CloseHandle</span>(hNewToken);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (pEnvironment)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">DestroyEnvironmentBlock</span>(pEnvironment);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="æ ¹æ®åå­—æŸ¥æ‰¾è¿›ç¨‹å¥æŸ„"><a href="#æ ¹æ®åå­—æŸ¥æ‰¾è¿›ç¨‹å¥æŸ„" class="headerlink" title="æ ¹æ®åå­—æŸ¥æ‰¾è¿›ç¨‹å¥æŸ„"></a>æ ¹æ®åå­—æŸ¥æ‰¾è¿›ç¨‹å¥æŸ„</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">ifdef</span> UNICODE</span></span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">GetTokenWithProcessName</span><span class="params">(<span class="type">const</span> <span class="type">wchar_t</span>* szName, HANDLE&amp; hToken)</span></span></span><br><span class="line"><span class="function"><span class="meta">#<span class="keyword">else</span></span></span></span><br><span class="line"><span class="function">    <span class="type">bool</span> <span class="title">GetTokenWithProcessName</span><span class="params">(<span class="type">const</span> <span class="type">char</span>* szName, HANDLE&amp; hToken)</span></span></span><br><span class="line"><span class="function"><span class="meta">#<span class="keyword">endif</span> <span class="comment">// _DEBUG</span></span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">// HANDLE hToken&#123; NULL &#125;;</span></span><br><span class="line">        HANDLE hProcessSnap&#123; <span class="literal">NULL</span> &#125;;</span><br><span class="line">        PROCESSENTRY32 pe32&#123; <span class="literal">NULL</span> &#125;; </span><br><span class="line">        HANDLE hProcess&#123; <span class="literal">NULL</span> &#125;;</span><br><span class="line">        <span class="type">bool</span> res&#123; <span class="literal">false</span> &#125;;</span><br><span class="line">        <span class="keyword">do</span> </span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">// å¤šç”¨æˆ·æ¨¡å¼æ—¶ä»»åŠ¡ç®¡ç†å™¨é‡Œå¯èƒ½å‡ºç°å¤šä¸ªexplorer</span></span><br><span class="line">            <span class="comment">// éœ€è¦å…ˆè·å–å½“å‰ä¼šè¯IDï¼Œå†é€šè¿‡æšä¸¾è¿›ç¨‹ï¼Œé€šè¿‡æ¯”è¾ƒsessionIDè¿›è€Œå¾—åˆ°tokenã€‚</span></span><br><span class="line">            <span class="comment">//DWORD dwSessionId = WTSGetActiveConsoleSessionId();</span></span><br><span class="line">            <span class="comment">//PWTS_PROCESS_INFO ppi = NULL;</span></span><br><span class="line">            <span class="comment">//DWORD dwProcessCount = 0;</span></span><br><span class="line">            <span class="comment">//if (WTSEnumerateProcesses(WTS_CURRENT_SERVER_HANDLE, 0, 1, &amp;ppi, &amp;dwProcessCount))</span></span><br><span class="line">            <span class="comment">//&#123;</span></span><br><span class="line">            <span class="comment">//    for (int i = 0; i &lt; dwProcessCount; i++)</span></span><br><span class="line">            <span class="comment">//    &#123;      </span></span><br><span class="line">            <span class="comment">//        if (_wcsicmp(ppi[i].pProcessName, L&quot;explorer.exe&quot;) == 0)</span></span><br><span class="line">            <span class="comment">//        &#123;</span></span><br><span class="line">            <span class="comment">//            if (ppi[i].SessionId == dwSessionId)</span></span><br><span class="line">            <span class="comment">//            &#123;</span></span><br><span class="line">            <span class="comment">//                break;</span></span><br><span class="line">            <span class="comment">//            &#125;</span></span><br><span class="line">            <span class="comment">//        &#125;</span></span><br><span class="line">            <span class="comment">//    &#125;</span></span><br><span class="line">            <span class="comment">//    WTSFreeMemory(ppi);</span></span><br><span class="line">            <span class="comment">//&#125;</span></span><br><span class="line">            hProcessSnap = <span class="built_in">CreateToolhelp32Snapshot</span>(TH32CS_SNAPPROCESS, <span class="number">0</span>);       </span><br><span class="line">            <span class="keyword">if</span> (!hProcessSnap)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">LOG_ERROR</span>(<span class="string">&quot;CreateToolhelp32Snapshot error! %d&quot;</span>, <span class="built_in">GetLastError</span>());</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            pe32.dwSize = <span class="built_in">sizeof</span>(PROCESSENTRY32);</span><br><span class="line">            <span class="keyword">for</span> (<span class="built_in">Process32First</span>(hProcessSnap, &amp;pe32); <span class="built_in">Process32Next</span>(hProcessSnap, &amp;pe32);)</span><br><span class="line">            &#123;</span><br><span class="line"><span class="meta">#<span class="keyword">ifdef</span> UNICODE</span></span><br><span class="line">                <span class="keyword">if</span> (_wcsicmp((pe32.szExeFile), szName))</span><br><span class="line"><span class="meta">#<span class="keyword">else</span></span></span><br><span class="line">                <span class="keyword">if</span> (_stricmp((pe32.szExeFile), szName))</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span> <span class="comment">// _DEBUG</span></span></span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line">                hProcess = <span class="built_in">OpenProcess</span>(PROCESS_QUERY_INFORMATION, FALSE, pe32.th32ProcessID);</span><br><span class="line">                <span class="keyword">if</span> (!hProcess)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="built_in">LOG_ERROR</span>(<span class="string">&quot;OpenProcess error! %d&quot;</span>, <span class="built_in">GetLastError</span>());</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                BOOL ret = <span class="built_in">OpenProcessToken</span>(hProcess, TOKEN_ALL_ACCESS, &amp;hToken);</span><br><span class="line">                <span class="keyword">if</span>(!ret)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="built_in">LOG_ERROR</span>(<span class="string">&quot;OpenProcess error! %d&quot;</span>, <span class="built_in">GetLastError</span>());</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                res = <span class="literal">true</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">while</span> (<span class="number">0</span>);</span><br><span class="line">       </span><br><span class="line">        <span class="keyword">if</span> (hProcessSnap)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">CloseHandle</span>(hProcessSnap);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (hProcess)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">CloseHandle</span>(hProcess);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> OS </category>
          
          <category> Windows </category>
          
          <category> æƒé™ä¸ä¼šè¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> windows </tag>
            
            <tag> æƒé™ </tag>
            
            <tag> ä¼šè¯ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>windows å®‰å…¨åŸºçº¿æ£€æŸ¥é¡¹</title>
      <link href="/OS/Windows/%E5%AE%89%E5%85%A8%E5%9F%BA%E7%BA%BF/%E5%AE%89%E5%85%A8%E5%9F%BA%E7%BA%BF%E6%A3%80%E6%9F%A5%E9%A1%B9/"/>
      <url>/OS/Windows/%E5%AE%89%E5%85%A8%E5%9F%BA%E7%BA%BF/%E5%AE%89%E5%85%A8%E5%9F%BA%E7%BA%BF%E6%A3%80%E6%9F%A5%E9%A1%B9/</url>
      
        <content type="html"><![CDATA[<p>[toc]</p><h1 id="ç³»ç»Ÿé…ç½®å®‰å…¨æ£€æŸ¥"><a href="#ç³»ç»Ÿé…ç½®å®‰å…¨æ£€æŸ¥" class="headerlink" title="ç³»ç»Ÿé…ç½®å®‰å…¨æ£€æŸ¥"></a>ç³»ç»Ÿé…ç½®å®‰å…¨æ£€æŸ¥</h1><h2 id="1-èº«ä»½é‰´åˆ«"><a href="#1-èº«ä»½é‰´åˆ«" class="headerlink" title="1. èº«ä»½é‰´åˆ«"></a>1. èº«ä»½é‰´åˆ«</h2><h3 id="1-1-å¯†ç æœ€é•¿ä½¿ç”¨æœŸé™"><a href="#1-1-å¯†ç æœ€é•¿ä½¿ç”¨æœŸé™" class="headerlink" title="1.1 å¯†ç æœ€é•¿ä½¿ç”¨æœŸé™"></a>1.1 å¯†ç æœ€é•¿ä½¿ç”¨æœŸé™</h3><p>å†…å®¹æè¿°ï¼š</p><p> æ­¤ç­–ç•¥ä½¿ç®¡ç†å‘˜èƒ½å¤Ÿé€šè¿‡ç¡®ä¿æ—§å¯†ç ä¸è¢«è¿ç»­é‡æ–°ä½¿ç”¨æ¥å¢å¼ºå®‰å…¨æ€§ã€‚</p><p>åŠ å›ºå»ºè®®ï¼š</p><p> Windows10&#x2F;8&#x2F;7&#x2F;XPï¼šè¯·å°†ä»¥ä¸‹UIè·¯å¾„è®¾ç½®ä¸º90æˆ–è¾ƒå°‘çš„å¤©æ•°ï¼Œä½†ä¸æ˜¯0 ï¼šè®¡ç®—æœºé…ç½®\Windowsè®¾ç½®\å®‰å…¨è®¾ç½®\å¸æˆ·ç­–ç•¥\å¯†ç ç­–ç•¥\å¯†ç æœ€é•¿ä½¿ç”¨æœŸé™ã€‚</p><p>æ³¨æ„ï¼š</p><p> åŸŸè´¦æˆ·éœ€è¦è”ç³»åŸŸç®¡ç†å‘˜åšå¯¹åº”ä¿®æ”¹ã€‚</p><h3 id="1-2-å¯†ç æœ€çŸ­ä½¿ç”¨æœŸé™"><a href="#1-2-å¯†ç æœ€çŸ­ä½¿ç”¨æœŸé™" class="headerlink" title="1.2 å¯†ç æœ€çŸ­ä½¿ç”¨æœŸé™"></a>1.2 å¯†ç æœ€çŸ­ä½¿ç”¨æœŸé™</h3><p>å†…å®¹æè¿°ï¼š</p><p> æ­¤ç­–ç•¥è®¾ç½®å®šä¹‰ç”¨æˆ·å¯†ç å¿…é¡»ä½¿ç”¨å¤šé•¿æ—¶é—´ã€‚</p><p>åŠ å›ºå»ºè®®ï¼š</p><p> Windows10&#x2F;8&#x2F;7&#x2F;XPï¼šè¯·å°†ä»¥ä¸‹UIè·¯å¾„è®¾ç½®ä¸º1æˆ–æ›´å¤§å¤©ï¼šè®¡ç®—æœºé…ç½®\Windowsè®¾ç½®\å®‰å…¨è®¾ç½®\å¸æˆ·ç­–ç•¥\å¯†ç ç­–ç•¥\å¯†ç æœ€çŸ­ä½¿ç”¨æœŸé™ã€‚</p><p>æ³¨æ„ï¼š</p><p> åŸŸè´¦æˆ·éœ€è¦è”ç³»åŸŸç®¡ç†å‘˜åšå¯¹åº”ä¿®æ”¹ã€‚</p><h3 id="1-3-å¼ºåˆ¶å¯†ç å†å²"><a href="#1-3-å¼ºåˆ¶å¯†ç å†å²" class="headerlink" title="1.3 å¼ºåˆ¶å¯†ç å†å²"></a>1.3 å¼ºåˆ¶å¯†ç å†å²</h3><p>å†…å®¹æè¿°ï¼š</p><p> æ­¤ç­–ç•¥ä½¿ç®¡ç†å‘˜èƒ½å¤Ÿé€šè¿‡ç¡®ä¿æ—§å¯†ç ä¸è¢«è¿ç»­é‡æ–°ä½¿ç”¨æ¥å¢å¼ºå®‰å…¨æ€§ã€‚</p><p>åŠ å›ºå»ºè®®ï¼š</p><p> Windows10&#x2F;8&#x2F;7&#x2F;XPï¼šè¯·å°†ä»¥ä¸‹UIè·¯å¾„è®¾ç½®ä¸º24æˆ–æ›´å¤šå¯†ç ï¼šè®¡ç®—æœºé…ç½®\Windowsè®¾ç½®\å®‰å…¨è®¾ç½®\å¸æˆ·ç­–ç•¥\å¯†ç ç­–ç•¥\å¼ºåˆ¶æ‰§è¡Œå¯†ç å†å²ã€‚</p><p>æ³¨æ„ï¼š</p><p> åŸŸè´¦æˆ·éœ€è¦è”ç³»åŸŸç®¡ç†å‘˜åšå¯¹åº”ä¿®æ”¹ã€‚</p><h3 id="1-4-å¯†ç é•¿åº¦æœ€å°å€¼"><a href="#1-4-å¯†ç é•¿åº¦æœ€å°å€¼" class="headerlink" title="1.4 å¯†ç é•¿åº¦æœ€å°å€¼"></a>1.4 å¯†ç é•¿åº¦æœ€å°å€¼</h3><p>å†…å®¹æè¿°ï¼š</p><p> å¯†ç é•¿åº¦æœ€å°å€¼è¶Šå¤§ï¼Œæš´åŠ›ç ´è§£éš¾åº¦å°±è¶Šé«˜ã€‚</p><p>åŠ å›ºå»ºè®®ï¼š</p><p> Windows10&#x2F;8&#x2F;7&#x2F;XPï¼šè¯·å°†ä»¥ä¸‹UIè·¯å¾„è®¾ç½®ä¸º14æˆ–æ›´å¤šå­—ç¬¦ï¼šè®¡ç®—æœºé…ç½®\Windowsè®¾ç½®\å®‰å…¨è®¾ç½®\å¸æˆ·ç­–ç•¥\å¯†ç ç­–ç•¥\å¯†ç é•¿åº¦æœ€å°å€¼ã€‚</p><p>æ³¨æ„ï¼š</p><p> åŸŸè´¦æˆ·éœ€è¦è”ç³»åŸŸç®¡ç†å‘˜åšå¯¹åº”ä¿®æ”¹ã€‚</p><h3 id="1-5-å¯†ç å¿…é¡»ç¬¦åˆå¤æ‚æ€§è¦æ±‚"><a href="#1-5-å¯†ç å¿…é¡»ç¬¦åˆå¤æ‚æ€§è¦æ±‚" class="headerlink" title="1.5 å¯†ç å¿…é¡»ç¬¦åˆå¤æ‚æ€§è¦æ±‚"></a>1.5 å¯†ç å¿…é¡»ç¬¦åˆå¤æ‚æ€§è¦æ±‚</h3><p>å†…å®¹æè¿°ï¼š</p><p> å¦‚æœå¯ç”¨æ­¤ç­–ç•¥ï¼Œå¯†ç å¿…é¡»ç¬¦åˆä¸‹åˆ—æœ€ä½è¦æ±‚ï¼š</p><ul><li>ä¸åŒ…å«ç”¨æˆ·çš„å¸æˆ·åæˆ–ç”¨æˆ·å…¨åä¸­è¶…è¿‡ä¸¤ä¸ªçš„éƒ¨åˆ†è¿ç»­å­—ç¬¦</li><li>è‡³å°‘å…­ä¸ªå­—ç¬¦</li><li>åŒ…å«ä»¥ä¸‹ä¸‰ä¸ªç±»åˆ«çš„å­—ç¬¦ï¼š</li><li>è‹±æ–‡å¤§å†™å­—æ¯ï¼ˆAåˆ°Zï¼‰</li><li>è‹±æ–‡å°å†™å­—æ¯ï¼ˆaåˆ°zï¼‰</li><li>ä»¥10ä¸ºåŸºæ•°çš„æ•°å­—ï¼ˆ0åˆ°9ï¼‰</li><li>éå­—æ¯å­—ç¬¦ï¼ˆä¾‹å¦‚ï¼Œï¼ï¼Œ$ï¼Œï¼ƒï¼Œï¼…ï¼‰</li><li>ä¸å±äºä»¥ä¸‹ä»»ä½•Unicodeå­—ç¬¦çš„å…¨éƒ¨ç±»åˆ«å‰å››ä¸ªç±»åˆ«ã€‚ç¬¬äº”ç±»å¯ä»¥æ˜¯åŒºåŸŸç‰¹å®šçš„ã€‚</li></ul><p>åŠ å›ºå»ºè®®ï¼š</p><p> Windows10&#x2F;8&#x2F;7&#x2F;XPï¼šè¯·å°†ä»¥ä¸‹UIè·¯å¾„è®¾ç½®ä¸ºå¯ç”¨ï¼šè®¡ç®—æœºé…ç½®\Windowsè®¾ç½®\å®‰å…¨è®¾ç½®\å¸æˆ·ç­–ç•¥\å¯†ç ç­–ç•¥\å¯†ç å¿…é¡»ç¬¦åˆå¤æ‚æ€§è¦æ±‚ã€‚</p><p>æ³¨æ„ï¼š</p><p> åŸŸè´¦æˆ·éœ€è¦è”ç³»åŸŸç®¡ç†å‘˜åšå¯¹åº”ä¿®æ”¹ã€‚</p><h3 id="1-6-ç”¨å¯è¿˜åŸçš„åŠ å¯†æ¥å‚¨å­˜å¯†ç "><a href="#1-6-ç”¨å¯è¿˜åŸçš„åŠ å¯†æ¥å‚¨å­˜å¯†ç " class="headerlink" title="1.6 ç”¨å¯è¿˜åŸçš„åŠ å¯†æ¥å‚¨å­˜å¯†ç "></a>1.6 ç”¨å¯è¿˜åŸçš„åŠ å¯†æ¥å‚¨å­˜å¯†ç </h3><p>å†…å®¹æè¿°ï¼š</p><p> é€šè¿‡è¿œç¨‹è®¿é—®æˆ– Internet èº«ä»½éªŒè¯æœåŠ¡(IAS)ä½¿ç”¨è´¨è¯¢æ¡æ‰‹èº«ä»½éªŒè¯åè®®(CHAP)éªŒè¯æ—¶éœ€è¦è®¾ç½®æ­¤ç­–ç•¥ã€‚åœ¨ Internet ä¿¡æ¯æœåŠ¡(IIS)ä¸­ä½¿ç”¨æ‘˜è¦å¼èº«ä»½éªŒè¯æ—¶ä¹Ÿéœ€è¦è®¾ç½®æ­¤ç­–ç•¥ã€‚</p><p>åŠ å›ºå»ºè®®ï¼š</p><p> Windows10&#x2F;8&#x2F;7&#x2F;XPï¼šè¯·å°†ä»¥ä¸‹UIè·¯å¾„è®¾ç½®ä¸ºç¦ç”¨ï¼šè®¡ç®—æœºé…ç½®\Windowsè®¾ç½®\å®‰å…¨è®¾ç½®\å¸æˆ·ç­–ç•¥\å¯†ç ç­–ç•¥\ç”¨å¯è¿˜åŸçš„åŠ å¯†æ¥å‚¨å­˜å¯†ç ã€‚</p><p>æ³¨æ„ï¼š</p><p> åŸŸè´¦æˆ·éœ€è¦è”ç³»åŸŸç®¡ç†å‘˜åšå¯¹åº”ä¿®æ”¹ã€‚</p><h3 id="1-7-é˜»æ­¢Microsoftå¸æˆ·"><a href="#1-7-é˜»æ­¢Microsoftå¸æˆ·" class="headerlink" title="1.7 é˜»æ­¢Microsoftå¸æˆ·"></a>1.7 é˜»æ­¢Microsoftå¸æˆ·</h3><p>å†…å®¹æè¿°ï¼š</p><p> æ­¤ç­–ç•¥è®¾ç½®é˜»æ­¢ç”¨æˆ·åœ¨æ­¤è®¡ç®—æœºä¸Šæ·»åŠ æ–°çš„ Microsoft å¸æˆ·ã€‚ å¦‚æœé€‰æ‹©â€œç”¨æˆ·ä¸èƒ½æ·»åŠ  Microsoft å¸æˆ·â€é€‰é¡¹ï¼Œç”¨æˆ·å°†ä¸èƒ½åœ¨æ­¤è®¡ç®—æœºä¸Šåˆ›å»ºæ–°çš„ Microsoft å¸æˆ·ï¼Œä¸èƒ½å°†æœ¬åœ°å¸æˆ·åˆ‡æ¢åˆ° Microsoft å¸æˆ·ï¼Œä¹Ÿä¸èƒ½å°†åŸŸå¸æˆ·è¿æ¥åˆ° Microsoft å¸æˆ·ã€‚å¦‚æœéœ€è¦åœ¨ä¼ä¸šä¸­é™åˆ¶ä½¿ç”¨ Microsoft å¸æˆ·ï¼Œè¿™æ˜¯é¦–é€‰é€‰é¡¹ã€‚ å¦‚æœé€‰æ‹©â€œç”¨æˆ·ä¸èƒ½æ·»åŠ  Microsoft å¸æˆ·æˆ–ä½¿ç”¨è¯¥å¸æˆ·ç™»å½•â€é€‰é¡¹ï¼Œåˆ™ç°æœ‰çš„ Microsoft å¸æˆ·ç”¨æˆ·å°†ä¸èƒ½ç™»å½•åˆ° Windowsã€‚é€‰ä¸­æ­¤é€‰é¡¹åï¼Œæ­¤è®¡ç®—æœºä¸Šçš„ç°æœ‰ç®¡ç†å‘˜å¯èƒ½æ— æ³•ç™»å½•å’Œç®¡ç†ç³»ç»Ÿã€‚ å¦‚æœç¦ç”¨æˆ–ä¸é…ç½®æ­¤ç­–ç•¥(æ¨è)ï¼Œåˆ™ç”¨æˆ·èƒ½å¤Ÿå°† Microsoft å¸æˆ·ç”¨äº Windowsã€‚</p><p>åŠ å›ºå»ºè®®ï¼š</p><p> Windows10&#x2F;8ï¼šè¯·å°†ä»¥ä¸‹UIè·¯å¾„è®¾ç½®ä¸ºç”¨æˆ·ä¸èƒ½æ·»åŠ  Microsoft å¸æˆ·æˆ–ä½¿ç”¨è¯¥å¸æˆ·ç™»å½•ï¼šè®¡ç®—æœºé…ç½®\Windowsè®¾ç½®\å®‰å…¨è®¾ç½®\æœ¬åœ°ç­–ç•¥\å®‰å…¨é€‰é¡¹\å¸æˆ·ï¼šé˜»æ­¢Microsoftå¸æˆ·ã€‚</p><h3 id="1-8-å¸æˆ·é”å®šé˜ˆå€¼"><a href="#1-8-å¸æˆ·é”å®šé˜ˆå€¼" class="headerlink" title="1.8 å¸æˆ·é”å®šé˜ˆå€¼"></a>1.8 å¸æˆ·é”å®šé˜ˆå€¼</h3><p>å†…å®¹æè¿°ï¼š</p><p> æ­¤å®‰å…¨è®¾ç½®ç¡®å®šå¯¼è‡´ç”¨æˆ·å¸æˆ·è¢«é”å®šçš„ç™»å½•å°è¯•å¤±è´¥çš„æ¬¡æ•°ã€‚åœ¨ç®¡ç†å‘˜é‡ç½®é”å®šå¸æˆ·æˆ–å¸æˆ·é”å®šæ—¶é—´æœŸæ»¡ä¹‹å‰ï¼Œæ— æ³•ä½¿ç”¨è¯¥é”å®šå¸æˆ·ã€‚å¯ä»¥å°†ç™»å½•å°è¯•å¤±è´¥æ¬¡æ•°è®¾ç½®ä¸ºä»‹äº 0 å’Œ 999 ä¹‹é—´çš„å€¼ã€‚å¦‚æœå°†å€¼è®¾ç½®ä¸º 0ï¼Œåˆ™æ°¸è¿œä¸ä¼šé”å®šå¸æˆ·ã€‚</p><p>åŠ å›ºå»ºè®®ï¼š</p><p> Windows10&#x2F;8&#x2F;7&#x2F;XPï¼šè¯·å°†ä»¥ä¸‹UIè·¯å¾„è®¾ç½®ä¸º10æˆ–è¾ƒå°‘çš„æ— æ•ˆç™»å½•å°è¯•ï¼Œä½†ä¸æ˜¯0 ï¼šè®¡ç®—æœºé…ç½®\Windowsè®¾ç½®\å®‰å…¨è®¾ç½®\æœ¬åœ°ç­–ç•¥\å®‰å…¨é€‰é¡¹\äº¤äº’å¼ç™»å½•ï¼šè®¡ç®—æœºå¸æˆ·é”å®šé˜ˆå€¼ã€‚</p><p>æ³¨æ„ï¼š</p><p> åŸŸè´¦æˆ·éœ€è¦è”ç³»åŸŸç®¡ç†å‘˜åšå¯¹åº”ä¿®æ”¹ã€‚</p><h3 id="1-9-å¸æˆ·é”å®šæŒç»­æ—¶é—´"><a href="#1-9-å¸æˆ·é”å®šæŒç»­æ—¶é—´" class="headerlink" title="1.9 å¸æˆ·é”å®šæŒç»­æ—¶é—´"></a>1.9 å¸æˆ·é”å®šæŒç»­æ—¶é—´</h3><p>å†…å®¹æè¿°ï¼š</p><p> æ­¤ç­–ç•¥è®¾ç½®ç¡®å®šé”å®šå¸æˆ·ä¹‹å‰å¿…é¡»ç»è¿‡çš„æ—¶é—´é•¿åº¦è§£é”ï¼Œç”¨æˆ·å¯ä»¥å°è¯•å†æ¬¡ç™»å½•ã€‚è¯¥è®¾ç½®é€šè¿‡æŒ‡å®šæ•°å­—æ¥å®ç°é”å®šçš„å¸æˆ·å°†åœ¨å‡ åˆ†é’Ÿä¹‹å†…ä¸å¯ç”¨ã€‚å¦‚æœæ­¤ç­–ç•¥è®¾ç½®çš„å€¼é…ç½®ä¸º0ï¼Œé”å®šçš„å¸æˆ·å°†ä¿æŒé”å®šçŠ¶æ€ï¼Œç›´åˆ°ç®¡ç†å‘˜æ‰‹åŠ¨è§£é”ã€‚</p><p>åŠ å›ºå»ºè®®ï¼š</p><p> Windows10&#x2F;8&#x2F;7&#x2F;XPï¼šè¯·å°†ä»¥ä¸‹UIè·¯å¾„è®¾ç½®ä¸º1æˆ–æ›´å¤šåˆ†é’Ÿï¼šè®¡ç®—æœºé…ç½®\Windowsè®¾ç½®\å®‰å…¨è®¾ç½®\å¸æˆ·ç­–ç•¥\å¸æˆ·é”å®šç­–ç•¥\å¸æˆ·é”å®šæŒç»­æ—¶é—´ã€‚</p><p>æ³¨æ„ï¼š</p><p> å¦‚æœå®šä¹‰äº†å¸æˆ·é”å®šé˜ˆå€¼ï¼Œåˆ™å¸æˆ·é”å®šæ—¶é—´å¿…é¡»å¤§äºæˆ–ç­‰äºé‡ç½®æ—¶é—´ã€‚åªæœ‰åœ¨æŒ‡å®šäº†å¸æˆ·é”å®šé˜ˆå€¼æ—¶ï¼Œæ­¤ç­–ç•¥è®¾ç½®æ‰æœ‰æ„ä¹‰ã€‚</p><h3 id="1-10-é‡ç½®è´¦å·é”å®šè®¡æ•°å™¨"><a href="#1-10-é‡ç½®è´¦å·é”å®šè®¡æ•°å™¨" class="headerlink" title="1.10 é‡ç½®è´¦å·é”å®šè®¡æ•°å™¨"></a>1.10 é‡ç½®è´¦å·é”å®šè®¡æ•°å™¨</h3><p>å†…å®¹æè¿°ï¼š</p><p> æ­¤å®‰å…¨è®¾ç½®ç¡®å®šåœ¨æŸæ¬¡ç™»å½•å°è¯•å¤±è´¥ä¹‹åå°†ç™»å½•å°è¯•å¤±è´¥è®¡æ•°å™¨é‡ç½®ä¸º 0 æ¬¡é”™è¯¯ç™»å½•å°è¯•ä¹‹å‰éœ€è¦çš„æ—¶é—´ã€‚</p><p>åŠ å›ºå»ºè®®ï¼š</p><p> Windows10&#x2F;8&#x2F;7&#x2F;XPï¼šè®¡ç®—æœºé…ç½®\Windowsè®¾ç½®\å®‰å…¨è®¾ç½®\å¸æˆ·ç­–ç•¥\å¸æˆ·é”å®šç­–ç•¥\é‡ç½®å¸æˆ·é”å®šè®¡æ•°å™¨åã€‚</p><p>æ³¨æ„ï¼š</p><p> å¦‚æœå®šä¹‰äº†å¸æˆ·é”å®šé˜ˆå€¼ï¼Œæ­¤é‡ç½®æ—¶é—´å¿…é¡»å°äºæˆ–ç­‰äºå¸æˆ·é”å®šæ—¶é—´ã€‚åªæœ‰åœ¨æŒ‡å®šäº†å¸æˆ·é”å®šé˜ˆå€¼æ—¶ï¼Œæ­¤ç­–ç•¥è®¾ç½®æ‰æœ‰æ„ä¹‰ã€‚</p><h3 id="1-11-å¯ç”¨å±å¹•ä¿æŠ¤ç¨‹åº"><a href="#1-11-å¯ç”¨å±å¹•ä¿æŠ¤ç¨‹åº" class="headerlink" title="1.11 å¯ç”¨å±å¹•ä¿æŠ¤ç¨‹åº"></a>1.11 å¯ç”¨å±å¹•ä¿æŠ¤ç¨‹åº</h3><p>å†…å®¹æè¿°ï¼š</p><p> ç¡®ä¿ç»ˆç«¯åœ¨ä¸æ´»åŠ¨çš„çŠ¶æ€ä¸‹ï¼Œè¶…è¿‡ä¸€å®šæ—¶é—´åä¼šè‡ªåŠ¨è¿›å…¥å±å¹•ä¿æŠ¤çŠ¶æ€ã€‚é˜²æ­¢ç»ˆç«¯ç›—ç”¨ã€‚</p><p>åŠ å›ºå»ºè®®ï¼š</p><p> Windows10&#x2F;8&#x2F;7&#x2F;XPï¼šè¯·å°†ä»¥ä¸‹UIè·¯å¾„è®¾ç½®ä¸ºå¯ç”¨ï¼šç”¨æˆ·é…ç½®\ç®¡ç†æ¨¡æ¿\æ§åˆ¶é¢æ¿\ä¸ªæ€§åŒ–\å¯ç”¨å±å¹•ä¿æŠ¤ç¨‹åº</p><p>æ³¨æ„ï¼š</p><p> é»˜è®¤æƒ…å†µä¸‹ï¼Œæ­¤ç»„ç­–ç•¥è·¯å¾„å¯èƒ½ä¸å­˜åœ¨ã€‚ å®ƒç”±Microsoft Windows 7å’ŒServer 2008 R2ç®¡ç†æ¨¡æ¿ï¼ˆæˆ–æ›´æ–°ç‰ˆæœ¬ï¼‰é™„å¸¦çš„ç»„ç­–ç•¥æ¨¡æ¿ControlPanelDisplay.admx &#x2F; admlæä¾›ã€‚</p><h2 id="2-è®¿é—®æ§åˆ¶"><a href="#2-è®¿é—®æ§åˆ¶" class="headerlink" title="2. è®¿é—®æ§åˆ¶"></a>2. è®¿é—®æ§åˆ¶</h2><h3 id="2-1-Guest-å¸æˆ·çŠ¶æ€"><a href="#2-1-Guest-å¸æˆ·çŠ¶æ€" class="headerlink" title="2.1 Guest å¸æˆ·çŠ¶æ€"></a>2.1 Guest å¸æˆ·çŠ¶æ€</h3><p>å†…å®¹æè¿°ï¼š</p><p> æ­¤å®‰å…¨è®¾ç½®ç¡®å®šæ˜¯å¯ç”¨è¿˜æ˜¯ç¦ç”¨æ¥å®¾å¸æˆ·ã€‚</p><p>åŠ å›ºå»ºè®®ï¼š</p><p> Windows10&#x2F;8&#x2F;7&#x2F;XPï¼šè¯·å°†ä»¥ä¸‹UIè·¯å¾„è®¾ç½®ä¸ºâ€œå·²ç¦ç”¨â€ï¼šæˆ‘çš„ç”µè„‘\å³é”®\ç®¡ç†\è®¡ç®—æœºç®¡ç†ï¼ˆæœ¬åœ°ï¼‰&#x2F;æœ¬åœ°ç”¨æˆ·å’Œç»„&#x2F;ç”¨æˆ·&#x2F; Guestå±æ€§&#x2F;è´¦æˆ·å·²ç¦ç”¨ã€‚</p><p>æ³¨æ„ï¼š</p><p> å¦‚æœæ¥å®¾å¸æˆ·è¢«ç¦ç”¨ä¸”å®‰å…¨é€‰é¡¹â€œç½‘ç»œè®¿é—®: æœ¬åœ°å¸æˆ·çš„å…±äº«å’Œå®‰å…¨æ¨¡å‹â€è¢«è®¾ç½®ä¸ºâ€œä»…æ¥å®¾â€ï¼Œåˆ™ç½‘ç»œç™»å½•(å¦‚ç”± Microsoft ç½‘ç»œæœåŠ¡å™¨(SMB æœåŠ¡)æ‰€æ‰§è¡Œçš„ç½‘ç»œç™»å½•)å°†å¤±è´¥ã€‚</p><h3 id="2-2-ä½¿ç”¨ç©ºå¯†ç çš„æœ¬åœ°å¸æˆ·åªå…è®¸è¿›è¡Œæ§åˆ¶å°ç™»å½•"><a href="#2-2-ä½¿ç”¨ç©ºå¯†ç çš„æœ¬åœ°å¸æˆ·åªå…è®¸è¿›è¡Œæ§åˆ¶å°ç™»å½•" class="headerlink" title="2.2 ä½¿ç”¨ç©ºå¯†ç çš„æœ¬åœ°å¸æˆ·åªå…è®¸è¿›è¡Œæ§åˆ¶å°ç™»å½•"></a>2.2 ä½¿ç”¨ç©ºå¯†ç çš„æœ¬åœ°å¸æˆ·åªå…è®¸è¿›è¡Œæ§åˆ¶å°ç™»å½•</h3><p>å†…å®¹æè¿°ï¼š</p><p> æ­¤å®‰å…¨è®¾ç½®ç¡®å®šæœªè¿›è¡Œå¯†ç ä¿æŠ¤çš„æœ¬åœ°å¸æˆ·æ˜¯å¦å¯ä»¥ç”¨äºä»ç‰©ç†è®¡ç®—æœºæ§åˆ¶å°ä¹‹å¤–çš„ä½ç½®ç™»å½•ã€‚å¦‚æœå¯ç”¨æ­¤è®¾ç½®ï¼Œåˆ™æœªè¿›è¡Œå¯†ç ä¿æŠ¤çš„æœ¬åœ°å¸æˆ·å°†ä»…èƒ½å¤Ÿé€šè¿‡è®¡ç®—æœºçš„é”®ç›˜ç™»å½•ã€‚</p><p>åŠ å›ºå»ºè®®ï¼š</p><p> Windows10&#x2F;8&#x2F;7&#x2F;XPï¼šè¯·å°†ä»¥ä¸‹UIè·¯å¾„è®¾ç½®ä¸ºå·²å¯ç”¨ï¼šè®¡ç®—æœºé…ç½®\Windowsè®¾ç½®\å®‰å…¨è®¾ç½®\æœ¬åœ°ç­–ç•¥\å®‰å…¨é€‰é¡¹\å¸æˆ·ï¼šä½¿ç”¨ç©ºå¯†ç çš„æœ¬åœ°å¸æˆ·åªå…è®¸è¿›è¡Œæ§åˆ¶å°ç™»å½•ã€‚</p><p>æ³¨æ„ï¼š</p><p> 1ã€æ­¤è®¾ç½®ä¸å½±å“ä½¿ç”¨åŸŸå¸æˆ·çš„ç™»å½•ã€‚ 2ã€ä½¿ç”¨è¿œç¨‹äº¤äº’å¼ç™»å½•çš„åº”ç”¨ç¨‹åºå¯ä»¥ç»•è¿‡æ­¤è®¾ç½®ã€‚ 3ã€åœ¨ä»¥å‰ç‰ˆæœ¬çš„ Windows Server ä¸­ï¼Œè¿œç¨‹æ¡Œé¢æœåŠ¡ç§°ä¸ºç»ˆç«¯æœåŠ¡ã€‚</p><h3 id="2-3-å¸æˆ·-é‡å‘½åæ¥å®¾å¸æˆ·"><a href="#2-3-å¸æˆ·-é‡å‘½åæ¥å®¾å¸æˆ·" class="headerlink" title="2.3 å¸æˆ·: é‡å‘½åæ¥å®¾å¸æˆ·"></a>2.3 å¸æˆ·: é‡å‘½åæ¥å®¾å¸æˆ·</h3><p>å†…å®¹æè¿°ï¼š</p><p> æ­¤å®‰å…¨è®¾ç½®ç¡®å®šæ˜¯å¦å­˜åœ¨å¦ä¸€ä¸ªå¸æˆ·åç§°ä¸å¸æˆ· â€œGuestâ€ çš„å®‰å…¨æ ‡è¯†ç¬¦(SID)ç›¸å…³è”ã€‚</p><p>åŠ å›ºå»ºè®®ï¼š</p><p> Windows10&#x2F;8&#x2F;7&#x2F;XPï¼šè®¡ç®—æœºé…ç½®\ Windowsè®¾ç½®\å®‰å…¨è®¾ç½®\æœ¬åœ°ç­–ç•¥\å®‰å…¨é€‰é¡¹\å¸æˆ·: é‡å‘½åæ¥å®¾å¸æˆ·</p><h3 id="2-4-å¸æˆ·-é‡å‘½åç®¡ç†å‘˜å¸æˆ·"><a href="#2-4-å¸æˆ·-é‡å‘½åç®¡ç†å‘˜å¸æˆ·" class="headerlink" title="2.4 å¸æˆ·: é‡å‘½åç®¡ç†å‘˜å¸æˆ·"></a>2.4 å¸æˆ·: é‡å‘½åç®¡ç†å‘˜å¸æˆ·</h3><p>å†…å®¹æè¿°ï¼š</p><p> æ­¤å®‰å…¨è®¾ç½®ç¡®å®šæ˜¯å¦å­˜åœ¨å¦ä¸€ä¸ªå¸æˆ·åç§°ä¸å¸æˆ· Administrator çš„å®‰å…¨æ ‡è¯†ç¬¦(SID)ç›¸å…³è”ã€‚</p><p>åŠ å›ºå»ºè®®ï¼š</p><p> Windows10&#x2F;8&#x2F;7&#x2F;XPï¼šè®¡ç®—æœºé…ç½®\ Windowsè®¾ç½®\å®‰å…¨è®¾ç½®\æœ¬åœ°ç­–ç•¥\å®‰å…¨é€‰é¡¹\å¸æˆ·: é‡å‘½åç®¡ç†å‘˜å¸æˆ·</p><h3 id="2-5-äº¤äº’å¼ç™»å½•-æç¤ºç”¨æˆ·åœ¨å¯†ç è¿‡æœŸä¹‹å‰æ›´æ”¹å¯†ç "><a href="#2-5-äº¤äº’å¼ç™»å½•-æç¤ºç”¨æˆ·åœ¨å¯†ç è¿‡æœŸä¹‹å‰æ›´æ”¹å¯†ç " class="headerlink" title="2.5 äº¤äº’å¼ç™»å½•: æç¤ºç”¨æˆ·åœ¨å¯†ç è¿‡æœŸä¹‹å‰æ›´æ”¹å¯†ç "></a>2.5 äº¤äº’å¼ç™»å½•: æç¤ºç”¨æˆ·åœ¨å¯†ç è¿‡æœŸä¹‹å‰æ›´æ”¹å¯†ç </h3><p>å†…å®¹æè¿°ï¼š</p><p> ç¡®å®šæå‰å¤šé•¿æ—¶é—´(ä»¥å¤©ä¸ºå•ä½)å‘ç”¨æˆ·å‘å‡ºå…¶å¯†ç å³å°†è¿‡æœŸçš„è­¦å‘Šã€‚</p><p>åŠ å›ºå»ºè®®ï¼š</p><p> Windows10&#x2F;8&#x2F;7&#x2F;XPï¼šè®¡ç®—æœºé…ç½®\ Windowsè®¾ç½®\å®‰å…¨è®¾ç½®\æœ¬åœ°ç­–ç•¥\å®‰å…¨é€‰é¡¹\äº¤äº’å¼ç™»å½•: æç¤ºç”¨æˆ·åœ¨å¯†ç è¿‡æœŸä¹‹å‰æ›´æ”¹å¯†ç ã€‚</p><h3 id="2-6-äº¤äº’å¼ç™»å½•-ä¸æ˜¾ç¤ºä¸Šæ¬¡ç™»å½•"><a href="#2-6-äº¤äº’å¼ç™»å½•-ä¸æ˜¾ç¤ºä¸Šæ¬¡ç™»å½•" class="headerlink" title="2.6 äº¤äº’å¼ç™»å½•: ä¸æ˜¾ç¤ºä¸Šæ¬¡ç™»å½•"></a>2.6 äº¤äº’å¼ç™»å½•: ä¸æ˜¾ç¤ºä¸Šæ¬¡ç™»å½•</h3><p>å†…å®¹æè¿°ï¼š</p><p> è¯¥å®‰å…¨è®¾ç½®ç¡®å®š Windows ç™»å½•å±å¹•æ˜¯å¦å°†æ˜¾ç¤ºä¸Šæ¬¡ç™»å½•è¯¥å°ç”µè„‘çš„äººå‘˜çš„ç”¨æˆ·åï¼Œå¦‚æœå¯ç”¨è¯¥ç­–ç•¥ï¼Œå°†ä¸æ˜¾ç¤ºç”¨æˆ·åã€‚å¦‚æœç¦ç”¨è¯¥ç­–ç•¥ï¼Œå°†æ˜¾ç¤ºç”¨æˆ·åã€‚</p><p>åŠ å›ºå»ºè®®ï¼š</p><p> Windows10&#x2F;8&#x2F;7&#x2F;XPï¼šè®¡ç®—æœºé…ç½®\ Windowsè®¾ç½®\å®‰å…¨è®¾ç½®\æœ¬åœ°ç­–ç•¥\å®‰å…¨é€‰é¡¹\äº¤äº’å¼ç™»å½•: ä¸æ˜¾ç¤ºä¸Šæ¬¡ç™»å½•ã€‚</p><h3 id="2-7-å…³æœº-æ¸…é™¤è™šæ‹Ÿå†…å­˜é¡µé¢æ–‡ä»¶"><a href="#2-7-å…³æœº-æ¸…é™¤è™šæ‹Ÿå†…å­˜é¡µé¢æ–‡ä»¶" class="headerlink" title="2.7 å…³æœº: æ¸…é™¤è™šæ‹Ÿå†…å­˜é¡µé¢æ–‡ä»¶"></a>2.7 å…³æœº: æ¸…é™¤è™šæ‹Ÿå†…å­˜é¡µé¢æ–‡ä»¶</h3><p>å†…å®¹æè¿°ï¼š</p><p> å¯ç”¨æ­¤ç­–ç•¥ä¼šåœ¨å¹²å‡€å…³æœºæ—¶æ¸…é™¤ç³»ç»Ÿé¡µé¢æ–‡ä»¶ã€‚å¯ç”¨æ­¤å®‰å…¨é€‰é¡¹æ—¶ï¼Œå¦‚æœç¦ç”¨ä¼‘çœ ï¼Œä¼‘çœ æ–‡ä»¶(hiberfil.sys)ä¹Ÿä¼šè¢«æ¸…é›¶ã€‚</p><p>åŠ å›ºå»ºè®®ï¼š</p><p> Windows10&#x2F;8&#x2F;7&#x2F;XPï¼šè®¡ç®—æœºé…ç½®\ Windowsè®¾ç½®\å®‰å…¨è®¾ç½®\æœ¬åœ°ç­–ç•¥\å®‰å…¨é€‰é¡¹\å…³æœº: æ¸…é™¤è™šæ‹Ÿå†…å­˜é¡µé¢æ–‡ä»¶ã€‚</p><h3 id="2-8-æ“ä½œç³»ç»ŸUACç”¨æˆ·è´¦æˆ·æ§åˆ¶æ˜¯å¦å¼€å¯è‡³æŒ‡å®šçº§åˆ«"><a href="#2-8-æ“ä½œç³»ç»ŸUACç”¨æˆ·è´¦æˆ·æ§åˆ¶æ˜¯å¦å¼€å¯è‡³æŒ‡å®šçº§åˆ«" class="headerlink" title="2.8 æ“ä½œç³»ç»ŸUACç”¨æˆ·è´¦æˆ·æ§åˆ¶æ˜¯å¦å¼€å¯è‡³æŒ‡å®šçº§åˆ«"></a>2.8 æ“ä½œç³»ç»ŸUACç”¨æˆ·è´¦æˆ·æ§åˆ¶æ˜¯å¦å¼€å¯è‡³æŒ‡å®šçº§åˆ«</h3><p>å†…å®¹æè¿°ï¼š</p><p> ç”¨æˆ·è´¦æˆ·æ§åˆ¶æœ‰åŠ©äºé¢„é˜²æœ‰å®³ç¨‹åºå¯¹ä½ çš„è®¡ç®—æœºè¿›è¡Œæ›´æ”¹ã€‚</p><p>åŠ å›ºå»ºè®®ï¼š</p><p> Windows10&#x2F;8&#x2F;7&#x2F;XPï¼šæ§åˆ¶é¢æ¿\ç”¨æˆ·è´¦æˆ·\æ›´æ”¹ç”¨æˆ·è´¦æˆ·æ§åˆ¶è®¾ç½®ã€‚</p><h3 id="2-9-å…è®¸Windowsè‡ªåŠ¨è¿æ¥åˆ°å»ºè®®çš„å¼€æ”¾å¼çƒ­ç‚¹ï¼Œä¸è”ç³»äººå…±äº«çš„ç½‘ç»œä»¥åŠæä¾›ä»˜è´¹æœåŠ¡çš„çƒ­ç‚¹"><a href="#2-9-å…è®¸Windowsè‡ªåŠ¨è¿æ¥åˆ°å»ºè®®çš„å¼€æ”¾å¼çƒ­ç‚¹ï¼Œä¸è”ç³»äººå…±äº«çš„ç½‘ç»œä»¥åŠæä¾›ä»˜è´¹æœåŠ¡çš„çƒ­ç‚¹" class="headerlink" title="2.9 å…è®¸Windowsè‡ªåŠ¨è¿æ¥åˆ°å»ºè®®çš„å¼€æ”¾å¼çƒ­ç‚¹ï¼Œä¸è”ç³»äººå…±äº«çš„ç½‘ç»œä»¥åŠæä¾›ä»˜è´¹æœåŠ¡çš„çƒ­ç‚¹"></a>2.9 å…è®¸Windowsè‡ªåŠ¨è¿æ¥åˆ°å»ºè®®çš„å¼€æ”¾å¼çƒ­ç‚¹ï¼Œä¸è”ç³»äººå…±äº«çš„ç½‘ç»œä»¥åŠæä¾›ä»˜è´¹æœåŠ¡çš„çƒ­ç‚¹</h3><p>å†…å®¹æè¿°ï¼š</p><p> æ­¤ç­–ç•¥è®¾ç½®ç¡®å®šç”¨æˆ·æ˜¯å¦å¯ä»¥å¯ç”¨ä»¥ä¸‹ WLAN è®¾ç½®:â€œè¿æ¥åˆ°å»ºè®®çš„å¼€æ”¾çƒ­ç‚¹â€ã€â€œè¿æ¥åˆ°æˆ‘çš„è”ç³»äººå…±äº«çš„ç½‘ç»œâ€å’Œâ€œå¯ç”¨ä»˜è´¹æœåŠ¡â€ã€‚</p><p>åŠ å›ºå»ºè®®ï¼š</p><p> Windows10&#x2F;8ï¼šè¯·å°†ä»¥ä¸‹UIè·¯å¾„è®¾ç½®ä¸ºâ€œå·²ç¦ç”¨â€ï¼šè®¡ç®—æœºé…ç½®\ç®¡ç†æ¨¡æ¿\ç½‘ç»œ\WLANæœåŠ¡\WLANè®¾ç½®\å…è®¸Windowsè‡ªåŠ¨è¿æ¥åˆ°å»ºè®®çš„å¼€æ”¾çƒ­ç‚¹ï¼Œè”ç³»äººå…±äº«çš„ç½‘ç»œä»¥åŠæä¾›ä»˜è´¹æœåŠ¡çš„çƒ­ç‚¹</p><p>æ³¨æ„ï¼š</p><p> é»˜è®¤æƒ…å†µä¸‹ï¼Œæ­¤ç»„ç­–ç•¥è·¯å¾„å¯èƒ½ä¸å­˜åœ¨ã€‚ å®ƒç”±Microsoft Windows 10ç‰ˆæœ¬1511ç®¡ç†æ¨¡æ¿ï¼ˆæˆ–æ›´æ–°ç‰ˆæœ¬ï¼‰é™„å¸¦çš„ç»„ç­–ç•¥æ¨¡æ¿wlansvc.admx &#x2F; admlæä¾›ã€‚</p><h3 id="2-10-å…è®¸ç”¨æˆ·é€šè¿‡ä½¿ç”¨è¿œç¨‹æ¡Œé¢æœåŠ¡è¿›è¡Œè¿œç¨‹è¿æ¥"><a href="#2-10-å…è®¸ç”¨æˆ·é€šè¿‡ä½¿ç”¨è¿œç¨‹æ¡Œé¢æœåŠ¡è¿›è¡Œè¿œç¨‹è¿æ¥" class="headerlink" title="2.10 å…è®¸ç”¨æˆ·é€šè¿‡ä½¿ç”¨è¿œç¨‹æ¡Œé¢æœåŠ¡è¿›è¡Œè¿œç¨‹è¿æ¥"></a>2.10 å…è®¸ç”¨æˆ·é€šè¿‡ä½¿ç”¨è¿œç¨‹æ¡Œé¢æœåŠ¡è¿›è¡Œè¿œç¨‹è¿æ¥</h3><p>å†…å®¹æè¿°ï¼š</p><p> ä½¿ç”¨æ­¤ç­–ç•¥è®¾ç½®ï¼Œå¯ä»¥é€šè¿‡ä½¿ç”¨è¿œç¨‹æ¡Œé¢æœåŠ¡é…ç½®å¯¹è®¡ç®—æœºçš„è¿œç¨‹è®¿é—®ã€‚ å¦‚æœå¯ç”¨æ­¤ç­–ç•¥è®¾ç½®ï¼Œåˆ™ç›®æ ‡è®¡ç®—æœºä¸Šçš„â€œè¿œç¨‹æ¡Œé¢ç”¨æˆ·â€ç»„æˆå‘˜ç”¨æˆ·å¯ä»¥ä½¿ç”¨è¿œç¨‹æ¡Œé¢æœåŠ¡è¿œç¨‹è¿æ¥åˆ°è¯¥ç›®æ ‡è®¡ç®—æœºã€‚ å¦‚æœç¦ç”¨æ­¤ç­–ç•¥è®¾ç½®ï¼Œåˆ™ç”¨æˆ·æ— æ³•ä½¿ç”¨è¿œç¨‹æ¡Œé¢æœåŠ¡è¿œç¨‹è¿æ¥åˆ°ç›®æ ‡è®¡ç®—æœºã€‚ç›®æ ‡è®¡ç®—æœºå°†ä¿æŒå½“å‰çš„æ‰€æœ‰è¿æ¥ï¼Œä½†ä¸ä¼šæ¥å—ä»»ä½•æ–°ä¼ å…¥çš„è¿æ¥ã€‚ å¦‚æœæœªé…ç½®æ­¤ç­–ç•¥è®¾ç½®ï¼Œåˆ™è¿œç¨‹æ¡Œé¢æœåŠ¡ä½¿ç”¨ç›®æ ‡è®¡ç®—æœºä¸Šçš„â€œè¿œç¨‹æ¡Œé¢â€è®¾ç½®æ¥ç¡®å®šæ˜¯å¦å…è®¸è¿œç¨‹è¿æ¥ã€‚æ­¤è®¾ç½®ä½äºâ€œç³»ç»Ÿå±æ€§â€è¡¨çš„â€œè¿œç¨‹â€é€‰é¡¹å¡ä¸Šã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œä¸å…è®¸è¿›è¡Œè¿œç¨‹è¿æ¥ã€‚</p><p>åŠ å›ºå»ºè®®ï¼š</p><p> Windows10&#x2F;8&#x2F;7ï¼šè¯·å°†ä»¥ä¸‹UIè·¯å¾„è®¾ç½®ä¸ºâ€œå·²ç¦ç”¨â€ï¼šè®¡ç®—æœºé…ç½®\ç®¡ç†æ¨¡æ¿\Windowsç»„ä»¶\è¿œç¨‹æ¡Œé¢æœåŠ¡\è¿œç¨‹æ¡Œé¢ä¼šè¯ä¸»æœº\è¿æ¥\å…è®¸ç”¨æˆ·ä½¿ç”¨è¿œç¨‹æ¡Œé¢æœåŠ¡è¿›è¡Œè¿œç¨‹è¿æ¥ã€‚ Windows XPï¼šè®¡ç®—æœºé…ç½®\ç®¡ç†æ¨¡æ¿\Windowsç»„ä»¶\ç»ˆç«¯æœåŠ¡\å…è®¸ç”¨æˆ·ä½¿ç”¨è¿œç¨‹ç»ˆç«¯æœåŠ¡è¿œç¨‹è¿æ¥ã€‚</p><p>æ³¨æ„ï¼š</p><p> 1ã€æ­¤ç»„ç­–ç•¥è·¯å¾„ç”±æ‰€æœ‰ç‰ˆæœ¬çš„Microsoft Windowsç®¡ç†æ¨¡æ¿é™„å¸¦çš„ç»„ç­–ç•¥æ¨¡æ¿TerminalServer.admx &#x2F; admlæä¾›ã€‚ 2ã€åœ¨è¾ƒæ—§çš„Microsoft Windowsç®¡ç†æ¨¡æ¿ä¸­ï¼Œæ­¤è®¾ç½®æœ€åˆåä¸ºWindows 7ï¼†Server 2008 R2ç®¡ç†æ¨¡æ¿ä¸­çš„â€œå…è®¸ç”¨æˆ·ä½¿ç”¨ç»ˆç«¯æœåŠ¡è¿œç¨‹è¿æ¥â€ï¼Œä½†åœ¨â€œ Windows 7ï¼†Server 2008 R2ç®¡ç†æ¨¡æ¿â€ä¸­å·²é‡å‘½åä¸ºâ€œå…è®¸ç”¨æˆ·ä½¿ç”¨è¿œç¨‹æ¡Œé¢æœåŠ¡è¿œç¨‹è¿æ¥â€ã€‚æœ€ç»ˆï¼Œå®ƒå†æ¬¡è¢«é‡å‘½åä¸ºâ€œå…è®¸ç”¨æˆ·ä½¿ç”¨ä»Windows 8.0ï¼†Server 2012ï¼ˆéR2ï¼‰ç®¡ç†æ¨¡æ¿å¼€å§‹çš„è¿œç¨‹æ¡Œé¢æœåŠ¡â€è¿›è¡Œè¿œç¨‹è¿æ¥ã€‚</p><h3 id="2-11-ç®¡ç†å‘˜å¸æˆ·çŠ¶æ€"><a href="#2-11-ç®¡ç†å‘˜å¸æˆ·çŠ¶æ€" class="headerlink" title="2.11 ç®¡ç†å‘˜å¸æˆ·çŠ¶æ€"></a>2.11 ç®¡ç†å‘˜å¸æˆ·çŠ¶æ€</h3><p>å†…å®¹æè¿°ï¼š</p><p> æ­¤å®‰å…¨è®¾ç½®ç¡®å®šæ˜¯å¯ç”¨è¿˜æ˜¯ç¦ç”¨æœ¬åœ°ç®¡ç†å‘˜å¸æˆ·ã€‚</p><p>åŠ å›ºå»ºè®®ï¼š</p><p> Windows10&#x2F;8&#x2F;7&#x2F;XPï¼šè¯·å°†ä»¥ä¸‹UIè·¯å¾„è®¾ç½®ä¸ºï¼šå·²ç¦ç”¨ï¼šæˆ‘çš„ç”µè„‘\å³é”®\ç®¡ç†\è®¡ç®—æœºç®¡ç†ï¼ˆæœ¬åœ°ï¼‰\æœ¬åœ°ç”¨æˆ·å’Œç»„\ç”¨æˆ·\Administratorå±æ€§\è´¦æˆ·å·²ç¦ç”¨ã€‚</p><p>æ³¨æ„ï¼š</p><p> å¦‚æœåœ¨ç®¡ç†å‘˜å¸æˆ·è¢«ç¦ç”¨ä¹‹åè¯•å›¾é‡æ–°å¯ç”¨å®ƒï¼Œä¸”å¦‚æœå½“å‰ç®¡ç†å‘˜å¯†ç ä¸ç¬¦åˆå¯†ç è¦æ±‚ï¼Œåˆ™æ— æ³•é‡æ–°å¯ç”¨è¯¥å¸æˆ·ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼ŒAdministrators ç»„çš„æŸä¸ªå¤‡ç”¨æˆå‘˜å¿…é¡»é‡ç½®ç®¡ç†å‘˜å¸æˆ·ä¸Šçš„å¯†ç ã€‚æœ‰å…³å¦‚ä½•é‡ç½®å¯†ç çš„ä¿¡æ¯ï¼Œè¯·å‚é˜…â€œé‡ç½®å¯†ç â€ã€‚ åœ¨æŸäº›ç¯å¢ƒä¸‹ï¼Œç¦ç”¨ç®¡ç†å‘˜å¸æˆ·ä¼šæˆä¸ºä¸€ä¸ªç»´æŠ¤é—®é¢˜ã€‚ åœ¨å®‰å…¨æ¨¡å¼å¯åŠ¨ä¸‹ï¼Œç¦ç”¨çš„ç®¡ç†å‘˜å¸æˆ·ä»…åœ¨è¯¥è®¡ç®—æœºæœªåŠ å…¥åŸŸå¹¶ä¸”æ²¡æœ‰ä»»ä½•å…¶ä»–æœ¬åœ°æ´»åŠ¨ç®¡ç†å‘˜å¸æˆ·æ—¶æ‰å¯ä»¥å¯ç”¨ã€‚å¦‚æœè®¡ç®—æœºåŠ å…¥äº†åŸŸï¼Œå°†ä¸èƒ½å¯ç”¨ç¦ç”¨çš„ç®¡ç†å‘˜ã€‚</p><h3 id="2-12-å…è®¸ICMPé‡å®šå‘è¦†ç›–OSPFç”Ÿæˆçš„è·¯ç”±"><a href="#2-12-å…è®¸ICMPé‡å®šå‘è¦†ç›–OSPFç”Ÿæˆçš„è·¯ç”±" class="headerlink" title="2.12 å…è®¸ICMPé‡å®šå‘è¦†ç›–OSPFç”Ÿæˆçš„è·¯ç”±"></a>2.12 å…è®¸ICMPé‡å®šå‘è¦†ç›–OSPFç”Ÿæˆçš„è·¯ç”±</h3><p>å†…å®¹æè¿°ï¼š</p><p> Internetæ§åˆ¶æ¶ˆæ¯åè®®ï¼ˆICMPï¼‰é‡å®šå‘å¯¼è‡´å †æ ˆæ£€æµ‹ä¸»æœºè·¯ç”±ã€‚ è¿™äº›è·¯ç”±ä¼šè¦†ç›–â€œå¼€æ”¾å¼æœ€çŸ­è·¯å¾„ä¼˜å…ˆâ€ï¼ˆOSPFï¼‰ç”Ÿæˆçš„è·¯ç”±ã€‚ å¯¹äºä¼ä¸šç¯å¢ƒï¼Œå»ºè®®å°†æ­¤è®¾ç½®é…ç½®ä¸ºâ€œæœªå®šä¹‰â€ï¼Œå¯¹äºé«˜å®‰å…¨æ€§ç¯å¢ƒï¼Œå»ºè®®é…ç½®ä¸ºâ€œç¦ç”¨â€ã€‚</p><p>åŠ å›ºå»ºè®®ï¼š</p><p> Windows10&#x2F;8&#x2F;7&#x2F;XPï¼šè¯·å°†ä»¥ä¸‹UIè·¯å¾„è®¾ç½®ä¸ºâ€œå·²ç¦ç”¨â€ï¼šè®¡ç®—æœºé…ç½®\ç®¡ç†æ¨¡æ¿\MSSï¼ˆä¼ ç»Ÿï¼‰\MSSï¼šï¼ˆEnableICMPRedirectï¼‰å…è®¸ICMPé‡å®šå‘è¦†ç›–OSPFç”Ÿæˆçš„è·¯ç”±ã€‚</p><p>æ³¨æ„ï¼š</p><p> é»˜è®¤æƒ…å†µä¸‹ï¼Œæ­¤ç»„ç­–ç•¥è·¯å¾„ä¸å­˜åœ¨ã€‚ éœ€è¦é™„åŠ çš„ç»„ç­–ç•¥æ¨¡æ¿ï¼ˆMSS-legacy.admx &#x2F; admlï¼‰-å¯ä»æ­¤TechNetåšå®¢æ–‡ç« ä¸­è·å¾—ï¼šMSSè®¾ç½®-Microsoftå®‰å…¨æŒ‡å—åšå®¢ã€‚</p><h3 id="2-13-æ£€æŸ¥æ˜¯å¦å…³é—­äº†é»˜è®¤å…±äº«"><a href="#2-13-æ£€æŸ¥æ˜¯å¦å…³é—­äº†é»˜è®¤å…±äº«" class="headerlink" title="2.13 æ£€æŸ¥æ˜¯å¦å…³é—­äº†é»˜è®¤å…±äº«"></a>2.13 æ£€æŸ¥æ˜¯å¦å…³é—­äº†é»˜è®¤å…±äº«</h3><p>å†…å®¹æè¿°ï¼š</p><p> æ£€æŸ¥æ˜¯å¦å…³é—­äº†ç³»ç»Ÿé»˜è®¤å…±äº«ï¼Œæœªå…³é—­å°†æ£€æŸ¥ä¸é€šè¿‡ã€‚</p><p>åŠ å›ºå»ºè®®ï¼š</p><p> Windows10&#x2F;8&#x2F;7&#x2F;XPï¼šè¯·å°†ä»¥ä¸‹UIè·¯å¾„è®¾ç½®ä¸ºï¼šâ€œç¦ç”¨â€ã€‚æˆ‘çš„ç”µè„‘\å³é”®\ç®¡ç†\è®¡ç®—æœºç®¡ç†(æœ¬åœ°)\ æœåŠ¡å’Œåº”ç”¨ç¨‹åº\æœåŠ¡\serverï¼›ï¼ˆæˆ–é€šè¿‡ä»¥ä¸‹æ–¹å¼ï¼šåŒæ—¶æŒ‰ä¸‹win+ré”®ï¼Œåœ¨è¿è¡Œçª—å£ä¸­è¾“å…¥services.mscï¼Œå³å¯æ‰“å¼€æœåŠ¡ã€‚ï¼‰</p><h3 id="2-14-è®¾ç½®æ´»åŠ¨ä½†ç©ºé—²çš„è¿œç¨‹æ¡Œé¢æœåŠ¡ä¼šè¯çš„æ—¶é—´é™åˆ¶"><a href="#2-14-è®¾ç½®æ´»åŠ¨ä½†ç©ºé—²çš„è¿œç¨‹æ¡Œé¢æœåŠ¡ä¼šè¯çš„æ—¶é—´é™åˆ¶" class="headerlink" title="2.14 è®¾ç½®æ´»åŠ¨ä½†ç©ºé—²çš„è¿œç¨‹æ¡Œé¢æœåŠ¡ä¼šè¯çš„æ—¶é—´é™åˆ¶"></a>2.14 è®¾ç½®æ´»åŠ¨ä½†ç©ºé—²çš„è¿œç¨‹æ¡Œé¢æœåŠ¡ä¼šè¯çš„æ—¶é—´é™åˆ¶</h3><p>å†…å®¹æè¿°ï¼š</p><p> ä½¿ç”¨æ­¤ç­–ç•¥è®¾ç½®å¯ä»¥æŒ‡å®šæ´»åŠ¨çš„è¿œç¨‹æ¡Œé¢æœåŠ¡ä¼šè¯åœ¨è‡ªåŠ¨æ–­å¼€è¿æ¥ä¹‹å‰å¯ä»¥ä¿æŒç©ºé—²çŠ¶æ€(æ— ç”¨æˆ·è¾“å…¥)çš„æœ€é•¿æ—¶é—´ã€‚</p><p>åŠ å›ºå»ºè®®ï¼š</p><p> Windows10&#x2F;8&#x2F;7ï¼šè¯·å°†ä»¥ä¸‹UIè·¯å¾„è®¾ç½®ä¸ºâ€œå¯ç”¨â€ï¼šè®¡ç®—æœºé…ç½®\ç®¡ç†æ¨¡æ¿\Windowsç»„ä»¶\è¿œç¨‹æ¡Œé¢æœåŠ¡\è¿œç¨‹æ¡Œé¢ä¼šè¯ä¸»æœº\ä¼šè¯æ—¶é—´é™åˆ¶\è®¾ç½®æ´»åŠ¨ä½†ç©ºé—²çš„è¿œç¨‹æ¡Œé¢æœåŠ¡ä¼šè¯çš„æ—¶é—´é™åˆ¶ã€‚</p><p>æ³¨æ„ï¼š</p><p> â€œè®¡ç®—æœºé…ç½®â€å’Œâ€œç”¨æˆ·é…ç½®â€ä¸­éƒ½æœ‰æ­¤ç­–ç•¥è®¾ç½®ã€‚å¦‚æœåŒæ—¶é…ç½®äº†è¿™ä¸¤ä¸ªç­–ç•¥è®¾ç½®ï¼Œåˆ™å°†ä¼˜å…ˆè€ƒè™‘â€œè®¡ç®—æœºé…ç½®â€ç­–ç•¥è®¾ç½®ã€‚</p><h3 id="2-15-TCP-x2F-IPç­›é€‰"><a href="#2-15-TCP-x2F-IPç­›é€‰" class="headerlink" title="2.15 TCP&#x2F;IPç­›é€‰"></a>2.15 TCP&#x2F;IPç­›é€‰</h3><p>å†…å®¹æè¿°ï¼š</p><p> å…è®¸æ‚¨è¿æ¥åˆ°æ‚¨çš„Windowsè®¡ç®—æœºçš„TCP&#x2F;IPç½‘ç»œæµé‡ç±»å‹ã€‚</p><p>åŠ å›ºå»ºè®®ï¼š</p><p> ç½‘ä¸Šé‚»å±…\å±æ€§\æœ¬åœ°è¿æ¥å³é”®å±æ€§\ Internetåè®®ï¼ˆTCP&#x2F;IP)\å±æ€§\é«˜çº§\é€‰é¡¹\TCP&#x2F;IPç­›é€‰\å±æ€§\å¯åŠ¨TCP&#x2F;IPç­›é€‰çš„åŠŸèƒ½</p><h2 id="3-èµ„æºæ§åˆ¶"><a href="#3-èµ„æºæ§åˆ¶" class="headerlink" title="3. èµ„æºæ§åˆ¶"></a>3. èµ„æºæ§åˆ¶</h2><h3 id="3-1-Remote-Access-Auto-Connection-Manager-RasAuto"><a href="#3-1-Remote-Access-Auto-Connection-Manager-RasAuto" class="headerlink" title="3.1 Remote Access Auto Connection Manager (RasAuto)"></a>3.1 Remote Access Auto Connection Manager (RasAuto)</h3><p>å†…å®¹æè¿°ï¼š</p><p> æ¯å½“ç¨‹åºå¼•ç”¨è¿œç¨‹DNSæˆ–NetBIOSåç§°æˆ–åœ°å€æ—¶ï¼Œéƒ½ä¼šåˆ›å»ºåˆ°è¿œç¨‹ç½‘ç»œçš„è¿æ¥ã€‚</p><p>åŠ å›ºå»ºè®®ï¼š</p><p> Windows10&#x2F;8&#x2F;7&#x2F;XPï¼šè¯·å°†ä»¥ä¸‹UIè·¯å¾„è®¾ç½®ä¸ºï¼šâ€œç¦ç”¨â€ã€‚æˆ‘çš„ç”µè„‘\å³é”®\ç®¡ç†\è®¡ç®—æœºç®¡ç†(æœ¬åœ°)\ æœåŠ¡å’Œåº”ç”¨ç¨‹åº\æœåŠ¡\Remote Access Auto Connection Managerï¼›ï¼ˆæˆ–é€šè¿‡ä»¥ä¸‹æ–¹å¼ï¼šåŒæ—¶æŒ‰ä¸‹win+ré”®ï¼Œåœ¨è¿è¡Œçª—å£ä¸­è¾“å…¥services.mscï¼Œå³å¯æ‰“å¼€æœåŠ¡ã€‚ï¼‰</p><h3 id="3-2-Remote-Desktop-Services-TermService"><a href="#3-2-Remote-Desktop-Services-TermService" class="headerlink" title="3.2 Remote Desktop Services (TermService)"></a>3.2 Remote Desktop Services (TermService)</h3><p>å†…å®¹æè¿°ï¼š</p><p> å…è®¸ç”¨æˆ·ä»¥äº¤äº’æ–¹å¼è¿æ¥åˆ°è¿œç¨‹è®¡ç®—æœºã€‚ è¿œç¨‹æ¡Œé¢å’Œè¿œç¨‹æ¡Œé¢ä¼šè¯ä¸»æœºæœåŠ¡å™¨å–å†³äºæ­¤æœåŠ¡ã€‚</p><p>åŠ å›ºå»ºè®®ï¼š</p><p> Windows10&#x2F;8&#x2F;7ï¼šè¯·å°†ä»¥ä¸‹UIè·¯å¾„è®¾ç½®ä¸ºï¼šç¦ç”¨ã€‚æˆ‘çš„ç”µè„‘\å³é”®\ç®¡ç†\è®¡ç®—æœºç®¡ç†(æœ¬åœ°)\ æœåŠ¡å’Œåº”ç”¨ç¨‹åº\æœåŠ¡\Remote Desktop Servicesã€‚ï¼ˆæˆ–é€šè¿‡ä»¥ä¸‹æ–¹å¼ï¼šåŒæ—¶æŒ‰ä¸‹win+ré”®ï¼Œåœ¨è¿è¡Œçª—å£ä¸­è¾“å…¥services.mscï¼Œå³å¯æ‰“å¼€æœåŠ¡ã€‚ï¼‰</p><h3 id="3-3-Remote-Procedure-Call-RPC-Locator-RpcLocator"><a href="#3-3-Remote-Procedure-Call-RPC-Locator-RpcLocator" class="headerlink" title="3.3 Remote Procedure Call (RPC) Locator (RpcLocator)"></a>3.3 Remote Procedure Call (RPC) Locator (RpcLocator)</h3><p>å†…å®¹æè¿°ï¼š</p><p> åœ¨Windows 2003å’ŒWindowsçš„æ—©æœŸç‰ˆæœ¬ä¸­ï¼Œè¿œç¨‹è¿‡ç¨‹è°ƒç”¨ï¼ˆRPCï¼‰å®šä½å™¨æœåŠ¡ç®¡ç†RPCåç§°æœåŠ¡æ•°æ®åº“ã€‚ åœ¨Windows Vistaå’ŒWindowsçš„æ›´é«˜ç‰ˆæœ¬ä¸­ï¼Œæ­¤æœåŠ¡ä¸æä¾›ä»»ä½•åŠŸèƒ½ï¼Œå¹¶ä¸”æä¾›æ­¤åŠŸèƒ½æ˜¯ä¸ºäº†ä¸åº”ç”¨ç¨‹åºå…¼å®¹ã€‚</p><p>åŠ å›ºå»ºè®®ï¼š</p><p> Windows10&#x2F;8&#x2F;7&#x2F;XPï¼šè¯·å°†ä»¥ä¸‹UIè·¯å¾„è®¾ç½®ä¸ºï¼šç¦ç”¨ã€‚æˆ‘çš„ç”µè„‘\å³é”®\ç®¡ç†\è®¡ç®—æœºç®¡ç†(æœ¬åœ°)\ æœåŠ¡å’Œåº”ç”¨ç¨‹åº\æœåŠ¡\Remote Procedure Call (RPC) Locator (RpcLocator)ã€‚ï¼ˆæˆ–é€šè¿‡ä»¥ä¸‹æ–¹å¼ï¼šåŒæ—¶æŒ‰ä¸‹win+ré”®ï¼Œåœ¨è¿è¡Œçª—å£ä¸­è¾“å…¥services.mscï¼Œå³å¯æ‰“å¼€æœåŠ¡ã€‚ï¼‰</p><h3 id="3-4-Remote-Registry-RemoteRegistry"><a href="#3-4-Remote-Registry-RemoteRegistry" class="headerlink" title="3.4 Remote Registry (RemoteRegistry)"></a>3.4 Remote Registry (RemoteRegistry)</h3><p>å†…å®¹æè¿°ï¼š</p><p> åœ¨Windows 2003å’ŒWindowsçš„æ—©æœŸç‰ˆæœ¬ä¸­ï¼Œè¿œç¨‹è¿‡ç¨‹è°ƒç”¨ï¼ˆRPCï¼‰å®šä½å™¨æœåŠ¡ç®¡ç†RPCåç§°æœåŠ¡æ•°æ®åº“ã€‚ åœ¨Windows Vistaå’ŒWindowsçš„æ›´é«˜ç‰ˆæœ¬ä¸­ï¼Œæ­¤æœåŠ¡ä¸æä¾›ä»»ä½•åŠŸèƒ½ï¼Œå¹¶ä¸”æä¾›æ­¤åŠŸèƒ½æ˜¯ä¸ºäº†ä¸åº”ç”¨ç¨‹åºå…¼å®¹ã€‚</p><p>åŠ å›ºå»ºè®®ï¼š</p><p> Windows10&#x2F;8&#x2F;7&#x2F;XPï¼šè¯·å°†ä»¥ä¸‹UIè·¯å¾„è®¾ç½®ä¸ºï¼šç¦ç”¨ã€‚æˆ‘çš„ç”µè„‘\å³é”®\ç®¡ç†\è®¡ç®—æœºç®¡ç†(æœ¬åœ°)\ æœåŠ¡å’Œåº”ç”¨ç¨‹åº\æœåŠ¡\Remote Registryï¼ˆæˆ–é€šè¿‡ä»¥ä¸‹æ–¹å¼ï¼šåŒæ—¶æŒ‰ä¸‹win+ré”®ï¼Œåœ¨è¿è¡Œçª—å£ä¸­è¾“å…¥services.mscï¼Œå³å¯æ‰“å¼€æœåŠ¡ã€‚ï¼‰</p><h3 id="3-5-Remote-Desktop-Configuration-SessionEnv"><a href="#3-5-Remote-Desktop-Configuration-SessionEnv" class="headerlink" title="3.5 Remote Desktop Configuration (SessionEnv)"></a>3.5 Remote Desktop Configuration (SessionEnv)</h3><p>å†…å®¹æè¿°ï¼š</p><p> è¿œç¨‹æ¡Œé¢é…ç½®æœåŠ¡ï¼ˆRDCSï¼‰è´Ÿè´£æ‰€æœ‰éœ€è¦SYSTEMä¸Šä¸‹æ–‡çš„ä¸è¿œç¨‹æ¡Œé¢ç›¸å…³çš„é…ç½®å’Œä¼šè¯ç»´æŠ¤æ´»åŠ¨ã€‚ å…¶ä¸­åŒ…æ‹¬æ¯ä¸ªä¼šè¯çš„ä¸´æ—¶æ–‡ä»¶å¤¹ï¼ŒRDä¸»é¢˜å’ŒRDè¯ä¹¦ã€‚</p><p>åŠ å›ºå»ºè®®ï¼š</p><p> Windows10&#x2F;8&#x2F;7ï¼šè¯·å°†ä»¥ä¸‹UIè·¯å¾„è®¾ç½®ä¸ºï¼šç¦ç”¨ã€‚æˆ‘çš„ç”µè„‘\å³é”®\ç®¡ç†\è®¡ç®—æœºç®¡ç†(æœ¬åœ°)\ æœåŠ¡å’Œåº”ç”¨ç¨‹åº\æœåŠ¡\Remote Desktop Configurationã€‚ï¼ˆæˆ–é€šè¿‡ä»¥ä¸‹æ–¹å¼ï¼šåŒæ—¶æŒ‰ä¸‹win+ré”®ï¼Œåœ¨è¿è¡Œçª—å£ä¸­è¾“å…¥services.mscï¼Œå³å¯æ‰“å¼€æœåŠ¡ã€‚ï¼‰</p><h3 id="3-6-Remote-Desktop-Services-UserMode-Port-Redirector-UmRdpService"><a href="#3-6-Remote-Desktop-Services-UserMode-Port-Redirector-UmRdpService" class="headerlink" title="3.6 Remote Desktop Services UserMode Port Redirector (UmRdpService)"></a>3.6 Remote Desktop Services UserMode Port Redirector (UmRdpService)</h3><p>å†…å®¹æè¿°ï¼š</p><p> å…è®¸é‡å®šå‘æ‰“å°æœº&#x2F;é©±åŠ¨å™¨&#x2F;ç«¯å£ä»¥è¿›è¡ŒRDPè¿æ¥ã€‚</p><p>åŠ å›ºå»ºè®®ï¼š</p><p> helpDocument.baseline.checkItems.1037.suggest</p><p>æ³¨æ„ï¼š</p><p> Windows10&#x2F;8&#x2F;7ï¼šè¯·å°†ä»¥ä¸‹UIè·¯å¾„è®¾ç½®ä¸ºï¼šç¦ç”¨ã€‚æˆ‘çš„ç”µè„‘\å³é”®\ç®¡ç†\è®¡ç®—æœºç®¡ç†(æœ¬åœ°)\ æœåŠ¡å’Œåº”ç”¨ç¨‹åº\æœåŠ¡\Remote Desktop Services UserMode Port Redirectorã€‚ï¼ˆæˆ–é€šè¿‡ä»¥ä¸‹æ–¹å¼ï¼šåŒæ—¶æŒ‰ä¸‹win+ré”®ï¼Œåœ¨è¿è¡Œçª—å£ä¸­è¾“å…¥services.mscï¼Œå³å¯æ‰“å¼€æœåŠ¡ã€‚ï¼‰</p><h3 id="3-7-TelnetæœåŠ¡å™¨"><a href="#3-7-TelnetæœåŠ¡å™¨" class="headerlink" title="3.7 TelnetæœåŠ¡å™¨"></a>3.7 TelnetæœåŠ¡å™¨</h3><p>å†…å®¹æè¿°ï¼š</p><p> æä¾›ç½‘ç»œè®¿é—®çš„æœåŠ¡æ˜¯ä¸€ä¸ªæ”»å‡»ç”¨çš„å¾ˆå¥½çš„æ¸ é“ï¼Œåœ¨æ²¡æœ‰å¿…è¦çš„æƒ…å†µä¸‹å»ºè®®å…³é—­ã€‚</p><p>åŠ å›ºå»ºè®®ï¼š</p><p> Windows8&#x2F;7&#x2F;XPï¼šè¯·å°†ä»¥ä¸‹UIè·¯å¾„è®¾ç½®ä¸ºï¼šæˆ‘çš„ç”µè„‘é¼ æ ‡å³é”®â€œç®¡ç†â€\æ‰“å¼€è®¡ç®—æœºç®¡ç†\æœåŠ¡å’Œåº”ç”¨ç¨‹åº\Telnetã€‚</p><p>æ³¨æ„ï¼š</p><p> å¦‚ä½•éªŒè¯telnetæœåŠ¡æ˜¯å¦çœŸçš„å…³é—­äº†ï¼Ÿä½¿ç”¨å¿«æ·é”®winé”®+rï¼Œè¾“å…¥cmdï¼Œç‚¹å‡»ã€ç¡®å®šã€‘ã€‚è¾“å…¥telnet +IPåœ°å€ï¼ˆä¾‹å¦‚ï¼štelnet 192.168.1.1ï¼‰ï¼Œå›è½¦ï¼Œæç¤ºtelnetä¸æ˜¯å†…éƒ¨æˆ–å¤–éƒ¨å‘½ä»¤ï¼Œä¹Ÿä¸æ˜¯å¯è¿è¡Œçš„ç¨‹åºæˆ–æ‰¹å¤„ç†æ–‡ä»¶ã€‚è¯´æ˜å·²ç»ç¦æ­¢telnetã€‚</p><h3 id="3-8-IEå—ä¿¡ä»»ç«™ç‚¹æ£€æŸ¥"><a href="#3-8-IEå—ä¿¡ä»»ç«™ç‚¹æ£€æŸ¥" class="headerlink" title="3.8 IEå—ä¿¡ä»»ç«™ç‚¹æ£€æŸ¥"></a>3.8 IEå—ä¿¡ä»»ç«™ç‚¹æ£€æŸ¥</h3><p>å†…å®¹æè¿°ï¼š</p><p> æ£€æŸ¥å¯¹åº”ç«™ç‚¹æ˜¯å¦åŠ å…¥IEå—ä¿¡ä»»ç«™ç‚¹ã€‚</p><p>åŠ å›ºå»ºè®®ï¼š</p><p> Windows10&#x2F;8&#x2F;7&#x2F;XPï¼šé€šè¿‡ä»¥ä¸‹UIè·¯å¾„è®¾ç½®ä¸ºï¼šå·²å¯ç”¨ã€‚è®¡ç®—æœºé…ç½®\ç®¡ç†æ¨¡æ¿\Windowsç»„ä»¶\Internet Explorer\Internet æ§åˆ¶é¢æ¿\å®‰å…¨é¡µ\ç«™ç‚¹åˆ°åŒºåŸŸåˆ†é…åˆ—è¡¨ã€‚</p><h3 id="3-9-Routing-And-Remote-Access-RemoteAccess"><a href="#3-9-Routing-And-Remote-Access-RemoteAccess" class="headerlink" title="3.9 Routing And Remote Access (RemoteAccess)"></a>3.9 Routing And Remote Access (RemoteAccess)</h3><p>å†…å®¹æè¿°ï¼š</p><p> ä¸ºå±€åŸŸç½‘å’Œå¹¿åŸŸç½‘ç¯å¢ƒä¸­çš„ä¼ä¸šæä¾›è·¯ç”±æœåŠ¡ã€‚</p><p>åŠ å›ºå»ºè®®ï¼š</p><p> Windows10&#x2F;8&#x2F;7&#x2F;XPï¼šè¯·å°†ä»¥ä¸‹UIè·¯å¾„è®¾ç½®ä¸ºï¼šç¦ç”¨ã€‚æˆ‘çš„ç”µè„‘\å³é”®\ç®¡ç†\è®¡ç®—æœºç®¡ç†(æœ¬åœ°)\ æœåŠ¡å’Œåº”ç”¨ç¨‹åº\æœåŠ¡\Routing and Remote Accessï¼ˆæˆ–é€šè¿‡ä»¥ä¸‹æ–¹å¼ï¼šåŒæ—¶æŒ‰ä¸‹win+ré”®ï¼Œåœ¨è¿è¡Œçª—å£ä¸­è¾“å…¥services.mscï¼Œå³å¯æ‰“å¼€æœåŠ¡ã€‚ï¼‰</p><h3 id="3-10-Windows-Event-Log"><a href="#3-10-Windows-Event-Log" class="headerlink" title="3.10 Windows Event Log"></a>3.10 Windows Event Log</h3><p>å†…å®¹æè¿°ï¼š</p><p> æ­¤æœåŠ¡ç®¡ç†äº‹ä»¶å’Œäº‹ä»¶æ—¥å¿—ã€‚å®ƒæ”¯æŒæ—¥å¿—è®°å½•äº‹ä»¶ã€æŸ¥è¯¢äº‹ä»¶ã€è®¢é˜…äº‹ä»¶ã€å½’æ¡£äº‹ä»¶æ—¥å¿—ä»¥åŠç®¡ç†äº‹ä»¶å…ƒæ•°æ®ã€‚å®ƒå¯ä»¥ç”¨ XML å’Œçº¯æ–‡æœ¬ä¸¤ç§æ ¼å¼æ˜¾ç¤ºäº‹ä»¶ã€‚åœæ­¢è¯¥æœåŠ¡å¯èƒ½å±åŠç³»ç»Ÿçš„å®‰å…¨æ€§å’Œå¯é æ€§ã€‚</p><p>åŠ å›ºå»ºè®®ï¼š</p><p> Windows10&#x2F;8&#x2F;7ï¼šæ§åˆ¶é¢æ¿\ç³»ç»Ÿå’Œå®‰å…¨\ç®¡ç†å·¥å…·\æœåŠ¡\Windows Event Log</p><h3 id="3-11-ä¸“ç”¨é…ç½®æ–‡ä»¶çš„-é˜²ç«å¢™çŠ¶æ€"><a href="#3-11-ä¸“ç”¨é…ç½®æ–‡ä»¶çš„-é˜²ç«å¢™çŠ¶æ€" class="headerlink" title="3.11 ä¸“ç”¨é…ç½®æ–‡ä»¶çš„:é˜²ç«å¢™çŠ¶æ€"></a>3.11 ä¸“ç”¨é…ç½®æ–‡ä»¶çš„:é˜²ç«å¢™çŠ¶æ€</h3><p>å†…å®¹æè¿°ï¼š</p><p> æŒ‡å®šå°†è®¡ç®—æœºè¿æ¥åˆ°ä¸“ç”¨ç½‘ç»œä½ç½®æ—¶çš„è¡Œä¸ºã€‚</p><p>åŠ å›ºå»ºè®®ï¼š</p><p> Windows10&#x2F;8&#x2F;7ï¼šè®¡ç®—æœºé…ç½®\ Windowsè®¾ç½®\å®‰å…¨è®¾ç½®\é«˜çº§å®‰å…¨Windows Defenderé˜²ç«å¢™\é«˜çº§å®‰å…¨Windows Defenderé˜²ç«å¢™-æœ¬åœ°ç»„ç­–ç•¥å¯¹è±¡\Windows Defenderé˜²ç«å¢™å±æ€§\ä¸“ç”¨é…ç½®æ–‡ä»¶\é˜²ç«å¢™çŠ¶æ€</p><h3 id="3-12-å…¬ç”¨é…ç½®æ–‡ä»¶çš„-é˜²ç«å¢™çŠ¶æ€"><a href="#3-12-å…¬ç”¨é…ç½®æ–‡ä»¶çš„-é˜²ç«å¢™çŠ¶æ€" class="headerlink" title="3.12 å…¬ç”¨é…ç½®æ–‡ä»¶çš„:é˜²ç«å¢™çŠ¶æ€"></a>3.12 å…¬ç”¨é…ç½®æ–‡ä»¶çš„:é˜²ç«å¢™çŠ¶æ€</h3><p>å†…å®¹æè¿°ï¼š</p><p> æŒ‡å®šå°†è®¡ç®—æœºè¿æ¥åˆ°ä¸“ç”¨ç½‘ç»œä½ç½®æ—¶çš„è¡Œä¸ºã€‚</p><p>åŠ å›ºå»ºè®®ï¼š</p><p> Windows10&#x2F;8&#x2F;7ï¼šè®¡ç®—æœºé…ç½®\ Windowsè®¾ç½®\å®‰å…¨è®¾ç½®\é«˜çº§å®‰å…¨Windows Defenderé˜²ç«å¢™\é«˜çº§å®‰å…¨Windows Defenderé˜²ç«å¢™-æœ¬åœ°ç»„ç­–ç•¥å¯¹è±¡\Windows Defenderé˜²ç«å¢™å±æ€§\å…¬ç”¨é…ç½®æ–‡ä»¶\é˜²ç«å¢™çŠ¶æ€</p><h3 id="3-13-å…¬ç”¨é…ç½®æ–‡ä»¶çš„-åº”ç”¨æœ¬åœ°é˜²ç«å¢™è§„åˆ™"><a href="#3-13-å…¬ç”¨é…ç½®æ–‡ä»¶çš„-åº”ç”¨æœ¬åœ°é˜²ç«å¢™è§„åˆ™" class="headerlink" title="3.13 å…¬ç”¨é…ç½®æ–‡ä»¶çš„:åº”ç”¨æœ¬åœ°é˜²ç«å¢™è§„åˆ™"></a>3.13 å…¬ç”¨é…ç½®æ–‡ä»¶çš„:åº”ç”¨æœ¬åœ°é˜²ç«å¢™è§„åˆ™</h3><p>å†…å®¹æè¿°ï¼š</p><p> æŒ‡å®šå°†è®¡ç®—æœºè¿æ¥åˆ°ä¸“ç”¨ç½‘ç»œä½ç½®æ—¶çš„è¡Œä¸ºã€‚</p><p>åŠ å›ºå»ºè®®ï¼š</p><p> Windows10&#x2F;8&#x2F;7ï¼šè®¡ç®—æœºé…ç½®\ Windowsè®¾ç½®\å®‰å…¨è®¾ç½®\é«˜çº§å®‰å…¨Windows Defenderé˜²ç«å¢™\é«˜çº§å®‰å…¨Windows Defenderé˜²ç«å¢™-æœ¬åœ°ç»„ç­–ç•¥å¯¹è±¡\Windows Defenderé˜²ç«å¢™å±æ€§\å…¬ç”¨é…ç½®æ–‡ä»¶\æŒ‡å®šWindows Defenderé˜²ç«å¢™è¡Œä¸ºçš„è®¾ç½®-è‡ªå®šä¹‰\åº”ç”¨æœ¬åœ°é˜²ç«å¢™è§„åˆ™è®¾ç½®ä¸ºå¦</p><h3 id="3-14-Windowsé˜²ç«å¢™æ£€æŸ¥ï¼ˆä»…é’ˆå¯¹Xpç³»ç»Ÿï¼‰"><a href="#3-14-Windowsé˜²ç«å¢™æ£€æŸ¥ï¼ˆä»…é’ˆå¯¹Xpç³»ç»Ÿï¼‰" class="headerlink" title="3.14 Windowsé˜²ç«å¢™æ£€æŸ¥ï¼ˆä»…é’ˆå¯¹Xpç³»ç»Ÿï¼‰"></a>3.14 Windowsé˜²ç«å¢™æ£€æŸ¥ï¼ˆä»…é’ˆå¯¹Xpç³»ç»Ÿï¼‰</h3><p>å†…å®¹æè¿°ï¼š</p><p> æ£€æŸ¥é˜²ç«å¢™å¯ç”¨çŠ¶æ€ã€‚</p><p>åŠ å›ºå»ºè®®ï¼š</p><p> è¯·æŒ‰ä»¥ä¸‹è·¯å¾„é…ç½®ï¼šé˜²ç«å¢™çŠ¶æ€ã€‚è‹¥æ‚¨è´­ä¹°çš„å¥‡å®‰ä¿¡ç»ˆç«¯å®‰å…¨ç®¡ç†ç³»ç»Ÿå·²æˆæƒæ¨¡å—åŒ…å«â€œä¸»æœºé˜²ç«å¢™â€ï¼Œæ‚¨å¯åœ¨ä¸»æœºé˜²ç«å¢™æ¨¡å—å®Œæˆé˜²ç«å¢™çš„çŠ¶æ€è°ƒæ•´ã€‚å¥‡å®‰ä¿¡ç»ˆç«¯å®‰å…¨ç®¡ç†ç³»ç»Ÿæˆæƒæ¨¡å—ä¸åŒ…å« â€œä¸»æœºé˜²ç«å¢™â€ï¼Œæ‚¨å¯æŒ‰ç…§ä»¥ä¸‹è·¯å¾„ä¸‹é…ç½®ï¼šæ§åˆ¶é¢æ¿\ç³»ç»Ÿå’Œå®‰å…¨\Windows Defender é˜²ç«å¢™\è‡ªå®šä¹‰è®¾ç½®ã€‚</p><h2 id="4-å®‰å…¨å®¡è®¡"><a href="#4-å®‰å…¨å®¡è®¡" class="headerlink" title="4. å®‰å…¨å®¡è®¡"></a>4. å®‰å…¨å®¡è®¡</h2><h3 id="4-1-å®¡æ ¸ç™»å½•"><a href="#4-1-å®¡æ ¸ç™»å½•" class="headerlink" title="4.1 å®¡æ ¸ç™»å½•"></a>4.1 å®¡æ ¸ç™»å½•</h3><p>å†…å®¹æè¿°ï¼š</p><p> æ­¤ç­–ç•¥è®¾ç½®å…è®¸ä½ å®¡æ ¸ç”±è®¡ç®—æœºä¸Šçš„ç”¨æˆ·å¸æˆ·ç™»å½•å°è¯•æ‰€ç”Ÿæˆçš„äº‹ä»¶ã€‚</p><p>åŠ å›ºå»ºè®®ï¼š</p><p> Windows10&#x2F;8&#x2F;7ï¼šè¯·å°†ä»¥ä¸‹UIè·¯å¾„è®¾ç½®ä¸ºï¼šæˆåŠŸå’Œå¤±è´¥ã€‚è®¡ç®—æœºé…ç½®\Windowsè®¾ç½®\å®‰å…¨è®¾ç½®\é«˜çº§å®¡æ ¸ç­–ç•¥é…ç½®\ç³»ç»Ÿå®¡æ ¸ç­–ç•¥\ç™»å½•&#x2F;æ³¨é”€\å®¡æ ¸ç™»å½•ã€‚</p><h3 id="4-2-å®¡æ ¸å…¶ä»–ç™»å½•-x2F-æ³¨é”€äº‹ä»¶"><a href="#4-2-å®¡æ ¸å…¶ä»–ç™»å½•-x2F-æ³¨é”€äº‹ä»¶" class="headerlink" title="4.2 å®¡æ ¸å…¶ä»–ç™»å½•&#x2F;æ³¨é”€äº‹ä»¶"></a>4.2 å®¡æ ¸å…¶ä»–ç™»å½•&#x2F;æ³¨é”€äº‹ä»¶</h3><p>å†…å®¹æè¿°ï¼š</p><p> æ­¤ç­–ç•¥è®¾ç½®å…è®¸ä½ å®¡æ ¸â€œç™»å½•&#x2F;æ³¨é”€â€ç­–ç•¥è®¾ç½®æœªæ¶µç›–çš„å…¶ä»–ç™»å½•&#x2F;æ³¨é”€ç›¸å…³äº‹ä»¶ï¼Œä¾‹å¦‚:</p><ul><li>ç»ˆç«¯æœåŠ¡ä¼šè¯æ–­å¼€è¿æ¥ã€‚</li><li>æ–°å»ºç»ˆç«¯æœåŠ¡ä¼šè¯ã€‚</li><li>é”å®šå’Œè§£é”å·¥ä½œç«™ã€‚</li><li>è°ƒç”¨å±å¹•ä¿æŠ¤ç¨‹åºã€‚</li><li>è§£é™¤å±å¹•ä¿æŠ¤ç¨‹åºã€‚</li></ul><p>åŠ å›ºå»ºè®®ï¼š</p><p> Windows10&#x2F;8&#x2F;7ï¼šè¯·å°†ä»¥ä¸‹UIè·¯å¾„è®¾ç½®ä¸ºæˆåŠŸå’Œå¤±è´¥ï¼šè®¡ç®—æœºé…ç½®\Windowsè®¾ç½®\å®‰å…¨è®¾ç½®\é«˜çº§å®¡æ ¸ç­–ç•¥é…ç½®\ç³»ç»Ÿå®¡æ ¸ç­–ç•¥\ç™»å½•&#x2F;æ³¨é”€\å®¡æ ¸å…¶ä»–ç™»å½•&#x2F;æ³¨é”€äº‹ä»¶ã€‚</p><h3 id="4-3-å®¡æ ¸å®¡æ ¸ç­–ç•¥æ›´æ”¹"><a href="#4-3-å®¡æ ¸å®¡æ ¸ç­–ç•¥æ›´æ”¹" class="headerlink" title="4.3 å®¡æ ¸å®¡æ ¸ç­–ç•¥æ›´æ”¹"></a>4.3 å®¡æ ¸å®¡æ ¸ç­–ç•¥æ›´æ”¹</h3><p>å†…å®¹æè¿°ï¼š</p><p> æ­¤ç­–ç•¥è®¾ç½®å…è®¸ä½ å®¡æ ¸å¯¹å®‰å…¨å®¡æ ¸ç­–ç•¥è®¾ç½®çš„æ›´æ”¹ï¼Œä¾‹å¦‚:</p><ul><li>è®¾ç½®å®¡æ ¸ç­–ç•¥å¯¹è±¡ä¸Šçš„æƒé™å’Œå®¡æ ¸è®¾ç½®ã€‚</li><li>æ›´æ”¹ç³»ç»Ÿå®¡æ ¸ç­–ç•¥ã€‚</li><li>æ³¨å†Œå®‰å…¨äº‹ä»¶æºã€‚</li><li>æ³¨é”€å®‰å…¨äº‹ä»¶æºã€‚</li><li>æ›´æ”¹æ¯ç”¨æˆ·å®¡æ ¸è®¾ç½®ã€‚</li><li>æ›´æ”¹ CrashOnAuditFail çš„å€¼ã€‚</li><li>æ›´æ”¹æ–‡ä»¶ç³»ç»Ÿæˆ–æ³¨å†Œè¡¨å¯¹è±¡ä¸Šçš„ç³»ç»Ÿè®¿é—®æ§åˆ¶åˆ—è¡¨ã€‚</li><li>æ›´æ”¹ç‰¹æ®Šç»„åˆ—è¡¨ã€‚</li></ul><p>åŠ å›ºå»ºè®®ï¼š</p><p> Windows10&#x2F;8&#x2F;7ï¼šè¯·è®¾ç½®ä»¥ä¸‹UIè·¯å¾„ä»¥åŒ…å«æˆåŠŸï¼šè®¡ç®—æœºé…ç½®\Windowsè®¾ç½®\å®‰å…¨è®¾ç½®\é«˜çº§å®¡æ ¸ç­–ç•¥é…ç½®\ç³»ç»Ÿå®¡æ ¸ç­–ç•¥\ç­–ç•¥æ›´æ”¹\å®¡æ ¸å®¡æ ¸ç­–ç•¥æ›´æ”¹ã€‚</p><p>æ³¨æ„ï¼š</p><p> å½“æŸä¸ªå¯¹è±¡çš„ç³»ç»Ÿè®¿é—®æ§åˆ¶åˆ—è¡¨(SACL)å‘ç”Ÿæ›´æ”¹å¹¶ä¸”å¯ç”¨ç­–ç•¥æ›´æ”¹ç±»åˆ«æ—¶æ‰§è¡Œ SACL æ›´æ”¹å®¡æ ¸ã€‚åœ¨å¯ç”¨å¯¹è±¡è®¿é—®å®¡æ ¸å¹¶ä¸”å°†å¯¹è±¡çš„ SACL é…ç½®ä¸ºå®¡æ ¸ DACL&#x2F;æ‰€æœ‰è€…æ›´æ”¹æ—¶å®¡æ ¸è‡ªå®šä¹‰è®¿é—®æ§åˆ¶åˆ—è¡¨(SACL)å’Œæ‰€æœ‰æƒæ›´æ”¹ã€‚</p><h3 id="4-4-ç®¡ç†å®¡æ ¸å’Œå®‰å…¨æ—¥å¿—"><a href="#4-4-ç®¡ç†å®¡æ ¸å’Œå®‰å…¨æ—¥å¿—" class="headerlink" title="4.4 ç®¡ç†å®¡æ ¸å’Œå®‰å…¨æ—¥å¿—"></a>4.4 ç®¡ç†å®¡æ ¸å’Œå®‰å…¨æ—¥å¿—</h3><p>å†…å®¹æè¿°ï¼š</p><p> æ­¤å®‰å…¨è®¾ç½®ç¡®å®šå“ªäº›ç”¨æˆ·å¯ä»¥ä¸ºå„ç§èµ„æº(å¦‚æ–‡ä»¶ã€Active Directory å¯¹è±¡å’Œæ³¨å†Œè¡¨é¡¹)æŒ‡å®šå¯¹è±¡è®¿é—®å®¡æ ¸é€‰é¡¹ã€‚</p><p>åŠ å›ºå»ºè®®ï¼š</p><p> Windows10&#x2F;8&#x2F;7&#x2F;XPï¼šè®¡ç®—æœºé…ç½®\ Windowsè®¾ç½®\å®‰å…¨è®¾ç½®\æœ¬åœ°ç­–ç•¥\ç”¨æˆ·æƒé™åˆ†é…\ç®¡ç†å®¡æ ¸å’Œå®‰å…¨æ—¥å¿—</p><h3 id="4-5-å®¡æ ¸å¸æˆ·é”å®š"><a href="#4-5-å®¡æ ¸å¸æˆ·é”å®š" class="headerlink" title="4.5 å®¡æ ¸å¸æˆ·é”å®š"></a>4.5 å®¡æ ¸å¸æˆ·é”å®š</h3><p>å†…å®¹æè¿°ï¼š</p><p> æ­¤ç­–ç•¥è®¾ç½®å…è®¸ä½ å®¡æ ¸ç”±å°è¯•ç™»å½•åˆ°å·²é”å®šå¸æˆ·å¤±è´¥è€Œç”Ÿæˆçš„äº‹ä»¶ã€‚</p><p>åŠ å›ºå»ºè®®ï¼š</p><p> Windows10&#x2F;8&#x2F;7ï¼šè®¡ç®—æœºé…ç½®\ Windowsè®¾ç½®\å®‰å…¨è®¾ç½®\é«˜çº§å®¡æ ¸ç­–ç•¥é…ç½®\ç³»ç»Ÿå®¡æ ¸ç­–ç•¥\ç™»å½•&#x2F;æ³¨é”€\å®¡æ ¸è´¦æˆ·é”å®š</p><p>\5. å…¥ä¾µé˜²èŒƒ</p><h3 id="5-1-å…³é—­è‡ªåŠ¨æ’­æ”¾"><a href="#5-1-å…³é—­è‡ªåŠ¨æ’­æ”¾" class="headerlink" title="5.1 å…³é—­è‡ªåŠ¨æ’­æ”¾"></a>5.1 å…³é—­è‡ªåŠ¨æ’­æ”¾</h3><p>å†…å®¹æè¿°ï¼š</p><p> æ­¤ç­–ç•¥å¯é˜²æ­¢å¯ç§»åŠ¨å­˜å‚¨è®¾å¤‡è¿æ¥åˆ°è®¡ç®—æœºåï¼Œæ¶æ„è½¯ä»¶ä¼šè‡ªåŠ¨è¿è¡Œèµ·æ¥ã€‚</p><p>åŠ å›ºå»ºè®®ï¼š</p><p> Windows10&#x2F;8&#x2F;7&#x2F; vistaï¼šè¯·å°†ä»¥ä¸‹UIè·¯å¾„è®¾ç½®ä¸ºï¼šå·²å¯ç”¨æ‰€æœ‰é©±åŠ¨å™¨ï¼šè®¡ç®—æœºé…ç½®\ç®¡ç†æ¨¡æ¿\Windowsç»„ä»¶\è‡ªåŠ¨æ’­æ”¾ç­–ç•¥\å…³é—­è‡ªåŠ¨æ’­æ”¾ã€‚</p><p>æ³¨æ„ï¼š</p><p> â€œè®¡ç®—æœºé…ç½®â€å’Œâ€œç”¨æˆ·é…ç½®â€æ–‡ä»¶å¤¹ä¸­éƒ½å­˜åœ¨æ­¤ç­–ç•¥è®¾ç½®ã€‚å¦‚æœä¸¤ä¸ªç­–ç•¥è®¾ç½®å‘ç”Ÿå†²çªï¼Œåˆ™â€œè®¡ç®—æœºé…ç½®â€ä¸­çš„ç­–ç•¥è®¾ç½®ä¼˜å…ˆäºâ€œç”¨æˆ·é…ç½®â€ä¸­çš„ç­–ç•¥è®¾ç½®ã€‚ æ­¤ç»„ç­–ç•¥è·¯å¾„ç”±Microsoft Windowsç®¡ç†æ¨¡æ¿çš„æ‰€æœ‰ç‰ˆæœ¬é™„å¸¦çš„ç»„ç­–ç•¥æ¨¡æ¿AutoPlay.admx &#x2F; admlæä¾›ã€‚</p><h1 id="ç³»ç»ŸçŠ¶æ€å®‰å…¨æ£€æŸ¥"><a href="#ç³»ç»ŸçŠ¶æ€å®‰å…¨æ£€æŸ¥" class="headerlink" title="ç³»ç»ŸçŠ¶æ€å®‰å…¨æ£€æŸ¥"></a>ç³»ç»ŸçŠ¶æ€å®‰å…¨æ£€æŸ¥</h1><h2 id="1-è¡¥ä¸æ£€æŸ¥"><a href="#1-è¡¥ä¸æ£€æŸ¥" class="headerlink" title="1 è¡¥ä¸æ£€æŸ¥"></a>1 è¡¥ä¸æ£€æŸ¥</h2><p>å†…å®¹æè¿°ï¼š</p><p> æ˜¯å¦å®‰è£…å…³é”®å’Œé‡è¦ç³»ç»Ÿè¡¥ä¸ã€‚</p><p>åŠ å›ºå»ºè®®ï¼š</p><p> è‹¥æ‚¨è´­ä¹°çš„å¥‡å®‰ä¿¡ç»ˆç«¯å®‰å…¨ç®¡ç†ç³»ç»Ÿå·²æˆæƒæ¨¡å—åŒ…å«â€œè¡¥ä¸ç®¡ç†â€ï¼Œæ‚¨å¯åœ¨è¡¥ä¸ç®¡ç†æ¨¡å—å®Œæˆè¡¥ä¸ä¿®å¤ï¼Œè‹¥æ‚¨è´­ä¹°çš„å¥‡å®‰ä¿¡ç»ˆç«¯å®‰å…¨ç®¡ç†ç³»ç»Ÿæˆæƒæ¨¡å—ä¸åŒ…å«â€œè¡¥ä¸ç®¡ç†â€ï¼Œæ‚¨å¯ä»¥è”ç³»é”€å”®æ¥å’¨è¯¢è´­ä¹°äº‹é¡¹ã€‚</p><p>æ³¨æ„ï¼š</p><p> æ— â€œè¡¥ä¸ç®¡ç†â€æ¨¡å—ï¼Œè¯¥é¡¹æ£€æŸ¥æ— ç»“æœï¼Œç³»ç»Ÿæ˜¾ç¤ºæ£€æŸ¥å¼‚å¸¸ï¼Œä½†æœ¬é¡¹ä¸æ‰£é™¤å¯¹åº”åˆ†æ•°ã€‚</p><h2 id="2-é˜²ç—…æ¯’æ£€æŸ¥"><a href="#2-é˜²ç—…æ¯’æ£€æŸ¥" class="headerlink" title="2 é˜²ç—…æ¯’æ£€æŸ¥"></a>2 é˜²ç—…æ¯’æ£€æŸ¥</h2><p>å†…å®¹æè¿°ï¼š</p><p> æ£€æŸ¥ç»ˆç«¯ä¸Šæ˜¯å¦å®‰è£…äº†é˜²ç—…æ¯’è½¯ä»¶ã€‚æœ¬åœ°é˜²ç—…æ¯’è½¯ä»¶çš„ç‰ˆæœ¬åŠç—…æ¯’åº“æ˜¯å¦åŠæ—¶æ›´æ–°ã€‚</p><p>åŠ å›ºå»ºè®®ï¼š</p><p> è‹¥æ‚¨è´­ä¹°çš„å¥‡å®‰ä¿¡ç»ˆç«¯å®‰å…¨ç®¡ç†ç³»ç»Ÿå·²æˆæƒæ¨¡å—åŒ…å«â€œè½¯ä»¶ç®¡å®¶â€ï¼Œæ‚¨å¯åœ¨è½¯ä»¶ç®¡å®¶æ¨¡å—å®Œæˆé˜²ç—…æ¯’è½¯ä»¶å®‰è£…åŠæœ¬åœ°é˜²ç—…æ¯’è½¯ä»¶ç‰ˆæœ¬æ›´æ–°ã€‚è‹¥æ‚¨è´­ä¹°çš„å¥‡å®‰ä¿¡ç»ˆç«¯å®‰å…¨ç®¡ç†ç³»ç»Ÿæˆæƒæ¨¡å—ä¸åŒ…å« â€œè½¯ä»¶ç®¡å®¶â€ï¼Œæ‚¨å¯ä»¥åœ¨å¯¹åº”æ€è½¯å®˜ç½‘æ‰‹åŠ¨ä¸‹è½½æˆ–è”ç³»é”€å”®æ¥å’¨è¯¢æ¨¡å—æˆæƒè´­ä¹°äº‹é¡¹ã€‚</p><h2 id="3-æ€æ¯’è½¯ä»¶ä¿æŠ¤æ£€æŸ¥"><a href="#3-æ€æ¯’è½¯ä»¶ä¿æŠ¤æ£€æŸ¥" class="headerlink" title="3 æ€æ¯’è½¯ä»¶ä¿æŠ¤æ£€æŸ¥"></a>3 æ€æ¯’è½¯ä»¶ä¿æŠ¤æ£€æŸ¥</h2><p>å†…å®¹æè¿°ï¼š</p><p> æ£€æŸ¥è®¡ç®—æœºæ˜¯å¦å­˜åœ¨æ€æ¯’è½¯ä»¶ä¿æŠ¤ï¼Œå­˜åœ¨æ€æ¯’è½¯ä»¶åˆ™æ£€æŸ¥é€šè¿‡</p><p>åŠ å›ºå»ºè®®ï¼š</p><p> è¯·åœ¨è®¡ç®—æœºä¸Šå®‰è£…é˜²ç—…æ¯’è½¯ä»¶</p><h2 id="4-å·¥ä½œç»„å‘½åæ£€æŸ¥"><a href="#4-å·¥ä½œç»„å‘½åæ£€æŸ¥" class="headerlink" title="4 å·¥ä½œç»„å‘½åæ£€æŸ¥"></a>4 å·¥ä½œç»„å‘½åæ£€æŸ¥</h2><p>å†…å®¹æè¿°ï¼š</p><p> æ£€æŸ¥å·¥ä½œç»„å‘½åè§„èŒƒã€‚</p><p>åŠ å›ºå»ºè®®ï¼š</p><p> è¯·æŒ‰ä»¥ä¸‹è·¯å¾„é…ç½®ï¼šæ§åˆ¶é¢æ¿\ç³»ç»Ÿå’Œå®‰å…¨\ç³»ç»Ÿ\è®¡ç®—æœºåã€åŸŸå’Œå·¥ä½œç»„è®¾ç½®\è®¡ç®—æœºå\æ›´æ”¹\å·¥ä½œç»„ (æŸ¥çœ‹æ–¹å¼ä¸ºç±»åˆ«)</p><p>æ³¨æ„ï¼š</p><p> è¯·æ ¹æ®ç®¡ç†å‘˜è®¾ç½®è§„èŒƒè®¾ç½®å·¥ä½œç»„åç§°ã€‚</p><h2 id="5-åŸŸæ£€æŸ¥"><a href="#5-åŸŸæ£€æŸ¥" class="headerlink" title="5 åŸŸæ£€æŸ¥"></a>5 åŸŸæ£€æŸ¥</h2><p>å†…å®¹æè¿°ï¼š</p><p> æ£€æµ‹å½“å‰ç³»ç»Ÿæ˜¯å¦åŠ å…¥åŸŸã€‚</p><p>åŠ å›ºå»ºè®®ï¼š</p><p> è¯·æŒ‰ä»¥ä¸‹è·¯å¾„é…ç½®ï¼šå°†è®¡ç®—æœºåŠ å…¥åŸŸã€‚æ§åˆ¶é¢æ¿\ç³»ç»Ÿå’Œå®‰å…¨\ç³»ç»Ÿ\è®¡ç®—æœºåã€åŸŸå’Œå·¥ä½œç»„è®¾ç½®\è®¡ç®—æœºå\ç½‘ç»œID (æŸ¥çœ‹æ–¹å¼ä¸ºç±»åˆ«)</p><p>æ³¨æ„ï¼š</p><p> è¯¥é¡¹ä¸è®¡ç®—æœºå·¥ä½œç»„å‘½åäºŒé€‰ä¸€</p><h2 id="6-è®¡ç®—æœºå‘½åæ£€æŸ¥"><a href="#6-è®¡ç®—æœºå‘½åæ£€æŸ¥" class="headerlink" title="6 è®¡ç®—æœºå‘½åæ£€æŸ¥"></a>6 è®¡ç®—æœºå‘½åæ£€æŸ¥</h2><p>å†…å®¹æè¿°ï¼š</p><p> æ£€æŸ¥è®¡ç®—æœºå‘½åè§„èŒƒã€‚</p><p>åŠ å›ºå»ºè®®ï¼š</p><p> è¯·æŒ‰ä»¥ä¸‹è·¯å¾„é…ç½®ï¼šæ§åˆ¶é¢æ¿\ç³»ç»Ÿå’Œå®‰å…¨\ç³»ç»Ÿ\è®¡ç®—æœºåã€åŸŸå’Œå·¥ä½œç»„è®¾ç½®\è®¡ç®—æœºå (æŸ¥çœ‹æ–¹å¼ä¸ºç±»åˆ«)</p><p>æ³¨æ„ï¼š</p><p> è¯·æ ¹æ®ç®¡ç†å‘˜è®¾ç½®è§„èŒƒè®¾ç½®å·¥ä½œç»„åç§°ã€‚</p><h2 id="7-ç©ºå£ä»¤æ£€æŸ¥"><a href="#7-ç©ºå£ä»¤æ£€æŸ¥" class="headerlink" title="7 ç©ºå£ä»¤æ£€æŸ¥"></a>7 ç©ºå£ä»¤æ£€æŸ¥</h2><p>å†…å®¹æè¿°ï¼š</p><p> æ£€æŸ¥æ“ä½œç³»ç»Ÿè´¦æˆ·å¯†ç æ˜¯å¦ä¸ºç©ºå£ä»¤ã€‚</p><p>åŠ å›ºå»ºè®®ï¼š</p><p> è¯·å°½å¿«è®¾ç½®ç³»ç»Ÿè´¦æˆ·å¯†ç ã€‚</p><h2 id="8-ç³»ç»Ÿä¸­é‡è¦ç›®å½•å¯¹Everyoneæˆ–Guestsæ¥å®¾è´¦æˆ·å¼€æ”¾æ£€æŸ¥"><a href="#8-ç³»ç»Ÿä¸­é‡è¦ç›®å½•å¯¹Everyoneæˆ–Guestsæ¥å®¾è´¦æˆ·å¼€æ”¾æ£€æŸ¥" class="headerlink" title="8 ç³»ç»Ÿä¸­é‡è¦ç›®å½•å¯¹Everyoneæˆ–Guestsæ¥å®¾è´¦æˆ·å¼€æ”¾æ£€æŸ¥"></a>8 ç³»ç»Ÿä¸­é‡è¦ç›®å½•å¯¹Everyoneæˆ–Guestsæ¥å®¾è´¦æˆ·å¼€æ”¾æ£€æŸ¥</h2><p>å†…å®¹æè¿°ï¼š</p><p> æ£€æŸ¥æ“ä½œç³»ç»Ÿä¸­é‡è¦ç›®å½•ï¼ˆC:\windows\systemå’ŒC:\windows\system32\configï¼‰æ˜¯å¦å¯¹Everyoneæˆ–Guestsæ¥å®¾è´¦æˆ·å¼€æ”¾ã€‚</p><p>åŠ å›ºå»ºè®®ï¼š</p><p> è¯·å–æ¶ˆå¯¹Everyoneæˆ–Guestsæ¥å®¾è´¦æˆ·å¼€æ”¾æ“ä½œç³»ç»Ÿä¸­é‡è¦ç›®å½•ï¼ˆå³é”®\å±æ€§\å®‰å…¨ï¼ŒæŸ¥çœ‹æ–‡ä»¶ç›®å½•å¯¹åº”çš„ç»„æˆ–ç”¨æˆ·åæ˜¯å¦åŒ…å«Everyoneæˆ–Guestsæ¥å®¾è´¦æˆ·ï¼‰</p><h2 id="9-ç³»ç»Ÿå¤‡ä»½è¿˜åŸç‚¹æ£€æŸ¥"><a href="#9-ç³»ç»Ÿå¤‡ä»½è¿˜åŸç‚¹æ£€æŸ¥" class="headerlink" title="9 ç³»ç»Ÿå¤‡ä»½è¿˜åŸç‚¹æ£€æŸ¥"></a>9 ç³»ç»Ÿå¤‡ä»½è¿˜åŸç‚¹æ£€æŸ¥</h2><p>å†…å®¹æè¿°ï¼š</p><p> æ£€æŸ¥åœ¨è®¡ç®—æœºä¸­æ˜¯å¦å‘ç°ç³»ç»Ÿå¤‡ä»½è¿˜åŸç‚¹ã€‚</p><p>åŠ å›ºå»ºè®®ï¼š</p><p> è¯·åœ¨ç³»ç»Ÿè®¾ç½®\ç³»ç»Ÿä¿æŠ¤\é…ç½®ä¸­è®¾ç½®ç³»ç»Ÿè¿˜åŸç‚¹ã€‚</p><h2 id="10-ç³»ç»Ÿéšè—ç”¨æˆ·æ£€æŸ¥"><a href="#10-ç³»ç»Ÿéšè—ç”¨æˆ·æ£€æŸ¥" class="headerlink" title="10 ç³»ç»Ÿéšè—ç”¨æˆ·æ£€æŸ¥"></a>10 ç³»ç»Ÿéšè—ç”¨æˆ·æ£€æŸ¥</h2><p>å†…å®¹æè¿°ï¼š</p><p> æ£€æŸ¥ç³»ç»Ÿæ˜¯å¦å­˜åœ¨éšè—çš„ç”¨æˆ·ã€‚</p><p>åŠ å›ºå»ºè®®ï¼š</p><p> æˆ‘çš„ç”µè„‘\å³é”®\ç®¡ç†\è®¡ç®—æœºç®¡ç†(æœ¬åœ°)\ç³»ç»Ÿå·¥å…·\æœ¬åœ°ç”¨æˆ·å’Œç»„\ç”¨æˆ·\å³é”®åˆ é™¤ï¼ˆåç§°ç»“å°¾å¸¦$ç¬¦å·çš„æ˜¯éšè—ç”¨æˆ·ï¼‰</p><p>æ³¨æ„ï¼š</p><p> æ‰€è°“éšè—è´¦æˆ·å³ä¸ºæ§åˆ¶é¢æ¿ä¸å¼€æœºé€‰æ‹©ä¸­çœ‹ä¸è§çš„è´¦æˆ·ã€‚å®ƒå¯ä»¥ç”¨è¾“è´¦å·å¯†ç çš„æ–¹å¼è¿›å…¥ã€‚</p><h2 id="11-æ“ä½œç³»ç»Ÿæ˜¯å¦å¼€å¯Hardware-DEP-Availableä¿æŠ¤æ£€æŸ¥"><a href="#11-æ“ä½œç³»ç»Ÿæ˜¯å¦å¼€å¯Hardware-DEP-Availableä¿æŠ¤æ£€æŸ¥" class="headerlink" title="11 æ“ä½œç³»ç»Ÿæ˜¯å¦å¼€å¯Hardware DEP Availableä¿æŠ¤æ£€æŸ¥"></a>11 æ“ä½œç³»ç»Ÿæ˜¯å¦å¼€å¯Hardware DEP Availableä¿æŠ¤æ£€æŸ¥</h2><p>å†…å®¹æè¿°ï¼š</p><p> æ£€æŸ¥æ“ä½œç³»ç»Ÿæ˜¯å¦å¼€å¯Hardware DEP Availableä¿æŠ¤</p><p>åŠ å›ºå»ºè®®ï¼š</p><p> æ§åˆ¶é¢æ¿\ç³»ç»Ÿå’Œå®‰å…¨\ç³»ç»Ÿ\é«˜çº§ç³»ç»Ÿè®¾ç½®\é«˜çº§\æ€§èƒ½-è®¾ç½®\æ•°æ®æ‰§è¡Œä¿æŠ¤</p><h1 id="ç³»ç»Ÿè¿è¡Œå®‰å…¨æ£€æŸ¥"><a href="#ç³»ç»Ÿè¿è¡Œå®‰å…¨æ£€æŸ¥" class="headerlink" title="ç³»ç»Ÿè¿è¡Œå®‰å…¨æ£€æŸ¥"></a>ç³»ç»Ÿè¿è¡Œå®‰å…¨æ£€æŸ¥</h1><h2 id="1-è¿›ç¨‹æ£€æŸ¥"><a href="#1-è¿›ç¨‹æ£€æŸ¥" class="headerlink" title="1 è¿›ç¨‹æ£€æŸ¥"></a>1 è¿›ç¨‹æ£€æŸ¥</h2><p>å†…å®¹æè¿°ï¼š</p><p> æ£€æµ‹è¿›ç¨‹é¡¹æ˜¯å¦è¿è¡Œ&#x2F;ç¦æ­¢ï¼Œè¿è¡Œ&#x2F;ç¦æ­¢å…¶ä¸­ä»»æ„è¿›ç¨‹å³è§†ä¸ºç¬¦åˆè§„èŒƒã€‚</p><p>åŠ å›ºå»ºè®®ï¼š</p><p> è¯·æŒ‰ä»¥ä¸‹è·¯å¾„é…ç½®ï¼šè¿›ç¨‹å¯åœçŠ¶æ€ã€‚Ctrl+Alt+Delete\å¯åŠ¨ã€‚</p><h2 id="2-ç«¯å£æ£€æŸ¥"><a href="#2-ç«¯å£æ£€æŸ¥" class="headerlink" title="2 ç«¯å£æ£€æŸ¥"></a>2 ç«¯å£æ£€æŸ¥</h2><p>å†…å®¹æè¿°ï¼š</p><p> ç«¯å£çŠ¶æ€æ£€æŸ¥ã€‚</p><p>åŠ å›ºå»ºè®®ï¼š</p><p> è¯·æ£€æŸ¥ç›‘å¬çš„ç«¯å£æ˜¯å¦ç¬¦åˆç®¡ç†å‘˜è®¾ç½®çš„ç«¯å£å¼€æ”¾è¦æ±‚ï¼ˆå¯ä»¥é€šè¿‡è¿è¡ŒCMDå¹¶è¾“å…¥å‘½ä»¤æŸ¥çœ‹ç³»ç»Ÿæ­£åœ¨ç›‘å¬çš„ç«¯å£ï¼šnetstat -ano |findstr â€œxxxâ€ï¼‰ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> OS </category>
          
          <category> Windows </category>
          
          <category> å®‰å…¨åŸºçº¿ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> windows </tag>
            
            <tag> å®‰å…¨åŸºçº¿ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å…³äºWindowsæœåŠ¡</title>
      <link href="/OS/Windows/%E6%9C%8D%E5%8A%A1/%E5%85%B3%E4%BA%8Ewindows%E6%9C%8D%E5%8A%A1/"/>
      <url>/OS/Windows/%E6%9C%8D%E5%8A%A1/%E5%85%B3%E4%BA%8Ewindows%E6%9C%8D%E5%8A%A1/</url>
      
        <content type="html"><![CDATA[<p>[toc]</p><h1 id="windowsæœåŠ¡ç¨‹åºå´©æºƒåè‡ªåŠ¨æ‹‰èµ·"><a href="#windowsæœåŠ¡ç¨‹åºå´©æºƒåè‡ªåŠ¨æ‹‰èµ·" class="headerlink" title="windowsæœåŠ¡ç¨‹åºå´©æºƒåè‡ªåŠ¨æ‹‰èµ·"></a>windowsæœåŠ¡ç¨‹åºå´©æºƒåè‡ªåŠ¨æ‹‰èµ·</h1><p>Windows æ“ä½œç³»ç»Ÿä¸­çš„æœåŠ¡ç¨‹åºå´©æºƒåè‡ªåŠ¨é‡æ–°å¯åŠ¨æ˜¯ç”±æ“ä½œç³»ç»Ÿçš„æœåŠ¡æ§åˆ¶ç®¡ç†æœºåˆ¶å†³å®šçš„ã€‚è¿™ä¸ªæœºåˆ¶ç¡®ä¿å…³é”®çš„ç³»ç»ŸæœåŠ¡èƒ½å¤ŸæŒç»­è¿è¡Œï¼Œå³ä½¿åœ¨å‘ç”Ÿé”™è¯¯æˆ–å¼‚å¸¸æƒ…å†µä¸‹ä¹Ÿèƒ½å¤Ÿè‡ªåŠ¨è¿›è¡Œæ¢å¤ã€‚</p><p>ä¸‹é¢æ˜¯ä¸€äº›å¯èƒ½å¯¼è‡´æœåŠ¡ç¨‹åºå´©æºƒåè‡ªåŠ¨é‡æ–°å¯åŠ¨çš„åŸå› ï¼š</p><ol><li><strong>æœåŠ¡æ¢å¤é€‰é¡¹è®¾ç½®</strong>ï¼šWindows æ“ä½œç³»ç»Ÿæä¾›äº†æœåŠ¡æ¢å¤é€‰é¡¹ï¼Œå…è®¸ä½ ä¸ºæ¯ä¸ªæœåŠ¡å®šä¹‰ç‰¹å®šçš„æ¢å¤è¡Œä¸ºã€‚è¿™åŒ…æ‹¬å¯åŠ¨æœåŠ¡ã€é‡æ–°å¯åŠ¨æœåŠ¡å’Œé‡‡å–å…¶ä»–æ“ä½œï¼Œå¦‚è¿è¡Œè„šæœ¬æˆ–å‘é€è­¦æŠ¥ã€‚é€šè¿‡é…ç½®è¿™äº›é€‰é¡¹ï¼Œä½ å¯ä»¥æŒ‡å®šæœåŠ¡å´©æºƒåçš„è¡Œä¸ºï¼Œä»¥å®ç°è‡ªåŠ¨é‡æ–°å¯åŠ¨ã€‚</li><li><strong>æ•…éšœå›æ”¶ç®¡ç†å™¨</strong>ï¼šWindows æœåŠ¡æ§åˆ¶ç®¡ç†å™¨ï¼ˆSCMï¼‰è´Ÿè´£ç›‘æ§å’Œç®¡ç†è¿è¡Œåœ¨æ“ä½œç³»ç»Ÿä¸­çš„æœåŠ¡ã€‚SCM åŒ…å«ä¸€ä¸ªæ•…éšœå›æ”¶ç®¡ç†å™¨ï¼ˆFailure Recovery Managerï¼‰ï¼Œå®ƒä¼šæ£€æµ‹æœåŠ¡å´©æºƒäº‹ä»¶ï¼Œå¹¶æ ¹æ®é¢„å®šä¹‰çš„è§„åˆ™è‡ªåŠ¨è§¦å‘æ¢å¤æ“ä½œã€‚è¿™äº›è§„åˆ™å¯ä»¥æŒ‡å®šåœ¨å‘ç”Ÿæ•…éšœæ—¶è‡ªåŠ¨é‡æ–°å¯åŠ¨æœåŠ¡ã€‚</li><li><strong>æœåŠ¡ä¾èµ–å…³ç³»</strong>ï¼šåœ¨ Windows ç³»ç»Ÿä¸­ï¼ŒæœåŠ¡å¯ä»¥å®šä¹‰å®ƒä»¬æ‰€ä¾èµ–çš„å…¶ä»–æœåŠ¡ã€‚å½“ä¸€ä¸ªæœåŠ¡å´©æºƒåï¼Œå¦‚æœå®ƒçš„ä¾èµ–æœåŠ¡è¿˜æ­£å¸¸è¿è¡Œï¼Œé‚£ä¹ˆæ“ä½œç³»ç»Ÿä¼šè‡ªåŠ¨é‡æ–°å¯åŠ¨å´©æºƒçš„æœåŠ¡ï¼Œä»¥ä¿æŒæ•´ä¸ªç³»ç»Ÿçš„ç¨³å®šæ€§å’Œè¿ç»­æ€§ã€‚</li></ol><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒæœåŠ¡ç¨‹åºå´©æºƒåè‡ªåŠ¨æ‹‰èµ·å¹¶ä¸ä¸€å®šæ€»æ˜¯é€‚ç”¨äºæ‰€æœ‰æœåŠ¡ã€‚æŸäº›æœåŠ¡å¯èƒ½ä¼šé…ç½®æˆåœ¨å´©æºƒååœç•™åœ¨é”™è¯¯çŠ¶æ€ï¼Œå¹¶ç­‰å¾…æ‰‹åŠ¨å¹²é¢„æˆ–å…¶ä»–ç‰¹å®šæ¡ä»¶æ‰ä¼šé‡æ–°å¯åŠ¨ã€‚</p><p>æ€»ä¹‹ï¼ŒWindows æ“ä½œç³»ç»Ÿé€šè¿‡æœåŠ¡æ§åˆ¶ç®¡ç†æœºåˆ¶æ¥ç¡®ä¿å…³é”®æœåŠ¡çš„è¿ç»­è¿è¡Œï¼Œä½¿å…¶å…·å¤‡è‡ªåŠ¨æ¢å¤èƒ½åŠ›ã€‚è¿™ç§è¡Œä¸ºé€šè¿‡æœåŠ¡æ¢å¤é€‰é¡¹ã€æ•…éšœå›æ”¶ç®¡ç†å™¨å’ŒæœåŠ¡ä¾èµ–å…³ç³»ç­‰æœºåˆ¶æ¥å®ç°ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> OS </category>
          
          <category> Windows </category>
          
          <category> æœåŠ¡ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> windows </tag>
            
            <tag> windowsæœåŠ¡ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åˆ·æ–°æ‰˜ç›˜å›¾æ ‡</title>
      <link href="/OS/Windows/%E5%88%B7%E6%96%B0%E6%89%98%E7%9B%98%E5%9B%BE%E6%A0%87/"/>
      <url>/OS/Windows/%E5%88%B7%E6%96%B0%E6%89%98%E7%9B%98%E5%9B%BE%E6%A0%87/</url>
      
        <content type="html"><![CDATA[<p>[toc]</p><h1 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h1><p>ç¨‹åºå´©æºƒç»“æŸåï¼Œåˆ›å»ºçš„ç³»ç»Ÿæ‰˜ç›˜åŒºå›¾æ ‡å¹¶ä¸èƒ½è¢«åˆ·æ–°æ‰ï¼Œé‡å¯å®¢æˆ·ç«¯ç¨‹åºåï¼Œæ‰˜ç›˜åŒºä¼šæœ‰ä¸¤ä¸ªä¸€æ ·çš„å›¾æ ‡ã€‚</p><h1 id="è§£å†³æ–¹æ¡ˆ"><a href="#è§£å†³æ–¹æ¡ˆ" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h1><h2 id="æ–¹æ¡ˆä¸€"><a href="#æ–¹æ¡ˆä¸€" class="headerlink" title="æ–¹æ¡ˆä¸€"></a>æ–¹æ¡ˆä¸€</h2><p>è°ƒç”¨ä»¥ä¸‹ä»£ç æ¨¡æ‹Ÿé¼ æ ‡hoveræ“ä½œéå†ç³»ç»Ÿæ‰˜ç›˜åŒºå›¾æ ‡</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">ifdef</span> Q_OS_WIN</span></span><br><span class="line"><span class="comment">//åˆ·æ–°æ‰˜ç›˜å›¾æ ‡</span></span><br><span class="line">    <span class="keyword">auto</span> RefreshTrayIcon = []()</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//ä»»åŠ¡æ çª—å£</span></span><br><span class="line">        HWND hShellTrayWnd = ::<span class="built_in">FindWindow</span>(<span class="string">L&quot;Shell_TrayWnd&quot;</span>, <span class="literal">NULL</span>);</span><br><span class="line">        <span class="comment">//ä»»åŠ¡æ å³è¾¹æ‰˜ç›˜å›¾æ ‡+æ—¶é—´åŒº</span></span><br><span class="line">        HWND hTrayNotifyWnd = ::<span class="built_in">FindWindowEx</span>(hShellTrayWnd, <span class="number">0</span>, <span class="string">L&quot;TrayNotifyWnd&quot;</span>, <span class="literal">NULL</span>);</span><br><span class="line">        <span class="comment">//ä¸åŒç³»ç»Ÿå¯èƒ½æœ‰å¯èƒ½æ²¡æœ‰è¿™å±‚</span></span><br><span class="line">        HWND hSysPager = ::<span class="built_in">FindWindowEx</span>(hTrayNotifyWnd, <span class="number">0</span>, <span class="string">L&quot;SysPager&quot;</span>, <span class="literal">NULL</span>);</span><br><span class="line">        <span class="comment">//æ‰˜ç›˜å›¾æ ‡çª—å£</span></span><br><span class="line">        HWND hToolbarWindow32;</span><br><span class="line">        <span class="keyword">if</span> (hSysPager)</span><br><span class="line">        &#123;</span><br><span class="line">            hToolbarWindow32 = ::<span class="built_in">FindWindowEx</span>(hSysPager, <span class="number">0</span>, <span class="string">L&quot;ToolbarWindow32&quot;</span>, <span class="literal">NULL</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            hToolbarWindow32 = ::<span class="built_in">FindWindowEx</span>(hTrayNotifyWnd, <span class="number">0</span>, <span class="string">L&quot;ToolbarWindow32&quot;</span>, <span class="literal">NULL</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (hToolbarWindow32)</span><br><span class="line">        &#123;</span><br><span class="line">            RECT r;</span><br><span class="line">            ::<span class="built_in">GetWindowRect</span>(hToolbarWindow32, &amp;r);</span><br><span class="line">            <span class="type">int</span> width = r.right - r.left;</span><br><span class="line">            <span class="type">int</span> height = r.bottom - r.top;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> iconWidth = <span class="built_in">GetSystemMetrics</span>(SM_CXSMICON);  <span class="comment">// å›¾æ ‡åŸºå‡†å®½åº¦ </span></span><br><span class="line"><span class="type">int</span> iconHeight = <span class="built_in">GetSystemMetrics</span>(SM_CYSMICON); <span class="comment">// å›¾æ ‡åŸºå‡†é«˜åº¦</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">//ä»ä»»åŠ¡æ ä¸­é—´ä»å·¦åˆ°å³ MOUSEMOVEä¸€éï¼Œæ‰€æœ‰å›¾æ ‡çŠ¶æ€ä¼šè¢«æ›´æ–°</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> x = <span class="number">1</span>; x &lt; width; x+=iconWidth)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> y = <span class="number">1</span>; y &lt; height; y+=iconHeight)</span><br><span class="line">                &#123;</span><br><span class="line">                    ::<span class="built_in">SendMessage</span>(hToolbarWindow32, WM_MOUSEMOVE, <span class="number">0</span>, <span class="built_in">MAKELPARAM</span>(x, y));</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// RefreshTrayIcon();</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span> <span class="comment">// Q_OS_WIN</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="æ–¹æ¡ˆäºŒ"><a href="#æ–¹æ¡ˆäºŒ" class="headerlink" title="æ–¹æ¡ˆäºŒ"></a>æ–¹æ¡ˆäºŒ</h2><p>é‡æ–°å¯åŠ¨è¿›ç¨‹çš„æ—¶å€™å…ˆåˆ é™¤å†åˆ›å»ºï¼Œä½†æ˜¯éœ€è¦é€šè¿‡æ·»åŠ  <code>uID</code> å’Œ <code>guidItem</code> æ¥è¯†åˆ«å·²åˆ›å»ºçš„æ‰˜ç›˜å›¾æ ‡</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">   <span class="comment">// è®¾ç½® uid å’Œ guiditem</span></span><br><span class="line">m_nid.uID = GUID_TrayIcon.Data2;</span><br><span class="line"><span class="keyword">if</span> (QSysInfo::WindowsVersion &gt;= QSysInfo::WV_WINDOWS7)</span><br><span class="line">&#123;</span><br><span class="line">m_nid.uFlags |= NIF_GUID;</span><br><span class="line"></span><br><span class="line">m_nid.guidItem = GUID_TrayIcon;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">   <span class="comment">// åˆ é™¤</span></span><br><span class="line">   <span class="built_in">Shell_NotifyIcon</span>(NIM_DELETE, &amp;m_nid);</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> OS </category>
          
          <category> Windows </category>
          
      </categories>
      
      
        <tags>
            
            <tag> windows </tag>
            
            <tag> æ‰˜ç›˜ </tag>
            
            <tag> tray </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Win 10/11 é€šè¿‡å‘½ä»¤è¡Œæ‰“å¼€ç³»ç»Ÿè®¾ç½®é¡µé¢</title>
      <link href="/OS/Windows/%E5%91%BD%E4%BB%A4%E8%A1%8C%E6%89%93%E5%BC%80%E7%B3%BB%E7%BB%9F%E8%AE%BE%E7%BD%AE%E9%A1%B5/"/>
      <url>/OS/Windows/%E5%91%BD%E4%BB%A4%E8%A1%8C%E6%89%93%E5%BC%80%E7%B3%BB%E7%BB%9F%E8%AE%BE%E7%BD%AE%E9%A1%B5/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æ¦‚è¿°: ç¨‹åºä¸­æˆ–è€…è„šæœ¬ä¸­è¦æ‰“å¼€ç³»ç»Ÿè®¾ç½®ç•Œé¢æ—¶ï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹æ–¹å¼å’Œæ¥å£</p></blockquote><p>[toc]</p><h1 id="ä½¿ç”¨-Win32-API"><a href="#ä½¿ç”¨-Win32-API" class="headerlink" title="ä½¿ç”¨ Win32 API"></a>ä½¿ç”¨ Win32 API</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">::<span class="built_in">ShellExecute</span>(hWnd, <span class="string">&quot;open&quot;</span>, <span class="string">&quot;ms-settings:about&quot;</span>, ...);</span><br></pre></td></tr></table></figure><h1 id="KeyBoard-Win-Rå¯åŠ¨å‘½ä»¤è¡Œ"><a href="#KeyBoard-Win-Rå¯åŠ¨å‘½ä»¤è¡Œ" class="headerlink" title="KeyBoard Win+Rå¯åŠ¨å‘½ä»¤è¡Œ"></a>KeyBoard Win+Rå¯åŠ¨å‘½ä»¤è¡Œ</h1><p><kbd>Win+R</kbd> åœ¨è¾“å…¥æ¡†ç›´æ¥è¾“å…¥å¯åŠ¨çš„ç•Œé¢å‘½ä»¤å³å¯ã€‚</p><div class="tag-plugin image"><div class="image-bg"><img src="images/%E5%91%BD%E4%BB%A4%E8%A1%8C%E6%89%93%E5%BC%80%E7%B3%BB%E7%BB%9F%E8%AE%BE%E7%BD%AE%E9%A1%B5/1.png"/></div></div><h1 id="Command-Line-cmd-exe"><a href="#Command-Line-cmd-exe" class="headerlink" title="Command Line(cmd.exe)"></a>Command Line(cmd.exe)</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">start ms-settings:about</span><br></pre></td></tr></table></figure><h1 id="å¯åŠ¨è¯´æ˜å¯¹ç…§è¡¨"><a href="#å¯åŠ¨è¯´æ˜å¯¹ç…§è¡¨" class="headerlink" title="å¯åŠ¨è¯´æ˜å¯¹ç…§è¡¨"></a>å¯åŠ¨è¯´æ˜å¯¹ç…§è¡¨</h1><table><thead><tr><th>Settings page</th><th>Uri &#x2F; Setting Name</th><th>Category</th></tr></thead><tbody><tr><td>About (device name&#x2F;specification)</td><td>ms-settings:about</td><td>Windows</td></tr><tr><td>Access work or school</td><td>ms-settings:workplace</td><td>Network</td></tr><tr><td>Account info (share between apps)</td><td>ms-settings:privacy-accountinfo</td><td>Privacy</td></tr><tr><td>Activation</td><td>ms-settings:activation</td><td>Security</td></tr><tr><td>Activity history (build 17040+)</td><td>ms-settings:privacy-activityhistory</td><td>Privacy</td></tr><tr><td>Adaptive Color Filters Link</td><td>ms-settings:easeofaccess-colorfilter-adaptivecolorlink</td><td>Accessibility</td></tr><tr><td>Airplane mode (wireless&#x2F;bluetooth)</td><td>ms-settings:network-airplanemode</td><td>Network</td></tr><tr><td>Airplane mode (wireless&#x2F;bluetooth)</td><td>ms-settings:proximity</td><td>Network</td></tr><tr><td>App diagnostics (share between apps)</td><td>ms-settings:privacy-appdiagnostics</td><td>Privacy</td></tr><tr><td>App volume and device preferences (1903)</td><td>ms-settings:apps-volume</td><td>Audio</td></tr><tr><td>Apps &amp; features</td><td>ms-settings:appsfeatures</td><td>Apps</td></tr><tr><td>Apps for websites</td><td>ms-settings:appsforwebsites</td><td>Apps</td></tr><tr><td>AutoPlay</td><td>ms-settings:autoplay</td><td>Apps</td></tr><tr><td>Automatic online file downloads</td><td>ms-settings:privacy-automaticfiledownloads</td><td>Apps</td></tr><tr><td>Background apps</td><td>ms-settings:privacy-backgroundapps</td><td>Apps</td></tr><tr><td>Backgrounds</td><td>ms-settings:personalization-background</td><td>Customisation</td></tr><tr><td>Backup</td><td>ms-settings:backup</td><td>Storage</td></tr><tr><td>Battery Saver</td><td>ms-settings:batterysaver</td><td>Power</td></tr><tr><td>Battery Saver - settings</td><td>ms-settings:batterysaver-settings</td><td>Power</td></tr><tr><td>Battery Saver - usage</td><td>ms-settings:batterysaver-usagedetails</td><td>Power</td></tr><tr><td>Bluetooth &amp; Connected Devices</td><td>ms-settings:bluetooth</td><td>Network</td></tr><tr><td>Bluetooth &amp; Connected Devices</td><td>ms-settings:connecteddevices</td><td>Network</td></tr><tr><td>Calendar (share between apps)</td><td>ms-settings:privacy-calendar</td><td>Privacy</td></tr><tr><td>Call history (share between apps)</td><td>ms-settings:privacy-callhistory</td><td>Privacy</td></tr><tr><td>Cellular Network</td><td>ms-settings:network-cellular</td><td>Network</td></tr><tr><td>Clipboard</td><td>ms-settings:clipboard</td><td>Apps</td></tr><tr><td>Closed Captioning</td><td>ms-settings:easeofaccess-closedcaptioning</td><td>Accessibility</td></tr><tr><td>Color Filters (build 17025+)</td><td>ms-settings:easeofaccess-colorfilter</td><td>Accessibility</td></tr><tr><td>Colors</td><td>ms-settings:personalization-colors</td><td></td></tr><tr><td>ms-settings:colors</td><td>Customisation</td><td></td></tr><tr><td>Connect to a wireless display</td><td>ms-settings-connectabledevices:devicediscovery</td><td>Display</td></tr><tr><td>Contacts (share between apps)</td><td>ms-settings:privacy-contacts</td><td>Privacy</td></tr><tr><td>Cortana</td><td>ms-settings:cortana</td><td>Search</td></tr><tr><td>Cortana more details</td><td>ms-settings:cortana-moredetails</td><td>Search</td></tr><tr><td>Cortana permissions</td><td>ms-settings:cortana-permissions</td><td>Search</td></tr><tr><td>Data Sense</td><td>ms-settings:datausage</td><td>Storage</td></tr><tr><td>Date &amp; Time</td><td>ms-settings:dateandtime</td><td>Region &amp; Language</td></tr><tr><td>Default Save Locations</td><td>ms-settings:savelocations</td><td>Storage</td></tr><tr><td>Default apps</td><td>ms-settings:defaultapps</td><td>Apps</td></tr><tr><td>Delivery Optimization</td><td>ms-settings:delivery-optimization</td><td>Windows</td></tr><tr><td>Device Encryption (where available)</td><td>ms-settings:deviceencryption</td><td>Security</td></tr><tr><td>Dial-up Network</td><td>ms-settings:network-dialup</td><td>Network</td></tr><tr><td>DirectAccess</td><td>ms-settings:network-directaccess</td><td>Network</td></tr><tr><td>Display</td><td>ms-settings:display</td><td>Display</td></tr><tr><td>Display Screen rotation</td><td>ms-settings:screenrotation</td><td>Display</td></tr><tr><td>Display Text scaling (build 17025+)</td><td>ms-settings:easeofaccess-display</td><td>Accessibility</td></tr><tr><td>Document Library (share between apps)</td><td>ms-settings:privacy-documents</td><td>Privacy</td></tr><tr><td>Download maps</td><td>ms-settings:maps-downloadmaps</td><td>Apps</td></tr><tr><td>Dynamic Lock</td><td>ms-settings:signinoptions-dynamiclock</td><td>Security</td></tr><tr><td>Ease of Access Audio (build 17035+)</td><td>ms-settings:easeofaccess-audio</td><td>Accessibility</td></tr><tr><td>Edge web browser</td><td>microsoft-edge:url</td><td>Apps</td></tr><tr><td>Email &amp; app accounts</td><td>ms-settings:emailandaccounts</td><td>Security</td></tr><tr><td>Email (share between apps)</td><td>ms-settings:privacy-email</td><td>Privacy</td></tr><tr><td>Ethernet Network</td><td>ms-settings:network-ethernet</td><td>Network</td></tr><tr><td>Eye Control (build 17035+)</td><td>ms-settings:easeofaccess-eyecontrol</td><td>Accessibility</td></tr><tr><td>Eye tracker (requires eyetracker hardware)</td><td>ms-settings:privacy-eyetracker</td><td>Privacy</td></tr><tr><td>Family &amp; other users</td><td>ms-settings:family-group</td><td>Security</td></tr><tr><td>Family &amp; other users</td><td>ms-settings:otherusers</td><td>Security</td></tr><tr><td>Feedback &amp; diagnostics (privacy)</td><td>ms-settings:privacy-feedback</td><td>Security</td></tr><tr><td>File System (share between apps)</td><td>ms-settings:privacy-broadfilesystemaccess</td><td>Privacy</td></tr><tr><td>Find My Device</td><td>ms-settings:findmydevice</td><td>Security</td></tr><tr><td>Focus assist (build 17074+)</td><td>ms-settings:quiethours<br />OR ms-settings:quietmomentshome</td><td>Apps</td></tr><tr><td>Fonts (build 17083+)</td><td>ms-settings:fonts</td><td>Customisation</td></tr><tr><td>For developers</td><td>ms-settings:developers</td><td>Apps</td></tr><tr><td>Graphics Advanced scaling settings</td><td>ms-settings:display-advanced</td><td>Display</td></tr><tr><td>Graphics performance preference</td><td>ms-settings:display-advancedgraphics</td><td>Display</td></tr><tr><td>High Contrast</td><td>ms-settings:easeofaccess-highcontrast</td><td>Accessibility</td></tr><tr><td>Home page for Settings</td><td>ms-settings:</td><td>Windows</td></tr><tr><td>Keyboard</td><td>ms-settings:easeofaccess-keyboard</td><td>Devices</td></tr><tr><td>Location (share between apps)</td><td>ms-settings:privacy-location</td><td>Privacy</td></tr><tr><td>Lock screen</td><td>ms-settings:lockscreen</td><td>Security</td></tr><tr><td>Magnifier</td><td>ms-settings:easeofaccess-magnifier</td><td>Accessibility</td></tr><tr><td>Manage known Wi-Fi</td><td>ms-settings:network-wifisettings</td><td>Network</td></tr><tr><td>Manage sound devices (disable&#x2F;test)</td><td>ms-settings:sound-devices</td><td>Audio</td></tr><tr><td>Messaging (share between apps)</td><td>ms-settings:privacy-messaging</td><td>Privacy</td></tr><tr><td>Microphone (share between apps)</td><td>ms-settings:privacy-microphone</td><td>Privacy</td></tr><tr><td>Mobile Hotspot</td><td>ms-settings:network-mobilehotspot</td><td>Network</td></tr><tr><td>Motion (share between apps)</td><td>ms-settings:privacy-motion</td><td>Privacy</td></tr><tr><td>Mouse</td><td>ms-settings:easeofaccess-mouse</td><td>Accessibility</td></tr><tr><td>Mouse &amp; Touchpad Devices</td><td>ms-settings:mousetouchpad</td><td>Devices</td></tr><tr><td>Mouse Pointer (Cursor &amp; pointer, build 17040+)</td><td>ms-settings:easeofaccess-cursorandpointersize</td><td>Accessibility</td></tr><tr><td>Mouse Pointer (Cursor &amp; pointer, build 17040+)</td><td>ms-settings:easeofaccess-mousepointer</td><td>Accessibility</td></tr><tr><td>Multitasking</td><td>ms-settings:multitasking</td><td>Display</td></tr><tr><td>Narrator</td><td>ms-settings:easeofaccess-narrator</td><td>Audio</td></tr><tr><td>Network &amp; Internet</td><td>ms-settings:network</td><td>Network</td></tr><tr><td>Network Status</td><td>ms-settings:network-status</td><td>Network</td></tr><tr><td>Night light settings</td><td>ms-settings:nightlight</td><td>Customisation</td></tr><tr><td>Notifications (share between apps)</td><td>ms-settings:privacy-notifications</td><td>Privacy</td></tr><tr><td>Notifications and Actions</td><td>ms-settings:notifications</td><td>Customisation</td></tr><tr><td>Offline Maps</td><td>ms-settings:maps</td><td>Apps</td></tr><tr><td>Online Speech recognition</td><td>ms-settings:privacy-speech</td><td>Privacy</td></tr><tr><td>Optional features</td><td>ms-settings:optionalfeatures</td><td>Apps</td></tr><tr><td>Other options</td><td>ms-settings:easeofaccess-otheroptions</td><td>Accessibility</td></tr><tr><td>Personalization</td><td>ms-settings:personalization</td><td>Customisation</td></tr><tr><td>Picture Library (share between apps)</td><td>ms-settings:privacy-pictures</td><td>Privacy</td></tr><tr><td>Power &amp; Sleep</td><td>ms-settings:powersleep</td><td>Power</td></tr><tr><td>Printers</td><td>ms-settings:printers</td><td>Devices</td></tr><tr><td>Privacy</td><td>ms-settings:privacy</td><td>Privacy</td></tr><tr><td>Projecting to this PC</td><td>ms-settings:project</td><td>Display</td></tr><tr><td>Proxy (Network)</td><td>ms-settings:network-proxy</td><td>Network</td></tr><tr><td>Radio (share between apps)</td><td>ms-settings:privacy-radios</td><td>Privacy</td></tr><tr><td>Recovery - Reset&#x2F;Advanced startup</td><td>ms-settings:recovery</td><td>Windows</td></tr><tr><td>Region</td><td>ms-settings:regionformatting</td><td>Region &amp; Language</td></tr><tr><td>Region &amp; language</td><td>ms-settings:regionlanguage</td><td>Region &amp; Language</td></tr><tr><td>Remember typing patterns</td><td>ms-settings:privacy-speechtyping</td><td>Privacy</td></tr><tr><td>Remote Desktop</td><td>ms-settings:remotedesktop</td><td>Network</td></tr><tr><td>Search Permissions &amp; search history</td><td>ms-settings:search-permissions</td><td>Search</td></tr><tr><td>Search details</td><td>ms-settings:search-moredetails</td><td>Search</td></tr><tr><td>Security Key setup</td><td>ms-settings:signinoptions-launchsecuritykeyenrollment</td><td>Security</td></tr><tr><td>Send Diagnostic Data to Microsoft</td><td>ms-settings:privacy-feedback-telemetryviewergroup</td><td>Privacy</td></tr><tr><td>Set up a kiosk</td><td>ms-settings:assignedaccess</td><td>Security</td></tr><tr><td>Shared experiences</td><td>ms-settings:crossdevice</td><td>Network</td></tr><tr><td>Sign-in options</td><td>ms-settings:signinoptions</td><td>Security</td></tr><tr><td>Software Center (SCCM)</td><td>softwarecenter:</td><td>Apps</td></tr><tr><td>Sound (build 17063+)</td><td>ms-settings:sound</td><td>Audio</td></tr><tr><td>Speech</td><td>ms-settings:speech</td><td>Audio</td></tr><tr><td>Speech recognition (build 17035+)</td><td>ms-settings:easeofaccess-speechrecognition</td><td>Accessibility</td></tr><tr><td>Start Menu</td><td>ms-settings:personalization-start</td><td>Customisation</td></tr><tr><td>Start Menu (choose which folders appear)</td><td>ms-settings:personalization-start-places</td><td>Customisation</td></tr><tr><td>Start Narrator after sign-in</td><td>ms-settings:easeofaccess-narrator-isautostartenabled</td><td>Audio</td></tr><tr><td>Startup (build 17017+)</td><td>ms-settings:startupapps</td><td>Customisation</td></tr><tr><td>Storage Sense</td><td>ms-settings:storagesense</td><td>Storage</td></tr><tr><td>Storage Sense configuration</td><td>ms-settings:storagepolicies</td><td>Storage</td></tr><tr><td>Sync your settings</td><td>ms-settings:sync</td><td>Network</td></tr><tr><td>Tablet mode</td><td>ms-settings:tabletmode</td><td>Customisation</td></tr><tr><td>Taskbar</td><td>ms-settings:taskbar</td><td>Apps</td></tr><tr><td>Tasks (share between apps)</td><td>ms-settings:privacy-tasks</td><td>Privacy</td></tr><tr><td>Text Cursor</td><td>ms-settings:easeofaccess-cursor</td><td>Accessibility</td></tr><tr><td>Themes</td><td>ms-settings:themes</td><td>Customisation</td></tr><tr><td>Touchpad</td><td>ms-settings:devices-touchpad</td><td>Devices</td></tr><tr><td>Troubleshoot - Fix Windows Update</td><td>ms-settings:troubleshoot</td><td>Windows</td></tr><tr><td>Typing</td><td>ms-settings:typing</td><td>Accessibility</td></tr><tr><td>USB</td><td>ms-settings:usb</td><td>Devices</td></tr><tr><td>Unpaired devices (share between apps)</td><td>ms-settings:privacy-customdevices</td><td>Privacy</td></tr><tr><td>VPN</td><td>ms-settings:network-vpn</td><td>Network</td></tr><tr><td>Video Library (share between apps)</td><td>ms-settings:privacy-videos</td><td>Privacy</td></tr><tr><td>Video playback (build 16215+)</td><td>ms-settings:videoplayback</td><td>Display</td></tr><tr><td>Voice activation (apps can listen)</td><td>ms-settings:privacy-voiceactivation</td><td>Privacy</td></tr><tr><td>Webcam (share between apps)</td><td>ms-settings:privacy-webcam</td><td>Privacy</td></tr><tr><td>Wi-Fi</td><td>ms-settings:network-wifi</td><td>Network</td></tr><tr><td>WinUpdate - Active Hours</td><td>ms-settings:windowsupdate-activehours</td><td>Security</td></tr><tr><td>WinUpdate - Advanced options</td><td>ms-settings:windowsupdate-options</td><td>Security</td></tr><tr><td>WinUpdate - Check for updates</td><td>ms-settings:windowsupdate-action</td><td>Security</td></tr><tr><td>WinUpdate - Optional updates</td><td>ms-settings:windowsupdate-optionalupdates</td><td>Security</td></tr><tr><td>WinUpdate - Restart options</td><td>ms-settings:windowsupdate-restartoptions</td><td>Security</td></tr><tr><td>WinUpdate - Update history</td><td>ms-settings:windowsupdate-history</td><td>Security</td></tr><tr><td>Windows Hello face setup</td><td>ms-settings:signinoptions-launchfaceenrollment</td><td>Security</td></tr><tr><td>Windows Hello fingerprint setup</td><td>ms-settings:signinoptions-launchfingerprintenrollment</td><td>Security</td></tr><tr><td>Windows Insider Program (betaâ€™s)</td><td>ms-settings:windowsinsider</td><td>Windows</td></tr><tr><td>Windows Search</td><td>ms-settings:cortana-windowssearch</td><td>Search</td></tr><tr><td>Windows Security (Defender)</td><td>ms-settings:windowsdefender</td><td>Security</td></tr><tr><td>Windows Security at a glance</td><td>windowsdefender:</td><td>Security</td></tr><tr><td>Windows Update</td><td>ms-settings:windowsupdate</td><td>Security</td></tr><tr><td>Your info (Microsoft account)</td><td>ms-settings:yourinfo</td><td>Security</td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> OS </category>
          
          <category> Windows </category>
          
      </categories>
      
      
        <tags>
            
            <tag> windows </tag>
            
            <tag> ms-settings </tag>
            
            <tag> å¿«æ·æ–¹å¼ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä½¿ç”¨ UMDH å®šä½ç”¨æˆ·æ¨¡å¼å†…å­˜æ³„æ¼</title>
      <link href="/OS/Windows/%E5%86%85%E5%AD%98%E6%B3%84%E6%BC%8F/%E5%86%85%E5%AD%98%E6%B3%84%E6%BC%8F%E5%AE%9A%E4%BD%8D%20UMDH/"/>
      <url>/OS/Windows/%E5%86%85%E5%AD%98%E6%B3%84%E6%BC%8F/%E5%86%85%E5%AD%98%E6%B3%84%E6%BC%8F%E5%AE%9A%E4%BD%8D%20UMDH/</url>
      
        <content type="html"><![CDATA[<p>[toc]</p><h1 id="UMDH"><a href="#UMDH" class="headerlink" title="UMDH"></a>UMDH</h1><blockquote><p><a href="https://docs.microsoft.com/zh-cn/windows-hardware/drivers/debugger/umdh?source=recommendations">UMDH</a>ï¼ˆç”¨æˆ·æ¨¡å¼è½¬å‚¨å †ï¼‰ï¼Œæ˜¯ä¸æ“ä½œç³»ç»Ÿä¸€èµ·ç”¨äºåˆ†æç‰¹æ€§è¿›ç¨‹Windowså †åˆ†é…ã€‚UMDHæŸ¥æ‰¾ç‰¹å®šè¿›ç¨‹ä¸­çš„å“ªä¸ªä¾‹ç¨‹æ­£åœ¨æ³„æ¼å†…å­˜ã€‚ç‰¹åˆ«è¦æ³¨æ„çš„äº‹ï¼šä½¿ç”¨UMDHæ˜¾ç¤ºå †æ ˆè·Ÿè¸ªæ•°æ®ä¹‹å‰ï¼Œå¿…é¡»ä½¿ç”¨ GFlags æ­£ç¡®é…ç½®ç³»ç»Ÿã€‚Windowsçš„è°ƒè¯•å·¥å…·ä¸­åŒ…å«äº† <a href="https://docs.microsoft.com/zh-cn/windows-hardware/drivers/debugger/gflags?source=recommendations">GFlags</a>ã€‚</p></blockquote><h1 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h1><h2 id="å¯ç”¨-UMDH-stack-è·Ÿè¸ªï¼š"><a href="#å¯ç”¨-UMDH-stack-è·Ÿè¸ªï¼š" class="headerlink" title="å¯ç”¨ UMDH stack è·Ÿè¸ªï¼š"></a>å¯ç”¨ <code>UMDH stack</code> è·Ÿè¸ªï¼š</h2><ol><li><p>åœ¨ GFlags å›¾å½¢ç•Œé¢ä¸­ï¼Œé€‰æ‹© â€œå›¾åƒæ–‡ä»¶â€ é€‰é¡¹å¡ï¼Œé”®å…¥è¿›ç¨‹åç§° (åŒ…æ‹¬æ–‡ä»¶æ‰©å±•å) ï¼ŒæŒ‰ TAB é”®ï¼Œé€‰æ‹© â€œ <strong>åˆ›å»ºç”¨æˆ·æ¨¡å¼å †æ ˆè·Ÿè¸ªæ•°æ®åº“</strong>â€œï¼Œç„¶åé€‰æ‹© â€œ <strong>åº”ç”¨</strong>â€œã€‚æˆ–è€…ï¼Œåœ¨å‘½ä»¤è¡Œç•Œé¢ä½¿ç”¨ <code>gflags</code> å‘½ä»¤è®¾ç½®ã€‚</p><figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gflags /i imageName +ust</span><br></pre></td></tr></table></figure><p>å½“å®Œæˆåˆ†æåï¼Œä½¿ç”¨ <code>-</code> æ¸…æ¥šè®¾ç½®ï¼š</p><figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gflags /i imageName -ust</span><br></pre></td></tr></table></figure></li><li><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œåœ¨ x86 å¤„ç†å™¨ä¸Š Windows æ”¶é›†çš„å †æ ˆè·Ÿè¸ªæ•°æ®é‡é™åˆ¶ä¸º 32 MBï¼Œåœ¨ x64 å¤„ç†å™¨ä¸Šé™åˆ¶ä¸º 64 mbã€‚ å¦‚æœå¿…é¡»å¢åŠ æ­¤æ•°æ®åº“çš„å¤§å°ï¼Œè¯·é€‰æ‹© â€œGFlagsâ€ å›¾å½¢ç•Œé¢ä¸­çš„ â€œ <strong>æ˜ åƒæ–‡ä»¶</strong> â€œ é€‰é¡¹å¡ï¼Œé”®å…¥è¿›ç¨‹åç§°ï¼ŒæŒ‰ tab é”®ï¼Œé€‰ä¸­ â€œ <strong>Stack Backtrace (Megs)</strong> â€œ å¤é€‰æ¡†ï¼Œåœ¨ â€œå…³è”â€ æ–‡æœ¬æ¡†ä¸­é”®å…¥å€¼ (ï¼Œä»¥) MB ä¸ºå•ä½ï¼‰ï¼Œç„¶åé€‰æ‹© â€œ <strong>åº”ç”¨</strong>â€œã€‚ ä»…åœ¨å¿…è¦æ—¶å¢åŠ æ­¤æ•°æ®åº“ï¼Œå› ä¸ºå®ƒå¯èƒ½ä¼šè€—å°½æœ‰é™çš„ Windows èµ„æºã€‚ å¦‚æœä¸å†éœ€è¦æ›´å¤§çš„å¤§å°ï¼Œåˆ™å°†æ­¤è®¾ç½®è¿”å›åˆ°å…¶åŸå§‹å€¼ã€‚</p></li><li><p>å¦‚æœæ›´æ”¹äº† â€œ<strong>ç³»ç»Ÿæ³¨å†Œè¡¨</strong>â€œ é€‰é¡¹å¡ä¸Šçš„ä»»ä½•æ ‡å¿—ï¼Œåˆ™å¿…é¡»é‡æ–°å¯åŠ¨ Windows ä»¥ä½¿è¿™äº›æ›´æ”¹ç”Ÿæ•ˆã€‚ å¦‚æœæ›´æ”¹äº† â€œ <strong>å›¾åƒæ–‡ä»¶</strong> â€œ é€‰é¡¹å¡ä¸Šçš„ä»»ä½•æ ‡å¿—ï¼Œåˆ™å¿…é¡»é‡æ–°å¯åŠ¨è¯¥è¿‡ç¨‹æ‰èƒ½ä½¿æ›´æ”¹ç”Ÿæ•ˆã€‚ å¯¹<strong>å†…æ ¸æ ‡å¿—</strong>é€‰é¡¹å¡æ‰€åšçš„æ›´æ”¹ä¼šç«‹å³ç”Ÿæ•ˆï¼Œä½†ä¸‹æ¬¡é‡æ–°å¯åŠ¨ Windowsï¼Œå®ƒä»¬ä¼šä¸¢å¤±ã€‚</p></li></ol><p>åœ¨ä½¿ç”¨ UMDH ä¹‹å‰ï¼Œå¿…é¡»æœ‰æƒè®¿é—®åº”ç”¨ç¨‹åºçš„æ­£ç¡®ç¬¦å·ã€‚UMDH ä½¿ç”¨ç¯å¢ƒå˜é‡æŒ‡å®šçš„ç¬¦å·è·¯å¾„ <code>_NT_SYMBOL_PATH</code>ã€‚å°†æ­¤å˜é‡è®¾ç½®ä¸ºåŒ…å«åº”ç”¨ç¨‹åºçš„ç¬¦å·çš„è·¯å¾„ã€‚å¦‚æœè¿˜åŒ…æ‹¬ Windows ç¬¦å·çš„è·¯å¾„ï¼Œåˆ™åˆ†æå¯èƒ½æ›´å®Œæ•´ã€‚æ­¤ç¬¦å·è·¯å¾„çš„è¯­æ³•ä¸è°ƒè¯•å™¨ä½¿ç”¨çš„è¯­æ³•ç›¸åŒã€‚</p><p>ä¾‹å¦‚ï¼Œå¦‚æœä½ çš„åº”ç”¨ç¨‹åºçš„ç¬¦å·ä½äº <code>C:\MySymbols</code>ï¼Œå¹¶ä¸”ä½ æƒ³è¦ä¸ºä½ çš„ Windows ç¬¦å·ä½¿ç”¨å…¬å…± Microsoft ç¬¦å·å­˜å‚¨åŒºï¼Œåˆ™ä½¿ç”¨ <code>C:\MyCache</code> ä½œä¸ºä¸‹æ¸¸å­˜å‚¨ï¼Œä½ å°†ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è®¾ç½®ä½ çš„ç¬¦å·è·¯å¾„ï¼š</p><figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">set _NT_SYMBOL_PATH=c:\mysymbols;srv*c:\mycache*https://msdl.microsoft.com/download/symb</span><br></pre></td></tr></table></figure><p>æ­¤å¤–ï¼Œè‹¥éœ€è¦ç¡®ä¿å‡†ç¡®çš„ç»“æœï¼Œå¿…é¡»ç¦ç”¨ <code>BSTR</code> ç¼“å­˜ã€‚ä¸ºæ­¤ï¼Œè¯·å°† <code>OANOCACHE</code> ç¯å¢ƒå˜é‡çš„å€¼è®¾ç½®ä¸º 1ï¼ˆéœ€è¦åœ¨å¯åŠ¨è·Ÿè¸ªå…¶åˆ†é…çš„åº”ç”¨ç¨‹åºä¹‹å‰è¿›è¡Œè®¾ç½®ï¼‰ã€‚å¦‚æœéœ€è¦è·Ÿè¸ªæœåŠ¡æ‰€åšçš„åˆ†é…ï¼Œåˆ™å¿…é¡»å°† <code>OANOCACHE</code> è®¾ç½®ä¸ºè¥¿æˆç¯å¢ƒå˜é‡ï¼Œç„¶åé‡æ–°å¯åŠ¨ Windows ä»¥ä½¿æ­¤è®¾ç½®ç”Ÿæ•ˆã€‚</p><h2 id="æ£€æµ‹é€šè¿‡-UMDH-å¢åŠ çš„å †åˆ†é…"><a href="#æ£€æµ‹é€šè¿‡-UMDH-å¢åŠ çš„å †åˆ†é…" class="headerlink" title="æ£€æµ‹é€šè¿‡ UMDH å¢åŠ çš„å †åˆ†é…"></a>æ£€æµ‹é€šè¿‡ UMDH å¢åŠ çš„å †åˆ†é…</h2><h3 id="1-ç¡®è®¤è¿›ç¨‹ID-PID"><a href="#1-ç¡®è®¤è¿›ç¨‹ID-PID" class="headerlink" title="1. ç¡®è®¤è¿›ç¨‹ID (PID)"></a>1. ç¡®è®¤è¿›ç¨‹ID (PID)</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tlist | finstr &quot;è¿›ç¨‹å&quot;</span><br></pre></td></tr></table></figure><h3 id="2-ä¿å­˜æ—¥å¿—æ–‡ä»¶"><a href="#2-ä¿å­˜æ—¥å¿—æ–‡ä»¶" class="headerlink" title="2. ä¿å­˜æ—¥å¿—æ–‡ä»¶"></a>2. ä¿å­˜æ—¥å¿—æ–‡ä»¶</h3><p>ä½¿ç”¨ UMDH åˆ†ææ­¤è¿›ç¨‹çš„å †å†…å­˜åˆ†é…ï¼Œå¹¶å°†å…¶ä¿å­˜åˆ°æ—¥å¿—æ–‡ä»¶ã€‚å°† <code>-p</code> å¼€å…³ä¸ PID ä¸€èµ·ä½¿ç”¨ï¼Œå¹¶å°† <code>-f</code> å¼€å…³ä¸æ—¥å¿—æ–‡ä»¶çš„åç§°ä¸€èµ·ä½¿ç”¨ã€‚ä¾‹å¦‚ï¼Œå¦‚æœ PID ä¸º123ï¼Œå¹¶ä¸”ä½ æƒ³è¦å°†æ—¥å¿—æ–‡ä»¶å‘½åä¸º <code>Log1.txt</code> ï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">umdh -p:123 -f:log1.txt</span><br></pre></td></tr></table></figure><h3 id="3-æŸ¥çœ‹æ—¥å¿—"><a href="#3-æŸ¥çœ‹æ—¥å¿—" class="headerlink" title="3. æŸ¥çœ‹æ—¥å¿—"></a>3. æŸ¥çœ‹æ—¥å¿—</h3><p>ä½¿ç”¨è®°äº‹æœ¬æˆ–å…¶ä»–ç¨‹åºæ‰“å¼€æ—¥å¿—æ–‡ä»¶ã€‚ æ­¤æ–‡ä»¶åŒ…å«æ¯ä¸ªå †åˆ†é…çš„è°ƒç”¨å †æ ˆã€é€šè¿‡è¯¥è°ƒç”¨å †æ ˆè¿›è¡Œçš„åˆ†é…æ•°ï¼Œä»¥åŠé€šè¿‡è¯¥è°ƒç”¨å †æ ˆä½¿ç”¨çš„å­—èŠ‚æ•°ã€‚</p><h3 id="4-å‰åä¸¤æ¬¡æ—¥å¿—å¯¹æ¯”ç»“æœ"><a href="#4-å‰åä¸¤æ¬¡æ—¥å¿—å¯¹æ¯”ç»“æœ" class="headerlink" title="4. å‰åä¸¤æ¬¡æ—¥å¿—å¯¹æ¯”ç»“æœ"></a>4. å‰åä¸¤æ¬¡æ—¥å¿—å¯¹æ¯”ç»“æœ</h3><p>ç”±äºæ‚¨æ­£åœ¨æŸ¥æ‰¾å†…å­˜æ³„æ¼ï¼Œå› æ­¤ï¼Œå•ä¸ªæ—¥å¿—æ–‡ä»¶çš„å†…å®¹æ˜¯ä¸å¤Ÿçš„ã€‚ ä½ å¿…é¡»æ¯”è¾ƒåœ¨ä¸åŒæ—¶é—´è®°å½•çš„æ—¥å¿—æ–‡ä»¶ï¼Œä»¥ç¡®å®šå“ªäº›åˆ†é…æ­£åœ¨å¢é•¿ã€‚</p><p>UMDH å¯ä»¥æ¯”è¾ƒä¸¤ä¸ªä¸åŒçš„æ—¥å¿—æ–‡ä»¶ï¼Œå¹¶åœ¨å„è‡ªçš„åˆ†é…å¤§å°ä¸­æ˜¾ç¤ºæ›´æ”¹ã€‚ æ‚¨å¯ä»¥ä½¿ç”¨å¤§äºç¬¦å· (<strong>&gt;</strong>) å°†ç»“æœé‡å®šå‘åˆ°ç¬¬ä¸‰ä¸ªæ–‡æœ¬æ–‡ä»¶ã€‚ ä½ å¯èƒ½è¿˜éœ€è¦åŒ…å«-d é€‰é¡¹ï¼Œè¯¥é€‰é¡¹å°†å­—èŠ‚å’Œåˆ†é…è®¡æ•°ä»åå…­è¿›åˆ¶è½¬æ¢ä¸ºåè¿›åˆ¶ã€‚ ä¾‹å¦‚ï¼Œè‹¥è¦æ¯”è¾ƒ Log1.txt å’Œ Log2.txtï¼Œå°†æ¯”è¾ƒç»“æœä¿å­˜åˆ°æ–‡ä»¶ LogCompare.txtï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">umdh log1.txt log2.txt &gt; logcompare.txt </span><br></pre></td></tr></table></figure><h3 id="5-åˆ†æå†…å­˜æ³„æ¼"><a href="#5-åˆ†æå†…å­˜æ³„æ¼" class="headerlink" title="5. åˆ†æå†…å­˜æ³„æ¼"></a>5. åˆ†æå†…å­˜æ³„æ¼</h3><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">+ 5320 ( f110 - 9df0) 3a allocs BackTrace00B53 </span><br><span class="line">Total increase == 5320 </span><br></pre></td></tr></table></figure><p>å¯¹äºæ¯ä¸ªè°ƒç”¨å †æ ˆ (åœ¨ UMDH æ—¥å¿—æ–‡ä»¶ä¸­æ ‡è®°ä¸º â€œBackTraceâ€ ) ï¼Œè¿™ä¸¤ä¸ªæ—¥å¿—æ–‡ä»¶ä¹‹é—´æœ‰æ¯”è¾ƒã€‚ åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œç¬¬ä¸€ä¸ªæ—¥å¿—æ–‡ä»¶ (Log1.txt) ä¸º BackTrace00B53 åˆ†é…çš„0x9DF0 å­—èŠ‚ï¼Œè€Œç¬¬äºŒä¸ªæ—¥å¿—æ–‡ä»¶è®°å½•äº†0xF110 å­—èŠ‚ï¼Œè¿™æ„å‘³ç€åœ¨æ•è·ä¸¤ä¸ªæ—¥å¿—çš„æ—¶é—´ä¹‹é—´åˆ†é…æœ‰0x5320 çš„é¢å¤–å­—èŠ‚ã€‚ è¿™äº›å­—èŠ‚æ¥è‡ª BackTrace00B53 æ ‡è¯†çš„è°ƒç”¨å †æ ˆã€‚</p><h3 id="6-æŸ¥çœ‹æ³„æ¼å †æ ˆ"><a href="#6-æŸ¥çœ‹æ³„æ¼å †æ ˆ" class="headerlink" title="6. æŸ¥çœ‹æ³„æ¼å †æ ˆ"></a>6. æŸ¥çœ‹æ³„æ¼å †æ ˆ</h3><p>è‹¥è¦ç¡®å®šè¯¥ backtrace ä¸­çš„å†…å®¹ï¼Œè¯·æ‰“å¼€ä¸€ä¸ªåŸå§‹æ—¥å¿—æ–‡ä»¶ (ä¾‹å¦‚ Log2.txt) ï¼Œç„¶åæœç´¢ â€œBackTrace00B53â€ã€‚ç»“æœç±»ä¼¼äºä»¥ä¸‹æ•°æ®ï¼š</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">00005320 bytes in 0x14 allocations (@ 0x00000428) by: BackTrace00B53</span><br><span class="line">ntdll!RtlDebugAllocateHeap+0x000000FD</span><br><span class="line">ntdll!RtlAllocateHeapSlowly+0x0000005A</span><br><span class="line">ntdll!RtlAllocateHeap+0x00000808</span><br><span class="line">MyApp!_heap_alloc_base+0x00000069</span><br><span class="line">MyApp!_heap_alloc_dbg+0x000001A2</span><br><span class="line">MyApp!_nh_malloc_dbg+0x00000023</span><br><span class="line">MyApp!_nh_malloc+0x00000016</span><br><span class="line">MyApp!operator new+0x0000000E</span><br><span class="line">MyApp!DisplayMyGraphics+0x0000001E</span><br><span class="line">MyApp!main+0x0000002C</span><br><span class="line">MyApp!mainCRTStartup+0x000000FC</span><br><span class="line">KERNEL32!BaseProcessStart+0x0000003D </span><br></pre></td></tr></table></figure><blockquote><p><strong>ä¸Šè¿°æ³„æ¼å†…å­˜åˆ†æ</strong>:</p><p>æ­¤ UMDH è¾“å‡ºæ˜¾ç¤ºæœ‰) (åè¿›åˆ¶21280ä»è°ƒç”¨å †æ ˆä¸­åˆ†é…çš„æ€»å­—èŠ‚æ•°ã€‚ è¿™äº›å­—èŠ‚æ˜¯ä» 0x14 (åè¿›åˆ¶ 20) å•ç‹¬åˆ†é…çš„ï¼Œæ¯ä¸ª 0x428 (åè¿›åˆ¶ 1064) å­—èŠ‚ã€‚</p><p>å°†ä¸ºè°ƒç”¨å †æ ˆæä¾› â€œBackTrace00B53â€ çš„æ ‡è¯†ç¬¦ï¼Œå¹¶æ˜¾ç¤ºæ­¤å †æ ˆä¸­çš„è°ƒç”¨ã€‚ åœ¨æ£€æŸ¥è°ƒç”¨å †æ ˆæ—¶ï¼Œå¯ä»¥çœ‹åˆ° <strong>DisplayMyGraphics</strong> ä¾‹ç¨‹æ­£åœ¨é€šè¿‡ <strong>new</strong> è¿ç®—ç¬¦åˆ†é…å†…å­˜ï¼Œè¯¥è¿ç®—ç¬¦è°ƒç”¨ä¾‹ç¨‹ <em>malloc</em>ï¼Œåè€…ä½¿ç”¨ Visual C++ è¿è¡Œæ—¶åº“ä»å †ä¸­è·å–å†…å­˜ã€‚</p><p>ç¡®å®šè¦åœ¨æºä»£ç ä¸­æ˜¾å¼æ˜¾ç¤ºçš„æœ€åä¸€ä¸ªè°ƒç”¨ã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå®ƒå¯èƒ½æ˜¯ <strong>new</strong> è¿ç®—ç¬¦ï¼Œå› ä¸ºè°ƒç”¨ <em>malloc</em> æ˜¯ä½œä¸º <strong>æ–°</strong> çš„å®ç°çš„ä¸€éƒ¨åˆ†è€Œä¸æ˜¯ä½œä¸ºå•ç‹¬çš„åˆ†é…ã€‚ å› æ­¤ï¼Œ <strong>DisplayMyGraphics</strong>ä¾‹ç¨‹ä¸­<strong>new</strong>è¿ç®—ç¬¦çš„æ­¤å®ä¾‹ä¼šé‡å¤åˆ†é…æœªé‡Šæ”¾çš„å†…å­˜ã€‚</p></blockquote><h1 id="å‚è€ƒé“¾æ¥"><a href="#å‚è€ƒé“¾æ¥" class="headerlink" title="å‚è€ƒé“¾æ¥"></a>å‚è€ƒé“¾æ¥</h1><p><a href="https://docs.microsoft.com/zh-cn/windows-hardware/drivers/debugger/using-umdh-to-find-a-user-mode-memory-leak">ä½¿ç”¨ UMDH æŸ¥æ‰¾ç”¨æˆ·æ¨¡å¼å†…å­˜æ³„æ¼ - Windows drivers | Microsoft Docs</a></p>]]></content>
      
      
      <categories>
          
          <category> OS </category>
          
          <category> Windows </category>
          
          <category> å†…å­˜æ³„æ¼ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å†…å­˜ </tag>
            
            <tag> å†…å­˜æ³„æ¼ </tag>
            
            <tag> UMDH </tag>
            
            <tag> WinDbg </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å†…å­˜æ³„æ¼åˆ†æå®æˆ˜</title>
      <link href="/OS/Windows/%E5%86%85%E5%AD%98%E6%B3%84%E6%BC%8F/%E5%AE%9E%E6%88%98/%E5%86%85%E5%AD%98%E6%B3%84%E6%BC%8F%E5%88%86%E6%9E%90%E5%AE%9E%E6%88%98/"/>
      <url>/OS/Windows/%E5%86%85%E5%AD%98%E6%B3%84%E6%BC%8F/%E5%AE%9E%E6%88%98/%E5%86%85%E5%AD%98%E6%B3%84%E6%BC%8F%E5%88%86%E6%9E%90%E5%AE%9E%E6%88%98/</url>
      
        <content type="html"><![CDATA[<p>[toc]</p><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>æœ¬æ–‡ä¸ºé¡¹ç›®ä¸­æœåŠ¡ç¨‹åºçš„å†…å­˜æ³„æ¼ï¼ŒæŒ‘äº†å…¶ä¸­ä¸€éƒ¨åˆ†æ¯”è¾ƒå¸¸è§çš„å†…å­˜æ³„æ¼è¿›è¡Œåˆ†æå’Œä¿®æ”¹ã€‚</p><p>å…³äºå†…å­˜æ³„æ¼å’Œåˆ†æçš„æ–‡ç« å¯æŸ¥çœ‹åšå®¢ç›¸å…³æ–‡ç« ï¼Œæœ‰ <code>UMDH</code> å’Œ <code>vld</code> ä¸¤ç§æ–¹å¼ï¼Œå¯æ ¹æ®ä¸ªäººéœ€æ±‚å±•å¼€åˆ†æã€‚</p><h1 id="æ³„æ¼åˆ†ç±»"><a href="#æ³„æ¼åˆ†ç±»" class="headerlink" title="æ³„æ¼åˆ†ç±»"></a>æ³„æ¼åˆ†ç±»</h1><h2 id="malloc-å†…å­˜æ³„æ¼"><a href="#malloc-å†…å­˜æ³„æ¼" class="headerlink" title="# malloc å†…å­˜æ³„æ¼"></a># <code>malloc</code> å†…å­˜æ³„æ¼</h2><p>ä¸‹è¿°æ—¥å¿—ä¸ºä¸€æ¬¡ <code>malloc</code>  æœªæ­£ç¡®é‡Šæ”¾å¯¼è‡´çš„å†…å­˜æ³„æ¼ã€‚è¿™ç§é—®é¢˜æ¯”è¾ƒå¸¸è§ï¼Œä¸ç”¨å¤šè¯´ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ntdll.dll!RtlAllocateHeap()</span><br><span class="line">***\heap\malloc_base.cpp (34): XXX.dll!_malloc_base() + 0xF bytes</span><br><span class="line">XXX.dll!_event_debugx() + 0x1A7 bytes</span><br></pre></td></tr></table></figure><p><mark style="background:green;border-radius:10px;color:white;border:none">è§£å†³æ–¹æ¡ˆï¼š</mark></p><p>æ ¹æ®æç¤ºçš„ä½ç½®æ‰¾åˆ°å¹¶é‡Šæ”¾è¯¥å†…å­˜ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">char</span> *ch = (<span class="type">char</span>*)<span class="built_in">malloc</span>(<span class="built_in">sizeof</span>(<span class="number">8</span>));</span><br><span class="line">free ch;</span><br><span class="line">ch = <span class="literal">NULL</span>;</span><br></pre></td></tr></table></figure><p>å¦å¤–ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨æ™ºèƒ½æŒ‡é’ˆç®¡ç†è¯¥æŒ‡é’ˆï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">char</span> *ch = (<span class="type">char</span>*)<span class="built_in">malloc</span>(<span class="built_in">sizeof</span>(<span class="number">8</span>));</span><br><span class="line"><span class="function">shared_ptr&lt;<span class="type">char</span>&gt; <span class="title">spCh</span><span class="params">(ch)</span></span>;</span><br></pre></td></tr></table></figure><h2 id="new-å†…å­˜æ³„æ¼"><a href="#new-å†…å­˜æ³„æ¼" class="headerlink" title="# new å†…å­˜æ³„æ¼"></a># <code>new</code> å†…å­˜æ³„æ¼</h2><p>å…³äº <code>new</code> çš„å†…å­˜æ³„æ¼åˆ†æå†™äº†ä¸€æ®µä»£ç ç”¨æ¥å±•ç¤ºä¸€ä¸‹ï¼š</p><p><font size=1>æ³¨ï¼šä»£ç  Section2 éƒ¨åˆ†ä¸ºä¸€ä¸ªå´©æºƒä»£ç ï¼Œå †å†…å­˜ç”³è¯·åä½¿ç”¨æ—¶ä¸€å¤„ï¼Œè€Œåœ¨å †å†…å­˜ç”³è¯·å’Œé‡Šæ”¾æ—¶ä»¥åŠç¨‹åºç»“æŸæ—¶é‡Šæ”¾å †å†…å­˜æ—¶ï¼Œéƒ½ <mark>å­˜åœ¨å †æº¢å‡ºæ£€æŸ¥</mark> ï¼Œæ£€æŸ¥ç‚¹ä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œå¯¼è‡´ç¨‹åºå¥”æºƒã€‚</font></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä»£ç  Section2</span></span><br><span class="line"><span class="comment">// è¯¥å‡½æ•°ä»£ç è¿˜æ¶‰åŠå¥”æºƒé—®é¢˜</span></span><br><span class="line"><span class="function"><span class="type">int</span>* <span class="title">test_heap_alloc</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">int</span>* pTable = <span class="keyword">new</span> <span class="built_in">int</span>(<span class="number">256</span>); <span class="comment">// ç”³è¯·ä¸€ä¸ªintç»“æ„ä½“å˜é‡ï¼Œåˆå§‹å€¼ä¸º256;</span></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">256</span>; i++)</span><br><span class="line">pTable[i] = i;</span><br><span class="line"><span class="keyword">return</span> pTable;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span> <span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">   <span class="built_in">test_heap_alloc</span>();</span><br><span class="line">    <span class="comment">// æ‰§è¡Œä¸Šè¿°ä»£ç ä¹‹åå†å»ä¸‹è¾¹è¿™å¥ç”³è¯·å †å†…å­˜ä¼šå¥”æºƒã€‚</span></span><br><span class="line">    <span class="type">char</span>* p = <span class="keyword">new</span> <span class="built_in">char</span>(<span class="number">0</span>); <span class="comment">// ç”³è¯·ä¸€ä¸ªå­—èŠ‚ï¼Œå†…å®¹åˆå§‹åŒ–ä¸º0</span></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä»¥ä¸‹ä¸º vld ç”Ÿæˆçš„æ³„æ¼æ—¥å¿—ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">WARNING: Visual Leak Detector detected memory leaks!</span><br><span class="line">---------- Block 1 at 0x010AAC68: 4 bytes ----------</span><br><span class="line">  Leak Hash: 0x03729B3D, Count: 1, Total 4 bytes</span><br><span class="line">  Call Stack (TID 33760):</span><br><span class="line">    ucrtbase.dll!malloc()</span><br><span class="line">    d:\agent\_work\3\s\src\vctools\crt\vcstartup\src\heap\new_scalar.cpp (35): vldforptr.exe!operator new() + 0x8 bytes</span><br><span class="line">    d:\code_source\c++\vs2019\vldforptr\vldforptr.cpp (45): vldforptr.exe!main() + 0x7 bytes</span><br><span class="line">    KERNEL32.DLL!BaseThreadInitThunk() + 0x19 bytes</span><br><span class="line">    ntdll.dll!RtlGetAppContainerNamedObjectPath() + 0x11E bytes</span><br><span class="line">    ntdll.dll!RtlGetAppContainerNamedObjectPath() + 0xEE bytes</span><br><span class="line">  Data:</span><br><span class="line">    00 00 00 00                                                  ........ ........</span><br></pre></td></tr></table></figure><p><mark style="background:green;border-radius:10px;color:white;border:none">è§£å†³æ–¹æ¡ˆï¼š</mark></p><p>è°ƒç”¨ <code>delete</code> é‡Šæ”¾ <code>new</code> å‡ºæ¥çš„å†…å­˜ã€‚</p><ol><li><p>é—®é¢˜ï¼šä¸ç¡®å®šå˜é‡ä»€ä¹ˆæ—¶å€™ä½¿ç”¨å®Œçš„ï¼Œå¦‚ä½•é‡Šæ”¾ï¼Ÿ</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä½¿ç”¨æ™ºèƒ½æŒ‡é’ˆ</span></span><br><span class="line"><span class="type">char</span> *ch = <span class="keyword">new</span> <span class="type">char</span>[<span class="number">256</span>];</span><br><span class="line"><span class="function">std::shared_ptr&lt;<span class="type">char</span>&gt; <span class="title">spCh</span><span class="params">(ch)</span></span>;</span><br></pre></td></tr></table></figure></li></ol><h3 id="strdup-å†…å­˜æ³„æ¼"><a href="#strdup-å†…å­˜æ³„æ¼" class="headerlink" title="# strdup å†…å­˜æ³„æ¼"></a># <code>strdup</code> å†…å­˜æ³„æ¼</h3><p><code>strdup</code>å‡½æ•°è¯´æ˜ï¼š</p><p>åŠŸèƒ½ï¼šå°†å­—ç¬¦ä¸²æ‹·è´åˆ°æ–°å»ºçš„ä½ç½®å¤„</p><p>è¿”å›å€¼ ï¼šè¿”å›ä¸€ä¸ªæŒ‡å‘æ–°å­—ç¬¦ä¸²çš„æŒ‡é’ˆï¼Œè¯¥å­—ç¬¦ä¸²æ˜¯å­—ç¬¦ä¸²sçš„å‰¯æœ¬ï¼Œå¦‚æœåˆ†é…ç©ºé—´å¤±è´¥ï¼Œåˆ™è¿”å›NULLå€¼ã€‚æ–°å­—ç¬¦ä¸²çš„å†…å­˜ç”±strdupå‡½æ•°åŸå‹å†…éƒ¨çš„mallocï¼ˆï¼‰è·å¾—ï¼Œéœ€ç”¨freeï¼ˆï¼‰é‡Šæ”¾ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ntdll.dll!RtlAllocateHeap()</span><br><span class="line">minkernel\crts\ucrt\src\appcrt\heap\malloc_base.cpp (34): XXX.dll!_malloc_base() + 0xF bytes</span><br><span class="line">XXX.dll!BUF_strndup() + 0x8A bytes</span><br></pre></td></tr></table></figure><p>æŠŠè¿”å›å†…å­˜åœ°å€çš„é‡Šæ”¾æƒäº¤ç»™äº†åˆ«çš„å˜é‡ï¼Œè¿™å°±å¾ˆå®¹æ˜“å¿˜è®°é‡Šæ”¾ï¼Œæ‰€ä»¥ <code>strdup</code> è¿™ä¸ªå‡½æ•°ä¹Ÿå¾ˆå®¹æ˜“é€ æˆå†…å­˜æ³„æ¼ã€‚</p><h1 id="æ•´ç†"><a href="#æ•´ç†" class="headerlink" title="æ•´ç†"></a>æ•´ç†</h1><h2 id="malloc-base"><a href="#malloc-base" class="headerlink" title="# _malloc_base"></a># <code>_malloc_base</code></h2><p><code>_malloc_base</code> å°±æ˜¯ç¼–è¯‘å™¨ç¼–è¯‘ä¹‹åçš„ <code>malloc</code>ã€‚</p><p>æŸ¥çœ‹vldçš„logå¯ä»¥çœ‹åˆ°ï¼Œå †æ ˆæ˜¾ç¤ºçš„ <code>_malloc_base</code> æ‰€åœ¨çš„æ–‡ä»¶å¤¹ä¸º <code>minkernel\crts\ucrt\src\appcrt\heap\malloc_base.cpp</code>ï¼Œè¿™ä¸ªæ–‡ä»¶å°±æ˜¯ <code>malloc</code> å£°æ˜å’Œå®šä¹‰çš„æ–‡ä»¶ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">é¢†å¯¼æ‚¨å¥½ï¼</span><br><span class="line">ä»¥ä¸‹å†…å®¹ä¸ºæœ¬æ¬¡ç»©æ•ˆæœŸé—´æˆ‘çš„å·¥ä½œæ¦‚è¿°ä»¥åŠè‡ªæˆ‘è¯„ä»·ã€‚</span><br><span class="line"></span><br><span class="line">æœ¬æ¬¡ç»©æ•ˆæœŸé—´ï¼Œæˆ‘çš„ä¸»è¦å·¥ä½œå†…å®¹é›†ä¸­åœ¨é›¶ä¿¡ä»»å›½ä¿¡ç‰ˆæœ¬å’Œå¤©æ“é›¶ä¿¡ä»»æ’ä»¶éƒ¨åˆ†ï¼ŒåŒæ—¶ä¹Ÿè´Ÿè´£äº†éƒ¨åˆ†å·¥è¡Œã€æ ‡æ¿çš„éœ€æ±‚å¼€å‘ï¼ˆSPAã€å¼‚å¸¸å‘Šè­¦ã€å‘½ä»¤è¡Œç™»å½•ç­‰ï¼‰ã€‚é›¶ä¿¡ä»»å›½ä¿¡ç‰ˆæœ¬å…±è®¡å‘å¸ƒç‰ˆæœ¬ä¸¤æ¬¡ï¼Œå‡åœ¨å‘å¸ƒç‰ˆæœ¬ä¹‹å‰å®Œæˆäº†éœ€æ±‚çš„å¼€å‘å’Œbugçš„ä¿®å¤ï¼Œæ¶‰åŠçš„éœ€æ±‚åå¤šé¡¹ï¼Œéœ€æ±‚ææµ‹å‡é€šè¿‡ï¼Œåœ¨å®Œæˆéœ€æ±‚çš„åŒæ—¶ï¼Œæ•´ç†ç¼–å†™äº†ç›¸åº”çš„æŠ€æœ¯å¼€å‘æ–‡æ¡£åå¤šç¯‡ï¼ŒåŒæ—¶ä¹Ÿè¡¥å……äº†é›¶ä¿¡ä»»å®¢æˆ·ç«¯éƒ¨åˆ†é…ç½®æ–‡ä»¶çš„è¯´æ˜æ–‡æ¡£ã€‚å¼€å‘åŒæ—¶ï¼Œé’ˆå¯¹å›½ä¿¡é›¶ä¿¡ä»»ç‰ˆæœ¬çš„å‡çº§æ•…éšœé—®é¢˜ï¼ˆå‡çº§å¤±è´¥ï¼Œå‡çº§æ£€æµ‹é—®é¢˜ï¼‰ï¼Œä¼˜åŒ–äº†è¯¥éƒ¨åˆ†çš„é€»è¾‘ï¼Œå¯¹æ•´ä¸ªå®¢æˆ·ç«¯çš„æ— é€»è¾‘ä»£ç å’Œæ—¥å¿—éƒ¨åˆ†è¿›è¡Œäº†ä¼˜åŒ–ï¼Œä»¥ä¾¿äºåç»­å¿«é€Ÿå®šä½å’Œåˆ†æé—®é¢˜ï¼Œå›½ä¿¡å‘å¸ƒç‰ˆæœ¬æœŸé—´ï¼Œä¸ºä¿è¯å‡ºåŒ…é¡ºåˆ©ï¼Œè§£å†³ä¸´æ—¶å‡ºç°çš„é—®é¢˜ï¼Œä¸å›¢é˜Ÿä¸€èµ·è§£å†³é—®é¢˜å¹¶å®Œæˆç‰ˆæœ¬å‘å¸ƒçš„ä»»åŠ¡ï¼›é›¶ä¿¡ä»»æ’ä»¶éƒ¨åˆ†ï¼Œæ’ä»¶çš„å¼€å‘è®©æˆ‘å­¦ä¹ åˆ°äº†è¾ƒå¤šæ¡†æ¶æ–¹é¢çš„çŸ¥è¯†ï¼Œäº†è§£äº†æ’ä»¶çš„å¼€å‘ä»¥åŠå›¢é˜Ÿè”è°ƒçš„è¿‡ç¨‹ï¼Œé›¶ä¿¡ä»»æ’ä»¶çš„å¼€å‘åœ¨å›¢é˜Ÿå¸®åŠ©ä¸‹å¼€å‘è¾ƒä¸ºé¡ºåˆ©ï¼Œå¹¶ä¸”æŒ‰æ—¶ææµ‹ï¼Œä¸”å®Œæˆåº¦è¾ƒé«˜ï¼Œæ•…éšœéƒ¨åˆ†ç›¸å¯¹è¾ƒå°‘ï¼Œè°ƒæ•´éƒ¨åˆ†åŸºæœ¬ä¸ºä¸šåŠ¡æ–¹é¢çš„é€»è¾‘è°ƒæ•´ã€‚å·¥è¡Œå’Œæ ‡æ¿çš„éœ€æ±‚ä¹Ÿæ˜¯åœ¨è®¡åˆ’å†…å®Œæˆäº†éœ€æ±‚çš„å¼€å‘å¹¶ææµ‹æˆåŠŸï¼Œæœ¬æ¬¡ç»©æ•ˆæœŸé—´ï¼Œå·¥ä½œå……å®ï¼Œå¦‚æœŸå®Œæˆäº†å„é¡¹éœ€æ±‚å¼€å‘ã€‚ä¸è¶³å°±æ˜¯å¤šä¸ªéœ€æ±‚çš„å¼€å‘å’Œææµ‹è¿‡ç¨‹ç›¸å¯¹è¾ƒæ…¢ï¼Œç”±äºç¯å¢ƒï¼ˆtacï¼‰é—®é¢˜ï¼Œåœ¨å¼€å‘è‡ªæµ‹å’Œææµ‹è¿‡ç¨‹ä¸­å‡ºç°äº†æ•ˆæœä¸ä¸€è‡´çš„æƒ…å†µï¼Œåœ¨ä»¥åå¼€å‘ä¸­éœ€è¦æ³¨æ„è¯¥æ–¹é¢é—®é¢˜å¯¹å¼€å‘ææµ‹çš„å½±å“ï¼Œææµ‹å‰å°½é‡ä¿è¯è‡ªæµ‹å®Œæ•´ï¼Œéœ€æ±‚å®Œå–„ã€‚</span><br><span class="line"></span><br><span class="line">ä»¥ä¸Šå°±æ˜¯æœ¬æœŸè‡ªæˆ‘è¯„ä»·ã€‚</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> OS </category>
          
          <category> Windows </category>
          
          <category> å†…å­˜æ³„æ¼ </category>
          
          <category> å®æˆ˜ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å†…å­˜æ³„æ¼ </tag>
            
            <tag> å®æˆ˜ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>windbg å®šä½å†…å­˜æ³„æ¼</title>
      <link href="/OS/Windows/%E5%86%85%E5%AD%98%E6%B3%84%E6%BC%8F/WinDbg%E5%AE%9A%E4%BD%8D%E5%86%85%E5%AD%98%E6%B3%84%E6%BC%8F/"/>
      <url>/OS/Windows/%E5%86%85%E5%AD%98%E6%B3%84%E6%BC%8F/WinDbg%E5%AE%9A%E4%BD%8D%E5%86%85%E5%AD%98%E6%B3%84%E6%BC%8F/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æ¦‚è¿°ï¼šä½¿ç”¨ Windbg å®šä½å†…å­˜æ³„æ¼</p></blockquote><p>[toc]</p><h1 id="windbg-å®šä½å†…å­˜æ³„æ¼"><a href="#windbg-å®šä½å†…å­˜æ³„æ¼" class="headerlink" title="windbg å®šä½å†…å­˜æ³„æ¼"></a>windbg å®šä½å†…å­˜æ³„æ¼</h1><p>ä¸»è¦ä½¿ç”¨ <code>!heap</code> å‘½ä»¤</p><p>ä½¿ç”¨Windbgæ£€æµ‹Windowsç¨‹åºå†…å­˜æ³„æ¼çš„æ­¥éª¤å¦‚ä¸‹ï¼š</p><ol><li>å¯åŠ¨ç¨‹åºï¼šä½¿ç”¨Windbgå¯åŠ¨éœ€è¦æ£€æµ‹å†…å­˜æ³„æ¼çš„ç¨‹åºï¼Œå¯ä»¥é€šè¿‡åœ¨Windbgä¸­é€‰æ‹©â€œæ–‡ä»¶â€-&gt;â€œæ‰“å¼€ç¨‹åºâ€æ¥æ‰“å¼€ç¨‹åºã€‚</li><li>è®¾ç½®ç¬¦å·è·¯å¾„ï¼šåœ¨Windbgä¸­ï¼Œå¯ä»¥é€šè¿‡è®¾ç½®ç¬¦å·è·¯å¾„æ¥åŠ è½½ç¨‹åºçš„ç¬¦å·ä¿¡æ¯ï¼Œæ–¹ä¾¿è°ƒè¯•ã€‚å¯ä»¥é€šè¿‡åœ¨Windbgä¸­è¾“å…¥â€œ.sympathâ€å‘½ä»¤æ¥è®¾ç½®ç¬¦å·è·¯å¾„ï¼Œä¾‹å¦‚ï¼š</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.sympath+ C:\Symbols</span><br></pre></td></tr></table></figure><p>å…¶ä¸­ï¼ŒC:\Symbolsæ˜¯ç¬¦å·æ–‡ä»¶çš„è·¯å¾„ã€‚</p><ol><li>å¯ç”¨gflagsï¼šgflagsæ˜¯Windowsæä¾›çš„ä¸€ä¸ªå·¥å…·ï¼Œå¯ä»¥ç”¨æ¥è®¾ç½®ç¨‹åºçš„è°ƒè¯•æ ‡å¿—ã€‚å¯ä»¥é€šè¿‡åœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥ä»¥ä¸‹å‘½ä»¤æ¥å¯ç”¨gflagsï¼š</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gflags /i your_program.exe +ust</span><br></pre></td></tr></table></figure><p>å…¶ä¸­ï¼Œyour_program.exeæ˜¯éœ€è¦æ£€æµ‹å†…å­˜æ³„æ¼çš„ç¨‹åºçš„åç§°ã€‚</p><ol><li>è¿è¡Œç¨‹åºï¼šåœ¨Windbgä¸­ï¼Œå¯ä»¥é€šè¿‡è¾“å…¥â€œgâ€å‘½ä»¤æ¥è¿è¡Œç¨‹åºã€‚</li><li>æ£€æµ‹å†…å­˜æ³„æ¼ï¼šåœ¨ç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­ï¼Œå¯ä»¥é€šè¿‡è¾“å…¥â€œ!heap -sâ€å‘½ä»¤æ¥æŸ¥çœ‹ç¨‹åºçš„å †å†…å­˜ä½¿ç”¨æƒ…å†µï¼Œä¾‹å¦‚ï¼š</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">!heap -s</span><br></pre></td></tr></table></figure><p>è¯¥å‘½ä»¤ä¼šè¾“å‡ºç¨‹åºçš„å †å†…å­˜ä½¿ç”¨æƒ…å†µï¼ŒåŒ…æ‹¬å·²åˆ†é…çš„å†…å­˜å—æ•°é‡ã€å·²é‡Šæ”¾çš„å†…å­˜å—æ•°é‡ã€å·²åˆ†é…çš„å†…å­˜å—æ€»å¤§å°ã€å·²é‡Šæ”¾çš„å†…å­˜å—æ€»å¤§å°ç­‰ä¿¡æ¯ã€‚</p><ol><li>è¾“å‡ºå†…å­˜æ³„æ¼ä¿¡æ¯ï¼šåœ¨ç¨‹åºè¿è¡Œç»“æŸåï¼Œå¯ä»¥é€šè¿‡è¾“å…¥â€œ!heap -stat -h handleâ€å‘½ä»¤æ¥è¾“å‡ºå†…å­˜æ³„æ¼ä¿¡æ¯ï¼Œä¾‹å¦‚ï¼š</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">!heap -stat -h handle</span><br></pre></td></tr></table></figure><p>è¯¥å‘½ä»¤ä¼šè¾“å‡ºç¨‹åºä¸­æ‰€æœ‰æœªé‡Šæ”¾çš„å†…å­˜å—çš„ä¿¡æ¯ï¼ŒåŒ…æ‹¬å†…å­˜å—çš„å¤§å°ã€åœ°å€ã€åˆ†é…ä½ç½®ç­‰ä¿¡æ¯ã€‚</p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä½¿ç”¨Windbgæ£€æµ‹å†…å­˜æ³„æ¼éœ€è¦ä¸€å®šçš„è°ƒè¯•ç»éªŒå’ŒæŠ€å·§ï¼Œå¯¹ç¨‹åºçš„æ€§èƒ½ä¹Ÿä¼šäº§ç”Ÿä¸€å®šçš„å½±å“ã€‚å› æ­¤ï¼Œåœ¨æ­£å¼å‘å¸ƒç¨‹åºä¹‹å‰ï¼Œåº”è¯¥å…³é—­gflagsåŠŸèƒ½ã€‚å¯ä»¥é€šè¿‡åœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥ä»¥ä¸‹å‘½ä»¤æ¥å…³é—­gflagsï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gflags /i your_program.exe -ust</span><br></pre></td></tr></table></figure><p>å…¶ä¸­ï¼Œyour_program.exeæ˜¯éœ€è¦å…³é—­gflagsåŠŸèƒ½çš„ç¨‹åºçš„åç§°ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> OS </category>
          
          <category> Windows </category>
          
          <category> å†…å­˜æ³„æ¼ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> windbg </tag>
            
            <tag> å†…å­˜æ³„æ¼ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€ä¸æ•¢è¯´ä¸€æ–‡ææ‡‚ã€‘VLD å†…å­˜æ³„æ¼å®šä½</title>
      <link href="/OS/Windows/%E5%86%85%E5%AD%98%E6%B3%84%E6%BC%8F/vld%E5%86%85%E5%AD%98%E6%B3%84%E6%BC%8F/"/>
      <url>/OS/Windows/%E5%86%85%E5%AD%98%E6%B3%84%E6%BC%8F/vld%E5%86%85%E5%AD%98%E6%B3%84%E6%BC%8F/</url>
      
        <content type="html"><![CDATA[<p>[toc]</p><p>åŠå­¦åŠç»ƒï¼Œå®šä½äº†ä¸€æŠŠå†…å­˜æ³„æ¼çš„é—®é¢˜ã€‚</p><p>å†…å­˜æ³„æ¼å·¥å…·çš„æƒ³å¿…å¤§å®¶éƒ½çŸ¥é“äº†ï¼Œä¸»è¦ä½¿ç”¨ VLD è¿™ä¸ªå·¥å…·ã€‚</p><h1 id="VLD-ä¸‹è½½å®‰è£…å’Œä½¿ç”¨"><a href="#VLD-ä¸‹è½½å®‰è£…å’Œä½¿ç”¨" class="headerlink" title="VLD ä¸‹è½½å®‰è£…å’Œä½¿ç”¨"></a>VLD ä¸‹è½½å®‰è£…å’Œä½¿ç”¨</h1><h2 id="1-ä¸‹è½½å’Œå®‰è£…"><a href="#1-ä¸‹è½½å’Œå®‰è£…" class="headerlink" title="1. ä¸‹è½½å’Œå®‰è£…"></a>1. ä¸‹è½½å’Œå®‰è£…</h2><p><a href="https://kinddragon.github.io/vld/">Visual Leak Detector | Enhanced Memory Leak Detection for Visual C++</a></p><p>ç‚¹å‡»ä¸Šæ–¹é“¾æ¥ä¸‹è½½å’Œå®‰è£… vld å·¥å…·ï¼Œè®°ä½å®‰è£…çš„ä½ç½®ï¼Œåç»­æœ‰å¾ˆå¤šæ–‡ä»¶ä¼šä½¿ç”¨åˆ°ï¼Œéœ€è¦æ‹·è´ç§»åŠ¨åˆ°ç›¸åº”çš„æ–‡ä»¶ä¸­ã€‚</p><h2 id="2-ä½¿ç”¨"><a href="#2-ä½¿ç”¨" class="headerlink" title="2. ä½¿ç”¨"></a>2. ä½¿ç”¨</h2><ol><li>å®‰è£…å®Œæˆåï¼Œæ‰¾åˆ°å®‰è£…æ‰€åœ¨çš„æ–‡ä»¶å¤¹</li><li>æ‰¾åˆ° vs studio ä¸­ <mark>æ ‡å‡†å¤´æ–‡æ–‡ä»¶</mark> æ‰€åœ¨çš„æ–‡ä»¶å¤¹ï¼Œä¸€èˆ¬ä¼šåœ¨å¯¹åº”çš„ <code>windows kits</code> æ‰€åœ¨çš„æ–‡ä»¶å¤¹ä¸­æ‰¾åˆ°ã€‚å¦‚ï¼š  <code>C:\Program Files (x86)\Windows Kits\10\Include\10.0.18362.0\ucrt</code>ã€‚æ‹·è´å®‰è£…ç›®å½•ä¸‹ <code>include</code> ä¸­çš„ å¤´æ–‡ä»¶åˆ°è¯¥ç›®å½•ï¼Œæ³¨æ„æœ‰å‡ ä¸ª <code>kits</code> ç¯å¢ƒå°±å°½é‡æ‹·è´å‡ ä¸ªï¼Œä¸‡ä¸€ç”¨åˆ°å‘¢</li><li>æ‰¾åˆ° vs studio ä¸­ <mark>åº“æ–‡ä»¶</mark> æ‰€åœ¨çš„æ–‡ä»¶å¤¹ï¼Œä¸€èˆ¬ä¼šåœ¨å¯¹åº”çš„ <code>windows kits</code> æ‰€åœ¨çš„æ–‡ä»¶å¤¹ä¸­æ‰¾åˆ°ã€‚å¦‚ï¼š  <code>C:\Program Files (x86)\Windows Kits\10\Lib\(kits ç‰ˆæœ¬å·)\um\</code>ã€‚æ‹·è´å®‰è£…ç›®å½•ä¸‹ <code>lib</code> ç›®å½•ä¸‹å¯¹åº”ä½æ•°çš„ <code>lib</code> æ–‡ä»¶åˆ° <code>kits</code> å¯¹åº”çš„ <code>um\x64</code>æˆ–<code>um\x86</code>  æ–‡ä»¶å¤¹ä¸­ã€‚</li></ol><div class="tag-plugin image"><div class="image-bg"><img src="vld%E5%86%85%E5%AD%98%E6%B3%84%E6%BC%8F/vld-source.png"/></div></div><p>åˆ°è¿™ä¸€æ­¥ï¼Œåªè¦åœ¨ç¨‹åºä¸­å¼•å…¥ <code>vld</code> å¤´æ–‡ä»¶å°±å¯ä»¥æ­£å¸¸ä½¿ç”¨äº†ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vld.h&gt;</span></span></span><br></pre></td></tr></table></figure><h2 id="3-åœ¨-vs2015-ä»¥ä¸Šçš„ç‰ˆæœ¬ä¸­ä½¿ç”¨"><a href="#3-åœ¨-vs2015-ä»¥ä¸Šçš„ç‰ˆæœ¬ä¸­ä½¿ç”¨" class="headerlink" title="3. åœ¨ vs2015 ä»¥ä¸Šçš„ç‰ˆæœ¬ä¸­ä½¿ç”¨"></a>3. åœ¨ vs2015 ä»¥ä¸Šçš„ç‰ˆæœ¬ä¸­ä½¿ç”¨</h2><blockquote><p>å®‰è£…çš„æ—¶å€™å°±å¯ä»¥çœ‹åˆ° vld åªæ”¯æŒåˆ° vs2015ã€‚æ‰€ä»¥åœ¨ vs æ›´é«˜çš„ç‰ˆæœ¬ä¸­ä½¿ç”¨æ—¶ï¼Œéœ€è¦ä¸€äº›é¢å¤–çš„æ“ä½œã€‚</p><p>å½±å“ï¼šåœ¨vsé«˜ç‰ˆæœ¬ä¸­ä½¿ç”¨æ—¶ï¼Œè™½ç„¶èƒ½å®šä½æ³„æ¼é—®é¢˜ï¼Œä½†æ˜¯ä¸æ˜¾ç¤ºæ–‡ä»¶åå’Œè¡Œå·ã€‚</p></blockquote><p>è§£å†³åŠæ³•ï¼š</p><p>åœ¨ vs å·¥ç¨‹è®¾ç½®ä¸­æŒ‰ä¸‹å›¾è®¾ç½®ï¼š</p><div class="tag-plugin image"><div class="image-bg"><img src="vld%E5%86%85%E5%AD%98%E6%B3%84%E6%BC%8F/vs-vld-config.png"/></div></div><h2 id="4-release-æ¨¡å¼ä¸‹è¿›è¡Œå†…å­˜æ³„æ¼æ£€æµ‹"><a href="#4-release-æ¨¡å¼ä¸‹è¿›è¡Œå†…å­˜æ³„æ¼æ£€æµ‹" class="headerlink" title="4. release æ¨¡å¼ä¸‹è¿›è¡Œå†…å­˜æ³„æ¼æ£€æµ‹"></a>4. release æ¨¡å¼ä¸‹è¿›è¡Œå†…å­˜æ³„æ¼æ£€æµ‹</h2><p>åœ¨ Debug æ¨¡å¼ä¸‹ï¼Œç›´æ¥åœ¨å·¥ç¨‹ä¸­æºæ–‡ä»¶ä¸­ä»»æ„ä½ç½®å¼•å…¥ <code>&lt;vld.h&gt;</code> å³å¯ï¼Œç¼–è¯‘ä¹‹åçš„å¯æ‰§è¡Œæ–‡ä»¶å°±å¸¦æœ‰æ³„æ¼æ£€æµ‹çš„åŠŸèƒ½ã€‚</p><p>ä½†æ˜¯åœ¨ Release æ¨¡å¼ä¸‹åˆ™éœ€è¦åšä¸€ä¸‹é¢å¤–çš„å¤„ç†ã€‚</p><ol><li><p>åŒ Debug ç‰ˆæœ¬åœ¨ VS ä¸­ä¸€æ ·é…ç½®å¥½ VLD çš„ç›¸å…³ä¿¡æ¯</p></li><li><p>æ‹·è´ VLD å®‰è£…ç›®å½•ä¸‹ <code>bin\win32</code> ç›®å½•ä¸‹æ‰€æœ‰çš„æ–‡ä»¶å’Œ <code>vld.ini</code> åˆ°å·¥ç¨‹ç›®æ ‡è·¯å¾„ä¸‹(å¯æ‰§è¡Œæ–‡ä»¶çš„ç›®å½•)ã€‚</p></li><li><p>åœ¨ç¨‹åºå…¥å£å¤„çš„ <code>cpp</code> æ–‡ä»¶ä¸­ï¼Œå®šä¹‰å¼ºåˆ¶æ£€æµ‹å®å’ŒåŒ…å« <code>vld</code> å¤´æ–‡ä»¶</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> VLD_FORCE_ENABLE</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vld.h&gt;</span></span></span><br></pre></td></tr></table></figure></li><li><p>åœ¨ç¨‹åºå¯åŠ¨å’Œé€€å‡ºæ—¶ï¼Œåˆ†åˆ«å¢åŠ ä»¥ä¸‹å‡½æ•°è°ƒç”¨</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    ...</span><br><span class="line">    <span class="built_in">VLDGlobalEnable</span>();</span><br><span class="line">    <span class="built_in">VLDReportLeaks</span>();</span><br><span class="line">    <span class="comment">//some code...</span></span><br><span class="line">    <span class="built_in">VLDGlobalDisable</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>å¢åŠ æ£€æµ‹æ¨¡å—ï¼ˆå¦‚åŠ è½½çš„ <code>dll</code> æ–‡ä»¶ï¼‰</p><blockquote><p>ä»¥ä¸Šé…ç½®åï¼Œé»˜è®¤æƒ…å†µä¸‹åªä¼šæ£€æµ‹ä¸»çº¿ç¨‹çš„æ¨¡å—ï¼Œè¦æƒ³å¢åŠ å…¶ä»–æ¨¡å—çš„å†…å­˜æ³„æ¼æ£€æµ‹ï¼Œéœ€è¦é…ç½® <code>vld.ini</code> é…ç½®æ–‡ä»¶ä¸­çš„ <code>ForceIncludeModules</code> é…ç½®é¡¹ã€‚åœ¨è¯¥é…ç½®é¡¹åå¢åŠ éœ€è¦æ£€æµ‹çš„æ¨¡å—ã€‚å¦‚ï¼š<code>ForceIncludeModules=demo1.dll;demo2.dll</code></p></blockquote></li><li><p>é…ç½®è¾“å‡ºæ–¹å¼</p><p>åŒæ ·è¿˜æ˜¯é…ç½®æ–‡ä»¶ä¸­ä¿®æ”¹ã€‚è®¾ç½®é…ç½®æ–‡ä»¶ä¸­ <code>ReportTo</code> çš„å€¼å³å¯ï¼š</p><ul><li>debuggerï¼šæ§åˆ¶å°</li><li>file: æ–‡ä»¶ ï¼ˆé»˜è®¤ä¼šè¾“å‡ºåœ¨è¿è¡Œç¨‹åºçš„ç›®å½•ä¸‹ï¼Œä¹Ÿå¯èƒ½ä¼šè¾“å‡ºåœ¨ <code>syswow64</code> è¿™ä¸ªç³»ç»Ÿç›®å½•ä¸‹ï¼Œ<kbd>Win+R</kbd> è¾“å…¥ <code>syswow64</code>å³å¯æ‰“å¼€è¿™ä¸ªç›®å½•ã€‚é»˜è®¤æ–‡ä»¶åï¼š<code>memory_leak_report.txt</code>ï¼‰</li><li>bothï¼šæ§åˆ¶å°å’Œæ–‡ä»¶</li></ul><blockquote><p>å…³äº <code>VLD</code> çš„é…ç½®æ–‡ä»¶ï¼š</p><p>  <code>Vld</code> çš„åº“ä¼šæ£€æŸ¥ç¨‹åºæ‰€è¿è¡Œçš„å½“å‰ç›®å½•æ˜¯å¦å­˜åœ¨ <code>vld.ini</code> çš„é…ç½®æ–‡ä»¶ï¼Œå¦‚æœæœ‰ï¼Œåˆ™åŠ è½½é‡Œå¤´çš„é…ç½®è¿›è¡Œå†…å­˜æ£€æµ‹è¿è¡Œï¼Œå¦‚æœæ²¡æœ‰å–é»˜è®¤çš„é…ç½®å‚æ•°è¿è¡Œï¼Œæˆ‘ä»¬å¯ä»¥æ‰‹åŠ¨å°† <code>vld.ini</code> çš„æ–‡ä»¶æ‹·è´åˆ°ç¨‹åºçš„è¿è¡Œç›®å½•ä¸­å³å¯ã€‚</p><p>å…³äº <code>vld.ini</code> çš„å‡ ä¸ªæ³¨æ„çš„å‚æ•°ï¼š</p><ol><li><code>VLD = on</code> æ€»å¼€å…³ï¼Œæ˜¯å¦å¯ç”¨ <code>VLD</code> åŠŸèƒ½ï¼Œé»˜è®¤ä¸º <code>yes</code> </li><li><code>MaxDataDump = 256</code> ç”¨æ¥æ˜¾ç¤ºæ£€æµ‹åˆ°çš„å†…åœ¨æ³„éœ²çš„å—çš„åœ°å€å¤§å°ï¼Œé»˜è®¤256ï¼Œå…¶å®å°±æ˜¯æ˜¾ç¤ºå¤šå°‘ä¸ªbyteçš„å†…å®¹ã€‚</li><li><code>MaxTraceFrames = 64</code>   è®¾ç½® <code>VLD</code> æ£€æµ‹åˆ°å †æ ˆçš„æœ€å¤§å±‚æï¼Œä¹Ÿå°±æ˜¯frameçš„æ·±åº¦</li><li><code>ReportFile = xxx</code>è®¾ç½® <code>VLD</code> ç”ŸæˆæŠ¥å‘Šçš„ä½ç½®å’ŒæŠ¥å‘Šçš„æ–‡ä»¶åï¼Œé»˜è®¤ä¸ºï¼š<code>.\memory_leak_report.txt</code> ï¼Œç¨‹åºå½“å‰è¿è¡Œç›®å½•ä¸­ã€‚</li><li><code>ReportTo = debugger</code>  è®¾ç½® <code>VLD</code> ç”ŸæˆæŠ¥å‘Šçš„æ–¹å¼ï¼Œdebuggerä¸ºåœ¨æ§åˆ¶å°è¾“å‡º <code>VLD</code> çš„æŠ¥å‘Šä¿¡æ¯ï¼Œfileåœ¨æŒ‡å®šç›®å½•ä¸‹ç”ŸæˆæŠ¥å‘Šæ–‡ä»¶ï¼Œbothä¸ºå³è¾“å‡ºä¹Ÿç”ŸæˆæŠ¥å‘Šã€‚å¦‚æœä½ çš„ç¨‹åºä¸ºå¸¦çª—ä½“çš„ç¨‹åºï¼Œéœ€è¦è®¾ç½®ä¸ºfileæˆ–both.</li></ol></blockquote></li></ol><h1 id="é—®é¢˜1ï¼šä¸æ˜¾ç¤ºæ–‡ä»¶åå’Œè¡Œå·"><a href="#é—®é¢˜1ï¼šä¸æ˜¾ç¤ºæ–‡ä»¶åå’Œè¡Œå·" class="headerlink" title="é—®é¢˜1ï¼šä¸æ˜¾ç¤ºæ–‡ä»¶åå’Œè¡Œå·"></a>é—®é¢˜1ï¼šä¸æ˜¾ç¤ºæ–‡ä»¶åå’Œè¡Œå·</h1><p>ç¼ºå°‘ <code>pdb</code> æ–‡ä»¶</p><p>å¦‚æœç¨‹åºè¿è¡Œä¹‹åç”Ÿæˆçš„ <code>memory_leak_report</code> ä¸­è¿˜æ˜¯ä¸æ˜¾ç¤ºè¡Œå·ï¼Œåˆ™è¯•è¯•æŠŠpdbæ–‡ä»¶æ”¾åœ¨ç¨‹åºçš„è¿è¡Œç›®å½•è¯•è¯•ã€‚</p><h1 id="å‚è€ƒæ–‡ç« "><a href="#å‚è€ƒæ–‡ç« " class="headerlink" title="å‚è€ƒæ–‡ç« "></a>å‚è€ƒæ–‡ç« </h1><ol><li><p><a href="https://blog.csdn.net/qq_22108657/article/details/120884329">ã€VS2019ã€‘C&#x2F;C++å†…å­˜æ³„æ¼æ£€æµ‹å·¥å…·ï¼šVisual Leak Detectorè¶…è¯¦ç»†å®‰è£…æ•™ç¨‹ï¼ˆfor windowsï¼‰_æ‰§è¡Œxçš„åšå®¢-CSDNåšå®¢_vs2019å†…å­˜æ³„æ¼æ£€æµ‹</a></p></li><li><p><a href="https://blog.csdn.net/xiaomucgwlmx/article/details/87630671">ä½¿ç”¨VLDè¿›è¡Œå†…å­˜æ³„æ¼æ£€æµ‹(release + debug)_OH,CGWLMXUPçš„åšå®¢-CSDNåšå®¢_release vld</a></p></li></ol>]]></content>
      
      
      <categories>
          
          <category> OS </category>
          
          <category> Windows </category>
          
          <category> å†…å­˜æ³„æ¼ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C++ </tag>
            
            <tag> å†…å­˜æ³„æ¼ </tag>
            
            <tag> tools </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å…±äº«æ–‡ä»¶å¤¹</title>
      <link href="/OS/Windows/%E5%85%B1%E4%BA%AB%E6%96%87%E4%BB%B6%E5%A4%B9/"/>
      <url>/OS/Windows/%E5%85%B1%E4%BA%AB%E6%96%87%E4%BB%B6%E5%A4%B9/</url>
      
        <content type="html"><![CDATA[<p>æœ€è¿‘ç”±äºé¡¹ç›®éœ€æ±‚ï¼Œéœ€è¦ç¼–å†™ä¸€ä¸ªç›‘æ§æœ¬æœºå…±äº«æ–‡ä»¶å¤¹çš„å˜åŒ–çš„æ¨¡å—ï¼Œç»è¿‡æŸ¥è¯¢èµ„æ–™ï¼Œæ‰¾åˆ°å¹¶å®ç°äº†ä¸€ä¸ªè¾ƒä¸ºç¨³å®šçš„æ–¹å¼<br>é¡¹ç›®å®ç°æ˜¯ä½¿ç”¨Win32 C++çš„ï¼Œæµ‹è¯•å¹³å°æ˜¯Win 7 64å’ŒWin 10 64ï¼ŒXPæµ‹è¯•ä¹Ÿæ˜¯å¥½ä½¿çš„ã€‚ä¸‹é¢æ˜¯å…·ä½“å®ç°</p><p>é¦–å…ˆè¦è·å–å¹¶ç›‘æ§ç³»ç»Ÿå…±äº«æ–‡ä»¶å¤¹çš„è·¯å¾„ï¼Œç›¸å…³æ³¨å†Œè¡¨è·¯å¾„ä¸º HKEY_LOCAL_MACHINE\System\CurrentControlSet\Services\LanmanServer\Share ,ä»–çš„å€¼çš„æ ¼å¼ä¸ºå¦‚å›¾æ‰€ç¤ºï¼Œ</p><div class="tag-plugin image"><div class="image-bg"><img src="%E5%85%B1%E4%BA%AB%E6%96%87%E4%BB%B6%E5%A4%B9/20190527113742209.png"/></div></div><h1 id="C-è·å–å…±äº«æ–‡ä»¶å¤¹ç›®å½•"><a href="#C-è·å–å…±äº«æ–‡ä»¶å¤¹ç›®å½•" class="headerlink" title="C++ è·å–å…±äº«æ–‡ä»¶å¤¹ç›®å½•"></a>C++ è·å–å…±äº«æ–‡ä»¶å¤¹ç›®å½•</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">BOOL <span class="title">GetSharedFoldersList</span><span class="params">(map&lt;CString, HANDLE&gt; &amp;theList)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">BOOL bFlag = FALSE;</span><br><span class="line">HKEY hKey = <span class="literal">NULL</span>;</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">//æ¸…ç©ºåˆ—è¡¨</span></span><br><span class="line">theList.<span class="built_in">clear</span>();</span><br><span class="line"> </span><br><span class="line"><span class="comment">//HKEY_LOCAL_MACHINE\System\CurrentControlSet\Services\LanmanServer\Share</span></span><br><span class="line"><span class="comment">//é€šè¿‡æ³¨å†Œè¡¨è·å–å…±äº«æ–‡ä»¶å¤¹åˆ—è¡¨</span></span><br><span class="line">HKEY rootKey = REG_SHARE_KEY;</span><br><span class="line">CString szRegPath = REG_SHARE_PATH;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> ErrCode;</span><br><span class="line"><span class="keyword">if</span> (ERROR_SUCCESS != (ErrCode = <span class="built_in">RegOpenKeyEx</span>(rootKey, szRegPath, <span class="number">0</span>, KEY_READ | KEY_WOW64_64KEY, &amp;hKey)))</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">TCHAR szValue[MAX_VALUE_NAME] = &#123; <span class="number">0</span> &#125;;</span><br><span class="line">DWORD dwValueSize = MAX_VALUE_NAME;</span><br><span class="line"><span class="type">int</span> index = <span class="number">0</span>;</span><br><span class="line">DWORD dwBufferSize = <span class="number">255</span>;</span><br><span class="line">DWORD dwType;</span><br><span class="line">TCHAR *szValBuffer = <span class="literal">NULL</span>;</span><br><span class="line">DWORD dwSize;</span><br><span class="line"><span class="keyword">while</span> (ERROR_NO_MORE_ITEMS != <span class="built_in">RegEnumValue</span> (</span><br><span class="line">hKey, index, szValue, &amp;dwValueSize, <span class="literal">NULL</span>, &amp;dwType, <span class="literal">NULL</span>, &amp;dwBufferSize))</span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">//åˆ¤æ–­å€¼ç±»å‹</span></span><br><span class="line"><span class="keyword">switch</span>(dwType)</span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">//åªæ‰¾å¤šä¸ªä¸²çš„å€¼</span></span><br><span class="line"><span class="keyword">case</span> REG_MULTI_SZ:</span><br><span class="line">&#123;</span><br><span class="line">dwSize = dwBufferSize + <span class="number">1</span>;</span><br><span class="line">szValBuffer = <span class="keyword">new</span> TCHAR[dwSize];</span><br><span class="line"><span class="built_in">ZeroMemory</span>(szValBuffer, dwSize);</span><br><span class="line"><span class="keyword">if</span> (ERROR_SUCCESS != <span class="built_in">RegQueryValueEx</span>(hKey, szValue, <span class="number">0</span>, &amp;dwType, (LPBYTE)szValBuffer, &amp;dwBufferSize))</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> j = <span class="number">0</span>;</span><br><span class="line"> </span><br><span class="line">CString TmpValue;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;szValBuffer[i] != <span class="string">&#x27;\0&#x27;</span> ;i += j + <span class="number">1</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span> (j = <span class="number">0</span>;szValBuffer[i + j] != <span class="string">&#x27;\0&#x27;</span>;j ++)</span><br><span class="line">&#123;</span><br><span class="line">TmpValue += szValBuffer[i + j];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å¦‚æœæ‰¾åˆ°å…±äº«è·¯å¾„ï¼Œåˆ™ç›´æ¥æ”¾å…¥å®¹å™¨ï¼Œç„¶åè¿›è¡Œä¸‹ä¸€ä¸ªè·¯å¾„çš„æŸ¥æ‰¾</span></span><br><span class="line"><span class="keyword">if</span> (TmpValue.<span class="built_in">Find</span>(_T(<span class="string">&quot;Path=&quot;</span>)) == <span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">//m_vSharedList.push_back(TmpValue.Right(TmpValue.GetLength() - 5));</span></span><br><span class="line">CString Tmp = TmpValue.<span class="built_in">Right</span>(TmpValue.<span class="built_in">GetLength</span>() - <span class="number">5</span>);</span><br><span class="line">CString szTmp = Tmp;</span><br><span class="line">Tmp.<span class="built_in">MakeLower</span>();</span><br><span class="line"> </span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">TmpValue = _T(<span class="string">&quot;&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">delete</span> szValBuffer;</span><br><span class="line">szValBuffer = <span class="literal">NULL</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">//å…¶ä»–ç±»å‹è·³è¿‡</span></span><br><span class="line"><span class="keyword">default</span>:</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">dwValueSize = MAX_VALUE_NAME;</span><br><span class="line">dwBufferSize = <span class="number">255</span>;</span><br><span class="line">index ++;</span><br><span class="line">&#125;</span><br><span class="line">bFlag = TRUE;</span><br><span class="line">&#125;<span class="keyword">while</span>(FALSE);</span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> (hKey != <span class="literal">NULL</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">RegCloseKey</span>(hKey);</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">return</span> bFlag;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="C-ç›‘æ§å…±äº«æ³¨å†Œè¡¨å˜åŒ–"><a href="#C-ç›‘æ§å…±äº«æ³¨å†Œè¡¨å˜åŒ–" class="headerlink" title="C++ç›‘æ§å…±äº«æ³¨å†Œè¡¨å˜åŒ–"></a>C++ç›‘æ§å…±äº«æ³¨å†Œè¡¨å˜åŒ–</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç›‘æ§æ³¨å†Œè¡¨é¡¹ä»¥æ›´æ–°å…±äº«æ–‡ä»¶å¤¹åˆ—è¡¨</span></span><br><span class="line"><span class="function">DWORD WINAPI <span class="title">SharedMonitor::RefreshThread</span><span class="params">(LPVOID lpParam)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">SharedMonitor *pThis = (SharedMonitor *)lpParam;</span><br><span class="line"> </span><br><span class="line"><span class="comment">//åªç›‘æ§å€¼çš„æ”¹å˜</span></span><br><span class="line">DWORD  dwFilter = REG_NOTIFY_CHANGE_LAST_SET;</span><br><span class="line"> </span><br><span class="line">HKEY hKey;</span><br><span class="line">HKEY rootKey = REG_SHARE_KEY;</span><br><span class="line">CString szRegPath = REG_SHARE_PATH;</span><br><span class="line"> </span><br><span class="line"><span class="comment">//ç­‰å¾…10åˆ†é’Ÿ</span></span><br><span class="line"><span class="type">int</span> iWaitTime = <span class="number">10</span> * <span class="number">60</span> * <span class="number">1000</span>;</span><br><span class="line"><span class="keyword">while</span> (TRUE)</span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">//ç›‘æ§æ³¨å†Œè¡¨é¡¹æ”¹å˜</span></span><br><span class="line"><span class="comment">//Sleep(iWaitTime);</span></span><br><span class="line">HANDLE hEvent;</span><br><span class="line">BOOL bFlag = FALSE;</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (ERROR_SUCCESS != <span class="built_in">RegOpenKeyEx</span>(rootKey, szRegPath, <span class="number">0</span>, KEY_ALL_ACCESS | KEY_WOW64_64KEY, &amp;hKey))</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">MyDebugA</span> (<span class="string">&quot;RegMonitorThread--- RegOpenKeyEx ERR!&quot;</span>);</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> (<span class="literal">NULL</span> == (hEvent = <span class="built_in">CreateEvent</span>(<span class="literal">NULL</span>, TRUE, FALSE, <span class="literal">NULL</span>)))</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">MyDebugA</span> (<span class="string">&quot;CreateEvent ERR&quot;</span>);</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> (ERROR_SUCCESS != <span class="built_in">RegNotifyChangeKeyValue</span> (hKey, TRUE, dwFilter, hEvent, TRUE))</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">MyDebugA</span> (<span class="string">&quot;RegNotifyChangeKeyValue ERR&quot;</span>);</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> (WAIT_FAILED == <span class="built_in">WaitForSingleObject</span> (hEvent, INFINITE))</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">MyDebugA</span> (<span class="string">&quot;WaitForSingleObject ERR&quot;</span>);</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">bFlag = TRUE;</span><br><span class="line">&#125;<span class="keyword">while</span>(FALSE);</span><br><span class="line"></span><br><span class="line"><span class="built_in">RegCloseKey</span> (hKey);</span><br><span class="line"> </span><br><span class="line"><span class="built_in">CloseHandle</span> (hEvent);</span><br><span class="line"> </span><br><span class="line"><span class="comment">//å¦‚æœç›‘æ§å¤±è´¥ï¼Œåˆ™é‡æ–°å†æ¥</span></span><br><span class="line"><span class="keyword">if</span> (!bFlag)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">continue</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">//ç­‰å¾…ç³»ç»Ÿå°†æ³¨å†Œè¡¨æ¶ˆæ¯å‘æ”¾å®Œæ¯•ï¼Œå¦åˆ™æœ‰æ—¶å€™æ·»åŠ æˆ–åˆ é™¤çš„æ³¨å†Œè¡¨é¡¹æ— æ³•è¢«æšä¸¾åˆ°</span></span><br><span class="line"><span class="built_in">Sleep</span>(<span class="number">200</span>);</span><br><span class="line"> </span><br><span class="line"><span class="comment">//è¿›è¡Œå…±äº«åˆ—è¡¨æšä¸¾å’Œæ¯”è¾ƒ</span></span><br><span class="line">map&lt;CString, HANDLE&gt; theNewList;</span><br><span class="line"><span class="comment">//è·å–æ–°åˆ—è¡¨</span></span><br><span class="line">pThis-&gt;<span class="built_in">GetSharedFoldersList</span>(theNewList);</span><br><span class="line">map&lt;CString, HANDLE&gt; &amp;theOldList = pThis-&gt;<span class="built_in">GetListInstance</span>();</span><br><span class="line"> </span><br><span class="line">BOOL bFindNew = FALSE;</span><br><span class="line"><span class="comment">//æ¯”è¾ƒä¸¤ä¸ªåˆ—è¡¨</span></span><br><span class="line"><span class="comment">//æ·»åŠ æ—§åˆ—è¡¨ä¸­æ²¡æœ‰çš„å…±äº«</span></span><br><span class="line"><span class="keyword">for</span> (map&lt;CString, HANDLE&gt;::iterator it = theNewList.<span class="built_in">begin</span>();</span><br><span class="line">it != theNewList.<span class="built_in">end</span>(); ++it)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (theOldList.<span class="built_in">find</span>(it-&gt;first) == theOldList.<span class="built_in">end</span>())</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">MyDebug</span>(_T(<span class="string">&quot;----------Find New Share----------&quot;</span>));</span><br><span class="line"><span class="built_in">MyDebug</span>(it-&gt;first);</span><br><span class="line">theOldList[it-&gt;first] = <span class="number">0</span>;</span><br><span class="line">bFindNew = TRUE;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">//MyDebug(_T(&quot;---------Start Delete--------&quot;));</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">//éœ€è¦åˆ é™¤çš„åˆ—è¡¨,mapä¸æ”¯æŒå¾ªç¯åˆ é™¤å¤šä¸ªå…ƒç´ </span></span><br><span class="line">vector&lt;CString&gt; theDeleteList;</span><br><span class="line"> </span><br><span class="line"><span class="comment">//åˆ é™¤æ—§åˆ—è¡¨ä¸­å·²ç»å–æ¶ˆçš„å…±äº«</span></span><br><span class="line"><span class="keyword">for</span> (map&lt;CString, HANDLE&gt;::iterator it = theOldList.<span class="built_in">begin</span>();</span><br><span class="line">it != theOldList.<span class="built_in">end</span>(); ++it)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (theNewList.<span class="built_in">find</span>(it-&gt;first) == theNewList.<span class="built_in">end</span>())</span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">//ç»“æŸç›‘æ§çº¿ç¨‹</span></span><br><span class="line"><span class="keyword">if</span> (!<span class="built_in">TerminateThread</span>(it-&gt;second, <span class="number">0</span>))</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">MyDebug</span>(_T(<span class="string">&quot;TerminateThread ERR&quot;</span>));</span><br><span class="line"><span class="built_in">MyDebug</span>(it-&gt;first);</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">//å°†çº¿ç¨‹å ç”¨çš„å…±äº«ç›®å½•å¥æŸ„é‡Šæ”¾</span></span><br><span class="line"><span class="keyword">if</span> (gs_mpDirHandleList[it-&gt;first])</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">CloseHandle</span>(gs_mpDirHandleList[it-&gt;first]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">CloseHandle</span>(it-&gt;second);</span><br><span class="line"></span><br><span class="line">theDeleteList.<span class="built_in">push_back</span>(it-&gt;first);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="built_in">MyDebug</span>(_T(<span class="string">&quot;-----------DeleteList-------------&quot;</span>));</span><br><span class="line"><span class="comment">//åˆ é™¤æ—§åˆ—è¡¨ä¸­çš„è¿‡æœŸå…±äº«</span></span><br><span class="line"><span class="keyword">for</span> (vector&lt;CString&gt;::iterator it = theDeleteList.<span class="built_in">begin</span>();</span><br><span class="line">it != theDeleteList.<span class="built_in">end</span>(); ++it)</span><br><span class="line">&#123;</span><br><span class="line">theOldList.<span class="built_in">erase</span>(*it);</span><br><span class="line"><span class="built_in">MyDebug</span>(*it);</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">//å¦‚æœæœ‰æ–°çš„å…±äº«</span></span><br><span class="line"><span class="keyword">if</span> (bFindNew)</span><br><span class="line">&#123;</span><br><span class="line">pThis-&gt;<span class="built_in">SetSharedMonitor</span>();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="å…±äº«æ–‡ä»¶å¤¹å†…æ–‡ä»¶ç›‘æ§"><a href="#å…±äº«æ–‡ä»¶å¤¹å†…æ–‡ä»¶ç›‘æ§" class="headerlink" title="å…±äº«æ–‡ä»¶å¤¹å†…æ–‡ä»¶ç›‘æ§"></a>å…±äº«æ–‡ä»¶å¤¹å†…æ–‡ä»¶ç›‘æ§</h1><p>æœ€åå°±æ˜¯æœ€ç»ˆçš„ç›®çš„ï¼Œå¯¹å…±äº«æ–‡ä»¶å¤¹å†…æ–‡ä»¶çš„å˜åŒ–è¿›è¡Œç›‘æ§æ“ä½œã€‚è¿™é‡Œä½¿ç”¨çš„æ˜¯ WIN32 API ReadDirectoryChangesW ï¼Œè¿™ä¸ªçš„å…·ä½“ä½¿ç”¨åœ¨æˆ‘ä¹‹å‰çš„ä¸€ç¯‡æ–‡ç« é‡Œæœ‰ä»‹ç»ï¼Œè¿™é‡Œå°±ä¸å¤šè¯´äº†ï¼Œéœ€è¦æ³¨æ„çš„ä¸€ç‚¹æ˜¯ ReadDirectoryChangesW å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°æ‰€éœ€çš„å¥æŸ„éœ€è¦ CreateFile å»åˆ›å»ºï¼Œè€Œä¸”åˆ›å»ºåéœ€è¦ä¸€ç›´å ç”¨ç€ä¸èƒ½é‡Šæ”¾ï¼Œè€Œåˆ›å»ºæ—¶æ‰€éœ€çš„æƒé™(ç¬¬ä¸‰ä¸ªå‚æ•°) å¿…é¡»è®¾ç½®ä¸º â€œFILE_SHARE_READ | FILE_SHARE_WRITE | FILE_SHARE_DELETEâ€ï¼Œå› ä¸ºå¦‚æœå°‘ä»»æ„ä¸€ä¸ªå°±æœ‰å¯èƒ½å¯¼è‡´æŸäº›ç¬¬ä¸‰æ–¹è½¯ä»¶çš„ä½¿ç”¨å‡ºç°å¼‚å¸¸ï¼Œä¾‹å¦‚è¿…é›·ä¸‹è½½ï¼Œæµè§ˆå™¨ä¸‹è½½ä¹‹ç±»çš„ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç›‘æ§çº¿ç¨‹</span></span><br><span class="line"><span class="function">DWORD WINAPI <span class="title">ATSharedMonitor::MonitorThread</span><span class="params">(LPVOID lpParam)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">CString szRootPath = *(CString *)lpParam;</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">HANDLE hRootHandle = <span class="built_in">CreateFile</span>(</span><br><span class="line">szRootPath,<span class="comment">//ç›‘æ§è·¯å¾„</span></span><br><span class="line">FILE_LIST_DIRECTORY, </span><br><span class="line">FILE_SHARE_READ | FILE_SHARE_WRITE | FILE_SHARE_DELETE,</span><br><span class="line"><span class="literal">NULL</span>,</span><br><span class="line">OPEN_EXISTING,</span><br><span class="line">FILE_FLAG_BACKUP_SEMANTICS<span class="comment">/* | FILE_FLAG_OVERLAPPED*/</span>,</span><br><span class="line"><span class="literal">NULL</span>);</span><br><span class="line"><span class="keyword">if</span>(<span class="built_in">FAILED_HANDLE</span>(hRootHandle))</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">MyDebug</span>(_T(<span class="string">&quot;CreateFile Fail&quot;</span>));</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">//å°†ç›®å½•å¥æŸ„æ”¾åˆ°çº¿ç¨‹å¯¹åº”å®¹å™¨ä¸­</span></span><br><span class="line">gs_mpDirHandleList[szRootPath] = hRootHandle;</span><br><span class="line"> </span><br><span class="line"><span class="comment">//OUTPUT_PARAM_DEBUGA(&quot;The CurrentThread:%X&quot;, GetCurrentThread());</span></span><br><span class="line"> </span><br><span class="line">szRootPath += _T(<span class="string">&quot;\\&quot;</span>);</span><br><span class="line"> </span><br><span class="line"><span class="type">wchar_t</span> notify[<span class="number">1024</span>];</span><br><span class="line"><span class="built_in">ZeroMemory</span>(notify, <span class="number">1024</span>);</span><br><span class="line">DWORD dwBytes;</span><br><span class="line">FILE_NOTIFY_INFORMATION *pNotify = (FILE_NOTIFY_INFORMATION *)notify;</span><br><span class="line"> </span><br><span class="line"><span class="comment">//è¿‡æ»¤åŒä¸€ä¸ªæ–‡ä»¶çš„æ“ä½œ </span></span><br><span class="line">CString szLastFile = _T(<span class="string">&quot;&quot;</span>);</span><br><span class="line"> </span><br><span class="line"><span class="keyword">while</span> (TRUE)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">ReadDirectoryChangesW</span> (hRootHandle, &amp;notify, <span class="built_in">sizeof</span>(notify), TRUE,</span><br><span class="line">FILE_NOTIFY_CHANGE_CREATION | FILE_NOTIFY_CHANGE_FILE_NAME | </span><br><span class="line">FILE_NOTIFY_CHANGE_DIR_NAME | FILE_NOTIFY_CHANGE_LAST_WRITE,</span><br><span class="line">&amp;dwBytes, <span class="literal">NULL</span>, <span class="literal">NULL</span>))</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">MyDebug</span>(_T(<span class="string">&quot;---------Change Happened!------------&quot;</span>));</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line">pNotify-&gt;FileName[pNotify-&gt;FileNameLength / <span class="number">2</span>] = <span class="string">&#x27;\0&#x27;</span>;</span><br><span class="line"><span class="comment">//CString tmp = pNotify-&gt;FileName;</span></span><br><span class="line"><span class="comment">//tmp.MakeLower ();</span></span><br><span class="line"> </span><br><span class="line">CString TmpPath = szRootPath + pNotify-&gt;FileName;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">switch</span>(pNotify-&gt;Action)</span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">//é‡å‘½åè·å–</span></span><br><span class="line"> <span class="keyword">case</span> FILE_ACTION_RENAMED_OLD_NAME:</span><br><span class="line"> &#123;</span><br><span class="line"> <span class="built_in">MyDebug</span> (<span class="built_in">TEXT</span>(<span class="string">&quot;æ–‡ä»¶æ›´å :&quot;</span>) + TmpPath);</span><br><span class="line"> PFILE_NOTIFY_INFORMATION p = (PFILE_NOTIFY_INFORMATION)((<span class="type">char</span>*)pNotify+pNotify-&gt;NextEntryOffset);</span><br><span class="line"> p-&gt;FileName[p-&gt;FileNameLength/<span class="number">2</span>] = <span class="string">&#x27;\0&#x27;</span>;</span><br><span class="line"> CString newName = szRootPath + p-&gt;FileName;</span><br><span class="line"> <span class="built_in">MyDebug</span>(newName);</span><br><span class="line"> </span><br><span class="line"> <span class="keyword">break</span>;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"><span class="comment">//åˆ é™¤</span></span><br><span class="line"><span class="comment">// case FILE_ACTION_REMOVED:</span></span><br><span class="line"><span class="comment">// &#123;</span></span><br><span class="line"><span class="comment">// MyDebug (TEXT(&quot;æ–‡ä»¶åˆ é™¤ :&quot;) + TmpPath);</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">//ä¿®æ”¹..ç•¥è¿‡æ–‡ä»¶å¤¹çš„ä¿®æ”¹,è¿‡æ»¤åŒä¸€ä¸ªæ–‡ä»¶çš„ä¿®æ”¹</span></span><br><span class="line"><span class="keyword">case</span> FILE_ACTION_MODIFIED:</span><br><span class="line">&#123;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> (!<span class="built_in">PathIsDirectory</span>(TmpPath) <span class="comment">/*&amp;&amp; szLastFile.CompareNoCase(pNotify-&gt;FileName) != 0*/</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">//szLastFile = pNotify-&gt;FileName;</span></span><br><span class="line"><span class="built_in">MyDebug</span> (<span class="built_in">TEXT</span>(<span class="string">&quot;æ–‡ä»¶ä¿®æ”¹ :&quot;</span>) + TmpPath);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">//æ–°å»ºæ–‡ä»¶è·å–</span></span><br><span class="line"><span class="keyword">case</span> FILE_ACTION_ADDED:</span><br><span class="line"> &#123;</span><br><span class="line"><span class="keyword">if</span> (!<span class="built_in">PathIsDirectory</span>(TmpPath) <span class="comment">/*&amp;&amp; szLastFile.CompareNoCase(pNotify-&gt;FileName) != 0*/</span>)</span><br><span class="line">&#123;</span><br><span class="line"> <span class="built_in">MyDebug</span> (<span class="built_in">TEXT</span>(<span class="string">&quot;æ–‡ä»¶æ·»åŠ  :&quot;</span>) + TmpPath);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"> <span class="keyword">break</span>;</span><br><span class="line"> &#125;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">default</span>:</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> OS </category>
          
          <category> Windows </category>
          
      </categories>
      
      
        <tags>
            
            <tag> windows </tag>
            
            <tag> å…±äº«æ–‡ä»¶å¤¹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Windowsèšç„¦ä¸æ›´æ–°</title>
      <link href="/OS/Windows/windows%E8%81%9A%E7%84%A6%E9%97%AE%E9%A2%98/"/>
      <url>/OS/Windows/windows%E8%81%9A%E7%84%A6%E9%97%AE%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<p>[toc]</p><h1 id="æ–¹æ¡ˆä¸€"><a href="#æ–¹æ¡ˆä¸€" class="headerlink" title="æ–¹æ¡ˆä¸€"></a>æ–¹æ¡ˆä¸€</h1><p>åœ¨åº”ç”¨å•†åº—å®‰è£… <code>dynamic theme</code></p><h1 id="æ–¹æ¡ˆäºŒ"><a href="#æ–¹æ¡ˆäºŒ" class="headerlink" title="æ–¹æ¡ˆäºŒ"></a>æ–¹æ¡ˆäºŒ</h1><p>å…ˆå°†ä¸ªæ€§åŒ–é”å±ç•Œé¢é€‰é¡¹ç”±â€Windows èšç„¦â€æ”¹ä¸ºâ€å›¾ç‰‡â€ã€‚</p><p>ç„¶åå»åˆ é™¤</p><p><code>C:\Users\ä½ è‡ªå·±çš„ç”¨æˆ·å\AppData\Local\Packages\Microsoft.Windows.ContentDeliveryManager_***\Settings</code> (***ä¸ºéšæœºæ•°å­—)ç›®å½•ä¸‹<code>settings.dat</code> å’Œ <code>roaming.lock</code> è¿™ä¸¤ä¸ªæ–‡ä»¶ã€‚ï¼ˆæ³¨ï¼š<code>AppData</code> ç­‰æ˜¯éšè—çš„æ–‡ä»¶å¤¹æˆ–æ–‡ä»¶ï¼‰</p><p>å†ç„¶åå›åˆ°ä¸ªæ€§åŒ–é”å±ç•Œé¢å°†é€‰é¡¹ç”±â€å›¾ç‰‡â€æ”¹å›â€Windows èšç„¦â€ã€‚</p><p>ç¨ç­‰ï¼ŒOK!</p><p>éšååº”è¯¥å¯ä»¥çœ‹åˆ° <code>:...\Microsoft.Windows.ContentDeliveryManager_***\LocalState\Assets</code> æ–‡ä»¶å¤¹é‡Œä¸‹è½½äº†ä¸€æ‰¹èšç„¦å›¾ç‰‡</p><p><code>..\Microsoft.Windows.ContentDeliveryManager_***\settings</code> ç›®å½•ä¸‹é‡æ–°ç”Ÿæˆäº† <code>settings.dat</code> æ–‡ä»¶ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> OS </category>
          
          <category> Windows </category>
          
      </categories>
      
      
        <tags>
            
            <tag> windows </tag>
            
            <tag> bug </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åˆ é™¤æ–‡ä»¶å¤¹</title>
      <link href="/OS/Windows/cmd/%E5%88%A0%E9%99%A4%E6%96%87%E4%BB%B6%E5%A4%B9/"/>
      <url>/OS/Windows/cmd/%E5%88%A0%E9%99%A4%E6%96%87%E4%BB%B6%E5%A4%B9/</url>
      
        <content type="html"><![CDATA[<figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> &quot;%<span class="number">1</span>&quot; == &quot;h&quot; <span class="keyword">goto</span> begin</span><br><span class="line">mshta vbscript:createobject(&quot;wscript.shell&quot;).run(&quot;&quot;&quot;%~nx0&quot;&quot; h&quot;,<span class="number">0</span>)(window.close)&amp;&amp;<span class="keyword">exit</span></span><br><span class="line">:begin</span><br><span class="line"><span class="comment">REM</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">rd</span> /Q /S <span class="variable">%programdata%</span>\TrustAgent\logs</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> OS </category>
          
          <category> Windows </category>
          
          <category> cmd </category>
          
      </categories>
      
      
        <tags>
            
            <tag> bat </tag>
            
            <tag> æ–‡ä»¶å¤¹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>cmdâ€”â€”route</title>
      <link href="/OS/Windows/cmd/route/"/>
      <url>/OS/Windows/cmd/route/</url>
      
        <content type="html"><![CDATA[<p>Route å‘½ä»¤</p><p>  Routeå‘½ä»¤ç”¨äºåœ¨æœ¬åœ°IPè·¯ç”±è¡¨ä¸­æ˜¾ç¤ºå’Œä¿®æ”¹æ¡ç›®ã€‚åœ¨æ’é™¤ç½‘ç»œæ•…éšœæ—¶å¸¸ä¼šç”¨åˆ°ã€‚</p><p>  ä½¿ç”¨ä¸å¸¦å‚æ•°çš„Routeæˆ– <code>Route /?</code> å¯ä»¥æ˜¾ç¤ºå¸®åŠ©ã€‚</p><p>è¯­æ³•ï¼š</p><p>  <code>route [-f] [-p] [command [destination] [mask netmask] [gateway] [metric] [if interface]</code></p><p>-f é€‰é¡¹</p><p>  <code>Route â€“f</code> å‘½ä»¤æ¸…é™¤æ‰€æœ‰ç½‘å…³é¡¹çš„è·¯ç”±è¡¨ã€‚å¦‚æœè¯¥å‚æ•°ä¸æŸä¸ªå‘½ä»¤ç»„åˆä½¿ç”¨ï¼Œè·¯ç”±è¡¨å°†åœ¨è¿è¡Œå‘½ä»¤å‰æ¸…é™¤ã€‚</p><p>  å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œæ‰§è¡Œ <code>route â€“f</code> å‘½ä»¤åï¼Œå†ç”¨ <code>route print</code> æ‰“å°è·¯ç”±è¡¨æ—¶ï¼Œå¯çœ‹åˆ°è·¯ç”±è¡¨ä¸ºç©ºã€‚</p><p>-p é€‰é¡¹</p><p>  ä¸ <code>route add</code> å‘½ä»¤ç»“åˆä½¿ç”¨æ—¶ï¼Œå°†è·¯ç”±è®¾å¤‡ä¸ºåœ¨ç³»ç»Ÿå¼•å¯¼æœŸé—´ä¿æŒä¸å˜ã€‚</p><p>  é»˜è®¤æƒ…å†µä¸‹ï¼Œé‡æ–°å¯åŠ¨ç³»ç»Ÿæ—¶ï¼Œä¸ä¿å­˜è·¯ç”±ã€‚</p><p>  å½“åœ¨ <code>route add</code> å‘½ä»¤ä¸­åŠ å…¥-på‚æ•°æ—¶ï¼Œ<code>route print</code> å‘½ä»¤å°±èƒ½çœ‹åˆ°æ°¸ä¹…è·¯ç”±äº†ã€‚</p><h1 id="route-print"><a href="#route-print" class="headerlink" title="route print"></a>route print</h1><p>Printå‘½ä»¤</p><p>  æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†ä»‹ç»Printã€Addã€Deleteã€Chanceå››ä¸ªå¸¸ç”¨çš„Commandå‘½ä»¤ã€‚</p><p>  Route printå‘½ä»¤æ˜¾ç¤ºIPè·¯ç”±è¡¨çš„å®Œæ•´å†…å®¹ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼šé¦–å…ˆæ˜¾ç¤ºäº†å½“å‰ä¸»æœºçš„æ‰€æœ‰æ¥å£åˆ—è¡¨ï¼Œæ¥ä¸‹æ¥æ˜¾ç¤ºIPv4è·¯ç”±è¡¨å’ŒIPv4æ°¸ä¹…è·¯ç”±ï¼Œå¯ä»¥çœ‹åˆ°ï¼Œæˆ‘çš„IPv4è·¯ç”±è¡¨æœ‰ä¸¤ä¸ªé»˜è®¤ç½‘å…³ï¼Œä¸”æ— æ‰‹åŠ¨æ·»åŠ çš„IPv4æ°¸ä¹…è·¯ç”±ã€‚</p><p>  ä½¿ç”¨route printå‘½ä»¤æ—¶ï¼Œç›®æ ‡æˆ–ç½‘å…³å¯ä»¥ä¸ºé€šé…ç¬¦ï¼Œé€šé…ç¬¦æŒ‡å®šä¸ºæ˜Ÿå·â€œ*â€ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Route <span class="built_in">print</span> -4å‘½ä»¤åªæ˜¾ç¤ºIPv4çš„è·¯ç”±è¡¨ä¿¡æ¯ã€‚</span><br><span class="line"></span><br><span class="line">Route <span class="built_in">print</span> -6å‘½ä»¤åªæ˜¾ç¤ºIPv6çš„è·¯ç”±è¡¨ä¿¡æ¯ã€‚</span><br><span class="line"></span><br><span class="line">Route <span class="built_in">print</span> 192*å‘½ä»¤åªæ˜¾ç¤ºé‚£äº›åŒ¹é…192*çš„é¡¹ã€‚</span><br></pre></td></tr></table></figure><h1 id="route-add"><a href="#route-add" class="headerlink" title="route add"></a>route add</h1><p>ä¾‹1ï¼šè‹¥è¦æ·»åŠ å¸¦æœ‰ 192.168.12.1 é»˜è®¤ç½‘å…³åœ°å€çš„é»˜è®¤è·¯ç”±ï¼Œ</p>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">route add 0.0.0.0 mask 0.0.0.0 192.168.12.1</span><br></pre></td></tr></table></figure><p>ä¾‹2ï¼šè‹¥è¦å‘å¸¦æœ‰ 255.255.0.0 å­ç½‘æ©ç å’Œ 10.27.0.1 ä¸‹ä¸€è·ƒç‚¹åœ°å€çš„ 10.41.0.0 ç›®æ ‡ä¸­æ·»åŠ ä¸€ä¸ªè·¯ç”±</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">route add 10.41.0.0 mask 255.255.0.0 10.27.0.1</span><br></pre></td></tr></table></figure><p>ä¾‹3ï¼šè‹¥è¦å‘å¸¦æœ‰ 255.255.0.0 å­ç½‘æ©ç å’Œ 10.27.0.1 ä¸‹ä¸€è·ƒç‚¹åœ°å€çš„ 10.41.0.0 ç›®æ ‡ä¸­æ·»åŠ ä¸€ä¸ªæ°¸ä¹…è·¯ç”±</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">route -p add 10.41.0.0 mask 255.255.0.0 10.27.0.1</span><br></pre></td></tr></table></figure><p>ä¾‹4ï¼šè‹¥è¦å‘å¸¦æœ‰ 255.255.0.0 å­ç½‘æ©ç ã€10.27.0.1 ä¸‹ä¸€è·ƒç‚¹åœ°å€ä¸”å…¶æˆæœ¬å€¼æ ‡ä¸º 7 çš„ 10.41.0.0 ç›®æ ‡ä¸­æ·»åŠ ä¸€ä¸ªè·¯ç”±</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">route add 10.41.0.0 mask 255.255.0.0 10.27.0.1 metric 7</span><br></pre></td></tr></table></figure><p>ä¾‹5ï¼šè‹¥è¦å‘å¸¦æœ‰ 255.255.0.0 å­ç½‘æ©ç ã€10.27.0.1 ä¸‹ä¸€è·ƒç‚¹åœ°å€ä¸”ä½¿ç”¨ 0x3 æ¥å£ç´¢å¼•çš„ 10.41.0.0 ç›®æ ‡ä¸­æ·»åŠ ä¸€ä¸ªè·¯ç”±</p>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">route add 10.41.0.0 mask 255.255.0.0 10.27.0.1 <span class="keyword">if</span> 0x3</span><br></pre></td></tr></table></figure><p>å¦‚æœæœªç»™å‡ºifï¼Œå®ƒå°†å°è¯•æŸ¥æ‰¾ç»™å®šç½‘å…³çš„æœ€ä½³æ¥å£ã€‚</p><p>ä¾‹6ï¼šè‹¥æœ¬åœ°çš„IPåœ°å€ä¸º172.16.1.100ï¼Œç½‘å…³ä¸º172.16.1.254ï¼Œç°æœ‰ä¸€æ¡ADSLçº¿è·¯ï¼Œè·¯ç”±å™¨çš„åœ°å€ä¸º172.168.1.200ï¼Œé€šè¿‡è¯¥åœ°å€å¯è®¿é—®Internetã€‚å¦‚ä½•åšåˆ°æ—¢æƒ³ä¸Šç½‘ï¼Œåˆæƒ³è®¿é—®ç½‘ç»œå†…çš„èµ„æºï¼Ÿåªéœ€æŒ‰ä»¥ä¸‹ä¸‰æ­¥æ“ä½œå³å¯</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ç¬¬ä¸€æ­¥ï¼šå°†æœ¬åœ°çš„ç½‘å…³åœ°å€ç”±172.16.1.254æ”¹ä¸º172.16.1.200</span><br><span class="line"></span><br><span class="line">ç¬¬äºŒæ­¥ï¼šroute delete 0.0.0.0 mask 0.0.0.0 172.16.1.254</span><br><span class="line"></span><br><span class="line">ç¬¬ä¸‰æ­¥ï¼šroute add 172.16.0.0 mask 255.255.0.0 172.16.1.100 -p metric 1</span><br></pre></td></tr></table></figure><p>Deleteå‘½ä»¤</p><p>  Route deleteå‘½ä»¤åˆ é™¤è·¯ç”±ã€‚</p><p>  ä½¿ç”¨route deleteå‘½ä»¤æ—¶ï¼Œç›®æ ‡æˆ–ç½‘å…³å¯ä»¥ä¸ºé€šé…ç¬¦ï¼Œé€šé…ç¬¦æŒ‡å®šä¸ºæ˜Ÿå·â€œ*â€ã€‚</p><p>ä¾‹1ï¼šè‹¥è¦åˆ é™¤åˆ°å¸¦æœ‰ 255.255.0.0 å­ç½‘æ©ç çš„ 10.41.0.0 ç›®æ ‡çš„è·¯ç”±</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">route delete 10.41.0.0 mask 255.255.0.0</span><br></pre></td></tr></table></figure><p>ä¾‹2ï¼šè‹¥è¦åˆ é™¤ä»¥ 10. èµ·å§‹çš„ IP è·¯ç”±è¡¨ä¸­çš„æ‰€æœ‰è·¯ç”±</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">route delete 10.\*</span><br></pre></td></tr></table></figure><p>Changeå‘½ä»¤</p><p>  Route changeå‘½ä»¤åªç”¨äºä¿®æ”¹ç½‘å…³å’Œ&#x2F;æˆ–è·ƒç‚¹æ•°</p><p>ä¾‹1ï¼šè‹¥è¦å°†å¸¦æœ‰ 10.100.0.0 ç›®æ ‡å’Œ 255.255.0.0 å­ç½‘æ©ç çš„ä¸‹ä¸€è·ƒç‚¹åœ°å€ä» 10.100.0.1 ä¿®æ”¹ä¸º 10.100.0.254</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">route change 10.100.0.0 mask 255.255.0.0 10.100.0.254</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> OS </category>
          
          <category> Windows </category>
          
          <category> cmd </category>
          
      </categories>
      
      
        <tags>
            
            <tag> cmd </tag>
            
            <tag> route </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>bcdedit ç”¨æ³•æ•´ç†</title>
      <link href="/OS/Windows/cmd/bcdedit/"/>
      <url>/OS/Windows/cmd/bcdedit/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æ¦‚è¿°ï¼šbdceditç”¨æ³•æ•´ç†</p><p><strong>æ›´å¤šå‘½ä»¤</strong>ï¼š<a href="https://docs.microsoft.com/zh-cn/windows-hardware/drivers/devtest/bcdedit%E2%80%93bootdebug">https://docs.microsoft.com/zh-cn/windows-hardware/drivers/devtest/bcdeditâ€“bootdebug</a></p></blockquote><p>[toc]</p><h1 id="ç¦ç”¨æ•°å­—ç­¾å"><a href="#ç¦ç”¨æ•°å­—ç­¾å" class="headerlink" title="ç¦ç”¨æ•°å­—ç­¾å"></a>ç¦ç”¨æ•°å­—ç­¾å</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bcdedit /set testsigning on</span><br></pre></td></tr></table></figure><h1 id="windowsæ“ä½œæä¾›å†…æ ¸è°ƒè¯•"><a href="#windowsæ“ä½œæä¾›å†…æ ¸è°ƒè¯•" class="headerlink" title="windowsæ“ä½œæä¾›å†…æ ¸è°ƒè¯•"></a>windowsæ“ä½œæä¾›å†…æ ¸è°ƒè¯•</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">bcdedit /debug on <span class="comment"># å¯åŠ¨</span></span><br><span class="line">bcdedit /debug off <span class="comment"># ç¦ç”¨</span></span><br></pre></td></tr></table></figure><h1 id="windowsæ“ä½œç³»ç»Ÿå¯åŠ¨é¡¹çš„å¯åŠ¨è°ƒè¯•"><a href="#windowsæ“ä½œç³»ç»Ÿå¯åŠ¨é¡¹çš„å¯åŠ¨è°ƒè¯•" class="headerlink" title="windowsæ“ä½œç³»ç»Ÿå¯åŠ¨é¡¹çš„å¯åŠ¨è°ƒè¯•"></a>windowsæ“ä½œç³»ç»Ÿå¯åŠ¨é¡¹çš„å¯åŠ¨è°ƒè¯•</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">bcdedit /bootdebug on <span class="comment"># å¯ç”¨</span></span><br><span class="line">bcdedit /bootdebug off <span class="comment"># ç¦ç”¨</span></span><br></pre></td></tr></table></figure><h1 id="æ°¸ä¹…ç¦ç”¨æ•°å­—ç­¾åæ–¹æ³•"><a href="#æ°¸ä¹…ç¦ç”¨æ•°å­—ç­¾åæ–¹æ³•" class="headerlink" title="æ°¸ä¹…ç¦ç”¨æ•°å­—ç­¾åæ–¹æ³•"></a>æ°¸ä¹…ç¦ç”¨æ•°å­—ç­¾åæ–¹æ³•</h1><ol><li>ç®¡ç†å‘˜CMD</li><li>è¾“å…¥ <code>bcdedit.exe /set nointegritychecks on</code>ï¼Œæ‰§è¡Œå®Œæ¯•å°±ç»“æŸäº†</li><li>å¦‚æœè¦æ¢å¤ç­¾åï¼Œæ‰§è¡Œ <code>bcdedit.exe /set nointegritychecks off</code>å°±è¡Œ</li></ol><h1 id="windbgå’Œè™šæ‹Ÿæœºçš„è¿œç¨‹è°ƒè¯•å’Œç½‘ç»œè°ƒè¯•è®¾ç½®"><a href="#windbgå’Œè™šæ‹Ÿæœºçš„è¿œç¨‹è°ƒè¯•å’Œç½‘ç»œè°ƒè¯•è®¾ç½®" class="headerlink" title="windbgå’Œè™šæ‹Ÿæœºçš„è¿œç¨‹è°ƒè¯•å’Œç½‘ç»œè°ƒè¯•è®¾ç½®"></a>windbgå’Œè™šæ‹Ÿæœºçš„è¿œç¨‹è°ƒè¯•å’Œç½‘ç»œè°ƒè¯•è®¾ç½®</h1><blockquote><p>å‚è€ƒï¼š<a href="https://blog.csdn.net/m0_37567738/article/details/129062143">windbgå’Œè™šæ‹Ÿæœºä¸‹çš„è¿œç¨‹è°ƒè¯•å’Œç½‘ç»œè°ƒè¯•è®¾ç½®_windbgè°ƒè¯•è™šæ‹Ÿæœº_satadriverçš„åšå®¢-CSDNåšå®¢</a></p><p>å¾®è½¯å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://learn.microsoft.com/zh-cn/windows-hardware/drivers/devtest/bcdedit--dbgsettings?redirectedfrom=MSDN">BCDEdit &#x2F;dbgsettings - Windows drivers | Microsoft Learn</a></p></blockquote><h1 id="WDFåŒæœºè°ƒè¯•"><a href="#WDFåŒæœºè°ƒè¯•" class="headerlink" title="WDFåŒæœºè°ƒè¯•"></a>WDFåŒæœºè°ƒè¯•</h1><blockquote><p>å‚è€ƒï¼š<a href="https://blog.csdn.net/ljymoonlight/article/details/99709697">WDK1.2. bcdeditè°ƒè¯•é…ç½®_bcdedit &#x2F;dbgsettings hostip_ljymoonlightçš„åšå®¢-CSDNåšå®¢</a></p></blockquote><h2 id="åŒæœºè°ƒè¯•åŸºæœ¬æ­¥éª¤"><a href="#åŒæœºè°ƒè¯•åŸºæœ¬æ­¥éª¤" class="headerlink" title="åŒæœºè°ƒè¯•åŸºæœ¬æ­¥éª¤"></a>åŒæœºè°ƒè¯•åŸºæœ¬æ­¥éª¤</h2><h3 id="ç½‘ç»œè¿æ¥"><a href="#ç½‘ç»œè¿æ¥" class="headerlink" title="ç½‘ç»œè¿æ¥"></a>ç½‘ç»œè¿æ¥</h3><h4 id="è™šæ‹Ÿæœºè®¾ç½®"><a href="#è™šæ‹Ÿæœºè®¾ç½®" class="headerlink" title="è™šæ‹Ÿæœºè®¾ç½®"></a>è™šæ‹Ÿæœºè®¾ç½®</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1. æ‰“å¼€è°ƒè¯•æ¨¡å¼</span></span><br><span class="line">bcdedit /debug on</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2. è®¾ç½®ç½‘ç»œæ–¹å¼è°ƒè¯•</span></span><br><span class="line"><span class="comment"># hostipï¼šä¸»æœºIPåœ°å€</span></span><br><span class="line"><span class="comment"># port: ä¸»æœºçš„ç«¯å£</span></span><br><span class="line"><span class="comment"># keyï¼š(å¯çœç•¥) ç™»å½•å¯†ç </span></span><br><span class="line">bcdedit /dbgsettings net hostip:192.168.0.102 port:50000 key:1.2.3.4</span><br><span class="line"></span><br><span class="line"><span class="comment">#3. è®¾ç½®æ•°å­—ç­¾å</span></span><br><span class="line">bcdedit /set testsigning on</span><br></pre></td></tr></table></figure><h4 id="ä¸»æœºwindbgè¿æ¥è™šæ‹Ÿæœº"><a href="#ä¸»æœºwindbgè¿æ¥è™šæ‹Ÿæœº" class="headerlink" title="ä¸»æœºwindbgè¿æ¥è™šæ‹Ÿæœº"></a>ä¸»æœºwindbgè¿æ¥è™šæ‹Ÿæœº</h4><p>å¦‚ä¸‹å›¾æ‰€ç¤ºå¡«å…¥ä¸Šè¿°å¾—åˆ°keyæˆ–è‡ªå®šä¹‰è®¾ç½®çš„keyä¹‹åè¿æ¥å³å¯ã€‚</p><div class="tag-plugin image"><div class="image-bg"><img src="images/bcdedit/1.png"/></div></div><h3 id="ä¸²å£è°ƒè¯•"><a href="#ä¸²å£è°ƒè¯•" class="headerlink" title="ä¸²å£è°ƒè¯•"></a>ä¸²å£è°ƒè¯•</h3><h4 id="è™šæ‹Ÿæœºè®¾ç½®-1"><a href="#è™šæ‹Ÿæœºè®¾ç½®-1" class="headerlink" title="è™šæ‹Ÿæœºè®¾ç½®"></a>è™šæ‹Ÿæœºè®¾ç½®</h4><ol><li><p>ç®¡ç†å‘˜cmd</p></li><li><p>ä¾æ¬¡è¾“å…¥ä»¥ä¸‹æŒ‡ä»¤</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ·»åŠ æ–°çš„å¼•å¯¼é¡¹</span></span><br><span class="line">bcdedit /copy &#123;current&#125; /d Debug</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®å¼•å¯¼é¡¹ç­‰å¾…æ—¶é—´</span></span><br><span class="line">bcdedit /timeout 30</span><br></pre></td></tr></table></figure></li><li><p>é‡å¯æ“ä½œç³»ç»Ÿå¹¶å†æ¬¡ç®¡ç†å‘˜è¿è¡ŒCMD</p></li><li><p>ä¾æ¬¡è¾“å…¥ä»¥ä¸‹å‘½ä»¤</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">bcdedit /dbgsettings SERIAL DEBUGPORT:1 BAUDRATE:115200</span><br><span class="line"></span><br><span class="line">bcdedit /bootdebug on</span><br><span class="line"></span><br><span class="line">bcdedit /debug on</span><br></pre></td></tr></table></figure></li><li><p>è¿è¡Œ â€˜msconfigâ€™</p><div class="tag-plugin image"><div class="image-bg"><img src="images/bcdedit/image-20230917204346062.png"/></div></div><ul><li>win+R è¾“å…¥ msconfig</li><li>æŸ¥çœ‹å¼•å¯¼é¡¹æ˜¯å¦æœ‰Debugæ¨¡å¼<div class="tag-plugin image"><div class="image-bg"><img src="images/bcdedit/image-20230917204844775.png"/></div></div></li><li>æŸ¥çœ‹é«˜çº§é€‰é¡¹ï¼Œè°ƒè¯•ç«¯å£å’Œæ³¢ç‰¹ç‡<div class="tag-plugin image"><div class="image-bg"><img src="images/bcdedit/image-20230917205109487.png"/></div></div></li></ul></li><li><p>åˆ°æ­¤ä¸ºæ­¢ï¼Œè™šæ‹Ÿæœºè®¾ç½®å®Œæ¯•ï¼Œå¯åŠ¨åæ“ä½œç³»ç»Ÿå¯åŠ¨æ—¶é€‰æ‹© <code>Debug</code></p></li></ol><h4 id="Windbgè¿æ¥"><a href="#Windbgè¿æ¥" class="headerlink" title="Windbgè¿æ¥"></a>Windbgè¿æ¥</h4><ol><li>è¿æ¥å†…æ ¸<div class="tag-plugin image"><div class="image-bg"><img src="images/bcdedit/image-20230917205922673.png"/></div></div></li></ol>]]></content>
      
      
      <categories>
          
          <category> OS </category>
          
          <category> Windows </category>
          
          <category> cmd </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>windows ç¨‹åºè‡ªåŠ¨ç”Ÿæˆdumpæ–‡ä»¶</title>
      <link href="/OS/Windows/Windbg/windows-%E7%A8%8B%E5%BA%8F%E8%87%AA%E5%8A%A8%E7%94%9F%E6%88%90dump%E6%96%87%E4%BB%B6/"/>
      <url>/OS/Windows/Windbg/windows-%E7%A8%8B%E5%BA%8F%E8%87%AA%E5%8A%A8%E7%94%9F%E6%88%90dump%E6%96%87%E4%BB%B6/</url>
      
        <content type="html"><![CDATA[<p>[toc]</p><h1 id="ä¸€ã€Windows-ç”Ÿæˆdump"><a href="#ä¸€ã€Windows-ç”Ÿæˆdump" class="headerlink" title="ä¸€ã€Windows ç”Ÿæˆdump"></a>ä¸€ã€Windows ç”Ÿæˆdump</h1><blockquote><p>æœ¬æ–‡ä¸»è¦è¯´æ˜windowsæ“ä½œç³»ç»Ÿä¸‹ï¼Œç¨‹åºå¦‚ä½•è‡ªåŠ¨ç”Ÿæˆdumpæ–‡ä»¶</p></blockquote><h2 id="å¦‚æœç”Ÿæˆdump"><a href="#å¦‚æœç”Ÿæˆdump" class="headerlink" title="å¦‚æœç”Ÿæˆdump"></a>å¦‚æœç”Ÿæˆdump</h2><p>ç”Ÿæˆdumpä¸»è¦ä¾èµ–äºwindowsapiå‡½æ•° <code>SetUnhandledExceptionFilter</code>,å‚æ•°ä¸ºä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œä¸»è¦ä¾èµ–äºè¯¥å‡½æ•°ä»¥åŠå›è°ƒå‡½æ•°ä¸­çš„ç›¸å…³é€»è¾‘ç”Ÿæˆdumpã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">LPTOP_LEVEL_EXCEPTION_FILTER WINAPI <span class="title">SetUnhandledExceptionFilter</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">        _In_ LPTOP_LEVEL_EXCEPTION_FILTER  lpTopLevelExceptionFilterï¼‰</span></span></span><br></pre></td></tr></table></figure><h3 id="æ³¨æ„ç‚¹ï¼š"><a href="#æ³¨æ„ç‚¹ï¼š" class="headerlink" title="æ³¨æ„ç‚¹ï¼š"></a>æ³¨æ„ç‚¹ï¼š</h3><ol><li>æœ€å¥½æ˜¯åœ¨ç¨‹åºå¼€å§‹å¤„è®¾ç½®å›è°ƒ</li><li>å¦‚æœå›è°ƒä¸ç”Ÿæ•ˆï¼Œä¹Ÿå¯ä½¿ç”¨ <code>AddVectoredExceptionHandler</code> å‡½æ•°è®¾ç½®å›è°ƒï¼Œå…¶ç”¨æ³•ä¸ <code>SetUnhandledExceptionFilter</code> åŸºæœ¬ä¸€è‡´ï¼Œä½†æ˜¯éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä½¿ç”¨ <code>AddVectoredExceptionHandler</code> åï¼Œ<code>outpuydebugstring</code> ä¹Ÿä¼šè§¦å‘å›è°ƒï¼Œæ‰€ä»¥è¿™ä¸ªå‡½æ•°æ…ç”¨ã€‚</li></ol><h2 id="dumpå›è°ƒå‡½æ•°"><a href="#dumpå›è°ƒå‡½æ•°" class="headerlink" title="dumpå›è°ƒå‡½æ•°"></a>dumpå›è°ƒå‡½æ•°</h2><p>dumpå›è°ƒå‡½æ•°å¯æ ¹æ®è‡ªå·±çš„éœ€æ±‚å»ç¼–å†™ï¼Œä»¥ä¸‹ä¸ºä¸€ä¸ªç¤ºä¾‹ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">LONG WINAPI <span class="title">MyUnhandledExceptionFilter</span><span class="params">( <span class="keyword">struct</span> _EXCEPTION_POINTERS *ExceptionInfo )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    SYSTEMTIME st;</span><br><span class="line">    <span class="built_in">GetLocalTime</span>(&amp;st);</span><br><span class="line"> </span><br><span class="line">    CString time_now = _T(<span class="string">&quot;&quot;</span>);</span><br><span class="line">    time_now.<span class="built_in">Format</span>(_T(<span class="string">&quot;%04d_%02d_%02d_%02d_%02d_%03d.dmp&quot;</span>), st.wYear, st.wMonth, st.wDay,st.wHour, st.wMinute, st.wSecond, st.wMilliseconds);</span><br><span class="line">    CString dump_file_path = <span class="built_in">GetRootPath</span>();            <span class="comment">//è·å–ç¨‹åºæ‰€åœ¨çš„æ–‡ä»¶å¤¹çš„è·¯å¾„</span></span><br><span class="line">    dump_file_path += _T(<span class="string">&quot;dump/&quot;</span>);</span><br><span class="line">    <span class="built_in">CreateDirectory</span>(dump_file_path, <span class="literal">NULL</span>);</span><br><span class="line">    dump_file_path += time_now;</span><br><span class="line">    </span><br><span class="line">    HANDLE hFile = <span class="built_in">CreateFile</span>(dump_file_path, GENERIC_READ|GENERIC_WRITE,</span><br><span class="line">        FILE_SHARE_WRITE, <span class="literal">NULL</span>, CREATE_ALWAYS, FILE_ATTRIBUTE_NORMAL, <span class="literal">NULL</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>( hFile == INVALID_HANDLE_VALUE )</span><br><span class="line">        <span class="keyword">return</span> EXCEPTION_CONTINUE_EXECUTION; <span class="comment">// å¾€ä¸‹ä¼ ï¼Œç»§ç»­äº¤ç»™ windows é»˜è®¤çš„å¤„ç†å‡½æ•°å¤„ç†</span></span><br><span class="line"></span><br><span class="line">    MINIDUMP_EXCEPTION_INFORMATION mdei;</span><br><span class="line">    mdei.ThreadId = <span class="built_in">GetCurrentThreadId</span>();</span><br><span class="line">    mdei.ExceptionPointers = ExceptionInfo;</span><br><span class="line">    mdei.ClientPointers = <span class="literal">NULL</span>;</span><br><span class="line">    MINIDUMP_CALLBACK_INFORMATION mci;  </span><br><span class="line">    mci.CallbackRoutine     = <span class="literal">NULL</span>;  </span><br><span class="line">    mci.CallbackParam       = <span class="number">0</span>;  </span><br><span class="line"></span><br><span class="line">    <span class="built_in">MiniDumpWriteDump</span>(<span class="built_in">GetCurrentProcess</span>(), <span class="built_in">GetCurrentProcessId</span>(), hFile, MiniDumpNormal, &amp;mdei, <span class="literal">NULL</span>, &amp;mci);  </span><br><span class="line"></span><br><span class="line">    <span class="built_in">CloseHandle</span>(hFile);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> EXCEPTION_EXECUTE_HANDLER;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="è®¾ç½®å›è°ƒ"><a href="#è®¾ç½®å›è°ƒ" class="headerlink" title="è®¾ç½®å›è°ƒ"></a>è®¾ç½®å›è°ƒ</h2><p>å†™å®Œå›è°ƒå‡½æ•°ä¹‹åï¼Œè°ƒç”¨ <code>SetUnhandledExceptionFilter</code> ï¼Œå…¥å‚ä¸ºå›è°ƒå‡½æ•°ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">SetUnhandledExceptionFilter</span>(MyUnhandledExceptionFilter);</span><br></pre></td></tr></table></figure><blockquote><p>åˆ°æ­¤ï¼Œè®¾ç½®å¹¶æ•è·å¼‚å¸¸çš„æ¥å£å®Œæˆï¼Œä»¥ä¸‹è¡¥å……å‡ ç‚¹ä¸ªäººç»éªŒã€‚</p></blockquote><h1 id="äºŒã€æ‰‹å†™å´©æºƒ"><a href="#äºŒã€æ‰‹å†™å´©æºƒ" class="headerlink" title="äºŒã€æ‰‹å†™å´©æºƒ"></a>äºŒã€æ‰‹å†™å´©æºƒ</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">CreteCrash</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> *ptr = <span class="literal">nullptr</span>;</span><br><span class="line">*ptr = n;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="ä¸‰ã€å›è°ƒä¸ç”Ÿæ•ˆé—®é¢˜"><a href="#ä¸‰ã€å›è°ƒä¸ç”Ÿæ•ˆé—®é¢˜" class="headerlink" title="ä¸‰ã€å›è°ƒä¸ç”Ÿæ•ˆé—®é¢˜"></a>ä¸‰ã€å›è°ƒä¸ç”Ÿæ•ˆé—®é¢˜</h1><blockquote><p><code>SetUnhandledExceptionFilter</code> æ˜¯æ— æ³•æ•è· <code>printf</code>, <code>scan</code>, <code>strlen</code> ç­‰CRTå‡½æ•°çš„å¼‚å¸¸çš„ï¼Œå¦‚<code>printf(NULL)</code> å¼‚å¸¸;é™¤æ­¤ä¹‹å¤–ï¼Œåœ¨æœ‰çš„ç¯å¢ƒå½“ä¸­ï¼Œå› ä¸ºè½¯ä»¶è¢«hookçš„é—®é¢˜ï¼Œå¯¼è‡´ <code>å‡½æ•°ä¸ç”Ÿæ•ˆï¼Œè®¾ç½®çš„å›è°ƒå¾€å¾€ä¸èµ·ä½œç”¨ï¼Œæ­¤æ—¶å¯ä»¥ä¿®æ”¹è®¾ç½®</code> çš„å‡½æ•°åœ°å€æ¥å±è”½å…¶ä»–è½¯ä»¶çš„hookã€‚</p></blockquote><h2 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">DisableSetUnhandledExceptionFilter</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">void</span>* addr = (<span class="type">void</span>*)<span class="built_in">GetProcAddress</span>(<span class="built_in">LoadLibrary</span>(_T(<span class="string">&quot;kernel32.dll&quot;</span>)), <span class="string">&quot;SetUnhandledExceptionFilter&quot;</span>);</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">if</span> (addr != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">unsigned</span> <span class="type">char</span> code[<span class="number">16</span>];</span><br><span class="line">        <span class="type">int</span> size = <span class="number">0</span>;</span><br><span class="line"> </span><br><span class="line">        code[size++] = <span class="number">0x33</span>;</span><br><span class="line">        code[size++] = <span class="number">0xC0</span>;</span><br><span class="line">        code[size++] = <span class="number">0xC2</span>;</span><br><span class="line">        code[size++] = <span class="number">0x04</span>;</span><br><span class="line">        code[size++] = <span class="number">0x00</span>;</span><br><span class="line"> </span><br><span class="line">        DWORD dwOldFlag, dwTempFlag;</span><br><span class="line">        <span class="built_in">VirtualProtect</span>(addr, size, PAGE_READWRITE, &amp;dwOldFlag);</span><br><span class="line">        <span class="built_in">WriteProcessMemory</span>(<span class="built_in">GetCurrentProcess</span>(), addr, code, size, <span class="literal">NULL</span>);</span><br><span class="line">        <span class="built_in">VirtualProtect</span>(addr, size, dwOldFlag, &amp;dwTempFlag);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ä½¿ç”¨è¯´æ˜"><a href="#ä½¿ç”¨è¯´æ˜" class="headerlink" title="ä½¿ç”¨è¯´æ˜"></a>ä½¿ç”¨è¯´æ˜</h2><p>åœ¨ç¨‹åºå¯åŠ¨å¹¶è®¾ç½®dumpå›è°ƒä¹‹åè°ƒç”¨ <code>DisableSetUnhandledExceptionFilter</code>å³å¯ã€‚</p><h2 id="æ³¨æ„äº‹é¡¹"><a href="#æ³¨æ„äº‹é¡¹" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h2><p>ç»æœ¬äººæµ‹è¯•ï¼Œåœ¨éƒ¨åˆ†æœºå™¨ä¸Šï¼Œä½¿ç”¨ <code>WriteProcessMemory</code>å’Œ <code>VirtualProtect</code> å¯èƒ½ä¼šå¯¼è‡´ç¨‹åºå´©æºƒï¼Œå¹¶ä¸”ä¸ä¼šç”Ÿæˆdumpã€‚å¯å°è¯•ä¿®æ”¹ <code>VirtualProtect</code> å’Œ <code>WriteProcessMemory</code> å‡½æ•°çš„å‚æ•°æµ‹è¯•ã€‚</p><h3 id="æ–¹æ¡ˆä¸€"><a href="#æ–¹æ¡ˆä¸€" class="headerlink" title="æ–¹æ¡ˆä¸€"></a>æ–¹æ¡ˆä¸€</h3><p>ä¿®æ”¹ <code>VirtualProtect</code> çš„ flag.è®¾ç½®ä¸º <code>PAGE_EXECUTE_READWRITE</code></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">VirtualProtect</span>(addr, size, PAGE_EXECUTE_READWRITE, &amp;dwOldFlag);</span><br></pre></td></tr></table></figure><h3 id="æ–¹æ¡ˆäºŒ"><a href="#æ–¹æ¡ˆäºŒ" class="headerlink" title="æ–¹æ¡ˆäºŒ"></a>æ–¹æ¡ˆäºŒ</h3><p><code>WriteProcessMemory</code> å¯ç›´æ¥ä½¿ç”¨ <code>memcpy</code> æ›¿ä»£ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">memcpy</span>(addr, code, size);</span><br></pre></td></tr></table></figure><h3 id="ä»£ç æ€»ç»“"><a href="#ä»£ç æ€»ç»“" class="headerlink" title="ä»£ç æ€»ç»“"></a>ä»£ç æ€»ç»“</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">DWORD dwOldFlag = <span class="number">0</span>;</span><br><span class="line"><span class="built_in">VirtualProtect</span>(addr, size, PAGE_EXECUTE_READWRITE, &amp;dwOldFlag);</span><br><span class="line"><span class="meta">#<span class="keyword">if</span> 0</span></span><br><span class="line">HANDLE hProcess = <span class="built_in">GetCurrentProcess</span>();</span><br><span class="line"><span class="keyword">if</span> (!(hProcess == <span class="literal">NULL</span> || hProcess == INVALID_HANDLE_VALUE))</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">WriteProcessMemory</span>(<span class="built_in">GetCurrentProcess</span>(), addr, code, size, <span class="literal">NULL</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">memcpy</span>(addr, code, size);</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"><span class="built_in">memcpy</span>(addr, code, size);</span><br><span class="line"><span class="built_in">VirtualProtect</span>(addr, size, dwOldFlag, &amp;dwOldFlag);</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> OS </category>
          
          <category> Windows </category>
          
          <category> Windbg </category>
          
      </categories>
      
      
        <tags>
            
            <tag> windows </tag>
            
            <tag> windbg </tag>
            
            <tag> dump </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>windows ç¨‹åºè‡ªåŠ¨ç”Ÿæˆdumpæ–‡ä»¶</title>
      <link href="/OS/Windows/Windbg/%E7%94%9F%E6%88%90dump/"/>
      <url>/OS/Windows/Windbg/%E7%94%9F%E6%88%90dump/</url>
      
        <content type="html"><![CDATA[<p>[toc]</p><h1 id="ä¸€ã€Windows-ç”Ÿæˆdump"><a href="#ä¸€ã€Windows-ç”Ÿæˆdump" class="headerlink" title="ä¸€ã€Windows ç”Ÿæˆdump"></a>ä¸€ã€Windows ç”Ÿæˆdump</h1><blockquote><p>æœ¬æ–‡ä¸»è¦è¯´æ˜windowsæ“ä½œç³»ç»Ÿä¸‹ï¼Œç¨‹åºå¦‚ä½•è‡ªåŠ¨ç”Ÿæˆdumpæ–‡ä»¶</p></blockquote><h2 id="å¦‚æœç”Ÿæˆdump"><a href="#å¦‚æœç”Ÿæˆdump" class="headerlink" title="å¦‚æœç”Ÿæˆdump"></a>å¦‚æœç”Ÿæˆdump</h2><p>ç”Ÿæˆdumpä¸»è¦ä¾èµ–äºwindowsapiå‡½æ•° <code>SetUnhandledExceptionFilter</code>,å‚æ•°ä¸ºä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œä¸»è¦ä¾èµ–äºè¯¥å‡½æ•°ä»¥åŠå›è°ƒå‡½æ•°ä¸­çš„ç›¸å…³é€»è¾‘ç”Ÿæˆdumpã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">LPTOP_LEVEL_EXCEPTION_FILTER WINAPI <span class="title">SetUnhandledExceptionFilter</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">        _In_ LPTOP_LEVEL_EXCEPTION_FILTER  lpTopLevelExceptionFilterï¼‰</span></span></span><br></pre></td></tr></table></figure><h3 id="æ³¨æ„ç‚¹ï¼š"><a href="#æ³¨æ„ç‚¹ï¼š" class="headerlink" title="æ³¨æ„ç‚¹ï¼š"></a>æ³¨æ„ç‚¹ï¼š</h3><ol><li>æœ€å¥½æ˜¯åœ¨ç¨‹åºå¼€å§‹å¤„è®¾ç½®å›è°ƒ</li><li>å¦‚æœå›è°ƒä¸ç”Ÿæ•ˆï¼Œä¹Ÿå¯ä½¿ç”¨ <code>AddVectoredExceptionHandler</code> å‡½æ•°è®¾ç½®å›è°ƒï¼Œå…¶ç”¨æ³•ä¸ <code>SetUnhandledExceptionFilter</code> åŸºæœ¬ä¸€è‡´ï¼Œä½†æ˜¯éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä½¿ç”¨ <code>AddVectoredExceptionHandler</code> åï¼Œ<code>outpuydebugstring</code> ä¹Ÿä¼šè§¦å‘å›è°ƒï¼Œæ‰€ä»¥è¿™ä¸ªå‡½æ•°æ…ç”¨ã€‚</li></ol><h2 id="dumpå›è°ƒå‡½æ•°"><a href="#dumpå›è°ƒå‡½æ•°" class="headerlink" title="dumpå›è°ƒå‡½æ•°"></a>dumpå›è°ƒå‡½æ•°</h2><p>dumpå›è°ƒå‡½æ•°å¯æ ¹æ®è‡ªå·±çš„éœ€æ±‚å»ç¼–å†™ï¼Œä»¥ä¸‹ä¸ºä¸€ä¸ªç¤ºä¾‹ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">LONG WINAPI <span class="title">MyUnhandledExceptionFilter</span><span class="params">( <span class="keyword">struct</span> _EXCEPTION_POINTERS *ExceptionInfo )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    SYSTEMTIME st;</span><br><span class="line">    <span class="built_in">GetLocalTime</span>(&amp;st);</span><br><span class="line"> </span><br><span class="line">    CString time_now = _T(<span class="string">&quot;&quot;</span>);</span><br><span class="line">    time_now.<span class="built_in">Format</span>(_T(<span class="string">&quot;%04d_%02d_%02d_%02d_%02d_%03d.dmp&quot;</span>), st.wYear, st.wMonth, st.wDay,st.wHour, st.wMinute, st.wSecond, st.wMilliseconds);</span><br><span class="line">    CString dump_file_path = <span class="built_in">GetRootPath</span>();            <span class="comment">//è·å–ç¨‹åºæ‰€åœ¨çš„æ–‡ä»¶å¤¹çš„è·¯å¾„</span></span><br><span class="line">    dump_file_path += _T(<span class="string">&quot;dump/&quot;</span>);</span><br><span class="line">    <span class="built_in">CreateDirectory</span>(dump_file_path, <span class="literal">NULL</span>);</span><br><span class="line">    dump_file_path += time_now;</span><br><span class="line">    </span><br><span class="line">    HANDLE hFile = <span class="built_in">CreateFile</span>(dump_file_path, GENERIC_READ|GENERIC_WRITE,</span><br><span class="line">        FILE_SHARE_WRITE, <span class="literal">NULL</span>, CREATE_ALWAYS, FILE_ATTRIBUTE_NORMAL, <span class="literal">NULL</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>( hFile == INVALID_HANDLE_VALUE )</span><br><span class="line">        <span class="keyword">return</span> EXCEPTION_CONTINUE_EXECUTION; <span class="comment">// å¾€ä¸‹ä¼ ï¼Œç»§ç»­äº¤ç»™ windows é»˜è®¤çš„å¤„ç†å‡½æ•°å¤„ç†</span></span><br><span class="line"></span><br><span class="line">    MINIDUMP_EXCEPTION_INFORMATION mdei;</span><br><span class="line">    mdei.ThreadId = <span class="built_in">GetCurrentThreadId</span>();</span><br><span class="line">    mdei.ExceptionPointers = ExceptionInfo;</span><br><span class="line">    mdei.ClientPointers = <span class="literal">NULL</span>;</span><br><span class="line">    MINIDUMP_CALLBACK_INFORMATION mci;  </span><br><span class="line">    mci.CallbackRoutine     = <span class="literal">NULL</span>;  </span><br><span class="line">    mci.CallbackParam       = <span class="number">0</span>;  </span><br><span class="line"></span><br><span class="line">    <span class="built_in">MiniDumpWriteDump</span>(<span class="built_in">GetCurrentProcess</span>(), <span class="built_in">GetCurrentProcessId</span>(), hFile, MiniDumpNormal, &amp;mdei, <span class="literal">NULL</span>, &amp;mci);  </span><br><span class="line"></span><br><span class="line">    <span class="built_in">CloseHandle</span>(hFile);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> EXCEPTION_EXECUTE_HANDLER;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="è®¾ç½®å›è°ƒ"><a href="#è®¾ç½®å›è°ƒ" class="headerlink" title="è®¾ç½®å›è°ƒ"></a>è®¾ç½®å›è°ƒ</h2><p>å†™å®Œå›è°ƒå‡½æ•°ä¹‹åï¼Œè°ƒç”¨ <code>SetUnhandledExceptionFilter</code> ï¼Œå…¥å‚ä¸ºå›è°ƒå‡½æ•°ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">SetUnhandledExceptionFilter</span>(MyUnhandledExceptionFilter);</span><br></pre></td></tr></table></figure><blockquote><p>åˆ°æ­¤ï¼Œè®¾ç½®å¹¶æ•è·å¼‚å¸¸çš„æ¥å£å®Œæˆï¼Œä»¥ä¸‹è¡¥å……å‡ ç‚¹ä¸ªäººç»éªŒã€‚</p></blockquote><h1 id="äºŒã€æ‰‹å†™å´©æºƒ"><a href="#äºŒã€æ‰‹å†™å´©æºƒ" class="headerlink" title="äºŒã€æ‰‹å†™å´©æºƒ"></a>äºŒã€æ‰‹å†™å´©æºƒ</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">CreteCrash</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> *ptr = <span class="literal">nullptr</span>;</span><br><span class="line">*ptr = n;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="ä¸‰ã€å›è°ƒä¸ç”Ÿæ•ˆé—®é¢˜"><a href="#ä¸‰ã€å›è°ƒä¸ç”Ÿæ•ˆé—®é¢˜" class="headerlink" title="ä¸‰ã€å›è°ƒä¸ç”Ÿæ•ˆé—®é¢˜"></a>ä¸‰ã€å›è°ƒä¸ç”Ÿæ•ˆé—®é¢˜</h1><blockquote><p><code>SetUnhandledExceptionFilter</code> æ˜¯æ— æ³•æ•è· <code>printf</code>, <code>scan</code>, <code>strlen</code> ç­‰CRTå‡½æ•°çš„å¼‚å¸¸çš„ï¼Œå¦‚<code>printf(NULL)</code> å¼‚å¸¸;é™¤æ­¤ä¹‹å¤–ï¼Œåœ¨æœ‰çš„ç¯å¢ƒå½“ä¸­ï¼Œå› ä¸ºè½¯ä»¶è¢«hookçš„é—®é¢˜ï¼Œå¯¼è‡´ <code>å‡½æ•°ä¸ç”Ÿæ•ˆï¼Œè®¾ç½®çš„å›è°ƒå¾€å¾€ä¸èµ·ä½œç”¨ï¼Œæ­¤æ—¶å¯ä»¥ä¿®æ”¹è®¾ç½®</code> çš„å‡½æ•°åœ°å€æ¥å±è”½å…¶ä»–è½¯ä»¶çš„hookã€‚</p></blockquote><h2 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">DisableSetUnhandledExceptionFilter</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">void</span>* addr = (<span class="type">void</span>*)<span class="built_in">GetProcAddress</span>(<span class="built_in">LoadLibrary</span>(_T(<span class="string">&quot;kernel32.dll&quot;</span>)), <span class="string">&quot;SetUnhandledExceptionFilter&quot;</span>);</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">if</span> (addr != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">unsigned</span> <span class="type">char</span> code[<span class="number">16</span>];</span><br><span class="line">        <span class="type">int</span> size = <span class="number">0</span>;</span><br><span class="line"> </span><br><span class="line">        code[size++] = <span class="number">0x33</span>;</span><br><span class="line">        code[size++] = <span class="number">0xC0</span>;</span><br><span class="line">        code[size++] = <span class="number">0xC2</span>;</span><br><span class="line">        code[size++] = <span class="number">0x04</span>;</span><br><span class="line">        code[size++] = <span class="number">0x00</span>;</span><br><span class="line"> </span><br><span class="line">        DWORD dwOldFlag, dwTempFlag;</span><br><span class="line">        <span class="built_in">VirtualProtect</span>(addr, size, PAGE_READWRITE, &amp;dwOldFlag);</span><br><span class="line">        <span class="built_in">WriteProcessMemory</span>(<span class="built_in">GetCurrentProcess</span>(), addr, code, size, <span class="literal">NULL</span>);</span><br><span class="line">        <span class="built_in">VirtualProtect</span>(addr, size, dwOldFlag, &amp;dwTempFlag);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ä½¿ç”¨è¯´æ˜"><a href="#ä½¿ç”¨è¯´æ˜" class="headerlink" title="ä½¿ç”¨è¯´æ˜"></a>ä½¿ç”¨è¯´æ˜</h2><p>åœ¨ç¨‹åºå¯åŠ¨å¹¶è®¾ç½®dumpå›è°ƒä¹‹åè°ƒç”¨ <code>DisableSetUnhandledExceptionFilter</code>å³å¯ã€‚</p><h2 id="æ³¨æ„äº‹é¡¹"><a href="#æ³¨æ„äº‹é¡¹" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h2><p>ç»æœ¬äººæµ‹è¯•ï¼Œåœ¨éƒ¨åˆ†æœºå™¨ä¸Šï¼Œä½¿ç”¨ <code>WriteProcessMemory</code>å’Œ <code>VirtualProtect</code> å¯èƒ½ä¼šå¯¼è‡´ç¨‹åºå´©æºƒï¼Œå¹¶ä¸”ä¸ä¼šç”Ÿæˆdumpã€‚å¯å°è¯•ä¿®æ”¹ <code>VirtualProtect</code> å’Œ <code>WriteProcessMemory</code> å‡½æ•°çš„å‚æ•°æµ‹è¯•ã€‚</p><h3 id="æ–¹æ¡ˆä¸€"><a href="#æ–¹æ¡ˆä¸€" class="headerlink" title="æ–¹æ¡ˆä¸€"></a>æ–¹æ¡ˆä¸€</h3><p>ä¿®æ”¹ <code>VirtualProtect</code> çš„ flag.è®¾ç½®ä¸º <code>PAGE_EXECUTE_READWRITE</code></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">VirtualProtect</span>(addr, size, PAGE_EXECUTE_READWRITE, &amp;dwOldFlag);</span><br></pre></td></tr></table></figure><h3 id="æ–¹æ¡ˆäºŒ"><a href="#æ–¹æ¡ˆäºŒ" class="headerlink" title="æ–¹æ¡ˆäºŒ"></a>æ–¹æ¡ˆäºŒ</h3><p><code>WriteProcessMemory</code> å¯ç›´æ¥ä½¿ç”¨ <code>memcpy</code> æ›¿ä»£ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">memcpy</span>(addr, code, size);</span><br></pre></td></tr></table></figure><h3 id="ä»£ç æ€»ç»“"><a href="#ä»£ç æ€»ç»“" class="headerlink" title="ä»£ç æ€»ç»“"></a>ä»£ç æ€»ç»“</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">DWORD dwOldFlag = <span class="number">0</span>;</span><br><span class="line"><span class="built_in">VirtualProtect</span>(addr, size, PAGE_EXECUTE_READWRITE, &amp;dwOldFlag);</span><br><span class="line"><span class="meta">#<span class="keyword">if</span> 0</span></span><br><span class="line">HANDLE hProcess = <span class="built_in">GetCurrentProcess</span>();</span><br><span class="line"><span class="keyword">if</span> (!(hProcess == <span class="literal">NULL</span> || hProcess == INVALID_HANDLE_VALUE))</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">WriteProcessMemory</span>(<span class="built_in">GetCurrentProcess</span>(), addr, code, size, <span class="literal">NULL</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">memcpy</span>(addr, code, size);</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"><span class="built_in">memcpy</span>(addr, code, size);</span><br><span class="line"><span class="built_in">VirtualProtect</span>(addr, size, dwOldFlag, &amp;dwOldFlag);</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> OS </category>
          
          <category> Windows </category>
          
          <category> Windbg </category>
          
      </categories>
      
      
        <tags>
            
            <tag> windows </tag>
            
            <tag> windbg </tag>
            
            <tag> dump </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>winuserè¯´æ˜</title>
      <link href="/OS/Windows/WinUser/winuser%E4%BB%8B%E7%BB%8D/"/>
      <url>/OS/Windows/WinUser/winuser%E4%BB%8B%E7%BB%8D/</url>
      
        <content type="html"><![CDATA[<p><a href="https://learn.microsoft.com/zh-cn/windows/win32/api/winuser/">Winuser.h æ ‡å¤´ - Win32 apps | Microsoft Learn</a></p><p>[toc]</p><h1 id="winuser-ç›¸å…³å‡½æ•°è¯´æ˜"><a href="#winuser-ç›¸å…³å‡½æ•°è¯´æ˜" class="headerlink" title="winuser ç›¸å…³å‡½æ•°è¯´æ˜"></a>winuser ç›¸å…³å‡½æ•°è¯´æ˜</h1><h2 id="GetSystemMetrics"><a href="#GetSystemMetrics" class="headerlink" title="GetSystemMetrics"></a>GetSystemMetrics</h2><blockquote><p><a href="https://learn.microsoft.com/zh-cn/windows/win32/api/winuser/nf-winuser-getsystemmetrics">GetSystemMetrics å‡½æ•° (winuser.h) - Win32 apps | Microsoft Learn</a></p><p>æ£€ç´¢æŒ‡å®šçš„ç³»ç»ŸæŒ‡æ ‡æˆ–ç³»ç»Ÿé…ç½®è®¾ç½®ã€‚</p><p>è¯·æ³¨æ„ï¼Œ <strong>GetSystemMetrics</strong> æ£€ç´¢çš„æ‰€æœ‰ç»´åº¦éƒ½ä»¥åƒç´ ä¸ºå•ä½ã€‚</p></blockquote><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> iconWidth = <span class="built_in">GetSystemMetrics</span>(SM_CXSMICON);  <span class="comment">// å›¾æ ‡åŸºå‡†å®½åº¦ </span></span><br><span class="line"><span class="type">int</span> iconHeight = <span class="built_in">GetSystemMetrics</span>(SM_CYSMICON); <span class="comment">// å›¾æ ‡åŸºå‡†é«˜åº¦</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> OS </category>
          
          <category> Windows </category>
          
          <category> WinUser </category>
          
      </categories>
      
      
        <tags>
            
            <tag> windows </tag>
            
            <tag> winuser </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Windbg åŸºç¡€å‘½ä»¤</title>
      <link href="/OS/Windows/Windbg/Windbg%E5%9F%BA%E7%A1%80%E5%91%BD%E4%BB%A4/"/>
      <url>/OS/Windows/Windbg/Windbg%E5%9F%BA%E7%A1%80%E5%91%BD%E4%BB%A4/</url>
      
        <content type="html"><![CDATA[<p>æœ¬æ–‡ä»‹ç»windbgä¸­çš„ä¸€äº›åŸºç¡€å‘½ä»¤ï¼š</p><p>[toc]</p><h3 id="åŸºç¡€å‘½ä»¤"><a href="#åŸºç¡€å‘½ä»¤" class="headerlink" title="åŸºç¡€å‘½ä»¤"></a>åŸºç¡€å‘½ä»¤</h3><table><thead><tr><th align="left">è¯´æ˜</th><th align="left">å‘½ä»¤</th><th align="left">ç”¨æ³•</th><th align="left">æè¿°</th></tr></thead><tbody><tr><td align="left">è¯´æ˜</td><td align="left">å‘½ä»¤</td><td align="left">ç”¨æ³•</td><td align="left">æè¿°</td></tr><tr><td align="left">å¸®åŠ©</td><td align="left">?</td><td align="left">?? è¡¨è¾¾å¼</td><td align="left">æ˜¾ç¤ºå¸¸è§„å‘½ä»¤è®¡ç®—è¡¨è¾¾å¼çš„å€¼</td></tr><tr><td align="left">.help</td><td align="left">.help</td><td align="left">æ˜¾ç¤ºå…ƒå‘½ä»¤(ä»¥ . å¼€å¤´çš„å‘½ä»¤)</td><td align="left"></td></tr><tr><td align="left">.hh</td><td align="left">.hh.hh bp</td><td align="left">æ‰“å¼€windbg helpæ–‡æ¡£æ‰“å¼€windbg helpæ–‡æ¡£ï¼Œå¹¶è‡ªåŠ¨è¾“å…¥bpå‘½ä»¤è¿›è¡Œæœç´¢</td><td align="left"></td></tr><tr><td align="left">ç‰ˆæœ¬</td><td align="left">version</td><td align="left"></td><td align="left">æ˜¾ç¤ºè°ƒè¯•å™¨å’Œè°ƒè¯•ç›®æ ‡ç‰ˆæœ¬</td></tr><tr><td align="left">vercommand</td><td align="left"></td><td align="left">æ˜¾ç¤ºè°ƒè¯•å™¨å¯åŠ¨æ—¶çš„å‘½ä»¤è¡Œ</td><td align="left"></td></tr><tr><td align="left">vertarget</td><td align="left"></td><td align="left">æ˜¾ç¤ºè°ƒè¯•ç›®æ ‡ç³»ç»Ÿä¿¡æ¯</td><td align="left"></td></tr><tr><td align="left">æ¸…ç©ºå±å¹•</td><td align="left">.cls</td><td align="left"></td><td align="left"></td></tr><tr><td align="left">æŸ¥çœ‹å¼‚å¸¸ä¿¡æ¯</td><td align="left">.ecxr</td><td align="left"></td><td align="left">æ˜¾ç¤ºå¼‚å¸¸ä¿¡æ¯çš„ä¸Šä¸‹æ–‡</td></tr><tr><td align="left">.lastevent</td><td align="left"></td><td align="left">æ˜¾ç¤ºæœ€è¿‘ä¸€æ¬¡å‘ç”Ÿçš„å¼‚å¸¸ä¿¡æ¯æˆ–äº‹ä»¶</td><td align="left"></td></tr><tr><td align="left">.exr -1</td><td align="left"></td><td align="left">æ˜¾ç¤ºæœ€è¿‘ä¸€æ¬¡çš„å¼‚å¸¸è®°å½•</td><td align="left"></td></tr><tr><td align="left">!analyze</td><td align="left">!analyze -v!analyze -hang!analyze -f</td><td align="left">æ˜¾ç¤ºå½“å‰å¼‚å¸¸ä¿¡æ¯åˆ†æçº¿ç¨‹æ ˆï¼Œçœ‹æ˜¯å¦æœ‰çº¿ç¨‹blockingå…¶ä»–çº¿ç¨‹See an exception analysis even when the debugger does not detect an exception.</td><td align="left"></td></tr><tr><td align="left">å¯„å­˜å™¨</td><td align="left">r</td><td align="left"></td><td align="left">æ˜¾ç¤ºå„å¯„å­˜å™¨çš„å€¼</td></tr><tr><td align="left">æ—¶é—´</td><td align="left">.time</td><td align="left"></td><td align="left">æ˜¾ç¤ºsystem&#x2F;process&#x2F;kernel&#x2F;user time</td></tr><tr><td align="left">Switch between 32-bit and 64-bit mode</td><td align="left">!wow64exts.sw<br />.load wow64exts</td><td align="left"></td><td align="left">æŸ¥çœ‹64ä½æœºå™¨ä¸Šç”Ÿæˆçš„32ä½ç¨‹åºçš„dmpæ—¶ï¼Œéœ€è¦ä½¿ç”¨æ­¤å‘½ä»¤è½¬æ¢ä¸€ä¸‹æ¨¡å¼!wow64exts.help å¯æŸ¥çœ‹ç›¸å…³å¸®åŠ©ä¿¡æ¯</td></tr></tbody></table><h3 id="è°ƒè¯•å‘½ä»¤"><a href="#è°ƒè¯•å‘½ä»¤" class="headerlink" title="è°ƒè¯•å‘½ä»¤"></a>è°ƒè¯•å‘½ä»¤</h3><table><thead><tr><th align="left">å‘½ä»¤</th><th align="left">è¯´æ˜</th><th align="left">ç¤ºä¾‹</th></tr></thead><tbody><tr><td align="left">g</td><td align="left">ç»§ç»­æ‰§è¡Œ</td><td align="left"></td></tr><tr><td align="left">gu</td><td align="left">æ‰§è¡Œåˆ°å½“å‰å‡½æ•°è¿”å› step out</td><td align="left"></td></tr><tr><td align="left">p</td><td align="left">å•æ­¥è°ƒè¯• step over</td><td align="left"></td></tr><tr><td align="left">t</td><td align="left">step into</td><td align="left"></td></tr><tr><td align="left">q</td><td align="left">ç»“æŸè°ƒè¯•ä¼šè¯&#x2F;é€€å‡º</td><td align="left"></td></tr><tr><td align="left">.restart</td><td align="left">é‡æ–°å¯åŠ¨è°ƒè¯•ç›®æ ‡</td><td align="left"></td></tr><tr><td align="left">.detach</td><td align="left">åˆ†ç¦»è°ƒè¯•ç›®æ ‡</td><td align="left"></td></tr><tr><td align="left">.attach</td><td align="left">é™„åŠ åˆ°å­˜åœ¨çš„è¿›ç¨‹ï¼Œå‚æ•°ä¸º16è¿›åˆ¶çš„PID</td><td align="left">.attach 0x123</td></tr><tr><td align="left">.create</td><td align="left">åˆ›å»ºä¸€ä¸ªæ–°çš„è¿›ç¨‹è¿›è¡Œè°ƒè¯•</td><td align="left">ä¾‹å¦‚è°ƒè¯•cmd.exe.create cmd</td></tr><tr><td align="left">.dbgdbg</td><td align="left">å¯åŠ¨å¦ä¸€ä¸ªè°ƒè¯•å™¨æ¥è°ƒè¯•å½“å‰è°ƒè¯•å™¨</td><td align="left"></td></tr><tr><td align="left">.opendump</td><td align="left">æ‰“å¼€dmpæ–‡ä»¶</td><td align="left">.opendump d:\dump\360tray.dmp</td></tr></tbody></table><h3 id="æ¨¡å—ä¿¡æ¯"><a href="#æ¨¡å—ä¿¡æ¯" class="headerlink" title="æ¨¡å—ä¿¡æ¯"></a>æ¨¡å—ä¿¡æ¯</h3><table><thead><tr><th align="left">å‘½ä»¤</th><th align="left">è¯´æ˜</th><th align="left"></th></tr></thead><tbody><tr><td align="left">lm</td><td align="left">æ˜¾ç¤ºåŠ è½½çš„æ¨¡å—ä¿¡æ¯ï¼Œexeå’Œdllç­‰</td><td align="left"></td></tr><tr><td align="left">lmvm æ¨¡å—ålm v m æ¨¡å—å</td><td align="left">æŸ¥çœ‹æŒ‡å®šæ¨¡å—è¯¦ç»†ä¿¡æ¯ï¼Œæ¯”å¦‚æŸ¥çœ‹360tray.exeä¸­åŠ è½½çš„appd.dllçš„ä¿¡æ¯ç¤ºä¾‹ï¼š lmvm appd</td><td align="left"></td></tr><tr><td align="left"></td><td align="left"></td><td align="left"></td></tr></tbody></table><h3 id="è°ƒè¯•ç¬¦å·"><a href="#è°ƒè¯•ç¬¦å·" class="headerlink" title="è°ƒè¯•ç¬¦å·"></a>è°ƒè¯•ç¬¦å·</h3><table><thead><tr><th align="left">å‘½ä»¤</th><th align="left">è¯´æ˜</th><th align="left">ç¤ºä¾‹</th></tr></thead><tbody><tr><td align="left">ld</td><td align="left">åŠ è½½æ¨¡å—çš„è°ƒè¯•ç¬¦å·</td><td align="left">ld appdld *</td></tr><tr><td align="left">ln</td><td align="left">æœç´¢ç›¸é‚»ç¬¦å·ï¼ˆè·ç¦»æŒ‡å®šåœ°å€æœ€è¿‘çš„ç¬¦å·ï¼‰</td><td align="left">ln 722d0000</td></tr><tr><td align="left">x</td><td align="left">æ˜¾ç¤ºåŒ¹é…å‚æ•°ç±»å‹çš„ç¬¦å·</td><td align="left">æ˜¾ç¤ºkernel32.dllæ‰€æœ‰ä»¥Createå¼€å¤´çš„ç¬¦å·x kernel32!Create*</td></tr><tr><td align="left">.sympath</td><td align="left">è®¾ç½®ç¬¦å·æ–‡ä»¶è·¯å¾„</td><td align="left">.sympath d:\dump</td></tr><tr><td align="left">.symfix</td><td align="left">è®¾ç½®ç³»ç»Ÿç¬¦å·å­˜æ”¾ä½ç½®</td><td align="left">è®¾ç½®ç³»ç»Ÿç¬¦å·å­˜æ”¾ä½ç½®</td></tr><tr><td align="left">.reload</td><td align="left">Reload symbol information for all modules**</td><td align="left"></td></tr></tbody></table><h3 id="è¿›ç¨‹"><a href="#è¿›ç¨‹" class="headerlink" title="è¿›ç¨‹"></a>è¿›ç¨‹</h3><table><thead><tr><th>å‘½ä»¤</th><th>è¯´æ˜</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td>.process</td><td>æ˜¾ç¤ºå½“å‰è¿›ç¨‹çš„EPROCESS</td><td></td></tr><tr><td>!process EPROCESS</td><td>æŸ¥çœ‹æŸä¸ªçº¿ç¨‹</td><td></td></tr><tr><td>!process 0 0</td><td></td><td></td></tr></tbody></table><h3 id="çº¿ç¨‹"><a href="#çº¿ç¨‹" class="headerlink" title="çº¿ç¨‹"></a>çº¿ç¨‹</h3><table><thead><tr><th align="left">å‘½ä»¤</th><th align="left">è¯´æ˜</th><th align="left">ç¤ºä¾‹</th></tr></thead><tbody><tr><td align="left">~</td><td align="left">æ˜¾ç¤ºæ‰€æœ‰çº¿ç¨‹ä¿¡æ¯</td><td align="left"></td></tr><tr><td align="left"><del>* [Command]</del>. [Command]~#[Command]</td><td align="left">ä¸ºæ‰€æœ‰çº¿ç¨‹æ‰§è¡ŒæŒ‡å®šå‘½ä»¤ä¸ºå½“å‰çº¿ç¨‹æ‰§è¡ŒæŒ‡å®šå‘½ä»¤ä¸ºå¯¼è‡´å½“å‰å¼‚å¸¸æˆ–è°ƒè¯•äº‹ä»¶çš„çº¿ç¨‹æ‰§è¡ŒæŒ‡å®šå‘½ä»¤</td><td align="left">æŸ¥çœ‹æ‰€æœ‰çº¿ç¨‹çš„æ ˆä¿¡æ¯ï¼š~* k</td></tr><tr><td align="left"><del>Number</del> Number s</td><td align="left">æ˜¾ç¤ºåºå·ä¸ºNumberçš„çº¿ç¨‹åˆ‡æ¢å½“å‰çº¿ç¨‹ä¸ºåºå·Numberçš„çº¿ç¨‹</td><td align="left">æ˜¾ç¤º10å·çº¿ç¨‹ï¼š<del>10åˆ‡æ¢åˆ°10å·çº¿ç¨‹ï¼š</del> 10 s</td></tr><tr><td align="left">~~[TID]</td><td align="left">çº¿ç¨‹IDä¸ºTIDçš„çº¿ç¨‹</td><td align="left"></td></tr><tr><td align="left">~ Number n~ Number m</td><td align="left">SuspendThread å¢åŠ çº¿ç¨‹çš„æŒ‚èµ·è®¡æ•°ResumeThread å‡å°‘çº¿ç¨‹çš„æŒ‚èµ·è®¡æ•°</td><td align="left">~ 10 n~10 m</td></tr><tr><td align="left">~ Number f~ Number u</td><td align="left">Freeze thread å†»ç»“çº¿ç¨‹Unfreeze thread è§£å†»çº¿ç¨‹æ§åˆ¶è¢«è°ƒè¯•çš„çº¿ç¨‹çš„å†»ç»“çŠ¶æ€, ä¸ä¸Šé¢ä¸¤ä¸ªå‘½ä»¤ç±»ä¼¼ï¼ˆå¤„äºå†»ç»“çŠ¶æ€æ—¶æ¢å¤ç›®æ ‡æ‰§è¡Œæ—¶è¿™ä¸ªçº¿ç¨‹ä¸ä¼šæ¢å¤æ‰§è¡Œï¼Œè¿™ä¸ªçŠ¶æ€æ˜¯è°ƒè¯•å™¨ç»´æŠ¤çš„ä¸€ä¸ªçŠ¶æ€ï¼Œæ‰§è¡Œ~ çº¿ç¨‹å· n å¢åŠ æŒ‚èµ·è®¡æ•°åï¼Œæ‰§è¡Œgè¿è¡Œæ—¶è¯¥çº¿ç¨‹ä¹Ÿä¸ä¼šè¿è¡Œï¼‰</td><td align="left"></td></tr><tr><td align="left">~ Number s</td><td align="left">åœ¨æ¢å¤æ‰§è¡Œå‘½ä»¤gå‰åŠ çº¿ç¨‹é™å®šç¬¦ï¼Œå¯ä»¥åªæ¢å¤æŒ‡å®šçš„çº¿ç¨‹æ‰§è¡Œï¼ˆåªå¯¹è¯¥çº¿ç¨‹è°ƒç”¨ResumeThreadä½¿å…¶æ¢å¤æ‰§è¡Œï¼Œå…¶ä»–çº¿ç¨‹ä»å¤„äºæŒ‚èµ·çŠ¶æ€ï¼‰</td><td align="left"></td></tr><tr><td align="left">!runaway</td><td align="left">æ˜¾ç¤ºæ¯ä¸ªçº¿ç¨‹è¿è¡Œæ—¶é—´ï¼Œå¯ä»¥æ–¹ä¾¿æ‰¾åˆ°æ¶ˆè€—cpuæ—¶é—´é•¿çš„çº¿ç¨‹</td><td align="left"></td></tr><tr><td align="left">.ttime</td><td align="left">display thread times (user + kernel mode)</td><td align="left"></td></tr><tr><td align="left">!gle!gle -all</td><td align="left">displays the last error value for the current thread -&gt;GetLastErrordisplays the last error value for all threads</td><td align="left"></td></tr><tr><td align="left">!error</td><td align="left">decodes and displays information about an error value.Specifies one of the following error codes:Win32WinsockNTSTATUSNetAPI</td><td align="left"><div class="tag-plugin image"><div class="image-bg"><img src="images/Windbg%E5%9F%BA%E7%A1%80%E5%91%BD%E4%BB%A4/1.png"/></div></div></td></tr></tbody></table><h3 id="æ ˆ"><a href="#æ ˆ" class="headerlink" title="æ ˆ"></a>æ ˆ</h3><table><thead><tr><th align="left">å‘½ä»¤</th><th align="left">è¯´æ˜</th><th align="left">ç¤ºä¾‹</th></tr></thead><tbody><tr><td align="left">k</td><td align="left">æ˜¾ç¤ºEBPï¼Œè¿”å›åœ°å€å’Œæºæ–‡ä»¶ä¿¡æ¯ï¼ˆå¦‚æœæœ‰ç§æœ‰ç¬¦å·çš„è¯ï¼‰</td><td align="left"></td></tr><tr><td align="left">kb</td><td align="left">æ˜¾ç¤ºEBPï¼Œè¿”å›åœ°å€ï¼Œå‡½æ•°å‚æ•°åŠæºæ–‡ä»¶ä¿¡æ¯ï¼ˆå¦‚æœæœ‰ç§æœ‰ç¬¦å·çš„è¯ï¼‰</td><td align="left"></td></tr><tr><td align="left">k L</td><td align="left">Lé€‰é¡¹è¡¨ç¤ºä¸æ˜¾ç¤ºæºæ–‡ä»¶ä¿¡æ¯ï¼Œä¹Ÿå¯ä»¥ç”¨äºå…¶ä»–å‘½ä»¤æ¯”å¦‚ kb Lï¼Œ kv Læˆ–å†™ä¸º kLï¼ŒkbLï¼ŒkvL</td><td align="left"></td></tr><tr><td align="left">kv</td><td align="left">åœ¨kbçš„åŸºç¡€ä¸Šå¢åŠ æ˜¾ç¤ºFPOï¼ˆæ ˆæŒ‡é’ˆçœç•¥ï¼‰ä¿¡æ¯å’Œè°ƒç”¨åè®®ï¼ˆè°ƒç”¨åè®®ä»…æ”¯æŒOn x86-based processorsï¼‰</td><td align="left"></td></tr><tr><td align="left">kpkP</td><td align="left">æ ¹æ®ç§æœ‰ç¬¦å·æ–‡ä»¶ä¸­çš„å‡½æ•°åŸå‹ä¿¡æ¯è‡ªåŠ¨æ˜¾ç¤ºå‚æ•°ä¿¡æ¯Pä¸ºå¤§å†™ï¼Œè¡¨ç¤ºæ¯ä¸ªå‚æ•°å ä¸€è¡Œ</td><td align="left"></td></tr><tr><td align="left">kn</td><td align="left">åœ¨kå‘½ä»¤çš„åŸºç¡€ä¸Šï¼Œæ¯è¡Œå‰æ˜¾ç¤ºæ ˆå¸§çš„åºå·</td><td align="left"></td></tr><tr><td align="left">kn f</td><td align="left">fé€‰é¡¹è¡¨ç¤ºæ˜¾ç¤ºæ¯ä¸¤ä¸ªç›¸é‚»æ ˆå¸§çš„å†…å­˜è·ç¦»ï¼Œå³æ ˆå¸§åŸºåœ°å€çš„å·®å€¼</td><td align="left"></td></tr></tbody></table><h3 id="æŸ¥çœ‹-x2F-ä¿®æ”¹-x2F-æœç´¢å†…å­˜æ•°æ®"><a href="#æŸ¥çœ‹-x2F-ä¿®æ”¹-x2F-æœç´¢å†…å­˜æ•°æ®" class="headerlink" title="æŸ¥çœ‹&#x2F;ä¿®æ”¹&#x2F;æœç´¢å†…å­˜æ•°æ®"></a>æŸ¥çœ‹&#x2F;ä¿®æ”¹&#x2F;æœç´¢å†…å­˜æ•°æ®</h3><table><thead><tr><th align="left">è¯´æ˜</th><th align="left">å‘½ä»¤</th><th align="left">æè¿°</th><th align="left">ç¤ºä¾‹</th></tr></thead><tbody><tr><td align="left">æŸ¥çœ‹å†…å­˜æ•°æ®  å‘½ä»¤æ ¼å¼ï¼šd{a|b|c|d|D|f|p|q|u|w|W} [Options] [Range]dy{b|d} [Options] [Range]d [Options] [Range]</td><td align="left">da</td><td align="left">ASCIIå­—ç¬¦</td><td align="left">RangeæŒ‡å®šè¦æ˜¾ç¤ºçš„å†…å­˜èŒƒå›´ï¼Œæœ‰å¦‚ä¸‹å‡ ç§è¡¨ç¤ºæ–¹æ³•ï¼šèµ·å§‹åœ°å€+ç»ˆæ­¢åœ°å€æ¯”å¦‚ï¼šdd 0012fd9c 0012fda8èµ·å§‹åœ°å€+L&#x2F;l+å…ƒç´ ä¸ªæ•°æ¯”å¦‚ï¼šdd 0012fd9c L4  æˆ–  dd 0012fd9c l4ç»ˆæ­¢åœ°å€+L&#x2F;l+è´Ÿå·+å…ƒç´ ä¸ªæ•°æ¯”å¦‚ï¼šdd 0012fda8 L-4   æˆ–   dd 0012fda8 l-4</td></tr><tr><td align="left">du</td><td align="left">Unicodeå­—ç¬¦</td><td align="left"></td><td align="left"></td></tr><tr><td align="left">dc</td><td align="left">DWORDå’ŒASCIIç </td><td align="left"></td><td align="left"></td></tr><tr><td align="left">dd</td><td align="left">DWORD</td><td align="left"></td><td align="left"></td></tr><tr><td align="left">dD</td><td align="left">åŒç²¾åº¦æµ®ç‚¹æ•°</td><td align="left"></td><td align="left"></td></tr><tr><td align="left">df</td><td align="left">å•ç²¾åº¦æµ®ç‚¹æ•°</td><td align="left"></td><td align="left"></td></tr><tr><td align="left">dp</td><td align="left">æŒ‡é’ˆ</td><td align="left"></td><td align="left"></td></tr><tr><td align="left">dq</td><td align="left">å››å­—&#x2F;8å­—èŠ‚</td><td align="left"></td><td align="left"></td></tr><tr><td align="left">dw</td><td align="left">ä¸€ä¸ªå­—&#x2F;2å­—èŠ‚</td><td align="left"></td><td align="left"></td></tr><tr><td align="left">æŸ¥çœ‹å±€éƒ¨å˜é‡<strong>dv</strong> [<em>Flags</em>] [<em>Pattern</em>]</td><td align="left">dv</td><td align="left">æŸ¥çœ‹å±€éƒ¨å˜é‡</td><td align="left">dv 02sample!gGlo*dvå‘½ä»¤å¯ä»¥å¸¦æœ‰é€šé…ç¬¦, æ¥æŸ¥çœ‹å…·æœ‰æŸå‘½åæ¨¡å¼çš„å˜é‡.</td></tr><tr><td align="left">dv &#x2F;i</td><td align="left">æŸ¥çœ‹å±€éƒ¨å˜é‡, å¹¶æ˜¾ç¤ºç¬¦å·çš„ç±»å‹å’Œå‚æ•°ç±»å‹.</td><td align="left"></td><td align="left"><div class="tag-plugin image"><div class="image-bg"><img src="images/Windbg%E5%9F%BA%E7%A1%80%E5%91%BD%E4%BB%A4/2.png"/></div></div></td></tr><tr><td align="left">dv &#x2F;t</td><td align="left">æŸ¥çœ‹å±€éƒ¨å˜é‡, å¹¶æ˜¾ç¤ºæ¯ä¸ªå±€éƒ¨å˜é‡çš„æ•°æ®ç±»å‹</td><td align="left"></td><td align="left"><div class="tag-plugin image"><div class="image-bg"><img src="images/Windbg%E5%9F%BA%E7%A1%80%E5%91%BD%E4%BB%A4/3.png"/></div></div></td></tr><tr><td align="left">dv &#x2F;V</td><td align="left">æŸ¥çœ‹å±€éƒ¨å˜é‡, å¹¶æ˜¾ç¤ºå˜é‡çš„å­˜å‚¨ä½ç½®</td><td align="left"></td><td align="left"><div class="tag-plugin image"><div class="image-bg"><img src="images/Windbg%E5%9F%BA%E7%A1%80%E5%91%BD%E4%BB%A4/4.png"/></div></div></td></tr><tr><td align="left">dv &#x2F;V VariableName</td><td align="left">æŸ¥çœ‹æŒ‡å®šåç§°çš„å˜é‡</td><td align="left"></td><td align="left"></td></tr><tr><td align="left">æŸ¥çœ‹å¤åˆç±»å‹å˜é‡</td><td align="left">dt</td><td align="left">Display Typeçš„ç¼©å†™. å½“å˜é‡çš„ç±»å‹ä¸ºå¤åˆç±»å‹, æ¯”å¦‚è¯´ç»“æ„ä½“æˆ–è€…ç±», é‚£ä¹ˆdvå‘½ä»¤åªä¼šæ˜¾ç¤ºå˜é‡çš„åœ°å€. dtå‘½ä»¤å¯ä»¥å°†ä¸€å—å†…å­˜æŒ‰ç…§æŸä¸ªæ•°æ®ç±»å‹æ¥è§£æ, å…¶ä¸­çš„æ•°æ®ç±»å‹éœ€è¦ä½œä¸ºå‚æ•°è¢«ä¼ é€’ç»™dtå‘½ä»¤.-bï¼šé€’å½’æ˜¾ç¤ºæ‰€æœ‰å­ç±»å‹-r ï¼šæŒ‡å®šæ˜¾ç¤ºæ·±åº¦ï¼Œ-r0è¡¨ç¤ºä¸æ˜¾ç¤ºå­ç±»å‹-yï¼šé™„åŠ æœç´¢é€‰é¡¹ï¼Œåªæ˜¾ç¤ºæŸä¸ªåŒ¹é…çš„å­—æ®µ</td><td align="left"><div class="tag-plugin image"><div class="image-bg"><img src="images/Windbg%E5%9F%BA%E7%A1%80%E5%91%BD%E4%BB%A4/5.png"/></div></div></td></tr><tr><td align="left">ç¼–è¾‘å†…å­˜æ•°æ®</td><td align="left">æŒ‰å­—ç¬¦ä¸²æ–¹å¼ç¼–è¾‘å‘½ä»¤æ ¼å¼ï¼še{a|u|za|zu} Address â€œStringâ€</td><td align="left">å…¶ä¸­aå’Œuåˆ†åˆ«ä»£è¡¨ä¸æ˜¯ä»¥0ç»“å°¾çš„ASCIIå’ŒUnicodeå­—ç¬¦ä¸²ï¼Œzaå’Œzuåˆ†åˆ«ä»£è¡¨ä»¥0ç»“å°¾çš„ASCIIå’ŒUnicodeå­—ç¬¦ä¸²</td><td align="left">ezu  12fc94 â€œDebugâ€   ä¿®æ”¹0012fc94åœ°å€çš„å†…å®¹ä¸ºUnicodeå­—ç¬¦ä¸²â€Debugâ€</td></tr><tr><td align="left">æŒ‰æ•°å€¼æ–¹å¼ç¼–è¾‘å‘½ä»¤æ ¼å¼ï¼še{b|d|D|f|p|q|w} Address [Values]</td><td align="left">ValuesæŒ‡å®šæ–°çš„å€¼ï¼Œå¦‚æœå‘½ä»¤ä¸­æ²¡æœ‰æŒ‡å®šè¯¥å€¼ï¼Œåˆ™Windbgä¼šä»¥äº¤äº’å¼æ–¹å¼è®©ç”¨æˆ·è¾“å…¥</td><td align="left">ew 12fc94 41 41 41 41 41 å°†0012fc94åœ°å€å¼€å§‹çš„5ä¸ªWORDéƒ½æ”¹ä¸º0x41</td><td align="left"></td></tr><tr><td align="left">æœç´¢å†…å­˜æ•°æ®</td><td align="left">æŒ‡å®šèŒƒå›´æœç´¢ä»»ä½•ANSIIæˆ–UNICODEå­—ç¬¦ä¸²å‘½ä»¤æ ¼å¼ï¼šs -[[Flags]] sa|su Range</td><td align="left">[Flags]ç”¨æ¥æŒ‡å®šæœç´¢é€‰é¡¹ï¼šL&#x2F;l+æ•´æ•°   æŒ‡å®šå­—ç¬¦ä¸²çš„æœ€å°é•¿åº¦s          å°†æœç´¢ç»“æœä¿å­˜èµ·æ¥r          åœ¨ä¿å­˜çš„ç»“æœä¸­æœç´¢ RangeæŒ‡å®šå†…å­˜èŒƒå›´ï¼Œå†™æ³•ä¸då‘½ä»¤çš„Rangeå‚æ•°ä¸€æ ·</td><td align="left">s -[L5] sa poi(nt!PsInitialSystemProcess) L200åœ¨nt!PsInitialSystemProcesså˜é‡æ‰€æŒ‡åœ°å€å¼€å§‹çš„512å­—èŠ‚ï¼ˆ0x200ï¼‰èŒƒå›´å†…æœç´¢ä»»ä½•é•¿åº¦ä¸å°äº5çš„ANSIIå­—ç¬¦ä¸²</td></tr><tr><td align="left">æŒ‡å®šå†…å­˜åœ°å€èŒƒå›´å†…æœç´¢ä¸æŒ‡å®šå¯¹è±¡ç›¸åŒç±»å‹çš„å¯¹è±¡å‘½ä»¤æ ¼å¼ï¼šs -[[Flags]]v Range Object</td><td align="left">Object ï¼š Specifies the address of an object or the address of a pointer to an object</td><td align="left"></td><td align="left"></td></tr><tr><td align="left">æŒ‡å®šèŒƒå›´å†…æœç´¢æŸä¸€å†…å®¹æ¨¡å¼å‘½ä»¤æ ¼å¼ï¼šs -[[[Flags]Type]] Range Pattern</td><td align="left">TypeæŒ‡å®šè¦æœç´¢å†…å®¹çš„æ•°æ®ç±»å‹ï¼Œå³å†³å®šåŒ¹é…æœç´¢å†…å®¹çš„æ–¹å¼ã€‚å–å€¼å¯ä»¥ä¸ºï¼šbï¼ˆå­—èŠ‚ï¼‰ï¼Œwï¼ˆå­—ï¼‰ï¼Œdï¼ˆåŒå­—ï¼‰ï¼Œqï¼ˆå››å­—ï¼‰ï¼Œaï¼ˆASCIIå­—ç¬¦ä¸²ï¼‰ï¼Œuï¼ˆUnicodeå­—ç¬¦ä¸²ï¼‰ã€‚å¦‚æœä¸æŒ‡å®šï¼Œé»˜è®¤ä¸ºbã€‚ PatternæŒ‡å®šè¦æœç´¢çš„å†…å®¹</td><td align="left">s -u  0x400000 L2a000 â€œAdvDbgâ€ä»0x400000å¼€å§‹çš„2a000èŒƒå›´å†…æœç´¢Unicodeå­—ç¬¦ä¸²â€AdvDbgâ€</td><td align="left"></td></tr><tr><td align="left">åœ¨å½“å‰è¿›ç¨‹çš„æ‰€æœ‰æ¨¡å—ä¸­è¿›è¡Œæœç´¢!for_each_module s-a @#Base @#End â€œDebuggerâ€</td><td align="left">åœ¨æ¯ä¸ªæ¨¡å—ä¸­æœç´¢å­—ç¬¦ä¸²â€ Debuggerâ€å…¶ä¸­@#Baseå’Œ@#Endæ˜¯!for_each_moduleå®šä¹‰çš„åˆ«åï¼Œå…¶ä»–çš„è¿˜æœ‰ï¼š@#ModuleNameï¼ˆæ¨¡å—åç§°ï¼‰ï¼Œ@#SymbolFileNameï¼ˆç¬¦å·æ–‡ä»¶åç§°ï¼‰ï¼Œ@#Sizeï¼ˆæ¨¡å—å¤§å°ï¼‰ï¼Œ@#SymbolTypeï¼ˆç¬¦å·æ–‡ä»¶ç±»å‹ï¼‰</td><td align="left"></td><td align="left"></td></tr></tbody></table><h3 id="è®¾ç½®æ–­ç‚¹"><a href="#è®¾ç½®æ–­ç‚¹" class="headerlink" title="è®¾ç½®æ–­ç‚¹"></a>è®¾ç½®æ–­ç‚¹</h3><table><thead><tr><th align="left">å‘½ä»¤</th><th align="left">è¯´æ˜</th><th align="left">ç¤ºä¾‹</th></tr></thead><tbody><tr><td align="left">å‘½ä»¤</td><td align="left">è¯´æ˜</td><td align="left">ç¤ºä¾‹</td></tr><tr><td align="left">bp</td><td align="left">è®¾ç½®æ–­ç‚¹å‘½ä»¤æ ¼å¼ï¼š bp[IDå·] [Options] [Address [ç¬¬å‡ æ¬¡å‘½ä¸­æ–­ç‚¹æ—¶ä¸­æ–­åˆ°è°ƒè¯•å™¨]] [â€œä¸€ç»„å‘½ä»¤ï¼Œç”¨åˆ†å·éš”å¼€â€] Optionsé€‰é¡¹å¯ç”¨çš„å€¼ï¼š&#x2F;1  æ–­ç‚¹è¢«å‘½ä¸­ä¸€æ¬¡åè‡ªåŠ¨åˆ é™¤ï¼Œå³ä¸€æ¬¡å‘½ä¸­æ–­ç‚¹&#x2F;p  åªç”¨äºå†…æ ¸è°ƒè¯•ä¸­ï¼Œ&#x2F;påè·Ÿä¸€ä¸ªEPROCESSç»“æ„çš„åœ°å€ï¼Œå³å¯¹æŒ‡å®šçš„è¿›ç¨‹è®¾ç½®æ–­ç‚¹&#x2F;t  åªç”¨äºå†…æ ¸è°ƒè¯•ä¸­ï¼Œ&#x2F;tåè·Ÿä¸€ä¸ªETHREADç»“æ„çš„åœ°å€ï¼Œå³å¯¹æŒ‡å®šçš„çº¿ç¨‹è®¾ç½®æ–­ç‚¹&#x2F;c å’Œ &#x2F;C æŒ‡å®šä¸­æ–­ç»™ç”¨æˆ·çš„æœ€å¤§å‡½æ•°è°ƒç”¨æ·±åº¦å’Œæœ€å°å‡½æ•°è°ƒç”¨æ·±åº¦ä¸¾ä¾‹ï¼šbp &#x2F;c5 MSVCR80D!printf åªæœ‰å½“å‡½æ•°è°ƒç”¨æ ˆæ·±åº¦æµ…äº5æ—¶æ‰ä¸­æ–­ã€‚ Addressè¡¨è¾¾æ–¹å¼ï¼šä½¿ç”¨æ¨¡å—ååŠ å‡½æ•°ç¬¦å·ï¼šbp LocalVar!FuncC  æˆ–å¸¦åç§»å€¼ bp LocalVar!FuncC+9ç›´æ¥ä½¿ç”¨å†…å­˜åœ°å€ï¼šbp 00401089å¦‚æœä½¿ç”¨å®Œå…¨çš„è°ƒè¯•ç¬¦å·ï¼Œè°ƒè¯•ç¬¦å·ä¸­åŒ…å«æºä»£ç è¡Œä¿¡æ¯ï¼Œå¯ä»¥ç”¨ï¼š bpï½€æ¨¡å—å!XXX.cpp:è¡Œå·ï½€ ï¼Œ å…¶ä¸­ï½€ä¸ºé‡éŸ³ç¬¦å·å¯¹äºC++çš„ç±»æ–¹æ³•ï¼Œå¯ä»¥ä½¿ç”¨ç±»ååŒå†’å·(::)æˆ–åŒä¸‹åˆ’çº¿(__)æ¥è¿æ¥ç±»åå’Œæ–¹æ³•åï¼š bp MyClass::MyMethod  æˆ– bp MyClass__MyMethod æˆ– bp @@(MyClass::MyMethod)</td><td align="left">ï¼ˆ1ï¼‰bp LocalVar!FuncC+9  å…¶ä¸­ LocalVarä¸ºæ¨¡å—åç§°ï¼ŒFuncCä¸ºå‡½æ•°åç§°ï¼Œ9ä¸ºåç§» ï¼ˆ2ï¼‰bp 00401089   åœ¨æŒ‡å®šçš„åœ°å€ä¸Šä¸‹æ–­ç‚¹ ï¼ˆ3ï¼‰bp MSVCR80D!printf + 3  2 â€œkv; da poi(ebp+8)â€  åœ¨printfçš„å…¥å£åç§»3çš„åœ°å€å¤„ä¸‹æ–­ç‚¹(ä¸ºäº†è®©å»ºç«‹æ ˆå¸§çš„ä»£ç æ‰§è¡Œå®Œ)ï¼Œå½“ç¬¬2æ¬¡å‘½ä¸­æ–­ç‚¹æ—¶ä¸­æ–­åˆ°è°ƒè¯•å™¨ï¼Œå¹¶è‡ªåŠ¨æ‰§è¡Œkvå’Œda poi(ebp+8)å‘½ä»¤ã€‚  å…¶ä¸­ï¼Œda poi(ebp+8)ç”¨æ¥æ˜¾ç¤ºprintfçš„ç¬¬ä¸€ä¸ªå‚æ•°æ‰€æŒ‡å®šçš„å­—ç¬¦ä¸²ã€‚</td></tr><tr><td align="left">bu</td><td align="left">ç”¨äºå¯¹å°šæœªè¢«åŠ è½½æ¨¡å—ä¸­çš„ä»£ç è®¾ç½®æ–­ç‚¹å‘½ä»¤æ ¼å¼ï¼š bu[IDå·] [Options] [Address [ç¬¬å‡ æ¬¡å‘½ä¸­æ–­ç‚¹æ—¶ä¸­æ–­åˆ°è°ƒè¯•å™¨]] [â€œä¸€ç»„å‘½ä»¤ï¼Œç”¨åˆ†å·éš”å¼€â€]</td><td align="left">å¯¹äºè°ƒè¯•åŠ¨æ€åŠ è½½æ¨¡å—çš„å…¥å£å‡½æ•°å’Œåˆå§‹åŒ–ä»£ç æ¯”è¾ƒæœ‰ç”¨ï¼Œæ¯”å¦‚å¯¹äºå³æ’å³ç”¨è®¾å¤‡çš„é©±åŠ¨ç¨‹åºã€‚å¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤åœ¨å…¥å£å‡½æ•°å¤„è®¾ç½®æ–­ç‚¹ï¼š bu  MyDriver!DriverEntry</td></tr><tr><td align="left">bm</td><td align="left">ç”¨äºè®¾ç½®ä¸€æ‰¹æ–­ç‚¹å‘½ä»¤æ ¼å¼ï¼šbm [Options] SymbolPattern [ç¬¬å‡ æ¬¡å‘½ä¸­æ–­ç‚¹æ—¶ä¸­æ–­åˆ°è°ƒè¯•å™¨] [â€œä¸€ç»„å‘½ä»¤ï¼Œç”¨åˆ†å·éš”å¼€â€] bmå‘½ä»¤è¦æ±‚ç›®æ ‡æ¨¡å—çš„è°ƒè¯•ç¬¦å·æœ‰ç±»å‹ä¿¡æ¯ï¼Œè¿™é€šå¸¸éœ€è¦ç§æœ‰ç¬¦å·æ–‡ä»¶ï¼Œå¦‚æœå¯¹å…¬å…±ç¬¦å·æ–‡ä»¶çš„æ¨¡å—ä½¿ç”¨bmå‘½ä»¤ï¼Œä¼šæç¤ºé”™è¯¯ä¿¡æ¯ã€‚è§£å†³è¿™ä¸ªé—®é¢˜çš„æ–¹æ³•æ˜¯ä½¿ç”¨ &#x2F;a å¼€å…³ï¼Œå¼ºåˆ¶é’ˆå¯¹æ‰€æœ‰åŒ¹é…çš„ç¬¦å·è®¾ç½®æ–­ç‚¹ï¼Œæ— è®ºæ˜¯æ•°æ®è¿˜æ˜¯ä»£ç ï¼Œå»ºè®®åªæœ‰åœ¨ç¡®ä¿¡æ‰€æœ‰ç¬¦å·æ˜¯å‡½æ•°æ—¶æ‰ä½¿ç”¨ã€‚</td><td align="left">bm MSVCR80D!print* å¯¹MSVCR80Dä¸­æ‰€æœ‰printå¼€å¤´çš„å‡½æ•°è®¾ç½®æ–­ç‚¹</td></tr><tr><td align="left">ba</td><td align="left">è®¾ç½®è¯»ï¼Œå†™ï¼Œæ‰§è¡Œæ–­ç‚¹å‘½ä»¤æ ¼å¼ï¼šba[IDå·] Access  Size [Options] [Address [ç¬¬å‡ æ¬¡å‘½ä¸­æ–­ç‚¹æ—¶ä¸­æ–­åˆ°è°ƒè¯•å™¨]] [â€œä¸€ç»„å‘½ä»¤ï¼Œç”¨åˆ†å·éš”å¼€â€]å…¶ä¸­AccessæŒ‡å®šè§¦å‘æ–­ç‚¹çš„è®¿é—®æ–¹å¼ï¼ŒSizeæŒ‡å®šè®¿é—®çš„é•¿åº¦ã€‚ Accessçš„å–å€¼å¦‚ä¸‹ï¼še  è¯»å–å’Œæ‰§è¡ŒæŒ‡ä»¤æ—¶è§¦å‘æ–­ç‚¹ï¼Œå³è®¿é—®ä»£ç ç¡¬ä»¶æ–­ç‚¹r   è¯»å–å’Œå†™å…¥æ•°æ®æ—¶è§¦å‘æ–­ç‚¹w  å†™å…¥æ•°æ®æ—¶è§¦å‘æ–­ç‚¹i   æ‰§è¡ŒI&#x2F;Oè®¿é—®æ—¶è§¦å‘æ–­ç‚¹   Sizeçš„å–å€¼å¦‚ä¸‹ï¼šå¯¹äºè®¿é—®ä»£ç ç¡¬ä»¶æ–­ç‚¹ï¼Œå®ƒçš„å€¼åº”è¯¥ä¸º1å¯¹äºx86ç³»ç»Ÿï¼Œå¯ä»¥ä¸º1ï¼Œ2ï¼Œ4ï¼Œåˆ†åˆ«è¡¨ç¤º1å­—èŠ‚è®¿é—®ï¼Œå­—è®¿é—®å’ŒåŒå­—è®¿é—®å¯¹äºx64ç³»ç»Ÿï¼Œå¯ä»¥ä¸º1ï¼Œ2ï¼Œ4ï¼Œ 8å¯¹äºå®‰è…¾ç³»ç»Ÿï¼Œå¯ä»¥ä¸º1 - 0x80000000é—´çš„ä»»æ„2æ¬¡æ–¹å€¼</td><td align="left">ba  r1 0041717c  å¯¹åœ°å€0041717cçš„1å­—èŠ‚è®¿é—®ï¼Œå­—è®¿é—®å’ŒåŒå­—è®¿é—®ï¼ˆè¯»å†™ï¼‰éƒ½ä¼šè§¦å‘è¯¥æ–­ç‚¹</td></tr><tr><td align="left">bl</td><td align="left">åˆ—å‡ºå½“å‰æ‰€æœ‰æ–­ç‚¹</td><td align="left"></td></tr><tr><td align="left">bc  æ–­ç‚¹å·</td><td align="left">åˆ é™¤æ–­ç‚¹</td><td align="left">æ–­ç‚¹å·å¯ä»¥ä½¿ç”¨*æ¥é€šé…æ‰€æœ‰æ–­ç‚¹ï¼Œä½¿ç”¨ - æ¥è¡¨ç¤ºä¸€ä¸ªèŒƒå›´ï¼Œæˆ–è€…ä½¿ç”¨é€—å·æ¥æŒ‡å®šå¤šä¸ªæ–­ç‚¹å·</td></tr><tr><td align="left">bd  æ–­ç‚¹å·</td><td align="left">ç¦ç”¨æ–­ç‚¹</td><td align="left"></td></tr><tr><td align="left">be  æ–­ç‚¹å·</td><td align="left">å¯ç”¨æ–­ç‚¹</td><td align="left"></td></tr><tr><td align="left">sxe ld:[dllåç§°]</td><td align="left">åŠ è½½æŸä¸ªDLLæ—¶ä¸‹æ–­ç‚¹ bu wininet!DllMain  ä¸ sxe ld:wininet æ•ˆæœç›¸åŒbp kernel32!LoadLibraryW &#x2F;bp kernel32!LoadLibraryA</td><td align="left">sxe ld:wininetåŠ è½½wininetæ—¶ä¸‹æ–­ç‚¹sxe ld:* &#x2F; sxe ud:*  åŒ¹é…æ‰€æœ‰DLLæ¨¡å—</td></tr><tr><td align="left">sxe ud:[dllåç§°]</td><td align="left">å¸è½½æŸä¸ªDLLæ—¶ä¸‹æ–­ç‚¹</td><td align="left"></td></tr></tbody></table><h2 id="æŸ¥çœ‹å¥æŸ„ä¿¡æ¯"><a href="#æŸ¥çœ‹å¥æŸ„ä¿¡æ¯" class="headerlink" title="æŸ¥çœ‹å¥æŸ„ä¿¡æ¯"></a>æŸ¥çœ‹å¥æŸ„ä¿¡æ¯</h2><table><thead><tr><th>å‘½ä»¤</th><th>è¯´æ˜</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td>!handle</td><td>æ‰©å±•æ˜¾ç¤ºç›®æ ‡ç³»ç»Ÿä¸­ä¸€ä¸ªæˆ–æ‰€æœ‰è¿›ç¨‹æ‹¥æœ‰çš„å¥æŸ„çš„ä¿¡æ¯</td><td></td></tr><tr><td>!handle 4 f</td><td>ç”¨â€™fâ€™è¡¨ç¤ºæ˜¾ç¤ºæœ€è¯¦ç»†çš„ä¿¡æ¯ï¼š</td><td></td></tr><tr><td></td><td></td><td></td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> OS </category>
          
          <category> Windows </category>
          
          <category> Windbg </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Windows </tag>
            
            <tag> Windbg </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Win7 ä½¿ç”¨æœªç­¾åé©±åŠ¨ç¨‹åº</title>
      <link href="/OS/Windows/Win7%20%E9%A9%B1%E5%8A%A8%E6%9C%AA%E7%AD%BE%E5%90%8D%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8/"/>
      <url>/OS/Windows/Win7%20%E9%A9%B1%E5%8A%A8%E6%9C%AA%E7%AD%BE%E5%90%8D%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8/</url>
      
        <content type="html"><![CDATA[<h1 id="win7ä½¿ç”¨æœªç­¾åé©±åŠ¨ç¨‹åº"><a href="#win7ä½¿ç”¨æœªç­¾åé©±åŠ¨ç¨‹åº" class="headerlink" title="win7ä½¿ç”¨æœªç­¾åé©±åŠ¨ç¨‹åº"></a>win7ä½¿ç”¨æœªç­¾åé©±åŠ¨ç¨‹åº</h1><h1 id="æ“ä½œ"><a href="#æ“ä½œ" class="headerlink" title="æ“ä½œ"></a>æ“ä½œ</h1><p>å…·ä½“æ–¹æ³•å¦‚ä¸‹:</p><p>1ã€åœ¨ win7 64 ä½ç³»ç»Ÿä¸Šï¼Œå®‰è£…æŸäº›é©±åŠ¨ç¨‹åºæ— æ³•æˆåŠŸæ—¶ï¼Œè€ƒè™‘ç¦ç”¨æ•°å­—ç­¾åï¼Œé‡æ–°å¯åŠ¨è®¡ç®—æœºï¼›è¿™æ˜¯ä¸ XP ç³»ç»Ÿä¸åŒçš„åœ°æ–¹ï¼ŒXP ç³»ç»Ÿæ²¡æœ‰è¿™ä¸ªåŠŸèƒ½ï¼Œä¸ç”¨è€ƒè™‘ç¦ç”¨æ•°å­—ç­¾åï¼›</p><p>2ã€åœ¨ç”µè„‘å¯åŠ¨çš„è¿‡ç¨‹ä¸­ï¼Œä¸ç”¨ç­‰åˆ°è¿›å»è¾“å…¥ç”¨æˆ·ç™»é™†æ¡†ï¼ŒæŒ‰é”®ç›˜ä¸Šé¢çš„æŒ‰é”® F8ï¼Œå°±ä¼šå‡ºç°ç³»ç»Ÿå¯åŠ¨é¡¹ï¼Œä¾›æˆ‘ä»¬è¿›è¡Œé€‰æ‹©ï¼›</p><p>3ã€ç„¶åé€‰æ‹©ï¼Œç¦ç”¨æ•°å­—ç­¾åï¼Œå¯åŠ¨ç”µè„‘ï¼Œæ•°å­—ç­¾åè¢«ç¦ç”¨åï¼Œé©±åŠ¨å°±èƒ½æˆåŠŸå®‰è£…äº†ã€‚ä½†æ˜¯é‡å¯ç”µè„‘ä¹‹åï¼Œè®¾ç½®åˆä¼šæ¢å¤æˆå¯ç”¨æ•°å­—ç­¾åã€‚æœ‰äº›ç”µè„‘çš„ç¦ç”¨ï¼Œæ˜¯ä¸€æ¬¡æ€§çš„ï¼›</p><p>4ã€æˆ‘ä»¬ä¹Ÿå¯ä»¥å¼ºåˆ¶å…³é—­æ•°å­—ç­¾åï¼Œè¿›å…¥ç³»ç»Ÿåï¼Œä½¿ç”¨ç®¡ç†å‘˜ï¼Œåœ¨ CMD è¿è¡Œå™¨ä¸­ï¼Œè¾“å…¥ <code>bcdedit.exe -set loadoptions DDISABLE_INTEGRITY_CHECKS ï¼›</code>ç„¶åä¼šå‡ºç°ç¦ç”¨æˆåŠŸçš„æç¤ºï¼›</p><p>5ã€å†é‡å¯ç”µè„‘ï¼Œé‚£ä¹ˆç³»ç»Ÿå°±ä¼šä¸€ç›´é»˜è®¤å…³é—­æ•°å­—ç­¾åäº†ã€‚å®‰è£…é©±åŠ¨å°±ä¼šæˆåŠŸäº†ã€‚</p><p>ä»¥ä¸Šå†…å®¹å°±æ˜¯ win7 64 ä½ç³»ç»Ÿç¦ç”¨æ•°å­—ç­¾åçš„è¯¦ç»†æ­¥éª¤ï¼Œå…³é—­æ•°å­—ç­¾ååï¼Œåº”ç”¨ç¨‹åºå°±å¯ä»¥å®‰è£…æˆåŠŸäº†ã€‚</p><h1 id="å¯èƒ½å­˜åœ¨çš„é—®é¢˜"><a href="#å¯èƒ½å­˜åœ¨çš„é—®é¢˜" class="headerlink" title="å¯èƒ½å­˜åœ¨çš„é—®é¢˜"></a>å¯èƒ½å­˜åœ¨çš„é—®é¢˜</h1><p>win7 X64 ç³»ç»Ÿä¸­å¯¹é©±åŠ¨ç¨‹åºè¦æ±‚æœ‰æ•°å­—ç­¾åï¼Œå¦åˆ™æ— æ³•æ­£å¸¸ä½¿ç”¨ã€‚ä½†æœ‰æ—¶éœ€è¦ç”¨åˆ°æ²¡æœ‰æ•°å­—ç­¾åçš„é©±åŠ¨ç¨‹åºï¼Œå¯æ­£å¸¸å®‰è£…åé©±åŠ¨æ˜¯æ— æ³•ä½¿ç”¨çš„ï¼Œ</p><p>å…·ä½“è¡¨ç°å¦‚ä¸‹ï¼š</p><p>1ã€æ— æ³•è‡ªåŠ¨è¯†åˆ«ç¡¬ç›˜æ§åˆ¶å™¨</p><p>ä½¿ç”¨éæ­£ç‰ˆçš„ä¸ªåˆ«æ“ä½œç³»ç»Ÿå…‰ç›˜ï¼Œåœ¨å®‰è£…ç³»ç»Ÿæ—¶ï¼Œå®¹æ˜“å‡ºç°æ­¤é”™è¯¯ã€‚åŸå› æ˜¯éæ­£ç‰ˆå…‰ç›˜è‡ªåŠ¨åŠ è½½çš„ç¡¬ç›˜æ§åˆ¶å™¨é©±åŠ¨ä¸ç¬¦åˆç”µè„‘è‡ªèº«éœ€è¦çš„é©±åŠ¨ã€‚è¿™ç§æƒ…å†µå°±å»ºè®®æ¢æ­£ç‰ˆå…‰ç›˜å®‰è£…æ“ä½œç³»ç»Ÿã€‚</p><p>2ã€æ‰‹åŠ¨æ›´æ–°é”™è¯¯çš„é©±åŠ¨ç¨‹åº</p><p>windowsæ“ä½œç³»ç»Ÿæ­£å¸¸ä½¿ç”¨ï¼Œä½†æ‰‹åŠ¨æ›´æ–°é©±åŠ¨ç¨‹åºæŠŠç¡¬ç›˜æ§åˆ¶å™¨çš„é©±åŠ¨ç¨‹åºæ›´æ–°é”™è¯¯ï¼Œå¯¼è‡´æ­¤æ•…éšœã€‚è§£å†³æ–¹æ³•æ˜¯è¿›å…¥windowsç³»ç»Ÿé«˜çº§èœå•ï¼Œé€‰æ‹©æœ€åä¸€æ¬¡çš„æ­£å¸¸é…ç½®ï¼Œå³å¯æ­£å¸¸è¿›å…¥ç³»ç»Ÿã€‚</p><p>3ã€bios è®¾ç½®å˜åŒ–åæ‰€å¯¼è‡´</p><p>windows æ“ä½œç³»ç»Ÿæ­£å¸¸ï¼Œä½†æ˜¯ç”±äºæŸäº›åŸå› ï¼Œç”¨æˆ·ä¿®æ”¹äº† bios è®¾ç½®ï¼Œå¯¼è‡´ <code>0x0000007b</code> æ•…éšœã€‚</p><p>â‘ å¦‚æœåªæ˜¯ä¸€æ¬¡æ€§ç¦ç”¨é©±åŠ¨ç¨‹åºçš„è®¤è¯ç­¾åï¼Œå¯ä»¥åœ¨å¼€æœºæ—¶æŒ‰ <kbd>F8</kbd> é”®ï¼Œåœ¨å¼¹å‡ºçš„èœå•ä¸­æœ‰ ç¦ç”¨é©±åŠ¨ç¨‹åºç­¾åå¼ºåˆ¶ é€‰é¡¹ï¼Œä½¿ç”¨ä¸Šä¸‹é”®é€‰ä¸­ä¹‹åï¼Œå†æŒ‰å›è½¦é”®ç¡®è®¤ï¼Œè¿›å…¥ç³»ç»Ÿå³å¯ä½¿ç”¨è‡ªå·±çš„é©±åŠ¨ç¨‹åºæ›´æ–°è®¾å¤‡çš„é©±åŠ¨ç¨‹åºäº†ã€‚</p><p>â‘¡å°¤å…¶æ˜¯ä¸éœ€è¦å¾®è½¯çš„ç­¾åé©±åŠ¨ç¨‹åºï¼Œè¿˜å¯ä»¥è¿™æ ·æ‰“å¼€ç³»ç»Ÿå±æ€§è¿›è¡Œè®¾ç½®ï¼š</p><p>è¿è¡Œä¸­è¾“å…¥ï¼š<code>sysdm.cpl</code> <kbd>â†’</kbd> ç¡®å®š</p><p>â‘¢ç¡¬ä»¶â†’è®¾å¤‡å®‰è£…è®¾ç½®</p><p>â‘£ä»ä¸å®‰è£…æ¥è‡ª Windows Update çš„é©±åŠ¨ç¨‹åºè½¯ä»¶â†’ä¿å­˜æ›´æ”¹</p><p>å»ºè®®ï¼šä½¿ç”¨å®Œæ¯•ï¼Œå†æ”¹å›ä½¿ç”¨ Windows Update æ›´æ–°é©±åŠ¨é€‰é¡¹ï¼Œæ¯•ç«Ÿå¾ˆå¤šè®¾å¤‡éƒ½éœ€è¦ä½¿ç”¨å¾®è½¯è®¤è¯ç­¾åçš„é©±åŠ¨ç¨‹åºã€‚</p><p>â‘¤è¿˜å¯ä»¥ä½¿ç”¨å‘½ä»¤ï¼š</p><p>å¼€å§‹â†’æ‰€æœ‰ç¨‹åºâ†’é™„ä»¶â†’å³é”®å‘½ä»¤æç¤ºç¬¦â†’ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œ</p><p>â‘¥æ‰“å¼€å‘½ä»¤æç¤ºç¬¦ï¼Œå¤åˆ¶ä»¥ä¸‹çš„å‘½ä»¤ï¼Œå³é”®ç‚¹å‡»ç©ºç™½å¤„â†’ç²˜è´´â†’åœ¨æŒ‰å›è½¦é”®ï¼š</p><p><code>bcdedit.exe -set loadoptions DDISABLE_INTEGRITY_CHECKS</code></p><p>å‘½ä»¤æ­£ç¡®ï¼Œæœ‰æ“ä½œæˆåŠŸå®Œæˆçš„æç¤ºã€‚</p><p>â‘¦é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜å¯ä»¥åœ¨ç»„ç­–ç•¥ä¸­è¿›è¡Œç›¸å…³è®¾ç½®ï¼š</p><p>å¼€å§‹â†’è¿è¡Œâ†’è¾“å…¥ï¼š <code>gpedit.msc</code> å›è½¦æ‰“å¼€ç»„ç­–ç•¥ç¼–è¾‘å™¨ã€‚</p><p>â‘§åœ¨çª—ä½“å·¦ä¾§é€‰æ‹©ï¼š ç”¨æˆ·é…ç½®â†’ç®¡ç†æ¨¡æ¿â†’ç³»ç»Ÿâ†’é©±åŠ¨ç¨‹åºå®‰è£…â†’å†åŒå‡»å³ä¾§çª—å£çš„ è®¾å¤‡é©±åŠ¨çš„ä»£ç ç­¾å ç­–ç•¥è¿›è¡Œè®¾ç½®ã€‚</p><p>â‘¨ç‚¹é€‰â†’å·²å¯ç”¨â†’è¿™é‡Œè¿˜æœ‰ä¸‰ä¸ªé€‰æ‹©é¡¹ï¼šè­¦å‘Šã€å¿½ç•¥ã€ç»„ç»‡(é»˜è®¤æ˜¯è­¦å‘Š)â†’ç¡®å®š</p>]]></content>
      
      
      <categories>
          
          <category> OS </category>
          
          <category> Windows </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Win7 </tag>
            
            <tag> ç­¾å </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¦‚ä½•è®©æ§åˆ¶å°ç¨‹åºä¸æ˜¾ç¤ºç•Œé¢</title>
      <link href="/OS/Windows/Visual%20Studio/%E6%8E%A7%E5%88%B6%E5%8F%B0%E7%A8%8B%E5%BA%8F%E4%B8%8D%E6%98%BE%E7%A4%BA%E7%95%8C%E9%9D%A2/"/>
      <url>/OS/Windows/Visual%20Studio/%E6%8E%A7%E5%88%B6%E5%8F%B0%E7%A8%8B%E5%BA%8F%E4%B8%8D%E6%98%BE%E7%A4%BA%E7%95%8C%E9%9D%A2/</url>
      
        <content type="html"><![CDATA[<p>[toc]</p><h1 id="windowsæ§åˆ¶å°ç¨‹åºä¸æ˜¾ç¤ºç•Œé¢çš„å‡ ç§æ–¹å¼"><a href="#windowsæ§åˆ¶å°ç¨‹åºä¸æ˜¾ç¤ºç•Œé¢çš„å‡ ç§æ–¹å¼" class="headerlink" title="windowsæ§åˆ¶å°ç¨‹åºä¸æ˜¾ç¤ºç•Œé¢çš„å‡ ç§æ–¹å¼"></a>windowsæ§åˆ¶å°ç¨‹åºä¸æ˜¾ç¤ºç•Œé¢çš„å‡ ç§æ–¹å¼</h1><p>è¦ä½¿Windowsæ§åˆ¶å°ç¨‹åºåœ¨åå°è¿è¡Œï¼Œè€Œä¸æ˜¾ç¤ºç•Œé¢ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‡ ç§æ–¹æ³•ï¼š</p><h2 id="1-æ›´æ”¹ç¨‹åºçš„åç¼€å"><a href="#1-æ›´æ”¹ç¨‹åºçš„åç¼€å" class="headerlink" title="1. æ›´æ”¹ç¨‹åºçš„åç¼€å"></a>1. æ›´æ”¹ç¨‹åºçš„åç¼€å</h2><p>å°†ç¨‹åºçš„åç¼€åä¿®æ”¹ä¸º<code>.com</code>æˆ–è€…<code>.pif</code>ï¼Œè¿™ä¼šå¯¼è‡´ç¨‹åºåœ¨åå°è¿è¡Œæ—¶ä¸æ˜¾ç¤ºæ§åˆ¶å°çª—å£ã€‚</p><h2 id="2-ä¿®æ”¹ç¨‹åºçš„å­ç³»ç»Ÿ"><a href="#2-ä¿®æ”¹ç¨‹åºçš„å­ç³»ç»Ÿ" class="headerlink" title="2. ä¿®æ”¹ç¨‹åºçš„å­ç³»ç»Ÿ"></a>2. ä¿®æ”¹ç¨‹åºçš„å­ç³»ç»Ÿ</h2><p>ä½¿ç”¨Visual Studioç­‰å¼€å‘å·¥å…·ï¼Œå°†ç¨‹åºçš„å­ç³»ç»Ÿä¿®æ”¹ä¸º<code>Windows</code>è€Œä¸æ˜¯<code>Console</code>ã€‚è¿™æ ·å¯ä»¥ä½¿ç¨‹åºåœ¨åå°ä»¥çª—å£åº”ç”¨ç¨‹åºçš„å½¢å¼è¿è¡Œã€‚å…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š</p><ul><li>æ‰“å¼€é¡¹ç›®çš„å±æ€§ï¼ˆå³é”®é¡¹ç›® -&gt; å±æ€§ï¼‰ã€‚</li><li>åˆ‡æ¢åˆ°â€œé…ç½®å±æ€§â€ -&gt; â€œé“¾æ¥å™¨â€ -&gt; â€œç³»ç»Ÿâ€ã€‚</li><li>ä¿®æ”¹â€œå­ç³»ç»Ÿâ€å±æ€§ä¸ºâ€œWindows (&#x2F;SUBSYSTEM:WINDOWS)â€ã€‚</li><li>ç¼–è¯‘å’Œè¿è¡Œé¡¹ç›®ã€‚</li></ul><blockquote><p>ä½¿ç”¨æ­¤æ–¹å¼å¯èƒ½ä¼šä½¿ç¨‹åºç¼–è¯‘æŠ¥é”™ï¼š</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">é”™è¯¯LNK2001æ— æ³•è§£æçš„å¤–éƒ¨ç¬¦å· _WinMain@16</span><br><span class="line">fatal error LNK1120: 1 ä¸ªæ— æ³•è§£æçš„å¤–éƒ¨å‘½ä»¤</span><br></pre></td></tr></table></figure><p>éœ€è¦åœ¨æ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹ä»£ç ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è®¾ç½®è¿æ¥å™¨é€‰é¡¹</span></span><br><span class="line"><span class="meta">#<span class="keyword">pragma</span> comment(linker, <span class="string">&quot;/entry:mainCRTStartup&quot;</span>) </span></span><br></pre></td></tr></table></figure></blockquote><h2 id="ä½¿ç”¨ç¬¬ä¸‰æ–¹å·¥å…·"><a href="#ä½¿ç”¨ç¬¬ä¸‰æ–¹å·¥å…·" class="headerlink" title="ä½¿ç”¨ç¬¬ä¸‰æ–¹å·¥å…·"></a>ä½¿ç”¨ç¬¬ä¸‰æ–¹å·¥å…·</h2><p>å¯ä»¥ä½¿ç”¨ç¬¬ä¸‰æ–¹å·¥å…·å°†æ§åˆ¶å°ç¨‹åºåŒ…è£…æˆæ— ç•Œé¢çš„åº”ç”¨ç¨‹åºã€‚ä¾‹å¦‚ï¼Œå¯ä»¥ä½¿ç”¨nssmï¼ˆNon-Sucking Service Managerï¼‰å·¥å…·å°†æ§åˆ¶å°ç¨‹åºå®‰è£…ä¸ºæœåŠ¡ï¼Œå¹¶è®¾ç½®è¯¥æœåŠ¡åœ¨åå°è¿è¡Œè€Œä¸æ˜¾ç¤ºç•Œé¢ã€‚</p><p>ä»¥ä¸Šæ˜¯å‡ ç§å¸¸ç”¨çš„æ–¹æ³•ï¼Œå¯ä»¥æ ¹æ®å…·ä½“éœ€æ±‚é€‰æ‹©é€‚åˆçš„æ–¹å¼æ¥å®ç°æ§åˆ¶å°ç¨‹åºåœ¨åå°è¿è¡Œè€Œä¸æ˜¾ç¤ºç•Œé¢ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> OS </category>
          
          <category> Windows </category>
          
          <category> Visual Studio </category>
          
      </categories>
      
      
        <tags>
            
            <tag> visual studio </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++ å¸¸è§é”™è¯¯â€”â€”æ— æ³•è§£æçš„å¤–éƒ¨ç¬¦å·</title>
      <link href="/OS/Windows/Visual%20Studio/%E6%97%A0%E6%B3%95%E8%A7%A3%E6%9E%90%E7%9A%84%E5%A4%96%E9%83%A8%E7%AC%A6%E5%8F%B7%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86/"/>
      <url>/OS/Windows/Visual%20Studio/%E6%97%A0%E6%B3%95%E8%A7%A3%E6%9E%90%E7%9A%84%E5%A4%96%E9%83%A8%E7%AC%A6%E5%8F%B7%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86/</url>
      
        <content type="html"><![CDATA[<blockquote><p>å…³äºC++å¸¸è§é”™è¯¯â€œæ— æ³•è§£æçš„å¤–éƒ¨ç¬¦å·â€è¿™ä¸€é—®é¢˜å¦‚ä½•è§£å†³çš„æ€è€ƒä¸æ–¹æ³•ã€‚</p><p>æœ¬æ–‡å°±ä½¿ç”¨libeventä¸­é‡åˆ°çš„ç›¸ä¼¼é—®é¢˜ç€æ‰‹è¿›è¡Œåˆ†æè¯¥å¦‚ä½•è§£å†³ï¼Œå…¶ä»–æƒ…å†µä»éœ€æŒ‰å®é™…æƒ…å†µè¿›è¡Œåˆ†æå¤„ç†ã€‚å¸¸è§çš„åŸå› æ— å¤–ä¹ç¼ºå°‘ç¼–è¯‘åº“ã€‚</p></blockquote><div class="tag-plugin image"><div class="image-bg"><img src="images/%E6%97%A0%E6%B3%95%E8%A7%A3%E6%9E%90%E7%9A%84%E5%A4%96%E9%83%A8%E7%AC%A6%E5%8F%B7%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86/1.png"/></div></div><div class="tag-plugin image"><div class="image-bg"><img src="images/%E6%97%A0%E6%B3%95%E8%A7%A3%E6%9E%90%E7%9A%84%E5%A4%96%E9%83%A8%E7%AC%A6%E5%8F%B7%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86/2.png"/></div></div><ol><li><p>å¦‚ä¸Šå›¾æ‰€ç¤ºï¼ŒæŠ¥é”™ä¸ºæ— æ³•è§£æçš„å¤–éƒ¨ç¬¦å·ï¼Œç¬¦å·ä¸º <code>__imp__if_nametoindex@4</code>ï¼Œ ä¸€èˆ¬è¿™ç§ç¬¦å·å°±æ˜¯ç¼ºå°‘å¯¼å‡ºçš„æ¥å£ï¼Œå¯¼å‡ºæ¥å£ä¸€èˆ¬ä¸º <code>å‡½æ•°å@å¯¼å‡ºåºå·</code>ã€‚åŸºæœ¬å¯ä»¥ç¡®å®šæ˜¯ç¼ºå°‘ä¸€ä¸ªé“¾æ¥åº“ã€‚å…¶æ¬¡ <mark style="background:green;border-radius:10px;color:white">å‡ºç°å­—ç¬¦<code>_imp</code>ï¼Œè¯´æ˜ä¸æ˜¯çœŸæ­£çš„é™æ€åº“ï¼Œè€Œæ˜¯æŸä¸ªåŠ¨æ€åº“çš„å¯¼å…¥åº“ï¼Œå¯¼å…¥å‡½æ•°å’Œè‡ªå·±ä¸åŒåï¼Œæ‰€ä»¥åŠ äº†å­—ç¬¦<code>_imp</code></mark>ã€‚è¿™é‡Œå¯ä»¥ç¡®å®šå¯¼å‡ºå‡½æ•°åä¸º <code>if_nametoindex</code>ï¼›</p></li><li><p>ç¡®å®šäº†å¯¼å‡ºå‡½æ•°åä¸º <code>if_nametoindex</code> ä¹‹åï¼Œå¯ä»¥ç™¾åº¦æŸ¥çœ‹ä¸€ä¸‹æœ‰æ²¡æœ‰ç›¸å…³å‡½æ•°çš„ä¿¡æ¯ï¼›</p><img src="images/%E6%97%A0%E6%B3%95%E8%A7%A3%E6%9E%90%E7%9A%84%E5%A4%96%E9%83%A8%E7%AC%A6%E5%8F%B7%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86/3.png" alt="if_nametoindexå‡½æ•°æŸ¥è¯¢ç»“æœ" style="zoom:67%;" /><p>ä¸€æœå‘ç°ä¸ºwindowsç³»ç»Ÿå‡½æ•°ï¼Œæ˜¯ç½‘ç»œç›¸å…³çš„æ¥å£å‡½æ•°ï¼Œè´Ÿè´£å°†ANSIæ¥å£è½¬æ¢ä¸ºæ¥å£çš„æœ¬åœ°ç´¢å¼•ã€‚å…¶å£°æ˜éœ€è¦åŒ…å«çš„é™æ€åº“æ–‡ä»¶ä¸º <code> Netio.lib</code>ã€‚ä½†æ˜¯ç¬”è€…è¿™è¾¹æµ‹è¯•ä¹‹åå‘ç°æ— æ³•æ‰“å¼€ <code>Netio.lib</code> è¿™ä¸ªé™æ€åº“ï¼Œå†æŸ¥æ‰¾ï¼Œæ‰¾åˆ°å…¶ç›¸å…³ç´¢å¼•ä¸º <a href="https://learn.microsoft.com/en-us/previous-versions/windows/embedded/ee494702(v=winembedded.70)">IP Helper Functions</a>ã€‚</p></li><li><p>è‡³æ­¤ï¼ŒåŸºæœ¬ä¸Šå¯ä»¥ç¡®å®šå…¶ç¼ºå°‘çš„é™æ€åº“å’Œç½‘ç»œéƒ¨åˆ†ç›¸å…³ï¼Œæ‰¾åˆ°ç›¸å…³å‡½æ•°ï¼ˆè¿™é‡ŒæŸ¥çœ‹çš„å‡½æ•°ä¸º <code>AddIPAddress</code>ï¼‰ï¼ŒæŸ¥çœ‹å…¶å‡½æ•°ä½¿ç”¨è¦æ±‚ï¼Œéœ€è¦å¼•ç”¨ <code>Iphlpapi.lib</code>ï¼Œå¼•å…¥åˆ°ä»£ç ä¸­ï¼Œç¼–è¯‘æˆåŠŸã€‚</p><div class="tag-plugin image"><div class="image-bg"><img src="images/%E6%97%A0%E6%B3%95%E8%A7%A3%E6%9E%90%E7%9A%84%E5%A4%96%E9%83%A8%E7%AC%A6%E5%8F%B7%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86/4.png"/></div></div></li></ol>]]></content>
      
      
      <categories>
          
          <category> OS </category>
          
          <category> Windows </category>
          
          <category> Visual Studio </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ•´ç† </tag>
            
            <tag> æ€è€ƒ </tag>
            
            <tag> é”™è¯¯ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Procmon è¿‡æ»¤ç”¨æ³•</title>
      <link href="/OS/Windows/Procmon%E7%94%A8%E6%B3%95/"/>
      <url>/OS/Windows/Procmon%E7%94%A8%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<ul><li>Application Details <ul><li>â€“ Process Nameï¼šäº§ç”Ÿäº‹ä»¶çš„é‚£ä¸ªè¿›ç¨‹çš„åå­— </li><li>â€“ Image Pathï¼šè¿›ç¨‹é•œåƒçš„å®Œæ•´è·¯å¾„ </li><li>â€“ Command Lineï¼šå‘½ä»¤è¡Œï¼Œç”¨äºå¯åŠ¨è¿›ç¨‹ </li><li>â€“ Company Nameï¼šè¿›ç¨‹é•œåƒæ–‡ä»¶ä¸­çš„ä¼ä¸šåç§°ã€‚è¿™ä¸ªæ–‡æœ¬æ˜¯ç”±åº”ç”¨ç¨‹åºçš„å¼€å‘è€…æ¥å®šä¹‰çš„ </li><li>â€“ Descriptionï¼šè¿›ç¨‹é•œåƒæ–‡ä»¶ä¸­çš„äº§å“æè¿°ä¿¡æ¯ã€‚è¿™ä¸ªæ–‡æœ¬æ˜¯ç”±åº”ç”¨ç¨‹åºçš„å¼€å‘è€…å®šä¹‰çš„ </li><li>â€“ Versionï¼šè¿›ç¨‹é•œåƒæ–‡ä»¶ä¸­çš„äº§å“ç‰ˆæœ¬å·ã€‚è¿™ä¸ªæ–‡æœ¬æ˜¯ç”±åº”ç”¨ç¨‹åºçš„å¼€å‘è€…å®šä¹‰çš„</li></ul></li><li>Event Details <ul><li>â€“ Sequence Numberï¼šæ“ä½œåœ¨å…¨ä½“äº‹ä»¶ä¸­çš„ç›¸å¯¹ä½ç½®ï¼Œä¹ŸåŒ…æ‹¬å½“å‰çš„è¿‡æ»¤ </li><li>â€“ Event Classï¼šäº‹ä»¶çš„ç±»åˆ«ï¼ˆæ–‡ä»¶ï¼Œæ³¨å†Œè¡¨ï¼Œè¿›ç¨‹ï¼‰ </li><li>â€“ Operationï¼šç‰¹æ®Šäº‹ä»¶æ“ä½œï¼Œæ¯”å¦‚Readã€RegQueryValueç­‰ </li><li>â€“ Date &amp; Timeï¼šæ“ä½œçš„æ—¥æœŸå’Œæ—¶é—´ </li><li>â€“ Time of Dayï¼šåªæ˜¯æ“ä½œçš„æ—¶é—´ </li><li>â€“ Pathï¼šä¸€ä¸ªäº‹ä»¶å¼•ç”¨èµ„æºçš„è·¯å¾„ </li><li>â€“ Detailï¼šäº‹ä»¶çš„é™„åŠ ä¿¡æ¯ </li><li>â€“ Resultï¼šä¸€ä¸ªå®Œæˆäº†çš„æ“ä½œçš„çŠ¶æ€ç  </li><li>â€“ Relative Timeï¼šä¸€ä¸ªæ“ä½œç›¸å¯¹äºProcess Monitorçš„å¯åŠ¨åçš„æ—¶é—´ï¼Œæˆ–è€…ç›¸å¯¹äºProcess Monitorçš„ä¿¡æ¯æ¸…é™¤åçš„æ—¶é—´ </li><li>â€“ Durationï¼šä¸€ä¸ªå·²ç»å®Œæˆäº†çš„æ“ä½œæ‰€æŒç»­çš„æ—¶é—´</li></ul></li><li>Process Management <ul><li>â€“ User Nameï¼šæ­£åœ¨æ‰§è¡Œæ“ä½œçš„è¿›ç¨‹çš„ç”¨æˆ·è´¦æˆ·å </li><li>â€“ Session IDï¼šæ­£åœ¨æ‰§è¡Œæ“ä½œçš„è¿›ç¨‹çš„Windowsä¼šè¯ID </li><li>â€“ Authentication IDï¼šæ­£åœ¨æ‰§è¡Œæ“ä½œçš„è¿›ç¨‹çš„ç™»å½•ä¼šè¯ID </li><li>â€“ Process IDï¼šæ‰§è¡Œäº†æ“ä½œçš„è¿›ç¨‹çš„è¿›ç¨‹ID </li><li>â€“ Thread IDï¼šæ‰§è¡Œäº†æ“ä½œçš„çº¿ç¨‹çš„çº¿ç¨‹ID </li><li>â€“ Integrity Levelï¼šæ­£åœ¨è¿è¡Œçš„è¿›ç¨‹æ‰§è¡Œæ“ä½œæ—¶çš„å¯ä¿¡çº§åˆ«ï¼ˆä»…æ”¯æŒVistaä»¥ä¸Šç³»ç»Ÿï¼‰ </li><li>â€“ Virtualizedï¼šæ‰§è¡Œäº†æ“ä½œçš„è¿›ç¨‹çš„è™šæ‹ŸåŒ–çŠ¶æ€</li></ul></li></ul><h1 id="åˆ é™¤æ–‡ä»¶"><a href="#åˆ é™¤æ–‡ä»¶" class="headerlink" title="åˆ é™¤æ–‡ä»¶"></a>åˆ é™¤æ–‡ä»¶</h1><ul><li>åˆ é™¤<ol><li><em>_del.</em></li></ol></li><li>é‡å‘½åå¹¶åˆ é™¤<ol><li>trustdservice.exe -&gt; trustservice_del.exe ï¼ˆä»¥ä¸‹æ–‡ä»¶å‡æ”¹ä¸ºâ€æ–‡ä»¶å_del.extâ€ï¼‰</li><li>trustfixservice.exe</li><li>ServiceDetect.dll</li><li>libgcommon.dll</li><li>TrustAgent.exe</li><li>TrustAgentApp.dll</li><li>trustcore.dll</li><li>trustnc.dll</li><li>trustproxy.dll</li><li>trustproxyserver.dll</li><li>trustcheck.exe</li><li>trustproxy64.sys</li><li>trustproxy.sys</li><li>vpnvnic.sys</li><li>QInstUtils.exe</li><li>ClientLogTool.exe</li><li>QtWebEngineProcess.exe</li><li>TrustAgent.config</li><li>TrustAgentExtra.config</li></ol></li></ul><p>é‡å‘½åå®Œæˆä¹‹åä¼šåˆ é™¤ä»¥ä¸Šæ–‡ä»¶</p><h1 id="ç»“æŸè¿›ç¨‹"><a href="#ç»“æŸè¿›ç¨‹" class="headerlink" title="ç»“æŸè¿›ç¨‹"></a>ç»“æŸè¿›ç¨‹</h1><ol><li>trustservice</li><li>TrustAgent</li><li>QtWebEngineProcess</li><li>trustdservice</li><li>trustfixservice</li></ol><h1 id="é‡Šæ”¾æ–‡ä»¶"><a href="#é‡Šæ”¾æ–‡ä»¶" class="headerlink" title="é‡Šæ”¾æ–‡ä»¶"></a>é‡Šæ”¾æ–‡ä»¶</h1><ul><li>æ–‡ä»¶<ol><li>è™šæ‹Ÿç½‘å¡é©±åŠ¨</li><li>ä»£ç†é©±åŠ¨</li><li>trustservice</li><li>trustfixservice.exe</li><li>ServiceDetect.dll</li><li>libgcommon.dll</li><li>TrustAgent.exe</li><li>TrustAgentApp.dll</li><li>trustcore.dll</li><li>trustnc.dll</li><li>trustproxy.dll</li><li>trustproxyserver.dll</li><li>trustcheck.exe</li><li>trustproxy64.sys</li><li>trustproxy.sys</li><li>vpnvnic.sys</li><li>QInstUtils.exe</li><li>ClientLogTool.exe</li><li>QtWebEngineProcess.exe</li></ol></li><li>ç›®å½•<ol><li>qtdepends</li><li>oemdepends</li><li>cert</li></ol></li></ul><h1 id="åˆ é™¤æ—§çš„å¿«æ·æ–¹å¼"><a href="#åˆ é™¤æ—§çš„å¿«æ·æ–¹å¼" class="headerlink" title="åˆ é™¤æ—§çš„å¿«æ·æ–¹å¼"></a>åˆ é™¤æ—§çš„å¿«æ·æ–¹å¼</h1><ol><li>å›½ä¿¡å®‰å…¨æ¥å…¥.lnk</li><li>é’é¸¾å®‰å…¨æ¥å…¥.lnk</li><li>TrustAgent.lnk</li><li>é›¶ä¿¡ä»»å®¢æˆ·ç«¯.lnk</li></ol><h1 id="æ¸…ç†è·¯ç”±"><a href="#æ¸…ç†è·¯ç”±" class="headerlink" title="æ¸…ç†è·¯ç”±"></a>æ¸…ç†è·¯ç”±</h1><p>è°ƒç”¨å®‰è£…ç›®å½•ä¸‹ <code>ClearHost.exe</code></p><h1 id="æ›´æ–°é…ç½®æ–‡ä»¶"><a href="#æ›´æ–°é…ç½®æ–‡ä»¶" class="headerlink" title="æ›´æ–°é…ç½®æ–‡ä»¶"></a>æ›´æ–°é…ç½®æ–‡ä»¶</h1><ol><li>TrustAgent.config</li><li>TrustAgentExtra.config</li></ol><h1 id="æ›´æ–°æ³¨å†Œè¡¨"><a href="#æ›´æ–°æ³¨å†Œè¡¨" class="headerlink" title="æ›´æ–°æ³¨å†Œè¡¨"></a>æ›´æ–°æ³¨å†Œè¡¨</h1><p>æ³¨å†Œè¡¨è·¯å¾„</p><figure class="highlight nsis"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">!define</span> PRODUCT_UNINST_KEY <span class="string">&quot;Software\Microsoft\Windows\CurrentVersion\Uninstall\<span class="variable">$&#123;PRODUCT_NAME&#125;</span>&quot;</span></span><br></pre></td></tr></table></figure><p>æ›´æ–°å­—æ®µ</p><ol><li>DisplayName</li><li>Publisher</li><li>DisplayIcon</li><li>UninstallString</li><li>DisplayVersion</li><li>InstallDir</li><li>ProxyVersion</li><li>InstParams</li></ol><h1 id="é…ç½®å´©æºƒçŠ¶æ€"><a href="#é…ç½®å´©æºƒçŠ¶æ€" class="headerlink" title="é…ç½®å´©æºƒçŠ¶æ€"></a>é…ç½®å´©æºƒçŠ¶æ€</h1><p>é…ç½®ç³»ç»ŸLocalDumpsï¼Œè®¾ç½®ç›¸å…³æ³¨å†Œè¡¨é¡¹</p><h1 id="åˆ›å»ºå¿«æ·æ–¹å¼"><a href="#åˆ›å»ºå¿«æ·æ–¹å¼" class="headerlink" title="åˆ›å»ºå¿«æ·æ–¹å¼"></a>åˆ›å»ºå¿«æ·æ–¹å¼</h1><p>ä»¥æ›´æ–°ç¨‹åºçš„å¿«æ·æ–¹å¼å‘½åä¸ºä¸»ã€‚</p><h1 id="æ›´æ–°-TrustService"><a href="#æ›´æ–°-TrustService" class="headerlink" title="æ›´æ–° TrustService"></a>æ›´æ–° TrustService</h1><p>è°ƒç”¨ <code>Trustservice.exe /update</code> æ›´æ–°ã€‚</p><h1 id="æ›´æ–°TrustFixService"><a href="#æ›´æ–°TrustFixService" class="headerlink" title="æ›´æ–°TrustFixService"></a>æ›´æ–°TrustFixService</h1><p>è°ƒç”¨ <code>TrustFixservice.exe /update</code> æ›´æ–°ã€‚</p><h1 id="å¯åŠ¨-TrustService"><a href="#å¯åŠ¨-TrustService" class="headerlink" title="å¯åŠ¨ TrustService"></a>å¯åŠ¨ TrustService</h1><p>è°ƒç”¨ <code>Trustservice.exe /start</code> æ›´æ–°ã€‚</p><h1 id="å¯åŠ¨-YMDbg-exe"><a href="#å¯åŠ¨-YMDbg-exe" class="headerlink" title="å¯åŠ¨ YMDbg.exe"></a>å¯åŠ¨ YMDbg.exe</h1><p>ç›´æ¥å¯åŠ¨ <code>$INSTALLDIR\Dbg\Ymdbg.exe</code></p><figure class="highlight nsis"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Exec</span> YMDbg.exe -i1</span><br></pre></td></tr></table></figure><h1 id="åˆ·æ–°-Windows-å›¾æ ‡ç¼“å­˜"><a href="#åˆ·æ–°-Windows-å›¾æ ‡ç¼“å­˜" class="headerlink" title="åˆ·æ–° Windows å›¾æ ‡ç¼“å­˜"></a>åˆ·æ–° Windows å›¾æ ‡ç¼“å­˜</h1>]]></content>
      
      
      <categories>
          
          <category> OS </category>
          
          <category> Windows </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>æ‰¹å¤„ç†è·å–ipåˆ°å‰ªåˆ‡æ¿</title>
      <link href="/OS/Windows/PowerShell/%E8%8E%B7%E5%8F%96IP%E5%88%B0%E5%89%AA%E5%88%87%E6%9D%BF/"/>
      <url>/OS/Windows/PowerShell/%E8%8E%B7%E5%8F%96IP%E5%88%B0%E5%89%AA%E5%88%87%E6%9D%BF/</url>
      
        <content type="html"><![CDATA[<h1 id="è·å–å½“å‰ipåˆ°å‰ªåˆ‡æ¿"><a href="#è·å–å½“å‰ipåˆ°å‰ªåˆ‡æ¿" class="headerlink" title="è·å–å½“å‰ipåˆ°å‰ªåˆ‡æ¿"></a>è·å–å½“å‰ipåˆ°å‰ªåˆ‡æ¿</h1><blockquote><p>å®¢æˆ·ç«¯å¼€å‘è¿œç¨‹è°ƒè¯•æ¯æ¬¡éƒ½éœ€è¦è·å–æœºå™¨çš„ipï¼Œç„¶åæ‰‹åŠ¨å¡«å†™ï¼Œè¾ƒä¸ºéº»çƒ¦ï¼Œå› æ­¤ç®€å•åšäº†ä¸€ä¸ªå¯ä»¥è·å–ipåˆ°å‰ªåˆ‡æ¿å½“ä¸­çš„æ‰¹å¤„ç†è„šæœ¬ï¼Œå¯ä»¥è·å–ç³»ç»Ÿå½“å‰ipåˆ°å‰ªåˆ‡æ¿ä¸­ã€‚</p></blockquote><p>[toc]</p><h2 id="è·å–ip"><a href="#è·å–ip" class="headerlink" title="è·å–ip"></a>è·å–ip</h2><p>è·å–ipçš„å‘½ä»¤æœ‰å¤šç§ï¼Œæœ€ç»ˆå®ç°å°±æ˜¯åªè¦èƒ½æ‰“å°å‡ºå½“å‰ç³»ç»Ÿipçš„å‘½ä»¤éƒ½å¯ä»¥ã€‚</p><ul><li><code>ipconfig</code></li><li><code>route print</code></li></ul><p>ä»¥ä¸‹ä¸¤ä¸ªè„šæœ¬å°±æ˜¯ä»ä¸Šè¿°ä¸¤ä¸ªå‘½ä»¤å½“ä¸­è·å–ipåœ°å€ï¼š</p><h3 id="ipconfig"><a href="#ipconfig" class="headerlink" title="ipconfig"></a>ipconfig</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">@echo off</span><br><span class="line"></span><br><span class="line">for /f &quot;tokens=2 delims=:&quot; %%a in (&#x27;ipconfig ^| findstr ^^IPv4&#x27;) do (set IP=%%a)</span><br><span class="line"></span><br><span class="line">echo %IP%</span><br><span class="line"></span><br><span class="line">pause</span><br></pre></td></tr></table></figure><h3 id="route-print"><a href="#route-print" class="headerlink" title="route print"></a>route print</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">@echo off</span><br><span class="line"></span><br><span class="line">for /f &quot;tokens=4&quot; %%a in (&#x27; route print ^| findstr 0.0.0.0.*0.0.0.0 ^| findstr /v &quot;é»˜è®¤&quot; &#x27;) do (set IP=%%a)</span><br><span class="line"></span><br><span class="line">echo ä½ çš„å±€åŸŸç½‘IPæ˜¯ï¼š %IP%</span><br><span class="line"></span><br><span class="line">pause</span><br></pre></td></tr></table></figure><blockquote><p><span style="font-weight:900"><code>for /f</code></span>çš„ç”¨æ³•ï¼š</p><p>åœ¨<code>For</code>å‘½ä»¤è¯­è¸é¥½å‚æ•°Fä¸­ï¼Œæœ€éš¾ç†è§£çš„å°±æ˜¯<code>Delims</code>å’Œ<code>Tokens</code>ä¸¤ä¸ªé€‰é¡¹ï¼Œæœ¬æ–‡ç®€å•çš„åšä¸€ä¸ªæ¯”è¾ƒå’Œæ€»æ‹®ã€‚<br>â€œ<code>For /f</code>â€å¸¸ç”¨æ¥è§£ææ–‡æœ¬ï¼Œè¯»å–<a href="https://so.csdn.net/so/search?q=%E5%AD%97%E7%AC%A6%E4%B8%B2&spm=1001.2101.3001.7020">å­—ç¬¦ä¸²</a>ã€‚åˆ†å·¥ä¸Šï¼Œ<code>delims</code>è´Ÿè´£åˆ‡åˆ†å­—ç¬¦ä¸²ï¼Œè€Œ<code>tokens</code>è´Ÿè´£æå–å­—ç¬¦ä¸²ã€‚å¦‚æœæŠŠå­—ç¬¦ä¸²å½“ä½œè›‹ç³•ï¼Œ<code>Delims</code>åƒåˆ€å­ï¼Œç”¨æ¥åˆ‡è›‹ç³•ï¼Œ<code>tokens</code>åƒå‰å­ï¼Œç”¨æ¥å–åˆ‡å¥½çš„è›‹ç³•ã€‚</p></blockquote><h3 id="powershell"><a href="#powershell" class="headerlink" title="powershell"></a>powershell</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(ipconfig|select-string &quot;IPv4&quot;|out-string).Split(&quot;:&quot;)[-1]</span><br></pre></td></tr></table></figure><h2 id="è¾“å…¥åˆ°å‰ªåˆ‡æ¿"><a href="#è¾“å…¥åˆ°å‰ªåˆ‡æ¿" class="headerlink" title="è¾“å…¥åˆ°å‰ªåˆ‡æ¿"></a>è¾“å…¥åˆ°å‰ªåˆ‡æ¿</h2><p>å‰ªåˆ‡æ¿çš„å…³é”®å­—ä¸ºï¼š<code>clip</code></p><p>ä½¿ç”¨ <code>clip \?</code> å¯ä»¥æŸ¥çœ‹å¸®åŠ©</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">c:\windows\system32&gt;clip /?</span><br><span class="line"> </span><br><span class="line">clip</span><br><span class="line"> </span><br><span class="line">æè¿°:</span><br><span class="line">    å°†å‘½ä»¤è¡Œå·¥å…·çš„è¾“å‡ºé‡å®šå‘åˆ° windows å‰ªè´´æ¿ã€‚è¿™ä¸ªæ–‡æœ¬è¾“å‡ºå¯ä»¥è¢«ç²˜è´´</span><br><span class="line">    åˆ°å…¶ä»–ç¨‹åºä¸­ã€‚</span><br><span class="line"> </span><br><span class="line">å‚æ•°åˆ—è¡¨:</span><br><span class="line">    /?                  æ˜¾ç¤ºæ­¤å¸®åŠ©æ¶ˆæ¯ã€‚</span><br><span class="line"> </span><br><span class="line">ç¤ºä¾‹:</span><br><span class="line">    dir | clip          å°†ä¸€ä»½å½“å‰ç›®å½•åˆ—è¡¨çš„å‰¯æœ¬æ”¾å…¥ windows å‰ªè´´æ¿ã€‚</span><br><span class="line"> </span><br><span class="line">    clip &lt; readme.txt   å°† readme.txt çš„ä¸€ä»½æ–‡æœ¬æ”¾å…¥ windows å‰ªè´´æ¿ã€‚</span><br><span class="line"> </span><br><span class="line">c:\windows\system32&gt;</span><br></pre></td></tr></table></figure><p>ç»“åˆä»¥ä¸Šä¸¤ä¸ªå‘½ä»¤ï¼Œè„šæœ¬ç¨å¾®ä¿®æ”¹ä¸€ä¸‹å°±èƒ½å®ç°è·å–ipåˆ°å‰ªåˆ‡ç‰ˆçš„åŠŸèƒ½ã€‚</p><h1 id="å®Œæ•´è„šæœ¬"><a href="#å®Œæ•´è„šæœ¬" class="headerlink" title="å®Œæ•´è„šæœ¬"></a>å®Œæ•´è„šæœ¬</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> /f <span class="string">&quot;tokens=4&quot;</span> %%a <span class="keyword">in</span> (<span class="string">&#x27; route print ^| findstr 0.0.0.0.*0.0.0.0 ^| findstr /v &quot;é»˜è®¤&quot; &#x27;</span>) <span class="keyword">do</span> (<span class="built_in">set</span> IP=%%a)</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> ä½ çš„å±€åŸŸç½‘IPæ˜¯ï¼š %IP%</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> %IP% | clip</span><br><span class="line"></span><br><span class="line">pause</span><br><span class="line"></span><br><span class="line">@rem æˆ–è€…ä½¿ç”¨å®šæ—¶</span><br><span class="line">@rem <span class="built_in">timeout</span> /t 5</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> OS </category>
          
          <category> Windows </category>
          
          <category> PowerShell </category>
          
      </categories>
      
      
        <tags>
            
            <tag> windows </tag>
            
            <tag> æ‰¹å¤„ç† </tag>
            
            <tag> å‰ªåˆ‡æ¿ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Visual Studio é€šç”¨é…ç½®</title>
      <link href="/OS/Windows/Visual%20Studio/Visual%20Stdio%20%E9%80%9A%E7%94%A8%E9%85%8D%E7%BD%AE/"/>
      <url>/OS/Windows/Visual%20Studio/Visual%20Stdio%20%E9%80%9A%E7%94%A8%E9%85%8D%E7%BD%AE/</url>
      
        <content type="html"><![CDATA[<h2 id="å·¥å…·é›†"><a href="#å·¥å…·é›†" class="headerlink" title="å·¥å…·é›†"></a>å·¥å…·é›†</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(DefaultPlatformToolset)</span><br></pre></td></tr></table></figure><h2 id="SDK"><a href="#SDK" class="headerlink" title="SDK"></a>SDK</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$([Microsoft.Build.Utilities.ToolLocationHelper]::GetLatestSDKTargetPlatformVersion(<span class="string">&#x27;Windows&#x27;</span>, <span class="string">&#x27;10.0&#x27;</span>))</span><br></pre></td></tr></table></figure><h2 id="Qt-ç‰ˆæœ¬"><a href="#Qt-ç‰ˆæœ¬" class="headerlink" title="Qt ç‰ˆæœ¬"></a>Qt ç‰ˆæœ¬</h2><p>éœ€è¦è®¾ç½®æ³¨å†Œè¡¨é¡¹ï¼Œå€¼ä¸ºQtå®‰è£…è·¯å¾„</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(QtPath)</span><br></pre></td></tr></table></figure><h2 id="ç”Ÿæˆäº‹ä»¶"><a href="#ç”Ÿæˆäº‹ä»¶" class="headerlink" title="ç”Ÿæˆäº‹ä»¶"></a>ç”Ÿæˆäº‹ä»¶</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">call $(SolutionDir)prompt.bat</span><br></pre></td></tr></table></figure><p><code>prompt.bat</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line"><span class="built_in">echo</span> -----------------------------------------------------</span><br><span class="line"><span class="built_in">echo</span> [TrustAgent.pro] æ–‡ä»¶æœ‰æ›´æ–°æ—¶ï¼Œè¯·é‡æ–°ç”Ÿæˆå½“å‰å·¥ç¨‹</span><br><span class="line"><span class="built_in">echo</span> ä»¥ä¸‹é…ç½®å¹¶ä¸é€‚ç”¨äºæ‰€æœ‰äººï¼Œå¦‚æœ‰ç¼–è¯‘æŠ¥é”™ï¼Œè¯·è‡ªè¡Œä¿®æ”¹ã€‚</span><br><span class="line"><span class="built_in">echo</span> 1. Qtå·¥å…·é›†é»˜è®¤é…ç½®ä¸ºç¯å¢ƒå˜é‡QtPath: å½“å‰ç³»ç»ŸQtPath:[%QtPath%] ï¼ˆæ¨è 5.9.9_msvc2015ï¼‰</span><br><span class="line"><span class="built_in">echo</span> 2. å·¥å…·é›†é»˜è®¤é…ç½®ä¸º: $(DefaultPlatformToolset) ï¼ˆæ¨è 10.0.19041.0åŠä»¥ä¸Šï¼‰</span><br><span class="line"><span class="built_in">echo</span> 3. SDKé»˜è®¤é…ç½®ä¸º: $([Microsoft.Build.Utilities.ToolLocationHelper]::GetLatestSDKTargetPlatformVersion(<span class="string">&#x27;Windows&#x27;</span>, <span class="string">&#x27;10.0&#x27;</span>)) ï¼ˆæ¨è V142ï¼‰</span><br><span class="line"><span class="built_in">echo</span> -----------------------------------------------------</span><br><span class="line"></span><br><span class="line">@REM <span class="keyword">if</span> <span class="string">&quot;%QtPath%&quot;</span> == <span class="string">&quot;&quot;</span> (</span><br><span class="line">@REM     choice /c:yn /m <span class="string">&quot;å½“å‰æœªé…ç½®ç¯å¢ƒå˜é‡ï¼Œæ˜¯å¦æ‰“å¼€ç³»ç»Ÿé…ç½®é¡µé¢ï¼š&quot;</span></span><br><span class="line">@REM     <span class="keyword">if</span> %errorlevel%==1 (</span><br><span class="line">@REM         start ms-settings:about</span><br><span class="line">@REM     )</span><br><span class="line">@REM )</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> OS </category>
          
          <category> Windows </category>
          
          <category> Visual Studio </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Windows </tag>
            
            <tag> Visual Studio </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Visual Studioä¸­MDä¸MTçš„åŒºåˆ«åŠè¿è¡Œåº“ç±»å‹é€‰æ‹©</title>
      <link href="/OS/Windows/Visual%20Studio/VisualStudio%E4%B8%ADMD%E4%B8%8EMT%E7%9A%84%E5%8C%BA%E5%88%AB%E5%8F%8A%E8%BF%90%E8%A1%8C%E5%BA%93%E7%B1%BB%E5%9E%8B%E9%80%89%E6%8B%A9/"/>
      <url>/OS/Windows/Visual%20Studio/VisualStudio%E4%B8%ADMD%E4%B8%8EMT%E7%9A%84%E5%8C%BA%E5%88%AB%E5%8F%8A%E8%BF%90%E8%A1%8C%E5%BA%93%E7%B1%BB%E5%9E%8B%E9%80%89%E6%8B%A9/</url>
      
        <content type="html"><![CDATA[<p>[toc]</p><p>æœ¬ç¯‡ä¸»è¦æ€»ç»“ä¸€ä¸‹è‡ªå·±åœ¨é¡¹ç›®å¼€å‘è¿‡ç¨‹ä¸­ç»å¸¸é‡åˆ°çš„ä¸€ä¸ªé—®é¢˜ï¼Œå³<code>Visual Studio</code>ç¼–è¯‘è¿‡ç¨‹ä¸­å¦‚ä½•é€‰æ‹©è¿è¡Œåº“çš„ç±»å‹ã€‚å¸Œæœ›å¯¹å…¶å®ƒå¼€å‘çš„ä¼™ä¼´ä»¬æœ‰ä¸€å®šçš„å‚è€ƒä»·å€¼å’Œå¸®åŠ©ã€‚</p><h2 id="1-åœ¨Visual-Studioä¸­è®¾ç½®"><a href="#1-åœ¨Visual-Studioä¸­è®¾ç½®" class="headerlink" title="1.åœ¨Visual Studioä¸­è®¾ç½®"></a>1.åœ¨<code>Visual Studio</code>ä¸­è®¾ç½®</h2><p>åœ¨<code>Visual Studio 2019</code>ä¸­ï¼Œå³é”®é¡¹ç›®åç§°ï¼Œæ‰“å¼€é¡¹ç›®å±æ€§é¡µï¼Œé€‰æ‹©â€œé…ç½®å±æ€§â€-&gt;â€œC&#x2F;C++â€-&gt;â€œä»£ç ç”Ÿæˆâ€-&gt;â€œè¿è¡Œåº“â€å³å¯å¯¹<code>è¿è¡Œåº“ç±»å‹</code>è¿›è¡Œè®¾ç½®ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><div class="tag-plugin image"><div class="image-bg"><img src="images/VisualStudio%E4%B8%ADMD%E4%B8%8EMT%E7%9A%84%E5%8C%BA%E5%88%AB%E5%8F%8A%E8%BF%90%E8%A1%8C%E5%BA%93%E7%B1%BB%E5%9E%8B%E9%80%89%E6%8B%A9/1.png"/></div></div><p>è¿™é‡Œ<code>è¿è¡Œåº“ç±»å‹</code>ä¸»è¦åŒ…å«å››ç§ï¼šå¤šçº¿ç¨‹(&#x2F;MT)ã€å¤šçº¿ç¨‹è°ƒè¯•(&#x2F;MTd)ã€å¤šçº¿ç¨‹DLL(&#x2F;MD)ã€å¤šçº¿ç¨‹è°ƒè¯•(&#x2F;MDd)ã€‚å…¶ä¸­å¸¦æœ‰<code>d</code>çš„ç±»å‹æ˜¯é¡¹ç›®çš„<code>è°ƒè¯•ç‰ˆæœ¬</code>ï¼Œä¸å¸¦æœ‰<code>d</code>çš„ç±»å‹æ˜¯é¡¹ç›®çš„<code>Release</code>ç‰ˆæœ¬ã€‚</p><h2 id="2-MTä¸MDçš„åŒºåˆ«"><a href="#2-MTä¸MDçš„åŒºåˆ«" class="headerlink" title="2. MTä¸MDçš„åŒºåˆ«"></a>2. <code>MT</code>ä¸<code>MD</code>çš„åŒºåˆ«</h2><ul><li><strong><code>/MT</code>ï¼š</strong>æ˜¯<code>multithread-static version</code>ï¼Œæ˜¯å¤šçº¿ç¨‹é™æ€ç‰ˆæœ¬çš„æ„æ€ï¼Œé¡¹ç›®ä¼šä½¿ç”¨è¿è¡Œæ—¶åº“çš„å¤šçº¿ç¨‹é™æ€ç‰ˆæœ¬ï¼Œç¼–è¯‘å™¨ä¼šå°†<code>LIBCMT.lib</code>æ”¾å…¥<code>.obj</code>æ–‡ä»¶ä¸­ï¼Œä»¥ä¾¿é“¾æ¥å™¨ä½¿ç”¨<code>LIBCMT.lib</code>è§£æå¤–éƒ¨ç¬¦å·ï¼›</li><li><strong><code>/MTd</code>ï¼š</strong>æ˜¯å®šä¹‰äº†<code>_DEBUG</code>å’Œ<code>/MT</code>ï¼Œæ˜¯<code>/MT</code>ç±»å‹çš„<code>debug</code>ç‰ˆæœ¬ï¼›</li><li><strong><code>/MD</code>ï¼š</strong>æ˜¯<code>multithread-dll version</code>ï¼Œæ˜¯å¤šçº¿ç¨‹<code>dll</code>ç‰ˆæœ¬çš„æ„æ€ï¼Œé¡¹ç›®ä¼šä½¿ç”¨è¿è¡Œæ—¶åº“çš„å¤šçº¿ç¨‹åŠ¨æ€<code>dll</code>ç‰ˆæœ¬ï¼Œç¼–è¯‘å™¨ä¼šå°†<code>MSVCRT.lib</code>æ”¾å…¥<code>.obj</code>æ–‡ä»¶ä¸­ï¼Œåœ¨ç¼–è¯‘é¡¹ç›®æ—¶ï¼Œå®ƒä¼šé™æ€é“¾æ¥<code>MSVCRT.lib</code>ï¼Œä½†åœ¨å®é™…è¿è¡Œè¿‡ç¨‹ä¸­ï¼Œå®ƒä¼šé“¾æ¥ä½¿ç”¨<code>MSVCR90.dll</code>ï¼›</li><li><strong><code>MDd</code>ï¼š</strong>æ˜¯å®šä¹‰äº†<code>_DEBUG</code>å’Œ<code>/MD</code>ï¼Œæ˜¯<code>/MD</code>ç±»å‹çš„<code>debug</code>ç‰ˆæœ¬ï¼›</li></ul><p>å› æ­¤ï¼Œ<strong>æˆ‘ä»¬åœ¨ç¼–è¯‘æ—¶ï¼Œå¯¹åº”çš„åº“ä¸€å®šè¦é…å¥—ä¸€è‡´</strong>ã€‚æ¯”å¦‚ä½ ç”¨<code>CMake</code>ç”Ÿæˆå·¥ç¨‹æ–‡ä»¶æ—¶ï¼Œè‹¥<code>CMake</code>æ˜¯ç”¨<code>/MT</code>ç±»å‹ç”Ÿæˆçš„ï¼Œåˆ™å®ƒæ‰€è°ƒç”¨çš„è¿è¡Œæ—¶åº“ä¸º<code>LIBCMT.lib</code>ï¼›åé¢ç”Ÿæˆå·¥ç¨‹æ—¶ï¼Œä½ å¿…é¡»ä¹Ÿé€‰æ‹©<code>/MT</code>ç±»å‹ï¼Œå¦åˆ™ä½ é€‰æ‹©<code>/MD</code>ç±»å‹çš„è¯ï¼Œå·¥ç¨‹åœ¨é“¾æ¥æ—¶ä¼šè°ƒç”¨<code>MSVCRT.lib</code>å’Œ<code>MSVCR90.dll</code>ï¼Œæ˜¾ç„¶ä¸¤æ¬¡è°ƒç”¨ä¸åŒçš„è¿è¡Œæ—¶åº“ï¼Œä¼šå‡ºç°é‡å®šä¹‰çš„é”™è¯¯ã€‚</p><p>æ€»èµ·æ¥è¯´ï¼Œ<code>/MD</code>ç±»å‹è¡¨ç¤ºè¿è¡Œæ—¶åº“ä¸é›†æˆï¼Œç”Ÿæˆçš„æ–‡ä»¶å°ï¼Œç¨‹åºè¿è¡Œæ—¶åŠ¨æ€åŠ è½½å¯¹åº”çš„<code>dll</code>ï¼›<code>/MT</code>ç±»å‹è¡¨ç¤ºè¿è¡Œæ—¶åº“é›†æˆï¼Œç”Ÿæˆçš„æ–‡ä»¶è¾ƒå¤§ï¼Œåœ¨é“¾æ¥æ—¶å°†<code>C/C++</code>è¿è¡Œæ—¶åº“é›†æˆåˆ°ç¨‹åºä¸­ã€‚</p><h2 id="3-ä½¿ç”¨"><a href="#3-ä½¿ç”¨" class="headerlink" title="3. ä½¿ç”¨"></a>3. ä½¿ç”¨</h2><p>åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œå¦‚æœReleaseæ¨¡å¼ä¸‹ä½¿ç”¨MDç¼–è¯‘çš„æ–‡ä»¶æŠ¥é”™ç¼ºå°‘ <code>MSVCD140ã€‚dll</code>ï¼Œåˆ™å¯ä»¥ä½¿ç”¨ <code>MT</code> é€‰é¡¹ç¼–è¯‘ï¼Œè§£å†³ç¼ºå°‘åŠ¨æ€åº“çš„é—®é¢˜ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> OS </category>
          
          <category> Windows </category>
          
          <category> Visual Studio </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Windows </tag>
            
            <tag> Visual Studio </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¿®æ”¹ç½‘ç»œé…ç½®çš„ InterfaceMetric</title>
      <link href="/OS/Windows/PowerShell/%E4%BF%AE%E6%94%B9ip%E6%8E%A5%E5%8F%A3%E7%9A%84%E8%B7%83%E7%82%B9%E6%95%B0/"/>
      <url>/OS/Windows/PowerShell/%E4%BF%AE%E6%94%B9ip%E6%8E%A5%E5%8F%A3%E7%9A%84%E8%B7%83%E7%82%B9%E6%95%B0/</url>
      
        <content type="html"><![CDATA[<blockquote><p>ä½¿ç”¨è„šæœ¬ä¿®æ”¹ç½‘å¡è·ƒç‚¹æ•° InterfaceMetric</p></blockquote><h2 id="ä½¿ç”¨åˆ°çš„æ¥å£"><a href="#ä½¿ç”¨åˆ°çš„æ¥å£" class="headerlink" title="ä½¿ç”¨åˆ°çš„æ¥å£"></a>ä½¿ç”¨åˆ°çš„æ¥å£</h2><ol><li>Get-NetIPInterface</li><li>Set-NetIPInterface</li><li>Get-NetAdapter</li></ol><h3 id="éœ€æ±‚æè¿°"><a href="#éœ€æ±‚æè¿°" class="headerlink" title="éœ€æ±‚æè¿°"></a>éœ€æ±‚æè¿°</h3><p>éœ€è¦ä¿®æ”¹å½“å‰è·ƒç‚¹æ•°ä¸º <code>1</code> çš„ipæ¥å£ï¼Œä¿®æ”¹å…¶è·ƒç‚¹æ•°ä¸º <code>90</code></p><h2 id="è§£å†³æ–¹æ¡ˆ"><a href="#è§£å†³æ–¹æ¡ˆ" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h2><blockquote><p>è®¾ç½®ipæ¥å£çš„è·ƒç‚¹æ•°å‡éœ€è¦<a href="#cmd">ç®¡ç†å‘˜æƒé™</a></p></blockquote><h3 id="æ€è·¯ä¸€"><a href="#æ€è·¯ä¸€" class="headerlink" title="æ€è·¯ä¸€"></a>æ€è·¯ä¸€</h3><p><a href="./ModifyIfm.ps1">æºæ–‡ä»¶</a></p><ol><li>é€šè¿‡ <code>Get-NetIPInterface</code> è·å–éœ€è¦ä¿®æ”¹çš„IPæ¥å£</li><li>é€šè¿‡ <code>Set-NetIPInterface</code> ä¿®æ”¹è·ƒç‚¹æ•°</li></ol><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$ChangeIfm</span> = <span class="number">1</span></span><br><span class="line"><span class="variable">$WangToChangeIfm</span> = <span class="number">90</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è·å– InterfaceMetric ä¸º 1 çš„ -InterfaceIndex</span></span><br><span class="line"><span class="variable">$NetCard</span> = (<span class="built_in">Get-NetIPInterface</span>  <span class="literal">-InterfaceMetric</span> <span class="variable">$ChangeIfm</span>).ifAlias</span><br><span class="line"><span class="variable">$netInterfaceIndex</span> = (<span class="built_in">Get-NetIPInterface</span> <span class="literal">-AddressFamily</span> IPv4 <span class="literal">-InterfaceMetric</span> <span class="variable">$ChangeIfm</span>).ifIndex</span><br><span class="line"></span><br><span class="line"><span class="built_in">Write-Output</span> <span class="string">&quot;æ£€ç´¢InterfaceMetricä¸º [<span class="variable">$</span>&#123;ChangeIfm&#125;] åˆ—è¡¨: `n <span class="variable">$</span>&#123;NetCard&#125;&quot;</span></span><br><span class="line"><span class="built_in">Write-Output</span> <span class="string">&quot;Index ä¸º:  <span class="variable">$</span>&#123;netInterfaceIndex&#125;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">Set-NetIPInterface</span> <span class="literal">-InterfaceIndex</span> <span class="variable">$netInterfaceIndex</span> <span class="literal">-InterfaceMetric</span> <span class="variable">$WangToChangeIfm</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">Write-Output</span> <span class="string">&quot;å·²ä¿®æ”¹ <span class="variable">$</span>&#123;NetCard&#125; çš„ InterfaceMetric ä¸º <span class="variable">$</span>&#123;WangToChangeIfm&#125;&quot;</span></span><br></pre></td></tr></table></figure><h3 id="æ€è·¯äºŒ"><a href="#æ€è·¯äºŒ" class="headerlink" title="æ€è·¯äºŒ"></a>æ€è·¯äºŒ</h3><p><a href="./ModifyIfm-NetAdapter.ps1">æºæ–‡ä»¶</a></p><p>ä½¿ç”¨è¿‡æ»¤å™¨ç­›é€‰éœ€è¦ä¿®æ”¹çš„ipæ¥å£ï¼Œå†é€šè¿‡ <code>Set-NetIPInterface</code> ä¿®æ”¹è·ƒç‚¹æ•°</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment"># è·å– InterfaceMetric ä¸º 1 çš„ -InterfaceIndex</span></span><br><span class="line"><span class="variable">$NetCard</span> = (<span class="built_in">Get-NetAdapter</span> | <span class="built_in">Where-Object</span> <span class="literal">-FilterScript</span> &#123;<span class="variable">$_</span>.ifIndex <span class="operator">-eq</span> <span class="number">10</span>&#125;)</span><br><span class="line"></span><br><span class="line"><span class="built_in">Write-Output</span> <span class="variable">$NetCard</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">Set-NetIPInterface</span> <span class="literal">-InterfaceIndex</span> <span class="variable">$NetCard</span>.ifIndex <span class="literal">-AddressFamily</span> IPv6 <span class="literal">-InterfaceMetric</span> <span class="number">90</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="å®˜æ–¹demo"><a href="#å®˜æ–¹demo" class="headerlink" title="å®˜æ–¹demo"></a>å®˜æ–¹demo</h2><p>ä¿®æ”¹ LinkSpeed ä¸º 100 Mbps çš„ç½‘ç»œçš„ InterfaceMetric ä¸º 21</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Get-NetAdapter</span> | <span class="built_in">Where-Object</span> <span class="literal">-FilterScript</span> &#123;<span class="variable">$_</span>.LinkSpeed <span class="operator">-Eq</span> <span class="string">&quot;100 Mbps&quot;</span>&#125; | <span class="built_in">Set-NetIPInterface</span> <span class="literal">-InterfaceMetric</span> <span class="number">21</span></span><br></pre></td></tr></table></figure><h2 id="æå‡ç®¡ç†å‘˜æƒé™"><a href="#æå‡ç®¡ç†å‘˜æƒé™" class="headerlink" title="æå‡ç®¡ç†å‘˜æƒé™"></a><a id="cmd">æå‡ç®¡ç†å‘˜æƒé™</a></h2><h3 id="cmdææƒ"><a href="#cmdææƒ" class="headerlink" title="cmdææƒ"></a>cmdææƒ</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line"></span><br><span class="line">::1 è·å–ç®¡ç†å‘˜æƒé™</span><br><span class="line">%1 mshta vbscript:CreateObject(<span class="string">&quot;Shell.Application&quot;</span>).ShellExecute(<span class="string">&quot;cmd.exe&quot;</span>,<span class="string">&quot;/c %~s0 ::&quot;</span>,<span class="string">&quot;&quot;</span>,<span class="string">&quot;runas&quot;</span>,1)(window.close)&amp;&amp;<span class="built_in">exit</span></span><br><span class="line"></span><br><span class="line">::2 æ‰§è¡Œæ“ä½œ</span><br><span class="line"><span class="built_in">set</span> curpath=%~dp0</span><br><span class="line"><span class="built_in">set</span> file=ModifyIfm.ps1</span><br><span class="line"><span class="built_in">set</span> execPath=%curpath%%file%</span><br><span class="line"><span class="built_in">echo</span> %execPath%</span><br><span class="line">powershell.exe -ExecutionPolicy ByPass -File %execPath%</span><br></pre></td></tr></table></figure><h3 id="powershell-ææƒ"><a href="#powershell-ææƒ" class="headerlink" title="powershell ææƒ"></a>powershell ææƒ</h3><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="operator">-Not</span> ([<span class="type">Security.Principal.WindowsPrincipal</span>] [<span class="type">Security.Principal.WindowsIdentity</span>]::GetCurrent()).IsInRole([<span class="type">Security.Principal.WindowsBuiltInRole</span>] <span class="string">&#x27;Administrator&#x27;</span>)) &#123;</span><br><span class="line">    <span class="keyword">if</span> ([<span class="built_in">int</span>](<span class="built_in">Get-CimInstance</span> <span class="literal">-Class</span> Win32_OperatingSystem | <span class="built_in">Select-Object</span> <span class="literal">-ExpandProperty</span> BuildNumber) <span class="operator">-ge</span> <span class="number">6000</span>) &#123;</span><br><span class="line">        <span class="variable">$Command</span> = <span class="string">&quot;-File `&quot;&quot;</span> + <span class="variable">$MyInvocation</span>.MyCommand.Path + <span class="string">&quot;`&quot; &quot;</span> + <span class="variable">$MyInvocation</span>.UnboundArguments</span><br><span class="line">        <span class="built_in">Start-Process</span> <span class="literal">-FilePath</span> PowerShell.exe <span class="literal">-Verb</span> RunAs <span class="literal">-ArgumentList</span> <span class="variable">$Command</span></span><br><span class="line">        <span class="keyword">Exit</span></span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>InterfaceMetric</code> æ˜¯ç”¨äºè¡¨ç¤ºç½‘ç»œæ¥å£ä¼˜å…ˆçº§çš„æŒ‡æ ‡ï¼Œå®ƒç”¨äºå†³å®šè®¡ç®—æœºåœ¨å¤šä¸ªç½‘ç»œæ¥å£ä¹‹é—´è¿›è¡Œç½‘ç»œé€šä¿¡æ—¶æ‰€é€‰æ‹©çš„é»˜è®¤æ¥å£ã€‚</p><p>åœ¨Windowsæ“ä½œç³»ç»Ÿä¸­ï¼ŒInterfaceMetricæ˜¯ä¸€ä¸ªç”¨äºè·¯ç”±é€‰æ‹©å’Œæ¥å£ä¼˜å…ˆçº§çš„æ•´æ•°å€¼ã€‚è¾ƒä½çš„InterfaceMetricå€¼è¡¨ç¤ºè¾ƒé«˜çš„ä¼˜å…ˆçº§ï¼Œé€šå¸¸ä¼šè¢«é€‰æ‹©ä¸ºé»˜è®¤æ¥å£ã€‚ä»¥ä¸‹æ˜¯InterfaceMetricçš„ä¸€äº›å¸¸ç”¨æ•°å€¼åŠå…¶å«ä¹‰ï¼š</p><ul><li>0ï¼šæœ€é«˜ä¼˜å…ˆçº§ã€‚å½“å­˜åœ¨å¤šä¸ªå¯ç”¨çš„æ¥å£æ—¶ï¼Œæ“ä½œç³»ç»Ÿå°†ä¼˜å…ˆä½¿ç”¨æ­¤æ¥å£è¿›è¡Œç½‘ç»œé€šä¿¡ã€‚</li><li>5ï¼šè¾ƒé«˜ä¼˜å…ˆçº§ã€‚ä¼˜å…ˆçº§ç¨ä½äº0ï¼Œä½†ä»æ¯”è¾ƒé«˜ï¼Œé€šå¸¸ç”¨äºæŒ‡å®šé¦–é€‰æ¥å£ã€‚</li><li>10ï¼šé»˜è®¤ä¼˜å…ˆçº§ã€‚å¦‚æœæ²¡æœ‰ç‰¹æ®ŠæŒ‡å®šä¼˜å…ˆçº§çš„æƒ…å†µä¸‹ï¼Œæ“ä½œç³»ç»Ÿé€šå¸¸å°†é€‰æ‹©InterfaceMetricä¸º10çš„æ¥å£ä½œä¸ºé»˜è®¤æ¥å£ã€‚</li><li>å¤§äº10çš„å€¼ï¼šè¾ƒä½ä¼˜å…ˆçº§ã€‚è¿™äº›å€¼è¡¨ç¤ºæ¥å£çš„ä¼˜å…ˆçº§è¾ƒä½ï¼Œåªæœ‰åœ¨æ²¡æœ‰æ›´é«˜ä¼˜å…ˆçº§çš„æ¥å£å¯ç”¨æ—¶æ‰è¢«é€‰æ‹©ã€‚</li></ul><p>è¯·æ³¨æ„ï¼ŒInterfaceMetricå€¼åªåœ¨æœ‰å¤šä¸ªå¯ç”¨çš„ç½‘ç»œæ¥å£æ—¶æ‰èµ·ä½œç”¨ã€‚å¦‚æœåªæœ‰ä¸€ä¸ªæ¥å£å¯ç”¨ï¼Œåˆ™æ— è®ºInterfaceMetricçš„å€¼å¦‚ä½•ï¼Œè¯¥æ¥å£éƒ½å°†è¢«é€‰æ‹©ä¸ºé»˜è®¤æ¥å£ã€‚</p><p>æ‚¨å¯ä»¥é€šè¿‡ä»¥ä¸‹æ­¥éª¤åœ¨Windowsç³»ç»Ÿä¸­ä¿®æ”¹æ¥å£çš„InterfaceMetricå€¼ï¼š</p><ol><li>æ‰“å¼€ç½‘ç»œè¿æ¥è®¾ç½®ï¼šåœ¨Windowsæœç´¢æ ä¸­è¾“å…¥â€æ§åˆ¶é¢æ¿â€ï¼Œæ‰“å¼€æ§åˆ¶é¢æ¿åé€‰æ‹©â€ç½‘ç»œå’Œ Internetâ€ï¼Œç„¶åé€‰æ‹©â€ç½‘ç»œå’Œå…±äº«ä¸­å¿ƒâ€ã€‚</li><li>æ‰“å¼€é€‚é…å™¨è®¾ç½®ï¼šåœ¨å·¦ä¾§é¢æ¿ä¸­ï¼Œç‚¹å‡»â€æ›´æ”¹é€‚é…å™¨è®¾ç½®â€ã€‚</li><li>æ‰¾åˆ°ç½‘ç»œæ¥å£ï¼šåœ¨é€‚é…å™¨è®¾ç½®çª—å£ä¸­ï¼Œæ‰¾åˆ°è¦ä¿®æ”¹InterfaceMetricçš„ç½‘ç»œæ¥å£ï¼Œå³é”®ç‚¹å‡»è¯¥æ¥å£ï¼Œç„¶åé€‰æ‹©â€å±æ€§â€ã€‚</li><li>ä¿®æ”¹æ¥å£å±æ€§ï¼šåœ¨æ¥å£å±æ€§çª—å£ä¸­ï¼Œé€‰æ‹©â€Internet åè®®ç‰ˆæœ¬ 4 (TCP&#x2F;IPv4)â€ï¼ˆæˆ–å…¶ä»–é€‚ç”¨çš„åè®®ç‰ˆæœ¬ï¼‰ï¼Œç„¶åç‚¹å‡»â€å±æ€§â€æŒ‰é’®ã€‚</li><li>ä¿®æ”¹InterfaceMetricå€¼ï¼šåœ¨è¯¥æ¥å£çš„å±æ€§çª—å£ä¸­ï¼Œç‚¹å‡»â€é«˜çº§â€æŒ‰é’®ï¼Œåœ¨â€é€‚é…å™¨åº¦é‡â€éƒ¨åˆ†ï¼Œå¯ä»¥æ‰‹åŠ¨è¾“å…¥æƒ³è¦è®¾ç½®çš„InterfaceMetricå€¼ï¼ˆæ•´æ•°ï¼‰ã€‚</li><li>ä¿å­˜è®¾ç½®ï¼šä¿å­˜ä¿®æ”¹åçš„è®¾ç½®ï¼Œç„¶åå…³é—­æ‰€æœ‰çª—å£ã€‚</li></ol><p>æ³¨æ„ï¼šæ›´æ”¹InterfaceMetricå€¼åï¼Œå¯èƒ½éœ€è¦é‡å¯è®¡ç®—æœºæˆ–è€…å¯ç”¨&#x2F;ç¦ç”¨ç½‘ç»œæ¥å£æ‰èƒ½ä½¿æ›´æ”¹ç”Ÿæ•ˆã€‚</p><p>å¸Œæœ›è¿™äº›ä¿¡æ¯èƒ½å¸®åŠ©æ‚¨ç†è§£InterfaceMetricçš„å«ä¹‰åŠå…¶åœ¨Windowsç³»ç»Ÿä¸­ä½¿ç”¨çš„æ–¹å¼ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> OS </category>
          
          <category> Windows </category>
          
          <category> PowerShell </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>æ¸…ç†DNSç¼“å­˜</title>
      <link href="/OS/Windows/PowerShell/%E6%B8%85%E7%90%86DNS%E7%BC%93%E5%AD%98/"/>
      <url>/OS/Windows/PowerShell/%E6%B8%85%E7%90%86DNS%E7%BC%93%E5%AD%98/</url>
      
        <content type="html"><![CDATA[<p>åœ¨Windowsç³»ç»Ÿä¸Šæ¸…ç†DNSç¼“å­˜æœ‰å‡ ç§æ–¹æ³•ï¼Œä»¥ä¸‹æ˜¯å…¶ä¸­ä¸¤ç§å¸¸ç”¨çš„æ–¹æ³•ï¼š</p><p>æ–¹æ³•ä¸€ï¼šä½¿ç”¨ipconfigå‘½ä»¤</p><ol><li><p>æ‰“å¼€å‘½ä»¤æç¤ºç¬¦ï¼šæŒ‰ä¸‹Win + Ré”®ï¼Œåœ¨è¿è¡Œå¯¹è¯æ¡†ä¸­è¾“å…¥<code>cmd</code>ï¼Œç„¶åæŒ‰ä¸‹å›è½¦é”®ã€‚</p></li><li><p>åœ¨å‘½ä»¤æç¤ºç¬¦çª—å£ä¸­ï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤å¹¶æŒ‰ä¸‹å›è½¦é”®ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ipconfig /flushdns</span><br></pre></td></tr></table></figure><p>è¿™å°†æ¸…é™¤æœ¬åœ°è®¡ç®—æœºä¸Šçš„DNSç¼“å­˜ã€‚</p></li><li><p>åœ¨å‘½ä»¤æç¤ºç¬¦çª—å£ä¸­ï¼Œæ‚¨å°†çœ‹åˆ°ä¸€æ¡æ¶ˆæ¯æç¤ºâ€DNS Resolver Cache successfully flushedâ€ï¼Œè¡¨æ˜DNSç¼“å­˜å·²æˆåŠŸæ¸…é™¤ã€‚</p></li></ol><p>æ–¹æ³•äºŒï¼šä½¿ç”¨å‘½ä»¤æç¤ºç¬¦å’Œnetshå‘½ä»¤</p><ol><li><p>æ‰“å¼€å‘½ä»¤æç¤ºç¬¦ï¼šæŒ‰ä¸‹Win + Ré”®ï¼Œåœ¨è¿è¡Œå¯¹è¯æ¡†ä¸­è¾“å…¥<code>cmd</code>ï¼Œç„¶åæŒ‰ä¸‹å›è½¦é”®ã€‚</p></li><li><p>åœ¨å‘½ä»¤æç¤ºç¬¦çª—å£ä¸­ï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤å¹¶æŒ‰ä¸‹å›è½¦é”®ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">netsh winsock reset</span><br></pre></td></tr></table></figure><p>è¿™å°†é‡ç½®Winsockç›®å½•ï¼Œå¹¶æ¸…é™¤DNSç¼“å­˜ã€‚</p></li><li><p>åœ¨å‘½ä»¤æç¤ºç¬¦çª—å£ä¸­ï¼Œæ‚¨å°†çœ‹åˆ°ä¸€æ¡æ¶ˆæ¯æç¤ºâ€Successfully reset the Winsock Catalogâ€ï¼Œè¡¨æ˜Winsockç›®å½•å·²æˆåŠŸé‡ç½®ã€‚</p></li><li><p>åœ¨å‘½ä»¤æç¤ºç¬¦çª—å£ä¸­ï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤å¹¶æŒ‰ä¸‹å›è½¦é”®ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ipconfig /flushdns</span><br></pre></td></tr></table></figure><p>è¿™å°†æ¸…é™¤æœ¬åœ°è®¡ç®—æœºä¸Šçš„DNSç¼“å­˜ã€‚</p></li><li><p>åœ¨å‘½ä»¤æç¤ºç¬¦çª—å£ä¸­ï¼Œæ‚¨å°†çœ‹åˆ°ä¸€æ¡æ¶ˆæ¯æç¤ºâ€DNS Resolver Cache successfully flushedâ€ï¼Œè¡¨æ˜DNSç¼“å­˜å·²æˆåŠŸæ¸…é™¤ã€‚</p></li></ol><p>æ— è®ºä½¿ç”¨å“ªç§æ–¹æ³•ï¼Œéƒ½éœ€è¦ä»¥ç®¡ç†å‘˜æƒé™è¿è¡Œå‘½ä»¤æç¤ºç¬¦çª—å£ï¼ˆå³é”®ç‚¹å‡»å‘½ä»¤æç¤ºç¬¦å›¾æ ‡ï¼Œé€‰æ‹©â€ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œâ€ï¼‰æ‰èƒ½æ‰§è¡Œæ¸…é™¤DNSç¼“å­˜çš„å‘½ä»¤ã€‚</p><p>å¸Œæœ›è¿™äº›æ­¥éª¤èƒ½å¤Ÿå¸®åŠ©æ‚¨æ¸…ç†Windowsç³»ç»Ÿä¸Šçš„DNSç¼“å­˜ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> OS </category>
          
          <category> Windows </category>
          
          <category> PowerShell </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>LoadLibraryåŠ è½½å¤±è´¥ï¼Œè¿”å›126</title>
      <link href="/OS/Windows/GetLastError/126/"/>
      <url>/OS/Windows/GetLastError/126/</url>
      
        <content type="html"><![CDATA[<p>[toc]</p><h1 id="é—®é¢˜æè¿°ï¼š"><a href="#é—®é¢˜æè¿°ï¼š" class="headerlink" title="é—®é¢˜æè¿°ï¼š"></a>é—®é¢˜æè¿°ï¼š</h1><p>åœ¨æŸä¸€ä¸ªwindowsç¯å¢ƒä¸­ï¼Œå®‰è£…äº†ä¸€ä¸ªæœåŠ¡dï¼ŒæœåŠ¡dçš„å¯åŠ¨ä¾èµ–äºä¸€ä¸ªå…³é”®çš„dllæ–‡ä»¶(info.dll)ï¼Œä¸€ç›´æœåŠ¡è¿›ç¨‹çš„dllä¹Ÿå­˜åœ¨ï¼Œä½†æ˜¯åœ¨æœåŠ¡å¯åŠ¨çš„æ—¶å€™ï¼Œä½¿ç”¨ <code>LoadLibrary</code> å‡½æ•°ä¼šè¿”å›<code>GetLastError</code> 126ã€‚</p><h1 id="æ’æŸ¥æ‰‹æ®µè®°å½•"><a href="#æ’æŸ¥æ‰‹æ®µè®°å½•" class="headerlink" title="æ’æŸ¥æ‰‹æ®µè®°å½•"></a>æ’æŸ¥æ‰‹æ®µè®°å½•</h1><p>å·²ç»å°è¯•è¿‡çš„æ’æŸ¥æ‰‹æ®µåŒ…æ‹¬ä½†ä¸é™äºï¼š</p><h2 id="ä½¿ç”¨ç»å¯¹è·¯å¾„åŠ è½½dll"><a href="#ä½¿ç”¨ç»å¯¹è·¯å¾„åŠ è½½dll" class="headerlink" title="ä½¿ç”¨ç»å¯¹è·¯å¾„åŠ è½½dll"></a>ä½¿ç”¨ç»å¯¹è·¯å¾„åŠ è½½dll</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// old</span></span><br><span class="line"><span class="built_in">LoadLibrary</span>(<span class="string">&quot;info.dll&quot;</span>);</span><br><span class="line"><span class="comment">// new</span></span><br><span class="line"><span class="built_in">LoadLibrary</span>(<span class="string">&quot;C:\\info.dll&quot;</span>);</span><br></pre></td></tr></table></figure><h1 id="é—®é¢˜å…³é”®"><a href="#é—®é¢˜å…³é”®" class="headerlink" title="é—®é¢˜å…³é”®"></a>é—®é¢˜å…³é”®</h1>]]></content>
      
      
      <categories>
          
          <category> OS </category>
          
          <category> Windows </category>
          
          <category> GetLastError </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Windows </tag>
            
            <tag> GetLastError </tag>
            
            <tag> LoadLibrary </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>FormatMessageå‡½æ•°çš„ä½¿ç”¨</title>
      <link href="/OS/Windows/FormatErrMessage/"/>
      <url>/OS/Windows/FormatErrMessage/</url>
      
        <content type="html"><![CDATA[<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">const</span> <span class="type">char</span>* <span class="title">SPErrMsg</span><span class="params">(<span class="type">int</span> errcode)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">static</span> <span class="type">char</span> _g_inner_msg[<span class="number">1024</span>];</span><br><span class="line">    <span class="built_in">memset</span>(_g_inner_msg, <span class="number">0</span>, <span class="built_in">sizeof</span>(_g_inner_msg));</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">if</span> SP_PLATFORM==SP_PLATFORM_WINDOWS</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="number">0</span>==errcode)</span><br><span class="line">    &#123;</span><br><span class="line">        errcode = <span class="built_in">GetLastError</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    LPTSTR buf = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">if</span> (::<span class="built_in">FormatMessage</span>(FORMAT_MESSAGE_ALLOCATE_BUFFER | FORMAT_MESSAGE_FROM_SYSTEM | FORMAT_MESSAGE_IGNORE_INSERTS,</span><br><span class="line">        <span class="literal">NULL</span>, errcode, <span class="built_in">MAKELANGID</span>(LANG_ENGLISH, SUBLANG_ENGLISH_US) <span class="comment">/* MAKELANGID(LANG_NEUTRAL, SUBLANG_DEFAULT) */</span>,</span><br><span class="line">        (LPTSTR)&amp;buf, <span class="number">0</span>, <span class="literal">NULL</span>))</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// DWORD language_id</span></span><br><span class="line">        <span class="comment">// MAKELANGID(LANG_NEUTRAL, SUBLANG_DEFAULT)</span></span><br><span class="line">        <span class="comment">// MAKELANGID(LANG_ENGLISH, SUBLANG_ENGLISH_US)</span></span><br><span class="line">        <span class="comment">// MAKELANGID(LANG_CHINESE_SIMPLIFIED, SUBLANG_CHINESE_SIMPLIFIED)</span></span><br><span class="line">        <span class="comment">// MAKELANGID(LANG_CHINESE_TRADITIONAL, SUBLANG_CHINESE_TRADITIONAL)</span></span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> len = <span class="built_in">snprintf</span>(_g_inner_msg, <span class="built_in">sizeof</span>(_g_inner_msg), <span class="string">&quot; [%d]%s&quot;</span>, errcode, buf);</span><br><span class="line">        <span class="keyword">if</span> ( len&gt;<span class="number">2</span> &amp;&amp; _g_inner_msg[len<span class="number">-1</span>]==<span class="string">&#x27;\n&#x27;</span> &amp;&amp; _g_inner_msg[len<span class="number">-2</span>]==<span class="string">&#x27;\r&#x27;</span> )</span><br><span class="line">        &#123;</span><br><span class="line">            _g_inner_msg[len - <span class="number">1</span>] = <span class="string">&#x27;\0&#x27;</span>;</span><br><span class="line">            _g_inner_msg[len - <span class="number">2</span>] = <span class="string">&#x27;\0&#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        ::<span class="built_in">LocalFree</span>(buf);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">snprintf</span>(_g_inner_msg, <span class="built_in">sizeof</span>(_g_inner_msg), <span class="string">&quot; [%d]Unknown error %d&quot;</span>, errcode, errcode);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="meta">#<span class="keyword">else</span></span></span><br><span class="line">    <span class="comment">// https://stackoverflow.com/questions/3219393/stdlib-and-colored-output-in-c</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="number">0</span>==errcode)</span><br><span class="line">    &#123;</span><br><span class="line">        errcode = errno;</span><br><span class="line">        errno   = errcode;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">snprintf</span>(_g_inner_msg, <span class="built_in">sizeof</span>(_g_inner_msg), <span class="string">&quot; [%d]%s&quot;</span>, (<span class="type">int</span>)errcode, <span class="built_in">strerror</span>(errcode));</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line">    <span class="keyword">return</span> (_g_inner_msg);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> OS </category>
          
          <category> Windows </category>
          
      </categories>
      
      
        <tags>
            
            <tag> windows </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åŠ è½½åŠ¨æ€åº“ (loadlibrary)</title>
      <link href="/OS/Windows/API_%E5%8A%A0%E8%BD%BD%E5%8A%A8%E6%80%81%E5%BA%93/"/>
      <url>/OS/Windows/API_%E5%8A%A0%E8%BD%BD%E5%8A%A8%E6%80%81%E5%BA%93/</url>
      
        <content type="html"><![CDATA[<p>[toc]</p><h1 id="åŠ è½½"><a href="#åŠ è½½" class="headerlink" title="åŠ è½½"></a>åŠ è½½</h1><blockquote><p>usingçš„ç”¨æ³•å‚è€ƒ <a href="../../Code/C++er/using.md">ä½¿ç”¨usingèµ·åˆ«å</a></p></blockquote><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;windows.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;PipeIPC/PipeIPC.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;--- DLL Test ---\n&quot;</span>;</span><br><span class="line"></span><br><span class="line">    HINSTANCE hDLL; <span class="comment">// Handle to DLL</span></span><br><span class="line">    <span class="keyword">using</span> Face = <span class="type">int</span> * (*)(<span class="type">int</span>,<span class="type">int</span>);</span><br><span class="line"></span><br><span class="line">    hDLL = <span class="built_in">LoadLibrary</span>(<span class="string">L&quot;mydll.dll&quot;</span>);</span><br><span class="line">     <span class="keyword">if</span> (hDLL != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        Face faceSum = (Face)<span class="built_in">GetProcAddress</span>(hDLL,</span><br><span class="line">            <span class="string">&quot;mySum&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (!faceSum)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">// handle the error</span></span><br><span class="line">            <span class="built_in">FreeLibrary</span>(hDLL);</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">// call the function</span></span><br><span class="line">           <span class="built_in">faceSum</span>(<span class="number">1</span>,<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="ç”ŸæˆåŠ¨æ€åº“"><a href="#ç”ŸæˆåŠ¨æ€åº“" class="headerlink" title="ç”ŸæˆåŠ¨æ€åº“"></a>ç”ŸæˆåŠ¨æ€åº“</h1><h2 id="dllmain-cpp"><a href="#dllmain-cpp" class="headerlink" title="dllmain.cpp"></a>dllmain.cpp</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifdef</span> __cplusplus</span></span><br><span class="line"><span class="keyword">extern</span> <span class="string">&quot;C&quot;</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span> </span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> MYIMAPI extern <span class="string">&quot;C&quot;</span> __declspec(dllimport)</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> MYEXAPI extern <span class="string">&quot;C&quot;</span> __declspec(dllexport)</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">ifdef</span> __cplusplus</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line"><span class="function">MYEXAPI <span class="type">int</span> <span class="title">Add</span><span class="params">(<span class="type">int</span> numa, <span class="type">int</span> numb)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> numa + numb;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">MYEXAPI <span class="type">int</span> <span class="title">Sub</span><span class="params">(<span class="type">int</span> numa, <span class="type">int</span> numb)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> (numa - numb);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> OS </category>
          
          <category> Windows </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Windows </tag>
            
            <tag> DLL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>windows æŸ¥çœ‹è¿›ç¨‹å¯åŠ¨å‚æ•°å‘½ä»¤è¡Œ</title>
      <link href="/OS/Windows/%E6%9F%A5%E7%9C%8B%E8%BF%9B%E7%A8%8B%E5%90%AF%E5%8A%A8%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%8F%82%E6%95%B0/"/>
      <url>/OS/Windows/%E6%9F%A5%E7%9C%8B%E8%BF%9B%E7%A8%8B%E5%90%AF%E5%8A%A8%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%8F%82%E6%95%B0/</url>
      
        <content type="html"><![CDATA[<h1 id="Windows-æŸ¥çœ‹è¿›ç¨‹å¯åŠ¨å‚æ•°å‘½ä»¤è¡Œ"><a href="#Windows-æŸ¥çœ‹è¿›ç¨‹å¯åŠ¨å‚æ•°å‘½ä»¤è¡Œ" class="headerlink" title="Windows æŸ¥çœ‹è¿›ç¨‹å¯åŠ¨å‚æ•°å‘½ä»¤è¡Œ"></a>Windows æŸ¥çœ‹è¿›ç¨‹å¯åŠ¨å‚æ•°å‘½ä»¤è¡Œ</h1><h2 id="ä½¿ç”¨wmicæŸ¥çœ‹"><a href="#ä½¿ç”¨wmicæŸ¥çœ‹" class="headerlink" title="ä½¿ç”¨wmicæŸ¥çœ‹"></a>ä½¿ç”¨<code>wmic</code>æŸ¥çœ‹</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wmic process where caption=&quot;ã€è¿›ç¨‹åã€‘&quot; get caption,commandline /value</span><br></pre></td></tr></table></figure><p>ä¹Ÿå¯ä»¥é€šè¿‡æ‰“å°æ‰€æœ‰çš„å‘½ä»¤è¡Œå‚æ•°ä¹‹åè¿›è¡Œç­›é€‰</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wmic process get caption,commandline /value | findstr &quot;ã€è¿›ç¨‹åï¼Œç‰¹å¾å­—ç¬¦ä¸²ç­‰ã€‘&quot;</span><br></pre></td></tr></table></figure><h2 id="ä½¿ç”¨ä»»åŠ¡ç®¡ç†å™¨æŸ¥çœ‹"><a href="#ä½¿ç”¨ä»»åŠ¡ç®¡ç†å™¨æŸ¥çœ‹" class="headerlink" title="ä½¿ç”¨ä»»åŠ¡ç®¡ç†å™¨æŸ¥çœ‹"></a>ä½¿ç”¨ä»»åŠ¡ç®¡ç†å™¨æŸ¥çœ‹</h2><p>æ‰“å¼€ä»»åŠ¡ç®¡ç†å™¨ï¼Œåœ¨<kbd>è¯¦ç»†ä¿¡æ¯</kbd>æ ï¼Œå³å‡»æ ‡é¢˜åˆ—<code>-&gt;</code>é€‰æ‹©åˆ—ï¼Œæ‰¾åˆ°å‘½ä»¤è¡Œï¼Œå‹¾é€‰å³å¯ã€‚</p><div class="tag-plugin image"><div class="image-bg"><img src="https://raw.githubusercontent.com/holdyounger/ScopeBlog/rc_images/Images/Windows/images/CommandstartProcess/image-20220425100222890.png"/></div></div>]]></content>
      
      
      <categories>
          
          <category> OS </category>
          
          <category> Windows </category>
          
      </categories>
      
      
        <tags>
            
            <tag> cmd </tag>
            
            <tag> Windows </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>windows ç³»ç»Ÿè·å–ç³»ç»Ÿä¸»æœºåŸŸå</title>
      <link href="/OS/Windows/API/%E8%8E%B7%E5%8F%96%E7%B3%BB%E7%BB%9F%E5%9F%9F%E5%90%8D/"/>
      <url>/OS/Windows/API/%E8%8E%B7%E5%8F%96%E7%B3%BB%E7%BB%9F%E5%9F%9F%E5%90%8D/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æ¦‚è¿°ï¼šwindowsæ“ä½œç³»ç»Ÿä¸‹è·å–ä¸»æœºåŸŸå</p></blockquote><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// GetDominName.cpp : è·å–ä¸»æœºåŸŸå</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;Windows.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;DSRole.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">pragma</span> comment(lib, <span class="string">&quot;netapi32.lib&quot;</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> ** argv)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">DSROLE_PRIMARY_DOMAIN_INFO_BASIC * info;</span><br><span class="line">DWORD dw;</span><br><span class="line"></span><br><span class="line">dw = <span class="built_in">DsRoleGetPrimaryDomainInformation</span>(<span class="literal">NULL</span>,</span><br><span class="line">DsRolePrimaryDomainInfoBasic,</span><br><span class="line">(PBYTE *)&amp;info);</span><br><span class="line"><span class="keyword">if</span> (dw != ERROR_SUCCESS)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">wprintf</span>(<span class="string">L&quot;DsRoleGetPrimaryDomainInformation: %u\n&quot;</span>, dw);</span><br><span class="line"><span class="keyword">return</span> dw;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (info-&gt;DomainNameDns == <span class="literal">NULL</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">wprintf</span>(<span class="string">L&quot;DomainNameDns is NULL\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">wprintf</span>(<span class="string">L&quot;DomainNameDns: %s\n&quot;</span>, info-&gt;DomainNameDns);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>è¾“å‡ºç¤ºä¾‹ï¼š</p><div class="tag-plugin image"><div class="image-bg"><img src="images/%E8%8E%B7%E5%8F%96%E7%B3%BB%E7%BB%9F%E5%9F%9F%E5%90%8D/1.png"/></div></div>]]></content>
      
      
      <categories>
          
          <category> OS </category>
          
          <category> Windows </category>
          
          <category> API </category>
          
      </categories>
      
      
        <tags>
            
            <tag> windows </tag>
            
            <tag> winapi </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åˆ é™¤æ–‡ä»¶å¤¹ä¸‹æ‰€æœ‰æ–‡ä»¶</title>
      <link href="/OS/Windows/API/%E5%88%A0%E9%99%A4%E6%96%87%E4%BB%B6%E7%9B%AE%E5%BD%95%E4%B8%8B%E7%9A%84%E6%89%80%E6%9C%89%E6%96%87%E4%BB%B6/"/>
      <url>/OS/Windows/API/%E5%88%A0%E9%99%A4%E6%96%87%E4%BB%B6%E7%9B%AE%E5%BD%95%E4%B8%8B%E7%9A%84%E6%89%80%E6%9C%89%E6%96%87%E4%BB%B6/</url>
      
        <content type="html"><![CDATA[<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// moveLogs.cpp : æ­¤æ–‡ä»¶åŒ…å« &quot;main&quot; å‡½æ•°ã€‚ç¨‹åºæ‰§è¡Œå°†åœ¨æ­¤å¤„å¼€å§‹å¹¶ç»“æŸã€‚</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;windows.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;winbase.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;WinUser.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;strsafe.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;ShObjIdl.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;shlobj.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;comutil.h&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;io.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">pragma</span> comment(lib, <span class="string">&quot;comsuppw.lib&quot;</span>)</span></span><br><span class="line"><span class="meta">#<span class="keyword">pragma</span> comment(linker, <span class="string">&quot;/entry:mainCRTStartup&quot;</span>) </span></span><br><span class="line"></span><br><span class="line"><span class="type">bool</span> _SetFileRebootDelete(<span class="type">const</span> std::string&amp; file_path) &#123;</span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">MoveFileExA</span>(file_path.<span class="built_in">c_str</span>(), <span class="number">0</span>, MOVEFILE_DELAY_UNTIL_REBOOT)) &#123;</span><br><span class="line"><span class="comment">// MessageBoxA(NULL, &quot;æˆåŠŸï¼&quot;, &quot;è®¾ç½®æˆåŠŸï¼&quot;, MB_OK);</span></span><br><span class="line"><span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line"><span class="comment">// MessageBoxA(NULL, &quot;å¤±è´¥ï¼&quot;, &quot;è®¾ç½®å¤±è´¥ï¼&quot;, MB_OK);</span></span><br><span class="line"><span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">getFiles</span><span class="params">(std::string path, std::vector&lt;std::string&gt;&amp; files, std::vector&lt;std::string&gt;&amp; names)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">//æ–‡ä»¶å¥æŸ„ï¼Œwin10ç”¨long longï¼Œwin7ç”¨longå°±å¯ä»¥äº†</span></span><br><span class="line"><span class="type">long</span> hFile = <span class="number">0</span>;</span><br><span class="line"><span class="comment">//æ–‡ä»¶ä¿¡æ¯ </span></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">_finddata_t</span> fileinfo;</span><br><span class="line">std::string p;</span><br><span class="line"><span class="keyword">if</span> ((hFile = _findfirst(p.<span class="built_in">assign</span>(path).<span class="built_in">append</span>(<span class="string">&quot;\\*&quot;</span>).<span class="built_in">c_str</span>(), &amp;fileinfo)) != <span class="number">-1</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">//å¦‚æœæ˜¯ç›®å½•,è¿­ä»£ä¹‹ //å¦‚æœä¸æ˜¯,åŠ å…¥åˆ—è¡¨ </span></span><br><span class="line"><span class="keyword">if</span> ((fileinfo.attrib &amp; _A_SUBDIR))</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">strcmp</span>(fileinfo.name, <span class="string">&quot;.&quot;</span>) != <span class="number">0</span> &amp;&amp; <span class="built_in">strcmp</span>(fileinfo.name, <span class="string">&quot;..&quot;</span>) != <span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">getFiles</span>(p.<span class="built_in">assign</span>(path).<span class="built_in">append</span>(<span class="string">&quot;\\&quot;</span>).<span class="built_in">append</span>(fileinfo.name), files, names);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">files.<span class="built_in">push_back</span>(p.<span class="built_in">assign</span>(path).<span class="built_in">append</span>(<span class="string">&quot;\\&quot;</span>).<span class="built_in">append</span>(fileinfo.name));</span><br><span class="line">names.<span class="built_in">push_back</span>(fileinfo.name);</span><br><span class="line">&#125;</span><br><span class="line">&#125; <span class="keyword">while</span> (_findnext(hFile, &amp;fileinfo) == <span class="number">0</span>);</span><br><span class="line">_findclose(hFile);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function">std::string <span class="title">GetLoactionDir</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">DWORD dwLen = <span class="number">0</span>;</span><br><span class="line">CHAR szAppDataDir[MAX_PATH];</span><br><span class="line">dwLen = <span class="built_in">ExpandEnvironmentStringsA</span>(<span class="string">&quot;%programdata%&quot;</span>, szAppDataDir, MAX_PATH);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (dwLen != <span class="number">0</span>) &#123;</span><br><span class="line"><span class="built_in">StringCchCatA</span>(szAppDataDir, <span class="built_in">sizeof</span>(szAppDataDir), (<span class="string">&quot;\\TrustAgent\\logs&quot;</span>));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> szAppDataDir;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line">std::string filepath = <span class="built_in">GetLoactionDir</span>();</span><br><span class="line"></span><br><span class="line">vector&lt;string&gt; files;</span><br><span class="line">vector&lt;string&gt; names;</span><br><span class="line"></span><br><span class="line"><span class="built_in">getFiles</span>(filepath, files, names);</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; files.<span class="built_in">size</span>(); i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;-----========files:%d========---\n&quot;</span>, i);</span><br><span class="line"><span class="comment">// cout &lt;&lt; &quot;files&quot; &lt;&lt; i &lt;&lt; &#x27;:&#x27; &lt;&lt; files[i] &lt;&lt; endl;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// wstring wsName;</span></span><br><span class="line"><span class="comment">// wsName = string2wstring(files[i]);</span></span><br><span class="line">cout &lt;&lt; <span class="string">&quot;lnkPath: &quot;</span> &lt;&lt; files[i] &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line"><span class="comment">// wstring wsDestPath = getLnkFormPath(wsName);</span></span><br><span class="line"><span class="comment">// cout &lt;&lt; &quot;destPath:&quot;;</span></span><br><span class="line"><span class="comment">// wcout &lt;&lt; wsDestPath;</span></span><br><span class="line"><span class="comment">// cout &lt;&lt; endl;</span></span><br><span class="line"></span><br><span class="line">_SetFileRebootDelete(files[i]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿è¡Œç¨‹åº: Ctrl + F5 æˆ–è°ƒè¯• &gt;â€œå¼€å§‹æ‰§è¡Œ(ä¸è°ƒè¯•)â€èœå•</span></span><br><span class="line"><span class="comment">// è°ƒè¯•ç¨‹åº: F5 æˆ–è°ƒè¯• &gt;â€œå¼€å§‹è°ƒè¯•â€èœå•</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å…¥é—¨ä½¿ç”¨æŠ€å·§: </span></span><br><span class="line"><span class="comment">//   1. ä½¿ç”¨è§£å†³æ–¹æ¡ˆèµ„æºç®¡ç†å™¨çª—å£æ·»åŠ /ç®¡ç†æ–‡ä»¶</span></span><br><span class="line"><span class="comment">//   2. ä½¿ç”¨å›¢é˜Ÿèµ„æºç®¡ç†å™¨çª—å£è¿æ¥åˆ°æºä»£ç ç®¡ç†</span></span><br><span class="line"><span class="comment">//   3. ä½¿ç”¨è¾“å‡ºçª—å£æŸ¥çœ‹ç”Ÿæˆè¾“å‡ºå’Œå…¶ä»–æ¶ˆæ¯</span></span><br><span class="line"><span class="comment">//   4. ä½¿ç”¨é”™è¯¯åˆ—è¡¨çª—å£æŸ¥çœ‹é”™è¯¯</span></span><br><span class="line"><span class="comment">//   5. è½¬åˆ°â€œé¡¹ç›®â€&gt;â€œæ·»åŠ æ–°é¡¹â€ä»¥åˆ›å»ºæ–°çš„ä»£ç æ–‡ä»¶ï¼Œæˆ–è½¬åˆ°â€œé¡¹ç›®â€&gt;â€œæ·»åŠ ç°æœ‰é¡¹â€ä»¥å°†ç°æœ‰ä»£ç æ–‡ä»¶æ·»åŠ åˆ°é¡¹ç›®</span></span><br><span class="line"><span class="comment">//   6. å°†æ¥ï¼Œè‹¥è¦å†æ¬¡æ‰“å¼€æ­¤é¡¹ç›®ï¼Œè¯·è½¬åˆ°â€œæ–‡ä»¶â€&gt;â€œæ‰“å¼€â€&gt;â€œé¡¹ç›®â€å¹¶é€‰æ‹© .sln æ–‡ä»¶</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> OS </category>
          
          <category> Windows </category>
          
          <category> API </category>
          
      </categories>
      
      
        <tags>
            
            <tag> API </tag>
            
            <tag> åˆ é™¤æ–‡ä»¶ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>FormatMessageA</title>
      <link href="/OS/Windows/API/FormatMessageA/"/>
      <url>/OS/Windows/API/FormatMessageA/</url>
      
        <content type="html"><![CDATA[<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">string <span class="title">get_sys_error_msg</span><span class="params">(<span class="type">unsigned</span> <span class="type">long</span> err)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">char</span> _inner_msg[<span class="number">10240</span>] = &#123; <span class="number">0</span> &#125;;</span><br><span class="line"><span class="built_in">memset</span>(_inner_msg, <span class="number">0</span>, <span class="built_in">sizeof</span>(_inner_msg));</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (err == <span class="number">0</span>)</span><br><span class="line">err = <span class="built_in">GetLastError</span>();</span><br><span class="line">LPSTR buf = <span class="literal">NULL</span>;</span><br><span class="line"><span class="keyword">if</span> (::<span class="built_in">FormatMessageA</span>(FORMAT_MESSAGE_ALLOCATE_BUFFER | FORMAT_MESSAGE_FROM_SYSTEM | </span><br><span class="line"> FORMAT_MESSAGE_IGNORE_INSERTS,</span><br><span class="line"> <span class="literal">NULL</span>, </span><br><span class="line"> err, </span><br><span class="line"> <span class="built_in">MAKELANGID</span>(LANG_ENGLISH, SUBLANG_ENGLISH_US),</span><br><span class="line">(LPSTR)&amp;buf, </span><br><span class="line"><span class="number">0</span>, </span><br><span class="line"><span class="literal">NULL</span>))</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">sprintf_s</span>(_inner_msg, <span class="built_in">sizeof</span>(_inner_msg),<span class="string">&quot;[%d]%s&quot;</span>, err, buf);</span><br><span class="line">::<span class="built_in">LocalFree</span>(buf);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">snprintf</span>(_inner_msg, <span class="built_in">sizeof</span>(_inner_msg), <span class="string">&quot; [0x%x]Unknown error&quot;</span>, err);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">string <span class="title">str_error_msg</span><span class="params">(_inner_msg)</span></span>;</span><br><span class="line"><span class="keyword">return</span> str_error_msg;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> OS </category>
          
          <category> Windows </category>
          
          <category> API </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>ShellExecute</title>
      <link href="/OS/Windows/API/ShellExecute/"/>
      <url>/OS/Windows/API/ShellExecute/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æ¦‚è¿°ï¼š <code>ShellExecute</code> ç”¨æ³•çš„æ•´ç†å’Œç¤ºä¾‹<br>å®˜æ–¹è¯´æ˜ï¼š<a href="https://learn.microsoft.com/zh-cn/windows/win32/api/shellapi/nf-shellapi-shellexecutea">shellExecuteA å‡½æ•° (shellapi.h) - Win32 apps | Microsoft Learn</a></p></blockquote><h1 id="ä¸€ä¸ªå®Œæ•´çš„ç”¨æ³•ç¤ºä¾‹"><a href="#ä¸€ä¸ªå®Œæ•´çš„ç”¨æ³•ç¤ºä¾‹" class="headerlink" title="ä¸€ä¸ªå®Œæ•´çš„ç”¨æ³•ç¤ºä¾‹"></a>ä¸€ä¸ªå®Œæ•´çš„ç”¨æ³•ç¤ºä¾‹</h1><p>ä»¥ä¸‹ç¤ºä¾‹ä¸ºä¸€ä¸ªå®Œæ•´çš„ç”¨æ³•å±•ç¤ºï¼Œå®ç°äº†è°ƒç”¨ç¬¬ä¸‰æ–¹å·¥å…· <code>devocn.exe</code> å®‰è£…è™šæ‹Ÿç½‘å¡ï¼ˆä¸å±•ç¤ºå®‰è£…ç•Œé¢ï¼‰å¹¶é€šè¿‡è·å–å®‰è£…è¿›ç¨‹å¥æŸ„åˆ¤æ–­å®‰è£…ç»“æœã€‚</p><ul><li><code>SEE_MASK_NOCLOSEPROCESS</code> å‚æ•°ï¼šè¡¨ç¤ºè¦è·å–è¿›ç¨‹å¥æŸ„</li><li>é€šè¿‡ <code>GetExitCodeProcess</code> å‡½æ•°è·å–è¿›ç¨‹æ‰§è¡ŒçŠ¶æ€</li><li><code>SW_HIDE</code> å‚æ•°: ä¸å±•ç¤ºçª—å£</li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> QREINSTALL_NETCARD_TOOLS_NAME   <span class="string">L&quot;devcon.exe&quot;</span></span></span><br><span class="line">std::mutex g_mutex_nc_install;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">InstallNcDrive</span><span class="params">(<span class="type">bool</span> &amp;bRes, <span class="type">bool</span> &amp;bEnd)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">std::lock_guard&lt;std::mutex&gt; <span class="title">lock</span><span class="params">(g_mutex_nc_install)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="type">bool</span> bOptRt = <span class="literal">false</span>;</span><br><span class="line"><span class="comment">//è§¦å‘é‡æ–°å®‰è£…è™šæ‹Ÿç½‘å¡</span></span><br><span class="line">TCHAR szPath[MAX_PATH];</span><br><span class="line">::<span class="built_in">GetModuleFileName</span>(<span class="literal">NULL</span>, szPath, MAX_PATH);</span><br><span class="line">::<span class="built_in">PathRemoveFileSpec</span>(szPath);</span><br><span class="line"></span><br><span class="line"><span class="built_in">QLOG_INFO</span>() &lt;&lt; <span class="string">&quot;tools[devcon.exe]&#x27;s path is&quot;</span> &lt;&lt; QString::<span class="built_in">fromWCharArray</span>(szPath);</span><br><span class="line"></span><br><span class="line">std::string command = <span class="string">&quot; install vpnvnic.inf vpnvnic&quot;</span>;</span><br><span class="line"></span><br><span class="line">SHELLEXECUTEINFO  ShExecInfoInstall = &#123; <span class="number">0</span> &#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span></span><br><span class="line">&#123;</span><br><span class="line">ShExecInfoInstall.cbSize = <span class="built_in">sizeof</span>(SHELLEXECUTEINFO);</span><br><span class="line">ShExecInfoInstall.fMask = SEE_MASK_NOCLOSEPROCESS;</span><br><span class="line">ShExecInfoInstall.hwnd = <span class="literal">NULL</span>;</span><br><span class="line"><span class="keyword">if</span> (!<span class="built_in">isProcessAdmin</span>())</span><br><span class="line">&#123;</span><br><span class="line">ShExecInfoInstall.lpVerb = <span class="string">L&quot;runas&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">ShExecInfoInstall.lpVerb = <span class="string">L&quot;open&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line">ShExecInfoInstall.lpFile = QREINSTALL_NETCARD_TOOLS_NAME;</span><br><span class="line">ShExecInfoInstall.lpParameters = <span class="built_in">STDString2LPCWCH</span>(command);</span><br><span class="line">ShExecInfoInstall.lpDirectory = szPath;</span><br><span class="line">ShExecInfoInstall.nShow = SW_HIDE;</span><br><span class="line">ShExecInfoInstall.hInstApp = <span class="literal">NULL</span>;</span><br><span class="line">ShExecInfoInstall.hProcess = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">bOptRt = <span class="built_in">ShellExecuteEx</span>(&amp;ShExecInfoInstall);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (bOptRt)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">QLOG_INFO</span>() &lt;&lt; <span class="string">&quot;é©±åŠ¨å®‰è£…è¿›ç¨‹å·²å¯åŠ¨ï¼&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç­‰å¾…è¿›ç¨‹ç»“æŸ</span></span><br><span class="line"><span class="built_in">WaitForSingleObject</span>(ShExecInfoInstall.hProcess, INFINITE);</span><br><span class="line"></span><br><span class="line"><span class="comment">// è·å–é€€å‡ºä»£ç </span></span><br><span class="line">DWORD exitCode;</span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">GetExitCodeProcess</span>(ShExecInfoInstall.hProcess, &amp;exitCode))</span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">// åˆ¤æ–­è¿›ç¨‹æ˜¯å¦æˆåŠŸé€€å‡º</span></span><br><span class="line"><span class="keyword">if</span> (exitCode != STILL_ACTIVE)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">QLOG_INFO</span>() &lt;&lt; <span class="string">&quot;é©±åŠ¨å®‰è£…è¿›ç¨‹å·²é€€å‡ºï¼Œé€€å‡ºä»£ç : &quot;</span> &lt;&lt; exitCode;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">QLOG_INFO</span>() &lt;&lt; <span class="string">&quot;é©±åŠ¨å®‰è£…è¿›ç¨‹æœªèƒ½æ­£å¸¸é€€å‡ºï¼Œé€€å‡ºä»£ç : &quot;</span> &lt;&lt; exitCode;</span><br><span class="line">&#125;</span><br><span class="line">&#125; </span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">QLOG_INFO</span>() &lt;&lt; <span class="string">&quot;è·å–é©±åŠ¨å®‰è£…è¿›ç¨‹é€€å‡ºä»£ç å¤±è´¥ï¼é”™è¯¯ä»£ç : &quot;</span> &lt;&lt; <span class="built_in">GetLastError</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å®æµ‹ 1å’Œ0 çš„æ—¶å€™å®‰è£…æˆåŠŸ</span></span><br><span class="line">bRes = exitCode == <span class="number">1</span> || exitCode == <span class="number">0</span> ? <span class="literal">true</span> : <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å…³é—­å¥æŸ„</span></span><br><span class="line"><span class="built_in">CloseHandle</span>(ShExecInfoInstall.hProcess);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">QLOG_ERROR</span>() &lt;&lt; <span class="string">&quot;å¯åŠ¨é©±åŠ¨å®‰è£…è¿›ç¨‹å¤±è´¥ï¼é”™è¯¯ä»£ç : &quot;</span> &lt;&lt; <span class="built_in">GetLastError</span>();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">catch</span> (<span class="type">const</span> std::exception&amp; e)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">QLOG_ERROR</span>() &lt;&lt; __FUNCTION__ &lt;&lt; __LINE__ &lt;&lt; e.<span class="built_in">what</span>();</span><br><span class="line"></span><br><span class="line">bEnd = <span class="literal">true</span>;</span><br><span class="line"><span class="keyword">return</span> bOptRt;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">bEnd = <span class="literal">true</span>;</span><br><span class="line"><span class="keyword">return</span> bOptRt;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> OS </category>
          
          <category> Windows </category>
          
          <category> API </category>
          
      </categories>
      
      
        <tags>
            
            <tag> windows </tag>
            
            <tag> winapi </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Xcode ä¸‹è½½ä¸å®‰è£…</title>
      <link href="/OS/Mac/Xcode/"/>
      <url>/OS/Mac/Xcode/</url>
      
        <content type="html"><![CDATA[<p>ä¸‹è½½åå¾—åˆ° xip æ–‡ä»¶ å¦‚ ï¼š Xcode_13.xip å¯ä»¥ä½¿ç”¨è§£å‹ç¼©è½¯ä»¶è¿›è¡Œè§£å‹ï¼Œå¦‚æœæœ‰äº›å‹ç¼©è½¯ä»¶ä¸æ”¯æŒä¼šæç¤ºç ´æŸï¼Œå¯ä»¥è€ƒè™‘ç›´æ¥åœ¨å‘½ä»¤è¡Œè§£å‹ã€‚</p><p>ç¬¬ä¸€æ­¥ï¼šcd åˆ°ä¸‹è½½çš„ç›®å½• ç¬¬äºŒæ­¥ï¼šxip -x Xcode_13.xip æ­¤æ—¶ï¼Œä¼šæœ‰ä¸€ä¸ªå¾ˆå¥‡æ€ªçš„æç¤ºï¼Œä¼šè¯¯ä»¥ä¸ºæŠ¥é”™ã€‚</p><blockquote><p> xip: signing certificate was â€œSoftware Updateâ€ (validation not attempted) </p></blockquote><p>ä¸»è¦æ˜¯ xcode æ–‡ä»¶å¤ªå¤§å¯¼è‡´çš„ï¼Œå¯ä»¥è€å¿ƒå¤šç­‰å¾…å‡ åˆ†é’Ÿï¼Œå°†ä¼šæ”¶åˆ°ä»¥ä¸‹ä¿¡æ¯ï¼š</p><blockquote><p> xip: expanded items from â€œ&#x2F;Users&#x2F;ivychen&#x2F;Documents&#x2F;Xcode_13.xipâ€ </p></blockquote><p>å°†å¾—åˆ° Xcode ç¨‹åºæ–‡ä»¶ï¼Œå°†å…¶æ‹–åŠ¨åˆ°è®¿è¾¾çš„ Application æ–‡ä»¶å¤¹å³å¯ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> OS </category>
          
          <category> Mac </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Mac </tag>
            
            <tag> Xcode </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux è¿›ç¨‹ç®¡ç†</title>
      <link href="/OS/Linux/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%8F%8ALinux%E5%86%85%E6%A0%B8/6%20Linux%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86/"/>
      <url>/OS/Linux/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%8F%8ALinux%E5%86%85%E6%A0%B8/6%20Linux%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86/</url>
      
        <content type="html"><![CDATA[<blockquote><ul><li>æŸ¥çœ‹è¿›ç¨‹çš„è¿è¡ŒçŠ¶æ€</li><li>è¿›ç¨‹çš„ç»“æŸæ§åˆ¶</li><li>è¿›ç¨‹çš„æ‰§è¡Œé¡ºåº</li></ul></blockquote><p>[toc]</p><h1 id="1-è¿›ç¨‹çš„æŸ¥çœ‹"><a href="#1-è¿›ç¨‹çš„æŸ¥çœ‹" class="headerlink" title="1 è¿›ç¨‹çš„æŸ¥çœ‹"></a>1 è¿›ç¨‹çš„æŸ¥çœ‹</h1><p>ä¸ç®¡åœ¨æµ‹è¯•çš„æ—¶å€™ã€åœ¨å®é™…çš„ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œè¿˜æ˜¯è‡ªå·±çš„ä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œéš¾å…ä¼šé‡åˆ°ä¸€äº›è¿›ç¨‹å¼‚å¸¸çš„æƒ…å†µï¼Œæ‰€ä»¥ Linux ä¸ºæˆ‘ä»¬æä¾›äº†ä¸€äº›å·¥å…·æ¥æŸ¥çœ‹è¿›ç¨‹çš„çŠ¶æ€ä¿¡æ¯ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ <code>top</code> å®æ—¶çš„æŸ¥çœ‹è¿›ç¨‹çš„çŠ¶æ€ï¼Œä»¥åŠç³»ç»Ÿçš„ä¸€äº›ä¿¡æ¯ï¼ˆå¦‚ CPUã€å†…å­˜ä¿¡æ¯ç­‰ï¼‰ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡ <code>ps</code> æ¥é™æ€æŸ¥çœ‹å½“å‰çš„è¿›ç¨‹ä¿¡æ¯ï¼ŒåŒæ—¶æˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨ <code>pstree</code> æ¥æŸ¥çœ‹å½“å‰æ´»è·ƒè¿›ç¨‹çš„æ ‘å½¢ç»“æ„ã€‚</p><h2 id="1-1-topå·¥å…·çš„ä½¿ç”¨"><a href="#1-1-topå·¥å…·çš„ä½¿ç”¨" class="headerlink" title="1.1 topå·¥å…·çš„ä½¿ç”¨"></a>1.1 topå·¥å…·çš„ä½¿ç”¨</h2>]]></content>
      
      
      <categories>
          
          <category> OS </category>
          
          <category> Linux </category>
          
          <category> æ“ä½œç³»ç»ŸåŠLinuxå†…æ ¸ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> è¿›ç¨‹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linuxè¿›ç¨‹æ¦‚å¿µ</title>
      <link href="/OS/Linux/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%8F%8ALinux%E5%86%85%E6%A0%B8/5%20Linux%E8%BF%9B%E7%A8%8B%E6%A6%82%E5%BF%B5/"/>
      <url>/OS/Linux/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%8F%8ALinux%E5%86%85%E6%A0%B8/5%20Linux%E8%BF%9B%E7%A8%8B%E6%A6%82%E5%BF%B5/</url>
      
        <content type="html"><![CDATA[<blockquote><ul><li>è¿›ç¨‹ä¸ç¨‹åº</li><li>è¿›ç¨‹çš„è¡ç”Ÿ</li><li>å·¥ä½œç®¡ç†</li></ul></blockquote><p>[toc]</p><h1 id="1-æ¦‚å¿µç†è§£"><a href="#1-æ¦‚å¿µç†è§£" class="headerlink" title="1 æ¦‚å¿µç†è§£"></a>1 æ¦‚å¿µç†è§£</h1><p>é¦–å…ˆç¨‹åºä¸è¿›ç¨‹æ˜¯ä»€ä¹ˆï¼Ÿç¨‹åºä¸è¿›ç¨‹åˆæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</p><blockquote><p><strong>ç¨‹åº</strong>ï¼ˆprocedureï¼‰ï¼šä¸å¤ªç²¾ç¡®åœ°è¯´ï¼Œç¨‹åºå°±æ˜¯æ‰§è¡Œä¸€ç³»åˆ—æœ‰é€»è¾‘ã€æœ‰é¡ºåºç»“æ„çš„æŒ‡ä»¤ï¼Œå¸®æˆ‘ä»¬è¾¾æˆæŸä¸ªç»“æœã€‚å°±å¦‚æˆ‘ä»¬å»é¤é¦†ï¼Œç»™æœåŠ¡å‘˜è¯´æˆ‘è¦ç‰›è‚‰ç›–æµ‡é¥­ï¼Œå¥¹æ‰§è¡Œäº†åšç‰›è‚‰ç›–æµ‡é¥­è¿™ä¹ˆä¸€ä¸ªç¨‹åºï¼Œæœ€åæˆ‘ä»¬å¾—åˆ°äº†è¿™ä¹ˆä¸€ç›˜ç‰›è‚‰ç›–æµ‡é¥­ã€‚å®ƒéœ€è¦å»æ‰§è¡Œï¼Œä¸ç„¶å®ƒå°±åƒä¸€æœ¬æ­¦åŠŸç§˜ç±ï¼Œæ”¾åœ¨é‚£é‡Œç­‰äººç¿»çœ‹ã€‚</p></blockquote><blockquote><p><strong>è¿›ç¨‹</strong>ï¼ˆprocessï¼‰ï¼šè¿›ç¨‹æ˜¯ç¨‹åºåœ¨ä¸€ä¸ªæ•°æ®é›†åˆä¸Šçš„ä¸€æ¬¡æ‰§è¡Œè¿‡ç¨‹ï¼Œåœ¨æ—©æœŸçš„UNIXã€Linux 2.4åŠæ›´æ—©çš„ç‰ˆæœ¬ä¸­ï¼Œå®ƒæ˜¯ç³»ç»Ÿè¿›è¡Œèµ„æºåˆ†é…å’Œè°ƒåº¦çš„ç‹¬ç«‹åŸºæœ¬å•ä½ã€‚åŒä¸Šä¸€ä¸ªä¾‹å­ï¼Œå°±å¦‚æˆ‘ä»¬å»äº†é¤é¦†ï¼Œç»™æœåŠ¡å‘˜è¯´æˆ‘è¦ç‰›è‚‰ç›–æµ‡é¥­ï¼Œå¥¹æ‰§è¡Œäº†åšç‰›è‚‰ç›–æµ‡é¥­è¿™ä¹ˆä¸€ä¸ªç¨‹åºï¼Œè€Œé‡Œé¢åšé¥­çš„æ˜¯ä¸€ä¸ªè¿›ç¨‹ï¼Œåšç‰›è‚‰æ±¤æ±çš„æ˜¯ä¸€ä¸ªè¿›ç¨‹ï¼ŒæŠŠç‰›è‚‰æ±¤æ±ä¸é¥­æ··åˆåœ¨ä¸€èµ·çš„æ˜¯ä¸€ä¸ªè¿›ç¨‹ï¼ŒæŠŠé¥­ç«¯ä¸Šæ¡Œçš„æ˜¯ä¸€ä¸ªè¿›ç¨‹ã€‚å®ƒå°±åƒæ˜¯æˆ‘ä»¬åœ¨çœ‹æ­¦åŠŸç§˜ç±è¿™ä¹ˆä¸€ä¸ªè¿‡ç¨‹ï¼Œç„¶åä¸€ä¸ªç¯‡ç« ä¸€ä¸ªç¯‡ç« åœ°å»ç»ƒã€‚</p></blockquote><p>ç®€å•æ¥è¯´ï¼Œç¨‹åºæ˜¯ä¸ºäº†å®ŒæˆæŸç§ä»»åŠ¡è€Œè®¾è®¡çš„è½¯ä»¶ï¼Œæ¯”å¦‚ vim æ˜¯ç¨‹åºã€‚ä»€ä¹ˆæ˜¯è¿›ç¨‹å‘¢ï¼Ÿè¿›ç¨‹å°±æ˜¯è¿è¡Œä¸­çš„ç¨‹åºã€‚</p><p>ç¨‹åºåªæ˜¯ä¸€äº›åˆ—æŒ‡ä»¤çš„é›†åˆï¼Œæ˜¯ä¸€ä¸ªé™æ­¢çš„å®ä½“ï¼Œè€Œè¿›ç¨‹ä¸åŒï¼Œè¿›ç¨‹æœ‰ä»¥ä¸‹çš„ç‰¹æ€§ï¼š</p><ul><li>åŠ¨æ€æ€§ï¼šè¿›ç¨‹çš„å®è´¨æ˜¯ä¸€æ¬¡ç¨‹åºæ‰§è¡Œçš„è¿‡ç¨‹ï¼Œæœ‰åˆ›å»ºã€æ’¤é”€ç­‰çŠ¶æ€çš„å˜åŒ–ã€‚è€Œç¨‹åºæ˜¯ä¸€ä¸ªé™æ€çš„å®ä½“ã€‚</li><li>å¹¶å‘æ€§ï¼šè¿›ç¨‹å¯ä»¥åšåˆ°åœ¨ä¸€ä¸ªæ—¶é—´æ®µå†…ï¼Œæœ‰å¤šä¸ªç¨‹åºåœ¨è¿è¡Œä¸­ã€‚ç¨‹åºåªæ˜¯é™æ€çš„å®ä½“ï¼Œæ‰€ä»¥ä¸å­˜åœ¨å¹¶å‘æ€§ã€‚</li><li>ç‹¬ç«‹æ€§ï¼šè¿›ç¨‹å¯ä»¥ç‹¬ç«‹åˆ†é…èµ„æºï¼Œç‹¬ç«‹æ¥å—è°ƒåº¦ï¼Œç‹¬ç«‹åœ°è¿è¡Œã€‚</li><li>å¼‚æ­¥æ€§ï¼šè¿›ç¨‹ä»¥ä¸å¯é¢„çŸ¥çš„é€Ÿåº¦å‘å‰æ¨è¿›ã€‚</li><li>ç»“æ„æ€§ï¼šè¿›ç¨‹æ‹¥æœ‰ä»£ç æ®µã€æ•°æ®æ®µã€PCBï¼ˆè¿›ç¨‹æ§åˆ¶å—ï¼Œè¿›ç¨‹å­˜åœ¨çš„å”¯ä¸€æ ‡å¿—ï¼‰ã€‚ä¹Ÿæ­£æ˜¯å› ä¸ºæœ‰ç»“æ„æ€§ï¼Œè¿›ç¨‹æ‰å¯ä»¥åšåˆ°ç‹¬ç«‹åœ°è¿è¡Œã€‚</li></ul><blockquote><p><strong>å¹¶å‘ï¼š</strong>åœ¨ä¸€ä¸ªæ—¶é—´æ®µå†…ï¼Œå®è§‚æ¥çœ‹æœ‰å¤šä¸ªç¨‹åºéƒ½åœ¨æ´»åŠ¨ï¼Œæœ‰æ¡ä¸ç´Šçš„æ‰§è¡Œï¼ˆæ¯ä¸€ç¬é—´åªæœ‰ä¸€ä¸ªåœ¨æ‰§è¡Œï¼Œåªæ˜¯åœ¨ä¸€æ®µæ—¶é—´æœ‰å¤šä¸ªç¨‹åºéƒ½æ‰§è¡Œè¿‡ï¼‰</p></blockquote><blockquote><p><strong>å¹¶è¡Œï¼š</strong>åœ¨æ¯ä¸€ä¸ªç¬é—´ï¼Œéƒ½æœ‰å¤šä¸ªç¨‹åºéƒ½åœ¨åŒæ—¶æ‰§è¡Œï¼Œè¿™ä¸ªå¿…é¡»æœ‰å¤šä¸ª CPU æ‰è¡Œ</p></blockquote><p>å¼•å…¥è¿›ç¨‹æ˜¯å› ä¸ºä¼ ç»Ÿæ„ä¹‰ä¸Šçš„ç¨‹åºå·²ç»ä¸è¶³ä»¥æè¿° OS ä¸­å„ç§æ´»åŠ¨ä¹‹é—´çš„åŠ¨æ€æ€§ã€å¹¶å‘æ€§ã€ç‹¬ç«‹æ€§è¿˜æœ‰ç›¸äº’åˆ¶çº¦æ€§ã€‚ç¨‹åºå°±åƒä¸€ä¸ªå…¬å¸ï¼Œåªæ˜¯ä¸€äº›è¯ä¹¦ï¼Œæ–‡ä»¶çš„å †ç§¯ï¼ˆé™æ€å®ä½“ï¼‰ã€‚è€Œå½“å…¬å¸è¿ä½œèµ·æ¥å°±æœ‰å„ä¸ªéƒ¨é—¨çš„åŒºåˆ†ï¼Œè´¢åŠ¡éƒ¨ï¼ŒæŠ€æœ¯éƒ¨ï¼Œé”€å”®éƒ¨ç­‰ç­‰ï¼Œå°±åƒå„ä¸ªè¿›ç¨‹ï¼Œå„ä¸ªéƒ¨é—¨ä¹‹é—´å¯ä»¥ç‹¬ç«‹è¿åšï¼Œä¹Ÿå¯ä»¥æœ‰äº¤äº’ï¼ˆç‹¬ç«‹æ€§ã€å¹¶å‘æ€§ï¼‰ã€‚</p><p>è€Œéšç€ç¨‹åºçš„å‘å±•è¶Šåšè¶Šå¤§ï¼Œåˆä¼šç»§ç»­ç»†åˆ†ï¼Œä»è€Œå¼•å…¥äº†çº¿ç¨‹çš„æ¦‚å¿µï¼Œå½“ä»£å¤šæ•°æ“ä½œç³»ç»Ÿã€Linux 2.6åŠæ›´æ–°çš„ç‰ˆæœ¬ä¸­ï¼Œè¿›ç¨‹æœ¬èº«ä¸æ˜¯åŸºæœ¬è¿è¡Œå•ä½ï¼Œè€Œæ˜¯çº¿ç¨‹çš„å®¹å™¨ã€‚å°±åƒä¸Šè¿°æ‰€è¯´çš„ï¼Œæ¯ä¸ªéƒ¨é—¨åˆä¼šç»†åˆ†ä¸ºå„ä¸ªå·¥ä½œå°ç»„ï¼ˆçº¿ç¨‹ï¼‰ï¼Œè€Œå·¥ä½œå°ç»„éœ€è¦çš„èµ„æºéœ€è¦å‘ä¸Šçº§ï¼ˆè¿›ç¨‹ï¼‰ç”³è¯·ã€‚</p><blockquote><p><strong>çº¿ç¨‹</strong>ï¼ˆthreadï¼‰æ˜¯æ“ä½œç³»ç»Ÿèƒ½å¤Ÿè¿›è¡Œè¿ç®—è°ƒåº¦çš„æœ€å°å•ä½ã€‚å®ƒè¢«åŒ…å«åœ¨è¿›ç¨‹ä¹‹ä¸­ï¼Œæ˜¯è¿›ç¨‹ä¸­çš„å®é™…è¿ä½œå•ä½ã€‚ä¸€æ¡çº¿ç¨‹æŒ‡çš„æ˜¯è¿›ç¨‹ä¸­ä¸€ä¸ªå•ä¸€é¡ºåºçš„æ§åˆ¶æµï¼Œä¸€ä¸ªè¿›ç¨‹ä¸­å¯ä»¥å¹¶å‘å¤šä¸ªçº¿ç¨‹ï¼Œæ¯æ¡çº¿ç¨‹å¹¶è¡Œæ‰§è¡Œä¸åŒçš„ä»»åŠ¡ã€‚å› ä¸ºçº¿ç¨‹ä¸­å‡ ä¹ä¸åŒ…å«ç³»ç»Ÿèµ„æºï¼Œæ‰€ä»¥æ‰§è¡Œæ›´å¿«ã€æ›´æœ‰æ•ˆç‡ã€‚</p></blockquote><p>ç®€è€Œè¨€ä¹‹,ä¸€ä¸ªç¨‹åºè‡³å°‘æœ‰ä¸€ä¸ªè¿›ç¨‹,ä¸€ä¸ªè¿›ç¨‹è‡³å°‘æœ‰ä¸€ä¸ªçº¿ç¨‹ã€‚çº¿ç¨‹çš„åˆ’åˆ†å°ºåº¦å°äºè¿›ç¨‹ï¼Œä½¿å¾—å¤šçº¿ç¨‹ç¨‹åºçš„å¹¶å‘æ€§é«˜ã€‚å¦å¤–ï¼Œè¿›ç¨‹åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­æ‹¥æœ‰ç‹¬ç«‹çš„å†…å­˜å•å…ƒï¼Œè€Œå¤šä¸ªçº¿ç¨‹å…±äº«å†…å­˜ï¼Œä»è€Œæå¤§åœ°æé«˜äº†ç¨‹åºçš„è¿è¡Œæ•ˆç‡ã€‚å°±å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><div class="tag-plugin image"><div class="image-bg"><img src="images/5%20Linux%E8%BF%9B%E7%A8%8B%E6%A6%82%E5%BF%B5/1.png"/></div></div><h1 id="2-è¿›ç¨‹çš„å±æ€§"><a href="#2-è¿›ç¨‹çš„å±æ€§" class="headerlink" title="2 è¿›ç¨‹çš„å±æ€§"></a>2 è¿›ç¨‹çš„å±æ€§</h1><h2 id="2-1-è¿›ç¨‹çš„åˆ†ç±»"><a href="#2-1-è¿›ç¨‹çš„åˆ†ç±»" class="headerlink" title="2.1 è¿›ç¨‹çš„åˆ†ç±»"></a>2.1 è¿›ç¨‹çš„åˆ†ç±»</h2><ol><li>ç¬¬ä¸€ä¸ªè§’åº¦æ¥çœ‹ï¼Œæˆ‘ä»¬å¯ä»¥åˆ†ä¸º<strong>ç”¨æˆ·è¿›ç¨‹</strong>ä¸<strong>ç³»ç»Ÿè¿›ç¨‹</strong>ï¼š</li></ol><ul><li>ç”¨æˆ·è¿›ç¨‹ï¼šé€šè¿‡æ‰§è¡Œç”¨æˆ·ç¨‹åºã€åº”ç”¨ç¨‹åºæˆ–ç§°ä¹‹ä¸ºå†…æ ¸ä¹‹å¤–çš„ç³»ç»Ÿç¨‹åºè€Œäº§ç”Ÿçš„è¿›ç¨‹ï¼Œæ­¤ç±»è¿›ç¨‹å¯ä»¥åœ¨ç”¨æˆ·çš„æ§åˆ¶ä¸‹è¿è¡Œæˆ–å…³é—­ã€‚</li><li>ç³»ç»Ÿè¿›ç¨‹ï¼šé€šè¿‡æ‰§è¡Œç³»ç»Ÿå†…æ ¸ç¨‹åºè€Œäº§ç”Ÿçš„è¿›ç¨‹ï¼Œæ¯”å¦‚å¯ä»¥æ‰§è¡Œå†…å­˜èµ„æºåˆ†é…å’Œè¿›ç¨‹åˆ‡æ¢ç­‰ç›¸å¯¹åº•å±‚çš„å·¥ä½œï¼›è€Œä¸”è¯¥è¿›ç¨‹çš„è¿è¡Œä¸å—ç”¨æˆ·çš„å¹²é¢„ï¼Œå³ä½¿æ˜¯ root ç”¨æˆ·ä¹Ÿä¸èƒ½å¹²é¢„ç³»ç»Ÿè¿›ç¨‹çš„è¿è¡Œã€‚</li></ul><ol start="2"><li>ç¬¬äºŒè§’åº¦æ¥çœ‹ï¼Œæˆ‘ä»¬å¯ä»¥å°†è¿›ç¨‹åˆ†ä¸º<strong>äº¤äº’è¿›ç¨‹</strong>ã€<strong>æ‰¹å¤„ç†è¿›ç¨‹</strong>ã€<strong>å®ˆæŠ¤è¿›ç¨‹</strong></li></ol><ul><li>äº¤äº’è¿›ç¨‹ï¼šç”±ä¸€ä¸ª shell ç»ˆç«¯å¯åŠ¨çš„è¿›ç¨‹ï¼Œåœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œéœ€è¦ä¸ç”¨æˆ·è¿›è¡Œäº¤äº’æ“ä½œï¼Œå¯ä»¥è¿è¡Œäºå‰å°ï¼Œä¹Ÿå¯ä»¥è¿è¡Œåœ¨åå°ã€‚</li><li>æ‰¹å¤„ç†è¿›ç¨‹ï¼šè¯¥è¿›ç¨‹æ˜¯ä¸€ä¸ªè¿›ç¨‹é›†åˆï¼Œè´Ÿè´£æŒ‰é¡ºåºå¯åŠ¨å…¶ä»–çš„è¿›ç¨‹ã€‚</li><li>å®ˆæŠ¤è¿›ç¨‹ï¼šå®ˆæŠ¤è¿›ç¨‹æ˜¯ä¸€ç›´è¿è¡Œçš„ä¸€ç§è¿›ç¨‹ï¼Œåœ¨ Linux ç³»ç»Ÿå¯åŠ¨æ—¶å¯åŠ¨ï¼Œåœ¨ç³»ç»Ÿå…³é—­æ—¶ç»ˆæ­¢ã€‚å®ƒä»¬ç‹¬ç«‹äºæ§åˆ¶ç»ˆç«¯å¹¶ä¸”å‘¨æœŸæ€§çš„æ‰§è¡ŒæŸç§ä»»åŠ¡æˆ–ç­‰å¾…å¤„ç†æŸäº›å‘ç”Ÿçš„äº‹ä»¶ã€‚ä¾‹å¦‚ httpd è¿›ç¨‹ï¼Œä¸€ç›´å¤„äºè¿è¡ŒçŠ¶æ€ï¼Œç­‰å¾…ç”¨æˆ·çš„è®¿é—®ã€‚è¿˜æœ‰ç»å¸¸ç”¨çš„ cronï¼ˆåœ¨ centOS ç³»åˆ—ä¸º crondï¼‰è¿›ç¨‹ï¼Œè¿™ä¸ªè¿›ç¨‹ä¸º crontab çš„å®ˆæŠ¤è¿›ç¨‹ï¼Œå¯ä»¥å‘¨æœŸæ€§çš„æ‰§è¡Œç”¨æˆ·è®¾å®šçš„æŸäº›ä»»åŠ¡ã€‚</li></ul><h2 id="2-2-è¿›ç¨‹çš„è¡ç”Ÿ"><a href="#2-2-è¿›ç¨‹çš„è¡ç”Ÿ" class="headerlink" title="2.2 è¿›ç¨‹çš„è¡ç”Ÿ"></a>2.2 è¿›ç¨‹çš„è¡ç”Ÿ</h2><p>è¿›ç¨‹æœ‰è¿™ä¹ˆå¤šçš„ç§ç±»ï¼Œé‚£ä¹ˆè¿›ç¨‹ä¹‹é—´å®šæ˜¯æœ‰ç›¸å…³æ€§çš„ï¼Œè€Œè¿™äº›æœ‰å…³è”æ€§çš„è¿›ç¨‹åˆæ˜¯å¦‚ä½•äº§ç”Ÿçš„ï¼Œå¦‚ä½•è¡ç”Ÿçš„ï¼Ÿ</p><p>å°±æ¯”å¦‚æˆ‘ä»¬å¯åŠ¨äº†ç»ˆç«¯ï¼Œå°±æ˜¯å¯åŠ¨äº†ä¸€ä¸ª bash è¿›ç¨‹ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ bash ä¸­å†è¾“å…¥ bash åˆ™ä¼šå†å¯åŠ¨ä¸€ä¸ª bash çš„è¿›ç¨‹ï¼Œæ­¤æ—¶ç¬¬äºŒä¸ª bash è¿›ç¨‹å°±æ˜¯ç”±ç¬¬ä¸€ä¸ª bash è¿›ç¨‹åˆ›å»ºå‡ºæ¥çš„ï¼Œä»–ä»¬ä¹‹é—´åˆæ˜¯ä¸ªä»€ä¹ˆå…³ç³»ï¼Ÿ</p><p>æˆ‘ä»¬ä¸€èˆ¬ç§°å‘¼ç¬¬ä¸€ä¸ª bash è¿›ç¨‹æ˜¯ç¬¬äºŒ bash è¿›ç¨‹çš„çˆ¶è¿›ç¨‹ï¼Œç¬¬äºŒ bash è¿›ç¨‹æ˜¯ç¬¬ä¸€ä¸ª bash è¿›ç¨‹çš„å­è¿›ç¨‹ï¼Œè¿™å±‚å…³ç³»æ˜¯å¦‚ä½•å¾—æ¥çš„å‘¢ï¼Ÿ</p><p>å…³äºçˆ¶è¿›ç¨‹ä¸å­è¿›ç¨‹ä¾¿ä¼šæåŠè¿™ä¸¤ä¸ªç³»ç»Ÿè°ƒç”¨ <code>fork()</code> ä¸ <code>exec()</code></p><blockquote><p><strong>fork-exec</strong>æ˜¯ç”± Dennis M. Ritchie åˆ›é€ çš„</p></blockquote><blockquote><p><strong>fork()</strong> æ˜¯ä¸€ä¸ªç³»ç»Ÿè°ƒç”¨ï¼ˆsystem callï¼‰ï¼Œå®ƒçš„ä¸»è¦ä½œç”¨å°±æ˜¯ä¸ºå½“å‰çš„è¿›ç¨‹åˆ›å»ºä¸€ä¸ªæ–°çš„è¿›ç¨‹ï¼Œè¿™ä¸ªæ–°çš„è¿›ç¨‹å°±æ˜¯å®ƒçš„å­è¿›ç¨‹ï¼Œè¿™ä¸ªå­è¿›ç¨‹é™¤äº†çˆ¶è¿›ç¨‹çš„è¿”å›å€¼å’Œ PID ä»¥å¤–å…¶ä»–çš„éƒ½ä¸€æ¨¡ä¸€æ ·ï¼Œå¦‚è¿›ç¨‹çš„æ‰§è¡Œä»£ç æ®µï¼Œå†…å­˜ä¿¡æ¯ï¼Œæ–‡ä»¶æè¿°ï¼Œå¯„å­˜å™¨çŠ¶æ€ç­‰ç­‰</p></blockquote><blockquote><p><strong>exec()</strong> ä¹Ÿæ˜¯ç³»ç»Ÿè°ƒç”¨ï¼Œä½œç”¨æ˜¯åˆ‡æ¢å­è¿›ç¨‹ä¸­çš„æ‰§è¡Œç¨‹åºä¹Ÿå°±æ˜¯æ›¿æ¢å…¶ä»çˆ¶è¿›ç¨‹å¤åˆ¶è¿‡æ¥çš„ä»£ç æ®µä¸æ•°æ®æ®µ</p></blockquote><p>å­è¿›ç¨‹å°±æ˜¯çˆ¶è¿›ç¨‹é€šè¿‡ç³»ç»Ÿè°ƒç”¨ <code>fork()</code> è€Œäº§ç”Ÿçš„å¤åˆ¶å“ï¼Œ<code>fork()</code> å°±æ˜¯æŠŠçˆ¶è¿›ç¨‹çš„ PCB ç­‰è¿›ç¨‹çš„æ•°æ®ç»“æ„ä¿¡æ¯ç›´æ¥å¤åˆ¶è¿‡æ¥ï¼Œåªæ˜¯ä¿®æ”¹äº† PIDï¼Œæ‰€ä»¥ä¸€æ¨¡ä¸€æ ·ï¼Œåªæœ‰åœ¨æ‰§è¡Œ <code>exec()</code> ä¹‹åæ‰ä¼šä¸åŒï¼Œè€Œæ—©å…ˆçš„ <code>fork()</code> æ¯”è¾ƒæ¶ˆè€—èµ„æºåæ¥è¿›åŒ–æˆ <code>vfork()</code>,æ•ˆç‡é«˜äº†ä¸å°‘ï¼Œæ„Ÿå…´è¶£çš„åŒå­¦å¯ä»¥æŸ¥æŸ¥ä¸ºä»€ä¹ˆã€‚</p><p>è¿™å°±æ˜¯å­è¿›ç¨‹äº§ç”Ÿçš„ç”±æ¥ã€‚ç®€å•çš„å®ç°é€»è¾‘å°±å¦‚ä¸‹æ–¹æ‰€ç¤º<a href="https://www.lanqiao.cn/courses/2610/learning/?id=43482#jump">ã€æ³¨é‡Šï¼‘ã€‘</a></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">pid_t</span> p;</span><br><span class="line"></span><br><span class="line">p = fork();</span><br><span class="line"><span class="keyword">if</span> (p == (<span class="type">pid_t</span>) <span class="number">-1</span>)</span><br><span class="line">        <span class="comment">/* ERROR */</span></span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (p == <span class="number">0</span>)</span><br><span class="line">        <span class="comment">/* CHILD */</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">        <span class="comment">/* PARENT */</span></span><br></pre></td></tr></table></figure><p>æ—¢ç„¶å­è¿›ç¨‹æ˜¯é€šè¿‡çˆ¶è¿›ç¨‹è€Œè¡ç”Ÿå‡ºæ¥çš„ï¼Œé‚£ä¹ˆå­è¿›ç¨‹çš„é€€å‡ºä¸èµ„æºçš„å›æ”¶å®šç„¶ä¸çˆ¶è¿›ç¨‹æœ‰å¾ˆå¤§çš„ç›¸å…³æ€§ã€‚å½“ä¸€ä¸ªå­è¿›ç¨‹è¦æ­£å¸¸çš„ç»ˆæ­¢è¿è¡Œæ—¶ï¼Œæˆ–è€…è¯¥è¿›ç¨‹ç»“æŸæ—¶å®ƒçš„ä¸»å‡½æ•° <code>main()</code> ä¼šæ‰§è¡Œ <code>exit(n);</code> æˆ–è€… <code>return n</code>ï¼Œè¿™é‡Œçš„è¿”å›å€¼ n æ˜¯ä¸€ä¸ªä¿¡å·ï¼Œç³»ç»Ÿä¼šæŠŠè¿™ä¸ª SIGCHLD ä¿¡å·ä¼ ç»™å…¶çˆ¶è¿›ç¨‹ï¼Œå½“ç„¶è‹¥æ˜¯å¼‚å¸¸ç»ˆæ­¢ä¹Ÿå¾€å¾€æ˜¯å› ä¸ºè¿™ä¸ªä¿¡å·ã€‚</p><p>åœ¨å°†è¦ç»“æŸæ—¶çš„å­è¿›ç¨‹ä»£ç æ‰§è¡Œéƒ¨åˆ†å·²ç»ç»“æŸæ‰§è¡Œäº†ï¼Œç³»ç»Ÿçš„èµ„æºä¹ŸåŸºæœ¬å½’è¿˜ç»™ç³»ç»Ÿäº†ï¼Œä½†è‹¥æ˜¯å…¶è¿›ç¨‹çš„è¿›ç¨‹æ§åˆ¶å—ï¼ˆPCBï¼‰ä»é©»ç•™åœ¨å†…å­˜ä¸­ï¼Œè€Œå®ƒçš„ PCB è¿˜åœ¨ï¼Œä»£è¡¨è¿™ä¸ªè¿›ç¨‹è¿˜å­˜åœ¨ï¼ˆå› ä¸º PCB å°±æ˜¯è¿›ç¨‹å­˜åœ¨çš„å”¯ä¸€æ ‡å¿—ï¼Œé‡Œé¢æœ‰ PID ç­‰æ¶ˆæ¯ï¼‰ï¼Œå¹¶æ²¡æœ‰æ¶ˆäº¡ï¼Œè¿™æ ·çš„è¿›ç¨‹ç§°ä¹‹ä¸ºåƒµå°¸è¿›ç¨‹ï¼ˆZombieï¼‰ã€‚</p><p>å¦‚å›¾ä¸­ç¬¬å››åˆ—æ ‡é¢˜æ˜¯ Sï¼ŒS è¡¨ç¤ºçš„æ˜¯è¿›ç¨‹çš„çŠ¶æ€ï¼Œè€Œåœ¨ä¸‹å±çš„ç¬¬ä¸‰è¡Œçš„ Z è¡¨ç¤ºçš„æ˜¯ Zombie çš„æ„æ€ã€‚ï¼ˆ ps å‘½ä»¤å°†åœ¨åç»­è¯¦è§£ï¼‰</p><div class="tag-plugin image"><div class="image-bg"><img src="images/5%20Linux%E8%BF%9B%E7%A8%8B%E6%A6%82%E5%BF%B5/2.png"/></div></div><p>æ­£å¸¸æƒ…å†µä¸‹ï¼Œçˆ¶è¿›ç¨‹ä¼šæ”¶åˆ°ä¸¤ä¸ªè¿”å›å€¼ï¼šexit codeï¼ˆSIGCHLD ä¿¡å·ï¼‰ä¸ <code>reason for termination</code> ã€‚ä¹‹åï¼Œçˆ¶è¿›ç¨‹ä¼šä½¿ç”¨ <code>wait(&amp;status)</code> ç³»ç»Ÿè°ƒç”¨ä»¥è·å–å­è¿›ç¨‹çš„é€€å‡ºçŠ¶æ€ï¼Œç„¶åå†…æ ¸å°±å¯ä»¥ä»å†…å­˜ä¸­é‡Šæ”¾å·²ç»“æŸçš„å­è¿›ç¨‹çš„ PCBï¼›è€Œå¦‚è‹¥çˆ¶è¿›ç¨‹æ²¡æœ‰è¿™ä¹ˆåšçš„è¯ï¼Œå­è¿›ç¨‹çš„ PCB å°±ä¼šä¸€ç›´é©»ç•™åœ¨å†…å­˜ä¸­ï¼Œä¸€ç›´ç•™åœ¨ç³»ç»Ÿä¸­æˆä¸ºåƒµå°¸è¿›ç¨‹ï¼ˆZombieï¼‰ã€‚</p><p>è™½ç„¶åƒµå°¸è¿›ç¨‹æ˜¯å·²ç»æ”¾å¼ƒäº†å‡ ä¹æ‰€æœ‰å†…å­˜ç©ºé—´ï¼Œæ²¡æœ‰ä»»ä½•å¯æ‰§è¡Œä»£ç ï¼Œä¹Ÿä¸èƒ½è¢«è°ƒåº¦ï¼Œåœ¨è¿›ç¨‹åˆ—è¡¨ä¸­ä¿ç•™ä¸€ä¸ªä½ç½®ï¼Œè®°è½½è¯¥è¿›ç¨‹çš„é€€å‡ºçŠ¶æ€ç­‰ä¿¡æ¯ä¾›å…¶çˆ¶è¿›ç¨‹æ”¶é›†ï¼Œä»è€Œé‡Šæ”¾å®ƒã€‚ä½†æ˜¯ Linux ç³»ç»Ÿä¸­èƒ½ä½¿ç”¨çš„ PID æ˜¯æœ‰é™çš„ï¼Œå¦‚æœç³»ç»Ÿä¸­å­˜åœ¨æœ‰å¤§é‡çš„åƒµå°¸è¿›ç¨‹ï¼Œç³»ç»Ÿå°†ä¼šå› ä¸ºæ²¡æœ‰å¯ç”¨çš„ PID ä»è€Œå¯¼è‡´ä¸èƒ½äº§ç”Ÿæ–°çš„è¿›ç¨‹ã€‚</p><p>å¦å¤–å¦‚æœçˆ¶è¿›ç¨‹ç»“æŸï¼ˆéæ­£å¸¸çš„ç»“æŸï¼‰ï¼Œæœªèƒ½åŠæ—¶æ”¶å›å­è¿›ç¨‹ï¼Œå­è¿›ç¨‹ä»åœ¨è¿è¡Œï¼Œè¿™æ ·çš„å­è¿›ç¨‹ç§°ä¹‹ä¸ºå­¤å„¿è¿›ç¨‹ã€‚åœ¨ Linux ç³»ç»Ÿä¸­ï¼Œå­¤å„¿è¿›ç¨‹ä¸€èˆ¬ä¼šè¢« init è¿›ç¨‹æ‰€â€œæ”¶å…»â€ï¼Œæˆä¸º init çš„å­è¿›ç¨‹ã€‚ç”± init æ¥åšå–„åå¤„ç†ï¼Œæ‰€ä»¥å®ƒå¹¶ä¸è‡³äºåƒåƒµå°¸è¿›ç¨‹é‚£æ ·æ— äººé—®æ´¥ï¼Œä¸ç®¡ä¸é¡¾ï¼Œå¤§é‡å­˜åœ¨ä¼šæœ‰å±å®³ã€‚</p><p>è¿›ç¨‹ 0 æ˜¯ç³»ç»Ÿå¼•å¯¼æ—¶åˆ›å»ºçš„ä¸€ä¸ªç‰¹æ®Šè¿›ç¨‹ï¼Œä¹Ÿç§°ä¹‹ä¸ºå†…æ ¸åˆå§‹åŒ–ï¼Œå…¶æœ€åä¸€ä¸ªåŠ¨ä½œå°±æ˜¯è°ƒç”¨ <code>fork()</code> åˆ›å»ºå‡ºä¸€ä¸ªå­è¿›ç¨‹è¿è¡Œ <code>/sbin/init</code> å¯æ‰§è¡Œæ–‡ä»¶,è€Œè¯¥è¿›ç¨‹å°±æ˜¯ PID&#x3D;1 çš„è¿›ç¨‹ 1ï¼Œè€Œè¿›ç¨‹ 0 å°±è½¬ä¸ºäº¤æ¢è¿›ç¨‹ï¼ˆä¹Ÿè¢«ç§°ä¸ºç©ºé—²è¿›ç¨‹ï¼‰ï¼Œè¿›ç¨‹ 1 ï¼ˆinit è¿›ç¨‹ï¼‰æ˜¯ç¬¬ä¸€ä¸ªç”¨æˆ·æ€çš„è¿›ç¨‹ï¼Œå†ç”±å®ƒä¸æ–­è°ƒç”¨ fork() æ¥åˆ›å»ºç³»ç»Ÿé‡Œå…¶ä»–çš„è¿›ç¨‹ï¼Œæ‰€ä»¥å®ƒæ˜¯æ‰€æœ‰è¿›ç¨‹çš„çˆ¶è¿›ç¨‹æˆ–è€…ç¥–å…ˆè¿›ç¨‹ã€‚åŒæ—¶å®ƒæ˜¯ä¸€ä¸ªå®ˆæŠ¤ç¨‹åºï¼Œç›´åˆ°è®¡ç®—æœºå…³æœºæ‰ä¼šåœæ­¢ã€‚</p><p>é€šè¿‡ä»¥ä¸‹çš„å‘½ä»¤æˆ‘ä»¬å¯ä»¥å¾ˆæ˜æ˜¾çš„çœ‹åˆ°è¿™æ ·çš„ç»“æ„</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pstree</span><br></pre></td></tr></table></figure><div class="tag-plugin image"><div class="image-bg"><img src="images/5%20Linux%E8%BF%9B%E7%A8%8B%E6%A6%82%E5%BF%B5/3.png"/></div></div><p>æˆ–è€…ä»æ­¤å›¾æˆ‘ä»¬å¯ä»¥æ›´åŠ å½¢è±¡çš„çœ‹æ¸…å­çˆ¶è¿›ç¨‹çš„å…³ç³»</p><div class="tag-plugin image"><div class="image-bg"><img src="images/5%20Linux%E8%BF%9B%E7%A8%8B%E6%A6%82%E5%BF%B5/4.png"/></div></div><p>é€šè¿‡ä»¥ä¸Šçš„æ˜¾ç¤ºç»“æœæˆ‘ä»¬å¯ä»¥çœ‹çš„å¾ˆæ¸…æ¥šï¼Œinit ä¸ºæ‰€æœ‰è¿›ç¨‹çš„çˆ¶è¿›ç¨‹æˆ–è€…è¯´æ˜¯ç¥–å…ˆè¿›ç¨‹</p><p>æˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨è¿™æ ·ä¸€ä¸ªå‘½ä»¤æ¥çœ‹ï¼Œå…¶ä¸­ pid å°±æ˜¯è¯¥è¿›ç¨‹çš„ä¸€ä¸ªå”¯ä¸€ç¼–å·ï¼Œppid å°±æ˜¯è¯¥è¿›ç¨‹çš„çˆ¶è¿›ç¨‹çš„ pidï¼Œcommand è¡¨ç¤ºçš„æ˜¯è¯¥è¿›ç¨‹é€šè¿‡æ‰§è¡Œä»€ä¹ˆæ ·çš„å‘½ä»¤æˆ–è€…è„šæœ¬è€Œäº§ç”Ÿçš„</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ps ï¼fxo user,ppid,pid,pgid,command</span><br></pre></td></tr></table></figure><div class="tag-plugin image"><div class="image-bg"><img src="images/5%20Linux%E8%BF%9B%E7%A8%8B%E6%A6%82%E5%BF%B5/5.png"/></div></div><p>å¯ä»¥åœ¨å›¾ä¸­çœ‹è§æˆ‘ä»¬æ‰§è¡Œçš„ ps å°±æ˜¯ç”± zsh é€šè¿‡ fork-exec åˆ›å»ºçš„å­è¿›ç¨‹è€Œæ‰§è¡Œçš„</p><p>ä½¿ç”¨è¿™æ ·çš„ä¸€ä¸ªå‘½ä»¤æˆ‘ä»¬ä¹Ÿèƒ½æ¸…æ¥šçš„çœ‹è§ init å¦‚ä¸Šæ–‡æ‰€è¯´æ˜¯ç”±è¿›ç¨‹ 0 è¿™ä¸ªåˆå§‹åŒ–è¿›ç¨‹æ¥åˆ›å»ºå‡ºæ¥çš„å­è¿›ç¨‹,è€Œå…¶ä»–çš„è¿›ç¨‹åŸºæœ¬æ˜¯ç”± init åˆ›å»ºçš„å­è¿›ç¨‹ï¼Œæˆ–è€…æ˜¯ç”±å®ƒçš„å­è¿›ç¨‹åˆ›å»ºå‡ºæ¥çš„å­è¿›ç¨‹ã€‚æ‰€ä»¥ init æ˜¯ç”¨æˆ·è¿›ç¨‹çš„ç¬¬ä¸€ä¸ªè¿›ç¨‹ä¹Ÿæ˜¯æ‰€æœ‰ç”¨æˆ·è¿›ç¨‹çš„çˆ¶è¿›ç¨‹æˆ–è€…ç¥–å…ˆè¿›ç¨‹ã€‚ï¼ˆps å‘½ä»¤å°†åœ¨åç»­è¯¾ç¨‹è¯¦è§£ï¼‰</p><p>å°±åƒä¸€ä¸ªæ ‘çŠ¶å›¾ï¼Œè€Œ init è¿›ç¨‹å°±æ˜¯è¿™æ£µæ ‘çš„æ ¹ï¼Œå…¶ä»–è¿›ç¨‹ç”±æ ¹ä¸æ–­çš„å‘æ•£ï¼Œå¼€ææ•£å¶</p><h2 id="2-3-è¿›ç¨‹ç»„ä¸Sessions"><a href="#2-3-è¿›ç¨‹ç»„ä¸Sessions" class="headerlink" title="2.3 è¿›ç¨‹ç»„ä¸Sessions"></a>2.3 è¿›ç¨‹ç»„ä¸Sessions</h2><p>æ¯ä¸€ä¸ªè¿›ç¨‹éƒ½ä¼šæ˜¯ä¸€ä¸ªè¿›ç¨‹ç»„çš„æˆå‘˜ï¼Œè€Œä¸”è¿™ä¸ªè¿›ç¨‹ç»„æ˜¯å”¯ä¸€å­˜åœ¨çš„ï¼Œä»–ä»¬æ˜¯ä¾é  PGIDï¼ˆprocess group IDï¼‰æ¥åŒºåˆ«çš„ï¼Œè€Œæ¯å½“ä¸€ä¸ªè¿›ç¨‹è¢«åˆ›å»ºçš„æ—¶å€™ï¼Œå®ƒä¾¿ä¼šæˆä¸ºå…¶çˆ¶è¿›ç¨‹æ‰€åœ¨ç»„ä¸­çš„ä¸€å‘˜ã€‚</p><p>ä¸€èˆ¬æƒ…å†µï¼Œè¿›ç¨‹ç»„çš„ PGID ç­‰åŒäºè¿›ç¨‹ç»„çš„ç¬¬ä¸€ä¸ªæˆå‘˜çš„ PIDï¼Œå¹¶ä¸”è¿™æ ·çš„è¿›ç¨‹ç§°ä¸ºè¯¥è¿›ç¨‹ç»„çš„é¢†å¯¼è€…,ä¹Ÿå°±æ˜¯é¢†å¯¼è¿›ç¨‹ï¼Œè¿›ç¨‹ä¸€èˆ¬é€šè¿‡ä½¿ç”¨ <code>getpgrp()</code> ç³»ç»Ÿè°ƒç”¨æ¥å¯»æ‰¾å…¶æ‰€åœ¨ç»„çš„ PGIDï¼Œé¢†å¯¼è¿›ç¨‹å¯ä»¥å…ˆç»ˆç»“ï¼Œæ­¤æ—¶è¿›ç¨‹ç»„ä¾ç„¶å­˜åœ¨ï¼Œå¹¶æŒæœ‰ç›¸åŒçš„PGIDï¼Œç›´åˆ°è¿›ç¨‹ç»„ä¸­æœ€åä¸€ä¸ªè¿›ç¨‹ç»ˆç»“ã€‚</p><p>ä¸è¿›ç¨‹ç»„ç±»ä¼¼ï¼Œæ¯å½“ä¸€ä¸ªè¿›ç¨‹è¢«åˆ›å»ºçš„æ—¶å€™ï¼Œå®ƒä¾¿ä¼šæˆä¸ºå…¶çˆ¶è¿›ç¨‹æ‰€åœ¨ Session ä¸­çš„ä¸€å‘˜ï¼Œæ¯ä¸€ä¸ªè¿›ç¨‹ç»„éƒ½ä¼šåœ¨ä¸€ä¸ª Session ä¸­ï¼Œå¹¶ä¸”è¿™ä¸ª Session æ˜¯å”¯ä¸€å­˜åœ¨çš„ï¼Œ</p><p>Session ä¸»è¦æ˜¯é’ˆå¯¹ä¸€ä¸ª tty å»ºç«‹ï¼ŒSession ä¸­çš„æ¯ä¸ªè¿›ç¨‹éƒ½ç§°ä¸ºä¸€ä¸ªå·¥ä½œ(job)ã€‚æ¯ä¸ªä¼šè¯å¯ä»¥è¿æ¥ä¸€ä¸ªç»ˆç«¯(control terminal)ã€‚å½“æ§åˆ¶ç»ˆç«¯æœ‰è¾“å…¥è¾“å‡ºæ—¶ï¼Œéƒ½ä¼ é€’ç»™è¯¥ä¼šè¯çš„å‰å°è¿›ç¨‹ç»„ã€‚Session æ„ä¹‰åœ¨äºå°†å¤šä¸ª jobs å›Šæ‹¬åœ¨ä¸€ä¸ªç»ˆç«¯ï¼Œå¹¶å–å…¶ä¸­çš„ä¸€ä¸ª job ä½œä¸ºå‰å°ï¼Œæ¥ç›´æ¥æ¥æ”¶è¯¥ç»ˆç«¯çš„è¾“å…¥è¾“å‡ºä»¥åŠç»ˆç«¯ä¿¡å·ã€‚ å…¶ä»– jobs åœ¨åå°è¿è¡Œã€‚</p><blockquote><p><strong>å‰å°</strong>ï¼ˆforegroundï¼‰å°±æ˜¯åœ¨ç»ˆç«¯ä¸­è¿è¡Œï¼Œèƒ½ä¸ä½ æœ‰äº¤äº’çš„</p></blockquote><blockquote><p><strong>åå°</strong>ï¼ˆbackgroundï¼‰å°±æ˜¯åœ¨ç»ˆç«¯ä¸­è¿è¡Œï¼Œä½†æ˜¯ä½ å¹¶ä¸èƒ½ä¸å…¶ä»»ä½•çš„äº¤äº’ï¼Œä¹Ÿä¸ä¼šæ˜¾ç¤ºå…¶æ‰§è¡Œçš„è¿‡ç¨‹</p></blockquote><h2 id="2-4-å·¥ä½œç®¡ç†"><a href="#2-4-å·¥ä½œç®¡ç†" class="headerlink" title="2.4 å·¥ä½œç®¡ç†"></a>2.4 å·¥ä½œç®¡ç†</h2><p>bash(Bourne-Again shell)æ”¯æŒå·¥ä½œæ§åˆ¶ï¼ˆjob controlï¼‰,è€Œ shï¼ˆBourne shellï¼‰å¹¶ä¸æ”¯æŒã€‚</p><p>å¹¶ä¸”æ¯ä¸ªç»ˆç«¯æˆ–è€…è¯´ bash åªèƒ½ç®¡ç†å½“å‰ç»ˆç«¯ä¸­çš„ jobï¼Œä¸èƒ½ç®¡ç†å…¶ä»–ç»ˆç«¯ä¸­çš„ jobã€‚æ¯”å¦‚æˆ‘å½“å‰å­˜åœ¨ä¸¤ä¸ª bash åˆ†åˆ«ä¸º bash1ã€bash2ï¼Œbash1 åªèƒ½ç®¡ç†å…¶è‡ªå·±é‡Œé¢çš„ job å¹¶ä¸èƒ½ç®¡ç† bash2 é‡Œé¢çš„ job</p><p>æˆ‘ä»¬éƒ½çŸ¥é“å½“ä¸€ä¸ªè¿›ç¨‹åœ¨å‰å°è¿ä½œæ—¶æˆ‘ä»¬å¯ä»¥ç”¨ <code>ctrl + c</code> æ¥ç»ˆæ­¢å®ƒï¼Œä½†æ˜¯è‹¥æ˜¯åœ¨åå°çš„è¯å°±ä¸è¡Œäº†ã€‚</p><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ <code>&amp;</code> è¿™ä¸ªç¬¦å·ï¼Œè®©æˆ‘ä»¬çš„å‘½ä»¤åœ¨åå°ä¸­è¿è¡Œ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls &amp;</span><br></pre></td></tr></table></figure><div class="tag-plugin image"><div class="image-bg"><img src="images/5%20Linux%E8%BF%9B%E7%A8%8B%E6%A6%82%E5%BF%B5/6.png"/></div></div><p>å›¾ä¸­æ‰€æ˜¾ç¤ºçš„ <code>[1] 236</code>åˆ†åˆ«æ˜¯è¯¥ job çš„ job number ä¸è¯¥è¿›ç¨‹çš„ PIDï¼Œè€Œæœ€åä¸€è¡Œçš„ Done è¡¨ç¤ºè¯¥å‘½ä»¤å·²ç»åœ¨åå°æ‰§è¡Œå®Œæ¯•ã€‚</p><p>æˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡ <code>ctrl + z</code> ä½¿æˆ‘ä»¬çš„å½“å‰å·¥ä½œåœæ­¢å¹¶ä¸¢åˆ°åå°ä¸­å»</p><div class="tag-plugin image"><div class="image-bg"><img src="images/5%20Linux%E8%BF%9B%E7%A8%8B%E6%A6%82%E5%BF%B5/7.png"/></div></div><p>è¢«åœæ­¢å¹¶æ”¾ç½®åœ¨åå°çš„å·¥ä½œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¿™ä¸ªå‘½ä»¤æ¥æŸ¥çœ‹</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jobs</span><br></pre></td></tr></table></figure><div class="tag-plugin image"><div class="image-bg"><img src="images/5%20Linux%E8%BF%9B%E7%A8%8B%E6%A6%82%E5%BF%B5/8.png"/></div></div><p>å…¶ä¸­ç¬¬ä¸€åˆ—æ˜¾ç¤ºçš„ä¸ºè¢«æ”¾ç½®åå° job çš„ç¼–å·ï¼Œè€Œç¬¬äºŒåˆ—çš„ <code>ï¼‹</code> è¡¨ç¤ºæœ€è¿‘(åˆšåˆšã€æœ€å)è¢«æ”¾ç½®åå°çš„ jobï¼ŒåŒæ—¶ä¹Ÿè¡¨ç¤ºé¢„è®¾çš„å·¥ä½œï¼Œä¹Ÿå°±æ˜¯è‹¥æ˜¯æœ‰ä»€ä¹ˆé’ˆå¯¹åå° job çš„æ“ä½œï¼Œé¦–å…ˆå¯¹é¢„è®¾çš„ jobï¼Œ<code>-</code> è¡¨ç¤ºå€’æ•°ç¬¬äºŒï¼ˆä¹Ÿå°±æ˜¯åœ¨é¢„è®¾ä¹‹å‰çš„ä¸€ä¸ªï¼‰è¢«æ”¾ç½®åå°çš„å·¥ä½œï¼Œå€’æ•°ç¬¬ä¸‰ä¸ªï¼ˆå†ä¹‹å‰çš„ï¼‰ä»¥åéƒ½ä¸ä¼šæœ‰è¿™æ ·çš„ç¬¦å·ä¿®é¥°ï¼Œç¬¬ä¸‰åˆ—è¡¨ç¤ºå®ƒä»¬çš„çŠ¶æ€ï¼Œè€Œæœ€åä¸€åˆ—è¡¨ç¤ºè¯¥è¿›ç¨‹æ‰§è¡Œçš„å‘½ä»¤</p><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡è¿™æ ·çš„ä¸€ä¸ªå‘½ä»¤å°†åå°çš„å·¥ä½œæ‹¿åˆ°å‰å°æ¥</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#åé¢ä¸åŠ å‚æ•°æå–é¢„è®¾å·¥ä½œï¼ŒåŠ å‚æ•°æå–æŒ‡å®šå·¥ä½œçš„ç¼–å·</span><br><span class="line">#ubuntu åœ¨ zsh ä¸­éœ€è¦ %ï¼Œåœ¨ bash ä¸­ä¸éœ€è¦ %</span><br><span class="line">fg [%jobnumber]</span><br></pre></td></tr></table></figure><div class="tag-plugin image"><div class="image-bg"><img src="images/5%20Linux%E8%BF%9B%E7%A8%8B%E6%A6%82%E5%BF%B5/9.png"/></div></div><div class="tag-plugin image"><div class="image-bg"><img src="images/5%20Linux%E8%BF%9B%E7%A8%8B%E6%A6%82%E5%BF%B5/10.png"/></div></div><p>ä¹‹å‰æˆ‘ä»¬é€šè¿‡ <code>ctrl + z</code> ä½¿å¾—å·¥ä½œåœæ­¢æ”¾ç½®åœ¨åå°ï¼Œè‹¥æ˜¯æˆ‘ä»¬æƒ³è®©å…¶åœ¨åå°è¿ä½œæˆ‘ä»¬å°±ä½¿ç”¨è¿™æ ·ä¸€ä¸ªå‘½ä»¤</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#ä¸fgç±»ä¼¼ï¼ŒåŠ å‚åˆ™æŒ‡å®šï¼Œä¸åŠ å‚åˆ™å–é¢„è®¾</span><br><span class="line">bg [%jobnumber]</span><br></pre></td></tr></table></figure><div class="tag-plugin image"><div class="image-bg"><img src="images/5%20Linux%E8%BF%9B%E7%A8%8B%E6%A6%82%E5%BF%B5/11.png"/></div></div><p>æ—¢ç„¶æœ‰æ–¹æ³•å°†è¢«æ”¾ç½®åœ¨åå°çš„å·¥ä½œæè‡³å‰å°æˆ–è€…è®©å®ƒä»åœæ­¢å˜æˆç»§ç»­è¿è¡Œåœ¨åå°ï¼Œå½“ç„¶ä¹Ÿæœ‰æ–¹æ³•åˆ é™¤ä¸€ä¸ªå·¥ä½œï¼Œæˆ–è€…é‡å¯ç­‰ç­‰</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#killçš„ä½¿ç”¨æ ¼å¼å¦‚ä¸‹</span><br><span class="line">kill -signal %jobnumber</span><br><span class="line"></span><br><span class="line">#signalä»1-64ä¸ªä¿¡å·å€¼å¯ä»¥é€‰æ‹©ï¼Œå¯ä»¥è¿™æ ·æŸ¥çœ‹</span><br><span class="line">kill ï¼l</span><br></pre></td></tr></table></figure><p>å…¶ä¸­å¸¸ç”¨çš„æœ‰è¿™äº›ä¿¡å·å€¼</p><table><thead><tr><th>ä¿¡å·å€¼</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>-1</td><td>é‡æ–°è¯»å–å‚æ•°è¿è¡Œï¼Œç±»ä¼¼ä¸restart</td></tr><tr><td>-2</td><td>å¦‚åŒ ctrl+c çš„æ“ä½œé€€å‡º</td></tr><tr><td>-9</td><td>å¼ºåˆ¶ç»ˆæ­¢è¯¥ä»»åŠ¡</td></tr><tr><td>-15</td><td>æ­£å¸¸çš„æ–¹å¼ç»ˆæ­¢è¯¥ä»»åŠ¡</td></tr></tbody></table><div class="tag-plugin image"><div class="image-bg"><img src="images/5%20Linux%E8%BF%9B%E7%A8%8B%E6%A6%82%E5%BF%B5/12.png"/></div></div><blockquote><p><strong>æ³¨æ„</strong></p></blockquote><blockquote><p>è‹¥æ˜¯åœ¨ä½¿ç”¨killï¼‹ä¿¡å·å€¼ç„¶åç›´æ¥åŠ  pidï¼Œä½ å°†ä¼šå¯¹ pid å¯¹åº”çš„è¿›ç¨‹è¿›è¡Œæ“ä½œ</p></blockquote><blockquote><p>è‹¥æ˜¯åœ¨ä½¿ç”¨kill+ä¿¡å·å€¼ç„¶å <code>ï¼…jobnumber</code>ï¼Œè¿™æ—¶æ‰€æ“ä½œçš„å¯¹è±¡æ˜¯ jobï¼Œè¿™ä¸ªæ•°å­—å°±æ˜¯å°±å½“å‰ bash ä¸­åå°çš„è¿è¡Œçš„ job çš„ ID</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> OS </category>
          
          <category> Linux </category>
          
          <category> æ“ä½œç³»ç»ŸåŠLinuxå†…æ ¸ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> è¿›ç¨‹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux å¯¼è¯»å¤§çº²</title>
      <link href="/OS/Linux/readme/"/>
      <url>/OS/Linux/readme/</url>
      
        <content type="html"><![CDATA[<ol><li><a href="./Command&Tools/">å‘½ä»¤è¡Œå’Œå·¥å…·</a></li><li><a href="./Linux%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/Readme">LinuxåŸºç¡€å…¥é—¨</a></li><li><a href="./Linux%E5%86%85%E6%A0%B8%E5%88%86%E6%9E%90%E9%85%8D%E5%A5%97%E5%AE%9E%E9%AA%8C/Readme">Linuxå†…æ ¸åˆ†æé…å¥—å®éªŒ</a></li><li><a href="./RPC/">Linux RPC</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> OS </category>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> å¯¼è¯» </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux RPC</title>
      <link href="/OS/Linux/RPC/Linux_RPC/"/>
      <url>/OS/Linux/RPC/Linux_RPC/</url>
      
        <content type="html"><![CDATA[<div class="tag-plugin image"><div class="image-bg"><img src="Linux_RPC/LinuxRPC.png"/></div></div>]]></content>
      
      
      <categories>
          
          <category> OS </category>
          
          <category> Linux </category>
          
          <category> RPC </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
            <tag> rpc </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>5 ç¯å¢ƒå˜é‡ä¸æ–‡ä»¶æŸ¥æ‰¾</title>
      <link href="/OS/Linux/Linux%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/5%20%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E4%B8%8E%E6%96%87%E4%BB%B6%E6%9F%A5%E6%89%BE/"/>
      <url>/OS/Linux/Linux%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/5%20%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E4%B8%8E%E6%96%87%E4%BB%B6%E6%9F%A5%E6%89%BE/</url>
      
        <content type="html"><![CDATA[<p>[toc]</p><h1 id="1-ç¯å¢ƒå˜é‡"><a href="#1-ç¯å¢ƒå˜é‡" class="headerlink" title="1. ç¯å¢ƒå˜é‡"></a>1. ç¯å¢ƒå˜é‡</h1><p>ç®€å•ç†è§£äº†å˜é‡çš„æ¦‚å¿µï¼Œå°±å¾ˆå®¹æ˜“ç†è§£ç¯å¢ƒå˜é‡äº†ã€‚ç¯å¢ƒå˜é‡çš„ä½œç”¨åŸŸæ¯”è‡ªå®šä¹‰å˜é‡çš„è¦å¤§ï¼Œå¦‚ Shell çš„ç¯å¢ƒå˜é‡ä½œç”¨äºè‡ªèº«å’Œå®ƒçš„å­è¿›ç¨‹ã€‚åœ¨æ‰€æœ‰çš„ UNIX å’Œç±» UNIX ç³»ç»Ÿä¸­ï¼Œæ¯ä¸ªè¿›ç¨‹éƒ½æœ‰å…¶å„è‡ªçš„ç¯å¢ƒå˜é‡è®¾ç½®ï¼Œä¸”é»˜è®¤æƒ…å†µä¸‹ï¼Œå½“ä¸€ä¸ªè¿›ç¨‹è¢«åˆ›å»ºæ—¶ï¼Œé™¤äº†åˆ›å»ºè¿‡ç¨‹ä¸­æ˜ç¡®æŒ‡å®šçš„è¯ï¼Œå®ƒå°†ç»§æ‰¿å…¶çˆ¶è¿›ç¨‹çš„ç»å¤§éƒ¨åˆ†ç¯å¢ƒè®¾ç½®ã€‚Shell ç¨‹åºä¹Ÿä½œä¸ºä¸€ä¸ªè¿›ç¨‹è¿è¡Œåœ¨æ“ä½œç³»ç»Ÿä¹‹ä¸Šï¼Œè€Œæˆ‘ä»¬åœ¨ Shell ä¸­è¿è¡Œçš„å¤§éƒ¨åˆ†å‘½ä»¤éƒ½å°†ä»¥ Shell çš„å­è¿›ç¨‹çš„æ–¹å¼è¿è¡Œã€‚</p><div class="tag-plugin image"><div class="image-bg"><img src="https://raw.githubusercontent.com/holdyounger/ScopeBlog/rc_images/Images/Linux%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/images/5%20%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E4%B8%8E%E6%96%87%E4%BB%B6%E6%9F%A5%E6%89%BE/5-2.png"/></div></div><p>é€šå¸¸æˆ‘ä»¬ä¼šæ¶‰åŠåˆ°çš„å˜é‡ç±»å‹æœ‰ä¸‰ç§ï¼š</p><ul><li>å½“å‰ Shell è¿›ç¨‹ç§æœ‰ç”¨æˆ·è‡ªå®šä¹‰å˜é‡ï¼Œå¦‚ä¸Šé¢æˆ‘ä»¬åˆ›å»ºçš„ tmp å˜é‡ï¼Œåªåœ¨å½“å‰ Shell ä¸­æœ‰æ•ˆã€‚</li><li>Shell æœ¬èº«å†…å»ºçš„å˜é‡ã€‚</li><li>ä»è‡ªå®šä¹‰å˜é‡å¯¼å‡ºçš„ç¯å¢ƒå˜é‡ã€‚</li></ul><p>ä¹Ÿæœ‰ä¸‰ä¸ªä¸ä¸Šè¿°ä¸‰ç§ç¯å¢ƒå˜é‡ç›¸å…³çš„å‘½ä»¤ï¼š<code>set</code>ï¼Œ<code>env</code>ï¼Œ<code>export</code>ã€‚è¿™ä¸‰ä¸ªå‘½ä»¤å¾ˆç›¸ä¼¼ï¼Œéƒ½æ˜¯ç”¨äºæ‰“å°ç¯å¢ƒå˜é‡ä¿¡æ¯ï¼ŒåŒºåˆ«åœ¨äºæ¶‰åŠçš„å˜é‡èŒƒå›´ä¸åŒã€‚è¯¦è§ä¸‹è¡¨ï¼š</p><table><thead><tr><th>å‘½ ä»¤</th><th>è¯´ æ˜</th></tr></thead><tbody><tr><td><code>set</code></td><td>æ˜¾ç¤ºå½“å‰ Shell æ‰€æœ‰å˜é‡ï¼ŒåŒ…æ‹¬å…¶å†…å»ºç¯å¢ƒå˜é‡ï¼ˆä¸ Shell å¤–è§‚ç­‰ç›¸å…³ï¼‰ï¼Œç”¨æˆ·è‡ªå®šä¹‰å˜é‡åŠå¯¼å‡ºçš„ç¯å¢ƒå˜é‡ã€‚</td></tr><tr><td><code>env</code></td><td>æ˜¾ç¤ºä¸å½“å‰ç”¨æˆ·ç›¸å…³çš„ç¯å¢ƒå˜é‡ï¼Œè¿˜å¯ä»¥è®©å‘½ä»¤åœ¨æŒ‡å®šç¯å¢ƒä¸­è¿è¡Œã€‚</td></tr><tr><td><code>export</code></td><td>æ˜¾ç¤ºä» Shell ä¸­å¯¼å‡ºæˆç¯å¢ƒå˜é‡çš„å˜é‡ï¼Œä¹Ÿèƒ½é€šè¿‡å®ƒå°†è‡ªå®šä¹‰å˜é‡å¯¼å‡ºä¸ºç¯å¢ƒå˜é‡ã€‚</td></tr></tbody></table><div class="tag-plugin image"><div class="image-bg"><img src="https://raw.githubusercontent.com/holdyounger/ScopeBlog/rc_images/Images/Linux%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/images/5%20%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E4%B8%8E%E6%96%87%E4%BB%B6%E6%9F%A5%E6%89%BE/5-3.png"/></div></div><p>ä½ å¯ä»¥æ›´ç›´è§‚çš„ä½¿ç”¨ <code>vimdiff</code> å·¥å…·æ¯”è¾ƒä¸€ä¸‹å®ƒä»¬ä¹‹é—´çš„å·®åˆ«ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">temp=shiyanlou</span><br><span class="line"><span class="built_in">export</span> temp_env=shiyanlou</span><br><span class="line"><span class="built_in">env</span>|<span class="built_in">sort</span>&gt;env.txt</span><br><span class="line"><span class="built_in">export</span>|<span class="built_in">sort</span>&gt;export.txt</span><br><span class="line"><span class="built_in">set</span>|<span class="built_in">sort</span>&gt;set.txt</span><br></pre></td></tr></table></figure><p>ä¸Šè¿°æ“ä½œå°†å‘½ä»¤è¾“å‡ºé€šè¿‡ç®¡é“ <code>|</code> ä½¿ç”¨ <code>sort</code> å‘½ä»¤æ’åºï¼Œå†é‡å®šå‘åˆ°å¯¹è±¡æ–‡æœ¬æ–‡ä»¶ä¸­ã€‚ç®¡é“çš„æ¦‚å¿µåé¢æˆ‘ä»¬ä¼šå­¦åˆ°ï¼Œç°åœ¨ä½ çŸ¥é“è¿™æ˜¯ä»€ä¹ˆæ„æ€å°±è¡Œäº†ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vimdiff env.txt export.txt set.txt</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ <code>vimdiff</code> å·¥å…·æ¯”è¾ƒå¯¼å‡ºçš„å‡ ä¸ªæ–‡ä»¶çš„å†…å®¹ï¼Œé€€å‡º <code>vimdiff</code> éœ€è¦æŒ‰ä¸‹ Esc åè¾“å…¥ <code>:q</code> å³å¯é€€å‡ºã€‚</p><div class="tag-plugin image"><div class="image-bg"><img src="https://raw.githubusercontent.com/holdyounger/ScopeBlog/rc_images/Images/Linux%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/images/5%20%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E4%B8%8E%E6%96%87%E4%BB%B6%E6%9F%A5%E6%89%BE/5-5.gif"/></div></div><p>å…³äºå“ªäº›å˜é‡æ˜¯ç¯å¢ƒå˜é‡ï¼Œå¯ä»¥ç®€å•åœ°ç†è§£æˆåœ¨å½“å‰è¿›ç¨‹çš„å­è¿›ç¨‹æœ‰æ•ˆåˆ™ä¸ºç¯å¢ƒå˜é‡ï¼Œå¦åˆ™ä¸æ˜¯ï¼ˆæœ‰äº›äººä¹Ÿå°†æ‰€æœ‰å˜é‡ç»Ÿç§°ä¸ºç¯å¢ƒå˜é‡ï¼Œåªæ˜¯ä»¥å…¨å±€ç¯å¢ƒå˜é‡å’Œå±€éƒ¨ç¯å¢ƒå˜é‡è¿›è¡ŒåŒºåˆ†ï¼Œæˆ‘ä»¬åªè¦ç†è§£å®ƒä»¬çš„å®è´¨åŒºåˆ«å³å¯ï¼‰ã€‚æˆ‘ä»¬è¿™é‡Œç”¨ <code>export</code> å‘½ä»¤æ¥ä½“ä¼šä¸€ä¸‹ï¼Œå…ˆåœ¨ Shell ä¸­è®¾ç½®ä¸€ä¸ªå˜é‡ <code>temp=shiyanlou</code>ï¼Œç„¶åå†æ–°åˆ›å»ºä¸€ä¸ªå­ Shell æŸ¥çœ‹ <code>temp</code> å˜é‡çš„å€¼ï¼š</p><div class="tag-plugin image"><div class="image-bg"><img src="https://raw.githubusercontent.com/holdyounger/ScopeBlog/rc_images/Images/Linux%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/images/5%20%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E4%B8%8E%E6%96%87%E4%BB%B6%E6%9F%A5%E6%89%BE/5-4.png"/></div></div><p><strong>æ³¨æ„ï¼šä¸ºäº†ä¸æ™®é€šå˜é‡åŒºåˆ†ï¼Œé€šå¸¸æˆ‘ä»¬ä¹ æƒ¯å°†ç¯å¢ƒå˜é‡åè®¾ä¸ºå¤§å†™ã€‚</strong></p><h4 id="æ°¸ä¹…ç”Ÿæ•ˆ"><a href="#æ°¸ä¹…ç”Ÿæ•ˆ" class="headerlink" title="æ°¸ä¹…ç”Ÿæ•ˆ"></a>æ°¸ä¹…ç”Ÿæ•ˆ</h4><p>ä½†æ˜¯é—®é¢˜æ¥äº†ï¼Œå½“ä½ å…³æœºåï¼Œæˆ–è€…å…³é—­å½“å‰çš„ shell ä¹‹åï¼Œç¯å¢ƒå˜é‡å°±æ²¡äº†å•Šã€‚æ€ä¹ˆæ‰èƒ½è®©ç¯å¢ƒå˜é‡æ°¸ä¹…ç”Ÿæ•ˆå‘¢ï¼Ÿ</p><p>æŒ‰å˜é‡çš„ç”Ÿå­˜å‘¨æœŸæ¥åˆ’åˆ†ï¼ŒLinux å˜é‡å¯åˆ†ä¸ºä¸¤ç±»ï¼š</p><ol><li>æ°¸ä¹…çš„ï¼šéœ€è¦ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œå˜é‡æ°¸ä¹…ç”Ÿæ•ˆï¼›</li><li>ä¸´æ—¶çš„ï¼šä½¿ç”¨ export å‘½ä»¤è¡Œå£°æ˜å³å¯ï¼Œå˜é‡åœ¨å…³é—­ shell æ—¶å¤±æ•ˆã€‚</li></ol><p>è¿™é‡Œä»‹ç»ä¸¤ä¸ªé‡è¦æ–‡ä»¶ <code>/etc/bashrc</code>ï¼ˆæœ‰çš„ Linux æ²¡æœ‰è¿™ä¸ªæ–‡ä»¶ï¼‰ å’Œ <code>/etc/profile</code> ï¼Œå®ƒä»¬åˆ†åˆ«å­˜æ”¾çš„æ˜¯ shell å˜é‡å’Œç¯å¢ƒå˜é‡ã€‚è¿˜æœ‰è¦æ³¨æ„åŒºåˆ«çš„æ˜¯æ¯ä¸ªç”¨æˆ·ç›®å½•ä¸‹çš„ä¸€ä¸ªéšè—æ–‡ä»¶ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># .profile å¯ä»¥ç”¨ ls -a æŸ¥çœ‹</span></span><br><span class="line"><span class="built_in">cd</span> /home/shiyanlou</span><br><span class="line"><span class="built_in">ls</span> -a</span><br></pre></td></tr></table></figure><div class="tag-plugin image"><div class="image-bg"><img src="https://raw.githubusercontent.com/holdyounger/ScopeBlog/rc_images/Images/Linux%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/images/5%20%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E4%B8%8E%E6%96%87%E4%BB%B6%E6%9F%A5%E6%89%BE/uid871732-20200303-1583220161661.png"/></div></div><p>è¿™ä¸ª .profile åªå¯¹å½“å‰ç”¨æˆ·æ°¸ä¹…ç”Ÿæ•ˆã€‚å› ä¸ºå®ƒä¿å­˜åœ¨å½“å‰ç”¨æˆ·çš„ Home ç›®å½•ä¸‹ï¼Œå½“åˆ‡æ¢ç”¨æˆ·æ—¶ï¼Œå·¥ä½œç›®å½•å¯èƒ½ä¸€å¹¶è¢«åˆ‡æ¢åˆ°å¯¹åº”çš„ç›®å½•ä¸­ï¼Œè¿™ä¸ªæ–‡ä»¶å°±æ— æ³•ç”Ÿæ•ˆã€‚è€Œå†™åœ¨ <code>/etc/profile</code> é‡Œé¢çš„æ˜¯å¯¹æ‰€æœ‰ç”¨æˆ·æ°¸ä¹…ç”Ÿæ•ˆï¼Œæ‰€ä»¥å¦‚æœæƒ³è¦æ·»åŠ ä¸€ä¸ªæ°¸ä¹…ç”Ÿæ•ˆçš„ç¯å¢ƒå˜é‡ï¼Œåªéœ€è¦æ‰“å¼€ <code>/etc/profile</code>ï¼Œåœ¨æœ€ååŠ ä¸Šä½ æƒ³æ·»åŠ çš„ç¯å¢ƒå˜é‡å°±å¥½å•¦ã€‚</p><h2 id="1-å‘½ä»¤çš„æŸ¥æ‰¾è·¯å¾„ä¸é¡ºåº"><a href="#1-å‘½ä»¤çš„æŸ¥æ‰¾è·¯å¾„ä¸é¡ºåº" class="headerlink" title="1. å‘½ä»¤çš„æŸ¥æ‰¾è·¯å¾„ä¸é¡ºåº"></a>1. å‘½ä»¤çš„æŸ¥æ‰¾è·¯å¾„ä¸é¡ºåº</h2><p>æŸ¥çœ‹ <code>PATH</code> ç¯å¢ƒå˜é‡çš„å†…å®¹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="variable">$PATH</span></span><br></pre></td></tr></table></figure><p>é»˜è®¤æƒ…å†µä¸‹ä½ ä¼šçœ‹åˆ°å¦‚ä¸‹è¾“å‡ºï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games</span><br></pre></td></tr></table></figure><p>å¦‚æœä½ è¿˜è®°å¾— Linux ç›®å½•ç»“æ„é‚£ä¸€èŠ‚çš„å†…å®¹ï¼Œä½ å°±åº”è¯¥çŸ¥é“ä¸Šé¢è¿™äº›ç›®å½•ä¸‹æ”¾çš„æ˜¯å“ªä¸€ç±»æ–‡ä»¶äº†ã€‚é€šå¸¸è¿™ä¸€ç±»ç›®å½•ä¸‹æ”¾çš„éƒ½æ˜¯å¯æ‰§è¡Œæ–‡ä»¶ï¼Œå½“æˆ‘ä»¬åœ¨ Shell ä¸­æ‰§è¡Œä¸€ä¸ªå‘½ä»¤æ—¶ï¼Œç³»ç»Ÿå°±ä¼šæŒ‰ç…§ PATH ä¸­è®¾å®šçš„è·¯å¾„æŒ‰ç…§é¡ºåºä¾æ¬¡åˆ°ç›®å½•ä¸­å»æŸ¥æ‰¾ï¼Œå¦‚æœå­˜åœ¨åŒåçš„å‘½ä»¤ï¼Œåˆ™æ‰§è¡Œå…ˆæ‰¾åˆ°çš„é‚£ä¸ªã€‚</p><h2 id="2-æ·»åŠ è‡ªå®šä¹‰è·¯å¾„åˆ°-PATH-ç¯å¢ƒå˜é‡"><a href="#2-æ·»åŠ è‡ªå®šä¹‰è·¯å¾„åˆ°-PATH-ç¯å¢ƒå˜é‡" class="headerlink" title="2 æ·»åŠ è‡ªå®šä¹‰è·¯å¾„åˆ° PATH ç¯å¢ƒå˜é‡"></a>2 æ·»åŠ è‡ªå®šä¹‰è·¯å¾„åˆ° <code>PATH</code> ç¯å¢ƒå˜é‡</h2><p>åœ¨å‰é¢æˆ‘ä»¬åº”è¯¥æ³¨æ„åˆ° <code>PATH</code> é‡Œé¢çš„è·¯å¾„æ˜¯ä»¥ <code>:</code> ä½œä¸ºåˆ†å‰²ç¬¦çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥è¿™æ ·æ·»åŠ è‡ªå®šä¹‰è·¯å¾„ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">PATH=<span class="variable">$PATH</span>:/home/shiyanlou/mybin</span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„è¿™é‡Œä¸€å®šè¦ä½¿ç”¨ç»å¯¹è·¯å¾„ã€‚</strong></p><h2 id="3-ä¿®æ”¹å’Œåˆ é™¤å·²æœ‰å˜é‡"><a href="#3-ä¿®æ”¹å’Œåˆ é™¤å·²æœ‰å˜é‡" class="headerlink" title="3 ä¿®æ”¹å’Œåˆ é™¤å·²æœ‰å˜é‡"></a>3 ä¿®æ”¹å’Œåˆ é™¤å·²æœ‰å˜é‡</h2><h4 id="å˜é‡ä¿®æ”¹"><a href="#å˜é‡ä¿®æ”¹" class="headerlink" title="å˜é‡ä¿®æ”¹"></a>å˜é‡ä¿®æ”¹</h4><p>å˜é‡çš„ä¿®æ”¹æœ‰ä»¥ä¸‹å‡ ç§æ–¹å¼ï¼š</p><table><thead><tr><th>å˜é‡è®¾ç½®æ–¹å¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>$&#123;å˜é‡å#åŒ¹é…å­—ä¸²&#125;</code></td><td>ä»å¤´å‘åå¼€å§‹åŒ¹é…ï¼Œåˆ é™¤ç¬¦åˆåŒ¹é…å­—ä¸²çš„æœ€çŸ­æ•°æ®</td></tr><tr><td><code>$&#123;å˜é‡å##åŒ¹é…å­—ä¸²&#125;</code></td><td>ä»å¤´å‘åå¼€å§‹åŒ¹é…ï¼Œåˆ é™¤ç¬¦åˆåŒ¹é…å­—ä¸²çš„æœ€é•¿æ•°æ®</td></tr><tr><td><code>$&#123;å˜é‡å%åŒ¹é…å­—ä¸²&#125;</code></td><td>ä»å°¾å‘å‰å¼€å§‹åŒ¹é…ï¼Œåˆ é™¤ç¬¦åˆåŒ¹é…å­—ä¸²çš„æœ€çŸ­æ•°æ®</td></tr><tr><td><code>$&#123;å˜é‡å%%åŒ¹é…å­—ä¸²&#125;</code></td><td>ä»å°¾å‘å‰å¼€å§‹åŒ¹é…ï¼Œåˆ é™¤ç¬¦åˆåŒ¹é…å­—ä¸²çš„æœ€é•¿æ•°æ®</td></tr><tr><td><code>$&#123;å˜é‡å/æ—§çš„å­—ä¸²/æ–°çš„å­—ä¸²&#125;</code></td><td>å°†ç¬¦åˆæ—§å­—ä¸²çš„ç¬¬ä¸€ä¸ªå­—ä¸²æ›¿æ¢ä¸ºæ–°çš„å­—ä¸²</td></tr><tr><td><code>$&#123;å˜é‡å//æ—§çš„å­—ä¸²/æ–°çš„å­—ä¸²&#125;</code></td><td>å°†ç¬¦åˆæ—§å­—ä¸²çš„å…¨éƒ¨å­—ä¸²æ›¿æ¢ä¸ºæ–°çš„å­—ä¸²</td></tr></tbody></table><p>æ¯”å¦‚æˆ‘ä»¬å¯ä»¥ä¿®æ”¹å‰é¢æ·»åŠ åˆ° PATH çš„ç¯å¢ƒå˜é‡ï¼Œå°†æ·»åŠ çš„ mybin ç›®å½•ä»ç¯å¢ƒå˜é‡é‡Œåˆ é™¤ã€‚ä¸ºäº†é¿å…æ“ä½œå¤±è¯¯å¯¼è‡´å‘½ä»¤æ‰¾ä¸åˆ°ï¼Œæˆ‘ä»¬å…ˆå°† PATH èµ‹å€¼ç»™ä¸€ä¸ªæ–°çš„è‡ªå®šä¹‰å˜é‡ mypathï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">mypath=<span class="variable">$PATH</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$mypath</span></span><br><span class="line">mypath=<span class="variable">$&#123;mypath%/home/shiyanlou/mybin&#125;</span></span><br><span class="line"><span class="comment"># æˆ–ä½¿ç”¨é€šé…ç¬¦ * è¡¨ç¤ºä»»æ„å¤šä¸ªä»»æ„å­—ç¬¦</span></span><br><span class="line">mypath=<span class="variable">$&#123;mypath%*/mybin&#125;</span></span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°è·¯å¾„å·²ç»ä¸å­˜åœ¨äº†ã€‚</p><h4 id="å˜é‡åˆ é™¤"><a href="#å˜é‡åˆ é™¤" class="headerlink" title="å˜é‡åˆ é™¤"></a>å˜é‡åˆ é™¤</h4><p>å¯ä»¥ä½¿ç”¨ <code>unset</code> å‘½ä»¤åˆ é™¤ä¸€ä¸ªç¯å¢ƒå˜é‡ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">unset</span> mypath</span><br></pre></td></tr></table></figure><div class="tag-plugin image"><div class="image-bg"><img src="https://raw.githubusercontent.com/holdyounger/ScopeBlog/rc_images/Images/Linux%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/images/5%20%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E4%B8%8E%E6%96%87%E4%BB%B6%E6%9F%A5%E6%89%BE/uid871732-20200303-1583224422523.png"/></div></div><h2 id="4-è®©ç¯å¢ƒå˜é‡ç«‹å³ç”Ÿæ•ˆ"><a href="#4-è®©ç¯å¢ƒå˜é‡ç«‹å³ç”Ÿæ•ˆ" class="headerlink" title="4 è®©ç¯å¢ƒå˜é‡ç«‹å³ç”Ÿæ•ˆ"></a>4 è®©ç¯å¢ƒå˜é‡ç«‹å³ç”Ÿæ•ˆ</h2><p>å‰é¢æˆ‘ä»¬åœ¨ Shell ä¸­ä¿®æ”¹äº†ä¸€ä¸ªé…ç½®è„šæœ¬æ–‡ä»¶ä¹‹åï¼ˆæ¯”å¦‚ zsh çš„é…ç½®æ–‡ä»¶ home ç›®å½•ä¸‹çš„ <code>.zshrc</code>ï¼‰ï¼Œæ¯æ¬¡éƒ½è¦é€€å‡ºç»ˆç«¯é‡æ–°æ‰“å¼€ç”šè‡³é‡å¯ä¸»æœºä¹‹åå…¶æ‰èƒ½ç”Ÿæ•ˆï¼Œå¾ˆæ˜¯éº»çƒ¦ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>source</code> å‘½ä»¤æ¥è®©å…¶ç«‹å³ç”Ÿæ•ˆï¼Œå¦‚ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /home/shiyanlou</span><br><span class="line"><span class="built_in">source</span> .zshrc</span><br></pre></td></tr></table></figure><p><code>source</code> å‘½ä»¤è¿˜æœ‰ä¸€ä¸ªåˆ«åå°±æ˜¯ <code>.</code>ï¼Œä¸Šé¢çš„å‘½ä»¤å¦‚æœæ›¿æ¢æˆ <code>.</code> çš„æ–¹å¼å°±è¯¥æ˜¯ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">. ./.zshrc</span><br></pre></td></tr></table></figure><div class="tag-plugin image"><div class="image-bg"><img src="https://raw.githubusercontent.com/holdyounger/ScopeBlog/rc_images/Images/Linux%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/images/5%20%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E4%B8%8E%E6%96%87%E4%BB%B6%E6%9F%A5%E6%89%BE/uid871732-20200303-1583225164807.png"/></div></div><p>åœ¨ä½¿ç”¨ <code>.</code> çš„æ—¶å€™ï¼Œéœ€è¦æ³¨æ„ä¸è¡¨ç¤ºå½“å‰è·¯å¾„çš„é‚£ä¸ªç‚¹åŒºåˆ†å¼€ã€‚</p><p>æ³¨æ„ç¬¬ä¸€ä¸ªç‚¹åé¢æœ‰ä¸€ä¸ªç©ºæ ¼ï¼Œè€Œä¸”åé¢çš„æ–‡ä»¶å¿…é¡»æŒ‡å®šå®Œæ•´çš„ç»å¯¹æˆ–ç›¸å¯¹è·¯å¾„åï¼Œ<code>source</code> åˆ™ä¸éœ€è¦ã€‚</p><h1 id="2-æœç´¢æ–‡ä»¶"><a href="#2-æœç´¢æ–‡ä»¶" class="headerlink" title="2 æœç´¢æ–‡ä»¶"></a>2 æœç´¢æ–‡ä»¶</h1><p>ä¸æœç´¢ç›¸å…³çš„å‘½ä»¤å¸¸ç”¨çš„æœ‰ <code>whereis</code>ï¼Œ<code>which</code>ï¼Œ<code>find</code> å’Œ <code>locate</code>ã€‚</p><ul><li><code>whereis</code> ç®€å•å¿«é€Ÿ</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">whereis <span class="built_in">who</span></span><br><span class="line">whereis find</span><br></pre></td></tr></table></figure><div class="tag-plugin image"><div class="image-bg"><img src="https://raw.githubusercontent.com/holdyounger/ScopeBlog/rc_images/Images/Linux%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/images/5%20%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E4%B8%8E%E6%96%87%E4%BB%B6%E6%9F%A5%E6%89%BE/5-6.png"/></div></div><p>ä½ ä¼šçœ‹åˆ° <code>whereis find</code> æ‰¾åˆ°äº†ä¸‰ä¸ªè·¯å¾„ï¼Œä¸¤ä¸ªå¯æ‰§è¡Œæ–‡ä»¶è·¯å¾„å’Œä¸€ä¸ª man åœ¨çº¿å¸®åŠ©æ–‡ä»¶æ‰€åœ¨è·¯å¾„ï¼Œè¿™ä¸ªæœç´¢å¾ˆå¿«ï¼Œå› ä¸ºå®ƒå¹¶æ²¡æœ‰ä»ç¡¬ç›˜ä¸­ä¾æ¬¡æŸ¥æ‰¾ï¼Œè€Œæ˜¯ç›´æ¥ä»æ•°æ®åº“ä¸­æŸ¥è¯¢ã€‚</p><p><code>whereis</code> åªèƒ½æœç´¢äºŒè¿›åˆ¶æ–‡ä»¶ï¼ˆ<code>-b</code>ï¼‰ï¼Œman å¸®åŠ©æ–‡ä»¶ï¼ˆ<code>-m</code>ï¼‰å’Œæºä»£ç æ–‡ä»¶ï¼ˆ<code>-s</code>ï¼‰ã€‚å¦‚æœæƒ³è¦è·å¾—æ›´å…¨é¢çš„æœç´¢ç»“æœå¯ä»¥ä½¿ç”¨ <code>locate</code> å‘½ä»¤ã€‚</p><ul><li><code>locate</code> å¿«è€Œå…¨</li></ul><p>ä½¿ç”¨ <code>locate</code> å‘½ä»¤æŸ¥æ‰¾æ–‡ä»¶ä¹Ÿä¸ä¼šéå†ç¡¬ç›˜ï¼Œå®ƒé€šè¿‡æŸ¥è¯¢ <code>/var/lib/mlocate/mlocate.db</code> æ•°æ®åº“æ¥æ£€ç´¢ä¿¡æ¯ã€‚ä¸è¿‡è¿™ä¸ªæ•°æ®åº“ä¹Ÿä¸æ˜¯å®æ—¶æ›´æ–°çš„ï¼Œç³»ç»Ÿä¼šä½¿ç”¨å®šæ—¶ä»»åŠ¡æ¯å¤©è‡ªåŠ¨æ‰§è¡Œ <code>updatedb</code> å‘½ä»¤æ¥æ›´æ–°æ•°æ®åº“ã€‚æ‰€ä»¥æœ‰æ—¶å€™ä½ åˆšæ·»åŠ çš„æ–‡ä»¶ï¼Œå®ƒå¯èƒ½ä¼šæ‰¾ä¸åˆ°ï¼Œéœ€è¦æ‰‹åŠ¨æ‰§è¡Œä¸€æ¬¡ <code>updatedb</code> å‘½ä»¤ï¼ˆåœ¨æˆ‘ä»¬çš„ç¯å¢ƒä¸­å¿…é¡»å…ˆæ‰§è¡Œä¸€æ¬¡è¯¥å‘½ä»¤ï¼‰ã€‚æ³¨æ„è¿™ä¸ªå‘½ä»¤ä¹Ÿä¸æ˜¯å†…ç½®çš„å‘½ä»¤ï¼Œåœ¨éƒ¨åˆ†ç¯å¢ƒä¸­éœ€è¦æ‰‹åŠ¨å®‰è£…ï¼Œç„¶åæ‰§è¡Œæ›´æ–°ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get install locate</span><br><span class="line">sudo updatedb</span><br></pre></td></tr></table></figure><p>å®ƒå¯ä»¥ç”¨æ¥æŸ¥æ‰¾æŒ‡å®šç›®å½•ä¸‹çš„ä¸åŒæ–‡ä»¶ç±»å‹ï¼Œå¦‚æŸ¥æ‰¾ <code>/etc</code> ä¸‹æ‰€æœ‰ä»¥ sh å¼€å¤´çš„æ–‡ä»¶ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">locate /etc/sh</span><br></pre></td></tr></table></figure><blockquote><p><strong>æ³¨æ„ï¼Œå®ƒä¸åªæ˜¯åœ¨ &#x2F;etc ç›®å½•ä¸‹æŸ¥æ‰¾ï¼Œè¿˜ä¼šè‡ªåŠ¨é€’å½’å­ç›®å½•è¿›è¡ŒæŸ¥æ‰¾ã€‚</strong></p></blockquote><div class="tag-plugin image"><div class="image-bg"><img src="https://raw.githubusercontent.com/holdyounger/ScopeBlog/rc_images/Images/Linux%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/images/5%20%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E4%B8%8E%E6%96%87%E4%BB%B6%E6%9F%A5%E6%89%BE/uid871732-20200303-1583225846911.png"/></div></div><p>æŸ¥æ‰¾ <code>/usr/share/</code> ä¸‹æ‰€æœ‰ jpg æ–‡ä»¶ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">locate /usr/share/*.jpg</span><br></pre></td></tr></table></figure><div class="tag-plugin image"><div class="image-bg"><img src="https://raw.githubusercontent.com/holdyounger/ScopeBlog/rc_images/Images/Linux%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/images/5%20%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E4%B8%8E%E6%96%87%E4%BB%B6%E6%9F%A5%E6%89%BE/uid871732-20210113-1610502774649.png"/></div></div><blockquote><p>ç¯å¢ƒé‡Œä½¿ç”¨ zshï¼Œåœ¨ <code>~/.zshrc</code> æ–‡ä»¶é‡Œæ·»åŠ äº† <code>setopt nonomatch</code> é…ç½®ï¼Œè¿™æ ·å°±ä¸ä¼šè‡ªåŠ¨å¤„ç†å’Œä¿®å¤å‘½ä»¤ï¼Œå› æ­¤å¯ä»¥ä¸ä½¿ç”¨ <code>\</code> è½¬ä¹‰ã€‚å¦‚æœå…¶ä»–ç¯å¢ƒä¸­æ‰§è¡Œè¯¥å‘½ä»¤æç¤º <code>zsh: no matches found: /usr/share/*.jpg</code>ï¼Œåˆ™å¯ä»¥åœ¨ <code>.zshrc</code> ä¸­æ·»åŠ ä¸Šè¿°é…ç½®ï¼Œæˆ–è€…ä½¿ç”¨ <code>\</code> è½¬ä¹‰ã€‚</p></blockquote><div class="tag-plugin image"><div class="image-bg"><img src="https://raw.githubusercontent.com/holdyounger/ScopeBlog/rc_images/Images/Linux%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/images/5%20%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E4%B8%8E%E6%96%87%E4%BB%B6%E6%9F%A5%E6%89%BE/uid871732-20200303-1583226161762.png"/></div></div><p>å¦‚æœæƒ³åªç»Ÿè®¡æ•°ç›®å¯ä»¥åŠ ä¸Š <code>-c</code> å‚æ•°ï¼Œ<code>-i</code> å‚æ•°å¯ä»¥å¿½ç•¥å¤§å°å†™è¿›è¡ŒæŸ¥æ‰¾ï¼Œ<code>whereis</code> çš„ <code>-b</code>ã€<code>-m</code>ã€<code>-s</code> åŒæ ·å¯ä»¥ä½¿ç”¨ã€‚</p><ul><li><code>which</code> å°è€Œç²¾</li></ul><p><code>which</code> æœ¬èº«æ˜¯ Shell å†…å»ºçš„ä¸€ä¸ªå‘½ä»¤ï¼Œæˆ‘ä»¬é€šå¸¸ä½¿ç”¨ <code>which</code> æ¥ç¡®å®šæ˜¯å¦å®‰è£…äº†æŸä¸ªæŒ‡å®šçš„ç¨‹åºï¼Œå› ä¸ºå®ƒåªä» <code>PATH</code> ç¯å¢ƒå˜é‡æŒ‡å®šçš„è·¯å¾„ä¸­å»æœç´¢å‘½ä»¤å¹¶ä¸”è¿”å›ç¬¬ä¸€ä¸ªæœç´¢åˆ°çš„ç»“æœã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°æŸä¸ªç³»ç»Ÿå‘½ä»¤æ˜¯å¦å­˜åœ¨ä»¥åŠæ‰§è¡Œçš„åˆ°åº•æ˜¯å“ªä¸€ä¸ªåœ°æ–¹çš„å‘½ä»¤ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">which</span> man</span><br><span class="line"><span class="built_in">which</span> nginx</span><br><span class="line"><span class="built_in">which</span> ping</span><br></pre></td></tr></table></figure><div class="tag-plugin image"><div class="image-bg"><img src="https://raw.githubusercontent.com/holdyounger/ScopeBlog/rc_images/Images/Linux%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/images/5%20%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E4%B8%8E%E6%96%87%E4%BB%B6%E6%9F%A5%E6%89%BE/uid871732-20200303-1583226577160.png"/></div></div><ul><li><code>find</code> ç²¾è€Œç»†</li></ul><p><code>find</code> åº”è¯¥æ˜¯è¿™å‡ ä¸ªå‘½ä»¤ä¸­æœ€å¼ºå¤§çš„äº†ï¼Œå®ƒä¸ä½†å¯ä»¥é€šè¿‡æ–‡ä»¶ç±»å‹ã€æ–‡ä»¶åè¿›è¡ŒæŸ¥æ‰¾è€Œä¸”å¯ä»¥æ ¹æ®æ–‡ä»¶çš„å±æ€§ï¼ˆå¦‚æ–‡ä»¶çš„æ—¶é—´æˆ³ï¼Œæ–‡ä»¶çš„æƒé™ç­‰ï¼‰è¿›è¡Œæœç´¢ã€‚<code>find</code> å‘½ä»¤å¼ºå¤§åˆ°ï¼Œè¦æŠŠå®ƒè®²æ˜ç™½è‡³å°‘éœ€è¦å•ç‹¬å¥½å‡ èŠ‚è¯¾ç¨‹æ‰è¡Œï¼Œæˆ‘ä»¬è¿™é‡Œåªä»‹ç»ä¸€äº›å¸¸ç”¨çš„å†…å®¹ã€‚</p><p>è¿™æ¡å‘½ä»¤è¡¨ç¤ºå» <code>/etc/</code> ç›®å½•ä¸‹é¢ ï¼Œæœç´¢åå­—å«åš interfaces çš„æ–‡ä»¶æˆ–è€…ç›®å½•ã€‚è¿™æ˜¯ <code>find</code> å‘½ä»¤æœ€å¸¸è§çš„æ ¼å¼ï¼Œåƒä¸‡è®°ä½ <code>find</code> çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è¦æœç´¢çš„åœ°æ–¹ã€‚å‘½ä»¤å‰é¢åŠ ä¸Š <code>sudo</code> æ˜¯å› ä¸º shiyanlou åªæ˜¯æ™®é€šç”¨æˆ·ï¼Œå¯¹ <code>/etc</code> ç›®å½•ä¸‹çš„å¾ˆå¤šæ–‡ä»¶éƒ½æ²¡æœ‰è®¿é—®çš„æƒé™ï¼Œå¦‚æœæ˜¯ root ç”¨æˆ·åˆ™ä¸ç”¨ä½¿ç”¨ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo find /etc/ -name interfaces</span><br></pre></td></tr></table></figure><div class="tag-plugin image"><div class="image-bg"><img src="https://raw.githubusercontent.com/holdyounger/ScopeBlog/rc_images/Images/Linux%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/images/5%20%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E4%B8%8E%E6%96%87%E4%BB%B6%E6%9F%A5%E6%89%BE/uid871732-20200303-1583226847941.png"/></div></div><blockquote><p><strong>æ³¨æ„ find å‘½ä»¤çš„è·¯å¾„æ˜¯ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°çš„ï¼Œ åŸºæœ¬å‘½ä»¤æ ¼å¼ä¸º find [path][option] [action] ã€‚</strong></p></blockquote><p>ä¸æ—¶é—´ç›¸å…³çš„å‘½ä»¤å‚æ•°ï¼š</p><table><thead><tr><th>å‚æ•°</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>-atime</code></td><td>æœ€åè®¿é—®æ—¶é—´</td></tr><tr><td><code>-ctime</code></td><td>æœ€åä¿®æ”¹æ–‡ä»¶å†…å®¹çš„æ—¶é—´</td></tr><tr><td><code>-mtime</code></td><td>æœ€åä¿®æ”¹æ–‡ä»¶å±æ€§çš„æ—¶é—´</td></tr></tbody></table><p>ä¸‹é¢ä»¥ <code>-mtime</code> å‚æ•°ä¸¾ä¾‹ï¼š</p><ul><li><code>-mtime n</code>ï¼šn ä¸ºæ•°å­—ï¼Œè¡¨ç¤ºä¸ºåœ¨ n å¤©ä¹‹å‰çš„â€œä¸€å¤©ä¹‹å†…â€ä¿®æ”¹è¿‡çš„æ–‡ä»¶</li><li><code>-mtime +n</code>ï¼šåˆ—å‡ºåœ¨ n å¤©ä¹‹å‰ï¼ˆä¸åŒ…å« n å¤©æœ¬èº«ï¼‰è¢«ä¿®æ”¹è¿‡çš„æ–‡ä»¶</li><li><code>-mtime -n</code>ï¼šåˆ—å‡ºåœ¨ n å¤©ä¹‹å†…ï¼ˆåŒ…å« n å¤©æœ¬èº«ï¼‰è¢«ä¿®æ”¹è¿‡çš„æ–‡ä»¶</li><li><code>-newer file</code>ï¼šfile ä¸ºä¸€ä¸ªå·²å­˜åœ¨çš„æ–‡ä»¶ï¼Œåˆ—å‡ºæ¯” file è¿˜è¦æ–°çš„æ–‡ä»¶å</li></ul><div class="tag-plugin image"><div class="image-bg"><img src="https://raw.githubusercontent.com/holdyounger/ScopeBlog/rc_images/Images/Linux%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/images/5%20%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E4%B8%8E%E6%96%87%E4%BB%B6%E6%9F%A5%E6%89%BE/5-8.png"/></div></div><p>åˆ—å‡º home ç›®å½•ä¸­ï¼Œå½“å¤©ï¼ˆ24 å°æ—¶ä¹‹å†…ï¼‰æœ‰æ”¹åŠ¨çš„æ–‡ä»¶ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find ~ -mtime 0</span><br></pre></td></tr></table></figure><div class="tag-plugin image"><div class="image-bg"><img src="https://raw.githubusercontent.com/holdyounger/ScopeBlog/rc_images/Images/Linux%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/images/5%20%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E4%B8%8E%E6%96%87%E4%BB%B6%E6%9F%A5%E6%89%BE/uid871732-20200303-1583226953512.png"/></div></div><p>åˆ—å‡ºç”¨æˆ·å®¶ç›®å½•ä¸‹æ¯” &#x2F;etc ç›®å½•æ–°çš„æ–‡ä»¶ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find ~ -newer /etc</span><br></pre></td></tr></table></figure><div class="tag-plugin image"><div class="image-bg"><img src="https://raw.githubusercontent.com/holdyounger/ScopeBlog/rc_images/Images/Linux%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/images/5%20%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E4%B8%8E%E6%96%87%E4%BB%B6%E6%9F%A5%E6%89%BE/uid871732-20200303-1583227074890.png"/></div></div>]]></content>
      
      
      <categories>
          
          <category> OS </category>
          
          <category> Linux </category>
          
          <category> LinuxåŸºç¡€å…¥é—¨ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux åŸºç¡€å…¥é—¨</title>
      <link href="/OS/Linux/Linux%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/Readme/"/>
      <url>/OS/Linux/Linux%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/Readme/</url>
      
        <content type="html"><![CDATA[<blockquote><p>å®éªŒæ¥¼ Linux åŸºç¡€å…¥é—¨å­¦ä¹ æ•´ç†</p></blockquote><h1 id="linux-åŸºç¡€å…¥é—¨"><a href="#linux-åŸºç¡€å…¥é—¨" class="headerlink" title="linux åŸºç¡€å…¥é—¨"></a>linux åŸºç¡€å…¥é—¨</h1><ol start="5"><li><p><a href="./5%20%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E4%B8%8E%E6%96%87%E4%BB%B6%E6%9F%A5%E6%89%BE.md">5 ç¯å¢ƒå˜é‡ä¸æ–‡ä»¶æŸ¥æ‰¾</a></p></li><li><p><a href="./15%20Linux%20%E8%BF%9B%E7%A8%8B%E6%A6%82%E5%BF%B5.md">15 Linux è¿›ç¨‹æ¦‚å¿µ</a></p></li></ol>]]></content>
      
      
      <categories>
          
          <category> OS </category>
          
          <category> Linux </category>
          
          <category> LinuxåŸºç¡€å…¥é—¨ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> å†…æ ¸ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux å†…æ ¸åˆ†æé…å¥—å®éªŒ</title>
      <link href="/OS/Linux/Linux%E5%86%85%E6%A0%B8%E5%88%86%E6%9E%90%E9%85%8D%E5%A5%97%E5%AE%9E%E9%AA%8C/Readme/"/>
      <url>/OS/Linux/Linux%E5%86%85%E6%A0%B8%E5%88%86%E6%9E%90%E9%85%8D%E5%A5%97%E5%AE%9E%E9%AA%8C/Readme/</url>
      
        <content type="html"><![CDATA[<h1 id="linux-å†…æ ¸åˆ†æé…å¥—å®éªŒå­¦ä¹ è®°å½•"><a href="#linux-å†…æ ¸åˆ†æé…å¥—å®éªŒå­¦ä¹ è®°å½•" class="headerlink" title="linux å†…æ ¸åˆ†æé…å¥—å®éªŒå­¦ä¹ è®°å½•"></a>linux å†…æ ¸åˆ†æé…å¥—å®éªŒå­¦ä¹ è®°å½•</h1><p>æœ¬èŠ‚è®°å½•å®éªŒæ¥¼Linuxå†…æ ¸å­¦ä¹ è®°å½•</p><ol><li><a href="./1%20%E5%AE%8C%E6%88%90%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E6%97%B6%E9%97%B4%E7%89%87%E8%BD%AE%E8%BD%AC%E8%BA%B2%E5%88%B0%E7%A8%8B%E5%BA%8F%E5%86%85%E6%A0%B8%E4%BB%A3%E7%A0%81.md">1 å®Œæˆä¸€ä¸ªç®€å•çš„æ—¶é—´ç‰‡è½®è½¬èº²åˆ°ç¨‹åºå†…æ ¸ä»£ç </a></li><li><a href="./2%20%E8%B7%9F%E8%B8%AA%E5%88%86%E6%9E%90Linux%E5%86%85%E6%A0%B8%E7%9A%84%E5%90%AF%E5%8A%A8%E8%BF%87%E7%A8%8B.md">2 è·Ÿè¸ªåˆ†æLinuxå†…æ ¸çš„å¯åŠ¨è¿‡ç¨‹</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> OS </category>
          
          <category> Linux </category>
          
          <category> Linuxå†…æ ¸åˆ†æé…å¥—å®éªŒ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> å†…æ ¸ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>LinuxåŸºç¡€å…¥é—¨15 Linuxè¿›ç¨‹æ¦‚å¿µ</title>
      <link href="/OS/Linux/Linux%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/15%20Linux%20%E8%BF%9B%E7%A8%8B%E6%A6%82%E5%BF%B5/"/>
      <url>/OS/Linux/Linux%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/15%20Linux%20%E8%BF%9B%E7%A8%8B%E6%A6%82%E5%BF%B5/</url>
      
        <content type="html"><![CDATA[<p>Linux è¿›ç¨‹æ¦‚å¿µ</p><p>[toc]</p><h1 id="1-æ¦‚å¿µçš„ç†è§£"><a href="#1-æ¦‚å¿µçš„ç†è§£" class="headerlink" title="1 æ¦‚å¿µçš„ç†è§£"></a>1 æ¦‚å¿µçš„ç†è§£</h1><p>é¦–å…ˆç¨‹åºä¸è¿›ç¨‹æ˜¯ä»€ä¹ˆï¼Ÿç¨‹åºä¸è¿›ç¨‹åˆæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</p><blockquote><p><strong>ç¨‹åº</strong>ï¼ˆprocedureï¼‰ï¼šä¸å¤ªç²¾ç¡®åœ°è¯´ï¼Œç¨‹åºå°±æ˜¯æ‰§è¡Œä¸€ç³»åˆ—æœ‰é€»è¾‘ã€æœ‰é¡ºåºç»“æ„çš„æŒ‡ä»¤ï¼Œå¸®æˆ‘ä»¬è¾¾æˆæŸä¸ªç»“æœã€‚å°±å¦‚æˆ‘ä»¬å»é¤é¦†ï¼Œç»™æœåŠ¡å‘˜è¯´æˆ‘è¦ç‰›è‚‰ç›–æµ‡é¥­ï¼Œå¥¹æ‰§è¡Œäº†åšç‰›è‚‰ç›–æµ‡é¥­è¿™ä¹ˆä¸€ä¸ªç¨‹åºï¼Œæœ€åæˆ‘ä»¬å¾—åˆ°äº†è¿™ä¹ˆä¸€ç›˜ç‰›è‚‰ç›–æµ‡é¥­ã€‚å®ƒéœ€è¦å»æ‰§è¡Œï¼Œä¸ç„¶å®ƒå°±åƒä¸€æœ¬æ­¦åŠŸç§˜ç±ï¼Œæ”¾åœ¨é‚£é‡Œç­‰äººç¿»çœ‹ã€‚</p></blockquote><blockquote><p><strong>è¿›ç¨‹</strong>ï¼ˆprocessï¼‰ï¼šè¿›ç¨‹æ˜¯ç¨‹åºåœ¨ä¸€ä¸ªæ•°æ®é›†åˆä¸Šçš„ä¸€æ¬¡æ‰§è¡Œè¿‡ç¨‹ï¼Œåœ¨æ—©æœŸçš„ UNIXã€Linux 2.4 åŠæ›´æ—©çš„ç‰ˆæœ¬ä¸­ï¼Œå®ƒæ˜¯ç³»ç»Ÿè¿›è¡Œèµ„æºåˆ†é…å’Œè°ƒåº¦çš„ç‹¬ç«‹åŸºæœ¬å•ä½ã€‚åŒä¸Šä¸€ä¸ªä¾‹å­ï¼Œå°±å¦‚æˆ‘ä»¬å»äº†é¤é¦†ï¼Œç»™æœåŠ¡å‘˜è¯´æˆ‘è¦ç‰›è‚‰ç›–æµ‡é¥­ï¼Œå¥¹æ‰§è¡Œäº†åšç‰›è‚‰ç›–æµ‡é¥­è¿™ä¹ˆä¸€ä¸ªç¨‹åºï¼Œè€Œé‡Œé¢åšé¥­çš„æ˜¯ä¸€ä¸ªè¿›ç¨‹ï¼Œåšç‰›è‚‰æ±¤æ±çš„æ˜¯ä¸€ä¸ªè¿›ç¨‹ï¼ŒæŠŠç‰›è‚‰æ±¤æ±ä¸é¥­æ··åˆåœ¨ä¸€èµ·çš„æ˜¯ä¸€ä¸ªè¿›ç¨‹ï¼ŒæŠŠé¥­ç«¯ä¸Šæ¡Œçš„æ˜¯ä¸€ä¸ªè¿›ç¨‹ã€‚å®ƒå°±åƒæ˜¯æˆ‘ä»¬åœ¨çœ‹æ­¦åŠŸç§˜ç±è¿™ä¹ˆä¸€ä¸ªè¿‡ç¨‹ï¼Œç„¶åä¸€ä¸ªç¯‡ç« ä¸€ä¸ªç¯‡ç« åœ°å»ç»ƒã€‚</p></blockquote><p>ç®€å•æ¥è¯´ï¼Œç¨‹åºæ˜¯ä¸ºäº†å®ŒæˆæŸç§ä»»åŠ¡è€Œè®¾è®¡çš„è½¯ä»¶ï¼Œæ¯”å¦‚ vim æ˜¯ç¨‹åºã€‚ä»€ä¹ˆæ˜¯è¿›ç¨‹å‘¢ï¼Ÿè¿›ç¨‹å°±æ˜¯è¿è¡Œä¸­çš„ç¨‹åºã€‚</p><p>ç¨‹åºåªæ˜¯ä¸€äº›åˆ—æŒ‡ä»¤çš„é›†åˆï¼Œæ˜¯ä¸€ä¸ªé™æ­¢çš„å®ä½“ï¼Œè€Œè¿›ç¨‹ä¸åŒï¼Œè¿›ç¨‹æœ‰ä»¥ä¸‹çš„ç‰¹æ€§ï¼š</p><ul><li>åŠ¨æ€æ€§ï¼šè¿›ç¨‹çš„å®è´¨æ˜¯ä¸€æ¬¡ç¨‹åºæ‰§è¡Œçš„è¿‡ç¨‹ï¼Œæœ‰åˆ›å»ºã€æ’¤é”€ç­‰çŠ¶æ€çš„å˜åŒ–ã€‚è€Œç¨‹åºæ˜¯ä¸€ä¸ªé™æ€çš„å®ä½“ã€‚</li><li>å¹¶å‘æ€§ï¼šè¿›ç¨‹å¯ä»¥åšåˆ°åœ¨ä¸€ä¸ªæ—¶é—´æ®µå†…ï¼Œæœ‰å¤šä¸ªç¨‹åºåœ¨è¿è¡Œä¸­ã€‚ç¨‹åºåªæ˜¯é™æ€çš„å®ä½“ï¼Œæ‰€ä»¥ä¸å­˜åœ¨å¹¶å‘æ€§ã€‚</li><li>ç‹¬ç«‹æ€§ï¼šè¿›ç¨‹å¯ä»¥ç‹¬ç«‹åˆ†é…èµ„æºï¼Œç‹¬ç«‹æ¥å—è°ƒåº¦ï¼Œç‹¬ç«‹åœ°è¿è¡Œã€‚</li><li>å¼‚æ­¥æ€§ï¼šè¿›ç¨‹ä»¥ä¸å¯é¢„çŸ¥çš„é€Ÿåº¦å‘å‰æ¨è¿›ã€‚</li><li>ç»“æ„æ€§ï¼šè¿›ç¨‹æ‹¥æœ‰ä»£ç æ®µã€æ•°æ®æ®µã€PCBï¼ˆè¿›ç¨‹æ§åˆ¶å—ï¼Œè¿›ç¨‹å­˜åœ¨çš„å”¯ä¸€æ ‡å¿—ï¼‰ã€‚ä¹Ÿæ­£æ˜¯å› ä¸ºæœ‰ç»“æ„æ€§ï¼Œè¿›ç¨‹æ‰å¯ä»¥åšåˆ°ç‹¬ç«‹åœ°è¿è¡Œã€‚</li></ul><blockquote><p><strong>å¹¶å‘ï¼š</strong>åœ¨ä¸€ä¸ªæ—¶é—´æ®µå†…ï¼Œå®è§‚æ¥çœ‹æœ‰å¤šä¸ªç¨‹åºéƒ½åœ¨æ´»åŠ¨ï¼Œæœ‰æ¡ä¸ç´Šçš„æ‰§è¡Œï¼ˆæ¯ä¸€ç¬é—´åªæœ‰ä¸€ä¸ªåœ¨æ‰§è¡Œï¼Œåªæ˜¯åœ¨ä¸€æ®µæ—¶é—´æœ‰å¤šä¸ªç¨‹åºéƒ½æ‰§è¡Œè¿‡ï¼‰</p></blockquote><blockquote><p><strong>å¹¶è¡Œï¼š</strong>åœ¨æ¯ä¸€ä¸ªç¬é—´ï¼Œéƒ½æœ‰å¤šä¸ªç¨‹åºéƒ½åœ¨åŒæ—¶æ‰§è¡Œï¼Œè¿™ä¸ªå¿…é¡»æœ‰å¤šä¸ª CPU æ‰è¡Œ</p></blockquote><p>å¼•å…¥è¿›ç¨‹æ˜¯å› ä¸ºä¼ ç»Ÿæ„ä¹‰ä¸Šçš„ç¨‹åºå·²ç»ä¸è¶³ä»¥æè¿° OS ä¸­å„ç§æ´»åŠ¨ä¹‹é—´çš„åŠ¨æ€æ€§ã€å¹¶å‘æ€§ã€ç‹¬ç«‹æ€§è¿˜æœ‰ç›¸äº’åˆ¶çº¦æ€§ã€‚ç¨‹åºå°±åƒä¸€ä¸ªå…¬å¸ï¼Œåªæ˜¯ä¸€äº›è¯ä¹¦ï¼Œæ–‡ä»¶çš„å †ç§¯ï¼ˆé™æ€å®ä½“ï¼‰ã€‚è€Œå½“å…¬å¸è¿ä½œèµ·æ¥å°±æœ‰å„ä¸ªéƒ¨é—¨çš„åŒºåˆ†ï¼Œè´¢åŠ¡éƒ¨ï¼ŒæŠ€æœ¯éƒ¨ï¼Œé”€å”®éƒ¨ç­‰ç­‰ï¼Œå°±åƒå„ä¸ªè¿›ç¨‹ï¼Œå„ä¸ªéƒ¨é—¨ä¹‹é—´å¯ä»¥ç‹¬ç«‹è¿ä½œï¼Œä¹Ÿå¯ä»¥æœ‰äº¤äº’ï¼ˆç‹¬ç«‹æ€§ã€å¹¶å‘æ€§ï¼‰ã€‚</p><p>è€Œéšç€ç¨‹åºçš„å‘å±•è¶Šåšè¶Šå¤§ï¼Œåˆä¼šç»§ç»­ç»†åˆ†ï¼Œä»è€Œå¼•å…¥äº†çº¿ç¨‹çš„æ¦‚å¿µï¼Œå½“ä»£å¤šæ•°æ“ä½œç³»ç»Ÿã€Linux 2.6 åŠæ›´æ–°çš„ç‰ˆæœ¬ä¸­ï¼Œè¿›ç¨‹æœ¬èº«ä¸æ˜¯åŸºæœ¬è¿è¡Œå•ä½ï¼Œè€Œæ˜¯çº¿ç¨‹çš„å®¹å™¨ã€‚å°±åƒä¸Šè¿°æ‰€è¯´çš„ï¼Œæ¯ä¸ªéƒ¨é—¨åˆä¼šç»†åˆ†ä¸ºå„ä¸ªå·¥ä½œå°ç»„ï¼ˆçº¿ç¨‹ï¼‰ï¼Œè€Œå·¥ä½œå°ç»„éœ€è¦çš„èµ„æºéœ€è¦å‘ä¸Šçº§ï¼ˆè¿›ç¨‹ï¼‰ç”³è¯·ã€‚</p><blockquote><p><strong>çº¿ç¨‹</strong>ï¼ˆthreadï¼‰æ˜¯æ“ä½œç³»ç»Ÿèƒ½å¤Ÿè¿›è¡Œè¿ç®—è°ƒåº¦çš„æœ€å°å•ä½ã€‚å®ƒè¢«åŒ…å«åœ¨è¿›ç¨‹ä¹‹ä¸­ï¼Œæ˜¯è¿›ç¨‹ä¸­çš„å®é™…è¿ä½œå•ä½ã€‚ä¸€æ¡çº¿ç¨‹æŒ‡çš„æ˜¯è¿›ç¨‹ä¸­ä¸€ä¸ªå•ä¸€é¡ºåºçš„æ§åˆ¶æµï¼Œä¸€ä¸ªè¿›ç¨‹ä¸­å¯ä»¥å¹¶å‘å¤šä¸ªçº¿ç¨‹ï¼Œæ¯æ¡çº¿ç¨‹å¹¶è¡Œæ‰§è¡Œä¸åŒçš„ä»»åŠ¡ã€‚å› ä¸ºçº¿ç¨‹ä¸­å‡ ä¹ä¸åŒ…å«ç³»ç»Ÿèµ„æºï¼Œæ‰€ä»¥æ‰§è¡Œæ›´å¿«ã€æ›´æœ‰æ•ˆç‡ã€‚</p></blockquote><p>ç®€è€Œè¨€ä¹‹ï¼Œä¸€ä¸ªç¨‹åºè‡³å°‘æœ‰ä¸€ä¸ªè¿›ç¨‹ï¼Œä¸€ä¸ªè¿›ç¨‹è‡³å°‘æœ‰ä¸€ä¸ªçº¿ç¨‹ã€‚çº¿ç¨‹çš„åˆ’åˆ†å°ºåº¦å°äºè¿›ç¨‹ï¼Œä½¿å¾—å¤šçº¿ç¨‹ç¨‹åºçš„å¹¶å‘æ€§é«˜ã€‚å¦å¤–ï¼Œè¿›ç¨‹åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­æ‹¥æœ‰ç‹¬ç«‹çš„å†…å­˜å•å…ƒï¼Œè€Œå¤šä¸ªçº¿ç¨‹å…±äº«å†…å­˜ï¼Œä»è€Œæå¤§åœ°æé«˜äº†ç¨‹åºçš„è¿è¡Œæ•ˆç‡ã€‚</p><h1 id="2-è¿›ç¨‹çš„å±æ€§"><a href="#2-è¿›ç¨‹çš„å±æ€§" class="headerlink" title="2 è¿›ç¨‹çš„å±æ€§"></a>2 è¿›ç¨‹çš„å±æ€§</h1><h2 id="2-1-è¿›ç¨‹çš„åˆ†ç±»"><a href="#2-1-è¿›ç¨‹çš„åˆ†ç±»" class="headerlink" title="2.1 è¿›ç¨‹çš„åˆ†ç±»"></a>2.1 è¿›ç¨‹çš„åˆ†ç±»</h2><p>å¤§æ¦‚æ˜ç™½è¿›ç¨‹æ˜¯ä¸ªä»€ä¹ˆæ ·çš„å­˜åœ¨åï¼Œæˆ‘ä»¬éœ€è¦è¿›ä¸€æ­¥äº†è§£çš„å°±æ˜¯è¿›ç¨‹åˆ†ç±»ã€‚å¯ä»¥ä»ä¸¤ä¸ªè§’åº¦æ¥åˆ†ï¼š</p><ul><li>ä»¥è¿›ç¨‹çš„åŠŸèƒ½ä¸æœåŠ¡çš„å¯¹è±¡æ¥åˆ†ï¼›</li><li>ä»¥åº”ç”¨ç¨‹åºçš„æœåŠ¡ç±»å‹æ¥åˆ†ï¼›</li></ul><p>ç¬¬ä¸€ä¸ªè§’åº¦æ¥çœ‹ï¼Œæˆ‘ä»¬å¯ä»¥åˆ†ä¸ºç”¨æˆ·è¿›ç¨‹ä¸ç³»ç»Ÿè¿›ç¨‹ï¼š</p><ul><li>ç”¨æˆ·è¿›ç¨‹ï¼šé€šè¿‡æ‰§è¡Œç”¨æˆ·ç¨‹åºã€åº”ç”¨ç¨‹åºæˆ–ç§°ä¹‹ä¸ºå†…æ ¸ä¹‹å¤–çš„ç³»ç»Ÿç¨‹åºè€Œäº§ç”Ÿçš„è¿›ç¨‹ï¼Œæ­¤ç±»è¿›ç¨‹å¯ä»¥åœ¨ç”¨æˆ·çš„æ§åˆ¶ä¸‹è¿è¡Œæˆ–å…³é—­ã€‚</li><li>ç³»ç»Ÿè¿›ç¨‹ï¼šé€šè¿‡æ‰§è¡Œç³»ç»Ÿå†…æ ¸ç¨‹åºè€Œäº§ç”Ÿçš„è¿›ç¨‹ï¼Œæ¯”å¦‚å¯ä»¥æ‰§è¡Œå†…å­˜èµ„æºåˆ†é…å’Œè¿›ç¨‹åˆ‡æ¢ç­‰ç›¸å¯¹åº•å±‚çš„å·¥ä½œï¼›è€Œä¸”è¯¥è¿›ç¨‹çš„è¿è¡Œä¸å—ç”¨æˆ·çš„å¹²é¢„ï¼Œå³ä½¿æ˜¯ root ç”¨æˆ·ä¹Ÿä¸èƒ½å¹²é¢„ç³»ç»Ÿè¿›ç¨‹çš„è¿è¡Œã€‚</li></ul><p>ç¬¬äºŒè§’åº¦æ¥çœ‹ï¼Œæˆ‘ä»¬å¯ä»¥å°†è¿›ç¨‹åˆ†ä¸ºäº¤äº’è¿›ç¨‹ã€æ‰¹å¤„ç†è¿›ç¨‹ã€å®ˆæŠ¤è¿›ç¨‹ï¼š</p><ul><li>äº¤äº’è¿›ç¨‹ï¼šç”±ä¸€ä¸ª shell ç»ˆç«¯å¯åŠ¨çš„è¿›ç¨‹ï¼Œåœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œéœ€è¦ä¸ç”¨æˆ·è¿›è¡Œäº¤äº’æ“ä½œï¼Œå¯ä»¥è¿è¡Œäºå‰å°ï¼Œä¹Ÿå¯ä»¥è¿è¡Œåœ¨åå°ã€‚</li><li>æ‰¹å¤„ç†è¿›ç¨‹ï¼šè¯¥è¿›ç¨‹æ˜¯ä¸€ä¸ªè¿›ç¨‹é›†åˆï¼Œè´Ÿè´£æŒ‰é¡ºåºå¯åŠ¨å…¶ä»–çš„è¿›ç¨‹ã€‚</li><li>å®ˆæŠ¤è¿›ç¨‹ï¼šå®ˆæŠ¤è¿›ç¨‹æ˜¯ä¸€ç›´è¿è¡Œçš„ä¸€ç§è¿›ç¨‹ï¼Œåœ¨ Linux ç³»ç»Ÿå¯åŠ¨æ—¶å¯åŠ¨ï¼Œåœ¨ç³»ç»Ÿå…³é—­æ—¶ç»ˆæ­¢ã€‚å®ƒä»¬ç‹¬ç«‹äºæ§åˆ¶ç»ˆç«¯å¹¶ä¸”å‘¨æœŸæ€§çš„æ‰§è¡ŒæŸç§ä»»åŠ¡æˆ–ç­‰å¾…å¤„ç†æŸäº›å‘ç”Ÿçš„äº‹ä»¶ã€‚ä¾‹å¦‚ httpd è¿›ç¨‹ï¼Œä¸€ç›´å¤„äºè¿è¡ŒçŠ¶æ€ï¼Œç­‰å¾…ç”¨æˆ·çš„è®¿é—®ã€‚è¿˜æœ‰ç»å¸¸ç”¨çš„ cronï¼ˆåœ¨ centOS ç³»åˆ—ä¸º crondï¼‰è¿›ç¨‹ï¼Œè¿™ä¸ªè¿›ç¨‹ä¸º crontab çš„å®ˆæŠ¤è¿›ç¨‹ï¼Œå¯ä»¥å‘¨æœŸæ€§çš„æ‰§è¡Œç”¨æˆ·è®¾å®šçš„æŸäº›ä»»åŠ¡ã€‚</li></ul><h2 id="2-2-è¿›ç¨‹çš„è¡ç”Ÿ"><a href="#2-2-è¿›ç¨‹çš„è¡ç”Ÿ" class="headerlink" title="2.2 è¿›ç¨‹çš„è¡ç”Ÿ"></a>2.2 è¿›ç¨‹çš„è¡ç”Ÿ</h2><p>è¿›ç¨‹æœ‰è¿™ä¹ˆå¤šçš„ç§ç±»ï¼Œé‚£ä¹ˆè¿›ç¨‹ä¹‹é—´å®šæ˜¯æœ‰ç›¸å…³æ€§çš„ï¼Œè€Œè¿™äº›æœ‰å…³è”æ€§çš„è¿›ç¨‹åˆæ˜¯å¦‚ä½•äº§ç”Ÿçš„ï¼Œå¦‚ä½•è¡ç”Ÿçš„ï¼Ÿ</p><p>å°±æ¯”å¦‚æˆ‘ä»¬å¯åŠ¨äº†ç»ˆç«¯ï¼Œå°±æ˜¯å¯åŠ¨äº†ä¸€ä¸ª bash è¿›ç¨‹ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ bash ä¸­å†è¾“å…¥ bash åˆ™ä¼šå†å¯åŠ¨ä¸€ä¸ª bash çš„è¿›ç¨‹ï¼Œæ­¤æ—¶ç¬¬äºŒä¸ª bash è¿›ç¨‹å°±æ˜¯ç”±ç¬¬ä¸€ä¸ª bash è¿›ç¨‹åˆ›å»ºå‡ºæ¥çš„ï¼Œä»–ä»¬ä¹‹é—´åˆæ˜¯ä¸ªä»€ä¹ˆå…³ç³»ï¼Ÿ</p><p>æˆ‘ä»¬ä¸€èˆ¬ç§°å‘¼ç¬¬ä¸€ä¸ª bash è¿›ç¨‹æ˜¯ç¬¬äºŒ bash è¿›ç¨‹çš„çˆ¶è¿›ç¨‹ï¼Œç¬¬äºŒ bash è¿›ç¨‹æ˜¯ç¬¬ä¸€ä¸ª bash è¿›ç¨‹çš„å­è¿›ç¨‹ï¼Œè¿™å±‚å…³ç³»æ˜¯å¦‚ä½•å¾—æ¥çš„å‘¢ï¼Ÿ</p><p>å…³äºçˆ¶è¿›ç¨‹ä¸å­è¿›ç¨‹ä¾¿ä¼šæåŠè¿™ä¸¤ä¸ªç³»ç»Ÿè°ƒç”¨ <code>fork()</code> ä¸ <code>exec()</code></p><blockquote><p><strong>fork-exec</strong>æ˜¯ç”± Dennis M. Ritchie åˆ›é€ çš„</p></blockquote><blockquote><p><strong>fork()</strong> æ˜¯ä¸€ä¸ªç³»ç»Ÿè°ƒç”¨ï¼ˆsystem callï¼‰ï¼Œå®ƒçš„ä¸»è¦ä½œç”¨å°±æ˜¯ä¸ºå½“å‰çš„è¿›ç¨‹åˆ›å»ºä¸€ä¸ªæ–°çš„è¿›ç¨‹ï¼Œè¿™ä¸ªæ–°çš„è¿›ç¨‹å°±æ˜¯å®ƒçš„å­è¿›ç¨‹ï¼Œè¿™ä¸ªå­è¿›ç¨‹é™¤äº†çˆ¶è¿›ç¨‹çš„è¿”å›å€¼å’Œ PID ä»¥å¤–å…¶ä»–çš„éƒ½ä¸€æ¨¡ä¸€æ ·ï¼Œå¦‚è¿›ç¨‹çš„æ‰§è¡Œä»£ç æ®µï¼Œå†…å­˜ä¿¡æ¯ï¼Œæ–‡ä»¶æè¿°ï¼Œå¯„å­˜å™¨çŠ¶æ€ç­‰ç­‰</p></blockquote><blockquote><p><strong>exec()</strong> ä¹Ÿæ˜¯ç³»ç»Ÿè°ƒç”¨ï¼Œä½œç”¨æ˜¯åˆ‡æ¢å­è¿›ç¨‹ä¸­çš„æ‰§è¡Œç¨‹åºä¹Ÿå°±æ˜¯æ›¿æ¢å…¶ä»çˆ¶è¿›ç¨‹å¤åˆ¶è¿‡æ¥çš„ä»£ç æ®µä¸æ•°æ®æ®µ</p></blockquote><p>å­è¿›ç¨‹å°±æ˜¯çˆ¶è¿›ç¨‹é€šè¿‡ç³»ç»Ÿè°ƒç”¨ <code>fork()</code> è€Œäº§ç”Ÿçš„å¤åˆ¶å“ï¼Œ<code>fork()</code> å°±æ˜¯æŠŠçˆ¶è¿›ç¨‹çš„ PCB ç­‰è¿›ç¨‹çš„æ•°æ®ç»“æ„ä¿¡æ¯ç›´æ¥å¤åˆ¶è¿‡æ¥ï¼Œåªæ˜¯ä¿®æ”¹äº† PIDï¼Œæ‰€ä»¥ä¸€æ¨¡ä¸€æ ·ï¼Œåªæœ‰åœ¨æ‰§è¡Œ <code>exec()</code> ä¹‹åæ‰ä¼šä¸åŒï¼Œè€Œæ—©å…ˆçš„ <code>fork()</code> æ¯”è¾ƒæ¶ˆè€—èµ„æºåæ¥è¿›åŒ–æˆ <code>vfork()</code>ï¼Œæ•ˆç‡é«˜äº†ä¸å°‘ï¼Œæ„Ÿå…´è¶£çš„åŒå­¦å¯ä»¥æŸ¥æŸ¥ä¸ºä»€ä¹ˆã€‚</p><p>è¿™å°±æ˜¯å­è¿›ç¨‹äº§ç”Ÿçš„ç”±æ¥ã€‚ç®€å•çš„å®ç°é€»è¾‘å°±å¦‚ä¸‹æ–¹æ‰€ç¤ºï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">pid_t</span> p;</span><br><span class="line"></span><br><span class="line">p = fork();</span><br><span class="line"><span class="keyword">if</span> (p == (<span class="type">pid_t</span>) <span class="number">-1</span>)</span><br><span class="line">        <span class="comment">/* ERROR */</span></span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (p == <span class="number">0</span>)</span><br><span class="line">        <span class="comment">/* CHILD */</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">        <span class="comment">/* PARENT */</span></span><br></pre></td></tr></table></figure><p>æ—¢ç„¶å­è¿›ç¨‹æ˜¯é€šè¿‡çˆ¶è¿›ç¨‹è€Œè¡ç”Ÿå‡ºæ¥çš„ï¼Œé‚£ä¹ˆå­è¿›ç¨‹çš„é€€å‡ºä¸èµ„æºçš„å›æ”¶å®šç„¶ä¸çˆ¶è¿›ç¨‹æœ‰å¾ˆå¤§çš„ç›¸å…³æ€§ã€‚å½“ä¸€ä¸ªå­è¿›ç¨‹è¦æ­£å¸¸çš„ç»ˆæ­¢è¿è¡Œæ—¶ï¼Œæˆ–è€…è¯¥è¿›ç¨‹ç»“æŸæ—¶å®ƒçš„ä¸»å‡½æ•° <code>main()</code> ä¼šæ‰§è¡Œ <code>exit(n);</code> æˆ–è€… <code>return n</code>ï¼Œè¿™é‡Œçš„è¿”å›å€¼ n æ˜¯ä¸€ä¸ªä¿¡å·ï¼Œç³»ç»Ÿä¼šæŠŠè¿™ä¸ª SIGCHLD ä¿¡å·ä¼ ç»™å…¶çˆ¶è¿›ç¨‹ï¼Œå½“ç„¶è‹¥æ˜¯å¼‚å¸¸ç»ˆæ­¢ä¹Ÿå¾€å¾€æ˜¯å› ä¸ºè¿™ä¸ªä¿¡å·ã€‚</p><p>åœ¨å°†è¦ç»“æŸæ—¶çš„å­è¿›ç¨‹ä»£ç æ‰§è¡Œéƒ¨åˆ†å·²ç»ç»“æŸæ‰§è¡Œäº†ï¼Œç³»ç»Ÿçš„èµ„æºä¹ŸåŸºæœ¬å½’è¿˜ç»™ç³»ç»Ÿäº†ï¼Œä½†è‹¥æ˜¯å…¶è¿›ç¨‹çš„è¿›ç¨‹æ§åˆ¶å—ï¼ˆPCBï¼‰ä»é©»ç•™åœ¨å†…å­˜ä¸­ï¼Œè€Œå®ƒçš„ PCB è¿˜åœ¨ï¼Œä»£è¡¨è¿™ä¸ªè¿›ç¨‹è¿˜å­˜åœ¨ï¼ˆå› ä¸º PCB å°±æ˜¯è¿›ç¨‹å­˜åœ¨çš„å”¯ä¸€æ ‡å¿—ï¼Œé‡Œé¢æœ‰ PID ç­‰æ¶ˆæ¯ï¼‰ï¼Œå¹¶æ²¡æœ‰æ¶ˆäº¡ï¼Œè¿™æ ·çš„è¿›ç¨‹ç§°ä¹‹ä¸ºåƒµå°¸è¿›ç¨‹ï¼ˆZombieï¼‰ã€‚</p><p>å¦‚å›¾ä¸­ç¬¬å››åˆ—æ ‡é¢˜æ˜¯ Sï¼ŒS è¡¨ç¤ºçš„æ˜¯è¿›ç¨‹çš„çŠ¶æ€ï¼Œè€Œåœ¨ä¸‹å±çš„ç¬¬ä¸‰è¡Œçš„ Z è¡¨ç¤ºçš„æ˜¯ Zombie çš„æ„æ€ã€‚ï¼ˆ ps å‘½ä»¤å°†åœ¨åç»­è¯¦è§£ï¼‰</p><img src="https://raw.githubusercontent.com/holdyounger/ScopeBlog/rc_images/Images/Linux%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/images/15%20Linux%20%E8%BF%9B%E7%A8%8B%E6%A6%82%E5%BF%B5/1135081469027998669.png" alt="å®éªŒæ¥¼" style="zoom:67%;" /><p>æ­£å¸¸æƒ…å†µä¸‹ï¼Œçˆ¶è¿›ç¨‹ä¼šæ”¶åˆ°ä¸¤ä¸ªè¿”å›å€¼ï¼šexit codeï¼ˆSIGCHLD ä¿¡å·ï¼‰ä¸ <code>reason for termination</code> ã€‚ä¹‹åï¼Œçˆ¶è¿›ç¨‹ä¼šä½¿ç”¨ <code>wait(&amp;status)</code> ç³»ç»Ÿè°ƒç”¨ä»¥è·å–å­è¿›ç¨‹çš„é€€å‡ºçŠ¶æ€ï¼Œç„¶åå†…æ ¸å°±å¯ä»¥ä»å†…å­˜ä¸­é‡Šæ”¾å·²ç»“æŸçš„å­è¿›ç¨‹çš„ PCBï¼›è€Œå¦‚è‹¥çˆ¶è¿›ç¨‹æ²¡æœ‰è¿™ä¹ˆåšçš„è¯ï¼Œå­è¿›ç¨‹çš„ PCB å°±ä¼šä¸€ç›´é©»ç•™åœ¨å†…å­˜ä¸­ï¼Œä¸€ç›´ç•™åœ¨ç³»ç»Ÿä¸­æˆä¸ºåƒµå°¸è¿›ç¨‹ï¼ˆZombieï¼‰ã€‚</p><p>è™½ç„¶åƒµå°¸è¿›ç¨‹æ˜¯å·²ç»æ”¾å¼ƒäº†å‡ ä¹æ‰€æœ‰å†…å­˜ç©ºé—´ï¼Œæ²¡æœ‰ä»»ä½•å¯æ‰§è¡Œä»£ç ï¼Œä¹Ÿä¸èƒ½è¢«è°ƒåº¦ï¼Œåœ¨è¿›ç¨‹åˆ—è¡¨ä¸­ä¿ç•™ä¸€ä¸ªä½ç½®ï¼Œè®°è½½è¯¥è¿›ç¨‹çš„é€€å‡ºçŠ¶æ€ç­‰ä¿¡æ¯ä¾›å…¶çˆ¶è¿›ç¨‹æ”¶é›†ï¼Œä»è€Œé‡Šæ”¾å®ƒã€‚ä½†æ˜¯ Linux ç³»ç»Ÿä¸­èƒ½ä½¿ç”¨çš„ PID æ˜¯æœ‰é™çš„ï¼Œå¦‚æœç³»ç»Ÿä¸­å­˜åœ¨æœ‰å¤§é‡çš„åƒµå°¸è¿›ç¨‹ï¼Œç³»ç»Ÿå°†ä¼šå› ä¸ºæ²¡æœ‰å¯ç”¨çš„ PID ä»è€Œå¯¼è‡´ä¸èƒ½äº§ç”Ÿæ–°çš„è¿›ç¨‹ã€‚</p><p>å¦å¤–å¦‚æœçˆ¶è¿›ç¨‹ç»“æŸï¼ˆéæ­£å¸¸çš„ç»“æŸï¼‰ï¼Œæœªèƒ½åŠæ—¶æ”¶å›å­è¿›ç¨‹ï¼Œå­è¿›ç¨‹ä»åœ¨è¿è¡Œï¼Œè¿™æ ·çš„å­è¿›ç¨‹ç§°ä¹‹ä¸ºå­¤å„¿è¿›ç¨‹ã€‚åœ¨ Linux ç³»ç»Ÿä¸­ï¼Œå­¤å„¿è¿›ç¨‹ä¸€èˆ¬ä¼šè¢« init è¿›ç¨‹æ‰€â€œæ”¶å…»â€ï¼Œæˆä¸º init çš„å­è¿›ç¨‹ã€‚ç”± init æ¥åšå–„åå¤„ç†ï¼Œæ‰€ä»¥å®ƒå¹¶ä¸è‡³äºåƒåƒµå°¸è¿›ç¨‹é‚£æ ·æ— äººé—®æ´¥ï¼Œä¸ç®¡ä¸é¡¾ï¼Œå¤§é‡å­˜åœ¨ä¼šæœ‰å±å®³ã€‚</p><p>è¿›ç¨‹ 0 æ˜¯ç³»ç»Ÿå¼•å¯¼æ—¶åˆ›å»ºçš„ä¸€ä¸ªç‰¹æ®Šè¿›ç¨‹ï¼Œä¹Ÿç§°ä¹‹ä¸ºå†…æ ¸åˆå§‹åŒ–ï¼Œå…¶æœ€åä¸€ä¸ªåŠ¨ä½œå°±æ˜¯è°ƒç”¨ <code>fork()</code> åˆ›å»ºå‡ºä¸€ä¸ªå­è¿›ç¨‹è¿è¡Œ <code>/sbin/init</code> å¯æ‰§è¡Œæ–‡ä»¶ï¼Œè€Œè¯¥è¿›ç¨‹å°±æ˜¯ PID&#x3D;1 çš„è¿›ç¨‹ 1ï¼Œè€Œè¿›ç¨‹ 0 å°±è½¬ä¸ºäº¤æ¢è¿›ç¨‹ï¼ˆä¹Ÿè¢«ç§°ä¸ºç©ºé—²è¿›ç¨‹ï¼‰ï¼Œè¿›ç¨‹ 1 ï¼ˆinit è¿›ç¨‹ï¼‰æ˜¯ç¬¬ä¸€ä¸ªç”¨æˆ·æ€çš„è¿›ç¨‹ï¼Œå†ç”±å®ƒä¸æ–­è°ƒç”¨ fork() æ¥åˆ›å»ºç³»ç»Ÿé‡Œå…¶ä»–çš„è¿›ç¨‹ï¼Œæ‰€ä»¥å®ƒæ˜¯æ‰€æœ‰è¿›ç¨‹çš„çˆ¶è¿›ç¨‹æˆ–è€…ç¥–å…ˆè¿›ç¨‹ã€‚åŒæ—¶å®ƒæ˜¯ä¸€ä¸ªå®ˆæŠ¤ç¨‹åºï¼Œç›´åˆ°è®¡ç®—æœºå…³æœºæ‰ä¼šåœæ­¢ã€‚</p><p>é€šè¿‡ä»¥ä¸‹çš„å‘½ä»¤æˆ‘ä»¬å¯ä»¥å¾ˆæ˜æ˜¾çš„çœ‹åˆ°è¿™æ ·çš„ç»“æ„</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pstree</span><br></pre></td></tr></table></figure><img src="https://raw.githubusercontent.com/holdyounger/ScopeBlog/rc_images/Images/Linux%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/images/15%20Linux%20%E8%BF%9B%E7%A8%8B%E6%A6%82%E5%BF%B5/1135081468836854017.png" alt="å®éªŒæ¥¼" style="zoom:67%;" /><p>æˆ–è€…ä»æ­¤å›¾æˆ‘ä»¬å¯ä»¥æ›´åŠ å½¢è±¡çš„çœ‹æ¸…å­çˆ¶è¿›ç¨‹çš„å…³ç³»</p><img src="https://raw.githubusercontent.com/holdyounger/ScopeBlog/rc_images/Images/Linux%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/images/15%20Linux%20%E8%BF%9B%E7%A8%8B%E6%A6%82%E5%BF%B5/1135081469030455439.png" alt="å®éªŒæ¥¼" style="zoom:67%;" /><p>é€šè¿‡ä»¥ä¸Šçš„æ˜¾ç¤ºç»“æœæˆ‘ä»¬å¯ä»¥çœ‹çš„å¾ˆæ¸…æ¥šï¼Œinit ä¸ºæ‰€æœ‰è¿›ç¨‹çš„çˆ¶è¿›ç¨‹æˆ–è€…è¯´æ˜¯ç¥–å…ˆè¿›ç¨‹</p><p>æˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨è¿™æ ·ä¸€ä¸ªå‘½ä»¤æ¥çœ‹ï¼Œå…¶ä¸­ pid å°±æ˜¯è¯¥è¿›ç¨‹çš„ä¸€ä¸ªå”¯ä¸€ç¼–å·ï¼Œppid å°±æ˜¯è¯¥è¿›ç¨‹çš„çˆ¶è¿›ç¨‹çš„ pidï¼Œcommand è¡¨ç¤ºçš„æ˜¯è¯¥è¿›ç¨‹é€šè¿‡æ‰§è¡Œä»€ä¹ˆæ ·çš„å‘½ä»¤æˆ–è€…è„šæœ¬è€Œäº§ç”Ÿçš„</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ps ï¼fxo user,ppid,pid,pgid,<span class="built_in">command</span></span><br></pre></td></tr></table></figure><div class="tag-plugin image"><div class="image-bg"><img src="https://raw.githubusercontent.com/holdyounger/ScopeBlog/rc_images/Images/Linux%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/images/15%20Linux%20%E8%BF%9B%E7%A8%8B%E6%A6%82%E5%BF%B5/image-20230531114851845-168550493671759.png"/></div></div><p>å¯ä»¥åœ¨å›¾ä¸­çœ‹è§æˆ‘ä»¬æ‰§è¡Œçš„ ps å°±æ˜¯ç”± zsh é€šè¿‡ fork-exec åˆ›å»ºçš„å­è¿›ç¨‹è€Œæ‰§è¡Œçš„</p><p>ä½¿ç”¨è¿™æ ·çš„ä¸€ä¸ªå‘½ä»¤æˆ‘ä»¬ä¹Ÿèƒ½æ¸…æ¥šçš„çœ‹è§ init å¦‚ä¸Šæ–‡æ‰€è¯´æ˜¯ç”±è¿›ç¨‹ 0 è¿™ä¸ªåˆå§‹åŒ–è¿›ç¨‹æ¥åˆ›å»ºå‡ºæ¥çš„å­è¿›ç¨‹ï¼Œè€Œå…¶ä»–çš„è¿›ç¨‹åŸºæœ¬æ˜¯ç”± init åˆ›å»ºçš„å­è¿›ç¨‹ï¼Œæˆ–è€…æ˜¯ç”±å®ƒçš„å­è¿›ç¨‹åˆ›å»ºå‡ºæ¥çš„å­è¿›ç¨‹ã€‚æ‰€ä»¥ init æ˜¯ç”¨æˆ·è¿›ç¨‹çš„ç¬¬ä¸€ä¸ªè¿›ç¨‹ä¹Ÿæ˜¯æ‰€æœ‰ç”¨æˆ·è¿›ç¨‹çš„çˆ¶è¿›ç¨‹æˆ–è€…ç¥–å…ˆè¿›ç¨‹ã€‚ï¼ˆps å‘½ä»¤å°†åœ¨åç»­è¯¾ç¨‹è¯¦è§£ï¼‰</p><p>å°±åƒä¸€ä¸ªæ ‘çŠ¶å›¾ï¼Œè€Œ init è¿›ç¨‹å°±æ˜¯è¿™æ£µæ ‘çš„æ ¹ï¼Œå…¶ä»–è¿›ç¨‹ç”±æ ¹ä¸æ–­çš„å‘æ•£ï¼Œå¼€ææ•£å¶</p><h2 id="2-3-è¿›ç¨‹ç»„ä¸Sessions"><a href="#2-3-è¿›ç¨‹ç»„ä¸Sessions" class="headerlink" title="2.3 è¿›ç¨‹ç»„ä¸Sessions"></a>2.3 è¿›ç¨‹ç»„ä¸Sessions</h2><p>æ¯ä¸€ä¸ªè¿›ç¨‹éƒ½ä¼šæ˜¯ä¸€ä¸ªè¿›ç¨‹ç»„çš„æˆå‘˜ï¼Œè€Œä¸”è¿™ä¸ªè¿›ç¨‹ç»„æ˜¯å”¯ä¸€å­˜åœ¨çš„ï¼Œä»–ä»¬æ˜¯ä¾é  PGIDï¼ˆprocess group IDï¼‰æ¥åŒºåˆ«çš„ï¼Œè€Œæ¯å½“ä¸€ä¸ªè¿›ç¨‹è¢«åˆ›å»ºçš„æ—¶å€™ï¼Œå®ƒä¾¿ä¼šæˆä¸ºå…¶çˆ¶è¿›ç¨‹æ‰€åœ¨ç»„ä¸­çš„ä¸€å‘˜ã€‚</p><p>ä¸€èˆ¬æƒ…å†µï¼Œè¿›ç¨‹ç»„çš„ PGID ç­‰åŒäºè¿›ç¨‹ç»„çš„ç¬¬ä¸€ä¸ªæˆå‘˜çš„ PIDï¼Œå¹¶ä¸”è¿™æ ·çš„è¿›ç¨‹ç§°ä¸ºè¯¥è¿›ç¨‹ç»„çš„é¢†å¯¼è€…ï¼Œä¹Ÿå°±æ˜¯é¢†å¯¼è¿›ç¨‹ï¼Œè¿›ç¨‹ä¸€èˆ¬é€šè¿‡ä½¿ç”¨ <code>getpgrp()</code> ç³»ç»Ÿè°ƒç”¨æ¥å¯»æ‰¾å…¶æ‰€åœ¨ç»„çš„ PGIDï¼Œé¢†å¯¼è¿›ç¨‹å¯ä»¥å…ˆç»ˆç»“ï¼Œæ­¤æ—¶è¿›ç¨‹ç»„ä¾ç„¶å­˜åœ¨ï¼Œå¹¶æŒæœ‰ç›¸åŒçš„ PGIDï¼Œç›´åˆ°è¿›ç¨‹ç»„ä¸­æœ€åä¸€ä¸ªè¿›ç¨‹ç»ˆç»“ã€‚</p><p>ä¸è¿›ç¨‹ç»„ç±»ä¼¼ï¼Œæ¯å½“ä¸€ä¸ªè¿›ç¨‹è¢«åˆ›å»ºçš„æ—¶å€™ï¼Œå®ƒä¾¿ä¼šæˆä¸ºå…¶çˆ¶è¿›ç¨‹æ‰€åœ¨ Session ä¸­çš„ä¸€å‘˜ï¼Œæ¯ä¸€ä¸ªè¿›ç¨‹ç»„éƒ½ä¼šåœ¨ä¸€ä¸ª Session ä¸­ï¼Œå¹¶ä¸”è¿™ä¸ª Session æ˜¯å”¯ä¸€å­˜åœ¨çš„ï¼Œ</p><p>Session ä¸»è¦æ˜¯é’ˆå¯¹ä¸€ä¸ª tty å»ºç«‹ï¼ŒSession ä¸­çš„æ¯ä¸ªè¿›ç¨‹éƒ½ç§°ä¸ºä¸€ä¸ªå·¥ä½œ(job)ã€‚æ¯ä¸ªä¼šè¯å¯ä»¥è¿æ¥ä¸€ä¸ªç»ˆç«¯(control terminal)ã€‚å½“æ§åˆ¶ç»ˆç«¯æœ‰è¾“å…¥è¾“å‡ºæ—¶ï¼Œéƒ½ä¼ é€’ç»™è¯¥ä¼šè¯çš„å‰å°è¿›ç¨‹ç»„ã€‚Session æ„ä¹‰åœ¨äºå°†å¤šä¸ª jobs å›Šæ‹¬åœ¨ä¸€ä¸ªç»ˆç«¯ï¼Œå¹¶å–å…¶ä¸­çš„ä¸€ä¸ª job ä½œä¸ºå‰å°ï¼Œæ¥ç›´æ¥æ¥æ”¶è¯¥ç»ˆç«¯çš„è¾“å…¥è¾“å‡ºä»¥åŠç»ˆç«¯ä¿¡å·ã€‚ å…¶ä»– jobs åœ¨åå°è¿è¡Œã€‚</p><blockquote><p><strong>å‰å°</strong>ï¼ˆforegroundï¼‰å°±æ˜¯åœ¨ç»ˆç«¯ä¸­è¿è¡Œï¼Œèƒ½ä¸ä½ æœ‰äº¤äº’çš„</p></blockquote><blockquote><p><strong>åå°</strong>ï¼ˆbackgroundï¼‰å°±æ˜¯åœ¨ç»ˆç«¯ä¸­è¿è¡Œï¼Œä½†æ˜¯ä½ å¹¶ä¸èƒ½ä¸å…¶ä»»ä½•çš„äº¤äº’ï¼Œä¹Ÿä¸ä¼šæ˜¾ç¤ºå…¶æ‰§è¡Œçš„è¿‡ç¨‹</p></blockquote><h2 id="2-4-å·¥ä½œç®¡ç†"><a href="#2-4-å·¥ä½œç®¡ç†" class="headerlink" title="2.4 å·¥ä½œç®¡ç†"></a>2.4 å·¥ä½œç®¡ç†</h2><p>bash(Bourne-Again shell)æ”¯æŒå·¥ä½œæ§åˆ¶ï¼ˆjob controlï¼‰ï¼Œè€Œ shï¼ˆBourne shellï¼‰å¹¶ä¸æ”¯æŒã€‚</p><p>å¹¶ä¸”æ¯ä¸ªç»ˆç«¯æˆ–è€…è¯´ bash åªèƒ½ç®¡ç†å½“å‰ç»ˆç«¯ä¸­çš„ jobï¼Œä¸èƒ½ç®¡ç†å…¶ä»–ç»ˆç«¯ä¸­çš„ jobã€‚æ¯”å¦‚æˆ‘å½“å‰å­˜åœ¨ä¸¤ä¸ª bash åˆ†åˆ«ä¸º bash1ã€bash2ï¼Œbash1 åªèƒ½ç®¡ç†å…¶è‡ªå·±é‡Œé¢çš„ job å¹¶ä¸èƒ½ç®¡ç† bash2 é‡Œé¢çš„ job</p><p>æˆ‘ä»¬éƒ½çŸ¥é“å½“ä¸€ä¸ªè¿›ç¨‹åœ¨å‰å°è¿ä½œæ—¶æˆ‘ä»¬å¯ä»¥ç”¨ <code>ctrl + c</code> æ¥ç»ˆæ­¢å®ƒï¼Œä½†æ˜¯è‹¥æ˜¯åœ¨åå°çš„è¯å°±ä¸è¡Œäº†ã€‚</p><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ <code>&amp;</code> è¿™ä¸ªç¬¦å·ï¼Œè®©æˆ‘ä»¬çš„å‘½ä»¤åœ¨åå°ä¸­è¿è¡Œï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">ls</span> &amp;</span><br></pre></td></tr></table></figure><img src="https://raw.githubusercontent.com/holdyounger/ScopeBlog/rc_images/Images/Linux%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/images/15%20Linux%20%E8%BF%9B%E7%A8%8B%E6%A6%82%E5%BF%B5/1135081469036077882.png" alt="å®éªŒæ¥¼" style="zoom:67%;" /><p>å›¾ä¸­æ‰€æ˜¾ç¤ºçš„ <code>[1] 236</code>åˆ†åˆ«æ˜¯è¯¥ job çš„ job number ä¸è¯¥è¿›ç¨‹çš„ PIDï¼Œè€Œæœ€åä¸€è¡Œçš„ Done è¡¨ç¤ºè¯¥å‘½ä»¤å·²ç»åœ¨åå°æ‰§è¡Œå®Œæ¯•ã€‚</p><p>æˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡ <code>ctrl + z</code> ä½¿æˆ‘ä»¬çš„å½“å‰å·¥ä½œåœæ­¢å¹¶ä¸¢åˆ°åå°ä¸­å»</p><img src="https://raw.githubusercontent.com/holdyounger/ScopeBlog/rc_images/Images/Linux%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/images/15%20Linux%20%E8%BF%9B%E7%A8%8B%E6%A6%82%E5%BF%B5/1135081469036715105.png" alt="å®éªŒæ¥¼" style="zoom:67%;" /><p>è¢«åœæ­¢å¹¶æ”¾ç½®åœ¨åå°çš„å·¥ä½œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¿™ä¸ªå‘½ä»¤æ¥æŸ¥çœ‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">jobs</span></span><br></pre></td></tr></table></figure><img src="15%20Linux%20%E8%BF%9B%E7%A8%8B%E6%A6%82%E5%BF%B5/1135081469037134869.png" alt="å®éªŒæ¥¼" style="zoom:67%;" /><p>å…¶ä¸­ç¬¬ä¸€åˆ—æ˜¾ç¤ºçš„ä¸ºè¢«æ”¾ç½®åå° job çš„ç¼–å·ï¼Œè€Œç¬¬äºŒåˆ—çš„ <code>ï¼‹</code> è¡¨ç¤ºæœ€è¿‘(åˆšåˆšã€æœ€å)è¢«æ”¾ç½®åå°çš„ jobï¼ŒåŒæ—¶ä¹Ÿè¡¨ç¤ºé¢„è®¾çš„å·¥ä½œï¼Œä¹Ÿå°±æ˜¯è‹¥æ˜¯æœ‰ä»€ä¹ˆé’ˆå¯¹åå° job çš„æ“ä½œï¼Œé¦–å…ˆå¯¹é¢„è®¾çš„ jobï¼Œ<code>-</code> è¡¨ç¤ºå€’æ•°ç¬¬äºŒï¼ˆä¹Ÿå°±æ˜¯åœ¨é¢„è®¾ä¹‹å‰çš„ä¸€ä¸ªï¼‰è¢«æ”¾ç½®åå°çš„å·¥ä½œï¼Œå€’æ•°ç¬¬ä¸‰ä¸ªï¼ˆå†ä¹‹å‰çš„ï¼‰ä»¥åéƒ½ä¸ä¼šæœ‰è¿™æ ·çš„ç¬¦å·ä¿®é¥°ï¼Œç¬¬ä¸‰åˆ—è¡¨ç¤ºå®ƒä»¬çš„çŠ¶æ€ï¼Œè€Œæœ€åä¸€åˆ—è¡¨ç¤ºè¯¥è¿›ç¨‹æ‰§è¡Œçš„å‘½ä»¤ã€‚</p><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡è¿™æ ·çš„ä¸€ä¸ªå‘½ä»¤å°†åå°çš„å·¥ä½œæ‹¿åˆ°å‰å°æ¥ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åé¢ä¸åŠ å‚æ•°æå–é¢„è®¾å·¥ä½œï¼ŒåŠ å‚æ•°æå–æŒ‡å®šå·¥ä½œçš„ç¼–å·</span></span><br><span class="line"><span class="comment"># ubuntu åœ¨ zsh ä¸­éœ€è¦ %ï¼Œåœ¨ bash ä¸­ä¸éœ€è¦ %</span></span><br><span class="line"><span class="built_in">fg</span> [%jobnumber]</span><br></pre></td></tr></table></figure><img src="https://raw.githubusercontent.com/holdyounger/ScopeBlog/rc_images/Images/Linux%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/images/15%20Linux%20%E8%BF%9B%E7%A8%8B%E6%A6%82%E5%BF%B5/1135081469037555070.png" alt="å®éªŒæ¥¼" style="zoom:67%;" /><img src="https://raw.githubusercontent.com/holdyounger/ScopeBlog/rc_images/Images/Linux%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/images/15%20Linux%20%E8%BF%9B%E7%A8%8B%E6%A6%82%E5%BF%B5/1135081469037666320.png" alt="å®éªŒæ¥¼" style="zoom:67%;" /><p>ä¹‹å‰æˆ‘ä»¬é€šè¿‡ <code>ctrl + z</code> ä½¿å¾—å·¥ä½œåœæ­¢æ”¾ç½®åœ¨åå°ï¼Œè‹¥æ˜¯æˆ‘ä»¬æƒ³è®©å…¶åœ¨åå°è¿ä½œæˆ‘ä»¬å°±ä½¿ç”¨è¿™æ ·ä¸€ä¸ªå‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#ä¸fgç±»ä¼¼ï¼ŒåŠ å‚åˆ™æŒ‡å®šï¼Œä¸åŠ å‚åˆ™å–é¢„è®¾</span></span><br><span class="line"><span class="built_in">bg</span> [%jobnumber]</span><br></pre></td></tr></table></figure><img src="https://raw.githubusercontent.com/holdyounger/ScopeBlog/rc_images/Images/Linux%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/images/15%20Linux%20%E8%BF%9B%E7%A8%8B%E6%A6%82%E5%BF%B5/1135081469037983282.png" alt="å®éªŒæ¥¼" style="zoom:67%;" /><p>æ—¢ç„¶æœ‰æ–¹æ³•å°†è¢«æ”¾ç½®åœ¨åå°çš„å·¥ä½œæè‡³å‰å°æˆ–è€…è®©å®ƒä»åœæ­¢å˜æˆç»§ç»­è¿è¡Œåœ¨åå°ï¼Œå½“ç„¶ä¹Ÿæœ‰æ–¹æ³•åˆ é™¤ä¸€ä¸ªå·¥ä½œï¼Œæˆ–è€…é‡å¯ç­‰ç­‰ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># killçš„ä½¿ç”¨æ ¼å¼å¦‚ä¸‹</span></span><br><span class="line"><span class="built_in">kill</span> -signal %jobnumber</span><br><span class="line"></span><br><span class="line"><span class="comment"># signalä»1-64ä¸ªä¿¡å·å€¼å¯ä»¥é€‰æ‹©ï¼Œå¯ä»¥è¿™æ ·æŸ¥çœ‹</span></span><br><span class="line"><span class="built_in">kill</span> ï¼l</span><br></pre></td></tr></table></figure><p>å…¶ä¸­å¸¸ç”¨çš„æœ‰è¿™äº›ä¿¡å·å€¼</p><table><thead><tr><th>ä¿¡å·å€¼</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>-1</td><td>é‡æ–°è¯»å–å‚æ•°è¿è¡Œï¼Œç±»ä¼¼ä¸ restart</td></tr><tr><td>-2</td><td>å¦‚åŒ ctrl+c çš„æ“ä½œé€€å‡º</td></tr><tr><td>-9</td><td>å¼ºåˆ¶ç»ˆæ­¢è¯¥ä»»åŠ¡</td></tr><tr><td>-15</td><td>æ­£å¸¸çš„æ–¹å¼ç»ˆæ­¢è¯¥ä»»åŠ¡</td></tr></tbody></table><img src="https://raw.githubusercontent.com/holdyounger/ScopeBlog/rc_images/Images/Linux%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/images/15%20Linux%20%E8%BF%9B%E7%A8%8B%E6%A6%82%E5%BF%B5/1135081469038840624.png" alt="å®éªŒæ¥¼" style="zoom:67%;" /><blockquote><p>è‹¥æ˜¯åœ¨ä½¿ç”¨ kill ï¼‹ä¿¡å·å€¼ç„¶åç›´æ¥åŠ  pidï¼Œä½ å°†ä¼šå¯¹ pid å¯¹åº”çš„è¿›ç¨‹è¿›è¡Œæ“ä½œã€‚</p></blockquote><blockquote><p>è‹¥æ˜¯åœ¨ä½¿ç”¨ kill+ä¿¡å·å€¼ç„¶å <code>ï¼…jobnumber</code>ï¼Œè¿™æ—¶æ‰€æ“ä½œçš„å¯¹è±¡æ˜¯ jobï¼Œè¿™ä¸ªæ•°å­—å°±æ˜¯å°±å½“å‰ bash ä¸­åå°çš„è¿è¡Œçš„ job çš„ IDã€‚</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> OS </category>
          
          <category> Linux </category>
          
          <category> LinuxåŸºç¡€å…¥é—¨ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> è¿›ç¨‹ä¸ç¨‹åº </tag>
            
            <tag> è¿›ç¨‹çš„è¡ç”Ÿ </tag>
            
            <tag> å·¥ä½œç®¡ç† </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>linux å†…æ ¸1 å®Œæˆä¸€ä¸ªç®€å•çš„æ—¶é—´ç‰‡è½®è½¬èº²åˆ°ç¨‹åºå†…æ ¸ä»£ç </title>
      <link href="/OS/Linux/Linux%E5%86%85%E6%A0%B8%E5%88%86%E6%9E%90%E9%85%8D%E5%A5%97%E5%AE%9E%E9%AA%8C/1%20%E5%AE%8C%E6%88%90%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E6%97%B6%E9%97%B4%E7%89%87%E8%BD%AE%E8%BD%AC%E8%BA%B2%E5%88%B0%E7%A8%8B%E5%BA%8F%E5%86%85%E6%A0%B8%E4%BB%A3%E7%A0%81/"/>
      <url>/OS/Linux/Linux%E5%86%85%E6%A0%B8%E5%88%86%E6%9E%90%E9%85%8D%E5%A5%97%E5%AE%9E%E9%AA%8C/1%20%E5%AE%8C%E6%88%90%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E6%97%B6%E9%97%B4%E7%89%87%E8%BD%AE%E8%BD%AC%E8%BA%B2%E5%88%B0%E7%A8%8B%E5%BA%8F%E5%86%85%E6%A0%B8%E4%BB%A3%E7%A0%81/</url>
      
        <content type="html"><![CDATA[<p>ä½¿ç”¨å®éªŒæ¥¼çš„è™šæ‹Ÿæœºæ‰“å¼€ shell</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ³¨æ„è·¯å¾„æ˜¯åŒºåˆ†å¤§å°çš„</span></span><br><span class="line">$ <span class="built_in">cd</span> ~/LinuxKernel/linux-3.9.4</span><br><span class="line"></span><br><span class="line">$ <span class="built_in">rm</span> -rf mykernel</span><br><span class="line"></span><br><span class="line">$ patch -p1 &lt; ../mykernel_for_linux3.9.4sc.patch</span><br><span class="line"></span><br><span class="line">$ make allnoconfig</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç¼–è¯‘å†…æ ¸è¯·è€å¿ƒç­‰å¾…</span></span><br><span class="line">$ make</span><br><span class="line"></span><br><span class="line">$ qemu -kernel <span class="built_in">arch</span>/x86/boot/bzImage</span><br></pre></td></tr></table></figure><p>ç„¶å <code>cd mykernel</code> æ‚¨å¯ä»¥çœ‹åˆ° qemu çª—å£è¾“å‡ºçš„å†…å®¹çš„ä»£ç  <code>mymain.c</code> å’Œ <code>myinterrupt.c</code></p><p>æ³¨æ„ï¼šä¿®æ”¹ä»£ç åéœ€è¦ make é‡æ–°ç¼–è¯‘ä¹‹åæ‰èƒ½ç”Ÿæ•ˆå“¦ã€‚</p><p>ä½¿ç”¨è‡ªå·±çš„ Linux ç³»ç»Ÿç¯å¢ƒæ­å»ºè¿‡ç¨‹å‚è§ <a href="https://github.com/mengning/mykernel/tree/4b59d452b7812560151c5684ce9a07bcaddb3127">mykernel</a>ï¼Œå…¶ä¸­ä¹Ÿå¯ä»¥æ‰¾åˆ°ä¸€ä¸ªç®€å•çš„æ—¶é—´ç‰‡è½®è½¬å¤šé“ç¨‹åºå†…æ ¸ä»£ç </p>]]></content>
      
      
      <categories>
          
          <category> OS </category>
          
          <category> Linux </category>
          
          <category> Linuxå†…æ ¸åˆ†æé…å¥—å®éªŒ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
            <tag> å†…æ ¸ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linuxå†…æ ¸2 è·Ÿè¸ªåˆ†æLinuxå†…æ ¸çš„å¯åŠ¨è¿‡ç¨‹</title>
      <link href="/OS/Linux/Linux%E5%86%85%E6%A0%B8%E5%88%86%E6%9E%90%E9%85%8D%E5%A5%97%E5%AE%9E%E9%AA%8C/2%20%E8%B7%9F%E8%B8%AA%E5%88%86%E6%9E%90Linux%E5%86%85%E6%A0%B8%E7%9A%84%E5%90%AF%E5%8A%A8%E8%BF%87%E7%A8%8B/"/>
      <url>/OS/Linux/Linux%E5%86%85%E6%A0%B8%E5%88%86%E6%9E%90%E9%85%8D%E5%A5%97%E5%AE%9E%E9%AA%8C/2%20%E8%B7%9F%E8%B8%AA%E5%88%86%E6%9E%90Linux%E5%86%85%E6%A0%B8%E7%9A%84%E5%90%AF%E5%8A%A8%E8%BF%87%E7%A8%8B/</url>
      
        <content type="html"><![CDATA[<p>ä½¿ç”¨å®éªŒæ¥¼çš„è™šæ‹Ÿæœºæ‰“å¼€ shell</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~/LinuxKernel/</span><br><span class="line">qemu -kernel linux-3.18.6/arch/x86/boot/bzImage -initrd rootfs.img</span><br></pre></td></tr></table></figure><p>å†…æ ¸å¯åŠ¨å®Œæˆåè¿›å…¥ <a href="https://github.com/mengning/menu">menu</a>ç¨‹åºï¼ˆ<a href="http://mooc.study.163.com/course/YOOKCS0008-1000002006">ã€Šè½¯ä»¶å·¥ç¨‹ C ç¼–ç å®è·µç¯‡ã€‹çš„è¯¾ç¨‹é¡¹ç›®</a>ï¼‰ï¼Œæ”¯æŒä¸‰ä¸ªå‘½ä»¤ helpã€version å’Œ quitï¼Œæ‚¨ä¹Ÿå¯ä»¥æ·»åŠ æ›´å¤šçš„å‘½ä»¤ï¼Œå¯¹é€‰ä¿®è¿‡ã€Šè½¯ä»¶å·¥ç¨‹ C ç¼–ç å®è·µç¯‡ã€‹çš„ç«¥é‹åº”è¯¥æ˜¯ a piece of cake.</p><p>ä½¿ç”¨ gdb è·Ÿè¸ªè°ƒè¯•å†…æ ¸</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ qemu -kernel linux-3.18.6/arch/x86/boot/bzImage -initrd rootfs.img -s -S</span><br><span class="line"></span><br><span class="line"><span class="comment"># å…³äº-så’Œ-Sé€‰é¡¹çš„è¯´æ˜ï¼š</span></span><br><span class="line"><span class="comment"># 1. -S</span></span><br><span class="line"><span class="comment">#   -S freeze CPU at startup (use â€™câ€™ to start execution)</span></span><br><span class="line"><span class="comment"># 2. -s</span></span><br><span class="line"><span class="comment">#   -s shorthand for -gdb tcp::1234</span></span><br><span class="line"><span class="comment"># è‹¥ä¸æƒ³ä½¿ç”¨1234ç«¯å£ï¼Œåˆ™å¯ä»¥ä½¿ç”¨-gdb tcp:xxxxæ¥å–ä»£-sé€‰é¡¹</span></span><br></pre></td></tr></table></figure><p>å¦å¼€ä¸€ä¸ª shell çª—å£</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ‰“å¼€ GDB è°ƒè¯•å™¨</span></span><br><span class="line">$ gdb</span><br><span class="line"></span><br><span class="line"><span class="comment"># åœ¨ GDB ä¸­è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># åœ¨gdbç•Œé¢ä¸­targe remoteä¹‹å‰åŠ è½½ç¬¦å·è¡¨</span></span><br><span class="line">ï¼ˆgdbï¼‰file linux-3.18.6/vmlinux</span><br><span class="line"></span><br><span class="line"><span class="comment"># å»ºç«‹gdbå’Œgdbserverä¹‹é—´çš„è¿æ¥,æŒ‰c è®©qemuä¸Šçš„Linuxç»§ç»­è¿è¡Œ</span></span><br><span class="line">ï¼ˆgdbï¼‰target remote:1234</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ–­ç‚¹çš„è®¾ç½®å¯ä»¥åœ¨target remoteä¹‹å‰ï¼Œä¹Ÿå¯ä»¥åœ¨ä¹‹å</span></span><br><span class="line">ï¼ˆgdbï¼‰<span class="built_in">break</span> start_kernel</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> OS </category>
          
          <category> Linux </category>
          
          <category> Linuxå†…æ ¸åˆ†æé…å¥—å®éªŒ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> å†…æ ¸ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>linuxé˜²ç«å¢™å‘½ä»¤â€”â€”ufw</title>
      <link href="/OS/Linux/Command&amp;Tools/ufw/"/>
      <url>/OS/Linux/Command&amp;Tools/ufw/</url>
      
        <content type="html"><![CDATA[<p>é˜²ç«å¢™æ˜¯è®¡ç®—æœºå®‰å…¨çš„é‡è¦ç»„æˆéƒ¨åˆ†ã€‚åœ¨Linuxä¸­ï¼ŒUFWï¼ˆUncomplicated Firewallï¼‰æ˜¯ä¸€ä¸ªå¼€æºé˜²ç«å¢™å·¥å…·ï¼Œå¯ç”¨äºå®ç°ç½‘ç»œå®‰å…¨ç­–ç•¥ã€‚å®ƒæä¾›äº†ä¸€ä¸ªç®€åŒ–çš„å‘½ä»¤è¡Œæ¥å£ï¼Œä½¿å¾—è®¾ç½®é˜²ç«å¢™è§„åˆ™æ›´åŠ å®¹æ˜“ã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†ä»‹ç»å¦‚ä½•åœ¨Linuxä¸Šä½¿ç”¨UFWå®ç°é˜²ç«å¢™å’Œå®‰å…¨ç­–ç•¥ã€‚</p><p>[toc]</p><h1 id="å®‰è£…UFW"><a href="#å®‰è£…UFW" class="headerlink" title="å®‰è£…UFW"></a>å®‰è£…UFW</h1><p>è®¸å¤šLinuxå‘è¡Œç‰ˆéƒ½é»˜è®¤å®‰è£…äº†UFWã€‚å¦‚æœä½ çš„Linuxå‘è¡Œç‰ˆæ²¡æœ‰å®‰è£…ï¼Œä½ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥å®‰è£…ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo apt-get install ufw <span class="comment"># Ubuntuå’ŒDebian</span></span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo yum install ufw <span class="comment"># CentOSå’ŒFedora</span></span><br></pre></td></tr></table></figure><h1 id="è®¾ç½®UFWè§„åˆ™"><a href="#è®¾ç½®UFWè§„åˆ™" class="headerlink" title="è®¾ç½®UFWè§„åˆ™"></a>è®¾ç½®UFWè§„åˆ™</h1><p>åœ¨ä½¿ç”¨UFWä¹‹å‰ï¼Œå¿…é¡»å¯ç”¨å®ƒã€‚ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥å¯ç”¨UFWï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo ufw <span class="built_in">enable</span></span><br></pre></td></tr></table></figure><p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒUFWå°†æ‹’ç»æ‰€æœ‰ä¼ å…¥è¿æ¥å’Œå…è®¸æ‰€æœ‰ä¼ å‡ºè¿æ¥ã€‚è¦æ·»åŠ å…¶ä»–è§„åˆ™ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo ufw allow [port]/[protocol]</span><br></pre></td></tr></table></figure><p>ä¾‹å¦‚ï¼Œå¯ç”¨SSHè¿æ¥ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo ufw allow ssh</span><br></pre></td></tr></table></figure><p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒUFWå‡å®šTCPåè®®ã€‚å¦‚æœè¦å…è®¸å…¶ä»–åè®®ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo ufw allow [port]/[protocol]</span><br></pre></td></tr></table></figure><p>ä¾‹å¦‚ï¼Œå¯ç”¨UDPè¿æ¥ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo ufw allow 53/udp</span><br></pre></td></tr></table></figure><p>æ‚¨è¿˜å¯ä»¥ä½¿ç”¨å…¶ä»–é€‰é¡¹æŒ‡å®šæºåœ°å€ï¼Œç›®æ ‡åœ°å€å’Œåº”ç”¨ç¨‹åºã€‚</p><h1 id="é™åˆ¶IPè®¿é—®"><a href="#é™åˆ¶IPè®¿é—®" class="headerlink" title="é™åˆ¶IPè®¿é—®"></a>é™åˆ¶IPè®¿é—®</h1><p>é™¤äº†ç«¯å£ï¼Œè¿˜å¯ä»¥ä½¿ç”¨UFWé™åˆ¶å¯¹ç‰¹å®šIPçš„è®¿é—®ã€‚ä¾‹å¦‚ï¼Œè¦æ‹’ç»æ¥è‡ªIPåœ°å€ä¸º192.168.1.100çš„æ‰€æœ‰è¿æ¥ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo ufw deny from 192.168.1.100</span><br></pre></td></tr></table></figure><p>æˆ–è€…ï¼Œè¦å…è®¸ä»…è¯¥IPåœ°å€è®¿é—®æ‚¨çš„ç½‘ç«™ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo ufw allow from 192.168.1.100 to any port 80</span><br></pre></td></tr></table></figure><h1 id="ä¿®æ”¹é»˜è®¤ç­–ç•¥"><a href="#ä¿®æ”¹é»˜è®¤ç­–ç•¥" class="headerlink" title="ä¿®æ”¹é»˜è®¤ç­–ç•¥"></a>ä¿®æ”¹é»˜è®¤ç­–ç•¥</h1><p>æ‚¨å¯ä»¥é€šè¿‡ä¿®æ”¹é»˜è®¤ç­–ç•¥æ¥æ›´æ”¹UFWçš„è¡Œä¸ºã€‚è¦å…è®¸æ‰€æœ‰ä¼ å…¥è¿æ¥å¹¶æ‹’ç»æ‰€æœ‰ä¼ å‡ºè¿æ¥ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo ufw default deny outgoing</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo ufw default allow incoming</span><br></pre></td></tr></table></figure><p>æˆ–è€…ï¼Œè¦æ‹’ç»æ‰€æœ‰ä¼ å…¥è¿æ¥å¹¶å…è®¸æ‰€æœ‰ä¼ å‡ºè¿æ¥ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo ufw default allow outgoing</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo ufw default deny incoming</span><br></pre></td></tr></table></figure><h1 id="æ’¤æ¶ˆè§„åˆ™"><a href="#æ’¤æ¶ˆè§„åˆ™" class="headerlink" title="æ’¤æ¶ˆè§„åˆ™"></a>æ’¤æ¶ˆè§„åˆ™</h1><p>å¦‚æœæ‚¨éœ€è¦åˆ é™¤è§„åˆ™ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo ufw delete [è§„åˆ™å·]</span><br></pre></td></tr></table></figure><p>è§„åˆ™å·æ˜¯è§„åˆ™åˆ—è¡¨ä¸­çš„æ•°å­—åºå·ï¼Œä»1å¼€å§‹ã€‚</p><h1 id="ç¦ç”¨UFW"><a href="#ç¦ç”¨UFW" class="headerlink" title="ç¦ç”¨UFW"></a>ç¦ç”¨UFW</h1><p>è¦ç¦ç”¨UFWå¹¶åˆ é™¤æ‰€æœ‰è§„åˆ™ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo ufw <span class="built_in">disable</span></span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo ufw reset</span><br></pre></td></tr></table></figure><h1 id="ç»“è®º"><a href="#ç»“è®º" class="headerlink" title="ç»“è®º"></a>ç»“è®º</h1><p>åœ¨Linuxä¸Šä½¿ç”¨UFWå¯ä»¥è½»æ¾å®ç°é˜²ç«å¢™å’Œå®‰å…¨ç­–ç•¥ã€‚UFWæä¾›äº†ä¸€ç§ç®€å•çš„æ–¹å¼æ¥æ§åˆ¶å…¥ç«™å’Œå‡ºç«™æµé‡ï¼Œå¹¶ä¸”æ˜“äºä½¿ç”¨å’Œé…ç½®ã€‚é€šè¿‡è®¾ç½®è‰¯å¥½çš„è§„åˆ™ï¼Œå¯ä»¥å¢å¼ºç³»ç»Ÿçš„å®‰å…¨æ€§ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> OS </category>
          
          <category> Linux </category>
          
          <category> Command&amp;Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
            <tag> é˜²ç«å¢™ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linuxç»ˆç«¯å·¥å…·â€”â€”zsh</title>
      <link href="/OS/Linux/Command&amp;Tools/zsh/"/>
      <url>/OS/Linux/Command&amp;Tools/zsh/</url>
      
        <content type="html"><![CDATA[<p>[toc]</p><h1 id="zshå®‰è£…"><a href="#zshå®‰è£…" class="headerlink" title="zshå®‰è£…"></a>zshå®‰è£…</h1><ol><li>æŸ¥çœ‹å½“å‰ç³»ç»Ÿè£…äº†å“ªäº›shell</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat /etc/shell</span><br></pre></td></tr></table></figure><ol start="2"><li>å½“å‰æ­£åœ¨è¿è¡Œçš„æ˜¯å“ªä¸ªç‰ˆæœ¬çš„shell</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo $SHELL</span><br></pre></td></tr></table></figure><ol start="3"><li>å®‰è£…zsh</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get -y install zsh</span><br></pre></td></tr></table></figure><ol start="4"><li>åˆ‡æ¢zsh</li></ol><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chsh -s /bin/zshï¼ˆéå®æ—¶ï¼Œéœ€é‡å¯ï¼‰</span><br></pre></td></tr></table></figure><ol start="5"><li>æŸ¥çœ‹zshçš„ä¸»é¢˜æœ‰å“ªäº›</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls ~/.oh-my-zsh/themes/</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> OS </category>
          
          <category> Linux </category>
          
          <category> Command&amp;Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
            <tag> shell </tag>
            
            <tag> zsh </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>LinuxæŸ¥è¯¢æ˜¯å¦å®‰è£…äº†æŸä¸ªè½¯ä»¶</title>
      <link href="/OS/Linux/Command&amp;Tools/Linux%E6%9F%A5%E8%AF%A2%E6%98%AF%E5%90%A6%E5%AE%89%E8%A3%85%E6%9F%90%E4%B8%AA%E8%BD%AF%E4%BB%B6/"/>
      <url>/OS/Linux/Command&amp;Tools/Linux%E6%9F%A5%E8%AF%A2%E6%98%AF%E5%90%A6%E5%AE%89%E8%A3%85%E6%9F%90%E4%B8%AA%E8%BD%AF%E4%BB%B6/</url>
      
        <content type="html"><![CDATA[<p>1ã€rpmåŒ…å®‰è£…çš„ï¼Œå¯ä»¥ç”¨rpm -qaçœ‹åˆ°ï¼Œå¦‚æœè¦æŸ¥æ‰¾æŸè½¯ä»¶åŒ…æ˜¯å¦å®‰è£…ï¼Œç”¨ rpm -qa | <a href="https://so.csdn.net/so/search?q=grep&spm=1001.2101.3001.7020">grep</a> â€œè½¯ä»¶æˆ–è€…åŒ…çš„åå­—â€ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rpm -qa | grep ruby</span><br></pre></td></tr></table></figure><p>2ã€ä»¥debåŒ…å®‰è£…çš„ï¼Œå¯ä»¥ç”¨dpkg -lèƒ½çœ‹åˆ°ã€‚å¦‚æœæ˜¯æŸ¥æ‰¾æŒ‡å®šè½¯ä»¶åŒ…ï¼Œç”¨dpkg -l | grep â€œè½¯ä»¶æˆ–è€…åŒ…çš„åå­—â€ï¼›</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dpkg -l | grep ruby</span><br></pre></td></tr></table></figure><p>3ã€yumæ–¹æ³•å®‰è£…çš„ï¼Œå¯ä»¥ç”¨yum list installedæŸ¥æ‰¾ï¼Œå¦‚æœæ˜¯æŸ¥æ‰¾æŒ‡å®šåŒ…ï¼Œå‘½ä»¤ååŠ  | grep â€œè½¯ä»¶åæˆ–è€…åŒ…åâ€ï¼›</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum list installed | grep ruby</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> OS </category>
          
          <category> Linux </category>
          
          <category> Command&amp;Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
            <tag> æŸ¥è¯¢ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>lså‘½ä»¤è¯¦è§£</title>
      <link href="/OS/Linux/Command&amp;Tools/ls/"/>
      <url>/OS/Linux/Command&amp;Tools/ls/</url>
      
        <content type="html"><![CDATA[<p>[toc]</p><h1 id="å‚æ•°"><a href="#å‚æ•°" class="headerlink" title="å‚æ•°"></a>å‚æ•°</h1><blockquote><p>ls :åˆ—å‡ºæ–‡ä»¶æˆ–è€…ç›®å½•</p></blockquote><ul><li><code>-l</code>ï¼Œä½¿ç”¨é•¿æ ¼å¼æ˜¾ç¤º</li><li><code>-a</code>ï¼Œæ˜¾ç¤ºæ–‡ä»¶åä»¥<code>.</code>å¼€å¤´çš„éšè—æ–‡ä»¶</li><li><code>-h</code>ï¼Œä»¥humanæ˜“è¯»æ ¼å¼æ˜¾ç¤ºï¼Œä¸»è¦æ˜¯çœ‹å®¹é‡çš„æ—¶å€™ä½¿ç”¨<code>KB</code> <code>MB</code> <code>GB</code>ï¼ŒæŒ‡å½“å‰æ–‡ä»¶å¤¹ç›®å½•çš„å¤§å°</li><li><code>-lh</code> ,æ–‡ä»¶æˆ–è€…ç›®å½•å¤§å°çš„, æ–¹ä¾¿è¯†åˆ«</li><li><code>-lhS</code> ,æ–‡ä»¶ä»å¤§åˆ°å°æ’åº</li><li><code>-lg</code> ,ä¸æ‰“å°æ‰€æœ‰è€…ä¿¡æ¯</li><li><code>-ln</code> ,æ‰“å°UIDå’ŒGID</li><li><code>-l --si</code> siä»¥1000ä¸ºå•ä½ï¼Œè€Œ-hä»¥1024ä¸ºå•ä½ã€‚</li><li><code>-l --block-size=M</code>: è®¾ç½®æ–‡ä»¶æ˜¾ç¤ºå•ä½</li><li><code>-li</code>ï¼Œæ˜¾ç¤ºinodeå·</li><li><code>-r</code>ï¼Œreverseï¼Œæ”¹å˜å½’ç±»çš„é¡ºåºï¼Œä¾‹å¦‚å’Œ-té…åˆä½¿ç”¨ï¼Œ-trå’Œ-tæ˜¾ç¤ºé¡ºåºæ˜¯é¢ å€’çš„ã€‚</li><li><code>-R</code>ï¼Œé€’å½’åˆ—å‡ºå­ç›®å½•</li><li><code>-lX/ -l --sort=extension</code>ï¼šæ‰©å±•åæ’åº</li><li><code>-t</code>ï¼ŒæŒ‰ç…§ä¿®æ”¹æ—¶é—´é¡ºåºå½’ç±»æ–‡ä»¶ã€‚</li><li><code>-d</code>ï¼Œåˆ—å‡ºç›®å½•æœ¬èº«çš„ä¿¡æ¯ï¼Œè€Œä¸æ˜¯ç›®å½•é‡Œè¾¹çš„å†…å®¹ã€‚</li></ul><h1 id="å­—èŠ‚"><a href="#å­—èŠ‚" class="headerlink" title="å­—èŠ‚"></a>å­—èŠ‚</h1><blockquote><p>å­—èŠ‚ç›¸å…³å•ä½ï¼š</p></blockquote><p>K &#x3D; Kilobyte åƒå­—èŠ‚<br>M &#x3D; Megabyte å…†å­—èŠ‚<br>G &#x3D; Gigabyte åäº¿å­—èŠ‚<br>T &#x3D; Terabyte å…†å…†å­—èŠ‚<br>P &#x3D; Petabyte 10çš„15æ¬¡æ–¹å­—èŠ‚<br>E &#x3D; Exabyte è‰¾å­—èŠ‚<br>Z &#x3D; Zettabyte æ³½å®ƒå­—èŠ‚æˆ–çš†å­—èŠ‚<br>Y &#x3D; Yottabyte å°§å­—èŠ‚</p><h1 id="å‘½ä»¤"><a href="#å‘½ä»¤" class="headerlink" title="å‘½ä»¤"></a>å‘½ä»¤</h1><ul><li><p><code>-a</code>: æ˜¾ç¤ºæ‰€æœ‰æ¡£æ¡ˆä»¥åŠç›®å½•ï¼ˆlså†…å®šå°†æ¡£æ¡ˆæˆ–ç›®å½•åç§°ä¸ºâ€œ.&#x2F;..â€çš„è§†ä¸ºéšè—ï¼‰</p></li><li><p><code>-A</code>: æ˜¾ç¤ºé™¤éšè—æ–‡ä»¶â€œ.&#x2F;..â€ä»¥å¤–çš„æ‰€æœ‰æ–‡ä»¶åˆ—è¡¨</p></li><li><p><code>-b</code>: å°†æ–‡ä»¶ä¸­çš„ä¸å¯è¾“å‡ºçš„å­—ç¬¦ä»¥åæ–œçº¿åŠ å­—ç¬¦ç¼–ç çš„æ–¹å¼è¾“å‡º</p></li><li><p><code>-c</code> : ä¸â€-ltâ€œ é€‰é¡¹è¿ç”¨æ—¶ï¼ŒæŒ‰ç…§æ–‡ä»¶çŠ¶æ€æ—¶é—´æ’åºè¾“å‡ºç›®å½•å†…å®¹ï¼Œ æ’åºçš„ä¾æ®æ˜¯æ–‡ä»¶çš„ç´¢å¼•èŠ‚ç‚¹ä¸­çš„ctime å­—æ®µã€‚ ä¸â€-lâ€œè¿ç”¨æ—¶ï¼Œæ’åºçš„ä¾æ®æ˜¯æ–‡ä»¶çš„çŠ¶æ€æ”¹å˜æ—¶é—´ã€‚</p></li><li><p><code>-C</code>: å¤šåˆ—æ˜¾ç¤ºè¾“å‡ºç»“æœï¼ˆåªæœ‰æ–‡ä»¶åä¿¡æ¯ï¼‰</p></li><li><p><code>-d</code> : ä»…æ˜¾ç¤ºç›®å½•åï¼Œè€Œä¸æ˜¾ç¤ºç›®å½•ä¸‹çš„å†…å®¹åˆ—è¡¨ï¼Œ æ˜¾ç¤ºç¬¦å·é“¾æ¥æ–‡ä»¶æœ¬èº«ï¼Œ è€Œä¸æ˜¾ç¤ºå…¶æŒ‡å®šçš„ç›®å½•åˆ—è¡¨ã€‚</p></li><li><p><code>-F</code>:  åœ¨æ¯ä¸ªè¾“å‡ºé¡¹åæœ€ä½³æ–‡ä»¶çš„ç±»å‹æ ‡è¯†ç¬¦ï¼Œ * å¯æ‰§è¡Œæƒé™çš„æ™®é€šæ–‡ä»¶ï¼Œ&#x2F; è¡¨ç¤ºç›®å½•ï¼Œ @ è¡¨ç¤ºç¬¦å·é“¾æ¥ï¼Œ|è¡¨ç¤ºå‘½ä»¤ç®¡é“ï¼Œ &#x3D; è¡¨ç¤ºsockets å¥—æ¥å­—ï¼Œ  æ™®é€šæ–‡ä»¶ä¸è¾“å‡ºæ ‡è¯†ç¬¦ã€‚</p></li><li><p><code>-h</code>: ä»¥humanæ˜“è¯»æ ¼å¼æ˜¾ç¤ºï¼Œ æ–‡ä»¶å¤§å°ä»¥kb,mbæ˜¾ç¤º</p></li><li><p><code>-i</code> :  æ˜¾ç¤ºæ–‡ä»¶ç´¢å¼•èŠ‚ç‚¹å·ï¼ˆinodeï¼‰,ä¸€ä¸ªç´¢å¼•èŠ‚ç‚¹ä»£è¡¨ä¸€ä¸ªæ–‡ä»¶</p></li><li><p><code>-l </code>: ä»¥é•¿æ ¼å¼æ˜¾ç¤ºç›®å½•ä¸‹çš„å†…å®¹åˆ—è¡¨ï¼Œè¾“å‡ºä¿¡æ¯ï¼šæ–‡ä»¶åï¼Œæ–‡ä»¶ç±»å‹ï¼Œæƒé™æ¨¡å¼ï¼Œç¡¬é“¾æ¥æ•°ï¼Œæ‰€æœ‰è€…ï¼Œç»„ï¼Œæ–‡ä»¶å¤§å°ï¼Œ æ–‡ä»¶æœ€åä¿®æ”¹æ—¶é—´ã€‚<span style="border-bottom: 2px dashed #000000"> <code>ls - l</code> å‘½ä»¤å°±æ˜¯å¸¸ç”¨ <code>ll</code></span></p></li><li><p><code>-L </code>: å¦‚æœé‡åˆ°æ€§è´¨ä¸ºç¬¦å·é“¾æ¥çš„æ–‡ä»¶æˆ–ç›®å½•ï¼Œ ç›´æ¥åˆ—å‡ºè¯¥é“¾æ¥æ‰€é€ çš„åŸå§‹æ–‡ä»¶æˆ–ç›®å½•</p></li><li><p><code>-m</code>: ä»¥é€—å·åˆ†éš”æ¯ä¸ªæ–‡ä»¶å’Œç›®å½•çš„åç§°</p></li><li><p><code>-n</code> : ä»¥ç”¨æˆ·æ ‡å¿—ç å’Œç¾¤ç»„è¯†åˆ«ç æ›¿ä»£å…¶åç§°uid &#x2F;gid</p></li><li><p><code>-r</code> : ä»¥æ–‡ä»¶åååºæ’åºå¹¶è¾“å‡ºç›®å½•å†…å®¹åˆ—è¡¨</p></li><li><p><code>-R</code>ï¼šé€’å½’å¤„ç†ï¼Œå°†åˆ¶å®šç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶åŠå­ç›®å½•ä¸€å¹¶å¤„ç†</p></li><li><p><code>-s</code> : æ˜¾ç¤ºæ–‡ä»¶å’Œç›®å½•çš„å¤§å°ï¼Œ ä»¥åŒºå—ä¸ºå•ä½</p></li><li><p><code>-t</code> : ç”¨æ–‡ä»¶å’Œç›®å½•çš„æ›´æ”¹æ—¶é—´æ’åº</p></li></ul>]]></content>
      
      
      <categories>
          
          <category> OS </category>
          
          <category> Linux </category>
          
          <category> Command&amp;Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
            <tag> å‘½ä»¤ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2352. ç›¸ç­‰è¡Œåˆ—å¯¹ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</title>
      <link href="/LeetCode/2352.%20%E7%9B%B8%E7%AD%89%E8%A1%8C%E5%88%97%E5%AF%B9/"/>
      <url>/LeetCode/2352.%20%E7%9B%B8%E7%AD%89%E8%A1%8C%E5%88%97%E5%AF%B9/</url>
      
        <content type="html"><![CDATA[<p>2023_06_06</p><p>[toc]</p><h1 id="2352-ç›¸ç­‰è¡Œåˆ—å¯¹-åŠ›æ‰£ï¼ˆLeetCodeï¼‰"><a href="#2352-ç›¸ç­‰è¡Œåˆ—å¯¹-åŠ›æ‰£ï¼ˆLeetCodeï¼‰" class="headerlink" title="2352. ç›¸ç­‰è¡Œåˆ—å¯¹ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰"></a><a href="https://leetcode.cn/problems/equal-row-and-column-pairs/">2352. ç›¸ç­‰è¡Œåˆ—å¯¹ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></h1><p>ç»™ä½ ä¸€ä¸ªä¸‹æ ‡ä» 0 å¼€å§‹ã€å¤§å°ä¸º n x n çš„æ•´æ•°çŸ©é˜µ grid ï¼Œè¿”å›æ»¡è¶³ Ri è¡Œå’Œ Cj åˆ—ç›¸ç­‰çš„è¡Œåˆ—å¯¹ (Ri, Cj) çš„æ•°ç›®ã€‚</p><p>å¦‚æœè¡Œå’Œåˆ—ä»¥ç›¸åŒçš„é¡ºåºåŒ…å«ç›¸åŒçš„å…ƒç´ ï¼ˆå³ç›¸ç­‰çš„æ•°ç»„ï¼‰ï¼Œåˆ™è®¤ä¸ºäºŒè€…æ˜¯ç›¸ç­‰çš„ã€‚</p><p>Â </p><p>ç¤ºä¾‹ 1ï¼š</p><div class="tag-plugin image"><div class="image-bg"><img src="https://img2023.cnblogs.com/blog/2166070/202306/2166070-20230606232015247-2005756878.png"/></div></div><p>è¾“å…¥ï¼šgrid &#x3D; [[3,2,1],[1,7,6],[2,7,7]]<br>è¾“å‡ºï¼š1<br>è§£é‡Šï¼šå­˜åœ¨ä¸€å¯¹ç›¸ç­‰è¡Œåˆ—å¯¹ï¼š</p><ul><li>(ç¬¬ 2 è¡Œï¼Œç¬¬ 1 åˆ—)ï¼š[2,7,7]</li></ul><p>ç¤ºä¾‹ 2ï¼š</p><div class="tag-plugin image"><div class="image-bg"><img src="https://img2023.cnblogs.com/blog/2166070/202306/2166070-20230606232037353-1792537934.png"/></div></div><p>è¾“å…¥ï¼šgrid &#x3D; [[3,1,2,2],[1,4,4,5],[2,4,2,2],[2,4,2,2]]<br>è¾“å‡ºï¼š3<br>è§£é‡Šï¼šå­˜åœ¨ä¸‰å¯¹ç›¸ç­‰è¡Œåˆ—å¯¹ï¼š</p><ul><li>(ç¬¬ 0 è¡Œï¼Œç¬¬ 0 åˆ—)ï¼š[3,1,2,2]</li><li>(ç¬¬ 2 è¡Œ, ç¬¬ 2 åˆ—)ï¼š[2,4,2,2]</li><li>(ç¬¬ 3 è¡Œ, ç¬¬ 2 åˆ—)ï¼š[2,4,2,2]</li></ul><p>Â </p><p>æç¤ºï¼š</p><p>n &#x3D;&#x3D; grid.length &#x3D;&#x3D; grid[i].length<br>1 &lt;&#x3D; n &lt;&#x3D; 200<br>1 &lt;&#x3D; grid[i][j] &lt;&#x3D; 105</p><p>æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰<br>é“¾æ¥ï¼š<a href="https://leetcode.cn/problems/equal-row-and-column-pairs">https://leetcode.cn/problems/equal-row-and-column-pairs</a><br>è‘—ä½œæƒå½’é¢†æ‰£ç½‘ç»œæ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»å®˜æ–¹æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</p><h1 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h1><h2 id="cpp"><a href="#cpp" class="headerlink" title="cpp"></a>cpp</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">equalPairs</span><span class="params">(vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;&amp; grid)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> res = <span class="number">0</span>, n = grid.<span class="built_in">size</span>();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> row = <span class="number">0</span>; row &lt; n; row++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> col = <span class="number">0</span>; col &lt; n; col++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(<span class="built_in">equal</span>(row, col, grid))</span><br><span class="line">                &#123;</span><br><span class="line">                    res++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">equal</span><span class="params">(<span class="type">int</span> row, <span class="type">int</span> col, vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; &amp;grid)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="type">int</span> n = grid.<span class="built_in">size</span>();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(grid[row][i] != grid[i][col])</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="Go"><a href="#Go" class="headerlink" title="Go"></a>Go</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">equalPairs</span><span class="params">(grid [][]<span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    n := <span class="built_in">len</span>(grid)</span><br><span class="line">    cnt := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="type">string</span>]<span class="type">int</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> _,row := <span class="keyword">range</span> grid &#123;</span><br><span class="line">        cnt[fmt.Sprint(row)]++</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    res := <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> j := <span class="number">0</span>; j &lt; n; j++ &#123;</span><br><span class="line">        <span class="keyword">var</span> arr[] <span class="type">int</span></span><br><span class="line">        <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; n; i++ &#123;</span><br><span class="line">            arr = <span class="built_in">append</span>(arr, grid[i][j])</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> val,ok := cnt[fmt.Sprint(arr)]; ok &#123;</span><br><span class="line">            res += val</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> LeetCode </category>
          
      </categories>
      
      
        <tags>
            
            <tag> LeetCode </tag>
            
            <tag> æ•°æ® </tag>
            
            <tag> å“ˆå¸Œè¡¨ </tag>
            
            <tag> çŸ©é˜µ </tag>
            
            <tag> æ¨¡æ‹Ÿ </tag>
            
            <tag> Go </tag>
            
            <tag> C/C++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2611. è€é¼ å’Œå¥¶é…ª</title>
      <link href="/LeetCode/2611.%20%E8%80%81%E9%BC%A0%E5%92%8C%E5%A5%B6%E9%85%AA/"/>
      <url>/LeetCode/2611.%20%E8%80%81%E9%BC%A0%E5%92%8C%E5%A5%B6%E9%85%AA/</url>
      
        <content type="html"><![CDATA[<p>2023å¹´6æœˆ7æ—¥23:18:51</p><p>[toc]</p><h1 id="2611-è€é¼ å’Œå¥¶é…ª-åŠ›æ‰£ï¼ˆLeetCodeï¼‰"><a href="#2611-è€é¼ å’Œå¥¶é…ª-åŠ›æ‰£ï¼ˆLeetCodeï¼‰" class="headerlink" title="2611. è€é¼ å’Œå¥¶é…ª - åŠ›æ‰£ï¼ˆLeetCodeï¼‰"></a><a href="https://leetcode.cn/problems/mice-and-cheese/">2611. è€é¼ å’Œå¥¶é…ª - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></h1><p>æœ‰ä¸¤åªè€é¼ å’ŒÂ nÂ å—ä¸åŒç±»å‹çš„å¥¶é…ªï¼Œæ¯å—å¥¶é…ªéƒ½åªèƒ½è¢«å…¶ä¸­ä¸€åªè€é¼ åƒæ‰ã€‚</p><p>ä¸‹æ ‡ä¸º iÂ å¤„çš„å¥¶é…ªè¢«åƒæ‰çš„å¾—åˆ†ä¸ºï¼š</p><p>å¦‚æœç¬¬ä¸€åªè€é¼ åƒæ‰ï¼Œåˆ™å¾—åˆ†ä¸ºÂ reward1[i]Â ã€‚<br>å¦‚æœç¬¬äºŒåªè€é¼ åƒæ‰ï¼Œåˆ™å¾—åˆ†ä¸ºÂ reward2[i]Â ã€‚<br>ç»™ä½ ä¸€ä¸ªæ­£æ•´æ•°æ•°ç»„Â reward1Â ï¼Œä¸€ä¸ªæ­£æ•´æ•°æ•°ç»„Â reward2Â ï¼Œå’Œä¸€ä¸ªéè´Ÿæ•´æ•°Â kÂ ã€‚</p><p>è¯·ä½ è¿”å›ç¬¬ä¸€åªè€é¼ æ°å¥½åƒæ‰ kÂ å—å¥¶é…ªçš„æƒ…å†µä¸‹ï¼Œæœ€å¤§Â å¾—åˆ†ä¸ºå¤šå°‘ã€‚</p><p>Â </p><p>ç¤ºä¾‹ 1ï¼š</p><p>è¾“å…¥ï¼šreward1 &#x3D; [1,1,3,4], reward2 &#x3D; [4,4,1,1], k &#x3D; 2<br>è¾“å‡ºï¼š15<br>è§£é‡Šï¼šè¿™ä¸ªä¾‹å­ä¸­ï¼Œç¬¬ä¸€åªè€é¼ åƒæ‰ç¬¬ 2Â å’Œ 3 å—å¥¶é…ªï¼ˆä¸‹æ ‡ä» 0 å¼€å§‹ï¼‰ï¼Œç¬¬äºŒåªè€é¼ åƒæ‰ç¬¬ 0 å’Œ 1 å—å¥¶é…ªã€‚<br>æ€»å¾—åˆ†ä¸º 4 + 4 + 3 + 4 &#x3D; 15 ã€‚<br>15 æ˜¯æœ€é«˜å¾—åˆ†ã€‚<br>ç¤ºä¾‹ 2ï¼š</p><p>è¾“å…¥ï¼šreward1 &#x3D; [1,1], reward2 &#x3D; [1,1], k &#x3D; 2<br>è¾“å‡ºï¼š2<br>è§£é‡Šï¼šè¿™ä¸ªä¾‹å­ä¸­ï¼Œç¬¬ä¸€åªè€é¼ åƒæ‰ç¬¬ 0 å’Œ 1 å—å¥¶é…ªï¼ˆä¸‹æ ‡ä» 0 å¼€å§‹ï¼‰ï¼Œç¬¬äºŒåªè€é¼ ä¸åƒä»»ä½•å¥¶é…ªã€‚<br>æ€»å¾—åˆ†ä¸º 1 + 1 &#x3D; 2 ã€‚<br>2 æ˜¯æœ€é«˜å¾—åˆ†ã€‚Â </p><p>æç¤ºï¼š</p><p>1 &lt;&#x3D; n &#x3D;&#x3D; reward1.length &#x3D;&#x3D; reward2.length &lt;&#x3D; 105<br>1 &lt;&#x3D; reward1[i],Â reward2[i] &lt;&#x3D; 1000<br>0 &lt;&#x3D; k &lt;&#x3D; n</p><p>æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰<br>é“¾æ¥ï¼š<a href="https://leetcode.cn/problems/mice-and-cheese">https://leetcode.cn/problems/mice-and-cheese</a><br>è‘—ä½œæƒå½’é¢†æ‰£ç½‘ç»œæ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»å®˜æ–¹æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</p><h1 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h1><ol><li>æ€è·¯<br><strong>è´ªå¿ƒ + æ’åº</strong></li></ol><p>ç®—å‡ºå·®å€¼ï¼Œå–K ä¸ªæœ€å¤§å€¼å³å¯</p><ol><li>ä»£ç </li></ol><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">miceAndCheese</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; reward1, vector&lt;<span class="type">int</span>&gt;&amp; reward2, <span class="type">int</span> k)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> ans = <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> n = reward1.<span class="built_in">size</span>();</span><br><span class="line">        <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">diffs</span><span class="params">(n)</span></span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            ans += reward2[i];</span><br><span class="line">            diffs[i] = reward1[i] - reward2[i];</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="built_in">sort</span>(diffs.<span class="built_in">begin</span>(), diffs.<span class="built_in">end</span>());</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;=k; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            ans += diffs[n-i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">miceAndCheese</span><span class="params">(reward1 []<span class="type">int</span>, reward2 []<span class="type">int</span>, k <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    ans := <span class="number">0</span></span><br><span class="line">    n := <span class="built_in">len</span>(reward1)</span><br><span class="line"></span><br><span class="line">    diffs := <span class="built_in">make</span>([]<span class="type">int</span>, n)</span><br><span class="line">    <span class="keyword">for</span> i:=<span class="number">0</span>; i&lt;n; i++ &#123;</span><br><span class="line">        ans += reward2[i]</span><br><span class="line">        diffs[i] = reward1[i] - reward2[i]</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    sort.Ints(diffs)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i:=<span class="number">1</span>; i&lt;=k; i++ &#123;</span><br><span class="line">        ans += diffs[n-i]</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> ans</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> LeetCode </category>
          
      </categories>
      
      
        <tags>
            
            <tag> LeetCode </tag>
            
            <tag> è´ªå¿ƒ </tag>
            
            <tag> æ’åº </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>1706. çƒä¼šè½ä½•å¤„ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</title>
      <link href="/LeetCode/1706.%20%E7%90%83%E4%BC%9A%E8%90%BD%E4%BD%95%E5%A4%84/"/>
      <url>/LeetCode/1706.%20%E7%90%83%E4%BC%9A%E8%90%BD%E4%BD%95%E5%A4%84/</url>
      
        <content type="html"><![CDATA[<p>2022_02_24</p><p>[toc]</p><h1 id="1706-çƒä¼šè½ä½•å¤„"><a href="#1706-çƒä¼šè½ä½•å¤„" class="headerlink" title="1706. çƒä¼šè½ä½•å¤„"></a><a href="https://leetcode-cn.com/problems/where-will-the-ball-fall/">1706. çƒä¼šè½ä½•å¤„</a></h1><p>ç”¨ä¸€ä¸ªå¤§å°ä¸º <code>m x n</code> çš„äºŒç»´ç½‘æ ¼ <code>grid</code> è¡¨ç¤ºä¸€ä¸ªç®±å­ã€‚ä½ æœ‰ <code>n</code> é¢—çƒã€‚ç®±å­çš„é¡¶éƒ¨å’Œåº•éƒ¨éƒ½æ˜¯å¼€ç€çš„ã€‚</p><p>ç®±å­ä¸­çš„æ¯ä¸ªå•å…ƒæ ¼éƒ½æœ‰ä¸€ä¸ªå¯¹è§’çº¿æŒ¡æ¿ï¼Œè·¨è¿‡å•å…ƒæ ¼çš„ä¸¤ä¸ªè§’ï¼Œå¯ä»¥å°†çƒå¯¼å‘å·¦ä¾§æˆ–è€…å³ä¾§ã€‚</p><ul><li>å°†çƒå¯¼å‘å³ä¾§çš„æŒ¡æ¿è·¨è¿‡å·¦ä¸Šè§’å’Œå³ä¸‹è§’ï¼Œåœ¨ç½‘æ ¼ä¸­ç”¨ <code>1</code> è¡¨ç¤ºã€‚</li><li>å°†çƒå¯¼å‘å·¦ä¾§çš„æŒ¡æ¿è·¨è¿‡å³ä¸Šè§’å’Œå·¦ä¸‹è§’ï¼Œåœ¨ç½‘æ ¼ä¸­ç”¨ <code>-1</code> è¡¨ç¤ºã€‚</li></ul><p>åœ¨ç®±å­æ¯ä¸€åˆ—çš„é¡¶ç«¯å„æ”¾ä¸€é¢—çƒã€‚æ¯é¢—çƒéƒ½å¯èƒ½å¡åœ¨ç®±å­é‡Œæˆ–ä»åº•éƒ¨æ‰å‡ºæ¥ã€‚å¦‚æœçƒæ°å¥½å¡åœ¨ä¸¤å—æŒ¡æ¿ä¹‹é—´çš„ â€œVâ€ å½¢å›¾æ¡ˆï¼Œæˆ–è€…è¢«ä¸€å—æŒ¡å¯¼å‘åˆ°ç®±å­çš„ä»»æ„ä¸€ä¾§è¾¹ä¸Šï¼Œå°±ä¼šå¡ä½ã€‚</p><p>è¿”å›ä¸€ä¸ªå¤§å°ä¸º <code>n</code> çš„æ•°ç»„ <code>answer</code> ï¼Œå…¶ä¸­ <code>answer[i]</code> æ˜¯çƒæ”¾åœ¨é¡¶éƒ¨çš„ç¬¬ <code>i</code> åˆ—åä»åº•éƒ¨æ‰å‡ºæ¥çš„é‚£ä¸€åˆ—å¯¹åº”çš„ä¸‹æ ‡ï¼Œå¦‚æœçƒå¡åœ¨ç›’å­é‡Œï¼Œåˆ™è¿”å› <code>-1</code> ã€‚</p><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><p><strong><div class="tag-plugin image"><div class="image-bg"><img src="https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2020/12/26/ball.jpg"/></div></div></strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šgrid = [[1,1,1,-1,-1],[1,1,1,-1,-1],[-1,-1,-1,1,1],[1,1,1,1,-1],[-1,-1,-1,-1,-1]]</span><br><span class="line">è¾“å‡ºï¼š[1,-1,-1,-1,-1]</span><br><span class="line">è§£é‡Šï¼šç¤ºä¾‹å¦‚å›¾ï¼š</span><br><span class="line">b0 çƒå¼€å§‹æ”¾åœ¨ç¬¬ 0 åˆ—ä¸Šï¼Œæœ€ç»ˆä»ç®±å­åº•éƒ¨ç¬¬ 1 åˆ—æ‰å‡ºã€‚</span><br><span class="line">b1 çƒå¼€å§‹æ”¾åœ¨ç¬¬ 1 åˆ—ä¸Šï¼Œä¼šå¡åœ¨ç¬¬ 2ã€3 åˆ—å’Œç¬¬ 1 è¡Œä¹‹é—´çš„ &quot;V&quot; å½¢é‡Œã€‚</span><br><span class="line">b2 çƒå¼€å§‹æ”¾åœ¨ç¬¬ 2 åˆ—ä¸Šï¼Œä¼šå¡åœ¨ç¬¬ 2ã€3 åˆ—å’Œç¬¬ 0 è¡Œä¹‹é—´çš„ &quot;V&quot; å½¢é‡Œã€‚</span><br><span class="line">b3 çƒå¼€å§‹æ”¾åœ¨ç¬¬ 3 åˆ—ä¸Šï¼Œä¼šå¡åœ¨ç¬¬ 2ã€3 åˆ—å’Œç¬¬ 0 è¡Œä¹‹é—´çš„ &quot;V&quot; å½¢é‡Œã€‚</span><br><span class="line">b4 çƒå¼€å§‹æ”¾åœ¨ç¬¬ 4 åˆ—ä¸Šï¼Œä¼šå¡åœ¨ç¬¬ 2ã€3 åˆ—å’Œç¬¬ 1 è¡Œä¹‹é—´çš„ &quot;V&quot; å½¢é‡Œã€‚</span><br></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹ 2ï¼š</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šgrid = [[-1]]</span><br><span class="line">è¾“å‡ºï¼š[-1]</span><br><span class="line">è§£é‡Šï¼šçƒè¢«å¡åœ¨ç®±å­å·¦ä¾§è¾¹ä¸Šã€‚</span><br></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹ 3ï¼š</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šgrid = [[1,1,1,1,1,1],[-1,-1,-1,-1,-1,-1],[1,1,1,1,1,1],[-1,-1,-1,-1,-1,-1]]</span><br><span class="line">è¾“å‡ºï¼š[0,1,2,3,4,-1]</span><br></pre></td></tr></table></figure><p><strong>æç¤ºï¼š</strong></p><ul><li><code>m == grid.length</code></li><li><code>n == grid[i].length</code></li><li><code>1 &lt;= m, n &lt;= 100</code></li><li><code>grid[i][j]</code> ä¸º <code>1</code> æˆ– <code>-1</code></li></ul><h1 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h1><p>æ€è·¯</p><p>æˆ‘ä»¬ä¾æ¬¡åˆ¤æ–­æ¯ä¸ªçƒçš„æœ€ç»ˆä½ç½®ã€‚å¯¹äºæ¯ä¸ªçƒï¼Œä»ä¸Šè‡³ä¸‹åˆ¤æ–­çƒä½ç½®çš„ç§»åŠ¨æ–¹å‘ã€‚åœ¨å¯¹åº”çš„ä½ç½®ï¼Œå¦‚æœæŒ¡æ¿å‘å³åï¼Œåˆ™çƒä¼šå¾€å³ç§»åŠ¨ï¼›å¦‚æœæŒ¡æ¿å¾€å·¦åï¼Œåˆ™çƒä¼šå¾€å·¦ç§»åŠ¨ã€‚è‹¥ç§»åŠ¨è¿‡ç¨‹ä¸­ç¢°åˆ°ä¾§è¾¹æˆ–è€… \text{V}V å‹ï¼Œåˆ™çƒä¼šåœæ­¢ç§»åŠ¨ï¼Œå¡åœ¨ç®±å­é‡Œã€‚å¦‚æœå¯ä»¥å®Œæˆæœ¬å±‚çš„ç§»åŠ¨ï¼Œåˆ™ç»§ç»­åˆ¤æ–­ä¸‹ä¸€å±‚çš„ç§»åŠ¨æ–¹å‘ï¼Œç›´åˆ°è½å‡ºç®±å­æˆ–è€…å¡ä½ã€‚</p><p>ä½œè€…ï¼šLeetCode-Solution<br>é“¾æ¥ï¼š<a href="https://leetcode-cn.com/problems/where-will-the-ball-fall/solution/qiu-hui-luo-he-chu-by-leetcode-solution-xqop/">https://leetcode-cn.com/problems/where-will-the-ball-fall/solution/qiu-hui-luo-he-chu-by-leetcode-solution-xqop/</a><br>æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰<br>è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">findBall</span><span class="params">(vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;&amp; grid)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> n = grid[<span class="number">0</span>].<span class="built_in">size</span>(); <span class="comment">//ç®±å­çš„åˆ—æ•°</span></span><br><span class="line">        <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">ans</span><span class="params">(n)</span></span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123; <span class="comment">//åˆ†åˆ«æ±‚æ¯ä¸ªçƒæ‰åˆ°åº•éƒ¨çš„ä½ç½®ä¸‹æ ‡</span></span><br><span class="line">            <span class="type">int</span> col = i; <span class="comment">//colè¡¨ç¤ºçƒåœ¨ä¸‹é™è¿‡ç¨‹ä¸­çš„çºµåæ ‡</span></span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">auto</span>&amp; row : grid)&#123; <span class="comment">//åˆ†åˆ«æ±‚å‡ºçƒæ‰åˆ°æ¯å±‚çš„ä½ç½®</span></span><br><span class="line">                <span class="type">int</span> dir = row[col];ã€€<span class="comment">//dirè¡¨ç¤ºçƒåœ¨ä¸‹é™è¿‡ç¨‹ä¸­å‘å·¦æˆ–å‘å³ä¸‹é™</span></span><br><span class="line">                col += dir; <span class="comment">//æ›´æ–°çƒåœ¨ä¸‹ä¸€å±‚çš„çºµåæ ‡,å‘å³ç§»åŠ¨(çºµåæ ‡åŠ 1)/å‘å·¦ç§»åŠ¨(çºµåæ ‡å‡1)</span></span><br><span class="line">                <span class="keyword">if</span>(col &lt; <span class="number">0</span> || col == n || row[col] != dir )&#123; <span class="comment">//row[col]è¡¨ç¤ºçƒå°†è¦ç§»åŠ¨çš„æ–¹å‘ä¸ŠæŒ¡æ¿çš„å¸ƒç½®æƒ…å†µ,dirè¡¨ç¤ºå½“å‰çƒçš„ç§»åŠ¨æ–¹å‘ï¼Œä¸¤è€…æ–¹å‘ä¸ä¸€è‡´ä¼šå½¢æˆå¤¹è§’</span></span><br><span class="line">                    col = <span class="number">-1</span>;ã€€<span class="comment">//å½“å½¢æˆå¤¹è§’æˆ–è¢«æŒ¡åœ¨ç®±å­ä¾§è¾¹æ—¶,çƒå°†ä¼šå¡åœ¨ç›’å­é‡Œ,æ‰€ä»¥è¯¥çƒä¸‹é™çš„ç»“æœå€¼ç›´æ¥èµ‹å€¼ä¸º-1;</span></span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            ans[i] = col; <span class="comment">//colè¡¨ç¤ºæ¯ä¸ªçƒæ‰è½åˆ°åº•éƒ¨çš„ä½ç½®,å³ä¸ºç»“æœå€¼</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">â€‹<span class="function"><span class="keyword">func</span> <span class="title">findBall</span><span class="params">(grid [][]<span class="type">int</span>)</span></span> []<span class="type">int</span> &#123;</span><br><span class="line">    n := <span class="built_in">len</span>(grid[<span class="number">0</span>])</span><br><span class="line">    ans := <span class="built_in">make</span>([]<span class="type">int</span>, n)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> j := <span class="keyword">range</span> ans &#123;</span><br><span class="line">        col := j <span class="comment">// çƒçš„åˆå§‹åˆ—</span></span><br><span class="line">        <span class="keyword">for</span> _, row := <span class="keyword">range</span> grid &#123;</span><br><span class="line">            dir := row[col]</span><br><span class="line">            col += dir <span class="comment">// ç§»åŠ¨çƒ</span></span><br><span class="line">            <span class="keyword">if</span> col &lt; <span class="number">0</span> || col == n || row[col] != dir &#123; <span class="comment">// åˆ°è¾¾ä¾§è¾¹æˆ–Vå‹</span></span><br><span class="line">                col = <span class="number">-1</span></span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        ans[j] = col <span class="comment">// col &gt;= 0 ä¸ºæˆåŠŸåˆ°è¾¾åº•éƒ¨</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> LeetCode </category>
          
      </categories>
      
      
        <tags>
            
            <tag> LeetCode </tag>
            
            <tag> çŸ©é˜µ </tag>
            
            <tag> æ¨¡æ‹Ÿ </tag>
            
            <tag> Go </tag>
            
            <tag> C/C++ </tag>
            
            <tag> æ•°ç»„ </tag>
            
            <tag> æ·±åº¦ä¼˜å…ˆæœç´¢ </tag>
            
            <tag> åŠ¨æ€è§„åˆ’ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>TCP/IPçš„å››å…ƒç»„ã€äº”å…ƒç»„ã€ä¸ƒå…ƒç»„</title>
      <link href="/Code/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/%E5%9B%9B%E5%85%83%E7%BB%84%E3%80%81%E4%BA%94%E5%85%83%E7%BB%84%E3%80%81%E4%B8%83%E5%85%83%E7%BB%84/"/>
      <url>/Code/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/%E5%9B%9B%E5%85%83%E7%BB%84%E3%80%81%E4%BA%94%E5%85%83%E7%BB%84%E3%80%81%E4%B8%83%E5%85%83%E7%BB%84/</url>
      
        <content type="html"><![CDATA[<h1 id="TCP-x2F-IPçš„å››å…ƒç»„ã€äº”å…ƒç»„ã€ä¸ƒå…ƒç»„"><a href="#TCP-x2F-IPçš„å››å…ƒç»„ã€äº”å…ƒç»„ã€ä¸ƒå…ƒç»„" class="headerlink" title="TCP&#x2F;IPçš„å››å…ƒç»„ã€äº”å…ƒç»„ã€ä¸ƒå…ƒç»„"></a>TCP&#x2F;IPçš„å››å…ƒç»„ã€äº”å…ƒç»„ã€ä¸ƒå…ƒç»„</h1><p>å››å…ƒç»„æ˜¯ï¼š</p><p>ã€€ã€€æºIPåœ°å€ã€ç›®çš„IPåœ°å€ã€æºç«¯å£ã€ç›®çš„ç«¯å£</p><p>äº”å…ƒç»„æ˜¯ï¼š</p><p>ã€€ã€€æºIPåœ°å€ã€ç›®çš„IPåœ°å€ã€<strong>åè®®å·</strong>ã€æºç«¯å£ã€ç›®çš„ç«¯å£</p><p>ä¸ƒå…ƒç»„æ˜¯ï¼š</p><p>ã€€ã€€æºIPåœ°å€ã€ç›®çš„IPåœ°å€ã€åè®®å·ã€æºç«¯å£ã€ç›®çš„ç«¯å£ã€<strong>æœåŠ¡ç±»å‹</strong>ã€<strong>æ¥å£ç´¢å¼•</strong></p>]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> ç½‘ç»œç¼–ç¨‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> IP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>socket é•¿è¿æ¥</title>
      <link href="/Code/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/windows%20Socket%E9%95%BF%E8%BF%9E%E6%8E%A5/"/>
      <url>/Code/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/windows%20Socket%E9%95%BF%E8%BF%9E%E6%8E%A5/</url>
      
        <content type="html"><![CDATA[<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">BOOL _KeepAlive(SP_SOCKET fd)</span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">//å®šä¹‰ç»“æ„åŠå®</span></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">KeepAlive</span></span><br><span class="line">&#123;</span><br><span class="line">u_long onoff;</span><br><span class="line">u_long keepalivetime;</span><br><span class="line">u_long keepaliveinterval;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> SIO_KEEPALIVE_VALS _WSAIOW(IOC_VENDOR,4)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//KeepAliveå®ç°</span></span><br><span class="line">KeepAlive inKeepAlive = &#123; <span class="number">0</span> &#125;; <span class="comment">//è¾“å…¥å‚æ•°</span></span><br><span class="line"><span class="type">unsigned</span> <span class="type">long</span> ulInLen = <span class="built_in">sizeof</span>(KeepAlive);</span><br><span class="line"></span><br><span class="line">KeepAlive outKeepAlive = &#123; <span class="number">0</span> &#125;; <span class="comment">//è¾“å‡ºå‚æ•°</span></span><br><span class="line"><span class="type">unsigned</span> <span class="type">long</span> ulOutLen = <span class="built_in">sizeof</span>(KeepAlive);</span><br><span class="line"><span class="type">unsigned</span> <span class="type">long</span> ulBytesReturn = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//keepalive xpä»¥å‰çš„ç³»ç»Ÿå‘é€5æ¬¡ï¼Œxpä¹‹åçš„ç³»ç»Ÿå‘é€10</span></span><br><span class="line">inKeepAlive.onoff = <span class="number">1</span>;</span><br><span class="line">inKeepAlive.keepaliveinterval = <span class="number">5000</span>; <span class="comment">//ä¸¤æ¬¡KeepAliveæ¢æµ‹é—´çš„æ—¶é—´é—´éš”</span></span><br><span class="line">inKeepAlive.keepalivetime = <span class="number">5000</span>; <span class="comment">//å¼€å§‹é¦–æ¬¡KeepAliveæ¢æµ‹å‰çš„TCPç©ºé—­æ—¶é—´</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">WSAIoctl</span>((SOCKET)fd, SIO_KEEPALIVE_VALS,</span><br><span class="line">(LPVOID)&amp;inKeepAlive, ulInLen,</span><br><span class="line">(LPVOID)&amp;outKeepAlive, ulOutLen,</span><br><span class="line">&amp;ulBytesReturn, <span class="literal">NULL</span>, <span class="literal">NULL</span>) == SOCKET_ERROR)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">LOGT</span>(<span class="string">&quot;Set Keep Alive FAILED.&quot;</span>);</span><br><span class="line"><span class="keyword">return</span> FALSE;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">LOGT</span>(<span class="string">&quot;Set Keep Alive OK.&quot;</span>);</span><br><span class="line"><span class="keyword">return</span> TRUE;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> ç½‘ç»œç¼–ç¨‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç½‘ç»œ </tag>
            
            <tag> socket </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>tcp.flags è¯´æ˜</title>
      <link href="/Code/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/tcp/tcp.flags/"/>
      <url>/Code/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/tcp/tcp.flags/</url>
      
        <content type="html"><![CDATA[<h1 id="tcp-flags-è¯´æ˜"><a href="#tcp-flags-è¯´æ˜" class="headerlink" title="tcp.flags è¯´æ˜"></a>tcp.flags è¯´æ˜</h1><p>åœ¨Wiresharkçš„è¿‡æ»¤å™¨ä¸­,tcp.flagså¯ä»¥ç”¨äºè¿‡æ»¤å„ç§TCPæ ‡å¿—ä½ã€‚å®ƒåŒ…å«ä»¥ä¸‹é¡¹ç›®:</p><ul><li><p>SYN: æ ‡å¿—ä½SYN&#x3D;1,ç”¨äºTCPä¸‰æ¬¡æ¡æ‰‹ä¸­çš„ SYN æ•°æ®åŒ…,è¯·æ±‚å»ºç«‹è¿æ¥</p></li><li><p>ACK: æ ‡å¿—ä½ACK&#x3D;1,ç¡®è®¤æ¥æ”¶åˆ°çš„æ•°æ®</p></li><li><p>FIN: æ ‡å¿—ä½FIN&#x3D;1,è¯·æ±‚å…³é—­è¿æ¥</p></li><li><p>RST: æ ‡å¿—ä½RST&#x3D;1,é‡ç½®è¿æ¥</p></li><li><p>PSH: æ ‡å¿—ä½PSH&#x3D;1,æ¥æ”¶æ–¹åº”ç«‹å³ä¼ é€æ­¤æŠ¥æ–‡çš„æ•°æ®,è€Œä¸ç­‰å¾…å…¶ä»–æ•°æ®</p></li><li><p>URG: æ ‡å¿—ä½URG&#x3D;1,æ­¤æŠ¥æ–‡åŒ…å«ç´§æ€¥æ•°æ®</p></li><li><p>ECE: ECN Echo, æ ‡å¿—ä½ECE&#x3D;1,å›å¤ECNè®¾ç½®çš„é€šçŸ¥</p></li><li><p>CWR: Congestion Window Reduced,æ ‡å¿—ä½CWR&#x3D;1,é€šçŸ¥å‘é€æ–¹æ‹¥å¡çª—å£å·²ç»å‡å°‘</p></li></ul><p>è¿™äº›æ ‡å¿—ä½å¯ä»¥å•ç‹¬ä½¿ç”¨,ä¹Ÿå¯ä»¥ç»„åˆä½¿ç”¨ã€‚ä¾‹å¦‚:</p><ul><li><p>SYN+ACK: æœåŠ¡ç«¯å“åº”çš„SYN+ACKæ•°æ®åŒ…,åŒæ„å»ºç«‹è¿æ¥å¹¶ç¡®è®¤SYN</p></li><li><p>FIN+ACK: ç¡®è®¤å¯¹ç«¯çš„FINçš„æ•°æ®åŒ…,åŒæ—¶è‡ªèº«ä¹Ÿè¯·æ±‚å…³é—­è¿æ¥</p></li></ul><p>åœ¨Wiresharkçš„è¿‡æ»¤å™¨ä¸­,å¯ä»¥ä½¿ç”¨è¿™äº›æ ‡å¿—ä½è¿›è¡Œè¿‡æ»¤,ä¾‹å¦‚:- SYN è¿‡æ»¤SYNæ•°æ®åŒ…</p><ul><li><p>ACK è¿‡æ»¤ACKæ•°æ®åŒ… </p></li><li><p>FIN è¿‡æ»¤FINæ•°æ®åŒ…</p></li><li><p>RST è¿‡æ»¤RSTæ•°æ®åŒ…</p></li><li><p>tcp.flags.syn&#x3D;&#x3D;1 è¿‡æ»¤SYNæ ‡å¿—ä½ä¸º1çš„æ•°æ®åŒ…</p></li><li><p>tcp.flags.syn&#x3D;&#x3D; &amp;&amp; tcp.flags.ack&#x3D;&#x3D;1 è¿‡æ»¤åŒæ—¶åŒ…å«SYNå’ŒACKæ ‡å¿—ä½çš„æ•°æ®åŒ…</p></li></ul><p>é€šè¿‡è¿‡æ»¤ä¸åŒçš„æ ‡å¿—ä½æˆ–æ ‡å¿—ä½ç»„åˆ,å¯ä»¥åˆ†æå‡ºTCPè¿æ¥çš„æ¡æ‰‹ã€æ•°æ®ä¼ è¾“å’Œé‡Šæ”¾è¿‡ç¨‹ã€‚å½“ç„¶,é™¤äº†è¿™äº›æ ‡å¿—ä½å¤–,è¿‡æ»¤å™¨ä¸­ tcp è¿˜åŒ…å«å…¶ä»–å­—æ®µ,ä¾‹å¦‚:- srcport æºç«¯å£<br>  - dstport ç›®æ ‡ç«¯å£<br>  - seq åºåˆ—å·<br>  - ack ç¡®è®¤å·<br>  - window_size çª—å£å¤§å°<br>  - payload:å¯ä»¥è¿‡æ»¤åŒ…å«ç‰¹å®šæ•°æ®çš„åŒ…<br>  - ç­‰ç­‰</p>]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> ç½‘ç»œç¼–ç¨‹ </category>
          
          <category> tcp </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç½‘ç»œç¼–ç¨‹ </tag>
            
            <tag> tcp </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>libevent http server</title>
      <link href="/Code/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/libevent/Libevent%E2%80%94%E2%80%94httpserver/"/>
      <url>/Code/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/libevent/Libevent%E2%80%94%E2%80%94httpserver/</url>
      
        <content type="html"><![CDATA[<p>[toc]</p><h1 id="å®ç°http-server"><a href="#å®ç°http-server" class="headerlink" title="å®ç°http-server"></a>å®ç°http-server</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;evhttp.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;event.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;event2/http.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;event2/event.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;event2/buffer.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;event2/bufferevent.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;event2/bufferevent_compat.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;event2/http_struct.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;event2/http_compat.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;event2/util.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;event2/listener.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">pragma</span> comment(lib,<span class="string">&quot;ws2_32.lib&quot;</span>)</span></span><br><span class="line"><span class="meta">#<span class="keyword">pragma</span> comment(lib, <span class="string">&quot;Iphlpapi.lib&quot;</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> BUF_MAX 1024*16</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//è§£æpostè¯·æ±‚æ•°æ®</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">get_post_message</span><span class="params">(<span class="type">char</span>* buf, <span class="keyword">struct</span> evhttp_request* req)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">size_t</span> post_size = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">post_size = <span class="built_in">evbuffer_get_length</span>(req-&gt;input_buffer);<span class="comment">//è·å–æ•°æ®é•¿åº¦</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;====line:%d,post len:%d\n&quot;</span>, __LINE__, post_size);</span><br><span class="line"><span class="keyword">if</span> (post_size &lt;= <span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;====line:%d,post msg is empty!\n&quot;</span>, __LINE__);</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">size_t</span> copy_len = post_size &gt; BUF_MAX ? BUF_MAX : post_size;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;====line:%d,post len:%d, copy_len:%d\n&quot;</span>, __LINE__, post_size, copy_len);</span><br><span class="line"><span class="built_in">memcpy</span>(buf, <span class="built_in">evbuffer_pullup</span>(req-&gt;input_buffer, <span class="number">-1</span>), copy_len);</span><br><span class="line">buf[post_size] = <span class="string">&#x27;\0&#x27;</span>;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;====line:%d,post msg:%s\n&quot;</span>, __LINE__, buf);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è§£æhttpå¤´ï¼Œä¸»è¦ç”¨äºgetè¯·æ±‚æ—¶è§£æuriå’Œè¯·æ±‚å‚æ•°</span></span><br><span class="line"><span class="function"><span class="type">char</span>* <span class="title">find_http_header</span><span class="params">(<span class="keyword">struct</span> evhttp_request* req, <span class="keyword">struct</span> evkeyvalq* params, <span class="type">const</span> <span class="type">char</span>* query_char)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span> (req == <span class="literal">NULL</span> || params == <span class="literal">NULL</span> || query_char == <span class="literal">NULL</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;====line:%d,%s\n&quot;</span>, __LINE__, <span class="string">&quot;input params is null.&quot;</span>);</span><br><span class="line"><span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">evhttp_uri</span>* decoded = <span class="literal">NULL</span>;</span><br><span class="line"><span class="type">char</span>* query = <span class="literal">NULL</span>;</span><br><span class="line"><span class="type">char</span>* query_result = <span class="literal">NULL</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">char</span>* path;</span><br><span class="line"><span class="type">const</span> <span class="type">char</span>* uri = <span class="built_in">evhttp_request_get_uri</span>(req);<span class="comment">//è·å–è¯·æ±‚uri</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (uri == <span class="literal">NULL</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;====line:%d,evhttp_request_get_uri return null\n&quot;</span>, __LINE__);</span><br><span class="line"><span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;====line:%d,Got a GET request for &lt;%s&gt;\n&quot;</span>, __LINE__, uri);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è§£ç uri</span></span><br><span class="line">decoded = <span class="built_in">evhttp_uri_parse</span>(uri);</span><br><span class="line"><span class="keyword">if</span> (!decoded)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;====line:%d,It&#x27;s not a good URI. Sending BADREQUEST\n&quot;</span>, __LINE__);</span><br><span class="line"><span class="built_in">evhttp_send_error</span>(req, HTTP_BADREQUEST, <span class="number">0</span>);</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è·å–uriä¸­çš„pathéƒ¨åˆ†</span></span><br><span class="line">path = <span class="built_in">evhttp_uri_get_path</span>(decoded);</span><br><span class="line"><span class="keyword">if</span> (path == <span class="literal">NULL</span>)</span><br><span class="line">&#123;</span><br><span class="line">path = <span class="string">&quot;/&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;====line:%d,path is:%s\n&quot;</span>, __LINE__, path);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è·å–uriä¸­çš„å‚æ•°éƒ¨åˆ†</span></span><br><span class="line">query = (<span class="type">char</span>*)<span class="built_in">evhttp_uri_get_query</span>(decoded);</span><br><span class="line"><span class="keyword">if</span> (query == <span class="literal">NULL</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;====line:%d,evhttp_uri_get_query return null\n&quot;</span>, __LINE__);</span><br><span class="line"><span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æŸ¥è¯¢æŒ‡å®šå‚æ•°çš„å€¼</span></span><br><span class="line"><span class="built_in">evhttp_parse_query_str</span>(query, params);</span><br><span class="line">query_result = (<span class="type">char</span>*)<span class="built_in">evhttp_find_header</span>(params, query_char);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> query_result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å¤„ç†getè¯·æ±‚</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">http_handler_testget_msg</span><span class="params">(<span class="keyword">struct</span> evhttp_request* req, <span class="type">void</span>* arg)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span> (req == <span class="literal">NULL</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;====line:%d,%s\n&quot;</span>, __LINE__, <span class="string">&quot;input param req is null.&quot;</span>);</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">char</span>* sign = <span class="literal">NULL</span>;</span><br><span class="line"><span class="type">char</span>* data = <span class="literal">NULL</span>;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">evkeyvalq</span> sign_params = &#123; <span class="number">0</span> &#125;;</span><br><span class="line">sign = <span class="built_in">find_http_header</span>(req, &amp;sign_params, <span class="string">&quot;sign&quot;</span>);<span class="comment">//è·å–getè¯·æ±‚uriä¸­çš„signå‚æ•°</span></span><br><span class="line"><span class="keyword">if</span> (sign == <span class="literal">NULL</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;====line:%d,%s\n&quot;</span>, __LINE__, <span class="string">&quot;request uri no param sign.&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;====line:%d,get request param: sign=[%s]\n&quot;</span>, __LINE__, sign);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">data = <span class="built_in">find_http_header</span>(req, &amp;sign_params, <span class="string">&quot;data&quot;</span>);<span class="comment">//è·å–getè¯·æ±‚uriä¸­çš„dataå‚æ•°</span></span><br><span class="line"><span class="keyword">if</span> (data == <span class="literal">NULL</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;====line:%d,%s\n&quot;</span>, __LINE__, <span class="string">&quot;request uri no param data.&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;====line:%d,get request param: data=[%s]\n&quot;</span>, __LINE__, data);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//å›å“åº”</span></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">evbuffer</span>* retbuff = <span class="literal">NULL</span>;</span><br><span class="line">retbuff = <span class="built_in">evbuffer_new</span>();</span><br><span class="line"><span class="keyword">if</span> (retbuff == <span class="literal">NULL</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;====line:%d,%s\n&quot;</span>, __LINE__, <span class="string">&quot;retbuff is null.&quot;</span>);</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">evbuffer_add_printf</span>(retbuff, <span class="string">&quot;Receive get request,Thamks for the request!&quot;</span>);</span><br><span class="line"><span class="built_in">evhttp_send_reply</span>(req, HTTP_OK, <span class="string">&quot;Client&quot;</span>, retbuff);</span><br><span class="line"><span class="built_in">evbuffer_free</span>(retbuff);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å¤„ç†postè¯·æ±‚</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">http_handler_testpost_msg</span><span class="params">(<span class="keyword">struct</span> evhttp_request* req, <span class="type">void</span>* arg)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span> (req == <span class="literal">NULL</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;====line:%d,%s\n&quot;</span>, __LINE__, <span class="string">&quot;input param req is null.&quot;</span>);</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">char</span> buf[BUF_MAX] = &#123; <span class="number">0</span> &#125;;</span><br><span class="line"><span class="built_in">get_post_message</span>(buf, req);<span class="comment">//è·å–è¯·æ±‚æ•°æ®ï¼Œä¸€èˆ¬æ˜¯jsonæ ¼å¼çš„æ•°æ®</span></span><br><span class="line"><span class="keyword">if</span> (buf == <span class="literal">NULL</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;====line:%d,%s\n&quot;</span>, __LINE__, <span class="string">&quot;get_post_message return null.&quot;</span>);</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">//å¯ä»¥ä½¿ç”¨jsonåº“è§£æéœ€è¦çš„æ•°æ®</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;====line:%d,request data:%s&quot;</span>, __LINE__, buf);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å›å“åº”</span></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">evbuffer</span>* retbuff = <span class="literal">NULL</span>;</span><br><span class="line">retbuff = <span class="built_in">evbuffer_new</span>();</span><br><span class="line"><span class="keyword">if</span> (retbuff == <span class="literal">NULL</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;====line:%d,%s\n&quot;</span>, __LINE__, <span class="string">&quot;retbuff is null.&quot;</span>);</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">evbuffer_add_printf</span>(retbuff, <span class="string">&quot;Receive Get request,Thamks for the request!&quot;</span>);</span><br><span class="line"><span class="built_in">evhttp_send_reply</span>(req, HTTP_OK, <span class="string">&quot;Client&quot;</span>, retbuff);</span><br><span class="line"><span class="built_in">evbuffer_free</span>(retbuff);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">evhttp</span>* http_server = <span class="literal">NULL</span>;</span><br><span class="line"><span class="type">short</span> http_port = <span class="number">8081</span>;</span><br><span class="line"><span class="type">char</span>* http_addr = <span class="string">&quot;0.0.0.0&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">ifdef</span> _WIN32</span></span><br><span class="line">&#123;</span><br><span class="line">WORD wVersionRequested;</span><br><span class="line">WSADATA wsaData;</span><br><span class="line"><span class="type">int</span> err;</span><br><span class="line"></span><br><span class="line">wVersionRequested = <span class="built_in">MAKEWORD</span>(<span class="number">2</span>, <span class="number">2</span>);</span><br><span class="line"></span><br><span class="line">err = <span class="built_in">WSAStartup</span>(wVersionRequested, &amp;wsaData);</span><br><span class="line"><span class="keyword">if</span> (err != <span class="number">0</span>) &#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;WSAStartup failed with error: %d\n&quot;</span>, err);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span> <span class="comment">// _WIN32</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆå§‹åŒ–</span></span><br><span class="line"><span class="built_in">event_init</span>();</span><br><span class="line"><span class="comment">//å¯åŠ¨httpæœåŠ¡ç«¯</span></span><br><span class="line">http_server = <span class="built_in">evhttp_start</span>(http_addr, http_port);</span><br><span class="line"><span class="keyword">if</span> (http_server == <span class="literal">NULL</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;====line:%d,%s\n&quot;</span>, __LINE__, <span class="string">&quot;http server start failed.&quot;</span>);</span><br><span class="line"><span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è®¾ç½®è¯·æ±‚è¶…æ—¶æ—¶é—´(s)</span></span><br><span class="line"><span class="built_in">evhttp_set_timeout</span>(http_server, <span class="number">5</span>);</span><br><span class="line"><span class="comment">//è®¾ç½®äº‹ä»¶å¤„ç†å‡½æ•°ï¼Œevhttp_set_cbé’ˆå¯¹æ¯ä¸€ä¸ªäº‹ä»¶(è¯·æ±‚)æ³¨å†Œä¸€ä¸ªå¤„ç†å‡½æ•°ï¼Œ</span></span><br><span class="line"><span class="comment">//åŒºåˆ«äºevhttp_set_gencbå‡½æ•°ï¼Œæ˜¯å¯¹æ‰€æœ‰è¯·æ±‚è®¾ç½®ä¸€ä¸ªç»Ÿä¸€çš„å¤„ç†å‡½æ•°</span></span><br><span class="line"><span class="built_in">evhttp_set_cb</span>(http_server, <span class="string">&quot;/me/testpost&quot;</span>, http_handler_testpost_msg, <span class="literal">NULL</span>);</span><br><span class="line"><span class="built_in">evhttp_set_cb</span>(http_server, <span class="string">&quot;/me/testget&quot;</span>, http_handler_testget_msg, <span class="literal">NULL</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//å¾ªç¯ç›‘å¬</span></span><br><span class="line"><span class="built_in">event_dispatch</span>();</span><br><span class="line"><span class="comment">//å®é™…ä¸Šä¸ä¼šé‡Šæ”¾ï¼Œä»£ç ä¸ä¼šè¿è¡Œåˆ°è¿™ä¸€æ­¥</span></span><br><span class="line"><span class="built_in">evhttp_free</span>(http_server);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="ä½¿ç”¨-postman-è¯·æ±‚"><a href="#ä½¿ç”¨-postman-è¯·æ±‚" class="headerlink" title="ä½¿ç”¨ postman è¯·æ±‚"></a>ä½¿ç”¨ postman è¯·æ±‚</h1><h2 id="Get"><a href="#Get" class="headerlink" title="Get"></a>Get</h2><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ¥å£</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span><span class="punctuation">:</span><span class="number">8081</span>/me/testpost</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¯·æ±‚ä½“</span></span><br><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;username&quot;</span><span class="punctuation">:</span> <span class="string">&quot;A&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;password&quot;</span><span class="punctuation">:</span> <span class="string">&quot;123123Qq&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;reqtime&quot;</span><span class="punctuation">:</span> <span class="string">&quot;2023å¹´1æœˆ28æ—¥15:44:58&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><div class="tag-plugin image"><div class="image-bg"><img src="Libevent%E2%80%94%E2%80%94httpserver/image-20230128155253773.png"/></div></div><p>http-server æ§åˆ¶å°è¾“å‡ºï¼š</p><div style="background:black;font:conloas;color:white;"> ====line:65,Got a GET request for </me/testget> <br>====line:85,path is:/me/testget<br>====line:92,evhttp_uri_get_query return null<br>====line:118,request uri no param sign.<br>====line:65,Got a GET request for </me/testget><br>====line:85,path is:/me/testget<br>====line:92,evhttp_uri_get_query return null<br>====line:128,request uri no param data.<br></span><h2 id="Post"><a href="#Post" class="headerlink" title="Post"></a>Post</h2><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># æ¥å£</span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span><span class="punctuation">:</span><span class="number">8081</span>/me/testpost</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¯·æ±‚ä½“</span></span><br><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;username&quot;</span><span class="punctuation">:</span> <span class="string">&quot;A&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;password&quot;</span><span class="punctuation">:</span> <span class="string">&quot;123123Qq&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;reqtime&quot;</span><span class="punctuation">:</span> <span class="string">&quot;2023å¹´1æœˆ28æ—¥15:44:58&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><div class="tag-plugin image"><div class="image-bg"><img src="Libevent%E2%80%94%E2%80%94httpserver/image-20230128154948132.png"/></div></div><p>http-server æ§åˆ¶å°è¾“å‡ºï¼š</p><div style="background:black;font:conloas;color:white;"> ====line:27,post len:98<br>====line:36,post len:98, copy_len:98<br>====line:39,post msg:{<br>    "username": "A",<br>    "password": "123123Qq",<br>    "reqtime": "2023éª?éˆ?8éƒ?5:44:58"<br>}<br>====line:168,request data:{<br>    "username": "A",<br>    "password": "123123Qq",<br>    "reqtime": "2023éª?éˆ?8éƒ?5:44:58"<br>}<br></div>]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> ç½‘ç»œç¼–ç¨‹ </category>
          
          <category> libevent </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç½‘ç»œç¼–ç¨‹ </tag>
            
            <tag> libevent </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Curlä½¿ç”¨çš„ä¸€äº›demoï¼Œè®°å½•</title>
      <link href="/Code/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/Curl%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/"/>
      <url>/Code/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/Curl%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/</url>
      
        <content type="html"><![CDATA[<p>[toc]</p><h1 id="1ã€ç¼–è¯‘åŠä½¿ç”¨"><a href="#1ã€ç¼–è¯‘åŠä½¿ç”¨" class="headerlink" title="1ã€ç¼–è¯‘åŠä½¿ç”¨"></a>1ã€ç¼–è¯‘åŠä½¿ç”¨</h1><h2 id="1-1-ç¼–è¯‘"><a href="#1-1-ç¼–è¯‘" class="headerlink" title="1.1 ç¼–è¯‘"></a>1.1 ç¼–è¯‘</h2><h3 id="1-1-1ä¸‹è½½"><a href="#1-1-1ä¸‹è½½" class="headerlink" title="1.1.1ä¸‹è½½"></a>1.1.1ä¸‹è½½</h3><p><a href="https://github.com/curl/curl">GitHub - curl&#x2F;curl: A command line tool and library for transferring data with URL syntax, supporting DICT, FILE, FTP, FTPS, GOPHER, GOPHERS, HTTP, HTTPS, IMAP, IMAPS, LDAP, LDAPS, MQTT, POP3, POP3S, RTMP, RTMPS, RTSP, SCP, SFTP, SMB, SMBS, SMTP, SMTPS, TELNET and TFTP. libcurl offers a myriad of powerful features</a></p><p>ç‚¹å‡»é“¾æ¥ä¸‹è½½ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨<code>git clone</code>åˆ°æœ¬åœ°</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/curl/curl.git</span><br></pre></td></tr></table></figure><h3 id="1-1-2-ç¼–è¯‘"><a href="#1-1-2-ç¼–è¯‘" class="headerlink" title="1.1.2 ç¼–è¯‘"></a>1.1.2 ç¼–è¯‘</h3><ul><li>æ–¹æ³•ä¸€ VSç¼–è¯‘å™¨</li></ul><p>å¦‚æœéœ€è¦ä½¿ç”¨vsç¼–è¯‘ï¼Œé¦–å…ˆè¿è¡Œ <code>project</code> ç›®å½•ä¸‹çš„ <code>generate.bat</code> æ–‡ä»¶ã€‚ç„¶ååœ¨<code>projects/Windwows</code> ç›®å½•ä¸‹æ‰“å¼€å¯¹åº”çš„è§£å†³æ–¹æ¡ˆå³å¯</p><ul><li>æ–¹æ³•äºŒ nmake</li></ul><p>åœ¨ä¸‹è½½ç›®å½• <code>winbuild</code> ç›®å½•ä¸‹ï¼ŒæŸ¥çœ‹ <a href="">README.md</a> ï¼Œé‡Œè¾¹å‘Šè¯‰äº†æˆ‘ä»¬å¦‚ä½•ç¼–è¯‘è‡ªå·±éœ€è¦çš„åŒ…ï¼Œä»¥æˆ‘æœ¬äººä½¿ç”¨çš„ä¸ºä¾‹ã€‚</p><ol><li><p>æ‰“å¼€å¯¹åº”ç‰ˆæœ¬çš„vså‘½ä»¤è¡Œå·¥å…·</p><div class="tag-plugin image"><div class="image-bg"><img src="../../../images/Curl%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/image-20220624124518653.png"/></div></div></li><li><p>è¿›å…¥å¯¹åº”çš„ç¼–è¯‘ç›®å½• <code>curl-src\winbuild</code>ï¼Œæ¥ç€æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å°±å¥½ã€‚å…·ä½“çš„å‘½ä»¤å‚æ•°å¯ä»¥æŸ¥çœ‹winbuildç›®å½•ä¸‹çš„ä»‹ç»ï¼Œé€‰æ‹©è‡ªå·±éœ€è¦çš„ç¯å¢ƒå°±å¥½ã€‚</p></li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmake /f Makefile.vc mode=dll vc=15 MACHINE=x86</span><br></pre></td></tr></table></figure><ol start="3"><li>æ‰§è¡Œä»¥åå°±èƒ½åœ¨æ ¹ç›®å½• <code>build</code> ä¸‹çœ‹åˆ°ç”Ÿæˆäº†å¯¹åº”çš„æ–‡ä»¶å¤¹ï¼Œè¿™æ—¶å€™å°±å¯ä»¥åœ¨é¡¹ç›®ä¸­ä½¿ç”¨äº†ã€‚æ³¨æ„ç”Ÿæˆç›®å½•ä¸‹æœ‰ <code>binã€includeã€lib</code> ä¸‰ä¸ªæ–‡ä»¶å¤¹ã€‚</li></ol><h2 id="1-2-ä½¿ç”¨"><a href="#1-2-ä½¿ç”¨" class="headerlink" title="1.2 ä½¿ç”¨"></a>1.2 ä½¿ç”¨</h2><p>å°†ç”Ÿæˆçš„æ–‡ä»¶æ‹–åŠ¨åˆ°é¡¹ç›®æ‰€åœ¨æ–‡ä»¶å¤¹ç›®å½•ä¸‹ï¼Œè¿™æ—¶å€™éœ€è¦åšä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼Œæ‰“å¼€é¡¹ç›®çš„å±æ€§é¡µé¢ï¼š</p><h3 id="1-2-1-é¢„å¤„ç†å™¨"><a href="#1-2-1-é¢„å¤„ç†å™¨" class="headerlink" title="1.2.1 é¢„å¤„ç†å™¨"></a>1.2.1 é¢„å¤„ç†å™¨</h3><p>åœ¨é¢„å¤„ç†å™¨ä¸­æ·»åŠ ä»¥ä¸‹å­—æ®µï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">;BUILDING_LIBCURL;HTTP_ONLY;</span><br></pre></td></tr></table></figure><h3 id="1-2-2-é™„åŠ åº“"><a href="#1-2-2-é™„åŠ åº“" class="headerlink" title="1.2.2 é™„åŠ åº“"></a>1.2.2 é™„åŠ åº“</h3><ol><li><p>åœ¨é“¾æ¥å™¨ä¸­é™„åŠ åº“ç›®å½•ï¼ŒæŠŠlibæ–‡ä»¶å¤¹æ·»åŠ åˆ°é™„åŠ åº“ç›®å½•å½“ä¸­</p></li><li><p>æ·»åŠ libæ–‡ä»¶</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">libcurl_a.lib;Ws2_32.lib;Wldap32.lib;winmm.lib;Crypt32.lib;Normaliz.lib;%(AdditionalDependencies)</span><br></pre></td></tr></table></figure></li></ol><h3 id="1-3-3-ä½¿ç”¨"><a href="#1-3-3-ä½¿ç”¨" class="headerlink" title="1.3.3 ä½¿ç”¨"></a>1.3.3 ä½¿ç”¨</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;curl/curl.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function">string <span class="title">UriHelper::Encode</span><span class="params">(<span class="type">const</span> string&amp; source)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">CURL* curl = <span class="built_in">curl_easy_init</span>();</span><br><span class="line"><span class="type">char</span>* cres = <span class="built_in">curl_easy_escape</span>(curl, source.<span class="built_in">c_str</span>(), source.<span class="built_in">length</span>());</span><br><span class="line"><span class="function">string <span class="title">res</span><span class="params">(cres)</span></span>;</span><br><span class="line"><span class="built_in">curl_free</span>(cres);</span><br><span class="line"><span class="built_in">curl_easy_cleanup</span>(curl);</span><br><span class="line"><span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;Hello World!\n&quot;</span>;</span><br><span class="line"></span><br><span class="line">    std::cout &lt;&lt; <span class="built_in">Encode</span>(<span class="string">R&quot;(https://10.92.4.117:8443/tac</span></span><br><span class="line"><span class="string">        /download/client/com.qianxin.trustagent.win.standard.exe.bm-3.1.1.4585/</span></span><br><span class="line"><span class="string">        TrustAgent_standard_3.1.1.4585.aef031d09[10.92.4.117@443].exe)&quot;</span>) &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><div style="background-color:black;color:white;font-family:conloas;">è¾“å‡ºï¼š<br>http0.0000000.0000000.000000www.baidu.com0.000000s0.000000ie%3Dutf-8 0.000000%3D8 %3Dbaidu%26wd%3D5.185438E-3164%B8%B48.694087E-3156%97%B65.190920E-3169%820.000000E5.12199E-31670.000000E%B1</div>]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> ç½‘ç»œç¼–ç¨‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C++ </tag>
            
            <tag> HTTP </tag>
            
            <tag> Curl </tag>
            
            <tag> ç½‘ç»œç¼–ç¨‹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>OSIä¸ƒå±‚ç½‘ç»œåè®®æ¨¡å‹å„å±‚åè®®</title>
      <link href="/Code/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/OSI%E4%B8%83%E5%B1%82%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE%E6%A8%A1%E5%9E%8B/"/>
      <url>/Code/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/OSI%E4%B8%83%E5%B1%82%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE%E6%A8%A1%E5%9E%8B/</url>
      
        <content type="html"><![CDATA[<div class="tag-plugin image"><div class="image-bg"><img src="https://raw.githubusercontent.com/holdyounger/ScopeBlog/rc_images/Images/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/images/OSI%E4%B8%83%E5%B1%82%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE%E6%A8%A1%E5%9E%8B/osi.png"/></div></div><div class="tag-plugin image"><div class="image-bg"><img src="images/OSI%E4%B8%83%E5%B1%82%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE%E6%A8%A1%E5%9E%8B/image-20230817205227314.png"/></div></div>]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> ç½‘ç»œç¼–ç¨‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç½‘ç»œç¼–ç¨‹ </tag>
            
            <tag> åè®® </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>IPv6</title>
      <link href="/Code/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/IPv6/"/>
      <url>/Code/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/IPv6/</url>
      
        <content type="html"><![CDATA[<p>[toc]</p><h1 id="IPv6åœ°å€æ ¼å¼"><a href="#IPv6åœ°å€æ ¼å¼" class="headerlink" title="IPv6åœ°å€æ ¼å¼"></a><strong>IPv6åœ°å€æ ¼å¼</strong></h1><p>IPv6çš„åœ°å€é•¿åº¦æ˜¯128ä½ï¼ˆbitï¼‰ã€‚</p><p>å°†è¿™128ä½çš„åœ°å€æŒ‰æ¯16ä½åˆ’åˆ†ä¸ºä¸€ä¸ªæ®µï¼Œå°†æ¯ä¸ªæ®µè½¬æ¢æˆåå…­è¿›åˆ¶æ•°å­—ï¼Œå¹¶ç”¨å†’å·éš”å¼€ã€‚</p><p>ä¾‹å¦‚ï¼š2000:0000:0000:0000:0001:2345:6789:abcd</p><p>è¿™ä¸ªåœ°å€å¾ˆé•¿ï¼Œå¯ä»¥ç”¨ä¸¤ç§æ–¹æ³•å¯¹è¿™ä¸ªåœ°å€è¿›è¡Œå‹ç¼©ï¼Œ</p><p>å‰å¯¼é›¶å‹ç¼©æ³•ï¼š</p><p>å°†æ¯ä¸€æ®µçš„å‰å¯¼é›¶çœç•¥ï¼Œä½†æ˜¯æ¯ä¸€æ®µéƒ½è‡³å°‘åº”è¯¥æœ‰ä¸€ä¸ªæ•°å­—</p><p>ä¾‹å¦‚ï¼š2000:0:0:0:1:2345:6789:abcd</p><p>åŒå†’å·æ³•ï¼š</p><p>å¦‚æœä¸€ä¸ªä»¥å†’å·åå…­è¿›åˆ¶æ•°è¡¨ç¤ºæ³•è¡¨ç¤ºçš„IPv6åœ°å€ä¸­ï¼Œå¦‚æœå‡ ä¸ªè¿ç»­çš„æ®µå€¼éƒ½æ˜¯0ï¼Œé‚£ä¹ˆè¿™äº›0å¯ä»¥ç®€è®°ä¸º::ã€‚æ¯ä¸ªåœ°å€ä¸­åªèƒ½æœ‰ä¸€ä¸ª::ã€‚</p><p>ä¾‹å¦‚ï¼š2000::1:2345:6789:abcd</p><h3 id="å•æ’­åœ°å€ï¼ˆUnicast-IPv6-Addressesï¼‰"><a href="#å•æ’­åœ°å€ï¼ˆUnicast-IPv6-Addressesï¼‰" class="headerlink" title="å•æ’­åœ°å€ï¼ˆUnicast IPv6 Addressesï¼‰"></a><strong>å•æ’­åœ°å€ï¼ˆ<strong><strong>Unicast IPv6 Addresses</strong></strong>ï¼‰</strong></h3><p>å¯èšåˆçš„å…¨çƒå•æ’­åœ°å€ï¼ˆAggregatable Global Unicast Addressesï¼‰</p><p>å¯åœ¨å…¨çƒèŒƒå›´å†…è·¯ç”±å’Œåˆ°è¾¾çš„ï¼Œç›¸å½“äºIPv4é‡Œé¢çš„global addressesã€‚å‰ä¸‰ä¸ªbitæ˜¯001</p><p>ä¾‹å¦‚ï¼š2000::1:2345:6789:abcd</p><p>é“¾è·¯æœ¬åœ°åœ°å€ï¼ˆLink-Local Addressesï¼‰</p><p>ç”¨äºåŒä¸€ä¸ªé“¾è·¯ä¸Šçš„ç›¸é‚»èŠ‚ç‚¹ä¹‹é—´é€šä¿¡ï¼Œç›¸å½“äºIPv4é‡Œé¢çš„169.254.0.0&#x2F;16åœ°å€ã€‚Ipv6çš„è·¯ç”±å™¨ä¸ä¼šè½¬å‘é“¾è·¯æœ¬åœ°åœ°å€çš„æ•°æ®åŒ…ã€‚å‰10ä¸ªbitæ˜¯1111 1110 10ï¼Œç”±äºæœ€åæ˜¯64bitçš„interface IDï¼Œæ‰€ä»¥å®ƒçš„å‰ç¼€æ€»æ˜¯FE80::&#x2F;64</p><p>ä¾‹å¦‚ï¼šFE80::1</p><p>ç«™ç‚¹æœ¬åœ°åœ°å€ï¼ˆSite-Local Addressesï¼‰</p><p>å¯¹äºæ— æ³•è®¿é—®internetçš„æœ¬åœ°ç½‘ç»œï¼Œå¯ä»¥ä½¿ç”¨ç«™ç‚¹æœ¬åœ°åœ°å€ï¼Œè¿™ä¸ªç›¸å½“äºIPv4é‡Œé¢çš„private addressï¼ˆ10.0.0.0&#x2F;8, 172.16.0.0&#x2F;12, and 192.168.0.0&#x2F;16ï¼‰ã€‚å®ƒçš„å‰10ä¸ªbitæ˜¯1111 1110 11ï¼Œå®ƒæœ€åæ˜¯16bitçš„Subnet IDå’Œ64bitçš„interface IDï¼Œæ‰€ä»¥å®ƒçš„å‰ç¼€æ˜¯FEC0::&#x2F;48ã€‚</p><p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œåœ¨RFC3879ä¸­ï¼Œæœ€ç»ˆå†³å®šæ”¾å¼ƒå•æ’­ç«™ç‚¹æœ¬åœ°åœ°å€ã€‚æ”¾å¼ƒçš„ç†ç”±æ˜¯ï¼Œç”±äºå…¶å›ºæœ‰çš„äºŒä¹‰æ€§å¸¦æ¥çš„å•æ’­ç«™ç‚¹æœ¬åœ°åœ°å€çš„å¤æ‚æ€§è¶…è¿‡äº†å®ƒä»¬å¯èƒ½å¸¦æ¥çš„å¥½å¤„ã€‚å®ƒåœ¨RFC4193ä¸­è¢«ULAå–ä»£ã€‚</p><p>å”¯ä¸€çš„æœ¬åœ°IPv6å•æ’­åœ°å€ï¼ˆULAï¼ŒUnique Local IPv6 Unicast Addressï¼‰</p><p>åœ¨RFC4193ä¸­æ ‡å‡†åŒ–äº†ä¸€ç§ç”¨æ¥åœ¨æœ¬åœ°é€šä¿¡ä¸­å–ä»£å•æ’­ç«™ç‚¹æœ¬åœ°åœ°å€çš„åœ°å€ã€‚ULAæ‹¥æœ‰å›ºå®šå‰ç¼€FD00::&#x2F;8ï¼Œåé¢è·Ÿä¸€ä¸ªè¢«ç§°ä¸ºå…¨å±€IDçš„40bitéšæœºæ ‡è¯†ç¬¦ã€‚</p><p>æœªæŒ‡å®šåœ°å€ï¼ˆUnspecified addressï¼‰</p><p>0:0:0:0:0:0:0:0 æˆ–è€…::</p><p>å½“ä¸€ä¸ªæœ‰æ•ˆåœ°å€è¿˜ä¸èƒ½ç¡®å®šï¼Œä¸€èˆ¬ç”¨æœªæŒ‡å®šåœ°å€ä½œä¸ºæºåœ°å€ã€‚æœªæŒ‡å®šåœ°å€ä¸èƒ½ä½œä¸ºä¸€ä¸ªç›®æ ‡åœ°å€æ¥ä½¿ç”¨ã€‚</p><p>å›ç¯åœ°å€ï¼ˆLoopback addressï¼‰</p><p>å›ç¯åœ°å€::1ç”¨äºæ ‡è¯†ä¸€ä¸ªå›ç¯æ¥å£ï¼Œå¯ä»¥ä½¿ä¸€ä¸ªèŠ‚ç‚¹å¯ä»¥ç»™è‡ªå·±å‘é€æ•°æ®åŒ…ã€‚ç›¸å½“äºIPv4çš„å›ç¯åœ°å€127.0.0.1</p><p>å…¼å®¹IPv4çš„åœ°å€ï¼ˆIPv4-compatible addressï¼‰</p><p>å½¢å¦‚::w.x,y.zï¼Œè¿™é‡Œçš„w.x.y.zæ˜¯IPv4å…¬å…±åœ°å€çš„åè¿›åˆ¶ç‚¹å·è¡¨ç¤ºæ³•ï¼Œç”¨äºIPv6&#x2F;IPv4èŠ‚ç‚¹ä»¬ï¼ˆåŒæ—¶æ”¯æŒï¼‰åœ¨ä½¿ç”¨ä»…æ”¯æŒIPv4çš„ç½‘ç»œä¸Šç”¨IPv6çš„åè®®è¿›è¡Œé€šä¿¡ã€‚</p><p>ä½†æ˜¯äº‹å®è¯æ˜è¿™ç§æŠ€æœ¯ä¸æ˜¯ä¸ªå¥½ä¸»æ„ï¼ŒRFC4291ä¸­åºŸå¼ƒäº†å¯¹è¿™ç±»åœ°å€çš„ä½¿ç”¨ã€‚</p><p>IPv4æ˜ å°„åœ°å€ï¼ˆIPv4-mapped addressï¼‰</p><p>å½¢å¦‚::FFFF:w.x.y.zï¼Œè¿™é‡Œçš„w.x.y.zæ˜¯IPv4å…¬å…±åœ°å€çš„åè¿›åˆ¶ç‚¹å·è¡¨ç¤ºæ³•,ç”¨äºä¸€ä¸ªä»…æ”¯æŒIPv4çš„èŠ‚ç‚¹è¡¨ç°ä¸ºä¸€ä¸ªIPv6çš„èŠ‚ç‚¹</p><p>6over4åœ°å€</p><p>[64bit-prefix]:0:0:WWXX:YYZZ,å…¶ä¸­çš„WWXX:YYZZæ˜¯w.x.y.z IPv4å…¬å…±åœ°å€çš„åè¿›åˆ¶ç‚¹å·è¡¨ç¤ºæ³•ï¼Œç”¨äºä¸€ä¸ªä½¿ç”¨6to4åè®®çš„éš§é“æœºåˆ¶çš„èŠ‚ç‚¹ã€‚</p><p>6to4åœ°å€</p><p>2002:WWXX:YYZZ:[SLA ID]:[Interface ID],ç”¨äºè¡¨ç¤ºä¸€ä¸ªä½¿ç”¨6to4åè®®çš„éš§é“æœºåˆ¶èŠ‚ç‚¹ã€‚</p><h3 id="å¤šæ’­IPv6åœ°å€ï¼ˆMulticast-IPv6-Addressesï¼‰"><a href="#å¤šæ’­IPv6åœ°å€ï¼ˆMulticast-IPv6-Addressesï¼‰" class="headerlink" title="å¤šæ’­IPv6åœ°å€ï¼ˆMulticast IPv6 Addressesï¼‰"></a><strong>å¤šæ’­IPv6åœ°å€ï¼ˆ<strong><strong>Multicast IPv6 Addresses</strong></strong>ï¼‰</strong></h3><p>å‰8ä¸ªbitä¸º1111 1111ï¼Œ</p><p>å…¶ä¸­FF01::åˆ°FF0F::çš„å¤šæ’­åœ°å€æ˜¯ä¿ç•™ä¸“ç”¨åœ°å€</p><p>FF01::1 èŠ‚ç‚¹æœ¬åœ°èŒƒå›´æ‰€æœ‰èŠ‚ç‚¹å¤šæ’­åœ°å€</p><p>FF02::1 é“¾è·¯æœ¬åœ°èŒƒå›´æ‰€æœ‰èŠ‚ç‚¹å¤šæ’­åœ°å€</p><p>FF01::2 èŠ‚ç‚¹æœ¬åœ°èŒƒå›´æ‰€æœ‰è·¯ç”±å™¨å¤šæ’­åœ°å€</p><p>FF02::2 é“¾è·¯æœ¬åœ°èŒƒå›´æ‰€æœ‰è·¯ç”±å™¨å¤šæ’­åœ°å€</p><p>FF05::2 ç«™ç‚¹æœ¬åœ°èŒƒå›´æ‰€æœ‰è·¯ç”±å™¨å¤šæ’­åœ°å€</p><h2 id="ä¸º-IPv6-åˆ’åˆ†å­ç½‘"><a href="#ä¸º-IPv6-åˆ’åˆ†å­ç½‘" class="headerlink" title="ä¸º IPv6 åˆ’åˆ†å­ç½‘"></a>ä¸º IPv6 åˆ’åˆ†å­ç½‘</h2><p>åœ¨å¯¹ IPv6 åœ°å€ç©ºé—´è¿›è¡Œå­ç½‘åˆ’åˆ†æ—¶ï¼Œéœ€è¦ä½¿ç”¨å­ç½‘åˆ’åˆ†æŠ€æœ¯ï¼Œä»¥ä¸€ç§å…è®¸å°†å‰©ä½™åœ°å€ç©ºé—´çš„æ‘˜è¦å’Œå§”æ´¾è·¯ç”±åˆ° IPv6 Intranet çš„ä¸åŒéƒ¨åˆ†çš„æ–¹å¼ï¼Œä¸º 48 ä½å…¨å±€åœ°å€å‰ç¼€åˆ’åˆ† 16 ä½å­ç½‘ ID å­—æ®µã€‚</p><p>æ‚¨ä¸éœ€è¦ä»¥ä»»ä½•ç‰¹å®šçš„æ–¹å¼è¿›è¡Œå­ç½‘åˆ’åˆ†ã€‚æ­¤å¤„ä»‹ç»çš„å­ç½‘åˆ’åˆ†æŠ€æœ¯å‡å®šæ‚¨æ˜¯é€šè¿‡ä½¿ç”¨å­ç½‘ ID å­—æ®µçš„é«˜åºä½åˆ’åˆ†å…¶åœ°å€ç©ºé—´çš„å¯å˜éƒ¨åˆ†æ¥è¿›è¡Œå­ç½‘åˆ’åˆ†çš„ã€‚è™½ç„¶æ­¤æ–¹æ³•æœ‰åŠ©äºåˆ†å±‚å¯»å€å’Œè·¯ç”±ï¼Œä½†æ­¤æ–¹æ³•å¹¶ä¸æ˜¯éç”¨ä¸å¯ã€‚ä¾‹å¦‚ï¼Œåœ¨åªæœ‰å°‘æ•°å­ç½‘çš„å°å‹ç»„ç»‡ä¸­ï¼Œæ‚¨å¯ä»¥é€šè¿‡ä¸ºå­ç½‘ç¼–å·ï¼ˆä» 0 å¼€å§‹ï¼‰ï¼Œè½»æ¾åœ°ä¸ºå…¨å±€åœ°å€åˆ›å»ºå¹³é¢å¯»å€ç©ºé—´ã€‚</p><h3 id="å¯¹å…¨å±€åœ°å€å‰ç¼€è¿›è¡Œå­ç½‘åˆ’åˆ†"><a href="#å¯¹å…¨å±€åœ°å€å‰ç¼€è¿›è¡Œå­ç½‘åˆ’åˆ†" class="headerlink" title="å¯¹å…¨å±€åœ°å€å‰ç¼€è¿›è¡Œå­ç½‘åˆ’åˆ†"></a>å¯¹å…¨å±€åœ°å€å‰ç¼€è¿›è¡Œå­ç½‘åˆ’åˆ†</h3><p>å¯¹äºå…¨å±€åœ°å€ï¼ŒInternet ç¼–å·åˆ†é…æœºæ„ (IANA) æˆ– ISP ä¼šåˆ†é…ä¸€ä¸ªå‰ 48 ä½å‡ä¸ºå›ºå®šä½çš„ IPv6 åœ°å€å‰ç¼€ã€‚è‹¥è¦å¯¹ 48 ä½å…¨å±€åœ°å€å‰ç¼€çš„å­ç½‘ ID å­—æ®µè¿›è¡Œå­ç½‘åˆ’åˆ†ï¼Œéœ€è¦æ‰§è¡Œä¸€ä¸ªåŒ…å«ä¸¤æ­¥çš„è¿‡ç¨‹ï¼š</p><table><thead><tr><th>1.</th><th>ç¡®å®šç”¨äºå­ç½‘åˆ’åˆ†çš„ä½æ•°ã€‚</th></tr></thead><tbody><tr><td>2.</td><td>æšä¸¾å‡ºæ–°çš„å­ç½‘ç½‘ç»œå‰ç¼€ã€‚</td></tr></tbody></table><p>ç¡®å®šç”¨äºå­ç½‘åˆ’åˆ†çš„ä½æ•°</p><p>ç”¨äºå­ç½‘åˆ’åˆ†çš„ä½æ•°å†³å®šç€æ‚¨å¯ä»¥åˆ†é…ç»™æ‚¨çš„ç½‘ç»œå„éƒ¨åˆ†ï¼ˆåŸºäºåœ°ç†åŒºåˆ’æˆ–éƒ¨é—¨åˆ†ç±»ï¼‰çš„æ–°å­ç½‘ç½‘ç»œå‰ç¼€çš„å¯èƒ½çš„æ•°é‡ã€‚åœ¨åˆ†å±‚è·¯ç”±åŸºç¡€ç»“æ„ä¸­ï¼Œæ‚¨å¿…é¡»ç¡®å®šæ‚¨åœ¨å±‚æ¬¡ç»“æ„çš„å„å±‚éœ€è¦çš„ç½‘ç»œå‰ç¼€æ•°ï¼Œè¿›è€Œç¡®å®šå„å±‚éœ€è¦çš„ä½æ•°ã€‚ä¸ºå±‚æ¬¡ç»“æ„çš„å„å±‚é€‰æ‹©çš„ä½è¶Šå¤šï¼Œæ‚¨æ‹¥æœ‰çš„ç”¨äºæšä¸¾å±‚æ¬¡ç»“æ„æœ€åä¸€å±‚ä¸­çš„å•ä¸ªå­ç½‘çš„ä½è¶Šå°‘ã€‚</p><p>ä¾‹å¦‚ï¼Œæ‚¨å¯ä»¥å®æ–½ä¸€ä¸ªåŒ…å«ä¸¤å±‚çš„å±‚æ¬¡ç»“æ„æ¥åæ˜ åœ°ç†&#x2F;éƒ¨é—¨ç»“æ„ï¼Œ4 ä½ç”¨äºåœ°ç†å±‚ï¼Œ6 ä½ç”¨äºéƒ¨é—¨å±‚ã€‚è¿™ä¸€æ–¹æ¡ˆå…è®¸ 16 ä¸ªåœ°ç†åŒºåŸŸï¼Œå„ä¸ªåŒºåŸŸä¸­çš„å„ä¸ªéƒ¨é—¨åªå å‰©ä½™çš„å­ç½‘åˆ’åˆ†ç©ºé—´çš„ 6 (16 - 6 - 4) ä½ï¼Œæˆ–è€…è¯´æ¯ä¸ªéƒ¨é—¨åªæœ‰ 64 (&#x3D;26) ä¸ªå­ç½‘ã€‚</p><p>åœ¨å±‚æ¬¡ç»“æ„ä¸­ä»»ä½•ç»™å®šçš„å±‚ä¸Šï¼Œè®¸å¤šä½å·²è¢«å±‚æ¬¡ç»“æ„ä¸­çš„ä¸Šä¸€å±‚å›ºå®šäº† (<em>f</em>)ï¼Œè®¸å¤šä½è¢«ç”¨æ¥åœ¨å±‚æ¬¡ç»“æ„ä¸­çš„å½“å‰å±‚è¿›è¡Œå­ç½‘åˆ’åˆ† (<em>s</em>)ï¼Œè¿˜æœ‰è®¸å¤šä½ç•™ç»™å±‚æ¬¡ç»“æ„ä¸­çš„ä¸‹ä¸€å±‚ä½¿ç”¨ (<em>r</em>)ã€‚ä¸‹é¢è¿™ä¸ªç­‰å¼å§‹ç»ˆæˆç«‹ï¼š<em>f</em>+<em>s</em>+<em>r</em> &#x3D; 16ã€‚</p><h3 id="æšä¸¾å­ç½‘ç½‘ç»œå‰ç¼€"><a href="#æšä¸¾å­ç½‘ç½‘ç»œå‰ç¼€" class="headerlink" title="æšä¸¾å­ç½‘ç½‘ç»œå‰ç¼€"></a>æšä¸¾å­ç½‘ç½‘ç»œå‰ç¼€</h3><p>æ ¹æ®ç”¨äºå­ç½‘åˆ’åˆ†çš„ä½æ•°ï¼Œæ‚¨å¿…é¡»åˆ—å‡ºæ–°çš„å­ç½‘ç½‘ç»œå‰ç¼€ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ä¸‹é¢ä¸¤ç§ä¸»è¦æ–¹æ³•ä¹‹ä¸€ï¼š</p><table><thead><tr><th>â€¢</th><th>ä½¿ç”¨å­ç½‘ ID å’Œé€’å¢å€¼çš„åå…­è¿›åˆ¶è¡¨ç¤ºå½¢å¼æ¥æšä¸¾æ–°çš„å­ç½‘ç½‘ç»œå‰ç¼€ã€‚</th></tr></thead><tbody><tr><td>â€¢</td><td>ä½¿ç”¨å­ç½‘ ID å’Œé€’å¢å€¼çš„åè¿›åˆ¶è¡¨ç¤ºå½¢å¼æ¥æšä¸¾æ–°çš„å­ç½‘ç½‘ç»œå‰ç¼€ã€‚</td></tr></tbody></table><p>è¿™ä¸¤ç§æ–¹æ³•äº§ç”Ÿçš„ç»“æœç›¸åŒï¼Œéƒ½ä¼šç”Ÿæˆå­ç½‘ç½‘ç»œå‰ç¼€çš„ä¸€ä¸ªæšä¸¾åˆ—è¡¨ã€‚</p><p>è¦ä½¿ç”¨åå…­è¿›åˆ¶æ–¹æ³•åˆ›å»ºå­ç½‘ç½‘ç»œå‰ç¼€çš„æšä¸¾åˆ—è¡¨ï¼Œè¯·æ‰§è¡Œä»¥ä¸‹æ­¥éª¤ï¼š</p><table><thead><tr><th>1.</th><th>æ ¹æ®ä¸ºå­ç½‘åˆ’åˆ†é€‰æ‹©çš„ä½æ•° <em>s</em> å’Œè¿›è¡Œå­ç½‘åˆ’åˆ†çš„ç½‘ç»œå‰ç¼€çš„å‰ç¼€é•¿åº¦ <em>m</em>ï¼Œè®¡ç®—ä»¥ä¸‹å„å€¼ï¼š<em>f</em> &#x3D; <em>m</em> - 48<em>f</em> æ˜¯å­ç½‘ ID ä¸­å·²å›ºå®šçš„ä½çš„æ•°ç›®ã€‚<em>n</em> &#x3D; 2s<em>n</em> æ˜¯æ‚¨å°†è·å¾—çš„ç½‘ç»œå‰ç¼€çš„æ•°ç›®ã€‚<em>i</em> &#x3D; 216-(f+s) <em>i</em> æ˜¯ä»¥åå…­è¿›åˆ¶è¡¨ç¤ºçš„å„ä¸ªè¿ç»­å­ç½‘ ID ä¹‹é—´çš„é€’å¢å€¼ã€‚<em>P</em> &#x3D; <em>m+s**P</em> æ˜¯æ–°çš„å­ç½‘ç½‘ç»œå‰ç¼€çš„å‰ç¼€é•¿åº¦ã€‚</th></tr></thead><tbody><tr><td>2.</td><td>åˆ›å»ºä¸€ä¸ªåŒ…å« <em>n</em> è¡Œã€ä¸¤åˆ—çš„è¡¨ã€‚ç¬¬ä¸€åˆ—å­˜æ”¾ç½‘ç»œå‰ç¼€ç¼–å·ï¼ˆä» 1 å¼€å§‹ï¼‰ï¼Œç¬¬äºŒåˆ—å­˜æ”¾æ–°çš„å­ç½‘ç½‘ç»œå‰ç¼€ã€‚</td></tr><tr><td>3.</td><td>å°†ä½¿ç”¨æ–°çš„å‰ç¼€é•¿åº¦çš„åŸå§‹ç½‘ç»œå‰ç¼€æ”¾åœ¨ç¬¬ä¸€è¡Œçš„ç¬¬äºŒåˆ—ä¸­ã€‚ä¾‹å¦‚ï¼Œæ ¹æ®è¿›è¡Œå­ç½‘åˆ’åˆ†çš„å­ç½‘ ID çš„åå…­è¿›åˆ¶å€¼ <em>F</em>ï¼Œå­ç½‘ç½‘ç»œå‰ç¼€ä¸º [48 ä½å‰ç¼€]:<em>F</em>::&#x2F;<em>P</em>ã€‚</td></tr><tr><td>4.</td><td>å°†ç«™ç‚¹æœ¬åœ°åœ°å€æˆ–å…¨å±€åœ°å€çš„å­ç½‘ ID éƒ¨åˆ†ä¸­çš„å€¼åŠ ä¸Š <em>i</em>ï¼Œå°†ç»“æœæ”¾åœ¨ä¸‹ä¸€è¡Œçš„ç¬¬äºŒåˆ—ä¸­ã€‚ä¾‹å¦‚ï¼Œåœ¨ç¬¬äºŒè¡Œä¸­ï¼Œå­ç½‘å‰ç¼€ä¸º [48 ä½å‰ç¼€]:<em>F</em>+<em>i</em>::&#x2F;<em>P</em>ã€‚</td></tr><tr><td>5.</td><td>é‡å¤æ­¥éª¤ 4ï¼Œç›´åˆ°æ‚¨å®Œæˆè¯¥è¡¨ã€‚</td></tr></tbody></table><p>ä¾‹å¦‚ï¼Œè¦å¯¹å…¨å±€åœ°å€å‰ç¼€ 3FFE:FFFF:0:C000::&#x2F;51 è¿›è¡Œ 3 ä½å­ç½‘åˆ’åˆ†ï¼Œé¦–å…ˆè®¡ç®—å‰ç¼€æ•°é‡å€¼ã€é€’å¢å€¼å’Œæ–°å‰ç¼€é•¿åº¦å€¼ã€‚èµ·å§‹å€¼æ˜¯ <em>F</em>&#x3D;0xC000ï¼Œ<em>s</em>&#x3D;3ï¼Œ<em>m</em>&#x3D;51ï¼Œå› æ­¤ <em>f</em>&#x3D;51-48&#x3D;3ã€‚å‰ç¼€çš„æ•°é‡æ˜¯ 8 (<em>n</em>&#x3D;23)ã€‚é€’å¢å€¼æ˜¯ 0x400 (<em>i</em>&#x3D;216-(3+3)&#x3D;1024&#x3D;0x400)ã€‚æ–°çš„å‰ç¼€é•¿åº¦æ˜¯ 54 (<em>P</em>&#x3D;51+3)ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œæ„é€ ä¸€ä¸ªåŒ…å« 8 è¡Œçš„è¡¨ï¼Œå¦‚è¡¨ 4-12 æ‰€ç¤ºã€‚å°† 3FFE:FFFF:0:C000::&#x2F;54 æ”¾åœ¨ç½‘ç»œå‰ç¼€ 1 æ‰€åœ¨çš„é‚£ä¸€è¡Œçš„ç¬¬äºŒåˆ—ï¼Œç„¶åè®©ç½‘ç»œå‰ç¼€çš„å­ç½‘ ID éƒ¨åˆ†ä¾æ¬¡é€’å¢ 0x400ï¼Œå°†ç»“æœåˆ†åˆ«å¡«å…¥åé¢çš„å„è¡Œä¸­ã€‚</p><p>ä¸‹è¡¨ä¸ºä½¿ç”¨åå…­è¿›åˆ¶æŠ€æœ¯å¯¹ 3FFE:FFFF:0:C000::&#x2F;51 è¿›è¡Œ 3 ä½å­ç½‘åˆ’åˆ†ï¼š</p><table><thead><tr><th>ç½‘ç»œå‰ç¼€</th><th>å­ç½‘ç½‘ç»œå‰ç¼€</th></tr></thead><tbody><tr><td>1</td><td>3FFE:FFFF:0:C000::&#x2F;54</td></tr><tr><td>2</td><td>3FFE:FFFF:0:C400::&#x2F;54</td></tr><tr><td>3</td><td>3FFE:FFFF:0:C800::&#x2F;54</td></tr><tr><td>4</td><td>3FFE:FFFF:0:CC00::&#x2F;54</td></tr><tr><td>5</td><td>3FFE:FFFF:0:D000::&#x2F;54</td></tr><tr><td>6</td><td>3FFE:FFFF:0:D400::&#x2F;54</td></tr><tr><td>7</td><td>3FFE:FFFF:0:D800::&#x2F;54</td></tr><tr><td>8</td><td>3FFE:FFFF:0:DC00::&#x2F;54</td></tr></tbody></table><p>è¦ä½¿ç”¨åè¿›åˆ¶æ–¹æ³•åˆ›å»ºå­ç½‘ç½‘ç»œå‰ç¼€çš„æšä¸¾åˆ—è¡¨ï¼Œè¯·æ‰§è¡Œä»¥ä¸‹æ­¥éª¤ï¼š</p><table><thead><tr><th>1.</th><th>æ ¹æ®ç”¨äºå­ç½‘åˆ’åˆ†çš„ä½æ•° <em>s</em>ã€è¿›è¡Œå­ç½‘åˆ’åˆ†çš„ç½‘ç»œå‰ç¼€çš„å‰ç¼€é•¿åº¦ <em>m</em> å’Œè¿›è¡Œå­ç½‘åˆ’åˆ†çš„å­ç½‘ ID çš„åå…­è¿›åˆ¶å€¼ <em>F</em>ï¼Œè®¡ç®—ä»¥ä¸‹å„å€¼ï¼š<em>f</em> &#x3D; <em>m</em> - 48<em>f</em> æ˜¯å­ç½‘ ID ä¸­å·²å›ºå®šçš„ä½çš„æ•°ç›®ã€‚<em>n</em> &#x3D; 2s<em>n</em> æ˜¯æ‚¨å°†è·å¾—çš„ç½‘ç»œå‰ç¼€çš„æ•°ç›®ã€‚<em>i</em> &#x3D; 216-(f+s) <em>i</em> æ˜¯å„ä¸ªè¿ç»­å­ç½‘ ID ä¹‹é—´çš„é€’å¢å€¼ã€‚<em>P</em> &#x3D; <em>m</em>+<em>s**P</em> æ˜¯æ–°çš„å­ç½‘ç½‘ç»œå‰ç¼€çš„å‰ç¼€é•¿åº¦ã€‚<em>D</em> &#x3D; <em>F</em> çš„åè¿›åˆ¶è¡¨ç¤ºå½¢å¼</th></tr></thead><tbody><tr><td>2.</td><td>åˆ›å»ºä¸€ä¸ªåŒ…å« <em>n</em> è¡Œã€ä¸‰åˆ—çš„è¡¨ã€‚ç¬¬ä¸€åˆ—å­˜æ”¾ç½‘ç»œå‰ç¼€ç¼–å·ï¼ˆä» 1 å¼€å§‹ï¼‰ï¼Œç¬¬äºŒåˆ—å­˜æ”¾æ–°çš„å­ç½‘ç½‘ç»œå‰ç¼€çš„å­ç½‘ ID éƒ¨åˆ†çš„åè¿›åˆ¶è¡¨ç¤ºå½¢å¼ï¼Œç¬¬ä¸‰åˆ—å­˜æ”¾æ–°çš„å­ç½‘ç½‘ç»œå‰ç¼€ã€‚</td></tr><tr><td>3.</td><td>å°†å­ç½‘ ID çš„åè¿›åˆ¶è¡¨ç¤ºå½¢å¼ (<em>D</em>) æ”¾åœ¨ç¬¬ä¸€è¡Œçš„ç¬¬ä¸€åˆ—ï¼Œå°†å­ç½‘å‰ç¼€ [48 ä½å‰ç¼€]:<em>F</em>::&#x2F;<em>P</em> æ”¾åœ¨ç¬¬ä¸€è¡Œçš„ç¬¬äºŒåˆ—ã€‚</td></tr><tr><td>4.</td><td>ç”¨å­ç½‘ ID åè¿›åˆ¶è¡¨ç¤ºå½¢å¼çš„å€¼åŠ ä¸Š <em>i</em>ï¼Œå°†ç»“æœæ”¾åœ¨ä¸‹ä¸€è¡Œçš„ç¬¬äºŒåˆ—ã€‚ä¾‹å¦‚ï¼Œç¬¬äºŒè¡Œçš„å­ç½‘ ID çš„åè¿›åˆ¶è¡¨ç¤ºå½¢å¼æ˜¯ <em>D</em>+<em>i</em>ã€‚</td></tr><tr><td>5.</td><td>åœ¨ç¬¬ä¸‰åˆ—ä¸­ï¼Œå°†å­ç½‘ ID çš„åè¿›åˆ¶è¡¨ç¤ºå½¢å¼è½¬æ¢ä¸ºåå…­è¿›åˆ¶ï¼Œå¹¶æ„é€ å‰ç¼€ [48 ä½å‰ç¼€]:[<em>SubnetID</em>]::&#x2F;<em>P</em>ã€‚ä¾‹å¦‚ï¼Œåœ¨ç¬¬äºŒè¡Œä¸­ï¼Œå­ç½‘ç½‘ç»œå‰ç¼€ä¸º [48 ä½å‰ç¼€]:[<em>D</em>+<em>i</em>ï¼ˆè½¬æ¢ä¸ºåå…­è¿›åˆ¶ï¼‰]::&#x2F;<em>P</em>ã€‚</td></tr><tr><td>6.</td><td>é‡å¤æ­¥éª¤ 4 å’Œ 5ï¼Œç›´åˆ°æ‚¨å®Œæˆè¯¥è¡¨ã€‚</td></tr></tbody></table><p>ä¾‹å¦‚ï¼Œè¦å¯¹ç«™ç‚¹æœ¬åœ°ç½‘ç»œå‰ç¼€ 3FFE:FFFF:0:C000::&#x2F;51 è¿›è¡Œ 3 ä½å­ç½‘åˆ’åˆ†ï¼Œé¦–å…ˆè®¡ç®—å‰ç¼€æ•°é‡å€¼ã€é€’å¢å€¼ã€æ–°å‰ç¼€é•¿åº¦å€¼å’Œèµ·å§‹å­ç½‘ ID åè¿›åˆ¶è¡¨ç¤ºå½¢å¼ã€‚æˆ‘ä»¬çš„èµ·å§‹å€¼æ˜¯ <em>F</em>&#x3D;0xC000ï¼Œ<em>s</em>&#x3D;3ï¼Œ<em>m</em>&#x3D;51ï¼Œè¿™æ · <em>f</em>&#x3D;51-48&#x3D;3ã€‚å‰ç¼€æ•°é‡æ˜¯ 8 (<em>n</em>&#x3D;23)ã€‚é€’å¢å€¼æ˜¯ 1024 (<em>i</em>&#x3D;216-(3+3))ã€‚æ–°çš„å‰ç¼€é•¿åº¦æ˜¯ 54 (<em>P</em>&#x3D;51+3)ã€‚èµ·å§‹å­ç½‘ ID çš„åè¿›åˆ¶è¡¨ç¤ºå½¢å¼æ˜¯ 49152 (D&#x3D;0xC000&#x3D;49152)ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œæ„é€ ä¸€ä¸ªåŒ…å« 8 è¡Œçš„è¡¨ï¼Œå¦‚è¡¨ 4-13 æ‰€ç¤ºã€‚å°† 49192 æ”¾åœ¨ç½‘ç»œå‰ç¼€ 1 æ‰€åœ¨çš„é‚£ä¸€è¡Œçš„ç¬¬ä¸€åˆ—ï¼Œå°† 3FFE:FFFF:0:C000::&#x2F;54 æ”¾åœ¨è¯¥è¡Œçš„ç¬¬äºŒåˆ—ã€‚è®©ç½‘ç»œå‰ç¼€çš„å­ç½‘ ID éƒ¨åˆ†ï¼ˆç¬¬å››ä¸ªåå…­è¿›åˆ¶å—ï¼‰ä¾æ¬¡é€’å¢ 1024ï¼Œç„¶åå°†ç»“æœè½¬æ¢ä¸ºåå…­è¿›åˆ¶å¹¶åˆ†åˆ«å¡«å…¥åé¢çš„å„è¡Œä¸­ã€‚</p><p>ä¸‹è¡¨ä¸ºä½¿ç”¨åè¿›åˆ¶æŠ€æœ¯å¯¹ 3FFE:FFFF:0:C000::&#x2F;51 è¿›è¡Œ 3 ä½å­ç½‘åˆ’åˆ†ï¼š</p><table><thead><tr><th>ç½‘ç»œå‰ç¼€</th><th>å­ç½‘ ID çš„åè¿›åˆ¶è¡¨ç¤ºå½¢å¼</th><th>å­ç½‘ç½‘ç»œå‰ç¼€</th></tr></thead><tbody><tr><td>1</td><td>49192</td><td>3FFE:FFFF:0:C000::&#x2F;54</td></tr><tr><td>2</td><td>50176</td><td>3FFE:FFFF:0:C400::&#x2F;54</td></tr><tr><td>3</td><td>51200</td><td>3FFE:FFFF:0:C800::&#x2F;54</td></tr><tr><td>4</td><td>52224</td><td>3FFE:FFFF:0:CC00::&#x2F;54</td></tr><tr><td>5</td><td>53248</td><td>3FFE:FFFF:0:D000::&#x2F;54</td></tr><tr><td>6</td><td>54272</td><td>3FFE:FFFF:0:D400::&#x2F;54</td></tr><tr><td>7</td><td>55296</td><td>3FFE:FFFF:0:D800::&#x2F;54</td></tr><tr><td>8</td><td>56320</td><td>3FFE:FFFF:0:DC00::&#x2F;54</td></tr></tbody></table><h3 id="å˜é‡é•¿åº¦å­ç½‘åˆ’åˆ†"><a href="#å˜é‡é•¿åº¦å­ç½‘åˆ’åˆ†" class="headerlink" title="å˜é‡é•¿åº¦å­ç½‘åˆ’åˆ†"></a>å˜é‡é•¿åº¦å­ç½‘åˆ’åˆ†</h3><p>ä¸ IPv4 ç›¸åŒçš„æ˜¯ï¼Œæ‚¨å¯ä»¥å¯¹ IPv6 åœ°å€å‰ç¼€å¾ªç¯è¿›è¡Œå­ç½‘åˆ’åˆ†æ¥åœ¨ç»„ç»‡ Intranet çš„å„ä¸ªå±‚æ¬¡æä¾›è·¯ç”±æ‘˜è¦ï¼Œå®šä¹‰å•ä¸ªå­ç½‘çš„åœ°å€å‰ç¼€å¯è¾¾åˆ° 64 ä½ã€‚ä¸ IPv4 ä¸åŒçš„æ˜¯ï¼Œæ‚¨æ— æ³•ä½¿ç”¨å¯å˜é•¿åº¦å­ç½‘åˆ’åˆ†æ¥åˆ›å»ºä¸åŒå¤§å°çš„å­ç½‘ï¼Œå› ä¸ºæ‰€æœ‰ IPv6 å­ç½‘éƒ½ä½¿ç”¨ 64 ä½ç½‘ç»œ ID å’Œ 64 ä½æ¥å£ IDã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> ç½‘ç»œç¼–ç¨‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç½‘ç»œç¼–ç¨‹ </tag>
            
            <tag> IPv6 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Qtæ’ä»¶â€”â€”ä½¿ç”¨ QtCipherSqlitePlugin å¯¹æ•°æ®åº“è¿›è¡ŒåŠ å¯†</title>
      <link href="/Code/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%8A%A0%E5%AF%86/"/>
      <url>/Code/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%8A%A0%E5%AF%86/</url>
      
        <content type="html"><![CDATA[<h1 id="å¼€æºåº“ä»‹ç»"><a href="#å¼€æºåº“ä»‹ç»" class="headerlink" title="å¼€æºåº“ä»‹ç»"></a>å¼€æºåº“ä»‹ç»</h1><p><a href="https://github.com/devbean/QtCipherSqlitePlugin">devbean&#x2F;QtCipherSqlitePlugin: A Qt plugin for cipher SQLite. (github.com)</a></p><p>è¯¥åŠ å¯†åº“æ˜¯åŸºäº SQLite å’Œ wxSQLite3 æºä»£ç å¼€å‘çš„çš„ä¸€ä¸ªåŠ å¯† SQLite çš„Qtæ’ä»¶ã€‚æ€»ç»“å°±æ˜¯ï¼Œå¯ä»¥ä½¿ç”¨è¯¥æ’ä»¶å¯¹ SQLite çš„æ•°æ®åº“è¿›è¡ŒåŠ å¯†ã€‚</p><h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><ol><li>åœ¨å¼€å§‹ä¹‹å‰ï¼Œå¯ä»¥å»ä»“åº“çš„ wiki ç•Œé¢æ‰¾åˆ°ç›¸åº”çš„å¼€å§‹æ•™ç¨‹ï¼Œä»¥ä¸‹æ“ä½œå‚è€ƒ wiki ã€‚</li></ol><blockquote><ol><li><p>æ‹‰å–è¯¥åº“åˆ°æœ¬åœ°åï¼Œæ‰“å¼€ <code>QtCipherSqlitePlugin.pro</code>ï¼Œå°±èƒ½çœ‹åˆ°å¦‚ä¸‹å›¾æ‰€ç¤ºçš„å·¥ç¨‹ç»“æ„ã€‚</p><div class="tag-plugin image"><div class="image-bg"><img src="https://raw.githubusercontent.com/holdyounger/ScopeBlog/rc_images/Images/%E6%95%B0%E6%8D%AE%E5%BA%93/images/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%8A%A0%E5%AF%86/project.png"/></div></div><ol><li><code>demo</code> ç›®å½•æ˜¯ä¸€ä¸ªå¦‚ä½•ä½¿ç”¨è¯¥åŠ å¯†æ’ä»¶çš„å·¥ç¨‹ï¼Œæ¶‰åŠæ•°æ®åº“çš„åŠ å¯†ã€æ‰“å¼€ã€åˆ›å»ºç­‰</li><li><code>sqlitecipher</code>æ˜¯æˆ‘ä»¬ç¼–è¯‘ <code>dll</code> çš„å·¥ç¨‹æ–‡ä»¶</li><li>ä¸º <code>Qt</code> çš„æ’ä»¶æµ‹è¯•å·¥ç¨‹ï¼Œé‡Œè¾¹æœ‰å…³äºè¯¥åŠ å¯†åº“çš„è¯¦ç»†ä½¿ç”¨æ–¹å¼ä»‹ç»ã€‚</li></ol></li><li><p>ä¸è®ºæ˜¯ä½¿ç”¨ä¸Šè¿°æµ‹è¯•å·¥ç¨‹ä¸­çš„å“ªä¸ªï¼Œæˆ‘ä»¬ç¬¬ä¸€æ­¥éƒ½éœ€è¦ç¼–è¯‘æ’ä»¶çš„åŠ¨æ€åº“å‡ºæ¥ä½¿ç”¨ã€‚</p><ol><li>å•ç‹¬<code>sqlitecipher.pro</code></li><li>ä¸º <code>sqlitecipher.pro</code> è°ƒæ•´ <code>Qt kits</code> ï¼Œç¬”è€…çš„ç¯å¢ƒä¸º <code>MSVC 2015 32 bit</code>, <code>Release</code>æ¨¡å¼</li><li>å³å‡»é¡¹ç›®æ–‡ä»¶ï¼Œç‚¹å‡»éƒ¨ç½²å³å¯</li><li>åˆ°å·¥ç¨‹æ‰€åœ¨çš„æ–‡ä»¶å¤¹ï¼Œå°±èƒ½çœ‹åˆ° <code>build-sqlitecipher-Desktop_Qt_5_9_9_MSVC2015_32bit-Release</code> çš„æ–‡ä»¶å¤¹ï¼Œåœ¨ <code>.\plugins\sqldrivers</code>ä¸‹å°±èƒ½çœ‹åˆ°ç”Ÿæˆçš„åŠ¨æ€åº“æ–‡ä»¶ï¼ŒåŠ¨æ€åº“ <code>sqlitecipher.dll</code></li><li>æ‹·è´è¯¥æ–‡ä»¶åˆ°ä½ çš„ <code>Qt</code> ç›®å½•ä¸‹ <code>kits</code> å¯¹åº”çš„æ–‡ä»¶å¤¹å½“ä¸­ã€‚å¦‚ç¬”è€…çš„ä¸º <code>$Qtå®‰è£…ç›®å½•$\5.9.9\msvc2015\plugins\sqldrivers</code></li></ol></li></ol></blockquote><h2 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h2><p>åˆ°è¿™ä¸€æ­¥ï¼Œæˆ‘ä»¬å°±éœ€è¦æŸ¥çœ‹ä¸€ä¸‹åŠ¨æ€åº“æ˜¯å¦å¯ç”¨äº†ã€‚ä½¿ç”¨ <code>Qt</code> çš„ <code>#include &lt;QSqlDatabase&gt;</code>ä¸­çš„æ–¹æ³•å³å¯ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">qDebug</span>() &lt;&lt; QSqlDatabase::<span class="built_in">drivers</span>();</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œä¸Šè¿°ä»£ç ï¼Œå¦‚æœåŠ è½½æˆåŠŸçš„è¯ï¼Œæˆ‘ä»¬ä¼šåœ¨ <code>qDebug()</code> çš„è¾“å‡ºä¸­çœ‹åˆ°ç›¸åº”çš„æ•°æ®åº“åã€‚</p><p><code>(&quot;QSQLITE&quot;, &quot;QMYSQL&quot;, &quot;QMYSQL3&quot;, &quot;QODBC&quot;, &quot;QODBC3&quot;, &quot;QPSQL&quot;, &quot;QPSQL7&quot;, </code><strong><code>&quot;SQLITECIPHER&quot;)</code></strong></p><p>ä»¥ä¸Šä»£ç ï¼Œåœ¨ <code>demo</code> æ‰€åœ¨å·¥ç¨‹ä¸­éƒ½èƒ½æ‰¾åˆ°å¯¹åº”çš„ä»£ç ï¼Œä¸ç”¨è¯»è€…ç¼–å†™ã€‚</p><blockquote><p>å¦å¤–ï¼Œä½¿ç”¨ <code>SQLITECIPHER</code> æ•°æ®åº“ä¹Ÿå¯ä»¥æ‰“å¼€æ™®é€šæœªåŠ å¯†çš„ <code>QSQLITE</code> åˆ›å»ºçš„æ•°æ®åº“ã€‚</p></blockquote><h2 id="åŠ å¯†"><a href="#åŠ å¯†" class="headerlink" title="åŠ å¯†"></a>åŠ å¯†</h2><p>åŠ å¯†æ•°æ®åº“çš„ä½¿ç”¨ä¹Ÿç®€å•ï¼ŒåŒºåˆ«äºæ™®é€šæ•°æ®åº“çš„æ–¹å¼æ˜¯éœ€è¦è®¾ç½®è¿æ¥å±æ€§ã€‚ä»¥è¯¥å¼€æºåº“ä¸ºä¾‹ï¼Œå…¶ä¸»è¦é€šè¿‡ä¸‰ä¸ªè¿æ¥å±æ€§å»å†³å®šæ˜¯å¦è®¾ç½®å¯†ç ã€‚ä¸»è¦æ¶‰åŠåˆ°çš„å…³é”®å­—ä¸ºä»¥ä¸‹ä¸‰ä¸ªï¼š</p><ul><li>Added by QtCipherSqlitePlugin<ul><li>QSQLITE_CREATE_KEY</li><li>QSQLITE_UPDATE_KEY</li><li>QSQLITE_REMOVE_KEY</li></ul></li></ul><p>è¿˜æœ‰å…¶ä»–å‡ ä¸ªç»§æ‰¿è‡ª <code>SqlitePlugin</code> çš„å…³é”®å­—ï¼Œç”¨æ³•ä¸ <code>SqlitePlugin</code> æ‰“å¼€æ•°æ®åº“è®¾ç½®ä¸€è‡´ã€‚</p><ul><li>Provided by Qt SqlitePlugin<ul><li>QSQLITE_BUSY_TIMEOUT</li><li>QSQLITE_OPEN_READONLY</li><li>QSQLITE_OPEN_URI</li><li>QSQLITE_ENABLE_SHARED_CACHE</li></ul></li></ul><p>ä»¥ä¸‹ä»£ç æ¼”ç¤ºä¸‰ç§å…³é”®å­—çš„ç”¨æ³•ã€‚</p><h3 id="åˆ›å»ºæ•°æ®åº“å¯†ç -QSQLITE-CREATE-KEY"><a href="#åˆ›å»ºæ•°æ®åº“å¯†ç -QSQLITE-CREATE-KEY" class="headerlink" title="åˆ›å»ºæ•°æ®åº“å¯†ç  QSQLITE_CREATE_KEY"></a>åˆ›å»ºæ•°æ®åº“å¯†ç  <code>QSQLITE_CREATE_KEY</code></h3><p>å¦‚æœè¾“å‡ºä¸­æœ‰ <code>SQLITECIPHER</code> çš„åå­—ï¼Œé‚£ä¹ˆæ­å–œä½ ï¼Œæ’ä»¶æ²¡æœ‰é—®é¢˜ï¼<br>ä¸ºæ²¡æœ‰åŠ å¯†çš„æ•°æ®åº“å¢åŠ å¯†ç <br>Qt é»˜è®¤æä¾›çš„ SQLite æ’ä»¶æ˜¯æ²¡æœ‰åŠ å¯†åŠŸèƒ½çš„ã€‚æ–°ç‰ˆæœ¬çš„ <code>QtCipherSqlitePlugin</code> æ”¯æŒä¸ºåŸæœ¬æ²¡æœ‰åŠ å¯†çš„æ•°æ®åº“å¢åŠ å¯†ç ï¼Œä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š<br>C++</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">QSqlDatabase dbconn = QSqlDatabase::<span class="built_in">addDatabase</span>(<span class="string">&quot;SQLITECIPHER&quot;</span>);</span><br><span class="line">dbconn.<span class="built_in">setDatabaseName</span>(<span class="string">&quot;test.db&quot;</span>);</span><br><span class="line">dbconn.<span class="built_in">setPassword</span>(<span class="string">&quot;test&quot;</span>);</span><br><span class="line">dbconn.<span class="built_in">setConnectOptions</span>(<span class="string">&quot;QSQLITE_CREATE_KEY&quot;</span>); </span><br><span class="line"><span class="keyword">if</span> (!dbconn.<span class="built_in">open</span>()) &#123;    </span><br><span class="line">    <span class="built_in">qDebug</span>() &lt;&lt; <span class="string">&quot;Can not open connection: &quot;</span> &lt;&lt; dbconn.<span class="built_in">lastError</span>().<span class="built_in">driverText</span>();    </span><br><span class="line">    <span class="built_in">exit</span>(CONNECTION_FAILED);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸Šé¢çš„ä»£ç ï¼Œæˆ‘ä»¬ä½¿ç”¨ <code>test.db</code> æ•°æ®åº“ï¼Œå°†å¯†ç è®¾ç½®ä¸º testï¼ŒåŒæ—¶æŒ‡å®šè¿æ¥é€‰é¡¹ä¸º <code>QSQLITE_CREATE_KEY</code> ã€‚æ­¤æ—¶ï¼Œè°ƒç”¨ open() å‡½æ•°ä¹‹åï¼Œ<code>QtCipherSqlitePlugin</code> å°†ä½¿ç”¨æ”¹å¯†ç ä¸ºè¿™ä¸ªæ•°æ®åº“è¿›è¡ŒåŠ å¯†ã€‚</p><h3 id="åˆ é™¤æ•°æ®åº“å¯†ç -QSQLITE-REMOVE-KEY"><a href="#åˆ é™¤æ•°æ®åº“å¯†ç -QSQLITE-REMOVE-KEY" class="headerlink" title="åˆ é™¤æ•°æ®åº“å¯†ç  QSQLITE_REMOVE_KEY"></a>åˆ é™¤æ•°æ®åº“å¯†ç  <code>QSQLITE_REMOVE_KEY</code></h3><p><code>QtCipherSqlitePlugin</code> å¯ä»¥åˆ é™¤æ•°æ®åº“å¯†ç ï¼Œæ­¤æ—¶éœ€è¦æä¾›åŸå¯†ç ï¼Œå¹¶ä½¿ç”¨è¿æ¥é€‰é¡¹ <code>QSQLITE_REMOVE_KEY</code> ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">QSqlDatabase dbconn = QSqlDatabase::<span class="built_in">addDatabase</span>(<span class="string">&quot;SQLITECIPHER&quot;</span>);</span><br><span class="line">dbconn.<span class="built_in">setDatabaseName</span>(<span class="string">&quot;test.db&quot;</span>);</span><br><span class="line">dbconn.<span class="built_in">setPassword</span>(<span class="string">&quot;test&quot;</span>);</span><br><span class="line">dbconn.<span class="built_in">setConnectOptions</span>(<span class="string">&quot;QSQLITE_REMOVE_KEY&quot;</span>);</span><br><span class="line"><span class="keyword">if</span> (!dbconn.<span class="built_in">open</span>()) &#123;   </span><br><span class="line">    <span class="built_in">qDebug</span>() &lt;&lt; <span class="string">&quot;Can not open connection: &quot;</span> &lt;&lt; dbconn.<span class="built_in">lastError</span>().<span class="built_in">driverText</span>();   </span><br><span class="line">    <span class="built_in">exit</span>(CONNECTION_FAILED);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ›´æ–°æ•°æ®åº“å¯†ç -QSQLITE-UPDATE-KEY"><a href="#æ›´æ–°æ•°æ®åº“å¯†ç -QSQLITE-UPDATE-KEY" class="headerlink" title="æ›´æ–°æ•°æ®åº“å¯†ç  QSQLITE_UPDATE_KEY"></a>æ›´æ–°æ•°æ®åº“å¯†ç  <code>QSQLITE_UPDATE_KEY</code></h3><p><code>QtCipherSqlitePlugin</code> å¯ä»¥æ›´æ–°æ•°æ®åº“åŸæœ‰å¯†ç ï¼Œéœ€è¦è®¾ç½®åŸå¯†ç ï¼Œå¹¶ä¸”ä½¿ç”¨è¿æ¥é€‰é¡¹ <code>QSQLITE_UPDATE_KEY</code> è®¾ç½®æ–°å¯†ç ï¼Œå…·ä½“ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">QSqlDatabase dbconn = QSqlDatabase::<span class="built_in">addDatabase</span>(<span class="string">&quot;SQLITECIPHER&quot;</span>);</span><br><span class="line">dbconn.<span class="built_in">setDatabaseName</span>(<span class="string">&quot;test.db&quot;</span>);</span><br><span class="line">dbconn.<span class="built_in">setPassword</span>(<span class="string">&quot;test&quot;</span>);</span><br><span class="line">dbconn.<span class="built_in">setConnectOptions</span>(<span class="string">&quot;QSQLITE_UPDATE_KEY=newtest&quot;</span>); </span><br><span class="line"><span class="keyword">if</span> (!dbconn.<span class="built_in">open</span>()) &#123;    </span><br><span class="line">    <span class="built_in">qDebug</span>() &lt;&lt; <span class="string">&quot;Can not open connection: &quot;</span> &lt;&lt; dbconn.<span class="built_in">lastError</span>().<span class="built_in">driverText</span>();   </span><br><span class="line">    <span class="built_in">exit</span>(CONNECTION_FAILED);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¦‚æœåŸå¯†ç ä¸æ­£ç¡®ï¼Œ<code>QtCipherSqlitePlugin</code> ä¼šç›´æ¥è¿”å›é”™è¯¯ã€‚</p><p>å¦‚æœæ–°å¯†ç è®¾ç½®ä¸ºç©ºï¼Œä¾‹å¦‚ <code>QSQLITE_UPDATE_KEY=</code> ï¼Œåˆ™ä½œç”¨ç­‰åŒäºåˆ é™¤å¯†ç ã€‚åŒæ ·çš„ï¼Œè®¾ç½® <code>setConnectOptions(&quot;&quot;)</code> ä¹Ÿç›¸å½“äºæ¸…é™¤è®¾ç½®çš„å±æ€§ã€‚</p><h1 id="è¡¥å……"><a href="#è¡¥å……" class="headerlink" title="è¡¥å……"></a>è¡¥å……</h1><p>ä»¥ä¸‹ä»£ç æ˜¯æˆ‘ä¸ªäººæƒ³å†™ä¸€ä¸ªé€šç”¨çš„è®¾ç½®å±æ€§çš„æ¥å£ï¼Œåæ¥æ€è€ƒä¸€ç•ªä¸å¤ªç°å®ä»¥ç¤ºä¼—å¤šè¯»è€…ï¼Œä¸è¦é‡è¹ˆè¦†è¾™ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">bool</span> <span class="title">setDBConfig</span><span class="params">(QSqlDatabase* dbconn, QMap&lt;ENUM_SQLKEY, QString&gt; qMapCfg)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">auto</span> it : qMapCfg.<span class="built_in">toStdMap</span>())</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (it.first &lt;= QSQLITE_REMOVE_KEY)</span><br><span class="line">&#123;</span><br><span class="line">dbconn-&gt;<span class="built_in">setPassword</span>(it.second);</span><br><span class="line">dbconn-&gt;<span class="built_in">setConnectOptions</span>(<span class="built_in">GETOBJNAME</span>(it.first));</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (it.first == QSQLITE_UPDATE_KEY)</span><br><span class="line">&#123;</span><br><span class="line">dbconn-&gt;<span class="built_in">setPassword</span>(it.second);</span><br><span class="line">dbconn-&gt;<span class="built_in">setConnectOptions</span>(<span class="built_in">QString</span>(<span class="string">&quot;%1=%2&quot;</span>).<span class="built_in">arg</span>().<span class="built_in">arg</span>());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> æ•°æ®åº“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Qt </tag>
            
            <tag> æ•°æ®åº“ </tag>
            
            <tag> åŠ å¯† </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ­£åˆ™è¡¨è¾¾å¼åå‘å¼•ç”¨</title>
      <link href="/Code/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/%E5%8C%B9%E9%85%8D%E4%B8%8D%E7%AD%89%E4%BA%8E/"/>
      <url>/Code/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/%E5%8C%B9%E9%85%8D%E4%B8%8D%E7%AD%89%E4%BA%8E/</url>
      
        <content type="html"><![CDATA[<p><code>[^a]*</code> è¡¨ç¤ºåŒ¹é…é™¤äº†aä»¥å¤–çš„æ‰€æœ‰å­—ç¬¦<br><code>[^abc]*</code> è¡¨ç¤ºåŒ¹é…é™¤äº†aã€bã€cä»¥å¤–çš„æ‰€æœ‰å­—ç¬¦ï¼Œæ³¨æ„è¿™é‡Œä¸æ˜¯abcå­—ç¬¦ä¸²ï¼Œè€Œæ˜¯aã€bã€cä»»ä½•ä¸€ä¸ªå­—ç¬¦éƒ½ä¸åŒ¹é…</p><p>å½“æˆ‘ä»¬è¦ä¸åŒ¹é…æŸä¸ªå­—ç¬¦ä¸²æˆ–è€…ä¸­æ–‡è¯ç»„çš„æ—¶å€™ï¼Œå¯ä»¥è¿™æ ·ç”¨<br><code>((?!å¤©ç©º).)*</code> è¿™ä¸ªè¡¨ç¤ºåŒ¹é…å‡ºâ€™å¤©ç©ºâ€™ä¹‹å¤–çš„æ‰€æœ‰å­—ç¬¦</p><p><code>regex(?![0-9]+)</code> åŒ¹é…ä¸æ˜¯regexï¼Œä½†åé¢ä¸æ˜¯æ•°å­—</p>]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> æ­£åˆ™è¡¨è¾¾å¼ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> regex </tag>
            
            <tag> æ­£åˆ™è¡¨è¾¾å¼ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MYSQLâ€”â€”æ•°æ®ç±»å‹</title>
      <link href="/Code/%E6%95%B0%E6%8D%AE%E5%BA%93/MYSQL/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/"/>
      <url>/Code/%E6%95%B0%E6%8D%AE%E5%BA%93/MYSQL/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/</url>
      
        <content type="html"><![CDATA[<h1 id="MYSQL-æ•°æ®ç±»å‹æ•´ç†"><a href="#MYSQL-æ•°æ®ç±»å‹æ•´ç†" class="headerlink" title="MYSQL æ•°æ®ç±»å‹æ•´ç†"></a>MYSQL æ•°æ®ç±»å‹æ•´ç†</h1><p>MySQL ä¸­å®šä¹‰æ•°æ®å­—æ®µçš„ç±»å‹å¯¹ä½ æ•°æ®åº“çš„ä¼˜åŒ–æ˜¯éå¸¸é‡è¦çš„ã€‚</p><p>MySQL æ”¯æŒå¤šç§ç±»å‹ï¼Œå¤§è‡´å¯ä»¥åˆ†ä¸ºä¸‰ç±»ï¼šæ•°å€¼ã€æ—¥æœŸ&#x2F;æ—¶é—´å’Œå­—ç¬¦ä¸²(å­—ç¬¦)ç±»å‹ã€‚</p><hr><h2 id="æ•°å€¼ç±»å‹"><a href="#æ•°å€¼ç±»å‹" class="headerlink" title="æ•°å€¼ç±»å‹"></a>æ•°å€¼ç±»å‹</h2><p>MySQL æ”¯æŒæ‰€æœ‰æ ‡å‡† SQL æ•°å€¼æ•°æ®ç±»å‹ã€‚</p><p>è¿™äº›ç±»å‹åŒ…æ‹¬ä¸¥æ ¼æ•°å€¼æ•°æ®ç±»å‹(INTEGERã€SMALLINTã€DECIMAL å’Œ NUMERIC)ï¼Œä»¥åŠè¿‘ä¼¼æ•°å€¼æ•°æ®ç±»å‹(FLOATã€REAL å’Œ DOUBLE PRECISION)ã€‚</p><p>å…³é”®å­—INTæ˜¯INTEGERçš„åŒä¹‰è¯ï¼Œå…³é”®å­—DECæ˜¯DECIMALçš„åŒä¹‰è¯ã€‚</p><p>BITæ•°æ®ç±»å‹ä¿å­˜ä½å­—æ®µå€¼ï¼Œå¹¶ä¸”æ”¯æŒ MyISAMã€MEMORYã€InnoDB å’Œ BDBè¡¨ã€‚</p><p>ä½œä¸º SQL æ ‡å‡†çš„æ‰©å±•ï¼ŒMySQL ä¹Ÿæ”¯æŒæ•´æ•°ç±»å‹ TINYINTã€MEDIUMINT å’Œ BIGINTã€‚ä¸‹é¢çš„è¡¨æ˜¾ç¤ºäº†éœ€è¦çš„æ¯ä¸ªæ•´æ•°ç±»å‹çš„å­˜å‚¨å’ŒèŒƒå›´ã€‚</p><table><thead><tr><th align="left">ç±»å‹</th><th align="left">å¤§å°</th><th align="left">èŒƒå›´ï¼ˆæœ‰ç¬¦å·ï¼‰</th><th align="left">èŒƒå›´ï¼ˆæ— ç¬¦å·ï¼‰</th><th align="left">ç”¨é€”</th></tr></thead><tbody><tr><td align="left">TINYINT</td><td align="left">1 Bytes</td><td align="left">(-128ï¼Œ127)</td><td align="left">(0ï¼Œ255)</td><td align="left">å°æ•´æ•°å€¼</td></tr><tr><td align="left">SMALLINT</td><td align="left">2 Bytes</td><td align="left">(-32 768ï¼Œ32 767)</td><td align="left">(0ï¼Œ65 535)</td><td align="left">å¤§æ•´æ•°å€¼</td></tr><tr><td align="left">MEDIUMINT</td><td align="left">3 Bytes</td><td align="left">(-8 388 608ï¼Œ8 388 607)</td><td align="left">(0ï¼Œ16 777 215)</td><td align="left">å¤§æ•´æ•°å€¼</td></tr><tr><td align="left">INTæˆ–INTEGER</td><td align="left">4 Bytes</td><td align="left">(-2 147 483 648ï¼Œ2 147 483 647)</td><td align="left">(0ï¼Œ4 294 967 295)</td><td align="left">å¤§æ•´æ•°å€¼</td></tr><tr><td align="left">BIGINT</td><td align="left">8 Bytes</td><td align="left">(-9,223,372,036,854,775,808ï¼Œ9 223 372 036 854 775 807)</td><td align="left">(0ï¼Œ18 446 744 073 709 551 615)</td><td align="left">æå¤§æ•´æ•°å€¼</td></tr><tr><td align="left">FLOAT</td><td align="left">4 Bytes</td><td align="left">(-3.402 823 466 E+38ï¼Œ-1.175 494 351 E-38)ï¼Œ0ï¼Œ(1.175 494 351 E-38ï¼Œ3.402 823 466 351 E+38)</td><td align="left">0ï¼Œ(1.175 494 351 E-38ï¼Œ3.402 823 466 E+38)</td><td align="left">å•ç²¾åº¦ æµ®ç‚¹æ•°å€¼</td></tr><tr><td align="left">DOUBLE</td><td align="left">8 Bytes</td><td align="left">(-1.797 693 134 862 315 7 E+308ï¼Œ-2.225 073 858 507 201 4 E-308)ï¼Œ0ï¼Œ(2.225 073 858 507 201 4 E-308ï¼Œ1.797 693 134 862 315 7 E+308)</td><td align="left">0ï¼Œ(2.225 073 858 507 201 4 E-308ï¼Œ1.797 693 134 862 315 7 E+308)</td><td align="left">åŒç²¾åº¦ æµ®ç‚¹æ•°å€¼</td></tr><tr><td align="left">DECIMAL</td><td align="left">å¯¹DECIMAL(M,D) ï¼Œå¦‚æœM&gt;Dï¼Œä¸ºM+2å¦åˆ™ä¸ºD+2</td><td align="left">ä¾èµ–äºMå’ŒDçš„å€¼</td><td align="left">ä¾èµ–äºMå’ŒDçš„å€¼</td><td align="left">å°æ•°å€¼</td></tr></tbody></table><hr><h2 id="æ—¥æœŸå’Œæ—¶é—´ç±»å‹"><a href="#æ—¥æœŸå’Œæ—¶é—´ç±»å‹" class="headerlink" title="æ—¥æœŸå’Œæ—¶é—´ç±»å‹"></a>æ—¥æœŸå’Œæ—¶é—´ç±»å‹</h2><p>è¡¨ç¤ºæ—¶é—´å€¼çš„æ—¥æœŸå’Œæ—¶é—´ç±»å‹ä¸ºDATETIMEã€DATEã€TIMESTAMPã€TIMEå’ŒYEARã€‚</p><p>æ¯ä¸ªæ—¶é—´ç±»å‹æœ‰ä¸€ä¸ªæœ‰æ•ˆå€¼èŒƒå›´å’Œä¸€ä¸ªâ€é›¶â€å€¼ï¼Œå½“æŒ‡å®šä¸åˆæ³•çš„MySQLä¸èƒ½è¡¨ç¤ºçš„å€¼æ—¶ä½¿ç”¨â€é›¶â€å€¼ã€‚</p><p>TIMESTAMPç±»å‹æœ‰ä¸“æœ‰çš„è‡ªåŠ¨æ›´æ–°ç‰¹æ€§ï¼Œå°†åœ¨åé¢æè¿°ã€‚</p><table><thead><tr><th align="left">ç±»å‹</th><th align="left">å¤§å° ( bytes)</th><th align="left">èŒƒå›´</th><th align="left">æ ¼å¼</th><th align="left">ç”¨é€”</th></tr></thead><tbody><tr><td align="left">DATE</td><td align="left">3</td><td align="left">1000-01-01&#x2F;9999-12-31</td><td align="left">YYYY-MM-DD</td><td align="left">æ—¥æœŸå€¼</td></tr><tr><td align="left">TIME</td><td align="left">3</td><td align="left">â€˜-838:59:59â€™&#x2F;â€˜838:59:59â€™</td><td align="left">HH:MM:SS</td><td align="left">æ—¶é—´å€¼æˆ–æŒç»­æ—¶é—´</td></tr><tr><td align="left">YEAR</td><td align="left">1</td><td align="left">1901&#x2F;2155</td><td align="left">YYYY</td><td align="left">å¹´ä»½å€¼</td></tr><tr><td align="left">DATETIME</td><td align="left">8</td><td align="left">â€˜1000-01-01 00:00:00â€™ åˆ° â€˜9999-12-31 23:59:59â€™</td><td align="left">YYYY-MM-DD hh:mm:ss</td><td align="left">æ··åˆæ—¥æœŸå’Œæ—¶é—´å€¼</td></tr><tr><td align="left">TIMESTAMP</td><td align="left">4</td><td align="left">â€˜1970-01-01 00:00:01â€™ UTC åˆ° â€˜2038-01-19 03:14:07â€™ UTCç»“æŸæ—¶é—´æ˜¯ç¬¬ <strong>2147483647</strong> ç§’ï¼ŒåŒ—äº¬æ—¶é—´ <strong>2038-1-19 11:14:07</strong>ï¼Œæ ¼æ—å°¼æ²»æ—¶é—´ 2038å¹´1æœˆ19æ—¥ å‡Œæ™¨ 03:14:07</td><td align="left">YYYY-MM-DD hh:mm:ss</td><td align="left">æ··åˆæ—¥æœŸå’Œæ—¶é—´å€¼ï¼Œæ—¶é—´æˆ³</td></tr></tbody></table><hr><h2 id="å­—ç¬¦ä¸²ç±»å‹"><a href="#å­—ç¬¦ä¸²ç±»å‹" class="headerlink" title="å­—ç¬¦ä¸²ç±»å‹"></a>å­—ç¬¦ä¸²ç±»å‹</h2><p>å­—ç¬¦ä¸²ç±»å‹æŒ‡CHARã€VARCHARã€BINARYã€VARBINARYã€BLOBã€TEXTã€ENUMå’ŒSETã€‚è¯¥èŠ‚æè¿°äº†è¿™äº›ç±»å‹å¦‚ä½•å·¥ä½œä»¥åŠå¦‚ä½•åœ¨æŸ¥è¯¢ä¸­ä½¿ç”¨è¿™äº›ç±»å‹ã€‚</p><table><thead><tr><th align="left">ç±»å‹</th><th align="left">å¤§å°</th><th align="left">ç”¨é€”</th></tr></thead><tbody><tr><td align="left">CHAR</td><td align="left">0-255 bytes</td><td align="left">å®šé•¿å­—ç¬¦ä¸²</td></tr><tr><td align="left">VARCHAR</td><td align="left">0-65535 bytes</td><td align="left">å˜é•¿å­—ç¬¦ä¸²</td></tr><tr><td align="left">TINYBLOB</td><td align="left">0-255 bytes</td><td align="left">ä¸è¶…è¿‡ 255 ä¸ªå­—ç¬¦çš„äºŒè¿›åˆ¶å­—ç¬¦ä¸²</td></tr><tr><td align="left">TINYTEXT</td><td align="left">0-255 bytes</td><td align="left">çŸ­æ–‡æœ¬å­—ç¬¦ä¸²</td></tr><tr><td align="left">BLOB</td><td align="left">0-65 535 bytes</td><td align="left">äºŒè¿›åˆ¶å½¢å¼çš„é•¿æ–‡æœ¬æ•°æ®</td></tr><tr><td align="left">TEXT</td><td align="left">0-65 535 bytes</td><td align="left">é•¿æ–‡æœ¬æ•°æ®</td></tr><tr><td align="left">MEDIUMBLOB</td><td align="left">0-16 777 215 bytes</td><td align="left">äºŒè¿›åˆ¶å½¢å¼çš„ä¸­ç­‰é•¿åº¦æ–‡æœ¬æ•°æ®</td></tr><tr><td align="left">MEDIUMTEXT</td><td align="left">0-16 777 215 bytes</td><td align="left">ä¸­ç­‰é•¿åº¦æ–‡æœ¬æ•°æ®</td></tr><tr><td align="left">LONGBLOB</td><td align="left">0-4 294 967 295 bytes</td><td align="left">äºŒè¿›åˆ¶å½¢å¼çš„æå¤§æ–‡æœ¬æ•°æ®</td></tr><tr><td align="left">LONGTEXT</td><td align="left">0-4 294 967 295 bytes</td><td align="left">æå¤§æ–‡æœ¬æ•°æ®</td></tr></tbody></table><p><strong>æ³¨æ„</strong>ï¼šchar(n) å’Œ varchar(n) ä¸­æ‹¬å·ä¸­ n ä»£è¡¨å­—ç¬¦çš„ä¸ªæ•°ï¼Œå¹¶ä¸ä»£è¡¨å­—èŠ‚ä¸ªæ•°ï¼Œæ¯”å¦‚ CHAR(30) å°±å¯ä»¥å­˜å‚¨ 30 ä¸ªå­—ç¬¦ã€‚</p><p>CHAR å’Œ VARCHAR ç±»å‹ç±»ä¼¼ï¼Œä½†å®ƒä»¬ä¿å­˜å’Œæ£€ç´¢çš„æ–¹å¼ä¸åŒã€‚å®ƒä»¬çš„æœ€å¤§é•¿åº¦å’Œæ˜¯å¦å°¾éƒ¨ç©ºæ ¼è¢«ä¿ç•™ç­‰æ–¹é¢ä¹Ÿä¸åŒã€‚åœ¨å­˜å‚¨æˆ–æ£€ç´¢è¿‡ç¨‹ä¸­ä¸è¿›è¡Œå¤§å°å†™è½¬æ¢ã€‚</p><p>BINARY å’Œ VARBINARY ç±»ä¼¼äº CHAR å’Œ VARCHARï¼Œä¸åŒçš„æ˜¯å®ƒä»¬åŒ…å«äºŒè¿›åˆ¶å­—ç¬¦ä¸²è€Œä¸è¦éäºŒè¿›åˆ¶å­—ç¬¦ä¸²ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå®ƒä»¬åŒ…å«å­—èŠ‚å­—ç¬¦ä¸²è€Œä¸æ˜¯å­—ç¬¦å­—ç¬¦ä¸²ã€‚è¿™è¯´æ˜å®ƒä»¬æ²¡æœ‰å­—ç¬¦é›†ï¼Œå¹¶ä¸”æ’åºå’Œæ¯”è¾ƒåŸºäºåˆ—å€¼å­—èŠ‚çš„æ•°å€¼å€¼ã€‚</p><p>BLOB æ˜¯ä¸€ä¸ªäºŒè¿›åˆ¶å¤§å¯¹è±¡ï¼Œå¯ä»¥å®¹çº³å¯å˜æ•°é‡çš„æ•°æ®ã€‚æœ‰ 4 ç§ BLOB ç±»å‹ï¼šTINYBLOBã€BLOBã€MEDIUMBLOB å’Œ LONGBLOBã€‚å®ƒä»¬åŒºåˆ«åœ¨äºå¯å®¹çº³å­˜å‚¨èŒƒå›´ä¸åŒã€‚</p><p>æœ‰ 4 ç§ TEXT ç±»å‹ï¼šTINYTEXTã€TEXTã€MEDIUMTEXT å’Œ LONGTEXTã€‚å¯¹åº”çš„è¿™ 4 ç§ BLOB ç±»å‹ï¼Œå¯å­˜å‚¨çš„æœ€å¤§é•¿åº¦ä¸åŒï¼Œå¯æ ¹æ®å®é™…æƒ…å†µé€‰æ‹©ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> æ•°æ®åº“ </category>
          
          <category> MYSQL </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>TypeScript</title>
      <link href="/Code/TypeScript/selfRecord/"/>
      <url>/Code/TypeScript/selfRecord/</url>
      
        <content type="html"><![CDATA[<p>[Toc]</p><h1 id="å¿«é€Ÿä¸Šæ‰‹"><a href="#å¿«é€Ÿä¸Šæ‰‹" class="headerlink" title="å¿«é€Ÿä¸Šæ‰‹"></a>å¿«é€Ÿä¸Šæ‰‹</h1><ol><li>å®‰è£…</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm add @netless/fastboard @netless/window-manager white-web-sdk</span><br></pre></td></tr></table></figure><h1 id="åˆ›å»ºå®æ—¶éŸ³é¢‘"><a href="#åˆ›å»ºå®æ—¶éŸ³é¢‘" class="headerlink" title="åˆ›å»ºå®æ—¶éŸ³é¢‘"></a>åˆ›å»ºå®æ—¶éŸ³é¢‘</h1><h2 id="é‡‡é›†éŸ³è§†é¢‘ç›¸å…³"><a href="#é‡‡é›†éŸ³è§†é¢‘ç›¸å…³" class="headerlink" title="é‡‡é›†éŸ³è§†é¢‘ç›¸å…³"></a>é‡‡é›†éŸ³è§†é¢‘ç›¸å…³</h2><h3 id="1-è·å–æ‘„åƒå¤´åˆ—è¡¨"><a href="#1-è·å–æ‘„åƒå¤´åˆ—è¡¨" class="headerlink" title="1. è·å–æ‘„åƒå¤´åˆ—è¡¨"></a>1. è·å–æ‘„åƒå¤´åˆ—è¡¨</h3><blockquote><p>è°ƒç”¨ <code>getMicrophones</code> è·å–å¯ç”¨çš„æ‘„åƒå¤´åˆ—è¡¨</p><p><code>getMicrophones</code> æ–¹æ³•ä¼šé€šè¿‡ Promise å¼‚æ­¥è¿”å›ä¸€ä¸ª <code>MediaDeviceInfo</code> å¯¹è±¡çš„æ•°ç»„ã€‚<code>MediaDeviceInfo</code> å¯¹è±¡å¤ç”¨äº† WebRTC API ä¸­çš„ <a href="https://developer.mozilla.org/en-US/docs/Web/API/MediaDeviceInfo">MediaDeviceInfo å¯¹è±¡</a>ã€‚å› ä¸ºæ˜¯å¼‚æ­¥æ–¹æ³•ï¼Œä½ å¯ä»¥ä½¿ç”¨ then&#x2F;catch (ES6) æˆ– async&#x2F;await (ES7) è·å–è¿”å›å€¼ã€‚</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è·å–å¯ç”¨çš„éº¦å…‹é£è®¾å¤‡åˆ—è¡¨ã€‚</span></span><br><span class="line"><span class="comment">// è°ƒç”¨æ—¶ï¼Œå¦‚æœæµè§ˆå™¨è¿˜æ²¡æœ‰è·å¾—éº¦å…‹é£è®¿é—®æƒé™ï¼Œä¼šåœ¨ç•Œé¢ä¸Šæç¤ºä½ æ˜¯å¦å…è®¸æµè§ˆå™¨è®¿é—®éº¦å…‹é£ã€‚</span></span><br><span class="line"><span class="title class_">AgoraRTC</span>.<span class="title function_">getMicrophones</span>()</span><br><span class="line">.<span class="title function_">then</span>(<span class="function">(<span class="params">deviceInfoArray</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">/* è¿”å› MediaDeviceInfo æ•°ç»„å¯¹è±¡ä¹‹åçš„æ“ä½œ*/</span></span><br><span class="line">&#125;)</span><br><span class="line">.<span class="title function_">catch</span>(<span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Failed to get microphones!&quot;</span>, e);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h3 id="2-è·å–æ‘„åƒå¤´è®¾å¤‡ä¿¡æ¯"><a href="#2-è·å–æ‘„åƒå¤´è®¾å¤‡ä¿¡æ¯" class="headerlink" title="2. è·å–æ‘„åƒå¤´è®¾å¤‡ä¿¡æ¯"></a>2. è·å–æ‘„åƒå¤´è®¾å¤‡ä¿¡æ¯</h3><p>åœ¨æ­¤æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬åœ¨ HTML ä¸­åˆ›å»ºä¸€ä¸ªä¸‹æ‹‰èœå•æ¥ä¾›ç”¨æˆ·é€‰æ‹©ä½¿ç”¨çš„æ‘„åƒå¤´è®¾å¤‡ã€‚åœ¨ç”¨æˆ·ç•Œé¢ä¸Šä½¿ç”¨ <code>label</code> å±æ€§æ˜¾ç¤ºè®¾å¤‡ä¿¡æ¯ã€‚<code>deviceId</code> å±æ€§ç”¨äºä¿å­˜è®¾å¤‡ IDï¼Œç”¨äºåç»­çš„æ‘„åƒå¤´è®¿é—®ã€‚</p><blockquote><p><code>label</code>ï¼Œå³è®¾å¤‡æ ‡ç­¾ï¼Œè¿”å›ä¸€ä¸ª DOMStringï¼Œä»£è¡¨æè¿°å¯¹åº”è®¾å¤‡çš„æ ‡ç­¾ã€‚å¦‚æœæµè§ˆå™¨æ²¡æœ‰è·å–è®¾å¤‡æƒé™ï¼Œåˆ™è¿”å› <code>&quot;&quot;</code>ã€‚</p></blockquote><blockquote><p><code>deviceId</code>ï¼Œå³è®¾å¤‡ IDï¼Œè¿”å›ä¸€ä¸ª DOMStringï¼Œä»£è¡¨å¯¹åº”è®¾å¤‡ã€‚è®¾å¤‡ ID å¯¹äºåº”ç”¨æ˜¯å”¯ä¸€çš„ï¼Œåªè¦æµè§ˆå™¨çš„ cookie æ²¡æœ‰è¢«æ¸…é™¤ï¼Œå³ä½¿ä½ å¼€å¯äº†æ–°çš„æµè§ˆå™¨ä¼šè¯ï¼ˆsessionï¼‰ï¼Œè®¾å¤‡ ID ä¹Ÿä¼šä¿æŒä¸å˜ã€‚å¦‚æœä½ æ¸…é™¤äº†æµè§ˆå™¨ cookieï¼Œåˆ™è®¾å¤‡ ID ä¼šé‡ç½®ã€‚åŒç†ï¼Œå¦‚æœä½ å¼€å¯äº†æµè§ˆå™¨éšç§æ¨¡å¼ï¼Œå¯¹äºåŒä¸€ä¸ªè®¾å¤‡ï¼Œæ¯ä¸ªæµè§ˆå™¨ä¼šè¯çš„è®¾å¤‡ ID éƒ½æ˜¯ä¸åŒçš„ã€‚å› æ­¤ï¼Œå»ºè®®æ¯æ¬¡å¯¹è®¾å¤‡è¿›è¡Œæ“ä½œæ—¶é‡æ–°è·å–è®¾å¤‡ IDã€‚</p></blockquote><p><strong>HTML</strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>é€šè¿‡éº¦å…‹é£é‡‡é›†å¹¶åœ¨æœ¬åœ°æ¸²æŸ“éŸ³é¢‘<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">b</span>&gt;</span> é€‰æ‹©ä½ è¦ä½¿ç”¨çš„éº¦å…‹é£ <span class="tag">&lt;/<span class="name">b</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span> = <span class="string">&quot;microphoneList&quot;</span> <span class="attr">onchange</span> = <span class="string">&quot;getDeviceId()&quot;</span> &gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">option</span>&gt;</span> ---é€‰æ‹©éº¦å…‹é£--- <span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>ä½ é€‰æ‹©è®¾å¤‡çš„ deviceId æ˜¯ï¼š<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">&quot;deviceId&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>JavaScript</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å®šä¹‰è®¾å¤‡ ID ä¸æ ‡ç­¾çš„æ˜ å°„</span></span><br><span class="line"><span class="keyword">let</span> dict = &#123;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è·å–æ‘„åƒå¤´åˆ—è¡¨</span></span><br><span class="line"><span class="title class_">AgoraRTC</span>.<span class="title function_">getMicrophones</span>()</span><br><span class="line">.<span class="title function_">then</span>(<span class="function">(<span class="params">deviceInfoArray</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> deviceInfo <span class="keyword">of</span> deviceInfoArray) &#123;</span><br><span class="line">    <span class="keyword">let</span> option = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;option&quot;</span>);</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;microphoneList&quot;</span>).<span class="title function_">appendChild</span>(option);</span><br><span class="line">    option.<span class="property">innerHTML</span> = deviceInfo.<span class="property">label</span>;</span><br><span class="line">    dict[deviceInfo.<span class="property">label</span>] = deviceInfo.<span class="property">deviceId</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line">.<span class="title function_">catch</span>(<span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Failed to get microphones!&quot;</span>, e);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ ¹æ®ä¸‹æ‹‰èœå•é€‰æ‹©çš„è®¾å¤‡æ ‡ç­¾ï¼Œæ˜¾ç¤ºç›¸åº”çš„è®¾å¤‡ ID</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getDeviceId</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> microphoneList = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;microphoneList&quot;</span>);</span><br><span class="line">    <span class="keyword">let</span> deviceLabel = microphoneList.<span class="property">options</span>[microphoneList.<span class="property">selectedIndex</span>].<span class="property">text</span>;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;deviceId&quot;</span>).<span class="property">innerHTML</span> = dict[deviceLabel];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-åˆ›å»ºéº¦å…‹é£éŸ³é¢‘è½¨é“å¹¶æ¸²æŸ“"><a href="#3-åˆ›å»ºéº¦å…‹é£éŸ³é¢‘è½¨é“å¹¶æ¸²æŸ“" class="headerlink" title="3. åˆ›å»ºéº¦å…‹é£éŸ³é¢‘è½¨é“å¹¶æ¸²æŸ“"></a>3. åˆ›å»ºéº¦å…‹é£éŸ³é¢‘è½¨é“å¹¶æ¸²æŸ“</h3><p>è°ƒç”¨ <code>createMicrophoneAudioTrack</code> åˆ›å»ºéº¦å…‹é£éŸ³é¢‘è½¨é“å¹¶è°ƒç”¨æˆå‘˜æ–¹æ³• <code>play</code> é€šè¿‡ç³»ç»Ÿé»˜è®¤æ‰¬å£°å™¨å¯¹è§†é¢‘è¿›è¡Œæ¸²æŸ“ã€‚è¿™é‡Œè½¨é“çš„æ¦‚å¿µå’Œ WebRTC ä¸­çš„ <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/MediaStreamTrack">track</a> ç›¸ä¼¼ã€‚ä¸€ä¸ªè½¨é“ä»£è¡¨ä¸€è·¯ç‰¹å®šçš„è§†é¢‘æºæˆ–éŸ³é¢‘æºã€‚å£°ç½‘ SDK å°†ä¸åŒæ¥æºçš„éŸ³è§†é¢‘è½¨é“è¿›è¡ŒæŠ½è±¡ï¼Œå®šä¹‰äº†æ‘„åƒå¤´è§†é¢‘è½¨é“ã€å±å¹•é‡‡é›†è§†é¢‘è½¨é“åŠè‡ªå®šä¹‰æºè§†é¢‘è½¨é“ç­‰ã€‚</p><blockquote><p>è¿™ä¸ªæ­¥éª¤åªæ˜¯ä¸ºäº†æ¼”ç¤ºéº¦å…‹é£éŸ³é¢‘è½¨é“çš„æ¸²æŸ“ã€‚å®é™…å¼€å‘é€šè¯åº”ç”¨æ—¶ï¼Œæœ¬åœ°ä¸éœ€è¦æ’­æ”¾æœ¬åœ°éº¦å…‹é£é‡‡é›†çš„éŸ³é¢‘ã€‚</p></blockquote><ol><li><p><strong>HTML</strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>é€šè¿‡éº¦å…‹é£é‡‡é›†å¹¶åœ¨æœ¬åœ°æ¸²æŸ“éŸ³é¢‘<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">b</span>&gt;</span> é€‰æ‹©ä½ è¦ä½¿ç”¨çš„éº¦å…‹é£ <span class="tag">&lt;/<span class="name">b</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;microphoneList&quot;</span> <span class="attr">onchange</span>=<span class="string">&quot;getDeviceId()&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span>&gt;</span> ---é€‰æ‹©éº¦å…‹é£--- <span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>ä½ é€‰æ‹©è®¾å¤‡çš„ deviceId æ˜¯ï¼š<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">&quot;deviceId&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>CSS</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span> &#123;<span class="attribute">font-family</span>: system-ui;<span class="attribute">background</span>: <span class="number">#f06d06</span>;<span class="attribute">color</span>: white;<span class="attribute">text-align</span>: center;&#125;</span><br><span class="line"><span class="selector-tag">div</span> &#123;<span class="attribute">height</span>: <span class="number">200px</span>;<span class="attribute">width</span>: <span class="number">50%</span>;&#125;</span><br></pre></td></tr></table></figure><p><strong>JavaScript</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å…¨å±€å˜é‡</span></span><br><span class="line"><span class="keyword">let</span> dict = &#123;&#125;; <span class="comment">// ä½¿ç”¨ dict æ˜ å°„è®¾å¤‡æ ‡ç­¾å’Œè®¾å¤‡ ID</span></span><br><span class="line"><span class="keyword">let</span> selectedDeviceId = <span class="string">&quot;&quot;</span>; <span class="comment">// ä¸‹é€‰æ¡†é€‰æ‹©çš„è®¾å¤‡å¯¹åº”çš„ ID</span></span><br><span class="line"><span class="keyword">let</span> microphoneAudioTrack = <span class="literal">null</span>; <span class="comment">// éº¦å…‹é£éŸ³é¢‘è½¨é“å¯¹è±¡</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è·å–æœ¬åœ°éº¦å…‹é£åˆ—è¡¨</span></span><br><span class="line"><span class="title class_">AgoraRTC</span>.<span class="title function_">getMicrophones</span>()</span><br><span class="line">.<span class="title function_">then</span>(<span class="function">(<span class="params">deviceInfoArray</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> deviceInfo <span class="keyword">of</span> deviceInfoArray) &#123;</span><br><span class="line">    <span class="keyword">let</span> option = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;option&quot;</span>);</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;microphoneList&quot;</span>).<span class="title function_">appendChild</span>(option);</span><br><span class="line">    option.<span class="property">innerHTML</span> = deviceInfo.<span class="property">label</span>;</span><br><span class="line">    dict[deviceInfo.<span class="property">label</span>] = deviceInfo.<span class="property">deviceId</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line">.<span class="title function_">catch</span>(<span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Failed to get microphones!&quot;</span>, e);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»ºéº¦å…‹é£éŸ³é¢‘è½¨é“</span></span><br><span class="line"><span class="title class_">AgoraRTC</span>.<span class="title function_">createMicrophoneAudioTrack</span>()</span><br><span class="line">.<span class="title function_">then</span>(<span class="function">(<span class="params">microphoneAudioTrack</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// æ¸²æŸ“éŸ³é¢‘ã€‚SDK ä½¿ç”¨ç³»ç»Ÿé»˜è®¤çš„æ‰¬å£°å™¨æ’­æ”¾å£°éŸ³ã€‚</span></span><br><span class="line">    microphoneAudioTrack.<span class="title function_">play</span>();</span><br><span class="line">&#125;)</span><br><span class="line">.<span class="title function_">catch</span>(<span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Failed to play audio!&quot;</span>, e);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ ¹æ®é€‰æ‹©çš„è®¾å¤‡æ ‡ç­¾ï¼Œè¿”å›å¯¹åº”çš„è®¾å¤‡ ID å¹¶ä¼ ç»™éº¦å…‹é£éŸ³é¢‘è½¨é“</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getDeviceId</span>(<span class="params"></span>) &#123;</span><br><span class="line"><span class="keyword">let</span> microphoneList = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;microphoneList&quot;</span>);</span><br><span class="line"><span class="keyword">let</span> deviceLabel = microphoneList.<span class="property">options</span>[microphoneList.<span class="property">selectedIndex</span>].<span class="property">text</span>;</span><br><span class="line">selectedDeviceId = dict[deviceLabel];</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;deviceId&quot;</span>).<span class="property">innerHTML</span> = selectedDeviceId;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (microphoneAudioTrack != <span class="literal">null</span>) &#123;</span><br><span class="line">    microphoneAudioTrack.<span class="title function_">setDevice</span>(selectedDeviceId);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h3 id="éŸ³é¢‘å›è°ƒ"><a href="#éŸ³é¢‘å›è°ƒ" class="headerlink" title="#éŸ³é¢‘å›è°ƒ"></a>#éŸ³é¢‘å›è°ƒ</h3><blockquote><p>setAudioFrameCallback</p><ul><li><p>setAudioFrameCallback(audioFrameCallback: <em>null</em> | <em>function</em>, frameSize?: <em>undefined</em> | <em>number</em>): <em>void</em></p></li><li><p>è®¾ç½®åŸå§‹éŸ³é¢‘æ•°æ®ï¼ˆPCMï¼‰å›è°ƒã€‚</p><p>è®¾ç½®æˆåŠŸåï¼ŒSDK ä¼šä¸æ–­åœ°å°†è¿œç«¯éŸ³é¢‘è½¨é“çš„éŸ³é¢‘å¸§ä»¥ <a href="https://developer.mozilla.org/en-US/docs/Web/API/AudioBuffer">AudioBuffer</a> çš„å½¢å¼é€šè¿‡å›è°ƒè¿”å›ã€‚</p><blockquote><p>ä½ å¯ä»¥é€šè¿‡ <code>frameSize</code> æ¥è®¾ç½®æ¯æ¬¡å›è°ƒä¸­éŸ³é¢‘å¸§çš„å¤§å°ã€‚è¯¥è®¾ç½®ä¹Ÿä¼šå½±å“å›è°ƒçš„é—´éš”ï¼Œ<code>frameSize</code> è¶Šå¤§ï¼Œæ¯æ¬¡å›è°ƒçš„éŸ³é¢‘æ•°æ®è¶Šå¤šï¼Œå›è°ƒé—´éš”è¶Šé•¿ã€‚</p></blockquote></li></ul></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">track.<span class="title function_">setAudioFrameCallback</span>(<span class="function">(<span class="params">buffer</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> channel = <span class="number">0</span>; channel &lt; buffer.<span class="property">numberOfChannels</span>; channel += <span class="number">1</span>) &#123;</span><br><span class="line">    <span class="comment">// Float32Array with PCM data</span></span><br><span class="line">    <span class="keyword">const</span> currentChannelData = buffer.<span class="title function_">getChannelData</span>(channel);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;PCM data in channel&quot;</span>, channel, currentChannelData);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;, <span class="number">2048</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ....</span></span><br><span class="line"><span class="comment">// Stop getting the raw audio data</span></span><br><span class="line">track.<span class="title function_">setAudioFrameCallback</span>(<span class="literal">null</span>);</span><br></pre></td></tr></table></figure><h4 id="éŸ³é¢‘å›è°ƒè§£ç "><a href="#éŸ³é¢‘å›è°ƒè§£ç " class="headerlink" title="éŸ³é¢‘å›è°ƒè§£ç "></a>éŸ³é¢‘å›è°ƒè§£ç </h4><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/AudioBuffer">AudioBuffer - Web API æ¥å£å‚è€ƒ | MDN</a></p><p>AudioBuffer æ¥å£è¡¨ç¤ºå­˜åœ¨å†…å­˜é‡Œçš„ä¸€æ®µçŸ­å°çš„éŸ³é¢‘èµ„æºï¼Œåˆ©ç”¨<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/BaseAudioContext/decodeAudioData"><code>AudioContext.decodeAudioData()</code></a>æ–¹æ³•ä»ä¸€ä¸ªéŸ³é¢‘æ–‡ä»¶æ„å»ºï¼Œæˆ–è€…åˆ©ç”¨ <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/BaseAudioContext/createBuffer"><code>AudioContext.createBuffer()</code></a>ä»åŸå§‹æ•°æ®æ„å»ºã€‚æŠŠéŸ³é¢‘æ”¾å…¥ AudioBuffer åï¼Œå¯ä»¥ä¼ å…¥åˆ°ä¸€ä¸ª <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/AudioBufferSourceNode"><code>AudioBufferSourceNode</code></a>è¿›è¡Œæ’­æ”¾ã€‚</p><p>è¿™äº›ç±»å‹å¯¹è±¡è¢«è®¾è®¡æ¥æ§åˆ¶å°éŸ³é¢‘ç‰‡æ®µï¼Œå¾€å¾€çŸ­äº 45 ç§’ã€‚å¯¹äºæ›´é•¿çš„å£°éŸ³ï¼Œé€šè¿‡ <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/MediaElementAudioSourceNode"><code>MediaElementAudioSourceNode</code></a>æ¥å®ç°æ›´ä¸ºåˆé€‚ã€‚ç¼“å­˜åŒºï¼ˆbufferï¼‰åŒ…å«ä»¥ä¸‹æ•°æ®ï¼šä¸é—´æ–­çš„ IEEE754 32 ä½çº¿æ€§ PCMï¼Œä»-1 åˆ° 1 çš„èŒƒå›´é¢å®šï¼Œå°±æ˜¯è¯´ï¼Œ32 ä½çš„æµ®ç‚¹ç¼“å­˜åŒºçš„æ¯ä¸ªæ ·æœ¬åœ¨-1.0 åˆ° 1.0 ä¹‹é—´ã€‚å¦‚æœ<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/AudioBuffer"><code>AudioBuffer</code></a>æœ‰ä¸åŒçš„é¢‘é“ï¼Œä»–ä»¬é€šå¸¸è¢«ä¿å­˜åœ¨ç‹¬ç«‹çš„ç¼“å­˜åŒºã€‚</p><h5 id="1-å±æ€§"><a href="#1-å±æ€§" class="headerlink" title="1) å±æ€§"></a>1) <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/AudioBuffer#%E5%B1%9E%E6%80%A7">å±æ€§</a></h5><ul><li><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/AudioBuffer/sampleRate"><code>AudioBuffer.sampleRate</code></a> åªè¯»</p><p>å­˜å‚¨åœ¨ç¼“å­˜åŒºçš„ PCM æ•°æ®çš„é‡‡æ ·ç‡ï¼šæµ®ç‚¹æ•°ï¼Œå•ä½ä¸º sample&#x2F;sã€‚</p></li><li><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/AudioBuffer/length"><code>AudioBuffer.length</code></a> åªè¯»</p><p>è¿”å›å­˜å‚¨åœ¨ç¼“å­˜åŒºçš„ PCM æ•°æ®çš„é‡‡æ ·å¸§æ•°ï¼šæ•´å½¢ã€‚</p></li><li><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/AudioBuffer/duration"><code>AudioBuffer.duration</code></a> åªè¯»</p><p>è¿”å›å­˜å‚¨åœ¨ç¼“å­˜åŒºçš„ PCM æ•°æ®çš„æ—¶é•¿ï¼šåŒç²¾åº¦å‹ï¼ˆå•ä½ä¸ºç§’ï¼‰ã€‚</p></li><li><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/AudioBuffer/numberOfChannels"><code>AudioBuffer.numberOfChannels</code></a> åªè¯»</p><p>è¿”å›å­˜å‚¨åœ¨ç¼“å­˜åŒºçš„ PCM æ•°æ®çš„é€šé“æ•°ï¼šæ•´å½¢ã€‚</p></li></ul><h5 id="2-æ–¹æ³•"><a href="#2-æ–¹æ³•" class="headerlink" title="2) æ–¹æ³•"></a>2) <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/AudioBuffer#%E6%96%B9%E6%B3%95">æ–¹æ³•</a></h5><ul><li><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/AudioBuffer/getChannelData"><code>AudioBuffer.getChannelData()</code></a></p><p>è¿”å›ä¸€ä¸ª <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Float32Array"><code>Float32Array</code></a>ï¼ŒåŒ…å«äº†å¸¦æœ‰é¢‘é“çš„ PCM æ•°æ®ï¼Œç”±é¢‘é“å‚æ•°å®šä¹‰ï¼ˆæœ‰ 0 ä»£è¡¨ç¬¬ä¸€ä¸ªé¢‘é“ï¼‰</p></li><li><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/AudioBuffer/copyFromChannel"><code>AudioBuffer.copyFromChannel()</code></a></p><p>ä» AudioBuffer çš„æŒ‡å®šé¢‘é“å¤åˆ¶åˆ°æ•°ç»„ç»ˆç«¯ã€‚</p></li><li><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/AudioBuffer/copyToChannel"><code>AudioBuffer.copyToChannel()</code> (en-US)</a></p><p>å¤åˆ¶æ ·å“åˆ°åŸæ•°ç»„çš„ AudioBuffer çš„æŒ‡å®šé¢‘é“</p></li></ul><h5 id="3-ä¾‹å­"><a href="#3-ä¾‹å­" class="headerlink" title="3) ä¾‹å­"></a>3) <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/AudioBuffer#%E4%BE%8B%E5%AD%90">ä¾‹å­</a></h5><p>ä»¥ä¸‹çš„ä¾‹å­å±•ç¤ºäº†å¦‚ä½•æ„å»ºä¸€ä¸ª AudioBuffer ä»¥åŠéšæœºç”¨ç™½å™ªéŸ³å¡«å……ã€‚ä½ å¯ä»¥åœ¨ <a href="https://github.com/mdn/webaudio-examples/tree/master/audio-buffer">audio-buffer demo</a>åº“å‘ç°å®Œæ•´çš„æºä»£ç ï¼›ä¸€ä¸ª<a href="https://mdn.github.io/webaudio-examples/audio-buffer/">running live</a> çš„ç‰ˆæœ¬ä¹Ÿå¯è·å¾—ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Stereo</span></span><br><span class="line"><span class="keyword">var</span> channels = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Create an empty two second stereo buffer at the</span></span><br><span class="line"><span class="comment">// sample rate of the AudioContext</span></span><br><span class="line"><span class="keyword">var</span> frameCount = audioCtx.<span class="property">sampleRate</span> * <span class="number">2.0</span>;</span><br><span class="line"><span class="keyword">var</span> myArrayBuffer = audioCtx.<span class="title function_">createBuffer</span>(channels, frameCount, audioCtx.<span class="property">sampleRate</span>);</span><br><span class="line"></span><br><span class="line">button.<span class="property">onclick</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="comment">// Fill the buffer with white noise;</span></span><br><span class="line">  <span class="comment">// just random values between -1.0 and 1.0</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> channel = <span class="number">0</span>; channel &lt; channels; channel++) &#123;</span><br><span class="line">    <span class="comment">// This gives us the actual array that contains the data</span></span><br><span class="line">    <span class="keyword">var</span> nowBuffering = myArrayBuffer.<span class="title function_">getChannelData</span>(channel);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; frameCount; i++) &#123;</span><br><span class="line">      <span class="comment">// Math.random() is in [0; 1.0]</span></span><br><span class="line">      <span class="comment">// audio needs to be in [-1.0; 1.0]</span></span><br><span class="line">      nowBuffering[i] = <span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">2</span> - <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Get an AudioBufferSourceNode.</span></span><br><span class="line">  <span class="comment">// This is the AudioNode to use when we want to play an AudioBuffer</span></span><br><span class="line">  <span class="keyword">var</span> source = audioCtx.<span class="title function_">createBufferSource</span>();</span><br><span class="line"></span><br><span class="line">  <span class="comment">// set the buffer in the AudioBufferSourceNode</span></span><br><span class="line">  source.<span class="property">buffer</span> = myArrayBuffer;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// connect the AudioBufferSourceNode to the</span></span><br><span class="line">  <span class="comment">// destination so we can hear the sound</span></span><br><span class="line">  source.<span class="title function_">connect</span>(audioCtx.<span class="property">destination</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// start the source playing</span></span><br><span class="line">  source.<span class="title function_">start</span>();</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="4-è§„æ ¼å‚æ•°"><a href="#4-è§„æ ¼å‚æ•°" class="headerlink" title="4) è§„æ ¼å‚æ•°"></a>4) <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/AudioBuffer#%E8%A7%84%E6%A0%BC%E5%8F%82%E6%95%B0">è§„æ ¼å‚æ•°</a></h5><table><thead><tr><th align="left">Specification</th></tr></thead><tbody><tr><td align="left"><a href="https://webaudio.github.io/web-audio-api/#AudioBuffer">Web Audio API # AudioBuffer</a></td></tr></tbody></table><h2 id="å½•éŸ³å¯¹è±¡å±æ€§"><a href="#å½•éŸ³å¯¹è±¡å±æ€§" class="headerlink" title="å½•éŸ³å¯¹è±¡å±æ€§"></a>å½•éŸ³å¯¹è±¡å±æ€§</h2><p><a href="https://docs.agora.io/cn/Voice/API%20Reference/web_ng/interfaces/microphoneaudiotrackinitconfig.html">Agora Web API Reference - è¯­éŸ³é€šè¯ - æ–‡æ¡£ä¸­å¿ƒ - å£°ç½‘Agora</a></p><h2 id="éŸ³é¢‘ç¼–ç "><a href="#éŸ³é¢‘ç¼–ç " class="headerlink" title="éŸ³é¢‘ç¼–ç "></a>éŸ³é¢‘ç¼–ç </h2><h3 id="AudioEncoderConfigurationPreset"><a href="#AudioEncoderConfigurationPreset" class="headerlink" title="AudioEncoderConfigurationPreset"></a>AudioEncoderConfigurationPreset</h3><p>AudioEncoderConfigurationPreset: <em>keyof typeof AUDIO_ENCODER_CONFIG_SETTINGS</em></p><p>SDK é¢„è®¾çš„ [AudioEncoderConfiguration](<a href="https://docs.agora.io/cn/Voice/API">https://docs.agora.io/cn/Voice/API</a> Reference&#x2F;web_ng&#x2F;interfaces&#x2F;audioencoderconfiguration.html) é…ç½®ã€‚</p><p>ä½ å¯ä»¥åœ¨ä»¥ä¸‹æ–¹æ³•ä¸­ä¼ å…¥é¢„è®¾å€¼æ¥æ§åˆ¶æœ¬åœ°éŸ³é¢‘çš„ç¼–ç é…ç½®ï¼š</p><ul><li>[AgoraRTC.createCustomAudioTrack](<a href="https://docs.agora.io/cn/Voice/API">https://docs.agora.io/cn/Voice/API</a> Reference&#x2F;web_ng&#x2F;interfaces&#x2F;iagorartc.html#createcustomaudiotrack)</li><li>[AgoraRTC.createMicrophoneAudioTrack](<a href="https://docs.agora.io/cn/Voice/API">https://docs.agora.io/cn/Voice/API</a> Reference&#x2F;web_ng&#x2F;interfaces&#x2F;iagorartc.html#createmicrophoneaudiotrack)</li><li>[AgoraRTC.createBufferSourceAudioTrack](<a href="https://docs.agora.io/cn/Voice/API">https://docs.agora.io/cn/Voice/API</a> Reference&#x2F;web_ng&#x2F;interfaces&#x2F;iagorartc.html#createbuffersourceaudiotrack)</li></ul><p>ä¸‹è¡¨åˆ—å‡ºäº† SDK æ‰€æœ‰å†…ç½®çš„éŸ³é¢‘å±æ€§é…ç½®ï¼ŒSDK é»˜è®¤ä½¿ç”¨ <code>&quot;music_standard&quot;</code>ã€‚</p><table><thead><tr><th align="left">éŸ³é¢‘å±æ€§</th><th align="left">é…ç½®</th></tr></thead><tbody><tr><td align="left"><code>&quot;speech_low_quality&quot;</code></td><td align="left">16 kHz é‡‡æ ·ç‡ï¼Œå•å£°é“ï¼Œç¼–ç ç ç‡çº¦ 24 Kbps</td></tr><tr><td align="left"><code>&quot;speech_standard&quot;</code></td><td align="left">32 kHz é‡‡æ ·ç‡ï¼Œå•å£°é“ï¼Œç¼–ç ç ç‡çº¦ 24 Kbps</td></tr><tr><td align="left"><code>&quot;music_standard&quot;</code></td><td align="left">48 kHz é‡‡æ ·ç‡ï¼Œå•å£°é“ï¼Œç¼–ç ç ç‡çº¦ 40 Kbps</td></tr><tr><td align="left"><code>&quot;standard_stereo&quot;</code></td><td align="left">48 kHz é‡‡æ ·ç‡ï¼ŒåŒå£°é“ï¼Œç¼–ç ç ç‡çº¦ 64 Kbps</td></tr><tr><td align="left"><code>&quot;high_quality&quot;</code></td><td align="left">48 kHz é‡‡æ ·ç‡ï¼Œå•å£°é“ï¼Œ ç¼–ç ç ç‡çº¦ 128 Kbps</td></tr><tr><td align="left"><code>&quot;high_quality_stereo&quot;</code></td><td align="left">48 kHz é‡‡æ ·ç‡ï¼ŒåŒå£°é“ï¼Œç¼–ç ç ç‡çº¦ 192 Kbps</td></tr></tbody></table><h1 id="æœ¬åœ°éŸ³é¢‘è½¨é“"><a href="#æœ¬åœ°éŸ³é¢‘è½¨é“" class="headerlink" title="æœ¬åœ°éŸ³é¢‘è½¨é“"></a>æœ¬åœ°éŸ³é¢‘è½¨é“</h1><p><a href="https://docs.agora.io/cn/Voice/API%20Reference/web_ng/interfaces/ilocalaudiotrack.html">Agora Web API Reference - è¯­éŸ³é€šè¯ - æ–‡æ¡£ä¸­å¿ƒ - å£°ç½‘Agora</a></p><h1 id="å¯¹æ¥"><a href="#å¯¹æ¥" class="headerlink" title="å¯¹æ¥"></a>å¯¹æ¥</h1><p><a href="https://www.agora.io/cn/community/blog-119-category-24195">åŸºäºå£°ç½‘ Web SDK å®ç°è§†é¢‘é€šè¯åœºæ™¯ - ä¸“æ  - å£°ç½‘ Agora RTC å¼€å‘è€…ç¤¾åŒº</a></p>]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> TypeScript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è„šæœ¬ </tag>
            
            <tag> TypeScript </tag>
            
            <tag> fastboard </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>éŸ³é¢‘æˆ¿é—´åˆ›å»ºåŠè¿æ¥è¯´æ˜</title>
      <link href="/Code/TypeScript/%E9%9F%B3%E9%A2%91%E4%BC%A0%E8%BE%93/"/>
      <url>/Code/TypeScript/%E9%9F%B3%E9%A2%91%E4%BC%A0%E8%BE%93/</url>
      
        <content type="html"><![CDATA[<h1 id="å£°ç½‘å¼€æºé€šè¯ä»£ç "><a href="#å£°ç½‘å¼€æºé€šè¯ä»£ç " class="headerlink" title="å£°ç½‘å¼€æºé€šè¯ä»£ç "></a>å£°ç½‘å¼€æºé€šè¯ä»£ç </h1><p><a href="https://github.com/AgoraIO/API-Examples-Web/tree/main/Demo/selfRendering">API-Examples-Web&#x2F;Demo&#x2F;selfRendering at main Â· AgoraIO&#x2F;API-Examples-Web</a></p><h2 id="UI"><a href="#UI" class="headerlink" title="UI"></a>UI</h2><div class="tag-plugin image"><div class="image-bg"><img src="https://raw.githubusercontent.com/holdyounger/ScopeBlog/rc_images/Images/TypeScript/images/%E9%9F%B3%E9%A2%91%E4%BC%A0%E8%BE%93/1.png"/></div></div><h2 id="CSS"><a href="#CSS" class="headerlink" title="CSS"></a>CSS</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.banner</span> &#123;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#52575c</span>;</span><br><span class="line">  <span class="attribute">color</span>: white;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.banner-text</span> &#123;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">8px</span> <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="selector-id">#join-form</span> &#123;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.tips</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">12px</span>;</span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="number">2px</span>;</span><br><span class="line">  <span class="attribute">color</span>: gray;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.join-info-text</span> &#123;</span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="number">2px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">input</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="number">2px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.player</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">480px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">320px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.player-name</span> &#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">8px</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#success-alert</span>, <span class="selector-id">#success-alert-with-token</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@media</span> (<span class="attribute">max-width</span>: <span class="number">640px</span>) &#123;</span><br><span class="line">  <span class="selector-class">.player</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">320px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">240px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="HTML"><a href="#HTML" class="headerlink" title="HTML"></a>HTML</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;ie=edge&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Video Self-Rendering -- Agora<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;../assets/bootstrap.min.css&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;./index.css&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container-fluid banner&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;banner-text&quot;</span>&gt;</span>Video Self-Rendering<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">style</span>=<span class="string">&quot;color: rgb(255, 255, 255);fill: rgb(255, 255, 255);fill-rule: evenodd; position: absolute; right: 10px; top: 4px;&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">class</span>=<span class="string">&quot;Header-link &quot;</span> <span class="attr">href</span>=<span class="string">&quot;https://github.com/AgoraIO/API-Examples-Web/tree/main/Demo&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">svg</span> <span class="attr">class</span>=<span class="string">&quot;octicon octicon-mark-github v-align-middle&quot;</span> <span class="attr">height</span>=<span class="string">&quot;32&quot;</span> <span class="attr">viewBox</span>=<span class="string">&quot;0 0 16 16&quot;</span> <span class="attr">version</span>=<span class="string">&quot;1.1&quot;</span> <span class="attr">width</span>=<span class="string">&quot;32&quot;</span> <span class="attr">aria-hidden</span>=<span class="string">&quot;true&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">path</span> <span class="attr">fill-rule</span>=<span class="string">&quot;evenodd&quot;</span> <span class="attr">d</span>=<span class="string">&quot;M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">path</span>&gt;</span><span class="tag">&lt;/<span class="name">svg</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;success-alert&quot;</span> <span class="attr">class</span>=<span class="string">&quot;alert alert-success alert-dismissible fade show&quot;</span> <span class="attr">role</span>=<span class="string">&quot;alert&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">strong</span>&gt;</span>Congratulations!<span class="tag">&lt;/<span class="name">strong</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span> You can invite others to watch your live by click <span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;&quot;</span> <span class="attr">target</span>=<span class="string">&quot;_blank&quot;</span>&gt;</span>here<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">class</span>=<span class="string">&quot;close&quot;</span> <span class="attr">data-dismiss</span>=<span class="string">&quot;alert&quot;</span> <span class="attr">aria-label</span>=<span class="string">&quot;Close&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span> <span class="attr">aria-hidden</span>=<span class="string">&quot;true&quot;</span>&gt;</span><span class="symbol">&amp;times;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  </span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">form</span> <span class="attr">id</span>=<span class="string">&quot;join-form&quot;</span> <span class="attr">name</span>=<span class="string">&quot;join-form&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;row join-info-group&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;col-sm&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;join-info-text&quot;</span>&gt;</span>AppID<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">&quot;appid&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;enter appid&quot;</span> <span class="attr">required</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;tips&quot;</span>&gt;</span>If you don`t know what is your appid, checkout <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://docs.agora.io/en/Agora%20Platform/terms?platform=All%20Platforms#a-nameappidaapp-id&quot;</span>&gt;</span>this<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;col-sm&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;join-info-text&quot;</span>&gt;</span>Token(optional)<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">&quot;token&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;enter token&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;tips&quot;</span>&gt;</span>If you don`t know what is your token, checkout <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://docs.agora.io/en/Agora%20Platform/terms?platform=All%20Platforms#a-namekeyadynamic-key&quot;</span>&gt;</span>this<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;col-sm&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;join-info-text&quot;</span>&gt;</span>Channel<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">&quot;channel&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;enter channel name&quot;</span> <span class="attr">required</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;tips&quot;</span>&gt;</span>If you don`t know what is your channel, checkout <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://docs.agora.io/en/Agora%20Platform/terms?platform=All%20Platforms#channel&quot;</span>&gt;</span>this<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;col-sm&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;join-info-text&quot;</span>&gt;</span>User ID(optional)<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">&quot;uid&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">onkeyup</span>=<span class="string">&quot;this.value=this.value.replace(/[^0-9]/g,&#x27;&#x27;)&quot;</span> <span class="attr">onafterpaste</span>=<span class="string">&quot;this.value=this.value.replace(/[^0-9]/g,&#x27;&#x27;)&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;Enter the user ID&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;button-group&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;host-join&quot;</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">class</span>=<span class="string">&quot;btn btn-primary btn-sm&quot;</span>&gt;</span>Join as host<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;btn-group&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;audience-join&quot;</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">class</span>=<span class="string">&quot;btn btn-primary btn-sm&quot;</span> <span class="attr">data-toggle</span>=<span class="string">&quot;dropdown&quot;</span> <span class="attr">aria-haspopup</span>=<span class="string">&quot;true&quot;</span> <span class="attr">aria-expanded</span>=<span class="string">&quot;false&quot;</span>&gt;</span></span><br><span class="line">            Join as audience</span><br><span class="line">          <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;audience dropdown-menu&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">id</span>=<span class="string">&quot;lowLatency&quot;</span> <span class="attr">class</span>=<span class="string">&quot;dropdown-item&quot;</span> <span class="attr">label</span>=<span class="string">&quot;Interactive Live Streaming Standard&quot;</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>Interactive Live Streaming Standard<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">id</span>=<span class="string">&quot;ultraLowLatency&quot;</span> <span class="attr">class</span>=<span class="string">&quot;dropdown-item&quot;</span> <span class="attr">label</span>=<span class="string">&quot;Interactive Live Streaming Premium&quot;</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>Interactive Live Streaming Premium<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;leave&quot;</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">class</span>=<span class="string">&quot;btn btn-primary btn-sm&quot;</span> <span class="attr">disabled</span>&gt;</span>Leave<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- Single button --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;row video-group&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;col&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">&quot;local-player-name&quot;</span> <span class="attr">class</span>=<span class="string">&quot;player-name&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;local-player&quot;</span> <span class="attr">class</span>=<span class="string">&quot;player&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;local-player-mirror-area&quot;</span> <span class="attr">class</span>=<span class="string">&quot;player video-mirror&quot;</span> <span class="attr">title</span>=<span class="string">&quot;Video Mirror&quot;</span> <span class="attr">style</span>=<span class="string">&quot;display: none; border: 2px dashed red ;&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;local-player-mirror&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width: 100%; height: 100%; position: relative; overflow: hidden; background-color: black;&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">video</span> <span class="attr">id</span>=<span class="string">&quot;local-player-mirror-video-track&quot;</span> <span class="attr">class</span>=<span class="string">&quot;agora_video_player&quot;</span> <span class="attr">playsinline</span>=<span class="string">&quot;&quot;</span> <span class="attr">muted</span>=<span class="string">&quot;&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width: 100%; height: 100%; position: absolute; left: 0px; top: 0px; transform: rotateY(180deg); object-fit: cover;&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">video</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;w-100&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;col&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;remote-playerlist&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../assets/jquery-3.4.1.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../assets/bootstrap.bundle.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://download.agora.io/sdk/release/AgoraRTC_N.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./index.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="é€šè¯é€»è¾‘"><a href="#é€šè¯é€»è¾‘" class="headerlink" title="é€šè¯é€»è¾‘"></a>é€šè¯é€»è¾‘</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// create Agora client</span></span><br><span class="line"><span class="keyword">var</span> client = <span class="title class_">AgoraRTC</span>.<span class="title function_">createClient</span>(&#123;<span class="attr">mode</span>: <span class="string">&quot;live&quot;</span>, <span class="attr">codec</span>: <span class="string">&quot;vp8&quot;</span>&#125;);</span><br><span class="line"><span class="title class_">AgoraRTC</span>.<span class="title function_">enableLogUpload</span>();</span><br><span class="line"><span class="keyword">var</span> localTracks = &#123;</span><br><span class="line">    <span class="attr">videoTrack</span>: <span class="literal">null</span>,</span><br><span class="line">    <span class="attr">audioTrack</span>: <span class="literal">null</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> remoteUsers = &#123;&#125;;</span><br><span class="line"><span class="comment">// Agora client options</span></span><br><span class="line"><span class="keyword">var</span> options = &#123;</span><br><span class="line">    <span class="attr">appid</span>: <span class="literal">null</span>,</span><br><span class="line">    <span class="attr">channel</span>: <span class="literal">null</span>,</span><br><span class="line">    <span class="attr">uid</span>: <span class="literal">null</span>,</span><br><span class="line">    <span class="attr">token</span>: <span class="literal">null</span>,</span><br><span class="line">    <span class="attr">role</span>: <span class="string">&quot;audience&quot;</span>, <span class="comment">// host or audience</span></span><br><span class="line">    <span class="attr">audienceLatency</span>: <span class="number">2</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// the demo can auto join channel with params in url</span></span><br><span class="line">$(() =&gt; &#123;</span><br><span class="line">    <span class="keyword">var</span> urlParams = <span class="keyword">new</span> <span class="title function_">URL</span>(location.<span class="property">href</span>).<span class="property">searchParams</span>;</span><br><span class="line">    options.<span class="property">appid</span> = urlParams.<span class="title function_">get</span>(<span class="string">&quot;appid&quot;</span>);</span><br><span class="line">    options.<span class="property">channel</span> = urlParams.<span class="title function_">get</span>(<span class="string">&quot;channel&quot;</span>);</span><br><span class="line">    options.<span class="property">token</span> = urlParams.<span class="title function_">get</span>(<span class="string">&quot;token&quot;</span>);</span><br><span class="line">    options.<span class="property">uid</span> = urlParams.<span class="title function_">get</span>(<span class="string">&quot;uid&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span> (options.<span class="property">appid</span> &amp;&amp; options.<span class="property">channel</span>) &#123;</span><br><span class="line">        $(<span class="string">&quot;#uid&quot;</span>).<span class="title function_">val</span>(options.<span class="property">uid</span>);</span><br><span class="line">        $(<span class="string">&quot;#appid&quot;</span>).<span class="title function_">val</span>(options.<span class="property">appid</span>);</span><br><span class="line">        $(<span class="string">&quot;#token&quot;</span>).<span class="title function_">val</span>(options.<span class="property">token</span>);</span><br><span class="line">        $(<span class="string">&quot;#channel&quot;</span>).<span class="title function_">val</span>(options.<span class="property">channel</span>);</span><br><span class="line">        $(<span class="string">&quot;#join-form&quot;</span>).<span class="title function_">submit</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">$(<span class="string">&quot;#host-join&quot;</span>).<span class="title function_">click</span>(<span class="keyword">function</span> (<span class="params">e</span>) &#123;</span><br><span class="line">    options.<span class="property">role</span> = <span class="string">&quot;host&quot;</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">$(<span class="string">&quot;#lowLatency&quot;</span>).<span class="title function_">click</span>(<span class="keyword">function</span> (<span class="params">e</span>) &#123;</span><br><span class="line">    options.<span class="property">role</span> = <span class="string">&quot;audience&quot;</span></span><br><span class="line">    options.<span class="property">audienceLatency</span> = <span class="number">1</span></span><br><span class="line">    $(<span class="string">&quot;#join-form&quot;</span>).<span class="title function_">submit</span>()</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">$(<span class="string">&quot;#ultraLowLatency&quot;</span>).<span class="title function_">click</span>(<span class="keyword">function</span> (<span class="params">e</span>) &#123;</span><br><span class="line">    options.<span class="property">role</span> = <span class="string">&quot;audience&quot;</span></span><br><span class="line">    options.<span class="property">audienceLatency</span> = <span class="number">2</span></span><br><span class="line">    $(<span class="string">&quot;#join-form&quot;</span>).<span class="title function_">submit</span>()</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">$(<span class="string">&quot;#join-form&quot;</span>).<span class="title function_">submit</span>(<span class="keyword">async</span> <span class="keyword">function</span> (<span class="params">e</span>) &#123;</span><br><span class="line">    e.<span class="title function_">preventDefault</span>();</span><br><span class="line">    $(<span class="string">&quot;#host-join&quot;</span>).<span class="title function_">attr</span>(<span class="string">&quot;disabled&quot;</span>, <span class="literal">true</span>);</span><br><span class="line">    $(<span class="string">&quot;#audience-join&quot;</span>).<span class="title function_">attr</span>(<span class="string">&quot;disabled&quot;</span>, <span class="literal">true</span>);</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        options.<span class="property">appid</span> = $(<span class="string">&quot;#appid&quot;</span>).<span class="title function_">val</span>();</span><br><span class="line">        options.<span class="property">token</span> = $(<span class="string">&quot;#token&quot;</span>).<span class="title function_">val</span>();</span><br><span class="line">        options.<span class="property">channel</span> = $(<span class="string">&quot;#channel&quot;</span>).<span class="title function_">val</span>();</span><br><span class="line">        options.<span class="property">uid</span> = <span class="title class_">Number</span>($(<span class="string">&quot;#uid&quot;</span>).<span class="title function_">val</span>());</span><br><span class="line">        <span class="keyword">await</span> <span class="title function_">join</span>();</span><br><span class="line">        <span class="keyword">if</span> (options.<span class="property">role</span> === <span class="string">&quot;host&quot;</span>) &#123;</span><br><span class="line">            $(<span class="string">&quot;#success-alert a&quot;</span>).<span class="title function_">attr</span>(<span class="string">&quot;href&quot;</span>, <span class="string">`index.html?appid=<span class="subst">$&#123;options.appid&#125;</span>&amp;channel=<span class="subst">$&#123;options.channel&#125;</span>&amp;token=<span class="subst">$&#123;options.token&#125;</span>`</span>);</span><br><span class="line">            <span class="keyword">if</span> (options.<span class="property">token</span>) &#123;</span><br><span class="line">                $(<span class="string">&quot;#success-alert-with-token&quot;</span>).<span class="title function_">css</span>(<span class="string">&quot;display&quot;</span>, <span class="string">&quot;block&quot;</span>);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                $(<span class="string">&quot;#success-alert a&quot;</span>).<span class="title function_">attr</span>(<span class="string">&quot;href&quot;</span>, <span class="string">`index.html?appid=<span class="subst">$&#123;options.appid&#125;</span>&amp;channel=<span class="subst">$&#123;options.channel&#125;</span>&amp;token=<span class="subst">$&#123;options.token&#125;</span>`</span>);</span><br><span class="line">                $(<span class="string">&quot;#success-alert&quot;</span>).<span class="title function_">css</span>(<span class="string">&quot;display&quot;</span>, <span class="string">&quot;block&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">error</span>(error);</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        $(<span class="string">&quot;#leave&quot;</span>).<span class="title function_">attr</span>(<span class="string">&quot;disabled&quot;</span>, <span class="literal">false</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">$(<span class="string">&quot;#leave&quot;</span>).<span class="title function_">click</span>(<span class="keyword">function</span> (<span class="params">e</span>) &#123;</span><br><span class="line">    <span class="title function_">leave</span>();</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">join</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// create Agora client</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (options.<span class="property">role</span> === <span class="string">&quot;audience&quot;</span>) &#123;</span><br><span class="line">        client.<span class="title function_">setClientRole</span>(options.<span class="property">role</span>, &#123;<span class="attr">level</span>: options.<span class="property">audienceLatency</span>&#125;);</span><br><span class="line">        <span class="comment">// add event listener to play remote tracks when remote user publishs.</span></span><br><span class="line">        client.<span class="title function_">on</span>(<span class="string">&quot;user-published&quot;</span>, handleUserPublished);</span><br><span class="line">        client.<span class="title function_">on</span>(<span class="string">&quot;user-unpublished&quot;</span>, handleUserUnpublished);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        client.<span class="title function_">setClientRole</span>(options.<span class="property">role</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// join the channel</span></span><br><span class="line">    options.<span class="property">uid</span> = <span class="keyword">await</span> client.<span class="title function_">join</span>(options.<span class="property">appid</span>, options.<span class="property">channel</span>, options.<span class="property">token</span> || <span class="literal">null</span>, options.<span class="property">uid</span> || <span class="literal">null</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (options.<span class="property">role</span> === <span class="string">&quot;host&quot;</span>) &#123;</span><br><span class="line">        <span class="comment">// create local audio and video tracks</span></span><br><span class="line">        localTracks.<span class="property">audioTrack</span> = <span class="keyword">await</span> <span class="title class_">AgoraRTC</span>.<span class="title function_">createMicrophoneAudioTrack</span>();</span><br><span class="line">        localTracks.<span class="property">videoTrack</span> = <span class="keyword">await</span> <span class="title class_">AgoraRTC</span>.<span class="title function_">createCameraVideoTrack</span>();</span><br><span class="line">        <span class="comment">// play local video track</span></span><br><span class="line">        localTracks.<span class="property">videoTrack</span>.<span class="title function_">play</span>(<span class="string">&quot;local-player&quot;</span>);</span><br><span class="line">        $(<span class="string">&quot;#local-player-name&quot;</span>).<span class="title function_">text</span>(<span class="string">`localTrack(<span class="subst">$&#123;options.uid&#125;</span>)`</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//create the mirror of local player</span></span><br><span class="line">        $(<span class="string">&quot;#local-player-mirror-area&quot;</span>).<span class="title function_">show</span>();</span><br><span class="line">        <span class="keyword">var</span> mirrorPlayer = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;local-player-mirror-video-track&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//get browser-native object MediaStreamTrack from WebRTC SDK</span></span><br><span class="line">        <span class="keyword">const</span> msTrack = localTracks.<span class="property">videoTrack</span>.<span class="title function_">getMediaStreamTrack</span>();</span><br><span class="line">        <span class="comment">//generate browser-native object MediaStream with above video track</span></span><br><span class="line">        <span class="keyword">const</span> ms = <span class="keyword">new</span> <span class="title class_">MediaStream</span>([msTrack])</span><br><span class="line">        mirrorPlayer.<span class="property">srcObject</span> = ms;</span><br><span class="line">        mirrorPlayer.<span class="title function_">play</span>();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// publish local tracks to channel</span></span><br><span class="line">        <span class="keyword">await</span> client.<span class="title function_">publish</span>(<span class="title class_">Object</span>.<span class="title function_">values</span>(localTracks));</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;publish success&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">leave</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">for</span> (trackName <span class="keyword">in</span> localTracks) &#123;</span><br><span class="line">        <span class="keyword">var</span> track = localTracks[trackName];</span><br><span class="line">        <span class="keyword">if</span> (track) &#123;</span><br><span class="line">            track.<span class="title function_">stop</span>();</span><br><span class="line">            track.<span class="title function_">close</span>();</span><br><span class="line">            localTracks[trackName] = <span class="literal">undefined</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// remove remote users and player views</span></span><br><span class="line">    remoteUsers = &#123;&#125;;</span><br><span class="line">    $(<span class="string">&quot;#remote-playerlist&quot;</span>).<span class="title function_">html</span>(<span class="string">&quot;&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// leave the channel</span></span><br><span class="line">    <span class="keyword">await</span> client.<span class="title function_">leave</span>();</span><br><span class="line"></span><br><span class="line">    $(<span class="string">&quot;#local-player-name&quot;</span>).<span class="title function_">text</span>(<span class="string">&quot;&quot;</span>);</span><br><span class="line">    $(<span class="string">&quot;#host-join&quot;</span>).<span class="title function_">attr</span>(<span class="string">&quot;disabled&quot;</span>, <span class="literal">false</span>);</span><br><span class="line">    $(<span class="string">&quot;#audience-join&quot;</span>).<span class="title function_">attr</span>(<span class="string">&quot;disabled&quot;</span>, <span class="literal">false</span>);</span><br><span class="line">    $(<span class="string">&quot;#leave&quot;</span>).<span class="title function_">attr</span>(<span class="string">&quot;disabled&quot;</span>, <span class="literal">true</span>);</span><br><span class="line">    $(<span class="string">&quot;.video-mirror&quot;</span>).<span class="title function_">hide</span>();</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;client leaves channel success&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">subscribe</span>(<span class="params">user, mediaType</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> uid = user.<span class="property">uid</span>;</span><br><span class="line">    <span class="comment">// subscribe to a remote user</span></span><br><span class="line">    <span class="keyword">await</span> client.<span class="title function_">subscribe</span>(user, mediaType);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;subscribe success&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span> (mediaType === <span class="string">&#x27;video&#x27;</span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> player = $(<span class="string">`</span></span><br><span class="line"><span class="string">      &lt;div id=&quot;player-wrapper-<span class="subst">$&#123;uid&#125;</span>&quot;&gt;</span></span><br><span class="line"><span class="string">        &lt;p class=&quot;player-name&quot;&gt;remoteUser(<span class="subst">$&#123;uid&#125;</span>)&lt;/p&gt;</span></span><br><span class="line"><span class="string">        &lt;div id=&quot;player-<span class="subst">$&#123;uid&#125;</span>&quot; class=&quot;player&quot;&gt;&lt;/div&gt;</span></span><br><span class="line"><span class="string">        &lt;p class=&quot;player-name&quot;&gt;Video Mirror&lt;/p&gt;</span></span><br><span class="line"><span class="string">        &lt;div id=&quot;player-<span class="subst">$&#123;uid&#125;</span>-mirror-area&quot; class=&quot;player&quot; style=&quot;border: 2px dashed red ;&quot;&gt;</span></span><br><span class="line"><span class="string">            &lt;div style=&quot;width: 100%; height: 100%; position: relative; overflow: hidden; background-color: black;&quot;&gt;</span></span><br><span class="line"><span class="string">                &lt;video id=&quot;video_track-video-<span class="subst">$&#123;uid&#125;</span>-mirror&quot; </span></span><br><span class="line"><span class="string">                    class=&quot;agora_video_player&quot; playsinline=&quot;&quot; muted=&quot;&quot; </span></span><br><span class="line"><span class="string">                    style=&quot;width: 100%; height: 100%; position: absolute; left: 0px; top: 0px; object-fit: contain;&quot;&gt;</span></span><br><span class="line"><span class="string">                &lt;/video&gt;</span></span><br><span class="line"><span class="string">            &lt;/div&gt;</span></span><br><span class="line"><span class="string">        &lt;/div&gt;</span></span><br><span class="line"><span class="string">      &lt;/div&gt;</span></span><br><span class="line"><span class="string">    `</span>);</span><br><span class="line">        $(<span class="string">&quot;#remote-playerlist&quot;</span>).<span class="title function_">append</span>(player);</span><br><span class="line">        user.<span class="property">videoTrack</span>.<span class="title function_">play</span>(<span class="string">`player-<span class="subst">$&#123;uid&#125;</span>`</span>, &#123;<span class="attr">fit</span>:<span class="string">&quot;contain&quot;</span>&#125;);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//handling the mirror video</span></span><br><span class="line">        $(<span class="string">`#player-<span class="subst">$&#123;uid&#125;</span>-mirror-area`</span>).<span class="title function_">show</span>();</span><br><span class="line">        <span class="keyword">var</span> mirrorRemotePlayer = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">`video_track-video-<span class="subst">$&#123;uid&#125;</span>-mirror`</span>);</span><br><span class="line">        <span class="comment">//get browser-native object MediaStreamTrack from WebRTC SDK</span></span><br><span class="line">        <span class="keyword">const</span> msTrack = user.<span class="property">videoTrack</span>.<span class="title function_">getMediaStreamTrack</span>();</span><br><span class="line">        <span class="comment">//generate browser-native object MediaStream with above video track</span></span><br><span class="line">        <span class="keyword">const</span> ms = <span class="keyword">new</span> <span class="title class_">MediaStream</span>([msTrack])</span><br><span class="line">        mirrorRemotePlayer.<span class="property">srcObject</span> = ms;</span><br><span class="line">        mirrorRemotePlayer.<span class="title function_">play</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (mediaType === <span class="string">&#x27;audio&#x27;</span>) &#123;</span><br><span class="line">        user.<span class="property">audioTrack</span>.<span class="title function_">play</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">handleUserPublished</span>(<span class="params">user, mediaType</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> id = user.<span class="property">uid</span>;</span><br><span class="line">    remoteUsers[id] = user;</span><br><span class="line">    <span class="title function_">subscribe</span>(user, mediaType);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">handleUserUnpublished</span>(<span class="params">user, mediaType</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (mediaType === <span class="string">&#x27;video&#x27;</span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> id = user.<span class="property">uid</span>;</span><br><span class="line">        <span class="keyword">delete</span> remoteUsers[id];</span><br><span class="line">        $(<span class="string">`#player-wrapper-<span class="subst">$&#123;id&#125;</span>`</span>).<span class="title function_">remove</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="æ”¹åŠ¨ç‚¹"><a href="#æ”¹åŠ¨ç‚¹" class="headerlink" title="æ”¹åŠ¨ç‚¹"></a>æ”¹åŠ¨ç‚¹</h1><p>æ–°å»ºä¸€ä¸ªé…ç½®é¡µé¢ï¼Œç”±ç”¨æˆ·è¿›å…¥æˆ¿é—´æ—¶å¡«å†™ <code>AppId</code>,<code>token</code>,<code>channel</code>ç­‰</p><p><code>js</code> ä»£ç æ”¹åŠ¨ç‚¹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">options.<span class="property">appid</span> = $(<span class="string">&quot;#appid&quot;</span>).<span class="title function_">val</span>();</span><br><span class="line">options.<span class="property">token</span> = $(<span class="string">&quot;#token&quot;</span>).<span class="title function_">val</span>();</span><br><span class="line">options.<span class="property">channel</span> = $(<span class="string">&quot;#channel&quot;</span>).<span class="title function_">val</span>();</span><br><span class="line">options.<span class="property">uid</span> = <span class="title class_">Number</span>($(<span class="string">&quot;#uid&quot;</span>).<span class="title function_">val</span>());</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> TypeScript </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Ubuntu22.04å®‰è£… MYSQL å¹¶ä½¿ç”¨ navicat è¿æ¥</title>
      <link href="/Code/%E6%95%B0%E6%8D%AE%E5%BA%93/MYSQL/README/"/>
      <url>/Code/%E6%95%B0%E6%8D%AE%E5%BA%93/MYSQL/README/</url>
      
        <content type="html"><![CDATA[<p>[toc]</p><h1 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h1><p>Ubuntu å®‰è£… mysql çš„æ•™ç¨‹ç½‘ä¸Šä¸€å¤§å †ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install mysql-server</span><br></pre></td></tr></table></figure><h1 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h1><ol><li>ä¿®æ”¹é…ç½®æ–‡ä»¶</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vim /etc/mysql/mysql.conf.d/mysqld.cnf</span><br></pre></td></tr></table></figure><ol start="2"><li>åœ¨ <code>[mysqld]</code> æ·»åŠ  <code>skip-grant-tables</code></li></ol><div class="tag-plugin image"><div class="image-bg"><img src="images/README/readme-1.png"/></div></div><ol start="3"><li>é‡å¯æ•°æ®åº“</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl restart mysql</span><br><span class="line"></span><br><span class="line"><span class="comment"># æˆ–è€…</span></span><br><span class="line"></span><br><span class="line">sudo service mysql restart</span><br></pre></td></tr></table></figure><h1 id="ä¿®æ”¹ç”¨æˆ·å±æ€§"><a href="#ä¿®æ”¹ç”¨æˆ·å±æ€§" class="headerlink" title="ä¿®æ”¹ç”¨æˆ·å±æ€§"></a>ä¿®æ”¹ç”¨æˆ·å±æ€§<a id="modifyuser"></a></h1><ol><li>è¿›å…¥ <code>mysql</code></li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo mysql -u root</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ‡æ¢åˆ° mysql æ•°æ®åº“</span></span><br><span class="line">use mysql;</span><br></pre></td></tr></table></figure><ol start="2"><li>æ›´æ–°ç”¨æˆ·å¯†ç </li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">alter user root identified with mysql_native_password by <span class="string">&#x27;Admin1234&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment"># æˆ–è€…</span></span><br><span class="line"></span><br><span class="line">update user <span class="built_in">set</span> authentication_string=<span class="string">&#x27;Admin1234&#x27;</span> <span class="built_in">where</span> user=<span class="string">&#x27;admin&#x27;</span>;</span><br></pre></td></tr></table></figure><p>åˆ°æ­¤å°±å¯ä»¥ä½¿ç”¨ç”¨æˆ·ç™»å½•äº†ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -u root -p</span><br></pre></td></tr></table></figure><ol start="3"><li>è¡¥å……ï¼Œåˆ›å»ºå…¶ä»–ç”¨æˆ·</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CREATE USER <span class="string">&#x27;username&#x27;</span>@<span class="string">&#x27;host&#x27;</span> IDENTIFIED BY <span class="string">&#x27;password&#x27;</span>;</span><br></pre></td></tr></table></figure><h1 id="æˆæƒè¿œç¨‹ä½¿ç”¨"><a href="#æˆæƒè¿œç¨‹ä½¿ç”¨" class="headerlink" title="æˆæƒè¿œç¨‹ä½¿ç”¨"></a>æˆæƒè¿œç¨‹ä½¿ç”¨</h1><blockquote><p>æ›´æ”¹æˆæƒåï¼Œä¸€å®šè¦æ‰§è¡Œ <code>flush priviledges;</code>ã€‚</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grant all on *.* to <span class="string">&#x27;root&#x27;</span>@<span class="string">&#x27;%&#x27;</span>;</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œä¸Šä¸€æ­¥å¯èƒ½ä¼šæŠ¥é”™ï¼Œå› ä¸ºåœ¨ <a href="#modifyuser">ä¸Šä¸€æ­¥</a> ä¿®æ”¹ç”¨æˆ·å¯†ç æ—¶ï¼Œè®¾ç½®äº†åœ°å€ä¸º <code>localhost</code>ã€‚æ‰€ä»¥è¿™é‡Œä¸èƒ½ç›´æ¥æˆæƒå…¶ä»–ä¸»æœºè®¿é—®ï¼Œéœ€è¦å…ˆæŠŠrootè´¦å·çš„hostä¿®æ”¹ä¸ºå¯ä»¥è®¿é—®æ‰€æœ‰ä¸»æœºï¼Œå†å»æˆæƒã€‚</p><ul><li>ä¿®æ”¹rootè´¦æˆ·</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">update user <span class="built_in">set</span> host=<span class="string">&#x27;%&#x27;</span> <span class="built_in">where</span> user=<span class="string">&#x27;root&#x27;</span>;</span><br><span class="line"></span><br><span class="line">flush priviledges;</span><br></pre></td></tr></table></figure><ul><li>æˆæƒè¿œç¨‹ä½¿ç”¨</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">grant all on *.* to <span class="string">&#x27;root&#x27;</span>@<span class="string">&#x27;%&#x27;</span>;</span><br><span class="line"></span><br><span class="line">flush priviledges;</span><br></pre></td></tr></table></figure><ul><li>é‡å¯æ•°æ®åº“</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl restart mysql</span><br><span class="line"></span><br><span class="line"><span class="comment"># æˆ–è€…</span></span><br><span class="line"></span><br><span class="line">sudo service mysql restart</span><br></pre></td></tr></table></figure><h1 id="ä½¿ç”¨-navicat-è¿æ¥æ•°æ®åº“"><a href="#ä½¿ç”¨-navicat-è¿æ¥æ•°æ®åº“" class="headerlink" title="ä½¿ç”¨ navicat è¿æ¥æ•°æ®åº“"></a>ä½¿ç”¨ <code>navicat</code> è¿æ¥æ•°æ®åº“</h1><blockquote><p>å¦‚æœå‡ºç°è¿æ¥æ—¶æŠ¥é”™ <code>1130-host ... is not allowed to connect to this MySql server</code>ã€‚åˆ™è¯´æ˜æ˜¯æœåŠ¡å™¨ç«¯å£æƒé™æ²¡å¼€æ”¾ã€‚ç®€å•æ”¹åŠ¨å¯ç›´æ¥ä½¿ç”¨ufwå‘½ä»¤ã€‚å¦‚ä¸‹æ‰€ç¤ºï¼š</p><p><code>sudo ufw allow 3306</code></p></blockquote><p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><ul><li>è¿æ¥åï¼šéšä¾¿èµ·åï¼Œç”¨æ¥åŒºåˆ†è¿æ¥çš„æ•°æ®åº“</li><li>ä¸»æœºï¼š<code>192.168.0.102</code> ä¸ºè™šæ‹Ÿæœºçš„ipåœ°å€</li><li>ç«¯å£ï¼š3306,mysqlé»˜è®¤ç«¯å£</li><li>ç”¨æˆ·åï¼šroot</li><li>å¯†ç ï¼šå¯†ç </li></ul><div class="tag-plugin image"><div class="image-bg"><img src="images/README/navicat.png"/></div></div>]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> æ•°æ®åº“ </category>
          
          <category> MYSQL </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ubuntu </tag>
            
            <tag> navicat </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Qt é”®ç›˜é•¿æŒ‰</title>
      <link href="/Code/Qt/%E9%BC%A0%E6%A0%87%E9%94%AE%E7%9B%98/Qt%E9%94%AE%E7%9B%98%E9%95%BF%E6%8C%89/"/>
      <url>/Code/Qt/%E9%BC%A0%E6%A0%87%E9%94%AE%E7%9B%98/Qt%E9%94%AE%E7%9B%98%E9%95%BF%E6%8C%89/</url>
      
        <content type="html"><![CDATA[<h1 id="KeyPressEvent-äº‹ä»¶"><a href="#KeyPressEvent-äº‹ä»¶" class="headerlink" title="KeyPressEvent äº‹ä»¶"></a><code>KeyPressEvent</code> äº‹ä»¶</h1><p>é”®ç›˜äº‹ä»¶æ˜¯é‡å†™ <code>keypressevent</code> å‡½æ•°ï¼Œè¯¦è§ä»£ç ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//keyLongPress.cpp</span></span><br><span class="line"> </span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;keyLongPress.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;ui_keyLongPress.h&quot;</span></span></span><br><span class="line"> </span><br><span class="line">KeyLongPress::<span class="built_in">KeyLongPress</span>(QWidget *parent) :</span><br><span class="line">    <span class="built_in">QWidget</span>(parent),</span><br><span class="line">    <span class="built_in">ui</span>(<span class="keyword">new</span> Ui::KeyLongPress)</span><br><span class="line">&#123;</span><br><span class="line">    ui-&gt;<span class="built_in">setupUi</span>(<span class="keyword">this</span>);</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">KeyLongPress::~<span class="built_in">KeyLongPress</span>()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">delete</span> ui;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">//QMouseEventæ²¡æœ‰isAutoRepeat()æ–¹æ³•...æ— è¯­äº†ï¼Œ</span></span><br><span class="line"><span class="comment">//è¿™æ ·æœ‰äº›æ“ä½œå°±ä¸æ–¹ä¾¿å®ç°äº†ï¼Œ</span></span><br><span class="line"><span class="comment">//æ¯”å¦‚é•¿æŒ‰é¼ æ ‡å¤šå°‘ç§’å‘¼å‡ºæŸä¸ª(ç™»å½•)çª—å£å•¥çš„ã€‚</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">//! [æŒ‰é”®æŒ‰ä¸‹äº‹ä»¶-Begin]</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">KeyLongPress::keyPressEvent</span><span class="params">(QKeyEvent *event)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(event-&gt;<span class="built_in">isAutoRepeat</span>())&#123;</span><br><span class="line">        <span class="built_in">qDebug</span>() &lt;&lt;  <span class="string">&quot;æŒ‰é”®é•¿æŒ‰ä¸­...&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="built_in">qDebug</span>() &lt;&lt; <span class="string">&quot;æŒ‰é”®æŒ‰ä¸‹&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//! [æŒ‰é”®æŒ‰ä¸‹äº‹ä»¶-End]</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">//! [æŒ‰é”®é‡Šæ”¾äº‹ä»¶-Begin]</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">KeyLongPress::keyReleaseEvent</span><span class="params">(QKeyEvent *event)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(event-&gt;<span class="built_in">isAutoRepeat</span>())&#123;</span><br><span class="line">        <span class="built_in">qDebug</span>() &lt;&lt;  <span class="string">&quot;æŒ‰é”®ä¸æ–­é‡Šæ”¾...&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="built_in">qDebug</span>() &lt;&lt; <span class="string">&quot;æŒ‰é”®é‡Šæ”¾&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//! [æŒ‰é”®é‡Šæ”¾äº‹ä»¶-End]</span></span><br><span class="line">Â </span><br></pre></td></tr></table></figure><h2 id="è¿è¡Œä¹‹åï¼Œæµ‹è¯•æ•ˆæœï¼š"><a href="#è¿è¡Œä¹‹åï¼Œæµ‹è¯•æ•ˆæœï¼š" class="headerlink" title="è¿è¡Œä¹‹åï¼Œæµ‹è¯•æ•ˆæœï¼š"></a>è¿è¡Œä¹‹åï¼Œæµ‹è¯•æ•ˆæœï¼š</h2><p>ä½ Clickçœ‹ä¸‹è¾“å‡ºï¼šæ˜¯åªæœ‰1æ¬¡Presså’Œ1æ¬¡Releaseçš„ï¼Œ</p><p>é•¿æŒ‰çœ‹ä¸‹è¾“å‡ºï¼šæ˜¯Presså’ŒReleaseä¸€ç›´åœ¨ä¸åœçš„è¾“å‡ºçš„ã€‚</p><p>ç¤ºæ„å›¾ï¼š</p><div class="tag-plugin image"><div class="image-bg"><img src="images/Qt%E9%94%AE%E7%9B%98%E9%95%BF%E6%8C%89/1.png"/></div></div>]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> Qt </category>
          
          <category> é¼ æ ‡é”®ç›˜ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Qt </tag>
            
            <tag> é”®ç›˜ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Qt åœ†å½¢è¿›åº¦æ¡</title>
      <link href="/Code/Qt/%E5%8A%A8%E7%94%BB/Qt%E5%9C%86%E5%BD%A2%E8%BF%9B%E5%BA%A6%E6%9D%A1/"/>
      <url>/Code/Qt/%E5%8A%A8%E7%94%BB/Qt%E5%9C%86%E5%BD%A2%E8%BF%9B%E5%BA%A6%E6%9D%A1/</url>
      
        <content type="html"><![CDATA[<p>[toc]</p><h1 id="å®ç°æ•ˆæœ"><a href="#å®ç°æ•ˆæœ" class="headerlink" title="å®ç°æ•ˆæœ"></a>å®ç°æ•ˆæœ</h1><div class="tag-plugin image"><div class="image-bg"><img src="https://raw.githubusercontent.com/holdyounger/ScopeBlog/rc_images/Images/%E5%8A%A8%E7%94%BB/images/Qt%E5%9C%86%E5%BD%A2%E8%BF%9B%E5%BA%A6%E6%9D%A1/1.gif"/></div></div><div class="tag-plugin image"><div class="image-bg"><img src="https://raw.githubusercontent.com/holdyounger/ScopeBlog/rc_images/Images/%E5%8A%A8%E7%94%BB/images/Qt%E5%9C%86%E5%BD%A2%E8%BF%9B%E5%BA%A6%E6%9D%A1/2.gif"/></div></div><div class="tag-plugin image"><div class="image-bg"><img src="https://raw.githubusercontent.com/holdyounger/ScopeBlog/rc_images/Images/%E5%8A%A8%E7%94%BB/images/Qt%E5%9C%86%E5%BD%A2%E8%BF%9B%E5%BA%A6%E6%9D%A1/3.gif"/></div></div><h1 id="h"><a href="#h" class="headerlink" title="h"></a>h</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> _QROUNDPROGRESSBAR_H_</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> _QROUNDPROGRESSBAR_H_</span></span><br><span class="line"> </span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QWidget&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">class</span> <span class="title class_">QRoundProgressBar</span> : <span class="keyword">public</span> QWidget</span><br><span class="line">&#123;</span><br><span class="line">    Q_OBJECT</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">//è¿›åº¦æ¡å½¢çŠ¶</span></span><br><span class="line">    <span class="keyword">enum</span> <span class="title class_">BarStyle</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//åœ†ç¯çŠ¶</span></span><br><span class="line">        StyleDonut = <span class="number">0</span>,</span><br><span class="line">        <span class="comment">//åœ†é¥¼çŠ¶</span></span><br><span class="line">        StylePie,</span><br><span class="line">        <span class="comment">//åœ†çº¿çŠ¶</span></span><br><span class="line">        StyleLine</span><br><span class="line">    &#125;;</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">QRoundProgressBar</span>(QWidget *parent , BarStyle style = StyleLine);</span><br><span class="line">    ~<span class="built_in">QRoundProgressBar</span>();</span><br><span class="line"> </span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">//è®¾ç½®æ‰«æå¼§åº¦èµ·å§‹è§’åº¦</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">setStartAngle</span><span class="params">(<span class="type">double</span> position)</span></span>;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">//è®¾ç½®è½®å»“ç”»ç¬”çš„å®½åº¦</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">setOutlinePenWidth</span><span class="params">(<span class="type">double</span> penWidth)</span></span>;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">//è®¾ç½®ç”»ç¬”å®½åº¦</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">setDataPenWidth</span><span class="params">(<span class="type">double</span> penWidth)</span></span>;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">//è®¾ç½®è¿›åº¦æ¡ç²¾åº¦ 88.88%,å‡ ä½å°æ•°</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">setDecimals</span><span class="params">(<span class="type">int</span> count)</span></span>;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">//è®¾ç½®è¿›åº¦æ¡é£æ ¼</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">setBarStyle</span><span class="params">(BarStyle style)</span></span>;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">//è®¾ç½®èŒƒå›´</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">setRange</span><span class="params">(<span class="type">double</span> min, <span class="type">double</span> max)</span></span>;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">//è®¾ç½®å½“å‰å€¼</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">setValue</span><span class="params">(<span class="type">int</span> val)</span></span>;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">//è®¾ç½®å½“å‰å€¼</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">setValue</span><span class="params">(<span class="type">double</span> val)</span></span>;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">//è®¾ç½®æœ€å°å€¼</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">setMinimum</span><span class="params">(<span class="type">double</span> min)</span></span>;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">//è®¾ç½®æœ€å¤§å€¼</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">setMaximum</span><span class="params">(<span class="type">double</span> max)</span></span>;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">paintEvent</span><span class="params">(QPaintEvent *event)</span></span>;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">//ç”»åŸºç¡€å›¾å½¢</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">drawBase</span><span class="params">(QPainter&amp; p, <span class="type">const</span> QRectF&amp; baseRect, <span class="type">const</span> QRectF &amp;innerRect)</span></span>;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">//æ ¹æ®å€¼ç”»å‡ºè¿›åº¦æ¡</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">drawValue</span><span class="params">(QPainter&amp; p, <span class="type">const</span> QRectF&amp; baseRect, <span class="type">double</span> value, <span class="type">double</span> arcLength, <span class="type">const</span> QRectF &amp; innerRect</span></span></span><br><span class="line"><span class="params"><span class="function">        , <span class="type">double</span> innerDiameter)</span></span>;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">//ç”»ä¸­å¿ƒæ–‡å­—</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">drawText</span><span class="params">(QPainter&amp; p, <span class="type">const</span> QRectF&amp; innerRect, <span class="type">double</span> value)</span></span>;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="type">double</span>   m_min;                                 <span class="comment">//æœ€å°å€¼</span></span><br><span class="line">    <span class="type">double</span>   m_max;                                 <span class="comment">//æœ€å¤§å€¼</span></span><br><span class="line">    <span class="type">double</span>   m_value;                               <span class="comment">//å½“å‰å€¼</span></span><br><span class="line">    BarStyle m_barStyle;                            <span class="comment">//è¿›åº¦æ¡é£æ ¼</span></span><br><span class="line">    <span class="type">int</span>      m_decimals;                            <span class="comment">//è¿›åº¦æ¡ç²¾åº¦</span></span><br><span class="line">    <span class="type">double</span>   m_startAngel;                          <span class="comment">//æ‰«æå¼§åº¦èµ·å§‹è§’åº¦</span></span><br><span class="line">    <span class="type">double</span>   m_outlinePenWidth;                     <span class="comment">//è½®å»“ç”»ç¬”çš„å®½åº¦</span></span><br><span class="line">    <span class="type">double</span>   m_dataPenWidth;                        <span class="comment">//ç”»ç¬”å®½åº¦</span></span><br><span class="line">&#125;;</span><br><span class="line"> </span><br><span class="line"><span class="meta">#<span class="keyword">endif</span> <span class="comment">// _QROUNDPROGRESSBAR_H_</span></span></span><br></pre></td></tr></table></figure><h1 id="cpp"><a href="#cpp" class="headerlink" title="cpp"></a>cpp</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;QRoundProgressBar.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QPainter&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QPointF&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QtMath&gt;</span></span></span><br><span class="line"> </span><br><span class="line">QRoundProgressBar::<span class="built_in">QRoundProgressBar</span>(QWidget *parent , BarStyle style)</span><br><span class="line">    : <span class="built_in">QWidget</span>(parent)</span><br><span class="line">    , <span class="built_in">m_min</span>(<span class="number">0</span>)</span><br><span class="line">    , <span class="built_in">m_max</span>(<span class="number">100</span>)</span><br><span class="line">    , <span class="built_in">m_value</span>(<span class="number">0</span>)</span><br><span class="line">    , <span class="built_in">m_startAngel</span>(<span class="number">90</span>)</span><br><span class="line">    , <span class="built_in">m_barStyle</span>(style)</span><br><span class="line">    , <span class="built_in">m_outlinePenWidth</span>(<span class="number">0</span>)</span><br><span class="line">    , <span class="built_in">m_dataPenWidth</span>(<span class="number">0</span>)</span><br><span class="line">    , <span class="built_in">m_decimals</span>(<span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">QRoundProgressBar::~<span class="built_in">QRoundProgressBar</span>()</span><br><span class="line">&#123;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">QRoundProgressBar::setStartAngle</span><span class="params">(<span class="type">double</span> angle)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (angle != m_startAngel)</span><br><span class="line">    &#123;</span><br><span class="line">        m_startAngel = angle;</span><br><span class="line">        <span class="built_in">update</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">QRoundProgressBar::setOutlinePenWidth</span><span class="params">(<span class="type">double</span> penWidth)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (penWidth != m_outlinePenWidth)</span><br><span class="line">    &#123;</span><br><span class="line">        m_outlinePenWidth = penWidth;</span><br><span class="line">        <span class="built_in">update</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">QRoundProgressBar::setDataPenWidth</span><span class="params">(<span class="type">double</span> penWidth)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (penWidth != m_dataPenWidth)</span><br><span class="line">    &#123;</span><br><span class="line">        m_dataPenWidth = penWidth;</span><br><span class="line">        <span class="built_in">update</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">QRoundProgressBar::setDecimals</span><span class="params">(<span class="type">int</span> count)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (count &gt;= <span class="number">0</span> &amp;&amp; count != m_decimals)</span><br><span class="line">    &#123;</span><br><span class="line">        m_decimals = count;</span><br><span class="line">        <span class="built_in">update</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">QRoundProgressBar::setBarStyle</span><span class="params">(BarStyle style)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (style != m_barStyle)</span><br><span class="line">    &#123;</span><br><span class="line">        m_barStyle = style;</span><br><span class="line">        <span class="built_in">update</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">QRoundProgressBar::setRange</span><span class="params">(<span class="type">double</span> min, <span class="type">double</span> max)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    m_min = min;</span><br><span class="line">    m_max = max;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">if</span> (m_max &lt; m_min)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">qSwap</span>(m_max, m_min);</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">if</span> (m_value &lt; m_min)</span><br><span class="line">    &#123;</span><br><span class="line">        m_value = m_min;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (m_value &gt; m_max)</span><br><span class="line">    &#123;</span><br><span class="line">        m_value = m_max;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="built_in">update</span>();</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">QRoundProgressBar::setValue</span><span class="params">(<span class="type">double</span> val)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (m_value != val)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (val &lt; m_min)</span><br><span class="line">        &#123;</span><br><span class="line">            m_value = m_min;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (val &gt; m_max)</span><br><span class="line">        &#123;</span><br><span class="line">            m_value = m_max;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            m_value = val;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">update</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">QRoundProgressBar::setValue</span><span class="params">(<span class="type">int</span> val)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">setValue</span>(<span class="built_in">double</span>(val));</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">QRoundProgressBar::setMinimum</span><span class="params">(<span class="type">double</span> min)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">setRange</span>(min, m_max);</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">QRoundProgressBar::setMaximum</span><span class="params">(<span class="type">double</span> max)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">setRange</span>(m_min, max);</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">QRoundProgressBar::paintEvent</span><span class="params">(QPaintEvent* <span class="comment">/*event*/</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//å¤–åœˆç›´å¾„</span></span><br><span class="line">    <span class="type">double</span> outerDiameter = <span class="keyword">this</span>-&gt;<span class="built_in">width</span>();</span><br><span class="line"> </span><br><span class="line">    <span class="comment">//å¤–åœˆçŸ©å½¢</span></span><br><span class="line">    <span class="function">QRectF <span class="title">baseRect</span><span class="params">(<span class="number">0</span>, <span class="number">0</span>, outerDiameter, outerDiameter)</span></span>;</span><br><span class="line"> </span><br><span class="line">    <span class="function">QPainter <span class="title">p</span><span class="params">(<span class="keyword">this</span>)</span></span>;</span><br><span class="line">    p.<span class="built_in">setRenderHints</span>(QPainter::Antialiasing | QPainter::SmoothPixmapTransform);</span><br><span class="line"> </span><br><span class="line">    <span class="comment">//ç”»èƒŒæ™¯çŸ©å½¢å¡«å……ç™½è‰²</span></span><br><span class="line">    p.<span class="built_in">fillRect</span>(baseRect, <span class="built_in">QBrush</span>(<span class="built_in">QColor</span>(<span class="string">&quot;#FFFFFF&quot;</span>)));</span><br><span class="line"> </span><br><span class="line">    <span class="comment">//å†…åœ†ç›´å¾„</span></span><br><span class="line">    <span class="type">double</span> innerDiameter = <span class="built_in">width</span>() * <span class="number">0.9</span>;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">//å†…åœˆçŸ©å½¢</span></span><br><span class="line">    QRectF innerRect;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">//è®¡ç®—å†…åœˆçŸ©å½¢</span></span><br><span class="line">    <span class="keyword">if</span> (m_barStyle == StyleLine)</span><br><span class="line">    &#123;</span><br><span class="line">        innerDiameter = outerDiameter - m_outlinePenWidth;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(m_barStyle == StyleDonut)</span><br><span class="line">    &#123;</span><br><span class="line">        innerDiameter = outerDiameter * <span class="number">0.9</span>;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="type">double</span> delta = (outerDiameter - innerDiameter) / <span class="number">2</span>;</span><br><span class="line"> </span><br><span class="line">    innerRect = <span class="built_in">QRectF</span>(delta, delta, innerDiameter, innerDiameter);</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">    <span class="comment">//ç”»åŸºç¡€å›¾å½¢</span></span><br><span class="line">    <span class="built_in">drawBase</span>(p, baseRect, innerRect);</span><br><span class="line"> </span><br><span class="line">    <span class="comment">//è®¡ç®—å½“å‰æ­¥é•¿æ¯”ä¾‹</span></span><br><span class="line">    <span class="type">double</span> arcStep = <span class="number">360.0</span> / (m_max - m_min) * m_value;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">//æ ¹æ®å€¼ç”»å‡ºè¿›åº¦æ¡</span></span><br><span class="line">    <span class="built_in">drawValue</span>(p, baseRect, m_value, arcStep, innerRect, innerDiameter);</span><br><span class="line"> </span><br><span class="line">    <span class="comment">//ç”»æ–‡å­—</span></span><br><span class="line">    <span class="built_in">drawText</span>(p, baseRect, m_value);</span><br><span class="line"> </span><br><span class="line">    p.<span class="built_in">end</span>();</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">QRoundProgressBar::drawBase</span><span class="params">(QPainter &amp;p, <span class="type">const</span> QRectF &amp;baseRect, <span class="type">const</span> QRectF &amp;innerRect)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">switch</span> (m_barStyle)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">case</span> StyleDonut:</span><br><span class="line">        &#123;</span><br><span class="line">            QPainterPath dataPath;</span><br><span class="line">            dataPath.<span class="built_in">setFillRule</span>(Qt::OddEvenFill);</span><br><span class="line">            dataPath.<span class="built_in">moveTo</span>(baseRect.<span class="built_in">center</span>());</span><br><span class="line">            dataPath.<span class="built_in">addEllipse</span>(innerRect);</span><br><span class="line"> </span><br><span class="line">            QPen pen;</span><br><span class="line">            pen.<span class="built_in">setColor</span>(<span class="built_in">QColor</span>(<span class="string">&quot;#DEE3E7&quot;</span>));</span><br><span class="line">            pen.<span class="built_in">setWidth</span>(<span class="number">10</span>);</span><br><span class="line">            p.<span class="built_in">setPen</span>(pen);</span><br><span class="line">            p.<span class="built_in">setBrush</span>(<span class="built_in">QBrush</span>(<span class="built_in">QColor</span>(<span class="string">&quot;#FFFFFF&quot;</span>)));</span><br><span class="line">        </span><br><span class="line">            p.<span class="built_in">drawPath</span>(dataPath);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        <span class="keyword">case</span> StylePie:</span><br><span class="line">        &#123;</span><br><span class="line">            p.<span class="built_in">setPen</span>(<span class="built_in">QPen</span>(<span class="built_in">QColor</span>(<span class="string">&quot;#FFFFFF&quot;</span>), m_outlinePenWidth));</span><br><span class="line">            p.<span class="built_in">setBrush</span>(<span class="built_in">QBrush</span>(<span class="built_in">QColor</span>(<span class="string">&quot;#DEE3E7&quot;</span>)));</span><br><span class="line">            p.<span class="built_in">drawEllipse</span>(baseRect);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        <span class="keyword">case</span> StyleLine:</span><br><span class="line">        &#123;</span><br><span class="line">            p.<span class="built_in">setPen</span>(<span class="built_in">QPen</span>(<span class="built_in">QColor</span>(<span class="string">&quot;#FFFFFF&quot;</span>), m_outlinePenWidth));</span><br><span class="line">            p.<span class="built_in">setBrush</span>(Qt::NoBrush);</span><br><span class="line">            p.<span class="built_in">drawEllipse</span>(baseRect.<span class="built_in">adjusted</span>(m_outlinePenWidth / <span class="number">2</span>, m_outlinePenWidth / <span class="number">2</span>, -m_outlinePenWidth / <span class="number">2</span>, -m_outlinePenWidth / <span class="number">2</span>));</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">QRoundProgressBar::drawValue</span><span class="params">(QPainter &amp;p, <span class="type">const</span> QRectF &amp;baseRect , <span class="type">double</span> value, <span class="type">double</span> arcLength</span></span></span><br><span class="line"><span class="params"><span class="function">                          , <span class="type">const</span> QRectF &amp; innerRect, <span class="type">double</span> innerDiameter)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (value == m_min)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">if</span> (m_barStyle == StyleLine)</span><br><span class="line">    &#123;</span><br><span class="line">        p.<span class="built_in">setPen</span>(<span class="built_in">QColor</span>(<span class="string">&quot;#2F8DED&quot;</span>));</span><br><span class="line">        p.<span class="built_in">setBrush</span>(Qt::NoBrush);</span><br><span class="line">        p.<span class="built_in">drawArc</span>(baseRect,m_startAngel * <span class="number">16</span>, -arcLength * <span class="number">16</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (m_barStyle == StyleDonut)</span><br><span class="line">    &#123;</span><br><span class="line">        QPen pen;</span><br><span class="line">        pen.<span class="built_in">setColor</span>(<span class="built_in">QColor</span>(<span class="string">&quot;#2F8DED&quot;</span>));</span><br><span class="line">        pen.<span class="built_in">setWidth</span>(<span class="number">8</span>);</span><br><span class="line">        pen.<span class="built_in">setCapStyle</span>(Qt::RoundCap);</span><br><span class="line">        p.<span class="built_in">setPen</span>(pen);</span><br><span class="line">        p.<span class="built_in">drawArc</span>(innerRect, m_startAngel*<span class="number">16</span> , <span class="number">-16</span>*arcLength);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//è·å–ä¸­å¿ƒç‚¹åæ ‡</span></span><br><span class="line">        QPointF centerPoint = baseRect.<span class="built_in">center</span>();</span><br><span class="line">        QPainterPath dataPath;</span><br><span class="line">        dataPath.<span class="built_in">setFillRule</span>(Qt::WindingFill);</span><br><span class="line">        dataPath.<span class="built_in">moveTo</span>(centerPoint);</span><br><span class="line">        <span class="comment">//é€†æ—¶é’ˆç”»å¼§é•¿</span></span><br><span class="line">        dataPath.<span class="built_in">arcTo</span>(baseRect, m_startAngel, -arcLength);</span><br><span class="line">        <span class="keyword">if</span> (m_barStyle == StylePie)</span><br><span class="line">        &#123;</span><br><span class="line">            dataPath.<span class="built_in">lineTo</span>(centerPoint);</span><br><span class="line">            p.<span class="built_in">setPen</span>(<span class="built_in">QPen</span>(<span class="built_in">QColor</span>(<span class="string">&quot;#2F8DED&quot;</span>), m_dataPenWidth));</span><br><span class="line">        &#125;</span><br><span class="line">        p.<span class="built_in">setBrush</span>(<span class="built_in">QBrush</span>(<span class="built_in">QColor</span>(<span class="string">&quot;#2F8DED&quot;</span>)));</span><br><span class="line">        p.<span class="built_in">drawPath</span>(dataPath);</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">QRoundProgressBar::drawText</span><span class="params">(QPainter &amp;p, <span class="type">const</span> QRectF &amp;rect, <span class="type">double</span> value)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    QString textToDraw = <span class="string">&quot;%&quot;</span>;</span><br><span class="line">    <span class="type">double</span> percent = (value - m_min) / (m_max - m_min) * <span class="number">100.0</span>;</span><br><span class="line">    textToDraw = QString::<span class="built_in">number</span>(percent, <span class="string">&#x27;f&#x27;</span>, m_decimals) + textToDraw;</span><br><span class="line"> </span><br><span class="line">    QFont f;</span><br><span class="line">    f.<span class="built_in">setFamily</span>(<span class="string">&quot;å¾®è½¯é›…é»‘&quot;</span>);</span><br><span class="line">    f.<span class="built_in">setPixelSize</span>(<span class="number">20</span>);</span><br><span class="line"> </span><br><span class="line">    p.<span class="built_in">setFont</span>(f);</span><br><span class="line">    p.<span class="built_in">setPen</span>(<span class="built_in">QColor</span>(<span class="string">&quot;#606266&quot;</span>));</span><br><span class="line"> </span><br><span class="line">    p.<span class="built_in">drawText</span>(rect, Qt::AlignCenter, textToDraw);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> Qt </category>
          
          <category> åŠ¨ç”» </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Qt </tag>
            
            <tag> è¿›åº¦æ¡ </tag>
            
            <tag> åœ† </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>QtåŠ¨ç”»ç±»</title>
      <link href="/Code/Qt/%E5%8A%A8%E7%94%BB/Qt%E5%8A%A8%E7%94%BB%E6%95%88%E6%9E%9C/"/>
      <url>/Code/Qt/%E5%8A%A8%E7%94%BB/Qt%E5%8A%A8%E7%94%BB%E6%95%88%E6%9E%9C/</url>
      
        <content type="html"><![CDATA[<p>[toc]</p><h1 id="åŠ¨ç”»æ¡†æ¶ç»“æ„"><a href="#åŠ¨ç”»æ¡†æ¶ç»“æ„" class="headerlink" title="åŠ¨ç”»æ¡†æ¶ç»“æ„"></a>åŠ¨ç”»æ¡†æ¶ç»“æ„</h1><p>åŠ¨ç”»æ¡†æ¶ç”±åŸºç±» <code>QAbstractAnimation</code> ä»¥åŠå®ƒçš„ä¸¤ä¸ªå­ç±»<code> QVariantAnimation</code> ã€<code>QAnimationGroup</code> ç»„æˆã€‚åŸºç¡€åŠ¨ç”»ç”±QVariantAnimationçš„å­ç±»QPropertyAnimationæ¥è®¾ç½®ï¼Œå†é€šè¿‡å°†å¤šä¸ªQPropertyAnimationå’ŒQPauseAnimationç»„åˆæˆä¸ºåŠ¨ç”»ç»„ï¼ˆQParallelAnimationGroupã€QSequentialAnimationGroupï¼‰ï¼Œå®Œæˆä¸€ä¸ªè¿ç»­çš„åŠ¨ç”»ã€‚</p><div class="tag-plugin image"><div class="image-bg"><img src="https://raw.githubusercontent.com/holdyounger/ScopeBlog/rc_images/Images/%E5%8A%A8%E7%94%BB/images/Qt%E5%8A%A8%E7%94%BB%E6%95%88%E6%9E%9C/Qt%E5%8A%A8%E7%94%BB%E6%A1%86%E6%9E%B6.png"/></div></div>QPropertyAnimation<p><code>QPropertyAnimation</code> ç±»èƒ½å¤Ÿä¿®æ”¹Qtçš„å±æ€§å€¼ï¼Œå¦‚posã€geometryç­‰å±æ€§ã€‚è®¾ç½®å¥½åŠ¨ç”»çš„åˆå€¼å’Œæœ«å€¼ï¼Œä»¥åŠæŒç»­çš„æ—¶é—´åï¼Œä¸€ä¸ªå±æ€§åŠ¨ç”»å°±åŸºæœ¬å®Œæˆäº†ã€‚</p><h2 id="ç¼©æ”¾"><a href="#ç¼©æ”¾" class="headerlink" title="ç¼©æ”¾"></a>ç¼©æ”¾</h2><p>é€šè¿‡ä¿®æ”¹æ§ä»¶çš„geometryå±æ€§å¯ä»¥å®ç°ç¼©æ”¾æ•ˆæœï¼Œä¹Ÿå¯ä»¥å®ç°ä½ç§»çš„åŠ¨ç”»ï¼Œè¯¥å±æ€§çš„å‰ä¸¤ä¸ªå€¼ç¡®å®šäº†æ§ä»¶å·¦ä¸Šè§’çš„ä½ç½®ï¼Œåä¸¤ä¸ªå€¼ç¡®å®šäº†æ§ä»¶çš„å¤§å°ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//scale</span></span><br><span class="line">QPropertyAnimation *pScaleAnimation1 = <span class="keyword">new</span> <span class="built_in">QPropertyAnimation</span>(ui-&gt;scaleButton, <span class="string">&quot;geometry&quot;</span>);</span><br><span class="line">pScaleAnimation1-&gt;<span class="built_in">setDuration</span>(<span class="number">1000</span>);</span><br><span class="line">pScaleAnimation1-&gt;<span class="built_in">setStartValue</span>(<span class="built_in">QRect</span>(<span class="number">190</span>, <span class="number">230</span>, <span class="number">0</span>, <span class="number">0</span>));</span><br><span class="line">pScaleAnimation1-&gt;<span class="built_in">setEndValue</span>(<span class="built_in">QRect</span>(<span class="number">120</span>, <span class="number">160</span>, <span class="number">140</span>, <span class="number">140</span>));</span><br></pre></td></tr></table></figure><h2 id="ä½ç§»"><a href="#ä½ç§»" class="headerlink" title="ä½ç§»"></a>ä½ç§»</h2><p>å¦‚æœåªæ˜¯éœ€è¦ä½ç§»åŠ¨ç”»çš„è¯ï¼Œä¿®æ”¹æ§ä»¶çš„poså±æ€§å³å¯ã€‚poså±æ€§å°±æ˜¯æ§ä»¶çš„å·¦ä¸Šè§’æ‰€åœ¨çš„ä½ç½®ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//pos</span></span><br><span class="line">QPropertyAnimation *pPosAnimation1 = <span class="keyword">new</span> <span class="built_in">QPropertyAnimation</span>(ui-&gt;posButton, <span class="string">&quot;pos&quot;</span>);</span><br><span class="line">pPosAnimation1-&gt;<span class="built_in">setDuration</span>(<span class="number">1000</span>);</span><br><span class="line">pPosAnimation1-&gt;<span class="built_in">setStartValue</span>(<span class="built_in">QPoint</span>(<span class="number">360</span>, <span class="number">160</span>));</span><br><span class="line">pPosAnimation1-&gt;<span class="built_in">setEndValue</span>(<span class="built_in">QPoint</span>(<span class="number">360</span>, <span class="number">350</span>));</span><br><span class="line">pPosAnimation1-&gt;<span class="built_in">setEasingCurve</span>(QEasingCurve::InOutQuad);</span><br></pre></td></tr></table></figure><h2 id="ä¸é€æ˜åº¦"><a href="#ä¸é€æ˜åº¦" class="headerlink" title="ä¸é€æ˜åº¦"></a>ä¸é€æ˜åº¦</h2><p>Qtçš„æ§ä»¶æ²¡æœ‰å•ç‹¬çš„é€æ˜åº¦å±æ€§ï¼Œè¦ä¿®æ”¹æ§ä»¶çš„é€æ˜åº¦å¯ä»¥é€šè¿‡ <code>QGraphicsOpacityEffect</code> ç±»æ¥å®ç°ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//opacity</span></span><br><span class="line">QGraphicsOpacityEffect *pButtonOpacity = <span class="keyword">new</span> <span class="built_in">QGraphicsOpacityEffect</span>(<span class="keyword">this</span>);</span><br><span class="line">pButtonOpacity-&gt;<span class="built_in">setOpacity</span>(<span class="number">1</span>);</span><br><span class="line">ui-&gt;opasityButton-&gt;<span class="built_in">setGraphicsEffect</span>(pButtonOpacity);</span><br><span class="line"></span><br><span class="line">QPropertyAnimation *pOpacityAnimation1 = <span class="keyword">new</span> <span class="built_in">QPropertyAnimation</span>(pButtonOpacity, <span class="string">&quot;opacity&quot;</span>);</span><br><span class="line">pOpacityAnimation1-&gt;<span class="built_in">setDuration</span>(<span class="number">1000</span>);</span><br><span class="line">pOpacityAnimation1-&gt;<span class="built_in">setStartValue</span>(<span class="number">1</span>);</span><br><span class="line">pOpacityAnimation1-&gt;<span class="built_in">setEndValue</span>(<span class="number">0</span>);</span><br></pre></td></tr></table></figure><h2 id="åŠ¨ç”»æ›²çº¿"><a href="#åŠ¨ç”»æ›²çº¿" class="headerlink" title="åŠ¨ç”»æ›²çº¿"></a>åŠ¨ç”»æ›²çº¿</h2><p>åŠ¨ç”»è¿˜å¯ä»¥è®¾ç½®æ—¶é—´çš„æ’å€¼æ›²çº¿ï¼Œé»˜è®¤æ˜¯linearï¼Œå³çº¿æ€§è¿åŠ¨ï¼Œé€šè¿‡è®¾ç½®QEasingCurveå³å¯ã€‚Qtæä¾›äº†40ç§å·²ç»å®šä¹‰å¥½çš„æ›²çº¿ï¼ˆå¦‚æœæœ‰éœ€è¦ä¹Ÿå¯ä»¥è‡ªå®šä¹‰æ›²çº¿ï¼‰ï¼š</p><div class="tag-plugin image"><div class="image-bg"><img src="https://raw.githubusercontent.com/holdyounger/ScopeBlog/rc_images/Images/%E5%8A%A8%E7%94%BB/images/Qt%E5%8A%A8%E7%94%BB%E6%95%88%E6%9E%9C/Qt%E5%8A%A8%E7%94%BB%E6%9B%B2%E7%BA%BF.png"/></div></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pScaleAnimation1-&gt;<span class="built_in">setEasingCurve</span>(QEasingCurve::InOutQuad);</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> Qt </category>
          
          <category> åŠ¨ç”» </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Qt </tag>
            
            <tag> åŠ¨ç”» </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Qt å¯åŠ¨åŠ¨ç”»</title>
      <link href="/Code/Qt/%E5%8A%A8%E7%94%BB/Qt%E5%90%AF%E5%8A%A8%E5%8A%A8%E7%94%BB/"/>
      <url>/Code/Qt/%E5%8A%A8%E7%94%BB/Qt%E5%90%AF%E5%8A%A8%E5%8A%A8%E7%94%BB/</url>
      
        <content type="html"><![CDATA[<p>[toc]</p><h1 id="QSplashScreen"><a href="#QSplashScreen" class="headerlink" title="QSplashScreen"></a>QSplashScreen</h1><h2 id="è®¾ç½®å›¾ç‰‡"><a href="#è®¾ç½®å›¾ç‰‡" class="headerlink" title="è®¾ç½®å›¾ç‰‡"></a>è®¾ç½®å›¾ç‰‡</h2><blockquote><p>Qtå†…ç½®äº†ç”¨äºç¨‹åºå¯åŠ¨çš„åŠ¨ç”»ç›´æ¥ä½¿ç”¨QSplashScreenå³å¯ã€‚</p></blockquote><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">QPixmap <span class="title">pixmap</span><span class="params">(<span class="string">&quot;:load.gif&quot;</span>)</span></span>;     <span class="comment">//è¯»å–å›¾ç‰‡</span></span><br><span class="line"><span class="function">QSplashScreen <span class="title">splash</span><span class="params">(pixmap)</span></span>; <span class="comment">//</span></span><br><span class="line">splash.<span class="built_in">setWindowOpacity</span>(<span class="number">0.8</span>); <span class="comment">// è®¾ç½®çª—å£é€æ˜åº¦</span></span><br><span class="line">splash.<span class="built_in">show</span>();</span><br><span class="line">splash.<span class="built_in">showMessage</span>(<span class="string">&quot;ç¨‹åºæ­£åœ¨åŠ è½½......&quot;</span>, Qt::AlignCenter, Qt::red); <span class="comment">//æ˜¾ç¤ºæ–‡å­—</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯é€‰é¡¹</span></span><br><span class="line"><span class="meta">#ifdeg DEBUG</span></span><br><span class="line">QDateTime time = QDateTime::<span class="built_in">currentDateTime</span>();</span><br><span class="line">QDateTime currentTime = QDateTime::<span class="built_in">currentDateTime</span>(); <span class="comment">//è®°å½•å½“å‰æ—¶é—´</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> (time.<span class="built_in">secsTo</span>(currentTime) &lt;= <span class="number">5</span>) <span class="comment">// 5ä¸ºéœ€è¦å»¶æ—¶çš„ç§’æ•°</span></span><br><span class="line">&#123;</span><br><span class="line">    currentTime = QDateTime::<span class="built_in">currentDateTime</span>();</span><br><span class="line">    a.<span class="built_in">processEvents</span>();</span><br><span class="line">&#125;;</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line">widget w;</span><br><span class="line">w.<span class="built_in">show</span>();</span><br><span class="line"></span><br><span class="line">splash.<span class="built_in">finish</span>(&amp;w); <span class="comment">//åœ¨ä¸»ä½“å¯¹è±¡åˆå§‹åŒ–å®Œæˆåç»“æŸå¯åŠ¨åŠ¨ç”»</span></span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šä»£ç æ”¾åœ¨ç¨‹åºçš„å…¥å£<code>main</code>å‡½æ•°ä¸­å³å¯ã€‚ <code>widget</code>å°±æ˜¯æˆ‘ä»¬éœ€è¦å¯åŠ¨çš„ç¨‹åºã€‚</p><h1 id="è‡ªå®šä¹‰å¯åŠ¨åŠ¨ç”»"><a href="#è‡ªå®šä¹‰å¯åŠ¨åŠ¨ç”»" class="headerlink" title="è‡ªå®šä¹‰å¯åŠ¨åŠ¨ç”»"></a>è‡ªå®šä¹‰å¯åŠ¨åŠ¨ç”»</h1><blockquote><p>è‡ªå®šä¹‰å¯åŠ¨åŠ¨ç”»çš„æ–¹å¼ç½‘ä¸Šæœ‰å‡ ç§é‡å†™ <code>QSplashScreen</code> çš„ã€‚ç¬”è€…ä¹Ÿå°è¯•ä½¿ç”¨äº†ä¸€ä¸‹ï¼Œå‘ç°å¹¶ä¸å¥½ç”¨ï¼Œäºæ˜¯æŒ‰ç…§ä¸€å¼€å§‹çš„æ–¹æ¡ˆï¼Œå‡†å¤‡ç”¨ä¸€ä¸ª <code>widget</code> å»å†™å¯åŠ¨åŠ¨ç”»ã€‚</p><p>å‚è€ƒ <code>QSplashScreen</code> çš„æ–¹å¼ï¼Œè¿˜æ˜¯ä½¿ç”¨ <code>finish(QWidget *mainWin)</code> çš„æ¥å£å»ä½œä¸ºçª—ä½“å…³é—­çš„å…¥å£ã€‚</p></blockquote><h2 id="finish-Qwidget-mainWin"><a href="#finish-Qwidget-mainWin" class="headerlink" title="finish(Qwidget *mainWin)"></a><code>finish(Qwidget *mainWin)</code></h2><p>å…³äº <code>finished(QWidget *mainWin)</code> ç›´æ¥æŠŠ <code>QSplashScreen</code> çš„æºç æ¬è¿‡æ¥å³å¯ã€‚</p><blockquote><p>æºç ä¸€èˆ¬åœ¨ä½ ä½¿ç”¨çš„ç‰ˆæœ¬çš„ <code>src</code> æ–‡ä»¶å¤¹ä¸‹ï¼š</p><p><code>$&#123;install dir&#125;\5.9.9\Src\qtbase\src\widgets\widgets</code></p><p><code>QSplashScreen</code> æºç ä¸­çš„ <code>finish()</code> å¦‚ä¸‹æ‰€ç¤ºï¼š</p></blockquote><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*!</span></span><br><span class="line"><span class="comment">    Makes the splash screen wait until the widget \a mainWin is displayed</span></span><br><span class="line"><span class="comment">    before calling close() on itself.</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="comment">// è¿™ä¸ªæ¥å£æˆ‘ä»¬éœ€è¦å¤åˆ¶åˆ°è‡ªå®šä¹‰çš„å¯åŠ¨åŠ¨ç”»çª—ä½“ä¸­ã€‚</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">QSplashScreen::finish</span><span class="params">(QWidget *mainWin)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (mainWin) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!mainWin-&gt;<span class="built_in">windowHandle</span>())</span><br><span class="line">            mainWin-&gt;<span class="built_in">createWinId</span>();</span><br><span class="line">        <span class="built_in">waitForWindowExposed</span>(mainWin-&gt;<span class="built_in">windowHandle</span>());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">close</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸Šè¿°ä»£ç ï¼Œå”¯ä¸€çš„é—®é¢˜åœ¨äº <code>waitForWindowExposed</code> è¿™ä¸ªå‡½æ•°æˆ‘æ²¡æœ‰æ‰¾åˆ°å®ç°ï¼Œä¹Ÿæ²¡æœ‰ä»”ç»†æ‰¾ï¼Œä½†æ˜¯åœ¨ <code>Qt</code> çš„ <code>testlib</code> åº“ä¸­æœ‰ä¸€ä¸ªç±»ä¼¼çš„æ¥å£ <code>QTest::qwaitForWindowExposed()</code> ä¸¤ä¸ªæ¥å£çš„ä½œç”¨åº”è¯¥æ˜¯ä¸€è‡´çš„ã€‚ä¸Šè¿°ä»£ç ä¸­ <code>waitForWindowExposed(mainWin-&gt;windowHandle());</code> ç»ç¬”è€…æµ‹è¯•å“ˆï¼ˆä¸ä¸€å®šå‡†ç¡®ï¼‰ï¼Œ<del>å³ä½¿å»æ‰ä¹Ÿä¸ä¼šå½±å“ <code>finish()</code> æ¥å£çš„ä½œç”¨ã€‚^2022å¹´7æœˆ27æ—¥08:39:40^</del>  å»æ‰è¿˜æ˜¯ä¼šæœ‰å½±å“çš„ï¼Œç›¸å½“äºåˆ¤æ–­çª—å£çš„é€»è¾‘æ²¡äº†ã€‚å…³äº <code>waitForWindowExposed()</code> åœ¨ Qtæºç ä¸­çš„å®ç°ï¼Œç¬”è€…åœ¨è°ƒè¯•ç¨‹åºçš„æ—¶å€™å‘ç°å»æ‰è¿™è¡Œä»£ç ï¼Œæ€ä¹ˆçœ‹å¯åŠ¨åŠ¨ç”»å’Œè¿è¡Œçš„ç¨‹åºä¹‹é—´çš„è¡”æ¥éƒ½ä¸å¤ªåˆç†ï¼Œé‚å†³å®šæ‰¾ä¸€ä¸‹è¿™ä¸ª <code>waitForWindowExposed()</code> çš„æºç ï¼Œè¿™ä¸€æ‰¾ï¼ŒçœŸçš„æ˜¯è¿œåœ¨å¤©è¾¹ï¼Œè¿‘åœ¨çœ¼å‰ã€‚å‡½æ•°çš„å®ç°å°±åœ¨ <code>qsplashscreen.cpp</code> ä¸­ã€‚è¿™é‡Œè´´ä¸€ä¸‹å…¶æºç ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// A copy of Qt Test&#x27;s qWaitForWindowExposed() and qSleep().</span></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">static</span> <span class="type">bool</span> <span class="title">waitForWindowExposed</span><span class="params">(QWindow *window, <span class="type">int</span> timeout = <span class="number">1000</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">enum</span> &#123; TimeOutMs = <span class="number">10</span> &#125;;</span><br><span class="line">    QElapsedTimer timer;</span><br><span class="line">    timer.<span class="built_in">start</span>();</span><br><span class="line">    <span class="keyword">while</span> (!window-&gt;<span class="built_in">isExposed</span>()) &#123;</span><br><span class="line">        <span class="type">const</span> <span class="type">int</span> remaining = timeout - <span class="built_in">int</span>(timer.<span class="built_in">elapsed</span>());</span><br><span class="line">        <span class="keyword">if</span> (remaining &lt;= <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        QCoreApplication::<span class="built_in">processEvents</span>(QEventLoop::AllEvents, remaining);</span><br><span class="line">        QCoreApplication::<span class="built_in">sendPostedEvents</span>(<span class="number">0</span>, QEvent::DeferredDelete);</span><br><span class="line"><span class="meta">#<span class="keyword">if</span> defined(Q_OS_WINRT)</span></span><br><span class="line">        <span class="built_in">WaitForSingleObjectEx</span>(<span class="built_in">GetCurrentThread</span>(), TimeOutMs, <span class="literal">false</span>);</span><br><span class="line"><span class="meta">#<span class="keyword">elif</span> defined(Q_OS_WIN)</span></span><br><span class="line">        <span class="built_in">Sleep</span>(<span class="built_in">uint</span>(TimeOutMs));</span><br><span class="line"><span class="meta">#<span class="keyword">else</span></span></span><br><span class="line">        <span class="keyword">struct</span> <span class="title class_">timespec</span> ts = &#123; TimeOutMs / <span class="number">1000</span>, (TimeOutMs % <span class="number">1000</span>) * <span class="number">1000</span> * <span class="number">1000</span> &#125;;</span><br><span class="line">        <span class="built_in">nanosleep</span>(&amp;ts, <span class="literal">NULL</span>);</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> window-&gt;<span class="built_in">isExposed</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¦‚æœè¦ä½¿ç”¨ä½ æºç ä¸­çš„å®ç°ï¼Œåˆ™éœ€è¦å¼•å…¥ä¸¤ä¸ªå¤´é—®é¢˜ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QElapsedTimer&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QtGui/QWindow&gt;</span></span></span><br></pre></td></tr></table></figure><h2 id="è®¾ç½®çª—ä½“"><a href="#è®¾ç½®çª—ä½“" class="headerlink" title="*è®¾ç½®çª—ä½“"></a>*è®¾ç½®çª—ä½“</h2><p>è®¾ç½®çª—ä½“çš„é€»è¾‘ä¹Ÿæ¯”è¾ƒç®€å•ï¼Œå°±æ˜¯åˆ›å»ºä¸€ä¸ª<code>widget</code>ã€<code>Dialog</code>ä¸“é—¨ç”¨æ¥å®ç°å¯åŠ¨åŠ¨ç”»çš„é€»è¾‘ã€‚å¦‚ä¸‹æ‰€ç¤ºä¸ºQtç¨‹åºçš„å…¥å£å‡½æ•°ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> *argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">QApplication <span class="title">a</span><span class="params">(argc, argv)</span></span>;</span><br><span class="line">Dialog d; <span class="comment">// å¯åŠ¨åŠ¨ç”»çš„çª—å°</span></span><br><span class="line">    d.<span class="built_in">show</span>();</span><br><span class="line"></span><br><span class="line">    Widget w;</span><br><span class="line">    w.<span class="built_in">show</span>();</span><br><span class="line"></span><br><span class="line">d.<span class="built_in">finish</span>(&amp;w); <span class="comment">// å¤åˆ¶çš„ QSplashScreen ä¸­çš„ finished()</span></span><br><span class="line"><span class="keyword">return</span> a.<span class="built_in">exec</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å…¶ä¸­çš„ <code>Dialog d</code> å°±æ˜¯æˆ‘ä»¬åˆ›å»ºçš„ä¸€ä¸ªè‡ªå®šä¹‰çš„å¯åŠ¨åŠ¨ç”»çª—å£ï¼Œè‡³äºçª—å£å†…è¦å®ç°ä»€ä¹ˆï¼Œä¾æ®ä½ ä¸ªäººçš„ä¸šåŠ¡å’Œéœ€æ±‚å»å®ç°å³å¯ã€‚</p><h1 id="é—®é¢˜1"><a href="#é—®é¢˜1" class="headerlink" title="é—®é¢˜1"></a>é—®é¢˜1</h1><blockquote><p>ä¸Šæ–‡ä¸­çš„ <code>Dialog</code> è¿˜æ²¡æœ‰ä¸»ç•Œé¢å°±å±•ç¤ºäº†ï¼Œæˆ–è€… <code>Dialog</code> å±•ç¤ºäº†ä½†æ˜¯æ²¡æœ‰ç”»é¢ã€‚</p></blockquote><p>å…³äºè¿™ä¸ªé—®é¢˜ï¼Œæˆ‘è®¤ä¸ºæ˜¯ä¸»ç•Œé¢çš„åˆ·æ–°å¤ªå¿«äº†ï¼ˆå¤§å®¶å¯ä»¥è°ƒè¯•ä»£ç å»è§‚å¯Ÿä¸€ä¸‹ç°è±¡ï¼‰ï¼Œä¹Ÿå°±æ˜¯ <code>finish</code> ç›¸å½“äºæ˜¯ç¬é—´è°ƒç”¨äº†ã€‚å¯¼è‡´ <code>Dialog</code><u>æ²¡æœ‰å±•ç¤ºå’Œæ¥å¾—åŠåˆ·æ–°</u> ã€‚è¿™ä¸ªé—®é¢˜ç½‘å‹ä¹Ÿç»™å‡ºäº†æ–¹æ¡ˆï¼Œè®© <code>main</code> åšä¸€äº›åˆ«çš„æ“ä½œå»¶æ—¶ä¸€ä¸‹ã€‚ç›®å‰ç¬”è€…ç”¨è¿‡çš„æœ€å¥½çš„ä¸æ˜¯åœ¨ <code>main</code> ä¸­ <code>sleep</code> ã€‚è€Œæ˜¯æ‰§è¡Œä»¥ä¸‹ <code>processEvent()</code></p><p>å…·ä½“çš„ä»£ç å°±æ˜¯åœ¨ <code>Widget::show()</code> ä¹‹å‰è°ƒç”¨ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¿™é‡Œçš„æ—¶é—´åªæ˜¯ä¸ºäº†åšä¸€ä¸ªåˆ¤æ–­ï¼Œåªè°ƒç”¨ä¸€ä¸‹ a.processEvents(); åº”è¯¥ä¹Ÿæ˜¯å¯ä»¥çš„</span></span><br><span class="line">QDateTime time = QDateTime::<span class="built_in">currentDateTime</span>();</span><br><span class="line">QDateTime currentTime = QDateTime::<span class="built_in">currentDateTime</span>();   <span class="comment">//è®°å½•å½“å‰æ—¶é—´</span></span><br><span class="line"><span class="keyword">while</span> (time.<span class="built_in">secsTo</span>(currentTime) &lt;= <span class="number">5</span>)                   <span class="comment">//5ä¸ºéœ€è¦å»¶æ—¶çš„ç§’æ•°</span></span><br><span class="line">&#123;</span><br><span class="line">    currentTime = QDateTime::<span class="built_in">currentDateTime</span>();</span><br><span class="line">    a.<span class="built_in">processEvents</span>();</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h1 id="é—®é¢˜2"><a href="#é—®é¢˜2" class="headerlink" title="é—®é¢˜2"></a>é—®é¢˜2</h1><blockquote><p><code>Dialog</code> ç»“æŸçš„æ—¶å€™ç•Œé¢å…³é—­å’Œä¸»ç•Œé¢çš„å±•ç¤ºä¼šä¸­æ–­ä¸€ä¸‹ï¼Œå¼ºè¿«ç—‡éš¾ä»¥æ¥å—è¿™ç§çªç„¶é—ªç°æ€ä¹ˆåŠï¼Ÿ</p></blockquote><p>è¿˜æ˜¯ä¼šåˆ° <code>finish()</code> ã€‚</p><p>åœ¨ <code>closed()</code> çš„ä½ç½® <code>sleep()</code>ï¼Œè®©å…³é—­çš„çª—å£ç¨å¾®ç­‰ä¸€ç­‰ï¼Œç­‰ä¸»ç•Œé¢å±•ç¤ºå‡ºæ¥ä¹‹åå†å…³é—­ã€‚<code>1s</code> çš„æ—¶é—´è¶³å¤Ÿä¸»ç•Œé¢åˆ·æ–°å‡ºæ¥äº† ã€‚ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">Dialog::finish</span><span class="params">(QWidget *mainWin)</span> <span class="comment">// è¿™é‡Œå·²ç»æ˜¯æˆ‘ä»¬è‡ªå®šä¹‰çš„å¯åŠ¨åŠ¨ç”»çª—å£ Dialog äº†</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (mainWin) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!mainWin-&gt;<span class="built_in">windowHandle</span>())</span><br><span class="line">            mainWin-&gt;<span class="built_in">createWinId</span>();</span><br><span class="line">        <span class="built_in">waitForWindowExposed</span>(mainWin-&gt;<span class="built_in">windowHandle</span>());</span><br><span class="line">    &#125;</span><br><span class="line">    QThread::<span class="built_in">sleep</span>(<span class="number">1</span>); <span class="comment">// sleep çš„å•ä½æ˜¯ç§’</span></span><br><span class="line">    <span class="built_in">close</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="å®Œæ•´ä»£ç "><a href="#å®Œæ•´ä»£ç " class="headerlink" title="å®Œæ•´ä»£ç "></a>å®Œæ•´ä»£ç </h1><blockquote><p><code>widget</code> çš„ä»£ç ä¸å±•ç¤º</p></blockquote><h2 id="main-cpp"><a href="#main-cpp" class="headerlink" title="main.cpp"></a>main.cpp</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;widget.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;dialog.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QApplication&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QLabel&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QPixmap&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QSplashScreen&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QThread&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> *argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">QApplication <span class="title">a</span><span class="params">(argc, argv)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">ifdef</span> QT_DEBUG <span class="comment">// ä½¿ç”¨ QSplashScreen çš„å¯åŠ¨åŠ¨ç”»</span></span></span><br><span class="line">    <span class="function">QPixmap <span class="title">pixmap</span><span class="params">(<span class="string">&quot;:/test.gif&quot;</span>)</span></span>;</span><br><span class="line">    <span class="function">QSplashScreen <span class="title">splash</span><span class="params">(pixmap,<span class="number">10</span>)</span></span>;</span><br><span class="line">    splash.<span class="built_in">show</span>();</span><br><span class="line">    QDateTime time = QDateTime::<span class="built_in">currentDateTime</span>();</span><br><span class="line">        QDateTime currentTime = QDateTime::<span class="built_in">currentDateTime</span>();   <span class="comment">//è®°å½•å½“å‰æ—¶é—´</span></span><br><span class="line">        <span class="keyword">while</span> (time.<span class="built_in">secsTo</span>(currentTime) &lt;= <span class="number">5</span>)                   <span class="comment">//5ä¸ºéœ€è¦å»¶æ—¶çš„ç§’æ•°</span></span><br><span class="line">        &#123;</span><br><span class="line">            currentTime = QDateTime::<span class="built_in">currentDateTime</span>();</span><br><span class="line">            a.<span class="built_in">processEvents</span>();</span><br><span class="line">        &#125;;</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line">    </span><br><span class="line">    Dialog d; <span class="comment">// ä½¿ç”¨è‡ªå®šä¹‰çš„å¯åŠ¨åŠ¨ç”»</span></span><br><span class="line">    d.<span class="built_in">show</span>();</span><br><span class="line"></span><br><span class="line">    QDateTime time = QDateTime::<span class="built_in">currentDateTime</span>();</span><br><span class="line">    QDateTime currentTime = QDateTime::<span class="built_in">currentDateTime</span>();   <span class="comment">//è®°å½•å½“å‰æ—¶é—´</span></span><br><span class="line">    <span class="keyword">while</span> (time.<span class="built_in">secsTo</span>(currentTime) &lt;= <span class="number">5</span>)                   <span class="comment">//5ä¸ºéœ€è¦å»¶æ—¶çš„ç§’æ•°</span></span><br><span class="line">    &#123;</span><br><span class="line">        currentTime = QDateTime::<span class="built_in">currentDateTime</span>();</span><br><span class="line">        a.<span class="built_in">processEvents</span>();</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    Widget w; <span class="comment">// ä¸»ç¨‹åº</span></span><br><span class="line">    w.<span class="built_in">show</span>();</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">ifdef</span> QT_DEBUG <span class="comment">// ä½¿ç”¨ QSplashScreen çš„å¯åŠ¨åŠ¨ç”»</span></span></span><br><span class="line">splash.<span class="built_in">finish</span>(&amp;w);</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line">   d.<span class="built_in">finish</span>(&amp;w);</span><br><span class="line">   <span class="keyword">return</span> a.<span class="built_in">exec</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="dialog-h"><a href="#dialog-h" class="headerlink" title="dialog.h"></a>dialog.h</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> DIALOG_H</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> DIALOG_H</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QDialog&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> Ui &#123;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Dialog</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Dialog</span> : <span class="keyword">public</span> QDialog</span><br><span class="line">&#123;</span><br><span class="line">    Q_OBJECT</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">explicit</span> <span class="title">Dialog</span><span class="params">(QWidget *parent = <span class="literal">nullptr</span>)</span></span>;</span><br><span class="line">    ~<span class="built_in">Dialog</span>();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">finish</span><span class="params">(QWidget *mainWin)</span></span>;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    Ui::Dialog *ui;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span> <span class="comment">// DIALOG_H</span></span></span><br></pre></td></tr></table></figure><h2 id="dialog-cpp"><a href="#dialog-cpp" class="headerlink" title="dialog.cpp"></a>dialog.cpp</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;dialog.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;ui_dialog.h&quot;</span></span></span><br><span class="line"></span><br><span class="line">Dialog::<span class="built_in">Dialog</span>(QWidget *parent) :</span><br><span class="line">    <span class="built_in">QDialog</span>(parent),</span><br><span class="line">    <span class="built_in">ui</span>(<span class="keyword">new</span> Ui::Dialog)</span><br><span class="line">&#123;</span><br><span class="line">    ui-&gt;<span class="built_in">setupUi</span>(<span class="keyword">this</span>);</span><br><span class="line">   <span class="comment">// setWindowFlags(Qt::FramelessWindowHint | Qt::Tool | Qt::WindowStaysOnTopHint | Qt::Window);</span></span><br><span class="line">    <span class="comment">//setAttribute(Qt::WA_TranslucentBackground);</span></span><br><span class="line">    <span class="built_in">setStyleSheet</span>(<span class="string">&quot;#Dialog&#123;&quot;</span></span><br><span class="line">                  <span class="string">&quot;border-image: url(:/bgimg_334.png);&quot;</span> <span class="comment">// è‡ªå·±æ·»åŠ ä¸€ä¸ªå›¾ç‰‡åˆ°ç¨‹åºï¼Œä¸æ·»åŠ ä¹Ÿä¸å½±å“ç¨‹åºè¿è¡Œ</span></span><br><span class="line">                  <span class="string">&quot;background-position: center;&quot;</span></span><br><span class="line">                  <span class="string">&quot;backgroun d-repeat: no-repeat;&quot;</span></span><br><span class="line">                  <span class="string">&quot;&#125;&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Dialog::~<span class="built_in">Dialog</span>()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">delete</span> ui;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Dialog::finish</span><span class="params">(QWidget* mainWin)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (mainWin) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!mainWin-&gt;<span class="built_in">windowHandle</span>())</span><br><span class="line">            mainWin-&gt;<span class="built_in">createWinId</span>();</span><br><span class="line">    <span class="comment">//QTest::qWaitForWindowExposed(mainWin-&gt;windowHandle());</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">close</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="dialog-ui"><a href="#dialog-ui" class="headerlink" title="dialog.ui"></a>dialog.ui</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span><br><span class="line">&lt;ui version=<span class="string">&quot;4.0&quot;</span>&gt;</span><br><span class="line"> &lt;<span class="keyword">class</span>&gt;Dialog&lt;/<span class="keyword">class</span>&gt;</span><br><span class="line"> &lt;widget <span class="keyword">class</span>=<span class="string">&quot;QDialog&quot;</span> name=<span class="string">&quot;Dialog&quot;</span>&gt;</span><br><span class="line">  &lt;property name=<span class="string">&quot;geometry&quot;</span>&gt;</span><br><span class="line">   &lt;rect&gt;</span><br><span class="line">    &lt;x&gt;<span class="number">0</span>&lt;/x&gt;</span><br><span class="line">    &lt;y&gt;<span class="number">0</span>&lt;/y&gt;</span><br><span class="line">    &lt;width&gt;<span class="number">400</span>&lt;/width&gt;</span><br><span class="line">    &lt;height&gt;<span class="number">300</span>&lt;/height&gt;</span><br><span class="line">   &lt;/rect&gt;</span><br><span class="line">  &lt;/property&gt;</span><br><span class="line">  &lt;property name=<span class="string">&quot;windowTitle&quot;</span>&gt;</span><br><span class="line">   &lt;string&gt;Dialog&lt;/string&gt;</span><br><span class="line">  &lt;/property&gt;</span><br><span class="line">  &lt;layout <span class="keyword">class</span>=<span class="string">&quot;QGridLayout&quot;</span> name=<span class="string">&quot;gridLayout&quot;</span>&gt;</span><br><span class="line">   &lt;item row=<span class="string">&quot;2&quot;</span> column=<span class="string">&quot;0&quot;</span>&gt;</span><br><span class="line">    &lt;widget <span class="keyword">class</span>=<span class="string">&quot;QDialogButtonBox&quot;</span> name=<span class="string">&quot;buttonBox&quot;</span>&gt;</span><br><span class="line">     &lt;property name=<span class="string">&quot;orientation&quot;</span>&gt;</span><br><span class="line">      &lt;<span class="keyword">enum</span>&gt;Qt::Horizontal&lt;/<span class="keyword">enum</span>&gt;</span><br><span class="line">     &lt;/property&gt;</span><br><span class="line">     &lt;property name=<span class="string">&quot;standardButtons&quot;</span>&gt;</span><br><span class="line">      &lt;set&gt;QDialogButtonBox::Cancel|QDialogButtonBox::Ok&lt;/set&gt;</span><br><span class="line">     &lt;/property&gt;</span><br><span class="line">    &lt;/widget&gt;</span><br><span class="line">   &lt;/item&gt;</span><br><span class="line">   &lt;item row=<span class="string">&quot;1&quot;</span> column=<span class="string">&quot;0&quot;</span>&gt;</span><br><span class="line">    &lt;widget <span class="keyword">class</span>=<span class="string">&quot;QFrame&quot;</span> name=<span class="string">&quot;frame&quot;</span>&gt;</span><br><span class="line">     &lt;property name=<span class="string">&quot;frameShape&quot;</span>&gt;</span><br><span class="line">      &lt;<span class="keyword">enum</span>&gt;QFrame::StyledPanel&lt;/<span class="keyword">enum</span>&gt;</span><br><span class="line">     &lt;/property&gt;</span><br><span class="line">     &lt;property name=<span class="string">&quot;frameShadow&quot;</span>&gt;</span><br><span class="line">      &lt;<span class="keyword">enum</span>&gt;QFrame::Raised&lt;/<span class="keyword">enum</span>&gt;</span><br><span class="line">     &lt;/property&gt;</span><br><span class="line">     &lt;layout <span class="keyword">class</span>=<span class="string">&quot;QGridLayout&quot;</span> name=<span class="string">&quot;gridLayout_2&quot;</span>&gt;</span><br><span class="line">      &lt;item row=<span class="string">&quot;0&quot;</span> column=<span class="string">&quot;0&quot;</span>&gt;</span><br><span class="line">       &lt;layout <span class="keyword">class</span>=<span class="string">&quot;QVBoxLayout&quot;</span> name=<span class="string">&quot;verticalLayout&quot;</span>&gt;</span><br><span class="line">        &lt;item&gt;</span><br><span class="line">         &lt;widget <span class="keyword">class</span>=<span class="string">&quot;QStackedWidget&quot;</span> name=<span class="string">&quot;stackedWidget&quot;</span>&gt;</span><br><span class="line">          &lt;widget <span class="keyword">class</span>=<span class="string">&quot;QWidget&quot;</span> name=<span class="string">&quot;page&quot;</span>&gt;</span><br><span class="line">           &lt;widget <span class="keyword">class</span>=<span class="string">&quot;QWidget&quot;</span> name=<span class="string">&quot;widget&quot;</span> native=<span class="string">&quot;true&quot;</span>&gt;</span><br><span class="line">            &lt;property name=<span class="string">&quot;geometry&quot;</span>&gt;</span><br><span class="line">             &lt;rect&gt;</span><br><span class="line">              &lt;x&gt;<span class="number">-101</span>&lt;/x&gt;</span><br><span class="line">              &lt;y&gt;<span class="number">-10</span>&lt;/y&gt;</span><br><span class="line">              &lt;width&gt;<span class="number">231</span>&lt;/width&gt;</span><br><span class="line">              &lt;height&gt;<span class="number">51</span>&lt;/height&gt;</span><br><span class="line">             &lt;/rect&gt;</span><br><span class="line">            &lt;/property&gt;</span><br><span class="line">           &lt;/widget&gt;</span><br><span class="line">          &lt;/widget&gt;</span><br><span class="line">          &lt;widget <span class="keyword">class</span>=<span class="string">&quot;QWidget&quot;</span> name=<span class="string">&quot;page_2&quot;</span>/&gt;</span><br><span class="line">         &lt;/widget&gt;</span><br><span class="line">        &lt;/item&gt;</span><br><span class="line">        &lt;item&gt;</span><br><span class="line">         &lt;widget <span class="keyword">class</span>=<span class="string">&quot;QStackedWidget&quot;</span> name=<span class="string">&quot;stackedWidget_2&quot;</span>&gt;</span><br><span class="line">          &lt;property name=<span class="string">&quot;currentIndex&quot;</span>&gt;</span><br><span class="line">           &lt;number&gt;<span class="number">1</span>&lt;/number&gt;</span><br><span class="line">          &lt;/property&gt;</span><br><span class="line">          &lt;widget <span class="keyword">class</span>=<span class="string">&quot;QWidget&quot;</span> name=<span class="string">&quot;page_3&quot;</span>/&gt;</span><br><span class="line">          &lt;widget <span class="keyword">class</span>=<span class="string">&quot;QWidget&quot;</span> name=<span class="string">&quot;page_4&quot;</span>/&gt;</span><br><span class="line">         &lt;/widget&gt;</span><br><span class="line">        &lt;/item&gt;</span><br><span class="line">       &lt;/layout&gt;</span><br><span class="line">      &lt;/item&gt;</span><br><span class="line">     &lt;/layout&gt;</span><br><span class="line">    &lt;/widget&gt;</span><br><span class="line">   &lt;/item&gt;</span><br><span class="line">  &lt;/layout&gt;</span><br><span class="line"> &lt;/widget&gt;</span><br><span class="line"> &lt;resources/&gt;</span><br><span class="line"> &lt;connections&gt;</span><br><span class="line">  &lt;connection&gt;</span><br><span class="line">   &lt;sender&gt;buttonBox&lt;/sender&gt;</span><br><span class="line">   &lt;signal&gt;<span class="built_in">accepted</span>()&lt;/signal&gt;</span><br><span class="line">   &lt;receiver&gt;Dialog&lt;/receiver&gt;</span><br><span class="line">   &lt;slot&gt;<span class="built_in">accept</span>()&lt;/slot&gt;</span><br><span class="line">   &lt;hints&gt;</span><br><span class="line">    &lt;hint type=<span class="string">&quot;sourcelabel&quot;</span>&gt;</span><br><span class="line">     &lt;x&gt;<span class="number">248</span>&lt;/x&gt;</span><br><span class="line">     &lt;y&gt;<span class="number">254</span>&lt;/y&gt;</span><br><span class="line">    &lt;/hint&gt;</span><br><span class="line">    &lt;hint type=<span class="string">&quot;destinationlabel&quot;</span>&gt;</span><br><span class="line">     &lt;x&gt;<span class="number">157</span>&lt;/x&gt;</span><br><span class="line">     &lt;y&gt;<span class="number">274</span>&lt;/y&gt;</span><br><span class="line">    &lt;/hint&gt;</span><br><span class="line">   &lt;/hints&gt;</span><br><span class="line">  &lt;/connection&gt;</span><br><span class="line">  &lt;connection&gt;</span><br><span class="line">   &lt;sender&gt;buttonBox&lt;/sender&gt;</span><br><span class="line">   &lt;signal&gt;<span class="built_in">rejected</span>()&lt;/signal&gt;</span><br><span class="line">   &lt;receiver&gt;Dialog&lt;/receiver&gt;</span><br><span class="line">   &lt;slot&gt;<span class="built_in">reject</span>()&lt;/slot&gt;</span><br><span class="line">   &lt;hints&gt;</span><br><span class="line">    &lt;hint type=<span class="string">&quot;sourcelabel&quot;</span>&gt;</span><br><span class="line">     &lt;x&gt;<span class="number">316</span>&lt;/x&gt;</span><br><span class="line">     &lt;y&gt;<span class="number">260</span>&lt;/y&gt;</span><br><span class="line">    &lt;/hint&gt;</span><br><span class="line">    &lt;hint type=<span class="string">&quot;destinationlabel&quot;</span>&gt;</span><br><span class="line">     &lt;x&gt;<span class="number">286</span>&lt;/x&gt;</span><br><span class="line">     &lt;y&gt;<span class="number">274</span>&lt;/y&gt;</span><br><span class="line">    &lt;/hint&gt;</span><br><span class="line">   &lt;/hints&gt;</span><br><span class="line">  &lt;/connection&gt;</span><br><span class="line"> &lt;/connections&gt;</span><br><span class="line">&lt;/ui&gt;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> Qt </category>
          
          <category> åŠ¨ç”» </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Qt </tag>
            
            <tag> åŠ¨ç”» </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Qtä»»åŠ¡æ æ˜¾ç¤ºè¿›åº¦æ¡</title>
      <link href="/Code/Qt/%E5%8A%A8%E7%94%BB/Qt%E4%BB%BB%E5%8A%A1%E6%A0%8F%E8%BF%9B%E5%BA%A6%E6%9D%A1/"/>
      <url>/Code/Qt/%E5%8A%A8%E7%94%BB/Qt%E4%BB%BB%E5%8A%A1%E6%A0%8F%E8%BF%9B%E5%BA%A6%E6%9D%A1/</url>
      
        <content type="html"><![CDATA[<h1 id="Qt-ä»»åŠ¡æ æ˜¾ç¤ºè¿›åº¦æ¡"><a href="#Qt-ä»»åŠ¡æ æ˜¾ç¤ºè¿›åº¦æ¡" class="headerlink" title="Qt ä»»åŠ¡æ æ˜¾ç¤ºè¿›åº¦æ¡"></a>Qt ä»»åŠ¡æ æ˜¾ç¤ºè¿›åº¦æ¡</h1><blockquote><p>æ³¨æ„äº‹é¡¹ï¼š</p><ol><li>ä¿®æ”¹proæ–‡ä»¶</li><li>ç•Œé¢å±•ç¤ºåå† <code>new QWinTaskbarButton</code>ï¼Œå¦åˆ™ä¼šä¸æ˜¾ç¤º</li></ol></blockquote><h2 id="Qt-å®˜æ–¹demo"><a href="#Qt-å®˜æ–¹demo" class="headerlink" title="# Qt å®˜æ–¹demo"></a># Qt å®˜æ–¹demo</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">QWinTaskbarButton *button = <span class="keyword">new</span> <span class="built_in">QWinTaskbarButton</span>(widget);</span><br><span class="line">button-&gt;<span class="built_in">setWindow</span>(widget-&gt;<span class="built_in">windowHandle</span>());</span><br><span class="line">button-&gt;<span class="built_in">setOverlayIcon</span>(<span class="built_in">QIcon</span>(<span class="string">&quot;:/loading.png&quot;</span>));</span><br><span class="line"></span><br><span class="line">QWinTaskbarProgress *progress = button-&gt;<span class="built_in">progress</span>();</span><br><span class="line">progress-&gt;<span class="built_in">setVisible</span>(<span class="literal">true</span>);</span><br><span class="line">progress-&gt;<span class="built_in">setValue</span>(<span class="number">50</span>);</span><br></pre></td></tr></table></figure><h2 id="Demo"><a href="#Demo" class="headerlink" title="# Demo"></a># Demo</h2><h3 id="1-ä¿®æ”¹proæ–‡ä»¶"><a href="#1-ä¿®æ”¹proæ–‡ä»¶" class="headerlink" title="1 ä¿®æ”¹proæ–‡ä»¶"></a>1 ä¿®æ”¹proæ–‡ä»¶</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">win32:QT += winextras</span><br></pre></td></tr></table></figure><h3 id="2-h"><a href="#2-h" class="headerlink" title="2 .h"></a>2 .h</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> TASKBARPROGRESS_H</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> TASKBARPROGRESS_H</span></span><br><span class="line"> </span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QMainWindow&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QTimer&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QAbstractButton&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QWinTaskbarProgress&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QWinTaskbarButton&gt;</span></span></span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="keyword">namespace</span> Ui &#123;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">TaskbarProgress</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">class</span> <span class="title class_">TaskbarProgress</span> : <span class="keyword">public</span> QMainWindow</span><br><span class="line">&#123;</span><br><span class="line">    Q_OBJECT</span><br><span class="line"> </span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">explicit</span> <span class="title">TaskbarProgress</span><span class="params">(QWidget *parent = <span class="number">0</span>)</span></span>;</span><br><span class="line">    ~<span class="built_in">TaskbarProgress</span>();</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">onButtonClicked</span><span class="params">()</span></span>;</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">onTimeout</span><span class="params">()</span></span>;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    Ui::TaskbarProgress *ui;</span><br><span class="line"> </span><br><span class="line">    QTimer *timer;</span><br><span class="line"> </span><br><span class="line">    QWinTaskbarButton *windowsTaskbarButton;</span><br><span class="line"> </span><br><span class="line">    QWinTaskbarProgress *windowsTaskbarProgress;</span><br><span class="line">&#125;;</span><br><span class="line"> </span><br><span class="line"><span class="meta">#<span class="keyword">endif</span> <span class="comment">// TASKBARPROGRESS_H</span></span></span><br></pre></td></tr></table></figure><h3 id="3-cpp"><a href="#3-cpp" class="headerlink" title="3 .cpp"></a>3 .cpp</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;taskbarprogress.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;ui_taskbarprogress.h&quot;</span></span></span><br><span class="line"> </span><br><span class="line">TaskbarProgress::<span class="built_in">TaskbarProgress</span>(QWidget *parent) :</span><br><span class="line">    <span class="built_in">QMainWindow</span>(parent),</span><br><span class="line">    <span class="built_in">ui</span>(<span class="keyword">new</span> Ui::TaskbarProgress)</span><br><span class="line">&#123;</span><br><span class="line">    ui-&gt;<span class="built_in">setupUi</span>(<span class="keyword">this</span>);</span><br><span class="line"> </span><br><span class="line">    timer = <span class="keyword">new</span> QTimer;</span><br><span class="line">    timer-&gt;<span class="built_in">setInterval</span>(<span class="number">1000</span>);     <span class="comment">//è®¾ç½®æ—¶é—´é—´éš”</span></span><br><span class="line"> </span><br><span class="line">    <span class="comment">//åˆ›å»ºæ˜¾ç¤ºè¿›åº¦çš„ä»»åŠ¡æ æŒ‰é’®</span></span><br><span class="line">    windowsTaskbarButton = <span class="keyword">new</span> <span class="built_in">QWinTaskbarButton</span>(<span class="keyword">this</span>);</span><br><span class="line">    <span class="built_in">connect</span>(timer, &amp;QTimer::timeout, <span class="keyword">this</span>, &amp;TaskbarProgress::onTimeout);</span><br><span class="line">    <span class="built_in">connect</span>(ui-&gt;Btn_Start, &amp;QAbstractButton::clicked, <span class="keyword">this</span>, &amp;TaskbarProgress::onButtonClicked);</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">TaskbarProgress::~<span class="built_in">TaskbarProgress</span>()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">delete</span> ui;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">TaskbarProgress::onButtonClicked</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">//å°†ä»»åŠ¡æ æŒ‰é’®å…³è”åˆ°è¿›åº¦æ ï¼Œå‡è®¾è¿›åº¦æ æ˜¯å®ƒè‡ªå·±çš„çª—å£</span></span><br><span class="line">    windowsTaskbarButton-&gt;<span class="built_in">setWindow</span>(<span class="built_in">windowHandle</span>());</span><br><span class="line">    windowsTaskbarProgress = windowsTaskbarButton-&gt;<span class="built_in">progress</span>();</span><br><span class="line">    windowsTaskbarProgress-&gt;<span class="built_in">setRange</span>(<span class="number">0</span>, <span class="number">100</span>);</span><br><span class="line">    timer-&gt;<span class="built_in">start</span>();</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">TaskbarProgress::onTimeout</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">//å½“è¿›åº¦æ¡çš„å€¼å‘ç”Ÿå˜åŒ–æ—¶ï¼Œæ›´æ”¹ä»»åŠ¡æ ä¸­çš„è¿›åº¦å€¼</span></span><br><span class="line">    windowsTaskbarProgress-&gt;<span class="built_in">setValue</span>(windowsTaskbarProgress-&gt;<span class="built_in">value</span>() + <span class="number">20</span>);</span><br><span class="line">    windowsTaskbarProgress-&gt;<span class="built_in">show</span>();</span><br><span class="line">    <span class="keyword">if</span> (windowsTaskbarProgress-&gt;<span class="built_in">value</span>() &gt; <span class="number">99</span>) &#123;</span><br><span class="line">        windowsTaskbarProgress-&gt;<span class="built_in">setValue</span>(<span class="number">0</span>);</span><br><span class="line">        timer-&gt;<span class="built_in">stop</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> Qt </category>
          
          <category> åŠ¨ç”» </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Qt </tag>
            
            <tag> åŠ¨ç”» </tag>
            
            <tag> ä»»åŠ¡æ  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Qt åŠ¨ç”»æ•ˆæœ ï¼ˆæŠ–åŠ¨ã€ä¸‹å ã€é€æ˜åº¦ï¼‰</title>
      <link href="/Code/Qt/%E5%8A%A8%E7%94%BB/Qt%E5%8A%A8%E7%94%BB/"/>
      <url>/Code/Qt/%E5%8A%A8%E7%94%BB/Qt%E5%8A%A8%E7%94%BB/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æ”¶é›†æ•´ç†çš„ä¸€äº› Qt å¸¸ç”¨åŠ¨ç”»</p></blockquote><p>[toc]</p><h1 id="ä¸‹å æ•ˆæœ"><a href="#ä¸‹å æ•ˆæœ" class="headerlink" title="ä¸‹å æ•ˆæœ"></a>ä¸‹å æ•ˆæœ</h1><p>é€šè¿‡è®¡ç®—æ¡Œé¢çš„å®½åº¦ã€é«˜åº¦ï¼Œæ¥è®¾ç½®åŠ¨ç”»çš„èµ·å§‹å€¼å’Œç»“æŸå€¼ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">MainWindow::onDropWindow</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    QPropertyAnimation *pAnimation = <span class="keyword">new</span> <span class="built_in">QPropertyAnimation</span>(<span class="keyword">this</span>, <span class="string">&quot;geometry&quot;</span>);</span><br><span class="line">    QDesktopWidget *pDesktopWidget = QApplication::<span class="built_in">desktop</span>();</span><br><span class="line">    <span class="type">int</span> x = (pDesktopWidget-&gt;<span class="built_in">availableGeometry</span>().<span class="built_in">width</span>() - <span class="built_in">width</span>()) / <span class="number">2</span>;</span><br><span class="line">    <span class="type">int</span> y = (pDesktopWidget-&gt;<span class="built_in">availableGeometry</span>().<span class="built_in">height</span>() - <span class="built_in">height</span>()) / <span class="number">2</span>;</span><br><span class="line">    pAnimation-&gt;<span class="built_in">setDuration</span>(<span class="number">1000</span>);</span><br><span class="line">    pAnimation-&gt;<span class="built_in">setStartValue</span>(<span class="built_in">QRect</span>(x, <span class="number">0</span>, <span class="built_in">width</span>(), <span class="built_in">height</span>()));</span><br><span class="line">    pAnimation-&gt;<span class="built_in">setEndValue</span>(<span class="built_in">QRect</span>(x, y, <span class="built_in">width</span>(), <span class="built_in">height</span>()));</span><br><span class="line">    pAnimation-&gt;<span class="built_in">setEasingCurve</span>(QEasingCurve::OutElastic);</span><br><span class="line">    pAnimation-&gt;<span class="built_in">start</span>(QAbstractAnimation::DeleteWhenStopped);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="æŠ–åŠ¨æ•ˆæœ"><a href="#æŠ–åŠ¨æ•ˆæœ" class="headerlink" title="æŠ–åŠ¨æ•ˆæœ"></a>æŠ–åŠ¨æ•ˆæœ</h1><p>è·å–ç•Œé¢çš„åæ ‡ï¼Œç„¶åè¿›è¡Œä¸Šã€ä¸‹ã€å·¦ã€å³åæ ‡æµ®åŠ¨ï¼Œé€šè¿‡setKeyValueAt()æ¥è®¾ç½®æ¯ä¸€æ—¶åˆ»çš„ä½ç½®ï¼Œå®ç°æŠ–åŠ¨æ•ˆæœã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">MainWindow::onShakeWindow</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    QPropertyAnimation *pAnimation = <span class="keyword">new</span> <span class="built_in">QPropertyAnimation</span>(<span class="keyword">this</span>, <span class="string">&quot;pos&quot;</span>);</span><br><span class="line">    pAnimation-&gt;<span class="built_in">setDuration</span>(<span class="number">500</span>);</span><br><span class="line">    pAnimation-&gt;<span class="built_in">setLoopCount</span>(<span class="number">2</span>);</span><br><span class="line">    pAnimation-&gt;<span class="built_in">setKeyValueAt</span>(<span class="number">0</span>, <span class="built_in">QPoint</span>(<span class="built_in">geometry</span>().<span class="built_in">x</span>() - <span class="number">3</span>, <span class="built_in">geometry</span>().<span class="built_in">y</span>() - <span class="number">3</span>));</span><br><span class="line">    pAnimation-&gt;<span class="built_in">setKeyValueAt</span>(<span class="number">0.1</span>, <span class="built_in">QPoint</span>(<span class="built_in">geometry</span>().<span class="built_in">x</span>() + <span class="number">6</span>, <span class="built_in">geometry</span>().<span class="built_in">y</span>() + <span class="number">6</span>));</span><br><span class="line">    pAnimation-&gt;<span class="built_in">setKeyValueAt</span>(<span class="number">0.2</span>, <span class="built_in">QPoint</span>(<span class="built_in">geometry</span>().<span class="built_in">x</span>() - <span class="number">6</span>, <span class="built_in">geometry</span>().<span class="built_in">y</span>() + <span class="number">6</span>));</span><br><span class="line">    pAnimation-&gt;<span class="built_in">setKeyValueAt</span>(<span class="number">0.3</span>, <span class="built_in">QPoint</span>(<span class="built_in">geometry</span>().<span class="built_in">x</span>() + <span class="number">6</span>, <span class="built_in">geometry</span>().<span class="built_in">y</span>() - <span class="number">6</span>));</span><br><span class="line">    pAnimation-&gt;<span class="built_in">setKeyValueAt</span>(<span class="number">0.4</span>, <span class="built_in">QPoint</span>(<span class="built_in">geometry</span>().<span class="built_in">x</span>() - <span class="number">6</span>, <span class="built_in">geometry</span>().<span class="built_in">y</span>() - <span class="number">6</span>));</span><br><span class="line">    pAnimation-&gt;<span class="built_in">setKeyValueAt</span>(<span class="number">0.5</span>, <span class="built_in">QPoint</span>(<span class="built_in">geometry</span>().<span class="built_in">x</span>() + <span class="number">6</span>, <span class="built_in">geometry</span>().<span class="built_in">y</span>() + <span class="number">6</span>));</span><br><span class="line">    pAnimation-&gt;<span class="built_in">setKeyValueAt</span>(<span class="number">0.6</span>, <span class="built_in">QPoint</span>(<span class="built_in">geometry</span>().<span class="built_in">x</span>() - <span class="number">6</span>, <span class="built_in">geometry</span>().<span class="built_in">y</span>() + <span class="number">6</span>));</span><br><span class="line">    pAnimation-&gt;<span class="built_in">setKeyValueAt</span>(<span class="number">0.7</span>, <span class="built_in">QPoint</span>(<span class="built_in">geometry</span>().<span class="built_in">x</span>() + <span class="number">6</span>, <span class="built_in">geometry</span>().<span class="built_in">y</span>() - <span class="number">6</span>));</span><br><span class="line">    pAnimation-&gt;<span class="built_in">setKeyValueAt</span>(<span class="number">0.8</span>, <span class="built_in">QPoint</span>(<span class="built_in">geometry</span>().<span class="built_in">x</span>() - <span class="number">6</span>, <span class="built_in">geometry</span>().<span class="built_in">y</span>() - <span class="number">6</span>));</span><br><span class="line">    pAnimation-&gt;<span class="built_in">setKeyValueAt</span>(<span class="number">0.9</span>, <span class="built_in">QPoint</span>(<span class="built_in">geometry</span>().<span class="built_in">x</span>() + <span class="number">6</span>, <span class="built_in">geometry</span>().<span class="built_in">y</span>() + <span class="number">6</span>));</span><br><span class="line">    pAnimation-&gt;<span class="built_in">setKeyValueAt</span>(<span class="number">1</span>, <span class="built_in">QPoint</span>(<span class="built_in">geometry</span>().<span class="built_in">x</span>() - <span class="number">3</span>, <span class="built_in">geometry</span>().<span class="built_in">y</span>() - <span class="number">3</span>));</span><br><span class="line">    pAnimation-&gt;<span class="built_in">start</span>(QAbstractAnimation::DeleteWhenStopped);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="é€æ˜åº¦æ•ˆæœ"><a href="#é€æ˜åº¦æ•ˆæœ" class="headerlink" title="é€æ˜åº¦æ•ˆæœ"></a>é€æ˜åº¦æ•ˆæœ</h1><p>è®¾ç½®æ¯ä¸€æ—¶åˆ»çš„é€æ˜åº¦å€¼ï¼ŒåŠ¨ç”»ç»“æŸæ—¶ç•Œé¢è¿˜åŸï¼ˆé€æ˜åº¦å†ä¸º1ï¼‰ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">MainWindow::onOpacityWindow</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    QPropertyAnimation *pAnimation = <span class="keyword">new</span> <span class="built_in">QPropertyAnimation</span>(<span class="keyword">this</span>, <span class="string">&quot;windowOpacity&quot;</span>);</span><br><span class="line">    pAnimation-&gt;<span class="built_in">setDuration</span>(<span class="number">1000</span>);</span><br><span class="line">    pAnimation-&gt;<span class="built_in">setKeyValueAt</span>(<span class="number">0</span>, <span class="number">1</span>);</span><br><span class="line">    pAnimation-&gt;<span class="built_in">setKeyValueAt</span>(<span class="number">0.5</span>, <span class="number">0</span>);</span><br><span class="line">    pAnimation-&gt;<span class="built_in">setKeyValueAt</span>(<span class="number">1</span>, <span class="number">1</span>);</span><br><span class="line">    pAnimation-&gt;<span class="built_in">start</span>(QAbstractAnimation::DeleteWhenStopped);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ˜¯ä¸æ˜¯å¾ˆæœ‰è¶£ï¼Œè¿˜ä¸å¿«ç‚¹å„¿ï¼Œå®ç°å±äºè‡ªå·±çš„åŠ¨ç”»ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> Qt </category>
          
          <category> åŠ¨ç”» </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Qt </tag>
            
            <tag> åŠ¨ç”» </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>QStackWidgetåŠ¨ç”»ï¼ˆ1ï¼‰</title>
      <link href="/Code/Qt/%E5%8A%A8%E7%94%BB/QStackWidget%E5%8A%A8%E7%94%BB/"/>
      <url>/Code/Qt/%E5%8A%A8%E7%94%BB/QStackWidget%E5%8A%A8%E7%94%BB/</url>
      
        <content type="html"><![CDATA[<p>ä½¿ç”¨ç›´æ¥æå‡ä¸ºç»„ä»¶ä¸ºå½“å‰ç»„ä»¶å³å¯ã€‚</p><p>.h</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> QANIMATIONSTACKEDWIDGET_H</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> QANIMATIONSTACKEDWIDGET_H</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QStackedWidget&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QVariant&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">QPropertyAnimation</span>;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">QGraphicsOpacityEffect</span>;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">QParallelAnimationGroup</span>;</span><br><span class="line"><span class="comment">//class QVariant;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">QAnimationStackedWidget</span> : <span class="keyword">public</span> QStackedWidget</span><br><span class="line">&#123;</span><br><span class="line">    Q_OBJECT</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">explicit</span> <span class="title">QAnimationStackedWidget</span><span class="params">(QWidget *parent = Q_NULLPTR)</span></span>;</span><br><span class="line"></span><br><span class="line">    ~<span class="built_in">QAnimationStackedWidget</span>();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">Next</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">SwitchToIndex</span><span class="params">(<span class="type">int</span> NextIndex, <span class="type">bool</span> bFront = <span class="literal">true</span>)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">setCurrentWidget</span><span class="params">(QWidget* widget)</span></span>;</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">paintEvent</span><span class="params">(QPaintEvent *e)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    QParallelAnimationGroup* m_ParlGroup;</span><br><span class="line"></span><br><span class="line">    QPropertyAnimation *m_pAnimPrty;</span><br><span class="line"></span><br><span class="line">    QGraphicsOpacityEffect* m_pAnimGraphicsEffect;</span><br><span class="line">    QPropertyAnimation* m_pAnimGraphics;</span><br><span class="line"></span><br><span class="line">    <span class="type">bool</span> m_bAnimation;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> m_nDuration;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> m_nWidgetCount;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> m_nNextIndex;</span><br><span class="line"></span><br><span class="line">    QVariant m_nCurValue;</span><br><span class="line"></span><br><span class="line">    <span class="type">bool</span> m_bMoveFront;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">Init</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">paintPrevious</span><span class="params">(QPainter &amp;paint, <span class="type">int</span> currentIndex)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">paintNext</span><span class="params">(QPainter &amp;paint, <span class="type">int</span> nextIndex)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">moveAnimationStart</span><span class="params">(<span class="type">bool</span> bEnter)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> slots:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">slotAnimationValueChanged</span><span class="params">(QVariant value)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">slotAnimationFinished</span><span class="params">()</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span> <span class="comment">// QANIMATIONSTACKEDWIDGET_H</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>.cpp</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;QAnimationStackedWidget.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QPropertyAnimation&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QPainter&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QParallelAnimationGroup&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QGraphicsOpacityEffect&gt;</span></span></span><br><span class="line"></span><br><span class="line">QAnimationStackedWidget::<span class="built_in">QAnimationStackedWidget</span>(QWidget *parent) :</span><br><span class="line">    <span class="built_in">QStackedWidget</span>(parent)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">Init</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">QAnimationStackedWidget::~<span class="built_in">QAnimationStackedWidget</span>()</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">QAnimationStackedWidget::Init</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    m_bAnimation = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">    m_nDuration = <span class="number">350</span>;</span><br><span class="line"></span><br><span class="line">    m_ParlGroup = <span class="keyword">new</span> <span class="built_in">QParallelAnimationGroup</span>();</span><br><span class="line"></span><br><span class="line">    m_pAnimGraphicsEffect = <span class="keyword">new</span> <span class="built_in">QGraphicsOpacityEffect</span>(<span class="keyword">this</span>);</span><br><span class="line">    m_pAnimGraphicsEffect-&gt;<span class="built_in">setOpacity</span>(<span class="number">1</span>);</span><br><span class="line"><span class="keyword">this</span>-&gt;<span class="built_in">setGraphicsEffect</span>(m_pAnimGraphicsEffect);</span><br><span class="line"></span><br><span class="line">m_pAnimGraphics = <span class="keyword">new</span> <span class="built_in">QPropertyAnimation</span>(m_pAnimGraphicsEffect, <span class="string">&quot;opacity&quot;</span>);</span><br><span class="line">    m_pAnimPrty = <span class="keyword">new</span> <span class="built_in">QPropertyAnimation</span>(<span class="keyword">this</span>, <span class="built_in">QByteArray</span>());</span><br><span class="line">    <span class="built_in">connect</span>(m_pAnimPrty, <span class="built_in">SIGNAL</span>(<span class="built_in">valueChanged</span>(QVariant)), <span class="keyword">this</span>, <span class="built_in">SLOT</span>(<span class="built_in">slotAnimationValueChanged</span>(QVariant)));</span><br><span class="line">    <span class="built_in">connect</span>(m_pAnimPrty, <span class="built_in">SIGNAL</span>(<span class="built_in">finished</span>()), <span class="keyword">this</span>, <span class="built_in">SLOT</span>(<span class="built_in">slotAnimationFinished</span>()));</span><br><span class="line"></span><br><span class="line">    m_pAnimPrty-&gt;<span class="built_in">setEasingCurve</span>(QEasingCurve::InOutQuad);</span><br><span class="line">    m_pAnimGraphics-&gt;<span class="built_in">setEasingCurve</span>(QEasingCurve::InOutQuad);</span><br><span class="line"></span><br><span class="line">m_ParlGroup-&gt;<span class="built_in">addAnimation</span>(m_pAnimPrty);</span><br><span class="line">m_ParlGroup-&gt;<span class="built_in">addAnimation</span>(m_pAnimGraphics);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">QAnimationStackedWidget::slotAnimationValueChanged</span><span class="params">(QVariant value)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    m_nCurValue = value;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">update</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">QAnimationStackedWidget::slotAnimationFinished</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    m_bAnimation = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">widget</span>(<span class="built_in">currentIndex</span>())-&gt;<span class="built_in">show</span>();</span><br><span class="line"></span><br><span class="line">    <span class="built_in">setCurrentIndex</span>(m_nNextIndex);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">QAnimationStackedWidget::paintEvent</span><span class="params">(QPaintEvent *e)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">Q_UNUSED</span>(e)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(m_bAnimation)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function">QPainter <span class="title">paint</span><span class="params">(<span class="keyword">this</span>)</span></span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (m_bMoveFront)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//ç»˜åˆ¶å½“å‰Widget</span></span><br><span class="line">            <span class="built_in">paintPrevious</span>(paint, <span class="built_in">currentIndex</span>());</span><br><span class="line"></span><br><span class="line">            <span class="comment">//ç»˜åˆ¶ä¸‹ä¸€ä¸ªwidget</span></span><br><span class="line">            <span class="built_in">paintNext</span>(paint, m_nNextIndex);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//ç»˜åˆ¶å½“å‰Widget</span></span><br><span class="line">            <span class="built_in">paintPrevious</span>(paint, m_nNextIndex);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//ç»˜åˆ¶ä¸‹ä¸€ä¸ªwidget</span></span><br><span class="line">            <span class="built_in">paintNext</span>(paint, <span class="built_in">currentIndex</span>());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">QAnimationStackedWidget::paintPrevious</span><span class="params">(QPainter &amp;paint, <span class="type">int</span> currentIndex)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//è·å¾—å½“å‰é¡µé¢çš„Widget</span></span><br><span class="line">    QWidget *w = <span class="built_in">widget</span>(currentIndex);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ‡æ¢è¿‡ç¨‹çª—å£çš„èƒŒæ™¯è‰²</span></span><br><span class="line">    QString strStyle = <span class="built_in">QString</span>(<span class="string">&quot;#%1&#123;background-color: #FFFFFF&#125;&quot;</span>).<span class="built_in">arg</span>(w-&gt;<span class="built_in">objectName</span>());</span><br><span class="line"></span><br><span class="line">    w-&gt;<span class="built_in">setStyleSheet</span>(strStyle);</span><br><span class="line"></span><br><span class="line">    <span class="function">QPixmap <span class="title">pixmap</span><span class="params">(w-&gt;size())</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//å°†Widgetçš„å†…å®¹æ¸²æŸ“åˆ°QPixmapå¯¹è±¡ä¸­ï¼Œå³å°†Widgetå˜æˆä¸€å¼ å›¾ç‰‡</span></span><br><span class="line">    w-&gt;<span class="built_in">render</span>(&amp;pixmap);</span><br><span class="line"></span><br><span class="line">    QRect r = w-&gt;<span class="built_in">geometry</span>();</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ç»˜åˆ¶å½“å‰çš„Widget</span></span><br><span class="line">    <span class="type">double</span> value = m_nCurValue.<span class="built_in">toDouble</span>();</span><br><span class="line">    <span class="function">QRectF <span class="title">r1</span><span class="params">(<span class="number">0.0</span>, <span class="number">0.0</span>, value, r.height())</span></span>;</span><br><span class="line">    <span class="function">QRectF <span class="title">r2</span><span class="params">(r.width() - value, <span class="number">0</span>, value, r.height())</span></span>;</span><br><span class="line">    paint.<span class="built_in">drawPixmap</span>(r1, pixmap, r2);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">QAnimationStackedWidget::paintNext</span><span class="params">(QPainter &amp;paint, <span class="type">int</span> nextIndex)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    QWidget *nextWidget = <span class="built_in">widget</span>(nextIndex);</span><br><span class="line"></span><br><span class="line">    QString strStyle = <span class="built_in">QString</span>(<span class="string">&quot;#%1&#123;background-color: #FFFFFF&#125;&quot;</span>).<span class="built_in">arg</span>(nextWidget-&gt;<span class="built_in">objectName</span>());</span><br><span class="line"></span><br><span class="line">    nextWidget-&gt;<span class="built_in">setStyleSheet</span>(strStyle);</span><br><span class="line"></span><br><span class="line">    QRect r = <span class="built_in">geometry</span>();</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è¿™è¡Œä»£ç ä¸åŠ ä¼šæœ‰bugï¼Œç¬¬ä¸€æ¬¡åˆ‡æ¢çš„æ—¶å€™ï¼ŒQStackedWidgetå¹¶æ²¡æœ‰ä¸ºchildåˆ†é…å¤§å°</span></span><br><span class="line">    nextWidget-&gt;<span class="built_in">resize</span>(r.<span class="built_in">width</span>(), r.<span class="built_in">height</span>());</span><br><span class="line">    <span class="function">QPixmap <span class="title">nextPixmap</span><span class="params">(nextWidget-&gt;size())</span></span>;</span><br><span class="line"></span><br><span class="line">    nextWidget-&gt;<span class="built_in">render</span>(&amp;nextPixmap);</span><br><span class="line">    <span class="type">double</span> value = m_nCurValue.<span class="built_in">toDouble</span>();</span><br><span class="line">    <span class="function">QRectF <span class="title">r1</span><span class="params">(value, <span class="number">0.0</span>, r.width() - value, r.height())</span></span>;</span><br><span class="line">    <span class="function">QRectF <span class="title">r2</span><span class="params">(<span class="number">0.0</span>, <span class="number">0.0</span>, r.width() - value, r.height())</span></span>;</span><br><span class="line"></span><br><span class="line">    paint.<span class="built_in">drawPixmap</span>(r1, nextPixmap, r2);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">QAnimationStackedWidget::moveAnimationStart</span><span class="params">(<span class="type">bool</span> bEnter)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span> (bEnter)</span><br><span class="line">&#123;</span><br><span class="line">m_pAnimPrty-&gt;<span class="built_in">setStartValue</span>(<span class="keyword">this</span>-&gt;<span class="built_in">width</span>());</span><br><span class="line">m_pAnimPrty-&gt;<span class="built_in">setEndValue</span>(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">m_pAnimGraphics-&gt;<span class="built_in">setDuration</span>(m_nDuration);</span><br><span class="line">m_pAnimGraphics-&gt;<span class="built_in">setStartValue</span>(<span class="number">0</span>);</span><br><span class="line">m_pAnimGraphics-&gt;<span class="built_in">setEndValue</span>(<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">m_pAnimPrty-&gt;<span class="built_in">setStartValue</span>(<span class="number">0</span>);</span><br><span class="line">m_pAnimPrty-&gt;<span class="built_in">setEndValue</span>(<span class="keyword">this</span>-&gt;<span class="built_in">width</span>());</span><br><span class="line"></span><br><span class="line">m_pAnimGraphics-&gt;<span class="built_in">setDuration</span>(m_nDuration);</span><br><span class="line">m_pAnimGraphics-&gt;<span class="built_in">setStartValue</span>(<span class="number">0</span>);</span><br><span class="line">m_pAnimGraphics-&gt;<span class="built_in">setEndValue</span>(<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">m_pAnimPrty-&gt;<span class="built_in">setDuration</span>(m_nDuration);</span><br><span class="line"></span><br><span class="line"><span class="comment">// m_pAnimPrty-&gt;start();</span></span><br><span class="line"></span><br><span class="line">m_ParlGroup-&gt;<span class="built_in">start</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">QAnimationStackedWidget::SwitchToIndex</span><span class="params">(<span class="type">int</span> index, <span class="type">bool</span> bFront)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//å¦‚æœæ­£åœ¨åŠ¨ç”»ï¼Œé‚£ä¹ˆreturn</span></span><br><span class="line">    <span class="type">int</span> curIndex = <span class="built_in">currentIndex</span>();</span><br><span class="line"></span><br><span class="line">    m_bMoveFront = bFront;</span><br><span class="line">    m_bAnimation = <span class="literal">true</span>;</span><br><span class="line">    m_nWidgetCount = <span class="built_in">count</span>();</span><br><span class="line"></span><br><span class="line">    m_nNextIndex = index;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//éšè—å½“å‰çš„widget</span></span><br><span class="line">    <span class="built_in">widget</span>(curIndex)-&gt;<span class="built_in">hide</span>();</span><br><span class="line"></span><br><span class="line">    <span class="comment">//å¼€å§‹åŠ¨ç”»å¹¶è®¾ç½®é—´éš”å’Œå¼€å§‹ã€ç»“æŸå€¼</span></span><br><span class="line">    QRect g = <span class="built_in">geometry</span>();</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> width = g.<span class="built_in">width</span>();</span><br><span class="line"></span><br><span class="line">    bFront = index &gt;= curIndex;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">moveAnimationStart</span>(bFront);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">QAnimationStackedWidget::setCurrentWidget</span><span class="params">(QWidget* widget)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">int</span> index = <span class="built_in">indexOf</span>(widget);</span><br><span class="line">    <span class="built_in">SwitchToIndex</span>(index);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">QAnimationStackedWidget::Next</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//å¦‚æœæ­£åœ¨åŠ¨ç”»ï¼Œé‚£ä¹ˆreturn</span></span><br><span class="line">    <span class="keyword">if</span>(m_bAnimation)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    m_bAnimation = <span class="literal">true</span>;</span><br><span class="line">    m_nWidgetCount = <span class="built_in">count</span>();</span><br><span class="line">    <span class="type">int</span> nIndex = <span class="built_in">currentIndex</span>();</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è®¡ç®—ä¸‹ä¸€é¡µçš„ç´¢å¼•</span></span><br><span class="line">    m_nNextIndex = (nIndex + <span class="number">1</span>) % m_nWidgetCount;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//éšè—å½“å‰çš„widget</span></span><br><span class="line">    <span class="built_in">widget</span>(nIndex)-&gt;<span class="built_in">hide</span>();</span><br><span class="line"></span><br><span class="line">    <span class="comment">//å¼€å§‹åŠ¨ç”»å¹¶è®¾ç½®é—´éš”å’Œå¼€å§‹ã€ç»“æŸå€¼</span></span><br><span class="line">    QRect g = <span class="built_in">geometry</span>();</span><br><span class="line">    <span class="type">int</span> x = g.<span class="built_in">x</span>();</span><br><span class="line">    <span class="type">int</span> width = g.<span class="built_in">width</span>();</span><br><span class="line">    m_pAnimPrty-&gt;<span class="built_in">setStartValue</span>(width);</span><br><span class="line">    m_pAnimPrty-&gt;<span class="built_in">setEndValue</span>(<span class="number">0</span>);</span><br><span class="line">    m_pAnimPrty-&gt;<span class="built_in">setDuration</span>(m_nDuration);</span><br><span class="line">    m_pAnimPrty-&gt;<span class="built_in">start</span>();</span><br><span class="line"></span><br><span class="line">    <span class="built_in">Q_UNUSED</span>(x)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> Qt </category>
          
          <category> åŠ¨ç”» </category>
          
      </categories>
      
      
        <tags>
            
            <tag> åŠ¨ç”» </tag>
            
            <tag> QStackWidget </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>QStackWidgetåŠ¨ç”»(2)</title>
      <link href="/Code/Qt/%E5%8A%A8%E7%94%BB/QStackWidget%E5%8A%A8%E7%94%BB2/"/>
      <url>/Code/Qt/%E5%8A%A8%E7%94%BB/QStackWidget%E5%8A%A8%E7%94%BB2/</url>
      
        <content type="html"><![CDATA[<blockquote><p>QStackWidget åˆ‡æ¢åŠ¨ç”»çš„å®ç°æ–¹å¼ï¼Œé€šè¿‡é‡å†™ <code>QWidget</code> å®ç°</p></blockquote><p>ä½¿ç”¨é‡å†™å®ç°çš„åˆ‡æ¢åŠ¨ç”»ä½¿ç”¨å’Œå±•ç¤ºä¸Šæ›´ç¨³å®šï¼Œæ¨èä½¿ç”¨å½“å‰è¿™ä¸ªã€‚</p><h1 id="h-æ–‡ä»¶"><a href="#h-æ–‡ä»¶" class="headerlink" title=".h æ–‡ä»¶"></a>.h æ–‡ä»¶</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> MYSTACKWIDGET_H</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> MYSTACKWIDGET_H</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QPropertyAnimation&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyStackWidget</span> : <span class="keyword">public</span> QWidget</span><br><span class="line">&#123;</span><br><span class="line">    Q_OBJECT</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">MyStackWidget</span>(QWidget *parent);</span><br><span class="line">    ~<span class="built_in">MyStackWidget</span>();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">addWidget</span><span class="params">(QWidget *widget)</span></span>;             <span class="comment">//æ·»åŠ æ§ä»¶</span></span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">insertWidget</span><span class="params">(<span class="type">int</span> index, QWidget *widget)</span></span>;   <span class="comment">//æ’å…¥æ§ä»¶</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">removeWidget</span><span class="params">(QWidget *widget)</span></span>;         <span class="comment">//åˆ é™¤æ§ä»¶</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">count</span><span class="params">()</span> <span class="type">const</span></span>;                          <span class="comment">//ç›®å‰æ§ä»¶æ•°</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">setWidgetsVisible</span><span class="params">()</span></span>;                   <span class="comment">//è®¾ç½®æ§ä»¶å¯è§</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">setCurrentWidget</span><span class="params">(QWidget *widget)</span></span>;     <span class="comment">//è®¾ç½®å½“å‰widgetæ˜¾ç¤º</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">setCurrentIndex</span><span class="params">(<span class="type">int</span> index)</span></span>;</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">currentIndex</span><span class="params">()</span> <span class="type">const</span></span>;                   <span class="comment">//è·å–å½“å‰æ˜¾ç¤ºä½ç½®</span></span><br><span class="line"></span><br><span class="line">    <span class="function">QWidget *<span class="title">currentWidget</span><span class="params">()</span> <span class="type">const</span></span>;             <span class="comment">//è·å–å½“å‰æ˜¾ç¤ºçš„æ§ä»¶</span></span><br><span class="line">    <span class="function">QWidget *<span class="title">widget</span><span class="params">(<span class="type">int</span> index)</span> <span class="type">const</span></span>;</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">indexOf</span><span class="params">(QWidget *widget)</span> <span class="type">const</span></span>;         <span class="comment">//è·å–widgetæ‰€åœ¨ä½ç½®</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">setDuration</span><span class="params">(<span class="type">int</span> duration)</span></span>;             <span class="comment">//è®¾ç½®åŠ¨ç”»æ—¶é•¿</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">resizeEvent</span><span class="params">(QResizeEvent *event)</span></span>;</span><br><span class="line"></span><br><span class="line">signals:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">widgetRemoved</span><span class="params">(<span class="type">int</span>)</span></span>;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">currentChanged</span><span class="params">(<span class="type">int</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> slots:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">onValueChanged</span><span class="params">(<span class="type">const</span> QVariant &amp;value)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    QList&lt;QWidget *&gt; m_widgetLst;           <span class="comment">//åŠ å…¥çš„æ§ä»¶é“¾è¡¨</span></span><br><span class="line">    QPropertyAnimation *m_moveAnimation;    <span class="comment">//åŠ¨ç”»ç±»</span></span><br><span class="line">    <span class="type">int</span> m_curIndex = <span class="number">0</span>;                     <span class="comment">//å½“å‰æ˜¾ç¤ºä½ç½®</span></span><br><span class="line">    <span class="type">int</span> m_offset = <span class="number">0</span>;                       <span class="comment">//éœ€è¦æ˜¾ç¤ºçš„ä½ç½®ä¸å½“å‰æ˜¾ç¤ºçš„ä½ç½®çš„åå·®</span></span><br><span class="line">    <span class="type">int</span> m_lastIndex = <span class="number">0</span>;                    <span class="comment">//æœ€åä½ç½®</span></span><br><span class="line">    <span class="type">int</span> m_duration = <span class="number">500</span>;                   <span class="comment">//åŠ¨ç”»æ˜¾ç¤ºæ—¶é•¿ï¼Œå•ä½:ms</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">moveAnimationStart</span><span class="params">()</span></span>;              <span class="comment">//å¯åŠ¨ç§»åŠ¨åŠ¨ç”»</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span> <span class="comment">// MYSTACKWIDGET_H</span></span></span><br></pre></td></tr></table></figure><h1 id="cpp-æ–‡ä»¶"><a href="#cpp-æ–‡ä»¶" class="headerlink" title=".cpp æ–‡ä»¶"></a>.cpp æ–‡ä»¶</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;mystackwidget.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QDebug&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QPropertyAnimation&gt;</span></span></span><br><span class="line"></span><br><span class="line">MyStackWidget::<span class="built_in">MyStackWidget</span>(QWidget *parent)</span><br><span class="line">    : <span class="built_in">QWidget</span>(parent)</span><br><span class="line">&#123;</span><br><span class="line">    m_offset = <span class="number">0</span>;</span><br><span class="line">    m_curIndex = <span class="number">0</span>;</span><br><span class="line">    m_lastIndex = <span class="number">0</span>;</span><br><span class="line">    m_duration = <span class="number">500</span>;</span><br><span class="line">    m_moveAnimation = <span class="keyword">new</span> <span class="built_in">QPropertyAnimation</span>(<span class="keyword">this</span>, <span class="string">&quot;&quot;</span>);</span><br><span class="line">    m_moveAnimation-&gt;<span class="built_in">setDuration</span>(m_duration);</span><br><span class="line">    <span class="built_in">connect</span>(m_moveAnimation, &amp;QPropertyAnimation::valueChanged, <span class="keyword">this</span>, &amp;MyStackWidget::onValueChanged);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">MyStackWidget::~<span class="built_in">MyStackWidget</span>()</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">MyStackWidget::count</span><span class="params">()</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> m_widgetLst.<span class="built_in">size</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">MyStackWidget::currentIndex</span><span class="params">()</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> m_curIndex;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">MyStackWidget::setDuration</span><span class="params">(<span class="type">int</span> duration)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    m_duration = duration;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">MyStackWidget::addWidget</span><span class="params">(QWidget * widget)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> index = <span class="built_in">indexOf</span>(widget);</span><br><span class="line">    <span class="keyword">if</span> (index &gt;= <span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> index;</span><br><span class="line">    &#125;</span><br><span class="line">    widget-&gt;<span class="built_in">setParent</span>(<span class="keyword">this</span>);</span><br><span class="line">    m_widgetLst.<span class="built_in">append</span>(widget);</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">count</span>() - <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">MyStackWidget::indexOf</span><span class="params">(QWidget * widget)</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> m_widgetLst.<span class="built_in">indexOf</span>(widget);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">MyStackWidget::insertWidget</span><span class="params">(<span class="type">int</span> index, QWidget * widget)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> curindex = <span class="built_in">indexOf</span>(widget);</span><br><span class="line">    <span class="keyword">if</span> (curindex &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> curindex;</span><br><span class="line">    &#125;</span><br><span class="line">    widget-&gt;<span class="built_in">setParent</span>(<span class="keyword">this</span>);</span><br><span class="line">    m_widgetLst.<span class="built_in">insert</span>(index, widget);</span><br><span class="line">    <span class="keyword">return</span> index;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">QWidget * <span class="title">MyStackWidget::currentWidget</span><span class="params">()</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (m_curIndex &gt;= <span class="number">0</span> &amp;&amp; m_curIndex &lt; <span class="built_in">count</span>())&#123;</span><br><span class="line">        <span class="keyword">return</span> m_widgetLst.<span class="built_in">at</span>(m_curIndex);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">nullptr</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">QWidget * <span class="title">MyStackWidget::widget</span><span class="params">(<span class="type">int</span> index)</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (index &gt;= <span class="number">0</span> &amp;&amp; index &lt; <span class="built_in">count</span>()) &#123;</span><br><span class="line">        <span class="keyword">return</span> m_widgetLst.<span class="built_in">at</span>(index);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">nullptr</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">MyStackWidget::removeWidget</span><span class="params">(QWidget * widget)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> index = <span class="built_in">indexOf</span>(widget);</span><br><span class="line">    <span class="keyword">if</span> (index &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">        m_widgetLst.<span class="built_in">removeAll</span>(widget);</span><br><span class="line">        <span class="function">emit <span class="title">widgetRemoved</span><span class="params">(index)</span></span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">MyStackWidget::setCurrentWidget</span><span class="params">(QWidget * widget)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> index = <span class="built_in">indexOf</span>(widget);</span><br><span class="line">    <span class="keyword">if</span> (index &gt;= <span class="number">0</span> &amp;&amp; m_curIndex != index) &#123;</span><br><span class="line">        <span class="built_in">setCurrentIndex</span>(index);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">MyStackWidget::setCurrentIndex</span><span class="params">(<span class="type">int</span> index)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (index &gt;= <span class="number">0</span> &amp;&amp; m_curIndex != index) &#123;</span><br><span class="line">        m_lastIndex = m_curIndex;</span><br><span class="line">        m_curIndex = index;</span><br><span class="line">        <span class="built_in">moveAnimationStart</span>();</span><br><span class="line">        <span class="function">emit <span class="title">currentChanged</span><span class="params">(index)</span></span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">MyStackWidget::resizeEvent</span><span class="params">(QResizeEvent *event)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    QWidget::<span class="built_in">resizeEvent</span>(event);</span><br><span class="line">    <span class="type">int</span> size = <span class="built_in">count</span>();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; size; i++) &#123;</span><br><span class="line">        m_widgetLst.<span class="built_in">at</span>(i)-&gt;<span class="built_in">resize</span>(<span class="keyword">this</span>-&gt;<span class="built_in">width</span>(), <span class="keyword">this</span>-&gt;<span class="built_in">height</span>());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (m_moveAnimation-&gt;<span class="built_in">state</span>() == QAbstractAnimation::Running) &#123;</span><br><span class="line">        <span class="built_in">moveAnimationStart</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">setWidgetsVisible</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">MyStackWidget::onValueChanged</span><span class="params">(<span class="type">const</span> QVariant &amp;value)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    m_offset = value.<span class="built_in">toInt</span>();</span><br><span class="line">    m_widgetLst.<span class="built_in">at</span>(m_curIndex)-&gt;<span class="built_in">move</span>(m_offset, <span class="number">0</span>);</span><br><span class="line">    <span class="keyword">if</span> (m_curIndex &gt; m_lastIndex) &#123;</span><br><span class="line">        m_widgetLst.<span class="built_in">at</span>(m_lastIndex)-&gt;<span class="built_in">move</span>(m_offset - <span class="keyword">this</span>-&gt;<span class="built_in">width</span>(), <span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        m_widgetLst.<span class="built_in">at</span>(m_lastIndex)-&gt;<span class="built_in">move</span>(<span class="keyword">this</span>-&gt;<span class="built_in">width</span>() + m_offset, <span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">MyStackWidget::moveAnimationStart</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    m_moveAnimation-&gt;<span class="built_in">stop</span>();</span><br><span class="line">    <span class="built_in">setWidgetsVisible</span>();</span><br><span class="line">    <span class="type">int</span> startOffset = m_offset;</span><br><span class="line">    <span class="keyword">if</span> (m_curIndex &gt; m_lastIndex) &#123;</span><br><span class="line">        <span class="keyword">if</span> (startOffset == <span class="number">0</span>) startOffset = <span class="keyword">this</span>-&gt;<span class="built_in">width</span>();</span><br><span class="line">        <span class="keyword">else</span> startOffset = <span class="keyword">this</span>-&gt;<span class="built_in">width</span>() - <span class="built_in">qAbs</span>(startOffset);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (startOffset == <span class="number">0</span>) startOffset = -<span class="keyword">this</span>-&gt;<span class="built_in">width</span>();</span><br><span class="line">        <span class="keyword">else</span> startOffset = <span class="built_in">qAbs</span>(startOffset) - <span class="keyword">this</span>-&gt;<span class="built_in">width</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    m_moveAnimation-&gt;<span class="built_in">setDuration</span>(<span class="built_in">qAbs</span>(startOffset) * m_duration / <span class="keyword">this</span>-&gt;<span class="built_in">width</span>());</span><br><span class="line">    m_moveAnimation-&gt;<span class="built_in">setStartValue</span>(startOffset);</span><br><span class="line">    m_moveAnimation-&gt;<span class="built_in">setEndValue</span>(<span class="number">0</span>);</span><br><span class="line">    m_moveAnimation-&gt;<span class="built_in">start</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">MyStackWidget::setWidgetsVisible</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> size = <span class="built_in">count</span>();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; size; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (m_lastIndex == i || m_curIndex == i)</span><br><span class="line">            m_widgetLst.<span class="built_in">at</span>(i)-&gt;<span class="built_in">setVisible</span>(<span class="literal">true</span>);</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            m_widgetLst.<span class="built_in">at</span>(i)-&gt;<span class="built_in">setVisible</span>(<span class="literal">false</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> Qt </category>
          
          <category> åŠ¨ç”» </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Qt </tag>
            
            <tag> åŠ¨ç”» </tag>
            
            <tag> QStackWidget </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Qt å›½é™…åŒ–</title>
      <link href="/Code/Qt/%E4%B8%AD%E8%8B%B1%E6%96%87%E5%88%87%E6%8D%A2/"/>
      <url>/Code/Qt/%E4%B8%AD%E8%8B%B1%E6%96%87%E5%88%87%E6%8D%A2/</url>
      
        <content type="html"><![CDATA[<p>æ”¯æŒå›½é™…åŒ–æ˜¯è½¯ä»¶å‘å¸ƒçš„åŸºæœ¬é¡¹ã€‚ç°é˜¶æ®µæˆ‘æ‰€åœ¨çš„é¡¹ç›®ä¹Ÿæ˜¯æœ‰äº†è¿™ä¸€éœ€æ±‚ï¼ŒåŸºäºQtå®ç°è¿™ä¸€éœ€æ±‚ä¹Ÿç›¸å¯¹æ¯”è¾ƒç®€å•ã€‚</p><p>[toc]</p><h1 id="Qtæ”¯æŒå›½é™…åŒ–"><a href="#Qtæ”¯æŒå›½é™…åŒ–" class="headerlink" title="# Qtæ”¯æŒå›½é™…åŒ–"></a># Qtæ”¯æŒå›½é™…åŒ–</h1><p>Qtå®‰è£…æ—¶ï¼Œå¸¦äº†ä¸€ä¸ª <code>Qt Linguist</code> çš„è½¯ä»¶ï¼Œè¿™ä¸ªè½¯ä»¶å°±æ˜¯ Qt ç”¨æ¥å®ç°è½¯ä»¶ç¿»è¯‘çš„å·¥å…·ã€‚åœ¨ Qt ä¸­ï¼Œæ‰€æœ‰çš„è¾“å…¥ä¸è§å’Œæ–‡æœ¬ç»˜åˆ¶æ–¹å¼å¯¹Qtæ”¯æŒçš„æ‰€æœ‰è¯­è¨€éƒ½æä¾›äº†å†…ç½®çš„æ”¯æŒã€‚Qtå†…ç½®çš„å­—ä½“å¼•æ“å¯ä»¥åœ¨åŒä¸€æ—¶é—´æ­£ç¡®è€Œä¸”ç²¾ç¡®åœ°ç»˜åˆ¶ä¸åŒçš„æ–‡æœ¬ï¼Œè¿™äº›æ–‡æœ¬å¯ä»¥åŒ…å«æ¥è‡ªä¼—å¤šä¸åŒä¹¦å†™ç³»ç»Ÿçš„å­—ç¬¦ã€‚</p><h1 id="ä½¿ç”¨-Qt-Linguist-ç¿»è¯‘å·¥å…·"><a href="#ä½¿ç”¨-Qt-Linguist-ç¿»è¯‘å·¥å…·" class="headerlink" title="# ä½¿ç”¨ Qt Linguist ç¿»è¯‘å·¥å…·"></a># ä½¿ç”¨ Qt Linguist ç¿»è¯‘å·¥å…·</h1><h2 id="tr-å‡½æ•°"><a href="#tr-å‡½æ•°" class="headerlink" title="tr()å‡½æ•°"></a><code>tr()</code>å‡½æ•°</h2><p>åœ¨Qtä¸­ç¼–å†™ä»£ç æ—¶è¦å¯¹éœ€è¦æ˜¾ç¤ºçš„å­—ç¬¦ä¸²è°ƒç”¨ <code>tr()</code> å‡½æ•°ï¼Œå®Œæˆä»£ç ç¼–å†™åå¯¹è¿™ä¸ªåº”ç”¨ç¨‹åºçš„ç¿»è¯‘ä¸»è¦åŒ…å«ä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š</p><blockquote><p>ä½¿ç”¨tr()å‡½æ•° -&gt; ä¿®æ”¹proæ–‡ä»¶ -&gt; æ›´æ–°è¯­è¨€æ–‡ä»¶ -&gt; å‘å¸ƒè¯­è¨€æ–‡ä»¶ -&gt; ä½¿ç”¨è¯­è¨€æ–‡ä»¶ï¼ˆQTranslatorï¼‰</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> Qt </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Qt å› ä¸ºæ§½å‡½æ•°é—®é¢˜æˆ–è€…é€»è¾‘é—®é¢˜å¯¼è‡´é‡å¤newé—®é¢˜è§£å†³åŠæ³•åŠå»ºè®®</title>
      <link href="/Code/Qt/%E5%86%85%E5%AD%98/%E9%87%8D%E5%A4%8Dnew%E9%97%AE%E9%A2%98/"/>
      <url>/Code/Qt/%E5%86%85%E5%AD%98/%E9%87%8D%E5%A4%8Dnew%E9%97%AE%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<p>[toc]</p><h1 id="æ§½å‡½æ•°ä¸­é‡å¤-new"><a href="#æ§½å‡½æ•°ä¸­é‡å¤-new" class="headerlink" title="æ§½å‡½æ•°ä¸­é‡å¤ new"></a>æ§½å‡½æ•°ä¸­é‡å¤ <code>new</code></h1><p>è¿™ä¸ªé—®é¢˜æ¯”éª„å¸¸è§ï¼Œä¸¾ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">connect</span>(timer, &amp;QTimer::timeout, <span class="keyword">this</span>, &amp;<span class="keyword">this</span>::slotCreateItem);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">slotCreateItem</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    QWidget *widget = <span class="keyword">new</span> <span class="built_in">QWidget</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">timer-&gt;<span class="built_in">start</span>(<span class="number">1000</span>);</span><br></pre></td></tr></table></figure><p>ä¸Šè¾¹åªæ˜¯ä¸ºäº†è¯´æ˜ä¸€ä¸‹ç±»ä¼¼çš„è¿™ç§æƒ…å†µï¼Œç”±äºä¸€äº›ç‰¹æ®ŠåŸå› å¯¼è‡´çš„æ§½å‡½æ•°ä¸­ä¼šå¤šæ¬¡è§¦å‘ <code>new</code> æ“ä½œã€‚</p><h2 id="è§£å†³åŠæ³•"><a href="#è§£å†³åŠæ³•" class="headerlink" title="è§£å†³åŠæ³•"></a>è§£å†³åŠæ³•</h2><ol><li><p>è®¾ç½®ä¸ºæˆå‘˜å˜é‡ï¼Œåœ¨è¿›å…¥å‡½æ•°æ—¶ï¼Œå…ˆæ‰§è¡Œ <code>delete</code> ï¼Œå†å» <code>new</code></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">slotCreateItem</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="literal">nullptr</span> == m_widget)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">delete</span> m_widget;</span><br><span class="line">        m_widget = <span class="literal">nullptr</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    m_widget = <span class="keyword">new</span> <span class="built_in">QWidget</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>ç¬¬äºŒç§åŠæ³•å°±æ˜¯è®¾ç½®æ§ä»¶å±æ€§</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">slotCreateItem</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    QWidget *widget = <span class="keyword">new</span> <span class="built_in">QWidget</span>();</span><br><span class="line">    widget-&gt;<span class="built_in">setAttribute</span>(WA_DeleteOnClose);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h1 id="æ§½å‡½æ•°å¤šæ¬¡ç»‘å®šé—®é¢˜"><a href="#æ§½å‡½æ•°å¤šæ¬¡ç»‘å®šé—®é¢˜" class="headerlink" title="æ§½å‡½æ•°å¤šæ¬¡ç»‘å®šé—®é¢˜"></a>æ§½å‡½æ•°å¤šæ¬¡ç»‘å®šé—®é¢˜</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">connect</span>(timer, &amp;QTimer::timeout, <span class="keyword">this</span>, &amp;<span class="keyword">this</span>::slotCreateItem);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">slotCreateItem</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">connect</span>(timer, &amp;QTimer::timeout, <span class="keyword">this</span>, &amp;<span class="keyword">this</span>::slotRePaint); <span class="comment">// æ¯è¿›å…¥ä¸€æ¬¡å°±ä¼šç»‘å®šä¸€æ¬¡ï¼Œæ¯ç»‘å®šä¸€æ¬¡ï¼Œè§¦å‘æ¬¡æ•°å°±ä¼šå¢åŠ ä¸€æ¬¡</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="è§£å†³åŠæ³•-1"><a href="#è§£å†³åŠæ³•-1" class="headerlink" title="è§£å†³åŠæ³•"></a>è§£å†³åŠæ³•</h2><p>ä½¿ç”¨ Qt çš„ç¬¬äº”ä¸ªå‚æ•°æ§åˆ¶ã€‚å°†ä¸Šè¿°ä»£ç æ”¹ä¸ºä»¥ä¸‹å½¢å¼</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">connect</span>(timer, &amp;QTimer::timeout, <span class="keyword">this</span>, &amp;<span class="keyword">this</span>::slotRePaint, Qt::UniqueConnection); <span class="comment">// ï¼ˆmodifyï¼‰æ¯è¿›å…¥ä¸€æ¬¡å°±ä¼šç»‘å®šä¸€æ¬¡ï¼Œæ¯ç»‘å®šä¸€æ¬¡ï¼Œè§¦å‘æ¬¡æ•°å°±ä¼šå¢åŠ ä¸€æ¬¡</span></span><br></pre></td></tr></table></figure><blockquote><p> <code>Qt::UniqueConnection</code>ï¼šè¿™æ˜¯ä¸€ä¸ªæ ‡è®°ï¼Œå¯ä»¥ä½¿ç”¨ä½æˆ–ä¸ä¸Šè¿°ä»»ä½•ä¸€ç§è¿æ¥ç±»å‹ç»“åˆä½¿ç”¨ã€‚å½“ <code>Qt::UniqueConnection</code> è¢«è®¾ç½®åï¼Œå¦‚æœè¿æ¥å·²ç»å­˜åœ¨ï¼Œ<code>QObject::connect()</code> å°†ä¼šå¤±è´¥(å³ï¼Œå¦‚æœç›¸åŒçš„ä¿¡å·å·²ç»ä¸ºåŒä¸€å¯¹å¯¹è±¡è¿æ¥åˆ°ç›¸åŒçš„æ§½ä½)ã€‚è¿™ä¸ªæ ‡å¿—æ˜¯åœ¨Qt 4.6ä¸­å¼•å…¥çš„ã€‚</p></blockquote><p>ä»¥ä¸‹ä¸º Qt ç¬¬äº”ä¸ªå‚æ•°å„ä¸ªå«ä¹‰ï¼š</p><table><thead><tr><th>å¸¸é‡</th><th>å€¼</th><th>æè¿°</th></tr></thead><tbody><tr><td>Qt::AutoConnection</td><td>0</td><td>(é»˜è®¤)å¦‚æœæ¥æ”¶å™¨ä½äºå‘å‡ºä¿¡å·çš„çº¿ç¨‹ä¸­ï¼Œåˆ™ä½¿ç”¨Qt::DirectConnectionã€‚å¦åˆ™ï¼Œä½¿ç”¨Qt::QueuedConnectionã€‚è¿æ¥ç±»å‹æ˜¯åœ¨ä¿¡å·å‘å‡ºæ—¶ç¡®å®šçš„ã€‚</td></tr><tr><td>Qt::DirectConnection</td><td>1</td><td>å‘å‡ºä¿¡å·æ—¶ç«‹å³è°ƒç”¨æ’æ§½ã€‚æ§½åœ¨ä¿¡ä»¤çº¿ç¨‹ä¸­æ‰§è¡Œã€‚</td></tr><tr><td>Qt::QueuedConnection</td><td>2</td><td>å½“æ§åˆ¶è¿”å›åˆ°æ¥æ”¶æ–¹çº¿ç¨‹çš„äº‹ä»¶å¾ªç¯æ—¶ï¼Œå°†è°ƒç”¨æ’æ§½ã€‚æ’æ§½åœ¨æ¥æ”¶æ–¹çš„çº¿ç¨‹ä¸­æ‰§è¡Œã€‚</td></tr><tr><td>Qt::BlockingQueuedConnection</td><td>3</td><td>ä¸Qt::QueuedConnectionç›¸åŒï¼Œé™¤äº†ä¿¡ä»¤çº¿ç¨‹é˜»å¡ç›´åˆ°æ’æ§½è¿”å›ã€‚å¦‚æœæ¥æ”¶ç«¯ä½äºä¿¡ä»¤çº¿ç¨‹ä¸­ï¼Œåˆ™ç»ä¸èƒ½ä½¿ç”¨æ­¤è¿æ¥ï¼Œå¦åˆ™åº”ç”¨ç¨‹åºå°†æ­»é”ã€‚</td></tr><tr><td>Qt::UniqueConnection</td><td>0x80</td><td>è¿™æ˜¯ä¸€ä¸ªæ ‡è®°ï¼Œå¯ä»¥ä½¿ç”¨ä½æˆ–ä¸ä¸Šè¿°ä»»ä½•ä¸€ç§è¿æ¥ç±»å‹ç»“åˆä½¿ç”¨ã€‚å½“Qt::UniqueConnectionè¢«è®¾ç½®åï¼Œå¦‚æœè¿æ¥å·²ç»å­˜åœ¨ï¼ŒQObject::connect()å°†ä¼šå¤±è´¥</td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> Qt </category>
          
          <category> å†…å­˜ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> new </tag>
            
            <tag> å†…å­˜ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Qt proæ–‡ä»¶ç”¨æ³•</title>
      <link href="/Code/Qt/pro%E6%96%87%E4%BB%B6%E7%94%A8%E6%B3%95/"/>
      <url>/Code/Qt/pro%E6%96%87%E4%BB%B6%E7%94%A8%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<p>[toc]</p><h2 id="å®åˆ¤æ–­"><a href="#å®åˆ¤æ–­" class="headerlink" title="å®åˆ¤æ–­"></a>å®åˆ¤æ–­</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(contains(DEFINES,OEM_Config)) &#123;</span><br><span class="line">    FORMS += $<span class="variable">$PWD</span>/Form.ui</span><br><span class="line">    HEADERS += $<span class="variable">$PWD</span>/Form.h</span><br><span class="line">    SOURCES += $<span class="variable">$PWD</span>/Form.cpp</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="proæ–‡ä»¶è½¬vcprojä¹‹åçš„é…ç½®"><a href="#proæ–‡ä»¶è½¬vcprojä¹‹åçš„é…ç½®" class="headerlink" title="proæ–‡ä»¶è½¬vcprojä¹‹åçš„é…ç½®"></a>proæ–‡ä»¶è½¬vcprojä¹‹åçš„é…ç½®</h2><ol><li>å¸¸è§„é¡¹</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è®¾ç½®å·¥å…·é›†ä¸º</span></span><br><span class="line">$(DefaultPlatformToolset)</span><br><span class="line"><span class="comment"># è®¾ç½®sdkç‰ˆæœ¬</span></span><br><span class="line">$([Microsoft.Build.Utilities.ToolLocationHelper]::GetLatestSDKTargetPlatformVersion(<span class="string">&#x27;Windows&#x27;</span>, <span class="string">&#x27;10.0&#x27;</span>))</span><br></pre></td></tr></table></figure><ol start="2"><li>ç”Ÿæˆå‰äº‹ä»¶</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">call $(SolutionDir)prompt.bat</span><br></pre></td></tr></table></figure><ol start="3"><li>prompt.bat</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line"><span class="built_in">echo</span> -----------------------------------------------------</span><br><span class="line"><span class="built_in">echo</span> [TrustAgent.pro] æ–‡ä»¶æœ‰æ›´æ–°æ—¶ï¼Œè¯·é‡æ–°ç”Ÿæˆå½“å‰å·¥ç¨‹</span><br><span class="line"><span class="built_in">echo</span> ä»¥ä¸‹é…ç½®å¹¶ä¸é€‚ç”¨äºæ‰€æœ‰äººï¼Œå¦‚æœ‰ç¼–è¯‘æŠ¥é”™ï¼Œè¯·è‡ªè¡Œä¿®æ”¹ã€‚</span><br><span class="line"><span class="built_in">echo</span> 1. Qtå·¥å…·é›†é»˜è®¤é…ç½®ä¸ºç¯å¢ƒå˜é‡QtPath: å½“å‰ç³»ç»ŸQtPath:[%QtPath%] ï¼ˆæ¨è 5.9.9_msvc2015ï¼‰</span><br><span class="line"><span class="built_in">echo</span> 2. å·¥å…·é›†é»˜è®¤é…ç½®ä¸º: $(DefaultPlatformToolset) ï¼ˆæ¨è 10.0.19041.0åŠä»¥ä¸Šï¼‰</span><br><span class="line"><span class="built_in">echo</span> 3. SDKé»˜è®¤é…ç½®ä¸º: $([Microsoft.Build.Utilities.ToolLocationHelper]::GetLatestSDKTargetPlatformVersion(<span class="string">&#x27;Windows&#x27;</span>, <span class="string">&#x27;10.0&#x27;</span>)) ï¼ˆæ¨è V142ï¼‰</span><br><span class="line"><span class="built_in">echo</span> -----------------------------------------------------</span><br><span class="line"></span><br><span class="line">@REM <span class="keyword">if</span> <span class="string">&quot;%QtPath%&quot;</span> == <span class="string">&quot;&quot;</span> (</span><br><span class="line">@REM     choice /c:yn /m <span class="string">&quot;å½“å‰æœªé…ç½®ç¯å¢ƒå˜é‡ï¼Œæ˜¯å¦æ‰“å¼€ç³»ç»Ÿé…ç½®é¡µé¢ï¼š&quot;</span></span><br><span class="line">@REM     <span class="keyword">if</span> %errorlevel%==1 (</span><br><span class="line">@REM         start ms-settings:about</span><br><span class="line">@REM     )</span><br><span class="line">@REM )</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> Qt </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Qt </tag>
            
            <tag> é…ç½® </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Qtè·å–æ§ä»¶ä½ç½®</title>
      <link href="/Code/Qt/Qt%E8%8E%B7%E5%8F%96%E6%8E%A7%E4%BB%B6%E4%BD%8D%E7%BD%AE/"/>
      <url>/Code/Qt/Qt%E8%8E%B7%E5%8F%96%E6%8E%A7%E4%BB%B6%E4%BD%8D%E7%BD%AE/</url>
      
        <content type="html"><![CDATA[<blockquote><p>Qt è·å–çª—å£ã€ç³»ç»Ÿå±å¹•å¤§å°å°ºå¯¸ä¿¡æ¯ï¼ŒQtè·å–æ§ä»¶ä½ç½®åæ ‡ã€å±å¹•åæ ‡ï¼Œç›¸å¯¹çˆ¶çª—ä½“åæ ‡ </p></blockquote><p>[toc]</p><h1 id="ä¸€ã€è·å–çª—å£å¤§å°å°ºå¯¸ä¿¡æ¯"><a href="#ä¸€ã€è·å–çª—å£å¤§å°å°ºå¯¸ä¿¡æ¯" class="headerlink" title="ä¸€ã€è·å–çª—å£å¤§å°å°ºå¯¸ä¿¡æ¯"></a>ä¸€ã€è·å–çª—å£å¤§å°å°ºå¯¸ä¿¡æ¯</h1><p>Qt çª—å£å°ºå¯¸ï¼Œçª—å£å¤§å°å’Œå¤§å°æ”¹å˜å¼•èµ·çš„äº‹ä»¶ <code>QResizeEvent</code>ã€‚</p><img src="https://raw.githubusercontent.com/holdyounger/ScopeBlog/rc_images/Images/Qt/images/Qt%E8%8E%B7%E5%8F%96%E6%8E%A7%E4%BB%B6%E4%BD%8D%E7%BD%AE/1.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" style="zoom:80%;float:left;" /><img src="https://raw.githubusercontent.com/holdyounger/ScopeBlog/rc_images/Images/Qt/images/Qt%E8%8E%B7%E5%8F%96%E6%8E%A7%E4%BB%B6%E4%BD%8D%E7%BD%AE/2.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" style="float: left;" /><h2 id="æ¶‰åŠåæ ‡ã€é•¿å®½çš„æ¥å£"><a href="#æ¶‰åŠåæ ‡ã€é•¿å®½çš„æ¥å£" class="headerlink" title="æ¶‰åŠåæ ‡ã€é•¿å®½çš„æ¥å£"></a>æ¶‰åŠåæ ‡ã€é•¿å®½çš„æ¥å£</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//çª—å£å·¦ä¸Šè§’çš„ä½ç½®(å«è¾¹æ¡†)</span></span><br><span class="line"><span class="built_in">qDebug</span>() &lt;&lt; <span class="keyword">this</span>-&gt;<span class="built_in">frameGeometry</span>().<span class="built_in">x</span>() &lt;&lt; <span class="keyword">this</span>-&gt;<span class="built_in">frameGeometry</span>().<span class="built_in">y</span>() &lt;&lt; ;<span class="comment">//1</span></span><br><span class="line"><span class="built_in">qDebug</span>() &lt;&lt; <span class="keyword">this</span>-&gt;<span class="built_in">x</span>()  &lt;&lt; <span class="keyword">this</span>-&gt;<span class="built_in">y</span>();<span class="comment">//2</span></span><br><span class="line"><span class="built_in">qDebug</span>() &lt;&lt; <span class="keyword">this</span>-&gt;<span class="built_in">pos</span>().<span class="built_in">x</span>() &lt;&lt; <span class="keyword">this</span>-&gt;<span class="built_in">pos</span>().<span class="built_in">y</span>();<span class="comment">//3</span></span><br><span class="line"><span class="comment">//çª—å£çš„å®½åº¦å’Œé«˜åº¦(å«è¾¹æ¡†)</span></span><br><span class="line"><span class="built_in">qDebug</span>() &lt;&lt; <span class="keyword">this</span>-&gt;<span class="built_in">frameGeometry</span>().<span class="built_in">width</span>() &lt;&lt; <span class="keyword">this</span>-&gt;<span class="built_in">frameGeometry</span>().<span class="built_in">height</span>();</span><br><span class="line"><span class="comment">//çª—å£å·¦ä¸Šè§’çš„ä½ç½®(ä¸å«è¾¹æ¡†)</span></span><br><span class="line"><span class="built_in">qDebug</span>() &lt;&lt; <span class="keyword">this</span>-&gt;<span class="built_in">geometry</span>().<span class="built_in">x</span>() &lt;&lt; <span class="keyword">this</span>-&gt;<span class="built_in">geometry</span>().<span class="built_in">y</span>();</span><br><span class="line"><span class="comment">//çª—å£çš„å®½åº¦å’Œé«˜åº¦(ä¸å«è¾¹æ¡†)</span></span><br><span class="line"><span class="built_in">qDebug</span>() &lt;&lt; <span class="keyword">this</span>-&gt;<span class="built_in">geometry</span>().<span class="built_in">width</span>() &lt;&lt; <span class="keyword">this</span>-&gt;<span class="built_in">geometry</span>().<span class="built_in">height</span>();<span class="comment">//1</span></span><br><span class="line"><span class="built_in">qDebug</span>() &lt;&lt; <span class="keyword">this</span>-&gt;<span class="built_in">width</span>() &lt;&lt; <span class="keyword">this</span>-&gt;<span class="built_in">height</span>();<span class="comment">//2</span></span><br><span class="line"><span class="built_in">qDebug</span>() &lt;&lt; <span class="keyword">this</span>-&gt;<span class="built_in">rect</span>().<span class="built_in">width</span>() &lt;&lt; <span class="keyword">this</span>-&gt;<span class="built_in">rect</span>().<span class="built_in">height</span>();<span class="comment">//3</span></span><br><span class="line"><span class="built_in">qDebug</span>() &lt;&lt; <span class="keyword">this</span>-&gt;<span class="built_in">size</span>().<span class="built_in">width</span>() &lt;&lt; <span class="keyword">this</span>-&gt;<span class="built_in">size</span>().<span class="built_in">height</span>();<span class="comment">//4</span></span><br></pre></td></tr></table></figure><h1 id="Qtè·å–ç³»ç»Ÿå±å¹•å¤§å°"><a href="#Qtè·å–ç³»ç»Ÿå±å¹•å¤§å°" class="headerlink" title="Qtè·å–ç³»ç»Ÿå±å¹•å¤§å°"></a>Qtè·å–ç³»ç»Ÿå±å¹•å¤§å°</h1><p><code>QDesktopWidget</code> æä¾›äº†è¯¦ç»†çš„ä½ç½®ä¿¡æ¯ï¼Œå…¶èƒ½å¤Ÿè‡ªåŠ¨è¿”å›çª—å£åœ¨ç”¨æˆ·çª—å£çš„ä½ç½®å’Œåº”ç”¨ç¨‹åºçª—å£çš„ä½ç½®ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">QDesktopWidget* pDesktopWidget = QApplication::<span class="built_in">desktop</span>();</span><br><span class="line"><span class="comment">//è·å–å¯ç”¨æ¡Œé¢å¤§å°</span></span><br><span class="line">QRect deskRect = QApplication::<span class="built_in">desktop</span>()-&gt;<span class="built_in">availableGeometry</span>();</span><br><span class="line"><span class="comment">//è·å–ä¸»å±å¹•åˆ†è¾¨ç‡</span></span><br><span class="line">QRect screenRect = QApplication::<span class="built_in">desktop</span>()-&gt;<span class="built_in">screenGeometry</span>();</span><br><span class="line"><span class="comment">//è·å–å±å¹•æ•°é‡</span></span><br><span class="line"><span class="type">int</span> nScreenCount = QApplication::<span class="built_in">desktop</span>()-&gt;<span class="built_in">screenCount</span>();</span><br></pre></td></tr></table></figure><p>Qt5å¼€å§‹ï¼Œ <code>QDesktopWidget</code>å®˜æ–¹ä¸å»ºè®®ä½¿ç”¨ï¼Œæ”¹ä¸º <code>QScreen</code></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;QScreen&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;QRect&gt;</span></span></span><br><span class="line"> </span><br><span class="line">QList&lt;QScreen *&gt; list_screen =  QGuiApplication::<span class="built_in">screens</span>();  <span class="comment">//å¤šæ˜¾ç¤ºå™¨</span></span><br><span class="line">QRect rect = list_screen.<span class="built_in">at</span>(<span class="number">0</span>)-&gt;<span class="built_in">geometry</span>();</span><br><span class="line">desktop_width = rect.<span class="built_in">width</span>();</span><br><span class="line">desktop_height = rect.<span class="built_in">height</span>();</span><br><span class="line"><span class="built_in">qDebug</span>() &lt;&lt; desktop_width &lt;&lt;desktop_height;</span><br></pre></td></tr></table></figure><h1 id="ä¸‰ã€è®¾ç½®çª—ä½“å¤§å°"><a href="#ä¸‰ã€è®¾ç½®çª—ä½“å¤§å°" class="headerlink" title="ä¸‰ã€è®¾ç½®çª—ä½“å¤§å°"></a>ä¸‰ã€è®¾ç½®çª—ä½“å¤§å°</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">setGeometry</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y, <span class="type">int</span> w, <span class="type">int</span> h)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">setGeometry</span><span class="params">(<span class="type">const</span> QRect &amp;)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">resize</span><span class="params">(<span class="type">int</span> w, <span class="type">int</span> h)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">resize</span><span class="params">(<span class="type">const</span> QSize &amp;)</span></span></span><br></pre></td></tr></table></figure><h1 id="å››ã€Qtè·å–æ§ä»¶ä½ç½®åæ ‡ã€å±å¹•åæ ‡ã€ç›¸å¯¹çˆ¶çª—ä½“åæ ‡"><a href="#å››ã€Qtè·å–æ§ä»¶ä½ç½®åæ ‡ã€å±å¹•åæ ‡ã€ç›¸å¯¹çˆ¶çª—ä½“åæ ‡" class="headerlink" title="å››ã€Qtè·å–æ§ä»¶ä½ç½®åæ ‡ã€å±å¹•åæ ‡ã€ç›¸å¯¹çˆ¶çª—ä½“åæ ‡"></a>å››ã€Qtè·å–æ§ä»¶ä½ç½®åæ ‡ã€å±å¹•åæ ‡ã€ç›¸å¯¹çˆ¶çª—ä½“åæ ‡</h1><ol><li>è¿™ä¸ªåªæ˜¯è¿”å›ç›¸å¯¹è¿™ä¸ª <code>widget</code> ï¼ˆé‡è½½äº†<code>QMouseEvent</code>çš„<code>widget</code>ï¼‰çš„ä½ç½®ã€‚</li></ol><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">QPoint <span class="title">QMouseEvent::pos</span><span class="params">()</span></span></span><br></pre></td></tr></table></figure><ol start="2"><li>çª—å£åæ ‡ï¼Œè¿™ä¸ªæ˜¯è¿”å›é¼ æ ‡çš„å…¨å±€åæ ‡</li></ol><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">QPoint <span class="title">QMouseEvent::globalPos</span><span class="params">()</span></span></span><br></pre></td></tr></table></figure><ol start="3"><li>ç›¸å¯¹æ˜¾ç¤ºå™¨çš„å…¨å±€åæ ‡</li></ol><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">QPoint <span class="title">QCursor::pos</span><span class="params">()</span> [<span class="type">static</span>]</span></span><br></pre></td></tr></table></figure><ol start="4"><li>å°†çª—å£åæ ‡è½¬æ¢æˆæ˜¾ç¤ºå™¨åæ ‡</li></ol><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">QPoint <span class="title">QWidget::mapToGlobal</span><span class="params">(<span class="type">const</span> QPoint &amp; pos)</span>  <span class="type">const</span></span></span><br></pre></td></tr></table></figure><ol start="5"><li>å°†æ˜¾ç¤ºå™¨åæ ‡è½¬æ¢æˆçª—å£åæ ‡</li></ol><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">QPoint <span class="title">QWidget::mapFromGlobal</span><span class="params">(<span class="type">const</span> QPoint &amp; pos)</span> <span class="type">const</span></span></span><br></pre></td></tr></table></figure><ol start="6"><li>å°†çª—å£åæ ‡è·å¾—çš„<code>pos</code>è½¬æˆçˆ¶ç±»<code>widget</code>çš„åæ ‡</li></ol><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">QPoint <span class="title">QWidget::mapFromParent</span><span class="params">(<span class="type">const</span> QPoint &amp; pos)</span> <span class="type">const</span></span></span><br></pre></td></tr></table></figure><ol start="7"><li>å°†å½“å‰çª—å£åæ ‡è½¬æ¢æˆæŒ‡å®š<code>parent</code>åæ ‡</li></ol><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">QPoint <span class="title">QWidget::mapTo</span><span class="params">(<span class="type">const</span> QWidget * parent, <span class="type">const</span> QPoint &amp;pos)</span> <span class="type">const</span></span></span><br></pre></td></tr></table></figure><ol start="8"><li>è¿™ä¸ªå±æ€§è·å¾—çš„æ˜¯å½“å‰ç›®å‰æ§ä»¶åœ¨çˆ¶çª—å£ä¸­çš„ä½ç½®</li></ol><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">const</span> QPointF &amp;<span class="title">QMouseEvent::screenPos</span><span class="params">()</span> <span class="type">const</span></span></span><br></pre></td></tr></table></figure><ol start="9"><li>Returns the position of the mouse cursor asa QPointF, relative to the screen that received the event.<br>å’Œ <code>QPoint QMouseEvent::globalPos()</code> å€¼ç›¸åŒï¼Œä½†æ˜¯ç±»å‹æ›´é«˜ç²¾åº¦çš„ <code>QPointF</code><br>This function was introduced in Qt 5.0.</li></ol><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">const</span> QPointF &amp;<span class="title">QMouseEvent::screenPos</span><span class="params">()</span> <span class="type">const</span></span></span><br></pre></td></tr></table></figure><ol start="10"><li>è·å–å…¨å±€åæ ‡</li></ol><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">QCursor::<span class="built_in">pos</span>() == QMouseEvent::<span class="built_in">globalPos</span>() </span><br></pre></td></tr></table></figure><ol start="11"><li>å°†é¼ æ ‡çš„åæ ‡è½¬æ¢æˆå…¨å±€åæ ‡</li></ol><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">QMouseEvent::<span class="built_in">globalPos</span>() == ui.posBtn-&gt;<span class="built_in">mapToGlobal</span>(ui.posBtn-&gt;<span class="built_in">pos</span>());</span><br></pre></td></tr></table></figure><ol start="12"><li>å°†é¼ æ ‡åæ ‡ï¼ˆé¼ æ ‡å½“å‰åæ ‡ï¼ŒQCursor::pos()ï¼‰ç›´æ¥è½¬æ¢æˆå½“å‰çª—å£ç›¸å¯¹åæ ‡</li></ol><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ui.posBtn-&gt;<span class="built_in">mapFromGlobal</span>(QCursor::<span class="built_in">pos</span>());</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> Qt </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Qt </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Qt é‡å¯</title>
      <link href="/Code/Qt/Qt%E9%87%8D%E5%90%AF/"/>
      <url>/Code/Qt/Qt%E9%87%8D%E5%90%AF/</url>
      
        <content type="html"><![CDATA[<h1 id="Qt-å®ç°ç”µè„‘é‡å¯ï¼ˆéœ€è¦ç®¡ç†å‘˜ï¼‰"><a href="#Qt-å®ç°ç”µè„‘é‡å¯ï¼ˆéœ€è¦ç®¡ç†å‘˜ï¼‰" class="headerlink" title="Qt å®ç°ç”µè„‘é‡å¯ï¼ˆéœ€è¦ç®¡ç†å‘˜ï¼‰"></a>Qt å®ç°ç”µè„‘é‡å¯ï¼ˆéœ€è¦ç®¡ç†å‘˜ï¼‰</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">reboot</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    QString program = QApplication::<span class="built_in">applicationFilePath</span>();</span><br><span class="line">QStringList arguments = QApplication::<span class="built_in">arguments</span>();</span><br><span class="line">QString workingDirectory = QDir::<span class="built_in">currentPath</span>();</span><br><span class="line">QProcess::<span class="built_in">startDetached</span>(program, arguments, workingDirectory);</span><br><span class="line">QApplication::<span class="built_in">exit</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> Qt </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Qt </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SQLite3 æ•°æ®åº“åŠ å¯†</title>
      <link href="/Code/Qt/SQLite%E5%8A%A0%E5%AF%86/"/>
      <url>/Code/Qt/SQLite%E5%8A%A0%E5%AF%86/</url>
      
        <content type="html"><![CDATA[<h2 id="Set-Connect-options"><a href="#Set-Connect-options" class="headerlink" title="Set Connect options"></a>Set Connect options</h2><ul><li>Provided by Qt SqlitePlugin<ul><li>QSQLITE_BUSY_TIMEOUT</li><li>QSQLITE_OPEN_READONLY</li><li>QSQLITE_OPEN_URI</li><li>QSQLITE_ENABLE_SHARED_CACHE</li></ul></li><li>Added by QtCipherSqlitePlugin<ul><li>QSQLITE_CREATE_KEY</li><li>QSQLITE_UPDATE_KEY</li><li>QSQLITE_REMOVE_KEY</li></ul></li></ul><h1 id="åˆ›å»ºæ•°æ®åº“å¯†ç -QSQLITE-CREATE-KEY"><a href="#åˆ›å»ºæ•°æ®åº“å¯†ç -QSQLITE-CREATE-KEY" class="headerlink" title="åˆ›å»ºæ•°æ®åº“å¯†ç  QSQLITE_CREATE_KEY"></a>åˆ›å»ºæ•°æ®åº“å¯†ç  <code>QSQLITE_CREATE_KEY</code></h1><p>å¦‚æœè¾“å‡ºä¸­æœ‰ <code>SQLITECIPHER</code> çš„åå­—ï¼Œé‚£ä¹ˆæ­å–œä½ ï¼Œæ’ä»¶æ²¡æœ‰é—®é¢˜ï¼<br>ä¸ºæ²¡æœ‰åŠ å¯†çš„æ•°æ®åº“å¢åŠ å¯†ç <br>Qt é»˜è®¤æä¾›çš„ SQLite æ’ä»¶æ˜¯æ²¡æœ‰åŠ å¯†åŠŸèƒ½çš„ã€‚æ–°ç‰ˆæœ¬çš„ <code>QtCipherSqlitePlugin</code> æ”¯æŒä¸ºåŸæœ¬æ²¡æœ‰åŠ å¯†çš„æ•°æ®åº“å¢åŠ å¯†ç ï¼Œä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š<br>C++</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">QSqlDatabase dbconn = QSqlDatabase::<span class="built_in">addDatabase</span>(<span class="string">&quot;SQLITECIPHER&quot;</span>);</span><br><span class="line">dbconn.<span class="built_in">setDatabaseName</span>(<span class="string">&quot;test.db&quot;</span>);</span><br><span class="line">dbconn.<span class="built_in">setPassword</span>(<span class="string">&quot;test&quot;</span>);</span><br><span class="line">dbconn.<span class="built_in">setConnectOptions</span>(<span class="string">&quot;QSQLITE_CREATE_KEY&quot;</span>); </span><br><span class="line"><span class="keyword">if</span> (!dbconn.<span class="built_in">open</span>()) &#123;    </span><br><span class="line">    <span class="built_in">qDebug</span>() &lt;&lt; <span class="string">&quot;Can not open connection: &quot;</span> &lt;&lt; dbconn.<span class="built_in">lastError</span>().<span class="built_in">driverText</span>();    </span><br><span class="line">    <span class="built_in">exit</span>(CONNECTION_FAILED);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸Šé¢çš„ä»£ç ï¼Œæˆ‘ä»¬ä½¿ç”¨ <code>test.db</code> æ•°æ®åº“ï¼Œå°†å¯†ç è®¾ç½®ä¸º testï¼ŒåŒæ—¶æŒ‡å®šè¿æ¥é€‰é¡¹ä¸º <code>QSQLITE_CREATE_KEY</code> ã€‚æ­¤æ—¶ï¼Œè°ƒç”¨ open() å‡½æ•°ä¹‹åï¼Œ<code>QtCipherSqlitePlugin</code> å°†ä½¿ç”¨æ”¹å¯†ç ä¸ºè¿™ä¸ªæ•°æ®åº“è¿›è¡ŒåŠ å¯†ã€‚</p><h1 id="åˆ é™¤æ•°æ®åº“å¯†ç -QSQLITE-REMOVE-KEY"><a href="#åˆ é™¤æ•°æ®åº“å¯†ç -QSQLITE-REMOVE-KEY" class="headerlink" title="åˆ é™¤æ•°æ®åº“å¯†ç  QSQLITE_REMOVE_KEY"></a>åˆ é™¤æ•°æ®åº“å¯†ç  <code>QSQLITE_REMOVE_KEY</code></h1><p><code>QtCipherSqlitePlugin</code> å¯ä»¥åˆ é™¤æ•°æ®åº“å¯†ç ï¼Œæ­¤æ—¶éœ€è¦æä¾›åŸå¯†ç ï¼Œå¹¶ä½¿ç”¨è¿æ¥é€‰é¡¹ <code>QSQLITE_REMOVE_KEY</code> ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">QSqlDatabase dbconn = QSqlDatabase::<span class="built_in">addDatabase</span>(<span class="string">&quot;SQLITECIPHER&quot;</span>);</span><br><span class="line">dbconn.<span class="built_in">setDatabaseName</span>(<span class="string">&quot;test.db&quot;</span>);</span><br><span class="line">dbconn.<span class="built_in">setPassword</span>(<span class="string">&quot;test&quot;</span>);</span><br><span class="line">dbconn.<span class="built_in">setConnectOptions</span>(<span class="string">&quot;QSQLITE_REMOVE_KEY&quot;</span>);</span><br><span class="line"><span class="keyword">if</span> (!dbconn.<span class="built_in">open</span>()) &#123;   </span><br><span class="line">    <span class="built_in">qDebug</span>() &lt;&lt; <span class="string">&quot;Can not open connection: &quot;</span> &lt;&lt; dbconn.<span class="built_in">lastError</span>().<span class="built_in">driverText</span>();   </span><br><span class="line">    <span class="built_in">exit</span>(CONNECTION_FAILED);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="æ›´æ–°æ•°æ®åº“å¯†ç -QSQLITE-UPDATE-KEY"><a href="#æ›´æ–°æ•°æ®åº“å¯†ç -QSQLITE-UPDATE-KEY" class="headerlink" title="æ›´æ–°æ•°æ®åº“å¯†ç  QSQLITE_UPDATE_KEY"></a>æ›´æ–°æ•°æ®åº“å¯†ç  <code>QSQLITE_UPDATE_KEY</code></h1><p><code>QtCipherSqlitePlugin</code> å¯ä»¥æ›´æ–°æ•°æ®åº“åŸæœ‰å¯†ç ï¼Œéœ€è¦è®¾ç½®åŸå¯†ç ï¼Œå¹¶ä¸”ä½¿ç”¨è¿æ¥é€‰é¡¹ <code>QSQLITE_UPDATE_KEY</code> è®¾ç½®æ–°å¯†ç ï¼Œå…·ä½“ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">QSqlDatabase dbconn = QSqlDatabase::<span class="built_in">addDatabase</span>(<span class="string">&quot;SQLITECIPHER&quot;</span>);</span><br><span class="line">dbconn.<span class="built_in">setDatabaseName</span>(<span class="string">&quot;test.db&quot;</span>);</span><br><span class="line">dbconn.<span class="built_in">setPassword</span>(<span class="string">&quot;test&quot;</span>);</span><br><span class="line">dbconn.<span class="built_in">setConnectOptions</span>(<span class="string">&quot;QSQLITE_UPDATE_KEY=newtest&quot;</span>); </span><br><span class="line"><span class="keyword">if</span> (!dbconn.<span class="built_in">open</span>()) &#123;    </span><br><span class="line">    <span class="built_in">qDebug</span>() &lt;&lt; <span class="string">&quot;Can not open connection: &quot;</span> &lt;&lt; dbconn.<span class="built_in">lastError</span>().<span class="built_in">driverText</span>();   </span><br><span class="line">    <span class="built_in">exit</span>(CONNECTION_FAILED);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¦‚æœåŸå¯†ç ä¸æ­£ç¡®ï¼Œ<code>QtCipherSqlitePlugin</code> ä¼šç›´æ¥è¿”å›é”™è¯¯ã€‚</p><p>å¦‚æœæ–°å¯†ç è®¾ç½®ä¸ºç©ºï¼Œä¾‹å¦‚ <code>QSQLITE_UPDATE_KEY=</code> ï¼Œåˆ™ä½œç”¨ç­‰åŒäºåˆ é™¤å¯†ç ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">bool</span> <span class="title">QUpdateDB::setDBConfig</span><span class="params">(QSqlDatabase* dbconn, QMap&lt;ENUM_SQLKEY, QString&gt; qMapCfg)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">auto</span> it : qMapCfg.<span class="built_in">toStdMap</span>())</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (it.first &lt;= QSQLITE_REMOVE_KEY)</span><br><span class="line">&#123;</span><br><span class="line">dbconn-&gt;<span class="built_in">setPassword</span>(it.second);</span><br><span class="line">dbconn-&gt;<span class="built_in">setConnectOptions</span>(<span class="built_in">GETOBJNAME</span>(it.first));</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (it.first == QSQLITE_UPDATE_KEY)</span><br><span class="line">&#123;</span><br><span class="line">dbconn-&gt;<span class="built_in">setPassword</span>(it.second);</span><br><span class="line">dbconn-&gt;<span class="built_in">setConnectOptions</span>(<span class="built_in">QString</span>(<span class="string">&quot;%1=%2&quot;</span>).<span class="built_in">arg</span>().<span class="built_in">arg</span>());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> Qt </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Qt </tag>
            
            <tag> SQLite3 </tag>
            
            <tag> æ•°æ®åº“ </tag>
            
            <tag> å¼€æº </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Qtå®ç°çª—å£æ‹–æ‹½</title>
      <link href="/Code/Qt/Qt%E7%AA%97%E5%8F%A3%E6%8B%96%E6%8B%BD/"/>
      <url>/Code/Qt/Qt%E7%AA%97%E5%8F%A3%E6%8B%96%E6%8B%BD/</url>
      
        <content type="html"><![CDATA[<p>[toc]</p><p>QTçª—å£é»˜è®¤å¯ä»¥ç›´æ¥é¼ æ ‡ç‚¹ä½çª—å£çš„æ ‡é¢˜æ å®ç°æ‹–æ‹½ç§»åŠ¨ï¼Œå¦‚æœéœ€è¦é¼ æ ‡ç‚¹ä½çª—å£å®¢æˆ·åŒºåŸŸå®ç°çª—å£çš„æ‹–æ‹½ç§»åŠ¨ï¼Œå¯ä»¥é€šè¿‡QMouseEventäº‹ä»¶æ¥å®ç°ã€‚</p><h1 id="hæ–‡ä»¶"><a href="#hæ–‡ä»¶" class="headerlink" title=".hæ–‡ä»¶"></a>.hæ–‡ä»¶</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QWidget&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">class</span> <span class="title class_">QMouseEvent</span>;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Widget</span> : <span class="keyword">public</span> QWidget</span><br><span class="line">&#123;</span><br><span class="line">    Q_OBJECT</span><br><span class="line"> </span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Widget</span>(QWidget *parent = <span class="number">0</span>);</span><br><span class="line">    ~<span class="built_in">Widget</span>();</span><br><span class="line"> </span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line">    <span class="comment">//æ‹–æ‹½çª—å£</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">mousePressEvent</span><span class="params">(QMouseEvent *event)</span></span>;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">mouseMoveEvent</span><span class="params">(QMouseEvent *event)</span></span>;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">mouseReleaseEvent</span><span class="params">(QMouseEvent *event)</span></span>;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="type">bool</span>        m_bDrag;</span><br><span class="line">    QPoint      mouseStartPoint;</span><br><span class="line">    QPoint      windowTopLeftPoint;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h1 id="cppæ–‡ä»¶"><a href="#cppæ–‡ä»¶" class="headerlink" title=".cppæ–‡ä»¶"></a>.cppæ–‡ä»¶</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ‹–æ‹½æ“ä½œ</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Widget::mousePressEvent</span><span class="params">(QMouseEvent *event)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(event-&gt;<span class="built_in">button</span>() == Qt::LeftButton)</span><br><span class="line">    &#123;</span><br><span class="line">        m_bDrag = <span class="literal">true</span>;</span><br><span class="line">        <span class="comment">//è·å¾—é¼ æ ‡çš„åˆå§‹ä½ç½®</span></span><br><span class="line">        mouseStartPoint = event-&gt;<span class="built_in">globalPos</span>();</span><br><span class="line">        <span class="comment">//mouseStartPoint = event-&gt;pos();</span></span><br><span class="line">        <span class="comment">//è·å¾—çª—å£çš„åˆå§‹ä½ç½®</span></span><br><span class="line">        windowTopLeftPoint = <span class="keyword">this</span>-&gt;<span class="built_in">frameGeometry</span>().<span class="built_in">topLeft</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Widget::mouseMoveEvent</span><span class="params">(QMouseEvent *event)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(m_bDrag)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//è·å¾—é¼ æ ‡ç§»åŠ¨çš„è·ç¦»</span></span><br><span class="line">        QPoint distance = event-&gt;<span class="built_in">globalPos</span>() - mouseStartPoint;</span><br><span class="line">        <span class="comment">//QPoint distance = event-&gt;pos() - mouseStartPoint;</span></span><br><span class="line">        <span class="comment">//æ”¹å˜çª—å£çš„ä½ç½®</span></span><br><span class="line">        <span class="keyword">this</span>-&gt;<span class="built_in">move</span>(windowTopLeftPoint + distance);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Widget::mouseReleaseEvent</span><span class="params">(QMouseEvent *event)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(event-&gt;<span class="built_in">button</span>() == Qt::LeftButton)</span><br><span class="line">    &#123;</span><br><span class="line">        m_bDrag = <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> Qt </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Qt </tag>
            
            <tag> æ‹–æ‹½ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Qt æˆªå›¾</title>
      <link href="/Code/Qt/Qt%E6%88%AA%E5%9B%BE/"/>
      <url>/Code/Qt/Qt%E6%88%AA%E5%9B%BE/</url>
      
        <content type="html"><![CDATA[<blockquote><p>è½¬è½½è‡ªï¼š <a href="https://www.freesion.com/article/3411345767/">QT æˆªå›¾ - ç°ä¿¡ç½‘ï¼ˆè½¯ä»¶å¼€å‘åšå®¢èšåˆï¼‰ (freesion.com)</a></p></blockquote><p><strong>QT æˆªå›¾</strong></p><h1 id="ä¸€ã€ç®€è¦è¯´æ˜"><a href="#ä¸€ã€ç®€è¦è¯´æ˜" class="headerlink" title="ä¸€ã€ç®€è¦è¯´æ˜"></a>ä¸€ã€ç®€è¦è¯´æ˜</h1><p>  <strong>ç®€å•çš„å®ç°æˆªå›¾åŠŸèƒ½ï¼ŒåŒ…æ‹¬å…¨å±æˆªå›¾ï¼ŒçŸ©å½¢åŒºåŸŸæˆªå›¾ï¼Œä¸»è¦ç¯å¢ƒï¼šwin7-32bitï¼ŒQT Creator5.2ã€‚</strong></p><p>  å·¥ç¨‹æºä»£ç  é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/1xt-oyaz4pWNNFG4q85nmSA">https://pan.baidu.com/s/1xt-oyaz4pWNNFG4q85nmSA</a> å¯†ç ï¼š6uky</p><h1 id="äºŒã€æ•ˆæœ"><a href="#äºŒã€æ•ˆæœ" class="headerlink" title="äºŒã€æ•ˆæœ"></a>äºŒã€æ•ˆæœ</h1><p><strong>è¿è¡Œæ•ˆæœ</strong></p><div class="tag-plugin image"><div class="image-bg"><img src="https://raw.githubusercontent.com/holdyounger/ScopeBlog/rc_images/Images/Qt/images/Qt%E6%88%AA%E5%9B%BE/Qt%E6%88%AA%E5%9B%BE1.gif"/></div></div><div class="tag-plugin image"><div class="image-bg"><img src="https://raw.githubusercontent.com/holdyounger/ScopeBlog/rc_images/Images/Qt/images/Qt%E6%88%AA%E5%9B%BE/Qt%E6%88%AA%E5%9B%BE2.png"/></div></div><div class="tag-plugin image"><div class="image-bg"><img src="https://raw.githubusercontent.com/holdyounger/ScopeBlog/rc_images/Images/Qt/images/Qt%E6%88%AA%E5%9B%BE/%E6%95%88%E6%9E%9C%E5%9B%BE.png"/></div></div><h2 id="1ã€-å…¨å±æˆªå›¾"><a href="#1ã€-å…¨å±æˆªå›¾" class="headerlink" title="1ã€ å…¨å±æˆªå›¾"></a><strong>1ã€ å…¨å±æˆªå›¾</strong></h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è·å–å…¨å±æˆªå›¾</span></span><br><span class="line"> </span><br><span class="line">QPixmapfullScreen = QPixmap::<span class="built_in">grabWindow</span>(QApplication::<span class="built_in">desktop</span>()-&gt;<span class="built_in">winId</span>());</span><br><span class="line"> </span><br><span class="line"><span class="comment">//æ‰“å¼€æ–‡ä»¶å¯¹è¯æ¡†</span></span><br><span class="line"> </span><br><span class="line">QStringfileName = QFileDialog::<span class="built_in">getSaveFileName</span>(<span class="keyword">this</span>, <span class="string">&quot;æ–‡ä»¶å¦å­˜ä¸º&quot;</span>,<span class="string">&quot;&quot;</span>,<span class="built_in">tr</span>(<span class="string">&quot;ConfigFiles (*.jpg)&quot;</span>));</span><br><span class="line"> </span><br><span class="line"><span class="comment">//ä¿å­˜æˆªå›¾</span></span><br><span class="line"> </span><br><span class="line">fullScreen.<span class="built_in">save</span>(fileName,<span class="string">&quot;jpg&quot;</span>);</span><br></pre></td></tr></table></figure><h2 id="2ã€-çŸ©å½¢æˆªå›¾ï¼šåœ¨å…¨å±æˆªå›¾çš„åŸºç¡€ä¸Šï¼Œåœ¨å…¨å±æˆªå›¾é€‰å–ä¸€ä¸ªçŸ©å½¢åŒºåŸŸ"><a href="#2ã€-çŸ©å½¢æˆªå›¾ï¼šåœ¨å…¨å±æˆªå›¾çš„åŸºç¡€ä¸Šï¼Œåœ¨å…¨å±æˆªå›¾é€‰å–ä¸€ä¸ªçŸ©å½¢åŒºåŸŸ" class="headerlink" title="2ã€ çŸ©å½¢æˆªå›¾ï¼šåœ¨å…¨å±æˆªå›¾çš„åŸºç¡€ä¸Šï¼Œåœ¨å…¨å±æˆªå›¾é€‰å–ä¸€ä¸ªçŸ©å½¢åŒºåŸŸ"></a><strong>2ã€ çŸ©å½¢æˆªå›¾ï¼šåœ¨å…¨å±æˆªå›¾çš„åŸºç¡€ä¸Šï¼Œåœ¨å…¨å±æˆªå›¾é€‰å–ä¸€ä¸ªçŸ©å½¢åŒºåŸŸ</strong></h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">fullScreen.<span class="built_in">copy</span>(rect).save(fileName);<span class="comment">//rectæ˜¯ä¸€ä¸ªçŸ©å½¢</span></span><br><span class="line"> </span><br><span class="line">æˆ–è€…æ˜¯fullScreen.<span class="built_in">copy</span>(x,y,width,height).save(fileName);<span class="comment">//x,yä¸ºçŸ©å½¢å·¦ä¸Šè§’åæ ‡ï¼Œ</span></span><br><span class="line"> </span><br><span class="line">widthä¸ºçŸ©å½¢å®½åº¦ï¼Œheightä¸ºçŸ©å½¢çš„é«˜åº¦ã€‚</span><br><span class="line"> </span><br><span class="line">éœ€è¦æ³¨æ„çš„æ˜¯ å±å¹•å·¦ä¸Šè§’ä¸ºï¼ˆ<span class="number">0</span>,<span class="number">0</span>ï¼‰ï¼Œx,yåˆ†åˆ«å‘å³ã€ä¸‹é€’å¢ã€‚</span><br></pre></td></tr></table></figure><p><strong>é‚£ä¹ˆå¦‚ä½•å®ç°ä»»æ„çš„çŸ©å½¢åŒºåŸŸå‘¢ï¼Ÿ</strong></p><h1 id="å››ã€æ”¹è¿›"><a href="#å››ã€æ”¹è¿›" class="headerlink" title="å››ã€æ”¹è¿›"></a>å››ã€æ”¹è¿›</h1><h2 id="1ã€-ä»»æ„çŸ©å½¢åŒºåŸŸ"><a href="#1ã€-ä»»æ„çŸ©å½¢åŒºåŸŸ" class="headerlink" title="1ã€ ä»»æ„çŸ©å½¢åŒºåŸŸ"></a><strong>1ã€ ä»»æ„çŸ©å½¢åŒºåŸŸ</strong></h2><p>   <strong>æŒ‰ä¸‹é¼ æ ‡å·¦é”®ä¸æ”¾å¾—åˆ°ä¸€ä¸ªç‚¹P(x1,y1)</strong></p><p>  <strong>æ‹–åŠ¨é¼ æ ‡</strong></p><p>  <strong>é‡Šæ”¾é¼ æ ‡å·¦é”®å¾—åˆ°å¦å¤–ä¸€ä¸ªç‚¹Q(x2,y2)</strong></p><p>  <strong>å¦‚æ­¤å¾—åˆ°ä¸€ä¸ªä»¥Pã€Qä¸ºå¯¹è§’çš„çŸ©å½¢</strong></p><h2 id="2ã€-å®ç°åŠ¨æ€çŸ©å½¢æ•ˆæœ"><a href="#2ã€-å®ç°åŠ¨æ€çŸ©å½¢æ•ˆæœ" class="headerlink" title="2ã€ å®ç°åŠ¨æ€çŸ©å½¢æ•ˆæœ"></a><strong>2ã€ å®ç°åŠ¨æ€çŸ©å½¢æ•ˆæœ</strong></h2><p>  <strong>æ‹‰ä¸Šä¸€å±‚åŠé€æ˜çš„é®ç½©(å…¶å®å°±æ˜¯ä¸€ä¸ªåŠé€æ˜çš„</strong>showFullScreen<strong>çª—ä½“)</strong></p><p>  <strong>æ³¨æ„ï¼šæ‹‰ä¸Šé®ç½©ä¹‹å‰åº”å°†çˆ¶çª—ä½“éšå»ï¼Œä¸ç„¶æ¯ä¸€å¼ å…¨å±æˆªå›¾éƒ½ä¼šæœ‰çˆ¶çª—ä½“</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">setWindowState</span>(Qt::WindowMinimized);<span class="comment">//æœ€å°åŒ–çˆ¶çª—ä½“ã€‚</span></span><br></pre></td></tr></table></figure><p>  <strong>ï¼ˆå¯èƒ½éœ€è¦å»¶æ—¶ï¼‰</strong></p><p>  <strong>å°†çŸ©å½¢å±€åŸŸé‡ç»˜(è¾¾åˆ°å»é™¤çŸ©å½¢åŒºåŸŸéƒ¨åˆ†çš„é®ç½©çš„æ•ˆæœ)</strong></p><h2 id="3ã€-å³é”®èœå•-å¤åˆ¶åˆ°å‰ªåˆ‡æ¿-å¦å­˜ä¸º-é€€å‡º-ä»¥åŠå¢åŠ å¿«æ·é”®"><a href="#3ã€-å³é”®èœå•-å¤åˆ¶åˆ°å‰ªåˆ‡æ¿-å¦å­˜ä¸º-é€€å‡º-ä»¥åŠå¢åŠ å¿«æ·é”®" class="headerlink" title="3ã€ å³é”®èœå•(å¤åˆ¶åˆ°å‰ªåˆ‡æ¿+å¦å­˜ä¸º+é€€å‡º)ä»¥åŠå¢åŠ å¿«æ·é”®"></a><strong>3ã€ å³é”®èœå•(å¤åˆ¶åˆ°å‰ªåˆ‡æ¿+å¦å­˜ä¸º+é€€å‡º)ä»¥åŠå¢åŠ å¿«æ·é”®</strong></h2><p>  <strong>å¤åˆ¶åˆ°å‰ªåˆ‡æ¿ï¼š</strong>QGuiApplication::clipboard()-&gt;setPixmap(fullScreen.copy(rect));</p><p>  **ç»„åˆå¿«æ·é”®Ctrl+Cï¼š**if(****e-&gt;key()&#x3D;&#x3D;Qt::Key_C&amp;&amp;e-&gt;modifiers()&#x3D;&#x3D;Qt::ControlModifier)</p><h2 id="4ã€-çŸ©å½¢æˆªå›¾æ—¶ï¼Œå®æ—¶æ˜¾ç¤ºé¼ æ ‡çš„ä½ç½®ã€çŸ©å½¢æˆªå›¾çš„ä½ç½®ä»¥åŠå¤§å°ä¿¡æ¯"><a href="#4ã€-çŸ©å½¢æˆªå›¾æ—¶ï¼Œå®æ—¶æ˜¾ç¤ºé¼ æ ‡çš„ä½ç½®ã€çŸ©å½¢æˆªå›¾çš„ä½ç½®ä»¥åŠå¤§å°ä¿¡æ¯" class="headerlink" title="4ã€ çŸ©å½¢æˆªå›¾æ—¶ï¼Œå®æ—¶æ˜¾ç¤ºé¼ æ ‡çš„ä½ç½®ã€çŸ©å½¢æˆªå›¾çš„ä½ç½®ä»¥åŠå¤§å°ä¿¡æ¯"></a>4ã€ çŸ©å½¢æˆªå›¾æ—¶ï¼Œå®æ—¶æ˜¾ç¤ºé¼ æ ‡çš„ä½ç½®ã€çŸ©å½¢æˆªå›¾çš„ä½ç½®ä»¥åŠå¤§å°ä¿¡æ¯</h2><p>  <strong>é€šè¿‡é¼ æ ‡ç§»åŠ¨äº‹ä»¶(è®¾ç½®é¼ æ ‡è½¨è¿¹è·Ÿè¸ªï¼š</strong>setMouseTracking(true);</p><p>  <strong>update()è§¦å‘</strong><em>paintEventé‡ç»˜äº‹ä»¶</em></p><h2 id="5ã€-æ— è¾¹æ¡†çª—ä½“æ‹–åŠ¨"><a href="#5ã€-æ— è¾¹æ¡†çª—ä½“æ‹–åŠ¨" class="headerlink" title="5ã€ æ— è¾¹æ¡†çª—ä½“æ‹–åŠ¨"></a>5ã€ æ— è¾¹æ¡†çª—ä½“æ‹–åŠ¨</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å®ç°æ— è¾¹æ¡† (Qt::FramelessWindowHintå»è¾¹æ¡†)  ã€Qt::WindowStaysOnTopHintçª—ä½“ç½®é¡¶ é˜²æ­¢æ‹–åˆ°ä»»åŠ¡æ ä¸‹é¢</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">this</span>-&gt;<span class="built_in">setWindowFlags</span>(Qt::FramelessWindowHint| Qt::WindowSystemMenuHint |Qt::WindowMinMaxButtonsHint|Qt::WindowStaysOnTopHint);</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="comment">//æ‹–åŠ¨(å®é™…ä¸Šæ˜¯æ ¹æ®é¼ æ ‡çš„ç§»åŠ¨ æ¥ç§»åŠ¨çª—ä½“)</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">//å½“å‰é¼ æ ‡ç›¸å¯¹çª—ä½“çš„ä½ç½®-åˆšæŒ‰ä¸‹å·¦é”®æ—¶çš„ç›¸å¯¹ä½ç½®=é¼ æ ‡ç§»åŠ¨çš„å¤§å°</span></span><br><span class="line"> </span><br><span class="line"> <span class="built_in">move</span>(e-&gt;<span class="built_in">pos</span>()-beginPos+<span class="keyword">this</span>-&gt;<span class="built_in">pos</span>());</span><br><span class="line"> </span><br><span class="line"><span class="comment">//é¼ æ ‡ç§»åŠ¨çš„å¤§å°+çª—ä½“åŸæ¥çš„ä½ç½®=çª—ä½“ç§»åŠ¨åçš„ä½ç½®</span></span><br></pre></td></tr></table></figure><h2 id="6ã€-çª—ä½“è´´è¾¹-å½“çª—ä½“é åœ¨å±å¹•ä¸Šè¾¹ï¼Œå¹¶ä¸”é¼ æ ‡ç¦»å¼€çª—ä½“æ—¶ï¼Œçª—ä½“è´´è¾¹ï¼Œå½“é¼ æ ‡è¿›å…¥çª—ä½“æ—¶ï¼Œçª—ä½“å…¨éƒ¨å±•ç¤º"><a href="#6ã€-çª—ä½“è´´è¾¹-å½“çª—ä½“é åœ¨å±å¹•ä¸Šè¾¹ï¼Œå¹¶ä¸”é¼ æ ‡ç¦»å¼€çª—ä½“æ—¶ï¼Œçª—ä½“è´´è¾¹ï¼Œå½“é¼ æ ‡è¿›å…¥çª—ä½“æ—¶ï¼Œçª—ä½“å…¨éƒ¨å±•ç¤º" class="headerlink" title="6ã€ çª—ä½“è´´è¾¹(å½“çª—ä½“é åœ¨å±å¹•ä¸Šè¾¹ï¼Œå¹¶ä¸”é¼ æ ‡ç¦»å¼€çª—ä½“æ—¶ï¼Œçª—ä½“è´´è¾¹ï¼Œå½“é¼ æ ‡è¿›å…¥çª—ä½“æ—¶ï¼Œçª—ä½“å…¨éƒ¨å±•ç¤º)"></a>6ã€ çª—ä½“è´´è¾¹(å½“çª—ä½“é åœ¨å±å¹•ä¸Šè¾¹ï¼Œå¹¶ä¸”é¼ æ ‡ç¦»å¼€çª—ä½“æ—¶ï¼Œçª—ä½“è´´è¾¹ï¼Œå½“é¼ æ ‡è¿›å…¥çª—ä½“æ—¶ï¼Œçª—ä½“å…¨éƒ¨å±•ç¤º)</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//çª—ä½“è´´è¾¹</span></span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">this</span>-&gt;<span class="built_in">pos</span>().<span class="built_in">y</span>()&lt;=<span class="number">0</span>)<span class="comment">//çª—ä½“è´´åœ¨å±å¹•ä¸Šè¾¹</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">move</span>(<span class="built_in">pos</span>().<span class="built_in">x</span>(),<span class="number">-29</span>);<span class="comment">//è´´è¾¹</span></span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">//çª—ä½“å¼¹å‡º</span></span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">this</span>-&gt;<span class="built_in">pos</span>().<span class="built_in">y</span>()&lt;=<span class="number">0</span>)<span class="comment">//é¼ æ ‡è¿›å…¥å¹¶ä¸”å·²ç»è´´è¾¹</span></span><br><span class="line">&#123;</span><br><span class="line">     <span class="built_in">move</span>(<span class="built_in">pos</span>().<span class="built_in">x</span>(),<span class="number">0</span>);<span class="comment">//å¼¹å‡ºæ•´ä¸ªçª—ä½“</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="äº”ã€å·¥ç¨‹ç»“æ„"><a href="#äº”ã€å·¥ç¨‹ç»“æ„" class="headerlink" title="äº”ã€å·¥ç¨‹ç»“æ„"></a>äº”ã€å·¥ç¨‹ç»“æ„</h1><div class="tag-plugin image"><div class="image-bg"><img src="https://www.freesion.com/images/175/98d5b014d5ca3fdf439ac410f37dab6f.png"/></div></div><h1 id="å…­ã€æºæ–‡ä»¶"><a href="#å…­ã€æºæ–‡ä»¶" class="headerlink" title="å…­ã€æºæ–‡ä»¶"></a>å…­ã€æºæ–‡ä»¶</h1><p>screen.hæ–‡ä»¶</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> SCREEN_H</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> SCREEN_H</span></span><br><span class="line"> </span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QWidget&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QPoint&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QMouseEvent&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QContextMenuEvent&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QMenu&gt;</span><span class="comment">//å³é”®èœå•</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QPaintEvent&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QPainter&gt;</span><span class="comment">//ç”»ç¬”</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QPixmap&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QDebug&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QDesktopWidget&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QApplication&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QFileDialog&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QShowEvent&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QClipboard&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QKeyEvent&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QRect&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QFile&gt;</span></span></span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Screen</span> : <span class="keyword">public</span> QWidget</span><br><span class="line">&#123;</span><br><span class="line">    Q_OBJECT</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">explicit</span> <span class="title">Screen</span><span class="params">(QWidget *parent = <span class="number">0</span>)</span></span>;</span><br><span class="line"> </span><br><span class="line">signals:</span><br><span class="line"> </span><br><span class="line"><span class="keyword">public</span> slots:</span><br><span class="line">     <span class="function"><span class="type">void</span> <span class="title">saveScreenOther</span><span class="params">()</span></span>;<span class="comment">//æˆªå›¾å¦å­˜ä¸º</span></span><br><span class="line">     <span class="function"><span class="type">void</span> <span class="title">grapFullScreen</span><span class="params">()</span></span>;<span class="comment">//å…¨å±æˆªå›¾</span></span><br><span class="line">     <span class="function"><span class="type">void</span> <span class="title">copyScreen</span><span class="params">()</span></span>; <span class="comment">//å³é”®å¤åˆ¶åˆ°ç²˜è´´æ¿</span></span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">contextMenuEvent</span><span class="params">(QContextMenuEvent *)</span></span>;  <span class="comment">//--å³é”®èœå•äº‹ä»¶</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">mousePressEvent</span><span class="params">(QMouseEvent *e)</span></span>;       <span class="comment">//--é¼ æ ‡æŒ‰ä¸‹äº‹ä»¶</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">mouseMoveEvent</span><span class="params">(QMouseEvent *e)</span></span>;       <span class="comment">//--é¼ æ ‡ç§»åŠ¨äº‹ä»¶</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">mouseReleaseEvent</span><span class="params">(QMouseEvent *e)</span></span>;   <span class="comment">//--é¼ æ ‡é‡Šæ”¾ï¼ˆæ¾å¼€ï¼‰äº‹ä»¶</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">paintEvent</span><span class="params">(QPaintEvent *)</span></span>;          <span class="comment">//--ç”»å›¾äº‹ä»¶</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">showEvent</span><span class="params">(QShowEvent *)</span></span>;           <span class="comment">//--çª—ä½“showäº‹ä»¶</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">keyPressEvent</span><span class="params">(QKeyEvent *e)</span></span>;      <span class="comment">//--æŒ‰é”®äº‹ä»¶</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    QPoint beginPos;<span class="comment">//è®°å½•é¼ æ ‡çš„èµ·å§‹ä½ç½®</span></span><br><span class="line">    QPoint endPos;<span class="comment">//è®°å½•é¼ æ ‡çš„ç»“æŸä½ç½®</span></span><br><span class="line">    QMenu *menu; <span class="comment">//å³é”®èœå•å¯¹è±¡</span></span><br><span class="line">    <span class="type">bool</span> leftPres;<span class="comment">//è®°å½•é¼ æ ‡å·¦é”®æ˜¯å¦æŒ‰ä¸‹ï¼ŒæŒ‰ä¸‹ä¸ºtrue</span></span><br><span class="line">    QRect * rect; <span class="comment">//çŸ©å½¢æˆªå›¾åŒºåŸŸ</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    QPixmap fullScreen;<span class="comment">//å…¨å±æˆªå›¾</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">QPoint <span class="title">getBeginPos</span><span class="params">()</span></span>;<span class="comment">//è·å–é¼ æ ‡çš„èµ·å§‹ä½ç½®</span></span><br><span class="line">    <span class="function">QPoint <span class="title">getEndPos</span><span class="params">()</span></span>;<span class="comment">//è·å–é¼ æ ‡çš„ç»“æŸä½ç½®</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">setBeginPos</span><span class="params">(QPoint p)</span></span>;<span class="comment">//è®¾ç½®é¼ æ ‡çš„èµ·å§‹ä½ç½®</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">setEndPos</span><span class="params">(QPoint p)</span></span>;<span class="comment">//è®¾ç½®é¼ æ ‡çš„ç»“æŸä½ç½®</span></span><br><span class="line"> </span><br><span class="line">&#125;;</span><br><span class="line"> </span><br><span class="line"><span class="meta">#<span class="keyword">endif</span> <span class="comment">// SCREEN_H</span></span></span><br></pre></td></tr></table></figure><p>widgets.hæ–‡ä»¶</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> WIDGET_H</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> WIDGET_H</span></span><br><span class="line"> </span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QWidget&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">namespace</span> Ui &#123;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Widget</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Widget</span> : <span class="keyword">public</span> QWidget</span><br><span class="line">&#123;</span><br><span class="line">    Q_OBJECT</span><br><span class="line"> </span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">explicit</span> <span class="title">Widget</span><span class="params">(QWidget *parent = <span class="number">0</span>)</span></span>;</span><br><span class="line">    ~<span class="built_in">Widget</span>();</span><br><span class="line"> </span><br><span class="line"><span class="keyword">private</span> slots:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">on_pushButton_clicked</span><span class="params">()</span></span>;</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">on_pushButton_2_clicked</span><span class="params">()</span></span>;</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">on_pushButton_4_clicked</span><span class="params">()</span></span>;</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">on_pushButton_3_clicked</span><span class="params">()</span></span>;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">enterEvent</span><span class="params">(QEvent *e)</span></span>;  <span class="comment">//--é¼ æ ‡è¿›å…¥äº‹ä»¶</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">leaveEvent</span><span class="params">(QEvent *e)</span></span>;  <span class="comment">//--é¼ æ ‡ç¦»å¼€äº‹ä»¶</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">mousePressEvent</span><span class="params">(QMouseEvent *e)</span></span>;       <span class="comment">//--é¼ æ ‡æŒ‰ä¸‹äº‹ä»¶</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">mouseMoveEvent</span><span class="params">(QMouseEvent *e)</span></span>;       <span class="comment">//--é¼ æ ‡ç§»åŠ¨äº‹ä»¶</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">mouseReleaseEvent</span><span class="params">(QMouseEvent *e)</span></span>;   <span class="comment">//--é¼ æ ‡é‡Šæ”¾ï¼ˆæ¾å¼€ï¼‰äº‹ä»¶</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    Ui::Widget *ui;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">        <span class="type">bool</span> leftPress;</span><br><span class="line">        QPoint beginPos;</span><br><span class="line">&#125;;</span><br><span class="line"> </span><br><span class="line"><span class="meta">#<span class="keyword">endif</span> <span class="comment">// WIDGET_H</span></span></span><br></pre></td></tr></table></figure><p><strong>screen.cppæ–‡ä»¶</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;screen.h&quot;</span></span></span><br><span class="line"> </span><br><span class="line">Screen::<span class="built_in">Screen</span>(QWidget *parent) :</span><br><span class="line">    <span class="built_in">QWidget</span>(parent)</span><br><span class="line">&#123;</span><br><span class="line">    beginPos = <span class="built_in">QPoint</span>(<span class="number">-1</span>,<span class="number">-1</span>);</span><br><span class="line">    endPos = beginPos;</span><br><span class="line">    leftPres = <span class="literal">false</span>;</span><br><span class="line">    <span class="built_in">setMouseTracking</span>(<span class="literal">true</span>);<span class="comment">//å¼€å¯é¼ æ ‡å®æ—¶è¿½è¸ªï¼Œå®æ—¶çš„æ˜¾ç¤ºé¼ æ ‡çš„ä½ç½®</span></span><br><span class="line">    rect = <span class="keyword">new</span> <span class="built_in">QRect</span>(<span class="number">0</span>,<span class="number">0</span>,QApplication::<span class="built_in">desktop</span>()-&gt;<span class="built_in">width</span>(),QApplication::<span class="built_in">desktop</span>()-&gt;<span class="built_in">height</span>());</span><br><span class="line">    menu = <span class="keyword">new</span> <span class="built_in">QMenu</span>(<span class="keyword">this</span>);<span class="comment">//åˆ›å»ºå³é”®èœå•</span></span><br><span class="line">    menu-&gt;<span class="built_in">addAction</span>(<span class="string">&quot;å¤åˆ¶(CTRL+C)&quot;</span>, <span class="keyword">this</span>, <span class="built_in">SLOT</span>(<span class="built_in">copyScreen</span>()));</span><br><span class="line">    menu-&gt;<span class="built_in">addAction</span>(<span class="string">&quot;æˆªå›¾å¦å­˜ä¸º(ALT+C)&quot;</span>, <span class="keyword">this</span>, <span class="built_in">SLOT</span>(<span class="built_in">saveScreenOther</span>()));</span><br><span class="line">    menu-&gt;<span class="built_in">addAction</span>(<span class="string">&quot;å…¨å±æˆªå›¾(ALT+A)&quot;</span>, <span class="keyword">this</span>, <span class="built_in">SLOT</span>(<span class="built_in">grapFullScreen</span>()));</span><br><span class="line">    menu-&gt;<span class="built_in">addAction</span>(<span class="string">&quot;é€€å‡ºæˆªå›¾(ESC)&quot;</span>, <span class="keyword">this</span>, <span class="built_in">SLOT</span>(<span class="built_in">hide</span>()));</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Screen::copyScreen</span><span class="params">()</span> <span class="comment">//å³é”®å¤åˆ¶åˆ°ç²˜è´´æ¿</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">   QGuiApplication::<span class="built_in">clipboard</span>()-&gt;<span class="built_in">setPixmap</span>(fullScreen.<span class="built_in">copy</span>(*rect));</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Screen::contextMenuEvent</span><span class="params">(QContextMenuEvent *)</span>  <span class="comment">//å³é”®èœå•äº‹ä»¶</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">this</span>-&gt;<span class="built_in">setCursor</span>(Qt::ArrowCursor);</span><br><span class="line">    menu-&gt;<span class="built_in">exec</span>(<span class="built_in">cursor</span>().<span class="built_in">pos</span>());</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Screen::mousePressEvent</span><span class="params">(QMouseEvent *e)</span>       <span class="comment">//--é¼ æ ‡æŒ‰ä¸‹äº‹ä»¶</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (e-&gt;<span class="built_in">button</span>() == Qt::LeftButton)<span class="comment">//é¼ æ ‡å·¦é”®æŒ‰ä¸‹</span></span><br><span class="line">    &#123;</span><br><span class="line">        leftPres = <span class="literal">true</span>;</span><br><span class="line">        <span class="built_in">setBeginPos</span>(e-&gt;<span class="built_in">pos</span>());<span class="comment">//é¼ æ ‡ç›¸å¯¹çª—ä½“çš„ä½ç½®</span></span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Screen::mouseMoveEvent</span><span class="params">(QMouseEvent *e)</span>    <span class="comment">//--é¼ æ ‡ç§»åŠ¨äº‹ä»¶</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(leftPres)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">setEndPos</span>(e-&gt;<span class="built_in">pos</span>());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">update</span>();<span class="comment">//é‡ç»˜ã€è§¦å‘ç”»å›¾äº‹ä»¶</span></span><br><span class="line"> </span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Screen::mouseReleaseEvent</span><span class="params">(QMouseEvent *e)</span> <span class="comment">//--é¼ æ ‡é‡Šæ”¾ï¼ˆæ¾å¼€ï¼‰äº‹ä»¶</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    leftPres = <span class="literal">false</span>;</span><br><span class="line">    <span class="built_in">setEndPos</span>(e-&gt;<span class="built_in">pos</span>());</span><br><span class="line">    <span class="comment">//ä½¿å¾—èµ·å§‹ç‚¹åœ¨å·¦ä¸Šè§’ï¼Œç»“æŸç‚¹åœ¨å³ä¸‹è§’</span></span><br><span class="line">    <span class="keyword">if</span>(beginPos.<span class="built_in">x</span>()&gt;endPos.<span class="built_in">x</span>())</span><br><span class="line">    &#123;</span><br><span class="line">        beginPos.<span class="built_in">setX</span>(beginPos.<span class="built_in">x</span>() + endPos.<span class="built_in">x</span>());</span><br><span class="line">        endPos.<span class="built_in">setX</span>(beginPos.<span class="built_in">x</span>() - endPos.<span class="built_in">x</span>());</span><br><span class="line">        beginPos.<span class="built_in">setX</span>(beginPos.<span class="built_in">x</span>() - endPos.<span class="built_in">x</span>());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(beginPos.<span class="built_in">y</span>()&gt;endPos.<span class="built_in">y</span>())</span><br><span class="line">    &#123;</span><br><span class="line">        beginPos.<span class="built_in">setY</span>(beginPos.<span class="built_in">y</span>() + endPos.<span class="built_in">y</span>());</span><br><span class="line">        endPos.<span class="built_in">setY</span>(beginPos.<span class="built_in">y</span>() - endPos.<span class="built_in">y</span>());</span><br><span class="line">        beginPos.<span class="built_in">setY</span>(beginPos.<span class="built_in">y</span>() - endPos.<span class="built_in">y</span>());</span><br><span class="line">    &#125;</span><br><span class="line">    rect-&gt;<span class="built_in">setRect</span>(beginPos.<span class="built_in">x</span>(),beginPos.<span class="built_in">y</span>(),endPos.<span class="built_in">x</span>()-beginPos.<span class="built_in">x</span>(),endPos.<span class="built_in">y</span>()-beginPos.<span class="built_in">y</span>());</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="function">QPoint <span class="title">Screen::getBeginPos</span><span class="params">()</span><span class="comment">//è·å–é¼ æ ‡çš„èµ·å§‹ä½ç½®</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> beginPos;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">QPoint <span class="title">Screen::getEndPos</span><span class="params">()</span><span class="comment">//è·å–é¼ æ ‡çš„ç»“æŸä½ç½®</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> endPos;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Screen::setBeginPos</span><span class="params">(QPoint p)</span><span class="comment">//è®¾ç½®é¼ æ ‡çš„èµ·å§‹ä½ç½®</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">this</span>-&gt;beginPos = p;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Screen::setEndPos</span><span class="params">(QPoint p)</span><span class="comment">//è®¾ç½®é¼ æ ‡çš„ç»“æŸä½ç½®</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">this</span>-&gt;endPos = p;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"> <span class="function"><span class="type">void</span> <span class="title">Screen::paintEvent</span><span class="params">(QPaintEvent *)</span>          <span class="comment">//--ç”»å›¾äº‹ä»¶</span></span></span><br><span class="line"><span class="function"> </span>&#123;</span><br><span class="line"> </span><br><span class="line">     <span class="function">QPainter <span class="title">painter</span><span class="params">(<span class="keyword">this</span>)</span></span>; <span class="comment">//å°†å½“å‰çª—ä½“å¯¹è±¡è®¾ç½®ä¸ºç”»å¸ƒ</span></span><br><span class="line">     QPen pen;</span><br><span class="line">     pen.<span class="built_in">setColor</span>(Qt::red);<span class="comment">//è®¾ç½®ç¬”è‰²</span></span><br><span class="line">     pen.<span class="built_in">setWidth</span>(<span class="number">1</span>);     <span class="comment">//ç”»ç¬”çº¿æ¡å®½åº¦</span></span><br><span class="line">     painter.<span class="built_in">setPen</span>(pen);<span class="comment">//è®¾ç½®ç”»ç¬”</span></span><br><span class="line"> </span><br><span class="line">     <span class="type">int</span> lx = beginPos.<span class="built_in">x</span>()&lt;endPos.<span class="built_in">x</span>()?beginPos.<span class="built_in">x</span>():endPos.<span class="built_in">x</span>();<span class="comment">//çŸ©å½¢æˆªå›¾åŒºåŸŸå·¦ä¸Šè§’xåæ ‡</span></span><br><span class="line">     <span class="type">int</span> ly = beginPos.<span class="built_in">y</span>()&lt;endPos.<span class="built_in">y</span>()?beginPos.<span class="built_in">y</span>():endPos.<span class="built_in">y</span>();<span class="comment">//çŸ©å½¢æˆªå›¾åŒºåŸŸå³ä¸Šè§’xåæ ‡</span></span><br><span class="line">     <span class="type">int</span> w = beginPos.<span class="built_in">x</span>()&lt;endPos.<span class="built_in">x</span>()?endPos.<span class="built_in">x</span>()-beginPos.<span class="built_in">x</span>():beginPos.<span class="built_in">x</span>()-endPos.<span class="built_in">x</span>();<span class="comment">//çŸ©å½¢æˆªå›¾åŒºåŸŸå®½åº¦</span></span><br><span class="line">     <span class="type">int</span> h = beginPos.<span class="built_in">y</span>()&lt;endPos.<span class="built_in">y</span>()?endPos.<span class="built_in">y</span>()-beginPos.<span class="built_in">y</span>():beginPos.<span class="built_in">y</span>()-endPos.<span class="built_in">y</span>();<span class="comment">//çŸ©å½¢æˆªå›¾åŒºåŸŸé«˜åº¦</span></span><br><span class="line"> </span><br><span class="line">     QRect rect = <span class="built_in">QRect</span>(lx,ly,w,h);<span class="comment">//çŸ©å½¢æˆªå›¾åŒºåŸŸ</span></span><br><span class="line">     <span class="keyword">if</span>(lx!=<span class="number">-1</span> &amp;&amp; w&gt;<span class="number">0</span> &amp;&amp; h&gt;<span class="number">0</span>)<span class="comment">//é˜²æ­¢ç¬¬ä¸€æ¬¡å°±é‡ç»˜ å¹¶ä¸”å®½é«˜å¤§äº0æ—¶æ‰è¿›è¡Œæˆªå›¾æ“ä½œ</span></span><br><span class="line">     &#123;</span><br><span class="line"> </span><br><span class="line">         painter.<span class="built_in">drawPixmap</span>(rect,fullScreen,rect);<span class="comment">//é‡ç»˜æˆªå›¾çŸ©å½¢éƒ¨åˆ†ï¼Œå³æ¢å¤åŸå›¾ï¼Œè¾¾åˆ°å»é™¤å¹•å¸ƒæ•ˆæœ</span></span><br><span class="line">         painter.<span class="built_in">drawRect</span>(lx, ly, w, h);<span class="comment">//ç”»æˆªå›¾çŸ©å½¢</span></span><br><span class="line">         <span class="comment">//æˆªå›¾åŒºåŸŸå¤§å°ä½ç½®æç¤º</span></span><br><span class="line">         <span class="keyword">if</span>(ly&gt;<span class="number">10</span>)<span class="comment">//é¿å…çœ‹ä¸åˆ°æç¤º,åœ¨æˆªå›¾çŸ©å½¢ä¸Šè¾¹ä¸æ¥è¿‘å±å¹•ä¸Šè¾¹æ—¶ï¼Œæç¤ºåœ¨æˆªå›¾çŸ©å½¢çš„ä¸Šè¾¹çš„ä¸Šé¢</span></span><br><span class="line">         &#123;</span><br><span class="line">             painter.<span class="built_in">drawText</span>(lx + <span class="number">2</span>, ly - <span class="number">8</span>, <span class="built_in">tr</span>(<span class="string">&quot;æˆªå›¾èŒƒå›´(%1,%2) - (%3,%4)  æˆªå›¾å¤§å°ï¼š(%5 x %6)&quot;</span>) .<span class="built_in">arg</span>(lx).<span class="built_in">arg</span>(ly).<span class="built_in">arg</span>(lx + w).<span class="built_in">arg</span>(ly + h).<span class="built_in">arg</span>(w).<span class="built_in">arg</span>(h));</span><br><span class="line">         &#125;</span><br><span class="line">         <span class="keyword">else</span><span class="comment">//åœ¨æˆªå›¾çŸ©å½¢ä¸Šè¾¹æ¥è¿‘å±å¹•ä¸Šè¾¹æ—¶ï¼Œæç¤ºåœ¨æˆªå›¾çŸ©å½¢çš„ä¸Šè¾¹çš„ä¸‹é¢</span></span><br><span class="line">         &#123;</span><br><span class="line">            painter.<span class="built_in">drawText</span>(lx + <span class="number">2</span>, ly + <span class="number">12</span>, <span class="built_in">tr</span>(<span class="string">&quot;æˆªå›¾èŒƒå›´(%1,%2) - (%3,%4)  æˆªå›¾å¤§å°ï¼š(%5 x %6)&quot;</span>) .<span class="built_in">arg</span>(lx).<span class="built_in">arg</span>(ly).<span class="built_in">arg</span>(lx + w).<span class="built_in">arg</span>(ly + h).<span class="built_in">arg</span>(w).<span class="built_in">arg</span>(h));</span><br><span class="line">         &#125;</span><br><span class="line">     &#125;</span><br><span class="line"> </span><br><span class="line">     <span class="comment">//å®æ—¶æ˜¾ç¤ºé¼ æ ‡çš„ä½ç½®</span></span><br><span class="line">     painter.<span class="built_in">drawText</span>(<span class="built_in">cursor</span>().<span class="built_in">pos</span>().<span class="built_in">x</span>(), <span class="built_in">cursor</span>().<span class="built_in">pos</span>().<span class="built_in">y</span>(), <span class="built_in">tr</span>(<span class="string">&quot;(%1,%2)&quot;</span>) .<span class="built_in">arg</span>(<span class="built_in">cursor</span>().<span class="built_in">pos</span>().<span class="built_in">x</span>()).<span class="built_in">arg</span>(<span class="built_in">cursor</span>().<span class="built_in">pos</span>().<span class="built_in">y</span>()));</span><br><span class="line"> </span><br><span class="line"> &#125;</span><br><span class="line"> </span><br><span class="line"> <span class="function"><span class="type">void</span> <span class="title">Screen::showEvent</span><span class="params">(QShowEvent *)</span>           <span class="comment">//--çª—ä½“showäº‹ä»¶</span></span></span><br><span class="line"><span class="function"> </span>&#123;</span><br><span class="line">      <span class="comment">//è®¾ç½®é€æ˜åº¦å®ç°æ¨¡ç³ŠèƒŒæ™¯</span></span><br><span class="line">     <span class="built_in">setWindowOpacity</span>(<span class="number">0.7</span>);</span><br><span class="line"> </span><br><span class="line"> &#125;</span><br><span class="line"> </span><br><span class="line"> <span class="function"><span class="type">void</span> <span class="title">Screen::saveScreenOther</span><span class="params">()</span></span></span><br><span class="line"><span class="function"> </span>&#123;</span><br><span class="line">     QString fileName = QFileDialog::<span class="built_in">getSaveFileName</span>(<span class="keyword">this</span>, <span class="string">&quot;æˆªå›¾å¦å­˜ä¸º&quot;</span>, <span class="string">&quot;&quot;</span>, <span class="string">&quot;Image (*.jpg *.png *.bmp)&quot;</span>);</span><br><span class="line"> </span><br><span class="line">     <span class="keyword">if</span> (fileName.<span class="built_in">length</span>() &gt; <span class="number">0</span>) &#123;</span><br><span class="line">         fullScreen.<span class="built_in">copy</span>(*rect).<span class="built_in">save</span>(fileName,<span class="string">&quot;bmp&quot;</span>);</span><br><span class="line"> </span><br><span class="line">         <span class="built_in">close</span>();</span><br><span class="line">     &#125;</span><br><span class="line"> &#125;</span><br><span class="line"> </span><br><span class="line"> <span class="function"><span class="type">void</span> <span class="title">Screen::grapFullScreen</span><span class="params">()</span></span></span><br><span class="line"><span class="function"> </span>&#123;</span><br><span class="line">     endPos.<span class="built_in">setX</span>(<span class="number">-1</span>);<span class="comment">//æ­¤æ—¶é¿å…ç”»æˆªå›¾çŸ©å½¢</span></span><br><span class="line">     QString fileName = QFileDialog::<span class="built_in">getSaveFileName</span>(<span class="keyword">this</span>, <span class="string">&quot;ä¿å­˜å…¨å±æˆªå›¾&quot;</span>, <span class="string">&quot;&quot;</span>, <span class="string">&quot;JPEG Files (*.jpg)&quot;</span>);</span><br><span class="line"> </span><br><span class="line">     <span class="keyword">if</span> (fileName.<span class="built_in">length</span>() &gt; <span class="number">0</span>)</span><br><span class="line">     &#123;</span><br><span class="line">         fullScreen.<span class="built_in">save</span>(fileName, <span class="string">&quot;jpg&quot;</span>);</span><br><span class="line">         <span class="built_in">close</span>();</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="keyword">this</span>-&gt;<span class="built_in">hide</span>();</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="function"><span class="type">void</span> <span class="title">Screen::keyPressEvent</span><span class="params">(QKeyEvent *e)</span> <span class="comment">//æŒ‰é”®äº‹ä»¶</span></span></span><br><span class="line"><span class="function"> </span>&#123;</span><br><span class="line">     <span class="comment">/// Esc é”®é€€å‡ºæˆªå›¾;</span></span><br><span class="line">     <span class="keyword">if</span> (e-&gt;<span class="built_in">key</span>() == Qt::Key_Escape)</span><br><span class="line">     &#123;</span><br><span class="line">         <span class="built_in">hide</span>();</span><br><span class="line">     &#125;<span class="comment">///CTRL+C å¤åˆ¶</span></span><br><span class="line">     <span class="keyword">else</span> <span class="keyword">if</span>(e-&gt;<span class="built_in">key</span>() == Qt::Key_C &amp;&amp; e-&gt;<span class="built_in">modifiers</span>() ==  Qt::ControlModifier)</span><br><span class="line">     &#123;</span><br><span class="line">         QGuiApplication::<span class="built_in">clipboard</span>()-&gt;<span class="built_in">setPixmap</span>(fullScreen.<span class="built_in">copy</span>(*rect));</span><br><span class="line"> </span><br><span class="line">     &#125;<span class="comment">///æˆªå›¾å¦å­˜ä¸º(ALT+C)</span></span><br><span class="line">     <span class="keyword">else</span> <span class="keyword">if</span>(e-&gt;<span class="built_in">key</span>() == Qt::Key_C &amp;&amp; e-&gt;<span class="built_in">modifiers</span>() ==  Qt::AltModifier)</span><br><span class="line">     &#123;</span><br><span class="line">        <span class="built_in">saveScreenOther</span>();</span><br><span class="line">     &#125;<span class="comment">///å…¨å±æˆªå›¾(ALT+A)</span></span><br><span class="line">     <span class="keyword">else</span> <span class="keyword">if</span>(e-&gt;<span class="built_in">key</span>() == Qt::Key_A &amp;&amp; e-&gt;<span class="built_in">modifiers</span>() ==  Qt::AltModifier)</span><br><span class="line">     &#123;</span><br><span class="line">        <span class="built_in">grapFullScreen</span>();</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="keyword">else</span></span><br><span class="line">     &#123;</span><br><span class="line">         e-&gt;<span class="built_in">ignore</span>();</span><br><span class="line">     &#125;</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> &#125;</span><br><span class="line"> </span><br></pre></td></tr></table></figure><p>widget.cppæ–‡ä»¶</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;widget.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;ui_widget.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QMessageBox&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QDesktopWidget&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QFileDialog&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QScreen&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QString&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QDebug&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QPoint&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QTime&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;screen.h&quot;</span></span></span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">Widget::<span class="built_in">Widget</span>(QWidget *parent) :</span><br><span class="line">    <span class="built_in">QWidget</span>(parent),</span><br><span class="line">    <span class="built_in">ui</span>(<span class="keyword">new</span> Ui::Widget)</span><br><span class="line">&#123;</span><br><span class="line">    ui-&gt;<span class="built_in">setupUi</span>(<span class="keyword">this</span>);</span><br><span class="line">    beginPos = <span class="keyword">this</span>-&gt;<span class="built_in">pos</span>();</span><br><span class="line">    leftPress = <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">this</span>-&gt;<span class="built_in">setProperty</span>(<span class="string">&quot;CanMove&quot;</span>, <span class="literal">true</span>);</span><br><span class="line">    <span class="comment">//å®ç°æ— è¾¹æ¡† (Qt::FramelessWindowHintå»è¾¹æ¡†)  Qt::WindowStaysOnTopHint çª—ä½“ç½®é¡¶ é˜²æ­¢æ‹–åˆ°ä»»åŠ¡æ ä¸‹é¢</span></span><br><span class="line">    <span class="keyword">this</span>-&gt;<span class="built_in">setWindowFlags</span>(Qt::FramelessWindowHint | Qt::WindowSystemMenuHint | Qt::WindowMinMaxButtonsHint|Qt::WindowStaysOnTopHint);</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">Widget::~<span class="built_in">Widget</span>()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">delete</span> ui;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Widget::mousePressEvent</span><span class="params">(QMouseEvent *e)</span>       <span class="comment">//--é¼ æ ‡æŒ‰ä¸‹äº‹ä»¶</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (e-&gt;<span class="built_in">button</span>() == Qt::LeftButton)<span class="comment">//é¼ æ ‡å·¦é”®æŒ‰ä¸‹</span></span><br><span class="line">    &#123;</span><br><span class="line">        leftPress = <span class="literal">true</span>;</span><br><span class="line">        beginPos = e-&gt;<span class="built_in">pos</span>();<span class="comment">//é¼ æ ‡ç›¸å¯¹çª—ä½“çš„ä½ç½®</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Widget::mouseMoveEvent</span><span class="params">(QMouseEvent *e)</span>       <span class="comment">//--é¼ æ ‡ç§»åŠ¨äº‹ä»¶</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (leftPress)</span><br><span class="line">    &#123;<span class="comment">//å½“å‰é¼ æ ‡ç›¸å¯¹çª—ä½“çš„ä½ç½®-åˆšæŒ‰ä¸‹å·¦é”®æ—¶çš„ç›¸å¯¹ä½ç½®=é¼ æ ‡ç§»åŠ¨çš„å¤§å°</span></span><br><span class="line">         <span class="built_in">move</span>(e-&gt;<span class="built_in">pos</span>() - beginPos + <span class="keyword">this</span>-&gt;<span class="built_in">pos</span>());</span><br><span class="line">         <span class="comment">//           é¼ æ ‡ç§»åŠ¨çš„å¤§å°+çª—ä½“åŸæ¥çš„ä½ç½®=çª—ä½“ç§»åŠ¨åçš„ä½ç½®</span></span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Widget::mouseReleaseEvent</span><span class="params">(QMouseEvent *e)</span>   <span class="comment">//--é¼ æ ‡é‡Šæ”¾ï¼ˆæ¾å¼€ï¼‰äº‹ä»¶</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    leftPress = <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Widget::enterEvent</span><span class="params">(QEvent *e)</span>  <span class="comment">//--é¼ æ ‡è¿›å…¥äº‹ä»¶</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">this</span>-&gt;<span class="built_in">pos</span>().<span class="built_in">y</span>()&lt;=<span class="number">0</span>)<span class="comment">//é¼ æ ‡è¿›å…¥å¹¶ä¸”å·²ç»è´´è¾¹</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">move</span>(<span class="built_in">pos</span>().<span class="built_in">x</span>(),<span class="number">0</span>);<span class="comment">//å¼¹å‡ºæ•´ä¸ªçª—ä½“</span></span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Widget::leaveEvent</span><span class="params">(QEvent *e)</span>  <span class="comment">//--é¼ æ ‡ç¦»å¼€äº‹ä»¶</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">this</span>-&gt;<span class="built_in">pos</span>().<span class="built_in">y</span>()&lt;=<span class="number">0</span>)<span class="comment">//çª—ä½“è´´åœ¨å±å¹•ä¸Šè¾¹</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">move</span>(<span class="built_in">pos</span>().<span class="built_in">x</span>(),<span class="number">-29</span>);<span class="comment">//è´´è¾¹</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Widget::on_pushButton_2_clicked</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//æˆªå›¾ä¹‹å‰éšå»çª—ä½“ï¼Œä¸ç„¶æˆªå›¾ä¹‹ä¸­å°±ä¼šæœ‰çª—ä½“çš„å­˜åœ¨</span></span><br><span class="line">    <span class="keyword">if</span>( <span class="built_in">windowState</span>() != Qt::WindowMinimized )</span><br><span class="line">    &#123;</span><br><span class="line">         <span class="built_in">setWindowState</span>( Qt::WindowMinimized );<span class="comment">//æœ€å°åŒ–çˆ¶çª—ä½“</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//å»¶æ—¶ç­‰å¾…çˆ¶çª—ä½“æœ€å°åŒ– å»¶æ—¶250æ¯«ç§’</span></span><br><span class="line">    QTime _Timer = QTime::<span class="built_in">currentTime</span>().<span class="built_in">addMSecs</span>(<span class="number">250</span>);</span><br><span class="line">    <span class="keyword">while</span>( QTime::<span class="built_in">currentTime</span>() &lt; _Timer )</span><br><span class="line">    &#123;</span><br><span class="line">        QCoreApplication::<span class="built_in">processEvents</span>(QEventLoop::AllEvents, <span class="number">100</span>);</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">//å…ˆè·å–å…¨å±æˆªå›¾ï¼Œå†æ‹‰ä¸Šå¹•å¸ƒ</span></span><br><span class="line">    Screen *m = <span class="keyword">new</span> <span class="built_in">Screen</span>();</span><br><span class="line">    m-&gt;fullScreen = QPixmap::<span class="built_in">grabWindow</span>(QApplication::<span class="built_in">desktop</span>()-&gt;<span class="built_in">winId</span>());</span><br><span class="line">    m-&gt;<span class="built_in">showFullScreen</span>();</span><br><span class="line"> </span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Widget::on_pushButton_clicked</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">      <span class="comment">//è·å–å…¨å±æˆªå›¾</span></span><br><span class="line">      QPixmap p = QPixmap::<span class="built_in">grabWindow</span>(QApplication::<span class="built_in">desktop</span>()-&gt;<span class="built_in">winId</span>());</span><br><span class="line">      <span class="comment">//æ‰“å¼€æ–‡ä»¶å¯¹è¯æ¡†</span></span><br><span class="line">      QString fileName = QFileDialog::<span class="built_in">getSaveFileName</span>(<span class="keyword">this</span>, <span class="string">&quot;æ–‡ä»¶å¦å­˜ä¸º&quot;</span>,<span class="string">&quot;&quot;</span>,<span class="built_in">tr</span>(<span class="string">&quot;Config Files (*.bmp)&quot;</span>));</span><br><span class="line">      <span class="comment">//ä¿å­˜æˆªå›¾</span></span><br><span class="line">      <span class="keyword">if</span>(fileName.<span class="built_in">length</span>() &gt; <span class="number">0</span> &amp;&amp; p.<span class="built_in">save</span>(fileName,<span class="string">&quot;bmp&quot;</span>))</span><br><span class="line">      &#123;</span><br><span class="line">          QMessageBox::<span class="built_in">information</span>(<span class="keyword">this</span>, <span class="string">&quot;æç¤º&quot;</span>, <span class="string">&quot;ä¿å­˜æˆåŠŸ!&quot;</span>,QMessageBox::Ok);</span><br><span class="line">      &#125;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Widget::on_pushButton_4_clicked</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>( <span class="built_in">windowState</span>() != Qt::WindowMinimized )</span><br><span class="line">    &#123;</span><br><span class="line">         <span class="built_in">setWindowState</span>( Qt::WindowMinimized );<span class="comment">//æœ€å°åŒ–çª—ä½“</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Widget::on_pushButton_3_clicked</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">this</span>-&gt;<span class="built_in">close</span>();<span class="comment">//å…³é—­çª—ä½“</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>main.cppæ–‡ä»¶</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;widget.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QApplication&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;screen.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QDebug&gt;</span></span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> *argv[])</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">QApplication <span class="title">a</span><span class="params">(argc, argv)</span></span>;</span><br><span class="line">    Widget w;</span><br><span class="line">    w.<span class="built_in">show</span>();</span><br><span class="line">   <span class="keyword">return</span> a.<span class="built_in">exec</span>();</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>ä¸ƒã€æ³¨æ„äº‹é¡¹</strong></p><p>  ****update()è§¦å‘***<strong>paintEventé‡ç»˜äº‹ä»¶ï¼Œä¸æ˜¯ç›´æ¥è°ƒç”¨*paintEvent()ã€‚</strong></p>]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> Qt </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Qt </tag>
            
            <tag> æˆªå›¾ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Qt é¼ æ ‡ hover æ“ä½œæ—¶å¼¹å‡ºæ–‡å­—æ°”æ³¡</title>
      <link href="/Code/Qt/Qt%E6%B0%94%E6%B3%A1/"/>
      <url>/Code/Qt/Qt%E6%B0%94%E6%B3%A1/</url>
      
        <content type="html"><![CDATA[<p>[TOC]</p><p>éœ€æ±‚æè¿°ï¼šé¼ æ ‡ hover åœ¨ä¸€ä¸ªæ§ä»¶ä¸Šæ—¶ï¼Œå±•ç¤ºè®¾ç½®å¥½çš„æ°”æ³¡ä¿¡æ¯</p><h1 id="æ¼”ç¤º"><a href="#æ¼”ç¤º" class="headerlink" title="æ¼”ç¤º"></a>æ¼”ç¤º</h1><div class="tag-plugin image"><div class="image-bg"><img src="https://raw.githubusercontent.com/holdyounger/ScopeBlog/rc_images/Images/Qt/images/Qt%E6%B0%94%E6%B3%A1/2.gif"/></div></div><h1 id="ç›¸å…³è¯´æ˜"><a href="#ç›¸å…³è¯´æ˜" class="headerlink" title="ç›¸å…³è¯´æ˜"></a>ç›¸å…³è¯´æ˜</h1><p>Qt5ä¹‹å‰çš„ç‰ˆæœ¬è¦è®¾ç½®æ°”æ³¡éœ€è¦é€šè¿‡C++ä¸­å…¶ä»–çš„ç±»åº“å»å®ç°ï¼Œåœ¨Qt5ä¸­åˆ™å·²ç»å®ç°äº†ç›¸å…³çš„Qtç±»ã€‚å¹¶ä¸”é™¤äº†è®¾ç½®æ–‡å­—æ°”æ³¡ä¹‹å¤–ï¼Œè¿˜å¯ä»¥é€šè¿‡é‡å†™ <code>QToolTip</code> ç±»å®ç°è‡ªå·±éœ€è¦çš„æ°”æ³¡æ ·å¼ã€‚</p><p>ä» <a href="http://qt5.digitser.net/5.9/zh-CN/index.html">Qt 5.9.9 </a> å·²ç»æ”¯æŒ <code>QToolTip</code>ã€‚åŸºæœ¬æ‰€æœ‰ç»§æ‰¿äº <code>QWidget</code> çš„ç»„ä»¶éƒ½å¯ä»¥é€šè¿‡ <code>setToolTip()</code>è®¾ç½®æ°”æ³¡ä¿¡æ¯ã€‚ä»¥ä¸‹æ‰€å±•ç¤ºçš„QtåŸºç±»éƒ½å¯ä»¥è®¾ç½®æ°”æ³¡ä¿¡æ¯ã€‚</p><blockquote><ul><li>setToolTip: <a href="http://qt5.digitser.net/5.9/zh-CN/qaction.html#toolTip-prop">QAction </a><a href="http://qt5.digitser.net/5.9/zh-CN/qgraphicsitem.html#setToolTip">QGraphicsItem </a><a href="http://qt5.digitser.net/5.9/zh-CN/qlistwidgetitem.html#setToolTip">QListWidgetItem </a><a href="http://qt5.digitser.net/5.9/zh-CN/qstandarditem.html#setToolTip">QStandardItem </a><a href="http://qt5.digitser.net/5.9/zh-CN/qsystemtrayicon.html#toolTip-prop">QSystemTrayIcon </a><a href="http://qt5.digitser.net/5.9/zh-CN/qtablewidgetitem.html#setToolTip">QTableWidgetItem </a><a href="http://qt5.digitser.net/5.9/zh-CN/qtextcharformat.html#setToolTip">QTextCharFormat </a><a href="http://qt5.digitser.net/5.9/zh-CN/qtreewidgetitem.html#setToolTip">QTreeWidgetItem </a><a href="http://qt5.digitser.net/5.9/zh-CN/qwidget.html#toolTip-prop">QWidget </a><a href="http://qt5.digitser.net/5.9/zh-CN/qwinthumbnailtoolbutton.html#toolTip-prop">QWinThumbnailToolButton</a></li><li>setToolTipDuration: <a href="http://qt5.digitser.net/5.9/zh-CN/qwidget.html#toolTipDuration-prop">QWidget</a></li><li>setToolTipsVisible: <a href="http://qt5.digitser.net/5.9/zh-CN/qmenu.html#toolTipsVisible-prop">QMenu</a></li></ul></blockquote><p>åŸºæœ¬ä¸Šæ‰€æœ‰ç»§æ‰¿äº <code>QWidget</code> çš„Qtæ§ä»¶ç±»éƒ½æ”¯æŒè®¾ç½®æ°”æ³¡ï¼Œæœ¬æ–‡ä»¥ <code>QLabel</code> å’Œ <code>QPushButton</code> ä¸ºä¾‹æ¼”ç¤ºæ–‡å­—æ°”æ³¡åŠŸèƒ½ã€‚</p><h2 id="æ”¯æŒ-SetToolTipçš„æ§ä»¶"><a href="#æ”¯æŒ-SetToolTipçš„æ§ä»¶" class="headerlink" title="æ”¯æŒ SetToolTipçš„æ§ä»¶"></a>æ”¯æŒ <code>SetToolTip</code>çš„æ§ä»¶</h2><div class="tag-plugin image"><div class="image-bg"><img src="https://raw.githubusercontent.com/holdyounger/ScopeBlog/rc_images/Images/Qt/images/Qt%E6%B0%94%E6%B3%A1/1.png"/></div></div><h2 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h2><p>ä»£ç å¾ˆç®€å•ï¼Œåœ¨uiç•Œé¢æ‹–ä¸€ä¸ª <code>QLabel</code> å’Œä¸€ä¸ª <code>QPushbutton</code> å³å¯ï¼Œä¿¡å·æ§½ç›´æ¥åœ¨uiç•Œé¢å³å‡»è½¬åˆ°æ§½å³å¯ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;widget.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;ui_widget.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QImage&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QPixmap&gt;</span></span></span><br><span class="line"></span><br><span class="line">Widget::<span class="built_in">Widget</span>(QWidget *parent)</span><br><span class="line">    : <span class="built_in">QWidget</span>(parent)</span><br><span class="line">    , <span class="built_in">ui</span>(<span class="keyword">new</span> Ui::Widget)</span><br><span class="line">&#123;</span><br><span class="line">    ui-&gt;<span class="built_in">setupUi</span>(<span class="keyword">this</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function">QPixmap <span class="title">img</span><span class="params">(<span class="string">&quot;:/Win11.jpg&quot;</span>)</span></span>;</span><br><span class="line"></span><br><span class="line">    ui-&gt;label-&gt;<span class="built_in">setPixmap</span>(img);</span><br><span class="line">    ui-&gt;label-&gt;<span class="built_in">setScaledContents</span>(<span class="literal">true</span>);</span><br><span class="line">    ui-&gt;label-&gt;<span class="built_in">setToolTip</span>(<span class="built_in">QString</span>(<span class="string">&quot;å£çº¸ã€ŠWin11.pngã€‹&quot;</span>));</span><br><span class="line">    ui-&gt;pushButton-&gt;<span class="built_in">setToolTip</span>(<span class="built_in">QString</span>(<span class="string">&quot;éšè—æˆ–æ˜¾ç¤ºå›¾ç‰‡&quot;</span>));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Widget::~<span class="built_in">Widget</span>()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">delete</span> ui;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Widget::on_pushButton_clicked</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(ui-&gt;label-&gt;<span class="built_in">isVisible</span>())</span><br><span class="line">        ui-&gt;label-&gt;<span class="built_in">hide</span>();</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        ui-&gt;label-&gt;<span class="built_in">setVisible</span>(<span class="literal">true</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> Qt </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Qt </tag>
            
            <tag> æ°”æ³¡ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Qt çª—å£å±…ä¸­æ˜¾ç¤º</title>
      <link href="/Code/Qt/Qt%E7%AA%97%E5%8F%A3%E5%B1%85%E4%B8%AD/"/>
      <url>/Code/Qt/Qt%E7%AA%97%E5%8F%A3%E5%B1%85%E4%B8%AD/</url>
      
        <content type="html"><![CDATA[<p>ä¸€ã€è¿›è¡Œç•Œé¢å¸ƒå±€çš„æ—¶å€™ï¼Œå¾€å¾€éœ€è¦å°†ç•Œé¢æ˜¾ç¤ºåœ¨æ•´ä¸ªæ¡Œé¢çš„ä¸­å¿ƒä½ç½®ï¼Œæ‰€ä»¥éœ€è¦è¿›è¡Œä¸€ä¸‹å¤„ç†</p><p>äºŒã€åŠ ä¸Šå¤´æ–‡ä»¶</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QDesktopWidget&gt;</span></span></span><br></pre></td></tr></table></figure><p>ä¸‰ã€å†åœ¨æ„é€ å‡½æ•°ä¸­åŠ ä¸Šä»£ç </p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">QDesktopWidget *deskdop=QApplication::<span class="built_in">desktop</span>();</span><br><span class="line"><span class="built_in">move</span>((deskdop-&gt;<span class="built_in">width</span>()-<span class="keyword">this</span>-&gt;<span class="built_in">width</span>())/<span class="number">2</span>, (deskdop-&gt;<span class="built_in">height</span>()-<span class="keyword">this</span>-&gt;<span class="built_in">height</span>())/<span class="number">2</span>);</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> Qt </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Qt </tag>
            
            <tag> å¸ƒå±€ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Qtå›¾ç‰‡æ—‹è½¬</title>
      <link href="/Code/Qt/Qt%E5%9B%BE%E7%89%87%E6%97%8B%E8%BD%AC/"/>
      <url>/Code/Qt/Qt%E5%9B%BE%E7%89%87%E6%97%8B%E8%BD%AC/</url>
      
        <content type="html"><![CDATA[<h1 id="Qt-loading-æ ·å¼-å›¾ç‰‡æ—‹è½¬"><a href="#Qt-loading-æ ·å¼-å›¾ç‰‡æ—‹è½¬" class="headerlink" title="Qt loading æ ·å¼ å›¾ç‰‡æ—‹è½¬"></a>Qt loading æ ·å¼ å›¾ç‰‡æ—‹è½¬</h1><p>å›¾ç‰‡æ—‹è½¬å¯ä»¥ä½¿ç”¨painteventæ—¶é—´ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨è¿‡æ»¤å™¨å®ç°ã€‚å¦‚ä¸‹ä¸ºä½¿ç”¨è¿‡æ»¤å™¨çš„æ–¹å¼å®ç°å›¾ç‰‡æ—‹è½¬ã€‚</p><ol><li>é¦–å…ˆåœ¨ UI ä¸­ç»˜åˆ¶ ä¸€ä¸ª QLabel ç”¨äºæ‰¿è½½æ—‹è½¬å›¾ç‰‡ã€‚</li></ol><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ui-&gt;labelLoadIcon</span><br></pre></td></tr></table></figure><ol start="2"><li>ç„¶åç»™è½½ä½“å®‰è£…è¿‡æ»¤å™¨äº‹ä»¶ï¼Œä¿è¯å…¶å¯è§¦å‘çš„çŠ¶æ€</li></ol><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ui-&gt;labelLoadIcon-&gt;<span class="built_in">installEventFilter</span>(<span class="keyword">this</span>);</span><br></pre></td></tr></table></figure><ol start="3"><li>å†™è¿‡æ»¤å™¨è¦å®ç°çš„åŠŸèƒ½ï¼Œæ—‹è½¬</li></ol><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">bool</span> <span class="title">QAuthInit::eventFilter</span><span class="params">(QObject* watched, QEvent* event)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (watched == ui-&gt;labelLoadIcon &amp;&amp; event-&gt;<span class="built_in">type</span>() == QEvent::Paint &amp;&amp; !<span class="keyword">this</span>-&gt;<span class="built_in">parentWidget</span>()-&gt;<span class="built_in">isHidden</span>())</span><br><span class="line">    &#123;</span><br><span class="line">        QImage loading = <span class="built_in">QImage</span>(<span class="string">&quot;:/loading.jpg&quot;</span>);</span><br><span class="line">        <span class="function">QPainter <span class="title">painter_inner</span><span class="params">(ui-&gt;labelLoadIcon)</span></span>;</span><br><span class="line">        painter_inner.<span class="built_in">setPen</span>(Qt::NoPen);</span><br><span class="line">        painter_inner.<span class="built_in">setBrush</span>(Qt::NoBrush);</span><br><span class="line">        painter_inner.<span class="built_in">setRenderHint</span>(QPainter::SmoothPixmapTransform);</span><br><span class="line">        painter_inner.<span class="built_in">translate</span>(loading.<span class="built_in">width</span>() / <span class="built_in">qreal</span>(<span class="number">2</span>) + <span class="number">0</span>, loading.<span class="built_in">height</span>() / <span class="built_in">qreal</span>(<span class="number">2</span>) + <span class="number">0</span>); <span class="comment">//è®¾ç½®æ—‹è½¬ä¸­å¿ƒ</span></span><br><span class="line">        painter_inner.<span class="built_in">rotate</span>(-m_nAngle_ring);          <span class="comment">//æ—‹è½¬</span></span><br><span class="line">        painter_inner.<span class="built_in">translate</span>(-(loading.<span class="built_in">width</span>() / <span class="built_in">qreal</span>(<span class="number">2</span>) + <span class="number">0</span>), -(loading.<span class="built_in">height</span>() / <span class="built_in">qreal</span>(<span class="number">2</span>) + <span class="number">0</span>)); <span class="comment">//å°†åŸç‚¹å¤ä½</span></span><br><span class="line">        painter_inner.<span class="built_in">drawImage</span>(<span class="built_in">QPointF</span>(<span class="number">0</span>, <span class="number">0</span>), loading);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// äº‹ä»¶ä»ç„¶æŠ›ç»™QT</span></span><br><span class="line">    <span class="keyword">return</span> QWidget::<span class="built_in">eventFilter</span>(watched, event);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="4"><li>å®šæ—¶è°ƒç”¨ï¼Œä½¿è¿‡æ»¤å™¨ä¸­æ—‹è½¬çš„è§’åº¦å˜åŒ–ï¼Œä»è€Œè¾¾åˆ°æ—‹è½¬çš„æ•ˆæœ</li></ol><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">QTimer* timerLoading = <span class="keyword">new</span> <span class="built_in">QTimer</span>(<span class="keyword">this</span>);</span><br><span class="line"></span><br><span class="line">timerLoading-&gt;<span class="built_in">setInterval</span>(<span class="number">5</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">connect</span>(timerLoading, &amp;QTimer::timeout, <span class="keyword">this</span>, &amp;LoadingWidget::onTimeOut); <span class="comment">// åœ¨æ§½å‡½æ•°ä¸­ä¿®æ”¹ m_nAngle_ring çš„å€¼</span></span><br><span class="line"></span><br><span class="line">timerLoading-&gt;<span class="built_in">start</span>();</span><br></pre></td></tr></table></figure><ol start="5"><li>å®šæ—¶å™¨æ§½å‡½æ•°</li></ol><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">LoadingWidget::onTimeOut</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">     <span class="keyword">if</span> (!<span class="keyword">this</span>-&gt;<span class="built_in">parentWidget</span>()-&gt;<span class="built_in">isHidden</span>())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//æ¯æ¬¡é—´éš”è½¬2åº¦,ä¹Ÿå°±æ˜¯è¯´è½¬ä¸€åœˆéœ€è¦180æ¬¡</span></span><br><span class="line">        <span class="keyword">if</span> (m_nAngle_ring == <span class="number">360</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            m_nAngle_ring = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        m_nAngle_ring += <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">        ui-&gt;labelLoadIcon-&gt;<span class="built_in">update</span>();</span><br><span class="line">    &#125;   </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> Qt </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Qt </tag>
            
            <tag> æ—‹è½¬ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Qtå¸¸ç”¨åŸºç¡€ä»£ç æ±‡æ€»</title>
      <link href="/Code/Qt/Qt%E5%BC%80%E5%8F%91%E7%BB%8F%E9%AA%8C/Qt%E5%B8%B8%E7%94%A8%E5%9F%BA%E7%A1%80%E4%BB%A3%E7%A0%81%E6%B1%87%E6%80%BB/"/>
      <url>/Code/Qt/Qt%E5%BC%80%E5%8F%91%E7%BB%8F%E9%AA%8C/Qt%E5%B8%B8%E7%94%A8%E5%9F%BA%E7%A1%80%E4%BB%A3%E7%A0%81%E6%B1%87%E6%80%BB/</url>
      
        <content type="html"><![CDATA[<p>[toc]</p><h1 id="1ã€show-ä¸-exec"><a href="#1ã€show-ä¸-exec" class="headerlink" title="1ã€show() ä¸ exec()"></a>1ã€show() ä¸ exec()</h1><p><code>show</code>æ˜¾ç¤ºçš„æ˜¯éæ¨¡æ€å¯¹è¯æ¡†ï¼›<code>exec</code>æ˜¾ç¤ºçš„æ˜¯æ¨¡æ€å¯¹è¯æ¡†ã€‚</p><h1 id="2ã€è®¾ç½®æ— è¾¹æ¡†çª—å£"><a href="#2ã€è®¾ç½®æ— è¾¹æ¡†çª—å£" class="headerlink" title="2ã€è®¾ç½®æ— è¾¹æ¡†çª—å£"></a>2ã€è®¾ç½®æ— è¾¹æ¡†çª—å£</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">this</span>-&gt;<span class="built_in">setWindowFlags</span>(Qt::FramelessWindowHint);      <span class="comment">//è®¾ç½®ä¸ºæ— è¾¹æ¡†çª—å£</span></span><br></pre></td></tr></table></figure><h1 id="3ã€è®¾ç½®çª—ä½“é€æ˜"><a href="#3ã€è®¾ç½®çª—ä½“é€æ˜" class="headerlink" title="3ã€è®¾ç½®çª—ä½“é€æ˜"></a>3ã€è®¾ç½®çª—ä½“é€æ˜</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">this</span>-&gt;<span class="built_in">setAttribute</span>(Qt::WA_TranslucentBackground);   <span class="comment">//è®¾ç½®çª—ä½“é€æ˜</span></span><br></pre></td></tr></table></figure><h1 id="4ã€Qtå­—ç¬¦ä¸²è½¬æ¢"><a href="#4ã€Qtå­—ç¬¦ä¸²è½¬æ¢" class="headerlink" title="4ã€Qtå­—ç¬¦ä¸²è½¬æ¢"></a>4ã€Qtå­—ç¬¦ä¸²è½¬æ¢</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifdef</span> UNICODE</span></span><br><span class="line"> </span><br><span class="line"><span class="meta">#<span class="keyword">define</span> QStringToTCHAR(x)     (wchar_t*) x.utf16()</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> PQStringToTCHAR(x)    (wchar_t*) x-&gt;utf16()</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> TCHARToQString(x)     QString::fromUtf16((x))</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> TCHARToQStringN(x,y)  QString::fromUtf16((x),(y))</span></span><br><span class="line"> </span><br><span class="line"><span class="meta">#<span class="keyword">else</span></span></span><br><span class="line"> </span><br><span class="line"><span class="meta">#<span class="keyword">define</span> QStringToTCHAR(x)     x.local8Bit().constData()</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> PQStringToTCHAR(x)    x-&gt;local8Bit().constData()</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> TCHARToQString(x)     QString::fromLocal8Bit((x))</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> TCHARToQStringN(x,y)  QString::fromLocal8Bit((x),(y))</span></span><br><span class="line"> </span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br></pre></td></tr></table></figure><h1 id="5ã€Qssè¯»å–"><a href="#5ã€Qssè¯»å–" class="headerlink" title="5ã€Qssè¯»å–"></a>5ã€Qssè¯»å–</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">Widget::InitStyle</span><span class="params">(<span class="type">int</span> i)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    m_LCD_Hour-&gt;<span class="built_in">setStyleSheet</span>(<span class="string">&quot; font: 18px black;&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span>(i != <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function">QFile <span class="title">file</span><span class="params">(QString(<span class="string">&quot;:/Assert/qss/style%1.qss&quot;</span>).arg(i))</span></span>;</span><br><span class="line">        file.<span class="built_in">open</span>(QFile::ReadOnly);</span><br><span class="line">        <span class="keyword">this</span>-&gt;<span class="built_in">setStyleSheet</span>(file.<span class="built_in">readAll</span>());</span><br><span class="line">        file.<span class="built_in">close</span>();</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// m_LCD_Min-&gt;setStyleSheet(&quot;color: black; &quot;);</span></span><br><span class="line">    <span class="comment">// m_LCD_Sec-&gt;setStyleSheet(&quot;color: black; &quot;);</span></span><br><span class="line"></span><br><span class="line">    <span class="function">QFile <span class="title">file</span><span class="params">(QString(<span class="string">&quot;:/Assert/qss/main.qss&quot;</span>))</span></span>;</span><br><span class="line">    file.<span class="built_in">open</span>(QFile::ReadOnly);</span><br><span class="line">    <span class="keyword">this</span>-&gt;<span class="built_in">setStyleSheet</span>(file.<span class="built_in">readAll</span>());</span><br><span class="line">    file.<span class="built_in">close</span>();</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="6ã€QWidgetè‡ªåŠ¨åˆ—å®½"><a href="#6ã€QWidgetè‡ªåŠ¨åˆ—å®½" class="headerlink" title="6ã€QWidgetè‡ªåŠ¨åˆ—å®½"></a>6ã€QWidgetè‡ªåŠ¨åˆ—å®½</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// TreeWidget è‡ªåŠ¨åˆ—å®½ add by mingming.shi 2021-10-23</span></span><br><span class="line">ui.treeWidget-&gt;<span class="built_in">header</span>()-&gt;<span class="built_in">setSectionResizeMode</span>(QHeaderView::ResizeToContents);</span><br></pre></td></tr></table></figure><h1 id="7ã€Qsså†™æ³•å‚è€ƒ"><a href="#7ã€Qsså†™æ³•å‚è€ƒ" class="headerlink" title="7ã€Qsså†™æ³•å‚è€ƒ"></a>7ã€Qsså†™æ³•å‚è€ƒ</h1><p><a href="https://blog.csdn.net/Fuel_Ming/article/details/120740512">QSSå•ç‹¬è®¾ç½®æŸæ§ä»¶æ ·å¼</a></p><h1 id="8ã€Qtæ­£åˆ™è¡¨è¾¾å¼"><a href="#8ã€Qtæ­£åˆ™è¡¨è¾¾å¼" class="headerlink" title="8ã€Qtæ­£åˆ™è¡¨è¾¾å¼"></a>8ã€Qtæ­£åˆ™è¡¨è¾¾å¼</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">QRegExp <span class="title">rx</span><span class="params">(<span class="string">&quot;\\b(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.)&#123;3&#125;(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\b&quot;</span>)</span></span>;  <span class="comment">//IPçš„æ­£åˆ™è¡¨è¾¾å¼</span></span><br><span class="line"><span class="keyword">if</span>(!rx.<span class="built_in">exactMatch</span>(m_lineEdit-&gt;<span class="built_in">text</span>()))</span><br><span class="line">&#123;</span><br><span class="line">    QMessageBox::<span class="built_in">critical</span>(<span class="keyword">this</span>, <span class="built_in">tr</span>(<span class="string">&quot;Error&quot;</span>),</span><br><span class="line">                          <span class="built_in">tr</span>(<span class="string">&quot;IP WRONG.\n&quot;</span></span><br><span class="line">                             <span class="string">&quot;Please Make Sure Input Correct IP!&quot;</span>),</span><br><span class="line">                          QMessageBox::Ok);</span><br><span class="line">    <span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(m_lineEdit-&gt;<span class="built_in">text</span>().<span class="built_in">toInt</span>() &lt;= <span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line">    QMessageBox::<span class="built_in">information</span>(<span class="keyword">this</span>, <span class="built_in">tr</span>(<span class="string">&quot;Info&quot;</span>),</span><br><span class="line">                          <span class="built_in">tr</span>(<span class="string">&quot;IP Correct.\n&quot;</span></span><br><span class="line">                             <span class="string">&quot;Input Correct IP is Saved!&quot;</span>),</span><br><span class="line">                          QMessageBox::Ok);</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="9ã€å­—ä½“ç›¸å…³"><a href="#9ã€å­—ä½“ç›¸å…³" class="headerlink" title="9ã€å­—ä½“ç›¸å…³"></a>9ã€å­—ä½“ç›¸å…³</h1><ul><li>æŸ¥è¯¢ç³»ç»Ÿæ”¯æŒçš„å­—ä½“</li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">QFontDatabase database;</span><br><span class="line">foreach (<span class="type">const</span> QString &amp;family, database.<span class="built_in">families</span>()) &#123;</span><br><span class="line">    <span class="built_in">qDebug</span>()&lt;&lt;family;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>è®¾ç½®å…¨å±€å­—ä½“<br>fontå†…å®¹ä¸ºfamilyæŸ¥è¯¢åˆ°çš„å­—ä½“åç§°<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">QFont <span class="title">font</span><span class="params">(<span class="string">&quot;family&quot;</span>)</span></span>;</span><br><span class="line">QApplication::<span class="built_in">setFont</span>(font);</span><br></pre></td></tr></table></figure></li><li>å¤–éƒ¨åŠ è½½å­—ä½“<ul><li>å­—ä½“æ”¯æŒttcæˆ–ttfæ ¼å¼åŠ è½½ï¼›</li><li>ä½¿ç”¨addApplicationFontå¯ä»¥ä¸ºç³»ç»Ÿè·¯å¾„ï¼Œä¹Ÿå¯ä»¥èµ„æºæ–‡ä»¶ã€‚<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> fontId = QFontDatabase::<span class="built_in">addApplicationFont</span>(<span class="string">&quot;font.ttc&quot;</span>);</span><br><span class="line">QStringList fontIDs = QFontDatabase::<span class="built_in">applicationFontFamilies</span>(fontId);</span><br><span class="line"><span class="keyword">if</span> (! fontIDs.<span class="built_in">isEmpty</span>()) &#123;</span><br><span class="line">    <span class="function">QFont <span class="title">font</span><span class="params">(fontIDs.first())</span></span>;</span><br><span class="line">    QApplication::<span class="built_in">setFont</span>(font);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">qDebug</span>()&lt;&lt;<span class="string">&quot;Failed to load font.&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li></ul><h1 id="10-Qté”"><a href="#10-Qté”" class="headerlink" title="10. Qté”"></a>10. Qté”</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">QMutex mutex;</span><br><span class="line"><span class="type">int</span> number = <span class="number">6</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">method1</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    mutex.<span class="built_in">lock</span>();</span><br><span class="line">    number *= <span class="number">5</span>;</span><br><span class="line">    number /= <span class="number">4</span>;</span><br><span class="line">    mutex.<span class="built_in">unlock</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">method2</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    mutex.<span class="built_in">lock</span>();</span><br><span class="line">    number *= <span class="number">3</span>;</span><br><span class="line">    number /= <span class="number">2</span>;</span><br><span class="line">    mutex.<span class="built_in">unlock</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="11ã€-è®¡æ—¶å™¨-å®šæ—¶å™¨"><a href="#11ã€-è®¡æ—¶å™¨-å®šæ—¶å™¨" class="headerlink" title="11ã€ è®¡æ—¶å™¨ å®šæ—¶å™¨"></a>11ã€ è®¡æ—¶å™¨ å®šæ—¶å™¨</h1><h2 id="è®¡æ—¶å™¨"><a href="#è®¡æ—¶å™¨" class="headerlink" title="è®¡æ—¶å™¨"></a>è®¡æ—¶å™¨</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">QTimer *timer = <span class="keyword">new</span> QTimer;</span><br><span class="line"><span class="built_in">connect</span>(timer, <span class="built_in">SIGNAL</span>(<span class="built_in">timeout</span>()), <span class="keyword">this</span>, <span class="built_in">SLOT</span>(<span class="built_in">slotTimeOut</span>()));</span><br><span class="line"><span class="comment">// æˆ–è€…</span></span><br><span class="line"><span class="built_in">connect</span>(timer, &amp;QTimer::timeout, <span class="keyword">this</span>, [=]()<span class="keyword">mutable</span>&#123;</span><br><span class="line">   <span class="built_in">slotTimeOut</span>();</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">timer-&gt;<span class="built_in">start</span>(<span class="number">1000</span>);</span><br></pre></td></tr></table></figure><h2 id="å•æ¬¡å®šæ—¶å™¨"><a href="#å•æ¬¡å®šæ—¶å™¨" class="headerlink" title="å•æ¬¡å®šæ—¶å™¨"></a>å•æ¬¡å®šæ—¶å™¨</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 3ç§’å å¯ç”¨ä¸‹è½½æŒ‰é’®</span></span><br><span class="line">QTimer::<span class="built_in">singleShot</span>(<span class="number">3</span> * <span class="number">1000</span>, <span class="keyword">this</span>, [=]() &#123;</span><br><span class="line">ui-&gt;pushBtnUpgrade-&gt;<span class="built_in">setDisabled</span>(<span class="literal">false</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h1 id="12ã€ä¹±ç é—®é¢˜"><a href="#12ã€ä¹±ç é—®é¢˜" class="headerlink" title="12ã€ä¹±ç é—®é¢˜"></a>12ã€ä¹±ç é—®é¢˜</h1><p>åœ¨å¤´æ–‡ä»¶æ·»åŠ ä»¥ä¸‹ä»£ç å³å¯ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">if</span> defined(_MSC_VER) &amp;&amp; (_MSC_VER &gt;= 1600)</span></span><br><span class="line"><span class="meta">#<span class="keyword">pragma</span> execution_character_set(<span class="string">&quot;utf-8&quot;</span>)</span></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br></pre></td></tr></table></figure><h1 id="13ã€-QTextBrower-è®¾ç½®å­—ä½“é¢œè‰²"><a href="#13ã€-QTextBrower-è®¾ç½®å­—ä½“é¢œè‰²" class="headerlink" title="13ã€ QTextBrower è®¾ç½®å­—ä½“é¢œè‰²"></a>13ã€ QTextBrower è®¾ç½®å­—ä½“é¢œè‰²</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> TEXT_COLOR_RED(STRING)         <span class="string">&quot;&lt;font color=red&gt;&quot;</span> + STRING + <span class="string">&quot;&lt;/font&gt;&quot;</span> <span class="string">&quot;&lt;font color=black&gt; &lt;/font&gt;&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> TEXT_COLOR_BLUE(STRING)        <span class="string">&quot;&lt;font color=blue&gt;&quot;</span> + STRING + <span class="string">&quot;&lt;/font&gt;&quot;</span> <span class="string">&quot;&lt;font color=black&gt; &lt;/font&gt;&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> TEXT_COLOR_GREEN(STRING)        <span class="string">&quot;&lt;font color=green&gt;&quot;</span> + STRING + <span class="string">&quot;&lt;/font&gt;&quot;</span> <span class="string">&quot;&lt;font color=black&gt; &lt;/font&gt;&quot;</span></span></span><br><span class="line"></span><br><span class="line">ui-&gt;textBrowser-&gt;<span class="built_in">setText</span>(<span class="built_in">TEXT_COLOR_BLUE</span>(content));</span><br></pre></td></tr></table></figure><h1 id="14-Qt-httpä¸‹è½½ç½‘ç»œä¸­æ–­é—®é¢˜"><a href="#14-Qt-httpä¸‹è½½ç½‘ç»œä¸­æ–­é—®é¢˜" class="headerlink" title="14 Qt httpä¸‹è½½ç½‘ç»œä¸­æ–­é—®é¢˜"></a>14 Qt httpä¸‹è½½ç½‘ç»œä¸­æ–­é—®é¢˜</h1><blockquote><p>ä½¿ç”¨ <code>QNetworkAccessManager</code> ä¸‹è½½æ–‡ä»¶æ—¶ï¼Œç½‘ç»œä¸­æ–­è¿”å›çš„å¼‚å¸¸å—ä»ç„¶æ˜¯200ï¼Œéœ€è¦åˆ¤æ–­ <code>slotFinished</code> å‡½æ•°ä¸­éœ€è¦åˆ¤æ–­ <code>error</code> çš„çŠ¶æ€æ¥åˆ¤æ–­ä¸‹è½½æ˜¯å¦æ­£å¸¸</p></blockquote><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">QHttpDownloadObject::Init</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    QNetworkAccessManager *m_pManager = <span class="keyword">new</span> <span class="built_in">QNetworkAccessManager</span>(<span class="keyword">this</span>);</span><br><span class="line">    m_pOnlinemanager = <span class="keyword">new</span> <span class="built_in">QNetworkConfigurationManager</span>(<span class="keyword">this</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// (&quot;ftp&quot;, &quot;file&quot;, &quot;qrc&quot;, &quot;http&quot;, &quot;https&quot;, &quot;data&quot;)</span></span><br><span class="line">    <span class="built_in">qDebug</span>() &lt;&lt; m_pManager-&gt;<span class="built_in">supportedSchemes</span>();</span><br><span class="line">    m_pManager-&gt;<span class="built_in">setNetworkAccessible</span>(QNetworkAccessManager::Accessible);</span><br><span class="line"></span><br><span class="line">    QNetworkConfigurationManager manager;</span><br><span class="line">    m_pManager-&gt;<span class="built_in">setConfiguration</span>(manager.<span class="built_in">defaultConfiguration</span>());</span><br><span class="line"></span><br><span class="line"><span class="built_in">connect</span>(m_pManager, <span class="built_in">SIGNAL</span>(<span class="built_in">finished</span>(QNetworkReply*)), <span class="keyword">this</span>, <span class="built_in">SLOT</span>(<span class="built_in">slotRequestFinished</span>(QNetworkReply*)));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">QHttpDownloadObject::PerformRequest</span><span class="params">(QString strUrl)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    QNetworkRequest request;</span><br><span class="line"></span><br><span class="line">    request.<span class="built_in">setUrl</span>(<span class="built_in">QUrl</span>(strUrl));</span><br><span class="line"></span><br><span class="line">    request.<span class="built_in">setHeader</span>(QNetworkRequest::ContentTypeHeader, <span class="string">&quot;application/x-www-form-urlencoded&quot;</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    m_fileTmp.<span class="built_in">setFileName</span>(m_DestFilePath);</span><br><span class="line">    m_fileTmp.<span class="built_in">open</span>(QIODevice::Append);</span><br><span class="line"></span><br><span class="line">    m_pReply = m_pManager-&gt;<span class="built_in">get</span>(request);   <span class="comment">// get æ–¹å¼</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">connect</span>(m_pReply, &amp;QNetworkReply::readyRead,        <span class="keyword">this</span>, &amp;QHttpDownloadObject::onReadyRead);</span><br><span class="line">    <span class="built_in">connect</span>(m_pReply, &amp;QNetworkReply::downloadProgress, <span class="keyword">this</span>, &amp;QHttpDownloadObject::downloadProgress);</span><br><span class="line">    <span class="comment">// ä½¿ç”¨å½“å‰æ¥å£åˆ¤æ–­ä¸‹è½½æ—¶å¦å¼‚å¸¸</span></span><br><span class="line"><span class="built_in">connect</span>(m_pReply, <span class="built_in">static_cast</span>&lt;<span class="built_in">void</span>(QNetworkReply::*)(QNetworkReply::NetworkError)&gt;(&amp;QNetworkReply::error), <span class="keyword">this</span>, &amp;QHttpDownloadObject::onError);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">QHttpDownloadObject::slotRequestFinished</span><span class="params">(QNetworkReply *reply)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">disconnect</span>(m_pReply, <span class="built_in">SIGNAL</span>(<span class="built_in">downloadProgress</span>(qint64, qint64)), <span class="keyword">this</span>, <span class="built_in">SIGNAL</span>(<span class="built_in">downloadProgress</span>(qint64, qint64)));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (m_fileTmp.<span class="built_in">isOpen</span>())</span><br><span class="line">    &#123;</span><br><span class="line">        m_fileTmp.<span class="built_in">close</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è·å–å“åº”çš„ä¿¡æ¯ï¼ŒçŠ¶æ€ç ä¸º200è¡¨ç¤ºæ­£å¸¸</span></span><br><span class="line">QVariant statusCode = reply-&gt;<span class="built_in">attribute</span>(QNetworkRequest::HttpStatusCodeAttribute);</span><br><span class="line">    QString strError = reply-&gt;<span class="built_in">errorString</span>();</span><br><span class="line">    QNetworkReply::NetworkError error = reply-&gt;<span class="built_in">error</span>();</span><br><span class="line"></span><br><span class="line">    <span class="built_in">qDebug</span>() &lt;&lt; <span class="string">&quot;+++++++++&quot;</span> &lt;&lt; statusCode &lt;&lt; strError &lt;&lt; error; <span class="comment">// QVariant(int, 200) &quot;Connection closed&quot; QNetworkReply::NetworkError(RemoteHostClosedError)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (statusCode.<span class="built_in">toInt</span>() &gt;= <span class="number">400</span> || error != QNetworkReply::NoError) </span><br><span class="line">    &#123;</span><br><span class="line"><span class="built_in">QLOG_INFO</span>() &lt;&lt; <span class="string">&quot;æ— æ³•ä¸‹è½½æ–‡ä»¶ï¼Œé”™è¯¯çŠ¶æ€ç :&quot;</span> &lt;&lt; statusCode &lt;&lt; <span class="string">&quot;é”™è¯¯ä¿¡æ¯:&quot;</span> &lt;&lt; strError &lt;&lt; error;</span><br><span class="line"><span class="function">emit <span class="title">sigDownloadFinished</span><span class="params">(DOWNLOAD_CODE_NETBAD, QString(ERRORTITLE_APPACCESS_NETFAULT).arg(strError))</span></span>;</span><br><span class="line">&#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        emit <span class="built_in">sigDownloadFinished</span>(statusCode.<span class="built_in">toInt</span>(), strError);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    reply-&gt;<span class="built_in">close</span>();</span><br><span class="line">    reply-&gt;<span class="built_in">deleteLater</span>();</span><br><span class="line">    m_pManager-&gt;<span class="built_in">deleteLater</span>();</span><br><span class="line">    m_pOnlinemanager-&gt;<span class="built_in">deleteLater</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="15-ç®¡ç†å‘˜è¿è¡Œç¨‹åº"><a href="#15-ç®¡ç†å‘˜è¿è¡Œç¨‹åº" class="headerlink" title="15 ç®¡ç†å‘˜è¿è¡Œç¨‹åº"></a>15 ç®¡ç†å‘˜è¿è¡Œç¨‹åº</h1><ol><li>ç®¡ç†å‘˜è¿è¡Œç¨‹åºï¼Œé™å®šåœ¨MSVCç¼–è¯‘å™¨ï¼Œåœ¨é¡¹ç›®proæ–‡ä»¶ä¸­å¢åŠ å¦‚ä¸‹ä»£ç ã€‚</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">QMAKE_LFLAGS += /MANIFESTUAC:<span class="string">&quot;level=&#x27;requireAdministrator&#x27; uiAccess=&#x27;false&#x27;&quot;</span> <span class="comment">#ä»¥ç®¡ç†å‘˜è¿è¡Œ</span></span><br><span class="line">QMAKE_LFLAGS += /SUBSYSTEM:WINDOWS,<span class="string">&quot;5.01&quot;</span> <span class="comment">#VS2013 åœ¨XPè¿è¡Œ</span></span><br></pre></td></tr></table></figure><h1 id="16-QLabel-ç‚¹å‡»äº‹ä»¶"><a href="#16-QLabel-ç‚¹å‡»äº‹ä»¶" class="headerlink" title="16 QLabel ç‚¹å‡»äº‹ä»¶"></a>16 QLabel ç‚¹å‡»äº‹ä»¶</h1><p>é‡å†™ <code>QLabel</code> äº‹ä»¶</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">QCycleProgress::mousePressEvent</span><span class="params">(QMouseEvent* event)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="function">emit <span class="title">clicked</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">QLabel::<span class="built_in">mousePressEvent</span>(event);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="17-ç¨‹åºé˜²é‡å…¥"><a href="#17-ç¨‹åºé˜²é‡å…¥" class="headerlink" title="17 ç¨‹åºé˜²é‡å…¥"></a>17 ç¨‹åºé˜²é‡å…¥</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;qrcode.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QSharedMemory&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QApplication&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> *argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">QApplication <span class="title">a</span><span class="params">(argc, argv)</span></span>;</span><br><span class="line">     <span class="comment">//åˆ›å»ºè¿è¡Œæ—¶åªå…è®¸å­˜åœ¨ä¸€ä¸ªç¨‹åº</span></span><br><span class="line">    <span class="type">static</span> QSharedMemory *shareMem = <span class="keyword">new</span> <span class="built_in">QSharedMemory</span>(<span class="string">&quot;SingleAPP&quot;</span>);</span><br><span class="line">    <span class="comment">//åˆ¤æ–­å¦‚æœå­˜åœ¨å­˜ç›´æ¥é€€å‡º</span></span><br><span class="line">    <span class="keyword">if</span>(!shareMem-&gt;<span class="built_in">create</span>(<span class="number">1</span>))&#123;</span><br><span class="line">        qApp-&gt;<span class="built_in">quit</span>();</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="type">int</span> result = <span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">while</span> (result !=<span class="number">0</span>) &#123;</span><br><span class="line">            Create_qrcode w;</span><br><span class="line">            w.<span class="built_in">setWindowIcon</span>(<span class="built_in">QIcon</span>(<span class="string">&quot;:/images/main_logo.ico&quot;</span>));</span><br><span class="line">            w.<span class="built_in">show</span>();</span><br><span class="line">            result= a.<span class="built_in">exec</span>();  <span class="comment">//!é€€å‡ºæ—¶å¦‚æœä¸ºé›¶ï¼Œæ­£å¸¸é€€å‡ºï¼Œå¦åˆ™é‡å¯ç¨‹åº</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="18-å¼¹çª—æ˜¾ç¤ºåœ¨å±å¹•ä¸­é—´"><a href="#18-å¼¹çª—æ˜¾ç¤ºåœ¨å±å¹•ä¸­é—´" class="headerlink" title="18 å¼¹çª—æ˜¾ç¤ºåœ¨å±å¹•ä¸­é—´"></a>18 å¼¹çª—æ˜¾ç¤ºåœ¨å±å¹•ä¸­é—´</h1><p>ä½¿ç”¨</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">QTrayTooltipForm::show</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">placeTip</span>(QCursor::<span class="built_in">pos</span>());</span><br><span class="line"></span><br><span class="line">    <span class="built_in">UpdateStatus</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> QWidget::<span class="built_in">show</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">QTrayTooltipForm::placeTip</span><span class="params">(<span class="type">const</span> QPoint&amp; pos)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">QRect screen = QApplication::<span class="built_in">desktop</span>()-&gt;<span class="built_in">screenGeometry</span>(QApplication::<span class="built_in">desktop</span>()-&gt;<span class="built_in">screenNumber</span>(pos));</span><br><span class="line"></span><br><span class="line">QPoint p = pos;</span><br><span class="line">p += <span class="built_in">QPoint</span>(<span class="number">2</span>,<span class="number">16</span>);</span><br><span class="line"><span class="keyword">if</span> (p.<span class="built_in">x</span>() + <span class="keyword">this</span>-&gt;<span class="built_in">width</span>() &gt; screen.<span class="built_in">x</span>() + screen.<span class="built_in">width</span>())</span><br><span class="line">p.<span class="built_in">rx</span>() -= <span class="number">4</span> + <span class="keyword">this</span>-&gt;<span class="built_in">width</span>();</span><br><span class="line"><span class="keyword">if</span> (p.<span class="built_in">y</span>() + <span class="keyword">this</span>-&gt;<span class="built_in">height</span>() &gt; screen.<span class="built_in">y</span>() + screen.<span class="built_in">height</span>())</span><br><span class="line">p.<span class="built_in">ry</span>() -= <span class="number">24</span> + <span class="keyword">this</span>-&gt;<span class="built_in">height</span>();</span><br><span class="line"><span class="keyword">if</span> (p.<span class="built_in">y</span>() &lt; screen.<span class="built_in">y</span>())</span><br><span class="line">p.<span class="built_in">setY</span>(screen.<span class="built_in">y</span>());</span><br><span class="line"><span class="keyword">if</span> (p.<span class="built_in">x</span>() + <span class="keyword">this</span>-&gt;<span class="built_in">width</span>() &gt; screen.<span class="built_in">x</span>() + screen.<span class="built_in">width</span>())</span><br><span class="line">p.<span class="built_in">setX</span>(screen.<span class="built_in">x</span>() + screen.<span class="built_in">width</span>() - <span class="keyword">this</span>-&gt;<span class="built_in">width</span>());</span><br><span class="line"><span class="keyword">if</span> (p.<span class="built_in">x</span>() &lt; screen.<span class="built_in">x</span>())</span><br><span class="line">p.<span class="built_in">setX</span>(screen.<span class="built_in">x</span>());</span><br><span class="line"><span class="keyword">if</span> (p.<span class="built_in">y</span>() + <span class="keyword">this</span>-&gt;<span class="built_in">height</span>() &gt; screen.<span class="built_in">y</span>() + screen.<span class="built_in">height</span>())</span><br><span class="line">p.<span class="built_in">setY</span>(screen.<span class="built_in">y</span>() + screen.<span class="built_in">height</span>() - <span class="keyword">this</span>-&gt;<span class="built_in">height</span>());</span><br><span class="line"><span class="keyword">this</span>-&gt;<span class="built_in">move</span>(p);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> Qt </category>
          
          <category> Qtå¼€å‘ç»éªŒ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ‰‹å†Œ </tag>
            
            <tag> Qt </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/Code/Qt/Qt%20%E8%8E%B7%E5%8F%96cmd%E8%BE%93%E5%87%BA%20/"/>
      <url>/Code/Qt/Qt%20%E8%8E%B7%E5%8F%96cmd%E8%BE%93%E5%87%BA%20/</url>
      
        <content type="html"><![CDATA[<p>Qt ä½¿ç”¨ <code>QProcess</code> æ‰§è¡Œå‘½ä»¤è¡Œè„šæœ¬ï¼Œå¹¶é€šè¿‡ <code>readAllStandardOutput</code> è·å–å…¶è¾“å‡ºã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QCoreApplication&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QProcess&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QDebug&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> *argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">QCoreApplication <span class="title">a</span><span class="params">(argc, argv)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ›å»ºä¸€ä¸ªQProcesså¯¹è±¡</span></span><br><span class="line">    QProcess cmdProcess;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è®¾ç½®è¦æ‰§è¡Œçš„å‘½ä»¤</span></span><br><span class="line">    QString command = <span class="string">&quot;your_cmd_command&quot;</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// å¯åŠ¨å‘½ä»¤å¹¶ç­‰å¾…å®ƒå®Œæˆ</span></span><br><span class="line">    cmdProcess.<span class="built_in">start</span>(command);</span><br><span class="line">    cmdProcess.<span class="built_in">waitForFinished</span>();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è·å–å‘½ä»¤è¾“å‡º</span></span><br><span class="line">    QByteArray output = cmdProcess.<span class="built_in">readAllStandardOutput</span>();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å°†è¾“å‡ºè½¬æ¢ä¸ºå­—ç¬¦ä¸²å¹¶è¾“å‡º</span></span><br><span class="line">    QString outputStr = QString::<span class="built_in">fromLocal8Bit</span>(output);</span><br><span class="line">    <span class="built_in">qDebug</span>() &lt;&lt; outputStr;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> a.<span class="built_in">exec</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> Qt </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Qt </tag>
            
            <tag> cmd </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Qtäº‹ä»¶è¿‡æ»¤å™¨ï¼ˆeventFilterï¼‰</title>
      <link href="/Code/Qt/Qt%20%E8%BF%87%E6%BB%A4%E5%99%A8/"/>
      <url>/Code/Qt/Qt%20%E8%BF%87%E6%BB%A4%E5%99%A8/</url>
      
        <content type="html"><![CDATA[<p>[toc]</p><h1 id="äº‹ä»¶è¿‡æ»¤å™¨"><a href="#äº‹ä»¶è¿‡æ»¤å™¨" class="headerlink" title="äº‹ä»¶è¿‡æ»¤å™¨"></a>äº‹ä»¶è¿‡æ»¤å™¨</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">QObject::installEventFilter</span><span class="params">(QObject *filterObj)</span></span></span><br></pre></td></tr></table></figure><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">bool</span> <span class="title">eventFilter</span><span class="params">(QObject *obj, QEvent *event)</span></span>;</span><br></pre></td></tr></table></figure><p>Qtçš„äº‹ä»¶è¿‡æ»¤ç”±ä»¥ä¸Šä¸¤ä¸ªæ–¹æ³•å®ç°ï¼Œé¦–å…ˆå®‰è£…ä¸€ä¸ªäº‹ä»¶è¿‡æ»¤å™¨ï¼Œç„¶åé‡å†™ <code>bool eventFilter(QObject *obj, QEvent *event)</code>ã€‚</p><p><code>filterObj</code>è¡¨ç¤ºäº‹ä»¶ç­›é€‰å™¨å¯¹è±¡ï¼Œå®ƒæ¥æ”¶å‘é€åˆ°æ­¤<code>QObject</code>å¯¹è±¡çš„æ‰€æœ‰äº‹ä»¶ã€‚ç­›é€‰å™¨å¯ä»¥åœæ­¢äº‹ä»¶ï¼Œä¹Ÿå¯ä»¥å°†äº‹ä»¶è½¬å‘ç»™æ­¤<code>QObject</code>å¯¹è±¡ã€‚äº‹ä»¶è¿‡æ»¤å™¨<code>filterObj</code>é€šè¿‡å®ƒçš„<code>eventFilter()</code>å‡½æ•°æ¥æ”¶äº‹ä»¶ã€‚</p><h2 id="ç®€å•å®ç°"><a href="#ç®€å•å®ç°" class="headerlink" title="ç®€å•å®ç°"></a>ç®€å•å®ç°</h2><blockquote><p>å½“é¼ æ ‡è¿›å…¥ <code>lineEdit</code> çš„æ—¶å€™å¹¶ä¸”æ“ä½œæ—¶ <code>HoverEnter</code> çš„æ—¶å€™ï¼Œåˆ™ä¿®æ”¹ <code>QLabel</code> çš„é¢œè‰²ã€‚</p></blockquote><ol><li>å®‰è£…äº‹ä»¶è¿‡æ»¤å™¨</li></ol><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ui-&gt;lineEdit-&gt;<span class="built_in">installEventFilter</span>(<span class="keyword">this</span>);</span><br></pre></td></tr></table></figure><ol start="2"><li>é‡å†™ <code>eventFilter()</code></li></ol><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">bool</span> <span class="title">Widget::eventFilter</span><span class="params">(QObject *wcg, QEvent *event)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (wcg == ui-&gt;lineEdit)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(event-&gt;<span class="built_in">type</span>() == QEvent::HoverEnter)</span><br><span class="line">        &#123;</span><br><span class="line">            ui-&gt;label_2-&gt;<span class="built_in">setText</span>(<span class="built_in">QString</span>(<span class="string">&quot;è¿›å…¥&quot;</span>));</span><br><span class="line">            ui-&gt;label_2-&gt;<span class="built_in">setStyleSheet</span>(<span class="string">&quot;QLabel&#123;color:red;&#125;&quot;</span>);</span><br><span class="line">            <span class="built_in">qDebug</span>() &lt;&lt; <span class="string">&quot;è¿›å…¥&quot;</span> &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(event-&gt;<span class="built_in">type</span>() == QEvent::HoverLeave)</span><br><span class="line">        &#123;</span><br><span class="line">            ui-&gt;label_2-&gt;<span class="built_in">setText</span>(<span class="built_in">QString</span>(<span class="string">&quot;ç¦»å¼€&quot;</span>));</span><br><span class="line">            ui-&gt;label_2-&gt;<span class="built_in">setStyleSheet</span>(<span class="string">&quot;QLabel&#123;color:green;&#125;&quot;</span>);</span><br><span class="line">            <span class="built_in">qDebug</span>() &lt;&lt; <span class="string">&quot;ç¦»å¼€&quot;</span> &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> QWidget::<span class="built_in">eventFilter</span>(wcg,event);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> Qt </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Qt </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>éšæœºå­—ç¬¦ä¸²</title>
      <link href="/Code/Qt/Qt%20%E9%9A%8F%E6%9C%BA%E5%AD%97%E7%AC%A6%E4%B8%B2/"/>
      <url>/Code/Qt/Qt%20%E9%9A%8F%E6%9C%BA%E5%AD%97%E7%AC%A6%E4%B8%B2/</url>
      
        <content type="html"><![CDATA[<blockquote><p>Qtç”Ÿæˆè‡ªå®šä¹‰å­—ç¬¦ä¸²</p></blockquote><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">qsrand</span>(QDateTime::<span class="built_in">currentMSecsSinceEpoch</span>());</span><br><span class="line"><span class="type">const</span> <span class="type">char</span> ch[] = <span class="string">&quot;abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;</span>;</span><br><span class="line"><span class="type">int</span> size = <span class="built_in">sizeof</span>(ch);</span><br><span class="line"><span class="type">char</span>* str = <span class="keyword">new</span> <span class="type">char</span>[nLen + <span class="number">1</span>];</span><br><span class="line"><span class="type">int</span> num = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> nIndex = <span class="number">0</span>; nIndex &lt; nLen; ++nIndex)</span><br><span class="line">&#123;</span><br><span class="line">num = <span class="built_in">rand</span>() % (size - <span class="number">1</span>);</span><br><span class="line">str[nIndex] = ch[num];</span><br><span class="line">&#125;</span><br><span class="line">str[nLen] = <span class="string">&#x27;\0&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="function">QString <span class="title">res</span><span class="params">(str)</span></span>;</span><br><span class="line"></span><br><span class="line">   <span class="built_in">QLOG_INFO</span>() &lt;&lt; __FUNCTION__ &lt;&lt; __LINE__ &lt;&lt; res;</span><br><span class="line"></span><br><span class="line">   m_RandomCode = res;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> Qt </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å­—ç¬¦ä¸² </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Qt Http ä¸‹è½½ï¼ˆè½¬è½½ï¼‰</title>
      <link href="/Code/Qt/QtHttp%E4%B8%8B%E8%BD%BD/"/>
      <url>/Code/Qt/QtHttp%E4%B8%8B%E8%BD%BD/</url>
      
        <content type="html"><![CDATA[<h2 id="QTä¹‹HTTPè¯·æ±‚ä¸‹è½½"><a href="#QTä¹‹HTTPè¯·æ±‚ä¸‹è½½" class="headerlink" title="QTä¹‹HTTPè¯·æ±‚ä¸‹è½½"></a>QTä¹‹HTTPè¯·æ±‚ä¸‹è½½</h2><p>æ ‡ç­¾ï¼š <a href="https://www.freesion.com/tag/Qt/">Qt</a> <a href="https://www.freesion.com/tag/HTTP/">HTTP</a></p><h1 id="ç®€è¿°"><a href="#ç®€è¿°" class="headerlink" title="ç®€è¿°"></a>ç®€è¿°</h1><p>æœ€è¿‘åœ¨ç ”ç©¶äº†ä¸€ä¸‹ç”¨Qt çš„æ–¹æ³•æ¥å®ç°<strong>httpä¸‹è½½</strong>ï¼ŒQt ä¸­çš„<strong>Httpè¯·æ±‚</strong>ä¸»è¦ç”¨åˆ°äº†<strong>QNetworkAccessManager</strong>ã€<strong>QNetworkReply</strong>ã€<strong>QNetworkRequest</strong> è¿™ä¸‰å—ã€‚æœ¬ç¯‡æ–‡ç« ä¸»è¦å™è¿°å¦‚ä½•ç”¨Qt çš„æ–¹æ³•è¿›è¡ŒHTTP è¯·æ±‚ä¸‹è½½æ–‡ä»¶ï¼Œèƒ½å¤Ÿæ”¯æŒ****æ–­ç‚¹ç»­ä¼ ****ï¼ˆæ–­ç‚¹ç»­ä¼ å³èƒ½å¤Ÿæ‰‹åŠ¨åœæ­¢ä¸‹è½½ï¼Œä¸‹æ¬¡å¯ä»¥ä»å·²ç»ä¸‹è½½çš„éƒ¨åˆ†å¼€å§‹ç»§ç»­ä¸‹è½½æœªå®Œæˆçš„éƒ¨åˆ†ï¼Œè€Œæ²¡æœ‰å¿…è¦ä»å¤´å¼€å§‹ä¸Šä¼ ä¸‹è½½ï¼‰ï¼Œå¹¶ä¸”å®æ—¶æ›´æ–°ä¸‹è½½ä¿¡æ¯ã€‚æ•´ä½“ä»£ç è€ƒè™‘ååˆ†å‘¨åˆ°ï¼Œå¯¹å„ç§æƒ…å†µä¹Ÿåšäº†ç›¸åº”çš„å¤„ç†ï¼Œå¹¶ä¸”æœ‰é€šä¿—æ˜“æ‡‚çš„æ³¨é‡Šã€‚å¥½äº†ï¼Œä»£ç èµ°èµ·ï¼</p><h1 id="ä»£ç ä¹‹è·¯"><a href="#ä»£ç ä¹‹è·¯" class="headerlink" title="ä»£ç ä¹‹è·¯"></a>ä»£ç ä¹‹è·¯</h1><p>åœ¨è®²è§£ä»£ç ä¹‹å‰å…ˆçœ‹ä¸€ä¸‹æ•ˆæœå›¾ï¼š</p><h3 id="æ•ˆæœï¼š"><a href="#æ•ˆæœï¼š" class="headerlink" title="æ•ˆæœï¼š"></a>æ•ˆæœï¼š</h3><div class="tag-plugin image"><div class="image-bg"><img src="https://raw.githubusercontent.com/holdyounger/ScopeBlog/rc_images/Images/Qt/images/QtHttp%E4%B8%8B%E8%BD%BD/QtHttpDownload.gif"/></div></div><p>ä»å›¾ä¸­å¯ä»¥çœ‹å‡ºç‚¹å‡»startæŒ‰é’®ï¼Œè¿›è¡Œä¸‹è½½ï¼ŒstopæŒ‰é’®æš‚åœå½“å‰ä¸‹è½½ï¼ŒcloseæŒ‰é’®åœæ­¢å½“å‰ä¸‹è½½ï¼Œå¹¶åˆ é™¤å·²ç»ä¸‹è½½çš„ä¸´æ—¶æ–‡ä»¶ï¼Œå¹¶å°†æ‰€æœ‰å‚æ•°é‡ç½®ï¼Œ è¿™é‡Œç•Œé¢ä¸­ä¸‹è½½é“¾æ¥è¾“å…¥æ¡†ä¸ºç©ºæ˜¯å› ä¸ºæˆ‘åœ¨ä»£ç ä¸­é»˜è®¤äº†urlï¼Œä¹Ÿå¯ä»¥åœ¨è¾“å…¥æ¡†ä¸­è¾“å…¥urlè¿›è¡Œä¸‹è½½ã€‚</p><hr><p>ä»£ç ä¸»è¦åŒ…å«ä¸¤ä¸ªéƒ¨åˆ†ï¼š</p><blockquote><p>1ã€DownLoadManager ï¼š ç”¨æ¥è¯·æ±‚ä¸‹è½½ï¼Œå‘ç•Œé¢ä¼ é€’ä¸‹è½½ä¿¡æ¯ï¼Œå¹¶å°†ä¸‹è½½çš„å†…å®¹ä¿å­˜åˆ°æ–‡ä»¶ä¸­</p><p>2ã€MyHttpDownload ï¼š ç”¨æ¥æ¥æ”¶ä¸‹è½½é“¾æ¥ï¼Œåˆ©ç”¨DownLoadManagerè¿›è¡Œä¸‹è½½ï¼Œæ›´æ–°ç•Œé¢ï¼Œå¹¶å¯¹å½“å‰ä¸‹è½½è¿›è¡Œæ“ä½œï¼ˆåŒ…æ‹¬ï¼šå¼€å§‹ã€æš‚åœã€åœæ­¢ä¸‹è½½ï¼‰ã€‚</p></blockquote><h2 id="1ã€DOWNLOADMANAGER"><a href="#1ã€DOWNLOADMANAGER" class="headerlink" title="1ã€DOWNLOADMANAGER"></a>1ã€DOWNLOADMANAGER</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;downloadmanager.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QFile&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QDebug&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QFileInfo&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QDir&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="meta">#<span class="keyword">define</span> DOWNLOAD_FILE_SUFFIX    <span class="string">&quot;_tmp&quot;</span></span></span><br><span class="line"> </span><br><span class="line">DownLoadManager::<span class="built_in">DownLoadManager</span>(QObject *parent)</span><br><span class="line">    : <span class="built_in">QObject</span>(parent)</span><br><span class="line">    , <span class="built_in">m_networkManager</span>(<span class="literal">NULL</span>)</span><br><span class="line">    , <span class="built_in">m_url</span>(<span class="built_in">QUrl</span>(<span class="string">&quot;&quot;</span>))</span><br><span class="line">    , <span class="built_in">m_fileName</span>(<span class="string">&quot;&quot;</span>)</span><br><span class="line">    , <span class="built_in">m_isSupportBreakPoint</span>(<span class="literal">false</span>)</span><br><span class="line">    , <span class="built_in">m_bytesReceived</span>(<span class="number">0</span>)</span><br><span class="line">    , <span class="built_in">m_bytesTotal</span>(<span class="number">0</span>)</span><br><span class="line">    , <span class="built_in">m_bytesCurrentReceived</span>(<span class="number">0</span>)</span><br><span class="line">    , <span class="built_in">m_isStop</span>(<span class="literal">true</span>)</span><br><span class="line">&#123;</span><br><span class="line">    m_networkManager = <span class="keyword">new</span> <span class="built_in">QNetworkAccessManager</span>(<span class="keyword">this</span>);</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">DownLoadManager::~<span class="built_in">DownLoadManager</span>()</span><br><span class="line">&#123;&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// è®¾ç½®æ˜¯å¦æ”¯æŒæ–­ç‚¹ç»­ä¼ ;</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">DownLoadManager::setDownInto</span><span class="params">(<span class="type">bool</span> isSupportBreakPoint)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    m_isSupportBreakPoint = isSupportBreakPoint;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// è·å–å½“å‰ä¸‹è½½é“¾æ¥;</span></span><br><span class="line"><span class="function">QString <span class="title">DownLoadManager::getDownloadUrl</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> m_url.<span class="built_in">toString</span>();</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// å¼€å§‹ä¸‹è½½æ–‡ä»¶ï¼Œä¼ å…¥ä¸‹è½½é“¾æ¥å’Œæ–‡ä»¶çš„è·¯å¾„;</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">DownLoadManager::downloadFile</span><span class="params">(QString url , QString fileName)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// é˜²æ­¢å¤šæ¬¡ç‚¹å‡»å¼€å§‹ä¸‹è½½æŒ‰é’®ï¼Œè¿›è¡Œå¤šæ¬¡ä¸‹è½½ï¼Œåªæœ‰åœ¨åœæ­¢æ ‡å¿—å˜é‡ä¸ºtrueæ—¶æ‰è¿›è¡Œä¸‹è½½;</span></span><br><span class="line">    <span class="keyword">if</span> (m_isStop)</span><br><span class="line">    &#123;</span><br><span class="line">        m_isStop = <span class="literal">false</span>;</span><br><span class="line">        m_url = <span class="built_in">QUrl</span>(url);</span><br><span class="line"> </span><br><span class="line">        <span class="comment">// è¿™é‡Œå¯ç”¨ä»urlä¸­è·å–æ–‡ä»¶åï¼Œä½†ä¸æ˜¯å¯¹æ‰€æœ‰çš„urléƒ½æœ‰æ•ˆ;</span></span><br><span class="line"><span class="comment">//      QString fileName = m_url.fileName();</span></span><br><span class="line"> </span><br><span class="line">        <span class="comment">// å°†å½“å‰æ–‡ä»¶åè®¾ç½®ä¸ºä¸´æ—¶æ–‡ä»¶åï¼Œä¸‹è½½å®Œæˆæ—¶ä¿®æ”¹å›æ¥;</span></span><br><span class="line">        m_fileName = fileName + DOWNLOAD_FILE_SUFFIX;</span><br><span class="line"> </span><br><span class="line">        <span class="comment">// å¦‚æœå½“å‰ä¸‹è½½çš„å­—èŠ‚æ•°ä¸º0é‚£ä¹ˆè¯´æ˜æœªä¸‹è½½è¿‡æˆ–è€…é‡æ–°ä¸‹è½½</span></span><br><span class="line">        <span class="comment">// åˆ™éœ€è¦æ£€æµ‹æœ¬åœ°æ˜¯å¦å­˜åœ¨ä¹‹å‰ä¸‹è½½çš„ä¸´æ—¶æ–‡ä»¶ï¼Œå¦‚æœæœ‰åˆ™åˆ é™¤</span></span><br><span class="line">        <span class="keyword">if</span> (m_bytesCurrentReceived &lt;= <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">removeFile</span>(m_fileName);</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        QNetworkRequest request;</span><br><span class="line">        request.<span class="built_in">setUrl</span>(m_url);</span><br><span class="line"> </span><br><span class="line">        <span class="comment">// å¦‚æœæ”¯æŒæ–­ç‚¹ç»­ä¼ ï¼Œåˆ™è®¾ç½®è¯·æ±‚å¤´ä¿¡æ¯</span></span><br><span class="line">        <span class="keyword">if</span> (m_isSupportBreakPoint)</span><br><span class="line">        &#123;</span><br><span class="line">            QString strRange = <span class="built_in">QString</span>(<span class="string">&quot;bytes=%1-&quot;</span>).<span class="built_in">arg</span>(m_bytesCurrentReceived);</span><br><span class="line">            request.<span class="built_in">setRawHeader</span>(<span class="string">&quot;Range&quot;</span>, strRange.<span class="built_in">toLatin1</span>());</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        <span class="comment">// è¯·æ±‚ä¸‹è½½;</span></span><br><span class="line">        m_reply = m_networkManager-&gt;<span class="built_in">get</span>(request);</span><br><span class="line"> </span><br><span class="line">        <span class="built_in">connect</span>(m_reply, <span class="built_in">SIGNAL</span>(<span class="built_in">downloadProgress</span>(qint64, qint64)), <span class="keyword">this</span>, <span class="built_in">SLOT</span>(<span class="built_in">onDownloadProgress</span>(qint64, qint64)));</span><br><span class="line">        <span class="built_in">connect</span>(m_reply, <span class="built_in">SIGNAL</span>(<span class="built_in">readyRead</span>()), <span class="keyword">this</span>, <span class="built_in">SLOT</span>(<span class="built_in">onReadyRead</span>()));</span><br><span class="line">        <span class="built_in">connect</span>(m_reply, <span class="built_in">SIGNAL</span>(<span class="built_in">finished</span>()), <span class="keyword">this</span>, <span class="built_in">SLOT</span>(<span class="built_in">onFinished</span>()));</span><br><span class="line">        <span class="built_in">connect</span>(m_reply, <span class="built_in">SIGNAL</span>(<span class="built_in">error</span>(QNetworkReply::NetworkError)), <span class="keyword">this</span>, <span class="built_in">SLOT</span>(<span class="built_in">onError</span>(QNetworkReply::NetworkError)));</span><br><span class="line">    &#125;   </span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// ä¸‹è½½è¿›åº¦ä¿¡æ¯;</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">DownLoadManager::onDownloadProgress</span><span class="params">(qint64 bytesReceived, qint64 bytesTotal)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!m_isStop)</span><br><span class="line">    &#123;</span><br><span class="line">        m_bytesReceived = bytesReceived;</span><br><span class="line">        m_bytesTotal = bytesTotal;</span><br><span class="line">        <span class="comment">// æ›´æ–°ä¸‹è½½è¿›åº¦;(åŠ ä¸Š m_bytesCurrentReceived æ˜¯ä¸ºäº†æ–­ç‚¹ç»­ä¼ æ—¶ä¹‹å‰ä¸‹è½½çš„å­—èŠ‚)</span></span><br><span class="line">        <span class="function">emit <span class="title">signalDownloadProcess</span><span class="params">(m_bytesReceived + m_bytesCurrentReceived, m_bytesTotal + m_bytesCurrentReceived)</span></span>;</span><br><span class="line">    &#125;   </span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// è·å–ä¸‹è½½å†…å®¹ï¼Œä¿å­˜åˆ°æ–‡ä»¶ä¸­;</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">DownLoadManager::onReadyRead</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!m_isStop)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function">QFile <span class="title">file</span><span class="params">(m_fileName)</span></span>;</span><br><span class="line">        <span class="keyword">if</span> (file.<span class="built_in">open</span>(QIODevice::WriteOnly | QIODevice::Append))</span><br><span class="line">        &#123;</span><br><span class="line">            file.<span class="built_in">write</span>(m_reply-&gt;<span class="built_in">readAll</span>());</span><br><span class="line">        &#125;</span><br><span class="line">        file.<span class="built_in">close</span>();</span><br><span class="line">    &#125;   </span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// ä¸‹è½½å®Œæˆ;</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">DownLoadManager::onFinished</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    m_isStop = <span class="literal">true</span>;</span><br><span class="line">    <span class="comment">// httpè¯·æ±‚çŠ¶æ€ç ;</span></span><br><span class="line">    QVariant statusCode = m_reply-&gt;<span class="built_in">attribute</span>(QNetworkRequest::HttpStatusCodeAttribute);</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">if</span> (m_reply-&gt;<span class="built_in">error</span>() == QNetworkReply::NoError)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// é‡å‘½åä¸´æ—¶æ–‡ä»¶;</span></span><br><span class="line">        <span class="function">QFileInfo <span class="title">fileInfo</span><span class="params">(m_fileName)</span></span>;</span><br><span class="line">        <span class="keyword">if</span> (fileInfo.<span class="built_in">exists</span>())</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">int</span> index = m_fileName.<span class="built_in">lastIndexOf</span>(DOWNLOAD_FILE_SUFFIX);</span><br><span class="line">            QString realName = m_fileName.<span class="built_in">left</span>(index);</span><br><span class="line">            QFile::<span class="built_in">rename</span>(m_fileName, realName);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// æœ‰é”™è¯¯è¾“å‡ºé”™è¯¯;</span></span><br><span class="line">        QString strError = m_reply-&gt;<span class="built_in">errorString</span>();</span><br><span class="line">        <span class="built_in">qDebug</span>() &lt;&lt; <span class="string">&quot;__________&quot;</span> + strError;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="function">emit <span class="title">signalReplyFinished</span><span class="params">(statusCode.toInt())</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// ä¸‹è½½è¿‡ç¨‹ä¸­å‡ºç°é”™è¯¯ï¼Œå…³é—­ä¸‹è½½ï¼Œå¹¶ä¸ŠæŠ¥é”™è¯¯ï¼Œè¿™é‡Œæœªä¸ŠæŠ¥é”™è¯¯ç±»å‹ï¼Œå¯è‡ªå·±å®šä¹‰è¿›è¡Œä¸ŠæŠ¥;</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">DownLoadManager::onError</span><span class="params">(QNetworkReply::NetworkError code)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    QString strError = m_reply-&gt;<span class="built_in">errorString</span>();</span><br><span class="line">    <span class="built_in">qDebug</span>() &lt;&lt; <span class="string">&quot;__________&quot;</span> + strError;</span><br><span class="line"> </span><br><span class="line">    <span class="built_in">closeDownload</span>();</span><br><span class="line">    <span class="function">emit <span class="title">signalDownloadError</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// åœæ­¢ä¸‹è½½å·¥ä½œ;</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">DownLoadManager::stopWork</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    m_isStop = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">if</span> (m_reply != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">disconnect</span>(m_reply, <span class="built_in">SIGNAL</span>(<span class="built_in">downloadProgress</span>(qint64, qint64)), <span class="keyword">this</span>, <span class="built_in">SLOT</span>(<span class="built_in">onDownloadProgress</span>(qint64, qint64)));</span><br><span class="line">        <span class="built_in">disconnect</span>(m_reply, <span class="built_in">SIGNAL</span>(<span class="built_in">readyRead</span>()), <span class="keyword">this</span>, <span class="built_in">SLOT</span>(<span class="built_in">onReadyRead</span>()));</span><br><span class="line">        <span class="built_in">disconnect</span>(m_reply, <span class="built_in">SIGNAL</span>(<span class="built_in">finished</span>()), <span class="keyword">this</span>, <span class="built_in">SLOT</span>(<span class="built_in">onFinished</span>()));</span><br><span class="line">        <span class="built_in">disconnect</span>(m_reply, <span class="built_in">SIGNAL</span>(<span class="built_in">error</span>(QNetworkReply::NetworkError)), <span class="keyword">this</span>, <span class="built_in">SLOT</span>(<span class="built_in">onError</span>(QNetworkReply::NetworkError)));</span><br><span class="line">        m_reply-&gt;<span class="built_in">abort</span>();</span><br><span class="line">        m_reply-&gt;<span class="built_in">deleteLater</span>();</span><br><span class="line">        m_reply = <span class="literal">NULL</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// æš‚åœä¸‹è½½æŒ‰é’®è¢«æŒ‰ä¸‹,æš‚åœå½“å‰ä¸‹è½½;</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">DownLoadManager::stopDownload</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// è¿™é‡Œm_isStopå˜é‡ä¸ºäº†ä¿æŠ¤å¤šæ¬¡ç‚¹å‡»æš‚åœä¸‹è½½æŒ‰é’®ï¼Œå¯¼è‡´m_bytesCurrentReceived è¢«ä¸åœç´¯åŠ ;</span></span><br><span class="line">    <span class="keyword">if</span> (!m_isStop)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//è®°å½•å½“å‰å·²ç»ä¸‹è½½å­—èŠ‚æ•°</span></span><br><span class="line">        m_bytesCurrentReceived += m_bytesReceived;</span><br><span class="line">        <span class="built_in">stopWork</span>();</span><br><span class="line">    &#125;   </span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// é‡ç½®å‚æ•°;</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">DownLoadManager::reset</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    m_bytesCurrentReceived = <span class="number">0</span>;</span><br><span class="line">    m_bytesReceived = <span class="number">0</span>;</span><br><span class="line">    m_bytesTotal = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// åˆ é™¤æ–‡ä»¶;</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">DownLoadManager::removeFile</span><span class="params">(QString fileName)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// åˆ é™¤å·²ä¸‹è½½çš„ä¸´æ—¶æ–‡ä»¶;</span></span><br><span class="line">    <span class="function">QFileInfo <span class="title">fileInfo</span><span class="params">(fileName)</span></span>;</span><br><span class="line">    <span class="keyword">if</span> (fileInfo.<span class="built_in">exists</span>())</span><br><span class="line">    &#123;</span><br><span class="line">        QFile::<span class="built_in">remove</span>(fileName);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// åœæ­¢ä¸‹è½½æŒ‰é’®è¢«æŒ‰ä¸‹ï¼Œå…³é—­ä¸‹è½½ï¼Œé‡ç½®å‚æ•°ï¼Œå¹¶åˆ é™¤ä¸‹è½½çš„ä¸´æ—¶æ–‡ä»¶;</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">DownLoadManager::closeDownload</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">stopWork</span>();</span><br><span class="line">    <span class="built_in">reset</span>();</span><br><span class="line">    <span class="built_in">removeFile</span>(m_fileName);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="2ã€MYHTTPDOWNLOAD"><a href="#2ã€MYHTTPDOWNLOAD" class="headerlink" title="2ã€MYHTTPDOWNLOAD"></a>2ã€MYHTTPDOWNLOAD</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;myhttpdownload.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;downloadmanager.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QDebug&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="meta">#<span class="keyword">define</span> UNIT_KB 1024            <span class="comment">//KB</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> UNIT_MB 1024*1024       <span class="comment">//MB</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> UNIT_GB 1024*1024*1024  <span class="comment">//GB</span></span></span><br><span class="line"> </span><br><span class="line"><span class="meta">#<span class="keyword">define</span> TIME_INTERVAL 300       <span class="comment">//0.3s</span></span></span><br><span class="line"> </span><br><span class="line">MyHttpDownload::<span class="built_in">MyHttpDownload</span>(QWidget *parent)</span><br><span class="line">    : <span class="built_in">QWidget</span>(parent)</span><br><span class="line">    , <span class="built_in">m_downloadManager</span>(<span class="literal">NULL</span>)</span><br><span class="line">    , <span class="built_in">m_url</span>(<span class="string">&quot;&quot;</span>)</span><br><span class="line">    , <span class="built_in">m_timeInterval</span>(<span class="number">0</span>)</span><br><span class="line">    , <span class="built_in">m_currentDownload</span>(<span class="number">0</span>)</span><br><span class="line">    , <span class="built_in">m_intervalDownload</span>(<span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line">    ui.<span class="built_in">setupUi</span>(<span class="keyword">this</span>);</span><br><span class="line">    <span class="built_in">initWindow</span>();</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">MyHttpDownload::~<span class="built_in">MyHttpDownload</span>()</span><br><span class="line">&#123;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">MyHttpDownload::initWindow</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ui.progressBar-&gt;<span class="built_in">setValue</span>(<span class="number">0</span>);</span><br><span class="line">    <span class="built_in">connect</span>(ui.pButtonStart, <span class="built_in">SIGNAL</span>(<span class="built_in">clicked</span>()), <span class="keyword">this</span>, <span class="built_in">SLOT</span>(<span class="built_in">onStartDownload</span>()));</span><br><span class="line">    <span class="built_in">connect</span>(ui.pButtonStop, <span class="built_in">SIGNAL</span>(<span class="built_in">clicked</span>()), <span class="keyword">this</span>, <span class="built_in">SLOT</span>(<span class="built_in">onStopDownload</span>()));</span><br><span class="line">    <span class="built_in">connect</span>(ui.pButtonClose, <span class="built_in">SIGNAL</span>(<span class="built_in">clicked</span>()), <span class="keyword">this</span>, <span class="built_in">SLOT</span>(<span class="built_in">onCloseDownload</span>()));</span><br><span class="line">    <span class="comment">// è¿›åº¦æ¡è®¾ç½®æ ·å¼;</span></span><br><span class="line">    ui.progressBar-&gt;<span class="built_in">setStyleSheet</span>(<span class="string">&quot;\</span></span><br><span class="line"><span class="string">                QProgressBar\</span></span><br><span class="line"><span class="string">                &#123;\</span></span><br><span class="line"><span class="string">                    border-width: 0 10 0 10;\</span></span><br><span class="line"><span class="string">                    border-left: 1px, gray;\</span></span><br><span class="line"><span class="string">                    border-right: 1px, gray;\</span></span><br><span class="line"><span class="string">                    border-image:url(:/Resources/progressbar_back.png);\</span></span><br><span class="line"><span class="string">                &#125;\</span></span><br><span class="line"><span class="string">                QProgressBar::chunk\</span></span><br><span class="line"><span class="string">                &#123;\</span></span><br><span class="line"><span class="string">                    border-width: 0 10 0 10;\</span></span><br><span class="line"><span class="string">                    border-image:url(:/Resources/progressbar.png);\</span></span><br><span class="line"><span class="string">                &#125;&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// å¼€å§‹ä¸‹è½½;</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">MyHttpDownload::onStartDownload</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// ä»ç•Œé¢è·å–ä¸‹è½½é“¾æ¥;</span></span><br><span class="line">    m_url = ui.downloadUrl-&gt;<span class="built_in">text</span>();</span><br><span class="line">    <span class="keyword">if</span> (m_downloadManager == <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        m_downloadManager = <span class="keyword">new</span> <span class="built_in">DownLoadManager</span>(<span class="keyword">this</span>);</span><br><span class="line">        <span class="built_in">connect</span>(m_downloadManager , <span class="built_in">SIGNAL</span>(<span class="built_in">signalDownloadProcess</span>(qint64, qint64)), <span class="keyword">this</span>, <span class="built_in">SLOT</span>(<span class="built_in">onDownloadProcess</span>(qint64, qint64)));</span><br><span class="line">        <span class="built_in">connect</span>(m_downloadManager, <span class="built_in">SIGNAL</span>(<span class="built_in">signalReplyFinished</span>(<span class="type">int</span>)), <span class="keyword">this</span>, <span class="built_in">SLOT</span>(<span class="built_in">onReplyFinished</span>(<span class="type">int</span>)));</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">// è¿™é‡Œå…ˆè·å–åˆ°m_downloadManagerä¸­çš„urlä¸å½“å‰çš„m_url å¯¹æ¯”ï¼Œå¦‚æœurlå˜äº†éœ€è¦é‡ç½®å‚æ•°,é˜²æ­¢æ–‡ä»¶ä¸‹è½½ä¸å…¨;</span></span><br><span class="line">    QString url = m_downloadManager-&gt;<span class="built_in">getDownloadUrl</span>();</span><br><span class="line">    <span class="keyword">if</span> (url != m_url)</span><br><span class="line">    &#123;</span><br><span class="line">        m_downloadManager-&gt;<span class="built_in">reset</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    m_downloadManager-&gt;<span class="built_in">setDownInto</span>(<span class="literal">true</span>);</span><br><span class="line">    m_downloadManager-&gt;<span class="built_in">downloadFile</span>(m_url, <span class="string">&quot;F:/MyHttpDownload/MyDownloadFile.zip&quot;</span>);</span><br><span class="line">    m_timeRecord.<span class="built_in">start</span>();</span><br><span class="line">    m_timeInterval = <span class="number">0</span>;</span><br><span class="line">    ui.labelStatus-&gt;<span class="built_in">setText</span>(<span class="built_in">QStringLiteral</span>(<span class="string">&quot;æ­£åœ¨ä¸‹è½½&quot;</span>));</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// æš‚åœä¸‹è½½;</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">MyHttpDownload::onStopDownload</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ui.labelStatus-&gt;<span class="built_in">setText</span>(<span class="built_in">QStringLiteral</span>(<span class="string">&quot;åœæ­¢ä¸‹è½½&quot;</span>));</span><br><span class="line">    <span class="keyword">if</span> (m_downloadManager != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        m_downloadManager-&gt;<span class="built_in">stopDownload</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    ui.labelSpeed-&gt;<span class="built_in">setText</span>(<span class="string">&quot;0 KB/S&quot;</span>);</span><br><span class="line">    ui.labelRemainTime-&gt;<span class="built_in">setText</span>(<span class="string">&quot;0s&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// å…³é—­ä¸‹è½½;</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">MyHttpDownload::onCloseDownload</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    m_downloadManager-&gt;<span class="built_in">closeDownload</span>();</span><br><span class="line">    ui.progressBar-&gt;<span class="built_in">setValue</span>(<span class="number">0</span>);</span><br><span class="line">    ui.labelSpeed-&gt;<span class="built_in">setText</span>(<span class="string">&quot;0 KB/S&quot;</span>);</span><br><span class="line">    ui.labelRemainTime-&gt;<span class="built_in">setText</span>(<span class="string">&quot;0s&quot;</span>);</span><br><span class="line">    ui.labelStatus-&gt;<span class="built_in">setText</span>(<span class="built_in">QStringLiteral</span>(<span class="string">&quot;å…³é—­ä¸‹è½½&quot;</span>));</span><br><span class="line">    ui.labelCurrentDownload-&gt;<span class="built_in">setText</span>(<span class="string">&quot;0 B&quot;</span>);</span><br><span class="line">    ui.labelFileSize-&gt;<span class="built_in">setText</span>(<span class="string">&quot;0 B&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// æ›´æ–°ä¸‹è½½è¿›åº¦;</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">MyHttpDownload::onDownloadProcess</span><span class="params">(qint64 bytesReceived, qint64 bytesTotal)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// è¾“å‡ºå½“å‰ä¸‹è½½è¿›åº¦;</span></span><br><span class="line">    <span class="comment">// ç”¨åˆ°é™¤æ³•éœ€è¦æ³¨æ„é™¤0é”™è¯¯;</span></span><br><span class="line">    <span class="built_in">qDebug</span>() &lt;&lt; <span class="built_in">QString</span>(<span class="string">&quot;%1&quot;</span>).<span class="built_in">arg</span>(bytesReceived * <span class="number">100</span> / bytesTotal + <span class="number">1</span>);</span><br><span class="line">    <span class="comment">// æ›´æ–°è¿›åº¦æ¡;</span></span><br><span class="line">    ui.progressBar-&gt;<span class="built_in">setMaximum</span>(bytesTotal);</span><br><span class="line">    ui.progressBar-&gt;<span class="built_in">setValue</span>(bytesReceived);</span><br><span class="line"> </span><br><span class="line">    <span class="comment">// m_intervalDownload ä¸ºä¸‹æ¬¡è®¡ç®—é€Ÿåº¦ä¹‹å‰çš„ä¸‹è½½å­—èŠ‚æ•°;</span></span><br><span class="line">    m_intervalDownload += bytesReceived - m_currentDownload;</span><br><span class="line">    m_currentDownload = bytesReceived;</span><br><span class="line"> </span><br><span class="line">    uint timeNow = m_timeRecord.<span class="built_in">elapsed</span>();</span><br><span class="line"> </span><br><span class="line">    <span class="comment">// è¶…è¿‡0.3sæ›´æ–°è®¡ç®—ä¸€æ¬¡é€Ÿåº¦;</span></span><br><span class="line">    <span class="keyword">if</span> (timeNow - m_timeInterval &gt; TIME_INTERVAL)</span><br><span class="line">    &#123;</span><br><span class="line">        qint64 ispeed = m_intervalDownload * <span class="number">1000</span> / (timeNow - m_timeInterval);</span><br><span class="line">        QString strSpeed = <span class="built_in">transformUnit</span>(ispeed, <span class="literal">true</span>);</span><br><span class="line">        ui.labelSpeed-&gt;<span class="built_in">setText</span>(strSpeed);</span><br><span class="line">        <span class="comment">// å‰©ä½™æ—¶é—´;</span></span><br><span class="line">        qint64 timeRemain = (bytesTotal - bytesReceived) / ispeed;</span><br><span class="line">        ui.labelRemainTime-&gt;<span class="built_in">setText</span>(<span class="built_in">transformTime</span>(timeRemain));</span><br><span class="line"> </span><br><span class="line">        ui.labelCurrentDownload-&gt;<span class="built_in">setText</span>(<span class="built_in">transformUnit</span>(m_currentDownload));</span><br><span class="line">        ui.labelFileSize-&gt;<span class="built_in">setText</span>(<span class="built_in">transformUnit</span>(bytesTotal));</span><br><span class="line"> </span><br><span class="line">        m_intervalDownload = <span class="number">0</span>;</span><br><span class="line">        m_timeInterval = timeNow;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// ä¸‹è½½å®Œæˆ;</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">MyHttpDownload::onReplyFinished</span><span class="params">(<span class="type">int</span> statusCode)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// æ ¹æ®çŠ¶æ€ç åˆ¤æ–­å½“å‰ä¸‹è½½æ˜¯å¦å‡ºé”™;</span></span><br><span class="line">    <span class="keyword">if</span> (statusCode &gt;= <span class="number">200</span> &amp;&amp; statusCode &lt; <span class="number">400</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">qDebug</span>() &lt;&lt; <span class="string">&quot;Download Failed&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">qDebug</span>() &lt;&lt; <span class="string">&quot;Download Success&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// è½¬æ¢å•ä½;</span></span><br><span class="line"><span class="function">QString <span class="title">MyHttpDownload::transformUnit</span><span class="params">(qint64 bytes , <span class="type">bool</span> isSpeed)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    QString strUnit = <span class="string">&quot; B&quot;</span>;</span><br><span class="line">    <span class="keyword">if</span> (bytes &lt;= <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        bytes = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (bytes &lt; UNIT_KB)</span><br><span class="line">    &#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (bytes &lt; UNIT_MB)</span><br><span class="line">    &#123;</span><br><span class="line">        bytes /= UNIT_KB;</span><br><span class="line">        strUnit = <span class="string">&quot; KB&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (bytes &lt; UNIT_GB)</span><br><span class="line">    &#123;</span><br><span class="line">        bytes /= UNIT_MB;</span><br><span class="line">        strUnit = <span class="string">&quot; MB&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (bytes &gt; UNIT_GB)</span><br><span class="line">    &#123;</span><br><span class="line">        bytes /= UNIT_GB;</span><br><span class="line">        strUnit = <span class="string">&quot; GB&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">if</span> (isSpeed)</span><br><span class="line">    &#123;</span><br><span class="line">        strUnit += <span class="string">&quot;/S&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">QString</span>(<span class="string">&quot;%1%2&quot;</span>).<span class="built_in">arg</span>(bytes).<span class="built_in">arg</span>(strUnit);</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// è½¬æ¢æ—¶é—´;</span></span><br><span class="line"><span class="function">QString <span class="title">MyHttpDownload::transformTime</span><span class="params">(qint64 seconds)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    QString strValue;</span><br><span class="line">    <span class="function">QString <span class="title">strSpacing</span><span class="params">(<span class="string">&quot; &quot;</span>)</span></span>;</span><br><span class="line">    <span class="keyword">if</span> (seconds &lt;= <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        strValue = <span class="built_in">QString</span>(<span class="string">&quot;%1s&quot;</span>).<span class="built_in">arg</span>(<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (seconds &lt; <span class="number">60</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        strValue = <span class="built_in">QString</span>(<span class="string">&quot;%1s&quot;</span>).<span class="built_in">arg</span>(seconds);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (seconds &lt; <span class="number">60</span> * <span class="number">60</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> nMinute = seconds / <span class="number">60</span>;</span><br><span class="line">        <span class="type">int</span> nSecond = seconds - nMinute * <span class="number">60</span>;</span><br><span class="line"> </span><br><span class="line">        strValue = <span class="built_in">QString</span>(<span class="string">&quot;%1m&quot;</span>).<span class="built_in">arg</span>(nMinute);</span><br><span class="line"> </span><br><span class="line">        <span class="keyword">if</span> (nSecond &gt; <span class="number">0</span>)</span><br><span class="line">            strValue += strSpacing + <span class="built_in">QString</span>(<span class="string">&quot;%1s&quot;</span>).<span class="built_in">arg</span>(nSecond);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (seconds &lt; <span class="number">60</span> * <span class="number">60</span> * <span class="number">24</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> nHour = seconds / (<span class="number">60</span> * <span class="number">60</span>);</span><br><span class="line">        <span class="type">int</span> nMinute = (seconds - nHour * <span class="number">60</span> * <span class="number">60</span>) / <span class="number">60</span>;</span><br><span class="line">        <span class="type">int</span> nSecond = seconds - nHour * <span class="number">60</span> * <span class="number">60</span> - nMinute * <span class="number">60</span>;</span><br><span class="line"> </span><br><span class="line">        strValue = <span class="built_in">QString</span>(<span class="string">&quot;%1h&quot;</span>).<span class="built_in">arg</span>(nHour);</span><br><span class="line"> </span><br><span class="line">        <span class="keyword">if</span> (nMinute &gt; <span class="number">0</span>)</span><br><span class="line">            strValue += strSpacing + <span class="built_in">QString</span>(<span class="string">&quot;%1m&quot;</span>).<span class="built_in">arg</span>(nMinute);</span><br><span class="line"> </span><br><span class="line">        <span class="keyword">if</span> (nSecond &gt; <span class="number">0</span>)</span><br><span class="line">            strValue += strSpacing + <span class="built_in">QString</span>(<span class="string">&quot;%1s&quot;</span>).<span class="built_in">arg</span>(nSecond);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> nDay = seconds / (<span class="number">60</span> * <span class="number">60</span> * <span class="number">24</span>);</span><br><span class="line">        <span class="type">int</span> nHour = (seconds - nDay * <span class="number">60</span> * <span class="number">60</span> * <span class="number">24</span>) / (<span class="number">60</span> * <span class="number">60</span>);</span><br><span class="line">        <span class="type">int</span> nMinute = (seconds - nDay * <span class="number">60</span> * <span class="number">60</span> * <span class="number">24</span> - nHour * <span class="number">60</span> * <span class="number">60</span>) / <span class="number">60</span>;</span><br><span class="line">        <span class="type">int</span> nSecond = seconds - nDay * <span class="number">60</span> * <span class="number">60</span> * <span class="number">24</span> - nHour * <span class="number">60</span> * <span class="number">60</span> - nMinute * <span class="number">60</span>;</span><br><span class="line"> </span><br><span class="line">        strValue = <span class="built_in">QString</span>(<span class="string">&quot;%1d&quot;</span>).<span class="built_in">arg</span>(nDay);</span><br><span class="line"> </span><br><span class="line">        <span class="keyword">if</span> (nHour &gt; <span class="number">0</span>)</span><br><span class="line">            strValue += strSpacing + <span class="built_in">QString</span>(<span class="string">&quot;%1h&quot;</span>).<span class="built_in">arg</span>(nHour);</span><br><span class="line"> </span><br><span class="line">        <span class="keyword">if</span> (nMinute &gt; <span class="number">0</span>)</span><br><span class="line">            strValue += strSpacing + <span class="built_in">QString</span>(<span class="string">&quot;%1m&quot;</span>).<span class="built_in">arg</span>(nMinute);</span><br><span class="line"> </span><br><span class="line">        <span class="keyword">if</span> (nSecond &gt; <span class="number">0</span>)</span><br><span class="line">            strValue += strSpacing + <span class="built_in">QString</span>(<span class="string">&quot;%1s&quot;</span>).<span class="built_in">arg</span>(nSecond);</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> strValue;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ ‡æ³¨ï¼š-ä»£ç æ³¨é‡Šä¸­æåˆ°å¯ä»¥æ ¹æ®URLæ¥è·å–æ–‡ä»¶åï¼Œä¸‹æ–¹ç»™äºˆè§£é‡Šè¯´æ˜ã€‚"><a href="#æ ‡æ³¨ï¼š-ä»£ç æ³¨é‡Šä¸­æåˆ°å¯ä»¥æ ¹æ®URLæ¥è·å–æ–‡ä»¶åï¼Œä¸‹æ–¹ç»™äºˆè§£é‡Šè¯´æ˜ã€‚" class="headerlink" title="æ ‡æ³¨ï¼š ä»£ç æ³¨é‡Šä¸­æåˆ°å¯ä»¥æ ¹æ®URLæ¥è·å–æ–‡ä»¶åï¼Œä¸‹æ–¹ç»™äºˆè§£é‡Šè¯´æ˜ã€‚"></a>æ ‡æ³¨ï¼š ä»£ç æ³¨é‡Šä¸­æåˆ°å¯ä»¥æ ¹æ®URLæ¥è·å–æ–‡ä»¶åï¼Œä¸‹æ–¹ç»™äºˆè§£é‡Šè¯´æ˜ã€‚</h3><blockquote><p>QString QUrl::fileName(ComponentFormattingOptions options &#x3D; FullyDecoded) const<br>Returns the name of the file, excluding the directory path.<br><strong>Note that, if this QUrl object is given a path ending in a slash, the name of the file is considered empty.</strong><br>If the path doesnâ€™t contain any slash, it is fully returned as the fileName.</p><p>åœ¨QtåŠ©æ‰‹ä¸­æˆ‘ä»¬æ‰¾åˆ°æ­¤æ–¹æ³•ï¼Œæ ¹æ®åŠ ç²—çš„å­—æ®µå¯ä»¥çœ‹å‡ºfileName()æ–¹æ³•ä¹Ÿå¯èƒ½è¿”å›ä¸ºç©ºï¼Œæ‰€ä»¥ä¸æ˜¯éƒ½æœ‰æ•ˆã€‚</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> Qt </category>
          
      </categories>
      
      
        <tags>
            
            <tag> HTTP </tag>
            
            <tag> QNetWork </tag>
            
            <tag> QNetworkRequest </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Qtå¿«æ·é”®ä»¥åŠå…¨å±€æ³¨å†Œ</title>
      <link href="/Code/Qt/Qt%E5%85%A8%E5%B1%80%E6%B3%A8%E5%86%8C%E5%BF%AB%E6%8D%B7%E9%94%AE/"/>
      <url>/Code/Qt/Qt%E5%85%A8%E5%B1%80%E6%B3%A8%E5%86%8C%E5%BF%AB%E6%8D%B7%E9%94%AE/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> Qt </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Qtåœ¨Winç³»ç»Ÿä¸Šçš„æ¶ˆæ¯é€šçŸ¥</title>
      <link href="/Code/Qt/Qt%20Win%E6%B6%88%E6%81%AF%E9%80%9A%E7%9F%A5/"/>
      <url>/Code/Qt/Qt%20Win%E6%B6%88%E6%81%AF%E9%80%9A%E7%9F%A5/</url>
      
        <content type="html"><![CDATA[<p>[TOC]</p><p>éœ€æ±‚æè¿°ï¼š Qtåº”ç”¨ç¨‹åºåœ¨windowsç³»ç»Ÿä¸Šå‘é€winæ¶ˆæ¯é€šçŸ¥</p><h1 id="æ¼”ç¤º"><a href="#æ¼”ç¤º" class="headerlink" title="æ¼”ç¤º"></a>æ¼”ç¤º</h1><div class="tag-plugin image"><div class="image-bg"><img src="https://raw.githubusercontent.com/holdyounger/ScopeBlog/rc_images/Images/Qt/images/Qt%20Win%E6%B6%88%E6%81%AF%E9%80%9A%E7%9F%A5/Qt%20Win%E6%B6%88%E6%81%AF%E9%80%9A%E7%9F%A51.gif"/></div></div><h1 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h1><p>ä»£ç å®ç°å¾ˆç®€å•ï¼Œä¸»è¦è°ƒç”¨çš„æ¥å£ä¸º<code>QSystemTrayIcon.showMessage()</code></p><p>ä½¿ç”¨çš„Demoä¸º <a href="https://blog.csdn.net/Fuel_Ming/article/details/124348526">ã€Qtã€‘ é¼ æ ‡ hover æ“ä½œæ—¶å¼¹å‡ºæ–‡å­—æ°”æ³¡_æ¬§æ©æ„çš„åšå®¢-CSDNåšå®¢</a> è¿™ç¯‡æ–‡ç« ï¼Œç»“åˆå›¾ç‰‡éšè—æ˜¾ç¤ºï¼Œåœ¨ç³»ç»Ÿæ˜¾ç¤ºé€šçŸ¥ã€‚</p><h2 id="widget-h"><a href="#widget-h" class="headerlink" title="widget.h"></a>widget.h</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> WIDGET_H</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> WIDGET_H</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QWidget&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QImage&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QPixmap&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QSystemTrayIcon&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QMenu&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QIcon&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QAction&gt;</span></span></span><br><span class="line"></span><br><span class="line">QT_BEGIN_NAMESPACE</span><br><span class="line"><span class="keyword">namespace</span> Ui &#123; <span class="keyword">class</span> <span class="title class_">Widget</span>; &#125;</span><br><span class="line">QT_END_NAMESPACE</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Widget</span> : <span class="keyword">public</span> QWidget</span><br><span class="line">&#123;</span><br><span class="line">    Q_OBJECT</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Widget</span>(QWidget *parent = <span class="literal">nullptr</span>);</span><br><span class="line">    ~<span class="built_in">Widget</span>();</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    QSystemTrayIcon *trayIcon;</span><br><span class="line"><span class="keyword">private</span> slots:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">stTrayIconActive</span><span class="params">(QSystemTrayIcon::ActivationReason acReason)</span></span>;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">on_pushButton_clicked</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    Ui::Widget *ui;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span> <span class="comment">// WIDGET_H</span></span></span><br></pre></td></tr></table></figure><h2 id="widget-cpp"><a href="#widget-cpp" class="headerlink" title="widget.cpp"></a>widget.cpp</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;widget.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;ui_widget.h&quot;</span></span></span><br><span class="line"></span><br><span class="line">Widget::<span class="built_in">Widget</span>(QWidget *parent)</span><br><span class="line">    : <span class="built_in">QWidget</span>(parent)</span><br><span class="line">    , <span class="built_in">ui</span>(<span class="keyword">new</span> Ui::Widget)</span><br><span class="line">&#123;</span><br><span class="line">    ui-&gt;<span class="built_in">setupUi</span>(<span class="keyword">this</span>);</span><br><span class="line"></span><br><span class="line">    <span class="function">QPixmap <span class="title">img</span><span class="params">(<span class="string">&quot;:/Win11.jpg&quot;</span>)</span></span>;</span><br><span class="line"></span><br><span class="line">    ui-&gt;label-&gt;<span class="built_in">setPixmap</span>(img);</span><br><span class="line">    ui-&gt;label-&gt;<span class="built_in">setScaledContents</span>(<span class="literal">true</span>);</span><br><span class="line">    ui-&gt;label-&gt;<span class="built_in">setToolTip</span>(<span class="built_in">QString</span>(<span class="string">&quot;å£çº¸ã€ŠWin11.pngã€‹&quot;</span>));</span><br><span class="line">    ui-&gt;pushButton-&gt;<span class="built_in">setToolTip</span>(<span class="built_in">QString</span>(<span class="string">&quot;éšè—æˆ–æ˜¾ç¤ºå›¾ç‰‡&quot;</span>));</span><br><span class="line"></span><br><span class="line">    QIcon icon = QApplication::<span class="built_in">style</span>()-&gt;<span class="built_in">standardIcon</span>((QStyle::StandardPixmap)<span class="number">0</span>);</span><br><span class="line">    QIcon icon1 = QApplication::<span class="built_in">style</span>()-&gt;<span class="built_in">standardIcon</span>((QStyle::StandardPixmap)<span class="number">9</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è®¾ç½®é€šçŸ¥æ çš„å›¾æ ‡</span></span><br><span class="line">    trayIcon = <span class="keyword">new</span> <span class="built_in">QSystemTrayIcon</span>(<span class="keyword">this</span>);</span><br><span class="line">    trayIcon-&gt;<span class="built_in">setIcon</span>(icon);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è®¾ç½®é€šçŸ¥æ çš„å•å‡»äº‹ä»¶</span></span><br><span class="line">    <span class="built_in">connect</span>(trayIcon, <span class="built_in">SIGNAL</span>(<span class="built_in">activated</span>(QSystemTrayIcon::ActivationReason)), <span class="keyword">this</span>, <span class="built_in">SLOT</span>(<span class="built_in">stTrayIconActive</span>(QSystemTrayIcon::ActivationReason)));</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è®¾ç½®é€šçŸ¥æ çš„å³é”®èœå•</span></span><br><span class="line">    QMenu * menu = <span class="keyword">new</span> <span class="built_in">QMenu</span>();</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è®¾ç½®èœå•é¡¹ç›®</span></span><br><span class="line">    QAction *actionHide = <span class="keyword">new</span> <span class="built_in">QAction</span>(icon, <span class="string">&quot;Hide&quot;</span>, menu);</span><br><span class="line"></span><br><span class="line">    menu-&gt;<span class="built_in">addAction</span>(actionHide);</span><br><span class="line">    trayIcon-&gt;<span class="built_in">setContextMenu</span>(menu);</span><br><span class="line">    <span class="comment">// è®¾ç½®Actionçš„å“åº”</span></span><br><span class="line">    <span class="built_in">connect</span>(actionHide, <span class="built_in">SIGNAL</span>(<span class="built_in">triggered</span>()), <span class="keyword">this</span>, <span class="built_in">SLOT</span>(<span class="built_in">stActionHide</span>()));</span><br><span class="line">    trayIcon-&gt;<span class="built_in">show</span>();</span><br><span class="line"></span><br><span class="line">    <span class="comment">//æ‰˜ç›˜çš„æ¶ˆæ¯æç¤º</span></span><br><span class="line">    trayIcon-&gt;<span class="built_in">showMessage</span>(<span class="string">&quot;title&quot;</span>, <span class="string">&quot;this is a message&quot;</span>, icon1);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Widget::~<span class="built_in">Widget</span>()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">delete</span> ui;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Widget::stTrayIconActive</span><span class="params">(QSystemTrayIcon::ActivationReason acReason)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">switch</span> (acReason)</span><br><span class="line">    &#123;</span><br><span class="line">    <span class="keyword">case</span> QSystemTrayIcon::Trigger:</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">showNormal</span>();</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        ;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Widget::on_pushButton_clicked</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    QIcon icon = QApplication::<span class="built_in">style</span>()-&gt;<span class="built_in">standardIcon</span>((QStyle::StandardPixmap)<span class="number">0</span>);</span><br><span class="line">    QIcon icon1 = QApplication::<span class="built_in">style</span>()-&gt;<span class="built_in">standardIcon</span>((QStyle::StandardPixmap)<span class="number">9</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(ui-&gt;label-&gt;<span class="built_in">isVisible</span>())</span><br><span class="line">    &#123;</span><br><span class="line">        trayIcon-&gt;<span class="built_in">showMessage</span>(<span class="string">&quot;æé†’&quot;</span>, <span class="string">&quot;éšè—å›¾ç‰‡&quot;</span>, icon1);</span><br><span class="line">        ui-&gt;label-&gt;<span class="built_in">hide</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        trayIcon-&gt;<span class="built_in">showMessage</span>(<span class="string">&quot;æé†’&quot;</span>, <span class="string">&quot;æ˜¾ç¤ºå›¾ç‰‡&quot;</span>, icon1);</span><br><span class="line">        ui-&gt;label-&gt;<span class="built_in">setVisible</span>(<span class="literal">true</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="widget-ui"><a href="#widget-ui" class="headerlink" title="widget.ui"></a>widget.ui</h2><div class="tag-plugin image"><div class="image-bg"><img src="https://raw.githubusercontent.com/holdyounger/ScopeBlog/rc_images/Images/Qt/images/Qt%20Win%E6%B6%88%E6%81%AF%E9%80%9A%E7%9F%A5/Qt%20Win%E6%B6%88%E6%81%AF%E9%80%9A%E7%9F%A52.png"/></div></div>]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> Qt </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Qt </tag>
            
            <tag> win </tag>
            
            <tag> é€šçŸ¥ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Qt è‡ªå®šä¹‰æ°”æ³¡</title>
      <link href="/Code/Qt/Qt%20%E8%87%AA%E5%AE%9A%E4%B9%89%E6%B0%94%E6%B3%A1/"/>
      <url>/Code/Qt/Qt%20%E8%87%AA%E5%AE%9A%E4%B9%89%E6%B0%94%E6%B3%A1/</url>
      
        <content type="html"><![CDATA[<p>[toc]</p><p>Qt è‡ªå®šä¹‰æ°”æ³¡</p><h1 id="æ•ˆæœ"><a href="#æ•ˆæœ" class="headerlink" title="æ•ˆæœ"></a>æ•ˆæœ</h1><div class="tag-plugin image"><div class="image-bg"><img src="images/Qt%20%E8%87%AA%E5%AE%9A%E4%B9%89%E6%B0%94%E6%B3%A1/Qt%E8%87%AA%E5%AE%9A%E4%B9%89%E6%B0%94%E6%B3%A1.gif"/></div></div><h1 id="å®ç°é€»è¾‘"><a href="#å®ç°é€»è¾‘" class="headerlink" title="å®ç°é€»è¾‘"></a>å®ç°é€»è¾‘</h1><h2 id="1-ç»˜åˆ¶å¼¹å‡ºçš„æ°”æ³¡"><a href="#1-ç»˜åˆ¶å¼¹å‡ºçš„æ°”æ³¡" class="headerlink" title="1. ç»˜åˆ¶å¼¹å‡ºçš„æ°”æ³¡"></a>1. ç»˜åˆ¶å¼¹å‡ºçš„æ°”æ³¡</h2><blockquote><p>å¼¹å‡ºæ°”æ³¡çš„ä¸»è¦éƒ¨åˆ†å·²ç»ç”¨uiæ–‡ä»¶ç”Ÿæˆäº†ï¼Œå‰©ä¸‹çš„å°±æ˜¯æ°”æ³¡çš„ä¸‰è§’åŒºåŸŸï¼Œä¹Ÿæ˜¯æ¯”è¾ƒéš¾çš„ä¸€ä¸ªéƒ¨åˆ†</p></blockquote><h3 id="1-1-uiæ–‡ä»¶ä»£ç ï¼š"><a href="#1-1-uiæ–‡ä»¶ä»£ç ï¼š" class="headerlink" title="1.1 uiæ–‡ä»¶ä»£ç ï¼š"></a>1.1 uiæ–‡ä»¶ä»£ç ï¼š</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ui</span> <span class="attr">version</span>=<span class="string">&quot;4.0&quot;</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">class</span>&gt;</span>qFloatWidget<span class="tag">&lt;/<span class="name">class</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">widget</span> <span class="attr">class</span>=<span class="string">&quot;QWidget&quot;</span> <span class="attr">name</span>=<span class="string">&quot;qFloatWidget&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;geometry&quot;</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">rect</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">x</span>&gt;</span>0<span class="tag">&lt;/<span class="name">x</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">y</span>&gt;</span>0<span class="tag">&lt;/<span class="name">y</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">width</span>&gt;</span>191<span class="tag">&lt;/<span class="name">width</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">height</span>&gt;</span>105<span class="tag">&lt;/<span class="name">height</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">rect</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;windowTitle&quot;</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">string</span>&gt;</span>Form<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">layout</span> <span class="attr">class</span>=<span class="string">&quot;QGridLayout&quot;</span> <span class="attr">name</span>=<span class="string">&quot;gridLayout_2&quot;</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">item</span> <span class="attr">row</span>=<span class="string">&quot;0&quot;</span> <span class="attr">column</span>=<span class="string">&quot;0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">layout</span> <span class="attr">class</span>=<span class="string">&quot;QGridLayout&quot;</span> <span class="attr">name</span>=<span class="string">&quot;gridLayout&quot;</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">item</span> <span class="attr">row</span>=<span class="string">&quot;0&quot;</span> <span class="attr">column</span>=<span class="string">&quot;0&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">widget</span> <span class="attr">class</span>=<span class="string">&quot;QStackedWidget&quot;</span> <span class="attr">name</span>=<span class="string">&quot;stackedWidget&quot;</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;currentIndex&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">number</span>&gt;</span>0<span class="tag">&lt;/<span class="name">number</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">widget</span> <span class="attr">class</span>=<span class="string">&quot;QWidget&quot;</span> <span class="attr">name</span>=<span class="string">&quot;page&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">layout</span> <span class="attr">class</span>=<span class="string">&quot;QGridLayout&quot;</span> <span class="attr">name</span>=<span class="string">&quot;gridLayout_4&quot;</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">item</span> <span class="attr">row</span>=<span class="string">&quot;0&quot;</span> <span class="attr">column</span>=<span class="string">&quot;0&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">widget</span> <span class="attr">class</span>=<span class="string">&quot;QLabel&quot;</span> <span class="attr">name</span>=<span class="string">&quot;label_2&quot;</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;text&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">string</span>&gt;</span>2<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">widget</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;/<span class="name">item</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">layout</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">widget</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">widget</span> <span class="attr">class</span>=<span class="string">&quot;QWidget&quot;</span> <span class="attr">name</span>=<span class="string">&quot;page_2&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">layout</span> <span class="attr">class</span>=<span class="string">&quot;QGridLayout&quot;</span> <span class="attr">name</span>=<span class="string">&quot;gridLayout_3&quot;</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">item</span> <span class="attr">row</span>=<span class="string">&quot;0&quot;</span> <span class="attr">column</span>=<span class="string">&quot;0&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">widget</span> <span class="attr">class</span>=<span class="string">&quot;QLabel&quot;</span> <span class="attr">name</span>=<span class="string">&quot;label&quot;</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;text&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">string</span>&gt;</span>1<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">widget</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;/<span class="name">item</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">layout</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">widget</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">widget</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;/<span class="name">item</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">layout</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">item</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">layout</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">widget</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">resources</span>/&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">connections</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ui</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="1-2ç»˜åˆ¶ä¸‰è§’åŒºåŸŸä»£ç "><a href="#1-2ç»˜åˆ¶ä¸‰è§’åŒºåŸŸä»£ç " class="headerlink" title="1.2ç»˜åˆ¶ä¸‰è§’åŒºåŸŸä»£ç "></a>1.2ç»˜åˆ¶ä¸‰è§’åŒºåŸŸä»£ç </h3><p>ä¸‰è§’åŒºåŸŸçš„ä½ç½®å¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€æ±‚ä¿®æ”¹ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">QPainter <span class="title">painter</span><span class="params">(<span class="keyword">this</span>)</span></span>;</span><br><span class="line">    QPainterPath drawPath;</span><br><span class="line"></span><br><span class="line">    painter.<span class="built_in">setRenderHint</span>(QPainter::Antialiasing, <span class="literal">true</span>);</span><br><span class="line">    <span class="comment">// painter.setPen(QPen(Qt::blue, 1));</span></span><br><span class="line">    painter.<span class="built_in">setPen</span>(Qt::NoPen);</span><br><span class="line">    painter.<span class="built_in">setBrush</span>(Qt::white);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å°ä¸‰è§’åŒºåŸŸ;</span></span><br><span class="line">    QPolygon trianglePolygon;</span><br><span class="line"></span><br><span class="line">    <span class="function">QRect <span class="title">myRect</span><span class="params">(ui-&gt;stackedWidget-&gt;x(), ui-&gt;stackedWidget-&gt;y(), ui-&gt;stackedWidget-&gt;width(), ui-&gt;stackedWidget-&gt;height())</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è®¾ç½®å°ä¸‰çš„å…·ä½“ä½ç½®</span></span><br><span class="line">    <span class="type">int</span> tri_pos_x, tri_pos_y;</span><br><span class="line"></span><br><span class="line">    m_offset = ui-&gt;stackedWidget-&gt;<span class="built_in">width</span>() / <span class="number">2</span>  - m_triangleWidth / <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">switch</span> (derect)</span><br><span class="line">    &#123;</span><br><span class="line">    <span class="keyword">case</span> up:&#123;</span><br><span class="line">        <span class="comment">// å°ä¸‰è§’å·¦è¾¹çš„ç‚¹çš„ä½ç½®</span></span><br><span class="line">        tri_pos_x = myRect.<span class="built_in">x</span>() + m_offset;</span><br><span class="line">        tri_pos_y = myRect.<span class="built_in">y</span>();</span><br><span class="line">        trianglePolygon &lt;&lt; <span class="built_in">QPoint</span>(tri_pos_x, tri_pos_y); <span class="comment">// å°ä¸‰è§’èµ·ç‚¹</span></span><br><span class="line">        trianglePolygon &lt;&lt; <span class="built_in">QPoint</span>(tri_pos_x + m_triangleWidth, tri_pos_y);</span><br><span class="line">        trianglePolygon &lt;&lt; <span class="built_in">QPoint</span>(tri_pos_x + m_triangleWidth / <span class="number">2</span>, tri_pos_y - m_triangleHeight);</span><br><span class="line">    &#125;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> left:&#123;</span><br><span class="line">        <span class="comment">// å°ä¸‰ä¸Šè¾¹ç‚¹çš„ä½ç½®</span></span><br><span class="line">        tri_pos_x = myRect.<span class="built_in">x</span>();</span><br><span class="line">        tri_pos_y = myRect.<span class="built_in">y</span>() + m_offset;</span><br><span class="line">        trianglePolygon &lt;&lt; <span class="built_in">QPoint</span>(tri_pos_x, tri_pos_y);</span><br><span class="line">        trianglePolygon &lt;&lt; <span class="built_in">QPoint</span>(tri_pos_x - m_triangleHeight, tri_pos_y + m_triangleWidth / <span class="number">2</span>);</span><br><span class="line">        trianglePolygon &lt;&lt; <span class="built_in">QPoint</span>(tri_pos_x, tri_pos_y + m_triangleWidth);</span><br><span class="line">    &#125;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> right:&#123;</span><br><span class="line">        <span class="comment">// å°ä¸‰ä¸Šè¾¹ç‚¹çš„ä½ç½®</span></span><br><span class="line">        tri_pos_x = myRect.<span class="built_in">x</span>() + myRect.<span class="built_in">width</span>();</span><br><span class="line">        tri_pos_y = myRect.<span class="built_in">y</span>() + m_offset;</span><br><span class="line">        trianglePolygon &lt;&lt; <span class="built_in">QPoint</span>(tri_pos_x, tri_pos_y);</span><br><span class="line">        trianglePolygon &lt;&lt; <span class="built_in">QPoint</span>(tri_pos_x + m_triangleHeight, tri_pos_y + m_triangleWidth / <span class="number">2</span>);</span><br><span class="line">        trianglePolygon &lt;&lt; <span class="built_in">QPoint</span>(tri_pos_x, tri_pos_y + m_triangleWidth);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> down:&#123;</span><br><span class="line">        <span class="comment">// å°ä¸‰å·¦è¾¹ç‚¹çš„ä½ç½®</span></span><br><span class="line">        tri_pos_x = myRect.<span class="built_in">x</span>() + m_offset;</span><br><span class="line">        tri_pos_y = myRect.<span class="built_in">y</span>() + myRect.<span class="built_in">height</span>();</span><br><span class="line">        trianglePolygon &lt;&lt; <span class="built_in">QPoint</span>(tri_pos_x, tri_pos_y);</span><br><span class="line">        trianglePolygon &lt;&lt; <span class="built_in">QPoint</span>(tri_pos_x + m_triangleWidth / <span class="number">2</span>, tri_pos_y + m_triangleHeight);</span><br><span class="line">        trianglePolygon &lt;&lt; <span class="built_in">QPoint</span>(tri_pos_x + m_triangleWidth, tri_pos_y);</span><br><span class="line">    &#125;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    drawPath.<span class="built_in">addRoundedRect</span>(myRect, BORDER_RADIUS, BORDER_RADIUS);</span><br><span class="line">    drawPath.<span class="built_in">addPolygon</span>(trianglePolygon);</span><br><span class="line">    painter.<span class="built_in">drawPath</span>(drawPath);</span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šå°±æ˜¯ä¸»è¦çš„ç»˜å›¾äº‹ä»¶ï¼Œåˆ›å»ºäº†ä¸€ä¸ªå¸¦ä¸‰è§’çš„æ°”æ³¡ç•Œé¢ã€‚æ¥ä¸‹æ¥å°±æ˜¯åœ¨ä¸»ç•Œé¢å»å“åº”äº†ã€‚</p><h2 id="2-é¼ æ ‡äº‹ä»¶"><a href="#2-é¼ æ ‡äº‹ä»¶" class="headerlink" title="2. é¼ æ ‡äº‹ä»¶"></a>2. é¼ æ ‡äº‹ä»¶</h2><p>é¼ æ ‡æ—¶é—´è¿˜æ˜¯ç”¨åˆ°äº†QLabelçš„è¿‡æ»¤å™¨ï¼Œç›‘å¬ <code>QEvent::Enter</code> å’Œ <code>QEvent::Leave</code> ä¸¤ä¸ªäº‹ä»¶ã€‚å…·ä½“ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">Widget::eventFilter</span><span class="params">(QObject *obj, QEvent *event)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    QString str = <span class="built_in">QString</span>(<span class="string">&quot;&lt;style&gt; span &#123;text-decoration: none; color: #006FFF;font-family: Microsoft YaHei;&#125;&lt;/style&gt;  &lt;span&gt;è¿æ¥%1&lt;/span&gt; &lt;br&gt; è™šæ‹Ÿåœ°å€ï¼š%2&lt;br&gt;ç™»å½•åœ°å€ï¼š%3&quot;</span>).<span class="built_in">arg</span>(<span class="string">&quot;å·²æˆåŠŸ&quot;</span>).<span class="built_in">arg</span>(<span class="string">&quot;192.168.0.0&quot;</span>).<span class="built_in">arg</span>(<span class="string">&quot;192.168.0.1&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="type">static</span> <span class="type">int</span> x = <span class="number">0</span>;</span><br><span class="line">    <span class="type">static</span> <span class="type">int</span> y = <span class="number">0</span>;</span><br><span class="line">    <span class="type">static</span> <span class="type">uint8_t</span> flag=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(obj == ui-&gt;label)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(event-&gt;<span class="built_in">type</span>() == QEvent::Enter)</span><br><span class="line">        &#123;</span><br><span class="line">            ui-&gt;label-&gt;<span class="built_in">setText</span>(<span class="string">&quot;è¿›å…¥&quot;</span>);</span><br><span class="line">            <span class="function">QPoint <span class="title">GlobalPoint</span><span class="params">(ui-&gt;label-&gt;mapToGlobal(QPoint(<span class="number">0</span>, <span class="number">0</span>)))</span></span>;<span class="comment">//è·å–æ§ä»¶åœ¨çª—ä½“ä¸­çš„åæ ‡</span></span><br><span class="line">            x = GlobalPoint.<span class="built_in">x</span>();</span><br><span class="line">            y = GlobalPoint.<span class="built_in">y</span>() + ui-&gt;label-&gt;<span class="built_in">height</span>();</span><br><span class="line"></span><br><span class="line">            <span class="built_in">qDebug</span>() &lt;&lt; x &lt;&lt; <span class="string">&quot;:&quot;</span> &lt;&lt; y ;</span><br><span class="line">            m_widget-&gt;<span class="built_in">myMove</span>(x, y);</span><br><span class="line">            m_widget-&gt;<span class="built_in">setDerection</span>(qFloatWidget::up);</span><br><span class="line">            m_widget-&gt;<span class="built_in">show</span>();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(event-&gt;<span class="built_in">type</span>() == QEvent::Leave)</span><br><span class="line">        &#123;</span><br><span class="line">            ui-&gt;label-&gt;<span class="built_in">setText</span>((<span class="string">&quot;ç¦»å¼€&quot;</span>));</span><br><span class="line">            m_widget-&gt;<span class="built_in">hide</span>();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> QWidget::<span class="built_in">eventFilter</span>(obj,event);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="3-åŠ¨ç”»"><a href="#3-åŠ¨ç”»" class="headerlink" title="3. åŠ¨ç”»"></a>3. åŠ¨ç”»</h2><p>åŠ¨ç”»å†…å®¹æ¯”è¾ƒç®€å•ï¼Œåªéœ€è¦åˆ›å»ºä¸€ä¸ªç®€å•çš„ä½ç§»åŠ¨ç”»å°±å¯ä»¥äº†ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥å»æ‰åŠ¨ç”»ï¼Œç›´æ¥è®©æ°”æ³¡å¼¹å‡ºã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ·»åŠ åŠ¨ç”»</span></span><br><span class="line"><span class="comment">// ä½ç§»</span></span><br><span class="line">QPropertyAnimation *pPosAnimation1 = <span class="keyword">new</span> <span class="built_in">QPropertyAnimation</span>(m_widget, <span class="string">&quot;pos&quot;</span>);</span><br><span class="line">pPosAnimation1-&gt;<span class="built_in">setDuration</span>(<span class="number">1000</span>);</span><br><span class="line">pPosAnimation1-&gt;<span class="built_in">setStartValue</span>(QCursor::<span class="built_in">pos</span>());</span><br><span class="line">pPosAnimation1-&gt;<span class="built_in">setEndValue</span>(<span class="built_in">QPoint</span>(x,y));</span><br><span class="line">pPosAnimation1-&gt;<span class="built_in">setEasingCurve</span>(QEasingCurve::InOutQuad);</span><br><span class="line">pPosAnimation1-&gt;<span class="built_in">start</span>();</span><br></pre></td></tr></table></figure><h1 id="å®Œæ•´ä»£ç "><a href="#å®Œæ•´ä»£ç " class="headerlink" title="å®Œæ•´ä»£ç "></a>å®Œæ•´ä»£ç </h1><h2 id="QFloatWidget-h"><a href="#QFloatWidget-h" class="headerlink" title="QFloatWidget.h"></a>QFloatWidget.h</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> QFLOATWIDGET_H</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> QFLOATWIDGET_H</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QWidget&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">if</span> defined(_MSC_VER) &amp;&amp; (_MSC_VER &gt;= 1600)</span></span><br><span class="line">    <span class="meta">#<span class="keyword">pragma</span> execution_character_set(<span class="string">&quot;utf-8&quot;</span>)</span></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> SHADOW_WIDTH = <span class="number">30</span>;                 <span class="comment">// çª—å£é˜´å½±å®½åº¦;</span></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> TRIANGLE_WIDTH = <span class="number">30</span>;               <span class="comment">// å°ä¸‰è§’çš„å®½åº¦;</span></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> TRIANGLE_HEIGHT = <span class="number">10</span>;              <span class="comment">// å°ä¸‰è§’çš„é«˜åº¦;</span></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> BORDER_RADIUS = <span class="number">15</span>;                 <span class="comment">// çª—å£è¾¹è§’çš„å¼§åº¦;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> Ui &#123;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">qFloatWidget</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">qFloatWidget</span> : <span class="keyword">public</span> QWidget</span><br><span class="line">&#123;</span><br><span class="line">    Q_OBJECT</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">qFloatWidget</span>(QWidget *parent = <span class="literal">nullptr</span>);</span><br><span class="line">    ~<span class="built_in">qFloatWidget</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">enum</span> <span class="title class_">Derection</span>&#123;</span><br><span class="line">        left,</span><br><span class="line">        right,</span><br><span class="line">        up,</span><br><span class="line">        down</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è®¾ç½®å°ä¸‰è§’èµ·å§‹ä½ç½®;</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">setStartPos</span><span class="params">(<span class="type">int</span> startX)</span></span>;</span><br><span class="line">    <span class="comment">// è®¾ç½®å°ä¸‰è§’å®½å’Œé«˜;</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">setTriangleInfo</span><span class="params">(<span class="type">int</span> width, <span class="type">int</span> height)</span></span>;</span><br><span class="line">    <span class="comment">// è®¾ç½®å°ä¸‰è§’çš„ä½ç½®</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">setDerection</span><span class="params">(Derection d)</span></span>;</span><br><span class="line">    <span class="comment">// æ¯”èµ·å·¦ä¸Šè§’çš„ä½ç½®  ç”¨æˆ·æ›´å…³å¿ƒå°ä¸‰è§’çš„å°–å°–çš„ä½ç½® é‡è½½moveä»¥ä¾¿ç”¨æˆ·æ›´å®¹æ˜“å®šä½æ°”æ³¡æ¡†çš„ä½ç½®</span></span><br><span class="line">    <span class="comment">// x,y æ˜¯æ°”æ³¡çª—å£å°è´±è´±çš„åæ ‡</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">myMove</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">setWidgetIndex</span><span class="params">(<span class="type">int</span> i)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">paintEvent</span><span class="params">(QPaintEvent *)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="comment">// å°ä¸‰è§’çš„åç§»é‡;</span></span><br><span class="line">    <span class="type">int</span> m_offset;</span><br><span class="line">    <span class="comment">// å°ä¸‰è§’çš„å®½åº¦;</span></span><br><span class="line">    <span class="type">int</span> m_triangleWidth;</span><br><span class="line">    <span class="comment">// å°ä¸‰è§’é«˜åº¦;</span></span><br><span class="line">    <span class="type">int</span> m_triangleHeight;</span><br><span class="line">    Derection derect;</span><br><span class="line"></span><br><span class="line">    Ui::qFloatWidget *ui;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span> <span class="comment">// QFLOATWIDGET_H</span></span></span><br></pre></td></tr></table></figure><h2 id="QFloatWidget-cpp"><a href="#QFloatWidget-cpp" class="headerlink" title="QFloatWidget.cpp"></a>QFloatWidget.cpp</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;qfloatwidget.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;ui_qfloatwidget.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QGraphicsDropShadowEffect&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QHBoxLayout&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QPoint&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QPainter&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QImage&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QVariant&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QPropertyAnimation&gt;</span></span></span><br><span class="line"></span><br><span class="line">qFloatWidget::<span class="built_in">qFloatWidget</span>(QWidget *parent) :</span><br><span class="line">    <span class="built_in">QWidget</span>(parent),</span><br><span class="line">    <span class="built_in">m_offset</span>(<span class="number">50</span>),</span><br><span class="line">    <span class="built_in">m_triangleWidth</span>(TRIANGLE_WIDTH),</span><br><span class="line">    <span class="built_in">m_triangleHeight</span>(TRIANGLE_HEIGHT),</span><br><span class="line">    <span class="built_in">ui</span>(<span class="keyword">new</span> Ui::qFloatWidget)</span><br><span class="line">&#123;</span><br><span class="line">    ui-&gt;<span class="built_in">setupUi</span>(<span class="keyword">this</span>);</span><br><span class="line">    <span class="built_in">setWindowFlags</span>(Qt::FramelessWindowHint);</span><br><span class="line">    <span class="built_in">setAttribute</span>(Qt::WA_TranslucentBackground);</span><br><span class="line">    <span class="built_in">setAttribute</span>(Qt::WA_NoSystemBackground);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è®¾ç½®å…·ä½“é˜´å½±</span></span><br><span class="line">    QGraphicsDropShadowEffect *shadow_effect = <span class="keyword">new</span> <span class="built_in">QGraphicsDropShadowEffect</span>(<span class="keyword">this</span>);</span><br><span class="line">    shadow_effect-&gt;<span class="built_in">setOffset</span>(<span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">    shadow_effect-&gt;<span class="built_in">setColor</span>(<span class="built_in">QColor</span>(<span class="number">0</span>, <span class="number">133</span>, <span class="number">255</span>));</span><br><span class="line">    shadow_effect-&gt;<span class="built_in">setBlurRadius</span>(<span class="number">5</span>);</span><br><span class="line">    <span class="keyword">this</span>-&gt;<span class="built_in">setGraphicsEffect</span>(shadow_effect);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">qFloatWidget::~<span class="built_in">qFloatWidget</span>()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">delete</span> ui;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">qFloatWidget::setStartPos</span><span class="params">(<span class="type">int</span> startX)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    m_offset = startX;</span><br><span class="line">    <span class="built_in">repaint</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">qFloatWidget::setTriangleInfo</span><span class="params">(<span class="type">int</span> width, <span class="type">int</span> height)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    m_triangleWidth = width;</span><br><span class="line">    m_triangleHeight = height;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">qFloatWidget::setDerection</span><span class="params">(Derection d)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    derect = d;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">qFloatWidget::myMove</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> top_left_x, top_left_y;</span><br><span class="line">    <span class="keyword">switch</span> (derect) &#123;</span><br><span class="line">    <span class="keyword">case</span> down:</span><br><span class="line">        top_left_x = x - m_offset - m_triangleWidth / <span class="number">2</span> - ui-&gt;stackedWidget-&gt;<span class="built_in">x</span>();</span><br><span class="line">        top_left_y = y - m_triangleHeight - ui-&gt;stackedWidget-&gt;<span class="built_in">height</span>() - ui-&gt;stackedWidget-&gt;<span class="built_in">y</span>();</span><br><span class="line">        <span class="built_in">move</span>(<span class="built_in">QPoint</span>(top_left_x, top_left_y));</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> up:</span><br><span class="line">        top_left_x = x - m_offset - m_triangleWidth / <span class="number">2</span> - ui-&gt;stackedWidget-&gt;<span class="built_in">x</span>();</span><br><span class="line">        top_left_y = y + m_triangleHeight - ui-&gt;stackedWidget-&gt;<span class="built_in">y</span>();</span><br><span class="line">        <span class="built_in">move</span>(<span class="built_in">QPoint</span>(top_left_x, top_left_y));</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> left:</span><br><span class="line">        top_left_x = x + m_triangleHeight - ui-&gt;stackedWidget-&gt;<span class="built_in">x</span>();</span><br><span class="line">        top_left_y = y - m_offset - m_triangleWidth / <span class="number">2</span> - ui-&gt;stackedWidget-&gt;<span class="built_in">y</span>();</span><br><span class="line">        <span class="built_in">move</span>(<span class="built_in">QPoint</span>(top_left_x, top_left_y));</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> right:</span><br><span class="line">        top_left_x = x - m_triangleHeight - ui-&gt;stackedWidget-&gt;<span class="built_in">width</span>() - ui-&gt;stackedWidget-&gt;<span class="built_in">x</span>();</span><br><span class="line">        top_left_y = y - m_triangleWidth / <span class="number">2</span> - m_offset - ui-&gt;stackedWidget-&gt;<span class="built_in">y</span>();</span><br><span class="line">        <span class="built_in">move</span>(<span class="built_in">QPoint</span>(top_left_x, top_left_y));</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">qFloatWidget::setWidgetIndex</span><span class="params">(<span class="type">int</span> i)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ui-&gt;stackedWidget-&gt;<span class="built_in">setCurrentIndex</span>(i);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">qFloatWidget::paintEvent</span><span class="params">(QPaintEvent *)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">QPainter <span class="title">painter</span><span class="params">(<span class="keyword">this</span>)</span></span>;</span><br><span class="line">    QPainterPath drawPath;</span><br><span class="line"></span><br><span class="line">    painter.<span class="built_in">setRenderHint</span>(QPainter::Antialiasing, <span class="literal">true</span>);</span><br><span class="line">    <span class="comment">// painter.setPen(QPen(Qt::blue, 1));</span></span><br><span class="line">    painter.<span class="built_in">setPen</span>(Qt::NoPen);</span><br><span class="line">    painter.<span class="built_in">setBrush</span>(Qt::white);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å°ä¸‰è§’åŒºåŸŸ;</span></span><br><span class="line">    QPolygon trianglePolygon;</span><br><span class="line"></span><br><span class="line">    <span class="function">QRect <span class="title">myRect</span><span class="params">(ui-&gt;stackedWidget-&gt;x(), ui-&gt;stackedWidget-&gt;y(), ui-&gt;stackedWidget-&gt;width(), ui-&gt;stackedWidget-&gt;height())</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è®¾ç½®å°ä¸‰çš„å…·ä½“ä½ç½®</span></span><br><span class="line">    <span class="type">int</span> tri_pos_x, tri_pos_y;</span><br><span class="line"></span><br><span class="line">    m_offset = ui-&gt;stackedWidget-&gt;<span class="built_in">width</span>() / <span class="number">2</span>  - m_triangleWidth / <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">switch</span> (derect)</span><br><span class="line">    &#123;</span><br><span class="line">    <span class="keyword">case</span> up:&#123;</span><br><span class="line">        <span class="comment">// å°ä¸‰è§’å·¦è¾¹çš„ç‚¹çš„ä½ç½®</span></span><br><span class="line">        tri_pos_x = myRect.<span class="built_in">x</span>() + m_offset;</span><br><span class="line">        tri_pos_y = myRect.<span class="built_in">y</span>();</span><br><span class="line">        trianglePolygon &lt;&lt; <span class="built_in">QPoint</span>(tri_pos_x, tri_pos_y); <span class="comment">// å°ä¸‰è§’èµ·ç‚¹</span></span><br><span class="line">        trianglePolygon &lt;&lt; <span class="built_in">QPoint</span>(tri_pos_x + m_triangleWidth, tri_pos_y);</span><br><span class="line">        trianglePolygon &lt;&lt; <span class="built_in">QPoint</span>(tri_pos_x + m_triangleWidth / <span class="number">2</span>, tri_pos_y - m_triangleHeight);</span><br><span class="line">    &#125;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> left:&#123;</span><br><span class="line">        <span class="comment">// å°ä¸‰ä¸Šè¾¹ç‚¹çš„ä½ç½®</span></span><br><span class="line">        tri_pos_x = myRect.<span class="built_in">x</span>();</span><br><span class="line">        tri_pos_y = myRect.<span class="built_in">y</span>() + m_offset;</span><br><span class="line">        trianglePolygon &lt;&lt; <span class="built_in">QPoint</span>(tri_pos_x, tri_pos_y);</span><br><span class="line">        trianglePolygon &lt;&lt; <span class="built_in">QPoint</span>(tri_pos_x - m_triangleHeight, tri_pos_y + m_triangleWidth / <span class="number">2</span>);</span><br><span class="line">        trianglePolygon &lt;&lt; <span class="built_in">QPoint</span>(tri_pos_x, tri_pos_y + m_triangleWidth);</span><br><span class="line">    &#125;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> right:&#123;</span><br><span class="line">        <span class="comment">// å°ä¸‰ä¸Šè¾¹ç‚¹çš„ä½ç½®</span></span><br><span class="line">        tri_pos_x = myRect.<span class="built_in">x</span>() + myRect.<span class="built_in">width</span>();</span><br><span class="line">        tri_pos_y = myRect.<span class="built_in">y</span>() + m_offset;</span><br><span class="line">        trianglePolygon &lt;&lt; <span class="built_in">QPoint</span>(tri_pos_x, tri_pos_y);</span><br><span class="line">        trianglePolygon &lt;&lt; <span class="built_in">QPoint</span>(tri_pos_x + m_triangleHeight, tri_pos_y + m_triangleWidth / <span class="number">2</span>);</span><br><span class="line">        trianglePolygon &lt;&lt; <span class="built_in">QPoint</span>(tri_pos_x, tri_pos_y + m_triangleWidth);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> down:&#123;</span><br><span class="line">        <span class="comment">// å°ä¸‰å·¦è¾¹ç‚¹çš„ä½ç½®</span></span><br><span class="line">        tri_pos_x = myRect.<span class="built_in">x</span>() + m_offset;</span><br><span class="line">        tri_pos_y = myRect.<span class="built_in">y</span>() + myRect.<span class="built_in">height</span>();</span><br><span class="line">        trianglePolygon &lt;&lt; <span class="built_in">QPoint</span>(tri_pos_x, tri_pos_y);</span><br><span class="line">        trianglePolygon &lt;&lt; <span class="built_in">QPoint</span>(tri_pos_x + m_triangleWidth / <span class="number">2</span>, tri_pos_y + m_triangleHeight);</span><br><span class="line">        trianglePolygon &lt;&lt; <span class="built_in">QPoint</span>(tri_pos_x + m_triangleWidth, tri_pos_y);</span><br><span class="line">    &#125;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    drawPath.<span class="built_in">addRoundedRect</span>(myRect, BORDER_RADIUS, BORDER_RADIUS);</span><br><span class="line">    drawPath.<span class="built_in">addPolygon</span>(trianglePolygon);</span><br><span class="line">    painter.<span class="built_in">drawPath</span>(drawPath);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="QFloatWidget-ui"><a href="#QFloatWidget-ui" class="headerlink" title="QFloatWidget.ui"></a>QFloatWidget.ui</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ui</span> <span class="attr">version</span>=<span class="string">&quot;4.0&quot;</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">class</span>&gt;</span>qFloatWidget<span class="tag">&lt;/<span class="name">class</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">widget</span> <span class="attr">class</span>=<span class="string">&quot;QWidget&quot;</span> <span class="attr">name</span>=<span class="string">&quot;qFloatWidget&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;geometry&quot;</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">rect</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">x</span>&gt;</span>0<span class="tag">&lt;/<span class="name">x</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">y</span>&gt;</span>0<span class="tag">&lt;/<span class="name">y</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">width</span>&gt;</span>191<span class="tag">&lt;/<span class="name">width</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">height</span>&gt;</span>105<span class="tag">&lt;/<span class="name">height</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">rect</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;windowTitle&quot;</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">string</span>&gt;</span>Form<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">layout</span> <span class="attr">class</span>=<span class="string">&quot;QGridLayout&quot;</span> <span class="attr">name</span>=<span class="string">&quot;gridLayout_2&quot;</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">item</span> <span class="attr">row</span>=<span class="string">&quot;0&quot;</span> <span class="attr">column</span>=<span class="string">&quot;0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">layout</span> <span class="attr">class</span>=<span class="string">&quot;QGridLayout&quot;</span> <span class="attr">name</span>=<span class="string">&quot;gridLayout&quot;</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">item</span> <span class="attr">row</span>=<span class="string">&quot;0&quot;</span> <span class="attr">column</span>=<span class="string">&quot;0&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">widget</span> <span class="attr">class</span>=<span class="string">&quot;QStackedWidget&quot;</span> <span class="attr">name</span>=<span class="string">&quot;stackedWidget&quot;</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;currentIndex&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">number</span>&gt;</span>0<span class="tag">&lt;/<span class="name">number</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">widget</span> <span class="attr">class</span>=<span class="string">&quot;QWidget&quot;</span> <span class="attr">name</span>=<span class="string">&quot;page&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">layout</span> <span class="attr">class</span>=<span class="string">&quot;QGridLayout&quot;</span> <span class="attr">name</span>=<span class="string">&quot;gridLayout_4&quot;</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">item</span> <span class="attr">row</span>=<span class="string">&quot;0&quot;</span> <span class="attr">column</span>=<span class="string">&quot;0&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">widget</span> <span class="attr">class</span>=<span class="string">&quot;QLabel&quot;</span> <span class="attr">name</span>=<span class="string">&quot;label_2&quot;</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;text&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">string</span>&gt;</span>2<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">widget</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;/<span class="name">item</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">layout</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">widget</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">widget</span> <span class="attr">class</span>=<span class="string">&quot;QWidget&quot;</span> <span class="attr">name</span>=<span class="string">&quot;page_2&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">layout</span> <span class="attr">class</span>=<span class="string">&quot;QGridLayout&quot;</span> <span class="attr">name</span>=<span class="string">&quot;gridLayout_3&quot;</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">item</span> <span class="attr">row</span>=<span class="string">&quot;0&quot;</span> <span class="attr">column</span>=<span class="string">&quot;0&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">widget</span> <span class="attr">class</span>=<span class="string">&quot;QLabel&quot;</span> <span class="attr">name</span>=<span class="string">&quot;label&quot;</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;text&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">string</span>&gt;</span>1<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">widget</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;/<span class="name">item</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">layout</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">widget</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">widget</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;/<span class="name">item</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">layout</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">item</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">layout</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">widget</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">resources</span>/&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">connections</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ui</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="widget-h"><a href="#widget-h" class="headerlink" title="widget.h"></a>widget.h</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> WIDGET_H</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> WIDGET_H</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QWidget&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QMouseEvent&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;qmylabel.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;qfloatwidget.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">if</span> defined(_MSC_VER) &amp;&amp; (_MSC_VER &gt;= 1600)</span></span><br><span class="line">    <span class="meta">#<span class="keyword">pragma</span> execution_character_set(<span class="string">&quot;utf-8&quot;</span>)</span></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line">QT_BEGIN_NAMESPACE</span><br><span class="line"><span class="keyword">namespace</span> Ui &#123; <span class="keyword">class</span> <span class="title class_">Widget</span>; &#125;</span><br><span class="line">QT_END_NAMESPACE</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Widget</span> : <span class="keyword">public</span> QWidget</span><br><span class="line">&#123;</span><br><span class="line">    Q_OBJECT</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Widget</span>(QWidget *parent = <span class="literal">nullptr</span>);</span><br><span class="line">    ~<span class="built_in">Widget</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">eventFilter</span><span class="params">(QObject *obj, QEvent *event)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    Ui::Widget *ui;</span><br><span class="line">    qFloatWidget *m_widget;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span> <span class="comment">// WIDGET_H</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="widget-cpp"><a href="#widget-cpp" class="headerlink" title="widget.cpp"></a>widget.cpp</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;widget.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;ui_widget.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QDebug&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;QPropertyAnimation&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QGraphicsEffect&gt;</span></span></span><br><span class="line"></span><br><span class="line">Widget::<span class="built_in">Widget</span>(QWidget *parent)</span><br><span class="line">    : <span class="built_in">QWidget</span>(parent)</span><br><span class="line">    , <span class="built_in">ui</span>(<span class="keyword">new</span> Ui::Widget)</span><br><span class="line">&#123;</span><br><span class="line">    ui-&gt;<span class="built_in">setupUi</span>(<span class="keyword">this</span>);</span><br><span class="line">    m_widget = <span class="keyword">new</span> <span class="built_in">qFloatWidget</span>();</span><br><span class="line">    ui-&gt;label-&gt;<span class="built_in">installEventFilter</span>(<span class="keyword">this</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Widget::~<span class="built_in">Widget</span>()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">delete</span> ui;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">Widget::eventFilter</span><span class="params">(QObject *obj, QEvent *event)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    QString str = <span class="built_in">QString</span>(<span class="string">&quot;&lt;style&gt; span &#123;text-decoration: none; color: #006FFF;font-family: Microsoft YaHei;&#125;&lt;/style&gt;  &lt;span&gt;è¿æ¥%1&lt;/span&gt; &lt;br&gt; è™šæ‹Ÿåœ°å€ï¼š%2&lt;br&gt;ç™»å½•åœ°å€ï¼š%3&quot;</span>).<span class="built_in">arg</span>(<span class="string">&quot;å·²æˆåŠŸ&quot;</span>).<span class="built_in">arg</span>(<span class="string">&quot;192.168.0.0&quot;</span>).<span class="built_in">arg</span>(<span class="string">&quot;192.168.0.1&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="type">static</span> <span class="type">int</span> x = <span class="number">0</span>;</span><br><span class="line">    <span class="type">static</span> <span class="type">int</span> y = <span class="number">0</span>;</span><br><span class="line">    <span class="type">static</span> <span class="type">uint8_t</span> flag=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(obj == ui-&gt;label)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(event-&gt;<span class="built_in">type</span>() == QEvent::Enter)</span><br><span class="line">        &#123;</span><br><span class="line">            ui-&gt;label-&gt;<span class="built_in">setText</span>(<span class="string">&quot;è¿›å…¥&quot;</span>);</span><br><span class="line">            <span class="function">QPoint <span class="title">GlobalPoint</span><span class="params">(ui-&gt;label-&gt;mapToGlobal(QPoint(<span class="number">0</span>, <span class="number">0</span>)))</span></span>;<span class="comment">//è·å–æ§ä»¶åœ¨çª—ä½“ä¸­çš„åæ ‡</span></span><br><span class="line">            x = GlobalPoint.<span class="built_in">x</span>();</span><br><span class="line">            y = GlobalPoint.<span class="built_in">y</span>() + ui-&gt;label-&gt;<span class="built_in">height</span>();</span><br><span class="line"></span><br><span class="line">            <span class="built_in">qDebug</span>() &lt;&lt; x &lt;&lt; <span class="string">&quot;:&quot;</span> &lt;&lt; y ;</span><br><span class="line">            m_widget-&gt;<span class="built_in">myMove</span>(x, y);</span><br><span class="line">            m_widget-&gt;<span class="built_in">setDerection</span>(qFloatWidget::up);</span><br><span class="line">            m_widget-&gt;<span class="built_in">show</span>();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(event-&gt;<span class="built_in">type</span>() == QEvent::Leave)</span><br><span class="line">        &#123;</span><br><span class="line">            ui-&gt;label-&gt;<span class="built_in">setText</span>((<span class="string">&quot;ç¦»å¼€&quot;</span>));</span><br><span class="line">            m_widget-&gt;<span class="built_in">hide</span>();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ·»åŠ åŠ¨ç”»</span></span><br><span class="line">    <span class="comment">// ä½ç§»</span></span><br><span class="line">    QPropertyAnimation *pPosAnimation1 = <span class="keyword">new</span> <span class="built_in">QPropertyAnimation</span>(m_widget, <span class="string">&quot;pos&quot;</span>);</span><br><span class="line">    pPosAnimation1-&gt;<span class="built_in">setDuration</span>(<span class="number">1000</span>);</span><br><span class="line">    pPosAnimation1-&gt;<span class="built_in">setStartValue</span>(QCursor::<span class="built_in">pos</span>());</span><br><span class="line">    pPosAnimation1-&gt;<span class="built_in">setEndValue</span>(<span class="built_in">QPoint</span>(x,y));</span><br><span class="line">    pPosAnimation1-&gt;<span class="built_in">setEasingCurve</span>(QEasingCurve::InOutQuad);</span><br><span class="line">    pPosAnimation1-&gt;<span class="built_in">start</span>();</span><br><span class="line">    <span class="keyword">return</span> QWidget::<span class="built_in">eventFilter</span>(obj,event);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="widget-ui"><a href="#widget-ui" class="headerlink" title="widget.ui"></a>widget.ui</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ui</span> <span class="attr">version</span>=<span class="string">&quot;4.0&quot;</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">class</span>&gt;</span>Widget<span class="tag">&lt;/<span class="name">class</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">widget</span> <span class="attr">class</span>=<span class="string">&quot;QWidget&quot;</span> <span class="attr">name</span>=<span class="string">&quot;Widget&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;geometry&quot;</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">rect</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">x</span>&gt;</span>0<span class="tag">&lt;/<span class="name">x</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">y</span>&gt;</span>0<span class="tag">&lt;/<span class="name">y</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">width</span>&gt;</span>497<span class="tag">&lt;/<span class="name">width</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">height</span>&gt;</span>252<span class="tag">&lt;/<span class="name">height</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">rect</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;windowTitle&quot;</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">string</span>&gt;</span>Widget<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">layout</span> <span class="attr">class</span>=<span class="string">&quot;QGridLayout&quot;</span> <span class="attr">name</span>=<span class="string">&quot;gridLayout&quot;</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">item</span> <span class="attr">row</span>=<span class="string">&quot;0&quot;</span> <span class="attr">column</span>=<span class="string">&quot;0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">widget</span> <span class="attr">class</span>=<span class="string">&quot;QLabel&quot;</span> <span class="attr">name</span>=<span class="string">&quot;label&quot;</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;text&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">string</span>&gt;</span>123123123123<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;textFormat&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">enum</span>&gt;</span>Qt::PlainText<span class="tag">&lt;/<span class="name">enum</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;wordWrap&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">bool</span>&gt;</span>false<span class="tag">&lt;/<span class="name">bool</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">widget</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">item</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">layout</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">widget</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">resources</span>/&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">connections</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ui</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> Qt </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Qt </tag>
            
            <tag> æ°”æ³¡ </tag>
            
            <tag> è‡ªå®šä¹‰æ§ä»¶ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€ä¸€æ–‡ææ‡‚ã€‘qss</title>
      <link href="/Code/Qt/Qss/"/>
      <url>/Code/Qt/Qss/</url>
      
        <content type="html"><![CDATA[<h1 id="Qss"><a href="#Qss" class="headerlink" title="Qss"></a>Qss</h1><p>Qssçš„å†™æ³•å‚è€ƒ<code>css</code>å³å¯ã€‚</p><blockquote><p>ç½‘ç«™æ¨èï¼š</p><p><a href="https://doc.qt.io/archives/qt-4.8/stylesheet-reference.html">Qt Style Sheets Reference | Qt 4.8</a></p><p>ä¹¦ç±æ¨èï¼š</p><p><a href="https://pan.baidu.com/s/12F3fdZH5AO_epxmWIzV2cg">ã€ŠQtæ ·å¼è‘µèŠ±å®å…¸ã€‹æå–ç ï¼šnod5</a></p><p>å·¥å…·æ¨èï¼š</p><ul><li><p><a href="ttps://pan.baidu.com/s/1PrCgUx57c7iPUMjq3lsClw">Qss Editor 0.6.1 æå–ç ï¼šyzbi</a></p><div class="tag-plugin image"><div class="image-bg"><img src="images/Qss/qsseditor.jpg"/></div></div></li><li><p><a href="https://pan.baidu.com/s/1xxom5Zl3DwXgUAHFkaK6UA">Qss Stylesheet Editor 1.7 æå–ç ï¼š4r3i</a></p><div class="tag-plugin image"><div class="image-bg"><img src="images/Qss/qssstylesheeteditor.png"/></div></div></li></ul></blockquote><h1 id="QssåŠ è½½çš„å¸¸è§„æ“ä½œ"><a href="#QssåŠ è½½çš„å¸¸è§„æ“ä½œ" class="headerlink" title="QssåŠ è½½çš„å¸¸è§„æ“ä½œ"></a>QssåŠ è½½çš„å¸¸è§„æ“ä½œ</h1><ol><li>åœ¨èµ„æºæ–‡ä»¶å¤¹ä¸­æ·»åŠ <code>style.qss</code>çš„æ–‡ä»¶</li><li>ä»¥æ–‡ä»¶IOçš„æ–¹å¼è¯»å–å¹¶è®¾ç½®å³å¯ã€‚</li><li>è¯»å–çš„ä»£ç ï¼š <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">Widget::InitStyle</span><span class="params">(<span class="type">int</span> i)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    m_LCD_Hour-&gt;<span class="built_in">setStyleSheet</span>(<span class="string">&quot; font: 18px black;&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span>(i != <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function">QFile <span class="title">file</span><span class="params">(QString(<span class="string">&quot;:/Assert/qss/style%1.qss&quot;</span>).arg(i))</span></span>;</span><br><span class="line">        file.<span class="built_in">open</span>(QFile::ReadOnly);</span><br><span class="line">        <span class="keyword">this</span>-&gt;<span class="built_in">setStyleSheet</span>(file.<span class="built_in">readAll</span>());</span><br><span class="line">        file.<span class="built_in">close</span>();</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// m_LCD_Min-&gt;setStyleSheet(&quot;color: black; &quot;);</span></span><br><span class="line">    <span class="comment">// m_LCD_Sec-&gt;setStyleSheet(&quot;color: black; &quot;);</span></span><br><span class="line"></span><br><span class="line">    <span class="function">QFile <span class="title">file</span><span class="params">(QString(<span class="string">&quot;:/Assert/qss/main.qss&quot;</span>))</span></span>;</span><br><span class="line">    file.<span class="built_in">open</span>(QFile::ReadOnly);</span><br><span class="line">    <span class="keyword">this</span>-&gt;<span class="built_in">setStyleSheet</span>(file.<span class="built_in">readAll</span>());</span><br><span class="line">    file.<span class="built_in">close</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure> æ„Ÿå…´è¶£çš„æœ‹å‹å¯ä»¥çœ‹çœ‹æˆ‘æ•´ç†çš„ä¸€äº›Qtå°é¡¹ç›®å¸¸ç”¨çš„ä¸€äº›ä»£ç ï¼š[ã€Qtã€‘å¸¸ç”¨åŸºç¡€ä»£ç æ±‡æ€»ï¼ˆéšæ—¶æ›´æ–°ï¼‰_æ¬§æ©æ„çš„åšå®¢-CSDNåšå®¢_qtä»£ç æ•´ç†]<a href="https://blog.csdn.net/Fuel_Ming/article/details/122830341">https://blog.csdn.net/Fuel_Ming/article/details/122830341</a>)</li></ol><h1 id="é€‰æ‹©å™¨"><a href="#é€‰æ‹©å™¨" class="headerlink" title="é€‰æ‹©å™¨"></a>é€‰æ‹©å™¨</h1><p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œåœ¨uiæ–‡ä»¶ä¸­çš„æ§ä»¶æœ‰æ•ˆï¼Œè€Œåœ¨ä»£ç ä¸­å£°æ˜çš„åˆ™æ— æ•ˆï¼Œå› ä¸ºQtæ˜¯æ ¹æ®<code>objectName</code>æ¥è¯†åˆ«çš„ï¼Œæ‰€ä»¥è‡ªå·±å£°æ˜çš„æ§ä»¶éœ€è¦è®¾ç½®å¯¹è±¡åã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">m_btn-&gt;<span class="built_in">setObjectName</span>(<span class="string">&quot;BtnOK&quot;</span>);</span><br></pre></td></tr></table></figure><p>åœ¨<code>QSS</code>æ–‡ä»¶ä¸­ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">QPushButton<span class="selector-id">#BtnOK</span>&#123;</span><br><span class="line">    <span class="attribute">color</span>:white;</span><br><span class="line">    <span class="attribute">background-color</span>:<span class="built_in">rgb</span>(<span class="number">0</span>,<span class="number">112</span>,<span class="number">210</span>);</span><br><span class="line">&#125;</span><br><span class="line">QPushButton<span class="selector-id">#BtnOK</span>::hover&#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">rgb</span>(<span class="number">0</span>,<span class="number">134</span>,<span class="number">252</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="é€šç”¨é€‰æ‹©å™¨"><a href="#é€šç”¨é€‰æ‹©å™¨" class="headerlink" title="é€šç”¨é€‰æ‹©å™¨"></a>é€šç”¨é€‰æ‹©å™¨</h2><p>å³ <code>*</code> è¡¨ç¤ºçš„csså¯¹è±¡ã€‚ä½œç”¨äºæ‰€æœ‰çš„ç•Œé¢æ§ä»¶</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">* &#123;</span><br><span class="line">    <span class="attribute">color</span>: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ç±»å‹é€‰æ‹©å™¨"><a href="#ç±»å‹é€‰æ‹©å™¨" class="headerlink" title="ç±»å‹é€‰æ‹©å™¨"></a>ç±»å‹é€‰æ‹©å™¨</h2><ol><li>ä½œç”¨äºè‡ªå·±åŠå­ç±»</li></ol><p><code>ç±»å</code>ï¼ˆQtç±»ï¼‰ä½œä¸ºé€‰æ‹©å™¨ï¼Œä½œç”¨äºå…¶è‡ªèº«å’Œä»–æ‰€æœ‰çš„å­ç±»</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">QFrame &#123;</span><br><span class="line"><span class="attribute">background</span>: gray;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨äº†ç±»å‹é€‰æ‹©å™¨ <code>QFrame</code>ï¼Œæ‰€ä»¥ QFrame å’Œå®ƒçš„å­ç±» <code>QLable</code>ï¼Œ<code>QLCDNumber</code>ï¼Œ<code>QTableWidget</code> ç­‰çš„èƒŒæ™¯ä¼šæ˜¯ç°è‰²çš„ï¼Œ<code>QPushButton</code> ä¸æ˜¯ <code>QFrame</code> çš„å­ç±»ï¼Œæ‰€ä»¥ä¸å—å½±å“ã€‚åœ¨Qtçš„ç±»å›¾æˆ–è€…å¸®åŠ©æ‰‹å†Œä¸­å¯ä»¥çœ‹åˆ°ä¸€ä¸ªQtç±»çš„å­ç±»å’Œçˆ¶ç±»ã€‚</p><ol start="2"><li>åªä½œç”¨äºè‡ªå·±</li></ol><p>å³ <code>. + ç±»å</code> çš„å½¢å¼ã€‚ä½œç”¨å¯¹è±¡åªæœ‰å®ƒè‡ªå·±ã€‚å­ç±»ä¸å—å½±å“ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">QWidget *window = <span class="keyword">new</span> <span class="built_in">QWidget</span>();</span><br><span class="line">window-&gt;<span class="built_in">setStylesheet</span>(<span class="string">&quot;.QWidget &#123; &quot;</span></span><br><span class="line">                      <span class="string">&quot;color:red;&quot;</span></span><br><span class="line">                      <span class="string">&quot;&#125;&quot;</span>);</span><br></pre></td></tr></table></figure><h2 id="IDé€‰æ‹©å™¨"><a href="#IDé€‰æ‹©å™¨" class="headerlink" title="IDé€‰æ‹©å™¨"></a>IDé€‰æ‹©å™¨</h2><p><code># + objectname</code>ä½œä¸ºé€‰æ‹©å™¨ã€‚åªä½œç”¨äºæ­¤ <code>objectname</code> çš„å¯¹è±¡ï¼ˆå¤šä¸ªå¯¹è±¡å¯ä»¥è®¾ç½®åŒä¸€ä¸ª <code>objectname</code>ï¼Œä½†ä¸æ¨èè¿™ä¹ˆå†™ï¼‰ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">QPushButton *btn = <span class="keyword">new</span> QPushButton;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è®¾ç½®å±æ€§å</span></span><br><span class="line">btn-&gt;<span class="built_in">setObjectName</span>(<span class="string">&quot;openButton&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// è®¾ç½®æ ·å¼</span></span><br><span class="line"><span class="comment">// 1</span></span><br><span class="line">btn-&gt;<span class="built_in">setStylesheet</span>(<span class="string">&quot;#openButton &#123; &quot;</span></span><br><span class="line">                      <span class="string">&quot;color:red;&quot;</span></span><br><span class="line">                      <span class="string">&quot;&#125;&quot;</span>);</span><br><span class="line"><span class="comment">// 2</span></span><br><span class="line">btn-&gt;<span class="built_in">setStylesheet</span>(<span class="string">&quot;QPushButton#openButton &#123; &quot;</span></span><br><span class="line">                      <span class="string">&quot;color:red;&quot;</span></span><br><span class="line">                      <span class="string">&quot;&#125;&quot;</span>);</span><br></pre></td></tr></table></figure><h2 id="å±æ€§é€‰æ‹©å™¨"><a href="#å±æ€§é€‰æ‹©å™¨" class="headerlink" title="å±æ€§é€‰æ‹©å™¨"></a>å±æ€§é€‰æ‹©å™¨</h2><p><code>[å±æ€§ = å€¼]</code>çš„å½¢å¼è®¾ç½®æ ·å¼ã€‚éœ€è¦é€šè¿‡<code>object-&gt;property()</code>æ¥å£è®¾ç½®Qtæ§ä»¶çš„å±æ€§å€¼ï¼ˆDynamic Propertiesï¼‰ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">app.<span class="built_in">setStyleSheet</span>(<span class="string">&quot;.QWidget &#123; background: gray; &#125;&quot;</span></span><br><span class="line">                  <span class="string">&quot;QPushButton[level=\&quot;dangerous\&quot;] &#123; background: magenta; &#125;&quot;</span>);</span><br><span class="line"> </span><br><span class="line">openButton-&gt;<span class="built_in">setProperty</span>(<span class="string">&quot;level&quot;</span>, <span class="string">&quot;dangerous&quot;</span>);</span><br><span class="line">closeButton-&gt;<span class="built_in">setProperty</span>(<span class="string">&quot;level&quot;</span>, <span class="string">&quot;dangerous&quot;</span>);</span><br></pre></td></tr></table></figure><h2 id="åŒ…å«é€‰æ‹©å™¨"><a href="#åŒ…å«é€‰æ‹©å™¨" class="headerlink" title="åŒ…å«é€‰æ‹©å™¨"></a>åŒ…å«é€‰æ‹©å™¨</h2><p>ä¹Ÿå°±æ˜¯å¯¹æ§ä»¶å†…çš„æ§ä»¶çš„ç±»è¿›è¡Œè®¾ç½®ï¼Œä¸€çœ‹å°±æ‡‚ï¼Œé€‰æ‹©å™¨ä¹‹é—´ç”¨<mark>ç©ºæ ¼</mark>éš”å¼€ï¼ŒåŒ…å«é€‰æ‹©å™¨å’Œå­å…ƒç´ é€‰æ‹©å™¨éœ€è¦åŒºåˆ†ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">QFrame &#123;</span><br><span class="line">    <span class="attribute">background</span>: gray;</span><br><span class="line">&#125;</span><br><span class="line">    </span><br><span class="line">QFrame QPushButton &#123;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">2px</span> solid magenta;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">background</span>: white;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">2px</span> <span class="number">15px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å­å…ƒç´ é€‰æ‹©å™¨"><a href="#å­å…ƒç´ é€‰æ‹©å™¨" class="headerlink" title="å­å…ƒç´ é€‰æ‹©å™¨"></a>å­å…ƒç´ é€‰æ‹©å™¨</h2><p>é€‰æ‹©å™¨ä¹‹é—´ç”¨ <code>&gt;</code> éš”å¼€ï¼Œä½œç”¨äº<code>Widget</code>çš„ ç›´æ¥ <code>å­Widget</code></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">QFrame &#123;</span><br><span class="line">    <span class="attribute">background</span>: gray;</span><br><span class="line">&#125;</span><br><span class="line">    </span><br><span class="line">QFrame &gt; QPushButton &#123;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">2px</span> solid magenta;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">background</span>: white;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">2px</span> <span class="number">15px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ä¼ªç±»é€‰æ‹©å™¨"><a href="#ä¼ªç±»é€‰æ‹©å™¨" class="headerlink" title="ä¼ªç±»é€‰æ‹©å™¨"></a>ä¼ªç±»é€‰æ‹©å™¨</h2><p><code>é€‰æ‹©å™¨:çŠ¶æ€</code> ä½œä¸ºé€‰æ‹©å™¨ã€‚æ”¯æŒ<code>!</code>æ“ä½œã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">QPushButton<span class="selector-pseudo">:hover</span> &#123; <span class="attribute">color</span>: white &#125;</span><br><span class="line">QCheckBox<span class="selector-pseudo">:checked</span> &#123; <span class="attribute">color</span>: white &#125;</span><br><span class="line">QCheckBox:!checked &#123; <span class="attribute">color</span>: red &#125;</span><br></pre></td></tr></table></figure><p>å¸¸è§çš„ä¼ªç±»é€‰æ‹©å™¨å¦‚ä¸‹æ‰€ç¤ºï¼š</p><table><thead><tr><th align="left">ä¼ªç±»</th><th align="left">è¯´æ˜</th></tr></thead><tbody><tr><td align="left">:disabled</td><td align="left">Widget è¢«ç¦ç”¨æ—¶</td></tr><tr><td align="left">:enabled</td><td align="left">Widget å¯ä½¿ç”¨æ—¶</td></tr><tr><td align="left">:focus</td><td align="left">Widget å¾—åˆ°è¾“å…¥ç„¦ç‚¹</td></tr><tr><td align="left">:hover</td><td align="left">é¼ æ ‡æ”¾åˆ° Widget ä¸Š</td></tr><tr><td align="left">:pressed</td><td align="left">é¼ æ ‡æŒ‰ä¸‹æ—¶</td></tr><tr><td align="left">:checked</td><td align="left">è¢«é€‰ä¸­æ—¶</td></tr><tr><td align="left">:unchecked</td><td align="left">æœªé€‰ä¸­æ—¶</td></tr><tr><td align="left">:has-children</td><td align="left">Item æœ‰å­ itemï¼Œä¾‹å¦‚ QTreeView çš„ item æœ‰å­ item æ—¶</td></tr><tr><td align="left">:has-siblings</td><td align="left">Item æœ‰ å…„å¼Ÿï¼Œä¾‹å¦‚ QTreeView çš„ item æœ‰å…„å¼Ÿ item æ—¶</td></tr><tr><td align="left">:open</td><td align="left">æ‰“å¼€æˆ–å±•å¼€çŠ¶æ€ï¼Œä¾‹å¦‚ QTreeView çš„ item å±•å¼€ï¼ŒQPushButton çš„èœå•å¼¹å‡ºæ—¶</td></tr><tr><td align="left">:closed</td><td align="left">å…³é—­æˆ–è€…éå±•å¼€çŠ¶æ€</td></tr><tr><td align="left">:on</td><td align="left">Widget çŠ¶æ€æ˜¯å¯åˆ‡æ¢çš„ï¼ˆtoggleï¼‰, åœ¨ on çŠ¶æ€</td></tr><tr><td align="left">:off</td><td align="left">Widget çŠ¶æ€æ˜¯å¯åˆ‡æ¢çš„ï¼ˆtoggleï¼‰, åœ¨ off çŠ¶æ€</td></tr></tbody></table><h2 id="SubControlé€‰æ‹©å™¨"><a href="#SubControlé€‰æ‹©å™¨" class="headerlink" title="SubControlé€‰æ‹©å™¨"></a>SubControlé€‰æ‹©å™¨</h2><p><code>é€‰æ‹©å™¨::subcontrol</code> ä½œä¸ºé€‰æ‹© Subcontrol çš„é€‰æ‹©å™¨ã€‚</p><p>æœ‰äº› Widget æ˜¯ç”±å¤šä¸ªéƒ¨åˆ†ç»„åˆæˆçš„ï¼Œä¾‹å¦‚ QCheckBox ç”± icon(indicator) å’Œ text ç»„æˆï¼Œå¯ä»¥ä½¿ç”¨ <code>é€‰æ‹©å™¨::subcontrol</code> æ¥è®¾ç½® subcontrol çš„æ ·å¼ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">QCheckBox::indicator &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">QCheckBox &#123;</span><br><span class="line">    spacing: <span class="number">8px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¸¸ç”¨çš„ Subcontrol æœ‰ï¼š</p><table><thead><tr><th align="left">Subcontrol</th><th align="left">è¯´æ˜</th></tr></thead><tbody><tr><td align="left">::indicator</td><td align="left">A QCheckBox, QRadioButton, checkable QMenu item,  or a checkable QGroupBoxâ€™s indicator</td></tr><tr><td align="left">::menu-indicator</td><td align="left">A QPushButtonâ€™s menu indicator</td></tr><tr><td align="left">::item</td><td align="left">A QMenu, QMenuBar, or QStatusBarâ€™s item</td></tr><tr><td align="left">::up-button</td><td align="left">A QSpinBox or QScrollBarâ€™s up button</td></tr><tr><td align="left">::down-button</td><td align="left">A QSpinBox or QScrollBarâ€™s down button</td></tr><tr><td align="left">::up-arrow</td><td align="left">A QSpinBox, QScrollBar, or QHeaderViewâ€™s up arrow</td></tr><tr><td align="left">::down-arrow</td><td align="left">A QSpinBox, QScrollBar, or QHeaderViewâ€™s down arrow</td></tr><tr><td align="left">::drop-down</td><td align="left">A QComboBoxâ€™s drop-down arrow</td></tr><tr><td align="left">::title</td><td align="left">A QGroupBox or QDockWidgetâ€™s title</td></tr><tr><td align="left">::groove</td><td align="left">A QSliderâ€™s groove</td></tr><tr><td align="left">::chunk</td><td align="left">A QProgressBarâ€™s progress chunk</td></tr><tr><td align="left">::branch</td><td align="left">A QTreeViewâ€™s branch indicator</td></tr></tbody></table><h1 id="è¡¥å……"><a href="#è¡¥å……" class="headerlink" title="è¡¥å……"></a>è¡¥å……</h1><p>ä¸€äº›å…¶ä»–å†™æ³•çš„å‚è€ƒdemo</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* ================================================ *</span></span><br><span class="line"><span class="comment">author:lei</span></span><br><span class="line"><span class="comment">lastedited:2020.2</span></span><br><span class="line"><span class="comment">* ================================================ */</span></span><br><span class="line">$text = <span class="selector-id">#222</span>;</span><br><span class="line">$<span class="attribute">background</span> = <span class="selector-id">#FDFDFD</span>;</span><br><span class="line">$<span class="attribute">border</span> = <span class="selector-id">#999999</span>;</span><br><span class="line">$selected = <span class="selector-id">#8BF</span>; <span class="comment">/*hover*/</span></span><br><span class="line">$pressed = <span class="selector-id">#59F</span>;</span><br><span class="line">$focused = <span class="selector-id">#EA2</span>; <span class="comment">/*actived*/</span></span><br><span class="line">$grad1a = <span class="selector-id">#EEEEEF</span>; <span class="comment">/*gradient start*/</span></span><br><span class="line">$grad1b = <span class="selector-id">#DADADF</span>; <span class="comment">/*gradient end*/</span></span><br><span class="line"></span><br><span class="line">QWidget</span><br><span class="line">&#123;</span><br><span class="line">    <span class="attribute">color</span>: $text;</span><br><span class="line">    <span class="attribute">background-color</span>: $background;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">QFrame&#123;</span><br><span class="line">    <span class="attribute">color</span>: $text;</span><br><span class="line">    <span class="attribute">background-color</span>: $background;<span class="comment">/*ä¸èƒ½è®¾ç½®ä¸ºtransparent*/</span></span><br><span class="line">&#125;</span><br><span class="line">QMainWindow::separator&#123;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid $border;</span><br><span class="line">    <span class="attribute">border-style</span>: outset;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">4px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">4px</span>;</span><br><span class="line">&#125;</span><br><span class="line">QMainWindow::separator:hover&#123;</span><br><span class="line">    <span class="attribute">background</span>: $selected;</span><br><span class="line">&#125;</span><br><span class="line">QSplitter::handle&#123;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid $border;</span><br><span class="line">    <span class="attribute">border-style</span>: outset;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">4px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">4px</span>;</span><br><span class="line">&#125;</span><br><span class="line">QSplitter::handle:hover&#123;<span class="comment">/*splitter-&gt;handle(1)-&gt;setAttribute(Qt::WA_Hover, true);æ‰ç”Ÿæ•ˆ*/</span></span><br><span class="line">    <span class="attribute">border-color</span>: $focused;</span><br><span class="line">&#125;</span><br><span class="line">QSplitter::handle:pressed&#123;</span><br><span class="line">    <span class="attribute">border-color</span>: $pressed;</span><br><span class="line">&#125;</span><br><span class="line">QSizeGrip&#123;</span><br><span class="line">    <span class="attribute">background-color</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* =============================================== */</span></span><br><span class="line"><span class="comment">/* Label                                           */</span></span><br><span class="line"><span class="comment">/* =============================================== */</span></span><br><span class="line">QLabel &#123;</span><br><span class="line">    <span class="attribute">background</span>: transparent;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid transparent;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">1px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* A QLabel is a QFrame ... */</span></span><br><span class="line"><span class="comment">/* A QToolTip is a QLabel ... */</span></span><br><span class="line">QToolTip &#123;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid $border;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">5px</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">3px</span>;</span><br><span class="line">    <span class="attribute">opacity</span>:<span class="number">210</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* =============================================== */</span></span><br><span class="line"><span class="comment">/* TextBox                                         */</span></span><br><span class="line"><span class="comment">/* =============================================== */</span></span><br><span class="line">QLineEdit &#123;</span><br><span class="line">    <span class="attribute">background</span>: $background;<span class="comment">/*ä¸å»ºè®®è®¾ä¸ºé€æ˜ï¼Œå¦åˆ™tableç¼–è¾‘æ—¶ä¼šå­—æ˜¾ç¤º*/</span></span><br><span class="line">    selection-<span class="attribute">background-color</span>: $selected;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid $border;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">2px</span>;</span><br><span class="line">    <span class="attribute">border-style</span>: inset;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">1px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">QLineEdit<span class="selector-pseudo">:hover</span>&#123;</span><br><span class="line">    <span class="attribute">border-color</span>: $selected;</span><br><span class="line">&#125;</span><br><span class="line">QLineEdit<span class="selector-pseudo">:focus</span>&#123;</span><br><span class="line">    <span class="attribute">border-color</span>: $focused;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*QLineEdit[readOnly=&quot;true&quot;] &#123; color: gray &#125;*/</span></span><br><span class="line">QLineEdit<span class="selector-attr">[echoMode=<span class="string">&quot;2&quot;</span>]</span>&#123;</span><br><span class="line">    lineedit-password-character: <span class="number">9679</span>;<span class="comment">/*å­—ç¬¦çš„asciiç 35 88ç­‰ */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">QLineEdit<span class="selector-pseudo">:read-only</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: lightgray;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">QLineEdit<span class="selector-pseudo">:disabled</span>&#123;</span><br><span class="line">    <span class="attribute">color</span>: lightgray;</span><br><span class="line">    <span class="attribute">background</span>: lightgray;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">QTextEdit&#123;</span><br><span class="line">    selection-<span class="attribute">background-color</span>:$selected;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid $border;</span><br><span class="line">    <span class="attribute">border-style</span>: inset;</span><br><span class="line">&#125;</span><br><span class="line">QTextEdit<span class="selector-pseudo">:hover</span>&#123;</span><br><span class="line">    <span class="attribute">border-color</span>: $selected;</span><br><span class="line">&#125;</span><br><span class="line">QTextEdit<span class="selector-pseudo">:focus</span>&#123;</span><br><span class="line">    <span class="attribute">border-color</span>: $focused;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* =============================================== */</span></span><br><span class="line"><span class="comment">/* Button                                          */</span></span><br><span class="line"><span class="comment">/* =============================================== */</span></span><br><span class="line">QPushButton &#123;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid $border;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">2px</span>;</span><br><span class="line">    <span class="comment">/*background-color: QLinearGradient( x1: 0, y1: 0, x2: 0, y2: 1, </span></span><br><span class="line"><span class="comment">        stop: 0 $grad1a, stop: 0.05 $grad1b,stop: 0.5 $grad1b, </span></span><br><span class="line"><span class="comment">        stop: 0.9 $grad1a, stop: 1 $grad1a);*/</span></span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">1px</span> <span class="number">4px</span>;</span><br><span class="line">    <span class="attribute">min-width</span>: <span class="number">50px</span>;</span><br><span class="line">    <span class="attribute">min-height</span>: <span class="number">16px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">QPushButton<span class="selector-pseudo">:hover</span>&#123;</span><br><span class="line">    <span class="attribute">background-color</span>: $selected;</span><br><span class="line">    <span class="attribute">border-color</span>: $pressed;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">QPushButton:pressed</span><br><span class="line">&#123;</span><br><span class="line">    <span class="attribute">border-width</span>: <span class="number">1px</span>;      </span><br><span class="line">    <span class="attribute">background-color</span>: $pressed;</span><br><span class="line">    <span class="attribute">border-color</span>: $border;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">QPushButton<span class="selector-pseudo">:focus</span>, QPushButton<span class="selector-pseudo">:default</span> &#123;</span><br><span class="line">    <span class="attribute">border-color</span>: $focused; <span class="comment">/* make the default button prominent */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">QToolButton,QToolButton:unchecked &#123; <span class="comment">/* ToolBaré‡Œçš„æŒ‰é’®å’Œå¸¦ä¸‹æ‹‰èœå•çš„æŒ‰é’® */</span></span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid transparent;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">3px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: transparent;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">1px</span>;</span><br><span class="line">&#125;</span><br><span class="line">QToolButton<span class="selector-pseudo">:checked</span>&#123;</span><br><span class="line">    <span class="attribute">background-color</span>: $selected;</span><br><span class="line">    <span class="attribute">border-color</span>: $pressed;</span><br><span class="line">&#125;</span><br><span class="line">QToolButton<span class="selector-pseudo">:hover</span>&#123;</span><br><span class="line">    <span class="attribute">background-color</span>: $selected;</span><br><span class="line">    <span class="attribute">border-color</span>: $pressed;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">QToolButton:pressed,QToolButton:checked:hover&#123;</span><br><span class="line">    <span class="attribute">background-color</span>: $pressed;</span><br><span class="line">    <span class="attribute">border-color</span>: $focused;</span><br><span class="line">&#125;</span><br><span class="line">QToolButton<span class="selector-pseudo">:checked</span>:pressed&#123;</span><br><span class="line">    <span class="attribute">background-color</span>: $selected;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* only for MenuButtonPopup */</span></span><br><span class="line">QToolButton<span class="selector-attr">[popupMode=<span class="string">&quot;1&quot;</span>]</span>&#123;</span><br><span class="line">    <span class="attribute">padding-left</span>: <span class="number">1px</span>;</span><br><span class="line">    <span class="attribute">padding-right</span>: <span class="number">15px</span>; <span class="comment">/* make way for the popup button */</span></span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid $border;</span><br><span class="line">    <span class="attribute">min-height</span>: <span class="number">15px</span>;</span><br><span class="line">    <span class="comment">/*background: qlineargradient(x1:0, y1:0 ,x2:0, y2:1</span></span><br><span class="line"><span class="comment">        stop: 0 $grad1a, stop: 0.05 $grad1b, stop: 0.5 $grad1b</span></span><br><span class="line"><span class="comment">        stop: 0.95 $grad1a stop: 1$grad1a)*/</span></span><br><span class="line">&#125;</span><br><span class="line">QToolButton<span class="selector-attr">[popupMode=<span class="string">&quot;1&quot;</span>]</span><span class="selector-pseudo">:hover</span>&#123;</span><br><span class="line">    <span class="attribute">background-color</span>: $selected;</span><br><span class="line">    <span class="attribute">border-color</span>: $pressed;</span><br><span class="line">&#125;</span><br><span class="line">QToolButton<span class="selector-attr">[popupMode=<span class="string">&quot;1&quot;</span>]</span>:pressed&#123;</span><br><span class="line">    <span class="attribute">border-width</span>: <span class="number">1px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: $pressed;</span><br><span class="line">    <span class="attribute">border-color</span>: $border;</span><br><span class="line">&#125;</span><br><span class="line">QToolButton::menu-button &#123;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid $border;</span><br><span class="line">    <span class="attribute">border-top-right-radius</span>: <span class="number">2px</span>;</span><br><span class="line">    <span class="attribute">border-bottom-right-radius</span>: <span class="number">2px</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">16px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* =============================================== */</span></span><br><span class="line"><span class="comment">/* Slider ProgressBar                              */</span></span><br><span class="line"><span class="comment">/* =============================================== */</span></span><br><span class="line">QProgressBar &#123;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid $border;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">4px</span>;</span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">QProgressBar::chunk &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: $focused;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">4px</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">1px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">QSlider&#123;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid transparent;</span><br><span class="line">&#125;</span><br><span class="line">QSlider::groove&#123;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid $border;</span><br><span class="line">    <span class="attribute">background</span>: $background;</span><br><span class="line">&#125;</span><br><span class="line">QSlider::handle &#123;<span class="comment">/*è®¾ç½®ä¸­é—´çš„é‚£ä¸ªæ»‘åŠ¨çš„é”®*/</span>                           </span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid $border;</span><br><span class="line">    <span class="attribute">background</span>: $selected;</span><br><span class="line">&#125;</span><br><span class="line">QSlider::groove:horizontal &#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">3px</span>; <span class="comment">/* the groove expands to the size of the slider by default. by giving it a height, it has a fixed size */</span></span><br><span class="line">    <span class="attribute">left</span>:<span class="number">5px</span>; <span class="attribute">right</span>: <span class="number">5px</span>;</span><br><span class="line">&#125;</span><br><span class="line">QSlider::groove:vertical&#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">3px</span>;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">5px</span>; <span class="attribute">bottom</span>: <span class="number">5px</span>;</span><br><span class="line">&#125;</span><br><span class="line">QSlider::handle:horizontal&#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">6px</span>;</span><br><span class="line">    <span class="attribute">margin</span>: -<span class="number">7px</span>; <span class="comment">/* height */</span></span><br><span class="line">&#125;</span><br><span class="line">QSlider::handle:vertical&#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">6px</span>;</span><br><span class="line">    <span class="attribute">margin</span>: -<span class="number">7px</span>; <span class="comment">/* height */</span></span><br><span class="line">&#125;</span><br><span class="line">QSlider::add-page&#123;<span class="comment">/*è¿˜æ²¡æœ‰æ»‘ä¸Šå»çš„åœ°æ–¹*/</span></span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid $border;</span><br><span class="line">    <span class="attribute">background</span>:$grad1a;</span><br><span class="line">&#125;</span><br><span class="line">QSlider::sub-page&#123;<span class="comment">/*å·²ç»åˆ’è¿‡çš„ä»åœ°æ–¹*/</span>                            </span><br><span class="line">    <span class="attribute">background</span>: $focused;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* =============================================== */</span></span><br><span class="line"><span class="comment">/* ScrollBar                                       */</span></span><br><span class="line"><span class="comment">/* =============================================== */</span></span><br><span class="line">QScrollBar&#123;</span><br><span class="line">    <span class="attribute">background-color</span>: $background;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid $border;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">5px</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">1px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br><span class="line">QScrollBar<span class="selector-pseudo">:hover</span>&#123;</span><br><span class="line">    <span class="attribute">border-color</span>:$selected;</span><br><span class="line">&#125;</span><br><span class="line">QScrollBar::handle&#123;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">3px</span>;</span><br><span class="line">    <span class="attribute">background</span>: $pressed;</span><br><span class="line">    <span class="attribute">min-width</span>: <span class="number">16px</span>;</span><br><span class="line">    <span class="attribute">min-height</span>: <span class="number">16px</span>;</span><br><span class="line">&#125;</span><br><span class="line">QScrollBar::handle:hover &#123;</span><br><span class="line">    <span class="attribute">background</span>: $focused;</span><br><span class="line">&#125;</span><br><span class="line">QScrollBar::add-line, QScrollBar::sub-line,</span><br><span class="line">QScrollBar::add-page, QScrollBar::sub-page &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">0px</span>;</span><br><span class="line">    <span class="attribute">background</span>: transparent;</span><br><span class="line">&#125;</span><br><span class="line">QScrollArea&#123;</span><br><span class="line">    <span class="attribute">border</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*QScrollArea  QAbstractSlider&#123;</span></span><br><span class="line"><span class="comment">    border-radius: 0px;</span></span><br><span class="line"><span class="comment">&#125;*/</span></span><br><span class="line"><span class="comment">/* =============================================== */</span></span><br><span class="line"><span class="comment">/* DockWidget                                       */</span></span><br><span class="line"><span class="comment">/* =============================================== */</span></span><br><span class="line">QDockWidget, QDockWidget &gt; QWidget<span class="comment">/*not work*/</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="attribute">border-color</span>: $border;<span class="comment">/*qt bug*/</span></span><br><span class="line">    <span class="attribute">background</span>: transparent;</span><br><span class="line">&#125;</span><br><span class="line">QDockWidget::title &#123;</span><br><span class="line">    <span class="attribute">border-bottom</span>: <span class="number">1px</span> solid $border;</span><br><span class="line">    <span class="attribute">border-style</span>: inset;</span><br><span class="line">    <span class="attribute">text-align</span>: left; <span class="comment">/* align the text to the left */</span></span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">6px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* =============================================== */</span></span><br><span class="line"><span class="comment">/* GroupBox                                        */</span></span><br><span class="line"><span class="comment">/* =============================================== */</span></span><br><span class="line">QGroupBox &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: $background;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid $border;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">4px</span>;</span><br><span class="line">    <span class="attribute">margin-top</span>: <span class="number">0.5em</span>;</span><br><span class="line">&#125;</span><br><span class="line">QGroupBox::title &#123;</span><br><span class="line">    subcontrol-origin: margin;</span><br><span class="line">    subcontrol-<span class="attribute">position</span>: top left;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">1em</span>;</span><br><span class="line"><span class="attribute">top</span>: <span class="number">0.1em</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: $background;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* =============================================== */</span></span><br><span class="line"><span class="comment">/* ToolBox                                         */</span></span><br><span class="line"><span class="comment">/* =============================================== */</span></span><br><span class="line">QToolBox&#123;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid $border;</span><br><span class="line">&#125;</span><br><span class="line">QToolBox::tab &#123;</span><br><span class="line">    <span class="attribute">background</span>: $grad1a;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid $border;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">1px</span>;</span><br><span class="line">&#125;</span><br><span class="line">QToolBox::tab:hover &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: $selected;</span><br><span class="line">    <span class="attribute">border-color</span>: transparent;</span><br><span class="line">&#125;</span><br><span class="line">QToolBox::tab:pressed &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: $pressed;</span><br><span class="line">    <span class="attribute">border-color</span>: transparent;</span><br><span class="line">&#125;</span><br><span class="line">QToolBox::tab:selected &#123;</span><br><span class="line">    <span class="attribute">font-weight</span>: bold;</span><br><span class="line">    <span class="attribute">border-color</span>: $selected;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* =============================================== */</span></span><br><span class="line"><span class="comment">/* TabWidget                                       */</span></span><br><span class="line"><span class="comment">/* =============================================== */</span></span><br><span class="line">QTabWidget&#123;</span><br><span class="line">    <span class="attribute">margin-top</span>:<span class="number">10px</span>;</span><br><span class="line">&#125;</span><br><span class="line">QTabWidget::pane&#123;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid $border;</span><br><span class="line">&#125;</span><br><span class="line">QTabWidget::tab-bar &#123;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">0px</span>;</span><br><span class="line">&#125;</span><br><span class="line">QTabBar::tab &#123;</span><br><span class="line">    <span class="attribute">background</span>: $background;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid $border;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">3px</span> <span class="number">5px</span>;    </span><br><span class="line">&#125;</span><br><span class="line">QTabBar::tab:hover &#123;</span><br><span class="line">    <span class="attribute">background</span>: $selected;</span><br><span class="line">    <span class="attribute">border-color</span>: transparent;</span><br><span class="line">&#125;</span><br><span class="line">QTabBar::tab:selected &#123;</span><br><span class="line">    <span class="attribute">background</span>: $selected;</span><br><span class="line">    <span class="attribute">border-color</span>: $pressed;</span><br><span class="line">&#125;</span><br><span class="line">QTabBar::tab:pressed &#123;</span><br><span class="line">    <span class="attribute">background</span>: $pressed;</span><br><span class="line">    <span class="attribute">border-color</span>: transparent;</span><br><span class="line">&#125;</span><br><span class="line">QTabBar::tab:focus &#123;</span><br><span class="line">    <span class="attribute">border-color</span>: $focused;</span><br><span class="line">&#125;</span><br><span class="line">QTabBar::tab:top&#123;</span><br><span class="line">    <span class="attribute">margin-top</span>: <span class="number">3px</span>;</span><br><span class="line">    <span class="attribute">border-bottom</span>: transparent;</span><br><span class="line">    <span class="attribute">margin-right</span>: <span class="number">1px</span>;</span><br><span class="line">&#125;</span><br><span class="line">QTabBar::tab:bottom&#123;</span><br><span class="line">    <span class="attribute">margin-bottom</span>: <span class="number">3px</span>;</span><br><span class="line">    <span class="attribute">border-top</span>: transparent;</span><br><span class="line">    <span class="attribute">margin-right</span>: <span class="number">1px</span>;</span><br><span class="line">&#125;</span><br><span class="line">QTabBar::tab:left&#123;</span><br><span class="line">    <span class="attribute">border-right</span>: transparent;</span><br><span class="line">    <span class="attribute">margin-bottom</span>: <span class="number">1px</span>;</span><br><span class="line">&#125;</span><br><span class="line">QTabBar::tab:right&#123;</span><br><span class="line">    <span class="attribute">border-left</span>: transparent;</span><br><span class="line">    <span class="attribute">margin-bottom</span>: <span class="number">1px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* =============================================== */</span></span><br><span class="line"><span class="comment">/* QHeaderView for list table                      */</span></span><br><span class="line"><span class="comment">/* =============================================== */</span></span><br><span class="line">QHeaderView &#123;</span><br><span class="line"><span class="attribute">border</span>: none;</span><br><span class="line"><span class="attribute">margin</span>: <span class="number">0px</span>;</span><br><span class="line"><span class="attribute">padding</span>: <span class="number">0px</span>;</span><br><span class="line">&#125;</span><br><span class="line">QHeaderView::section, QTableCornerButton::section &#123;<span class="comment">/*è®¾ç½®è¡¨å¤´å±æ€§*/</span><span class="comment">/*å·¦ä¸Šè§’*/</span></span><br><span class="line"><span class="attribute">background-color</span>: $grad1a;</span><br><span class="line"><span class="attribute">padding</span>: <span class="number">0</span> <span class="number">3px</span>;</span><br><span class="line"><span class="attribute">border-right</span>: <span class="number">1px</span> solid $border;</span><br><span class="line"><span class="attribute">border-bottom</span>: <span class="number">1px</span> solid $border;</span><br><span class="line"><span class="attribute">border-radius</span>: <span class="number">0px</span>;</span><br><span class="line">&#125;</span><br><span class="line">QHeaderView::section:hover, QTableCornerButton::section:hover&#123;</span><br><span class="line">    <span class="attribute">background-color</span>: $selected;</span><br><span class="line">&#125;</span><br><span class="line">QHeaderView::section:pressed&#123;</span><br><span class="line">    <span class="attribute">background-color</span>: $pressed;</span><br><span class="line">&#125;</span><br><span class="line">QHeaderView::section:checked &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: $focused;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* =============================================== */</span></span><br><span class="line"><span class="comment">/* QTableWidget                                    */</span></span><br><span class="line"><span class="comment">/* =============================================== */</span></span><br><span class="line">QTableWidget, QTableView</span><br><span class="line">&#123;</span><br><span class="line">    gridline-<span class="attribute">color</span>: $border;    <span class="comment">/*è¡¨æ ¼ä¸­çš„ç½‘æ ¼çº¿æ¡é¢œè‰²*/</span></span><br><span class="line">    <span class="attribute">background</span>: $background;</span><br><span class="line">    <span class="comment">/*è®¾ç½®äº¤æ›¿é¢œè‰²ï¼Œéœ€è¦åœ¨å‡½æ•°å±æ€§ä¸­è®¾ç½®:tableWidget-&gt;setAlternatingRowColors(true)*/</span></span><br><span class="line">    alternate-<span class="attribute">background-color</span>: $grad1a;</span><br><span class="line">    <span class="comment">/*selection-color:$background;    é¼ æ ‡é€‰ä¸­æ—¶å‰æ™¯è‰²ï¼šæ–‡å­—é¢œè‰²*/</span></span><br><span class="line">    selection-<span class="attribute">background-color</span>:$selected;   <span class="comment">/*é¼ æ ‡é€‰ä¸­æ—¶èƒŒæ™¯è‰²*/</span></span><br><span class="line">    <span class="attribute">border</span>:<span class="number">1px</span> solid $border;  <span class="comment">/*è¾¹æ¡†çº¿çš„å®½åº¦ã€é¢œè‰²*/</span></span><br><span class="line">    <span class="comment">/*border:none;    å»é™¤è¾¹ç•Œçº¿*/</span></span><br><span class="line">    <span class="comment">/*border-radius:5px;*/</span></span><br><span class="line">    <span class="comment">/*padding:10px 10px;*/</span>  <span class="comment">/*è¡¨æ ¼ä¸è¾¹æ¡†çš„é—´è·*/</span></span><br><span class="line">&#125;</span><br><span class="line">QTableView::item, QTabWidget::item&#123;</span><br><span class="line">    <span class="attribute">background</span>: transparent;</span><br><span class="line"><span class="attribute">outline-style</span>: none;</span><br><span class="line"><span class="attribute">border</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">QTableView::item:hover &#123;</span><br><span class="line"><span class="attribute">background</span>: $selected;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid $focused;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">QTableView::item:selected &#123;</span><br><span class="line"><span class="attribute">background</span>: $selected;</span><br><span class="line"><span class="attribute">color</span>: $grad1a;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">QTableView::item:selected:active &#123;</span><br><span class="line"><span class="attribute">background</span>: $pressed;</span><br><span class="line"><span class="attribute">color</span>: $grad1a;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">QTableWidget QComboBox&#123;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">2px</span>;</span><br><span class="line">    <span class="attribute">border</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> Qt </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Qt </tag>
            
            <tag> css </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>çª—ä½“ä¸æ˜¾ç¤ºæˆ–åŠé€æ˜</title>
      <link href="/Code/Qt/QWebEngineView/%E7%AA%97%E4%BD%93%E4%B8%8D%E6%98%BE%E7%A4%BA%E6%88%96%E7%AA%97%E4%BD%93%E5%8D%8A%E9%80%8F%E6%98%8E/"/>
      <url>/Code/Qt/QWebEngineView/%E7%AA%97%E4%BD%93%E4%B8%8D%E6%98%BE%E7%A4%BA%E6%88%96%E7%AA%97%E4%BD%93%E5%8D%8A%E9%80%8F%E6%98%8E/</url>
      
        <content type="html"><![CDATA[<p>ä½¿ç”¨ QWebEnginueView æ§ä»¶åï¼Œå¦‚æœçˆ¶çª—ä½“è®¾ç½®äº†ä¸€ä¸‹å±æ€§ï¼Œå°±ä¼šå¯¼è‡´çª—å£ä¸æ˜¾ç¤ºæˆ–åŠé€æ˜ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">setWindowFlags</span>(Qt::FramelessWindowHint);</span><br><span class="line"><span class="built_in">setAttribute</span>(Qt::WA_TranslucentBackground);</span><br></pre></td></tr></table></figure><p>è§£å†³åŠæ³•ï¼š</p><p><a href="https://blog.csdn.net/s634772208/article/details/124791501">QWebEngineViewåœ¨é¡¶å±‚çª—å£ä¸ºé€æ˜æ— æ ‡é¢˜æ çš„æƒ…å†µä¸‹æœ‰é—®é¢˜_shanqlçš„åšå®¢-CSDNåšå®¢</a></p>]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> Qt </category>
          
          <category> QWebEngineView </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Qt </tag>
            
            <tag> QWebEngineView </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä½¿ç”¨ QWebEngineView åŠ è½½ç½‘é¡µæ…¢çš„é—®é¢˜</title>
      <link href="/Code/Qt/QWebEngineView/%E7%BD%91%E9%A1%B5%E5%8A%A0%E8%BD%BD%E6%85%A2/"/>
      <url>/Code/Qt/QWebEngineView/%E7%BD%91%E9%A1%B5%E5%8A%A0%E8%BD%BD%E6%85%A2/</url>
      
        <content type="html"><![CDATA[<p>[toc]</p><h1 id="å®šä½"><a href="#å®šä½" class="headerlink" title="å®šä½"></a>å®šä½</h1><p>æŠŠ <code>QWebEngineview</code> å‘èµ·çš„æ¯ä¸ªç½‘ç»œè¯·æ±‚å…¨éƒ¨æ‰“å°ï¼Œçœ‹çœ‹æ˜¯å“ªä¸ªè¯·æ±‚æ…¢ï¼š</p><h2 id="é‡å†™-QWebEngineUrlRequestInterceptor"><a href="#é‡å†™-QWebEngineUrlRequestInterceptor" class="headerlink" title="é‡å†™ QWebEngineUrlRequestInterceptor"></a>é‡å†™ <code>QWebEngineUrlRequestInterceptor</code></h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">CustomUrlRequestInterceptor</span> : <span class="keyword">public</span> QWebEngineUrlRequestInterceptor</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">CustomUrlRequestInterceptor</span>(QObject* parent = <span class="literal">nullptr</span>) :  <span class="built_in">QWebEngineUrlRequestInterceptor</span>(parent) &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">interceptRequest</span><span class="params">(QWebEngineUrlRequestInfo&amp; info)</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">// å¯åœ¨å‘é€è¯·æ±‚å‰å¯¹URLè¿›è¡Œä¿®æ”¹</span></span><br><span class="line">        <span class="keyword">if</span> (info.<span class="built_in">requestUrl</span>().<span class="built_in">host</span>() == <span class="string">&quot;www.example.com&quot;</span>) &#123;</span><br><span class="line">            QUrl newUrl = info.<span class="built_in">requestUrl</span>();</span><br><span class="line">            newUrl.<span class="built_in">setHost</span>(<span class="string">&quot;www.newexample.com&quot;</span>);</span><br><span class="line">            info.<span class="built_in">setUrl</span>(newUrl);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å¯æ·»åŠ è‡ªå®šä¹‰Header</span></span><br><span class="line">        info.<span class="built_in">setHttpHeader</span>(<span class="string">&quot;User-Agent&quot;</span>, <span class="string">&quot;Custom User-Agent&quot;</span>);</span><br><span class="line">            </span><br><span class="line">        <span class="comment">// æ‰“å°æ—¥å¿—</span></span><br><span class="line">LogUtils::<span class="built_in">info</span>(info.<span class="built_in">requestUrl</span>().<span class="built_in">toString</span>().<span class="built_in">toStdString</span>().<span class="built_in">c_str</span>());<span class="comment">//è¾“å‡ºæ—¥å¿—</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h1 id="å…³é—­ç³»ç»Ÿä»£ç†"><a href="#å…³é—­ç³»ç»Ÿä»£ç†" class="headerlink" title="å…³é—­ç³»ç»Ÿä»£ç†"></a>å…³é—­ç³»ç»Ÿä»£ç†</h1><p>è®¾ç½®å…³é—­ç³»ç»Ÿè‡ªåŠ¨ä»£ç†å³å¯ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">QNetworkProxyFactory::<span class="built_in">setUseSystemConfiguration</span>(<span class="literal">false</span>);</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> Qt </category>
          
          <category> QWebEngineView </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Qt </tag>
            
            <tag> QWebEngineView </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Qtçª—å£é€‚é…ç³»ç»Ÿç¼©æ”¾</title>
      <link href="/Code/Qt/QWin/Qt%E7%AA%97%E5%8F%A3%E9%80%82%E9%85%8D%E7%B3%BB%E7%BB%9F%E7%BC%A9%E6%94%BE/"/>
      <url>/Code/Qt/QWin/Qt%E7%AA%97%E5%8F%A3%E9%80%82%E9%85%8D%E7%B3%BB%E7%BB%9F%E7%BC%A9%E6%94%BE/</url>
      
        <content type="html"><![CDATA[<h1 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">DpiCompatible</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="function"><span class="type">static</span> <span class="type">double</span> <span class="title">GetDpiScale</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">double</span> dDpi = <span class="number">1.0</span>;</span><br><span class="line">HDC desktopDc = <span class="built_in">GetDC</span>(<span class="literal">NULL</span>);</span><br><span class="line"><span class="type">float</span> horizontalDPI = <span class="built_in">GetDeviceCaps</span>(desktopDc, LOGPIXELSX);</span><br><span class="line"><span class="type">float</span> verticalDPI = <span class="built_in">GetDeviceCaps</span>(desktopDc, LOGPIXELSY);</span><br><span class="line"><span class="type">int</span> dpi = (horizontalDPI + verticalDPI) / <span class="number">2</span>;</span><br><span class="line">dDpi = <span class="number">1</span> + ((dpi - <span class="number">96</span>) / <span class="number">24</span>) * <span class="number">0.25</span>;</span><br><span class="line"><span class="keyword">if</span> (dDpi &lt; <span class="number">1</span>)</span><br><span class="line">&#123;</span><br><span class="line">dDpi = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">ReleaseDC</span>(<span class="literal">NULL</span>, desktopDc);</span><br><span class="line"><span class="keyword">return</span> dDpi;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">static</span> <span class="type">void</span> <span class="title">InitQtDPICompatible</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">SetProcessDPIAware</span>();</span><br><span class="line"><span class="built_in">qputenv</span>(<span class="string">&quot;QT_SCALE_FACTOR&quot;</span>, QString::<span class="built_in">number</span>(<span class="built_in">GetDpiScale</span>()).<span class="built_in">toLatin1</span>());</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h1 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è®¾ç½®è¯¥å±æ€§è§£å†³åœ¨ä¸åŒç¼©æ”¾æ¯”ä¾‹çš„æ˜¾ç¤ºå™¨ä¹‹é—´ç§»åŠ¨æ—¶å¸ƒå±€æ··ä¹±å’Œä¸è·Ÿéšwindowsç³»ç»Ÿç¼©æ”¾çš„é—®é¢˜</span></span><br><span class="line">DpiCompatible::<span class="built_in">InitQtDPICompatible</span>();</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> Qt </category>
          
          <category> QWin </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Qt </tag>
            
            <tag> win </tag>
            
            <tag> ç¼©æ”¾ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>QListWidget ç”¨æ³•æ•´ç†</title>
      <link href="/Code/Qt/QListWidget%20%E7%94%A8%E6%B3%95%E6%95%B4%E7%90%86/"/>
      <url>/Code/Qt/QListWidget%20%E7%94%A8%E6%B3%95%E6%95%B4%E7%90%86/</url>
      
        <content type="html"><![CDATA[<h1 id="è®¾ç½®æ˜¾ç¤ºæ¨¡å¼"><a href="#è®¾ç½®æ˜¾ç¤ºæ¨¡å¼" class="headerlink" title="è®¾ç½®æ˜¾ç¤ºæ¨¡å¼"></a>è®¾ç½®æ˜¾ç¤ºæ¨¡å¼</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">QListView::ListMode</span><br><span class="line">QListView::IconMode</span><br></pre></td></tr></table></figure><p>è°ƒç”¨æ¥å£ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">setViewMode</span>(QListWidget::IconMode); <span class="comment">//æ˜¾ç¤ºæ¨¡å¼</span></span><br></pre></td></tr></table></figure><h1 id="æ·»åŠ æ§ä»¶"><a href="#æ·»åŠ æ§ä»¶" class="headerlink" title="æ·»åŠ æ§ä»¶"></a>æ·»åŠ æ§ä»¶</h1><h2 id="æ•ˆæœ"><a href="#æ•ˆæœ" class="headerlink" title="æ•ˆæœ"></a>æ•ˆæœ</h2><img src="images/QListWidget%20%E7%94%A8%E6%B3%95%E6%95%B4%E7%90%86/QListWidget_all.png" style="zoom:50%" /><p>æ–°å»ºé¡¹ç›®çš„æ—¶å€™åˆ›å»ºä¸€ä¸ªå¸¦uiçš„é¡¹ç›®ï¼Œæ–°å»ºå®Œæˆåï¼Œåœ¨ç•Œé¢æ‹–æ‹½ä¸€ä¸ªQListWidgetã€‚</p><h2 id="Widget-h"><a href="#Widget-h" class="headerlink" title="Widget.h"></a>Widget.h</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> WIDGET_H</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> WIDGET_H</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QWidget&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QListWidget&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QStringList&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QString&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QDebug&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QListWidgetItem&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QGridLayout&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QToolButton&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QLineEdit&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QRadioButton&gt;</span></span></span><br><span class="line"></span><br><span class="line">QT_BEGIN_NAMESPACE</span><br><span class="line"><span class="keyword">namespace</span> Ui &#123; <span class="keyword">class</span> <span class="title class_">Widget</span>; &#125;</span><br><span class="line">QT_END_NAMESPACE</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Widget</span> : <span class="keyword">public</span> QWidget</span><br><span class="line">&#123;</span><br><span class="line">    Q_OBJECT</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Widget</span>(QWidget *parent = <span class="literal">nullptr</span>);</span><br><span class="line">    ~<span class="built_in">Widget</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">initListWidget</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    Ui::Widget *ui;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span> <span class="comment">// WIDGET_H</span></span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="Widget-cpp"><a href="#Widget-cpp" class="headerlink" title="Widget.cpp"></a>Widget.cpp</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;widget.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;ui_widget.h&quot;</span></span></span><br><span class="line"></span><br><span class="line">Widget::<span class="built_in">Widget</span>(QWidget *parent)</span><br><span class="line">    : <span class="built_in">QWidget</span>(parent)</span><br><span class="line">    , <span class="built_in">ui</span>(<span class="keyword">new</span> Ui::Widget)</span><br><span class="line">&#123;</span><br><span class="line">    ui-&gt;<span class="built_in">setupUi</span>(<span class="keyword">this</span>);</span><br><span class="line">    <span class="built_in">initListWidget</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Widget::~<span class="built_in">Widget</span>()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">delete</span> ui;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Widget::initListWidget</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ui-&gt;listWidget-&gt;<span class="built_in">setCurrentRow</span>(<span class="number">2</span>);</span><br><span class="line"></span><br><span class="line">    QStringList StrListHeader;</span><br><span class="line">    StrListHeader &lt;&lt; <span class="built_in">QString</span>(<span class="string">&quot;é€‰ä¸­&quot;</span>) &lt;&lt; <span class="built_in">QString</span>(<span class="string">&quot;åºå·&quot;</span>) &lt;&lt; <span class="built_in">QString</span>(<span class="string">&quot;æ–‡ä»¶å&quot;</span>);</span><br><span class="line">    <span class="keyword">new</span> <span class="built_in">QListWidgetItem</span>(<span class="built_in">tr</span>(<span class="string">&quot;Oak&quot;</span>), ui-&gt;listWidget);</span><br><span class="line">    <span class="keyword">new</span> <span class="built_in">QListWidgetItem</span>(<span class="built_in">tr</span>(<span class="string">&quot;Fir&quot;</span>), ui-&gt;listWidget);</span><br><span class="line">    <span class="keyword">new</span> <span class="built_in">QListWidgetItem</span>(<span class="built_in">tr</span>(<span class="string">&quot;Pine&quot;</span>), ui-&gt;listWidget);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    QListWidgetItem *ListItem = <span class="keyword">new</span> QListWidgetItem;</span><br><span class="line">    <span class="comment">//    ListItem-&gt;setText();</span></span><br><span class="line"></span><br><span class="line">    QListWidgetItem *WContainerItem = <span class="keyword">new</span> <span class="built_in">QListWidgetItem</span>(ui-&gt;listWidget);</span><br><span class="line">    QWidget *WContainer = <span class="keyword">new</span> <span class="built_in">QWidget</span>(ui-&gt;listWidget);<span class="comment">//æ–°å»ºä¸€ä¸ªQWidgetçª—å£</span></span><br><span class="line">    QGridLayout*Glayout = <span class="keyword">new</span> QGridLayout;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*************start*****************/</span></span><br><span class="line"><span class="comment">/* åœ¨è¿™é‡Œæ·»åŠ éœ€è¦çš„æ§ä»¶ */</span></span><br><span class="line">    QLineEdit *lineEdit = <span class="keyword">new</span> QLineEdit;</span><br><span class="line">    QLineEdit *lineEdit_1 = <span class="keyword">new</span> QLineEdit;</span><br><span class="line">    QToolButton *toolButton = <span class="keyword">new</span> QToolButton;</span><br><span class="line">    QRadioButton *radioButton = <span class="keyword">new</span> QRadioButton;</span><br><span class="line">    QRadioButton *radioButton_1 = <span class="keyword">new</span> QRadioButton;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    Glayout-&gt;<span class="built_in">addWidget</span>(lineEdit,<span class="number">0</span>,<span class="number">0</span>);</span><br><span class="line">    Glayout-&gt;<span class="built_in">addWidget</span>(radioButton,<span class="number">0</span>,<span class="number">1</span>);</span><br><span class="line">    Glayout-&gt;<span class="built_in">addWidget</span>(lineEdit_1,<span class="number">0</span>,<span class="number">2</span>);</span><br><span class="line">    Glayout-&gt;<span class="built_in">addWidget</span>(radioButton_1,<span class="number">0</span>,<span class="number">3</span>);</span><br><span class="line"></span><br><span class="line">  WContainer-&gt;<span class="built_in">setLayout</span>(Glayout);</span><br><span class="line"><span class="comment">/******************end****************/</span></span><br><span class="line"></span><br><span class="line">    WContainerItem-&gt;<span class="built_in">setSizeHint</span>(<span class="built_in">QSize</span>(<span class="number">40</span>,<span class="number">40</span>));</span><br><span class="line"></span><br><span class="line">    ui-&gt;listWidget-&gt;<span class="built_in">setItemWidget</span>(WContainerItem, WContainer);<span class="comment">//å°†WContainerèµ‹äºˆWContainerItem</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> Qt </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Qt </tag>
            
            <tag> QListWidget </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>QTableWidget éå†</title>
      <link href="/Code/Qt/QTableWidget/QTableWidget%E9%81%8D%E5%8E%86/"/>
      <url>/Code/Qt/QTableWidget/QTableWidget%E9%81%8D%E5%8E%86/</url>
      
        <content type="html"><![CDATA[<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="type">int</span> row=<span class="number">0</span>; row&lt;ui-&gt;tableWidget-&gt;<span class="built_in">rowCount</span>(); row++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> col=<span class="number">0</span>; col&lt;ui-&gt;tableWidget-&gt;<span class="built_in">columnCount</span>(); col++)</span><br><span class="line">&#123;</span><br><span class="line">QTableWidgetItem* item = ui-&gt;tableWidget_right-&gt;<span class="built_in">item</span>(row,col);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> row=<span class="number">0</span>; row&lt;ui-&gt;tableWidget-&gt;<span class="built_in">rowCount</span>(); row++)</span><br><span class="line">&#123;</span><br><span class="line">QTableWidgetItem* item = ui-&gt;tableWidget_right-&gt;<span class="built_in">item</span>(row,<span class="number">0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> Qt </category>
          
          <category> QTableWidget </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Qt </tag>
            
            <tag> QTableWidget </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>QLineEdit ä¿®æ”¹éƒ¨åˆ†æ–‡æœ¬æ ·å¼</title>
      <link href="/Code/Qt/QLineEdit/QLineEdit%E4%BF%AE%E6%94%B9%E9%83%A8%E5%88%86%E6%96%87%E6%9C%AC%E6%A0%B7%E5%BC%8F/"/>
      <url>/Code/Qt/QLineEdit/QLineEdit%E4%BF%AE%E6%94%B9%E9%83%A8%E5%88%86%E6%96%87%E6%9C%AC%E6%A0%B7%E5%BC%8F/</url>
      
        <content type="html"><![CDATA[<blockquote><p>åŠŸèƒ½æè¿°ï¼š ä¿®æ”¹QLineEditä¸­éƒ¨åˆ†æ–‡æœ¬çš„æ ·å¼</p><p>é¢„æœŸæ•ˆæœï¼š</p><div class="tag-plugin image"><div class="image-bg"><img src="images/QLineEdit%E4%BF%AE%E6%94%B9%E9%83%A8%E5%88%86%E6%96%87%E6%9C%AC%E6%A0%B7%E5%BC%8F/1.png"/></div></div><p>windowsç³»ç»Ÿè·¯å¾„ä¸å…è®¸æœ‰<code>ï¼Ÿ</code>ç­‰ç¬¦å·ï¼Œé«˜äº®æ˜¾ç¤ºä¸å…è®¸çš„ç¬¦å·ã€‚</p></blockquote><p>[toc]</p><h1 id="å®ç°"><a href="#å®ç°" class="headerlink" title="å®ç°"></a>å®ç°</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">static</span> <span class="type">void</span> <span class="title">setLineEditTextFormat</span><span class="params">(QLineEdit* lineEdit, <span class="type">const</span> QList&lt;QTextLayout::FormatRange&gt;&amp; formats)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!lineEdit)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">    QList&lt;QInputMethodEvent::Attribute&gt; attributes;</span><br><span class="line">    foreach(<span class="type">const</span> QTextLayout::FormatRange&amp; fr, formats)</span><br><span class="line">    &#123;</span><br><span class="line">        QInputMethodEvent::AttributeType type = QInputMethodEvent::TextFormat;</span><br><span class="line">        <span class="type">int</span> start = fr.start - lineEdit-&gt;<span class="built_in">cursorPosition</span>();</span><br><span class="line">        <span class="type">int</span> length = fr.length;</span><br><span class="line">        QVariant value = fr.format;</span><br><span class="line">        attributes.<span class="built_in">append</span>(QInputMethodEvent::<span class="built_in">Attribute</span>(type, start, length, value));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function">QInputMethodEvent <span class="title">event</span><span class="params">(QString(), attributes)</span></span>;</span><br><span class="line">    QCoreApplication::<span class="built_in">sendEvent</span>(lineEdit, &amp;event);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">static</span> <span class="type">void</span> <span class="title">clearLineEditTextFormat</span><span class="params">(QLineEdit* lineEdit)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">setLineEditTextFormat</span>(lineEdit, <span class="built_in">QList</span>&lt;QTextLayout::FormatRange&gt;());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Usage example:</span></span><br><span class="line">QLineEdit* lineEdit = <span class="keyword">new</span> QLineEdit;</span><br><span class="line">lineEdit-&gt;<span class="built_in">setText</span>(<span class="built_in">tr</span>(<span class="string">&quot;Task Tracker - Entry&quot;</span>));</span><br><span class="line"></span><br><span class="line">QList&lt;QTextLayout::FormatRange&gt; formats;</span><br><span class="line"></span><br><span class="line">QTextCharFormat f;</span><br><span class="line"></span><br><span class="line">f.<span class="built_in">setFontWeight</span>(QFont::Bold);</span><br><span class="line">QTextLayout::FormatRange fr_task;</span><br><span class="line">fr_task.start = <span class="number">0</span>;</span><br><span class="line">fr_task.length = <span class="number">4</span>;</span><br><span class="line">fr_task.format = f;</span><br><span class="line"></span><br><span class="line">f.<span class="built_in">setFontItalic</span>(<span class="literal">true</span>);</span><br><span class="line">f.<span class="built_in">setBackground</span>(Qt::darkYellow);</span><br><span class="line">f.<span class="built_in">setForeground</span>(Qt::white);</span><br><span class="line">QTextLayout::FormatRange fr_tracker;</span><br><span class="line">fr_tracker.start = <span class="number">5</span>;</span><br><span class="line">fr_tracker.length = <span class="number">7</span>;</span><br><span class="line">fr_tracker.format = f;</span><br><span class="line"></span><br><span class="line">formats.<span class="built_in">append</span>(fr_task);</span><br><span class="line">formats.<span class="built_in">append</span>(fr_tracker);</span><br><span class="line"></span><br><span class="line"><span class="built_in">setLineEditTextFormat</span>(lineEdit, formats);</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> Qt </category>
          
          <category> QLineEdit </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>QAction Icon å¤§å°é—®é¢˜</title>
      <link href="/Code/Qt/QAction%20Icon%20%E5%A4%A7%E5%B0%8F/"/>
      <url>/Code/Qt/QAction%20Icon%20%E5%A4%A7%E5%B0%8F/</url>
      
        <content type="html"><![CDATA[<p>[toc]</p><h1 id="é—®é¢˜æè¿°"><a href="#é—®é¢˜æè¿°" class="headerlink" title="é—®é¢˜æè¿°"></a>é—®é¢˜æè¿°</h1><blockquote><p>å³é”®æ‰˜ç›˜å¼¹å‡ºèœå•ï¼Œè¿™ä¸ªèœå•æ˜¯æ˜¯é€šè¿‡ <code>QMenu</code> å®ç°çš„ï¼Œé€šè¿‡æ·»åŠ  <code>QAction</code> å®ç°äº†å‡ ä¸ªå­é¡¹ã€‚åç»­ UI ä¼˜åŒ–ï¼Œæå‡ºéœ€è¦ä¿®æ”¹ Iconçš„å¤§å°ï¼Œè®¾ç½® Icon çš„å¤§å°ä¸º <code>24*24</code>ï¼Œé‚è¿›è¡Œäº†ä¸€ç•ªå°è¯•ï¼Œå› å½±å“é¢‡å¤šï¼Œæš‚ä¸”è®°å½•äºæ­¤ã€‚</p></blockquote><p>å…³äºæˆ‘è¿™ä¸ªå³é”®æ‰˜ç›˜å¼¹å‡ºé€‰é¡¹æ¡†çš„è‚¯å®šæœ‰åˆ«çš„æ–¹æ¡ˆï¼Œä½†æ˜¯ç¬¬ä¸€æ—¶é—´æ˜¯æƒ³æ‰¾ä¸€ç§æ¯”è¾ƒç®€å•çš„æ–¹æ¡ˆå»å®ç°ï¼Œå› æ­¤ä¸€ç›´åœ¨æœç´¢å¦‚ä½•è®¾ç½®Iconå¤§å°çš„é—®é¢˜ï¼Œç›®å‰çœ‹åˆ°çš„è§£å†³æ–¹æ¡ˆæœ‰ä»¥ä¸‹å‡ ç§ï¼š</p><ol><li>é€šè¿‡è®¾ç½® <code>Style</code> å®ç°</li><li>é€šè¿‡ <code>QWidgetAction</code> å®ç°</li><li>æ–°å»ºä¸€ä¸ª <code>Widget</code>ï¼Œå®ç° <code>QMenu</code> çš„æ•ˆæœ</li></ol><h1 id="1-é€šè¿‡è®¾ç½®-Styleï¼Œä¿®æ”¹icon-size"><a href="#1-é€šè¿‡è®¾ç½®-Styleï¼Œä¿®æ”¹icon-size" class="headerlink" title="1 é€šè¿‡è®¾ç½® Styleï¼Œä¿®æ”¹icon size"></a>1 é€šè¿‡è®¾ç½® Styleï¼Œä¿®æ”¹icon size</h1><ol><li>æ–°å»ºæ ·å¼ç±»</li></ol><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">pragma</span> once</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QCommonStyle&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QStyleOption&gt;</span></span></span><br><span class="line"><span class="comment">// è‡ªå®šä¹‰ä¸€ä¸ªstyleç±»ï¼Œé€šè¿‡setStyleè®¾ç½®ç»™menuï¼Œä»¥æ­¤è®¾ç½®iconsize</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">QCustonIconStyle</span> : <span class="keyword">public</span> QCommonStyle</span><br><span class="line">&#123;</span><br><span class="line">Q_OBJECT</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">QCustonIconStyle</span>(<span class="type">int</span> size)</span><br><span class="line">: <span class="built_in">QCommonStyle</span>(), <span class="built_in">size_</span>(size) &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">QCustonIconStyle::pixelMetric</span><span class="params">(PixelMetric metric, <span class="type">const</span> QStyleOption* option, <span class="type">const</span> QWidget* widget)</span> <span class="type">const</span>  <span class="keyword">override</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (metric == QStyle::PM_SmallIconSize) &#123;</span><br><span class="line"><span class="keyword">return</span> size_;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">if</span> 1</span></span><br><span class="line">        <span class="comment">// ä¸€ä¸‹å†…å®¹æ˜¯æˆ‘å°è¯•ä¿®æ”¹UIçš„ï¼Œæ”¹äº†sizeä¹‹åä¼šå¯¼è‡´iconç§»ä½ï¼Œéœ€è¦ä¿®æ”¹é—´è·å’Œè¾¹è·</span></span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (metric == QStyle::PM_LayoutLeftMargin)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (metric == QStyle::PM_MenuHMargin)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (metric == QStyle::PM_LayoutHorizontalSpacing)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> QCommonStyle::<span class="built_in">pixelMetric</span>(metric, option, widget);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"><span class="type">int</span> size_;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><ol start="2"><li>ä½¿ç”¨æ–¹æ³•ï¼š</li></ol><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">QCustonIconStyle* style = <span class="keyword">new</span> <span class="built_in">QCustonIconStyle</span>(<span class="number">20</span>);</span><br><span class="line">QMenu-&gt;<span class="built_in">setStyle</span>(style);</span><br></pre></td></tr></table></figure><ol start="3"><li><p>é—ç•™é—®é¢˜ï¼Œä½¿ç”¨è¯¥æ–¹æ³•ä¹‹åï¼Œ<code>QAction</code>çš„ <code>horverd()</code> ä¿¡å·å°±ä¸ä¼šè§¦å‘äº†</p><blockquote><p>å…³äºè¿™ä¸ªé—®é¢˜çš„è§£å†³æ–¹æ³•ä¹Ÿå¾ˆç®€å•ï¼Œå°è¯•äº†ä¸€å¤©ï¼Œæœ€ç»ˆé€‰æ‹©ç»§æ‰¿é‡å†™ <code>QProxyStyle</code> å°±èƒ½è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p></blockquote></li></ol><h1 id="2-ä½¿ç”¨-QWidgetAction"><a href="#2-ä½¿ç”¨-QWidgetAction" class="headerlink" title="2 ä½¿ç”¨ QWidgetAction"></a>2 ä½¿ç”¨ QWidgetAction</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">action_ = <span class="keyword">new</span> <span class="built_in">QPushButton</span>(menu);</span><br><span class="line">QWidgetAction* action = <span class="keyword">new</span> <span class="built_in">QWidgetAction</span>(<span class="keyword">this</span>);</span><br><span class="line">action-&gt;<span class="built_in">setDefaultWidget</span>(action_ );</span><br><span class="line">menu-&gt;<span class="built_in">addAction</span>(action);</span><br></pre></td></tr></table></figure><h1 id="3-æ–°å»ºç•Œé¢"><a href="#3-æ–°å»ºç•Œé¢" class="headerlink" title="3 æ–°å»ºç•Œé¢"></a>3 æ–°å»ºç•Œé¢</h1>]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> Qt </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>QLineEdit ä¿®æ”¹å¯†ç æ¨¡å¼åŠå…¶æ ·å¼</title>
      <link href="/Code/Qt/QLineEdit/QLineEdit%20%E4%BF%AE%E6%94%B9%E5%AF%86%E7%A0%81%E6%98%BE%E7%A4%BA%E5%8F%8A%E5%85%B6%E6%98%BE%E7%A4%BA%E6%A0%B7%E5%BC%8F/"/>
      <url>/Code/Qt/QLineEdit/QLineEdit%20%E4%BF%AE%E6%94%B9%E5%AF%86%E7%A0%81%E6%98%BE%E7%A4%BA%E5%8F%8A%E5%85%B6%E6%98%BE%E7%A4%BA%E6%A0%B7%E5%BC%8F/</url>
      
        <content type="html"><![CDATA[<p>[toc]</p><h2 id="Qtè®¾ç½®ä¸ºå¯†ç æ¨¡å¼"><a href="#Qtè®¾ç½®ä¸ºå¯†ç æ¨¡å¼" class="headerlink" title="Qtè®¾ç½®ä¸ºå¯†ç æ¨¡å¼"></a>Qtè®¾ç½®ä¸ºå¯†ç æ¨¡å¼</h2><p>å‚è€ƒ <code>QLineEdit::setEchoMode</code>ã€‚å¯†ç æ¨¡å¼æ€»å…±æœ‰ä¸¤ç§</p><ul><li>QLineEdit::Password</li><li>QLineEdit::PasswordEchoOnEdit</li></ul><h2 id="ä¿®æ”¹æ ·å¼"><a href="#ä¿®æ”¹æ ·å¼" class="headerlink" title="ä¿®æ”¹æ ·å¼"></a>ä¿®æ”¹æ ·å¼</h2><p>QLineEdit å¯†ç æ ·å¼ä½¿ç”¨ Unicode å­—ç¬¦è¡¨ç¤º,<br>å¯†ç æ ·å¼ä¿®æ”¹åœ¨QLineEdit::Password ã€QLineEdit::PasswordEchoOnEdit æœ‰æ•ˆ<br><a href="https://unicode-table.com/cn/search/">Unicode å€¼æŸ¥è¯¢ç½‘å€ï¼š https://unicode-table.com/cn/search/</a></p><h3 id="1-é»˜è®¤æ ·å¼"><a href="#1-é»˜è®¤æ ·å¼" class="headerlink" title="1. é»˜è®¤æ ·å¼"></a>1. é»˜è®¤æ ·å¼</h3><p>é»˜è®¤æ ·å¼æ˜¯å®å¿ƒåœ†ç‚¹ ï¼ŒUnicodeå€¼ 9769</p><h3 id="2-è‡ªå®šä¹‰æ ·å¼"><a href="#2-è‡ªå®šä¹‰æ ·å¼" class="headerlink" title="2. è‡ªå®šä¹‰æ ·å¼"></a>2. è‡ªå®šä¹‰æ ·å¼</h3><p>å‚è€ƒ  <code>Qt åŠ©æ‰‹</code> ä¸­çš„æå‡ï¼Œæœç´¢ <code>Qt Style Sheets Examples</code> ä¸­å…³äº <code>QLineEdit</code> çš„æç¤ºè®¾ç½®å³å¯ã€‚</p><p><code>*</code> çš„ unicode ç¼–ç ä¸º 9679ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">QLineEdit[echoMode=<span class="string">&quot;2&quot;</span>] &#123;</span><br><span class="line">      lineedit-password-character: <span class="number">9679</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> Qt </category>
          
          <category> QLineEdit </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Qt </tag>
            
            <tag> QLineEdit </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>python å¼€å¯httpæœåŠ¡</title>
      <link href="/Code/Python/python%E5%BC%80%E5%90%AFhttp%E6%9C%8D%E5%8A%A1/"/>
      <url>/Code/Python/python%E5%BC%80%E5%90%AFhttp%E6%9C%8D%E5%8A%A1/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æ¦‚è¿°ï¼šä½¿ç”¨pythonå¼€å¯httpæœåŠ¡</p></blockquote><p>[toc]</p><h1 id="python-å¼€å¯-http-æœåŠ¡"><a href="#python-å¼€å¯-http-æœåŠ¡" class="headerlink" title="python å¼€å¯ http æœåŠ¡"></a>python å¼€å¯ http æœåŠ¡</h1><p>åœ¨éœ€è¦å¼€å¯httpæœåŠ¡çš„æ–‡ä»¶ä»¶è¿è¡Œä¸€ä¸‹å‘½ä»¤å³å¯ï¼š</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">python -m SimpleHTTPServer <span class="number">8080</span></span><br><span class="line"><span class="comment"># æˆ–è€…</span></span><br><span class="line">python -m http.server <span class="number">8080</span></span><br></pre></td></tr></table></figure><div class="tag-plugin image"><div class="image-bg"><img src="images/python%E5%BC%80%E5%90%AFhttp%E6%9C%8D%E5%8A%A1/image-20230815123001895.png"/></div></div>]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
            <tag> http </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/Code/Python/python%E8%A7%A3%E6%9E%90Json/"/>
      <url>/Code/Python/python%E8%A7%A3%E6%9E%90Json/</url>
      
        <content type="html"><![CDATA[<h2 id="è§£æJsonçš„å¸¸è§ä»£ç "><a href="#è§£æJsonçš„å¸¸è§ä»£ç " class="headerlink" title="è§£æJsonçš„å¸¸è§ä»£ç "></a>è§£æJsonçš„å¸¸è§ä»£ç </h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> json <span class="comment"># å¯¼å…¥jsonè§£æéœ€è¦çš„åŒ…</span></span><br></pre></td></tr></table></figure><h3 id="1-json-loads-è¯»å–å­—ç¬¦ä¸²åˆ°json-object"><a href="#1-json-loads-è¯»å–å­—ç¬¦ä¸²åˆ°json-object" class="headerlink" title="1. json.loads()è¯»å–å­—ç¬¦ä¸²åˆ°json object"></a>1. <code>json.loads()</code>è¯»å–å­—ç¬¦ä¸²åˆ°<code>json object</code></h3><p><code>json.loads()</code>æ˜¯å°†<code>str\bytes\bytearray</code>ç­‰æ ¼å¼çš„æ–‡ä»¶è¯»å–åˆ°<code>json object</code>ä¸­ã€‚ä½†æ˜¯åœ¨ä½¿ç”¨çš„æ—¶å€™å¾€å¾€ä¼šå› ä¸ºä¸€äº›å°é—®é¢˜å¯¼è‡´è¯»å–é”™è¯¯ç­‰ã€‚</p><blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">Docstring:</span><br><span class="line">Deserialize ``s`` (a ``str``, ``bytes`` or ``bytearray`` instance</span><br><span class="line">containing a JSON document) to a Python object.</span><br><span class="line"></span><br><span class="line">``object_hook`` is an optional function that will be called with the</span><br><span class="line">result of any object literal decode (a ``dict``). The return value of</span><br><span class="line">``object_hook`` will be used instead of the ``dict``. This feature</span><br><span class="line">can be used to implement custom decoders (e.g. JSON-RPC class hinting).</span><br><span class="line"></span><br><span class="line">``object_pairs_hook`` is an optional function that will be called with the</span><br><span class="line">result of any object literal decoded with an ordered list of pairs.  The</span><br><span class="line">return value of ``object_pairs_hook`` will be used instead of the ``dict``.</span><br><span class="line">This feature can be used to implement custom decoders.  If ``object_hook``</span><br><span class="line">is also defined, the ``object_pairs_hook`` takes priority.</span><br><span class="line"></span><br><span class="line">``parse_float``, if specified, will be called with the string</span><br><span class="line">of every JSON float to be decoded. By default this is equivalent to</span><br><span class="line">float(num_str). This can be used to use another datatype or parser</span><br><span class="line">for JSON floats (e.g. decimal.Decimal).</span><br><span class="line"></span><br><span class="line">``parse_int``, if specified, will be called with the string</span><br><span class="line">of every JSON int to be decoded. By default this is equivalent to</span><br><span class="line">int(num_str). This can be used to use another datatype or parser</span><br><span class="line">for JSON integers (e.g. float).</span><br><span class="line"></span><br><span class="line">``parse_constant``, if specified, will be called with one of the</span><br><span class="line">following strings: -Infinity, Infinity, NaN.</span><br><span class="line">This can be used to raise an exception if invalid JSON numbers</span><br><span class="line">are encountered.</span><br><span class="line"></span><br><span class="line">To use a custom ``JSONDecoder`` subclass, specify it with the ``cls``</span><br><span class="line">kwarg; otherwise ``JSONDecoder`` is used.</span><br></pre></td></tr></table></figure></blockquote><p><b><span style="class: faa-bounce animated-hover;border-bottom: 5px solid #8F81EF;"><a href="https://pan.baidu.com/s/1omzU65YMpJr0jPPFItZ7SA">data.jsonæ–‡ä»¶é“¾æ¥</a></span></b></p><blockquote><p>é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/1omzU65YMpJr0jPPFItZ7SA">https://pan.baidu.com/s/1omzU65YMpJr0jPPFItZ7SA</a><br>æå–ç ï¼šysly<br>å¤åˆ¶è¿™æ®µå†…å®¹åæ‰“å¼€ç™¾åº¦ç½‘ç›˜æ‰‹æœºAppï¼Œæ“ä½œæ›´æ–¹ä¾¿å“¦</p></blockquote><p>ä¸Šè¿°æ–‡ä»¶ç›¸å¯¹å¸¸è§çš„Jsonæ–‡ä»¶æ¥è¯´ï¼Œè¿˜æ˜¯æœ‰ç‚¹åŒºåˆ«çš„ï¼Œç”¨pythonçš„jsonåº“æ“ä½œç›¸å¯¹æœ‰ç‚¹å›°éš¾ã€‚</p><p>æŠ¥é”™<code>Expection \ï¼Œdelimiter</code>ï¼Œçœ‹äº†å¥½äº›è§£å†³åŠæ³•ä»ç„¶æ²¡èƒ½æˆåŠŸè§£å†³ï¼š<i id='1'></i></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># è¾“å…¥æ–‡ä»¶</span><br><span class="line">&#123;&#x27;asin&#x27;: &#x27;0000032069&#x27;, &#x27;title&#x27;: &#x27;Adult Ballet Tutu Cheetah Pink&#x27;, &#x27;price&#x27;: 7.89, &#x27;imUrl&#x27;: &#x27;http://ecx.images-amazon.com/images/I/51EzU6quNML._SX342_.jpg&#x27;, &#x27;related&#x27;: &#123;&#x27;also_bought&#x27;: [&#x27;0000032050&#x27;, &#x27;B00D0DJAEG&#x27;, &#x27;0000032042&#x27;, &#x27;B00D0F450I&#x27;, &#x27;B00D2JTMS2&#x27;, &#x27;B00D0FDUAY&#x27;, &#x27;B00D2JSRFQ&#x27;, &#x27;0000032034&#x27;, &#x27;B00D0D5F6S&#x27;, &#x27;B00D2JRWWA&#x27;, &#x27;B00D0FIIJM&#x27;, &#x27;B00D0FCQQI&#x27;, &#x27;B00EXVN9PU&#x27;, &#x27;B0041EOTJO&#x27;, &#x27;B004PYEE8G&#x27;, &#x27;B001GTKPDQ&#x27;, &#x27;B00EON0SJ2&#x27;, &#x27;B005HMHOQ4&#x27;, &#x27;B002XZMGGQ&#x27;], &#x27;also_viewed&#x27;: [&#x27;B00D0F450I&#x27;, &#x27;0000032050&#x27;, &#x27;B00D2JTMS2&#x27;, &#x27;0000032042&#x27;, &#x27;B004PYEE8G&#x27;, &#x27;B00JHNSNSM&#x27;, &#x27;B00D0DJAEG&#x27;, &#x27;B00D2JSRFQ&#x27;, &#x27;B00D0FCQQI&#x27;, &#x27;B00D2JRWWA&#x27;, &#x27;B003AVNY6I&#x27;, &#x27;B0071KR2LC&#x27;, &#x27;B00GOR07RE&#x27;, &#x27;B00D0FIIJM&#x27;, &#x27;B005F50FXC&#x27;, &#x27;B0079MCIMU&#x27;, &#x27;B00D0FDUAY&#x27;, &#x27;B00H3RYN3I&#x27;, &#x27;B005C4Y4F6&#x27;, &#x27;B007IEFT84&#x27;, &#x27;B00D0D5F6S&#x27;, &#x27;B002BZX8Z6&#x27;, &#x27;B00JHONN1S&#x27;, &#x27;B008F0SU0Y&#x27;, &#x27;B00FNNFXAG&#x27;, &#x27;B007R2RM8W&#x27;, &#x27;B007VM3AMK&#x27;, &#x27;B00C0PLENA&#x27;, &#x27;B00BJGG6VG&#x27;, &#x27;B00E1YRI4C&#x27;, &#x27;B00IIK61WA&#x27;, &#x27;B009UC638W&#x27;, &#x27;B00KZN6RVI&#x27;, &#x27;B00CSFEENY&#x27;, &#x27;B002GZGI4E&#x27;, &#x27;B00HSOJJ94&#x27;, &#x27;B00LIPP4VG&#x27;, &#x27;B009RXWNSI&#x27;, &#x27;B00E87F196&#x27;, &#x27;B005HMHOQY&#x27;, &#x27;B00J6S9MSS&#x27;, &#x27;0000032034&#x27;, &#x27;B00CJQGNJK&#x27;, &#x27;B008FCA0F0&#x27;, &#x27;B0056LG7GY&#x27;, &#x27;B00DPQWCZ2&#x27;, &#x27;B00I3PV0US&#x27;, &#x27;B00KZN6IVW&#x27;, &#x27;B0054TBWKO&#x27;, &#x27;B00I2S01I8&#x27;, &#x27;B00BXF12P8&#x27;, &#x27;B00GVHU678&#x27;, &#x27;B005NWENGC&#x27;, &#x27;B003AVKOP2&#x27;, &#x27;B00JK8MQ4Q&#x27;, &#x27;B00FZIMVQS&#x27;, &#x27;B008BB19VE&#x27;, &#x27;B00GTEXPOE&#x27;, &#x27;B009WPT2RQ&#x27;, &#x27;B00E37SBBG&#x27;], &#x27;bought_together&#x27;: [&#x27;0000032050&#x27;, &#x27;B00D0DJAEG&#x27;, &#x27;0000032042&#x27;, &#x27;B00D0F450I&#x27;]&#125;, &#x27;brand&#x27;: &#x27;BubuBibi&#x27;, &#x27;categories&#x27;: [[&#x27;Sports &amp; Outdoors&#x27;, &#x27;Other Sports&#x27;, &#x27;Dance&#x27;, &#x27;Clothing&#x27;, &#x27;Girls&#x27;, &#x27;Skirts&#x27;]]&#125;</span><br><span class="line">&#123;&#x27;asin&#x27;: &#x27;0000031909&#x27;, &#x27;related&#x27;: &#123;&#x27;also_bought&#x27;: [&#x27;B002BZX8Z6&#x27;, &#x27;B00JHONN1S&#x27;, &#x27;0000031895&#x27;, &#x27;B00D2K1M3O&#x27;, &#x27;0000031852&#x27;, &#x27;B00D0WDS9A&#x27;, &#x27;B00D10CLVW&#x27;, &#x27;B00D103F8U&#x27;, &#x27;B003AVEU6G&#x27;, &#x27;B00D2K0PA0&#x27;, &#x27;B002GZGI4E&#x27;, &#x27;B00D0ZF44Y&#x27;, &#x27;B008F0SMUC&#x27;, &#x27;B00D0GCI8S&#x27;, &#x27;B008F0SU0Y&#x27;, &#x27;B002YSCPZY&#x27;, &#x27;0448408775&#x27;, &#x27;B002R0FABA&#x27;, &#x27;B008GHWNWC&#x27;, &#x27;B002R0FA24&#x27;, &#x27;B001GTKPEK&#x27;, &#x27;B006XA7KZO&#x27;, &#x27;B001GZUQ9S&#x27;, &#x27;B00613VNL0&#x27;, &#x27;B003IEDM9Q&#x27;, &#x27;B003LTOZK8&#x27;, &#x27;B003AVNY6I&#x27;, &#x27;B008UBQZKU&#x27;, &#x27;B001AQD8VQ&#x27;, &#x27;B003ILA0L2&#x27;, &#x27;B00AFDOPDA&#x27;, &#x27;B002R0F7FE&#x27;], &#x27;also_viewed&#x27;: [&#x27;B002BZX8Z6&#x27;, &#x27;B00JHONN1S&#x27;, &#x27;B008F0SU0Y&#x27;, &#x27;B00E1YRI4C&#x27;, &#x27;B00AFDOPDA&#x27;, &#x27;B002GZGI4E&#x27;, &#x27;B00CEUWY8K&#x27;, &#x27;B003IEDM9Q&#x27;, &#x27;B00HSOJB9M&#x27;, &#x27;0000031895&#x27;, &#x27;B003AVKOP2&#x27;, &#x27;B005C4Y4F6&#x27;, &#x27;B008F0SMUC&#x27;, &#x27;B00362QGW0&#x27;, &#x27;B008UD01L2&#x27;, &#x27;B00FAZ5ZE6&#x27;, &#x27;B008F0SY6O&#x27;, &#x27;B00DPLLQR2&#x27;, &#x27;B00CEUWUZC&#x27;, &#x27;B004PYEE8G&#x27;, &#x27;B003AVNY6I&#x27;, &#x27;B00CEUX0D8&#x27;, &#x27;B00JHNSNSM&#x27;, &#x27;B00D10CLVW&#x27;, &#x27;B00D23MC6W&#x27;, &#x27;B007XAI53E&#x27;, &#x27;B008X6CBS2&#x27;, &#x27;B004PEI45U&#x27;, &#x27;B005HMHOQ4&#x27;, &#x27;B002C3Y6WG&#x27;, &#x27;B00HSC8O74&#x27;, &#x27;B008BMGHM4&#x27;, &#x27;B00CEUWTFS&#x27;, &#x27;B00FNNFXAG&#x27;, &#x27;B00CYBU84G&#x27;, &#x27;B00D9C32NI&#x27;, &#x27;B0046W9T8C&#x27;, &#x27;B008UBG5IW&#x27;, &#x27;B001YHX45G&#x27;, &#x27;B00CEV8366&#x27;, &#x27;B00I2UHSZA&#x27;, &#x27;B009RXWNSI&#x27;, &#x27;B008FCA0F0&#x27;, &#x27;B001GTKPEK&#x27;, &#x27;B004TU1VPU&#x27;, &#x27;B00CBPIO7S&#x27;, &#x27;B00CHHXJ0M&#x27;, &#x27;B00538F5OK&#x27;, &#x27;B005F50FXC&#x27;, &#x27;B00CEUX4QQ&#x27;, &#x27;B003XRKA7A&#x27;, &#x27;0000031852&#x27;, &#x27;B002C3R5XI&#x27;, &#x27;B00C6Q1Z6E&#x27;], &#x27;bought_together&#x27;: [&#x27;B002BZX8Z6&#x27;]&#125;, &#x27;title&#x27;: &#x27;Girls Ballet Tutu Neon Pink&#x27;, &#x27;price&#x27;: 7.0, &#x27;salesRank&#x27;: &#123;&#x27;Toys &amp; Games&#x27;: 201847&#125;, &#x27;imUrl&#x27;: &#x27;http://ecx.images-amazon.com/images/I/41xBoP0FVzL._SY300_.jpg&#x27;, &#x27;brand&#x27;: &#x27;Unknown&#x27;, &#x27;categories&#x27;: [[&#x27;Sports &amp; Outdoors&#x27;, &#x27;Other Sports&#x27;, &#x27;Dance&#x27;]], &#x27;description&#x27;: &#x27;High quality 3 layer ballet tutu. 12 inches in length&#x27;&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¸¸è§çš„Jsonè¯»å–</span></span><br><span class="line">JsonText = <span class="built_in">open</span>(<span class="string">&#x27;data.json&#x27;</span>,encoding=<span class="string">&#x27;utf-8&#x27;</span>) <span class="comment"># æ‰“å¼€data.json</span></span><br><span class="line">Json = JsonText.readlines() <span class="comment"># æŠŠjsonä¸­çš„æ–‡ä»¶å…¨éƒ¨è¯»å–åˆ°Jsonå¯¹è±¡ä¸­ã€‚</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è¯»å–ä¸Šè¿°data.jsonä¸ºjsonå¯¹è±¡çš„ä»£ç </span></span><br><span class="line">list_data = <span class="built_in">list</span>()</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">read_Json_file</span>(<span class="params">i,x</span>):</span><br><span class="line">    <span class="comment"># è¿”å›æœ‰æ•ˆçš„Jsonå­—æ®µ</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;ç¬¬&quot;</span> + i + <span class="string">&quot;è¡Œ:&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(x)</span><br><span class="line">    <span class="comment"># å…³äºexpectintçš„æŠ¥é”™ï¼Œæˆ‘è¿™å¤„ç†å°±æ˜¯ä½†å‡¡æŠ¥é”™ï¼Œç›´æ¥è¿”å›ç©ºå­—æ®µï¼Œå¦‚æœä½ æœ‰åˆ«çš„è§£å†³åŠæ³•ï¼Œä¸€å®šæŒ‡æ•™ä¸€ä¸‹ï¼Œä¸èƒœæ„Ÿæ¿€</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        JsonStr = x.replace(<span class="string">&quot;&#x27;&quot;</span>, <span class="string">&#x27;&quot;&#x27;</span>).replace(<span class="string">&#x27;/ &#x27;</span>, <span class="string">&#x27;/&#x27;</span>).replace(<span class="string">&#x27;, &#x27;</span>,<span class="string">&#x27;,&#x27;</span>)</span><br><span class="line">        ret = json.loads(JsonStr,strict=<span class="literal">False</span>)</span><br><span class="line">    <span class="keyword">except</span> json.JSONDecodeError:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27; &#x27;</span></span><br><span class="line">        </span><br><span class="line">    <span class="keyword">if</span>(<span class="string">&#x27;categories&#x27;</span> <span class="keyword">in</span> ret):</span><br><span class="line">        <span class="built_in">print</span>(ret[<span class="string">&#x27;categories&#x27;</span>])</span><br><span class="line">        <span class="keyword">return</span> ret[<span class="string">&#x27;categories&#x27;</span>]</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27; &#x27;</span></span><br><span class="line">    </span><br><span class="line">list_data = <span class="built_in">list</span>()</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>,<span class="built_in">len</span>(Json)):</span><br><span class="line">list_data.append(read_Json_file(<span class="built_in">str</span>(i+<span class="number">1</span>),Json[i]))</span><br></pre></td></tr></table></figure><h3 id="ç¨‹åºè¾“å‡º"><a href="#ç¨‹åºè¾“å‡º" class="headerlink" title="ç¨‹åºè¾“å‡º"></a>ç¨‹åºè¾“å‡º</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">ç¬¬1è¡Œ:</span><br><span class="line">&#123;&#x27;asin&#x27;: &#x27;0000032069&#x27;, &#x27;title&#x27;: &#x27;Adult Ballet Tutu Cheetah Pink&#x27;, &#x27;price&#x27;: 7.89, &#x27;imUrl&#x27;: &#x27;http://ecx.images-amazon.com/images/I/51EzU6quNML._SX342_.jpg&#x27;, &#x27;related&#x27;: &#123;&#x27;also_bought&#x27;: [&#x27;0000032050&#x27;, &#x27;B00D0DJAEG&#x27;, &#x27;0000032042&#x27;, &#x27;B00D0F450I&#x27;, &#x27;B00D2JTMS2&#x27;, &#x27;B00D0FDUAY&#x27;, &#x27;B00D2JSRFQ&#x27;, &#x27;0000032034&#x27;, &#x27;B00D0D5F6S&#x27;, &#x27;B00D2JRWWA&#x27;, &#x27;B00D0FIIJM&#x27;, &#x27;B00D0FCQQI&#x27;, &#x27;B00EXVN9PU&#x27;, &#x27;B0041EOTJO&#x27;, &#x27;B004PYEE8G&#x27;, &#x27;B001GTKPDQ&#x27;, &#x27;B00EON0SJ2&#x27;, &#x27;B005HMHOQ4&#x27;, &#x27;B002XZMGGQ&#x27;], &#x27;also_viewed&#x27;: [&#x27;B00D0F450I&#x27;, &#x27;0000032050&#x27;, &#x27;B00D2JTMS2&#x27;, &#x27;0000032042&#x27;, &#x27;B004PYEE8G&#x27;, &#x27;B00JHNSNSM&#x27;, &#x27;B00D0DJAEG&#x27;, &#x27;B00D2JSRFQ&#x27;, &#x27;B00D0FCQQI&#x27;, &#x27;B00D2JRWWA&#x27;, &#x27;B003AVNY6I&#x27;, &#x27;B0071KR2LC&#x27;, &#x27;B00GOR07RE&#x27;, &#x27;B00D0FIIJM&#x27;, &#x27;B005F50FXC&#x27;, &#x27;B0079MCIMU&#x27;, &#x27;B00D0FDUAY&#x27;, &#x27;B00H3RYN3I&#x27;, &#x27;B005C4Y4F6&#x27;, &#x27;B007IEFT84&#x27;, &#x27;B00D0D5F6S&#x27;, &#x27;B002BZX8Z6&#x27;, &#x27;B00JHONN1S&#x27;, &#x27;B008F0SU0Y&#x27;, &#x27;B00FNNFXAG&#x27;, &#x27;B007R2RM8W&#x27;, &#x27;B007VM3AMK&#x27;, &#x27;B00C0PLENA&#x27;, &#x27;B00BJGG6VG&#x27;, &#x27;B00E1YRI4C&#x27;, &#x27;B00IIK61WA&#x27;, &#x27;B009UC638W&#x27;, &#x27;B00KZN6RVI&#x27;, &#x27;B00CSFEENY&#x27;, &#x27;B002GZGI4E&#x27;, &#x27;B00HSOJJ94&#x27;, &#x27;B00LIPP4VG&#x27;, &#x27;B009RXWNSI&#x27;, &#x27;B00E87F196&#x27;, &#x27;B005HMHOQY&#x27;, &#x27;B00J6S9MSS&#x27;, &#x27;0000032034&#x27;, &#x27;B00CJQGNJK&#x27;, &#x27;B008FCA0F0&#x27;, &#x27;B0056LG7GY&#x27;, &#x27;B00DPQWCZ2&#x27;, &#x27;B00I3PV0US&#x27;, &#x27;B00KZN6IVW&#x27;, &#x27;B0054TBWKO&#x27;, &#x27;B00I2S01I8&#x27;, &#x27;B00BXF12P8&#x27;, &#x27;B00GVHU678&#x27;, &#x27;B005NWENGC&#x27;, &#x27;B003AVKOP2&#x27;, &#x27;B00JK8MQ4Q&#x27;, &#x27;B00FZIMVQS&#x27;, &#x27;B008BB19VE&#x27;, &#x27;B00GTEXPOE&#x27;, &#x27;B009WPT2RQ&#x27;, &#x27;B00E37SBBG&#x27;], &#x27;bought_together&#x27;: [&#x27;0000032050&#x27;, &#x27;B00D0DJAEG&#x27;, &#x27;0000032042&#x27;, &#x27;B00D0F450I&#x27;]&#125;, &#x27;brand&#x27;: &#x27;BubuBibi&#x27;, &#x27;categories&#x27;: [[&#x27;Sports &amp; Outdoors&#x27;, &#x27;Other Sports&#x27;, &#x27;Dance&#x27;, &#x27;Clothing&#x27;, &#x27;Girls&#x27;, &#x27;Skirts&#x27;]]&#125;</span><br><span class="line"></span><br><span class="line">[[&#x27;Sports &amp; Outdoors&#x27;, &#x27;Other Sports&#x27;, &#x27;Dance&#x27;, &#x27;Clothing&#x27;, &#x27;Girls&#x27;, &#x27;Skirts&#x27;]]</span><br><span class="line">ç¬¬2è¡Œ:</span><br><span class="line">&#123;&#x27;asin&#x27;: &#x27;0000031909&#x27;, &#x27;related&#x27;: &#123;&#x27;also_bought&#x27;: [&#x27;B002BZX8Z6&#x27;, &#x27;B00JHONN1S&#x27;, &#x27;0000031895&#x27;, &#x27;B00D2K1M3O&#x27;, &#x27;0000031852&#x27;, &#x27;B00D0WDS9A&#x27;, &#x27;B00D10CLVW&#x27;, &#x27;B00D103F8U&#x27;, &#x27;B003AVEU6G&#x27;, &#x27;B00D2K0PA0&#x27;, &#x27;B002GZGI4E&#x27;, &#x27;B00D0ZF44Y&#x27;, &#x27;B008F0SMUC&#x27;, &#x27;B00D0GCI8S&#x27;, &#x27;B008F0SU0Y&#x27;, &#x27;B002YSCPZY&#x27;, &#x27;0448408775&#x27;, &#x27;B002R0FABA&#x27;, &#x27;B008GHWNWC&#x27;, &#x27;B002R0FA24&#x27;, &#x27;B001GTKPEK&#x27;, &#x27;B006XA7KZO&#x27;, &#x27;B001GZUQ9S&#x27;, &#x27;B00613VNL0&#x27;, &#x27;B003IEDM9Q&#x27;, &#x27;B003LTOZK8&#x27;, &#x27;B003AVNY6I&#x27;, &#x27;B008UBQZKU&#x27;, &#x27;B001AQD8VQ&#x27;, &#x27;B003ILA0L2&#x27;, &#x27;B00AFDOPDA&#x27;, &#x27;B002R0F7FE&#x27;], &#x27;also_viewed&#x27;: [&#x27;B002BZX8Z6&#x27;, &#x27;B00JHONN1S&#x27;, &#x27;B008F0SU0Y&#x27;, &#x27;B00E1YRI4C&#x27;, &#x27;B00AFDOPDA&#x27;, &#x27;B002GZGI4E&#x27;, &#x27;B00CEUWY8K&#x27;, &#x27;B003IEDM9Q&#x27;, &#x27;B00HSOJB9M&#x27;, &#x27;0000031895&#x27;, &#x27;B003AVKOP2&#x27;, &#x27;B005C4Y4F6&#x27;, &#x27;B008F0SMUC&#x27;, &#x27;B00362QGW0&#x27;, &#x27;B008UD01L2&#x27;, &#x27;B00FAZ5ZE6&#x27;, &#x27;B008F0SY6O&#x27;, &#x27;B00DPLLQR2&#x27;, &#x27;B00CEUWUZC&#x27;, &#x27;B004PYEE8G&#x27;, &#x27;B003AVNY6I&#x27;, &#x27;B00CEUX0D8&#x27;, &#x27;B00JHNSNSM&#x27;, &#x27;B00D10CLVW&#x27;, &#x27;B00D23MC6W&#x27;, &#x27;B007XAI53E&#x27;, &#x27;B008X6CBS2&#x27;, &#x27;B004PEI45U&#x27;, &#x27;B005HMHOQ4&#x27;, &#x27;B002C3Y6WG&#x27;, &#x27;B00HSC8O74&#x27;, &#x27;B008BMGHM4&#x27;, &#x27;B00CEUWTFS&#x27;, &#x27;B00FNNFXAG&#x27;, &#x27;B00CYBU84G&#x27;, &#x27;B00D9C32NI&#x27;, &#x27;B0046W9T8C&#x27;, &#x27;B008UBG5IW&#x27;, &#x27;B001YHX45G&#x27;, &#x27;B00CEV8366&#x27;, &#x27;B00I2UHSZA&#x27;, &#x27;B009RXWNSI&#x27;, &#x27;B008FCA0F0&#x27;, &#x27;B001GTKPEK&#x27;, &#x27;B004TU1VPU&#x27;, &#x27;B00CBPIO7S&#x27;, &#x27;B00CHHXJ0M&#x27;, &#x27;B00538F5OK&#x27;, &#x27;B005F50FXC&#x27;, &#x27;B00CEUX4QQ&#x27;, &#x27;B003XRKA7A&#x27;, &#x27;0000031852&#x27;, &#x27;B002C3R5XI&#x27;, &#x27;B00C6Q1Z6E&#x27;], &#x27;bought_together&#x27;: [&#x27;B002BZX8Z6&#x27;]&#125;, &#x27;title&#x27;: &#x27;Girls Ballet Tutu Neon Pink&#x27;, &#x27;price&#x27;: 7.0, &#x27;salesRank&#x27;: &#123;&#x27;Toys &amp; Games&#x27;: 201847&#125;, &#x27;imUrl&#x27;: &#x27;http://ecx.images-amazon.com/images/I/41xBoP0FVzL._SY300_.jpg&#x27;, &#x27;brand&#x27;: &#x27;Unknown&#x27;, &#x27;categories&#x27;: [[&#x27;Sports &amp; Outdoors&#x27;, &#x27;Other Sports&#x27;, &#x27;Dance&#x27;]], &#x27;description&#x27;: &#x27;High quality 3 layer ballet tutu. 12 inches in length&#x27;&#125;</span><br><span class="line"></span><br><span class="line">[[&#x27;Sports &amp; Outdoors&#x27;, &#x27;Other Sports&#x27;, &#x27;Dance&#x27;]]</span><br></pre></td></tr></table></figure><p>æ‰“å°äº†jsonä¸­<code>categories</code>å¯¹è±¡çš„å€¼ï¼š</p><blockquote><p>[[â€˜Sports &amp; Outdoorsâ€™,<br>   â€˜Other Sportsâ€™,<br>   â€˜Danceâ€™,<br>   â€˜Clothingâ€™,<br>   â€˜Girlsâ€™,<br>   â€˜Skirtsâ€™]],<br> [[â€˜Sports &amp; Outdoorsâ€™, â€˜Other Sportsâ€™, â€˜Danceâ€™]],<br> [[â€˜Sports &amp; Outdoorsâ€™,<br>   â€˜Other Sportsâ€™,<br>   â€˜Danceâ€™,<br>   â€˜Clothingâ€™,<br>   â€˜Girlsâ€™,<br>   â€˜Skirtsâ€™]]</p></blockquote><h3 id="2-å¸¸è§é”™è¯¯åŠè§£å†³åŠæ³•"><a href="#2-å¸¸è§é”™è¯¯åŠè§£å†³åŠæ³•" class="headerlink" title="2. å¸¸è§é”™è¯¯åŠè§£å†³åŠæ³•"></a>2. å¸¸è§é”™è¯¯åŠè§£å†³åŠæ³•</h3><ol><li><code>Expecting property name enclosed in double quotes: line 1 column 2 (char 1)</code></li></ol><!-- tab æè¿° --><p>Jsonæ–‡ä»¶çš„å•åŒå¼•å·ä¸å¯¹ï¼Œå¦‚ä¸‹æ‰€ç¤ºPythonä¸­çš„ä¸€ä¸ª<code>str</code>ï¼ŒJsonä¸­çš„<code>Keyå€¼</code>éƒ½æ˜¯ç”¨å•å¼•å·<code>&#39;</code>æ‹¬èµ·æ¥çš„ï¼Œå°±ä¼šæŠ¥é”™<code>Expecting property name enclosed in double quotes</code>ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;&#123;&#x27;asin&#x27;: &#x27;0000032069&#x27;, &#x27;title&#x27;: &#x27;Adult Ballet Tutu Cheetah Pink&#x27;, &#x27;price&#x27;: 7.89, &#x27;imUrl&#x27;: &#x27;http://ecx.images-amazon.com/images/I/51EzU6quNML._SX342_.jpg&#x27;, &#x27;related&#x27;: &#123;&#x27;also_bought&#x27;: [&#x27;0000032050&#x27;, &#x27;B00D0DJAEG&#x27;, &#x27;0000032042&#x27;, &#x27;B00D0F450I&#x27;, &#x27;B00D2JTMS2&#x27;, &#x27;B00D0FDUAY&#x27;, &#x27;B00D2JSRFQ&#x27;, &#x27;0000032034&#x27;, &#x27;B00D0D5F6S&#x27;, &#x27;B00D2JRWWA&#x27;, &#x27;B00D0FIIJM&#x27;, &#x27;B00D0FCQQI&#x27;, &#x27;B00EXVN9PU&#x27;, &#x27;B0041EOTJO&#x27;, &#x27;B004PYEE8G&#x27;, &#x27;B001GTKPDQ&#x27;, &#x27;B00EON0SJ2&#x27;, &#x27;B005HMHOQ4&#x27;, &#x27;B002XZMGGQ&#x27;], &#x27;also_viewed&#x27;: [&#x27;B00D0F450I&#x27;, &#x27;0000032050&#x27;, &#x27;B00D2JTMS2&#x27;, &#x27;0000032042&#x27;, &#x27;B004PYEE8G&#x27;, &#x27;B00JHNSNSM&#x27;, &#x27;B00D0DJAEG&#x27;, &#x27;B00D2JSRFQ&#x27;, &#x27;B00D0FCQQI&#x27;, &#x27;B00D2JRWWA&#x27;, &#x27;B003AVNY6I&#x27;, &#x27;B0071KR2LC&#x27;, &#x27;B00GOR07RE&#x27;, &#x27;B00D0FIIJM&#x27;, &#x27;B005F50FXC&#x27;, &#x27;B0079MCIMU&#x27;, &#x27;B00D0FDUAY&#x27;, &#x27;B00H3RYN3I&#x27;, &#x27;B005C4Y4F6&#x27;, &#x27;B007IEFT84&#x27;, &#x27;B00D0D5F6S&#x27;, &#x27;B002BZX8Z6&#x27;, &#x27;B00JHONN1S&#x27;, &#x27;B008F0SU0Y&#x27;, &#x27;B00FNNFXAG&#x27;, &#x27;B007R2RM8W&#x27;, &#x27;B007VM3AMK&#x27;, &#x27;B00C0PLENA&#x27;, &#x27;B00BJGG6VG&#x27;, &#x27;B00E1YRI4C&#x27;, &#x27;B00IIK61WA&#x27;, &#x27;B009UC638W&#x27;, &#x27;B00KZN6RVI&#x27;, &#x27;B00CSFEENY&#x27;, &#x27;B002GZGI4E&#x27;, &#x27;B00HSOJJ94&#x27;, &#x27;B00LIPP4VG&#x27;, &#x27;B009RXWNSI&#x27;, &#x27;B00E87F196&#x27;, &#x27;B005HMHOQY&#x27;, &#x27;B00J6S9MSS&#x27;, &#x27;0000032034&#x27;, &#x27;B00CJQGNJK&#x27;, &#x27;B008FCA0F0&#x27;, &#x27;B0056LG7GY&#x27;, &#x27;B00DPQWCZ2&#x27;, &#x27;B00I3PV0US&#x27;, &#x27;B00KZN6IVW&#x27;, &#x27;B0054TBWKO&#x27;, &#x27;B00I2S01I8&#x27;, &#x27;B00BXF12P8&#x27;, &#x27;B00GVHU678&#x27;, &#x27;B005NWENGC&#x27;, &#x27;B003AVKOP2&#x27;, &#x27;B00JK8MQ4Q&#x27;, &#x27;B00FZIMVQS&#x27;, &#x27;B008BB19VE&#x27;, &#x27;B00GTEXPOE&#x27;, &#x27;B009WPT2RQ&#x27;, &#x27;B00E37SBBG&#x27;], &#x27;bought_together&#x27;: [&#x27;0000032050&#x27;, &#x27;B00D0DJAEG&#x27;, &#x27;0000032042&#x27;, &#x27;B00D0F450I&#x27;]&#125;, &#x27;brand&#x27;: &#x27;BubuBibi&#x27;, &#x27;categories&#x27;: [[&#x27;Sports &amp; Outdoors&#x27;, &#x27;Other Sports&#x27;, &#x27;Dance&#x27;, &#x27;Clothing&#x27;, &#x27;Girls&#x27;, &#x27;Skirts&#x27;]]&#125;&quot;</span></span><br></pre></td></tr></table></figure><!-- endtab --><!-- tab è§£å†³åŠæ³• --><p>æ›¿æ¢æ‰<code>str</code>ä¸­çš„<code>&#39;</code>ä¸º<code>&quot;</code>ï¼Œæ›¿æ¢<code>/_ï¼ˆç©ºæ ¼ï¼‰</code>ä¸º<code>/</code>:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">text.replace(<span class="string">&quot;&#x27;&quot;</span>, <span class="string">&#x27;&quot;&#x27;</span>).replace(<span class="string">&#x27;/ &#x27;</span>, <span class="string">&#x27;/&#x27;</span>)</span><br></pre></td></tr></table></figure><p>å†æ¥ç€è¯»å–å°±ä¸ä¼šæŠ¥é”™äº†ï¼ï¼ï¼</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">JsonValue[<span class="string">&#x27;categories&#x27;</span>]</span><br></pre></td></tr></table></figure><p>ç»“æœï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">[</span><span class="punctuation">[</span>&#x27;Sports &amp; Outdoors&#x27;<span class="punctuation">,</span> &#x27;Other Sports&#x27;<span class="punctuation">,</span> &#x27;Dance&#x27;<span class="punctuation">,</span> &#x27;Clothing&#x27;<span class="punctuation">,</span> &#x27;Girls&#x27;<span class="punctuation">,</span> &#x27;Skirts&#x27;<span class="punctuation">]</span><span class="punctuation">]</span></span><br></pre></td></tr></table></figure><!-- endtab --><ol start="2"><li><code>expecting , delimiter</code></li></ol><!-- tab æè¿° --><p>è¿™ä¸ªé—®é¢˜çœŸçš„è¢«æå¾—å¤´ç–¼ï¼Œåˆ°ç›®å‰è¿˜æ²¡è§£å†³ï¼Œ<code>Json</code>å­—æ®µæ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼Œä½†æ˜¯<code>loads()å‡½æ•°</code>å°±æ˜¯ä¼šæŠ¥é”™</p><!-- endtab --><!-- tab é—®é¢˜è§£å†³ --><p><a href="#1">è§£å†³åŠæ³•</a></p><!-- endtab -->]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> Python </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Python ç•Œé¢å®ç° Gui ç•Œé¢è‡ªåŠ¨è¾“å…¥</title>
      <link href="/Code/Python/gui%E7%95%8C%E9%9D%A2%E8%87%AA%E5%8A%A8%E8%BE%93%E5%85%A5/"/>
      <url>/Code/Python/gui%E7%95%8C%E9%9D%A2%E8%87%AA%E5%8A%A8%E8%BE%93%E5%85%A5/</url>
      
        <content type="html"><![CDATA[<blockquote><p>å¼€å‘è¿‡ç¨‹ä¸­ä½¿ç”¨åå°æ—¶ï¼Œæ¯æ¬¡éƒ½éœ€è¦è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ï¼Œå¾ˆéº»çƒ¦ï¼Œå°è¯•è§£å†³è¿™ä¸ªéº»çƒ¦çš„è¿‡ç¨‹ä¸­ä½¿ç”¨äº† pyautogui è¿™ä¸ªåº“ï¼Œæ•´ç†è®°å½•ä¸€ä¸‹ï¼Œå®é™…ç™»å½•webç½‘ç«™æ—¶ï¼Œè‡ªåŠ¨è¾“å…¥è¿˜æœ‰åˆ«çš„æ–¹æ³•ï¼Œå¯ä»¥ä½¿ç”¨æ²¹çŒ´è„šæœ¬å®ç°ï¼Œè¯¦è§æ–‡æœ«<a href="#%E6%B2%B9%E7%8C%B4">ä½¿ç”¨æ²¹çŒ´è‡ªåŠ¨ç™»å½•ç½‘ç«™</a>ã€‚</p></blockquote><p>[toc]</p><h1 id="ä½¿ç”¨-python-å®ç°-Gui-è‡ªåŠ¨ç™»å½•"><a href="#ä½¿ç”¨-python-å®ç°-Gui-è‡ªåŠ¨ç™»å½•" class="headerlink" title="ä½¿ç”¨ python å®ç° Gui è‡ªåŠ¨ç™»å½•"></a>ä½¿ç”¨ python å®ç° Gui è‡ªåŠ¨ç™»å½•</h1><h2 id="éœ€æ±‚"><a href="#éœ€æ±‚" class="headerlink" title="éœ€æ±‚"></a>éœ€æ±‚</h2><p>ç•Œé¢ä¸»åŠ¨è¾“å…¥ <code>admin</code> åè·³è½¬åˆ°å¯†ç æ å†è‡ªåŠ¨è¾“å…¥  <code>Admin@2022</code></p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>ä¸»è¦æ˜¯ä½¿ç”¨ pyautogui åº“ï¼Œ pyautoguiå°è£…äº†ç•Œé¢çš„ç›¸å…³æ“ä½œï¼ŒåŒ…æ‹¬é¼ æ ‡å’Œé”®ç›˜äº‹ä»¶ã€‚</p><p><a href="../../../Demo/Python/%E8%87%AA%E5%8A%A8%E8%BE%93%E5%85%A5/tacInputTest.py">æºç </a></p><ol><li><code>pyautogui.typewrite</code> å¯ä»¥æ¨¡æ‹Ÿè¾“å…¥å­—ç¬¦çš„è¾“å…¥</li><li><code>pyautogui.press</code> å¯ä»¥æ¨¡æ‹Ÿå…¶ä»–æ“ä½œç±»å‹çš„é”®çš„è¾“å…¥</li></ol><p>åŸºäºä»¥ä¸Šä¸¤ç‚¹ï¼Œæˆ‘ä»¬åªéœ€è¦æ„å»ºä¸€ä¸ªè¾“å…¥çš„é˜Ÿåˆ—ï¼Œç„¶åéå†é˜Ÿåˆ—æ‰§è¡Œå“åº”çš„æ“ä½œå³å¯</p><h3 id="æ„å»ºè¾“å…¥é˜Ÿåˆ—"><a href="#æ„å»ºè¾“å…¥é˜Ÿåˆ—" class="headerlink" title="æ„å»ºè¾“å…¥é˜Ÿåˆ—"></a>æ„å»ºè¾“å…¥é˜Ÿåˆ—</h3><p>é˜Ÿåˆ—çš„é”®å€¼çš„é”®å€¼å¦‚ä¸‹æ‰€ç¤ºï¼Œå…ˆè¾“å…¥éœ€è¦å½•å…¥çš„å•è¯ï¼Œç´§æ¥ç€æ‰§è¡Œå¯¹åº”çš„æ“ä½œå³å¯ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># &#123;pyautogui.typewriteï¼Œ pyautogui.press&#125;</span></span><br><span class="line"></span><br><span class="line">tac = &#123;</span><br><span class="line">    <span class="string">&#x27;admin&#x27;</span>:<span class="string">&#x27;tab&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;Admin@2022&#x27;</span>:<span class="string">&#x27;enter&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">wiki = &#123;</span><br><span class="line">    <span class="string">&#x27;admin&#x27;</span>:<span class="string">&#x27;tab&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;Admin@2022&#x27;</span>:<span class="string">&#x27;enter&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="éå†è¾“å…¥é˜Ÿåˆ—"><a href="#éå†è¾“å…¥é˜Ÿåˆ—" class="headerlink" title="éå†è¾“å…¥é˜Ÿåˆ—"></a>éå†è¾“å…¥é˜Ÿåˆ—</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> key <span class="keyword">in</span> tac:</span><br><span class="line">    <span class="built_in">print</span>(key, <span class="string">&quot;:&quot;</span>, tac[key])</span><br><span class="line">    pyautogui.typewrite(key, interval=interval)</span><br><span class="line">    pyautogui.press(tac[key], interval=interval)</span><br></pre></td></tr></table></figure><h3 id="å®Œæ•´ä»£ç "><a href="#å®Œæ•´ä»£ç " class="headerlink" title="å®Œæ•´ä»£ç "></a>å®Œæ•´ä»£ç </h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">python -m PyInstaller -F -w  -n auto_input ./auto_input.py</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="keyword">import</span> pathlib</span><br><span class="line"><span class="keyword">import</span> pyautogui</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ§åˆ¶é€Ÿåº¦</span></span><br><span class="line">interval = <span class="number">0.05</span></span><br><span class="line"></span><br><span class="line">tac = &#123;</span><br><span class="line">    <span class="string">&#x27;admin&#x27;</span>:<span class="string">&#x27;tab&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;Admin@2022&#x27;</span>:<span class="string">&#x27;enter&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">wiki = &#123;</span><br><span class="line">    <span class="string">&#x27;admin&#x27;</span>:<span class="string">&#x27;tab&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;Admin@2022&#x27;</span>:<span class="string">&#x27;enter&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">text_alert = <span class="string">&quot;&quot;&quot;å¼€å§‹å‰è¯·ç¡®ä¿å®Œæˆä»¥ä¸‹æ“ä½œ</span></span><br><span class="line"><span class="string">    1. è¯·åˆ‡æ¢ä¸ºè‹±æ–‡è¾“å…¥æ³•</span></span><br><span class="line"><span class="string">    2. è¯·æ‰“å¼€è¾“å…¥ç•Œé¢</span></span><br><span class="line"><span class="string">    3. å°†å…‰æ ‡æ”¾è‡³å¼€å§‹è¾“å…¥çš„ä½ç½®</span></span><br><span class="line"><span class="string">    4. é€‰æ‹©è¦è¾“å…¥çš„ä»£ç </span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>():</span><br><span class="line">    <span class="keyword">global</span> codes</span><br><span class="line">    option = pyautogui.confirm(text=text_alert, title=<span class="string">&#x27;è‡ªåŠ¨è¾“å…¥å°å·¥å…·&#x27;</span>, buttons=[<span class="string">&#x27;tac&#x27;</span>,<span class="string">&#x27;wiki&#x27;</span>])</span><br><span class="line">    <span class="keyword">if</span> option == <span class="string">&#x27;tac&#x27;</span>:</span><br><span class="line">        <span class="keyword">for</span> key <span class="keyword">in</span> tac:</span><br><span class="line">            <span class="built_in">print</span>(key, <span class="string">&quot;:&quot;</span>, tac[key])</span><br><span class="line">            pyautogui.typewrite(key, interval=interval)</span><br><span class="line">            pyautogui.press(tac[key], interval=interval)</span><br><span class="line">    <span class="keyword">elif</span> option == <span class="string">&#x27;wiki&#x27;</span>:</span><br><span class="line">        <span class="keyword">for</span> key <span class="keyword">in</span> tac:</span><br><span class="line">            <span class="built_in">print</span>(key, <span class="string">&quot;:&quot;</span>, wiki[key])</span><br><span class="line">            pyautogui.typewrite(key, interval=interval)</span><br><span class="line">            pyautogui.press(wiki[key], interval=interval)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    main()</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="webç½‘ç«™ä½¿ç”¨æ²¹çŒ´è„šæœ¬å®ç°è‡ªåŠ¨ç™»å½•"><a href="#webç½‘ç«™ä½¿ç”¨æ²¹çŒ´è„šæœ¬å®ç°è‡ªåŠ¨ç™»å½•" class="headerlink" title="webç½‘ç«™ä½¿ç”¨æ²¹çŒ´è„šæœ¬å®ç°è‡ªåŠ¨ç™»å½•"></a><a id="æ²¹çŒ´"></a>webç½‘ç«™ä½¿ç”¨æ²¹çŒ´è„šæœ¬å®ç°è‡ªåŠ¨ç™»å½•</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ==UserScript==</span></span><br><span class="line"><span class="comment">// @name         é›¶ä¿¡ä»»TACä¸€é”®ç™»å½•</span></span><br><span class="line"><span class="comment">// @namespace    http://tampermonkey.net/</span></span><br><span class="line"><span class="comment">// @version      0.1</span></span><br><span class="line"><span class="comment">// @description  try to take over the world!</span></span><br><span class="line"><span class="comment">// @author       BladeHiker</span></span><br><span class="line"><span class="comment">// @match        https://*/admin/*</span></span><br><span class="line"><span class="comment">// @match        https://*/tap/admin/*</span></span><br><span class="line"><span class="comment">// @icon         https://www.google.com/s2/favicons?sz=64&amp;domain=57.171</span></span><br><span class="line"><span class="comment">// @grant        none</span></span><br><span class="line"><span class="comment">// ==/UserScript==</span></span><br><span class="line"></span><br><span class="line">(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="string">&#x27;use strict&#x27;</span>;</span><br><span class="line">    <span class="variable language_">window</span>.<span class="property">onload</span> = <span class="function">() =&gt;</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">setInterval</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(<span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">pathname</span>==<span class="string">&#x27;/admin/login&#x27;</span>)&#123;</span><br><span class="line">                <span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">                    <span class="variable language_">document</span>.<span class="title function_">getElementsByName</span>(<span class="string">&quot;username&quot;</span>)[<span class="number">0</span>].<span class="property">value</span> = <span class="string">&#x27;admin&#x27;</span>;</span><br><span class="line">                    <span class="variable language_">document</span>.<span class="title function_">getElementsByName</span>(<span class="string">&quot;password&quot;</span>)[<span class="number">0</span>].<span class="property">value</span> = <span class="string">&#x27;Admin@2022&#x27;</span>;</span><br><span class="line">                    <span class="variable language_">document</span>.<span class="title function_">getElementsByName</span>(<span class="string">&quot;username&quot;</span>)[<span class="number">0</span>].<span class="title function_">dispatchEvent</span>(<span class="keyword">new</span> <span class="title class_">InputEvent</span>(<span class="string">&quot;input&quot;</span>))</span><br><span class="line">                    <span class="variable language_">document</span>.<span class="title function_">getElementsByName</span>(<span class="string">&quot;password&quot;</span>)[<span class="number">0</span>].<span class="title function_">dispatchEvent</span>(<span class="keyword">new</span> <span class="title class_">InputEvent</span>(<span class="string">&quot;input&quot;</span>))</span><br><span class="line">                    <span class="variable language_">document</span>.<span class="title function_">getElementsByTagName</span>(<span class="string">&quot;button&quot;</span>)[<span class="number">0</span>].<span class="title function_">click</span>()</span><br><span class="line">                &#125;,<span class="number">200</span>)</span><br><span class="line">            &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(<span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">pathname</span>==<span class="string">&#x27;/tap/admin/dist/login&#x27;</span>)&#123;</span><br><span class="line">            <span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">                    <span class="variable language_">document</span>.<span class="title function_">getElementsByName</span>(<span class="string">&quot;username&quot;</span>)[<span class="number">0</span>].<span class="property">value</span> = <span class="string">&#x27;admin&#x27;</span>;</span><br><span class="line">                    <span class="variable language_">document</span>.<span class="title function_">getElementsByName</span>(<span class="string">&quot;password&quot;</span>)[<span class="number">0</span>].<span class="property">value</span> = <span class="string">&#x27;admin@1234&#x27;</span>;</span><br><span class="line">                    <span class="variable language_">document</span>.<span class="title function_">getElementsByName</span>(<span class="string">&quot;username&quot;</span>)[<span class="number">0</span>].<span class="title function_">dispatchEvent</span>(<span class="keyword">new</span> <span class="title class_">InputEvent</span>(<span class="string">&quot;input&quot;</span>))</span><br><span class="line">                    <span class="variable language_">document</span>.<span class="title function_">getElementsByName</span>(<span class="string">&quot;password&quot;</span>)[<span class="number">0</span>].<span class="title function_">dispatchEvent</span>(<span class="keyword">new</span> <span class="title class_">InputEvent</span>(<span class="string">&quot;input&quot;</span>))</span><br><span class="line">                    <span class="variable language_">document</span>.<span class="title function_">getElementsByTagName</span>(<span class="string">&quot;button&quot;</span>)[<span class="number">0</span>].<span class="title function_">click</span>()</span><br><span class="line">                &#125;,<span class="number">200</span>)</span><br><span class="line"></span><br><span class="line">        &#125;&#125;,<span class="number">1000</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// Your code here...</span></span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€ç®¡é“ã€‘ï¼ˆä¸€ï¼‰ åˆè¯†ç®¡é“</title>
      <link href="/Code/IPC/%E5%88%9D%E8%AF%86%E7%AE%A1%E9%81%93/"/>
      <url>/Code/IPC/%E5%88%9D%E8%AF%86%E7%AE%A1%E9%81%93/</url>
      
        <content type="html"><![CDATA[<p>[toc]</p><p>è‡ªå·±çš„ç†è§£ï¼Œ</p><p>é¦–å…ˆè¦åŒºåˆ†æ¦‚å¿µï¼šç®¡é“å’Œç®¡é“é€šä¿¡</p><p>æ‰€è°“â€œç®¡é“â€ï¼Œæ˜¯æŒ‡ç”¨äºè¿æ¥ä¸€ä¸ªè¯»è¿›ç¨‹å’Œä¸€ä¸ªå†™è¿›ç¨‹ä»¥å®ç°å®ƒä»¬ä¹‹é—´é€šä¿¡çš„ä¸€ä¸ªå…±äº«æ–‡ä»¶ï¼Œåˆåpipeæ–‡ä»¶ ï¼ˆæ˜¯ä¸€ç§ç‰¹æ®Šçš„æ–‡ä»¶ï¼Œè¿™å°±æ„å‘³ç€ä½ å¯ä»¥å‘æ“ä½œæ–‡ä»¶ä¸€æ ·æ“ä½œæ— åç®¡é“ï¼Œæ— åç®¡é“åœ¨å†…æ ¸ä¸­å¯¹åº”çš„æ˜¯ä¸€æ®µç‰¹æ®Šçš„å†…å­˜ç©ºé—´ï¼Œè¿™æ®µå†…å­˜ç©ºé—´ç”±æ“ä½œç³»ç»Ÿè¿›è¡Œç®¡ç†ï¼Œå¯¹ç”¨æˆ·æ˜¯ä¸å¯è§çš„ï¼Œåœ¨ç”¨æˆ·ç©ºé—´çš„åº”ç”¨ç¨‹åºä¸­åªèƒ½é€šè¿‡ç³»ç»Ÿè°ƒç”¨æ¥è®¿é—®å®ƒã€‚åœ¨è¿™æ®µå†…å­˜ç©ºé—´ä¸­ä»¥å¾ªç¯é˜Ÿåˆ—çš„æ–¹å¼æ¥ä¸´æ—¶å­˜å‚¨ä¸€ä¸ªè¿›ç¨‹å‘å¾€å¦å¤–ä¸€ä¸ªè¿›ç¨‹çš„ä¿¡æ¯ï¼Œå¹¶ä¸”åœ¨é€šä¿¡å®Œæˆåå°±ä¼šè‡ªåŠ¨é‡Šæ”¾ç›¸åº”çš„ç©ºé—´ã€‚ï¼‰</p><p>è€Œç®¡é“é€šä¿¡æ˜¯æ¶ˆæ¯ä¼ é€’çš„ä¸€ç§ç‰¹æ®Šæ–¹å¼ã€‚</p><p>å³ç®¡é“æ˜¯æ–‡ä»¶ï¼Œæ˜¯æœåŠ¡äºç®¡é“é€šä¿¡çš„ç‰¹æ®Šæ–‡ä»¶ï¼Œè€Œç®¡é“é€šä¿¡æ˜¯ä¸€ç§é€šä¿¡æ–¹å¼ï¼Œè¿™ç§é€šä¿¡æ–¹å¼æ¯”è¾ƒç‰¹æ®Šï¼Œæ˜¯åŠåŒå·¥çš„é€šä¿¡æ–¹å¼ï¼Œå³æ•°æ®åªèƒ½å•å‘æµåŠ¨ï¼Œæ•°æ®ä¼ é€’çš„æ–¹å¼æ˜¯å­—ç¬¦æµå½¢å¼ï¼Œå®ƒä¸€èˆ¬æ˜¯åº”ç”¨åœ¨å…·æœ‰å…±åŒç¥–å…ˆçš„è¿›ç¨‹é—´ä½¿ç”¨ã€‚</p><ol><li><p>ç®¡é“é€šä¿¡æ˜¯ä»€ä¹ˆï¼Ÿ      </p><p>ç”¨äºè¿›ç¨‹ä¹‹é—´é€šä¿¡çš„ä¸€ç§é€šä¿¡æ–¹å¼ã€‚</p></li><li><p>ç®¡é“é€šä¿¡æœ‰å“ªäº›ç‰¹ç‚¹ï¼Ÿ</p><p>åŠåŒå·¥çš„é€šä¿¡æ–¹å¼ï¼Œæ•°æ®åªèƒ½å•å‘æµåŠ¨ï¼Œæ•°æ®ä¼ é€’çš„æ–¹å¼æ˜¯å­—ç¬¦æµå½¢å¼ã€‚</p></li><li><p>ç®¡é“é€šä¿¡çš„åº”ç”¨åœºåˆï¼Ÿ</p><p>å…·æœ‰å…±åŒç¥–å…ˆçš„è¿›ç¨‹é—´ä½¿ç”¨ã€‚</p></li></ol><h1 id="1ã€ä»€ä¹ˆæ˜¯ç®¡é“"><a href="#1ã€ä»€ä¹ˆæ˜¯ç®¡é“" class="headerlink" title="1ã€ä»€ä¹ˆæ˜¯ç®¡é“"></a>1ã€ä»€ä¹ˆæ˜¯ç®¡é“</h1><p>ç®¡é“ï¼š<br>â€”å°±åƒç°å®ä¸­çš„æ°´ç®¡ï¼Œæ°´å°±åƒæ•°æ®ã€‚ï¼ˆè¿æ¥è¿›ç¨‹ï¼Œç›¸å½“äºåœ¨è¿›ç¨‹é—´è¿æ¥ä¸€ä¸ªé€šè·¯ï¼Œç”¨æ¥ä¼ é€’ä¿¡æ¯ï¼‰<br>â€”ç®¡é“æ˜¯ä¸€ç§åŠåŒå·¥çš„é€šä¿¡æ–¹å¼<br>â€”æ•°æ®åªèƒ½å•å‘æµåŠ¨ï¼Œè€Œä¸”åªèƒ½åœ¨å…·æœ‰å…±åŒç¥–å…ˆçš„è¿›ç¨‹é—´ä½¿ç”¨ã€‚</p><p>æ‰€è°“åŠåŒå·¥çš„æ¨¡å¼</p><p>ï¼ˆå‡è®¾é€šä¿¡åŒæ–¹æ˜¯ç”²æ–¹å’Œä¹™æ–¹ï¼ŒåŒå·¥é€šä¿¡æ–¹å¼çš„æ„æ€æ˜¯ç”²å¯ä»¥å‘ä¹™å‘é€æ•°æ®ï¼Œä¹™ä¹Ÿå¯ä»¥å‘ç”²å‘é€æ•°æ®ï¼Œå³æ•°æ®æµé€šæ˜¯åŒå‘çš„ã€‚è€ŒåŠåŒå·¥çš„é€šä¿¡æ–¹å¼æ˜¯æŒ‡ç”²ä¹™ä¸¤æ–¹ä¸èƒ½åŒæ—¶å‘å¯¹æ–¹å‘é€æ•°æ®ï¼Œä¹Ÿå°±æ˜¯ç”²å‘ä¹™å‘é€æ•°æ®æ—¶ï¼Œä¹™åªèƒ½æ¥æ”¶ä¸èƒ½å‘é€ï¼Œè€Œä¹™å‘ç”²å‘é€æ•°æ®æ—¶ï¼Œç”²åªèƒ½æ¥æ”¶ä¸èƒ½å‘ä¹™å‘é€æ•°æ®ï¼‰</p><p>ä¸¾ä¸ªä¾‹å­ï¼š<br>å½¢è±¡æ¥è¯´ç±»ä¼¼ä¸€ä¸ªå•åˆ€åŒæ·å¼€å…³ï¼Œæœ‰ä¸¤ä¸ªé€‰æ‹©ï¼Œä½†æ˜¯äºŒè€…æ˜¯äº’æ–¥çš„ï¼Œå½“é€‰æ‹©äº†ä¸€æ–¹å¦ä¸€æ–¹å°±å¤±æ•ˆã€‚<br>è€Œå¯¹äºæ­¤å¤„çš„ç®¡é“ï¼Œå¯ä»¥æŠŠå®ƒæƒ³æˆæ˜¯ç®¡é“çš„ä¸€ç«¯ï¼Œä¸€æ¬¡åªèƒ½è°ƒç”¨ä¸€ç§åŠŸèƒ½è¯»å…¥æˆ–è€…å†™å…¥ï¼ŒäºŒè€…ä¹Ÿæ˜¯äº’æ–¥çš„ã€‚</p><p>ç®¡é“é€šä¿¡æ˜¯æ¶ˆæ¯ä¼ é€’çš„ä¸€ç§ç‰¹æ®Šæ–¹å¼ï¼Œç®¡é“æœºåˆ¶å¿…é¡»æä¾›ä»¥ä¸‹ä¸‰æ–¹é¢çš„åè°ƒèƒ½åŠ›ï¼šäº’æ–¥ã€åŒæ­¥å’Œç¡®å®šå¯¹æ–¹çš„å­˜åœ¨ã€‚</p><h1 id="2ã€ä¸ºä»€ä¹ˆè¦æœ‰ç®¡é“"><a href="#2ã€ä¸ºä»€ä¹ˆè¦æœ‰ç®¡é“" class="headerlink" title="2ã€ä¸ºä»€ä¹ˆè¦æœ‰ç®¡é“"></a>2ã€ä¸ºä»€ä¹ˆè¦æœ‰ç®¡é“</h1><p>åœ¨ä¸€ä¸ªå¤šè¿›ç¨‹æ“ä½œç³»ç»Ÿæ‰€æä¾›çš„è¿è¡Œç¯å¢ƒä¸‹ï¼Œå¯ä»¥é€šè¿‡ä¸¤ç§ä¸åŒçš„é€”å¾„æˆ–è€…è¯´é‡‡ç”¨ä¸¤ç§ä¸åŒçš„ç­–ç•¥ï¼Œæ¥å»ºç«‹èµ·å¤æ‚çš„å¤§å‹åº”ç”¨ç³»ç»Ÿã€‚ä¸€ç§é€”å¾„å°±æ˜¯é€šè¿‡ä¸€ä¸ªå­¤ç«‹çš„,å¤§å‹çš„ï¼Œå¤æ‚çš„è¿›ç¨‹æä¾›æ‰€éœ€çš„å…¨éƒ¨æœåŠ¡ï¼Œå¦å¤–ä¸€ç§é€”å¾„å°±æ˜¯é€šè¿‡ç”±è‹¥å¹²ç›¸äº’è”ç³»çš„ï¼Œå°å‹çš„ã€‚ç›¸å¯¹ç®€å•çš„è¿›ç¨‹æ„æˆçš„ç»„åˆæ¥æä¾›æ‰€éœ€çš„åŠŸèƒ½ã€‚æ—©æœŸçš„æ“ä½œç³»ç»Ÿå¾€å¾€å€¾å‘ä¸å‰è€…ï¼Œè€ŒUnixä»¥åŠå…¶è¡ç”Ÿçš„å„ç§æ“ä½œç³»ç»Ÿå¾€å¾€å€¾å‘äºåè€…ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œåè€…æœ‰ç€å„ç§å¥½å¤„ï¼š1.æ¨¡å—åŒ–ï¼Œ2.å„ä¸ªè¿›ç¨‹éƒ½å¾—åˆ°ä¿æŠ¤ï¼Œåœ¨ç›¸å½“ç¨‹åº¦ä¸Šæ’é™¤äº†ç›¸äº’å¹²æ‰°çš„å¯èƒ½æ€§ï¼Œ3.çµæ´»æ€§æ›´å¼ºã€‚<br>å½“ç„¶è¿™ç§å¥½å¤„ä¹Ÿæ˜¯è¦ä»˜å‡ºä»£ä»·çš„ï¼Œä¹Ÿæœ‰ç¼ºç‚¹ï¼Œä½†æ˜¯ç›¸æ¯”ä¹‹ä¸‹ï¼Œè¿™ç§é€”å¾„çš„ä¼˜ç‚¹è¿œè¿œè¶…å‡ºäº†å…¶ç¼ºç‚¹ã€‚<br>Unixï¼ˆä»è€ŒLinuxï¼‰å‘åº”ç”¨è½¯ä»¶æä¾›äº†ä¸€äº›è¿›ç¨‹é—´é€šä¿¡çš„æ‰‹æ®µï¼Œæ—©æœŸçš„Unixæä¾›äº†ï¼šç®¡é“ï¼ˆpipeï¼‰ï¼Œä¿¡ï¼ˆsignalï¼‰ï¼Œè·Ÿè¸ªï¼ˆtraceï¼‰ã€‚</p><p>è¿›ç¨‹ä¹‹é—´çš„é€šä¿¡ï¼Œä»ç‰©ç†ä¸Šåˆ†ï¼Œå¯ä»¥åˆ†ä¸ºåŒä¸»æœºçš„è¿›ç¨‹ä¹‹é—´çš„é€šä¿¡å’Œä¸åŒä¸»æœºé—´çš„è¿›ç¨‹ä¹‹é—´çš„é€šä¿¡ã€‚ä»é€šä¿¡å†…å®¹æ–¹å¼ä¸Šåˆ†ï¼Œå¯ä»¥åˆ†ä¸ºæ•°æ®äº¤äº’ã€åŒæ­¥é€šä¿¡ã€å¼‚æ­¥é€šä¿¡ã€‚</p><p><a href="http://www.2cto.com/os/linux/">Linux æ•™ç¨‹</a></p><p>ç³»ç»Ÿè¿›ç¨‹ä¹‹é—´çš„é€šä¿¡æ–¹å¼å¤§è‡´å¦‚ä¸‹å›¾æ‰€ç¤º</p><div class="tag-plugin image"><div class="image-bg"><img src="images/%E5%88%9D%E8%AF%86%E7%AE%A1%E9%81%93/Linux-ipc.png"/></div></div><p>é›†åˆä¸Šè¿°ä¸¤ç§ä»ç‰©ç†å’Œå†…å®¹æ–¹å¼çš„åˆ’åˆ†ï¼Œå¯ä»¥è¿™æ ·ç†è§£ä¸Šå›¾ï¼š</p><p>ï¼ˆ1ï¼‰åŒä¸»æœºè¿›ç¨‹é—´æ•°æ®äº¤äº’æœºåˆ¶ï¼šæ— åç®¡é“ï¼ˆPIPEï¼‰ã€æœ‰åç®¡é“ï¼ˆFIFOï¼‰ã€æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆMessage Queueï¼‰å’Œå…±äº«<a href="https://so.csdn.net/so/search?q=%E5%86%85%E5%AD%98&spm=1001.2101.3001.7020">å†…å­˜</a>ï¼ˆShared Memoryï¼‰ã€‚</p><p>ï¼ˆ2ï¼‰åŒä¸»æœºè¿›ç¨‹é—´åŒæ­¥é€šä¿¡æœºåˆ¶ï¼šä¿¡å·é‡ï¼ˆSemaphoreï¼‰ã€‚</p><p>ï¼ˆ3ï¼‰åŒä¸»æœºè¿›ç¨‹é—´å¼‚æ­¥é€šä¿¡æœºåˆ¶ï¼šä¿¡å·ï¼ˆSignalï¼‰ã€‚</p><p>ï¼ˆ4ï¼‰ä¸åŒä¸»æœºé—´è¿›ç¨‹æ•°æ®äº¤äº’æœºåˆ¶ï¼šå¥—æ¥å­—ï¼ˆSocketï¼‰ã€è¿œç¨‹è°ƒç”¨RPCï¼ˆRemote Procedure Callï¼‰ã€‚</p><p><strong>ç®¡é“é€šä¿¡</strong></p><p>ç®¡é“åˆå¯ä»¥åˆ†ä¸º<strong>æ— åç®¡é“</strong>å’Œ<strong>å‘½åç®¡é“</strong>ï¼Œä¸¤è€…çš„ç”¨é€”æ˜¯ä¸ä¸€æ ·çš„ã€‚</p><p>æ— åç®¡é“PIPEï¼šä¸»è¦ç”¨äºå…·æœ‰äº²ç¼˜å…³ç³»çš„è¿›ç¨‹ä¹‹é—´çš„é€šä¿¡ï¼Œæ— åç®¡é“çš„é€šä¿¡æ˜¯å•å‘çš„ï¼Œåªèƒ½ç”±ä¸€æ®µåˆ°å¦å¤–ä¸€æ®µï¼›æ— åç®¡é“æ˜¯ä¸´æ—¶æ€§çš„ï¼Œå®Œæˆé€šä¿¡åå°†è‡ªåŠ¨æ¶ˆå¤±ã€‚ä¸€èˆ¬é‡‡ç”¨å…ˆåˆ›å»ºæ— åç®¡é“ï¼Œå†åˆ›å»ºå­è¿›ç¨‹ï¼Œä½¿å­è¿›ç¨‹ç»§æ‰¿çˆ¶è¿›ç¨‹çš„ç®¡é“æ–‡ä»¶æè¿°ç¬¦ï¼Œä»è€Œå®ç°çˆ¶å­è¿›ç¨‹é—´çš„é€šä¿¡ï¼›åœ¨éäº²ç¼˜å…³ç³»ç®¡é“ä¹‹é—´ï¼Œå¦‚æœæƒ³åˆ©ç”¨æ— åç®¡é“è¿›è¡Œé€šä¿¡ï¼Œåˆ™éœ€è¦å€ŸåŠ©å¦å¤–çš„æ–‡ä»¶æè¿°ç¬¦ä¼ é€’æœºåˆ¶ã€‚</p><p>æœ‰åç®¡é“FIFOï¼šæœ‰åç®¡é“æ˜¯ä¸€ä¸ªå®é™…å­˜åœ¨çš„ç‰¹æ®Šæ–‡ä»¶ï¼Œåˆ©ç”¨æœ‰åç®¡é“å¯ä»¥å®ç°åŒä¸»æœºä»»æ„è¿›ç¨‹ä¹‹é—´çš„æ•°æ®äº¤äº’ã€‚</p><p>æ— åç®¡é“æ˜¯ä¸€ç§ç‰¹æ®Šçš„æ–‡ä»¶ï¼Œè¿™å°±æ„å‘³ç€ä½ å¯ä»¥å‘æ“ä½œæ–‡ä»¶ä¸€æ ·æ“ä½œæ— åç®¡é“ï¼Œæ— åç®¡é“åœ¨å†…æ ¸ä¸­å¯¹åº”çš„æ˜¯ä¸€æ®µç‰¹æ®Šçš„å†…å­˜ç©ºé—´ï¼Œè¿™æ®µå†…å­˜ç©ºé—´ç”±æ“ä½œç³»ç»Ÿè¿›è¡Œç®¡ç†ï¼Œå¯¹ç”¨æˆ·æ˜¯ä¸å¯è§çš„ï¼Œåœ¨ç”¨æˆ·ç©ºé—´çš„åº”ç”¨ç¨‹åºä¸­åªèƒ½é€šè¿‡ç³»ç»Ÿè°ƒç”¨æ¥è®¿é—®å®ƒã€‚åœ¨è¿™æ®µå†…å­˜ç©ºé—´ä¸­ä»¥å¾ªç¯é˜Ÿåˆ—çš„æ–¹å¼æ¥ä¸´æ—¶å­˜å‚¨ä¸€ä¸ªè¿›ç¨‹å‘å¾€å¦å¤–ä¸€ä¸ªè¿›ç¨‹çš„ä¿¡æ¯ï¼Œå¹¶ä¸”åœ¨é€šä¿¡å®Œæˆåå°±ä¼šè‡ªåŠ¨é‡Šæ”¾ç›¸åº”çš„ç©ºé—´ã€‚</p><p>å³æ— åç®¡é“ä¸»è¦ç”¨äºå…·æœ‰äº²ç¼˜å…³ç³»çš„çˆ¶å­è¿›ç¨‹ä¹‹é—´çš„é€šä¿¡ï¼Œæ˜¯ä¸´æ—¶æ€§çš„ï¼Œéœ€è¦å…ˆåˆ›å»ºç®¡é“ï¼Œå†åˆ›å»ºå­è¿›ç¨‹ï¼›ç®¡é“éƒ½æ˜¯å•å‘çš„ï¼Œè‹¥è¦å®ç°åŒå‘é€šä¿¡ï¼Œåˆ™éœ€è¦ä¸¤ä¸ªç®¡é“ã€‚å‘½åç®¡é“æ˜¯å®é™…å­˜åœ¨çš„æ–‡ä»¶ï¼Œä½¿ç”¨å‰éœ€è¦å…ˆæ‰“å¼€ï¼Œç®¡é“é»˜è®¤çš„readå’Œwriteæ“ä½œéƒ½æ˜¯é˜»å¡å¼çš„ã€‚</p><h1 id="3ã€å¦‚ä½•å»ºç«‹è¿›ç¨‹é—´ç®¡é“ï¼Ÿ"><a href="#3ã€å¦‚ä½•å»ºç«‹è¿›ç¨‹é—´ç®¡é“ï¼Ÿ" class="headerlink" title="3ã€å¦‚ä½•å»ºç«‹è¿›ç¨‹é—´ç®¡é“ï¼Ÿ"></a>3ã€å¦‚ä½•å»ºç«‹è¿›ç¨‹é—´ç®¡é“ï¼Ÿ</h1><p>è¿™é‡Œæˆ‘ä»¬åªè°ˆç®¡é“ï¼šçˆ¶è¿›ç¨‹ä¸å­è¿›ç¨‹ï¼Œæˆ–è€…ä¸¤ä¸ªå…„å¼Ÿè¿›ç¨‹ä¹‹é—´ï¼Œå¯ä»¥é€šè¿‡ç³»ç»Ÿè°ƒç”¨å»ºç«‹èµ·ä¸€ä¸ªå•å‘çš„é€šä¿¡ç®¡é“ã€‚ä½†æ˜¯ï¼Œè¿™ç§ç®¡é“åªèƒ½ç”±çˆ¶è¿›ç¨‹æ¥å»ºç«‹ï¼Œæ‰€ä»¥å¯¹äºå­è¿›ç¨‹æ¥è¯´æ˜¯é™æ€çš„ï¼Œä¸ç”Ÿä¿±æ¥çš„ã€‚ç®¡é“ä¸¤ç«¯çš„è¿›ç¨‹å„è‡ªå°†è¯¥ç®¡é“è§†ä½œä¸€ä¸ªæ–‡ä»¶ã€‚ä¸€ä¸ªè¿›ç¨‹å¾€é€šé“ä¸­å†™çš„å†…å®¹ç”±å¦ä¸€ä¸ªè¿›ç¨‹ä»é€šé“è¯»å‡ºï¼Œé€šè¿‡é€šé“ä¼ é€’çš„å†…å®¹éµå¾ªâ€œå…ˆå…¥å…ˆå‡ºâ€ï¼ˆFIFOï¼‰çš„è§„åˆ™ã€‚æ¯ä¸ªé€šé“éƒ½æ˜¯å•å‘çš„ï¼Œéœ€è¦åŒå‘é€šä¿¡æ—¶è¦å»ºç«‹èµ·ä¸¤ä¸ªé€šé“ã€‚</p><p>ä¸‹é¢è¯´ä¸€è¯´è¿›ç¨‹é—´ç®¡é“çš„å»ºç«‹ï¼Œåœ¨è¿™ä¹‹å‰æˆ‘ä»¬è¦è¯´åˆ°fork()å‡½æ•°ï¼Œåœ¨Linuxç³»ç»Ÿä¸­ä¸€ä¸ªæ–°çš„è¿›ç¨‹æ˜¯ç”±ä¸€ä¸ªå·²ç»å­˜åœ¨çš„è¿›ç¨‹â€œå¤åˆ¶â€å‡ºæ¥çš„ï¼Œè€Œä¸æ˜¯â€œåˆ›é€ â€å‡ºæ¥çš„ï¼ˆè€Œæ‰€è°“çš„â€œåˆ›å»ºâ€å®é™…ä¸Šå°±æ˜¯å¤åˆ¶ï¼‰ã€‚<br>ç®¡é“æœºåˆ¶çš„ä¸»ä½“æ˜¯ç³»ç»Ÿè°ƒç”¨pipe()ï¼Œä½†æ˜¯ç”±pipeï¼ˆï¼‰æ‰€å»ºç«‹çš„ç®¡é“çš„ä¸¤ç«¯éƒ½åœ¨åŒä¸€ä¸ªè¿›ç¨‹ä¸­ï¼Œè¿™æ ·çš„ç®¡é“èµ·ä¸åˆ°è¿›ç¨‹é—´é€šä¿¡çš„ä½œç”¨ã€‚æ‰€ä»¥å¿…é¡»åœ¨forkï¼ˆï¼‰çš„é…åˆä¸‹ï¼Œæ‰èƒ½åœ¨çˆ¶å­è¿›ç¨‹é—´æˆ–è€…ä¸¤ä¸ªå­è¿›ç¨‹ä¹‹é—´å»ºç«‹èµ·è¿›ç¨‹é—´çš„é€šä¿¡ç®¡é“ã€‚</p><p>ä¸‹é¢å°±ä»‹ç»ä¸€ä¸‹æ€æ ·å°†ç®¡é“ç”¨äºè¿›ç¨‹é—´é€šä¿¡ï¼š<br>ï¼ˆ1ï¼‰è¿›ç¨‹Aåˆ›å»ºäº†ä¸€ä¸ªç®¡é“ï¼Œåˆ›å»ºå®Œæˆæ—¶ä»£è¡¨ç®¡é“ä¸¤ç«¯çš„ä¸¤ä¸ªå·²æ‰“å¼€æ–‡ä»¶éƒ½åœ¨è¿›ç¨‹Aä¸­ã€‚</p><p>(2)è¿›ç¨‹Aé€šè¿‡frokï¼ˆï¼‰åˆ›å»ºå‡ºè¿›ç¨‹Bï¼Œåœ¨forkï¼ˆï¼‰çš„è¿‡ç¨‹ä¸­è¿›ç¨‹Açš„æ‰“å¼€æ–‡ä»¶è¡¨æŒ‰åŸæ ·å¤åˆ¶åˆ°è¿›ç¨‹Bä¸­ã€‚</p><p>(3)è¿›ç¨‹Aå…³é—­ç®¡é“çš„è¯»ç«¯ï¼Œè€Œè¿›ç¨‹Bå…³é—­ç®¡é“çš„å†™æ®µã€‚äºæ˜¯ï¼Œç®¡é“çš„å†™æ®µåœ¨è¿›ç¨‹Aä¸­è€Œè¯»ç«¯åœ¨è¿›ç¨‹Bä¸­ï¼Œæˆä¸ºäº†çˆ¶å­è¿›ç¨‹ä¹‹é—´çš„é€šä¿¡ç®¡é“ã€‚</p><p>(4)è¿›ç¨‹Aåˆé€šè¿‡frokï¼ˆï¼‰åˆ›å»ºè¿›ç¨‹Cï¼Œè€Œåå…³é—­å…¶ç®¡é“å†™æ®µè€Œä¸ç®¡é“è„±ç¦»å…³ç³»ï¼Œä½¿å¾—ç®¡é“çš„å†™æ®µåœ¨è¿›ç¨‹Cä¸­è€Œè¯»ç«¯åœ¨è¿›ç¨‹Bä¸­ï¼Œæˆä¸ºä¸¤ä¸ªå…„å¼Ÿè¿›ç¨‹ä¹‹é—´çš„ç®¡é“ã€‚</p><p>äººä»¬åœ¨è®¤è¯†åˆ°ç®¡é“æœºåˆ¶ä¹Ÿå­˜åœ¨ä¸€äº›ç¼ºç‚¹å’Œä¸è¶³ã€‚ç”±äºç®¡é“æ˜¯ä¸€ç§â€œæ— åâ€ï¼Œâ€œæ— å½¢â€çš„æ–‡ä»¶ï¼Œå®ƒå¯ä»¥é€šè¿‡forkï¼ˆï¼‰çš„è¿‡ç¨‹åˆ›å»ºäºâ€œè¿‘äº²â€ çš„è¿›ç¨‹ä¹‹é—´ï¼Œè€Œä¸èƒ½æˆä¸ºå¯ä»¥åœ¨ä»»æ„ä¸¤ä¸ªè¿›ç¨‹ä¹‹é—´å»ºç«‹é€šä¿¡çš„æœºåˆ¶ï¼Œæ›´ä¸å¯èƒ½æˆä¸ºä¸€ç§ä¸€èˆ¬çš„ï¼Œé€šç”¨çš„è¿›ç¨‹é—´é€šä¿¡æ¨¡å‹ï¼ŒåŒæ—¶ï¼Œç®¡é“æœºåˆ¶çš„è¿™ç§ç¼ºç‚¹æœ¬èº«å¼ºçƒˆçš„æš—ç¤ºç€äººä»¬ï¼Œåªè¦ç”¨â€œæœ‰åâ€ï¼Œâ€œæœ‰å½¢â€çš„æ–‡ä»¶æ¥å®ç°ç®¡é“ï¼Œå°±èƒ½å…‹æœè¿™ç§ç¼ºç‚¹ã€‚æ‰€ä»¥æœ‰äº†ç®¡é“ä¹‹åï¼Œâ€œå‘½åç®¡é“â€çš„å‡ºç°æ—¶å¿…ç„¶çš„ã€‚<br>ä¸ºäº†å®ç°â€œå‘½åç®¡é“â€ï¼Œåœ¨â€œæ™®é€šæ–‡ä»¶â€ï¼Œâ€œå—è®¾å¤‡æ–‡ä»¶â€ï¼Œâ€œå­—ç¬¦è®¾å¤‡æ–‡ä»¶â€ä¹‹å¤–ï¼Œåˆè®¾ç«‹äº†ä¸€ç§æ–‡ä»¶ç±»å‹ï¼Œç§°ä¸ºFIFOæ–‡ä»¶ã€‚å¯¹è¿™ç§æ–‡ä»¶çš„è®¿é—®ä¸¥æ ¼éµå¾ªâ€œå…ˆè¿›å…ˆå‡ºâ€çš„åŸåˆ™ã€‚è¿™æ ·å°±å¯ä»¥åƒåœ¨ç£ç›˜ä¸Šå»ºç«‹ä¸€ä¸ªæ–‡ä»¶ä¸€æ ·å»ºç«‹ä¸€ä¸ªå‘½åç®¡é“ï¼Œå…·ä½“å¯ä»¥ä½¿ç”¨å‘½ä»¤mknodæ¥å»ºç«‹ã€‚</p><p>å‡½æ•°ä»‹ç»ï¼š<br>Â¢int read(intfd, void *buf, int count);<br>â€”åŠŸèƒ½ï¼šä»å‚æ•°fdæŒ‡å®šçš„è¯»ç«¯è¯»å–ç®¡é“æ•°æ®åˆ°å¤§å°ä¸ºcountçš„ç¼“å­˜bufä¸­ï¼Œè¿”å›å®é™…è¯»å–åˆ°çš„å­—èŠ‚æ•°ã€‚<br>â€”å‚æ•°<br>Â¢fd:ç®¡é“è¯»ç«¯<br>Â¢buf:ç¼“å­˜åŒºï¼Œä¿å­˜è¯»åˆ°çš„æ•°æ®<br>Â¢count:è¯»å–å­—èŠ‚æ•°</p><p>â€¢intwrite(intfd, void *buf, intcount);<br>â€¢åŠŸèƒ½ï¼šå‘å‚æ•°fdæŒ‡å®šçš„å†™ç«¯ä»ç¼“å­˜bufä¸­å–å‡ºcountä¸ªå­—èŠ‚åˆ°ç®¡é“ä¸­ï¼Œè¿”å›å€¼ä¸ºå®é™…å†™å…¥çš„å­—èŠ‚æ•°ã€‚</p><p>â€¢å‚æ•°<br>â€¢fd:ç®¡é“å†™ç«¯<br>â€¢buf:ç¼“å­˜åŒºï¼Œå°†è¦å†™å…¥ç®¡é“çš„æ•°æ®<br>â€¢count:å†™å…¥çš„å­—èŠ‚æ•°</p><p>å‚è€ƒæ¥æºï¼š  <a href="http://blog.csdn.net/followingturing/article/details/6071937">http://blog.csdn.net/followingturing/article/details/6071937</a></p><p>â€‹          <a href="http://c.biancheng.net/cpp/html/2592.html">http://c.biancheng.net/cpp/html/2592.html</a></p><p>â€‹          <a href="http://www.2cto.com/os/201410/343247.html">http://www.2cto.com/os/201410/343247.html</a></p>]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> IPC </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ã€Šæ·±å…¥ç†è§£Windowsæ“ä½œç³»ç»Ÿã€‹ </tag>
            
            <tag> IPC </tag>
            
            <tag> Pipe </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ–‡ä»¶å¤§å°æ¢ç®—æ–¹æ³•</title>
      <link href="/Code/LeetCode/ConvertFileSize/"/>
      <url>/Code/LeetCode/ConvertFileSize/</url>
      
        <content type="html"><![CDATA[<h1 id="æ–‡ä»¶å¤§å°è½¬æ¢æ–¹æ³•"><a href="#æ–‡ä»¶å¤§å°è½¬æ¢æ–¹æ³•" class="headerlink" title="æ–‡ä»¶å¤§å°è½¬æ¢æ–¹æ³•"></a>æ–‡ä»¶å¤§å°è½¬æ¢æ–¹æ³•</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function">string <span class="title">convertSize</span><span class="params">(<span class="type">double</span> size)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    string strSize[<span class="number">6</span>] = &#123; <span class="string">&quot;B&quot;</span>, <span class="string">&quot;KB&quot;</span>, <span class="string">&quot;MB&quot;</span>, <span class="string">&quot;GB&quot;</span>, <span class="string">&quot;TB&quot;</span>, <span class="string">&quot;PB&quot;</span> &#125;;</span><br><span class="line">    </span><br><span class="line">    <span class="type">unsigned</span> <span class="type">int</span> flag = <span class="number">1024</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; _countof(strSize); i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> ((size / flag) &lt; <span class="number">1</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">char</span> strTemp[<span class="number">1024</span>];</span><br><span class="line">            string strRet;</span><br><span class="line">            <span class="built_in">sprintf_s</span>(strTemp, <span class="string">&quot;%.2f&quot;</span>, size);</span><br><span class="line">            <span class="keyword">return</span> strRet.<span class="built_in">append</span>(strTemp).<span class="built_in">append</span>(strSize[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            size = size / flag;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;Hello World!\n&quot;</span>;</span><br><span class="line">    <span class="type">double</span> FlieSize_1 = <span class="number">224945</span>;</span><br><span class="line">    <span class="type">double</span> FlieSize_2 = <span class="number">2249450</span>;</span><br><span class="line">    <span class="type">double</span> FlieSize_3 = <span class="number">2249450000</span>;</span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;FlieSize_1ï¼š&quot;</span> &lt;&lt; <span class="built_in">convertSize</span>(FlieSize_1) &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;FlieSize_2ï¼š&quot;</span> &lt;&lt; <span class="built_in">convertSize</span>(FlieSize_2) &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;FlieSize_3ï¼š&quot;</span> &lt;&lt; <span class="built_in">convertSize</span>(FlieSize_3) &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> LeetCode </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C++ </tag>
            
            <tag> Demo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€ç®¡é“ã€‘ï¼ˆäºŒï¼‰ ç®¡é“é€šä¿¡</title>
      <link href="/Code/IPC/%E4%BD%BF%E7%94%A8%E7%AE%A1%E9%81%93%E9%80%9A%E4%BF%A1/"/>
      <url>/Code/IPC/%E4%BD%BF%E7%94%A8%E7%AE%A1%E9%81%93%E9%80%9A%E4%BF%A1/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æœ¬æ–‡æ‰€è®²ç®¡é“é€šä¿¡ä¸»è¦æ˜¯<B>è¿›ç¨‹é—´</B>ç®¡é“é€šä¿¡ã€‚</p></blockquote><p>[toc]</p><h1 id="ç®¡é“"><a href="#ç®¡é“" class="headerlink" title="ç®¡é“"></a>ç®¡é“</h1><blockquote><p> å‘½åç®¡é“çš„é€šä¿¡æ˜¯åœ¨ä¸€ä¸ªå‘½åç®¡é“æœåŠ¡å™¨å’Œä¸€ä¸ªå‘½åç®¡é“å®¢æˆ·ä¹‹é—´è¿›è¡Œçš„ã€‚å‘½åç®¡é“æœåŠ¡å™¨æ˜¯æŒ‡åˆ›å»ºçˆ±ä½ å‘½åç®¡é“çš„åº”ç”¨ç¨‹åºï¼Œå®¢æˆ·å¯ä»¥è¿æ¥åˆ°å®ƒæ‰€åˆ›å»ºçš„å‘½åç®¡é“ä¸Šã€‚å‘½åç®¡é“çš„ <mark>åç§°çš„æ ¼å¼</mark> æ˜¯ <code>\\Server\pipe\PipeName</code>ã€‚</p><ul><li>åç§°ä¸­çš„<code>Server</code>éƒ¨åˆ†æŒ‡å®šäº†æ­¤å‘½åç®¡é“æœåŠ¡å™¨å½“å‰æ‰§è¡Œæ‰€åœ¨çš„è®¡ç®—æœºï¼ˆ<mark>éœ€è¦æ³¨æ„çš„æ˜¯</mark>ï¼šå‘½åç®¡é“æœåŠ¡å™¨ä¸èƒ½åˆ›å»ºè¿œç¨‹ç³»ç»Ÿä¸Šçš„å‘½åç®¡é“ï¼‰ã€‚ä½†æ˜¯è¿™ä¸ªåç§°å¯ä»¥æ˜¯ä¸€ä¸ªDNSåç§°ï¼ˆæ¯”å¦‚ï¼Œmspress.microsoft.comï¼‰ã€ä¸€ä¸ªNetBIOSåç§°ï¼ˆmspressï¼‰æˆ–è€…ä¸€ä¸ªIPåœ°å€ï¼ˆ131.107.0.1ï¼‰ã€‚</li><li>åç§°ä¸­çš„ <code>Pipe</code> éƒ¨åˆ†å¿…é¡»æ˜¯å­—ç¬¦ä¸² <code>Pipe</code>ã€‚è€Œ <code>PipeName</code> åˆ™æ˜¯åˆ†é…ç»™æ­¤å‘½åç®¡é“çš„å”¯ä¸€åã€‚å‘½åç®¡é“åç§°ä¸­çš„å”¯ä¸€åéƒ¨åˆ†å¯ä»¥åŒ…å«å­ç›®å½•ã€‚å¦‚ï¼š<code>\\MyComputer\Pipe\MyServerApp\ConnectionPipe</code> æ˜¯ä¸€ä¸ªåŒ…å«å­ç›®å½•çš„å‘½åç®¡é“åç§°çš„ä¾‹å­ã€‚</li></ul><p>ç»¼ä¸Šï¼Œæˆ‘ä»¬åœ¨ä¸€ä¸ªç¤ºä¾‹ç¨‹åºä¸­åˆ›å»ºçš„ç®¡é“å¯ä»¥å‘½åä¸º <code>\\.\pipe\DemoApp\test.pip</code> ï¼ˆä½¿ç”¨è½¬ä¹‰ä¹Ÿå°±æ˜¯<code>\\\\.\\pipe\\DemoApp\\test_pip</code>ï¼‰ï¼Œè¿™é‡Œçš„ <code>\</code> ä»£è¡¨çš„æ˜¯æœ¬åœ°è®¡ç®—æœºã€‚</p><hr><p>è€Œä»¥ä¸Šçš„ç®¡é“åï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬åç»­è°ƒç”¨APIçš„å‚æ•°ä¹‹ä¸€ï¼Œä¹Ÿæ˜¯æˆ‘ä»¬å”¯ä¸€å¯ä»¥æ ‡è¯†ç®¡é“çš„æ ‡å¿—ã€‚</p></blockquote><h1 id="åˆ›å»ºç®¡é“çš„æ–¹å¼ä¸€-CreateNamedPipe"><a href="#åˆ›å»ºç®¡é“çš„æ–¹å¼ä¸€-CreateNamedPipe" class="headerlink" title="åˆ›å»ºç®¡é“çš„æ–¹å¼ä¸€ CreateNamedPipe"></a>åˆ›å»ºç®¡é“çš„æ–¹å¼ä¸€ <code>CreateNamedPipe</code></h1><h2 id="åŸå‹"><a href="#åŸå‹" class="headerlink" title="åŸå‹"></a>åŸå‹</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">HANDLE <span class="title">CreateNamedPipeA</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">  [in]           LPCSTR                lpName,</span></span></span><br><span class="line"><span class="params"><span class="function">  [in]           DWORD                 dwOpenMode,</span></span></span><br><span class="line"><span class="params"><span class="function">  [in]           DWORD                 dwPipeMode,</span></span></span><br><span class="line"><span class="params"><span class="function">  [in]           DWORD                 nMaxInstances,</span></span></span><br><span class="line"><span class="params"><span class="function">  [in]           DWORD                 nOutBufferSize,</span></span></span><br><span class="line"><span class="params"><span class="function">  [in]           DWORD                 nInBufferSize,</span></span></span><br><span class="line"><span class="params"><span class="function">  [in]           DWORD                 nDefaultTimeOut,</span></span></span><br><span class="line"><span class="params"><span class="function">  [in, optional] LPSECURITY_ATTRIBUTES lpSecurityAttributes</span></span></span><br><span class="line"><span class="params"><span class="function">)</span></span>;</span><br></pre></td></tr></table></figure><h2 id="å‚æ•°è¯´æ˜"><a href="#å‚æ•°è¯´æ˜" class="headerlink" title="å‚æ•°è¯´æ˜"></a>å‚æ•°è¯´æ˜</h2><ol><li><code>lpName</code><br>è¦åˆ›å»ºçš„ç®¡é“åã€‚</li><li><code>dwOpenMode</code></li><li><code>dwPipeMod</code></li><li><code>nMaxInstances</code></li><li><code>nOutBufferSize</code></li><li><code>nInBufferSize</code></li><li><code>nDefaultTimeOut</code></li><li><code>lpSecurityAttributes</code></li></ol><h2 id="ç”¨æ³•"><a href="#ç”¨æ³•" class="headerlink" title="ç”¨æ³•"></a>ç”¨æ³•</h2><h1 id="åˆ›å»ºç®¡é“çš„æ–¹å¼äºŒ-CreateFile"><a href="#åˆ›å»ºç®¡é“çš„æ–¹å¼äºŒ-CreateFile" class="headerlink" title="åˆ›å»ºç®¡é“çš„æ–¹å¼äºŒ CreateFile"></a>åˆ›å»ºç®¡é“çš„æ–¹å¼äºŒ <code>CreateFile</code></h1><h2 id="åŸå‹-1"><a href="#åŸå‹-1" class="headerlink" title="åŸå‹"></a>åŸå‹</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure><h2 id="å‚æ•°è¯´æ˜-1"><a href="#å‚æ•°è¯´æ˜-1" class="headerlink" title="å‚æ•°è¯´æ˜"></a>å‚æ•°è¯´æ˜</h2><h2 id="ç”¨æ³•-1"><a href="#ç”¨æ³•-1" class="headerlink" title="ç”¨æ³•"></a>ç”¨æ³•</h2><h1 id="Demo1â€”â€”ç®¡é“å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯çš„æ§åˆ¶å°ç¨‹åº"><a href="#Demo1â€”â€”ç®¡é“å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯çš„æ§åˆ¶å°ç¨‹åº" class="headerlink" title="Demo1â€”â€”ç®¡é“å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯çš„æ§åˆ¶å°ç¨‹åº"></a>Demo1â€”â€”ç®¡é“å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯çš„æ§åˆ¶å°ç¨‹åº</h1><h1 id="Demo2â€”â€”ç®¡é“ç±»"><a href="#Demo2â€”â€”ç®¡é“ç±»" class="headerlink" title="Demo2â€”â€”ç®¡é“ç±»"></a>Demo2â€”â€”ç®¡é“ç±»</h1><p>çŸ¥è¯†æ¥æºï¼š</p><ul><li>ã€Šæ·±å…¥è§£æWindowsæ“ä½œç³»ç»Ÿã€‹</li><li><a href="https://blog.csdn.net/qq78442761/article/details/124429013">Qtç¬”è®°-Windowsç®¡é“é€šä¿¡_IT1995çš„åšå®¢-CSDNåšå®¢_qtç®¡é“é€šä¿¡</a></li><li><a href="https://blog.csdn.net/huaizhanye8788/article/details/122742920">å¤šè¿›ç¨‹é€šä¿¡ä¹‹ç®¡é“demo_Sunbigwangçš„åšå®¢-CSDNåšå®¢_å¤šè¿›ç¨‹ç®¡é“</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> IPC </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ã€Šæ·±å…¥ç†è§£Windowsæ“ä½œç³»ç»Ÿã€‹ </tag>
            
            <tag> IPC </tag>
            
            <tag> Pipe </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Goâ€”â€”Wailsç»éªŒæ•´ç†</title>
      <link href="/Code/GO/wailsapp/wails%E7%BB%8F%E9%AA%8C%E6%95%B4%E7%90%86/"/>
      <url>/Code/GO/wailsapp/wails%E7%BB%8F%E9%AA%8C%E6%95%B4%E7%90%86/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> GO </category>
          
          <category> wailsapp </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Go </tag>
            
            <tag> Wails </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/Code/GO/wailsapp/todo/todo/"/>
      <url>/Code/GO/wailsapp/todo/todo/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> GO </category>
          
          <category> wailsapp </category>
          
          <category> todo </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Goé¢å‘å¯¹è±¡ç¼–ç¨‹1â€”â€”é¢å‘å¯¹è±¡ç¼–ç¨‹</title>
      <link href="/Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B/README/"/>
      <url>/Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B/README/</url>
      
        <content type="html"><![CDATA[<p> Go è¯­è¨€çš„ä»£ç æ˜¯ä»¥åŒ…ç»“æ„æ¥ç»„ç»‡çš„ï¼Œä¸”å¦‚æœæ ‡ç¤ºç¬¦ï¼ˆå˜é‡åï¼Œå‡½æ•°åï¼Œè‡ªå®šä¹‰ç±»å‹ç­‰ï¼‰å¦‚æœä»¥å¤§å†™å­—æ¯å¼€å¤´é‚£ä¹ˆè¿™äº›æ ‡ç¤ºç¬¦æ˜¯å¯ä»¥å¯¼å‡ºçš„ï¼Œå¯ä»¥åœ¨ä»»ä½•å¯¼å…¥äº†å®šä¹‰è¯¥æ ‡ç¤ºç¬¦çš„åŒ…çš„åŒ…ä¸­ç›´æ¥ä½¿ç”¨ã€‚Go è¯­è¨€ä¸­çš„é¢å‘å¯¹è±¡å’Œ C++ï¼ŒJava ä¸­çš„é¢å‘å¯¹è±¡ä¸åŒï¼Œå› ä¸º Go è¯­è¨€ä¸æ”¯æŒç»§æ‰¿ï¼ŒGo è¯­è¨€åªæ”¯æŒç»„åˆã€‚</p><h4 id="è‡ªå®šä¹‰ç±»å‹"><a href="#è‡ªå®šä¹‰ç±»å‹" class="headerlink" title="è‡ªå®šä¹‰ç±»å‹"></a>è‡ªå®šä¹‰ç±»å‹</h4><p>Go è¯­è¨€çš„ä¸­ç»“æ„ä½“ <code>struct</code> ä¸ C++ã€JAVA ä¸­çš„ç±» <code>class</code> ç›¸ä¼¼ï¼Œä½† Go æ”¾å¼ƒäº†ä¼ ç»Ÿé¢å‘å¯¹è±¡çš„è¯¸å¤šç‰¹æ€§ï¼Œåªä¿ç•™äº†ç»„åˆã€‚</p><ul><li><strong>type</strong> typeName typeSpecification</li></ul><p>å…¶ä¸­ï¼Œ<code>typeName</code> å¯ä»¥æ˜¯ä¸€ä¸ªåŒ…æˆ–è€…å‡½æ•°å†…å”¯ä¸€åˆæ³•çš„ Go æ ‡ç¤ºç¬¦ã€‚<code>typeSpecification</code> å¯ä»¥æ˜¯ä»»ä½•å†…ç½®çš„ç±»å‹ï¼Œä¸€ä¸ªæ¥å£æˆ–è€…æ˜¯ä¸€ä¸ªç»“æ„ä½“ã€‚æ‰€è°“ç»“æ„ä½“ï¼Œå®ƒçš„å­—æ®µæ˜¯ç”±å…¶ä»–ç±»å‹æˆ–è€…æ¥å£ç»„æˆã€‚ä¾‹å¦‚æˆ‘ä»¬é€šè¿‡ç»“æ„ä½“å®šä¹‰äº†ä¸€ä¸‹ç±»å‹ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> ColorPoint <span class="keyword">struct</span> &#123;</span><br><span class="line">    color.Color     <span class="comment">// åŒ¿åå­—æ®µ(åµŒå…¥)</span></span><br><span class="line">    x, y <span class="type">int</span>        <span class="comment">// å…·åå­—æ®µ(èšåˆ)</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šä»£ç æˆ‘ä»¬é€šè¿‡ç»“æ„ä½“è‡ªå®šä¹‰äº†ç±»å‹ <code>ColorPoint</code>ï¼Œç»“æ„ä½“ä¸­ <code>color.Color</code> å­—æ®µæ˜¯ Color åŒ…çš„ç±»å‹ colorï¼Œè¿™ä¸ªå­—æ®µæ²¡æœ‰åå­—ï¼Œæ‰€ä»¥è¢«ç§°ä¸ºåŒ¿åçš„ï¼Œä¹Ÿæ˜¯åµŒå…¥å­—æ®µã€‚å­—æ®µ <code>x</code> å’Œ <code>y</code> æ˜¯æœ‰å˜é‡åçš„ï¼Œæ‰€ä»¥è¢«ç§°ä¸ºå…·åå­—æ®µã€‚å‡å¦‚æˆ‘ä»¬åˆ›å»ºäº†ç±»å‹ <code>ColorPoint</code> çš„ä¸€ä¸ªå€¼ <code>point</code>ï¼ˆé€šè¿‡è¯­æ³•ï¼š<code>point := ColorPoint&#123;&#125;</code> åˆ›å»ºï¼‰ï¼Œé‚£ä¹ˆè¿™äº›å­—æ®µå¯ä»¥é€šè¿‡ <code>point.Color</code>ã€<code>point.x</code>ã€<code>point.y</code> è®¿é—®ã€‚å…¶ä»–é¢å‘å¯¹è±¡è¯­è¨€ä¸­çš„â€ç±» (<code>class</code>)â€ã€â€å¯¹è±¡ (<code>object</code>)â€ã€â€å®ä¾‹ (<code>instance</code>)â€åœ¨ Go è¯­è¨€ä¸­æˆ‘ä»¬å®Œå…¨é¿å¼€ä½¿ç”¨ã€‚ç›¸åçš„æˆ‘ä»¬ä½¿ç”¨â€ç±»å‹ (<code>type</code>)â€å’Œå…¶å¯¹åº”çš„â€å€¼â€ï¼Œå…¶ä¸­è‡ªå®šä¹‰ç±»å‹çš„å€¼å¯ä»¥åŒ…å«æ–¹æ³•ã€‚</p><p>å®šä¹‰äº†ç»“æ„ä½“åå¦‚ä½•åˆ›å»ºå¹¶åˆå§‹åŒ–ä¸€ä¸ªå¯¹è±¡å®ä¾‹å‘¢ï¼ŸGo è¯­è¨€æ”¯æŒä»¥ä¸‹å‡ ç§æ–¹æ³•è¿›è¡Œå®ç°ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å…ˆå®šä¹‰ä¸€ä¸ªç»“æ„ä½“Man</span></span><br><span class="line"><span class="keyword">type</span> Man <span class="keyword">struct</span>&#123;</span><br><span class="line">    name <span class="type">string</span></span><br><span class="line">    age <span class="type">int</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//å¯¹è±¡åˆ›å»ºä¸åˆå§‹åŒ–</span></span><br><span class="line">man := <span class="built_in">new</span>(Man)</span><br><span class="line">man := &amp;Man&#123;&#125;</span><br><span class="line">man := &amp;Man&#123;<span class="string">&quot;Tom&quot;</span>, <span class="number">18</span>&#125;</span><br><span class="line">man := &amp;Man&#123;name: <span class="string">&quot;Tom&quot;</span>, age: <span class="number">18</span>&#125;</span><br></pre></td></tr></table></figure><p>ä¸ºäº†æ›´åŠ æ–¹ä¾¿çš„åˆ›å»ºå¯¹è±¡ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä¼šä½¿ç”¨ä¸€ä¸ªå…¨å±€å‡½æ•°æ¥å®Œæˆå¯¹è±¡çš„åˆ›å»ºï¼Œè¿™å’Œä¼ ç»Ÿçš„â€œæ„é€ å‡½æ•°â€ç±»ä¼¼ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">NewMan</span><span class="params">(name <span class="type">string</span>, age <span class="type">int</span>)</span></span> *Man &#123;</span><br><span class="line">    <span class="keyword">return</span> &amp;Man&#123;name, age&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> GO </category>
          
          <category> Goç®€æ˜æ‰‹å†Œ </category>
          
          <category> é¢å‘å¯¹è±¡ç¼–ç¨‹ </category>
          
          <category> é¢å‘å¯¹è±¡ç¼–ç¨‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Goç®€æ˜æ‰‹å†Œ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Goé¢å‘å¯¹è±¡ç¼–ç¨‹3â€”â€”ç»„åˆ</title>
      <link href="/Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B/%E7%BB%84%E5%90%88/README/"/>
      <url>/Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B/%E7%BB%84%E5%90%88/README/</url>
      
        <content type="html"><![CDATA[<p>Go è¯­è¨€è™½ç„¶æŠ›å¼ƒäº†ç»§æ‰¿ï¼Œä½†æ˜¯å´æä¾›äº†ä¸€ä¸ªæ›´åŠ æ–¹ä¾¿çš„ç»„åˆç‰¹æ€§ã€‚ç›¸å¯¹äºç»§æ‰¿çš„ç¼–è¯‘æœŸç¡®å®šå®ç°ï¼Œç»„åˆçš„è¿è¡Œæ€æŒ‡å®šå®ç°ï¼Œæ›´åŠ çµæ´»ã€‚ä¸‹é¢é€šè¿‡ä¸€æ®µä»£ç æ¥äº†è§£ç»„åˆçš„åŸºæœ¬å±æ€§ä»¥åŠå®ƒä¸ç»§æ‰¿çš„ä¸åŒä¹‹å¤„ã€‚</p><p>å…ˆå®šä¹‰ä¸€ä¸ªç»“æ„ä½“ Base, å¹¶ä¸ºå®ƒæ·»åŠ ä¸¤ä¸ªæ–¹æ³• <code>Foo()</code> å’Œ <code>Bar()</code>ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Base <span class="keyword">struct</span>&#123;</span><br><span class="line">    Name <span class="type">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(b *Base)</span></span> Foo() &#123;...&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(b *Base)</span></span> Bar() &#123;...&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Seed <span class="keyword">struct</span> &#123;</span><br><span class="line">    Base</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(s *Seed)</span></span> Foo() &#123;</span><br><span class="line">    s.Base.Foo()</span><br><span class="line">    s.Bar()</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸Šé¢ä»£ç å…ˆå®šä¹‰äº†ä¸€ä¸ª Base ç±»ï¼Œç„¶åå®šä¹‰äº†ä¸€ä¸ª Seed ç±»ã€‚Seed ç±»â€œç»§æ‰¿â€äº† Base ç±»çš„æ‰€æœ‰æˆå‘˜å±æ€§å’Œæ–¹æ³•å¹¶é‡å†™äº† <code>Foo()</code> æ–¹æ³•ã€‚åŒæ—¶åœ¨é‡å†™ <code>Foo()</code> æ–¹æ³•æ—¶è°ƒç”¨äº† Base ç±»çš„ <code>Foo()</code> æ–¹æ³•å’Œ <code>Bar()</code> æ–¹æ³•ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè‹¥æ­¤æ—¶ Seed çš„å¯¹è±¡é€šè¿‡ <code>s.Foo()</code> è°ƒç”¨ <code>Foo()</code> æ–¹æ³•æ—¶ï¼Œå®é™…è°ƒç”¨çš„æ˜¯ Seed é‡å†™è¿‡åçš„ <code>Foo()</code> æ–¹æ³•ï¼Œè€Œä¸æ˜¯åŸºç±» Base çš„ <code>Foo()</code> æ–¹æ³•ï¼Œè‹¥æƒ³è°ƒç”¨ Base ç±»çš„ <code>Foo()</code> æ–¹æ³•åˆ™è¦ä½¿ç”¨ <code>s.Base.Foo</code>ï¼Œè€Œè°ƒç”¨æ²¡æœ‰é‡å†™çš„ <code>Bar()</code> æ–¹æ³•æ—¶ï¼Œä½¿ç”¨ <code>s.Bar()</code> å’Œ<code>s.Base.Bar()</code> æ•ˆæœæ˜¯ä¸€æ ·çš„ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> GO </category>
          
          <category> Goç®€æ˜æ‰‹å†Œ </category>
          
          <category> é¢å‘å¯¹è±¡ç¼–ç¨‹ </category>
          
          <category> ç»„åˆ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Goé¢å‘å¯¹è±¡ç¼–ç¨‹2â€”â€”æ–¹æ³•</title>
      <link href="/Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B/%E6%96%B9%E6%B3%95/README/"/>
      <url>/Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B/%E6%96%B9%E6%B3%95/README/</url>
      
        <content type="html"><![CDATA[<blockquote><p><a href="./struct_t.go">Demo</a></p></blockquote><h2 id="æ–¹æ³•"><a href="#æ–¹æ³•" class="headerlink" title="æ–¹æ³•"></a>æ–¹æ³•</h2><blockquote><p><strong>æ–¹æ³•</strong>æ˜¯ä½œç”¨åœ¨è‡ªå®šä¹‰ç±»å‹ä¸Šçš„ä¸€ç±»ç‰¹æ®Šå‡½æ•°ï¼Œé€šå¸¸è‡ªå®šä¹‰ç±»å‹çš„å€¼ä¼šè¢«ä¼ é€’ç»™è¯¥å‡½æ•°ï¼Œè¯¥å€¼å¯èƒ½æ˜¯ä»¥æŒ‡é’ˆæˆ–è€…å¤åˆ¶å€¼çš„å½¢å¼ä¼ é€’ã€‚å®šä¹‰æ–¹æ³•å’Œå®šä¹‰å‡½æ•°å‡ ä¹ç›¸åŒï¼Œåªæ˜¯éœ€è¦åœ¨ <code>func</code> å…³é”®å­—å’Œæ–¹æ³•åä¹‹é—´å¿…é¡»å†™ä¸Šæ¥æ¥å—è€…ã€‚ä¾‹å¦‚æˆ‘ä»¬ç»™ç±»å‹ <code>Count</code> å®šä¹‰äº†ä»¥ä¸‹æ–¹æ³•ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Count <span class="type">int</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(count *Count)</span></span> Increment() &#123; *count++ &#125;  <span class="comment">// æ¥å—è€…æ˜¯ä¸€ä¸ª `Count` ç±»å‹çš„æŒ‡é’ˆ</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(count *Count)</span></span> Decrement() &#123; *count-- &#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(count Count)</span></span> IsZero() <span class="type">bool</span> &#123; <span class="keyword">return</span> count == <span class="number">0</span> &#125;</span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šä»£ç ä¸­ï¼Œæˆ‘ä»¬åœ¨å†…ç½®ç±»å‹ <code>int</code> çš„åŸºç¡€ä¸Šå®šä¹‰äº†è‡ªå®šä¹‰ç±»å‹ <code>Count</code>ï¼Œç„¶åç»™è¯¥ç±»å‹æ·»åŠ äº† <code>Increment()</code>ã€<code>Decrement()</code> å’Œ <code>IsZero()</code> æ–¹æ³•ï¼Œå…¶ä¸­å‰ä¸¤è€…çš„æ¥å—è€…ä¸º <code>Count</code> ç±»å‹çš„æŒ‡é’ˆï¼Œåä¸€ä¸ªæ–¹æ³•æ¥æ”¶ <code>Count</code> ç±»å‹çš„å€¼ã€‚</p></blockquote><p>Demo:</p><p>ç±»å‹çš„æ–¹æ³•é›†æ˜¯æŒ‡å¯ä»¥è¢«è¯¥ç±»å‹çš„å€¼è°ƒç”¨çš„æ‰€æœ‰æ–¹æ³•çš„é›†åˆã€‚</p><p>ä¸€ä¸ªæŒ‡å‘è‡ªå®šä¹‰ç±»å‹çš„å€¼çš„æŒ‡é’ˆï¼Œå®ƒçš„æ–¹æ³•é›†ç”±è¯¥ç±»å‹å®šä¹‰çš„æ‰€æœ‰æ–¹æ³•ç»„æˆï¼Œæ— è®ºè¿™äº›æ–¹æ³•æ¥å—çš„æ˜¯ä¸€ä¸ªå€¼è¿˜æ˜¯ä¸€ä¸ªæŒ‡é’ˆã€‚å¦‚æœåœ¨æŒ‡é’ˆä¸Šè°ƒç”¨ä¸€ä¸ªæ¥å—å€¼çš„æ–¹æ³•ï¼ŒGo è¯­è¨€ä¼šèªæ˜åœ°å°†è¯¥æŒ‡é’ˆè§£å¼•ç”¨ã€‚</p><p>ä¸€ä¸ªè‡ªå®šä¹‰ç±»å‹å€¼çš„æ–¹æ³•é›†åˆåˆ™ç”±è¯¥ç±»å‹å®šä¹‰çš„æ¥æ”¶è€…ä¸ºå€¼ç±»å‹çš„æ–¹æ³•ç»„æˆï¼Œä½†æ˜¯ä¸åŒ…æ‹¬é‚£äº›æ¥æ”¶è€…ç±»å‹ä¸ºæŒ‡é’ˆçš„æ–¹æ³•ã€‚</p><p>å…¶å®è¿™äº›é™åˆ¶ Go è¯­è¨€å¸®æˆ‘ä»¬è§£å†³çš„éå¸¸å¥½ï¼Œç»“æœå°±æ˜¯æˆ‘ä»¬å¯ä»¥åœ¨å€¼ç±»å‹ä¸Šè°ƒç”¨æ¥æ”¶è€…ä¸ºæŒ‡é’ˆçš„æ–¹æ³•ã€‚å‡å¦‚æˆ‘ä»¬åªæœ‰ä¸€ä¸ªå€¼ï¼Œä»ç„¶å¯ä»¥è°ƒç”¨ä¸€ä¸ªæ¥æ”¶è€…ä¸ºæŒ‡é’ˆç±»å‹çš„æ–¹æ³•ï¼Œè¿™æ˜¯å› ä¸º Go è¯­è¨€ä¼šè‡ªåŠ¨è·å–å€¼çš„åœ°å€ä¼ é€’ç»™è¯¥æ–¹æ³•ï¼Œå‰ææ˜¯è¯¥å€¼æ˜¯å¯å¯»å€çš„ã€‚</p><p>åœ¨ä»¥ä¸Šå®šä¹‰çš„ç±»å‹ <code>Count</code> ä¸­ï¼Œ<code>*Count</code> æ–¹æ³•é›†æ˜¯ <code>Increment()</code>, <code>Decrement()</code> å’Œ <code>IsZero()</code>ï¼Œ<code>Count</code> çš„å€¼çš„æ–¹æ³•é›†æ˜¯ <code>IsZero()</code>ã€‚ä½†æ˜¯å› ä¸º <code>Count</code> ç±»å‹çš„æ˜¯å¯å¯»å€çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>Count</code> çš„å€¼è°ƒç”¨å…¨éƒ¨çš„æ–¹æ³•ã€‚</p><p>å¦å¤–å¦‚æœç»“æ„ä½“çš„å­—æ®µä¹Ÿæœ‰æ–¹æ³•ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ç›´æ¥é€šè¿‡ç»“æ„ä½“è®¿é—®å­—æ®µä¸­çš„æ–¹æ³•ã€‚ä¸‹é¢è®©æˆ‘ä»¬ç»ƒä¹ ä¸‹ï¼Œåˆ›å»ºæºæ–‡ä»¶ <code>struct_t.go</code>ï¼Œè¾“å…¥ä»¥ä¸‹ä»£ç ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Count <span class="type">int</span> <span class="comment">// åˆ›å»ºè‡ªå®šä¹‰ç±»å‹ Count</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(count *Count)</span></span> Increment()  &#123; *count++ &#125; <span class="comment">// Countç±»å‹çš„æ–¹æ³•</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(count *Count)</span></span> Decrement()  &#123; *count-- &#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(count Count)</span></span> IsZero() <span class="type">bool</span> &#123; <span class="keyword">return</span> count == <span class="number">0</span> &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Part <span class="keyword">struct</span> &#123; <span class="comment">// åŸºäºç»“æ„ä½“åˆ›å»ºè‡ªå®šä¹‰ç±»å‹ Part</span></span><br><span class="line">    stat  <span class="type">string</span></span><br><span class="line">    Count <span class="comment">// åŒ¿åå­—æ®µ</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(part Part)</span></span> IsZero() <span class="type">bool</span> &#123; <span class="comment">// è¦†ç›–äº†åŒ¿åå­—æ®µCountçš„IsZero()æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">return</span> part.Count.IsZero() &amp;&amp; part.stat == <span class="string">&quot;&quot;</span> <span class="comment">// è°ƒç”¨äº†åŒ¿åå­—æ®µçš„æ–¹æ³•</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(part Part)</span></span> String() <span class="type">string</span> &#123; <span class="comment">// å®šä¹‰String()æ–¹æ³•ï¼Œè‡ªå®šä¹‰äº†æ ¼å¼åŒ–æŒ‡ä»¤%vçš„è¾“å‡º</span></span><br><span class="line">    <span class="keyword">return</span> fmt.Sprintf(<span class="string">&quot;&lt;&lt;%s, %d&gt;&gt;&quot;</span>, part.stat, part.Count)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> i Count = <span class="number">-1</span></span><br><span class="line">    fmt.Printf(<span class="string">&quot;Start \&quot;Count\&quot; test:\nOrigin value of count: %d\n&quot;</span>, i)</span><br><span class="line">    i.Increment()</span><br><span class="line">    fmt.Printf(<span class="string">&quot;Value of count after increment: %d\n&quot;</span>, i)</span><br><span class="line">    fmt.Printf(<span class="string">&quot;Count is zero t/f? : %t\n\n&quot;</span>, i.IsZero())</span><br><span class="line">    fmt.Println(<span class="string">&quot;Start: \&quot;Part\&quot; test:&quot;</span>)</span><br><span class="line">    part := Part&#123;<span class="string">&quot;232&quot;</span>, <span class="number">0</span>&#125;</span><br><span class="line">    fmt.Printf(<span class="string">&quot;Part: %v\n&quot;</span>, part)</span><br><span class="line">    fmt.Printf(<span class="string">&quot;Part is zero t/f? : %t\n&quot;</span>, part.IsZero())</span><br><span class="line">    fmt.Printf(<span class="string">&quot;Count in Part is zero t/f?: %t\n&quot;</span>, part.Count.IsZero()) <span class="comment">// å°½ç®¡è¦†ç›–äº†åŒ¿åå­—æ®µçš„æ–¹æ³•ï¼Œä½†è¿˜æ˜¯å¯ä»¥è®¿é—®</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šä»£ç ä¸­ï¼Œæˆ‘ä»¬åˆ›å»ºäº† <code>Count</code> ç±»å‹ï¼Œç„¶ååœ¨å…¶åŸºç¡€ä¸Šåˆåˆ›å»ºäº†ç»“æ„ä½“ç±»å‹ <code>Part</code>ã€‚æˆ‘ä»¬ä¸º <code>Count</code> ç±»å‹å®šä¹‰äº† 3 ä¸ªæ–¹æ³•ï¼Œå¹¶åœ¨ <code>Part</code> ç±»å‹ä¸­åˆ›å»ºäº†æ–¹æ³• <code>IsZero()</code> è¦†ç›–äº†å…¶åŒ¿åå­—æ®µ <code>Count</code> ä¸­ <code>IsZero()</code> æ–¹æ³•ã€‚ä½†æ˜¯æˆ‘ä»¬è¿˜æ˜¯å¯ä»¥äºŒæ¬¡è®¿é—®åˆ°åŒ¿åå­—æ®µä¸­è¢«è¦†ç›–çš„æ–¹æ³•ã€‚æ‰§è¡Œä»£ç ï¼Œè¾“å‡ºå¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">$ go run struct_t.go</span><br><span class="line">Start <span class="string">&quot;Count&quot;</span> <span class="built_in">test</span>:</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Origin value of count: -1</span><br><span class="line">Value of count after increment: 0</span><br><span class="line">Count is zero t/f? : <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">Start: <span class="string">&quot;Part&quot;</span> <span class="built_in">test</span>:</span><br><span class="line">Part: &lt;&lt;<span class="string">232, 0&gt;&gt;</span></span><br><span class="line"><span class="string">Part is zero t/f? : false</span></span><br><span class="line"><span class="string">Count in Part is zero t/f?: true</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> GO </category>
          
          <category> Goç®€æ˜æ‰‹å†Œ </category>
          
          <category> é¢å‘å¯¹è±¡ç¼–ç¨‹ </category>
          
          <category> æ–¹æ³• </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Goé¢å‘å¯¹è±¡ç¼–ç¨‹5â€”â€”æ¥å£å˜é‡å€¼çš„ç±»å‹</title>
      <link href="/Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B/%E6%8E%A5%E5%8F%A3%E5%8F%98%E9%87%8F%E5%80%BC%E7%9A%84%E7%B1%BB%E5%9E%8B/README/"/>
      <url>/Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B/%E6%8E%A5%E5%8F%A3%E5%8F%98%E9%87%8F%E5%80%BC%E7%9A%84%E7%B1%BB%E5%9E%8B/README/</url>
      
        <content type="html"><![CDATA[<blockquote><p><a href="./interface_t1.go">Demo</a></p></blockquote><h2 id="æ¥å£"><a href="#æ¥å£" class="headerlink" title="æ¥å£"></a>æ¥å£</h2><p>åœ¨ Go ä¸­ï¼Œ<strong>æ¥å£</strong>æ˜¯ä¸€ç»„æ–¹æ³•ç­¾åã€‚å½“ä¸€ä¸ªç±»å‹ä¸ºæ¥å£ä¸­çš„æ‰€æœ‰æ–¹æ³•æä¾›å®šä¹‰æ—¶ï¼Œå®ƒè¢«ç§°ä¸ºå®ç°è¯¥æ¥å£ã€‚å®ƒä¸ oop éå¸¸ç›¸ä¼¼ã€‚æ¥å£æŒ‡å®šç±»å‹åº”å…·æœ‰çš„æ–¹æ³•ï¼Œç±»å‹å†³å®šå¦‚ä½•å®ç°è¿™äº›æ–¹æ³•ã€‚</p><h3 id="æ¥å£åŸºç¡€"><a href="#æ¥å£åŸºç¡€" class="headerlink" title="æ¥å£åŸºç¡€"></a>æ¥å£åŸºç¡€</h3><p>ä¹‹æ‰€ä»¥è¯´ Go è¯­è¨€çš„é¢å‘å¯¹è±¡å¾ˆçµæ´»ï¼Œå¾ˆå¤§ä¸€éƒ¨åˆ†åŸå› æ˜¯ç”±äºæ¥å£çš„å­˜åœ¨ã€‚æ¥å£æ˜¯ä¸€ä¸ªè‡ªå®šä¹‰ç±»å‹ï¼Œå®ƒå£°æ˜äº†ä¸€ä¸ªæˆ–è€…å¤šä¸ªæ–¹æ³•ç­¾åï¼Œä»»ä½•å®ç°äº†è¿™äº›æ–¹æ³•çš„ç±»å‹éƒ½å®ç°è¿™ä¸ªæ¥å£ã€‚<code>infterface&#123;&#125;</code> ç±»å‹æ˜¯å£°æ˜äº†ç©ºæ–¹æ³•é›†çš„æ¥å£ç±»å‹ã€‚ä»»ä½•ä¸€ä¸ªå€¼éƒ½æ»¡è¶³ <code>interface&#123;&#125;</code> ç±»å‹ï¼Œä¹Ÿå°±æ˜¯è¯´å¦‚æœä¸€ä¸ªå‡½æ•°æˆ–è€…æ–¹æ³•æ¥æ”¶ <code>interface&#123;&#125;</code> ç±»å‹çš„å‚æ•°ï¼Œé‚£ä¹ˆä»»æ„ç±»å‹çš„å‚æ•°éƒ½å¯ä»¥ä¼ é€’ç»™è¯¥å‡½æ•°ã€‚æ¥å£æ˜¯å®Œå…¨æŠ½è±¡çš„ï¼Œä¸èƒ½å®ä¾‹åŒ–ã€‚æ¥å£èƒ½å­˜å‚¨ä»»ä½•å®ç°äº†è¯¥æ¥å£çš„ç±»å‹ã€‚ç›´æ¥çœ‹ä¾‹å­å§ï¼Œåˆ›å»ºæºæ–‡ä»¶ <code>interface_t.go</code>ï¼Œè¾“å…¥ä»¥ä¸‹ä»£ç ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Human <span class="keyword">struct</span> &#123; <span class="comment">// ç»“æ„ä½“</span></span><br><span class="line">    name  <span class="type">string</span></span><br><span class="line">    age   <span class="type">int</span></span><br><span class="line">    phone <span class="type">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//Humanå®ç°SayHiæ–¹æ³•</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(h Human)</span></span> SayHi() &#123;</span><br><span class="line">    fmt.Printf(<span class="string">&quot;Hi, I am %s you can call me on %s\n&quot;</span>, h.name, h.phone)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//Humanå®ç°Singæ–¹æ³•</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(h Human)</span></span> Sing(lyrics <span class="type">string</span>) &#123;</span><br><span class="line">    fmt.Println(<span class="string">&quot;La la la la...&quot;</span>, lyrics)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Student <span class="keyword">struct</span> &#123;</span><br><span class="line">    Human  <span class="comment">//åŒ¿åå­—æ®µ</span></span><br><span class="line">    school <span class="type">string</span></span><br><span class="line">    loan   <span class="type">float32</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Employee <span class="keyword">struct</span> &#123;</span><br><span class="line">    Human   <span class="comment">//åŒ¿åå­—æ®µ</span></span><br><span class="line">    company <span class="type">string</span></span><br><span class="line">    money   <span class="type">float32</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Employeeé‡è½½Humançš„SayHiæ–¹æ³•</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(e Employee)</span></span> SayHi() &#123;</span><br><span class="line">    fmt.Printf(<span class="string">&quot;Hi, I am %s, I work at %s. Call me on %s\n&quot;</span>, e.name,</span><br><span class="line">        e.company, e.phone)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Interface Menè¢«Human,Studentå’ŒEmployeeå®ç°</span></span><br><span class="line"><span class="comment">// å› ä¸ºè¿™ä¸‰ä¸ªç±»å‹éƒ½å®ç°äº†è¿™ä¸¤ä¸ªæ–¹æ³•</span></span><br><span class="line"><span class="keyword">type</span> Men <span class="keyword">interface</span> &#123;</span><br><span class="line">    SayHi()</span><br><span class="line">    Sing(lyrics <span class="type">string</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    mike := Student&#123;Human&#123;<span class="string">&quot;Mike&quot;</span>, <span class="number">25</span>, <span class="string">&quot;222-222-XXX&quot;</span>&#125;, <span class="string">&quot;MIT&quot;</span>, <span class="number">0.00</span>&#125;</span><br><span class="line">    paul := Student&#123;Human&#123;<span class="string">&quot;Paul&quot;</span>, <span class="number">26</span>, <span class="string">&quot;111-222-XXX&quot;</span>&#125;, <span class="string">&quot;Harvard&quot;</span>, <span class="number">100</span>&#125;</span><br><span class="line">    sam := Employee&#123;Human&#123;<span class="string">&quot;Sam&quot;</span>, <span class="number">36</span>, <span class="string">&quot;444-222-XXX&quot;</span>&#125;, <span class="string">&quot;Golang Inc.&quot;</span>, <span class="number">1000</span>&#125;</span><br><span class="line">    Tom := Employee&#123;Human&#123;<span class="string">&quot;Tom&quot;</span>, <span class="number">37</span>, <span class="string">&quot;222-444-XXX&quot;</span>&#125;, <span class="string">&quot;Things Ltd.&quot;</span>, <span class="number">5000</span>&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//å®šä¹‰Menç±»å‹çš„å˜é‡i</span></span><br><span class="line">    <span class="keyword">var</span> i Men</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ièƒ½å­˜å‚¨Student</span></span><br><span class="line">    i = mike</span><br><span class="line">    fmt.Println(<span class="string">&quot;This is Mike, a Student:&quot;</span>)</span><br><span class="line">    i.SayHi()</span><br><span class="line">    i.Sing(<span class="string">&quot;November rain&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//iä¹Ÿèƒ½å­˜å‚¨Employee</span></span><br><span class="line">    i = Tom</span><br><span class="line">    fmt.Println(<span class="string">&quot;This is Tom, an Employee:&quot;</span>)</span><br><span class="line">    i.SayHi()</span><br><span class="line">    i.Sing(<span class="string">&quot;Born to be wild&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//å®šä¹‰äº†slice Men</span></span><br><span class="line">    fmt.Println(<span class="string">&quot;Let&#x27;s use a slice of Men and see what happens&quot;</span>)</span><br><span class="line">    x := <span class="built_in">make</span>([]Men, <span class="number">3</span>)</span><br><span class="line">    <span class="comment">//è¿™ä¸‰ä¸ªéƒ½æ˜¯ä¸åŒç±»å‹çš„å…ƒç´ ï¼Œä½†æ˜¯ä»–ä»¬å®ç°äº†interfaceåŒä¸€ä¸ªæ¥å£</span></span><br><span class="line">    x[<span class="number">0</span>], x[<span class="number">1</span>], x[<span class="number">2</span>] = paul, sam, mike</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> _, value := <span class="keyword">range</span> x &#123;</span><br><span class="line">        value.SayHi()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ¥å£å˜é‡å€¼çš„ç±»å‹"><a href="#æ¥å£å˜é‡å€¼çš„ç±»å‹" class="headerlink" title="æ¥å£å˜é‡å€¼çš„ç±»å‹*"></a>æ¥å£å˜é‡å€¼çš„ç±»å‹<code>*</code></h3><blockquote><p><span style="background: PaleVioletRed;border-radius:10px;padding:1px 5px;color:white;font-weight:900">æ¥å£ç±»å‹å£°æ˜çš„å˜é‡é‡Œèƒ½å­˜å‚¨ä»»ä½•å®ç°äº†è¯¥æ¥å£çš„ç±»å‹çš„å€¼ã€‚</span></p><p>æœ‰çš„æ—¶å€™æˆ‘ä»¬éœ€è¦çŸ¥é“è¿™ä¸ªå˜é‡é‡Œçš„å€¼çš„ç±»å‹ï¼Œé‚£ä¹ˆéœ€è¦æ€ä¹ˆåšå‘¢ï¼Ÿå¯ä»¥ä½¿ç”¨ç±»å‹æ–­è¨€ï¼Œæˆ–è€…æ˜¯ <code>switch</code> ç±»å‹åˆ¤æ–­åˆ†æ”¯ã€‚ä»¥ä¸‹çš„ä¾‹å­ <code>interface_t1.go</code> æˆ‘ä»¬ä½¿ç”¨äº† <code>switch</code> ç±»å‹åˆ¤æ–­åˆ†æ”¯ã€‚</p></blockquote><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*ä½¿ç”¨äº†switch ç±»å‹åˆ¤æ–­åˆ†æ”¯*/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line"><span class="string">&quot;fmt&quot;</span></span><br><span class="line"><span class="string">&quot;strconv&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Element <span class="keyword">interface</span>&#123;&#125;</span><br><span class="line"><span class="keyword">type</span> List []Element</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Person <span class="keyword">struct</span> &#123;</span><br><span class="line">name <span class="type">string</span></span><br><span class="line">age  <span class="type">int</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å®ç°äº†fmt.Stringeræ¥å£</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(p Person)</span></span> String() <span class="type">string</span> &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="string">&quot;(name: &quot;</span> + p.name + <span class="string">&quot;- age: &quot;</span> + strconv.Itoa(p.age) + <span class="string">&quot; years)&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">list := <span class="built_in">make</span>(List, <span class="number">4</span>)</span><br><span class="line">list[<span class="number">0</span>] = <span class="number">1</span></span><br><span class="line">list[<span class="number">1</span>] = <span class="string">&quot;Hello&quot;</span></span><br><span class="line">list[<span class="number">2</span>] = Person&#123;<span class="string">&quot;Dennis&quot;</span>, <span class="number">70</span>&#125;</span><br><span class="line">list[<span class="number">3</span>] = <span class="number">1</span> + <span class="number">2i</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> index, element := <span class="keyword">range</span> list &#123;</span><br><span class="line"><span class="keyword">switch</span> value := element.(<span class="keyword">type</span>) &#123;</span><br><span class="line"><span class="keyword">case</span> <span class="type">int</span>:</span><br><span class="line">fmt.Printf(<span class="string">&quot;list[%d] is an int and its value is %d\n&quot;</span>, index, value)</span><br><span class="line"><span class="keyword">case</span> <span class="type">string</span>:</span><br><span class="line">fmt.Printf(<span class="string">&quot;list[%d] is an int and its value is %s\n&quot;</span>, index, value)</span><br><span class="line"><span class="keyword">case</span> Person:</span><br><span class="line">fmt.Printf(<span class="string">&quot;list[%d] is an int and its value is %s\n&quot;</span>, index, value)</span><br><span class="line"><span class="keyword">default</span>:</span><br><span class="line">fmt.Printf(<span class="string">&quot;list[%d] is of a different type&quot;</span>, index)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="åµŒå…¥interface"><a href="#åµŒå…¥interface" class="headerlink" title="åµŒå…¥interface"></a>åµŒå…¥interface</h3><p>ç»“æ„ä½“ä¸­å¯ä»¥åµŒå…¥åŒ¿åå­—æ®µï¼Œå…¶å®åœ¨æ¥å£é‡Œä¹Ÿå¯ä»¥å†åµŒå…¥æ¥å£ã€‚<span style="background: PaleVioletRed;border-radius:10px;padding:1px 5px;color:white;font-weight:900">å¦‚æœä¸€ä¸ª <code>interface1</code> ä½œä¸º <code>interface2</code> çš„ä¸€ä¸ªåµŒå…¥å­—æ®µï¼Œé‚£ä¹ˆ <code>interface2</code> éšå¼çš„åŒ…å«äº† <code>interface1</code> é‡Œçš„æ–¹æ³•ã€‚</span>å¦‚ä¸‹ä¾‹å­ä¸­ï¼Œ<code>Interface2</code> åŒ…å«äº† <code>Interface1</code> çš„æ‰€æœ‰æ–¹æ³•ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Interface1 <span class="keyword">interface</span> &#123;</span><br><span class="line">    Send()</span><br><span class="line">    Receive()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Interface2 <span class="keyword">interface</span> &#123;</span><br><span class="line">    Interface1</span><br><span class="line">    Close()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> GO </category>
          
          <category> Goç®€æ˜æ‰‹å†Œ </category>
          
          <category> é¢å‘å¯¹è±¡ç¼–ç¨‹ </category>
          
          <category> æ¥å£å˜é‡å€¼çš„ç±»å‹ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Goé¢å‘å¯¹è±¡ç¼–ç¨‹4â€”â€”æ¥å£</title>
      <link href="/Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B/%E6%8E%A5%E5%8F%A3/README/"/>
      <url>/Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B/%E6%8E%A5%E5%8F%A3/README/</url>
      
        <content type="html"><![CDATA[<blockquote><p><a href="./interface_t.go">Demo</a></p></blockquote><h2 id="æ¥å£"><a href="#æ¥å£" class="headerlink" title="æ¥å£"></a>æ¥å£</h2><p>åœ¨ Go ä¸­ï¼Œ<strong>æ¥å£</strong>æ˜¯ä¸€ç»„æ–¹æ³•ç­¾åã€‚å½“ä¸€ä¸ªç±»å‹ä¸ºæ¥å£ä¸­çš„æ‰€æœ‰æ–¹æ³•æä¾›å®šä¹‰æ—¶ï¼Œå®ƒè¢«ç§°ä¸ºå®ç°è¯¥æ¥å£ã€‚å®ƒä¸ oop éå¸¸ç›¸ä¼¼ã€‚æ¥å£æŒ‡å®šç±»å‹åº”å…·æœ‰çš„æ–¹æ³•ï¼Œç±»å‹å†³å®šå¦‚ä½•å®ç°è¿™äº›æ–¹æ³•ã€‚</p><h3 id="æ¥å£åŸºç¡€"><a href="#æ¥å£åŸºç¡€" class="headerlink" title="æ¥å£åŸºç¡€"></a>æ¥å£åŸºç¡€</h3><p>ä¹‹æ‰€ä»¥è¯´ Go è¯­è¨€çš„é¢å‘å¯¹è±¡å¾ˆçµæ´»ï¼Œå¾ˆå¤§ä¸€éƒ¨åˆ†åŸå› æ˜¯ç”±äºæ¥å£çš„å­˜åœ¨ã€‚æ¥å£æ˜¯ä¸€ä¸ªè‡ªå®šä¹‰ç±»å‹ï¼Œå®ƒå£°æ˜äº†ä¸€ä¸ªæˆ–è€…å¤šä¸ªæ–¹æ³•ç­¾åï¼Œä»»ä½•å®ç°äº†è¿™äº›æ–¹æ³•çš„ç±»å‹éƒ½å®ç°è¿™ä¸ªæ¥å£ã€‚<code>infterface&#123;&#125;</code> ç±»å‹æ˜¯å£°æ˜äº†ç©ºæ–¹æ³•é›†çš„æ¥å£ç±»å‹ã€‚ä»»ä½•ä¸€ä¸ªå€¼éƒ½æ»¡è¶³ <code>interface&#123;&#125;</code> ç±»å‹ï¼Œä¹Ÿå°±æ˜¯è¯´å¦‚æœä¸€ä¸ªå‡½æ•°æˆ–è€…æ–¹æ³•æ¥æ”¶ <code>interface&#123;&#125;</code> ç±»å‹çš„å‚æ•°ï¼Œé‚£ä¹ˆä»»æ„ç±»å‹çš„å‚æ•°éƒ½å¯ä»¥ä¼ é€’ç»™è¯¥å‡½æ•°ã€‚æ¥å£æ˜¯å®Œå…¨æŠ½è±¡çš„ï¼Œä¸èƒ½å®ä¾‹åŒ–ã€‚æ¥å£èƒ½å­˜å‚¨ä»»ä½•å®ç°äº†è¯¥æ¥å£çš„ç±»å‹ã€‚ç›´æ¥çœ‹ä¾‹å­å§ï¼Œåˆ›å»ºæºæ–‡ä»¶ <code>interface_t.go</code>ï¼Œè¾“å…¥ä»¥ä¸‹ä»£ç ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Human <span class="keyword">struct</span> &#123; <span class="comment">// ç»“æ„ä½“</span></span><br><span class="line">    name  <span class="type">string</span></span><br><span class="line">    age   <span class="type">int</span></span><br><span class="line">    phone <span class="type">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//Humanå®ç°SayHiæ–¹æ³•</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(h Human)</span></span> SayHi() &#123;</span><br><span class="line">    fmt.Printf(<span class="string">&quot;Hi, I am %s you can call me on %s\n&quot;</span>, h.name, h.phone)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//Humanå®ç°Singæ–¹æ³•</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(h Human)</span></span> Sing(lyrics <span class="type">string</span>) &#123;</span><br><span class="line">    fmt.Println(<span class="string">&quot;La la la la...&quot;</span>, lyrics)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Student <span class="keyword">struct</span> &#123;</span><br><span class="line">    Human  <span class="comment">//åŒ¿åå­—æ®µ</span></span><br><span class="line">    school <span class="type">string</span></span><br><span class="line">    loan   <span class="type">float32</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Employee <span class="keyword">struct</span> &#123;</span><br><span class="line">    Human   <span class="comment">//åŒ¿åå­—æ®µ</span></span><br><span class="line">    company <span class="type">string</span></span><br><span class="line">    money   <span class="type">float32</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Employeeé‡è½½Humançš„SayHiæ–¹æ³•</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(e Employee)</span></span> SayHi() &#123;</span><br><span class="line">    fmt.Printf(<span class="string">&quot;Hi, I am %s, I work at %s. Call me on %s\n&quot;</span>, e.name,</span><br><span class="line">        e.company, e.phone)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Interface Menè¢«Human,Studentå’ŒEmployeeå®ç°</span></span><br><span class="line"><span class="comment">// å› ä¸ºè¿™ä¸‰ä¸ªç±»å‹éƒ½å®ç°äº†è¿™ä¸¤ä¸ªæ–¹æ³•</span></span><br><span class="line"><span class="keyword">type</span> Men <span class="keyword">interface</span> &#123;</span><br><span class="line">    SayHi()</span><br><span class="line">    Sing(lyrics <span class="type">string</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    mike := Student&#123;Human&#123;<span class="string">&quot;Mike&quot;</span>, <span class="number">25</span>, <span class="string">&quot;222-222-XXX&quot;</span>&#125;, <span class="string">&quot;MIT&quot;</span>, <span class="number">0.00</span>&#125;</span><br><span class="line">    paul := Student&#123;Human&#123;<span class="string">&quot;Paul&quot;</span>, <span class="number">26</span>, <span class="string">&quot;111-222-XXX&quot;</span>&#125;, <span class="string">&quot;Harvard&quot;</span>, <span class="number">100</span>&#125;</span><br><span class="line">    sam := Employee&#123;Human&#123;<span class="string">&quot;Sam&quot;</span>, <span class="number">36</span>, <span class="string">&quot;444-222-XXX&quot;</span>&#125;, <span class="string">&quot;Golang Inc.&quot;</span>, <span class="number">1000</span>&#125;</span><br><span class="line">    Tom := Employee&#123;Human&#123;<span class="string">&quot;Tom&quot;</span>, <span class="number">37</span>, <span class="string">&quot;222-444-XXX&quot;</span>&#125;, <span class="string">&quot;Things Ltd.&quot;</span>, <span class="number">5000</span>&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//å®šä¹‰Menç±»å‹çš„å˜é‡i</span></span><br><span class="line">    <span class="keyword">var</span> i Men</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ièƒ½å­˜å‚¨Student</span></span><br><span class="line">    i = mike</span><br><span class="line">    fmt.Println(<span class="string">&quot;This is Mike, a Student:&quot;</span>)</span><br><span class="line">    i.SayHi()</span><br><span class="line">    i.Sing(<span class="string">&quot;November rain&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//iä¹Ÿèƒ½å­˜å‚¨Employee</span></span><br><span class="line">    i = Tom</span><br><span class="line">    fmt.Println(<span class="string">&quot;This is Tom, an Employee:&quot;</span>)</span><br><span class="line">    i.SayHi()</span><br><span class="line">    i.Sing(<span class="string">&quot;Born to be wild&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//å®šä¹‰äº†slice Men</span></span><br><span class="line">    fmt.Println(<span class="string">&quot;Let&#x27;s use a slice of Men and see what happens&quot;</span>)</span><br><span class="line">    x := <span class="built_in">make</span>([]Men, <span class="number">3</span>)</span><br><span class="line">    <span class="comment">//è¿™ä¸‰ä¸ªéƒ½æ˜¯ä¸åŒç±»å‹çš„å…ƒç´ ï¼Œä½†æ˜¯ä»–ä»¬å®ç°äº†interfaceåŒä¸€ä¸ªæ¥å£</span></span><br><span class="line">    x[<span class="number">0</span>], x[<span class="number">1</span>], x[<span class="number">2</span>] = paul, sam, mike</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> _, value := <span class="keyword">range</span> x &#123;</span><br><span class="line">        value.SayHi()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ¥å£å˜é‡å€¼çš„ç±»å‹"><a href="#æ¥å£å˜é‡å€¼çš„ç±»å‹" class="headerlink" title="æ¥å£å˜é‡å€¼çš„ç±»å‹*"></a>æ¥å£å˜é‡å€¼çš„ç±»å‹<code>*</code></h3><blockquote><p><span style="background: PaleVioletRed;border-radius:10px;padding:1px 5px;color:white;font-weight:900">æ¥å£ç±»å‹å£°æ˜çš„å˜é‡é‡Œèƒ½å­˜å‚¨ä»»ä½•å®ç°äº†è¯¥æ¥å£çš„ç±»å‹çš„å€¼ã€‚</span></p><p>æœ‰çš„æ—¶å€™æˆ‘ä»¬éœ€è¦çŸ¥é“è¿™ä¸ªå˜é‡é‡Œçš„å€¼çš„ç±»å‹ï¼Œé‚£ä¹ˆéœ€è¦æ€ä¹ˆåšå‘¢ï¼Ÿå¯ä»¥ä½¿ç”¨ç±»å‹æ–­è¨€ï¼Œæˆ–è€…æ˜¯ <code>switch</code> ç±»å‹åˆ¤æ–­åˆ†æ”¯ã€‚ä»¥ä¸‹çš„ä¾‹å­ <code>interface_t1.go</code> æˆ‘ä»¬ä½¿ç”¨äº† <code>switch</code> ç±»å‹åˆ¤æ–­åˆ†æ”¯ã€‚</p></blockquote><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*ä½¿ç”¨äº†switch ç±»å‹åˆ¤æ–­åˆ†æ”¯*/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line"><span class="string">&quot;fmt&quot;</span></span><br><span class="line"><span class="string">&quot;strconv&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Element <span class="keyword">interface</span>&#123;&#125;</span><br><span class="line"><span class="keyword">type</span> List []Element</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Person <span class="keyword">struct</span> &#123;</span><br><span class="line">name <span class="type">string</span></span><br><span class="line">age  <span class="type">int</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å®ç°äº†fmt.Stringeræ¥å£</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(p Person)</span></span> String() <span class="type">string</span> &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="string">&quot;(name: &quot;</span> + p.name + <span class="string">&quot;- age: &quot;</span> + strconv.Itoa(p.age) + <span class="string">&quot; years)&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">list := <span class="built_in">make</span>(List, <span class="number">4</span>)</span><br><span class="line">list[<span class="number">0</span>] = <span class="number">1</span></span><br><span class="line">list[<span class="number">1</span>] = <span class="string">&quot;Hello&quot;</span></span><br><span class="line">list[<span class="number">2</span>] = Person&#123;<span class="string">&quot;Dennis&quot;</span>, <span class="number">70</span>&#125;</span><br><span class="line">list[<span class="number">3</span>] = <span class="number">1</span> + <span class="number">2i</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> index, element := <span class="keyword">range</span> list &#123;</span><br><span class="line"><span class="keyword">switch</span> value := element.(<span class="keyword">type</span>) &#123;</span><br><span class="line"><span class="keyword">case</span> <span class="type">int</span>:</span><br><span class="line">fmt.Printf(<span class="string">&quot;list[%d] is an int and its value is %d\n&quot;</span>, index, value)</span><br><span class="line"><span class="keyword">case</span> <span class="type">string</span>:</span><br><span class="line">fmt.Printf(<span class="string">&quot;list[%d] is an int and its value is %s\n&quot;</span>, index, value)</span><br><span class="line"><span class="keyword">case</span> Person:</span><br><span class="line">fmt.Printf(<span class="string">&quot;list[%d] is an int and its value is %s\n&quot;</span>, index, value)</span><br><span class="line"><span class="keyword">default</span>:</span><br><span class="line">fmt.Printf(<span class="string">&quot;list[%d] is of a different type&quot;</span>, index)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="åµŒå…¥interface"><a href="#åµŒå…¥interface" class="headerlink" title="åµŒå…¥interface"></a>åµŒå…¥interface</h3><p>ç»“æ„ä½“ä¸­å¯ä»¥åµŒå…¥åŒ¿åå­—æ®µï¼Œå…¶å®åœ¨æ¥å£é‡Œä¹Ÿå¯ä»¥å†åµŒå…¥æ¥å£ã€‚<span style="background: PaleVioletRed;border-radius:10px;padding:1px 5px;color:white;font-weight:900">å¦‚æœä¸€ä¸ª <code>interface1</code> ä½œä¸º <code>interface2</code> çš„ä¸€ä¸ªåµŒå…¥å­—æ®µï¼Œé‚£ä¹ˆ <code>interface2</code> éšå¼çš„åŒ…å«äº† <code>interface1</code> é‡Œçš„æ–¹æ³•ã€‚</span>å¦‚ä¸‹ä¾‹å­ä¸­ï¼Œ<code>Interface2</code> åŒ…å«äº† <code>Interface1</code> çš„æ‰€æœ‰æ–¹æ³•ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Interface1 <span class="keyword">interface</span> &#123;</span><br><span class="line">    Send()</span><br><span class="line">    Receive()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Interface2 <span class="keyword">interface</span> &#123;</span><br><span class="line">    Interface1</span><br><span class="line">    Close()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> GO </category>
          
          <category> Goç®€æ˜æ‰‹å†Œ </category>
          
          <category> é¢å‘å¯¹è±¡ç¼–ç¨‹ </category>
          
          <category> æ¥å£ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Goé¢å‘å¯¹è±¡ç¼–ç¨‹6â€”â€”åµŒå…¥ interface</title>
      <link href="/Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B/%E5%B5%8C%E5%85%A5interface/README/"/>
      <url>/Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B/%E5%B5%8C%E5%85%A5interface/README/</url>
      
        <content type="html"><![CDATA[<p>åœ¨å‰é¢çš„è¯¾ç¨‹ä¸­æˆ‘ä»¬å·²ç»çŸ¥é“åœ¨ç»“æ„ä½“ä¸­å¯ä»¥åµŒå…¥åŒ¿åå­—æ®µï¼Œå…¶å®åœ¨æ¥å£é‡Œä¹Ÿå¯ä»¥å†åµŒå…¥æ¥å£ã€‚å¦‚æœä¸€ä¸ª interface1 ä½œä¸º interface2 çš„ä¸€ä¸ªåµŒå…¥å­—æ®µï¼Œé‚£ä¹ˆ interface2 éšå¼çš„åŒ…å«äº† interface1 é‡Œçš„æ–¹æ³•ã€‚å¦‚ä¸‹ä¾‹å­ä¸­ï¼ŒInterface2 åŒ…å«äº† Interface1 çš„æ‰€æœ‰æ–¹æ³•ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Interface1 <span class="keyword">interface</span> &#123;</span><br><span class="line">    Send()</span><br><span class="line">    Receive()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Interface2 <span class="keyword">interface</span> &#123;</span><br><span class="line">    Interface1</span><br><span class="line">    Close()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> GO </category>
          
          <category> Goç®€æ˜æ‰‹å†Œ </category>
          
          <category> é¢å‘å¯¹è±¡ç¼–ç¨‹ </category>
          
          <category> åµŒå…¥interface </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Goç®€æ˜æ‰‹å†Œâ€”â€”è¯é¢‘ç»Ÿè®¡ç»¼åˆæ¡ˆä¾‹</title>
      <link href="/Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/%E8%AF%8D%E9%A2%91%E7%BB%9F%E8%AE%A1%E7%BB%BC%E5%90%88%E6%A1%88%E4%BE%8B/README/"/>
      <url>/Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/%E8%AF%8D%E9%A2%91%E7%BB%9F%E8%AE%A1%E7%BB%BC%E5%90%88%E6%A1%88%E4%BE%8B/README/</url>
      
        <content type="html"><![CDATA[<blockquote><p><a href="./wordcount/wordcount.go">wordcount.go</a></p></blockquote><h2 id="å®ç°"><a href="#å®ç°" class="headerlink" title="å®ç°"></a>å®ç°</h2><p>è¯é¢‘ç»Ÿè®¡çš„ç¨‹åºé€»è¾‘å¾ˆç®€å•ã€‚æˆ‘ä»¬é¦–å…ˆä¼šåˆ›å»ºä¸€ä¸ªæ˜ å°„ï¼Œç„¶åè¯»å–æ–‡ä»¶çš„æ¯ä¸€è¡Œï¼Œæå–å•è¯ï¼Œç„¶åæ›´æ–°æ˜ å°„ä¸­å•è¯æ‰€å¯¹åº”çš„æ•°é‡å³å¯ã€‚</p><p>ä¸ºäº†æ¼”ç¤ºé¢å‘å¯¹è±¡å’Œ goroutine çš„ä½¿ç”¨ï¼Œæˆ‘ä»¬å°†åŸºç¡€æ˜ å°„ç±»å‹å°è£…æˆäº†ä¸€ä¸ªç»Ÿè®¡å•è¯é¢‘ç‡çš„åŒ…ã€‚æˆ‘ä»¬åœ¨åŸºç¡€æ˜ å°„ç±»å‹ä¸Šåˆ›å»ºäº†ç±»å‹ <code>WordCound</code>ï¼Œç„¶åä¸ºè¯¥ç±»å‹äº†å®ç°äº†å…³é”®æ–¹æ³• <code>UpdateFreq()</code> å’Œ <code>WordFreqCounter()</code>ï¼Œå…¶ä¸­å‰è€…ä¼šè¯»å–ä¸€ä¸ªæ–‡ä»¶å¹¶ç»Ÿè®¡è¯¥æ–‡ä»¶ä¸­çš„æ‰€æœ‰å•è¯çš„è¯é¢‘ï¼Œåè€…é€šè¿‡ goroutine å®ç°äº†å¹¶å‘ç»Ÿè®¡ã€‚</p><p>å…¶å¹¶å‘é€»è¾‘æ˜¯ï¼šå¯¹äºæ¯ä¸€ä¸ªæ–‡ä»¶ï¼Œåˆ›å»ºä¸€ä¸ª goroutineï¼Œåœ¨è¿™ä¸ª goroutine å†…éƒ¨è°ƒç”¨ <code>UpdateFreq()</code> æ–¹æ³•ç»Ÿè®¡å¯¹åº”æ–‡ä»¶çš„è¯é¢‘ï¼Œå½“ç»Ÿè®¡å®Œæˆä»¥åä¼šå°†æ˜ å°„ä¸­æ¯ä¸€å¯¹é”®å€¼è½¬åŒ–ä¸º <code>Pair</code> ç»“æ„å‘é€åˆ° <code>results</code> é€šé“ï¼Œå¹¶åœ¨å‘é€å®Œæˆæ—¶å€™å‘é€ä¸€ä¸ªç©ºç»“æ„ä½“çš„å€¼åˆ° <code>done</code> é€šé“ä»¥è¡¨ç¤ºè‡ªå·±çš„ä»»åŠ¡å·²ç»å®Œæˆã€‚ç”±äº <code>map</code> æ˜ å°„ç»“æ„ä¸æ”¯æŒå¹¶å‘å†™æ“ä½œï¼Œæ‰€ä»¥æˆ‘ä»¬é€šè¿‡ <code>result</code> é€šé“æ¥ä¿è¯æ¯æ¬¡åªæœ‰ä¸€ä¸ª goroutine èƒ½æ›´æ–°æ˜ å°„ã€‚åˆå› ä¸ºå½“æ‰€æœ‰çš„ goroutine ç»“æŸä»¥åï¼Œæœ‰å¯èƒ½ <code>results</code> é€šé“ä¸­è¿˜æœ‰æ²¡æ¥å¾—åŠå¤„ç†çš„æ•°æ®ï¼Œæ‰€ä»¥åœ¨ <code>WordFreqCounter()</code> çš„ç»“å°¾æˆ‘ä»¬åˆå¼€å¯äº†ä¸€ä¸ª <code>for</code> å¾ªç¯å¤„ç† <code>results</code> é€šé“ä¸­çš„å‰©ä½™æ•°æ®ã€‚è¯´äº†è¿™ä¹ˆå¤šï¼Œæˆ‘ä»¬ç›´æ¥å†™ä»£ç å§ã€‚</p><p>åœ¨ <code>$GOPATH/src/wordcount</code> ç›®å½•ä¸­åˆ›å»ºæ–‡ä»¶ <code>wordcount.go</code>ï¼Œè¾“å…¥ä»¥ä¸‹æºç ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> wordcount</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;bufio&quot;</span></span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">    <span class="string">&quot;io&quot;</span></span><br><span class="line">    <span class="string">&quot;log&quot;</span></span><br><span class="line">    <span class="string">&quot;os&quot;</span></span><br><span class="line">    <span class="string">&quot;sort&quot;</span></span><br><span class="line">    <span class="string">&quot;strings&quot;</span></span><br><span class="line">    <span class="string">&quot;unicode&quot;</span></span><br><span class="line">    <span class="string">&quot;unicode/utf8&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Pair <span class="keyword">struct</span> &#123;</span><br><span class="line">    Key   <span class="type">string</span></span><br><span class="line">    Value <span class="type">int</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// PariListå®ç°äº†sortæ¥å£ï¼Œå¯ä»¥ä½¿ç”¨sort.Sortå¯¹å…¶æ’åº</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> PairList []Pair</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(p PairList)</span></span> Swap(i, j <span class="type">int</span>)      &#123; p[i], p[j] = p[j], p[i] &#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(p PairList)</span></span> Len() <span class="type">int</span>           &#123; <span class="keyword">return</span> <span class="built_in">len</span>(p) &#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(p PairList)</span></span> Less(i, j <span class="type">int</span>) <span class="type">bool</span> &#123; <span class="keyword">return</span> p[j].Value &lt; p[i].Value &#125; <span class="comment">// é€†åº</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æå–å•è¯</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">SplitOnNonLetters</span><span class="params">(s <span class="type">string</span>)</span></span> []<span class="type">string</span> &#123;</span><br><span class="line">    notALetter := <span class="function"><span class="keyword">func</span><span class="params">(char <span class="type">rune</span>)</span></span> <span class="type">bool</span> &#123; <span class="keyword">return</span> !unicode.IsLetter(char) &#125;</span><br><span class="line">    <span class="keyword">return</span> strings.FieldsFunc(s, notALetter)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">   åŸºäºmapå®ç°äº†ç±»å‹WordCount, å¹¶å¯¹æœŸå®ç°äº†Merge(), Report(), SortReport(), UpdateFreq(),</span></span><br><span class="line"><span class="comment">   WordFreqCounter() æ–¹æ³•</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> WordCount <span class="keyword">map</span>[<span class="type">string</span>]<span class="type">int</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ç”¨äºåˆå¹¶ä¸¤ä¸ªWordCount</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(source WordCount)</span></span> Merge(wordcount WordCount) WordCount &#123;</span><br><span class="line">    <span class="keyword">for</span> k, v := <span class="keyword">range</span> wordcount &#123;</span><br><span class="line">        source[k] += v</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> source</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ‰“å°è¯é¢‘ç»Ÿè®¡æƒ…å†µ</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(wordcount WordCount)</span></span> Report() &#123;</span><br><span class="line">    words := <span class="built_in">make</span>([]<span class="type">string</span>, <span class="number">0</span>, <span class="built_in">len</span>(wordcount))</span><br><span class="line">    wordWidth, frequencyWidth := <span class="number">0</span>, <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> word, frequency := <span class="keyword">range</span> wordcount &#123;</span><br><span class="line">        words = <span class="built_in">append</span>(words, word)</span><br><span class="line">        <span class="keyword">if</span> width := utf8.RuneCountInString(word); width &gt; wordWidth &#123;</span><br><span class="line">            wordWidth = width</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> width := <span class="built_in">len</span>(fmt.Sprint(frequency)); width &gt; frequencyWidth &#123;</span><br><span class="line">            frequencyWidth = width</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    sort.Strings(words)</span><br><span class="line">    gap := wordWidth + frequencyWidth - <span class="built_in">len</span>(<span class="string">&quot;Word&quot;</span>) - <span class="built_in">len</span>(<span class="string">&quot;Frequency&quot;</span>)</span><br><span class="line">    fmt.Printf(<span class="string">&quot;Word %*s%s\n&quot;</span>, gap, <span class="string">&quot; &quot;</span>, <span class="string">&quot;Frequency&quot;</span>)</span><br><span class="line">    <span class="keyword">for</span> _, word := <span class="keyword">range</span> words &#123;</span><br><span class="line">        fmt.Printf(<span class="string">&quot;%-*s %*d\n&quot;</span>, wordWidth, word, frequencyWidth,</span><br><span class="line">            wordcount[word])</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä»å¤šåˆ°å°‘æ‰“å°è¯é¢‘</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(wordcount WordCount)</span></span> SortReport() &#123;</span><br><span class="line">    p := <span class="built_in">make</span>(PairList, <span class="built_in">len</span>(wordcount))</span><br><span class="line">    i := <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> k, v := <span class="keyword">range</span> wordcount &#123; <span class="comment">// å°†wordcount mapè½¬æ¢æˆPairList</span></span><br><span class="line">        p[i] = Pair&#123;k, v&#125;</span><br><span class="line">        i++</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    sort.Sort(p) <span class="comment">// å› ä¸ºPairListå®ç°äº†æ’åºæ¥å£ï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨sort.Sort()å¯¹å…¶æ’åº</span></span><br><span class="line"></span><br><span class="line">    wordWidth, frequencyWidth := <span class="number">0</span>, <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> _, pair := <span class="keyword">range</span> p &#123;</span><br><span class="line">        word, frequency := pair.Key, pair.Value</span><br><span class="line">        <span class="keyword">if</span> width := utf8.RuneCountInString(word); width &gt; wordWidth &#123;</span><br><span class="line">            wordWidth = width</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> width := <span class="built_in">len</span>(fmt.Sprint(frequency)); width &gt; frequencyWidth &#123;</span><br><span class="line">            frequencyWidth = width</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    gap := wordWidth + frequencyWidth - <span class="built_in">len</span>(<span class="string">&quot;Word&quot;</span>) - <span class="built_in">len</span>(<span class="string">&quot;Frequency&quot;</span>)</span><br><span class="line">    fmt.Printf(<span class="string">&quot;Word %*s%s\n&quot;</span>, gap, <span class="string">&quot; &quot;</span>, <span class="string">&quot;Frequency&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> _, pair := <span class="keyword">range</span> p &#123;</span><br><span class="line">        fmt.Printf(<span class="string">&quot;%-*s %*d\n&quot;</span>, wordWidth, pair.Key, frequencyWidth,</span><br><span class="line">            pair.Value)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä»æ–‡ä»¶ä¸­è¯»å–å•è¯ï¼Œå¹¶æ›´æ–°å…¶å‡ºç°çš„æ¬¡æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(wordcount WordCount)</span></span> UpdateFreq(filename <span class="type">string</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> file *os.File</span><br><span class="line">    <span class="keyword">var</span> err <span class="type">error</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> file, err = os.Open(filename); err != <span class="literal">nil</span> &#123;</span><br><span class="line">        log.Println(<span class="string">&quot;failed to open the file: &quot;</span>, err)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">defer</span> file.Close() <span class="comment">// æœ¬å‡½æ•°é€€å‡ºä¹‹å‰æ—¶ï¼Œå…³é—­æ–‡ä»¶</span></span><br><span class="line"></span><br><span class="line">    reader := bufio.NewReader(file)</span><br><span class="line">    <span class="keyword">for</span> &#123;</span><br><span class="line">        line, err := reader.ReadString(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">        <span class="keyword">for</span> _, word := <span class="keyword">range</span> SplitOnNonLetters(strings.TrimSpace(line)) &#123;</span><br><span class="line">            <span class="keyword">if</span> <span class="built_in">len</span>(word) &gt; utf8.UTFMax ||</span><br><span class="line">                utf8.RuneCountInString(word) &gt; <span class="number">1</span> &#123;</span><br><span class="line">                wordcount[strings.ToLower(word)] += <span class="number">1</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> err != io.EOF &#123;</span><br><span class="line">                log.Println(<span class="string">&quot;failed to finish reading the file: &quot;</span>, err)</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¹¶å‘ç»Ÿè®¡å•è¯é¢‘æ¬¡</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(wordcount WordCount)</span></span> WordFreqCounter(files []<span class="type">string</span>) &#123;</span><br><span class="line"></span><br><span class="line">    results := <span class="built_in">make</span>(<span class="keyword">chan</span> Pair, <span class="built_in">len</span>(files))  <span class="comment">// goroutine å°†ç»“æœå‘é€åˆ°è¯¥channel</span></span><br><span class="line">    done := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="keyword">struct</span>&#123;&#125;, <span class="built_in">len</span>(files)) <span class="comment">// æ¯ä¸ªgoroutineå·¥ä½œå®Œæˆåï¼Œå‘é€ä¸€ä¸ªç©ºç»“æ„ä½“åˆ°è¯¥channelï¼Œè¡¨ç¤ºå·¥ä½œå®Œæˆ</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="built_in">len</span>(files); &#123; <span class="comment">// æœ‰å¤šå°‘ä¸ªæ–‡ä»¶å°±å¼€å¯å¤šå°‘ä¸ªgoroutine, ä½¿ç”¨åŒ¿åå‡½æ•°çš„æ–¹å¼</span></span><br><span class="line">        <span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">(done <span class="keyword">chan</span>&lt;- <span class="keyword">struct</span>&#123;&#125;, results <span class="keyword">chan</span>&lt;- Pair, filename <span class="type">string</span>)</span></span> &#123;</span><br><span class="line">            wordcount := <span class="built_in">make</span>(WordCount)</span><br><span class="line">            wordcount.UpdateFreq(filename)</span><br><span class="line">            <span class="keyword">for</span> k, v := <span class="keyword">range</span> wordcount &#123;</span><br><span class="line">                pair := Pair&#123;k, v&#125;</span><br><span class="line">                results &lt;- pair</span><br><span class="line">            &#125;</span><br><span class="line">            done &lt;- <span class="keyword">struct</span>&#123;&#125;&#123;&#125;</span><br><span class="line">        &#125;(done, results, files[i])</span><br><span class="line"></span><br><span class="line">        i++</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> working := <span class="built_in">len</span>(files); working &gt; <span class="number">0</span>; &#123; <span class="comment">// ç›‘å¬é€šé“ï¼Œç›´åˆ°æ‰€æœ‰çš„å·¥ä½œgoroutineå®Œæˆä»»åŠ¡æ—¶æ‰é€€å‡º</span></span><br><span class="line">        <span class="keyword">select</span> &#123;</span><br><span class="line">        <span class="keyword">case</span> pair := &lt;-results: <span class="comment">// æ¥æ”¶å‘é€åˆ°é€šé“ä¸­çš„ç»Ÿè®¡ç»“æœ</span></span><br><span class="line">            wordcount[pair.Key] += pair.Value</span><br><span class="line"></span><br><span class="line">        <span class="keyword">case</span> &lt;-done: <span class="comment">// åˆ¤æ–­å·¥ä½œgoroutineæ˜¯å¦å…¨éƒ¨å®Œæˆ</span></span><br><span class="line">            working--</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">DONE: <span class="comment">// å†æ¬¡å¯åŠ¨forå¾ªç¯å¤„ç†é€šé“ä¸­è¿˜æœªå¤„ç†å®Œçš„å€¼</span></span><br><span class="line">    <span class="keyword">for</span> &#123;</span><br><span class="line">        <span class="keyword">select</span> &#123;</span><br><span class="line">        <span class="keyword">case</span> pair := &lt;-results:</span><br><span class="line">            wordcount[pair.Key] += pair.Value</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            <span class="keyword">break</span> DONE</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">close</span>(results)</span><br><span class="line">    <span class="built_in">close</span>(done)</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç„¶ååœ¨ <code>$GOPATH</code> ç›®å½•ä¸­åˆ›å»ºæ–‡ä»¶ <code>wordfreq.go</code>ï¼Œè¾“å…¥ä»¥ä¸‹æºç ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">    <span class="string">&quot;os&quot;</span></span><br><span class="line">    <span class="string">&quot;path/filepath&quot;</span></span><br><span class="line">    <span class="string">&quot;wordcount&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(os.Args) == <span class="number">1</span> || os.Args[<span class="number">1</span>] == <span class="string">&quot;-h&quot;</span> || os.Args[<span class="number">1</span>] == <span class="string">&quot;--help&quot;</span> &#123;</span><br><span class="line">        fmt.Printf(<span class="string">&quot;usage: %s &lt;file1&gt; [&lt;file2&gt; [... &lt;fileN&gt;]]\n&quot;</span>,</span><br><span class="line">            filepath.Base(os.Args[<span class="number">0</span>]))</span><br><span class="line">        os.Exit(<span class="number">1</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    wordcounter := <span class="built_in">make</span>(wordcount.WordCount)</span><br><span class="line">    <span class="comment">// for _, filename := range os.Args[1:] &#123;</span></span><br><span class="line">    <span class="comment">//  wordcount.UpdateFreq(filename)</span></span><br><span class="line">    <span class="comment">// &#125;</span></span><br><span class="line">    wordcounter.WordFreqCounter(os.Args[<span class="number">1</span>:])</span><br><span class="line"></span><br><span class="line">    wordcounter.SortReport()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> GO </category>
          
          <category> Goç®€æ˜æ‰‹å†Œ </category>
          
          <category> è¯é¢‘ç»Ÿè®¡ç»¼åˆæ¡ˆä¾‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Goç®€æ˜æ‰‹å†Œ </tag>
            
            <tag> Code </tag>
            
            <tag> GO </tag>
            
            <tag> é¢å‘å¯¹è±¡ç¼–ç¨‹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Goå¹¶å‘ç¼–ç¨‹â€”â€”è¶…æ—¶æœºåˆ¶</title>
      <link href="/Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/%E5%B9%B6%E5%8F%91%E4%B8%8E%E5%B9%B6%E8%A1%8C/%E8%B6%85%E6%97%B6%E6%9C%BA%E5%88%B6/README/"/>
      <url>/Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/%E5%B9%B6%E5%8F%91%E4%B8%8E%E5%B9%B6%E8%A1%8C/%E8%B6%85%E6%97%B6%E6%9C%BA%E5%88%B6/README/</url>
      
        <content type="html"><![CDATA[<p>é€šè¿‡å‰é¢çš„å†…å®¹æˆ‘ä»¬äº†è§£åˆ°ï¼Œ<code>channel</code> çš„è¯»å†™æ“ä½œéå¸¸ç®€å•ï¼Œåªéœ€è¦é€šè¿‡ <code>&lt;-</code> æ“ä½œç¬¦å³å¯å®ç°ï¼Œä½†æ˜¯ <code>channel</code> çš„ä½¿ç”¨ä¸å½“å´ä¼šå¸¦æ¥å¤§éº»çƒ¦ã€‚æˆ‘ä»¬å…ˆæ¥çœ‹ä¹‹å‰çš„ä¸€æ®µä»£ç ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">int</span>)</span><br><span class="line">a &lt;- <span class="number">1</span></span><br><span class="line">z := &lt;-a</span><br></pre></td></tr></table></figure><p>è§‚å¯Ÿä¸Šé¢ä¸‰è¡Œä»£ç ï¼Œç¬¬ 2 è¡Œå¾€ <code>channel</code> å†…å†™å…¥äº†æ•°æ®ï¼Œç¬¬ 3 è¡Œä» <code>channel</code> ä¸­è¯»å–äº†æ•°æ®ï¼Œå¦‚æœç¨‹åºè¿è¡Œæ­£å¸¸å½“ç„¶ä¸ä¼šå‡ºä»€ä¹ˆé—®é¢˜ï¼Œå¯å¦‚æœç¬¬äºŒè¡Œæ•°æ®å†™å…¥å¤±è´¥ï¼Œæˆ–è€… <code>channel</code> ä¸­æ²¡æœ‰æ•°æ®ï¼Œé‚£ä¹ˆç¬¬ 3 è¡Œä»£ç ä¼šå› ä¸ºæ°¸è¿œæ— æ³•ä» <code>a</code> ä¸­è¯»å–åˆ°æ•°æ®è€Œä¸€ç›´å¤„äºé˜»å¡çŠ¶æ€ã€‚ç›¸åçš„ï¼Œå¦‚æœ <code>channel</code> ä¸­çš„æ•°æ®ä¸€ç›´æ²¡æœ‰è¢«è¯»å–ï¼Œé‚£ä¹ˆå†™å…¥æ“ä½œä¹Ÿä¼šä¸€ç›´å¤„äºé˜»å¡çŠ¶æ€ã€‚å¦‚æœä¸æ­£ç¡®å¤„ç†è¿™ä¸ªæƒ…å†µï¼Œå¾ˆå¯èƒ½ä¼šå¯¼è‡´æ•´ä¸ª <code>goroutine</code> é”æ­»ï¼Œè¿™å°±æ˜¯è¶…æ—¶é—®é¢˜ã€‚Go è¯­è¨€æ²¡æœ‰é’ˆå¯¹è¶…æ—¶æä¾›ä¸“é—¨çš„å¤„ç†æœºåˆ¶ï¼Œä½†æ˜¯æˆ‘ä»¬å´å¯ä»¥åˆ©ç”¨ <code>select</code> æ¥å·§å¦™åœ°å®ç°è¶…æ—¶å¤„ç†æœºåˆ¶ï¼Œä¸‹é¢çœ‹ä¸€ä¸ªç¤ºä¾‹ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">t := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">bool</span>)</span><br><span class="line"><span class="keyword">go</span> <span class="function"><span class="keyword">func</span></span> &#123;</span><br><span class="line">    time.Sleep(<span class="number">1e9</span>) <span class="comment">//ç­‰å¾…1ç§’</span></span><br><span class="line">    t &lt;- <span class="literal">true</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> &#123;</span><br><span class="line">    <span class="keyword">case</span> &lt;-ch:  <span class="comment">//ä»chä¸­è¯»å–æ•°æ®</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">case</span> &lt;-t:  <span class="comment">//å¦‚æœ1ç§’åæ²¡æœ‰ä»chä¸­è¯»å–åˆ°æ•°æ®ï¼Œé‚£ä¹ˆä»tä¸­è¯»å–ï¼Œå¹¶è¿›è¡Œä¸‹ä¸€æ­¥æ“ä½œ</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ ·çš„æ–¹æ³•å°±å¯ä»¥è®©ç¨‹åºåœ¨ç­‰å¾… 1 ç§’åç»§ç»­æ‰§è¡Œï¼Œè€Œä¸ä¼šå› ä¸º ch è¯»å–ç­‰å¾…è€Œå¯¼è‡´ç¨‹åºåœæ»ï¼Œä»è€Œå·§å¦™åœ°å®ç°äº†è¶…æ—¶å¤„ç†æœºåˆ¶ï¼Œè¿™ç§æ–¹æ³•ä¸ä»…ç®€å•ï¼Œåœ¨å®é™…é¡¹ç›®å¼€å‘ä¸­ä¹Ÿæ˜¯éå¸¸å®ç”¨çš„ã€‚</p><h4 id="channel-çš„å…³é—­"><a href="#channel-çš„å…³é—­" class="headerlink" title="channel çš„å…³é—­"></a>channel çš„å…³é—­</h4><p><code>channel</code> çš„å…³é—­éå¸¸ç®€å•ï¼Œä½¿ç”¨ Go è¯­è¨€å†…ç½®çš„ <code>close()</code> å‡½æ•°å³å¯å…³é—­ <code>channel</code>ï¼Œç¤ºä¾‹ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ch := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">int</span>)</span><br><span class="line"><span class="built_in">close</span>(ch)</span><br></pre></td></tr></table></figure><p>å…³é—­äº† <code>channel</code> åå¦‚ä½•æŸ¥çœ‹ <code>channel</code> æ˜¯å¦å…³é—­æˆåŠŸäº†å‘¢ï¼Ÿå¾ˆç®€å•ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è¯»å– <code>channel</code> æ—¶é‡‡ç”¨å¤šé‡è¿”å›å€¼çš„æ–¹å¼ï¼Œç¤ºä¾‹ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x, ok := &lt;-ch</span><br></pre></td></tr></table></figure><p>é€šè¿‡æŸ¥çœ‹ç¬¬äºŒä¸ªè¿”å›å€¼çš„ <code>bool</code> å€¼å³å¯åˆ¤æ–­ <code>channel</code> æ˜¯å¦å…³é—­ï¼Œè‹¥ä¸º <code>false</code> åˆ™è¡¨ç¤º <code>channel</code> è¢«å…³é—­ï¼Œåä¹‹åˆ™æ²¡æœ‰å…³é—­ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> GO </category>
          
          <category> Goç®€æ˜æ‰‹å†Œ </category>
          
          <category> å¹¶å‘ä¸å¹¶è¡Œ </category>
          
          <category> è¶…æ—¶æœºåˆ¶ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Goå¹¶å‘ç¼–ç¨‹â€”â€”select</title>
      <link href="/Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/%E5%B9%B6%E5%8F%91%E4%B8%8E%E5%B9%B6%E8%A1%8C/select/README/"/>
      <url>/Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/%E5%B9%B6%E5%8F%91%E4%B8%8E%E5%B9%B6%E8%A1%8C/select/README/</url>
      
        <content type="html"><![CDATA[<p><code>select</code> ç”¨äºå¤„ç†å¼‚æ­¥ IO é—®é¢˜ï¼Œå®ƒçš„è¯­æ³•ä¸ <code>switch</code> éå¸¸ç±»ä¼¼ã€‚ç”± <code>select</code> å¼€å§‹ä¸€ä¸ªæ–°çš„é€‰æ‹©å—ï¼Œæ¯ä¸ªé€‰æ‹©æ¡ä»¶ç”± <code>case</code> è¯­å¥æ¥æè¿°ï¼Œå¹¶ä¸”æ¯ä¸ª <code>case</code> è¯­å¥é‡Œå¿…é¡»æ˜¯ä¸€ä¸ª <code>channel</code> æ“ä½œã€‚å®ƒæ—¢å¯ä»¥ç”¨äº <code>channel</code> çš„æ•°æ®æ¥æ”¶ï¼Œä¹Ÿå¯ä»¥ç”¨äº <code>channel</code> çš„æ•°æ®å‘é€ã€‚å¦‚æœ <code>select</code> çš„å¤šä¸ªåˆ†æ”¯éƒ½æ»¡è¶³æ¡ä»¶ï¼Œåˆ™ä¼šéšæœºçš„é€‰å–å…¶ä¸­ä¸€ä¸ªæ»¡è¶³æ¡ä»¶çš„åˆ†æ”¯ã€‚</p><p>æ–°å»ºæºæ–‡ä»¶ <code>channel.go</code>ï¼Œè¾“å…¥ä»¥ä¸‹ä»£ç ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;time&quot;</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    c1 := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">string</span>)</span><br><span class="line">    c2 := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">string</span>)</span><br><span class="line">    <span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">        time.Sleep(time.Second * <span class="number">1</span>)</span><br><span class="line">        c1 &lt;- <span class="string">&quot;one&quot;</span></span><br><span class="line">    &#125;()</span><br><span class="line">    <span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">        time.Sleep(time.Second * <span class="number">2</span>)</span><br><span class="line">        c2 &lt;- <span class="string">&quot;two&quot;</span></span><br><span class="line">    &#125;()</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">2</span>; i++ &#123;</span><br><span class="line">        <span class="keyword">select</span> &#123;</span><br><span class="line">        <span class="keyword">case</span> msg1 := &lt;-c1:</span><br><span class="line">            fmt.Println(<span class="string">&quot;received&quot;</span>, msg1)</span><br><span class="line">        <span class="keyword">case</span> msg2 := &lt;-c2:</span><br><span class="line">            fmt.Println(<span class="string">&quot;received&quot;</span>, msg2)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šä»£ç å…ˆåˆå§‹åŒ–ä¸¤ä¸ª <code>channel</code> c1 å’Œ c2ï¼Œç„¶åå¼€å¯ä¸¤ä¸ª <code>goroutine</code> åˆ†åˆ«å¾€ c1 å’Œ c2 å†™å…¥æ•°æ®ï¼Œå†é€šè¿‡ <code>select</code> ç›‘å¬ä¸¤ä¸ª <code>channel</code>ï¼Œä»ä¸­è¯»å–æ•°æ®å¹¶è¾“å‡ºã€‚</p><p>è¿è¡Œç»“æœå¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ go run channel.go</span><br><span class="line">received one</span><br><span class="line">received two</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> GO </category>
          
          <category> Goç®€æ˜æ‰‹å†Œ </category>
          
          <category> å¹¶å‘ä¸å¹¶è¡Œ </category>
          
          <category> select </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Goå¹¶å‘ç¼–ç¨‹â€”â€”channel</title>
      <link href="/Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/%E5%B9%B6%E5%8F%91%E4%B8%8E%E5%B9%B6%E8%A1%8C/channel/README/"/>
      <url>/Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/%E5%B9%B6%E5%8F%91%E4%B8%8E%E5%B9%B6%E8%A1%8C/channel/README/</url>
      
        <content type="html"><![CDATA[<p><code>channel</code> æ˜¯<code>goroutine</code> ä¹‹é—´äº’ç›¸é€šè®¯çš„ä¸œè¥¿ã€‚ç±»ä¼¼æˆ‘ä»¬ Unix ä¸Šçš„ç®¡é“ï¼ˆå¯ä»¥åœ¨è¿›ç¨‹é—´ä¼ é€’æ¶ˆæ¯ï¼‰ï¼Œç”¨æ¥ <code>goroutine</code> ä¹‹é—´å‘æ¶ˆæ¯å’Œæ¥æ”¶æ¶ˆæ¯ã€‚å…¶å®ï¼Œå°±æ˜¯åœ¨åš <code>goroutine</code> ä¹‹é—´çš„å†…å­˜å…±äº«ã€‚<code>channel</code> æ˜¯ç±»å‹ç›¸å…³çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸€ä¸ª <code>channel</code> åªèƒ½ä¼ é€’ä¸€ç§ç±»å‹çš„å€¼ï¼Œè¿™ä¸ªç±»å‹éœ€è¦åœ¨ <code>channel</code> å£°æ˜æ—¶æŒ‡å®šã€‚</p><h4 id="å£°æ˜ä¸åˆå§‹åŒ–"><a href="#å£°æ˜ä¸åˆå§‹åŒ–" class="headerlink" title="å£°æ˜ä¸åˆå§‹åŒ–"></a>å£°æ˜ä¸åˆå§‹åŒ–</h4><p><code>channel</code> çš„ä¸€èˆ¬å£°æ˜å½¢å¼ï¼š<strong>var</strong> chanName <strong>chan</strong> ElementTypeã€‚</p><p>ä¸æ™®é€šå˜é‡çš„å£°æ˜ä¸åŒçš„æ˜¯åœ¨ç±»å‹å‰é¢åŠ äº† <code>channel</code> å…³é”®å­—ï¼Œ<code>ElementType</code> åˆ™æŒ‡å®šäº†è¿™ä¸ª <code>channel</code> æ‰€èƒ½ä¼ é€’çš„å…ƒç´ ç±»å‹ã€‚ç¤ºä¾‹ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a <span class="keyword">chan</span> <span class="type">int</span> <span class="comment">//å£°æ˜ä¸€ä¸ªä¼ é€’å…ƒç´ ç±»å‹ä¸ºintçš„channel</span></span><br><span class="line"><span class="keyword">var</span> b <span class="keyword">chan</span> <span class="type">float64</span></span><br><span class="line"><span class="keyword">var</span> c <span class="keyword">chan</span> <span class="type">string</span></span><br></pre></td></tr></table></figure><p>åˆå§‹åŒ–ä¸€ä¸ª <code>channel</code> ä¹Ÿéå¸¸ç®€å•ï¼Œç›´æ¥ä½¿ç”¨ Go è¯­è¨€å†…ç½®çš„ <code>make()</code> å‡½æ•°ï¼Œç¤ºä¾‹ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">int</span>) <span class="comment">//åˆå§‹åŒ–ä¸€ä¸ªintå‹çš„åä¸ºaçš„channel</span></span><br><span class="line">b := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">float64</span>)</span><br><span class="line">c := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">string</span>)</span><br></pre></td></tr></table></figure><p><code>channel</code> æœ€é¢‘ç¹çš„æ“ä½œå°±æ˜¯å†™å…¥å’Œè¯»å–ï¼Œè¿™ä¸¤ä¸ªæ“ä½œä¹Ÿéå¸¸ç®€å•ï¼Œç¤ºä¾‹ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">int</span>)</span><br><span class="line">a &lt;- <span class="number">1</span>  <span class="comment">//å°†æ•°æ®å†™å…¥channel</span></span><br><span class="line">z := &lt;-a  <span class="comment">//ä»channelä¸­è¯»å–æ•°æ®</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> GO </category>
          
          <category> Goç®€æ˜æ‰‹å†Œ </category>
          
          <category> å¹¶å‘ä¸å¹¶è¡Œ </category>
          
          <category> channel </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Goå¹¶å‘ç¼–ç¨‹â€”â€”goroutine</title>
      <link href="/Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/%E5%B9%B6%E5%8F%91%E4%B8%8E%E5%B9%B6%E8%A1%8C/goroutine/README/"/>
      <url>/Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/%E5%B9%B6%E5%8F%91%E4%B8%8E%E5%B9%B6%E8%A1%8C/goroutine/README/</url>
      
        <content type="html"><![CDATA[<p><code>goroutine</code> æ˜¯ Go è¯­è¨€å¹¶è¡Œè®¾è®¡çš„æ ¸å¿ƒã€‚<code>goroutine</code> æ˜¯ä¸€ç§æ¯”çº¿ç¨‹æ›´è½»é‡çš„å®ç°ï¼Œåå‡ ä¸ª <code>goroutine</code> å¯èƒ½åœ¨åº•å±‚å°±æ˜¯å‡ ä¸ªçº¿ç¨‹ã€‚ ä¸åŒçš„æ˜¯ï¼ŒGolang åœ¨ runtimeã€ç³»ç»Ÿè°ƒç”¨ç­‰å¤šæ–¹é¢å¯¹ <code>goroutine</code> è°ƒåº¦è¿›è¡Œäº†å°è£…å’Œå¤„ç†ï¼Œå½“é‡åˆ°é•¿æ—¶é—´æ‰§è¡Œæˆ–è€…è¿›è¡Œç³»ç»Ÿè°ƒç”¨æ—¶ï¼Œä¼šä¸»åŠ¨æŠŠå½“å‰ <code>goroutine</code> çš„ CPU (P) è½¬è®©å‡ºå»ï¼Œè®©å…¶ä»– <code>goroutine</code> èƒ½è¢«è°ƒåº¦å¹¶æ‰§è¡Œï¼Œä¹Ÿå°±æ˜¯ Golang ä»è¯­è¨€å±‚é¢æ”¯æŒäº†åç¨‹ã€‚è¦ä½¿ç”¨ <code>goroutine</code> åªéœ€è¦ç®€å•çš„åœ¨éœ€è¦æ‰§è¡Œçš„å‡½æ•°å‰æ·»åŠ  <code>go</code> å…³é”®å­—å³å¯ã€‚å½“æ‰§è¡Œ <code>goroutine</code> æ—¶å€™ï¼ŒGo è¯­è¨€ç«‹å³è¿”å›ï¼Œæ¥ç€æ‰§è¡Œå‰©ä½™çš„ä»£ç ï¼Œ<code>goroutine</code> ä¸é˜»å¡ä¸»çº¿ç¨‹ã€‚ä¸‹é¢æˆ‘ä»¬é€šè¿‡ä¸€å°æ®µä»£ç æ¥è®²è§£ <code>go</code> çš„ä½¿ç”¨ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//é¦–å…ˆæˆ‘ä»¬å…ˆå®ç°ä¸€ä¸ª Add()å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Add</span><span class="params">(a, b <span class="type">int</span>)</span></span> &#123;</span><br><span class="line">    c := a + b</span><br><span class="line">    fmt.Println(c)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">go</span> Add(<span class="number">1</span>, <span class="number">2</span>) <span class="comment">//ä½¿ç”¨goå…³é”®å­—è®©å‡½æ•°å¹¶å‘æ‰§è¡Œ</span></span><br></pre></td></tr></table></figure><p>Go çš„å¹¶å‘æ‰§è¡Œå°±æ˜¯è¿™ä¹ˆç®€å•ï¼Œå½“åœ¨ä¸€ä¸ªå‡½æ•°å‰åŠ ä¸Š <code>go</code> å…³é”®å­—ï¼Œè¯¥å‡½æ•°å°±ä¼šåœ¨ä¸€ä¸ªæ–°çš„ goroutine ä¸­å¹¶å‘æ‰§è¡Œï¼Œå½“è¯¥å‡½æ•°æ‰§è¡Œå®Œæ¯•æ—¶ï¼Œè¿™ä¸ªæ–°çš„ goroutine ä¹Ÿå°±ç»“æŸäº†ã€‚ä¸è¿‡éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœè¯¥å‡½æ•°å…·æœ‰è¿”å›å€¼ï¼Œé‚£ä¹ˆè¿”å›å€¼ä¼šè¢«ä¸¢å¼ƒã€‚æ‰€ä»¥ä»€ä¹ˆæ—¶å€™ç”¨ <code>go</code> è¿˜éœ€è¦é…Œæƒ…è€ƒè™‘ã€‚</p><p>æ¥ç€æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªæ¡ˆä¾‹æ¥ä½“éªŒä¸€ä¸‹ Go çš„å¹¶å‘åˆ°åº•æ˜¯æ€ä¹ˆæ ·çš„ã€‚æ–°å»ºæºæ–‡ä»¶ <code>goroutine.go</code>ï¼Œè¾“å…¥ä»¥ä¸‹ä»£ç ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Add</span><span class="params">(a, b <span class="type">int</span>)</span></span> &#123;</span><br><span class="line">    c := a + b</span><br><span class="line">    fmt.Println(c)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">10</span>; i++ &#123;</span><br><span class="line">        <span class="keyword">go</span> Add(i, i)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œ <code>goroutine.go</code> æ–‡ä»¶ä¼šå‘ç°å±å¹•ä¸Šä»€ä¹ˆéƒ½æ²¡æœ‰ï¼Œä½†ç¨‹åºå¹¶ä¸ä¼šæŠ¥é”™ï¼Œè¿™æ˜¯ä»€ä¹ˆåŸå› å‘¢ï¼ŸåŸæ¥å½“ä¸»ç¨‹åºæ‰§è¡Œåˆ° for å¾ªç¯æ—¶å¯åŠ¨äº† 10 ä¸ª <code>goroutine</code>ï¼Œç„¶åä¸»ç¨‹åºå°±é€€å‡ºäº†ï¼Œè€Œå¯åŠ¨çš„ 10 ä¸ª <code>goroutine</code> è¿˜æ²¡æ¥å¾—åŠæ‰§è¡Œ <code>Add()</code> å‡½æ•°ï¼Œæ‰€ä»¥ç¨‹åºä¸ä¼šæœ‰ä»»ä½•è¾“å‡ºã€‚ä¹Ÿå°±æ˜¯è¯´ä¸» <code>goroutine</code> å¹¶ä¸ä¼šç­‰å¾…å…¶ä»– <code>goroutine</code> æ‰§è¡Œç»“æŸã€‚é‚£ä¹ˆå¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼ŸGo è¯­è¨€æä¾›çš„ä¿¡é“ï¼ˆ<code>channel</code>ï¼‰å°±æ˜¯ä¸“é—¨è§£å†³å¹¶å‘é€šä¿¡é—®é¢˜çš„ï¼Œä¸‹ä¸€èŠ‚æˆ‘ä»¬å°†è¯¦ç»†ä»‹ç»ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> GO </category>
          
          <category> Goç®€æ˜æ‰‹å†Œ </category>
          
          <category> å¹¶å‘ä¸å¹¶è¡Œ </category>
          
          <category> goroutine </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Goå¹¶å‘ç¼–ç¨‹â€”â€”æ¦‚è¦</title>
      <link href="/Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/%E5%B9%B6%E5%8F%91%E4%B8%8E%E5%B9%B6%E8%A1%8C/README/"/>
      <url>/Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/%E5%B9%B6%E5%8F%91%E4%B8%8E%E5%B9%B6%E8%A1%8C/README/</url>
      
        <content type="html"><![CDATA[<h4 id="çŸ¥è¯†ç‚¹"><a href="#çŸ¥è¯†ç‚¹" class="headerlink" title="çŸ¥è¯†ç‚¹"></a>çŸ¥è¯†ç‚¹</h4><ul><li>å¹¶å‘ä¸å¹¶è¡Œ</li><li>åç¨‹</li><li>goroutine</li><li>channel</li><li>select</li></ul><h1 id="å¹¶å‘ç¼–ç¨‹"><a href="#å¹¶å‘ç¼–ç¨‹" class="headerlink" title="å¹¶å‘ç¼–ç¨‹"></a>å¹¶å‘ç¼–ç¨‹</h1><blockquote><h4 id="å¹¶å‘ä¸å¹¶è¡Œ"><a href="#å¹¶å‘ä¸å¹¶è¡Œ" class="headerlink" title="å¹¶å‘ä¸å¹¶è¡Œ"></a>å¹¶å‘ä¸å¹¶è¡Œ</h4><p>å¹¶å‘æŒ‡åœ¨åŒä¸€æ—¶åˆ»åªèƒ½æœ‰ä¸€æ¡æŒ‡ä»¤æ‰§è¡Œï¼Œä½†å¤šä¸ªè¿›ç¨‹æŒ‡ä»¤è¢«å¿«é€Ÿçš„è½®æ¢æ‰§è¡Œï¼Œä½¿å¾—åœ¨å®è§‚ä¸Šå…·æœ‰å¤šä¸ªè¿›ç¨‹åŒæ—¶æ‰§è¡Œçš„æ•ˆæœï¼Œä½†åœ¨å¾®è§‚ä¸Šå¹¶ä¸æ˜¯åŒæ—¶æ‰§è¡Œçš„ï¼Œåªæ˜¯æŠŠæ—¶é—´åˆ†æˆè‹¥å¹²æ®µï¼Œé€šè¿‡ CPU æ—¶é—´ç‰‡è½®è½¬ä½¿å¤šä¸ªè¿›ç¨‹å¿«é€Ÿäº¤æ›¿çš„æ‰§è¡Œã€‚è€Œå¹¶è¡Œçš„å…³é”®æ˜¯ä½ æœ‰åŒæ—¶å¤„ç†å¤šä¸ªä»»åŠ¡çš„èƒ½åŠ›ã€‚å¹¶å‘å’Œå¹¶è¡Œéƒ½å¯ä»¥æ˜¯å¾ˆå¤šä¸ªçº¿ç¨‹ï¼Œå°±çœ‹è¿™äº›çº¿ç¨‹èƒ½ä¸èƒ½åŒæ—¶è¢«ï¼ˆå¤šä¸ªï¼‰CPU æ‰§è¡Œï¼Œå¦‚æœå¯ä»¥å°±è¯´æ˜æ˜¯å¹¶è¡Œï¼Œè€Œå¹¶å‘æ˜¯å¤šä¸ªçº¿ç¨‹è¢«ï¼ˆä¸€ä¸ªï¼‰CPU è½®æµåˆ‡æ¢ç€æ‰§è¡Œã€‚ä¸€ä¸ªç»å…¸ä¸”é€šä¿—æ˜“æ‡‚çš„ä¾‹å­è¿™æ ·è§£é‡Šå¹¶å‘ä¸å¹¶è¡Œçš„åŒºåˆ«ï¼šå¹¶å‘æ˜¯ä¸¤ä¸ªé˜Ÿåˆ—ï¼Œä½¿ç”¨ä¸€å°å’–å•¡æœºï¼›å¹¶è¡Œæ˜¯ä¸¤ä¸ªé˜Ÿåˆ—ï¼Œä½¿ç”¨ä¸¤å°å’–å•¡æœºã€‚å¦‚æœä¸²è¡Œï¼Œä¸€ä¸ªé˜Ÿåˆ—ä½¿ç”¨ä¸€å°å’–å•¡æœºï¼Œé‚£ä¹ˆå“ªæ€•å‰é¢é‚£ä¸ªäººæœ‰äº‹å‡ºå»äº†åŠå¤©ï¼Œåé¢çš„äººä¹Ÿåªèƒ½ç­‰ç€ä»–å›æ¥æ‰èƒ½å»æ¥å’–å•¡ï¼Œè¿™æ•ˆç‡æ— ç–‘æ˜¯æœ€ä½çš„ã€‚å›¾è§£ï¼š</p><div class="tag-plugin image"><div class="image-bg"><img src="images/README/1.jpeg"/></div></div></blockquote><blockquote><h4 id="åç¨‹"><a href="#åç¨‹" class="headerlink" title="åç¨‹*"></a>åç¨‹<code>*</code></h4><p>åç¨‹ä¹Ÿå«è½»é‡çº§çº¿ç¨‹ã€‚ä¸ä¼ ç»Ÿçš„è¿›ç¨‹å’Œçº¿ç¨‹ç›¸æ¯”ï¼Œåç¨‹æœ€å¤§çš„ä¼˜ç‚¹å°±åœ¨äºå…¶è¶³å¤Ÿâ€œè½»â€ï¼Œæ“ä½œç³»ç»Ÿå¯ä»¥è½»æ¾åˆ›å»ºä¸Šç™¾ä¸‡ä¸ªåç¨‹è€Œä¸ä¼šå¯¼è‡´ç³»ç»Ÿèµ„æºæ¯ç«­ï¼Œè€Œçº¿ç¨‹å’Œè¿›ç¨‹é€šå¸¸æœ€å¤šä¸è¿‡è¿‘ä¸‡ä¸ªã€‚è€Œå¤šæ•°è¯­è¨€åœ¨è¯­æ³•å±‚é¢ä¸Šæ˜¯ä¸æ”¯æŒåç¨‹çš„ï¼Œä¸€èˆ¬éƒ½æ˜¯é€šè¿‡åº“çš„æ–¹å¼è¿›è¡Œæ”¯æŒï¼Œä½†åº“çš„æ”¯æŒæ–¹å¼å’ŒåŠŸèƒ½ä¸å¤Ÿå®Œå–„ï¼Œç»å¸¸ä¼šå¼•å‘é˜»å¡ç­‰ä¸€ç³»åˆ—é—®é¢˜ï¼Œè€Œ Go è¯­è¨€åœ¨è¯­æ³•å±‚é¢ä¸Šæ”¯æŒåç¨‹ï¼Œä¹Ÿå« <code>goroutine</code>ã€‚è¿™è®©åç¨‹å˜å¾—éå¸¸ç®€å•ï¼Œè®©è½»é‡çº§çº¿ç¨‹çš„åˆ‡æ¢ç®¡ç†ä¸å†ä¾èµ–äºç³»ç»Ÿçš„è¿›ç¨‹å’Œçº¿ç¨‹ï¼Œä¹Ÿä¸ä¾èµ– CPU çš„æ•°é‡ã€‚</p></blockquote><h2 id="goroutine"><a href="#goroutine" class="headerlink" title="goroutine*"></a>goroutine<code>*</code></h2><p><code>goroutine</code> æ˜¯ Go è¯­è¨€å¹¶è¡Œè®¾è®¡çš„æ ¸å¿ƒã€‚<code>goroutine</code> æ˜¯ä¸€ç§æ¯”çº¿ç¨‹æ›´è½»é‡çš„å®ç°ï¼Œåå‡ ä¸ª <code>goroutine</code> å¯èƒ½åœ¨åº•å±‚å°±æ˜¯å‡ ä¸ªçº¿ç¨‹ã€‚ ä¸åŒçš„æ˜¯ï¼ŒGolang åœ¨ runtimeã€ç³»ç»Ÿè°ƒç”¨ç­‰å¤šæ–¹é¢å¯¹ <code>goroutine</code> è°ƒåº¦è¿›è¡Œäº†å°è£…å’Œå¤„ç†ï¼Œå½“é‡åˆ°é•¿æ—¶é—´æ‰§è¡Œæˆ–è€…è¿›è¡Œç³»ç»Ÿè°ƒç”¨æ—¶ï¼Œä¼šä¸»åŠ¨æŠŠå½“å‰ <code>goroutine</code> çš„ CPU (P) è½¬è®©å‡ºå»ï¼Œè®©å…¶ä»– <code>goroutine</code> èƒ½è¢«è°ƒåº¦å¹¶æ‰§è¡Œï¼Œä¹Ÿå°±æ˜¯ Golang ä»è¯­è¨€å±‚é¢æ”¯æŒäº†åç¨‹ã€‚è¦ä½¿ç”¨ <code>goroutine</code> åªéœ€è¦ç®€å•çš„åœ¨éœ€è¦æ‰§è¡Œçš„å‡½æ•°å‰æ·»åŠ  <code>go</code> å…³é”®å­—å³å¯ã€‚å½“æ‰§è¡Œ <code>goroutine</code> æ—¶å€™ï¼ŒGo è¯­è¨€ç«‹å³è¿”å›ï¼Œæ¥ç€æ‰§è¡Œå‰©ä½™çš„ä»£ç ï¼Œ<code>goroutine</code> ä¸é˜»å¡ä¸»çº¿ç¨‹ã€‚ä¸‹é¢æˆ‘ä»¬é€šè¿‡ä¸€å°æ®µä»£ç æ¥è®²è§£ <code>go</code> çš„ä½¿ç”¨ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//é¦–å…ˆæˆ‘ä»¬å…ˆå®ç°ä¸€ä¸ª Add()å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Add</span><span class="params">(a, b <span class="type">int</span>)</span></span> &#123;</span><br><span class="line">    c := a + b</span><br><span class="line">    fmt.Println(c)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">go</span> Add(<span class="number">1</span>, <span class="number">2</span>) <span class="comment">//ä½¿ç”¨goå…³é”®å­—è®©å‡½æ•°å¹¶å‘æ‰§è¡Œ</span></span><br></pre></td></tr></table></figure><p>Go çš„å¹¶å‘æ‰§è¡Œå°±æ˜¯è¿™ä¹ˆç®€å•ï¼Œå½“åœ¨ä¸€ä¸ªå‡½æ•°å‰åŠ ä¸Š <code>go</code> å…³é”®å­—ï¼Œè¯¥å‡½æ•°å°±ä¼šåœ¨ä¸€ä¸ªæ–°çš„ goroutine ä¸­å¹¶å‘æ‰§è¡Œï¼Œå½“è¯¥å‡½æ•°æ‰§è¡Œå®Œæ¯•æ—¶ï¼Œè¿™ä¸ªæ–°çš„ goroutine ä¹Ÿå°±ç»“æŸäº†ã€‚ä¸è¿‡éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœè¯¥å‡½æ•°å…·æœ‰è¿”å›å€¼ï¼Œé‚£ä¹ˆè¿”å›å€¼ä¼šè¢«ä¸¢å¼ƒã€‚æ‰€ä»¥ä»€ä¹ˆæ—¶å€™ç”¨ <code>go</code> è¿˜éœ€è¦é…Œæƒ…è€ƒè™‘ã€‚</p><p>æ¥ç€æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªæ¡ˆä¾‹æ¥ä½“éªŒä¸€ä¸‹ Go çš„å¹¶å‘åˆ°åº•æ˜¯æ€ä¹ˆæ ·çš„ã€‚æ–°å»ºæºæ–‡ä»¶ <code>goroutine.go</code>ï¼Œè¾“å…¥ä»¥ä¸‹ä»£ç ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Add</span><span class="params">(a, b <span class="type">int</span>)</span></span> &#123;</span><br><span class="line">    c := a + b</span><br><span class="line">    fmt.Println(c)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">10</span>; i++ &#123;</span><br><span class="line">        <span class="keyword">go</span> Add(i, i)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œ <code>goroutine.go</code> æ–‡ä»¶ä¼šå‘ç°å±å¹•ä¸Šä»€ä¹ˆéƒ½æ²¡æœ‰ï¼Œä½†ç¨‹åºå¹¶ä¸ä¼šæŠ¥é”™ï¼Œè¿™æ˜¯ä»€ä¹ˆåŸå› å‘¢ï¼ŸåŸæ¥å½“ä¸»ç¨‹åºæ‰§è¡Œåˆ° for å¾ªç¯æ—¶å¯åŠ¨äº† 10 ä¸ª <code>goroutine</code>ï¼Œç„¶åä¸»ç¨‹åºå°±é€€å‡ºäº†ï¼Œè€Œå¯åŠ¨çš„ 10 ä¸ª <code>goroutine</code> è¿˜æ²¡æ¥å¾—åŠæ‰§è¡Œ <code>Add()</code> å‡½æ•°ï¼Œæ‰€ä»¥ç¨‹åºä¸ä¼šæœ‰ä»»ä½•è¾“å‡ºã€‚ä¹Ÿå°±æ˜¯è¯´ä¸» <code>goroutine</code> å¹¶ä¸ä¼šç­‰å¾…å…¶ä»– <code>goroutine</code> æ‰§è¡Œç»“æŸã€‚é‚£ä¹ˆå¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼ŸGo è¯­è¨€æä¾›çš„ä¿¡é“ï¼ˆ<code>channel</code>ï¼‰å°±æ˜¯ä¸“é—¨è§£å†³å¹¶å‘é€šä¿¡é—®é¢˜çš„</p><h2 id="channel"><a href="#channel" class="headerlink" title="channel"></a>channel</h2><p><code>channel</code> æ˜¯<code>goroutine</code> ä¹‹é—´äº’ç›¸é€šè®¯çš„ä¸œè¥¿ã€‚ç±»ä¼¼æˆ‘ä»¬ Unix ä¸Šçš„ç®¡é“ï¼ˆå¯ä»¥åœ¨è¿›ç¨‹é—´ä¼ é€’æ¶ˆæ¯ï¼‰ï¼Œç”¨æ¥ <code>goroutine</code> ä¹‹é—´å‘æ¶ˆæ¯å’Œæ¥æ”¶æ¶ˆæ¯ã€‚å…¶å®ï¼Œå°±æ˜¯åœ¨åš <code>goroutine</code> ä¹‹é—´çš„å†…å­˜å…±äº«ã€‚<code>channel</code> æ˜¯ç±»å‹ç›¸å…³çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸€ä¸ª <code>channel</code> åªèƒ½ä¼ é€’ä¸€ç§ç±»å‹çš„å€¼ï¼Œè¿™ä¸ªç±»å‹éœ€è¦åœ¨ <code>channel</code> å£°æ˜æ—¶æŒ‡å®šã€‚</p><h3 id="å£°æ˜ä¸åˆå§‹åŒ–"><a href="#å£°æ˜ä¸åˆå§‹åŒ–" class="headerlink" title="å£°æ˜ä¸åˆå§‹åŒ–"></a>å£°æ˜ä¸åˆå§‹åŒ–</h3><p><code>channel</code> çš„ä¸€èˆ¬å£°æ˜å½¢å¼ï¼š<strong>var</strong> chanName <strong>chan</strong> ElementTypeã€‚</p><p>ä¸æ™®é€šå˜é‡çš„å£°æ˜ä¸åŒçš„æ˜¯åœ¨ç±»å‹å‰é¢åŠ äº† <code>channel</code> å…³é”®å­—ï¼Œ<code>ElementType</code> åˆ™æŒ‡å®šäº†è¿™ä¸ª <code>channel</code> æ‰€èƒ½ä¼ é€’çš„å…ƒç´ ç±»å‹ã€‚ç¤ºä¾‹ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a <span class="keyword">chan</span> <span class="type">int</span> <span class="comment">//å£°æ˜ä¸€ä¸ªä¼ é€’å…ƒç´ ç±»å‹ä¸ºintçš„channel</span></span><br><span class="line"><span class="keyword">var</span> b <span class="keyword">chan</span> <span class="type">float64</span></span><br><span class="line"><span class="keyword">var</span> c <span class="keyword">chan</span> <span class="type">string</span></span><br></pre></td></tr></table></figure><p>åˆå§‹åŒ–ä¸€ä¸ª <code>channel</code> ä¹Ÿéå¸¸ç®€å•ï¼Œç›´æ¥ä½¿ç”¨ Go è¯­è¨€å†…ç½®çš„ <code>make()</code> å‡½æ•°ï¼Œç¤ºä¾‹ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">int</span>) <span class="comment">//åˆå§‹åŒ–ä¸€ä¸ªintå‹çš„åä¸ºaçš„channel</span></span><br><span class="line">b := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">float64</span>)</span><br><span class="line">c := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">string</span>)</span><br></pre></td></tr></table></figure><p><code>channel</code> æœ€é¢‘ç¹çš„æ“ä½œå°±æ˜¯å†™å…¥å’Œè¯»å–ï¼Œè¿™ä¸¤ä¸ªæ“ä½œä¹Ÿéå¸¸ç®€å•ï¼Œç¤ºä¾‹ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">int</span>)</span><br><span class="line">a &lt;- <span class="number">1</span>  <span class="comment">//å°†æ•°æ®å†™å…¥channel</span></span><br><span class="line">z := &lt;-a  <span class="comment">//ä»channelä¸­è¯»å–æ•°æ®</span></span><br></pre></td></tr></table></figure><h2 id="select"><a href="#select" class="headerlink" title="select"></a>select</h2><p><code>select</code> ç”¨äºå¤„ç†å¼‚æ­¥ IO é—®é¢˜ï¼Œå®ƒçš„è¯­æ³•ä¸ <code>switch</code> éå¸¸ç±»ä¼¼ã€‚ç”± <code>select</code> å¼€å§‹ä¸€ä¸ªæ–°çš„é€‰æ‹©å—ï¼Œæ¯ä¸ªé€‰æ‹©æ¡ä»¶ç”± <code>case</code> è¯­å¥æ¥æè¿°ï¼Œå¹¶ä¸”æ¯ä¸ª <code>case</code> è¯­å¥é‡Œå¿…é¡»æ˜¯ä¸€ä¸ª <code>channel</code> æ“ä½œã€‚å®ƒæ—¢å¯ä»¥ç”¨äº <code>channel</code> çš„æ•°æ®æ¥æ”¶ï¼Œä¹Ÿå¯ä»¥ç”¨äº <code>channel</code> çš„æ•°æ®å‘é€ã€‚å¦‚æœ <code>select</code> çš„å¤šä¸ªåˆ†æ”¯éƒ½æ»¡è¶³æ¡ä»¶ï¼Œåˆ™ä¼šéšæœºçš„é€‰å–å…¶ä¸­ä¸€ä¸ªæ»¡è¶³æ¡ä»¶çš„åˆ†æ”¯ã€‚</p><p>æ–°å»ºæºæ–‡ä»¶ <code>channel.go</code>ï¼Œè¾“å…¥ä»¥ä¸‹ä»£ç ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;time&quot;</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    c1 := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">string</span>)</span><br><span class="line">    c2 := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">string</span>)</span><br><span class="line">    <span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">        time.Sleep(time.Second * <span class="number">1</span>)</span><br><span class="line">        c1 &lt;- <span class="string">&quot;one&quot;</span></span><br><span class="line">    &#125;()</span><br><span class="line">    <span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">        time.Sleep(time.Second * <span class="number">2</span>)</span><br><span class="line">        c2 &lt;- <span class="string">&quot;two&quot;</span></span><br><span class="line">    &#125;()</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">2</span>; i++ &#123;</span><br><span class="line">        <span class="keyword">select</span> &#123;</span><br><span class="line">        <span class="keyword">case</span> msg1 := &lt;-c1:</span><br><span class="line">            fmt.Println(<span class="string">&quot;received&quot;</span>, msg1)</span><br><span class="line">        <span class="keyword">case</span> msg2 := &lt;-c2:</span><br><span class="line">            fmt.Println(<span class="string">&quot;received&quot;</span>, msg2)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šä»£ç å…ˆåˆå§‹åŒ–ä¸¤ä¸ª <code>channel</code> c1 å’Œ c2ï¼Œç„¶åå¼€å¯ä¸¤ä¸ª <code>goroutine</code> åˆ†åˆ«å¾€ c1 å’Œ c2 å†™å…¥æ•°æ®ï¼Œå†é€šè¿‡ <code>select</code> ç›‘å¬ä¸¤ä¸ª <code>channel</code>ï¼Œä»ä¸­è¯»å–æ•°æ®å¹¶è¾“å‡ºã€‚</p><p>è¿è¡Œç»“æœå¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ go run channel.go</span><br><span class="line">received one</span><br><span class="line">received two</span><br></pre></td></tr></table></figure><h2 id="è¶…æ—¶æœºåˆ¶"><a href="#è¶…æ—¶æœºåˆ¶" class="headerlink" title="è¶…æ—¶æœºåˆ¶"></a>è¶…æ—¶æœºåˆ¶</h2><p>é€šè¿‡å‰é¢çš„å†…å®¹æˆ‘ä»¬äº†è§£åˆ°ï¼Œ<code>channel</code> çš„è¯»å†™æ“ä½œéå¸¸ç®€å•ï¼Œåªéœ€è¦é€šè¿‡ <code>&lt;-</code> æ“ä½œç¬¦å³å¯å®ç°ï¼Œä½†æ˜¯ <code>channel</code> çš„ä½¿ç”¨ä¸å½“å´ä¼šå¸¦æ¥å¤§éº»çƒ¦ã€‚æˆ‘ä»¬å…ˆæ¥çœ‹ä¹‹å‰çš„ä¸€æ®µä»£ç ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">int</span>)</span><br><span class="line">a &lt;- <span class="number">1</span></span><br><span class="line">z := &lt;-a</span><br></pre></td></tr></table></figure><p>è§‚å¯Ÿä¸Šé¢ä¸‰è¡Œä»£ç ï¼Œç¬¬ 2 è¡Œå¾€ <code>channel</code> å†…å†™å…¥äº†æ•°æ®ï¼Œç¬¬ 3 è¡Œä» <code>channel</code> ä¸­è¯»å–äº†æ•°æ®ï¼Œå¦‚æœç¨‹åºè¿è¡Œæ­£å¸¸å½“ç„¶ä¸ä¼šå‡ºä»€ä¹ˆé—®é¢˜ï¼Œå¯å¦‚æœç¬¬äºŒè¡Œæ•°æ®å†™å…¥å¤±è´¥ï¼Œæˆ–è€… <code>channel</code> ä¸­æ²¡æœ‰æ•°æ®ï¼Œé‚£ä¹ˆç¬¬ 3 è¡Œä»£ç ä¼šå› ä¸ºæ°¸è¿œæ— æ³•ä» <code>a</code> ä¸­è¯»å–åˆ°æ•°æ®è€Œä¸€ç›´å¤„äºé˜»å¡çŠ¶æ€ã€‚ç›¸åçš„ï¼Œå¦‚æœ <code>channel</code> ä¸­çš„æ•°æ®ä¸€ç›´æ²¡æœ‰è¢«è¯»å–ï¼Œé‚£ä¹ˆå†™å…¥æ“ä½œä¹Ÿä¼šä¸€ç›´å¤„äºé˜»å¡çŠ¶æ€ã€‚å¦‚æœä¸æ­£ç¡®å¤„ç†è¿™ä¸ªæƒ…å†µï¼Œå¾ˆå¯èƒ½ä¼šå¯¼è‡´æ•´ä¸ª <code>goroutine</code> é”æ­»ï¼Œè¿™å°±æ˜¯è¶…æ—¶é—®é¢˜ã€‚Go è¯­è¨€æ²¡æœ‰é’ˆå¯¹è¶…æ—¶æä¾›ä¸“é—¨çš„å¤„ç†æœºåˆ¶ï¼Œä½†æ˜¯æˆ‘ä»¬å´å¯ä»¥åˆ©ç”¨ <code>select</code> æ¥å·§å¦™åœ°å®ç°è¶…æ—¶å¤„ç†æœºåˆ¶ï¼Œä¸‹é¢çœ‹ä¸€ä¸ªç¤ºä¾‹ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">t := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">bool</span>)</span><br><span class="line"><span class="keyword">go</span> <span class="function"><span class="keyword">func</span></span> &#123;</span><br><span class="line">    time.Sleep(<span class="number">1e9</span>) <span class="comment">//ç­‰å¾…1ç§’</span></span><br><span class="line">    t &lt;- <span class="literal">true</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> &#123;</span><br><span class="line">    <span class="keyword">case</span> &lt;-ch:  <span class="comment">//ä»chä¸­è¯»å–æ•°æ®</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">case</span> &lt;-t:  <span class="comment">//å¦‚æœ1ç§’åæ²¡æœ‰ä»chä¸­è¯»å–åˆ°æ•°æ®ï¼Œé‚£ä¹ˆä»tä¸­è¯»å–ï¼Œå¹¶è¿›è¡Œä¸‹ä¸€æ­¥æ“ä½œ</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ ·çš„æ–¹æ³•å°±å¯ä»¥è®©ç¨‹åºåœ¨ç­‰å¾… 1 ç§’åç»§ç»­æ‰§è¡Œï¼Œè€Œä¸ä¼šå› ä¸º ch è¯»å–ç­‰å¾…è€Œå¯¼è‡´ç¨‹åºåœæ»ï¼Œä»è€Œå·§å¦™åœ°å®ç°äº†è¶…æ—¶å¤„ç†æœºåˆ¶ï¼Œè¿™ç§æ–¹æ³•ä¸ä»…ç®€å•ï¼Œåœ¨å®é™…é¡¹ç›®å¼€å‘ä¸­ä¹Ÿæ˜¯éå¸¸å®ç”¨çš„ã€‚</p><h4 id="channel-çš„å…³é—­"><a href="#channel-çš„å…³é—­" class="headerlink" title="channel çš„å…³é—­"></a>channel çš„å…³é—­</h4><p><code>channel</code> çš„å…³é—­éå¸¸ç®€å•ï¼Œä½¿ç”¨ Go è¯­è¨€å†…ç½®çš„ <code>close()</code> å‡½æ•°å³å¯å…³é—­ <code>channel</code>ï¼Œç¤ºä¾‹ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ch := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">int</span>)</span><br><span class="line"><span class="built_in">close</span>(ch)</span><br></pre></td></tr></table></figure><p>å…³é—­äº† <code>channel</code> åå¦‚ä½•æŸ¥çœ‹ <code>channel</code> æ˜¯å¦å…³é—­æˆåŠŸäº†å‘¢ï¼Ÿå¾ˆç®€å•ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è¯»å– <code>channel</code> æ—¶é‡‡ç”¨å¤šé‡è¿”å›å€¼çš„æ–¹å¼ï¼Œç¤ºä¾‹ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x, ok := &lt;-ch</span><br></pre></td></tr></table></figure><p>é€šè¿‡æŸ¥çœ‹ç¬¬äºŒä¸ªè¿”å›å€¼çš„ <code>bool</code> å€¼å³å¯åˆ¤æ–­ <code>channel</code> æ˜¯å¦å…³é—­ï¼Œè‹¥ä¸º <code>false</code> åˆ™è¡¨ç¤º <code>channel</code> è¢«å…³é—­ï¼Œåä¹‹åˆ™æ²¡æœ‰å…³é—­ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> GO </category>
          
          <category> Goç®€æ˜æ‰‹å†Œ </category>
          
          <category> å¹¶å‘ä¸å¹¶è¡Œ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Goç®€æ˜æ‰‹å†Œæ¦‚è¦</title>
      <link href="/Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/Readme/"/>
      <url>/Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/Readme/</url>
      
        <content type="html"><![CDATA[<p><a href="./Go%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/readme.md">Goè¯­è¨€åŸºç¡€</a><br><a href="./Go%E8%AF%AD%E8%A8%80%E4%BB%8B%E7%BB%8D/readme.md">Goè¯­è¨€ä»‹ç»</a><br><a href="./Go%E8%AF%AD%E8%A8%80%E9%A1%BA%E5%BA%8F%E7%BC%96%E7%A8%8B/readme.md">Goè¯­è¨€é¡ºåºç¼–ç¨‹</a><br><a href="./%E5%B9%B6%E5%8F%91%E4%B8%8E%E5%B9%B6%E8%A1%8C/readme.md">å¹¶å‘ä¸å¹¶è¡Œ</a><br><a href="./%E8%AF%8D%E9%A2%91%E7%BB%9F%E8%AE%A1%E7%BB%BC%E5%90%88%E6%A1%88%E4%BE%8B/readme.md">è¯é¢‘ç»Ÿè®¡ç»¼åˆæ¡ˆä¾‹</a><br><a href="./%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B/readme.md">é¢å‘å¯¹è±¡ç¼–ç¨‹</a></p>]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> GO </category>
          
          <category> Goç®€æ˜æ‰‹å†Œ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/Go%E8%AF%AD%E8%A8%80%E9%A1%BA%E5%BA%8F%E7%BC%96%E7%A8%8B/%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86/README/"/>
      <url>/Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/Go%E8%AF%AD%E8%A8%80%E9%A1%BA%E5%BA%8F%E7%BC%96%E7%A8%8B/%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86/README/</url>
      
        <content type="html"><![CDATA[<h2 id="é”™è¯¯å¤„ç†"><a href="#é”™è¯¯å¤„ç†" class="headerlink" title="é”™è¯¯å¤„ç†*"></a>é”™è¯¯å¤„ç†<code>*</code></h2><blockquote><p>é”™è¯¯å¤„ç†æ˜¯ä»»ä½•è¯­è¨€éƒ½éœ€è¦è€ƒè™‘åˆ°çš„é—®é¢˜ï¼Œè€Œ Go è¯­è¨€åœ¨é”™è¯¯å¤„ç†ä¸Šè§£å†³å¾—æ›´ä¸ºå®Œå–„ï¼Œä¼˜é›…çš„é”™è¯¯å¤„ç†æœºåˆ¶æ˜¯ Go è¯­è¨€çš„ä¸€å¤§ç‰¹ç‚¹ã€‚</p></blockquote><h4 id="error"><a href="#error" class="headerlink" title="error"></a>error</h4><p>Go è¯­è¨€å¼•å…¥äº†ä¸€ä¸ªé”™è¯¯å¤„ç†çš„æ ‡å‡†æ¨¡å¼ï¼Œå³ <code>error</code> æ¥å£ï¼Œè¯¥æ¥å£å®šä¹‰å¦‚ä¸‹ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="type">error</span> <span class="keyword">interface</span> &#123;</span><br><span class="line">    Error() <span class="type">string</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯¹äºå¤§å¤šæ•°å‡½æ•°ï¼Œå¦‚æœè¦è¿”å›é”™è¯¯ï¼Œå¯ä»¥å°† <code>error</code> ä½œä¸ºå¤šè¿”å›å€¼çš„æœ€åä¸€ä¸ªï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">foo</span><span class="params">(param <span class="type">int</span>)</span></span>(ret <span class="type">int</span>, err <span class="type">error</span>)</span><br><span class="line">&#123;</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è°ƒç”¨æ—¶çš„ä»£ç ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">n, err := foo(<span class="number">0</span>)</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">    <span class="comment">//  é”™è¯¯å¤„ç†</span></span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// ä½¿ç”¨è¿”å›å€¼n</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬è¿˜å¯ä»¥è‡ªå®šä¹‰é”™è¯¯ç±»å‹ï¼Œåˆ›å»ºæºæ–‡ä»¶ <code>error.go</code>ï¼Œè¾“å…¥ä»¥ä¸‹ä»£ç ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;errors&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//è‡ªå®šä¹‰çš„å‡ºé”™ç»“æ„</span></span><br><span class="line"><span class="keyword">type</span> myError <span class="keyword">struct</span> &#123;</span><br><span class="line">    arg  <span class="type">int</span></span><br><span class="line">    errMsg <span class="type">string</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//å®ç°Erroræ¥å£</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(e *myError)</span></span> Error() <span class="type">string</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> fmt.Sprintf(<span class="string">&quot;%d - %s&quot;</span>, e.arg, e.errMsg)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ä¸¤ç§å‡ºé”™</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">error_test</span><span class="params">(arg <span class="type">int</span>)</span></span> (<span class="type">int</span>, <span class="type">error</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> arg &lt; <span class="number">0</span>  &#123;</span><br><span class="line">         <span class="keyword">return</span> <span class="number">-1</span>, errors.New(<span class="string">&quot;Bad Arguments - negtive!&quot;</span>)</span><br><span class="line">     &#125;<span class="keyword">else</span> <span class="keyword">if</span> arg &gt;<span class="number">256</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>, &amp;myError&#123;arg, <span class="string">&quot;Bad Arguments - too large!&quot;</span>&#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> arg*arg, <span class="literal">nil</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç›¸å…³çš„æµ‹è¯•</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">for</span> _, i := <span class="keyword">range</span> []<span class="type">int</span>&#123;<span class="number">-1</span>, <span class="number">4</span>, <span class="number">1000</span>&#125; &#123;</span><br><span class="line">        <span class="keyword">if</span> r, e := error_test(i); e != <span class="literal">nil</span> &#123;</span><br><span class="line">            fmt.Println(<span class="string">&quot;failed:&quot;</span>, e)</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            fmt.Println(<span class="string">&quot;success:&quot;</span>, r)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> GO </category>
          
          <category> Goç®€æ˜æ‰‹å†Œ </category>
          
          <category> Goè¯­è¨€é¡ºåºç¼–ç¨‹ </category>
          
          <category> é”™è¯¯å¤„ç† </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Goé¡ºåºç¼–ç¨‹â€”â€”ç±»å‹è½¬æ¢</title>
      <link href="/Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/Go%E8%AF%AD%E8%A8%80%E9%A1%BA%E5%BA%8F%E7%BC%96%E7%A8%8B/%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2/Readme/"/>
      <url>/Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/Go%E8%AF%AD%E8%A8%80%E9%A1%BA%E5%BA%8F%E7%BC%96%E7%A8%8B/%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2/Readme/</url>
      
        <content type="html"><![CDATA[<p>[toc]</p><h1 id="ç±»å‹è½¬æ¢"><a href="#ç±»å‹è½¬æ¢" class="headerlink" title="ç±»å‹è½¬æ¢"></a>ç±»å‹è½¬æ¢</h1><p>Go è¯­è¨€æä¾›äº†ä¸€ç§åœ¨ä¸åŒä½†ç›¸äº’å…¼å®¹çš„ç±»å‹ä¹‹é—´ç›¸äº’è½¬æ¢çš„æ–¹å¼ï¼Œè¿™ç§è½¬æ¢éå¸¸æœ‰ç”¨å¹¶ä¸”æ˜¯å®‰å…¨çš„ã€‚ä½†æ˜¯éœ€è¦æ³¨æ„çš„æ˜¯åœ¨æ•°å€¼ä¹‹é—´è¿›è¡Œè½¬æ¢å¯èƒ½é€ æˆå…¶ä»–é—®é¢˜ï¼Œå¦‚ç²¾åº¦ä¸¢å¤±æˆ–è€…é”™è¯¯çš„ç»“æœã€‚ä»¥ä¸‹æ˜¯ç±»å‹è½¬æ¢çš„è¯­æ³•ï¼š</p><ul><li><code>resultOfType := Type(expression)</code></li></ul><p>å‡ ä¸ªä¾‹å­ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">x := <span class="type">int16</span>(<span class="number">2345</span>)        <span class="comment">// å£°æ˜ä¸€ä¸ªç±»å‹ä¸ºint16çš„æ•´æ•°ï¼Œå…¶å€¼ä¸º2345</span></span><br><span class="line">y := <span class="type">int32</span>(x)           <span class="comment">// å°†int16ç±»å‹çš„æ•´æ•°è½¬æ¢ä¸ºint32ç±»å‹</span></span><br><span class="line">a := <span class="type">uint16</span>(<span class="number">65000</span>)       <span class="comment">// å£°æ˜ä¸€ä¸ªç±»å‹ä¸ºuint16ç±»å‹çš„æ•´æ•°</span></span><br><span class="line">b := <span class="type">int16</span>(a)           <span class="comment">// è½¬æ¢ä¸ºint16ç±»å‹ï¼Œè™½ç„¶èƒ½è½¬æ¢æˆåŠŸï¼Œä½†æ˜¯ç”±äº65000è¶…è¿‡in16ç±»å‹çš„èŒƒå›´ï¼Œä¼šå¯¼è‡´ç»“æœé”™è¯¯ï¼Œbçš„å€¼ä¸º -536</span></span><br></pre></td></tr></table></figure><p>å¦å¤–åœ¨ Go è¯­è¨€ä¸­å¯ä»¥é€šè¿‡ <code>type</code> å…³é”®å­—å£°æ˜ç±»å‹ï¼Œå¦‚ <code>type StringsSlice []string</code> å°† <code>[]string</code>ï¼ˆ<code>string</code> ç±»å‹çš„åˆ‡ç‰‡ï¼‰å£°æ˜ä¸º <code>StringSlice</code> ç±»å‹ã€‚</p><h1 id="ç±»å‹æ–­è¨€"><a href="#ç±»å‹æ–­è¨€" class="headerlink" title="ç±»å‹æ–­è¨€"></a>ç±»å‹æ–­è¨€</h1><p>è¯´åˆ°ç±»å‹æ–­è¨€å°±éœ€è¦å…ˆäº†è§£ä¸‹ Go è¯­è¨€ä¸­çš„æ¥å£ã€‚åœ¨ Go è¯­è¨€ä¸­æ¥å£æ˜¯ä¸€ä¸ªè‡ªå®šä¹‰ç±»å‹ã€‚å®ƒå£°æ˜äº†ä¸€ä¸ªæˆ–è€…å¤šä¸ªæ–¹æ³•ã€‚ä»»ä½•å®ç°äº†è¿™äº›æ–¹æ³•çš„å¯¹è±¡ï¼ˆç±»å‹ï¼‰éƒ½æ»¡è¶³è¿™ä¸ªæ¥å£ã€‚</p><p>æ¥å£æ˜¯å®Œå…¨æŠ½è±¡çš„ï¼Œä¸èƒ½å®ä¾‹åŒ–ã€‚<code>interface&#123;&#125;</code> ç±»å‹è¡¨ç¤ºä¸€ä¸ªç©ºæ¥å£ï¼Œä»»ä½•ç±»å‹éƒ½æ»¡è¶³ç©ºæ¥å£ã€‚ä¹Ÿå°±æ˜¯è¯´ <code>interface&#123;&#125;</code> ç±»å‹çš„å€¼å¯ä»¥ç”¨äºè¡¨ç¤ºä»»æ„ Go è¯­è¨€ç±»å‹çš„å€¼ã€‚</p><p>è¿™é‡Œçš„ç©ºæ¥å£æœ‰ç‚¹ç±»ä¼¼äº Python è¯­è¨€ä¸­çš„ object å®ä¾‹ã€‚æ—¢ç„¶ <code>interface&#123;&#125;</code> å¯ä»¥ç”¨äºè¡¨ç¤ºä»»æ„ç±»å‹ï¼Œé‚£æœ‰çš„æ—¶å€™æˆ‘ä»¬éœ€è¦å°† <code>interface&#123;&#125;</code> ç±»å‹è½¬æ¢ä¸ºæˆ‘ä»¬éœ€è¦çš„ç±»å‹ï¼Œè¿™ä¸ªæ“ä½œç§°ä¸ºç±»å‹æ–­è¨€ã€‚</p><p><strong>ä¸€èˆ¬æƒ…å†µä¸‹åªæœ‰æˆ‘ä»¬å¸Œæœ›è¡¨è¾¾å¼æ˜¯æŸç§ç‰¹å®šç±»å‹çš„å€¼æ—¶æ‰ä½¿ç”¨ç±»å‹æ–­è¨€</strong>ã€‚Go è¯­è¨€ä¸­å¯ä»¥ä½¿ç”¨ä»¥ä¸‹è¯­æ³•ï¼š</p><ul><li><code>resultOfType, boolean := expression.(Type)</code>ï¼šå®‰å…¨çš„ç±»å‹æ–­è¨€ã€‚</li><li><code>resultOfType := expression.(Type)</code>ï¼šéå®‰å…¨çš„ç±»å‹æ–­è¨€ï¼Œå¤±è´¥æ—¶ç¨‹åºä¼šäº§ç”Ÿå¼‚å¸¸ã€‚</li></ul><p>åˆ›å»ºæºæ–‡ä»¶ <code>type_t.go</code>ï¼Œè¾“å…¥ä»¥ä¸‹æºæ–‡ä»¶ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    x := <span class="type">uint16</span>(<span class="number">65000</span>)</span><br><span class="line">    y := <span class="type">int16</span>(x) <span class="comment">// å°† xè½¬æ¢ä¸ºint16ç±»å‹</span></span><br><span class="line">    fmt.Printf(<span class="string">&quot;type and value of x is: %T and %d\n&quot;</span>, x, x) <span class="comment">// %T æ ¼å¼åŒ–æŒ‡ä»¤çš„ä½œç”¨æ˜¯è¾“å‡ºå˜é‡çš„ç±»å‹</span></span><br><span class="line">    fmt.Printf(<span class="string">&quot;type and value of y is: %T and %d\n&quot;</span>, y, y)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> i <span class="keyword">interface</span>&#123;&#125; = <span class="number">99</span> <span class="comment">// åˆ›å»ºä¸€ä¸ªinterface&#123;&#125;ç±»å‹ï¼Œå…¶å€¼ä¸º99</span></span><br><span class="line">    <span class="keyword">var</span> s <span class="keyword">interface</span>&#123;&#125; = []<span class="type">string</span>&#123;<span class="string">&quot;left&quot;</span>, <span class="string">&quot;right&quot;</span>&#125;</span><br><span class="line">    j := i.(<span class="type">int</span>) <span class="comment">// æˆ‘ä»¬å‡è®¾iæ˜¯å…¼å®¹intç±»å‹ï¼Œå¹¶ä½¿ç”¨ç±»å‹æ–­è¨€å°†å…¶è½¬æ¢ä¸ºintç±»å‹</span></span><br><span class="line">    fmt.Printf(<span class="string">&quot;type and value of j is: %T and %d\n&quot;</span>, j, j)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> s, ok := s.([]<span class="type">string</span>); ok &#123; <span class="comment">// åˆ›å»ºäº†å½±å­å˜é‡ï¼Œifçš„ä½œç”¨åŸŸä¸­è¦†ç›–äº†å¤–éƒ¨çš„å˜é‡s</span></span><br><span class="line">        fmt.Printf(<span class="string">&quot;%T -&gt; %q\n&quot;</span>, s, s)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿è¡Œç¨‹åºï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ go run type_t.go</span><br><span class="line"><span class="built_in">type</span> and value of x is: uint16 and 65000</span><br><span class="line"><span class="built_in">type</span> and value of y is: int16 and -536</span><br><span class="line"><span class="built_in">type</span> and value of j is: int and 99</span><br><span class="line">[]string -&gt; [<span class="string">&quot;left&quot;</span> <span class="string">&quot;right&quot;</span>]</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> GO </category>
          
          <category> Goç®€æ˜æ‰‹å†Œ </category>
          
          <category> Goè¯­è¨€é¡ºåºç¼–ç¨‹ </category>
          
          <category> ç±»å‹è½¬æ¢ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Goç®€æ˜æ‰‹å†Œ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Goé¡ºåºç¼–ç¨‹â€”â€”æµç¨‹æ§åˆ¶</title>
      <link href="/Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/Go%E8%AF%AD%E8%A8%80%E9%A1%BA%E5%BA%8F%E7%BC%96%E7%A8%8B/%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6/README/"/>
      <url>/Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/Go%E8%AF%AD%E8%A8%80%E9%A1%BA%E5%BA%8F%E7%BC%96%E7%A8%8B/%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6/README/</url>
      
        <content type="html"><![CDATA[<p>[toc]</p><p>Go è¯­è¨€æä¾›çš„æµç¨‹æ§åˆ¶è¯­å¥åŒ…æ‹¬ <code>if</code>ã€<code>switch</code>ã€<code>for</code>ã€<code>goto</code>ã€<code>select</code>ï¼Œå…¶ä¸­ <code>select</code> ç”¨äºç›‘å¬ <code>channel</code>ï¼ˆé€šé“ï¼‰åœ¨è®²è§£é€šé“çš„æ—¶å€™å†è¯¦ç»†ä»‹ç»ã€‚</p><h4 id="if-è¯­å¥"><a href="#if-è¯­å¥" class="headerlink" title="if è¯­å¥"></a>if è¯­å¥</h4><p>è¯­æ³•ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> optionalStatement1; booleanExpression1 &#123;</span><br><span class="line">    block1</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> optionalStatement2; booleanExpression2 &#123;</span><br><span class="line">    block2</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    block3</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å…¶ä¸­ <code>optionalStatement</code> æ˜¯å¯é€‰çš„è¡¨è¾¾å¼ï¼ŒçœŸæ­£å†³å®šåˆ†æ”¯èµ°å‘çš„æ˜¯ <code>booleanExpression1</code> çš„å€¼ã€‚</p><h4 id="for-è¯­å¥"><a href="#for-è¯­å¥" class="headerlink" title="for è¯­å¥"></a>for è¯­å¥</h4><p>Go è¯­è¨€çš„ <code>for</code> è¯­å¥å¯ä»¥éå†æ•°ç»„ï¼Œåˆ‡ç‰‡ï¼Œæ˜ å°„ç­‰ç±»å‹ï¼Œä¹Ÿå¯ä»¥ç”¨äºæ— é™å¾ªç¯ã€‚ä»¥ä¸‹æ˜¯å…¶è¯­æ³•ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> &#123; <span class="comment">// æ— é™å¾ªç¯</span></span><br><span class="line">    block</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> booleanExpression &#123; <span class="comment">// whileå¾ªç¯ï¼Œåœ¨Goè¯­è¨€ä¸­æ²¡æœ‰whileå…³é”®å­—</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> index, char := <span class="keyword">range</span> aString &#123; <span class="comment">// è¿­ä»£å­—ç¬¦ä¸²</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> item := <span class="keyword">range</span> aChannel &#123; <span class="comment">// è¿­ä»£é€šé“</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="è·³è½¬è¯­å¥"><a href="#è·³è½¬è¯­å¥" class="headerlink" title="è·³è½¬è¯­å¥"></a>è·³è½¬è¯­å¥</h4><p>Go è¯­è¨€ä¸­ä½¿ç”¨ <code>goto</code> å…³é”®å­—å®ç°è·³è½¬ã€‚<code>goto</code> è¯­å¥çš„è¯­ä¹‰éå¸¸ç®€å•ï¼Œå°±æ˜¯è·³è½¬åˆ°æœ¬å‡½æ•°å†…çš„æŸä¸ªæ ‡ç­¾ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">myfunc</span><span class="params">()</span></span>&#123;</span><br><span class="line">    i := <span class="number">0</span></span><br><span class="line">    THIS: <span class="comment">//å®šä¹‰ä¸€ä¸ªTHISæ ‡ç­¾</span></span><br><span class="line">    fmt.Println(i)</span><br><span class="line">    i++</span><br><span class="line">    <span class="keyword">if</span> i &lt; <span class="number">1</span> &#123;</span><br><span class="line">        <span class="keyword">goto</span> THIS <span class="comment">//è·³è½¬åˆ°THISæ ‡ç­¾</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> GO </category>
          
          <category> Goç®€æ˜æ‰‹å†Œ </category>
          
          <category> Goè¯­è¨€é¡ºåºç¼–ç¨‹ </category>
          
          <category> æµç¨‹æ§åˆ¶ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Goç®€æ˜æ‰‹å†Œ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Goé¡ºåºç¼–ç¨‹â€”â€”å‡½æ•°çš„å¤šè¿”å›å€¼</title>
      <link href="/Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/Go%E8%AF%AD%E8%A8%80%E9%A1%BA%E5%BA%8F%E7%BC%96%E7%A8%8B/%E5%87%BD%E6%95%B0%E7%9A%84%E5%A4%9A%E8%BF%94%E5%9B%9E%E5%80%BC/README/"/>
      <url>/Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/Go%E8%AF%AD%E8%A8%80%E9%A1%BA%E5%BA%8F%E7%BC%96%E7%A8%8B/%E5%87%BD%E6%95%B0%E7%9A%84%E5%A4%9A%E8%BF%94%E5%9B%9E%E5%80%BC/README/</url>
      
        <content type="html"><![CDATA[<p>ä¸ C&#x2F;C++ å’Œ JAVA ä¸åŒï¼ŒGo è¯­è¨€çš„å‡½æ•°å’Œæ–¹æ³•å¯ä»¥æœ‰å¤šä¸ªè¿”å›å€¼ï¼Œè¿™æ˜¯ Go æä¾›çš„ä¸€ä¸ªä¼˜ç¾çš„ç‰¹æ€§ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Divide</span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;errors&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">divide</span> <span class="params">(a <span class="type">int</span>, b <span class="type">int</span>)</span></span> (num <span class="type">int</span>, err <span class="type">error</span>)&#123; <span class="comment">//å®šä¹‰ä¸¤ä¸ªè¿”å›å€¼</span></span><br><span class="line">    <span class="keyword">if</span> b == <span class="number">0</span> &#123;</span><br><span class="line">        err = errors.New(<span class="string">&quot;è¢«é™¤æ•°ä¸èƒ½ä¸ºé›¶ï¼&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> a / b, <span class="literal">nil</span>   <span class="comment">//æ”¯æŒå¤šä¸ªè¿”å›å€¼</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="åŒ¿åå‡½æ•°"><a href="#åŒ¿åå‡½æ•°" class="headerlink" title="åŒ¿åå‡½æ•°"></a>åŒ¿åå‡½æ•°</h4><p>åœ¨ Go è¯­è¨€ä¸­ï¼Œä½ å¯ä»¥åœ¨ä»£ç é‡Œéšæ—¶å®šä¹‰åŒ¿åå‡½æ•°ï¼ŒåŒ¿åå‡½æ•°ç”±ä¸€ä¸ªä¸å¸¦å‡½æ•°åçš„å‡½æ•°å£°æ˜å’Œå‡½æ•°ä½“ç»„æˆï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(a, b, c <span class="type">int</span>)</span></span> <span class="type">bool</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> a * b &lt; c</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½ å¯ä»¥å°†åŒ¿åå‡½æ•°ç›´æ¥èµ‹å€¼ç»™ä¸€ä¸ªå˜é‡ï¼Œä¹Ÿå¯ä»¥ç›´æ¥è°ƒç”¨è¿è¡Œï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">x := <span class="function"><span class="keyword">func</span> <span class="params">(a, b, c <span class="type">int</span>)</span></span> <span class="type">bool</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> a * b &lt; c</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(a, b, c <span class="type">int</span>)</span></span> <span class="type">bool</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> a * b &lt; c</span><br><span class="line">&#125; (<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>) <span class="comment">//å°æ‹¬å·å†…ç›´æ¥ç»™å‚æ•°åˆ—è¡¨è¡¨ç¤ºå‡½æ•°è°ƒç”¨</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> GO </category>
          
          <category> Goç®€æ˜æ‰‹å†Œ </category>
          
          <category> Goè¯­è¨€é¡ºåºç¼–ç¨‹ </category>
          
          <category> å‡½æ•°çš„å¤šè¿”å›å€¼ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Goé¡ºåºç¼–ç¨‹â€”â€”Goè¯­è¨€é¡ºåºç¼–ç¨‹</title>
      <link href="/Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/Go%E8%AF%AD%E8%A8%80%E9%A1%BA%E5%BA%8F%E7%BC%96%E7%A8%8B/readme/"/>
      <url>/Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/Go%E8%AF%AD%E8%A8%80%E9%A1%BA%E5%BA%8F%E7%BC%96%E7%A8%8B/readme/</url>
      
        <content type="html"><![CDATA[<h4 id="çŸ¥è¯†ç‚¹"><a href="#çŸ¥è¯†ç‚¹" class="headerlink" title="çŸ¥è¯†ç‚¹"></a>çŸ¥è¯†ç‚¹</h4><ul><li>æµç¨‹æ§åˆ¶</li><li>å‡½æ•°</li><li>ç±»å‹è½¬æ¢</li><li>ç±»å‹æ–­è¨€</li><li>error</li><li>defer å’Œ panic</li></ul><h3 id="æ–‡ç« åˆ—è¡¨"><a href="#æ–‡ç« åˆ—è¡¨" class="headerlink" title="æ–‡ç« åˆ—è¡¨"></a>æ–‡ç« åˆ—è¡¨</h3><p><a href="./panic%E5%92%8Cdefer/README">panicå’Œdefer</a><br><a href="./%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86/README">é”™è¯¯å¤„ç†</a><br><a href="./%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2/README">ç±»å‹è½¬æ¢</a></p>]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> GO </category>
          
          <category> Goç®€æ˜æ‰‹å†Œ </category>
          
          <category> Goè¯­è¨€é¡ºåºç¼–ç¨‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Goç®€æ˜æ‰‹å†Œ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Goé¡ºåºç¼–ç¨‹â€”â€”switchè¯­å¥</title>
      <link href="/Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/Go%E8%AF%AD%E8%A8%80%E9%A1%BA%E5%BA%8F%E7%BC%96%E7%A8%8B/switch%E8%AF%AD%E5%8F%A5/README/"/>
      <url>/Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/Go%E8%AF%AD%E8%A8%80%E9%A1%BA%E5%BA%8F%E7%BC%96%E7%A8%8B/switch%E8%AF%AD%E5%8F%A5/README/</url>
      
        <content type="html"><![CDATA[<p>Go è¯­è¨€ä¸­ <code>switch</code> åˆ†æ”¯æ—¢å¯ç”¨äºå¸¸ç”¨çš„åˆ†æ”¯å°±åƒ C è¯­è¨€ä¸­çš„ <code>switch</code> ä¸€æ ·ï¼Œä¹Ÿå¯ä»¥ç”¨äºç±»å‹å¼€å…³ï¼Œæ‰€è°“ç±»å‹å¼€å…³å°±æ˜¯ç”¨äºåˆ¤æ–­å˜é‡å±äºä»€ä¹ˆç±»å‹ã€‚ä½†æ˜¯éœ€è¦æ³¨æ„çš„æ˜¯ Go è¯­è¨€çš„ <code>switch</code> è¯­å¥ä¸ä¼šè‡ªåŠ¨è´¯ç©¿ï¼Œç›¸åï¼Œå¦‚æœæƒ³è¦è´¯ç©¿éœ€è¦æ·»åŠ  <code>fallthrough</code> è¯­å¥ã€‚è¡¨è¾¾å¼å¼€å…³ <code>switch</code> çš„è¯­æ³•å¦‚ä¸‹ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">switch</span> optionalStatement; optionalExpression &#123;</span><br><span class="line">    <span class="keyword">case</span> expression1: block1</span><br><span class="line">    ...</span><br><span class="line">    <span class="keyword">case</span> expressionN: blockN</span><br><span class="line">    <span class="keyword">default</span>: blockD</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸‹é¢æ˜¯ä¸ªä¾‹å­ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">switch</span> &#123;        <span class="comment">// æ²¡æœ‰è¡¨è¾¾å¼ï¼Œé»˜è®¤ä¸ºTrueå€¼ï¼ŒåŒ¹é…åˆ†æ”¯ä¸­å€¼ä¸ºTrueçš„åˆ†æ”¯</span></span><br><span class="line">    <span class="keyword">case</span> value &lt; minimum:</span><br><span class="line">        <span class="keyword">return</span> minimum</span><br><span class="line">    <span class="keyword">case</span> value &gt; maximum:</span><br><span class="line">        <span class="keyword">return</span> maximum</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        <span class="keyword">return</span> value</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œswitch åé¢æ²¡æœ‰é»˜è®¤çš„è¡¨è¾¾å¼ï¼Œè¿™ä¸ªæ—¶å€™ Go è¯­è¨€é»˜è®¤å…¶å€¼ä¸º <code>True</code>ã€‚</p><p>åœ¨å‰é¢æˆ‘ä»¬æåˆ°è¿‡ç±»å‹æ–­è¨€ï¼Œå¦‚æœæˆ‘ä»¬çŸ¥é“å˜é‡çš„ç±»å‹å°±å¯ä»¥ä½¿ç”¨ç±»å‹æ–­è¨€ï¼Œä½†æ˜¯å½“æˆ‘ä»¬çŸ¥é“ç±»å‹å¯èƒ½æ˜¯è®¸å¤šç±»å‹ä¸­çš„ä¸€ç§æ—¶å€™ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨ç±»å‹å¼€å…³ã€‚å…¶è¯­æ³•å¦‚ä¸‹ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">switch</span> optionalStatement; typeSwitchGuard &#123;</span><br><span class="line">    <span class="keyword">case</span> type1: block1</span><br><span class="line">    ...</span><br><span class="line">    <span class="keyword">case</span> typeN: blockN</span><br><span class="line">    <span class="keyword">default</span>: blockD</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¯´äº†è¿™ä¹ˆå¤šï¼Œè®©æˆ‘ä»¬è¿›è¡Œä¸‹ç»ƒä¹ ï¼Œåˆ›å»ºæºæ–‡ä»¶ <code>switch_t.go</code>ï¼Œè¾“å…¥ä»¥ä¸‹ä»£ç ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">classchecker</span><span class="params">(items ...<span class="keyword">interface</span>&#123;&#125;)</span></span> &#123; <span class="comment">// åˆ›å»ºä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°å¯ä»¥æ¥å—ä»»æ„å¤šçš„ä»»æ„ç±»å‹çš„å‚æ•°</span></span><br><span class="line">    <span class="keyword">for</span> i, x := <span class="keyword">range</span> items &#123;</span><br><span class="line">        <span class="keyword">switch</span> x := x.(<span class="keyword">type</span>) &#123; <span class="comment">// åˆ›å»ºäº†å½±å­å˜é‡</span></span><br><span class="line">        <span class="keyword">case</span> <span class="type">bool</span>:</span><br><span class="line">            fmt.Printf(<span class="string">&quot;param #%d is a bool, value: %t\n&quot;</span>, i, x)</span><br><span class="line">        <span class="keyword">case</span> <span class="type">float64</span>:</span><br><span class="line">            fmt.Printf(<span class="string">&quot;param #%d is a float64, value: %f\n&quot;</span>, i, x)</span><br><span class="line">        <span class="keyword">case</span> <span class="type">int</span>, <span class="type">int8</span>, <span class="type">int16</span>, <span class="type">int32</span>, <span class="type">int64</span>:</span><br><span class="line">            fmt.Printf(<span class="string">&quot;param #%d is a int, value: %d\n&quot;</span>, i, x)</span><br><span class="line">        <span class="keyword">case</span> <span class="type">uint</span>, <span class="type">uint8</span>, <span class="type">uint16</span>, <span class="type">uint32</span>, <span class="type">uint64</span>:</span><br><span class="line">            fmt.Printf(<span class="string">&quot;param #%d is a uint, value: %d\n&quot;</span>, i, x)</span><br><span class="line">        <span class="keyword">case</span> <span class="literal">nil</span>:</span><br><span class="line">            fmt.Printf(<span class="string">&quot;param #%d is a nil\n&quot;</span>, i)</span><br><span class="line">        <span class="keyword">case</span> <span class="type">string</span>:</span><br><span class="line">            fmt.Printf(<span class="string">&quot;param #%d is a string, value: %s\n&quot;</span>, i, x)</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            fmt.Printf(<span class="string">&quot;param #%d&#x27;s type is unknow\n&quot;</span>, i)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    classchecker(<span class="number">5</span>, <span class="number">-17.98</span>, <span class="string">&quot;AIDEN&quot;</span>, <span class="literal">nil</span>, <span class="literal">true</span>, <span class="built_in">complex</span>(<span class="number">1</span>, <span class="number">1</span>))</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šä»£ç ä¸­æˆ‘ä»¬é¦–å…ˆåˆ›å»ºäº†ä¸€ä¸ªæ¥æ”¶ä»»æ„æ•°é‡ä»»æ„ç±»å‹å‚æ•°çš„å‡½æ•°ï¼Œç„¶åä½¿ç”¨ <code>for ... range aSlice</code> çš„è¯­æ³•è¿­ä»£äº†æ¯ä¸€ä¸ªåœ¨åˆ‡ç‰‡ <code>items</code> ä¸­çš„å…ƒç´ ï¼Œæ¥ç€ä½¿ç”¨äº† <code>switch</code> ç±»å‹å¼€å…³åˆ¤æ–­äº†æ¯ä¸€ä¸ªå‚æ•°çš„ç±»å‹ï¼Œå¹¶æ‰“å°äº†å…¶å€¼å’Œç±»å‹ã€‚ç¨‹åºè¿è¡Œè¾“å‡ºå¦‚ä¸‹ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="keyword">go</span> run switch_t.<span class="keyword">go</span></span><br><span class="line">param #<span class="number">0</span> is a <span class="type">int</span>, value: <span class="number">5</span></span><br><span class="line">param #<span class="number">1</span> is a <span class="type">float64</span>, value: <span class="number">-17.980000</span></span><br><span class="line">param #<span class="number">2</span> is a <span class="type">string</span>, value: AIDEN</span><br><span class="line">param #<span class="number">3</span> is a <span class="literal">nil</span></span><br><span class="line">param #<span class="number">4</span> is a <span class="type">bool</span>, value: <span class="literal">true</span></span><br><span class="line">param #<span class="number">5</span><span class="string">&#x27;s type is unknow</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> GO </category>
          
          <category> Goç®€æ˜æ‰‹å†Œ </category>
          
          <category> Goè¯­è¨€é¡ºåºç¼–ç¨‹ </category>
          
          <category> switchè¯­å¥ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>GoåŸºæœ¬è¯­æ³•â€”â€”æ ¼å¼åŒ–å­—ç¬¦ä¸²</title>
      <link href="/Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/Go%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/%E6%A0%BC%E5%BC%8F%E5%8C%96%E5%AD%97%E7%AC%A6%E4%B8%B2/%E6%A0%BC%E5%BC%8F%E5%8C%96%E5%AD%97%E7%AC%A6%E4%B8%B2/"/>
      <url>/Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/Go%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/%E6%A0%BC%E5%BC%8F%E5%8C%96%E5%AD%97%E7%AC%A6%E4%B8%B2/%E6%A0%BC%E5%BC%8F%E5%8C%96%E5%AD%97%E7%AC%A6%E4%B8%B2/</url>
      
        <content type="html"><![CDATA[<p>Go è¯­è¨€æ ‡å‡†åº“ä¸­çš„ <code>fmt</code> åŒ…æä¾›äº†æ‰“å°å‡½æ•°å°†æ•°æ®ä»¥å­—ç¬¦ä¸²å½¢å¼è¾“å‡ºåˆ°æ§åˆ¶å°ï¼Œæ–‡ä»¶ï¼Œå…¶ä»–æ»¡è¶³ <code>io.Writer</code> æ¥å£çš„å€¼ä»¥åŠå…¶ä»–å­—ç¬¦ä¸²ã€‚ç›®å‰ä¸ºæ­¢æˆ‘ä»¬ä½¿ç”¨äº† <code>fmt.Printf</code> å’Œ <code>fmt.Println</code>ï¼Œå¯¹äºå‰è€…çš„ä½¿ç”¨ï¼Œå°±åƒ C è¯­è¨€ä¸­çš„ <code>printf</code> å‡½æ•°ä¸€æ ·ï¼Œæˆ‘ä»¬å¯ä»¥æä¾›ä¸€äº›æ ¼å¼åŒ–æŒ‡ä»¤ï¼Œè®© Go è¯­è¨€å¯¹è¾“å‡ºçš„å­—ç¬¦ä¸²è¿›è¡Œæ ¼å¼åŒ–ã€‚åŒæ ·çš„æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€äº›æ ¼å¼åŒ–ä¿®é¥°ç¬¦ï¼Œæ”¹å˜æ ¼å¼åŒ–æŒ‡ä»¤çš„è¾“å‡ºç»“æœï¼Œ å¦‚å·¦å¯¹é½ç­‰ã€‚å¸¸ç”¨çš„æ ¼å¼åŒ–æŒ‡ä»¤å¦‚ä¸‹ï¼š</p><table><thead><tr><th>æ ¼å¼åŒ–æŒ‡ä»¤</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td><code>%%</code></td><td>% å­—é¢é‡</td></tr><tr><td><code>%b</code></td><td>ä¸€ä¸ªäºŒè¿›åˆ¶æ•´æ•°ï¼Œå°†ä¸€ä¸ªæ•´æ•°æ ¼å¼åŒ–ä¸ºäºŒè¿›åˆ¶çš„è¡¨è¾¾æ–¹å¼</td></tr><tr><td><code>%c</code></td><td>ä¸€ä¸ª Unicode çš„å­—ç¬¦</td></tr><tr><td><code>%d</code></td><td>åè¿›åˆ¶æ•°å€¼</td></tr><tr><td><code>%o</code></td><td>å…«è¿›åˆ¶æ•°å€¼</td></tr><tr><td><code>%x</code></td><td>å°å†™çš„åå…­è¿›åˆ¶æ•°å€¼</td></tr><tr><td><code>%X</code></td><td>å¤§å†™çš„åå…­è¿›åˆ¶æ•°å€¼</td></tr><tr><td><code>%U</code></td><td>ä¸€ä¸ª Unicode è¡¨ç¤ºæ³•è¡¨ç¤ºçš„æ•´å½¢ç å€¼ï¼Œé»˜è®¤æ˜¯ 4 ä¸ªæ•°å­—å­—ç¬¦</td></tr><tr><td><code>%s</code></td><td>è¾“å‡ºä»¥åŸç”Ÿçš„ UTF-8 å­—èŠ‚è¡¨ç¤ºçš„å­—ç¬¦ï¼Œå¦‚æœ console ä¸æ”¯æŒ UTF-8 ç¼–ç ï¼Œåˆ™ä¼šè¾“å‡ºä¹±ç </td></tr><tr><td><code>%t</code></td><td>ä»¥ true æˆ–è€… false çš„æ–¹å¼è¾“å‡ºå¸ƒå°”å€¼</td></tr><tr><td><code>%v</code></td><td>ä½¿ç”¨é»˜è®¤æ ¼å¼è¾“å‡ºå€¼ï¼Œæˆ–è€…ä½¿ç”¨ç±»å‹çš„ String() æ–¹æ³•è¾“å‡ºçš„è‡ªå®šä¹‰å€¼ï¼Œå¦‚æœè¯¥æ–¹æ³•å­˜åœ¨çš„è¯</td></tr><tr><td>%T</td><td>è¾“å‡ºå€¼çš„ç±»å‹</td></tr></tbody></table><p>å¸¸ç”¨çš„æ ¼å¼åŒ–æŒ‡ä»¤ä¿®é¥°ç¬¦å¦‚ä¸‹ï¼š</p><ul><li><p><code>ç©ºç™½</code> å¦‚æœè¾“å‡ºçš„æ•°å­—ä¸ºè´Ÿï¼Œåˆ™åœ¨å…¶å‰é¢åŠ ä¸Šä¸€ä¸ªå‡å· <code>-</code>ã€‚å¦‚æœè¾“å‡ºçš„æ˜¯æ•´æ•°ï¼Œåˆ™åœ¨å‰é¢åŠ ä¸€ä¸ªç©ºæ ¼ã€‚ä½¿ç”¨ <code>%x</code> æˆ–è€… <code>%X</code> æ ¼å¼åŒ–æŒ‡ä»¤è¾“å‡ºæ—¶ï¼Œä¼šåœ¨ç»“æœä¹‹é—´æ·»åŠ ä¸€ä¸ªç©ºæ ¼ã€‚ä¾‹å¦‚ <code>fmt.Printf(&quot;% X&quot;, &quot;å®&quot;)</code> è¾“å‡º E5 AE 9Eã€‚</p></li><li><pre><code>#<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">  - `%#o` è¾“å‡ºä»¥ `0` å¼€å§‹çš„å…«è¿›åˆ¶æ•°æ®ã€‚</span><br><span class="line">  - `%#x` è¾“å‡ºä»¥ `0x` å¼€å§‹çš„åå…­è¿›åˆ¶æ•°æ®ã€‚</span><br><span class="line"></span><br><span class="line">- `+` è®©æ ¼å¼åŒ–æŒ‡ä»¤åœ¨æ•°å€¼å‰é¢è¾“å‡º `+` å·æˆ–è€… `-` å·ï¼Œä¸ºå­—ç¬¦ä¸²è¾“å‡º ASCII å­—ç¬¦ï¼ˆé ASCII å­—ç¬¦ä¼šè¢«è½¬ä¹‰ï¼‰ï¼Œä¸ºç»“æ„ä½“è¾“å‡ºå…¶å­—æ®µåã€‚</span><br><span class="line"></span><br><span class="line">- `-` è®©æ ¼å¼åŒ–æŒ‡ä»¤å°†å€¼å‘å·¦å¯¹é½ï¼ˆé»˜è®¤å€¼ä¸ºåƒå³å¯¹é½ï¼‰ã€‚</span><br><span class="line"></span><br><span class="line">- `0` è®©æ ¼å¼æŒ‡ä»¤ä»¥æ•°å­— 0 è€Œéç©ºç™½è¿›è¡Œå¡«å……ã€‚</span><br><span class="line"></span><br><span class="line">è®©æˆ‘ä»¬ç»ƒä¹ ä¸€ä¸‹ï¼Œåˆ›å»ºæºæ–‡ä»¶ `fmt_t.go`ï¼Œè¾“å…¥ä»¥ä¸‹æºç ï¼š</span><br><span class="line"></span><br><span class="line">```go</span><br><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">    &quot;fmt&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">    text := &quot;\u5B9E\u9A8C\u697C&quot;</span><br><span class="line">    fmt.Printf(&quot;bool output:\n%t\n%t\n\n&quot;, true, false)</span><br><span class="line">    fmt.Println(&quot;number output, origin value: 64&quot;)</span><br><span class="line">    fmt.Printf(&quot;|%b|%8b|%-8b|%08b|% 8b|\n&quot;, 64, 64, 64, 64, 64)</span><br><span class="line">    fmt.Printf(&quot;|%x|%8x|%-8x|%08X|% 8X|\n\n&quot;, 64, 64, 64, 64, 64)</span><br><span class="line">    fmt.Println(`text output, origin value: \u5B9E\u9A8C\u697C`)</span><br><span class="line">    fmt.Printf(&quot;content: %s\n&quot;, text)</span><br><span class="line">    fmt.Printf(&quot;hex value: % X\nUnicode value: &quot;, text)</span><br><span class="line">    for _, char := range text &#123;</span><br><span class="line">        fmt.Printf(&quot;%U &quot;, char)</span><br><span class="line">    &#125;</span><br><span class="line">    fmt.Println()</span><br><span class="line">    bytes := []byte(text)</span><br><span class="line">    fmt.Printf(&quot;value of bytes: %s\n&quot;, bytes)</span><br><span class="line">    fmt.Printf(&quot;hex value of bytes: % X\n&quot;, bytes)</span><br><span class="line">    fmt.Printf(&quot;origin value of bytes: %v\n&quot;, bytes)</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></code></pre></li></ul><p>è¿è¡Œä»£ç ï¼Œè¾“å‡ºå¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">$ go run fmt_t.go</span><br><span class="line">bool output:</span><br><span class="line"><span class="literal">true</span></span><br><span class="line"><span class="literal">false</span></span><br><span class="line"></span><br><span class="line">number output, origin value: 64</span><br><span class="line">|1000000| 1000000|1000000 |01000000| 1000000|</span><br><span class="line">|40|      40|40      |00000040|      40|</span><br><span class="line"></span><br><span class="line">text output, origin value: \u5B9E\u9A8C\u697C</span><br><span class="line">content: å®éªŒæ¥¼</span><br><span class="line">hex value: E5 AE 9E E9 AA 8C E6 A5 BC</span><br><span class="line">Unicode value: U+5B9E U+9A8C U+697C</span><br><span class="line">value of bytes: å®éªŒæ¥¼</span><br><span class="line">hex value of bytes: E5 AE 9E E9 AA 8C E6 A5 BC</span><br><span class="line">origin value of bytes: [229 174 158 233 170 140 230 165 188]</span><br></pre></td></tr></table></figure><p>ä»£ç ä¸€ç›®äº†ç„¶ï¼Œå°±ä¸è¯¦ç»†è§£é‡Šäº†ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> GO </category>
          
          <category> Goç®€æ˜æ‰‹å†Œ </category>
          
          <category> Goè¯­è¨€åŸºç¡€ </category>
          
          <category> æ ¼å¼åŒ–å­—ç¬¦ä¸² </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Goç®€æ˜æ‰‹å†Œ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/Go%E8%AF%AD%E8%A8%80%E9%A1%BA%E5%BA%8F%E7%BC%96%E7%A8%8B/panic%E5%92%8Cdefer/README/"/>
      <url>/Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/Go%E8%AF%AD%E8%A8%80%E9%A1%BA%E5%BA%8F%E7%BC%96%E7%A8%8B/panic%E5%92%8Cdefer/README/</url>
      
        <content type="html"><![CDATA[<h1 id="panic-å’Œ-recover"><a href="#panic-å’Œ-recover" class="headerlink" title="panic å’Œ recover"></a><code>panic</code> å’Œ <code>recover</code></h1><p><code>panic()</code> å‡½æ•°ç”¨äºæŠ›å‡ºå¼‚å¸¸ï¼Œ<code>recover()</code> å‡½æ•°ç”¨äºæ•è·å¼‚å¸¸ï¼Œè¿™ä¸¤ä¸ªå‡½æ•°çš„åŸå‹å¦‚ä¸‹ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">panic</span><span class="params">(<span class="keyword">interface</span>&#123;&#125;)</span></span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">recover</span><span class="params">()</span></span> <span class="keyword">interface</span>&#123;&#125;</span><br></pre></td></tr></table></figure><p>å½“åœ¨ä¸€ä¸ªå‡½æ•°ä¸­è°ƒç”¨ <code>panic()</code> æ—¶ï¼Œæ­£å¸¸çš„å‡½æ•°æ‰§è¡Œæµç¨‹å°†ç«‹å³ç»ˆæ­¢ï¼Œä½†å‡½æ•°ä¸­ä¹‹å‰ä½¿ç”¨ <code>defer</code> å…³é”®å­—å»¶è¿Ÿæ‰§è¡Œçš„è¯­å¥å°†æ­£å¸¸å±•å¼€æ‰§è¡Œï¼Œä¹‹åè¯¥å‡½æ•°å°†è¿”å›åˆ°è°ƒç”¨å‡½æ•°ï¼Œå¹¶å¯¼è‡´é€å±‚å‘ä¸Šæ‰§è¡Œ <code>panic()</code> æµç¨‹ï¼Œç›´è‡³æ‰€å±çš„ <code>goroutine</code> ä¸­æ‰€æœ‰æ­£åœ¨æ‰§è¡Œçš„å‡½æ•°è¢«ç»ˆæ­¢ã€‚é”™è¯¯ä¿¡æ¯å°†è¢«æŠ¥å‘Šï¼ŒåŒ…æ‹¬åœ¨è°ƒç”¨ <code>panic()</code> å‡½æ•°æ—¶ä¼ å…¥çš„å‚æ•°ï¼Œè¿™ä¸ªè¿‡ç¨‹ç§°ä¸ºé”™è¯¯æµç¨‹å¤„ç†ã€‚</p><p><code>panic()</code> æ¥å—ä¸€ä¸ª <code>interface&#123;&#125;</code> å‚æ•°ï¼Œå¯æ”¯æŒä»»æ„ç±»å‹ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">panic</span>(<span class="number">404</span>)</span><br><span class="line"><span class="built_in">panic</span>(<span class="string">&quot;network broken&quot;</span>)</span><br><span class="line"><span class="built_in">panic</span>(Error(<span class="string">&quot;file not exists&quot;</span>))</span><br></pre></td></tr></table></figure><p>åœ¨ <code>defer</code> è¯­å¥ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ <code>recover()</code> ç»ˆæ­¢é”™è¯¯å¤„ç†æµç¨‹ï¼Œè¿™æ ·å¯ä»¥é¿å…å¼‚å¸¸å‘ä¸Šä¼ é€’ï¼Œä½†è¦æ³¨æ„ <code>recover()</code> ä¹‹åï¼Œç¨‹åºä¸ä¼šå†å›åˆ° <code>panic()</code> é‚£é‡Œï¼Œå‡½æ•°ä»åœ¨ <code>defer</code> ä¹‹åè¿”å›ã€‚æ–°å»ºä¸€ä¸ªæºæ–‡ä»¶ <code>error1.go</code>ï¼Œè¾“å…¥ä»¥ä¸‹ä»£ç ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">foo</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="built_in">panic</span>(errors.New(<span class="string">&quot;i&#x27;m a bug&quot;</span>))</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">test</span><span class="params">()</span></span> (result <span class="type">int</span>) &#123;</span><br><span class="line">    <span class="keyword">defer</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="keyword">if</span> r := <span class="built_in">recover</span>(); r != <span class="literal">nil</span> &#123;</span><br><span class="line">            err := r.(<span class="type">error</span>)</span><br><span class="line">            fmt.Println(<span class="string">&quot;Cache Exception:&quot;</span>, err)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;()</span><br><span class="line">    foo()</span><br><span class="line">    <span class="keyword">return</span> <span class="number">10</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    fmt.Println(test())     <span class="comment">// 0</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> GO </category>
          
          <category> Goç®€æ˜æ‰‹å†Œ </category>
          
          <category> Goè¯­è¨€é¡ºåºç¼–ç¨‹ </category>
          
          <category> panicå’Œdefer </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>GoåŸºæœ¬è¯­æ³•â€”â€”å­—ç¬¦ç±»å‹</title>
      <link href="/Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/Go%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/%E5%AD%97%E7%AC%A6%E7%B1%BB%E5%9E%8B/%E5%AD%97%E7%AC%A6%E7%B1%BB%E5%9E%8B/"/>
      <url>/Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/Go%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/%E5%AD%97%E7%AC%A6%E7%B1%BB%E5%9E%8B/%E5%AD%97%E7%AC%A6%E7%B1%BB%E5%9E%8B/</url>
      
        <content type="html"><![CDATA[<p>åœ¨ Go è¯­è¨€ä¸­æ”¯æŒä¸¤ä¸ªå­—ç¬¦ç±»å‹ï¼Œä¸€ä¸ªæ˜¯ <code>Byte</code>ï¼ˆå®é™…ä¸Šæ˜¯ Unit8 çš„åˆ«åï¼‰ï¼Œä»£è¡¨ UTF-8 å­—ç¬¦ä¸²çš„å•ä¸ªå­—èŠ‚çš„å€¼ï¼›å¦ä¸€ä¸ªæ˜¯ <code>rune</code>ï¼Œä»£è¡¨å•ä¸ª Unicode å­—ç¬¦ã€‚</p><p>å¤„äºç®€åŒ–è¯­è¨€çš„è€ƒè™‘ï¼ŒGo è¯­è¨€çš„å¤šæ•° API éƒ½å‡è®¾å­—ç¬¦ä¸²ä¸º UTF-8 ç¼–ç ã€‚å°½ç®¡ Unicode å­—ç¬¦åœ¨æ ‡å‡†åº“ä¸­æœ‰æ”¯æŒï¼Œä½†å®é™…å¾ˆå°‘ä½¿ç”¨ã€‚</p><h4 id="æ•°ç»„"><a href="#æ•°ç»„" class="headerlink" title="æ•°ç»„"></a>æ•°ç»„</h4><p>Go è¯­è¨€çš„æ•°ç»„æ˜¯ä¸€ä¸ªå®šé•¿çš„åºåˆ—ï¼Œå…¶ä¸­çš„å…ƒç´ ç±»å‹ç›¸åŒã€‚å¤šç»´æ•°ç»„å¯ä»¥ç®€å•åœ°ä½¿ç”¨è‡ªèº«ä¸ºæ•°ç»„çš„å…ƒç´ æ¥åˆ›å»ºã€‚æ•°ç»„çš„å…ƒç´ ä½¿ç”¨æ“ä½œç¬¦å· <code>[ ]</code> æ¥ç´¢å¼•ï¼Œç´¢å¼•ä» <code>0</code> å¼€å§‹ï¼Œåˆ° <code>len(array)-1</code> ç»“æŸã€‚æ•°ç»„ä½¿ç”¨ä»¥ä¸‹è¯­æ³•åˆ›å»ºï¼š</p><ul><li><code>[length]Type</code></li><li><code>[N]Type&#123;value1, value2, ..., valueN&#125;</code></li><li><code>[...]Type&#123;value1, value2, ..., valueN&#125;</code></li></ul><p>å¦‚æœä½¿ç”¨äº† <code>...</code>ï¼ˆçœç•¥ç¬¦ï¼‰æ“ä½œç¬¦ï¼ŒGo è¯­è¨€ä¼šä¸ºæˆ‘ä»¬è‡ªåŠ¨è®¡ç®—æ•°ç»„çš„é•¿åº¦ã€‚åœ¨ä»»ä½•æƒ…å†µä¸‹ï¼Œä¸€ä¸ªæ•°ç»„çš„é•¿åº¦éƒ½æ˜¯å›ºå®šçš„å¹¶ä¸”ä¸å¯ä¿®æ”¹ã€‚æ•°ç»„çš„é•¿åº¦å¯ä»¥ä½¿ç”¨ <code>len()</code> å‡½æ•°è·å¾—ã€‚ç”±äºæ•°ç»„çš„é•¿åº¦æ˜¯å›ºå®šçš„ï¼Œå› æ­¤æ•°ç»„çš„é•¿åº¦å’Œå®¹é‡éƒ½æ˜¯ä¸€æ ·çš„ï¼Œå› æ­¤å¯¹äºæ•°ç»„è€Œè¨€ <code>cap()</code> å’Œ <code>len()</code> å‡½æ•°è¿”å›å€¼éƒ½æ˜¯ä¸€æ ·çš„ã€‚æ•°ç»„ä¹Ÿå¯ä»¥ä½¿ç”¨å’Œåˆ‡ç‰‡ä¸€æ ·çš„è¯­æ³•è¿›è¡Œåˆ‡ç‰‡ï¼Œåªæ˜¯å…¶ç»“æœä¸ºä¸€ä¸ªåˆ‡ç‰‡ï¼Œè€Œéæ•°ç»„ã€‚åŒæ ·çš„ï¼Œæ•°ç»„ä¹Ÿå¯ä»¥ä½¿ç”¨ <code>range</code> è¿›è¡Œç´¢å¼•è®¿é—®ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> GO </category>
          
          <category> Goç®€æ˜æ‰‹å†Œ </category>
          
          <category> Goè¯­è¨€åŸºç¡€ </category>
          
          <category> å­—ç¬¦ç±»å‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Goç®€æ˜æ‰‹å†Œ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>GoåŸºæœ¬è¯­æ³•â€”â€”å­—ç¬¦ä¸²</title>
      <link href="/Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/Go%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/%E5%AD%97%E7%AC%A6%E4%B8%B2/%E5%AD%97%E7%AC%A6%E4%B8%B2/"/>
      <url>/Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/Go%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/%E5%AD%97%E7%AC%A6%E4%B8%B2/%E5%AD%97%E7%AC%A6%E4%B8%B2/</url>
      
        <content type="html"><![CDATA[<p>Go è¯­è¨€ä¸­çš„å­—ç¬¦ä¸²æ˜¯ UTF-8 å­—ç¬¦çš„ä¸€ä¸ªåºåˆ—ï¼ˆå½“å­—ç¬¦ä¸º ASCII ç æ—¶åˆ™å ç”¨ 1 ä¸ªå­—èŠ‚ï¼Œå…¶å®ƒå­—ç¬¦æ ¹æ®éœ€è¦å ç”¨ 2-4 ä¸ªå­—èŠ‚ï¼‰ã€‚UTF-8 æ˜¯è¢«å¹¿æ³›ä½¿ç”¨çš„ç¼–ç æ ¼å¼ï¼Œæ˜¯æ–‡æœ¬æ–‡ä»¶çš„æ ‡å‡†ç¼–ç ï¼Œå…¶å®ƒåŒ…æ‹¬ XML å’Œ JSON åœ¨å†…ï¼Œä¹Ÿéƒ½ä½¿ç”¨è¯¥ç¼–ç ã€‚ç”±äºè¯¥ç¼–ç å¯¹å ç”¨å­—èŠ‚é•¿åº¦çš„ä¸å®šæ€§ï¼ŒGo ä¸­çš„å­—ç¬¦ä¸²ä¹Ÿå¯èƒ½æ ¹æ®éœ€è¦å ç”¨ 1 è‡³ 4 ä¸ªå­—èŠ‚ï¼Œè¿™ä¸å…¶å®ƒè¯­è¨€å¦‚ C++ã€Java æˆ–è€… Python ä¸åŒã€‚Go è¿™æ ·åšçš„å¥½å¤„æ˜¯ä¸ä»…å‡å°‘äº†å†…å­˜å’Œç¡¬ç›˜ç©ºé—´å ç”¨ï¼ŒåŒæ—¶ä¹Ÿä¸ç”¨åƒå…¶å®ƒè¯­è¨€é‚£æ ·éœ€è¦å¯¹ä½¿ç”¨ UTF-8 å­—ç¬¦é›†çš„æ–‡æœ¬è¿›è¡Œç¼–ç å’Œè§£ç ã€‚</p><p>Go è¯­è¨€ä¸­å­—ç¬¦ä¸²çš„å¯ä»¥ä½¿ç”¨åŒå¼•å· (â€œ) æˆ–è€…åå¼•å· (&#96;) æ¥åˆ›å»ºã€‚åŒå¼•å·ç”¨æ¥åˆ›å»ºå¯è§£æçš„å­—ç¬¦ä¸²å­—é¢é‡ï¼Œæ‰€è°“å¯è§£æçš„æ˜¯æŒ‡å­—ç¬¦ä¸²ä¸­çš„ä¸€äº›ç¬¦å·å¯ä»¥è¢«æ ¼å¼åŒ–ä¸ºå…¶ä»–å†…å®¹ï¼Œå¦‚ \n åœ¨åœ¨è¾“å‡ºæ—¶å€™ä¼šè¢«æ ¼å¼åŒ–æˆæ¢è¡Œç¬¦ï¼Œå¦‚æœéœ€è¦æŒ‰ç…§åŸå§‹å­—ç¬¦è¾“å‡ºå¿…é¡»è¿›è¡Œè½¬ä¹‰ã€‚è€Œåå¼•å·åˆ›å»ºçš„å­—ç¬¦ä¸²åŸå§‹æ˜¯ä»€ä¹ˆæ ·ï¼Œé‚£è¾“å‡ºè¿˜æ˜¯ä»€ä¹ˆï¼Œä¸éœ€è¦è¿›è¡Œä»»ä½•è½¬ä¹‰ã€‚ä»¥ä¸‹æ˜¯å‡ ä¸ªä¾‹å­ï¼š</p><figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">t1 := <span class="string">&quot;\&quot;hello\&quot;&quot;</span>             <span class="comment">//å†…å®¹ï¼š &quot;hello&quot;</span></span><br><span class="line">t2 := <span class="string">`&quot;hello&quot;`</span>               <span class="comment">//å†…å®¹ï¼šå’Œt1ä¸€è‡´</span></span><br><span class="line">t3 := <span class="string">&quot;\u6B22\u8FCE&quot;</span>          <span class="comment">//å†…å®¹ï¼šæ¬¢è¿</span></span><br></pre></td></tr></table></figure><p>Go è¯­è¨€ä¸­çš„éƒ¨åˆ†è½¬ä¹‰å­—ç¬¦å¦‚ä¸‹è¡¨æ‰€ç¤ºï¼š</p><table><thead><tr><th>è½¬ä¹‰å­—ç¬¦</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td><code>\\</code></td><td>è¡¨ç¤ºåæ–œçº¿</td></tr><tr><td><code>\&#39;</code></td><td>å•å¼•å·</td></tr><tr><td><code>\&quot;</code></td><td>åŒå¼•å·</td></tr><tr><td><code>\n</code></td><td>æ¢è¡Œç¬¦</td></tr><tr><td><code>\uhhhh</code></td><td>4 ä¸ª 16 è¿›åˆ¶æ•°å­—ç»™å®šçš„ Unicode å­—ç¬¦</td></tr></tbody></table><p>åœ¨ Go è¯­è¨€ä¸­å•ä¸ªå­—ç¬¦å¯ä»¥ä½¿ç”¨å•å¼•å· (â€˜) æ¥åˆ›å»ºã€‚ä¹‹å‰çš„è¯¾ç¨‹ä¸­ï¼Œæˆ‘ä»¬æœ‰å­¦ä¹ è¿‡ rune ç±»å‹ï¼Œå®ƒç­‰åŒäº int32ï¼Œåœ¨ Go è¯­è¨€ä¸­ï¼Œä¸€ä¸ªå•ä¸€çš„å­—ç¬¦å¯ä»¥ç”¨ä¸€ä¸ªå•ä¸€çš„ rune æ¥è¡¨ç¤ºã€‚è¿™ä¹Ÿæ˜¯å®¹æ˜“ç†è§£çš„ï¼Œå› ä¸º Go è¯­è¨€çš„å­—ç¬¦ä¸²æ˜¯ UTF-8 ç¼–ç ï¼Œå…¶åº•å±‚ä½¿ç”¨ 4 ä¸ªå­—èŠ‚è¡¨ç¤ºï¼Œä¹Ÿå°±æ˜¯ 32 bitã€‚</p><p>åœ¨ Go è¯­è¨€ä¸­ï¼Œå­—ç¬¦ä¸²æ”¯æŒåˆ‡ç‰‡æ“ä½œï¼Œä½†æ˜¯éœ€è¦æ³¨æ„çš„æ˜¯å¦‚æœå­—ç¬¦ä¸²éƒ½æ˜¯ç”± ASCII å­—ç¬¦ç»„æˆï¼Œé‚£å¯ä»¥éšä¾¿ä½¿ç”¨åˆ‡ç‰‡è¿›è¡Œæ“ä½œï¼Œä½†æ˜¯å¦‚æœå­—ç¬¦ä¸²ä¸­åŒ…å«å…¶ä»–é ASCII å­—ç¬¦ï¼Œç›´æ¥ä½¿ç”¨åˆ‡ç‰‡è·å–æƒ³è¦çš„å•ä¸ªå­—ç¬¦æ—¶éœ€è¦ååˆ†å°å¿ƒï¼Œå› ä¸ºå¯¹å­—ç¬¦ä¸²ç›´æ¥ä½¿ç”¨åˆ‡ç‰‡æ—¶æ˜¯é€šè¿‡å­—èŠ‚è¿›è¡Œç´¢å¼•çš„ï¼Œä½†æ˜¯é ASCII å­—ç¬¦åœ¨å†…å­˜ä¸­å¯èƒ½ä¸æ˜¯ç”±ä¸€ä¸ªå­—èŠ‚ç»„æˆã€‚å¦‚æœæƒ³å¯¹å­—ç¬¦ä¸²ä¸­å­—ç¬¦ä¾æ¬¡è®¿é—®ï¼Œå¯ä»¥ä½¿ç”¨ range æ“ä½œç¬¦ã€‚å¦å¤–è·å–å­—ç¬¦ä¸²çš„é•¿åº¦å¯èƒ½æœ‰ä¸¤ç§å«ä¹‰ï¼Œä¸€ç§æ˜¯æŒ‡è·å–å­—ç¬¦ä¸²çš„å­—èŠ‚é•¿åº¦ï¼Œä¸€ç§æ˜¯æŒ‡è·å–å­—ç¬¦ä¸²çš„å­—ç¬¦æ•°é‡ã€‚å­—ç¬¦ä¸²æ”¯æŒä»¥ä¸‹æ“ä½œï¼š</p><table><thead><tr><th>è¯­æ³•</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>s += t</code></td><td>å°†å­—ç¬¦ä¸² t è¿½åŠ åˆ° s æœ«å°¾</td></tr><tr><td><code>s + t</code></td><td>å°†å­—ç¬¦ä¸² s å’Œ t çº§è”</td></tr><tr><td><code>s[n]</code></td><td>ä»å­—ç¬¦ä¸² s ä¸­ç´¢å¼•ä½ç½®ä¸º n å¤„çš„åŸå§‹å­—èŠ‚</td></tr><tr><td><code>s[n:m]</code></td><td>ä»ä½ç½® n åˆ°ä½ç½® <code>m-1</code> å¤„å–å¾—çš„å­—ç¬¦ï¼ˆå­—èŠ‚ï¼‰ä¸²</td></tr><tr><td><code>s[n:]</code></td><td>ä»ä½ç½® n åˆ°ä½ç½® <code>len(s)-1</code> å¤„å–å¾—çš„å­—ç¬¦ï¼ˆå­—èŠ‚ï¼‰ä¸²</td></tr><tr><td><code>s[:m]</code></td><td>ä»ä½ç½® 0 åˆ°ä½ç½® <code>m-1</code> å¤„å–å¾—çš„å­—ç¬¦ï¼ˆå­—èŠ‚ï¼‰ä¸²</td></tr><tr><td><code>len(s)</code></td><td>å­—ç¬¦ä¸² s ä¸­çš„å­—èŠ‚æ•°</td></tr><tr><td><code>len([]rune(s))</code></td><td>å­—ç¬¦ä¸² s ä¸­å­—ç¬¦çš„ä¸ªæ•°ï¼Œå¯ä»¥ä½¿ç”¨æ›´å¿«çš„æ–¹æ³• <code>utf8.RuneCountInString()</code></td></tr><tr><td><code>[]rune(s)</code></td><td>å°†å­—ç¬¦ä¸² s è½¬æ¢ä¸ºä¸€ä¸ª unicode å€¼ç»„æˆçš„ä¸²</td></tr><tr><td><code>string(chars)</code></td><td>chars ç±»å‹æ˜¯ <code>[]rune</code> æˆ–è€… <code>[]int32</code>, å°†ä¹‹è½¬æ¢ä¸ºå­—ç¬¦ä¸²</td></tr><tr><td><code>[]byte(s)</code></td><td>æ— å‰¯æœ¬çš„å°†å­—ç¬¦ä¸² s è½¬æ¢ä¸ºä¸€ä¸ªåŸå§‹çš„å­—èŠ‚çš„åˆ‡ç‰‡æ•°ç»„ï¼Œä¸ä¿è¯è½¬æ¢çš„å­—èŠ‚æ˜¯åˆæ³•çš„ UTF-8 ç¼–ç å­—èŠ‚</td></tr></tbody></table><p>è®©æˆ‘ä»¬å°è¯•ä¸€ä¸ªä¾‹å­ï¼Œåˆ›å»ºæºæ–‡ä»¶ string_t.goï¼Œç„¶åè¾“å…¥ä»¥ä¸‹æºä»£ç ï¼š</p><figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    t0 := <span class="string">&quot;\u6B22\u8FCE\u6765\u5230&quot;</span> <span class="comment">// t0å†…å®¹ï¼šæ¬¢è¿æ¥åˆ°</span></span><br><span class="line">    t1 := <span class="string">&quot;\u5B9E\u9A8C\u697C&quot;</span>       <span class="comment">// t1å†…å®¹ï¼šå®éªŒæ¥¼</span></span><br><span class="line">    t2 := t0 + t1</span><br><span class="line">    <span class="keyword">for</span> index, char := <span class="keyword">range</span> t2 &#123;</span><br><span class="line">        fmt.Printf(<span class="string">&quot;%-2d    %U      &#x27;%c&#x27;    %X      %d\n&quot;</span>,</span><br><span class="line">            index, char, char, []<span class="type">byte</span>(<span class="type">string</span>(char)), <span class="built_in">len</span>([]<span class="type">byte</span>(<span class="type">string</span>(char))))</span><br><span class="line">    &#125;</span><br><span class="line">    fmt.Printf(<span class="string">&quot;length of t0: %d, t1: %d, t2: %d\n&quot;</span>, <span class="built_in">len</span>(t0), <span class="built_in">len</span>(t1), <span class="built_in">len</span>(t2))</span><br><span class="line">    fmt.Printf(<span class="string">&quot;content of t2[0:2] is: %X\n&quot;</span>, t2[<span class="number">0</span>:<span class="number">2</span>])</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç„¶åé€šè¿‡ä»¥ä¸‹æ–¹å¼è¿è¡Œï¼Œåœ¨è¿™é‡Œä¸€èµ·æ˜¾ç¤ºäº†ç¨‹åºçš„è¾“å‡ºï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$ go run string_t.go</span><br><span class="line">0     U+6B22      <span class="string">&#x27;æ¬¢&#x27;</span>    E6ACA2      3</span><br><span class="line">3     U+8FCE      <span class="string">&#x27;è¿&#x27;</span>    E8BF8E      3</span><br><span class="line">6     U+6765      <span class="string">&#x27;æ¥&#x27;</span>    E69DA5      3</span><br><span class="line">9     U+5230      <span class="string">&#x27;åˆ°&#x27;</span>    E588B0      3</span><br><span class="line">12    U+5B9E      <span class="string">&#x27;å®&#x27;</span>    E5AE9E      3</span><br><span class="line">15    U+9A8C      <span class="string">&#x27;éªŒ&#x27;</span>    E9AA8C      3</span><br><span class="line">18    U+697C      <span class="string">&#x27;æ¥¼&#x27;</span>    E6A5BC      3</span><br><span class="line">length of t0: 12, t1: 9, t2: 21</span><br><span class="line">content of t2[0:2] is: E6AC</span><br></pre></td></tr></table></figure><p>è¯´æ˜ï¼š</p><p>é€šè¿‡å‰é¢çš„è¯¾ç¨‹æˆ‘ä»¬çŸ¥é“é€šè¿‡ \uhhhh çš„æ–¹å¼æˆ‘ä»¬å¯ä»¥é€šè¿‡åˆ›å»º Unicode å­—ç¬¦ã€‚</p><p>åœ¨ä»¥ä¸Šç¨‹åºä¸­ï¼Œé¦–å…ˆé€šè¿‡ :&#x3D; ç¬¦å·åˆ›å»ºäº†å˜é‡ t0ï¼Œå…¶å€¼ä¸º \u6B22\u8FCE\u6765\u5230ï¼Œæ˜¯ æ¬¢è¿æ¥åˆ° ä¸­æ–‡å­—ç¬¦çš„ unicode ç¼–ç ï¼Œç„¶åä»¥åŒæ ·çš„æ–¹å¼åˆ›å»ºäº†å˜é‡ t1ï¼Œå…¶å€¼ä¸º å®éªŒæ¥¼ï¼Œç„¶åé€šè¿‡ + æ“ä½œç¬¦å°† t0 å’Œt1 æ‹¼æ¥èµ‹å€¼ç»™ t2ã€‚ç„¶åæˆ‘ä»¬é€šè¿‡ range æ“ä½œç¬¦å·å¯¹ unicode å­—ç¬¦ä¸² t2 ä¸­çš„æ¯ä¸€ä¸ª unicode å­—ç¬¦ä¾æ¬¡æ“ä½œï¼Œæˆ‘ä»¬è¿™é‡Œåªæ˜¯ç®€å•çš„æ‰“å°å‡ºæ¯ä¸ªå­—ç¬¦åœ¨ t2 ä¸­çš„ä½ç½®ï¼Œæ¯ä¸ªå­—ç¬¦çš„ unicode ç å€¼ï¼Œæ¯ä¸ªå­—ç¬¦çš„å­—é¢é‡ï¼Œæ¯ä¸ªå­—ç¬¦çš„åå…­è¿›åˆ¶å€¼ï¼Œä»¥åŠæ¯ä¸ªå­—ç¬¦çš„å­—èŠ‚é•¿åº¦ã€‚</p><p>è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨ fmt åŒ…ç§æ”¯æŒçš„æ ¼å¼æŒ‡ä»¤ï¼Œå¦‚æœè¯»è€…å­¦ä¹ è¿‡ C è¯­è¨€çš„è¯å°±ä¸€ç›®äº†ç„¶ã€‚æ¥ç€ï¼Œæˆ‘ä»¬é€šè¿‡ len æ“ä½œç¬¦è®¡ç®—å‡ºäº†æ¯ä¸ªå­—ç¬¦ä¸²çš„å­—èŠ‚é•¿åº¦ã€‚æœ€åï¼Œæˆ‘ä»¬ä½¿ç”¨åˆ‡ç‰‡è®¿é—®äº†å­—ç¬¦ä¸² t2 çš„ç¬¬ 0-1 ä¸ªå­—èŠ‚ï¼Œä¹Ÿå°±æ˜¯å‰ä¸¤ä¸ªå­—èŠ‚ï¼Œå…¶å†…å®¹ä¸º E6ACã€‚å‰é¢æˆ‘ä»¬è¯´åˆ°ä¸èƒ½ä½¿ç”¨åˆ‡ç‰‡çš„æ–¹å¼è®¿é—®é ASCII å­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦ï¼ŒåŸå› åœ¨è¿™é‡Œä¸€ç›®äº†ç„¶ã€‚å­—ç¬¦ æ¬¢ å…¶åº•å±‚ä½¿ç”¨äº†ä¸‰ä¸ªå­—èŠ‚è¡¨ç¤ºï¼Œå†…å®¹æ˜¯ E6ACA2ï¼Œå¦‚æœåªæ˜¯ç®€å•çš„ä½¿ç”¨åˆ‡ç‰‡ï¼ˆåªå–åˆ‡ç‰‡ä¸­çš„ä¸€é¡¹ï¼‰è®¿é—®çš„æ˜¯ä¸èƒ½è®¿é—®åˆ°æ•´ä¸ªå­—ç¬¦çš„ï¼Œå› ä¸ºå­—ç¬¦çš„åˆ‡ç‰‡æ˜¯é€šè¿‡å­—èŠ‚æ•°æ¥ç´¢å¼•çš„ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> GO </category>
          
          <category> Goç®€æ˜æ‰‹å†Œ </category>
          
          <category> Goè¯­è¨€åŸºç¡€ </category>
          
          <category> å­—ç¬¦ä¸² </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Goç®€æ˜æ‰‹å†Œ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>GoåŸºæœ¬è¯­æ³•â€”â€”åˆ‡ç‰‡</title>
      <link href="/Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/Go%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/%E5%88%87%E7%89%87/%E5%88%87%E7%89%87/"/>
      <url>/Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/Go%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/%E5%88%87%E7%89%87/%E5%88%87%E7%89%87/</url>
      
        <content type="html"><![CDATA[<p>ä¸€èˆ¬è€Œè¨€ï¼ŒGo è¯­è¨€çš„åˆ‡ç‰‡æ¯”æ•°ç»„æ›´åŠ çµæ´»ï¼Œå¼ºå¤§è€Œä¸”æ–¹ä¾¿ã€‚æ•°ç»„æ˜¯æŒ‰å€¼ä¼ é€’çš„ï¼ˆå³æ˜¯ä¼ é€’çš„å‰¯æœ¬ï¼‰ï¼Œè€Œåˆ‡ç‰‡æ˜¯å¼•ç”¨ç±»å‹ï¼Œä¼ é€’åˆ‡ç‰‡çš„æˆæœ¬éå¸¸å°ï¼Œè€Œä¸”æ˜¯ä¸å®šé•¿çš„ã€‚è€Œä¸”æ•°ç»„æ˜¯å®šé•¿çš„ï¼Œè€Œåˆ‡ç‰‡å¯ä»¥è°ƒæ•´é•¿åº¦ã€‚åˆ›å»ºåˆ‡ç‰‡çš„è¯­æ³•å¦‚ä¸‹ï¼š</p><ul><li><code>make([ ]Type, length, capacity)</code></li><li><code>make([ ]Type, length)</code></li><li><code>[ ]Type&#123;&#125;</code></li><li><code>[ ]Type&#123;value1, value2, ..., valueN&#125;</code></li></ul><p>å†…ç½®å‡½æ•° <code>make()</code> ç”¨äºåˆ›å»ºåˆ‡ç‰‡ã€æ˜ å°„å’Œé€šé“ã€‚å½“ç”¨äºåˆ›å»ºä¸€ä¸ªåˆ‡ç‰‡æ—¶ï¼Œå®ƒä¼šåˆ›å»ºä¸€ä¸ªéšè—çš„åˆå§‹åŒ–ä¸ºé›¶å€¼çš„æ•°ç»„ï¼Œç„¶åè¿”å›ä¸€ä¸ªå¼•ç”¨è¯¥éšè—æ•°ç»„çš„åˆ‡ç‰‡ã€‚è¯¥éšè—çš„æ•°ç»„ä¸ Go è¯­è¨€ä¸­çš„æ‰€æœ‰æ•°ç»„ä¸€æ ·ï¼Œéƒ½æ˜¯å›ºå®šé•¿åº¦ï¼Œå¦‚æœä½¿ç”¨ç¬¬ä¸€ç§è¯­æ³•åˆ›å»ºï¼Œé‚£ä¹ˆå…¶é•¿åº¦ä¸ºåˆ‡ç‰‡çš„å®¹é‡ <code>capacity</code>ï¼›å¦‚æœæ˜¯ç¬¬äºŒç§è¯­æ³•ï¼Œé‚£ä¹ˆå…¶é•¿åº¦è®°ä¸ºåˆ‡ç‰‡çš„é•¿åº¦ <code>length</code>ã€‚ä¸€ä¸ªåˆ‡ç‰‡çš„å®¹é‡å³ä¸ºéšè—æ•°ç»„çš„é•¿åº¦ï¼Œè€Œå…¶é•¿åº¦åˆ™ä¸ºä¸è¶…è¿‡è¯¥å®¹é‡çš„ä»»æ„å€¼ã€‚å¦å¤–å¯ä»¥é€šè¿‡å†…ç½®çš„å‡½æ•° <code>append()</code> æ¥å¢åŠ åˆ‡ç‰‡çš„å®¹é‡ã€‚åˆ‡ç‰‡å¯ä»¥æ”¯æŒä»¥ä¸‹æ“ä½œï¼š</p><p>æˆ‘ä»¬ç»ƒä¹ ä¸‹ï¼Œåˆ›å»ºæºæ–‡ä»¶ <code>slice_array.go</code>ï¼Œè¾“å…¥ä»¥ä¸‹ä»£ç ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    a := [...]<span class="type">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>&#125;</span><br><span class="line">    fmt.Printf(<span class="string">&quot;len and cap of array %v is: %d and %d\n&quot;</span>, a, <span class="built_in">len</span>(a), <span class="built_in">cap</span>(a))</span><br><span class="line">    fmt.Printf(<span class="string">&quot;item in array: %v is:&quot;</span>, a)</span><br><span class="line">    <span class="keyword">for</span> _, value := <span class="keyword">range</span> a &#123;</span><br><span class="line">        fmt.Printf(<span class="string">&quot;% d&quot;</span>, value)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    fmt.Println()</span><br><span class="line"></span><br><span class="line">    s1 := a[<span class="number">3</span>:<span class="number">6</span>]</span><br><span class="line">    fmt.Printf(<span class="string">&quot;len and cap of slice: %v is: %d and %d\n&quot;</span>, s1, <span class="built_in">len</span>(s1), <span class="built_in">cap</span>(s1))</span><br><span class="line">    fmt.Printf(<span class="string">&quot;item in slice: %v is:&quot;</span>, s1)</span><br><span class="line">    <span class="keyword">for</span> _, value := <span class="keyword">range</span> s1 &#123;</span><br><span class="line">        fmt.Printf(<span class="string">&quot;%d&quot;</span>, value)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    fmt.Println()</span><br><span class="line"></span><br><span class="line">    s1[<span class="number">0</span>] = <span class="number">456</span></span><br><span class="line">    fmt.Printf(<span class="string">&quot;item in array changed after changing slice: %v is:&quot;</span>, s1)</span><br><span class="line">    <span class="keyword">for</span> _, value := <span class="keyword">range</span> a &#123;</span><br><span class="line">        fmt.Printf(<span class="string">&quot;%d&quot;</span>, value)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    fmt.Println()</span><br><span class="line"></span><br><span class="line">    s2 := <span class="built_in">make</span>([]<span class="type">int</span>, <span class="number">10</span>, <span class="number">20</span>)</span><br><span class="line">    s2[<span class="number">4</span>] = <span class="number">5</span></span><br><span class="line">    fmt.Printf(<span class="string">&quot;len and cap of slice: %v is: %d and %d\n&quot;</span>, s2, <span class="built_in">len</span>(s2), <span class="built_in">cap</span>(s2))</span><br><span class="line">    fmt.Printf(<span class="string">&quot;item in slice %v is:&quot;</span>, s2)</span><br><span class="line">    <span class="keyword">for</span> _, value := <span class="keyword">range</span> s2 &#123;</span><br><span class="line">        fmt.Printf(<span class="string">&quot;%d&quot;</span>, value)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    fmt.Println()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šä»£ç ä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆåˆ›å»ºäº†ä¸€ä¸ªæ•°ç»„ï¼Œæ•°ç»„çš„é•¿åº¦æ˜¯ç”± Go è¯­è¨€è‡ªåŠ¨è®¡ç®—å‡ºçš„ï¼ˆçœç•¥å·è¯­æ³•ï¼‰ï¼Œç„¶åé€šè¿‡åˆ‡ç‰‡æ“ä½œä»æ•°ç»„ <code>a</code> ä¸­åˆ›å»ºäº†åˆ‡ç‰‡ <code>s1</code>ï¼Œæ¥ç€æˆ‘ä»¬ä¿®æ”¹äº†è¯¥åˆ‡ç‰‡çš„ç¬¬ä¸€ä¸ªä½ç½®çš„æ•°å€¼ï¼Œç„¶åå‘ç°æ•°ç»„ <code>a</code> ä¸­çš„å€¼ä¹Ÿå‘ç”Ÿäº†å˜åŒ–ã€‚æœ€åæˆ‘ä»¬é€šè¿‡ <code>make()</code> å‡½æ•°åˆ›å»ºäº†ä¸€ä¸ªåˆ‡ç‰‡ï¼Œè¯¥åˆ‡ç‰‡çš„é•¿åº¦å’Œå®¹é‡åˆ†åˆ«ä¸º 10 å’Œ 20ï¼Œè¿˜å¯ä»¥å‘ç° Go è¯­è¨€å°†æœªåˆå§‹åŒ–çš„é¡¹è‡ªåŠ¨èµ‹äºˆé›¶å€¼ã€‚è¿è¡Œä»£ç è¾“å‡ºå¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$  go run slice_array.go</span><br><span class="line">len and <span class="built_in">cap</span> of array [1 2 3 4 5 6 7] is: 7 and 7</span><br><span class="line">item <span class="keyword">in</span> array: [1 2 3 4 5 6 7] is: 1 2 3 4 5 6 7</span><br><span class="line">len and <span class="built_in">cap</span> of slice: [4 5 6] is: 3 and 4</span><br><span class="line">item <span class="keyword">in</span> slice: [4 5 6] is: 4 5 6</span><br><span class="line">item <span class="keyword">in</span> array changed after changing slice: [456 5 6] is: 1 2 3 456 5 6 7</span><br><span class="line">len and <span class="built_in">cap</span> of slice: [0 0 0 0 5 0 0 0 0 0] is: 10 and 20</span><br><span class="line">item <span class="keyword">in</span> slice [0 0 0 0 5 0 0 0 0 0] is: 0 0 0 0 5 0 0 0 0 0</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> GO </category>
          
          <category> Goç®€æ˜æ‰‹å†Œ </category>
          
          <category> Goè¯­è¨€åŸºç¡€ </category>
          
          <category> åˆ‡ç‰‡ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Goç®€æ˜æ‰‹å†Œ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Goç®€æ˜æ‰‹å†Œâ€”â€”Goåˆ›å»ºå¹¶ä½¿ç”¨æœ¬åœ°å®</title>
      <link href="/Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/Go%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/package/README/"/>
      <url>/Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/Go%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/package/README/</url>
      
        <content type="html"><![CDATA[<p>[toc]</p><h1 id="åŒ…"><a href="#åŒ…" class="headerlink" title="åŒ…"></a>åŒ…</h1><blockquote><p><strong>åŒ…</strong>æ˜¯å„ç§ç±»å‹å’Œå‡½æ•°çš„é›†åˆã€‚åœ¨åŒ…ä¸­ï¼Œå¦‚æœæ ‡ç¤ºç¬¦ï¼ˆç±»å‹åç§°ï¼Œå‡½æ•°åç§°ï¼Œæ–¹æ³•åç§°ï¼‰çš„é¦–å­—æ¯æ˜¯å¤§å†™ï¼Œé‚£è¿™äº›æ ‡ç¤ºç¬¦æ˜¯å¯ä»¥è¢«å¯¼å‡ºçš„ï¼Œä¹Ÿå°±æ˜¯è¯´å¯ä»¥åœ¨åŒ…ä»¥å¤–ç›´æ¥ä½¿ç”¨ã€‚</p></blockquote><p><code>$GOPATH</code> ï¼šç¯å¢ƒå˜é‡ï¼ˆæŒ‡å‘ä¸€ä¸ªæˆ–å¤šä¸ªç›®å½•ï¼‰ï¼Œä»¥åŠå…¶å­ç›®å½• <code>src</code> ç›®å½•çš„ï¼Œå½“æˆ‘ä»¬ä½¿ç”¨ <code>import</code> å…³é”®å­—å¯¼å…¥åŒ…çš„æ—¶å€™ï¼ŒGo è¯­è¨€ä¼šåœ¨ <code>$GOPATH</code> å’Œ <code>GOROOT</code> ç›®å½•ä¸­æœç´¢åŒ…ã€‚</p><h1 id="åˆ›å»ºå¹¶ä½¿ç”¨è‡ªå®šä¹‰åŒ…"><a href="#åˆ›å»ºå¹¶ä½¿ç”¨è‡ªå®šä¹‰åŒ…" class="headerlink" title="åˆ›å»ºå¹¶ä½¿ç”¨è‡ªå®šä¹‰åŒ…"></a>åˆ›å»ºå¹¶ä½¿ç”¨è‡ªå®šä¹‰åŒ…</h1><blockquote><p><a href="./package.zip">æºæ–‡ä»¶</a><br>æ³¨æ„ç‚¹ï¼š</p><ol><li>goæ–‡ä»¶åå’Œæ–‡ä»¶å¤¹åå¹¶æ²¡æœ‰å…³ç³»ï¼Œæ–‡ä»¶åå¯ä»¥æ˜¯ä»»æ„çš„ï¼Œæ–‡ä»¶å®šä¹‰çš„<code>package</code> æ‰æ˜¯æ ‡è¯†</li><li>æ–¹æ³•å®šä¹‰ä¸€å®šå¾—æ˜¯é¦–å­—æ¯å¤§å†™</li><li>è‡ªå®šä¹‰åŒ…ä¸èƒ½å’Œå¯¼å…¥å¤„äºåŒçº§ç›®å½•ï¼Œå¿…é¡»å»ºä¸€ä¸ªæ–‡ä»¶å¤¹å­˜æ”¾è‡ªå®šä¹‰åŒ…</li></ol></blockquote><p>å…ˆçœ‹ä¸€ä¸‹ç›®å½•ç»“æ„ï¼Œä»¥ä¸‹ç¤ºä¾‹æ˜¯å¯¼å…¥ä¸¤åŒ…ï¼Œä¸€ä¸ªæ˜¯<code>add</code>ï¼Œä¸€ä¸ªæ˜¯<code>simpleinterest</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">â”‚  go.mod</span><br><span class="line">â”‚  main.go</span><br><span class="line">â”‚  README.md</span><br><span class="line">â”‚</span><br><span class="line">â”œâ”€add</span><br><span class="line">â”‚      add.go</span><br><span class="line">â”‚</span><br><span class="line">â””â”€simpleinterest</span><br><span class="line">        simpleinterest.go</span><br></pre></td></tr></table></figure><h2 id="æ­¥éª¤è¯´æ˜"><a href="#æ­¥éª¤è¯´æ˜" class="headerlink" title="æ­¥éª¤è¯´æ˜"></a>æ­¥éª¤è¯´æ˜</h2><h3 id="1-åˆ›å»ºpackageæ–‡ä»¶å¤¹"><a href="#1-åˆ›å»ºpackageæ–‡ä»¶å¤¹" class="headerlink" title="1 åˆ›å»ºpackageæ–‡ä»¶å¤¹"></a>1 åˆ›å»ºpackageæ–‡ä»¶å¤¹</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> package</span><br><span class="line"></span><br><span class="line">go mod init packagetest</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œä¸Šè¿°å‘½ä»¤åï¼Œä¼šç”Ÿæˆ <code>go.mod</code> æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹æ‰€ç¤º</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">module packageTest</span><br><span class="line"></span><br><span class="line"><span class="keyword">go</span> <span class="number">1.20</span></span><br></pre></td></tr></table></figure><h3 id="2-åˆ›å»ºå„ä¸ªæ–‡ä»¶"><a href="#2-åˆ›å»ºå„ä¸ªæ–‡ä»¶" class="headerlink" title="2 åˆ›å»ºå„ä¸ªæ–‡ä»¶"></a>2 åˆ›å»ºå„ä¸ªæ–‡ä»¶</h3><h4 id="main-go"><a href="#main-go" class="headerlink" title="main.go"></a>main.go</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line"><span class="string">&quot;fmt&quot;</span></span><br><span class="line"><span class="string">&quot;log&quot;</span></span><br><span class="line"><span class="string">&quot;packageTest/add&quot;</span> <span class="comment">//å¯¼å…¥ add åŒ… è¿™ä¸ªåŒ…å¿…é¡»æ”¾åœ¨$GOPATHä¸‹æ‰å¯</span></span><br><span class="line"><span class="string">&quot;packageTest/simpleinterest&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> p, r, t = <span class="number">5000.0</span>, <span class="number">10.0</span>, <span class="number">1.0</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* init function to check if p, r and t are greater than zero</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">init</span><span class="params">()</span></span> &#123;</span><br><span class="line"><span class="built_in">println</span>(<span class="string">&quot;Main package initialized&quot;</span>)</span><br><span class="line"><span class="keyword">if</span> p &lt; <span class="number">0</span> &#123;</span><br><span class="line">log.Fatal(<span class="string">&quot;Principal is less than zero&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> r &lt; <span class="number">0</span> &#123;</span><br><span class="line">log.Fatal(<span class="string">&quot;Rate of interest is less than zero&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> t &lt; <span class="number">0</span> &#123;</span><br><span class="line">log.Fatal(<span class="string">&quot;Duration is less than zero&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">c := add.Add(<span class="number">1</span>, <span class="number">2</span>)                      <span class="comment">//è°ƒç”¨ add åŒ…ä¸­çš„ add å‡½æ•°</span></span><br><span class="line">si := simpleinterest.Calculate(p, r, t) <span class="comment">// è°ƒç”¨ simpleinterest åŒ…çš„ Calculate å‡½æ•°</span></span><br><span class="line">fmt.Println(c)</span><br><span class="line">fmt.Println(<span class="string">&quot;Simple interest is&quot;</span>, si)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="simpleinterest-x2F-simpleinterest-go"><a href="#simpleinterest-x2F-simpleinterest-go" class="headerlink" title="simpleinterest&#x2F;simpleinterest.go"></a>simpleinterest&#x2F;simpleinterest.go</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> simpleinterest</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * init function added</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">init</span><span class="params">()</span></span> &#123;</span><br><span class="line">fmt.Println(<span class="string">&quot;Simple interest package initialized&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//Calculate calculates and returns the simple interest for principal p, rate of interest r for time duration t years</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Calculate</span><span class="params">(p <span class="type">float64</span>, r <span class="type">float64</span>, t <span class="type">float64</span>)</span></span> <span class="type">float64</span> &#123;</span><br><span class="line">interest := p * (r / <span class="number">100</span>) * t</span><br><span class="line"><span class="keyword">return</span> interest</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="add-x2F-add-go"><a href="#add-x2F-add-go" class="headerlink" title="add&#x2F;add.go"></a>add&#x2F;add.go</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> add</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Add</span><span class="params">(a <span class="type">int</span>, b <span class="type">int</span>)</span></span> (num <span class="type">int</span>) &#123;</span><br><span class="line"><span class="keyword">return</span> a + b</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-æ‰§è¡Œå¹¶è°ƒè¯•"><a href="#3-æ‰§è¡Œå¹¶è°ƒè¯•" class="headerlink" title="3 æ‰§è¡Œå¹¶è°ƒè¯•"></a>3 æ‰§è¡Œå¹¶è°ƒè¯•</h3><p>è¾“å‡ºå¦‚ä¸‹æ‰€ç¤º</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Main package initialized</span><br><span class="line">Simple interest package initialized</span><br><span class="line">3</span><br><span class="line">Simple interest is 500</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> GO </category>
          
          <category> Goç®€æ˜æ‰‹å†Œ </category>
          
          <category> Goè¯­è¨€åŸºç¡€ </category>
          
          <category> package </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Goç®€æ˜æ‰‹å†Œ </tag>
            
            <tag> go </tag>
            
            <tag> package </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Goå¼€å‘ç»éªŒ(1)</title>
      <link href="/Code/GO/Go%E5%BC%80%E5%8F%91%E7%BB%8F%E9%AA%8C/Go%E5%BC%80%E5%8F%91%E7%BB%8F%E9%AA%8C(1)/"/>
      <url>/Code/GO/Go%E5%BC%80%E5%8F%91%E7%BB%8F%E9%AA%8C/Go%E5%BC%80%E5%8F%91%E7%BB%8F%E9%AA%8C(1)/</url>
      
        <content type="html"><![CDATA[<p>[toc]</p><h1 id="1-var-ä¸-çš„åŒºåˆ«"><a href="#1-var-ä¸-çš„åŒºåˆ«" class="headerlink" title="1 var ä¸ := çš„åŒºåˆ«"></a>1 <code>var</code> ä¸ <code>:=</code> çš„åŒºåˆ«</h1><p><strong><code>:= </code>åªèƒ½åœ¨å£°æ˜â€œå±€éƒ¨å˜é‡â€çš„æ—¶å€™ä½¿ç”¨ï¼Œè€Œâ€œvarâ€æ²¡æœ‰è¿™ä¸ªé™åˆ¶ã€‚</strong></p>]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> GO </category>
          
          <category> Goå¼€å‘ç»éªŒ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>é”</title>
      <link href="/Code/CPP/%E9%94%81/"/>
      <url>/Code/CPP/%E9%94%81/</url>
      
        <content type="html"><![CDATA[<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">std::unique_lock&lt;std::recursive_mutex&gt; <span class="title">lock</span><span class="params">(sensor_handle_mutex)</span></span>;</span><br></pre></td></tr></table></figure><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> CPP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> cpp </tag>
            
            <tag> mutex </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>duilib å…¥é—¨</title>
      <link href="/Code/Duilib/%E5%85%A5%E9%97%A8/"/>
      <url>/Code/Duilib/%E5%85%A5%E9%97%A8/</url>
      
        <content type="html"><![CDATA[<p>[toc]</p><h1 id="å¼€å·æœ‰ç›Š"><a href="#å¼€å·æœ‰ç›Š" class="headerlink" title="å¼€å·æœ‰ç›Š"></a>å¼€å·æœ‰ç›Š</h1><p>ğŸˆgithubï¼š <a href="https://github.com/duilib/duilib">duilib&#x2F;duilib</a></p><p>ğŸ“–è¯´æ˜ï¼šDuilibæ˜¯ä¸€ä¸ªWindowsä¸‹å…è´¹å¼€æºçš„DirectUIç•Œé¢åº“ï¼Œç”±äºç®€çº¦æ˜“æ‰©å±•çš„è®¾è®¡ä»¥åŠç¨³å®šé«˜æ•ˆçš„å®ç°è¢«å„å¤§äº’è”ç½‘å…¬å¸æ™®éæ¥å—ï¼Œå¹¿æ³›åº”ç”¨äºåŒ…æ‹¬IMã€è§†é¢‘å®¢æˆ·ç«¯ã€è‚¡ç¥¨è¡Œæƒ…è½¯ä»¶ã€å¯¼èˆªè½¯ä»¶ã€æ‰‹æœºè¾…åŠ©è½¯ä»¶ã€å®‰å…¨è½¯ä»¶ç­‰å¤šä¸ªè¡Œä¸šçš„ä¼—å¤šPCå®¢æˆ·ç«¯è½¯ä»¶ã€‚Duilibè¿˜åœ¨ä¸æ–­çš„å‘å±•ä¸­ï¼Œåœ¨æ–‡æ¡£ã€ä¾‹å­ã€åŠ¨ç”»ã€æ¸²æŸ“å¼•æ“ç­‰å¤šä¸ªæ–¹é¢å°†æŒç»­æ”¹è¿›ã€‚</p><h2 id="åŸºäºDuilibçš„è½¯ä»¶ä¸å®Œå…¨åˆ—è¡¨"><a href="#åŸºäºDuilibçš„è½¯ä»¶ä¸å®Œå…¨åˆ—è¡¨" class="headerlink" title="åŸºäºDuilibçš„è½¯ä»¶ä¸å®Œå…¨åˆ—è¡¨"></a>åŸºäºDuilibçš„è½¯ä»¶ä¸å®Œå…¨åˆ—è¡¨</h2><p>Duilibè‡ª2010å¹´8æœˆ21æ—¥å‘å¸ƒä»¥æ¥ï¼Œè·å¾—äº†ä¼—å¤šå¼€å‘è€…å’Œå¤§å…¬å¸çš„ä¿¡èµ–ï¼Œåœ¨å„è¡Œå„ä¸šçš„è½¯ä»¶ä¸­å¾—åˆ°äº†å¹¿æ³›åº”ç”¨ï¼Œä»¥ä¸‹æ˜¯ä¸€ä¸ªä½œè€…çŸ¥é“ä¸å®Œå…¨åˆ—è¡¨ï¼Œæ¬¢è¿å¤§å®¶è¡¥å……æŒ‡æ­£ <a href="https://github.com/duilib/duilib/wiki/%E5%9F%BA%E4%BA%8EDuilib%E7%9A%84%E8%BD%AF%E4%BB%B6%E4%B8%8D%E5%AE%8C%E5%85%A8%E5%88%97%E8%A1%A8">https://github.com/duilib/duilib/wiki/%E5%9F%BA%E4%BA%8EDuilib%E7%9A%84%E8%BD%AF%E4%BB%B6%E4%B8%8D%E5%AE%8C%E5%85%A8%E5%88%97%E8%A1%A8</a></p><p>ä¸‹é¢ä¸¤ä¸ªä¿®æ”¹ç‰ˆæœ¬å¤§å®¶å¯ä»¥å‚è€ƒä¸€ä¸‹</p><h2 id="è…¾è®¯ä½¿ç”¨çš„çš„duilibä¿®æ”¹ç‰ˆ"><a href="#è…¾è®¯ä½¿ç”¨çš„çš„duilibä¿®æ”¹ç‰ˆ" class="headerlink" title="è…¾è®¯ä½¿ç”¨çš„çš„duilibä¿®æ”¹ç‰ˆ"></a>è…¾è®¯ä½¿ç”¨çš„çš„duilibä¿®æ”¹ç‰ˆ</h2><p><a href="https://github.com/tencentyun/TIMSDK/tree/master/cross-platform/Windows/IMApp/Basic/duilib">https://github.com/tencentyun/TIMSDK/tree/master/cross-platform/Windows/IMApp/Basic/duilib</a></p><h2 id="ç½‘æ˜“ä½¿ç”¨çš„duilibä¿®æ”¹ç‰ˆ"><a href="#ç½‘æ˜“ä½¿ç”¨çš„duilibä¿®æ”¹ç‰ˆ" class="headerlink" title="ç½‘æ˜“ä½¿ç”¨çš„duilibä¿®æ”¹ç‰ˆ"></a>ç½‘æ˜“ä½¿ç”¨çš„duilibä¿®æ”¹ç‰ˆ</h2><p><a href="https://github.com/netease-im/NIM_Duilib_Framework/tree/master/duilib">https://github.com/netease-im/NIM_Duilib_Framework/tree/master/duilib</a></p><h1 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h1><p>ä½¿ç”¨<a href="https://github.com/Microsoft/vcpkg">vcpkg</a>åº“ç®¡ç†å™¨ä¸‹è½½å¹¶å®‰è£…duilib:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/Microsoft/vcpkg.git</span><br><span class="line"><span class="built_in">cd</span> vcpkg</span><br><span class="line">./bootstrap-vcpkg.sh</span><br><span class="line">./vcpkg integrate install</span><br><span class="line">./vcpkg install duilib</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> Duilib </category>
          
      </categories>
      
      
        <tags>
            
            <tag> duilib </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>GO HACK PEæ–‡ä»¶åˆ†æ</title>
      <link href="/Code/GO/GO_HACK_PEFILES/"/>
      <url>/Code/GO/GO_HACK_PEFILES/</url>
      
        <content type="html"><![CDATA[<p>ä½¿ç”¨ go å¯¹ PEæ–‡ä»¶è¿›è¡Œåˆ†æ</p><ol><li>ä½¿ç”¨debug&#x2F;peæ ‡å‡†åº“è¿›è¡Œè§£æ</li><li>ä½¿ç”¨Readerå¯¹è±¡å¯¹PEæ–‡ä»¶å†…å®¹è¿›è¡Œè§£æ</li></ol><h1 id="PEæ–‡ä»¶ç»“æ„"><a href="#PEæ–‡ä»¶ç»“æ„" class="headerlink" title="PEæ–‡ä»¶ç»“æ„"></a>PEæ–‡ä»¶ç»“æ„</h1><ol><li>DOSheader åŒ…å«ç­¾åï¼ˆ0x5a4dï¼‰peheader(0x3cæŒ‡å‘0x50 0x45 0x00 0x00)</li><li>dos stub</li><li>coff file header</li><li>optional header</li><li>section table</li></ol><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// peå¤´</span></span><br><span class="line"><span class="keyword">type</span> FileHeader <span class="keyword">struct</span> &#123;</span><br><span class="line">    Machine              <span class="type">uint16</span></span><br><span class="line">    NumberOfSections     <span class="type">uint16</span>  <span class="comment">// åˆ†åŒºæ•°</span></span><br><span class="line">    TimeDateStamp        <span class="type">uint32</span></span><br><span class="line">    PointerToSymbolTable <span class="type">uint32</span></span><br><span class="line">    NumberOfSymbols      <span class="type">uint32</span></span><br><span class="line">    SizeOfOptionalHeader <span class="type">uint16</span></span><br><span class="line">    Characteristics      <span class="type">uint16</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol><li>å¦‚æœéœ€è¦å¢åŠ æ–°åˆ†åŒºï¼Œæ’å…¥åé—¨ä»£ç ï¼Œéœ€è¦ä¿®æ”¹è¿™é‡Œçš„åˆ†åŒºæ•°å±æ€§</li><li>å¢åŠ æ–°çš„Sections</li><li>æˆ–è€…åœ¨imagebaseä¸­å¢åŠ shellcode</li></ol><p>ä½œè€…ï¼šmafa1993<br>é“¾æ¥ï¼š<a href="https://www.jianshu.com/p/2294fcfc0286">https://www.jianshu.com/p/2294fcfc0286</a><br>æ¥æºï¼šç®€ä¹¦<br>è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;debug/pe&quot;</span></span><br><span class="line">    <span class="string">&quot;encoding/binary&quot;</span></span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">    <span class="string">&quot;io&quot;</span></span><br><span class="line">    <span class="string">&quot;log&quot;</span></span><br><span class="line">    <span class="string">&quot;os&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    f, err := os.Open(<span class="string">&quot;G:\\Windows\\WinSxS\\amd64_microsoft-windows-calc_31bf3856ad364e35_10.0.18362.1_none_7c1b713697f466dd\\calc.exe&quot;</span>) <span class="comment">// Modify for binary or change to accept args</span></span><br><span class="line">    check(err)</span><br><span class="line">    pefile, err := pe.NewFile(f) <span class="comment">// åˆ›å»ºpeæ–‡ä»¶å¯¹è±¡</span></span><br><span class="line">    check(err)</span><br><span class="line">    <span class="keyword">defer</span> f.Close()</span><br><span class="line">    <span class="keyword">defer</span> pefile.Close()</span><br><span class="line"></span><br><span class="line">    dosHeader := <span class="built_in">make</span>([]<span class="type">byte</span>, <span class="number">96</span>) <span class="comment">// è¯»å–å‰96ä¸ªå­—èŠ‚</span></span><br><span class="line">    sizeOffset := <span class="built_in">make</span>([]<span class="type">byte</span>, <span class="number">4</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Dec to Ascii (searching for MZ)</span></span><br><span class="line">    _, err = f.Read(dosHeader)</span><br><span class="line">    check(err)</span><br><span class="line">    fmt.Println(<span class="string">&quot;[-----DOS Header / Stub----- headerå’Œstubè§£æ]&quot;</span>)</span><br><span class="line">    fmt.Printf(<span class="string">&quot;[+] Magic Value: %s%s\n&quot;</span>, <span class="type">string</span>(dosHeader[<span class="number">0</span>]), <span class="type">string</span>(dosHeader[<span class="number">1</span>]))</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Validate PE+0+0 (Valid PE format)</span></span><br><span class="line">    pe_sig_offset := <span class="type">int64</span>(binary.LittleEndian.Uint32(dosHeader[<span class="number">0x3c</span>:])) <span class="comment">// ä»0x3cåå¼€å§‹è¯»å–</span></span><br><span class="line">    f.ReadAt(sizeOffset, pe_sig_offset)                                  <span class="comment">// sizeoffsetä¸ºbufferï¼Œpe_sig_offsetæ˜¯è¯»å–çš„ä½ç½®  è¿™é‡Œä¸åŠ :å¯ä»¥å—ï¼Ÿï¼Ÿ è¯»å–0x50 0x45 0x00 0x00</span></span><br><span class="line"></span><br><span class="line">    fmt.Println(<span class="string">&quot;[-----Signature Header-----]&quot;</span>)</span><br><span class="line">    fmt.Printf(<span class="string">&quot;[+] LFANEW Value: %s\n&quot;</span>, <span class="type">string</span>(sizeOffset))</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Create the reader and read COFF Header</span></span><br><span class="line">    sr := io.NewSectionReader(f, <span class="number">0</span>, <span class="number">1</span>&lt;&lt;<span class="number">63</span><span class="number">-1</span>)       <span class="comment">// è¯»å–åˆ°2^64æ¬¡æ–¹-1</span></span><br><span class="line">    _, err = sr.Seek(pe_sig_offset+<span class="number">4</span>, os.SEEK_SET) <span class="comment">// é‡ç½®æŒ‡é’ˆ</span></span><br><span class="line">    check(err)</span><br><span class="line">    binary.Read(sr, binary.LittleEndian, &amp;pefile.FileHeader) <span class="comment">// äºŒè¿›åˆ¶è¯»å–</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// Get size of OptionalHeader</span></span><br><span class="line">    <span class="comment">// å¯é€‰å¤´è§£æ  å‘åŠ è½½ç¨‹åºæä¾›é‡è¦æ•°æ®ï¼ŒåŠ è½½ç¨‹åºå°†å¯æ‰§è¡Œæ–‡ä»¶åŠ è½½åˆ°è™šæ‹Ÿå†…å­˜</span></span><br><span class="line">    <span class="keyword">var</span> sizeofOptionalHeader32 = <span class="type">uint16</span>(binary.Size(pe.OptionalHeader32&#123;&#125;))</span><br><span class="line">    <span class="keyword">var</span> sizeofOptionalHeader64 = <span class="type">uint16</span>(binary.Size(pe.OptionalHeader64&#123;&#125;))</span><br><span class="line">    <span class="keyword">var</span> oh32 pe.OptionalHeader32</span><br><span class="line">    <span class="keyword">var</span> oh64 pe.OptionalHeader64</span><br><span class="line"></span><br><span class="line">    <span class="comment">// type FileHeader struct &#123;</span></span><br><span class="line">    <span class="comment">//  Machine              uint16</span></span><br><span class="line">    <span class="comment">//  NumberOfSections     uint16</span></span><br><span class="line">    <span class="comment">//  TimeDateStamp        uint32</span></span><br><span class="line">    <span class="comment">//  PointerToSymbolTable uint32</span></span><br><span class="line">    <span class="comment">//  NumberOfSymbols      uint32</span></span><br><span class="line">    <span class="comment">//  SizeOfOptionalHeader uint16</span></span><br><span class="line">    <span class="comment">//  Characteristics      uint16</span></span><br><span class="line">    <span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// Read OptionalHeader</span></span><br><span class="line">    <span class="keyword">switch</span> pefile.FileHeader.SizeOfOptionalHeader &#123;</span><br><span class="line">    <span class="keyword">case</span> sizeofOptionalHeader32:</span><br><span class="line">        binary.Read(sr, binary.LittleEndian, &amp;oh32)</span><br><span class="line">    <span class="keyword">case</span> sizeofOptionalHeader64:</span><br><span class="line">        binary.Read(sr, binary.LittleEndian, &amp;oh64)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// Print File Header</span></span><br><span class="line">    fmt.Println(<span class="string">&quot;[-----COFF File Header-----]&quot;</span>)</span><br><span class="line">    fmt.Printf(<span class="string">&quot;[+] Machine Architecture: %#x\n&quot;</span>, pefile.FileHeader.Machine)</span><br><span class="line">    fmt.Printf(<span class="string">&quot;[+] Number of Sections: %#x\n&quot;</span>, pefile.FileHeader.NumberOfSections)</span><br><span class="line">    fmt.Printf(<span class="string">&quot;[+] Size of Optional Header: %#x\n&quot;</span>, pefile.FileHeader.SizeOfOptionalHeader)</span><br><span class="line">    <span class="comment">// Print section names</span></span><br><span class="line">    fmt.Println(<span class="string">&quot;[-----Section Offsets-----]&quot;</span>)</span><br><span class="line">    fmt.Printf(<span class="string">&quot;[+] Number of Sections Field Offset: %#x\n&quot;</span>, pe_sig_offset+<span class="number">6</span>)</span><br><span class="line">    <span class="comment">// this is the end of the Signature header (0x7c) + coff (20bytes) + oh32 (224bytes)</span></span><br><span class="line">    fmt.Printf(<span class="string">&quot;[+] Section Table Offset: %#x\n&quot;</span>, pe_sig_offset+<span class="number">0xF8</span>)</span><br><span class="line">    <span class="comment">// Print Optional Header</span></span><br><span class="line">    fmt.Println(<span class="string">&quot;[-----Optional Header-----]&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¦‚æœå¯¹peæ–‡ä»¶åŠ å…¥åé—¨ï¼Œéœ€è¦å¯¹ä¸‹é¢ä¸¤é¡¹æœ‰æ‰€äº†è§£</span></span><br><span class="line">    fmt.Printf(<span class="string">&quot;[+] Entry Point: %#x\n&quot;</span>, oh32.AddressOfEntryPoint) <span class="comment">// ç›¸å¯¹äºimageBaseçš„å¯æ‰§è¡Œä»£ç ä½ç½®</span></span><br><span class="line">    fmt.Printf(<span class="string">&quot;[+] ImageBase: %#x\n&quot;</span>, oh32.ImageBase)             <span class="comment">// å°†å›¾åƒåŠ è½½åˆ°å†…å­˜æ—¶ç¬¬ä¸€ä¸ªå­—èŠ‚ä½ç½®</span></span><br><span class="line"></span><br><span class="line">    fmt.Printf(<span class="string">&quot;[+] Size of Image: %#x\n&quot;</span>, oh32.SizeOfImage) <span class="comment">// å›¾åƒçš„å®é™…å¤§å°</span></span><br><span class="line">    fmt.Printf(<span class="string">&quot;[+] Sections Alignment: %#x\n&quot;</span>, oh32.SectionAlignment)</span><br><span class="line">    fmt.Printf(<span class="string">&quot;[+] File Alignment: %#x\n&quot;</span>, oh32.FileAlignment)</span><br><span class="line">    fmt.Printf(<span class="string">&quot;[+] Characteristics: %#x\n&quot;</span>, pefile.FileHeader.Characteristics)</span><br><span class="line">    fmt.Printf(<span class="string">&quot;[+] Size of Headers: %#x\n&quot;</span>, oh32.SizeOfHeaders)</span><br><span class="line">    fmt.Printf(<span class="string">&quot;[+] Checksum: %#x\n&quot;</span>, oh32.CheckSum)</span><br><span class="line">    fmt.Printf(<span class="string">&quot;[+] Machine: %#x\n&quot;</span>, pefile.FileHeader.Machine)</span><br><span class="line">    fmt.Printf(<span class="string">&quot;[+] Subsystem: %#x\n&quot;</span>, oh32.Subsystem)</span><br><span class="line">    fmt.Printf(<span class="string">&quot;[+] DLLCharacteristics: %#x\n&quot;</span>, oh32.DllCharacteristics)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Print Data Directory</span></span><br><span class="line">    fmt.Println(<span class="string">&quot;[-----Data Directory----- æ•°æ®ç›®å½•è§£æï¼Œå¯é€‰å¤´çš„æœ€å128å­—èŠ‚]&quot;</span>)</span><br><span class="line">    <span class="keyword">var</span> winnt_datadirs = []<span class="type">string</span>&#123;</span><br><span class="line">        <span class="string">&quot;IMAGE_DIRECTORY_ENTRY_EXPORT&quot;</span>,</span><br><span class="line">        <span class="string">&quot;IMAGE_DIRECTORY_ENTRY_IMPORT&quot;</span>,</span><br><span class="line">        <span class="string">&quot;IMAGE_DIRECTORY_ENTRY_RESOURCE&quot;</span>,</span><br><span class="line">        <span class="string">&quot;IMAGE_DIRECTORY_ENTRY_EXCEPTION&quot;</span>,</span><br><span class="line">        <span class="string">&quot;IMAGE_DIRECTORY_ENTRY_SECURITY&quot;</span>,</span><br><span class="line">        <span class="string">&quot;IMAGE_DIRECTORY_ENTRY_BASERELOC&quot;</span>,</span><br><span class="line">        <span class="string">&quot;IMAGE_DIRECTORY_ENTRY_DEBUG&quot;</span>,</span><br><span class="line">        <span class="string">&quot;IMAGE_DIRECTORY_ENTRY_COPYRIGHT&quot;</span>,</span><br><span class="line">        <span class="string">&quot;IMAGE_DIRECTORY_ENTRY_GLOBALPTR&quot;</span>,</span><br><span class="line">        <span class="string">&quot;IMAGE_DIRECTORY_ENTRY_TLS&quot;</span>,</span><br><span class="line">        <span class="string">&quot;IMAGE_DIRECTORY_ENTRY_LOAD_CONFIG&quot;</span>,</span><br><span class="line">        <span class="string">&quot;IMAGE_DIRECTORY_ENTRY_BOUND_IMPORT&quot;</span>,</span><br><span class="line">        <span class="string">&quot;IMAGE_DIRECTORY_ENTRY_IAT&quot;</span>,</span><br><span class="line">        <span class="string">&quot;IMAGE_DIRECTORY_ENTRY_DELAY_IMPORT&quot;</span>,</span><br><span class="line">        <span class="string">&quot;IMAGE_DIRECTORY_ENTRY_COM_DESCRIPTOR&quot;</span>,</span><br><span class="line">        <span class="string">&quot;IMAGE_NUMBEROF_DIRECTORY_ENTRIES&quot;</span>,</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> idx, directory := <span class="keyword">range</span> oh32.DataDirectory &#123;</span><br><span class="line">        fmt.Printf(<span class="string">&quot;[!] Data Directory: %s\n&quot;</span>, winnt_datadirs[idx])</span><br><span class="line">        fmt.Printf(<span class="string">&quot;[+] Image Virtual Address: %#x\n&quot;</span>, directory.VirtualAddress)</span><br><span class="line">        fmt.Printf(<span class="string">&quot;[+] Image Size: %#x\n&quot;</span>, directory.Size)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    fmt.Println(<span class="string">&quot;[-----Section Table----- è§£æåˆ†åŒºè¡¨]&quot;</span>)</span><br><span class="line">    <span class="comment">// åŒ…å«äº†ç›¸å…³åˆ†åŒºçš„è¯¦ç»†ä¿¡æ¯ï¼Œä¸coff file headerä¸­numberofsections åŒ¹é…</span></span><br><span class="line">    <span class="keyword">for</span> _, section := <span class="keyword">range</span> pefile.Sections &#123;</span><br><span class="line">        fmt.Println(<span class="string">&quot;[+] --------------------&quot;</span>)</span><br><span class="line">        fmt.Printf(<span class="string">&quot;[+] Section Name: %s\n&quot;</span>, section.Name)</span><br><span class="line">        fmt.Printf(<span class="string">&quot;[+] Section Characteristics: %#x\n&quot;</span>, section.Characteristics)</span><br><span class="line">        fmt.Printf(<span class="string">&quot;[+] Section Virtual Size: %#x\n&quot;</span>, section.VirtualSize)</span><br><span class="line">        fmt.Printf(<span class="string">&quot;[+] Section Virtual Offset: %#x\n&quot;</span>, section.VirtualAddress)</span><br><span class="line">        fmt.Printf(<span class="string">&quot;[+] Section Raw Size: %#x\n&quot;</span>, section.Size)</span><br><span class="line">        fmt.Printf(<span class="string">&quot;[+] Section Raw Offset to Data: %#x\n&quot;</span>, section.Offset)</span><br><span class="line">        fmt.Printf(<span class="string">&quot;[+] Section Append Offset (Next Section): %#x\n&quot;</span>, section.Offset+section.Size)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// s := pefile.Section(&quot;.text&quot;)</span></span><br><span class="line">    <span class="comment">// fmt.Printf(&quot;%v&quot;, *s)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &quot;Section Table Offset&quot; + (40bytes * number of sections)</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">check</span><span class="params">(e <span class="type">error</span>)</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> e != <span class="literal">nil</span> &#123;</span><br><span class="line">        log.Fatal(e)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> GO </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Go </tag>
            
            <tag> PEæ–‡ä»¶ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>â° æ—¶é—´å¤„ç†</title>
      <link href="/Code/CPP/%E6%97%B6%E9%97%B4%E5%A4%84%E7%90%86/"/>
      <url>/Code/CPP/%E6%97%B6%E9%97%B4%E5%A4%84%E7%90%86/</url>
      
        <content type="html"><![CDATA[<h1 id="Simple-Demo"><a href="#Simple-Demo" class="headerlink" title="Simple Demo"></a>Simple Demo</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;time.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">time_t</span> t;</span><br><span class="line">    <span class="built_in">time</span>(&amp;t);</span><br><span class="line">    cout &lt;&lt; t &lt;&lt;endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šä»£ç ä¼šè¾“å‡ºä¸€ä¸ª10ä½æ•°ï¼Œè¡¨ç¤ºçš„æ˜¯åˆ°å½“å‰æ—¶é—´çš„ç§’æ•°ï¼Œèµ·ç‚¹æ˜¯ <code>1970å¹´1æœˆ1æ—¥ 00:00:00</code></p><h2 id="time-t-è½¬æ¢"><a href="#time-t-è½¬æ¢" class="headerlink" title="time_t è½¬æ¢"></a><code>time_t</code> è½¬æ¢</h2><ol><li><p><code>string</code> è½¬ <code>time_t</code></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">time_t</span> <span class="title">StringToDatetime</span><span class="params">(std::string str)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">char</span> *cha = (<span class="type">char</span>*)str.<span class="built_in">data</span>();             <span class="comment">// å°†stringè½¬æ¢æˆchar*ã€‚</span></span><br><span class="line">    tm tm_;                                    <span class="comment">// å®šä¹‰tmç»“æ„ä½“ã€‚</span></span><br><span class="line">    <span class="type">int</span> year, month, day, hour, minute, second;<span class="comment">// å®šä¹‰æ—¶é—´çš„å„ä¸ªintä¸´æ—¶å˜é‡ã€‚</span></span><br><span class="line">    <span class="built_in">sscanf</span>(cha, <span class="string">&quot;%d-%d-%d %d:%d:%d&quot;</span>, &amp;year, &amp;month, &amp;day, &amp;hour, &amp;minute, &amp;second);<span class="comment">// å°†stringå­˜å‚¨çš„æ—¥æœŸæ—¶é—´ï¼Œè½¬æ¢ä¸ºintä¸´æ—¶å˜é‡ã€‚</span></span><br><span class="line">    tm_.tm_year = year - <span class="number">1900</span>;                 <span class="comment">// å¹´ï¼Œç”±äºtmç»“æ„ä½“å­˜å‚¨çš„æ˜¯ä»1900å¹´å¼€å§‹çš„æ—¶é—´ï¼Œæ‰€ä»¥tm_yearä¸ºintä¸´æ—¶å˜é‡å‡å»1900ã€‚</span></span><br><span class="line">    tm_.tm_mon = month - <span class="number">1</span>;                    <span class="comment">// æœˆï¼Œç”±äºtmç»“æ„ä½“çš„æœˆä»½å­˜å‚¨èŒƒå›´ä¸º0-11ï¼Œæ‰€ä»¥tm_monä¸ºintä¸´æ—¶å˜é‡å‡å»1ã€‚</span></span><br><span class="line">    tm_.tm_mday = day;                         <span class="comment">// æ—¥ã€‚</span></span><br><span class="line">    tm_.tm_hour = hour;                        <span class="comment">// æ—¶ã€‚</span></span><br><span class="line">    tm_.tm_min = minute;                       <span class="comment">// åˆ†ã€‚</span></span><br><span class="line">    tm_.tm_sec = second;                       <span class="comment">// ç§’ã€‚</span></span><br><span class="line">    tm_.tm_isdst = <span class="number">0</span>;                          <span class="comment">// éå¤ä»¤æ—¶ã€‚</span></span><br><span class="line">    <span class="type">time_t</span> t_ = <span class="built_in">mktime</span>(&amp;tm_);                  <span class="comment">// å°†tmç»“æ„ä½“è½¬æ¢æˆtime_tæ ¼å¼ã€‚</span></span><br><span class="line">    <span class="keyword">return</span> t_;                                 <span class="comment">// è¿”å›å€¼ã€‚</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><code>time_t</code> è½¬ <code>string</code></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">(<span class="number">1</span>)</span><br><span class="line">    <span class="type">time_t</span> t=std::chrono::system_clock::<span class="built_in">to_time_t</span>(std::chrono::system_clock::<span class="built_in">now</span>());</span><br><span class="line">    std::stringstream ss;</span><br><span class="line">    ss&lt;&lt;std::<span class="built_in">put_time</span>(std::<span class="built_in">localtime</span>(&amp;t),<span class="string">&quot;%F %X&quot;</span>);</span><br><span class="line">    ss.<span class="built_in">str</span>();</span><br><span class="line">(<span class="number">2</span>)</span><br><span class="line">    <span class="function"><span class="type">size_t</span> <span class="title">strftime</span> <span class="params">(<span class="type">char</span>* ptr, <span class="type">size_t</span> maxsize, <span class="type">const</span> <span class="type">char</span>* format,</span></span></span><br><span class="line"><span class="params"><span class="function">                 <span class="type">const</span> <span class="keyword">struct</span> tm* timeptr )</span></span>;</span><br><span class="line">    ptr:å­˜å‚¨è½¬æ¢ç»“æœ</span><br><span class="line">    maxsize:å¤åˆ¶åˆ°ptrçš„æœ€å¤§å­—ç¬¦æ•°ï¼ŒåŒ…æ‹¬ç»“æŸç¬¦<span class="string">&#x27;\0&#x27;</span></span><br><span class="line">    format:è½¬æ¢æ ¼å¼ï¼Œç±»ä¼¼printfï¼Œå¯åŠ å…¥å…¶ä»–éœ€è¦å¤åˆ¶è¿‡å»çš„å­—ç¬¦</span><br><span class="line">    timeptr:æ—¶é—´</span><br><span class="line">    <span class="type">char</span> buf[<span class="number">20</span>];</span><br><span class="line">    tm* local_time = std::<span class="built_in">localtime</span>(&amp;t);</span><br><span class="line">    <span class="built_in">strftime</span>(buf,<span class="built_in">sizeof</span>(buf),<span class="string">&quot;%F %X&quot;</span>,local_time);</span><br></pre></td></tr></table></figure></li></ol><h1 id="C-æ—¶é—´ç±»"><a href="#C-æ—¶é—´ç±»" class="headerlink" title="C++æ—¶é—´ç±»"></a>C++æ—¶é—´ç±»</h1><p>ä½¿ç”¨C++æ—¶é—´ç±»å¤„ç†è·å–ç³»ç»Ÿå½“å‰æ—¶é—´ <a href="https://www.apiref.com/cpp-zh/cpp/chrono.html">æ—¥æœŸå’Œæ—¶é—´å·¥å…· - C++ä¸­æ–‡ - APIå‚è€ƒæ–‡æ¡£ (apiref.com)</a></p><p>å¤´æ–‡ä»¶ <code>#include &lt;chrono&gt;</code></p><ol><li>è·å–å½“å‰æ—¶é—´</li></ol><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">system_clock::time_point now = std::chrono::system_clock::<span class="built_in">now</span>();</span><br></pre></td></tr></table></figure><ol start="2"><li>å°†å½“å‰æ—¶é—´è½¬æ¢ä¸ºtime_æ ¼å¼</li></ol><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">time_t</span> tt = std::chrono::system_clock::<span class="built_in">to_time_t</span>(now);</span><br></pre></td></tr></table></figure><ol start="3"><li>å°†time_æ ¼å¼çš„æ—¶é—´è½¬æ¢ä¸ºtm *æ ¼å¼</li></ol><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">tm</span>* tmNow = <span class="built_in">localtime</span>(&amp;tt);</span><br></pre></td></tr></table></figure><ol start="4"><li>å°†tm*æ ¼å¼çš„æ—¶é—´è½¬æ¢ä¸ºå¯è¯»çš„æ—¶é—´</li></ol><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">char</span> date[<span class="number">20</span>] = &#123; <span class="number">0</span> &#125;;</span><br><span class="line"><span class="built_in">sprintf</span>(date, <span class="string">&quot;%d-%02d-%02d %02d:%02d:%02d&quot;</span>,(<span class="type">int</span>)tmNow-&gt;tm_year + <span class="number">1900</span>, (<span class="type">int</span>)tmNow-&gt;tm_mon + <span class="number">1</span>, (<span class="type">int</span>)tmNow-&gt;tm_mday,  (<span class="type">int</span>)tmNow-&gt;tm_hour, (<span class="type">int</span>)tmNow-&gt;tm_min, (<span class="type">int</span>)tmNow-&gt;tm_sec);</span><br></pre></td></tr></table></figure><p>æœ€åï¼Œåœ¨C++ä¸­çš„è¯å¯ä»¥å°†char*å­—ç¬¦ä¸²è½¬æ¢ä¸ºstd::stringå­—ç¬¦ä¸²æ¥å¤„ç†</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">std::string <span class="title">timeNow</span><span class="params">(date)</span></span>;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> CPP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C++ </tag>
            
            <tag> æ—¶é—´ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>visual studio ç¼–è¯‘å‘Šè­¦å¸¸è§å¤„ç†æ‰‹æ®µ</title>
      <link href="/Code/CPP/%E7%BC%96%E8%AF%91%E5%91%8A%E8%AD%A6%E5%B8%B8%E8%A7%81%E5%A4%84%E7%90%86%E6%89%8B%E6%AE%B5/"/>
      <url>/Code/CPP/%E7%BC%96%E8%AF%91%E5%91%8A%E8%AD%A6%E5%B8%B8%E8%A7%81%E5%A4%84%E7%90%86%E6%89%8B%E6%AE%B5/</url>
      
        <content type="html"><![CDATA[<p>[TOC]</p><h3 id="C2001"><a href="#C2001" class="headerlink" title="C2001"></a>C2001</h3><blockquote><p>å¸¸é‡ä¸­æœ‰æ¢è¡Œç¬¦</p></blockquote><p>æ–‡ä»¶ä¿å­˜ä¸º UTF-8 ç­¾å</p><h3 id="C4100"><a href="#C4100" class="headerlink" title="C4100"></a>C4100</h3><blockquote><p>â€œ*â€ ç±»å‹æœªä½¿ç”¨</p></blockquote><p>windows ä»£ç æ–‡ä»¶ä¸­ä½¿ç”¨ </p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">UNREFERENCED_PARAMETER</span>(X)</span><br></pre></td></tr></table></figure><p>å¦‚æœæ˜¯åœ¨Qtä¸­ï¼Œåˆ™å¯ä»¥ä½¿ç”¨</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Q_UNUSED</span>(X);</span><br></pre></td></tr></table></figure><p>å¦å¤–ï¼Œä¹Ÿä¸å»ºè®®ä½¿ç”¨ä¸Šè¿°ä¸¤ç§æ–¹å¼ã€‚å½“å®ç°æ¥å£æˆ–æ ‡å‡†å¯¼å‡ºå†…çš„æ–¹æ³•æ—¶ï¼Œæœ‰ä¸€äº›å‚æ•°æ²¡æœ‰è¢«å¼•ç”¨æ˜¯ç›¸å½“å¸¸è§çš„ã€‚ç¼–è¯‘å™¨ä¼šå‘ç°æœª ä½¿ç”¨çš„å‚æ•°ï¼Œå¹¶äº§ç”Ÿä¸€ä¸ªè­¦å‘Šï¼Œæœ‰äº›ç»„ä»¶ç”šè‡³ä¼šè®¤ä¸ºè¿™æ˜¯ä¸€ä¸ªé”™è¯¯ã€‚ä¸ºé¿å…å‘ç”Ÿå¦‚æ­¤æƒ…å†µï¼Œ å°†æœªä½¿ç”¨çš„å‚æ•°ä½¿ç”¨&#x2F;* å‚æ•°å *&#x2F; è¯­æ³•å°†å…¶æ³¨é‡Šæ‰ã€‚ä¸è¦ä½¿ç”¨ UNREFERENCED_PARAMETERï¼ˆï¼‰ å®ï¼Œå› ä¸ºå…¶ 1ï¼‰å¤ªç¹çï¼Œ2ï¼‰å¹¶ä¸èƒ½ä¿è¯å‚æ•°å®é™…ä¸ŠçœŸçš„æœªè¢«å¼•ç”¨ã€‚</p><p>æœ€å¥½çš„æ–¹æ³•å°±æ˜¯åœ¨å‡½æ•°æ¥å£ä¸­æ³¨é‡Šæ‰æœªä½¿ç”¨çš„å˜é‡ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">LRESULT WndProcï¼ˆHWND hwnd, UINT uMsg, WPARAM wParam, LPARAM <span class="comment">/* lParam */</span>ï¼‰</span><br></pre></td></tr></table></figure><h3 id="C4805"><a href="#C4805" class="headerlink" title="C4805"></a>C4805</h3><blockquote><p>æ“ä½œç±»å‹æ··åˆä¸å®‰å…¨ï¼šä¸€èˆ¬åœ¨æ“ä½œ <code>bool</code> å’Œ <code>int</code> æ—¶ä¼šè§¦å‘è¿™ä¸€è­¦å‘Š</p></blockquote><p>ç®€å•å¤„ç†å°±æ˜¯ä¸è¦ä½¿ç”¨è¿™ç§ä½œä¸ºåˆ¤æ–­çš„ä¾æ®ï¼Œè¦ä¹ˆç”¨ <code>bool</code> ç±»å‹ï¼Œè¦ä¹ˆç”¨ <code>int</code> ç±»å‹ã€‚</p><ul><li>ä¹Ÿå¯ä»¥ä½¿ç”¨å¼ºåˆ¶è½¬æ¢ã€‚</li></ul><h3 id="C4996"><a href="#C4996" class="headerlink" title="C4996"></a>C4996</h3><h4 id="GetVersionExA-è¢«å£°æ˜ä¸ºå·²å¦å†³"><a href="#GetVersionExA-è¢«å£°æ˜ä¸ºå·²å¦å†³" class="headerlink" title="GetVersionExA è¢«å£°æ˜ä¸ºå·²å¦å†³"></a><code>GetVersionExA</code> è¢«å£°æ˜ä¸ºå·²å¦å†³</h4><p>ç¢°è§è¿™ç§æƒ…å†µï¼Œéœ€è¦å…³é—­é¡¹ç›®çš„SDLæ£€æŸ¥ã€‚</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Project Properties &gt; Configuration Properties &gt; C/C++ &gt; General &gt; SDL checkså…³æ‰</span><br></pre></td></tr></table></figure><h4 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h4><ol><li>â€˜qsortâ€™ï¼šUse std::sort</li><li></li></ol><h3 id="C5208"><a href="#C5208" class="headerlink" title="C5208"></a>C5208</h3><p>å‡ºç°è¿™ä¸ªé—®é¢˜çš„åŸå› æ˜¯ C é£æ ¼ä»£ç å’Œ C++ é£æ ¼ä»£ç æ··ç”¨å¯¼è‡´çš„ï¼Œç»“æ„ä½“åœ¨ C å’Œ C++ ä¸­æ˜¯ä¸ä¸€æ ·çš„ï¼š</p><p>C</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">     <span class="type">char</span> *yyy=new zzz[ttt];</span><br><span class="line">&#125;xxx;</span><br></pre></td></tr></table></figure><p>CPP</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">xxx</span> </span><br><span class="line">&#123;</span><br><span class="line">     <span class="type">char</span> *yyy=<span class="keyword">new</span> zzz[ttt];</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><blockquote><p>å…·ä½“åŸå› æ˜¯ï¼šæœ€æ–°çš„C++20æ ‡å‡†ä¸­ï¼Œä¸ºäº†æ›´å¥½çš„å®ç°æ¨¡å—<a href="https://www.zhihu.com/search?q=module&search_source=Entity&hybrid_search_source=Entity&hybrid_search_extra=%7B%22sourceType%22:%22answer%22,%22sourceId%22:1243864776%7D">module</a>çš„ç‰¹æ€§ï¼Œtypedef ä¸€ä¸ªæœªå‘½åçš„structè¢«é™åˆ¶ä¸ºåªèƒ½ä½¿ç”¨çº¯ç²¹çš„cè¯­è¨€è¯­æ³•ï¼Œå®ƒä¸èƒ½é€šè¿‡èµ‹å€¼è¿›è¡Œç±»å†…åˆå§‹åŒ–äº†ã€‚</p></blockquote><p>æ‰€ä»¥ä¿®æ”¹çš„æ–¹æ¡ˆå°±æ˜¯ä¸è¦å£°æ˜åŒ¿åç»“æ„ä½“ï¼Œåœ¨å£°æ˜æ—¶åˆ›å»ºç»“æ„ä½“åã€‚</p><h3 id="C6387"><a href="#C6387" class="headerlink" title="C6387"></a>C6387</h3><blockquote><p>è­¦å‘Šå†…å®¹ï¼šâ€œ***â€å¯èƒ½æ˜¯0ï¼Œè¿™ä¸ç¬¦åˆå‡½æ•°â€œ****â€çš„è§„èŒƒã€‚</p></blockquote><p>è¿™ä¸ªé—®é¢˜å°±æ˜¯å‡½æ•°å‚æ•°æ²¡æœ‰åšæ ¡éªŒï¼Œä¹Ÿå°±æ˜¯åˆ¤ç©ºç­‰æƒ…å†µï¼Œå¦‚ä¸‹æ‰€ç¤ºä»£ç å°±ä¼šå‡ºç°è¯¥è­¦å‘Šï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">m_hMutex = <span class="built_in">CreateMutex</span>(<span class="literal">NULL</span>, TRUE, <span class="keyword">this</span>-&gt;MutexName);</span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">GetLastError</span>() == ERROR_ALREADY_EXISTS)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">WaitForSingleObject</span>(m_hMutex, INFINITE) == WAIT_OBJECT_0)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">Unlock</span>(m_hMutex);</span><br><span class="line"><span class="keyword">return</span> FALSE;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">g_hMutex = m_hMutex;</span><br><span class="line">MutexReleased = FALSE;</span><br><span class="line"><span class="keyword">return</span> TRUE;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹ä¸ºå¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">m_hMutex = <span class="built_in">CreateMutex</span>(<span class="literal">NULL</span>, TRUE, <span class="keyword">this</span>-&gt;MutexName);</span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">GetLastError</span>() == ERROR_ALREADY_EXISTS)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (m_hMutex != <span class="literal">NULL</span>) <span class="comment">// æ·»åŠ åˆ¤ç©ºé€»è¾‘</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">WaitForSingleObject</span>(m_hMutex, INFINITE) == WAIT_OBJECT_0)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">Unlock</span>(m_hMutex);</span><br><span class="line"><span class="keyword">return</span> FALSE;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">g_hMutex = m_hMutex;</span><br><span class="line">MutexReleased = FALSE;</span><br><span class="line"><span class="keyword">return</span> TRUE;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="LNK4098"><a href="#LNK4098" class="headerlink" title="LNK4098"></a>LNK4098</h3><blockquote><p>LINK : warning LNK4098: é»˜è®¤åº“â€œLIBCMTâ€ä¸å…¶ä»–åº“çš„ä½¿ç”¨å†²çªï¼›è¯·ä½¿ç”¨ &#x2F;NODEFAULTLIB:library</p></blockquote><p>ç®€å•å¤„ç†å°±æ˜¯åœ¨VSé¡¹ç›®å±æ€§ -&gt; é“¾æ¥å™¨ -&gt; å‘½ä»¤è¡Œ ä¸­æ·»åŠ ä¸Šè¿°æç¤ºçš„å†…å®¹ã€‚ä»¥ <code>LIBCMT</code> åº“ä¸ºä¾‹ï¼šæ·»åŠ å†…å®¹å¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/NODEFAULTLIB:LIBCMT</span><br></pre></td></tr></table></figure><h3 id="LNK4099"><a href="#LNK4099" class="headerlink" title="LNK4099"></a>LNK4099</h3><blockquote><p>warning LNK4099: æœªæ‰¾åˆ° PDBâ€œcryptlib.pdbâ€(ä½¿ç”¨â€œcryptlib.lib(cryptlib.obj)</p></blockquote><p>ä¸€èˆ¬è¿™ç§æƒ…å†µå±äºä½¿ç”¨äº†å¼€æºåº“ç¼–è¯‘çš„libï¼Œåœ¨é¡¹ç›®ä¸­ä½¿ç”¨æ—¶ï¼Œè°ƒè¯•ä¿¡æ¯æ ¼å¼é€‰æ‹©äº† <code>/zi</code> é€‰é¡¹ã€‚å› æ­¤ä¼šæç¤ºæ²¡æœ‰ <code>obj</code> æ–‡ä»¶ã€‚</p><p>è§£å†³åŠæ³•å°±æ˜¯ç¨‹åºè°ƒè¯•ä¿¡æ¯é€‰æ‹©æ— å³å¯ã€‚å¦å¤–å°±æ˜¯æˆ‘ä»¬ç¼–è¯‘è¿‡ç¨‹ä¸­å¦‚æœéœ€è¦è°ƒè¯•ä¿¡æ¯æ ¼å¼ï¼Œä¹Ÿå°±æ˜¯pdbè¯¥æ€ä¹ˆåŒæ—¶å¤„ç†è¿™ä¸¤ä¸ªé—®é¢˜ï¼š</p>]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> CPP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CPP </tag>
            
            <tag> visual studio </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ–‡ä»¶åç¼€æ ¡éªŒ</title>
      <link href="/Code/CPP/%E6%96%87%E4%BB%B6%E5%90%8E%E7%BC%80%E6%A0%A1%E9%AA%8C/"/>
      <url>/Code/CPP/%E6%96%87%E4%BB%B6%E5%90%8E%E7%BC%80%E6%A0%A1%E9%AA%8C/</url>
      
        <content type="html"><![CDATA[<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  std::string fn = <span class="string">&quot;filename.conf&quot;</span>;</span><br><span class="line">  <span class="keyword">if</span>(fn.<span class="built_in">substr</span>(fn.<span class="built_in">find_last_of</span>(<span class="string">&quot;.&quot;</span>) + <span class="number">1</span>) == <span class="string">&quot;conf&quot;</span>) &#123;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;Yes...&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;No...&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> CPP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> cpp </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åŠ¨æ€å£°æ˜å­ç±»</title>
      <link href="/Code/CPP/%E5%8A%A8%E6%80%81%E5%A3%B0%E6%98%8E%E5%AD%90%E7%B1%BB/"/>
      <url>/Code/CPP/%E5%8A%A8%E6%80%81%E5%A3%B0%E6%98%8E%E5%AD%90%E7%B1%BB/</url>
      
        <content type="html"><![CDATA[<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">BaseClass</span> </span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">BaseClass</span>()</span><br><span class="line">    &#123;</span><br><span class="line">        cout&lt;&lt;<span class="string">&quot;BaseClass Construct&quot;</span>&lt;&lt;endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">virtual</span> ~<span class="built_in">BaseClass</span>()</span><br><span class="line">    &#123;</span><br><span class="line">        cout&lt;&lt;<span class="string">&quot;BaseClass Destruct&quot;</span>&lt;&lt;endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="type">void</span>  <span class="title">TestFunction</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        cout&lt;&lt;<span class="string">&quot;BaseClass TestFunction&quot;</span>&lt;&lt;endl;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line">    <span class="type">int</span> Test;</span><br><span class="line">&#125;;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SonClass</span> : <span class="keyword">public</span> BaseClass</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">SonClass</span>()</span><br><span class="line">    &#123;</span><br><span class="line">        cout&lt;&lt;<span class="string">&quot;SonClass Construct&quot;</span>&lt;&lt;endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">virtual</span> ~<span class="built_in">SonClass</span>()</span><br><span class="line">    &#123;</span><br><span class="line">        cout&lt;&lt;<span class="string">&quot;SonClass Destruct&quot;</span>&lt;&lt;endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="type">void</span>  <span class="title">TestFunction</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        cout&lt;&lt;<span class="string">&quot;SonClass TestFunction&quot;</span>&lt;&lt;endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">typedef</span> <span class="type">void</span>           *LPVOID;</span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">class</span> _baseClass, <span class="keyword">class</span> _derivedClass&gt;</span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">DoDynamicSubclassing</span><span class="params">(_baseClass *pBaseObj)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(pBaseObj)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">static_assert</span>(<span class="built_in">sizeof</span>(_baseClass) == <span class="built_in">sizeof</span>(_derivedClass), <span class="string">&quot;DynamicSubclassing to _derivedClass must not have its own members&quot;</span>);</span><br><span class="line">        _derivedClass _derivedClassinstance;</span><br><span class="line">        LPVOID *pBaseVirtPtr = (LPVOID*)pBaseObj, *pDerivedVirtPtr = (LPVOID*)&amp;_derivedClassinstance;</span><br><span class="line">        <span class="comment">//assign the virtual ptr of the derived class</span></span><br><span class="line">        *pBaseVirtPtr = *pDerivedVirtPtr;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    BaseClass *Test = <span class="keyword">new</span> BaseClass;</span><br><span class="line">    cout &lt;&lt; *(<span class="type">int</span>*)Test &lt;&lt; endl;</span><br><span class="line">    <span class="built_in">DoDynamicSubclassing</span>&lt;BaseClass, SonClass&gt;(Test);</span><br><span class="line">    Test-&gt;<span class="built_in">TestFunction</span>();</span><br><span class="line">    cout &lt;&lt; *(<span class="type">int</span>*)Test &lt;&lt; endl;</span><br><span class="line">    </span><br><span class="line">    cout &lt;&lt; <span class="string">&quot; â€”â€”â€”â€”â€”â€”â€”â€”- &quot;</span> &lt;&lt;endl;</span><br><span class="line">    BaseClass aaaa;</span><br><span class="line">    cout &lt;&lt; *(<span class="type">int</span>*)&amp;aaaa &lt;&lt; endl;</span><br><span class="line">    <span class="built_in">DoDynamicSubclassing</span>&lt;BaseClass, SonClass&gt;(&amp;aaaa);</span><br><span class="line">    aaaa.<span class="built_in">TestFunction</span>();</span><br><span class="line">    cout &lt;&lt; *(<span class="type">int</span>*)&amp;aaaa &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> CPP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> cpp </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å„ç§å®å®šä¹‰ç”¨æ³•æ•´ç†</title>
      <link href="/Code/CPP/%E5%AE%8F%E5%AE%9A%E4%B9%89/"/>
      <url>/Code/CPP/%E5%AE%8F%E5%AE%9A%E4%B9%89/</url>
      
        <content type="html"><![CDATA[<h1 id="Cè¯­è¨€ASCIIå­—ç¬¦ã€16è¿›åˆ¶å’ŒBCDç å€¼äº’è½¬ï¼Œå„ç§å¥½ç”¨çš„å®å®šä¹‰å–å€¼"><a href="#Cè¯­è¨€ASCIIå­—ç¬¦ã€16è¿›åˆ¶å’ŒBCDç å€¼äº’è½¬ï¼Œå„ç§å¥½ç”¨çš„å®å®šä¹‰å–å€¼" class="headerlink" title="Cè¯­è¨€ASCIIå­—ç¬¦ã€16è¿›åˆ¶å’ŒBCDç å€¼äº’è½¬ï¼Œå„ç§å¥½ç”¨çš„å®å®šä¹‰å–å€¼"></a>Cè¯­è¨€ASCIIå­—ç¬¦ã€16è¿›åˆ¶å’ŒBCDç å€¼äº’è½¬ï¼Œå„ç§å¥½ç”¨çš„å®å®šä¹‰å–å€¼</h1><p><strong>1ã€æŠŠAsciiå­—ç¬¦è½¬16è¿›åˆ¶</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/***************************</span></span><br><span class="line"><span class="comment">å‡½æ•°å:Ascii2Hex</span></span><br><span class="line"><span class="comment">åŠŸèƒ½æè¿°:æŠŠAsciiå­—ç¬¦è½¬16è¿›åˆ¶</span></span><br><span class="line"><span class="comment">å‚æ•°ï¼šAsciiå­—ç¬¦</span></span><br><span class="line"><span class="comment">è¿”å›ï¼š16è¿›åˆ¶</span></span><br><span class="line"><span class="comment">***************************/</span></span><br><span class="line"><span class="function"><span class="type">unsigned</span> <span class="type">char</span> <span class="title">Ascii2Hex</span><span class="params">( <span class="type">unsigned</span> <span class="type">char</span> bAscii )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> bHex = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>( ( bAscii &gt;= <span class="number">0</span> ) &amp;&amp; ( bChar &lt;= <span class="number">9</span> ) )</span><br><span class="line">    &#123;</span><br><span class="line">        bHex = bAscii + <span class="number">0x30</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>( ( bAscii &gt;= <span class="number">10</span> ) &amp;&amp; ( bAscii &lt;= <span class="number">15</span> ) )</span><br><span class="line">    &#123;</span><br><span class="line">        bHex = bAscii + <span class="number">0x37</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        bHex = <span class="number">0xff</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> bHex;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>2ã€æŠŠ16è¿›åˆ¶è½¬Asciiå­—ç¬¦</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/***************************</span></span><br><span class="line"><span class="comment">å‡½æ•°å:Hex2Ascii</span></span><br><span class="line"><span class="comment">åŠŸèƒ½æè¿°:æŠŠ16è¿›åˆ¶è½¬Asciiå­—ç¬¦</span></span><br><span class="line"><span class="comment">å‚æ•°ï¼š16è¿›åˆ¶</span></span><br><span class="line"><span class="comment">è¿”å›ï¼šAsciiå­—ç¬¦</span></span><br><span class="line"><span class="comment">***************************/</span></span><br><span class="line"><span class="function"><span class="type">unsigned</span> <span class="type">char</span> <span class="title">Hex2Ascii</span><span class="params">( <span class="type">unsigned</span> <span class="type">char</span> bHex )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> bAscii = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>( ( bHex &gt;= <span class="string">&#x27;0&#x27;</span> ) &amp;&amp; ( bHex &lt;= <span class="string">&#x27;9&#x27;</span> ) )</span><br><span class="line">    &#123;</span><br><span class="line">        bAscii =  bHex - <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>( ( bHex &gt;= <span class="string">&#x27;A&#x27;</span> ) &amp;&amp; ( bHex &lt;= <span class="string">&#x27;F&#x27;</span> ) )</span><br><span class="line">    &#123;</span><br><span class="line">        bAscii = bHex - <span class="string">&#x27;7&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>( ( bHex &gt;= <span class="string">&#x27;a&#x27;</span> ) &amp;&amp; ( bHex &lt;= <span class="string">&#x27;f&#x27;</span> ) )</span><br><span class="line">    &#123;</span><br><span class="line">        bAscii = bHex - <span class="number">0x57</span>;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">bAscii = <span class="number">0xff</span>;</span><br><span class="line">&#125;</span><br><span class="line">    <span class="keyword">return</span> bAscii;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>3ã€æŠŠ16è¿›åˆ¶è½¬BCDå€¼</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/***************************</span></span><br><span class="line"><span class="comment">å‡½æ•°å:Hex2Bcd</span></span><br><span class="line"><span class="comment">åŠŸèƒ½æè¿°:æŠŠ16è¿›åˆ¶è½¬BCDå€¼</span></span><br><span class="line"><span class="comment">å‚æ•°ï¼š16è¿›åˆ¶å€¼</span></span><br><span class="line"><span class="comment">è¿”å›ï¼šBCDå€¼</span></span><br><span class="line"><span class="comment">***************************/</span></span><br><span class="line"><span class="function">u_8 <span class="title">Hex2Bcd</span><span class="params">( u_8 HexCode )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span>( ( HexCode % <span class="number">10</span> ) + ( HexCode / <span class="number">10</span> * <span class="number">16</span> ) );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>4ã€æŠŠBCDå€¼è½¬2è¿›åˆ¶</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/***************************</span></span><br><span class="line"><span class="comment">å‡½æ•°å:Bcd2Bin</span></span><br><span class="line"><span class="comment">åŠŸèƒ½æè¿°:æŠŠBCDå€¼è½¬2è¿›åˆ¶</span></span><br><span class="line"><span class="comment">å‚æ•°ï¼šBCDå€¼</span></span><br><span class="line"><span class="comment">è¿”å›ï¼š2è¿›åˆ¶å€¼</span></span><br><span class="line"><span class="comment">***************************/</span></span><br><span class="line"><span class="function">u_8 <span class="title">Bcd2Bin</span><span class="params">( u_8 BcdCode )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span>( ( ( ( BcdCode &gt;&gt; <span class="number">4</span> ) &amp; <span class="number">0x0F</span> ) * <span class="number">10</span> ) + ( BcdCode &amp; <span class="number">0x0F</span> ));  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>5ã€æŠŠ2è¿›åˆ¶è½¬BCDå€¼</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/***************************</span></span><br><span class="line"><span class="comment">å‡½æ•°å:Bin2BCD</span></span><br><span class="line"><span class="comment">åŠŸèƒ½æè¿°:æŠŠ2è¿›åˆ¶è½¬BCDå€¼</span></span><br><span class="line"><span class="comment">å‚æ•°ï¼š2è¿›åˆ¶å€¼</span></span><br><span class="line"><span class="comment">è¿”å›ï¼šBCDå€¼</span></span><br><span class="line"><span class="comment">***************************/</span></span><br><span class="line"><span class="function">u_8 <span class="title">Bin2BCD</span><span class="params">( u_8 BinCode )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span>( ( ( (BinCode)/<span class="number">10</span> ) &lt;&lt; <span class="number">4</span> ) + ( (BinCode) %<span class="number">10</span> ));  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>6ã€æŠŠxå€¼çš„ç¬¬iä½ç½®ä¸º1</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/********æŠŠxå€¼çš„ç¬¬iä½ç½®ä¸º1*************/</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> X_SETBIT( x , i )       ( (x) |= ( 0x1 &lt;&lt; (i) )) </span></span><br></pre></td></tr></table></figure><p><strong>7ã€æŠŠxå€¼çš„ç¬¬iä½æ¸…ä¸º0</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**********æŠŠxå€¼çš„ç¬¬iä½æ¸…ä¸º0**********/</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> X_CLRBIT( x , i )       ( (x) &amp;= ( ~( 0x01 &lt;&lt; (i) )))</span></span><br></pre></td></tr></table></figure><p><strong>8ã€åˆ¤æ–­xå€¼çš„ç¬¬iä½æ˜¯å¦ä¸º1</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*********åˆ¤æ–­xå€¼çš„ç¬¬iä½æ˜¯å¦ä¸º1**********/</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> X_CHKBIT( x , i )       ( ((x) &gt;&gt; (i) ) &amp; 0x01 )</span></span><br></pre></td></tr></table></figure><p><strong>9ã€x,yå€¼ä¸­çš„æœ€å°å€¼</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*********x,yå€¼ä¸­çš„æœ€å°å€¼**********/</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> X_MIN( x ,y )           (((x)&gt;(y))?(y):(x))</span></span><br></pre></td></tr></table></figure><p><strong>10ã€x,yå€¼ä¸­çš„æœ€å¤§å€¼</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*********x,yå€¼ä¸­çš„æœ€å¤§å€¼**********/</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> X_MAX( x ,y )           (((x)&gt;(y))?(x):(y))</span></span><br></pre></td></tr></table></figure><p><strong>11ã€å–iå€¼çš„ä½8ä½</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*********å–iå€¼çš„ä½8ä½**********/</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> GET_4_BYTE(i)    (u_8)( ( (i) &amp; 0xFF ) &gt;&gt; 0 )</span></span><br></pre></td></tr></table></figure><p><strong>12ã€å–iå€¼çš„8-16ä½</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*********å–iå€¼çš„8-16ä½**********/</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> GET_3_BYTE(i)    (u_8)( ( (i) &amp; 0xFF00 ) &gt;&gt; 8 )</span></span><br></pre></td></tr></table></figure><p><strong>13ã€å–iå€¼çš„16-24ä½</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*********å–iå€¼çš„16-24ä½**********/</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> GET_2_BYTE(i)    (u_8)( ( (i) &amp; 0xFF0000 ) &gt;&gt; 16 ) </span></span><br></pre></td></tr></table></figure><p><strong>14ã€å–iå€¼çš„24-32ä½</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*********å–iå€¼çš„24-32ä½**********/</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> GET_1_BYTE(i)    (u_8)( ( (i) &amp; 0xFF000000 ) &gt;&gt; 24 )</span></span><br></pre></td></tr></table></figure><p><strong>15ã€4ä¸ªå­—èŠ‚ä¸ºintå‹å˜é‡</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*********4ä¸ªå­—èŠ‚ä¸ºintå‹å˜é‡**********/</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> BYTE_TO_INT( byte,byte1,byte2,byte3 )    ( (byte&lt;&lt;24) | (byte1 &lt;&lt; 16) | (byte2 &lt;&lt; 8) | byte3 )</span></span><br></pre></td></tr></table></figure><p><strong>16ã€2ä¸ªå­—èŠ‚ä¸ºshortå‹å˜é‡</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*********2ä¸ªå­—èŠ‚ä¸ºshortå‹å˜é‡**********/</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> BYTE_TO_SHORT( byte ,byte1)       ( (byte&lt;&lt;8)  | byte1 )</span></span><br></pre></td></tr></table></figure><p><strong>17ã€intå‹å˜é‡ä¸º4ä¸ªå­—èŠ‚</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*********intå‹å˜é‡ä¸º4ä¸ªå­—èŠ‚**********/</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> INT_TO_BYTE( Val,byte )      do&#123; (byte)[0] = ((Val)&gt;&gt;24)&amp;0xff;\</span></span><br><span class="line"><span class="meta">                                            (byte)[1] = ((Val)&gt;&gt;16)&amp;0xff;\</span></span><br><span class="line"><span class="meta">                                            (byte)[2] = ((Val)&gt;&gt;8)&amp;0xff;\</span></span><br><span class="line"><span class="meta">                                            (byte)[3] = ((Val))&amp;0xff;\</span></span><br><span class="line"><span class="meta">                                        &#125;while(0)</span></span><br></pre></td></tr></table></figure><p><strong>18ã€shortå‹å˜é‡ä¸º2ä¸ªå­—èŠ‚</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*********shortå‹å˜é‡ä¸º2ä¸ªå­—èŠ‚**********/</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> SHORT_TO_BYTE( Val ,byte)     do&#123; (byte)[0] = ((Val)&gt;&gt;8)&amp;0xff;\</span></span><br><span class="line"><span class="meta">                                             (byte)[1] = (Val)&amp;0xff;\</span></span><br><span class="line"><span class="meta">                                        &#125;while(0)</span></span><br></pre></td></tr></table></figure><p><strong>19ã€æ ‡å‡†æ—¶é—´timeè½¬æ¢å­—ç¬¦ä¸²è¾“å‡º</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*********æ ‡å‡†æ—¶é—´timeè½¬æ¢å­—ç¬¦ä¸²è¾“å‡º**********/</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> TIME_2_STR(t, str) do&#123; tm_t tmtime;\</span></span><br><span class="line"><span class="meta">         gmtime_r( (time_t *)&amp;t,&amp;tmtime );\</span></span><br><span class="line"><span class="meta">         sprintf(str,<span class="string">&quot;%04d-%02d-%02d %02d:%02d:%02d&quot;</span>,1900 + tmtime.tm_year, tmtime.tm_mon + 1, \</span></span><br><span class="line"><span class="meta">                          tmtime.tm_mday,tmtime.tm_hour, tmtime.tm_min, tmtime.tm_sec);\</span></span><br><span class="line"><span class="meta">                             &#125;while(0)  </span></span><br></pre></td></tr></table></figure><p><strong>20ã€IPå€¼è½¬æ¢IPå­—ç¬¦ä¸²è¾“å‡º</strong>              </p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*********IPå€¼è½¬æ¢IPå­—ç¬¦ä¸²è¾“å‡º**********/</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> IPADDR_2_STR(lIp, str) do&#123; u_8 ipaddr[4];\</span></span><br><span class="line"><span class="meta">     memcpy (&amp;(ipaddr[0]), &amp;(lIp), 4);\                                                 </span></span><br><span class="line">     <span class="built_in">sprintf</span>(str,<span class="string">&quot;%03d.%03d.%03d.%03d&quot;</span>,ipaddr[<span class="number">0</span>],ipaddr[<span class="number">1</span>],ipaddr[<span class="number">2</span>],ipaddr[<span class="number">3</span>]);\</span><br><span class="line">                                  &#125;<span class="keyword">while</span>(<span class="number">0</span>)   </span><br></pre></td></tr></table></figure><p>ä¸€ã€å­—ç¬¦ä¸²åŒ–æ“ä½œç¬¦#</p><ol><li><p><code>#</code> çš„åŠŸèƒ½ï¼šå°†#åé¢çš„å®å‚æ•°è½¬åŒ–æˆå­—ç¬¦ä¸²ã€‚</p></li><li><p>ä½¿ç”¨æ¡ä»¶ï¼šåªèƒ½ç”¨äºæœ‰ä¼ å…¥å‚æ•°çš„å®å®šä¹‰ä¸­ï¼Œä¸”#å¿…é¡»ç½®äºå®å®šä¹‰ä½“ä¸­çš„å‚æ•°åå‰ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="comment">// sæ˜¯å®å‚æ•°</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> Str(s) #s    <span class="comment">//åŠŸèƒ½ï¼šä½¿ç”¨Str(s)å°†sè½¬åŒ–ä¸ºå­—ç¬¦ä¸²</span></span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="built_in">Str</span>(HelloWorld));</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//è¾“å‡ºï¼šHelloWorld</span></span><br></pre></td></tr></table></figure></li></ol><p>3.å¯¹ç©ºæ ¼çš„å¤„ç†</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> example1(instr) #instr</span></span><br><span class="line"></span><br><span class="line">stringstr=<span class="built_in">example1</span>(abc)ï¼› å°†ä¼šå±•æˆï¼šstring str=<span class="string">&quot;abc&quot;</span>ï¼›</span><br></pre></td></tr></table></figure><pre><code>    ğŸ¥ aã€å¿½ç•¥ä¼ å…¥å‚æ•°åå‰é¢å’Œåé¢çš„ç©ºæ ¼ã€‚</code></pre><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">å¦‚ï¼šstr=example1( abc )ï¼› å°†ä¼šè¢«æ‰©å±•æˆ str=&quot;abc&quot;ï¼›</span><br></pre></td></tr></table></figure><pre><code>    ğŸ¥ bã€å½“ä¼ å…¥å‚æ•°åé—´å­˜åœ¨ç©ºæ ¼æ—¶ï¼Œç¼–è¯‘å™¨å°†è‡ªåŠ¨è¿æ¥å„ä¸ªå­å­—ç¬¦ä¸²ï¼Œç”¨æ¯ä¸ªå­å­—ç¬¦ä¸²ä¸­åªä¸€ä¸ªç©ºæ ¼è¿æ¥ï¼Œå¿½ç•¥å¤šä½™ä¸€ä¸ªç©ºæ ¼ã€‚</code></pre><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">å¦‚ï¼šstr=<span class="built_in">exapme1</span>( abc    def ); å°†ä¼šè¢«æ‰©å±•æˆ str=<span class="string">&quot;abc def&quot;</span>ï¼›</span><br></pre></td></tr></table></figure><ol start="4"><li>å®å®šä¹‰ä½œä¸ºå®å‚æ•°ï¼Œä¸å±•å¼€ï¼Œä»ç„¶ä½œä¸ºå­—ç¬¦ä¸²å­—é¢ä¿¡æ¯è¾“å‡ºã€‚</li></ol><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;limits.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> STR(s)     #s </span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// INT_MAXæ˜¯æŸä¸ªæ–‡ä»¶ä¸­å®šä¹‰çš„å®ï¼Œ</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;int max: %s\n&quot;</span>,  <span class="built_in">STR</span>(INT_MAX)); <span class="comment">// è¾“å‡ºint max: INT_MAX</span></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>äºŒã€ç¬¦å·è¿æ¥æ“ä½œç¬¦ ##</p><ol><li><p><code>##</code> çš„åŠŸèƒ½: å°†å‰åä¸¤ä¸ªæ ‡è¯†ç¬¦è¿æ¥å½¢æˆä¸€ä¸ªæ ‡è¯†ç¬¦ã€‚</p></li><li><p>ä½¿ç”¨æ¡ä»¶ï¼šåªèƒ½ç”¨äºæœ‰ä¼ å…¥å‚æ•°çš„å®å®šä¹‰ä¸­ï¼Œä¸”##å¿…é¡»ç½®äºå®å®šä¹‰ä½“ä¸­çš„å‚æ•°åå‰ã€‚</p></li></ol><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> Var(x) var##x</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">Var</span><span class="params">(<span class="number">1</span>)</span></span>=<span class="number">1</span>,<span class="built_in">Var</span>(<span class="number">2</span>)=<span class="number">2</span>,<span class="built_in">Var</span>(<span class="number">3</span>)=<span class="number">3</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;var1=%d\n&quot;</span>,var1);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;var2=%d\n&quot;</span>,var2);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;var3=%d\n&quot;</span>,var3);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>3.æ³¨æ„</p><p>aã€å½“ç”¨##è¿æ¥å½¢å‚æ—¶ï¼Œ##å‰åçš„ç©ºæ ¼å¯æœ‰å¯æ— ã€‚</p><p>å¦‚ï¼š#define exampleNum(n) num ## n ç›¸å½“äº #define exampleNum(n) num##n<br>bã€è¿æ¥åçš„å®é™…å‚æ•°åï¼Œå¿…é¡»ä¸ºå®é™…å­˜åœ¨çš„å‚æ•°åæˆ–æ˜¯ç¼–è¯‘å™¨å·²çŸ¥çš„å®å®šä¹‰ã€‚è¿æ¥ä¹‹ååªæ˜¯ç»„æˆäº†ä¸€ä¸ªå‚æ•°åï¼Œå¹¶æ²¡æœ‰å®šä¹‰ï¼Œå› æ­¤è¦æ±‚è¿™ä¸ªå‚æ•°åéœ€è¦æ˜¯å·²ç»å­˜åœ¨æˆ–è€…è¯´å·²ç»è¢«å®šä¹‰äº†çš„å‚æ•°æˆ–å®å®šä¹‰ã€‚</p><p>cã€å½“å®å‚æ•°æ˜¯å¦ä¸€ä¸ªå®æ—¶ï¼Œå‡¡å®å®šä¹‰ä¸­å­˜åœ¨#æˆ–##çš„åœ°æ–¹ï¼Œå®å‚æ•°ä¸ä¼šå†å±•å¼€ã€‚</p><p>ï¼ˆ åªæœ‰å½“å‰å®ç”Ÿæ•ˆ, å‚æ•°é‡Œçš„å®ï¼ä¸ä¼šç”Ÿæ•ˆ ï¼ï¼‰</p><pre><code>    â‘  å®å®šä¹‰ä¸å­˜åœ¨â€™#â€˜å’Œâ€™##&#39;çš„æƒ…å†µ</code></pre><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> TOW      (2) </span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> MUL(a,b) (a*b) </span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d*%d=%d/n&quot;</span>, TOW, TOW, <span class="built_in">MUL</span>(TOW,TOW)); </span><br><span class="line">è¿™è¡Œçš„å®ä¼šè¢«å±•å¼€ä¸ºï¼š </span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d*%d=%d/n&quot;</span>, (<span class="number">2</span>), (<span class="number">2</span>), ((<span class="number">2</span>)*(<span class="number">2</span>))); </span><br><span class="line">MULé‡Œçš„å‚æ•°TOWä¼šè¢«å±•å¼€ä¸º(<span class="number">2</span>). </span><br></pre></td></tr></table></figure><pre><code>    â‘¡ å®å®šä¹‰å­˜åœ¨â€™#â€˜æˆ–â€™##&#39;çš„æ—¶å€™ï¼ˆ#åœ¨ä¸Šæ–¹æœ‰è®²è§£ï¼‰</code></pre><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;limits.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> A          2 </span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> CONS(a,b)  (int)(a##e##b) <span class="comment">//psï¼š##æ”¾åˆ°å®å‚æ•°åé¢ç›¸å½“äºä¸€ä¸ªè¿æ¥ æ— å…¶ä»–ä½œç”¨</span></span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// ç”±äºAæ˜¯å®ï¼Œä¸”ä½œä¸ºå®CONSçš„å‚æ•°ï¼Œå¹¶ä¸”å®CONS##ç¬¦å·ï¼Œæ‰€ä»¥Aä¸èƒ½è¢«è§£å¼•ç”¨ï¼Œå› æ­¤ä¸Šæ–¹ç¨‹åºç¼–è¯‘æŠ¥é”™ã€‚ </span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, <span class="built_in">CONS</span>(A, A));  <span class="comment">// compile error   æ— æ³•å±•å¼€</span></span><br><span class="line"><span class="comment">//printf(&quot;%d\n&quot;, (int)(AeA)); </span></span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æŠ¥é”™ä¿¡æ¯å¦‚ä¸‹ï¼š</span></span><br><span class="line">main.c: In function â€˜mainâ€™:</span><br><span class="line">main.c:<span class="number">8</span>:<span class="number">22</span>: error: â€˜AeAâ€™ <span class="built_in">undeclared</span> (first use in <span class="keyword">this</span> function)</span><br><span class="line">    <span class="number">8</span> |  <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, <span class="built_in">CONS</span>(A, A));  <span class="comment">// compile error   æ— æ³•å±•å¼€</span></span><br><span class="line">      |                      ^</span><br><span class="line">main.c:<span class="number">5</span>:<span class="number">26</span>: note: in definition of macro â€˜CONSâ€™</span><br><span class="line">    <span class="number">5</span> | <span class="meta">#<span class="keyword">define</span> CONS(a,b)  (int)(a##e##b) <span class="comment">//psï¼š##æ”¾åˆ°å®å‚æ•°åé¢ç›¸å½“äºä¸€ä¸ªè¿æ¥ æ— å…¶ä»–ä½œç”¨</span></span></span><br><span class="line">      |                          ^</span><br><span class="line">main.c:<span class="number">8</span>:<span class="number">22</span>: note: each undeclared identifier is reported only once <span class="keyword">for</span> each function it appears in</span><br><span class="line">    <span class="number">8</span> |  <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, <span class="built_in">CONS</span>(A, A));  <span class="comment">// compile error   æ— æ³•å±•å¼€</span></span><br><span class="line">      |                      ^</span><br><span class="line">main.c:<span class="number">5</span>:<span class="number">26</span>: note: in definition of macro â€˜CONSâ€™</span><br><span class="line">    <span class="number">5</span> | <span class="meta">#<span class="keyword">define</span> CONS(a,b)  (int)(a##e##b) <span class="comment">//psï¼š##æ”¾åˆ°å®å‚æ•°åé¢ç›¸å½“äºä¸€ä¸ªè¿æ¥ æ— å…¶ä»–ä½œç”¨</span></span></span><br><span class="line">      |                          ^</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> CPP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å®å®šä¹‰ </tag>
            
            <tag> ç”¨æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>try-catchå—</title>
      <link href="/Code/CPP/try-catch%E5%9D%97/"/>
      <url>/Code/CPP/try-catch%E5%9D%97/</url>
      
        <content type="html"><![CDATA[<p>[toc]</p><h1 id="è¯´æ˜"><a href="#è¯´æ˜" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h1><blockquote><p><b>Try å—ï¼š</b></p><p>å°†ä¸€æˆ–å¤šä¸ªå¼‚å¸¸å¤„ç†å—ï¼ˆcatch å­å¥ï¼‰ä¸å¤åˆè¯­å¥å…³è”ã€‚</p></blockquote><ol><li>å£°æ˜ä¸€ä¸ªå…·åå½¢å‚çš„ catch å­å¥</li></ol><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123; <span class="comment">/* */</span> &#125; <span class="built_in">catch</span> (<span class="type">const</span> std::exception&amp; e) &#123; <span class="comment">/* */</span> &#125;</span><br></pre></td></tr></table></figure><ol start="2"><li>å£°æ˜ä¸€ä¸ªæ— åå½¢å‚çš„ catch å­å¥</li></ol><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123; <span class="comment">/* */</span> &#125; <span class="built_in">catch</span> (<span class="type">const</span> std::exception&amp;) &#123; <span class="comment">/* */</span> &#125;</span><br></pre></td></tr></table></figure><ol start="3"><li>catch-all å¤„ç†å—ï¼Œå¯è¢«ä»»ä½•å¼‚å¸¸æ¿€æ´»</li></ol><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123; <span class="comment">/* */</span> &#125; <span class="built_in">catch</span> (...) &#123; <span class="comment">/* */</span> &#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> CPP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C++ </tag>
            
            <tag> å¼‚å¸¸ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>using ç”¨æ³•æ•´ç†</title>
      <link href="/Code/CPP/using/"/>
      <url>/Code/CPP/using/</url>
      
        <content type="html"><![CDATA[<p>[toc]</p><blockquote><p>ç®€å•æ•´ç†ä¸€ä¸‹usingçš„ç”¨æ³•</p></blockquote><h1 id="ä¸€ã€å‘½åç©ºé—´"><a href="#ä¸€ã€å‘½åç©ºé—´" class="headerlink" title="ä¸€ã€å‘½åç©ºé—´"></a>ä¸€ã€å‘½åç©ºé—´</h1><p>å‘½åç©ºé—´çš„ç”¨æ³•ç›¸å¯¹ç®€å•å“ˆ</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> std::cout;</span><br><span class="line"></span><br><span class="line"><span class="comment">//////////////////////////</span></span><br><span class="line"></span><br><span class="line">namepsapce nsmine &#123;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">cout</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="keyword">namespace</span> minedefine &#123;</span><br><span class="line">        <span class="meta">#<span class="keyword">define</span> MINE <span class="string">&quot;mine&quot;</span></span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> nsmine;</span><br><span class="line"><span class="keyword">using</span> nsmine::minedefine;</span><br></pre></td></tr></table></figure><h1 id="äºŒã€ä½¿ç”¨usingèµ·åˆ«å"><a href="#äºŒã€ä½¿ç”¨usingèµ·åˆ«å" class="headerlink" title="äºŒã€ä½¿ç”¨usingèµ·åˆ«å"></a>äºŒã€ä½¿ç”¨usingèµ·åˆ«å</h1><p>ç›¸å½“äº <code>typedef</code></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> std::vector&lt;<span class="type">int</span>&gt; intvec;</span><br><span class="line"><span class="keyword">using</span> intvec= std::vector&lt;<span class="type">int</span>&gt;;</span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šä¸¤ç§å†™æ³•ç­‰ä»·ã€‚åŒæ ·ä¸¤ç§æ–¹å¼ä¹Ÿéƒ½é€‚ç”¨äºå‡½æ•°åˆ«åçš„å£°æ˜ã€‚å¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä»£ç  2-2</span></span><br><span class="line"><span class="function"><span class="keyword">typedef</span> <span class="title">void</span> <span class="params">(*FP)</span> <span class="params">(<span class="type">int</span>, <span class="type">const</span> std::string&amp;)</span></span>;</span><br></pre></td></tr></table></figure><p>ä»£ç  2-2 ä½¿ç”¨ <code>typedef</code> ä¸º <code>void (int, const std::string&amp;)</code> åˆ›å»ºäº†ä¸€ä¸ªåˆ«å <code>FP</code>ã€‚åŒæ ·æˆ‘ä»¬ä½¿ç”¨usingæ¥åšè¿™ä¸ªæ“ä½œï¼Œå‡½æ•°è¿”å›ç±»å‹æ˜¯<code>void</code>ï¼Œæ¥æ”¶å‚æ•°ä¸º<code>int,const std::string&amp;</code></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> Fp = <span class="built_in">void</span> (*) (<span class="type">int</span>, <span class="type">const</span> std::string&amp;);</span><br></pre></td></tr></table></figure><p>usingçš„å†™æ³•æŠŠåˆ«åçš„åå­—å¼ºåˆ¶åˆ†ç¦»åˆ°äº†å·¦è¾¹ï¼Œè€ŒæŠŠåˆ«åæŒ‡å‘çš„æ”¾åœ¨äº†å³è¾¹ï¼Œæ¯”è¾ƒæ¸…æ™°ï¼Œå¯è¯»æ€§æ¯”è¾ƒå¥½ã€‚æ¯”å¦‚ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">typedef</span> <span class="title">std::string</span> <span class="params">(Foo::* fooMemFnPtr)</span> <span class="params">(<span class="type">const</span> std::string&amp;)</span></span>;</span><br><span class="line">    </span><br><span class="line"><span class="keyword">using</span> fooMemFnPtr = std::<span class="built_in">string</span> (Foo::*) (<span class="type">const</span> std::string&amp;);</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> CPP </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>C++ ä»¿å‡½æ•°</title>
      <link href="/Code/CPP/%E4%BB%BF%E5%87%BD%E6%95%B0/"/>
      <url>/Code/CPP/%E4%BB%BF%E5%87%BD%E6%95%B0/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æ¦‚è¿°ï¼š C++ é˜²å‡½æ•°ä½¿ç”¨å’Œè¯´æ˜</p></blockquote><p>[toc]</p><h1 id="ä»¿å‡½æ•°"><a href="#ä»¿å‡½æ•°" class="headerlink" title="ä»¿å‡½æ•°"></a>ä»¿å‡½æ•°</h1><p>é¡¾åæ€ä¹‰ï¼Œå°±æ˜¯â€ä»¿é€ å‡½æ•°â€çš„æ„æ€ï¼Œå®ƒå¹¶ä¸æ˜¯å‡½æ•°ï¼Œä½†æ˜¯å´æœ‰ç€ç±»ä¼¼äºå‡½æ•°çš„è¡Œä¸º. </p><p>æˆ‘ä»¬åœ¨ç¼–ç¨‹çš„æ—¶å€™ï¼Œæœ‰æ—¶å€™ä¼šå‘ç°è¿™æ ·ä¸€ç§æƒ…å†µï¼šæœ‰ä¸€äº›ç›¸åŒçš„åŠŸèƒ½ï¼Œä¼šåœ¨ä¸åŒçš„æˆå‘˜å‡½æ•°ä¸­å‡ºç°. è¿™æ—¶å€™æŒ‰ç…§ä¸€èˆ¬çš„æŠ€å·§ï¼Œæˆ‘ä»¬ä¼šå°†è¿™äº›ç›¸åŒçš„åŠŸèƒ½ç‹¬ç«‹å‡ºæ¥è¿›è¡Œå°è£…. ä½†æ˜¯å†™ä¸€ä¸ªå…¬å…±å‡½æ•°çš„è¯ï¼Œå‡½æ•°ç”¨åˆ°çš„ä¸€äº›å˜é‡å°±å¯èƒ½è¢«è¿«æˆä¸ºå…¬å…±çš„å…¨å±€å˜é‡. è€Œä¸”ï¼Œä»…ä»…ä¸ºäº†å¤ç”¨è¿™ä¸€ç‰‡ä»£ç ï¼Œå°±è¦å•ç‹¬å†™ä¸€ä¸ªå‡½æ•°ï¼Œä¹Ÿä¸æ˜¯å¾ˆå¥½ç»´æŠ¤ï¼Œè¿™ä¸ªæ—¶å€™å°±å¯ä»¥ç”¨<strong>ä»¿å‡½æ•°</strong>äº†.</p><p>æŒ‰ç…§ç™¾åº¦è¯æ¡çš„è¯´æ³•ï¼šå†™ä¸€ä¸ªç®€å•çš„ç±»ï¼Œé™¤äº†é‚£äº›ç»´æŠ¤ä¸€ä¸ªç±»çš„æˆå‘˜å‡½æ•°å¤–ï¼Œå°±**åªæ˜¯å®ç°ä¸€ä¸ªoperator()**ï¼Œåœ¨ç±»å®ä¾‹åŒ–çš„æ—¶å€™ï¼Œå°±å°†è¦ç”¨çš„ï¼Œéå‚æ•°çš„å…ƒç´ ä¼ å…¥ç±»ä¸­. è¿™æ ·å†™çš„å¥½å¤„æ˜¯ï¼š</p><ol><li>å…å»äº†ä¸€äº›å…¬å…±å˜é‡çš„å…¨å±€åŒ–çš„ç»´æŠ¤. </li><li>å¯ä»¥ä½¿é‚£äº›ä»£ç ç‹¬ç«‹å‡ºæ¥ï¼Œä»¥ä¾¿ä¸‹æ¬¡å¤ç”¨. </li><li>è¿™äº›ä»¿å‡½æ•°è¿˜å¯ä»¥ç”¨<strong>å…³è”ï¼Œèšåˆï¼Œä¾èµ–</strong>çš„ç±»ä¹‹é—´çš„å…³ç³»ï¼Œä¸ç”¨åˆ°ä»–ä»¬çš„ç±»ç»„åˆåœ¨ä¸€èµ·ï¼Œè¿™æ ·æœ‰åˆ©äºèµ„æºçš„ç®¡ç†.</li></ol><p>ä½œç”¨ï¼š</p><ol><li>å¯æ›¿ä»£å‡½æ•°æŒ‡é’ˆï¼Œä½¿ç”¨æ›´åŠ çµæ´»</li><li>å¯å­˜å‚¨çŠ¶æ€ï¼Œå½¢æˆä¸€ç§ç±»ä¼¼äºé—­åŒ…çš„æœºåˆ¶</li></ol><h2 id="STL-æä¾›çš„ä»¿å‡½æ•°"><a href="#STL-æä¾›çš„ä»¿å‡½æ•°" class="headerlink" title="STL æä¾›çš„ä»¿å‡½æ•°"></a>STL æä¾›çš„ä»¿å‡½æ•°</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">graph LR</span><br><span class="line">A(STLæä¾›çš„ä»¿å‡½æ•°) --&gt; B(ç®—æœ¯ç±»ä»¿å‡½æ•°)</span><br><span class="line">A --&gt; C(å…³ç³»è¿ç®—ç¬¦ä»¿å‡½æ•°)</span><br><span class="line">A --&gt; D(é€»è¾‘è¿ç®—ä»¿å‡½æ•°)</span><br><span class="line">A --&gt; E(&quot;ä½è¿ç®—å‡½æ•°(since C++11)&quot;)</span><br><span class="line"></span><br><span class="line">B --&gt; B1(plus&lt;&lt;a&gt;T&lt;/a&gt;&gt;) --&gt; ç›¸åŠ </span><br><span class="line">B --&gt; B2(minus&lt;&lt;a&gt;T&lt;/a&gt;&gt;) --&gt; ç›¸å‡</span><br><span class="line">B --&gt; B3(multiplies&lt;&lt;a&gt;T&lt;/a&gt;&gt;) --&gt; ç›¸ä¹˜</span><br><span class="line">B --&gt; B4(divides&lt;&lt;a&gt;T&lt;/a&gt;&gt;) --&gt; ç›¸é™¤</span><br><span class="line">B --&gt; B5(modulus&lt;&lt;a&gt;T&lt;/a&gt;&gt;) --&gt; å–æ¨¡</span><br><span class="line">B --&gt; B6(negate&lt;&lt;a&gt;T&lt;/a&gt;&gt;) --&gt; å–å¦</span><br><span class="line"></span><br><span class="line">C --&gt; C1(equal_to&lt;&lt;a&gt;T&lt;/a&gt;&gt;) --&gt; ç­‰äº</span><br><span class="line">C --&gt; C2(not_equal_to&lt;&lt;a&gt;T&lt;/a&gt;&gt;) --&gt; ä¸ç­‰äº</span><br><span class="line">C --&gt; C3(greater&lt;&lt;a&gt;T&lt;/a&gt;&gt;) --&gt; å¤§äº</span><br><span class="line">C --&gt; C4(greater_equal&lt;&lt;a&gt;T&lt;/a&gt;&gt;) --&gt; å¤§äºç­‰äº</span><br><span class="line">C --&gt; C5(less&lt;&lt;a&gt;T&lt;/a&gt;&gt;) --&gt; å°äº</span><br><span class="line">C --&gt; C6(less_equal&lt;&lt;a&gt;T&lt;/a&gt;&gt;) --&gt; å°äºç­‰äº</span><br><span class="line"></span><br><span class="line">D --&gt; D1(logical_and&lt;&lt;a&gt;T&lt;/a&gt;&gt;) --&gt; é€»è¾‘ä¸</span><br><span class="line">D --&gt; D2(logical_or&lt;&lt;a&gt;T&lt;/a&gt;&gt;) --&gt; é€»è¾‘æˆ–</span><br><span class="line">D --&gt; D3(logical_no&lt;&lt;a&gt;T&lt;/a&gt;&gt;) --&gt; é€»è¾‘é</span><br><span class="line"></span><br><span class="line">E --&gt; E1(bit_and&lt;&lt;a&gt;T&lt;/a&gt;&gt;) --&gt; æŒ‰ä½ä¸</span><br><span class="line">E --&gt; E2(bit_or&lt;&lt;a&gt;T&lt;/a&gt;&gt;) --&gt; æŒ‰ä½æˆ–</span><br><span class="line">E --&gt; E3(bit_xor&lt;&lt;a&gt;T&lt;/a&gt;&gt;) --&gt; æŒ‰ä½å¼‚æˆ–</span><br></pre></td></tr></table></figure><h3 id="STL-ä¸­-less-lt-T-gt-çš„ç”¨æ³•ç¤ºä¾‹"><a href="#STL-ä¸­-less-lt-T-gt-çš„ç”¨æ³•ç¤ºä¾‹" class="headerlink" title="STL ä¸­ less&lt;T&gt; çš„ç”¨æ³•ç¤ºä¾‹"></a>STL ä¸­ <code>less&lt;T&gt;</code> çš„ç”¨æ³•ç¤ºä¾‹</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">/home/muten003/CPP/functor/002.cpp</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyClass</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="type">int</span> x;</span><br><span class="line">    <span class="type">int</span> y;</span><br><span class="line">    <span class="keyword">friend</span> <span class="type">bool</span> <span class="keyword">operator</span>&lt;(MyClass a, MyClass b);</span><br><span class="line">&#125;;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Compare</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">friend</span> <span class="type">bool</span> <span class="keyword">operator</span>&lt;(MyClass a, MyClass b)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> a.x &lt; b.x;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    less&lt;MyClass&gt; myclassLes;</span><br><span class="line">    MyClass myclass[<span class="number">3</span>];</span><br><span class="line">    myclass[<span class="number">0</span>].x = <span class="number">2</span>;</span><br><span class="line">    myclass[<span class="number">1</span>].x = <span class="number">1</span>;</span><br><span class="line">    myclass[<span class="number">2</span>].x = <span class="number">3</span>;</span><br><span class="line">    <span class="built_in">sort</span>(myclass, myclass + <span class="number">2</span>, myclassLes);</span><br><span class="line">    </span><br><span class="line">    for_each(sortClass, sortClass + <span class="number">3</span>, [] (UseLessClass obj) &#123;</span><br><span class="line">        cout &lt;&lt; obj.y &lt;&lt; <span class="string">&quot;:&quot;</span> &lt;&lt; obj.x &lt;&lt; endl; </span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¾“å‡ºï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1 2 3</span><br></pre></td></tr></table></figure><h2 id="ä½¿ç”¨ä»¿å‡½æ•°çš„ä¼˜ç‚¹"><a href="#ä½¿ç”¨ä»¿å‡½æ•°çš„ä¼˜ç‚¹" class="headerlink" title="ä½¿ç”¨ä»¿å‡½æ•°çš„ä¼˜ç‚¹"></a>ä½¿ç”¨ä»¿å‡½æ•°çš„ä¼˜ç‚¹</h2><p>å°†ä¸€ä¸ªä¸ªåŠŸèƒ½é€šè¿‡ç±»æ¥å®ç°ï¼Œå¤§å¤šæ•°æƒ…å†µä¸‹ä¼šåŠ å¤§ä»£ç é‡. ä»¿å‡½æ•°ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œä½†æ˜¯ä»¿å‡½æ•°å´æœ‰ç€è®¸å¤šä¼˜ç‚¹,<br>é™¤äº†ä¸Šè¿°çš„æœ‰åˆ©äºèµ„æºç®¡ç†ã€æœ‰åˆ©äºä»£ç ç»´æŠ¤å¤–,è¿˜å…·æœ‰è¿™äº›ç‰¹ç‚¹</p><ol><li>æ™ºèƒ½æ€§ï¼šä»¿å‡½æ•°æ˜¯é€šè¿‡ä»¿å‡½æ•°ç±»æ¥å®ç°çš„ï¼Œæ—¢ç„¶æ˜¯ç±»ï¼Œé‡Œé¢å°±å¯ä»¥å‚¨å­˜è®¸å¤šå˜é‡è¿˜æœ‰å…¶ä»–çš„ä¸€äº›ä¿¡æ¯.æˆ‘ä»¬å¯ä»¥åˆ©ç”¨è¿™ä¸ªç‰¹å¾å®ç°è®¸å¤šçº¯çš„å‡½æ•°å®ç°ä¸äº†çš„åŠŸèƒ½ï¼Œä¸¾ä¸ªç®€å•çš„ä¾‹å­ï¼šæˆ‘è‹¥å†ä»¿å‡½æ•°ä¸­åŠ å…¥äº†ç»Ÿè®¡è°ƒç”¨å‡½æ•°æ¬¡æ•°çš„åŠŸèƒ½ã€‚é‚£ä¹ˆåœ¨æˆ‘ä½¿ç”¨ä»¿å‡½æ•°çš„æ—¶å€™ï¼Œå°±å¯ä»¥è‡ªåŠ¨å®ç°ç»Ÿè®¡æ¬¡æ•°çš„åŠŸèƒ½. æ‰€ä»¥è¯´ï¼Œæ›´åŠ æ™ºèƒ½ã€‚</li><li>çµæ´»æ€§ï¼šæˆ–è€…è¯´ï¼Œæ¯ä¸ªä»¿å‡½æ•°éƒ½å¯ä»¥æœ‰è‡ªå·±çš„ç±»å‹. ç”±äºä»¿å‡½æ•°æ˜¯æ³›å‹ç¼–ç¨‹çš„ä¸€ä¸ªä¾‹è¯, å®ƒå¯ä»¥ä»»æ„   æŒ‡å®šç±»å‹ã€‚</li><li>é€šå¸¸æ¯”ä¸€èˆ¬å‡½æ•°é€Ÿåº¦æ›´å¿«ï¼šå°¤å…¶æ˜¯å¤§é‡è°ƒç”¨å‡½æ•°çš„è¿‡ç¨‹ä¸­. æ¯”å¦‚è¯´ï¼šSTLæ’åºçš„æ—¶å€™,æ‰€éœ€è¦çš„é‚£ä¸ªæ’åºè§„åˆ™(ä¸ºä¸€ä¸ªboolå‹çš„å‡½æ•°).</li></ol><h1 id="ä½¿ç”¨å®ä¾‹"><a href="#ä½¿ç”¨å®ä¾‹" class="headerlink" title="ä½¿ç”¨å®ä¾‹"></a>ä½¿ç”¨å®ä¾‹</h1><h2 id="ç®€å•ç¤ºä¾‹"><a href="#ç®€å•ç¤ºä¾‹" class="headerlink" title="ç®€å•ç¤ºä¾‹"></a>ç®€å•ç¤ºä¾‹</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Compare</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> a &lt; b;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">Function</span>&gt;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">comp</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b, Function func)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">func</span>(a, b))</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; b &lt;&lt; <span class="string">&quot; is bigger than &quot;</span> &lt;&lt; a &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; a &lt;&lt; <span class="string">&quot; is bigger than &quot;</span> &lt;&lt; b &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> a = <span class="number">6</span>;</span><br><span class="line">    <span class="type">int</span> b = <span class="number">2</span>;</span><br><span class="line">    Compare com;</span><br><span class="line">    <span class="built_in">comp</span>(a, b, com);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ä¸æ™®é€šå‡½æ•°å¯¹æ¯”"><a href="#ä¸æ™®é€šå‡½æ•°å¯¹æ¯”" class="headerlink" title="ä¸æ™®é€šå‡½æ•°å¯¹æ¯”"></a>ä¸æ™®é€šå‡½æ•°å¯¹æ¯”</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CompareObject</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">operator</span><span class="params">()</span><span class="params">()</span> </span>&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;ä»¿å‡½æ•°&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// é‡è½½</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="type">int</span> number, <span class="type">int</span> number2)</span> </span>&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;ä»¿å‡½æ•°&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æŸ¥çœ‹c++ for_eachæºç è‡ªå®šä¹‰</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ShowActionObj</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="type">int</span> content)</span> </span>&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;custom ä»¿å‡½æ•°&quot;</span> &lt;&lt; content &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å›è°ƒæ–¹å¼</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">showAction</span><span class="params">(<span class="type">int</span> content)</span> </span>&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;custom æ™®é€šå‡½æ•°&quot;</span> &lt;&lt; content &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// ç›´æ¥è°ƒç”¨ä»¿å‡½æ•°</span></span><br><span class="line">CompareObject fun1;</span><br><span class="line"><span class="built_in">fun1</span>();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ä»¥å›è°ƒæ–¹å¼è°ƒç”¨</span></span><br><span class="line">set&lt;<span class="type">int</span>&gt; setVar&#123; <span class="number">10</span>,<span class="number">20</span>,<span class="number">30</span>,<span class="number">40</span>,<span class="number">50</span>,<span class="number">60</span> &#125;;</span><br><span class="line"></span><br><span class="line">cout &lt;&lt; <span class="string">&quot;ä½¿ç”¨ä»¿å‡½æ•°:&quot;</span> &lt;&lt; endl;</span><br><span class="line">for_each(setVar.<span class="built_in">begin</span>(), setVar.<span class="built_in">end</span>(), <span class="built_in">ShowActionObj</span>());</span><br><span class="line"></span><br><span class="line">cout &lt;&lt; <span class="string">&quot;ä½¿ç”¨æ™®é€šå‡½æ•°&quot;</span> &lt;&lt; endl;</span><br><span class="line">for_each(setVar.<span class="built_in">begin</span>(), setVar.<span class="built_in">end</span>(), showAction);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¾“å‡ºå¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">ä»¿å‡½æ•°</span><br><span class="line">ä½¿ç”¨ä»¿å‡½æ•°:</span><br><span class="line">custom ä»¿å‡½æ•°10</span><br><span class="line">custom ä»¿å‡½æ•°20</span><br><span class="line">custom ä»¿å‡½æ•°30</span><br><span class="line">custom ä»¿å‡½æ•°40</span><br><span class="line">custom ä»¿å‡½æ•°50</span><br><span class="line">custom ä»¿å‡½æ•°60</span><br><span class="line">ä½¿ç”¨æ™®é€šå‡½æ•°</span><br><span class="line">custom æ™®é€šå‡½æ•°10</span><br><span class="line">custom æ™®é€šå‡½æ•°20</span><br><span class="line">custom æ™®é€šå‡½æ•°30</span><br><span class="line">custom æ™®é€šå‡½æ•°40</span><br><span class="line">custom æ™®é€šå‡½æ•°50</span><br><span class="line">custom æ™®é€šå‡½æ•°60</span><br></pre></td></tr></table></figure><p>è¡¥å…… <code>for_eace</code> çš„æºç ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">_InIt</span>, <span class="keyword">class</span> <span class="title class_">_Fn</span>&gt;</span><br><span class="line"><span class="function">_CONSTEXPR20 _Fn <span class="title">for_each</span><span class="params">(_InIt _First, _InIt _Last, _Fn _Func)</span> </span>&#123; <span class="comment">// perform function for each element [_First, _Last)</span></span><br><span class="line">    _Adl_verify_range(_First, _Last);</span><br><span class="line">    <span class="keyword">auto</span> _UFirst      = _Get_unwrapped(_First);</span><br><span class="line">    <span class="type">const</span> <span class="keyword">auto</span> _ULast = _Get_unwrapped(_Last);</span><br><span class="line">    <span class="keyword">for</span> (; _UFirst != _ULast; ++_UFirst) &#123;</span><br><span class="line">        _Func(*_UFirst);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> _Func;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="å‚è€ƒæ–‡ç« "><a href="#å‚è€ƒæ–‡ç« " class="headerlink" title="å‚è€ƒæ–‡ç« "></a>å‚è€ƒæ–‡ç« </h1><ul><li><a href="https://blog.csdn.net/Edidaughter/article/details/124398393">C++ä»¿å‡½æ•°_c++ ä»¿å‡½æ•°_æˆ‘è¦ç²¾é€šC++çš„åšå®¢-CSDNåšå®¢</a></li><li><a href="https://www.jianshu.com/p/c7612337b173">C++ ä»¿å‡½æ•° - ç®€ä¹¦</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> CPP </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>std::future</title>
      <link href="/Code/CPP/std/future/"/>
      <url>/Code/CPP/std/future/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æ¦‚è¿°: <code>std::future</code> çš„ç”¨æ³•æ•´ç†</p></blockquote><p>[toc]</p><h1 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h1> <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;future&gt;</span></span></span><br><span class="line"></span><br><span class="line">std::future &lt; T &gt; f</span><br></pre></td></tr></table></figure><p><code>std::future</code>æ˜¯C++11æ ‡å‡†åº“ï¼ˆå¹¶å‘æ”¯æŒåº“ï¼‰ä¸­çš„ä¸€ä¸ª<a href="https://so.csdn.net/so/search?q=%E6%A8%A1%E6%9D%BF%E7%B1%BB&spm=1001.2101.3001.7020">æ¨¡æ¿ç±»</a>ï¼Œå®ƒè¡¨ç¤ºä¸€ä¸ªå¼‚æ­¥æ“ä½œçš„ç»“æœã€‚å½“æˆ‘ä»¬åœ¨å¤šçº¿ç¨‹ç¼–ç¨‹ä¸­ä½¿ç”¨å¼‚æ­¥ä»»åŠ¡æ—¶ï¼Œ<code>std::future</code>å¯ä»¥å¸®åŠ©æˆ‘ä»¬åœ¨éœ€è¦çš„æ—¶å€™è·å–ä»»åŠ¡çš„æ‰§è¡Œç»“æœã€‚<code>std::future</code>çš„ä¸€ä¸ªé‡è¦ç‰¹æ€§æ˜¯èƒ½å¤Ÿé˜»å¡å½“å‰çº¿ç¨‹ï¼Œç›´åˆ°å¼‚æ­¥æ“ä½œå®Œæˆï¼Œä»è€Œç¡®ä¿æˆ‘ä»¬åœ¨è·å–ç»“æœæ—¶ä¸ä¼šé‡åˆ°æœªå®Œæˆçš„æ“ä½œã€‚</p><h1 id="æˆå‘˜å‡½æ•°"><a href="#æˆå‘˜å‡½æ•°" class="headerlink" title="æˆå‘˜å‡½æ•°"></a>æˆå‘˜å‡½æ•°</h1><ul><li>æ„é€ å‡½æ•°<ul><li><code>future() noexcept</code>: é»˜è®¤æ„é€ å‡½æ•°ã€‚æ„é€ æ— å…±äº«çŠ¶æ€çš„ <code>std::future </code>ã€‚æ„é€ åï¼Œ <code>valid()</code> &#x3D;&#x3D; false</li><li><code>future( future&amp;&amp; other ) noexcept</code>:ç§»åŠ¨æ„é€ å‡½æ•°ã€‚ç”¨ç§»åŠ¨è¯­ä¹‰ï¼Œä»¥ other çš„å…±äº«çŠ¶æ€æ„é€  std::future ã€‚æ„é€ å other.<code>valid()</code> &#x3D;&#x3D; false ã€‚</li><li><code>future( const future&amp; other ) = delete</code> : ä¸å¯å¤åˆ¶æ„é€  (CopyConstructible) ã€‚</li></ul></li><li>ææ„å‡½æ•° <code>~future()</code>;</li><li>operator&#x3D;<ul><li><code>future&amp; operator=( future&amp;&amp; other ) noexcept</code>:é‡Šæ”¾ä»»ä½•å…±äº«çŠ¶æ€å¹¶ç§»åŠ¨èµ‹å€¼ other çš„å†…å®¹ç»™ *this ã€‚èµ‹å€¼åï¼Œ other.valid() &#x3D;&#x3D; false ä¸” this-&gt;valid() å°†äº§ç”Ÿä¸ other.valid() åœ¨èµ‹å€¼å‰ç›¸åŒçš„å€¼ã€‚</li><li><code>future&amp; operator=( const future&amp; other ) = delete</code>: ä¸å¯å¤åˆ¶èµ‹å€¼ (CopyAssignable) ã€‚</li></ul></li><li><code>share() noexcept</code>: è½¬ç§» *this çš„å…±äº«çŠ¶æ€åˆ° <code>std::shared_future</code> å¯¹è±¡ã€‚å¤šä¸ª<code> std::shared_future</code> å¯¹è±¡å¯å¼•ç”¨åŒä¸€å…±äº«å¯¹è±¡ï¼Œè°ƒç”¨å<code>valid()</code> &#x3D;&#x3D; <strong>false</strong> ã€‚</li><li><code>T get()</code>: get æ–¹æ³•ç­‰å¾…ç›´è‡³ future æ‹¥æœ‰åˆæ³•ç»“æœå¹¶ï¼ˆä¾èµ–äºä½¿ç”¨å“ªä¸ªæ¨¡æ¿ï¼‰è·å–å®ƒã€‚å®ƒç­‰æ•ˆåœ°è°ƒç”¨ <code>wait()</code> ç­‰å¾…ç»“æœã€‚æ³›å‹æ¨¡æ¿å’ŒäºŒä¸ªæ¨¡æ¿ç‰¹åŒ–å„å«å•ä¸ª get ç‰ˆæœ¬ã€‚ get çš„ä¸‰ä¸ªç‰ˆæœ¬ä»…åœ¨è¿”å›ç±»å‹æœ‰åˆ«ã€‚è‹¥è°ƒç”¨æ­¤å‡½æ•°å‰ <code>valid()</code> ä¸º false åˆ™è¡Œä¸ºæœªå®šä¹‰ã€‚é‡Šæ”¾ä»»ä½•å…±äº«çŠ¶æ€ã€‚è°ƒç”¨æ­¤æ–¹æ³•å<code>valid()</code> ä¸º false ã€‚</li><li><code>bool valid()</code>: æ£€æŸ¥futureæ˜¯å¦å¯ä»¥å…±äº«çŠ¶æ€ã€‚</li><li><code>wait()</code>: ç­‰å¾…ç»“æœå˜å¾—å¯ç”¨</li><li>wait_for</li><li>wait_until</li></ul><h1 id="ä½œç”¨"><a href="#ä½œç”¨" class="headerlink" title="ä½œç”¨"></a>ä½œç”¨</h1><ol><li><strong>å¼‚æ­¥æ“ä½œçš„ç»“æœè·å–</strong>ï¼š<code>std::future</code>æä¾›äº†ä¸€ç§æœºåˆ¶ï¼Œå…è®¸æˆ‘ä»¬åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸­å®‰å…¨åœ°è·å–å¼‚æ­¥æ“ä½œçš„ç»“æœã€‚</li><li><strong>éšè—å¼‚æ­¥æ“ä½œçš„ç»†èŠ‚</strong>ï¼š<code>std::future</code>å°†å¼‚æ­¥æ“ä½œçš„ç»“æœå°è£…èµ·æ¥ï¼Œä½¿ç¨‹åºå‘˜æ— éœ€å…³æ³¨çº¿ç¨‹åŒæ­¥å’Œé€šä¿¡çš„å…·ä½“å®ç°ç»†èŠ‚ã€‚</li><li><strong>çº¿ç¨‹åŒæ­¥</strong>ï¼šé€šè¿‡é˜»å¡ç­‰å¾…å¼‚æ­¥æ“ä½œå®Œæˆï¼Œ<code>std::future</code>å¯ä»¥ç¡®ä¿æˆ‘ä»¬åœ¨ç»§ç»­æ‰§è¡Œå…¶ä»–æ“ä½œä¹‹å‰ï¼Œå·²ç»è·å–äº†æ‰€éœ€çš„ç»“æœã€‚</li><li><strong>å¼‚å¸¸å¤„ç†</strong>ï¼š<code>std::future</code>å¯ä»¥æ•è·å¼‚æ­¥æ“ä½œä¸­æŠ›å‡ºçš„å¼‚å¸¸ï¼Œå¹¶åœ¨è·å–ç»“æœæ—¶é‡æ–°æŠ›å‡ºï¼Œä¹Ÿå¯ä»¥åœ¨ä¸»çº¿ç¨‹ä¸­å¯¹å…¶è¿›è¡Œå¤„ç†ï¼Œä»è€Œä½¿å¾—å¼‚å¸¸å¤„ç†æ›´åŠ ç®€å•ã€‚</li><li><strong>æé«˜æ€§èƒ½</strong>ï¼š<code>std::future</code>ä½¿å¾—æˆ‘ä»¬èƒ½å¤Ÿæ›´å¥½åœ°åˆ©ç”¨å¤šæ ¸å¤„ç†å™¨çš„æ€§èƒ½ï¼Œé€šè¿‡å¹¶è¡Œæ‰§è¡Œä»»åŠ¡æ¥æé«˜ç¨‹åºçš„æ‰§è¡Œæ•ˆç‡ã€‚</li></ol><h1 id="ä½¿ç”¨åœºæ™¯"><a href="#ä½¿ç”¨åœºæ™¯" class="headerlink" title="ä½¿ç”¨åœºæ™¯"></a>ä½¿ç”¨åœºæ™¯</h1><h2 id="å¼‚æ­¥ä»»åŠ¡"><a href="#å¼‚æ­¥ä»»åŠ¡" class="headerlink" title="å¼‚æ­¥ä»»åŠ¡"></a>å¼‚æ­¥ä»»åŠ¡</h2><p>å½“æˆ‘ä»¬éœ€è¦åœ¨åå°æ‰§è¡Œä¸€äº›è€—æ—¶æ“ä½œæ—¶ï¼Œå¦‚<a href="https://so.csdn.net/so/search?q=%E6%96%87%E4%BB%B6%E8%AF%BB%E5%86%99&spm=1001.2101.3001.7020">æ–‡ä»¶è¯»å†™</a>ã€ç½‘ç»œè¯·æ±‚æˆ–è®¡ç®—å¯†é›†å‹ä»»åŠ¡ï¼Œ<code>std::future</code>å¯ä»¥ç”¨æ¥è¡¨ç¤ºè¿™äº›å¼‚æ­¥ä»»åŠ¡çš„ç»“æœã€‚é€šè¿‡å°†ä»»åŠ¡ä¸ä¸»çº¿ç¨‹åˆ†ç¦»ï¼Œæˆ‘ä»¬å¯ä»¥å®ç°ä»»åŠ¡çš„å¹¶è¡Œå¤„ç†ï¼Œä»è€Œæé«˜ç¨‹åºçš„æ‰§è¡Œæ•ˆç‡ã€‚</p><h2 id="å¹¶å‘æ§åˆ¶"><a href="#å¹¶å‘æ§åˆ¶" class="headerlink" title="å¹¶å‘æ§åˆ¶"></a>å¹¶å‘æ§åˆ¶</h2><p>åœ¨<a href="https://so.csdn.net/so/search?q=%E5%A4%9A%E7%BA%BF%E7%A8%8B%E7%BC%96%E7%A8%8B&spm=1001.2101.3001.7020">å¤šçº¿ç¨‹ç¼–ç¨‹</a>ä¸­ï¼Œæˆ‘ä»¬å¯èƒ½éœ€è¦ç­‰å¾…æŸäº›ä»»åŠ¡å®Œæˆåæ‰èƒ½ç»§ç»­æ‰§è¡Œå…¶ä»–æ“ä½œã€‚é€šè¿‡ä½¿ç”¨<code>std::future</code>ï¼Œæˆ‘ä»¬å¯ä»¥å®ç°çº¿ç¨‹ä¹‹é—´çš„åŒæ­¥ï¼Œç¡®ä¿ä»»åŠ¡å®Œæˆåå†è·å–ç»“æœå¹¶ç»§ç»­æ‰§è¡Œåç»­æ“ä½œã€‚</p><h2 id="ç»“æœè·å–"><a href="#ç»“æœè·å–" class="headerlink" title="ç»“æœè·å–"></a>ç»“æœè·å–</h2><p><code>std::future</code>æä¾›äº†ä¸€ç§å®‰å…¨çš„æ–¹å¼æ¥è·å–å¼‚æ­¥ä»»åŠ¡çš„ç»“æœã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>std::future::get()</code>å‡½æ•°æ¥è·å–ä»»åŠ¡çš„ç»“æœã€‚æ­¤å‡½æ•°ä¼šé˜»å¡å½“å‰çº¿ç¨‹ï¼Œç›´åˆ°å¼‚æ­¥æ“ä½œå®Œæˆã€‚è¿™æ ·ï¼Œåœ¨è°ƒç”¨<code>get()</code>å‡½æ•°æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ç¡®ä¿å·²ç»è·å–åˆ°äº†æ‰€éœ€çš„ç»“æœã€‚å¦‚æœå¼‚æ­¥æ“ä½œä¸­å‘ç”Ÿäº†å¼‚å¸¸ï¼Œ<code>get()</code>å‡½æ•°ä¼šå°†å¼‚å¸¸é‡æ–°æŠ›å‡ºï¼Œä½¿å¾—æˆ‘ä»¬èƒ½å¤Ÿå¤„ç†è¿™äº›å¼‚å¸¸ã€‚</p><h1 id="ç”¨æ³•ç¤ºä¾‹"><a href="#ç”¨æ³•ç¤ºä¾‹" class="headerlink" title="ç”¨æ³•ç¤ºä¾‹"></a>ç”¨æ³•ç¤ºä¾‹</h1><h2 id="ä½¿ç”¨std-asyncå…³è”å¼‚æ­¥ä»»åŠ¡"><a href="#ä½¿ç”¨std-asyncå…³è”å¼‚æ­¥ä»»åŠ¡" class="headerlink" title="ä½¿ç”¨std::asyncå…³è”å¼‚æ­¥ä»»åŠ¡"></a>ä½¿ç”¨std::asyncå…³è”å¼‚æ­¥ä»»åŠ¡</h2><p>ä½¿ç”¨<code>std::async</code>å°†ä»»åŠ¡ä¸<code>std::future</code>å…³è”ã€‚å®ƒåˆ›å»ºå¹¶è¿è¡Œä¸€ä¸ªå¼‚æ­¥ä»»åŠ¡ï¼Œå¹¶è¿”å›ä¸€ä¸ªä¸è¯¥ä»»åŠ¡ç»“æœå…³è”çš„<code>std::future</code>å¯¹è±¡ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;future&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;chrono&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">long_running_task</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    std::this_thread::<span class="built_in">sleep_for</span>(std::chrono::<span class="built_in">seconds</span>(<span class="number">3</span>));</span><br><span class="line">    <span class="keyword">return</span> <span class="number">42</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">// std::future&lt;int&gt; å£°æ˜çš„ç±»å‹ä¸ long_running_task è¿”å›å€¼ç±»å‹å¿…é¡»ä¸€è‡´</span></span><br><span class="line">    std::future&lt;<span class="type">int</span>&gt; result_future = std::<span class="built_in">async</span>(std::launch::async, long_running_task);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åœ¨æ­¤å¤„æ‰§è¡Œå…¶ä»–æ“ä½œ</span></span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> result = result_future.<span class="built_in">get</span>();</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;Result: &quot;</span> &lt;&lt; result &lt;&lt; std::endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ä½¿ç”¨std-promiseä¸std-futureé…åˆ"><a href="#ä½¿ç”¨std-promiseä¸std-futureé…åˆ" class="headerlink" title="ä½¿ç”¨std::promiseä¸std::futureé…åˆ"></a>ä½¿ç”¨std::promiseä¸std::futureé…åˆ</h2><p><code>std::promise</code>æ˜¯å¦ä¸€ç§ä¸<code>std::future</code>é…åˆä½¿ç”¨çš„æ–¹å¼ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>std::promise</code>å¯¹è±¡æ¥æ˜¾å¼åœ°è®¾ç½®ä»»åŠ¡çš„ç»“æœï¼Œè€Œ<code>std::future</code>å¯¹è±¡åˆ™ç”¨äºè·å–è¿™ä¸ªç»“æœã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;future&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;thread&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">long_running_task</span><span class="params">(std::promise&lt;<span class="type">int</span>&gt; result_promise)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// æ‰§è¡Œé•¿æ—¶é—´è¿è¡Œçš„ä»»åŠ¡</span></span><br><span class="line">    <span class="type">int</span> result = <span class="number">42</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å°†ç»“æœè®¾ç½®åˆ°promiseå¯¹è±¡ä¸­</span></span><br><span class="line">    result_promise.<span class="built_in">set_value</span>(result);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    std::promise&lt;<span class="type">int</span>&gt; result_promise;</span><br><span class="line">    std::future&lt;<span class="type">int</span>&gt; result_future = result_promise.<span class="built_in">get_future</span>();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ›å»ºä¸€ä¸ªæ–°çº¿ç¨‹ï¼Œæ‰§è¡Œé•¿æ—¶é—´è¿è¡Œçš„ä»»åŠ¡</span></span><br><span class="line">    <span class="function">std::thread <span class="title">task_thread</span><span class="params">(long_running_task, std::move(result_promise))</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åœ¨æ­¤å¤„æ‰§è¡Œå…¶ä»–æ“ä½œ</span></span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> result = result_future.<span class="built_in">get</span>();</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;Result: &quot;</span> &lt;&lt; result &lt;&lt; std::endl;</span><br><span class="line"></span><br><span class="line">    task_thread.<span class="built_in">join</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ç»“æœè·å–ä¸å¼‚å¸¸å¤„ç†"><a href="#ç»“æœè·å–ä¸å¼‚å¸¸å¤„ç†" class="headerlink" title="ç»“æœè·å–ä¸å¼‚å¸¸å¤„ç†"></a>ç»“æœè·å–ä¸å¼‚å¸¸å¤„ç†</h2><p>ä½¿ç”¨<code>std::future::get()</code> å‡½æ•°å¯ä»¥è·å–å¼‚æ­¥ä»»åŠ¡çš„ç»“æœã€‚æ­¤å‡½æ•°ä¼šé˜»å¡å½“å‰çº¿ç¨‹ï¼Œç›´åˆ°å¼‚æ­¥æ“ä½œå®Œæˆã€‚å¦‚æœå¼‚æ­¥æ“ä½œä¸­å‘ç”Ÿäº†å¼‚å¸¸ï¼Œ<code>get()</code>å‡½æ•°ä¼šå°†å¼‚å¸¸é‡æ–°æŠ›å‡ºã€‚</p><p>:warning: æ³¨æ„ï¼šstd::future::get()å‡½æ•°åªèƒ½è¢«è°ƒç”¨ä¸€æ¬¡ã€‚åœ¨è°ƒç”¨get()ä¹‹åï¼Œstd::futureå¯¹è±¡å°†å˜ä¸ºæ— æ•ˆçŠ¶æ€ã€‚</p><p>:construction: å¦‚æœéœ€è¦å¤šæ¬¡è®¿é—®ç»“æœï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨std::shared_futureã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="type">int</span> result = result_future.<span class="built_in">get</span>();</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;Result: &quot;</span> &lt;&lt; result &lt;&lt; std::endl;</span><br><span class="line">&#125; <span class="built_in">catch</span> (<span class="type">const</span> std::exception&amp; e) &#123;</span><br><span class="line">    std::cerr &lt;&lt; <span class="string">&quot;Exception caught: &quot;</span> &lt;&lt; e.<span class="built_in">what</span>() &lt;&lt; std::endl;</span><br><span class="line">&#125; <span class="built_in">catch</span> (...) &#123;</span><br><span class="line">    std::cerr &lt;&lt; <span class="string">&quot;Unknown exception caught&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">std::<span class="function">chrono::milliseconds <span class="title">timeout</span><span class="params">(<span class="number">100</span>)</span></span>;</span><br><span class="line">std::future_status status = result_future.<span class="built_in">wait_for</span>(timeout);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (status == std::future_status::ready) &#123;</span><br><span class="line">    <span class="type">int</span> result = result_future.<span class="built_in">get</span>();</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;Result: &quot;</span> &lt;&lt; result &lt;&lt; std::endl;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    std::cerr &lt;&lt; <span class="string">&quot;Timeout: the task is still running&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="æ³¨æ„äº‹é¡¹"><a href="#æ³¨æ„äº‹é¡¹" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h1><p>åœ¨ä½¿ç”¨<code>std::future</code>æ—¶ï¼Œéœ€è¦æ³¨æ„ä»¥ä¸‹å‡ ç‚¹ï¼š</p><ol><li><code>std::future::get()</code>å‡½æ•°åªèƒ½è¢«<strong>è°ƒç”¨ä¸€æ¬¡</strong>ã€‚è°ƒç”¨get()ä¹‹åï¼Œ<code>std::future</code>å¯¹è±¡å°†å˜ä¸ºæ— æ•ˆçŠ¶æ€ã€‚å¦‚æœéœ€è¦å¤šæ¬¡è®¿é—®ç»“æœï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨<a href="https://blog.csdn.net/qq_41898196/article/details/129739091#std::shared_future">std::shared_future</a>ã€‚</li><li><code>std::future</code>å¯¹è±¡ä¸å¯æ‹·è´ï¼Œä½†å¯ä»¥é€šè¿‡ç§»åŠ¨æ„é€ å‡½æ•°æˆ–ç§»åŠ¨èµ‹å€¼æ“ä½œç¬¦è¿›è¡Œè½¬ç§»ã€‚è¿™æ„å‘³ç€æˆ‘ä»¬ä¸èƒ½å°†std::futureå¯¹è±¡å­˜å‚¨åœ¨å®¹å™¨ä¸­ï¼Œé™¤éä½¿ç”¨<a href="https://blog.csdn.net/qq_41898196/article/details/129739091#std::shared_future">std::shared_future</a>æˆ–æŒ‡é’ˆåŒ…è£…ã€‚</li><li>å½“ä½¿ç”¨<code>std::async</code>æ—¶ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œä»»åŠ¡å¯èƒ½ä¼šåœ¨å½“å‰çº¿ç¨‹ä¸Šä¸‹æ–‡ä¸­æ‰§è¡Œã€‚è¿™å–å†³äºåº“å®ç°å’Œç³»ç»Ÿèµ„æºã€‚è‹¥è¦ç¡®ä¿ä»»åŠ¡åœ¨æ–°çº¿ç¨‹ä¸­æ‰§è¡Œï¼Œå¯ä»¥ä½¿ç”¨<code>std::launch::async</code>æ ‡å¿—ï¼š</li></ol><blockquote><p>std::future result_future &#x3D; std::async(std::launch::async, long_running_task);</p></blockquote><ol><li>å¦‚æœstd::futureå¯¹è±¡åœ¨ææ„æ—¶ä»å…³è”ç€ä¸€ä¸ªæœ‰æ•ˆçš„å¼‚æ­¥æ“ä½œï¼Œä¸”è¯¥æ“ä½œå°šæœªå®Œæˆï¼Œææ„å‡½æ•°ä¼šé˜»å¡ç­‰å¾…æ“ä½œå®Œæˆã€‚åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œè¿™å¯èƒ½å¯¼è‡´ç¨‹åºæ­»é”ã€‚ä¸ºäº†é¿å…è¿™ä¸ªé—®é¢˜ï¼Œå¯ä»¥åœ¨ææ„std::futureå¯¹è±¡ä¹‹å‰æ˜¾å¼åœ°è°ƒç”¨wait()ã€wait_for()æˆ–wait_until()å‡½æ•°ã€‚</li><li>è™½ç„¶<code>std::future</code>åœ¨è·å–å¼‚æ­¥ä»»åŠ¡ç»“æœå’Œçº¿ç¨‹åŒæ­¥æ–¹é¢éå¸¸æœ‰ç”¨ï¼Œä½†å®ƒå¹¶ä¸èƒ½è§£å†³æ‰€æœ‰å¹¶å‘é—®é¢˜ã€‚ä¾‹å¦‚ï¼Œ<code>std::future</code>æ— æ³•ç”¨äºå®ç°å¤æ‚çš„å¹¶å‘æ¨¡å¼ï¼Œå¦‚çº¿ç¨‹æ± ã€å·¥ä½œçªƒå–ç­‰ã€‚å¯¹äºè¿™äº›é«˜çº§å¹¶å‘éœ€æ±‚ï¼Œå¯èƒ½éœ€è¦ä½¿ç”¨å…¶ä»–åº“æˆ–è€…è‡ªå®šä¹‰å®ç°ã€‚</li><li>ä½¿ç”¨<code>std::promise</code>å’Œ<code>std::future</code>æ—¶ï¼Œéœ€è¦ç¡®ä¿åœ¨è°ƒç”¨<code>get()</code>ä¹‹å‰å·²ç»è®¾ç½®äº†å¯¹åº”çš„å€¼ï¼Œå¦åˆ™ä¼šå¯¼è‡´æœªå®šä¹‰çš„è¡Œä¸ºã€‚è¿™å¯èƒ½éœ€è¦å¯¹ä»£ç è¿›è¡Œä»”ç»†çš„è®¾è®¡å’Œè°ƒè¯•ï¼Œä»¥ç¡®ä¿æ­£ç¡®çš„æ‰§è¡Œé¡ºåºã€‚</li><li><code>std::future</code>å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸéœ€è¦ä»”ç»†ç®¡ç†ã€‚å¦‚æœ<code>std::future</code>å¯¹è±¡è¢«æå‰é”€æ¯ï¼Œé‚£ä¹ˆå…³è”çš„å¼‚æ­¥ä»»åŠ¡å¯èƒ½ä¼šå˜å¾—ä¸å¯è®¿é—®ã€‚å› æ­¤ï¼Œéœ€è¦ç¡®ä¿åœ¨å¼‚æ­¥ä»»åŠ¡å®Œæˆä¹‹å‰ä¿æŒ<code>std::future</code>å¯¹è±¡çš„æœ‰æ•ˆæ€§ã€‚</li><li>åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œä½¿ç”¨<code>std::future</code>å¯èƒ½ä¼šå¯¼è‡´æ€§èƒ½ä¸‹é™ã€‚ä¾‹å¦‚ï¼Œå½“å¤šä¸ªçº¿ç¨‹é¢‘ç¹åœ°ç­‰å¾…å¼‚æ­¥æ“ä½œç»“æœæ—¶ï¼Œå¯èƒ½ä¼šå¯¼è‡´çº¿ç¨‹é˜»å¡å’Œä¸Šä¸‹æ–‡åˆ‡æ¢å¼€é”€ã€‚ä¸ºäº†é¿å…è¿™ä¸ªé—®é¢˜ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨éé˜»å¡çš„æ–¹å¼æŸ¥è¯¢å¼‚æ­¥æ“ä½œçŠ¶æ€ï¼Œå¦‚<code>std::future::wait_for()</code>å’Œ<code>std::future::wait_until()</code>å‡½æ•°ã€‚è¿™æ ·ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å¼‚æ­¥æ“ä½œæœªå®Œæˆæ—¶æ‰§è¡Œå…¶ä»–ä»»åŠ¡ï¼Œæé«˜ç¨‹åºçš„å“åº”æ€§å’Œå¹¶å‘æ€§èƒ½ã€‚</li><li><code>std::future</code>å¹¶ä¸é€‚ç”¨äºæ‰€æœ‰åœºæ™¯ã€‚ä¾‹å¦‚ï¼Œå®ƒä¸é€‚ç”¨äºéœ€è¦å¤„ç†å¤šä¸ªè¾“å…¥æˆ–è¾“å‡ºç»“æœçš„ä»»åŠ¡ï¼Œæˆ–è€…éœ€è¦å®ç°åŠ¨æ€ä»»åŠ¡ä¾èµ–å…³ç³»çš„åœºæ™¯ã€‚åœ¨è¿™äº›æƒ…å†µä¸‹ï¼Œå¯èƒ½éœ€è¦å¯»æ‰¾å…¶ä»–å¹¶å‘å’ŒåŒæ­¥è§£å†³æ–¹æ¡ˆã€‚</li><li>è™½ç„¶<code>std::future</code>æä¾›äº†å¼‚å¸¸å¤„ç†æœºåˆ¶ï¼Œä½†éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä¸€æ—¦<code>std::future::get()</code>å‡½æ•°é‡æ–°æŠ›å‡ºå¼‚å¸¸ï¼Œè¯¥å¼‚å¸¸éœ€è¦åœ¨è°ƒç”¨<code>get()</code>çš„çº¿ç¨‹ä¸­è¿›è¡Œæ•è·å’Œå¤„ç†ã€‚è¿™æ„å‘³ç€éœ€è¦åœ¨ä¸»çº¿ç¨‹å’Œå…¶ä»–çº¿ç¨‹ä¸­è®¾ç½®é€‚å½“çš„å¼‚å¸¸å¤„ç†ç­–ç•¥ï¼Œä»¥ç¡®ä¿ç¨‹åºçš„ç¨³å®šæ€§å’Œå¥å£®æ€§ã€‚</li></ol><h1 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h1><h2 id="std-shared-future"><a href="#std-shared-future" class="headerlink" title="std::shared_future"></a>std::shared_future</h2><p><code>std::shared_future</code>æ˜¯<code>std::future</code>çš„ä¸€ä¸ªå˜ä½“ï¼Œå…è®¸å¤šä¸ªçº¿ç¨‹å…±äº«åŒä¸€ä¸ªå¼‚æ­¥æ“ä½œçš„ç»“æœã€‚ä¸<code>std::future</code>ä¸åŒï¼Œ<code>std::shared_future</code>å¯¹è±¡å¯ä»¥è¢«æ‹·è´ï¼Œå› æ­¤å¯ä»¥å°†å…¶å­˜å‚¨åœ¨å®¹å™¨ä¸­æˆ–åœ¨å¤šä¸ªçº¿ç¨‹ä¹‹é—´ä¼ é€’ã€‚æ­¤å¤–ï¼Œ<code>std::shared_future::get()</code>å‡½æ•°å¯ä»¥è¢«å¤šæ¬¡è°ƒç”¨ï¼Œè€Œä¸ä¼šä½¿<code>std::shared_future</code>å¯¹è±¡å˜ä¸ºæ— æ•ˆçŠ¶æ€ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;future&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;thread&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">print_result</span><span class="params">(std::shared_future&lt;<span class="type">int</span>&gt; result_future)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> result = result_future.<span class="built_in">get</span>();</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;Result: &quot;</span> &lt;&lt; result &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    std::promise&lt;<span class="type">int</span>&gt; result_promise;</span><br><span class="line">    std::shared_future&lt;<span class="type">int</span>&gt; result_future = result_promise.<span class="built_in">get_future</span>().<span class="built_in">share</span>();</span><br><span class="line"></span><br><span class="line">    <span class="function">std::thread <span class="title">t1</span><span class="params">(print_result, result_future)</span></span>;</span><br><span class="line">    <span class="function">std::thread <span class="title">t2</span><span class="params">(print_result, result_future)</span></span>;</span><br><span class="line"></span><br><span class="line">    result_promise.<span class="built_in">set_value</span>(<span class="number">42</span>);</span><br><span class="line"></span><br><span class="line">    t1.<span class="built_in">join</span>();</span><br><span class="line">    t2.<span class="built_in">join</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h2 id="std-future-status"><a href="#std-future-status" class="headerlink" title="std::future_status"></a>std::future_status</h2><p><code>std::future_status</code>æ˜¯ä¸€ä¸ªæšä¸¾ç±»å‹ï¼Œè¡¨ç¤ºå¼‚æ­¥æ“ä½œçš„çŠ¶æ€ã€‚å®ƒæœ‰ä¸‰ä¸ªå¯èƒ½çš„å€¼ï¼š</p><ul><li><code>std::future_status::ready</code>ï¼šå¼‚æ­¥æ“ä½œå·²å®Œæˆï¼Œç»“æœå¯ç”¨ã€‚</li><li><code>std::future_status::timeout</code>ï¼šå¼‚æ­¥æ“ä½œå°šæœªå®Œæˆï¼Œç­‰å¾…å·²è¶…æ—¶ã€‚</li><li><code>std::future_status::deferred</code>ï¼šå¼‚æ­¥æ“ä½œå·²è¢«å»¶è¿Ÿï¼Œå°šæœªå¯åŠ¨ï¼ˆä»…å½“ä½¿ç”¨<code>std::launch::deferred</code>ç­–ç•¥åˆ›å»º<code>std::future</code>å¯¹è±¡æ—¶æ‰å¯èƒ½å‡ºç°ï¼‰ã€‚</li></ul><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>std::future::wait_for()</code>å’Œ<code>std::future::wait_until()</code>å‡½æ•°æŸ¥è¯¢å¼‚æ­¥æ“ä½œçš„çŠ¶æ€ï¼Œè€Œæ— éœ€é˜»å¡å½“å‰çº¿ç¨‹ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;future&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;chrono&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">long_running_task</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    std::this_thread::<span class="built_in">sleep_for</span>(std::chrono::<span class="built_in">seconds</span>(<span class="number">3</span>));</span><br><span class="line">    <span class="keyword">return</span> <span class="number">42</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    std::future&lt;<span class="type">int</span>&gt; result_future = std::<span class="built_in">async</span>(std::launch::async, long_running_task);</span><br><span class="line"></span><br><span class="line">    std::<span class="function">chrono::milliseconds <span class="title">timeout</span><span class="params">(<span class="number">1000</span>)</span></span>;</span><br><span class="line">    std::future_status status = result_future.<span class="built_in">wait_for</span>(timeout);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (status == std::future_status::ready) &#123;</span><br><span class="line">        <span class="type">int</span> result = result_future.<span class="built_in">get</span>();</span><br><span class="line">        std::cout &lt;&lt; <span class="string">&quot;Result: &quot;</span> &lt;&lt; result &lt;&lt; std::endl;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        std::cerr &lt;&lt; <span class="string">&quot;Timeout: the task is still running&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">// ç­‰å¾…ä»»åŠ¡å®Œæˆï¼Œä»¥ä¾¿æ­£ç¡®è·å–ç»“æœ</span></span><br><span class="line"><span class="type">int</span> result = result_future.<span class="built_in">get</span>();</span><br><span class="line">std::cout &lt;&lt; <span class="string">&quot;Final result: &quot;</span> &lt;&lt; result &lt;&lt; std::endl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure><p>åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†<code>std::future::wait_for()</code>å‡½æ•°æ¥æŸ¥è¯¢å¼‚æ­¥æ“ä½œçš„çŠ¶æ€ã€‚å¦‚æœçŠ¶æ€ä¸º<code>std::future_status::ready</code>ï¼Œæˆ‘ä»¬å¯ä»¥ç«‹å³è·å–ç»“æœã€‚å¦åˆ™ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ç­‰å¾…æœŸé—´æ‰§è¡Œå…¶ä»–ä»»åŠ¡ï¼Œä»¥æé«˜ç¨‹åºçš„å“åº”æ€§å’Œå¹¶å‘æ€§èƒ½ã€‚æœ€åï¼Œåœ¨é€€å‡º<code>main</code>å‡½æ•°ä¹‹å‰ï¼Œæˆ‘ä»¬ä¼šè°ƒç”¨<code>result_future.get()</code>ä»¥ç¡®ä¿æ­£ç¡®è·å–å¼‚æ­¥æ“ä½œçš„ç»“æœã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> CPP </category>
          
          <category> std </category>
          
      </categories>
      
      
        <tags>
            
            <tag> cpp </tag>
            
            <tag> future </tag>
            
            <tag> std </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é˜Ÿåˆ—å’Œæ ˆçš„äº’ç›¸å®ç°</title>
      <link href="/Code/CPP/STL/%E9%98%9F%E5%88%97%E5%92%8C%E6%A0%88%E7%9A%84%E4%BA%92%E7%9B%B8%E5%AE%9E%E7%8E%B0/"/>
      <url>/Code/CPP/STL/%E9%98%9F%E5%88%97%E5%92%8C%E6%A0%88%E7%9A%84%E4%BA%92%E7%9B%B8%E5%AE%9E%E7%8E%B0/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æ¦‚è¿°ï¼š1. ç”¨é˜Ÿåˆ—å®ç°æ ˆï¼›2. ç”¨æ ˆå®ç°é˜Ÿåˆ—</p><p>é˜Ÿåˆ—: å…ˆè¿›å…ˆå‡º</p><p>æ ˆï¼šå…ˆè¿›åå‡º</p></blockquote><h1 id="é˜Ÿåˆ—å®ç°æ ˆ"><a href="#é˜Ÿåˆ—å®ç°æ ˆ" class="headerlink" title="é˜Ÿåˆ—å®ç°æ ˆ"></a>é˜Ÿåˆ—å®ç°æ ˆ</h1><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>1. </p><h2 id="å®ç°"><a href="#å®ç°" class="headerlink" title="å®ç°"></a>å®ç°</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyStack</span> &#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">Push</span><span class="params">(<span class="type">int</span> val)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(queueSta.<span class="built_in">empty</span>())</span><br><span class="line">        &#123;</span><br><span class="line">            queueSta.<span class="built_in">push</span>(val);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">int</span> cnt = queueSta.<span class="built_in">size</span>();</span><br><span class="line">            queueSta.<span class="built_in">push</span>(val);</span><br><span class="line">            <span class="keyword">while</span>(cnt-- &gt; <span class="number">0</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                queueSta.<span class="built_in">push</span>(queueSta.<span class="built_in">front</span>());</span><br><span class="line">                queueSta.<span class="built_in">pop</span>();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">Pop</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="type">int</span> res = queueSta.<span class="built_in">front</span>();</span><br><span class="line">        queueSta.<span class="built_in">pop</span>();</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">Empty</span><span class="params">()</span> </span>&#123;<span class="keyword">return</span> queueSta.<span class="built_in">empty</span>();&#125;;</span><br><span class="line">  </span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">  queue&lt;<span class="type">int</span>&gt; queueSta;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h1 id="æ ˆå®ç°é˜Ÿåˆ—"><a href="#æ ˆå®ç°é˜Ÿåˆ—" class="headerlink" title="æ ˆå®ç°é˜Ÿåˆ—"></a>æ ˆå®ç°é˜Ÿåˆ—</h1><h2 id="æ€è·¯-1"><a href="#æ€è·¯-1" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><h2 id="å®ç°-1"><a href="#å®ç°-1" class="headerlink" title="å®ç°"></a>å®ç°</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MyQueue</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="function"><span class="type">void</span> <span class="title">Push</span><span class="params">(<span class="type">int</span> val)</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">      sta1.<span class="built_in">push</span>(val);</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="type">int</span> <span class="title">Pop</span><span class="params">()</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">      <span class="keyword">if</span>(sta2.<span class="built_in">empty</span>())</span><br><span class="line">      &#123;</span><br><span class="line">          <span class="keyword">while</span>(!sta1.<span class="built_in">empty</span>())</span><br><span class="line">          &#123;</span><br><span class="line">              sta2.<span class="built_in">push</span>(sta1.<span class="built_in">top</span>());</span><br><span class="line">              sta1.<span class="built_in">pop</span>();</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      </span><br><span class="line">      <span class="type">int</span> res = sta2.<span class="built_in">top</span>();</span><br><span class="line">      sta2.<span class="built_in">pop</span>();</span><br><span class="line">      <span class="keyword">return</span> res;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    stack&lt;<span class="type">int</span>&gt; sta1,sta2;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> CPP </category>
          
          <category> STL </category>
          
      </categories>
      
      
        <tags>
            
            <tag> cpp </tag>
            
            <tag> é˜Ÿåˆ— </tag>
            
            <tag> æ ˆ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++å¼€å‘å·¥ä½œç»éªŒ</title>
      <link href="/Code/CPP/README/"/>
      <url>/Code/CPP/README/</url>
      
        <content type="html"><![CDATA[<ol><li><h2 id="ç¡çœ "><a href="#ç¡çœ " class="headerlink" title="ç¡çœ "></a>ç¡çœ </h2></li></ol><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">å¤´æ–‡ä»¶å®šä¹‰ï¼š</span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;thread&gt;</span></span></span><br><span class="line">std::this_thread::<span class="built_in">sleep_for</span>(std::chrono::<span class="built_in">milliseconds</span>(<span class="number">1000</span>));<span class="comment">//ç¡çœ 1000æ¯«ç§’ï¼ˆ1ç§’ï¼‰</span></span><br><span class="line">ç­‰åŒï¼š</span><br><span class="line">std::<span class="function">chrono::milliseconds <span class="title">dura</span><span class="params">(<span class="number">1000</span>)</span></span>;</span><br><span class="line">std::this_thread::<span class="built_in">sleep_for</span>(dura);</span><br></pre></td></tr></table></figure><h2 id="2-éšæœºå­—ç¬¦ä¸²"><a href="#2-éšæœºå­—ç¬¦ä¸²" class="headerlink" title="2. éšæœºå­—ç¬¦ä¸²"></a>2. éšæœºå­—ç¬¦ä¸²</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">std::string <span class="title">SPString::RandomString</span><span class="params">(<span class="type">int</span> length)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">std::string chars&#123; <span class="string">&quot;abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890&quot;</span> &#125;;</span><br><span class="line">std::random_device rd;</span><br><span class="line"><span class="function">std::mt19937 <span class="title">generator</span><span class="params">(rd())</span></span>;</span><br><span class="line">std::string output;</span><br><span class="line"></span><br><span class="line">output.<span class="built_in">reserve</span>(length);</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> len_chars = chars.<span class="built_in">length</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> (length &gt; <span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">auto</span> randNumb = <span class="built_in">generator</span>();</span><br><span class="line"><span class="keyword">while</span> (randNumb &gt; len_chars &amp;&amp; length--)</span><br><span class="line">&#123;</span><br><span class="line">output.<span class="built_in">push_back</span>(chars[randNumb % len_chars]);</span><br><span class="line">randNumb /= len_chars;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> output;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="3-éšæœºæ•°"><a href="#3-éšæœºæ•°" class="headerlink" title="3. éšæœºæ•°"></a>3. éšæœºæ•°</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç”Ÿæˆéšæœºæ•°  </span></span><br><span class="line">std::random_device rd;</span><br><span class="line"><span class="function">std::mt19937 <span class="title">gen</span><span class="params">(rd())</span></span>;</span><br><span class="line">std::uniform_int_distribution&lt;&gt; <span class="built_in">dis</span>(<span class="number">0</span>, <span class="number">999</span>);</span><br><span class="line"><span class="type">int</span> nId = <span class="built_in">dis</span>(gen);</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> CPP </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>C++å¸¸ç”¨å†™æ³•æ•´ç†</title>
      <link href="/Code/CPP/STL/thread/C++%E5%B8%B8%E7%94%A8%E5%86%99%E6%B3%95%E6%95%B4%E7%90%86/"/>
      <url>/Code/CPP/STL/thread/C++%E5%B8%B8%E7%94%A8%E5%86%99%E6%B3%95%E6%95%B4%E7%90%86/</url>
      
        <content type="html"><![CDATA[<p>[toc]</p><h1 id="çº¿ç¨‹ç¡çœ "><a href="#çº¿ç¨‹ç¡çœ " class="headerlink" title="çº¿ç¨‹ç¡çœ "></a>çº¿ç¨‹ç¡çœ </h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">å¤´æ–‡ä»¶å®šä¹‰ï¼š</span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;thread&gt;</span></span></span><br><span class="line">std::this_thread::<span class="built_in">sleep_for</span>(std::chrono::<span class="built_in">milliseconds</span>(<span class="number">1000</span>));<span class="comment">//ç¡çœ 1000æ¯«ç§’ï¼ˆ1ç§’ï¼‰</span></span><br><span class="line">ç­‰åŒï¼š</span><br><span class="line">std::<span class="function">chrono::milliseconds <span class="title">dura</span><span class="params">(<span class="number">1000</span>)</span></span>;</span><br><span class="line">std::this_thread::<span class="built_in">sleep_for</span>(dura);</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> CPP </category>
          
          <category> STL </category>
          
          <category> thread </category>
          
      </categories>
      
      
        <tags>
            
            <tag> stl </tag>
            
            <tag> thread </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å­—ç¬¦ä¸²ç±»å‹è½¬æ¢æ•´ç†(charã€TCHARã€stringã€wstringã€CStringã€WCHAR)</title>
      <link href="/Code/CPP/C++%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%B1%BB%E5%9E%8B%E7%9B%B8%E4%BA%92%E8%BD%AC%E6%8D%A2/"/>
      <url>/Code/CPP/C++%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%B1%BB%E5%9E%8B%E7%9B%B8%E4%BA%92%E8%BD%AC%E6%8D%A2/</url>
      
        <content type="html"><![CDATA[<p>[TOC]</p><h1 id="string-lt-â€“-gt-CString"><a href="#string-lt-â€“-gt-CString" class="headerlink" title="string &lt;â€“&gt; CString"></a>string &lt;â€“&gt; CString</h1><h2 id="string-gt-CString"><a href="#string-gt-CString" class="headerlink" title="string -&gt; CString"></a>string -&gt; CString</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">std::string str = <span class="string">&quot;string&quot;</span>;</span><br><span class="line">CString csRet;</span><br><span class="line"><span class="comment">// csRet.Format(&quot;%s&quot;, str.c_str());</span></span><br><span class="line"><span class="comment">// å¦‚æœä¸Šå¥æŠ¥é”™å°±ä½¿ç”¨</span></span><br><span class="line">csRet.<span class="built_in">Format</span>(_T(<span class="string">&quot;%s&quot;</span>), str.<span class="built_in">c_str</span>());</span><br></pre></td></tr></table></figure><h2 id="CString-gt-string"><a href="#CString-gt-string" class="headerlink" title="CString -&gt; string"></a>CString -&gt; string</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">CString <span class="title">cstr</span><span class="params">(<span class="string">&quot;string&quot;</span>)</span></span>;</span><br><span class="line"></span><br><span class="line">string </span><br></pre></td></tr></table></figure><h1 id="string-lt-â€“-gt-wstring"><a href="#string-lt-â€“-gt-wstring" class="headerlink" title="string &lt; â€“ &gt; wstring"></a>string &lt; â€“ &gt; wstring</h1><h2 id="string-gt-wstring"><a href="#string-gt-wstring" class="headerlink" title="string -&gt; wstring"></a>string -&gt; wstring</h2><p>solution 1ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;locale&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;codecvt&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="comment">//convert string to wstring</span></span><br><span class="line"><span class="function"><span class="keyword">inline</span> std::wstring <span class="title">to_wide_string</span><span class="params">(<span class="type">const</span> std::string&amp; input)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">std::wstring_convert&lt;std::codecvt_utf8&lt;<span class="type">wchar_t</span>&gt;&gt; converter;</span><br><span class="line"><span class="keyword">return</span> converter.<span class="built_in">from_bytes</span>(input);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>solution 2:</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">wstring <span class="title">stringToWstring</span><span class="params">(std::string str)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    wstring result = <span class="string">L&quot;&quot;</span>;</span><br><span class="line">    <span class="type">int</span> nLen = <span class="built_in">MultiByteToWideChar</span>(CP_ACP, <span class="number">0</span>, str.<span class="built_in">c_str</span>(), str.<span class="built_in">size</span>(), <span class="literal">NULL</span>, <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (nLen == <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line"></span><br><span class="line">    TCHAR* buffer = <span class="keyword">new</span> TCHAR[nLen + <span class="number">1</span>];</span><br><span class="line">    <span class="built_in">MultiByteToWideChar</span>(CP_ACP, <span class="number">0</span>, str.<span class="built_in">c_str</span>(), str.<span class="built_in">size</span>(), buffer, nLen);</span><br><span class="line"></span><br><span class="line">    buffer[nLen] = <span class="string">&#x27;\0&#x27;</span>;</span><br><span class="line">    result.<span class="built_in">append</span>(buffer);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">delete</span>[] buffer;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="wstring-gt-string"><a href="#wstring-gt-string" class="headerlink" title="wstring -&gt; string"></a>wstring -&gt; string</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//convert wstring to string </span></span><br><span class="line"><span class="function"><span class="keyword">inline</span> std::string <span class="title">to_byte_string</span><span class="params">(<span class="type">const</span> std::wstring&amp; input)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">std::wstring_convert&lt;std::codecvt_utf8&lt;<span class="type">wchar_t</span>&gt;&gt; converter;</span><br><span class="line"><span class="keyword">return</span> converter.<span class="built_in">to_bytes</span>(input);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="DWORD-lt-â€”-gt-string"><a href="#DWORD-lt-â€”-gt-string" class="headerlink" title="DWORD &lt;â€”&gt; string"></a>DWORD &lt;â€”&gt; string</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">string <span class="title">DwordToString</span><span class="params">(DWORD val)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">string cur_str = <span class="built_in">to_string</span>(<span class="type">long</span> <span class="built_in">long</span> (val));</span><br><span class="line"><span class="keyword">return</span> cur_str;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">DWORD <span class="title">StringToDword</span><span class="params">(string val)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">DWORD cur_dword;</span><br><span class="line"><span class="built_in">sscanf</span>(val.<span class="built_in">c_str</span>(),<span class="string">&quot;%ul&quot;</span>,&amp;cur_dword);</span><br><span class="line"><span class="keyword">return</span> cur_dword;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ›´å¤šæŸ¥çœ‹å·²å®ç°çš„ç¼–ç è½¬æ¢æ–‡ä»¶ï¼š</p><p><a href="../../../Demo/Visual%20Studio/Utils/win_str_utills/README">win_str_utils</a></p><p><a href="../../../Demo/Visual%20Studio/Utils/win_str_utills/README.md">win_str_utils.md</a></p>]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> CPP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> String </tag>
            
            <tag> C++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Lambdaè¡¨è¾¾å¼</title>
      <link href="/Code/CPP/Lambda%E8%A1%A8%E8%BE%BE%E5%BC%8F/"/>
      <url>/Code/CPP/Lambda%E8%A1%A8%E8%BE%BE%E5%BC%8F/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æ¦‚è¿°ï¼šlambdaè¡¨è¾¾å¼ä½¿ç”¨åŠè¯´æ˜</p></blockquote><p>[toc]</p><h1 id="lambdaè¡¨è¾¾å¼è¯´æ˜"><a href="#lambdaè¡¨è¾¾å¼è¯´æ˜" class="headerlink" title="lambdaè¡¨è¾¾å¼è¯´æ˜"></a>lambdaè¡¨è¾¾å¼è¯´æ˜</h1><p>lambdaè¡¨è¾¾å¼çš„ç»“æ„å¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">auto</span> func = [capture] (params) opt -&gt; ret &#123; func_body; &#125;;</span><br></pre></td></tr></table></figure><p>å…¶ä¸­ func æ˜¯å¯ä»¥å½“ä½œ lambda è¡¨è¾¾å¼çš„åå­—ï¼Œä½œä¸ºä¸€ä¸ªå‡½æ•°ä½¿ç”¨ï¼Œcapture æ˜¯æ•è·åˆ—è¡¨ï¼Œparams æ˜¯å‚æ•°è¡¨ï¼Œoptï¼š ä¸éœ€è¦å¯ä»¥çœç•¥ã€‚ ï¼ˆmutable: å¯ä»¥ä¿®æ”¹æŒ‰å€¼ä¼ é€’è¿›æ¥çš„æ‹·è´ï¼ˆæ³¨æ„æ˜¯èƒ½ä¿®æ”¹æ‹·è´ï¼Œè€Œä¸æ˜¯å€¼æœ¬èº«ï¼‰exception: æŒ‡å®šå‡½æ•°æŠ›å‡ºçš„å¼‚å¸¸ï¼Œå¦‚æŠ›å‡ºæ•´æ•°ç±»å‹çš„å¼‚å¸¸ï¼Œå¯ä»¥ä½¿ç”¨ throw ()ï¼‰ï¼Œ ret æ˜¯è¿”å›å€¼ç±»å‹ï¼Œfunc_body æ˜¯å‡½æ•°ä½“ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">auto</span> f = [](<span class="type">int</span> a) -&gt; <span class="type">int</span> &#123; <span class="keyword">return</span> a + <span class="number">1</span>; &#125;;</span><br><span class="line">std::cout &lt;&lt; <span class="built_in">f</span>(<span class="number">1</span>) &lt;&lt; std::endl;  <span class="comment">// è¾“å‡º: 2</span></span><br></pre></td></tr></table></figure><h1 id="ä½¿ç”¨-lambda-è¡¨è¾¾å¼æ•è·åˆ—è¡¨"><a href="#ä½¿ç”¨-lambda-è¡¨è¾¾å¼æ•è·åˆ—è¡¨" class="headerlink" title="ä½¿ç”¨ lambda è¡¨è¾¾å¼æ•è·åˆ—è¡¨"></a>ä½¿ç”¨ lambda è¡¨è¾¾å¼æ•è·åˆ—è¡¨</h1><p>lambda è¡¨è¾¾å¼è¿˜å¯ä»¥é€šè¿‡æ•è·åˆ—è¡¨æ•è·ä¸€å®šèŒƒå›´å†…çš„å˜é‡ï¼š</p><ul><li>[] ä¸æ•è·ä»»ä½•å˜é‡ã€‚</li><li>[&amp;] æ•è·å¤–éƒ¨ä½œç”¨åŸŸä¸­æ‰€æœ‰å˜é‡ï¼Œå¹¶ä½œä¸ºå¼•ç”¨åœ¨å‡½æ•°ä½“ä¸­ä½¿ç”¨ï¼ˆæŒ‰å¼•ç”¨æ•è·ï¼‰ã€‚</li><li>[&#x3D;] æ•è·å¤–éƒ¨ä½œç”¨åŸŸä¸­æ‰€æœ‰å˜é‡ï¼Œå¹¶ä½œä¸ºå‰¯æœ¬åœ¨å‡½æ•°ä½“ä¸­ä½¿ç”¨ï¼ˆæŒ‰å€¼æ•è·ï¼‰ã€‚</li><li>[&#x3D;ï¼Œ&amp;foo] æŒ‰å€¼æ•è·å¤–éƒ¨ä½œç”¨åŸŸä¸­æ‰€æœ‰å˜é‡ï¼Œå¹¶æŒ‰å¼•ç”¨æ•è· foo å˜é‡ã€‚</li><li>[bar] æŒ‰å€¼æ•è· bar å˜é‡ï¼ŒåŒæ—¶ä¸æ•è·å…¶ä»–å˜é‡ã€‚</li><li>[this] æ•è·å½“å‰ç±»ä¸­çš„ this æŒ‡é’ˆï¼Œè®© lambda è¡¨è¾¾å¼æ‹¥æœ‰å’Œå½“å‰ç±»æˆå‘˜å‡½æ•°åŒæ ·çš„è®¿é—®æƒé™ã€‚å¦‚æœå·²ç»ä½¿ç”¨äº† &amp; æˆ–è€… &#x3D;ï¼Œå°±é»˜è®¤æ·»åŠ æ­¤é€‰é¡¹ã€‚æ•è· this çš„ç›®çš„æ˜¯å¯ä»¥åœ¨ lamda ä¸­ä½¿ç”¨å½“å‰ç±»çš„æˆå‘˜å‡½æ•°å’Œæˆå‘˜å˜é‡ã€‚</li></ul><h2 id="æ•è·åˆ—è¡¨ä½¿ç”¨å®ä¾‹"><a href="#æ•è·åˆ—è¡¨ä½¿ç”¨å®ä¾‹" class="headerlink" title="æ•è·åˆ—è¡¨ä½¿ç”¨å®ä¾‹"></a>æ•è·åˆ—è¡¨ä½¿ç”¨å®ä¾‹</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;functional&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">lambdaTest</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">output</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">//auto x1 = [] &#123;return m_number; &#125;;// error</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">auto</span> x2 = [=] &#123;<span class="keyword">return</span> m_number + x + y; &#125;;<span class="comment">// ok</span></span><br><span class="line"><span class="comment">// auto x3 = [=] &#123; x = 2; return m_number + x + y; &#125;;// error</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">auto</span> x4 = [&amp;] &#123;<span class="keyword">return</span> m_number + x + y; &#125;;<span class="comment">// ok</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">auto</span> x5 = [<span class="keyword">this</span>] &#123;<span class="keyword">return</span> m_number; &#125;;<span class="comment">// ok</span></span><br><span class="line"><span class="comment">//auto x6 = [this] &#123;return m_number + x + y; &#125;;// error</span></span><br><span class="line"><span class="keyword">auto</span> x7 = [<span class="keyword">this</span>, x, y] &#123;<span class="keyword">return</span> m_number + x + y; &#125;;<span class="comment">// ok</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> m_number = <span class="number">100</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">lambdaTest test;</span><br><span class="line"></span><br><span class="line">test.<span class="built_in">output</span>(<span class="number">1</span>,<span class="number">2</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><table><thead><tr><th align="center">å‡½æ•°</th><th>æ˜¯å¦å¯è¯»</th><th>æ˜¯å¦å¯ä¿®æ”¹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td align="center">x1</td><td>:x:</td><td>:x:</td><td>é”™è¯¯ï¼Œæ²¡æœ‰æ•è·å¤–éƒ¨å˜é‡ï¼Œä¸èƒ½ä½¿ç”¨ä»»ä½•å¤–éƒ¨å˜é‡</td></tr><tr><td align="center">x2</td><td>:heavy_check_mark:</td><td>:x:</td><td>æ­£ç¡®ï¼Œå€¼ä¼ é€’ï¼Œå¯ä»¥è®¿é—®æ‰€æœ‰å¤–éƒ¨å˜é‡</td></tr><tr><td align="center">x3</td><td>:heavy_check_mark:</td><td>:x:</td><td>é”™è¯¯ï¼Œå€¼ä¼ é€’ï¼Œå³å€¼å¯è¯»ä¸å¯ä¿®æ”¹</td></tr><tr><td align="center">x4</td><td>:heavy_check_mark:</td><td>:heavy_check_mark:</td><td>æ­£ç¡®ï¼Œå¼•ç”¨ä¼ é€’ï¼Œå¯è¯»å¯ä¿®æ”¹</td></tr><tr><td align="center">x5</td><td>:heavy_check_mark: thisæŒ‡é’ˆçš„æˆå‘˜å˜é‡å¯è¯»<br />:x: å…¶ä»–å˜é‡ä¸å¯è¯»</td><td>:heavy_check_mark: thisæŒ‡é’ˆçš„æˆå‘˜å¯å†™<br />:x: å…¶ä»–å˜é‡ä¸å¯å†™</td><td>æ­£ç¡®ï¼Œæ•è·thisæŒ‡é’ˆï¼Œå¯è®¿é—®thisæŒ‡é’ˆçš„æˆå‘˜</td></tr><tr><td align="center">x6</td><td>åŒ <code>x5</code></td><td>åŒ <code>x5</code></td><td>é”™è¯¯ï¼Œæ•è· this æŒ‡é’ˆï¼Œ<code>x</code> å’Œ <code>y</code> ä¸æ˜¯å…¶æˆå‘˜å˜é‡ï¼Œä¸å¯è®¿é—®</td></tr><tr><td align="center">x7</td><td>:heavy_check_mark: å€¼ä¼ é€’ä¸‰ä¸ªå˜é‡ï¼Œå‡å¯è¯»</td><td>:heavy_check_mark: thisæŒ‡é’ˆæˆå‘˜å¯ä¿®æ”¹ <br />:x: x å’Œ y ä¸å¯ä¿®æ”¹</td><td>æ­£ç¡®ï¼Œæ•è· this æŒ‡é’ˆï¼Œx,y</td></tr></tbody></table><h2 id="è¿”å›å€¼"><a href="#è¿”å›å€¼" class="headerlink" title="è¿”å›å€¼"></a>è¿”å›å€¼</h2><p>lambdaè¡¨è¾¾å¼çš„è¿”å›å€¼é€šè¿‡ â€˜-&gt;â€™ ä¼ é€’ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">auto</span> add = [](<span class="type">int</span> x, <span class="type">int</span> y) -&gt; <span class="type">int</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> x + y;</span><br><span class="line">&#125;ï¼›</span><br></pre></td></tr></table></figure><p>å¦‚ä¸Šæ‰€ç¤ºçš„è¿”å›ç±»å‹è¿˜å¯ä»¥ä½¿ç”¨ <code>decltype</code> æ¨å¯¼è¿”å›ç±»å‹ï¼š</p><blockquote><p><code>decltype</code> æ˜¯ä¸€ä¸ª C++ å…³é”®å­—ï¼Œå®ƒç”¨äºåœ¨ç¼–è¯‘æ—¶æ¨æ–­è¡¨è¾¾å¼çš„ç±»å‹ã€‚è¿™åœ¨ç¼–å†™é€šç”¨ä»£ç æ—¶éå¸¸æœ‰ç”¨ï¼Œç‰¹åˆ«æ˜¯åœ¨ä½¿ç”¨ C++11 å¼•å…¥çš„ <code>auto</code> å…³é”®å­—å’ŒèŒƒå›´ for å¾ªç¯æ—¶ã€‚</p></blockquote><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">auto</span> add = [](<span class="type">int</span> x, <span class="type">int</span> y) -&gt; <span class="keyword">decltype</span>(x+y) &#123;</span><br><span class="line">    <span class="keyword">return</span> x + y;</span><br><span class="line">&#125;ï¼›</span><br></pre></td></tr></table></figure><p>è¯´æ˜ï¼š<code>decltype(a + b)</code> æ¨å¯¼äº† <code>a + b</code> çš„ç»“æœç±»å‹ï¼Œå¹¶å°†è¯¥ç±»å‹ä½œä¸º lambda å‡½æ•°çš„è¿”å›ç±»å‹ã€‚</p><p>ç”šè‡³ï¼Œä» C++14 å¼€å§‹ï¼Œè¿˜å¯ä»¥ä½¿ç”¨æ›´ç®€æ´çš„æ–¹å¼æ¥æ¨å¯¼ lambda å‡½æ•°çš„è¿”å›ç±»å‹ï¼Œå³ä½¿ç”¨ <code>auto</code> å…³é”®å­—ã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">auto</span> myLambda = [](<span class="type">int</span> a, <span class="type">int</span> b) -&gt; <span class="keyword">auto</span> &#123; <span class="keyword">return</span> a + b; &#125;;</span><br></pre></td></tr></table></figure><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä½¿ç”¨ <code>auto</code> æ¨å¯¼è¿”å›ç±»å‹çš„ lambda å‡½æ•°åœ¨æŸäº›æƒ…å†µä¸‹å¯èƒ½ä¼šå¼•å‘æ­§ä¹‰ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ åœ¨ lambda è¡¨è¾¾å¼ä¸­è¿”å›ä¸€ä¸ªåµŒå¥—ç±»å‹ï¼ˆå¦‚ <code>std::pair</code>ï¼‰ï¼Œ<code>auto</code> å¯èƒ½ä¼šè¢«æ¨å¯¼ä¸º <code>std::pair</code>ï¼Œè€Œä¸æ˜¯ä½ æœŸæœ›çš„åµŒå¥—ç±»å‹çš„å…·ä½“ç±»å‹ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä½¿ç”¨ <code>decltype</code> å¯ä»¥æ›´æ˜ç¡®åœ°æŒ‡å®šè¿”å›ç±»å‹ã€‚</p><h2 id="å…¶ä»–å…³é”®å­—"><a href="#å…¶ä»–å…³é”®å­—" class="headerlink" title="å…¶ä»–å…³é”®å­—"></a>å…¶ä»–å…³é”®å­—</h2><p>ä½¿ç”¨ lambda è¡¨è¾¾å¼æ•è·åˆ—è¡¨æ•è·å¤–éƒ¨å˜é‡ï¼Œå¦‚æœå¸Œæœ›å»ä¿®æ”¹æŒ‰å€¼æ•è·çš„å¤–éƒ¨å˜é‡ï¼Œé‚£ä¹ˆåº”è¯¥å¦‚ä½•å¤„ç†å‘¢ï¼Ÿè¿™å°±éœ€è¦ä½¿ç”¨ mutable é€‰é¡¹ï¼Œ<code>è¢«mutableä¿®æ”¹æ˜¯lambdaè¡¨è¾¾å¼å°±ç®—æ²¡æœ‰å‚æ•°ä¹Ÿè¦å†™æ˜å‚æ•°åˆ—è¡¨ï¼Œå¹¶ä¸”å¯ä»¥å»æ‰æŒ‰å€¼æ•è·çš„å¤–éƒ¨å˜é‡çš„åªè¯»ï¼ˆconstï¼‰å±æ€§ã€‚</code></p><h3 id="mutable"><a href="#mutable" class="headerlink" title="mutable"></a>mutable</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> a = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">auto</span> f1 = [=] &#123;<span class="keyword">return</span> a++; &#125;;              <span class="comment">// error, æŒ‰å€¼æ•è·å¤–éƒ¨å˜é‡, aæ˜¯åªè¯»çš„</span></span><br><span class="line"><span class="keyword">auto</span> f2 = [=]()<span class="keyword">mutable</span> &#123;<span class="keyword">return</span> a++; &#125;;     <span class="comment">// ok</span></span><br></pre></td></tr></table></figure><p>:tipping_hand_man: æ³¨æ„ï¼šmutable åªæ˜¯å…è®¸åœ¨å‡½æ•°å†…éƒ¨ä¿®æ”¹å€¼è€Œå·²ï¼Œä½œç”¨åŸŸä»…é™äº lambda å‡½æ•°å†…éƒ¨ï¼Œå‚è€ƒä»¥ä¸‹ä»£ç åŠè¾“å‡ºï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">lambdaFunc</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">auto</span> add1 = [](<span class="type">int</span> x, <span class="type">int</span> y) -&gt; <span class="type">int</span> &#123; <span class="keyword">return</span> x + y;&#125;;</span><br><span class="line"><span class="keyword">auto</span> add2 = [](<span class="type">int</span> x, <span class="type">int</span> y) -&gt; <span class="keyword">decltype</span>(x + y) &#123; <span class="keyword">return</span> x + y;&#125;;</span><br><span class="line"><span class="keyword">auto</span> add3 = [](<span class="type">int</span> a, <span class="type">int</span> b) -&gt; <span class="keyword">auto</span> &#123; <span class="keyword">return</span> a + b; &#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">auto</span> modify_add = [](<span class="type">int</span> a, <span class="type">int</span> b)  <span class="keyword">mutable</span> -&gt; <span class="keyword">auto</span> &#123; a = <span class="number">3</span>; <span class="keyword">return</span> a + b; &#125;;</span><br><span class="line"><span class="keyword">auto</span> value_modify_add = [=](<span class="type">int</span> a, <span class="type">int</span> b)  <span class="keyword">mutable</span> -&gt; <span class="keyword">auto</span> &#123; a = <span class="number">4</span>; <span class="keyword">return</span> a + b; &#125;;</span><br><span class="line"><span class="keyword">auto</span> refrence_modify_add = [&amp;](<span class="type">int</span> a, <span class="type">int</span> b)  <span class="keyword">mutable</span> -&gt; <span class="keyword">auto</span> &#123; a = <span class="number">5</span>; <span class="keyword">return</span> a + b; &#125;;</span><br><span class="line"><span class="keyword">auto</span> refrence_modify_add_byRef = [&amp;](<span class="type">int</span>&amp; a, <span class="type">int</span> b)  <span class="keyword">mutable</span> -&gt; <span class="keyword">auto</span> &#123; a = <span class="number">6</span>; <span class="keyword">return</span> a + b; &#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> x = <span class="number">2</span>, y = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">cout &lt;&lt; <span class="string">&quot;add1:&quot;</span> &lt;&lt; <span class="built_in">add1</span>(x, y) &lt;&lt; endl; <span class="comment">// add1:4</span></span><br><span class="line">cout &lt;&lt; <span class="string">&quot;add2:&quot;</span> &lt;&lt; <span class="built_in">add2</span>(x, y) &lt;&lt; endl; <span class="comment">// add2:4</span></span><br><span class="line">cout &lt;&lt; <span class="string">&quot;add3:&quot;</span> &lt;&lt; <span class="built_in">add3</span>(x, y) &lt;&lt; endl; <span class="comment">// add3:4</span></span><br><span class="line"></span><br><span class="line">cout &lt;&lt; <span class="string">&quot;modify_add:&quot;</span> &lt;&lt; <span class="built_in">value_modify_add</span>(x, y) &lt;&lt; endl;  <span class="comment">// modify_add:5</span></span><br><span class="line">cout &lt;&lt; <span class="string">&quot;x=&quot;</span> &lt;&lt; x &lt;&lt; endl; <span class="comment">// x=2</span></span><br><span class="line">cout &lt;&lt; <span class="string">&quot;value_modify_add:&quot;</span> &lt;&lt; <span class="built_in">value_modify_add</span>(x, y) &lt;&lt; endl; <span class="comment">// value_modify_add:6</span></span><br><span class="line">cout &lt;&lt; <span class="string">&quot;x=&quot;</span> &lt;&lt; x &lt;&lt; endl; <span class="comment">// x=2</span></span><br><span class="line">cout &lt;&lt; <span class="string">&quot;value_modify_add:&quot;</span> &lt;&lt; <span class="built_in">refrence_modify_add</span>(x, y) &lt;&lt; endl; <span class="comment">// value_modify_add:7</span></span><br><span class="line">cout &lt;&lt; <span class="string">&quot;x=&quot;</span> &lt;&lt; x &lt;&lt; endl; <span class="comment">// x=2</span></span><br><span class="line">cout &lt;&lt; <span class="string">&quot;refrence_modify_add_byRef:&quot;</span> &lt;&lt; <span class="built_in">refrence_modify_add_byRef</span>(x, y) &lt;&lt; endl; <span class="comment">// refrence_modify_add_byRef:8</span></span><br><span class="line">cout &lt;&lt; <span class="string">&quot;x=&quot;</span> &lt;&lt; x &lt;&lt; endl; <span class="comment">// x=6</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å…³äºä¸ºä»€ä¹ˆé€šè¿‡å€¼æ‹·è´çš„æ–¹å¼æ•è·çš„å¤–éƒ¨å˜é‡æ˜¯åªè¯»çš„"><a href="#å…³äºä¸ºä»€ä¹ˆé€šè¿‡å€¼æ‹·è´çš„æ–¹å¼æ•è·çš„å¤–éƒ¨å˜é‡æ˜¯åªè¯»çš„" class="headerlink" title="å…³äºä¸ºä»€ä¹ˆé€šè¿‡å€¼æ‹·è´çš„æ–¹å¼æ•è·çš„å¤–éƒ¨å˜é‡æ˜¯åªè¯»çš„:"></a>å…³äºä¸ºä»€ä¹ˆé€šè¿‡å€¼æ‹·è´çš„æ–¹å¼æ•è·çš„å¤–éƒ¨å˜é‡æ˜¯åªè¯»çš„:</h3><p>lambdaè¡¨è¾¾å¼çš„ç±»å‹åœ¨C++11ä¸­ä¼šè¢«çœ‹åšæ˜¯ä¸€ä¸ªå¸¦ <code>operator()</code> çš„ç±»ï¼Œå³ä»¿å‡½æ•°ã€‚<br>æŒ‰ç…§C++æ ‡å‡†ï¼Œlambdaè¡¨è¾¾å¼çš„ <code>operator()</code> é»˜è®¤æ˜¯ <code>const</code> çš„ï¼Œä¸€ä¸ª <code>const</code> æˆå‘˜å‡½æ•°æ˜¯æ— æ³•ä¿®æ”¹æˆå‘˜å˜é‡å€¼çš„ã€‚<br><code>mutable</code> é€‰é¡¹çš„ä½œç”¨å°±åœ¨äºå–æ¶ˆ <code>operator ()</code> çš„ <code>const</code> å±æ€§ã€‚</p><p>å› ä¸º lambda è¡¨è¾¾å¼åœ¨ C++ ä¸­ä¼šè¢«çœ‹åšæ˜¯ä¸€ä¸ªä»¿å‡½æ•°ï¼Œå› æ­¤å¯ä»¥ä½¿ç”¨<code>std::functionå’Œstd::bind</code>æ¥å­˜å‚¨å’Œæ“ä½œlambdaè¡¨è¾¾å¼ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">testLambdawithfunction</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">// åŒ…è£…å¯è°ƒç”¨å‡½æ•°</span></span><br><span class="line">std::function&lt;<span class="type">int</span>(<span class="type">int</span>)&gt; f1 = [](<span class="type">int</span> a) &#123;<span class="keyword">return</span> a; &#125;;</span><br><span class="line"><span class="comment">// ç»‘å®šå¯è°ƒç”¨å‡½æ•°</span></span><br><span class="line">std::function&lt;<span class="type">int</span>(<span class="type">int</span>)&gt; f2 = <span class="built_in">bind</span>([](<span class="type">int</span> a) &#123;<span class="keyword">return</span> a; &#125;, placeholders::_1);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç»‘å®šå¯ä¿®æ”¹çš„å‡½æ•°</span></span><br><span class="line">std::function&lt;<span class="type">int</span>(<span class="type">int</span>&amp;, <span class="type">int</span>)&gt; f3 = [](<span class="type">int</span>&amp; a, <span class="type">int</span> b) &#123; a = <span class="number">3</span>; <span class="keyword">return</span> a + b; &#125;;</span><br><span class="line"><span class="comment">// ç»‘å®šå¯ä¿®æ”¹çš„å‡½æ•°</span></span><br><span class="line">std::function&lt;<span class="type">int</span>(<span class="type">int</span>&amp;, <span class="type">int</span>)&gt; f4 = <span class="built_in">bind</span>([](<span class="type">int</span>&amp; a, <span class="type">int</span> b) &#123; a = <span class="number">4</span>; <span class="keyword">return</span> a + b; &#125;, std::placeholders::_1, std::placeholders::_2);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> x = <span class="number">2</span>, y = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å‡½æ•°è°ƒç”¨</span></span><br><span class="line">cout &lt;&lt; <span class="string">&quot;f1(100)&quot;</span> &lt;&lt; <span class="built_in">f1</span>(<span class="number">100</span>) &lt;&lt; endl; <span class="comment">// f1(100)100</span></span><br><span class="line">cout &lt;&lt; <span class="string">&quot;f2(200)&quot;</span> &lt;&lt; <span class="built_in">f2</span>(<span class="number">200</span>) &lt;&lt; endl; <span class="comment">// f2(200)200</span></span><br><span class="line">cout &lt;&lt; <span class="string">&quot;f3(x, y)&quot;</span> &lt;&lt; <span class="built_in">f3</span>(x, y) &lt;&lt; endl; <span class="comment">// f3(x, y)5</span></span><br><span class="line">cout &lt;&lt; <span class="string">&quot;x=&quot;</span> &lt;&lt; x &lt;&lt; endl; <span class="comment">// x=3</span></span><br><span class="line">cout &lt;&lt; <span class="string">&quot;f3(x, y)&quot;</span> &lt;&lt; <span class="built_in">f4</span>(x, y) &lt;&lt; endl; <span class="comment">// f3(x, y)6</span></span><br><span class="line">cout &lt;&lt; <span class="string">&quot;x=&quot;</span> &lt;&lt; x &lt;&lt; endl; <span class="comment">// x=4</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯¹äºæ²¡æœ‰æ•è·ä»»ä½•å˜é‡çš„ lambda è¡¨è¾¾å¼ï¼Œè¿˜å¯ä»¥è½¬æ¢æˆä¸€ä¸ªæ™®é€šçš„å‡½æ•°æŒ‡é’ˆï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> func_ptr = <span class="built_in">int</span>(*)(<span class="type">int</span>);</span><br><span class="line"><span class="comment">// æ²¡æœ‰æ•è·ä»»ä½•å¤–éƒ¨å˜é‡çš„åŒ¿åå‡½æ•°</span></span><br><span class="line">func_ptr f = [](<span class="type">int</span> a)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> a;  </span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å‡½æ•°è°ƒç”¨</span></span><br><span class="line"><span class="built_in">f</span>(<span class="number">1314</span>);</span><br></pre></td></tr></table></figure><h1 id="å‚è€ƒæ–‡ç« "><a href="#å‚è€ƒæ–‡ç« " class="headerlink" title="å‚è€ƒæ–‡ç« "></a>å‚è€ƒæ–‡ç« </h1><ul><li><a href="https://blog.csdn.net/asdasdde/article/details/116268964">C++â€”â€”Lambdaå‡½æ•°_c++ lambdaå‡½æ•°_å‹¿åœ¨æµ®æ²™ç¯‰é«˜è‡ºçš„åšå®¢-CSDNåšå®¢</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> CPP </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Json11 C++ ç”¨æ³•æ€»ç»“</title>
      <link href="/Code/CPP/Json11/"/>
      <url>/Code/CPP/Json11/</url>
      
        <content type="html"><![CDATA[<p>[toc]</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">std::string strMsg =</span><br><span class="line"><span class="string">R&quot;(&#123;</span></span><br><span class="line"><span class="string">  &quot;user&quot; :&quot;test&quot;,</span></span><br><span class="line"><span class="string">  &quot;status&quot;:&quot;login&quot;,  //ç™»å½•çŠ¶æ€ï¼šloginã€logout</span></span><br><span class="line"><span class="string">  &quot;result&quot;:&quot;1&quot;,      //ç™»å½•å’Œç™»å‡ºç»“æœï¼Œ1è¡¨ç¤ºæˆåŠŸï¼Œ0è¡¨ç¤ºå¤±è´¥</span></span><br><span class="line"><span class="string">  &quot;reason&quot;:&quot;&quot;, //åŸå› ï¼Œæ¯”å¦‚è¶…æ—¶é€€å‡ºï¼Œå‡†å…¥ç­–ç•¥é™åˆ¶å¯¼è‡´ç™»å½•å¤±è´¥ç­‰</span></span><br><span class="line"><span class="string">  &quot;token&quot;:&quot;xxx&quot;      //tokenå†…å®¹</span></span><br><span class="line"><span class="string">&#125;)&quot;</span>;</span><br><span class="line"></span><br><span class="line">    std::string strMsg_empty = <span class="string">&quot;&quot;</span>;</span><br><span class="line">    Json::object jstest = Json::object&#123;&#125;;</span><br><span class="line">    string err;</span><br><span class="line">    <span class="type">const</span> <span class="keyword">auto</span> json = Json::<span class="built_in">parse</span>(strMsg_empty, err, JsonParse::COMMENTS);</span><br><span class="line"></span><br><span class="line">    jstest[<span class="string">&quot;msgtype&quot;</span>] = <span class="string">&quot;test&quot;</span>;</span><br><span class="line">    jstest[<span class="string">&quot;data&quot;</span>] = (json);</span><br><span class="line"></span><br><span class="line">    Json json1 = <span class="built_in">Json</span>(jstest);</span><br><span class="line">    std::cout &lt;&lt; json1.<span class="built_in">dump</span>();</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> Json obj = Json::<span class="built_in">object</span>(&#123;</span><br><span class="line">&#123; <span class="string">&quot;msgtype&quot;</span>, <span class="string">&quot;TEST&quot;</span> &#125;,</span><br><span class="line">&#123; <span class="string">&quot;data&quot;</span>, json &#125;,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">    std::cout &lt;&lt; obj.<span class="built_in">dump</span>() &lt;&lt; std::endl;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> CPP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C++ </tag>
            
            <tag> Json </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Gotoç”¨æ³•æ•´ç†</title>
      <link href="/Code/C/goto%E5%A6%99%E7%94%A8/"/>
      <url>/Code/C/goto%E5%A6%99%E7%94%A8/</url>
      
        <content type="html"><![CDATA[<blockquote><p>å½“ä¸€ä¸ªæ¡ä»¶ä¸æ»¡è¶³ï¼Œå‡½æ•°è¦é€€å‡ºæ—¶ï¼Œå·²ç»ç”³è¯·çš„å†…å­˜æ²¡æœ‰é‡Šæ”¾ï¼Œä½†æ˜¯åˆéœ€è¦returnçš„æƒ…å†µä¸‹ï¼Œå¯ä»¥ä½¿ç”¨goto</p></blockquote><p>ä»¥ä¸‹è¾¹çš„å‡½æ•°ä¸ºä¾‹ï¼Œåœ¨åˆ¤æ–­<code>if(pRet[i] == NULL)</code>æ—¶ï¼Œå¦‚æœä¸ºç©ºæ—¶ï¼Œå¦‚æœç›´æ¥<code>return</code>çš„è¯ï¼Œé‚£ä¹ˆå·²ç»ç”³è¯·å†…å­˜çš„<code>pRet</code>åˆ™æˆäº†æµæµªå„¿ï¼Œæœªèƒ½å®Œå…¨é‡Šæ”¾ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹å°±å¯ä»¥ä½¿ç”¨<code>return</code>è¯­å¥ç›´æ¥è°ƒåˆ°ç¨‹åºçš„æœ«å°¾å»æ‰§è¡Œé‡Šæ”¾çš„æ“ä½œã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">/*</span></span><br><span class="line"><span class="comment"> * @fn          Merge</span></span><br><span class="line"><span class="comment"> * @brief       æ ¹æ®è¾“å…¥çš„intå˜é‡æ±‚å…¶å¯¹åº”çš„hashå€¼   </span></span><br><span class="line"><span class="comment"> * @param[in]   intervals: éœ€è¦åˆå¹¶çš„æ•°ç»„</span></span><br><span class="line"><span class="comment">intervalsSize: éœ€è¦åˆå¹¶çš„æ•°ç»„çš„å¤§å°</span></span><br><span class="line"><span class="comment">intervalsColSize: éœ€è¦åˆå¹¶çš„æ•°ç»„çš„æ•°é‡</span></span><br><span class="line"><span class="comment"> * @param[out]returnSize: åˆå¹¶åŒºé—´åæ•°ç»„çš„å¤§å°</span></span><br><span class="line"><span class="comment">returncolumnSizes: åˆå¹¶åŒºé—´åæ•°ç»„çš„æ•°é‡</span></span><br><span class="line"><span class="comment"> * @return       int: æ ¹æ®å“ˆå¸Œç”Ÿæˆçš„keyå€¼</span></span><br><span class="line"><span class="comment"> *               </span></span><br><span class="line"><span class="comment"> * @detail      </span></span><br><span class="line"><span class="comment"> * @date         2021-7-20</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="type">int</span>** <span class="title function_">Merge</span><span class="params">(_In_ <span class="type">int</span>** intervals, _In_ <span class="type">int</span> intervalsSize, _In_ <span class="type">int</span>* intervalsColSize,</span></span><br><span class="line"><span class="params">_Out_ <span class="type">int</span>* returnSize, _Out_ <span class="type">int</span>** returnColumnSizes)</span></span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¦‚æœåªæœ‰ä¸€ä¸ªåŒºé—´ï¼Œç›´æ¥è¿”å› <span class="doctag">TODO:</span>æœ‰å¿…è¦çš„æƒ…å†µä¸‹-ã€‹ç”³è¯·å†…å­˜</span></span><br><span class="line"><span class="keyword">if</span>(intervalsSize == <span class="number">1</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span> intervals;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> nItem = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç¬¬ä¸€ä¸ªå…ƒç´ ä»å°åˆ°å¤§æ’åºï¼›å¦‚æœç¬¬ä¸€ä¸ªå…ƒç´ ç›¸ç­‰ï¼Œåˆ™æ ¹æ®ç¬¬äºŒä¸ªå…ƒç´ ä»å°åˆ°å¤§æ’åº</span></span><br><span class="line">    qsort(intervals, intervalsSize, <span class="keyword">sizeof</span>(<span class="type">int</span> *), Compare);</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> **pRet = (<span class="type">int</span>**)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="type">int</span>*)*ARRSIZE_MAX_N);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(pRet == <span class="literal">NULL</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å®šä¹‰è¿”å›æŒ‡é’ˆ</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>; i&lt;intervalsSize; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        pRet[i] = (<span class="type">int</span>*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="type">int</span>)*intervalsColSize[<span class="number">0</span>]);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(pRet[i] == <span class="literal">NULL</span>)</span><br><span class="line">        &#123;</span><br><span class="line">-<span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">+<span class="keyword">goto</span> END;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">memset</span>(pRet[i],<span class="number">0</span>,<span class="keyword">sizeof</span>(<span class="type">int</span>)*intervalsColSize[<span class="number">0</span>]);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å…ˆå°†ç¬¬ä¸€ä¸ªåŒºé—´å­˜å…¥</span></span><br><span class="line">    pRet[nItem][<span class="number">0</span>] = intervals[<span class="number">0</span>][<span class="number">0</span>];</span><br><span class="line">    pRet[nItem][<span class="number">1</span>] = intervals[<span class="number">0</span>][<span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">    <span class="comment">//éå†åˆå¹¶åˆ°pRet</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>; i &lt; intervalsSize; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// å½“å‰åŒºé—´èµ·ç‚¹å°äºåˆå¹¶åŒºé—´ç»ˆç‚¹-ã€‹è¦†ç›–</span></span><br><span class="line">        <span class="keyword">if</span>(intervals[i][<span class="number">0</span>] &lt;= pRet[nItem][<span class="number">1</span>] &amp;&amp; intervals[i][<span class="number">1</span>] &gt;= pRet[nItem][<span class="number">1</span>])</span><br><span class="line">        &#123;</span><br><span class="line">            pRet[nItem][<span class="number">1</span>] = intervals[i][<span class="number">1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// å½“å‰åŒºé—´çš„èµ·ç‚¹å¤§äºåˆå¹¶åŒºé—´çš„ç»ˆç‚¹-ã€‹ä¸‹ä¸€èŠ‚ç‚¹</span></span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(intervals[i][<span class="number">0</span>] &gt; pRet[nItem][<span class="number">1</span>])</span><br><span class="line">        &#123;</span><br><span class="line">            (nItem)++;</span><br><span class="line">            pRet[nItem][<span class="number">0</span>] = intervals[i][<span class="number">0</span>];</span><br><span class="line">            pRet[nItem][<span class="number">1</span>] = intervals[i][<span class="number">1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¿”å›ç»“æœ</span></span><br><span class="line">    *returnSize = nItem + <span class="number">1</span>;</span><br><span class="line">    *returnColumnSizes = intervalsColSize;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> pRet;</span><br><span class="line"><span class="comment">// Issue</span></span><br><span class="line">+END:</span><br><span class="line">+<span class="built_in">free</span>(pRet);</span><br><span class="line">+<span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> C </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>C++å†…å­˜åˆ†é…</title>
      <link href="/Code/CPP/C++%E5%86%85%E5%AD%98%E5%88%86%E9%85%8D/"/>
      <url>/Code/CPP/C++%E5%86%85%E5%AD%98%E5%88%86%E9%85%8D/</url>
      
        <content type="html"><![CDATA[<blockquote><p>C++ ç¨‹åºè¿è¡ŒæœŸé—´å†…å­˜åˆ†é…æ•´ç†</p></blockquote><p>[toc]</p><h1 id="new-å†…å­˜åˆ†é…"><a href="#new-å†…å­˜åˆ†é…" class="headerlink" title="new å†…å­˜åˆ†é…"></a>new å†…å­˜åˆ†é…</h1><p>åœ¨C++ä¸­ï¼Œä½¿ç”¨<code>new</code>å…³é”®å­—åˆ†é…çš„å†…å­˜æ˜¯åœ¨è™šæ‹Ÿå†…å­˜ä¸­ã€‚è™šæ‹Ÿå†…å­˜æ˜¯ä¸€ç§æŠ½è±¡æ¦‚å¿µï¼Œå®ƒå…è®¸ç¨‹åºä»¥è¿ç»­ä¸”å›ºå®šå¤§å°çš„å†…å­˜åœ°å€ç©ºé—´è¿è¡Œï¼Œè€Œä¸ç®¡ç‰©ç†å†…å­˜çš„å®é™…é…ç½®å¦‚ä½•ã€‚</p><p>å½“ä½ ä½¿ç”¨<code>new</code>åœ¨C++ä¸­åˆ›å»ºä¸€ä¸ªå¯¹è±¡æˆ–æ•°ç»„æ—¶ï¼Œå†…å­˜ç®¡ç†å™¨ä¼šåœ¨å †å†…å­˜ä¸­åˆ†é…ä¸€å—ç©ºé—´ï¼Œå¹¶è¿”å›æŒ‡å‘è¿™å—ç©ºé—´çš„æŒ‡é’ˆã€‚å³ä½¿è¿™å—ç©ºé—´è¶…å‡ºäº†ç¨‹åºå½“å‰çš„å®é™…ç‰©ç†å†…å­˜ï¼Œæ“ä½œç³»ç»Ÿä¹Ÿä¼šé€šè¿‡é¡µé¢è°ƒåº¦å’Œå†…å­˜æ˜ å°„æœºåˆ¶æ¥ç¡®ä¿ç¨‹åºçš„æ­£ç¡®è¿è¡Œã€‚</p><p>å› æ­¤ï¼Œä½¿ç”¨<code>new</code>åˆ†é…çš„å†…å­˜æ˜¯åœ¨è™šæ‹Ÿå†…å­˜ä¸­ï¼Œä½†æ“ä½œç³»ç»Ÿä¼šæ ¹æ®ç‰©ç†å†…å­˜çš„å®é™…é…ç½®è¿›è¡Œç®¡ç†ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> CPP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C++ </tag>
            
            <tag> å†…å­˜åˆ†é… </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
